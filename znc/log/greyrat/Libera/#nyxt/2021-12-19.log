[00:10:38] <qhong> just added an even more improved version that give bonus to continuous match, but maybe it's already premature optimizing
[00:11:27] <qhong> these works well for me when doing M-x and C-x b etc. But I still don't quite get the point of describe function. What functions it is listing? It's definitely not listing every functions in the Lisp image...
[00:12:06] <qhong> Still can't quite use describe-function to find what I want yet, not sure if it is the command's own limitation or my scoring algorithm doesn't work well on the dataset
[00:17:45] <waleee> M-x should list every def-command
[00:18:39] <waleee> err, I meant define-command
[00:18:54] <qhong> yes M-x works pretty well, but C-h f doesn't seem to list every functions as Emacs does
[00:19:03] <qhong> and dunno how to find functions I want
[00:26:01] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 268 seconds)
[00:42:50] *** Parts: Plazma (~Plazma@user/plazma) (Igloo IRC: https://iglooirc.com)
[01:04:45] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[01:12:04] <aartaka> qhong: describe-function only lists exported functions from the nyxt package. I remember posting a more universal function looking up a wider set of packages on our forum some two months ago.
[01:36:34] <qhong> aartaka: nice, found it. I think you need to also exclude keyword from variables though, as they are technically boundp, but not really conceptually variables and clutters a lot
[01:36:43] <qhong> also noob question: how to switch source in promtper?
[01:41:31] <waleee> ctrl-n/ctrl-p with vim bindings
[01:41:50] <qhong> hmm under emacs they are up and down
[01:42:07] <aartaka> qhong: Yes, the note on keywords is reasonable :)
[01:42:37] <aartaka> qhong: switching source was something like `C-[`.
[01:43:01] <aartaka> (In Emacs mode, I mean.)
[01:44:02] <waleee> qhong: ops, indeed it's the same with the vim-bindings I think, it's easy to forget since it do switch to the next for set-url (unless you have entered some chars)
[01:45:02] <aartaka> * it's `M-[` and `M-]` in Emacs.
[01:45:10] <waleee> (J/K for vim)
[01:45:46] <qhong> hmm somehow M-[ and M-] let me scroll to top/bottom for me
[01:46:12] <qhong> ah wait, it does the right thing, just the position selection is also somehow changed
[01:46:42] <qhong> also there seems to be lots of duplicated entries
[01:46:46] <qhong> (for describe-all)
[01:49:22] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 256 seconds)
[01:51:58] <qhong> Got it working https://gist.github.com/BlueFlo0d/1e0cd7b0ec051f1a226182d0f001fbd0
[01:54:37] *** Quits: shka (~herr@109.231.0.226) (Ping timeout: 240 seconds)
[01:54:53] <qhong> But I think maybe instead we could just make the built-in describe-* consider more packages, rather than introducing an describe-all
[01:55:22] <qhong> and if we want describe-all afterwards it could just be a thin wrapper over the upgraded describe-*. This looks more modular to me
[02:45:24] <Kabouik> Re: flex2.lisp > Awesome thanks qhong. Works great!
[02:52:51] <Kabouik> I don't understand what "switching sources in prompter" is, and c-n/c-p in vim bindings don't seem to du much for me. I feel like I'm missing something.
[03:03:21] *** Quits: toon_ (~toon_@gateway/tor-sasl/toon/x-19766060) (Ping timeout: 276 seconds)
[03:05:49] <qhong> It's similar to helm multiple sources. If you're not familiar with helm, in Nyxt it's basically a prompter with multiple tabs, and "switching sources" is just switching tabs. Seems that most prompter commands currently have only single source anyway so it doesn't matter
[03:11:03] <waleee> Kabouik: it's shift+j/shift+k, but you get the same behaviour for set-url with ctrl+n/ctrl+p (for switching between "New url or query" and "History") unless you have entered part of an url
[03:17:01] *** Quits: Jing_ (~hedgehog@2604:a840:3::103e) (Remote host closed the connection)
[03:17:34] *** Joins: Jing (~hedgehog@2604:a840:3::103e)
[03:32:39] *** Quits: irfus (~Irfus@user/irfus) (Quit: Welp.)
[03:32:52] *** Joins: irfus (~Irfus@user/irfus)
[03:33:00] <Kabouik> I'm confused, shift+j/k just types J or K in theprompt-buffer input, and c-n/c-p do nothing in the set-url view
[03:34:54] <waleee> sounds like insert-mode is enabled then?
[03:35:25] <waleee> but c-n/c-p should work
[03:35:49] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Quit: WeeChat 3.3)
[03:36:16] *** Joins: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4)
[03:36:32] <waleee> (accidentally killed the wrong window)
[03:37:10] <waleee> Kabouik: they also only work in vi-normal-mode
[03:41:43] <waleee> s/work/are only bound to that action/
[03:54:25] <lagash> One action missing from input-edit mode is something akin to Emacs' kill-line - I'm just not sure about implementing it myself, because I'm not sure if something akin to a kill ring would be added to Nyxt..
[04:08:24] <lagash> Also Emacs' beginning-of-line, which is typically bound to C-a, which is unfortunate, because that's the "select all" shortcut typically.. I'm assuming I could override that, at least, within input-edit mode??
[04:21:00] <qhong> ah input-edit is missing a lot in my experience
[04:21:09] <qhong> do we have forward/backward-word?
[04:21:28] <qhong> also zap-to-char
[04:23:48] <qhong> also need a good way to navigate in larger ranges, I typically use C-s in Emacs
[04:29:43] <lagash> qhong: at that point, I'd rather have it open in Emacs...
[04:30:20] <lagash> also cursor-forwards-word / cursor-backwards-word should cover it for ya :)
[04:31:27] *** Quits: taiju (~taiju@M014013236064.v4.enabler.ne.jp) (Ping timeout: 268 seconds)
[04:45:18] <qhong> lagash: Maybe for now, but I hope someday Nyxt can completely replace Emacs
[04:45:38] <qhong> Emacs is actually quite UNIXy (unstructured text centric) and is growing more and more UNIXy...
[04:47:59] <qhong> ha, *-word is supposed to bind to the same keys as Emacs. thank you lagash. somehow they doesn't work on my instance though
[05:01:23] <qhong> Somehow M-f/M-b is bound to history-forwards/backwards-query in lisp repl
[05:01:33] <qhong> is lisp repl not using input-edit in the prompt?
[05:02:28] <qhong> also I think it's in general very confusing to let those frequent key binding C/M-fbnp do something "functional" outside of input-edit-mode
[05:02:52] <qhong> In Emacs they would probably be prefixed, or moved to super modifier
[05:07:37] *** Joins: taiju (~taiju@M014013236064.v4.enabler.ne.jp)
[05:17:46] *** Quits: tekakutli (~user@201.141.29.30) (Remote host closed the connection)
[05:43:46] *** Quits: rotateq (~user@p200300e787097300818cd04b4ea1a4f3.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[05:51:25] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 240 seconds)
[06:21:42] *** Parts: pranavats (3fba1d1b34@jabberfr.org) (Error from remote client)
[06:34:11] *** Joins: pranavats (3fba1d1b34@jabberfr.org)
[09:38:22] *** Joins: tekakutli (~user@201.141.29.30)
[10:27:57] *** Quits: taiju (~taiju@M014013236064.v4.enabler.ne.jp) (Ping timeout: 240 seconds)
[10:34:33] *** Joins: taiju (~taiju@240b:253:ec40:2400:bd6b:dfac:c8bb:c6d4)
[11:28:09] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[12:24:54] *** Joins: shka (~herr@109.231.0.226)
[12:40:33] *** Quits: ano (~ano@user/ano) (Ping timeout: 276 seconds)
[12:42:51] *** Joins: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4)
[12:43:46] *** Joins: rotateq (~user@p200300e787097300818cd04b4ea1a4f3.dip0.t-ipconnect.de)
[13:08:05] *** Joins: kkll (~kkll@45.32.137.42)
[13:08:27] *** Quits: kkll (~kkll@45.32.137.42) (Client Quit)
[13:55:54] *** Joins: qhong_ (~qhong_@DN200ouoe.stanford.edu)
[13:56:19] *** Quits: qhong_ (~qhong_@DN200ouoe.stanford.edu) (Client Quit)
[14:02:25] <Kabouik> waleee, seems shift-j/shift-k and c-p/c-n both work but only in Normal mode. I believe the latter should work in insert too.
[14:03:25] <Kabouik> lagash, I recently reported the missing keys for kill line, go to beginning, etc., and aartaka implemented some keys for Vi mode
[14:03:30] <Kabouik> Not sure about emacs
[14:04:13] *** Quits: tekakutli (~user@201.141.29.30) (Remote host closed the connection)
[14:08:43] <Kabouik> aartaka also added forward-(char|word) and backward-(char|word)
[14:13:01] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 240 seconds)
[14:15:20] *** Joins: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4)
[14:19:58] <Kabouik> Hum, trying to upgrade Nyxt on another machine running Debian:
[14:19:58] <Kabouik> Unhandled MISSING-DEPENDENCY in thread #<SB-THREAD:THREAD "main thread" RUNNING {1005972393}>: Component "cffi-toolchain" not found, required by NIL
[14:20:08] <Kabouik> What dependency provides cffi-toolchain?
[14:20:13] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 240 seconds)
[14:20:28] <Kabouik> Nyxt used to build fine on that device so I assume it's a new dependency
[14:23:37] <waleee> it probably happened with this or one of the earlier commits https://github.com/atlas-engineer/nyxt/commit/3abc46922c213d327de12f0c352a653d01b7e89f
[14:24:18] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[14:27:27] <Kabouik> Hum indeed waleee, but I can't find what package I'm missing. It doesn't seem to be cl-cffi
[14:27:59] <aartaka> qhong: what version are you at? I'm running some 3 commits behind master, both M-[ and M-] work just fine.
[14:28:15] <waleee> Kabouik: https://github.com/cffi/cffi/search?q=cffi-toolchain
[14:28:54] <waleee> for fun it doesn't use the cl- prefix
[14:30:15] <Kabouik> I was compiling using the makefile so far, I have to learn how to build with lisp I guess
[14:31:06] <aartaka> Kabouik: you can simply look at the Makefile -- it's all lisp here :)
[14:33:09] <Kabouik> It's not clear to me yet how to solve the cffi-toolchain dependency issue so I'm blocked one step before compilation anyway
[14:33:20] <Kabouik> I just used to git pull && make all
[14:34:35] <waleee> I'd guess it's not actually about a missing cffi-toolchain.asd
[14:36:40] <waleee> rather I'd bet on  (uiop:find-symbol* :*cc* :cffi-toolchain) being nil
[14:38:37] <Kabouik> My issue is I don't understand what I have to do when you start speaking in common-lisp :>
[14:38:52] <waleee> https://github.com/atlas-engineer/nyxt/blob/master/nyxt.asd#L642
[14:40:51] <waleee> aartaka: uhm. Doesn't the defsystem for nyxt/web-extensions need to have cffi or serapeum in a :depends-on ?
[14:41:08] <Kabouik> I have that line waleee because I just pulled master
[14:43:13] <aartaka> waleee: yes, that could be it.
[14:44:38] <aartaka> If adding a :depends-on clause resolves it for you, I can add it or accept your PR (as I'm not near my machine atm).
[14:46:22] <aartaka> waleee: in case of cffi-toolchain:*cc* being nil, we use gcc. Should work fine unless you have no gcc.
[14:48:43] <Kabouik> Weird, I have gc
[14:48:45] <Kabouik> gcc
[14:49:21] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 268 seconds)
[14:51:10] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[15:00:23] <Kabouik> I'm trying with `:depends-on` instead of `:defsystem-depends-on` on L614. I don't really know what I'm doing but at least compilation doesn't fail as early (still ongoing).
[15:06:24] <Kabouik> Yup, that worked. Thanks waleee, aartaka. I hope I understood well what I had to change and have not created other issues. I can submit a PR if you prefer that but will wait for confirmation first.
[15:06:40] *** Quits: someonewithpc (~someonewi@a94-132-138-99.cpe.netcabo.pt) (Ping timeout: 256 seconds)
[15:08:45] *** Joins: someonewithpc (~someonewi@a94-132-138-99.cpe.netcabo.pt)
[15:29:25] *** Parts: pranavats (3fba1d1b34@jabberfr.org) (Error from remote client)
[15:32:05] *** Joins: pranavats (3fba1d1b34@jabberfr.org)
[15:54:53] <Kabouik> Hum but I now have issues with touch input: my touch inputs are detected and the cursoe shows where I click, hyperlinks are highlighted, but Nyxt doesn't register a click. That's new, I didn't have that issue before.
[16:03:28] *** Joins: ano (~ano@user/ano)
[16:15:08] <waleee> Kabouik: nyxt -vvv doesn't output anything when you click a mouse button?
[16:32:39] <Kabouik> It does waleee: <DEBUG> [14:02:15] nyxt input.lisp (dispatch-input-event) - Forward generated event "button1"
[16:32:45] <Kabouik> But it won't follow the link
[16:33:14] <Kabouik> I am on the phone, I haven't tried if the same would happen with a mouse
[17:09:19] <Kabouik> Same issue with touch scrolling, doesn't work anymore
[17:10:09] <Kabouik> Note that I upgraded libwebkit today, so perhaps this is a libwebkit issue actually. But I hope not because in that case I reckon it won't be fixed soon
[17:10:32] <Kabouik> That's probably libwebkit actually.
[17:12:48] <Kabouik> Works in Epiphany though
[17:13:20] *** Quits: ynakao (~ynakao@user/ynakao) (Quit: WeeChat 3.3)
[17:14:20] *** Joins: ynakao (~ynakao@user/ynakao)
[17:48:48] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 268 seconds)
[17:52:52] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[17:56:18] *** Joins: tekakutli (~user@201.141.29.30)
[18:04:27] <aartaka> Kabouik: Do you use VI mode?
[18:06:06] <aartaka> Kabouik,waleee: :depends-on fix is on master :D
[18:16:58] <waleee> is :defsystem-depends-on supposed to work also?
[18:20:27] <aartaka> waleee: Well, those two are overlapping and that's why I was confused about which one to use. :depends-on usually means that the system you define depends on listed systems, while :defsystem-depends-on means that the code inside `defsystem` will use the listed systems. In case of the compilation code, it wasn't clear which to pick :)
[18:21:11] <aartaka> But it seems that compilation instructions rely on :depends-on counter-intuitively (:
[18:31:46] *** Joins: gdd (~gdd@129.199.146.230)
[18:44:59] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.3)
[18:50:33] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[19:19:16] <Kabouik> I use vi-mode yes aartaka.
[19:20:41] <Kabouik> But the issue is not really with keybinds, just touch input (and maybe all input, but I don't have a pc at hand to confirm with a mouse). Sadly I did upgrade Nyxt and libwebkit2-gtk at the same time today so I can't isolate what caused it, but other Webkit-based browser still work as they used to.
[19:30:57] *** Quits: taiju (~taiju@240b:253:ec40:2400:bd6b:dfac:c8bb:c6d4) (Ping timeout: 240 seconds)
[19:32:17] *** Joins: taiju (~taiju@M014013236064.v4.enabler.ne.jp)
[20:00:04] *** Quits: tekakutli (~user@201.141.29.30) (Remote host closed the connection)
[20:30:14] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 256 seconds)
[20:52:53] *** Quits: ano (~ano@user/ano) (Quit: ano)
[21:05:08] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[21:24:07] *** Joins: ano (~ano@user/ano)
[22:07:45] *** Joins: Jing_ (~hedgehog@2604:a840:3::103b)
[22:09:57] *** Quits: Jing (~hedgehog@2604:a840:3::103e) (Ping timeout: 240 seconds)
[22:41:02] *** Quits: pjb (~pjb@user/pjb) (Remote host closed the connection)
[22:43:20] *** Joins: pjb (~pjb@user/pjb)
[22:49:04] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 256 seconds)
[22:53:23] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[23:31:34] *** Quits: shka (~herr@109.231.0.226) (Ping timeout: 256 seconds)
[23:56:56] *** Quits: pjb (~pjb@user/pjb) (Remote host closed the connection)
