[00:13:34] *** Joins: aknot (~aknot@2603:900a:1503:17bb:44f4:fc73:2249:19af)
[00:39:47] *** Joins: nwulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[00:41:15] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 256 seconds)
[01:28:55] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[01:40:29] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[01:40:32] *** Quits: xkoncek (xkoncek@lounge.fi.muni.cz) (Ping timeout: 268 seconds)
[01:40:41] *** Quits: Jong (~Jong@184-99-74-148.boid.qwest.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[01:40:58] *** Joins: xkoncek (xkoncek@lounge.fi.muni.cz)
[01:43:59] *** Quits: dreamon (~dreamon@pd95035d1.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[02:11:17] *** Quits: aknot (~aknot@2603:900a:1503:17bb:44f4:fc73:2249:19af) (Ping timeout: 240 seconds)
[02:13:06] *** Joins: MBrod208 (MBrod208@pool-72-94-148-71.phlapa.fios.verizon.net)
[02:15:01] *** Quits: dthpulse (~quassel@podciarou.sk) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[02:16:08] *** Joins: dthpulse (~quassel@podciarou.sk)
[02:47:37] *** Quits: MBrod208 (MBrod208@pool-72-94-148-71.phlapa.fios.verizon.net) (Ping timeout: 240 seconds)
[03:12:00] *** Joins: ferdna (~ferdna@user/ferdna)
[03:12:41] *** Joins: Jong (~Jong@184-99-74-148.boid.qwest.net)
[03:49:30] *** Quits: AmR (~AmREiSa@156.199.47.115) (Quit: Konversation terminated!)
[04:31:36] *** Quits: califax (~califax@user/califx) (Remote host closed the connection)
[04:37:04] *** jaix is now known as Guest6956
[04:37:04] *** Joins: jaix` (~jaix@user/jaix)
[04:37:04] *** Quits: Guest6956 (~jaix@user/jaix) (Killed (silver.libera.chat (Nickname regained by services)))
[04:37:04] *** jaix` is now known as jaix
[05:53:52] *** Quits: jaix (~jaix@user/jaix) (Quit: Leaving)
[06:08:40] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[06:19:55] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[06:19:57] *** Joins: AmR (~AmREiSa@156.199.47.115)
[06:24:45] *** Joins: aknot (~aknot@2603:900a:1503:17bb:e727:5c27:daf7:85a1)
[07:06:27] *** Quits: de-facto (~de-facto@user/de-facto) (Quit: See you around. ðŸ’¤)
[07:07:52] *** Joins: de-facto (~de-facto@user/de-facto)
[07:12:36] *** Quits: aknot (~aknot@2603:900a:1503:17bb:e727:5c27:daf7:85a1) (Ping timeout: 240 seconds)
[07:18:17] *** Quits: AmR (~AmREiSa@156.199.47.115) (Quit: Konversation terminated!)
[07:22:33] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) ()
[07:23:18] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[08:04:20] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[08:07:07] *** Joins: k8yun (~k8yun@user/k8yun)
[09:23:47] *** Joins: k8yun_ (~k8yun@user/k8yun)
[09:24:56] *** Quits: ttree (~ttree0@c-73-97-116-42.hsd1.wa.comcast.net) (Ping timeout: 245 seconds)
[09:27:00] *** Quits: k8yun (~k8yun@user/k8yun) (Ping timeout: 240 seconds)
[10:52:15] *** Quits: de-facto (~de-facto@user/de-facto) (Ping timeout: 240 seconds)
[10:52:54] *** Joins: de-facto (~de-facto@user/de-facto)
[11:34:22] *** Joins: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de)
[12:34:28] *** Quits: k8yun_ (~k8yun@user/k8yun) (Quit: Leaving)
[12:55:08] *** Joins: revoltingPeasant (~joe@46.7.172.98)
[16:24:11] *** Quits: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de) (Ping timeout: 256 seconds)
[16:55:27] *** Joins: MBrod208 (MBrod208@pool-72-94-148-71.phlapa.fios.verizon.net)
[17:08:00] *** Joins: aknot (~aknot@2603:900a:1503:17bb:7f44:3134:db00:972d)
[18:05:17] *** Quits: aknot (~aknot@2603:900a:1503:17bb:7f44:3134:db00:972d) (Ping timeout: 240 seconds)
[18:21:24] *** Joins: jringstad__ (~Amadiro@31.11.55.179)
[18:23:41] *** Quits: Amadiro (~Amadiro@31.11.55.179) (Ping timeout: 245 seconds)
[18:23:57] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[18:24:45] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Remote host closed the connection)
[18:25:10] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[18:28:40] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[18:35:21] *** Joins: exarkun (~exarkun@user/exarkun)
[18:41:42] <exarkun> Using SQLite3 from Python, I see different behavior of floats round-tripping through `.dump` between Linux and Windows.  I understand that floating point values behave contrary to most people's expectations and that SQLite3 can't and doesn't do anything to improve upon the approximations that accomodate using binary floating point representation for values typically interacted with using decimal.
[18:43:23] <exarkun> That said, I don't understand exactly where the behavior diverges from my expectations.  If I insert a floating point value into SQLite3 and then select it out - without doing any operations on it - why isn't it necessarily the same value?
[18:43:45] <Habbie> because floating point storage cannot exactly represent many values
[18:44:18] <exarkun> I agree that this is true.  How does it explain the behavior though?
[18:44:53] <exarkun> To clarify, I start out with a Python float object which I believe must be a value which floating point can exactly represent - because it is a floating point representation of a value.
[18:45:20] <Habbie> maybe this is easier if you show us
[18:47:01] <exarkun> I can try
[19:05:49] *** Joins: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de)
[19:11:31] <exarkun> I think this demonstrates the case - https://gist.github.com/exarkun/e7827d73d8620fb2cd341ca13ae75a64
[19:11:58] <exarkun> On Linux, the assertion succeeds.  On Windows, it fails.
[19:12:57] <Habbie> what's in the database?
[19:13:00] <exarkun> (I haven't figured out how to copy text from my Windows VM yet)
[19:13:21] <exarkun> Habbie: Only what's shown there
[19:13:29] <Habbie> i don't see it
[19:13:47] <Habbie> oh wait
[19:14:01] <Habbie> you mean the assert at 16?
[19:14:01] <exarkun> just lines 10 and 11 (I see some formatting got screwed up earlier though)
[19:14:12] <exarkun> ah yes sorry
[19:14:33] <exarkun> the assert on line 9 passes in both environments
[19:14:39] <Habbie> ok
[19:14:49] <Habbie> uh
[19:15:03] <Habbie> ok, let me take this step by step
[19:15:09] <Habbie> somevalue is initialized from a hex flaot
[19:15:11] <Habbie> *float
[19:15:28] <Habbie> you put this into a SELECT, no tables etc., and it comes back clean
[19:15:30] <Habbie> so far so good
[19:15:32] <Habbie> yes?
[19:15:45] <exarkun> yes
[19:16:04] <Habbie> then you make a table, and insert it
[19:16:24] <Habbie> i guess i don't know what line 14 does :)
[19:16:56] <exarkun> I fixed some formatting higher up and I think line numbers changed, can you reload and check the number?
[19:17:05] <Habbie> ah, better
[19:17:43] <Habbie> ok
[19:17:46] <Habbie> it passes on my linux too
[19:17:53] <Habbie> print(list(c.iterdump()))
[19:17:55] <Habbie> and c2
[19:17:57] <Habbie> from the windows, would be interesting
[19:19:04] <Habbie> fwiw, the value is 1.31194610730744898319e-10 in the iterdumps for me
[19:19:19] <Habbie> which is a truncation
[19:20:34] <exarkun> https://ibb.co/b6DBLzP
[19:22:40] <Habbie> ok
[19:22:51] <Habbie> now, somebody smarter than me could tell you how many bits stayed intact here
[19:25:38] <exarkun> got it out as text, fwiw - https://gist.github.com/exarkun/e7827d73d8620fb2cd341ca13ae75a64
[19:26:24] <exarkun> Habbie: I am supposing that these are ... "adjacent" floating point values and two different things are disagreeing on which way to round?  but what does "which is a truncation" mean?
[19:26:40] <Habbie> i'm not sure
[19:26:58] <Habbie> turns out i only managed to improve your question
[19:27:01] <exarkun> :)
[19:27:11] <exarkun> quite a valuable thing
[19:27:28] <Habbie> :)
[19:38:58] <exarkun> It seems like Python and SQLite3 have different ideas about mantissa and exponent... Maybe?  The descriptions of Python's math.frexp() and SQLite3's ieee754() make it sound like they do the same thing.  But they give quiet different answers for these floats.
[19:40:04] <quinq> They all float down here
[20:30:55] *** Quits: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de) (Read error: Connection reset by peer)
[21:35:11] *** Joins: k8yun (~k8yun@user/k8yun)
[22:13:48] *** Quits: nwulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 240 seconds)
[22:15:29] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[23:29:22] *** Quits: k8yun (~k8yun@user/k8yun) (Quit: Leaving)
[23:36:09] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[23:37:18] *** Joins: sumthing1980 (~sumthing1@94.54.64.154)
