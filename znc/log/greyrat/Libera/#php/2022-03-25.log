[00:02:03] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[00:03:55] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[00:04:05] *** Quits: lembron (~admin@user/lembron) (Ping timeout: 250 seconds)
[00:04:52] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[00:06:07] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[00:06:45] *** Joins: lembron (~admin@user/lembron)
[00:07:20] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 272 seconds)
[00:07:35] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[00:08:17] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 240 seconds)
[00:14:29] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[00:15:36] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Client Quit)
[00:28:07] *** Quits: maroloccio (~marolocci@pousada3ja.mma.com.br) (Quit: WeeChat 3.0)
[00:33:07] *** Quits: junktext_ (~junktext@gateway/vpn/pia/junktext) (Quit: junktext_)
[00:40:43] *** Joins: junktext (~junktext@gateway/vpn/pia/junktext)
[00:41:47] <akk> Hi! I have a file that works in php 8.1.2, but in 5.2.17 I'm getting: Parse error: syntax error, unexpected '[', on this line: $mapname = pathinfo($_GET['map'])['basename'];
[00:41:47] *** Quits: wovixo (~wovixo@128.104.205.49) (Read error: Connection reset by peer)
[00:41:47] <akk> It works if I break it down into three parts: $themap = $_GET['map']; $mapinfo = pathinfo($themap); $mapname = $mapinfo['basename'];
[00:41:47] <akk> I'm curious why the shorter version doesn't work.
[00:42:13] <Sammitch> oh that's simple
[00:42:24] <Sammitch> good GOD don't use 5.2 in 2022
[00:44:13] <__adrian> akk: it's called function dereferencing. now go upgrade your php  ;)
[00:45:18] <Sammitch> I cannot understate just how much no no nonononono pls no just don't run 5.2 anywhere ever nononono
[00:45:38] *** Joins: genomc_ (uid245282@id-245282.hampstead.irccloud.com)
[00:46:28] <akk> This a website for a nonprofit, on a VM donated by a local web host, so I don't have control over versions.
[00:46:28] <akk> I could maybe ask why it's so old.
[00:46:28] *** Quits: genomc (uid245282@id-245282.hampstead.irccloud.com) (Ping timeout: 260 seconds)
[00:46:28] *** genomc_ is now known as genomc
[00:47:38] <__adrian> if you don't have control over versions, then you shouldn't be making changes.
[00:48:29] <Sammitch> simply exposing PHP 5.2 to the internet is just asking for the machine to be taken over
[00:49:26] <teresko> well, at least it is 5.2.4+ ... I think that's the version when code zero-byte code injection was fixed in string functions
[00:50:30] <__adrian> btw those facts don't map to that conclusion
[00:50:36] <Sammitch> https://www.cvedetails.com/vulnerability-list/vendor_id-74/product_id-128/version_id-405001/PHP-PHP-5.2.17.html plus probably a list 2x as long since I don't think anyone bothers reporting new vulns against something so wildly out of date and already-exploitable https://www.cvedetails.com/vulnerability-list/vendor_id-74/product_id-128/version_id-405001/PHP-PHP-5.2.17.html
[00:50:48] <akk> thanks, __adrian, I'll look up that term. And I'll ask support why php is so old. :)
[00:51:15] <Sammitch> send support that link
[00:51:23] <__adrian> less of "why so old" and more of "if you want me to fix this it needs to be updated"
[00:51:28] <teresko> because it is a non-profit and nobody care about that website
[00:51:55] <Sammitch> VM probably also vulnerable to every major linux vulne in the last decade
[00:52:11] <Sammitch> heartbleed, shellshock, the new pipe one...
[00:52:25] <teresko> I would just cut my losses and leave
[00:52:34] <__adrian> https://php.net/language.types.array ← see example #8
[00:52:44] *** Quits: PTNapivoski (~PTNapivos@179.189.133.33) (Quit: Leaving)
[00:53:21] <__adrian> it means accessing a value in a returned array directly, without assigning the return value to a variable first.
[00:53:31] <teresko> akk: unless you rally know what you are doing, upgradeing code from 5.2 to 8.1 will be a nightmare
[00:53:55] <__adrian> depends on the code, but is likely to be involved.
[00:54:16] <teresko> and I didn't get the impression that you are anything like an expert
[00:55:12] <akk> Oh, good, if there are exploits that's a really good reason to ask for a newer version. Thanks, Sammitch
[00:55:12] <Naktibalda> akk: that syntax was introduced in 5.4
[00:55:12] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: Man who run behind car get exhausted)
[00:55:14] <Sammitch> lol rude
[00:55:35] <akk> teresko: I test pretty much everything on my own machine running debian testing before I push to the server, so I don't think it will be a problem.
[00:55:46] <__adrian> good practice  :)
[00:56:04] <akk> (And it's true I'm not a PHP expert ... I use other languages more, and just know enough PHP to be dangerous :)
[00:56:25] <__adrian> and yes, that did come off as condescending :(  it is worth a word of caution, though.
[00:56:50] <teresko> you will also need to know how to upgrade the webserver (since I don't thijnk they will spring for hiring a sysadmin)
[00:58:06] <Sammitch> honestly just spin up a fresh VM and migrate the app. I would wager that anything that has 5.2 installed on it is WAY into EOL and has no repos or upgrade path anymore.
[00:58:21] <teresko> so, my advice is: unless you are going to get well paid for this (or are desperate for CV entries), I would avoid taking up that project - it will be very painful and thankless task
[00:58:59] <Sammitch> or if you are willing to donate your time in exchange for charitable tax deductions :P
[00:59:59] <akk> It's weird how web hosting services seem to prefer not to upgrade anything ever.
[00:59:59] <akk> I suppose if they kept everything updated, customers would always be complaining when things broke.
[01:00:05] <lembron> well, that took some bruteforcing, but i seem to have gotten somethign that at leats kinda works ;)  i still get "Access to an undefined property ChargeBee\ChargeBee\Models\Customer::$illegalField" (as i should) --- but $validField now works just fine, by parsing from the protected $allowed property in the class :D
[01:00:25] <Sammitch> akk: if it's a VM/VPS then _the customer_ is responsible for updates
[01:00:51] <teresko> especially if that VPS is donated
[01:01:13] <akk> It's not that sort of plan, they don't give me root access.
[01:01:39] <teresko> screw them then
[01:01:45] <Sammitch> and people tend to use the "it's a nonprofit" as an excuse to not do necessary work, eg: literally everyone that has ever looked at or touched that app in the last 10 years
[01:04:25] *** Joins: richardjh (~Thunderbi@2a02:c7f:716d:f400:30bb:a1a3:3c81:fead)
[01:04:49] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[01:04:49] <akk> In my experience nonprofits almost always go for the rock bottom hosting plan, and if hosting is donated then it's usually the rock bottom plan.
[01:05:05] <akk> But it would be nice if that included OS security updates, sigh.
[01:05:57] <teresko> of course - the money is needed to pay the salary of the director of that non-profit
[01:05:58] <akk> For another nonprofit, different hosting company, I discovered that they hadn't apt upgraded in something like 8 months
[01:06:24] <akk> tried to raise the issue, but neither the hosting company nor people at the nonprofit seemed to care
[01:08:18] <akk> and they're running wordpress, so there are probably tons of exploits by now
[01:14:28] *** Quits: magla (~gelignite@55d40a33.access.ecotel.net) (Quit: Stay safe!)
[01:17:55] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[01:19:08] <teresko> you need to pick a healther hobby
[01:27:48] *** Quits: richardjh (~Thunderbi@2a02:c7f:716d:f400:30bb:a1a3:3c81:fead) (Ping timeout: 240 seconds)
[01:29:35] *** Quits: Poboy (~Poboy@user/poboy) (Quit: Client closed)
[01:30:18] *** Joins: Poboy (~Poboy@user/poboy)
[01:30:56] *** Joins: richardjh (~Thunderbi@94.5.34.29)
[01:31:43] *** Joins: fef (~thedawn@user/thedawn)
[01:34:00] *** Joins: malmalmal (~malmalmal@38.pool92-178-53.dynamic.orange.es)
[01:48:33] *** Quits: xSavitar (~xSavitar@user/xsavitar) (Quit: Good night from Africa!)
[02:06:20] *** Quits: hh (~g@37.214.75.10) (Remote host closed the connection)
[02:12:16] *** Quits: guido (~weechat@host-95-234-253-220.retail.telecomitalia.it) (Quit: WeeChat 3.4.1)
[02:21:55] *** Quits: ||JD|| (~jd@user/jd/x-3730462) (Quit: ||JD||)
[02:23:18] *** Quits: malmalmal (~malmalmal@38.pool92-178-53.dynamic.orange.es) (Quit: Leaving)
[02:29:00] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 240 seconds)
[02:37:47] *** Quits: Poboy (~Poboy@user/poboy) (Quit: Client closed)
[02:40:13] *** Quits: l__q (~modinfo@user/modinfo) (Ping timeout: 256 seconds)
[02:41:23] *** Joins: ramblebamble (ramblebamb@gateway/vpn/protonvpn/ramblebamble)
[02:52:55] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[02:55:21] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[02:57:59] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 260 seconds)
[03:07:48] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 240 seconds)
[03:09:12] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[03:34:32] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[03:34:51] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 260 seconds)
[03:35:19] *** Joins: WishBoy (~WishBoy@user/wishboy)
[03:37:42] *** Quits: newwebdev13 (~newwebdev@78.135.91.191) (Quit: Leaving)
[03:37:44] *** Joins: Alex123 (~Adium@lib-07-subnet-138.rdns.cenic.net)
[03:39:00] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 240 seconds)
[03:40:37] *** Quits: Alex123 (~Adium@lib-07-subnet-138.rdns.cenic.net) (Read error: Connection reset by peer)
[03:51:27] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[03:52:48] *** Quits: pmercado (~pmercado@186.107.58.34) (Ping timeout: 272 seconds)
[03:54:59] <skyfall> I'm using memcached with MySQL for the first time, here I'm trying to cache binary BLOB and VARCHAR from my MySQL database. I benchmarked the scripts that use memcached and the one doesn't, but both of them produce similar results through multiple tests. Here's my memcached version: https://bpa.st/EJSQ Is there something you guys find strange in
[03:54:59] <skyfall> this code? Because I'd guess memcached version would perform a little faster since it's not querying the database. Is that because MySQL internally caches the results transparently?
[03:56:47] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 260 seconds)
[03:57:15] <skyfall> *I've benchmarked using Apache Bench, just to note.
[04:02:53] *** Quits: ramblebamble (ramblebamb@gateway/vpn/protonvpn/ramblebamble) (Quit: WeeChat 3.4.1)
[04:03:19] *** Parts: akk (~akk@75-161-61-130.albq.qwest.net) (+++)
[04:06:06] *** Quits: richardjh (~Thunderbi@94.5.34.29) (Ping timeout: 272 seconds)
[04:09:52] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[04:13:43] *** Quits: biberu (~biberu@user/biberu) (Read error: Connection reset by peer)
[04:14:10] *** Joins: biberu (~biberu@user/biberu)
[04:17:45] *** Joins: ferdna (~ferdna@user/ferdna)
[04:22:57] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 240 seconds)
[04:29:22] <Albright> skyfall: Perhaps do some logging to confirm that your cache hits are actually hits. It might be that it's always missing and falling back to the DB.
[04:30:31] <Albright> That said, the SQL query you have really isn't that complex, so I wouldn't expect Memcached to really be all that much faster than MySQL in that particular case.
[04:33:11] <Albright> Also, I'd just store $row as a single value in memcache so you only have to do one fetch and there's no chance of the values getting out of synch with each other. Like `$mem->set('img_'.$id, $row);` but I guess that'd be up to you.
[04:34:15] *** Quits: ms49434 (~ms49434@user/ms49434) (Quit: Leaving)
[04:34:56] <Albright> And just in general storing images in a database is usually frowned upon; it's faster to just have them on disk so you can use readfile() which is *very* fast - it basically sends data directly from the disk to your server's network card, not passing through the CPU or RAM or any processes (like PHP or a database daemon).
[04:35:40] *** Joins: l__q (~modinfo@user/modinfo)
[04:36:16] * Albright patiently waits to see if _/_adrian will respond with "^" and validate him
[04:36:21] <l__q> hmm, get previous row in php pdo from sqlite dosent work? SELECT login_name FROM `websites` WHERE id < :id LIMIT 1;
[04:36:33] <l__q> next row works
[04:37:01] <l__q> in prisma with postgres works fine this sql query, but not with php sqlite
[04:37:16] <l__q> is it a bug in sqlite?
[04:37:35] <Albright> l__q: That's a SQLite question, not a PHP one
[04:37:41] <__adrian> if you mean re: images in the DB, there are advantages, but there are also disadvantages and more people aren't really going to benefit
[04:38:00] <Blondie101010> 'LIMIT' is not a classic SQL statement
[04:38:01] <l__q> Albright: can I make it work with php?
[04:38:02] <skyfall> Albright: Ah, I see. I wasn't aware that we can store associate arrays like that in memcached.
[04:38:08] <Blondie101010> not a PHP problem!!!
[04:38:13] <l__q> ok
[04:38:21] <__adrian> l__q: it's not php code
[04:38:35] <Blondie101010> if sqlite is not convenient for you, use something else
[04:39:33] <__adrian> regarding that statement... i don't think it would do what you expect, but pretty sure it would "work"
[04:39:37] <Albright> l__q: Just a guess though, are there no rows with an id value less than whatever you have bound into :id ? If that value is already the lowest one in the table, you won't get a row
[04:40:02] <Blondie101010> yeah, weird statement :/
[04:40:16] <skyfall> Albright: I usually find it cumbersome to have images on disk, like I'll have to move around, permissions, bla bla bla; and 90% of persistent goes to DB anyway, so I store images on DB as LONGBLOB so that I'll just access it easily. (since I don't have any other media files like mp3 or mp4).
[04:40:23] <l__q> Albright: no, it should works, with prisma and postgress it works fine
[04:40:46] <l__q> but it always return first row
[04:41:00] * Albright looks up Prisma
[04:41:03] <__adrian> skyfall: generally, the benefits of storing images in the db don't include _serving_ them from the db.
[04:41:03] <Blondie101010> skyfall:  if your app gains in popularity, you'll regret that
[04:41:09] <skyfall> so, if i'm migrating, I'll just move the girls_image_db and it works like perfectly.
[04:41:09] <Albright> "Next-generation Node.js and TypeScript ORM" oof
[04:41:13] <Blondie101010> it's not scalable at all
[04:41:22] <l__q> prisma is super
[04:42:02] <__adrian> l__q: while it's still not a php question, i'm kinda curious as to what you mean by "doesn't work"
[04:42:24] <l__q> __adrian: it always return first row
[04:42:32] <Blondie101010> of course
[04:42:35] <__adrian> right?
[04:42:37] <Blondie101010> it's a SQL question
[04:42:43] <l__q> but with postgress works fine
[04:42:47] <__adrian> "__adrian> regarding that statement... i don't think it would do what you expect, but pretty sure it would "work""
[04:42:49] <Blondie101010> nope
[04:43:02] <Blondie101010> the result depends on what's in the table
[04:43:09] <l__q> exacly
[04:43:09] <__adrian> you're not ordering the rows. of course it would likely return the first row.
[04:43:29] <l__q> but next row works
[04:43:31] <Sammitch> SQL is not a universal language, every RDBMS implements its own variant
[04:43:44] <Blondie101010> l__q:  your SQL does not make sense
[04:43:47] <l__q> SELECT login_name FROM `websites` WHERE id > :id; LIMIT 1; // works
[04:43:51] *** Quits: Guest3qw47 (Awaru@gateway/vpn/airvpn/awaru) (Quit: Guest3qw47)
[04:43:59] <__adrian> "l__q> but next row works"  also BY COINCIDENCE
[04:44:00] <l__q> SELECT login_name FROM `websites` WHERE id < :id LIMIT 1; // works only with postgres
[04:44:03] <Blondie101010> "works" is badly defined
[04:44:09] <__adrian> order your results.
[04:44:12] <Blondie101010> they do what they're supposed to
[04:44:14] <skyfall> Albright: Don't you think I have to serialize it? Like, `$mem->set("img_".$id, serialize($row))` and `$image_blob = unserialize($mem->get("img_".$id))["bin_img"]`?
[04:44:22] *** Joins: Awaru (Awaru@gateway/vpn/airvpn/awaru)
[04:45:04] <Albright> skyfall: It looks to me like Memcache will do its own serialization.
[04:45:12] <skyfall> I see.
[04:45:18] <Albright> It's been a while since I used it but I seem to remember that being the case.
[04:45:23] <Blondie101010> skyfall:  an image is not a PHP object
[04:45:28] <Blondie101010> it's a binary string
[04:45:39] <skyfall> Yeah, binary.
[04:45:46] <Blondie101010> so no serialization
[04:45:47] <skyfall> result of LONGBLOB
[04:48:17] *** Quits: ordos (~ordos@user/ordos) (Ping timeout: 240 seconds)
[04:48:26] <Blondie101010> uhmmmm, are you storing images in memcached?
[04:48:48] <skyfall> Yeah, I store the full row.
[04:48:53] <Blondie101010> omg
[04:49:00] <Blondie101010> no wonder it doesn't perform
[04:49:10] <Sammitch> "I don't want to put images in the FS because then I'd have to write extra code to handle them properly, so I'm putting them in the DB where I have to write slightly different extra code to handle them properly."
[04:49:34] <skyfall> Blondie101010: What's wrong with storing images? It's treated as binary data anyway, right?
[04:49:36] <__adrian> how much ram does your server have
[04:49:42] <skyfall> me?
[04:49:48] * Blondie101010 nods
[04:50:03] <skyfall> 16GB dedicated server
[04:50:11] <__adrian> skyfall: storing in the db has benefits, but none are related to fetching the image and serving it to users
[04:50:14] <Albright> nice
[04:50:21] <__adrian> lol 16
[04:50:34] <Blondie101010> skyfall:  how many images in your memcache?
[04:50:47] <Blondie101010> s/in/fit in/
[04:50:56] *** Quits: Awaru (Awaru@gateway/vpn/airvpn/awaru) (Quit: Awaru)
[04:51:06] <Sammitch> any supposed benefits of storing static binary content [eg: images] in the DB are better fulfilled by using an object store/cloud bucket instead
[04:51:15] <skyfall> Blondie101010: it's under dev, but it be around few thousand images.
[04:51:35] <Blondie101010> skyfall:  I don't see any point of using memcached for that
[04:51:40] <skyfall> My Memcached RAM limit is set to 8GB
[04:51:42] <Blondie101010> it's not what it's meant for
[04:52:40] <Blondie101010> you can be 100% sure that it will be slower than in the FS
[04:52:54] <Sammitch> you could store the images on a plaiun old disk and let native OS FS caching handle frequently accessed files rather than locking up valuable RAM in memcached for it
[04:53:08] <Blondie101010> yep
[04:53:16] <Sammitch> but again, bucket. want faster? turn on a CDN.
[04:53:27] *** Joins: Awaru (Awaru@gateway/vpn/airvpn/awaru)
[04:53:33] <skyfall> My intention of using memcached is saving CPU cycles, since I thought querying DB, and doing all those stuff would be slower than getting it from a cache and serving it.
[04:53:40] <l__q> stupid question, can I use PHP on my gemini website? gemini://tilde.team/~grizzly/
[04:53:55] <Blondie101010> that's why I mentioned scalability
[04:54:21] <l__q> CGI works, also mayby PHP too?
[04:54:28] <skyfall> But memcached would resolve those ton of DB right? isn't it what it's doing?
[04:54:33] <skyfall> if there's a cache hit.
[04:54:33] <Albright> l__q: Probably a question for yoru host.
[04:54:38] <l__q> ok
[04:54:45] <l__q> sorry
[04:54:48] <Sammitch> skyfall: when you read a file, the OS reads the file into FS cache and feeds it to the application from there. if the file is frequently accessed and the OS does not demand that cache space back, then it stays in that cache
[04:55:05] <Blondie101010> l__q:  php is simply a programming language, which you can definitely use to output something other than HTML
[04:55:11] <Sammitch> something like memcached is best used to cache dynamically-generated application data
[04:55:20] <l__q> Blondie101010: thanks
[04:55:26] <Blondie101010> np
[04:55:39] <Albright> l__q: BTW, if you have an interest in Gemini, mind having a look at https://github.com/GarrettAlbright/KyuWeb and letting me know what you think? I'm currently in the process of writing a test server (in PHP).
[04:55:42] <Sammitch> if you wanted dedicated caching for static assets, then you're looking for a CDN or equivalent caching proxy
[04:56:14] <Blondie101010> and they won't be able to pull images from your memcached
[04:56:15] <l__q> Albright: wow, this is great! big thank you!
[04:56:27] <__adrian> let's clarify
[04:56:28] <__adrian> advantages of storing images in the db: *consolidates lifecycle management (e.g., deletes along with row) *transaction isolation *can rollback *consistent and cohesive backups *easier access control
[04:56:37] <__adrian> *nothing at all* to do with performance.
[04:56:55] <skyfall> Sammitch: hmm, i see. but in that case i'll be serving images from FS.
[04:57:02] <__adrian> for performance, you regularly cache those images on disk.
[04:57:30] <Blondie101010> skyfall:  the OS knows how to cache efficiently
[04:57:50] <__adrian> ^
[04:58:42] <skyfall> __adrian: my intention of using DB, like i said previously, is for convenience. and convenience only, to move around quickly, easily without too much care. and i'm trying to solve the performance issue with memcached (since i know querying DB is slower than serving it as a static from from FS).
[04:58:55] <__adrian> "move around" ?
[04:59:12] <skyfall> to make myself clear, i do understand serving static images from FS is the fastest method.
[04:59:35] <Blondie101010> there may be a need for a DB and/or memcached with the FS solution, for meta data
[04:59:35] <skyfall> __adrian: yeah, to move the images (databases in this case) around servers during migration.
[04:59:47] <__adrian> ...how often does that happen
[04:59:54] <Blondie101010> skyfall:  not easier or faster to do in a DB
[05:00:27] <__adrian> also: think more about "repeatable deployment" than "migrating servers"
[05:01:22] <Sammitch> if you're shifting applications around I would count that as another point for putting static files in an object store
[05:01:30] <__adrian> ^
[05:01:31] <skyfall> well, it's every few month. i store everything in my DB, encryption keys, images, user data, info, bla bla bla so that there's only one place to perform migration. mysqldump > backup.sql && scp backup.sql root@new_server.com:/root/backup.sql
[05:02:22] <Sammitch> also mysql dump and import workflow is not terribly reliable when you've got binary data in the mix
[05:03:22] <__adrian> seems oddly frequent in one sense and infrequent in another
[05:03:36] <__adrian> but like i said, think in terms of "reproducible deployments."
[05:03:42] <Sammitch> ^
[05:03:52] <Sammitch> something something ansible
[05:04:04] <__adrian> i.e., the "old server" should not be involved in standing up the new server.
[05:04:17] <__adrian> maybe at the end you'll have a minor sync.
[05:04:35] <skyfall> my DNS point to a central long-term reverse proxy to proxy requests to ephemeral backend servers.
[05:05:20] <skyfall> i shred the old server and reconfigure the backend on the reverse proxy and it's up and running.
[05:05:40] <Sammitch> I am now _wildly_ suspicious of what kind of service you're running
[05:05:44] <__adrian> what's the need to move servers like this?
[05:05:55] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[05:06:47] <skyfall> well, let's just say i move around the backend application servers with embedded MySQL database.
[05:06:49] <__adrian> > girls_image_db
[05:07:37] <__adrian> best case i can think of is an adult site, but doesn't want to pay for hosting that allows adult sites.
[05:07:53] <__adrian> buit that's neither here nor there. i think we've had a full discussion.
[05:07:57] <__adrian> *but
[05:08:47] <skyfall> well, like i said, it's served through reverse proxy, so i really don't worry about backend service provider's ToS on adult content.
[05:08:56] <skyfall> (it's not an adult site)
[05:09:34] <Blondie101010> their TOS stand even if they don't notice it
[05:09:42] <skyfall> since front end server's ToS is pretty solid
[05:10:04] <__adrian> regardless
[05:10:15] <__adrian> we've addressed the relevant questions, at this point
[05:10:23] <__adrian> more than.
[05:18:17] *** Joins: fef (~thedawn@user/thedawn)
[05:21:34] *** Joins: Lazenca (~lazenca@user/lazenca)
[05:22:31] *** Quits: genomc (uid245282@id-245282.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[05:25:05] *** Quits: junktext (~junktext@gateway/vpn/pia/junktext) (Ping timeout: 252 seconds)
[05:31:55] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[05:33:23] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 256 seconds)
[05:37:06] *** Joins: eddof13 (~eddof13@2806:102e:12:64:8553:23df:507a:ff04)
[05:37:58] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[05:38:09] *** Quits: Mr-Snick (mr-snick@gateway/vpn/protonvpn/mr-snick) (Ping timeout: 256 seconds)
[05:42:23] *** Quits: eddof13 (~eddof13@2806:102e:12:64:8553:23df:507a:ff04) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:47:57] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[05:50:13] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[05:52:31] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 260 seconds)
[06:02:21] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[06:03:04] *** Joins: samy1028 (~samy1028@068-184-115-031.res.spectrum.com)
[06:04:25] *** Joins: vlm (~vlm@user/vlm)
[06:06:19] *** Joins: pmercado (~pmercado@186.107.58.34)
[06:19:58] *** Quits: erts (~erts@user/erts) (Quit: .)
[06:20:29] *** Quits: mintoyatsu (~mint@user/mintoyatsu) (Remote host closed the connection)
[06:49:03] <l__q> update: add order by id fix my solution: SELECT login_name FROM `websites` WHERE id < :id ORDER BY id DESC LIMIT 1;
[06:49:16] <l__q> now works
[06:54:33] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[06:55:28] <Blondie101010> as suggested by adrian
[06:55:35] <Blondie101010> glad it works
[07:03:26] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 272 seconds)
[07:09:37] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 240 seconds)
[07:14:57] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[07:29:24] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 252 seconds)
[07:32:37] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 256 seconds)
[07:38:21] *** Joins: stenno (~stenno@user/stenno)
[07:43:09] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 252 seconds)
[07:50:05] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[08:06:30] *** Joins: funhouse (~funhouse@user/funhouse)
[08:06:53] <funhouse> I have a csv file inside a gzip, is it possible to append to it without extracting the csv?
[08:17:37] *** Quits: pmercado (~pmercado@186.107.58.34) (Ping timeout: 240 seconds)
[08:22:55] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[08:24:24] *** Quits: Donitz (~Donitz4@88-115-149-215.elisa-laajakaista.fi) (Quit: Leaving)
[08:34:18] *** Quits: kristijonas (~kristijon@cl-78-158-23-234.fastlink.lt) (Ping timeout: 252 seconds)
[08:40:23] <Blondie101010> funhouse:  you should definitely try it...  it might work on first attempt ;)
[08:40:54] <Blondie101010> gzip supports streaming, unlike zip
[08:47:22] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[08:47:53] <funhouse> Blondie101010 thank you
[09:02:21] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 252 seconds)
[09:12:48] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[09:12:55] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 256 seconds)
[09:17:51] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 260 seconds)
[09:22:09] *** Quits: sreve_ (~quassel@p4ff44c08.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[09:22:33] *** Joins: sreve (~quassel@p4ff44d34.dip0.t-ipconnect.de)
[09:22:43] *** Joins: genomc (uid245282@id-245282.hampstead.irccloud.com)
[09:36:17] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[09:40:37] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 240 seconds)
[09:47:29] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[09:51:57] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 240 seconds)
[09:57:16] *** Joins: ferdna (~ferdna@user/ferdna)
[10:08:22] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[10:13:24] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[10:17:52] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 272 seconds)
[10:19:43] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[10:22:32] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[10:24:08] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[10:33:07] *** Quits: Lazenca (~lazenca@user/lazenca) (Remote host closed the connection)
[10:55:21] *** Joins: stenno (~stenno@user/stenno)
[11:03:13] *** Joins: kristijonas (~kristijon@cl-78-158-23-234.fastlink.lt)
[11:07:15] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[11:11:53] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 268 seconds)
[11:12:55] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[11:13:36] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 272 seconds)
[11:22:37] *** Quits: CrazyEddy (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f) (Ping timeout: 240 seconds)
[11:32:17] *** Joins: ordos (~ordos@user/ordos)
[11:39:21] *** Joins: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3928)
[11:49:32] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 252 seconds)
[11:50:56] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Quit: Leaving.)
[11:51:47] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[11:52:35] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[12:00:00] *** Quits: BrunoFontes (~bruno@2a02:c207:2026:6264::1) (Quit: WeeChat 2.8)
[12:01:01] *** Joins: CrazyEddy (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f)
[12:03:28] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[12:04:11] <ash_worksi> I am so confused by this; when I use file_put_contents('/tmp/foo','this is a test'); the file doesn't show up in /tmp
[12:04:43] <ash_worksi> when I use scandir(), it only shows foo, (which is not the only file in my /tmp dir)
[12:05:33] <ash_worksi> when I use scan dir to check '/tmp/../home/ash_m' it shows my files, so I know that it's not some container
[12:06:30] *** Joins: luigibu (~luigi@93.176.153.88)
[12:08:28] <ash_worksi> I *can* write however to a directory in my home dir that I created with 777
[12:11:55] <ash_worksi> when I move that writable directory to /tmp, I get 'false' when I try to write to it.
[12:12:03] <Naktibalda> apache processes run in a private tmp dir
[12:13:20] <Naktibalda> well, it seems like it is a feature of systemd actually: https://unix.stackexchange.com/questions/167835/where-apaches-tmp-located
[12:14:04] <ash_worksi> I see
[12:14:12] <ash_worksi> I literally just found that
[12:16:01] *** Joins: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net)
[12:17:07] *** Joins: stenno (~stenno@user/stenno)
[12:19:34] *** Joins: jenntech (~jenntech@134.134.137.81)
[12:19:47] <jenntech> can someone help me with this error? An error has occurred on preharness.php.
[12:19:47] <jenntech> Error message:database
[12:19:48] <jenntech> Please clear the cache, reboot the system and try again.
[12:20:51] <Naktibalda> no, it is not a PHP error nor a mysql error. it is error message produced by whatever tool you are using
[12:22:18] <ash_worksi> I can't even symlink the file to the same directory the script runs from >:(
[12:22:22] <jenntech> xampp but there is no channel for xampp
[12:22:41] <ash_worksi> jenntech: the tool is the php lib you're using
[12:23:08] <ash_worksi> .... I think
[12:23:51] <jenntech> ok so i am completely new to php and xampp - ive always dealt with sql.... i got stuck with a work assignment and this sucks lol
[12:24:27] *** Joins: guido (~weechat@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f)
[12:24:53] <Naktibalda> read the code of your preharness.php file
[12:25:35] <ash_worksi> jenntech: sometimes you can gleen things from just `grep`ing the error message
[12:27:02] <ash_worksi> apparently "principledtechnologies.com" has had a similar problem :P
[12:27:46] <jenntech> thats the site im trying to access
[12:31:55] *** Joins: Deuchnord (~Deuchnord@user/deuchnord)
[12:32:39] <jenntech> preharness.php = https://pastebin.com/CqatMGMM
[12:34:43] <ash_worksi> jenntech: then $updateTestInfoResult must be false
[12:35:00] <jenntech> OK
[12:35:54] <ash_worksi> looks like a pretty old library
[12:36:12] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 240 seconds)
[12:36:45] <ash_worksi> I would scrap that and use PDO
[12:37:38] <ash_worksi> jenntech: are you working on a live script?
[12:37:48] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[12:37:51] <jenntech> yes i believe so
[12:38:33] <ash_worksi> well, actually, I would've presumed you are not if you're using xampp
[12:39:02] <jenntech> ok then no
[12:39:03] <jenntech> lol
[12:39:07] <ash_worksi> anyway, if I were you I would start adding "var_dump();" lines to the script
[12:39:11] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 256 seconds)
[12:39:31] <jenntech> or can someone recommend some docs on this? I dont even know where the problem lies or what to search for
[12:39:32] <ash_worksi> particularly `var_dump($selectTestResult);` on line 76
[12:39:50] <jenntech> ok
[12:40:44] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[12:40:52] <ash_worksi> jenntech: sure: https://www.php.net/manual/en/mysqli.query.php
[12:41:04] <ash_worksi> it looks like it's using a database as a session store
[12:41:12] <jenntech> yes
[12:41:23] <jenntech> so i added that to line 76
[12:42:09] <ash_worksi> and?
[12:42:30] <Naktibalda> the obvious bad thing with that script is that it does not escape any parameters added to SQL
[12:42:48] <ash_worksi> Naktibalda: indeed
[12:43:07] <ash_worksi> jenntech: see the giant red box warning on the doc page I linked
[12:43:30] <ash_worksi> also, burn that library when you get a chance
[12:43:44] <jenntech> yes
[12:44:16] <jenntech> and it still has the same error
[12:44:20] <ash_worksi> I mean, "why are you using this library?" is really the question
[12:44:36] <jenntech> not my choice.. my works choice
[12:44:45] <ash_worksi> then try adding `die();` after it
[12:45:34] <ash_worksi> (it should print the result) but it is possible you can't see if that library buffers output)
[12:46:08] <jenntech> still same thing
[12:46:21] <jenntech> would it maybe go into console?
[12:46:40] <jenntech> there is errors in console but im not sure if they are the same thing or not
[12:47:04] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[12:47:59] <ash_worksi> I wouldn't think so; but it's possible I am miss reading your file due to crappy alignment
[12:49:07] <jenntech> alright im just gonna side step this one i think
[12:49:13] <deltab> tried outputting $dbCon->error ?
[12:49:52] *** Joins: ViktorasCNC (~sinvet@user/sinvet)
[12:50:03] <ash_worksi> jenntech: you could try adding `var_dump($dbCon); die();` on line 71 and seeing if that prints anything
[12:50:53] <ash_worksi> (you should really not be able to see the error on your webpage if the `die();` was working properly on the line I mentioned before since that would exit the script before it could redirect you to that error page
[12:51:02] *** Joins: hans (uid529825@id-529825.helmsley.irccloud.com)
[12:51:18] <jenntech> ok that got rid of one of the errors on console but still not printing anything
[12:51:58] <ash_worksi> assuming you're not just refreshing that redirect
[12:52:15] <ash_worksi> you're not just hitting refresh on your page are you?
[12:53:26] <jenntech> ok so in connection.php should the $sessionlocation be just the localhost ip address or the whole link with the db name?
[12:53:37] <jenntech> ummm.. ya
[12:53:38] <jenntech> lol
[12:54:00] <jenntech> restart the server?
[12:54:46] <ash_worksi> if you're just refreshing the page, you'll always get that error because that's a static error page
[12:54:55] <jenntech> oh hahaha
[12:54:55] <ash_worksi> (well, not really, but it's "the" error page)
[12:54:58] <jenntech> i knew that lol
[12:55:11] <jenntech> one sec
[12:56:09] <ash_worksi> deltab: I guess an xy problem correctly :)
[12:56:12] <ash_worksi> guessed*
[12:58:38] *** Joins: richardjh (~Thunderbi@51.219.41.0)
[12:58:50] <jenntech> ok so i restarted the server and reclicked the link.. same thing
[13:00:22] <ash_worksi> what is the href on the link you click?
[13:01:09] <jenntech> http://<my localhost address>:90/wx4_build_373/
[13:04:29] <ash_worksi> okay, visit that from now on when you check your output; (A) to diagnose this problem very slowly, I would check your webserver logs to see what script is actually being called to start this off (B) just based off the script you showed me, you could try actually running these queries manually on whatever database this is setup to access
[13:05:21] *** Quits: tercaL (~tercaL@user/tercal) (Ping timeout: 268 seconds)
[13:06:06] <ash_worksi> (C) it might be worthwhile to setup xdebug in your environment and step through your process, but if you don't know how that's supposed to work it may be non-trivial for you
[13:06:25] *** Joins: CNCFR06__ (~sinvet@user/sinvet)
[13:06:28] <ash_worksi> the quickest option is (B)
[13:06:42] <jenntech> ok
[13:06:59] <jenntech> that would be done from phpmyadmin? or xampp control panel?
[13:07:02] <ash_worksi> my next guess would be that your session handler is not set correctly in php.ini
[13:07:12] <jenntech> ok
[13:07:50] <ash_worksi> personally I would login to the database instance... I haven't used xampp in a really long time, but I think it orchestrates vms on VirtualBox iirc
[13:07:58] <jenntech> ok
[13:08:20] <ash_worksi> so I would just open VirtualBox, click on the database server instance and login
[13:09:24] <ash_worksi> (it would spawn a terminal where you could run the `mysql` command... or whatever client mysql uses, I don't personally remember)
[13:10:08] *** Quits: ViktorasCNC (~sinvet@user/sinvet) (Ping timeout: 272 seconds)
[13:11:15] * ash_worksi is pulling mysql container just for kicks
[13:14:34] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 272 seconds)
[13:15:35] *** Joins: ms49434 (~ms49434@user/ms49434)
[13:16:54] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[13:17:26] <ash_worksi> wow, that took an inordiante amount of time to startup
[13:17:51] <TinoDidriksen> The first time only, probably.
[13:18:44] <TinoDidriksen> Well, any time it has to create the database folder from scratch.
[13:21:55] <ash_worksi> TinoDidriksen: it seemed quite a bit slower than postgres; idk, I guess there are lot of differences on that front, but w/e
[13:28:54] *** Joins: LucaTM (~LucaTM@user/lucatm)
[13:29:37] *** Joins: velix (~velix@user/velix)
[13:30:46] <velix> Since php files shouldn't be in webroot directory, what's a good naming scheme for web projects? /var/www/example.org/{php,public}? So php stuff goes into php and all HTML & CSS stuff goes into public?
[13:32:31] <teresko> velix: /public , /src ,
[13:32:45] <teresko> where public is the doc_root
[13:34:57] <velix> teresko: yeah, but I also have python stuff. So /src/{php,python}?
[13:35:09] <velix> teresko: but "src" always sounds like "needs to be compiled".
[13:35:16] <velix> teresko: isn't it like /app ?
[13:35:19] <ash_worksi> velix: if you're trying to be FHS, consider /srv/{example}/app
[13:35:37] <ash_worksi> actually
[13:35:40] <velix> ash_worksi: That's a mess for permissions. I like to have it at one point :D
[13:35:45] <teresko> velix: maybe you should stick with one backend language
[13:35:54] <velix> teresko: Impossible with 3 underpaid people.
[13:35:59] <velix> teresko: don't ask.
[13:36:00] <velix> please.
[13:36:11] <ash_worksi> 03:05 <@ngxbot> Standard filesystem structure: https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard -- web roots/files go in /var/www or /srv/{www,http,web} or /srv/web/$domain.tld/{,htdocs,www}/ etc. Package managers manage most of /usr, so you should not edit files there. /home dirs usually have restrictive permissions and are a bad idea.
[13:36:22] <teresko> I woun't as it is it already sounds very retarded
[13:36:24] <velix> ash_worksi: Debian doesn't follow FHS ;)
[13:36:33] <velix> teresko: indeed.
[13:36:53] <velix> oh, what's the difference between www,http and web? :D
[13:36:59] <ash_worksi> velix: nothing
[13:37:06] <ash_worksi> those are all just suggestions
[13:37:22] <ash_worksi> (for the same thing)
[13:37:23] <velix> ash_worksi: actually, Debian default config links /srv/web/ to /var/www
[13:37:28] <velix> All the packages are linked to this point.
[13:37:36] <velix> So it's not following FHS here.
[13:37:43] <velix> Other distributions follow this, I know.
[13:37:45] <velix> Fedora does
[13:37:51] <teresko> welll ... for a project that had ES6+ and PHP  I used /src/Application/Client  (of containing JS code) and /src/Application/API  (for PHP)
[13:38:19] <ash_worksi> sounds reasonable to me
[13:38:50] <velix> teresko: yeah, but I have backend workers, which need to use python, since PHP doesn't have bindings or libs here ;)
[13:38:58] <velix> I might place those in /srv/ or /opt/
[13:39:09] *** Joins: keypusher (~keypusher@user/keypusher)
[13:39:13] <velix> /srv makes more sense.
[13:39:16] <ash_worksi> velix: I put everything in /srv personally
[13:39:17] <teresko> you really need two separate projects
[13:39:32] <velix> ash_worksi: hrhr, don't tell the Borg queen.
[13:39:46] <ash_worksi> and the workers could be their own projects really
[13:39:58] <velix> teresko: We need more money, then we can split them ;)
[13:40:02] <ash_worksi> if you're using a queue you don't even need them running to test your code
[13:40:20] <teresko> velix: what money do you need for creating a separate git repo
[13:40:28] <velix> ash_worksi: yeah, we're using beanstalkd
[13:40:36] <teresko> my condolences
[13:40:43] <teresko> we do too - it's shit
[13:40:56] <ash_worksi> I have no experience with beanstalkd
[13:41:02] <velix> teresko: We're currently moving to postgreSQL queue, since it has notifications.
[13:41:07] <ash_worksi> although I remember being interested in it once upon a time
[13:41:09] <velix> ash_worksi: Very stable, but no notification system.
[13:41:23] <teresko> it is NOT stable
[13:41:35] <velix> teresko: I've processed > 18k PDFs this month without a problem.
[13:41:36] <ash_worksi> ¯\_(ツ)_/¯
[13:41:45] <ash_worksi> I use rabbitmq with php
[13:41:47] <teresko> it breaks when it gets either big jobs or too many of them '
[13:42:00] <velix> ash_worksi: yeah, I also thought about it, but it's a big too high.
[13:42:12] <velix> teresko: What amount are we talking of? 3M a second or 1k a day?
[13:42:12] <teresko> also, the queues in beanstalk have hardcoded "shutdown limit"
[13:42:13] <ash_worksi> too high?
[13:42:23] <velix> teresko: timeouts? you can extend them
[13:42:32] <velix> teresko: I've got 60 seconds timeout time for each job.
[13:42:39] <velix> teresko: and burry turned off.
[13:42:52] <velix> PDF take ~ 1-2 seconds with 20 pages.
[13:42:52] <teresko> no, big jobs as "a lot of data contained in a job"
[13:43:19] <teresko> business wants dfo very magical exports
[13:43:24] <teresko> to do
[13:43:39] <ash_worksi> I thought I was learning a new acryonm
[13:43:43] <ash_worksi> acronym*
[13:43:49] <velix> teresko: ah okay. I send just small workload with it and make the worker query the data from DB
[13:44:04] <velix> teresko: So my condolence
[13:44:05] <teresko> ash_worksi: anbd it being me - you hoped it was something spicy
[13:44:14] <velix> But thanks for your inspiration!
[13:44:19] *** Quits: keypusher (~keypusher@user/keypusher) (Ping timeout: 260 seconds)
[13:46:20] <ash_worksi> teresko: I would've hoped so
[13:49:06] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 245 seconds)
[13:50:11] <ash_worksi> I guess jenntech solved their problem
[13:57:57] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 240 seconds)
[14:01:30] *** Joins: tercaL (~tercaL@user/tercal)
[14:07:28] *** Joins: operateur (~My_user_n@91.143.220.230)
[14:07:42] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[14:13:06] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[14:14:02] *** Parts: velix (~velix@user/velix) (Leaving)
[14:14:32] *** Joins: olle (~olle@c-8a89e455.034-536-6d6c6d4.bbcust.telenor.se)
[14:16:24] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Remote host closed the connection)
[14:16:46] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[14:21:23] <stenno> hmm so our customer wants the versions of the software packages we are installing
[14:21:34] <stenno> i wonder if there is a smart way to get that info from the composer-lock file
[14:22:06] <stenno> its JSON after all so i can use some jq magic
[14:23:54] <Naktibalda> composer show
[14:28:01] <stenno> sweet, thanks
[14:28:39] <AllenJB> Look at Composer\InstalledVersions if you want the information programmatically: https://getcomposer.org/doc/07-runtime.md
[14:30:37] <stenno> a list like `composer show` is fine for me, but good to know for the future
[14:33:25] <Naktibalda> composer show --format=json  returns much smaller and easier to process json
[14:55:30] <stenno> neat
[14:55:49] <stenno> wrote a oneliner node script for that ^_^"
[14:56:09] <stenno> good to see that composer supports formatting stuff like that ootb
[14:56:20] *** Quits: ypszilon (~ypszilon@user/ypszilon) (Quit: ᮮ)
[14:56:48] *** Joins: ypszilon (~ypszilon@user/ypszilon)
[15:00:00] *** Joins: nwulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[15:00:46] *** Quits: hans (uid529825@id-529825.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[15:00:58] *** Quits: Awaru (Awaru@gateway/vpn/airvpn/awaru) (Ping timeout: 272 seconds)
[15:02:52] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 272 seconds)
[15:09:24] *** Quits: jenntech (~jenntech@134.134.137.81) (Quit: Client closed)
[15:10:36] *** Quits: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3928) (Ping timeout: 240 seconds)
[15:11:36] *** Joins: keypusher (keypusher@user/keypusher)
[15:23:14] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[15:29:38] *** Joins: Awaru (Awaru@gateway/vpn/airvpn/awaru)
[15:30:51] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[15:31:22] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 272 seconds)
[15:35:14] *** Joins: Urawa (Awaru@gateway/vpn/airvpn/awaru)
[15:35:48] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 272 seconds)
[15:36:25] *** Quits: ms49434 (~ms49434@user/ms49434) (Quit: Leaving)
[15:38:58] *** Quits: Awaru (Awaru@gateway/vpn/airvpn/awaru) (Ping timeout: 272 seconds)
[15:44:10] *** Joins: stenno (~stenno@user/stenno)
[15:49:54] *** Quits: Deuchnord (~Deuchnord@user/deuchnord) (Ping timeout: 252 seconds)
[16:00:21] *** Quits: qqqhhh861 (~qqqhhh@45.83.220.209) (Ping timeout: 256 seconds)
[16:06:46] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[16:07:33] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[16:11:01] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 240 seconds)
[16:16:18] *** Joins: Deuchnord (~Deuchnord@user/deuchnord)
[16:16:34] *** Joins: newwebdev13 (~newwebdev@78.135.92.217)
[16:32:54] *** Quits: guido (~weechat@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f) (Quit: WeeChat 3.4.1)
[16:38:34] <l__q> Albright: https://news.ycombinator.com/item?id=30799912
[16:39:10] *** Joins: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3928)
[16:40:52] *** Joins: pmercado (~pmercado@186.107.58.34)
[16:45:17] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[16:50:10] *** Joins: thiras (~thiras@user/thiras)
[16:52:44] <l__q> KyuWeb is on top page on HN
[16:54:25] *** Joins: magla (~gelignite@d5367a39.access.ecotel.net)
[17:01:20] *** Joins: ms49434 (~ms49434@user/ms49434)
[17:01:27] <Blondie101010> what is HN?
[17:01:36] <olle> hacker news
[17:03:49] *** Joins: guido (~weechat@host-87-19-248-176.retail.telecomitalia.it)
[17:08:15] <TinoDidriksen> KyuWeb seems rather worthless.
[17:08:57] *** CNCFR06__ is now known as ViktorasCNC
[17:26:29] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 256 seconds)
[17:33:57] *** Quits: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net) (Ping timeout: 240 seconds)
[17:34:58] *** Joins: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net)
[17:36:57] *** Joins: mintoyatsu (~mint@user/mintoyatsu)
[17:39:18] <AllenJB> It's not clear to me what problem KyuWeb is actually trying to solve other than "allow modern websites to be browsed on a 70s spec computer", which is not a problem anyone has.
[17:40:05] *** Quits: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net) (Ping timeout: 256 seconds)
[17:40:26] <teresko> we already had that with WAP on phones
[17:40:38] <teresko> ya know, like 20 years ago
[17:40:42] *** Joins: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net)
[17:44:46] <AllenJB> If documents are properly written, it can be done with HTML - a client doesn't have to implement javascript, video, etc.
[17:44:46] <AllenJB> Back in the days when JS was becoming popular there was a term / practice called "progressive enhancement" - you write pages for the least capable client then only use JS, etc to enhance pages (live updates instead of having to push refresh, video in page instead of a link that launches an external player
[17:44:57] <l__q> Albright: bevor im added your KyuWeb to HN, was 0 star, now you have 12 :D
[17:45:56] *** Quits: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net) (Ping timeout: 252 seconds)
[17:46:42] *** Joins: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net)
[17:51:24] *** Joins: xSavitar (~xSavitar@user/xsavitar)
[17:55:36] *** Joins: stenno (~stenno@user/stenno)
[17:56:13] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Quit: Leaving)
[17:56:40] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Quit: Leaving.)
[18:01:15] *** Quits: ViktorasCNC (~sinvet@user/sinvet) (Quit: Leaving)
[18:01:41] *** Quits: xSavitar (~xSavitar@user/xsavitar) (Quit: Leaving...)
[18:05:41] *** Quits: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net) (Ping timeout: 250 seconds)
[18:09:15] *** Joins: xSavitar (~xSavitar@user/xsavitar)
[18:09:19] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 256 seconds)
[18:17:40] *** Joins: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net)
[18:20:28] *** Quits: guido (~weechat@host-87-19-248-176.retail.telecomitalia.it) (Ping timeout: 272 seconds)
[18:22:02] *** Joins: guido (~weechat@host-79-13-28-99.retail.telecomitalia.it)
[18:28:19] *** Joins: Poboy (~Poboy@user/poboy)
[18:33:32] <ordos> l__q, Albright, I caught that - https://news.ycombinator.com/item?id=30799912
[18:33:57] <Albright> Lel, I was not quite ready for that
[18:34:19] <Knowsin> how can you print a variable to a txt file? I forgot
[18:34:25] <Knowsin> I can't use error_log for some reason
[18:34:47] <AllenJB> Knowsin: var_export
[18:35:35] <Naktibalda> Knowsin: file_put_contents
[18:35:37] *** Quits: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net) (Ping timeout: 240 seconds)
[18:48:14] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[18:52:37] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 240 seconds)
[18:55:48] *** Quits: BlackBishop (dexter@user/blackbishop) (Quit: WeeChat 3.3)
[18:55:55] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[18:57:16] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[18:58:17] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 256 seconds)
[19:00:55] *** Quits: m5zs7k (aquares@web10.mydevil.net) (Read error: Connection reset by peer)
[19:01:06] *** Joins: m5zs7k_ (~m5zs7k@web10.mydevil.net)
[19:01:34] *** m5zs7k_ is now known as m5zs7k
[19:04:22] <l__q> Albright :D
[19:08:21] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[19:09:10] *** Joins: stenno (~stenno@user/stenno)
[19:12:51] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 252 seconds)
[19:14:09] *** Quits: lembron (~admin@user/lembron) (Ping timeout: 256 seconds)
[19:19:37] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[19:22:57] *** Quits: l__q (~modinfo@user/modinfo) (Ping timeout: 240 seconds)
[19:22:58] <dag> microtime() still good for measuring stuff. i see there's a newer hrtime()
[19:23:49] <AllenJB> Depends on what resolution / accuracy you need. For the vast majority of cases microtime() is fine
[19:26:21] <ordos> dag, assuming you're measuring stuff on the same server (same timezone) then yeah it's fine, but across different servers just be wary
[19:28:47] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 252 seconds)
[19:34:21] <ordos> the more I think about it dag I think just use hrtime
[19:34:41] *** Quits: luigibu (~luigi@93.176.153.88) (Quit: WeeChat 3.4.1)
[19:34:51] *** Quits: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3928) (Ping timeout: 252 seconds)
[19:34:59] <ordos> aside from microtime's system clock risk alluded to above there also seems to be some comp overhead when using it on VMs which I wasn't aware of
[19:35:34] <ordos> hrtime is higher resolution yes but that doesn't mean you shouldn't use it - it's built specifically for stopwatch scenarios, may as well leverage it
[19:37:48] *** Joins: wovixo (~wovixo@128.104.205.49)
[19:42:38] *** Joins: roadie (~user@2a02:8108:5a40:1d87:e096:53b7:b2bf:7a01)
[19:44:49] <dag> is it possible to stop execution of a function after n seconds? e.g. function() {while(true);}
[19:46:03] <ordos> dag, something like this? https://www.php.net/manual/en/function.set-time-limit.php
[19:46:38] <dag> nah i still want to continue execution.
[19:46:53] * ordos scratches his head
[19:47:03] <Naktibalda> dag: no, you have to implement some checks in the function
[19:47:39] <dag> one example case could be a third party library that is running way too long
[19:47:49] <ordos> php has default maximums in place
[19:48:03] *** Quits: roadie (~user@2a02:8108:5a40:1d87:e096:53b7:b2bf:7a01) (Ping timeout: 252 seconds)
[19:49:45] <Knowsin> https://kopy.io/RVzsy my problem is that if $cats is array then it will only print one $inner_query and I'm not sure why
[19:50:32] <Naktibalda> KnownSyntax: change += to []=
[19:50:47] <teresko> dag: what is the problem that you are actually trying to solve?
[19:50:48] <Naktibalda> += overwrites fields on each iteration.
[19:50:58] <teresko> I mean, why do you need to stop that function
[19:51:08] <KnownSyntax> Naktibalda: bad tab fyi
[19:52:03] <teresko> KnownSyntax: and now you made me search for Bloodhound Gang - The Bad Touch :(
[19:52:08] <dag> teresko: im processing some data and if some part is taking too long i want to skip to the next item in the agenda
[19:52:53] <ordos> dag, by skip to you mean stop and move on to the next? Or do you mean keep doing it in the background and move on to the next?
[19:53:11] <dag> just skip it
[19:53:11] <teresko> dag: sound like you should instead look at doing that processing in background as either backgrounbd service waiting on message queue or as a cron job
[19:53:27] <ordos> ^ that
[19:53:29] <dag> alright thanks
[19:53:42] <ordos> or alternatively you can buffer output and keep processing in background but that's highly niche
[19:54:00] <da_wunder> imho - that sounds like you should use message queuee
[19:54:23] <da_wunder> with that you could use `n` workers to process each single item
[19:55:02] <ordos> teresko, Bad Touch, hah, memories
[19:55:33] <teresko> nobody would be allowed to make that mosic video in <the current year>
[19:55:40] <teresko> *music
[20:00:33] *** Joins: roadie (~user@2a02:8108:5a40:1d87:e096:53b7:b2bf:7a01)
[20:02:37] *** Joins: l__q (~modinfo@user/modinfo)
[20:04:35] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 256 seconds)
[20:05:23] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[20:07:39] *** Joins: genom (~g@37.214.75.10)
[20:11:11] *** Quits: roadie (~user@2a02:8108:5a40:1d87:e096:53b7:b2bf:7a01) (Ping timeout: 260 seconds)
[20:23:50] *** Quits: Deuchnord (~Deuchnord@user/deuchnord) (Remote host closed the connection)
[20:29:30] <l__q> Albright: 23 stars and 2 forks you have now :D
[20:29:55] <l__q> that the HN magic
[20:30:12] <l__q> https://news.ycombinator.com/item?id=30799912
[20:31:54] <Albright> Oh jeez
[20:36:06] *** Joins: stenno (~stenno@user/stenno)
[20:37:24] *** Joins: roadie (~user@2a02:8108:5a40:1d87:e096:53b7:b2bf:7a01)
[20:39:31] *** Joins: PTNapivoski (~PTNapivos@179.189.133.33)
[20:46:32] *** Quits: roadie (~user@2a02:8108:5a40:1d87:e096:53b7:b2bf:7a01) (Remote host closed the connection)
[20:46:55] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[20:51:24] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 240 seconds)
[20:52:00] *** Quits: Urawa (Awaru@gateway/vpn/airvpn/awaru) (Quit: Urawa)
[20:56:20] *** Joins: Mr-Snick (mr-snick@gateway/vpn/protonvpn/mr-snick)
[20:57:27] *** Joins: junktext (~junktext@gateway/vpn/pia/junktext)
[21:01:49] *** Quits: ghoti (~paul@198.23.196.224) (Ping timeout: 256 seconds)
[21:02:40] *** Joins: ghoti (~paul@198.23.196.224)
[21:04:15] *** Quits: richardjh (~Thunderbi@51.219.41.0) (Quit: richardjh)
[21:07:11] <l__q> :P
[21:10:06] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[21:14:17] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[21:14:31] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 245 seconds)
[21:16:37] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[21:16:49] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[21:20:38] *** Quits: stenno (~stenno@user/stenno) (Quit: WeeChat 3.3)
[21:26:03] *** Joins: funhouse (~funhouse@user/funhouse)
[21:26:36] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 245 seconds)
[21:33:20] *** Quits: AnrDaemon (~ZNC@darkdragon-nln.starlink.ru) (Quit: q)
[21:37:34] *** Joins: AnrDaemon (~ZNC@darkdragon-nln.starlink.ru)
[21:37:37] *** Quits: l__q (~modinfo@user/modinfo) (Ping timeout: 240 seconds)
[21:37:55] *** Quits: AnrDaemon (~ZNC@darkdragon-nln.starlink.ru) (Client Quit)
[21:38:45] *** Joins: l__q (~modinfo@user/modinfo)
[21:43:37] *** Joins: Awaru (~Awaru@213.152.187.235)
[21:45:44] *** Joins: AnrDaemon (~ZNC@darkdragon-nln.starlink.ru)
[22:01:41] *** Quits: operateur (~My_user_n@91.143.220.230) (Ping timeout: 252 seconds)
[22:36:39] *** Joins: luva (~luva@45.141.152.52)
[22:38:14] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[22:47:37] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[23:01:03] *** Quits: nwulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 260 seconds)
[23:03:05] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[23:07:11] *** Quits: newwebdev13 (~newwebdev@78.135.92.217) (Quit: Leaving)
[23:08:08] *** Joins: filename (~kilitary@static.246.201.46.78.clients.your-server.de)
[23:08:30] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Remote host closed the connection)
[23:09:30] *** Joins: dallegos (~dallegos@191.97.196.147)
[23:11:05] *** Quits: l__q (~modinfo@user/modinfo) (Quit: interet cut off, write me memo! it will be send to my mail!)
[23:13:41] *** Joins: l__q (~modinfo@user/modinfo)
[23:15:42] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Quit: Leaving.)
[23:17:37] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[23:21:36] *** Quits: justOkay (~justache@user/justache) (Read error: Connection reset by peer)
[23:22:07] *** Joins: justOkay (~justache@user/justache)
[23:22:49] *** Joins: BrunoFontes (~bruno@2a02:c207:2026:6264::1)
[23:24:33] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[23:24:37] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 256 seconds)
[23:32:23] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[23:39:29] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[23:41:17] *** Quits: filename (~kilitary@static.246.201.46.78.clients.your-server.de) (Ping timeout: 240 seconds)
[23:44:27] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Ping timeout: 260 seconds)
[23:45:40] *** Joins: operateur (~My_user_n@93-86-81-12.dynamic.isp.telekom.rs)
[23:47:23] *** Joins: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54)
[23:50:26] *** Quits: operateur (~My_user_n@93-86-81-12.dynamic.isp.telekom.rs) (Ping timeout: 272 seconds)
[23:57:45] *** Quits: roadie (~user@2a02:8108:5a40:1d87:a0a4:a51e:2ef2:8a54) (Quit: ERC (IRC client for Emacs 25.3.50.1))
