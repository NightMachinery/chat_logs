[00:00:36] *** Quits: rufito (~phil@186-79-8-11.baf.movistar.cl) (Quit: Leaving)
[00:01:02] *** Quits: sinaowolabi (~SinaOwola@160.152.109.220) (Ping timeout: 240 seconds)
[00:02:55] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 256 seconds)
[00:03:01] *** Joins: ejjdhfjsu (~ejjdhfjsu@cmcust2a-84.174.nulinkdigital.com)
[00:06:02] *** Quits: easyriders (~easyrider@83-233-246-108.cust.bredband2.com) (Ping timeout: 256 seconds)
[00:06:20] *** Joins: arinov (~arinov@213.194.126.155)
[00:09:27] *** Quits: gdd (~gdd@129.199.146.230) (Quit: WeeChat 3.3)
[00:10:37] *** Quits: darkbit (~db@136.158.8.67) (Ping timeout: 240 seconds)
[00:10:44] *** Joins: arinov_ (~arinov@31.142.86.27)
[00:10:49] *** Joins: spacenautx (~spacenaut@user/spacenautx)
[00:11:25] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 256 seconds)
[00:11:48] *** Quits: drbeco (~beco@2804:351c:dd03:3500:e47a:cfbe:a980:776b) (Ping timeout: 240 seconds)
[00:11:59] *** Quits: mra90 (~mra@192.55.55.56) (Ping timeout: 256 seconds)
[00:14:00] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[00:14:36] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[00:15:01] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Quit: Something unexpected happened...)
[00:17:06] *** Joins: thiras (~thiras@user/thiras)
[00:17:39] *** Joins: gdd (~gdd@129.199.146.230)
[00:17:45] <Filystyn> so what about those jails
[00:17:51] <Filystyn> this is common practic ?
[00:19:52] *** Quits: arinov_ (~arinov@31.142.86.27) (Ping timeout: 272 seconds)
[00:21:19] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[00:21:31] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[00:22:46] *** Quits: ALowther (~igloo@107.115.230.65) (Remote host closed the connection)
[00:23:03] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Ping timeout: 272 seconds)
[00:24:24] <wyre> why this doesn't even print the string? https://bpa.st/PGFA
[00:24:50] <geirha> you told getopts that -D doesn't take an argument
[00:27:52] * Earnestly grumbles about posix tail having -c but head not
[00:28:44] <Earnestly> What does ? do in the optstring?
[00:28:57] <geirha> just makes -? a valid option
[00:29:14] <Earnestly> Oh of course
[00:29:25] <Earnestly> I don't know why I thought it had some special meaning like :
[00:29:29] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Quit: Something unexpected happened...)
[00:29:41] <Earnestly> Probably > The characters <question-mark> and <colon> shall not be used as option characters by an application.
[00:29:49] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[00:30:17] *** Quits: timm (~timm@user/timm) (Quit: Leaving)
[00:30:25] <Earnestly> Because getopts returns ? for invalid
[00:30:33] *** Joins: easyriders (~easyrider@83-233-246-108.cust.bredband2.com)
[00:31:06] <Earnestly> wyre: So if someone gives your program -F, getopts will return ?, making your help on \? rather misguided
[00:31:33] <geirha> yeah, getopts also returns non-zero in that case, so it it's still possible to distinguish, but yeah, I never bother with the windows-style -?
[00:31:45] <geirha> s/windows/dos/
[00:31:46] *** Joins: lavaball (felix@31.204.155.215)
[00:31:48] *** Quits: magla (~gelignite@55d4d6c3.access.ecotel.net) (Quit: Stay safe!)
[00:32:30] *** Joins: timm (~timm@user/timm)
[00:32:46] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Excess Flood)
[00:33:01] *** Joins: Tang3nt-Man (~Tang3nt-M@138.199.21.54)
[00:33:37] *** Joins: volga629 (~volga629@72.139.93.26)
[00:34:07] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[00:35:17] *** timm is now known as f00
[00:35:17] *** Quits: Tangent-Man (~Tang3nt-M@cpc145602-basl14-2-0-cust33.20-1.cable.virginm.net) (Ping timeout: 240 seconds)
[00:38:24] *** Quits: N4buc0- (~N4buc0@2804:7f4:348b:7576:c380:89de:1f93:65fd) (Remote host closed the connection)
[00:38:25] *** Joins: N4buc0 (~N4buc0@189.26.49.16.dynamic.adsl.gvt.net.br)
[00:39:30] *** Quits: N4buc0 (~N4buc0@189.26.49.16.dynamic.adsl.gvt.net.br) (Remote host closed the connection)
[00:40:09] *** Quits: easyriders (~easyrider@83-233-246-108.cust.bredband2.com) (Ping timeout: 272 seconds)
[00:40:14] *** Joins: A|an (~Alan@173.218.175.171)
[00:40:19] *** Joins: yustin (~yustin@user/yustin)
[00:40:26] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[00:40:32] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Read error: Connection reset by peer)
[00:40:41] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[00:41:07] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[00:41:17] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[00:42:59] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[00:43:43] *** Quits: jab416171 (~jab416171@c-67-161-208-65.hsd1.ut.comcast.net) (Ping timeout: 256 seconds)
[00:43:56] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 272 seconds)
[00:46:01] *** Joins: locrian9 (~mike@4.71.132.228)
[00:47:24] *** Quits: roadie (~user@2a02:8108:5a40:1d87:102d:d7c:48b:58f7) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[00:48:10] <wyre> I see ... thank you geirha
[00:48:21] *** Quits: volga629 (~volga629@72.139.93.26) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[00:48:29] *** Joins: jab416171 (~jab416171@c-67-161-208-65.hsd1.ut.comcast.net)
[00:49:04] <wyre> I'm curiouse, are all defined options in the optstring mandatory?
[00:49:06] *** Quits: dea_ (~dea@5.121.210.143) (Ping timeout: 256 seconds)
[00:49:25] <geirha> no, they are optional
[00:51:23] *** Joins: l4s8g (~l4s8g@pd9e62e01.dip0.t-ipconnect.de)
[00:51:35] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 240 seconds)
[00:52:40] *** Joins: crashrep (~crashrep@user/crashrep)
[00:52:47] *** Quits: eroux (~eroux@102-65-85-242.ftth.web.africa) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[00:54:24] *** Quits: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Read error: Connection reset by peer)
[00:55:41] *** Joins: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[00:57:55] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 240 seconds)
[01:03:18] <wyre> geirha, even when they require arguments? ðŸ¤”
[01:04:49] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:06:23] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 256 seconds)
[01:07:58] *** Quits: oprypin (~irc@pryp.in) (Ping timeout: 250 seconds)
[01:08:36] *** Quits: l4s8g (~l4s8g@pd9e62e01.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[01:09:48] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 240 seconds)
[01:10:42] *** Joins: jan6[m] (~jan6envsn@2001:470:69fc:105::1:88ca)
[01:11:26] *** Quits: dreamon (~dreamon@pd95035d1.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[01:14:22] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[01:16:38] <geirha> sure
[01:16:57] <geirha> but once you provide that option, its argument is mandatory
[01:18:34] *** Joins: crashrep (~crashrep@user/crashrep)
[01:19:08] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Read error: Connection reset by peer)
[01:19:49] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[01:22:35] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 240 seconds)
[01:23:47] *** Joins: crashrep (~crashrep@user/crashrep)
[01:27:58] *** Joins: seninha (~chatzilla@user/seninha)
[01:28:08] *** Joins: w1r3d (~w1r3d@user/w1r3d)
[01:32:39] *** Quits: Minvera (~Minvera@user/Minvera) (Remote host closed the connection)
[01:32:51] *** Joins: oprypin (~irc@pryp.in)
[01:33:26] *** Joins: easyriders (~easyrider@83-233-246-108.cust.bredband2.com)
[01:34:36] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 240 seconds)
[01:34:40] *** Joins: loganlee[gnu] (~Thunderbi@user/loganlee)
[01:36:18] *** Joins: akoana (~ah@user/akoana)
[01:38:33] *** Quits: qub411 (~user@118.209.248.55) (Quit: WeeChat 3.4)
[01:40:46] *** Quits: w1r3d (~w1r3d@user/w1r3d) (Quit: Leaving)
[01:41:37] *** Joins: rcernin (~rcernin@124.190.132.36)
[01:42:05] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 256 seconds)
[01:46:21] *** Joins: glazed (~glazed@108.5.30.126)
[01:49:01] <jensen> i have a list of full paths of files where a lot of them have duplicates with just extensions differing (accidentally downloaded videos again with yt-dlp but extensions are different). how can i keep the smallest sized file and delete remaining duplicates? they are of the filename: "/path/to/video/<name> (date) ID.EXT"
[01:49:39] <Filystyn> you mean .this_is_different ?
[01:50:01] <llua> loop over the list and do the comparsions
[01:50:35] <Filystyn> you rlucky this is fairly easy
[01:50:50] <Filystyn> probably channel lurkers will know answers in a blink of eye
[01:51:17] <jensen> i mean the contents of the video is different, but youtube does compressions over time and the actual file is different
[01:51:44] <jensen> i mean the contents are the same, but the actual file is different, lol
[01:51:48] <Helmholtz> how to append some links to a bash variable so that I can feed it to curl?
[01:52:16] <Helmholtz> If I use a file, I can use `>>` and point curl to that file...but I want a variable
[01:52:44] <llua> !xy
[01:52:44] <greybot> http://mywiki.wooledge.org/XyProblem -- "I want to do X, but I'm asking how to do Y..."
[01:53:43] <Filystyn> jensen the name is same ?
[01:53:56] <jensen> yes, just the extension is different
[01:54:34] <Filystyn> what about date it will be same ??
[01:54:41] <Helmholtz> llua, I'm grepping a variable for some patterns and putting the results into a bash variable
[01:55:01] <Helmholtz> then I'm feeding this filtered variable (which contains links) to curl
[01:55:29] <jensen> Filystyn: yea, same because the naming scheme i used for youtube-dl/yt-dlp hasn't changed
[01:55:37] <Filystyn> ihm
[01:55:50] <wyre> might I 'disable' this behavior https://bpa.st/ZPIA ?
[01:56:25] <wyre> s/might/may/
[01:56:55] <Filystyn> jensen all in one directory ?
[01:57:15] <jensen> no, but i can move them. my list has full paths of the files
[01:57:38] <Filystyn> move all stuff to one dir
[01:58:15] <wyre> I didn't say anything ðŸ˜ž
[01:59:09] <jensen> ok
[02:00:52] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[02:01:00] *** Joins: Atque (~Atque@user/atque)
[02:01:02] *** Joins: luva3 (~luva@185.168.9.242)
[02:01:24] <Nintendo> Turn that list of paths into a list of IDs to loop over, making subsequent file lists with p=( *$id* ) or even just find.  Compare file sizes using stat and delete as necessary, jensen.
[02:01:46] <Filystyn> jensen now give me a second ;-) if you have all in one dir this is probably not that hard.
[02:02:02] <jensen> i'm so terrible with find
[02:02:02] *** Quits: luva (~luva@45.141.152.52) (Ping timeout: 260 seconds)
[02:02:02] *** luva3 is now known as luva
[02:02:13] <jensen> i got up to the list part lol
[02:02:29] <Nintendo> Alternatively, you could use find's -printf to include file size (or modification time, if that's what you're really getting at) and make a list of files to delete.
[02:02:53] <Nintendo> Everyone is terrible with find.
[02:02:58] <Nintendo> You just have to run it.
[02:03:20] <Nintendo> And in order to run it, you generally have to read the man page ;)
[02:03:43] *** Quits: rcernin (~rcernin@124.190.132.36) (Quit: WeeChat 3.4)
[02:03:57] *** Joins: rcernin (~rcernin@124.190.132.36)
[02:04:02] <Nintendo> Search for %s to get started.
[02:04:03] *** Joins: arinov_ (~arinov@213.194.126.155)
[02:05:01] *** Quits: spacenautx (~spacenaut@user/spacenautx) (Ping timeout: 272 seconds)
[02:06:35] *** Joins: spacenautx (~spacenaut@user/spacenautx)
[02:09:43] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:09:55] *** Joins: qub411 (~user@118.209.248.55)
[02:12:35] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 240 seconds)
[02:12:41] *** Quits: spacenautx (~spacenaut@user/spacenautx) (Ping timeout: 256 seconds)
[02:13:31] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[02:14:06] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[02:14:27] *** Joins: spacenautx (~spacenaut@user/spacenautx)
[02:14:41] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[02:15:03] *** Quits: spacenautx (~spacenaut@user/spacenautx) (Max SendQ exceeded)
[02:17:31] *** Quits: rgrinberg (~textual@2806:101e:7:70b6:a1e9:5294:11ab:484a) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[02:19:08] *** Joins: kj (~kj@kj.aerisnetwork.net)
[02:20:54] *** Joins: spacenautx (~spacenaut@user/spacenautx)
[02:21:11] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 256 seconds)
[02:22:26] <wyre> could I concatenate an array of strings into a single one without a for loop?
[02:23:15] *** Joins: zeden (~zeden@user/zeden)
[02:23:36] *** Joins: zuplex (~zuplex@202.51.76.195)
[02:23:49] <larryv> !join > wyre
[02:23:49] <greybot> wyre: You can "join" an array (write it with a single character of your choice between elements) using: IFS='|'; echo "${array[*]}"; unset IFS
[02:24:18] *** Quits: sinaowolabi_ (~SinaOwola@160.152.109.220) (Ping timeout: 256 seconds)
[02:25:27] *** Quits: dextercd (~dexter@2a02-a450-f25d-1-76d4-35ff-fefe-34c.fixed6.kpn.net) (Quit: WeeChat 3.4)
[02:26:10] *** Joins: drbeco (~beco@2804:351c:dd00:f100:2b17:8b50:fe72:25ea)
[02:27:37] *** Quits: skered (~dereks@user/skered) (Ping timeout: 240 seconds)
[02:27:37] *** Joins: sn1tch3r (~sn1tch3r@user/sn1tch3r)
[02:27:48] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 272 seconds)
[02:27:57] <chilversc> I like to write a little join function; join() { local IFS="$1"; unshift; echo "$*" }
[02:28:00] *** Quits: sn1tch3r (~sn1tch3r@user/sn1tch3r) (Remote host closed the connection)
[02:28:54] <Earnestly> unshift?
[02:29:41] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 256 seconds)
[02:29:43] <chilversc> bah, I use to many different languages, that should be shift in bash
[02:31:39] <Earnestly> If bash though, as a small thing, you can also use ${*:2}
[02:31:52] <chilversc> then to use it you have; foo="$(join , "${x[@]}")" if elements in x can contain spaces
[02:32:19] <Filystyn> jensen are you still here?
[02:32:52] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 272 seconds)
[02:33:00] *** Joins: n4dir (~user@mue-88-130-56-212.dsl.tropolys.de)
[02:33:33] <jensen> yea
[02:33:57] <Filystyn> https://termbin.com/5s7z analize it
[02:34:09] <jensen> ok
[02:34:25] <Filystyn> I thik this might have been what you want. But in the end  try to at least understand what is happening
[02:34:44] <Filystyn> I am not good with shell too so maybe you can even do it better ;-)
[02:34:51] *** Quits: karakedi (~eAC53C340@user/karakedi) (Remote host closed the connection)
[02:36:44] <jensen> appreciate it, will look through it
[02:39:12] *** Quits: arinov_ (~arinov@213.194.126.155) (Ping timeout: 272 seconds)
[02:42:59] *** Joins: karakedi (~eAC53C340@user/karakedi)
[02:44:19] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.4)
[02:47:58] *** Quits: Filystyn (~piotr@user/filystyn) (Quit: Lost terminal)
[02:48:30] *** Parts: jensen (~jensen@65.78.100.184) (WeeChat 3.4)
[02:51:13] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[02:51:30] *** Quits: easyriders (~easyrider@83-233-246-108.cust.bredband2.com) (Ping timeout: 256 seconds)
[02:52:21] *** Joins: filename (~kilitary@kilitary.xyz)
[02:53:33] <k-man> does bash have a way to search the currently being entered command? say you copy/pasted a long command from somewhere and you want to find a part of it to edit it for example
[02:53:42] <k-man> oh, you can jump into an editor iirc
[02:54:39] <k-man> c-x c-e
[02:57:28] *** Joins: tex (~super@user/dix)
[03:00:05] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[03:01:24] *** Joins: filename (~kilitary@kilitary.xyz)
[03:01:53] <sixwheeledbeast> k-man: you can search history via the terminal if that's helpful?
[03:03:42] <OnlineCop> Could I make a suggestion for !join ? Wrap it in (parens) so that runs in a subshell. Before running that, `IFS=$'\n'`, and after unsetting IFS, `IFS=''`.
[03:04:06] <OnlineCop> ... using: (IFS='|'; echo "${array[*]}")
[03:04:57] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[03:07:55] <larryv> it's just a minimal example. there are lots of possible variations, i'm not sure it's worth including them all
[03:08:02] *** Quits: cebor (~cebor@user/cebor) (Quit: bye!)
[03:08:13] *** Quits: swoolley (~seth@user/swoolley) (Ping timeout: 256 seconds)
[03:08:59] *** Joins: swoolley (~seth@user/swoolley)
[03:09:24] *** Quits: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66) (Ping timeout: 240 seconds)
[03:09:29] *** Joins: cebor (~cebor@user/cebor)
[03:10:33] *** Joins: howdoi (uid224@id-224.lymington.irccloud.com)
[03:10:54] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[03:10:55] <k-man> sixwheeledbeast: no, i wanted to edit a very long command line and be able to search through the text in the line
[03:11:04] <k-man> c-x c-e launches and editor and that solved it for me
[03:11:06] <k-man> thanks sixwheeledbeast
[03:11:24] *** Joins: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke)
[03:11:48] <OnlineCop> I just ran C^x C^e in my container, and see: "bash: emacs: command not found"  :D
[03:12:11] *** Quits: glazed (~glazed@108.5.30.126) (Ping timeout: 256 seconds)
[03:12:25] <Friithian> C^x? you mean c-x/^X?
[03:13:08] <OnlineCop> c-x isn't ctrl+x ?
[03:13:30] *** Joins: filename (~kilitary@kilitary.xyz)
[03:13:35] <Friithian> c-x is ctrl+x, ^C is also ctrl+x, I have no idea what C^x is
[03:13:37] <larryv> you wrote "C^x", hence the question
[03:13:51] *** Quits: spacenautx (~spacenaut@user/spacenautx) (Quit: WeeChat 3.4)
[03:14:18] <OnlineCop> Ah. s/C\^/^C/g
[03:14:46] <Friithian> but yeah that means youâ€¦ $EDITOR ? is set to emacs and not a real text editor
[03:14:49] <Friithian> *runs*
[03:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:16:09] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:16:12] <larryv> or VISUAL or EDITOR are unset
[03:16:24] <Friithian> oh, yeah, $VISUAL , forgot that one
[03:16:32] <sm> g'day all. This prints each word on a new line, how can I make it keep the input lines intact ?
[03:16:32] <sm> for c in $(grep '^$' ../Time-tracking.md | cut -c3-); do echo $c; done
[03:17:08] <sm> paste error.. that's grep '^$', ie grep for CLI examples
[03:17:31] <sm> dangit. Probably just my chat client. backslash dollar.
[03:17:44] <larryv> rewrite it to avoid word-splittin
[03:17:45] <larryv> g
[03:17:46] <Friithian>  need to escape the escape!
[03:19:25] <larryv> sm: https://mywiki.wooledge.org/DontReadLinesWithFor
[03:19:29] <sm> yes, how larryv ?
[03:19:34] <sm> ah, thanks!
[03:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:03] <Friithian> do we not have a bot command for that?
[03:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:20:40] <larryv> probably. was faster to find it in my browser history
[03:20:45] <larryv> !drlwf
[03:20:45] <greybot> https://mywiki.wooledge.org/DontReadLinesWithFor ... "for" is for iterating arguments/arrays, not strings. Never do: for x in $(cat file), or for x in $var; instead, use a glob (*.txt), an array ("${hosts[@]}") or a while-read loop. See also https://mywiki.wooledge.org/BashPitfalls#pf1
[03:21:42] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[03:22:13] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[03:23:08] <Earnestly> Whole thing can be replaced with sed -n 's/^\$ //p' ../Time-tra..
[03:23:52] *** Quits: rkta (~rkta@2001:4ba0:cafe:eaf::1) (Read error: Connection reset by peer)
[03:28:17] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Ping timeout: 240 seconds)
[03:28:20] *** Joins: crashrep (~crashrep@user/crashrep)
[03:32:35] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 240 seconds)
[03:39:59] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b54e:3ae0:a83b:fc60) (Remote host closed the connection)
[03:40:35] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b54e:3ae0:a83b:fc60)
[03:42:28] *** Quits: tex (~super@user/dix) (Quit: tex)
[03:43:50] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[03:44:13] *** Quits: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke) (Remote host closed the connection)
[03:45:11] *** Joins: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net)
[03:45:44] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b54e:3ae0:a83b:fc60) (Ping timeout: 252 seconds)
[03:53:48] *** Quits: flower_ (~debian@46.244.61.4) (Ping timeout: 240 seconds)
[03:54:35] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b54e:3ae0:a83b:fc60)
[03:54:56] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.4)
[03:59:10] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b54e:3ae0:a83b:fc60) (Ping timeout: 260 seconds)
[04:04:29] *** Joins: crashrep (~crashrep@user/crashrep)
[04:06:35] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 256 seconds)
[04:06:42] *** Quits: freepp (~freepppp@193.92.35.32.dsl.dyn.forthnet.gr) (Read error: Connection reset by peer)
[04:07:31] *** Joins: xmb (~xmb@178.197.197.147)
[04:08:30] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:11:03] *** suss` is now known as suss
[04:11:27] <xmb> hi there
[04:12:21] <Friithian> general ken- wait fuck no nvm
[04:14:39] <larryv> oh i don't think so
[04:19:17] *** Quits: f00 (~timm@user/timm) (Ping timeout: 240 seconds)
[04:19:22] *** Quits: yagamilito (~yagamilit@2601:642:4600:34b0:c1e1:3103:f7d8:8b84) (Quit: Client closed)
[04:25:51] *** Quits: useretail (~useretail@185.132.19.151) (Ping timeout: 256 seconds)
[04:26:08] *** Quits: clemens3 (~clemens@225.40.150.83.ftth.as8758.net) (Ping timeout: 256 seconds)
[04:27:02] *** Joins: cliluw (~cliluw@47.147.77.43)
[04:27:14] *** Quits: A|an (~Alan@173.218.175.171) (Quit: A|an)
[04:27:21] <invra> is there a way to run some commands when chrooting? i been trying with chroot /mnt/chroot /bin/bash  "source /etc/profile"  but it seems like its not working
[04:27:40] *** Joins: useretail (~useretail@185.132.19.151)
[04:27:55] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Quit: WeeChat 3.4)
[04:29:46] <OnlineCop> What does it show if you throw an `echo` between /bin/bash and "source /etc/profile" ?
[04:30:06] <OnlineCop> man chroot
[04:30:09] <larryv> invra: are you sure that your chroot accepts arguments for the command?
[04:30:44] *** Joins: clemens3 (~clemens@225.40.150.83.ftth.as8758.net)
[04:30:56] <OnlineCop> ... shows me [COMMAND [ARG]...] which makes me think the double quotes may not be required?
[04:31:48] <invra> /bin/echo: /bin/echo: cannot execute binary file
[04:31:51] <invra> it fails there
[04:32:14] <OnlineCop> Your /mnt/chroot maybe doesn't have /mnt/chroot/bin/[files] ?
[04:32:23] <invra> yeah it does
[04:32:35] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[04:32:38] <OnlineCop> It's also got a /mnt/chroot/etc/profile ?
[04:32:44] <invra> yes
[04:32:50] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[04:32:57] *** Quits: ano (~ano@user/ano) (Quit: ano)
[04:32:59] <larryv> you're not using the right syntax. would be /bin/bash -c 'foo; bar; baz'
[04:33:00] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[04:33:01] <invra> i think /bin/bash needs an arg to pass a command
[04:33:30] <larryv> "bash /bin/echo" tries to run /bin/echo as a *script*
[04:34:23] <xmb> is /etc/profile bash distro specific, like in vanilla bash not around
[04:35:24] <larryv> https://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html
[04:36:00] <xmb> thank you sir
[04:36:40] <xmb> onlinecop, you can bash <<<$'echo "cmd with quotes"'
[04:36:46] *** Joins: ano (~ano@user/ano)
[04:36:47] <xmb> aka bash <<<"commands"
[04:37:27] <invra> https://dpaste.com/4SJQDRAA8 well this is the script i am writing.. as it is it seems like it coes trought the script but it doesnt actually stay in the chroot... it jsut issues the command and exits the chroot and umounts
[04:37:44] <xmb> thats where such quotes belong to, stdin on bash, bash is command interpreter, and reads commands from stdin ( aka keyboard )
[04:38:14] <xmb> yes it exits
[04:38:16] <xmb> as bash exits
[04:38:34] <xmb> if you want a command shell to continue... hm
[04:38:53] <larryv> invra: are you trying to launch an interactive login shell?
[04:39:08] <xmb> bash --init-file=<( printf %s\\n 'echo foo; source /etc/profile ; echo bar )
[04:39:17] <xmb> bash -i even or so bla
[04:39:29] <xmb> bash --init-file=<( printf %s\\n 'echo foo; source /etc/profile ; echo bar' )
[04:39:53] <larryv> i guess this is happening again.
[04:40:12] <larryv> the lull was nice while it lasted
[04:40:26] <xmb> see i come, help, extern comes and insults
[04:40:32] <xmb> no there is no lul
[04:40:34] <xmb> u unleet
[04:40:47] <Friithian> here I go again (on my own)
[04:41:51] <xmb> # bash --init-file=<( printf %s\\n 'echo welcome; source /etc/profile' ) -i <<<$'PS1=\>; sleep 1'
[04:41:57] <shbot> xmb: bash: --init-file=/dev/fd/63: invalid option
[04:41:58] <shbot> xmb: Usage:  bash [GNU long option] [option] ...
[04:41:58] <shbot> xmb: etc... ( http://ix.io/3Qsc )
[04:42:14] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Remote host closed the connection)
[04:42:16] <larryv> wow so l33t
[04:42:35] <larryv> especially the part where it didn't work
[04:42:40] *** Quits: Tang3nt-Man (~Tang3nt-M@138.199.21.54) (Quit: Leaving)
[04:42:46] <xmb> # # bash --init-file <( printf %s\\n 'echo welcome; : source /etc/profile' ) -i <<<$'echo user_entered'
[04:42:47] <shbot> xmb: no output
[04:43:09] <xmb> <xmb> # bash --init-file <( printf %s\\n 'echo welcome; : source /etc/profile' ) -i <<<$'echo user_entered'
[04:43:09] <xmb> <shbot> welcome
[04:43:09] <xmb> <shbot> echo user_entered
[04:43:09] <xmb> <shbot> user_entered
[04:43:13] <xmb> ..
[04:43:20] <xmb> buggybot already
[04:43:58] <xmb> whatso ever bot .8 is not .16
[04:44:27] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[04:44:33] <xmb> geirha, who's bot is shbot's, hi btw
[04:45:12] <invra> xmb: i dont think that is working. its not greeting with the welcome
[04:45:23] <invra> its not exiting the interactive shell tho
[04:45:29] <xmb> i got insulted first
[04:45:30] <larryv> invra: are you just trying to run an interactive login shell?
[04:45:47] <xmb> i removed /etc/profile source
[04:45:50] <xmb> in bashbot it caused exit
[04:46:07] <invra> yes i am trying to chroot in and issue a couple of commands automatically and some manually after
[04:46:22] <xmb> show the command u tried plz lets fix it
[04:46:32] <larryv> might be sufficient to run bash -l
[04:46:45] *** Quits: dob1 (~dob1@user/dob1) (Quit: quit)
[04:46:50] <xmb> yea -l
[04:46:56] <xmb> for it sources your /etc/profile
[04:46:59] <xmb> for --login
[04:47:08] <xmb> and optional or so -i for interactive
[04:47:14] <xmb> i dunno
[04:47:44] *** Parts: richardm645 (~quassel@2600:8801:c507:b200:5420:9935:51d7:e696) (https://quassel-irc.org - Chat comfortably. Anywhere.)
[04:47:51] *** Joins: richardm645 (~quassel@2600:8801:c507:b200:5420:9935:51d7:e696)
[04:48:17] <invra> chroot /mnt/chroot /bin/bash -l 'echo welcome; : source /etc/profile'
[04:48:28] <invra> this is not working xD  /bin/bash: echo welcome; : source /etc/profile: No such file or directory
[04:48:35] <xmb> hold
[04:48:39] <larryv> it's treating that whole thing as a filename
[04:48:43] *** Joins: dob1 (~dob1@user/dob1)
[04:48:45] <invra> yeah
[04:48:47] <invra> i notused
[04:48:47] <larryv> do you really need to say welcome
[04:48:54] <invra> yes
[04:49:10] <xmb> chroot /mnt/chroot /bin/bash --init-file <( printf %s\\n 'echo welcome' ) -li
[04:49:11] <invra> at least until i debug why i cant source /etc/profile
[04:49:19] <larryv> if you just run
[04:49:20] <xmb> also first without source /etc/profile
[04:49:20] <larryv> bash -l
[04:49:21] <larryv> nothing else
[04:49:23] <larryv> it will source it
[04:49:34] <larryv> (unless bash can't find it)
[04:50:15] <invra> xmb doesnt echo anything xD
[04:50:29] <invra> bash -l will source /etc/profile automagically?
[04:50:34] <xmb> -l is for login
[04:50:38] <xmb> and profile is login
[04:50:41] <xmb> bashrc is nonlogin
[04:51:01] <larryv> invra: yes. login shells source /etc/profile if available
[04:51:05] <xmb> try -il instead of -li
[04:51:18] <larryv> there is probably no need to say -i but whatever
[04:51:26] <invra> still no echoing
[04:51:50] <larryv> does /etc/profile print stuff?
[04:52:01] <invra> larryv: ok so i dont need to source profile as -l does that, but what if i want to echo something then
[04:52:12] <invra> larry no it doesnt print anything
[04:52:53] <xmb> in normal cases like this earlier...
[04:53:09] <xmb> nah doesnt work
[04:53:16] <xmb> no idea why it doesnt print
[04:53:18] <xmb> lets try bot again
[04:53:21] <invra> larryv: so "chroot /mnt/chroot /bin/bash -l" will source /etc/profile automatically i see
[04:53:42] <invra> so that is something i need.
[04:53:43] <xmb> # bash --init-file <( printf %s\\n echo\ hi ) -li <<<"echo user"
[04:53:45] <shbot> xmb: logout
[04:53:50] <xmb> hm
[04:54:29] <xmb> xmb@boost:~$ bash --init-file <( printf %s\\n echo\ hi ) -li <<<"echo user"
[04:54:29] <xmb> xmb@boost:~$ echo user
[04:54:29] <xmb> user
[04:54:29] <xmb> xmb@boost:~$ logout
[04:54:29] <xmb> xmb@boost:~$
[04:54:38] *** Quits: dob1 (~dob1@user/dob1) (Quit: quit)
[04:54:43] <xmb> logout cause <<<echo whatever ends, user input not
[04:55:51] <larryv> invra: would be way easier to just echo before running that chroot command
[04:55:55] <invra> yeah i am gettign the same--- it echoes user and logout
[04:56:00] <larryv> i think you're overcomplicating this
[04:56:20] <xmb> your script.. what does rbind do, i always do mount --bind
[04:56:21] <invra> larry the thing is that i want to issue some commands in the chroot. not in the system running the script
[04:56:28] <xmb> invra
[04:56:33] <xmb> remove the <<<"echo 2" part
[04:56:39] <xmb> and it stays with user input to enter
[04:57:08] <invra> xmb: it doesnt echo anything tho
[04:57:19] <xmb> paste line
[04:57:28] <invra> chroot /mnt/chroot /bin/bash --init-file <( printf %s\\n echo\ hi ) -li
[04:57:37] <invra> shouldnt it be echoing hi
[04:57:41] <xmb> correct, hmm
[04:57:42] <xmb> yea
[04:58:02] <xmb> there should be 'echo\ hi' i dont see in irc right
[04:58:07] <xmb> for making it one arg
[04:58:09] <xmb> then it should
[04:58:23] <xmb> try --version
[04:58:24] <xmb> whats it say
[04:58:40] <invra> GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)
[04:58:51] <xmb> thats good
[04:59:04] <xmb> yea i dunno, but we can test with other code
[04:59:21] <xmb> chroot /mnt/chroot /bin/bash --init-file <( printf %s\\n $'x=1' ) -li
[04:59:24] *** Quits: FluffyMask (~masque@user/fluffymask) (Quit: WeeChat 3.4)
[04:59:28] <xmb> and enter echo $x at prompt
[05:00:17] *** Joins: dob1 (~dob1@user/dob1)
[05:00:25] <invra> well it prints an empty line
[05:00:28] <xmb> :/
[05:00:32] <xmb> says its not working then
[05:00:36] <invra> shoudlnt it be printing 1
[05:00:42] <xmb> it should
[05:00:56] <xmb> ah
[05:01:01] <xmb> your profile, can u share
[05:01:04] <xmb> i think its faulty big time
[05:01:11] <xmb> otherwise, remove the -l for only -i
[05:01:18] <xmb> but that doesnt source the profile but its a test worth
[05:01:36] <larryv> invra: if you use -l, then --init-file doesn't do anything
[05:01:37] <invra> well the profile is the default untouched gentoo profile in this cause.
[05:01:48] <xmb> it did for me larry i think
[05:01:48] <invra> https://dpaste.com/EK54T2G26
[05:01:54] <xmb> yea i showed
[05:02:01] <xmb> larry my paste from @boost
[05:02:32] <invra> what paste?
[05:02:35] <xmb> i suggest you not use this file for what u need it u dont even have customizations, do u have in some .d/ dir stuff ?
[05:02:45] <xmb> i was talking to larry, i pasted it worked for me
[05:03:14] <larryv> <xmb>	xmb@boost:~$ bash --init-file <( printf %s\\n echo\ hi ) -li <<<"echo user"
[05:03:15] <larryv> <xmb>	xmb@boost:~$ echo user
[05:03:15] <larryv> <xmb>	user
[05:03:15] <larryv> <xmb>	xmb@boost:~$ logout
[05:03:17] <larryv> you mean this?
[05:03:24] <xmb> oh
[05:03:26] <xmb> my fault
[05:03:27] <xmb> ugh
[05:03:31] <xmb> yes blame me double
[05:03:36] <invra> this doesnt work chroot /mnt/chroot /bin/bash --init-file <( printf %s\\n $'x=1' ) -i
[05:03:39] <xmb> i showed it doesnt work .. sorry
[05:03:43] <llua> oh, greycat is going to love this.
[05:03:51] *** Quits: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8) (Ping timeout: 252 seconds)
[05:03:54] <xmb> he would discuss fairly with
[05:04:03] <xmb> and clear up things
[05:04:06] <xmb> not like insult like you
[05:04:08] <invra> why is this so complicated lol
[05:04:14] <xmb> its hard mate
[05:04:23] *** Joins: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8)
[05:04:25] <xmb> sec plz
[05:04:33] *** Quits: n4dir (~user@mue-88-130-56-212.dsl.tropolys.de) (Remote host closed the connection)
[05:04:45] <invra> it looks retardedly easy, yet i been on that line for 3 hours so far. i tried everything i can think of and a bunch of googled crap
[05:04:58] <llua> well, to clear things up; he will love the fact that you are back in the channel
[05:04:59] <xmb> xmb@boost:~$ bash --init-file <( printf %s\\n echo\ hi ) -i
[05:04:59] <xmb> hi
[05:04:59] <xmb> xmb@boost:~$ ( here is logged in without colored prompt )
[05:05:15] <xmb> googled crap u say it
[05:05:29] <xmb> oh in a positive way i ask you llua ?
[05:05:34] <xmb> cause it didnt sound so to me
[05:05:37] <xmb> if so cool i like too
[05:05:46] <OnlineCop> What exactly are you trying to accomplish? Create a script that will be used in an environment? Overthrow the known government? Run a few user-supplied scripts within a sandbox so you don't malware your entire machine?
[05:05:51] <llua> i am going to enjoy it; so positive.
[05:06:03] <xmb> ah well
[05:06:11] <xmb> i get it, its too stupid, /eof
[05:06:38] *** Joins: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net)
[05:07:08] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[05:07:35] <invra> OnlineCop: i want to nuke putin. but shh
[05:07:57] <xmb> onlinecop nuke'em
[05:08:04] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[05:08:05] <invra> xmb: that last worked for you?
[05:08:10] <xmb> yes
[05:08:17] <xmb> and waits for cmd entering, i exited
[05:08:26] *** Joins: Atque (~Atque@user/atque)
[05:08:27] <larryv> invra:  if you put these commands in an external file, you could just pass that file as the arg to --init-file. otherwise...
[05:08:30] <larryv> # bash --init-file <(printf '%s\n' 'echo hi' 'echo bye') -i
[05:08:37] <shbot> larryv: hi
[05:08:37] <shbot> larryv: bye
[05:09:43] <invra> what about the bash -c?
[05:09:48] <xmb> it exits
[05:09:51] <xmb> u wanted shell further in
[05:09:58] <xmb> maybe create a script to proceed
[05:09:58] <invra> oh true
[05:10:07] <xmb> like a menu, with few points, what u wanna do, a exit menu point
[05:10:32] <xmb> and then no shell input -i, only this script
[05:10:37] <xmb> like the user's script
[05:12:57] *** Joins: w1r3d (~w1r3d@user/w1r3d)
[05:13:04] <invra> https://askubuntu.com/questions/551195/scripting-chroot-how-to
[05:13:25] <invra> there is some examples here that i found
[05:13:25] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aÐ»Ð»Ð¸Ð»Ñ¹Ñ–Ð°!)
[05:13:57] <xmb> you sudo one not sudo other this is no good
[05:14:24] <xmb> solution: line 2: [[ $EUID != 0 ]] && exec sudo bash "$0"
[05:14:30] <xmb> and no other sudo in code
[05:14:48] <xmb> but anyway i in chroots always do mount --bind those fs'es
[05:15:10] <xmb> like when i use debootstrap to install debian from debian
[05:15:32] <xmb> oh nevermind i think i completly misunderstood the question
[05:15:53] <xmb> yea my mount --bind is also in the posts
[05:15:56] <xmb> [not my post]
[05:16:44] <invra> are you sure about [[ $EUID != 0 ]] && exec sudo bash "$0"
[05:16:52] <invra> i jsut tried it and it spits out a bunch of errors
[05:17:22] <xmb> no its not this
[05:17:25] <xmb> this is for another case
[05:17:31] <xmb> yours is, show the exact warning error
[05:17:34] <xmb> but
[05:17:37] <xmb> do the mount --bind one
[05:17:55] <invra> ?
[05:18:08] <xmb> root=/ chroot=/foo ; for f in dev proc sys run ; do mount --bind "$root$f" "$chroot$f" ; done
[05:18:14] <xmb> this before chrooting inside
[05:18:50] <invra> [[ $EUID != 0 ]] && exec sudo bash "$0"
[05:18:57] <xmb> no
[05:18:59] <xmb> not this at all
[05:19:01] <invra> xmb: https://wiki.gentoo.org/wiki/Chroot
[05:19:08] <invra> it says to use rbind
[05:19:09] <xmb> the root=/ etc
[05:19:15] <xmb> i dunno i --bind
[05:20:04] *** Quits: cliluw (~cliluw@47.147.77.43) (Ping timeout: 272 seconds)
[05:21:09] <invra> --rbind             -- remount part of filesystem including submounts elsewhere
[05:21:15] <invra> --bind              -- remount part of filesystem elsewhere
[05:21:23] <xmb> looks good
[05:21:25] <xmb> use rbind
[05:21:50] <xmb> good that u looked it up, +1
[05:21:57] <invra> yeah i was curious
[05:22:14] <xmb> i learned so too
[05:22:27] <xmb> i can never say enough how better interactive chat rather than shitty books are
[05:22:31] <invra> cause to be honest i allways used bind aswell, jsut the gentoo wiki has rbind
[05:22:44] <xmb> ehe
[05:22:50] <invra> oh arch wiki too
[05:23:04] <xmb> i never read em
[05:23:12] <xmb> i cant stand their arrogancy and stupidity
[05:23:20] <xmb> every google results or web page
[05:23:24] <invra> Warning: When using --rbind, some subdirectories of dev/ and sys/ will not be unmountable. Attempting to unmount with umount -l in this situation will break your session, requiring a reboot. If possible, use -o bind instead.
[05:23:30] <xmb> they think they're the cool while their products is under every quality
[05:23:50] <invra> what product you talking about arch?
[05:24:01] <xmb> oh, every, man
[05:24:14] <xmb> pages with big ugly margin, no information, and ugly ads are standard
[05:24:15] <xmb> all
[05:24:15] <invra> to me arch and gentoo wikis are the spot to go when i need some quick info
[05:24:21] <xmb> i cant navigate git* info at all
[05:24:33] <xmb> okay i learned all from here long ago
[05:25:16] <invra> aight so i guess i will just chroot  /bin/bash -l and issue all the extra commands manually or troughtr a script as it seems to be the only way
[05:25:29] *** Joins: ke4nhw (~ke4nhw@user/ke4nhw)
[05:25:41] *** Parts: ke4nhw (~ke4nhw@user/ke4nhw) ()
[05:25:46] <xmb> aye, good luck further
[05:25:48] *** Joins: ke4nhw (~ke4nhw@user/ke4nhw)
[05:25:51] *** Joins: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp)
[05:26:16] <invra> got one question... should i spin up a docker image to test potentially dangerous scripts that i write or is there any other way i can do it? i dont really like dock too much
[05:26:52] <xmb> i 1) dont like dockr n stuff 2) have so no idea, i never did so, sometimes it broke, but i learn
[05:26:55] <invra> id need a vm or something where i dont care if i accidently rm -rf with a script or so
[05:27:08] <xmb> well
[05:27:10] <xmb> you can
[05:27:22] <invra> setup a chroot xD
[05:27:24] <xmb> for example, have a main vm, and replicate it to backups
[05:27:29] <xmb> or a chroot
[05:27:36] <xmb> then u always work in chroot sys
[05:27:41] *** Joins: cliluw (~cliluw@47.147.77.43)
[05:27:42] <xmb> and every day once twice backup
[05:27:45] <xmb> when it breaks one day back
[05:27:56] <invra> so jsut grab a stage3 tarball from gentoo chroot into it and work from there
[05:27:59] <invra> right?
[05:28:00] <ke4nhw> Hi. I am wanting to search a file with grep or egrep to find specific things, and not other things. For example, 'egrep "220[0-9]" /etc/services' (using this as a test), does show all 10 of those numbers, but then starts showing results in the 22000's as well. How do I limit the data to only the sample I am searching for?
[05:28:08] <xmb> i guess, no idea, i debian
[05:28:30] <invra> well yeah in debian you would debootstrap and chroot no?
[05:28:30] *** Quits: cliluw (~cliluw@47.147.77.43) (Read error: Connection reset by peer)
[05:28:31] <xmb> use awk kenshw
[05:28:51] <xmb> oh
[05:29:02] <xmb> try egrep "\<220[0-9]\>"
[05:29:04] <invra> and test the scripts in there i guess
[05:29:10] *** Joins: ntwk1 (~ntwk@user/ntwk)
[05:29:17] <ke4nhw> I'm even less familiar with awk, as the few times I looked at it, it has a very confusing syntax...
[05:29:19] <xmb> well i dunno here i just joined from long ago off
[05:29:24] *** Quits: sobkas (~sobkas@95.175.17.217) (Quit: sobkas)
[05:29:29] <xmb> they told me always 'go msg the bot'
[05:29:37] <xmb> its the same hold on
[05:29:54] <ke4nhw> yep
[05:29:56] <xmb> awk '/\<220[0-9]\>/' # i thought u needed excludements like specific ones
[05:30:11] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:30:23] *** Joins: cliluw (~cliluw@47.147.77.43)
[05:30:50] <ke4nhw> can you provide me a link to understanding the expressions in bash, and one for awk? that is where I always have problems, is that syntax.
[05:31:01] <OnlineCop> I've used `grep -P` for so long, that I don't even remember that \< and \> were word boundaries...
[05:31:15] <xmb> no i dont have links
[05:31:20] *** Quits: ntwk (~ntwk@user/ntwk) (Ping timeout: 252 seconds)
[05:31:55] <OnlineCop> `\<` is going to match where "words" (i.e. [a-zA-Z0-9_]) have non-"words" to the left, while `\>` is going to assert that you're at the end of another "word".
[05:33:22] <OnlineCop> So `\<220[0-9]\>` will assert that the first '2' of '220x' isn't inside some other text, like 'a2209' or '12209'. Same concept with the `\>` on the other end: `2200` through `2209` matches, but `2200a` or `22000` will fail, since there's no "word boundary" between the "220[0]" and the letter/digit after it.
[05:34:27] <xmb> thats the fine explainment for the \< and \>, rest i guess u know a bit
[05:34:44] <llua> all to avoid adding / to the end of the pattern
[05:35:04] <OnlineCop> `grep -P '\b220\d\b'` :D
[05:35:14] *** ntwk1 is now known as ntwk
[05:35:34] <xmb> good one
[05:36:44] *** Quits: knstn (~knstn@ppp-94-66-57-125.home.otenet.gr) (Quit: leaving)
[05:37:08] <OnlineCop> ke4nhw: https://www.regular-expressions.info/refwordboundaries.html and switch the 2x dropdowns to POSIX ERE/BRE. Should show word boundaries in case it differs (for example, `[[:<:]]` for POSIX, which also works within `less`).
[05:37:47] <OnlineCop> I tried `[:<:]` in less today. Forgot that unless I have an outer '[...]' around it, that it was trying to match those characters literally.
[05:37:49] <xmb> # gawk -v RS='\<220[0-9]\>' 'RT { print RT }' <<<$'12202 2202 22022'
[05:37:50] <shbot> xmb: gawk: warning: escape sequence `\<' treated as plain `<'
[05:37:51] <shbot> xmb: gawk: warning: escape sequence `\>' treated as plain `>'
[05:38:40] <xmb> # gawk -v RS='\\<220[0-9]\\>' 'RT { print RT }' <<<$'12202 2202 22022'
[05:38:42] <shbot> xmb: 2202
[05:38:44] <OnlineCop> # egrep -o '\<220[0-9]\>' <<<$'12202 2202 22022'
[05:38:46] <shbot> OnlineCop: bash: egrep: command not found
[05:38:52] <OnlineCop> # grep -Eo '\<220[0-9]\>' <<<$'12202 2202 22022'
[05:38:53] <shbot> OnlineCop: 2202
[05:38:54] <wiscii> funny how regular expressions aren't so regular after all ;-)
[05:38:58] <xmb> good :)
[05:39:10] <OnlineCop> # grep -Eo '[[:<:]]220[0-9][[:>:]]' <<<$'12202 2202 22022'
[05:39:12] <shbot> OnlineCop: grep: Invalid character class name
[05:39:28] <xmb> thats no -E
[05:39:32] *** Quits: drbeco (~beco@2804:351c:dd00:f100:2b17:8b50:fe72:25ea) (Quit: Leaving)
[05:39:33] <OnlineCop> # grep -o '[[:<:]]220[0-9][[:>:]]' <<<$'12202 2202 22022'
[05:39:34] <shbot> OnlineCop: grep: Invalid character class name
[05:39:35] *** Joins: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net)
[05:39:41] <xmb> at most -P
[05:39:43] <OnlineCop> Sorry, POSIX. We hate you.
[05:39:52] <OnlineCop> # grep -Po '[[:<:]]220[0-9][[:>:]]' <<<$'12202 2202 22022'
[05:39:54] <shbot> OnlineCop: 2202
[05:39:57] *** Quits: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net) (Client Quit)
[05:40:05] <OnlineCop> Well, yeah. PCRE likes EVERYTHING.
[05:40:11] *** Joins: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net)
[05:40:13] <xmb> id like to learn pcre, somewhen
[05:40:24] <wiscii> POSIX has no emotional attachments to your 'isms'
[05:40:38] <OnlineCop> Join us in #regex. We enjoy bashing on POSIX.
[05:40:43] <Friithian> POSIX has no emotion
[05:41:15] <xmb> icon-ocean
[05:41:18] <OnlineCop> Does shbot use a grep which is POSIX-compliant?
[05:41:18] <cuppajoe> why do #regex members enjoy bashing POSIX?
[05:41:56] <OnlineCop> Well, not all of us. Just the ones that have gone soft and started using PCRE or ECMAscript for anything that we don't want to battle with. Like sed's regex.
[05:42:41] <wiscii> that almost sounds like a phobia
[05:42:53] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 252 seconds)
[05:43:39] <xmb> gnite
[05:46:24] * wiscii killed chat, sorry
[05:48:07] *** Joins: mccoy_ (~mccoy@p5dcbaf8b.dip0.t-ipconnect.de)
[05:48:13] *** Quits: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net) (Quit: WeeChat 3.4)
[05:49:13] *** Joins: steam (~steam@user/steam)
[05:49:40] *** Joins: drbeco (~beco@2804:351c:dd00:f100:2b17:8b50:fe72:25ea)
[05:50:05] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[05:50:12] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[05:50:37] *** Quits: mccoy__ (~mccoy@pd9e3f35d.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[05:53:52] <ke4nhw> Awesome, and I got the URL open, thanks everyone :) this will come in handy quite a bit! I'm gonna step away for a minute, I have to start working on a script for my logging.
[05:53:59] <ke4nhw> Thanks again :)
[05:54:06] <OnlineCop> There's always log4j...
[05:56:23] *** Joins: superboot (~agentgasm@user/superboot)
[05:57:03] *** Joins: skered (~dereks@user/skered)
[05:57:33] *** Quits: seninha (~chatzilla@user/seninha) (Quit: ChatZilla 0.9.93 [SeaMonkey 2.53.10.2/20220219201334])
[06:02:04] *** Quits: jaysicks (~jaysicks@fibhost-66-137-185.fibernet.hu) (Remote host closed the connection)
[06:03:02] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 256 seconds)
[06:03:31] <larryv> # grep --version
[06:03:33] <shbot> larryv: grep (GNU grep) 3.1
[06:03:33] <shbot> larryv: Copyright (C) 2017 Free Software Foundation, Inc.
[06:03:33] <shbot> larryv: etc... ( http://ix.io/18Im )
[06:03:36] <larryv> OnlineCop ^
[06:03:51] *** Joins: rgrinberg (~textual@2806:101e:7:70b6:a526:824c:9b4d:f939)
[06:04:46] *** Quits: locrian9 (~mike@4.71.132.228) (Quit: leaving)
[06:06:40] *** Quits: justAstache (~justache@user/justache) (Read error: Connection reset by peer)
[06:07:32] *** Joins: justAstache (~justache@user/justache)
[06:15:57] *** Joins: A|an (~Alan@173.218.175.171)
[06:17:12] *** Quits: rcernin (~rcernin@124.190.132.36) (Ping timeout: 256 seconds)
[06:18:09] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[06:19:06] *** Joins: rcernin (~rcernin@124.190.132.36)
[06:20:50] *** Joins: volga629 (~volga629@72.139.93.26)
[06:26:57] *** Joins: Swahili_ (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[06:27:37] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Ping timeout: 240 seconds)
[06:27:47] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b54e:3ae0:a83b:fc60)
[06:34:41] <ke4nhw> log4j? Haven't used it before, I'll give it a look and see what it does. The script I am planning to write will handle daily archiving, scanning, flagging (if necessary), securing, and checksums for my logs. It can also run an additional line in the script that can rsync it to another system that is inward-facing only.
[06:34:50] *** Joins: ffl^ (~ffl@50-202-219-146-static.hfc.comcastbusiness.net)
[06:35:24] <ke4nhw> But I will definitely give that a looksee, no need to reinvent the wheel unless I can improve on the wheel...
[06:36:07] <larryv> ke4nhw: pretty sure it was a joke
[06:36:28] *** Quits: jos1 (~jos3@host-091-097-186-159.ewe-ip-backbone.de) (Ping timeout: 256 seconds)
[06:36:36] <ke4nhw> Ahh, okay, again I'm not familiar with the product. Guess there's a good reason why then lol
[06:37:00] <Friithian> it was a heavily used java logging system that hey ho it had (has maybe) a *massive* security vuln
[06:37:23] <larryv> lol search for log4j and you'll understand lol
[06:38:11] <ke4nhw> Oh wow, yeah, no
[06:38:24] <ke4nhw> I just saw that in google
[06:39:36] *** Joins: xx (~xx@user/xx)
[06:43:26] *** Quits: dob1 (~dob1@user/dob1) (Quit: quit)
[06:43:45] *** Quits: superboot (~agentgasm@user/superboot) (Quit: leaving)
[06:43:48] <ke4nhw> May be better to just write my own script. If only there was a way that I could stop even root from being able to write to log files (read access only), that would improve the odds of the logs not being tampered with before it gets archived that day. I'm sure there's already a really good logging software out there, given how critical logging is for system maintenance and protection (and
[06:43:48] <ke4nhw> prosecution).
[06:43:55] <ke4nhw> The hunt is on
[06:43:59] <ke4nhw> lol
[06:44:12] *** Joins: dob1 (~dob1@user/dob1)
[06:45:03] *** Quits: Swahili_ (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Quit: Leaving...)
[06:45:24] <ke4nhw> In the meantime, I'll just continue what I'm doing now, till I get something else in place.
[06:45:34] <ke4nhw> Ok, pizza time, brb lol...
[06:49:57] *** Joins: jos1 (~jos3@dyndsl-178-142-067-053.ewe-ip-backbone.de)
[06:51:25] *** Quits: crashrep (~crashrep@user/crashrep) (Quit: WeeChat 3.4)
[06:51:55] *** Quits: tejr (~tejr@user/tejr) (Ping timeout: 240 seconds)
[06:52:16] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[06:52:29] *** Quits: volga629 (~volga629@72.139.93.26) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[06:53:56] *** Joins: tejr (~tejr@user/tejr)
[06:59:25] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[07:00:02] *** Quits: zuplex (~zuplex@202.51.76.195) (Remote host closed the connection)
[07:01:11] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b54e:3ae0:a83b:fc60) (Ping timeout: 245 seconds)
[07:02:29] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[07:02:32] *** Quits: masoudd (~masoudd@user/masoudd) (Ping timeout: 256 seconds)
[07:04:49] *** Joins: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66)
[07:07:15] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[07:08:07] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[07:11:04] *** Quits: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1) (Quit: The Lounge - https://thelounge.chat)
[07:11:29] *** Joins: terrorjack (~terrorjac@static.3.200.12.49.clients.your-server.de)
[07:13:42] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[07:14:55] *** Quits: vysn (~vysn@user/vysn) (Quit: WeeChat 3.4)
[07:15:13] *** Quits: dob1 (~dob1@user/dob1) (Quit: quit)
[07:15:33] *** Joins: dob1 (~dob1@user/dob1)
[07:16:36] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 272 seconds)
[07:17:41] <pj> ke4nhw: you can use: grep -P '\b220[0-9]\b'.  The \b in pcre matches a word boundary.
[07:20:14] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[07:22:37] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 240 seconds)
[07:23:37] *** Joins: zuplex (~zuplex@202.51.76.195)
[07:24:01] *** Joins: filename (~kilitary@kilitary.xyz)
[07:25:20] <ke4nhw> cool, thanks :) multiple ways to perform the same task, love it
[07:26:57] <pj> ke4nhw: the \b matches in between a word and non-word character, though, so if you're expecting something like, "A2205X" then \b won't match the boundary there, for that you'll want a negative look ahead / look behind assertion.
[07:27:53] <pj> iirc word characters in PCRE is alphanumeric and "_".
[07:34:20] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 272 seconds)
[07:36:01] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:40:01] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Client Quit)
[07:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:40:47] *** Quits: yuesbeez (uid458354@id-458354.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[07:47:53] *** Joins: n4dir (~user@mue-88-130-56-031.dsl.tropolys.de)
[07:56:17] *** Joins: kurahaupo_ (~kurahaupo@pa49-197-70-58.pa.qld.optusnet.com.au)
[07:58:07] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 256 seconds)
[07:58:36] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 240 seconds)
[07:59:05] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[07:59:25] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[07:59:41] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[08:00:42] *** Quits: libsys (~libsys@186.105.130.50) (Read error: Connection reset by peer)
[08:00:48] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[08:02:36] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[08:04:35] *** Quits: edlou (uid413273@id-413273.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[08:07:00] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 240 seconds)
[08:11:32] *** Joins: libsys (~libsys@186.105.187.237)
[08:14:44] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[08:15:12] <wiscii> !pd
[08:15:12] <greybot> provide-data
[08:15:28] <wiscii> !denied
[08:16:34] *** Quits: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net) (Quit: Lost terminal)
[08:17:00] <wiscii> !faq
[08:17:00] <greybot> wiscii: No matches found at https://mywiki.wooledge.org/BashFAQ
[08:17:07] *** Joins: han-solo (~hanish@user/han-solo)
[08:17:15] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[08:17:25] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 272 seconds)
[08:19:07] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[08:19:21] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[08:21:57] <wiscii> when a parameter expands to an empty srting but it was meant to be a command ..
[08:22:12] *** Quits: kurahaupo_ (~kurahaupo@pa49-197-70-58.pa.qld.optusnet.com.au) (Ping timeout: 240 seconds)
[08:22:23] *** Quits: drbeco (~beco@2804:351c:dd00:f100:2b17:8b50:fe72:25ea) (Quit: Leaving)
[08:22:30] <wiscii> and now i know the solution
[08:23:42] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[08:28:03] *** Quits: howdoi (uid224@id-224.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[08:34:23] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[08:46:01] *** Quits: libsys (~libsys@186.105.187.237) (Read error: Connection reset by peer)
[08:47:16] *** Quits: e36freak (~e36freak@user/e36freak) (Quit: leaving)
[08:49:00] *** Quits: rcernin (~rcernin@124.190.132.36) (Ping timeout: 240 seconds)
[08:49:04] *** Joins: e36freak (~e36freak@user/e36freak)
[08:49:17] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 240 seconds)
[08:49:39] *** Joins: rcernin (~rcernin@124.190.132.36)
[08:50:01] *** Quits: ke4nhw (~ke4nhw@user/ke4nhw) (Remote host closed the connection)
[08:54:13] *** Joins: libsys (~libsys@186.105.187.237)
[08:55:53] *** Quits: w1r3d (~w1r3d@user/w1r3d) (Read error: Connection reset by peer)
[08:55:56] *** Joins: w1r4d (~w1r3d@user/w1r3d)
[08:59:18] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b54e:3ae0:a83b:fc60)
[09:01:15] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 256 seconds)
[09:01:53] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[09:09:30] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Ping timeout: 260 seconds)
[09:12:51] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[09:15:01] *** Joins: Guest20 (~Guest20@S0106f0f249814353.ed.shawcable.net)
[09:19:16] *** Quits: Guest20 (~Guest20@S0106f0f249814353.ed.shawcable.net) (Client Quit)
[09:19:46] *** Joins: filename (~kilitary@kilitary.xyz)
[09:25:12] *** Quits: n4dir (~user@mue-88-130-56-031.dsl.tropolys.de) (Remote host closed the connection)
[09:28:10] *** Quits: timj (~timj@user/timj) (Ping timeout: 256 seconds)
[09:28:42] *** Quits: A|an (~Alan@173.218.175.171) (Quit: A|an)
[09:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:32:50] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b54e:3ae0:a83b:fc60) (Ping timeout: 260 seconds)
[09:35:54] *** Quits: Giovanni (~Giovanni@176.67.166.45) (Read error: Connection reset by peer)
[09:41:18] *** Joins: Giovanni (~Giovanni@176.67.166.45)
[09:42:25] *** Joins: timj (~timj@user/timj)
[09:43:25] *** Joins: nattiestnate (~nate@182.2.41.240)
[09:43:40] *** Joins: eroux (~eroux@102-65-85-242.ftth.web.africa)
[09:48:24] *** Quits: auk (auk@gateway/vpn/protonvpn/auk) (Quit: Leaving)
[09:49:15] *** Joins: KBar (~KBar@213.230.80.1)
[09:49:28] *** Parts: KBar (~KBar@213.230.80.1) ()
[09:51:58] *** Quits: rgrinberg (~textual@2806:101e:7:70b6:a526:824c:9b4d:f939) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[09:53:44] *** Quits: loganlee[gnu] (~Thunderbi@user/loganlee) (Quit: loganlee[gnu])
[09:54:42] *** Joins: loganlee[gnu] (~Thunderbi@user/loganlee)
[09:58:50] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[10:00:19] *** Quits: bluedust (~bluedust@61.3.164.166) (Remote host closed the connection)
[10:06:58] *** Joins: easyriders (~easyrider@83-233-246-108.cust.bredband2.com)
[10:09:37] *** Quits: lotharn (~kvirc@2600:8800:280:d400:60fd:bd0d:9a25:c3f3) (Ping timeout: 240 seconds)
[10:10:08] *** Quits: w1r4d (~w1r3d@user/w1r3d) (Quit: Leaving)
[10:12:10] *** Joins: dea_ (~dea@5.121.210.143)
[10:17:44] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[10:18:10] *** Joins: bluedust (~bluedust@61.3.164.166)
[10:19:38] *** Quits: easyriders (~easyrider@83-233-246-108.cust.bredband2.com) (Ping timeout: 272 seconds)
[10:23:49] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[10:24:24] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[10:24:43] *** Quits: qub411 (~user@118.209.248.55) (Quit: WeeChat 3.4)
[10:25:11] *** Joins: dreamon (~dreamon@pd95035d1.dip0.t-ipconnect.de)
[10:32:36] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[10:33:24] *** Quits: dreamon (~dreamon@pd95035d1.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[10:36:03] *** Quits: bliminse (~bliminse@host86-158-241-239.range86-158.btcentralplus.com) (Ping timeout: 252 seconds)
[10:36:48] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[10:38:01] *** Joins: bliminse (~bliminse@host109-152-150-162.range109-152.btcentralplus.com)
[10:39:02] *** Joins: Hackerpcs (~user@user/hackerpcs)
[10:39:18] *** Quits: Hackerpcs (~user@user/hackerpcs) (Max SendQ exceeded)
[10:39:48] *** Joins: Sauvin (~sauvin@about/linux/staff/sauvin)
[10:40:25] *** Joins: Hackerpcs (~user@user/hackerpcs)
[10:42:05] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[10:42:30] *** Joins: filename (~kilitary@kilitary.xyz)
[10:45:54] *** Joins: igemnace (~ian@user/igemnace)
[10:45:58] *** Joins: easyriders (~easyrider@83-233-246-108.cust.bredband2.com)
[10:49:05] *** Quits: libsys (~libsys@186.105.187.237) (Read error: Connection reset by peer)
[10:51:03] *** Quits: rcernin (~rcernin@124.190.132.36) (Quit: WeeChat 3.4)
[10:51:35] *** Quits: loganlee[gnu] (~Thunderbi@user/loganlee) (Quit: loganlee[gnu])
[10:57:56] *** Quits: xmb (~xmb@178.197.197.147) (Read error: Connection reset by peer)
[10:58:17] *** Joins: libsys (~libsys@186.105.187.237)
[11:01:18] *** Joins: yustin (~yustin@user/yustin)
[11:03:20] *** Quits: easyriders (~easyrider@83-233-246-108.cust.bredband2.com) (Ping timeout: 272 seconds)
[11:07:30] *** Quits: dea_ (~dea@5.121.210.143) (Remote host closed the connection)
[11:11:32] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[11:11:52] *** Joins: freep (~freepppp@193.92.35.32.dsl.dyn.forthnet.gr)
[11:12:44] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[11:13:41] *** Quits: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com) (Ping timeout: 245 seconds)
[11:15:05] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[11:15:48] *** Joins: remirol (~lorimer@user/lorimer)
[11:15:48] *** Quits: lorimer (~lorimer@user/lorimer) (Killed (NickServ (GHOST command used by remirol)))
[11:15:49] *** remirol is now known as lorimer
[11:17:56] *** Joins: MajorBiscuit (~MajorBisc@c-001-017-039.client.tudelft.eduvpn.nl)
[11:18:25] *** Joins: tobybl (~tobybl@229.193.115.87.dyn.plus.net)
[11:19:27] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[11:19:38] <wyre> could I do this without a function? https://bpa.st/VMIA
[11:19:39] <checkbot> wyre: I think the problem is on line 8. Double quote array expansions to avoid re-splitting elements. See 4 issues on https://shellcheck.net/?id=cb2579
[11:21:19] <geirha> IFS=' ' string="$*" ; unset -v IFS
[11:21:33] <geirha> ah wait, you wanted newline, not space
[11:21:42] <geirha> IFS=$'\n' string="$*" ; unset -v IFS
[11:22:13] <geirha> printf -v string '%s\n' "$@"  may also be an option, but the string will have a trailing newline as well
[11:22:19] *** Quits: nattiestnate (~nate@182.2.41.240) (Quit: WeeChat 3.4)
[11:22:47] <geirha> also, learn to quote
[11:22:53] <geirha> !arguments > wyre
[11:22:53] <greybot> wyre: Understanding Arguments and Word Splitting: http://mywiki.wooledge.org/Arguments
[11:23:36] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Remote host closed the connection)
[11:24:36] *** Joins: arinov_ (~arinov@213.194.126.155)
[11:24:56] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[11:28:58] *** Joins: rendar (~rendar@user/rendar)
[11:30:50] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[11:30:50] *** Joins: iliv (~iliv@user/iliv)
[11:32:02] *** Joins: sinaowolabi_ (~SinaOwola@160.152.109.220)
[11:33:41] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[11:36:25] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[11:39:51] *** Joins: lavaball (felix@31.204.155.215)
[11:43:39] *** Quits: marcel (~marcel@user/marcel) (Quit: The Lounge - https://thelounge.chat)
[11:43:53] *** Quits: led_belly (~led_belly@37.120.197.44) (Ping timeout: 256 seconds)
[11:44:28] *** Joins: marcel (~marcel@user/marcel)
[11:45:01] *** Joins: iomari891 (~iomari891@105.112.138.38)
[11:50:03] *** Joins: led_belly (~led_belly@37.120.197.44)
[11:52:17] *** Quits: richardm645 (~quassel@2600:8801:c507:b200:5420:9935:51d7:e696) (Ping timeout: 240 seconds)
[11:57:19] *** Joins: sinaowolabi (~SinaOwola@160.152.109.220)
[11:59:11] *** Quits: Blondie101010 (~Blondie10@user/blondie101010) (Ping timeout: 256 seconds)
[12:00:15] *** Joins: jaysicks (~jaysicks@fibhost-66-137-185.fibernet.hu)
[12:01:16] *** Joins: rkta_ (~rkta@2001:4ba0:cafe:eaf::1)
[12:02:07] *** rkta_ is now known as rkta
[12:06:36] *** Quits: mat001 (~mat001@c-71-202-208-88.hsd1.ca.comcast.net) (Read error: Connection reset by peer)
[12:06:47] *** Quits: moviuro_ (~moviuro@znc.popho.be) (Quit: Reboot? Or did my jail(8) just die?)
[12:07:11] *** Joins: moviuro (~moviuro@znc.popho.be)
[12:08:32] *** Joins: l4s8g_ (~l4s8g@pd9e62e01.dip0.t-ipconnect.de)
[12:09:41] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[12:13:27] *** Joins: tercaL (~tercaL@user/tercal)
[12:14:14] *** Joins: vysn (~vysn@user/vysn)
[12:15:35] *** Joins: sopparus (uid315370@id-315370.lymington.irccloud.com)
[12:15:51] <sopparus> is there a way to remove cat from "dog cat horse"
[12:15:57] <sopparus> I was hoping -vo but no :)
[12:16:04] <sopparus> with grep
[12:16:51] <geirha> with grep, no, that's out of grep's scope
[12:17:26] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 272 seconds)
[12:17:34] <sopparus> ok, any tip on what I should use?
[12:17:55] <geirha> sed or awk comes to mind
[12:18:27] <geirha> sed 's/ cat / /g'
[12:20:09] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[12:22:18] *** Joins: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de)
[12:24:00] *** Joins: dante-as (~dante-as@188.24.161.140)
[12:24:12] *** Quits: seventh_1 (~seventh__@145.139.199.178.dynamic.wline.res.cust.swisscom.ch) (Quit: Yipeeeee)
[12:24:33] <dante-as> Hi guys, this evaluation should work as expected? `if [[ ${username[$name]} == *$users_in_db* ]]; then`
[12:25:01] <wyre> geirha, no, I actually want to use the spacebar as separator, but I was thinking about just doing something like `IFS=' '; printf "%s\n" "$@[*]"; unset -v IFS`
[12:25:06] <isabella> dante-as: swap the two sides
[12:25:33] <wyre> to get something like `arg1 arg2 arg3 arg4 ...`
[12:25:34] <isabella> [[ $list = *$name* ]]
[12:25:54] <isabella> also presumably you want to add the separators too, [[ ,$list, = *,$name,* ]]
[12:26:30] <geirha> If IFS has its default value, then it has space at the start so you can just do  printf '%s\n' "$*"
[12:27:10] <dante-as> isabella: yes, it worked withÂ  Â  Â  Â  Â if [[ $users_in_db == *${username[$name]}* ]]; then
[12:27:11] <dante-as> Thanks
[12:27:13] <dante-as> :)
[12:27:18] <isabella> remember the separators
[12:27:48] <dante-as> I don't have separators, just empty spaces
[12:27:52] <dante-as> So it's fine like that
[12:28:27] <isabella> that's
[12:28:33] <isabella> well that's not good is it
[12:28:54] <isabella> for instance, if you have user foobar, and then try to look up user foo, you will find it
[12:29:23] <isabella> so you should do something like    [[ " $list " = *" $user "* ]]
[12:30:09] *** Quits: bl4ackpajamas[m] (~bl4ackpaj@2001:470:69fc:105::1:73f4) (Quit: You have been kicked for being idle)
[12:30:57] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 240 seconds)
[12:31:27] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[12:31:38] <rendar> isabella, why spaces between " " ?
[12:32:20] <isabella> because [[  $list  = * $user * ]] is gibberish
[12:33:02] *** Joins: f00 (~timm@user/timm)
[12:33:35] *** Joins: VoidSync (~sync@user/voidsync)
[12:36:27] *** Quits: zuplex (~zuplex@202.51.76.195) (Ping timeout: 272 seconds)
[12:36:44] <wyre> geirha, but can I do this with $@? I mean ... `printf "whatever: %s" "$@[*]"` does print something like `whatever: arg1whatever: arg2` so I guess it's not joining the array but expanding all its elements
[12:36:50] <wyre> so ... I guess I always need a function ðŸ¤”
[12:38:12] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 240 seconds)
[12:38:55] <isabella> $@[*] means "$@ but also append the literal string [*] at the end of the last argument"
[12:39:03] *** Joins: l4s8g___ (~l4s8g@pd9e62e01.dip0.t-ipconnect.de)
[12:39:58] <isabella> concatenating arrays in bash is really stupid and nobody ever wanted that behaviour by default, but what can you do about that
[12:40:14] *** Quits: sinaowolabi (~SinaOwola@160.152.109.220) (Ping timeout: 272 seconds)
[12:41:05] <isabella> shopt -s makeconcatlessshit
[12:41:42] *** Quits: VoidSync (~sync@user/voidsync) (Remote host closed the connection)
[12:42:08] *** Quits: l4s8g_ (~l4s8g@pd9e62e01.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[12:42:09] *** Quits: NoelFlantier3 (~Hubert@195.201.244.189) (Remote host closed the connection)
[12:42:34] *** Joins: NoelFlantier3 (~Hubert@195.201.244.189)
[12:43:22] <isabella> https://i.imgflip.com/669m6k.jpg
[12:43:57] *** Quits: arinov_ (~arinov@213.194.126.155) (Ping timeout: 256 seconds)
[12:44:40] *** Quits: sinaowolabi_ (~SinaOwola@160.152.109.220) (Ping timeout: 272 seconds)
[12:49:33] <geirha> !$@ > wyre
[12:49:33] <greybot> wyre: The difference between $@ and $*: "$@" (quoted) expands to each positional parameter as its own argument: "$1" "$2" ... while "$*" expands to the single argument "$1c$2c..." where c is the first character of IFS. You almost always want "$@". The same goes for arrays: "${array[@]}" or "${array[*]}". Unquoted $* and $@ are undefined; DO NOT use.
[12:50:22] <geirha> so if you explicitly want to join an array into a string, with the first character of IFS, then use "$*"
[12:50:48] <geirha> *first character of IFS as separator
[12:52:02] *** Joins: shad (~shad@user/shad)
[12:54:09] *** Quits: analognoise (~analognoi@185.202.221.26) (Read error: Connection reset by peer)
[12:54:30] *** Joins: carl- (~carl-@185.103.188.130)
[12:54:58] *** Quits: bluedust (~bluedust@61.3.164.166) (Remote host closed the connection)
[12:59:32] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[13:00:51] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[13:03:05] *** Joins: filename (~kilitary@kilitary.xyz)
[13:04:00] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[13:04:53] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.4)
[13:07:41] *** Joins: sinaowolabi (~SinaOwola@160.152.109.220)
[13:10:04] *** Joins: arinov_ (~arinov@31.142.86.27)
[13:10:26] *** Joins: n4dir (~user@mue-88-130-56-031.dsl.tropolys.de)
[13:13:02] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Ping timeout: 240 seconds)
[13:13:59] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 256 seconds)
[13:18:17] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 240 seconds)
[13:18:45] *** Quits: john1_ (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[13:19:49] *** Joins: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[13:20:01] *** Quits: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[13:20:38] *** Joins: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[13:20:59] <wyre> geirha, I'm curious .. when passing the same arguments that your script received to a command ... may I use both? "$@" and "$*"?
[13:21:11] *** Joins: thiras (~thiras@user/thiras)
[13:21:25] <geirha> no, only "$@"
[13:21:52] <geirha> "$@" for passing the arguments as arguments. "$*" to mash the arguments into a single argument
[13:22:04] <wyre> geirha, what if I pass $*? all arguments will be passed to the command as a single one? ðŸ¤”
[13:22:09] <wyre> o I see
[13:22:33] <geirha> and $@ and $* are ALWAYS wrong
[13:22:45] <wyre> oh, sure
[13:23:20] *** Joins: azidhaka (~azidhaka@user/azidhaka)
[13:23:49] *** Joins: seninha (~chatzilla@user/seninha)
[13:24:45] *** Quits: dante-as (~dante-as@188.24.161.140) (Ping timeout: 256 seconds)
[13:24:57] <wyre> geirha, my problem was I was trying to debug what I was passing to the command (which actually has to be "$@") but I was doing `printf "args passed: %s" "$@"` but that will expand "$@" in different strings and I'll get a long string separated by `args passed:`
[13:25:16] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[13:25:21] *** Joins: bluedust (~bluedust@103.161.144.107)
[13:25:34] <wyre> so I guess I have to pass the command "$@" but just print "$*" which is actually a string with all elements in "$@" concatenated with the default IFS char, right?
[13:25:43] <Soliton> yes.
[13:25:54] <wyre> thank you all ðŸ˜Š
[13:27:06] *** Joins: flower_ (~debian@46.244.61.4)
[13:27:37] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 240 seconds)
[13:30:41] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[13:31:57] *** Joins: fef (~thedawn@user/thedawn)
[13:34:06] *** Quits: cliluw (~cliluw@47.147.77.43) (Ping timeout: 256 seconds)
[13:34:47] *** Joins: cliluw (~cliluw@47.147.77.43)
[13:35:22] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[13:36:00] *** Quits: bluedust (~bluedust@103.161.144.107) (Remote host closed the connection)
[13:37:13] *** Quits: sinaowolabi (~SinaOwola@160.152.109.220) (Ping timeout: 256 seconds)
[13:38:01] *** Joins: dante-as (~dante-as@188.24.161.140)
[13:38:36] <dante-as> Hi guys, does someone sees any mistake in this jq: group=$(curl -s -X GET -H "Content-Type: application/json" -H "Authorization: Token ${token}" https://app.com/api/users/groups/ | jq -r ".results[] | select( .name == 'Test') | .id")
[13:38:37] <dante-as> ?
[13:40:29] <lopid> jq â‰  bash
[13:41:37] <geirha> '' is not valid quotes in jq. Flip the quotes
[13:42:02] <geirha> # jq -n " 'test' "
[13:42:04] <shbot> geirha: jq: error: syntax error, unexpected INVALID_CHARACTER, expecting $end (Unix shell quoting issues?) at <top-level>, line 1:
[13:42:04] <shbot> geirha:  'test'
[13:42:04] <shbot> geirha: jq: 1 compile error
[13:42:10] <geirha> # jq -n ' "test" '
[13:42:12] <shbot> geirha: "test"
[13:43:51] <geirha> also, why are you passing a content-type header in a GET request?
[13:44:16] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[13:44:17] *** Quits: lavaball (felix@31.204.155.215) (Ping timeout: 240 seconds)
[13:44:27] *** Joins: filename (~kilitary@kilitary.xyz)
[13:44:47] <Earnestly> Poor badger, I don't think people will stop using -X now
[13:46:58] *** Joins: lavaball (felix@31.204.155.215)
[13:47:58] *** Quits: vysn (~vysn@user/vysn) (Remote host closed the connection)
[13:48:54] <p3rL> how to post array with curl -X POST
[13:49:09] <p3rL> curl -X POST -F "array" url
[13:49:43] <furrymcgee> why is single quote a invalid character in jq?
[13:49:56] <han-solo> `-d '[1,2,3,4,5]` and might wanna add the Content-Type header, regardless try #curl
[13:50:19] <p3rL> letme try. thanks
[13:52:02] <Earnestly> p3rL: -F implies POST
[13:52:08] <geirha> json only has " quotes, and the authors of jq probably thought there wasn't any point in introducing another set of quotes beyond that
[13:52:22] <Earnestly> To be fair, there isn't a point
[13:53:26] <Earnestly> And as an aside, does promotegood hygine by making people use '' for literal DSLs being passed to tools
[13:55:24] *** Quits: dob1 (~dob1@user/dob1) (Read error: Connection reset by peer)
[13:55:43] *** Joins: dob1 (~dob1@user/dob1)
[13:58:52] *** Quits: gr33nR10t (~greenriot@user/gr33nr10t) (Ping timeout: 250 seconds)
[13:58:56] *** Quits: shailangsa (~shailangs@host86-186-127-164.range86-186.btcentralplus.com) (Remote host closed the connection)
[13:59:23] *** Joins: sinaowolabi (~SinaOwola@160.152.109.220)
[13:59:45] <Masklin_Gurder> bash myscript.scr <----  does this run .bashrc?
[13:59:51] *** Joins: gr33nR10t (~greenriot@user/gr33nr10t)
[13:59:58] <Masklin_Gurder> For the child shell, or whatever you call it, I mean.
[14:00:34] <Soliton> no.
[14:00:52] <Masklin_Gurder> Neat
[14:01:26] <Soliton> dotfiles are for your interactive sessions. they're not sourced when running a script.
[14:01:40] <Masklin_Gurder> Excellent.
[14:02:14] <Masklin_Gurder> New question: Is there a generic way of dryrunning bash scripts?
[14:02:27] <Masklin_Gurder> I usually put "echo" at the start of each line but I feel like there are much better ways...
[14:02:46] <Soliton> there is set -n but not really.
[14:02:55] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[14:03:02] <Soliton> how could there be a generic way?
[14:03:15] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[14:03:17] * Masklin_Gurder shrugs
[14:04:02] *** Quits: sinaowolabi (~SinaOwola@160.152.109.220) (Ping timeout: 240 seconds)
[14:04:05] *** Quits: phogg (~phogg@static-108-51-94-2.washdc.fios.verizon.net) (Changing host)
[14:04:05] *** Joins: phogg (~phogg@user/phogg)
[14:04:23] <geirha> consider if you have an mkdir command to create a directory, and a command further down depends on that directory. How would a generic dryrun handle that?
[14:04:23] <Masklin_Gurder> The concept exists, I see no reason why it would be impossible to implement for bash
[14:04:40] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[14:05:01] <Soliton> where does the concept exist?
[14:05:08] <Masklin_Gurder> geirha: I'm absolutely positive a smart person would figure that out
[14:05:29] <Soliton> some specific program that decided what a dry-run means for it? sure.
[14:05:34] <geirha> naturally, but you asked for a generic approach
[14:05:37] <Masklin_Gurder> Soliton: GNU parallel has it, as well as Python and Snakemake. Probably many others have it, too.
[14:05:54] <Masklin_Gurder> Oh I see
[14:06:02] <Soliton> why does python do?
[14:06:08] <Masklin_Gurder> Yeah I suppose I meant generic but specific to bash code :3
[14:07:02] <Masklin_Gurder> Soliton: I don't understand that question
[14:07:06] <geirha> a dryrun would necessarily be specific to each script
[14:07:19] <Soliton> sorry, i meant what does python do.
[14:07:27] <Soliton> how does python decide what code to actually run and what not?
[14:07:38] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[14:08:29] <Soliton> how does it know what you consider the "active" parts of your code that you don't want to execute and what's just ancillary logic?
[14:08:50] *** Joins: sinaowolabi (~SinaOwola@160.152.109.220)
[14:08:54] *** Quits: arinov_ (~arinov@31.142.86.27) (Ping timeout: 272 seconds)
[14:09:15] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[14:09:15] *** Joins: iliv (~iliv@user/iliv)
[14:10:15] <Earnestly> geirha: I wonder if a libfakeroot approach might work
[14:10:42] <Earnestly> To a degree
[14:10:53] <Soliton> where is this python dryrun mode described? can't find anything about it.
[14:11:02] <Earnestly> But ultimately this is just more confusion between programming languages and shells
[14:11:28] <Earnestly> Soliton: There isn't
[14:11:37] <NRK> just be confident! dry-runs are unneeded
[14:11:41] *** Joins: arinov_ (~arinov@31.142.86.27)
[14:11:49] <furrymcgee> `cat script` is dry run of `bash script`
[14:11:50] <Masklin_Gurder> Soliton: My bad, I naively assumed Python, and not just setup.py scripts, had a dryrun option.
[14:12:05] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[14:12:20] <Earnestly> The closest thing to a dry run for a universal language in general is a virtual machine
[14:12:38] <geirha> At the top of your script, add  exec {BASH_XTRACEFD}> >(nc my.host.or.ip 1234); PS4='+ $HOSTNAME:$BASH_SOURCE:$LINENO:'; set -x
[14:12:49] <Earnestly> And to whatever degree static analysis can help, shellcheck does quite well on heuristics
[14:12:55] <geirha> Then add a   curl ... | bash   line for it in some blog post.   Free test data
[14:14:24] <Masklin_Gurder> geirha: I can't quite parse that code but suspect it would mean abusing the curiosity/desperation of internet strangers.
[14:14:36] *** Quits: downtrip (~downtrip@188.166.151.198) (Quit: WeeChat 3.4)
[14:14:38] <Masklin_Gurder> I would never do that.                                              ;>
[14:14:47] <geirha> indeed
[14:14:52] *** Joins: xmb (~xmb@178.197.197.147)
[14:16:16] <geirha> hm maybe throw in $EPOCHREALTIME in PS4 as well
[14:16:57] *** Joins: downtrip (~downtrip@188.166.151.198)
[14:19:34] <invra> I am writing a script and at the moment if LSB_DISTRIBUTOR is not present or fails it will error out. how do I prevent it from erroring out and jsut ignoring if the output is not one of the 3 listed https://dpaste.com/F2JKKCX5H
[14:19:48] <invra> sorry i am not native english. i try my best
[14:19:48] *** Quits: xmb (~xmb@178.197.197.147) (Read error: Connection reset by peer)
[14:20:48] <Soliton> case $LSB_DISTRIBUTOR in Gentoo) ...;; Arch) ...;; Debian) ...;; *) ...;; esac
[14:21:19] <Soliton> there is no erroring out visible in your paste.
[14:22:00] <invra> : command not found: lsb_release  is a possible error
[14:22:21] <Soliton> so you don't want to see that error?
[14:22:23] <geirha> Also, you should try /etc/os-release first, then fall back to lsb_release if the OS is yet too old
[14:22:23] *** Joins: zuplex (~zuplex@202.51.76.195)
[14:22:31] <Soliton> redirect it to /dev/null.
[14:23:11] <invra> in the variable?
[14:23:26] <Soliton> cmd 2>/dev/null
[14:23:53] <Soliton> lsb_distributor=$(lsb_release -i -s 2>/dev/null)
[14:24:16] <Soliton> or check first if the command exists and don't call it if not.
[14:24:33] <Soliton> if not existing is the only error you care about.
[14:25:02] <Soliton> !faq exists
[14:25:02] <greybot> https://mywiki.wooledge.org/BashFAQ/081 -- How can I determine whether a command exists anywhere in my PATH?
[14:25:16] <invra> Soliton:that would make more sense but actually there could be the error of not existing or the output is not one of those distributions (i guess)
[14:25:48] <Soliton> and what do you want to do if it's not one of those distributions?
[14:26:07] <invra> ignore the whole things and not print errors
[14:26:23] <Soliton> well, that's what you're already doing...
[14:26:34] <invra> so the first thing you suggested to /dev/null would work i think
[14:26:37] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 240 seconds)
[14:26:56] <Soliton> just silly to use multiple if's instead of one case.
[14:27:06] *** Joins: bluedust (~bluedust@103.161.144.107)
[14:30:05] <invra> aight thank you Soliton
[14:32:17] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Remote host closed the connection)
[14:32:34] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[14:34:10] *** Joins: luckiswithme (~luckiswit@149.167.139.7)
[14:35:41] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[14:36:06] *** Joins: kyr (~kyr@167.71.50.12)
[14:36:29] *** Joins: xmb (~xmb@178.197.197.147)
[14:36:44] <xmb> invra https://dpaste.com/CS9TJULGG
[14:38:40] *** Quits: sinaowolabi (~SinaOwola@160.152.109.220) (Ping timeout: 272 seconds)
[14:40:26] *** Joins: sinaowolabi (~SinaOwola@160.152.109.220)
[14:41:00] *** Quits: shad (~shad@user/shad) (Ping timeout: 240 seconds)
[14:41:58] *** Joins: shad (~shad@user/shad)
[14:42:40] *** Joins: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com)
[14:43:20] *** Quits: eroux (~eroux@102-65-85-242.ftth.web.africa) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[14:44:36] <invra> xmb: oh true!
[14:44:37] *** Quits: zuplex (~zuplex@202.51.76.195) (Quit: Leaving)
[14:44:47] <invra> meh so simple
[14:45:17] <xmb> just need proper guidance =)
[14:49:11] *** Quits: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com) (Ping timeout: 256 seconds)
[14:51:20] *** Quits: karabaja4 (~karabaja4@dh207-94-120.xnet.hr) (Ping timeout: 272 seconds)
[14:53:01] <Masklin_Gurder> I'm failing to figure out the syntax for piping a list of files to rsync for transfer.
[14:53:17] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 240 seconds)
[14:53:17] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[14:53:19] <Masklin_Gurder> foo bar | rsync --files-from=- user@dest:path       throws syntax error
[14:53:42] <xmb> rsync --files-from=<( printf %s\\n foo bar )
[14:53:50] <xmb> rsync --files-from <( printf %s\\n foo bar )
[14:53:53] <xmb> not sure i dunno rsync
[14:54:06] <xmb> and use \0 with -0 but again i dunno rsync
[14:54:17] <lopid> heh
[14:54:17] *** Quits: dante-as (~dante-as@188.24.161.140) (Ping timeout: 256 seconds)
[14:54:18] <Masklin_Gurder> The manual says "-" for standard input when using --files-from...
[14:54:35] <xmb> then try without = a space
[14:54:47] <xmb> but you need from stdin
[14:54:54] <xmb> so, printf %s\\n foo bar | rsync
[14:55:01] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[14:55:07] <xmb> or, rsync --files-from - <<<$'foo\nbar'
[14:55:14] <xmb> and see for a -0 --null option
[14:55:48] <lopid> printf '%s\0' file1 file2 â€¦ | rsync --from0 --files-from=- â€¦
[14:56:02] <xmb> ^
[14:56:47] <Masklin_Gurder> lopid: Did you test that code?
[14:56:48] <Masklin_Gurder> Doubt it works
[14:56:55] <lopid> it has been working for me for years
[14:57:06] <xmb> or in other, rsync --from0 --files-from=- < <( printf %s\\0 file1 file2 )
[14:57:29] <lopid> did YOU test that code, instead of doubting it?
[14:57:39] <xmb> hes masklin
[14:57:49] <xmb> nm
[14:59:34] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[14:59:35] <Masklin_Gurder> I just tested it, and it doesn't work
[14:59:44] <Masklin_Gurder> "syntax or usage error (code 1) at main.c(1568) [client=3.1.2]"
[15:00:01] <xmb> can u scp
[15:01:08] <Masklin_Gurder> Yes but I don't want to
[15:01:11] <Masklin_Gurder> rsync is the new black, m8
[15:01:20] <xmb> well self coding is
[15:01:22] <xmb> not rsyncing
[15:01:24] <Masklin_Gurder> The solution was to add a '/'
[15:01:32] <Masklin_Gurder> xmb: I'm not that black yet, sorry
[15:01:36] <xmb> =)
[15:01:39] <xmb> bless
[15:01:49] <Masklin_Gurder> ... | rsync --files-from - / user@dest:path
[15:02:21] <Masklin_Gurder> lopid: What's your opinion of these apples?
[15:02:31] <lopid> ?
[15:02:37] <xmb> i guess they make it work
[15:04:00] *** Joins: xmb_ (~xmb@178.197.197.147)
[15:04:01] *** Quits: xmb (~xmb@178.197.197.147) (Read error: Connection reset by peer)
[15:04:12] *** Quits: han-solo (~hanish@user/han-solo) (Ping timeout: 256 seconds)
[15:04:37] *** Joins: karabaja4 (~karabaja4@dh207-93-84.xnet.hr)
[15:06:02] *** Quits: dob1 (~dob1@user/dob1) (Ping timeout: 240 seconds)
[15:08:49] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Quit: taupiqueur)
[15:09:22] *** Joins: dob1 (~dob1@user/dob1)
[15:09:26] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[15:09:28] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[15:11:10] *** Joins: vishal (~vishal@fedora/vishal)
[15:11:17] *** Quits: arinov_ (~arinov@31.142.86.27) (Ping timeout: 240 seconds)
[15:11:42] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[15:11:53] *** Quits: ackyshake (~ackyshake@user/ackyshake) (Quit: Soupy Twist!)
[15:14:07] *** Quits: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de) (Ping timeout: 256 seconds)
[15:14:58] <Earnestly> Does anyone here have a nice demo of sort -b?
[15:16:28] *** Joins: rcernin (~rcernin@124.190.132.36)
[15:17:09] *** Joins: pyzozord (pyzozord@user/pyzozord)
[15:17:37] *** Quits: rcernin (~rcernin@124.190.132.36) (Client Quit)
[15:18:53] <pyzozord> hey, is there a way in bash to ensure variable with a string value has a value prefix? So I when the value doesn't have "http(s)?://" I add "https://" prefix
[15:20:21] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 256 seconds)
[15:21:06] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 272 seconds)
[15:22:22] <geirha> # printf '  b\na\n' | sort
[15:22:23] <Soliton> remove the prefix and prepend it.
[15:22:25] <shbot> geirha:   b
[15:22:25] <shbot> geirha: a
[15:22:27] <geirha> # printf '  b\na\n' | sort -b
[15:22:30] <shbot> geirha: a
[15:22:30] <shbot> geirha:   b
[15:22:57] <geirha> # printf '  b\na\n' | LC_COLLATE=en_US.UTF-8 sort
[15:22:59] <shbot> geirha: a
[15:22:59] <shbot> geirha:   b
[15:23:03] *** Joins: arinov_ (~arinov@31.142.86.27)
[15:23:08] *** Quits: shad (~shad@user/shad) (Ping timeout: 252 seconds)
[15:23:19] <geirha> so -b is probably implied in most locales
[15:23:31] *** Joins: Sulky (~Sulky@37.171.121.230)
[15:23:34] <Sulky> Hello
[15:23:38] <pyzozord> there are two possible prefixes
[15:23:43] <pyzozord> http:// and https://
[15:24:16] <pyzozord> if it's http:// already I don't want to mess with it
[15:24:25] <geirha> case $url in http://*|https://*) ;; *) url=https://$url ;; esac
[15:24:31] <pyzozord> essentially "if no http:// or https:// prefix add https:// prefix"
[15:24:53] <Sulky> I'm trying to escape a function in an interactive shell; I'm doing \go; which doesn't help; only command go OR /usr/bin/go allow me to reach the binary.
[15:24:57] <Sulky> Do you know why ?
[15:25:02] <geirha> [[ $url = http?(s)://* ]] || url=https://$url
[15:25:14] <Soliton> Sulky: because that is how it works.
[15:27:05] <pyzozord> geirha: very elegant, thanks
[15:27:37] <pyzozord> geirha: why ? after http and () around s?
[15:27:48] <geirha> !extglob > pyzozord
[15:27:48] <greybot> pyzozord: "Extended globs" (shopt -s extglob) allow you to say things like "all files that do not end in .jpg". See http://mywiki.wooledge.org/glob#extglob
[15:28:17] <pyzozord> oh so that's not regex, those are globs
[15:28:21] <geirha> tl;dr: in extglob ?(s) is the same as (s)? in regex
[15:28:21] <lmat> I have a script that runs a process (P1) in the background, then does some other things to P1, then lets P1 run. Basically    run_p1& do_this; do_that; wait "$!";   This works alright, but this scripts needs to send any signals sent to it to P1. How should I proceed?
[15:28:38] <pyzozord> ok I'm not that good with extended globs
[15:29:00] <geirha> [[ $url =~ ^https?:// ]]
[15:29:02] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[15:29:03] <lmat> I think if I ran   fg;  at the end instead of   wait "$!";   I would get the signal handling I want, but is job control a good idea in scripts? Is there another way I'm not seeing?
[15:29:32] <pyzozord> what does [[ expr ]] || command do?
[15:29:45] <Soliton> !||
[15:29:45] <greybot> Short-circuit control operators <http://mywiki.wooledge.org/BashSheet#Tests> A || B means "Run A. If A fails, run B." A && B means "Run A. If A succeeds, run B." Example: foobar || { echo "error" >&2; exit 1; }
[15:29:55] <lmat> pyzozord: Tests the result of [[  and "logical" or with the next command (after the ||).
[15:30:05] *** Joins: easyriders (~easyrider@37.208.22.254)
[15:30:12] *** Quits: arinov_ (~arinov@31.142.86.27) (Ping timeout: 240 seconds)
[15:30:18] <pyzozord> so "this command if it matches this glob or that command"?
[15:30:26] <geirha> In my head, I read it as "$url shall start with http:// or https://, else do this assignment"
[15:30:33] *** Joins: volga629 (~volga629@72.139.93.26)
[15:30:34] <pyzozord> got it
[15:30:51] <Soliton> lmat: there is no automatic signal propagation. if you want to forward a signal then write a trap that does that.
[15:31:43] <lmat> Soliton: I see!
[15:31:55] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[15:31:58] *** Joins: eroux (~eroux@102-65-85-242.ftth.web.africa)
[15:32:35] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[15:32:35] *** Joins: iliv (~iliv@user/iliv)
[15:33:07] <grawity> so in my certbot hooks, I've been using `for domain in $RENEWED_DOMAINS; do` but realized that might not work quite well if I ever have a wildcard *.foo.bar certificate... should I set noglob or what
[15:33:09] <lmat> Soliton: But if I wrote a script like    long_running_task;    if I try to kill that script from another terminal, the kill signal gets sent to long_running_task, right?
[15:33:21] <Soliton> no.
[15:33:36] <Soliton> again, there is no signal propagation.
[15:33:58] <lmat> Soliton: The script creates a new signal sent to long_running_task;? Or the script is killed by the kernel, then the kernel kills the child process, too?
[15:34:17] <Soliton> none of that happens.
[15:34:22] <lmat> :(
[15:34:46] <lmat> Soliton: When I press ^c when a long-running task is running (inside a script), a signal is sent, no?
[15:34:51] <edk> when you signal a process by pressing ^C in its terminal the signal went to the foreground process to start with
[15:34:53] <Soliton> perhaps you're thinking of pressing ^C on a terminal which sends the INT signal to all forground processes.
[15:35:13] <edk> this is a special feature of ttys and unrelated to how signals work when you send them to a process
[15:35:16] <Soliton> !int
[15:35:16] <greybot> How the shell handles ^C (SIGINT) and why: http://www.cons.org/cracauer/sigint.html
[15:35:26] <lmat> I see.
[15:36:00] <edk> if the shell dies some other way the scripts that it spawned will typically die as well at some point but it's not automatic
[15:37:08] <lmat> edk: right. And after the script dies and before the child process dies, it is reowned to pid 1, right?
[15:37:39] <edk> yes
[15:44:20] *** Parts: pyzozord (pyzozord@user/pyzozord) ()
[15:46:25] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 256 seconds)
[15:50:48] *** Quits: volga629 (~volga629@72.139.93.26) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[15:51:00] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[15:56:31] *** Joins: VoidSync (~sync@user/voidsync)
[15:59:24] *** Quits: sinaowolabi (~SinaOwola@160.152.109.220) (Ping timeout: 240 seconds)
[16:01:51] *** Joins: bluedust_ (~bluedust@103.161.144.107)
[16:03:48] *** Joins: MrCollinsGA (~MrCollins@38.21.140.88)
[16:05:24] *** Quits: bluedust (~bluedust@103.161.144.107) (Ping timeout: 240 seconds)
[16:05:48] *** Quits: dob1 (~dob1@user/dob1) (Ping timeout: 240 seconds)
[16:07:02] *** Quits: gr33nR10t (~greenriot@user/gr33nr10t) (Ping timeout: 240 seconds)
[16:08:22] *** Quits: uuidNuniq (~weechat@222.67.14.47) (Quit: WeeChat 3.4)
[16:09:36] *** Joins: gr33nR10t (~greenriot@user/gr33nr10t)
[16:10:45] *** Joins: shad (~shad@user/shad)
[16:10:49] *** Joins: han-solo (~hanish@user/han-solo)
[16:12:04] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:706a:5377:a70d:f1d8)
[16:12:04] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:706a:5377:a70d:f1d8) (Changing host)
[16:12:04] *** Joins: skapata (~Skapata@user/skapata)
[16:13:17] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 240 seconds)
[16:13:48] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Remote host closed the connection)
[16:14:03] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[16:14:40] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[16:16:31] *** Joins: didi (~user@user/didi)
[16:16:49] *** Joins: igemnace (~ian@user/igemnace)
[16:17:29] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 272 seconds)
[16:18:09] *** Quits: luckiswithme (~luckiswit@149.167.139.7) (Remote host closed the connection)
[16:18:32] *** Joins: TenochSLB (~Tenochyy@108-216-74-215.lightspeed.wchtks.sbcglobal.net)
[16:20:13] *** Joins: dob1 (~dob1@user/dob1)
[16:22:02] *** Joins: luckiswithme (~luckiswit@149.167.139.7)
[16:22:11] *** Quits: luckiswithme (~luckiswit@149.167.139.7) (Remote host closed the connection)
[16:22:51] *** Quits: dob1 (~dob1@user/dob1) (Client Quit)
[16:23:22] *** Quits: bliminse (~bliminse@host109-152-150-162.range109-152.btcentralplus.com) (Quit: leaving)
[16:27:37] <hyper_ch> anyone knows a tool to transfer a json structure into a different json structure?
[16:28:10] *** Joins: luckiswithme (~luckiswit@149.167.139.7)
[16:28:13] <hyper_ch> best that comes to mind is using jq and write new json structure
[16:28:38] *** Quits: suss (~user@user/suss) (Ping timeout: 256 seconds)
[16:29:45] *** Quits: TenochSLB (~Tenochyy@108-216-74-215.lightspeed.wchtks.sbcglobal.net) (Quit: Leaving)
[16:29:55] *** Joins: darkbit (~db@136.158.8.67)
[16:30:12] <selckin> python
[16:34:41] *** Joins: bliminse (~bliminse@host109-152-150-162.range109-152.btcentralplus.com)
[16:35:45] <Earnestly> hyper_ch: jq, jmespath, any language with json libraries
[16:36:03] <Earnestly> But you know jq, so there you have it
[16:36:18] *** Joins: Blondie101010 (~Blondie10@user/blondie101010)
[16:36:45] *** Quits: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970) (Quit: WeeChat 3.4)
[16:38:19] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 256 seconds)
[16:40:49] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[16:42:14] *** Joins: yustin (~yustin@user/yustin)
[16:42:14] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 256 seconds)
[16:42:59] *** Joins: iomari891 (~iomari891@105.112.138.38)
[16:52:28] *** Joins: Adoi (~Adoi@user/adoi)
[16:52:36] *** Quits: easyriders (~easyrider@37.208.22.254) (Ping timeout: 240 seconds)
[16:54:09] *** Joins: wwilliam (~afernande@63.240.73.102)
[16:54:09] *** Quits: wwilliam (~afernande@63.240.73.102) (Changing host)
[16:54:09] *** Joins: wwilliam (~afernande@user/wwilliam)
[16:54:18] <wwilliam> !indentation
[16:55:16] <geirha> !searchkeys indent
[16:55:16] <greybot> geirha: no matches
[16:55:38] <geirha> !pretty
[16:55:38] <greybot> bash --pretty-print yourfile (undocumented), or pretty() { printf 'pretty() { %s\n }; declare -f pretty' "$(cat)" | bash | sed '1d;2d;$d;s/^ //'; } ## Usage: pretty < myscript
[16:56:02] <wwilliam> Thank you geirha
[16:58:44] *** Joins: easyriders (~easyrider@37.208.22.254)
[17:03:14] *** Quits: easyriders (~easyrider@37.208.22.254) (Ping timeout: 252 seconds)
[17:03:24] *** Quits: bluedust_ (~bluedust@103.161.144.107) (Remote host closed the connection)
[17:03:50] *** Joins: masoudd (~masoudd@user/masoudd)
[17:08:17] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:08:27] *** Joins: dob1 (~dob1@user/dob1)
[17:08:58] *** Quits: VoidSync (~sync@user/voidsync) (Remote host closed the connection)
[17:10:57] *** Joins: easyriders (~easyrider@37.208.22.254)
[17:11:56] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 272 seconds)
[17:14:35] *** Quits: seninha (~chatzilla@user/seninha) (Ping timeout: 256 seconds)
[17:14:57] *** Quits: easyriders (~easyrider@37.208.22.254) (Ping timeout: 240 seconds)
[17:16:36] *** Joins: tobybl_ (~tobybl@229.193.115.87.dyn.plus.net)
[17:19:38] *** Quits: tobybl (~tobybl@229.193.115.87.dyn.plus.net) (Ping timeout: 256 seconds)
[17:20:10] *** Joins: volga629 (~volga629@72.139.93.26)
[17:20:37] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 240 seconds)
[17:20:48] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[17:21:01] *** Joins: dante-as (~dante-as@188.24.161.140)
[17:21:49] <dante-as> !paste
[17:21:49] <greybot> Paste short snippets (<= 5 lines) in channel. Paste more using http://paste.debian.net/ or http://paste.wooledge.org/ or see !ix or !sprunge. Please don't use pastebin.com -- it's full of ads and mangles whitespace. NEVER upload screen shots. Don't use a site that requires Javascript, or registration to view raw.
[17:23:05] <dante-as> Hi guys, how can I add in an array with delimiter? I've tried this, but it works just without delimiter: https://paste.debian.net/1232001/
[17:23:26] <emanuele6> !faq 5
[17:23:26] <greybot> https://mywiki.wooledge.org/BashFAQ/005 -- How can I use array variables?
[17:23:37] <Soliton> make groups an array from the start.
[17:23:43] *** Joins: sgen (~sgen@2607:fea8:7ce1:c8e0:3169:1651:ead:5ffb)
[17:24:06] <Soliton> no idea what the delimiter stuff is about.
[17:24:09] <emanuele6>  group_id=... execute something ...
[17:24:13] <emanuele6> also this looks wrong
[17:24:25] *** Joins: avallac_h (~avallac_h@85.223.233.166)
[17:24:42] <emanuele6> i think you meant to use: group_id=$(execute something)
[17:25:22] <emanuele6> group_id=... execute something ...   runs `execute something ...' in a modified environment in which `group_id' is an environment variable set to the first ...
[17:25:46] <emanuele6> !doesntwork
[17:25:46] <greybot> Saying something "doesn't work" helps neither you or us. Explain the result you *want* or *expect*, what you are *doing* and *how* it is failing. Copy/paste the commands you use and the errors they produce. Consider set -x to get more information on what is happening.
[17:26:25] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[17:27:08] *** Joins: easyriders (~easyrider@37.208.22.254)
[17:27:28] *** Joins: _sgen (~sgen@2607:fea8:7ce1:c8e0:3169:1651:ead:5ffb)
[17:28:05] *** Joins: igemnace (~ian@user/igemnace)
[17:28:10] <dante-as> In the execute something, group_id takes the result of a curl
[17:28:15] <dante-as> That it is working fine
[17:28:27] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[17:28:37] <dante-as> My only problem is that the elements are not added with an delimiter meaning ","
[17:28:43] <dante-as> between elements
[17:28:51] <Soliton> so you don't want an array?
[17:29:32] <dante-as> If I cannot do that in an array, I can do it with any other type
[17:29:47] <dante-as> *I'm not using Bash often and I am not that good with it*
[17:29:58] <dante-as> (sorry for the bold)
[17:30:36] <Soliton> how about you explain what you're trying to do.
[17:30:56] <Soliton> why do you need to abuse that groups variable? why is it not an array?
[17:31:32] *** Quits: easyriders (~easyrider@37.208.22.254) (Ping timeout: 256 seconds)
[17:32:14] <Soliton> it seems confusing that you try to iterate over a string and then you build an array but you actually want a string.
[17:33:36] <dante-as> I've tried to explain a bit better how it looks: https://paste.debian.net/1232004/
[17:34:19] <Soliton> groups=(group1 group2 ...); for group in "${groups[@]}"; do ...; group_list+=$group_id,; done; group_list=${group_list%,}
[17:36:45] *** Joins: seninha (~chatzilla@user/seninha)
[17:38:45] *** Quits: _sgen (~sgen@2607:fea8:7ce1:c8e0:3169:1651:ead:5ffb) (Quit: Leaving)
[17:38:45] *** Quits: sgen (~sgen@2607:fea8:7ce1:c8e0:3169:1651:ead:5ffb) (Quit: Leaving)
[17:39:38] *** Joins: easyriders (~easyrider@37.208.22.254)
[17:39:56] <dante-as> Soliton: Thanks for answer. It's close to what I would like. It's not having the comma between the elements. The elements are collided
[17:40:13] <Soliton> # groups=(group1 group2 ...); for group in "${groups[@]}"; do group_id=id_$group; group_list+=$group_id,; done; group_list=${group_list%,}; declare -p group_list
[17:40:15] <shbot> Soliton: declare -- group_list="id_group1,id_group2,id_..."
[17:40:30] *** Joins: filename (~kilitary@kilitary.xyz)
[17:41:19] *** Quits: avallac_h (~avallac_h@85.223.233.166) (Quit: Leaving)
[17:41:53] *** Joins: sinaowolabi (~SinaOwola@160.152.109.220)
[17:42:02] *** Joins: drbeco (~beco@2804:351c:dd01:f000:a19e:a89a:e0cb:cec7)
[17:43:00] *** Quits: f00 (~timm@user/timm) (Ping timeout: 240 seconds)
[17:44:17] *** Quits: easyriders (~easyrider@37.208.22.254) (Ping timeout: 256 seconds)
[17:45:20] <dante-as> Soliton: it worked now, thanks:)
[17:48:01] *** Quits: luckiswithme (~luckiswit@149.167.139.7) (Read error: Connection reset by peer)
[17:48:56] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[17:49:13] *** Joins: tejr (~tejr@user/tejr)
[17:49:40] *** Quits: ffl^ (~ffl@50-202-219-146-static.hfc.comcastbusiness.net) (Remote host closed the connection)
[17:50:12] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 240 seconds)
[17:50:59] *** Joins: sinaowolabi_ (~SinaOwola@160.152.109.220)
[17:52:03] *** Joins: easyriders (~easyrider@37.208.22.254)
[17:52:38] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[17:57:17] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[17:57:28] *** Quits: n4dir (~user@mue-88-130-56-031.dsl.tropolys.de) (Remote host closed the connection)
[17:57:29] *** Joins: zer0bitz (~zer0bitz@2001:2003:f74d:b800:b4a7:dec3:a543:4b87)
[17:57:42] *** Joins: thiras (~thiras@user/thiras)
[17:57:51] *** Joins: luckiswithme (~luckiswit@149.167.139.7)
[17:58:32] *** Quits: easyriders (~easyrider@37.208.22.254) (Ping timeout: 240 seconds)
[17:59:07] *** Quits: yano (~yano@ircpuzzles/staff/yano) (Quit: WeeChat, the better IRC client, https://weechat.org/)
[18:01:37] *** Quits: luckiswithme (~luckiswit@149.167.139.7) (Remote host closed the connection)
[18:02:08] *** Joins: yano (~yano@ircpuzzles/staff/yano)
[18:02:30] *** Joins: cdown (~cdown@163.114.131.1)
[18:06:15] *** Joins: easyriders (~easyrider@37.208.22.254)
[18:08:46] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[18:08:53] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[18:09:24] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[18:11:01] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[18:11:15] *** Joins: bluedust (~bluedust@103.161.144.107)
[18:14:22] *** Quits: azidhaka (~azidhaka@user/azidhaka) (Quit: azidhaka)
[18:15:33] *** Quits: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[18:15:36] <wiscii> !pe
[18:15:36] <greybot> Parameter Expansion expands parameters: "$foo", "$1". You can use it to perform string or array operations: "${file%.mp3}", "${0##*/}", "${files[@]: -4}". They should *always* be quoted. See: http://mywiki.wooledge.org/BashFAQ/073 and "Parameter Expansion" in man bash. Also see http://wiki.bash-hackers.org/syntax/pe.
[18:16:29] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[18:16:58] *** Quits: easyriders (~easyrider@37.208.22.254) (Read error: Connection reset by peer)
[18:17:37] *** Quits: unop (~unop@195.91.110.250) (Remote host closed the connection)
[18:18:08] *** Joins: easyriders (~easyrider@37.208.22.254)
[18:18:08] *** Quits: easyriders (~easyrider@37.208.22.254) (Read error: Connection reset by peer)
[18:18:12] *** Joins: unop (~unop@195.91.110.250)
[18:18:17] *** Joins: easyriders (~easyrider@37.208.22.254)
[18:19:05] *** Quits: easyriders (~easyrider@37.208.22.254) (Read error: Connection reset by peer)
[18:19:09] *** Joins: ChmEarl (~chmearl@user/chmearl)
[18:19:43] *** Joins: easyriders (~easyrider@37.208.22.254)
[18:20:21] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 272 seconds)
[18:22:54] <wiscii> i have this: s=''; t="${s:?}" || echo fail; echo $t
[18:23:13] <wiscii> which immediately exits and does not dp echo fail
[18:23:28] *** Joins: zeden (~zeden@user/zeden)
[18:23:30] <wiscii> that is an interactive shell
[18:23:38] <wiscii> what happens in non-interactive ?
[18:24:00] <emanuele6> # bash -c 's=; t="${s:?}" || echo fail; echo $t'
[18:24:01] <shbot> emanuele6: bash: line 1: s: parameter null or not set
[18:24:05] <emanuele6> that
[18:24:08] *** Quits: eroux (~eroux@102-65-85-242.ftth.web.africa) (Ping timeout: 272 seconds)
[18:24:28] <wiscii> but will i get to the echo fail bit ?
[18:24:31] <Soliton> do you expect the pe to change "$?"?
[18:24:34] *** Joins: f00 (~timm@user/timm)
[18:24:37] <twkm> as an aside, the first ; is redundant.
[18:24:47] *** Quits: easyriders (~easyrider@37.208.22.254) (Ping timeout: 272 seconds)
[18:24:59] <emanuele6> also '' was
[18:26:18] <wiscii> i'm simply doing this: [ -n "$t" ] || exit "error"
[18:26:19] *** Joins: frostwork (~frostwork@user/frostwork)
[18:26:49] <wiscii> i thought it could be done with parm exp instead
[18:27:25] <emanuele6> ${t:+true} exit
[18:27:42] <hyper_ch> Earnestly: I used JQ... fetched all the data, created a cvs out of this
[18:27:44] <emanuele6> wiscii: are you for real doing   exit "error"?
[18:28:20] *** Joins: vysn (~vysn@user/vysn)
[18:28:52] <emanuele6> because that is not how exit works
[18:29:13] <wiscii> it's just an example, no not that for real, the function is called die()
[18:29:16] <didi> I should try this jq everyone is talking about. Currently I just use some programming language that I have in hand, usually Python.
[18:29:51] <selckin> jq is very good, but problem is always i need it once a month, and thats not enough to remember all the syntax :)
[18:30:00] <emanuele6> if it's a function called die, why did you write `exit'?
[18:30:13] <emanuele6> and if you want to call die, why is ${var:?} not ok?
[18:30:16] <didi> selckin: *nod*
[18:30:29] <emanuele6> you are contradicting what you said before
[18:30:37] <wiscii> i don't like die .. but that's not the question, the question is about PE
[18:30:56] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Quit: WeeChat 3.4)
[18:31:09] <emanuele6> you said  ${var:?}  is not ok because it exits the script. die does the same, usually.
[18:31:54] *** Quits: han-solo (~hanish@user/han-solo) (Quit: leaving)
[18:33:54] *** Quits: dante-as (~dante-as@188.24.161.140) (Quit: Ping timeout (120 seconds))
[18:35:32] *** Quits: sinaowolabi (~SinaOwola@160.152.109.220) (Ping timeout: 272 seconds)
[18:37:55] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[18:38:13] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[18:38:22] *** Joins: luckiswithme (~luckiswit@149.167.139.7)
[18:38:58] *** Joins: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de)
[18:40:01] *** Quits: luckiswithme (~luckiswit@149.167.139.7) (Remote host closed the connection)
[18:40:21] *** Joins: mat001 (~mat001@c-71-202-208-88.hsd1.ca.comcast.net)
[18:40:49] *** Joins: cdown (~cdown@163.114.131.193)
[18:41:14] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[18:41:35] *** Joins: luckiswithme (~luckiswit@149.167.139.7)
[18:41:55] <ormaaj> !learn ormaajerror # bash -c 'printf() { ${printf:?"$1 - invalid option"}; }; printf -v'
[18:41:56] <greybot> OK, ormaaj
[18:42:37] *** Joins: Maxattax97 (~max@50-195-160-193-static.hfc.comcastbusiness.net)
[18:43:15] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[18:45:02] *** Joins: crashrep (~crashrep@user/crashrep)
[18:45:04] *** Joins: _gabriele (~gabriele@host-79-41-106-85.retail.telecomitalia.it)
[18:45:04] *** Quits: _gabriele (~gabriele@host-79-41-106-85.retail.telecomitalia.it) (Changing host)
[18:45:04] *** Joins: _gabriele (~gabriele@user/gabriele)
[18:45:04] *** _gabriele is now known as gabriele
[18:45:10] <Soliton> i what's the point of that?
[18:45:33] <ormaaj> to print a confusing error
[18:45:53] <ormaaj> # printf -x
[18:45:54] <shbot> ormaaj: bash: printf: -x: invalid option
[18:45:54] <shbot> ormaaj: printf: usage: printf [-v var] format [arguments]
[18:46:17] <ormaaj> !ormaajerror
[18:46:18] <greybot> # bash -c 'printf() { ${printf:?"$1 - invalid option"}; }; printf -v'
[18:46:20] <shbot> greybot: environment: line 1: printf: -v - invalid option
[18:46:42] <Soliton> or execute whatever is in printf.
[18:47:03] <ormaaj> no the expansion is fatal
[18:47:27] <ormaaj> if the variable were defined sure
[18:47:51] <Soliton> # printf=foo bash -c 'printf() { ${printf:?"$1 - invalid option"}; }; printf -v'
[18:47:53] <shbot> Soliton: environment: line 1: foo: command not found
[18:49:01] <ormaaj> !forget ormaajerror
[18:49:02] <greybot> OK, ormaaj
[18:49:04] *** Joins: drterminus (~drterminu@host-212-114-132-190.customer.m-online.net)
[18:49:12] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[18:49:20] <ormaaj> !learn ormaajerror # bash -c 'printf() { : ${printf:?"$1 - invalid option"}; }; printf -v'
[18:49:20] <greybot> OK, ormaaj
[18:50:03] <ormaaj> not really the point of the example
[18:50:12] <jelly> ormaaj, why is that worthwhile to put in the bot forever
[18:50:42] <ormaaj> it's a very old example.
[18:50:43] *** Quits: fatal (~0x00@user/fatal) (Remote host closed the connection)
[18:51:05] <ormaaj> ${var:?} is rather pointless.
[18:51:07] *** Joins: fatal (~0x00@user/fatal)
[18:51:57] <jelly> # printf -v
[18:51:58] <shbot> jelly: bash: printf: -v: option requires an argument
[18:51:58] <shbot> jelly: printf: usage: printf [-v var] format [arguments]
[18:52:15] <drterminus> hi, i have the following command: tar cf - /testdir | gpg -r test@test.com -o $(date +%H%M%S).gpg -e >> logfile 2>&1
[18:52:49] <drterminus> how to get the stderr from tar (tar: Removing leading `/' from member names) into my logfile?
[18:52:58] *** Joins: arinov_ (~arinov@31.142.86.27)
[18:53:29] <Soliton> 2>>logfile
[18:53:56] <ormaaj> drterminus: { tar | cmd; } 2>logfile
[18:53:57] <Soliton> or put the redirection on the pipeline instead.
[18:55:11] <ormaaj> drterminus: if you need to separate it out then it's: { cmd1 2>&3 | cmd2; } 3>file
[18:55:36] <Soliton> why would you do that?
[18:55:47] <ormaaj> pointless in that case
[18:56:13] <ormaaj> only useful if you're using fd3 somewhere else
[18:56:15] *** Joins: jgrossholtz (~Julien@249.164.25.93.rev.sfr.net)
[18:56:17] *** Joins: easyriders (~easyrider@83-233-246-108.cust.bredband2.com)
[18:58:59] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[18:59:07] <drterminus> thx guys!
[19:00:15] *** Quits: StathisA (~StathisA@178-147-46-55.haap.nym.cosmote.net) (Ping timeout: 272 seconds)
[19:00:51] *** Joins: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net)
[19:00:57] <ormaaj> (note first example will store the 2nd command's stderr into file too.)
[19:01:39] *** Joins: StathisA (~StathisA@178-147-36-140.haap.nym.cosmote.net)
[19:02:01] *** Quits: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net) (Client Quit)
[19:02:14] *** Joins: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net)
[19:02:37] <Soliton> drterminus: if your logfile is for your whole script then just redirect stdout/err of the whole script instead of for each command.
[19:03:25] *** Quits: easyriders (~easyrider@83-233-246-108.cust.bredband2.com) (Ping timeout: 272 seconds)
[19:04:58] *** Joins: cdown_ (~cdown@163.114.131.1)
[19:05:22] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[19:06:27] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 256 seconds)
[19:06:34] *** Quits: Maxattax97 (~max@50-195-160-193-static.hfc.comcastbusiness.net) (Ping timeout: 272 seconds)
[19:07:10] <ormaaj> probably just use braces. if it's really the whole script then yes `exec 2>file`
[19:07:17] *** Quits: cdown (~cdown@163.114.131.193) (Ping timeout: 240 seconds)
[19:07:18] *** Joins: Kyuzo68 (~Kyuzo@host-79-56-191-22.retail.telecomitalia.it)
[19:08:17] *** Quits: vysn (~vysn@user/vysn) (Remote host closed the connection)
[19:10:05] *** Quits: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net) (Quit: WeeChat 3.4)
[19:10:32] *** Joins: vysn (~vysn@user/vysn)
[19:11:01] *** Quits: cdown_ (~cdown@163.114.131.1) (Ping timeout: 272 seconds)
[19:11:39] *** Quits: unop (~unop@195.91.110.250) (Remote host closed the connection)
[19:11:54] *** Joins: unop (~unop@195.91.110.250)
[19:16:22] *** Joins: texasmynsted (~texasmyns@99.96.221.112)
[19:17:06] <furrymcgee> why is exec 2>&- blocking terminal?
[19:17:39] <texasmynsted> when I do something like this at the command line, what is this called? Not array, not parameter substitution.... What? rm src-file.{bbl,md,mtc,mtc0,maf,run.xml}
[19:17:44] <Soliton> are you asking why you don't see your prompt anymore?
[19:17:54] *** Joins: cdown (~cdown@163.114.131.1)
[19:17:55] <Soliton> the prompt is written to stderr.
[19:18:06] *** Quits: Kyuzo68 (~Kyuzo@host-79-56-191-22.retail.telecomitalia.it) (Quit: Konversation terminated!)
[19:18:08] <Soliton> !be > texasmynsted
[19:18:09] <greybot> texasmynsted: Brace and sequence expansion: {a,b,c}1 and {a..c}1 expand to a1 b1 c1, {a..c}{1..3} expands to a1 a2 a3 b1 b2 b3 c1 c2 c3. http://wiki.bash-hackers.org/syntax/expansion/brace http://mywiki.wooledge.org/BraceExpansion
[19:18:30] <texasmynsted> Soliton: Thank you!
[19:20:45] *** Joins: malina (~malina@user/malina)
[19:23:03] *** Joins: lotharn (~kvirc@2600:8800:280:d400:60fd:bd0d:9a25:c3f3)
[19:25:51] *** Joins: easyriders (~easyrider@83-233-246-108.cust.bredband2.com)
[19:26:16] <ormaaj> texasmynsted: Alternatively there's also extglob for that case. `srcfile.@(ext1|ext2|...)`. Depending on context one or the other will make more sense.
[19:27:12] *** Quits: unop (~unop@195.91.110.250) (Remote host closed the connection)
[19:27:47] *** Joins: unop (~unop@195.91.110.250)
[19:27:55] *** Joins: roadie (~user@2a02:8108:5a40:1d87:5d5e:6e26:5429:3b71)
[19:27:59] *** Quits: geirha (~geirha@user/geirha) (Ping timeout: 256 seconds)
[19:28:42] <ormaaj> extglob you have to consider it will expand the literal glob with no matches, for instance.
[19:29:32] *** Quits: unop (~unop@195.91.110.250) (Remote host closed the connection)
[19:29:47] *** Joins: unop (~unop@195.91.110.250)
[19:30:06] *** Quits: Arya[m] (~aryakmatr@2001:470:69fc:105::1:608f) (Quit: You have been kicked for being idle)
[19:33:10] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 272 seconds)
[19:34:15] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 240 seconds)
[19:37:50] *** Joins: cdown (~cdown@163.114.131.193)
[19:40:46] *** Quits: easyriders (~easyrider@83-233-246-108.cust.bredband2.com) (Ping timeout: 272 seconds)
[19:42:20] *** Joins: easyriders (~easyrider@83-233-246-108.cust.bredband2.com)
[19:43:26] *** Joins: geirha (~geirha@user/geirha)
[19:45:42] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[19:46:32] *** Quits: drterminus (~drterminu@host-212-114-132-190.customer.m-online.net) (Quit: WeeChat 2.8)
[19:46:35] *** Joins: suss (~user@user/suss)
[19:46:41] *** Joins: zebrag (~chris@user/zebrag)
[19:47:53] <ormaaj> jelly: it would be cleaner to separate out the deleted factoids and maybe prune old ones. maybe i'll see about making the !meta and !searchkeys do that one of these days. Though I'd have to figure out greycat's perl code first. :/
[19:50:13] <ormaaj> or rather most of those commands already exclude deleted ones i think. It's just the meta http page doesn't have an option to filter old / deleted
[19:50:57] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Quit: Leaving)
[19:51:25] *** Joins: greycat (~greg@209.142.155.49)
[19:51:32] <anddam> how do I check if a variable is contained in another one? kind of http://mywiki.wooledge.org/BashFAQ/041 but with two vars
[19:51:53] <greycat> you mean, check if $foo is a substring of $bar?
[19:52:08] <greycat> [[ $bar = *"$foo"* ]]
[19:52:09] <anddam> yes
[19:52:21] <anddam> why doesn't bar have double quotes there?
[19:52:27] <greycat> you can if you want
[19:52:34] <greycat> !quotesoptional
[19:52:34] <greybot> "Double quotes" are optional for the word following 'case', the RHS of simple assignments (e.g. foo=$bar), or inside [[ except for the RHS of =~, =, == or != (e.g. [[ -f $file ]]); "Double quotes" are also optional for substitutions in associative array subscripts ( e.g. declare -A foo; ...; foo[$k]=abc )
[19:52:51] <anddam> well I was emphatically told to do so here
[19:53:03] *** Joins: Maxattax97 (~max@50-195-160-193-static.hfc.comcastbusiness.net)
[19:53:12] <anddam> ah inside [[
[19:53:17] *** Quits: unop (~unop@195.91.110.250) (Remote host closed the connection)
[19:53:52] *** Joins: unop (~unop@195.91.110.250)
[19:54:19] *** Quits: ano (~ano@user/ano) (Remote host closed the connection)
[19:54:22] <anddam> oh the order of bar and foo matters, doesn't it?
[19:54:37] <Soliton> there is no wordsplitting or pathname expansion done there and it's not treated as a pattern only the right hand side is.
[19:54:38] <ormaaj> yes
[19:54:45] <anddam> I had   [[ *"$foo"* = "$bar" ]] already but noticed you put it that way
[19:54:47] *** Joins: ano (~ano@user/ano)
[19:54:51] <Soliton> so quotes don't do anything there but they don't hurt either,
[19:54:59] <greycat> quotes on the RIGHT hand side matter
[19:55:01] <ormaaj> anddam: The rhs is the pattern side
[19:55:20] *** Quits: cdown (~cdown@163.114.131.193) (Remote host closed the connection)
[19:55:21] *** Quits: sinaowolabi_ (~SinaOwola@160.152.109.220) (Read error: Connection reset by peer)
[19:55:21] <Soliton> having a pattern on both sides makes no sense.
[19:55:35] <Kartagis-> hi. how can I grep for foo and bar in the same file?
[19:55:45] <Soliton> !faq foo and bar
[19:55:46] <greybot> https://mywiki.wooledge.org/BashFAQ/079 -- How can I grep for lines containing foo AND bar, foo OR bar?  Or for files containing foo AND bar, possibly on separate lines?  Or files containing foo but NOT bar?
[19:55:59] <Kartagis-> thanks Soliton
[19:56:40] *** Joins: filename (~kilitary@kilitary.xyz)
[19:57:15] *** Joins: cdown (~cdown@163.114.131.193)
[19:58:49] *** Joins: richardm645 (~quassel@2600:8801:c507:b200:f015:781b:d5b2:25b)
[19:59:57] *** Joins: sobkas (~sobkas@95.175.17.217)
[20:00:17] *** Quits: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de) (Ping timeout: 256 seconds)
[20:02:05] *** Joins: cdown_ (~cdown@163.114.131.1)
[20:02:17] <anddam> I see FAQ041 uses case â€¦ esac for POSIX
[20:03:22] <ormaaj> yes
[20:03:27] *** Joins: crashrep (~crashrep@user/crashrep)
[20:04:42] *** Quits: cdown (~cdown@163.114.131.193) (Ping timeout: 260 seconds)
[20:04:50] *** cdown_ is now known as cdown
[20:06:01] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[20:06:52] *** Joins: FluffyMask (~masque@user/fluffymask)
[20:08:15] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 240 seconds)
[20:08:17] *** Joins: bn_work (uid268505@id-268505.uxbridge.irccloud.com)
[20:08:41] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 250 seconds)
[20:08:52] *** Quits: sobkas (~sobkas@95.175.17.217) (Read error: Connection reset by peer)
[20:08:58] *** Joins: sobkas_ (~sobkas@95.175.17.217)
[20:09:50] *** sobkas_ is now known as sobkas
[20:13:13] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[20:13:22] *** Joins: LiftLeft (~LiftLeft@dur-dhcp-1-80.dsl.airstreamcomm.net)
[20:15:55] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[20:16:25] *** Quits: malina (~malina@user/malina) (Remote host closed the connection)
[20:16:45] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[20:16:55] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[20:17:13] *** Quits: furrymcgee (~devuan@cgn-89-1-209-226.nc.de) (Quit: leaving)
[20:20:42] <anddam> got disconnected meanwhile
[20:21:27] *** Quits: MrCollinsGA (~MrCollins@38.21.140.88) (Quit: Leaving)
[20:21:30] <anddam> I see FAQ041 uses case â€¦ esac for POSIX, but if I try [[ ]] with sh it runs fine as well
[20:21:35] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[20:21:37] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[20:21:44] <anddam> I somehow had the idea [[ ]] was a bashism
[20:21:51] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[20:22:01] <tirnanog> it works with _your_ implementation of sh, perhaps. still doesn't mean it's standard.
[20:22:07] *** Joins: analognoise (~analognoi@ip98-176-154-48.sd.sd.cox.net)
[20:22:13] <greycat> It won't work in *all* implementations of sh.  Only select few.
[20:22:16] <tirnanog> sh# [[ foo ]]
[20:22:17] <shbot> tirnanog: sh: 1: [[: not found
[20:22:30] <emanuele6> !sh
[20:22:30] <greybot> sh is NOT bash; it is a POSIX shell. To run bash code, your script MUST use a bash shebang, and it MUST be executed directly or with bash (NOT sh myscript). Sometimes /bin/sh symlinks to bash, but you can't rely on this and it will disable many bash features. <http://mywiki.wooledge.org/BashGuide/Practices#Choose_Your_Shell>
[20:22:32] <ormaaj> anddam: what's your  sh?
[20:24:16] <anddam> bash
[20:24:19] *** Joins: analognoise1 (~analognoi@192.145.80.4)
[20:24:19] *** Joins: Bombo (atom@user/bombo)
[20:24:22] <Bombo> hi
[20:24:25] <tirnanog> no surprise there.
[20:24:35] <anddam> 3.2.57 from macOS "Big SomeThing"
[20:25:00] <tirnanog> great. now try it in dash.
[20:26:23] <anddam> ah, nice
[20:26:27] <anddam> thx
[20:26:39] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[20:26:48] <ormaaj> every sentence in that factoid is wrong ><
[20:27:14] <Bombo> i got an array with file list in ${FLIST[@]} i want ffmpeg to read that list as input, normally that would be '-i flist.txt' so i use ffmpeg -f concat -safe 0 -i <(printf '%s\n' "${FLIST[@]}") -c copy out.mp4 which works, but i just wondered: can i cat rid of printf? just to know
[20:27:19] <ormaaj> which is why [[ worked for you.
[20:27:37] *** Quits: analognoise (~analognoi@ip98-176-154-48.sd.sd.cox.net) (Ping timeout: 240 seconds)
[20:29:17] <ormaaj> Bombo: Ideally ffmpeg should have an option to take its files as positional parameters. If it doesn't you'd need multiple inocations.
[20:29:41] <Bombo> -i <(<<<"${FLIST[@]}") almost works
[20:29:56] <ormaaj> not really
[20:29:58] *** Joins: Minvera (~Minvera@user/Minvera)
[20:30:04] <tirnanog> that's a contortion. it won't do anything useful.
[20:30:29] <didi> Some programs read arguments starting with `@' to mean "the arguments are inside @FILE". I don't know if this is ffmpeg's case.
[20:30:36] <Bombo> yep but almost ;)
[20:31:05] <Bombo> no it works with -i flist.txt it reads the txt file with multiple input files
[20:31:15] <ormaaj> Unless that's a new feature it will do nothing
[20:31:34] <Bombo> every line is like 'file foo.mp4\nfile bar.mp4'
[20:31:39] <didi> oic
[20:31:58] <Bombo> it's a feature of -f concat
[20:32:18] *** Quits: MajorBiscuit (~MajorBisc@c-001-017-039.client.tudelft.eduvpn.nl) (Ping timeout: 256 seconds)
[20:32:54] <Bombo> flist.txt  does work, and with the printf too, just wondered if there is a bash trick without printf
[20:33:22] <tirnanog> that makes it an ffmpeg question, really.
[20:33:36] <Bombo> no why?
[20:33:39] <ormaaj> all of those are poor solutions.
[20:33:39] * Earnestly refuses to help
[20:33:56] <tirnanog> because there's no trick to it. either ffmpeg supports the manner of interaction that you are looking for, or it doesn't.
[20:34:30] *** Quits: Natch (~natch@c-4db8e255.014-297-73746f25.bbcust.telenor.se) (Remote host closed the connection)
[20:35:09] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[20:35:19] <Bombo> it's a bash question, how to get content of the array into a file, like <() does
[20:35:24] <tirnanog> apparently, it supports multiple -i operands, but going that way might change the manner in which you have to employ the filter. still, observing this only reinforces the point.
[20:35:51] <tirnanog> printf '%s\n' "${array[@]}" > yourfile
[20:36:30] <ormaaj> Bombo: newline delimited file lists are fundamentally broken. If there's no option to batch process multiple files then you need multiple invocations. If the only option is to use a newline delimited file list then that's a bug.
[20:37:08] <Bombo> <(command) what's that called again, it pretends there is a file with that content that command outputs, isn't it?
[20:37:12] <Earnestly> They noted this is ffmpeg concat profile, and that has a different system for handling wonky filenames.  None of this seems to be mentioned, and that an array is even involved here is irritating
[20:37:26] *** Joins: frm (~frm@user/frm)
[20:37:49] *** Quits: frm (~frm@user/frm) (Client Quit)
[20:37:51] <Earnestly> !<() > Bombo
[20:37:51] <greybot> Bombo: Process Substitution >(command ...) or <(...) is replaced by a temporary filename. Writing or reading that file causes bytes to get piped to the command inside. Often used in combination with file redirection: cmd1 2> >(cmd2). See http://mywiki.wooledge.org/ProcessSubstitution http://mywiki.wooledge.org/BashFAQ/024
[20:38:59] <Bombo> tirnanog: yes, then i get yourfile, but -i <(printf '%s\n' "${FLIST[@]}")  works too, that way i don't have a file that i would have to rm later
[20:39:02] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 272 seconds)
[20:39:13] <tirnanog> exactly. this really isn't about bash.
[20:39:38] <Bombo> i don't get it, this is a bash feature
[20:40:35] <tirnanog> you're not getting it. you're requesting not to use a bash feature - process substitution - which would hinge on the ability of ffmpeg's command-line interface to support a consequential use case.
[20:40:51] <ormaaj> this isn't a correct use case for a process substitution.
[20:41:07] <didi> ormaaj: Could you elaborate on "newline delimited file lists are fundamentally broken"? I mean, what should I do if I want to process lots of files but I don't want to overflow the argument list size of a command call?
[20:41:37] <tirnanog> it is a perfectly valid use case. ffmpeg's UI seems lacking, though.
[20:42:32] <tirnanog> for instance, there's no option to read NUL-delimited names, as far as I know - much less from the standard input.
[20:42:40] <didi> tirnanog: oic
[20:43:25] <Bombo> bash does create a temp filename for that <() command, ffmpeg just reads the temp file, if it contains the right content it works. am i getting that wrong?
[20:44:04] <Bombo> ok maybe you mean bash can't do it (broken) because it wont work with echo, just pritf
[20:44:06] <tirnanog> yes, it's wrong. it creates a named pipe, effectively.
[20:45:07] *** Joins: dirigible_ (~dirigible@2607:9000:0:3:36a4:cf80:2f7b:6990)
[20:45:23] *** Joins: crashrep (~crashrep@user/crashrep)
[20:45:45] <Bombo> alight named pipe then. but it works as if its a file, doesn't it?
[20:46:07] *** Quits: luckiswithme (~luckiswit@149.167.139.7) (Remote host closed the connection)
[20:46:08] <ormaaj> didi: ARG_MAX is usually pretty big but you might not want a big argument list anyway. For those cases you want the command to have an option similar to gnu `sort --files0-from` or one of the utilities that take a `-0` option (like xargs, but don't use xargs...). find's `-exec {} +` is another workaround for such situations.
[20:46:15] <N0ZYC> I remember trying to use named pipes to makea tcp client for something awhile back in bash.   it did not go well
[20:46:22] <Bombo> ffmpeg doesn't know if its a file or pipe, it just reads it
[20:46:33] <tirnanog> yeah, more or less. obviously, you won't be able to seek.
[20:46:37] *** Quits: Maxattax97 (~max@50-195-160-193-static.hfc.comcastbusiness.net) (Ping timeout: 240 seconds)
[20:47:04] <N0ZYC> and if it tries to read from the pipe and there's no data left, it returns EOF
[20:47:15] <N0ZYC> so make sure you keep your  pipe well-fed
[20:47:25] <didi> ormaaj: Thanks. My issue with find's `-exec {} +' is it can be broken in multiple calls and sometimes is important to run `command' only once.
[20:47:57] <Bombo> ormaaj: why is -i <(printf '%s\n' "${FLIST[@]}") a 'poor solution'? 'works for me' :)
[20:48:06] <ormaaj> didi: yes you specifically only want `-exec {} +` when that's acceptable.
[20:48:06] <phy1729> In those cases you literally can't unless the command takes NUL delimited input from stdin
[20:48:12] *** Quits: dirigible (~dirigible@2607:9000:0:3:36a4:cf80:2f7b:6990) (Ping timeout: 252 seconds)
[20:48:14] <didi> ormaaj: *nod*
[20:48:21] <Bombo> what could go wrong? ;=)
[20:50:36] <tirnanog> filenames containing quotes, newlines etc. having to format the names to begin with. it's a poor interface. it would be nicer if you could do something like -0 -i <(printf '%s\0' "${actual_pathnames[@]}") or likewise with -0 -i -.
[20:51:14] <Earnestly> tirnanog: ffmpeg concat has its own way of dealing with wonky filenames, as I noted.  It doesn't need to read null separated inputs
[20:51:23] <Earnestly> concat is not just a list of files either
[20:51:44] *** Joins: A|an (~Alan@173.218.175.171)
[20:52:30] <tirnanog> ok.
[20:52:36] *** Quits: mw_ (~mw@catv-80-98-128-161.catv.fixed.vodafone.hu) (Ping timeout: 240 seconds)
[20:53:37] <tirnanog> even more of a not bash question then, I suppose.
[20:54:01] *** Quits: l4s8g___ (~l4s8g@pd9e62e01.dip0.t-ipconnect.de) (Quit: l4s8g___)
[20:54:42] <tirnanog> besides, that doesn't address the point about -i -. if it could do that, then a pipe would be possible, right? (I have no idea if it can or it can't).
[20:55:14] *** Joins: mw_ (~mw@catv-80-98-128-161.catv.fixed.vodafone.hu)
[20:57:18] *** Joins: l4s8g_ (~l4s8g@pd9e62e01.dip0.t-ipconnect.de)
[20:57:34] <Earnestly> tirnanog: -i doesn't take a filename per-se, it takes the content instead.  So it would expect an actual file, not list of files
[20:58:02] <greycat> what
[20:58:07] *** Joins: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com)
[20:58:08] <Earnestly> This is why concat exists
[20:58:36] <Earnestly> greycat: ffmpeg -i - < foo.opus vs. printf 'foo.opus\n' | ffmpeg -i -
[20:58:57] <greycat> you're saying ffmpeg -i expects the next argument to be a video file's content, raw dumped into argv[], NUL bytes and all?!
[20:59:07] <Earnestly> No
[20:59:14] <Earnestly> But that's what -i - means
[20:59:16] <tirnanog> no. I think something got lost in translation there.
[20:59:24] <Earnestly> If you want multiple input files, repeat -i
[20:59:29] <Bombo> don't forget -f concat
[20:59:48] *** Parts: didi (~user@user/didi) (O bella ciao bella ciao bella ciao, ciao, ciao.)
[20:59:49] <tirnanog> I did mention that -i seems to be repeatable.
[20:59:57] <Bombo> Earnestly: you are talking about non-cat
[20:59:58] <ormaaj> that's insane
[21:00:06] <Earnestly> concat has been mentioned many times Bombo, please don't respond
[21:00:17] <tirnanog> but yeah, it doesn't help.
[21:00:59] <Earnestly> ffmpeg is odd, probably because it supports multiple outputs making multiple inputs (without flags) difficult to express
[21:01:08] <Earnestly> And then there's the 'interactive stdin' crap
[21:01:14] <Earnestly> (-nostdin helps)
[21:01:16] <greycat> Â«ffmpeg reads from an arbitrary number of input "files" (which can be regular files, pipes, network streams, grabbing devices, etc.), specified by the "-i" optionÂ»
[21:01:22] <tirnanog> Bombo: surely you can see the point by now. this is all about ffmpeg's interface. you might chance upon an ffmpeg expert here that knows of an alternate strategy. I am neither an ffmpeg expert, nor seeing any apparent alternate strategy.
[21:01:25] <Bombo> and yes -i can be repeated. but that's a different feature.
[21:01:49] <greycat> there is an #ffmpeg channel by the way
[21:01:50] <tirnanog> there's not some "trick" in bash that can be applied until the manner of interaction with its interface is decided upon.
[21:01:54] <Earnestly> greycat: Yes, but -i - (pipe:) expects content of file, not its name
[21:02:04] <Earnestly> (mpv - vs. mpv --playlist=-)
[21:02:07] <tirnanog> Earnestly: good to know. I was wondering about that.
[21:02:16] *** Joins: Natch (~natch@c-4db8e255.014-297-73746f25.bbcust.telenor.se)
[21:02:50] <Earnestly> ffmpeg-all.1 is 36659 lines long lol
[21:02:54] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[21:03:16] <Earnestly> Through pr it generates 655 pages (A4)
[21:03:53] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Read error: Connection reset by peer)
[21:04:00] <Earnestly> Hm
[21:04:20] <Earnestly> I wonder about pr now
[21:04:36] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[21:05:09] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[21:05:20] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Client Quit)
[21:05:50] *** Joins: Elzington (~Elzington@68.235.43.84)
[21:05:58] <Earnestly> It doesn't seem to have a way to set "page size", only line count
[21:06:57] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[21:07:32] *** Joins: t3nj1n (~t3nj1n@pool-173-52-219-149.nycmny.fios.verizon.net)
[21:07:39] *** Joins: t3nj1n_ (~t3nj1n@pool-173-52-219-149.nycmny.fios.verizon.net)
[21:07:41] <Bombo> tirnanog: sorry, i still don't see the point. maybe i'm dumb. i think i'll give up. i'll just use -i <(printf '%s\n' "${FLIST[@]}") as it #WorksForMe (and btw i prepare the filenames in that array beforehands of course.)
[21:08:02] *** Quits: Adoi (~Adoi@user/adoi) (Quit: Leaving)
[21:08:03] *** Quits: greycat (~greg@209.142.155.49) (Ping timeout: 250 seconds)
[21:08:21] *** Joins: greycat (~greg@209.142.155.49)
[21:09:33] <ormaaj> usually when i'm piping to mpv it's over a network and I have to do something to make it less eager to fill the pipe buffer
[21:09:41] <tirnanog> bob4k: I don't know much more plainly it can be put. you're requesting the avoidance of a bash feature - process substitution in this case - which, by definition, pre-supposes that you don't want to use a temp file and that the ffmpeg UI supports some other manner of interaction.
[21:10:02] *** Quits: shad (~shad@user/shad) (Ping timeout: 260 seconds)
[21:10:06] <emanuele6> s/bob4k/Bombo/
[21:10:10] <tirnanog> damn it.
[21:10:37] *** Quits: filename (~kilitary@kilitary.xyz) (Ping timeout: 240 seconds)
[21:11:16] <tirnanog> you decide how you want to interact with the external program, then decide which bash features may or may not be useful. asking for a bash trick prior is backwards.
[21:11:28] <Earnestly> ormaaj: mpv has things like --stream-lavf-o=..., which is a little scary
[21:11:40] <Earnestly> And other such things which expose deep guts of libav*
[21:13:38] <Bombo> tirnanog: i'll ask in #ffmpeg for a better solution.
[21:13:42] <Soliton> -f concat doesn't take plain filenames. it uses special syntax.
[21:14:14] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[21:14:17] <Bombo> Soliton: yes, 'file filename' which is the content of the array.
[21:14:59] <Soliton> rather  file 'filename'  with whatever special syntax for newlines and whatnot.
[21:15:00] <greycat> I do not see the word concat in ffmpeg(1) at all
[21:15:27] <Bombo> Soliton: when i printf that array into a file, and feed that to ffmpeg it works fine.
[21:15:49] <greycat> so, whatever this "-f concat" thing is, it's not documented in a place I can easily find, so I am stopping *NOW*
[21:15:50] <Soliton> well, then maybe the next time it might work fine, too!
[21:15:55] <tirnanog> Earnestly: I see that there's a solution for single quotes. are newlines off the table, though?
[21:15:57] <ormaaj> ffmpeg-all(1)
[21:16:40] <tirnanog> Earnestly: never mind. the information I need is in ffmpeg-utils, I see.
[21:17:04] <Soliton> https://ffmpeg.org/ffmpeg-formats.html#concat
[21:17:27] <emanuele6> LESS=+/concat man 1 ffmpeg-all
[21:17:31] <Soliton> "extended-ASCII"
[21:17:58] <Soliton> if you can just as well give multiple -i options i wouldn't touch that thing.
[21:18:52] <Bombo> Soliton: it's a different feature.
[21:19:28] <Soliton> then you better figure out what "special characters and spaces must be escaped with backslash or single quotes" means.
[21:20:15] <Bombo> Soliton: the filenames are clean.
[21:20:35] <Earnestly> tirnanog: Yeah it's surprisingly the same as bash, so I bet @Q would even work
[21:20:42] <Soliton> so you know what special characters are. excellent.
[21:20:50] <greycat> He's special.
[21:21:35] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[21:21:54] * Bombo concats greycat and Soliton.
[21:22:10] *** Quits: Bercik (~Redomen@user/bercik) (Ping timeout: 256 seconds)
[21:22:22] *** Joins: dreamon (~dreamon@pd95035d1.dip0.t-ipconnect.de)
[21:22:33] <greycat> !flw
[21:22:33] <greybot> Famous last words: "The filenames will never have spaces." "There won't ever be a newline inside the <a> tag." "There will only be one } at the end of the config file." "I don't need || exit after upgrade, because if apt update succeeds then apt upgrade will."
[21:22:45] *** Joins: smrtz (~smrtz@user/smrtz)
[21:23:28] *** Joins: Mo (~Mo@dynamic-095-116-024-234.95.116.pool.telefonica.de)
[21:24:32] <Bombo> <sledgehammer>trust me, i know what i'm doing!</sledgehammer>
[21:25:35] *** Joins: rgrinberg (~textual@2806:101e:7:7728:18a:215f:c191:4d5d)
[21:25:57] *** Joins: Bercik (~Redomen@89-73-136-211.dynamic.chello.pl)
[21:25:58] *** Quits: Bercik (~Redomen@89-73-136-211.dynamic.chello.pl) (Changing host)
[21:25:58] *** Joins: Bercik (~Redomen@user/bercik)
[21:26:49] *** Quits: smrtz (~smrtz@user/smrtz) (Client Quit)
[21:27:16] <NRK> what's that shenanigan with apt-upgrade?
[21:28:47] *** Joins: Maxattax97 (~max@96-94-237-74-static.hfc.comcastbusiness.net)
[21:29:03] <greycat> I don't remember the exact conversation that it came out of, but it *actually happened*.
[21:29:12] *** Joins: magla (~gelignite@d5360aa7.access.ecotel.net)
[21:29:49] *** Quits: carl- (~carl-@185.103.188.130) (Ping timeout: 240 seconds)
[21:30:47] <ormaaj2> I would not use most debian package tools in a script. maybe `dpkg` with every --force-thing enabled, and even then it usually refuses to do what I ask.
[21:35:24] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 240 seconds)
[21:36:39] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[21:36:54] *** Quits: LiftLeft (~LiftLeft@dur-dhcp-1-80.dsl.airstreamcomm.net) (Ping timeout: 256 seconds)
[21:37:12] <tarzeau> how would you sync the running of https://github.com/alexmyczko/autoexec.bat/blob/master/led-indicator to the full second?
[21:37:15] <tarzeau> so if you have a lab with 20 computers+keyboards, they'd blink synchronous?
[21:39:10] *** Quits: Mo (~Mo@dynamic-095-116-024-234.95.116.pool.telefonica.de) (Ping timeout: 256 seconds)
[21:39:37] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Ping timeout: 240 seconds)
[21:40:11] <greycat> Real-time communications between systems on a LAN, with say millisecond precision... is not the realm of bash.
[21:40:22] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 260 seconds)
[21:40:28] *** Quits: unop (~unop@195.91.110.250) (Remote host closed the connection)
[21:40:42] *** Joins: unop (~unop@195.91.110.250)
[21:41:19] <tarzeau> if they clocks are ntp exact, it should be possible to approximate it? but i haven't tried, don't know how good/bad it'd look just trying to
[21:41:24] <Soliton> if the clocks are in sync just start it from cron? maybe that's good enough.
[21:41:31] <ormaaj> `sleep` isn't the tool for anything remotely like that.
[21:41:34] <greycat> Write, or find, a program that can toggle the lights off and on and can receive messages from the network.  Then have the one master program send messages to all the subservient programs.
[21:41:55] *** Quits: tobybl_ (~tobybl@229.193.115.87.dyn.plus.net) (Remote host closed the connection)
[21:42:00] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Ping timeout: 256 seconds)
[21:42:51] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
[21:44:48] <phy1729> I'd probably run a local NTP server and sync the clocks well which should be done anyway and then take advantage of that.
[21:44:50] *** Quits: xx (~xx@user/xx) (Quit: xx)
[21:45:11] *** Joins: xx (~xx@user/xx)
[21:46:40] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Client closed)
[21:46:53] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[21:47:13] <greycat> Sure, if you don't care how badly it works, you can try having them all sleep for the right number of milliseconds simultaneously.
[21:47:18] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[21:47:49] <greycat> Once they start drifting apart, it will fall to chaos quickly.
[21:48:35] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 240 seconds)
[21:48:35] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[21:48:38] *** Joins: filename (~kilitary@kilitary.xyz)
[21:48:54] <phy1729> If the clocks are in sync, you can get the time and figure out how long to sleep to combat drift due to scheduling, but this isn't a shell level problem
[21:48:55] *** Joins: dea (~dea@5.121.215.146)
[21:50:56] *** Quits: bluedust (~bluedust@103.161.144.107) (Remote host closed the connection)
[21:51:34] *** Quits: dea (~dea@5.121.215.146) (Remote host closed the connection)
[21:54:15] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[21:54:27] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[21:55:36] *** Quits: l4s8g_ (~l4s8g@pd9e62e01.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[21:55:49] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[21:57:01] *** Joins: dea (~dea@5.121.215.146)
[21:57:20] <Earnestly> tarzeau: snooze(1)
[22:00:04] <greycat> ... someone implemented a different at(1)?  Why?
[22:00:15] <ormaaj> https://tinyurl.com/y9uz4qgf
[22:00:37] *** Quits: unop (~unop@195.91.110.250) (Remote host closed the connection)
[22:01:01] <greycat> looking at the manpage for this snooze thing, it talks about minutes.  not seconds.  not milliseconds.
[22:01:12] *** Joins: unop (~unop@195.91.110.250)
[22:01:16] <greycat> well, it does mention seconds in the context of a random delay
[22:01:55] <greycat> oh, and there's a -S there too.  OK, my mistake -- it does mention seconds in the context of start times.  But still, that's hardly going to give you synchronized blinky lights.
[22:06:22] *** Joins: yagamilito (~yagamilit@2601:642:4600:34b0:c035:1eaa:808f:b1c3)
[22:06:27] *** Quits: l4yer (~l4yer@84.69.191.245) (Ping timeout: 272 seconds)
[22:07:24] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 240 seconds)
[22:07:35] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[22:08:58] <yagamilito> Hello
[22:08:59] <yagamilito> i am trying to validate user input
[22:08:59] <yagamilito> https://pastebin.com/raw/shiwbeLE
[22:09:00] <yagamilito> if i enter wrong input it is still continuing to next step how to loop back untill user provides a number ?
[22:09:00] <yagamilito> output come like this
[22:09:01] <yagamilito> Enter duration in seconds(eg: 1hour=3600): wewe
[22:09:01] <yagamilito> Inputs must be a numbers
[22:09:37] *** Quits: arinov_ (~arinov@31.142.86.27) (Ping timeout: 272 seconds)
[22:09:59] *** Quits: rgrinberg (~textual@2806:101e:7:7728:18a:215f:c191:4d5d) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:10:01] *** Joins: yuesbeez (uid458354@id-458354.tinside.irccloud.com)
[22:11:47] *** Quits: noarb (~noarb@user/noarb) (Read error: Connection reset by peer)
[22:11:50] <Soliton> well, fix the while condition or actually empty duration when you don't like it.
[22:11:51] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[22:11:52] <tirnanog> while read -r duration; [[ ! $duration ... ]]; do echo "Moan about invalid input here"; done
[22:12:06] *** Quits: dea (~dea@5.121.215.146) (Remote host closed the connection)
[22:12:18] *** Joins: greycat_ (~greg@209.142.155.49)
[22:12:19] *** Quits: greycat (~greg@209.142.155.49) (Ping timeout: 256 seconds)
[22:12:25] *** greycat_ is now known as greycat
[22:14:09] *** Joins: rgrinberg (~textual@2806:101e:7:7728:18a:215f:c191:4d5d)
[22:16:21] *** Joins: dea (~dea@5.121.215.146)
[22:16:43] *** Quits: yagamilito (~yagamilit@2601:642:4600:34b0:c035:1eaa:808f:b1c3) (Quit: Client closed)
[22:16:44] *** Joins: dea_ (~dea@5.121.215.146)
[22:16:49] *** Quits: dea_ (~dea@5.121.215.146) (Client Quit)
[22:18:49] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[22:19:30] *** Quits: sobkas (~sobkas@95.175.17.217) (Remote host closed the connection)
[22:19:49] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[22:20:47] *** Joins: sobkas (~sobkas@95.175.17.217)
[22:21:35] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[22:22:23] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[22:23:32] *** Quits: dea (~dea@5.121.215.146) (Quit: Leaving)
[22:26:35] *** Quits: easyriders (~easyrider@83-233-246-108.cust.bredband2.com) (Quit: Quit)
[22:30:04] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 268 seconds)
[22:30:24] *** Quits: sobkas (~sobkas@95.175.17.217) (Remote host closed the connection)
[22:30:28] *** Joins: crashrep (~crashrep@user/crashrep)
[22:30:55] *** Joins: sobkas (~sobkas@95.175.17.217)
[22:33:07] *** Joins: dea (~dea@5.121.215.146)
[22:33:44] *** Joins: noarb (~noarb@user/noarb)
[22:33:45] *** Quits: sobkas (~sobkas@95.175.17.217) (Read error: Connection reset by peer)
[22:34:16] *** Joins: sobkas (~sobkas@95.175.17.217)
[22:34:30] <dea> "systemd-anaylize blame" gives me this
[22:34:33] <dea> 8.032s NetworkManager-wait-online.service                                      >
[22:34:34] <dea> 6.452s fstrim.service
[22:34:35] *** Joins: kj (~kj@kj.aerisnetwork.net)
[22:35:11] <emanuele6> !nabq
[22:35:12] <greybot> Not a #bash question. We're no experts in that software or OS; consider asking the channel or mailing list with experts on that topic (eg. #docker #git #rsync #linux #openssh #ubuntu #zsh #systemd ##kernel or PM alis with "list keyword" to search for channels).
[22:35:27] <dea> I'm sorry
[22:35:30] <dea> wrong chat
[22:36:43] <emanuele6> !forget nabq
[22:36:43] <greybot> OK, emanuele6
[22:38:31] <emanuele6> !learn nabq Not a #bash question. We're not experts in that software or OS; consider asking the channel or mailing list with experts on that topic (eg. #docker #git ##kernel #linux #openssh #systemd #rsync #ubuntu #zsh or PM alis with "list KEYWORD" to search for channels).
[22:38:31] <greybot> OK, emanuele6
[22:38:50] *** Quits: sobkas (~sobkas@95.175.17.217) (Remote host closed the connection)
[22:39:22] *** Joins: sobkas (~sobkas@95.175.17.217)
[22:39:31] *** Joins: MajorBiscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e)
[22:39:57] <phy1729> If you were alphabetizing r before s
[22:41:24] *** Quits: sobkas (~sobkas@95.175.17.217) (Remote host closed the connection)
[22:41:56] *** Joins: sobkas (~sobkas@95.175.17.217)
[22:42:57] *** Quits: sobkas (~sobkas@95.175.17.217) (Remote host closed the connection)
[22:42:57] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[22:43:23] *** Quits: thiras (~thiras@user/thiras) (Read error: Connection reset by peer)
[22:43:27] *** Joins: sobkas (~sobkas@95.175.17.217)
[22:43:37] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Client Quit)
[22:43:48] *** Quits: volga629 (~volga629@72.139.93.26) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:43:49] *** Quits: sobkas (~sobkas@95.175.17.217) (Remote host closed the connection)
[22:44:21] *** Joins: sobkas (~sobkas@95.175.17.217)
[22:47:05] *** Joins: greycat_ (~greg@209.142.155.49)
[22:47:19] *** Quits: greycat (~greg@209.142.155.49) (Killed (NickServ (GHOST command used by greycat_)))
[22:47:24] *** greycat_ is now known as greycat
[22:47:27] *** Quits: xx (~xx@user/xx) (Ping timeout: 256 seconds)
[22:49:26] *** Quits: Maxattax97 (~max@96-94-237-74-static.hfc.comcastbusiness.net) (Ping timeout: 256 seconds)
[22:50:30] *** Quits: leftyfb (leftyfb@wargames.left-click.org) (Changing host)
[22:50:30] *** Joins: leftyfb (leftyfb@ubuntu/member/leftyfb)
[22:52:48] *** Quits: dea (~dea@5.121.215.146) (Remote host closed the connection)
[22:54:15] *** Quits: Sauvin (~sauvin@about/linux/staff/sauvin) (Ping timeout: 256 seconds)
[22:54:32] <emanuele6> phy1729: i was mainly replacing "no" with "not" and uppercasing keyword, but yes oops
[22:54:38] <emanuele6> !forget nabq
[22:54:38] <greybot> OK, emanuele6
[22:55:02] <emanuele6> !learn nabq Not a #bash question. We're not experts in that software or OS; consider asking the channel or mailing list with experts on that topic (eg. #docker #git ##kernel #linux #openssh #rsync #systemd #ubuntu #zsh or PM alis with "list KEYWORD" to search for channels).
[22:55:02] <greybot> OK, emanuele6
[22:55:46] *** Quits: darkbit (~db@136.158.8.67) (Ping timeout: 245 seconds)
[22:57:28] <llua> secret plot to push ubuntu further down the list since their users dont know how to read.
[22:59:54] *** Joins: sky-6 (~sky@user/sky-)
[23:02:27] *** Joins: sky-9 (~sky@user/sky-)
[23:03:25] *** Quits: sky- (~sky@user/sky-) (Ping timeout: 240 seconds)
[23:03:25] *** sky-9 is now known as sky-
[23:03:33] *** Joins: volga629 (~volga629@72.139.93.26)
[23:03:45] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[23:04:02] *** Quits: masoudd (~masoudd@user/masoudd) (Ping timeout: 252 seconds)
[23:04:48] *** Joins: suss` (~user@user/suss)
[23:05:02] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[23:05:30] *** Joins: kj- (~kj@142.169.78.167)
[23:06:02] *** Quits: sky-6 (~sky@user/sky-) (Ping timeout: 240 seconds)
[23:06:07] *** Joins: yagamilito (~yagamilit@2601:642:4600:34b0:c035:1eaa:808f:b1c3)
[23:06:21] *** Quits: suss (~user@user/suss) (Ping timeout: 250 seconds)
[23:06:36] *** Quits: rgrinberg (~textual@2806:101e:7:7728:18a:215f:c191:4d5d) (Ping timeout: 245 seconds)
[23:06:45] <yagamilito> sorry reposting
[23:06:45] <yagamilito> suddenly i got reconnected and i am not seeing prevous messages
[23:06:46] <yagamilito> hello
[23:06:46] <yagamilito> i have written a bash script but i am thinking its is very bad practice to repeat commands in same bash script
[23:06:47] <yagamilito> need some suggestions on making this script simple with less lines
[23:06:47] <yagamilito> https://pastebin.com/raw/jS5L0ei6
[23:08:25] *** Quits: kj (~kj@kj.aerisnetwork.net) (Ping timeout: 256 seconds)
[23:08:27] <ormaaj> your quoting is backwards
[23:09:20] <tarzeau> yagamilito: you know about export a=2 b=454 ?
[23:09:43] <yagamilito> yes
[23:10:03] <tarzeau> and echo -e "$USERNAME\nxxx"
[23:10:15] <tarzeau> 6 lines saved
[23:10:17] *** Joins: ormaaj291 (~ormaaj2@user/ormaaj)
[23:10:26] <Soliton> !echo
[23:10:26] <greybot> echo outputs a string. echo has many portability problems, and should never be used with option flags. Consider printf instead: printf 'name: %s\n' "$name". http://wiki.bash-hackers.org/commands/builtin/echo | http://cfajohnson.com/shell/cus-faq.html#Q0b | http://www.in-ulm.de/~mascheck/various/echo+printf
[23:10:27] <ormaaj> I dunno. Worry about making it suck less. Not the line count.
[23:10:27] <tarzeau> and shift;shift another 2 lines
[23:10:36] <emanuele6> that is injecting "format" into echo
[23:11:00] <emanuele6> printf '%s\n' "$USERNAME" xxx
[23:11:00] <tarzeau> no idea what it's supposed to do? maybe add a few # comments on top?
[23:11:12] <ormaaj> !varcaps
[23:11:12] <greybot> By convention, environment variables (PATH, EDITOR, SHELL, ...) and internal shell variables (BASH_VERSION, RANDOM, ...) are fully capitalized. All other variable names should be lowercase. Since variable names are case-sensitive, this convention avoids accidentally overriding environmental and internal variables. https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap08.html
[23:11:26] <emanuele6> ormaaj: isn't username a special bash variable?
[23:11:28] <larryv> yagamilito: what repetition are you concerned about? there's a lot that could be improved but i don't see anything that could, say, benefit from a function
[23:11:31] <phy1729> !in1line
[23:11:31] <greybot> There isn't a world shortage of bash commands, and having newlines in your script does not make it slower
[23:11:38] <emanuele6> oh, no that is USER
[23:11:43] <ormaaj> USER
[23:11:48] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 240 seconds)
[23:12:03] <emanuele6> and it is not set by bash
[23:12:17] <emanuele6> i was thinking of HOSTNAME
[23:13:45] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[23:14:02] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[23:14:05] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Ping timeout: 256 seconds)
[23:16:15] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[23:17:23] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 272 seconds)
[23:18:36] *** Joins: revolve (~u0_a227@cpc100838-bagu15-2-0-cust672.1-3.cable.virginm.net)
[23:18:59] *** Lord_of_Life_ is now known as Lord_of_Life
[23:19:46] *** Quits: seninha (~chatzilla@user/seninha) (Ping timeout: 260 seconds)
[23:19:48] *** Quits: MajorBiscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e) (Ping timeout: 240 seconds)
[23:20:17] *** Quits: unop (~unop@195.91.110.250) (Remote host closed the connection)
[23:20:34] *** Joins: unop (~unop@195.91.110.250)
[23:21:00] <yagamilito> larryv i mean i feltÂ  like accountUsername and duration are used 4 times instead can u do anything better i am thinkiing
[23:21:40] <greycat> variables *should* be used multiple times; that's the whole purpose of having variables rather than repeating long constants
[23:23:02] <Earnestly> Especially if it is variable
[23:23:19] <Soliton> !pf euo
[23:23:19] <greybot> https://mywiki.wooledge.org/BashPitfalls#pf60 -- Don't do this! -- set -euo pipefail
[23:23:35] <Soliton> envsubst <input >output
[23:23:54] <Soliton> but really use jq or so to produce valid json.
[23:25:22] *** Joins: csm3105 (~csm3105@31.177.98.6)
[23:27:29] *** Joins: sky-9 (~sky@user/sky-)
[23:28:23] *** Joins: kj (~kj@kj.aerisnetwork.net)
[23:28:32] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 240 seconds)
[23:30:17] *** Quits: kj- (~kj@142.169.78.167) (Ping timeout: 240 seconds)
[23:30:53] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[23:31:02] *** Quits: sky- (~sky@user/sky-) (Ping timeout: 240 seconds)
[23:31:02] *** sky-9 is now known as sky-
[23:31:02] *** Quits: gr33nR10t (~greenriot@user/gr33nr10t) (Read error: Connection reset by peer)
[23:32:31] *** Joins: tmm88 (~tmm88@user/tmm88)
[23:32:44] *** Quits: csm3105 (~csm3105@31.177.98.6) (Quit: Leaving)
[23:32:59] *** Joins: lavaball (felix@31.204.155.215)
[23:36:08] *** Joins: gr33nR10t (~greenriot@user/gr33nr10t)
[23:38:17] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 272 seconds)
[23:38:18] *** Joins: shokohsc4 (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[23:39:00] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 240 seconds)
[23:40:09] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[23:40:09] *** shokohsc4 is now known as shokohsc
[23:41:33] *** Joins: sky-1 (~sky@user/sky-)
[23:42:26] *** Joins: YaoNai (~YaoNai@user/yaonai)
[23:42:48] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[23:45:00] *** Quits: sky- (~sky@user/sky-) (Ping timeout: 240 seconds)
[23:45:00] *** sky-1 is now known as sky-
[23:47:30] *** Joins: Tangent-Man (~Tang3nt-M@138.199.21.36)
[23:48:22] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 256 seconds)
[23:48:34] *** Parts: anddam (~anddam@user/anddam) (WeeChat 3.4)
[23:51:44] *** Joins: bluedust (~bluedust@103.161.144.107)
[23:53:30] *** Quits: gr33nR10t (~greenriot@user/gr33nr10t) (Quit: ZNC 1.8.2 - https://znc.in)
[23:53:48] *** Quits: aidalgol (~aidalgol@user/aidalgol) (Ping timeout: 240 seconds)
[23:53:50] *** Joins: aidalgol_ (~aidalgol@user/aidalgol)
[23:54:50] *** Joins: arinov_ (~arinov@5.24.108.1)
[23:55:58] *** Joins: Sulky_ (~Sulky@37.170.65.201)
[23:56:26] *** Quits: bluedust (~bluedust@103.161.144.107) (Ping timeout: 250 seconds)
[23:59:10] *** Quits: Sulky (~Sulky@37.171.121.230) (Ping timeout: 272 seconds)
