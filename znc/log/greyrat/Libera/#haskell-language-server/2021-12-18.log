[00:00:06] <jneira[m]> sm: hmm not sure maybe fendor remember it
[00:00:31] <jneira[m]> > <@simonmic:matrix.org> Cradle directory: /Users/simon/src/DEVTOOLS/haskell-language-server
[00:00:31] <jneira[m]> > Cradle type: Stack
[00:00:31] <jneira[m]> you have .stack-work inboth dirs?
[00:00:57] <sm> oh, I do have a hie.yaml in the parent dir
[00:01:17] <jneira[m]> well writing a hie.yaml in ./install make it works, do you try it?
[00:01:29] <jneira[m]> s/do/did/
[00:01:36] <sm> if I remove that.. it uses the install directory:
[00:01:36] <sm> Cradle directory: /Users/simon/src/DEVTOOLS/haskell-language-server/install
[00:01:36] <sm> Cradle type: Stack
[00:02:03] <sm> I'm trying to avoid hie.yaml now as much as possible, it seems to cause more confusion
[00:02:04] <jneira[m]> yeah, that is what i thought it shouldbe
[00:02:13] <jneira[m]> sm: agree
[00:03:02] <sm> now it's
[00:03:02] <sm> WARNING hls:	No [cradle](https://github.com/mpickering/hie-bios#hie-bios) found for src/HlsInstall.hs.
[00:03:02] <sm>  Proceeding with [implicit cradle](https://hackage.haskell.org/package/implicit-hie).
[00:03:17] <jneira[m]> I wish it hadn't been necessary, lot of internet places and people in chats continue thinking it is needed ot it is gonna fix their issues
[00:03:27] <jneira[m]> and almost neve is the case
[00:03:36] <sm> well in fairness it did get hls working for me multiple times in the past
[00:03:54] <jneira[m]> yeah, it used to do it
[00:03:58] <sm> whether for right or wrong reasons, I have no idea but it helped
[00:04:52] <jneira[m]> sometimes the file is mixing with other changes and it is not the direct fixing thing
[00:05:03] <jneira[m]> (likea restart)
[00:05:19] <jneira[m]> or it workarounds a problem which has a proper solution...
[00:07:14] <sm> nod
[00:07:54] <sm> as diagnostics and feedback to user improves, this should be less of a problem
[00:08:24] <sm> I wonder what portion of hls users use it via vs code, emacs, other...
[00:11:40] <jneira[m]> i see many people in issues and chats using it with emacs or vim, but i would say that there are more users using vscode
[00:12:38] * sm guesses: 60% vscode, 30% emacs, 10% vim
[00:13:09] * jneira[m] sent a code block: https://libera.ems.host/_matrix/media/r0/download/libera.chat/43ec987b0d419dc89d06314da33d957497b6be0c
[00:13:34] <jneira[m]>  * ```... (full message at https://libera.ems.host/_matrix/media/r0/download/libera.chat/cadc37c372dc959e93b0787ffec03b9d15efcf7c)
[00:13:46] <jneira[m]> from haskell survey 2021
[00:14:16] <sm> was the question about hls, or "what's your haskell ide ?" well I guess the answer is about the same
[00:14:19] <jneira[m]> but beginners not doing the survey are using more vscode
[00:14:59] <sm> actually it's not, lots of haskellers using these ides/editors don't have hls hooked up
[00:15:06] <jneira[m]> 64% hls 19% ghcid
[00:15:28] <jneira[m]> there is no much other choices aout there
[00:15:44] <jneira[m]> they are deprecated/unmaintained
[00:15:51] <jneira[m]> s/aout/out/
[00:15:54] <sm> I think my guess is compatible with these numbers, I'll stick with it
[00:16:58] <jneira[m]> some emacs/vim users dont use an ide at all
[00:17:27] <jneira[m]> they are productive with pure cli tools i suppose
[00:17:50] <sm> or not
[00:17:59] <jneira[m]> he
[00:25:27] <jneira[m]> <jneira[m]> "I wish it hadn't been necessary,..." <- well actually it continue being useful for advanced case uses like the bios cradle, or to force hls to use cabal or stack for example 
[00:25:27] <jneira[m]> For last use case it would be nice that `cradle: stack:` just work as `cradle: cabal:` does with recent versions of cabal
[00:28:00] <sm> yes, I have needed it 1. to force use of cabal because stack repl doesn't support internal libraries and 2. to force use of a non-default stack.yaml, because the default stack yaml is for a ghc version not on my platform
[00:28:27] <sm> I think in both cases I also specified all the source paths, I should try without those now
[00:29:14] <sm> but.. if you have any hie.yaml, even a small one, does that disturb autodetection of source files/components ?
[00:30:34] <jneira[m]> sm: afaik stack will not work if you have more than a component
[00:30:58] <jneira[m]> stack cradle without source paths i mean
[00:31:28] *** Quits: coot (~coot@2a02:a310:e03f:8500:933a:39ca:ef4e:37cb) (Quit: coot)
[00:31:57] <jneira[m]> sm: well hls via hie-bios will follow the config file closely and will not autodetect anything
[00:32:34] <jneira[m]> basically hie-bios does a `tool repl /path/to/file` if it has not source paths in the config
[00:33:23] <jneira[m]> and `tool repl component` after extracting the component form the source paths if they are available in the implicit or explicit config
[00:33:26] <sm> it's hard for me to follow all this, without building a mental model of all the parts
[00:33:56] <jneira[m]> ya 
[00:34:22] <jneira[m]> but the key is hls does a `stack repl whatever` underneath
[00:34:27] <sm> yes
[00:35:01] <jneira[m]> or `cabal repl whatever` so if the build tool does not make that work correctly.. bam
[00:36:14] <jneira[m]> nowadays `cabal repl path/to/file` works for almost allcases so there is no need to put the component -> source paths in hie.yaml
[00:37:36] <jneira[m]> but even `stack repl component` does not work for some cases (and `path/to/file` in almost any case) so stack experience is much worse
[00:38:21] <jneira[m]> the plan is remove the need to do a repl and ask directly the build tool the info ide needs
[00:39:17] <jneira[m]> cabal already has part of it and stack has some work done time ago by chrisdone (but no recent feedback :-( )
[00:39:49] <jneira[m]> * tool the needed info
[00:50:36] <jneira[m]> we really must document the architecture to help contributing
[01:02:11] <sm> hard to do I know. Cleaning/removing/hiding out of date things is probably important
[01:02:40] <sm> cuts down the space of things, at least
[01:05:40] <sm> man that CI is intense
[01:06:09] <sm> 3 hours plus
[01:08:19] <sm> it adds complexity, but one could fine tune the CI to only run workflows related to files changed. Eg changes to ghc 8.10 stack yamls wouldn't run all the other ghc version checks
[01:13:20] <sm> interesting, an extra deps assister: https://tech.freckle.com/2021/12/17/announcing-lsd/
[01:22:46] <Heffalump> [21:43] <sm> interesting, an extra deps assister: https://tech.freckle.com/2021/12/17/announcing-lsd/
[01:22:50] <Heffalump> sorry..
[01:23:07] <Heffalump> PEBKAC while trying to copy the URL
[01:23:31] <sm> it's hard in element, isn't it!
[01:29:17] <sm> sorry, I somehow "started a review" on 2501, and cancelling it has removed my reply, but hopefully you saw it jneira
[01:40:22] <Heffalump> it probably deleted your reply, the "Start a review" comments live in a pending state until you actually finalise the review.
[01:52:17] *** Joins: libertyprime (~libertypr@125-239-52-43-fibre.sparkbb.co.nz)
[02:05:23] <jneira[m]> <sm> "it adds complexity, but one..." <- ugh we already are skipping the cabal build for alist of file globs but no for stack.yamls! ðŸ¤¦
[02:05:37] <jneira[m]> s/ugh we already are skipping the cabal build for alist of file globs but no for stack.yamls! ðŸ¤¦/ugh we already are skipping the cabal build for a list of file globs but no for stack.yamls! ðŸ¤¦/
[02:06:51] <jneira[m]> <sm> "sorry, I somehow "started a..." <- did not see, i sometimes can revisit the pr and click in the finish review thing
[02:08:18] <jneira[m]> <sm> "3 hours plus" <- but we have an issue with master right now that makes the test suite hangs, it usually does not take so many time
[02:09:42] <jneira[m]> 1h 20m +- with a warm cache
[03:44:21] *** Quits: Morrow (~quassel@bzq-110-168-31-106.red.bezeqint.net) (Remote host closed the connection)
[05:12:35] *** Quits: hololeap (~hololeap@user/hololeap) (Quit: Bye)
[05:52:56] *** Quits: libertyprime (~libertypr@125-239-52-43-fibre.sparkbb.co.nz) (Ping timeout: 268 seconds)
[06:34:19] *** Joins: libertyprime (~libertypr@118-92-72-229.dsl.dyn.ihug.co.nz)
[07:01:31] *** Joins: hololeap (~hololeap@user/hololeap)
[07:14:04] *** Quits: hololeap (~hololeap@user/hololeap) (Quit: Bye)
[07:15:45] *** Joins: hololeap (~hololeap@user/hololeap)
[08:03:21] *** Quits: libertyprime (~libertypr@118-92-72-229.dsl.dyn.ihug.co.nz) (Quit: leaving)
[10:01:08] *** Joins: coot (~coot@89-64-85-93.dynamic.chello.pl)
[12:23:25] *** Quits: coot (~coot@89-64-85-93.dynamic.chello.pl) (Quit: coot)
[13:02:50] *** Joins: coot (~coot@89-64-85-93.dynamic.chello.pl)
[13:59:28] *** Quits: coot (~coot@89-64-85-93.dynamic.chello.pl) (Quit: coot)
[14:05:27] * jneira[m] uploaded an audio file: (17KiB) < https://libera.ems.host/_matrix/media/r0/download/matrix.org/KxuPvoZlQEtCDivajytYqdXU/Voice%20message.ogg >
[14:59:36] <alanz> pepeiborra, ping
[15:02:50] <alanz> nvm
[17:59:23] *** Joins: arrowd (~arr@2.94.236.140)
[18:19:17] *** Joins: juhp[m] (~juhpmatri@2001:470:69fc:105::6e9)
[19:35:49] *** Joins: coot (~coot@89-64-85-93.dynamic.chello.pl)
[21:11:01] *** Quits: coot (~coot@89-64-85-93.dynamic.chello.pl) (Quit: coot)
[21:47:03] *** Quits: arrowd (~arr@2.94.236.140) ()
[22:09:13] *** Joins: Morrow (~quassel@bzq-110-168-31-106.red.bezeqint.net)
[23:34:37] *** Quits: juhp (~juhp@128.106.188.82) (Ping timeout: 240 seconds)
[23:38:07] *** Joins: juhp (~juhp@128.106.188.82)
[23:52:13] <anton-latukha[m]> Yes - it is important detail to know. Until the review is posted as finished - all messages in it are not posted. And if review not finished - content gets aborted. That thankfully allows to refactor a review & responses and think several times at a picture a whole before posting.
