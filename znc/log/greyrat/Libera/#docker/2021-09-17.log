[00:00:07] <tabakhase> hirachy, not order
[00:00:11] <tabakhase> so yes, but no :P
[00:00:48] *** Quits: Cata (~Cata@user/cata) (Quit: Leaving)
[00:01:08] <physikoi> oh, hierarchy. So precedence is based on mount type, not list order? 
[00:01:31] <tabakhase> well "path-depth" you could say i guess
[00:04:38] <physikoi> ok, soooo, if locally i have ./node_modules, and i use a bind mount ./:/var/www/html, then contents of node_modules:/var/www/html/node_modules is what will be available in the container (not ./node_modules)?
[00:04:57] <physikoi> nvm
[00:05:06] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fafc-123.dhcp.inet.fi) (Ping timeout: 260 seconds)
[00:05:20] <physikoi> just verified. Very nice. Let's see if i can successfully install packages inside of container. Ty!
[00:27:29] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 268 seconds)
[00:29:27] *** Quits: tetrapod (~tetrapod@user/tetrapod) (Remote host closed the connection)
[00:29:49] *** Joins: tetrapod (~tetrapod@user/tetrapod)
[00:35:15] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.0.1)
[00:39:10] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Ping timeout: 240 seconds)
[00:39:24] *** Quits: tetrapod (~tetrapod@user/tetrapod) (Remote host closed the connection)
[00:39:51] *** Joins: tetrapod (~tetrapod@user/tetrapod)
[00:40:52] *** Quits: sed (~sed@pool-100-7-38-116.rcmdva.fios.verizon.net) (Ping timeout: 252 seconds)
[00:41:11] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[00:48:43] *** Quits: tetrapod (~tetrapod@user/tetrapod) (Remote host closed the connection)
[00:49:07] *** Joins: tetrapod (~tetrapod@user/tetrapod)
[00:54:31] *** Quits: tetrapod (~tetrapod@user/tetrapod) (Remote host closed the connection)
[00:55:02] *** Joins: tetrapod (~tetrapod@user/tetrapod)
[00:56:18] *** Joins: Brainium (~brainium@user/brainium)
[00:59:31] *** Joins: notevil (~notevil@user/notevil)
[01:08:11] *** Joins: JoelJoel (~jjshoe@user/joel)
[01:09:02] *** Quits: Joel (~jjshoe@user/joel) (Ping timeout: 260 seconds)
[01:13:42] *** Quits: physikoi (~physikoi@user/physikoi) (Ping timeout: 260 seconds)
[01:25:50] *** Quits: JoelJoel (~jjshoe@user/joel) (Ping timeout: 260 seconds)
[01:26:02] *** Joins: Joel (~jjshoe@user/joel)
[01:28:28] *** Quits: tetrapod (~tetrapod@user/tetrapod) (Remote host closed the connection)
[01:28:51] *** Joins: tetrapod (~tetrapod@user/tetrapod)
[01:30:51] *** Joins: junktext (~junktext@109.201.152.173)
[01:37:37] *** Quits: tetrapod (~tetrapod@user/tetrapod) (Remote host closed the connection)
[01:38:01] *** Joins: tetrapod (~tetrapod@user/tetrapod)
[01:46:26] *** Quits: tetrapod (~tetrapod@user/tetrapod) (Remote host closed the connection)
[01:46:50] *** Joins: tetrapod (~tetrapod@user/tetrapod)
[01:50:37] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:53:25] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[02:12:21] *** Quits: tetrapod (~tetrapod@user/tetrapod) (Remote host closed the connection)
[02:12:43] *** Joins: tetrapod (~tetrapod@user/tetrapod)
[02:25:58] *** Joins: sleym (~sleym@195.181.171.237)
[02:27:08] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:28:28] *** Quits: sleym (~sleym@195.181.171.237) (Client Quit)
[02:31:32] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Read error: Connection reset by peer)
[02:39:30] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:41:53] *** Quits: tetrapod (~tetrapod@user/tetrapod) (Remote host closed the connection)
[02:42:17] *** Joins: tetrapod (~tetrapod@user/tetrapod)
[02:48:19] *** Quits: waldo323 (~waldo323@d14-69-96-170.try.wideopenwest.com) (Remote host closed the connection)
[02:48:50] *** Joins: waldo323 (~waldo323@d14-69-96-170.try.wideopenwest.com)
[03:00:41] *** Parts: velix (~velix@user/velix) (Leaving)
[03:01:37] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 252 seconds)
[03:02:24] *** Quits: tetrapod (~tetrapod@user/tetrapod) (Remote host closed the connection)
[03:02:46] *** Joins: tetrapod (~tetrapod@user/tetrapod)
[03:11:19] *** Joins: keypusher (keypusher@user/keypusher)
[03:13:17] *** Joins: jkwnki (~jkwnki@p2e57952d.dip0.t-ipconnect.de)
[03:18:58] *** Quits: tetrapod (~tetrapod@user/tetrapod) (Remote host closed the connection)
[03:19:23] *** Joins: tetrapod (~tetrapod@user/tetrapod)
[03:36:39] *** Joins: physikoi (~physikoi@user/physikoi)
[03:39:47] *** Quits: onizu (uid373383@id-373383.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[03:42:56] *** Quits: physikoi (~physikoi@user/physikoi) (Quit: leaving)
[03:43:42] *** Joins: Atque (~Atque@user/atque)
[03:57:43] *** Quits: jkwnki (~jkwnki@p2e57952d.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[04:02:10] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Ping timeout: 252 seconds)
[04:02:49] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[04:08:35] *** Quits: TomTom (uid45892@id-45892.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[04:08:54] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Quit: ZNC 1.8.2 - https://znc.in)
[04:10:10] *** Quits: brachamh (~brachamh@user/brachamh) (Ping timeout: 240 seconds)
[04:10:44] *** Joins: brachamh (~brachamh@user/brachamh)
[04:11:35] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[04:30:03] *** Quits: RV (~RV@lfbn-nic-1-430-119.w90-116.abo.wanadoo.fr) (Remote host closed the connection)
[04:30:26] *** Joins: RV (~RV@lfbn-nic-1-430-119.w90-116.abo.wanadoo.fr)
[04:46:11] *** Joins: sed (~sed@pool-100-7-38-116.rcmdva.fios.verizon.net)
[04:48:17] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[05:14:20] *** Joins: jmartin (~jmartin@user/jmartin)
[05:17:04] *** Quits: jmartin (~jmartin@user/jmartin) (Remote host closed the connection)
[05:28:10] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Ping timeout: 240 seconds)
[05:30:27] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:30:56] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[05:31:55] *** Quits: crazymax (~crazymax@user/crazymax) (Remote host closed the connection)
[05:34:51] *** Joins: vlm (~vlm@user/vlm)
[05:41:51] *** Joins: db (uid18678@id-18678.helmsley.irccloud.com)
[06:06:03] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[06:09:34] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 260 seconds)
[06:11:34] *** Joins: keypusher (keypusher@user/keypusher)
[06:14:21] *** Joins: jazzy (~jaziz@2600:380:847e:4826:65ec:5dee:21ac:a416)
[06:14:53] *** Joins: jazzy2 (~jaziz@2600:380:847e:4826:ec68:9d70:e078:696)
[06:18:48] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Quit: WeeChat 3.2)
[06:19:07] *** Quits: jazzy (~jaziz@2600:380:847e:4826:65ec:5dee:21ac:a416) (Ping timeout: 252 seconds)
[06:19:17] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[06:19:33] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Client Quit)
[06:20:05] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[06:20:06] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Client Quit)
[06:21:58] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[06:22:15] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Client Quit)
[06:23:17] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[06:39:33] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Quit: WeeChat 3.2)
[06:53:46] *** Quits: jayray (~jayray@user/jayray) (Ping timeout: 256 seconds)
[06:53:56] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[06:53:58] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Client Quit)
[06:59:53] *** Joins: jayray (~jayray@user/jayray)
[07:04:38] *** Quits: aidalgol (~aidalgol@user/aidalgol) (Ping timeout: 260 seconds)
[07:07:50] *** Joins: aidalgol (~aidalgol@user/aidalgol)
[07:09:04] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Ping timeout (120 seconds))
[07:15:37] *** Quits: pipapipapipo (~peppbel@076-083-166-225.res.spectrum.com) (Remote host closed the connection)
[07:31:30] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Remote host closed the connection)
[07:31:44] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[07:46:27] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Quit: ZNC 1.8.2 - https://znc.in)
[07:46:48] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[07:50:50] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[08:05:40] *** Quits: sed (~sed@pool-100-7-38-116.rcmdva.fios.verizon.net) (Ping timeout: 268 seconds)
[08:18:22] *** Quits: codebam (~codebam@user/codebam) (Quit: ZNC 1.8.2 - https://znc.in)
[08:19:17] *** Joins: codebam (~codebam@user/codebam)
[08:24:39] *** Joins: fdan (~fdan@192.146.154.3)
[08:25:51] *** Quits: codebam (~codebam@user/codebam) (Quit: ZNC 1.8.2 - https://znc.in)
[08:26:01] *** Quits: Brainium (~brainium@user/brainium) (Quit: Konversation terminated!)
[08:26:31] *** Joins: codebam (~codebam@user/codebam)
[08:27:59] *** Quits: codebam (~codebam@user/codebam) (Client Quit)
[08:28:24] *** Joins: codebam (~codebam@user/codebam)
[08:33:01] *** Joins: waldo323_ (~waldo323@d14-69-96-170.try.wideopenwest.com)
[08:34:55] *** Quits: junktext (~junktext@109.201.152.173) (Ping timeout: 252 seconds)
[08:35:40] *** Quits: waldo323 (~waldo323@d14-69-96-170.try.wideopenwest.com) (Ping timeout: 268 seconds)
[08:39:26] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[08:39:53] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[08:46:50] *** Quits: Ivii (~Ivyy@2001:a61:1329:3e01:71c:8eee:e7a3:a533) (Remote host closed the connection)
[08:47:00] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:53:43] *** Quits: fdan (~fdan@192.146.154.3) (Quit: Client closed)
[09:05:36] *** Quits: andycooper (uid246432@id-246432.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[09:32:23] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[09:32:44] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[09:33:46] *** Joins: emerent_ (~quassel@p200300cd5701a13cba27ebfffed28a59.dip0.t-ipconnect.de)
[09:33:46] *** emerent is now known as Guest5831
[09:33:46] *** Quits: Guest5831 (~quassel@p200300cd5701a105ba27ebfffed28a59.dip0.t-ipconnect.de) (Killed (mercury.libera.chat (Nickname regained by services)))
[09:33:46] *** emerent_ is now known as emerent
[09:34:40] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Client Quit)
[09:41:09] *** Joins: JoelJoel (~jjshoe@user/joel)
[09:41:52] *** Quits: Joel (~jjshoe@user/joel) (Ping timeout: 268 seconds)
[09:52:05] *** Quits: Oceanwatcher (~Oceanwatc@177.44.70.3) (Read error: Connection reset by peer)
[10:26:58] *** Quits: RV (~RV@lfbn-nic-1-430-119.w90-116.abo.wanadoo.fr) (Ping timeout: 265 seconds)
[10:27:23] *** Quits: steerpike (~echelon@gateway/tor-sasl/steerpike) (Remote host closed the connection)
[10:27:47] *** Joins: steerpike (~echelon@gateway/tor-sasl/steerpike)
[10:36:39] *** Quits: steerpike (~echelon@gateway/tor-sasl/steerpike) (Remote host closed the connection)
[10:36:59] *** Joins: steerpike (~echelon@gateway/tor-sasl/steerpike)
[10:50:29] *** Joins: RV (~RV@92.173.180.89)
[10:52:28] *** Joins: TomTom (uid45892@id-45892.ilkley.irccloud.com)
[10:54:09] *** Joins: anchovy (~anchovy@58.164.24.254)
[10:54:34] <anchovy> hi. does "FROM docker.io/amd64/base" mean that this is pulling the amd64/base image off of docker.io?
[10:56:15] *** Joins: ExeciN (~ExeciN@user/nicexe)
[10:56:35] *** Quits: OPK (~OPK@user/opk) (Ping timeout: 260 seconds)
[10:59:28] *** Joins: thiras (~thiras@user/thiras)
[11:05:52] <tianon> anchovy: yep!
[11:06:57] <tianon> anchovy: https://docs.docker.com/engine/reference/commandline/tag/ is a bit terse, but it describes the full format a little
[11:07:30] <tianon> in a nutshell, registryhostname:optionalport/repository/on/the/registry:tag-name
[11:09:26] <tianon> I guess the other bit of "secret" (non-obvious) info is that the unprefixed images on Docker Hub are in the "library" organization, so in the full format, something like "hello-world:latest" translates to "docker.io/library/hello-world:latest" (which is important to know for non-Docker tooling which requires the full canonical image name instead of the shortened names Docker supports)
[11:10:29] <tianon> if you do "docker pull hello-world", you'll see the last line of the output is "docker.io/library/hello-world:latest" to corroborate this :)
[11:10:34] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 260 seconds)
[11:11:58] *** Quits: steerpike (~echelon@gateway/tor-sasl/steerpike) (Remote host closed the connection)
[11:12:17] *** Joins: steerpike (~echelon@gateway/tor-sasl/steerpike)
[11:15:15] <anchovy> tianon: is there a way to just have it use something local? :)
[11:15:41] <tianon> sure, anything you pull automatically becomes local
[11:15:43] <anchovy> tianon: I have "amd64/base" that I built myself and given what you said, it's running off to docker.io to grab it
[11:16:01] <tianon> the repository naming only matters during push and pull
[11:16:22] <anchovy> tianon: In my Dockerfile I have FROM amd64/base
[11:16:31] <tabakhase> > it's running off to docker.io to grab it < - notably ONLY happens if it wasnt found locally
[11:16:41] <tianon> if you want to build that successfully, you'll have to make something called "amd64/base" first
[11:16:56] <anchovy> tianon: I have. :)
[11:17:03] <tianon> either by building something and tagging it with that ("docker build --tag amd64/base ...") or tagging something else ("docker tag ... amd64/base")
[11:17:09] <tianon> and you'll have to avoid using "--pull" on "docker build"
[11:17:52] <tianon> I guess if the question is how to avoid it trying to hit Docker Hub, the answer is probably to firewall it O:)
[11:18:12] <anchovy> tianon: aw
[11:18:33] <tianon> because "amd64/base" there references "docker.io/amd64/base" during *any* operation that might hit a non-local image, including missing images
[11:18:57] <anchovy> tianon: so even thought I have amd64/base locally it's still going to try and hit docker.io up for a good time?
[11:19:21] <tianon> so if you don't want that, you need to make sure you don't pull, which means pre-checking before you build, not using "--pull", *and* ultimately making sure you build/tag "amd64/base" locally first
[11:19:46] <tianon> you're implicitly asking it to hit docker.io :)
[11:20:05] <anchovy> tianon: did all that.
[11:20:17] <anchovy> tianon: with no way to avoid the implicitness?
[11:20:21] <tabakhase> from distant memory ive used "garanteed to fail registries" for nonsense in the past.... 127.255.255.255/thing/name:tag or such maybe? - but its pretty pointless
[11:20:32] <tianon> ^^^
[11:20:40] <anchovy> tianon: pointless why?
[11:21:01] <tianon> the way to avoid the implicitness is to be explicit
[11:21:10] <tianon> by adding a specific registry host to hit
[11:21:20] <tianon> either the one you intend for it to hit, or a bogus one
[11:21:30] <tabakhase> better to just register your namespace, even if you never intend to use the hub for hosting - and simply never use "docker login" to that NS anywhere ever
[11:21:43] <anchovy> tianon: that's... kinda sad panda.
[11:21:52] <tabakhase> tho docker-desktop & co is trying to make that impossible i guess :D
[11:22:21] <tianon> not sure I understand the use case for only local images that you don't always have available locally?
[11:22:46] <tianon> maybe we should back up and talk about the problem you're trying to solve :)
[11:23:09] <anchovy> tianon: I think the assumption here is that I don't have amd64/base built locally. I do.
[11:23:32] <tabakhase> "computer says no" ? ;)
[11:23:34] <tianon> ok, so what's the problem?
[11:24:18] <tianon> ie, what command did you run, what did it do, and what did you expect it to do instead?
[11:25:38] <anchovy> tianon: I did not expect for it to go from my "FROM amd64/base" to "FROM docker.io/amd64/base" when I have it locally. did it ignore the network one anyway? If so then if the network one is newer than my local will it pull it down and use it instead?
[11:26:31] <tianon> "I did not expect for it to ..."  << for what?  which command specifically?  just a plain "docker build" ?  "docker build --pull" ?
[11:26:53] <anchovy> plain docker build
[11:27:13] <tianon> if you have "amd64/base:latest" tagged locally (ie, it shows up when you run "docker images"), then plain "docker build" on something that's "FROM amd64/base" shouldn't ever hit Docker Hub, and if it is, that's a bug
[11:27:59] <anchovy> rebuilding from scratch to double-check.
[11:28:54] <anchovy> just going to take a few minutes as spinning rust isn't THAT fast. :)
[11:31:45] <tianon> https://paste.debian.net/hidden/e2918d00/
[11:33:31] <tianon> foo/bar:baz *technically* refers to docker.io/foo/bar:baz, but because I have it locally, "docker build" didn't need to even try pulling it (unless I add "--pull", which I guess should've been the next thing I did there, but it'd show a similar error to line 7-8)
[11:36:16] <anchovy> still building. :) if it works as expected after this I'll just put it down to brainfart and send my apologies :/
[11:36:32] <anchovy> still rather wish I could turn off the implicitness.
[11:40:22] <anchovy> tianon: so when it translates my "FROM amd64/base" to "FROM docker.io/amd64/base" it's not actually hitting docker.io given amd64/base exists locally?
[11:40:40] <tianon> correct
[11:41:04] <tianon> image names canonically include a hostname, so when you don't specify one, "docker.io/" is implied
[11:41:31] <tianon> if you want to reference an image in a kubernetes yaml or using containerd directly, for example, you'll need that full canonical image name
[11:41:53] <tianon> (although in kubernetes, the concept of a "local image" is a lot harder to keep reasoning about :P)
[11:42:33] <anchovy> MAN that erks me. :)
[11:45:17] <anchovy> but much thanks for your help. part of the reason I'm building stuff from the ground up is to learn (also helps that the official image isn't quite what I need).
[11:45:49] <tianon> I guess "docker run" has a "--pull" flag that allows for a "never" option ("docker run --pull=never ...") but the "--pull" flag on "docker build" is quite a bit older (before having a value with a "policy" was deemed useful), and changing a non-value flag to have a value in a backwards compatible way is kind of hard :)
[11:47:25] <anchovy> I guess but you could default the value to the old behaviour, no? so that --pull does what it always did but if you specify --pull=x it does x
[11:49:52] *** Joins: OPK (~OPK@user/opk)
[11:50:58] <anchovy> I just /really/ expected an error but it soldered on and because of that would've pulled a bad image due to a name clash.
[11:51:00] <tianon> except that the = is optional
[11:51:51] <tianon> "docker build --pull never ..." would then be ambiguous whether that means a directory called "never" or a pull value of "never" (where the current behavior is always a directory called "never" -- hence the trouble)
[11:52:34] <tianon> and doing something different/smarter would require some pretty creative hacks in the flag parsing library which probably aren't going to be fun to maintain over time
[11:53:33] <anchovy> just make it non-optional when changing behaviour. that's how --color works for ls.
[11:54:46] <anchovy> ls --color never -> error but ls --color=never works and ls --color uses the default
[11:55:33] <tianon> that "just" is doing some heavy lifting though - not sure if the flag parser Docker's currently using supports that, which would mean either convincing the maintainers of it that it should, forking it (yay more unrelated code to maintain), or switching (huge lift)
[11:57:41] <tianon> "ls" has the benefit of ages-old flag parsing libraries that have already run into and solved these problems -- all the libraries in Go have different sets of tradeoffs (and different benefits, TBH)
[11:57:42] <anchovy> fair. I'd expect it to use the "standard" library stuff rather than reimplementing but that's an assumption that's as good as any.
[11:58:06] <tianon> the "standard" library stuff is the "flag" library in Go, and it's based on the plan9 style of flags
[11:58:20] <tianon> which is pretty foreign to pretty much everyone :)
[11:58:46] <tianon> (https://pkg.go.dev/flag if you want to explore)
[11:59:31] <anchovy> "the beauty of standards is that there are so many to choose from" strikes again, eh? :)
[12:00:01] <tianon> there have been a few different flag and CLI parsing libraries throughout the years, but where they usually break down is that nobody wants to really maintain a large flag/cli parsing library for a sustained period of time lol
[12:00:27] <tianon> "this scratches my itch sufficiently, so it's no longer interesting"
[12:01:10] <anchovy> yup. sigh. funfun.
[12:01:11] <tianon> and it's not exactly the type of project that attracts outside maintainers either (usually opinionated enough that the original maintainer doesn't want to risk un-scratching their own itches by letting other folks in, too)
[12:01:30] <tianon> it's a tough balance all around
[12:01:35] *** Joins: vidbina (~vid@83-93-42-115-cable.dk.customer.tdc.net)
[12:02:02] <anchovy> this is the bit of that doc that bites: -flag x  // non-boolean flags only
[12:02:10] <anchovy> single - too. fufun.
[12:02:13] <tianon> yeah
[12:02:20] <tianon> goodbye, "docker run -it"
[12:02:27] <tianon> hello, "docker run -i -t -rm"
[12:02:43] <anchovy> much sadness of the panda. :/
[12:05:07] <anchovy> tianon: well, thank you for your assistance and convo. this panda needs food badly on account of being about to die. ;)
[12:05:20] <tianon> heh, and this one needs to go to bed :D
[12:05:34] <anchovy> night :)
[12:05:39] <tianon> it's only 35 past midnight, but I'm sure the kids will be up in less than 6 hours
[12:05:57] <tianon>  /o\
[12:07:55] <anchovy> they do that :)
[12:12:00] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Read error: Connection reset by peer)
[12:12:44] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[12:19:55] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Ping timeout: 252 seconds)
[12:20:24] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[12:21:17] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[12:22:24] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[12:22:28] *** Joins: Trieste (T@user/pilgrim)
[12:28:52] *** Joins: Warbarz (~quassel@096-042-117-138.res.spectrum.com)
[12:33:48] *** Joins: Atque (~Atque@user/atque)
[12:38:26] *** Quits: vidbina (~vid@83-93-42-115-cable.dk.customer.tdc.net) (Ping timeout: 265 seconds)
[12:47:18] *** Joins: masber (~masber@213.55.226.77)
[12:53:09] *** Joins: thiras (~thiras@user/thiras)
[13:03:38] <garo> https://github.com/nestybox/sysbox : Thrustworthy or full of malware and bugs ?
[13:04:14] <garo> ( s/thrust/trust/ )
[13:04:50] <garo> :number 2
[13:04:57] <garo> oops, sorry
[13:16:46] *** Joins: rsx (~dummy@ppp-188-174-141-82.dynamic.mnet-online.de)
[13:25:36] *** Joins: polymorp- (~polymorph@066-169-158-111.res.spectrum.com)
[13:26:22] *** Quits: polymorphic (~polymorph@066-169-158-111.res.spectrum.com) (Ping timeout: 260 seconds)
[13:26:23] *** polymorp- is now known as polymorphic
[13:27:40] *** Quits: Habbie (peter@lorentz.7bits.nl) (Ping timeout: 240 seconds)
[13:28:22] *** Joins: Habbie (peter@lorentz.7bits.nl)
[13:31:45] *** Joins: vidbina (~vid@83-93-42-115-cable.dk.customer.tdc.net)
[13:42:18] *** Quits: masber (~masber@213.55.226.77) (Ping timeout: 256 seconds)
[13:45:03] *** Quits: CombatVet (~c4@user/combatvet) (Remote host closed the connection)
[13:45:22] *** Joins: CombatVet (~c4@user/combatvet)
[13:53:18] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[13:56:23] *** Joins: realies (~realies@user/realies)
[13:58:05] *** Joins: node1 (~node1@user/node1)
[13:58:09] <node1> Hi
[14:04:57] *** Joins: jacktar_ (~whiteshad@gateway/tor-sasl/jacktar)
[14:05:06] *** Quits: jacktar (~whiteshad@gateway/tor-sasl/jacktar) (Ping timeout: 276 seconds)
[14:05:22] *** jacktar_ is now known as jacktar
[14:05:45] *** Quits: Atque (~Atque@user/atque) (Ping timeout: 276 seconds)
[14:13:02] <node1> Can we run docker inside a docker?
[14:14:02] <gordonjcp> yes
[14:16:10] <node1> I see, so it means docker is all about runnig application on microservices style? right?
[14:22:02] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Quit: Ping timeout (120 seconds))
[14:22:40] <gordonjcp> node1: in a sense, yes
[14:23:02] <gordonjcp> node1: the idea is that from the docker container's point of view it's a server running one single process
[14:23:20] <gordonjcp> node1: you'd use some sort of container orchestration to combine those into a complete project
[14:23:44] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[14:23:45] <gordonjcp> this is the thing I had difficulty with when I started using docker, I needed to get my head around the idea that the container is for the components, not the project
[14:24:20] <node1> Yes, containier is for components.
[14:24:30] <node1> gordonjcp, thank you.
[14:25:23] <gordonjcp> node1: so then you'd use something like docker-compose to plug it all together
[14:26:04] <node1> ok
[14:27:11] <gordonjcp> think of it as like parts commonality in physical equipment
[14:27:36] <gordonjcp> you don't want a different kind of power supply for every product you make so you design your product to work off a 9V wallwart
[14:27:56] <gordonjcp> now any time you need a power supply, you can use the same kind, it doesn't matter
[14:28:21] <node1> humm i see.
[14:29:28] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Read error: Connection reset by peer)
[14:30:22] *** Quits: node1 (~node1@user/node1) (Quit: Leaving)
[14:30:28] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[14:31:32] *** Quits: vidbina (~vid@83-93-42-115-cable.dk.customer.tdc.net) (Ping timeout: 265 seconds)
[14:32:48] *** Quits: arkanoid (~arkanoid@2-238-151-49.ip244.fastwebnet.it) (Quit: WeeChat 2.8)
[14:49:23] *** jazzy2 is now known as jazzy
[15:16:17] *** Quits: meks (~nekohacke@user/meks) (Ping timeout: 245 seconds)
[15:17:02] *** Quits: realies (~realies@user/realies) (Quit: ~)
[15:17:20] *** Joins: realies (~realies@user/realies)
[15:25:20] <anchovy> is there an easy way to search what repo names have been taken?
[15:30:48] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Quit: Ping timeout (120 seconds))
[15:31:51] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[15:34:27] *** Joins: Ivii (~Ivyy@2001:a61:1329:3e01:7c74:8ef6:9dd:debb)
[15:39:17] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Quit: WeeChat 3.2)
[15:56:11] <sebastianos> How to reduce size of a node application image 
[15:56:27] *** Joins: tex (~dee@user/dix)
[15:57:29] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[15:58:06] <sebastianos> The node app have more size in docker image than in local machine version
[15:58:46] <sebastianos> Is it ok to copy the local node app to docker image.
[15:59:35] <sebastianos> without using 'npm install' inside the Dockerfile
[16:16:31] *** Quits: Ivii (~Ivyy@2001:a61:1329:3e01:7c74:8ef6:9dd:debb) (Remote host closed the connection)
[16:17:15] <tetrapod> I guess npm install would make cross-platform compatibility a bit easier. sebastianos. As for the image size; it's the base node image + your application code + libraries.  Maybe you can use less libraries? 
[16:18:18] <tetrapod> You could also try clearing the npm cache after npm install. 
[16:19:06] <sebastianos> Ok. Thanks tetrapod.
[16:20:28] <tetrapod> Oh and if applicable;  copy the application code, not the whole git repo (hidden .git folder)
[16:22:36] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[16:23:38] *** Joins: jsmooth (~quassel@user/rapid16)
[16:24:50] *** Joins: realies (~realies@user/realies)
[16:26:01] *** Joins: Mark_Pinecone (~Mark_Pine@84.237.231.8)
[16:28:05] *** Joins: sed (~sed@pool-100-7-38-116.rcmdva.fios.verizon.net)
[16:29:32] *** Joins: lithium (~lithium@user/lithium)
[16:42:48] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[16:44:12] *** Joins: wernerf (~wernerf@p200300d89f362b00598d823d87b2767e.dip0.t-ipconnect.de)
[16:44:31] *** wernerf is now known as wernerfred
[16:46:06] *** Joins: realies (~realies@user/realies)
[16:49:14] *** Joins: XV8 (~XV8@2601:5cb:c001:50:358b:c29a:a27e:3647)
[16:51:30] <artok> .git into .dockerignore surely
[16:51:48] <artok> and modules that are used on host
[16:52:16] *** Quits: vxrx (~vxrx@209.141.36.56) (Quit: .)
[16:56:07] *** Joins: minimal (~minimal@user/minimal)
[17:00:15] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[17:15:30] *** Quits: RV (~RV@92.173.180.89) (Ping timeout: 260 seconds)
[17:44:26] *** Quits: XV8 (~XV8@2601:5cb:c001:50:358b:c29a:a27e:3647) (Ping timeout: 260 seconds)
[17:47:01] *** Joins: XV8 (~XV8@2601:5cb:c001:50:358b:c29a:a27e:3647)
[18:07:55] *** JoelJoel is now known as Joel
[18:08:10] *** Quits: lmat (~Lmat@c-68-58-60-231.hsd1.in.comcast.net) (Quit: leaving)
[18:09:42] *** Quits: wernerfred (~wernerf@p200300d89f362b00598d823d87b2767e.dip0.t-ipconnect.de) (Quit: Client closed)
[18:10:58] *** Quits: Haxxa (~Haxxa@116-255-6-75.ip4.superloop.com) (Quit: Haxxa flies away.)
[18:16:27] *** Joins: andycooper (uid246432@id-246432.helmsley.irccloud.com)
[18:29:33] *** Joins: Haxxa (~Haxxa@116-255-6-75.ip4.superloop.com)
[18:32:16] *** Joins: leitz (~LeamHall@cpe-173-172-58-72.tx.res.rr.com)
[18:34:48] <leitz> Noob question as I work through "Using Docker". When a container is running, is there a file kept somewhere?
[18:38:00] <minimal> leitz: what sort of file?
[18:38:03] <programmerq> "a file" -- what do you mean? the containers do have a filesystem
[18:38:43] <minimal> behind the scenes "stuff" is kept inside /var/lib/docker such as the images and overlay layers
[18:39:33] <programmerq> but you should interact with the docker api (which is what the 'docker' cli does) if you want to see state of any docker containers.
[18:40:02] <bkhl> There's some state files in /var/run/docker/ too
[18:40:27] <bkhl> But apart from the socket file in there to talk to the API you should probably let those be as well.
[18:40:48] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Read error: Connection reset by peer)
[18:41:01] <leitz> Thanks all! I'm more looking at learning Docker, and making sure I have enough filesystem space for whatever Docker needs. 
[18:41:25] <leitz> minimal, I'm used to KVMs, and was thinking of the Docker image in that sense.
[18:41:26] *** Joins: junktext (~junktext@109.201.152.167)
[18:42:17] <minimal> leitz: so the disk usage in /var/lib/docker will increase as you build/pull more images but also as containers using those images run, plus as any volumes are created/used
[18:42:43] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[18:43:39] <leitz> minimal, thanks. If an image is not is use, is the disk space reclaimed automatically?
[18:43:49] <Habbie> leitz, read up on 'docker system prune'
[18:44:09] <bkhl> leitz, no, but there are various tools around to clear out unused images and stopped containers
[18:44:12] * leitz takes notes.
[18:55:05] *** Quits: Mark_Pinecone (~Mark_Pine@84.237.231.8) (Ping timeout: 256 seconds)
[19:02:43] *** Joins: iomari891 (~iomari891@105.112.138.38)
[19:10:39] *** Quits: Activ8 (~58613918@user/aab/x-3846634) (Read error: Connection reset by peer)
[19:10:56] *** Joins: Activ8 (~58613918@user/aab/x-3846634)
[19:33:57] *** Joins: RV (~RV@92.173.180.89)
[19:35:14] *** Quits: lithium (~lithium@user/lithium) (Quit: Textual IRC Client: www.textualapp.com)
[19:43:54] *** Quits: RV (~RV@92.173.180.89) (Ping timeout: 260 seconds)
[19:50:22] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Ping timeout: 252 seconds)
[19:52:57] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[19:56:36] *** Joins: smccarthy (~smccarthy@user/smccarthy)
[19:58:13] <smccarthy> I have a question about using the FROM statement. If I use "FROM ACCT_ID.dkr.ecr.us-west-2.amazonaws.com/my-core:latest" is there anyway to have it check locally first for "my-core:latest" ? Similarly to how "FROM my-core:latest" would first check local, then check docker hub.
[20:04:43] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[20:06:19] <leitz> Ah, in a RUN statement in a Dockerfile, if I use "cd /mydir" then it automatically does a "cd /" after that run statement?
[20:06:36] <leitz> So that the next RUN statement begins in "/"?
[20:06:54] <artok> every run statement starts from / or you can set WORKDIR to change that
[20:07:23] <leitz> artok, thanks! I've spent all of a couple hours on Docker. Enjoying it so far.
[20:11:11] <tabakhase> smccarthy no, in that case your local should be tagged as the full worm as well
[20:12:55] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Ping timeout: 252 seconds)
[20:13:09] <smccarthy> tabakhase: "full worm" ? like tagged as "ACCT_ID.dkr.ecr.us-west-2.amazonaws.com/my-core:latest" ?
[20:13:25] <tabakhase> smccarthy yep
[20:13:44] <smccarthy> Thx !
[20:13:56] <tabakhase> (i guess with that goes a note about build-arg´s and using them to have dynamic FROMs in a dockerfile if you havent seen that)
[20:17:16] *** Quits: AnapodoPsalidaki (~AnapodoPs@2a02:587:292a:1375:8e97:1846:9f89:6a24) (Quit: Leaving)
[20:17:49] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[20:18:48] *** Joins: alicef_ (~none@gentoo/developer/alicef)
[20:18:54] *** Quits: alicef (~none@gentoo/developer/alicef) (Read error: Connection reset by peer)
[20:19:59] *** alicef_ is now known as alicef
[20:22:13] *** Quits: junktext (~junktext@109.201.152.167) (Ping timeout: 252 seconds)
[20:29:15] <artok> or using docker login helps also on some cases?
[20:33:02] *** Joins: waldo323__ (~waldo323@d14-69-96-170.try.wideopenwest.com)
[20:33:07] *** Quits: tex (~dee@user/dix) (Quit: Konversation terminated!)
[20:33:55] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Ping timeout: 252 seconds)
[20:34:15] *** Quits: jazzy (~jaziz@2600:380:847e:4826:ec68:9d70:e078:696) (Quit: Beddie bye-bye)
[20:34:51] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[20:36:09] *** Quits: waldo323_ (~waldo323@d14-69-96-170.try.wideopenwest.com) (Ping timeout: 268 seconds)
[20:37:59] *** Joins: realies (~realies@user/realies)
[20:39:53] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[20:40:14] *** Quits: rsx (~dummy@ppp-188-174-141-82.dynamic.mnet-online.de) (Quit: rsx)
[20:40:28] *** Joins: realies (~realies@user/realies)
[20:41:06] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[20:41:26] *** Joins: realies (~realies@user/realies)
[20:42:32] *** Quits: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au) (Remote host closed the connection)
[20:43:55] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[20:47:04] *** Joins: realies (~realies@user/realies)
[20:49:56] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[20:52:52] <leitz> Using the ENTRYPOINT as a command line in the running image works, but not as an ENTRYPOINT. It gives the error. What am I missing?   https://gist.github.com/LeamHall/ad9ff981aeecbf389b83d3d8c61c29f1
[20:53:02] *** Joins: realies (~realies@user/realies)
[20:57:22] <tabakhase> leitz that looks more like a cmd
[20:58:15] <tabakhase> (or at least ENTRYPOINT ["/usr/local/bin/morbo", "--mode", "development"...
[21:00:25] <leitz> tabakhase, that was it. Thanks!
[21:00:45] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:01:45] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[21:01:53] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[21:02:34] <leitz> Still lots to learn.
[21:03:07] *** Joins: Hackerpcs (~user@user/hackerpcs)
[21:04:22] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[21:07:35] *** Joins: realies (~realies@user/realies)
[21:09:22] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[21:09:41] *** Joins: realies (~realies@user/realies)
[21:16:43] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:20:36] *** Quits: db (uid18678@id-18678.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[21:30:16] *** Quits: smccarthy (~smccarthy@user/smccarthy) (Quit: Leaving...)
[21:43:04] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[21:46:48] <leitz> Eh, that's funny. Found an old Dockerfile I was working on two years ago...
[21:49:48] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[21:53:05] <s17> hilarious
[21:58:46] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:05:30] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[22:15:35] *** Joins: vxrx (~vxrx@209.141.36.56)
[22:20:01] *** Joins: jgrim2367 (~jgrim@d60-65-99-197.col.wideopenwest.com)
[22:20:45] *** Joins: jgrim2364 (~jgrim@172.56.11.3)
[22:20:59] *** Quits: jgrim236 (~jgrim@d60-65-99-197.col.wideopenwest.com) (Ping timeout: 268 seconds)
[22:20:59] *** jgrim2364 is now known as jgrim236
[22:22:58] *** Quits: thanas (~thanas@user/thanas) (Quit: ZNC - https://znc.in)
[22:23:52] *** Joins: thanas (~thanas@user/thanas)
[22:24:02] *** Joins: jgrim2361 (~jgrim@d60-65-99-197.col.wideopenwest.com)
[22:24:54] *** Quits: jgrim2367 (~jgrim@d60-65-99-197.col.wideopenwest.com) (Ping timeout: 260 seconds)
[22:25:58] *** Quits: jgrim236 (~jgrim@172.56.11.3) (Ping timeout: 252 seconds)
[22:25:58] *** jgrim2361 is now known as jgrim236
[22:42:10] *** Joins: tlaxkit (~hexchat@170.253.35.150)
[22:53:54] *** Quits: leitz (~LeamHall@cpe-173-172-58-72.tx.res.rr.com) (Remote host closed the connection)
[23:05:57] *** Quits: Telgareith (~Telgareit@user/telgareith) (Ping timeout: 245 seconds)
[23:06:14] *** Joins: Telgareith (~Telgareit@user/telgareith)
[23:09:03] <artok> average time spent in a year isn't that high since spending few hours with docker and finding dockerfile from two years ago... 
[23:13:20] *** Quits: tlaxkit (~hexchat@170.253.35.150) (Quit: Leaving)
[23:22:46] *** Quits: mthall (~quassel@mail.thalliman.com) (Ping timeout: 252 seconds)
[23:36:33] *** Joins: junktext (~junktext@109.201.152.164)
[23:42:52] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[23:44:01] *** Joins: gamara (~gamara@2607:fea8:1e5f:8df0:b154:b44a:7c4a:67ae)
[23:45:44] <gamara> Hey so I am building my front end in the docker node container, but the build files are not ending up in clients/public https://imgur.com/jqhhlnP
[23:45:47] <gamara> what am I doing wrong?
[23:46:10] *** Joins: tlaxkit (~hexchat@170.253.35.150)
[23:46:24] <gamara> how do I map a drive 1:1 with docker
[23:47:45] *** Joins: lilgopher (~textual@c-73-51-174-246.hsd1.il.comcast.net)
[23:48:05] <tabakhase> gamara your build command is?
[23:48:45] <gamara> its just npm run build
[23:48:53] <tabakhase> your docker build i mean
[23:49:12] <gamara> it executes a gulp script that outputs html/js/css into clients/public
[23:49:14] <gamara> oh
[23:49:52] <gamara>   node: build: context: ./client, dockerfile: Dockerfile
[23:50:02] <gamara> with new lines and tabs
[23:50:08] <gamara> it says its building
[23:50:49] <tabakhase> context is what ive been wondering abut yep, but client is fine - but then also the "COPY . /home..:" seems wrong...
[23:50:55] <gamara> just when the docker container finishes and closes I have no node_modules or anything in my ./public folder which is where I am serving static content from
[23:51:23] <gamara> I had it as app
[23:51:26] <gamara> before
[23:51:39] <tabakhase> further, for better layer reuse, you want to a) copy just packages json, b) npm install c) copy code d) build --- so that layers a&b can be reused ;-)
[23:51:40] <gamara> well /home/node/
[23:52:11] <tabakhase> now next - how do you define "its not there"? whats not where when?
[23:52:39] <tabakhase> i wonder if you just seem that COPY ./public ./public does omething its not intended todo :P
[23:53:12] <gamara> I just end up with nothing in my public folder after it finishes
[23:53:13] <tabakhase> like, nothing ever "comes out" of a docker-build other than a docker-image
[23:53:58] <gamara> how can I get around that can I just write a script file to do npm install etc
[23:54:21] <tabakhase> if you want to "just use docker to compile" - youd change your dockerfile to maybe still do the npm install (to save time) but then run the npm build using a bind-mount to map files between host&container
[23:55:24] <gamara> thank you so much I just started understanding how this stuff works like last week
[23:55:41] <gamara> I need to read the docs but I am too busy atm
[23:57:43] <tabakhase> "picking the file" out of the image is obv possible to, "docker cp" exists, but cant use images oddly ennuf, so you have to midstep by running a container from this image for a moment
