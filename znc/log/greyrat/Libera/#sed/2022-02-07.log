[00:15:48] *** Quits: wurstwasser (~frank.hol@2001:a61:34a7:b001:b99d:bc7:ff47:693e) (Remote host closed the connection)
[00:16:00] *** Joins: wurstwasser (~frank.hol@2001:a61:34a7:b001:b99d:bc7:ff47:693e)
[00:39:37] *** Joins: dandyn (~dandyn@user/dandyn)
[00:42:11] <dandyn> My output of uptime:  10:10em  up 1 day, 18:11, 1 user, load averages: 0,09 0,03 0,01             I want it to look like this:   System up: 1 day,  Users: 1,  Load 0,09 0,03 0,01          I've been trying with this:      uptime | sed 's/^.*up \(.*\), .* user.*/\1/'
[00:43:23] <e36freak> probably easiest just to use multiple s commands
[00:46:21] <lopid> s/.*up \([^,]\+\).*\([[:digit:]]\+\) user.*averages: \(.*\)/System up: \1, Users: \2, Load \3/   maybe
[00:46:44] <e36freak> or awk is fine, dunno why they pointed you here
[00:46:52] <e36freak> uptime | awk '{printf("System up: %d %s Users: %d, Load: %s %s\n", $3, $4, $6, $10, $11, $12)}'
[00:49:07] <e36freak> oh missing a %s at the end, but yeah
[01:02:48] <emanuele6> \+ only works in GNU sed
[01:02:58] <emanuele6> \{1,\} to make it actually work on BSD
[01:03:13] <emanuele6> or anywhere POSIX compliant
[01:03:16] *** Joins: tangy (~tangy@user/tangy)
[01:03:49] <emanuele6> lopid: does that even work actually?
[01:04:00] <emanuele6> you put \([[:digit:]]\+\) after .*
[01:04:07] <lopid> double-you eff em
[01:04:07] <emanuele6> that will only capture one digit, no?
[01:04:23] <lopid> i didn't test, wrote once
[01:04:36] <tirnanog> I really wish GNU hadn't added that. it crops up constantly.
[01:05:30] <tirnanog> emanuele6: did you see the argument in #bash the other day? there was this fellow that was flat out denying that \{1,\} was a BRE, taking it one step further.
[01:05:50] <emanuele6> yeah, i was there
[01:08:12] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[01:09:03] <tirnanog> lopid: if using +, you might as well write an ERE to begin with (sed -E). that option has been accepted for standardization.
[01:10:14] <emanuele6> also sed -E '/regexwith+/'   will actually work in BSD even if it is not POSIX
[01:10:29] <emanuele6> while  sed '/regexwith\+/'  will simply not work
[01:11:11] <emanuele6> but in this case \{1,\} will do nothing anyway because you put it right after .*
[01:11:16] <tirnanog> it's been accepted by posix. it just won't materialize until the next update.
[01:11:43] <emanuele6> ( same for + or \+ ) it will always match only one character
[01:12:52] <emanuele6> you should have put a space between .* and \([[:digit:]]\{1,\}\) so that .* doesn't eat everything before the last digit
[01:24:15] *** Quits: edlou (uid413273@id-413273.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[01:43:07] <dandyn> e36freak: sweet. thnx!
[01:53:42] <emanuele6> lopid: is "double-you eff em" supposed to mean "works for me"?
[01:54:27] <emanuele6> if `.*\(x\+\)' is a thing you typically use, you probably never noticed that it doesn't work
[01:54:46] <emanuele6> that is exactly the same as doing `.*\(x\)'
[01:55:19] <emanuele6> .*\([something]\+\) is broken in general
[01:55:58] <emanuele6> # sed 's/.*\([[:digit:]]\{1,\}\)/\1/' <<< 'something number: 124'
[01:55:59] <shbot> emanuele6: 4
[01:57:24] *** Quits: wurstwasser (~frank.hol@2001:a61:34a7:b001:b99d:bc7:ff47:693e) (Quit: Leaving)
[01:57:26] <emanuele6> .* matches as much as possible so it only leaves one thing that matches [[:digit:]] at the end, to make the regex succeed and eats everything else
[01:58:41] <emanuele6> # sed 's/.*\([[:digit:]]\{1,\}\)/\1/' <<< 'something number: 1'
[01:58:43] <shbot> emanuele6: 1
[01:58:46] <emanuele6> # sed 's/.*\([[:digit:]]\)/\1/' <<< 'something number: 1'
[01:58:48] <shbot> emanuele6: 1
[01:59:21] <emanuele6> if you use it with something that has only one digit, obviously you won't notice the difference
[02:02:45] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[02:03:39] <dandyn> e36freak:  can we do something nice with this too? :)    sysctl -a | grep dev.cpu.1.temperature      looks like this now: dev.cpu.1.temperature: 34,0C       would be nice to make it print: CPU Temp: 34,0C
[02:04:17] <dandyn> maybe one can use sed instead of grep
[02:07:44] <e36freak> could use sed or awk to do it all instead of grep
[02:07:49] <e36freak> shouldn't be hard for you to figure out
[02:24:18] <dandyn> I think I'll break the system while trying hehe
[02:24:46] <dandyn> I tried this : sysctl -a | awk '{print $3}'
[02:24:50] <emanuele6> dandyn: redirect the output of sysctl -a to a text file
[02:24:50] <tirnanog> that's very silly though.
[02:24:57] <emanuele6> and then test on the file
[02:25:42] <tirnanog> printf what you want then use sysctl -n, if you already know the key name that you want.
[02:30:17] <dandyn> I think I'll have to put myself into this more some other day
[02:30:55] <dandyn> thanks for all suggestions.
[02:32:13] *** Quits: dandyn (~dandyn@user/dandyn) (Quit: Client closed)
[02:51:38] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 250 seconds)
[02:58:36] *** Joins: abf (~abf@user/abf)
[03:08:30] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[03:15:07] *** Joins: malina (~malina@user/malina)
[03:59:54] *** Quits: malina (~malina@user/malina) (Remote host closed the connection)
[04:15:39] *** Quits: user1 (~user@95.0.240.62) ()
[04:21:04] *** Joins: totenkoph (~scythe@user/totenkoph)
[04:40:48] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[04:56:10] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[05:30:19] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:48:57] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[05:52:24] *** Joins: totenkoph (~scythe@user/totenkoph)
[05:53:02] *** Quits: abf (~abf@user/abf) (Quit: Leaving)
[05:55:07] *** Joins: vlm (~vlm@user/vlm)
[05:56:55] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Quit: ZNC 1.8.2 - https://znc.in)
[05:59:44] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[06:09:02] *** Joins: ferdna (~ferdna@user/ferdna)
[06:35:57] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Ping timeout: 240 seconds)
[06:56:49] *** Joins: adeliktas9 (~adeliktas@i59F5F08B.versanet.de)
[06:58:17] *** Quits: adeliktas (~adeliktas@i59F52850.versanet.de) (Ping timeout: 240 seconds)
[06:58:17] *** adeliktas9 is now known as adeliktas
[07:36:35] *** Quits: tangy (~tangy@user/tangy) (Remote host closed the connection)
[07:56:02] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[08:03:18] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[08:23:24] *** Joins: malina (~malina@user/malina)
[09:51:02] *** Joins: nerozero (~nerozero@87.253.63.54)
[10:10:08] *** Joins: nerozero_ (~nerozero@87.253.63.54)
[10:10:28] *** Quits: nerozero (~nerozero@87.253.63.54) (Read error: Connection reset by peer)
[10:19:49] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[10:33:30] *** Quits: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net) (Quit: It's just that easy)
[10:43:57] *** Quits: fcr (~fran@r167-56-25-169.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[10:50:55] *** Joins: fcr (~fran@r186-48-106-198.dialup.adsl.anteldata.net.uy)
[11:10:42] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[11:15:25] *** Joins: totenkoph (~scythe@user/totenkoph)
[12:42:29] *** Quits: V (~v@anomalous.eu) (Ping timeout: 268 seconds)
[14:19:50] *** Joins: timm (~timm@user/timm)
[14:41:41] *** Joins: seninha (~seninha@user/seninha)
[14:54:19] *** Joins: f00 (~timm@user/timm)
[15:08:20] *** Quits: timm (~timm@user/timm) (Quit: leaving)
[15:11:06] *** Quits: yitz (~yitz@exercism/yitz) (Ping timeout: 268 seconds)
[16:20:50] *** Joins: V (~v@anomalous.eu)
[16:37:03] <tarzeau> how can i remove day, OR days, i have now days\, with sed, but i miss they day,
[16:37:59] <tarzeau> ah day.?, works
[16:38:10] <lopid> days\?
[16:38:39] <tarzeau> lopid: thanks that works
[16:40:53] <emanuele6> days\{0,1\}
[18:21:59] *** Quits: Muzer (~muzer@tim32.org) (Ping timeout: 250 seconds)
[19:08:26] *** Joins: lgc (~lgc@user/lgc)
[19:10:22] *** Quits: lgc (~lgc@user/lgc) (Client Quit)
[19:11:04] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[19:13:43] *** Quits: malina (~malina@user/malina) (Ping timeout: 256 seconds)
[19:57:26] *** Joins: Muzer (~muzer@tim32.org)
[20:09:46] *** Joins: dandyn (~dandyn@user/dandyn)
[20:52:39] *** Joins: TomyWork (~TomyLobo@p200300e80f0067002834303366990370.dip0.t-ipconnect.de)
[21:42:37] *** Quits: Muzer (~muzer@tim32.org) (Ping timeout: 240 seconds)
[21:53:27] <emanuele6> dandyn: `p' is a flag for the substitute command ( `s///' )
[21:53:49] <emanuele6> it tells sed to print the line if a substitution occured.
[21:53:54] <emanuele6> s/red/rred/
[21:58:37] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[21:59:36] <dandyn> cool. Is there any way to combine two commands and get the results on the same line? now I get the result on two lines.  sysctl -a | sed -n 's/^dev\.cpu\.1\.temperature:/    CPU Temp:/p' ; uptime | awk '{printf("    System up: %d %s   Users: %d,   Load: %s %s %s\n", $3, $4, $6, $10, $11, $12)}'
[22:00:59] <emanuele6> by the way.
[22:01:19] <emanuele6> sysctl -a | grep dev.cpu.1.temperature
[22:01:32] <emanuele6> and   sysctl dev.cpu.1.temperature   should do exactly the same
[22:01:48] <emanuele6> so it is kind of silly to filter lines with sed
[22:02:12] <emanuele6> i don't understand your question. just run one after the other.
[22:02:52] <dandyn> have you tried it yourself?
[22:03:05] <dandyn> what does your machine show you? the same temp?
[22:03:17] <dandyn> or "temp span"
[22:03:35] <dandyn> mine shows diffrent tempspan depending on which one I use.
[22:03:54] <dandyn> in my case.
[22:04:00] <emanuele6> > https://www.freebsd.org/cgi/man.cgi?sysctl
[22:04:22] <dandyn> but we're ahead of that matter. :)
[22:04:36] <dandyn> Now I just have to figgure how to get the end result on the same line.,
[22:04:58] <dandyn> In tcl I would have saved the results in vars then add the two vars to one. then print var.
[22:05:01] <dandyn> or something.
[22:05:29] <dandyn> or just print var1 and var2 at the same print command.
[22:05:40] <emanuele6> are talking of what now?
[22:05:42] <emanuele6> bash?
[22:05:58] <dandyn> check my 19:29:36 post
[22:06:04] <emanuele6> i saw that
[22:06:18] <dandyn> ah
[22:06:50] <emanuele6> one way to print them on the same line using standard tools is
[22:07:00] <emanuele6> { cmd1; cmd2 ;} | paste -sd' '
[22:07:08] <emanuele6> but i don't get what you are trying to do
[22:07:15] <dandyn> cool, I'll try.
[22:07:22] <emanuele6> you seem to always want the most overcomplicated solution possible
[22:08:16] <emanuele6> parsing `sysctl -a' instead of using `-n'. parsing the output of `uptime' command, etc
[22:08:34] <emanuele6> that is not the right way to do any of this
[22:11:47] <dandyn> it errored some, and I got inside a strange mode, commandline shows >
[22:12:09] <dandyn> how to get out of that without  reconnect to shell?
[22:12:31] <dandyn> I tried esc, q, x, z etc.
[22:12:51] <Soliton> you can press ctrl-c or finish the command.
[22:13:06] <dandyn> worked. thanks.
[22:13:19] <dandyn> what was it?
[22:13:41] <emanuele6> did you forget the semicolons?
[22:13:46] <Soliton> you didn't type a complete command so it was prompting for more input.
[22:14:17] <dandyn> aha, I dunno.. I tried this.. sysctl -a | {sed -n 's/^dev\.cpu\.1\.temperature:/    CPU Temp:/p' ; uptime | awk '{printf("    System up: %d %s   Users: %d,   Load: %s %s %s\n", $3, $4, $6, $10, $11, $12)}';}} | paste -sd' '
[22:14:47] <Soliton> { and } need to be separate words.
[22:14:48] *** Quits: TomyWork (~TomyLobo@p200300e80f0067002834303366990370.dip0.t-ipconnect.de) (Remote host closed the connection)
[22:15:28] <emanuele6> that is wrong.
[22:15:37] <Soliton> yeah, looks weird.
[22:16:04] <emanuele6> { sysctl -a | sed -n 's/^dev\.cpu\.1\.temperature:/    CPU Temp:/p' ; uptime | awk '{printf("    System up: %d %s   Users: %d,   Load: %s %s %s\n", $3, $4, $6, $10, $11, $12)}' ;} | paste -s -d' '
[22:16:19] <Soliton> perhaps you want to hand awk the temp instead.
[22:17:53] *** Quits: nerozero_ (~nerozero@87.253.63.54) (Ping timeout: 256 seconds)
[22:18:13] <dandyn> emanuele6: it complained about the paste -s -d thing
[22:18:28] <dandyn> it said: usage: paste [-s] [-d delimiters] file ...
[22:23:16] *** Joins: Muzer (~muzer@tim32.org)
[22:29:36] <emanuele6> ttps://www.freebsd.org/cgi/man.cgi?paste
[22:29:42] <emanuele6> try   paste -s -d' ' -
[22:33:14] <dandyn> you're the best!
[22:33:21] <dandyn> works like a charm sir!
[22:33:33] <dandyn> thank you!
[22:33:52] <emanuele6> interesting, so the list of file arguments for paste is not optional in POSIX paste  https://pubs.opengroup.org/onlinepubs/9699919799/utilities/paste.html
[22:33:53] <dandyn> other guys joked about me using -a instead of -n lolz.
[22:34:14] <dandyn> in a nother chan
[22:34:21] <emanuele6> because it is dumb
[22:34:24] <emanuele6> like very dumb.
[22:34:31] <emanuele6> also uptime|awk
[22:34:39] <emanuele6> incredibly stupid
[22:34:57] <emanuele6> even   sysctl -a|grep something    is stupid
[22:34:59] <emanuele6> ignoring -n
[22:35:00] <dandyn> how would you do this line in your way then:)  to get exact the same output?
[22:35:09] <emanuele6> because you can just use   sysctl something
[22:35:56] <emanuele6> dandyn: i already told you.
[22:35:58] <emanuele6>     printf 'CPU temp: %s\n' "$(sysctl -n dev.cpu.1.temperature)"
[22:36:19] <emanuele6> and for the uptime thing. ask in a freebsd channel.
[22:36:53] <emanuele6> sed or awk or grep should not be necessary at all for this.
[22:37:19] <emanuele6> it is only fair to make fun of something like this.
[22:37:57] <dandyn> alright but I have one question for you sir..  is my cpu temp 27C or 34C ?
[22:39:31] *** Quits: f00 (~timm@user/timm) (Ping timeout: 245 seconds)
[22:39:31] <dandyn> 7C  are quite a lot difference. So which one is the correct.
[22:40:20] <emanuele6> try asking in #freebsd.
[22:42:31] <dandyn> nah, they'll be pissed off. They say I get the same temp result either way.
[22:43:05] <dandyn> if I did, why would I bother using the more resource using code.
[22:43:18] <dandyn> right?
[22:43:54] <Soliton> is there some context to what you're talking about?
[22:45:38] *** Quits: fcr (~fran@r186-48-106-198.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[22:46:36] <dandyn> Soliton: nah, just me trying to get my cpu temp, etc, printed correct. Nothing interesting really.
[22:47:23] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[22:49:30] *** Joins: yitz (~yitz@exercism/yitz)
[22:55:13] *** Joins: fcr (~fran@r167-60-75-113.dialup.adsl.anteldata.net.uy)
[23:03:30] *** Joins: xxzz_ (~xxzz@ec2-3-133-104-162.us-east-2.compute.amazonaws.com)
[23:07:52] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (*.net *.split)
[23:07:52] *** Quits: simpl_e (~user@user/simpl-e/x-8589812) (*.net *.split)
[23:07:52] *** Quits: xxzz (~xxzz@ec2-3-133-104-162.us-east-2.compute.amazonaws.com) (*.net *.split)
[23:07:52] *** Quits: mobius (sid478273@id-478273.uxbridge.irccloud.com) (*.net *.split)
[23:12:25] *** Joins: jmcantrell (~jmcantrel@user/jmcantrell)
[23:12:25] *** Joins: mobius (sid478273@id-478273.uxbridge.irccloud.com)
[23:16:12] *** Quits: katrms[m] (~sab7iryud@2001:470:69fc:105::9d2) (Ping timeout: 245 seconds)
[23:16:36] *** Quits: ormaaj (~ormaaj@user/ormaaj) (Ping timeout: 256 seconds)
[23:16:39] *** Quits: psydroid (~psydroid@user/psydroid) (Ping timeout: 250 seconds)
[23:16:42] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (Ping timeout: 260 seconds)
[23:17:03] *** Quits: promach[m] (~promach@2001:470:69fc:105::ca1) (Ping timeout: 268 seconds)
[23:22:06] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[23:24:14] *** Joins: Atque (~Atque@user/atque)
[23:45:31] *** Joins: katrms[m] (~sab7iryud@2001:470:69fc:105::9d2)
[23:48:21] *** Joins: promach[m] (~promach@2001:470:69fc:105::ca1)
[23:59:06] *** Joins: wurstwasser (~frank.hol@2001:a61:34a7:b001:d0e2:a7fc:fa8e:4e1c)
