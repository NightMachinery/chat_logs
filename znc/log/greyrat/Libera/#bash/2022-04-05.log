[00:00:02] <emanuele6> that is not very unix-y
[00:00:04] <emanuele6> :)
[00:00:19] <Earnestly> ano: ed/ex are both fine for editting text files
[00:00:28] <emanuele6> but not arbitrary strings
[00:00:31] *** Quits: Strom (strom@fedora/strom) ()
[00:00:32] *** Quits: malina (~malina@user/malina) (Quit: malina)
[00:00:41] <emanuele6> unless you do something like
[00:00:44] <Earnestly> emanuele6: Yeah, m4 definately needs the input to be known
[00:01:06] <Earnestly> And posix m4 doesn't have a way to prefix macro names to avoid collision
[00:01:06] <emanuele6> Earnestly: i was referring to "editing a file"
[00:01:24] <Earnestly> emanuele6: I would use 'r' command to inject new content
[00:01:40] <emanuele6> yeah, that is what i was about to suggest, lol
[00:02:45] <emanuele6> printf '%s' "$var" > tmpfile_var; printf '%s\n' "$lineno" 'r tmpfile_var' q w q | ed -s file 2> /dev/null
[00:02:49] *** Joins: flower_ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[00:03:08] *** Joins: Strom (~strom@fedora/strom)
[00:03:42] <ano> ed doesn't require additional escaping?
[00:03:50] <Earnestly> There's no injection to escape
[00:03:53] <emanuele6> it's reading from a file
[00:04:03] <Earnestly> Because injection here is inexpressible
[00:04:30] <Earnestly> ano: I always recommend this, really important article (there's only a handful of these): https://www.more-magic.net/posts/structurally-fixing-injection-bugs.html
[00:05:02] <emanuele6> # printf '%s\n' the_file_line1 the_file_line2 the_file_line3 > the_file; var=hello; printf '%s\n' "$var" > tmpfile_var; printf '%s\n' '2r tmpfile_var' q w q | ed -s the_file > /dev/null 2>&1; paste -s the_file
[00:05:03] <shbot> emanuele6: the_file_line1  the_file_line2  the_file_line3
[00:05:10] <Earnestly> Completely changes mindset about injection and why "escaping inputs" or "sanitising inputs" is the wrong path
[00:05:18] <emanuele6> oops forgot to set var
[00:05:28] <emanuele6> # var=':)'; printf '%s\n' the_file_line1 the_file_line2 the_file_line3 > the_file; var=hello; printf '%s\n' "$var" > tmpfile_var; printf '%s\n' '2r tmpfile_var' q w q | ed -s the_file > /dev/null 2>&1; paste -s the_file
[00:05:29] <shbot> emanuele6: the_file_line1  the_file_line2  the_file_line3
[00:05:42] <emanuele6> huh? what did i mess up?
[00:05:52] <emanuele6> it worked locally
[00:05:53] <ano> what about tail/head + printf?
[00:06:22] <emanuele6> you are editing a file, not printing to stdout
[00:06:58] <emanuele6> and what is the point of using tail head and printf, if you can just use awk?
[00:07:07] <Earnestly> Yes indeed
[00:07:20] *** Joins: zouhair (~zouhair@vlnsm4-montreal02-142-122-41-132.internet.virginmobile.ca)
[00:07:36] <emanuele6> # printf '%s\n' the_file_line1 the_file_line2 the_file_line3 > the_file; var=hello; printf '%s\n' "$var" > tmpfile_var; printf '%s\n' '2r tmpfile_var' w q | ed -s the_file > /dev/null 2>&1; paste -s the_file
[00:07:37] <shbot> emanuele6: the_file_line1  the_file_line2  hello   the_file_line3
[00:07:40] <emanuele6> interesting
[00:08:05] <emanuele6> i have been using this   printf '%s\n' ... q w q   to emulate ex's `x' command in ed
[00:08:11] <emanuele6> apparently it's not portable
[00:08:17] *** Quits: jlj_ (~jlj@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net) (Ping timeout: 250 seconds)
[00:08:18] <emanuele6> # ed -v
[00:08:23] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 260 seconds)
[00:08:25] <shbot> emanuele6: no output within the time limit
[00:08:52] <ano> awk probably will be much slower on big files rather than head/printf/tail to change one line
[00:08:54] *** Quits: roadie (~user@2a02:8108:5a40:1d87:21ab:7de7:1bdc:49f1) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[00:09:01] <emanuele6> how?
[00:09:13] <emanuele6> tail would be the more expensive one in general
[00:09:30] *** Parts: didi (~user@user/didi) (O bella ciao bella ciao bella ciao, ciao, ciao.)
[00:09:43] *** Joins: sinaowolabi_ (~SinaOwola@160.152.171.207)
[00:09:45] <Earnestly> ex(1p) has x, so you can just use that instead of ed
[00:09:47] <emanuele6> and i don't see how awk is slower than even POSIX sh's `while read' loop according to you
[00:09:59] <Earnestly> ano: You read the file twice with head/tail
[00:10:12] <ano> emanuele6: because awk chk more than line number return status etc + assignment
[00:10:15] <emanuele6> shbot uses GNU ed
[00:10:26] <Earnestly> And certainly the slowest of all is while read
[00:10:28] <emanuele6> i also use GNU ed
[00:10:39] <emanuele6> different versions i guess
[00:10:50] <emanuele6> ano: ???
[00:10:54] <Earnestly> ano: So does tail/head
[00:11:13] <Earnestly> In both cases they have to read every single byte while looking for '\n'
[00:11:17] *** Joins: yustin (~yustin@user/yustin)
[00:11:32] <Earnestly> With head and tail you do this twice, second should be cached
[00:11:48] <emanuele6> the head/tail + printf method is obviously slower in principle
[00:11:55] <emanuele6> but ignoring that, you cannot just use that
[00:12:04] <emanuele6> because you may repeat lines if you do
[00:12:34] <Earnestly> If you have large files, different strategies can be used.  With an editor they at least have the opportunity to use mmap, which would be the fastest of them all
[00:12:35] <emanuele6> unless you also run `wc'
[00:12:42] <ano> Earnestly: awk chk return status for every line, see 1 at the end of awk exp
[00:12:52] <Earnestly> ano: That doesn't cost anything
[00:13:05] <emanuele6> chk?
[00:13:08] <Earnestly> check
[00:13:16] <emanuele6> what return status does it check?
[00:13:25] <Earnestly> emanuele6: If '1' is true, print
[00:13:45] <emanuele6> :O
[00:13:54] <emanuele6> is that the concern? lmao
[00:14:21] <Earnestly> They believe this check is going to slow it down more than tail/head making exactly the same check as it prints the lines using a counter
[00:14:30] *** Joins: foo (~foo@user/foo/x-8763512)
[00:14:46] *** Joins: jkwnki (~jkwnki@p4ff31c99.dip0.t-ipconnect.de)
[00:14:49] <ano> not great example, what i'm trying to say is awk exec proc more complex than tail/head
[00:14:54] <foo> I want to print everything *after* a match. Sometimes I do: grep -A99999 "match this" line.log - is there a better way other than 99999?
[00:14:55] <emanuele6> i mean, if you really want to explicitly avoid the NR==lineno check at every line, you can just
[00:15:11] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Ping timeout: 260 seconds)
[00:15:21] <Earnestly> ano: Yes it is more complicated, but reading files from disk/memory is *much* slower than branch prediction failure
[00:15:32] <larryv> foo: use something other than grep
[00:15:59] <Earnestly> foo: awk '/match/ {n=1} n'
[00:16:03] *** Joins: terashy (~shaderico@178.197.220.12)
[00:16:16] <foo> Earnestly: thanks.
[00:16:18] <foo> larryv: meh, ok.
[00:16:20] <Earnestly> (sed can work too)
[00:16:28] <emanuele6> new=$new awk -v lineno=17 'BEGIN { while (NR != lineno && getline == 0) print; print new } 1' filename
[00:16:28] <foo> I do this often, so whatever is the easiest. :)
[00:16:32] <emanuele6> but that is just dumb
[00:16:36] *** Joins: rgrinberg (~textual@177.248.158.166)
[00:16:40] <emanuele6> trying to outsmart the awk compiler
[00:16:53] <Earnestly> foo: Seems like you want to use less(1) instead
[00:17:17] <emanuele6> s/getline == 0/getline == 1/
[00:17:31] <foo> Earnestly: hmm. Can less do that? Keep in mind, this is a huge text file - so I don't want to open the whole thing in less.
[00:17:36] <foo> But I may be misunderstanding you
[00:17:38] *** Parts: terashy (~shaderico@178.197.220.12) ()
[00:17:42] <Earnestly> foo: You open it anyway
[00:18:05] <foo> Earnestly: I am going to split this up... but it's currently an 8GB text file.
[00:18:19] <foo> Earnestly: I normally do tail -n 1000 file.log
[00:18:33] <Earnestly> Why do you do this to yourself lol
[00:18:56] <foo> Earnestly: I give people reasons to pity the foo.
[00:18:58] <Earnestly> foo: But: less +/match
[00:19:02] <alkisg> sed '/SEARCH/,$!d' file
[00:19:15] <foo> Earnestly: thanks. :) I need to run split on this file and then rotate it
[00:19:20] <Earnestly> foo: I'd obviously use split(1p) or such to break it up, indeed
[00:19:51] <Earnestly> foo: Remember that busybox comes with svlogd which lets you configure size limits and rotated for you, which prevents race condition of log filling up storage before scheduled rotation
[00:20:13] <Earnestly> rotated/rotates
[00:20:19] *** Joins: ExeciN (~ExeciN@user/nicexe)
[00:20:24] <foo> Earnestly: huh, I didn't realize that. Thanks. Not sure what busybox is, will investigate
[00:20:34] <Earnestly> Really
[00:21:24] <Earnestly> Maybe you don't want to know about busybox then, not something usually ends well.  Typically a burden in many ways, but it does have an implementation of runit and its tools, which comes in handy now and then
[00:21:53] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 248 seconds)
[00:21:56] <Earnestly> But given how ubiquitous busybox is, it might be worth knowing it exists at least
[00:22:11] <ano> also chk logrotate
[00:22:15] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[00:22:29] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:651d:53eb:593e:72b6)
[00:22:29] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:651d:53eb:593e:72b6) (Changing host)
[00:22:29] *** Joins: skapata (~Skapata@user/skapata)
[00:23:08] <emanuele6> <Earnestly > ex(1p) has x, so you can just use that instead of ed
[00:23:28] <emanuele6> i have heard using ex is problematic if people have weird vimrcs
[00:23:37] <emanuele6> (and ex is vim)
[00:24:30] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[00:24:53] <emanuele6> but yeah, ex is POSIX and POSIX ex defines the `x' command
[00:25:37] <Riviera> emanuele6: i found ex problematic for many many reasons
[00:26:26] <Riviera> emanuele6: i have never really looked into it (because it's no serious idea), but i would believe that scripting vi (like, via macros, supplying vi commands, not ex commands) is more portable than using ex.
[00:26:47] <emanuele6> i just tried to cp /bin/vim to another directory in PATH as ex (my system's ex is not vim) and it loaded vimrc even if it was named ex
[00:26:53] <deadrom> mv "$(dirname "$i")" dim/  <- do I need the " " in the $( ) at all?
[00:27:01] <Riviera> deadrom: yup
[00:27:17] *** Quits: leshaste (~lesshaste@82-69-126-43.dsl.in-addr.zen.co.uk) (Remote host closed the connection)
[00:27:21] *** Joins: lessshaste (~lesshaste@82-69-126-43.dsl.in-addr.zen.co.uk)
[00:27:29] <emanuele6> Riviera: do you know if my printf '%s\n' ... 'q' 'w' 'q'  trick should work?
[00:27:57] *** Joins: MajorBiscuit (~MajorBisc@86-88-79-148.fixed.kpn.net)
[00:28:06] <Riviera> emanuele6: have not followed the backlog, so not really sure what you mean, but it looks like something that would work
[00:28:07] <emanuele6> (i think the first q should only exit if there were no changes)
[00:28:29] *** Joins: john_johnk (~Thunderbi@2a02-8428-013e-4001-c5d2-b4b6-66ca-869f.rev.sfr.net)
[00:28:29] <Riviera> emanuele6: nothing i'd rely on, "of course"
[00:28:31] <emanuele6> it's sort of a way to emulate ex's `x'
[00:28:43] <emanuele6> i have GNU ed and it has always worked for me
[00:28:48] <Earnestly> Riviera: de facto portable is quite strong when portable things haven't been implemented properly :p
[00:29:16] <emanuele6> but now i tried it on shbot (which also has GNU ed) and it didn't work
[00:29:16] <Riviera> Earnestly: "properly" is a too weak word for "deliberately" :)
[00:29:30] <emanuele6> # printf '%s\n' the_file_line1 the_file_line2 the_file_line3 > the_file; var=hello; printf '%s\n' "$var" > tmpfile_var; printf '%s\n' '2r tmpfile_var' q w q | ed -s the_file > /dev/null 2>&1; paste -s the_file
[00:29:30] <Riviera> makes it sound like a bug, a honest mistake
[00:29:31] <shbot> emanuele6: the_file_line1  the_file_line2  the_file_line3
[00:29:45] <emanuele6> # printf '%s\n' the_file_line1 the_file_line2 the_file_line3 > the_file; var=hello; printf '%s\n' "$var" > tmpfile_var; printf '%s\n' '2r tmpfile_var' w q | ed -s the_file > /dev/null 2>&1; paste -s the_file
[00:29:46] <shbot> emanuele6: the_file_line1  the_file_line2  hello   the_file_line3
[00:30:03] <Earnestly> Riviera: I was thinking more like freebsd which is still stuck on posix 2004, so I can't even use cp -R there without -H/L/P
[00:30:03] <emanuele6> i am not sure why it would not work
[00:30:20] <Earnestly> Riviera: Or how there is not a single implementation of more(1p) according to posix 2017
[00:30:23] *** Quits: ekathva (~ekathva@2001:999:250:8f1f:9d72:5a3d:d0:fe01) (Quit: Leaving)
[00:30:27] <Earnestly> Or the general lack of pax(1p)
[00:30:33] <Riviera> yeah
[00:30:38] <Earnestly> Which is :(
[00:30:41] <emanuele6> :(
[00:30:48] <Earnestly> Because pax makes copying directory trees so effortless
[00:30:55] <Riviera> Earnestly: things are getting worse, not better
[00:30:59] <Earnestly> Yes
[00:31:43] *** Quits: MajorBiscuit (~MajorBisc@86-88-79-148.fixed.kpn.net) (Client Quit)
[00:32:53] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 260 seconds)
[00:33:00] *** Joins: m_ben (~m_ben@user/m-ben/x-7429725)
[00:33:23] *** Parts: m_ben (~m_ben@user/m-ben/x-7429725) (WeeChat 3.4.1)
[00:34:17] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 246 seconds)
[00:35:20] <Earnestly> Riviera: But worry not, they're adding glitter to the command-line
[00:35:30] <Earnestly> https://charm.sh/
[00:35:50] <colo> if only that statement weren't so universally true, Riviera :(
[00:35:57] <Earnestly> Possibly the most inspid thing I've seen lol
[00:36:25] <colo> wtf...
[00:36:37] *** Quits: YaoNai (~YaoNai@user/yaonai) (Quit: leaving)
[00:37:04] <colo> apparently, they're redirecting my stdout right into /dev/null
[00:37:20] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:37:21] <colo> so onto their stderr I shall write(2)!
[00:37:37] *** Joins: xmb (~xmb@65.108.1.186)
[00:37:51] <Riviera> Earnestly: still, thanks for that link, i learnt something :)
[00:37:55] *** Joins: steven_saus (~steven_sa@pool-71-112-170-131.pitbpa.fios.verizon.net)
[00:38:45] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[00:38:57] <Earnestly> But did you really want to learn that
[00:40:34] *** Quits: stoneware (~stoneware@user/stoneware) (Ping timeout: 272 seconds)
[00:42:16] *** Joins: spacenautx (~spacenaut@user/spacenautx)
[00:42:23] <phogg> I don't see 'until' loops too often in the wild
[00:43:11] <Earnestly> syntactic sugar causes cancer of the semi-colon
[00:43:14] <phogg> seems odd since they're terribly pleasant
[00:43:17] *** Quits: zer0bitz (~zer0bitz@2001:2003:f750:a200:d52e:866a:6f3a:60a1) (Ping timeout: 256 seconds)
[00:43:20] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[00:43:28] <Earnestly> - perlis
[00:43:32] <Earnestly> I think
[00:43:36] <phogg> syntactic sugar, like all kinds of sugar, makes life sweeter
[00:43:44] <Earnestly> I say no
[00:44:03] <xmb> for me, only well sugared kiddie drinks
[00:44:21] <phogg> strangely perl doesn't have an until
[00:45:05] *** Quits: Haxxa (~Haxxa@202-65-73-230.ip4.superloop.com) (Quit: Haxxa flies away.)
[00:45:53] *** Quits: jgrossholtz (~Julien@249.164.25.93.rev.sfr.net) (Ping timeout: 248 seconds)
[00:47:11] *** Joins: Haxxa (~Haxxa@202-65-73-230.ip4.superloop.com)
[00:47:41] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[00:47:47] <ano> interesting, did some tests and gnu ed solution 3 time slower than head/printf/tail on 100500 lines file
[00:47:56] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 246 seconds)
[00:50:03] *** Joins: wonko-th1-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane)
[00:50:24] *** Lord_of_Life_ is now known as Lord_of_Life
[00:50:47] <ano> busybox ed 4 times faster than gnu sed, also busybox ed solution 30% faster than busybox head/printf/tail
[00:50:55] *** Quits: wonko-the-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane) (Ping timeout: 240 seconds)
[00:51:28] <ano> so ed solution faster but not in gnu userland
[00:52:12] *** Joins: stoneware (~stoneware@user/stoneware)
[00:52:39] <xmb> whats the project ano, i can make an awk maybe
[00:53:12] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[00:53:48] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Quit: leaving)
[00:54:45] <ano> xmb: nothing special, just trying to do it right, portable and fast
[00:55:00] <xmb> i joined too recently, cant read your initial request
[00:55:57] <ano> xmb: replace one line in file
[00:56:36] <xmb> i guess gawk is not portable enough, for a benchmark at least
[00:57:04] <xmb> its one line far in 100k file ?
[00:57:09] <xmb> no regex match or so
[00:57:23] *** Joins: Quasimodo (~Quasimodo@user/Quasimodo)
[00:57:43] *** Quits: steven_saus (~steven_sa@pool-71-112-170-131.pitbpa.fios.verizon.net) (Quit: WeeChat 3.4)
[00:58:59] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 268 seconds)
[01:01:43] *** Quits: yano (~yano@ircpuzzles/staff/yano) (Changing host)
[01:01:43] *** Joins: yano (~yano@ircpuzzles///////////somanyslashes)
[01:01:50] *** Quits: yano (~yano@ircpuzzles///////////somanyslashes) (Changing host)
[01:01:50] *** Joins: yano (~yano@ircpuzzles/staff/yano)
[01:02:05] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Read error: Connection reset by peer)
[01:02:25] *** Quits: john_johnk (~Thunderbi@2a02-8428-013e-4001-c5d2-b4b6-66ca-869f.rev.sfr.net) (Ping timeout: 248 seconds)
[01:03:31] *** Quits: nvmd (~weechat@user/nvmd) (Quit: WeeChat 3.5)
[01:04:00] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 272 seconds)
[01:06:24] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[01:07:51] <ano> can ed read from sort of virtual file descriptor instead tmp file?
[01:09:42] <xmb> ed <&3
[01:11:56] <ano> khm mean inside ed exp
[01:12:47] *** Quits: bertvvvs (~bertvvvs@user/bertvvvs) (Quit: Y'all have a nice day.)
[01:13:11] <larryv> ano: https://pubs.opengroup.org/onlinepubs/9699919799/utilities/ed.html#tag_20_38_13_24
[01:15:01] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Ping timeout: 268 seconds)
[01:15:24] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 272 seconds)
[01:16:01] *** Joins: duxsco (~Thunderbi@user/duxsco)
[01:17:17] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[01:17:25] *** Quits: Quasimodo (~Quasimodo@user/Quasimodo) (Quit: Quasimodo)
[01:17:33] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[01:17:53] *** Joins: thiras (~thiras@user/thiras)
[01:18:35] *** Quits: Tazy (~Tazmainia@2001:1c02:1708:6800:69aa:9de:e851:cacd) (Quit: Leaving)
[01:18:55] <emanuele6> /dev/fd/N is not portable... also don't see the point in using a pipe instead of a temporary file
[01:19:18] <emanuele6> that is more expensive especially because you would need to fork() to write to it
[01:19:35] *** Quits: CoreISP (~LvH@simplemachines/serverteam/CoreISP) (Quit: ZNC - https://znc.in)
[01:20:14] <emanuele6> i still can't tell if you are writing bash or POSIX sh code because you didn't say it
[01:20:35] <ano> bash
[01:20:36] <xmb> yea paste code
[01:20:46] *** Joins: CoreISP (~LvH@simplemachines/serverteam/CoreISP)
[01:20:51] <emanuele6> ok, then pipes would be an option
[01:21:02] <emanuele6> but /dev/fd/N is not portable
[01:21:16] <emanuele6> the target OS needs to have it
[01:21:43] <emanuele6> and pipes are objectively worse than a regular files for this application
[01:21:44] <xmb>  /proc/self/fd/3 another one
[01:21:53] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 246 seconds)
[01:22:02] *** Joins: dionysus69 (~Thunderbi@78.40.106.28)
[01:22:37] <emanuele6> ano: what is problematic about having the temporary regular file?
[01:22:51] *** Joins: ExeciN (~ExeciN@user/nicexe)
[01:23:04] <ano> if /dev/fd /proc/self/fd not portable, how do <() and <<< work?
[01:23:21] <larryv> temporary named pipes
[01:23:34] <xmb> i request for code
[01:23:37] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[01:23:44] <emanuele6> xmb: what code?
[01:23:49] <emanuele6> and /dev/fd is specially handled by bash in redirections
[01:23:50] *** Quits: cim (~cim@205.185.117.110) (Quit: The Lounge - https://thelounge.chat)
[01:23:57] <emanuele6> /dev/fd really has nothing to do with pipes
[01:24:09] <xmb> aha didnt know
[01:24:15] *** Joins: cim (~cim@205.185.117.110)
[01:24:16] <xmb> anyway his code, so i can see
[01:24:21] <emanuele6> there is no code
[01:24:25] <xmb> he said bash anyway, how portable is that
[01:24:32] <emanuele6> ano: what is problematic about the temporary file though?
[01:24:34] <xmb> they said they benchmarked
[01:24:53] *** Quits: Sulky (~Sulky@195.130.222.199) (Ping timeout: 268 seconds)
[01:25:28] <emanuele6> if that is a problem, you could pay the cost of a fork() and exec() to run a shell and print a variable from the environmet
[01:25:32] *** Quits: Tangent-Man (~Tang3nt-M@mutantalien.plus.com) (Ping timeout: 272 seconds)
[01:25:35] <larryv> they never showed the code they benchmarked, nor the benchmarking code itself
[01:26:31] <larryv> this was the extent of the problem statement: "cannot replace content on specific line number with var with sed because of regex escape hell, any alternative?"
[01:26:31] *** Joins: karakedi (~eAC53C340@user/karakedi)
[01:26:37] *** Joins: eliasy (~user@2804:14c:4e6:85ba:8e12:ccb6:d537:9fe6)
[01:26:44] *** Quits: dionysus69 (~Thunderbi@78.40.106.28) (Ping timeout: 268 seconds)
[01:26:48] <ano> emanuele6: just tired to clean /tmp tmpfs from broken and incorrectly terminated apps/scripts etc
[01:27:36] <xmb> <ano> busybox ed 4 times faster than gnu sed, also busybox ed solution 30% faster than busybox head/printf/tail
[01:27:46] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[01:28:05] <emanuele6> xmb: oh, that code
[01:29:26] <emanuele6> ano: i don't get it
[01:29:49] *** Joins: ExeciN (~ExeciN@user/nicexe)
[01:29:49] <xmb> yea no code no get
[01:33:45] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[01:33:53] *** Quits: magla (~gelignite@d5365b83.access.ecotel.net) (Quit: Stay safe!)
[01:34:16] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[01:34:20] *** Joins: unop (~unop@195.91.4.124)
[01:34:22] <ano> emanuele6: don't get what? app/script can be terminated before rm /tmp/file and /tmp/file will continue to use your space before manual rm, trap will help in some cases but not a silver bullet
[01:34:43] *** Quits: martinus__ (~martin@139.30.201.77.rev.sfr.net) (Ping timeout: 260 seconds)
[01:34:54] <xmb> trap 'rm -rf "$my_tmp_dir"' exit
[01:34:55] *** Quits: Brion (~Brion@gateway/tor-sasl/brion) (Ping timeout: 240 seconds)
[01:36:27] <xmb> ano, we never get why ppl EXTRAly dont paste their code
[01:36:46] <larryv> xmb: give it a rest
[01:37:00] <xmb> well, will do then
[01:37:14] <xmb> but i remind u of stories of greycat about this topic
[01:37:19] <xmb> and xy and 'lying'
[01:37:20] <ano> xmb: won't work in case of oom/emergency shutdown
[01:37:27] <emanuele6> ano: sounds like a bullshit concern like most of what you said
[01:37:33] <xmb> ano thats right
[01:37:36] <emanuele6> # var=hello; printf '%s\n' the_file_line1 the_file_line2 the_file_line3 > the_file; var=$var ex -s -c '2!printf \%s\\n "$var"'$'\n''x!' the_file; paste -s the_file
[01:37:37] <shbot> emanuele6: the_file_line1  hello   the_file_line3
[01:37:54] <emanuele6> but again, if you really want to pay the cost of a fork() and exec() for no reason, that is an option
[01:38:21] <Earnestly> This is absurd
[01:38:44] <Earnestly> Why entertain this
[01:39:00] <xmb> # awk 'NR == "2" { $0 + "new string" } 1' <<<$'abc\ndef\ngah' | awk -v ORS=-\  1
[01:39:01] <Earnestly> It's like someone trying to have 'the best security ever' without even defining a threat model; endless nonsense
[01:39:01] <shbot> xmb: abc- def- gah-
[01:39:08] *** Joins: Brion (~Brion@gateway/tor-sasl/brion)
[01:39:13] <larryv> xmb: fyi it's been literally 2 hours. at this point if code gets provided it'll be borderline off-topic
[01:39:20] <xmb> # awk 'NR == "2" { $0 = "new string" } 1' <<<$'abc\ndef\ngah' | awk -v ORS=-\  1
[01:39:20] <shbot> xmb: abc- new string- gah-
[01:40:04] <xmb> hm mate, its not much else than old bash i guess, about topic.. to say blahm but i get you
[01:40:16] <xmb> its normal when u dont talk code that talks take hours
[01:40:18] <emanuele6> xmb: it's editing a file, not printing to stdout...
[01:40:35] *** Quits: walter_whip_ (~walter_wh@203-12-5-69.dyn.launtel.net.au) (Ping timeout: 260 seconds)
[01:40:36] <emanuele6> and they didn't want to use awk anyway because  "checking '1' for every line is costly"
[01:40:41] <xmb> if its a text file no \0 binary byte a shell var is enuff
[01:40:42] <Earnestly> emanuele6: Next you'll have to provide parity checks to ensure cosmic ray didn't flip a bit
[01:40:52] <xmb> the other is the same tho
[01:40:55] <xmb> ex 2:...
[01:41:01] <xmb> just not 'so obvious to noobs'
[01:41:30] <xmb> if i can use gawk
[01:41:35] <emanuele6> you are not editing a file xmb... you are printing to stdout
[01:41:40] <emanuele6> and, no, you cannot gawk
[01:42:20] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:42:39] *** Joins: lavaball (felix@31.204.155.215)
[01:42:46] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:43:06] <xmb> # printf 1\\n2\\n3\\n >f ; gawk 'NR == 2 { $0 = "new" } { sav = sav $0 RT } END { printf "%s", sav >ARGV[1] }' f ; cat f | awk -v OFS=-\ \  1
[01:43:07] <shbot> xmb: 1
[01:43:07] <shbot> xmb: new
[01:43:07] <shbot> xmb: 3
[01:43:35] *** Quits: noteness_ (~noteness@user/noteness) (Ping timeout: 240 seconds)
[01:43:45] <xmb> s/ofs/ors next time
[01:43:58] *** Joins: noteness (~noteness@user/noteness)
[01:44:13] <emanuele6> you can't do that
[01:44:21] <xmb> if gawk yes else no
[01:44:32] <emanuele6> that doesn't work if you make the file slightly larger
[01:44:39] <Earnestly> (You don't need gawk for this)
[01:44:46] <emanuele6> if you are using gawk, just use the inplace module
[01:44:50] <Earnestly> But this is just sponge with extra steps
[01:45:05] <xmb> !seemstowork
[01:45:05] <greybot> kurahaupo: "but it seemed to work" is roughly equivalent to "please kick me, I'm an idiot"
[01:45:09] <Earnestly> sponge with conditions
[01:45:13] <emanuele6> gawk -i inplace 'your awk code'
[01:45:20] <emanuele6> your literally doesn't
[01:45:27] *** Joins: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net)
[01:45:27] <xmb> and emuno what u say slightly larger, i have changed all kinds of stuff so
[01:45:42] <xmb> i dunno -i inplace
[01:45:46] <emanuele6> it's luck it even works with small files
[01:45:56] <xmb> no its normal workage
[01:46:05] <xmb> it works with binaries also
[01:46:33] <ano> also from my xp (gawk -i inplace) didn't work in some specific cases
[01:46:46] <Earnestly> emanuele6: It does suffer that problem, but because its in the END block it's "fine", see sponge
[01:47:09] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[01:47:21] <emanuele6> well, it should be fine because you will be closing the file later
[01:47:43] <Earnestly> But this doesn't require gawk, plus it breaks formatting
[01:47:51] <emanuele6> but you are writing to an open file and closing it twice like that
[01:48:05] <emanuele6> yep, that really doesn't require gawk
[01:48:14] <emanuele6> not sure why xmb even thinks that
[01:48:29] <xmb> hmm i was thinking ENDFILE maybe
[01:48:30] <xmb> err
[01:48:31] <Earnestly> Because they're using RT
[01:48:34] <xmb> maybe its awk compatible
[01:48:41] <emanuele6> oh, didn't see that
[01:48:43] <xmb> that also RT but its "\n" its not important
[01:48:57] <xmb> RT is only needed where regex is matched, and data out of it needed
[01:50:05] <xmb> # cp /bin/bash bash ; gawk -v RS=\\0\\0 '{ sav = sav $0 RT } END { gsub( "5.1", "7.7", sav ) ; printf "%s", sav >ARGV[1] }' bash ; ./bash --version | head -1
[01:50:07] <shbot> xmb: GNU bash, version 7.7.8(1)-release (x86_64-pc-linux-gnu)
[01:50:09] <xmb> this is same len tho sorry
[01:50:17] *** Quits: rgrinberg (~textual@177.248.158.166) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:51:56] <emanuele6> cp /bin/bash bash ; gawk -i inplace -vRS=\\0\\0 '{ gsub( "5.1", "7.7", sav ) }' bash ; ./bash --version | gawk '1; {exit}'
[01:52:16] <xmb> # cp /bin/bash bash ; gawk -i inplace -vRS=\\0\\0 '{ gsub( "5.1", "7.7", sav ) }' bash ; ./bash --version | gawk '1; {exit}'
[01:52:17] <shbot> xmb: gawk: fatal: cannot open source file `inplace' for reading: No such file or directory
[01:52:17] <shbot> xmb: GNU bash, version 5.1.8(1)-release (x86_64-pc-linux-gnu)
[01:52:29] <emanuele6> shbot doesn't install gawk correctly
[01:52:30] <xmb> again i dunno of an inplace
[01:52:36] <xmb> that also
[01:52:36] <emanuele6> run it locally
[01:52:41] <xmb> k sec
[01:52:56] <emanuele6> it is basically like GNU sed's -i
[01:53:10] <emanuele6> instead of outputing to stdout, it edits the file
[01:53:13] <xmb> well it doesnt reutn a line
[01:53:19] <emanuele6> (writes to a temp file and then overwrites)
[01:53:31] <xmb> ./bash --version shows empty
[01:53:36] <xmb> doesnt segfault also
[01:53:40] *** Joins: walter_whip_ (~walter_wh@203-12-5-69.dyn.launtel.net.au)
[01:53:41] <xmb> doesn start new session
[01:53:42] <emanuele6> i forgot the 1
[01:53:49] <emanuele6> cp /bin/bash bash ; gawk -i inplace -vRS=\\0\\0 '{ gsub( "5.1", "7.7", sav ) } 1' bash ; ./bash --version | gawk '1; {exit}'
[01:53:58] <emanuele6> it was substituting but not printing
[01:54:12] <xmb> it complelty broke the binary
[01:54:15] <emanuele6> yep
[01:54:18] <emanuele6> interesting
[01:54:21] <xmb> u need -v ORS=\\0\\0 maybe
[01:54:28] <emanuele6> right
[01:54:31] <xmb> u dont -v ORS= or printf so u need such
[01:55:08] <xmb> excepts for me it shows no version change
[01:55:11] <xmb> lemme try mine here
[01:55:26] <emanuele6> oh, it is not supposed to have sav
[01:55:31] <xmb> mine works
[01:55:34] <emanuele6> cp /bin/bash bash ; gawk -i inplace 'BEGIN{ORS=RS="\0\0"}{ gsub( "5\.1", "7.7") } 1' bash ; ./bash --version
[01:55:35] <xmb> ah
[01:55:36] <emanuele6> there
[01:55:45] <emanuele6> i forgot to delete ,sav
[01:56:04] <emanuele6> cp /bin/bash bash ; gawk -i inplace 'BEGIN{ORS=RS="\0\0"}{ gsub(/5\.1/, "7.7") } 1' bash ; ./bash --version
[01:56:05] <xmb> excepts \. threaded as . it works, 7.7 version
[01:56:13] <xmb> cool inplace ill keep in mind, train
[01:56:17] <xmb> thanks mate
[01:56:22] <emanuele6> you are welcome
[01:57:19] <emanuele6> (i think that will add two NUL bytes to the end if they are not present in the original binary)
[01:57:34] <xmb> interesting style: one can have data in the beginning, in a file, and then completly replace the file with results done in awk
[01:57:56] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 246 seconds)
[01:58:00] <xmb> im not sure, mine works exact at least
[01:58:02] <emanuele6> but you can avoid that by using   gawk -i inplace 'BEGIN{ORS=RS="\0\0"}{ gsub(/5\.1/, "7.7"); printf "%s%s", $0, RT }' bash  i think
[01:58:05] *** Quits: flower_ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Quit: leaving)
[01:58:06] <xmb> yes
[01:58:10] <xmb> very nice style
[01:58:49] <emanuele6> xmb: NUL bytes at the end of the ELF are probably ignores
[01:58:56] <emanuele6> s/.$/d
[01:59:17] <xmb> can be
[02:00:02] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 268 seconds)
[02:00:03] <xmb> would it also write if i print in ENDFILE the text
[02:01:08] *** Quits: jkwnki (~jkwnki@p4ff31c99.dip0.t-ipconnect.de) (Remote host closed the connection)
[02:01:33] *** Joins: tijuco2 (~tijuco@user/tijuco)
[02:01:48] *** Quits: jpn (~jpn@user/jpn) (Quit: Lost terminal)
[02:03:07] *** Quits: tijuco (~tijuco@user/tijuco) (Ping timeout: 268 seconds)
[02:03:07] *** tijuco2 is now known as tijuco
[02:04:28] <ano> another problem with tmp files handling in script is multi instances/jobs, uuid/mktemp everywhere and manage list of tmp files via array etc
[02:05:03] <xmb> paste code
[02:05:20] <xmb> my fullest disrespect if u dont
[02:05:58] <xmb> i dont find it fair to help on unfriendly not responding .. whatevers
[02:05:59] <phy1729> !graduated > ano
[02:06:00] <greybot> ano: Congratulations! You've graduated to needing to use a real language!
[02:07:08] <xmb> !learn nh not-helpful
[02:07:08] <greybot> OK, xmb
[02:08:27] <phy1729> !forget nh
[02:08:28] <greybot> OK, phy1729
[02:08:47] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 246 seconds)
[02:09:33] <xmb> thats nh either
[02:10:04] *** Quits: xmb (~xmb@65.108.1.186) (Quit: u suck)
[02:10:56] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[02:13:18] *** Joins: sinaowolabi (~SinaOwola@102.67.1.37)
[02:14:58] *** Quits: dea__ (~dea@178.211.43.68) (Quit: Leaving)
[02:15:02] *** Joins: dea_ (~dea_@178.211.43.68)
[02:17:14] *** Joins: nuttingd (~nuttingd@2607:fb90:b7e0:81c8:ad3:2e58:51f0:5f8)
[02:20:56] <ZarTek> I want to create a function that checks the presence of a variable thanks to the entry $1. I tried this (didn't work):
[02:20:58] <ZarTek> TEST=123 && function testvar () { [ -z "$$(echo $1)" ] && echo "var missing $\$1"  || echo "var exist $\$1 - $1" }  &&  testvar TEST
[02:22:13] <phy1729> Why do you want to do this?
[02:22:26] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[02:23:32] <larryv> ZarTek: [[ -v TEST ]]
[02:24:07] *** Quits: The_Loko (~The_Loko@79.116.41.227) (Quit: Leaving)
[02:24:19] <larryv> unless you actually do mean empty / not-empty? anyway why
[02:25:11] <ZarTek> I made a configuration file as var=value. it is source file.cfg. I want to verify the presence of all the var. for that I make a function not to repeat the code for each var. testvar1, testvar2
[02:27:25] <ZarTek> https://pastebin.com/Uyzx17jQ
[02:27:25] <pasteban> Paste is available without ads on https://pastebin.com/raw/Uyzx17jQ
[02:27:26] *** Quits: icedjava37 (~icedjava3@user/icedjava37) (Quit: back to 2004, see you later ( ^^)-c[_])
[02:30:32] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Remote host closed the connection)
[02:30:45] *** Joins: saki (~saki@gateway/tor-sasl/saki)
[02:31:49] *** Quits: chomwitt (~chomwitt@2a02:587:dc19:3600:aabd:edaf:cb83:4282) (Ping timeout: 240 seconds)
[02:34:23] *** Joins: ahegao (~hentai@2a01:e0a:a5c:a070:ecde:1716:98e8:4367)
[02:34:23] *** Quits: ahegao (~hentai@2a01:e0a:a5c:a070:ecde:1716:98e8:4367) (Changing host)
[02:34:23] *** Joins: ahegao (~hentai@user/hentai)
[02:35:57] *** Quits: stoneware (~stoneware@user/stoneware) (Quit: Ping timeout (120 seconds))
[02:36:16] *** Joins: stoneware (~stoneware@user/stoneware)
[02:36:36] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 240 seconds)
[02:36:57] *** Quits: TMan459 (~TMan459@068-113-229-180.res.spectrum.com) (Quit: ZNC 1.8.2 - https://znc.in)
[02:37:01] *** Quits: StathisA (~StathisA@178-147-50-166.haap.nym.cosmote.net) (Read error: Connection reset by peer)
[02:37:12] *** Joins: TMan459 (~TMan459@068-113-229-180.res.spectrum.com)
[02:38:12] *** Quits: hentai (~hentai@user/hentai) (Ping timeout: 240 seconds)
[02:38:16] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 268 seconds)
[02:38:34] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[02:38:51] *** Joins: StathisA (~StathisA@178-147-50-166.haap.nym.cosmote.net)
[02:39:42] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:41:57] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[02:43:29] *** Joins: jkwnki (~jkwnki@p4ff31c99.dip0.t-ipconnect.de)
[02:45:03] *** Quits: sinaowolabi_ (~SinaOwola@160.152.171.207) (Ping timeout: 268 seconds)
[02:45:55] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[02:45:58] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 272 seconds)
[02:47:16] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[02:47:51] *** Joins: kj (~kj@kj.aerisnetwork.net)
[02:49:10] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[02:51:01] *** Quits: jkwnki (~jkwnki@p4ff31c99.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[02:51:17] *** Joins: rgrinberg (~textual@177.248.158.166)
[02:52:09] *** Quits: kj (~kj@kj.aerisnetwork.net) (Ping timeout: 256 seconds)
[02:52:21] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[02:53:01] *** Joins: shaggysi0 (~shaggysi0@46.69.95.7)
[02:53:51] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 256 seconds)
[02:55:20] *** Quits: yhnujmikV (~yhnujmikV@45.83.220.203) (Ping timeout: 246 seconds)
[02:55:35] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[02:56:19] *** Quits: mkoskar (~mkoskar@user/mkoskar) (Quit: mkoskar)
[02:56:30] *** Joins: mkoskar (~mkoskar@user/mkoskar)
[02:57:02] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.5)
[02:57:22] *** Quits: zaratustra (~zaratustr@idlerpg/player/zaratustra) (Quit: 93,93/93!)
[02:57:26] <Friithian> wow, this prof set their default on macOS from zsh to tcsh
[02:57:28] <Friithian> that… what
[02:57:28] *** Joins: yhnujmikV (~yhnujmikV@193.138.218.215)
[02:58:09] *** Quits: sinaowolabi (~SinaOwola@102.67.1.37) (Ping timeout: 248 seconds)
[02:59:02] *** Quits: rgrinberg (~textual@177.248.158.166) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:59:17] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[02:59:32] *** Joins: sinaowolabi (~SinaOwola@102.67.1.37)
[03:04:01] <koollman> Friithian: well, people have strange tastes and preferences. Also possibly they discovered/learned using the shell with it
[03:04:31] <Friithian> they did, but still, it is very odd
[03:04:34] <koollman> Friithian: even on macOS, it was the default for a while :)
[03:04:42] <Friithian> well it is $CurrentYear now
[03:05:05] <koollman> well, yeah. but new OS release does not (yet) upgrade user habits and skills and knowledge
[03:05:20] <Friithian> lol yeah
[03:05:33] <ano> ugh busybox ed doesn't support --
[03:06:32] *** Quits: deadrom (~mccoy@pd9e3f53b.dip0.t-ipconnect.de) (Quit: Leaving)
[03:06:32] <koollman> if they started learning on macOSX 10.0 (or 10.1 or 10.2), 'chsh -s tcsh' is probably easier than learning new things (that is, involves little time/effort)
[03:07:20] <Friithian> we're also doing a horrifying amalgamation of c and c++ right now
[03:07:33] <koollman> or if they started with ... some bsd, I suppose. any time in the last 3 decades or so :)
[03:08:02] <koollman> I mean, I know I won't change shell any time soon, even if some distro decide to change its default, so ... I can understand that :)
[03:08:30] <Friithian> is there any distro that even ships tcsh?
[03:08:44] <koollman> many, I suppose.
[03:08:52] <koollman> it's a pretty common shell
[03:09:21] <Friithian> well I can tell you that ubuntu LTS does not (or at least KDE neon which is ubuntu lts based)
[03:09:32] *** Quits: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Quit: WeeChat 3.4.1)
[03:09:42] <koollman> maybe not installed by default, but I'm sure it's in the packages :)
[03:10:06] <koollman> (also, isn't an horrifying amalgamation of C and C++ just called C++ ? :) )
[03:10:18] <ano> (printf '%dc\n%s\n.\n%s\n%s\n' "$l" "$v" w q | ed ./f) should be safe while $v != . and doesn't contain \n, right?
[03:10:26] *** Quits: shaggysi0 (~shaggysi0@46.69.95.7) (Remote host closed the connection)
[03:10:29] <Friithian> well yeah it is, but this is just entirely not being installed by default and you have to install it yourself
[03:10:35] <Friithian> as someone who loves c++, no
[03:11:07] <Friithian> if you're writing at least c++14 you're doing modern c++ and it should be nice. Although I try and use c++20
[03:11:27] *** Joins: sinaowolabi_ (~SinaOwola@102.67.1.37)
[03:12:27] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 250 seconds)
[03:15:18] *** Joins: kj (~kj@kj.aerisnetwork.net)
[03:17:56] *** Quits: nuttingd (~nuttingd@2607:fb90:b7e0:81c8:ad3:2e58:51f0:5f8) (Quit: Quit)
[03:18:09] *** Joins: llanhmod (~personnel@user/domhnall/x-2887755)
[03:18:51] <emanuele6> Friithian: didn't you already say that?
[03:18:57] <emanuele6> like months ago
[03:19:03] <emanuele6> is this a different profesoor?
[03:19:13] <Friithian> I've had this prof before, so very possible
[03:19:25] <Friithian> and my mind's memory fails me a lot
[03:22:45] *** Quits: sobkas (~sobkas@95.175.17.217) (Quit: sobkas)
[03:24:27] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[03:26:29] *** Quits: realies (~realies@user/realies) (Quit: Ping timeout (120 seconds))
[03:26:42] *** Joins: realies (~realies@user/realies)
[03:27:27] *** Quits: jaysicks (~jaysicks@62-165-243-204.pool.digikabel.hu) (Remote host closed the connection)
[03:27:45] *** Quits: walter_whip_ (~walter_wh@203-12-5-69.dyn.launtel.net.au) (Quit: Leaving)
[03:29:31] *** Joins: nahcetan (~nate@98.45.152.91)
[03:30:18] *** Quits: n8chan (~nate@98.45.152.91) (Ping timeout: 272 seconds)
[03:33:58] *** Joins: rcernin (~rcernin@101.189.129.123)
[03:34:01] *** Joins: utoneq (~utoneq@user/utoneq)
[03:39:59] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:e159:4052:d0bf:be68) (Remote host closed the connection)
[03:40:38] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56)
[03:40:49] *** Quits: Guest2086 (~r00t@p4fe138af.dip0.t-ipconnect.de) (Ping timeout: 248 seconds)
[03:42:33] *** Joins: Palll (~Pall@2a00:23c5:fc89:aa01:c878:7c89:6308:2671)
[03:42:36] *** Quits: Palll (~Pall@2a00:23c5:fc89:aa01:c878:7c89:6308:2671) (Remote host closed the connection)
[03:45:33] *** Quits: domicron (~domicron@gateway/tor-sasl/domicron) (Remote host closed the connection)
[03:45:45] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56) (Ping timeout: 256 seconds)
[03:46:00] *** Joins: domicron (~domicron@gateway/tor-sasl/domicron)
[03:46:33] *** Joins: seninha (~seninha@user/seninha)
[03:46:43] *** Quits: Pall (~Pall@2a00:23c5:fc89:aa01:6862:cc40:6154:98ff) (Ping timeout: 268 seconds)
[03:51:41] *** Joins: akoana (~ah@user/akoana)
[03:51:48] *** Quits: llanhmod (~personnel@user/domhnall/x-2887755) (Quit: leaving)
[03:53:04] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[03:57:36] *** Joins: phox (~phox@S0106a84e3f727bc3.pk.shawcable.net)
[03:58:26] *** Joins: lelo100 (~lelo@179.219.182.97)
[04:00:58] *** Joins: cq-work (~cq-work@user/cq-work)
[04:02:11] *** Quits: phox (~phox@S0106a84e3f727bc3.pk.shawcable.net) (Ping timeout: 246 seconds)
[04:03:46] *** Quits: lelo100 (~lelo@179.219.182.97) (Ping timeout: 250 seconds)
[04:06:26] <cq-work> So apparently, if I do `exec /usr/bin/doesntexist &` with `set -eu`, it's not caught... is the only way to catch failure there to explicitly check if the command exists before hand?
[04:08:27] <phogg> you should do that anyway
[04:09:52] <larryv> the exit status of ''cmd &'' is always 0
[04:10:47] *** Quits: Oleg (~Oleg@ool-45745511.dyn.optonline.net) (Quit: WeeChat 3.4)
[04:10:50] *** Quits: Ionic (~ionic@home.ionic.de) (Ping timeout: 252 seconds)
[04:11:23] *** Joins: Ionic (~ionic@home.ionic.de)
[04:11:24] *** Joins: nuttingd (~nuttingd@97-115-107-88.ptld.qwest.net)
[04:11:31] *** Quits: hub (~hub@user/hub) (Quit: -)
[04:12:04] *** Joins: hub (~hub@user/hub)
[04:12:26] <cq-work> What's the recommend way of doing that? Calling hash and letting it fail or explicitly catching the result?
[04:12:41] <cq-work> I guess the idea is to not rely on set -u too much
[04:12:45] <cq-work> set -e*
[04:13:06] <larryv> !set-e
[04:13:06] <greybot> "set -e" is an inheritance of the old bourne shell, and doesn't really work well with modern shell features. You'll really have less buggy scripts if you do the error handling manually instead of relying on the unreliable "set -e"; see http://mywiki.wooledge.org/BashFAQ/105
[04:13:21] *** Joins: chenqisu12 (~chenqisu1@183.217.202.44)
[04:13:53] <cq-work> Herm...
[04:13:58] <larryv> cq-work: you can wait on the asynchronous command if you're concerned about its result
[04:14:00] *** Quits: zoe` (~zoe@213.55.224.197) (Ping timeout: 272 seconds)
[04:14:10] <larryv> # exit 42 & wait "$!"; printf 'status %d\n' "$?"
[04:14:11] <shbot> larryv: [1] 51
[04:14:11] <shbot> larryv: [1]+  Exit 42                 exit 42
[04:14:11] <shbot> larryv: status 42
[04:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:09] <larryv> # nonexistent & wait "$!"; printf 'status %d\n' "$?"
[04:15:12] <shbot> larryv: [1] 51
[04:15:12] <shbot> larryv: bash: nonexistent: command not found
[04:15:12] <shbot> larryv: etc... ( http://ix.io/3UkX )
[04:15:38] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:18:39] *** Joins: setesat7 (~setesat@94.4.156.220)
[04:19:42] *** Quits: setesat (~setesat@94.4.156.220) (Ping timeout: 272 seconds)
[04:19:43] *** setesat7 is now known as setesat
[04:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:39] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:21:53] *** Quits: nuttingd (~nuttingd@97-115-107-88.ptld.qwest.net) (Ping timeout: 248 seconds)
[04:23:13] <wiscii> i created a new option '-scoff', means 'schellcheck off' .. seems apt ;-)
[04:23:28] <wiscii> not bash
[04:24:22] *** Joins: nuttingd (~nuttingd@97-115-107-88.ptld.qwest.net)
[04:26:22] *** Quits: duxsco (~Thunderbi@user/duxsco) (Quit: duxsco)
[04:28:42] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[04:29:00] *** Joins: moetunes (~Jean-luc@220.240.229.58)
[04:29:15] *** seifeslimene_ is now known as seifeslimene
[04:29:59] *** Quits: moetuning (~Jean-luc@110-174-78-36.static.tpgi.com.au) (Ping timeout: 260 seconds)
[04:34:01] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Quit: Laa shay'a waqi'un moutlaq bale kouloun moumkine)
[04:34:07] *** Quits: bomb-on (~bomb-on@user/bomb-on) (Quit: aллилѹіа!)
[04:34:28] *** Joins: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp)
[04:34:50] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[04:35:46] *** Joins: Oleg (~Oleg@ool-45745511.dyn.optonline.net)
[04:36:56] *** Joins: bdeferme1 (~bdeferme@i.ctrl86.com)
[04:37:25] *** Joins: waxfire9 (~waxfire@65.119.2.240)
[04:37:30] *** Joins: unixman_home_ (~unixman2@237-104-35-72.mtaonline.net)
[04:37:30] *** Joins: Malin8 (lounge@pirate.pt)
[04:37:30] *** Joins: hata2 (~hata@hata.moe)
[04:37:32] *** Joins: brw7 (~bas@46.232.210.60)
[04:37:33] *** Joins: ruben_ (~ruben@www3.mrbrklyn.com)
[04:37:33] *** Quits: vx (~f@phrixion.net) (Ping timeout: 256 seconds)
[04:37:33] *** Quits: CalimeroTeknik (~calimero@user/calimeroteknik) (Ping timeout: 256 seconds)
[04:37:34] *** Joins: masterkorp2 (~masterkor@user/masterkorp)
[04:37:49] *** Joins: nizzan7 (~nizzan@static.203.116.201.138.clients.your-server.de)
[04:38:07] *** Quits: flying_sausages (~flying_sa@user/flying-sausages/x-2113186) (Ping timeout: 256 seconds)
[04:38:10] *** Quits: DPA (~DPA@75-128-16-94.static.cable.fcom.ch) (Read error: Connection reset by peer)
[04:38:10] *** Quits: extor (~xtor@192.99.217.240) (Remote host closed the connection)
[04:38:11] *** Quits: mrbrklyn (~ruben@www3.mrbrklyn.com) (Read error: Connection reset by peer)
[04:38:12] *** Quits: waxfire (~waxfire@65.119.2.240) (Read error: Connection reset by peer)
[04:38:12] *** waxfire9 is now known as waxfire
[04:38:16] *** Quits: sixwheeledbeast (~zem@user/sixwheeledbeast) (Remote host closed the connection)
[04:38:16] *** Quits: jelly (~me@user/jelly) (Remote host closed the connection)
[04:38:19] *** Joins: extor (~xtor@192.99.217.240)
[04:38:21] *** Quits: unixman_home (~unixman2@237-104-35-72.mtaonline.net) (Remote host closed the connection)
[04:38:29] *** Quits: yitz (~yitz@exercism/yitz) (Remote host closed the connection)
[04:38:30] *** Joins: sixwheeledbeast (~zem@user/sixwheeledbeast)
[04:38:36] *** Joins: CalimeroTeknik (~calimero@ctkarch.org)
[04:38:41] *** Quits: bdeferme (~bdeferme@i.ctrl86.com) (Ping timeout: 256 seconds)
[04:38:41] *** Quits: omantere (~pi@85-156-109-34.elisa-laajakaista.fi) (Ping timeout: 256 seconds)
[04:38:41] *** Quits: ShotokanZH (~ShotokanZ@aitch.me) (Ping timeout: 256 seconds)
[04:38:42] *** Quits: spacenautx (~spacenaut@user/spacenautx) (Quit: WeeChat 3.4.1)
[04:38:42] *** Quits: brw (~bas@46.232.210.60) (Read error: Connection reset by peer)
[04:38:42] *** brw7 is now known as brw
[04:38:45] *** Joins: yitz (~yitz@exercism/yitz)
[04:38:50] *** Quits: masterkorp (~masterkor@user/masterkorp) (Read error: Connection reset by peer)
[04:38:50] *** masterkorp2 is now known as masterkorp
[04:38:50] *** Quits: guifipedro (~quassel@207.188.170.68) (Quit: No Ping reply in 180 seconds.)
[04:38:53] *** Joins: vx (~f@phrixion.net)
[04:39:07] *** Quits: wolfshappen (~waff@irc.furworks.de) (Read error: Connection reset by peer)
[04:39:09] *** Quits: nizzan (~nizzan@static.203.116.201.138.clients.your-server.de) (Read error: Connection reset by peer)
[04:39:09] *** nizzan7 is now known as nizzan
[04:39:11] *** Quits: Malin (lounge@pirate.pt) (Read error: Connection reset by peer)
[04:39:11] *** Malin8 is now known as Malin
[04:39:15] *** Quits: hata (~hata@hata.moe) (Ping timeout: 256 seconds)
[04:39:15] *** hata2 is now known as hata
[04:39:38] *** Joins: omantere (~pi@85-156-109-34.elisa-laajakaista.fi)
[04:39:52] *** Joins: DPA (~DPA@75-128-16-94.static.cable.fcom.ch)
[04:39:57] *** Joins: guifipedro (~quassel@207.188.170.68)
[04:40:03] *** Joins: wolfshappen (~waff@irc.furworks.de)
[04:40:20] *** Joins: flying_sausages (~flying_sa@83.149.106.219)
[04:40:21] *** Quits: flying_sausages (~flying_sa@83.149.106.219) (Changing host)
[04:40:21] *** Joins: flying_sausages (~flying_sa@user/flying-sausages/x-2113186)
[04:41:52] *** Joins: rgrinberg (~textual@177.248.158.166)
[04:42:39] *** Quits: StathisA (~StathisA@178-147-50-166.haap.nym.cosmote.net) (Ping timeout: 256 seconds)
[04:42:39] *** Quits: bradp (~bradp@cpe-70-92-7-182.wi.res.rr.com) (Ping timeout: 256 seconds)
[04:42:39] *** Quits: AsenMx (~asen@user/asenmx) (Ping timeout: 256 seconds)
[04:42:39] *** Quits: woky_ (~woky@li1651-31.members.linode.com) (Ping timeout: 256 seconds)
[04:42:55] *** Joins: fmirkes_ (~fmirkes@user/fmirkes)
[04:42:57] *** Joins: gordonfish- (~gordonfis@user/gordonfish)
[04:42:58] *** Joins: woky (~woky@li1651-31.members.linode.com)
[04:42:58] *** Joins: bradp (~bradp@cpe-70-92-7-182.wi.res.rr.com)
[04:43:02] *** Joins: AsenMx (~asen@user/asenmx)
[04:43:05] *** Joins: StathisA (~StathisA@178-147-50-166.haap.nym.cosmote.net)
[04:43:13] *** Quits: fmirkes (~fmirkes@user/fmirkes) (Ping timeout: 256 seconds)
[04:43:13] *** Quits: geirha (~geirha@user/geirha) (Ping timeout: 256 seconds)
[04:43:13] *** Quits: Soliton (soliton@wesnoth/developer/soliton) (Ping timeout: 256 seconds)
[04:43:17] *** fmirkes_ is now known as fmirkes
[04:43:47] *** Quits: infidel (~ecrump@75.161.248.175) (Ping timeout: 256 seconds)
[04:43:47] *** Quits: bidouille (~user_name@trois.potager.org) (Ping timeout: 256 seconds)
[04:43:47] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Ping timeout: 256 seconds)
[04:43:47] *** Quits: OMGOMG (~bobrobert@poppy.ifi.uio.no) (Ping timeout: 256 seconds)
[04:43:47] *** Quits: pooby (~pooby@167.99.100.8) (Ping timeout: 256 seconds)
[04:43:47] *** Quits: jp11 (~jp@87-198-216-242.ptr.magnet.ie) (Ping timeout: 256 seconds)
[04:43:47] *** Quits: Ekho (~Ekho@user/ekho) (Ping timeout: 256 seconds)
[04:43:47] *** Quits: gordonfish (~gordonfis@user/gordonfish) (Ping timeout: 256 seconds)
[04:44:04] *** Quits: nuttingd (~nuttingd@97-115-107-88.ptld.qwest.net) (Ping timeout: 268 seconds)
[04:44:09] *** Joins: illuminated_ (~quassel@107-133-152-77.lightspeed.okcbok.sbcglobal.net)
[04:44:17] *** gordonfish- is now known as gordonfish
[04:44:21] *** Quits: obiwahn (~heini@user/obiwahn) (Ping timeout: 256 seconds)
[04:44:21] *** Quits: illuminated (~quassel@107-133-152-77.lightspeed.okcbok.sbcglobal.net) (Ping timeout: 256 seconds)
[04:44:21] *** Quits: nvz (~user@nvz.farted.online) (Ping timeout: 256 seconds)
[04:44:21] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Ping timeout: 256 seconds)
[04:44:21] *** Quits: snappy (~snappy@user/snappy) (Ping timeout: 256 seconds)
[04:44:29] *** Joins: fjmorazan_ (~quassel@user/fjmorazan)
[04:44:54] *** Joins: Soliton (soliton@wesnoth/developer/soliton)
[04:45:01] *** Quits: NoelFlantier3 (~Hubert@195.201.244.189) (Ping timeout: 240 seconds)
[04:45:07] *** Joins: Ekho (~Ekho@user/ekho)
[04:45:15] *** Joins: OMGOMG (~bobrobert@poppy.ifi.uio.no)
[04:45:21] *** Joins: ShotokanZH (~ShotokanZ@aitch.me)
[04:45:35] *** Joins: nvz (~user@nvz.farted.online)
[04:45:41] *** Joins: bidouille (~user_name@trois.potager.org)
[04:45:45] *** Joins: jp11 (~jp@87-198-216-242.ptr.magnet.ie)
[04:47:20] *** Joins: wonko-the-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane)
[04:47:55] *** Quits: wonko-th1-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane) (Ping timeout: 240 seconds)
[04:50:01] *** Quits: trane (~trane@login.redpill-linpro.com) (Ping timeout: 256 seconds)
[04:50:28] *** Joins: steven_saus (~steven_sa@pool-71-112-170-131.pitbpa.fios.verizon.net)
[04:50:35] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[04:56:15] *** Joins: geirha (~geirha@user/geirha)
[04:56:36] *** Joins: jelly (jelly@user/jelly)
[04:56:57] *** Joins: obiwahn (~heini@user/obiwahn)
[04:57:19] *** Joins: infidel (~ecrump@75.161.248.175)
[04:57:26] *** Joins: pooby (~pooby@167.99.100.8)
[04:57:49] *** Quits: seifeslimene (~seifeslim@197.2.10.72) (Quit: Konversation terminated!)
[04:57:56] *** Joins: snappy (~snappy@user/snappy)
[04:59:35] *** Quits: steven_saus (~steven_sa@pool-71-112-170-131.pitbpa.fios.verizon.net) (Quit: WeeChat 3.4)
[05:01:30] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:01:48] *** Joins: trane (~trane@login.redpill-linpro.com)
[05:02:12] *** Quits: rgrinberg (~textual@177.248.158.166) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:04:15] *** Joins: igemnace (~ian@user/igemnace)
[05:06:51] *** Joins: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net)
[05:11:22] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[05:14:57] *** Joins: vlm (~vlm@user/vlm)
[05:15:04] *** Quits: knstn (~knstn@ppp-94-66-57-79.home.otenet.gr) (Quit: leaving)
[05:17:22] *** Joins: seifeslimene (~seifeslim@197.2.10.72)
[05:18:13] *** Joins: rgrinberg (~textual@177.248.158.166)
[05:20:46] *** Joins: NoelFlantier3 (~Hubert@195.201.244.189)
[05:22:15] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[05:22:46] <lembron> are there still "things" without `bc` out there? - and if so, is there a "fancy" way to fallback to bare-int shell math?   (say by stripping out the scale block and eval (lol) given some `bc -l <<< "scale=2; xyz / 5"`)
[05:23:57] *** Quits: relight (~relight@user/relight) (Ping timeout: 250 seconds)
[05:24:12] *** Joins: relight (~relight@user/relight)
[05:27:14] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56)
[05:30:02] *** Quits: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net) (Ping timeout: 246 seconds)
[05:31:26] *** Quits: seifeslimene (~seifeslim@197.2.10.72) (Quit: Konversation terminated!)
[05:32:07] *** Joins: seifeslimene (~seifeslim@197.2.10.72)
[05:34:36] *** Quits: haniaF (~haniaF@79.191.93.146.ipv4.supernova.orange.pl) (Ping timeout: 240 seconds)
[05:35:38] *** Joins: haniaF (~haniaF@79.191.100.214.ipv4.supernova.orange.pl)
[05:35:57] *** Joins: vysn (~vysn@user/vysn)
[05:40:16] *** Joins: Church (~aleph@72.80.0.136)
[05:41:35] *** Quits: rcernin (~rcernin@101.189.129.123) (Ping timeout: 256 seconds)
[05:42:07] *** Quits: illuminated_ (~quassel@107-133-152-77.lightspeed.okcbok.sbcglobal.net) (Remote host closed the connection)
[05:43:10] <akoana> # awk -v x=22 -v y=7 'BEGIN { printf("%3.2f\n", x/7.0) }'
[05:43:11] <shbot> akoana: 3.14
[05:43:25] <akoana> lembron: something like this?
[05:43:31] *** Joins: rcernin (~rcernin@101.189.129.123)
[05:43:56] *** Joins: illuminated (~quassel@107-133-152-77.lightspeed.okcbok.sbcglobal.net)
[05:44:44] *** Quits: haniaF (~haniaF@79.191.100.214.ipv4.supernova.orange.pl) (Ping timeout: 246 seconds)
[05:45:19] <lembron> akoana hm, and then hoping that "awk is more universaly available than bc?" :D funky... but seems doable for my need :)
[05:45:22] *** Joins: haniaF (~haniaF@79.191.91.134.ipv4.supernova.orange.pl)
[05:46:20] <akoana> oh, should have been: awk -v x=22 -v y=7 'BEGIN { printf("%3.2f\n", x/y) }'
[05:48:46] <lembron> and hm, seems like it can do quite a few things too https://www.gnu.org/software/gawk/manual/html_node/Arithmetic-Ops.html - so yea, that should indeed replace 99% of my bc-uses lol, thanks!
[05:53:04] *** Joins: docmax_ (~docmax@dynamic-095-112-242-230.95.112.pool.telefonica.de)
[05:53:08] <akoana> pleasure.
[05:56:03] *** Quits: docmax (~docmax@dynamic-077-008-050-036.77.8.pool.telefonica.de) (Ping timeout: 260 seconds)
[05:58:02] *** Quits: FluffyMask (~masque@user/fluffymask) (Ping timeout: 246 seconds)
[05:59:46] *** Quits: dea_ (~dea_@178.211.43.68) (Ping timeout: 272 seconds)
[06:01:36] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56) (Ping timeout: 245 seconds)
[06:03:27] *** Quits: rgrinberg (~textual@177.248.158.166) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:08:38] *** Quits: Night-Shade (~Tim@ip5b40e36d.dynamic.kabel-deutschland.de) (Ping timeout: 272 seconds)
[06:11:28] *** Joins: Night-Shade (~Tim@ip5b40e36d.dynamic.kabel-deutschland.de)
[06:11:34] *** Joins: llanhmod (~personnel@user/domhnall/x-2887755)
[06:16:04] *** Joins: wwalker (~wwalker@64.225.18.84)
[06:16:44] *** Joins: Inline__ (~Inline@p200300cd470f5c00eeead6c89d51972a.dip0.t-ipconnect.de)
[06:17:54] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[06:18:14] <seifeslimene> Is there any documentation about the command usage when using cc [-lang=<language>] [-info] [-paste] [-args "command-line arguments"] [compiler/language options] <code> [-stdin <stdin input>]
[06:18:38] <seifeslimene> for example what the "<" and ">" means?
[06:18:52] <seifeslimene> or any other command
[06:19:00] <phy1729> In general [...] is optional and can be omitted and <...> is required
[06:19:00] *** Quits: Inline (~Inline@p200300cd47090700f6a7abc6bfc79784.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[06:19:03] <seifeslimene> not just gcc
[06:19:32] <larryv> seifeslimene: https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap12.html
[06:19:33] <seifeslimene> phy1729: I mean is there any standard for that?
[06:21:39] <Friithian> there's no standard for command line args at all, but there are stuff more common
[06:23:01] *** Quits: jensen (~jensen@65.78.100.184) (Ping timeout: 240 seconds)
[06:23:27] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[06:31:38] <wiscii> there could be a Ven diagram ..
[06:32:30] *** Joins: phox (~phox@S0106a84e3f727bc3.pk.shawcable.net)
[06:37:02] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.5)
[06:38:02] *** Joins: idontnee_ (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[06:39:23] *** Quits: indy (~indy@dsl-static-104.213-160-167.telecom.sk) (Ping timeout: 256 seconds)
[06:39:23] *** Quits: axsuul (~axsuul@138.68.30.232) (Ping timeout: 256 seconds)
[06:39:23] *** Quits: ops (~ops@user/echelon) (Ping timeout: 256 seconds)
[06:39:42] *** Joins: csmiga1 (~Thunderbi@ec2-52-207-160-196.compute-1.amazonaws.com)
[06:39:57] *** Joins: tomreyn_ (~tomreyn@megaglest/team/tomreyn)
[06:40:02] *** Joins: skylite_ (~skylite@2E6B2CD6.catv.pool.telekom.hu)
[06:40:04] *** Joins: jb1277976_ (~jb1277976@user/jb1277976)
[06:40:11] *** Joins: dysfigured (~dfg@dfg.rocks)
[06:40:11] *** Joins: quesker_ (idnet@2600:3c01::f03c:91ff:feac:4ce2)
[06:40:13] *** Joins: Mmike_ (~mario@li1411-253.members.linode.com)
[06:40:19] *** Joins: queue (~nerd@rektnet.com)
[06:40:19] *** Quits: tomreyn (~tomreyn@megaglest/team/tomreyn) (Remote host closed the connection)
[06:40:20] *** Joins: axsuul (~axsuul@138.68.30.232)
[06:40:31] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Ping timeout: 256 seconds)
[06:40:31] *** Quits: quesker (~idnet@mail.89vx.net) (Ping timeout: 256 seconds)
[06:40:31] *** Quits: dfg (~dfg@user/dfg) (Ping timeout: 256 seconds)
[06:40:31] *** Quits: alive (~alive@ng.nixy.dk) (Ping timeout: 256 seconds)
[06:40:31] *** Quits: theFr1nge (~Fr1nge@ip-92-205-18-51.ip.secureserver.net) (Ping timeout: 256 seconds)
[06:40:31] *** Quits: jb1277976 (~jb1277976@user/jb1277976) (Ping timeout: 256 seconds)
[06:40:31] *** Quits: queue- (~nerd@user/queue/x-7267619) (Ping timeout: 256 seconds)
[06:41:00] *** Joins: indy (~indy@dsl-static-104.213-160-167.telecom.sk)
[06:41:05] *** Quits: csmiga (~Thunderbi@ec2-52-207-160-196.compute-1.amazonaws.com) (Ping timeout: 256 seconds)
[06:41:05] *** Quits: skylite (~skylite@2e6b2cd6.catv.pool.telekom.hu) (Ping timeout: 256 seconds)
[06:41:05] *** Quits: fcser (~fcser@booty.farted.net) (Ping timeout: 256 seconds)
[06:41:05] *** Quits: Mmike (~mario@user/mmike) (Ping timeout: 256 seconds)
[06:41:05] *** Quits: ario (~ario@159.65.220.102) (Ping timeout: 256 seconds)
[06:41:05] *** csmiga1 is now known as csmiga
[06:41:14] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 268 seconds)
[06:41:19] *** quesker_ is now known as quesker
[06:41:39] *** Quits: Baggypants (~baggypant@cpc94362-ward12-2-0-cust376.10-2.cable.virginm.net) (Ping timeout: 256 seconds)
[06:41:39] *** Quits: axisys (~axisys@ec2-52-207-123-244.compute-1.amazonaws.com) (Ping timeout: 256 seconds)
[06:41:39] *** Quits: jaskal (jaskal@user/jaskal) (Ping timeout: 256 seconds)
[06:41:39] *** Quits: Chaser (~Chaser@user/chaser) (Ping timeout: 256 seconds)
[06:41:39] *** Quits: przemoc (~przemoc@user/przemoc) (Ping timeout: 256 seconds)
[06:41:39] *** Quits: leftyfb (leftyfb@ubuntu/member/leftyfb) (Ping timeout: 256 seconds)
[06:42:03] *** Quits: srg (~srg@user/srg) (Quit: srg)
[06:42:28] *** Joins: theFr1nge (~Fr1nge@ip-92-205-18-51.ip.secureserver.net)
[06:42:55] *** Joins: ario (~ario@159.65.220.102)
[06:43:12] *** Joins: axisys (~axisys@ec2-52-207-123-244.compute-1.amazonaws.com)
[06:43:12] *** Joins: jaskal (jaskal@user/jaskal)
[06:43:13] *** Joins: Baggypants (~baggypant@cpc94362-ward12-2-0-cust376.10-2.cable.virginm.net)
[06:43:13] *** Joins: przemoc (~przemoc@89-72-24-4.dynamic.chello.pl)
[06:43:13] *** Quits: przemoc (~przemoc@89-72-24-4.dynamic.chello.pl) (Changing host)
[06:43:13] *** Joins: przemoc (~przemoc@user/przemoc)
[06:43:53] *** Joins: v9fk1yn3nu (~v9fk1yn3n@user/v9fk1yn3nu)
[06:44:23] *** dysfigured is now known as dfg
[06:44:32] *** Quits: dfg (~dfg@dfg.rocks) (Changing host)
[06:44:32] *** Joins: dfg (~dfg@user/dfg)
[06:46:08] *** Joins: leftyfb (leftyfb@wargames.left-click.org)
[06:46:09] *** Joins: fcser (~fcser@booty.farted.net)
[06:46:24] *** Joins: ops (~ops@user/echelon)
[06:47:36] *** Quits: leftyfb (leftyfb@wargames.left-click.org) (Changing host)
[06:47:36] *** Joins: leftyfb (leftyfb@ubuntu/member/leftyfb)
[06:48:30] <phogg> I imagine BNF is also a source of inspiration for how people document arguments.
[06:50:02] <Friithian> you have getopt(3) and getopt_long(3)
[06:50:07] <Friithian> which may influence a lot
[06:50:37] *** Quits: sinaowolabi_ (~SinaOwola@102.67.1.37) (Ping timeout: 240 seconds)
[06:50:51] *** Quits: sinaowolabi (~SinaOwola@102.67.1.37) (Ping timeout: 250 seconds)
[06:52:26] <larryv> i think the question was more about the notation for documentation than the actual style of options
[06:54:58] *** Joins: rgrinberg (~textual@177.248.158.166)
[06:55:43] *** Joins: Chaser (~Chaser@user/chaser)
[06:58:39] *** Joins: dtux (~dtux@2601:646:8f00:3f2:2253:247b:5763:a586)
[06:58:44] <phogg> it's surprising how much of what we do is just culture
[07:02:12] *** Joins: igemnace (~ian@user/igemnace)
[07:03:01] *** Joins: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[07:05:44] *** Quits: millido (~millido@84.210.150.128) (Quit: ZNC 1.8.2 - https://znc.in)
[07:06:54] *** Quits: jos1 (~jos3@host-091-097-184-243.ewe-ip-backbone.de) (Ping timeout: 272 seconds)
[07:08:59] *** Quits: StathisA (~StathisA@178-147-50-166.haap.nym.cosmote.net) (Ping timeout: 268 seconds)
[07:09:33] *** Joins: StathisA (~StathisA@178-147-109-123.haap.nym.cosmote.net)
[07:10:55] *** Quits: z14 (~alzee@user/alzee) (Remote host closed the connection)
[07:12:54] *** Quits: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1) (Quit: The Lounge - https://thelounge.chat)
[07:13:02] *** Joins: yagamilito (~yagamilit@2601:642:4600:34b0:102d:fff3:ec75:fbd7)
[07:13:17] *** Quits: utoneq (~utoneq@user/utoneq) (Ping timeout: 246 seconds)
[07:13:36] *** Joins: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1)
[07:16:17] *** Quits: LiftLeft (~LiftLeft@airstream-nelson-fiber-dhcp-007-17.dsl.airstreamcomm.net) (Ping timeout: 248 seconds)
[07:19:28] *** Joins: jos1 (~jos3@dyndsl-091-248-050-116.ewe-ip-backbone.de)
[07:19:44] *** Quits: mimorek (~mimorek@2a02:a463:6d13:1:8a22:4d45:1db4:6da) (Read error: Connection reset by peer)
[07:20:42] *** Quits: cdown (~cdown@user/cdown) (Ping timeout: 268 seconds)
[07:20:47] *** Joins: millido (~millido@84.210.150.128)
[07:22:27] <seifeslimene> !give seifeslimene books
[07:23:07] *** Quits: llanhmod (~personnel@user/domhnall/x-2887755) (Ping timeout: 260 seconds)
[07:23:42] *** Joins: llanhmod (~personnel@user/domhnall/x-2887755)
[07:31:08] *** Quits: timj (~timj@user/timj) (Ping timeout: 260 seconds)
[07:34:03] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 260 seconds)
[07:34:15] *** Joins: dzdcnfzd (~dzdcnfzd@pool-108-54-250-165.nycmny.fios.verizon.net)
[07:36:00] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:38:59] *** Quits: rcernin (~rcernin@101.189.129.123) (Ping timeout: 260 seconds)
[07:40:01] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Client Quit)
[07:40:19] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:41:34] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Remote host closed the connection)
[07:44:29] *** Joins: rcernin (~rcernin@101.189.129.123)
[07:44:49] *** Joins: utoneq (~utoneq@user/utoneq)
[07:46:43] *** Quits: bboles (~bboles@64.94.212.195) (Quit: ZNC 1.8.2 - https://znc.in)
[07:47:00] *** Joins: unop_ (~unop@195.91.10.213)
[07:47:02] *** Joins: bboles (~bboles@64.94.212.195)
[07:47:44] *** Quits: Xanthaos (~ke4nhw@user/ke4nhw) (Remote host closed the connection)
[07:48:38] *** Quits: unop (~unop@195.91.4.124) (Ping timeout: 246 seconds)
[07:48:49] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Ping timeout: 248 seconds)
[07:52:46] *** Quits: utoneq (~utoneq@user/utoneq) (Ping timeout: 268 seconds)
[07:54:34] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[07:55:08] *** Joins: igemnace (~ian@user/igemnace)
[07:58:43] *** Joins: utoneq (~utoneq@user/utoneq)
[07:59:34] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56)
[08:00:02] *** Quits: gxt (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[08:00:23] *** Joins: gxt (~gxt@gateway/tor-sasl/gxt)
[08:00:55] <llua> !books > seifeslimene
[08:00:56] <greybot> seifeslimene: Most of the published shell/bash books are relatively poor. They may have a few gems here and there, but they're few and far between. Try the BashGuide instead: http://mywiki.wooledge.org/BashGuide
[08:01:22] *** Joins: uuidNuniq (~weechat@89.208.244.119.16clouds.com)
[08:03:00] *** Quits: chenqisu12 (~chenqisu1@183.217.202.44) (Quit: Leaving)
[08:06:57] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 268 seconds)
[08:08:57] *** Quits: zaden (~maddx@73.92.207.228) (Quit: WeeChat 3.6-dev)
[08:09:15] *** Joins: fstd_ (~fstd@xdsl-87-78-201-176.nc.de)
[08:09:20] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[08:12:12] *** Quits: fstd (~fstd@xdsl-89-0-80-77.nc.de) (Ping timeout: 240 seconds)
[08:20:29] *** Quits: utoneq (~utoneq@user/utoneq) (Ping timeout: 246 seconds)
[08:23:13] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[08:24:10] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[08:24:10] *** Joins: iliv (~iliv@user/iliv)
[08:27:36] *** Joins: utoneq (~utoneq@user/utoneq)
[08:32:01] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56) (Ping timeout: 248 seconds)
[08:36:21] *** Joins: ansivirus_ (~ansivirus@12.50.11.83)
[08:37:24] *** Quits: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e) (Ping timeout: 240 seconds)
[08:38:20] *** Quits: utoneq (~utoneq@user/utoneq) (Ping timeout: 246 seconds)
[08:38:23] *** Quits: soifou (~soifou@51.68.77.7) (Ping timeout: 256 seconds)
[08:38:23] *** Quits: Muzer (~muzer@tim32.org) (Ping timeout: 256 seconds)
[08:38:57] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 256 seconds)
[08:38:57] *** Quits: wallsY (~weechat@user/wallsY) (Ping timeout: 256 seconds)
[08:38:57] *** Quits: overrider_ (~overrider@user/overrider) (Ping timeout: 256 seconds)
[08:38:57] *** Quits: xxzz_ (~xxzz@ec2-3-133-104-162.us-east-2.compute.amazonaws.com) (Ping timeout: 256 seconds)
[08:39:31] *** Quits: ansivirus (~ansivirus@12.50.11.83) (Ping timeout: 256 seconds)
[08:40:05] *** Quits: tolecnal (tolecnal@login.xiro.net) (Ping timeout: 256 seconds)
[08:40:36] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[08:40:42] *** Joins: overrider_ (~overrider@user/overrider)
[08:40:45] *** Joins: wallsY (~weechat@user/wallsY)
[08:40:57] *** Joins: xxzz (~xxzz@ec2-3-133-104-162.us-east-2.compute.amazonaws.com)
[08:41:27] *** Joins: tolecnal (tolecnal@login.xiro.net)
[08:42:13] *** suss` is now known as suss
[08:43:08] *** Joins: ekathva (~ekathva@2001:999:250:8f1f:76db:3839:8c62:de89)
[08:43:30] *** Joins: cdman (~dcm@user/dmc/x-4369397)
[08:44:23] *** Joins: soifou (~soifou@51.68.77.7)
[08:45:15] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 240 seconds)
[08:45:49] *** Joins: utoneq (~utoneq@user/utoneq)
[08:48:03] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[08:48:11] *** Joins: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[08:52:10] *** Joins: Muzer (~muzer@tim32.org)
[09:03:44] *** Quits: dtux (~dtux@2601:646:8f00:3f2:2253:247b:5763:a586) (Quit: dtux)
[09:05:43] *** Quits: rgrinberg (~textual@177.248.158.166) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:07:00] *** Quits: fling (~fling@user/fling) (Remote host closed the connection)
[09:07:23] *** Joins: fling (~fling@user/fling)
[09:08:47] *** Quits: noarb (~noarb@user/noarb) (Ping timeout: 246 seconds)
[09:14:20] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[09:15:05] *** Joins: noarb (~noarb@user/noarb)
[09:18:50] <utoneq> mbron> akoana hm, and then hoping that "awk is more universaly available than bc?" :D funky... but seems doable for my need :)
[09:22:13] *** Joins: zostj (~rue@61-231-128-168.dynamic-ip.hinet.net)
[09:28:11] *** Quits: l4yer (~l4yer@user/l4yer) (Ping timeout: 260 seconds)
[09:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:31:23] *** Joins: A|an (~Alan@173.216.48.26)
[09:31:41] *** Joins: Inline (~Inline@p4fedbc1e.dip0.t-ipconnect.de)
[09:32:35] *** Joins: KaitoDaumoto (Frat@user/kaitodaumoto)
[09:33:25] *** Joins: babubhai (~babubhai3@14.139.122.120)
[09:34:13] *** Quits: Inline__ (~Inline@p200300cd470f5c00eeead6c89d51972a.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[09:40:49] *** Quits: utoneq (~utoneq@user/utoneq) (Ping timeout: 248 seconds)
[09:41:50] *** Joins: l4yer (~l4yer@user/l4yer)
[09:42:10] *** Joins: Dotz0cat_ (~Dotz0cat@71.29.71.39)
[09:42:46] *** Quits: A|an (~Alan@173.216.48.26) (Quit: A|an)
[09:43:20] *** Quits: Dotz0cat (~Dotz0cat@75.90.45.146) (Ping timeout: 272 seconds)
[09:43:21] *** Dotz0cat_ is now known as Dotz0cat
[09:45:48] *** Quits: zebrag (~chris@user/zebrag) (Read error: Connection reset by peer)
[09:46:01] *** Quits: MercilessDeth (~brad@136.49.59.177) (Remote host closed the connection)
[09:46:28] *** Joins: MercilessDeth (~brad@136.49.59.177)
[09:53:05] *** Quits: seifeslimene (~seifeslim@197.2.10.72) (Ping timeout: 248 seconds)
[09:53:44] *** Joins: chomwitt (~chomwitt@2a02:587:dc19:3600:a66b:8309:cc51:32)
[09:55:28] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Quit: Laa shay'a waqi'un moutlaq bale kouloun moumkine)
[09:59:49] *** Joins: dionysus69 (~Thunderbi@78.40.106.31)
[10:01:52] *** Quits: \\Mr_C\\ (mrc@cpe-75-187-191-230.neo.res.rr.com) (Quit: (Read error: Connection reset by beer, You Phuq With Me, You Phuq With The B0rg.0rg))
[10:04:29] *** Quits: setesat (~setesat@94.4.156.220) (Quit: The Lounge - https://thelounge.chat)
[10:04:51] *** Joins: setesat (~setesat@94.4.156.220)
[10:06:11] *** Joins: tangyQED (~tangy@user/tangy)
[10:07:24] *** Quits: tangy (~tangy@user/tangy) (Ping timeout: 272 seconds)
[10:08:15] *** Quits: lack (~lack@user/lack) (Ping timeout: 256 seconds)
[10:08:24] *** Joins: sinaowolabi (~SinaOwola@102.134.114.14)
[10:09:42] *** Quits: dzdcnfzd (~dzdcnfzd@pool-108-54-250-165.nycmny.fios.verizon.net) (Quit: Client closed)
[10:11:15] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[10:13:14] *** Joins: fling (~fling@user/fling)
[10:15:10] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[10:15:16] *** Joins: lack (~lack@user/lack)
[10:19:07] *** Quits: yagamilito (~yagamilit@2601:642:4600:34b0:102d:fff3:ec75:fbd7) (Quit: Client closed)
[10:19:54] *** Quits: joo-_ (~joo-_@fsf/member/joo--) (Quit: Lost terminal)
[10:20:49] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 248 seconds)
[10:21:31] *** Joins: babubhai12 (~babubhai3@14.139.122.120)
[10:24:23] *** Quits: babubhai (~babubhai3@14.139.122.120) (Ping timeout: 260 seconds)
[10:24:43] *** Joins: babubhai123 (~babubhai3@49.14.165.145)
[10:24:55] *** babubhai123 is now known as babubhai
[10:25:26] *** Quits: llanhmod (~personnel@user/domhnall/x-2887755) (Ping timeout: 246 seconds)
[10:26:56] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[10:27:11] *** Quits: babubhai12 (~babubhai3@14.139.122.120) (Ping timeout: 246 seconds)
[10:27:22] *** Joins: llanhmod (~personnel@user/domhnall/x-2887755)
[10:27:51] *** Joins: jlj_ (tg85574094@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net)
[10:28:37] *** Joins: babubhai12 (~babubhai3@2405:204:8180:812f:33d6:595d:2ab6:ded7)
[10:29:47] *** Quits: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e) (Ping timeout: 260 seconds)
[10:30:13] *** Quits: babubhai (~babubhai3@49.14.165.145) (Ping timeout: 260 seconds)
[10:30:26] *** babubhai12 is now known as babubhai
[10:30:28] *** Joins: malina (~malina@user/malina)
[10:31:44] *** Quits: TMan459 (~TMan459@068-113-229-180.res.spectrum.com) (Quit: ZNC 1.8.2 - https://znc.in)
[10:31:53] *** Joins: jle (~jle@user/jle)
[10:32:52] *** Joins: TMan459 (~TMan459@068-113-229-180.res.spectrum.com)
[10:35:24] *** Joins: sarantos (~sarantos@46-118-6.adsl.cyta.gr)
[10:36:05] *** Joins: Tahvok_ (~Tahvok@user/tahvok)
[10:36:13] *** Joins: makara- (~makara@196.214.171.83)
[10:36:15] *** Quits: makara (~makara@196.214.171.83) (Ping timeout: 256 seconds)
[10:36:15] *** Quits: Tahvok (~Tahvok@user/tahvok) (Ping timeout: 256 seconds)
[10:36:46] *** Joins: makara (~makara@196.214.171.83)
[10:37:14] *** Quits: mkoskar (~mkoskar@user/mkoskar) (Quit: mkoskar)
[10:37:23] *** Quits: makara1 (~makara@196.214.171.83) (Ping timeout: 256 seconds)
[10:37:33] *** Joins: mkoskar (~mkoskar@user/mkoskar)
[10:37:57] *** Quits: dramz (~anders@145.51-174-96.customer.lyse.net) (Ping timeout: 256 seconds)
[10:37:57] *** Quits: osse (~osse@zsh/user/osse) (Ping timeout: 256 seconds)
[10:39:23] *** Quits: babubhai (~babubhai3@2405:204:8180:812f:33d6:595d:2ab6:ded7) (Read error: Connection reset by peer)
[10:39:39] *** Joins: osse (~osse@zsh/user/osse)
[10:39:50] *** Joins: dramz (~anders@145.51-174-96.customer.lyse.net)
[10:40:12] *** tomreyn_ is now known as tomreyn
[10:42:37] *** Joins: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[10:42:57] *** Joins: a1eaiactaest (~a1eaiacta@user/a1eaiactaest)
[10:48:52] *** Joins: roadie (~user@2a02:8108:5a40:1d87:2852:a755:9058:73b2)
[10:52:25] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[10:53:11] *** Joins: Sauvin (~sauvin@about/linux/staff/sauvin)
[10:54:54] *** Joins: shad (~shad@user/shad)
[10:55:06] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[10:56:35] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 246 seconds)
[10:56:44] *** Quits: nickodd (~nickodd@user/nickodd) (Ping timeout: 252 seconds)
[10:57:19] *** Quits: Anvil (~anvil@193.252.149.222) (Ping timeout: 260 seconds)
[10:58:33] *** Joins: cuhela (~cuhela@188.119.45.227)
[10:58:43] *** Joins: tsujp67 (~tsujp@sourcehut/user/tsujp)
[10:59:17] *** Joins: nickodd (~nickodd@user/nickodd)
[11:00:00] *** Quits: unop_ (~unop@195.91.10.213) (Remote host closed the connection)
[11:00:22] *** Joins: unop (~unop@195.91.10.213)
[11:00:28] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[11:00:28] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[11:00:28] *** Joins: iliv (~iliv@user/iliv)
[11:01:49] *** Joins: wonko-th1-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane)
[11:01:56] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Ping timeout: 250 seconds)
[11:02:15] *** Quits: wonko-the-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane) (Ping timeout: 240 seconds)
[11:03:32] *** Quits: epony (epony@user/epony) (Quit: QUIT)
[11:03:52] *** Joins: Circuitsoft (uid393878@id-393878.lymington.irccloud.com)
[11:08:25] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[11:09:19] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[11:10:29] *** Joins: khach1 (~khach1@157.90.196.52)
[11:11:03] *** Quits: tercaL (~tercaL@user/tercal) (Quit: enter the Tekken!)
[11:11:54] *** Quits: tsujp67 (~tsujp@sourcehut/user/tsujp) (Ping timeout: 250 seconds)
[11:12:41] *** Joins: luckiswithme (~luckiswit@149.167.161.64)
[11:15:01] *** Quits: unop (~unop@195.91.10.213) (Remote host closed the connection)
[11:15:34] *** Quits: khach1 (~khach1@157.90.196.52) (Remote host closed the connection)
[11:15:37] *** Quits: richardm645 (~quassel@2600:8801:c502:f700:dd0:6633:fac0:636a) (Ping timeout: 250 seconds)
[11:15:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[11:15:57] *** Joins: Anvil (~anvil@193.252.149.222)
[11:16:12] *** Joins: unop (~unop@195.91.10.213)
[11:17:01] *** Quits: luckiswithme (~luckiswit@149.167.161.64) (Remote host closed the connection)
[11:17:22] *** Joins: fling (~fling@user/fling)
[11:18:06] *** Joins: tobybl (~tobybl@132.202.200.146.dyn.plus.net)
[11:18:09] *** Quits: slimbo (~slim@user/slimbo) (Quit: slimbo)
[11:18:20] *** Joins: luckiswithme (~luckiswit@149.167.161.64)
[11:20:44] *** Quits: cuhela (~cuhela@188.119.45.227) (Quit: Leaving)
[11:30:00] *** Quits: chodonne (~chodonne@ec2-3-18-56-136.us-east-2.compute.amazonaws.com) (Quit: ZNC - https://znc.in)
[11:31:09] *** Joins: chodonne (~chodonne@ec2-3-18-56-136.us-east-2.compute.amazonaws.com)
[11:32:30] *** Joins: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net)
[11:40:19] *** Quits: jlj_ (tg85574094@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net) (Ping timeout: 268 seconds)
[11:41:52] *** Joins: ExeciN (~ExeciN@user/nicexe)
[11:42:00] *** Quits: moha (uid506645@id-506645.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[11:43:55] *** Joins: Sulky (~Sulky@80.215.40.160)
[11:46:37] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.14)
[11:46:57] *** Joins: iomari891 (~iomari891@102.91.5.67)
[11:49:36] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[11:49:45] *** Joins: chenqisu1 (~chenqisu1@183.217.202.44)
[11:52:14] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.14) (Ping timeout: 246 seconds)
[11:52:42] *** Quits: unop (~unop@195.91.10.213) (Remote host closed the connection)
[11:53:01] *** Joins: unop (~unop@195.91.10.213)
[11:55:27] *** Joins: tobybl_ (~tobybl@132.202.200.146.dyn.plus.net)
[11:57:21] *** Quits: tobybl (~tobybl@132.202.200.146.dyn.plus.net) (Ping timeout: 248 seconds)
[11:58:21] *** Quits: bboles (~bboles@64.94.212.195) (Quit: ZNC 1.8.2 - https://znc.in)
[11:58:36] *** Joins: MajorBiscuit (~MajorBisc@c-001-028-054.client.tudelft.eduvpn.nl)
[11:58:54] *** Joins: ivanakis (~ivanakis@46.10.161.208)
[11:59:20] *** Joins: bboles (~bboles@64.94.212.195)
[12:02:02] *** Quits: Sulky (~Sulky@80.215.40.160) (Ping timeout: 246 seconds)
[12:04:13] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[12:05:20] *** Joins: slimbo (~slim@user/slimbo)
[12:06:37] *** Quits: MajorBiscuit (~MajorBisc@c-001-028-054.client.tudelft.eduvpn.nl) (Ping timeout: 240 seconds)
[12:08:48] *** Quits: a1eaiactaest (~a1eaiacta@user/a1eaiactaest) (Ping timeout: 260 seconds)
[12:09:01] *** Joins: sinaowolabi_ (~SinaOwola@102.67.1.37)
[12:09:25] *** Quits: ivanakis (~ivanakis@46.10.161.208) (Ping timeout: 240 seconds)
[12:09:36] *** Joins: lavaball (felix@31.204.155.215)
[12:11:08] *** Quits: rcernin (~rcernin@101.189.129.123) (Quit: WeeChat 3.4.1)
[12:12:08] *** Joins: jaysicks (~jaysicks@62-165-243-204.pool.digikabel.hu)
[12:12:55] *** Quits: Codaraxis_ (~Codaraxis@user/codaraxis) (Ping timeout: 260 seconds)
[12:14:51] *** Joins: lapsi (~lapsi@85.14.25.194)
[12:15:09] *** Quits: slimbo (~slim@user/slimbo) (Quit: slimbo)
[12:17:34] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.5)
[12:19:12] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[12:19:14] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[12:19:30] *** Joins: fling (~fling@user/fling)
[12:19:36] *** Quits: unop (~unop@195.91.10.213) (Remote host closed the connection)
[12:20:24] *** Joins: epony (epony@user/epony)
[12:21:00] *** Joins: teodor_ (~teodor@109.120.199.107)
[12:21:22] *** Quits: teodor_ (~teodor@109.120.199.107) (Client Quit)
[12:21:56] *** Joins: MajorBiscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e)
[12:22:07] *** Joins: situ (~situ@ip-89-176-145-74.net.upcbroadband.cz)
[12:23:35] *** Joins: ExeciN (~ExeciN@user/nicexe)
[12:25:46] *** Quits: luckiswithme (~luckiswit@149.167.161.64) (Read error: Connection reset by peer)
[12:26:23] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Read error: Connection reset by peer)
[12:26:31] *** Joins: slimbo (~slim@user/slimbo)
[12:26:50] *** Joins: luckiswithme (~luckiswit@149.167.161.64)
[12:26:53] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[12:27:40] <xcm> hello. i have this pipe https://bpa.st/B4LQ , running inside a perl `exec` (I checked that `sh` is `bash`).  After 10 minutes it printed "Killed" and "foo.py" is no longer running, but as you can see everything else is still running. (a) what could had caused this? (b) how do i make sure it doesn't get stuck in the future? i've been failing to reproduce this to see if `set -o pipefail` would help
[12:27:55] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[12:29:43] <selckin> anything in dmesg
[12:29:58] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56)
[12:30:01] *** Joins: yustin (~yustin@user/yustin)
[12:30:08] <xcm> no, nothing
[12:30:36] <selckin> or like journalctl -xb, whatever the magic is these days, that can mean kernel killed it because of being oom, or something else ofc
[12:31:53] <xcm> there's no systemd there, but yes, it should appear in dmesg anyway if that happened
[12:34:10] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Read error: Connection reset by peer)
[12:34:21] <xcm> i am not worried about the process dying, as i am about everything else freezing there
[12:34:25] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[12:35:12] *** Quits: sinaowolabi_ (~SinaOwola@102.67.1.37) (Ping timeout: 268 seconds)
[12:35:58] *** Joins: Codaraxis (~Codaraxis@user/codaraxis)
[12:36:19] <selckin> https://mywiki.wooledge.org/ProcessManagement#My_script_runs_a_pipeline.__When_the_script_is_killed.2C_I_want_the_pipeline_to_die_too.
[12:37:58] *** Quits: cim (~cim@205.185.117.110) (Ping timeout: 260 seconds)
[12:38:10] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Read error: Connection reset by peer)
[12:38:53] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[12:40:34] *** Quits: moto (~moto@user/moto) (Ping timeout: 260 seconds)
[12:41:08] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[12:41:20] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[12:49:15] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Ping timeout: 240 seconds)
[12:49:26] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.14)
[12:49:29] *** Joins: nosolls (~nosolls@user/nosolls)
[12:52:14] *** Quits: mweckbecker (~matthias@weckbecker.name) (Ping timeout: 260 seconds)
[12:52:24] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[12:53:04] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[12:53:23] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[12:55:37] <geirha> if you switch to bash, you could use process substitution >()
[12:56:48] *** Joins: xmb (~xmb@65.108.1.186)
[12:57:46] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.14) (Ping timeout: 272 seconds)
[12:57:50] *** Joins: mweckbecker (~matthias@weckbecker.name)
[12:58:11] *** Quits: iomari891 (~iomari891@102.91.5.67) (Ping timeout: 260 seconds)
[12:59:11] *** Joins: moto (~moto@user/moto)
[13:00:13] *** Quits: nosolls (~nosolls@user/nosolls) (Quit: WeeChat 3.5)
[13:01:50] *** Joins: jpn (~jpn@user/jpn)
[13:03:01] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56) (Ping timeout: 240 seconds)
[13:03:52] *** Joins: Sulky (~Sulky@2a04:cec0:1090:6df:14d2:5e32:6a20:f27d)
[13:03:57] *** Joins: kave (~user@2001:da8:201:3022:5fac:ed96:2c06:6260)
[13:04:21] *** Quits: phaise (~phaise@gateway/tor-sasl/phaise) (Remote host closed the connection)
[13:05:15] *** Joins: phaise (~phaise@gateway/tor-sasl/phaise)
[13:05:21] *** Joins: blb3165156 (~blb316515@user/ako)
[13:05:32] *** Quits: luckiswithme (~luckiswit@149.167.161.64) (Remote host closed the connection)
[13:05:34] *** Quits: Sulky (~Sulky@2a04:cec0:1090:6df:14d2:5e32:6a20:f27d) (Read error: Connection reset by peer)
[13:05:49] <xcm> selckin: thanks. however i'm not quite convinced that something external killed the pipe. if i try the same code with `timeout -s 9 1 sleep 2`, the pipeline dies. my script is still stuck at that line
[13:06:33] *** Quits: CalimeroTeknik (~calimero@ctkarch.org) (Changing host)
[13:06:33] *** Joins: CalimeroTeknik (~calimero@user/calimeroteknik)
[13:06:37] <blb3165156> was there a bot here to test simple bash commands?
[13:06:50] <xmb>  # printf hello
[13:06:54] <geirha> # printf 'Maybe...\n'
[13:06:55] <xmb> # printf hello
[13:06:56] <shbot> geirha: Maybe...
[13:06:56] <shbot> xmb: hello
[13:07:55] <blb3165156> # printf "$(awk 'BEGIN{c=127;while(c++<192){printf("\xf0\x9f\x98\\%s",sprintf("%o",c));}}')"
[13:07:56] <shbot> blb3165156: 😀😁😂😃😄😅😆😇😈😉😊😋😌😍😎😏😐😑😒😓😔😕😖😗😘😙😚😛😜😝😞😟😠😡😢😣😤😥😦😧😨😩😪😫😬😭😮😯😰😱😲😳😴😵😶😷😸😹😺😻😼😽😾😿
[13:08:02] <blb3165156> have a smile
[13:08:50] <xmb> i see the printf as obsolete, .. awk alone and it should show the same
[13:09:29] <xmb> oh the \\ for printf, sorry
[13:10:47] *** Joins: Mo (~Mo@dynamic-077-010-060-112.77.10.pool.telefonica.de)
[13:10:53] *** Quits: cdman (~dcm@user/dmc/x-4369397) (Remote host closed the connection)
[13:11:26] *** Joins: cdman (~dcm@27.2.216.95)
[13:11:27] *** Quits: cdman (~dcm@27.2.216.95) (Changing host)
[13:11:27] *** Joins: cdman (~dcm@user/dmc/x-4369397)
[13:11:27] *** Joins: ivanakis (~ivanakis@46.10.161.208)
[13:12:42] *** Joins: sinaowolabi_ (~SinaOwola@102.67.1.4)
[13:16:12] *** Joins: seifeslimene (~seifeslim@197.244.201.38)
[13:18:03] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[13:18:37] *** Quits: reset (~reset@user/reset) (Quit: reset)
[13:23:26] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[13:23:44] *** Joins: fling (~fling@user/fling)
[13:31:23] *** Joins: shad (~shad@user/shad)
[13:32:15] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[13:40:58] *** Joins: dsrt^ (~dsrt@c-24-99-107-170.hsd1.ga.comcast.net)
[13:42:29] *** Quits: llanhmod (~personnel@user/domhnall/x-2887755) (Ping timeout: 246 seconds)
[13:42:38] *** Joins: iomari891 (~iomari891@105.112.138.38)
[13:43:17] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[13:44:15] *** Joins: llanhmod (~personnel@user/domhnall/x-2887755)
[13:45:07] *** Quits: ivanakis (~ivanakis@46.10.161.208) (Ping timeout: 250 seconds)
[13:52:32] *** Joins: mongy (~mongy@user/mongy)
[14:00:33] *** Quits: situ (~situ@ip-89-176-145-74.net.upcbroadband.cz) (Ping timeout: 248 seconds)
[14:11:45] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 248 seconds)
[14:12:14] *** Quits: belphegor666 (~satan@user/belphegor666) (Quit: WeeChat 3.4)
[14:14:28] *** Joins: belphegor666 (~satan@ip-046-223-003-068.um13.pools.vodafone-ip.de)
[14:15:04] *** Quits: belphegor666 (~satan@ip-046-223-003-068.um13.pools.vodafone-ip.de) (Changing host)
[14:15:04] *** Joins: belphegor666 (~satan@user/belphegor666)
[14:15:05] *** Quits: chomwitt (~chomwitt@2a02:587:dc19:3600:a66b:8309:cc51:32) (Read error: Connection reset by peer)
[14:15:19] *** Joins: chomwitt (~chomwitt@2a02:587:dc19:3600:a66b:8309:cc51:32)
[14:15:22] *** Joins: Masklin__Gurder (~joel@bioinf-serv.biol.lu.se)
[14:16:01] *** Quits: sinaowolabi (~SinaOwola@102.134.114.14) (Ping timeout: 248 seconds)
[14:18:12] *** Joins: loganlee[gnu] (~Thunderbi@user/loganlee)
[14:19:08] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Quit: emanuele6)
[14:21:12] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[14:24:27] *** Joins: quazimodo (~quazimodo@n110-21-88-214.bla2.nsw.optusnet.com.au)
[14:24:52] <quazimodo> when I "set -e" in script a, then do /path/to/b does the script b have `set -e`
[14:24:56] <quazimodo> does it inherit that?
[14:25:04] *** Joins: cosmos1 (cosmos@user/cosmos1)
[14:25:05] *** Joins: z14 (~alzee@user/alzee)
[14:25:36] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[14:25:39] <osse> quazimodo: no
[14:27:25] *** Joins: ivanakis (~ivanakis@46.10.161.208)
[14:27:35] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[14:29:25] *** Joins: sinaowolabi (~SinaOwola@102.134.114.14)
[14:29:39] *** Joins: fling (~fling@user/fling)
[14:30:51] <lembron> quazimodo potetnially "bash -e /path/to/b" can do what you want
[14:30:52] *** Joins: icedjava37 (~icedjava3@user/icedjava37)
[14:32:15] <pj> !-e > quazimodo
[14:32:15] <greybot> quazimodo: "set -e" is an inheritance of the old bourne shell, and doesn't really work well with modern shell features. You'll really have less buggy scripts if you do the error handling manually instead of relying on the unreliable "set -e"; see http://mywiki.wooledge.org/BashFAQ/105
[14:32:22] *** Quits: loganlee[gnu] (~Thunderbi@user/loganlee) (Quit: loganlee[gnu])
[14:32:31] <pj> don't use set -e ^^^^
[14:32:37] <quazimodo> greybot: problem isn't me setting -(
[14:32:41] <quazimodo> -e, it's circleci
[14:32:54] <quazimodo> in general the commands start with #!/bin/bash -eo pipefail
[14:33:02] <pj> ugh, that's even worse
[14:33:33] <osse> set +e ? :p
[14:33:57] <pj> presumably if he can edit the script to add in set +e he could edit it to remove the -e fro the shebang
[14:34:21] <osse> At some point Jenkins would add its own shebang with crap, but if you started the code snippet with a shebang yourself it would use that instead. Maybe this works the same way?
[14:34:40] <pj> I get it if you inherit a script that has set -e and you can't change it, but try to avoid it in your own scripts at least.
[14:35:37] <pj> one place where -e is very common and people don't even realize it, is rpm scriptlets are run with a shebang of #!/bin/sh -e by default :-(
[14:36:10] <pj> at the end of the day, though it's kind of understandable because that's how rombuild errors out and bails if a build fails.
[14:36:19] *** Joins: artemon (~artemon@2001:470:69fc:105::87c)
[14:36:25] <pj> *rpmbuild
[14:37:31] <xmb> i just had 100% cpu bash'es ( yeahconsole hung ) and 2 cat's.. by google-chrome-unstable , couldnt analyze much, the 100% bash that then did 0% then or exited i couldnt track, apt removed chrome
[14:38:48] <xmb> also i noticed when i pressed alt-e in yeahconsole ( doesnt do anything, in top -d 1, says unknown error ) i press a coulple of times chrome wakes up with cpu usage, i dont press no chrome in cpu
[14:38:58] *** Joins: seninha (~seninha@user/seninha)
[14:39:05] <p3rL> .cz xmr
[14:39:09] <p3rL> sorry wrong chan
[14:39:30] <pj> There are lots of ways to make bash crash that way, shell bombs so to speak.
[14:40:18] *** Joins: petrj (~petrj@dsl-hkibng22-54f985-221.dhcp.inet.fi)
[14:40:29] <pj> I don't know if that's specifically what's happening ot you, but any runaway script will eventually gobble up all the RAM and CPU available to bash.
[14:44:01] *** Joins: Sulky (~Sulky@80.215.165.34)
[14:44:06] <xmb> i havent recieved a crash i couldnt analyze much its past i hope withotu chrome, but 2 cat's by chrome sound same suspicous
[14:44:23] <xmb> also when ( i ) did forkbomb test, yesterday, it didnt crash, it hung the sys
[14:44:33] <xmb> i suppose its an old or new hack, u cant tell me otherwise mate
[14:45:55] <xmb> look for the two cat's in http://0x0.st/obTX.txt dont have a snapshot of the 100% bash
[14:46:35] <xmb> it part-hung* the system
[14:46:52] <xmb> couldnt open new processes, old x stuff was around working
[14:46:53] *** Quits: sinaowolabi_ (~SinaOwola@102.67.1.4) (Ping timeout: 260 seconds)
[14:47:06] <petrj> foo.sh  `x="a b c"; IFS=$' \t\n' arr=($x); echo ${arr[1]}`, running `bash foo.sh` prints `b` as expected but zsh prints `a b c`. what is the "zsh way" of achieving `b`?
[14:47:12] *** Joins: mixfix41 (~sdenynine@user/mixfix41)
[14:47:34] <xmb> try #zsh
[14:48:33] <lembron> I dont get the "-e" FAQ...  they tried todo "automatic || exit 1" - then found some edgecases where this breaks, some more cases where 'well maybe this isnt what the user expected' and then the page ends.   sooo.... what now? DO put "|| exit 1" manually everywhere again? -- seems like that literally doesnt change a thing lol...
[14:48:38] *** Quits: nortoh (~nortoh@user/nortoh) (Ping timeout: 246 seconds)
[14:49:43] <xmb> if you set -e, and a cmd returning non null, and isnt checked with if or || or &&, bash will exit, with its code i suppose
[14:50:24] <xmb> # printf %s\\n '#!/bin/bash -e' 'false' 'echo true' >f ; bash -e f ; echo $?
[14:50:25] <shbot> xmb: 1
[14:50:28] *** Quits: curvv (~quetzlcoa@user/curvv) (Read error: Connection reset by peer)
[14:50:30] <lembron> thats not the question
[14:50:52] <lembron> its purely abotu the "why not -e" part from http://mywiki.wooledge.org/BashFAQ/105
[14:51:05] <xmb> i dont wooledge, as much as other invalid pages, im sorry
[14:52:16] *** Joins: lavaball (felix@31.204.155.215)
[14:52:31] *** Quits: kave (~user@2001:da8:201:3022:5fac:ed96:2c06:6260) (Ping timeout: 260 seconds)
[14:52:39] *** Joins: nortoh (~nortoh@bishop.xerrero.com)
[14:52:39] *** Quits: nortoh (~nortoh@bishop.xerrero.com) (Changing host)
[14:52:39] *** Joins: nortoh (~nortoh@user/nortoh)
[14:52:53] <xmb> i see in set -e no help
[14:52:56] <lembron> thats not so much a question for you as more pj who just did a lecture about it 5 lines up - or any other mod/author/vip :P
[14:54:08] *** Joins: curvv (~quetzlcoa@192-143-53-73.ip.airmobile.co.za)
[14:54:08] *** Quits: curvv (~quetzlcoa@192-143-53-73.ip.airmobile.co.za) (Changing host)
[14:54:08] *** Joins: curvv (~quetzlcoa@user/curvv)
[14:54:14] <xmb> well dude your starts are not mine
[14:54:17] *** Quits: KaitoDaumoto (Frat@user/kaitodaumoto) (Remote host closed the connection)
[15:00:26] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.14)
[15:01:26] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56)
[15:03:19] *** Joins: cosmos1_ (cosmos@user/cosmos1)
[15:04:52] <xmb> they as vip as their wooledge page they ad
[15:06:09] *** Quits: cosmos1 (cosmos@user/cosmos1) (Ping timeout: 248 seconds)
[15:06:32] *** Parts: petrj (~petrj@dsl-hkibng22-54f985-221.dhcp.inet.fi) ()
[15:11:02] *** Quits: cosmos1_ (cosmos@user/cosmos1) (Ping timeout: 246 seconds)
[15:12:11] *** Joins: timj (~timj@user/timj)
[15:12:33] *** Joins: pr3c0g (~pr3c0g@165.225.92.235)
[15:13:43] <pr3c0g> Hey everyone, I'm probably not reading the docs correctly.. but I can't understand why my operation with `bc` is not doing what I expect it to do
[15:14:30] <xmb> a) post the lines or b) post your script
[15:14:36] <xmb> c) use awk for math
[15:14:45] <xmb> to a pastebin not here
[15:15:01] <pj> lembron: it's pretty clear on the page.  Different shells have different exceptions for -e, different versions of bash have different exceptions for -e.  it is not reliable and so you never know if you'll hit an edge case where it either does or does not error out as you would have expected.
[15:15:19] <xmb>  /usr/bin/0x0.st : #!/bin/bash \n curl -F'file=@-' http://0x0.st
[15:15:43] <pr3c0g> I have a ver with "0.5420394823" and I just want to show that as a percentage, like "54.2", but doing `bc <<< "scale=1; $var*100"` doesn't show only one decimal digit, but all of them.
[15:16:21] <pr3c0g> @xmb sorry, I didn't think it was necessary to use a pastebin, at this point I'm just doing this oneliner in the shell trying to understand where I'm failing
[15:16:32] <xmb> one line is cool
[15:17:07] <pj> lembron: as one example that has bitten me on more than one occasion, if I want to do a simple increment of a variable I will do: (( i++ )); but if i happens to be zero there and -e is set it will cause the script to crash, until there's an exception down the road that "fixes" that.
[15:17:08] <pr3c0g> so the onliner is `val=0.54123123; bc <<< "scale=1; $val*100"`, the result is "54.12312300", and I expected "54.1"
[15:17:26] <pj> for now I have to do (( i++ ))||:;
[15:17:26] *** Joins: cdown (~cdown@user/cdown)
[15:17:29] <xmb> # v=0.5420394823 ; awk -v v=$v 'BEGIN { printf "%.1f", v * 100 }'
[15:17:30] <shbot> xmb: 54.2
[15:17:59] <xmb> pj, (( ++i ))
[15:18:15] <pj> xmb: sure, until i starts out as -1
[15:18:20] <xmb> ye
[15:18:29] <xmb> not that that || : looks any good =p
[15:18:32] <pr3c0g> @xmb ok that works, but shouldn't bc also be able to do the same? I only chose bc instead of awk because I find awk's syntax a bit daunting to be honest
[15:18:32] <pj> anyways, it was just one example, there are many others.
[15:18:52] *** Quits: tuskkk____ (uid18470@id-18470.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[15:18:52] <xmb> pr3c0g bc is to me like systemd and mysql and apache, not for me, maybe theres a #bc
[15:20:21] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[15:20:38] <xmb> # v=0.$SRANDOM ; awk 'BEGIN { printf "%.1f", ARGV[1] *100 }' "$v"
[15:20:39] <shbot> xmb: 42.5
[15:21:01] <pj> bc, unfortunately can't be relied upon to be installed most places.
[15:21:06] <pj> awk can be.
[15:21:14] <pr3c0g> ok that's a good point
[15:21:25] <xmb> also 'it doesnt work' for noobs ike me and precog
[15:21:34] <pr3c0g> ahah
[15:21:50] *** Joins: situ (situ@nat-pool-brq-t.redhat.com)
[15:21:57] <pj> That said, generally speaking I have rarely, if ever, had a need to do floating point calculations in bash.
[15:22:11] <xmb> due to no support
[15:22:18] <xmb> i can recommend dedicated awk coproc or something
[15:23:13] <pj> well, I have yet to have to process data that starts as a decimal, and data that doesn't start as a decimal can usually be worked around with integer math.
[15:23:36] <xmb> not that i like the fact bash no supports float
[15:23:43] <xmb> printf can handle to int
[15:23:48] <pr3c0g> right, I don't need to do that as well. I'm just parsing the output of a tool, and wanted to convert that "0.1233123" value which is a percentage, to something readable like "1.23%", and thought bc would be a good tool for that
[15:23:50] <pj> xmb: it would be nice, to be sure.
[15:24:24] <xmb> well i dunno bc syntax, as you, so its no nice tool for anything
[15:24:44] <pr3c0g> right. getting used to awk is probably a good idea anyways
[15:24:46] <pj> pr3c0g: if you know it will always start with 0. then you can work around it...
[15:25:09] <xmb> is max 1, not just 0.*
[15:25:10] *** Joins: jlj_ (~jlj@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net)
[15:25:14] <xmb> so 1 * 100 is 100%
[15:25:24] <xmb> which may be 1 or 1.00000 no idea
[15:26:05] *** Quits: firewyre (~firewyre@pool-71-184-153-62.bstnma.fios.verizon.net) (Quit: ZNC - https://znc.in)
[15:26:09] <pr3c0g> @pj yeah I just wanted to "do it properly" instead of working around it, more of an attempt to learn actually..
[15:26:28] *** Joins: firewyre (~firewyre@pool-71-184-153-62.bstnma.fios.verizon.net)
[15:27:05] <pj> # v=0.5420394823; v=${v#*.}; d=${v#??}; v=${v%$d}; printf '%s.%s\n' "$v" "$d"
[15:27:06] <shbot> pj: 54.20394823
[15:27:45] <xmb> # v=0.3481 n=${v:2:2}.${v:3} ; printf %.1f $n
[15:27:46] <shbot> xmb: 34.5
[15:28:01] <pj> that's even better
[15:28:05] <xmb> aye
[15:28:11] <pj> and if you have a nubmer greater than 1...
[15:28:27] <xmb> i dunno if this een works on '1'
[15:28:29] <pr3c0g> 1 is 100%, it would never be greater than 1
[15:28:32] *** Quits: shad (~shad@user/shad) (Ping timeout: 246 seconds)
[15:30:01] *** Joins: shad (~shad@user/shad)
[15:30:43] <xmb> # v=1.0000 n=${v:2:2}.${v:3} c=${v#1} ; [[ $c != $v ]] && n=100 ; printf %.1f $n
[15:30:44] <shbot> xmb: 100.0
[15:30:59] <pr3c0g> thank you by the way, for the help
[15:31:09] <xmb> freely mate, bless
[15:31:18] <pj> # v=1.5420394823; n=${v%.*}; v=${v#*.}; n.=${v: 0:2}.${v:3}; printf '%s\n' "$n"
[15:31:19] <shbot> pj: bash: n.=54.0394823: command not found
[15:31:19] <shbot> pj: 1
[15:31:22] <pj> bleh
[15:31:35] <pj> # v=1.5420394823; n=${v%.*}; v=${v#*.}; n+=${v: 0:2}.${v:3}; printf '%s\n' "$n"
[15:31:36] <shbot> pj: 154.0394823
[15:31:54] <xmb> yea cool
[15:32:02] <pj> # v=1.5420394823; n=${v%.*}; v=${v#*.}; n+=${v: 0:2}.${v:3}; printf '%.2f\n' "$n"
[15:32:03] <shbot> pj: 154.04
[15:32:38] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[15:34:08] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56) (Ping timeout: 260 seconds)
[15:34:20] <xmb> # v=1.45555 t=${v%*.} r=$t${v:2;2}.${v:3} ; printf %.1f%% $r
[15:34:20] <shbot> xmb: bash: v: 2;2: syntax error: invalid arithmetic operator (error token is ";2")
[15:34:33] *** Joins: dea_ (~dea_@178.211.43.68)
[15:36:03] <xmb> # v=1.45555 t=${v%.*} r=$t${v:2:2}.${v:3} ; printf %.1f%% $r
[15:36:04] <shbot> xmb: 145.6%
[15:36:39] <pj> # shift_right(){ local n=${1%.*}; local v=${1#*.}; n+=${v: 0:$2}.${v:$(($2+1))}; printf '%s\n' "$n"; }; printf '%.2f\n' "$(shift_right 1.5420394823 2)"
[15:36:40] <shbot> pj: 154.04
[15:36:55] <xmb> you can local var1= var2=
[15:36:59] <pj> wrapped up in a neat little function
[15:37:02] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[15:37:35] <pj> # shift_right(){ local n=${1%.*} v=${1#*.}; n+=${v: 0:$2}.${v:$(($2+1))}; printf '%s\n' "$n"; }; printf '%.2f\n' "$(shift_right 1.5420394823 2)"
[15:37:36] <shbot> pj: 154.04
[15:37:41] <pj> yep, tru
[15:38:14] <pj> # shift_right(){ local n=${1%.*} v=${1#*.}; n+=${v: 0:$2}.${v:$(($2+1))}; printf '%s\n' "$n"; }; printf '%.1f\n' "$(shift_right 1.5420394823 3)"
[15:38:15] <shbot> pj: 1542.4
[15:38:29] *** Quits: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[15:38:31] <xmb> very good
[15:38:50] <geirha> no point in using $(()) there
[15:38:54] <pj> the first result looks wrong, it should be 154.20
[15:39:45] <pj> and the second should be 1542.0
[15:39:48] *** Joins: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[15:40:23] <geirha> # shift_right(){ local n=${1%.*} v=${1#*.}; n+=${v:0:$2}.${v:$2}; printf '%s\n' "$n"; }; printf '%.1f\n' "$(shift_right 1.5420394823 3)"
[15:40:24] <shbot> geirha: 1542.0
[15:40:28] <geirha> # shift_right(){ local n=${1%.*} v=${1#*.}; n+=${v:0:$2}.${v:$2}; printf '%s\n' "$n"; }; printf '%.1f\n' "$(shift_right 1.5420394823 2)"
[15:40:29] <shbot> geirha: 154.2
[15:40:58] <pj> oh duh, it shoujld be $2, not $2+1
[15:41:32] *** Quits: cluelessperson (~cluelessp@user/cluelessperson) (Quit: ZNC - https://znc.in)
[15:42:05] *** Quits: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[15:42:40] *** Joins: cluelessperson (~cluelessp@user/cluelessperson)
[15:42:42] <pj> of course that's not doing actual maths, it's just shifting the decimal point over.
[15:44:02] <geirha> it'll need some additional work to handle numbers with no decimal point
[15:44:45] <pj> indeed, or numbers with a shift that is longer than the number of digits left
[15:45:43] <xmb> printf does the math
[15:45:59] <xmb> the right rounding, due to %f, is my guess
[15:46:09] *** Joins: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[15:46:29] *** Quits: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[15:46:31] <pj> yes, but technically it's not bash that is doing it, it's just passing the value to libstdc's sprintf(3) internally and libstdc is doing it.
[15:46:49] *** Joins: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[15:46:52] <xmb> its bash's printf, ..
[15:47:05] <xmb> i guess /bin/pribtf might also work
[15:48:58] <pj> it's libstdc, from printf(3): f, F   The double argument is rounded and converted to decimal notation...
[15:49:44] <pj> all that bash does is pass the argument to sprintf(3) internally.
[15:50:13] <pj> it adds a couple of extra format specifiers of it's own, so I guess it does a bit more than that, but for %f that's all that happens.
[15:50:35] <xmb> yea well bash is alone not much
[15:50:35] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[15:50:42] <xmb> it doesnt, replace libc stuff or stuff
[15:50:56] <xmb> so i find it unfair to say, bash doesnt do it, .. i mean some lib does it bash uses
[15:51:12] <pj> if you were to build bash on a system that has a sprintf that doesn't round %f (I don't know if there is such a thing) then it won't round.
[15:51:33] <xmb> i see, yes thats normal i didnt assume otherwise just didnt think that so much
[15:51:51] <xmb> is the story behind bash not having floating math : chet doesnt know how to ? or something
[15:52:20] <xmb> i have no idea i just like that gawk uses some lib for any length numbers
[15:53:39] <selckin> how rude
[15:53:55] <xmb> uh
[15:54:09] <pj> xmb: I don't know why bash doesn't have floating point math, and I would not speculate as to why either.
[15:54:50] <xmb> yea i dunno either
[15:56:08] <tirnanog> https://lists.gnu.org/archive/html/help-bash/2017-10/msg00025.html
[15:57:00] *** Quits: situ (situ@nat-pool-brq-t.redhat.com) (Ping timeout: 240 seconds)
[15:57:06] <xmb> cool mate, the chet
[15:59:00] <lembron> pj well maybe having a support-matrix there (like mdn-webdocs do for "what browser versions support what") would help there rather than a "trust me bro! its totally an issue" excersise :/  only thing missing to make it a conspiracy is a call to action to 'inform yourself!!!!' :P --- i mean, i dont doubt that it may be, but ive been using bash for 10 years, dont think i once used `((i++))` or
[15:59:01] <lembron> there like -- neither do i care about what "sh" or some busybox may potentially do (or not) when writing a internal 4liner where all infra is debian ((this is "not making an argument", but ya wanne stay realistic...))
[16:00:05] <xmb> i have the same rule, my stuff works on debian, no care about completly else
[16:00:23] <xmb> also my sh starts bash anyway
[16:01:28] <xmb> g'day
[16:01:31] <pj> lembron: so you intend to incorporate a support matrix into your bash script to tell it when -e will work one way as opposed to another, and of course make sure it will work for future versions as well!
[16:02:03] <xmb> what advantage u see in using -e ? besides u say none of my biz
[16:02:54] <pj> xmb: /bin/sh may be a symbolic link to bash, but I can almost guarantee you that -e works differently when bash is launched with /bin/sh as opposed to /bin/bash
[16:03:15] <xmb> i have literarly exec bash "$@" or something as /bin/sh
[16:03:22] <lembron> pj no, i mean a site that says "spooooooky, some versions will do different things", should say what does what in such a style maybe https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors#browser_compatibility
[16:05:30] <lembron> and the "what else?" part seems missing, or at least "unclear" given just 'Add your own error checking instead.' means what? "whack '|| exit 1' behind everything" certainly isnt the "fix" - so why not include "should be done´s" of the 'faulty' examples from above...
[16:06:38] *** Joins: derpadmin (~Anonymous@homebase.200013.net)
[16:07:15] <pj> !-e
[16:07:15] <greybot> "set -e" is an inheritance of the old bourne shell, and doesn't really work well with modern shell features. You'll really have less buggy scripts if you do the error handling manually instead of relying on the unreliable "set -e"; see http://mywiki.wooledge.org/BashFAQ/105
[16:07:43] <lembron> this is the very link im talking about yes
[16:08:05] <geirha> I prefer easily predictable behavior over some "convenience feature" that drastically changes behavior for minor code refactors
[16:08:38] <xmb> where is greycat
[16:08:42] <xmb> is he / she pissed off
[16:08:52] <pj> lembron: and that page has a link in it to this: https://fvue.nl/wiki/Bash:_Error_handling
[16:08:53] <geirha> probably sleeping
[16:09:06] <xmb> i havent seen him in a week since i re joined
[16:09:25] *** Quits: shad (~shad@user/shad) (Ping timeout: 250 seconds)
[16:09:25] <pj> ...it also has a link to this: https://www.in-ulm.de/~mascheck/various/set-e/
[16:09:53] <pj> and it also shows various different examples on that page of some of the gotchas of using -e
[16:10:08] <geirha> !pf -euo > and let's not forget
[16:10:08] <greybot> and let's not forget: https://mywiki.wooledge.org/BashPitfalls#pf60 -- Don't do this! -- set -euo pipefail
[16:10:46] <pj> ...and this: http://mywiki.wooledge.org/BashFAQ/105/Answers
[16:10:56] <geirha> If the problem with set -e was only that it had a lot of false positives, I wouldn
[16:11:09] <geirha> 't be so opposed to it, but the false negatives are dangerous imo
[16:11:25] <pj> The false positives are quire irritating, imo
[16:11:29] *** Quits: pr3c0g (~pr3c0g@165.225.92.235) (Quit: WeeChat 2.7.1)
[16:11:29] <pj> *quite
[16:11:55] <pj> but you're right, it's the false negatives that live on in code to get you years down the road.
[16:12:34] <JohnDoe1> I need some guidance please. How do the big bois handle multiple arguments passed to an option? Tried getopt and getopts but both are unable to handle it by themselves. Does one have to handle OPTIND?
[16:13:10] <xmb> JohnDoe1 i can recommend self coded arg parsing mechs
[16:13:23] <xmb> like, uhm, i have lots
[16:13:24] <geirha> JohnDoe1: standard option parsing does not allow that. You either have to roll your own, or require that the option be repeated instead, like with grep/sed -e
[16:13:25] <Soliton> and multiple means you don't know how many?
[16:13:45] *** Quits: wolfshappen (~waff@irc.furworks.de) (Quit: later)
[16:14:07] <JohnDoe1> xmb sounds good, I'm not afraid of that. Soliton no, it's a finite thing, 2 for one option, 3 for another. Tried "passing args quoted" but getopt still grabs only the first.
[16:14:11] *** Joins: wolfshappen (~waff@irc.furworks.de)
[16:14:16] *** Joins: n4dir (~user@i5E86C589.versanet.de)
[16:14:23] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 260 seconds)
[16:14:34] <xmb> john doe.. can u make a list of ( for this project ) to-be-supported args and features
[16:14:42] <Soliton> !faq options
[16:14:42] <greybot> https://mywiki.wooledge.org/BashFAQ/035 -- How can I handle command-line options and arguments in my script easily?
[16:15:19] <geirha> JohnDoe1: sounds like you failed to quote properly
[16:15:21] <JohnDoe1> geirha they're not repeated, they are unique, i.e. -a domain.com optionalAPIKey optionalUserName
[16:15:33] <JohnDoe1> geirha it's very possible. How should I quote? single quote?
[16:15:51] <JohnDoe1> Soliton thank you! xmb it's very kind of you but I can do the work if you can point me to an example script :D
[16:15:58] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[16:16:06] <Soliton> if none of that can contain a space then you can make it one argument.
[16:16:28] <geirha> while getopts a: opt ; do case $opt in a) read -r domain apikey username <<< "$OPTARG" ;; esac
[16:16:36] <JohnDoe1> agreed, have some of those which I instruct the user to separate with commas and that works fine, but it feels awkward when it's not a list of same kind of element
[16:16:59] <lembron> I think my Q is still "what this then actually looks like" - as i cant seem to find a single example on the web where "every line has a || exit" (or there like) behind it - but "-e" you find _everywhere_
[16:17:00] <JohnDoe1> geirha got it.
[16:17:15] <geirha> and the user can provide it with either  -a "domain.com key user" or -a 'domain.com key user' or -a domain.com\ key\ user
[16:17:46] <JohnDoe1> yes that would work just fine, thank you everyone!
[16:17:50] <Soliton> !crap > lembron
[16:17:50] <greybot> lembron: The overwhelming majority of bash scripts, code, tutorials, and guides on the Internet are crap. Sturgeon was an optimist.
[16:17:51] <lembron> https://www.in-ulm.de/~mascheck/various/set-e/ is neat - and prob should be part of this page and be oriented a bit more usefull, maybe colored same/differences :D
[16:18:02] <geirha> cmd1 &&
[16:18:04] <geirha> cmd2 &&
[16:18:07] <geirha> cmd3 || exit
[16:18:19] <geirha> if you have three commands that need to all succeed, else die
[16:20:09] *** Joins: tangy (~tangy@user/tangy)
[16:20:46] *** Quits: mixfix41 (~sdenynine@user/mixfix41) (Quit: and the winter is outta here...)
[16:20:54] *** Quits: tangyQED (~tangy@user/tangy) (Ping timeout: 268 seconds)
[16:20:57] <JohnDoe1> that bashfaq is much appreciated as well.
[16:21:39] *** Quits: Sulky (~Sulky@80.215.165.34) (Ping timeout: 260 seconds)
[16:23:29] <pj> lembron: that page is linked from the bashfaq page, and you can't expect it to reproduce every bit of info that's available elsewhere on the internet, it's a FAQ, not a comprehensive reference.
[16:24:37] <lembron> and no question there is a lot of crap out there - but like, youd hope for at least one "nice" example :p - and that in a real-word 50+line script or so but all ya find is -e or "nothing"
[16:25:20] <Soliton> you don't find scripts with error handling??
[16:26:44] <lembron> at least nothing that seems comprehensive...
[16:27:39] <pj> I admit that a page that shows you the proper way to do it would be a good idea.
[16:28:03] <pj> But it is rather simple, just || exit after commands that can't fail.
[16:28:16] <pj> and sometimes an EXIT trap to do cleanup is a good idea as well
[16:29:25] <Soliton> report bugs? as a random example maybe ldd is a shell script on your system.
[16:29:27] <lembron> "just || exit after commands that can't fail." -- that very first sentence says that "this is what -e does" combined with "doesnt work well in practice"
[16:29:37] <pj> also keep in mind that some commands may either (1) express a non-zero exit status that does not necessarily mean failure, or (2) still exit with zero even if they fail, and those will need extra customized error handling.
[16:30:07] *** Quits: quazimodo (~quazimodo@n110-21-88-214.bla2.nsw.optusnet.com.au) (Remote host closed the connection)
[16:30:38] *** Joins: storm_ (~storm@78.173.231.178)
[16:31:17] <lembron> and "some things using exist status wrongly" kinda doesnt seem like a valid reason to paint the devil on -e/||exit (if they are "equivalent")
[16:32:15] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[16:32:18] <geirha> lembron:  it is not what -e does.   -e will do the equivalent of "||exit" only if certain conditions are met. while the explicit ||exit will predictably exit the innermost (sub)shell
[16:32:19] <pj> lembron: that is not what -e does, or more specifically it doesn't suffer the same pitfalls as -e, because you are explicitly controlling which commands will exit on failure and which will not and not rely on -e to do it for you.
[16:33:02] <lembron> the "things get somewhat lost in subshells" is the only reason i can somewhat relate -- but this also not as "this is wrong" but more a "well ya gotta know this sure..." - but once you know, just fine to deal with rly...
[16:33:23] <pj> hey, I'm done trying to convince you.  If you want to use -e go ahead, just don't come crying here if you have issues with it down the road.
[16:33:25] <Soliton> set -e does not contain a human that decides what commands should not fail. it has a set logic (that is fairly complex) which may or may not happen to do the same thing the author intended. that's the basic issue...
[16:33:58] *** Joins: fling (~fling@user/fling)
[16:34:23] *** Quits: agrosant (~agrosant@79.103.182.92.dsl.dyn.forthnet.gr) (Read error: Connection reset by peer)
[16:34:57] *** Joins: agrosant (~agrosant@79.103.182.92.dsl.dyn.forthnet.gr)
[16:35:46] <lembron> guess then its a "but isnt me, the human who typed the -e in the start of this script, a 'human that decides?'" :D
[16:36:07] <tirnanog> in short: it renders all but the most trivial scripts brittle and fragile. those that don't know it lack the perspective and experience to meaningfully comment. conversely, it is exhausting to try and explain it to those that are just doing to dig their heels in on the matter anyway.
[16:36:23] <tirnanog> it can take years of experience for this to click, if it even does at all.
[16:36:24] <Soliton> sure, if you're an expert and the whole script now works like you want. why would it though?
[16:37:09] <Soliton> more likely though you're a human that thinks automatic error handling magically works and hope for the best.
[16:37:41] <tirnanog> it can play out in surprising ways, such as when the wireguard author (who is certainly an intelligent man) was imploring Chet not so long ago on the lists to add an anti-feature to address the brittle nature of an otherwise good script, owing to the insistence of using errexit.
[16:38:11] <tirnanog> thankfully, Chet did not acquiesce to this request.
[16:39:07] <pj> Hey, this has gotten to the point of trolling.  You've been given all the info and arguments against using -e, any further discussion is rather pointless at this stage.
[16:39:35] *** Quits: dsrt^ (~dsrt@c-24-99-107-170.hsd1.ga.comcast.net) (Remote host closed the connection)
[16:40:30] <tirnanog> I would rather just say that, if you want nice exception handling, better use something else (errexit is definitely not that).
[16:40:34] *** Joins: steven_saus (~steven_sa@pool-71-112-170-131.pitbpa.fios.verizon.net)
[16:40:38] *** Quits: jlj_ (~jlj@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net) (Ping timeout: 260 seconds)
[16:40:43] <selckin> better not use bash at all
[16:40:47] <tirnanog> exactly.
[16:41:01] <lembron> think i am just failing to see whats whats so "bad" on it that it get painted like a goto: statement... to basically being "forbidden to be used" --- nothing to argue that there are issues and it can certainly trip people up the wrong way when they make expactations - but "making it sound like every second execution may format your harddrive" doesnt rly line up to that :/
[16:42:34] <lembron> and ignoring pipes/subs problem, its almost seems like a `||exit behind everything` OR `|| true behind some things` question
[16:42:43] <Soliton> goto has its uses. set-e maybe in some rare circumstances but is just as easily replaced with normal error handling.
[16:43:08] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[16:44:04] <Soliton> if it'd really be an ||exit behind everything set-e would work fine. in what actual script would that be the case?
[16:44:32] <CarloWood> for c in 1 2 3 303 4 5 6 7 8 9 10 11 12 13 14 15; do echo -en "\e[38;5;${c}m${c} "; done; echo
[16:44:52] <CarloWood> oh I meant 203
[16:45:05] <tirnanog> that you would say that demonstrates a lack of perspective already. || is not the only way to manage control flow. indeed, a lazy approach to using control flow can blow up quite nicely with errexit. consider the difference between foo && bar and if foo; then bar; fi for example.
[16:45:27] <tirnanog> (indeed, that was one of the issues with the wireguard thing)
[16:46:03] <selckin> if every place promoting -e included all the footgun situations it would be ok, but people don't do that, so you need an equal strong counter
[16:46:42] <tirnanog> I would say that errexit is ok for a script that would otherwise have just been a long sequence of && joined simple commands.
[16:46:46] <tirnanog> beyond that, think carefully.
[16:46:49] <lembron> also set -e seems to be the only one who can get any chance at catching typos/dev-errors then, so "-e and explicit allow things that would look like a failure (grep)" doesnt sound all that stupid in its roots...
[16:47:14] <selckin> but people get told use this magic incantation and you're safe all over the internet
[16:47:18] <tirnanog> see, it's futile.
[16:47:22] <selckin> never have to think about it again
[16:47:24] *** Joins: cosmos1 (cosmos@user/cosmos1)
[16:47:33] <geirha> As soon as you introduce functions in a set -e script, you're on very brittle ground
[16:47:36] <tirnanog> no amount of wiki edits would change anything.
[16:48:04] <wiscii> !sefs
[16:48:21] <wiscii> "set -e f* sucks"
[16:49:38] <furrymcgee> perhaps !-e should mention functions
[16:49:43] <Soliton> lembron: you want a runtime check for the dev messing up? i guess you're really too far gone. wait for strong ai and then stop writing code. let the ai do what you mean.
[16:50:10] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:50:24] <selckin> there was hackernews article this morning about AI that wrote bash, but i was to scared ot open it
[16:50:48] <djph> I have an AI that writes bash.
[16:50:49] <blb3165156> maybe you can suggest some useful scripts, aliases collections worth to look at? on a github or somewhere?
[16:50:59] <Soliton> !aliases
[16:50:59] <greybot> Aliases suck. They don't work in scripts. They can't take arguments. They have special evil magical powers that break all expectations. See http://mywiki.wooledge.org/BashFAQ/080 for starters.
[16:51:09] <djph> granted all it does is get a random file, and then delete it.
[16:51:44] <geirha> Can be generalized to: <any feature derived from csh> suck
[16:52:04] *** Joins: duxsco (~Thunderbi@user/duxsco)
[16:52:26] <blb3165156> or shell functions
[16:52:32] *** Quits: sinaowolabi (~SinaOwola@102.134.114.14) (Ping timeout: 246 seconds)
[16:54:01] <lembron> Soliton more "i want to make sure one gets a pice of hardwood in the face when typing eho instead of echo" - and that ideally long before shellcheck yells at you in the PR ;-)
[16:56:33] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 248 seconds)
[16:58:34] *** Joins: jkwnki (~jkwnki@p4ff31c99.dip0.t-ipconnect.de)
[16:59:18] *** Joins: unop (~unop@2001:4bb8:2a7:7376:b191:d76f:7dff:53e8)
[16:59:19] <phy1729> run shellcheck more often locally
[17:01:14] <lembron> well my ide does (<3 jetbrains) - that isnt rly the point tho i guess :D
[17:01:18] *** Joins: masber (~masber@2001:620:808:1001::28f7)
[17:02:35] <Earnestly> The idea that typing 'eho' constitutes an error in the shell demonstrates just how much you misunderstand what the shell is
[17:03:10] <blb3165156> # eho
[17:03:10] <shbot> blb3165156: bash: eho: command not found
[17:03:16] *** Joins: cim (~cim@205.185.117.110)
[17:03:21] <Earnestly> lembron: From all of this, the solution I see for you is to just use an actual programming language
[17:03:39] <Earnestly> Be it python, ruby, lua, whatever suits you
[17:04:28] <blb3165156> !lua
[17:05:13] <blb3165156> !python
[17:05:13] <greybot> Bash is not spelled "python"
[17:05:17] *** Joins: sinaowolabi (~SinaOwola@102.67.1.4)
[17:05:26] <blb3165156> !ruby
[17:06:00] <blb3165156> !perl
[17:06:00] <greybot> http://xkcd.com/208/
[17:07:37] <blb3165156> !rust
[17:07:45] <blb3165156> !java
[17:07:57] <geirha> You can /msg greybot !factoids
[17:08:17] *** Quits: suss (~user@user/suss) (Ping timeout: 246 seconds)
[17:09:25] <lembron> the particular command that failed does not related to the "problem" call -- its "you put some crap in there" whatever that may be - and wanting it to be vocal and loud about it, rather than later noticing a random command-not-found that gets printed or so - compared to the maybe 2 times one gets bitten by -e&grep to learn about that seems like a reasonable tradeoff :D
[17:09:27] <blb3165156> !pe
[17:09:27] <greybot> Parameter Expansion expands parameters: "$foo", "$1". You can use it to perform string or array operations: "${file%.mp3}", "${0##*/}", "${files[@]: -4}". They should *always* be quoted. See: http://mywiki.wooledge.org/BashFAQ/073 and "Parameter Expansion" in man bash. Also see http://wiki.bash-hackers.org/syntax/pe.
[17:09:55] <selckin> you can private message the bot
[17:09:55] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 240 seconds)
[17:10:11] <lembron> (and "dev should have written `eho || exit` if its important" doesnt rly solve the problem...)
[17:10:12] *** Quits: jkwnki (~jkwnki@p4ff31c99.dip0.t-ipconnect.de) (Quit: WeeChat 3.0)
[17:10:33] *** Joins: jkwnki (~jkwnki@p4ff31c99.dip0.t-ipconnect.de)
[17:10:45] <geirha> lembron: the danger is when set -e ignores errors, but you expected it to abort
[17:11:24] <geirha> and whether or not set -e will ignore an error is often not apparent. It depends on the context in which that code is getting run
[17:12:08] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[17:12:51] <lembron> that makes it smell like "ideally one does both..." almost tho - and that cant rly be the fix can it :P
[17:13:06] <geirha> for example. If you have the two lines
[17:13:17] <geirha> cd /some/tmp/dir
[17:13:20] <geirha> rm -- *
[17:13:44] <geirha> you really don't want rm to run if cd fails. And set -e gives you no guarantee of that
[17:13:53] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.14) (Ping timeout: 246 seconds)
[17:14:16] *** Quits: sinaowolabi (~SinaOwola@102.67.1.4) (Ping timeout: 272 seconds)
[17:14:44] <geirha> because it depends on the context in which those lines got run whether the failing cd command causes set -e to abort the scritp or not
[17:14:47] *** Joins: thiras (~thiras@user/thiras)
[17:15:21] <geirha> so to have a predictable behavior of your script, you need to handle errors "manually" regardless, and then set -e just gets in the way
[17:17:42] <lembron> i think my "brain problem" is line 8 https://paste.debian.net/1236860/ -- and how "line 21 is clearly safer"
[17:18:45] <lembron> so much as "when you know there are no false-positive unfenced grep´s in the script, -e aitn that bad..."
[17:19:15] *** Joins: Sulky (~Sulky@2a04:cec0:10bf:bd9e:c38f:f007:19ad:694f)
[17:20:01] <selckin> you can always get it right the first time, but scripts evolve and get changed, and then if the manner in which you call a function means that error handling gets turned off that just asking to shoot off your feet
[17:20:16] <selckin> nobody will pay attention to that when changing the script
[17:20:26] *** Joins: riff_IRC (~riff-IRC@user/riff-irc)
[17:21:10] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Read error: Connection reset by peer)
[17:21:15] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 240 seconds)
[17:21:46] <selckin> your test it in isolation and it works, you throw in some pipes subshells and conditions and suddenly it behaves diffrent
[17:21:51] <selckin> you don't want magic
[17:21:54] <blb3165156> what's the point in geihradirname if 'tdir=/dir1/dir2/dir3;echo "${tdir%/*}"' ?
[17:22:12] <blb3165156> # tdir=/dir1/dir2/dir3;echo "${tdir%/*}"
[17:22:12] <shbot> blb3165156: /dir1/dir2
[17:22:36] <blb3165156> !geihradirname
[17:22:51] <blb3165156> hm, doesnt say
[17:22:56] <geirha> it handles  ///foo////bar/// as well
[17:23:08] <geirha> # dirname ///foo////bar///
[17:23:09] <shbot> geirha: ///foo
[17:23:55] <blb3165156> !geirhadirname
[17:23:55] <greybot> dirname() { case $1 in (*[!/]*/[!/]*) set -- "${1%/[!/]*}"; while [ "$1" != "$2" ]; do set -- "${1%/}" "$1"; done ;; (/*) set -- / ;; (*) set -- . ;; esac; printf '%s\n' "$1"; }
[17:24:00] <geirha> mainly depends on whether the path is provided by the user or not. If it's hardcoded in the script, just use %*/
[17:24:08] <geirha> err, %/*
[17:24:29] *** Joins: Kyuzo68 (~Kyuzo@host-82-58-206-202.retail.telecomitalia.it)
[17:25:05] <geirha> *hardcoded in the script, or otherwise cleaned up
[17:26:08] <geirha> "$PWD" will always be "normalized", so that's also safe to use %/* on, though you still need to special case /
[17:26:11] *** Joins: sinaowolabi_ (~SinaOwola@160.152.171.207)
[17:26:47] *** Quits: unop (~unop@2001:4bb8:2a7:7376:b191:d76f:7dff:53e8) (Remote host closed the connection)
[17:26:48] *** Joins: merijn (~merijn@c-001-001-001.client.esciencecenter.eduvpn.nl)
[17:28:10] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[17:28:51] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 260 seconds)
[17:28:52] <geirha> but you might as well just use the dirname provided by the system. the !geirhadirname was more of an academic exercise
[17:29:17] <blb3165156> yeah, so i thought ;)
[17:31:12] *** Quits: dionysus69 (~Thunderbi@78.40.106.31) (Ping timeout: 268 seconds)
[17:31:23] <blb3165156> never used 'set' in bash scripts...
[17:32:00] <Earnestly> Their demonstration was POSIX sh compatible
[17:32:24] *** Joins: wuseman (~wuseman@81-236-212-19-no68.tbcn.telia.com)
[17:32:24] *** Quits: wuseman (~wuseman@81-236-212-19-no68.tbcn.telia.com) (Changing host)
[17:32:24] *** Joins: wuseman (~wuseman@user/wuseman)
[17:32:49] *** Quits: jpn (~jpn@user/jpn) (Ping timeout: 248 seconds)
[17:32:59] *** Joins: cosmos1__ (cosmos@user/cosmos1)
[17:33:01] *** Quits: chenqisu1 (~chenqisu1@183.217.202.44) (Ping timeout: 240 seconds)
[17:33:38] <aog> what's the SH equivalent of BASH: bin &>/dev/null &
[17:33:50] <geirha> bin >/dev/null 2>&1 &
[17:34:24] <aog> looks like first I redirect stdout to /dev/null then take stderr and redirect it to stdout
[17:34:32] <lembron> and man... I am still hunting for an actual decently complex script "not using -e while also not just ignoring errors altogether"
[17:34:47] <geirha> !faq 2>&1
[17:34:47] <greybot> https://mywiki.wooledge.org/BashFAQ/055 -- Tell me all about 2>&1 -- what's the difference between 2>&1 >foo and >foo 2>&1, and when do I use which?
[17:34:53] *** Quits: steven_saus (~steven_sa@pool-71-112-170-131.pitbpa.fios.verizon.net) (Ping timeout: 246 seconds)
[17:35:07] *** Quits: Kyuzo68 (~Kyuzo@host-82-58-206-202.retail.telecomitalia.it) (Quit: Konversation terminated!)
[17:35:12] *** Joins: bertvvvs (~bertvvvs@user/bertvvvs)
[17:35:29] *** Quits: ninjabuffet (~ninjabuff@user/ninjabuffet) (Ping timeout: 248 seconds)
[17:35:44] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[17:36:08] *** Quits: cosmos1 (cosmos@user/cosmos1) (Ping timeout: 268 seconds)
[17:36:15] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[17:36:33] <aog> thank you geirha, appreciate your help
[17:37:13] <aog> is there a way to capture the pid of the program being sent into the background?
[17:37:15] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[17:37:31] <phy1729> !$!
[17:37:31] <greybot> $! expands to the process ID of the most recently executed background (asynchronous) command. In bash 4.4 and later this includes process substitutions.
[17:38:02] *** Joins: fling (~fling@user/fling)
[17:38:06] <aog> PID=$($!)
[17:38:06] <wiscii> lembron: https://raw.githubusercontent.com/dylanaraps/pfetch/master/pfetch
[17:38:15] *** Joins: jpn (~jpn@user/jpn)
[17:38:21] <aog> this should work to store the pid of previous command into a variable?
[17:38:25] <phy1729> aog: why are you trying to execute a number?
[17:38:36] <phy1729> pid=$!
[17:38:42] *** Joins: shad (~shad@user/shad)
[17:38:53] <aog> thank you phy1729
[17:40:10] *** Joins: off^ (~off@c-24-99-107-170.hsd1.ga.comcast.net)
[17:40:53] <blb3165156> !smiley
[17:40:53] <greybot> m# case { { ( { ) ( <<< :-\) cat ) }
[17:40:54] <shbot> greybot: :-)
[17:41:11] *** Quits: zouhair (~zouhair@vlnsm4-montreal02-142-122-41-132.internet.virginmobile.ca) (Ping timeout: 246 seconds)
[17:41:18] *** Quits: riff_IRC (~riff-IRC@user/riff-irc) (Ping timeout: 260 seconds)
[17:41:48] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[17:42:11] <wiscii> what's m# ?
[17:42:28] <Earnestly> lembron: In the shell many 'errors' can be ignored (there is large range of failure modes which aren't necessarily errors in the narrow sense of a return status), especially when input and output is constructed as a sieve.  Invalid inputs simply don't get through
[17:43:02] <Earnestly> Again, that you're thinking like a Go programmer means you should be using Go
[17:43:19] *** Quits: jpn (~jpn@user/jpn) (Ping timeout: 260 seconds)
[17:43:24] *** Joins: zouhair (~zouhair@lnsm2-montreal02-142-118-233-203.internet.virginmobile.ca)
[17:43:27] <blb3165156> # case { { ( { ) ( <<< :-) cat ) }
[17:43:28] <shbot> blb3165156: bash: syntax error near unexpected token `{'
[17:43:37] <blb3165156> hm
[17:43:46] <isabella> wiscii: mksh
[17:44:44] <blb3165156> does it speak brainfuck?
[17:44:47] <wiscii> isabella: ah yes, thanks :)
[17:48:53] <blb3165156> !boxme
[17:48:53] <greybot> # boxme() { width=72; printf -v line "%*s" "$width"; printf -v center "%s %$(( width / 2 + ${#1} / 2 ))s %$(( width - ( ( width - 1 ) / 2 + ${#1} / 2 ) ))s" \# "$1" \#; printf '%s\n' "# ${line// /=} #" "$center" "# ${line// /=} #"; }; boxme "I Love you 2 don't you know!"
[17:48:53] <shbot> greybot: # ======================================================================== #
[17:48:54] <shbot> greybot: #                       I Love you 2 don't you know!                       #
[17:48:54] <shbot> greybot: # ======================================================================== #
[17:48:54] <lembron> wiscii has me a tad confused... like there are dozens of things that "they just hope to work"... - i guess Earnestly s point of "whats an error" kinda fits in there...  but... (as random example from there) `has kiss       && printf '%s\n' /var/db/kiss/installed/*/` to me seems "broken cause chmod may say nopers to that glob" - and while "empty" may be acceptable there, its certainly not what
[17:48:55] <lembron> you asked for...
[17:49:06] *** Quits: jkwnki (~jkwnki@p4ff31c99.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[17:49:28] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 260 seconds)
[17:50:08] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[17:50:10] <blb3165156> ok, no more factoids ; )
[17:51:14] <lembron> like a _lot_ of "blind trust" in there...
[17:51:28] <geirha> !box
[17:51:28] <greybot> box(){ local p q m w a s OPTIND;while getopts lcr w;do a=$w;done;set - "${@:OPTIND}";for w;do((${#w}>${#m}))&&m=$w;done;s=${m//?/ } m=${m//?/q}qq;printf "\e(0l$m"k\\n;for w;do p=${s:${#w}} q=$p;case $a in r)q=;;c)q=${p:${#p}/2};esac;printf "x\e(B ${p:${#q}}%s$q \e(0x\n" "$w";done;printf "m$m"j"\e(B\n";}
[17:51:29] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 248 seconds)
[17:51:47] <wiscii> lembron: i have a load of shell-scripts starred on github and a quick scan reveals none of them use set -e
[17:52:10] <phy1729> !graduated > lembron
[17:52:10] <greybot> lembron: Congratulations! You've graduated to needing to use a real language!
[17:52:14] <Earnestly> lembron: At the level of a shell, you do tend to assume the kernel works.  Most people don't if statement every printf command
[17:52:33] <Earnestly> lembron: (printf can be easily made to fail by redirecting its output to /dev/full)
[17:52:46] <phy1729> or >&-
[17:53:21] <Earnestly> lembron: These sorts of robustness concerns ought to be handled by lower levels and would be inappropriate for a shell to concern itself with.  Even at best you'll end up introducing little race conditions everywhere
[17:53:51] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 250 seconds)
[17:54:04] <phy1729> In fairness at least he isn't trying to handle cosmic rays in shell scripts
[17:54:20] <Earnestly> So you can think of shell scripts as having little critical regions which need checking, where earlier errors can cascade towards.  If each tool is allowed to speak for itself (i.e. don't 2> /dev/null) then debugging is quite straight forward
[17:55:40] *** Joins: ExeciN (~ExeciN@user/nicexe)
[17:55:51] <Earnestly> Error handling can really become a an endless task of trench digging because literally anything can fail.  The best sort of solution to this is to make certain code paths inexpressible and arrange scripts to be idempotent in general
[17:56:32] <aog> is this script ok to start a program? https://gnu.cat/xdf
[17:56:37] <Friithian> try{} catch(...){} everything
[17:56:42] <Earnestly> Keep it simple so that if a cosmic ray flips a bit the error messages are clear and easy to associate to the location in the script.  Try to avoid custom debugging routines which obfuscate this
[17:57:06] <Earnestly> aog: No it's pretty much the worst thing you could do
[17:57:19] <aog> seems that programs don't automatically write their pid in /run, hence there's no way to track them unless we write the pidfile ourselves?
[17:57:22] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[17:58:00] <aog> what would you do instead Earnestly?
[17:58:02] <wiscii> finally found a script using set -e (i bet they would take a patch to remove it): https://github.com/OpenVPN/openvpn-build/blob/master/generic/build
[17:58:02] <Earnestly> Not only does it use pidfiles (race conditions), not only does it depend on procfs (which you can't even use on linux with hidepid=2), uppercase variable names, killing output, and just general race conditions
[17:58:09] <Earnestly> aog: A supervisor
[17:58:34] *** Joins: kj (~kj@beta.aerisnetwork.net)
[17:58:36] <aog> I'm using systemd as a supervisor where supported
[17:58:45] <aog> this is for compatibility where systemd is not present
[17:58:49] *** Quits: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:58:51] <Earnestly> aog: Don't
[17:58:51] <aog> as a fallback
[17:58:59] <Earnestly> There's no point in this "fallback" mentality
[17:59:21] <Earnestly> If the fallback is supposed to always work, then why not always use the fallback?  No, just depend on sensible things and let the user sort it out
[17:59:36] <aog> how do you provide initiation for your app where systemd is not supported?
[17:59:37] <Earnestly> Your program should concern itself with supervision, that's something for the user to arrange based on their setup
[17:59:43] <Earnestly> aog: YOU DON'T
[17:59:53] <Earnestly> should not concern*
[17:59:58] *** Joins: jpn (~jpn@user/jpn)
[18:00:05] <Earnestly> It's not your responsibility, at all
[18:00:07] <aog> well "YOU DON'T" doesn't float where I work
[18:00:15] <aog> I have to find a way
[18:00:29] <Earnestly> aog: busybox comes with an implementation of runit's runsv and svlogd, you can use those
[18:01:00] <aog> should I just fallback to a sysv script?
[18:01:09] <lembron> wiscii my first look went to tooling like debootstrap and other debianish-tooling what had -e too^^ so its "big names doing it too" kinda deal :D
[18:01:15] <Earnestly> sysv isn't a supervisor
[18:01:34] <tangy> how about cron or an init script, run a daemon that watches for an event an exectutes a script?
[18:02:06] <aog> tangy that's what I did https://gnu.cat/xdf inside cron.hourly
[18:02:10] <Earnestly> If you can't use runit, daemontools, s6, etc. then implement their skeleton by having a long running process manage a single child (the "app"), using a fifo as a method of IPC to control what it does and how it sends signals, etc.
[18:02:37] <selckin> lembron: code thats been around for decades almost always does thing that are no longer recommended, unless they are really really really actively maintained (rare)
[18:02:49] <Earnestly> Such as sending 'restart' or 'stop', etc.  As the parent knows the state of the child you don't have to race anywhere, or poll
[18:03:25] *** Parts: blb3165156 (~blb316515@user/ako) ()
[18:03:42] <Earnestly> As a rule in unix, never try to manage processes which aren't your direct children
[18:03:45] <aog> I'd rather use a script in a cron.hourly than a sysv script
[18:03:55] <Earnestly> Both of those solutions are bad
[18:04:03] <aog> I just need a watcher that starts the process in case it crashes or on reboot
[18:04:20] <Soliton> while true; do cmd; done
[18:04:26] <Earnestly> Who starts the watcher? lol
[18:04:30] *** Quits: sinaowolabi_ (~SinaOwola@160.152.171.207) (Ping timeout: 268 seconds)
[18:04:34] <aog> cron is running everywhere
[18:04:39] <Earnestly> Not here it isn't
[18:05:14] <aog> in our system is running everywhere either controlled by systemd or systemv
[18:05:17] <Earnestly> I have not used cron for probably 12 years
[18:05:32] <lembron> selckin what kinda loops back to my initial "problem" that the command/faq page kinda paints it to make it the absolute devil that should be refactor-removed from everything you find anywhere cause it may randomly format your disk"  --- when its rly just more a "beware of things exiting-1 on "ok", and still do explicit errorchecking where you can, but then it aint that bad to have in there..."
[18:06:09] <Earnestly> aog: You then have to write it to work with what your systems support, if that means garbage like sysv, then you'll have to use sysv.  At least then you won't surprise everyone when a random cron script is spawning programs
[18:06:13] <djph> if "it" is still set -e ... yes, it is the absolute devil.
[18:06:15] <selckin> lembron: a little lead in your food isn't so bad either
[18:06:24] <lembron> ,-)
[18:07:23] *** Joins: sinaowolabi (~SinaOwola@160.152.171.207)
[18:07:25] <phy1729> lembron: did you take the quiz? -e can cause bugs too
[18:07:26] *** Quits: jpn (~jpn@user/jpn) (Ping timeout: 245 seconds)
[18:08:17] <djph> selckin: I mean, it does kinda add a certain sweetness to ...
[18:08:58] *** Joins: jpn (~jpn@user/jpn)
[18:09:26] *** Quits: cosmos1__ (cosmos@user/cosmos1) (Ping timeout: 268 seconds)
[18:10:02] *** Quits: v9fk1yn3nu (~v9fk1yn3n@user/v9fk1yn3nu) (Remote host closed the connection)
[18:11:01] <Earnestly> aog: (iow, package it with the systemd service as well as a sysv script, so that when you deploy it via a relevant package manager/provisioning system, it can justwork™ according to the system it finds itself on)
[18:11:39] *** Joins: magga (magga@ti0036a400-3577.bb.online.no)
[18:14:21] <lembron> speaking systemd - there shellscripts do -e too
[18:14:58] <djph> ... because systemd is a paragon of "doing things right" ...
[18:15:04] <djph>  /s
[18:15:07] <lembron> sure that :D
[18:16:15] *** Joins: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net)
[18:16:49] *** Quits: llanhmod (~personnel@user/domhnall/x-2887755) (Ping timeout: 250 seconds)
[18:17:53] <lembron> maybe this "move away from -e"-movement could need a date on that FAQ.. cause im sure if ill grep my logs ill find that very same bot telling me to use -e and nowhere is clear if the enlightment that that attempt "failed" was made in 1999, 2010, or last week...
[18:18:13] *** Quits: ivanakis (~ivanakis@46.10.161.208) (Ping timeout: 240 seconds)
[18:18:28] *** Joins: llanhmod (~personnel@user/domhnall/x-2887755)
[18:19:36] <djph> lessee, the original datestamp from greybot is  Robin Fairbairns.
[18:19:41] *** Quits: sinaowolabi (~SinaOwola@160.152.171.207) (Ping timeout: 246 seconds)
[18:19:41] <djph> ...
[18:19:41] *** Joins: sinaowolabi_ (~SinaOwola@105.112.24.202)
[18:19:47] <djph> dammit, I hate this machine.
[18:19:51] <djph> 1282146799
[18:21:04] <djph> Wed, 18 Aug 2010 15:53:19 +0000 <-- in readable form ...
[18:22:45] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[18:23:17] <Soliton> where is it specified that systemd has anything to do with set -e?
[18:23:52] <djph> I read it as "well, the systemd guys use 'set -e' ... "
[18:24:01] *** Quits: sinaowolabi_ (~SinaOwola@105.112.24.202) (Read error: Connection reset by peer)
[18:24:13] *** Quits: uuidNuniq (~weechat@89.208.244.119.16clouds.com) (Remote host closed the connection)
[18:26:18] *** Quits: Inline (~Inline@p4fedbc1e.dip0.t-ipconnect.de) (Quit: Leaving)
[18:27:45] *** Joins: Inline (~Inline@p200300cd470f5c00eeead6c89d51972a.dip0.t-ipconnect.de)
[18:28:40] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[18:29:49] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[18:30:11] <jelly> I thought the systemd people did everything they could to get us rid of init shell scripts for services
[18:30:46] *** Joins: Kyuzo68 (~Kyuzo@host-82-58-206-202.retail.telecomitalia.it)
[18:30:54] *** Joins: ejjdhfjsu (~ejjdhfjsu@cmcust2a-85.240.nulinkdigital.com)
[18:32:17] <lembron> as said, just there "tools" directory, so random helper code -- this just seems so ... fugly... https://paste.debian.net/1236884/ ?
[18:32:28] *** Joins: sinaowolabi (~SinaOwola@160.152.171.207)
[18:33:32] <selckin> 99% of all bash code you'll find in the wild is terrible
[18:37:14] <lembron> add-git-hook.sh was also just picked as random example, they all look like this - so, are the bottoms "any better"? then option a or b?  ((think b) should have another `|| exit 1` in the end))
[18:37:55] <djph> jelly: doesn't mean they didn't muck up any bash scripts they still need.
[18:37:56] *** Quits: Kyuzo68 (~Kyuzo@host-82-58-206-202.retail.telecomitalia.it) (Quit: Konversation terminated!)
[18:38:07] *** Joins: CodePoint (~CodePoint@2607:fb90:c6c:212b:db7:c3d6:d4e7:5a73)
[18:39:42] *** Joins: dea__ (~dea_@178.211.43.68)
[18:39:51] *** Quits: unixman_home_ (~unixman2@237-104-35-72.mtaonline.net) (Quit: rm -rf /)
[18:39:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[18:40:30] *** Joins: unixman_home (~unixman2@237-104-35-72.mtaonline.net)
[18:40:33] *** Joins: fling (~fling@user/fling)
[18:40:44] *** Quits: dea_ (~dea_@178.211.43.68) (Read error: Connection reset by peer)
[18:41:40] *** Quits: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[18:42:00] <Soliton> it's ugly to explicitely test a command, maybe even give a more useful error message instead of set -e and you have no idea what the goal is just "maybe terminate at some point"?
[18:42:39] *** Joins: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[18:42:39] <jelly> https://github.com/systemd/systemd/commit/7629744a3dbca313b55882d3a63135b2a9b27805 other scripts have set -e as well
[18:45:27] <jelly> seem to just be build helper bits, probably never used directly
[18:45:36] *** Quits: sarantos (~sarantos@46-118-6.adsl.cyta.gr) (Ping timeout: 250 seconds)
[18:46:05] *** Joins: steven_saus (~steven_sa@pool-71-112-170-131.pitbpa.fios.verizon.net)
[18:47:11] <Soliton> also missing quotes. what's new...
[18:47:30] *** Quits: wedwards (~wedwards@46.44.154.209) (Quit: Textual IRC Client: www.textualapp.com)
[18:55:14] *** Joins: uuidNuniq (~weechat@89.208.244.119.16clouds.com)
[18:56:08] *** Quits: _val_ (~valentin@82-169-14-137.biz.kpn.net) (Killed (NickServ (GHOST command used by _val__!~valentin@213.108.29.31)))
[18:56:08] *** Joins: Quasimodo (~Quasimodo@user/Quasimodo)
[18:57:24] *** Joins: nvmd (~weechat@user/nvmd)
[18:58:46] *** Quits: shad (~shad@user/shad) (Ping timeout: 268 seconds)
[18:59:29] *** Joins: wuseman (~wuseman@81-236-212-19-no68.tbcn.telia.com)
[18:59:50] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[18:59:58] *** Quits: wuseman (~wuseman@81-236-212-19-no68.tbcn.telia.com) (Changing host)
[18:59:58] *** Joins: wuseman (~wuseman@user/wuseman)
[19:00:32] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[19:00:36] *** Quits: Sulky (~Sulky@2a04:cec0:10bf:bd9e:c38f:f007:19ad:694f) (Read error: Connection reset by peer)
[19:02:34] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[19:02:47] *** Joins: dionysus69 (~Thunderbi@176.221.255.69)
[19:04:30] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[19:04:34] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[19:04:34] *** Joins: iliv (~iliv@user/iliv)
[19:04:56] *** Joins: ExeciN (~ExeciN@user/nicexe)
[19:05:43] <aog> test -x /proc/40713/cmdline && echo "true"
[19:05:50] <aog> shouldn't this return true if the file exists?
[19:06:14] <xmb> im not sure cmdline is +x
[19:06:19] *** Joins: sarantos (~sarantos@46-118-6.adsl.cyta.gr)
[19:06:32] <aog> oh so that checks for executable
[19:06:37] <aog> can I check for file exists?
[19:06:45] <xmb> -f
[19:06:46] <Soliton> # help test
[19:06:46] <shbot> Soliton: test: test [expr] -- http://ix.io/aQl
[19:06:50] <aog> thank you
[19:07:45] *** Quits: chomwitt (~chomwitt@2a02:587:dc19:3600:a66b:8309:cc51:32) (Ping timeout: 248 seconds)
[19:09:11] *** Quits: storm_ (~storm@78.173.231.178) (Quit: Leaving)
[19:12:53] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 260 seconds)
[19:13:31] *** Joins: ZedHedTed (~ZedHedTed@user/zedhedted)
[19:14:41] *** Quits: Quasimodo (~Quasimodo@user/Quasimodo) (Ping timeout: 248 seconds)
[19:18:50] *** Joins: rgrinberg (~textual@177.248.158.166)
[19:22:19] *** Joins: sinaowolabi_ (~SinaOwola@105.112.31.50)
[19:22:23] *** Quits: dea__ (~dea_@178.211.43.68) (Read error: Connection reset by peer)
[19:22:32] *** Joins: Csm319_ (~csm3105@31.4.136.151)
[19:22:42] *** Joins: dea__ (~dea_@178.211.43.68)
[19:23:45] *** Quits: lapsi (~lapsi@85.14.25.194) (Quit: Bye bye people :))
[19:24:34] *** Quits: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[19:25:11] *** Quits: Csm319_ (~csm3105@31.4.136.151) (Read error: Connection reset by peer)
[19:25:16] *** Quits: Earnestly (~earnest@user/earnestly) (Read error: Connection reset by peer)
[19:25:17] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 268 seconds)
[19:25:18] *** Joins: dea_ (~dea_@178.211.43.68)
[19:26:46] *** Joins: jkwnki (~jkwnki@p4ff31c99.dip0.t-ipconnect.de)
[19:26:53] *** Joins: Csm319_ (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[19:27:45] *** Quits: dea__ (~dea_@178.211.43.68) (Ping timeout: 268 seconds)
[19:29:14] *** Quits: bertvvvs (~bertvvvs@user/bertvvvs) (Quit: Y'all have a nice day.)
[19:29:24] *** Joins: Earnestly (~earnest@user/earnestly)
[19:29:56] *** Quits: llanhmod (~personnel@user/domhnall/x-2887755) (Quit: leaving)
[19:30:58] <lockywolf> Is there a way to zip two arrays into an associative array?
[19:31:15] <lockywolf> Or a convenient way to iterate over two arrays
[19:31:20] <twkm> a loop.
[19:31:20] *** Joins: clime (~clime@78-80-97-243.customers.tmcz.cz)
[19:31:27] *** Quits: Dereckson (~dereckson@wikimedia/Dereckson) (Quit: Lost terminal)
[19:31:50] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56)
[19:32:17] *** Joins: knstn (~knstn@ppp-94-66-57-79.home.otenet.gr)
[19:33:12] <twkm> if you mean you want to use them in sync that's on you to have used identical indexes.
[19:33:53] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 248 seconds)
[19:34:59] *** Joins: jlj_ (~jlj@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net)
[19:35:08] *** Joins: iomari891 (~iomari891@105.112.138.38)
[19:35:09] *** Quits: sinaowolabi_ (~SinaOwola@105.112.31.50) (Ping timeout: 268 seconds)
[19:35:26] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[19:35:55] *** Joins: chomwitt (~chomwitt@athedsl-31881.home.otenet.gr)
[19:35:57] <twkm> for ix in "${!a[@]}"; do ... a[ix] ... b[ix] ... "${a[ix]}" ... "${b[ix]}"
[19:36:48] <lockywolf> mm, looks good enough
[19:39:04] *** Joins: Asgaroth (~Asgaroth@93.107.191.92)
[19:39:27] *** Joins: \\Mr_C\\ (mrc@cpe-75-187-191-230.neo.res.rr.com)
[19:39:38] <Earnestly> (zsh has zip PEs lol)
[19:42:06] *** Quits: n4dir (~user@i5E86C589.versanet.de) (Remote host closed the connection)
[19:42:38] <Earnestly> > a=(1 2 3) b=(4 5 6 7); print "[${a:^b}] [${a:^^b}]" # => [1 2 3 4] [1 2 3 4 1 2 3 5 1 2 3 6 1 2 3 7]
[19:43:22] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[19:43:48] *** Quits: fling (~fling@user/fling) (Remote host closed the connection)
[19:44:04] *** Joins: fling (~fling@user/fling)
[19:46:09] *** Quits: tccki (~tccki@box.webslate.co.nz) (Ping timeout: 248 seconds)
[19:46:45] *** Joins: tccki (~tccki@box.webslate.co.nz)
[19:48:49] *** Quits: CodePoint (~CodePoint@2607:fb90:c6c:212b:db7:c3d6:d4e7:5a73) (Ping timeout: 248 seconds)
[19:49:32] *** Quits: aaro (aaro@user/aaro) (Remote host closed the connection)
[19:50:29] *** Joins: sinaowolabi_ (~SinaOwola@105.112.189.147)
[19:51:02] *** Quits: xmb (~xmb@65.108.1.186) (Quit: BitchX: the un-Cola)
[19:53:11] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[19:54:53] *** Quits: nortoh (~nortoh@user/nortoh) (Ping timeout: 268 seconds)
[19:55:34] *** Joins: mihaiadrian (~Thunderbi@82.76.223.244)
[19:56:15] *** Joins: nortoh (~nortoh@bishop.xerrero.com)
[19:56:15] *** Quits: nortoh (~nortoh@bishop.xerrero.com) (Changing host)
[19:56:15] *** Joins: nortoh (~nortoh@user/nortoh)
[19:57:01] *** Joins: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[19:57:05] *** Quits: mihaiadrian (~Thunderbi@82.76.223.244) (Remote host closed the connection)
[19:57:37] *** Joins: mihaiadrian (~Thunderbi@82.76.223.244)
[19:59:48] *** Joins: joo-_ (~joo-_@80-62-116-70-mobile.dk.customer.tdc.net)
[19:59:48] *** Quits: joo-_ (~joo-_@80-62-116-70-mobile.dk.customer.tdc.net) (Changing host)
[19:59:48] *** Joins: joo-_ (~joo-_@fsf/member/joo--)
[20:00:12] *** Quits: nvmd (~weechat@user/nvmd) (Ping timeout: 272 seconds)
[20:00:17] *** Joins: tosemusername (~weechat@user/nvmd)
[20:00:54] *** Joins: srg (~srg@user/srg)
[20:01:29] *** tosemusername is now known as nvmd
[20:01:59] *** Joins: Sh4dowmonk (~textual@dynamic-046-114-171-017.46.114.pool.telefonica.de)
[20:02:00] *** Quits: sinaowolabi_ (~SinaOwola@105.112.189.147) (Read error: Connection reset by peer)
[20:03:03] *** Quits: Csm319_ (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Quit: Leaving)
[20:03:24] *** Joins: ChmEarl (~chmearl@user/chmearl)
[20:03:30] *** Joins: magla (~gelignite@d5363ac5.access.ecotel.net)
[20:03:35] *** Quits: mihaiadrian (~Thunderbi@82.76.223.244) (Quit: mihaiadrian)
[20:04:24] *** Joins: FluffyMask (~masque@user/fluffymask)
[20:05:22] *** Quits: idontnee_ (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Quit: Leaving...)
[20:06:00] *** Joins: vatralum (~vlumi@user/vatralum)
[20:06:03] *** Quits: cdman (~dcm@user/dmc/x-4369397) (Quit: Leaving)
[20:06:11] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56) (Ping timeout: 245 seconds)
[20:07:07] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[20:07:10] *** Quits: jkwnki (~jkwnki@p4ff31c99.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[20:07:37] *** Quits: ejjdhfjsu (~ejjdhfjsu@cmcust2a-85.240.nulinkdigital.com) (Remote host closed the connection)
[20:07:50] *** Joins: zebrag (~chris@user/zebrag)
[20:08:02] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Quit: WeeChat 3.6-dev)
[20:08:31] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[20:09:37] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 248 seconds)
[20:10:44] *** Joins: dea__ (~dea_@178.211.43.68)
[20:10:58] *** Quits: dea_ (~dea_@178.211.43.68) (Ping timeout: 272 seconds)
[20:12:49] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[20:13:08] *** Joins: ExeciN (~ExeciN@user/nicexe)
[20:13:59] *** Joins: shad (~shad@user/shad)
[20:15:22] *** Joins: richardm645 (~quassel@2600:8801:c502:f700:54c2:f248:57ec:d5ba)
[20:17:03] *** Quits: sinaowolabi (~SinaOwola@160.152.171.207) (Ping timeout: 260 seconds)
[20:17:40] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[20:19:41] *** Joins: sinaowolabi (~SinaOwola@105.112.181.127)
[20:19:49] *** Quits: magla (~gelignite@d5363ac5.access.ecotel.net) (Quit: Stay safe!)
[20:20:01] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.5)
[20:21:55] <zebrag> find . -exec sh -c 'grep -o "hello" <<< "$1"' _ {} \; # I'd have though this line would be syntactically correct, at least, but it says "_: 1: Syntax error: redirection unexpected"
[20:22:32] <Soliton> <<< is not posix.
[20:22:44] <zebrag> right
[20:23:14] <Soliton> if you want to pick files with hello in their name use -name '*hello*''
[20:23:55] *** Quits: Sh4dowmonk (~textual@dynamic-046-114-171-017.46.114.pool.telefonica.de) (Quit: Textual IRC Client: www.textualapp.com)
[20:23:56] <zebrag> what I want is to extract a pattern in the filenames
[20:24:08] *** Quits: sinaowolabi (~SinaOwola@105.112.181.127) (Read error: Connection reset by peer)
[20:24:23] *** Joins: Dereckson (dereckson@wikimedia/Dereckson)
[20:24:47] *** Quits: merijn (~merijn@c-001-001-001.client.esciencecenter.eduvpn.nl) (Ping timeout: 260 seconds)
[20:24:50] <zebrag> and I also want to limit to a time range with `-ctime -10`
[20:25:36] <Soliton> perhaps exclude newlines in filenames and pipe find to grep instead then.
[20:25:52] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[20:26:01] <zebrag> I could pipe the output of `find` to `xargs`, but I was wondering if I could do it with `-exec`
[20:26:07] <zebrag> okay then
[20:26:12] <zebrag> pipe it is
[20:26:20] <Soliton> why in the world would you include xargs?
[20:26:28] <twkm> ctime can be surprising.
[20:26:29] <zebrag> right
[20:26:38] <zebrag> no xargs
[20:26:51] *** Joins: sobkas (~sobkas@95.175.17.217)
[20:27:49] <twkm> e.g., chgrp, chmod, chown, and touch, to name a few, all cause it to change.
[20:29:16] <zebrag> I always use `ctime`. What I find surprising is `mtime`. Well, it depends, both are useful
[20:29:46] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[20:30:07] *** Quits: random_chimp[m] (~randomchi@2001:470:69fc:105::1:d31d) (Quit: You have been kicked for being idle)
[20:30:30] *** ansivirus_ is now known as ansivirus
[20:30:43] <twkm> i.e., ctime means metadata change time, not creation time as it seems many assume.
[20:32:25] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56)
[20:34:56] *** Joins: fspax (~fspax@46.148.141.211)
[20:35:40] *** Quits: masber (~masber@2001:620:808:1001::28f7) (Ping timeout: 250 seconds)
[20:35:52] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[20:37:39] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[20:37:58] *** Joins: didi (~user@user/didi)
[20:38:24] *** Joins: martinus__ (~martin@139.30.201.77.rev.sfr.net)
[20:39:24] *** Quits: roadie (~user@2a02:8108:5a40:1d87:2852:a755:9058:73b2) (Ping timeout: 240 seconds)
[20:40:02] *** Quits: sarantos (~sarantos@46-118-6.adsl.cyta.gr) (Quit: Client closed)
[20:40:43] <quesker> list="foo bar baz"; word=bar; how can I (in posix sh) do something like         $word in $list && continue
[20:41:10] *** Joins: sinaowolabi_ (~SinaOwola@160.152.171.207)
[20:41:31] <phy1729> !contains
[20:41:31] <greybot> To check if a var contains a substring: var='something here'; if [[ $var = *thing* ]]; then echo "$var contains 'thing'"; fi - See http://mywiki.wooledge.org/BashFAQ/041
[20:41:37] <phy1729> has a POSIX version in the link
[20:41:59] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:308b:ddf6:8a2a:9b9f)
[20:41:59] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:308b:ddf6:8a2a:9b9f) (Changing host)
[20:41:59] *** Joins: skapata (~Skapata@user/skapata)
[20:43:43] <quesker> thanks
[20:43:47] *** Quits: rgrinberg (~textual@177.248.158.166) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:44:36] *** Quits: nortoh (~nortoh@user/nortoh) (Ping timeout: 240 seconds)
[20:44:49] <quesker> does continue inside case do what you want it to do?
[20:45:03] *** Joins: TomyWork (~TomyLobo@p200300e80f158200f12e0ecc7b19eb6b.dip0.t-ipconnect.de)
[20:45:16] <Soliton> # help continue
[20:45:16] <shbot> Soliton: continue: continue [n] -- http://ix.io/aPM
[20:45:31] *** Joins: rgrinberg (~textual@177.248.158.166)
[20:45:47] <quesker> hmmmm   that link gives me a blank page
[20:45:52] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56) (Remote host closed the connection)
[20:46:03] <Soliton> you could type it in your shell.
[20:46:04] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:b532:727f:d346:1e56)
[20:46:18] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[20:46:37] <Soliton> why do you have this annoying list variable?
[20:46:54] <quesker> exclude users
[20:47:07] <quesker> if user in this list don't check them for compliance
[20:47:31] <Soliton> why is it in a single string?
[20:47:57] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[20:48:15] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[20:48:24] <quesker> if I answer that you will not like the injection issue
[20:48:40] <twkm> posix sh, instead of bash where you'd use an array.
[20:49:19] *** Joins: sinaowolabi__ (~SinaOwola@102.134.114.1)
[20:49:24] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 240 seconds)
[20:49:37] <quesker> this has to run on aix ksh.  they don't have bash everywhere.  I don't control what is installed on the machines
[20:50:06] *** Joins: fling (~fling@user/fling)
[20:50:19] <twkm> ksh has arrays.
[20:50:59] *** Parts: didi (~user@user/didi) (O bella ciao bella ciao bella ciao, ciao, ciao.)
[20:51:53] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[20:53:45] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[20:53:56] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[20:54:49] <quesker> typset -A myarr; for i in $list; do myarr["$i"] = 1; done; ...  $myarr["$user"] && continue     like that?    (not sure how to quote the array)
[20:54:50] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[20:55:14] <quesker> hmm no spaces around the = I guess too
[20:55:35] <twkm> "${myarr[$user]}"
[20:56:34] *** Quits: user24037 (~user47239@user/user282069) (Ping timeout: 272 seconds)
[20:57:52] <Earnestly> quesker: In posix sh you'd use set to construct $@, you will not try to implement arrays in posix sh
[20:58:08] *** Quits: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e) (Quit: AAAGH!  IT BURNS!)
[20:58:25] <quesker> this ksh doesn't seem to do typeset -A
[20:59:00] *** Joins: suss (~user@user/suss)
[20:59:19] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 260 seconds)
[20:59:27] *** Joins: roadie (~user@2a02:8108:5a40:1d87:659f:7916:3f1:4d01)
[20:59:32] *** Joins: bertvvvs (~bertvvvs@user/bertvvvs)
[20:59:37] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Quit: Quit)
[20:59:55] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[21:01:06] <twkm> associative would be nicest, but indexed is still cleaner than a single string.
[21:01:19] *** Joins: zer0bitz (~zer0bitz@2001:2003:f750:a200:5019:823:a50e:5ee6)
[21:02:12] <twkm> i.., ksh88 doesn't have -A, just -a (for which a typeset isn't needed but doesn't hurt)
[21:02:20] *** Joins: Minvera (~Minvera@user/Minvera)
[21:02:26] <twkm> heh, i.e.
[21:02:44] *** Quits: duxsco (~Thunderbi@user/duxsco) (Quit: duxsco)
[21:03:45] *** Joins: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[21:04:58] *** Quits: wolfshappen (~waff@irc.furworks.de) (Read error: Connection reset by peer)
[21:05:00] <Helmholtz> What is wrong with the following snippet? https://dpaste.com/3NTYVQTJ3
[21:05:03] *** Quits: roadie (~user@2a02:8108:5a40:1d87:659f:7916:3f1:4d01) (Ping timeout: 252 seconds)
[21:05:12] <Helmholtz> in cleanup, my_tmp_image is not visible (echo prints empty)
[21:06:17] <twkm> !check
[21:06:17] <checkbot> Helmholtz: Line 14: Expected a { to open the function definition. Line 13: Couldn't parse this function. Fix to allow more checks. Line 14: Fix any mentioned problems and try again. See https://shellcheck.net/?id=cb76577
[21:06:59] <Soliton> start with writing shell code.
[21:06:59] <Helmholtz> twkm, It's not a working snippet...just skeleton (i haven't even put the shebang)
[21:07:06] <twkm> *shrug*
[21:07:20] *** Quits: guys (~eschwartz@archlinux/bugwrangler/eschwartz) (Ping timeout: 246 seconds)
[21:07:29] <Soliton> ah, wild guesses on imaginary code. neat.
[21:09:17] *** Quits: zostj (~rue@61-231-128-168.dynamic-ip.hinet.net) (Quit: WeeChat 3.5)
[21:10:24] *** Quits: rgrinberg (~textual@177.248.158.166) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:10:34] *** Joins: ivanakis (~ivanakis@46.10.161.208)
[21:11:10] *** Joins: duxsco (~Thunderbi@user/duxsco)
[21:11:12] *** Joins: roadie (~user@2a02:8108:5a40:1d87:5cf8:a72c:3c54:3e05)
[21:13:18] *** Joins: nortoh (~nortoh@bishop.xerrero.com)
[21:13:18] *** Quits: nortoh (~nortoh@bishop.xerrero.com) (Changing host)
[21:13:18] *** Joins: nortoh (~nortoh@user/nortoh)
[21:13:24] <kurahaupo> Helmholtz: functions are invoked exactly the same way as ordinary commands; there are no brackets involved
[21:13:25] *** Quits: icedjava37 (~icedjava3@user/icedjava37) (Read error: Connection reset by peer)
[21:13:27] *** Joins: icedjava37_ (~icedjava3@ppp005055202222.access.hol.gr)
[21:13:56] *** Quits: icedjava37_ (~icedjava3@ppp005055202222.access.hol.gr) (Changing host)
[21:13:56] *** Joins: icedjava37_ (~icedjava3@user/icedjava37)
[21:14:08] <Helmholtz> kurahaupo, I know, here is a runnable script. But this one works https://dpaste.com/4JYAG5VJB
[21:14:40] *** icedjava37_ is now known as icedjava37
[21:15:37] *** Quits: TomyWork (~TomyLobo@p200300e80f158200f12e0ecc7b19eb6b.dip0.t-ipconnect.de) (Changing host)
[21:15:37] *** Joins: TomyWork (~TomyLobo@user/TomyLobo)
[21:16:54] *** Quits: MajorBiscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e) (Ping timeout: 268 seconds)
[21:17:36] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[21:18:06] <quesker> if I used the indexed array how would I continue the outer loop?
[21:18:08] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[21:18:12] <twkm> !check
[21:18:13] <checkbot> twkm: Looks good to me
[21:18:27] <quesker> continue takes a parameter?  like continue 2?  1 is default?
[21:20:03] <quesker> hopefully that is posix.
[21:20:30] <quesker> hmm why bother I am just going to use the case.  works fine for this
[21:20:39] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Quit: rewrit3)
[21:20:45] <Earnestly> (continue [n] is posix, yep)
[21:20:48] *** Joins: zostj (~rue@61-231-128-168.dynamic-ip.hinet.net)
[21:20:51] <quesker> thanks
[21:25:23] <Helmholtz> I'm writing cookies to file system. What's the most ubuquitos way to encrypt it?
[21:25:31] *** Joins: user24037 (~user47239@mail.ultronoarena.com)
[21:25:32] *** Quits: user24037 (~user47239@mail.ultronoarena.com) (Changing host)
[21:25:32] *** Joins: user24037 (~user47239@user/user282069)
[21:25:44] <Helmholtz> I mean what's a good tool which is available on most systems like grep
[21:26:12] <quesker> I am not getting that !contains thing anyway.     list="foo bar baz"; [[ foo = "*$list*" ]] && echo found
[21:26:59] <quesker> oh I had it backwards.    but    list="foo bar baz"; [[ "$list" = *fo* ]] && echo found
[21:27:09] *** Quits: tobybl_ (~tobybl@132.202.200.146.dyn.plus.net) (Remote host closed the connection)
[21:27:33] <quesker> so I guess I need the array after all
[21:28:06] <quesker> or make that fake associative array with eval
[21:28:08] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Quit: ZNC 1.8.2 - https://znc.in)
[21:28:26] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[21:28:36] *** Joins: rgrinberg (~textual@177.248.158.166)
[21:29:11] <kurahaupo> quesker: include spaces around " $list " inside the test
[21:29:41] <kurahaupo> [[ " $list " = *" foo "* ]]
[21:30:00] <kurahaupo> or whatever the delimiter is
[21:30:29] *** Quits: ZedHedTed (~ZedHedTed@user/zedhedted) (Remote host closed the connection)
[21:30:38] <kurahaupo> eg [[ ":$PATH:" = *":$HOME/bin:"* ]]
[21:30:44] *** Joins: ZedHedTed (~ZedHedTed@user/zedhedted)
[21:30:46] <quesker> hmm then I need to add spaces at begin and end of string?
[21:31:05] <quesker> list=" $list "
[21:31:16] <kurahaupo> quesker: If you only want to match whole words, yes
[21:31:26] <quesker> ok that seems easiest thanks
[21:31:40] <kurahaupo> you don't need to modify the var, just when you test it
[21:31:41] *** Joins: guys (~eschwartz@archlinux/bugwrangler/eschwartz)
[21:32:02] *** Joins: n4dir (~user@i5E86C589.versanet.de)
[21:32:03] <kurahaupo> Also consider using an associative array instead of a string
[21:32:38] <twkm> ksh88, no associative arrays.
[21:33:29] <kurahaupo> Or an ordinary array with a value of IFS that you first check did not appear in any value
[21:35:19] <quesker> I wish I had asked this like 13 years ago
[21:35:41] <llua> what version of aix are you on that you don't have ksh93
[21:36:35] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[21:37:07] *** Quits: vatralum (~vlumi@user/vatralum) (Quit: Quit)
[21:37:13] <quesker> 7.1
[21:37:23] *** Joins: Kyuzo68 (~Kyuzo@host-82-58-206-202.retail.telecomitalia.it)
[21:37:28] <kurahaupo> quesker: Unless you know in advance that the delimiter can't appear in any value, the string match approach gives you a quick way to say "no", but still requires a search to confirm "yes"
[21:37:59] <llua> you def have ksh93 as the ksh93 binary
[21:38:54] <quesker> hmm am I doing it wrong?  typeset -A foo    ksh: typeset: 0403-010 A specified flag is not valid for this command.
[21:39:29] <llua> type `ksh93'
[21:39:34] <quesker> well
[21:40:21] <quesker> this is /usr/bin/sh which is ksh.  I suppose I could jump through some hoops to get a different ksh but really what a pain
[21:40:47] *** Quits: jpn (~jpn@user/jpn) (Ping timeout: 252 seconds)
[21:41:55] *** Joins: aaro (~aaro@user/aaro)
[21:42:08] <kurahaupo> Does ksh go into "POSIX compatibility mode" when invoked as "sh"?
[21:42:15] *** Joins: jpn (~jpn@user/jpn)
[21:42:40] <quesker> I also tried running "ksh" and get the same thing and the manpage for sh says it is ksh so I don't think so
[21:43:01] <quesker> the space case thing is fine for this though
[21:43:25] <llua> assuming sh has [[ is weird; but do you.
[21:43:45] <quesker> no I am not using [[
[21:43:59] <quesker> that was just to understand the !contains
[21:44:19] *** Joins: troyt_ (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[21:44:39] *** Quits: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e) (Ping timeout: 252 seconds)
[21:44:59] <quesker> I should be more careful and stick to posix or bash for an entire thread here sorry
[21:45:00] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[21:45:33] <zebrag> twkm: when you add old photographs to a directory, the way to find them using the information that they are "recent", is through `ctime` I believe. And I think it's a pity this functionality is never available in file managers, which offer only `mtime`.
[21:46:16] <zebrag> same reason as the one invoked here https://unix.stackexchange.com/a/658886
[21:47:06] <zebrag> so, yes, I use `ctime` a lot
[21:48:22] *** Joins: moetuned (~Jean-luc@203-219-148-229.tpgi.com.au)
[21:49:13] *** Quits: moetunes (~Jean-luc@220.240.229.58) (Ping timeout: 260 seconds)
[21:50:44] *** Quits: jpn (~jpn@user/jpn) (Ping timeout: 246 seconds)
[21:51:03] *** Quits: lessshaste (~lesshaste@82-69-126-43.dsl.in-addr.zen.co.uk) (Remote host closed the connection)
[21:51:14] *** Joins: lessshaste (~lesshaste@82-69-126-43.dsl.in-addr.zen.co.uk)
[21:51:51] *** Joins: john_johnk (~Thunderbi@2a02-8428-013e-4001-34c0-6b46-48d2-8b78.rev.sfr.net)
[21:51:55] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[21:52:14] *** Joins: fling (~fling@user/fling)
[21:53:53] *** Quits: aead (~aead@user/aead) (Ping timeout: 260 seconds)
[21:58:47] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[21:58:52] *** Quits: sobkas (~sobkas@95.175.17.217) (Remote host closed the connection)
[21:59:28] *** Joins: sobkas (~sobkas@95.175.17.217)
[21:59:43] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[21:59:48] *** Joins: Payam (~Payam@c83-250-236-236.bredband.tele2.se)
[22:00:17] *** Quits: Payam (~Payam@c83-250-236-236.bredband.tele2.se) (Remote host closed the connection)
[22:00:55] *** Joins: LuKaRo_ (~LuKaRo@p4fc32565.dip0.t-ipconnect.de)
[22:01:18] *** Quits: LuKaRo (~LuKaRo@p200300dfa72b1d372a0e3d5e954163f2.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[22:02:56] <twkm> i'd use mtime.  ut as you like.
[22:03:06] <twkm> err, but as you like.
[22:03:19] *** Quits: yhnujmikV (~yhnujmikV@193.138.218.215) (Quit: WeeChat 3.5)
[22:08:12] *** Joins: XV8 (~XV8@2601:5cb:c001:50::13f0)
[22:11:20] *** Joins: ExeciN (~ExeciN@user/nicexe)
[22:12:24] *** Quits: TomyWork (~TomyLobo@user/TomyLobo) (Quit: Leaving)
[22:13:01] *** Joins: Payam (~Payam@c83-250-236-236.bredband.tele2.se)
[22:13:42] <Payam> last time people were at me here except a few ones. But now I have taken bash seriously and will hold a session for my colluges at work.
[22:13:52] <Payam> a interactive workshop/tutorial session.
[22:14:05] <Payam> about bash and I use the bash guide that is stated in topic.
[22:14:18] <Payam> so to those who made fun of me last me time: IN YOUR FACE
[22:14:34] <lopid> their mothers?
[22:15:46] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[22:17:00] *** Quits: steven_saus (~steven_sa@pool-71-112-170-131.pitbpa.fios.verizon.net) (Ping timeout: 240 seconds)
[22:19:24] *** Joins: steven_saus (~steven_sa@pool-71-112-170-131.pitbpa.fios.verizon.net)
[22:20:02] *** Quits: zostj (~rue@61-231-128-168.dynamic-ip.hinet.net) (Quit: WeeChat 3.5)
[22:20:06] *** Joins: jpn (~jpn@user/jpn)
[22:21:15] <Payam> no why would I drag in someone's mom into this?
[22:21:18] *** Quits: dionysus69 (~Thunderbi@176.221.255.69) (Ping timeout: 260 seconds)
[22:21:18] <Payam> are you stupid?
[22:22:53] *** Quits: chomwitt (~chomwitt@athedsl-31881.home.otenet.gr) (Ping timeout: 268 seconds)
[22:23:56] *** Quits: Payam (~Payam@c83-250-236-236.bredband.tele2.se) (Quit: Leaving)
[22:24:25] *** Joins: funhouse (~funhouse@user/funhouse)
[22:25:39] *** Joins: seninha (~seninha@user/seninha)
[22:27:07] *** Quits: uuidNuniq (~weechat@89.208.244.119.16clouds.com) (Remote host closed the connection)
[22:27:23] *** Quits: duxsco (~Thunderbi@user/duxsco) (Quit: duxsco)
[22:27:27] *** Joins: uuidNuniq (~weechat@89.208.244.119.16clouds.com)
[22:27:38] *** Quits: ivanakis (~ivanakis@46.10.161.208) (Quit: Leaving)
[22:28:15] *** Joins: chomwitt (~chomwitt@athedsl-20549.home.otenet.gr)
[22:30:45] *** Joins: ExeciN (~ExeciN@user/nicexe)
[22:31:45] <emg> wtf was that?
[22:32:59] <omegatron> no idea
[22:34:29] *** Quits: nortoh (~nortoh@user/nortoh) (Ping timeout: 246 seconds)
[22:34:38] <Earnestly> https://blog.cloudflare.com/pipefail-how-a-missing-shell-option-slowed-cloudflare-down/
[22:34:50] *** Joins: SQ9KQS (tpajdzik@magellan.pajdzik.ovh)
[22:34:55] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[22:34:58] <Earnestly> Not only did they add pipefile, they added -eu as well.
[22:35:12] <Earnestly> Links to https://sipb.mit.edu/doc/safe-shell/
[22:35:22] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[22:35:38] *** Joins: Xplorator (~Xplorator@176.166.206.65)
[22:35:42] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[22:35:50] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 268 seconds)
[22:36:35] *** Quits: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net) (Ping timeout: 246 seconds)
[22:36:48] *** Joins: duxsco (~Thunderbi@user/duxsco)
[22:36:55] *** Joins: Macbethwin (~chargen@8.31.163.87)
[22:37:43] *** Joins: Payam (~Payam@c83-250-236-236.bredband.tele2.se)
[22:37:50] *** Macbethwin is now known as Chargen
[22:38:13] *** Quits: aaro (~aaro@user/aaro) (Ping timeout: 260 seconds)
[22:39:24] <phy1729> !graduated > cloudflare
[22:39:24] <greybot> cloudflare: Congratulations! You've graduated to needing to use a real language!
[22:39:31] *** Quits: jpn (~jpn@user/jpn) (Ping timeout: 245 seconds)
[22:39:57] *** Joins: didi (~user@user/didi)
[22:40:55] *** Joins: TerminalTapper (~TerminalT@75.165.57.243)
[22:42:11] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 246 seconds)
[22:43:51] <Earnestly> phy1729: I mean have they?
[22:44:11] *** Quits: Kyuzo68 (~Kyuzo@host-82-58-206-202.retail.telecomitalia.it) (Quit: Konversation terminated!)
[22:44:14] *** Joins: nortoh (~nortoh@bishop.xerrero.com)
[22:44:14] *** Quits: nortoh (~nortoh@bishop.xerrero.com) (Changing host)
[22:44:14] *** Joins: nortoh (~nortoh@user/nortoh)
[22:44:18] <Earnestly> phy1729: The problem seems pretty simple to me
[22:44:29] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[22:44:34] <Earnestly> Their 'solution' doesn't even fix it
[22:45:04] <phy1729> I noticed that too
[22:45:08] <Earnestly> Because the real problem is their conf command returning an empty stdout, it happens also exit < 1 in this event, so pipefail "works"
[22:45:20] <phy1729> They seems to misunderstand how pipes work in parallel not serial
[22:46:26] <Earnestly> And then they mull the idea of how if an error string was sent it would be rejected
[22:46:36] <Earnestly> Which implies they think errors can appear on stdout
[22:47:07] <phy1729> or that 2>&1 would have "fixed" it too
[22:47:22] <Earnestly> I can't quite fathom this to be quite frank.  How can they get such basic things so horribly wrong yet be their position to be tinkering on ebpf at the kernel level
[22:47:32] <Earnestly> be in*
[22:48:00] <Earnestly> Like a physicist who can't do mental arithmetic; it's possible, but so unlikely
[22:48:27] *** Joins: [twisti] (~twisti@toadwater.com)
[22:48:30] <phy1729> mathematicans can't; they need accountant coprocessors
[22:48:38] <[twisti]> i have a crontab job that for some reason i dont understand produces mail
[22:48:47] <[twisti]> `/usr/local/bin/docker-compose pull 2>&1 >/dev/null`
[22:48:49] <Earnestly> phy1729: And apparently they can't tolerate blocking IO because the issue was a timeout
[22:48:59] <[twisti]> should that not redirect all output to null ?
[22:49:08] <Earnestly> phy1729: Also I have this really weird feeling where I hear about such infrastructure running on cron lol
[22:49:09] <phy1729> [twisti]: you got the order backwards
[22:49:12] <Soliton> !2>&1
[22:49:12] <greybot> Making sense of the copy descriptor operator: http://wiki.bash-hackers.org/scripting/copydescriptor
[22:49:13] <phy1729> !2>&1
[22:49:13] <greybot> Making sense of the copy descriptor operator: http://wiki.bash-hackers.org/scripting/copydescriptor
[22:49:22] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[22:49:30] <Earnestly> >  I mentioned that our Kubernetes cron job only runs on the 10th minute of every hour?
[22:49:32] <Earnestly> Chills
[22:49:50] <[twisti]> phy1729: thanks, i thought the order didnt matter, my bad
[22:50:38] <Earnestly> [twisti]: It doesn't matter so much where it appears in the command-line, but the order of operations where it does appear do
[22:50:52] <[twisti]> makes sense
[22:50:54] <Earnestly> [twisti]: You could do: 2>&1 > /dev/null cmd
[22:51:02] <Earnestly> < file cmd
[22:52:27] *** Joins: The_Loko (~The_Loko@79.116.41.227)
[22:52:38] *** Quits: derpadmin (~Anonymous@homebase.200013.net) (Quit: leaving)
[22:52:50] *** Joins: blei (~blei@user/blei)
[22:53:31] *** Joins: jkwnki (~jkwnki@p4ff31c99.dip0.t-ipconnect.de)
[22:53:49] <Earnestly> phy1729: Won't lie though, I spent a long time in the illusion that pipes run one after the other
[22:54:04] <Soliton> so dozens of cloudfare engineers analyzed the issue and they only figured out nonsense? i guess just the usual !crap...
[22:54:56] <Earnestly> Soliton: What really stuck out to me is that they got this wrong but were quick to suggest the usual -euo pipefile dogma as if they had any authority to do so
[22:55:07] <Earnestly> So now another article prompts this bad idea
[22:55:45] <Earnestly> promotes*
[22:56:18] *** Quits: Sauvin (~sauvin@about/linux/staff/sauvin) (Ping timeout: 260 seconds)
[22:56:55] <Soliton> well, easy to find others suggesting it so if you think you found the issue...
[22:56:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[22:57:04] <Soliton> however it's trivial to verify.
[22:57:14] <Soliton> clearly they haven't done that.
[22:57:25] *** Quits: didi (~user@user/didi) (Ping timeout: 268 seconds)
[22:58:09] *** Joins: fling (~fling@user/fling)
[22:58:42] *** Joins: wolfshappen (~waff@irc.furworks.de)
[22:59:33] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[22:59:58] <Earnestly> (I know that from their perspective this isn't really about bash per-se, in the bigger picture it was a bunch of surprising dependencies that caused cascading failure.)
[23:01:16] *** Quits: curvv (~quetzlcoa@user/curvv) (Read error: Connection reset by peer)
[23:02:26] *** Joins: dtux (~dtux@2601:646:8f00:3f2:3c69:11c3:6371:e550)
[23:02:31] *** Quits: TerminalTapper (~TerminalT@75.165.57.243) (Ping timeout: 260 seconds)
[23:04:13] <Soliton> sure there were apparently multiple issues and it sounds like they properly dealt with the other ones but they clearly didn't fix the issue of possibly emptying that key.
[23:04:18] *** Joins: curvv (~quetzlcoa@192-143-24-69.ip.airmobile.co.za)
[23:04:18] *** Quits: curvv (~quetzlcoa@192-143-24-69.ip.airmobile.co.za) (Changing host)
[23:04:18] *** Joins: curvv (~quetzlcoa@user/curvv)
[23:05:20] <Earnestly> They do tacitly suggest an empty document is valid toml, but clearly it's not valid for their case lol
[23:05:22] <Soliton> (and nothing in the shell will fix it unless you save the data and inspect it before passing it to dosctl.)
[23:05:59] <Soliton> yeah, it sounds like they need an option or something to make empty input invalid.
[23:06:15] *** Joins: jpn (~jpn@user/jpn)
[23:07:55] <welder> How to erase \n from the od of a file?
[23:08:00] <welder> end*
[23:08:03] <twkm> ewww.
[23:08:20] <Soliton> a file editor is handy to edit files.
[23:08:23] <twkm> make the last line a non-line?  doesn't seen rational.
[23:08:36] <Soliton> yeah, seems like a weird goal.
[23:08:38] <Earnestly> Also UB in C if part of included source translation unit
[23:08:45] <welder> i cant do it in vim
[23:08:51] <Earnestly> vim has noeol
[23:08:58] <twkm> you can.  #vim k... oh well.
[23:08:59] <welder> i see in xxd that it was 0a as last byte but vi does not show it
[23:09:04] <Earnestly> welder: It's not a normal thing to do
[23:09:07] <welder> i used truncate with 1 byte less than stat shown, lol
[23:09:08] *** Quits: dtux (~dtux@2601:646:8f00:3f2:3c69:11c3:6371:e550) (Ping timeout: 260 seconds)
[23:09:20] <twkm> lines aren't lines without that terminator.
[23:09:20] <Soliton> what is the actual issue?
[23:09:22] <welder> yes im aware but im generating testcases for a program
[23:09:24] *** Quits: NoelFlantier3 (~Hubert@195.201.244.189) (Quit: Ping timeout (120 seconds))
[23:09:38] <Soliton> so generate them properly?
[23:09:55] <djph> Soliton: easier said than done.
[23:10:04] <Soliton> printf 'weird\ndata' > testfile'
[23:11:27] <Earnestly> This is what I do
[23:13:10] <welder> uh oh i see where it came from
[23:13:41] *** Quits: jpn (~jpn@user/jpn) (Ping timeout: 246 seconds)
[23:15:07] *** Quits: Chargen (~chargen@8.31.163.87) (Remote host closed the connection)
[23:15:18] <ELFrederich> is there a recipe for only having a single invocation of a function or script going at a time?
[23:15:51] *** Joins: Chargen (~chargen@8.31.163.87)
[23:16:03] <Soliton> !faq mutual
[23:16:04] *** Quits: chomwitt (~chomwitt@athedsl-20549.home.otenet.gr) (Ping timeout: 260 seconds)
[23:16:04] <greybot> https://mywiki.wooledge.org/BashFAQ/045 -- How can I ensure that only one instance of a script is running at a time (mutual exclusion, locking)?
[23:16:21] *** Quits: rgrinberg (~textual@177.248.158.166) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:16:41] <Soliton> perhaps you should just not call it multiple times in parallel.
[23:16:53] *** Quits: Chargen (~chargen@8.31.163.87) (Remote host closed the connection)
[23:17:18] *** Joins: Chargen (~chargen@8.31.163.87)
[23:17:22] *** Joins: chomwitt (~chomwitt@athedsl-369869.home.otenet.gr)
[23:17:53] *** Quits: Mo (~Mo@dynamic-077-010-060-112.77.10.pool.telefonica.de) (Ping timeout: 260 seconds)
[23:17:59] <ELFrederich> Soliton, https://bpa.st/OPOA
[23:18:19] <ELFrederich> I just realized I also want it to happen in the background, some long running commands.
[23:18:24] *** Joins: NoelFlantier3 (~Hubert@195.201.244.189)
[23:18:30] *** Quits: Chargen (~chargen@8.31.163.87) (Remote host closed the connection)
[23:18:30] <Soliton> !check
[23:18:31] <checkbot> ELFrederich: Line 13: Double quote to prevent globbing and word splitting. Line 23: Double quote to prevent globbing and word splitting. Line 25: Double quote to prevent globbing and word splitting. See https://shellcheck.net/?id=cb84511
[23:18:53] <Soliton> so why do you call the long running command multiple times?
[23:19:05] *** Joins: Chargen (~chargen@8.31.163.87)
[23:19:18] <Soliton> looks like an infinite loop so just let it run...
[23:19:42] <ELFrederich> I want it to execute whenever there is a bad ping, but never more than one at a time
[23:20:15] <ELFrederich> Soliton, as written... because the mtr and traceroute take time to execute I'm not sure exactly how long these things are failing for.
