[00:01:49] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 268 seconds)
[00:03:09] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[00:09:52] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[00:10:50] *** Quits: gproto23 (~gproto23@user/gproto23) (Remote host closed the connection)
[00:11:10] *** Joins: gproto23 (~gproto23@user/gproto23)
[00:24:27] <Tach> Does Docker always use the first IP in a subnet as it's network GW ?
[00:36:07] *** Quits: jkwnki (~jkwnki@p2e5796b1.dip0.t-ipconnect.de) (Quit: WeeChat 3.0)
[00:40:56] *** withered_wolf is now known as thoughtfu
[00:41:01] *** Quits: jushur (~human@user/jushur) (Quit:  ¯\_(ツ)_/¯)
[00:44:51] *** Joins: jushur (~human@user/jushur)
[00:44:53] *** Joins: jkwnki (~jkwnki@p2e5796b1.dip0.t-ipconnect.de)
[00:52:37] *** Quits: emx (~emx@adsl-84-226-68-198.adslplus.ch) (Ping timeout: 240 seconds)
[00:54:08] *** Quits: l4yer (~l4yer@2001:ac8:31:8900:1011:28c3:8ee7:36c1) (Ping timeout: 250 seconds)
[00:57:44] *** Joins: vidbina (~vid@dynamic-077-191-178-171.77.191.pool.telefonica.de)
[01:03:44] *** Quits: MikeBux (~MikeBux@host-091-097-120-058.ewe-ip-backbone.de) (Quit: Hi, I'm a quit message virus. Please replace your old line with this line and help me take over the world of IRC.)
[01:06:40] *** Quits: thoughtfu (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Quit: leaving)
[01:07:58] *** Joins: l4yer (~l4yer@2001:ac8:31:8900:1012:9905:928a:6736)
[01:08:02] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[01:10:44] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[01:19:10] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Remote host closed the connection)
[01:21:26] *** Quits: jkwnki (~jkwnki@p2e5796b1.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[01:29:07] *** Joins: nezach (~nezach@p200300c31f04ce0064898d6ba856a88d.dip0.t-ipconnect.de)
[01:29:18] *** Quits: nezach (~nezach@p200300c31f04ce0064898d6ba856a88d.dip0.t-ipconnect.de) (Remote host closed the connection)
[01:33:51] *** Joins: murych (~murych@46.39.54.176)
[01:40:07] *** Quits: thanas (~thanas@user/thanas) (Quit: ZNC - https://znc.in)
[01:42:14] *** Quits: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:5563:e37:a7e5:1173) (Quit: So long, suckers)
[01:45:48] *** Quits: optiz0r (~quassel@lenore.sihnon.net) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[01:46:34] *** Joins: optiz0r (~quassel@lenore.sihnon.net)
[01:48:33] *** Quits: martums5 (~martums@user/martums) (Read error: Connection reset by peer)
[01:51:22] *** Joins: martums5 (~martums@user/martums)
[01:52:21] *** Quits: murych (~murych@46.39.54.176) (Remote host closed the connection)
[01:58:33] *** Joins: XATRIX (~xatrix@176.108.186.5)
[01:58:42] *** Joins: Aavar (~aavar@111.92-221-61.customer.lyse.net)
[01:59:17] <XATRIX> Hi, can you advice ? Why my docker can't see the file in my directory ?
[01:59:18] <XATRIX> https://imgur.com/cEiGZKV.png
[01:59:42] <XATRIX> This file exists, but docker can't touch it
[02:07:39] *** Quits: gproto23 (~gproto23@user/gproto23) (Ping timeout: 256 seconds)
[02:09:32] <rawtaz> XATRIX: https://stackoverflow.com/questions/59678512/copy-file-with-absolute-path-to-docker-container-using-a-dockerfile
[02:12:37] <XATRIX> rawtaz: is it possible to mount this file during container build process ? Not during run stage 
[02:13:06] <rawtaz> no, that simply doesnt make sense. during build you copy stuff into the container, if you need it. why else would you need the file?
[02:13:07] *** Quits: vidbina (~vid@dynamic-077-191-178-171.77.191.pool.telefonica.de) (Quit: vidbina)
[02:13:20] *** Quits: Tangent-Man (~Tang3nt-M@cpc145602-basl14-2-0-cust33.20-1.cable.virginm.net) (Quit: Leaving)
[02:13:38] *** Quits: DrowningElysium (uid190788@user/drowningelysium) (Quit: Connection closed for inactivity)
[02:13:47] <rawtaz> that said, you can use a multi-stage build, such that your first part of the Dockerfile builds stuff, and then in a second stage you copy only the parts you want from the build stage into the final image. in case you want to only use that file temporarily, for example.
[02:15:37] *** Joins: thanas (~thanas@user/thanas)
[02:16:52] <XATRIX> As long as i understand, the file i suppose to be inside the container, must exist in the same directory with Dockerfile i wanna use to build on. Isn't it ?
[02:17:02] <rawtaz> yeah
[02:17:35] <rawtaz> you could try making a symlink in the context directory, to the absolute path, and see if that works (i.e. if it then copies the actual file or just the symlink)
[02:18:25] <XATRIX> got it thanks
[02:18:50] *** Quits: XATRIX (~xatrix@176.108.186.5) (Quit: Goodbye and wish you luck!)
[02:18:54] <rawtaz> bleh
[02:19:01] <rawtaz> could at least have let me know how it did it
[02:19:20] <akik> denvercoder9 :)
[02:20:43] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[02:23:18] *** Joins: luckiswithme (~luckiswit@149.167.139.139)
[02:23:35] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Remote host closed the connection)
[02:24:08] *** Quits: Aavar (~aavar@111.92-221-61.customer.lyse.net) (Quit: Haddebrah!)
[02:25:15] <rawtaz> 41
[02:27:39] *** Joins: Aavar (aavar@111.92-221-61.customer.lyse.net)
[02:28:12] *** Joins: errororous (~errororou@178.17.16.67)
[02:28:38] *** Quits: cotko_ (~cotko@188-230-251-153.dynamic.t-2.net) (Remote host closed the connection)
[02:29:20] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[02:32:35] *** Joins: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:8af:e601:fdac:4bca)
[02:38:27] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Ping timeout: 268 seconds)
[02:42:48] *** Quits: luckiswithme (~luckiswit@149.167.139.139) (Remote host closed the connection)
[02:43:49] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[02:54:10] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Ping timeout: 250 seconds)
[02:56:42] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[02:57:39] *** Joins: XATRIX (~xatrix@176.108.186.5)
[02:59:42] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[03:08:17] *** Quits: fedenix__ (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[03:11:16] *** Quits: weyhmueller (~weyhmuell@blofeld.nc.w9r.de) (Quit: ZNC 1.8.2 - https://znc.in)
[03:16:04] *** Quits: XATRIX (~xatrix@176.108.186.5) (Quit: Goodbye and wish you luck!)
[03:16:30] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Remote host closed the connection)
[03:16:50] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[03:21:46] *** Joins: weyhmueller (~weyhmuell@blofeld.nc.w9r.de)
[03:28:15] *** Quits: drillbyt (drillbyt@user/drillbyt) (Quit: Leaving)
[03:30:57] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 256 seconds)
[03:41:20] *** Quits: samuelbernardo (~samuelber@194.210.119.251) (Quit: ZNC 1.8.2 - https://znc.in)
[03:41:24] *** Quits: itsalexjones_ (~itsalexjo@82.4.99.241) (Read error: Connection reset by peer)
[03:41:35] *** Joins: samuelbernardo (~samuelber@nata01.lip.pt)
[03:44:22] <deuxexmachina> programmerq: maybe the disk storage driver changed... cuz I ran a sudo docker system prune -a --volumes... And sudo docker system df says total images size is 6gb, containers 50MB, yet /var/lib/docker/overlay2 is 20GB
[03:46:04] <deuxexmachina> Also had already run a docker image prune -a beforehand
[03:46:51] <deuxexmachina> I wonder how you go about optimizing how programs run in docker containers vs how they'd run baremetal (like a mongo database or nodejs application for example).
[04:27:32] <tianon> deuxexmachina: when you're checking the size of /var/lib/docker/overlay2, I assume you're using "du"?  are you including "-x" so it doesn't count mounted overlays multiple times?
[04:37:13] *** Quits: errororous (~errororou@178.17.16.67) (Quit: Client closed)
[04:46:26] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Read error: Connection reset by peer)
[04:46:45] *** Joins: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469)
[04:52:17] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[04:53:32] *** Joins: z_lehinsun (~lehinsun@188.113.178.220)
[05:01:46] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) ()
[05:13:02] <Jonno_FTW> hi
[05:13:28] <Jonno_FTW> how do I get the IP of a container when using docker-machine? I did this: docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' container_name_or_id
[05:13:56] <Jonno_FTW> but running curl on it fails even though it says the port is exposed
[05:25:43] *** Joins: errororous (~errororou@178.17.16.67)
[05:28:21] *** Joins: jazzy (~jaziz@user/jaziz)
[05:30:28] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:32:53] *** Joins: vlm (~vlm@user/vlm)
[05:36:57] <greatgatsby_> Jonno_FTW, you _almost_ never have to know or care about the IP of a container.  Either you are publishing the port, which means you access the service via the IP of your docker host and the port you publish, or you are talking between containers in their private docker network, in which case docker will be providing dns resolution for you based on the service name.  Notice I said "almost", there are 
[05:36:58] <greatgatsby_> exceptions, but that's usually more advanced usage.
[05:37:26] <Jonno_FTW> thanks
[05:38:38] <greatgatsby_> you could also publish to localhost on the docker host, so you'd access it on 127.0.0.1 or whatever, but on the docker host.  Also something to remember, if you're service in the container is listening on *its* localhost, that generally won't work.  You want the service within the container listening on 0.0.0.0 (generally)
[05:42:35] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[05:45:17] *** Quits: tsal (~tsal@user/tsal) (Ping timeout: 240 seconds)
[05:46:00] *** Quits: lilgopher (~textual@2601:241:8000:38f0:19e4:7178:7a1:26c0) (Quit: Textual IRC Client: www.textualapp.com)
[05:47:03] *** Joins: lilgopher (~textual@2601:241:8000:38f0:c97d:6008:8225:7dd2)
[05:48:40] <greatgatsby_> Jonno_FTW, as an example, here's a one-liner to run a python webserver, which listens on 0.0.0.0 in the container, but we publish a port on the docker host listening on 127.0.0.1:8080 that proxies to port 80 in the container:
[05:48:51] <greatgatsby_> docker run --rm -p 127.0.0.1:8080:80 python:3 python3 -m http.server --bind 0.0.0.0 --directory /etc 80
[05:49:04] <greatgatsby_> so now, on the docker host, I can do the following:
[05:49:18] <greatgatsby_> curl http://localhost:8080/debian_version
[05:49:24] <greatgatsby_> hope this makes sense
[05:51:32] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 240 seconds)
[05:51:48] *** Joins: tsal (~tsal@user/tsal)
[05:59:21] *** Quits: ivii (~ivan@2001:a62:4c3:8e01:777e:e76b:1130:2573) (Quit: Konversation terminated!)
[05:59:48] *** Joins: keypusher (keypusher@user/keypusher)
[06:04:57] *** Joins: maryo (~Maryo@user/maryo)
[06:05:12] *** Quits: maryo (~Maryo@user/maryo) (Read error: Connection reset by peer)
[06:05:31] *** Joins: maryo (~Maryo@user/maryo)
[06:05:59] *** Quits: ada_ (uid242135@user/ada/x-9065485) (Quit: Connection closed for inactivity)
[06:26:05] *** Quits: lilgopher (~textual@2601:241:8000:38f0:c97d:6008:8225:7dd2) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:26:10] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[06:26:37] *** Quits: millido (~millido@84.210.150.128) (Quit: ZNC 1.8.2 - https://znc.in)
[06:29:06] *** Quits: foul_owl (~kerry@174-21-143-101.tukw.qwest.net) (Ping timeout: 250 seconds)
[06:29:55] *** Joins: Atque (~Atque@user/atque)
[06:33:35] *** Quits: LtHummus (~lthummus@97-126-121-3.tukw.qwest.net) (Quit: ZNC 1.8.2 - https://znc.in)
[06:43:51] *** Joins: foul_owl (~kerry@94.140.8.105)
[06:46:42] *** Joins: lilgopher (~textual@c-24-12-183-227.hsd1.il.comcast.net)
[06:50:27] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[06:53:15] *** luva0 is now known as luva
[06:55:37] *** Quits: kenwoodfox (~quassel@user/kenwoodfox) (Ping timeout: 240 seconds)
[06:56:49] *** Joins: kenwoodfox (~quassel@user/kenwoodfox)
[07:08:43] *** Joins: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net)
[07:28:36] <Jonno_FTW> greatgatsby_: I'm aware of that stuff, but I'm running with docker-compose
[07:34:30] *** Joins: LtHummus (~lthummus@97-126-121-3.tukw.qwest.net)
[07:51:37] *** Quits: martums5 (~martums@user/martums) (Ping timeout: 240 seconds)
[07:56:44] *** Joins: Atque (~Atque@user/atque)
[08:04:36] *** Joins: HaMsTeRs (~Thunderbi@210.3.213.4)
[08:16:34] *** Quits: HaMsTeRs (~Thunderbi@210.3.213.4) (Remote host closed the connection)
[08:16:47] *** Joins: HaMsTeRs (~Thunderbi@210.3.213.4)
[08:18:24] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-6889-d743-d7bf-132c.res6.spectrum.com) (Quit: jarthur)
[08:22:54] *** Joins: millido (~millido@84.210.150.128)
[08:38:58] *** Quits: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:8af:e601:fdac:4bca) (Quit: So as you can see from this flowchSQUIRREL!!)
[08:40:21] *** Quits: HaMsTeRs (~Thunderbi@210.3.213.4) (Quit: HaMsTeRs)
[08:56:24] *** Quits: Czernobog (~Czernobog@user/czernobog) (Read error: Connection reset by peer)
[09:13:43] *** Joins: symb0l (~symb0l@dsl-katy-207-70-135-154.consolidated.net)
[09:18:33] *** Quits: symb0l (~symb0l@dsl-katy-207-70-135-154.consolidated.net) (Quit: symb0l)
[09:20:44] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
[09:48:53] *** Quits: i64 (~i64@185.65.135.183) (Ping timeout: 268 seconds)
[09:54:30] *** Quits: emerent (~quassel@p200300cd5704433eba27ebfffed28a59.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[09:54:35] *** Joins: emerent_ (~quassel@p200300cd57044312ba27ebfffed28a59.dip0.t-ipconnect.de)
[09:54:35] *** emerent_ is now known as emerent
[10:05:20] *** Quits: C4Crawford (~C4Crawfor@2600:1700:5470:712f:49ad:3d4c:51f5:aaea) (Quit: C4Crawford)
[10:06:40] *** Joins: i64 (~i64@185.65.135.183)
[10:10:04] *** Quits: lilgopher (~textual@c-24-12-183-227.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[10:35:23] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 256 seconds)
[10:41:58] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[10:45:36] *** Quits: Croepha (~Croepha@45.55.252.156) (Ping timeout: 256 seconds)
[10:46:02] *** Joins: Croepha (~Croepha@45.55.252.156)
[10:46:35] *** Joins: justGhost3 (~justache@user/justache)
[10:46:44] *** Quits: BinarySavior (~BinarySav@idlerpg/player/BinarySavior) (Ping timeout: 256 seconds)
[10:47:18] *** Quits: justGhost (~justache@user/justache) (Ping timeout: 256 seconds)
[10:47:18] *** justGhost3 is now known as justGhost
[10:47:45] *** Joins: daniel-k3 (~daniel-k@fsf/emeritus/daniel-k)
[10:47:52] *** Quits: daniel-k (~daniel-k@fsf/emeritus/daniel-k) (Ping timeout: 256 seconds)
[10:47:52] *** daniel-k3 is now known as daniel-k
[10:59:26] *** Joins: iomari891 (~iomari891@105.112.138.38)
[11:06:31] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[11:14:37] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 240 seconds)
[11:17:42] *** Joins: ExeciN (~ExeciN@user/nicexe)
[11:19:03] *** Joins: emx (~emx@adsl-84-226-68-198.adslplus.ch)
[11:21:34] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[11:24:40] *** Joins: lithium (~lithium@user/lithium)
[11:26:08] *** Joins: Czernobog (~Czernobog@user/czernobog)
[11:49:08] *** Quits: Joel (~jjshoe@user/joel) (Ping timeout: 268 seconds)
[11:50:48] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[11:52:13] *** Joins: n9nes (~n9nes@user/n9nes)
[11:56:52] *** Joins: Joel (~jjshoe@user/joel)
[12:08:57] *** Joins: alicef_ (~none@gentoo/developer/alicef)
[12:10:02] *** Quits: alicef (~none@gentoo/developer/alicef) (Ping timeout: 240 seconds)
[12:10:02] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Read error: Connection reset by peer)
[12:25:38] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Remote host closed the connection)
[12:26:12] *** Quits: _mikey (~mikey@user/mikey/x-4335048) (Quit: WeeChat 3.4)
[12:33:17] *** Quits: selckin (~selckin@user/selckin) (Quit: selckin)
[12:34:49] *** Quits: sudoforge (~sudoforge@wireguard/tunneler/sudoforge) (Ping timeout: 250 seconds)
[12:50:32] *** Joins: cotko (~cotko@89-212-138-82.static.t-2.net)
[12:50:35] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[12:57:35] *** Quits: sebastianos (~sebastian@user/sebastianos) (Read error: Connection reset by peer)
[13:02:07] *** Joins: sebastianos (~sebastian@user/sebastianos)
[13:02:50] *** Joins: AnapodoPsalidaki (~AnapodoPs@2a02:587:291a:6af6:73a3:ed5:5053:fefd)
[13:06:00] *** Joins: AnapodoPsalidi (~AnapodoPs@154.57.4.229)
[13:07:15] *** Joins: sultand (~sultand@office.rackhosting.com)
[13:08:17] *** Quits: AnapodoPsalidaki (~AnapodoPs@2a02:587:291a:6af6:73a3:ed5:5053:fefd) (Ping timeout: 240 seconds)
[13:17:29] *** Quits: jazzy (~jaziz@user/jaziz) (Quit: Beddie bye-bye)
[13:35:41] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 250 seconds)
[13:38:04] *** Joins: ivii (~ivan@2001:a62:4c3:8e01:fcf:cfae:b40d:7881)
[13:39:59] *** Joins: gproto23 (~gproto23@user/gproto23)
[13:40:19] *** Quits: ivii (~ivan@2001:a62:4c3:8e01:fcf:cfae:b40d:7881) (Changing host)
[13:40:19] *** Joins: ivii (~ivan@user/ivii)
[13:44:54] *** Joins: bouncy (~ben@user/benoit)
[13:49:46] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 256 seconds)
[13:53:53] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[13:57:48] *** Joins: vidbina (~vid@dynamic-077-011-006-180.77.11.pool.telefonica.de)
[13:57:51] *** Joins: itsalexjones (~itsalexjo@82.4.99.241)
[14:06:24] *** Quits: Czernobog (~Czernobog@user/czernobog) (Read error: Connection reset by peer)
[14:07:07] *** Quits: bashel (~bashel@user/bashel) (Ping timeout: 256 seconds)
[14:07:12] *** Joins: larsks_ii (~larsks@redhat/larsks)
[14:07:20] *** Joins: bashel_ (~bashel@user/bashel)
[14:07:41] *** Quits: larsks (~larsks@redhat/larsks) (Ping timeout: 256 seconds)
[14:08:15] *** Quits: enrh (~enrh@user/enrh) (Ping timeout: 256 seconds)
[14:09:42] *** Joins: Czernobog (~Czernobog@user/czernobog)
[14:14:14] *** Joins: enrh (~enrh@user/enrh)
[14:16:08] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[14:28:22] *** Quits: emx (~emx@adsl-84-226-68-198.adslplus.ch) (Ping timeout: 260 seconds)
[14:30:32] *** Quits: Flash (~Flash@user/flash) (Ping timeout: 250 seconds)
[14:30:45] *** Joins: Flash (~Flash@user/flash)
[14:32:08] *** Joins: jazzy (~jaziz@user/jaziz)
[14:37:14] *** Joins: zer0bitz (~zer0bitz@2001:2003:f444:a000:a9ef:8cb1:3f34:9694)
[14:52:36] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[15:02:12] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
[15:06:34] *** Joins: maryo87 (~Maryo@user/maryo)
[15:10:10] *** Quits: maryo (~Maryo@user/maryo) (Ping timeout: 268 seconds)
[15:13:45] *** Joins: asbachb (~asbachb@catv-80-98-163-207.catv.fixed.vodafone.hu)
[15:30:13] *** Quits: asbachb (~asbachb@catv-80-98-163-207.catv.fixed.vodafone.hu) (Quit: Client closed)
[15:31:17] *** Joins: asbachb (~asbachb@catv-80-98-163-207.catv.fixed.vodafone.hu)
[15:31:49] *** Joins: maret (~maret@195.12.158.102)
[15:36:20] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[15:36:39] *** Joins: ExeciN (~ExeciN@user/nicexe)
[15:40:02] *** Joins: TomyWork (~TomyLobo@p200300e80f0067003dffc709fbf62b1f.dip0.t-ipconnect.de)
[15:42:01] <deuxexmachina> tianon: ahhhh thanks: du -xsh /var/lib/docker/overlay2 - says it is only 6.9gb
[15:54:10] *** Joins: thiras (~thiras@user/thiras)
[15:57:41] *** Joins: minimal (~minimal@user/minimal)
[15:59:40] *** Joins: luckiswithme (~luckiswit@103.226.104.2)
[16:02:15] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[16:02:22] *** Joins: Atque (~Atque@user/atque)
[16:02:34] *** Joins: ExeciN (~ExeciN@user/nicexe)
[16:10:36] *** Quits: sultand (~sultand@office.rackhosting.com) (Quit: Client closed)
[16:10:54] *** Joins: FreEm1nD (~FreEm1nD@mail.guarapari.store)
[16:14:36] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[16:15:19] *** Joins: maret (~maret@195.12.158.102)
[16:15:32] *** Quits: maret (~maret@195.12.158.102) (Client Quit)
[16:20:45] *** Joins: emx (~emx@adsl-84-226-68-198.adslplus.ch)
[16:22:54] *** Joins: iomari891 (~iomari891@105.112.138.38)
[16:24:11] *** Joins: xheimlich (~xheimlich@179.218.1.150)
[16:24:56] <xheimlich> so. please assume I'm 14 years old. What does "sending context to Docker daemon" mean anyway? Does docker do some static analysis of how large my image will eventually be, or is this just the base image?
[16:26:41] <ikke> The context are the files in your directory that are not ignored
[16:27:15] <xheimlich> oh crap. The python virtualenv in this directory is making my local build slow?
[16:27:36] <xheimlich> No, wait.
[16:27:37] <ikke> Which you can copy into the image with ADD or COPY 
[16:27:42] <Tach> Does Docker always use the first IP in a subnet as it's network GW ?
[16:27:56] <xheimlich> yes, that's what we do. Start with python3.7-slim and then COPY.
[16:28:00] *** Joins: Eclipse2212 (~Eclipse22@user/eclipse2212)
[16:28:01] <ikke> Tach: I don't know 
[16:28:16] <xheimlich> the stuff that is COPY-ed is rather large, yes, but I think more like 1GB than 8GB.
[16:28:45] <xheimlich> anyway, is "docker build" doing some static analysis on my Dockerfile (rather than running it as a script line by line)?
[16:28:54] <Tach> ikke me neither, it looks like it but that happens on full ranges, I wonder like with half ones for sure, I thought it worked that way
[16:29:33] <xheimlich> the size of the context it has to send before starting to run the Dockerfile I don't understand.
[16:30:30] <xheimlich> unless the context is actually what is in the directory I'm invoking docker build from. Which has some extra stuff including a python venv.
[16:30:33] <simplicity> xheimlich: docker uses a client/server model. When you invoke docker build, it is talking to a server. For this server to have access to the files, the context needs to be shipped to the server.
[16:31:27] <simplicity> So what is in the directory where you're building? Is that directory 8GB?
[16:31:40] <simplicity> Use a dockerignore file if you need to exclude files from the build context.
[16:31:49] <xheimlich> I know. What I'm asking is: is docker build reading my whole Dockerfile to send the "context" beforehand (e.g. anticipating directories that will be COPY-ed).
[16:31:56] <tabakhase> ".dockerignore" specifically, works like gitignore for this packing step
[16:32:05] <xheimlich> because the running the step that does the COPY is also rather slow.
[16:34:02] <tabakhase> xheimlich your COPY should also be "as selective as possible" - but thats more about making sure caches can be reused as much as possible -- your current win will likely be the .dockerignore file already
[16:35:45] <tabakhase> so for case python, COPY requirements&lock, RUN install, then COPY rest of the source for example
[16:36:07] <xheimlich> yes. So docker build is faster, yes.
[16:37:17] <xheimlich> Anyway, the problem I'm actually having is that some modified files keep showing up as a previous version in the docker image. I've even deleted them. It's phantasmagorical. I did try docker build --no-cache, to no avail yet. 
[16:37:41] *** Quits: luckiswithme (~luckiswit@103.226.104.2) (Ping timeout: 250 seconds)
[16:38:03] <tabakhase> xheimlich Dockerfile? not that by chance you have a VOLUME or so in there ;-)
[16:38:33] <xheimlich> but the very slow "sending context..." was making my investigation way too slow. I don't know how to isolate the problem yet. Hopefully a shorter build loop will allow me to try more things.
[16:38:38] <xheimlich> nop.
[16:39:34] <simplicity> IRC 101: Ask about your actual problem, not what you think is the problem.
[16:39:38] <tabakhase> normally docker should be rather good about busting when anything changed and most of these observations are up to something else "fooling the user" kinda deal ;-)
[16:39:56] <xheimlich> https://bpa.st/NK4Q by now I'm just trying to detect the deleted file.
[16:40:21] <xheimlich> simplicity: my initial problem was that I was nearly unable to try and "help myself" before asking for help.
[16:40:59] <xheimlich> Honestly I have memories of the #docker crowd being less than friendly and this looked like something I should be able to fix myself, if every try didn't take 35 miutes.
[16:41:42] <tabakhase> > if every try didn't take 35 miutes < i feel you very much on this :D
[16:41:52] *** Quits: gproto23 (~gproto23@user/gproto23) (Quit: Leaving)
[16:43:04] *** Joins: jsmooth (~quassel@user/jsmooth)
[16:43:27] <jsmooth> Hmm. Weird error "ERROR:  In file './docker-compose.yml', service must be a mapping, not a NoneType"
[16:45:08] *** Joins: maret (~maret@195.12.158.102)
[16:49:29] *** Quits: maret (~maret@195.12.158.102) (Client Quit)
[16:50:05] *** Joins: luckiswithme (~luckiswit@103.226.104.2)
[16:50:21] *** Joins: maret (~maret@195.12.158.102)
[16:51:06] <jjakob> Tach: do you mean the external interface (default route as seen in "ip route") or for its internal networks?
[16:52:09] <jjakob> is it safe to exclude /var/lib/docker/overlay2/*/merged from backups? those are all overlay mounts, so I'd assume they are virtual
[16:53:07] <xheimlich> if something is in .dockerignore, is it still available for the COPY command? probably no, I'm guessing.
[16:53:21] <jjakob> xheimlich: no
[16:53:51] <Tach> jjakob no the network you create for whatever containers
[16:54:35] <jjakob> jsmooth: you have an improperly formatted yaml file
[16:54:46] <jjakob> check for correct indentation
[16:54:56] <jsmooth> Yes, I found it. Thanks
[16:55:04] <jsmooth> The environment is building
[16:58:05] <xheimlich> what's most annoying is that at the deploy site they network mount the directory with my big binary files, which is stored in some AWS WTFMAN service and not in the repo.
[16:58:34] <xheimlich> On my side though. But I'm already glad that "it works on my machine" basically cuts me loose.
[16:59:07] *** Quits: luckiswithme (~luckiswit@103.226.104.2) (Remote host closed the connection)
[17:00:59] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Read error: Connection reset by peer)
[17:02:59] *** alicef_ is now known as alicef
[17:05:25] *** Quits: wolfdale (~wolfdale@ec2-3-1-90-26.ap-southeast-1.compute.amazonaws.com) (Quit: Ping timeout (120 seconds))
[17:05:44] *** Joins: wolfdale (~wolfdale@ec2-3-1-90-26.ap-southeast-1.compute.amazonaws.com)
[17:09:41] *** Joins: XATRIX (~xatrix@176.108.186.5)
[17:14:02] <XATRIX> Hi, please advice. I'm trying to build cuda container. I did it using the following Dockerfile to. https://imgur.com/wmu2HbF.png , it was built successfully, but the problem i faced, is that i can't run container in interactive mode, and compile cuda samples :) it's simply on readonly FS!!!?? So, the trouble is: https://imgur.com/i2FhMaG.png
[17:14:13] <XATRIX> What's wrong with my setup ? O_o
[17:17:55] <XATRIX> could it be in case i use too much RUN --mount ...
[17:17:56] <XATRIX> ?
[17:18:13] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[17:19:09] *** Joins: maret (~maret@195.12.158.102)
[17:19:12] <XATRIX> programmerq: sorry, can you advice ?
[17:33:20] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[17:33:45] *** Joins: ExeciN (~ExeciN@user/nicexe)
[17:41:34] *** Quits: noex (~null@user/noex) (Quit: :q!)
[17:41:59] *** Joins: noex (~null@user/noex)
[17:42:41] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[17:43:14] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[17:43:17] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Ping timeout: 240 seconds)
[17:44:57] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[17:46:11] *** Joins: ada_ (uid242135@user/ada/x-9065485)
[17:46:11] *** ChanServ sets mode: +o ada_
[17:49:30] *** Quits: vidbina (~vid@dynamic-077-011-006-180.77.11.pool.telefonica.de) (Ping timeout: 260 seconds)
[17:52:35] *** Joins: maryo_87 (~Maryo@user/maryo)
[17:55:17] *** Joins: m1n10n (~r41d1n@cpe-76-184-204-251.tx.res.rr.com)
[17:55:42] *** Quits: maryo87 (~Maryo@user/maryo) (Ping timeout: 256 seconds)
[17:55:47] *** Joins: dinowilliam (~dinowilli@168.194.162.194)
[17:57:47] *** Joins: vidbina (~vid@2a02:3032:1:b000:e132:ca37:4827:95ba)
[18:01:54] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[18:03:35] *** Joins: DrowningElysium (uid190788@user/drowningelysium)
[18:05:13] *** Joins: queue- (~nerd@user/queue/x-7267619)
[18:05:47] <queue-> ok so im actually using docker for windows :>, how would we network_mode: host so i can expose my plex container to other devices
[18:05:55] <queue-> is the only way macvlan?
[18:06:57] <queue-> or is there some way for me to go into the container setup and expose 0.0.0.0:32400:32400
[18:06:58] <queue-> ?
[18:07:04] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Read error: Connection reset by peer)
[18:08:07] <queue-> i moved all this from vmware docker which worked fine, now im just using docker desktop w/ windows :/
[18:08:24] <queue-> im usually on arch and i have no problems there cause i just network_mode: host and chromecast can pick it up
[18:08:56] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[18:17:17] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[18:20:20] *** Quits: fedenix_ (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[18:20:40] *** Joins: fedenix_ (~fedenix@gateway/tor-sasl/fedenix)
[18:21:56] *** Quits: vidbina (~vid@2a02:3032:1:b000:e132:ca37:4827:95ba) (Ping timeout: 250 seconds)
[18:23:54] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[18:23:59] *** Joins: AnapodoPsalidaki (~AnapodoPs@2a02:587:291a:6af6:49cd:65fc:bbb7:566f)
[18:25:41] *** Quits: AnapodoPsalidi (~AnapodoPs@154.57.4.229) (Ping timeout: 252 seconds)
[18:26:59] *** Joins: maret (~maret@195.12.158.102)
[18:28:19] *** Joins: lembron (~admin@user/lembron)
[18:29:23] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Read error: Connection reset by peer)
[18:29:57] <programmerq> queue-: docker desktop runs docker in a vm that isn't on your network. if you want to run a vm on your network, just fire up a hyperv VM manually
[18:30:34] <programmerq> and configure the networking the way you want instead of the opinionated docker desktop way that is designed for local development workflows and not for production services to be accessed by other machines.
[18:31:24] <lembron> "ARG FROM_IMG=build:this\n COPY --from=${FROM_IMG} /some/path /some/path\n" - 'invalid from flag value ${FROM_IMG} invalid reference format: repository name must be lowercase' what is wrong there, to my understanding this should work?
[18:34:04] *** Joins: Null_A (~null_a@c-98-210-133-39.hsd1.ca.comcast.net)
[18:34:42] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-6889-d743-d7bf-132c.res6.spectrum.com)
[18:37:36] <queue-> dang
[18:37:42] <queue-> so no way around running it in a VM?
[18:37:52] <queue-> i was trying to get away from vmware -> linux -> docker
[18:38:13] <programmerq> docker desktop runs a VM for you (or wsl2)
[18:38:35] <programmerq> so you could do it in a windows wsl2 environment too, I believe. I haven't actually tried it so I don't know if there are caveats for networking with wsl2
[18:38:55] <queue-> i tried messing around, u can static and get it working but once it reboots
[18:38:58] <queue-> we're back to square one
[18:39:15] <queue-> wsl2 is dynamic, the ip wont stay the same so they loop out to localhost
[18:39:23] <queue-> thats why we cant set network_mode: host
[18:39:28] <queue-> cause its half-assed already doing so
[18:39:44] <programmerq> basically, if you want to run a linux program on windows, it's wsl2 or a VM
[18:40:18] <queue-> ya i am using wsl2 but the network restrictions suck, thats why i was thinking macvlan
[18:40:28] <queue-> so my other device can access plex
[18:40:40] <queue-> either that or i may just load plex back into the vm and say screw it :D
[18:41:29] <queue-> docker for windows just sounds nasty anyway, but i thought it sounded better than vmware
[18:41:49] <queue-> cutting out the middle man, but but we're actually just swapping out the VM for a limited wsl2
[18:41:50] <queue-> ic ic
[18:42:06] <programmerq> docker for windows also allows you to run windows containers, so you could run the windows version of plex that way in theory
[18:42:31] <programmerq> or you could just install the windows version of plex directly. I know some plex folks do that, but I've never tried it.
[18:42:42] <programmerq> I really only use my windows 10 stuff for games
[18:42:58] <programmerq> I do have docker for windows so I can test out docker stuff on docker for windows, but I don't use it often.
[18:43:03] <queue-> eh im security by compartmentalization
[18:43:07] <queue-> i wouldnt do that directly on my desktop pc
[18:43:23] <queue-> plex has too many gateways wehre even if its blocked, u can reach it that are enabled by default
[18:43:27] <programmerq> yeah I run my plex stuff in a jail on my freenas server
[18:43:28] <queue-> i.e. 'relay'
[18:43:38] <queue-> where it gives you 2mbit/s to a box u shouldnt have access to
[18:44:27] <queue-> ya i dont have another server yet :/
[18:44:34] <queue-> i usually run arch + docker and that does the trick
[18:44:37] *** Quits: XATRIX (~xatrix@176.108.186.5) (Ping timeout: 240 seconds)
[18:44:39] <queue-> network_mode: host and its done
[18:44:43] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[18:44:51] <queue-> but i booted over to windows cause well
[18:44:56] <queue-> god of war came out for PC ISO :D
[18:45:09] <queue-> so i wanted to peep it out, but also have my dev env / htpc setup on windows efficiently
[18:45:13] *** Quits: Eclipse2212 (~Eclipse22@user/eclipse2212) (Quit: Leaving)
[18:45:31] <queue-> so when i go into my month long binge of god of war, im rdy :)
[18:47:32] <programmerq> it's been a long time since I've tried it personally, but a lot of the steam/wine compatibility stuff (proton?) seems to be getting better and better. One of my friends games on archlinux with proton.
[18:47:54] *** Quits: Null_A (~null_a@c-98-210-133-39.hsd1.ca.comcast.net) (Remote host closed the connection)
[18:48:08] <programmerq> for a little while, he dropped in a second video card and ran a windows VM with pci express passthrough and would switch over outputs on his monitor
[18:48:35] <programmerq> he ended up fighting that setup for a good chunk of the last in person lan party I remember him doing that at (quite some time ago now)
[18:49:15] <programmerq> I guess I'll end up trying it out because I plan on getting the steam deck, and it uses proton for several titles.
[18:49:45] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[18:52:27] <queue-> i never got around to fully making that work
[18:52:30] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-6889-d743-d7bf-132c.res6.spectrum.com) (Quit: jarthur)
[18:52:47] <queue-> i guess im not dedicated enough to gaming for that, i just dual boot over to windows and play borderlands / (and now) god of war
[18:53:37] *** Quits: maryo_87 (~Maryo@user/maryo) (Ping timeout: 240 seconds)
[18:53:48] *** Joins: Atque (~Atque@user/atque)
[18:54:11] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Ping timeout: 250 seconds)
[18:55:34] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[18:57:03] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[18:58:00] *** Joins: maret (~maret@195.12.158.102)
[18:58:30] *** Joins: XATRIX (~xatrix@88.81.252.19)
[18:58:50] *** Joins: selckin (~selckin@user/selckin)
[18:59:21] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
[19:05:33] *** Joins: ecraven (~ecraven@user/nex)
[19:05:56] <ecraven> hello ;) is there a way to download an image from a remote registry right into a local registry *without* importing and exporting it into local docker?
[19:07:00] <programmerq> ecraven: skopeo can do that.
[19:07:08] <ecraven> thanks, I'll look into that!
[19:10:38] <deuxexmachina> is it not common yet to be running the docker process as non root yet?
[19:10:45] *** Joins: rsx (~dummy@ppp-188-174-146-149.dynamic.mnet-online.de)
[19:12:20] <deuxexmachina> it seems most popular docker images run their services as root, and most popular guides are running docker process on the host as root...
[19:12:38] <deuxexmachina> Yet everyone advises against it... Big mismatch in talk vs action
[19:16:40] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[19:17:09] *** Joins: Trieste (T@user/pilgrim)
[19:18:31] <ash_worksi> I just re-brought up a project that has been working fine for weeks (networking-wise) and now, for some reason it can't translate the hostname
[19:18:42] <ash_worksi> (based off the container name)
[19:19:12] <ash_worksi> oh crap, nvm
[19:21:31] *** Joins: sudoforge (~sudoforge@wireguard/tunneler/sudoforge)
[19:24:05] <tabakhase> deuxexmachina rootles dockerD is still rather new - and has quite a few drawbacks with it still so not beeing the default is kinda reasonable... - the "most popular images" is kind of a mixed bag... - a lot of the library images dont care, as they expect you to either build FROM those (so beeing root to apt/apk whatever is nice) or to run containers with --user "all the time any time"
[19:24:19] <tabakhase> for other OSS images - well yes, there is a looot of shit out there :D
[19:24:47] <deuxexmachina> running the docker service itself as non root seems more protective than each service in container as non-root, dont you think? tabakhase 
[19:24:57] *** Joins: maryo_87 (~Maryo@user/maryo)
[19:25:14] <deuxexmachina> docker process/service*
[19:25:19] <deuxexmachina> on the host*
[19:28:20] <ash_worksi> are you supposed to separate command argument flags from their respective options in `command:` on docker-compose? (ie is `['postgres','-c',',,,']` correct, or `['postgres','-c ...']` ?)
[19:28:38] <tabakhase> yes
[19:29:58] *** Quits: AsenMx (~asen@user/asenmx) (Ping timeout: 250 seconds)
[19:33:39] <ash_worksi> I mean `command: ['postgres','-c','...']` or `command: ['postgres','-c ...']`
[19:38:28] <ash_worksi> so weird that I never had a problem bringing up or down this db container mounting `/var/lib/postgresql/data/postgresql.conf` until now (where it fails saying "but /var/lib/postgresql/data isn't empty")
[19:39:01] <ash_worksi> and now rectifying that, I have to configure hba
[19:39:32] <ash_worksi> I'm like "since when did you become so picky in developement?"
[19:41:22] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[19:42:11] *** Joins: Dev0n (~Dev0n@user/dev0n)
[19:45:28] <Dev0n> hey, I want to pass in AWS_ACCESS credentials to a docker container (running using docker-compose environment key) and I'm trying to prevent passing the AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY without actually specifying it (incase a different set of creds get leaked in)
[19:45:43] <Dev0n> I'm thinking of doing it so that it's - AWS_SECRET_ACCESS_KEY=${SOME_PREFIX_AWS_SECRET_ACCESS_KEY}
[19:47:08] <tabakhase> "prevent passing without actually specifying" uhm what?? --- but yes, its common to NOT use "real names" as variables in the compose file
[19:47:20] <tabakhase> aka, prefix with your project as you did there
[19:47:24] *** Joins: AsenMx (~asen@user/asenmx)
[19:48:33] <Dev0n> tabakhase, wasn't sure how to word it but I meant not passing the exact name in case there is already a AWS_ACCESS_KEY_ID in the env but not the one you want to automatically be passed in
[19:48:53] <Dev0n> but yea, thanks, just wanted to check if the prefix approach would be good neough
[19:48:57] <Dev0n> enough*
[19:58:03] *** Quits: cotko (~cotko@89-212-138-82.static.t-2.net) (Remote host closed the connection)
[19:59:40] *** Joins: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com)
[20:06:57] *** Joins: tga (~tga@user/tga)
[20:07:25] <tga> hey, is there a good way of running docker on another machine with a locally mounted fs?
[20:07:56] <tga> would something like sshfs or samba work or would I run into fs trouble?
[20:14:17] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[20:14:39] *** Joins: ExeciN (~ExeciN@user/nicexe)
[20:18:50] *** Quits: shutnoshut9 (~shutnoshu@ec2-52-29-68-122.eu-central-1.compute.amazonaws.com) (Ping timeout: 260 seconds)
[20:23:08] *** Joins: jkwnki (~jkwnki@p2e5796b1.dip0.t-ipconnect.de)
[20:25:26] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[20:29:23] *** Joins: symb0l (~symb0l@user/symb0l)
[20:29:30] *** Joins: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469)
[20:29:36] *** Quits: XATRIX (~xatrix@88.81.252.19) (Ping timeout: 268 seconds)
[20:34:33] *** Quits: tkazi (~tkazi@user/tkazi) (Quit: Disconnected)
[20:35:06] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
[20:35:42] *** Joins: tkazi (~tkazi@user/tkazi)
[20:37:37] *** Quits: emx (~emx@adsl-84-226-68-198.adslplus.ch) (Ping timeout: 240 seconds)
[20:38:26] *** Quits: TomyWork (~TomyLobo@p200300e80f0067003dffc709fbf62b1f.dip0.t-ipconnect.de) (Remote host closed the connection)
[20:43:44] *** Joins: yamchah2_ (~yamchah2@user/yamchah2)
[20:46:15] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Ping timeout: 268 seconds)
[20:46:15] *** yamchah2_ is now known as yamchah2
[20:49:01] *** Quits: tkazi (~tkazi@user/tkazi) (Ping timeout: 250 seconds)
[20:50:07] *** Joins: shutnoshut9 (~shutnoshu@ec2-52-29-68-122.eu-central-1.compute.amazonaws.com)
[20:52:32] *** Joins: ssf (~ssf@user/ssf)
[21:01:14] <deuxexmachina> tga: docker is installed on that machine or installed on the machine whose FS is mounted?
[21:01:37] *** Quits: dob1 (~dob1@user/dob1) (Ping timeout: 240 seconds)
[21:01:44] *** Joins: dob1_ (~dob1@user/dob1)
[21:06:44] <tga> deuxexmachina: docker is on the remote machine
[21:07:18] <tga> the point is to move only docker off development machines and to a big server -- but keep the local experience unchanged
[21:07:57] <tga> I'm thinking about using sshfs for the files, and ssh for port forwarding
[21:08:05] <tga> just thought I'd check first, in case there is a better way
[21:08:22] <deuxexmachina> there is too much complexity in that vs the amount you're communicating for me to help... perhaps it is merely my skill level :)
[21:08:55] <tga> oh, and possibly running the whole thing on lxc to separate users, but that's for later
[21:10:04] *** Quits: maryo_87 (~Maryo@user/maryo) (Ping timeout: 250 seconds)
[21:10:23] <tga> I guess the main question is about a good way to mount a local volume to a remote docker instance
[21:11:37] <tga> so far I set up a test machine but sshfs is _horribly_ slow
[21:14:00] <tga> not related to docker of course
[21:14:09] <deuxexmachina> I don't see why
[21:14:16] <deuxexmachina> Use some smarter replication method
[21:14:23] <tga> sure, like what?
[21:14:24] <deuxexmachina> That won't ruin your docker service if that gets unmounted
[21:14:33] <deuxexmachina> well what are the contents of that filesystem?
[21:14:36] <tga> code
[21:14:41] <deuxexmachina> Maybe it should get rsync'd once a day or something
[21:14:41] *** Joins: symb0l_ (~symb0l@user/symb0l)
[21:14:50] <deuxexmachina> So docker uses that code to run a service on the remote?
[21:15:06] <deuxexmachina> local has the code, remote runs docker using that code?
[21:15:08] <tga> this is for running a development setup, I make changes locally and want them to run on the server
[21:15:11] <tga> like, right away
[21:15:31] <tga> a small delay is not a problem, rsyncing every 30s might be an idea
[21:15:53] <deuxexmachina> sounds like CI hooks are the way
[21:15:55] <deuxexmachina> you commit
[21:16:00] <deuxexmachina> your CI server detects the commit
[21:16:14] <deuxexmachina> and you have a hook set so it does x y z when new commits come in on branches a or b
[21:16:51] <tga> for development I need instant(ish) feedback, especially when doing frontend
[21:16:52] *** Joins: kostkon_ (~androirc@2.142.66.94.static.otenet.gr)
[21:17:03] <deuxexmachina> but you can't run docker locally?
[21:17:18] <tga> nope, that's the whole point, offloading the whole stack to the server
[21:17:44] <tga> it's like 10 services or so, heavy enough that it would be nice to have them remote
[21:18:22] <deuxexmachina> do you then need to password protect the webpages during development?
[21:18:36] <deuxexmachina> or how are you accessing the front end stuff served from remote locally?
[21:18:42] <tga> ssh port forwarding
[21:18:56] <tga> and running everything on loopback on the server 
[21:19:07] <tga> tnat
[21:19:13] <tga> that part at least is no problem
[21:19:59] *** Quits: kostkon_ (~androirc@2.142.66.94.static.otenet.gr) (Client Quit)
[21:20:21] <deuxexmachina> I guess you could have an sshfs mount, since you're already using ssh - less to do.
[21:20:34] <tga> yeah, it looks like I have a problem with my sshfs, it's horribly slow
[21:20:43] <tga> but thanks for the rsync idea, it might be better
[21:21:01] <deuxexmachina> I'd just push, then just execute a script on the server that does what the CI server would have done:
[21:21:06] <deuxexmachina> pull, build, etc
[21:21:26] <tga> way too slow, I need instant feedback, not only after pushing
[21:21:34] <deuxexmachina> nodejs?
[21:21:39] <tga> also
[21:21:58] <tga> larger app with a few parts
[21:22:20] <tga> I just realized that I need two way sync though, rsync might not be great
[21:22:32] <deuxexmachina> well what does it need to rebuild docker then... that is not very instant. 
[21:22:35] <tga> things like linting and reformatting run in the container
[21:22:49] <tga> nope, the docker containers mount a code volume
[21:22:57] *** Quits: shutnoshut9 (~shutnoshu@ec2-52-29-68-122.eu-central-1.compute.amazonaws.com) (Ping timeout: 240 seconds)
[21:23:08] <deuxexmachina> and then the server is constantly monitoring that code on that volume?
[21:23:09] <tga> hah instant, rebuilding takes like 20 minutes
[21:23:14] <deuxexmachina> right
[21:23:16] <tga> yes
[21:23:24] <tga> dev servers, hot code reload
[21:23:27] <deuxexmachina> I wonder what the nextjs guys do with docker images
[21:23:44] <deuxexmachina> why not just edit the code right on the server via ssh?
[21:24:05] <tga> I want my nice local ide, possibly other tools like image editing
[21:24:19] <deuxexmachina> so what needs to be offloaded to the server?
[21:24:20] <tga> vscode knows how to mount remote dirs, I think intellij doesn't
[21:24:23] <deuxexmachina> no image builds...
[21:24:30] <deuxexmachina> just running the images is too heavy weight for local?
[21:24:34] <tga> image builds and actually running all containers
[21:24:40] <deuxexmachina> 10 images not serving much should be very low CPU
[21:24:49] <tga> yeah, things like elasticsearch tend to be pretty memory heavy
[21:24:56] <tga> video transcoding
[21:25:05] <deuxexmachina> sounds like a whole platform
[21:25:22] <tga> yeah, it's a reasonably large app
[21:25:53] <tga> also I'm ok with 32GB ram, some poor souls try to run this on macs with like 8GB ram
[21:26:00] <tga> so not even all of that is available to docker
[21:26:33] <tga> it would be positively awesome to give them a way to just ssh in without running anything locally
[21:26:56] <deuxexmachina> how would each of them have a fresh env tho?
[21:27:01] <deuxexmachina> That's what the CI system is for
[21:27:11] <tga> docker-compose up ftw
[21:27:26] *** Quits: jkwnki (~jkwnki@p2e5796b1.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[21:27:28] <deuxexmachina> ya i guess if the company isn't that big
[21:27:33] <tga> docker-compose --build up, then go have a long coffee break
[21:28:05] <tga> the app is not a monster, it still makes sense to have the whole thing started locally
[21:28:08] <deuxexmachina> up should build what isn't built if it is setup nicely
[21:28:24] <tga> dc pull, dc build, dc up = lunch break
[21:28:34] <deuxexmachina> maybe you can have all the heavy shit running remotely and have some scaled down dev env
[21:28:59] <tga> that's kinda what I'm trying to do
[21:29:13] <deuxexmachina> only one of the docker services needs your code edited on the fly right?
[21:29:18] <deuxexmachina> or a couple of them?
[21:29:34] <deuxexmachina> they could use the server's creds for their backends/other services
[21:29:34] <tga> a few
[21:29:48] <tga> splitting them is also a pain when switching branches
[21:29:54] <tga> different code, different config, ugh
[21:30:26] <tga> well at least for now I have my next steps
[21:30:36] <tga> need to fix this sshfs issue and/or try samba
[21:31:04] <tga> I'll surely be here later with more ideas
[21:31:15] <tga> thanks deuxexmachina 
[21:32:42] <deuxexmachina> sure thing
[21:33:01] <deuxexmachina> modern NFS is supposedly most performant
[21:33:19] <deuxexmachina> also note which storage driver docker is using
[21:34:37] *** Quits: [diablo] (~diablo]@user/diablo/x-9068044) (Quit: The Lounge - https://thelounge.chat)
[21:34:48] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[21:35:23] *** Quits: symb0l_ (~symb0l@user/symb0l) (Quit: symb0l_)
[21:35:23] *** Joins: [diablo] (~diablo]@user/diablo/x-9068044)
[21:36:00] *** Joins: AnapodoPsalidi (~AnapodoPs@195.46.31.29)
[21:36:08] *** Quits: tga (~tga@user/tga) (Ping timeout: 256 seconds)
[21:36:19] *** Joins: drillbyt (drillbyt@user/drillbyt)
[21:37:06] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Client Quit)
[21:38:24] *** Quits: pvdp4 (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au) (Remote host closed the connection)
[21:38:32] *** Quits: AnapodoPsalidaki (~AnapodoPs@2a02:587:291a:6af6:49cd:65fc:bbb7:566f) (Ping timeout: 240 seconds)
[21:39:08] *** Joins: yamchah2_ (~yamchah2@user/yamchah2)
[21:41:27] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Ping timeout: 250 seconds)
[21:41:27] *** yamchah2_ is now known as yamchah2
[21:43:36] *** Quits: tofran (~tofran@37.189.158.134) (Ping timeout: 268 seconds)
[21:52:08] *** Joins: jkwnki (~jkwnki@p2e5796b1.dip0.t-ipconnect.de)
[21:53:29] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[21:57:55] *** larsks_ii is now known as larsks
[21:58:10] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Ping timeout: 250 seconds)
[22:01:50] *** Joins: dan01 (~dan01@2a02:2f09:350d:ab00:5c1a:d82a:ebbb:5737)
[22:01:51] <dan01> Hi
[22:02:07] <dan01> I've noticed my docker container uses an old version of the code
[22:02:31] <dan01> I was thinking the COPY command would detect changes and recopy things
[22:02:57] <dan01> But I guess maybe it's a better idea to mount host code to container instead of copying it?
[22:03:05] <ikke> depends on the usecase
[22:03:16] <dan01> Can someone explain me what's going on, how the image is build etc.
[22:03:45] <dan01> I have the following file https://github.com/stoiandan/MicroservicePlatform/blob/main/rest_api/Dockerfile
[22:06:11] <programmerq> dan01 if you want a newer copy of the code in an image, rerun the docker build for that image.
[22:06:32] <dan01> programmerq: when I run docker-compose up
[22:06:39] <dan01> What will that do?
[22:06:40] <programmerq> up won't build
[22:06:41] <ikke> docker-compose build
[22:06:47] <dan01> I see
[22:06:50] *** Quits: l4yer (~l4yer@2001:ac8:31:8900:1012:9905:928a:6736) (Ping timeout: 250 seconds)
[22:06:51] *** Quits: noex (~null@user/noex) (Quit: :q!)
[22:06:56] <ikke> docker-compose up will just create containers and start them
[22:06:56] <programmerq> 'docker-compose up --d build -d' or 'docker-compose --build && docker-compose up -d'
[22:06:57] <dan01> Unless it won't find an image, ight?
[22:07:10] <programmerq> correct, it will only build (or pull) if the image doesn't exist.
[22:07:10] <ikke> dan01: correct
[22:07:29] *** Joins: noex (~null@user/noex)
[22:07:36] <dan01> I see
[22:08:12] <dan01> Hmm
[22:08:17] <dan01> but then imagine this
[22:08:34] <dan01> In a Dockerfile I have a RUN node index.js, ok?
[22:09:22] <dan01> So if I remove that line, and replace it with RUN echo "dsadasda", and just run docker-compose up, that won't make the changes happen, right?
[22:09:41] <ikke> correct
[22:09:53] <ikke> it will keep using the existing image
[22:11:51] <dan01> oh man
[22:11:53] <dan01> fuck me
[22:12:19] <dan01> Anyways, thanks a lot for that info, it helps now, makes sense
[22:12:21] <ikke> so if you like to make code changes and see them live, a mount might be a better idea
[22:12:22] *** Joins: gproto23 (~gproto23@user/gproto23)
[22:12:44] <dan01> Yeah, except I don't want to mount node_modules
[22:13:16] <dan01> Will the dockeringore file ignore node_modules even in mount?
[22:13:21] <ikke> no
[22:13:48] <dan01> Hmm maybe I can make a subfolder, but then I'd still need the package.json
[22:17:14] *** Joins: tofran (~tofran@37.189.158.134)
[22:18:21] *** Quits: brw (~bas@haring.bas.sh) (Quit: The Lounge - https://thelounge.chat)
[22:18:52] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[22:19:52] *** Joins: brw (~bas@haring.bas.sh)
[22:20:01] *** Quits: andypandy (~andypandy@h-178-174-148-234.A163.priv.bahnhof.se) (Quit: Bye)
[22:20:42] *** Joins: l4yer (~l4yer@2001:ac8:31:8900:1011:34c9:7321:99e2)
[22:22:11] *** Joins: andypandy (~andypandy@h-178-174-148-234.A163.priv.bahnhof.se)
[22:23:42] *** Quits: FreEm1nD (~FreEm1nD@mail.guarapari.store) (Quit: Leaving)
[22:23:49] *** Quits: tofran (~tofran@37.189.158.134) (Ping timeout: 240 seconds)
[22:29:09] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[22:30:12] *** Quits: rsx (~dummy@ppp-188-174-146-149.dynamic.mnet-online.de) (Quit: rsx)
[22:30:46] <tabakhase> dan01 you can still stick a volume to /mounted/node_modules ((often seen when you want to bindmount, but also have a node_modules for your windowsIDE and another inside the container --- the usual "code does not belong in volumes" is ok to be broken there too
[22:30:51] *** Joins: goldfish (~goldfish@user/goldfish)
[22:33:43] *** Quits: asbachb (~asbachb@catv-80-98-163-207.catv.fixed.vodafone.hu) (Ping timeout: 256 seconds)
[22:34:25] <dan01> thanks
[22:34:30] <dan01> Another thing
[22:34:32] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
[22:35:01] <dan01> So I want to run a small node http sever
[22:35:30] <dan01> But if I put in the Dockerfile a RUN node index.js It will never complete the build
[22:36:06] <programmerq> RUN is a build time instruction that says "hey run this command and then when it exits, make a new image layer with any filesystem changes"
[22:36:17] <programmerq> you will want to run your application at runtime, not at build time.
[22:36:40] <programmerq> 'CMD node index.js' says "make a layer that has metadata that says to run this command at runtime, but don't run it now during the build stage"
[22:37:20] <dan01> Aha
[22:37:23] <dan01> I see
[22:38:30] <dan01> thanks a lot programmerq 
[22:39:48] <dan01> Hmm there can be only one cmd in a dockerfile
[22:40:43] *** Parts: fmirkes (~fmirkes@user/fmirkes) ()
[22:41:03] *** Joins: fmirkes (~fmirkes@user/fmirkes)
[22:42:33] *** Quits: brw (~bas@haring.bas.sh) (Quit: The Lounge - https://thelounge.chat)
[22:43:35] *** Joins: brw (~bas@haring.bas.sh)
[22:48:57] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.3)
[22:49:31] *** Joins: n0fun (~jack@94.134.88.64)
[22:49:44] <n0fun> I am trying to expose a container such I can reach it from outside, but it always binds to 0.0.0.0. I tried to bridge it, but it doesn't appear to be working.
[22:50:39] <ikke> n0fun: what is wrong with binding to 0.0.0.0?
[22:51:13] <n0fun> I can't reach it from outside, and I need to reach the docker over an internal network.
[22:51:38] <ikke> 0.0.0.0 means bind to any interface
[22:54:10] <n0fun> Oh, it works
[22:54:14] <n0fun> ty ._.
[22:56:05] *** Quits: dan01 (~dan01@2a02:2f09:350d:ab00:5c1a:d82a:ebbb:5737) (Read error: Connection reset by peer)
[23:02:19] *** Quits: ivii (~ivan@user/ivii) (Quit: Konversation terminated!)
[23:04:02] *** Joins: ivii (~ivan@user/ivii)
[23:04:13] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[23:05:03] *** Joins: ExeciN (~ExeciN@user/nicexe)
[23:06:10] *** Joins: emx (~emx@adsl-84-226-68-198.adslplus.ch)
[23:06:12] *** Joins: pvdp4 (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au)
[23:07:33] *** Quits: xheimlich (~xheimlich@179.218.1.150) (Remote host closed the connection)
[23:09:35] *** Joins: dan01 (~dan01@2a02:2f09:350d:ab00:b888:1255:1b92:ce02)
[23:09:40] <dan01> So if I want to rebuild a docker image
[23:09:53] <dan01> can I just go to the folder with the Dockerimage file and dokcer build .
[23:09:55] <dan01> ?
[23:10:12] <rawtaz> yeah i believe so
[23:10:15] <rawtaz> did you try it?
[23:10:40] <dan01> rawtaz: Yeah, no, thanks, sorry to frustrated with so many fails
[23:10:51] <dan01> But I should not be
[23:10:54] <dan01> thanks mate, really
[23:11:29] <rawtaz> no problem! :D deep breaths :)
[23:11:45] <rawtaz> but yeah just do that and see what happens
[23:12:17] <dan01> Hmm, it worked but
[23:12:26] <dan01> the docker compose up still used the old img
[23:12:47] <rawtaz> yeah you should run `docker-compose up` to make it recreate it
[23:12:48] <ikke> Because you did not provide the image name (tag)
[23:13:06] <ikke> docker-compose build is easier, because it will use the name you specified in the service
[23:13:14] <ikke> (given that you also add build: .
[23:13:15] <ikke> )
[23:13:47] <dan01> Tag
[23:13:50] <dan01> hmmm
[23:14:17] <dan01> so let's say I have a custom image called my_image
[23:14:24] <dan01> and I fire a docker-compose up, ok?
[23:14:32] <dan01> The close the container
[23:14:45] <dan01> the rebuild it, but with docker build, so not with docker-compose build
[23:14:56] <dan01> you're saying it now has a different tag?
[23:15:00] <ikke> It has no tag
[23:15:03] <ikke> or no image name
[23:15:11] <dan01> Ah
[23:15:18] <ikke> you need to specify -t to docker build to give it a name
[23:15:39] <rawtaz> if you want to - you can use the image id if you want
[23:15:52] <rawtaz> but in general, just docker-compose for it all :)
[23:16:16] <dan01> I see
[23:16:22] <dan01> Yeah, sure but it helps me understand
[23:16:23] <dan01> ok
[23:16:30] <dan01> Can I give it a name in the Dockerfile?
[23:16:39] <rawtaz> no
[23:16:44] <dan01> Or how can I name it
[23:16:49] <ikke> dan01: like I said
[23:16:52] <rawtaz> the Dockerfile only specifies what the content should be, the name of the image is a separate matter
[23:16:52] <ikke> with -t (--tag)
[23:16:54] <dan01> yeah sure but
[23:17:12] <dan01> docker-compose up named it like this: folderName_serviceName
[23:17:20] <ikke> that's just the container
[23:17:27] <rawtaz> dan01: yes and that is not a problem. you never need to fiddle with the nameas at all when you use docker-compose
[23:17:31] <ikke> that does not refer to the image that's use
[23:17:41] <rawtaz> you just up and down the container with d-c, so no need to care about the names at all
[23:17:53] <rawtaz> yah what ikke said - image and container are two different things
[23:18:21] <rawtaz> think of an image as an .iso file, which when you boot it becomes a running container :>
[23:18:35] <dan01> Sure I get it, ok
[23:18:51] <dan01> but that is the image app because I can see it under Docker Desktop in images
[23:19:00] <rawtaz> yes, and?
[23:19:00] <dan01> image name, sorry
[23:19:30] <rawtaz> docker-compose names the *containers* like this:  <projectname>_<servicename>_<number>
[23:19:39] <rawtaz> it also does so for other resources such as volumes etc
[23:19:41] <rawtaz> and networks
[23:19:45] <dan01> rawtaz: Was referring  to ikke on that one
[23:21:08] <dan01> rawtaz: I was just curios because I have three services, on two of them the image name is the one from docker hub, namely, mongo and ngnix, on the one that's based on the node image, it's named folderName_service name, and I suspect it's just because that's only service that has a Dockerfile attached to it in docker-compose.yaml 
[23:21:25] <dan01> That's all I just wanted to figure out from where the image name
[23:25:40] *** Quits: goldfish (~goldfish@user/goldfish) (Quit: Leaving)
[23:25:49] <dan01> rawtaz: Thanks for all the expiation it really helped, hope I didn't sound ungratefully 
[23:29:37] *** Joins: Hackerpcs (~user@user/hackerpcs)
[23:30:54] *** Joins: GeorgeK (~GeorgeK@cpe-70-92-5-228.wi.res.rr.com)
[23:33:25] <gordonjcp> dan01: usual warning about mongodb and ensuring it is locked down tighter than Prince Andrew's old phone book
[23:33:32] *** Quits: davix (~nephilim@user/davix) (Ping timeout: 240 seconds)
[23:36:48] <dan01> thx
[23:36:58] *** Quits: dan01 (~dan01@2a02:2f09:350d:ab00:b888:1255:1b92:ce02) (Read error: Connection reset by peer)
[23:38:03] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[23:38:22] *** Joins: ExeciN (~ExeciN@user/nicexe)
[23:39:28] *** Quits: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[23:41:54] *** Parts: ecraven (~ecraven@user/nex) (Bye)
[23:45:43] *** Joins: symb0l_ (~symb0l@user/symb0l)
[23:46:13] *** Joins: cotko (~cotko@188-230-251-153.dynamic.t-2.net)
[23:48:57] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[23:55:29] *** Quits: eyJhb (~eyJhb@user/eyjhb) (Quit: Clever message)
[23:56:29] *** Joins: eyJhb (~eyJhb@user/eyjhb)
[23:58:32] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
