[00:34:09] *** Quits: DJ-ArcAngel (arcangel@grid.nixsec.org) (Quit: ZNC - https://znc.in)
[00:35:56] *** Joins: DJ-ArcAngel (arcangel@grid.nixsec.org)
[00:37:34] *** Quits: PTNapivoski (~PTNapivos@179.189.133.33) (Quit: Leaving)
[01:40:53] *** Quits: justyb11 (~justyb@64.253.212.72) (Quit: Leaving)
[02:36:31] *** Joins: prabha_friend (~prabha_fr@122.173.238.97)
[04:22:55] *** Quits: prabha_friend (~prabha_fr@122.173.238.97) (Quit: Client closed)
[04:59:47] *** Joins: codebam (~codebam@user/codebam)
[05:00:05] <codebam> hey how do I fix this error when starting mariadb? https://pb.sbehan.ca/JTmm
[05:00:24] <codebam> there's nothing in the database. I'd wipe it but I don't want to set up the phpmyadmin database again
[05:02:50] <codebam> oh I can just delete the logfiles
[05:02:58] *** Parts: Sqaure (~a@user/square) (Leaving)
[05:03:06] <codebam> cool that worked
[05:03:08] <codebam> sudo rm -rf /var/lib/mysql/ib_logfile*
[05:27:01] <thumbs> codebam: yes, deleting the log files was the solution
[05:34:55] *** Quits: rvgate (~rvgate@user/rvgate) (Read error: Connection reset by peer)
[05:35:33] *** Joins: rvgate (~rvgate@user/rvgate)
[06:14:51] *** Quits: alnr (~alnr@38.125.204.99) (Ping timeout: 256 seconds)
[06:41:07] *** Quits: Forza (~Forza@user/forza) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[06:41:20] *** Joins: Forza (~Forza@user/forza)
[06:41:25] *** Quits: Forza (~Forza@user/forza) (Client Quit)
[06:41:35] *** Joins: Forza (~Forza@user/forza)
[06:41:38] *** Quits: Forza (~Forza@user/forza) (Client Quit)
[06:41:47] *** Joins: Forza (~Forza@user/forza)
[06:46:22] *** Quits: Tabmow (~tabmow@user/tabmow) (Quit: ZNC 1.8.2 - https://znc.in)
[06:51:17] *** Joins: Tabmow (~tabmow@user/tabmow)
[07:06:43] *** Joins: pie_ (~pie_bnc@user/pie/x-2818909)
[07:07:09] <pie_> Hi folks,
[07:07:09] <pie_> Please for the love of god is there a beginner basic sql book somewhere (I can handle programming, I'm not a total beginner)
[07:07:09] <pie_> Sql for Smarties seems good for later stuff
[07:07:09] <pie_> or should I just read Ullman's Database Systems
[07:08:49] <pie_> SQL for Smarties appears to cop out on referring to a beginner text. It refers to some old beginner style guide the author wrote - which I haven't checked; so I'm not sure if it's just a style guide or actually intro material
[07:10:05] <thumbs> there are many sql tutorials on the net.
[07:10:10] <thumbs> !t pie_ tutorial
[07:10:10] <ubiquity_bot> pie_: MySQL Tutorial: http://dev.mysql.com/doc/en/tutorial.html SQL Tutorials: http://www.sqlcourse.com  http://tut.php-quake.net/en/mysql.html and sqlzoo.net
[07:14:00] *** Joins: makani_kai2368 (~makani_ka@gateway/vpn/pia/makanikai/x-36391196)
[08:02:10] <pie_> thumbs: thanks
[08:02:22] <pie_> I need to reach the level of being able to write stuff like this at least https://bpa.st/UEZA
[08:02:51] <pie_> (technically, we're using oracle in my university class, but I was told it would probably be good to ask here)
[08:20:19] <thumbs> pie_: most of that SQL is terrible
[08:20:59] <pie_> I'm all ears
[08:21:14] <thumbs> pie_: did you write it?
[08:21:37] <pie_> no, it's the notes of the lecturer from one of the lab classes
[08:21:46] <pie_> At least it's indented decently :p
[08:22:13] <pie_> how can you mess up a simple nested select though?
[08:22:38] <thumbs> they need to read about correlated subqueries, and how to avoid them
[08:24:01] <pie_> Hm, I think this section is about showing nested selects though, so maybe it's not representative.
[08:24:35] <thumbs> how not to do things properly in 8 ways?
[08:24:53] <thumbs> what an odd way to teach SQL to new users.
[08:25:01] <pie_> Looks like joins are here https://bpa.st/JQGQ
[08:25:59] <pie_> soon: "oh no natural joins"
[08:26:28] <thumbs> yes, most of it is idiotic to teach new users.
[08:26:53] <pie_> I'm not one to usually defend these lecturers in terms of the quality of the material but that seems a bit harsh
[08:27:17] <thumbs> pie_: why are you trying to defend those lectures?
[08:28:54] <pie_> It sounds reasonable for them to show more than less. - and I don't know if this was qualified with "this is what this looks like but you shouldn't use it." or not.
[08:29:01] <pie_> and maybe they don't know any better?
[08:29:08] <pie_> Kinda backwater university.
[08:29:28] <pie_> The only reason I know natural join is bad is because I skimmed the SQL for smarties section...
[08:29:40] <pie_> (of course one expects more of a lecturer than someone that just started)
[08:30:04] <pie_> anyway, ok the SQL is bad, now what?
[08:30:04] <thumbs> pie_: most of that material is inappropriate and misleading for new users.
[08:30:13] <thumbs> pie_: so disregard the whole lot
[08:31:13] <pie_> I need to have at least enough familiarity with the features to use them superficially. - but the problems are given as statements to be solved, the actual form of the solution isn't constrained; so if you insist I think I can do that.
[08:31:56] <pie_> I have two (apparently somewhat conflicting) targets here - one is to pass my class the other is to actually be any good at this.
[08:32:32] <pie_> by the way do you know anything good on understanding ER diagrams?
[08:33:33] <thumbs> pie_: the proper way is so start with correct basic examples
[08:33:48] <thumbs> pie_: you would usually read those.
[08:34:14] <thumbs> pie_: once you master the basics, you move on to more advanced proper examples
[08:34:55] <thumbs> pie_: throwing a bunch of unusable and poorly written SQL does not help anyone
[09:02:28] <pie_> sad https://stackoverflow.com/questions/712580/list-of-special-characters-for-sql-like-clause/712738#712738
[09:04:57] <thumbs> pie_: ok, you can stop now.
[09:06:46] *** Quits: mickey (~user@user/mickey) (Ping timeout: 260 seconds)
[09:15:07] *** Joins: mickey (~user@user/mickey)
[10:20:29] *** Quits: rvalue (~rvalue@user/rvalue) (Remote host closed the connection)
[10:21:24] *** Joins: rvalue (~rvalue@user/rvalue)
[10:23:55] *** Quits: faceface (~faceface@user/faceface) (Quit: Lost terminal)
[10:45:35] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[11:05:11] *** Joins: codebam_ (~codebam@user/codebam)
[11:07:31] *** Quits: codebam (~codebam@user/codebam) (Ping timeout: 260 seconds)
[11:36:54] *** Joins: tercaL (~tercaL@user/tercal)
[11:39:30] *** Joins: palasso (~palasso@user/palasso)
[12:03:06] <Isotopp> 8.0.29 around easter
[12:24:25] <obviyus> changelog?
[12:25:27] <Isotopp> not there yes, afaik
[12:25:50] <Isotopp> it says will be visible with release
[12:41:04] <obviyus> ah gotcha
[13:13:19] *** Quits: Heartsbane (tsharpe@shell.xmission.com) (Remote host closed the connection)
[14:36:05] <pagios> hey guys, do you recommend any password manager for teams? something  where i can specify permissions for users / etc
[14:52:21] <Vacuity> pagios: you might have a look at passbolt. or hashicorp vault. both have a free ("open source") tier and paid variants
[14:52:40] <pagios> Vacuity: checking passbolt its not working fine for me
[14:52:46] <pagios> i am not able to uninstall properly too
[14:52:50] <pagios> no instructions on how to uninstall
[14:53:23] <Vacuity> pagios: unfortunately I only used it as a user some time ago, no experience as admin for this (and definitely out of scope of this channel too :) )
[14:53:41] <pagios> was it a good expeirence?
[14:55:39] *** Joins: Sqaure (~a@user/square)
[14:56:10] *** Joins: DaNeenjah (~jake@adsl-74-230-4-23.hsv.bellsouth.net)
[14:56:37] <Vacuity> pagios: ok enough for our purposes. but then: we didn't have many requirements except "don't store those shared passwords on a confluence page" and "putting a keepass file on a shared drive will break on multi user access"
[14:57:09] <pagios> thanks
[15:01:36] *** Quits: David- (~none@host81-149-15-132.in-addr.btopenworld.com) (Ping timeout: 245 seconds)
[15:02:35] *** Joins: David- (~none@host81-149-15-132.in-addr.btopenworld.com)
[15:25:54] *** Joins: gastus (~gastus@mawercer.de)
[15:26:16] <gastus> https://dpaste.com/5QT3VW3F7 Can I use functional index on json data ?
[15:30:29] <Naktibalda> I think that you must double parenthesis around expression
[15:35:41] <gastus> ... on items ( ((CAST(json_extract(jsonb, '$.final_state.state.type') AS CHAR) )) )  same does not exist failure as in dpaste.
[15:36:54] <gastus> CREATE INDEX items_type ON items ( ((jsonb->'$.final_state.state.type')) );
[15:37:00] <gastus> That seems to work.
[15:41:56] <gastus> https://dpaste.com/B6R8SQS2S
[15:42:26] <gastus> I had the wrong database connection, was running it on PG by accident. But on MySQL I still don't get why the CAST is not working as expected in both cases
[15:45:58] <gastus> CREATE INDEX items_type ON items ( (( CAST( jsonb->>'$.final_state.state.type' AS CHAR(100)) )) );
[15:46:06] <gastus> giving length to char makes it work
[15:49:08] <gastus> And when using WHERE key is not picked up unless casting to char(100)
[15:50:27] *** Joins: mav`rik (~unknown@ec2-54-171-126-99.eu-west-1.compute.amazonaws.com)
[15:51:32] <gastus> And float key is not used at all.
[16:04:10] *** Quits: Xgc (~Xgc@user/xgc) (Quit: Leaving)
[16:08:01] <Isotopp> gastus: https://blog.koehntopp.info/2020/09/04/mysql-json-data-type.html https://blog.koehntopp.info/2020/09/07/mysql-generated-columns-and-virtual-indexes.html these two writeups discuss that and build on each other
[16:08:40] <Isotopp> tl;dr, yes, that works, and helps, but there is some type mangling between sql and json happening
[16:14:24] <gastus> yes, nood to cast the = 20 to = cast(20 as float) then its picked up.
[16:19:57] *** Quits: David- (~none@host81-149-15-132.in-addr.btopenworld.com) (Ping timeout: 250 seconds)
[16:21:16] *** Joins: David- (~none@host81-149-15-132.in-addr.btopenworld.com)
[16:51:10] *** Quits: rvalue (~rvalue@user/rvalue) (Remote host closed the connection)
[16:51:25] *** Joins: rvalue (~rvalue@user/rvalue)
[17:05:57] *** Quits: earthbre- (earthbreak@2600:3c03::f03c:91ff:fece:9070) (Quit: I Break D Ert)
[17:07:38] *** Joins: earthbreaker (earthbreak@2600:3c03::f03c:91ff:fece:9070)
[17:33:42] *** Joins: Xgc (~Xgc@user/xgc)
[17:35:05] *** Joins: fria (~siesta@112.207.33.219)
[17:37:59] *** Quits: FightingFalcon (~none@2a01:4f8:1c17:6cd5::1) (Changing host)
[17:37:59] *** Joins: FightingFalcon (~none@user/fightingfalcon)
[17:52:37] *** Quits: fria (~siesta@112.207.33.219) (Remote host closed the connection)
[18:12:59] <pie_> on problem 9: https://sqlzoo.net/wiki/The_JOIN_operation the first solution I got to work is `SELECT teamname, COUNT(teamname) FROM eteam t JOIN goal g ON teamid=id GROUP BY teamname;`
[18:13:26] <pie_> it seems like it would be more correct to group by the id (team id) since thats the primary key
[18:13:42] <pie_> but I can't do SELECT teamname, COUNT(id)
[18:14:03] <pie_> Does this makes sense? Is there a good way to do this?
[18:16:07] <Naktibalda> what error did you get when you grouped by id?
[18:17:23] <pie_> its the select teamname thats the issue because im not grouping by teamname
[18:17:45] <Naktibalda> it should be fine unless you are using ancient version of mysql
[18:17:47] <pie_> Column 'eteam.teamname' is invalid in the select list because it is not contained in either an aggregate function or the GROUP BY clause.
[18:18:20] <Naktibalda> though I haven't used any modern version :)
[18:18:49] <pie_> * That's the message
[18:19:58] <Naktibalda> https://dev.mysql.com/doc/refman/5.7/en/group-by-functional-dependence.html
[18:23:07] <pie_> Naktibalda: the example in "Functional Dependencies Derived from Keys" is basically exactly what I'm doing?
[18:24:38] <Naktibalda> yes
[18:49:39] <pie_> hmph.
[18:49:51] <pie_> ok so is there a good way to do this if that doesnt work?
[18:50:35] <Naktibalda> what version of mysql do you use?
[18:57:18] <Isotopp> pie_: easiest solution is SELECT teamname, count(player) FROM eteam JOIN goal ON id=teamid group by te
[18:57:21] <Isotopp> amname ORDER BY teamname
[18:57:37] <Isotopp> this takes the base query, which lists teams and player names who scored
[18:57:42] <Isotopp> and adds a group by team name.
[18:58:17] <Isotopp> this creates piles ("equivalence classes") on teamname, so instead of n lines with teamname playername pairs you get one line per team that stands in for all of the previous lines of that teamname
[18:58:45] <Isotopp> you can then "measure the pile" -- apply aggregate functions to the representations of the equivalence class.
[18:59:10] <Isotopp> for example, count the lines by applying count(playername) to the previous playername column
[19:01:38] <Isotopp> sorry, "player", not "playername"
[19:15:43] *** Quits: Spitfire (spitfire@user/Spitfire) (Ping timeout: 256 seconds)
[19:21:44] <Naktibalda> it seams that the issue was the team id wasn't a primary key https://dbfiddle.uk/?rdbms=mysql_8.0&fiddle=c13219cdba5b86f6e23d922a435e4ce3
[19:38:30] *** Quits: palasso (~palasso@user/palasso) (Ping timeout: 272 seconds)
[19:45:16] *** Joins: palasso (~palasso@user/palasso)
[19:59:02] *** Joins: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net)
[20:01:53] *** Joins: PTNapivoski (~PTNapivos@2804:60:1c2:9b00:9555:3900:9bc1:4186)
[20:28:22] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[20:52:17] *** Quits: PTNapivoski (~PTNapivos@2804:60:1c2:9b00:9555:3900:9bc1:4186) (Quit: Leaving)
[21:01:00] *** Joins: PTNapivoski (~PTNapivos@2804:60:1c2:9b00:283d:c55f:359b:1ac0)
[21:31:01] *** Quits: travisghansen (~travisgha@192.74.130.86) (Ping timeout: 240 seconds)
[21:36:49] *** Quits: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net) (Remote host closed the connection)
[21:41:22] *** Quits: David- (~none@host81-149-15-132.in-addr.btopenworld.com) (Ping timeout: 272 seconds)
[22:03:34] *** Joins: David- (~none@host81-149-15-132.in-addr.btopenworld.com)
[22:07:33] *** Quits: KnowledgeShark (~Knowledge@50.34.198.222) (Quit: Leaving)
[22:13:36] *** Quits: adas (adas@adas.shelltalk.net) (Ping timeout: 268 seconds)
[22:17:59] <CyberCr33p> Hello. Any idea why the 2nd query is faster than the first? The rows are almost the same in both queries.
[22:18:12] <thumbs> without seeing your queries?
[22:21:52] <CyberCr33p> oh
[22:21:54] *** Joins: David-- (~none@host81-149-15-132.in-addr.btopenworld.com)
[22:21:58] <CyberCr33p> https://dpaste.com/CPQQHCDAD
[22:22:26] *** Quits: David- (~none@host81-149-15-132.in-addr.btopenworld.com) (Ping timeout: 252 seconds)
[22:22:40] <thumbs> CyberCr33p: LIKE '%/5205531008562_1_1_0_image.jpg' can't use an index
[22:23:07] <CyberCr33p> thanks
[22:23:15] <Naktibalda> there is no index on meta_value, right?
[22:23:19] <thumbs> nor can the second query, so the table has to be scanned, which does not always take the same amount of time
[22:23:21] <Naktibalda> is it consistently faster?
[22:24:33] <thumbs> scanning 1M rows and taking between .6 and 1.2 seconds sounds about right
[22:24:41] <Naktibalda> anyway, 2x difference is not much, both queries are slow
[22:26:12] <CyberCr33p> yes no index on meta_value
[22:26:16] <CyberCr33p> but I will add
[22:26:41] <gutts> when you setup a foreign key, it automatically indexes for you, right? considering a key is an index?
[22:26:50] <thumbs> CyberCr33p: it won't help.
[22:26:53] <Naktibalda> CyberCr33p:  it won't help, unless you search by a prefix
[22:27:12] <Naktibalda> gutts: only in the table you are adding constraint to
[22:27:17] <thumbs> CyberCr33p: LIKE 'foo%' will use an index, LIKE '%foo' or LIKE 'foo%bar' won't
[22:27:23] <CyberCr33p> yes
[22:27:27] <CyberCr33p> this is how I will do it
[22:27:46] <CyberCr33p> the paths are 2022/*/file.jpg
[22:28:08] <CyberCr33p> so I will add 202 at the beginning and I will have to worry about it in 8 years :D
[22:31:32] <CyberCr33p> ok now it takes 0.07 sec
[22:31:37] <CyberCr33p> thank you both for the help
[22:36:30] <thumbs> sure
[22:40:13] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: Depression is merely anger without enthusiasm)
[22:50:43] *** Joins: DrowningElysium (uid190788@user/drowningelysium)
[22:51:48] *** Joins: adas (adas@adas.shelltalk.net)
[23:09:50] *** Joins: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net)
[23:33:28] *** Joins: GuestWesblake (~GuestWesb@client-67-58-235-233.consolidated.net)
[23:38:29] *** Quits: GuestWesblake (~GuestWesb@client-67-58-235-233.consolidated.net) (Quit: Connection closed)
[23:41:18] *** Joins: travisghansen (~travisgha@192.74.130.86)
[23:48:23] *** Quits: travisghansen (~travisgha@192.74.130.86) (Ping timeout: 260 seconds)
