[00:14:59] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 258 seconds)
[00:16:50] *** Joins: fikran (~fikran@user/fikran)
[00:23:12] <rb> JPEG day 9: IMAGE ACHIEVED! https://i.imgur.com/ggukwl4.png
[00:23:38] <rb> Cb and Cr components are already dequantized and ready to go
[00:26:19] *** Joins: argento (~argent0@168-227-96-26.ptr.westnet.com.ar)
[00:33:11] *** Joins: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75)
[00:33:52] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[00:37:19] *** Quits: explore (uid233125@id-233125.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[00:38:22] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 258 seconds)
[00:49:34] *** Joins: Catatonic (~Catatonic@ariel.whatbox.ca)
[00:54:48] *** Quits: Catatonic (~Catatonic@ariel.whatbox.ca) (Quit: Quit)
[00:57:13] *** Quits: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl) (Ping timeout: 244 seconds)
[00:57:54] *** Quits: pidroid (~pidroid@user/pidroid) (Quit: bye !)
[01:00:24] *** Joins: dre (~dre@2001:8003:c932:c301:a599:763f:a8fa:b8c1)
[01:01:47] *** Joins: blackout69 (~blackout6@net-31-156-121-187.cust.vodafonedsl.it)
[01:12:55] *** Quits: slav0nic (slav0nic@python.su) (Ping timeout: 260 seconds)
[01:29:05] *** Joins: dre_ (~dre@120.156.30.159)
[01:31:28] *** Quits: dre (~dre@2001:8003:c932:c301:a599:763f:a8fa:b8c1) (Ping timeout: 252 seconds)
[01:32:25] *** Quits: rje (~rje@50.35.241.164) (Ping timeout: 265 seconds)
[01:39:43] *** Quits: rannnn8888 (~rannnn888@bzq-79-176-138-108.red.bezeqint.net) (Quit: Client closed)
[01:44:58] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[01:49:27] *** Joins: explore (uid233125@id-233125.hampstead.irccloud.com)
[01:59:14] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[02:20:37] *** Joins: pidroid (~pidroid@user/pidroid)
[02:24:23] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 264 seconds)
[02:26:11] *** Joins: fikran (~fikran@user/fikran)
[02:26:37] *** Quits: argento (~argent0@168-227-96-26.ptr.westnet.com.ar) (Ping timeout: 244 seconds)
[02:29:43] *** Quits: blackout69 (~blackout6@net-31-156-121-187.cust.vodafonedsl.it) (Quit: Leaving.)
[02:50:14] *** Quits: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75) (Ping timeout: 258 seconds)
[02:52:12] *** Joins: humanBird (~humanBird@2603-8001-7003-5966-491b-5a54-bf80-483a.res6.spectrum.com)
[02:54:51] *** Quits: django-ticketbot (~django-ti@django/ops/ticketbot) (Remote host closed the connection)
[02:55:08] *** Joins: django-ticketbot (~django-ti@django/ops/ticketbot)
[02:55:50] *** Joins: captain_morgan (~morgan@oit.cloud)
[03:11:44] *** Quits: humanBird (~humanBird@2603-8001-7003-5966-491b-5a54-bf80-483a.res6.spectrum.com) (Quit: Client closed)
[03:12:20] *** Joins: cmbengue (~Thunderbi@207.191.249.160)
[03:18:41] *** Joins: argento (~argent0@168-227-96-26.ptr.westnet.com.ar)
[03:21:18] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[03:26:49] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[03:59:11] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 264 seconds)
[04:08:17] *** Joins: rje (~rje@50.35.241.164)
[04:14:35] *** Quits: PantelicGR (~PantelicG@user/pantelicgr) (Quit: Leaving)
[04:20:01] *** Quits: dre_ (~dre@120.156.30.159) (Quit: Leaving)
[04:23:44] *** Quits: Kalov (~Thunderbi@181.226.249.159) (Quit: Kalov)
[04:33:30] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 260 seconds)
[04:35:31] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[04:35:32] *** Joins: fikran (~fikran@user/fikran)
[04:40:00] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 260 seconds)
[04:43:25] *** Quits: argento (~argent0@168-227-96-26.ptr.westnet.com.ar) (Quit: leaving)
[04:52:40] *** Quits: cmbengue (~Thunderbi@207.191.249.160) (Quit: Thanks, see you later.)
[05:00:55] *** Joins: The_Jag (~The_Jag@host-79-13-46-237.retail.telecomitalia.it)
[05:03:23] *** Quits: The_Jag_ (~The_Jag@host-87-15-17-212.retail.telecomitalia.it) (Ping timeout: 264 seconds)
[05:04:53] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[05:11:21] *** Joins: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75)
[05:15:39] <daniel2> What is wrong with this:    {% if notification.action_object_content_type == 'friendship | Following Relationship' %} <= It doesn't seem to work, is it because the value has spaces?
[05:23:41] <dang`r`us> you're comparing with a literal string that contains a pipe
[05:24:06] <dang`r`us> you probably want to say either this or that, but you're saying equal to "this or that"
[05:25:25] <dang`r`us> try {% if notification.action_object_content_type == 'friendship' or notification.action_object_content_type == 'Following Relationship' %}
[05:25:55] *** Quits: masta`` (~oyster@user/masta/x-2645138) (Quit: Going offline, see ya! (www.adiirc.com))
[05:27:53] <daniel2> dang`r`us: I figured the pipe might be an issue, I'm not trying to use the pipe as  an or.
[05:28:01] <daniel2> The string literally has a pipe in it.
[05:38:56] <dang`r`us> ah, well then uuhmmm that's a pretty hardcore data model
[05:39:21] <dang`r`us> anyway, the comparison is fine then. your error is somewhere/something else.
[05:39:34] <dang`r`us> maybe that notification doesn't contain what you think it does
[05:39:43] <dang`r`us> or you're not hitting the surrounding context
[05:39:58] <dang`r`us> my advice, prepare as much as you can in the view, that's way easier to debug
[05:40:03] <dang`r`us> e.g. with literal breakpoints in the IDE
[05:40:27] *** Joins: cmbengue (~Thunderbi@207.191.249.160)
[05:41:50] <daniel2> dang`r`us: I just had it output the variable, which is what that said, plus in model admin, that's basically what it says, technically the value is a model of an app.
[05:42:21] <daniel2> so the app is friendship, and the model is described as Following Relationship.
[05:42:39] <dang`r`us> let me put it this way, you're putting logic in a string
[05:42:51] <dang`r`us> that's essentially inventing your own mini programming language
[05:42:54] <dang`r`us> not a good idea in my book
[05:43:01] <dang`r`us> anyway, like I said, the comparison itself is fine
[05:46:11] *** Quits: domhnall (~developer@user/domhnall/x-2887755) (Ping timeout: 258 seconds)
[05:46:24] <daniel2> Is there a way to escape that?
[05:46:39] <daniel2> Oh, so yeah, it shouldn't matter cause its a string.
[05:46:43] <daniel2> Sorry confusing myself over here.
[05:47:47] *** Joins: domhnall (~developer@user/domhnall/x-2887755)
[05:47:56] *** Quits: cmbengue (~Thunderbi@207.191.249.160) (Quit: Thanks, see you later.)
[05:53:11] *** Quits: dez (uid92154@user/dez) (Ping timeout: 264 seconds)
[05:53:16] *** Quits: explore (uid233125@id-233125.hampstead.irccloud.com) (Ping timeout: 252 seconds)
[05:53:40] *** Joins: explore (uid233125@hampstead.irccloud.com)
[05:55:05] *** Joins: dez (uid92154@user/dez)
[06:07:45] *** Quits: domhnall (~developer@user/domhnall/x-2887755) (Ping timeout: 244 seconds)
[06:39:05] *** Quits: explore (uid233125@hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[06:42:59] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 264 seconds)
[06:44:53] *** Joins: fikran (~fikran@user/fikran)
[06:55:25] *** Quits: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75) (Ping timeout: 252 seconds)
[07:02:34] *** Joins: dre (~dre@2001:8003:c932:c301:a599:763f:a8fa:b8c1)
[07:03:20] *** Joins: bitdex (~bitdex@gateway/tor-sasl/bitdex)
[07:04:09] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[07:27:33] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:28:45] *** Joins: dre_ (~dre@120.156.30.159)
[07:31:13] *** Quits: dre (~dre@2001:8003:c932:c301:a599:763f:a8fa:b8c1) (Ping timeout: 258 seconds)
[07:31:58] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 244 seconds)
[08:19:36] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Remote host closed the connection)
[08:21:33] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[08:23:50] *** Joins: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75)
[08:25:41] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 244 seconds)
[08:26:08] *** Joins: sandeepk (~sandeepk@2402:3a80:902:72f3:83b7:2817:d32c:d64b)
[08:30:25] *** Quits: kenbolton (~kenbolton@2001:470:69fc:105::2d24) (*.net *.split)
[08:30:25] *** Quits: syberspa1e (~syberspac@xiaoxiao.anvor.at) (*.net *.split)
[08:30:25] *** Quits: saschi (~saschi@user/saschi) (*.net *.split)
[08:30:25] *** Quits: enkrypt (~enkrypt@user/enkrypt) (*.net *.split)
[08:30:25] *** Quits: lithammer (~lithammer@2a02:2770::21a:4aff:fe88:c18d) (*.net *.split)
[08:30:25] *** Quits: mboehn (mathias@hh1.nuxis.org) (*.net *.split)
[08:30:25] *** Quits: spaceone (~spaceone@wc1.wechall.net) (*.net *.split)
[08:30:25] *** Quits: b-rex (van@down.by.the.river.lol) (*.net *.split)
[08:30:25] *** Quits: farn (~farn@2a03:4000:7:3cd:d4ab:85ff:feeb:f505) (*.net *.split)
[08:30:25] *** Quits: Wooble (~Wooble@107.170.27.240) (*.net *.split)
[08:30:43] *** Joins: syberspace (~syberspac@xiaoxiao.anvor.at)
[08:30:45] *** Joins: b-rex (van@down.by.the.river.lol)
[08:31:02] *** Joins: lithammer (~lithammer@2a02:2770::21a:4aff:fe88:c18d)
[08:31:31] *** Joins: Wooble (~Wooble@107.170.27.240)
[08:35:04] *** Joins: kenbolton (~kenbolton@2001:470:69fc:105::2d24)
[08:43:42] *** Joins: Steve-Dusty (~Steve-Dus@user/steve-dusty)
[08:43:54] <Steve-Dusty> Guys I want to write a Django app that can display videos
[08:44:01] <Steve-Dusty> So I got stuck on this part
[08:44:30] <PaulWay[w]> The 'display videos' part is unrelated to the 'Django app' part btw.
[08:44:48] <Steve-Dusty> When I did {{ video.video_file }} it just gave me this long <django.core.files.storage.FileSystemStorage object at 0x7f83371a4e50>/MemeFeedBot-898.mp4
[08:45:04] <Steve-Dusty> I created a "media" folder and inside have a "video" folder
[08:45:12] <Steve-Dusty> I didn't config anything in settings tho
[08:45:22] <Steve-Dusty> https://dpaste.org/hWZ3
[08:45:23] <Steve-Dusty> here's my models.py
[08:45:38] <Steve-Dusty> idk how to make it display vid
[08:46:52] <Steve-Dusty> I don't know why it didn't save to media/videos
[08:47:00] <Steve-Dusty> instead it created a whole new folder with a long giant name
[08:47:12] <PaulWay[w]> I'm not sure how file objects go about presenting their content.
[08:47:34] <PaulWay[w]> But having the content turn up may still not be enough to get a nice video player in your browser.
[08:48:24] <PaulWay[w]> Essentially what has to happen is that the page presents some object which is a video player, which gets the source of its video from some URL in Django.
[08:48:54] *** Quits: Steve-Dusty (~Steve-Dus@user/steve-dusty) (Quit: Client closed)
[08:49:32] *** Joins: Steve-Dusty (~Steve-Dus@user/steve-dusty)
[08:49:32] <Steve-Dusty> sorry my arch broke
[08:49:39] <Steve-Dusty> sorry my arch broke
[08:49:41] <Steve-Dusty> so back to the issue
[08:49:43] <PaulWay[w]> No worries, happens to everyone.
[08:50:03] <Steve-Dusty> somehow I need to configure like media_files in settings.py or something
[08:52:35] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 264 seconds)
[08:53:44] <PaulWay[w]> So do you get my point about the video player?
[08:54:14] *** Joins: fikran (~fikran@user/fikran)
[08:54:40] <Steve-Dusty> No
[08:54:45] <Steve-Dusty> Maybe I didn't see your message
[08:54:49] <Steve-Dusty> because I got kicked from IRC
[08:55:01] <Steve-Dusty> can you repeat that?
[08:55:13] <PaulWay[w]> Sure.
[08:55:26] <PaulWay[w]> So there's two parts to playing a video from a web page.
[08:55:35] <PaulWay[w]> One is the page that contains the video player object.
[08:55:56] <PaulWay[w]> That could be HTML 5, or some piece of javascript or java (Shiznax help you), or whatever.
[08:56:11] <PaulWay[w]> The other is supplying the content of the video file to the browser.
[08:56:50] <Steve-Dusty> ok
[08:57:23] <PaulWay[w]> So as far as the video player object is concerned, I have no opinions other than to look at HTML 5.
[08:57:33] <PaulWay[w]> And as far as the content is concerned, you probably don't want to store the content of a file in your database.
[08:58:01] <PaulWay[w]> It's better as a static file that the web server (Apache, NGINX, whatever) can serve directly.
[08:58:16] <Steve-Dusty> but on the docs
[08:58:18] <Steve-Dusty> it save to the db
[08:58:29] <PaulWay[w]> What docs?
[08:58:31] <Steve-Dusty> I wanna make a YT like thing
[08:58:38] <Steve-Dusty> https://docs.djangoproject.com/en/3.2/topics/files/
[08:59:24] <PaulWay[w]> Yes, uploaded files can be stored as binary blobs in your database.
[08:59:28] <PaulWay[w]> This is almost never a good idea.
[09:00:30] <PaulWay[w]> Notice that right at the top of that document it says that the content of the files are stored locally using the MEDIA_ROOT and MEDIA_URL settings.
[09:01:20] *** Joins: jef79m (~jeff@124-149-36-111.dyn.iinet.net.au)
[09:01:35] <Steve-Dusty> ok so wjhat should I do :(
[09:02:25] <PaulWay[w]> Well, read the "File storage" section in that document first.
[09:02:33] <PaulWay[w]> Use FileSystemStorage.
[09:02:34] *** Joins: djapo (~archangel@user/djapo)
[09:03:11] <PaulWay[w]> Then work out how your MEDIA_ROOT and MEDIA_URL settings work to provide you with a path to serving that file.
[09:03:30] <PaulWay[w]> Make sure you work out how your static files are served, including that media.
[09:03:39] *** Quits: jef79m (~jeff@124-149-36-111.dyn.iinet.net.au) (Client Quit)
[09:03:49] <PaulWay[w]> Then make the video player object request the media file.
[09:04:09] <PaulWay[w]> You're an intelligent guy, you should be able to figure most of that out.
[09:07:31] <Steve-Dusty> wait I used FIleSystemStorage
[09:08:09] *** Joins: jef79m (~jeff@124-149-36-111.dyn.iinet.net.au)
[09:08:27] <jef79m> Does anybody know the differences between get_inlines() and get_formsets_with_inlines() on a modelAdmin? I want to not display some inlines if they have no content.
[09:14:20] *** Quits: Steve-Dusty (~Steve-Dus@user/steve-dusty) (Quit: Client closed)
[09:24:03] <PaulWay[w]> jef79m: I suspect you can filter the output of get_inlines() or get_formset_with_inlines() inside another function.
[09:24:22] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[09:28:57] <serafeim> hellio friends
[09:29:03] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 260 seconds)
[09:29:45] *** Quits: Ilyu (~quassel@166.215.82.79.rev.sfr.net) (Ping timeout: 244 seconds)
[09:31:32] <jef79m> @PaulWay: yeah, I can do what I want via either method.. I was just unsure which was the "best" approach. I'm leaning toward get_inlines(), but some existing code in our codebase uses get_formsets_with_inlines(), I just don't know why. Thought there may have been an important reason.
[09:31:51] <PaulWay[w]> No idea.
[09:54:54] *** Quits: bitdex (~bitdex@gateway/tor-sasl/bitdex) (Ping timeout: 276 seconds)
[10:00:06] *** Quits: dre_ (~dre@120.156.30.159) (Quit: Leaving)
[10:04:10] *** Quits: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75) (Ping timeout: 258 seconds)
[10:11:04] *** Quits: pidroid (~pidroid@user/pidroid) (Ping timeout: 258 seconds)
[10:28:12] *** Joins: iomari891 (~iomari891@105.112.138.38)
[10:32:47] *** Quits: sandeepk (~sandeepk@2402:3a80:902:72f3:83b7:2817:d32c:d64b) (Ping timeout: 264 seconds)
[10:39:31] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 260 seconds)
[10:42:03] *** Joins: pidroid (~pidroid@user/pidroid)
[10:57:20] *** Joins: pycode1 (~pycode@2001:b07:5d28:551:e350:db8a:6308:de6e)
[11:01:55] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 260 seconds)
[11:03:35] *** Joins: fikran (~fikran@user/fikran)
[11:13:40] *** Joins: maharg101 (~maharg101@savoy.force9.co.uk)
[11:26:33] *** Joins: slav0nic (slav0nic@python.su)
[11:26:46] *** Quits: jess (~jess@libera/staff/jess) (Quit: Lost terminal)
[11:30:52] *** Joins: Tas-sos (~Tas-sos@46-219-149.adsl.cyta.gr)
[11:32:58] *** Joins: jess (~jess@libera/staff/jess)
[11:50:50] *** Joins: enkrypt (~enkrypt@user/enkrypt)
[11:52:46] *** Joins: flying_sausages (~flying_sa@user/flying-sausages/x-2113186)
[11:53:29] <flying_sausages> Morning! Anyone have recommendations for packages that provide functionality to store trees better? I've seen a couple online but I'd like to see what people in here have actual good experience with
[11:54:11] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[11:57:48] *** Joins: djapo (~archangel@user/djapo)
[11:58:51] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 260 seconds)
[12:00:14] *** Joins: pidroid1 (~pidroid@user/pidroid)
[12:02:07] *** Quits: pidroid (~pidroid@user/pidroid) (Ping timeout: 260 seconds)
[12:02:07] *** pidroid1 is now known as pidroid
[12:05:23] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 260 seconds)
[12:06:56] <FunkyBob> flying_sausages: so long as you're using postgres... yes
[12:08:11] <FunkyBob> https://pypi.org/project/django-closure-tree/
[12:09:40] *** Joins: tamere (~tamere@user/loodoons)
[12:12:24] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[12:13:10] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.3)
[12:17:25] *** Joins: sandeepk (~sandeepk@2402:3a80:90f:de1a:8d15:8d31:7aa:86)
[12:27:09] *** Quits: ubernostrum (~jbennett@75-37-202-116.lightspeed.snmtca.sbcglobal.net) (Ping timeout: 258 seconds)
[12:27:37] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[12:29:34] *** Joins: Atque (~Atque@user/atque)
[12:40:45] *** Quits: tamere (~tamere@user/loodoons) (Ping timeout: 256 seconds)
[12:51:22] <pycode1> hello everybosy
[12:51:26] <pycode1> everybody
[12:57:58] *** ChanServ changes topic to 'Welcome to #django || Please provide code and __full__ traceback in a pastebin || Pastebin at: http://dpaste.de/ -- do not use pastebin.com! || Django CoC applies: https://www.djangoproject.com/conduct/ || Django 4.0 beta 1 released https://www.djangoproject.com/weblog/2021/oct/25/django-40-beta-1-released/'
[13:05:05] *** Joins: iomari891 (~iomari891@105.112.138.38)
[13:11:19] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 265 seconds)
[13:12:56] *** Joins: fikran (~fikran@user/fikran)
[13:29:05] *** Joins: fandre1986 (~fandre198@178-36-241-155.adsl.inetia.pl)
[13:42:23] *** Quits: sandeepk (~sandeepk@2402:3a80:90f:de1a:8d15:8d31:7aa:86) (Ping timeout: 264 seconds)
[13:52:31] <pycode1> what CBV can i use to automatically call the save() in form_Valid() ?
[13:52:47] <pycode1> i am using FormView but form_valid return and http response (reidrect)
[13:52:53] <pycode1> i also need to call the form.save()
[13:53:00] <pycode1> now i do it manually
[13:53:17] <pycode1> https://bpa.st/NCBQ
[13:53:22] <pycode1> but i suppose there is something builtin
[13:55:59] <carlio> perhaps use a CreateView or UpdateView instead of a raw FormView? (https://docs.djangoproject.com/en/3.2/ref/class-based-views/generic-editing/#django.views.generic.edit.UpdateView)
[13:58:11] <pycode1> ok
[13:58:15] <pycode1> thanks
[14:11:12] *** Joins: sandeepk (~sandeepk@2402:3a80:922:330a:3f75:baec:36ab:428a)
[14:16:48] <fandre1986> Hello Colleagues , anybody can give me a hand with this issue?
[14:16:51] <fandre1986> https://dpaste.org/1ejM
[14:17:55] <fandre1986> I tried to put as much as information as possible. Any hint is precious
[14:19:57] <serafeim> fandre1986: have you run the migrations ?
[14:20:10] <fandre1986> Yes, I did
[14:24:50] <fandre1986> Added logs from runserver, my django and python version here https://dpaste.org/KGVt#L118
[14:37:22] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[14:54:39] *** Joins: mattil (~mattil@d1wp01-j7xdc81gxkky-4.rev.dnainternet.fi)
[14:54:43] *** Quits: mattil (~mattil@d1wp01-j7xdc81gxkky-4.rev.dnainternet.fi) (Read error: Connection reset by peer)
[14:57:00] *** Joins: UnnamedBeer (~UnnamedBe@100.red-83-54-17.dynamicip.rima-tde.net)
[15:00:54] *** Joins: DnzAtWrk (~DnzAtWrk@mobile-access-567377-189.dhcp.inet.fi)
[15:03:34] *** Quits: hyper_dave (~hyper_dav@2a01:4f9:4a:246c::2) (Read error: Connection reset by peer)
[15:04:09] *** Joins: hyper_dave (~hyper_dav@2a01:4f9:4a:246c::2)
[15:05:33] <diverdude> FunkyBob: hello. I am using your blog: https://blog.tinbrain.net/blog/session-auth-spa.html   Loging works great from SPA, but I would like to be able to log in using POSTMAN or CURL. However when i try i get forbidden. I know the credentials are correct so i am suspecting csrf to be wrong. Do you know how to log on using curl or postman?
[15:09:33] <carlio> when using curl, are you sending the CSRF as a cookie or a header?
[15:09:34] *** Joins: masta`` (~oyster@user/masta/x-2645138)
[15:09:39] *** Joins: masta_ (~oyster@user/masta/x-2645138)
[15:10:31] <diverdude> carlio: im not sure.... because i have also not been able to make curl work....it only works on JS
[15:11:22] <carlio> what is your curl command? it won't do it by default, you have to explicitly include it in your command
[15:16:43] *** Quits: pycode1 (~pycode@2001:b07:5d28:551:e350:db8a:6308:de6e) (Ping timeout: 260 seconds)
[15:17:09] *** Quits: masta_ (~oyster@user/masta/x-2645138) (Quit: Going offline, see ya! (www.adiirc.com))
[15:17:36] *** Quits: sandeepk (~sandeepk@2402:3a80:922:330a:3f75:baec:36ab:428a) (Ping timeout: 245 seconds)
[15:20:27] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 260 seconds)
[15:22:17] *** Joins: fikran (~fikran@user/fikran)
[15:37:32] *** Joins: mattil (~mattil@d1wp01-j7xdc81gxkky-4.rev.dnainternet.fi)
[15:43:19] *** Quits: mattil (~mattil@d1wp01-j7xdc81gxkky-4.rev.dnainternet.fi) (Ping timeout: 260 seconds)
[15:46:26] *** Joins: Ilyu (~quassel@78.202.228.230)
[15:47:56] *** Joins: blackout69 (~blackout6@net-31-156-121-187.cust.vodafonedsl.it)
[15:48:12] *** Joins: Ergo^ (~ergo@91.238.59.144)
[15:53:24] <fandre1986> serafeim It seems the model I created is not in my database but I already run migrations
[15:55:49] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[16:00:06] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 245 seconds)
[16:02:46] *** Joins: cmbengue (~Thunderbi@207.191.249.160)
[16:13:02] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 260 seconds)
[16:15:32] *** Joins: Trieste (T@user/pilgrim)
[16:16:39] *** Joins: pycode1 (~pycode@2001:b07:5d28:551:ddfc:823a:600e:e0a6)
[16:26:04] *** Joins: sandeepk (~sandeepk@2402:3a80:936:f682:a5c2:a276:934a:6d3)
[16:30:44] *** Joins: shiriru (~shiriru@user/shiriru)
[16:31:11] *** Quits: shiriru (~shiriru@user/shiriru) (Remote host closed the connection)
[16:38:23] *** Quits: Tas-sos (~Tas-sos@46-219-149.adsl.cyta.gr) (Ping timeout: 260 seconds)
[17:16:37] *** Quits: DnzAtWrk (~DnzAtWrk@mobile-access-567377-189.dhcp.inet.fi) (Read error: Connection reset by peer)
[17:19:34] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[17:20:14] *** Quits: cmbengue (~Thunderbi@207.191.249.160) (Ping timeout: 265 seconds)
[17:23:27] *** Joins: Atque (~Atque@user/atque)
[17:27:27] *** Quits: masta`` (~oyster@user/masta/x-2645138) (Quit: Going offline, see ya! (www.adiirc.com))
[17:29:54] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 265 seconds)
[17:31:38] *** Joins: fikran (~fikran@user/fikran)
[17:34:13] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[17:35:04] *** Joins: cmbengue (~Thunderbi@207.191.249.160)
[17:44:18] *** Quits: blackout69 (~blackout6@net-31-156-121-187.cust.vodafonedsl.it) (Quit: Leaving.)
[17:47:11] *** Joins: masta`` (~oyster@user/masta/x-2645138)
[17:48:23] *** Quits: sandeepk (~sandeepk@2402:3a80:936:f682:a5c2:a276:934a:6d3) (Ping timeout: 264 seconds)
[17:54:30] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[18:00:03] *** Joins: lazzurs (~lazzurs@user/lazzurs)
[18:06:20] *** Quits: fandre1986 (~fandre198@178-36-241-155.adsl.inetia.pl) (Quit: Connection closed)
[18:10:50] *** Joins: ChkDigit (~u388mw@207-195-34-73.prna.static.sasknet.sk.ca)
[18:12:27] *** Joins: stdout (~stdout@216.163.21.11)
[18:14:59] *** Quits: Ergo^ (~ergo@91.238.59.144) (Ping timeout: 260 seconds)
[18:20:06] *** Joins: DnzAtWrk (~DnzAtWrk@mobile-access-567377-189.dhcp.inet.fi)
[18:20:18] *** Joins: Atque (~Atque@user/atque)
[18:29:38] *** Joins: Ergo^ (~ergo@91.238.59.144)
[18:44:47] *** Joins: ubernostrum (~jbennett@75-37-202-116.lightspeed.snmtca.sbcglobal.net)
[18:50:50] *** Quits: UnnamedBeer (~UnnamedBe@100.red-83-54-17.dynamicip.rima-tde.net) (Quit: WeeChat 2.3)
[18:54:49] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[19:04:52] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[19:06:21] *** Joins: theprophet (~theprophe@85.114.228.184)
[19:12:41] *** Joins: pro_z (~pro_z@37.214.49.15)
[19:18:12] <pycode1> can i add a fields on a modelform in __init__ ?
[19:19:16] *** Parts: dminuoso (~dminuoso@user/dminuoso) (WeeChat 3.1)
[19:24:11] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.3)
[19:30:36] <dang`r`us> pycode1, https://stackoverflow.com/a/2600146
[19:30:56] *** Quits: Ilyu (~quassel@78.202.228.230) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[19:31:41] <pycode1> thanks dang`r`us
[19:31:58] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[19:32:00] *** Joins: Steve-Dusty (~Steve-Dus@user/steve-dusty)
[19:32:01] <dang`r`us> 1 google away ;)
[19:32:06] <Steve-Dusty> hey
[19:32:26] <Steve-Dusty> according to the django documentation, FileSystemStorage(location=None) is the absolute value
[19:32:34] *** Joins: rpkilby (~rpkilby@ec2-34-252-84-235.eu-west-1.compute.amazonaws.com)
[19:32:41] <Steve-Dusty> absolute path*
[19:32:58] <Steve-Dusty> that is linked to MEDIA_ROOT as base
[19:33:23] <Steve-Dusty> so I have a "videos" inside "media' folder
[19:33:56] <Steve-Dusty> but when I do fs = FileSystemStorage(location='/videos') it still goes inside media not video
[19:34:02] <Steve-Dusty> media only*
[19:34:26] <dang`r`us> which documentation are you referring to?
[19:35:02] <Steve-Dusty> https://docs.djangoproject.com/en/3.2/topics/files/
[19:36:15] <dang`r`us> where does it say absolute path?
[19:36:24] <dang`r`us> the word "absolute" is not once on that page
[19:36:43] <dang`r`us> ah, https://docs.djangoproject.com/en/3.2/ref/files/storage/#django.core.files.storage.FileSystemStorage
[19:36:50] <dang`r`us> (please be precise with your links, chasing is not fun)
[19:36:54] <dang`r`us> ok so .. *reading*
[19:37:36] <Steve-Dusty> ok :(
[19:38:00] <dang`r`us> your files would end up in /videos, not $MEDIA_ROOT/videos, if you said location='/videos'; it's an absolute path
[19:38:58] <dang`r`us> for relative paths, use upload_to  https://docs.djangoproject.com/en/3.2/ref/models/fields/#django.db.models.FileField.upload_to
[19:39:26] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 265 seconds)
[19:39:40] <dang`r`us> (and don't customize the storage at all)
[19:40:58] *** Joins: fikran (~fikran@user/fikran)
[19:43:58] *** Quits: rje (~rje@50.35.241.164) (Ping timeout: 260 seconds)
[19:45:42] <Steve-Dusty> can someone tell me what's wrong with this
[19:45:54] <Steve-Dusty> i keep getting this error django.db.utils.IntegrityError: NOT NULL constraint failed: new__video_video.description
[19:45:56] *** Quits: Ergo^ (~ergo@91.238.59.144) (Remote host closed the connection)
[19:46:01] <Steve-Dusty> https://dpaste.org/g6ZQ
[19:47:19] <dang`r`us> makemigrations && migrate?
[19:47:41] *** Joins: Kalov (~Thunderbi@181.226.249.159)
[19:50:15] <Steve-Dusty> did
[19:51:10] <Steve-Dusty> still error
[19:51:16] <Steve-Dusty> it just said "no changes detected"
[19:51:18] <Steve-Dusty> and then errors
[19:53:15] <Steve-Dusty> https://stackoverflow.com/questions/4384098/in-django-models-py-whats-the-difference-between-default-null-and-blank according to this post
[19:53:49] <Steve-Dusty> I shouldnt put "null=True" in TextField fields. Butwhen I remove it it'd just ask me to select something "please select for fix"
[19:57:01] <Steve-Dusty> should I just delete my migrations folder and restart
[20:02:44] *** Quits: theprophet (~theprophe@85.114.228.184) (Quit: Client closed)
[20:04:01] <Steve-Dusty> https://dpaste.org/9k0f
[20:04:04] <Steve-Dusty> why do I get this error
[20:07:08] <Steve-Dusty> Fixed it
[20:07:10] <Steve-Dusty> i redid my db
[20:14:25] *** Joins: blackout69 (~blackout6@net-31-156-121-187.cust.vodafonedsl.it)
[20:16:54] *** Joins: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net)
[20:17:42] <Steve-Dusty> Django docs doesn't tell you how to play a vid :|
[20:19:30] *** Joins: explore (uid233125@id-233125.hampstead.irccloud.com)
[20:19:51] *** Joins: djapo (~archangel@user/djapo)
[20:22:45] <dodo> um, it's just a file. playing it is not django's job (and best practices keep changing)
[20:22:51] *** Joins: bitdex (~bitdex@gateway/tor-sasl/bitdex)
[20:24:24] <Steve-Dusty> dodo it kinda is
[20:24:32] <Steve-Dusty> if you look at the tutorials
[20:25:00] <dodo> the tutorials?
[20:25:01] *** Joins: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl)
[20:25:27] <Steve-Dusty> 3rd party tutorials on 'making a video player'
[20:25:35] <Steve-Dusty> and people add stuff like "+ static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)" this to the end of settings.py
[20:25:43] <Steve-Dusty> the docs doesnt explain why you need it
[20:25:47] <dodo> um. that's just no
[20:25:55] <dodo> don't read bad tutorials?
[20:25:57] <Steve-Dusty> if django's job isnt to play a vid then why do we need to add that
[20:26:02] <Steve-Dusty> multiple tutorials added that
[20:26:12] <dodo> sounds like a dev setup
[20:26:19] <dodo> it's ok during early dev i guess
[20:26:33] <Steve-Dusty> and even then, it doesnt say how we should be displaying the vid
[20:26:36] <Steve-Dusty> to get the vid
[20:26:39] <Steve-Dusty> through video.url??
[20:26:46] <dodo> that's one way, yeah
[20:26:48] <Steve-Dusty> a ".url" doesn't exist in the docs
[20:26:52] <Steve-Dusty> while tutorials show it
[20:27:05] <Steve-Dusty> and it still doesnt work
[20:27:14] <Steve-Dusty> https://dpaste.org/WeH7
[20:27:20] <dodo> https://docs.djangoproject.com/en/3.2/ref/models/fields/#django.db.models.fields.files.FieldFile.url
[20:27:38] *** Quits: DnzAtWrk (~DnzAtWrk@mobile-access-567377-189.dhcp.inet.fi) (Read error: Connection reset by peer)
[20:27:42] <dodo> "doesn't work" doesn't really tell us anything useful
[20:27:51] <dodo> e.g., which url does that point to, and which response do you get there?
[20:28:16] <dodo> i'd guess video is your object, not the actual file
[20:30:58] <Steve-Dusty> here's my views and models.py https://dpaste.org/P5LU
[20:31:47] *** Joins: rje (~rje@65.141.156.170)
[20:39:27] *** Joins: dminuoso (~dminuoso@user/dminuoso)
[20:39:52] <dminuoso> Hi. When not otherwise overriden, where can I find default implementation of __str__ for a model in the django source code?
[20:41:31] *** Joins: domhnall (~developer@user/domhnall/x-2887755)
[20:42:27] *** Joins: saschi (~saschi@user/saschi)
[20:50:34] *** Quits: djapo (~archangel@user/djapo) (Read error: Connection reset by peer)
[20:51:54] <moldy> dminuoso: not sure, but if __str__() is not defined, it calls __repr__(), so you might have to look for that
[20:52:41] <moldy> however, that one might also not be defined by django and just use the default of <class 'object'>
[20:52:48] <dminuoso> moldy: Ah, both are defined in django/db/models/base.py it seems
[20:52:55] *** Joins: iomari891 (~iomari891@105.112.138.38)
[20:53:14] <moldy> ah yup
[20:53:50] <dminuoso> Thanks!
[20:54:16] <dminuoso> I have this really tough spot where .prefetch_related makes an N+1 by 2 orders of magnitude worse, and I cant for my life figure out why
[20:58:35] <moldy> dminuoso: first thing: did you check the number of queries?
[20:59:06] <moldy> if the number of queries is fine (constant), it could be that some queries are really slow. or it could be ORM overhead. .values() can help sometimes.
[20:59:43] <dminuoso> moldy: The N+1 is unbearable already.
[20:59:59] <moldy> dminuoso: hmm i think you misunderstood me :)
[21:00:08] <dminuoso> Ah. Yes I did.
[21:00:18] <moldy> what i mean is: first check how many queries you are really doing. prefetch_related() can unfortunately silently "fail"
[21:00:27] <dminuoso> So it changes from N+1 to 100*n+1
[21:00:35] <dminuoso> Roughly.
[21:00:38] <moldy> in number of queries or in time?
[21:00:42] <dminuoso> Number of queries
[21:00:59] <moldy> probably you're accidentally invalidating the prefetch cache
[21:01:01] <dminuoso> select_related (which works for my case) has the same effect.
[21:01:05] <moldy> can you show us the code?
[21:02:34] <dminuoso> Im a bit new at django, give me a minute to make a gist out of this
[21:04:52] <pycode1> does anyone know how to manage dinamic number of elements into an arrayfield ?
[21:05:03] <pycode1> i am using SplitArrayField
[21:05:26] <pycode1> it is working good basically i am creating a new input type="text" for every sentence i need to save
[21:05:35] <pycode1> but i must pass the "size" parameter
[21:05:36] *** Joins: djapo (~archangel@user/djapo)
[21:05:42] <pycode1> i would like to add new sentnces via js too
[21:05:51] <pycode1> so how can i manage dinamic number of elements?
[21:06:02] <dminuoso> moldy: https://gist.github.com/dminuoso/9ddddb221da88da4ae6ac6953a070330#file-template-html-L14
[21:06:13] <dminuoso> This is the offending line that triggers the original N+1
[21:06:20] <dminuoso> https://gist.github.com/dminuoso/9ddddb221da88da4ae6ac6953a070330#file-views-py-L13
[21:06:22] <pycode1> https://docs.djangoproject.com/en/3.2/ref/contrib/postgres/forms/#splitarrayfield
[21:06:29] <dminuoso> This is where I added the prefetch/select_related
[21:06:56] <dminuoso> Im thinking that this prefetch related seems to eagerload *too* much
[21:09:12] <moldy> dminuoso: maybe ChangedObject.get_absolute_url() is causing the queries, how does it look?
[21:09:56] <dminuoso> moldy: Ive already done a binary search. The linked line is definitely the problematic cause.
[21:10:00] <moldy> also, you're not prefetching ObjectChange.changed_object
[21:10:12] <dminuoso> Right, I dont need that.
[21:10:17] <moldy> why not?
[21:10:54] <moldy> ``{{ change.changed_object.get_absolute_url }}`` this will do a query for every iteration of the loop to get .changed_object, and then possibly do more queries inside get_absolute_url()
[21:11:03] <dminuoso> For one, this is a polymorphic relationship, I dont think I even can prefetch it (I'd be very amazed if django knew how to do this), and also I dont need anything from the actually changed_object
[21:11:34] <moldy> prefetch_related() does support generic FKs, yes
[21:11:39] <dminuoso> Mmm
[21:11:51] <moldy> https://docs.djangoproject.com/en/3.2/ref/models/querysets/#prefetch-related
[21:11:54] <dminuoso> moldy: Perhaps get_absolute_url is also problematic, we can remove it and ignore it for now.
[21:12:03] <dminuoso> moldy: either way, I dont need the actual changed_object
[21:12:26] <moldy> for changed_object_type you can use select_related instead of prefetch_related, by the way
[21:12:28] <dminuoso> Or hold I think there's some confusion
[21:12:30] <dminuoso> Hold on one sec
[21:12:40] <dminuoso> The names are terribly ambiguous and confusing
[21:12:48] <moldy> your code certainly looks like you do, since you are calling a method on it ;)
[21:13:02] <moldy> plus outputting it's __str__()
[21:13:45] <pycode1> anyone?
[21:15:03] <dminuoso> "For example, prefetching objects referenced by a GenericForeignKey is only supported if the query is restricted to one ContentType."
[21:15:11] <dminuoso> moldy: ^- and we're not restricting to one content type
[21:15:28] <dminuoso> It's inherently heterogeneous
[21:15:57] <moldy> ah right, in that case you'll have to handle things yourself
[21:16:33] <Steve-Dusty> I still can't figure out how to get video in Django
[21:16:43] <Steve-Dusty> I made a model
[21:16:47] <Steve-Dusty> saved it into /media/videos
[21:17:01] <moldy> but yeah, as the code in the gist looks, this will definitely do at least n+1 queries
[21:17:08] <Steve-Dusty> and then when I want to display it I took the video object `videos = Video.objects.all()`
[21:17:16] <Steve-Dusty> and did videos.url
[21:17:19] <Steve-Dusty> It doesn't szhow anything
[21:17:28] <moldy> if you really don't need ``<a href="{{ change.changed_object.get_absolute_url }}">{{ change.changed_object }}</a>``, removing it would be the obvious solution ;)
[21:18:00] <dminuoso> moldy: Ah hold on, let me modify the gist and give you additional details
[21:18:10] <dminuoso> While what you say makes sense, it doesnt compute for one reason:
[21:18:48] *** Joins: mattil (~mattil@87-92-88-105.bb.dnainternet.fi)
[21:19:03] <moldy> Steve-Dusty: `videos` is a queryset here, not a model instance
[21:19:19] <moldy> i think videos.url should even throw AttributeError?
[21:19:42] <moldy> unless in a template where it's silently swallowed :p
[21:20:46] <Steve-Dusty> ok
[21:20:56] <dminuoso> moldy: Note I modified the template, and see how this does N+1? https://gist.github.com/dminuoso/9ddddb221da88da4ae6ac6953a070330
[21:21:03] <dminuoso> moldy: Note how this does N+1 *only* against content_type?
[21:21:27] <dminuoso> So I'd naively expect prefetch_related("content_type") to help. Right?
[21:22:27] <Steve-Dusty> so if I make a model instance it should work
[21:22:38] <moldy> dminuoso: line 14 of template.html: ``{{ change.changed_object }}``
[21:23:18] <dminuoso> moldy: If this had to actually query *every* single generic foreign changed_object, there'd be more queries in the database.
[21:23:21] <dminuoso> But there's not.
[21:23:31] *** Quits: mattil (~mattil@87-92-88-105.bb.dnainternet.fi) (Ping timeout: 260 seconds)
[21:23:31] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 260 seconds)
[21:23:46] <dminuoso> There's just a bunch of queries against django_content_type
[21:23:52] <Steve-Dusty> when I did `    print(Video.objects.url)` it just said "manage error"
[21:23:55] <moldy> dminuoso: it runs in a loop, so i expect it to do n queries (or possibly more)
[21:23:55] <dminuoso> Maybe Im missing something here
[21:24:06] <dminuoso> moldy: Yes. But just against the content type table.
[21:24:09] <Steve-Dusty> "manager object has no attribute to url"
[21:24:11] <Steve-Dusty> im lost
[21:24:13] <dminuoso> So prefetching that singular relationship should help, no?
[21:24:33] *** Joins: djapo (~archangel@user/djapo)
[21:24:51] <moldy> dminuoso: this is a GFK, i'm not sure when exactly you can prefetch this, as per the docs you mentioned...
[21:25:33] <dminuoso> moldy: the changed_object_type relationship is not a GFK.
[21:25:40] <Steve-Dusty> do I put my video file inside static or media??????/
[21:25:44] <dminuoso> That's just a plain foreign key
[21:25:55] <Steve-Dusty> why do people on stackoverflow and tutorials have this {% static "mp4" %} or something
[21:25:59] <Steve-Dusty> im so confused no directions :(
[21:26:04] <moldy> dminuoso: yes, but you are doing ``{{ change.changed_object }}``
[21:26:10] <moldy> dminuoso: not ``{{ change.changed_object_type }}``
[21:26:38] <dminuoso> moldy: Yeah, which is why Im utterly confused why Im not seeing more queries in my postgresql log.
[21:26:59] <moldy> dminuoso: because ``changed_object_type`` is just an FK, you can use select_related() for it instead of ``prefetch_related``, btw. should be faster since the DB does the join then
[21:26:59] <dminuoso> And more to the point, adding a prefetch_related('changed_object_type') will trigger all those expected queries
[21:27:19] <dminuoso> moldy: select_related behaves the same with respect to this
[21:27:35] <moldy> dminuoso: it should behave differently
[21:28:04] <moldy> select_related just does a JOIN in SQL. prefetch_related() does the work in python and adds one query per prefetched model.
[21:28:26] <moldy> so in cases where you can use select_related, it should usually be faster than prefetch_related
[21:29:11] <moldy> anyway, i'd try to minimize the code, then add pieces bit by bit and see where exactly it becomes slow
[21:29:27] <moldy> i have to leave for a meeting, ttyl :)
[21:29:40] <dminuoso> moldy: Thanks for your time.
[21:29:45] <dminuoso> Perhaps Im just hitting the cache
[21:29:48] <moldy> yw
[21:30:55] <Steve-Dusty> why do people keep adding stufff like this
[21:30:56] <Steve-Dusty> https://www.geeksforgeeks.org/python-uploading-images-in-django/
[21:31:06] <Steve-Dusty> when I look up for "uploading"
[21:31:19] <Steve-Dusty> they always do some weird stuff like "urlpatterns += static(settings.MEDIA_URL,
[21:31:20] <Steve-Dusty>                               document_root=settings.MEDIA_ROOT)"
[21:31:27] <Steve-Dusty> what is even that for and I dn't even know why that exists
[21:32:45] <Steve-Dusty> the docs don't explain it clearly
[21:38:11] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 264 seconds)
[21:39:41] <Steve-Dusty> nothing works
[21:39:51] *** Quits: pycode1 (~pycode@2001:b07:5d28:551:ddfc:823a:600e:e0a6) (Ping timeout: 260 seconds)
[21:41:31] <doismellburning> Steve-Dusty: have you read the docs about media? I think that line is literally in the docs
[21:42:01] <Steve-Dusty> It doesn't make sense
[21:42:42] <doismellburning> what exactly are you struggling with?
[21:42:54] <Steve-Dusty> displaying a video
[21:43:02] <Steve-Dusty> i got it to upload to /media/videos
[21:43:08] <Steve-Dusty> but now Im having trouble displaying the mp4
[21:43:30] <doismellburning> and what exactly does "having trouble displaying" mean?
[21:43:56] <Steve-Dusty> https://dpaste.org/1JO4
[21:43:59] <Steve-Dusty> it doesn't show the vid
[21:44:09] <carlio> it exists for local development, to serve static files - in production you'd use some server in front or maybe whitenoise, that "urlpaterns += " thing is a convenience for development
[21:44:29] <Steve-Dusty> https://imgur.com/a/Vdh1dGT looks like this
[21:44:40] <doismellburning> Steve-Dusty: and if you replace the src attribute with a hardcoded known-good working link to the mp4, does it work?
[21:44:56] <doismellburning> basically can you even get it working without Django involved?
[21:45:25] <Steve-Dusty> how should I do it
[21:45:27] <Steve-Dusty> something like
[21:45:29] <Steve-Dusty> `src="{{ https://www.youtube.com/watch?v=Kg1Yvry_Ydk }}"` this?
[21:45:35] <carlio> in the template you have '{{ video.videofile.url }}' but the model field is "video_file"
[21:45:52] <carlio> I think you're just missing an underscore
[21:45:54] <doismellburning> Steve-Dusty: no, vanilla HTML, without any Django templating etc.
[21:45:57] <doismellburning> carlio: ah good spot
[21:46:21] <Steve-Dusty> `                <source src="https://www.youtube.com/watch?v=Kg1Yvry_Ydk" type="video/mp4">`
[21:46:22] <Steve-Dusty> doesnt work
[21:46:39] <doismellburning> Steve-Dusty: I don't think that's an mp4
[21:46:55] <Steve-Dusty> oops
[21:47:00] <doismellburning> but if you can't get it working without Django involved, then you don't have a Django problem
[21:47:10] <Steve-Dusty> `<source src="https://www.youtube.com/watch?v=Kg1Yvry_Ydk" type="video">`
[21:47:12] <Steve-Dusty> doesnt work
[21:47:41] <doismellburning> that's an interesting problem in and of itself, but not the most relevant one
[21:47:42] <Steve-Dusty> but im doing the django thing correctly right?
[21:47:47] *** Quits: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi) (Quit: Leaving)
[21:47:56] <doismellburning> I don't know; it doesn't look immediately wrong, apart from what carlio pointed out
[21:48:15] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 260 seconds)
[21:48:20] <doismellburning> but it sounds like you've not been checking the rendered output, which is a valuable debugging step
[21:48:24] *** Joins: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi)
[21:48:28] <doismellburning> as is trying to just get it working without Django involved
[21:48:43] <doismellburning> (because I'm not sure you're able to do that yourself right now, which won't help)
[21:49:45] <Steve-Dusty> `'QuerySet' object has no attribute 'video_file'`
[21:49:52] <Steve-Dusty> `    videos = Video.objects.all()
[21:49:52] <Steve-Dusty>     print(videos.video_file.url)`
[21:49:53] <Steve-Dusty> when I did that
[21:50:11] <doismellburning> yeah, you want an individual Video, I assume
[21:50:20] *** Joins: fikran (~fikran@user/fikran)
[21:50:42] <doismellburning> "the set of all videos" does not have a video_file attribute
[21:50:44] <doismellburning> one Video might
[21:51:51] <Steve-Dusty> works
[21:51:55] <doismellburning> It feels a bit like you're throwing things at this hoping something sticks - I'd strongly encourage you to try getting it working with static HTML and a convenient MP4 somewhere so you know you've got that bit right, THEN try to sort the Django
[21:51:59] <Steve-Dusty> it showed the URL
[21:51:59] <Steve-Dusty> wait
[21:52:03] <Steve-Dusty> i think ikt he problem
[21:52:13] *** Quits: pro_z (~pro_z@37.214.49.15) (Ping timeout: 244 seconds)
[21:52:17] <Steve-Dusty> i uploaded a jpg
[21:52:19] <Steve-Dusty> bruh
[21:53:02] *** Joins: aplainzetakind (~johndoe@captainludd.powered.by.lunarbnc.net)
[21:53:47] <Steve-Dusty> works
[21:57:08] *** Quits: Kalov (~Thunderbi@181.226.249.159) (Quit: Kalov)
[22:21:36] *** Parts: blackout69 (~blackout6@net-31-156-121-187.cust.vodafonedsl.it) ()
[22:35:37] *** Quits: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net) (Ping timeout: 244 seconds)
[22:36:37] *** Joins: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net)
[22:41:36] *** Quits: henbruas (~henbruas@ti0003a400-3211.bb.online.no) (Quit: ZNC 1.8.2 - https://znc.in)
[22:42:08] *** Joins: henbruas (~henbruas@ti0003a400-3211.bb.online.no)
[22:50:23] *** Quits: bitdex (~bitdex@gateway/tor-sasl/bitdex) (Quit: = "")
[22:56:21] <Steve-Dusty> can I do `        video = request.POST['video_file']` in
[22:56:23] <Steve-Dusty> instead of request.FILE
[22:57:15] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[22:59:11] *** Quits: explore (uid233125@id-233125.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[22:59:54] <Steve-Dusty> nope I can't
[22:59:57] <Steve-Dusty> it'd error if I do tho..
[23:04:31] <Steve-Dusty> https://dpaste.org/iL75 not able to get files
[23:04:32] <Steve-Dusty> why?
[23:05:32] <dodo> have you checked the contents of request.FILES ?
[23:05:57] <dodo> or request.FILES['video_file']
[23:06:14] <dodo> whatever you want.. your paste doesn't contain what you asked..
[23:25:03] <Steve-Dusty> dodo what do you mean
[23:25:44] <Steve-Dusty> what I asked about "request.POST['video_file']" would work too is irrelevant to my new issue sorry
[23:27:14] *** Quits: jef79m (~jeff@124-149-36-111.dyn.iinet.net.au) (Quit: Konversation terminated!)
[23:30:45] <Steve-Dusty> for some reason it wouldnt save the file I chose for it...
[23:31:03] <Steve-Dusty> so when I upload a file and submit it just wouldnt owrk
[23:31:12] <Steve-Dusty> when I go back to homepage there wouldnt be a video file
[23:42:16] *** Joins: rpkilby_ (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[23:42:41] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Remote host closed the connection)
[23:44:39] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[23:45:51] *** Quits: rpkilby (~rpkilby@ec2-34-252-84-235.eu-west-1.compute.amazonaws.com) (Ping timeout: 260 seconds)
[23:49:07] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 260 seconds)
[23:57:46] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 244 seconds)
[23:59:40] *** Joins: fikran (~fikran@user/fikran)
