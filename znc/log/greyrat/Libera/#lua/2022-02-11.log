[00:09:31] *** Quits: Elw3 (~Elw3@dynamic-002-247-243-076.2.247.pool.telefonica.de) (Quit: Leaving)
[00:22:11] *** Joins: Darkcoal (~user@user/Darkcoal)
[00:36:04] *** Quits: netlynx (~jan@94-226-69-15.access.telenet.be) (Quit: Leaving)
[00:49:17] *** Quits: Darkcoal (~user@user/Darkcoal) (Ping timeout: 240 seconds)
[00:49:38] *** Joins: skapate (~Skapata@2804:14c:87b0:9d2e:a5df:2a68:55fb:28e4)
[00:49:38] *** Quits: skapate (~Skapata@2804:14c:87b0:9d2e:a5df:2a68:55fb:28e4) (Changing host)
[00:49:38] *** Joins: skapate (~Skapata@user/skapata)
[00:51:02] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 250 seconds)
[00:51:23] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:f1e5:db7b:1d69:5e00)
[00:51:30] *** Joins: Darkcoal (~user@user/Darkcoal)
[00:56:27] *** Quits: magla (~gelignite@55d43657.access.ecotel.net) (Quit: Stay safe!)
[00:58:35] *** Quits: password (~password@user/password2) (Ping timeout: 250 seconds)
[01:12:13] *** Quits: dre (~dre@2001:8003:c932:c301:c29e:700:d5d3:6fcd) (Ping timeout: 240 seconds)
[01:18:09] *** Quits: Darkcoal (~user@user/Darkcoal) (Quit: Darkcoal)
[01:35:58] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Remote host closed the connection)
[01:36:17] *** Joins: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469)
[01:41:56] *** Joins: foul_owl (~kerry@174-21-76-71.tukw.qwest.net)
[01:54:17] *** Quits: Moosadee (~Moosadee@198.248.96.43) (Ping timeout: 250 seconds)
[01:55:54] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:f1e5:db7b:1d69:5e00) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:58:19] *** Joins: Moosadee (~Moosadee@198.248.96.43)
[01:59:12] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:f1e5:db7b:1d69:5e00)
[02:16:02] *** Quits: epony (~epony@user/epony) (Ping timeout: 240 seconds)
[02:21:21] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:f1e5:db7b:1d69:5e00) (Ping timeout: 250 seconds)
[02:26:34] *** Quits: Asgaroth (~Asgaroth@93.107.191.92) (Quit: Leaving)
[02:31:54] *** Joins: dre (~dre@2001:8003:c932:c301:3b1d:32bd:2b3e:4d5b)
[02:32:54] *** Quits: pizdets_ (~pizdets@183.182.115.213) (Ping timeout: 250 seconds)
[02:34:03] *** Joins: pizdets (~pizdets@183.182.115.47)
[02:53:22] *** Joins: epony (epony@user/epony)
[02:56:52] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.4)
[02:56:57] *** Quits: Moosadee (~Moosadee@198.248.96.43) (Ping timeout: 256 seconds)
[03:02:02] *** Joins: Moosadee (~Moosadee@198.248.96.43)
[03:09:49] *** Quits: ubq323 (~ubq323@user/ubq323) (Ping timeout: 240 seconds)
[03:13:56] *** Joins: rgrinberg (~textual@187.223.115.137)
[03:14:16] *** Quits: rgrinberg (~textual@187.223.115.137) (Read error: Connection reset by peer)
[03:14:38] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[03:21:51] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:85c8:f11e:303e:82df)
[03:26:36] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:85c8:f11e:303e:82df) (Ping timeout: 250 seconds)
[04:14:53] *** Quits: ratchetfreak (~ratchetfr@ptr-82rtos4hbt2sc8obre4.18120a2.ip6.access.telenet.be) (Ping timeout: 250 seconds)
[04:23:30] *** Joins: ubq323 (~ubq323@130.88.226.27)
[04:23:30] *** Quits: ubq323 (~ubq323@130.88.226.27) (Changing host)
[04:23:30] *** Joins: ubq323 (~ubq323@user/ubq323)
[04:32:43] *** Quits: Moosadee (~Moosadee@198.248.96.43) (Ping timeout: 256 seconds)
[04:33:51] *** Quits: ubq323 (~ubq323@user/ubq323) (Ping timeout: 256 seconds)
[05:27:36] *** Joins: Moosadee (~Moosadee@136.32.155.193)
[05:32:16] *** Quits: ratchet_freak (~ratchetfr@d8D8779D9.access.telenet.be) (Read error: Connection reset by peer)
[05:34:01] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:a9d7:c052:4356:1941)
[05:53:33] *** Quits: skapate (~Skapata@user/skapata) (Remote host closed the connection)
[06:00:33] *** Quits: Tricycle (~CGI273@lfbn-idf1-1-1376-196.w90-79.abo.wanadoo.fr) (Quit: bye)
[07:02:28] *** Quits: Moosadee (~Moosadee@136.32.155.193) (Remote host closed the connection)
[07:08:04] *** Joins: Psyraven (~Psyraven@p79032f3f.tokynt01.ap.so-net.ne.jp)
[07:41:51] *** Quits: R2robot (~R2robot@user/r2robot) (Quit: Pull the lever, Kronk.  Wrong leverrrrrrr!)
[07:44:07] *** Joins: R2robot (~R2robot@user/r2robot)
[07:52:11] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Remote host closed the connection)
[08:49:10] <tumn> Albright: markdown is designed to compile to html
[08:49:15] <tumn> that's its original use case
[08:49:31] <Albright> It's original case, yes
[08:50:13] <tumn> why serve text/markdown and have extra parser code when markdown is just a tool for creating text/html?
[08:59:20] *** Quits: sudoforge (~sudoforge@wireguard/tunneler/sudoforge) (Ping timeout: 252 seconds)
[09:01:12] <Albright> Because HTML is too complex and featurefull.
[09:03:51] <glguy> Is there a "nicer" way to write this? https://gist.github.com/glguy/727cb9821c9efa4889b20f3137103e50 .. each time you call the function it returns all the arguments but saves the last argument as the continuation to be used for the next time you call the function. It's a bit like using coroutines (but I can't use coroutines in this situation)
[09:04:29] <glguy> I don't know what improvements I have in mind, it just seems like it would be nice not to have to make two calls into the table library
[09:05:06] *** Joins: dvx (~dvx@5.181.92.64)
[09:24:16] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:a9d7:c052:4356:1941) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:25:25] *** Joins: password (~password@user/password2)
[09:45:49] <kakolainen[m]> glguy: it's easy to remove(and save) first argument from a var list but removing last argument you need to something like reverse(select(2,reverse(f(...))))
[09:47:02] <tumn> reverse() is a function?
[09:48:07] <tumn> Albright: adding another parser to browsers wouldn't decrease the complexity of html though, it would increase the complexity of browsers
[09:48:32] <tumn> markdown is simply because of the fact that it uses an existing standard as its target
[09:48:35] <tumn> simple*
[09:49:33] <kakolainen[m]> it's one liner recursive utility function which you Lua yourself like the Lua way is
[09:50:56] <kakolainen[m]> or maybe it was 2 one line functions first gets the var list length and other reverses it
[09:52:06] <kakolainen[m]> Lua is not good with functional coding but sometimes it's needed to avoid creating tables and garbage
[10:00:37] *** Joins: sudoforge (~sudoforge@wireguard/tunneler/sudoforge)
[10:12:11] *** Joins: akkartik2 (538c7e6b31@2604:bf00:561:2000::24)
[10:16:04] *** Joins: netlynx (~jan@94-226-69-15.access.telenet.be)
[10:16:28] *** Joins: Sauvin (~sauvin@about/linux/staff/sauvin)
[10:19:17] *** Quits: Erutuon (~Erutuon@user/erutuon) (Ping timeout: 240 seconds)
[10:24:20] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 250 seconds)
[10:29:31] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[10:32:32] *** Quits: sudoforge (~sudoforge@wireguard/tunneler/sudoforge) (Ping timeout: 240 seconds)
[10:33:43] *** Joins: g (x@libera/staff/glguy)
[10:38:28] <kakolainen[m]> local function chain(f) local function popf(newf,...) f=newf; return ... end; return function(...) return reverse(popf(reverse(f(...)))) end; end
[10:50:56] <Albright> tumn: Browsers for my theoretical web wouldn't need an HTML parser/renderer. Just an MD one.
[10:52:39] <Albright> For compatibility with full web browsers, the MD can be "wrapped" by an HTML document which includes JS to parse the MD to HTML, with an unspecified way for non-full browsers to find just the MD part and use that - maybe byte offsets specified in a header, maybe an HTML comment tag on its own line which would be easy for a non-HTML-parser to find - haven't decided that part yet.
[10:53:00] <Saphire> Albright: check out uhhh, not gopher but uh
[10:53:00] <Albright> But I've been turning this thing over in my head all day. :/ Too bad this month is going to be as busy as it will be.
[10:53:09] <Albright> Gemini.
[10:53:12] <Saphire> Gemini! Yes
[10:53:15] <Albright> That's what this sprouted out of.
[10:53:19] <Saphire> Ooh
[10:53:30] <Albright> Kinda Gemini, but without a custom protocol, custom markup language, etc.
[10:53:32] <Saphire> ...so has anyone made TypeScript-for-Lua
[10:53:52] <Albright> Use subsets of existing techs rather than reinventing wheels
[10:54:24] <Saphire> Albright: reinventing wheels allows to lock the ecosystem down, which in this case /is/ the goal of the project, to keep it from "growing bloated" as they say
[10:54:31] <Saphire> ...but eh, bloat finds a way
[10:56:02] <Albright> And I get that. But at a technological level, there are already lots of great HTTP servers, HTTP client libraries, MD/CM libraries, etc.
[10:56:16] *** Joins: VadimP (~VadimP@ip-213-127-51-125.ip.prioritytelecom.net)
[10:56:34] <Albright> It'd be fairly easy to lock down Nginx to only use a subset of HTTP/1
[10:59:15] <tumn> md already has compatibility with full web browsers, it compiles to html, which means no special browser is required to be made in order to view it
[10:59:50] <tumn> I can't wrap my mind around the justification for making it more complicated
[11:02:12] <Albright> Slightly more complicated for web browsers. Less complicated for "DocWeb" browsers (still workshopping the name).
[11:02:14] *** Joins: Elw3 (~Elw3@dynamic-002-247-242-254.2.247.pool.telefonica.de)
[11:02:35] *** Quits: VadimP (~VadimP@ip-213-127-51-125.ip.prioritytelecom.net) (Ping timeout: 256 seconds)
[11:03:01] <Albright> And the idea is that this is document-focused. The full styling and feature set of HTML would be unnecessary.
[11:03:12] *** Joins: VadimP (~VadimP@ip-213-127-51-125.ip.prioritytelecom.net)
[11:05:33] <Albright> Nah, "DocWeb" is no good. Sounds too much like "dark web." Wouldn't want stock photo models wearing hoodies with their faces darkened to try to access it or skull-and-crossbones icons would appear on their screens
[11:05:55] *** Quits: fcr (~fran@r167-60-51-220.dialup.adsl.anteldata.net.uy) (Ping timeout: 250 seconds)
[11:07:31] *** Quits: Elw3 (~Elw3@dynamic-002-247-242-254.2.247.pool.telefonica.de) (Remote host closed the connection)
[11:07:41] *** Quits: VadimP (~VadimP@ip-213-127-51-125.ip.prioritytelecom.net) (Ping timeout: 256 seconds)
[11:09:16] *** Joins: Elw3 (~Elw3@dynamic-002-247-242-254.2.247.pool.telefonica.de)
[11:12:38] *** Joins: fcr (~fran@r186-48-80-231.dialup.adsl.anteldata.net.uy)
[11:15:01] <kakolainen[m]> the problem with HTML and CSS is they are not well defined formal languages so using them eventually ends up in uncoordinated mess, to fix that make sure your markdown language is at most contex-free lannguage
[11:19:26] *** Joins: VadimP (~VadimP@ip-213-127-51-125.ip.prioritytelecom.net)
[11:23:18] <tumn> maybe the problem is that I'm reading markdown when you really mean markup
[11:35:06] <kakolainen[m]> I bet tumn is not skilled enough to parse HTML with regexp
[11:55:59] <akkartik> does anyone here have experience writing scripts to reliably write data to disk? One pattern I learned in other languages was to write to a temporary file and then rename to the target. That way the file contains the previous state at least if anything goes wrong. Anyone do this sort of thing?
[11:57:04] *** Quits: dre (~dre@2001:8003:c932:c301:3b1d:32bd:2b3e:4d5b) (Ping timeout: 250 seconds)
[11:58:04] <Elw3> How big of a file are you talking about?
[12:00:08] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.4)
[12:00:11] *** vancz_ is now known as vancz
[12:09:00] *** Joins: dre (~dre@119-18-1-208.771201.syd.nbn.aussiebb.net)
[12:45:50] *** Quits: VadimP (~VadimP@ip-213-127-51-125.ip.prioritytelecom.net) (Quit: Client closed)
[12:48:23] *** Joins: ubq323 (~ubq323@m-a07dtjhflz4j.it.manchester.ac.uk)
[12:48:23] *** Quits: ubq323 (~ubq323@m-a07dtjhflz4j.it.manchester.ac.uk) (Changing host)
[12:48:23] *** Joins: ubq323 (~ubq323@user/ubq323)
[13:00:39] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[13:04:48] <tumn> it would probably be performance heavy, but you could just write line-by-line and call io.flush() after each line to save the buffer to disk
[13:05:25] *** Joins: ratchetfreak (~ratchetfr@d8d8779d9.access.telenet.be)
[13:17:12] *** Quits: dre (~dre@119-18-1-208.771201.syd.nbn.aussiebb.net) (Quit: dinner with inlaws)
[13:37:25] <Elw3> Its never good to take buffer decicions out of the hand of the OS
[13:38:34] <Elw3> Anyway it all depends, for really sensitive data i would do versioning and not mess with a single file.
[14:08:27] *** Quits: ano (~ano@user/ano) (Ping timeout: 276 seconds)
[14:12:17] *** Joins: ano (~ano@user/ano)
[14:13:26] *** Quits: Elw3 (~Elw3@dynamic-002-247-242-254.2.247.pool.telefonica.de) (Remote host closed the connection)
[14:24:18] *** Joins: parnikkapore (~parnikkap@user/parnikkapore)
[16:44:57] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:718b:9b0a:81c:c099)
[16:44:57] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:718b:9b0a:81c:c099) (Changing host)
[16:44:57] *** Joins: skapata (~Skapata@user/skapata)
[17:29:26] *** Quits: dvx (~dvx@5.181.92.64) (Quit: dvx)
[17:46:54] *** Quits: epony (epony@user/epony) (Read error: Connection reset by peer)
[18:08:10] *** Quits: Techcable (~Techcable@168.235.93.147) (Remote host closed the connection)
[18:08:18] *** Joins: Techcable (~Techcable@168.235.93.147)
[18:36:20] *** Joins: Moosadee (~Moosadee@136.32.155.193)
[18:44:04] *** Joins: epony (epony@user/epony)
[18:46:33] *** Joins: Vornicus (~Vornicus@2603-8000-5d07-7ef0-280a-a911-ea24-fc52.res6.spectrum.com)
[18:52:14] *** Joins: Elw3 (~Elw3@dynamic-002-247-240-164.2.247.pool.telefonica.de)
[19:06:32] *** Quits: epony (epony@user/epony) (Ping timeout: 240 seconds)
[19:08:55] *** Joins: ratchet_freak (~ratchetfr@d8d8779d9.access.telenet.be)
[19:11:49] *** Quits: ratchetfreak (~ratchetfr@d8d8779d9.access.telenet.be) (Ping timeout: 240 seconds)
[19:18:13] *** Quits: parnikkapore (~parnikkap@user/parnikkapore) (Remote host closed the connection)
[19:52:57] *** Joins: epony (epony@user/epony)
[19:56:27] *** Joins: magla (~gelignite@55d4e921.access.ecotel.net)
[20:17:46] *** Quits: Moosadee (~Moosadee@136.32.155.193) (Remote host closed the connection)
[20:35:54] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:3400:dfe7:fd4b:441c)
[21:00:12] *** Joins: sudoforge (~sudoforge@wireguard/tunneler/sudoforge)
[21:17:25] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:3400:dfe7:fd4b:441c) (Ping timeout: 240 seconds)
[21:17:32] *** Joins: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469)
[21:30:59] <glguy> Is there a supported way using the C API to recover the C function pointer used to construct a C closure?
[21:34:46] <jdarnley> lua_tocfunction ?
[21:34:58] <jdarnley> I've never used it and only just saw it in the manual.
[21:35:18] <glguy> I completely overlooked that, thanks.
[21:35:28] <glguy> I was tunnel visioned in on the word "closure"
[21:35:38] <glguy> looking in lapi.c it does appear to do what I want
[21:50:21] *** Joins: ratchetfreak (~ratchetfr@ptr-82rtos4hbt2sc8obre4.18120a2.ip6.access.telenet.be)
[22:12:40] <Elw3> Is f[[bla]] identical to f("bla") or are there differences?
[22:21:50] *** Quits: Vornicus (~Vornicus@2603-8000-5d07-7ef0-280a-a911-ea24-fc52.res6.spectrum.com) (Read error: Connection reset by peer)
[22:27:38] *** Joins: MrSyabro (~MrSyabro@91.226.191.247)
[22:28:32] *** Quits: epony (epony@user/epony) (Ping timeout: 240 seconds)
[22:30:59] <glguy> the string you get from the [[]] syntax is indistinguishable from the one you get from "" syntax
[22:31:10] *** Joins: epony (epony@user/epony)
[22:31:18] <glguy> the difference is in how "" syntax uses \ escaping and [[]] does not
[22:33:03] <glguy> related, the parse has a special case for a function applied to a single string argument,  so   f([[bla]]) is the same as f [[bla]], same works for  f("bla") and f "bla"
[22:33:06] <glguy> the parser*
[22:35:30] <Elw3> As if i needed even more options.
[22:35:57] <technomancy> what I do is just ignore the fact that multi-line strings and optional parens exist
[22:36:07] <glguy> Oh, ok: you can also have:    f 'bla'     or  f [=[bla]=]   ;-)
[22:36:41] <Elw3> legit thinking of using [[ instead of " from now on everywhere because it sits on a better position on my keyboard.
[22:45:26] *** Quits: ano (~ano@user/ano) (Quit: ano)
[22:49:32] *** Quits: Sauvin (~sauvin@about/linux/staff/sauvin) (Remote host closed the connection)
[22:54:02] *** Quits: epony (epony@user/epony) (Ping timeout: 240 seconds)
[22:58:38] *** Joins: syabro (~syabro@91.226.191.247)
[23:06:04] *** Joins: rgrinberg (~textual@187.194.14.9)
[23:07:52] *** Quits: fcr (~fran@r186-48-80-231.dialup.adsl.anteldata.net.uy) (Ping timeout: 250 seconds)
[23:09:23] *** Quits: syabro (~syabro@91.226.191.247) (Ping timeout: 256 seconds)
[23:10:08] *** Joins: syabro (~syabro@91.226.191.247)
[23:15:35] *** Joins: fcr (~fran@r167-60-42-183.dialup.adsl.anteldata.net.uy)
[23:29:34] *** Quits: MrSyabro (~MrSyabro@91.226.191.247) (Quit: Quit)
[23:29:47] *** Quits: rgrinberg (~textual@187.194.14.9) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:33:00] *** Quits: syabro (~syabro@91.226.191.247) (Ping timeout: 250 seconds)
[23:51:27] *** Joins: epony (epony@user/epony)
[23:55:37] *** Quits: Psyraven (~Psyraven@p79032f3f.tokynt01.ap.so-net.ne.jp) (Ping timeout: 240 seconds)
