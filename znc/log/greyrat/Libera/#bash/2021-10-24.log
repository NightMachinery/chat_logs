[00:00:44] *** Joins: Crescendo (~Crescendo@user/crescendo)
[00:04:56] *** Joins: pa_ (~smuxi@86-95-132-61.fixed.kpn.net)
[00:05:40] *** Joins: ironic (~ironic@user/ironic)
[00:16:09] *** Quits: H3dn1ng (~H3dn1ng@185.213.154.228) (Quit: leaving)
[00:21:48] *** Quits: ironic (~ironic@user/ironic) (Quit: WeeChat 3.3)
[00:21:50] *** Joins: vvlad (~vvlad@dslb-002-205-166-199.002.205.pools.vodafone-ip.de)
[00:23:50] *** Quits: han-solo (~han-solo@user/han-solo) (Quit: leaving)
[00:31:56] *** Quits: kobiyashi (~kobiyashi@e177003.upc-e.chello.nl) (Quit: kobiyashi)
[00:33:30] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 244 seconds)
[00:40:21] *** Quits: Darkcoal (~user@139.64.63.46) (Quit: Darkcoal)
[00:40:21] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[00:42:38] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[00:54:09] *** Joins: fedenix_ (~fedenix@gateway/tor-sasl/fedenix)
[00:56:57] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Ping timeout: 276 seconds)
[00:57:56] *** Joins: Nact (~l@host-85-27-120-251.dynamic.voo.be)
[00:59:11] *** Quits: mtk_ (~mtk@2601:185:200:72:44aa:53fe:886b:bee9) (Ping timeout: 264 seconds)
[01:03:05] *** Joins: nvmd (~nvmd@user/nvmd)
[01:03:15] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[01:09:09] *** Quits: pa_ (~smuxi@86-95-132-61.fixed.kpn.net) (Read error: Connection reset by peer)
[01:09:24] *** Joins: floch_forster (~Floch@2a02:8070:181:4a80:ef80:7b0a:81db:edba)
[01:10:59] *** Parts: anddam (~anddam@user/anddam) (WeeChat 3.3)
[01:11:55] *** Joins: pa_ (~smuxi@86-95-132-61.fixed.kpn.net)
[01:12:07] <floch_forster> I wanna do the following: Find all files with the ending description and then see whether there are files with the same name, but a different extension. I tried all kinds of escaping, but to no avail. Do you know what I need to do?
[01:12:15] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 244 seconds)
[01:12:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[01:13:11] <Filystyn> it's late but hackers never sleep
[01:13:32] <Filystyn> so what is the ending description?
[01:13:49] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[01:14:10] <floch_forster> Filystyn, "description" is the ending ("blah blah blah.description").
[01:14:34] <Filystyn> must it be in one line ?
[01:15:31] <floch_forster> Filystyn, Not really.
[01:15:33] *** Joins: simpl_e (~user@user/simpl-e/x-8589812)
[01:15:37] *** Joins: mtk (~mtk@2601:185:200:72:44aa:53fe:886b:bee9)
[01:16:42] <Filystyn> i belive starting point would be find . -type f -name '*.pattern1' > savetothis file
[01:17:59] <emanuele6> that is bad, never use newline as filename delimiter
[01:18:32] <Filystyn> oh we got a professional so before i would help you will probably get an answer ;-)
[01:18:48] <Filystyn> anyway my idea was getting rid of the pattern later and using uniq
[01:19:06] <Filystyn> well sort + uniq
[01:19:16] <sixwheeledbeast> filenames could have newlines in
[01:20:06] <Filystyn> show us the way
[01:20:32] <emanuele6> to get a list of files that end in "description", you can use: shopt -s nullglob starglob; desc_files=( **/*description )
[01:21:16] <Filystyn> I am suprised using new lines in file names is so popular
[01:21:42] <emanuele6> then to get the filenames: desc_files_filenames=( "${desc_files[@]##*/}" )
[01:21:53] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 258 seconds)
[01:22:25] <emanuele6> if you want to count unique files, a trick could be to use an associative array
[01:22:29] <sixwheeledbeast> it probably isn't but it's always edge cases that cause headaches. hence why globs are usually recommended.
[01:22:45] <emanuele6> otherwise, you can use grep -c if your grep supports -z
[01:23:45] *** Quits: twobitsprite (~twobitspr@195.181.171.227) (Ping timeout: 260 seconds)
[01:24:15] *** Joins: akoana (~ah@user/akoana)
[01:25:18] <emanuele6> like: declare -A desc_files_filenames=(); for desc_file in "${desc_files[@]}"; do desc_files_filenames[${desc_file##*/}]=; done; printf '%s\n' "${#desc_files_filenames[@]}"
[01:25:24] <floch_forster> Filystyn, But the problem came always afterwards, I never could get bash or zsh to list the files after I replaces "description" with "*"
[01:25:29] *** Joins: twobitsprite (~twobitspr@66.115.175.48)
[01:26:18] *** Joins: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar)
[01:26:41] <floch_forster> Filystyn, No matter what kinda escaping I did.
[01:27:13] <floch_forster> emanuele6, I'm quite confident that the files I'm working with have no newlines.
[01:27:29] <emanuele6> i am not
[01:27:58] <Filystyn> let us be clear I wanted to help because no one was showing up. But it's better to ask other guys who opened thair mouths. Just go slowly since you will probably get a bit more complex answer
[01:29:11] *** Joins: Caffeinated (~Caffeine@user/alexdelarge)
[01:29:19] <Filystyn> btw emanuele6 if newlines are bad as delim would using -print0 with find be better idea?
[01:29:34] <emanuele6> yes
[01:30:10] <emanuele6> or `-exec printf '%s\0' {} +' if your find doesn't support -print0
[01:30:41] *** Quits: pooby (~pooby@167.99.100.8) (Quit: WeeChat 3.3-dev)
[01:31:23] *** Joins: pooby (~pooby@167.99.100.8)
[01:35:22] <floch_forster> And since people started arguing over crazy filenames with newlines, everyone forgot my question *cries* FML
[01:36:00] <emanuele6> i gave you a answer...
[01:36:07] *** Quits: superboot (~agentgasm@user/superboot) (Quit: leaving)
[01:37:59] <Filystyn> I was actualy trying to learn something too
[01:38:19] <floch_forster> emanuele6, No, you didn't, I still have no idea how to bash or zsh to list me all files with the same filenames as the files with the extension description, but with different descriptions.
[01:38:26] <Filystyn> when i ghave the nul separate file seems this works to reget records:  cat test | awk 'BEGIN { RS = "nul" } {print $1}'
[01:38:59] <emanuele6> # shopt -s globstar nullglob; mkdir -p A B C/D E; touch a.xx a.desc B/a.desc C/a.desc C/D/a.desc E/a.desc; declare -A desc_files_filenames=(); for **/*.desc; do desc_files_filenames[${desc_file##*/}]=; done; if (( ${#desc_files_filenames[@]} == 1 )); then printf 'unique match: %s\n' "${!desc_files_filenames[0]}"; else printf 'zero or different matches: %s\n' "${!desc_files_filenames[@]}; fi
[01:39:06] <shbot> emanuele6: Missing terminating quote, bracket or keyword
[01:40:09] <Filystyn> well print $0 but I was more concerned is that RS = "nul" ok since i kind of wrote nul intuitionaly
[01:40:10] <emanuele6> i am missing a quote
[01:40:33] <armin> # shopt -s globstar nullglob; mkdir -p A B C/D E; touch a.xx a.desc B/a.desc C/a.desc C/D/a.desc E/a.desc; declare -A desc_files_filenames=(); for **/*.desc; do desc_files_filenames[${desc_file##*/}]=; done; if (( ${#desc_files_filenames[@]} == 1 )); then printf 'unique match: %s\n' "${!desc_files_filenames[0]}"; else printf 'zero or different matches: %s\n' "${!desc_files_filenames[@]}"; fi
[01:40:35] <shbot> armin: bash: `**/*.desc': not a valid identifier
[01:40:35] <shbot> armin: zero or different matches:
[01:40:43] <emanuele6> and a name in the for
[01:40:58] <emanuele6> # shopt -s globstar nullglob; mkdir -p A B C/D E; touch a.xx a.desc B/a.desc C/a.desc C/D/a.desc E/a.desc; declare -A desc_files_filenames=(); for desc_file in **/*.desc; do desc_files_filenames[${desc_file##*/}]=; done; if (( ${#desc_files_filenames[@]} == 1 )); then printf 'unique match: %s\n' "${!desc_files_filenames[0]}"; else printf 'zero or different matches: %s\n'
[01:41:00] <emanuele6> "${!desc_files_filenames[@]}"; fi
[01:41:05] <shbot> emanuele6: Missing terminating quote, bracket or keyword
[01:41:06] <emanuele6> it's too long for shbot :(
[01:41:32] <emanuele6> # shopt -s globstar nullglob; mkdir -p A B C/D E; touch a.xx a.desc B/a.desc C/a.desc C/D/a.desc E/a.desc; declare -A filenames=(); for desc_file in **/*.desc; do filenames[${desc_file##*/}]=; done; if (( ${#filenames[@]} == 1 )); then printf 'unique match: %s\n' "${!filenames[0]}"; else printf 'zero or different matches: %s\n' "${!desc_files_filenames[@]}"; fi
[01:41:34] <shbot> emanuele6: unique match:
[01:41:49] <emanuele6> # shopt -s globstar nullglob; mkdir -p A B C/D E; touch a.xx d.desc B/a.desc C/a.desc C/D/a.desc E/a.desc; declare -A filenames=(); for desc_file in **/*.desc; do filenames[${desc_file##*/}]=; done; if (( ${#filenames[@]} == 1 )); then printf 'unique match: %s\n' "${!filenames[0]}"; else printf 'zero or different matches: %s\n' "${!desc_files_filenames[@]}"; fi
[01:41:51] <shbot> emanuele6: zero or different matches:
[01:42:19] <emanuele6> it the printing doesn't work because i didn't change all the variable names
[01:42:45] <emanuele6> but as you can see, if there are only a.desc, it prints unique, and if you add a d.desc, it detects that they are not all unique
[01:43:11] <emanuele6> # shopt -s globstar nullglob; mkdir -p A B C/D E; touch a.xx d.desc B/a.desc C/a.desc C/D/a.desc E/a.desc; declare -A filenames=(); for desc_file in **/*.desc; do filenames[${desc_file##*/}]=; done; if (( ${#filenames[@]} == 1 )); then printf 'unique match: %s\n' "${!filenames[@]}"; else printf 'zero or different matches: %s\n' "${!filenames[@]}"; fi
[01:43:13] <shbot> emanuele6: zero or different matches: d.desc
[01:43:13] <shbot> emanuele6: zero or different matches: a.desc
[01:43:21] <emanuele6> # shopt -s globstar nullglob; mkdir -p A B C/D E; touch a.xx a.desc B/a.desc C/a.desc C/D/a.desc E/a.desc; declare -A filenames=(); for desc_file in **/*.desc; do filenames[${desc_file##*/}]=; done; if (( ${#filenames[@]} == 1 )); then printf 'unique match: %s\n' "${!filenames[@]}"; else printf 'zero or different matches: %s\n' "${!filenames[@]}"; fi
[01:43:23] <shbot> emanuele6: unique match: a.desc
[01:46:13] <emanuele6> floch_forster: there is nothing new, it is all that i said originally pieced together :/
[01:48:13] <Filystyn> that example is a killer
[01:50:25] *** Joins: tangy (~tangy@user/tangy)
[01:53:06] <emanuele6> floch_forster: hopefully it's easier to understand for you in this form http://paste.wooledge.org/9654
[01:53:25] *** Quits: GNUHacker (~gnu@fsf/member/GNUHacker) (Quit: quit)
[01:53:50] *** Quits: nvmd (~nvmd@user/nvmd) (Ping timeout: 265 seconds)
[01:57:35] <floch_forster> emanuele6, I think I'm way over my head here, I have no idea what I'm doing here and the script doesn't do what I'm trying to do D-;
[01:57:55] *** Quits: tex (~super@user/dix) (Ping timeout: 258 seconds)
[01:58:32] <emanuele6> give an example of what you are trying to do
[01:59:31] <emanuele6> as i understood it, you are trying to e.g. get all the .ogg files in a directory and its subdirectory and check whether they all have the same filename
[01:59:48] <floch_forster> emanuele6, Let's say I have a.description, a.mp4 and b.description. I'm trying to find b.description.
[02:00:06] <emanuele6> so for example if you have ./chapter1/audio1.ogg ./chapter2/audio1.ogg, you want 1
[02:00:28] <emanuele6> and for example if you have ./chapter1/audio1.ogg ./chapter2/audio2.ogg, you want 2
[02:01:18] <floch_forster> emanuele6, No, I want to find .description files that have no other files with the same name, but different extension.
[02:01:19] <emanuele6> oh, so all the .description files that don't have .mp4 file?
[02:01:25] <floch_forster> emanuele6, Yes
[02:02:41] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[02:02:51] <emanuele6> only in the current directory or also in subdirectories?
[02:03:08] <floch_forster> emanuele6, Only in the current directory.
[02:03:13] <emanuele6> then it's easy
[02:04:03] <emanuele6> for mp4_file in ./*.mp4; do [[ -e ${mp4_file%.*}.description ]] || printf '%s\n' "$mp4_file"; done
[02:04:16] <emanuele6> this err, you want the opposite
[02:04:45] <emanuele6> for description_file in ./*.description; do [[ -e ${description_file%.*}.mp4 ]] || printf '%s\n' "$description_file"; done
[02:07:19] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[02:07:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[02:09:33] *** Joins: sublim20 (~sublim20@user/sublim20)
[02:10:34] *** Joins: kurashiki48 (~kurashiX4@2601:410:0:c03:bd46:ad6a:716d:4d8e)
[02:10:41] *** Joins: nehsou^ (~nehsou@wsip-68-227-92-38.mc.at.cox.net)
[02:12:11] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 244 seconds)
[02:12:49] <floch_forster> emanuele6, Is there a way to do it for multiple extensions (i.e. not only .mp4, but, say, .mp4, .webm and .mkv)?
[02:12:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[02:13:47] <emanuele6> you can use a second loop to make this work with any extension
[02:14:14] <emanuele6> but if you only want those it's simpler to just use an extended glob
[02:14:42] <emanuele6> actually, i don't remember if that would work
[02:15:35] <emanuele6> no, it doesn't
[02:15:48] <emanuele6> well, this will work
[02:17:02] <emanuele6> for description_file in ./*.description; do other_files=( "${description_file%.*}".!(description) ); (( ${#other_files[@]} )) || printf '%s\n' "$description_file"; done
[02:17:15] <emanuele6> make sure you have both nullglob and extglob on
[02:17:20] <emanuele6> !nullglob
[02:17:20] <greybot> Causes unmatched globs to expand to nothing rather than themselves. shopt -s nullglob; files=(*); echo "There are ${#files[@]} files." - see: http://mywiki.wooledge.org/glob#nullglob
[02:17:23] <emanuele6> !extglob
[02:17:23] <greybot> "Extended globs" (shopt -s extglob) allow you to say things like "all files that do not end in .jpg". See http://mywiki.wooledge.org/glob#extglob
[02:17:40] <emanuele6> you turn them on with: shopt -s nullglob extglob
[02:19:00] *** Quits: earendel (uid498179@user/earendel) (Quit: Connection closed for inactivity)
[02:20:12] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[02:20:35] *** Quits: oprypin (~irc@pryp.in) (Quit: Bye)
[02:20:54] *** Joins: oprypin (~irc@pryp.in)
[02:22:14] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[02:26:34] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Quit: Leaving)
[02:26:52] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[02:28:10] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Client Quit)
[02:28:49] <floch_forster> emanuele6, That lists all cases of .description files having no files at all in the same directory with the same name, but different extension. Is there a way to specify multiple extensions (i.e. find only .extension files that have no .mp4, .webm or .mkv file)?
[02:29:31] <emanuele6> instead of !(description), use @(mp4|webm|mkv)
[02:30:15] *** Joins: prifici (~patri@user/prifici)
[02:33:40] <floch_forster> emanuele6, Thanks (I overlooked exactly that in the article you let the greybot link here, I'm so inattentive D-:)!
[02:35:55] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 252 seconds)
[02:36:36] *** Joins: Crescendo (~Crescendo@user/crescendo)
[02:43:09] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[02:43:31] *** Joins: esselfe (~steph@user/esselfe)
[02:46:00] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[02:50:17] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[02:50:36] *** Joins: Crescendo (~Crescendo@user/crescendo)
[02:55:41] <xx> how come I have extglob on, and don't enable it in .bashrc nor /etc/bash.bashrc? Has it been made default?
[02:57:32] <jetchisel> Most probably from a bash completion package.
[02:58:07] <emanuele6> you can use extglobs without having to enable extglob in the rhs of ==, =, and != inside [[ (iirc since bash4.4)
[02:58:10] <emanuele6> but only there
[02:59:11] <emanuele6> # shopt -u extglob; [[ a == @(a|b) ]] && echo 'a or b'
[02:59:12] <shbot> emanuele6: a or b
[02:59:13] <jetchisel> yep, since 4.4, I remember having to enable extglob explicitly when using it's feature inside the [[ ]]
[02:59:30] <emanuele6> # shopt -u extglob; touch a; printf '%s\n' @(a|b)
[02:59:32] <shbot> emanuele6: @(a|b)
[03:00:16] <emanuele6> you can checkbot if extglob is enabled by running: shopt extglob
[03:02:56] *** Quits: floch_forster (~Floch@2a02:8070:181:4a80:ef80:7b0a:81db:edba) (Quit: Leaving)
[03:04:01] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.2)
[03:04:10] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[03:04:44] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[03:07:30] *** Quits: nuc (~nuc@user/jessew) (Ping timeout: 260 seconds)
[03:07:39] <xx> thanks about that rhs of ==
[03:07:41] <xx> I did not know
[03:07:46] <xx> looks very useful
[03:11:10] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[03:11:41] <emanuele6> s/checkbot/check/
[03:11:43] <emanuele6> :)
[03:13:10] *** wootehfoot is now known as Supersaiyan_IV
[03:13:35] *** Quits: polve (~polve@twcitalia/polve) (Ping timeout: 264 seconds)
[03:13:40] *** Supersaiyan_IV is now known as wootehfoot
[03:15:02] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:15:10] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[03:15:23] <emanuele6> mm, i'm surprised that `printf '%s\n' @(a|b)' without extglob didn't cause a syntax error
[03:15:39] <emanuele6> # printf '%s\n' c(ab)
[03:15:40] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:15:41] <shbot> emanuele6: bash: syntax error near unexpected token `('
[03:16:17] <emanuele6> i guess the parser still interprets it as a valid glob and simply doesn't expand it unless extglob isn't on
[03:16:24] <emanuele6> s/isn't/is/
[03:19:22] *** Joins: polve (~polve@twcitalia/polve)
[03:20:02] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:40] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:20:47] *** Joins: nuc (~nuc@user/jessew)
[03:21:26] *** Quits: pj (~pj@ghettoforge/pj) (Quit: Ex-Chat)
[03:21:48] *** Joins: pj (~pj@ghettoforge/pj)
[03:22:48] *** Quits: dd_ (dd_@gateway/vpn/protonvpn/dd/x-95652672) (Remote host closed the connection)
[03:25:25] *** Quits: fatal (~0x00@user/fatal) (Remote host closed the connection)
[03:25:34] *** Joins: fatal (~0x00@user/fatal)
[03:27:00] *** Joins: n4dir (~user@i577BC964.versanet.de)
[03:27:44] *** Joins: res0 (0@user/res0)
[03:28:04] *** Quits: lum (~res0@user/res0) (Quit: lum)
[03:28:10] *** res0 is now known as lum
[03:28:41] *** Quits: fatal (~0x00@user/fatal) (Client Quit)
[03:29:13] *** Quits: Filystyn (~piotr@user/filystyn) (Quit: Lost terminal)
[03:29:42] *** Quits: pa_ (~smuxi@86-95-132-61.fixed.kpn.net) (Read error: Connection reset by peer)
[03:30:03] *** Quits: waxfire (~waxfire@65.119.2.240) (Quit: The Lounge - https://thelounge.chat)
[03:30:26] *** Joins: waxfire (~waxfire@65.119.2.240)
[03:30:27] *** Joins: fatal (~0x00@user/fatal)
[03:31:46] *** Quits: fedenix_ (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[03:32:27] *** Joins: m9hs (~m9hs@gateway/tor-sasl/m9hs)
[03:33:22] *** Quits: m9hs (~m9hs@gateway/tor-sasl/m9hs) (Remote host closed the connection)
[03:34:05] *** Joins: m9hs (~m9hs@gateway/tor-sasl/m9hs)
[03:36:03] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Read error: Connection reset by peer)
[03:39:53] *** Joins: willyg_2 (~willyg_co@user/willyg-cos/x-4994202)
[03:39:55] *** Quits: karakedi (~eAC53C340@user/karakedi) (Read error: Connection reset by peer)
[03:40:10] *** Quits: willyg_2 (~willyg_co@user/willyg-cos/x-4994202) (Remote host closed the connection)
[03:41:04] *** Joins: nucleargrave (~nucleargr@c-73-150-253-137.hsd1.nj.comcast.net)
[03:41:45] *** nucleargrave is now known as nuclearg1
[03:42:05] *** Quits: nuclearg1 (~nucleargr@c-73-150-253-137.hsd1.nj.comcast.net) (Changing host)
[03:42:05] *** Joins: nuclearg1 (~nucleargr@user/nuclearg1)
[03:42:28] *** Quits: willyg_cos (~willyg_co@user/willyg-cos/x-4994202) (Ping timeout: 252 seconds)
[03:45:43] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 244 seconds)
[03:46:30] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[03:49:00] *** Quits: jkwnki (~jkwnki@p2e579f67.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[03:52:15] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[03:53:42] *** Quits: nehsou^ (~nehsou@wsip-68-227-92-38.mc.at.cox.net) (Ping timeout: 260 seconds)
[03:54:20] *** Joins: nehsou^ (~nehsou@wsip-68-227-92-38.mc.at.cox.net)
[03:55:22] *** Quits: m9hs (~m9hs@gateway/tor-sasl/m9hs) (Remote host closed the connection)
[03:55:48] *** Joins: m9hs (~m9hs@gateway/tor-sasl/m9hs)
[03:57:52] *** Quits: m9hs (~m9hs@gateway/tor-sasl/m9hs) (Remote host closed the connection)
[04:00:06] *** Joins: m9hs (~m9hs@gateway/tor-sasl/m9hs)
[04:00:12] *** Quits: Psi-Jack (psi-jack@user/psi-jack) (Ping timeout: 258 seconds)
[04:02:22] *** Quits: m9hs (~m9hs@gateway/tor-sasl/m9hs) (Remote host closed the connection)
[04:03:05] *** Joins: m9hs (~m9hs@gateway/tor-sasl/m9hs)
[04:03:47] *** Joins: superboot (~agentgasm@user/superboot)
[04:04:52] *** Quits: m9hs (~m9hs@gateway/tor-sasl/m9hs) (Remote host closed the connection)
[04:05:14] *** Joins: m9hs (~m9hs@gateway/tor-sasl/m9hs)
[04:06:23] *** Quits: nehsou^ (~nehsou@wsip-68-227-92-38.mc.at.cox.net) (Ping timeout: 264 seconds)
[04:06:52] *** Joins: nehsou^ (~nehsou@wsip-68-227-92-38.mc.at.cox.net)
[04:08:27] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Ping timeout: 244 seconds)
[04:19:59] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[04:20:27] *** Joins: A|an (~Alan@173.216.51.200)
[04:22:12] <superboot> Marko
[04:24:41] *** Quits: kurashiki48 (~kurashiX4@2601:410:0:c03:bd46:ad6a:716d:4d8e) (Ping timeout: 245 seconds)
[04:25:30] *** Quits: magla (~gelignite@55d43ee1.access.ecotel.net) (Quit: Stay safe!)
[04:27:34] *** Quits: ionface (~ionface@user/ionface) (Ping timeout: 244 seconds)
[04:28:19] *** Joins: ionface (~ionface@user/ionface)
[04:28:45] *** Quits: nuclearg1 (~nucleargr@user/nuclearg1) (Read error: Connection reset by peer)
[04:29:20] *** Joins: nucleargrave (~nucleargr@c-73-150-253-137.hsd1.nj.comcast.net)
[04:32:15] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:37:20] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[04:37:32] *** Joins: vlm (~vlm@user/vlm)
[04:38:20] *** Joins: loganlee (~Thunderbi@user/loganlee)
[04:38:21] <Hash> DBS = `echo 'show databases' | sudo mysql`
[04:38:23] <Hash> What's wrong with this?
[04:38:38] <superboot> Spaces around equals.
[04:38:58] <Hash> DBS=$(echo 'show databases' | sudo mysql) or this
[04:39:13] <Hash> echo $DBS > Database information_schema mysql news performance_schema social sys
[04:39:20] <Hash> So it works.
[04:39:28] <superboot> backticks are depricated, because the don't nest, and are hard to read.
[04:39:30] <Hash> But I'm wondering if there is bad practice in doing something like that
[04:39:33] <Hash> i see
[04:39:48] <Hash> Sorry I just remember
[04:39:58] <Hash> I realized backticks were old so I changed the code. Thanks for reminder!
[04:40:15] <Hash> What do you mean about spaces around equals?
[04:40:41] <superboot> Hash: Your first post had DBS = ...    There are two spaces. It should be DBS=...
[04:40:54] <Hash> Oh right I corrected the spaces too
[04:41:03] <superboot> So it's all good then?
[04:41:10] <Hash> Thank you
[04:41:16] <Hash> I think so
[04:41:27] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[04:41:27] <superboot> My pleasure. Any time.
[04:41:34] <Hash> https://bpa.st/ZZFQ
[04:41:53] <Hash> I am not always using bash a lot and so rarely. I am trying to write a server back up script
[04:42:15] <Hash> so I can restore the tarball on any other target server after 1) install server os, 2) install packages, 3) unpack tarball.
[04:42:25] <Hash> 3) unpack tarball/run restore script
[04:42:38] <Hash> 3 steps to clone a server with all data configs from one VPS host to another.
[04:42:51] <superboot> Line 17 is wrong.
[04:43:07] <Hash> oh need a $
[04:43:09] <Hash> Thanks
[04:43:22] <Hash> Those dang dollar signs!
[04:43:23] <superboot> It should be:    for db in $DBS
[04:43:30] <Hash> Yessir. Gotcha.
[04:44:02] <superboot> Yes, but it would probably be better to read them into an array and iterate through it that way, rather than relying on word-splitting to not get tripped up by a space in your DB names, etc.
[04:44:52] <Hash> db names can't contain space in mysql, only _
[04:44:57] <Hash> so safe from that, I think.
[04:45:12] <superboot> Hash: Oh right.
[04:45:52] <superboot> declare -a DBS; DBS=( $(echo 'show databases' | sudo mysql) )
[04:46:05] <superboot> for db in "${DBS[@]}"
[04:46:45] <superboot> Hash: You probably don't "need" it here, but it's good practice.
[04:47:59] *** Joins: suedoe (~madrid@2600:1702:4880:16f0:2c73:495d:fc6d:4358)
[04:51:38] <emanuele6> !($(
[04:52:35] <emanuele6> don't use ( $() )
[04:52:52] <emanuele6> mapfile -t dbs < <(your command here)
[04:53:07] <emanuele6> and all uppercase variables
[04:53:11] <emanuele6> !varcap
[04:53:12] <greybot> By convention, environment variables (PATH, EDITOR, SHELL, ...) and internal shell variables (BASH_VERSION, RANDOM, ...) are fully capitalized. All other variable names should be lowercase. Since variable names are case-sensitive, this convention avoids accidentally overriding environmental and internal variables. https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap08.html
[04:54:27] <superboot> emanuele6: Thanks. The mapfile idiom is new to me.
[04:55:20] <emanuele6> also i believe mysql can accept command with -e, you don't need to pipe commands to its stdin
[04:56:27] <emanuele6> superboot: why do you need the array?
[05:00:08] <akoana> maybe something like    while IFS= read -r db; do sudo mysqldump "$db" > "$db.sql"; done < <(sudo mysql -e 'show databases')
[05:01:56] *** Joins: The_Jag_ (~The_Jag@host-87-15-17-212.retail.telecomitalia.it)
[05:01:58] <emanuele6> another thing that is problematic in that script is the unchecked cd
[05:02:00] <emanuele6> !cd
[05:02:00] <greybot> Never chdir in a script unless you check if it failed! cd $foo; bad. cd "$foo" || exit; good. See /msg greybot pitfalls
[05:03:07] *** Joins: kurahaupo_ (~kurahaupo@pa49-181-167-244.pa.nsw.optusnet.com.au)
[05:04:15] *** Quits: The_Jag (~The_Jag@host-87-17-20-218.retail.telecomitalia.it) (Ping timeout: 260 seconds)
[05:04:58] <akoana> hmm and given how often sudo is used, why not just run the whole script as sudo
[05:05:24] <akoana> (after "hardening" of course)
[05:05:27] *** Parts: pyrrhomancer (~weechat@user/pyrrhomancer) ()
[05:06:06] <akoana> s/as sudo/with sudo/
[05:06:23] *** Joins: rgrinberg (~textual@201.182.226.118)
[05:06:35] *** Quits: n4dir (~user@i577BC964.versanet.de) (Ping timeout: 260 seconds)
[05:06:35] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 260 seconds)
[05:07:22] <emanuele6> akoana: there is a redirection: > "$db.sql"
[05:07:50] <emanuele6> if you run the whole script with sudo, that file will be owned by root
[05:08:00] *** Joins: n4dir (~user@mue-88-130-57-057.dsl.tropolys.de)
[05:08:25] <emanuele6> and there are also a bunch of ~ expansions
[05:09:53] <akoana> sure yeah, I'd use absolute paths anyway, and  the script is intended for a server backup and I guess root is involved a lot
[05:10:54] <emanuele6> if you run the script as root, you won't know which $HOME to use and which user should own the file
[05:11:03] <akoana> also I'd like to preserve ownership and permissions in that case
[05:11:08] <emanuele6> unless you require sudo and use sudo specific variable
[05:11:23] <emanuele6> s/$/s/
[05:12:40] <xx> is there a way of making 'if [[ $TERM =~ 256color ]]' use [ ... ] instead?
[05:12:42] <akoana> all in all, doing a backup as root would avoid some problems (using cp -a for example)
[05:13:00] <emanuele6> xx: regexes are expensive in bash
[05:13:19] <xx> probably
[05:13:19] <emanuele6> that check be performed by a glob [[ $TERM == *256color* ]]
[05:14:12] <xx> sadly tmux runs `sh` internally for parsing its tmux.conf, so I can't use bashisms
[05:14:40] <xx> hmm, maybe I'm in the wrong channel for this
[05:14:54] <emanuele6> ah
[05:15:03] <akoana> case $TERM in *256color*) ... should work in sh, no?
[05:15:04] <emanuele6> well, you can use pattern matching in posix
[05:15:09] <emanuele6> yeah like that
[05:15:16] <n4dir> https://mywiki.wooledge.org/Bashism
[05:15:21] <emanuele6> you don't need [
[05:15:24] <n4dir> might be you'll need that for other things too.
[05:22:03] <xx> case $TERM in *256color*) true;; *) false;; esac
[05:23:30] *** Joins: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com)
[05:23:57] <emanuele6> xx: you can also write it as: ! case $TERM in *256color*) false ; esac
[05:24:38] <xx> I'm trying to wrap my head around that one
[05:25:42] <kurahaupo_> xx: Or: « ! case $TERM in *256color*) false ; esac »
[05:25:43] <emanuele6> `if', `while', `for', `case' etc return 0 if they don't run any code in their body, otherwise they return the exit code of the last command they run in their body
[05:25:45] <xx> in case people are interested why I'm doing this - linux kernel removed the scroll-buffer on the console, so I always need to start tmux first now, and would like to use the same config file as for regular tmux sessions
[05:26:00] <kurahaupo_> emanuele6: snap
[05:26:06] <xx> but linux console can't handle tmux-256color as $TERM
[05:27:51] *** Joins: ponies (~ponies@60-242-68-57.static.tpgi.com.au)
[05:29:24] <emanuele6> xx: what do you mean?
[05:30:17] <xx> my linux console can only handle 8 colors, plus no italics or bold or other fancier things
[05:30:23] <emanuele6> i always use tmux in linux virtual console (i am doing it right now) and i don't have any problem
[05:31:02] <emanuele6> when i don't use tmux, TERM is "linux"; when i start tmux, TERM becomes "screen-256color", but it still works perfectly
[05:31:05] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[05:31:13] <xx> hmm, that's odd
[05:32:19] <xx> in that case, it maybe be because other things are looking for *256color* afterwards in $TERM, such as some things in .bashrc
[05:32:38] <xx> I'm on the right path, thanks
[05:32:57] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[05:33:09] *** Joins: Crescendo (~Crescendo@user/crescendo)
[05:33:29] *** Quits: superboot (~agentgasm@user/superboot) (Quit: leaving)
[05:35:06] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 245 seconds)
[05:35:21] *** Quits: prifici (~patri@user/prifici) (Quit: Off to work or bed.)
[05:36:14] <emanuele6> if TERM mattered that much, it would be terrible
[05:37:13] <emanuele6> i always run everything on tmux; and i always keep the weechat section open in tty2 so i don't close it accidentally
[05:38:00] <xx> honestly, it probably is some error on my part, and I'm going through all my rc files cleaning them up to not assume various things and instead test for them
[05:38:13] <Hash> Okt hanks
[05:48:03] *** Joins: AntonioPt (~puppy@129.85.63.94.rev.vodafone.pt)
[05:48:18] <AntonioPt> night everyone need some help
[05:48:54] <AntonioPt> how i check if is less or equal to 6.7.8
[06:00:28] *** Joins: zeden (~zeden@user/zeden)
[06:02:06] *** Quits: jos1 (~jos3@dyndsl-091-248-055-243.ewe-ip-backbone.de) (Ping timeout: 244 seconds)
[06:09:12] <akoana> maybe convert the values to be compared to numbers
[06:09:26] <akoana> # a="6.7.4" b="6.7.8"; if (( "${a//.}" <= "${b//.}" )); then echo less-or-equal; else echo not-less-or-equal;fi
[06:09:28] <shbot> akoana: less-or-equal
[06:09:47] <akoana> # a="6.7.9" b="6.7.8"; if (( "${a//.}" <= "${b//.}" )); then echo less-or-equal; else echo not-less-or-equal;fi
[06:09:50] <shbot> akoana: not-less-or-equal
[06:10:58] <akoana> the question is though, check *what* is less or equal to 6.7.8
[06:14:01] *** Joins: jos1 (~jos3@dyndsl-178-142-068-118.ewe-ip-backbone.de)
[06:14:44] <AntonioPt> thxxxx
[06:15:00] <AntonioPt> gonna test it akoana
[06:15:03] <emanuele6> # a="6.7.9" b="16.7.8"; if (( "${a//.}" <= "${b//.}" )); then echo less-or-equal; else echo not-less-or-equal;fi
[06:15:05] <shbot> emanuele6: less-or-equal
[06:16:02] <akoana> yeah, doesn't work for version strings like these, I know
[06:16:31] <emanuele6> or even with version strings like 0.9.9 and 0.9.10
[06:16:54] <emanuele6> actually, not even with stuff like 0.8 and 0.9
[06:17:01] <akoana> gnu sort has -V
[06:17:12] <emanuele6> # a="0.8" b="0.9"; if (( "${a//.}" <= "${b//.}" )); then echo less-or-equal; else echo not-less-or-equal;fi
[06:17:13] <shbot> emanuele6: bash: ((: 08: value too great for base (error token is "08")
[06:17:14] <shbot> emanuele6: not-less-or-equal
[06:18:45] <akoana> emanuele6: lol, that's what I thought before, but do we know how any second value would look like?
[06:20:29] <emanuele6> well, if doesn't even work with 2.0 vs 1.10, it's quite useless
[06:21:07] <akoana> I saw only 3 digits > 0 separated by .
[06:21:17] <AntonioPt> ${a//.} will do what sorry guys <-<
[06:21:20] <AntonioPt> ?
[06:21:34] <emanuele6> remove all "."
[06:21:44] <AntonioPt> ahh ok gr8
[06:21:50] <AntonioPt> its working
[06:21:58] <emanuele6> if this is comparing versions don't use it
[06:22:20] <akoana> emanuele6: but you're right of course, for version strings (like you mentioned) it's useless
[06:22:21] <emanuele6> 2.3.1 will be less than 1.2.10
[06:22:23] <AntonioPt> why not if ?
[06:22:44] <AntonioPt> ahh ok
[06:22:46] <emanuele6> and for 0.1.4, it will just throw a syntax error
[06:22:57] <AntonioPt> i see
[06:22:59] <emanuele6> err, i meant 0.1.8
[06:23:31] <AntonioPt> funny i have try 0.3.0 and didnt get no error
[06:23:55] <emanuele6> yeah, only with digits >7 it happens
[06:24:12] <AntonioPt> ahh ok
[06:24:24] <emanuele6> but still 030 will be interpeted as 24
[06:24:30] <emanuele6> echo "$((030))"
[06:24:32] <emanuele6> # echo "$((030))"
[06:24:34] <shbot> emanuele6: 24
[06:24:56] <emanuele6> if you want to compare versions, split the string by . and check each field individually
[06:25:25] <AntonioPt> i see
[06:25:52] <AntonioPt> better to do a fuction then
[06:30:45] <AntonioPt> thxx guys
[06:32:50] <AntonioPt> just one more question then how to grab just 6.7   from 6.7.88
[06:33:35] <ormaaj> `[[ x.y -[lg]t` is another ugly alternative. I'd do the string split.
[06:33:36] <emanuele6> # version_greater () { (( $# >= 2 )) || return 2; local i; IFS=. read -ra vs <<< "$1"; shift; for arg do (( 10#${vs[i++]//[!0123456789]} > 10#${arg//[!0123456789]} )) && return; done; return 1 ;}; if version_greater '0.3.0' 0 5 3; then echo greater; else echo less-or-equal; fi
[06:33:37] <AntonioPt> to avoid errors and to make a fuction
[06:33:39] <shbot> emanuele6: less-or-equal
[06:33:48] <emanuele6> # version_greater () { (( $# >= 2 )) || return 2; local i; IFS=. read -ra vs <<< "$1"; shift; for arg do (( 10#${vs[i++]//[!0123456789]} > 10#${arg//[!0123456789]} )) && return; done; return 1 ;}; if version_greater '0.3.0' 0 3 0; then echo greater; else echo less-or-equal; fi
[06:33:51] <shbot> emanuele6: less-or-equal
[06:33:57] <emanuele6> # version_greater () { (( $# >= 2 )) || return 2; local i; IFS=. read -ra vs <<< "$1"; shift; for arg do (( 10#${vs[i++]//[!0123456789]} > 10#${arg//[!0123456789]} )) && return; done; return 1 ;}; if version_greater '0.3.0' 0 2 0; then echo greater; else echo less-or-equal; fi
[06:33:59] <shbot> emanuele6: greater
[06:34:03] <emanuele6> something like that
[06:34:10] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 265 seconds)
[06:34:26] <emanuele6> !pe > AntonioPt
[06:34:26] <greybot> AntonioPt: Parameter Expansion expands parameters: "$foo", "$1". You can use it to perform string or array operations: "${file%.mp3}", "${0##*/}", "${files[@]: -4}". They should *always* be quoted. See: http://mywiki.wooledge.org/BashFAQ/073 and "Parameter Expansion" in man bash. Also see http://wiki.bash-hackers.org/syntax/pe.
[06:34:35] <loganlee> guys why jq '[1,2,3] | map(select(.>=2))' has no output?
[06:34:48] <emanuele6> AntonioPt: with var=6.7.88; echo "${var%.*}"
[06:34:56] <emanuele6> loganlee: #jq
[06:35:03] <AntonioPt> ok emanuele6 thxx
[06:35:05] <loganlee> no i mean on terminal
[06:35:24] <emanuele6> because you are missing -n
[06:35:34] <emanuele6> bash has nothing to do with it :)
[06:35:50] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[06:35:53] <loganlee> ok thx it works
[06:35:56] <emanuele6> #  jq -n '[1,2,3] | map(select(.>=2))'
[06:35:58] <shbot> emanuele6: [2,3]
[06:37:26] <AntonioPt> thankyou all
[06:39:01] *** Quits: AntonioPt (~puppy@129.85.63.94.rev.vodafone.pt) (Quit: Leaving)
[06:39:03] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[06:39:55] *** Quits: timj (~timj@user/timj) (Ping timeout: 260 seconds)
[06:40:01] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Client Quit)
[06:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[06:43:43] <akoana> # version_greater(){ local a b; a=("$1" "$2"); mapfile -t b < <(printf %s\\n "${a[@]}" | sort -V); if [[ "${a[0]}" == "${b[0]}" ]]; then printf %s\\n "$1 not greater $2"; else printf %s\\n "$1 greater $2" ;fi; }; version_greater '0.3.0' "0.2.0"
[06:43:45] <shbot> akoana: 0.3.0 greater 0.2.0
[06:44:00] <emanuele6> they left
[06:44:15] <akoana> oh, just wanted to try it with gnu sort -V
[06:45:23] <emanuele6> you can use `-n 1' for the mapfile
[06:45:38] <akoana> oh, good point
[06:46:00] <emanuele6> or even just use read
[06:46:29] <emanuele6> well, i guess it doesn't really matter
[06:46:37] <akoana> anyway pretty much code for a "simple" version comparison ...
[06:48:47] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[06:53:59] *** Quits: xx (~xx@user/xx) (Ping timeout: 265 seconds)
[06:55:39] *** Joins: Psi-Jack (psi-jack@user/psi-jack)
[07:06:31] *** Joins: Carp (~rue@1-162-40-226.dynamic-ip.hinet.net)
[07:17:27] *** Joins: rairden (~rairden@2603:9000:de04:9613::1a20)
[07:18:48] *** Quits: nehsou^ (~nehsou@wsip-68-227-92-38.mc.at.cox.net) (Remote host closed the connection)
[07:22:35] *** Quits: suedoe (~madrid@2600:1702:4880:16f0:2c73:495d:fc6d:4358) (Quit: Textual IRC Client: www.textualapp.com)
[07:23:37] *** Joins: caef^ (~caef@wsip-68-227-92-38.mc.at.cox.net)
[07:24:49] *** Joins: dob1_ (~dob1@user/dob1)
[07:25:53] *** Quits: dob1 (~dob1@user/dob1) (Ping timeout: 265 seconds)
[07:26:30] *** Quits: emg (~emg@cpe-70-93-247-186.natsow.res.rr.com) (Ping timeout: 260 seconds)
[07:28:13] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.3)
[07:36:49] *** Quits: Zauberfisch (~Zauberfis@62.240.152.166) (Read error: Connection reset by peer)
[07:37:11] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Client closed)
[07:37:38] *** Joins: Zauberfisch (~Zauberfis@62.240.152.166)
[07:40:00] *** Quits: caef^ (~caef@wsip-68-227-92-38.mc.at.cox.net) (Ping timeout: 260 seconds)
[07:40:47] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 244 seconds)
[07:42:37] <kurahaupo_> emanuele6: xx: https://github.com/termstandard/colors
[07:42:46] *** Joins: analoq (~yashi@user/dies)
[07:44:38] *** Joins: caef^ (~caef@wsip-68-227-92-38.mc.at.cox.net)
[07:45:01] *** Quits: carlos (~pum@user/carlos) (Read error: Connection reset by peer)
[07:45:50] <emanuele6> kurahaupo_: ?
[07:47:00] *** Quits: kurahaupo_ (~kurahaupo@pa49-181-167-244.pa.nsw.optusnet.com.au) (Ping timeout: 260 seconds)
[07:52:49] *** Joins: kurahaupo (~kurahaupo@pa49-181-167-244.pa.nsw.optusnet.com.au)
[07:53:48] <kevr> How can I read a file into an array, line by line?
[07:54:11] <kevr> I'm trying IFS='\n' read -a titles < issues.template, clearly not right
[07:54:50] <pj> !faq read
[07:54:50] <greybot> https://mywiki.wooledge.org/BashFAQ/001 -- How can I read a file (data stream, variable) line-by-line (and/or field-by-field)?
[08:00:08] *** Joins: Guest59 (~Guest59@2a02:a31d:8541:e100:213:2ff:fed3:8291)
[08:01:20] <emanuele6> kevr: read splits records with the delimiter (-d) and fields with IFS characters, since the default delimiter is \n, IFS=$'\n' is equivalent to IFS=
[08:01:56] <emanuele6> also IFS='\n' sets IFS to literal \n, you want to use $'\n' if you want to set it to \n
[08:02:20] <emanuele6> to read a file to an array though, you can simply use `mapfile'
[08:02:24] <emanuele6> !mapfile
[08:02:24] <greybot> Read lines from a file/stream into an array: mapfile -t arrayname < file OR mapfile -t arrayname < <(some cmd); # In bash < 4, use a loop; see FAQ 5 or http://wiki.bash-hackers.org/commands/builtin/mapfile
[08:02:37] <emanuele6> mapfile -t titles < issues.template
[08:04:33] *** Quits: ionface (~ionface@user/ionface) (Ping timeout: 265 seconds)
[08:05:37] *** Joins: LuKaRo_ (~LuKaRo@p4fc32190.dip0.t-ipconnect.de)
[08:05:47] *** Quits: LuKaRo (~LuKaRo@p5deda401.dip0.t-ipconnect.de) (Ping timeout: 264 seconds)
[08:08:24] *** Joins: ionface (~ionface@user/ionface)
[08:12:04] *** Guest59 is now known as wikan
[08:12:40] <mindhunter> :q
[08:16:05] *** Joins: Dunce (~Dunce@gateway/tor-sasl/dunce)
[08:19:03] *** Joins: kurashiki48 (~kurashiX4@2601:410:0:c03:bd46:ad6a:716d:4d8e)
[08:21:59] *** Quits: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net) (Ping timeout: 264 seconds)
[08:24:53] *** Quits: m9hs (~m9hs@gateway/tor-sasl/m9hs) (Remote host closed the connection)
[08:25:04] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[08:27:29] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[08:29:16] *** Joins: vishal (~vishal@fedora/vishal)
[08:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[08:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[08:34:47] *** Quits: A|an (~Alan@173.216.51.200) (Quit: A|an)
[08:35:14] *** Joins: igemnace (~ian@user/igemnace)
[08:35:42] *** Quits: Dunce (~Dunce@gateway/tor-sasl/dunce) (Remote host closed the connection)
[08:42:13] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[08:42:28] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[08:45:24] *** Joins: ravan (~ravan@user/ravan)
[09:05:31] *** Quits: ravan (~ravan@user/ravan) (Ping timeout: 244 seconds)
[09:06:46] *** Joins: ravan (~ravan@42.201.198.151)
[09:06:49] *** Quits: ravan (~ravan@42.201.198.151) (Client Quit)
[09:22:51] *** Quits: skapate (~Skapata@user/skapata) (Remote host closed the connection)
[09:44:11] *** Joins: ckeshav (~keshavcha@user/ckeshav)
[09:51:17] *** Parts: kevr (~kevr@user/kevr) (WeeChat 3.0.1)
[09:58:43] *** Quits: rgrinberg (~textual@201.182.226.118) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:00:18] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 244 seconds)
[10:01:45] *** Quits: Carp (~rue@1-162-40-226.dynamic-ip.hinet.net) (Quit: WeeChat 3.3)
[10:02:05] *** Joins: zostj (~rue@1-162-40-226.dynamic-ip.hinet.net)
[10:02:54] <Hash> sudo rsync -rva /etc/{apt,exim4,fail2ban,icecast2,mysql,nginx,spamassassin,ssl,vmail}/ ~/server/etc/ does not do what I wanted. It dumps everything into ~/server etc. How can i copy all those as seperate directoreis and retain the structure
[10:03:16] <Hash> I'm trying to copy those few directories into ~/server/etc/ so I get ~/server/etc/nginx etc.
[10:03:26] <Hash> Right now it dumps everything from those dirs into the target dir
[10:04:07] <dodo> remove the trailing / after }/
[10:04:36] <Hash> Oh
[10:06:41] <Hash> Thanks
[10:07:00] <Hash> Difference a / can make.
[10:08:39] <dodo> meet your new friend rm -rf
[10:08:59] *** Joins: tex (~super@user/dix)
[10:19:05] *** Joins: rgrinberg (~textual@ip152-195-159-186.ct.co.cr)
[10:21:31] *** Joins: ominionx (~ominionx@173-25-110-118.client.mchsi.com)
[10:27:10] *** Quits: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 244 seconds)
[10:28:53] *** Joins: extern (~archer@80.246.138.213)
[10:28:59] *** Quits: hejux (~hejux@104.224.190.144.16clouds.com) (Quit: WeeChat 3.3)
[10:29:17] *** Joins: hejux (~hejux@104.224.190.144.16clouds.com)
[10:29:28] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 252 seconds)
[10:34:49] *** Joins: Thanatermesis (~Thanaterm@181.58.38.102)
[10:34:59] *** Quits: extern (~archer@80.246.138.213) (Remote host closed the connection)
[10:35:27] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[10:38:30] *** Quits: n4dir (~user@mue-88-130-57-057.dsl.tropolys.de) (Remote host closed the connection)
[10:43:43] *** Joins: tobybl (~tobybl@213.31.135.91)
[10:44:41] *** Quits: richardm75_ (~richardm7@2600:8801:c50a:9f00:ce9:ed92:b85f:14e) (Ping timeout: 245 seconds)
[10:45:01] *** Quits: ckeshav (~keshavcha@user/ckeshav) (Ping timeout: 265 seconds)
[10:48:27] *** Quits: tobybl (~tobybl@213.31.135.91) (Ping timeout: 258 seconds)
[10:49:10] *** Joins: tobybl (~tobybl@213.31.135.91)
[10:49:36] *** Joins: lavaball (~Melissa@31.204.155.215)
[10:58:21] *** Quits: whaa_ (~whaa@c-75-67-72-65.hsd1.ma.comcast.net) (Remote host closed the connection)
[10:59:13] *** Joins: whaa (~whaa@c-75-67-72-65.hsd1.ma.comcast.net)
[11:01:46] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[11:01:47] *** Quits: xizhendu_ (~xizhendu@115.171.233.239) (Ping timeout: 244 seconds)
[11:05:01] *** Joins: alzgh (~alzgh@user/alzgh)
[11:05:04] *** Quits: wikan (~Guest59@2a02:a31d:8541:e100:213:2ff:fed3:8291) (Quit: Client closed)
[11:13:31] *** Joins: ialokin (~ialokin@user/ialokin)
[11:18:36] *** Quits: caef^ (~caef@wsip-68-227-92-38.mc.at.cox.net) (Remote host closed the connection)
[11:21:30] <Feuermagier> the "locale" in my shell does not appear to be the one /etc/default/locale or /etc/locale.conf - any idea where bash pulls these from?
[11:22:44] <Huy[m]> maybe in .profile?
[11:24:11] <Feuermagier> non settings there
[11:24:32] <Feuermagier> it's broken across shells and users
[11:25:07] <dodo> which os? which locale do you have, and which do you expect?
[11:25:10] <Feuermagier> https://pastebin.com/Fj3BA2HT
[11:25:10] <pasteban> Paste is available without ads on https://pastebin.com/raw/Fj3BA2HT
[11:25:33] <Feuermagier> I'd like LANG=en_US.UTF-8
[11:25:47] <Feuermagier> en_DE.UTF-8 does not appear to exist actually
[11:25:52] *** Joins: qswz (~caub@89-80-20-125.abo.bbox.fr)
[11:26:00] <Feuermagier> everything else de_DE.UTF-8
[11:26:02] <dodo> i was going to say
[11:26:12] <dodo> which os?
[11:26:18] <Feuermagier> Manjaro (Arch based)
[11:26:31] <dodo> hm, not familiar with that, but you might have to build the locales
[11:26:38] <qswz> DE.UTSCH-8
[11:26:43] *** Quits: darkstarx (~darkstard@2601:1c2:300:c8a0::6c32) (Remote host closed the connection)
[11:27:06] *** Joins: darkstarx (~darkstard@2601:1c2:300:c8a0::6c32)
[11:27:07] <qswz> sry bad joke, I'll have a question guys, hold on
[11:27:31] <Feuermagier> I ran "localectl set-locale LANG=en_US.UTF-8" and locale-gen "en_US.UTF-8" - no change
[11:28:31] *** Joins: Guest14 (~Guest14@2409:4072:8e8e:c07e:21f:3cff:fe47:384e)
[11:29:13] *** Joins: Atque (~Atque@user/atque)
[11:31:29] <qswz> What is the best option to "eval" an arbitrary command string?
[11:31:55] <qswz> eval I guess
[11:32:51] *** Joins: magla (~gelignite@55d4df94.access.ecotel.net)
[11:32:52] <qswz> https://dpaste.org/JCGC this is an attempt to have a minimal mock docker command
[11:33:15] <geirha> !faq complex
[11:33:15] <greybot> https://mywiki.wooledge.org/BashFAQ/050 -- I'm trying to put a command in a variable, but the complex cases always fail!
[11:33:29] <qswz> thanks geirha
[11:34:38] <qswz> I'd use this command like this: ./duck run -e FOO=bar -eNODE_ENV=xx ll node --no-warnings run 4
[11:36:49] *** Quits: tobybl (~tobybl@213.31.135.91) (Remote host closed the connection)
[11:37:11] *** Quits: rgrinberg (~textual@ip152-195-159-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:38:35] <geirha> case $opt in e) env_vars+=( "$OPTARG" ) ;; ... ; env "${env_vars[@]}" "$@"
[11:38:48] <geirha> though that doesn't account for -e VARNAME
[11:40:14] <qswz> ok so putting envs in an array, thanks
[11:41:40] <geirha> case $opt in e) [[ $OPTARG = *=* ]] && env_vars+=( "$OPTARG" ) ;;
[11:42:04] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 244 seconds)
[11:42:11] <qswz> ok nice, validating envs as wel
[11:42:19] *** Joins: ravan (~ravan@user/ravan)
[11:43:45] <geirha> but you'll have the opposite problem now.  docker run only passes on the env vars you list with -e VAR1 and -e VAR2=value, all other env vars will be ignored, but not by your duck script
[11:44:13] *** Quits: indy (~indy@dsl-static-104.213-160-167.telecom.sk) (Quit: ZNC 1.8.2 - https://znc.in)
[11:44:25] *** Joins: n4dir (~user@mue-88-130-57-057.dsl.tropolys.de)
[11:44:34] *** Joins: indy (~indy@dsl-static-104.213-160-167.telecom.sk)
[11:46:39] <qswz> then I eval it like this right: eval "${env_vars[@]}$@"
[11:46:47] <geirha> no, no eval
[11:46:57] <geirha> env "${env_vars[@]}" "$@"
[11:47:10] <qswz> env vars will follow the format KEY=VALUE
[11:47:19] <qswz> ah ok
[11:48:18] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[11:48:24] *** Quits: ominionx (~ominionx@173-25-110-118.client.mchsi.com) (Quit: Leaving)
[11:49:25] <qswz> thanks a lot
[11:53:01] *** Quits: Guest14 (~Guest14@2409:4072:8e8e:c07e:21f:3cff:fe47:384e) (Quit: Client closed)
[11:56:18] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Remote host closed the connection)
[11:56:23] *** Parts: SkyWay (~apt@79.119.77.57) (The Lounge - https://thelounge.chat)
[11:58:52] *** Joins: rendar (~rendar@user/rendar)
[11:59:09] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[11:59:43] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[12:01:20] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Remote host closed the connection)
[12:02:30] *** Quits: kurahaupo (~kurahaupo@pa49-181-167-244.pa.nsw.optusnet.com.au) (Ping timeout: 260 seconds)
[12:02:56] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[12:04:16] *** Quits: medard (~mithrin@stip-static-62.213-81-207.telecom.sk) (Ping timeout: 245 seconds)
[12:04:23] *** Joins: Bhavuk (~BTaneja@2401:4900:502f:fca1:dd02:bd4d:526d:90ac)
[12:04:43] *** Joins: earnestly (~earnest@user/earnestly)
[12:07:26] *** Joins: medard (~mithrin@stip-static-62.213-81-207.telecom.sk)
[12:07:29] *** Joins: xizhendu_ (~xizhendu@240e:305:7380:4300:d47:48bf:97c5:2de9)
[12:12:28] *** Joins: Bhavuk_ (~BTaneja@103.132.28.60)
[12:15:56] *** Quits: Bhavuk (~BTaneja@2401:4900:502f:fca1:dd02:bd4d:526d:90ac) (Ping timeout: 245 seconds)
[12:26:30] *** Joins: Night-Shade (~Tim@ip5b403d56.dynamic.kabel-deutschland.de)
[12:27:21] *** Joins: elefes (~elefes@90.241.170.80)
[12:27:30] *** Joins: furrymcgee (~devuan@cgn-89-1-210-103.nc.de)
[12:29:19] *** Joins: richardm75_ (~richardm7@2600:8801:c50a:9f00:b9f8:6cf1:aeb3:d0b8)
[12:30:39] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[12:33:01] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[12:33:13] *** Joins: karakedi (~eAC53C340@user/karakedi)
[12:35:41] *** Quits: vvlad (~vvlad@dslb-002-205-166-199.002.205.pools.vodafone-ip.de) (Quit: Leaving)
[12:41:24] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[12:42:08] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[12:48:42] *** Quits: Nact (~l@host-85-27-120-251.dynamic.voo.be) (Quit: Konversation terminated!)
[13:00:50] *** Quits: jinsun (~quassel@user/jinsun) (Ping timeout: 260 seconds)
[13:01:13] *** Joins: jinsun (~quassel@user/jinsun)
[13:03:10] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi) (Ping timeout: 260 seconds)
[13:05:26] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi)
[13:08:21] *** Joins: tobybl (~tobybl@213.31.135.91)
[13:18:04] *** Joins: mei (~mei@user/mei)
[13:18:50] *** Quits: sandb0y (~pirate@user/sandb0y) (Quit: Time for another great escape)
[13:20:54] *** Joins: msmhbd^ (~msmhbd@wsip-68-227-92-38.mc.at.cox.net)
[13:24:42] *** Joins: gaspare (~gastel@151.63.119.74)
[13:26:18] *** Quits: Thanatermesis (~Thanaterm@181.58.38.102) (Ping timeout: 260 seconds)
[13:26:33] *** Joins: kurahaupo (~kurahaupo@pa49-181-167-244.pa.nsw.optusnet.com.au)
[13:27:01] *** Quits: gaspare (~gastel@151.63.119.74) (Client Quit)
[13:27:47] *** Parts: qswz (~caub@89-80-20-125.abo.bbox.fr) ()
[13:29:00] *** Joins: sublim20 (~sublim20@user/sublim20)
[13:36:36] *** Joins: han-solo (~han-solo@103.104.47.18)
[13:36:36] *** Quits: han-solo (~han-solo@103.104.47.18) (Changing host)
[13:36:36] *** Joins: han-solo (~han-solo@user/han-solo)
[13:36:49] *** Parts: han-solo (~han-solo@user/han-solo) ()
[13:36:56] *** Joins: han-solo (~han-solo@user/han-solo)
[13:41:34] *** Joins: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[13:42:35] *** Joins: Atque (~Atque@user/atque)
[13:45:54] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 260 seconds)
[13:48:26] *** Quits: msmhbd^ (~msmhbd@wsip-68-227-92-38.mc.at.cox.net) (Ping timeout: 245 seconds)
[13:51:14] *** Joins: jkwnki (~jkwnki@p4ff318e6.dip0.t-ipconnect.de)
[13:51:28] *** Joins: msmhbd^ (~msmhbd@wsip-68-227-92-38.mc.at.cox.net)
[14:00:25] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[14:07:07] *** Quits: humky (~humky@user/humky) (Quit: Leaving)
[14:09:29] *** Joins: gabriele (~gabriele@user/gabriele)
[14:12:27] *** Quits: gabriele (~gabriele@user/gabriele) (Client Quit)
[14:15:10] *** Quits: tobybl (~tobybl@213.31.135.91) (Remote host closed the connection)
[14:20:37] *** Joins: Torp32423 (~Torp32423@203.221.102.89)
[14:24:29] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[14:24:41] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[14:27:57] *** Quits: Torp32423 (~Torp32423@203.221.102.89) (Ping timeout: 256 seconds)
[14:30:44] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[14:33:23] *** Quits: richardm75_ (~richardm7@2600:8801:c50a:9f00:b9f8:6cf1:aeb3:d0b8) (Ping timeout: 264 seconds)
[14:36:08] *** Quits: rairden (~rairden@2603:9000:de04:9613::1a20) (Quit: rairden)
[14:36:54] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.3)
[14:37:01] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[14:37:46] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[14:37:46] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Client Quit)
[14:39:06] *** Joins: xx (~xx@user/xx)
[14:39:08] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[14:42:23] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 244 seconds)
[14:42:53] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[14:45:10] *** Quits: m4n (~emacs@95.91.209.255) (Ping timeout: 260 seconds)
[14:45:20] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[14:46:25] *** Joins: m4n (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de)
[14:46:28] *** Parts: elefes (~elefes@90.241.170.80) (Leaving)
[14:53:54] *** Quits: edlou (uid413273@id-413273.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[14:56:01] *** Joins: timj (~timj@user/timj)
[14:58:02] *** Quits: m4n (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de) (Remote host closed the connection)
[15:02:11] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[15:02:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[15:09:30] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[15:11:11] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 264 seconds)
[15:12:10] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[15:12:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[15:21:36] *** Joins: gaspare (~gastel@151.63.119.74)
[15:22:04] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[15:22:44] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[15:24:52] *** Joins: DaNeenjah (~jake@adsl-74-230-9-207.hsv.bellsouth.net)
[15:29:41] *** Joins: zro (~zro@user/zro)
[15:31:40] *** Quits: sublim20 (~sublim20@user/sublim20) (Remote host closed the connection)
[15:35:58] *** Joins: Atque (~Atque@user/atque)
[15:36:46] *** Quits: kurashiki48 (~kurashiX4@2601:410:0:c03:bd46:ad6a:716d:4d8e) (Ping timeout: 245 seconds)
[15:38:21] *** Quits: gaspare (~gastel@151.63.119.74) (Quit: Going offline, see ya! (www.adiirc.com))
[15:39:14] *** Quits: jkwnki (~jkwnki@p4ff318e6.dip0.t-ipconnect.de) (Ping timeout: 244 seconds)
[15:39:39] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[15:41:04] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[15:43:11] <clarkk> I'm using the following command to output system notifications to the shell, after filtering out some unwanted messages. ~/.notifications>#  tail -f $(ls -tr | tail -n 1) | sed -E -f notifications-log-filter.sed
[15:43:55] <clarkk> I want to then substitute some words with a large space, but the sed on the end breaks the previous part.   tail -f $(ls -tr | tail -n 1) | sed -E -f notifications-log-filter.sed | sed 's/Shown|Normal/     /'
[15:44:05] <clarkk> Can anyone tell me what I'm doing wrong, please?
[15:44:16] *** Quits: xizhendu_ (~xizhendu@240e:305:7380:4300:d47:48bf:97c5:2de9) (Ping timeout: 245 seconds)
[15:44:28] <clarkk> So the words "Shown" and "Normal" should be replaced with spaces
[15:44:41] <clarkk> (or, not and)
[15:51:49] *** Joins: sublim20 (~sublim20@user/sublim20)
[15:54:19] <clarkk> hold on - I think I can simplify the question
[15:54:27] *** Quits: gxt_ (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[15:54:57] *** Joins: gxt_ (~gxt@gateway/tor-sasl/gxt)
[15:57:38] <clarkk> tail -f $(ls -tr | tail -n 1) | sed -E -f notifications-log-filter.sed | sed -E 's/(\|Shown|\|Normal\|)/    /g'
[15:58:33] <clarkk> OK, the last sed works if I echo a message to it, but it completely breaks the previous command
[15:59:17] <clarkk> I want to replace the strings, "|Shown" and "|Normal|"
[16:00:26] *** Joins: xizhendu_ (~xizhendu@240e:305:7380:4300:d47:48bf:97c5:2de9)
[16:02:53] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[16:03:06] *** Quits: p3hz (~p3hz@96.44.142.75.adsl.inet-telecom.org) (Ping timeout: 260 seconds)
[16:03:14] <clarkk>  I'm using the following command to output system notifications to the shell, after filtering out some unwanted messages that match the .sed filters file. This works as expected.    ~/.notifications>#  tail -f $(ls -tr | tail -n 1) | sed -E -f notifications-log-filter.sed
[16:03:18] <clarkk> oops
[16:03:22] <clarkk> ignore last message
[16:03:31] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[16:03:48] <apathor> clarkk: use a pastebin and show the content of notifcations-log-filter.sed and example input lines
[16:04:03] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[16:04:20] <clarkk> apathor, that part of the command works as expected. It's piping it to the last sed that doesn't work
[16:04:21] *** Joins: jkwnki (~jkwnki@p4ff318e6.dip0.t-ipconnect.de)
[16:04:21] <apathor> what do you mean by 'it completely breaks the previous command'?
[16:04:29] <clarkk> nothing is output
[16:04:39] *** Joins: p3hz (~p3hz@96.44.142.75.adsl.inet-telecom.org)
[16:04:51] <tk> clarkk: can you provide example output of the pre-sed command?
[16:05:00] <tk> as in, the second to last sed
[16:06:21] *** Joins: grep_xtrange (~x@ac255238.ppp.asahi-net.or.jp)
[16:06:47] <clarkk> http://paste.debian.net/plainh/0566c307
[16:08:41] <clarkk> If I put that pastebin in a text file, and cat it to the last sed command, it works as expected
[16:09:23] *** Quits: z8z (~x@ac255238.ppp.asahi-net.or.jp) (Ping timeout: 264 seconds)
[16:10:11] <clarkk> cat sedtest.txt | sed -E -f notifications-log-filter.sed | sed -E 's/(\|Shown|\|Normal\|)/    /g'
[16:10:17] <tk> and if you redirect the output of the command (before the last sed) into a file using > does that file end up containing what you expected?
[16:10:20] <clarkk> the above also works as expected
[16:10:41] *** Quits: lavaball (~Melissa@31.204.155.215) (Remote host closed the connection)
[16:11:31] <clarkk> it must be the way the data is input to the sed commands,  ie  tail -f $(ls -tr | tail -n 1)
[16:11:47] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[16:11:59] <tk> you should put double quotes around the $()
[16:13:05] <clarkk> ok, will do, but the command works without the sed, so that's not related to this issue, is it?
[16:13:35] *** Quits: xizhendu_ (~xizhendu@240e:305:7380:4300:d47:48bf:97c5:2de9) (Ping timeout: 264 seconds)
[16:14:27] <tk> Well no, but I would suggest that you should provide example input and a copy of notifications-log-filter.sed as it would at least allow people to try to replicate the issue.
[16:14:39] <tk> Even if you don't think the problem lies there.
[16:15:09] <tk> obviously neither the copy of notifications-log-filter.sed nor the input have to be real, they just have to be equivalent in replicating the isuse
[16:19:07] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[16:23:29] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[16:24:08] *** Joins: Atque (~Atque@user/atque)
[16:24:50] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[16:25:52] *** Quits: n4dir (~user@mue-88-130-57-057.dsl.tropolys.de) (Remote host closed the connection)
[16:26:42] *** Quits: magla (~gelignite@55d4df94.access.ecotel.net) (Quit: Stay safe!)
[16:37:05] <clarkk> thanks, tk .  I actually fixed it.  I added the second sed's command to the filter file
[16:39:51] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[16:42:44] *** Joins: GNUHacker (~gnu@mta763.solicitae.com)
[16:42:45] *** Quits: GNUHacker (~gnu@mta763.solicitae.com) (Changing host)
[16:42:45] *** Joins: GNUHacker (~gnu@fsf/member/GNUHacker)
[16:47:50] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[16:49:51] *** Quits: fatal (~0x00@user/fatal) (Ping timeout: 276 seconds)
[16:50:05] *** Joins: fatal (~0x00@user/fatal)
[16:56:43] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 244 seconds)
[16:58:17] *** Quits: p3hz (~p3hz@96.44.142.75.adsl.inet-telecom.org) (Quit: Lost terminal)
[16:59:24] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[17:02:47] *** Joins: igemnace (~ian@user/igemnace)
[17:03:21] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[17:05:01] *** Quits: jkwnki (~jkwnki@p4ff318e6.dip0.t-ipconnect.de) (Quit: WeeChat 2.8)
[17:08:53] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[17:11:02] *** Quits: GNUHacker (~gnu@fsf/member/GNUHacker) (Quit: quit)
[17:11:37] *** Joins: omnigoat (~omnigoat@user/omnigoat)
[17:15:27] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[17:15:35] <xx> why can't a bash restricted shell redirect output to /dev/null?
[17:15:43] *** Joins: bluehoney (bluehoney@gateway/vpn/protonvpn/bluehoney)
[17:17:50] <lopid> it begins with a slash?
[17:17:55] <xx> I mean, I know that it is supposed to not be able to do that, I read "RESTRICTED SHELL" in man bash, just wondering why
[17:18:37] <xx> "redirecting output using the >, >|, <>, >&, &>, and >> redirection operators"
[17:18:58] <xx> is what is restricted, just wondering what the original reasoning was to restrict that in a restricted shell
[17:20:06] *** Joins: rendar (~rendar@user/rendar)
[17:20:19] *** Quits: ionface (~ionface@user/ionface) (Quit: ionface)
[17:25:05] *** Joins: GNUHacker (~gnu@mta763.solicitae.com)
[17:25:06] *** Quits: GNUHacker (~gnu@mta763.solicitae.com) (Changing host)
[17:25:06] *** Joins: GNUHacker (~gnu@fsf/member/GNUHacker)
[17:25:29] <tangy> well, more visibility would be one effect.
[17:27:23] *** Quits: han-solo (~han-solo@user/han-solo) (Ping timeout: 264 seconds)
[17:28:03] *** Joins: zeden (~zeden@user/zeden)
[17:30:03] <tangy> ^ regarding /dev/null, that is
[17:31:24] <xx> the intention is to prevent the user from silencing output of commands by redirecting them to /dev/null?
[17:31:26] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.3)
[17:31:37] <xx> I can somewhat see the reasoning for that, but it is still weird
[17:32:07] *** Joins: tankf33der (mpech@envs.net)
[17:32:41] *** Joins: DrNostril (~DrNostril@host-80-181-167-115.retail.telecomitalia.it)
[17:34:39] <tankf33der> hi all
[17:35:53] *** Joins: hyskaru (~hyskaru@user/hyskaru)
[17:36:10] *** Quits: polve (~polve@twcitalia/polve) (Ping timeout: 260 seconds)
[17:36:29] *** Quits: hyskaru (~hyskaru@user/hyskaru) (Client Quit)
[17:37:28] *** Quits: zro (~zro@user/zro) (Ping timeout: 258 seconds)
[17:37:55] <tankf33der> i would like call this command in FOR loop:
[17:37:55] <tankf33der> https://envs.sh/ED_.txt
[17:38:29] <tankf33der> and get two commits inside loop to process, but getting every word of output
[17:39:02] <tankf33der> what is correct way to do it?
[17:40:30] *** Joins: polve (~polve@twcitalia/polve)
[17:42:35] *** Joins: son0p (~ff@181.136.122.143)
[17:43:24] *** Joins: superboot (~agentgasm@user/superboot)
[17:45:09] *** Quits: zeraphel (~daddy@2a00:a040:196:56d:96de:80ff:fefa:44a) (Quit: zeraphel)
[17:46:00] *** Joins: zeraphel (~daddy@2a00:a040:196:56d:96de:80ff:fefa:44a)
[17:47:16] *** Joins: pa_ (~smuxi@86-95-132-61.fixed.kpn.net)
[17:47:16] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[17:51:40] <apathor> tankf33der: while IFS=: read -r c m; do printf "commit %s\n" "$c"; done < <(git log --pretty=format:"%h:%s" --reverse)
[17:51:56] *** Quits: ztx (~ztx@user/ztx) (Quit: ztx)
[17:51:57] <tankf33der> wow, trying.
[17:52:09] <tankf33der> apathor: thanks in advance.
[17:52:35] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[17:53:02] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 244 seconds)
[17:53:15] *** Joins: mongy (~mongy@user/mongy)
[17:56:03] *** Joins: magla (~gelignite@55d4df94.access.ecotel.net)
[17:57:23] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[17:57:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[17:59:36] *** Joins: zro (~zro@user/zro)
[18:05:40] *** Joins: Guest73 (~Guest73@2a02:a31d:8541:e100:213:2ff:fed3:8291)
[18:06:42] *** Guest73 is now known as wikan
[18:07:04] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[18:07:56] <xx> # PS1="foo"; PS1+=" bar"; PS1+=" baz"; PS1+="qux"; echo "$PS1"
[18:08:03] <shbot> xx: foo bar bazqux
[18:08:03] <shbot> xx: foo bar bazqux
[18:08:14] <xx> hmm, why did it output twice?
[18:08:24] <xx> anyway, anything wrong with building my PS1 like that?
[18:08:36] <xx> instead of having one massively long string that's hard to read
[18:17:31] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[18:18:35] *** Joins: avalon (avalon@coredump.net)
[18:19:05] *** Quits: wikan (~Guest73@2a02:a31d:8541:e100:213:2ff:fed3:8291) (Quit: Client closed)
[18:30:39] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:4465:42da:6a61:c596)
[18:30:39] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:4465:42da:6a61:c596) (Changing host)
[18:30:39] *** Joins: skapata (~Skapata@user/skapata)
[18:46:16] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Remote host closed the connection)
[18:52:26] *** Joins: seninha (~seninha@user/seninha)
[18:57:06] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Read error: Connection reset by peer)
[18:57:18] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[18:58:39] *** Quits: msmhbd^ (~msmhbd@wsip-68-227-92-38.mc.at.cox.net) (Remote host closed the connection)
[18:58:39] *** Joins: docmax (~docmax@dynamic-077-010-110-181.77.10.pool.telefonica.de)
[18:59:42] <docmax> ddcutil -d 1 setvcp 0x60 0x11 2>&1 | espeak-ng   ..this speaks the error message... how can i add something to the pipe?
[19:00:19] *** Quits: jan6 (jan6@tilde.team/user/jan6) (Quit: WeeChat 3.2)
[19:00:37] *** Joins: jan6 (jan6@tilde.team/user/jan6)
[19:02:20] *** Joins: han-solo (~han-solo@user/han-solo)
[19:04:08] *** Joins: richardm75_ (~richardm7@2600:8801:c50a:9f00:60e2:d7af:92cc:d0d0)
[19:04:17] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[19:08:41] *** Quits: DrNostril (~DrNostril@host-80-181-167-115.retail.telecomitalia.it) (Quit: Smell ya later~~)
[19:10:02] *** Quits: jinsun (~quassel@user/jinsun) (Ping timeout: 244 seconds)
[19:10:04] *** Joins: jinsun__ (~quassel@user/jinsun)
[19:17:05] *** Quits: bluehoney (bluehoney@gateway/vpn/protonvpn/bluehoney) (Ping timeout: 260 seconds)
[19:19:22] *** jinsun__ is now known as jinsun
[19:21:02] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[19:21:09] *** Joins: bluehoney (~bluehoney@cpe-75-81-204-188.mi.res.rr.com)
[19:21:24] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[19:21:47] *** Quits: bluehoney (~bluehoney@cpe-75-81-204-188.mi.res.rr.com) (Remote host closed the connection)
[19:23:02] *** Joins: cdown_ (~cdown@89.32.122.5)
[19:25:38] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 260 seconds)
[19:25:40] *** cdown_ is now known as cdown
[19:28:45] <apathor> docmax: { ddcutil ...; printf "%s\n" "some more words"; } | espeak-ng
[19:29:08] *** Joins: rgrinberg (~textual@201.182.226.118)
[19:31:16] *** Quits: wolfgang (~wolfgang@101.174.167.116) (Remote host closed the connection)
[19:33:16] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[19:34:43] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[19:35:20] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[19:43:17] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[19:44:21] *** Joins: Atque (~Atque@user/atque)
[19:45:51] *** Joins: ChmEarl (~chmearl@user/chmearl)
[19:46:37] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[19:47:01] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[19:50:18] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:5f5:9b58:962f:5742) (Read error: Connection reset by peer)
[19:51:59] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[19:53:26] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 244 seconds)
[19:55:08] *** Joins: seninha (~seninha@user/seninha)
[19:56:10] *** Quits: yac (~user@user/yac) (Ping timeout: 260 seconds)
[19:56:47] *** Quits: Echoz (~chris@user/echoz) (Quit: WeeChat 3.0.1)
[20:02:07] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Quit: Leaving)
[20:02:24] *** Joins: voices- (uid524402@id-524402.lymington.irccloud.com)
[20:04:14] *** Joins: ferdna (~ferdna@user/ferdna)
[20:04:27] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[20:06:20] *** Joins: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar)
[20:07:12] *** Joins: dsrt^ (~dsrt@wsip-68-227-92-38.mc.at.cox.net)
[20:08:22] *** Joins: elkalamar__ (elkalamar@gateway/vpn/airvpn/elkalamar)
[20:08:53] *** Quits: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 258 seconds)
[20:09:23] *** Quits: Church (~aleph@pool-98-116-232-112.nycmny.fios.verizon.net) (Ping timeout: 264 seconds)
[20:11:29] *** Quits: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 265 seconds)
[20:11:50] *** Joins: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar)
[20:13:44] *** Joins: voices-_ (~voices_@84.238.197.28)
[20:14:47] *** Quits: elkalamar__ (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 264 seconds)
[20:17:55] *** voices-_ is now known as voices
[20:18:21] *** Quits: pa_ (~smuxi@86-95-132-61.fixed.kpn.net) (Read error: Connection reset by peer)
[20:19:16] <hejux> i have some files in a dir, "a.json b.txt c.sh d.md ... ", i'd like to put their extensions (json txt sh md ...) into an array, how do i do it the best way?
[20:19:58] *** Joins: wikan (~wikan@2a02:a31d:8541:e100:213:2ff:fed3:8291)
[20:21:12] *** Joins: pa_ (~smuxi@86-95-132-61.fixed.kpn.net)
[20:21:16] <han-solo> # names=(a.json b.txt c.sh d.md); exts=${x[@]##*.}; declare -p exts
[20:21:18] <shbot> han-solo: declare -- exts=""
[20:21:24] <han-solo> # names=(a.json b.txt c.sh d.md); exts=${names[@]##*.}; declare -p exts
[20:21:26] <shbot> han-solo: declare -- exts="json txt sh md"
[20:21:37] <han-solo> gah
[20:21:40] <emanuele6> doesn't look like an array to me
[20:21:46] *** Quits: kurahaupo (~kurahaupo@pa49-181-167-244.pa.nsw.optusnet.com.au) (Ping timeout: 245 seconds)
[20:21:50] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[20:22:12] <emanuele6> but even if you use exts=( "${names[@]##*.}" ) to create an arraay
[20:22:17] <han-solo> yeah
[20:22:18] <emanuele6> it won't deal with duplicates
[20:22:35] <hejux> # files=(a.json b.txt c.sh d.md) ; files_ext=${files[@]##*.} ; echo ${files_ext[@]}
[20:22:37] <shbot> hejux: json txt sh md
[20:22:40] <hejux> wow
[20:22:42] <hejux> thanks
[20:22:49] *** Joins: gordonfish- (~gordonfis@user/gordonfish)
[20:22:53] <han-solo> no no, use the array
[20:23:02] <han-solo> also, note about the duplicate
[20:23:05] <emanuele6> not just that
[20:23:09] <emanuele6> remove the duplicates
[20:23:11] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[20:23:14] <emanuele6> use an associative array
[20:24:45] <emanuele6> # touch a.c a.out b.cc b.out; files=( *.* ); declare -A files_exts; for ext in "${files[@]##*.}"; do files_exts[$ext]=; done; declare -p file_exts
[20:24:47] <shbot> emanuele6: bash: declare: file_exts: not found
[20:24:54] *** Quits: gordonfish (~gordonfis@user/gordonfish) (Ping timeout: 260 seconds)
[20:24:57] <emanuele6> # touch a.c a.out b.cc b.out; files=( *.* ); declare -A files_exts; for ext in "${files[@]##*.}"; do files_exts[$ext]=; done; declare -p files_exts
[20:24:59] <shbot> emanuele6: declare -A files_exts=([c]="" [cc]="" [out]="" )
[20:25:38] <emanuele6> and then either iterate by key: `for ext in "${!files_exts[@]}"' or cover it to an array: exts=( "${!files_exts[@]}" )
[20:26:08] <emanuele6> !nullglob > and remember to use nullglob
[20:26:08] <greybot> and remember to use nullglob: Causes unmatched globs to expand to nothing rather than themselves. shopt -s nullglob; files=(*); echo "There are ${#files[@]} files." - see: http://mywiki.wooledge.org/glob#nullglob
[20:26:24] *** Joins: hyskaru (~hyskaru@user/hyskaru)
[20:26:37] <hejux> that is kind complicate
[20:26:47] <hejux> in my case, there won't be duplications
[20:27:09] <emanuele6> you still need to not use a string and nullglob
[20:27:17] <emanuele6> even if you don't have duplicates..
[20:27:44] <hejux> # files=(a.json b.txt c.sh d.md) ; files_ext=${files[@]##*.} ; echo ${files_ext[@]}
[20:27:46] <shbot> hejux: json txt sh md
[20:27:50] <hejux> is that a sting? or array
[20:27:57] <emanuele6> a string.
[20:28:00] *** Joins: pikapika_lunar (~pikapika_@pika.powered.by.lunarbnc.net)
[20:28:18] <hejux> # files=(a.json b.txt c.sh d.md) ; declare -p files_ext ;  files_ext=${files[@]##*.} ; echo ${files_ext[@]}
[20:28:20] <shbot> hejux: bash: declare: files_ext: not found
[20:28:20] <shbot> hejux: json txt sh md
[20:28:27] <emanuele6> # files=(a.json b.txt c.sh d.md) ; files_ext=( "${files[@]##*.}" ); declare -p files_ext
[20:28:29] <shbot> emanuele6: declare -a files_ext=([0]="json" [1]="txt" [2]="sh" [3]="md")
[20:28:30] <emanuele6> array
[20:28:36] <emanuele6> # files=(a.json b.txt c.sh d.md) ; files_ext=${files[@]##*.}; declare -p files_ext
[20:28:38] <shbot> emanuele6: declare -- files_ext="json txt sh md"
[20:28:40] <emanuele6> string
[20:28:46] *** Quits: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com) (Remote host closed the connection)
[20:29:32] <hejux> thanks a lot!
[20:29:48] *** przemoc86 is now known as przemoc
[20:29:50] <han-solo> but use the associative array, you won't have to worry later if there be duplicates
[20:29:57] *** Quits: przemoc (~przemoc@89-72-24-4.dynamic.chello.pl) (Changing host)
[20:29:57] *** Joins: przemoc (~przemoc@user/przemoc)
[20:30:21] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Ping timeout: 258 seconds)
[20:30:44] *** Joins: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com)
[20:30:59] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 264 seconds)
[20:31:23] *** Joins: elkalamar__ (elkalamar@gateway/vpn/airvpn/elkalamar)
[20:32:11] *** gordonfish- is now known as gordonfish
[20:33:59] *** Quits: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 264 seconds)
[20:34:31] *** Joins: Church (~aleph@pool-98-116-232-112.nycmny.fios.verizon.net)
[20:35:12] *** Quits: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com) (Remote host closed the connection)
[20:36:07] *** Joins: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net)
[20:39:16] *** Quits: medard (~mithrin@stip-static-62.213-81-207.telecom.sk) (Ping timeout: 245 seconds)
[20:39:50] *** Joins: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar)
[20:41:05] *** Joins: medard (~mithrin@stip-static-62.213-81-207.telecom.sk)
[20:42:05] *** Quits: gnoo (gnoo@user/gnoo) (Ping timeout: 264 seconds)
[20:42:30] *** Quits: elkalamar__ (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 244 seconds)
[20:44:10] *** Joins: gnoo (~gnoo@user/gnoo)
[20:47:26] *** Quits: pa_ (~smuxi@86-95-132-61.fixed.kpn.net) (Read error: Connection reset by peer)
[20:50:38] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Read error: Connection reset by peer)
[20:51:13] *** Joins: pa_ (~smuxi@86-95-132-61.fixed.kpn.net)
[20:57:38] *** Quits: rgrinberg (~textual@201.182.226.118) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:57:39] *** Quits: pa_ (~smuxi@86-95-132-61.fixed.kpn.net) (Read error: Connection reset by peer)
[20:57:49] *** Joins: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com)
[21:00:01] *** Quits: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com) (Read error: No route to host)
[21:00:38] *** Joins: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com)
[21:01:13] *** Joins: pa_ (~smuxi@86-95-132-61.fixed.kpn.net)
[21:05:45] *** Joins: wolfgang (~wolfgang@101.174.167.116)
[21:07:57] *** Joins: YaoNai (~YaoNai@user/yaonai)
[21:08:52] *** Joins: bird_ (gnoo@user/gnoo)
[21:12:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[21:14:23] *** Joins: elkalamar__ (elkalamar@gateway/vpn/airvpn/elkalamar)
[21:16:18] *** Quits: pa_ (~smuxi@86-95-132-61.fixed.kpn.net) (Read error: Connection reset by peer)
[21:16:49] *** Quits: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 252 seconds)
[21:17:08] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 244 seconds)
[21:17:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[21:19:15] *** Joins: pa_ (~smuxi@86-95-132-61.fixed.kpn.net)
[21:22:18] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 244 seconds)
[21:22:54] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[21:25:31] *** Quits: Night-Shade (~Tim@ip5b403d56.dynamic.kabel-deutschland.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:30:07] *** Joins: horribleprogram (~user@2607:fea8:7040:830:c8e3:c56b:f48c:87dd)
[21:30:33] *** Quits: horribleprogram (~user@2607:fea8:7040:830:c8e3:c56b:f48c:87dd) (Changing host)
[21:30:33] *** Joins: horribleprogram (~user@user/horribleprogram)
[21:32:23] *** Joins: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar)
[21:34:08] *** Quits: Bhavuk_ (~BTaneja@103.132.28.60) (Quit: Leaving)
[21:35:11] *** Quits: elkalamar__ (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 264 seconds)
[21:37:17] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 244 seconds)
[21:37:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[21:38:07] *** Joins: Echoz (~chris@user/echoz)
[21:38:56] *** Joins: qswz (~caub@89-80-20-125.abo.bbox.fr)
[21:43:26] *** Quits: simoneb (~simone@static.39.20.203.116.clients.your-server.de) (Changing host)
[21:43:26] *** Joins: simoneb (~simone@user/simoneb)
[21:45:09] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[21:45:41] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[21:47:04] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[21:47:16] *** Quits: voices (~voices_@84.238.197.28) (Remote host closed the connection)
[21:47:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[21:51:52] *** Quits: thiras (~thiras@user/thiras) (Quit: Leaving)
[21:52:11] *** Quits: GNUHacker (~gnu@fsf/member/GNUHacker) (Quit: quit)
[21:53:47] *** Quits: mei (~mei@user/mei) (Read error: Connection reset by peer)
[21:53:53] *** Quits: gnoo (~gnoo@user/gnoo) (Quit: gnoo)
[21:57:23] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[21:57:53] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[22:01:51] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[22:02:07] *** Parts: qswz (~caub@89-80-20-125.abo.bbox.fr) ()
[22:05:15] *** Joins: voices (~voices_@84.238.197.28)
[22:05:40] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[22:07:00] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 265 seconds)
[22:09:07] *** Quits: voices (~voices_@84.238.197.28) (Remote host closed the connection)
[22:10:59] *** Joins: voices (~voices_@84.238.197.28)
[22:12:34] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[22:12:48] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Ping timeout: 265 seconds)
[22:14:05] *** Joins: humky (~humky@user/humky)
[22:14:10] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[22:15:50] *** Quits: Sayona (~Sayona@user/sayona) (Quit: Bye :))
[22:17:01] *** Joins: Sayona (~Sayona@user/sayona)
[22:17:22] *** Quits: millido (~millido@84.210.150.128) (Ping timeout: 260 seconds)
[22:17:53] *** Quits: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar) (Read error: Connection reset by peer)
[22:18:32] *** Quits: han-solo (~han-solo@user/han-solo) (Quit: Lost terminal)
[22:25:06] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 245 seconds)
[22:25:36] *** Joins: mei (~mei@user/mei)
[22:25:44] *** Joins: cdown_ (~cdown@89.32.122.5)
[22:31:32] *** Joins: voices_ (~voices_@84.238.197.28)
[22:31:49] *** Quits: voices (~voices_@84.238.197.28) (Read error: Connection reset by peer)
[22:34:03] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[22:35:15] *** Quits: horribleprogram (~user@user/horribleprogram) (Remote host closed the connection)
[22:35:16] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[22:35:31] *** Joins: sdu (~doo@185.44.146.114)
[22:36:15] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[22:37:39] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[22:38:07] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Client Quit)
[22:39:29] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[22:41:25] *** Joins: FIlystyn (~piotr@user/filystyn)
[22:42:50] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[22:43:02] <FIlystyn> Sooo I was wondering
[22:43:08] <FIlystyn> going back to yesterday
[22:43:29] <FIlystyn> if i can not read a file with awk that separates *lines* with nul
[22:43:36] <FIlystyn> than which tool should I use
[22:43:44] <FIlystyn> sh answers
[22:43:52] <FIlystyn> don't bahs me
[22:43:55] <FIlystyn> bash*
[22:50:20] <NRK[m]> `sed -z` ?
[22:50:26] <emanuele6> |IFS= while read -rd '' record
[22:50:36] *** Joins: rendar (~rendar@user/rendar)
[22:50:43] <NRK[m]> i don't think that's POSIX though, if you care about that
[22:51:19] <FIlystyn> i don't have sed -z
[22:51:26] <emanuele6> d# printf '%s\0' aaaa bbbb cccc | IFS= while read -rd '' record; do printf '%s\n' "$record"; done
[22:51:28] <shbot> emanuele6: dash: 1: Syntax error: "do" unexpected
[22:51:34] <emanuele6> d# printf '%s\0' aaaa bbbb cccc | while IFS= read -rd '' record; do printf '%s\n' "$record"; done
[22:51:35] <shbot> emanuele6: dash: 1: read: Illegal option -d
[22:51:39] *** Joins: ztx (~ztx@user/ztx)
[22:51:39] <emanuele6> oh
[22:51:42] <emanuele6> right
[22:51:59] <xx> y'all are going to jail
[22:52:09] <xx> so many illegal options...
[22:53:41] <NRK[m]> you can maybe substitute all null with '\n' and continue as usual
[22:53:48] <NRK[m]> depending on what you're doing
[22:54:20] <NRK[m]> otherwise you can write it in (POSIX) C :)
[22:55:05] <FIlystyn> aa nono my friend
[22:55:22] <FIlystyn> yesterday someone said what if we have newline in filename
[22:55:38] <FIlystyn> now we did find . -print0 > problemfile
[22:55:48] <NRK[m]> print0 isn't posix btw
[22:55:56] <FIlystyn> and we are in deep shit. we don't know hwo to read this file
[22:55:59] *** Quits: kold (~quassel@S0106b0e4d5642fb6.cg.shawcable.net) (Quit: kold)
[22:56:06] <FIlystyn> yeah but I have it on my sys
[22:56:14] <FIlystyn> so it's legit
[22:56:36] *** Joins: kold (~quassel@s0106b0e4d5642fb6.cg.shawcable.net)
[22:56:44] <emanuele6> you can use `-exec printf '%s\0' {} +' to emulate -print0 in posix
[22:56:47] <NRK[m]> what's stopping you from getting gnu sed
[22:56:48] <FIlystyn> I can read program in C that will save me but I want shell to do it for me in one line
[22:57:47] <emanuele6> !oneline
[22:57:48] <greybot> There isn't a world shortage of bash commands, and having newlines in your script does not make it slower
[22:58:00] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[22:58:09] <NRK[m]> emanuele6: yes, but -z and friends aren't common in POSIX
[22:58:26] <emanuele6> yes
[22:58:30] <NRK[m]> so if you're trying to stay posix complaint you won't be able to process that shit further
[22:58:54] <FIlystyn> write not read
[22:59:04] <FIlystyn> how could I swap those two..
[22:59:06] <NRK[m]> pretty annoying tbh. but -z / -print0 feels like a hack
[22:59:19] <NRK[m]> i think proper solution is to restrict '\n' in file names
[22:59:24] <emanuele6> you can still use: find . -exec sh -c 'stuff' - {} \;
[22:59:35] <emanuele6> or with +
[22:59:44] <FIlystyn> that's good solution emanuel
[22:59:46] <NRK[m]> unix/posix way too liberal with what valid filenames are
[23:00:42] <xx> i/quit
[23:00:45] *** Quits: xx (~xx@user/xx) (Quit: xx)
[23:02:20] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[23:05:13] *** Joins: xx (~xx@user/xx)
[23:05:14] *** Quits: zostj (~rue@1-162-40-226.dynamic-ip.hinet.net) (Quit: WeeChat 3.3)
[23:05:47] *** Quits: dza (~dza@user/dza) (Ping timeout: 264 seconds)
[23:06:19] *** Joins: rendar (~rendar@user/rendar)
[23:06:31] *** Quits: hyskaru (~hyskaru@user/hyskaru) (Quit: hyskaru)
[23:09:53] *** Quits: bfortified (~bfortifie@user/bfortified) (Quit: ZNC 1.8.2 - https://znc.in)
[23:12:17] *** Joins: bfortified (~bfortifie@user/bfortified)
[23:13:12] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[23:14:01] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[23:15:15] *** Quits: eruditass (uid248673@uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[23:15:26] *** Joins: rendar (~rendar@user/rendar)
[23:16:21] *** Joins: rgrinberg (~textual@ip11-246-50-179.ct.co.cr)
[23:19:41] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[23:19:47] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[23:20:06] *** Joins: kyr (~kyr@167.71.50.12)
[23:22:11] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 245 seconds)
[23:22:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[23:23:52] *** Quits: mei (~mei@user/mei) (Ping timeout: 252 seconds)
[23:24:45] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:595a:f6da:32d3:4e89)
[23:26:25] *** Quits: yitz (~yitz@exercism/yitz) (Quit:  )
[23:27:12] *** Joins: yitz (~yitz@exercism/yitz)
[23:30:09] <hyrcanus> life is better with no spaces
[23:30:47] <emanuele6> hyrcanus: you just used five spaces
[23:32:00] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[23:32:31] <sixwheeledbeast> without spaces you don't appreciate the content
[23:32:48] <hyrcanus> early greek was written without spaces and punctuation
[23:34:03] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 244 seconds)
[23:35:24] <sixwheeledbeast> they had a break after moving them big tablets about...
[23:35:44] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[23:37:12] <emanuele6> if you hate spaces so much: exec > >(unbuffer -p tr -d '[:blank:]')
[23:37:40] *** Quits: N0ZYC (~N0ZYC@173-16-166-245.client.mchsi.com) (Remote host closed the connection)
[23:38:13] <hyrcanus> i learned unbuffer. it's great to invoke mpv with filters on output, while preserving input to mpv
[23:39:20] <hyrcanus> maybe unbuffer would help me make that sparkline cpu monitor while using shell normally
[23:39:56] *** Joins: N0ZYC (~N0ZYC@173-16-166-245.client.mchsi.com)
[23:50:13] *** Quits: humky (~humky@user/humky) (Quit: Leaving)
[23:51:50] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 260 seconds)
[23:52:24] *** Joins: Crescendo (~Crescendo@user/crescendo)
[23:52:30] <FIlystyn> yeah if there was no spcae
[23:52:39] <FIlystyn> we would all be connected
[23:52:48] <FIlystyn> one organism, one mind
[23:53:04] *** Joins: sandb0y (~pirate@user/sandb0y)
[23:53:35] *** Quits: wikan (~wikan@2a02:a31d:8541:e100:213:2ff:fed3:8291) (Quit: Client closed)
[23:53:54] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 258 seconds)
[23:56:53] *** Quits: FIlystyn (~piotr@user/filystyn) (Quit: Lost terminal)
[23:57:16] <sixwheeledbeast> I'd have a headache
[23:58:50] *** Quits: [R] (~rs@genoce.org) (Ping timeout: 244 seconds)
