[00:08:31] *** Quits: shiranaihito_ (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[00:10:16] *** Joins: joe_colben (~joe____co@185.190.112.211)
[00:42:04] *** Quits: struchu (~struchu@staticline-31-183-166-217.toya.net.pl) (Quit: WeeChat 3.3)
[00:52:41] *** Joins: molson_ (~molson@2001-48F8-704A-123D-0-0-75F-102F-static.midco.net)
[00:55:32] *** Quits: molson (~molson@2001-48F8-704A-123D-0-0-75F-102C-static.midco.net) (Ping timeout: 240 seconds)
[01:00:37] *** Quits: cmiles74 (~miles@068-184-030-013.res.spectrum.com) (Ping timeout: 240 seconds)
[01:21:18] *** Joins: cmiles74 (~miles@068-184-030-013.res.spectrum.com)
[01:59:04] <sobel> <3
[01:59:34] <sobel> of course it has to implement all the spinners including ones i've never seen before, and unicode versions that couldn't exist in mybbs days
[01:59:41] <sobel> v nice
[02:00:05] <sobel> +++ATH0
[02:09:38] <TimMc> At some point I wrote a script that would adjust my username on a chat site every few seconds to run a phases-of-moon spinner at the end of my username.
[02:10:03] <TimMc> It was a pretty neat effect.
[02:26:27] <sobel> at some point i wrote a telix script to find all the modems in my prefix
[02:37:18] *** Quits: schmudde (~schmudde@2001:b07:ae6:7d19:a070:11e3:f2e:cb6b) (Ping timeout: 260 seconds)
[02:38:40] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[02:38:40] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
[02:38:54] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[02:59:54] *** Quits: seschwar (~seschwar@user/seschwar) (Quit: :wq)
[03:04:07] <selfsymmetric-mu> Charm has some delightful progress indicators: https://github.com/charmbracelet/bubbles
[03:06:39] *** Joins: Tolstoy (~textual@97-120-40-166.ptld.qwest.net)
[03:07:53] *** Joins: atw (~user@ool-18bf5678.dyn.optonline.net)
[03:09:37] *** Quits: uncleyear (~ian@pppoe.178-66-158-61.dynamic.avangarddsl.ru) (Ping timeout: 240 seconds)
[03:12:15] *** Quits: atw (~user@ool-18bf5678.dyn.optonline.net) (Remote host closed the connection)
[03:12:44] *** Quits: cmiles74 (~miles@068-184-030-013.res.spectrum.com) (Ping timeout: 256 seconds)
[03:13:02] *** Joins: atw (~user@ool-18bf5678.dyn.optonline.net)
[03:31:59] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
[03:32:30] *** Quits: joe_colben (~joe____co@185.190.112.211) (Remote host closed the connection)
[03:32:42] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[03:32:54] *** Joins: joe_colben (~joe____co@185.190.112.211)
[03:37:02] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Ping timeout: 260 seconds)
[03:37:40] *** Quits: selfsymmetric-mu (~matt@c-73-10-148-139.hsd1.nj.comcast.net) (Remote host closed the connection)
[03:38:19] *** Quits: atw (~user@ool-18bf5678.dyn.optonline.net) (Remote host closed the connection)
[03:39:05] *** Joins: atw (~user@ool-18bf5678.dyn.optonline.net)
[03:44:55] *** Quits: wyrd (~wyrd@gateway/tor-sasl/wyrd) (Remote host closed the connection)
[03:47:54] *** Joins: mwnaylor (~user@2601:5ce:4300:5560::68b3)
[03:51:33] *** Joins: wyrd (~wyrd@gateway/tor-sasl/wyrd)
[04:20:34] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[04:35:01] *** Quits: joe_colben (~joe____co@185.190.112.211) (Remote host closed the connection)
[04:41:43] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
[04:57:28] <sobel> those are really nice
[05:26:15] *** Quits: xsperry (~xs@user/xsperry) (Remote host closed the connection)
[05:36:23] *** Quits: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de) (Ping timeout: 250 seconds)
[05:50:57] *** Joins: cmiles74 (~miles@068-184-030-013.res.spectrum.com)
[05:57:34] *** Joins: xsperry (~xs@user/xsperry)
[06:26:44] *** Quits: oscurochu (~oscurochu@2603:9000:c202:1034:bdc2:5ae0:346e:f66f) (Ping timeout: 252 seconds)
[06:29:34] *** Joins: oscurochu (~oscurochu@2603:9000:c202:1034:bdc2:5ae0:346e:f66f)
[06:34:37] *** Quits: mwnaylor (~user@2601:5ce:4300:5560::68b3) (Ping timeout: 240 seconds)
[06:36:57] *** Quits: cmiles74 (~miles@068-184-030-013.res.spectrum.com) (Ping timeout: 240 seconds)
[06:40:28] *** Joins: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de)
[06:42:09] *** Joins: Jing (~hedgehog@240e:390:7c53:a7e1:2d90:ff3:b02f:c2ef)
[07:00:53] *** Quits: rovanion (~rovanion@h-46-59-13-236.A163.priv.bahnhof.se) (Read error: Connection reset by peer)
[07:01:19] *** Joins: rovanion (~rovanion@h-46-59-13-236.A163.priv.bahnhof.se)
[07:04:40] *** Joins: EsoAlgo (~EsoAlgo@152.70.142.52)
[07:51:01] *** Quits: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de) (Ping timeout: 268 seconds)
[07:52:22] *** Joins: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de)
[08:08:17] *** Quits: oscurochu (~oscurochu@2603:9000:c202:1034:bdc2:5ae0:346e:f66f) (Ping timeout: 240 seconds)
[08:10:54] *** Quits: v3ga (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com) (Ping timeout: 250 seconds)
[08:12:56] *** Joins: oscurochu (~oscurochu@2603:9000:c202:1034:bdc2:5ae0:346e:f66f)
[08:13:01] *** Joins: v3ga (~v3ga@cpe-98-25-21-91.sc.res.rr.com)
[08:20:47] *** Joins: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw)
[08:21:57] *** Quits: oscurochu (~oscurochu@2603:9000:c202:1034:bdc2:5ae0:346e:f66f) (Ping timeout: 240 seconds)
[08:23:45] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[08:24:57] *** Joins: mbuf (~Shakthi@122.173.235.64)
[08:36:31] *** Joins: oscurochu (~oscurochu@2603:9000:c202:1034:3d68:e938:5362:5275)
[08:37:26] *** Quits: v3ga (~v3ga@cpe-98-25-21-91.sc.res.rr.com) (Ping timeout: 256 seconds)
[08:54:29] *** Joins: puchka (~marius@165.73.242.85)
[08:59:40] *** Joins: v3ga (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com)
[09:10:18] *** Quits: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de) (Ping timeout: 256 seconds)
[09:11:17] *** Quits: oscurochu (~oscurochu@2603:9000:c202:1034:3d68:e938:5362:5275) (Ping timeout: 240 seconds)
[09:13:25] *** Joins: libertyprime (~libertypr@118-92-72-229.dsl.dyn.ihug.co.nz)
[09:16:45] *** Joins: oscurochu (~oscurochu@2603:9000:c202:1034:bdc2:5ae0:346e:f66f)
[09:28:18] *** Joins: lunik10 (~lunik1@37.205.14.203)
[09:28:44] *** Joins: EsoAlgo3 (~EsoAlgo@152.70.142.52)
[09:29:10] *** Joins: form_fee- (~form_feed@nixon.einval.eu)
[09:29:25] *** Joins: ajb_ (~ajb@cupid.whatbox.ca)
[09:30:55] *** Quits: son0p (~ff@2800:484:1d81:b700::5) (Ping timeout: 268 seconds)
[09:31:49] *** Joins: puchka1101 (~marius@165.73.242.85)
[09:31:50] *** Joins: libertyp1ime (~libertypr@118-92-72-229.dsl.dyn.ihug.co.nz)
[09:32:38] *** Joins: some02 (~cat@h-98-128-128-173.A351.priv.bahnhof.se)
[09:37:08] *** Quits: libertyprime (~libertypr@118-92-72-229.dsl.dyn.ihug.co.nz) (*.net *.split)
[09:37:08] *** Quits: puchka (~marius@165.73.242.85) (*.net *.split)
[09:37:08] *** Quits: EsoAlgo (~EsoAlgo@152.70.142.52) (*.net *.split)
[09:37:09] *** Quits: mzan (~quassel@mail.asterisell.com) (*.net *.split)
[09:37:09] *** Quits: wht (~wht@havoc.proulx.com) (*.net *.split)
[09:37:09] *** Quits: amk (~amk@109.255.169.126) (*.net *.split)
[09:37:09] *** Quits: lunik1 (~lunik1@37.205.14.203) (*.net *.split)
[09:37:09] *** Quits: nivag (~gavin@103-76-144-176.ip.cis.gen.nz) (*.net *.split)
[09:37:09] *** Quits: dustinm (~dustinm@static.38.6.217.95.clients.your-server.de) (*.net *.split)
[09:37:09] *** Quits: fluxit (~fluxit@techsmix.net) (*.net *.split)
[09:37:09] *** Quits: sagax (~sagax_nb@user/sagax) (*.net *.split)
[09:37:09] *** Quits: AdmiralBumbleBee (~AdmiralBu@47.203.174.105) (*.net *.split)
[09:37:09] *** Quits: sudden (~cat@user/sudden) (*.net *.split)
[09:37:09] *** Quits: Para (~Para@95.216.176.167) (*.net *.split)
[09:37:09] *** Quits: ajb (~ajb@cupid.whatbox.ca) (*.net *.split)
[09:37:10] *** Quits: TMA (~tma@twin.jikos.cz) (*.net *.split)
[09:37:10] *** Quits: form_feed (~form_feed@nixon.einval.eu) (*.net *.split)
[09:37:10] *** Quits: fredmanglis_ (~fredmangl@li1420-95.members.linode.com) (*.net *.split)
[09:37:10] *** Quits: materialfuture (~materialf@149.248.8.187) (*.net *.split)
[09:37:10] *** Quits: lobotomy (~lobotomy@static.213.19.216.95.clients.your-server.de) (*.net *.split)
[09:37:10] *** Quits: emacsomancer (~emacsoman@136.60.128.68) (*.net *.split)
[09:37:10] *** Quits: kawpuh (~kawpuh@66.42.81.80) (*.net *.split)
[09:37:10] *** Quits: flynn (~mcbloch@user/flynn) (*.net *.split)
[09:37:11] *** lunik10 is now known as lunik1
[09:38:37] *** EsoAlgo3 is now known as EsoAlgo
[09:42:51] *** Joins: amk (~amk@109.255.169.126)
[09:42:51] *** Joins: mzan (~quassel@mail.asterisell.com)
[09:42:51] *** Joins: wht (~wht@havoc.proulx.com)
[09:42:51] *** Joins: dustinm (~dustinm@static.38.6.217.95.clients.your-server.de)
[09:42:51] *** Joins: fluxit (~fluxit@techsmix.net)
[09:42:51] *** Joins: Para (~Para@95.216.176.167)
[09:42:51] *** Joins: TMA (~tma@twin.jikos.cz)
[09:42:51] *** Joins: fredmanglis_ (~fredmangl@li1420-95.members.linode.com)
[09:42:51] *** Joins: materialfuture (~materialf@149.248.8.187)
[09:42:51] *** Joins: lobotomy (~lobotomy@static.213.19.216.95.clients.your-server.de)
[09:42:51] *** Joins: emacsomancer (~emacsoman@136.60.128.68)
[09:42:51] *** Joins: kawpuh (~kawpuh@66.42.81.80)
[09:42:51] *** Joins: flynn (~mcbloch@user/flynn)
[09:43:10] *** Joins: nivag (~gavin@103-76-144-176.ip.cis.gen.nz)
[09:45:08] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
[09:45:52] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[09:46:53] *** Quits: sailorCat (~sailorCat@mail2.gajsin.name) (Quit: ZNC 1.8.2 - https://znc.in)
[09:47:07] *** Joins: sailorCat (~sailorCat@mail2.gajsin.name)
[09:50:22] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Ping timeout: 260 seconds)
[10:03:50] *** Joins: uncleyear (~ian@pppoe.178-66-158-61.dynamic.avangarddsl.ru)
[10:21:05] *** Joins: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de)
[10:25:21] *** Quits: oscurochu (~oscurochu@2603:9000:c202:1034:bdc2:5ae0:346e:f66f) (Remote host closed the connection)
[10:26:17] *** Quits: v3ga (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com) (Ping timeout: 240 seconds)
[10:27:39] *** Joins: v3ga (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com)
[10:31:02] *** Joins: struchu (~struchu@staticline-31-183-182-53.toya.net.pl)
[10:31:21] *** Quits: kristianpaul (~paul@user/kristianpaul) (Read error: Connection reset by peer)
[10:35:43] *** Quits: struchu (~struchu@staticline-31-183-182-53.toya.net.pl) (Client Quit)
[10:36:01] *** Joins: kristianpaul (~paul@user/kristianpaul)
[10:36:37] *** Joins: struchu (~struchu@staticline-31-183-182-53.toya.net.pl)
[10:40:17] *** Quits: v3ga (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com) (Ping timeout: 252 seconds)
[10:41:03] *** Joins: v3ga (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com)
[10:43:11] *** Quits: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[10:55:30] *** Joins: dadinn (~dadinn@cpc87065-finc18-2-0-cust67.4-2.cable.virginm.net)
[11:08:12] *** Joins: shiranaihito (~textual@219.85.168.174)
[11:11:57] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 240 seconds)
[11:18:50] *** Quits: EsoAlgo (~EsoAlgo@152.70.142.52) (Ping timeout: 268 seconds)
[11:36:49] *** Joins: piotrts (~piotrts@188.146.241.205.nat.umts.dynamic.t-mobile.pl)
[11:48:25] *** Quits: shiranaihito (~textual@219.85.168.174) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[11:50:47] *** Quits: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de) (Ping timeout: 250 seconds)
[11:51:44] *** Joins: Major_Biscuit (~MajorBisc@c-001-005-022.client.tudelft.eduvpn.nl)
[11:51:56] *** Quits: libertyp1ime (~libertypr@118-92-72-229.dsl.dyn.ihug.co.nz) (Quit: leaving)
[11:52:38] *** Joins: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de)
[11:58:17] *** Quits: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de) (Ping timeout: 240 seconds)
[11:59:37] *** Joins: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de)
[12:04:37] *** Joins: shiranaihito (~textual@219.85.181.174)
[12:05:56] *** Joins: jespada (~jespada@87.74.36.188)
[12:23:06] *** Quits: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de) (Ping timeout: 250 seconds)
[12:29:47] *** Joins: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de)
[12:34:40] *** Joins: libertyprime (~libertypr@118-92-72-229.dsl.dyn.ihug.co.nz)
[12:36:02] *** Quits: piotrts (~piotrts@188.146.241.205.nat.umts.dynamic.t-mobile.pl) (Ping timeout: 260 seconds)
[12:37:56] <andreyorst> is there any way to asynchronously write clojure data structure to the disk? Or asynchronously convert it to a string, so I could then work with it as a manifold byte stream
[12:41:37] *** Quits: euandreh (~euandreh@2804:14c:33:9fe5:aa5f:93ea:3b88:5ff5) (Ping timeout: 240 seconds)
[12:43:50] *** Joins: euandreh (~euandreh@2804:14c:33:9fe5:e75a:d7d8:5f2b:42f0)
[12:43:55] *** Quits: AlaskanEmily (~AlaskanEm@user/alaskanemily) (Remote host closed the connection)
[12:51:27] <rovanion> andreyorst: For disk IO one of the wrappers of Java NIO would do I guess.
[12:52:02] *** Quits: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de) (Ping timeout: 240 seconds)
[12:52:21] <andreyorst> yeah, but I guess I'll have to write a wrapper around tostring to make it async, right? I mean I have to serialize the edn first
[12:52:35] <andreyorst> *to the edn
[13:03:48] <andreyorst> looking at pr function from clojure.core, it seems that it writes to a stream, so I could probably make it work
[13:08:10] *** Quits: euandreh (~euandreh@2804:14c:33:9fe5:e75a:d7d8:5f2b:42f0) (Ping timeout: 250 seconds)
[13:10:08] *** Joins: euandreh (~euandreh@2804:14c:33:9fe5:8e08:7908:8918:48c0)
[13:25:12] *** Joins: locrian9 (~mike@211.sub-174-193-208.myvzw.com)
[13:27:29] *** Quits: Jing (~hedgehog@240e:390:7c53:a7e1:2d90:ff3:b02f:c2ef) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:32:02] *** Joins: Jing (~hedgehog@240e:390:7c53:a7e1:f9c4:ec41:3bfb:d5c6)
[13:39:01] *** Joins: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de)
[13:56:52] *** Quits: shiranaihito (~textual@219.85.181.174) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[14:17:38] *** Quits: puchka1101 (~marius@165.73.242.85) (Quit: leaving)
[14:36:05] *** Quits: locrian9 (~mike@211.sub-174-193-208.myvzw.com) (Quit: Lost terminal)
[14:36:07] *** Joins: schmudde (~schmudde@2001:b07:ae6:7d19:2a2f:9d9:3eb5:8dab)
[14:48:57] *** Quits: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de) (Ping timeout: 240 seconds)
[14:51:30] *** Joins: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de)
[14:55:03] *** Joins: son0p (~ff@2800:484:1d81:b700:d40b:900:b387:320)
[15:08:05] *** Quits: some02 (~cat@h-98-128-128-173.A351.priv.bahnhof.se) (Changing host)
[15:08:05] *** Joins: some02 (~cat@user/sudden)
[15:08:10] *** some02 is now known as sudden
[15:28:41] *** Quits: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de) (Ping timeout: 245 seconds)
[15:35:00] *** Joins: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de)
[15:53:20] *** Joins: joe_colben (~joe____co@185.190.112.211)
[16:04:16] *** Joins: xulfer (uid452788@id-452788.ilkley.irccloud.com)
[16:14:44] *** Quits: libertyprime (~libertypr@118-92-72-229.dsl.dyn.ihug.co.nz) (Ping timeout: 256 seconds)
[16:21:52] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 250 seconds)
[16:23:30] *** Joins: Trieste (T@user/pilgrim)
[16:28:17] *** Quits: ToxicFrog (~ToxicFrog@198-200-100-178.cpe.distributel.net) (Ping timeout: 240 seconds)
[16:54:19] *** Joins: DasBrain (~DasBrain@user/dasbrain)
[16:57:24] *** Quits: DasBrain_ (~DasBrain@user/dasbrain) (Ping timeout: 250 seconds)
[17:01:01] *** Quits: joe_colben (~joe____co@185.190.112.211) (Remote host closed the connection)
[17:03:23] *** Joins: shiranaihito (~textual@2001-b011-4000-3d09-a9ec-18b2-358b-b51e.dynamic-ip6.hinet.net)
[17:05:46] *** Quits: schmudde (~schmudde@2001:b07:ae6:7d19:2a2f:9d9:3eb5:8dab) (Ping timeout: 260 seconds)
[17:06:52] *** Joins: mwnaylor (~user@2601:5ce:4300:5560::68b3)
[17:11:53] *** Joins: ToxicFrog (~ToxicFrog@198-200-100-178.cpe.distributel.net)
[17:12:46] *** Joins: cmiles74 (~miles@068-184-030-013.res.spectrum.com)
[17:19:57] *** Quits: atw (~user@ool-18bf5678.dyn.optonline.net) (Ping timeout: 240 seconds)
[17:21:33] <aphyr> Maybe this is silly, but would something like (future (with-open [w (io/writer some-file)] (binding [*out* w] (pr some-value)))) fit the bill?
[17:23:02] <aphyr> (here's where we do something similar in Jepsen: https://github.com/jepsen-io/jepsen/blob/7f5d45477a4642eadc17b520bd91b92edeb43020/jepsen/src/jepsen/store.clj#L359-L373)
[17:24:57] *** Quits: cmiles74 (~miles@068-184-030-013.res.spectrum.com) (Ping timeout: 240 seconds)
[17:35:33] *** Joins: shiranaihito_ (~textual@123-192-192-149.dynamic.kbronet.com.tw)
[17:37:43] *** Quits: dim (~dimlibera@2a02:2178:2:4:1658:d0ff:fe49:408c) (Remote host closed the connection)
[17:38:37] *** Quits: shiranaihito (~textual@2001-b011-4000-3d09-a9ec-18b2-358b-b51e.dynamic-ip6.hinet.net) (Ping timeout: 240 seconds)
[17:48:23] *** Quits: struchu (~struchu@staticline-31-183-182-53.toya.net.pl) (Quit: WeeChat 3.3)
[17:58:27] *** Joins: struchu (~struchu@staticline-31-183-182-53.toya.net.pl)
[18:10:09] *** Quits: uncleyear (~ian@pppoe.178-66-158-61.dynamic.avangarddsl.ru) (Remote host closed the connection)
[18:18:16] *** Joins: schmudde (~schmudde@93-35-146-159.ip55.fastwebnet.it)
[18:19:15] *** Quits: xsperry (~xs@user/xsperry) ()
[18:19:48] *** Joins: cmiles74 (~miles@068-184-030-013.res.spectrum.com)
[18:28:45] *** Joins: seschwar (~seschwar@user/seschwar)
[18:40:53] *** Joins: eddof13 (~textual@2806:102e:12:2504:2969:cbe7:ff7f:56e8)
[18:48:18] *** Quits: eddof13 (~textual@2806:102e:12:2504:2969:cbe7:ff7f:56e8) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:49:30] *** Joins: eddof13 (~textual@2806:102e:12:2504:2969:cbe7:ff7f:56e8)
[18:52:53] *** Joins: xsperry (~xs@user/xsperry)
[18:54:02] *** Joins: uncleyear (~ian@pppoe.178-66-158-61.dynamic.avangarddsl.ru)
[18:56:55] *** Quits: eddof13 (~textual@2806:102e:12:2504:2969:cbe7:ff7f:56e8) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:01:02] *** Joins: eddof13 (~textual@2806:102e:12:2504:2969:cbe7:ff7f:56e8)
[19:03:57] *** Quits: xulfer (uid452788@id-452788.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[19:05:07] *** Quits: eddof13 (~textual@2806:102e:12:2504:2969:cbe7:ff7f:56e8) (Client Quit)
[19:09:24] *** Quits: struchu (~struchu@staticline-31-183-182-53.toya.net.pl) (Quit: WeeChat 3.3)
[19:09:34] *** Joins: zmt00 (~zmt00@user/zmt00)
[19:09:44] *** Quits: zmt00 (~zmt00@user/zmt00) (Remote host closed the connection)
[19:10:47] *** Quits: mbuf (~Shakthi@122.173.235.64) (Quit: Leaving)
[19:13:26] *** Quits: son0p (~ff@2800:484:1d81:b700:d40b:900:b387:320) (Remote host closed the connection)
[19:14:28] *** Quits: henry40408 (~henry4040@175.181.155.165) (Quit: Ping timeout (120 seconds))
[19:25:23] <lockdown_> aphyr: do you have any write-up on datomic? specifically the data model, trying to find out why Hickey dislike tables so much ;)
[19:27:17] *** Joins: dim (~dimlibera@2a02:2178:2:4:1658:d0ff:fe49:408c)
[19:27:28] <lockdown_> He mentions the structural rigidity of tables pervades your application making it difficult to change over time and makes it sound really scary, don't have enough experience to tell if he is wearing his salesman hat or not
[19:33:35] *** Joins: zmt00 (~zmt00@user/zmt00)
[19:35:08] <aphyr> Nope
[19:39:46] *** Joins: henry40408 (~henry4040@175.181.155.165)
[19:40:30] <lockdown_> k
[19:43:14] <andreyorst> aphyr: unlikely, it's a server that serving huge amount of requests, and it needs to dump info from the requests to the disk, and our middleware configuration transforms json to clojure data structures. So if I'll spawn a future on each request it'll quickly blow up
[19:43:58] <sobel> when i wear my app-dba hat, and i hear that talk about rigidity, i tend to think it's a developer who doesn't like that the business has a real dependency on millions of rows that don't automagically change just because the devs had a change in perspective
[19:44:35] <sobel> and/or mischaracterized the database as an external resource dependency in their design
[19:45:06] <sobel> which makes it sorta incongruous to hear that Hickey has made taken that angle. i'm curious.
[19:48:49] <lockdown_> I think is more about the business changing requirements than devs having a change in perspective
[19:48:56] <TimMc> andreyorst: I think people sometimes (mis)use agents for this.
[19:49:48] <sobel> so the business changes requirements but they still have a database?
[19:50:08] <ridcully_> the business ignores, that there are datbases
[19:50:26] <sobel> agreed, but they want their data just the same
[19:50:43] <andreyorst> TimMc: yeah, I've thought about agents, but it's not going to solve the problem at the large scale
[19:51:06] <sobel> who owns the database? it's sorta ill to me if it's not R&D. that shouldn't be an adversarial relationship.
[19:52:58] <ridcully_> andreyorst: do you want to "stream in" EDN files over an aleph tcp server?
[19:52:58] <sobel> i cut my teeth on databases in an adversarial arrangement. it was fun but bad for the development team.
[19:53:13] <ridcully_> or do you want to "stream write" a huge EDN structure?
[19:55:08] <andreyorst> ridcully_: I have a lot of not-so-small JSON's coming in to the aleph server, which we validate, and store on disk for further processing sometime later
[19:55:50] <ridcully_> store the json and decode when needed?
[19:56:05] <andreyorst> right now the problem is that when there are lot's of requests, we get rejected execution exception, and one of the places I suspect is that writing to the disk is pretty much a huge synchronous block of code in an async stack
[19:56:13] <ridcully_> or does the validate have to reject?
[19:56:16] <andreyorst> yes
[19:57:56] <andreyorst> I've thought about validating it, and discarding the data structure, writing JSON on disc
[20:00:27] <andreyorst> well, maybe we can drop validation altogether, I'll need to think about it
[20:00:54] <andreyorst> since it's unlikely if we regect, the sender will resend correct data
[20:08:21] <ridcully_> isn't this always to be doomed to be IO bound?  can you throttle the inbound side?  can you have a bigger queue for writing to keep up?
[20:10:11] <aphyr> andreyorst: yeah, I'm not sure what more you can do here, like... if a threadpoolexecutor (which is what's under the hood of an agent IIRC) can't keep up with volume, you're either going to have to apply backpressure or drop requests
[20:11:21] <aphyr> Though you do have some wiggle-room here. For instance, if you're CPU rather than IO bound, you can farm out the serialization to bytes to lots of threads, then send that over to a writer thread that puts byte arrays on disk.
[20:12:50] <aphyr> For instance, spawn a handful of futures (~1/core, or whatever makes sense for your app), whose job it is to take an x off a LinkedTransferQueue, and put `(pr-str x)` on an output queue. Another thread takes that output queue and writes its strings/bytes to disk.
[20:13:12] <ridcully_> also if you have a gut feeling, that's fine - more experienced developers have great gut feeling.  but if in doubt, at some metric points or a profiler to be sure
[20:13:14] <andreyorst> uh, our server's RPS right now is kinda low, so applying backpressure is going to drop it even further
[20:13:24] <ridcully_> optimizing upon guesswork is wasted time
[20:13:41] <ridcully_> s/at/add/
[20:13:46] <aphyr> I mean the only alternative to backpressure is load shedding, and you said that wasn't a good fit, so....
[20:14:22] <andreyorst> ridcully_: the thing is, threaddump thru jstack doesn't really show anything suspicious. Though, I need to give it a more careful read
[20:14:51] <aphyr> If you're IO bound, you can start asking about whether you need a total order of these messages, or if writing them to independent files is OK. If you're fine with multiple files, you can get a ~linear speedup (up until IO saturation) by having each thread print and write to separate files...
[20:15:23] <aphyr> And maybe you can riffle those files together afterwards, if necessary
[20:15:26] <andreyorst> we do write those to independent files
[20:16:03] <aphyr> Oh! So you're... already saturating either IO or cores?
[20:16:21] <aphyr> (When you asked about async I kinda assumed the problem was blocking, rather than throughput)
[20:16:22] <andreyorst> the thing is, IDK for sure
[20:16:34] <aphyr> What's `top` say?
[20:16:45] <ridcully_> also have a look at the OS level.  iostats and what not.  add some monitoring to your boxes maybe
[20:17:07] <andreyorst> I mean, we get RejectedExecutionException, when there's are tons of requests comping, and this usually means, that we got blocking code in async code
[20:17:39] <andreyorst> top says that the CPU is not overused by an app
[20:17:42] <aphyr> Well... that *could* be, but more directly it just means your queue's full
[20:17:46] <ridcully_> or your queue is just full, right?
[20:17:55] <ridcully_> as in things time out waiting
[20:18:44] <andreyorst> can you give any advice on diagnosing the full queue? I'm a bit new to this project, and aleph
[20:18:51] <aphyr> Assuming your queue is reasonably sized relative to the fluctuations in load, the next thing to look at is gonna be a.) making consumers faster, or b.) adding more consumers
[20:19:37] <ridcully_> which then again could be your writers twiddling thumbs waiting for io.  which should show up in OS - either the local io or network?
[20:20:33] <aphyr> It's been a long time and I forget how aleph works, but I'm guessing somewhere in there is some kind of ThreadpoolExecutor, and that thing should be able to give you queue stats if you ask
[20:21:13] <andreyorst> thanks
[20:21:23] <ridcully_> in my experience, if things die, and it's not visible in load, it's IO.  and it's neither IO, it's locks.
[20:21:32] <andreyorst> oh, I forgot to mention - when RejectedExecErr shows up we also have a lot of Too Many Open Files errors, and looking thru `lsof` output there are tons of unclosed sockets
[20:21:38] <aphyr> Another thing that might be helpful here is to hit the process with yourkit/jvisualvm and get a flame graph--if you see a ton of time spent in clojure.core/pr, that's gonna be suggestive :)
[20:22:28] <aphyr> If you really do wind up being CPU-bound, it might be feasible to replace it with some other serialization format
[20:22:58] <ridcully_> file handles can be configured... so you could try to ramp them up
[20:23:04] <ridcully_> but make sure you don't leak them
[20:23:35] <andreyorst> well, I mean, sure, but this hints that something is really suboptimal
[20:23:48] <andreyorst> and more files will just mean that we'll blow up, but later
[20:24:21] <andreyorst> will need to check the settings at monday
[20:24:27] <andreyorst> thanks for your advices
[20:25:49] *** Quits: jespada (~jespada@87.74.36.188) (Ping timeout: 240 seconds)
[20:25:57] <ridcully_> later could mean your successor or the sun going white dwarf ;P
[20:27:02] *** Joins: eddof13 (~textual@2806:102e:12:2504:2969:cbe7:ff7f:56e8)
[20:27:04] *** Joins: jespada (~jespada@87.74.36.188)
[20:36:45] <andreyorst> haha, I wish
[20:37:18] <andreyorst> checked the value of /proc/sys/fs/file-max, and it's only 6815744
[20:37:40] <andreyorst> my laptop has it set to 9223372036854775807 lmao
[20:38:33] *** Joins: puchka (~marius@165.73.242.52)
[20:41:14] <ridcully_> that is both alot.  you want to look at `ulimit -n` for the user you are running your server with
[21:01:38] *** Quits: eddof13 (~textual@2806:102e:12:2504:2969:cbe7:ff7f:56e8) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:06:49] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[21:11:11] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Ping timeout: 245 seconds)
[21:17:11] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[21:30:34] *** Joins: eddof13 (~textual@177.230.240.94)
[21:32:54] *** Joins: selfsymmetric-mu (~matt@c-73-10-148-139.hsd1.nj.comcast.net)
[21:33:26] *** Quits: Major_Biscuit (~MajorBisc@c-001-005-022.client.tudelft.eduvpn.nl) (Quit: WeeChat 3.3)
[21:34:17] *** Quits: Jing (~hedgehog@240e:390:7c53:a7e1:f9c4:ec41:3bfb:d5c6) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:39:56] *** Quits: schmudde (~schmudde@93-35-146-159.ip55.fastwebnet.it) (Ping timeout: 250 seconds)
[21:46:46] *** Joins: mmos[m] (~mmosmatri@2001:470:69fc:105::1:8340)
[21:53:18] *** Quits: kipz (~kipz@home.kipz.org) (Remote host closed the connection)
[21:56:09] *** Quits: eddof13 (~textual@177.230.240.94) (Ping timeout: 250 seconds)
[22:00:36] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
[22:01:01] *** Joins: schmudde (~schmudde@2001:b07:ae6:7d19:aa11:4548:725d:4e11)
[22:04:26] <golanv> 👍️
[22:14:07] *** Joins: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553)
[22:21:05] *** Quits: cmiles74 (~miles@068-184-030-013.res.spectrum.com) (Ping timeout: 250 seconds)
[22:23:28] *** Joins: pflanze_ (~pflanze@5-168-208-80.dyn.fiber.qlnet.ch)
[22:24:15] *** Joins: lazr_ (~lazr@45.76.248.123)
[22:25:14] *** Joins: dixie (~dixie@real.wilbury.sk)
[22:25:14] *** Quits: pflanze (~pflanze@5-168-208-80.dyn.fiber.qlnet.ch) (Read error: Connection reset by peer)
[22:25:14] *** Quits: lazr (~lazr@45.76.248.123) (Ping timeout: 256 seconds)
[22:25:14] *** Quits: dixie_ (~dixie@real.wilbury.sk) (Ping timeout: 256 seconds)
[22:25:14] *** Quits: cross (~cross@spitfire.i.gajendra.net) (Ping timeout: 256 seconds)
[22:25:14] *** Quits: aphyr (~kyle@aphyr.com) (Ping timeout: 256 seconds)
[22:25:17] *** Joins: aphyr_ (~kyle@aphyr.com)
[22:25:37] *** Joins: cross_ (~cross@spitfire.i.gajendra.net)
[22:25:41] *** Quits: Ekho (~Ekho@user/ekho) (Ping timeout: 256 seconds)
[22:25:41] *** Quits: snits (~quassel@ip98-179-76-75.ph.ph.cox.net) (Ping timeout: 256 seconds)
[22:25:56] *** Joins: snits (~quassel@ip98-179-76-75.ph.ph.cox.net)
[22:30:47] *** Quits: Inoperable (~PLAYER_1@fancydata.science) (Ping timeout: 256 seconds)
[22:30:54] *** Quits: Null_A (~null_a@2601:645:8700:2290:8935:4edf:b32:6553) (Remote host closed the connection)
[22:37:18] *** Joins: Inoperable (~PLAYER_1@fancydata.science)
[22:39:08] *** Joins: Ekho (~Ekho@user/ekho)
[22:45:49] *** Joins: cmiles74 (~miles@068-184-030-013.res.spectrum.com)
[22:54:14] *** Joins: joe_colben (~joe____co@185.190.112.211)
[23:00:09] *** Joins: blei (~blei@209.201.38.106)
[23:18:24] *** Joins: analogsalad (~analogsal@user/analogsalad)
[23:19:17] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[23:26:17] *** Quits: choas (~lars@ppp-188-174-89-52.dynamic.mnet-online.de) (Ping timeout: 240 seconds)
[23:28:46] <andreyorst> ridcully_: ulimit is 100000 on the server and 5 times bigger on my machine
[23:47:28] *** Joins: libertyprime (~libertypr@118-92-72-229.dsl.dyn.ihug.co.nz)
