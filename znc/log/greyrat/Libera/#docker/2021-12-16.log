[00:00:27] <lmat> rawtaz: Even when the health check succeeds, I still get no logging until ALL containers are up with successful healthchecks.
[00:02:11] <rawtaz> wow, thats odd..
[00:02:29] <rawtaz> can you reproduce this with a couple of whoami containers?
[00:02:38] <rawtaz> i mean that traefik/whoami image
[00:02:40] *** Joins: mz` (~mz`@user/mz/x-8532539)
[00:04:01] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 252 seconds)
[00:04:16] *** Joins: cornduck (~cornduck@gateway/tor-sasl/cornduck)
[00:05:48] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[00:05:56] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[00:05:58] *** Joins: beencubed (~beencubed@209.131.238.248)
[00:16:04] *** Quits: thiras (~thiras@user/thiras) (Read error: Connection reset by peer)
[00:16:10] *** Joins: thiras_ (~thiras@user/thiras)
[00:16:20] <bn_work> so is there really no way to bind in an artifact in the build process from the local host?  anyone?
[00:20:42] *** Joins: mz` (~mz`@user/mz/x-8532539)
[00:21:22] <ash_worksi> tabakhase, rawtaz thanks for the input. I appreciate it. 
[00:21:35] <ash_worksi> I was just thinking about be minimalist
[00:22:36] *** Joins: qwd (~qwd@185.203.114.234)
[00:22:54] <ash_worksi> I was in #php for counsel on what turned out to be a docker problem earlier and part of the take away was, "this wouldn't be a problem if you weren't using alpine"
[00:23:13] *** Parts: theseb (~theseb@47-220-214-54.cnrocmta03.res.dyn.suddenlink.net) (Leaving)
[00:23:13] <rawtaz> hmm
[00:23:26] <tabakhase> ash_worksi then "thin layers" are even sleeker than "few layers" - like a 4mb push/pull sounds much more "minimalisitc" than a 40mb one ;-)
[00:23:33] <ash_worksi> I know that alpine is inept in some glibc arenas; in this particular case, it wasn't _entirely_ alpine's fault
[00:23:37] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[00:23:45] <rawtaz> in what way?
[00:24:04] <tabakhase> and alpine has a few specials sure, but for php kinda none of that should rly mattert unless you are doing some alien stuff...
[00:24:13] *** Parts: randall (~randall@user/randall) ()
[00:24:19] <ash_worksi> well, as it turned out, my image broke because I didn't pin it to alpine < 3.14
[00:24:29] <rawtaz> but why? what did alpine do wrong?
[00:24:29] <ash_worksi> what happened was, pecl wasn't able to install anything
[00:24:37] <tabakhase> use https://github.com/mlocati/docker-php-extension-installer
[00:24:40] <tabakhase> nothing else ever.
[00:24:50] <tabakhase> if that fails we can talk ;-)
[00:25:19] <ash_worksi> tabakhase: it was for `pecl install amqp` which is not available to docker-php-ext-install
[00:25:26] <rawtaz> im guessing the problem was more about expectations on alpine not being in line with what alpine offers
[00:25:27] <ash_worksi> afaik anyway
[00:25:33] <ash_worksi> anyway
[00:25:53] <ash_worksi> as it turned out, the real problem was that some update in alpine didn't jive nicely with docker
[00:26:05] <ash_worksi> I upgraded docker and now pecl works on all versions of alpine
[00:26:56] <ash_worksi> but it was a pain in the neck, I didn't know it was a problem with docker... or alpine... I thought pecl was broken really
[00:27:41] <ash_worksi> but the advice was, "just start with a plain debian image and install what you need"
[00:28:08] <ash_worksi> the advice was also to stay away from the php official images
[00:28:19] <tabakhase> ash_worksi installed it without complaining https://i.imgur.com/m301jvp.png
[00:29:07] <rawtaz> you never complain though tabakhase :)
[00:29:24] <ash_worksi> 12232121234/
[00:29:25] <tabakhase> php -m -> https://i.imgur.com/h9yK7K1.png - so seems loaded and all too
[00:29:33] *** Joins: CombatVet (~c4@user/combatvet)
[00:29:36] <ash_worksi> oh, that is not what I thought it was
[00:29:46] <tabakhase> so only point you may have is that i used a php5 image, only one i had in local storage :D
[00:30:07] <ash_worksi> sourcery. 
[00:30:19] <ash_worksi> jk, that's neat
[00:31:07] <ash_worksi> sooo
[00:31:27] <ash_worksi> I think I might know the answer to this already, but, does this mean you prefer alpine images?
[00:31:46] <ash_worksi> generally speaking? (and I would further guess, if "Yes", then for minimalist reasons?)
[00:31:58] *** Joins: mz` (~mz`@user/mz/x-8532539)
[00:32:32] <ash_worksi> and lastly in that same train of thought, is there any cruft one could eliminate from the install process or does that script basically take care of that?
[00:32:39] <tabakhase> "advice was also to stay away from the php official images" - is a bit of a depends who you ask... cause YES, you cant simply reuse your apt-get install php-mysqli on there (or when you do, you break everything in very stupid ways), and the "manual get the sources" certainly is a bit of a wtf?! -- BUT thats what the tool i linked is for, taking care of all of this down to "install-php-extensions 
[00:32:39] <tabakhase> gd @composer mysqli" and donzo
[00:32:40] <rawtaz> i prefer debian based images, because then i have an actual useful environment when i want to dig around in them.
[00:32:56] <rawtaz> but for production i would not use that, but rather alpine or even scratch, for security reasons.
[00:33:31] <rawtaz> so even though alpine is a PITA to work with due to busybox sometimes, it's the closest to a proper production base we have, unless you for some reason want the additional stuff in debian ones
[00:33:59] <ash_worksi> tabakhase: I followed all of that except `gd...` hm?
[00:34:46] <tabakhase> ash_worksi just one of the common libs people want as example
[00:34:57] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[00:34:58] <ash_worksi> OH
[00:35:08] <ash_worksi> the command bled into the next line
[00:35:14] <ash_worksi> I thought it was a separate statement
[00:35:30] <ash_worksi> so, lastly, about cruft?
[00:35:51] <tabakhase> yepyep one post but irc max-characters forcebreak ;D
[00:36:07] <tabakhase> cruft takes care of all, see https://i.imgur.com/3sJRR8F.png
[00:42:39] *** Joins: mz` (~mz`@user/mz/x-8532539)
[00:45:53] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[00:46:45] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 256 seconds)
[00:49:12] <ash_worksi> tabakhase: so using that installer kind of makes multistage builds unnecessary for PHP?
[00:49:53] <tabakhase> none of that would rly need multistage anyhow - even "manually" youd just stick all of this into the same RUN step
[00:57:12] *** Joins: mz` (~mz`@user/mz/x-8532539)
[00:59:09] *** Joins: keypusher (keypusher@user/keypusher)
[01:00:28] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[01:05:10] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[01:07:04] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[01:14:36] *** Joins: BSaboia (~bsaboia@187.18.140.125)
[01:14:45] *** Joins: sudomann (~sudomann@131.118.76.71)
[01:16:34] *** Quits: BenjiProd (~BenjiProd@user/benjiprod) (Remote host closed the connection)
[01:18:37] *** Joins: mz` (~mz`@user/mz/x-8532539)
[01:21:40] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[01:29:28] *** Quits: ultima (~ultima@23.81.113.231) (Quit: ZNC 1.8.2 - https://znc.in)
[01:29:36] *** Joins: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com)
[01:30:10] *** Joins: ultima (~ultima@23.81.113.231)
[01:32:18] *** Quits: calm-steam (~calm-stea@2a02:810a:980:1400::4a8a) (Remote host closed the connection)
[01:32:47] *** Joins: calm-steam (~calm-stea@2a02:810a:980:1400::9282)
[01:33:01] *** Quits: amurru (~amurru@user/amurru) (Quit: Leaving)
[01:35:42] *** Quits: sudomann (~sudomann@131.118.76.71) (Quit: Lost terminal)
[01:36:34] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Read error: Connection reset by peer)
[01:36:46] *** Joins: mz` (~mz`@user/mz/x-8532539)
[01:37:09] *** Quits: ablutor_ (~quassel@145.131.24.183) (Ping timeout: 252 seconds)
[01:37:22] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[01:39:50] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[01:40:32] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[01:42:08] *** Joins: Hackerpcs (~user@user/hackerpcs)
[01:44:59] *** Joins: sudomann (~sudomann@131.118.76.71)
[01:47:35] *** Joins: ablutor_ (~quassel@145.131.24.183)
[01:49:53] *** Joins: gschanuel218 (~gschanuel@user/gschanuel)
[01:51:55] *** Quits: remote (~self@user/hackers) (Ping timeout: 256 seconds)
[01:53:17] *** Quits: gschanuel21 (~gschanuel@user/gschanuel) (Ping timeout: 252 seconds)
[01:53:17] *** gschanuel218 is now known as gschanuel21
[01:57:17] *** Joins: mz` (~mz`@user/mz/x-8532539)
[02:00:26] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[02:08:02] *** Quits: maret (~maret@196.245.151.78) (Quit: maret)
[02:09:03] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[02:11:05] *** Joins: mz` (~mz`@user/mz/x-8532539)
[02:14:17] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[02:22:36] <dob1> are veth interfaces related to docker?  it's docker that created them?
[02:26:17] *** Joins: mz` (~mz`@user/mz/x-8532539)
[02:29:28] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[02:34:00] *** Joins: wyre_ (~wyre@user/wyre)
[02:34:50] *** Quits: Djoobstil (~djoobstil@144.91.111.212) (Ping timeout: 260 seconds)
[02:35:17] *** Quits: wyre (~wyre@user/wyre) (Ping timeout: 265 seconds)
[02:39:53] *** Joins: mz` (~mz`@user/mz/x-8532539)
[02:41:52] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[02:43:11] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[02:43:45] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[02:46:32] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Read error: Connection reset by peer)
[02:47:41] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[02:48:46] *** Joins: gedulis120 (~gedulis12@46.251.49.174)
[02:49:51] *** Joins: DonRichie (~DonRichie@ricl.de)
[02:53:29] *** Joins: mz` (~mz`@user/mz/x-8532539)
[02:56:37] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[03:01:03] *** Quits: sudomann (~sudomann@131.118.76.71) (Ping timeout: 256 seconds)
[03:06:59] *** Quits: thiras_ (~thiras@user/thiras) (Ping timeout: 252 seconds)
[03:09:22] *** Quits: beencubed (~beencubed@209.131.238.248) (Quit: Leaving)
[03:11:18] *** Parts: gedulis120 (~gedulis12@46.251.49.174) ()
[03:13:32] *** Joins: gedulis120 (~gedulis12@46.251.49.174)
[03:14:39] *** Joins: mz` (~mz`@user/mz/x-8532539)
[03:17:51] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[03:27:13] *** Joins: remote (~self@user/hackers)
[03:30:03] *** Quits: gschanuel21 (~gschanuel@user/gschanuel) (*.net *.split)
[03:30:03] *** Quits: Hackerpcs (~user@user/hackerpcs) (*.net *.split)
[03:30:03] *** Quits: Forsaken87 (~quassel@2a02:908:1867:7d40:93ab:b917:6d2c:4af1) (*.net *.split)
[03:30:03] *** Quits: lehinsun (~ttytwiste@188.113.176.117) (*.net *.split)
[03:30:03] *** Quits: nvmd (~nvmd@user/nvmd) (*.net *.split)
[03:30:03] *** Quits: l4yer (~l4yer@195.181.170.210) (*.net *.split)
[03:30:03] *** Quits: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net) (*.net *.split)
[03:30:03] *** Quits: samuelbernardo (~samuelber@nata01.lip.pt) (*.net *.split)
[03:30:03] *** Quits: jmcgnh (~jmcgnh@wikipedia/jmcgnh) (*.net *.split)
[03:30:03] *** Quits: alicef (~none@gentoo/developer/alicef) (*.net *.split)
[03:30:03] *** Quits: travisghansen (~travisgha@192.74.130.86) (*.net *.split)
[03:30:03] *** Quits: bliminse (~bliminse@host86-186-4-210.range86-186.btcentralplus.com) (*.net *.split)
[03:30:03] *** Quits: luva (~luva@37.120.197.45) (*.net *.split)
[03:30:03] *** Quits: tkazi (~tkazi@user/tkazi) (*.net *.split)
[03:30:03] *** Quits: frittro (~frittro@user/frittro) (*.net *.split)
[03:30:03] *** Quits: XV8 (~XV8@2601:5cb:c001:50:29c4:77b3:3d1a:a58b) (*.net *.split)
[03:30:03] *** Quits: ryu` (~ryusaku@c09825BC1.dhcp.as2116.net) (*.net *.split)
[03:30:03] *** Quits: zitter (~danilodim@93-57-35-194.ip162.fastwebnet.it) (*.net *.split)
[03:30:03] *** Quits: cornfeedhobo (~cornfeedh@user/cornfeedhobo) (*.net *.split)
[03:30:03] *** Quits: nexgen (~nexgen@li614-178.members.linode.com) (*.net *.split)
[03:30:03] *** Quits: bencc1 (~bencc1@2a00:a040:197:3af:1a55:3bda:b5db:66c6) (*.net *.split)
[03:30:04] *** Quits: cluelessperson (~cluelessp@user/cluelessperson) (*.net *.split)
[03:30:04] *** Quits: itok (sid418430@id-418430.ilkley.irccloud.com) (*.net *.split)
[03:30:04] *** Quits: infernix (nix@2a02:22a0:bbb1:d500::2) (*.net *.split)
[03:30:04] *** Quits: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1) (*.net *.split)
[03:30:04] *** Quits: Hawker (~pi@user/hawker) (*.net *.split)
[03:30:04] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (*.net *.split)
[03:30:04] *** Quits: beenao (~beenao@user/beenao) (*.net *.split)
[03:30:04] *** Quits: martums (~martums@user/martums) (*.net *.split)
[03:30:04] *** Quits: Bebef (sbreit@phobos.bebef.de) (*.net *.split)
[03:30:04] *** Quits: akelly (24aca7a63b@2604:bf00:561:2000::152) (*.net *.split)
[03:30:04] *** Quits: thickrocks (e46ff6ac16@2604:bf00:561:2000::13d) (*.net *.split)
[03:30:04] *** Quits: nickspoon (8f6e16a287@user/nickspoon) (*.net *.split)
[03:30:04] *** Quits: hwrd (aa272caead@2604:bf00:561:2000::137) (*.net *.split)
[03:30:04] *** Quits: null23 (~null23@h-37-123-160-123.A251.priv.bahnhof.se) (*.net *.split)
[03:30:04] *** Quits: pizza (~pizzaiolo@user/pizzaiolo) (*.net *.split)
[03:30:04] *** Quits: fxrs (~fxrs@192.227.212.130) (*.net *.split)
[03:30:04] *** Quits: ueberall (ueberall_l@user/ueberall) (*.net *.split)
[03:30:04] *** Quits: effprime (~effprime@user/effprime) (*.net *.split)
[03:30:04] *** Quits: haise01 (~haise01@user/haise01) (*.net *.split)
[03:30:04] *** Quits: Riviera (Riviera@user/riviera) (*.net *.split)
[03:30:04] *** Quits: kraucrow (~polarizin@188.166.72.81) (*.net *.split)
[03:30:04] *** Quits: koolazer (~koo@user/koolazer) (*.net *.split)
[03:30:05] *** Quits: peac (sid344662@id-344662.hampstead.irccloud.com) (*.net *.split)
[03:30:05] *** Quits: aminvakil (~aminvakil@2a01:4f8:120:336b:4::1) (*.net *.split)
[03:30:05] *** Quits: FESTIVUS-MAXIMUS (~thelounge@user/mif) (*.net *.split)
[03:30:05] *** Quits: xMopx (~xMopx-lib@192.95.23.134) (*.net *.split)
[03:30:05] *** Quits: LiENUS (~quake@108-242-135-2.lightspeed.btrgla.sbcglobal.net) (*.net *.split)
[03:30:05] *** Quits: kyshoc (~kyshoc@user/kyshoc) (*.net *.split)
[03:30:05] *** Quits: vigumnov (~victori@cpe-76-174-179-126.socal.res.rr.com) (*.net *.split)
[03:30:05] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (*.net *.split)
[03:30:05] *** Quits: polymorphic (~polymorph@066-169-158-111.res.spectrum.com) (*.net *.split)
[03:30:05] *** Quits: haasn (~nand@haasn.dev) (*.net *.split)
[03:30:05] *** Quits: remote (~self@user/hackers) (*.net *.split)
[03:30:05] *** Quits: DonRichie (~DonRichie@ricl.de) (*.net *.split)
[03:30:05] *** Quits: brw (~bas@haring.bas.sh) (*.net *.split)
[03:30:05] *** Quits: ikke (~kevin@alpine/developer/ikke) (*.net *.split)
[03:30:05] *** Quits: gr1m (~gr1m@193.138.218.215) (*.net *.split)
[03:30:06] *** Quits: sn3w[m] (~sn3w@2001:470:69fc:105::1:2d0b) (*.net *.split)
[03:30:06] *** Quits: Tabmow (~tabmow@user/tabmow) (*.net *.split)
[03:30:06] *** Quits: selckin (~selckin@user/selckin) (*.net *.split)
[03:30:06] *** Quits: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net) (*.net *.split)
[03:30:06] *** Quits: Icedream (~icedream@144.76.223.175) (*.net *.split)
[03:30:06] *** Quits: Bossi (~quassel@p4fc22a7d.dip0.t-ipconnect.de) (*.net *.split)
[03:30:06] *** Quits: Bardon (~Bardon@user/Bardon) (*.net *.split)
[03:30:06] *** Quits: phenom (~primus@user/phenom) (*.net *.split)
[03:30:06] *** Quits: ada_ (uid242135@user/ada/x-9065485) (*.net *.split)
[03:30:06] *** Quits: blackwood821 (~blackwood@user/blackwood821) (*.net *.split)
[03:30:23] *** Joins: Riviera (Riviera@user/riviera)
[03:30:41] *** Joins: nickspoon (8f6e16a287@user/nickspoon)
[03:30:45] *** Joins: Forsaken87 (~quassel@2a02:908:1867:7d40:93ab:b917:6d2c:4af1)
[03:31:29] *** Joins: LiENUS (~quake@108-242-135-2.lightspeed.btrgla.sbcglobal.net)
[03:31:46] *** Joins: kyshoc (~kyshoc@user/kyshoc)
[03:32:29] *** Quits: gedulis120 (~gedulis12@46.251.49.174) (Quit: leaving)
[03:32:43] *** Joins: akelly (24aca7a63b@2604:bf00:561:2000::152)
[03:33:02] *** Joins: l4yer (~l4yer@195.181.170.210)
[03:33:28] *** Quits: moha (uid506645@id-506645.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[03:33:38] *** Joins: Bardon (~Bardon@user/Bardon)
[03:33:49] *** Joins: Tabmow (~tabmow@user/tabmow)
[03:33:53] *** Joins: alicef (~none@gentoo/developer/alicef)
[03:33:54] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[03:34:05] *** Joins: phenom (~primus@user/phenom)
[03:34:07] *** Joins: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net)
[03:34:07] *** Joins: selckin (~selckin@user/selckin)
[03:34:09] *** Joins: tkazi (~tkazi@user/tkazi)
[03:34:15] *** Joins: victori (~victori@cpe-76-174-179-126.socal.res.rr.com)
[03:34:25] *** Joins: fxrs (~fxrs@192.227.212.130)
[03:34:28] *** Joins: thickrocks (e46ff6ac16@2604:bf00:561:2000::13d)
[03:34:29] *** Joins: blackwood821 (~blackwood@user/blackwood821)
[03:34:31] *** Joins: haasn (~nand@haasn.dev)
[03:34:33] *** Joins: pizzaiolo (~pizzaiolo@user/pizzaiolo)
[03:34:35] *** Joins: gr1m (~gr1m@193.138.218.215)
[03:34:40] *** Joins: cluelessperson (~cluelessp@user/cluelessperson)
[03:34:42] *** Joins: haise01 (~haise01@user/haise01)
[03:34:47] *** Joins: polymorphic (~polymorph@066-169-158-111.res.spectrum.com)
[03:34:47] *** Joins: ueberall (ueberall_l@user/ueberall)
[03:34:54] *** Joins: xMopx (~xMopx-lib@192.95.23.134)
[03:35:01] *** Joins: effprime (~effprime@user/effprime)
[03:35:19] *** Joins: bliminse (~bliminse@host86-186-4-210.range86-186.btcentralplus.com)
[03:35:21] *** Joins: Hawker (~pi@user/hawker)
[03:35:27] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[03:35:30] *** Quits: jamiejackson (~jamiejack@207.172.87.34) (Remote host closed the connection)
[03:35:30] *** Joins: Bossi (~quassel@p4fc22a7d.dip0.t-ipconnect.de)
[03:35:32] *** Joins: kraucrow (~polarizin@188.166.72.81)
[03:35:35] *** Joins: koolazer (~koo@user/koolazer)
[03:35:36] *** Joins: mz` (~mz`@user/mz/x-8532539)
[03:35:38] *** Joins: DonRichie (~DonRichie@ricl.de)
[03:35:44] *** Joins: samuelbernardo (~samuelber@nata01.lip.pt)
[03:36:05] *** Joins: XV8 (~XV8@2601:5cb:c001:50:7110:14fe:9923:a896)
[03:36:21] *** Joins: cornfeedhobo (~cornfeedh@user/cornfeedhobo)
[03:36:36] *** Joins: ryu` (~ryusaku@c09825BC1.dhcp.as2116.net)
[03:37:32] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 240 seconds)
[03:38:27] *** Joins: jmcgnh (~jmcgnh@wikipedia/jmcgnh)
[03:38:33] *** Joins: sn3w[m] (~sn3w@2001:470:69fc:105::1:2d0b)
[03:38:48] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[03:48:30] *** Joins: ajfriesen70 (~ajfriesen@cable-78-35-98-50.nc.de)
[03:49:02] *** Joins: bencc1 (~bencc1@2a00:a040:197:3af:c95d:1641:e0ec:f82c)
[03:49:08] <bencc1> anyone using cadvisor?
[03:49:27] <bencc1> I'm getting an error when trying to create a container:
[03:49:30] <bencc1> Error pulling image gcr.io/cadvisor/cadvisor:latest
[03:49:55] *** Quits: ajfriesen7 (~ajfriesen@cable-78-35-98-50.nc.de) (Ping timeout: 250 seconds)
[03:49:56] *** ajfriesen70 is now known as ajfriesen7
[03:50:37] <rawtaz> is that all? surely it says something more?
[03:50:49] *** Joins: gedulis120 (~gedulis12@46.251.49.174)
[03:51:37] <bencc1> Your client does not have permission to get URL <code>/v2/cadvisor/cadvisor/manifests/v0.43.0</code> from this server
[03:52:26] <bencc1> is there a different monitoring solution similar to cadvisor?
[03:55:01] *** Quits: bolt (~r00t@user/bolt) (Ping timeout: 240 seconds)
[03:55:27] *** Quits: ryu` (~ryusaku@c09825BC1.dhcp.as2116.net) (Ping timeout: 256 seconds)
[04:00:34] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[04:00:42] <bencc1> now it works
[04:01:41] <rawtaz> :)
[04:03:42] *** Joins: infernix (~nix@155.137.21.90)
[04:04:54] *** Quits: junktext_ (~junktext@gateway/vpn/pia/junktext) (Ping timeout: 260 seconds)
[04:05:04] *** Joins: mz` (~mz`@user/mz/x-8532539)
[04:08:13] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[04:08:49] *** Joins: bolt (~r00t@user/bolt)
[04:09:34] *** Quits: tex (~super@user/dix) (Ping timeout: 260 seconds)
[04:14:45] *** Quits: gedulis120 (~gedulis12@46.251.49.174) (Quit: Lost terminal)
[04:16:24] *** Joins: mz` (~mz`@user/mz/x-8532539)
[04:17:21] *** Joins: FESTIVUS-MAXIMUS (~thelounge@user/mif)
[04:19:36] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[04:27:13] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Read error: Connection reset by peer)
[04:28:07] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[04:30:06] *** Joins: brw (~bas@haring.bas.sh)
[04:32:20] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Client Quit)
[04:33:21] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[04:38:13] *** Joins: mz` (~mz`@user/mz/x-8532539)
[04:40:45] *** pizzaiolo is now known as pizza
[04:41:35] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[04:52:00] *** Joins: mz` (~mz`@user/mz/x-8532539)
[04:55:11] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[05:01:29] *** Quits: BSaboia (~bsaboia@187.18.140.125) (Quit: This computer has gone to sleep)
[05:04:17] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Read error: Connection reset by peer)
[05:04:23] *** Joins: withere__ (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[05:05:16] *** Joins: mz` (~mz`@user/mz/x-8532539)
[05:08:21] *** Joins: martums (~martums@user/martums)
[05:08:30] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[05:18:52] *** Quits: XV8 (~XV8@2601:5cb:c001:50:7110:14fe:9923:a896) (Quit: Textual IRC Client: www.textualapp.com)
[05:22:15] *** Joins: jazzy (~jaziz@user/jaziz)
[05:25:08] *** Joins: beencubed (~beencubed@209.131.238.248)
[05:26:19] *** Joins: mz` (~mz`@user/mz/x-8532539)
[05:27:45] *** Quits: beencubed (~beencubed@209.131.238.248) (Client Quit)
[05:28:00] *** Joins: jazzy2 (~jaziz@user/jaziz)
[05:29:25] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[05:31:17] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[05:31:22] *** Joins: beencubed (~beencubed@209.131.238.248)
[05:33:55] *** Quits: withere__ (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Read error: Connection reset by peer)
[05:36:23] *** Quits: jazzy2 (~jaziz@user/jaziz) (Read error: Connection reset by peer)
[05:36:48] *** Joins: jazzy2 (~jaziz@user/jaziz)
[05:36:59] *** Joins: mz` (~mz`@user/mz/x-8532539)
[05:37:03] *** Joins: c10l (~c10l@user/c10l)
[05:40:14] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[05:40:21] *** Quits: jazzy2 (~jaziz@user/jaziz) (Read error: Connection reset by peer)
[05:40:45] *** Joins: jazzy2 (~jaziz@user/jaziz)
[05:40:51] *** Joins: Ryu945 (Ryu945@gateway/vpn/protonvpn/ryu945)
[05:44:18] *** Joins: junktext_ (~junktext@gateway/vpn/pia/junktext)
[05:45:23] *** Quits: tsal (~tsal@user/tsal) (Ping timeout: 256 seconds)
[05:45:48] *** Joins: jazzy3 (~jaziz@user/jaziz)
[05:49:17] *** Quits: jazzy2 (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[05:51:36] *** Joins: tsal (~tsal@user/tsal)
[05:51:41] *** Quits: rardiol (~quassel@user/rardiol) (Ping timeout: 250 seconds)
[05:52:33] *** Joins: z8z (~x@ac255238.ppp.asahi-net.or.jp)
[05:54:27] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 256 seconds)
[05:54:50] *** Joins: keypusher (keypusher@user/keypusher)
[05:56:52] *** Joins: mz` (~mz`@user/mz/x-8532539)
[06:00:19] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[06:08:57] *** Joins: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:411a:3335:bcbd:ef7b)
[06:10:40] *** Joins: mz` (~mz`@user/mz/x-8532539)
[06:12:49] *** Quits: Ryu945 (Ryu945@gateway/vpn/protonvpn/ryu945) (Quit: Leaving)
[06:13:45] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[06:14:32] *** Quits: Enitin (~Enitin@82.102.22.84) (Ping timeout: 240 seconds)
[06:15:18] *** Joins: Enitin (~Enitin@82.102.22.85)
[06:17:07] *** Quits: z8z (~x@ac255238.ppp.asahi-net.or.jp) (Quit: Quitting)
[06:28:32] *** Joins: thiras_ (~thiras@user/thiras)
[06:30:06] *** Quits: junktext_ (~junktext@gateway/vpn/pia/junktext) (Ping timeout: 268 seconds)
[06:33:55] *** Joins: mz` (~mz`@user/mz/x-8532539)
[06:37:14] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[06:39:33] *** Joins: luva (~luva@37.120.197.45)
[06:40:32] *** Joins: Jimmy_H (~Jimmy_H@119.136.154.158)
[06:44:56] *** Joins: mz` (~mz`@user/mz/x-8532539)
[06:48:06] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[06:57:04] *** Quits: nickjj (~nickjj@user/nickjj) (Read error: Connection reset by peer)
[07:07:17] *** Quits: Enitin (~Enitin@82.102.22.85) (Ping timeout: 240 seconds)
[07:07:32] *** Joins: mz` (~mz`@user/mz/x-8532539)
[07:10:14] *** Joins: Enitin (~Enitin@82.102.22.86)
[07:10:51] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[07:12:44] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[07:13:16] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[07:14:25] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[07:20:36] *** Quits: Jimmy_H (~Jimmy_H@119.136.154.158) (Read error: Connection reset by peer)
[07:23:38] *** Joins: mz` (~mz`@user/mz/x-8532539)
[07:26:50] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[07:29:22] *** Quits: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[07:34:25] *** Joins: mz` (~mz`@user/mz/x-8532539)
[07:37:30] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[07:44:29] *** Quits: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:411a:3335:bcbd:ef7b) (Quit: So as you can see from this flowchSQUIRREL!!)
[07:45:12] *** Quits: kold_ (~quassel@S0106b0e4d5642fb6.cg.shawcable.net) (Quit: kold_)
[07:47:17] *** Joins: z8z (~x@ac255238.ppp.asahi-net.or.jp)
[07:57:22] *** Joins: mz` (~mz`@user/mz/x-8532539)
[08:00:12] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[08:09:59] *** Joins: mz` (~mz`@user/mz/x-8532539)
[08:12:58] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[08:19:53] *** Joins: jarthur (~jarthur@cpe-70-114-198-37.austin.res.rr.com)
[08:21:13] *** Joins: mz` (~mz`@user/mz/x-8532539)
[08:24:22] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[08:25:21] *** Joins: maryo87 (~Maryo@user/maryo)
[08:34:35] *** Joins: CRCinAU (~CRCinAU@user/crcinau)
[08:35:07] <CRCinAU> Hi all - so I've got a fun one...... I'm doing CUDA processing in a docker container, and my image processing times seem double when I start the container via docker-compose
[08:35:35] <CRCinAU> I can run it with: docker run --rm --gpus all --name deepstack --network homeassistant -e VISION-DETECTION=True -e VISION-FACE=True -v /root/python3.7/lib/python3.7/site-packages/torch:/usr/local/lib/python3.7/dist-packages/torch -v localstorage:/datastore -p 5000:5000 deepquestai/deepstack:gpu
[08:35:43] <CRCinAU> then I get ~220ms to process an image
[08:36:02] <CRCinAU> if I use `runtime: nvidia` in the docker-compose, then its ~410ms to process an image...
[08:36:11] <CRCinAU> what am I missing?
[08:36:27] *** Joins: mz` (~mz`@user/mz/x-8532539)
[08:36:57] <CRCinAU> launched via `docker run`:
[08:36:58] <CRCinAU> [GIN] 2021/12/16 - 05:02:28 | 200 |  233.879612ms |      172.16.0.2 | POST     "/v1/vision/detection"
[08:37:08] <CRCinAU> launched via `docker-compose up`:
[08:37:15] <CRCinAU> [GIN] 2021/12/16 - 05:04:22 | 200 |  410.916365ms |      172.16.0.2 | POST     "/v1/vision/detection"
[08:39:46] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[08:47:14] *** Joins: mz` (~mz`@user/mz/x-8532539)
[08:50:23] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[08:54:34] *** Joins: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[08:56:32] *** Quits: tkazi (~tkazi@user/tkazi) (Quit: Disconnected)
[08:57:22] *** Joins: tkazi (~tkazi@user/tkazi)
[08:57:30] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 260 seconds)
[08:57:53] *** Joins: sehrope_ (~sehrope@23-24-81-162-static.hfc.comcastbusiness.net)
[08:58:26] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 252 seconds)
[08:58:45] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[09:00:11] *** Quits: sehrope (~sehrope@23-24-81-162-static.hfc.comcastbusiness.net) (Ping timeout: 250 seconds)
[09:00:11] *** Quits: kenwoodfox (~quassel@user/kenwoodfox) (Ping timeout: 250 seconds)
[09:00:43] *** Joins: maret (~maret@196.245.151.78)
[09:00:46] *** Joins: kenwoodfox (~quassel@user/kenwoodfox)
[09:00:46] *** Quits: jmcgnh (~jmcgnh@wikipedia/jmcgnh) (Ping timeout: 260 seconds)
[09:01:35] *** Quits: CombatVet (~c4@user/combatvet) (Remote host closed the connection)
[09:01:53] *** Joins: CombatVet (~c4@user/combatvet)
[09:03:08] *** Parts: CRCinAU (~CRCinAU@user/crcinau) ()
[09:03:54] *** Joins: jmcgnh (~jmcgnh@wikipedia/jmcgnh)
[09:08:49] *** Joins: mz` (~mz`@user/mz/x-8532539)
[09:12:06] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[09:14:17] *** Quits: tarek58 (~tarek58@user/tarek58) ()
[09:23:31] *** Joins: mz` (~mz`@user/mz/x-8532539)
[09:26:54] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[09:42:21] *** Joins: mz` (~mz`@user/mz/x-8532539)
[09:45:31] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[09:50:19] *** Quits: andycooper (uid246432@id-246432.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[09:57:38] *** Joins: mz` (~mz`@user/mz/x-8532539)
[10:00:59] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[10:02:08] *** wyre_ is now known as wyre
[10:06:57] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[10:12:38] *** Quits: OPK (~OPK@user/opk) (Quit: Textual IRC Client: www.textualapp.com)
[10:12:43] *** Quits: Enitin (~Enitin@82.102.22.86) (Ping timeout: 268 seconds)
[10:13:02] *** Joins: Enitin (~Enitin@82.102.22.85)
[10:14:22] *** Quits: Keridos_ (~Keridos@ironhide.de) (Quit: ZNC - http://znc.in)
[10:15:47] *** Joins: Keridos (~Keridos@ironhide.de)
[10:16:57] *** Quits: Enitin (~Enitin@82.102.22.85) (Ping timeout: 240 seconds)
[10:20:00] *** Joins: ztx (~ztx@user/ztx)
[10:20:22] *** Joins: mz` (~mz`@user/mz/x-8532539)
[10:21:11] *** Joins: frittro (~frittro@user/frittro)
[10:21:16] *** Joins: Enitin (~Enitin@82.102.22.85)
[10:22:06] *** Joins: Bebef (sbreit@phobos.bebef.de)
[10:23:35] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[10:24:52] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[10:31:01] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[10:34:19] *** Joins: mz` (~mz`@user/mz/x-8532539)
[10:37:17] *** Quits: thiras_ (~thiras@user/thiras) (Ping timeout: 240 seconds)
[10:37:27] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[10:40:37] *** Quits: Enitin (~Enitin@82.102.22.85) (Ping timeout: 256 seconds)
[10:43:17] *** Joins: sudomann (~sudomann@98.219.211.182)
[10:43:21] *** Joins: Enitin (~Enitin@82.102.22.84)
[10:43:49] <sudomann> # curl -sSL https://install.python-poetry.org | POETRY_HOME=/etc/poetry python3 - --version 1.1.12
[10:43:52] <sudomann> bash: curl: command not found
[10:43:57] <sudomann> This command fails normally in the shell
[10:44:28] <sudomann> But executes veyr quickly and fails silently while my dockerfile builds:
[10:44:29] <sudomann>  => [stage-1 3/3] RUN curl -sSL https://install.python-poetry.org | POETRY_HOME=/etc/poetry python3 - --version 1.1.12          1.3s
[10:44:57] <sudomann> Is this standard behavior or do I have a weird bug on my hands
[10:46:01] *** Joins: ExeciN (~ExeciN@user/nicexe)
[10:51:14] *** Joins: mz` (~mz`@user/mz/x-8532539)
[10:54:31] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[10:55:46] <geirha> sudomann: it's part of a pipeline, and the exit status of a pipeline is the exit status of the last (rightmost) command of that pipeline
[10:56:27] <geirha> piping curl to python --version makes no sense though, so you probably want && instead of | there
[10:57:25] <geirha> ah wait, missed the lone - argument in there, so it's like  curl | bash, just with python insteadÂ ...
[10:57:47] <sudomann> well, the size of the script is trivial, but the goal there is just run the script thats downloaded. The --version flag is passed to the script not python
[10:57:49] <geirha> consider writing curl's output to a temp file then
[10:58:35] <sudomann> got it, thanks!
[11:00:32] <geirha> and you probably want -f on that curl while you're at it
[11:10:09] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[11:14:17] *** Joins: mz` (~mz`@user/mz/x-8532539)
[11:17:36] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[11:18:42] *** Joins: tex (~super@user/dix)
[11:25:15] *** Joins: mz` (~mz`@user/mz/x-8532539)
[11:28:13] *** Quits: maryo87 (~Maryo@user/maryo) (Read error: Connection reset by peer)
[11:28:51] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[11:34:39] *** Joins: aminvakil (~aminvakil@2a01:4f8:120:336b:4::1)
[11:37:17] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[11:39:43] *** Joins: Jimmy_H (~Jimmy_H@119.136.154.158)
[11:40:13] *** Quits: Jimmy_H (~Jimmy_H@119.136.154.158) (Client Quit)
[11:40:29] *** Joins: mz` (~mz`@user/mz/x-8532539)
[11:40:32] *** Quits: cliluw (~cliluw@47.147.73.223) (Ping timeout: 240 seconds)
[11:41:05] *** Joins: cliluw (~cliluw@47.147.73.223)
[11:43:30] *** Joins: Jimmy_H (~Jimmy_H@119.136.154.158)
[11:43:48] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[11:47:34] *** Joins: AnapodoPsalidi (~AnapodoPs@ppp-2-86-208-115.home.otenet.gr)
[11:50:03] *** Quits: AnapodoPsalidaki (~AnapodoPs@195.46.31.29) (Ping timeout: 250 seconds)
[11:52:09] *** Joins: sudomann (~sudomann@98.219.211.182)
[11:53:53] *** Joins: rsx (~dummy@ppp-188-174-130-48.dynamic.mnet-online.de)
[11:56:57] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 268 seconds)
[11:56:57] *** Quits: Enitin (~Enitin@82.102.22.84) (Ping timeout: 240 seconds)
[12:00:31] *** Joins: Enitin (~Enitin@82.102.22.85)
[12:01:04] *** Joins: mz` (~mz`@user/mz/x-8532539)
[12:04:21] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[12:09:48] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[12:10:12] *** Quits: Enitin (~Enitin@82.102.22.85) (Ping timeout: 240 seconds)
[12:10:51] *** Joins: Enitin (~Enitin@82.102.22.84)
[12:11:02] *** Joins: bouncy (~ben@user/benoit)
[12:13:02] *** Quits: jarthur (~jarthur@cpe-70-114-198-37.austin.res.rr.com) (Quit: jarthur)
[12:14:57] *** Quits: Enitin (~Enitin@82.102.22.84) (Ping timeout: 240 seconds)
[12:17:34] *** Joins: alicef_ (~none@gentoo/developer/alicef)
[12:18:01] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-e0b9-1b23-8395-a665.res6.spectrum.com)
[12:18:39] *** Quits: alicef (~none@gentoo/developer/alicef) (Ping timeout: 256 seconds)
[12:19:19] <gebbione> is there a way in docker compose to avoid publishing a port to the host? ie i want lets say 80 on the container, for the other containers but not assign a random host port?
[12:19:53] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[12:21:17] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-e0b9-1b23-8395-a665.res6.spectrum.com) (Client Quit)
[12:26:43] *** Joins: mz` (~mz`@user/mz/x-8532539)
[12:26:57] *** Joins: sudomann (~sudomann@98.219.211.182)
[12:29:41] *** Quits: kenwoodfox (~quassel@user/kenwoodfox) (Quit: No Ping reply in 180 seconds.)
[12:30:00] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[12:30:57] *** Joins: kenwoodfox (~quassel@user/kenwoodfox)
[12:31:16] *** Joins: AnapodoPsalidaki (~AnapodoPs@195.46.31.29)
[12:31:41] *** Quits: cliluw (~cliluw@47.147.73.223) (Ping timeout: 256 seconds)
[12:32:05] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 268 seconds)
[12:33:23] *** Quits: AnapodoPsalidi (~AnapodoPs@ppp-2-86-208-115.home.otenet.gr) (Ping timeout: 256 seconds)
[12:36:30] *** Quits: alicef_ (~none@gentoo/developer/alicef) (Quit: install gentoo)
[12:36:53] *** Joins: Bruners (~lasseb@178.16.64.98)
[12:38:11] *** Joins: alicef (~none@gentoo/developer/alicef)
[12:38:38] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[12:38:42] *** Quits: chris-p (~chris-p@cassini.christopherpritchard.co.uk) (Quit: leaving)
[12:41:50] *** Joins: mz` (~mz`@user/mz/x-8532539)
[12:43:21] *** Joins: sudomann (~sudomann@98.219.211.182)
[12:43:34] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[12:43:43] *** Quits: alicef (~none@gentoo/developer/alicef) (Quit: install gentoo)
[12:43:53] *** Joins: ExeciN (~ExeciN@user/nicexe)
[12:44:29] *** Quits: iomari891 (~iomari891@197.210.70.46) (Ping timeout: 252 seconds)
[12:45:10] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[12:45:56] *** Joins: cliluw (~cliluw@47.147.73.223)
[12:45:57] *** Joins: iomari891 (~iomari891@197.210.70.47)
[12:47:37] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[12:48:57] *** Joins: Enitin (~Enitin@82.102.22.84)
[12:50:04] *** Pokey is now known as ahorner
[12:50:09] *** ahorner is now known as Pokey
[12:59:37] *** Quits: iomari891 (~iomari891@197.210.70.47) (Ping timeout: 240 seconds)
[13:02:30] *** Joins: iomari891 (~iomari891@197.210.70.65)
[13:04:34] *** Joins: mz` (~mz`@user/mz/x-8532539)
[13:07:46] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[13:09:12] *** Joins: ryu` (~ryusaku@c6A334BC1.dhcp.as2116.net)
[13:11:41] <geirha> gebbione: if your app listens on port 80, then all other containers in that docker network can access it on port 80
[13:12:11] <geirha> regardless of whether you publish the port on the host or not
[13:12:16] *** Joins: alicef (~none@gentoo/developer/alicef)
[13:12:23] <gebbione> yes but i dont want another random port like 37457 to be exposed on the host
[13:13:10] <gebbione> sure but if i just put - "80" in docker-compose it still gives an external one
[13:14:23] <rawtaz> then just dont expose a port using the ports: setting in your compose file - this will then not expost a port on the host at all, but as geirha said other containers in the docker network can still access the web server container.
[13:15:44] *** Joins: sudomann (~sudomann@98.219.211.182)
[13:20:15] *** Joins: mz` (~mz`@user/mz/x-8532539)
[13:22:07] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[13:23:35] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[13:24:24] *** Quits: alicef (~none@gentoo/developer/alicef) (Read error: Connection reset by peer)
[13:29:21] *** Joins: alicef (~none@gentoo/developer/alicef)
[13:30:32] *** Quits: alicef (~none@gentoo/developer/alicef) (Client Quit)
[13:31:16] *** Joins: alicef (~none@gentoo/developer/alicef)
[13:31:37] *** Quits: Enitin (~Enitin@82.102.22.84) (Ping timeout: 240 seconds)
[13:31:39] <gebbione> ok i am a bit confused, i am using docker-compose in all deployments and what i would expect is that if i do specify a port such as - "80:80" then it will allocate 80 on the host to. But if I do - "80" then it shouldnt. Are you saying that i do not specify a port at all other containers will still be able to talk to nginx on its port 80 when a port directive is not specified in the docker-compose file?
[13:31:55] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[13:32:18] *** Joins: Kingsy (~chris@kingsy.co.uk)
[13:32:23] *** Joins: Enitin (~Enitin@82.102.22.84)
[13:32:48] *** Quits: calm-steam (~calm-stea@2a02:810a:980:1400::9282) (Remote host closed the connection)
[13:33:07] *** Joins: calm-steam (~calm-stea@2a02:810a:980:1400:5f98:3a66:b46d:598d)
[13:34:47] *** Joins: sudomann (~sudomann@98.219.211.182)
[13:39:25] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[13:40:28] *** Joins: mz` (~mz`@user/mz/x-8532539)
[13:43:41] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[13:48:04] *** Joins: AnapodoPsalidi (~AnapodoPs@2a02:587:291b:fbb7:d74a:f32e:6cd:cf07)
[13:48:30] <rawtaz> gebbione: well you are simply misunderstanding something. if you list a port, then you are saying "expost this port on the host". so thats what it does. if you dont want that to happen, then dont list the port!
[13:48:43] <rawtaz> and yes, to your last question there. 
[13:48:56] <rawtaz> just fucking try it? we've repeated this three times now. it's super simple to try.
[13:49:15] <gebbione> thank you for the swearing
[13:49:30] <rawtaz> if you dont want to or need to expost a port for the container on the host, then there is absolutely no reason to expose that port
[13:49:33] <rawtaz> you're very welcome
[13:50:09] <rawtaz> also note that EXPOSE in the Dockerfile is not something that automatically makes the port exposed on the host - that directive is merely documentation nowadays. but you probably knew that
[13:50:17] *** Quits: AnapodoPsalidaki (~AnapodoPs@195.46.31.29) (Ping timeout: 240 seconds)
[13:50:28] <rawtaz> so its all about the ports: section in the compose file and/or the -p argument to docker run
[13:51:13] <rawtaz> btw, to adress a container in a container network when you use compose, you simply use the fqdn that is the same as the target container's service name. so if you ahve a service in your compose file named foo you can have another container in that compose connect to "foo" on e.g. port 80
[13:52:50] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[13:58:33] *** Joins: rardiol (~quassel@user/rardiol)
[14:04:54] *** Joins: mz` (~mz`@user/mz/x-8532539)
[14:06:04] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[14:08:06] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[14:08:17] *** Quits: wille (~wille@static.140.85.76.144.clients.your-server.de) (Ping timeout: 268 seconds)
[14:19:34] *** Joins: mz` (~mz`@user/mz/x-8532539)
[14:22:50] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[14:27:18] *** Joins: wille (~wille@static.140.85.76.144.clients.your-server.de)
[14:33:13] *** Joins: BSaboia (~bsaboia@187.18.140.125)
[14:34:05] *** Quits: Leonarbro (~Leonet@user/leonarbro) (Read error: Connection reset by peer)
[14:34:50] *** Joins: mz` (~mz`@user/mz/x-8532539)
[14:37:17] *** Quits: Enitin (~Enitin@82.102.22.84) (Ping timeout: 240 seconds)
[14:37:58] *** Joins: Enitin (~Enitin@82.102.22.85)
[14:38:05] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[14:45:44] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[14:46:52] *** Joins: mz` (~mz`@user/mz/x-8532539)
[14:48:10] *** Joins: nickjj (~nickjj@user/nickjj)
[14:48:57] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[14:50:08] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[14:52:40] <Kingsy> hi all, so I have a docker-compose with this -> entrypoint: entry-build.sh <- the entry-build.sh contains -> yarn build:production <- along with a mount -> - ./:/var/www/html <- however the yarn build is supposed to create a dist directory and it never appears... is it possible the mount happens after the entry point completes so the changes are lost?
[14:55:43] <geirha> the mount happens before the entrypoint is run, so something else must be wrong. Are you sure the yarn is being run in the right dir inside the container?
[14:56:21] <Kingsy> hrm it should be. I'll remove the entry point and replace it with supervisor and run it manually inside the container. hang on
[14:57:43] *** Joins: AnapodoPsalidaki (~AnapodoPs@195.46.31.29)
[14:57:59] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[14:59:29] *** Quits: AnapodoPsalidi (~AnapodoPs@2a02:587:291b:fbb7:d74a:f32e:6cd:cf07) (Ping timeout: 268 seconds)
[15:00:51] *** Joins: sudomann (~sudomann@98.219.211.182)
[15:01:02] *** Joins: mz` (~mz`@user/mz/x-8532539)
[15:02:11] <Kingsy> geirha: weird! it works if I run it manually
[15:02:43] *** Joins: nattiestnate (~nate@2001:448a:20a0:4134:25e:715f:d637:5263)
[15:03:19] *** Quits: nattiestnate (~nate@2001:448a:20a0:4134:25e:715f:d637:5263) (Client Quit)
[15:03:37] *** Quits: Enitin (~Enitin@82.102.22.85) (Ping timeout: 240 seconds)
[15:04:13] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[15:04:31] *** Joins: Enitin (~Enitin@82.102.22.86)
[15:05:15] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[15:05:30] *** Joins: zitter (~danilodim@93-57-35-194.ip162.fastwebnet.it)
[15:07:18] <Kingsy> geirha: is there any other way of doing this can you think? I basically want a one liner to run a command within a docker container and have it appear on the host via the mount
[15:10:17] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Read error: Connection reset by peer)
[15:11:20] *** Quits: maret (~maret@196.245.151.78) (Ping timeout: 252 seconds)
[15:14:05] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[15:14:56] *** Joins: GailWynand (~GailWynan@195.216.219.1)
[15:15:39] *** Joins: mz` (~mz`@user/mz/x-8532539)
[15:16:49] *** Quits: GailWynand (~GailWynan@195.216.219.1) (Client Quit)
[15:18:23] *** Joins: kostkon_ (~androirc@2.142.66.94.static.otenet.gr)
[15:18:57] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[15:20:45] <eqw> I'm typing `sudo docker start xenodochial_austin` then `sudo docker ps --all` and the STATUS of xenodochial_austin is Exited (0). Why? What should I do to be able to `sudo docker exec --interactive --tty xenodochial_austin bash` ?
[15:22:37] *** Quits: Enitin (~Enitin@82.102.22.86) (Ping timeout: 240 seconds)
[15:22:57] *** Joins: Enitin (~Enitin@82.102.22.85)
[15:25:05] *** Quits: AsenMx (~AsenMx@user/asenmx) (Ping timeout: 256 seconds)
[15:26:04] *** Joins: AsenMx (~AsenMx@user/asenmx)
[15:31:14] *** Joins: mz` (~mz`@user/mz/x-8532539)
[15:32:40] *** Joins: lowcrash (~admin@84-255-205-230.static.t-2.net)
[15:32:43] *** Quits: Czernobog (~Czernobog@user/czernobog) (Read error: Connection reset by peer)
[15:33:42] *** Joins: sudomann (~sudomann@98.219.211.182)
[15:34:26] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[15:35:20] *** Joins: Czernobog (~Czernobog@user/czernobog)
[15:37:57] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[15:39:42] *** Joins: zoraj (~zoraj@209.126.81.159)
[15:46:44] *** Joins: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1)
[15:49:40] *** Joins: mz` (~mz`@user/mz/x-8532539)
[15:50:23] *** Joins: sudomann (~sudomann@98.219.211.182)
[15:50:43] *** Quits: jgrim6669 (~jgrim@d60-65-99-197.col.wideopenwest.com) (Quit: Buh bye!)
[15:52:45] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[15:54:47] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 252 seconds)
[15:59:52] *** Joins: dinowilliam (~dinowilli@138.204.26.75)
[16:02:36] *** Quits: dinowilliam (~dinowilli@138.204.26.75) (Remote host closed the connection)
[16:04:52] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[16:05:02] *** Joins: ExeciN (~ExeciN@user/nicexe)
[16:05:16] *** Joins: mz` (~mz`@user/mz/x-8532539)
[16:06:37] *** Joins: sudomann (~sudomann@98.219.211.182)
[16:08:37] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[16:12:27] *** Joins: vidbina (~vid@dynamic-078-054-228-027.78.54.pool.telefonica.de)
[16:16:07] <ExeciN> hi people. I have a container with entrypoint of ["npm","run"] (and cmd of ["start"] but that is besides the point). I want to do some extra stuff before npm run like so /sbin/ip route|awk '/default/ { print $3 }' ; npm run
[16:16:55] <ExeciN> I tried to format the entrypoint like so ENTRYPOINT ["/sbin/ip", "route|awk", "'/default/ { print $$3 }'", ";", "npm", "run"]
[16:17:51] <ExeciN> but this doesn't work for some reason
[16:18:19] <ExeciN> how else should I separate the commands/arguments?
[16:18:43] <selckin> its a single command you run, not a shell script, so ';' is just a param to ip
[16:18:59] <selckin> you can run bash -c 'ip route; exec npm run'
[16:19:12] <selckin> or easier to make a script, and call that
[16:23:58] <ExeciN> cmd is set to ["start"] so I don't think an entrypoint using bash -c "blahblah ; npm run" work with cmd ["start"]
[16:25:57] <selckin> https://goinbigdata.com/docker-run-vs-cmd-vs-entrypoint/
[16:26:29] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[16:26:30] <selckin> either way you can't run 2 executables by putting 2 in there
[16:26:48] <selckin> if you also want to support CMD as params to entrypoint your script has to take that into account too
[16:27:16] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[16:28:20] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Quit: .)
[16:29:29] *** Joins: mz` (~mz`@user/mz/x-8532539)
[16:30:14] <ExeciN> I just want to hack an already existing project for debugging. I want to modify the least that I can to keep most of the project in its original state
[16:31:10] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[16:32:40] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[16:32:45] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[16:33:33] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[16:34:25] <selckin> so you need something like ["/bin/bash", "-c", "'ip route; exec npm run "$@"'", "--"] to make what you did work
[16:34:35] <selckin> probably have to escape those nested ", not sure
[16:35:17] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[16:35:22] *** Quits: jazzy3 (~jaziz@user/jaziz) (Quit: Beddie bye-bye)
[16:35:50] <geirha> and remove the 's
[16:36:10] <selckin> ah right indeed
[16:37:55] <geirha> ["bash", "-c", "ip route ; exec npm run \"$@\"", "entrypoint"]
[16:38:35] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Quit: .)
[16:38:49] <selckin> think you need the -- to popular the $@, and entrypoint param is added by docker itself, altho been a while since i used that
[16:39:22] <geirha> any string will do; it's the name of the script
[16:39:27] *** Joins: Guest8153 (riotz@user/riotz)
[16:39:35] <selckin> then still need it after right
[16:40:02] <selckin> ah se what you're saying
[16:40:11] <selckin> i'm using -- as name of the script, not as what i think it does
[16:41:13] *** Guest8153 is now known as riotz
[16:41:48] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[16:45:44] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[16:45:44] *** Quits: matdev (~matdev@2a01:6e60:10:793:666:feed:dead:beef) (Remote host closed the connection)
[16:46:02] *** Joins: ExeciN (~ExeciN@user/nicexe)
[16:47:28] *** Joins: matdev (~matdev@2a01:6e60:10:793:666:feed:dead:beef)
[16:48:03] *** Joins: mz` (~mz`@user/mz/x-8532539)
[16:48:38] *** Joins: sudomann (~sudomann@98.219.211.182)
[16:49:24] *** Quits: Enitin (~Enitin@82.102.22.85) (Ping timeout: 240 seconds)
[16:50:54] *** Joins: Enitin (~Enitin@82.102.22.84)
[16:51:04] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[16:52:55] *** Quits: iomari891 (~iomari891@197.210.70.65) (Ping timeout: 256 seconds)
[16:52:57] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[16:53:41] *** Joins: iomari891 (~iomari891@197.210.53.158)
[16:55:28] *** Joins: thiras_ (~thiras@user/thiras)
[16:58:17] *** Quits: Enitin (~Enitin@82.102.22.84) (Ping timeout: 240 seconds)
[16:58:55] *** Joins: Enitin (~Enitin@82.102.22.85)
[17:01:23] *** Joins: mz` (~mz`@user/mz/x-8532539)
[17:04:15] *** Quits: rardiol (~quassel@user/rardiol) (Ping timeout: 256 seconds)
[17:04:32] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[17:05:11] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 252 seconds)
[17:05:17] *** Quits: Enitin (~Enitin@82.102.22.85) (Ping timeout: 240 seconds)
[17:05:38] *** Joins: Enitin (~Enitin@82.102.22.86)
[17:07:14] *** Joins: sudomann (~sudomann@98.219.211.182)
[17:07:15] *** Joins: bouncy (~ben@user/benoit)
[17:07:55] *** Quits: BSaboia (~bsaboia@187.18.140.125) (Quit: This computer has gone to sleep)
[17:08:29] *** Joins: BSaboia (~bsaboia@187.18.140.125)
[17:10:20] *** Joins: GailWynand (~GailWynan@195.216.219.1)
[17:10:50] *** Joins: rardiol (~quassel@user/rardiol)
[17:11:32] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[17:11:46] *** Joins: mz` (~mz`@user/mz/x-8532539)
[17:11:48] <statusbot4> Status update: Our scan provider is having issue on detecting log4j vulnerability. We are pausing all scanning attempt until the issue is fixed. Docker scan command line is still working but won't also detect any log4j vulnerability. -- https://status.docker.com/pages/incident/533c6539221ae15e3f000031/61bb421c9604e60540fd1321
[17:15:01] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[17:19:46] *** Joins: ses (uid38151@id-38151.hampstead.irccloud.com)
[17:21:30] *** Quits: GailWynand (~GailWynan@195.216.219.1) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:22:47] <gebbione> i am sshing a container and get the root user but then i have all sorts of errors. It is weird. The container works on my local machine and it is running off my custom image so it should be consistent
[17:23:40] <gebbione> errors -> i cannot ls or open any folders such as /etc/nginx etc and the nginx config is not loading the one specified in the config file (which i cannot check because i cannot ls or cat from it)
[17:26:07] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Ping timeout: 250 seconds)
[17:28:03] *** Quits: vidbina (~vid@dynamic-078-054-228-027.78.54.pool.telefonica.de) (Ping timeout: 256 seconds)
[17:30:35] *** Quits: Tach (~Tach@user/tach) (Quit: Tach)
[17:31:20] *** Joins: mz` (~mz`@user/mz/x-8532539)
[17:32:54] *** Joins: Tach (~Tach@user/tach)
[17:34:26] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[17:34:41] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[17:34:45] *** Joins: ExeciN (~ExeciN@user/nicexe)
[17:35:11] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[17:36:41] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Client Quit)
[17:40:41] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Remote host closed the connection)
[17:40:57] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[17:41:31] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[17:41:42] *** Joins: irrgit (~irrgit@192.241.175.183)
[17:43:10] *** Joins: sudomann (~sudomann@98.219.211.182)
[17:44:09] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[17:44:17] *** Quits: AsenMx (~AsenMx@user/asenmx) (Ping timeout: 240 seconds)
[17:44:29] *** Joins: ExeciN (~ExeciN@user/nicexe)
[17:44:47] *** Joins: mz` (~mz`@user/mz/x-8532539)
[17:44:55] *** Joins: AsenMx (~AsenMx@user/asenmx)
[17:47:17] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[17:47:50] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[17:51:33] *** Joins: vikonen (vikonen@seri.fi)
[17:56:59] *** Quits: matdev (~matdev@2a01:6e60:10:793:666:feed:dead:beef) (Quit: leaving)
[17:57:22] *** Joins: matdev (~matdev@2a01:6e60:10:793:666:feed:dead:beef)
[17:59:28] *** Joins: sudomann (~sudomann@98.219.211.182)
[18:02:34] *** Joins: andycooper (uid246432@id-246432.helmsley.irccloud.com)
[18:05:31] *** Joins: mz` (~mz`@user/mz/x-8532539)
[18:08:37] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[18:09:15] *** Joins: minimal (~minimal@user/minimal)
[18:13:09] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Read error: Connection reset by peer)
[18:13:15] *** Joins: maret_ (~maret@nat-88-212-37-89.antik.sk)
[18:20:58] *** Joins: ada_ (uid242135@user/ada/x-9065485)
[18:20:58] *** ChanServ sets mode: +o ada_
[18:21:08] *** Joins: mz` (~mz`@user/mz/x-8532539)
[18:24:24] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[18:33:40] *** Quits: irrgit (~irrgit@192.241.175.183) (Remote host closed the connection)
[18:36:07] *** Quits: BSaboia (~bsaboia@187.18.140.125) (Quit: This computer has gone to sleep)
[18:36:36] *** Joins: GyrosGeier (~geier@185.27.255.155)
[18:36:38] <GyrosGeier> hi
[18:37:11] <GyrosGeier> I just tried to create a container with three published ports and used a hostname for the third to bind to an IP
[18:37:18] <GyrosGeier> that doesn't work, so creation failed
[18:37:20] *** Joins: mz` (~mz`@user/mz/x-8532539)
[18:37:39] <GyrosGeier> but the error message suggested that the first publish option was wrong, when it was the third
[18:37:44] <GyrosGeier> is that a known problem?
[18:40:35] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[18:41:40] <rawtaz> GyrosGeier: you are asking a question about a problem without showing any of commands used, output and/or error messages. thats not a very constructive way to ask for help
[18:43:48] <GyrosGeier> ah sorry
[18:43:54] <rawtaz> :)
[18:44:14] <rawtaz> the entire command and all of its output is usually the best
[18:44:32] <rawtaz> off topic: this is pretty rad: https://bsg.lericson.se/jing/VsvVSIL9EWaC.png
[18:44:50] <GyrosGeier> hmm
[18:45:10] <GyrosGeier> it will be annoying to replicate though
[18:45:16] <GyrosGeier> because gitlab-ce
[18:45:25] <GyrosGeier> which is an 1 GB container
[18:45:43] <GyrosGeier> I'll try a minimal example
[18:46:00] <rawtaz> oh
[18:46:21] <rawtaz> you dont happen to have the output you already saw somewhere?
[18:47:28] <GyrosGeier> docker: invalid publish opts format (should be name=value but got '443:443').
[18:47:43] <GyrosGeier> that is the first -p option
[18:47:48] <rawtaz> how did you run this? is it a docker run command?
[18:48:17] <GyrosGeier> docker create -p 443:443 -p 80:80 -p gitlab.local:22:22 ...
[18:48:23] <GyrosGeier> the third -p option is wrong
[18:48:32] <GyrosGeier> because I used a hostname instead of an IP
[18:48:44] <GyrosGeier> but it complains about the first one, with a confusing message
[18:49:01] *** Joins: mz` (~mz`@user/mz/x-8532539)
[18:49:35] <GyrosGeier> let me try if I can replicate this with FROM scratch EXPOSE 80 EXPOSE 443 EXPOSE 22
[18:50:02] <GyrosGeier> yes
[18:51:06] <rawtaz> https://github.com/docker/cli/issues/1962 seems relevant
[18:52:18] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[18:53:03] <GyrosGeier> mh
[18:53:06] <GyrosGeier> not quite
[18:53:18] <GyrosGeier> oh wait
[18:53:33] <GyrosGeier> the bit where you can use only one form of the option
[18:53:40] <GyrosGeier> even for multiple instances
[18:53:56] <GyrosGeier> so it interpreted the hostname as an attempt to use long form
[18:54:18] <GyrosGeier> and then went back and tried parsing the short form of the first arg as long form, and failed
[18:54:21] <GyrosGeier> oof
[18:54:38] <rawtaz> yeah
[18:54:42] <rawtaz> perhaps tahts the reason
[18:55:00] <rawtaz> if you make the last one just 22:22 i guess it starts fine?
[18:55:24] <rawtaz> (well, any busy ports aside, can try some other x:x instead)
[18:57:31] <GyrosGeier> yes, 192.168.1.254:22:22 also works fine
[18:57:58] <GyrosGeier> that is what I need -- the box has two IP addresses, normal ssh on the main IP, gitlab ssh on secondary
[18:58:19] <GyrosGeier> would have preferred a hostname there, but such is life
[18:59:17] *** Joins: catbehemoth (~vasyl@bras-base-lnglpq6100w-grc-16-206-172-248-162.dsl.bell.ca)
[18:59:38] *** Joins: Leonarbro (~Leonet@user/leonarbro)
[19:02:46] *** Joins: mz` (~mz`@user/mz/x-8532539)
[19:05:40] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[19:07:24] *** Quits: rsx (~dummy@ppp-188-174-130-48.dynamic.mnet-online.de) (Remote host closed the connection)
[19:07:47] *** Joins: rsx (~dummy@ppp-188-174-130-48.dynamic.mnet-online.de)
[19:08:42] *** Joins: irrgit (~irrgit@192.241.175.183)
[19:12:57] *** Quits: rsx (~dummy@ppp-188-174-130-48.dynamic.mnet-online.de) (Quit: rsx)
[19:16:41] <rawtaz> GyrosGeier: whats stopping you from using a fqdn?
[19:16:46] <rawtaz> or hostname
[19:17:22] *** Joins: mz` (~mz`@user/mz/x-8532539)
[19:17:44] *** Quits: catbehemoth (~vasyl@bras-base-lnglpq6100w-grc-16-206-172-248-162.dsl.bell.ca) (Quit: WeeChat 3.3)
[19:18:57] <GyrosGeier> rawtaz, it fails to create the container then
[19:20:17] <rawtaz> but if you use the "long" format for all of them, doesnt that work?
[19:20:34] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[19:20:40] <rawtaz> or are you saying that the "cant use hostname" is another problem than the one we were previously discussing?
[19:21:50] <GyrosGeier> hmm
[19:22:01] <GyrosGeier> I can try that, sec
[19:22:43] <rawtaz> annoying having to specify ports in that long format of course but it is waht it is :<
[19:25:24] <GyrosGeier> lol
[19:25:30] <GyrosGeier> the long form is undocumented
[19:25:57] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 240 seconds)
[19:26:01] <GyrosGeier> there are a few examples that use target= and published=
[19:26:13] <GyrosGeier> but no idea how to specify the IP it should bind to
[19:27:07] *** Joins: catbehemoth (~vasyl@bras-base-lnglpq6100w-grc-16-206-172-248-162.dsl.bell.ca)
[19:27:47] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[19:28:01] <rawtaz> i agree. another example where docker docs suck
[19:28:43] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Client Quit)
[19:29:01] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[19:29:21] *** Joins: gedulis120 (~gedulis12@46.251.49.174)
[19:30:15] *** Quits: daniel-k (~daniel-k@fsf/emeritus/daniel-k) (Read error: Connection reset by peer)
[19:30:26] *** Joins: daniel-k (~daniel-k@fsf/emeritus/daniel-k)
[19:30:45] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[19:30:51] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[19:32:15] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[19:36:19] *** Joins: vidbina (~vid@dynamic-078-054-228-027.78.54.pool.telefonica.de)
[19:39:14] *** Joins: mz` (~mz`@user/mz/x-8532539)
[19:39:46] *** Quits: AnapodoPsalidaki (~AnapodoPs@195.46.31.29) (Quit: Leaving)
[19:40:20] *** Quits: armin (~armin@unix.porn) (Remote host closed the connection)
[19:41:29] *** Joins: kitzman (~kitzman@user/dekenevs)
[19:41:47] <kitzman> hm, how can one pull images anonymously from registry-1.docker.io?
[19:41:55] <kitzman> or any public registry for that matter
[19:42:13] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[19:43:49] <s17> black mask and hoodie
[19:44:22] <sudomann> lmfao
[19:44:26] *** Joins: CoolerX (~user@user/coolerx)
[19:44:28] <CoolerX> Hi
[19:44:36] <CoolerX> I build this Dockerfile https://bpa.st/QORA
[19:44:42] <sudomann> kitzman: use a vpn?
[19:44:51] <CoolerX> and then run it with docker run --rm -it inventory bash
[19:45:02] <CoolerX> when I check inside the /app directory it is empty
[19:45:02] *** Quits: lowcrash (~admin@84-255-205-230.static.t-2.net) (Ping timeout: 240 seconds)
[19:45:10] <CoolerX> Nothing got copied over
[19:45:27] <CoolerX> what's going on? I didn't get any build errors
[19:45:47] <CoolerX> it should have at least copied over the Dockerfile itself
[19:46:01] <CoolerX> but there's also a bunch of other files and folders that should have gotten copied over
[19:46:14] <kitzman> sudomann: let me rephrase: i want to call the api without authenticating myself
[19:47:33] <kitzman> tried both registry-1.docker.io and hub.docker.com. my guess at this point is that i have to find the right hub.docker.com namespace to query metadata + pull images
[19:48:33] <CoolerX> kitzman: index.docker.io
[19:50:10] <sudomann> Ugh I was facing these same copying semantics rubbish issues yesterday. I often face such issues getting `.` copies t work
[19:50:29] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Quit: .)
[19:50:33] <kitzman> CoolerX: still getting 401.
[19:50:42] <sudomann> Are you using docker compose, ensure nothing else such as an empty folder, is getting mounted at that path and clearing it out
[19:50:51] <CoolerX> actually I found the issue
[19:50:55] <CoolerX> there's a .dockerignore file
[19:51:06] <CoolerX> that's why it wasn't copying anything
[19:51:20] <sudomann> lol did you put an asterisk iin there or something
[19:52:45] *** Joins: mz` (~mz`@user/mz/x-8532539)
[19:52:46] <CoolerX> kitzman: hmm according to their docs it should be hub.docker.com https://docs.docker.com/docker-hub/api/latest/#tag/authentication
[19:52:59] <CoolerX> sudomann: it's not my code, I am just trying to build
[19:53:02] <CoolerX> containerize it
[19:53:03] *** Joins: michele_ (~eraser@user/michele)
[19:53:07] *** Quits: michele (~eraser@user/michele) (Read error: Connection reset by peer)
[19:53:16] <CoolerX> sudomann: yes it has an asterisk
[19:53:49] <CoolerX> sudomann: https://bpa.st/2EXQ
[19:55:03] <CoolerX> I think target only exists after a mvn package
[19:55:39] <kitzman> so... I don't want to authenticate (because I'm building a tool and i want it to pull images). i tried a couple of username/password combos, but none worked. using the api unauthenticated results in 401
[19:55:53] <kitzman> (combos such as anonymous/anonymous, etc)
[19:55:56] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[19:56:13] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[19:59:23] <CoolerX> kitzman: just leave out the Authorization header
[19:59:33] <kitzman> xD
[19:59:44] <kitzman> okay i'll just look in the source code
[19:59:53] <CoolerX> ofc not all endpoints will allow authenticated requests
[20:00:16] <CoolerX> kitzman: you just want to pull images right?
[20:00:43] <CoolerX> kitzman: this project does exactly that https://github.com/containers/skopeo
[20:01:03] <kitzman> i only tried to list tags. i imagine if the hub.docker.com allows me to list tags, then so should the api
[20:01:09] <kitzman> hm i think i will read that source code
[20:01:32] <kitzman> i hope my request is wrong
[20:01:37] <kitzman> and i am able to list tags
[20:02:34] <CoolerX> kitzman: https://docs.docker.com/docker-hub/api/latest/#operation/GetNamespacesRepositoriesImagesTags
[20:02:59] <kitzman> yeah i know but still 401
[20:03:53] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 256 seconds)
[20:04:13] *** Quits: gedulis120 (~gedulis12@46.251.49.174) (Quit: Lost terminal)
[20:04:19] <kitzman> maybe the cli uses a token 
[20:05:52] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[20:06:44] <programmerq> kitzmanâ–¸ yes, the docker registry uses a token system.
[20:06:55] *** Joins: gedulis120 (~gedulis12@46.251.49.174)
[20:07:06] <programmerq> so you hit the token api with the docker id/password and then use that token to do the operation in question.
[20:07:42] <kitzman> yeah but i wouldn't expect it to be necessary
[20:07:45] *** Joins: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net)
[20:08:28] <kitzman> so if it's necessary i'll use docker-cli's token, if not then i guess i'll find out a way.
[20:08:30] <programmerq> the registry backend only trusts tokens. The token server is what has access to the username/password database.
[20:09:04] <kitzman> i mean one could just copy paste docker-cli's token, right? in case they are afraid of someone hammering the api.
[20:09:08] <programmerq> the docker cli talks to dockerd and sends the username/password. dockerd then handles the communication with the registry and gets a token using the credentials.
[20:09:12] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[20:09:21] <kitzman> i don't really get the motivation behind that.
[20:09:48] <kitzman> then for private/corporate/whatever repos yeah ofc a token would be necessary but not for public information
[20:09:49] <programmerq> it's so that anyone can swap in their own token server for their registry. it could be backed by whatever authentication they want.
[20:10:05] *** Joins: mz` (~mz`@user/mz/x-8532539)
[20:10:05] <programmerq> you still need a token for public repos-- you can get an unauthenticated token
[20:10:24] <programmerq> you just say "hey give me a token for xyz repository for pull" and then the token server says "here you go"
[20:10:35] <programmerq> it's the token server that decides what is public and private
[20:10:50] <programmerq> the registry api just says "valid token?"
[20:11:26] <kitzman> "unauthenticated token" nice. how would one do that?
[20:11:52] <programmerq> well, this goes back to why you're wanting to implement your own docker registry api client instead of using one of the existing projects and libraries.
[20:12:31] <kitzman> wait 
[20:12:58] <programmerq> https://github.com/genuinetools/reg - this is a cli tool and that can just list tags for you.
[20:13:09] <tabakhase> <3 reg
[20:13:20] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[20:13:35] <programmerq> run 'reg tags busybox' and it'll just spit out every tag for the 'busybox' repo without needing to pass in credentials.
[20:13:42] <programmerq> and it handles talking to the token server for you
[20:14:09] <programmerq> you don't have to know or care about the token api
[20:14:30] <CoolerX> kitzman: the token is specific to the user
[20:14:37] <kitzman> yeah i'm unable to create an unauthenticated one but maybe i'm missing something.
[20:14:49] <CoolerX> kitzman: there's no unauthenticated token
[20:14:52] <programmerq> https://docs.docker.com/registry/spec/auth/ - starting point.
[20:15:03] <programmerq> CoolerXâ–¸ you can indeed get a token when not authenticated.
[20:15:20] <CoolerX> what does that mean?
[20:15:30] <programmerq> and it isn't per user. a user can get a token for a given resource if they are allowed to. that token is scoped to a repository and an action (push/pull)
[20:15:38] <programmerq> CoolerXâ–¸ this is talking about the docker registry token api
[20:15:44] <CoolerX> "a user can get a token for a given resource if they are allowed to. that token is scoped to a repository and an action (push/pull)
[20:15:47] <CoolerX> "
[20:15:52] <CoolerX> yes that's what I use
[20:16:17] <CoolerX> "docker registry token api" yes that's what I am talking about as well
[20:16:19] <programmerq> and if you ask for a token while unauthenticated, you can get a token for a public image
[20:16:31] <CoolerX> I use an authenticated token to push some images
[20:17:05] <CoolerX> "for a public image" hmm
[20:17:35] <CoolerX> what's the point of that?
[20:17:50] <CoolerX> why not make the info available without the token?
[20:18:05] <programmerq> because the token api service decides who is allowed to do what, not the registry.
[20:18:25] <programmerq> again, the registry simply cares about whether you have a token to be able to do the thing you want to do.
[20:18:37] <programmerq> so if you don't have a token, you don't get to do a thing.
[20:18:48] <CoolerX> "the registry simply cares about whether you have a token to be able to do the thing you want to do." even for public images?
[20:18:54] <programmerq> and you can only get a token from a trusted token api service
[20:19:08] <programmerq> so the api service decides who can do what-- unauthenticated or authenticated, push or pull
[20:19:19] <CoolerX> ok
[20:19:25] <programmerq> and then it issues a token when appropriate depending on user/repository/action
[20:20:01] <programmerq> curl 'https://auth.docker.io/token?service=registry.docker.io&scope=repository:library/ubuntu:pull'
[20:20:25] <programmerq> that'll give you an unauthenticated token to access the 'ubuntu' official image and be able to pull (which does include listing tags, iirc)
[20:20:36] <kitzman> the moment you typed the message was the moment i curled auth.docker.io
[20:20:42] <kitzman> .com * 
[20:20:44] <programmerq> https://docs.docker.com/registry/spec/auth/token/ - taken and slightly modified from here
[20:20:53] <kitzman> nice, thank you, i think this one should work
[20:23:05] <CoolerX> programmerq: hmm https://bpa.st/ZYOQ
[20:26:00] *** Joins: mz` (~mz`@user/mz/x-8532539)
[20:29:12] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[20:31:33] *** Quits: zitter (~danilodim@93-57-35-194.ip162.fastwebnet.it) (Quit: Leaving)
[20:33:32] <CoolerX> programmerq: do you know why it has such a high expiry time?
[20:33:47] <CoolerX> I thought it was the max value to set infinite expiry
[20:33:57] <CoolerX> but it doesn't seem to be a power of 2-1
[20:35:17] *** Quits: kostkon_ (~androirc@2.142.66.94.static.otenet.gr) (Ping timeout: 240 seconds)
[20:35:34] *** Joins: kostkon_ (~androirc@2a02:1388:182:bc03:26df:639a:96e7:3641)
[20:35:40] <CoolerX> and exp is optional anyway
[20:42:36] *** Quits: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net) (Remote host closed the connection)
[20:44:16] *** Joins: mz` (~mz`@user/mz/x-8532539)
[20:47:40] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[20:47:57] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 240 seconds)
[20:49:28] *** Joins: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net)
[20:49:54] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[20:50:08] *** Quits: kostkon_ (~androirc@2a02:1388:182:bc03:26df:639a:96e7:3641) (Ping timeout: 252 seconds)
[20:56:13] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[20:58:02] *** Joins: mz` (~mz`@user/mz/x-8532539)
[20:58:24] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[21:00:38] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: Textual IRC Client: www.textualapp.com)
[21:01:14] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[21:01:31] *** Quits: C4Crawford (~quassel@162-238-18-201.lightspeed.bcvloh.sbcglobal.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[21:06:01] *** Joins: sudomann (~sudomann@98.219.211.182)
[21:09:54] *** Joins: Ivii (~Ivyy@2001:a62:4c3:8e01:226:6685:3dd4:7093)
[21:11:07] *** Joins: mz` (~mz`@user/mz/x-8532539)
[21:14:14] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[21:15:56] *** Joins: C4Crawford (~quassel@162-238-18-201.lightspeed.bcvloh.sbcglobal.net)
[21:16:51] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[21:17:25] *** Joins: Atque (~Atque@user/atque)
[21:19:17] *** Joins: codebam (~codebam@user/codebam)
[21:20:32] *** Quits: codebam (~codebam@user/codebam) (Client Quit)
[21:25:14] <rawtaz> GyrosGeier: did it work?
[21:27:35] *** Quits: rardiol (~quassel@user/rardiol) (Quit: No Ping reply in 180 seconds.)
[21:29:00] *** Joins: rardiol (~quassel@user/rardiol)
[21:30:02] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 240 seconds)
[21:30:59] *** Quits: CoolerX (~user@user/coolerx) (Quit: leaving)
[21:32:06] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[21:33:39] *** Joins: mz` (~mz`@user/mz/x-8532539)
[21:35:04] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[21:37:03] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[21:42:28] <GyrosGeier> rawtaz, I stopped trying and went with the IP address
[21:42:38] <GyrosGeier> it will be the problem of my successor
[21:44:43] *** Joins: blackwood821_ (~blackwood@user/blackwood821)
[21:45:34] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[21:45:41] *** Quits: blackwood821 (~blackwood@user/blackwood821) (Ping timeout: 250 seconds)
[21:47:50] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[21:48:58] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Client Quit)
[21:51:06] *** Joins: mz` (~mz`@user/mz/x-8532539)
[21:52:25] *** Quits: calm-steam (~calm-stea@2a02:810a:980:1400:5f98:3a66:b46d:598d) (Quit: Leaving)
[21:52:46] *** Joins: calm-steam (~calm-stea@2a02:810a:980:1400:5f98:3a66:b46d:598d)
[21:54:32] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[22:01:21] *** Joins: leitz (~LeamHall@cpe-173-172-58-72.tx.res.rr.com)
[22:05:23] *** Joins: mz` (~mz`@user/mz/x-8532539)
[22:08:26] *** Quits: BobbyJr (~BobbyJr@robsworld.plus.com) (Remote host closed the connection)
[22:08:46] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[22:15:15] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[22:19:16] *** Joins: mz` (~mz`@user/mz/x-8532539)
[22:20:21] *** Joins: GailWynand (~GailWynan@195.216.219.1)
[22:22:33] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[22:26:30] *** Joins: junktext_ (~junktext@gateway/vpn/pia/junktext)
[22:29:39] *** Joins: Ryu945 (Ryu945@gateway/vpn/protonvpn/ryu945)
[22:30:37] *** Quits: Tach (~Tach@user/tach) (Ping timeout: 240 seconds)
[22:31:18] *** Joins: mz` (~mz`@user/mz/x-8532539)
[22:34:33] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[22:35:39] *** Quits: C4Crawford (~quassel@162-238-18-201.lightspeed.bcvloh.sbcglobal.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[22:36:17] *** Quits: catbehemoth (~vasyl@bras-base-lnglpq6100w-grc-16-206-172-248-162.dsl.bell.ca) (Ping timeout: 240 seconds)
[22:38:13] *** Joins: vuks (~Vuks69@87-206-7-209.dynamic.chello.pl)
[22:49:00] *** Joins: mz` (~mz`@user/mz/x-8532539)
[22:49:21] *** Quits: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 256 seconds)
[22:52:10] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[22:52:46] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[22:56:49] *** Quits: blackwood821_ (~blackwood@user/blackwood821) (Quit: ZNC 1.8.2 - https://znc.in)
[22:57:14] *** Joins: blackwood821 (~blackwood@user/blackwood821)
[22:59:02] *** Joins: Tach (~Tach@user/tach)
[23:01:39] *** Joins: DoofusCanadensis (~DoofusCan@207.229.38.10)
[23:02:08] *** Joins: mz` (~mz`@user/mz/x-8532539)
[23:05:04] *** Joins: C4Crawford (~quassel@162-238-18-201.lightspeed.bcvloh.sbcglobal.net)
[23:05:23] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[23:06:57] *** Quits: Tach (~Tach@user/tach) (Ping timeout: 240 seconds)
[23:08:42] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 260 seconds)
[23:10:14] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[23:13:09] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[23:13:59] *** Joins: sudomann (~sudomann@98.219.211.182)
[23:17:24] *** Quits: GailWynand (~GailWynan@195.216.219.1) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[23:19:11] *** Joins: mz` (~mz`@user/mz/x-8532539)
[23:20:19] <bencc1> how can I create xvfb display on two containers when using host network?
[23:21:25] <programmerq> same way you'd create two xvfb displays on the host outside the context of containers-- use a different port.
[23:22:31] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[23:22:47] <bencc1> programmerq: I'm getting an error when trying to capture the virtual display with ffmpeg
[23:22:58] <rawtaz> bah. XY :)
[23:22:58] <bencc1> didn't get this error when using bridged network
[23:23:10] <bencc1> maybe because each container tries to start x server
[23:23:53] <programmerq> using the host network effectively disables the container isolation from the host's networking, so you can run into conflicts without that isolation.
[23:24:00] <programmerq> if it works in bridge mode, why use the host mode?
[23:24:44] <bencc1> because I suspect the bridge network slow things when running multiple containers
[23:24:59] <bencc1> still don't know if it's true but I tested everything else I could think of
[23:25:08] <bencc1> so I just won't to eliminate the network
[23:25:31] <programmerq> the bridge network is pretty much just a linux bridge and a NAT. it's very fast.
[23:26:41] <bencc1> actually I'm using 127.0.0.1 inside the container so brdige shouldn't have any affect
[23:26:44] <bencc1> effect
[23:26:51] *** Joins: ryann (~ryan@user/ryann)
[23:26:52] <bencc1> yet, I've tried everything else so I won't to test it too
[23:27:05] <bencc1> but stuck with the display issue
[23:27:36] <programmerq> so you have two xvfb instances using the same 127.0.0.1 and you're getting an error?
[23:28:09] <programmerq> since you haven't shared the error, I can only guess, but I would say that two programs trying to do the same thing with the same interface and port would lead to some sort of conflict.
[23:28:11] <bencc1> I'm creating the display with pyvirtualdisplay
[23:28:14] <bencc1> from pyvirtualdisplay import Display
[23:28:26] *** Quits: ryann (~ryan@user/ryann) (Remote host closed the connection)
[23:28:29] <bencc1> display = Display(visible=False, size=(1280,720))
[23:28:35] <bencc1> display.start()
[23:29:01] <programmerq> okay, and that looks like it's just an xvfb wrapper, so I would still expect that two processes trying to use the same 127.0.0.1 on the same port would have some sort of conflicting error.
[23:29:07] <bencc1> and later calling ffmpeg with x11grab :{display}.0+0,0
[23:29:35] <bencc1> I thought pyvirtualdisplay create random display port
[23:29:42] <programmerq> you haven't indicated as such
[23:29:45] <bencc1> https://github.com/ponty/PyVirtualDisplay#concurrency
[23:29:48] <bencc1> could be wrong
[23:29:52] <programmerq> and again, I am classifying this as a guess since you haven't shared the error message...
[23:30:21] <programmerq> but I would agree that 127.0.0.1 wouldn't go through the bridge at all, so the presence of the bridge likely has little or nothing to do with slowdowns.
[23:30:45] <bencc1> I agree
[23:30:49] <bencc1> but I'm out of ideas
[23:31:13] <bencc1> what I do in this case is just trying something that doesn't make sense until I get a good idea :)
[23:31:17] <bencc1> and it always work
[23:32:40] <bencc1> next step is to test with firecracker and a real vm isolation
[23:35:22] <bencc1> programmerq: I'm using Chrome connected to a server on localhost inside the container
[23:35:30] <bencc1> performance is less than 1 cpu core
[23:35:48] <bencc1> but when I add more containers the performance drop fast until cpu is overloaded
[23:35:55] *** Joins: mz` (~mz`@user/mz/x-8532539)
[23:36:07] <bencc1> I suspect it's something related to the docker isolation
[23:36:11] <bencc1> network, disk...
[23:39:11] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[23:41:49] <tabakhase> bencc1 make sure your chrome follows all the recommendations, its expected to be rather bad, but shouldnt be "absolute terrible" (see puppeteer project for insperation)
[23:42:17] <bencc1> tabakhase: works ok with a single container
[23:42:33] <bencc1> 1 container = 0.7 of single core
[23:42:44] <bencc1> 12 containers overload 32 core machine
[23:42:49] <bencc1> math doesn't add up :)
[23:43:33] <tabakhase> think i told you few days ago that you cant do math with the load-number
[23:44:51] *** Quits: C4Crawford (~quassel@162-238-18-201.lightspeed.bcvloh.sbcglobal.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[23:45:37] <bencc1> why not?
[23:45:38] <tabakhase> and running 12 native chromes will likely be just as bad :D
[23:45:45] <bencc1> why?
[23:45:49] <bencc1> it's not magic
[23:46:05] <bencc1> I can run 6 chrome instances on a 8 core machine
[23:46:15] <bencc1> but 12 chrome instances on a 32 core machine (with better hardware)
[23:46:18] <bencc1> doesn't make sense
[23:46:26] <bencc1> there is some software bottleneck
[23:46:35] <bencc1> which will get fixed with using VMs
[23:46:47] <bencc1> docker is easier to use so I rather find the bottleneck
[23:46:49] <programmerq> identify what the bottleneck is. what does it look like on top?
[23:47:04] <programmerq> is it hitting cpu? memory? wait average?
[23:47:08] <tabakhase> well first youre already only looking at a AVG value 
[23:47:26] <programmerq> are you setting resource limits on the containers?
[23:47:32] <tabakhase> and "what it meassures" is length of a que, with no information how "heavy" this que is
[23:47:41] *** Joins: cognoscente (~cognoscen@75-164-195-169.ptld.qwest.net)
[23:48:14] <tabakhase> hence why you can have hosts with 400 load "responding just fine" while also being able to "notice it" if it even just hits 1 or 2
[23:48:27] <bencc1> I'm not looking at "load"
[23:48:51] <bencc1> I'm looking at ideal in top and prometheus node-exporter
[23:48:52] *** Joins: mz` (~mz`@user/mz/x-8532539)
[23:49:03] <bencc1> idle
[23:49:26] <programmerq> look at the individual processes on the host instead of the whole-host idle
[23:49:32] <tabakhase> idle is kinda just the inverse to that
[23:50:07] <bencc1> all the chrome and ffmpeg processes increase "exponentially" when increasing the number of containers
[23:50:10] <programmerq> it could be that one instance is using way too much cpu. it could be that ram is getting hit hard. it could be that it's bottleneck is IO-related, all depending on the hardware in the system.
[23:50:38] <bencc1> I've switched to tmpfs and it didn't change anything
[23:50:41] <bencc1> I have 128GB of ram
[23:50:49] <bencc1> each container is using less then 1GB of ram
[23:50:50] <programmerq> okay, but still look at the system with tools like top
[23:50:55] <programmerq> and look at what is using what
[23:50:57] <bencc1> I did
[23:50:59] <tabakhase> clocks/CL on those sticks?
[23:51:19] <bencc1> the only thing I see is that the chrome processes cpu goes up in non linear way
[23:51:27] <bencc1> clocks/CL?
[23:51:52] <bencc1> amd 5950X cpu
[23:52:02] <tabakhase> `dmidecode --type 17`
[23:52:03] <bencc1> high clock, nvme, 128GB of ram...
[23:52:16] *** Quits: mz` (~mz`@user/mz/x-8532539) (Max SendQ exceeded)
[23:53:07] <tabakhase> also 5950X says 16 cores, not 32
[23:53:28] <bencc1> 16 cores / 32 threads
[23:53:40] <bencc1> physical/logical cores
[23:53:46] <bencc1> it's not the hardware. that I know
[23:53:53] *** Joins: weedmic (~weedmic@109-186-195-63.bb.netvision.net.il)
[23:53:58] <bencc1> tested on a powerful virtual machine on the cloud
[23:54:07] <bencc1> and on a dedicated machine with better hardware
[23:54:10] <bencc1> same result
[23:54:20] <bencc1> it's a software limitation which I can't find
[23:55:10] <tabakhase> i think you are just underestimating the overhead you get from context switching
[23:56:41] <bencc1> I won't have that overhead if I'll use VMs
[23:57:00] <tabakhase> (and i still wanne know what ram is in there, pls check with `dmidecode --type 17`)
[23:57:04] <bencc1> why? because 8 core VM in the cloud gives me half the performance of 32 core dedicated machine
[23:57:09] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[23:57:09] <rawtaz> bencc1: these guys are trying to help you by telling you what you should look closer at - a friendly advice is to try and follow up on their suggestions (i mean instead of just concluding that you have great hardware, which we dont doubt)
[23:58:05] <programmerq> what makes you assert that there's some overhead that docker is introducing here? docker just runs processes on your host. Use normal tools like htop, mem, iotop and other performance monitors to identify the problem.
[23:58:10] <bencc1> Speed: 2666 MT/s
[23:58:35] <bencc1> I don't know where the overhead is
[23:58:36] <programmerq> unless dockerd is using 10 cores...
[23:58:47] <programmerq> bencc1â–¸ that's why you should use performance tools to identify it
[23:58:54] <bencc1> but I'm almost certain that it's software overhead
[23:58:59] <programmerq> I didn't say it wasn't
[23:59:04] <bencc1> I agree
[23:59:10] <bencc1> I just don't know what to look for
[23:59:25] <programmerq> look at cpu, context switching, memory, and IO
[23:59:33] <bencc1> when using top I see that the chrome process use X cpu when running 1 container
[23:59:36] <programmerq> look at which processes are using up.
[23:59:45] <bencc1> and 1.5X cpu when running 4 containers
[23:59:57] <programmerq> okay, then look at context switches
