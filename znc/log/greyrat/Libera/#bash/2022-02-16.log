[00:00:14] <llua> the take away is to not us ls to get a list of filenames
[00:00:18] <llua> use&
[00:00:29] <emanuele6> you can keep it if you want it
[00:00:31] <akoana> forget using ls, use glob
[00:01:17] *** Quits: hentai (~hentai@user/hentai) (Ping timeout: 240 seconds)
[00:01:44] <mra90> ok, thank you guys for help
[00:02:24] <Soliton> using ls interactively is perfectly fine. it's just pretty much never useful in a script.
[00:02:57] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.4)
[00:03:24] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Remote host closed the connection)
[00:03:37] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[00:03:45] <mra90> yep thats the lesson leraned
[00:04:13] *** Joins: Betal (~Betal@user/betal)
[00:04:37] <mra90> what kind of glob should I use to list directories only
[00:04:48] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[00:04:48] <mra90> like dirs=(?)
[00:04:57] <emanuele6> dirs=(*/)
[00:05:21] <emanuele6> ? gets any file (of any kind, also directories) that is one character long
[00:05:30] <emanuele6> !glob > mra90
[00:05:30] <greybot> mra90: Globs are shell patterns that can be used for matching strings or expanding pathnames: [[ $name = Bob* ]]; rm -- *.txt; see http://mywiki.wooledge.org/glob
[00:05:47] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:1b5d:374a:816c:e903) (Ping timeout: 250 seconds)
[00:05:53] <mra90> right, I should have guessed. Thanks
[00:05:54] *** Quits: JanC (~janc@user/janc) (Remote host closed the connection)
[00:06:06] <emanuele6> or you could have read the wiki instead of guessing
[00:06:09] <emanuele6> */ is mentioneed
[00:06:12] *** Joins: JanC (~janc@user/janc)
[00:06:13] <emanuele6> s/ee/e/
[00:06:44] <tangy> !posix
[00:06:44] <greybot> The POSIX standard defines what any modern unix should support. Use just POSIX external commands and options to make portable scripts. See http://shellhaters.org
[00:06:57] <emanuele6> i could be mentioned more clearly though
[00:07:25] <emanuele6> s/i/it/
[00:07:39] *** evanextreme[away is now known as evanextreme
[00:07:43] <mra90> emanuele6, I skimmed over but haven't found it
[00:07:51] *** evanextreme is now known as evanextreme[away
[00:08:02] <emanuele6> > Just like '*', '**' followed by a '/' will only match directories:
[00:08:53] <mra90> yes but it is not said that explicitly on http://mywiki.wooledge.org/glob
[00:09:07] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[00:09:18] <mra90> I was searching for directory related things
[00:09:30] <vancz> >  echo "${PATH//:/$'\n'}"
[00:09:50] <greycat> (yuck)
[00:10:09] *** Joins: zeden (~zeden@user/zeden)
[00:10:25] *** Quits: zeden (~zeden@user/zeden) (Client Quit)
[00:10:25] <vancz> greycat: use tr instead or what?
[00:11:12] *** evanextreme[away is now known as evanextreme
[00:11:29] <greycat> give us some context.  why are you doing this echo with this parameter expansion?
[00:12:08] *** Quits: sobkas (~sobkas@95.175.17.217) (Ping timeout: 272 seconds)
[00:12:24] <vancz> oh I was just reading about parameter expansion and saw this as another way to show the contents of stuff like PATH in a more readable manner
[00:12:28] <greycat> if it's solely for human eyeballs ("this is your PATH, see how pretty") then it's fine
[00:12:38] <vancz> yeah basically
[00:13:00] <vancz> until now I've been using echo "$PATH" | tr
[00:13:28] <akoana> # IFS=: printf -- %s\\n $PATH
[00:13:30] <shbot> akoana: /usr/bin:/bin
[00:13:36] <vancz> which is i guess both easier to type and more readable so eh
[00:13:54] <greycat> akoana: not 100% safe
[00:14:07] <akoana> I see, yes
[00:14:16] *** Quits: thyriaen (~thyriaen@simnet-nat-pool-185-130-54-167.stargrpns.pp.ua) (Quit: Leaving)
[00:14:17] <greycat> I mean, even if you get it right.  It's still not 100% safe.
[00:14:46] <vancz> whats the problem
[00:15:04] *** Quits: BoBeR182 (~BoBeR182@gateway/tor-sasl/bober182) (Remote host closed the connection)
[00:15:06] <greycat> globbing (pathname expansion) occurs on the results of the unquoted expansion
[00:15:24] *** Joins: BoBeR182 (~BoBeR182@gateway/tor-sasl/bober182)
[00:15:27] <greycat> and sure, it's not *likely* that someone has glob characters in their PATH, but you never know
[00:15:39] <vancz> ah
[00:16:53] <emanuele6> you could use:    printf %s: "$PATH" | while IFS= read -rd: path; do ...; done   to iterate paths in PATH
[00:17:29] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[00:18:33] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[00:18:47] *** Quits: zer0bitz_ (~zer0bitz@2001:2003:f74d:b800:95ea:d1ff:55f2:9ea6) (Ping timeout: 250 seconds)
[00:19:25] <greycat> We the regulars in #bash just *assume* that someone is going to iterate over the results.  Just having them be shown on a screen *as* the final goal is surprising.
[00:19:29] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[00:19:39] *** Joins: rgrinberg (~textual@2806:101e:7:5da4:a506:183a:7675:98e5)
[00:19:40] <vancz> greycat: IDK how many people complain about likelihood, for me the problem is more that I never think of these edgecases
[00:20:01] <vancz> I guess I need to do a lot more bash
[00:20:41] <vancz> sadly its not like you can put a : in a path in PATH and expect it to work
[00:20:56] *** Joins: lavaball (felix@31.204.155.215)
[00:21:10] <vancz> what if we had array env vars? :P
[00:21:32] *** Quits: becks` (~becks`@bbcs-125-80.pub.wingo.ch) (Quit: Client closed)
[00:21:38] <emanuele6> > BUGS      Array variables may not (yet) be exported.
[00:22:12] *** Joins: sobkas (~sobkas@95.175.17.217)
[00:22:20] <emanuele6> also there is no way the OS would interpret PATH if it was a bash array.
[00:22:36] <vancz> thats what I meant
[00:22:47] <vancz> array env vars as an OS structure
[00:24:05] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[00:24:25] *** Quits: andril (~andril@097-068-232-130.biz.spectrum.com) (Ping timeout: 250 seconds)
[00:25:31] *** evanextreme is now known as evanextreme[away
[00:26:20] <greycat> pointless speculation; it's not going to happen
[00:27:29] <vancz> more like wishful thinking
[00:27:31] <vancz> anyway
[00:27:58] *** Quits: Mo (~Mo@dynamic-077-001-041-037.77.1.pool.telefonica.de) (Ping timeout: 272 seconds)
[00:28:15] <akoana> # nl=$'\n'; printf %s "${PATH//:/$nl}"
[00:28:16] <shbot> akoana: /usr/bin
[00:28:16] <shbot> akoana: /bin
[00:28:23] *** Joins: thiras (~thiras@user/thiras)
[00:29:21] <akoana> (can't put a literal new line here, so nl...)
[00:29:32] <vancz> why did you save it in a vari-...uhuh
[00:29:50] <greycat> # printf %s "${PATH//:/$'\n'}"
[00:29:51] <shbot> greycat: /usr/bin
[00:29:51] <shbot> greycat: /bin
[00:29:54] <vancz> actually no I still dont get it
[00:29:56] <vancz> yeah that
[00:30:09] <vancz> thats what I did earlier except with printf instead of echo
[00:30:11] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[00:30:28] <emanuele6> 3# printf %s "${PATH//:/$'\n'}"
[00:30:29] <shbot> emanuele6: /usr/bin
[00:30:30] <shbot> emanuele6: /bin
[00:30:49] <emanuele6> 2# printf %s "${PATH//:/$'\n'}"
[00:30:51] <shbot> emanuele6: /usr/bin'
[00:30:51] <shbot> emanuele6: '/bin
[00:31:04] <emanuele6> maybe for portability to bash2?
[00:31:14] <emanuele6> i am also not sure why akoana used a variable
[00:31:21] <greycat> even the Mac heads aren't that bad
[00:31:47] <grawity> hmm I remember the behavior of replacement patterns inside quoted substitution changed somewhere in bash 4, didn't it...
[00:31:57] <grawity> some of my scripts broke then
[00:32:06] *** Joins: Masterphi (~Masterphi@user/masterphi)
[00:34:06] <akoana> emanuele6: I used a literal newline like ... "${PATH//:/<enter>}"   in the terminal, don't know how to do that here with shbot so...
[00:34:14] *** Quits: SkyLeach (~SkyLeach@2603-6081-2500-5200-f95a-2446-1000-3530.res6.spectrum.com) (Quit: Leaving)
[00:34:29] <greycat> that's probably not gonna work
[00:34:30] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 252 seconds)
[00:34:42] <llua> printf '%s\n' '"${PATH//:/' '}"' | bash
[00:34:42] <akoana> I does here
[00:34:47] <emanuele6> akoana: but why did you use a variable?
[00:35:00] <emanuele6> it's not like ${var/pat/repl} is POSIX anyway
[00:35:04] <greycat> "because it looked like a good idea"?
[00:35:08] *** Quits: BoBeR182 (~BoBeR182@gateway/tor-sasl/bober182) (Remote host closed the connection)
[00:35:19] <vancz> inb4 their terminal shows $'\n' as a newline or something :p
[00:35:23] <Nintendo> "${PATH//:/
[00:35:25] <Nintendo> }"
[00:35:33] <Nintendo> Because if akoana didn't use a variable, it would have been that.
[00:35:41] <greycat> *sigh*
[00:35:42] <greycat> no
[00:35:55] * Nintendo is just guessing.
[00:36:10] <vancz> im very confused why people dont understand whats happening
[00:36:21] <vancz> is it just lack of familiarity with $'' syntax?
[00:36:36] <greycat> welcome to IRC in general, and #bash specifically
[00:36:39] <akoana> printf %s "${PATH//:/$nl}
[00:36:40] <akoana> "
[00:36:59] *** Quits: nunggu_ (~q@user/nunggu) (Remote host closed the connection)
[00:37:12] <vancz> like
[00:37:20] <vancz> you literally did nl=$'\n'
[00:37:26] <vancz> and then you used $nl
[00:37:34] *** Joins: yustin (~yustin@user/yustin)
[00:37:41] <vancz> instead of using $nl you can just use $'\n' directly
[00:37:41] *** Joins: nunggu_ (~q@user/nunggu)
[00:38:40] <vancz> (out of curiosity, what order does that get expanded in?)
[00:38:52] <akoana> sure, but you even use a newline(in the terminal, or in a script  and then }" # without $'\n'
[00:39:18] *** Quits: karabaja4 (~karabaja4@dh207-92-143.xnet.hr) (Quit: leaving)
[00:39:26] <vancz> *but you can
[00:39:28] <vancz> ftfy?
[00:39:43] *** Quits: XV8 (~XV8@2601:5cb:c001:50:f0aa:7328:41:624f) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:39:44] <emanuele6> !irc
[00:39:45] <greybot> IRC. You will never find a more wretched hive of dumb and futility.
[00:40:01] <vancz> hey im usually on the dumb side haha
[00:40:15] <vancz> and akoana doesnt seem completely clueless so I figured I'm missing something
[00:40:27] *** Joins: XV8 (~XV8@2601:5cb:c001:50:f0aa:7328:41:624f)
[00:40:36] * vancz continues https://guide.bash.academy/expansions/
[00:40:52] <greycat> that project still exists?
[00:41:24] <vancz> also bash just has too many damn edgecases :P
[00:41:41] <vancz> Its going to be a long time till I remember to / understand to use the printf read construction for anything
[00:41:54] <vancz> greycat: it exists its just not been updated for a while
[00:42:07] <vancz> the first two chapters seem good
[00:42:18] <vancz> * - and are the ones that exist
[00:42:30] *** Quits: Masterphi (~Masterphi@user/masterphi) (Quit: Masterphi)
[00:42:32] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 272 seconds)
[00:42:35] <greycat> front page of guide.bash.academy still points to freenode instead of libera
[00:43:07] <vancz> I kind of wonder if lhunath might have been better off working on the book instead of his password manager thing
[00:45:42] <akoana> Nintendo: yes, that's what I wanted to show *and* execute - and failed :)
[00:46:47] *** Joins: Masterphi (~Masterphi@user/masterphi)
[00:47:37] *** Joins: zeden (~zeden@user/zeden)
[00:47:48] <Nintendo> Thank you for the acknowledgement.  That's definitely an equivalent way of doing it (less typing, too).
[00:48:04] <akoana> hehe, yeah
[00:48:07] *** Quits: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Quit: l4s8g_)
[00:48:47] <akoana> and very visible for people not so familiar with $'...'
[00:50:36] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Ping timeout: 240 seconds)
[00:55:11] *** Joins: karabaja4 (~karabaja4@dh207-92-143.xnet.hr)
[00:55:53] <Pinchiukas> clo
[00:55:55] *** Parts: Pinchiukas (~keps@128.29.231.35.bc.googleusercontent.com) (WeeChat 2.8)
[01:02:34] *** Joins: neshpion (~neshpion@gateway/tor-sasl/neshpion)
[01:05:00] *** Quits: sobkas (~sobkas@95.175.17.217) (Ping timeout: 240 seconds)
[01:06:10] *** Quits: Kyuzo68 (~Kyuzo@host-79-50-11-227.retail.telecomitalia.it) (Quit: Konversation terminated!)
[01:07:50] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:08:22] *** Joins: Kyuzo68 (~Kyuzo@host-79-50-11-227.retail.telecomitalia.it)
[01:10:24] *** Quits: adac (~adac@213-47-252-7.cable.dynamic.surfer.at) (Ping timeout: 272 seconds)
[01:11:21] *** Quits: ackyshake (~ackyshake@user/ackyshake) (Ping timeout: 252 seconds)
[01:11:21] *** Quits: troyt (troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e) (Ping timeout: 252 seconds)
[01:11:29] *** Quits: betuxy (~betuxy@p579adb74.dip0.t-ipconnect.de) (Quit: Connection closed)
[01:15:29] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[01:18:40] *** Joins: kill (~killown@user/killown)
[01:18:56] *** Quits: magla (~gelignite@d536370e.access.ecotel.net) (Quit: Stay safe!)
[01:21:12] *** Joins: troyt (troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e)
[01:22:03] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[01:22:22] *** Joins: thiras (~thiras@user/thiras)
[01:22:30] *** Joins: rcernin (~rcernin@124.190.132.36)
[01:24:50] *** Joins: YaoNai (~YaoNai@user/yaonai)
[01:29:12] <vancz> > ${parameter[^|^^|,|,,][pattern]}
[01:29:12] <vancz> > Expand the transformed value, either upper-casing or lower-casing the first or all characters that match the pattern. You can omit the pattern to match any character.
[01:29:22] <vancz> well...ok.
[01:29:33] <neshpion> # a=yeet; echo "${a^^}"
[01:29:34] <vancz> some weird stuff in here
[01:29:36] <shbot> neshpion: YEET
[01:30:50] *** Quits: Minvera (~Minvera@user/Minvera) (Quit: Leaving)
[01:31:42] *** Quits: mra90 (~mra@192.55.54.53) (Ping timeout: 252 seconds)
[01:32:43] *** Quits: YaoNai (~YaoNai@user/yaonai) (Quit: leaving)
[01:33:03] *** Joins: YaoNai (~YaoNai@user/yaonai)
[01:34:01] *** Quits: off^ (~off@50.235.176.163) (Remote host closed the connection)
[01:34:31] <emanuele6> # a=yeet; echo "${a^^[!e]}"
[01:34:33] <shbot> emanuele6: YeeT
[01:34:47] *** Quits: rgrinberg (~textual@2806:101e:7:5da4:a506:183a:7675:98e5) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:36:53] *** Joins: rgrinberg (~textual@2806:101e:7:5da4:a506:183a:7675:98e5)
[01:38:36] *** Quits: carl- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se) (Ping timeout: 240 seconds)
[01:39:24] *** Quits: masoudd (~masoudd@user/masoudd) (Ping timeout: 252 seconds)
[01:40:00] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[01:40:35] *** Joins: unop (~unop@195.91.14.193)
[01:42:35] *** Joins: dsrt^ (~dsrt@50.235.176.163)
[01:44:54] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[01:45:37] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Remote host closed the connection)
[01:45:55] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[01:46:36] *** Quits: rgrinberg (~textual@2806:101e:7:5da4:a506:183a:7675:98e5) (Ping timeout: 240 seconds)
[01:52:06] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[01:54:43] *** Quits: wurstwasser (~frank.hol@2001:a61:34a7:b001:d6cc:cf2e:b4b5:78ac) (Remote host closed the connection)
[01:54:55] *** Joins: wurstwasser (~frank.hol@2001:a61:34a7:b001:7e97:3ba7:84cb:953b)
[01:57:13] *** Quits: wurstwasser (~frank.hol@2001:a61:34a7:b001:7e97:3ba7:84cb:953b) (Remote host closed the connection)
[01:57:51] *** Quits: YaoNai (~YaoNai@user/yaonai) (Remote host closed the connection)
[02:00:05] *** Joins: mra90 (~mra@192.55.54.53)
[02:02:23] *** Quits: moldorcoder7_ (~moldorcod@37.120.143.29) (Ping timeout: 256 seconds)
[02:02:32] *** Quits: Bombo (atom@user/bombo) (Ping timeout: 240 seconds)
[02:03:43] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[02:03:58] <mra90> if I go with time(sth); then that sth is run in a subshell right?
[02:04:13] <mra90> so I want be able to call for sth after time is done?
[02:04:20] *** Joins: Bombo (atom@p2e58ed0f.dip0.t-ipconnect.de)
[02:04:20] *** Quits: Bombo (atom@p2e58ed0f.dip0.t-ipconnect.de) (Changing host)
[02:04:20] *** Joins: Bombo (atom@user/bombo)
[02:05:20] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) ()
[02:05:26] *** Joins: moldorcoder7 (~moldorcod@37.120.143.29)
[02:07:09] *** Quits: Kyuzo68 (~Kyuzo@host-79-50-11-227.retail.telecomitalia.it) (Quit: Konversation terminated!)
[02:08:02] *** Quits: Masterphi (~Masterphi@user/masterphi) (Quit: Masterphi)
[02:08:30] <e36freak> huh?
[02:09:39] <vancz> > EXPAN.8. Show the contents of the variable greeting with the middle word fully upper-cased.
[02:10:14] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:10:25] <vancz> why doesnt this do anything?:
[02:10:34] <vancz> # grt="hello big world"; echo "${grt^ *}"
[02:10:35] <shbot> vancz: hello big world
[02:10:53] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[02:10:56] <vancz> the syntax is explained as: ${parameter[^|^^|,|,,][pattern]}
[02:12:30] <vancz> oh
[02:12:33] <vancz> the bash man page says:
[02:12:43] <vancz> > Each character in the expanded value of  parameter is tested against pattern, and, if it matches the pattern, its case is converted.  The pattern should not attempt to match more than one character.
[02:12:46] <tirnanog> it doesn't match the pattern.
[02:13:43] <emanuele6> it checks the individual characters
[02:14:12] <vancz> I see that now
[02:14:17] <emanuele6> ` *' can only possibly match " " characters and is the same as ` '
[02:14:54] <emanuele6> and it doesn't make much sense to do it anyway since ` ' does not have an uppercase version
[02:15:04] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) (Read error: Connection reset by peer)
[02:15:34] <emanuele6> vancz: the main use (which is not really popular anyway, ^|^^|,|,, are mostly used without patterns) is something like:
[02:15:49] *** Quits: bluedust (~bluedust@103.161.144.138) (Remote host closed the connection)
[02:16:00] <emanuele6> ${var^^[a-f]} or ${var^^[fjkz]}
[02:16:29] <emanuele6> or maybe ${var^^"$char"} or ${var^^@([a-f]|"$char")}
[02:16:45] *** Joins: Masterphi (~Masterphi@user/masterphi)
[02:16:54] *** Quits: evanextreme[away (~evan@2604:4080:1000:8150:7950:a9e:9213:5d03) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:17:55] *** Quits: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke) (Ping timeout: 240 seconds)
[02:17:56] *** Quits: howdoi (uid224@id-224.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[02:18:03] <emanuele6> by the way, there are some undocumented bash parameter expansion: ${par~[pattern]} and ${par~~[pattern]}
[02:18:37] <emanuele6> they are like ^ and , but convert lowercase to uppercase and uppercase to lowercase
[02:19:00] *** Quits: jmew (~jmew___@user/jmew) (Ping timeout: 240 seconds)
[02:19:04] <emanuele6> they are undocumented and can be disabled at compile time, but they are enabled by default
[02:21:00] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 240 seconds)
[02:21:15] <vancz> lol
[02:21:37] <vancz> this seems like a rather obscure feature in general
[02:21:42] *** Joins: ackyshake (~ackyshake@user/ackyshake)
[02:21:43] <vancz> of all the things why case swapping
[02:21:56] <emanuele6> ¯\_(ツ)_/¯
[02:21:57] <vancz> i mean all of ^ and , not just ~
[02:22:23] <vancz> is this some historical thing or did someone actually OK this feature request and or merge it
[02:22:27] <emanuele6> ${^^} or ${,,} are useful to compare strings case insensitively
[02:22:36] <Earnestly> wrangling strings is the heart of what the shell does, it'd be nice to have such features
[02:22:37] <vancz> hm. I guess.
[02:22:55] <Earnestly> I do miss / and // PEs
[02:22:56] <vancz> Earnestly: yeah but then Id like more general support not just case manipulation
[02:23:07] <Earnestly> vancz: It's not a programming language
[02:23:14] <neshpion> Earnestly: miss them?
[02:23:18] <vancz> then arent you kind of stuck?
[02:23:19] <Earnestly> neshpion: not posix
[02:23:20] <emanuele6> neshpion: in POSIX
[02:23:22] <neshpion> oh
[02:23:36] <emanuele6> in bash5.2, we also have ${var/pattern/replacement} :^)
[02:23:50] <vancz> I don't know perl but I suppose perl is what you get when you turn bash into a programming language?
[02:23:57] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[02:24:19] <llua> nah
[02:24:25] <emanuele6> i mean:  var='abacus'   var=${var//[bc]/'\'&}   ->    var='a\ba\cus'
[02:24:26] <neshpion> scraping the edges of bash's capabilities while writing a parallelized image downloader gave me an interest in learning perl, but i came up against how lazy i am
[02:24:38] *** Joins: karakedi (~eAC53C340@user/karakedi)
[02:24:44] <vancz> haha
[02:24:46] <tirnanog> vancz: no.
[02:25:28] <neshpion> if bash isn't a programming language, what is it missing from that definition? i mean, i've written programs in bash...
[02:25:50] <Earnestly> vancz: perl is more or less what happens when you combine awk, grep, sed, etc. into a language; as was what larry wall claimed its purpose to be
[02:26:01] <vancz> ah
[02:26:58] <Earnestly> And perl is rob pike claimed to deliver unix's euology
[02:27:00] <tirnanog> it does have some elements that appear to have been inspired by the shell but it's really quite different.
[02:27:13] *** Quits: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net) (Quit: dtux)
[02:27:17] * neshpion sets perl as his default shell
[02:27:25] <Earnestly> neshpion: That's a repl
[02:27:26] <emanuele6> perl is not a shell
[02:27:36] <neshpion> okay fine i'll switch it back to python
[02:27:55] <vancz> cross tcl and bash
[02:28:06] <Earnestly> You might argue distinction, which is fine.  They're all universal; go that high and all distinctions disappear
[02:28:20] <Earnestly> vancz: tcl is closer to evolution of shell
[02:28:26] <tirnanog> being able to express qx operator in the form of backticks being one of the most prominent examples.
[02:28:32] <vancz> oh the humanity
[02:28:43] <Earnestly> Although tcl lacks pipes
[02:28:50] <emanuele6> Earnestly: that is not ture
[02:28:50] <Earnestly> But tcl is sneaky
[02:28:55] <Earnestly> tcl is lisp
[02:28:58] <Earnestly> In disguise
[02:29:01] <vancz> :O
[02:29:19] <Earnestly> upvars are terrifying to me, but then so is lisp.  Limitless, no constraints
[02:29:24] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[02:29:39] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 250 seconds)
[02:29:43] <Earnestly> emanuele6: It is true, not to the degree that you can implement them using preverbial pipe(2)
[02:29:52] <vancz> bash is terrifying to me, limitless, a grue around every corner
[02:29:53] <Earnestly> There are libraries which add DSLs
[02:30:00] <emanuele6> Earnestly:   no
[02:30:01] <Earnestly> vancz: bash is very limiting
[02:30:08] <Earnestly> posix is more so, so i like that
[02:30:23] <emanuele6> exec printf {%s\n} hi hello | grep i
[02:30:26] <emanuele6> that is valid tcl
[02:30:38] <emanuele6> the exec command has pipe syntax
[02:30:38] <Earnestly> vancz: Think of the shell as a 'command language', not much difference but it helps to stop programming mindset creeping in and turning shell scripts into 3000 line monsters
[02:30:43] <emanuele6> also redirection syntax
[02:31:04] <emanuele6> you don't need to build pipelines with open (you can, but you don't need to do that)
[02:31:14] <neshpion> hmm, my longest shell program is 697 lines
[02:31:17] <Earnestly> emanuele6: Yeah that's not pipes
[02:31:21] <emanuele6> why not?
[02:31:26] <vancz> Earnestly: I dont know if I can make much sense of that
[02:31:32] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[02:31:47] *** Joins: smrtz (~smrtz@user/smrtz)
[02:31:56] <emanuele6> it is not running code into a shell
[02:31:57] <vancz> though it does make scripts make a bit more sense
[02:32:02] <emanuele6> it is building the pipe
[02:32:27] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[02:32:32] <vancz> informed by something i read at some point (probably guide.bash.academy)
[02:33:01] *** Joins: abf (~abf@user/abf)
[02:33:46] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[02:34:37] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[02:35:17] *** Quits: l4yer (~l4yer@2001:ac8:31:8900:1012:9968:6473:e574) (Ping timeout: 250 seconds)
[02:35:48] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 240 seconds)
[02:36:17] *** Joins: simpl_e (~user@user/simpl-e/x-8589812)
[02:36:38] *** Quits: Masterphi (~Masterphi@user/masterphi) (Quit: Masterphi)
[02:36:46] <emanuele6> Earnestly: i don't get why you think these are not pipes  https://0x0.st/o8B8.txt
[02:37:04] <Earnestly> emanuele6: I mentioned above pipe(2), tcl has channels and such as well.  What I mean is being able to use a DSL (like | ) to chain commands, agnostic to whether it's a tcl command or external.  People have made DSLs for this, which are nice
[02:37:09] *** Quits: ackyshake (~ackyshake@user/ackyshake) (Ping timeout: 252 seconds)
[02:37:19] *** Joins: Masterphi (~Masterphi@user/masterphi)
[02:37:46] <emanuele6> i see
[02:38:21] <Earnestly> But because tcl is basically lisp, you can do anything
[02:38:52] *** Joins: rgrinberg (~textual@2806:101e:7:5da4:81fd:dc83:46f:8469)
[02:38:58] *** Quits: n4dir (~user@88.130.152.107) (Remote host closed the connection)
[02:39:25] *** Joins: ackyshake (~ackyshake@user/ackyshake)
[02:40:18] <Earnestly> vancz: Look up tcl uplevel and upvar
[02:40:37] <Earnestly> vancz: Or read http://antirez.com/articoli/tclmisunderstood.html
[02:42:24] *** Quits: ackyshake (~ackyshake@user/ackyshake) (Read error: Connection reset by peer)
[02:42:49] *** Joins: ackyshake (~ackyshake@user/ackyshake)
[02:46:43] *** Joins: XV9 (~XV8@2601:5cb:c001:50:f0aa:7328:41:624f)
[02:46:59] *** Quits: Masterphi (~Masterphi@user/masterphi) (Quit: Masterphi)
[02:47:01] *** Quits: karabaja4 (~karabaja4@dh207-92-143.xnet.hr) (Remote host closed the connection)
[02:47:36] *** Joins: Masterphi (~Masterphi@user/masterphi)
[02:48:07] *** Joins: dub_a (~dub_a@static-198-54-131-86.cust.tzulo.com)
[02:49:08] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) ()
[02:49:11] *** Joins: chenqisu12 (~chenqisu1@183.217.200.249)
[02:49:29] *** Quits: dub_a (~dub_a@static-198-54-131-86.cust.tzulo.com) (Client Quit)
[02:49:39] *** Quits: smrtz (~smrtz@user/smrtz) (Ping timeout: 256 seconds)
[02:51:28] *** Quits: rgrinberg (~textual@2806:101e:7:5da4:81fd:dc83:46f:8469) (*.net *.split)
[02:51:28] *** Quits: XV8 (~XV8@2601:5cb:c001:50:f0aa:7328:41:624f) (*.net *.split)
[02:51:28] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (*.net *.split)
[02:51:28] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (*.net *.split)
[02:51:28] *** Quits: bomb-on (~bomb-on@194.144.47.113) (*.net *.split)
[02:51:28] *** Quits: mongrel (uid508343@id-508343.ilkley.irccloud.com) (*.net *.split)
[02:51:28] *** Quits: Strom (strom@fedora/strom) (*.net *.split)
[02:51:28] *** Quits: foul_owl (~kerry@207.244.125.36) (*.net *.split)
[02:51:28] *** Quits: dirigible (~dirigible@2607:9000:0:3:36a4:cf80:2f7b:6990) (*.net *.split)
[02:51:28] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (*.net *.split)
[02:51:28] *** Quits: defjam (~eb0t@90.196.141.185) (*.net *.split)
[02:51:28] *** Quits: wwilliam (~afernande@user/wwilliam) (*.net *.split)
[02:51:28] *** Quits: JyZyXy (~jyz@88-114-83-213.elisa-laajakaista.fi) (*.net *.split)
[02:51:28] *** Quits: ds (~ds@user/ds) (*.net *.split)
[02:51:28] *** Quits: itu (~wp@wikipedia/itu) (*.net *.split)
[02:51:28] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (*.net *.split)
[02:51:28] *** Quits: hendry (~hendry@210.23.22.2) (*.net *.split)
[02:51:28] *** Quits: mrlemke (~quassel@2604:a880:4:1d0::394:0) (*.net *.split)
[02:51:28] *** Quits: bertptrs (~quassel@user/bertptrs) (*.net *.split)
[02:51:28] *** Quits: mixfix41 (~sdenyninn@user/mixfix41) (*.net *.split)
[02:51:28] *** Quits: nanowire (rob@user/nanowire) (*.net *.split)
[02:51:28] *** Quits: jlc (~jlc@cpe-107-15-173-212.nc.res.rr.com) (*.net *.split)
[02:51:28] *** Quits: bkhl (~bkhl@user/bkhl) (*.net *.split)
[02:51:28] *** Quits: aphorise (~aphorise@82-75-255-36.cable.dynamic.v4.ziggo.nl) (*.net *.split)
[02:51:28] *** Quits: rkta (~rkta@2001:4ba0:cafe:eaf::1) (*.net *.split)
[02:51:28] *** Quits: rdrg109 (~rdrg109@user/rdrg109) (*.net *.split)
[02:51:28] *** Quits: MetaNova (zero-one@znc/supporter/metanova) (*.net *.split)
[02:51:28] *** Quits: woky (~woky@li1651-31.members.linode.com) (*.net *.split)
[02:51:28] *** Quits: itok (sid418430@ilkley.irccloud.com) (*.net *.split)
[02:51:28] *** Quits: Pent (sid313808@lymington.irccloud.com) (*.net *.split)
[02:51:28] *** Quits: finsternis (~X@23.226.237.192) (*.net *.split)
[02:51:28] *** Quits: PaulePanter (~paul@mail.gw90.de) (*.net *.split)
[02:51:28] *** Quits: tedster (~Tedster@rampage.tedster.net) (*.net *.split)
[02:51:28] *** Quits: sybariten (~jake@157.90.217.120) (*.net *.split)
[02:51:28] *** Quits: LambdaComplex (~adam@wireguard/tunneler/lambdacomplex) (*.net *.split)
[02:51:28] *** Quits: Henry151 (~bishop@user/henry151) (*.net *.split)
[02:51:28] *** Quits: supernovah (~supernova@mail.ijk.nz) (*.net *.split)
[02:51:28] *** Quits: simoneb_ (~simone@static.39.20.203.116.clients.your-server.de) (*.net *.split)
[02:51:28] *** Quits: A_Dragon (A_D@libera/staff/dragon) (*.net *.split)
[02:51:28] *** Quits: tarzeau (~alex@mail.aiei.ch) (*.net *.split)
[02:51:28] *** Quits: CRThaze1 (~weechat@188.166.44.58) (*.net *.split)
[02:51:28] *** Quits: Dev0n (~Dev0n@user/dev0n) (*.net *.split)
[02:51:33] *** Quits: NoelFlantier3 (~Hubert@195.201.244.189) (Remote host closed the connection)
[02:51:58] *** Joins: NoelFlantier3 (~Hubert@195.201.244.189)
[02:52:02] *** Joins: MetaNova (zero-one@znc/supporter/metanova)
[02:53:47] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[02:53:47] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[02:53:47] *** Joins: mongrel (uid508343@id-508343.ilkley.irccloud.com)
[02:53:47] *** Joins: Strom (strom@fedora/strom)
[02:53:47] *** Joins: foul_owl (~kerry@207.244.125.36)
[02:53:47] *** Joins: dirigible (~dirigible@2607:9000:0:3:36a4:cf80:2f7b:6990)
[02:53:47] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[02:53:47] *** Joins: defjam (~eb0t@90.196.141.185)
[02:53:47] *** Joins: wwilliam (~afernande@user/wwilliam)
[02:53:47] *** Joins: JyZyXy (~jyz@88-114-83-213.elisa-laajakaista.fi)
[02:53:47] *** Joins: ds (~ds@user/ds)
[02:53:47] *** Joins: itu (~wp@wikipedia/itu)
[02:53:47] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[02:53:47] *** Joins: hendry (~hendry@210.23.22.2)
[02:53:47] *** Joins: mrlemke (~quassel@2604:a880:4:1d0::394:0)
[02:53:47] *** Joins: bertptrs (~quassel@user/bertptrs)
[02:53:47] *** Joins: mixfix41 (~sdenyninn@user/mixfix41)
[02:53:47] *** Joins: nanowire (rob@user/nanowire)
[02:53:47] *** Joins: jlc (~jlc@cpe-107-15-173-212.nc.res.rr.com)
[02:53:47] *** Joins: bkhl (~bkhl@user/bkhl)
[02:53:47] *** Joins: aphorise (~aphorise@82-75-255-36.cable.dynamic.v4.ziggo.nl)
[02:53:47] *** Joins: rkta (~rkta@2001:4ba0:cafe:eaf::1)
[02:53:47] *** Joins: rdrg109 (~rdrg109@user/rdrg109)
[02:53:47] *** Joins: woky (~woky@li1651-31.members.linode.com)
[02:53:47] *** Joins: itok (sid418430@ilkley.irccloud.com)
[02:53:47] *** Joins: Pent (sid313808@lymington.irccloud.com)
[02:53:47] *** Joins: finsternis (~X@23.226.237.192)
[02:53:47] *** Joins: PaulePanter (~paul@mail.gw90.de)
[02:53:47] *** Joins: tedster (~Tedster@rampage.tedster.net)
[02:53:47] *** Joins: sybariten (~jake@157.90.217.120)
[02:53:47] *** Joins: LambdaComplex (~adam@wireguard/tunneler/lambdacomplex)
[02:53:47] *** Joins: Henry151 (~bishop@user/henry151)
[02:53:47] *** Joins: tarzeau (~alex@mail.aiei.ch)
[02:53:47] *** Joins: supernovah (~supernova@mail.ijk.nz)
[02:53:47] *** Joins: simoneb_ (~simone@static.39.20.203.116.clients.your-server.de)
[02:53:47] *** Joins: A_Dragon (A_D@libera/staff/dragon)
[02:53:47] *** Joins: CRThaze1 (~weechat@188.166.44.58)
[02:53:47] *** Joins: Dev0n (~Dev0n@user/dev0n)
[02:53:47] *** Quits: mixfix41 (~sdenyninn@user/mixfix41) (Max SendQ exceeded)
[02:53:47] *** Quits: finsternis (~X@23.226.237.192) (Max SendQ exceeded)
[02:53:47] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Max SendQ exceeded)
[02:53:47] *** Quits: rdrg109 (~rdrg109@user/rdrg109) (Max SendQ exceeded)
[02:53:55] *** Quits: zouhair (~zouhair@lnsm3-montreal02-142-118-91-200.internet.virginmobile.ca) (Quit: KVIrc 5.0.1 Aria http://www.kvirc.net/)
[02:53:57] <vancz> Earnestly: thanks this looks interesting
[02:54:05] *** Joins: rdrg109 (~rdrg109@user/rdrg109)
[02:54:10] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[02:54:20] *** Joins: finsternis (~X@23.226.237.192)
[02:54:31] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[02:55:13] *** Joins: arinov (~arinov@213.194.126.155)
[02:56:52] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) (Client Quit)
[02:56:57] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Ping timeout: 250 seconds)
[02:57:23] *** Quits: itok (sid418430@ilkley.irccloud.com) (Ping timeout: 250 seconds)
[02:57:36] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[02:57:41] <Earnestly> emanuele6: fwiw https://okmij.org/ftp/Computation/monadic-shell.html
[02:58:41] *** Quits: hendry (~hendry@210.23.22.2) (Ping timeout: 250 seconds)
[02:59:14] *** Joins: itok (sid418430@id-418430.ilkley.irccloud.com)
[02:59:29] *** Joins: hendry (~hendry@210.23.22.2)
[02:59:58] *** Quits: Bercik (~Redomen@user/bercik) (Ping timeout: 272 seconds)
[03:00:45] *** Joins: evanextreme[away (~evan@2604:4080:1000:8150:7950:a9e:9213:5d03)
[03:00:47] *** Quits: neshpion (~neshpion@gateway/tor-sasl/neshpion) (Quit: neshpion)
[03:01:42] *** Quits: evanextreme[away (~evan@2604:4080:1000:8150:7950:a9e:9213:5d03) (Client Quit)
[03:08:54] *** Quits: chenqisu12 (~chenqisu1@183.217.200.249) (Read error: Connection reset by peer)
[03:09:58] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[03:12:00] *** Joins: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp)
[03:15:02] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:16:02] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Read error: Connection reset by peer)
[03:16:09] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:16:25] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[03:18:57] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[03:20:02] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:52] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 272 seconds)
[03:21:39] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:22:55] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 240 seconds)
[03:25:23] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[03:28:21] *** Joins: igemnace (~ian@user/igemnace)
[03:28:52] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Remote host closed the connection)
[03:32:36] <OnlineCop> I was fiddling around with LESS_TERMCAP_* to color my `less` output, and now for some reason, `git branch` is paging even 2-3 lines of output. Is there a way to see which of my environment variables is causing that?
[03:33:17] <omegatron> sure, look at the source code of the program ..
[03:34:36] *** Joins: evanextreme (~evan@64.187.160.183)
[03:35:14] *** Quits: edlou (uid413273@id-413273.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[03:38:10] *** Joins: zouhair (~zouhair@lnsm3-montreal02-142-118-91-200.internet.virginmobile.ca)
[03:38:20] *** Quits: rufo (~phil@186-79-29-179.baf.movistar.cl) (Remote host closed the connection)
[03:39:48] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) (Ping timeout: 240 seconds)
[03:42:38] *** Quits: evanextreme (~evan@64.187.160.183) (Read error: Connection reset by peer)
[03:42:47] <Riviera> !debug > OnlineCop
[03:42:47] <greybot> OnlineCop: Debugging requires a good dose of common sense. See http://mywiki.wooledge.org/BashGuide/Practices#Debugging for tips.
[03:43:12] <Riviera> OnlineCop: And, since you are a git user, perhaps git bisect can give you a hint.
[03:43:33] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[03:43:54] <OnlineCop> Sadly, I doubt git bisect would be able to help with this problem.
[03:44:32] *** Joins: evanextreme (~evan@64.187.160.183)
[03:45:10] *** Joins: andril (~andril@097-068-232-130.biz.spectrum.com)
[03:46:12] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 272 seconds)
[03:51:02] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.4)
[03:52:09] *** Joins: ferdna (~ferdna@user/ferdna)
[03:54:52] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[04:02:13] *** Quits: Masterphi (~Masterphi@user/masterphi) (Quit: Masterphi)
[04:06:00] *** Joins: Tangent-Man (~Tang3nt-M@cpc145602-basl14-2-0-cust33.20-1.cable.virginm.net)
[04:06:41] *** Joins: thiras (~thiras@user/thiras)
[04:08:03] *** evanextreme is now known as evanextreme[away
[04:08:03] *** Quits: evanextreme[away (~evan@64.187.160.183) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:11:28] *** Quits: freep (~freepppp@193.92.35.32.dsl.dyn.forthnet.gr) (Read error: Connection reset by peer)
[04:11:37] *** Joins: jensen (~jensen@65.78.100.184)
[04:17:14] *** Quits: N4buc0- (~N4buc0@177.42.101.69) (Ping timeout: 272 seconds)
[04:18:23] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[04:19:16] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[04:20:14] <OnlineCop> Found it. I had `export LESS='--RAW-CONTROL-CHARS'` and for some reason, that made less want to page absolutely everything.
[04:20:33] *** Quits: andril (~andril@097-068-232-130.biz.spectrum.com) (Ping timeout: 252 seconds)
[04:21:07] *** Joins: andril (~andril@097-068-232-130.biz.spectrum.com)
[04:29:09] *** Joins: carlos (~pum@user/carlos)
[04:33:44] *** Quits: Kruppt (~Kruppt@50.111.17.210) (Quit: Leaving)
[04:34:15] *** Quits: demonbane (~demonbane@71.247.72.217) (Ping timeout: 256 seconds)
[04:34:53] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[04:35:18] *** Joins: A|an (~Alan@173.218.175.171)
[04:35:49] *** Joins: demonbane (~demonbane@pool-108-54-156-90.nycmny.fios.verizon.net)
[04:39:48] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 252 seconds)
[04:41:39] *** Quits: abf (~abf@user/abf) (Quit: Leaving)
[04:45:50] *** Joins: crashrep (~crashrep@user/crashrep)
[04:48:50] <Nintendo> I wonder if that was actually a git issue.  Did you test using less without git?
[04:49:40] *** Joins: Bercik (~Redomen@89-73-136-211.dynamic.chello.pl)
[04:49:41] *** Quits: Bercik (~Redomen@89-73-136-211.dynamic.chello.pl) (Changing host)
[04:49:41] *** Joins: Bercik (~Redomen@user/bercik)
[04:50:51] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[04:51:32] *** Quits: SWISSMANN (~SWISSMANN@2001-4dd2-5e3c-0-df30-62d1-7594-7534.ipv6dyn.netcologne.de) (Quit: WeeChat 3.4)
[04:52:36] *** Quits: mra90 (~mra@192.55.54.53) (Ping timeout: 240 seconds)
[04:58:23] *** Quits: jaysicks (~jaysicks@185-29-82-222.pool.digikabel.hu) (Remote host closed the connection)
[04:58:57] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[05:01:12] *** Joins: Hackerpcs (~user@user/hackerpcs)
[05:01:28] *** Quits: Hackerpcs (~user@user/hackerpcs) (Max SendQ exceeded)
[05:02:35] *** Joins: Hackerpcs (~user@user/hackerpcs)
[05:04:48] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[05:05:02] *** Joins: chenqisu1 (~chenqisu1@183.217.200.249)
[05:06:58] *** Quits: rya (~ry@user/rya) (Ping timeout: 250 seconds)
[05:07:24] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 240 seconds)
[05:07:41] *** Quits: XV9 (~XV8@2601:5cb:c001:50:f0aa:7328:41:624f) (Quit: Textual IRC Client: www.textualapp.com)
[05:07:54] *** Quits: andril (~andril@097-068-232-130.biz.spectrum.com) (Ping timeout: 272 seconds)
[05:12:08] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[05:13:54] *** Joins: Betal (~Betal@user/betal)
[05:16:42] *** Joins: rya (~ry@user/rya)
[05:17:08] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[05:17:08] *** Joins: skapate (~Skapata@2804:14c:87b0:9d2e:58f5:a83c:3a8a:25e6)
[05:17:08] *** Quits: skapate (~Skapata@2804:14c:87b0:9d2e:58f5:a83c:3a8a:25e6) (Changing host)
[05:17:08] *** Joins: skapate (~Skapata@user/skapata)
[05:18:51] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 252 seconds)
[05:19:32] <twb> OnlineCop: I don't know if less allows long options in $LESS.  It might be that's interpreted as LESS=R plus some other options
[05:20:23] <twb> OnlineCop: setting it explicitly will also turn off git's default which is something like LESS=SRFX
[05:20:51] *** Joins: rgrinberg (~textual@2806:101e:7:5da4:81fd:dc83:46f:8469)
[05:23:21] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[05:26:22] *** Joins: n4dir (~user@88.130.152.107)
[05:27:12] <queue-> whats the 'return' equivalent to jump to the next function/conditional statement available in bash? i tried exit 1 and im p sure it exited my entire script rather than continuing to the next statement
[05:27:29] <greycat> ... what?
[05:27:39] <omegatron> =D
[05:27:40] <greycat> what does "jump to the next function" mean?
[05:28:05] <queue-> if [ do stuff ]; then echo "" ; else do stuff ; fi ; if [ domore stuff ]; then echo "" ; else domore stuff ; fi
[05:28:14] <queue-> so what would i replace echo "" here with
[05:28:22] <queue-> 'return 0'?
[05:28:36] <greycat> You want a command that does nothing?  true or :
[05:28:45] <queue-> yes
[05:28:57] <greycat> or just negate the "if" condition
[05:29:17] <queue-> oh thats true then i wouldnt have to do then else, it would just be an if then statement
[05:29:29] *** Quits: wwilliam (~afernande@user/wwilliam) (Ping timeout: 250 seconds)
[05:29:46] *** Joins: lotharn (~kvirc@2600:8800:280:d400:9058:42ff:7eac:21fe)
[05:29:51] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 252 seconds)
[05:30:10] <lotharn> alright so basics time.
[05:30:16] *** Joins: vysn (~vysn@user/vysn)
[05:30:18] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:30:42] *** Quits: zoe (~zoe@fsf/member/zoe) (Ping timeout: 272 seconds)
[05:31:57] <queue-> its been a while since i programmed and i didn't do a lot of bash :D
[05:32:19] <queue-> i mean unless you don't consider k3s YAML scripting coding, cause honestly i do
[05:33:08] <lotharn> im grepping out chunks of a file, and i'd like to run a for loop on the chunks. what is the right way?
[05:33:13] *** Joins: vlm (~vlm@user/vlm)
[05:33:34] <greycat> The right way is to STOP using grep.   Replace the entire script you have now with one that reads the input a line at a time, and reacts to each line as needed.
[05:33:46] <lotharn> for files in out/*; do
[05:33:46] <lotharn> for chunks in $(zcat $files | grep -oP '(?<="library":)(\s|.)+?(?=}})'); do
[05:34:10] * greycat backs away
[05:34:12] <queue-> nice even your regex game is thick
[05:34:23] * greycat turns and runs, screaming
[05:35:02] <lotharn> my brain stopped working an hour ago.
[05:35:29] <lotharn> queue-: what do you mean?
[05:35:52] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[05:36:14] <queue-> thats regexes, thats not just bash and i'd just awk not grep
[05:36:33] <lotharn> the regex isnt the issue tho.
[05:36:37] <queue-> i made this really bad script to unrar everything lol
[05:37:16] <lotharn> its that the thing produces blocks of text and frankly i cant figure out how to get those blocks to go into the next command.
[05:38:08] <lotharn> yall just hate perl for some reason.
[05:38:33] <greycat> ...
[05:38:42] <greycat> Nope.  Not even going to try.
[05:38:51] <lotharn> why?
[05:39:07] *** Joins: jinsun__ (~jinsun@user/jinsun)
[05:39:15] *** Parts: xx (~xx@user/xx) (K-Lined)
[05:39:40] <queue-> https://paste.awknode.com/ibikeremer.bash lol this is all i was working on
[05:39:45] <twb> lotharn: it sounds like you're trying to parse a configuration file using grep.  What you want is augeas.
[05:40:34] <queue-> just a minimal script but i didnt know what the best thing to replace 'echo ""' is
[05:40:37] <lotharn> twb: its just a json i think of address data
[05:40:44] <twb> lotharn: then use a json tool FFS
[05:40:50] <twb> jq is right there
[05:41:36] <lotharn> is it the regex that is bothering people?
[05:41:57] *** Quits: jinsun (~jinsun@user/jinsun) (Ping timeout: 252 seconds)
[05:42:04] <twb> e.g.  jq .applicationReports[].displayName < enterprises/LC02kggfh1/devices/3d6c3ba5541bb837.json
[05:42:08] <lotharn> or my really insufficient knowledge of basic programming concepts?
[05:42:48] <twb> lotharn: it's that you are, metaphorically, trying to cut down a tree using a tack hammer
[05:42:56] <tirnanog> also, it's not "perl".
[05:43:00] <queue-> imagine reading books learning to program when you can brute force and become one of the best reverse engineers available
[05:43:39] <lotharn> tirnanog: yeah its pcre
[05:43:51] <queue-> view open code, modify it, change it, head to docs to figure out what certain functions mean and how they operate. no need to 'learn the basics of programming talk' when you can actually program because the patterns are generally there, just the syntax changes
[05:44:05] <lotharn> anytime i post my regexes anywhaere people lose their minds.
[05:44:20] <twb> json is an irregular language; by definition it cannot be parsed by regular expressions
[05:44:20] <queue-> only because they cant tell what you're doing
[05:44:47] <queue-> nobody knows about literal/loopbacks/etc/etc w/ regex because regex is difficult to understand for most
[05:44:57] <greycat> Also because BASH DOES NOT USE THEM.
[05:45:06] <greycat> And this is $bash, in case you lost track.
[05:45:10] <greycat> #bash damn it
[05:45:20] * lotharn bashes
[05:45:42] <twb> greycat: wait, are you saying bash doesn't use regular expressions?  Because [[ =~ ]]
[05:45:54] <greycat> Bash doesn't use Perl-compatible regular expressions.
[05:45:59] <twb> greycat: ah fair
[05:46:05] <greycat> reverse negative inverted atomic looksideways crap
[05:46:15] <queue-> (?<="library":)(\s|.)+?(?=}})
[05:46:21] <queue-> mate its pcre regexes
[05:46:21] <queue-> lol
[05:46:39] <lotharn> (?<="library":) look back (?=}}) look forward (\s|.)+? eat everything, unless there is nothing
[05:46:41] <twb> Ironically, "perl-compatible regular expressions" are not actually compatible with perl 5.
[05:46:52] <greycat> But now that we know the task involves parsing JSON input, you probably want to ask #jq how to proceed.
[05:47:12] <queue-> i try not to use regex too much, i used to all the time when i wrote msl cause i was on mirc a lot as a youngin
[05:47:40] <twb> They probably just want "jq .library" or "jq .students[].dog.stepbrother.maiden-aunt.library"
[05:47:42] <queue-> regex can turn a 30 line script into a 1 liner
[05:48:14] <greycat> !jwz
[05:48:15] <greybot> "Some people, when confronted with a problem, think ``I know, I'll use regular expressions.'' Now they have two problems." | http://xkcd.org/1171/
[05:48:33] <lotharn> yet none of these are my problem
[05:48:43] <queue-> security wise
[05:48:45] <queue-> id say dont use regex
[05:49:02] <queue-> i dont care how good you think u are at blocking escapes
[05:49:58] <lotharn> which is how do i get from blocks of text from a file to doing operations on those blocks?
[05:50:10] *** Quits: n4dir (~user@88.130.152.107) (Remote host closed the connection)
[05:50:26] <twb> lotharn: jq .library | while read -r library; do rm -rf "$library"; done
[05:50:33] <queue-> cat; awk;
[05:51:24] <twb> rm -rf -- that is
[05:51:45] <queue-> it is kind of nice to sed shit out though
[05:51:51] *** Joins: xx (~xx@user/xx)
[05:51:53] <queue-> i sed comments out of my confs all the time
[05:53:07] <greycat> (what world do you people live in, that this is a common thing to do)
[05:53:40] <queue-> ??? ever done 1488 ircd.conf's?
[05:53:40] <twb> queue-: don't use sed, use augeas.  https://augeas.net/
[05:53:47] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[05:53:48] <greycat> queue-: No.  Of course not.
[05:53:58] <queue-> you'll learn to sed out commented lines after a while
[05:53:59] <queue-> lol
[05:54:07] <greycat> Who in the fuck has one thousand four hundred eighty-eight ircd.conf file?
[05:54:16] <queue-> ive built a lot of servers
[05:54:16] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[05:55:10] <queue-> the confs arent 100% interchangeable after each revision
[05:55:10] <twb> Doesn't look like augeas ships a parser for irc2, probably because irc2 is a heap of shit
[05:55:24] *** Quits: rcernin (~rcernin@124.190.132.36) (Ping timeout: 272 seconds)
[05:56:37] <twb> Last time I looked at ircd.conf I threw up inside my helmet
[05:57:10] <lotharn> alright im getting closer.
[05:57:12] <OnlineCop> lotharn: Since you're using `grep -P` I would suggest using `\K` instead, since you don't have to deal with the problem of variable-length lookbehinds. `"library":\K`...
[05:57:20] *** Quits: mongrel (uid508343@id-508343.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[05:57:41] <OnlineCop> Why the `\s|.` though? Matching "anything" could be done with either `[\S\s]` or `(?s:.)`
[05:57:46] <lotharn> OnlineCop: there shouldnt be any variability.
[05:57:50] <queue-> oh shit wait
[05:58:16] <queue-> since i have some zsh scripting in here, do i need to /usr/sbin/zsh /usr/local/bin/mkvwrap
[05:58:20] <OnlineCop> lotham: Do you have to deal with edge cases, like "match this stuff EXCEPT when..." like when text is within "double" or 'single' quotes, behind #comments, etc.?
[05:58:36] *** Joins: mra90 (~mra@192.55.54.53)
[05:58:43] <lotharn> OnlineCop: no. i'm just going for 99%
[05:58:47] <queue-> its run off zsh style commands that wont work with bash
[05:58:48] <queue-> hmm
[05:59:03] <lotharn>  while $(zcat $files | grep -oP '(?<="library":)(\s|.)+?(?=}})'); do
[05:59:03] <lotharn>                 grep -oP '(?<=,"Id":")(\s|.)+?(?=")' tmp | tr -d \\n >> lfl.tsv
[05:59:03] <lotharn>                 printf \\n >> lfl.tsv
[05:59:14] <greycat> *plonk*
[05:59:17] <queue-> does crontab use bash by default even if u use zsh as your default editor?
[05:59:17] <twb> lotharn: $( is deeply wrong there
[05:59:23] <tirnanog> greycat: having fun yet?
[05:59:33] <twb> queue-: no
[05:59:36] <queue-> lol default shell*
[05:59:39] <queue-> not editor
[05:59:40] <twb> queue-: crontab uses /bin/sh by default
[05:59:46] <queue-> ok ty that makes sense
[05:59:46] <lotharn> like i said, my brain stopped working an hour ago.
[06:00:00] <queue-> i was like wtf why isnt this working :D
[06:00:01] <greycat> tirnanog: oh so much fun.  Also by telling xmb to write a simple loop that sources the files in a functions/ directory, instead of doing his wicked evil alias bullshit, I'm "attacking" him.  So much fun.
[06:00:03] <larryv> not sure what's worse right now, this channel or the mailing list
[06:00:24] <twb> queue-: I think SHELL=/opt/powershell/bin/powershell.exe is probably enough to change that
[06:00:28] <OnlineCop> lotharn: Could you throw any of this up onto, say, https://regex101.com (I could even help answer questions over in the #regex channel if you want) so I could see what kind of data you're working on?
[06:00:30] <tirnanog> greycat: refreshed inbox. 12 new messages. ah.
[06:00:54] *** Quits: FluffyMask (~masque@user/fluffymask) (Quit: WeeChat 3.4)
[06:01:10] <lotharn> hold on. let me parse out a group and paste it
[06:02:03] <tirnanog> !shebang > queue-
[06:02:03] <greybot> queue-: A script MUST begin with a #! line, called the "shebang" (from hash+bang). It tells the kernel what interpreter to run, to read your script. See <http://stackoverflow.com/a/733901/58803> and <http://mywiki.wooledge.org/BashGuide/CommandsAndArguments#Scripts> and <http://www.in-ulm.de/~mascheck/various/shebang/>
[06:02:07] <lotharn> tirnanog: are you rich?
[06:02:33] <twb> tirnanog: the context was crontab(5)
[06:02:39] <tirnanog> queue-: there is no relationship whatsoever between your choice of login shell and the shebang. or the shebang and the shell that crontab uses to invoke the command specifed by a crontab line.
[06:03:00] *** Joins: Intelo (~Intelo@88.246.72.44)
[06:03:05] <Intelo> does unix have bash?
[06:03:06] <queue-> ahh kk
[06:03:17] <twb> Intelo: if you mean SUS 2018, then no.
[06:03:21] *** Quits: thiras (~thiras@user/thiras) (Quit: Leaving)
[06:03:24] <Intelo> which opensource unix like /posix complient/mostly complient OS in your opinion has the "cleanest"  and better code comparatively. I guess that would be more stable and secure by some factors as well due to attention given to code quality?
[06:03:25] <OnlineCop> #!/usr/bin/env explorer.exe
[06:03:27] <Intelo> twb ok
[06:03:36] <twb> Intelo: but bash is mostly conformant to SUS 2018 sh requirements
[06:03:48] <tirnanog> queue-: cron daemons usually invoke whatever sh is. some let you set a different SHELL. it only matters if you're using non-standard syntax from crontab itself (at that point, it usually just makse sense to invoke an externel script).
[06:04:06] <queue-> and quick q, whats the best way to modify this for every movie format? -- for f in ./*.mkv; do dirname=${f%.*mkv}; mkdir "$dirname"; mv "$f" "$dirname"; done
[06:04:25] <twb> Intelo: if you want something secure, maybe look at seL4.  If you want something simple, maybe look at busybox + musl
[06:04:25] *** Joins: rcernin (~rcernin@124.190.132.36)
[06:04:26] <tirnanog> external, even.
[06:04:26] <queue-> would it just be *.mkv|*.mp4
[06:04:28] <queue-> etc?
[06:04:53] <queue-> this is probably the wrong chan to ask cause the syntax is a lil diff since this is zsh scripting
[06:05:02] <Intelo> twb opensource + posix/unix like?
[06:05:03] <larryv> there is a #zsh.
[06:05:45] <Nintendo> There goes this evening's entertainment...
[06:05:47] <lotharn> so this command zcat out/WY | grep -oP '(?<="library":)(\s|.)+?(?=}})'  outputs https://termbin.com/8ia2
[06:05:53] *** Joins: sinaowolabi (~SinaOwola@160.152.17.218)
[06:05:59] <OnlineCop> Is zsh pronounced 'zee-ess-aych', 'zeesh', or 'zhsh' ?
[06:06:06] *** Parts: Intelo (~Intelo@88.246.72.44) ()
[06:06:13] <lotharn> i need to do a loop for each one of those blocks
[06:06:53] <OnlineCop> lotharn: Why not just have grep parse out those blocks in the same go?
[06:06:53] *** Parts: micah (~micah@debian/micah) ()
[06:07:38] <lotharn> OnlineCop: fair point, not sure why that wouldnt work.
[06:08:19] <lotharn> oh i know why.
[06:08:37] <lotharn> i dont know what im doing.
[06:08:50] <queue-> and tirnanog i was invoking another script, but i wasnt doing so with /usr/bin/zsh, i am now which makes sense why it wouldnt work because the syntax is just BARELY diff w/ zsh
[06:09:11] <tirnanog> it's daft anyway. this is what shebangs are for.
[06:09:14] <tirnanog> hence my initial response.
[06:09:19] <queue-> true
[06:09:34] <greycat> script1 does not need to know what language script2 is written in
[06:09:44] <tirnanog> you shouldn't have to specify a loader for a shell script any more than you would expect to specify one for an ELF binary.
[06:09:55] <greycat> just call "script2" and let script2's shebang tell the kernel which interpreter to load
[06:10:44] <lotharn> so what i have now is a list of blocks. if i grep that list, i will have a list of subblocks, but what i want is to have each field in order with one line associated with a block, like a tsv
[06:11:00] <OnlineCop> lotharn: PM with a link.
[06:11:23] * queue- runs
[06:11:28] <twb> lotharn: so maybe like json's CSV output format?
[06:11:33] <twb> er, jq
[06:12:09] <OnlineCop> Yeah, jq would be useful if this is JSON.
[06:13:08] <lotharn> i think its json
[06:13:12] <lotharn> i dont know that.
[06:13:51] <lotharn> and frankly im trying to learn.
[06:14:16] <lotharn> but if I give up and use a specialize tool i guess that is ok in the end
[06:15:03] <Nintendo> That's not giving up.  That's manning up.
[06:16:36] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 240 seconds)
[06:16:43] *** Joins: Nact (~l@2a02:2788:11c4:6e6:ede0:bbc0:a761:9e01)
[06:17:43] *** Joins: bluedust (~bluedust@103.161.144.138)
[06:17:51] <twb> "why parse json with a json parser when I could instead write my own broken json parser from scratch in bash and grep?"
[06:21:10] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[06:22:39] *** Quits: bluedust (~bluedust@103.161.144.138) (Ping timeout: 252 seconds)
[06:27:55] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Ping timeout: 240 seconds)
[06:28:41] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[06:30:17] <queue-> ok so i set shebang correctly in the script itself that way it execs the right way, now i know :)
[06:30:31] <queue-> (this is what u get when u bypass documentation and use brute force on *)
[06:32:32] <queue-> its weird cause i had the zsh script shebang'd as #!/bin/bash and it still worked everytime because i was already in zsh when running the cmd, i guess this overrides shebang?
[06:32:56] <greycat> if you explicitly type "zsh /my/script" then yes
[06:33:12] <queue-> but i didnt i just had zsh open and i would type 'mkvwrap'
[06:33:25] <greycat> then you probably didn't use any zsh-specific features
[06:33:29] <queue-> mkvwrap is just a 1 liner, the one i showed u but it was set to #!/bin/bash
[06:33:36] <queue-> that script does not work in bash
[06:33:48] <queue-> yes i did
[06:33:56] <queue-> i know cause i worked a journey learning this
[06:33:58] <twb> "Doctor! Doctor! It hurts when I do <this>!"  "Well, don't do <that>, then!"
[06:34:09] <greycat> !hurts
[06:34:09] <greybot> "Doctor, it hurts when I bend my arm this way!"
[06:34:10] <queue-> i figured out how to do this in bash, and in zsh a while back
[06:34:35] <twb> greycat: thanks - I haven't been around #bash for long enough I forget the infobot entries
[06:35:06] <pj> you explicitly typed mkvwrap?  that would find mkvwrap in your $PATH, not i nthe current directory.
[06:35:18] <pj> you probably have a different one in your path.
[06:35:23] <queue-> duh, its in /usr/local/bin
[06:35:40] <queue-> purposely placed to make it a global cmd
[06:36:17] *** Quits: superboot (~agentgasm@user/superboot) (Quit: leaving)
[06:37:18] <pj> a function or an alias perhaps, then?
[06:37:57] <greycat> Or.  The script doesn't actually use any zshisms.
[06:38:02] <queue-> i guess i could have added it as one or the other into my .p10k.zsh file
[06:38:05] <tirnanog> by far, the most probable explanation.
[06:38:41] <greycat> you said it's one line?  just paste it here.
[06:39:10] <queue-> idk honestly i never thought about that, i never had this problem until i started using rtorrent-flood but only bc it looks better than other daemons lol (it has no unpack feature)
[06:39:14] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[06:39:36] <queue-> for f in ./*.*; do dirname=${f%.*}; mkdir "$dirname" && mv "$f" "$dirname"; done
[06:39:55] <tirnanog> yes. there's not one iota of zsh there.
[06:39:55] <greycat> that's not zsh, that's not even bash, that is pure sh man
[06:40:20] <queue-> hmm
[06:40:32] <queue-> how come it didnt work b4
[06:40:39] <queue-> on bash, oh well
[06:40:40] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[06:40:49] <tirnanog> you have to define "doesn't work".
[06:41:09] <queue-> it didn't do what i wanted
[06:41:16] <queue-> the script did not perform its function
[06:41:24] *** Quits: jos1 (~jos3@dyndsl-178-142-069-147.ewe-ip-backbone.de) (Ping timeout: 240 seconds)
[06:41:37] <greycat> what error did you get?
[06:41:54] <queue-> i dont recall this was long ago, maybe i was super high man idk
[06:42:01] <tirnanog> (none, I'd wager)
[06:42:09] <queue-> i dont think i got an error
[06:42:11] <queue-> it just didnt wor
[06:42:12] <queue-> k
[06:42:39] <queue-> the idea is to create a folder, cut the extension off and move the file in the new folder
[06:47:13] <tirnanog> in other words, you didn't get an error. you probably have no idea what the glob matched at the time (if anything), nor recall the directory in which it was operating. or, if you do, you probably don't recall the state of the directory prior to - and after - having executed the script. just "didn't work", which is undebuggable.
[06:48:42] <queue-> well i swiftly swapped to zsh is the thing
[06:48:50] <queue-> at that same time in life i moved from bash to zsh
[06:49:15] <queue-> so thats why i had to figure it out in zsh cause the way i was doing it before wont work on zsh, only bash
[06:49:28] <tirnanog> anyway, if you run it in bash (or sh, for that matter), it would have a defect. ./*.* will expand as itself in the case that there is no match. that would almost certainly result in mv raising an error.
[06:50:06] <tirnanog> you can avoid that by either testing that f exists or by using bash's nullglob option.
[06:50:08] <greycat> zsh does it differently?
[06:50:14] <tirnanog> I don't know.
[06:50:17] <tirnanog> probably.
[06:50:19] <queue-> a little
[06:50:30] <queue-> not much, i remember it was like 1 wrap change
[06:50:34] <queue-> not much of a syntax change
[06:50:53] <tirnanog> so, we can add "I made a change that I don't recall" to the list.
[06:51:04] <tirnanog> anyway, it's still valid sh/bash.
[06:53:06] <tirnanog> greycat: tried zsh -c. it acts much as if failglob had been enabled in bash.
[06:55:09] *** Joins: jos1 (~jos3@dyndsl-091-096-037-050.ewe-ip-backbone.de)
[06:55:45] <tirnanog> queue-: what do you want to happen if there are no matches? that's the question.
[06:55:46] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Quit: Leaving...)
[06:55:50] <greycat> I'm guessing queue- didn't use #!/bin/zsh -c
[06:56:49] <tirnanog> oh, I meant zsh -c 'for f in deliberately-non-matching-glob; ...'
[06:56:57] <tirnanog> it balied out just like bash would with failglob in effect.
[06:57:11] <queue-> no i didnt originally greycat, i changed it though
[06:57:15] <queue-> i need -c too?
[06:57:17] <tirnanog> no.
[06:57:21] <tirnanog> you don't even need zsh.
[06:57:23] <tirnanog> as was said.
[06:57:29] <queue-> ok so it doesnt work
[06:57:32] <queue-> as i told you
[06:57:46] <queue-> if i use it as /bin/sh
[06:57:59] <queue-> and allow crontab to handle it, it does not work
[06:58:22] <tirnanog> make set -x the first command in the script.
[06:58:37] <queue-> https://paste.awknode.com/icuxapodec.bash
[06:58:54] <tirnanog> are you even looking at stderr, for that matter? seeing as it's cron.
[06:59:29] <queue-> this is the script in its entirety, when i call /usr/local/bin/mkvwrap nothing gets wrapped in 'extract'
[07:01:27] <tirnanog> make set -x the first command in _both_ scripts then execute it in the same what you would normally have cron do.
[07:01:33] <queue-> tbh i dont even think i need those sleeps in there cause 'unrarall' is going to hang the rest of the commands up from running anyway
[07:02:20] <tirnanog> this would amount to debugging.
[07:03:57] <queue-> i keep jouranlctl -f | ccze -A on the bottom of my screen all day now but i didnt back then :D
[07:04:36] <queue-> https://sh.awknode.com/57GN1R/screenshot.png
[07:12:43] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:aaa1:59ff:fe3c:ddb4)
[07:12:58] *** Guest4829 is now known as polo
[07:13:40] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:aaa1:59ff:fe3c:ddb4) (Client Quit)
[07:14:56] <mannequin> when new kernels will hit backports?
[07:15:01] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:aaa1:59ff:fe3c:ddb4)
[07:15:12] *** Quits: rcernin (~rcernin@124.190.132.36) (Ping timeout: 272 seconds)
[07:15:30] <larryv> !nabq
[07:15:30] <greybot> Not a #bash question. We're no experts in that software or OS; consider asking the channel or mailing list with experts on that topic (eg. #docker #git #rsync #linux #openssh #ubuntu #zsh #systemd ##kernel or PM alis with "list keyword" to search for channels).
[07:15:42] <mannequin> oops wrong channel
[07:15:43] <mannequin> sry
[07:15:53] <larryv> np
[07:16:50] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[07:19:24] *** Quits: rgrinberg (~textual@2806:101e:7:5da4:81fd:dc83:46f:8469) (Ping timeout: 240 seconds)
[07:21:24] *** Quits: carlos (~pum@user/carlos) (Ping timeout: 240 seconds)
[07:31:22] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[07:32:30] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Remote host closed the connection)
[07:32:45] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[07:33:36] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 252 seconds)
[07:33:42] *** Quits: drbeco (~beco@2804:351c:dd01:6600:e4a2:7a5d:e23f:1fd8) (Quit: Leaving)
[07:35:33] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:81c8:6a7d:afd1:65b8)
[07:35:39] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:36:34] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:81c8:6a7d:afd1:65b8) (Client Quit)
[07:36:52] *** Joins: rcernin (~rcernin@124.190.132.36)
[07:38:10] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Read error: Connection reset by peer)
[07:38:39] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[07:39:39] *** Joins: phyto (~kyle@host-198-114.txbrags.bryan.tx.us.clients.pavlovmedia.net)
[07:39:50] *** Parts: phyto (~kyle@host-198-114.txbrags.bryan.tx.us.clients.pavlovmedia.net) ()
[07:40:01] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Client Quit)
[07:40:17] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:43:30] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 252 seconds)
[07:49:30] *** Quits: crashrep (~crashrep@user/crashrep) (Quit: WeeChat 3.4)
[08:00:13] *** Joins: l4yer (~l4yer@2001:ac8:31:8900:1011:2752:807d:fa72)
[08:00:51] *** Quits: Nact (~l@2a02:2788:11c4:6e6:ede0:bbc0:a761:9e01) (Read error: Connection reset by peer)
[08:02:37] <senoraraton> Why does set ip=$(curl https://ipinfo.io/ip); echo $ip print blank strings?
[08:02:47] *** Joins: aa_ (~aa_@is.ready-to.party)
[08:03:45] *** Parts: tirnanog (~tirnanog@user/tirnanog) (= "")
[08:03:47] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[08:03:56] <larryv> you're running ''set ip=$(curl https://ipinfo.io/ip); echo $ip''?
[08:05:24] <emanuele6> !set
[08:05:24] <greybot> http://wiki.bash-hackers.org/commands/builtin/set # set -vx is useful for debugging, set +H for playing in terminal.
[08:05:32] <senoraraton> I fixed it.
[08:05:36] <emanuele6> set does not "set" variables
[08:05:57] <emanuele6> # set a b c; for i in "$@"; declare -p i; done
[08:06:00] <shbot> emanuele6: bash: syntax error near unexpected token `declare'
[08:06:07] <emanuele6> err
[08:06:10] <emanuele6> # set a b c; for i in "$@"; do declare -p i; done
[08:06:12] <shbot> emanuele6: declare -- i="a"
[08:06:12] <shbot> emanuele6: declare -- i="b"
[08:06:12] <shbot> emanuele6: declare -- i="c"
[08:06:42] <emanuele6> set sets positional arguments ($@), and enables/disables shell options
[08:06:42] *** Joins: bluedust (~bluedust@103.161.144.138)
[08:06:53] <emanuele6> # set a=$(echo a b c d); for i in "$@"; do declare -p i; done
[08:06:59] <shbot> emanuele6: declare -- i="a=a"
[08:06:59] <shbot> emanuele6: declare -- i="b"
[08:06:59] <shbot> emanuele6: etc... ( http://ix.io/3PJw )
[08:07:37] <emanuele6> doing that you are running `set' with the expansion of `a=$(echo a b c d)' as arguments
[08:08:01] <emanuele6> and `a=$(echo a b c d)' (NB: unquoted) expands to <a=a><b><c><d>
[08:08:52] <emanuele6> so you probably set a bunch of arguments
[08:11:44] *** Joins: bluedust_ (~bluedust@185.248.85.42)
[08:14:32] *** Quits: Tangent-Man (~Tang3nt-M@cpc145602-basl14-2-0-cust33.20-1.cable.virginm.net) (Quit: Leaving)
[08:15:52] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:16:00] *** Quits: bluedust (~bluedust@103.161.144.138) (Ping timeout: 272 seconds)
[08:16:27] *** Quits: A|an (~Alan@173.218.175.171) (Quit: A|an)
[08:17:39] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[08:23:38] <queue-> # echo hi
[08:23:39] <shbot> queue-: hi
[08:26:07] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[08:27:19] <queue-> # tail -f /dev/urandom 10
[08:27:26] <shbot> queue-: ==> /dev/urandom <==
[08:29:37] *** Joins: Atque (~Atque@user/atque)
[08:31:35] <queue-> # cat /dev/urandom ; base64 ; head -c 5
[08:31:46] <shbot> queue-: A_VeT$B*[+\c,sN6@f5Bޫ~&P%LlABWnoj~@⑩袠M3n;l&I;O(s
[08:31:47] <shbot> queue-: *Sߵyȑf9lf`.Am=Yb1P4̐VZm;v""#  !_%!x_SX՜ƧƤ1~^ӹB;Q_j"ӳ%ƿݧʽfti;ي`ĩQDjyDkwGo
[08:31:47] <shbot> queue-: etc... ( http://ix.io/3PJC )
[08:32:24] <larryv> queue-: you can /msg shbot
[08:32:47] <queue-> ah ok, i was just testing but next time i do ill /msg, thx
[08:44:47] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[08:45:50] *** Quits: jensen (~jensen@65.78.100.184) (Remote host closed the connection)
[08:50:13] *** Joins: han-solo (~hanish@user/han-solo)
[08:50:29] *** Joins: sinaowolabi_ (~SinaOwola@160.152.17.218)
[09:07:11] *** Joins: karabaja4 (~karabaja4@dh207-92-143.xnet.hr)
[09:08:18] *** Quits: skapate (~Skapata@user/skapata) (Remote host closed the connection)
[09:12:36] *** Joins: ablyss (~ablyss@068-118-118-194.biz.spectrum.com)
[09:15:21] *** Quits: timj (~timj@user/timj) (Ping timeout: 252 seconds)
[09:17:08] *** Joins: bluedust (~bluedust@103.161.144.138)
[09:19:48] *** Quits: bluedust_ (~bluedust@185.248.85.42) (Ping timeout: 240 seconds)
[09:29:00] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 240 seconds)
[09:29:51] *** Joins: timj (~timj@user/timj)
[09:30:02] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:31:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[09:31:03] *** Joins: masoudd (~masoudd@user/masoudd)
[09:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:33:55] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[09:36:34] *** Quits: bliminse (~bliminse@host86-158-241-239.range86-158.btcentralplus.com) (Quit: leaving)
[09:36:44] *** Quits: richardm75 (~richardm7@2600:8801:c507:b200:61fe:22de:61e8:e356) (Read error: Connection reset by peer)
[09:36:46] *** Quits: tccki (~tccki@box.webslate.co.nz) (Quit: tccki)
[09:37:18] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[09:37:30] *** Joins: richardm75 (~richardm7@2600:8801:c507:b200:61fe:22de:61e8:e356)
[09:37:45] *** Quits: lungaro (~lungaro@99-117-118-33.lightspeed.sndgca.sbcglobal.net) (Remote host closed the connection)
[09:37:56] *** Joins: stevenm__ (~stevenm@stevenm.keele.netcentral.co.uk)
[09:38:02] *** Joins: lungaro (~lungaro@99-117-118-33.lightspeed.sndgca.sbcglobal.net)
[09:38:03] *** Joins: thebombzen_ (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[09:38:32] *** Joins: travisghansen6 (~travisgha@192.74.130.86)
[09:38:54] *** Joins: mra01 (~mra@192.55.54.53)
[09:38:56] *** Joins: john1_ (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[09:39:41] *** Quits: EerdAppel (~eerdappel@84-24-184-139.cable.dynamic.v4.ziggo.nl) (Read error: Connection reset by peer)
[09:39:52] *** Quits: mra90 (~mra@192.55.54.53) (Remote host closed the connection)
[09:40:00] *** Quits: mra01 (~mra@192.55.54.53) (Client Quit)
[09:40:02] *** Joins: EerdAppel (~eerdappel@84-24-184-139.cable.dynamic.v4.ziggo.nl)
[09:40:06] *** Quits: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Read error: Connection reset by peer)
[09:40:09] *** Joins: mra01 (~mra@192.55.54.53)
[09:40:12] *** Joins: ablyss_ (~ablyss@068-118-118-194.biz.spectrum.com)
[09:40:12] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 240 seconds)
[09:40:12] *** Quits: TMan459 (~TMan459@068-113-234-055.res.spectrum.com) (Ping timeout: 240 seconds)
[09:40:19] *** Quits: mra01 (~mra@192.55.54.53) (Client Quit)
[09:40:34] *** Joins: TMan459 (~TMan459@068-113-234-055.res.spectrum.com)
[09:40:36] *** Quits: travisghansen (~travisgha@192.74.130.86) (Ping timeout: 240 seconds)
[09:40:36] *** Quits: setesat (~setesat@94.4.156.220) (Ping timeout: 240 seconds)
[09:40:45] *** travisghansen6 is now known as travisghansen
[09:40:45] *** Joins: setesat2 (~setesat@94.4.156.220)
[09:41:00] *** Quits: ablyss (~ablyss@068-118-118-194.biz.spectrum.com) (Ping timeout: 240 seconds)
[09:41:00] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Ping timeout: 240 seconds)
[09:41:00] *** Quits: stevenm_ (~stevenm@stevenm.keele.netcentral.co.uk) (Ping timeout: 240 seconds)
[09:41:08] *** Joins: tccki (~tccki@box.webslate.co.nz)
[09:41:24] *** Quits: cliluw (~cliluw@47.147.73.223) (Ping timeout: 240 seconds)
[09:42:05] *** Joins: cliluw (~cliluw@47.147.73.223)
[09:42:56] *** Quits: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[09:44:19] *** Joins: karakedi (~eAC53C340@user/karakedi)
[09:44:43] *** Quits: foul_owl (~kerry@207.244.125.36) (Ping timeout: 250 seconds)
[09:49:02] *** Joins: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp)
[09:52:13] *** Joins: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net)
[09:53:54] *** Quits: _mikey (~mikey@user/mikey/x-4335048) (Quit: WeeChat 3.4)
[09:54:40] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[09:55:27] *** Quits: thebombzen_ (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[09:55:43] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[09:59:13] *** Joins: Sauvin (~sauvin@about/linux/staff/sauvin)
[10:01:08] *** Quits: karabaja4 (~karabaja4@dh207-92-143.xnet.hr) (Ping timeout: 272 seconds)
[10:02:38] *** Joins: Mo (~Mo@dynamic-095-112-023-101.95.112.pool.telefonica.de)
[10:03:28] *** Joins: ekathva (~ekathva@n3k02urgmuqvuf9nu-1.v6.elisa-mobile.fi)
[10:09:00] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 240 seconds)
[10:13:49] *** Quits: qub411 (~user@118.209.248.55) (Quit: WeeChat 3.4)
[10:14:18] *** Joins: karabaja4 (~karabaja4@dh207-95-139.xnet.hr)
[10:14:40] *** Joins: foul_owl (~kerry@23.105.36.232)
[10:15:48] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 240 seconds)
[10:17:35] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[10:19:55] *** Quits: Fausto (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[10:21:00] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) (Ping timeout: 240 seconds)
[10:22:31] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[10:22:45] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[10:23:00] *** Joins: unop (~unop@195.91.14.193)
[10:24:43] *** Joins: alkisg (~alkisg@2001:470:69fc:105::2d3)
[10:24:43] *** Joins: redo (~redo@193.191.4.173)
[10:25:13] <alkisg> Hi, Is quoting necessary in `case $var in`? Should it be `case "$var" in` instead?
[10:25:33] <tarzeau> yes
[10:26:48] <alkisg> tarzeau: why? E.g. if I have file named "a.txt", and I do: `var=a*; case #
[10:27:08] <alkisg> ...case $var in a.txt) echo true;; esac, then it doesn't echo true
[10:27:38] <alkisg> I.e. I see no glob expansion there, maybe it's the same as in `var=$value`, where $value doesn't need to be quoted?
[10:27:44] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) (Ping timeout: 272 seconds)
[10:27:52] *** Quits: unop (~unop@195.91.14.193) (Read error: Connection reset by peer)
[10:27:55] <tarzeau> if a file is called "and not.txt" ?
[10:28:11] <alkisg> It does word splitting? Testing...
[10:28:30] *** Joins: andril (~andril@097-068-232-130.biz.spectrum.com)
[10:29:35] <tirnanog> akaporu: no, it is not necessary.
[10:29:38] <tirnanog> oops
[10:29:40] <tirnanog> alkisg: ^
[10:29:43] <alkisg> Thank you tirnanog :)
[10:30:16] <alkisg> (and you too tarzeau :))
[10:30:29] <tirnanog> # var='foo bar'; case $var in 'foo bar') echo match ;; esac
[10:30:31] <shbot> tirnanog: match
[10:30:41] <tirnanog> # touch file; var='*'; case $var in '*') echo match ;; esac
[10:30:42] <shbot> tirnanog: match
[10:31:09] <tirnanog> granted, it's counter-intuitive.
[10:32:26] <alkisg> A related test is that `case $undefined_var in` works, while `case in` doesn't; i.e. it indeed appears to use the variable there and not its value
[10:32:42] <alkisg> eeeh ok I expressed that awfully, but I guess you understood what I meant
[10:33:23] <tirnanog> yes.
[10:38:30] *** Quits: Oleg (~Oleg@ool-45745511.dyn.optonline.net) (Ping timeout: 272 seconds)
[10:38:54] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Read error: Connection reset by peer)
[10:39:10] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[10:39:30] *** Quits: mat001 (~mat001@72.28.108.216) (Read error: Connection reset by peer)
[10:40:22] *** Joins: mat001 (~mat001@72.28.108.216)
[10:40:37] *** Quits: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net) (Ping timeout: 250 seconds)
[10:42:36] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 240 seconds)
[10:46:20] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[10:48:22] *** Joins: wwilliam (~afernande@63.240.73.102)
[10:48:23] *** Quits: wwilliam (~afernande@63.240.73.102) (Changing host)
[10:48:23] *** Joins: wwilliam (~afernande@user/wwilliam)
[10:48:52] *** Quits: Natch (~natch@c-4db8e255.014-297-73746f25.bbcust.telenor.se) (Ping timeout: 250 seconds)
[10:50:04] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[10:50:07] *** Quits: _mikey (~mikey@user/mikey/x-4335048) (Quit: WeeChat 3.4)
[10:50:30] *** Quits: cth (~Cthulchu@69-172-160-196.cable.teksavvy.com) (Ping timeout: 252 seconds)
[10:50:56] *** Joins: iomari891 (~iomari891@105.112.138.38)
[10:53:26] *** Joins: Natch (~natch@c-4db8e255.014-297-73746f25.bbcust.telenor.se)
[10:57:06] *** Joins: fef (~thedawn@user/thedawn)
[10:59:42] *** Joins: yustin (~yustin@user/yustin)
[11:03:48] *** Quits: andril (~andril@097-068-232-130.biz.spectrum.com) (Ping timeout: 240 seconds)
[11:06:22] *** Quits: sinaowolabi_ (~SinaOwola@160.152.17.218) (Ping timeout: 272 seconds)
[11:07:49] *** Joins: yosijo (~yosijo@2a01:4f8:1c17:8091:264b:feff:fe55:89e1)
[11:12:30] *** Quits: yosijo (~yosijo@2a01:4f8:1c17:8091:264b:feff:fe55:89e1) (Ping timeout: 252 seconds)
[11:13:20] *** Quits: Natch (~natch@c-4db8e255.014-297-73746f25.bbcust.telenor.se) (Ping timeout: 272 seconds)
[11:13:49] *** Quits: rcernin (~rcernin@124.190.132.36) (Quit: WeeChat 3.4)
[11:16:25] *** Joins: Natch (~natch@c-4db8e255.014-297-73746f25.bbcust.telenor.se)
[11:18:37] *** Joins: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[11:19:48] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.21)
[11:26:33] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 250 seconds)
[11:27:47] *** Joins: tobybl (~tobybl@214.242.200.146.dyn.plus.net)
[11:28:43] *** Joins: rendar (~rendar@user/rendar)
[11:31:14] *** Quits: richardm75 (~richardm7@2600:8801:c507:b200:61fe:22de:61e8:e356) (Read error: Connection reset by peer)
[11:31:38] *** Joins: richardm75 (~richardm7@2600:8801:c507:b200:61fe:22de:61e8:e356)
[11:32:53] *** Quits: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Remote host closed the connection)
[11:34:28] *** Joins: jmew (~jmew___@user/jmew)
[11:34:36] *** Quits: cim (~cim@205.185.117.110) (Quit: Ping timeout (120 seconds))
[11:34:48] *** Joins: cim (~cim@205.185.117.110)
[11:35:07] *** Quits: steam (~steam@user/steam) (Remote host closed the connection)
[11:35:17] *** Quits: Scarecr0w (scarecr0w@user/scarecr0w) (Ping timeout: 240 seconds)
[11:36:50] *** Joins: steam (~steam@user/steam)
[11:36:54] *** Joins: karakedi (~eAC53C340@user/karakedi)
[11:37:00] *** Quits: gnoo (gnoo@user/gnoo) (Ping timeout: 240 seconds)
[11:38:23] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[11:40:02] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[11:40:09] *** Joins: freep (~freepppp@193.92.35.32.dsl.dyn.forthnet.gr)
[11:42:23] *** Joins: Scarecr0w (scarecr0w@user/scarecr0w)
[11:44:48] *** Quits: voidsync (~void@user/voidsync) ()
[11:44:57] <senoraraton> How do I re-source all of my terminals at once?
[11:45:37] *** Joins: Oleg (~Oleg@ool-45745511.dyn.optonline.net)
[11:46:11] <selckin> pkill -9 bash
[11:46:36] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.21) (Ping timeout: 252 seconds)
[11:46:36] *** Quits: gr33nR10t (~greenriot@user/gr33nr10t) (Ping timeout: 252 seconds)
[11:46:44] <selckin> you can't
[11:47:41] *** Joins: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[11:47:48] *** Quits: Scarecr0w (scarecr0w@user/scarecr0w) (Ping timeout: 250 seconds)
[11:48:45] *** Joins: gr33nR10t (~greenriot@user/gr33nr10t)
[11:49:08] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[11:49:33] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[11:50:31] *** Joins: andril (~andril@097-068-232-130.biz.spectrum.com)
[11:50:46] *** Joins: gnoo (gnoo@user/gnoo)
[11:51:05] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[11:51:28] *** Joins: l4s8g___ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[11:51:53] *** Quits: l4s8g___ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Remote host closed the connection)
[11:52:56] <twb> senoraraton: why do you want to?
[11:53:00] *** Quits: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[11:53:27] <senoraraton> Because I have a script that updates env variables, and I want to update my bash terminals with that data.
[11:53:45] <twb> senoraraton: to what purpose?
[11:54:48] *** Quits: kill (~killown@user/killown) (Quit: Leaving)
[11:56:10] *** Joins: adac (~adac@clnet-b03-098.ikbnet.co.at)
[11:56:40] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[11:58:14] *** Joins: Scarecr0w (scarecr0w@user/scarecr0w)
[11:58:45] *** Joins: sinaowolabi_ (~SinaOwola@160.152.17.218)
[11:59:10] *** Joins: l4s8g (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[12:00:00] *** Joins: unop (~unop@195.91.14.193)
[12:01:19] <Nintendo> You can simply start a new, nested bash session, senoraraton.
[12:01:22] *** Joins: kurahaupo_ (~kurahaupo@pa49-182-2-50.pa.qld.optusnet.com.au)
[12:03:49] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[12:04:00] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 272 seconds)
[12:04:35] *** Joins: jaysicks (~jaysicks@185-29-82-222.pool.digikabel.hu)
[12:06:25] <Soliton> or exec bash
[12:06:46] *** Quits: reset (~reset@user/reset) (Quit: reset)
[12:07:21] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[12:07:32] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[12:08:24] *** Quits: l4s8g (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Remote host closed the connection)
[12:08:26] *** Quits: kurahaupo_ (~kurahaupo@pa49-182-2-50.pa.qld.optusnet.com.au) (Ping timeout: 272 seconds)
[12:09:50] *** Quits: grawity (grawity@star.nullroute.lt) (Remote host closed the connection)
[12:10:18] *** Joins: grawity (grawity@star.nullroute.lt)
[12:11:20] *** Joins: Kyuzo68 (~Kyuzo@host-82-61-194-118.retail.telecomitalia.it)
[12:12:31] *** Joins: libc (~archer@user/tessio)
[12:12:36] *** Quits: richardm75 (~richardm7@2600:8801:c507:b200:61fe:22de:61e8:e356) (Ping timeout: 240 seconds)
[12:13:03] *** Joins: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[12:13:35] *** Joins: masoudd_ (~masoudd@user/masoudd)
[12:13:42] *** Quits: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Remote host closed the connection)
[12:14:53] *** Quits: libc (~archer@user/tessio) (Quit: WeeChat 3.4)
[12:15:46] *** Quits: Kyuzo68 (~Kyuzo@host-82-61-194-118.retail.telecomitalia.it) (Client Quit)
[12:16:18] *** Quits: masoudd (~masoudd@user/masoudd) (Ping timeout: 252 seconds)
[12:16:26] *** Joins: libc (~archer@user/tessio)
[12:16:36] <libc> vi() {
[12:16:38] <libc>     if [[ "$@" -gt 1 ]]; then
[12:16:40] <libc>       nvim -p "$@"
[12:16:42] <libc>     else
[12:16:44] <libc>       nvim "$1"
[12:16:46] <libc>     fi
[12:16:48] <libc>   }
[12:16:51] <libc> what's wrong with this function ?
[12:17:10] <Soliton> what do you expect the test to do?
[12:17:22] <Soliton> perhaps you meant $#.
[12:17:58] <libc> indeed thanks
[12:18:35] <geirha> And I'd use "$@" instead of "$1" on the second one too
[12:18:55] <geirha> since the else will either have zero or one arguments
[12:19:30] <libc> geirha: right .. thanks
[12:20:04] <twb> A slightly buggy one-liner would be nvim ${2+ -p } "$@"
[12:20:15] *** Joins: shad (~shad@user/shad)
[12:20:20] <geirha> lose the extra spaces and use quotes intead
[12:20:30] <geirha> vi() { nvim ${2+"-p"} "$@" ; }
[12:20:40] <twb> ah yes
[12:20:46] <twb> That is indeed clearer
[12:21:41] <Kartagis> hi. why is time $(while read -r $module;do drush -y en $module;done < ~/master-primary.txt ) only saying Already enabled (drush output) without the module's name?
[12:22:01] <libc> geirha: is it safe to use the one liner you posted ? (twb says it's buggy)
[12:22:06] <Soliton> that's nonsense.
[12:22:25] <geirha> Kartagis: you never assigned module
[12:22:40] <geirha> also wrong use of $()
[12:22:45] <Soliton> time while read -r module;do drush -y en "$module";done < ~/master-primary.txt
[12:22:54] <geirha> libc: yes, with the quotes it's safe
[12:22:57] <Kartagis> oh
[12:23:02] <Kartagis> overlooked
[12:23:04] <Kartagis> thanks
[12:23:23] <twb> You might also need to </dev/null on the drush if it eats stdin
[12:23:39] <twb> Or </dev/tty
[12:25:39] <geirha> Without the quotes, it breaks if you modify IFS
[12:25:46] <geirha> # IFS=- ; set -- one two three ; printf '<%s>' nvim ${2+ -p } "$@"
[12:25:48] <shbot> geirha: <nvim>< ><p ><one><two><three>
[12:25:53] <geirha> # IFS=- ; set -- one two three ; printf '<%s>' nvim ${2+"-p"} "$@"
[12:25:55] <shbot> geirha: <nvim><-p><one><two><three>
[12:26:00] <Earnestly> !usingfind
[12:26:00] <greybot> http://mywiki.wooledge.org/UsingFind
[12:26:17] *** Quits: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8) (Ping timeout: 256 seconds)
[12:26:58] <Kartagis> thanks twb
[12:27:05] <Earnestly> Does anyone have knowledge to how find deals with multiple -exec {} + arguments?  In all that I can test, even such as bfs, it executes one after the other (which makes sense), but if it had to split over ARG_MAX, would it interleave?
[12:27:14] <twb> Earnestly: they're just separate clauses
[12:27:38] <twb> find . -exec false {} + -exec echo test {} +
[12:27:42] <twb> find . -exec false {} + , -exec echo test {} +
[12:27:47] <twb> Earnestly: ^ compare those
[12:27:48] *** Quits: andril (~andril@097-068-232-130.biz.spectrum.com) (Ping timeout: 240 seconds)
[12:28:24] *** Joins: zer0bitz (~zer0bitz@2001:2003:f74d:b800:c9dd:301:29f7:88f5)
[12:28:44] <twb> Earnestly: if you need to do something complicated I suggest you have find call a helper script, e.g. find ... -exec sh -xec 'for i; do ... || break; done' -- {} +
[12:29:30] <Earnestly> You're not being very helpful, I know these things, and , itself is not posix either
[12:29:45] <libc> i didn't found any information about ${2+"-p"}
[12:29:53] <libc> in parameter expansion
[12:29:55] <geirha> !:+
[12:29:55] <greybot> ${parameter:+word} Use Alternate Value. If parameter is null or unset, nothing is substituted, otherwise the expansion of word is substituted.
[12:30:01] <libc> oh :+
[12:30:03] <geirha> !pe:
[12:30:03] <greybot> When using the default value parameter expansion (${var:-default}), the test checks if var is not set (unset -v var) or empty (var=''). If you omit the colon (${var-default}) it only checks if the var is not set. Same applies for :=, :?, and :+
[12:30:45] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 256 seconds)
[12:30:48] <twb> Earnestly: sorry.  I didn't realize you already knew those bits.
[12:31:08] <Earnestly> I would think, reading the posix standard, find should evaluate each aggregated set in turn.  So if ARG_MAX was 3 (args, not bytes), then find -exec a {} + -exec b {} + would result in: [a 1 2 3] [b 1 2 3] [a 4 5 6] [b 4 5 6] and so on
[12:31:19] <twb> Earnestly: I don't know what the exact semantics are if you have (say) five million matches and -exec fails on the first 5000 but not the second 5000
[12:31:24] <Earnestly> Rather than [a 1 2 3] [a 4 5 6] [b 1 2 3] [b 4 5 6]
[12:31:51] <twb> Earnestly: but if the static "b" is long and static "a" is short, won't they batch up differently?
[12:32:13] <Earnestly> Because it does say that find shall complete its aggregate set before moving on, but does mention > but it is otherwise unspecified whether the invocation occurs before, during, or after the evaluations of other primaries
[12:32:27] <Earnestly> twb: No
[12:32:30] *** Quits: sinaowolabi_ (~SinaOwola@160.152.17.218) (Read error: Connection reset by peer)
[12:32:34] <Earnestly> That would be, worrying
[12:32:58] <Earnestly> {} + is also always true, so no need for -o there
[12:33:22] <Earnestly> I'm more curious as to how implementations do this ordering
[12:33:24] <twb> Earnestly: clearly you understand this a lot better than me :-)
[12:33:35] <Earnestly> "during" is a scary word in that sentence
[12:34:24] <Earnestly> I want -exec foo {} + -exec rm -f -- {} +, but "during" is putting me off.  So went with sh -c ... _ {} + instead :(
[12:35:11] <Earnestly> It just so happens in all implementations I have access to, this works as expected
[12:35:15] <twb> I definitely saw -exec {} + -delete unlink(2) too early in GNU find
[12:35:42] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[12:35:46] <twb> (I resorted to walking the tree twice; it wasn't a big tree)
[12:37:26] <Earnestly> https://0x0.st/o8uy.txt resorted to this instead
[12:37:32] <libc> geirha: the only difference in omiting the colon is just for cases when parameter is ""
[12:37:34] <libc> ?
[12:38:21] <geirha> yes
[12:38:22] <twb> Earnestly: oh wow you're even doing the same problem as I was
[12:38:51] <Earnestly> I'll have to make an experiment to see how different find's
[12:38:54] <Earnestly> work
[12:39:04] <Earnestly> Since it is all de facto anyway
[12:39:11] <twb> https://github.com/cyberitsolutions/bootstrap2020/blob/twb/debian-11-PrisonPC.hooks/customize70-chromium-not-yelp.py#L98-L103
[12:39:44] <twb> (That script doesn't have to care about portability)
[12:39:46] <Earnestly> twb: Why not use python's facilities instead?
[12:40:06] <twb> Earnestly: they're worse at that particular case
[12:40:14] <Earnestly> lol
[12:40:25] <twb> -execdir happens to batch the matches up in exactly the way yelp-build needs
[12:40:27] <Earnestly> I'm not surprised, this is why I tend to use the shell for things
[12:40:58] <Earnestly> twb: Yeah you'd have to split on ARG_MAX (getconf), in bytes including the environment
[12:40:59] <twb> -exec {} + or -exec {} ; in python would be simple.  -execdir would require like 5 lines
[12:41:17] <Earnestly> Eh, put it in a def and call it one line
[12:41:35] <twb> Earnestly: I can ignore that case as long as it crashes.  The paths it's finding will not realistically exceed about 100 files
[12:41:53] <Earnestly> Also to be fair, yelp-help should have a -C style flag, GIT_DIR, etc.  I hate stuff that forces you to use PWD
[12:41:54] <twb> Earnestly: "put it in a def" doesn't absolve me from writing the function body, though
[12:41:58] <twb> more code = more bad
[12:42:06] <Earnestly> I know, I was joking
[12:42:19] <twb> but yes yelp-build is a trash program
[12:42:37] <twb> I implemented about 70% of it in my own script using xsltproc, before I gave up and let it run
[12:46:31] *** Joins: iomari891 (~iomari891@105.112.138.38)
[12:47:22] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Quit: john_johnk)
[12:49:37] *** Joins: lavaball (felix@31.204.155.215)
[12:50:10] *** Quits: woky (~woky@li1651-31.members.linode.com) (Quit: Nothing in this world is hopeless!)
[12:51:13] *** Joins: woky (~woky@li1651-31.members.linode.com)
[12:51:17] *** Quits: woky (~woky@li1651-31.members.linode.com) (Remote host closed the connection)
[12:51:54] <Earnestly> # locale -a | xargs
[12:51:56] <shbot> Earnestly: C POSIX de_DE.utf8 en_US.utf8 et_EE.utf8 nb_NO.utf8
[12:52:10] *** Joins: woky (~woky@li1651-31.members.linode.com)
[12:52:50] <Earnestly> geirha: Do you think it might be useful to add some bizarre charset to the collection?
[12:53:27] <Soliton> what do you mean with charset?
[12:53:52] <Soliton> et_EE is a locale where [a-z] doesn't include all letters.
[12:54:24] <Earnestly> # printf '[%s]' /usr/share/i18n/charmaps/*
[12:54:26] <shbot> Earnestly: [/usr/share/i18n/charmaps/*]
[12:54:31] <Earnestly> Well, those if they were here
[12:54:46] <Earnestly> EBCDIC-ES-S lol
[12:56:39] <Earnestly> Soliton: et_EE would be $locale_$charmap, this is the naming convention debian(?) used and everyone copied
[12:56:52] <Earnestly> At least that's what I did when making locale generator thing
[12:58:25] *** Quits: cliluw (~cliluw@47.147.73.223) (Ping timeout: 250 seconds)
[12:59:01] *** Joins: cliluw (~cliluw@47.147.73.223)
[13:00:06] <Soliton> i think it's rather $language_$region.$encoding
[13:00:22] *** Quits: revolve (~u0_a227@cpc100838-bagu15-2-0-cust672.1-3.cable.virginm.net) (Ping timeout: 272 seconds)
[13:00:30] <Earnestly> localedef calls it charmap rather than encoding, but that's probably right
[13:01:16] *** Joins: revolve (~u0_a227@82-132-238-52.dab.02.net)
[13:01:43] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[13:01:50] <grawity> the distinction probably didn't quite exist at the time of iso8859 etc
[13:02:00] <grawity> they did map characters directly to bytes
[13:05:01] *** Joins: bluedust_ (~bluedust@103.161.144.138)
[13:07:02] <Earnestly> # LC_ALL=C input=foo awk 'BEGIN{for(i=0; i<255; ++i)ord[sprintf("%c",i)]=i; n=split(ENVIRON["input"],b,""); for(i=1; i<=n; ++i)printf "%%%02x", ord[b[i]]'
[13:07:09] <shbot> Earnestly: awk: syntax error at source line 1
[13:07:09] <shbot> Earnestly:  context is
[13:07:09] <shbot> Earnestly: etc... ( http://ix.io/3PKc )
[13:07:16] *** Joins: Masterphi (~Masterphi@user/masterphi)
[13:07:18] <Earnestly> Would be nice to see how this responded
[13:07:21] *** Quits: Masterphi (~Masterphi@user/masterphi) (Client Quit)
[13:07:27] *** Quits: bluedust (~bluedust@103.161.144.138) (Ping timeout: 252 seconds)
[13:07:28] <Earnestly> # LC_ALL=C input=foo awk 'BEGIN{for(i=0; i<255; ++i)ord[sprintf("%c",i)]=i; n=split(ENVIRON["input"],b,""); for(i=1; i<=n; ++i)printf "%%%02x", ord[b[i]]}'
[13:07:30] <shbot> Earnestly: %66%6f%6f
[13:07:51] *** Quits: daniel-k3 (~daniel-k@fsf/emeritus/daniel-k) (Remote host closed the connection)
[13:07:59] *** Joins: MajorBiscuit (~MajorBisc@wlan-145-94-218-48.wlan.tudelft.nl)
[13:08:05] *** Joins: daniel-k3 (~daniel-k@fsf/emeritus/daniel-k)
[13:12:45] *** Quits: Naib (~j@user/naib) (Ping timeout: 256 seconds)
[13:15:08] *** Joins: carl- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se)
[13:19:58] *** Joins: Tangent-Man (~Tang3nt-M@cpc145602-basl14-2-0-cust33.20-1.cable.virginm.net)
[13:21:48] *** Quits: dmvrtx (~dmvrtx@znc.dmvrtx.me) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[13:22:55] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.4)
[13:23:42] *** Joins: dmvrtx (~dmvrtx@znc.dmvrtx.me)
[13:25:20] *** Joins: roadie (~user@2a02:8108:5a40:1d87:c562:2252:3032:322)
[13:25:24] *** Quits: jmew (~jmew___@user/jmew) (Ping timeout: 240 seconds)
[13:25:48] *** Joins: Naib (~j@user/naib)
[13:26:02] * twb twitches because LC_ALL=C doesn't reliably mean C.UTF-8
[13:27:41] <twb> Soliton: if you're interested in test cases, Serbian includes the writing system.  There's also the en-GB-oxendict locale, although I haven't seen anyone actually code it
[13:28:13] *** Joins: vysn (~vysn@user/vysn)
[13:28:19] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[13:29:39] <twb> Logically we should be able to ask for something like jbo-SU-Zsye --- Soviet lojban, written in Emoji
[13:32:41] *** Quits: ravan (~ravan@user/ravan) (Ping timeout: 272 seconds)
[13:33:24] *** Joins: wyfnt (~wyfnt1232@103.214.137.74)
[13:38:28] <geirha> there must be some decent klingon we can add..?
[13:38:59] *** Joins: computerworm110 (~quassel@pppoe54176.htc.net)
[13:40:27] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[13:44:04] *** Quits: ncrowl (~ncrowl@31-208-206-123.cust.bredband2.com) (Ping timeout: 272 seconds)
[13:45:15] *** Joins: ncrowl (~ncrowl@31-208-58-135.cust.bredband2.com)
[13:47:29] *** Quits: vicecea (~vicecea@gateway/vpn/pia/vicecea) (Remote host closed the connection)
[13:48:11] *** Joins: vicecea (~vicecea@gateway/vpn/pia/vicecea)
[13:49:22] *** Quits: dmvrtx (~dmvrtx@znc.dmvrtx.me) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[13:49:37] *** Joins: dmvrtx (~dmvrtx@znc.dmvrtx.me)
[13:50:19] *** Quits: roadie (~user@2a02:8108:5a40:1d87:c562:2252:3032:322) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[13:55:43] *** Joins: roadie (~user@2a02:8108:5a40:1d87:6999:1bdb:9135:5243)
[13:55:49] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Remote host closed the connection)
[13:56:07] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[13:56:23] *** Quits: dmvrtx (~dmvrtx@znc.dmvrtx.me) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[13:56:39] *** Joins: dmvrtx (~dmvrtx@znc.dmvrtx.me)
[13:57:00] *** Quits: foul_owl (~kerry@23.105.36.232) (Ping timeout: 240 seconds)
[13:58:35] *** Quits: xayto_ (~xayto@cpc69403-oxfd27-2-0-cust296.4-3.cable.virginm.net) (Ping timeout: 256 seconds)
[14:00:54] *** Joins: xayto (~xayto@cpc69403-oxfd27-2-0-cust296.4-3.cable.virginm.net)
[14:01:15] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[14:05:26] *** Joins: Soni (~quassel@autistic.space)
[14:05:49] *** Quits: roadie (~user@2a02:8108:5a40:1d87:6999:1bdb:9135:5243) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[14:06:55] <Soni> has anyone made a bash JIT with FastCLI support so you can write a minecraft server in bash and have it run decently performant?
[14:07:19] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Remote host closed the connection)
[14:07:41] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[14:07:41] <selckin> i'd call the psychiatric hospital emergency line
[14:08:24] <Soliton> it certainly does look like some life choices may have no been beneficial.
[14:09:59] <grawity> Soni: cheat by using loadable builtins
[14:11:50] *** Quits: tobybl (~tobybl@214.242.200.146.dyn.plus.net) (Remote host closed the connection)
[14:11:52] <Soliton> the only way to actually write a network server in bash anyway.
[14:12:44] *** Joins: roadie (~user@2a02:8108:5a40:1d87:4c6c:19d7:d474:90e1)
[14:12:58] <Soni> can you not listen on /dev/tcp and spawn /dev/fd's as needed?
[14:13:24] *** Quits: adac (~adac@clnet-b03-098.ikbnet.co.at) (Ping timeout: 240 seconds)
[14:13:45] *** Joins: foul_owl (~kerry@23.82.193.104)
[14:14:43] <grawity> Soliton: the minecraft-server-in-bash project that went around yesterday seems to have used netcat
[14:14:51] <grawity> Soni: unfortunately no :(
[14:15:03] <Soni> oh :(
[14:15:05] <Soliton> yeah, i would have guessed nc.
[14:15:49] <grawity> Soni: now zsh on the other hand, https://zsh.sourceforge.io/Doc/Release/TCP-Function-System.html
[14:18:01] *** Joins: chrish136 (~chrish@149.167.205.148)
[14:19:02] <Soni> also hmm, we guess you can avoid xxd by using read -N 1 and case?
[14:19:21] *** Joins: seninha (~seninha@user/seninha)
[14:19:49] <Soni> but you'd still need a JIT to make that performant
[14:20:55] <twb> Soni: what is "fastCLI" ?
[14:21:19] <Soni> twb: FastCGI but for CLI
[14:21:31] <twb> but... fastcgi is already for CLI
[14:21:50] <Soni> a way to keep processes "hot" to skip startup/loading times
[14:22:16] <twb> Just use h3
[14:22:39] <grawity> wat
[14:22:51] *** Joins: ShotokanZH (~ShotokanZ@aitch.me)
[14:23:28] <Soni> why fork/exec when you can just reuse the same process over and over
[14:24:14] *** Joins: UnnamedBeer (~UnnamedBe@75.red-79-159-0.dynamicip.rima-tde.net)
[14:24:59] <twb> So AIUI your actual question is "can I write a fast web app in bash?" and mentioning specific legacy technologies like fastcgi is just a distraction.
[14:25:24] <Soni> no, it's about minecraft servers
[14:26:34] *** Joins: adac (~adac@static.153.233.47.78.clients.your-server.de)
[14:26:35] <twb> Surely, then, you want minecraft netcode, and web is irrelevant
[14:26:58] <Soni> can you run awk in fastcgi in bash?
[14:28:18] <Soni> tbh this whole idea is ridiculous and the only reason anyone would want to do it is pure masochism
[14:28:33] <twb> Certainly fcgi is
[14:29:04] <Soni> so feel free to /ignore us for the time being, we'll go back to more normal stuff once we get bored with this
[14:29:25] <twb> This describes the netcode: https://minecraft.fandom.com/wiki/Classic_server_protocol
[14:29:44] *** Quits: lavaball (felix@31.204.155.215) (Quit: lavaball)
[14:29:46] <Soni> (altho you wouldn't know when that is if you were to actually /ignore us)
[14:30:03] <twb> You'd have to write code that can talk bytes on tcp.  printf and /dev/tcp can probably do most of that
[14:30:40] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:32:40] *** Quits: lux0r- (~lux0r@65.56.68.34.bc.googleusercontent.com) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[14:32:42] *** Quits: chrish136 (~chrish@149.167.205.148) (Quit: WeeChat 3.4)
[14:34:02] *** Quits: roadie (~user@2a02:8108:5a40:1d87:4c6c:19d7:d474:90e1) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[14:38:57] *** Quits: ackyshake (~ackyshake@user/ackyshake) (Quit: Soupy Twist!)
[14:42:03] *** Joins: ackyshake (~ackyshake@user/ackyshake)
[14:46:13] *** Quits: woky (~woky@li1651-31.members.linode.com) (Quit: Nothing in this world is hopeless!)
[14:46:36] *** Quits: sinaowolabi (~SinaOwola@160.152.17.218) (Ping timeout: 240 seconds)
[14:48:04] *** Joins: woky (~woky@li1651-31.members.linode.com)
[14:48:40] *** Quits: suss (~user@user/suss) (Ping timeout: 272 seconds)
[14:48:58] <welder> What is setting TERM variable in bash?
[14:49:23] <osse> welder: as in where it comes from? usually the terminal emulator
[14:49:24] *** masoudd_ is now known as masoudd
[14:49:25] <welder> how does that happen, that starting terminal emulator in X sets it to xterm-color but connecting over serial sets to basic colorless?
[14:49:40] *** Joins: lux0r (~lux0r@65.56.68.34.bc.googleusercontent.com)
[14:49:44] <welder> when i manually set term and exec bash, i got the colors over serial - my question is how to automatize it?
[14:49:59] <welder> i dont want to edit bashrc globally, i'd like to make colros work over serial
[14:50:02] *** Joins: zoe (~zoe@fsf/member/zoe)
[14:50:15] <osse> how do you connect over serial?
[14:50:25] <welder> screen /dev/tty...
[14:50:43] <welder> screen /dev/ttyUSB0 460800
[14:50:43] <osse> screen usually overrides TERM
[14:50:46] *** Quits: revolve (~u0_a227@82-132-238-52.dab.02.net) (Read error: Connection reset by peer)
[14:50:50] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[14:51:03] <welder> there is -T in screen
[14:51:04] <osse> because as far as the stuff inside screen is concerned, screen is a terminal emulator
[14:51:06] <welder> i read the man
[14:51:41] <welder> hmm but it doesnt seem to work but at least i have where to look
[14:52:19] *** Joins: revolve (~u0_a227@cpc100838-bagu15-2-0-cust672.1-3.cable.virginm.net)
[14:52:28] *** Quits: Jong (~Jong@163.114.132.5) (Ping timeout: 272 seconds)
[14:58:38] *** Joins: sinaowolabi (~SinaOwola@160.152.11.232)
[14:58:43] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[14:59:49] *** Joins: deadrom (~mccoy@pd9e3f1a2.dip0.t-ipconnect.de)
[14:59:51] <deadrom> hi
[15:01:07] <deadrom> gnu bash 4.4. on cygwin: how to grep [ ? I tried every combo of ' " \ -E and whatnot I could think of but I don't get it. txt file contains lines starting with [blah], want to get these
[15:01:11] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Remote host closed the connection)
[15:01:28] *** Joins: vishal (~vishal@fedora/vishal)
[15:01:34] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[15:03:08] *** Joins: l4s8g (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[15:03:15] *** Quits: bluedust_ (~bluedust@103.161.144.138) (Remote host closed the connection)
[15:03:16] *** Quits: l4s8g (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Remote host closed the connection)
[15:04:12] *** Quits: han-solo (~hanish@user/han-solo) (Ping timeout: 240 seconds)
[15:04:21] *** Joins: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[15:05:14] <koollman> deadrom: every combo, truely ? https://dpaste.org/wPP6 :)
[15:06:43] <koollman> maybe you'll want something like: grep '^\['
[15:07:00] *** Quits: computerworm110 (~quassel@pppoe54176.htc.net) (Ping timeout: 240 seconds)
[15:07:18] *** Quits: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Remote host closed the connection)
[15:08:14] *** Joins: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[15:08:49] *** Joins: N4buc0- (~N4buc0@2804:7f4:348b:7ad3:f9c4:3da4:7245:fcdb)
[15:09:35] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 240 seconds)
[15:10:19] <jelly> # printf '[blah] match\nnoblah no match\n' | grep -F '[blah]'
[15:10:20] <shbot> jelly: [blah] match
[15:10:22] <deadrom> koollman, I stopped switches with grep  -- right away before I went for the rest. seems that was too much.
[15:10:36] <jelly> # printf '[blah] match\nnoblah no match\n' | grep '^\[blah\]'
[15:10:38] <shbot> jelly: [blah] match
[15:11:03] <deadrom> still -E '\[' acts strange, says "binary file matches" on a pure text file.
[15:11:46] <jelly> deadrom, it's not a pure text if it says that.  Use -a to force intepreting as text, or find the right locale to match the contents
[15:11:49] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Read error: Connection reset by peer)
[15:12:24] <jelly> GNU grep has -a; I do not know about other greps.
[15:14:24] <Soni> yeah nvm we're bored with it. thanks for entertaining the idea for us tho.
[15:14:28] *** Parts: Soni (~quassel@autistic.space) (http://quassel-irc.org - Chat comfortably. Anywhere.)
[15:14:52] <geirha> see what the file(1) command says about the file.
[15:15:35] <deadrom> jelly, utf-16, wth
[15:16:03] <deadrom> cygwin and windows text tools.. sigh.
[15:16:35] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Ping timeout: 240 seconds)
[15:16:36] <geirha> microsoft loves utf-16 for some reason
[15:17:04] <grawity> mostly because windows' unicode support slightly predates the existence of utf-8
[15:17:17] <geirha> iconv -f utf-16 -t utf-8 < file.txt | grep '\[blah\]'
[15:17:17] <grawity> unicode pretty much *was* ucs-2 at the time
[15:17:25] <jelly> NT used UCS-2 internally for many APIs
[15:17:33] <grawity> though now they're for some unknown reason finally adding UTF-8 support to the 'ANSI' APIs
[15:17:41] *** Joins: nyex (~Thunderbi@177.84.107.26)
[15:17:48] <grawity> and, weirdly, even calling the UTF-16 *W() APIs "legacy" in a few places
[15:17:51] <deadrom> so MS was actually at the height of something for a change?
[15:18:00] <jelly> but then Unicode went and added more than 65536 characters...
[15:20:18] <grawity> UTF-8 was "officially presented at USENIX" in 1993 – by that time, the Unicode-based Windows NT 3.1 was well into the public-beta stage
[15:22:11] *** Quits: adac (~adac@static.153.233.47.78.clients.your-server.de) (Quit: Leaving)
[15:25:34] *** Joins: timm (~timm@user/timm)
[15:26:15] *** Joins: bluedust (~bluedust@103.161.144.138)
[15:33:45] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 252 seconds)
[15:33:59] *** Joins: seninha (~seninha@user/seninha)
[15:34:51] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 252 seconds)
[15:35:01] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[15:40:12] *** Joins: cdown (~cdown@163.114.131.1)
[15:42:42] *** Quits: brw (~bas@haring.bas.sh) (Read error: Connection reset by peer)
[15:43:08] *** Joins: brw (~bas@haring.bas.sh)
[15:44:12] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 240 seconds)
[15:50:06] *** Quits: arinov_ (~arinov@213.194.126.155) (Ping timeout: 272 seconds)
[15:55:58] *** Joins: bliminse (~bliminse@host86-158-241-239.range86-158.btcentralplus.com)
[15:56:40] <tercaL> I'm in a directory structure like; /home/myftp/2019/08/24/ and there is a "gazete.pdf" file within it.
[15:57:14] <tercaL> So the full path of the PDF file is; /home/myftp/2019/08/24/gazete.pdf, now the question is, how can I rename "gazete.pdf" file to become; "2019-08-24-gazete.pdf" (Thousands of folders in such situation)
[15:58:06] <tercaL> I already implemented a shell script to enter each directory and issue a command, like; find . -maxdepth 3 -type d \( ! -name . \) -exec bash -c "cd '{}' && COMMAND_TO_COME_HERE" \;
[15:58:36] <Soliton> don't inject paths into shell code.
[15:58:44] <tercaL> but I have no idea what command could that be, to replace gazete.pdf filename, regarding the ../../../ directory structure names, in a format like; 2019-08-24-gazete.pdf
[15:59:05] <Soliton> -exec bash -c '... "$1" ...' bash {} \;
[15:59:30] <Soliton> why do you use find at all?
[15:59:42] <Soliton> seems like a simple fixed dir structure.
[15:59:58] <tercaL> find is executed in: "/home/myftp/" to search all directories and find "gazete.pdf" file in each.
[16:00:18] <Soliton> for file in /home/myftp/*/*/*/*.pdf; do ...; done
[16:01:01] <Soliton> !faq 100
[16:01:01] <greybot> https://mywiki.wooledge.org/BashFAQ/100 -- How do I do string manipulations in bash?
[16:01:12] <tercaL> "do ...; done" is my question part :)
[16:01:30] <Soliton> well, it changes if you must use find for some reason.
[16:01:44] *** Joins: tobybl (~tobybl@214.242.200.146.dyn.plus.net)
[16:03:27] <tercaL> Soliton: for file in /home/myftp/*/*/*/*.pdf; <-- seems better.
[16:03:34] <jelly> tercaL, you want to /home/myftp/2019/08/24/gazete.pdf -> /home/myftp/2019/08/24/2019-008-24-gazete.pdf ?
[16:03:50] <jelly> typo notwithstanding
[16:03:59] <tercaL> jelly: /home/myftp/2019/08/24/gazete.pdf -> /home/myftp/2019/08/24/2019-08-24-gazete.pdf
[16:04:05] <jelly> right
[16:04:10] <tercaL> /home/myftp/2020/01/01/gazete.pdf -> /home/myftp/2019/08/24/2020-01-01-gazete.pdf
[16:04:12] <tercaL> so, indeed.
[16:04:42] <tercaL> /home/myftp/2020/01/01/gazete.pdf -> /home/myftp/2020/01/01/2020-01-01-gazete.pdf
[16:04:48] <jelly> right
[16:05:11] <Soliton> # mkdir -p 2019/08/24; touch 2019/08/24/gazete.pdf; for file in */*/*/*.pdf; do new=${file%/*}/${file//\//-}; echo mv "$file" "$new"; done
[16:05:13] <tercaL> (and then, I'll move all *-gazete.pdf files within a directory, that's ok too, I can)
[16:05:14] <shbot> Soliton: mv 2019/08/24/gazete.pdf 2019/08/24/2019-08-24-gazete.pdf
[16:05:36] <jelly> tercaL, you can rename and move with a single command.
[16:06:43] *** Joins: lavaball (felix@31.204.155.215)
[16:06:46] <Soliton> will be easier and safer to move to a new dir.
[16:07:52] <jelly> gazete with a single t just rubs me the wrong way.
[16:09:04] <Soliton> probably not english.
[16:11:03] *** Joins: Kruppt (~Kruppt@50-111-60-7.drhm.nc.frontiernet.net)
[16:15:10] <tercaL> jelly: Kurdish :) thanks a lot Soliton jelly, worked great.
[16:16:15] *** Quits: nunggu_ (~q@user/nunggu) (Ping timeout: 240 seconds)
[16:16:20] <jelly> neat!
[16:18:10] *** Quits: bluedust (~bluedust@103.161.144.138) (Remote host closed the connection)
[16:19:14] *** Quits: libc (~archer@user/tessio) (Ping timeout: 272 seconds)
[16:19:58] *** Joins: nunggu_ (~q@user/nunggu)
[16:20:42] *** Joins: SWISSMANN (~SWISSMANN@2001-4dd2-5e3c-0-df30-62d1-7594-7534.ipv6dyn.netcologne.de)
[16:22:04] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.21)
[16:24:12] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[16:27:39] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 252 seconds)
[16:39:35] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[16:39:55] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[16:43:16] *** Joins: bluedust (~bluedust@103.161.144.138)
[16:43:38] <twb> Soliton: obviously not -- it's a French mangling of a Veneto word (gazeta).
[16:46:01] *** Joins: diamondbond (~diamondbo@175.157.50.34)
[16:46:21] *** Quits: sinaowolabi (~SinaOwola@160.152.11.232) (Ping timeout: 250 seconds)
[16:46:30] *** Joins: thiras (~thiras@user/thiras)
[16:49:29] *** Quits: diamondbond (~diamondbo@175.157.50.34) (Client Quit)
[16:50:45] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 252 seconds)
[16:51:59] *** Joins: seninha_ (~seninha@user/seninha)
[16:52:11] *** Quits: seninha_ (~seninha@user/seninha) (Remote host closed the connection)
[16:54:49] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 256 seconds)
[16:57:54] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 252 seconds)
[16:57:56] *** Joins: yustin (~yustin@user/yustin)
[16:59:52] *** Joins: to_gl (~to_gl@193.164.24.245)
[16:59:59] *** Parts: to_gl (~to_gl@193.164.24.245) ()
[17:01:24] *** Quits: revolve (~u0_a227@cpc100838-bagu15-2-0-cust672.1-3.cable.virginm.net) (Ping timeout: 240 seconds)
[17:02:28] *** Joins: libc (~archer@user/tessio)
[17:02:53] *** Joins: revolve (~u0_a227@82-132-238-52.dab.02.net)
[17:05:19] *** Quits: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:05:56] *** Joins: thyriaen (~thyriaen@simnet-nat-pool-185-130-54-167.stargrpns.pp.ua)
[17:05:56] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[17:08:00] *** Quits: libc (~archer@user/tessio) (Ping timeout: 272 seconds)
[17:08:39] *** Joins: libc (~archer@user/tessio)
[17:09:23] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.21) (Read error: Connection reset by peer)
[17:09:25] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[17:09:27] *** Quits: shad (~shad@user/shad) (Ping timeout: 252 seconds)
[17:10:33] *** Quits: tobybl (~tobybl@214.242.200.146.dyn.plus.net) (Remote host closed the connection)
[17:12:45] *** Joins: sinaowolabi (~SinaOwola@102.134.114.21)
[17:13:46] *** Joins: shad (~shad@user/shad)
[17:14:36] *** Quits: libc (~archer@user/tessio) (Remote host closed the connection)
[17:15:04] *** Joins: libc (~archer@user/tessio)
[17:16:31] *** Quits: bluedust (~bluedust@103.161.144.138) (Remote host closed the connection)
[17:26:03] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:9907:fd57:1e89:a529)
[17:26:03] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:9907:fd57:1e89:a529) (Changing host)
[17:26:03] *** Joins: skapata (~Skapata@user/skapata)
[17:26:30] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 252 seconds)
[17:28:20] *** Joins: luckiswithme (~luckiswit@149.167.138.15)
[17:33:20] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[17:33:48] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[17:34:58] *** Joins: aehu6ce8 (~aehu6ce8@31.187.110.131)
[17:34:59] *** Joins: Atque (~Atque@user/atque)
[17:36:41] *** Joins: Guest14 (~Guest14@dyn16.enst-bretagne.fr)
[17:37:36] *** Joins: arinov_ (~arinov@213.194.126.155)
[17:38:03] <Guest14> hi, is there a way using diff, to ignore some of the differences ? i.e. : the year of Copyright is different in the text in all files, I don't want this to be compared
[17:40:09] <geirha> not really. You can filter the files through grep or another tool to remove some parts though...   diff -u <(grep -v Copyright file.orig) <(grep -v Copyright file.new)
[17:41:13] <pj> gnu diff has -I...
[17:41:22] <pj>        -I, --ignore-matching-lines=RE              ignore changes where all lines match RE
[17:41:56] <pj> sorry, that's diffutils
[17:41:59] <geirha> Ah, then I stand corrected
[17:42:29] <geirha> well diffutils is GNU
[17:42:35] <pj> yeah, it's GNU diff
[17:42:44] *** Quits: mpagano (~quassel@gentoo/developer/mpagano) (Quit: Quitting)
[17:42:50] *** Joins: rufito (~phil@186-79-29-179.baf.movistar.cl)
[17:43:41] *** setesat2 is now known as setesat
[17:43:54] <pj> I'm not exactly sure how it handles it if that line has to be in the context, though.
[17:43:55] *** Quits: nyex (~Thunderbi@177.84.107.26) (Quit: nyex)
[17:44:16] *** Joins: Kyuzo68 (~Kyuzo@host-82-61-194-118.retail.telecomitalia.it)
[17:45:21] *** Joins: mpagano (~quassel@gentoo/developer/mpagano)
[17:45:41] <pj> # diff -I ^ignore <(printf '%s\n' one ignore-A three-A four five) <(printf '%s\n' one ignore-B three-B four five)
[17:45:45] *** Joins: Everything (~Everythin@37.115.210.35)
[17:45:46] *** Joins: voidsync (~void@user/voidsync)
[17:45:47] <shbot> pj: 2,3c2,3
[17:45:47] <shbot> pj: < ignore-A
[17:45:47] <shbot> pj: etc... ( http://ix.io/3PL9 )
[17:45:59] <pj> # diff -u -I ^ignore <(printf '%s\n' one ignore-A three-A four five) <(printf '%s\n' one ignore-B three-B four five)
[17:46:07] <shbot> pj: --- /dev/fd/63  2022-02-16 14:16:00.307999993 +0000
[17:46:07] <shbot> pj: +++ /dev/fd/62  2022-02-16 14:16:00.319999993 +0000
[17:46:07] <shbot> pj: and so forth... (but now the pastebin is sick of me)
[17:46:17] <pj> bleh, that doesn't help
[17:46:18] *** Quits: shad (~shad@user/shad) (Ping timeout: 252 seconds)
[17:47:11] <pj> doesn't seem to ignore the line at all
[17:47:30] *** Joins: tobybl (~tobybl@214.242.200.146.dyn.plus.net)
[17:48:10] *** Joins: cdown_ (~cdown@188.214.11.14)
[17:49:42] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[17:50:12] *** Quits: UnnamedBeer (~UnnamedBe@75.red-79-159-0.dynamicip.rima-tde.net) (Ping timeout: 240 seconds)
[17:50:36] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 240 seconds)
[17:50:37] *** cdown_ is now known as cdown
[17:52:21] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 252 seconds)
[17:52:38] <Guest14> pj, geirha, sorry, I forgot to give this important detail, I'm trying to only list when file differs or not using diff -q, ignoring the Copyright change (I can use grep -v and sed for the complete diff)
[17:55:23] <pj> geirha's recommendation will work, then, just remove the line with grep -v when diffing.
[17:55:27] *** Parts: Everything (~Everythin@37.115.210.35) ()
[17:55:41] <pj> and -I should, in theory, work ...
[17:56:12] *** Quits: revolve (~u0_a227@82-132-238-52.dab.02.net) (Ping timeout: 240 seconds)
[17:56:35] *** Joins: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net)
[17:56:49] <pj> # diff -q -I ^ignore <(printf '%s\n' one ignore-A three four five) <(printf '%s\n' one ignore-B three four five); echo $?
[17:56:51] <shbot> pj: 0
[17:57:02] <pj> # diff -q -I ^ignore <(printf '%s\n' one ignore-A three-A four five) <(printf '%s\n' one ignore-B three-B four five); echo $?
[17:57:04] <shbot> pj: Files /dev/fd/63 and /dev/fd/62 differ
[17:57:04] <shbot> pj: 1
[17:57:12] <pj> Guest14: ^^^^^
[17:57:27] *** Joins: revolve (~u0_a227@cpc100838-bagu15-2-0-cust672.1-3.cable.virginm.net)
[17:57:55] <pj> -I works for that, it just doesn't seem to work in conjunction with -u
[17:58:00] *** Joins: shad (~shad@user/shad)
[17:59:05] *** Quits: ncrowl (~ncrowl@31-208-58-135.cust.bredband2.com) (Quit: leaving)
[17:59:22] *** Joins: ncrowl (~ncrowl@31-208-58-135.cust.bredband2.com)
[18:00:34] <Soliton> how does it not work with -u?
[18:03:17] *** Quits: Guest14 (~Guest14@dyn16.enst-bretagne.fr) (Quit: Client closed)
[18:03:28] *** Joins: Guest14 (~Guest14@dyn16.enst-bretagne.fr)
[18:04:30] *** Quits: luckiswithme (~luckiswit@149.167.138.15) (Remote host closed the connection)
[18:04:54] <Guest14> pj, if I get it right, the word after the symbol ^ is what diff will ignore ? For me it would have meant "line begin with this word"
[18:05:35] *** Joins: luckiswithme (~luckiswit@149.167.138.15)
[18:05:55] <Soliton> yes, it's a regex.
[18:06:02] <pj>  ^ anchors the regex to the beginning of the line.
[18:06:06] *** Quits: tobybl (~tobybl@214.242.200.146.dyn.plus.net) (Remote host closed the connection)
[18:06:21] <Soliton> you put there whatever regex is appropriate for your case.
[18:06:26] <pj> without the ^ the regex could match anywhere in the line.
[18:06:49] *** Quits: cuppajoe (~joe@ip70-171-93-122.no.no.cox.net) (Quit: WeeChat 3.4)
[18:07:05] <pj> but yes, what Soliton said, put whatever is appropriate for your use case, that regex was simply to match the ignore-A and ignore-B lines.
[18:07:42] *** Quits: luckiswithme (~luckiswit@149.167.138.15) (Remote host closed the connection)
[18:08:06] *** Joins: mtk_ (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[18:08:12] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Ping timeout: 240 seconds)
[18:08:12] *** Quits: skered (~dereks@user/skered) (Ping timeout: 240 seconds)
[18:08:12] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 240 seconds)
[18:08:12] *** Quits: aakashhemadri (~aakashhem@2400:8904::f03c:93ff:fe84:57c9) (Ping timeout: 240 seconds)
[18:08:12] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 240 seconds)
[18:08:36] *** Quits: edlou (uid413273@id-413273.helmsley.irccloud.com) (Ping timeout: 240 seconds)
[18:09:39] *** Joins: drd (~drd@93-42-66-75.ip85.fastwebnet.it)
[18:10:13] *** Joins: luckiswithme (~luckiswit@149.167.138.15)
[18:10:30] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[18:10:36] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[18:11:11] <Guest14> pj Soliton, in my case, I'm trying to ignore that word everywhere in a line, using diff -r -I Copyright      I still get "# Copyright (C) 2021"
[18:11:13] <Earnestly> Here's a though.  If you want to loop over glob file matches but don't want to if condition each iteration (posix, no nullglob).  Is it that silly to use: if [ -f glob ]; then for f in glob; do ...; done; fi.  The difference is then cost of glob + many if, vs. one if and two glob valuations
[18:11:29] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[18:11:36] *** Joins: YaoNai (~YaoNai@user/yaonai)
[18:11:44] <Earnestly> Though might have to use set -- so -f "$1"
[18:11:58] *** Quits: Namarrgon (~Namarrgon@archlinux/op/Namarrgon) (Quit: update)
[18:12:02] <Earnestly> (And unlike for glob, set suffers arg_max)
[18:12:06] *** Joins: unop (~unop@195.91.14.193)
[18:12:09] <Earnestly> (or does it?)
[18:12:33] *** Quits: Kyuzo68 (~Kyuzo@host-82-61-194-118.retail.telecomitalia.it) (Quit: Konversation terminated!)
[18:12:38] <geirha> no, set is builtin
[18:12:51] <Soliton> # diff -r -I Copyright <(printf '%s\n' one '# Copyright (C) 2021' three four) <(printf '%s\n' one '# Copyright (C) 2022' three four)
[18:12:52] <shbot> Soliton: no output
[18:12:53] <geirha> arg_max only comes into play when execve(2) is involved
[18:13:03] <pj> Guest14: if other lines diff it will still include the ignored line in the output, this is probably because there is no way for it to produce an accurate diff without including the line, it wouldn't be able to properly patch the file.
[18:13:13] <Soliton> Guest14: you need to show more of your case.
[18:13:17] <Earnestly> This seems like not a terrible idea then
[18:13:33] *** Joins: Namarrgon (~Namarrgon@archlinux/op/Namarrgon)
[18:13:36] *** Joins: aakashhemadri (~aakashhem@2400:8904::f03c:93ff:fe84:57c9)
[18:13:38] <Earnestly> set -- glob; if [ sometest "$1" ]; then for foo; do ...; done; fi
[18:13:47] *** Quits: YaoNai (~YaoNai@user/yaonai) (Client Quit)
[18:14:04] *** Joins: YaoNai (~YaoNai@user/yaonai)
[18:14:13] <Earnestly> (also avoids having to evaluate the glob twice)
[18:14:23] <geirha> !exists
[18:14:24] <greybot> Check if any file matches a given pattern: exists() { [[ -e $1 ]]; }; shopt -s nullglob; if exists *.txt; then ...
[18:14:34] *** Joins: han-solo (~hanish@user/han-solo)
[18:14:53] *** Joins: bluedust (~bluedust@103.161.144.138)
[18:15:51] <Earnestly> geirha: I wish posix had nullglob, because if so the test would be unnecessary (unless there is specific need for file, directory can be found by exploiting path_resolution(7))
[18:16:23] *** Joins: f00 (~timm@user/timm)
[18:17:02] <Guest14> pj Soliton, I have a list of files with code that sometimes changes betweem 2 versions, sometimes not. Evaluating this is simple with diff or just using git. However, sometimes, there is no change except "Copyright 2021..." or "Copyright 2022" betweem the files. I would like to ignore these change to have a list of "real change" different of
[18:17:02] <Guest14> Copyright change
[18:17:25] <Soliton> and as you can see above that works fine.
[18:17:27] *** Quits: luckiswithme (~luckiswit@149.167.138.15) (Remote host closed the connection)
[18:17:48] <pj> Guest14: show your code.
[18:17:52] <Soliton> so if it does not work for you need to show specifics. we're not going to randomly guess them.
[18:17:53] <Earnestly> Eeeeh.
[18:17:56] <pj> !paste > Guest14
[18:17:56] <greybot> Guest14: Paste short snippets (<= 5 lines) in channel. Paste more using http://paste.debian.net/ or http://paste.wooledge.org/ or see !ix or !sprunge. Please don't use pastebin.com -- it's full of ads and mangles whitespace. NEVER upload screen shots. Don't use a site that requires Javascript, or registration to view raw.
[18:18:00] *** Quits: timm (~timm@user/timm) (Read error: Connection reset by peer)
[18:18:03] *** Quits: chenqisu1 (~chenqisu1@183.217.200.249) (Remote host closed the connection)
[18:18:16] <Earnestly> You want semantic diff for this, exclusions like Copyright might miss your amazing int Copyright() function
[18:18:43] *** Quits: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Quit: l4s8g_)
[18:19:00] <Earnestly> Or at least something which can state "if in comment and comment is copyright heading, exclude"
[18:19:17] *** Joins: l4s8g (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[18:19:33] <Earnestly> The real problem here is to stop putting yourself in a corner where you even need "real" diffs
[18:19:41] <Earnestly> The real solution*
[18:20:05] *** Joins: luckiswithme (~luckiswit@149.167.138.15)
[18:21:26] <Guest14> pj, oh sorry, I get it now, it works when 2 files have the word Copyright, but when one file matches "Copyright" in file1 and "foo" in file2, it doesn't ignore the case
[18:21:28] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 272 seconds)
[18:21:54] <Soliton> of course. why would it ignore that.
[18:22:25] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[18:22:47] *** Joins: skered (~dereks@user/skered)
[18:22:53] <Earnestly> It is a shame that compilers can parse their inputs at rates of a million or more lines per-second, but they don't expose these "library routines" as commands
[18:23:47] *** Joins: Minvera (~Minvera@user/Minvera)
[18:24:03] <Earnestly> (Although lately newer ones tend to have ways to dump json)
[18:24:22] <Earnestly> Could then diff the ast
[18:24:51] <selckin> gumtreediff
[18:25:20] <Guest14> # diff -r -I Copyright <(printf '%s\n' one '# Copyright (C) 2021' three four) <(printf '%s\n' one '# Copyright (C) 2022' three four
[18:25:27] <shbot> Guest14: Missing terminating quote, bracket or keyword
[18:25:37] *** Quits: twb (~twb@2403-5804-c6--cfeb-44f7-7895-9800.ip6.aussiebb.net) (Ping timeout: 240 seconds)
[18:26:07] <Guest14> # diff -r -I Copyright <(printf '%s\n' one '# Copyright (C) 2021' three four) <(printf '%s\n' one '# Copyright (C) 2022' three four)
[18:26:09] <shbot> Guest14: no output
[18:26:25] <Guest14> # diff -r -I Copyright <(printf '%s\n' one '# Copyright (C) 2021' three four) <(printf '%s\n' one '# foo' three four)
[18:26:26] *** Joins: ELFrederich (~ELFrederi@siemens-industry-software-inc-216-196-155-202.static.fuse.net)
[18:26:29] <shbot> Guest14: 2c2
[18:26:29] <shbot> Guest14: < # Copyright (C) 2021
[18:26:29] <shbot> Guest14: and so forth... (but now the pastebin is sick of me)
[18:27:22] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[18:27:52] *** Joins: l4s8g___ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[18:27:56] <Soliton> # diff -r -I Copyright -I foo <(printf '%s\n' one '# Copyright (C) 2021' three four) <(printf '%s\n' one '# foo' three four)
[18:27:58] <shbot> Soliton: no output
[18:28:07] <Soliton> (if that is really what you want.)
[18:28:31] <pj> if you're using -q (which you said you were using) then the exit code will work the way you want regardless.
[18:28:45] <ELFrederich> I just ran "tail -n +0 some_file.log" ... without the -f option.  Realized that could be an alias for cat ;-)
[18:28:53] *** Quits: l4s8g (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[18:29:35] <Guest14> Soliton comparing A and B is not the same as B and A ?
[18:30:09] <Soliton> wha
[18:30:39] <Soliton> is this a generic logic question or are we still on the diff topic?
[18:31:02] *** Quits: Anvil (~anvil@193.252.149.222) (Ping timeout: 240 seconds)
[18:32:40] <Guest14> Soliton I don't get why in your last example ignoring foo, which is present in file2 works, but ignoring Copyright, which is present in file1 doesn't work when file2 contains "foo" instead... O I'm just getting lost ?
[18:32:59] <Soliton> i added -I foo.
[18:33:06] *** Joins: Anvil (~anvil@193.252.149.222)
[18:33:27] <Soliton> not that you gave any hint so far that you want to ingore foo but your example seemed to suggest it.
[18:34:41] <pj> My understanding is that Copyright will be in both files, but the line differs as to full content and you simply want to ignore the entire line.  If it had foo instead of Copyright I would think you would *not* want to ignore that.
[18:35:00] <Soliton> that was my understanding as well.
[18:35:09] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[18:35:23] <Soliton> i have no real idea how this foo stuff comes into this.
[18:35:40] *** Joins: adac (~adac@static.153.233.47.78.clients.your-server.de)
[18:36:40] *** Quits: l4s8g___ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[18:36:43] *** Joins: masber (~masber@2001:620:808:1200:8000::14)
[18:36:46] *** Joins: frostwork (~frostwork@user/frostwork)
[18:37:28] <Guest14> well in my example, comparing a line with -I Coryright, with file1 : Copyright and file2:foo doesn't ignore this difference
[18:37:35] *** Quits: luckiswithme (~luckiswit@149.167.138.15) (Remote host closed the connection)
[18:37:52] <Soliton> WHY would you want that?
[18:37:59] *** Joins: furrymcgee (~devuan@cgn-89-1-211-93.nc.de)
[18:38:08] <Guest14> in Soliton's example, doing the same using -I foo with same files see that as a difference
[18:38:40] <Guest14> Soliton I don't want to compare any case matching Copyright...
[18:39:05] *** Quits: mannequin (uid453465@id-453465.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[18:39:13] <Soliton> that sounds weird.
[18:39:19] <Guest14> Soliton like a "grep -v Copyright"
[18:39:36] <Soliton> as long as Copyright is in one file you don't care about any changes?
[18:40:12] <Earnestly> I wonder if this is their solution to running diff on a large codebase where almost all files just show copyright updates and other changes become burried in the noise
[18:40:20] <Earnestly> -r
[18:40:33] <Guest14> Soliton yes, in the case of a line containing Copyright and a line containing foo
[18:40:56] <Soliton> makes zero sense to me. there is not going to be any tool that does that.
[18:41:16] <Soliton> unless you mean specifically foo then i already showed it above.
[18:41:44] *** Joins: luckiswithme (~luckiswit@149.167.138.15)
[18:43:41] <adac> Hi there! If smartcl fails with an error here, the bash script is exiting and then I do not get the error log: https://pastebin.com/jdct0swv what is the best way that the script exits on failure, but still prints out the error message?
[18:43:42] <pasteban> Paste is available without ads on https://pastebin.com/raw/jdct0swv
[18:43:57] <Soliton> !check
[18:43:58] <checkbot> adac: Line 1: boot_disks is referenced but not assigned. Line 3: Use grep -q instead of comparing output with [ -n .. ]. Line 6: Double quote to prevent globbing and word splitting. See https://shellcheck.net/?id=cb24438
[18:44:04] <Guest14> Soliton but I still don't understand why ignoring foo when comparing "foo and copyright" gives a different result than ignoring copyright while comparing "copyright and foo"... Or I missed something
[18:44:33] <Soliton> adac: if you have set -e then remove it.
[18:45:07] <Soliton> Guest14: you're imagining things. there is no such difference.
[18:45:08] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[18:45:19] <adac> Soliton, You mean set -e only for that command?
[18:45:27] <Soliton> !-e
[18:45:27] <greybot> "set -e" is an inheritance of the old bourne shell, and doesn't really work well with modern shell features. You'll really have less buggy scripts if you do the error handling manually instead of relying on the unreliable "set -e"; see http://mywiki.wooledge.org/BashFAQ/105
[18:46:11] *** Joins: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[18:46:13] <Guest14> Soliton oh I'm really sorry, I was just confused, so ignore both foo and copyright, that may be the solution, thanks
[18:46:45] *** Joins: andril (~andril@097-068-232-130.biz.spectrum.com)
[18:46:52] <adac> Ah I see. I should remove it completely
[18:47:11] *** Joins: reset (~reset@user/reset)
[18:50:05] <Soliton> btw, presumably failed_disks wants to be an array.
[18:50:06] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[18:50:32] <Soliton> and who knows if errors works as it should.
[18:51:22] *** Joins: pikaro (~pikaro@54.36.119.32)
[18:52:39] *** Joins: chair1 (~bbs@187.109.25.26)
[18:52:44] <pikaro> hi! is there a trick with which I can display a timestamp or maybe even the current date with only bash and maybe /proc? I'm debugging something where I have a running bash session but no executables on the file system any more. basically, I just need to know how long it's been that a specific process started.
[18:53:23] <omegatron> man date
[18:53:27] <Soliton> # printf '%(%T)T'
[18:53:28] <shbot> Soliton: 15:23:27
[18:53:36] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[18:53:41] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[18:54:04] <omegatron> ah, you meant without any external programs ..  *duh*
[18:54:09] <Soliton> SECONDS tells you how long bash has been running.
[18:55:14] <OnlineCop> # echo $RANDOM$SECONDS
[18:55:16] <shbot> OnlineCop: 321110
[18:56:24] <pikaro> awesome, Soliton, exactly what I need, thanks! never used that before
[18:56:38] <Soliton> the part in parens is a strftime format string. so put there what you like.
[18:57:16] <Soliton> # printf '%(%FT%T)T\n' "$EPOCHSECONDS"
[18:57:17] <shbot> Soliton: 2022-02-16T15:27:17
[18:57:56] <olspookishmagus> pass a list of files to checksum utilies like md5sum, shaNsum? (and yes I'm aware of rmlint)
[18:58:19] *** Joins: Kyuzo68 (~Kyuzo@host-82-61-194-118.retail.telecomitalia.it)
[18:58:41] <chair1> When cp errors, does it keep copying other files or are errors fatal?
[18:58:42] <Soliton> cmd file1 file2 file3
[18:58:46] <olspookishmagus> this "... | xargs sha256sum" won't do in my case due to filenames not being double quoted
[18:59:02] *** Quits: ELFrederich (~ELFrederi@siemens-industry-software-inc-216-196-155-202.static.fuse.net) (Quit: Leaving)
[18:59:09] <Soliton> so the files get output by some command?
[18:59:19] <Soliton> newline delimited?
[18:59:26] *** Quits: N4buc0- (~N4buc0@2804:7f4:348b:7ad3:f9c4:3da4:7245:fcdb) (Remote host closed the connection)
[18:59:34] <olspookishmagus> yeah I got it
[18:59:39] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[18:59:48] <olspookishmagus> ... | tr '\n' \0' | xargs -0 sha256sum did it
[18:59:49] *** Joins: N4buc0- (~N4buc0@2804:7f4:348b:7ad3:f9c4:3da4:7245:fcdb)
[18:59:59] <olspookishmagus> thank you Soliton
[19:00:04] *** Joins: kyr (~kyr@167.71.50.12)
[19:00:37] <olspookishmagus> great I have 5 mp3 files of the same tracka and all with a different checksum
[19:00:48] <olspookishmagus> I'll randomly choose which one to play xD
[19:01:02] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[19:01:22] *** Quits: Mo (~Mo@dynamic-095-112-023-101.95.112.pool.telefonica.de) (Ping timeout: 272 seconds)
[19:01:29] <olspookishmagus> I think I might make an alias for tr '\n' '\0'
[19:03:32] *** Joins: n4dir (~user@88.130.152.123)
[19:04:37] <chair1> More on my cp doubt. I copied some folder from ~ to an HDD that has FAT, thus filenames are case insensitive. cp tried to copy two folders 'awk' and 'Awk' but failed. Now I don't know if the copy completed or halted. I don't want to repeat the copy because it took hours.
[19:05:38] *** Quits: bluedust (~bluedust@103.161.144.138) (Remote host closed the connection)
[19:05:57] *** Quits: greybot (~greybot@remote.wooledge.org) (Ping timeout: 240 seconds)
[19:06:00] *** Quits: thyriaen (~thyriaen@simnet-nat-pool-185-130-54-167.stargrpns.pp.ua) (Quit: Leaving)
[19:06:26] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 272 seconds)
[19:06:30] <olspookishmagus> chair1: I'm having such troubles on filesystem inconsistencies
[19:06:58] <olspookishmagus> for example NTFS won't have a directory ending with '.'
[19:07:25] <olspookishmagus> I'm cataloguing these filesystem inconsistencies, maybe I'll share them sometime, just not now
[19:07:41] <Soliton> if the error was for a specific file then it should procede to the remaining files.
[19:08:44] <chair1> Yeah it was Soliton. I think I'll compare the sizes of the folders in ~ and my HDD to ensure everything was copied
[19:10:29] *** Joins: masber59 (~masber@2001:620:808:1200:8000::14)
[19:10:49] *** Quits: Kyuzo68 (~Kyuzo@host-82-61-194-118.retail.telecomitalia.it) (Quit: Konversation terminated!)
[19:10:53] <Soliton> "If a write error occurred in step 3d, it is unspecified if cp continues with any remaining files."  well, unspecified actually so you better test.
[19:11:54] <olspookishmagus> chair1: are we certain the "folder"/directory sizes are the way to go? I'm certain for files though
[19:12:57] *** Quits: aehu6ce8 (~aehu6ce8@31.187.110.131) (Quit: aehu6ce8)
[19:13:11] <chair1> Sizes won't help because the copy command resolved all symbolic links so maybe the HDD folders will appear bigger
[19:14:31] *** Quits: masber (~masber@2001:620:808:1200:8000::14) (Ping timeout: 256 seconds)
[19:15:32] <Soliton> you could try an rsync dry-run.
[19:17:01] <chair1> I'll check it out Soliton thanks
[19:17:03] *** Quits: mat001 (~mat001@72.28.108.216) (Ping timeout: 256 seconds)
[19:18:25] *** Quits: luckiswithme (~luckiswit@149.167.138.15) (Read error: Connection reset by peer)
[19:20:11] *** Quits: Oleg (~Oleg@ool-45745511.dyn.optonline.net) (Ping timeout: 250 seconds)
[19:22:46] *** Quits: mtk_ (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[19:23:03] *** Joins: jamiejackson (~jamiejack@131.106.140.145)
[19:24:42] *** Joins: Tach_ (~Tach@lfbn-lyo-1-1120-78.w86-248.abo.wanadoo.fr)
[19:24:52] *** Joins: richardm75 (~richardm7@2600:8801:c507:b200:70e6:67da:185a:7c4d)
[19:25:09] <chair1> I tried 'rsync -aniv [folders...] /run/media/bbs/Externo/' but I think I'm missing some flags...
[19:25:20] *** Joins: zebrag (~chris@user/zebrag)
[19:26:23] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[19:26:38] <chair1> I'll lookup some solutions online for now
[19:26:38] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[19:26:39] *** Joins: mat001 (~mat001@72.28.108.216)
[19:27:37] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[19:27:49] *** Quits: Tach (~Tach@user/tach) (Ping timeout: 256 seconds)
[19:27:49] *** Tach_ is now known as Tach
[19:32:21] *** Quits: Guest14 (~Guest14@dyn16.enst-bretagne.fr) (Quit: Client closed)
[19:33:00] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 252 seconds)
[19:33:01] *** Quits: Tach (~Tach@lfbn-lyo-1-1120-78.w86-248.abo.wanadoo.fr) (Quit: Tach)
[19:33:27] *** Joins: Tach (~Tach@user/tach)
[19:34:36] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[19:34:39] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[19:34:53] *** Joins: unop (~unop@195.91.14.193)
[19:34:58] *** Joins: betuxy (~betuxy@p579adb74.dip0.t-ipconnect.de)
[19:35:36] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[19:39:19] *** Joins: kurahaupo (~kurahaupo@pa49-182-2-50.pa.qld.optusnet.com.au)
[19:43:44] *** Joins: crashrep (~crashrep@user/crashrep)
[19:45:51] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[19:46:25] *** Quits: SuperLag (~akulbe@user/superlag) (Quit: leaving)
[19:46:35] <pj> chair1: the unfortunate truth is that you're going to run into more problems than just case insensitivity.  There will be file size limits, directory size limits, other invalid chars, etc.  If the requirement is that the data be readable on a Windows system I would at least use NTFS rather than FAT, but even then you'll still have problems, just not as many.
[19:46:35] *** Joins: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net)
[19:47:17] * Earnestly renames file to COM
[19:50:08] *** Quits: pikaro (~pikaro@54.36.119.32) (Quit: WeeChat 3.4)
[19:51:01] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[19:53:23] *** ablyss_ is now known as ablyss
[19:54:18] *** Joins: Masterphi (~Masterphi@user/masterphi)
[19:55:06] *** Joins: suss (~user@user/suss)
[19:55:08] *** Joins: FluffyMask (~masque@user/fluffymask)
[19:57:38] *** Quits: rya (~ry@user/rya) (Remote host closed the connection)
[19:59:25] *** Joins: Betal (~Betal@user/betal)
[20:00:13] *** Quits: deadrom (~mccoy@pd9e3f1a2.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[20:00:24] *** Joins: deadrom (~mccoy@pd9e3f1a2.dip0.t-ipconnect.de)
[20:01:22] *** Joins: SuperLag (~akulbe@user/superlag)
[20:02:08] *** Joins: Kyuzo68 (~Kyuzo@host-82-61-194-118.retail.telecomitalia.it)
[20:02:41] *** Quits: Kyuzo68 (~Kyuzo@host-82-61-194-118.retail.telecomitalia.it) (Client Quit)
[20:02:56] *** Quits: ablyss (~ablyss@068-118-118-194.biz.spectrum.com) (Quit: Leaving)
[20:03:08] <chair1> thanks for the pointer pj , I'll keep and eye at the limitations and perhaps reformat the HDD with NTFS
[20:04:54] *** Quits: carl- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se) (Ping timeout: 252 seconds)
[20:07:39] *** Quits: fmirkes (~fmirkes@user/fmirkes) (Ping timeout: 252 seconds)
[20:10:38] *** Joins: roadie (~user@2a02:8108:5a40:1d87:1cd2:eb37:5bbd:faa9)
[20:11:37] *** Joins: fmirkes (~fmirkes@user/fmirkes)
[20:12:42] *** Quits: Kruppt (~Kruppt@50-111-60-7.drhm.nc.frontiernet.net) (Quit: Leaving)
[20:14:22] *** Joins: seninha (~seninha@user/seninha)
[20:15:48] *** Quits: han-solo (~hanish@user/han-solo) (Ping timeout: 240 seconds)
[20:17:26] *** Joins: frm (~frm@user/frm)
[20:18:29] *** Joins: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke)
[20:19:40] *** Quits: frm (~frm@user/frm) (Client Quit)
[20:21:33] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.4)
[20:23:04] *** Joins: ChmEarl (~chmearl@user/chmearl)
[20:24:23] *** Quits: chair1 (~bbs@187.109.25.26) (Quit: leaving)
[20:24:27] *** Joins: rgrinberg (~textual@2806:101e:7:5da4:50f5:7256:bb18:3ed3)
[20:25:17] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[20:25:27] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[20:25:57] *** Joins: unop (~unop@195.91.14.193)
[20:30:12] *** Quits: adac (~adac@static.153.233.47.78.clients.your-server.de) (Ping timeout: 252 seconds)
[20:30:19] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[20:34:05] *** Joins: knstn (~knstn@ppp-94-66-57-125.home.otenet.gr)
[20:36:12] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[20:37:31] *** Joins: seninha (~chatzilla@user/seninha)
[20:41:08] *** Quits: masber59 (~masber@2001:620:808:1200:8000::14) (Quit: Client closed)
[20:43:56] *** Quits: Laskolnyk (~wasyl@89-76-136-17.dynamic.chello.pl) (Quit: upgrade)
[20:45:43] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[20:52:28] *** Joins: perohig (~user@85.255.234.173)
[20:54:15] *** Quits: perohig (~user@85.255.234.173) (Remote host closed the connection)
[20:54:26] *** Joins: masber (~masber@2001:620:808:1200:8000::14)
[20:54:34] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[20:55:33] *** Joins: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com)
[20:56:58] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[20:57:54] *** Joins: Laskolnyk (~wasyl@89-76-136-17.dynamic.chello.pl)
[20:58:10] *** Quits: greknod2821 (~grek@120.88.171.98) (Quit: Ping timeout (120 seconds))
[20:58:48] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[20:58:51] *** Quits: N4buc0- (~N4buc0@2804:7f4:348b:7ad3:f9c4:3da4:7245:fcdb) (Remote host closed the connection)
[20:58:51] *** Joins: N4buc0 (~N4buc0@200.139.120.168.dynamic.adsl.gvt.net.br)
[21:00:43] *** Quits: seninha (~chatzilla@user/seninha) (Quit: ChatZilla 0.9.93 [SeaMonkey 2.53.10.2/20220211225827])
[21:01:26] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Client Quit)
[21:01:40] *** Joins: seninha (~chatzilla@user/seninha)
[21:03:08] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[21:03:26] *** Quits: seninha (~chatzilla@user/seninha) (Client Quit)
[21:04:45] *** Joins: seninha (~chatzilla@user/seninha)
[21:06:21] *** Quits: N4buc0 (~N4buc0@200.139.120.168.dynamic.adsl.gvt.net.br) (Remote host closed the connection)
[21:08:11] *** Quits: seninha (~chatzilla@user/seninha) (Client Quit)
[21:08:35] *** Joins: sobkas (~sobkas@95.175.17.217)
[21:08:42] *** Quits: f00 (~timm@user/timm) (Ping timeout: 252 seconds)
[21:08:51] *** Joins: seninha (~chatzilla@user/seninha)
[21:08:56] *** Joins: han-solo (~hanish@103.82.184.213)
[21:10:13] *** Joins: f00 (~timm@user/timm)
[21:11:30] *** Quits: dirigible (~dirigible@2607:9000:0:3:36a4:cf80:2f7b:6990) (Read error: Connection reset by peer)
[21:11:53] *** Joins: dirigible (~dirigible@2607:9000:0:3:36a4:cf80:2f7b:6990)
[21:12:05] *** Joins: superboot (~agentgasm@user/superboot)
[21:12:09] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[21:12:24] *** Joins: unop (~unop@195.91.14.193)
[21:13:06] *** Joins: tmm88 (~tmm88@user/tmm88)
[21:13:45] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[21:16:11] *** Quits: han-solo (~hanish@103.82.184.213) (Changing host)
[21:16:11] *** Joins: han-solo (~hanish@user/han-solo)
[21:16:33] *** Quits: han-solo (~hanish@user/han-solo) (Quit: leaving)
[21:18:14] *** Joins: tobybl (~tobybl@214.242.200.146.dyn.plus.net)
[21:18:47] *** Quits: l4s8g_ (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Quit: l4s8g_)
[21:19:35] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 240 seconds)
[21:20:09] <Swahili> Q: How to use regex capture groups on sed? For example I have "Foobar": "0.1.5", I'd like to replace 0.1.5, so I'd have a pattern like "Foobar" :"(.*)", now could I possible use sed to just change the capture?
[21:20:47] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[21:21:28] <pj> !json > Swahili
[21:21:38] <Swahili> VERSION=0.5 && sed "s/\"Foobar\": \"(.8)\""/$VERSION" foobar.txt
[21:21:58] <Swahili> pj: you know what... since you said "json", I just thought...Duuuh... it's json :X
[21:22:02] <Swahili> thanks pj
[21:22:07] <pj> don't use bash to parse json
[21:22:09] <pj> !jq
[21:22:16] <pj> bleh, looks like the bot is on vacation.
[21:22:26] <pj> look at jq to parse it.
[21:23:07] <Swahili> pj: you are absolutely right, not sure what I was thinking
[21:23:14] <Swahili> :~D
[21:23:52] *** Quits: seninha (~chatzilla@user/seninha) (Ping timeout: 272 seconds)
[21:24:07] <tmm88> use python or nodejs instead
[21:25:14] <rendar> what is the best way to check if a token of a line, e.g. $6 is exactly one string e.g. "hello" ?
[21:27:41] *** Joins: bluedust (~bluedust@103.161.144.138)
[21:28:52] *** Joins: ExeciN (~ExeciN@user/nicexe)
[21:29:25] <Soliton> [[ $6 = hello ]]
[21:29:36] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[21:29:37] <Soliton> maybe you're talking about awk.
[21:29:47] <rendar> Soliton, yes
[21:29:57] <rendar> a line that i get of a pipe, sorry
[21:30:12] <Soliton> $6 == "hello"
[21:30:14] <rendar> e.g. ps ax|grep ..| if $6 == "hello" return 0;
[21:30:23] <Soliton> !ps
[21:30:32] <rendar> ?
[21:30:41] <Soliton> ps|grep sounds terrible.
[21:31:00] <phy1729> Can you use pgrep instead?
[21:31:02] *** Quits: mat001 (~mat001@72.28.108.216) (Remote host closed the connection)
[21:31:08] <Soliton> so are you talking about awk or what?
[21:31:36] *** Joins: mat001 (~mat001@72.28.108.216)
[21:32:06] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[21:32:15] <rendar> yes awk
[21:32:44] *** Quits: bluedust (~bluedust@103.161.144.138) (Ping timeout: 272 seconds)
[21:32:59] *** Joins: unop (~unop@195.91.14.193)
[21:33:20] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[21:33:36] <Soliton> so write awk then.
[21:33:48] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 240 seconds)
[21:34:13] <Soliton> anyway probably nonsense so unless there is some context not worth it to guess more.
[21:34:59] *** Quits: roadie (~user@2a02:8108:5a40:1d87:1cd2:eb37:5bbd:faa9) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[21:38:25] <rendar> i've tried without success, why `awk '{if ($6=="hello") {exit 0} else {exit 1}'` doesn't work?
[21:39:39] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[21:41:29] *** Quits: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net) (Quit: WeeChat 3.4)
[21:41:33] <pj> what the hell is the 6th field in ps?
[21:41:50] <twkm> depends on the ps.
[21:42:22] <pj> as phy1729 already pointed out, use pgrep instead, ps | grep | awk is rediculous.
[21:44:22] *** Joins: dutch (~DutchIngr@user/dutch)
[21:44:29] <Soliton> or don't worry about unrelated processes.
[21:45:11] *** Joins: adac (~adac@static.153.233.47.78.clients.your-server.de)
[21:45:49] *** Quits: SWISSMANN (~SWISSMANN@2001-4dd2-5e3c-0-df30-62d1-7594-7534.ipv6dyn.netcologne.de) (Quit: WeeChat 3.4)
[21:46:18] <twkm> i suggest -x whenever possible if you do use pgrep.
[21:47:46] *** Quits: tobybl (~tobybl@214.242.200.146.dyn.plus.net) (Remote host closed the connection)
[21:48:12] *** Joins: SWISSMANN (~SWISSMANN@2001-4dd2-5e3c-0-df30-62d1-7594-7534.ipv6dyn.netcologne.de)
[21:50:35] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[21:50:56] <olspookishmagus> any insights why this: "grep -i -E -Z '.*pattern.*' file | xargs -0 ..." will FAIL and this: "grep -i -E '.*pattern.*' file | tr '\n' '\0' | xargs -0 ... " will _NOT_ ?
[21:51:24] *** Joins: crashrep (~crashrep@user/crashrep)
[21:51:52] <olspookishmagus> matching mp3 patterns in an file populating with of my MP3s
[21:51:59] <olspookishmagus> passing them to audacious
[21:52:49] <llua> did you read the man page about what -Z does for grep?
[21:53:27] *** Joins: aidalgol_ (~aidalgol@user/aidalgol)
[21:54:36] *** Quits: aidalgol (~aidalgol@user/aidalgol) (Ping timeout: 240 seconds)
[21:55:13] *** Joins: [diablo]0 (~diablo]@user/diablo/x-9068044)
[21:55:35] *** Joins: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net)
[21:55:55] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 240 seconds)
[21:56:55] *** Quits: [diablo] (~diablo]@user/diablo/x-9068044) (Ping timeout: 256 seconds)
[21:56:55] *** [diablo]0 is now known as [diablo]
[21:57:19] *** Quits: johnjaye (~pi@173.209.64.74) (Read error: No route to host)
[21:58:10] <olspookishmagus> llua: ok, I read it fast - now I read it again
[21:58:23] <olspookishmagus> even more I compared their outputs before passing them to xargs
[21:58:25] <olspookishmagus> thank you llua
[21:58:49] *** Joins: greybot (~greybot@remote.wooledge.org)
[21:59:51] *** Quits: andril (~andril@097-068-232-130.biz.spectrum.com) (Ping timeout: 252 seconds)
[22:02:27] *** Joins: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8)
[22:03:17] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[22:03:30] *** Quits: Inline (~Inline@2a02:908:1252:7a80::d7) (Remote host closed the connection)
[22:04:05] *** Joins: Inline (~Inline@2a02:908:1252:7a80::1aa)
[22:05:08] *** Joins: crashrep (~crashrep@user/crashrep)
[22:05:21] *** Quits: Inline (~Inline@2a02:908:1252:7a80::1aa) (Client Quit)
[22:06:05] *** Joins: Inline (~Inline@2a02:908:1252:7a80::1aa)
[22:07:44] *** Joins: Jong (~Jong@2620:10d:c090:400::5:b24b)
[22:08:46] *** Joins: vysn (~vysn@user/vysn)
[22:12:44] *** Joins: seninha (~seninha@user/seninha)
[22:14:09] *** Quits: masber (~masber@2001:620:808:1200:8000::14) (Ping timeout: 256 seconds)
[22:14:16] *** Joins: Betal (~Betal@user/betal)
[22:20:42] <Maxattax> I have `/home/max/batsrc_caveos/AATSLib/Release` from `realpath .`... how do I trim off everything after `batsrc_.*/`?
[22:21:17] <Soliton> !faq 100
[22:21:17] <greybot> https://mywiki.wooledge.org/BashFAQ/100 -- How do I do string manipulations in bash?
[22:22:20] *** Joins: suss` (~user@user/suss)
[22:23:03] *** Quits: rgrinberg (~textual@2806:101e:7:5da4:50f5:7256:bb18:3ed3) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:24:12] *** Quits: drd (~drd@93-42-66-75.ip85.fastwebnet.it) (Ping timeout: 240 seconds)
[22:24:12] *** Quits: MajorBiscuit (~MajorBisc@wlan-145-94-218-48.wlan.tudelft.nl) (Ping timeout: 240 seconds)
[22:24:40] *** Quits: suss (~user@user/suss) (Ping timeout: 272 seconds)
[22:24:42] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[22:24:57] *** Joins: unop (~unop@195.91.14.193)
[22:27:26] <sybariten> what is, practicallly, the difference between using fc and ctrl-x, ctrl-e ?
[22:27:27] *** Quits: Masterphi (~Masterphi@user/masterphi) (Quit: Masterphi)
[22:27:36] <sybariten> both seem to edit a former command line?
[22:28:46] *** Quits: revolve (~u0_a227@cpc100838-bagu15-2-0-cust672.1-3.cable.virginm.net) (Read error: Connection reset by peer)
[22:28:53] <Soliton> ctrl-x, ctrl-e edits the current command line.
[22:33:07] *** Joins: agopo (~agopo@ip1f113f27.dynamic.kabel-deutschland.de)
[22:33:55] *** Joins: revolve (~u0_a227@cpc100838-bagu15-2-0-cust672.1-3.cable.virginm.net)
[22:35:09] *** Joins: l4s8g (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[22:35:14] *** Joins: Masterphi (~Masterphi@user/masterphi)
[22:36:31] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[22:39:07] *** Joins: computerworm110 (~quassel@XXX59241.htc.net)
[22:39:39] *** Quits: tmm88 (~tmm88@user/tmm88) (Ping timeout: 256 seconds)
[22:39:41] *** Quits: l4s8g (~l4s8g@pd9e621d0.dip0.t-ipconnect.de) (Quit: l4s8g)
[22:41:01] *** Joins: whatsupboy (~whatsupbo@user/scobydoo)
[22:41:08] *** Quits: sinaowolabi (~SinaOwola@102.134.114.21) (Ping timeout: 272 seconds)
[22:41:36] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[22:42:12] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 252 seconds)
[22:43:09] *** Joins: A|an (~Alan@173.218.175.171)
[22:43:37] *** Quits: rednul (~rednul@mc.emailserverz.com) (Ping timeout: 240 seconds)
[22:44:36] *** Joins: aramtsamtsam (~Thunderbi@2001:861:388a:5600:1710:c3dc:c776:df35)
[22:44:37] *** Quits: ParkerR (~ParkerR@znc.withg.org) (Ping timeout: 240 seconds)
[22:44:39] *** Joins: magla (~gelignite@55d40b59.access.ecotel.net)
[22:44:57] *** Quits: finsternis (~X@23.226.237.192) (Ping timeout: 252 seconds)
[22:45:43] <agopo> Hi, I have trouble using xargs properly. Trying to xargs echo mv a bunch of files  Script doesn't error. I'm stuck, can anyone please tell me what's wrong? https://bpa.st/CZEQ
[22:45:57] *** Joins: l4s8g (~l4s8g@pd9e621d0.dip0.t-ipconnect.de)
[22:46:11] <phy1729> !xargs
[22:46:11] <greybot> xargs(1) is dangerous (broken, exploitable, etc.) when reading non-NUL-delimited input. If you're working with filenames, use find's -exec [command] {} + instead. If you can get NUL-delimited output, use xargs -0. Otherwise, you probably want a while read or for loop instead.
[22:46:57] <Soliton> that looks wrong on many levels. perhaps explain the goal.
[22:47:03] <agopo> Haha
[22:47:05] <phy1729> The greps can be done in find. Then you can spawn a shell via -exec for the mv
[22:48:07] <Soliton> there is -maxdepth 1 so probably no need for find at all.
[22:48:27] <phy1729> heh didn't even notice that
[22:48:37] <Soliton> and it looks like filenames should be handed in as arguments. probably.
[22:48:45] <agopo> Goal is to execute ./script inputfile1 inputfile2 inputfile inputdirectory and rename them with an added date using this convention: yyyymmdd_inputfilename1 yyyymmdd_inputfilename2 and so on
[22:49:07] <Soliton> so just a for loop over the files.
[22:49:34] <phy1729> prefix=$(date +%Y%m%d); for f; do mv -- "$f" "${prefix}_$f"; done
[22:49:46] *** Quits: Sauvin (~sauvin@about/linux/staff/sauvin) (Read error: Connection reset by peer)
[22:51:00] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 252 seconds)
[22:51:51] *** Quits: aakashhemadri (~aakashhem@2400:8904::f03c:93ff:fe84:57c9) (Quit: Tata)
[22:52:26] *** Joins: aakashhemadri (~aakashhem@2400:8904::f03c:93ff:fe84:57c9)
[22:52:44] *** Joins: Oleg (~Oleg@ool-45745511.dyn.optonline.net)
[22:53:09] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Remote host closed the connection)
[22:53:09] *** Quits: aakashhemadri (~aakashhem@2400:8904::f03c:93ff:fe84:57c9) (Client Quit)
[22:53:35] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 240 seconds)
[22:54:18] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[22:54:19] *** Joins: aakashhemadri (~aakashhem@2400:8904::f03c:93ff:fe84:57c9)
[22:54:20] *** Joins: rgrinberg (~textual@2806:101e:7:5da4:50f5:7256:bb18:3ed3)
[22:54:21] <agopo> phy1729, I'm trying it out right now, looks very good so far
[22:54:42] <agopo> thanks!
[22:56:20] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 272 seconds)
[22:59:31] *** Quits: aakashhemadri (~aakashhem@2400:8904::f03c:93ff:fe84:57c9) (Quit: Tata)
[22:59:48] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 240 seconds)
[23:00:35] *** Quits: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke) (Ping timeout: 240 seconds)
[23:01:03] *** Joins: aakashhemadri (~aakashhem@2400:8904::f03c:93ff:fe84:57c9)
[23:04:10] *** Joins: mannequin (uid453465@id-453465.helmsley.irccloud.com)
[23:04:20] *** Quits: aramtsamtsam (~Thunderbi@2001:861:388a:5600:1710:c3dc:c776:df35) (Quit: aramtsamtsam)
[23:04:20] *** Joins: igemnace (~ian@user/igemnace)
[23:05:27] *** Quits: Masterphi (~Masterphi@user/masterphi) (Quit: Masterphi)
[23:05:43] *** Quits: rgrinberg (~textual@2806:101e:7:5da4:50f5:7256:bb18:3ed3) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:09:24] *** Joins: mra90 (~mra@fmdmzpr02-ext.fm.intel.com)
[23:09:40] <mra90> how can I save VS code terminal output to a file?
[23:10:12] *** Joins: Masterphi (~Masterphi@user/masterphi)
[23:10:49] <phy1729> !nabq
[23:10:50] <greybot> Not a #bash question. We're no experts in that software or OS; consider asking the channel or mailing list with experts on that topic (eg. #docker #git #rsync #linux #openssh #ubuntu #zsh #systemd ##kernel or PM alis with "list keyword" to search for channels).
[23:11:11] <phy1729> Seems #vscode exists
[23:11:35] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 250 seconds)
[23:11:37] <mra90> phy1729, does invocation of windows batch files is covered here?
[23:11:44] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[23:11:51] <phy1729> no?
[23:11:58] <Soliton> !batch
[23:11:58] <greybot> If by "batch" you mean Microsoft's COMMAND.COM or CMD.EXE shells, they are not supported here. Try #windows.
[23:12:09] <mra90> ok thanks
[23:14:30] *** Quits: aakashhemadri (~aakashhem@2400:8904::f03c:93ff:fe84:57c9) (Quit: Tata)
[23:14:32] *** Lord_of_Life_ is now known as Lord_of_Life
[23:15:48] *** Joins: aakashhemadri (~aakashhem@2400:8904::f03c:93ff:fe84:57c9)
[23:16:57] *** Quits: aakashhemadri (~aakashhem@2400:8904::f03c:93ff:fe84:57c9) (Client Quit)
[23:16:58] *** Joins: sinaowolabi (~SinaOwola@160.152.4.121)
[23:18:17] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[23:18:29] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[23:23:31] *** Quits: agopo (~agopo@ip1f113f27.dynamic.kabel-deutschland.de) (Quit: Leaving)
[23:23:36] *** Joins: mixfix41 (~homefame@user/mixfix41)
[23:26:12] *** Quits: computerworm110 (~quassel@XXX59241.htc.net) (Ping timeout: 252 seconds)
[23:27:28] *** Quits: Masterphi (~Masterphi@user/masterphi) (Quit: Masterphi)
[23:34:20] *** Quits: adac (~adac@static.153.233.47.78.clients.your-server.de) (Ping timeout: 272 seconds)
[23:37:17] *** Joins: nyex (~Thunderbi@177.84.107.26)
[23:37:58] <senoraraton> I'm trying to log into an SSH server and execute commands from a script. I know you can call a second script, but I want it all to be contained for user experience.  https://termbin.com/p9ua
[23:38:03] *** Joins: rya (~ry@user/rya)
[23:38:58] <Soliton> !check
[23:38:58] <checkbot> senoraraton: Line 1: Use #!, not just #, for the shebang. Line 11: This expression is constant. Did you forget a $ somewhere?. Line 21: Quote this to prevent word splitting. See https://shellcheck.net/?id=cb42138 for all 5 issues.
[23:39:41] <Soliton> ssh expects shell code.
[23:41:06] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[23:41:31] <senoraraton> BashSource is the script itself though, no?
[23:41:39] <llua> maybe
[23:41:59] <Soliton> a filename, maybe.
[23:42:38] <emanuele6> [ FLAG=0 ] is always true
[23:42:41] *** Joins: Masterphi (~Masterphi@user/masterphi)
[23:42:42] <Soliton> that's quite some magic you expect there if i'm guessing right.
[23:42:53] <Soliton> the syntax is the smallest issue.
[23:43:24] <senoraraton> https://termbin.com/w5c9 I fixed the few syntax errors listed, except the double quote part.
[23:43:43] *** Quits: revolve (~u0_a227@cpc100838-bagu15-2-0-cust672.1-3.cable.virginm.net) (Read error: Connection reset by peer)
[23:44:26] <senoraraton> Its telling me "bash: line 1: ./dockerize.sh: No such file or directory"  Which I'm assuming is because the script isn't present in the context of the server, which means I have to redirect it to the server somehow?
[23:45:05] *** Quits: mat001 (~mat001@72.28.108.216) (Read error: Connection reset by peer)
[23:45:13] *** Joins: mat001_ (~mat001@72.28.108.216)
[23:45:23] <Soliton> why not just write sane code?
[23:45:38] <Soliton> call ssh with the commands you want.
[23:46:04] <Soliton> probably with a here-doc.
[23:46:07] <senoraraton> I want it to be a single file because its getting commited to a repo, and it seems ugly have to have two seperate files that call each other.
[23:46:28] <Soliton> i have no idea why you want two files but do as you like.
[23:46:29] <phy1729> working beats pretty
[23:46:45] <senoraraton> I have no idea what I'm actually doing wrong here, or what isn't "sane" about it.
[23:46:50] *** Quits: Masterphi (~Masterphi@user/masterphi) (Client Quit)
[23:47:29] <geirha> ssh brony-nb '
[23:47:32] <geirha> docker-compose this
[23:47:34] <geirha> docker-compose that
[23:47:36] <geirha> '
[23:47:45] *** Joins: wurstwasser (~frank.hol@2001:a61:34a7:b001:6131:a1f2:6740:4dab)
[23:48:05] <Soliton> the insane part is how you imagine the flag variable should work.
[23:48:31] <Soliton> and how you hope the script will magically appear on the remote.
[23:48:47] <Soliton> but none of this is necessary at all.
[23:49:30] <senoraraton> O, thats much simpler, it works now.
[23:49:32] *** Joins: revolve (~u0_a227@cpc100838-bagu15-2-0-cust672.1-3.cable.virginm.net)
[23:50:01] *** Quits: dutch (~DutchIngr@user/dutch) (Quit: WeeChat 3.4)
[23:50:11] *** Joins: hyskaru (~hyskaru@user/hyskaru)
[23:50:12] <geirha> It's simple until you try to pass variables from local to remote
[23:51:19] <senoraraton> I have an overly complicated and elaborate solution for that..
[23:51:44] <Soliton> code injection and hope for the best?
[23:53:47] <senoraraton> Nah, you can use DD to write to the file while its executing, so you can store variables IN the script file itself, including in the ssh calls.
[23:54:39] <senoraraton> https://github.com/SenorGato/scripts/blob/main/dd2.sh
[23:56:03] <geirha> riiight ... so having two scripts is terrible, but modifying the currently running script is fine ...
[23:56:03] *** Quits: mat001_ (~mat001@72.28.108.216) (Read error: Connection reset by peer)
[23:56:23] *** Joins: mat001 (~mat001@72.28.108.216)
[23:57:40] <senoraraton> "< senoraraton> I have an "overly complicated and elaborate solution for that.."
[23:57:41] <geirha> there *are* safe ways to do it. Not necessarily simple though
[23:57:49] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.4)
[23:58:52] <geirha> if you know both the local and remote shell is bash, you can just embed declare -p output into the remote script. If you can't assume bash on the remote end, it requires more work
