[00:03:05] <Raito_Bezarius> I'm triggering many times a day a segfault with the following backtrace: https://clbin.com/tNZf6
[00:03:10] <Raito_Bezarius> any idea?
[00:03:40] <Raito_Bezarius> here's what look like `info registers`: https://clbin.com/oFZRM
[00:03:57] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 256 seconds)
[00:12:32] <flatcap> Raito_Bezarius: sorry about that.  hmm... it's a very odd place to crash
[00:12:56] <Raito_Bezarius> it crashes when I open "quickly" some folders on the sidebar :D
[00:13:06] <Raito_Bezarius> but no worries about crash, maintenance is hard stuff :)
[00:13:54] <flatcap> :-)
[00:14:14] <flatcap> how technical are you?  do you build your own neomutt?
[00:14:47] <apo> Does running gentoo count? :p
[00:14:58] <Raito_Bezarius> I run NixOS
[00:15:12] <Raito_Bezarius> if that gives you a lower bound :>
[00:15:16] <Raito_Bezarius> I can enable debugging for my build
[00:15:18] <Raito_Bezarius> give me a sec
[00:15:24] <flatcap> :-)
[00:15:52] <flatcap> if you install libasan, you can add "--asan" to "./configure" 
[00:16:18] <Raito_Bezarius> I have gone for -g for now, I can go for libasan directly too
[00:16:25] <flatcap> great, thanks
[00:16:36] <flatcap> that'll tell us exactly *when* it goes wrong
[00:18:14] <flatcap> oh and:  export ASAN_OPTIONS="color=never:log_path=asan:print_legend=false:print_summary=false"
[00:18:19] <Raito_Bezarius> at buildtime or runtime?
[00:18:24] <flatcap> at runtime
[00:18:30] <Raito_Bezarius> alright, compiling atm!
[00:19:17] <flatcap> on a crash it'll write to asan.PID
[00:21:20] <Raito_Bezarius> enjoy: https://clbin.com/3Nnvb
[00:21:31] <Raito_Bezarius> i crashed earlier under asan
[00:21:46] <flatcap> oh!  that was quick.  thanks
[00:21:57] *** Joins: rgrinberg (~textual@2806:101e:7:def:9c0d:c444:6765:d1db)
[00:22:12] <Raito_Bezarius> :)
[00:22:23] <Raito_Bezarius> I told you "I run NixOS"
[00:22:28] <Raito_Bezarius> (sorry I had to say it)
[00:24:01] <flatcap> :-)
[00:24:12] <Raito_Bezarius> so I guess this: https://github.com/neomutt/neomutt/blob/master/monitor.c#L546 ?
[00:24:36] <Raito_Bezarius> where Context is freed but non-NULL (?)
[00:25:18] * flatcap looks ...
[00:25:34] <Raito_Bezarius> and the free looks like to be there: https://github.com/neomutt/neomutt/blob/master/index/dlg_index.c#L604
[00:25:39] *** Quits: _hades_ (~ralphe@cable-84-44-244-10.nc.de) (Quit: leaving)
[00:26:23] <Raito_Bezarius> this is the start of the UAF: https://github.com/neomutt/neomutt/blob/master/index/dlg_index.c#L634
[00:26:33] <Raito_Bezarius> so this area: https://github.com/neomutt/neomutt/blob/master/index/dlg_index.c#L604-L634
[00:26:39] <Raito_Bezarius> modulo goto
[00:27:35] <flatcap> thanks, I'll have a think about that a bit later
[00:27:54] <Raito_Bezarius> Sure thing, good luck and thank YOU ! :)
[00:28:11] <flatcap> you're welcome
[00:58:04] *** Quits: rgrinberg (~textual@2806:101e:7:def:9c0d:c444:6765:d1db) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:08:42] *** Quits: polve (~polve@twcitalia/polve) (Ping timeout: 268 seconds)
[01:10:57] *** Joins: polve (~polve@twcitalia/polve)
[01:31:55] *** Joins: kian (~kian@user/kian)
[01:45:49] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[01:46:48] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[01:58:41] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[01:59:35] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[02:28:04] *** Quits: kian (~kian@user/kian) (Remote host closed the connection)
[02:31:59] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[02:33:00] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[02:34:22] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[02:34:34] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[02:40:25] *** Quits: strajder (~strajder@user/strajder) (Quit: leaving)
[02:43:20] *** Quits: bsd4me (~bsduser@user/bsd4me) (Quit: leaving)
[02:46:53] <flatcap> Raito_Bezarius: when you get a second, please can you give branch [devel/monitor] a try.  It _might_ fix your problem.  Absolutely no rush (I'm going to be afk for a few days).  Cheers.
[02:47:16] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[02:47:27] <Raito_Bezarius> flatcap: thanks a lot!
[02:47:44] <flatcap> np
[02:48:08] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[02:48:39] <Raito_Bezarius> compiling
[02:49:07] <Raito_Bezarius> some downstream patch broke hm
[02:49:16] <flatcap> for quite some time, I've been working to eliminate an ugly global variable: `Context`
[02:49:55] <flatcap> the monitor code is one of the last dark corners
[02:50:00] <Raito_Bezarius> :D
[02:50:02] <Raito_Bezarius> good job
[02:50:07] <flatcap> thanks :-)
[02:50:11] <flatcap> what's broken?
[02:50:23] <Raito_Bezarius> https://github.com/NixOS/nixpkgs/pull/143641#issuecomment-954991746 / https://github.com/neomutt/neomutt/commit/4242a31313e0b600693215c01047bbda8a6dd25a.patch
[02:50:39] <Raito_Bezarius> I suppose this is because this patch is not needed anymore
[02:50:58] <Raito_Bezarius> ha, this is your own comment :D
[02:51:12] <Raito_Bezarius> (compiling for real now)
[02:51:25] <flatcap> yes, that release was a bit of a mess.  the patch is merged
[02:52:02] <Raito_Bezarius> is it me or is NeoMutt even faster now? :P
[02:52:09] <Raito_Bezarius> it looks like it is indeed fixed!
[02:52:17] <Raito_Bezarius> I can quickly switch from folder to folder
[02:52:22] <Raito_Bezarius> <3
[02:52:41] <flatcap> brilliant!
[02:52:59] <Raito_Bezarius> very nice gift :-), enjoy holidays !
[02:53:04] <flatcap> you too!
[02:53:35] <flatcap> I'll review/merge the fix when I get a second of sobriety :-)
[02:53:45] <Raito_Bezarius> hahahaha, of course
[02:56:08] *** Joins: rgrinberg (~textual@187.223.23.238)
[03:14:22] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[03:30:44] *** Joins: Maxattax97 (~max@2600:1700:68c0:3bb0::43)
[03:31:39] *** Quits: madage (~madage@user/madage) (Remote host closed the connection)
[03:32:09] *** Joins: madage (~madage@user/madage)
[03:33:25] *** Quits: Maxattax97 (~max@2600:1700:68c0:3bb0::43) (Client Quit)
[03:45:59] *** Joins: Maxattax97 (~max@2600:1700:68c0:3bb0::43)
[03:56:17] *** Quits: Maxattax97 (~max@2600:1700:68c0:3bb0::43) (Ping timeout: 240 seconds)
[05:17:19] *** Quits: Martin[XMPP] (c941dec6bd@79.184.40.28.ipv4.supernova.orange.pl) (Ping timeout: 256 seconds)
[05:26:38] *** Quits: rgrinberg (~textual@187.223.23.238) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:32:17] *** Quits: nyah (~nyah@94.6.71.219) (Ping timeout: 240 seconds)
[05:33:17] *** Quits: maetthew (~maetthew@user/maetthew) (Quit: ZNC 1.8.2 - https://znc.in)
[05:35:53] *** Joins: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se)
[05:35:53] *** Quits: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se) (Changing host)
[05:35:53] *** Joins: maetthew (~maetthew@user/maetthew)
[06:00:29] *** Quits: nupilios_ (~nupilios@178-191-140-52.adsl.highway.telekom.at) (Ping timeout: 250 seconds)
[06:06:21] *** Joins: nupilios (~nupilios@user/nupilios)
[06:29:50] *** Joins: Maxattax97 (~max@2600:1700:68c0:3bb0::3b)
[06:30:17] *** Joins: Vonter (~Vonter@user/vonter)
[06:41:04] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 268 seconds)
[07:07:11] *** Joins: rgrinberg (~textual@2806:101e:1:83af:99bc:509:eb58:3474)
[07:11:49] *** Quits: Pali (~pali@user/pali) (Ping timeout: 240 seconds)
[07:34:54] *** Quits: Vonter (~Vonter@user/vonter) (Read error: Connection reset by peer)
[07:36:43] *** Joins: Vonter (~Vonter@user/vonter)
[07:37:11] *** Quits: Maxattax97 (~max@2600:1700:68c0:3bb0::3b) (Ping timeout: 268 seconds)
[08:01:53] *** Joins: Maxattax97 (~max@2600:1700:68c0:3bb0::3b)
[08:20:57] *** Quits: Maxattax97 (~max@2600:1700:68c0:3bb0::3b) (Ping timeout: 240 seconds)
[09:37:37] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 240 seconds)
[10:06:08] *** Quits: rgrinberg (~textual@2806:101e:1:83af:99bc:509:eb58:3474) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:14:59] *** Joins: mord0d (~mord0d@gateway/tor-sasl/mord0d)
[11:14:24] *** Quits: mord0d (~mord0d@gateway/tor-sasl/mord0d) (Remote host closed the connection)
[11:24:55] <captainepoch> Merry Christmas, people, thank you for making neomutt!
[11:55:41] *** Joins: weirdsmiley (~weirdsmil@203.122.10.222)
[12:08:43] *** Quits: thanksbud (~225m@user/thanksbud) (Ping timeout: 256 seconds)
[12:35:17] *** Quits: weirdsmiley (~weirdsmil@203.122.10.222) (Ping timeout: 240 seconds)
[13:23:14] *** Joins: vysn (~vysn@user/vysn)
[13:31:17] *** Joins: Pali (~pali@user/pali)
[14:53:30] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[14:54:34] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[14:56:31] <flatcap> Merry Christmas everyone!
[14:56:42] <flatcap> you're welcome captainepoch
[14:58:45] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[15:30:51] *** Joins: keypusher (keypusher@user/keypusher)
[15:41:16] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[15:42:09] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[15:45:07] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[15:45:59] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[16:19:40] *** Joins: weirdsmiley (~weirdsmil@203.122.10.222)
[16:42:25] *** Quits: weirdsmiley (~weirdsmil@203.122.10.222) (Ping timeout: 256 seconds)
[16:45:40] *** Joins: mord0d (~mord0d@gateway/tor-sasl/mord0d)
[16:58:02] *** Joins: weirdsmiley (~weirdsmil@203.122.10.222)
[18:06:22] *** Joins: RawFiend_ (~textual@176.54.55.168)
[18:16:22] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Ping timeout: 260 seconds)
[18:31:07] *** Quits: RawFiend_ (~textual@176.54.55.168) (Quit: Textual IRC Client: www.textualapp.com)
[18:31:27] *** Joins: RawFiend_ (~textual@176.54.55.168)
[18:43:13] *** Joins: crs (~f@91.212.33.50)
[18:43:52] *** Quits: crs (~f@91.212.33.50) (Changing host)
[18:43:52] *** Joins: crs (~f@user/crs)
[18:54:51] *** Quits: RawFiend_ (~textual@176.54.55.168) (Quit: Gone away...)
[19:28:40] *** Joins: RawFiend_ (~textual@176.54.55.168)
[20:09:43] *** Quits: RawFiend_ (~textual@176.54.55.168) (Quit: Textual IRC Client: www.textualapp.com)
[20:10:36] *** Joins: RawFiend_ (~textual@176.54.55.168)
[20:27:54] *** Quits: mord0d (~mord0d@gateway/tor-sasl/mord0d) (Remote host closed the connection)
[20:30:42] *** Joins: strajder (~strajder@user/strajder)
[20:31:37] *** Joins: mord0d (~mord0d@gateway/tor-sasl/mord0d)
[20:35:42] <spoofer> Merry Christmas flatcap.
[20:37:09] *** Quits: mord0d (~mord0d@gateway/tor-sasl/mord0d) (Remote host closed the connection)
[20:40:48] *** Quits: RawFiend_ (~textual@176.54.55.168) (Quit: Gone away...)
[20:42:45] *** Joins: RawFiend_ (~textual@176.54.55.168)
[20:45:57] *** Quits: RawFiend_ (~textual@176.54.55.168) (Remote host closed the connection)
[20:47:48] *** Joins: mord0d (~mord0d@gateway/tor-sasl/mord0d)
[20:50:23] *** Quits: mord0d (~mord0d@gateway/tor-sasl/mord0d) (Remote host closed the connection)
[21:16:14] *** Joins: bsd4me (~bsduser@user/bsd4me)
[21:21:03] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[21:45:01] *** Quits: weirdsmiley (~weirdsmil@203.122.10.222) (Ping timeout: 256 seconds)
[21:46:20] *** Joins: nyah (~nyah@94.6.71.219)
[21:47:00] <flatcap> Merry Christmas spoofer :-)
[22:20:34] *** Joins: thanksbud (~225m@wnpgmb0538w-ds01-64-102.dynamic.bellmts.net)
[22:20:34] *** Quits: thanksbud (~225m@wnpgmb0538w-ds01-64-102.dynamic.bellmts.net) (Changing host)
[22:20:34] *** Joins: thanksbud (~225m@user/thanksbud)
[22:38:00] *** Joins: mord0d (~mord0d@gateway/tor-sasl/mord0d)
[22:41:05] <zecege> Merry Christmas y'all! And thank you so much for neomutt, such a great gift for nerds like me :)
[22:51:50] *** Joins: weirdsmiley (~weirdsmil@203.122.10.222)
[23:01:48] <flatcap> Merry Christmas zecege :-)
[23:02:29] <DebXWoody> Merry Christmas. Is There a Santa Claus? https://upload.wikimedia.org/wikipedia/commons/2/25/Yes%2CVirginia%2CThereIsASantaClausClipping.jpg 
[23:03:47] <flatcap> Merry Christmas DebXWoody!
[23:05:16] * flatcap reads ...
[23:06:04] <flatcap> :-)
[23:31:12] *** Joins: RawFiend_ (~textual@176.54.55.168)
[23:40:47] *** Joins: rgrinberg (~textual@200.68.178.168)
[23:40:59] *** Quits: RawFiend_ (~textual@176.54.55.168) (Quit: Gone away...)
[23:41:48] *** Joins: RawFiend_ (~textual@176.54.55.168)
[23:49:42] *** Quits: rgrinberg (~textual@200.68.178.168) (Read error: Connection reset by peer)
[23:51:48] *** Joins: rgrinberg (~textual@187.223.78.219)
[23:58:11] *** Quits: mord0d (~mord0d@gateway/tor-sasl/mord0d) (Remote host closed the connection)
