[01:05:51] *** Quits: danisztls (~weechat@user/danisztls) (Ping timeout: 258 seconds)
[03:04:45] <sniperwolf> ravtaz i already solved this problem but i have different one. Anyone here uses testcontainers?
[03:04:53] <rawtaz> sigh.
[03:05:09] <rawtaz> sniperwolf: are you providing relevant context with your question? hint: no
[03:05:23] <rawtaz> you have to be more specific if you want a relevant answer
[03:05:46] <sniperwolf> i have local docker image with postgres db, and inside there is test data. When i run script using testcontainers it pulls image but complains about "no relation x" even tho such able exists in db i have in container
[03:06:17] <sniperwolf> rawtaz i want to create integration tests using docker images containing postgres db that contains copy of my data
[03:06:45] <sniperwolf> first step i completed: i created docker postgres image, and i populated this image with data i want
[03:07:00] <sniperwolf> now: why is this data not found by testcontainers?
[03:07:18] <sniperwolf> maybe i should tag my local image in more specific way?
[03:07:36] <rawtaz> there has to be a difference in how you verify the existance of that data, and how the test tries to use/access it
[03:08:23] <sniperwolf> well i just do "psql -U user -h ip -d dbname" and then select * from X and there is lot of rows
[03:08:59] <rawtaz> inside the container? please be more specific, when you explain your stuff
[03:09:03] <sniperwolf> i exposed docker port to localhost so i can connect to db on container from hjost no problem
[03:09:34] <sniperwolf> "psql -U user -h ip -d dbname" i can run this on host, and it works too
[03:09:40] <rawtaz> maybe start by looking at how the test script access the database, then try to do that the same way but manually, and most importantly in the same place/context
[03:09:53] <sniperwolf> because i exposed it to public ip <PUBLICIP>:5432:5432
[03:10:10] <rawtaz> the case you have here is pretty much entirely about isolating it down step by step until you find what differs
[03:10:21] <sniperwolf> rawtaz i can access db, that is no problem
[03:10:38] <sniperwolf> i cant access correct docker image i think this is a problem
[03:10:53] <rawtaz> yeah but if it was the same or accessed the same data as your test script it would work, so there's a difference somewhere
[03:10:56] <rawtaz> ok
[03:11:15] <rawtaz> well you seem to be debugging in a way that will make you find the culpruit sooner or later :)
[03:11:53] <sniperwolf> rawtaz this one WORKS https://bpa.st/BTBA
[03:13:08] <sniperwolf> this one DOES NOT WORK https://bpa.st/2VEQ why
[03:23:16] <rawtaz> dude, you are trying with two different things. why dont you try to reproduce the problem with one and the same thing?
[03:23:29] <sniperwolf> rawtaz what do you mean?
[03:24:45] <rawtaz> one is sqlalchemy code, the other is psycopg2
[03:25:04] <rawtaz> you cant seriously try to reproduce a problem with a different thing than the one you are experiencing the problem with
[03:26:09] <sniperwolf> rawtaz ok, but it can connect to some db, and can issue statements
[03:26:30] <sniperwolf> i even did "select 5*10" in sqlalchemy code and it returned good result
[03:26:48] <sniperwolf> library is of no importance, it connects to wrong db thats a problem
[03:27:52] <rawtaz> if you say so
[03:28:19] <rawtaz> IMO your debug approach seems a bit non-systematic
[03:28:32] <rawtaz> but then again im anal about how to do that stuff so i might overdo it :P
[03:30:01] <sniperwolf> ok i may try to rewrite db connection code to sqlalchemy to make sure
[03:31:58] <rawtaz> if thats a bit too much work at this point you could always try to run some other query that gets you information about the database, like some ID or what not, that you can use to spot a difference
[03:32:16] <rawtaz> or did you already verify that the test connects to the wrong database?
[03:32:58] <sniperwolf> yea, select tablenames from informatioN_schema, its empty list
[03:34:42] <rawtaz> can you check some database logs to see which db server it actually connects to?
[04:18:03] * rawtaz &
[04:20:58] *** Joins: jxel (uid415224@id-415224.highgate.irccloud.com)
[04:26:45] *** Joins: breadboard (~Breadboar@user/breadboard)
[04:31:20] *** Joins: danisztls (~weechat@user/danisztls)
[04:46:02] *** Quits: predmijat (~predmijat@mail.strogopro.com) (Quit: bye)
[04:47:34] *** Joins: predmijat (~predmijat@mail.strogopro.com)
[05:10:54] *** Quits: sniperwolf (~sniperwol@91.230.98.1) (Quit: Client closed)
[07:45:02] *** Quits: Brainium (~brainium@user/brainium) (Quit: Konversation terminated!)
[10:13:08] *** Quits: danisztls (~weechat@user/danisztls) (Quit: I will return...)
[12:35:13] *** Joins: hendursa1 (~weechat@user/hendursaga)
[12:37:57] *** Quits: hendursaga (~weechat@user/hendursaga) (Ping timeout: 244 seconds)
[14:17:58] *** Quits: rpthms (~rpthms@user/rpthms) (Ping timeout: 252 seconds)
[14:25:46] *** Joins: rpthms (~rpthms@user/rpthms)
[14:32:27] *** Quits: rpthms (~rpthms@user/rpthms) (Read error: Connection reset by peer)
[14:37:46] *** Joins: rpthms (~rpthms@user/rpthms)
[15:56:10] *** Quits: jxel (uid415224@id-415224.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[15:57:31] *** Quits: breadboard (~Breadboar@user/breadboard) (Read error: Connection reset by peer)
[17:16:33] *** Joins: uvolmer (~uvolmer@2001-4dd0-212c-82-e069-f5f7-ab7b-8443.ipv6dyn.netcologne.de)
[17:33:20] *** Joins: humky (~humky@user/humky)
[17:39:47] *** Quits: molt (~molt@79.140.150.21) (Read error: Connection reset by peer)
[17:40:11] *** Joins: molt (~molt@79.140.150.21)
[17:48:30] *** Joins: nncanepa (~root@201.212.115.107)
[17:50:23] *** Quits: nncanepa (~root@201.212.115.107) (Quit: leaving)
[18:02:20] *** Joins: nncanepa (~nncanepa@201.212.115.107)
[18:02:24] *** Parts: nncanepa (~nncanepa@201.212.115.107) ()
[18:04:17] *** Joins: danisztls (~weechat@user/danisztls)
[18:33:19] *** Joins: manic_laughter (~manic_lau@2409:4072:6393:4c1f:b37f:97e9:485:a5cc)
[18:59:10] *** Quits: manic_laughter (~manic_lau@2409:4072:6393:4c1f:b37f:97e9:485:a5cc) (Ping timeout: 240 seconds)
[19:34:06] *** Joins: manic_laughter (~manic_lau@157.46.104.33)
[19:36:08] *** Quits: manic_laughter (~manic_lau@157.46.104.33) (Client Quit)
[19:45:59] *** Joins: sniperwolf (~sniperwol@91.230.98.1)
[20:14:43] *** Quits: uvolmer (~uvolmer@2001-4dd0-212c-82-e069-f5f7-ab7b-8443.ipv6dyn.netcologne.de) (Remote host closed the connection)
[20:15:46] *** Joins: uvolmer (~uvolmer@2001-4dd0-212c-82-e069-f5f7-ab7b-8443.ipv6dyn.netcologne.de)
[20:45:24] *** Quits: molt (~molt@79.140.150.21) (Ping timeout: 250 seconds)
[22:00:27] *** Quits: aead (~aead@user/aead) (Quit: aead)
[22:05:01] *** Quits: CapitalistPunk (~Capitalis@liledevil.xs4all.nl) (Quit: Leaving)
[22:06:16] *** Joins: aead (~aead@user/aead)
[22:08:47] *** Joins: CapitalistPunk (~Capitalis@liledevil.xs4all.nl)
[22:23:56] *** Quits: aead (~aead@user/aead) (Quit: aead)
[22:24:18] *** Joins: aead (~aead@user/aead)
[22:30:48] *** Quits: aead (~aead@user/aead) (Quit: aead)
[22:31:14] *** Joins: aead (~aead@user/aead)
[22:32:56] *** Joins: Brainium (~brainium@user/brainium)
[22:54:29] *** Joins: menace (~someone@ppp-93-104-160-204.dynamic.mnet-online.de)
[22:54:39] *** Quits: menace (~someone@ppp-93-104-160-204.dynamic.mnet-online.de) (Changing host)
[22:54:39] *** Joins: menace (~someone@user/menace)
[22:54:43] *** menace is now known as Deknos
[23:45:28] *** Quits: hendursa1 (~weechat@user/hendursaga) (Quit: hendursa1)
[23:45:55] *** Joins: hendursaga (~weechat@user/hendursaga)
