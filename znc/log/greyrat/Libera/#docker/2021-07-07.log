[00:22:37] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Remote host closed the connection)
[00:23:01] *** Joins: Sven_vB (~sven@user/sven-vb/x-2094958)
[00:32:18] *** Quits: treethought (treethou@138.68.49.251) (Ping timeout: 252 seconds)
[00:36:47] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Remote host closed the connection)
[00:37:12] *** Joins: Sven_vB (~sven@user/sven-vb/x-2094958)
[00:38:06] *** Joins: treethought (treethou@138.68.49.251)
[00:38:17] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Remote host closed the connection)
[00:39:18] *** Quits: Arwalk (~Arwalk@lfbn-dij-1-263-107.w86-235.abo.wanadoo.fr) (Quit: The Lounge - https://thelounge.chat)
[00:40:17] *** Joins: Sven_vB (~sven@user/sven-vb/x-2094958)
[00:40:57] *** Joins: Arwalk (~Arwalk@lfbn-dij-1-263-107.w86-235.abo.wanadoo.fr)
[00:45:08] *** Quits: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com) (Quit: Haxxa flies away.)
[00:46:19] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Remote host closed the connection)
[00:47:26] *** Joins: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com)
[00:51:47] *** Joins: s17 (~nobody@user/s17)
[00:58:03] *** Quits: phisch (~phisch@ip1f10fb97.dynamic.kabel-deutschland.de) (Read error: Connection reset by peer)
[00:59:57] *** Joins: phisch (~phisch@ip1f10fb97.dynamic.kabel-deutschland.de)
[01:04:00] *** Joins: Bossi (~quassel@p4fc22308.dip0.t-ipconnect.de)
[01:05:04] *** Joins: arinov (~arinov@213.194.126.155)
[01:05:53] *** Joins: RougeR (~rougex250@user/rouger)
[01:24:05] *** Joins: ras_manny (~ras_manny@196.24.136.255)
[01:24:07] *** Quits: sord937 (~sord937@gateway/tor-sasl/sord937) (Quit: sord937)
[01:31:21] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Read error: Connection reset by peer)
[01:31:56] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[01:32:14] *** Quits: dalan (~dalan@110-175-157-170.tpgi.com.au) (Quit: Ping timeout (120 seconds))
[01:32:32] *** Joins: dalan (~dalan@110-175-157-170.tpgi.com.au)
[01:47:15] *** Quits: Bideford (Bideford@dsl-217-155-169-214.zen.co.uk) (Quit: Quit - Bye)
[01:58:08] *** Quits: phisch (~phisch@ip1f10fb97.dynamic.kabel-deutschland.de) (Read error: Connection reset by peer)
[01:58:17] *** Joins: devslash (~devslash@185.38.14.150)
[01:58:30] <devslash> Has anyone here installed Bitwarden in Docker ?
[02:00:00] *** Joins: phisch (~phisch@ip1f10fb97.dynamic.kabel-deutschland.de)
[02:00:43] *** Quits: diverdude (~undodre@176-21-102-230-cable.dk.customer.tdc.net) (Remote host closed the connection)
[02:01:37] *** Joins: iauc (~iauc@ti0061a400-1478.bb.online.no)
[02:06:25] <dostoyevsky2> devslash: I have installed X11 apps inside docker...  I guess bitwarden is also just an X11 app
[02:08:21] <devslash> I've got a compose file and can access it over http but im having trouble accessing it over https
[02:08:36] <devslash> I added my traefik labels to the bitwarden-nginx service
[02:09:50] <devslash> when I try to access it over https it times out after a little while and says gateway timeout
[02:10:00] <devslash> the issue isnt the container but with Traefik
[02:11:21] *** Quits: foka (~foka@162.208.172.172) (Read error: Connection reset by peer)
[02:13:25] *** Joins: foka (~foka@162.208.172.172)
[02:19:48] *** Joins: twiclo (~twiclo@2604:7b80:2000:1069:52fc:cedd:fbeb:10c)
[02:19:53] <twiclo> https://p.twil.cx/nok.rb
[02:20:09] <twiclo> Anyone know why I can't run docker commands even though I'm in the docker group?
[02:20:55] <twiclo> Oh I forgot to run newgrp. Please ignore
[02:23:40] *** Quits: Arwalk (~Arwalk@lfbn-dij-1-263-107.w86-235.abo.wanadoo.fr) (Quit: The Lounge - https://thelounge.chat)
[02:23:56] *** Quits: tyson2 (~user@70.54.112.49) (Ping timeout: 252 seconds)
[02:24:17] *** Joins: Arwalk (~Arwalk@lfbn-dij-1-263-107.w86-235.abo.wanadoo.fr)
[02:28:38] *** Joins: Brainium (~brainium@user/brainium)
[02:34:23] *** Joins: britho (~britho@2600:6c40:7900:744:9731:1691:401c:c12e)
[02:35:38] *** Quits: RougeR (~rougex250@user/rouger) (Remote host closed the connection)
[02:39:48] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:49:42] *** Quits: cmc (~methos@gateway/tor-sasl/cmc) (Ping timeout: 244 seconds)
[02:50:26] *** Quits: OPK (~OPK@user/opk) (Ping timeout: 258 seconds)
[02:51:08] *** Quits: dalan (~dalan@110-175-157-170.tpgi.com.au) (Quit: dalan)
[02:51:21] *** Joins: cmc (~methos@gateway/tor-sasl/cmc)
[02:51:34] *** Joins: dalan6 (~dalan@110-175-157-170.tpgi.com.au)
[02:52:10] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 272 seconds)
[02:52:44] *** Joins: OPK (~OPK@user/opk)
[03:01:46] *** Quits: rickumali (~rick@2601:19c:4200:4160::dddf) (Ping timeout: 240 seconds)
[21:04:10] *** Joins: greyrat (~greyrat@ip202.ip-51-178-215.eu)
[21:04:40] *** Joins: lucerne (~lucerne@ip202.ip-51-178-215.eu)
[21:04:56] *** Server sets mode: +nrt 
[21:06:26] *** Joins: SomeWeirdAnon (~shwn@2a02:8109:abf:ffb4:dd66:5596:463d:96de)
[21:08:07] *** Quits: jonifen (~jonifen@user/jonifen) (Quit: Leaving)
[21:09:39] *** Quits: lucerne (~lucerne@ip202.ip-51-178-215.eu) (Quit: Bye)
[21:10:44] *** Joins: ras_manny (~ras_manny@196.24.136.255)
[21:11:55] *** Joins: no_gravity (~no_gravit@user/no-gravity/x-5639427)
[21:12:14] <no_gravity> I have a debian image. How do I run a command in a new container based on the debian image?
[21:12:59] <no_gravity> Ah! docker run --rm -i -t debian:10-slim /bin/bash
[21:13:55] *** Joins: lucerne (~lucerne@ip202.ip-51-178-215.eu)
[21:15:08] <Crell> tabakhase Hm.  `docker-compose down -d db` ?  That's just giving me the docker-compose down help page.
[21:16:20] <tabakhase> Crell first line of help it should complain about "unknown arg -d" or so :D -- only needs that on the up to background
[21:17:23] *** Quits: ras_manny (~ras_manny@196.24.136.255) (Ping timeout: 252 seconds)
[21:17:59] <Crell> It does not.  It gives me the same help page with -d, -v, and no flag before `db`.
[21:18:40] <Crell> Ah, but `docker-compose stop` appears to have put it down.
[21:18:58] <Crell> Still doesn't create the db, though.  Hm.
[21:21:41] *** Joins: cart_man (~rynot@169-0-213-159.ip.afrihost.co.za)
[21:22:12] <cart_man> Hey everyone. If I have the docker image on my PC how do I make it print its build again via command line?
[21:24:07] <tabakhase> cart_man do you mean "docker history XYZ"?
[21:24:20] <tabakhase> otherwise explain "print its build" :P
[21:24:35] <cart_man> tabakhase: I use to be able to see the steps the container takes if I have its image .. you know like a docker file. 
[21:24:48] <cart_man> You know how you write FROM XXXX and do this etc
[21:24:50] <tabakhase> history it is then yep
[21:25:01] <cart_man> If I had the image I could do some docker command
[21:25:09] <cart_man> I think perhaps docker image inspect or somethjing
[21:25:16] <cart_man> will try
[21:25:43] <ada_> cart_man: there isn't a docker command to turn an image back into the Dockerfile
[21:26:05] *** Parts: no_gravity (~no_gravit@user/no-gravity/x-5639427) ()
[21:27:31] <tabakhase> Crell check  what db printed on start? should tell about running the init... - down alone may not reap the annon yet, not 1000% sure :D - maybe do a "down -v" as well
[21:28:37] <tabakhase> the down should also spit some "removing volume tr56u534wtdt5tjzw...." then i think
[21:31:39] *** Joins: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net)
[21:31:48] *** Quits: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net) (Client Quit)
[21:31:59] <Crell> `docker-compose down -v` reports stopping the db, then removing the db and php containers, then removing the network.
[21:32:08] <Crell> So, that should be back to clean non-existence, yes?
[21:33:13] <ada_> Crell: correct
[21:33:44] <Crell> huh.  Now when I rebuild/run everything, I am back to a connection refused.
[21:34:08] <ada_> there would be some time where both containers start but the db isn't ready yet
[21:34:27] <ada_> that makes sense w/ a connectino refused message; the db probably isn't started up and ready for connections yet
[21:34:38] <Crell> Ah, running it a second time, everything works!  So, race condition, essentially.
[21:34:45] <ada_> usually I solve this by adding a loop to the consumer container that checks for a port
[21:34:50] <ada_> yep, race condition
[21:35:00] <Crell> And the depends_on isn't sufficient to resolve it?
[21:35:14] <ada_> no, because docker doesn't know about whether th process is actually ready or not
[21:35:18] <programmerq> depends_on only specifies the order in which to start containers. it doesn't do healthchecks on them
[21:35:21] <ada_> ^
[21:35:45] <Crell> Ah.  Hm, and this also means I'm on my own to reset the DB contents in my tests' tearDown().  I can't rely on just resetting it.
[21:36:23] <programmerq> startup order is only one reason your application could run into a condition where it can't interact with the DB. A well written application will retry establishing that connection on its own at any point in its lifecycle. It can return a 500 or 503 if it receives a request that it can't serve due to the DB being down.
[21:36:38] <Crell> The application in this case is just a bunch of PHPUnit tests.
[21:36:59] <programmerq> then a wait/check loop before they start is totally appropriate
[21:37:47] <Crell> so just `while(true) { try { connect to db; break; } catch () {}` in the setup() method, or similar?
[21:38:09] <programmerq> yeah, but put some time between retries and a limit on the total number of tries so it doesn't wait forever.
[21:38:36] <programmerq> you could also implement it outside your software in an entrypoint script using bash
[21:38:38] <Crell> Got it.  Thanks!
[21:39:39] <tabakhase> scroll up and click the wait-for-it link from my very first message ;P had all this
[21:43:18] *** Quits: vidbina (~vid@dynamic-089-012-027-113.89.12.pool.telefonica.de) (Ping timeout: 272 seconds)
[21:47:59] *** Joins: treethought (treethou@138.68.49.251)
[21:52:26] *** Quits: sebastianos (~sebastian@user/sebastianos) (Read error: Connection reset by peer)
[21:54:35] <Crell> And it even has a composer entry, that's convenient. :-)   
[21:55:04] *** Joins: sebastianos (~sebastian@user/sebastianos)
[21:55:14] <Crell> I think I have this in a good state now.  Thanks all!  I just need to remember to have each test clean up after itself properly and delete all tables I create.
[21:55:29] <Crell> (Or, maybe I should change it to create the db and drop it for each test; that may be cleaner.)
[21:57:14] <tabakhase> Crell my seeding "checks if the existing was seeded, if yes drop and recreate" - so you leave the traces of the last in case of debugging/error finding, autoprotected against running it in prod, and works as expected on reruns as well as first-try
[21:58:49] <Crell> So add "IF DB EXISTS DROP DB; CREATE DB" to the setup, basically.
[21:59:00] <Crell> I think I've done that in other projects before; I wasn't sure if that was still considered "preferred."
[21:59:50] <tabakhase> pretty much ye, i got some "protection wrapped around it" on my phinx-seeder, "users table needs to not exist / be empty OR user_id 1 needs to have name=JonDoe, otherwise fail." just to be quadrupel sure it can never hit prod :D
[22:01:03] <Crell> Heh.  Well, this is a stand-alone library, so anyone running these tests on prod is already lost.
[22:01:21] <tabakhase> :D
[22:05:56] *** Quits: Bideford (Bideford@dsl-217-155-169-214.zen.co.uk) (Quit: Quit - Bye)
[22:10:00] *** Quits: cart_man (~rynot@169-0-213-159.ip.afrihost.co.za) (Quit: Konversation terminated!)
[22:18:11] *** Quits: goddard (~goddard@user/goddard) (Read error: Connection reset by peer)
[22:18:33] *** Joins: jla (~jordi@90.167.86.77)
[22:20:10] *** Joins: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net)
[22:21:16] *** Quits: liefer (~liefer@user/liefer) (Ping timeout: 252 seconds)
[22:24:22] *** Quits: jla (~jordi@90.167.86.77) (Ping timeout: 265 seconds)
[22:25:20] *** Quits: flommi (~flommi@puck942.startdedicated.de) (Ping timeout: 265 seconds)
[22:25:27] *** Joins: flommi_ (~flommi@puck942.startdedicated.de)
[22:31:29] *** Quits: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net) (Quit: This computer has gone to sleep)
[22:48:00] *** Quits: treethought (treethou@138.68.49.251) (Remote host closed the connection)
[22:53:58] *** Joins: lilgopher (~textual@c-73-51-174-246.hsd1.il.comcast.net)
[23:01:51] *** Joins: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net)
[23:02:03] *** Quits: kikijiki (~Thunderbi@user/kikijiki) (Quit: kikijiki)
[23:02:57] *** Quits: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net) (Client Quit)
[23:06:15] *** Quits: maret (~textual@37.19.195.130) (Quit: maret)
[23:12:38] *** Joins: maret (~textual@37.19.195.132)
[23:14:09] *** Quits: raub (~Raub_Voge@cpe-107-15-44-154.nc.res.rr.com) (Ping timeout: 265 seconds)
[23:21:33] <devslash> dostoyevsky2, I use a reverse proxy
[23:23:37] *** Joins: raub (~Raub_Voge@cpe-107-15-44-154.nc.res.rr.com)
[23:34:10] *** Quits: zakame (~zakame@user/zakame) (Ping timeout: 240 seconds)
[23:36:09] *** Joins: vidbina (~vid@dynamic-089-012-027-113.89.12.pool.telefonica.de)
[23:49:05] *** Joins: Gustavo6046_ (~Gustavo60@user/gustavo6046)
[23:49:50] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Ping timeout: 252 seconds)
[23:50:38] *** Gustavo6046_ is now known as Gustavo6046
[23:59:24] *** Joins: Gustavo6046_ (~Gustavo60@user/gustavo6046)
