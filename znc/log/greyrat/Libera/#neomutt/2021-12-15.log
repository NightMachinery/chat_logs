[00:17:37] *** Quits: Kerum (~Kerum@93-142-143-112.adsl.net.t-com.hr) (Quit: Going offline)
[00:27:01] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: Disconnecting)
[00:42:14] *** Joins: rgrinberg (~textual@187.223.209.106)
[00:59:38] *** Joins: raghavgururajan (9fd51d1ea8@user/raghavgururajan)
[01:27:05] *** Quits: mokulus (~mokulus@user/mokulus) (Ping timeout: 256 seconds)
[01:40:37] *** Quits: strajder (~strajder@user/strajder) (Quit: leaving)
[02:42:12] *** Quits: weirdsmiley (~weirdsmil@103.44.54.137) (Ping timeout: 265 seconds)
[02:53:58] *** Quits: plastico (~plastico@neomutt/plastico) (Quit: WeeChat 3.3)
[02:55:06] *** Joins: earthnative (~nemo@119-18-37-212.771225.bne.static.aussiebb.net)
[03:06:25] *** Quits: earthnative (~nemo@119-18-37-212.771225.bne.static.aussiebb.net) (Ping timeout: 250 seconds)
[03:36:43] *** Quits: sss1 (~sss1@194.87.139.21) (Quit: WeeChat 3.3)
[04:31:27] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3)
[04:31:56] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:52:17] *** Quits: rgrinberg (~textual@187.223.209.106) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:11:53] *** Quits: Pali (~pali@user/pali) (Ping timeout: 268 seconds)
[05:12:27] *** Joins: earthnative (~nemo@119-18-37-212.771225.bne.static.aussiebb.net)
[05:33:17] *** Quits: maetthew (~maetthew@user/maetthew) (Quit: ZNC 1.8.2 - https://znc.in)
[05:35:53] *** Joins: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se)
[05:35:53] *** Quits: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se) (Changing host)
[05:35:53] *** Joins: maetthew (~maetthew@user/maetthew)
[05:42:14] *** Quits: whatsyourask (~whatsyour@user/whatsyourask) (Quit: whatsyourask)
[05:59:37] *** Joins: Guest64873 (~bot@172-220-180-248.res.spectrum.com)
[05:59:50] *** Parts: Guest64873 (~bot@172-220-180-248.res.spectrum.com) ()
[06:22:53] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 256 seconds)
[06:47:30] *** Joins: rgrinberg (~textual@2806:101e:7:6946:a169:dd6b:ff9a:4d8f)
[07:12:56] *** Quits: andi- (~andi-@user/andi-) (Remote host closed the connection)
[07:14:21] *** Joins: andi- (~andi-@user/andi-)
[07:26:32] *** Quits: n_crm (~n_crm@2601:680:c880:d280:f8a:516f:8ff0:328c) (Ping timeout: 240 seconds)
[08:02:25] *** Quits: darkstarx (~darkstard@50.39.115.145) (Read error: Connection reset by peer)
[08:07:18] *** Joins: darkstardevx (~darkstard@50.39.115.145)
[08:08:33] *** Quits: darkstardevx (~darkstard@50.39.115.145) (Remote host closed the connection)
[08:08:57] *** Joins: darkstardevx (~darkstard@50.39.115.145)
[08:13:22] *** Quits: darkstardevx (~darkstard@50.39.115.145) (Read error: Connection reset by peer)
[08:19:01] *** Joins: shosseinib (~shosseini@141.98.119.180)
[08:52:46] *** Joins: darkstardevx (~darkstard@50.39.115.145)
[08:53:36] *** Quits: darkstardevx (~darkstard@50.39.115.145) (Remote host closed the connection)
[08:54:01] *** Joins: darkstardevx (~darkstard@50.39.115.145)
[09:03:16] *** Quits: darkstardevx (~darkstard@50.39.115.145) (Remote host closed the connection)
[09:30:06] *** Quits: shosseinib (~shosseini@141.98.119.180) (Quit: Connection closed)
[09:39:47] *** Quits: Vaelatern (~Vaelatern@voidlinux/maintainer/Vaelatern) (Ping timeout: 252 seconds)
[09:59:08] *** Joins: darkstardevx (~darkstard@50.39.115.145)
[09:59:55] *** Quits: darkstardevx (~darkstard@50.39.115.145) (Remote host closed the connection)
[10:00:19] *** Joins: darkstardevx (~darkstard@50.39.115.145)
[10:16:22] *** Quits: qub411_ (~user@124-169-215-64.tpgi.com.au) (Quit: WeeChat 3.3)
[10:32:29] <zecege> @flatcap: ok I'll try to pay attention to where the cursor is / where it jumps to
[10:46:32] *** Quits: breavyn_ (~breavyn@user/breavyn) (Ping timeout: 240 seconds)
[10:47:12] *** Joins: breavyn (~breavyn@user/breavyn)
[10:49:09] *** Joins: Vaelatern (~Vaelatern@cpe-76-183-97-243.tx.res.rr.com)
[10:49:09] *** Quits: Vaelatern (~Vaelatern@cpe-76-183-97-243.tx.res.rr.com) (Changing host)
[10:49:09] *** Joins: Vaelatern (~Vaelatern@voidlinux/maintainer/Vaelatern)
[10:51:46] *** Joins: weirdsmiley (~weirdsmil@103.44.54.137)
[10:51:53] <gahr> morning
[10:59:53] *** Quits: darkstardevx (~darkstard@50.39.115.145) (Read error: Connection reset by peer)
[11:05:07] *** Joins: darkstardevx (~darkstard@50.39.115.145)
[11:05:59] *** Quits: darkstardevx (~darkstard@50.39.115.145) (Remote host closed the connection)
[11:06:46] *** Joins: darkstardevx (~darkstard@50.39.115.145)
[11:11:35] *** Quits: darkstardevx (~darkstard@50.39.115.145) (Read error: Connection reset by peer)
[11:35:28] *** Quits: jelly (jelly@user/jelly) (Read error: Connection reset by peer)
[11:41:10] *** Joins: jelly (~me@user/jelly)
[11:53:19] *** Joins: gtms (~gtms@ip-89-103-244-60.net.upcbroadband.cz)
[12:11:40] *** Quits: rgrinberg (~textual@2806:101e:7:6946:a169:dd6b:ff9a:4d8f) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:50:59] *** Quits: Martin[XMPP] (c941dec6bd@79.184.57.52.ipv4.supernova.orange.pl) (Ping timeout: 250 seconds)
[12:57:42] *** Quits: sbach (~sbach@user/sbach) (Read error: Connection reset by peer)
[12:58:43] <laumann> hi o/
[12:59:33] <laumann> can I use display_filter to do coloring of messages?
[13:00:12] *** Joins: sbach (~sbach@user/sbach)
[13:00:22] <laumann> I'm aware of capabilities to apply color with regexes, but I want a little more contextual knowledge around colors
[13:01:58] <flatcap> morning all
[13:02:31] <flatcap> hi laumann.  yes, if you enable "set allow_ansi = yes"
[13:05:53] <laumann> flatcap: thanks, trying it out
[13:07:08] <laumann> hmmm, it doesn't work, but maybe I'm not emitting the right escape sequences
[13:11:03] <laumann> just found this one: https://github.com/neomutt/neomutt/issues/394
[13:11:18] *** Joins: plastico (~plastico@neomutt/plastico)
[13:11:31] * flatcap looks ...
[13:11:52] <laumann> oh, it's from 2017
[13:14:24] <flatcap> hmm... sorry I thought that would work
[13:18:02] *** Joins: Pali (~pali@user/pali)
[13:19:18] <laumann> hmm, escape sequences _do_ work
[13:20:33] <laumann> I'm just piping a message through awk, and awk appears to eat the escape sequences
[13:21:43] <flatcap> oh!
[13:38:33] <laumann> ooooh, so close >___<
[13:39:01] <laumann> flatcap: it helps with allow_ansi = yes, but it all the colors set are "reset" (or something) to red...
[13:40:55] <flatcap> oh
[13:54:08] *** Joins: keypusher (keypusher@user/keypusher)
[13:56:07] <laumann> I have some weird state management going on I think...
[13:58:13] <laumann> flatcap: https://asciinema.org/a/m9XEZEdKgoHJM65EzZstJty14
[13:58:34] <laumann> colors change as I scroll through the message :P
[13:59:27] <laumann> I have a shell script that pipes the message through awk with this script: https://git.sr.ht/~sircmpwn/aerc/tree/master/item/filters/hldiff
[13:59:55] <laumann> but I changed the \x1B to \033, which made the coloring "work"
[14:02:59] <flatcap> wow, that's psychodelic!
[14:03:08] <flatcap> (and a it's bug :-)
[14:03:43] <laumann> it's a bug?
[14:04:35] <flatcap> yeah, that can't be your fault
[14:05:13] <laumann> funny thing is: the "diff --git .." line that's supposed to be bold is done correctly
[14:15:04] <laumann> flatcap: should I open an issue on the repo?
[14:15:54] <flatcap> yes please
[14:21:33] *** Quits: reset (~reset@user/reset) (Quit: reset)
[14:34:34] <laumann> flatcap: I removed all color directives from my neomutt config, could there be some defaults that are messing with me?
[14:35:01] <laumann> hmm, doesn't appear to be the case
[14:36:01] <laumann> done!
[14:36:13] <laumann> https://github.com/neomutt/neomutt/issues/3157
[14:37:10] <flatcap> thanks
[14:44:39] <gahr> interesting one
[14:54:40] <laumann> I read that the message provided to the display_filter contains some "magic" escape sequences - should I try to remove them?
[14:58:32] *** Quits: alex19EP (znc@archlinux/trusteduser/alex19EP) (Quit: ZNC - https://znc.in)
[14:58:57] *** Joins: alex19EP (znc@archlinux/trusteduser/alex19EP)
[15:16:59] *** Joins: breavyn_ (~breavyn@user/breavyn)
[15:17:42] *** Quits: breavyn (~breavyn@user/breavyn) (Ping timeout: 260 seconds)
[15:39:12] <laumann> currently perusing grok_ansi()...
[15:39:14] <laumann> https://github.com/neomutt/neomutt/blob/bd2c00f7617f475520454e240519fb7070c0659d/pager/display.c#L1012
[15:39:30] <laumann> are escape sequences supposed to end with ';'?
[15:41:37] <laumann> ah no, just if controlling the style, gotcha
[15:41:54] * laumann brushes up on ANSI escape sequences
[15:48:53] *** Joins: Achylles (~Achylles_@2804:431:d725:5f74:726:267b:60a8:3cf6)
[16:06:47] *** Quits: Achylles (~Achylles_@2804:431:d725:5f74:726:267b:60a8:3cf6) (Remote host closed the connection)
[16:16:32] <flatcap> it's a problem with how we're using curses...
[16:17:17] <flatcap> we can't just push \e[31m to the screen, we have to create a curses colour and then use that
[16:17:53] <laumann> ok
[16:18:28] <flatcap> but... if we later reuse that curses colour, that causes an instantaneous colour shift
[16:26:14] <laumann> hmmm ok, my at-a-glance understanding of display_line() is th
[16:26:46] <laumann> *that custom colors parsed from escape sequences are shared between lines (or something)?
[16:30:56] <flatcap> yes.  to add to the confusion, display_line() both allocates new Lines and displays text on screen
[16:32:41] <laumann> but I still don't understand how the one color gets selected...
[16:34:40] <laumann> ah, maybe I get it! it's the last line that wins
[16:35:26] <laumann> when I scroll down, as soon as the cyan line appears, all the colored lines change to cyan
[16:35:55] <flatcap> if you're willing to live dangerously and you're technical enough to build neomutt...
[16:36:11] <laumann> i'm game :-)
[16:36:38] <flatcap> there's branch [flatcap/colour].  It's still a big hack, and may explode unexpectedly :-)
[16:37:05] <flatcap> I was reluctant to mention it, as it's still a WIP, but you seem keen
[16:37:34] <flatcap> that branch has a reworking of the colour handling...
[16:38:04] <flatcap> it can handle plain ansi colours, and palette colours
[16:40:57] <laumann> building...
[16:41:50] <laumann> flatcap: "icommands.c:368:7: error: ‘NumQuotedColors’ undeclared (first use in this function)"
[16:41:59] <laumann> did ./configure && make
[16:44:17] <flatcap> add --debug-color to configure
[16:44:46] <laumann> ack
[16:48:47] <flatcap> I've pushed some colourful emails to the colour dir in https://github.com/neomutt/sample-mail
[16:51:17] <laumann> looks like it's working \o/
[16:52:07] <flatcap> woo!
[16:53:44] <laumann> https://asciinema.org/a/WdcVZiB9AbM1nRaI8duBSlEnE
[16:53:59] * flatcap looks ...
[16:54:04] <flatcap> :color
[16:54:22] <laumann> same patch as earlier
[16:54:41] <flatcap> lovel
[16:54:46] <flatcap> lovely
[16:54:59] <laumann> the only difference i can see is that the headers are expanded here
[16:57:47] <flatcap> hmm...
[16:58:11] <laumann> oh and the "diff --git" line is also not bold
[16:59:44] <flatcap> hmm... the bold should work.  I'll have a think about the headers
[17:00:08] <laumann> bold is emitted from the awk script with "
[17:00:21] <laumann> "\033[1m"
[17:01:00] <flatcap> that's right
[17:01:04] * flatcap tries
[17:03:50] <flatcap> nope I don't see bold either. noted
[17:06:54] <laumann> flatcap: any tips on debugging?
[17:08:05] <laumann> i would add printf()s in different places, but iirc that tends to mess with ncurses
[17:09:00] <flatcap> with --debug-colour and `neomutt -d6`, you'll already get a LOT of debugging info to `~/.neomuttdebug0`
[17:09:21] <laumann> ah, there's also color_debug()
[17:09:24] <laumann> ack
[17:10:34] <flatcap> I tend to run `tail -F ~/.neomuttdebug0 | grep --line-buffered -Ew "color_debug" | sed 's/^.\{24\} [^ ]\+ //'` in a separate window
[17:11:24] <laumann> beautiful, thanks flatcap 
[17:11:42] <flatcap> np, enjoy
[17:14:08] <laumann> changing the esc sequence to "\033[1;37m" makes it work
[17:14:52] <flatcap> ah interesting
[17:15:45] <laumann> I think when it's just attributes, the color for that line isn't created
[17:17:36] <flatcap> sounds right
[17:24:38] <laumann> tried changing "return" to "break" in ansi_color_list_add() for the A_BOLD case
[17:25:12] <laumann> it does create a color, but it'll keep expanding the AnsiColors list with duplicate entries
[17:27:07] <flatcap> ah yes, I see
[17:30:52] <flatcap> we want to be careful there. we want to merge sequences of the form `\e[X;Y;Zm` into one AnsiColor
[17:35:10] *** Joins: Martin[XMPP] (c941dec6bd@79.184.40.28.ipv4.supernova.orange.pl)
[17:56:11] *** Quits: vroom (~vroom@user/vroom) (Ping timeout: 265 seconds)
[17:56:15] <laumann> gotcha
[17:58:51] *** Joins: vroom (~vroom@cable-84-43-163-47.mnet.bg)
[17:58:51] *** Quits: vroom (~vroom@cable-84-43-163-47.mnet.bg) (Changing host)
[17:58:51] *** Joins: vroom (~vroom@user/vroom)
[18:10:31] *** qyliss_ is now known as qyliss
[18:17:53] *** Joins: darkstardevx (~darkstard@50.39.115.145)
[18:27:08] *** Joins: earthbre- (~earthbrea@li778-229.members.linode.com)
[18:28:00] *** Quits: demure (demure@demu.red) (Ping timeout: 268 seconds)
[18:28:36] *** Quits: earthbreaker (earthbreak@2600:3c03::f03c:91ff:fece:9070) (Ping timeout: 268 seconds)
[18:39:48] *** Joins: demure (demure@demu.red)
[18:51:53] <laumann> flatcap: not entirely sure what the difference between the 
[18:52:00] <laumann> sorry
[18:53:13] <laumann> differences between the package manager's version of neomutt and the flatcap/colour branch are, but I can't send mail with the dev version
[18:54:23] <bremner> feature!
[18:55:01] <laumann> I get "No authenticators available"
[18:55:32] <laumann> did ./configure --notmuch --gpgme --debug-color --ssl
[18:56:08] <laumann> probably missing something...
[18:59:22] <laumann> adding --sasl did the trick
[19:11:40] *** Joins: strajder (~strajder@user/strajder)
[19:37:21] *** Joins: va5c0 (~vasco.nun@2001:818:e35b:6300:6b1:c037:b1cd:a17d)
[19:38:02] *** Quits: va5c0 (~vasco.nun@2001:818:e35b:6300:6b1:c037:b1cd:a17d) (Client Quit)
[19:38:24] *** Joins: va5c0 (~vasco.nun@2001:818:e35b:6300:6b1:c037:b1cd:a17d)
[19:51:25] *** Quits: va5c0 (~vasco.nun@2001:818:e35b:6300:6b1:c037:b1cd:a17d) (Quit: WeeChat 3.3)
[20:18:38] <flatcap> laumann: (sorry, I wandered off)
[20:18:57] <flatcap> yes, you'll need to add more configure options
[20:19:16] <flatcap> if you run `neomutt -v` on your packaged version, it'll show the configure options that were used
[20:20:41] <flatcap> I had a look at why bold wasn't displayed.  by default ANSI bold is mapped to neomutt's "bold" colour...
[20:21:17] <flatcap> by default "bold" isn't coloured.  "color bold bold default default" will configure what you expected to see
[20:21:39] <flatcap> I might overrule this mutt feature
[20:22:59] *** Quits: gtms (~gtms@ip-89-103-244-60.net.upcbroadband.cz) (Remote host closed the connection)
[20:29:25] *** Quits: chrissl (~chrissl@80.121.186.66) (Ping timeout: 240 seconds)
[20:45:13] *** Joins: va5c0 (~vasco.nun@2001:818:e35b:6300:6b1:c037:b1cd:a17d)
[20:45:21] *** Quits: va5c0 (~vasco.nun@2001:818:e35b:6300:6b1:c037:b1cd:a17d) (Client Quit)
[20:45:50] *** Joins: va5c0 (~vasco.nun@2001:818:e35b:6300:6b1:c037:b1cd:a17d)
[21:02:55] *** Quits: kzak (~kzak@nat-37.starnet.cz) (Ping timeout: 256 seconds)
[21:18:31] *** Quits: va5c0 (~vasco.nun@2001:818:e35b:6300:6b1:c037:b1cd:a17d) (Quit: WeeChat 3.3)
[21:41:27] *** Quits: vroom (~vroom@user/vroom) (Ping timeout: 256 seconds)
[21:56:36] *** Joins: reset (~reset@user/reset)
[21:58:46] *** Joins: redgloboli (~redglobol@user/redgloboli)
[22:05:20] *** Joins: vroom (~vroom@cable-84-43-163-47.mnet.bg)
[22:05:20] *** Quits: vroom (~vroom@cable-84-43-163-47.mnet.bg) (Changing host)
[22:05:20] *** Joins: vroom (~vroom@user/vroom)
[22:11:22] *** Joins: superbolide (~x@cpe-75-80-16-41.san.res.rr.com)
[22:26:29] *** Quits: weirdsmiley (~weirdsmil@103.44.54.137) (Ping timeout: 252 seconds)
[23:13:39] *** Joins: _hades_ (~ralphe@cable-84-44-244-10.nc.de)
[23:19:31] *** Quits: darkstardevx (~darkstard@50.39.115.145) (Quit: Leaving)
[23:37:03] *** Quits: vroom (~vroom@user/vroom) (Ping timeout: 256 seconds)
[23:38:03] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Ping timeout: 276 seconds)
[23:38:50] *** Joins: saki (~saki@gateway/tor-sasl/saki)
[23:41:19] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[23:43:54] *** Quits: madage (~madage@user/madage) (Ping timeout: 276 seconds)
[23:49:45] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Ping timeout: 276 seconds)
[23:50:47] *** Joins: saki (~saki@gateway/tor-sasl/saki)
[23:53:15] *** Quits: mord0d (~mord0d@gateway/tor-sasl/mord0d) (Remote host closed the connection)
[23:56:33] *** Joins: madage (~madage@user/madage)
[23:59:36] *** Joins: mord0d (~mord0d@gateway/tor-sasl/mord0d)
