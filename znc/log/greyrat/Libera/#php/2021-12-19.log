[00:01:12] *** Joins: sine (~sine@host109-148-243-130.range109-148.btcentralplus.com)
[00:02:04] <sine> when you do a foreach, is there a way of getting the current itteration number, for count purposes
[00:02:40] <sine> Im doing a foreach for a table, and I want to have the number in each one 1,2,3 etc
[00:04:00] <varrg> if the traversable your looping has integer keys, yes: foreach ($it as $k => $v) will set $k to each index
[00:04:04] <varrg> otherwise, no, use a for loop
[00:04:20] <__adrian> no
[00:04:36] <__adrian> integer keys don't have to be in order. keys have nothing to do with position
[00:04:41] <__adrian> keep a counter
[00:05:03] <__adrian> $i = 0; foreach ($a as $k=>$v) { $i++; ... }
[00:05:20] <__adrian> do not use a for() loop to iterate an array. this is always wrong.
[00:05:59] <varrg> depending on input, a for loop can be more suitable
[00:06:48] <__adrian> if you want to iterate keys $x..$y, sure. but not if you want to iterate the values in an array.
[00:08:36] <__adrian> and yes, if you have a 0..n keyed array, then you can end up with the same outcome. usually not the intent, though.
[00:09:31] <stenno> can't you do foreach (array_values($a) as $k => $v)
[00:09:58] <__adrian> similarly indirect. also assumes you don't care about the original keys.
[00:10:06] <stenno> yes, thats my assumptions
[00:10:09] <stenno> -s
[00:10:28] *** Joins: hans (uid529825@id-529825.helmsley.irccloud.com)
[00:10:41] <__adrian> ...and for the purposes of iteration count, you have to remember to add 1
[00:10:53] <hans> given the dsn "mysql:host=localhost;port=9999;dbname=easyad;charset=utf8mb4", i get the error "Uncaught PDOException: SQLSTATE[HY000] [2002] No such file or directory", why?
[00:11:58] <Blondie101010> hans:  does it do the same thing if you replace 'localhost' with '127.0.0.1'?
[00:12:19] <__adrian> "locahost" is a special value - maybe not what you meant
[00:13:03] <hans> Blondie101010: nope, using 127.0.0.1 fixes it, wow
[00:13:05] <__adrian> "localhost" means you want to use a domain socket connection. if you want to use tcp, then you need to type the IP
[00:13:49] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[00:15:11] <varrg> http://sandbox.onlinephpfunctions.com/code/aa04ab5345945e954eb58672253c715ff62df2a2 is this just because i am returning from an expression? Seems odd to warn about it
[00:15:35] <hans> i see.. if people want to connect to a socket, they're supposed to specify unix_socket=/var/run/mysqld/mysqld.sock; or some such, right? but specifying "localhost" makes php assume they want some-unix-socket, hmm
[00:15:51] <hans> Blondie101010, __adrian, thanks!
[00:16:48] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[00:17:11] <hans> so.. is "host=localhost";  an alias for "unix_socket=".ini_get("pdo_mysql.default_socket")  ?
[00:17:51] <__adrian> varrg: yes
[00:18:21] <varrg> okay, thanks. Just accept it then
[00:18:53] <__adrian> e.g., compare to  if (! isset($value[1])) { return $value[0]; } return $value;
[00:19:40] <varrg> I guess php will support such a return in the future. Makes little sense to warn about it
[00:19:54] <Blondie101010> hans:  ask your mysql support...  the exact same behaviour can be observed with `mysql` cli
[00:20:08] <__adrian> it's because references in php refer to a variable, not to a vaue contained by a variable.
[00:20:22] <__adrian> with the result of an expression, there's nothing to reference
[00:21:13] <Blondie101010> that code simply doesn't make sense, and that's why it fails parsing
[00:22:25] <varrg> hm, that's true. I am returning the array indice 0 as a reference. I mean to return the value as a reference. Hm
[00:22:37] <varrg> I'm doing this to possibly return multiple references
[00:22:48] <Blondie101010> you can't say it doesn't refer to a reference when you explicitly defined the function to return a reference
[00:23:05] <Blondie101010> you should instead learn to not use references
[00:23:26] <__adrian> i've seen similar confusion when people think of a ternary as a shorthand if..else.  it's not.
[00:23:46] <varrg> the references are there to allow: $value = $object->get('key'); $value = 'new value'; to not have to call ->set()
[00:23:47] <__adrian> "it's an expression" means it produces a value
[00:23:49] <Blondie101010> sure but that's not the problem
[00:24:26] <__adrian> "varrg> the references are there ... to not have to call ->set()" this is a problematic design ;)
[00:24:51] <Blondie101010> so you do deserve any reference warning ever made
[00:25:06] <varrg> I see a lot of advantages to it. But yes, now that I need to return multiple values, it can't be done nicely
[00:25:42] <__adrian> "I see a lot of advantages to it"  they are going to be outweighed by the disadvantages. you're just discovering the first one.
[00:25:46] <Blondie101010> the fact that you keep everything vague is a very good indicator that you just don't know how to design it
[00:25:53] <Blondie101010> take a big step back and focus
[00:26:04] <__adrian> this approach pretty much ruins object encapsulation.
[00:26:48] <__adrian> don't try to manage the object's internal state. instead, tell the object what you want done.
[00:27:54] <varrg> it's a wrapper for an array, hence why I want it to return references. Now, I do need to allow multiple values returns from get() so I must give up returning references anyhow
[00:28:21] <stenno> references :(((
[00:28:51] <__adrian> why do you want to wrap the array?
[00:29:22] <Blondie101010> varrg:  why do you *require* to return multiple values in one call?  if you really do, why not put them in an array?
[00:30:13] <varrg> __adrian, because it traverses a linked list of parent objects which each wrap its own array
[00:30:31] <varrg> Blondie101010, that's what I do, but each value was from different objects, so references doesn't work
[00:30:39] <__adrian> so, it's wrapped because all the other arrays are wrapped?  but why?
[00:30:58] <__adrian> arrays are not taboo  ;)
[00:31:22] *** Joins: luigibu1 (~luigibu@80.30.200.2)
[00:31:29] <__adrian> they have their place; objects don't serve the same purposes
[00:31:29] <varrg> __adrian, so I can request a key from my object, which will iterately look for it in each parent object
[00:31:39] <__adrian> you're using objects as arrays
[00:31:42] <__adrian> just don't
[00:31:59] <varrg> well, for my goal I can not use arrays
[00:32:18] <__adrian> objects are not generic data containers. they're _behavior_, with state.
[00:32:23] <__adrian> why not?
[00:32:49] <__adrian> arrays are generic data containers.
[00:33:40] <varrg> https://dpaste.com/8HK3KUZ8M I'm doing this
[00:33:48] <Blondie101010> varrg:  do you mean that you want to get data recursively from your object tree?
[00:33:55] <varrg> yes
[00:34:19] <varrg> while still keeping them apart
[00:34:32] <__adrian> then your object should contain the arrays, and parse (either on construct, or at runtime if you need to be lazy) which value occurs at which key
[00:34:38] <Blondie101010> that needs to be handled like any good recursion..  it could simply array_merge($results, $next->getResults);
[00:34:58] <varrg> __adrian, that's what I'm doing
[00:35:22] <__adrian> no - you wouldn't have this problem, if that's what you were doing
[00:35:35] <varrg> Blondie101010, I don't want to keep them apart. I can then easily write to file each array separately if desired
[00:35:37] <__adrian> sounds like you're wrapping _each array_ in its own object, individually.
[00:36:12] <__adrian> if you don't want to keep the source arrays separate, then it's as simple as blondie says. array_merge().
[00:36:20] <varrg> __adrian, yeah, each object contains its own array, and they are at runtime overshadowing eachother in order
[00:36:35] <varrg> I want to keep them separate
[00:36:40] <__adrian> i'd just use the arrays
[00:36:46] <Blondie101010> varrg:  yes, that's what I said
[00:37:03] <varrg> __adrian, cool
[00:37:15] <Blondie101010> each entity could return whatever it wants and it would be included in the resulting array
[00:37:26] <__adrian> but in either case, returning by refernce is still problematic
[00:37:52] <__adrian> use a setter  ;)  map to the nested structures
[00:38:56] <__adrian> public function set($k, $v) { if ($this->has($k)) { $this->$k = $v; } else { $this->parent->set($k, $v); } }
[00:38:57] <varrg> yeah. I removed the return by reference. It wasn't crucial to the internal workings
[00:39:34] <varrg> at the moment I only allow set() and delete() to work on the object you call it on. So f.ex removing a key, will return the parent key if it exists
[00:39:47] <varrg> while get and has will recurse upwards
[00:40:08] <varrg> I haven't fully decided on that though
[00:40:09] <Blondie101010> it still sounds like you have no structure
[00:40:14] <__adrian> then sounds like you didn't want the reference-ability in the first place ...?
[00:40:32] <varrg> __adrian, it was just for the end-user, sugar on top.
[00:40:40] <__adrian> also don't write code until you've made the decisions  :)
[00:40:59] <__adrian> yeah, don't write sugar until you know what needs sweetening
[00:41:08] *** Quits: NakedKing (~NakedKing@user/nakedking) (Quit: Leaving)
[00:41:16] <varrg> haha. Yeah, while I'm writing I'm becoming aware of restrains and logic that I haven't thought of before. Giving me some headache to be frank
[00:41:19] <__adrian> you'll give someone diabetes
[00:43:25] <varrg> f.ex: ->get('foo.bar') returns scalar from $child, ->get('foo.qux') returns scalar from $parent, while ->get('foo') returns ['bar' => 'scalar'] and I realise it must return a composite array from both $child and $parent. Ugh
[00:43:47] <Blondie101010> you're missing my point
[00:43:59] <Blondie101010> a proper design doesn't use fake concepts
[00:44:08] <Blondie101010> it relies on logical structure
[00:44:55] <Blondie101010> what is that structure supposed to represent?
[00:46:12] <varrg> Blondie101010, I've told you and I presented code that described the use
[00:46:46] <Blondie101010> no
[00:47:01] <Blondie101010> that example does not give any indication on what it does
[00:47:53] <Blondie101010> if it's meant to parse a config file, keep it in a simple easy to access structure
[00:47:58] <varrg> fine. Overriding options arrays
[00:48:20] <Blondie101010> sure, most ini/config parsers do that
[00:48:48] <Blondie101010> none usually recurse
[00:49:21] <varrg> Yeah. I want it to not merge with parents, but flatten at runtime
[00:49:42] <Blondie101010> you could delegate (sub)section processing, but it's not to make an object... the objects are meant to handle the parsing at that stage
[00:49:53] <Blondie101010> then apply the proper rules
[00:50:13] <Blondie101010> give the keys meaninful names that merging will override as you want
[00:50:48] <Blondie101010> in the end, any configuration option should be simplifiable to a plain key
[00:52:32] <varrg> not sure I follow you but I think that's what I'm doing. get() and traversing use the underlying arrays. Only the constructor creates objects
[00:53:22] <varrg> although I don't recurse get(), instead I use a inner loop. Maybe recursing would simplify the code
[00:54:19] <Blondie101010> you want your recursive parsing to give you a final config array
[00:54:30] <Blondie101010> so each option needs to have a predictable key
[00:55:02] <Blondie101010> something.component.option.detail = someAttribute
[00:55:53] <Blondie101010> once that desired resulting structure is defined, coding it is a piece of cake
[00:57:11] <varrg> well, I haven't put restrains on key type. Should be forced to string
[00:57:46] <varrg> other than that, I can hardly put more rules on key names
[00:57:48] <Blondie101010> how would you otherwise find a specific option?
[00:58:38] <Blondie101010> you'd need to define constants to refer to ints corresponding to them, simply making it more complicated with 0 benefit
[00:58:48] <Blondie101010> so yes you need string keys for that
[00:58:53] <varrg> indeed. set() only takes strings but you can of course pass an object an array which may have other types of keys
[00:58:57] <__adrian> "at runtime" can be on construct. that would be the most straightforward solution
[00:59:59] <__adrian> and "string|int keys" is a pretty reasonable constraint for a config
[01:00:09] <varrg> __adrian, I want to allow detaching objects anywhere in the chain, and applying them to a different chain. So any merging or flattening would prevent that
[01:01:21] <Blondie101010> varrg:  give a real example
[01:01:38] <Blondie101010> why do you make objects from your config?
[01:01:49] <Blondie101010> just load the config
[01:02:07] <Blondie101010> so objects could be used to parse it, but not in the result
[01:02:31] <__adrian> ^
[01:02:39] <__adrian> this is what i was driving at above
[01:03:11] <varrg> I don't follow. How would I keep a chain of parents if it's just an array
[01:06:41] <__adrian> just keep a list of them internally
[01:06:58] <__adrian> protected $arrays = [];
[01:07:26] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 256 seconds)
[01:07:52] <varrg> so, instead of encapsulating each config in its own config object, I should only have 1 config object that keeps an array with each config array
[01:08:29] <varrg> don't see how that would matter much, except that I wouldn't be able to recursively call methods. Which I don't do anyway
[01:09:13] <__adrian> this would be a different approach than your wrap-each-config approach. but it seems it would be suitable, from conversation.
[01:09:30] <__adrian> you'd need to decide once you have your requirements figured out
[01:12:16] <varrg> yeah. I'll tinker on. Thanks for the advice
[01:28:42] *** Quits: hh (~g@37.214.46.113) (Remote host closed the connection)
[01:34:39] *** Quits: varrg (~varrg@h-176-10-198-245.A351.priv.bahnhof.se) (Quit: Leaving)
[01:41:04] *** Joins: Atlas (~atlas@user/atlas)
[01:45:40] *** Joins: onichomp (~onichomp@2806:264:4404:8056:897e:f218:70d4:d886)
[01:51:27] *** Quits: Atlas (~atlas@user/atlas) (Quit: Textual IRC Client: www.textualapp.com)
[01:57:14] *** Joins: luigibu (~luigi@80.30.200.2)
[01:58:28] *** Quits: guido (~guido@host-87-10-255-102.retail.telecomitalia.it) (Quit: WeeChat 3.3)
[01:59:34] *** Quits: luigibu1 (~luigibu@80.30.200.2) (Ping timeout: 256 seconds)
[01:59:54] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[02:20:55] *** Joins: SpeakerToMeat (~Speaker@user/speakertomeat)
[02:20:59] <SpeakerToMeat> Hello all.
[02:23:54] <SpeakerToMeat> Question, I've been trying to remotely debug with xdebug and vs-code for a couple days now, using the php-debug extension. Instead of connecting via ssh from vscode I use a port forward with an external ssh connection as the remote debug/edit system for vscode is too heavy on my staging server. The thign is, I try to set a breakpoint, and it shows as Unverified, and it never breaks so I can't check
[02:23:57] <SpeakerToMeat> vairables, step, etc... I've activated xdebug.remote_log on the server, and checking the logs I see the breakpoint is set, and as I'm using pathMapper on the extension the file where the breakpoitn is set is in the right path, I can ls/cat it perfectly from console.... yet xdebug responds with:
[02:23:59] <SpeakerToMeat> <response xmlns="urn:debugger_protocol_v1" xmlns:xdebug="https://xdebug.org/dbgp/xdebug" command="breakpoint_set" transaction_id="7" id="282640002" resolved="unresolved"></response>
[02:24:14] <SpeakerToMeat> Any idea what could be happening here? or how to find out?
[02:33:45] <SpeakerToMeat> This is XDebug 2.8.1 on php 7.3.18
[02:44:23] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[03:03:13] *** Quits: luigibu (~luigi@80.30.200.2) (Quit: WeeChat 3.3)
[03:08:16] *** Quits: esselfe (~steph@user/esselfe) (Ping timeout: 245 seconds)
[03:12:57] *** Quits: thiras_ (~thiras@user/thiras) (Ping timeout: 240 seconds)
[03:38:06] *** Quits: ianthrive (~ianthrive@166.70.191.9) (Quit: Textual IRC Client: www.textualapp.com)
[03:51:01] *** Quits: sine (~sine@host109-148-243-130.range109-148.btcentralplus.com) (Ping timeout: 240 seconds)
[04:07:39] *** Quits: magla (~gelignite@55d4d5f7.access.ecotel.net) (Quit: Stay safe!)
[04:14:58] <robertparkerx> I have another question about that error before contacting the devs. Can I use is_object() to silence it?
[04:15:07] <robertparkerx> since it seems the object is what is causing it
[04:15:43] <robertparkerx> (PHP Fatal error:  Uncaught Error: Cannot use object of type WC_Product_Variation as array in)
[04:16:00] <robertparkerx> wait a second
[04:16:06] <robertparkerx> I think understand why i have to fix it
[04:16:15] <robertparkerx> it might become sooner than the return?
[04:16:18] <robertparkerx> or output?
[04:16:35] <robertparkerx> so it may not be $current_product or var that is causing it
[04:17:21] <robertparkerx> because the function treats the variable as an array
[04:17:25] <robertparkerx> so that might be the issue?
[04:49:01] *** Quits: gde33 (~gde33@84-106-154-98.cable.dynamic.v4.ziggo.nl) (Quit: KVIrc 5.0.0 Aria http://www.kvirc.net/)
[04:50:14] <Blondie101010> damn 3v4l.org not working...  the function returns an object and you try to access array elements from it
[05:09:13] <relipse> does anyone know how I can add a user to a database in Jetbrains datagrip ?
[05:10:57] <Blondie101010> look at their documentation!
[05:12:27] <Blondie101010> probably relevant: https://www.jetbrains.com/help/datagrip/configuring-database-connections.html
[05:14:34] <relipse> I feel accomplished I just wrote a DAO
[05:14:59] *** Quits: ms49434 (~ms49434@user/ms49434) (Quit: Leaving)
[05:39:33] *** Quits: ham5 (iamfive@user/ham5) (Remote host closed the connection)
[05:40:17] *** Joins: gothicserpent (~gothicser@89.45.90.230)
[05:41:36] *** Joins: ham5 (iamfive@user/ham5)
[06:02:06] *** Quits: travisghansen (~travisgha@192.74.130.86) (Ping timeout: 256 seconds)
[06:04:30] *** Joins: junktext (~junktext@gateway/vpn/pia/junktext)
[06:14:31] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 245 seconds)
[06:16:08] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[06:24:53] *** Quits: faktor (~factor@72.192.71.12) (Quit: Leaving)
[06:27:39] *** Joins: thiras_ (~thiras@user/thiras)
[06:32:28] <Bugz000> https://www.php.net/manual/en/image.examples-watermark.php i'm trying to apply a watermark/overlay to an image and dump it to the browser but i can't seem to get it working
[06:33:18] <Bugz000> just get a little white square in the browser, and if i try saving the image, i get the "overlay" with a solid black background... so it's doing something but not what i want
[06:34:17] <Bugz000> https://pastebin.com/raw/30S7UU84
[06:36:29] *** Parts: Bugz000 (~Bugz000@user/bugz000) (a̅ͨŕ͔̦e̬ y͕o̡u͠ t̯͠͝a͍̓̎l̠͈͉̿k͎i̡͛ͧn̦͈͉̉g͇͞ t̄o̭͘҉ ỳ̞͡óû̝rͬ͟s̴̵̴̵e̳͎l͗͑͘f͓҉҉ ạg̮̍a̿i̜ň?)
[06:36:38] *** Joins: Bugz000 (~Bugz000@user/bugz000)
[06:36:43] <Bugz000> yay
[06:36:49] <Bugz000> stupid fingers
[06:48:57] *** Quits: thiras_ (~thiras@user/thiras) (Ping timeout: 240 seconds)
[07:02:32] *** Quits: guenhael (~Thunderbi@2a01cb008c3d5800741d9bed66a89939.ipv6.abo.wanadoo.fr) (Ping timeout: 240 seconds)
[07:18:10] <__adrian> robertparkerx: did you ever check whether this error _always_ happens? this is important: it seems _highly unlikely_ that it would "sometimes" be an array and sometimes be an object. it's more likey it's _always_ an object and the code just wrongly treats it like an array.
[07:19:04] <__adrian> $current_product  ← object, NOT AN ARRAY. just _stop treating it like an array_.
[07:29:53] <Bugz000> stop using discord underlines in irc you silly goose
[07:32:44] <__adrian> what?
[07:32:53] <__adrian> screw discord
[07:33:41] <Bugz000> my mistake,  bracing with _ is italics... totally makes sense right hurhur
[07:34:27] <__adrian> well, irssi and others i've used considers it an underline
[07:34:53] <__adrian> and back before any clients considered it anything, it was used for emphasis.
[07:35:05] <Bugz000> i wasn't aware any clients considered it anything
[07:35:08] <Bugz000> it's not an irc anything lol
[07:35:13] <__adrian> nothing to do with discord
[07:35:15] <Bugz000> its already uses ascii codes for formatting
[07:35:45] <Bugz000> like so
[07:36:05] <Bugz000> mine even supports strikethrough (0x1E) but not all clients do
[07:36:32] * __adrian shrugs
[07:36:40] <__adrian> good for your client? (i saw nothing btw)
[07:36:57] <Bugz000> i have not used strikethrough yet
[07:37:29] <robertparkerx> Okay so it may be broken
[07:37:39] <Bugz000> this is strikethrough
[07:37:57] <__adrian> what client?
[07:38:10] <Bugz000> adiirc
[07:38:33] <Bugz000> though these ascii codes are part of the irc format
[07:39:15] <Bugz000> it's being extended always, so strikethrough and the extended colors (adiirc along with various other clients) support these
[07:39:35] <Bugz000> but i've never seen a client support _ bracing as syntax
[07:39:54] <Bugz000> besides those fake IRC clients like matrix... awful discord portals
[07:41:04] <Bugz000> "let's use irc, but strip LITERALLY everything that makes it IRC away, and give it a discord interface, now i can idle in EVEN MORE channels to satisfy my ever consuming FOMO =D"
[07:48:05] *** Joins: Rockwood (~Rocky@user/rocky)
[07:53:17] <Rockwood> o/
[07:54:03] <robertparkerx> https://paste.gg/p/anonymous/372a1e6446c0417a8e914507cd38b852
[07:54:16] <robertparkerx> https://developer.wordpress.org/reference/functions/get_post/ $output should be associative array
[07:54:24] <robertparkerx> so it looks correct it should always be array
[07:54:31] <robertparkerx> https://wp-kama.com/function/get_post
[07:54:36] <robertparkerx> the example shows the same
[07:55:37] <__adrian> k, that's not the code i saw before. which line is the error on?
[07:56:40] <robertparkerx> its another function but calls back to this one for the variable/array
[07:56:50] <robertparkerx> you are right taht this is not the same
[07:56:54] <Rockwood> __adrian, hi how are you sir?
[07:56:56] <__adrian> please show the line that's actually triggering the error
[07:57:00] <__adrian> hi
[07:57:14] <robertparkerx> https://paste.gg/p/anonymous/e5dd70adaa274bed86c88f10d62b8dee line 23
[07:57:38] <Rockwood> everything looks fine just a point is hinting in my mind
[07:57:40] <Rockwood> strtotime
[07:58:11] <__adrian> means $current_product is not an array. you get it on :18 above. look at the docs for  $product_sync->load_main_product()
[07:58:24] <robertparkerx> there are no docs. It's custom
[07:58:31] <robertparkerx> I pasted load_main_product()
[07:58:39] <robertparkerx> it's coming from get_post()
[07:58:47] <robertparkerx> https://wp-kama.com/function/get_post
[07:58:58] <robertparkerx> array_a seems correct
[07:59:33] <robertparkerx> https://paste.gg/p/anonymous/372a1e6446c0417a8e914507cd38b852 load_main_product()
[07:59:48] <__adrian> before :23, var_dump($current_product)  (or log it)
[08:00:01] <Rockwood> ARRAY_A - associative array
[08:00:02] <Rockwood>  its in caps??
[08:00:12] <robertparkerx> I tried to log it with error_log() but this is litespeed and I never see anything in the error log
[08:00:20] <robertparkerx> yes
[08:00:52] <__adrian> then set up the error log correctly. or just make a one-off log with file_put_contents()
[08:01:14] <Rockwood> i think he should be start from top
[08:01:35] <Rockwood> 	public function load_main_product( $post_id ) {
[08:01:35] <Rockwood> 		switch_to_blog( 1 );
[08:14:01] *** Quits: Rockwood (~Rocky@user/rocky) (Read error: Connection reset by peer)
[08:16:26] *** Joins: Rockwood (~Rocky@user/rocky)
[08:18:05] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[08:26:35] <__adrian> robertparkerx: there's still one thing i'm not sure you're clear on - if the file/line are correct, then this error has nothing to do with get_post(). on :23, you're only using one $var as an array, $current_product. that's the object the error refers to - not $current_product["post"].
[08:27:57] <__adrian> if you're looking at the correct source code for $product_sync->load_main_product(), then all i can imagine is that something is missing from your paste. or possibly that $product_sync->add_update_product() takes $current_product by reference and replaces it with an object.
[08:28:29] <__adrian> in any case, you need to figure out logging so you can know what's actually happening
[08:38:13] *** Quits: junktext (~junktext@gateway/vpn/pia/junktext) (Ping timeout: 240 seconds)
[08:56:49] *** Joins: epony (epony@user/epony)
[09:11:08] *** Joins: entropy_ (~ent@user/entropy/x-9891564)
[09:13:17] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[09:49:03] *** Quits: hans (uid529825@id-529825.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[10:08:10] *** Quits: Rockwood (~Rocky@user/rocky) (Read error: Connection reset by peer)
[10:09:48] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[10:13:05] <nate> okay so now that I have time to piss with this again lol, back to my way early morning issue.  Anyone know how to stop php7.4 compiler from being dumb since they removed the ability to specify a --with-openssl target?
[10:13:28] <Alex123> hello, I am trying to flatten associative  array, (  new RecursiveIteratorIterator(new RecursiveArrayIterator($array));  ) works fine but issue I am having I want to make a make key be parent_key+child_key+grandchild_key when I do this way I only can get parent_key=>val, grandchild_key=>val
[10:16:43] <Alex123> any suggestion how to get the keys to be way I want?
[10:18:10] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[10:27:53] *** Quits: Hash (~Hash@hashsecurity.org) (Ping timeout: 268 seconds)
[10:28:42] *** Joins: guido (~guido@host-87-7-96-86.retail.telecomitalia.it)
[10:38:27] *** Joins: mr_gant (~mr_gant@144.48.37.132)
[10:44:18] *** Joins: Hash (~Hash@hashsecurity.org)
[10:54:32] *** Quits: Hash (~Hash@hashsecurity.org) (Ping timeout: 240 seconds)
[11:03:23] *** Joins: Hash (~Hash@2607:f130:0:ee:ff:ff:df95:ada8)
[11:10:34] *** Joins: stenno (~stenno@user/stenno)
[11:34:42] *** Joins: fef (~thedawn@user/thedawn)
[11:41:22] *** Joins: Hash_ (~Hash@hashsecurity.org)
[11:42:17] *** Quits: Hash (~Hash@2607:f130:0:ee:ff:ff:df95:ada8) (Ping timeout: 240 seconds)
[11:51:56] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 252 seconds)
[12:01:35] *** Joins: stenno (~stenno@user/stenno)
[12:03:28] *** Quits: Hash_ (~Hash@hashsecurity.org) (Ping timeout: 268 seconds)
[12:08:41] *** Joins: Hash (~Hash@hashsecurity.org)
[12:18:09] *** Joins: LucaTM (~LucaTM@user/lucatm)
[12:58:14] *** Quits: Hash (~Hash@hashsecurity.org) (Ping timeout: 260 seconds)
[12:59:02] *** Joins: Hash (~Hash@hashsecurity.org)
[13:08:00] *** Joins: MSSC (~MSSC@pd950eebb.dip0.t-ipconnect.de)
[13:09:18] *** Joins: hh (~g@37.214.46.113)
[13:23:19] *** Joins: Agiofws (~Agiofws@178-147-96-200.haap.nym.cosmote.net)
[13:23:22] <Agiofws> hello
[13:23:51] <Agiofws> is there a way to pass paramaters from a text file to a url ?
[13:28:31] <AllenJB> There's a lot of missing detail from that problem, such as: What format is the file content? What format are the URL parameters expected to be?
[13:28:44] <AllenJB> It may also help if you explain why you're trying to do this.
[13:29:15] <AllenJB> Also: What have you tried so far and what doesn't work with your current solution?
[13:32:06] <Agiofws> AllenJB i'd like to get those values into  to the link from a text file  https://test.foo.bar/oauth2server/oauth/authorize?client_id=..................&redirect_uri=.......................................&response_type=...............&scope=....................
[13:32:26] <Agiofws> instead of coding them into to the link
[13:33:14] <Agiofws> https://test.foo.bar/oauth2server/oauth/authorize?client_id=..................&redirect_uri=.......................................&response_type=...............&scope=...
[13:34:59] <stenno> yes, you can read files with php
[13:37:02] <Agiofws> do i search for read text file  to insert paramaters in url with php?
[13:37:12] *** Quits: onichomp (~onichomp@2806:264:4404:8056:897e:f218:70d4:d886) (Ping timeout: 268 seconds)
[13:37:41] <AllenJB> Assuming you're starting from scratch and don't have a file to read yet: It sounds like you want a config file. You can use a "pure PHP" config file (which allows you to use PHP code in the config), or an ini file (which allows compatibility with other languages). See the top 2 answers on this SO question: https://stackoverflow.com/questions/147524
[13:37:41] <AllenJB> 70/creating-a-config-file-in-php
[13:38:10] *** Joins: onichomp (~onichomp@177.231.43.15)
[13:38:14] <AllenJB> Repost URL so it's not broken: https://stackoverflow.com/questions/14752470/creating-a-config-file-in-php
[13:39:34] <AllenJB> You've now got an array of values which you can pass into libraries like Guzzle, or if you need the URL query parameters you can use http_build_query()
[13:41:12] <Agiofws> i need a full example from scratch
[13:41:17] <Agiofws> thank you though
[13:41:51] <stenno> 'full example from scratch' sounds a bit like 'i want others to do my work', sorry
[13:42:00] <Agiofws> nope
[13:42:05] <stenno> ah
[13:42:15] <stenno> so read the SO ?
[13:42:18] <Agiofws> i was'nt asking anyone to do this for me
[13:42:22] <stenno> and then you can build it
[13:42:24] <stenno> ok
[13:42:27] <Agiofws> ok
[13:45:12] <AllenJB> You'll find in programming you rarely get a "full example from scratch" of what you want to do. You often need to piece multiple examples together. In this case the examples on the SO question combined with either the examples from the Guzzle docs or http_build_query() docs
[13:45:49] <AllenJB> If you get stuck, come back with the code you have in a pastebin and we'll see if we can help you get unstuck.
[13:46:38] *** Quits: Agiofws (~Agiofws@178-147-96-200.haap.nym.cosmote.net) (Quit: Client closed)
[13:46:58] *** Joins: Agiofws (~Agiofws@178-147-96-200.haap.nym.cosmote.net)
[13:47:08] <Agiofws> SO?
[13:47:15] <stenno> stackoverflow
[13:47:19] <stenno> the link that AllenJB posted
[13:58:40] *** Quits: MSSC (~MSSC@pd950eebb.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[14:06:58] *** Joins: guenhael (~Thunderbi@aaubervilliers-652-1-290-168.w82-121.abo.wanadoo.fr)
[14:11:17] *** Quits: guenhael (~Thunderbi@aaubervilliers-652-1-290-168.w82-121.abo.wanadoo.fr) (Ping timeout: 240 seconds)
[14:13:40] *** Joins: guenhael (~Thunderbi@2a01cb008c3d5800d442acdcf27a683a.ipv6.abo.wanadoo.fr)
[14:19:37] *** Joins: skyroveRR (~skyroveRR@user/skyroverr)
[14:29:40] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[14:52:32] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Quit: Leaving.)
[14:53:41] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[15:13:16] *** AllenJB is now known as AllenJB2
[15:13:33] *** Joins: GoldLeader87 (~GoldLeade@2a10:3781:6b:1:a835:ad1f:95c6:2398)
[15:14:08] *** Quits: GoldLeader87 (~GoldLeade@2a10:3781:6b:1:a835:ad1f:95c6:2398) (Client Quit)
[15:18:34] *** Joins: AllenJB (~AllenJB@user/allenjb)
[15:22:14] *** Joins: djb27 (~djb27@213.205.200.70)
[15:25:37] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 240 seconds)
[15:33:12] *** Quits: djb27 (~djb27@213.205.200.70) (Quit: Leaving)
[15:35:30] *** Joins: djb27 (~djb27@213.205.200.70)
[15:38:03] *** Quits: djb27 (~djb27@213.205.200.70) (Client Quit)
[15:38:14] *** Joins: djb27 (~djb27@213.205.200.70)
[15:38:31] *** Quits: AllenJB (~AllenJB@user/allenjb) (Quit: AllenJB)
[15:40:06] *** Quits: djb27 (~djb27@213.205.200.70) (Changing host)
[15:40:06] *** Joins: djb27 (~djb27@user/djb27)
[15:41:05] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[15:45:55] *** Quits: fef (~thedawn@user/thedawn) (Remote host closed the connection)
[15:45:56] *** Joins: kanton (kanton@gateway/vpn/airvpn/kanton)
[15:46:21] *** Joins: fef (~thedawn@user/thedawn)
[15:49:49] *** Joins: stenno (~stenno@user/stenno)
[15:53:49] *** Joins: AllenJB (~AllenJB@user/allenjb)
[15:58:57] *** Quits: AllenJB2 (~AllenJB@user/allenjb) (Quit: The Lounge - https://thelounge.github.io)
[16:14:37] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[16:18:12] *** Joins: djb27_ (~djb27@user/djb27)
[16:18:37] *** Quits: Jck_true (~jcktrue@user/jck-true/x-0200799) (Quit: The Lounge - https://thelounge.chat)
[16:21:28] *** Joins: varrg (~varrg@h-176-10-198-245.A351.priv.bahnhof.se)
[16:29:33] *** Quits: fef (~thedawn@user/thedawn) (Quit: Leaving)
[16:32:59] *** Quits: paule32 (~paule32@user/paule32) (Quit: Leaving)
[16:43:30] *** Joins: TakinOver (~quassel@193.27.13.251)
[16:59:17] *** Joins: chazy (~chazy@2a0c:5a84:d100:f00:1ac0:4dff:fe96:16ad)
[17:00:32] *** Quits: onichomp (~onichomp@177.231.43.15) (Read error: Connection reset by peer)
[17:02:05] *** Joins: ProfSimm (~ProfSimm@87.227.196.109)
[17:03:22] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Quit: Leaving.)
[17:07:27] *** Joins: onichomp (~onichomp@2806:264:4404:8035:31b5:f7d6:9f98:9ead)
[17:08:17] *** Quits: gothicserpent (~gothicser@89.45.90.230) (Ping timeout: 240 seconds)
[17:10:22] *** Joins: gothicserpent (~gothicser@89.45.90.225)
[17:16:43] *** Joins: tercaL (~tercaL@user/tercal)
[17:28:28] *** Joins: Jck_true (~jcktrue@user/jck-true/x-0200799)
[17:30:19] *** Quits: guenhael (~Thunderbi@2a01cb008c3d5800d442acdcf27a683a.ipv6.abo.wanadoo.fr) (Ping timeout: 268 seconds)
[17:32:18] *** Quits: Jck_true (~jcktrue@user/jck-true/x-0200799) (Read error: Connection reset by peer)
[17:32:43] *** Joins: Jck_true (~jcktrue@user/jck-true/x-0200799)
[17:42:40] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[17:47:02] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Ping timeout: 240 seconds)
[17:54:43] *** Quits: tercaL (~tercaL@user/tercal) (Quit: halt -p)
[18:02:00] *** Quits: djb27 (~djb27@user/djb27) (Quit: Leaving)
[18:02:13] *** Joins: djb27 (~djb27@user/djb27)
[18:05:31] *** Joins: silv3r_m00n (~enlighten@122.163.70.204)
[18:05:34] <silv3r_m00n> hi there
[18:06:35] <silv3r_m00n> in a certain class there is a member called request, which is actually a global service, accessed like this, $this->request->getHttpReferer(), is it better to instead do something like this GlobalService::get('request')->getHttpReferer();  ?
[18:07:25] <silv3r_m00n> i have been using the $this-> member variable approach all this while, but suddenly felt that GlobalService::get approach is more elaborate in naming and explains itself much better
[18:08:07] *** Joins: ms49434 (~ms49434@user/ms49434)
[18:08:17] <TinoDidriksen> Passing in variables makes it easier to piecemeal test code since you can pass in mock implementations on a per-test basis.
[18:10:32] <silv3r_m00n> TinoDidriksen: you mean this one, GlobalService::get('request')-> ??
[18:14:19] <TinoDidriksen> That pattern is harder to test.
[18:16:59] <silv3r_m00n> i think i will stick to $this->request, its easier to encapsulate that way, i would just need to change the variable in 1 place, thats the constructor
[18:20:05] <varrg> silv3r_m00n, if its immutable and not passed to the constructor, imo it shouldn't be a instance property
[18:27:57] *** Joins: paule32 (~paule32@user/paule32)
[18:29:12] <skyroveRR> Hey guys, can someone kindly take a look at this paste and suggest a way to fix the foreach loop? http://paste.debian.net/hidden/427a14a4/
[18:33:48] *** Quits: silv3r_m00n (~enlighten@122.163.70.204) (Quit: Leaving.)
[18:50:31] *** Quits: wh (~wh@85.159.114.69) (Read error: Connection reset by peer)
[18:51:53] *** Joins: guenhael (~Thunderbi@2a01cb008c3d5800d442acdcf27a683a.ipv6.abo.wanadoo.fr)
[18:55:58] *** Joins: wh (~wh@85.159.114.69)
[18:56:51] *** Quits: Smeef (~deathonat@user/smeef) (Read error: Connection reset by peer)
[18:59:18] *** Joins: Smeef (~deathonat@user/smeef)
[19:01:14] *** Joins: WishBoy (~WishBoy@user/wishboy)
[19:01:54] <__adrian> skyroveRR: you have 9 lines of output because you're iterating over three items ($_SESSION["order"]) once for each $keys. 3×3 = 9
[19:01:54] *** Quits: wh (~wh@85.159.114.69) (Read error: Connection reset by peer)
[19:01:59] <__adrian> what is the point of $keys ?
[19:04:19] <__adrian> also, !+print_r lies
[19:04:19] <php-bot> also, use var_dump() instead!  print_r() is not helpful (for most purposes; but especially for debugging) as it hides useful information from you.  observe: https://gist.github.com/adrian-enspired/4b165cd0a1debe39aec6  (or)  https://3v4l.org/ThSLb
[19:04:39] <skyroveRR> __adrian: I wanted to kind of match the index number, so I thought using keys would give me an idea of how to fetch the index number for every loop.
[19:05:41] <skyroveRR> __adrian: what I basically want to do is unset only the SESSION index per item. I don't know how to do that.
[19:05:52] <__adrian> "index number" meaning what, specifically? e.g., do you mean you want to match the keys for each item in "order" ? or do you just want a numbered list?
[19:06:56] *** Joins: wh (~wh@85.159.114.69)
[19:07:13] <__adrian> (i'll ask about what you mean by "unset" next)
[19:08:21] <skyroveRR> I'm a little weak at understanding arrays, so I'll try to umm.. say it roughly. Array ( [0] => Array ( [0] => brakepad-20211219_2016 [1] => 1 [2] => 5 ) [1] => Array ( [0] => turnlights-20211219_2016 [1] => 1 [2] => 5 ) ) <- Array ([0] => brakepad blabla till 5) is umm.. how do you describe it? An index?
[19:08:37] <skyroveRR> Then the second [1] starts.
[19:08:52] <__adrian> arrays are like   [key => value, key => value, ...]
[19:09:26] <__adrian> keys can be strings or integers. many people call integer keys an "index."
[19:09:47] <__adrian> (i find it misleading, personally, but so long as we know what you're talking about.)
[19:10:28] <__adrian> so sounds like you want $keys only so you can look up items in the "order" array. is this correct?
[19:10:30] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[19:11:13] <skyroveRR> Ok. So the second string in my Array output that starts as an "Array", followed by paranthesisright up till 5 ) before [1] starts again, let's call it the first set. So the first set, when the user clicks delete, SESSION should completely remove that first set and keep the second set [1] => Array ( [0] => turnlights-20211219_2016 [1] => 1 [2] => 5 ) ) intact.
[19:11:21] <__adrian> in your case,  [0] is the key and that whole nested array is the value.
[19:11:57] <__adrian> ok, so let's hold a moment
[19:12:09] <skyroveRR> BTW, sorry, I'm not taking an example from the paste.
[19:12:15] <__adrian> the foreach in the paste you showed me doesn't seem to have anything to do with deleting things
[19:12:20] <skyroveRR> Would you like me to take an example from the paste instead?
[19:12:35] <skyroveRR> I had actually closed the browser.
[19:12:40] <__adrian> well, i'd like to know what we're talking about, and to be able to see that example, yes
[19:12:45] <skyroveRR> One second, I'll reopen the paste.
[19:13:10] <__adrian> i was looking at 427a14a4, lines 87-105
[19:13:25] <skyroveRR> Ok.
[19:13:27] <__adrian> is that what you're asking about?
[19:13:39] <skyroveRR> Yes.
[19:13:50] <__adrian> so does it have anything to do with deleting things?
[19:13:58] <__adrian> because i don't see that)
[19:14:14] <skyroveRR> Umm, no, not at the moment, no.
[19:14:17] <__adrian> kk
[19:14:47] <__adrian> does the comment there describe your question (lines 81-84)?
[19:14:55] <__adrian> or do you have a different question
[19:15:30] <skyroveRR> Yes, the comment describes my question.
[19:15:58] <__adrian> ok. so in that example, it seems like there's no use for $keys.
[19:16:14] <__adrian> they're just the index numbers from "order" (which you already have)...?
[19:16:40] <skyroveRR> Yeah.
[19:16:50] <__adrian> k. one moment.
[19:18:22] <__adrian> here's your "order" array:  https://3v4l.org/KpQS3
[19:18:43] <__adrian> you want to loop over this and display details for each item. yes?
[19:19:47] <skyroveRR> That's where it's confusing.
[19:20:04] <skyroveRR> Let me again try to describe.
[19:23:41] <skyroveRR> __adrian: Lines 87 and 88 start a foreach loop. To my mind, The very first loop count will output "0", which should be the cartnumber index number. Then from line 90, again a loop is initiated. This is where the cartnumber "0" should go into, into line 94, so that the href link's QUERY STRING gets cartnumber defined as "0". So it should look like this:
[19:23:43] <skyroveRR> /sd/deletefromcart?itemname=brakepad-20211219_2016&itemqty=2&sellingprice=10&cartnumber=0
[19:24:23] <__adrian> you don't need two loops. that's why you have the lines duplicated.
[19:24:43] <__adrian> you also don't need to guess the key based on the interation count. the key is already available in the array.
[19:24:54] <__adrian> foreach ($array as $key => $value) { ...
[19:25:11] <__adrian> or in your case, foreach ($order as $cartnumber => $item) { ...
[19:26:30] <__adrian> incomplete example: https://3v4l.org/Kb0lO
[19:27:26] <__adrian> do you follow what's happening there?
[19:28:22] <skyroveRR> I don't understand line 16. It's still a mystery.
[19:28:30] <skyroveRR> In your example.
[19:28:35] *** Joins: ferdna (~ferdna@user/ferdna)
[19:28:36] <__adrian> https://php.net/foreach
[19:28:43] <__adrian> do you mean the  $key => $value  part?
[19:28:45] <da_wunder> what you don't understand of that?
[19:28:56] <skyroveRR> Yeah, the $key => $value stuff.
[19:29:15] <__adrian> foreach loops over items in an array. it _assigns $variables_ to each item, per iteration.
[19:29:16] <da_wunder> look the manual
[19:29:20] <__adrian> that's what "as" means.
[19:29:55] <__adrian> there are two ways to do that assignment. one is just the value:  foreach ($array as $value) { ...
[19:30:13] <__adrian> the other _also_ assigns the key:  foreach ($array as $key => $value) { ...
[19:30:57] <__adrian> since, in your case, you need the key, you should assign the key.
[19:30:58] <skyroveRR> Right. I somewhat understand the first one, the second one hardly gets through me.
[19:31:07] <__adrian> think of how the array is defined
[19:31:15] <__adrian> ["key" => "value"]
[19:31:26] <__adrian> it just mirrors that.  $key => $value
[19:31:26] *** Joins: esselfe_ (~steph@user/esselfe)
[19:31:56] <skyroveRR> I see of an array as something that holds multiple values whereas a variable holds only a single value.
[19:32:01] <__adrian> nope
[19:32:14] *** Quits: wh (~wh@85.159.114.69) (Read error: Connection reset by peer)
[19:32:21] <__adrian> the value a variable holds can be anything. including an array of many values.
[19:32:39] <__adrian> and an array is NOT just a collection of values. it's a  KEY: value map.
[19:32:44] <skyroveRR> Let me read that a couple of times.
[19:33:04] <__adrian> array ≠ [value, value, value].
[19:33:11] <skyroveRR> OHHHH.
[19:33:14] <__adrian> array = [key:value, key:value, key:value].
[19:33:46] <__adrian> sometimes you don't type the keys. but they're always there.
[19:34:13] <skyroveRR> How can they always "be" there if they aren't defined?
[19:34:30] <__adrian> if you don't provide a key, php rovides a default integer key.
[19:34:38] <__adrian> https://php.net/array
[19:34:41] <skyroveRR> Starting from 0?
[19:34:56] <__adrian> it's a little more complicated than that, but more or less
[19:35:29] <__adrian> e.g.,  ["a", "b", "c"]  // yes, keys are 0,1,2
[19:35:45] <__adrian> BUT  ["a", 5=>"b", "c"]  // keys are 0,5,6
[19:36:11] <__adrian> if you don't define any keys period, yes, you get  0,1,..n
[19:36:27] *** Joins: wh (~wh@85.159.114.69)
[19:37:28] <skyroveRR> Hmm. Learnt something today.
[19:37:42] <__adrian> above i said people call int keys "indexes." personally i think that often misleads people, as it makes you think they have something to do with position. they don't, at all.
[19:37:54] *** Joins: sbrothy (~sbrothy@23.102.41.137)
[19:38:01] <__adrian> *position/order
[19:38:17] <__adrian> items in an array ARE in order, but the order has nothing at all to do with the keys.
[19:38:35] *** Quits: sbrothy (~sbrothy@23.102.41.137) (Client Quit)
[19:38:55] <__adrian> when you're ready i have two tangent questions
[19:39:16] <skyroveRR> Shoot.
[19:39:45] <__adrian> (1) in your link, the querystring has not only the cartnumber but also the item name, qty, price. why pass this information?
[19:41:21] <skyroveRR> I thought I should get a precise match when I delete items from the cart. Therefore I added itemname, qty and price. What if there was a similar qty and price? So I added those three as a precaution.
[19:41:50] <skyroveRR> I mean what if there was similar qty or price for a different item per se.
[19:42:06] <__adrian> so if i order two brakepads, and then order one more, i'd have  0=>[breakpad,2] and also 1=>[breakpad,1] ?
[19:42:18] <skyroveRR> Yeah.
[19:42:25] <skyroveRR> Precisely.
[19:42:32] <__adrian> do you specifically not want  0=>[breakpad,3] ?
[19:43:33] <skyroveRR> That thought actually crossed my mind when I was writing the program, yeah.
[19:43:52] <skyroveRR> But then I was like, why not leave it the way it is :)
[19:43:58] <__adrian> might be better UX
[19:44:05] <__adrian> but up to your needs
[19:44:28] <__adrian> (1.5) do your items have SKUs (or similar unique item #s)?
[19:45:41] *** Quits: onichomp (~onichomp@2806:264:4404:8035:31b5:f7d6:9f98:9ead) (Read error: Connection reset by peer)
[19:45:42] <skyroveRR> SKUs have also crossed my minds, but for now, I'm keeping it a little simple. In fact, the paste does not have ISO8601 dates in the itemnames. I currently am using that format to uniquely identify each item.
[19:45:52] <skyroveRR> * crossed my mind
[19:46:02] *** esselfe_ is now known as esselfe
[19:46:15] <skyroveRR> Ah sorry. The dates are there too.
[19:46:18] *** Joins: onichomp (~onichomp@2806:264:4404:8035:31b5:f7d6:9f98:9ead)
[19:46:20] <__adrian> SKUs or other unique codes would make your job _a lot_ simpler, not more complex  ;)
[19:46:33] <__adrian> something to consider.
[19:46:38] <skyroveRR> Too focused on your reference of key/pair.
[19:46:42] <__adrian> np
[19:47:06] <__adrian> (2) will blow your mind. want to hear it, or enough for now?
[19:47:17] <skyroveRR> Bring it on.
[19:47:49] <__adrian> foreach ($order as $cartnumber => $item) { $item is an array of [name, qty, price], right?
[19:49:00] <skyroveRR> Yes.
[19:49:02] <__adrian> foreach ($order as $cartnumber => [$name, $qty, $price]) {   // https://php.net/list
[19:49:34] <__adrian> https://3v4l.org/2Z3Xg
[19:50:24] <skyroveRR> Holy shit.
[19:50:37] <__adrian> have fun
[19:50:37] <skyroveRR> Now that's the kind of simplicity I was looking for.
[19:51:16] <__adrian> read first. there are details to how list() works, just as there are with how foreach() works
[19:52:17] <__adrian> hint: you could write the same thing this way:  foreach ($order as $cartnumber => [0=>$name, 1=>$qty, 2=>$price]) {
[19:53:43] <stenno> php 7.2 destructoring assignment syntax ftw
[19:53:57] <__adrian> s/o/u/
[19:54:37] *** Quits: djb27 (~djb27@user/djb27) (Quit: Leaving)
[19:54:40] *** Quits: djb27_ (~djb27@user/djb27) (Quit: Leaving)
[19:54:50] *** Joins: djb27 (~djb27@user/djb27)
[19:56:57] <stenno> destroctoring
[19:57:13] <skyroveRR> __adrian: a general question. Most online carts, do they utilise SESSIONS or cookies? What's the prominent one? Or are they written to a database?
[19:58:22] <__adrian> you'd have to look at carts. sessions are common+simple. databases are also common, and become more necessary at scale. a cart might also be kept in localstorage these days.
[19:58:28] <__adrian> cookies are not a place for a cart
[19:58:38] <__adrian> (though sessions use a cookie to identify.)
[19:59:12] <skyroveRR> Right.
[19:59:37] <__adrian> something you might want to mind: going back to my question about all the details:
[20:00:16] <skyroveRR> I am.
[20:00:20] <__adrian> you need to be sure you're tracking the important details from in your app (e.g., your app knows what the price is, you don't let the link the user clicked tell you the price).
[20:01:55] <skyroveRR> You mean the prices should be fixed?
[20:02:30] <__adrian> i mean, if you're not careful, someone will change the price in the link and your code might be dumb enough to take their word for it  :)
[20:02:33] <skyroveRR> And that the QUERY_STRING shouldn't have price in it? (Which I understood).
[20:02:47] <skyroveRR> Oh.
[20:02:51] <__adrian> it probably shouldn't, no
[20:03:01] <da_wunder> also don't use float type for prices
[20:03:19] <__adrian> this is why a SKU could simplfy things, and make it more reliable at the same time.
[20:03:22] <skyroveRR> Well whatever price the staffer will set, the entry will be shown in the database. Even if he sells at a loss.
[20:03:48] <__adrian> sure. but if you're getting prices from the DB, then there's no need to put them in the form/links.
[20:03:50] <skyroveRR> I have a "Sales Report" page that lists each single sales entry.
[20:04:44] <skyroveRR> No no, the selling price is being put into the DB, and the DB tells me via the sales report what the selling price of the item was :)
[20:05:20] <skyroveRR> Every single sale at whatever the selling price, is going into the DB.
[20:06:12] <__adrian> ok. but you still haven't said the magic words like "when i charge the sale, i get the price from the DB, NOT from the form/link/session"
[20:06:24] <__adrian> > when i charge
[20:07:20] *** Quits: chazy (~chazy@2a0c:5a84:d100:f00:1ac0:4dff:fe96:16ad) (Quit: WeeChat 3.3)
[20:09:51] <skyroveRR> __adrian: ok, so coming to your example: https://3v4l.org/KpQS3 , lines 4, 5 and 6. The numbers 0, 1 and 2 are the keys, and the whole bunch inside the braces is one single value. Correct?
[20:12:12] <__adrian> so, take  0 => ["brakepad-20211219_2016", 2, 10]  as an example. 0 is the key, and the array [] is the value.
[20:12:25] <skyroveRR> Crystal clear.
[20:12:38] <__adrian> the array has its own key:value items also,  0=>"breakpad", 1=>2, 3=>10
[20:13:16] *** Joins: sbrothy (~sbrothy@23.102.41.137)
[20:13:33] <skyroveRR> So basically I don't have to chase the key:values inside the array. I can unset the whole outer key instead of chasing the inner key:values entirely.
[20:13:57] *** Quits: paule32 (~paule32@user/paule32) (Quit: Leaving)
[20:13:59] <da_wunder> and really don't use floats for prices
[20:14:05] <__adrian> when you get to removing items, yes. you can unset an item in an array like  unset($array[$key])
[20:14:15] <skyroveRR> Not sure if "outer" key and "inner" key would... be ideal terms. Let me know if I'm being wrong in my description.
[20:14:27] <__adrian> and yes, https://php.net/float  ← there's a big pink warning box you should read
[20:15:12] <__adrian> re: outer/inner: don't think of "mutlidimensional" arrays any different than normal arrays. they're not different. it's just a normal array, and one of its values is another array.
[20:20:42] <skyroveRR> __adrian: Thank you.
[20:20:44] <biberu> would not store the actual order information in the session, or use the session as a persistence / cache mechanism at all
[20:21:56] <biberu> what if a customer needs help to edit his cart? what if you change products referred to by carts? can you find and update them in a reasonable way?
[20:22:07] <skyroveRR> biberu: where to then?
[20:22:30] <__adrian> that would be an argument for a DB
[20:22:37] <biberu> yes, a database
[20:22:48] <da_wunder> ^
[20:23:37] <biberu> the session would just hold a pointer to the data, e.g. a user id, or just a cart id if there are no users
[20:24:26] <skyroveRR> But then, how would you discard the information from the db if the user left the site and didn't commit? Like for example he closed his web browser, and your cart list is now stale.
[20:24:46] <biberu> run a job that purges stale data
[20:24:47] <skyroveRR> Use timeouts?
[20:24:48] <__adrian> time it out
[20:24:51] <skyroveRR> Hmm.
[20:25:04] <__adrian> would it really matter if it sat there for a few days/weeks?
[20:25:16] <__adrian> (hint: rhetorical)
[20:25:19] <skyroveRR> Not for me, no :D
[20:25:40] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[20:27:38] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 260 seconds)
[20:28:22] *** Joins: stenno (~stenno@user/stenno)
[20:31:11] *** Quits: onichomp (~onichomp@2806:264:4404:8035:31b5:f7d6:9f98:9ead) (Read error: Connection reset by peer)
[20:31:49] *** Joins: onichomp (~onichomp@2806:264:4404:8035:31b5:f7d6:9f98:9ead)
[20:34:46] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 256 seconds)
[20:37:33] *** Joins: magla (~gelignite@55d4bf95.access.ecotel.net)
[20:46:00] *** Quits: sbrothy (~sbrothy@23.102.41.137) (Quit: Lost terminal)
[20:46:11] *** Quits: onichomp (~onichomp@2806:264:4404:8035:31b5:f7d6:9f98:9ead) (Read error: Connection reset by peer)
[20:46:48] *** Joins: onichomp (~onichomp@2806:264:4404:8035:31b5:f7d6:9f98:9ead)
[20:50:30] *** Joins: stenno (~stenno@user/stenno)
[20:53:17] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Ping timeout: 240 seconds)
[21:04:37] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 240 seconds)
[21:11:28] *** Quits: esselfe (~steph@user/esselfe) (Quit: rebooting)
[21:12:32] *** Quits: varrg (~varrg@h-176-10-198-245.A351.priv.bahnhof.se) (Ping timeout: 240 seconds)
[21:16:43] *** Joins: esselfe (~steph@user/esselfe)
[21:20:51] *** Joins: stenno (~stenno@user/stenno)
[21:21:09] *** Joins: gde33 (~gde33@84-106-154-98.cable.dynamic.v4.ziggo.nl)
[21:23:46] *** Quits: wh (~wh@85.159.114.69) (Read error: Connection reset by peer)
[21:27:24] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[21:29:37] *** Joins: wh (~wh@85.159.114.69)
[21:31:40] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec1f:86d0:99a1:2e9:3437:7fc2)
[21:37:57] *** Quits: zlg (~zlg@user/zlg) (Ping timeout: 240 seconds)
[21:47:38] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[22:03:32] *** Joins: zlg (~zlg@user/zlg)
[22:05:28] *** Quits: entropy_ (~ent@user/entropy/x-9891564) (Remote host closed the connection)
[22:06:03] *** Joins: entropy_ (~ent@user/entropy/x-9891564)
[22:06:13] *** Quits: wolfshappen (~waff@irc.furworks.de) (Ping timeout: 240 seconds)
[22:09:59] *** Joins: wolfshappen (~waff@irc.furworks.de)
[22:13:02] *** Quits: sfields (~sfields@2605:a601:adea:7a00:db9a:c44e:170b:b1e) (Quit: Leaving)
[22:13:26] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[22:13:51] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[22:18:28] *** Quits: Agiofws (~Agiofws@178-147-96-200.haap.nym.cosmote.net) (Quit: Client closed)
[22:19:37] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[22:21:28] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec1f:86d0:99a1:2e9:3437:7fc2) (Remote host closed the connection)
[22:23:23] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec1f:86d0:99a1:2e9:3437:7fc2)
[22:28:02] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec1f:86d0:99a1:2e9:3437:7fc2) (Ping timeout: 260 seconds)
[22:38:25] *** Joins: NakedKing (~NakedKing@user/nakedking)
[22:45:00] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[22:45:41] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[22:55:11] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec1f:86d0:99a1:2e9:3437:7fc2)
[23:02:23] *** Quits: justSleigh (~justache@user/justache) (Remote host closed the connection)
[23:03:44] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: If you're not living on the edge, you're taking up too much space)
[23:05:30] *** Quits: Forza (~Forza@user/forza) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[23:15:18] *** Joins: ugga-the-caveman (~ugga-the-@dynamic-185-66-195-90.ber.de.ffrl.net)
[23:16:10] *** Joins: justSleigh (~justache@user/justache)
[23:40:08] *** Quits: wh (~wh@85.159.114.69) (Read error: Connection reset by peer)
[23:41:14] *** Joins: wh (~wh@85.159.114.69)
[23:43:23] *** Joins: luigibu1 (~luigibu@80.30.200.2)
[23:45:32] *** Quits: luigibu1 (~luigibu@80.30.200.2) (Client Quit)
