[00:00:59] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 256 seconds)
[00:02:17] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[00:02:31] *** Quits: MrZeus__ (~MrZeus@185.206.227.135) (Ping timeout: 260 seconds)
[00:02:52] <dfg> can/should i mark a function that uses now() as immutable, or only stable?
[00:06:09] <johto> should not mark it immutable, no
[00:06:26] <johto> STABLE is fine
[00:07:35] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[00:11:08] *** Quits: ThorMojito (~Adium@modemcable212.77-202-24.mc.videotron.ca) (Quit: Leaving.)
[00:11:29] *** Joins: ferz (~ferz@93-39-139-242.ip76.fastwebnet.it)
[00:13:13] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[00:13:34] *** Joins: ThorMojito (~Adium@modemcable212.77-202-24.mc.videotron.ca)
[00:13:51] *** Joins: ekathva_ (~ekathva@2001:999:409:7be:1adc:3d2:276:f38c)
[00:14:39] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[00:15:07] *** Quits: pedja_hpmini (~pedja_hpm@109-93-189-123.dynamic.isp.telekom.rs) (Quit: Leaving)
[00:16:14] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[00:16:53] *** Joins: ArmandoThom (~Armando@177.220.178.45)
[00:17:11] *** Quits: ArmandoThom (~Armando@177.220.178.45) (Client Quit)
[00:17:27] *** Quits: ekathva (~ekathva@mobile-access-b04849-173.dhcp.inet.fi) (Ping timeout: 260 seconds)
[00:17:47] *** Joins: ArmandoThom (~Armando@177.220.178.45)
[00:17:53] <ArmandoThom> Hello there.
[00:18:12] <ArmandoThom> I don't know if this is the right place to ask, but:
[00:18:14] <ArmandoThom> I'm looking for a way to mask data using my Amazon RDS with Postgresql. Does anyone have a clue on how to do this? I couldn't install the extension PostgreSQL Anonymizer.
[00:18:24] <ArmandoThom> I'm really lost here, if someone could give me a hand, even a name of an extension that works on my case, I'd appreciate a lot.
[00:18:37] *** Quits: maciek__ (~maciek@2600:1700:a412:1c00:1359:4ca5:13b2:f3c5) (Ping timeout: 240 seconds)
[00:21:16] *** Quits: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge) (Ping timeout: 272 seconds)
[00:22:37] *** Joins: kakashiA1 (~kakashi@105.156.9.83)
[00:23:38] <ilmari> dfg: `\df+ now` in psql shows its volatility (which is "stable" as johto mentioned). unless you're actively lying to the planner for some very good reason, your functions volatility should be greater than or equal to the maximum volatility of the functions it calls
[00:24:53] *** Quits: kakashiAL (~kakashi@41.143.8.67) (Ping timeout: 250 seconds)
[00:25:49] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[00:26:04] <ilmari> ArmandoThom: dm-ing people you don't know out of the blue is considered rude. please keep any questions in the channel
[00:26:53] *** Joins: the_lanetly_052 (~the_lanet@194.135.168.248)
[00:27:37] *** Quits: ekathva_ (~ekathva@2001:999:409:7be:1adc:3d2:276:f38c) (Ping timeout: 240 seconds)
[00:28:07] *** Quits: maroloccio (~marolocci@pousada3ja.mma.com.br) (Quit: WeeChat 3.0)
[00:28:09] <ilmari> and no, I don't have an answer to your question
[00:29:17] *** Quits: fiendking04 (~matlock@2a02:6ea0:dc05::a15d) (Ping timeout: 240 seconds)
[00:29:53] *** Quits: Su-Shee (~Susanne@32-109-142-46.pool.kielnet.net) (Ping timeout: 256 seconds)
[00:29:57] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 240 seconds)
[00:31:04] <buu> Hey
[00:31:22] *** Joins: Su-Shee (~Susanne@i5E862DA6.versanet.de)
[00:31:34] <buu> Is there a mildly clever way to match all rows which have a text[] column where any item inside that array matches a specific condition?
[00:33:27] <concrete-houses> Can an index have columns from different tables?
[00:33:34] <ilmari> concrete-houses: no
[00:33:59] <johto> buu; the best/worst way depends on the condition
[00:34:11] <concrete-houses> so if .net orm created a beastly query and I want to fight with an index,  I would make more than 1 multi column index?
[00:34:17] *** Quits: the_lanetly_052 (~the_lanet@194.135.168.248) (Ping timeout: 240 seconds)
[00:34:37] <buu> concrete-houses: just delete the orm
[00:35:38] <ilmari> buu: if it's just a simple binary op where the array values can be on the right, you can do WHERE ? OP ANY(array_col)
[00:35:44] <concrete-houses> that would be a boss maneuver
[00:35:45] <buu> johto: I need length of a text item less than X
[00:36:06] *** Joins: ekathva (~ekathva@2001:999:409:7be:a7a9:6f90:81b8:5d9e)
[00:36:16] <ilmari> buu: select * from the_table where exists(select from unnest(array_col) val where length(val) < ?);
[00:36:24] <concrete-houses> say there is a query and one of the columns does like coalesce column44 as blah     would I need to put a coalesce in the multi column index?
[00:37:51] <concrete-houses> to have it be used?
[00:38:08] <ilmari> your question is far too vague
[00:38:13] <concrete-houses> its insane what we do, let coder do some oo stuff and abuse the db
[00:38:53] *** Joins: hojasuelta (~hojasuelt@67-198-118-247.dyn.grandenetworks.net)
[00:38:56] <ilmari> if you have a coalesce() expression in your WHERE clause, including that expression in an index can be helpful
[00:38:58] <concrete-houses> There is a list of columns, in the select, but one is coalesce( some syntax columnname ) as columnname_foo
[00:39:13] *** Joins: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge)
[00:39:15] <ilmari> the select list doesn't matter (unless you are looking to get an index-only scan)
[00:39:18] *** Quits: ThorMojito (~Adium@modemcable212.77-202-24.mc.videotron.ca) (Read error: Connection reset by peer)
[00:39:19] <ggb> Indexing projected columns is unlikely to be helpful.
[00:39:21] <ilmari> indexes help with the WHERE clause
[00:39:26] <ilmari> (or ORDER BY)
[00:39:30] *** Joins: ThorMojito (~Adium@modemcable212.77-202-24.mc.videotron.ca)
[00:39:32] <ggb> Or joins.
[00:39:55] <buu> ilmari: neato
[00:40:15] *** Joins: realies1 (~realies@user/realies)
[00:40:43] *** Quits: ThorMojito (~Adium@modemcable212.77-202-24.mc.videotron.ca) (Client Quit)
[00:40:56] <ilmari> buu: alternatively, where 4 > any(select length(val) from unnest(value) val)
[00:41:08] *** Joins: ThorMojito (~Adium@modemcable212.77-202-24.mc.videotron.ca)
[00:41:33] *** Joins: roger_rabbit (~roger_rab@2607:fcd0:aa80:1304::bf2d)
[00:41:47] *** Quits: realies (~realies@user/realies) (Quit: Ping timeout (120 seconds))
[00:41:47] *** realies1 is now known as realies
[00:42:02] <concrete-houses> hmm
[00:43:17] <concrete-houses> many joins here
[00:43:20] <ggb> concrete-houses: one thing to do might be to pull that query into a stored procedure and ask them to not use the ORM-generated query.
[00:43:49] *** Quits: ArmandoThom (~Armando@177.220.178.45) ()
[00:44:03] <ggb> Then you can optimize the query, rather than trying to slap indices around arbitrarily to optimize their query from a distance.
[00:44:09] <ilmari> concrete-houses: make sure you have indexes on the joined columns, and ones involved in the where clause
[00:44:48] <concrete-houses> thats an new idea.... never did a stored proc b4
[00:45:07] <ilmari> ggb: I wouldn't completely discount adding indexes. I've seen queries speed up by orders of magnitude by adding a single index
[00:45:16] <concrete-houses> the orm mixes conditonals in as well as many joins...
[00:45:41] <johto> I'd rather drop unused indexes than get a call at 4AM to add new ones
[00:46:09] <concrete-houses> oh one prod db has like 371 un used indexes accoring to some query I found to list unused indexs
[00:46:14] *** Quits: rivyn (~rivyn@75-85-182-166.mobile.uscc.net) (Ping timeout: 252 seconds)
[00:46:28] *** Quits: Tuju (~tuju@214-204-50-195.sta.estpak.ee) (Ping timeout: 260 seconds)
[00:46:38] <concrete-houses> I am also running pg_stat_statments in prod..
[00:46:52] <ilmari> concrete-houses: if you want more detailed help, paste the actual query and EXPLAIN (BUFFERS, ANALYZE) output on explain.depesz.com and the psql \d output for the involved tables on dpaste.org (select "plain code" as the type)
[00:48:11] *** Joins: rivyn (~rivyn@197-86-182-166.mobile.uscc.net)
[00:48:39] <concrete-houses> I wonder if security would poo poo me doing that... but woe be to whoever stole the query! lol good luck to them
[00:48:55] <ggb> ilmari: Agreed. My point was that when writing a query you have more points of leverage for optimization. Indices are just one tool for optimization if you own the query.
[00:57:06] *** Joins: mantiX (~manti7@176.10.104.94)
[00:57:24] *** Quits: feld (~feld@107-208-180-225.lightspeed.mdsnwi.sbcglobal.net) (Quit: Ping timeout (120 seconds))
[00:57:49] *** Joins: feld (~feld@107-208-180-225.lightspeed.mdsnwi.sbcglobal.net)
[00:57:59] <b0nn> Hmm, I want to alter the defaults on a column, without affecting it's null/not null setting - my query is `ALTER TABLE bananas ALTER COLUMN foo SET DEFAULT '{en-gb,en-us,en-au}'::text[] NOT NULL; -- but I get "Syntax error at or near "NOT"
[00:58:34] <johto> just don't specify NULL or NOT NULL
[00:58:52] <johto> SET DEFAULT isn't rewriting the definition, it's just changing the default value
[00:59:07] <b0nn> Oh, of course, I feel so silly :)
[00:59:14] *** Joins: ekathva_ (~ekathva@2001:999:409:7be:3dd:a551:1de8:65bb)
[00:59:18] *** Quits: ThorMojito (~Adium@modemcable212.77-202-24.mc.videotron.ca) (Quit: Leaving.)
[00:59:59] *** Quits: manti7 (~manti7@176.10.104.94) (Ping timeout: 260 seconds)
[01:00:02] *** Quits: n0fun (~jack@i577BC034.versanet.de) (Remote host closed the connection)
[01:00:26] *** Joins: n0fun (~jack@i577BC034.versanet.de)
[01:01:25] *** Quits: ekathva (~ekathva@2001:999:409:7be:a7a9:6f90:81b8:5d9e) (Ping timeout: 240 seconds)
[01:01:57] *** Joins: ekathva__ (~ekathva@mobile-access-b04811-83.dhcp.inet.fi)
[01:03:23] *** Quits: ekathva__ (~ekathva@mobile-access-b04811-83.dhcp.inet.fi) (Read error: Connection reset by peer)
[01:04:47] *** Quits: ekathva_ (~ekathva@2001:999:409:7be:3dd:a551:1de8:65bb) (Ping timeout: 256 seconds)
[01:04:49] *** Joins: ekathva__ (~ekathva@2001:999:409:7be:f8cc:6095:d7e0:c276)
[01:06:18] *** Quits: ekathva__ (~ekathva@2001:999:409:7be:f8cc:6095:d7e0:c276) (Client Quit)
[01:07:49] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[01:09:20] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[01:11:10] *** Joins: Tuju (~tuju@214-204-50-195.sta.estpak.ee)
[01:14:18] *** Quits: sakasama (~sakasama@user/sakasama) (Ping timeout: 252 seconds)
[01:14:28] *** Quits: magla (~gelignite@55d40a33.access.ecotel.net) (Quit: Stay safe!)
[01:16:11] *** Quits: hojasuelta (~hojasuelt@67-198-118-247.dyn.grandenetworks.net) (Read error: Connection reset by peer)
[01:16:24] *** Joins: hojasuelta (~hojasuelt@67-198-118-247.dyn.grandenetworks.net)
[01:17:03] *** Quits: rivyn (~rivyn@197-86-182-166.mobile.uscc.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:17:55] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[01:18:41] *** Quits: veesh (~veesh@5.28.157.20) (Ping timeout: 245 seconds)
[01:21:54] *** Quits: hojasuelta (~hojasuelt@67-198-118-247.dyn.grandenetworks.net) (Read error: Connection reset by peer)
[01:22:10] *** Joins: hojasuelta (~hojasuelt@67-198-118-247.dyn.grandenetworks.net)
[01:23:56] *** Quits: hojasuelta (~hojasuelt@67-198-118-247.dyn.grandenetworks.net) (Client Quit)
[01:30:28] *** Joins: jazzy (~jaziz@user/jaziz)
[01:31:09] *** Joins: veesh (~veesh@77.137.131.199)
[01:31:43] *** Joins: fef (~thedawn@user/thedawn)
[01:32:19] *** Joins: MrZeus__ (~MrZeus@86.106.136.215)
[01:32:36] *** Quits: veesh (~veesh@77.137.131.199) (Remote host closed the connection)
[01:32:48] *** Joins: maciek__ (~maciek@2600:1700:a412:1c00:556a:89c3:76bf:ad1a)
[01:33:56] *** Joins: tozhu (~tozhu@221.237.139.15)
[01:34:05] *** Joins: veesh (~veesh@77.137.131.199)
[01:35:51] *** Quits: MrZeus_ (~MrZeus@81.92.206.10) (Ping timeout: 260 seconds)
[01:37:33] *** Joins: kitsunenokenja (~kitsunech@68.91.220.96)
[01:38:51] *** Quits: tozhu (~tozhu@221.237.139.15) (Ping timeout: 265 seconds)
[01:39:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[01:39:17] *** Quits: shiranaihito_ (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[01:39:48] *** Quits: veesh (~veesh@77.137.131.199) (Ping timeout: 272 seconds)
[01:39:55] *** Quits: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon) (Ping timeout: 240 seconds)
[01:40:17] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[01:40:17] *** Joins: iliv (~iliv@user/iliv)
[01:41:47] *** Quits: fcr (~fran@r167-60-42-145.dialup.adsl.anteldata.net.uy) (Ping timeout: 252 seconds)
[01:42:21] *** Quits: kakashiA1 (~kakashi@105.156.9.83) (Ping timeout: 252 seconds)
[01:44:45] *** Joins: zaher (~zaher@37.48.191.223)
[01:46:36] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi) (Ping timeout: 245 seconds)
[01:46:48] *** Joins: fcr (~fran@r186-48-105-234.dialup.adsl.anteldata.net.uy)
[01:52:53] *** Quits: trafficjam (~qubes@119-12-218-129.dynamic.ipstaraus.com) (Read error: Connection reset by peer)
[01:53:23] *** Joins: trafficjam (~qubes@119-12-218-129.dynamic.ipstaraus.com)
[01:54:11] *** Joins: ThorMojito (~Adium@modemcable212.77-202-24.mc.videotron.ca)
[01:56:19] *** Quits: ThorMojito (~Adium@modemcable212.77-202-24.mc.videotron.ca) (Remote host closed the connection)
[01:58:46] *** Joins: austb (~austb@50.231.65.83)
[01:59:14] *** Joins: bmomjian (~bruce@242.176.159.77.rev.sfr.net)
[02:01:15] *** Joins: veesh (~veesh@77.137.128.37)
[02:08:23] *** Quits: AceSlash (~slash@cosium-fo-152-18.fib.nerim.net) (Quit: Leaving)
[02:14:43] <gambl0re> if i want to store user settings/prefernces, should i have a separate user_settings table or just add a settings column to the users table and store settings as jsonb?
[02:15:36] <Rembane> gambl0re: Will you ever do anything else than retrieving or updating the settings?
[02:16:34] <gambl0re> i think that's all I'll do
[02:17:13] <gambl0re> Rembane:
[02:17:18] <Rembane> gambl0re: Then I think you can put it as another column on the user table.
[02:17:37] <gambl0re> hmm ok
[02:17:37] <ggb> Do you need to enforce RI stuff regarding the settings?
[02:17:44] <gambl0re> whats RI?
[02:17:53] <ggb> Referential integrity. Constraints.
[02:18:10] <gambl0re> I dont know yet. Perhaps in the future?
[02:19:02] <ggb> Design for requirements you have - if you've got nothing to do with that information within the database, a JSON column is sufficient.
[02:19:45] <gambl0re> so just add a settings (jsonb) to the users table?
[02:19:49] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Ping timeout: 256 seconds)
[02:20:01] <ggb> Yeah.
[02:20:02] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[02:20:57] <gambl0re> ok
[02:21:48] *** Joins: maxzor (~maxzor@2a01cb04054faa000cddf49a7a6e5659.ipv6.abo.wanadoo.fr)
[02:22:37] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[02:30:18] *** Quits: maxzor (~maxzor@2a01cb04054faa000cddf49a7a6e5659.ipv6.abo.wanadoo.fr) (Quit: Leaving)
[02:34:32] *** Joins: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon)
[02:36:06] *** Quits: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[02:38:27] *** Quits: mizi_ (~mizi@user/mizi) (Ping timeout: 252 seconds)
[02:41:18] <gambl0re> blog post has many comments and a comment belongs to a single blog
[02:41:26] <gambl0re> so its one to many correct?
[02:41:52] *** Quits: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net) (Ping timeout: 272 seconds)
[02:46:42] <ggb> Yes.
[02:48:54] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Ping timeout: 252 seconds)
[02:50:06] <gambl0re> ggb: thanks
[02:52:55] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[02:53:34] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[02:54:32] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 272 seconds)
[02:54:51] *** Quits: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge) (Ping timeout: 268 seconds)
[02:55:03] *** Quits: ivii (~ivan@user/ivii) (Remote host closed the connection)
[02:56:20] *** Quits: TomTom (uid45892@id-45892.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[02:57:59] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 260 seconds)
[02:58:20] *** Quits: austb (~austb@50.231.65.83) (Ping timeout: 272 seconds)
[03:01:09] *** Quits: mantiX (~manti7@176.10.104.94) (Quit: WeeChat 3.4)
[03:01:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[03:02:17] *** Joins: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net)
[03:04:02] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[03:04:19] *** Joins: eric` (~user@45.91.144.75)
[03:05:53] *** Quits: eric (~user@45.91.144.178) (Ping timeout: 250 seconds)
[03:09:03] *** Joins: qazo[m] (~qazomatri@2001:470:69fc:105::1:e344)
[03:09:51] *** Quits: michalz (~michalz@185.246.204.109) (Remote host closed the connection)
[03:12:27] *** Joins: k8yun (~k8yun@user/k8yun)
[03:14:15] *** Quits: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon) (Ping timeout: 240 seconds)
[03:14:43] *** Quits: bird8 (~bird@136-25-143-83.cab.webpass.net) (Quit: bird8)
[03:14:46] *** Joins: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon)
[03:18:03] *** Quits: JanC (~janc@user/janc) (Ping timeout: 252 seconds)
[03:22:20] *** Joins: JanC (~janc@user/janc)
[03:23:51] *** Quits: bmomjian (~bruce@242.176.159.77.rev.sfr.net) (Ping timeout: 256 seconds)
[03:25:23] *** Joins: bmomjian (~bruce@242.176.159.77.rev.sfr.net)
[03:28:04] *** Joins: bird8 (~bird@136-25-143-83.cab.webpass.net)
[03:29:51] *** Joins: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net)
[03:33:53] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[03:34:24] *** Quits: bmomjian (~bruce@242.176.159.77.rev.sfr.net) (Ping timeout: 260 seconds)
[03:36:15] *** Quits: zaher (~zaher@37.48.191.223) (Read error: Connection reset by peer)
[03:39:24] *** Joins: zaher (~zaher@37.48.157.82)
[03:40:13] *** Quits: concrete-houses (~g@209.6.150.53) (Ping timeout: 240 seconds)
[03:42:17] *** Joins: concrete-houses (~g@209.6.150.53)
[03:44:43] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[03:46:51] *** Quits: Yen (~Yen@user/yen) (Ping timeout: 256 seconds)
[03:49:59] *** Joins: ysch_ (~ysch@91.211.93.148)
[03:51:13] *** Quits: CygniX (~CygniX@2a01:8740:1:727:4e:80:7f:2d) (Excess Flood)
[03:51:32] *** Joins: CygniX (~CygniX@2a01:8740:1:727:4e:80:7f:2d)
[03:52:42] *** Quits: ysch (~ysch@91.211.93.148) (Ping timeout: 252 seconds)
[03:52:51] *** ysch_ is now known as ysch
[03:54:04] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 272 seconds)
[03:58:00] *** Joins: eric`` (~user@45.91.144.178)
[03:58:46] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Remote host closed the connection)
[03:59:37] *** Quits: eric` (~user@45.91.144.75) (Ping timeout: 240 seconds)
[03:59:37] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[04:05:11] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[04:07:37] *** Quits: eric`` (~user@45.91.144.178) (Ping timeout: 240 seconds)
[04:11:12] *** Joins: kakashiA1 (~kakashi@105.156.9.83)
[04:12:11] *** Joins: Yen (~Yen@user/yen)
[04:14:17] *** Quits: gp5st_ (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net) (Ping timeout: 256 seconds)
[04:16:19] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 256 seconds)
[04:19:33] *** Quits: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt) (Quit: Lost terminal)
[04:21:00] *** Joins: zaher_ (~zaher@37.48.178.16)
[04:21:31] *** Quits: zaher (~zaher@37.48.157.82) (Ping timeout: 260 seconds)
[04:22:47] *** Quits: n0fun (~jack@i577BC034.versanet.de) (Ping timeout: 256 seconds)
[04:23:01] *** Joins: pipe_connector (~pipe_conn@65.128.22.78)
[04:23:04] *** Joins: bingulo (~carlos@2804:431:e7c9:a7b7:e9cd:db35:46cf:8ec)
[04:24:05] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Remote host closed the connection)
[04:24:52] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[04:25:06] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 272 seconds)
[04:25:26] <pipe_connector> Long time Postgres user. I want to start managing my own deployment instead of using cloud providers -- what is the consensus easiest pattern if I want to be able to tolerate my primary dying at any moment? I don't care about horizontal scaling, I'd rather shard in my application anyhow. I just want the simplest ops that give me HA.
[04:25:34] <bingulo> On a centralized server whith some LXD/LXC containers running web application (that uses postgres), what could be better, run a single clusterdb on host or each container run a postgres instance?
[04:28:48] *** Joins: jazzy2 (~jaziz@user/jaziz)
[04:29:00] *** Quits: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net) (Ping timeout: 260 seconds)
[04:30:02] *** Joins: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net)
[04:32:43] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[04:33:29] *** Quits: mav`rik (~unknown@ec2-54-171-126-99.eu-west-1.compute.amazonaws.com) (Quit: leaving)
[04:39:40] *** Quits: brethil (~brethil@user/brethil) (Ping timeout: 272 seconds)
[04:40:12] *** Quits: concrete-houses (~g@209.6.150.53) (Remote host closed the connection)
[04:40:57] *** Joins: brethil (~brethil@host-57-108-136-83.retail.pianetafibra.it)
[04:40:58] *** Quits: brethil (~brethil@host-57-108-136-83.retail.pianetafibra.it) (Changing host)
[04:40:58] *** Joins: brethil (~brethil@user/brethil)
[04:43:46] *** Joins: rivyn (~rivyn@197-86-182-166.mobile.uscc.net)
[04:46:30] *** Quits: maciek__ (~maciek@2600:1700:a412:1c00:556a:89c3:76bf:ad1a) (Remote host closed the connection)
[04:46:48] *** Joins: maciek__ (~maciek@2600:1700:a412:1c00:c0fa:d776:d9e8:d7f3)
[04:47:29] *** Joins: steinomead (~steinomea@2601:1c0:cb00:931e:5547:5a2d:7963:9f8b)
[04:49:18] <steinomead> getting "ERROR:  mergejoin input data is out of order" just on one cluster for the same query. Can't explain query either, or find much about this error.
[04:50:17] <steinomead> source code generating it has comment: /* compareResult > 0 should not happen */
[04:53:01] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[04:53:31] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[04:56:33] *** Quits: reprazent (~reprazent@178-118-195-230.access.telenet.be) (Ping timeout: 256 seconds)
[04:58:22] *** Joins: reprazent (~reprazent@178-118-195-230.access.telenet.be)
[04:59:11] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[05:01:43] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[05:05:16] *** Quits: Klinda (~superleag@user/klinda) (Quit: Konversation terminated!)
[05:05:55] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[05:06:57] <nbjoerg> steinomead: running linux with a recent glibc or locale update ?
[05:06:59] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 256 seconds)
[05:09:22] *** Joins: zmt00 (~zmt00@user/zmt00)
[05:14:29] <steinomead> nbjoerg: I did recently go to an older distro
[05:14:37] <steinomead> as it was more stable
[05:18:17] *** Joins: fef (~thedawn@user/thedawn)
[05:18:35] <steinomead> but it's current LTS ubuntu-base, 10.20 pg
[05:18:56] *** Quits: brethil (~brethil@user/brethil) (Ping timeout: 272 seconds)
[05:20:11] *** Quits: Rashad (~textual@2a01:9700:1290:7400:c458:ff70:8841:c701) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[05:23:31] *** Joins: brethil (~brethil@host-57-108-136-83.retail.pianetafibra.it)
[05:23:31] *** Quits: brethil (~brethil@host-57-108-136-83.retail.pianetafibra.it) (Changing host)
[05:23:31] *** Joins: brethil (~brethil@user/brethil)
[05:24:07] <nbjoerg> I'm asking since there used to be cases of index corruptions due to locale order changes
[05:24:20] <nbjoerg> and I wouldn't be surprised if that could trigger in a case like this
[05:24:44] <nbjoerg> e.g. pg traverses the index, thinks the result is sorted and pushes the data down a mergejoin
[05:25:08] <nbjoerg> and the mergejoin will compare again, getting inconsistent results
[05:26:38] *** Joins: tozhu (~tozhu@221.237.139.15)
[05:28:21] <steinomead> should I rebuild indexes until the error disappears?
[05:28:25] <steinomead> or is it more terminal than that"?
[05:29:24] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb)
[05:29:45] *** Quits: kakashiA1 (~kakashi@105.156.9.83) (Quit: WeeChat 3.4.1)
[05:29:59] *** Joins: kakashiAL (~kakashi@105.156.9.83)
[05:30:58] <nbjoerg> it would be one thing to try at least
[05:31:11] <nbjoerg> esp. if your query plan shows an index scan
[05:31:55] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[05:32:49] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[05:32:51] <steinomead> appreciate the help! sounds like this is a likely cause. can't get a plan due to error, but it will def be using index scans, it's a fairly hefty query
[05:33:18] <steinomead> suppose I should solve this before moving this db to a new major version
[05:33:19] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[05:33:23] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 256 seconds)
[05:33:34] <steinomead> or would that rebuild them anyway?
[05:35:31] <nbjoerg> depends on how you update
[05:36:37] *** Quits: bingulo (~carlos@2804:431:e7c9:a7b7:e9cd:db35:46cf:8ec) (Ping timeout: 240 seconds)
[05:36:39] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[05:36:43] <steinomead> gotcha
[05:37:58] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[05:38:54] *** Quits: k8yun (~k8yun@user/k8yun) (Quit: Leaving)
[05:38:54] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[05:39:01] *** Quits: Bebef (sbreit@phobos.bebef.de) (Quit: bye)
[05:39:36] <steinomead> some queries are across postgres_fdw on same cluster, wonder if that would mean anything here
[05:43:46] *** Joins: Bebef (sbreit@phobos.bebef.de)
[05:45:13] <steinomead> oh I have duplicate entries on a unique index - no idea how that could have happened other than corruption
[05:45:54] <steinomead> I suppose that could cause the mergejoin sort error?
[05:46:55] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 260 seconds)
[05:48:10] *** Joins: gp5st_ (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net)
[05:51:52] *** Quits: nillyhan0 (~7f000001@user/nillyhan) (Quit: Ping timeout (120 seconds))
[05:52:08] *** Joins: nillyhan0 (~7f000001@user/nillyhan)
[05:54:37] *** Quits: econo (uid147250@user/econo) (Quit: Connection closed for inactivity)
[05:56:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[05:59:48] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[06:02:31] *** Quits: Yen (~Yen@user/yen) (Ping timeout: 256 seconds)
[06:08:59] *** Joins: ur5us (~ur5us@122-56-198-145.mobile.spark.co.nz)
[06:14:24] *** Joins: Yen (~Yen@user/yen)
[06:18:28] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[06:18:57] *** Quits: maciek__ (~maciek@2600:1700:a412:1c00:c0fa:d776:d9e8:d7f3) (Ping timeout: 240 seconds)
[06:19:07] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Read error: Connection reset by peer)
[06:19:24] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[06:20:44] *** Joins: CanuteTh- (~CanuteThe@user/canutethegreat)
[06:20:49] *** Joins: MrZeus_ (~MrZeus@194.37.96.119)
[06:20:59] *** Quits: CanuteTheGreat (~CanuteThe@user/canutethegreat) (Ping timeout: 256 seconds)
[06:22:31] *** Joins: Guest9025 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp)
[06:23:37] *** Quits: MrZeus__ (~MrZeus@86.106.136.215) (Ping timeout: 240 seconds)
[06:24:15] *** Quits: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net) (Ping timeout: 260 seconds)
[06:26:58] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[06:30:11] *** Joins: Intelo (~Intelo@user/Intelo)
[06:31:52] *** Joins: Tenchi (~Tenchi@user/tenchi)
[06:32:33] *** Quits: kakashiAL (~kakashi@105.156.9.83) (Ping timeout: 256 seconds)
[06:33:35] *** Quits: Guest9025 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp) (Ping timeout: 260 seconds)
[06:34:24] *** Quits: shka (~herr@109.231.3.55) (Ping timeout: 252 seconds)
[06:44:13] *** Joins: kakashiAL (~kakashi@105.156.9.83)
[06:44:16] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[06:45:05] *** Quits: Tenchi (~Tenchi@user/tenchi) (Read error: Connection reset by peer)
[06:45:26] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[06:47:02] *** Joins: kitsunenokenja (~kitsunech@68.91.220.96)
[06:48:52] *** Quits: kakashiAL (~kakashi@105.156.9.83) (Ping timeout: 272 seconds)
[06:49:46] <steinomead> nbjoerg: no idea if you're still here, but I fixed the issues
[06:49:55] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 260 seconds)
[06:50:13] *** Joins: Tenchi (~Tenchi@user/tenchi)
[06:54:33] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[06:58:41] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:00:21] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[07:01:27] *** Quits: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br) (Ping timeout: 256 seconds)
[07:01:27] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:01:58] *** Joins: Shells (~michelle@2407:8800:bc20:200a:8848:2a71:73cf:925b)
[07:03:25] *** Quits: Michelle (~michelle@203.206.128.220) (Ping timeout: 240 seconds)
[07:03:34] *** Joins: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net)
[07:09:37] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 240 seconds)
[07:09:48] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 240 seconds)
[07:12:44] *** Quits: tozhu (~tozhu@221.237.139.15) (Quit: tozhu)
[07:12:54] *** Quits: f3f3lix (~weechat@55d4d247.access.ecotel.net) (Ping timeout: 252 seconds)
[07:14:39] *** Quits: MrZeus_ (~MrZeus@194.37.96.119) (Ping timeout: 260 seconds)
[07:14:51] *** Joins: f3f3lix (~weechat@55d4d430.access.ecotel.net)
[07:15:12] *** Quits: rivyn (~rivyn@197-86-182-166.mobile.uscc.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:20:09] *** Quits: Intelo (~Intelo@user/Intelo) (Ping timeout: 256 seconds)
[07:22:31] *** Quits: ur5us (~ur5us@122-56-198-145.mobile.spark.co.nz) (Read error: Connection reset by peer)
[07:23:04] *** Quits: Su-Shee (~Susanne@i5E862DA6.versanet.de) (Ping timeout: 272 seconds)
[07:23:48] *** Quits: nillyhan0 (~7f000001@user/nillyhan) (Ping timeout: 240 seconds)
[07:24:06] *** Joins: Su-Shee (~Susanne@67-111-142-46.pool.kielnet.net)
[07:25:54] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:29:48] *** Quits: KombuchaKip (~kip@192.252.230.5) (Quit: Leaving.)
[07:30:30] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[07:30:52] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:30:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[07:30:57] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[07:33:52] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:36:41] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[07:37:03] *** Quits: gp5st_ (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net) (Ping timeout: 260 seconds)
[07:38:45] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[07:40:14] *** Joins: makoto2600 (~makoto260@94.86-180-91.adsl-dyn.isp.belgacom.be)
[07:41:34] *** Quits: makoto2600 (~makoto260@94.86-180-91.adsl-dyn.isp.belgacom.be) (Remote host closed the connection)
[07:44:03] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[07:44:19] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:45:54] *** Quits: daspork (~JEsus~~~~@user/daspork) (Ping timeout: 252 seconds)
[07:46:13] *** Joins: daspork (~JEsus~~~~@user/daspork)
[07:50:05] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[07:54:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[07:56:01] *** Joins: sakasama (~sakasama@user/sakasama)
[08:01:45] *** Joins: kakashiAL (~kakashi@105.156.9.83)
[08:06:30] *** Joins: funhouse (~funhouse@user/funhouse)
[08:06:37] *** Quits: kakashiAL (~kakashi@105.156.9.83) (Ping timeout: 256 seconds)
[08:13:56] *** Quits: pipe_connector (~pipe_conn@65.128.22.78) (Ping timeout: 260 seconds)
[08:15:45] *** Joins: pipe_connector (~pipe_conn@65.128.22.78)
[08:27:02] *** Quits: eroux (~eroux@102-65-72-61.ftth.web.africa) (Ping timeout: 272 seconds)
[08:29:21] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 252 seconds)
[08:31:34] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb)
[08:34:34] *** Joins: tozhu (~tozhu@171.216.228.84)
[08:39:05] *** Joins: nillyhan0 (~7f000001@user/nillyhan)
[08:39:38] *** Quits: tozhu (~tozhu@171.216.228.84) (Quit: tozhu)
[08:40:20] *** Joins: tozhu (~tozhu@171.216.228.84)
[08:42:17] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[08:49:33] *** Joins: zz1 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp)
[08:49:50] *** Quits: nillyhan0 (~7f000001@user/nillyhan) (Ping timeout: 272 seconds)
[08:50:40] *** Joins: kakashiAL (~kakashi@105.156.9.83)
[08:53:00] *** Quits: zaher_ (~zaher@37.48.178.16) (Ping timeout: 272 seconds)
[08:54:06] *** Quits: zz1 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp) (Ping timeout: 252 seconds)
[08:54:12] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 240 seconds)
[08:55:21] *** Quits: kakashiAL (~kakashi@105.156.9.83) (Ping timeout: 256 seconds)
[08:58:51] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Read error: Connection reset by peer)
[08:59:09] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[09:01:21] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 256 seconds)
[09:03:23] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Read error: Connection reset by peer)
[09:12:48] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[09:12:55] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 256 seconds)
[09:13:34] *** Joins: _xor (~xor@74.215.232.169)
[09:14:27] *** Quits: TheyCallMePaul (~TheyCallM@ip72-207-167-97.lv.lv.cox.net) (Quit: Leaving)
[09:22:09] *** Quits: sreve_ (~quassel@p4ff44c08.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[09:22:33] *** Joins: sreve (~quassel@p4ff44d34.dip0.t-ipconnect.de)
[09:22:58] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Remote host closed the connection)
[09:23:10] *** Joins: kakashiAL (~kakashi@105.156.9.83)
[09:25:27] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[09:26:46] <gambl0re> is it bad to put html inside tables?
[09:27:24] *** Quits: kakashiAL (~kakashi@105.156.9.83) (Ping timeout: 240 seconds)
[09:29:48] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Ping timeout: 240 seconds)
[09:31:23] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Quit: WeeChat 3.4)
[09:32:46] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[09:36:30] *** Joins: Guest94 (~Guest94@2402:3a80:91d:4c3b:d038:a12e:76de:267f)
[09:44:05] <Guest94> I'm trying to load data from csv file to postgresql. Using sqlalchemy in python. One of csv's column have html source code. I got this error `missing data for column "email_fragments_vod__c"`.
[09:44:55] <Guest94> If I replace html source code with simple string, then it works.
[09:45:54] *** Joins: ekathva (~ekathva@2001:999:409:7be:fdd8:9ce:be39:f4da)
[09:50:53] *** Quits: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net) (Ping timeout: 256 seconds)
[09:53:20] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[09:57:47] *** Quits: rvalue (~rvalue@user/rvalue) (Remote host closed the connection)
[09:58:12] *** Joins: rvalue (~rvalue@user/rvalue)
[09:58:14] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 272 seconds)
[10:03:50] <sobel> Guest94: odds are good the html has unescaped quotes in that column.
[10:11:59] <Guest94> @sob
[10:12:34] <Guest94> Do you have any thing for? I can try.
[10:12:37] *** Quits: Bebef (sbreit@phobos.bebef.de) (Quit: bye)
[10:14:05] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[10:14:57] *** Joins: Bebef (sbreit@phobos.bebef.de)
[10:15:47] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[10:22:56] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Ping timeout: 272 seconds)
[10:23:06] *** Joins: michalz (~michalz@185.246.204.105)
[10:23:45] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 256 seconds)
[10:26:08] <Guest94> ```output = StringIO()
[10:26:08] <Guest94>         raw = engine.raw_connection()
[10:26:09] <Guest94>         curs = raw.cursor()
[10:26:09] <Guest94>         df.to_csv(output, sep='\t', header = False, index = False)
[10:26:10] <Guest94>         output.getvalue()
[10:26:10] <Guest94>         output.seek(0)```
[10:26:11] <Guest94> ```curs.copy_from(output, table_name, null="", columns=columns)```
[10:26:11] <Guest94> Before sending data in database. I save df in a file which will add escaping quotes in file.
[10:26:12] <Guest94> Then file will be insered in database.
[10:27:38] *** Quits: gslin (~gslin@114-34-121-114.hinet-ip.hinet.net) (Quit: WeeChat 2.8)
[10:31:02] *** Joins: mattil (~mattil@87-95-37-225.bb.dnainternet.fi)
[10:31:29] *** Joins: gslin (~gslin@114-34-121-114.hinet-ip.hinet.net)
[10:31:47] *** Joins: mattil_ (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi)
[10:33:46] *** Quits: mattil_ (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:34:14] *** Joins: mattil_ (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi)
[10:35:39] *** Quits: mattil (~mattil@87-95-37-225.bb.dnainternet.fi) (Ping timeout: 256 seconds)
[10:35:48] *** Quits: michalz (~michalz@185.246.204.105) (Read error: No route to host)
[10:36:24] *** Joins: michalz (~michalz@185.246.204.105)
[10:38:13] *** Quits: mattil_ (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:38:23] *** Joins: mattil (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi)
[10:38:27] *** Quits: mattil (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:38:56] *** Joins: mattil (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi)
[10:43:42] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[10:44:12] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[10:46:19] *** Quits: mattil (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:46:46] *** Joins: mattil (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi)
[10:47:50] *** Quits: mattil (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:48:00] *** Joins: mattil (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi)
[10:49:15] *** Quits: pipe_connector (~pipe_conn@65.128.22.78) (Ping timeout: 256 seconds)
[10:50:08] *** Quits: stark__ (~stark@192.222.248.88) (Ping timeout: 252 seconds)
[10:54:06] *** Quits: mattil (~mattil@d1g-h77ydph86vy041t-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:55:30] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[10:56:23] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Client Quit)
[10:59:06] *** Quits: esainane (esainane@antihype.space) (Read error: Connection reset by peer)
[11:05:19] *** Joins: mattil (~mattil@helsinki.portalify.com)
[11:05:53] *** Joins: kakashiAL (~kakashi@105.156.9.83)
[11:07:15] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[11:07:49] *** Quits: mjf_ (~mjf@cst-prg-93-14.cust.vodafone.cz) (Ping timeout: 240 seconds)
[11:08:41] *** Joins: mjf_ (~mjf@2001:1528:1:fffd:e179:37ec:4a3:e41b)
[11:10:39] *** Quits: kakashiAL (~kakashi@105.156.9.83) (Ping timeout: 268 seconds)
[11:11:53] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 268 seconds)
[11:12:55] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[11:13:36] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 272 seconds)
[11:14:18] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[11:21:40] *** Joins: jmarsac (~jmarsac@2a01:cb1d:1f5:ca00:99b6:8478:e23d:d6e5)
[11:27:15] *** Quits: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon) (Ping timeout: 240 seconds)
[11:27:40] *** Quits: jmarsac (~jmarsac@2a01:cb1d:1f5:ca00:99b6:8478:e23d:d6e5) (Quit: Leaving)
[11:37:10] *** Joins: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw)
[11:42:29] *** Joins: kakashiAL (~kakashi@105.156.9.83)
[11:42:43] *** Joins: the_lanetly_052 (~the_lanet@194.135.168.157)
[11:42:59] *** Quits: randir (~randir@95-31-138-202.broadband.corbina.ru) (Remote host closed the connection)
[11:45:16] *** Quits: ekathva (~ekathva@2001:999:409:7be:fdd8:9ce:be39:f4da) (Remote host closed the connection)
[11:45:35] *** Joins: ekathva (~ekathva@2001:999:409:7be:fdd8:9ce:be39:f4da)
[11:48:02] *** Quits: B-| (~Unknown@93.186.210.16) (Quit: leaving)
[11:49:53] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[11:51:57] *** Joins: shka (~herr@109.231.3.55)
[11:54:12] *** Joins: maret (~maret@195.12.158.102)
[11:54:59] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Ping timeout: 256 seconds)
[11:58:54] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[12:01:43] *** Joins: darutoko (~darutoko@37.21.244.242)
[12:02:12] *** Joins: manti7 (~manti7@176.10.104.94)
[12:06:20] *** Joins: gleu (~guillaume@91-169-9-236.subs.proxad.net)
[12:07:40] *** Joins: irionr (~irionr@net-93-145-27-202.cust.vodafonedsl.it)
[12:08:15] *** Quits: ferz (~ferz@93-39-139-242.ip76.fastwebnet.it) (Ping timeout: 252 seconds)
[12:18:20] *** Joins: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge)
[12:22:12] *** Joins: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de)
[12:23:50] *** Joins: ferz (~ferz@93-39-139-242.ip76.fastwebnet.it)
[12:25:31] *** Joins: jhkrug (~jhkrug@84.236.249.225)
[12:26:57] *** Quits: jhkrug (~jhkrug@84.236.249.225) (Client Quit)
[12:26:57] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[12:29:15] *** Quits: tmunro (~user@freefall.freebsd.org) (Read error: Connection reset by peer)
[12:29:27] *** Joins: tmunro (~user@freefall.freebsd.org)
[12:34:06] *** Joins: rendar (~rendar@user/rendar)
[12:39:50] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[12:41:39] *** Joins: palasso (~palasso@user/palasso)
[12:44:33] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 252 seconds)
[12:44:42] *** Quits: Shells (~michelle@2407:8800:bc20:200a:8848:2a71:73cf:925b) (Read error: Connection reset by peer)
[12:45:13] *** Joins: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon)
[12:46:26] *** Joins: Shells (~michelle@2407:8800:bc20:200a:8848:2a71:73cf:925b)
[12:47:04] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[12:57:58] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[13:01:31] *** Joins: ivii (~ivan@user/ivii)
[13:01:51] *** Quits: kakashiAL (~kakashi@105.156.9.83) (Ping timeout: 260 seconds)
[13:03:43] *** Quits: tozhu (~tozhu@171.216.228.84) (Ping timeout: 265 seconds)
[13:03:44] *** Quits: mauli (~mauli@maulware.com) (Read error: Connection reset by peer)
[13:03:57] *** Joins: mauli (~mauli@138.201.90.146)
[13:05:01] *** Quits: DEac- (~deac@niob.denkn.at) (Ping timeout: 240 seconds)
[13:05:30] *** Joins: tozhu (~tozhu@117.139.163.129)
[13:05:44] *** Joins: DEac- (~deac@niob.denkn.at)
[13:08:45] *** Joins: lkw (~lkw@user/lkw)
[13:09:35] *** Joins: randir (~randir@93.159.239.42)
[13:14:34] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 272 seconds)
[13:16:54] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[13:19:20] *** Joins: bmomjian (~bruce@242.176.159.77.rev.sfr.net)
[13:26:02] *** Quits: irionr (~irionr@net-93-145-27-202.cust.vodafonedsl.it) (Quit: Connection closed)
[13:27:33] *** Joins: Guest657 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp)
[13:29:22] *** Quits: Guest94 (~Guest94@2402:3a80:91d:4c3b:d038:a12e:76de:267f) (Quit: Client closed)
[13:30:44] *** Quits: Guest657 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp) (Client Quit)
[13:33:39] *** Joins: Guest94 (~Guest94@2402:3a80:91d:4c3b:d038:a12e:76de:267f)
[13:34:46] *** Joins: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com)
[13:37:52] *** Joins: qsang (~qsang@103.165.84.231)
[13:41:02] *** Quits: Asgaroth (~Asgaroth@93.107.191.92) (Read error: Connection reset by peer)
[13:41:55] *** Quits: fcr (~fran@r186-48-105-234.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[13:45:09] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[13:45:40] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[13:45:46] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[13:46:23] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[13:47:26] <merpader1> is this legal? INSERT ... RETURNING ID INTO SOME_DECLARED_VARIABLE?
[13:48:06] <Berge> merpader1: no
[13:48:34] <merpader1> :(
[13:48:35] <Berge> merpader1: What are you trying to achieve?
[13:49:01] <merpader1> INSERT a record and return it's ID into variable I declared at start of transaction
[13:49:06] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 245 seconds)
[13:49:12] <merpader1> which holds either existing Id or the one I just inserteded
[13:49:13] <Berge> There are no variables in SQL
[13:49:21] <merpader1> ok nvm then
[13:49:42] <Berge> There are in the procedural languages, such as plpgsql, but that's ofte abused
[13:51:08] <merpader1> so that's plpgsql I am writing here
[13:51:13] <merpader1> looks like SQL to me
[13:51:33] *** Joins: fcr (~fran@r167-56-91-111.dialup.adsl.anteldata.net.uy)
[13:52:35] <Berge> ah – no, that's not SQL, it's a (big) superset of it
[13:53:08] <Berge> What is your function doing?
[13:53:15] <merpader1> so, is it legal to do RETURNING ID INTO SOME_OTHER in superset of pgsqlplg?
[13:53:45] <Berge> Yes, except it's RETURNING column INTO var
[13:53:51] <Berge> Where column can be a set
[13:54:09] <merpader1> well, I am writing ansible role which sets up application schema, and the idea is that can be ran multiple times and it wont insert data which is already there by first initialization.
[13:54:09] <Berge> Or var := (INSERT INTO .. RETURNING col), I think
[13:54:21] <Berge> merpader1: Why do you need plpgsql for that?
[13:54:58] <Berge> Are you essentially looking for CREATE ROLE .. IF NOT EXISTS?
[13:54:58] <merpader1> because otherwise I will have to write all that into yaml which is more annoying, every piece of query, evaluate etc etc.
[13:55:15] <Berge> Not sure what's this to do with YAML… can you provide an example of what you want to do?
[13:55:25] <Berge> Ensure that a given postgres user exists+
[13:55:30] <merpader1> just nevermind, thanks
[13:56:19] <Berge> https://dpaste.com/B4YJZ9RQ9.txt is what I typically do
[13:56:41] <Berge> It's concurrency safe
[13:57:21] <Berge> You can wrap that into a function too
[13:57:57] *** Quits: bmomjian (~bruce@242.176.159.77.rev.sfr.net) (Ping timeout: 240 seconds)
[13:59:26] <merpader1> interesting
[14:02:40] *** Quits: qsang (~qsang@103.165.84.231) (Quit: Client closed)
[14:06:50] *** Joins: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr)
[14:09:24] *** Joins: merzo1 (~Thunderbi@192.162.238.196)
[14:11:41] *** merzo1 is now known as merzo
[14:15:11] *** Quits: schinckel (uid38120@user/schinckel) (Quit: Connection closed for inactivity)
[14:17:00] *** Quits: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[14:17:24] *** Quits: held (~heldchen@user/held) (Ping timeout: 240 seconds)
[14:22:58] *** Quits: veesh (~veesh@77.137.128.37) (Ping timeout: 272 seconds)
[14:23:59] *** Quits: ekathva (~ekathva@2001:999:409:7be:fdd8:9ce:be39:f4da) (Ping timeout: 260 seconds)
[14:27:43] *** Joins: held (~heldchen@user/held)
[14:30:48] *** Quits: marcel (~marcel@user/marcel) (Quit: The Lounge - https://thelounge.chat)
[14:31:06] *** Joins: marcel (~marcel@user/marcel)
[14:48:44] *** Quits: jazzy2 (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[14:48:48] *** Joins: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net)
[14:50:16] *** Joins: dslegends (~dslegends@user/dslegends)
[14:52:42] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[14:56:41] *** Joins: bmomjian (~bruce@242.176.159.77.rev.sfr.net)
[14:59:31] *** Joins: veesh (~veesh@77.137.128.37)
[15:02:58] *** Quits: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com) (Remote host closed the connection)
[15:11:19] *** Joins: carwash (~jwash@c-73-254-46-148.hsd1.wa.comcast.net)
[15:12:02] *** Quits: the_lanetly_052 (~the_lanet@194.135.168.157) (Remote host closed the connection)
[15:12:12] *** Quits: jwash (~jwash@c-73-254-46-148.hsd1.wa.comcast.net) (Ping timeout: 240 seconds)
[15:12:33] *** Joins: otis^ (~otis@96-91-136-49-static.hfc.comcastbusiness.net)
[15:12:40] *** Joins: esainane (esainane@antihype.space)
[15:15:24] *** Joins: shiranaihito (~textual@111-249-200-123.dynamic-ip.hinet.net)
[15:18:46] *** Joins: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com)
[15:23:13] *** Joins: zaher (~zaher@37.48.157.9)
[15:23:31] *** Quits: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com) (Ping timeout: 256 seconds)
[15:23:47] *** Joins: randir_ (~randir@212.237.210.82)
[15:24:02] *** Joins: quazimodo (~quazimodo@n110-21-88-214.bla2.nsw.optusnet.com.au)
[15:24:03] <quazimodo> hi all
[15:24:42] *** Joins: n0fun (~jack@i577BC074.versanet.de)
[15:24:52] <quazimodo> suppose that I have a 2 tuple (source_type, source_id) as columns for an 'events' table. I'd like to implement a 'monotonic clock' sort of thing where each event I create for a given source pair has an auto incrementing `seq_number` column
[15:25:06] <quazimodo> something the application doesn't manage, but rather the DB ensures is uniquely increasing linearly
[15:25:43] <quazimodo> is this something postgres has, or would I need to implement this via a trigger or application code (possibly having to implemnet a unique (source_type, source_id, seq_number) index)
[15:25:47] <depesz> quazimodo: sequence.
[15:26:15] <depesz> sequences are exactly for this. autoincrementing numbers
[15:26:22] <depesz> guaranteed to be unique
[15:26:25] <quazimodo> depesz: can the sequence be bound to the (source_type, source_id) such that it starts again at 0 for a new source?
[15:26:30] <depesz> no.
[15:26:35] <quazimodo> right then i cant use it
[15:26:45] <quazimodo> though I do understand what you're saying
[15:26:52] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[15:26:59] *** Quits: randir (~randir@93.159.239.42) (Ping timeout: 260 seconds)
[15:27:05] <depesz> then you will have to have a table with source_type/source_id and last-inserted-id, and use this.
[15:27:20] <depesz> or have idnexing on events, that will allow for easy getting next sequence_id.
[15:27:28] <depesz> this can be done, relatively trivially, with triggers.
[15:27:45] <quazimodo> yeah triggers aren't hard
[15:27:54] <quazimodo> i was just curious if already there exists something to manage it
[15:27:59] <depesz> you do have to keep in mind that it will cause problems with concurrency. and on delete from events, you will have gaps in numbering
[15:28:33] <depesz> of course all is solvable, but it's something that you have to take into consideration.
[15:29:08] <depesz> another set of problems is inserting multiple rows with single insert/copy. multiple rows for single source, that is.
[15:29:38] <quazimodo> yes
[15:29:48] <quazimodo> I understand
[15:30:03] <quazimodo> this isn't an exercise in high scale event processing capabilities
[15:30:21] <depesz> question: is there any way to get information how current connection was authenticated? using which auth_method (re: hba rules)
[15:30:22] *** Quits: shiranaihito (~textual@111-249-200-123.dynamic-ip.hinet.net) (Read error: Connection reset by peer)
[15:30:44] <quazimodo> and we wont be deleting events ever, just tombstoning with additional events
[15:30:54] *** Joins: shiranaihito (~textual@111-249-200-123.dynamic-ip.hinet.net)
[15:31:03] <depesz> quazimodo: then simple triggers on insert and update, and you'll be good,.
[15:31:12] <quazimodo> thank you
[15:31:14] <depesz> make sure to add index on source_type, source_id, seq_number
[15:31:18] <quazimodo> yeah
[15:31:30] <depesz> ah. select to get last number should be "for update"
[15:31:54] <depesz> and make sure your triggers will handle *properly* case where 2 concurrent sessions insert *first* row for given source* at the same time.
[15:32:43] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi)
[15:34:45] *** Joins: randir (~randir@93.159.239.42)
[15:37:11] *** Joins: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com)
[15:37:39] *** Quits: Alan (~alan@user/alan) (Quit: The Lounge - https://thelounge.chat)
[15:38:15] *** Quits: randir_ (~randir@212.237.210.82) (Ping timeout: 256 seconds)
[15:45:03] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[15:45:25] *** Quits: ktosiek (~ktosiek@2001:470:69fc:105::87ab) (Ping timeout: 240 seconds)
[15:45:39] *** Joins: ktosiek (~ktosiek@2001:470:69fc:105::87ab)
[15:46:22] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[15:47:56] *** Joins: dfee (~dfee@162-227-164-101.lightspeed.sntcca.sbcglobal.net)
[15:49:19] <dfee> is it possible to coerce an `ARRAY[ 'UUID-1', 'UUID-2' ]` into an `ARRAY[ '[{ "id": "UUID-1" }]', '[{ "id": "UUID-2" }]' ]::jsonb`?
[15:50:17] <dfee> it seems my driver supplies a list of arguments as an array (which is fine), but i need to use these to filter in a CTE as jsonb, and then again in a final SELECT as actual strings/UUIDs
[15:51:23] *** Joins: bingulo (~carlos@bladeHP1.ffclrp.usp.br)
[15:53:43] <depesz> another case of people abusing json and being bitten by this
[15:54:21] <depesz> dfee: what exactly do you want to get? the expression you want doesn't exist: $ select ARRAY[ '[{ "id": "UUID-1" }]', '[{ "id": "UUID-2" }]' ]::jsonb => ERROR:  cannot cast type text[] to jsonb
[15:54:45] <depesz> so, do you want select ARRAY[ '[{ "id": "UUID-1" }]', '[{ "id": "UUID-2" }]' ]::jsonb[]; ? which is: {"[{\"id\": \"UUID-1\"}]","[{\"id\": \"UUID-2\"}]"}
[15:54:47] *** Quits: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon) (Remote host closed the connection)
[15:55:00] *** Joins: Alan (~alan@user/alan)
[15:55:00] <dfee> sorry... jsonb[]
[15:55:02] *** Joins: Rashad (~textual@2a01:9700:1290:7400:5c48:d281:c915:ff70)
[15:55:12] *** Joins: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon)
[15:55:17] <dfee> i'm looking for a `map` function; i don't know that it exists
[15:55:20] <depesz> or perhaps select '[{ "id": "UUID-1" },{ "id": "UUID-2" }]'::jsonb
[15:55:37] <depesz> sure, it's called select :). moment. let me type it in...
[15:55:39] <dfee> no; i need to look for the former. i'm in the position of inheriting a nasty db
[15:56:41] <dfee> i have an jsonb column that looks like ".sections[].entry.id"
[15:56:42] *** Joins: the_lanetly_052 (~the_lanet@194.135.168.157)
[15:57:43] *** Quits: Alan (~alan@user/alan) (Client Quit)
[15:57:54] <depesz> dfee: select array_agg( jsonb_build_array( jsonb_object('{id}'::text[], array[x]))) from unnest(ARRAY[ 'UUID-1', 'UUID-2' ]) as x;
[15:57:56] <dfee> and so i'm filtering using the first one up top (to get any rows, and unwrapping with jsonb_array_elements), but i need to again filter with the ids below – because there can be many sections, and i only want to match on the entry
[15:58:06] <depesz> wrap it in a function, and you'll be good. well, "good".
[15:58:13] *** Quits: Guest94 (~Guest94@2402:3a80:91d:4c3b:d038:a12e:76de:267f) (Quit: Client closed)
[15:58:22] <dfee> let me check this out.
[15:59:16] <depesz> i just want to say: this is *SO* wrong. you're forcing pg to go through hoops with json. while DB is the single thing in app stack that can't be *easily* scaled.
[15:59:23] *** Quits: shiranaihito (~textual@111-249-200-123.dynamic-ip.hinet.net) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[15:59:50] <depesz> i understand "inherited situation", but it should be fixed.
[16:01:31] *** Quits: nyov (~nyov@user/nyov) (Ping timeout: 260 seconds)
[16:03:06] *** Joins: nyov (~nyov@user/nyov)
[16:04:22] *** Quits: Rashad (~textual@2a01:9700:1290:7400:5c48:d281:c915:ff70) (Read error: Connection reset by peer)
[16:06:47] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[16:07:25] *** Joins: Alan (~alan@user/alan)
[16:07:33] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[16:10:10] *** Quits: Alan (~alan@user/alan) (Client Quit)
[16:10:23] *** Quits: ferz (~ferz@93-39-139-242.ip76.fastwebnet.it) (Ping timeout: 260 seconds)
[16:10:34] *** Quits: quazimodo (~quazimodo@n110-21-88-214.bla2.nsw.optusnet.com.au) (Remote host closed the connection)
[16:10:37] *** Joins: Alan (~alan@user/alan)
[16:11:01] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 240 seconds)
[16:16:20] *** Joins: shiranaihito (~textual@2001-b011-4011-1a16-d94c-5ce8-6573-ac7d.dynamic-ip6.hinet.net)
[16:18:32] *** Joins: kakashiAL (~kakashi@105.156.9.83)
[16:23:09] *** Joins: maret (~maret@195.12.158.102)
[16:24:31] *** Joins: ferz (~ferz@93-39-139-242.ip76.fastwebnet.it)
[16:25:37] *** Joins: Rashad (~textual@2a01:9700:1290:7400:5c48:d281:c915:ff70)
[16:33:56] *** Joins: zaher_ (~zaher@37.48.177.49)
[16:35:12] *** Joins: shiranaihito_ (~textual@123.192.192.149)
[16:36:26] *** Joins: TheyCallMePaul (~TheyCallM@ip72-207-167-97.lv.lv.cox.net)
[16:36:36] *** Quits: zaher (~zaher@37.48.157.9) (Ping timeout: 272 seconds)
[16:36:36] *** Quits: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge) (Ping timeout: 272 seconds)
[16:37:06] *** Quits: shiranaihito (~textual@2001-b011-4011-1a16-d94c-5ce8-6573-ac7d.dynamic-ip6.hinet.net) (Ping timeout: 260 seconds)
[16:38:07] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[16:45:00] *** Quits: dfee (~dfee@162-227-164-101.lightspeed.sntcca.sbcglobal.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:45:16] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[16:46:12] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 240 seconds)
[16:54:25] *** Joins: magla (~gelignite@d5367a39.access.ecotel.net)
[16:55:05] *** Joins: Atque (~Atque@user/atque)
[16:59:58] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[17:03:26] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[17:11:48] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[17:12:36] *** Quits: bingulo (~carlos@bladeHP1.ffclrp.usp.br) (Ping timeout: 240 seconds)
[17:13:30] <mage> any ZFS user here? I'm wondering if I could use ZFS snapshots for backups and recovery?
[17:19:04] *** Quits: Rashad (~textual@2a01:9700:1290:7400:5c48:d281:c915:ff70) (Read error: Connection reset by peer)
[17:20:03] *** Quits: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net) (Quit: WeeChat 3.4)
[17:20:17] *** Joins: ekathva (~ekathva@2001:999:409:7be:f8de:27d3:b79e:f051)
[17:21:55] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[17:23:49] *** Joins: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net)
[17:26:12] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Ping timeout: 240 seconds)
[17:28:50] *** Joins: rodo (~rodo@105-107-190-109.dsl.ovh.fr)
[17:30:37] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[17:31:54] *** Joins: MrZeus_ (~MrZeus@194.37.96.151)
[17:34:08] *** Joins: Rashad (~textual@2a01:9700:1290:7400:5c48:d281:c915:ff70)
[17:34:50] *** Quits: gdd (~gdd@129.199.146.230) (Ping timeout: 268 seconds)
[17:35:00] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 240 seconds)
[17:36:19] *** Joins: Klinda (~superleag@user/klinda)
[17:36:26] *** Joins: gdd (~gdd@129.199.146.230)
[17:36:38] *** Joins: gearnode1 (~gearnode@2a01cb0003a40300f22f74fffedefec1.ipv6.abo.wanadoo.fr)
[17:37:00] *** Quits: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr) (Ping timeout: 240 seconds)
[17:37:15] *** Joins: gabriel_sevecek (~gabriel@188-167-229-200.dynamic.chello.sk)
[17:37:15] *** Quits: rodo (~rodo@105-107-190-109.dsl.ovh.fr) (Ping timeout: 256 seconds)
[17:37:18] *** Quits: kakashiAL (~kakashi@105.156.9.83) (Ping timeout: 268 seconds)
[17:37:35] *** Quits: gabriel_sevecek (~gabriel@188-167-229-200.dynamic.chello.sk) (Client Quit)
[17:39:50] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[17:39:57] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Read error: Connection reset by peer)
[17:40:23] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[17:42:56] <depesz> did anyone of you managed to get pgbouncer working with scram auth? I think i'm starting to lose my mind.
[17:43:11] *** Quits: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com) (Remote host closed the connection)
[17:44:24] <ilmari> mage: according to https://www.postgresql.org/docs/current/backup-file.html that is fine as long as the data directory and the WAL are on the same filesystem so that they're both included in the same atomic snapshot
[17:45:13] *** Joins: potemgin (~gmh@c-73-244-192-129.hsd1.fl.comcast.net)
[17:45:52] <potemgin> Hi guys can someone provide me high level description on what the public role is in postgres?
[17:46:36] <ilmari> potemgin: it's a role that every user is implicitly a member of
[17:47:32] <ilmari> so granting privileges to public means any uesr can exercise them
[17:47:33] *** Quits: mjf_ (~mjf@2001:1528:1:fffd:e179:37ec:4a3:e41b) (Read error: Connection reset by peer)
[17:48:29] *** Joins: mjf_ (~mjf@cst-prg-93-14.cust.vodafone.cz)
[17:48:45] *** Joins: kakashiAL (~kakashi@105.156.9.83)
[17:50:29] <potemgin> ilmari: Thanks so much
[17:53:13] *** Joins: gabriel_sevecek (~gabriel@188-167-229-200.dynamic.chello.sk)
[17:53:16] *** Quits: gabriel_sevecek (~gabriel@188-167-229-200.dynamic.chello.sk) (Client Quit)
[17:53:44] *** Joins: gabriel_sevecek (~gabriel@188-167-229-200.dynamic.chello.sk)
[17:55:53] <grove> mage: I use ZFS, but not on a server that runs postgresql, but I'm basically just a user of postgresql today
[17:56:13] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Quit: Leaving)
[17:56:50] *** Quits: gabriel_sevecek (~gabriel@188-167-229-200.dynamic.chello.sk) (Client Quit)
[17:57:41] *** Joins: gabriel_sevecek (~gabriel@188-167-229-200.dynamic.chello.sk)
[17:57:46] *** Quits: gabriel_sevecek (~gabriel@188-167-229-200.dynamic.chello.sk) (Client Quit)
[17:58:22] *** Joins: gabriel_sevecek (~gabriel@188-167-229-200.dynamic.chello.sk)
[17:58:35] *** Joins: AceSlash (~slash@2a01:e0a:432:c050:cd12:393c:3664:2a6e)
[17:59:27] *** Joins: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge)
[18:00:41] *** Joins: dionysus70 (~Thunderbi@94-43-121-219.dsl.utg.ge)
[18:01:28] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 272 seconds)
[18:03:05] *** Joins: pedja_hpmini (~pedja_hpm@109-93-189-123.dynamic.isp.telekom.rs)
[18:04:00] *** Quits: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge) (Ping timeout: 272 seconds)
[18:04:01] *** dionysus70 is now known as dionysus69
[18:05:40] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[18:05:40] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[18:05:40] *** Joins: iliv (~iliv@user/iliv)
[18:07:14] <gabriel_sevecek> I have a pretty big query in terms of returned columns (several joins) EXPLAIN ANALYZE says 7ms execution time, but query log says around 100ms. I guess the difference is actual data retrieving/transformation. Is there anything that can improve that?
[18:07:48] *** zaher_ is now known as zaher
[18:07:48] *** Quits: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net) (Ping timeout: 240 seconds)
[18:10:09] *** Joins: Slade (uid128877@user/slade)
[18:14:01] *** Joins: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net)
[18:17:35] *** Quits: tozhu (~tozhu@117.139.163.129) (Quit: tozhu)
[18:18:57] *** Quits: Enissay (~Enissay@user/enissay) (Quit: WeeChat 3.0)
[18:20:38] *** Joins: Enissay (~Enissay@user/enissay)
[18:22:01] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[18:25:27] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[18:25:43] *** Joins: mizi_ (~mizi@user/mizi)
[18:26:09] *** Joins: maret (~maret@195.12.158.102)
[18:26:53] *** Quits: mjf_ (~mjf@cst-prg-93-14.cust.vodafone.cz) (Ping timeout: 256 seconds)
[18:27:03] *** Joins: mjf_ (~mjf@2001:1528:1:fffd:e179:37ec:4a3:e41b)
[18:29:58] *** Quits: gabriel_sevecek (~gabriel@188-167-229-200.dynamic.chello.sk) (Quit: WeeChat 3.4)
[18:34:56] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[18:35:00] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Ping timeout: 240 seconds)
[18:36:06] *** Joins: ekathva_ (~ekathva@85-76-47-198-nat.elisa-mobile.fi)
[18:36:18] *** Quits: ekathva (~ekathva@2001:999:409:7be:f8de:27d3:b79e:f051) (Remote host closed the connection)
[18:40:21] *** Quits: otis^ (~otis@96-91-136-49-static.hfc.comcastbusiness.net) (Remote host closed the connection)
[18:46:51] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[18:48:35] *** Quits: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net) (Read error: Connection reset by peer)
[18:48:46] *** Joins: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net)
[18:49:19] *** Joins: mattil_ (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi)
[18:50:51] *** Quits: Merixer (~Merixer@185.176.247.116) (Ping timeout: 252 seconds)
[18:50:52] *** Quits: TheyCallMePaul (~TheyCallM@ip72-207-167-97.lv.lv.cox.net) (Ping timeout: 272 seconds)
[18:51:37] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 240 seconds)
[18:52:31] *** Joins: rodo (~rodo@109.190.253.16)
[18:53:43] *** Quits: mattil_ (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi) (Ping timeout: 260 seconds)
[18:55:29] *** Quits: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de) (Remote host closed the connection)
[18:55:38] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[18:55:52] *** Joins: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi)
[18:55:55] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[18:57:48] *** Quits: hombre (~coinbird@62.159.119.178) (Ping timeout: 240 seconds)
[18:59:26] *** Quits: merzo (~Thunderbi@192.162.238.196) (Quit: merzo)
[19:00:31] *** Joins: ekathva__ (~ekathva@2001:999:409:7be:f8de:27d3:b79e:f051)
[19:00:55] *** Quits: m5zs7k (aquares@web10.mydevil.net) (Read error: Connection reset by peer)
[19:01:00] *** Joins: m5zs7k_ (~m5zs7k@web10.mydevil.net)
[19:01:15] *** Quits: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi) (Remote host closed the connection)
[19:01:34] *** m5zs7k_ is now known as m5zs7k
[19:01:42] *** Joins: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi)
[19:01:46] *** Joins: Merixer (~Merixer@46.252.5.32)
[19:01:47] *** Joins: on^ (~on@96-91-136-49-static.hfc.comcastbusiness.net)
[19:02:32] *** Quits: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi) (Remote host closed the connection)
[19:02:43] *** Joins: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi)
[19:03:03] *** Quits: ekathva_ (~ekathva@85-76-47-198-nat.elisa-mobile.fi) (Ping timeout: 260 seconds)
[19:03:11] *** Joins: hombre (~coinbird@217.91.86.109)
[19:04:52] *** Quits: kvn_ (~weechat@user/kvn) (Quit: WeeChat 3.1)
[19:07:38] *** Quits: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi) (Remote host closed the connection)
[19:08:04] *** Joins: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi)
[19:08:21] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[19:08:24] *** Quits: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi) (Remote host closed the connection)
[19:08:31] *** Joins: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi)
[19:08:37] *** Quits: bmomjian (~bruce@242.176.159.77.rev.sfr.net) (Quit: Leaving.)
[19:09:03] *** Quits: rodo (~rodo@109.190.253.16) (Ping timeout: 256 seconds)
[19:09:30] *** Joins: stark__ (~stark@192.222.248.88)
[19:11:21] *** Shells is now known as Michelle
[19:12:05] *** Joins: randir_ (~randir@212.237.210.82)
[19:12:51] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 252 seconds)
[19:14:39] *** Michelle is now known as Shells
[19:15:00] *** Shells is now known as Michelle
[19:15:17] *** Quits: randir (~randir@93.159.239.42) (Ping timeout: 256 seconds)
[19:18:48] *** Quits: mjf_ (~mjf@2001:1528:1:fffd:e179:37ec:4a3:e41b) (Read error: Connection reset by peer)
[19:19:10] *** Joins: mjf_ (~mjf@2001:1528:1:fffd:e179:37ec:4a3:e41b)
[19:19:12] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[19:21:34] *** Quits: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi) (Remote host closed the connection)
[19:22:00] *** Joins: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi)
[19:22:09] *** Quits: Klinda (~superleag@user/klinda) (Quit: Konversation terminated!)
[19:23:17] *** Quits: mjf_ (~mjf@2001:1528:1:fffd:e179:37ec:4a3:e41b) (Ping timeout: 252 seconds)
[19:23:25] *** Joins: mjf_ (~mjf@cst-prg-93-14.cust.vodafone.cz)
[19:24:26] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 272 seconds)
[19:26:23] *** Quits: mattil (~mattil@dy56mlldzmdq9wh7k2xfy-4.rev.dnainternet.fi) (Ping timeout: 256 seconds)
[19:26:35] <depesz> Myon: any reason why our pg14, for focal, is still built using llvm9 and not some newer one? default "llvm" package in focal seems to be llvm-10...
[19:27:41] *** Quits: waitman_ (znc@irc.y0m4m4.com) (Ping timeout: 268 seconds)
[19:28:14] <nickb> mage: there's even a startup that does exactly that for their test environment. You can also ask f3f3lix, I believe they have great experience with that :-)
[19:28:22] <depesz> i'm asking as there is a chance the llvm version is source of problem that I had earlier (https://www.postgresql.org/message-id/flat/20220303150428.GA26036%40depesz.com)
[19:33:27] <Zr40> depesz: if I'm reading https://packages.ubuntu.com/focal/postgresql-12 right it does depend on llvm10
[19:34:08] <depesz> but this is ubuntu package. i'm asking about pgdg
[19:35:02] <depesz> https://paste.depesz.com/s/ikN
[19:35:38] <mage> nickb: I'm currently using pgbackrest but I was wondering if I could replace it with zfs replication (and zrepl)
[19:35:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[19:36:26] <nickb> With some additional steps, yes
[19:36:41] <nickb> namely `pg_start_backup` and friends
[19:37:06] <mage> is pg_start_backup still required with ZFS?
[19:37:17] <mage> as snapshots are atomics
[19:38:03] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[19:38:10] <nickb> and you have both WAL and data on the same partition?
[19:38:49] <mage> yes
[19:39:13] <nickb> then you're probably good without it
[19:39:40] <nickb> I fail to come up with a failure scenario. The downside is, of course, that pg will go into recovery once started from a snapshot
[19:39:52] <mage> yes :)
[19:40:21] <Zr40> depesz: I suppose it has to do with https://salsa.debian.org/postgresql/postgresql/-/commit/a22317a8e9e71b143ea88c98c183df8a4b34e8ad
[19:41:20] <Zr40> perhaps the build system has multiple versions of llvm installed, including 9, and since 9 sorts last, that's the one selected by rules:25
[19:41:23] <mage> we finally have ZFS on all our servers and I'd like to replace everything that was non-ZFS dependent (Bacula, pgbackrest, etc) with zfs snapshots and send/recv (with zrepl)
[19:42:01] *** Joins: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com)
[19:42:36] <Zr40> nickb: it won't switch timelines that way
[19:43:04] <nickb> Yeah, but I'm not sure if that's required
[19:43:26] <Zr40> if you do replication or WAL archiving then it will save you a headache
[19:44:14] <depesz> Zr40: sort -V to the rescue ?
[19:44:19] <mage> maybe I should stick with pgbackrest then
[19:45:18] *** Joins: mattil (~mattil@helsinki.portalify.com)
[19:47:03] <Zr40> mage: I mean, I use snapshots like that just fine (on btrfs, that is), but only because they're all dev instances that surely aren't going to do replication or use an archive
[19:48:46] *** Joins: szymon (~ugh@185.242.6.204)
[19:49:31] *** Quits: szymon (~ugh@185.242.6.204) (Max SendQ exceeded)
[19:49:53] *** Joins: szymon (~ugh@185.242.6.204)
[19:50:03] *** Quits: szymon (~ugh@185.242.6.204) (Remote host closed the connection)
[19:50:24] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 272 seconds)
[19:52:57] <Myon> depesz, Zr40: will have to dig deeper before answering that, poke me if that doesn't happen over the next week
[19:55:21] *** Parts: gleu (~guillaume@91-169-9-236.subs.proxad.net) ()
[19:55:36] *** Joins: TheyCallMePaul (~TheyCallM@ip72-207-167-97.lv.lv.cox.net)
[20:00:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[20:01:52] *** Joins: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br)
[20:02:28] *** Quits: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com) (Remote host closed the connection)
[20:03:16] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[20:05:23] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[20:06:18] *** Joins: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com)
[20:09:03] *** Joins: kvn_ (~weechat@user/kvn)
[20:09:39] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[20:10:35] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[20:10:35] *** Joins: iliv (~iliv@user/iliv)
[20:13:02] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Remote host closed the connection)
[20:13:32] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[20:13:48] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[20:15:38] *** Joins: blaklistd0 (~blaklistd@user/blaklistd)
[20:16:11] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Ping timeout: 245 seconds)
[20:16:11] *** blaklistd0 is now known as blaklistd
[20:17:59] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[20:21:16] *** Joins: maret (~maret@195.12.158.102)
[20:22:22] *** Joins: TomTom (uid45892@id-45892.ilkley.irccloud.com)
[20:22:54] <depesz> Myon: ok, thanks. would appreciate ping if you did work on it :)
[20:23:03] <Myon> aye
[20:23:36] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Remote host closed the connection)
[20:23:43] <depesz> sweet. thanks a lot.
[20:25:00] *** Joins: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de)
[20:26:35] *** Joins: maciek__ (~maciek@2600:1700:a412:1c00:b744:c3cb:a3c1:a384)
[20:26:40] *** Quits: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com) (Remote host closed the connection)
[20:27:12] *** Joins: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com)
[20:28:05] *** Quits: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com) (Remote host closed the connection)
[20:28:58] *** Joins: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com)
[20:29:26] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[20:31:46] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Client Quit)
[20:32:00] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[20:32:07] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[20:32:43] *** Quits: gearnode1 (~gearnode@2a01cb0003a40300f22f74fffedefec1.ipv6.abo.wanadoo.fr) (Quit: WeeChat 3.4)
[20:34:17] *** Joins: dfee (~dfee@162-227-164-101.lightspeed.sntcca.sbcglobal.net)
[20:36:42] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb)
[20:36:50] <gambl0re> what does this error message mean?
[20:36:54] <gambl0re> pg_dump: error: query failed: ERROR:  permission denied for table test
[20:36:56] <gambl0re> pg_dump: error: query was: LOCK TABLE public.test IN ACCESS SHARE MODE
[20:36:58] <gambl0re> y
[20:37:15] <gambl0re> if I delete the public.test table, then pg_dump command works perfectly fine
[20:39:37] <Myon> that user likely didn't have select privs on that table either
[20:43:42] <ilmari> there is no explicit LOCK privilege, but I guess one implicitly has permission to lock the table in the same modes the actions one does have permission to perform would
[20:44:38] <gambl0re> its so weird. im creating a table like i normally would and it has always worked fine up until yesterday
[20:45:07] <gambl0re> https://media.discordapp.net/attachments/956834459456503838/956948419505717248/Screenshot_from_2022-03-25_12-10-56.png
[20:45:15] <gambl0re> i cant even view the table properties in pgadmin
[20:45:20] <gambl0re> or run a simple select query
[20:45:27] <ilmari> did you change the default permissions on public? did you create the table as a role that has the relevant default permission?
[20:45:40] <gambl0re> https://media.discordapp.net/attachments/956834459456503838/956948608542998638/Screenshot_from_2022-03-25_12-11-57.png
[20:46:29] <gambl0re> i dont think so. i create the table using the gui using the supabase dashboard and it has always worked fine
[20:46:54] *** Quits: xinming (~xinming@115.221.8.91) (Ping timeout: 252 seconds)
[20:46:55] <gambl0re> if i delete the test table then everything works fine as normal
[20:47:15] <gambl0re> its only when i try creating a new table i dont have access to it for some reason
[20:47:36] <Myon> right, can't make a dump of that
[20:47:37] <ilmari> which role are you creating the table as, which role are you viewing it as, and what does `\dt public.test`,  `\z public.test` and `\ddp` in psql show?
[20:47:45] *** Joins: xinming (~xinming@115.221.8.91)
[20:48:24] <gambl0re> let me check. one sec
[20:48:35] <ilmari> also `\dg`
[20:50:06] <gambl0re> ok \dt public.test returns Owner=supabas_admin
[20:50:10] *** Quits: trafficjam (~qubes@119-12-218-129.dynamic.ipstaraus.com) (Read error: Connection reset by peer)
[20:50:14] <gambl0re> im pretty sure Owner should be postgres
[20:50:37] *** Quits: hombre (~coinbird@217.91.86.109) (Ping timeout: 240 seconds)
[20:50:39] <gambl0re> yea all my other tables have postgres as the Owner
[20:51:32] *** Quits: nikow (~nikow@99.ip-217-182-76.eu) (Remote host closed the connection)
[20:51:48] *** Joins: nikow (~nikow@99.ip-217-182-76.eu)
[20:54:00] *** Joins: rodo (~rodo@109.190.253.16)
[20:54:13] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[20:54:44] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[20:54:50] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[20:55:27] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[20:56:14] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[20:56:19] *** Joins: hombre (~coinbird@87.130.3.226)
[20:56:27] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[20:56:41] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[20:57:33] <ilmari> unless altered later, the owner is the role that created the table
[20:57:37] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Client Quit)
[20:57:53] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[20:58:19] <ilmari> it is generally good to have a non-superuesr DBA role for routine DDL tasks, so that role should have the appropriate default privileges (or you can run the appropriate GRANT command after CREAT TABLE)
[20:58:27] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Client Quit)
[20:58:48] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[20:59:20] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Client Quit)
[20:59:30] *** Quits: ansa (as@salmela.fi) (Remote host closed the connection)
[21:00:00] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[21:00:13] *** Joins: ansa (as@salmela.fi)
[21:00:23] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[21:00:53] *** Joins: econo (uid147250@user/econo)
[21:01:49] *** Quits: ghoti (~paul@198.23.196.224) (Ping timeout: 256 seconds)
[21:01:56] *** Joins: trafficjam (~qubes@119-12-218-129.dynamic.ipstaraus.com)
[21:02:40] *** Joins: ghoti (~paul@198.23.196.224)
[21:02:51] *** Quits: rodo (~rodo@109.190.253.16) (Ping timeout: 252 seconds)
[21:03:57] *** Quits: hombre (~coinbird@87.130.3.226) (Ping timeout: 252 seconds)
[21:04:47] *** Joins: hombre (~coinbird@87.130.3.226)
[21:07:14] *** Quits: mthall (~quassel@mail.thalliman.com) (Ping timeout: 252 seconds)
[21:07:28] *** Joins: mthall (~quassel@mail.thalliman.com)
[21:08:38] *** mbanck is now known as azeem
[21:10:06] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[21:10:34] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[21:10:52] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[21:12:25] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[21:12:26] *** Quits: trafficjam (~qubes@119-12-218-129.dynamic.ipstaraus.com) (Read error: Connection reset by peer)
[21:14:31] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 245 seconds)
[21:14:56] *** Quits: shka (~herr@109.231.3.55) (Read error: Connection reset by peer)
[21:15:17] *** Joins: shka (~herr@109.231.3.55)
[21:16:37] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[21:16:42] *** Quits: RangeRick (~quassel@99-69-21-21.lightspeed.rlghnc.sbcglobal.net) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[21:16:48] *** Joins: masber (~masber@213.55.224.91)
[21:16:49] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[21:20:24] *** Joins: bingulo (~carlos@2804:39b0:1d4:8000::50c)
[21:20:34] *** Joins: RangerRick (~quassel@99-69-21-21.lightspeed.rlghnc.sbcglobal.net)
[21:21:27] *** Quits: Rashad (~textual@2a01:9700:1290:7400:5c48:d281:c915:ff70) (Read error: Connection reset by peer)
[21:25:00] *** Joins: Rashad (~textual@2a01:9700:1290:7400:5c48:d281:c915:ff70)
[21:26:03] *** Joins: funhouse (~funhouse@user/funhouse)
[21:33:29] *** Joins: deostroll (uid459168@id-459168.ilkley.irccloud.com)
[21:34:02] *** Quits: masber (~masber@213.55.224.91) (Quit: Client closed)
[21:34:12] *** Quits: AceSlash (~slash@2a01:e0a:432:c050:cd12:393c:3664:2a6e) (Ping timeout: 252 seconds)
[21:34:13] *** Quits: zaher (~zaher@37.48.177.49) (Read error: Connection reset by peer)
[21:36:53] *** Joins: Asgaroth (~Asgaroth@93.107.191.92)
[21:36:55] <deostroll> Hello. I installed postgresql on centos from source. So the server is up and running fine. But then I realized that I don't have uuid-ossp stuff installed...is my only option to do completely re-install postgresql from scratch?
[21:37:22] <deostroll> *complete
[21:37:59] *** Joins: masber (~masber@213.55.224.91)
[21:38:05] *** Joins: ekathva_ (~ekathva@mobile-access-5672c1-60.dhcp.inet.fi)
[21:40:54] *** Quits: ekathva__ (~ekathva@2001:999:409:7be:f8de:27d3:b79e:f051) (Ping timeout: 260 seconds)
[21:48:35] *** Quits: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com) (Remote host closed the connection)
[21:49:00] *** Quits: mjf_ (~mjf@cst-prg-93-14.cust.vodafone.cz) (Ping timeout: 240 seconds)
[21:49:11] *** Quits: held (~heldchen@user/held) (Ping timeout: 256 seconds)
[21:49:15] *** Joins: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com)
[21:49:20] *** Joins: Klinda (~superleag@user/klinda)
[21:49:42] *** Joins: mjf_ (~mjf@78.110.216.80)
[21:53:43] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[21:54:19] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[21:56:13] *** Quits: mjf_ (~mjf@78.110.216.80) (Ping timeout: 256 seconds)
[21:58:43] *** Joins: gp5st_ (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net)
[22:00:14] *** Joins: krux02 (~krux02@p200301003f0391005e484991a87bad38.dip0.t-ipconnect.de)
[22:02:43] *** Joins: held (~heldchen@user/held)
[22:06:42] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[22:09:15] *** Quits: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de) (Ping timeout: 256 seconds)
[22:12:20] *** Quits: ben_ (~ben@host86-151-198-158.range86-151.btcentralplus.com) (Remote host closed the connection)
[22:14:18] *** Quits: randir_ (~randir@212.237.210.82) (Remote host closed the connection)
[22:15:41] *** Quits: bindu (~bindu@user/bindu) (Remote host closed the connection)
[22:15:57] *** Joins: bindu (~bindu@user/bindu)
[22:17:50] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[22:18:20] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[22:18:57] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Client Quit)
[22:19:12] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[22:21:41] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[22:22:44] *** Joins: mjf_ (~mjf@78.110.216.80)
[22:23:13] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[22:23:15] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[22:23:39] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[22:25:29] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Client Quit)
[22:25:46] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[22:27:24] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 240 seconds)
[22:27:57] *** Quits: Reiner_Unsinn (~quassel@p5dd47daa.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[22:29:08] *** Quits: jnnnnnnnnn_ (~jnnnnnnnn@65.99.151.178) (Remote host closed the connection)
[22:29:53] *** Joins: jnnnnnnnnn (~jnnnnnnnn@65.99.151.178)
[22:30:09] *** Joins: heldchen (~heldchen@user/held)
[22:33:48] *** Quits: held (~heldchen@user/held) (Ping timeout: 240 seconds)
[22:38:03] <RonWhoCares> Hey all
[22:38:15] *** Quits: lkw (~lkw@user/lkw) (Read error: Connection reset by peer)
[22:41:11] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[22:41:46] <johto> yo
[22:45:36] *** Joins: concrete-houses (~g@209.6.150.53)
[22:46:13] <concrete-houses> When I look at a list of queries, they have all these variables in them....   how can I find the query that ran with the parameters set? so i can rerun and debug?
[22:47:52] *** Joins: randir (~randir@212.237.210.82)
[22:48:49] *** Quits: dennisschagt (~quassel@user/dennisschagt) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[22:49:31] *** Joins: dennisschagt (~quassel@user/dennisschagt)
[22:53:44] *** Quits: masber (~masber@213.55.224.91) (Quit: Client closed)
[22:53:49] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 240 seconds)
[22:55:23] *** Quits: quintasan (~quassel@quintasan.pl) ()
[22:55:55] *** Joins: quintasan (~quassel@quintasan.pl)
[22:56:54] *** Joins: lkw (~lkw@user/lkw)
[22:59:40] *** Quits: the_lanetly_052 (~the_lanet@194.135.168.157) (Ping timeout: 260 seconds)
[22:59:41] *** Joins: austb (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[22:59:43] *** Quits: jnnnnnnnnn (~jnnnnnnnn@65.99.151.178) (Remote host closed the connection)
[23:01:22] *** Joins: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se)
[23:02:04] *** Quits: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se) (Remote host closed the connection)
[23:03:23] *** Joins: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se)
[23:05:20] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[23:08:53] *** bluejaypop9 is now known as bluejaypop
[23:09:01] *** Quits: bluejaypop (~7f000001@72.52.80.246) (Changing host)
[23:09:01] *** Joins: bluejaypop (~7f000001@user/josefig)
[23:17:37] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[23:18:04] *** Joins: ur5us (~ur5us@2406:e002:689a:b901:920f:b571:c0ce:1fdb)
[23:21:01] *** Quits: concrete-houses (~g@209.6.150.53) (Ping timeout: 240 seconds)
[23:21:36] *** Quits: justOkay (~justache@user/justache) (Read error: Connection reset by peer)
[23:22:46] *** Joins: justOkay (~justache@user/justache)
[23:28:33] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[23:30:12] *** Quits: darutoko (~darutoko@37.21.244.242) (Quit: Leaving)
[23:32:06] *** Quits: ekathva_ (~ekathva@mobile-access-5672c1-60.dhcp.inet.fi) (Read error: Connection reset by peer)
[23:33:29] *** Joins: ekathva_ (~ekathva@2001:999:409:7be:f8de:27d3:b79e:f051)
[23:35:08] *** Quits: ekathva_ (~ekathva@2001:999:409:7be:f8de:27d3:b79e:f051) (Client Quit)
[23:35:39] *** Quits: jconway (~jconway@072-017-018-098.res.spectrum.com) (Quit: Leaving)
[23:38:29] *** Joins: jazzy (~jaziz@user/jaziz)
[23:41:14] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[23:42:19] *** Joins: AceSlash (~slash@2a01:e0a:432:c050:9d09:a5c9:b44:a9b6)
[23:43:28] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 272 seconds)
[23:43:46] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[23:50:26] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 272 seconds)
[23:50:48] *** Joins: asymmentric (~asymmentr@223.189.119.100)
[23:53:44] *** Quits: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net) (Read error: Connection reset by peer)
[23:55:21] *** Joins: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net)
