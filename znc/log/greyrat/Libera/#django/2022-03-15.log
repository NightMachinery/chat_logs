[00:00:33] *** Joins: gregorjerse (~gregorjer@89-212-56-151.static.t-2.net)
[00:00:36] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[00:02:44] *** Joins: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04)
[00:03:56] *** Quits: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04) (Client Quit)
[00:09:04] *** Joins: Kalov (~Thunderbi@181.226.96.240)
[00:12:19] *** Joins: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04)
[00:17:18] *** Quits: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:22:01] *** Joins: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04)
[00:38:17] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[00:38:55] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[00:47:49] *** Quits: Ilyu (~quassel@166.215.82.79.rev.sfr.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[00:48:05] *** Quits: dre (~dre@2001:8003:c932:c301:efa8:3ab4:6d9d:737a) (Quit: Leaving)
[00:48:12] *** Joins: x_kuru_ (~xkuru@user/xkuru)
[00:50:25] *** Quits: GinFuyou (~GinFuyou@reya.cloud.tilaa.com) (Remote host closed the connection)
[00:50:42] *** Joins: GinFuyou (~GinFuyou@reya.cloud.tilaa.com)
[00:51:27] *** Quits: x_kuru (xkuru@user/xkuru) (Ping timeout: 250 seconds)
[00:51:55] *** Quits: gregorjerse (~gregorjer@89-212-56-151.static.t-2.net) (Ping timeout: 256 seconds)
[00:56:38] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[00:57:02] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[00:59:41] *** Quits: Diplomat (~Jaan@85.253.87.254.cable.starman.ee) (Quit: Leaving)
[01:00:22] *** Quits: admin123 (~harrymore@ool-2f12f5b1.dyn.optonline.net) (Ping timeout: 250 seconds)
[01:01:24] *** Quits: ekathva_ (~ekathva@n16izluvk39q3lx3y-1.v6.elisa-mobile.fi) (Remote host closed the connection)
[01:01:42] *** Joins: ekathva_ (~ekathva@n16j0a7g3xklok7dy-1.v6.elisa-mobile.fi)
[01:14:50] *** Quits: lucascastro (~lucascast@192-140-51-239.static.oncabo.net.br) (Read error: Connection reset by peer)
[01:15:26] *** Joins: bitdex (~bitdex@gateway/tor-sasl/bitdex)
[01:16:04] *** Joins: lucascastro (~lucascast@192-140-51-239.static.oncabo.net.br)
[01:18:46] *** Joins: lucas_ (~lucascast@192-140-51-239.static.oncabo.net.br)
[01:20:28] *** Quits: rje (~textual@65.141.156.170) (Remote host closed the connection)
[01:20:58] *** Joins: rje (~textual@65.141.156.170)
[01:21:36] *** Quits: lucascastro (~lucascast@192-140-51-239.static.oncabo.net.br) (Ping timeout: 245 seconds)
[01:25:42] *** Quits: rje (~textual@65.141.156.170) (Ping timeout: 252 seconds)
[01:29:32] *** Quits: tonitch (~tonitch@user/tonitch) (Ping timeout: 252 seconds)
[01:37:22] *** Joins: admin123 (~harrymore@37.120.216.194)
[01:39:59] *** Joins: tonitch (~tonitch@user/tonitch)
[01:40:14] *** Joins: ivii (~ivan@user/ivii)
[01:40:38] <ivii> Can anyone help with filtering? It just won't work?
[01:41:45] <ivii> https://0bin.net/paste/iE9SgOj2#IXuZ9UPwYkjwCeqLFAvMEG7D3uXWo0kSb8Y2nf00pIm
[01:43:12] <FunkyBob> ivii: please don't cross post
[01:43:32] <FunkyBob> this appears to be ... a DRF specific question, yes?
[01:45:47] <ivii> I guess so
[01:45:57] <ivii> Is it possible to filter without DRF?
[01:46:02] <FunkyBob> of course
[01:47:21] <ivii> This is my model class https://0bin.net/paste/M01IpUOv#rS2V4BHOoZ5eCshyRf9KR2zshEEtRFECGHrrSmjC0OV
[01:47:46] *** Joins: rje (~textual@50.35.241.164)
[01:47:49] *** Joins: cliluw (~cliluw@47.147.77.43)
[01:48:04] <FunkyBob> wow, that pastebin makes some bullshit claims...
[01:49:14] <FunkyBob> ivii: that's... not a model class... that's a model viewset
[01:49:34] *** Quits: ekathva_ (~ekathva@n16j0a7g3xklok7dy-1.v6.elisa-mobile.fi) (Quit: Leaving)
[01:50:52] <ivii> oops yes, ModelViewSet and it was for wrong model https://0bin.net/paste/ptugv0rQ#p0DOUdx98TrU5V9IbG1ti1CQnHwgdvuW6OdF6BNEd+k
[01:51:04] <FunkyBob> please stop using that pastebin
[01:51:05] <ivii> Do I make filtering there?
[01:51:13] <ivii> what's wrong with it
[01:51:51] <FunkyBob> they say they can't know what you paste... but me, without any key exchange, can know what you paste... so, so can they.
[01:52:02] <FunkyBob> also, they're promoting bitcoin... I wouldn't want to give them the impression I'm ok with that.
[01:52:30] <ivii> Some channels don't allow pastebin because of the ads
[01:52:41] <FunkyBob> perhaps read the topic?
[01:52:51] <FunkyBob> dpaste.org is the preferred solution here
[01:53:05] <FunkyBob> (yes, pastebin.com is bad for several reasons, ads being ine)
[01:53:07] <FunkyBob> one
[01:53:10] <ivii> oops
[01:53:11] <ivii> https://dpaste.org/wdiR
[01:53:38] <FunkyBob> so, yes, in your view is typically where you'd apply filtering
[01:53:49] <ivii> 'Request' object has no attribute 'serial_number'
[01:54:01] <ivii> on http://localhost:8000/api/meter/?serial_number=test
[01:54:04] <FunkyBob> correct
[01:54:17] <FunkyBob> if you want values from the querystring, you need to look in request.GET
[01:54:19] *** Quits: Fifan (~Fifan@188.243.183.56) (Read error: Connection reset by peer)
[01:55:01] <FunkyBob> (this is mentioned in passing in the tutorial)
[01:59:16] <ivii> THANKS!
[01:59:30] <ivii> queryset.filter(serial_number__icontains=self.request.GET.get("serial_number"))
[02:06:00] <FunkyBob> right
[02:08:28] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:11:37] <ivii> Now I need to create json response like this https://dpaste.org/BOG3
[02:12:00] <ivii> currently it repeats meter objects..
[02:12:36] <FunkyBob> am guessing 'readings' is a related model?
[02:12:39] *** Quits: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:12:46] <FunkyBob> did you end up pasting your model(s) anywhere?
[02:14:56] <ivii> relevant models https://dpaste.org/RUiM
[02:16:18] <FunkyBob> surely when listing the readings you'd want the read_at value?
[02:16:29] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:16:55] <FunkyBob> creating a one-off view to produce that output isn't too onerous... the value of tools like DRF is to factor our the common work and drudgery
[02:17:07] <ivii> of course, but I can easily add it if I find out how to do value and unit
[02:17:10] <ivii> :D
[02:17:18] *** Joins: wakibi (~wakibi@hd3d.n1.ips.mtn.co.ug)
[02:21:29] <FunkyBob> https://dpaste.com/6KU3Z9KU3
[02:21:31] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[02:21:36] <FunkyBob> I _think_ this will do the job
[02:22:01] <FunkyBob> I know I've left out a lot of imports... please ask questions about anything you're unsure of
[02:22:04] <FunkyBob> anything at all
[02:23:57] *** Quits: x_kuru_ (~xkuru@user/xkuru) (Read error: Connection reset by peer)
[02:24:00] <FunkyBob> note that my view takes the serial number from the url, not from the querystring as you had it
[02:24:42] *** Joins: Matthias1 (~Matthias1@2a09:bac0:14::806:9074)
[02:25:35] <FunkyBob> ivii: ?
[02:29:12] *** Quits: Matthias1 (~Matthias1@2a09:bac0:14::806:9074) (Ping timeout: 250 seconds)
[02:29:19] <ivii> I'll try now
[02:30:00] <ivii> Does this go to to new ListView?
[02:31:18] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:32:52] *** Quits: Kalov (~Thunderbi@181.226.96.240) (Quit: Kalov)
[02:34:14] *** Joins: yanchai (~yanchai@115.147.34.99)
[02:34:32] *** Quits: slav0nic (slav0nic@python.su) (Ping timeout: 268 seconds)
[02:37:37] *** Quits: lxer (~lx@ip5f5bd6f8.dynamic.kabel-deutschland.de) (Ping timeout: 240 seconds)
[02:39:36] <FunkyBob> ivii: sorry, does it what?
[02:40:19] <FunkyBob> it's a regular django view... wire it directly into your URLs
[02:45:37] <ivii> router.register("meter_reading", meter_readings)
[02:46:05] <ivii> `basename` argument not specified, and could not automatically determine the name from the viewset, as it does not have a `.queryset` attribute.
[02:46:28] <ivii> gets detected as viewset?
[02:47:50] <FunkyBob> err.. not sure abou tt his router.register thing
[02:48:03] <FunkyBob> I don't use DRF...
[02:48:12] <ivii> I guess that is only for viewsets then
[02:48:21] <FunkyBob> the view I provided is for nativ django
[02:48:36] <FunkyBob> just map a url to it the normal django way
[02:50:45] <ivii>     path("api/meter_reading", include(meter_readings)),
[02:51:43] <ivii> The included URLconf '<function meter_readings at 0x7faf01745e50>' does not appear to have any patterns in it. If you see valid patterns in the file then the issue is probably caused by a circular import.
[02:53:36] <FunkyBob> it's not include()
[02:53:46] <FunkyBob> have you not done the stock django tutorial?
[02:54:06] <FunkyBob> just path(pattern, view)
[02:54:53] *** Quits: wakibi (~wakibi@hd3d.n1.ips.mtn.co.ug) (Ping timeout: 256 seconds)
[02:55:12] <FunkyBob> include() is for including a nested list of url patterns
[02:56:43] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[02:57:07] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[02:58:08] <ivii> https://i.imgur.com/rTekShz.png
[02:58:15] <ivii> FunkyBob:
[02:59:06] <FunkyBob> since you've included the prefix, it's api/api/meter_reading ... and that should include the serial_number pattern match
[02:59:41] <FunkyBob> so ... path('meter_reading/<serial_number>/', ....
[02:59:41] <ivii> no I tried without too before
[02:59:54] <FunkyBob> and it needs to be BEFORE all thes ones injected by your DRF stuff
[03:01:31] <FunkyBob> though it doesn't match any of the patterns there, so it should be ok at the end
[03:03:42] <FunkyBob> ivii: any progress?
[03:04:57] <ivii> still same error
[03:05:12] <FunkyBob> can you please dpaste your urls.py and the traceback?
[03:06:54] *** Quits: yanchai (~yanchai@115.147.34.99) (Ping timeout: 252 seconds)
[03:08:33] *** Joins: dkliban (~dkliban@2600:6c5e:467f:ab80:2431:f943:1dd0:3661)
[03:09:41] *** Quits: mattfoxxx (~mattfoxxx@200116b822fc9a00c05b4fdabbc92166.dip.versatel-1u1.de) (Quit: WeeChat 3.4)
[03:09:57] <ivii> what about this example? https://betterprogramming.pub/django-select-related-and-prefetch-related-f23043fd635d
[03:09:59] <ivii> on the bottom
[03:10:41] <ivii> https://dpaste.org/ndAg
[03:11:08] <FunkyBob> ... are you seriously googling about for examples, instead of reading the django docs?
[03:11:53] *** Joins: ianthrive (~ianthrive@166.70.191.9)
[03:11:54] <FunkyBob> so, with those URLs, if you go to /api/meter_reading/serial-number-here/  ... it gives a 404?
[03:11:55] *** Quits: ianthrive (~ianthrive@166.70.191.9) (Client Quit)
[03:12:01] <ivii> well.. I find it easier to learn from examples
[03:12:09] <FunkyBob> plenty of exampls in the django docs
[03:12:34] <FunkyBob> also, when I said if you have questions or are unsure, ask me... I meant... ask me.
[03:12:45] *** Joins: ianthrive (~ianthrive@166.70.191.9)
[03:14:35] <FunkyBob> I have links to the docs for most of the things I used already, because I checked them before pasting
[03:15:25] <ivii> keys must be str, int, float, bool or None, not Meter
[03:15:31] <ivii> http://localhost:8000/api/meter_reading/foo/
[03:15:39] <FunkyBob> please re-read the topic
[03:16:06] <FunkyBob> put str: before serial_number in the url pattern
[03:16:13] <FunkyBob> I never did adjust to this new format :/
[03:16:53] <FunkyBob> ivii: I can't debug an error I can't see
[03:18:47] <ivii> I was putting wrong serial number before sorry
[03:22:50] <FunkyBob> so you're getting a response now?
[03:24:15] <ivii> This didn't work     path("api/meter_reading/<str:serial_number>/", meter_readings),
[03:25:37] *** Quits: admin123 (~harrymore@37.120.216.194) (Ping timeout: 240 seconds)
[03:25:49] <FunkyBob> "didn't work" doesn't help
[03:25:56] <FunkyBob> in what way did it "didn't work"?
[03:26:32] <ivii> I foudn the problem
[03:26:51] <ivii> in meter readings data: { meter: { ...
[03:26:57] <ivii> meter needs to be "meter"
[03:27:10] <FunkyBob> surely that would raise a syntax error?
[03:27:22] <FunkyBob> (yes, my fault... I spend too much time at $DAYJOB writing Javascript
[03:27:23] <FunkyBob> )
[03:27:58] <ivii> Thank you for the help!!!
[03:28:13] <FunkyBob> so the result is what you wanted?
[03:28:19] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 256 seconds)
[03:28:22] *** Quits: dkliban (~dkliban@2600:6c5e:467f:ab80:2431:f943:1dd0:3661) (Remote host closed the connection)
[03:28:47] *** Joins: dkliban (~dkliban@2600:6c5e:467f:ab80:2431:f943:1dd0:3661)
[03:29:04] *** Joins: Matthias1 (~Matthias1@8.6.144.116)
[03:29:35] <ivii> Yes
[03:29:40] <ivii> <3
[03:29:54] <ivii> I find FastAPI much easier :)
[03:30:36] <FunkyBob> no doubt
[03:30:49] <FunkyBob> I was going to suggest that before since it looked like  you were _solely_ after an API
[03:32:54] <FunkyBob> I mean, using DRF this might seem more intuitive... not sure... I've my own API tools for django
[03:35:08] <FunkyBob> however, whichever path you took... putting the meter serial number in the URL isthe more "restful" pattern, IMHO
[03:36:35] *** Quits: dkliban (~dkliban@2600:6c5e:467f:ab80:2431:f943:1dd0:3661) (Ping timeout: 252 seconds)
[03:43:33] <ivii> Thanks, I agree, but in the end I just wanted anything that works
[03:49:19] *** Joins: dkliban (~dkliban@2600:6c5e:467f:ab80:2431:f943:1dd0:3661)
[04:04:38] *** Joins: zBeeble42 (~zBeeble@2001:1928:1::35)
[04:06:42] *** Joins: shangxiao (~davids@101.165.217.11)
[04:07:02] *** Quits: zBeeble (~zBeeble@2001:1928:1::35) (Ping timeout: 240 seconds)
[04:07:02] *** Quits: mattcen (~mattcen@2001:470:69fc:105::936) (Ping timeout: 240 seconds)
[04:13:07] *** Joins: Kalov (~Thunderbi@181.226.96.240)
[04:20:40] *** Joins: explore (uid233125@id-233125.hampstead.irccloud.com)
[04:21:59] <jim> FunkyBob, hi. got a few minutes?
[04:21:59] *** Joins: mattcen (~mattcen@2001:470:69fc:105::936)
[04:26:40] <jim> here's the thing... I validated the web page, and I validated what was the base.html (but rendered), and it told me it found a </p> with no <p> before it... and, when I looked and tried to deal with the page in various ways, I couldn't find a problem, it looked to me like the p tags were balanced, and it looked like there was only one
[04:29:24] <jim> so I'm looking for a few more ways to do it... I was thinking about putting the page into something like beautiful soup or other python html parser, and have it tell me where the opening tag could go
[04:33:37] <FunkyBob> likely the <p> was surrounding something that can't be a child of a <p> so the <p> was auto-closed
[04:34:17] <FunkyBob> meanwhile... the idea that pressing a <button type="submit"> that's a descendant of a <form> ... and have the page _not_ submit... is bizarre
[04:34:30] <FunkyBob> almost requiring some Javascript involvement
[04:34:33] <FunkyBob> OR... perhaps
[04:34:49] <FunkyBob> crispy forms is using HTML5 input types, and marking required and other validation attributes
[04:34:54] <FunkyBob> and it's the browser blocking the submit
[04:35:05] <FunkyBob> but then... the browser would show validation warnings when you pressed the button
[04:35:09] <FunkyBob> and you've not mentioned anything like taht
[04:37:57] *** Parts: ambasta (~ambasta@2001:470:69fc:105::1:3973) ()
[04:39:00] <wez> CSP and CORS could stop stuff like that too
[04:39:46] <FunkyBob> wez: they'd stop the submit button even trying to submit?
[04:40:34] <FunkyBob> wez: we tried some debugging, and I asked jim to watch the Network inspector to see if the POST was sent
[04:40:37] <FunkyBob> apparently it was not
[04:40:51] <wez> No, not stop the button press. CSP would stop JS scripts from loading (or iframes). CORS would stop the XHR that occurred after the button press.
[04:40:55] <jim> fell asleep in chair...
[04:41:13] <FunkyBob> wez: yah... AFAI there's no JS, and thus no XHR
[04:41:15] <wez> jim: aawwww, grab a coffee mate, this may take a while :)
[04:41:25] <wez> FunkyBob: OK great :)
[04:41:39] <jim> coffee mate, that's creamer
[04:41:49] * FunkyBob hands wez a spare comma
[04:41:59] <jim> hi wez and FunkyBob
[04:42:09] <FunkyBob> jim: can  you dpaste the rendered page content so we can review it, please?
[04:42:20] * wez hands FunkyBob some fullstops.
[04:42:43] * FunkyBob shakes loose some interrobangs
[04:42:52] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[04:42:56] <jim> maybe I do need coffee :)
[04:43:02] <wez> haha
[04:43:17] * FunkyBob rests his elbow on a pilcrow
[04:44:08] <jim> one more offtopic q... curious, what made you decide to be funky?
[04:44:18] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[04:44:41] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[04:44:53] <jim> I know a FunkyRob, he plays keys
[04:44:56] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[04:47:10] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[04:48:26] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[04:52:48] <jim> you want the page source of an unbound form?
[04:56:17] *** Joins: audio (~audio@user/audio)
[04:56:49] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[04:57:16] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[04:58:20] <jim> here's an unbound form: https://termbin.com/fekw
[04:58:37] <jim> and I have to look at the view func
[04:58:42] <FunkyBob> this name used  to be the title of a song a friend's band did
[04:58:55] <FunkyBob> look at the view func for what?
[04:59:31] <jim> some instrumentation I put in broke, just take a sec
[04:59:47] <FunkyBob> I was right.. you can't wrap a <p> around a <ul> ... that's why you get the validation error
[05:00:03] <jim> ohhhh
[05:00:23] <FunkyBob> the <ul> then implicitly closes the <p>
[05:00:48] *** Joins: admin123 (~harrymore@ool-2f12f5b1.dyn.optonline.net)
[05:00:58] <jim> so you can't say <p> <ul> ... </ul> </p>
[05:01:09] <jim> that's why
[05:01:30] <jim> we need to tell schafer
[05:02:11] <FunkyBob> so when you're testing, are you putting values into the 3 fields?
[05:02:51] *** Joins: PantelicGR (~PantelicG@user/pantelicgr)
[05:02:55] <jim> well the last commit where I change the variable names must have broke it
[05:03:23] <jim> it's supposed to tell you the form.is_ valid() value
[05:05:13] *** Quits: admin123 (~harrymore@ool-2f12f5b1.dyn.optonline.net) (Ping timeout: 256 seconds)
[05:05:37] <FunkyBob> given it was supposed to be a GET request... it should NOT have called is_valid
[05:11:45] *** Quits: PantelicGR (~PantelicG@user/pantelicgr) (Quit: Leaving)
[05:12:19] *** Quits: jim (~jim@about/linux/staff/jim) (Ping timeout: 250 seconds)
[05:12:46] *** Quits: wez (~wez@about/web/wez) (Ping timeout: 260 seconds)
[05:13:34] *** Joins: wez (~wez@about/web/wez)
[05:13:42] *** Quits: jcass (~cindy@50-0-146-207.dsl.dynamic.fusionbroadband.com) (Ping timeout: 260 seconds)
[05:15:46] *** Quits: fleabag (~sirpengi@li587-65.members.linode.com) (Ping timeout: 245 seconds)
[05:15:47] *** Joins: jim (~jim@about/linux/staff/jim)
[05:16:06] <jim> am I back?
[05:16:34] <FunkyBob> yes
[05:16:40] <jim> I think I fixed the instrumentation
[05:16:45] <FunkyBob> ok
[05:16:57] <FunkyBob> did you see my point that is_valid shouldn't be called when it's a GET request
[05:17:04] <FunkyBob> which is what I wanted the html from
[05:19:14] <jim> ok, because you don't want it to call is_valid()
[05:19:24] <FunkyBob> no, because it's a GET
[05:19:29] <FunkyBob> it has no business calling is_valid
[05:19:41] <FunkyBob> the view code is wrong if it does that
[05:19:53] <jim> ok, let me adjust that
[05:22:01] <FunkyBob> meanwhile... you didn't answer my question before
[05:23:40] <FunkyBob> and this is why it's taking a week to debug this
[05:24:14] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[05:24:39] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[05:24:42] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[05:26:07] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[05:30:12] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 240 seconds)
[05:32:38] <jim> yeah, looks like I had more to fix... sorry about that...
[05:32:43] <jim> trying to hurry
[05:38:27] *** Joins: yanchai (~yanchai@124.6.141.226)
[05:41:09] <jim> how do you say {% if ! bool %}
[05:41:21] <FunkyBob> if not
[05:41:31] <jim> ok thanks
[05:41:50] *** Quits: dez (uid92154@user/dez) (Quit: Connection closed for inactivity)
[05:45:15] *** Quits: dkliban (~dkliban@2600:6c5e:467f:ab80:2431:f943:1dd0:3661) (Ping timeout: 250 seconds)
[05:49:11] <jim> here it is: https://termbin.com/gnea
[05:50:11] <FunkyBob> ok, doesn't look to have changed
[05:50:15] <FunkyBob> now back to my last question
[05:50:18] <FunkyBob> when you're testing it
[05:50:24] <FunkyBob> describe your process, step by step
[05:50:37] <jim> ok
[05:53:04] <FunkyBob> ...?
[05:53:06] <jim> I'm first getting it to produce unbound form, then put in valid values for the form (this is all using UserCreationForm, the one that comes with django), and hit submit, look at the page I get which lists a couple variables, was it a successful POST
[05:53:44] <jim> then I try various combinations of bad form values, and submit those
[05:54:15] <jim> then I usually repeat that whole proces for the subclass form
[05:56:00] <FunkyBob> so... it _is_ submitting?
[05:57:28] <jim> in the case of the non-subclass, yes
[05:59:04] <FunkyBob> gah
[05:59:14] <FunkyBob> so all this time I've been trying to help you debug why it won't submit
[05:59:22] <FunkyBob> and you didn't mention you were working on a code path that DOES submit
[05:59:47] <jim> in the case of the -non- subclass, yes.
[06:00:03] <jim> I'll use the subclass now
[06:01:27] <FunkyBob> i don't think I have the energy left to deal with you
[06:05:43] <jim> sorry you feel that way
[06:06:50] <FunkyBob> it's hard to keep you focused, you don't answer questions, and you keep making lots of changes ... which is antithetical to debugging
[06:07:18] <jim> thanks for the feedback
[06:07:32] <FunkyBob> I'd love to help you solve this... but you make it such a chore.
[06:10:57] *** Quits: yanchai (~yanchai@124.6.141.226) (Ping timeout: 256 seconds)
[06:11:34] <FunkyBob> jim: for your next step I'd recommend stripping this down to a minimum. the basic form view from the docs, a minimalist template
[06:11:40] <FunkyBob> no crispy forms guff
[06:11:45] <FunkyBob> and go from there
[06:12:14] <jim> ok
[06:12:29] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[06:12:38] <jim> is crispy something that's not recommended?
[06:12:46] <FunkyBob> I've never had a need for it
[06:12:54] <FunkyBob> in... about 15 years of using django
[06:16:30] <FunkyBob> most common answer I get for why people use it is it comes with Bootstrap theme by default
[06:16:58] <jim> do you use bootstrap?
[06:17:06] <FunkyBob> only when a client requests it
[06:17:31] <jim> so, "sometimes"?
[06:17:41] <FunkyBob> rarely
[06:18:08] <jim> not many clients request it?
[06:19:09] *** Joins: schinckel (uid38120@user/schinckel)
[06:21:15] <jim> appreciate the tips... you seem like someone who wants/likes to help
[06:22:01] <FunkyBob> i find I can learn a lot fro mhelping
[06:22:20] <jim> the biggest thing, you said yesterday, about validating the html
[06:23:02] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[06:37:35] *** Quits: bitdex (~bitdex@gateway/tor-sasl/bitdex) (Ping timeout: 240 seconds)
[06:40:38] *** Joins: bitdex (~bitdex@gateway/tor-sasl/bitdex)
[06:44:08] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[06:51:53] *** Joins: admin123 (~harrymore@ool-2f12f5b1.dyn.optonline.net)
[06:56:11] *** Quits: admin123 (~harrymore@ool-2f12f5b1.dyn.optonline.net) (Ping timeout: 245 seconds)
[06:56:35] *** Quits: bitdex (~bitdex@gateway/tor-sasl/bitdex) (Ping timeout: 240 seconds)
[06:56:40] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[06:57:21] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[06:57:25] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[06:57:48] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:01:30] *** Joins: bitdex (~bitdex@gateway/tor-sasl/bitdex)
[07:09:10] *** Joins: admin123 (~harrymore@ool-2f12f5b1.dyn.optonline.net)
[07:12:00] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[07:14:19] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:15:30] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[07:21:16] *** Quits: ahadi (~ahadi@146-42-142-46.pool.kielnet.net) (Ping timeout: 250 seconds)
[07:26:08] *** Joins: ahadi (~ahadi@34-41-142-46.pool.kielnet.net)
[07:35:23] *** Quits: sreve_ (~quassel@p549d73b1.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[07:35:42] *** Joins: sreve (~quassel@p549d7184.dip0.t-ipconnect.de)
[07:38:56] <dodobrain> umm.. i'm trying to add a secondary admin site.. this works great but i want non-superuser users to be able to use the site
[07:39:26] <FunkyBob> that's fine... you only need is_staff to use Admin
[07:40:09] <dodobrain> actually i want all users that have the is_dodo field set to true to be able to use the site :)
[07:40:35] <dodobrain> so, these users are able to log in, but the site says theres nothing to do..  "You don’t have permission to view or edit anything."
[07:41:16] <FunkyBob> if you're not superuser, then you need explicit permissions assigned to be able to view/edit stuff in admin
[07:42:17] <dodobrain> ok, so i went back in to the standard admin site as a superuser and gave every permission there is on a user who has is_dodo=True
[07:42:35] <dodobrain> and even this user when logged into the secondary admin gets the same message :(
[07:43:11] <FunkyBob> where does this is_dodo come from? and how are you making admin check it?
[07:43:51] <dodobrain> User.objects.filter(is_dodo=True).first().user_permissions.count()  === 434
[07:45:03] <dodobrain> i have a class that derives off admin.AdminSite which has these methods has_permission, has_add_permission, has_change_permission, has_delete_permission, has_module_permission all returning True always
[07:45:12] *** Quits: jochum (~quassel@user/jochum) (Ping timeout: 252 seconds)
[07:46:12] *** Joins: jochum (~quassel@user/jochum)
[07:46:20] <dodobrain> well, i lie, but they were doing this: user = request.user; return user.is_active and (user.is_dodo or user.is_staff)
[07:46:42] <dodobrain> i changed then to `return True` but yobviously it didnt make a difference
[07:50:20] *** cryocaustik7 is now known as cryocaustik
[07:52:39] <dodobrain> wut! it works now,.. i created another user and gave all perms and set is_dodo to True and now after a restart this user can use the secondary admin comfortably
[07:53:02] <dodobrain> yyttttyyuuiioollllllllllllllllll
[07:53:03] <dodobrain> '
[07:58:19] *** Quits: shangxiao (~davids@101.165.217.11) (Quit: WeeChat 3.4)
[08:05:26] *** Quits: Matthias1 (~Matthias1@8.6.144.116) (Remote host closed the connection)
[08:19:26] *** Joins: ekathva (~ekathva@n16j1oo707h05v16j-1.v6.elisa-mobile.fi)
[08:26:29] *** Joins: xkuru (~xkuru@user/xkuru)
[08:33:03] *** Quits: sreve (~quassel@p549d7184.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[08:33:23] *** Joins: sreve (~quassel@p4ff44c9d.dip0.t-ipconnect.de)
[08:39:21] *** Joins: llanhmod (~personnel@user/domhnall/x-2887755)
[08:47:38] *** Quits: Kalov (~Thunderbi@181.226.96.240) (Remote host closed the connection)
[08:51:21] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Quit: Leaving...)
[09:10:55] *** Joins: dor (~erg@188.146.34.167.nat.umts.dynamic.t-mobile.pl)
[09:28:32] *** Quits: cyphase (~cyphase@user/cyphase) (Ping timeout: 272 seconds)
[09:32:15] *** Joins: cyphase (~cyphase@user/cyphase)
[09:41:21] *** Quits: xkuru (~xkuru@user/xkuru) (Read error: Connection reset by peer)
[09:45:37] *** Joins: djapo (~archangel@user/djapo)
[09:47:45] *** Joins: xkuru (~xkuru@user/xkuru)
[09:48:53] <serafeim> hello friends
[10:06:51] *** Joins: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi)
[10:06:52] *** Quits: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:07:06] *** Joins: mattil (~mattil@87-95-64-207.bb.dnainternet.fi)
[10:08:06] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 250 seconds)
[10:10:05] *** Joins: x_kuru (xkuru@user/xkuru)
[10:11:34] *** Quits: mattil (~mattil@87-95-64-207.bb.dnainternet.fi) (Ping timeout: 250 seconds)
[10:13:49] *** Quits: xkuru (~xkuru@user/xkuru) (Ping timeout: 256 seconds)
[10:31:01] <jim> hi serafeim
[10:32:03] *** Joins: slav0nic (slav0nic@python.su)
[10:32:10] <jim> to you or anyone: I know there's some kind of problem with putting a <ul> in a <p>, but howbout putting the ul in a <div>?
[10:33:38] <serafeim> jim: this ain't related to django
[10:33:50] <schinckel> jim: There are some problems with using certain HTML elements inside others.
[10:33:56] <serafeim> but there's no problem in putting ul in div.
[10:34:39] <schinckel> Yeah. But there may be problems putting a div in a ul, I can’t remember.
[10:35:02] <schinckel> I did have a document indicating which things were prohibited, but I can’t find it.
[10:35:16] <jim> ok, I'm continuing to give it a try
[10:36:14] <jim> schinckel, oh ok, if you find that, could you let me know?
[10:36:15] *** Quits: cyphase (~cyphase@user/cyphase) (Ping timeout: 252 seconds)
[10:38:41] <jim> I just tried to make a ul inside a small, to be a ul inside a div, that's one of them that would probably be on that list
[10:40:20] <dodo> jim: https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elements
[10:41:13] *** Joins: cyphase (~cyphase@user/cyphase)
[10:42:42] *** Joins: ekathva_ (~ekathva@86.114.187.171)
[10:43:53] <jim> dodo, thanks a lot
[10:44:49] *** Quits: ekathva_ (~ekathva@86.114.187.171) (Read error: Connection reset by peer)
[10:45:22] *** Quits: ekathva (~ekathva@n16j1oo707h05v16j-1.v6.elisa-mobile.fi) (Ping timeout: 250 seconds)
[10:46:07] *** Joins: ekathva_ (~ekathva@n16iyde4bmj9ireof-1.v6.elisa-mobile.fi)
[10:47:37] *** Quits: audio (~audio@user/audio) (Ping timeout: 240 seconds)
[10:51:48] *** Joins: mattil (~mattil@helsinki.portalify.com)
[10:54:21] *** Joins: mrwick (~mrwick@user/mrwick)
[10:54:34] <serafeim> schinckel: no there should be no problem
[10:54:57] *** Quits: slav0nic (slav0nic@python.su) (Ping timeout: 252 seconds)
[10:55:04] <serafeim> schinckel: if there are problems putting an ul in a div it's a problem of some framework not a problem of html
[10:55:44] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[10:55:44] *** ChanServ sets mode: +v EvilDMP
[10:56:38] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[10:57:04] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[10:57:13] *** Joins: ekathva__ (~ekathva@mobile-access-5672d1-126.dhcp.inet.fi)
[10:59:40] *** Quits: ekathva_ (~ekathva@n16iyde4bmj9ireof-1.v6.elisa-mobile.fi) (Ping timeout: 250 seconds)
[11:01:05] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 256 seconds)
[11:01:20] *** Joins: slav0nic (slav0nic@python.su)
[11:03:38] *** Quits: explore (uid233125@id-233125.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[11:06:53] *** Joins: kuter (~kuter@public-gprs523036.centertel.pl)
[11:10:17] *** Joins: luigibu (~luigi@93.176.153.88)
[11:13:48] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Ping timeout: 260 seconds)
[11:14:22] *** Joins: blackout69 (~blackout6@37.183.198.248)
[11:22:36] *** Quits: ekathva__ (~ekathva@mobile-access-5672d1-126.dhcp.inet.fi) (Read error: Connection reset by peer)
[11:24:05] *** Joins: ekathva__ (~ekathva@n16j14urzyjc7uwzq-1.v6.elisa-mobile.fi)
[11:28:12] *** Joins: sandeepk (~sandeepk@223.130.30.47)
[11:34:33] *** Quits: llanhmod (~personnel@user/domhnall/x-2887755) (Ping timeout: 252 seconds)
[11:36:57] *** Joins: explore (uid233125@id-233125.hampstead.irccloud.com)
[11:40:00] <mad_moses> Can I use somehow subquery and count? https://docs.djangoproject.com/en/4.0/ref/models/expressions/#subquery-expressions
[11:47:00] *** Joins: gulzar (~gulzar@49.206.240.149)
[11:48:55] <gulzar> Hi. I have two databases in MySQL already in existence, each with multiple tables. I need to connect these DBs with django and add/remove/update data. I did --inspect db on both databases and got two models.py  .  How to use these to do migrations? Like how to tell django which class in models is for which db?
[11:48:58] *** Parts: blackout69 (~blackout6@37.183.198.248) ()
[11:53:46] <wez> You just lost me at MySQL
[11:54:18] <gulzar> wez : I know. But can't help , have to use :(
[11:55:19] <gulzar> they are ancient Dbs, people are manuyaly doing stuff. I am creating a webinterface for it
[11:57:02] <wez> That's a good start. Django, by default, will want to set an id collumn for each table though. There's some options to stop that or change the primary key to something else.  Generally when you deal with legacy databases you set manage to False to turn off breaking the schema.
[11:57:26] <wez> Is there another app that is using the databases too?  That will care about schema changes?
[11:57:55] <wez> For two databases, you can use a db router, you just write a class to tell Django when to use the other database.
[11:58:15] <gulzar> wez : there are some perl/cgi servers doing changes to some dbs. I am not aware of all connectinos
[11:58:28] <wez> Will it care about schema changes?
[11:59:01] <gulzar> wez: can't say. They are atleast 7yo codes. Unless I check can't confirm. Let's say they don't for now
[11:59:18] <wez> then set manage to False
[11:59:26] <wez> TO start with
[11:59:33] <gulzar> wez: router will help . But my query is how to do the migrations? How to add these two inspectdb outputs into one models.py and do migrations
[12:00:10] <mad_moses> got it ... wow simple things can be very complicated sometimes
[12:00:12] <wez> Into one?
[12:00:29] <gulzar> wez : I only need to do add/remove/update operations. So managed to False will work? It's False by default
[12:00:48] <gulzar> wez , any other way if not into one models.py
[12:01:19] <wez> Just do it gulzar, using the inspect tool it should set manage to False in the Meta class
[12:01:31] <gulzar> mad_moses yes, simple things. Confusing.
[12:02:48] <gulzar> wez if I do managed=False, put all classes into one models.py and do migrations. Will that work without createing any new tables?  I have three Dbs , one sqlite (which will change to mysql/postgres) the 'default'.   And two already existing from MySQL.  I missed this detail
[12:03:22] *** Joins: audio (~audio@user/audio)
[12:03:22] <gulzar> will it not mess with sqlite/postgre if I do migrate
[12:03:57] <wez> gulzar: That's right
[12:04:46] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:04:58] <gulzar> wez, yes inspectdb set it to false in meta.  But how to put both DBs them together. It should not be trivial, it's seems a common usage
[12:05:23] <wez> It is trivialish :)
[12:05:31] <wez> You do need to create a db router for it
[12:05:42] <gulzar> before migrations?
[12:07:55] <wez> Doesn't matter, migration won't do anything as manage is False.
[12:08:33] <gulzar> ok
[12:08:37] <gulzar> willl try routers
[12:10:21] *** Joins: hball (~hball@55.140.133.37.dynamic.jazztel.es)
[12:11:15] *** Joins: mattil (~mattil@helsinki.portalify.com)
[12:14:27] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[12:14:27] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[12:14:27] *** ChanServ sets mode: +v EvilDMP
[12:19:50] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[12:23:54] *** Joins: Matthias1 (~Matthias1@2a09:bac0:14::806:9074)
[12:24:58] *** Quits: hball (~hball@55.140.133.37.dynamic.jazztel.es) (Quit: Client closed)
[12:25:51] *** Quits: kostkon_ (~androirc@athedsl-393845.home.otenet.gr) (Ping timeout: 256 seconds)
[12:26:45] <vancha112[m]> Hey everyone ^^ a while back i got the advice to use django's Middleware system to perform some checks on every page load in order to show users notifications. The check sees if any models have changed since the last time a user was online, and displays a "there have been changes to your work" flash message. Can anyone explain why, using `messages.add_message()` only once, makes messages appear twice in the admin interface?
[12:28:30] *** Quits: Matthias1 (~Matthias1@2a09:bac0:14::806:9074) (Ping timeout: 250 seconds)
[12:34:05] *** Joins: hball (~hball@55.140.133.37.dynamic.jazztel.es)
[12:34:31] *** Joins: kostkon_ (~androirc@2.142.66.94.static.otenet.gr)
[13:02:10] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[13:13:42] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[13:19:37] *** Joins: blackout69 (~blackout6@37.183.198.248)
[13:34:06] *** Joins: Stefan92 (~stefan92@2001:1c05:2f04:4ef0:7c28:d225:ff3c:efde)
[13:34:39] <Stefan92> Hi all, has anyone a example for with ftplib full recursive download files and folders?
[13:55:12] <ivii> How to specify lookup_field in url? e.g. /api/item/serial_number/123 or /api/item/name/bananas
[13:55:22] <ivii> I use django rest framework
[14:17:22] <mad_moses> Is it possible to annotate 0 if the result is empty in django orm? => .annotate(myhits=Count('hit'))
[14:22:52] <kuter> mad_moses: afair Count() will always return numeric value
[14:23:30] *** Quits: hball (~hball@55.140.133.37.dynamic.jazztel.es) (Quit: Client closed)
[14:24:53] <mad_moses> kuter: hmm okay, I see my problem now. Can I define for my subquery a default value?
[14:26:45] <mad_moses> .annotate(get_hits_lastmonth=Subquery(hitcount_30.values('myhits')[:1], output_field=IntegerField()))
[14:27:16] <mad_moses> if hitcount_30 has no entry then there will ne None anotated
[14:27:19] <mad_moses> But I want 0
[14:28:11] *** Quits: henbruas (~henbruas@ti0003a400-6569.bb.online.no) (Quit: ZNC 1.8.2 - https://znc.in)
[14:28:30] *** Joins: henbruas (~henbruas@ti0003a400-6569.bb.online.no)
[14:31:00] <mad_moses> Ahh found a cool method to solve this => Coalesce
[14:36:44] *** Quits: explore (uid233125@id-233125.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[14:59:42] *** Quits: lucas_ (~lucascast@192-140-51-239.static.oncabo.net.br) (Ping timeout: 252 seconds)
[15:04:54] *** Quits: kuter (~kuter@public-gprs523036.centertel.pl) (Quit: Lost terminal)
[15:05:12] *** Joins: kuter (~kuter@public-gprs523036.centertel.pl)
[15:14:31] *** Joins: Matthias1 (~Matthias1@8.6.144.116)
[15:23:30] *** Joins: explore (uid233125@id-233125.hampstead.irccloud.com)
[15:28:56] *** Quits: schinckel (uid38120@user/schinckel) (Quit: Connection closed for inactivity)
[15:32:46] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[15:45:22] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:46:33] *** Quits: mad_moses (~mad_moses@2a02:6d40:2348:4601:4c0a:533a:4cda:7b49) (Quit: Leaving)
[15:46:36] *** Joins: lucascastro (~lucascast@177-185-131-162.corp.isotelco.net.br)
[15:51:34] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:51:47] *** Joins: dez (uid92154@user/dez)
[15:52:20] *** Joins: dkliban (~dkliban@2600:6c5e:467f:ab80:2431:f943:1dd0:3661)
[15:52:53] *** Quits: gulzar (~gulzar@49.206.240.149) (Quit: Client closed)
[15:53:49] *** Quits: audio (~audio@user/audio) (Ping timeout: 240 seconds)
[15:54:16] *** Quits: Stefan92 (~stefan92@2001:1c05:2f04:4ef0:7c28:d225:ff3c:efde) (Quit: My iMac has gone to sleep. ZZZzzz…)
[15:58:17] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[15:58:17] *** ChanServ sets mode: +v EvilDMP
[16:04:13] <vancha112[m]> hmm looks like the entire middleware is called twice in django admin, anyone know why?
[16:06:43] <dodo> vancha112[m]: request and response both go through the chain
[16:07:40] <vancha112[m]> dodo: why is that different for the front-end? I'm not sure what i should do differently.
[16:08:26] <dodo> it's the same in the frontend
[16:08:36] <vancha112[m]> I perform an action before `response = self.get_response(request)`, which should be before the views are actually loaded.
[16:08:59] <vancha112[m]> The front-end facing part of my site only performs the action once, but the admin pages execute it twice.
[16:09:46] <dodo> hmm
[16:09:55] <vancha112[m]> lets say i have a middleware with only 1 line in it, this one: `messages.add_message(request, messages.INFO, 'test')`
[16:10:16] <vancha112[m]> i import the middleware after the middleware for messages has been imported
[16:10:40] <vancha112[m]> everytime a page is loaded, this should inject a message into the template right?
[16:12:17] <vancha112[m]> oh... i see what's going on..
[16:12:39] <vancha112[m]> apparently loading a page in the admin area performs multiple requests, one of which goes to /jsi18n?
[16:14:43] *** Quits: bitdex (~bitdex@gateway/tor-sasl/bitdex) (Quit: = "")
[16:16:15] <vancha112[m]> so i guess if the request.path contains the string "jsi18n" i don't perform any tasks? That seems like a half-baked solution.
[16:19:08] <dodo> vancha112[m]: what does your middleware actually do?
[16:19:29] *** Parts: blackout69 (~blackout6@37.183.198.248) ()
[16:20:16] <vancha112[m]> dodo: every hour or so, a new list of objects is added to my database. The middleware checks if any changes have been made to objects that have been last edited by the user. If so, it displays a notification saying that an object requires attention, with the url of said object inside.
[16:20:41] <vancha112[m]> so whenever a page is loaded, that should be run only once, ever.
[16:21:37] <dodo> mh, that code doesn't sound very reliable wrt to concurrent requests
[16:21:53] <dodo> you might want a lock
[16:22:14] <dodo> or handle session data differently
[16:23:11] <vancha112[m]> dodo: I'm guessing this is a common issue, i mean right now it's basically just one line :o
[16:23:30] <dodo> yeah, concurrency is often a problem
[16:24:12] <dodo> you could maybe add a lock to the session data itself
[16:24:36] <dodo> there might also be problems like user opens admin page, closes tab before it's rendered, and never sees the messages?
[16:25:00] <vancha112[m]> it's a flash message, if it's never seen it's just still in the message queue no?
[16:25:10] <dodo> ah, right
[16:25:43] <vancha112[m]> I think i'm going to check my urlconf
[16:26:19] <vancha112[m]> any url i defined myself will quality for my middleware to run, if it's defined in there.. I'll just forgo any execution in the middleware. Locking sessions is outside of my abilities still
[16:29:44] *** Joins: evilpyro (~evilpyro@user/evilpyro)
[16:31:44] <evilpyro> Hi!, is there a way to include a template? want to be able to tefine an html file with detailed data and then invoque it from other html template files. JSPs have that
[16:31:51] <vancha112[m]> s/quality/qualify/
[16:32:17] <vancha112[m]> evilpyro: aah yes, there's actually a really cool templating system in django ^^
[16:32:29] <vancha112[m]> I followed the steps at https://docs.djangoproject.com/en/4.0/topics/templates/ to get it to work.
[16:32:38] <evilpyro> Can i do this with extend somehow?
[16:32:49] <evilpyro> extend is a totally different mechanic
[16:33:36] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[16:33:41] <vancha112[m]> evilpyro: you sure can :) you define a "base" template first, and then you can extend that one by creating a new template, and using `{% extends "base_template.html" %}`
[16:34:03] <evilpyro> yeah, thats not what i want, I already know this
[16:34:37] *** Quits: dkliban (~dkliban@2600:6c5e:467f:ab80:2431:f943:1dd0:3661) (Ping timeout: 240 seconds)
[16:34:42] *** Joins: ekathva_ (~ekathva@193.210.171.118)
[16:35:28] <vancha112[m]> right i get your question now, in that case, maybe someone else knows :)
[16:36:59] *** Quits: ekathva__ (~ekathva@n16j14urzyjc7uwzq-1.v6.elisa-mobile.fi) (Ping timeout: 250 seconds)
[16:37:20] <evilpyro> My use case: I'm doing something similar to a feed. Where the posts can be of several types, each with its caracteristic data. I'd like to specify how should every post type rendered and then invoque the different methods depending on the post type
[16:38:30] <evilpyro> like calling a view from a template and rendering its result embedded
[16:39:23] <sheepman[m]> I think I get what you're talking about, and I think I've solved this problem with inclusion tags
[16:39:27] <sheepman[m]> Lemme find the doc quick
[16:39:33] *** Joins: azed (~azed@197.23.130.142)
[16:39:51] *** Quits: ekathva_ (~ekathva@193.210.171.118) (Read error: Connection reset by peer)
[16:40:10] <sheepman[m]> evilpyro: check this out, it may do what you need https://docs.djangoproject.com/en/3.2/howto/custom-template-tags/
[16:40:23] *** Quits: lucascastro (~lucascast@177-185-131-162.corp.isotelco.net.br) (Read error: Connection reset by peer)
[16:41:04] *** Joins: lucascastro (~lucascast@177-185-131-162.corp.isotelco.net.br)
[16:41:06] *** Joins: ekathva_ (~ekathva@n16j1b0fzs8z4jskb-1.v6.elisa-mobile.fi)
[16:42:13] <ivii> Why I get 'ReturnList' object has no attribute 'items'
[16:42:36] <ivii> on return ReadingSerializer(Reading.objects.filter(meter__serial_number__iexact=sn), many=True).data
[16:42:47] <ivii> it's probably refering to items in dict but I wanna return a list
[16:42:59] *** Joins: audio (~audio@user/audio)
[16:44:09] <evilpyro> sheepman[m], Thankyou, inclusion tags are what I needed
[16:44:48] <sheepman[m]> of course! feel free to ping me if you get stuck figuring them out like I did :P
[16:45:01] *** Quits: lucascastro (~lucascast@177-185-131-162.corp.isotelco.net.br) (Ping timeout: 240 seconds)
[16:45:12] <sheepman[m]> ivii: can I get a little more of the code for context?
[17:00:26] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[17:09:13] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[17:10:19] *** Quits: audio (~audio@user/audio) (Ping timeout: 256 seconds)
[17:13:56] *** Quits: mattil (~mattil@helsinki.portalify.com) (Read error: Connection reset by peer)
[17:16:19] *** Joins: lucascastro (~lucascast@192-140-51-239.static.oncabo.net.br)
[17:26:27] *** Joins: merrinx (~merrinx@ti0028a400-3686.bb.online.no)
[17:28:56] *** Joins: llanhmod (~personnel@user/domhnall/x-2887755)
[17:30:10] *** Joins: Kalov (~Thunderbi@181.226.96.240)
[17:36:44] *** Quits: explore (uid233125@id-233125.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[17:42:27] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Remote host closed the connection)
[17:42:43] *** Joins: ekathva__ (~ekathva@mobile-access-5672f9-202.dhcp.inet.fi)
[17:43:26] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[17:45:16] *** Quits: ekathva_ (~ekathva@n16j1b0fzs8z4jskb-1.v6.elisa-mobile.fi) (Ping timeout: 250 seconds)
[17:45:50] *** Quits: lucascastro (~lucascast@192-140-51-239.static.oncabo.net.br) (Remote host closed the connection)
[17:47:57] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 256 seconds)
[17:49:00] *** Joins: lucascastro (~lucascast@192-140-51-239.static.oncabo.net.br)
[17:49:21] *** Joins: Falc (~Falc@193.191.206.243)
[17:58:06] *** Joins: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com)
[18:01:33] *** Quits: ekathva__ (~ekathva@mobile-access-5672f9-202.dhcp.inet.fi) (Ping timeout: 256 seconds)
[18:08:37] *** Joins: hball (~hball@55.140.133.37.dynamic.jazztel.es)
[18:10:20] *** Quits: hball (~hball@55.140.133.37.dynamic.jazztel.es) (Client Quit)
[18:10:52] *** Parts: Falc (~Falc@193.191.206.243) (Leaving)
[18:13:35] *** Quits: evilpyro (~evilpyro@user/evilpyro) (Quit: Leaving)
[18:23:16] *** Quits: sandeepk (~sandeepk@223.130.30.47) (Ping timeout: 245 seconds)
[18:30:30] *** Joins: sandeepk (~sandeepk@223.130.30.47)
[18:37:59] *** Joins: Stefan92 (~stefan92@2001:1c05:2f04:4ef0:7c28:d225:ff3c:efde)
[18:41:03] *** Quits: kuter (~kuter@public-gprs523036.centertel.pl) (Quit: Lost terminal)
[18:49:18] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[18:51:14] *** Joins: evilpyro_ (~evilpyro@user/evilpyro)
[18:52:03] <evilpyro_> can a template provoque a query? using the dot operator for example?
[18:53:26] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 252 seconds)
[18:53:41] *** Quits: evilpyro_ (~evilpyro@user/evilpyro) (Remote host closed the connection)
[18:54:30] *** Quits: Stefan92 (~stefan92@2001:1c05:2f04:4ef0:7c28:d225:ff3c:efde) (Quit: My iMac has gone to sleep. ZZZzzz…)
[19:06:24] *** Quits: azed (~azed@197.23.130.142) (Read error: Connection reset by peer)
[19:06:34] *** Joins: blackout69 (~blackout6@37.183.198.248)
[19:10:18] *** Joins: azed (~azed@197.23.130.142)
[19:18:06] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Quit: Leaving)
[19:18:30] *** Quits: django-ticketbot (~django-ti@django/ops/ticketbot) (Remote host closed the connection)
[19:18:48] *** Joins: django-ticketbot (~django-ti@django/ops/ticketbot)
[19:21:07] *** Quits: dez (uid92154@user/dez) (Quit: Connection closed for inactivity)
[19:29:54] *** Quits: luigibu (~luigi@93.176.153.88) (Quit: WeeChat 3.4)
[19:33:42] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[19:38:42] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Quit: Leaving...)
[19:39:48] *** Joins: audio (~audio@user/audio)
[19:41:17] *** Quits: audio (~audio@user/audio) (Remote host closed the connection)
[19:42:09] *** Quits: blackout69 (~blackout6@37.183.198.248) (Quit: Leaving.)
[19:43:45] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[19:45:35] *** Quits: mrwick (~mrwick@user/mrwick) (Ping timeout: 256 seconds)
[19:46:41] *** Joins: bambanxx (~bambanx@2800:150:106:1061:55d5:814:9a0e:f31)
[19:48:20] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Ping timeout: 250 seconds)
[19:59:01] *** Quits: azed (~azed@197.23.130.142) (Read error: Connection reset by peer)
[20:02:05] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[20:12:07] *** Quits: GinFuyou (~GinFuyou@reya.cloud.tilaa.com) (Ping timeout: 268 seconds)
[20:20:06] *** Quits: bambanxx (~bambanx@2800:150:106:1061:55d5:814:9a0e:f31) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[20:22:19] *** Joins: painnnn (~Guest52@196.77.13.103)
[20:22:24] <painnnn> hello
[20:22:32] <painnnn> any one online
[20:23:00] *** daniel3 is now known as daniel2
[20:23:27] <painnnn> any library i can use to be able to make similar files .py-tpl
[20:23:35] *** Quits: painnnn (~Guest52@196.77.13.103) (Client Quit)
[20:24:27] *** Joins: bambanxx (~bambanx@2800:150:106:1061:55d5:814:9a0e:f31)
[20:30:55] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[20:45:53] *** Quits: rje (~textual@50.35.241.164) (Ping timeout: 256 seconds)
[20:55:54] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[20:55:54] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Read error: Connection reset by peer)
[20:56:23] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[20:56:27] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Remote host closed the connection)
[20:57:16] *** Quits: sandeepk (~sandeepk@223.130.30.47) (Quit: Leaving)
[20:59:17] *** Joins: Stefan92 (~stefan92@2001:1c05:2f04:4ef0:7c28:d225:ff3c:efde)
[21:01:23] *** Joins: dez (uid92154@user/dez)
[21:07:12] *** Quits: Stefan92 (~stefan92@2001:1c05:2f04:4ef0:7c28:d225:ff3c:efde) (Quit: My iMac has gone to sleep. ZZZzzz…)
[21:07:24] *** Quits: mfisher (mfisher@shell.themfishers.com) (Ping timeout: 240 seconds)
[21:08:19] *** Joins: mfisher (mfisher@shell.themfishers.com)
[21:15:14] *** Joins: rje (~textual@65.141.156.170)
[21:16:47] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:17:59] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[21:21:35] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[21:21:35] *** ChanServ sets mode: +v EvilDMP
[21:24:25] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 256 seconds)
[21:28:41] *** Quits: Elzington_ (~Elzington@static-68-235-44-46.cust.tzulo.com) (Quit: Leaving)
[21:29:41] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[21:40:49] *** Joins: Stefan92 (~stefan92@2001:1c05:2f04:4ef0:7c28:d225:ff3c:efde)
[21:42:16] *** Quits: Stefan92 (~stefan92@2001:1c05:2f04:4ef0:7c28:d225:ff3c:efde) (Client Quit)
[21:47:04] *** Quits: Matthias1 (~Matthias1@8.6.144.116) (Remote host closed the connection)
[21:47:39] *** Joins: Matthias1 (~Matthias1@8.6.144.116)
[21:49:43] *** Quits: Matthias1 (~Matthias1@8.6.144.116) (Read error: Connection reset by peer)
[21:49:52] *** Joins: Matthias_ (~Matthias1@8.6.144.116)
[21:54:00] *** Quits: Matthias_ (~Matthias1@8.6.144.116) (Ping timeout: 250 seconds)
[21:55:59] *** jjhoo_ is now known as jjhoo
[21:56:08] *** Joins: Matthias1 (~Matthias1@8.6.144.116)
[22:01:56] *** Joins: llanhmod1 (~personnel@user/domhnall/x-2887755)
[22:02:47] *** Parts: llanhmod1 (~personnel@user/domhnall/x-2887755) ()
[22:03:17] *** Quits: llanhmod (~personnel@user/domhnall/x-2887755) (Ping timeout: 256 seconds)
[22:07:48] *** Joins: audio (~audio@user/audio)
[22:07:51] *** Joins: audiobirb (~audio@user/audio)
[22:09:32] *** Joins: wattux (~wattux@2a02:238:f014:472:60a9:d026:9c87:463a)
[22:09:50] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:20:55] *** Quits: brsc2909 (~Thunderbi@109.255.244.60) (Quit: brsc2909)
[22:25:25] *** Quits: audiobirb (~audio@user/audio) (Quit: Leaving)
[22:28:13] *** Quits: wattux (~wattux@2a02:238:f014:472:60a9:d026:9c87:463a) (Quit: Client closed)
[22:34:59] *** Joins: audiobirb (~audio@user/audio)
[22:38:57] *** Quits: audio (~audio@user/audio) (Ping timeout: 240 seconds)
[22:41:42] *** Quits: kostkon_ (~androirc@2.142.66.94.static.otenet.gr) (Ping timeout: 252 seconds)
[22:45:31] *** Joins: Elzington (~Elzington@static-68-235-44-46.cust.tzulo.com)
[22:47:23] *** Quits: bambanxx (~bambanx@2800:150:106:1061:55d5:814:9a0e:f31) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[22:50:28] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[22:50:28] *** ChanServ sets mode: +v EvilDMP
[22:51:14] *** Joins: kostkon_ (~androirc@athedsl-393845.home.otenet.gr)
[22:57:24] *** Joins: wattux (~wattux@2a02:238:f014:472:60a9:d026:9c87:463a)
[22:58:28] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:10:22] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[23:16:05] *** Quits: Matthias1 (~Matthias1@8.6.144.116) (Remote host closed the connection)
[23:16:40] *** Joins: Matthias1 (~Matthias1@8.6.144.116)
[23:21:18] *** Quits: Matthias1 (~Matthias1@8.6.144.116) (Ping timeout: 252 seconds)
[23:23:09] *** Joins: Stench (~Staunch@c-24-7-237-208.hsd1.mn.comcast.net)
[23:23:54] *** Joins: bambanxx (~bambanx@2800:150:106:1061:55d5:814:9a0e:f31)
[23:25:26] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[23:25:47] *** Joins: Matthias1 (~Matthias1@8.6.144.116)
[23:26:12] *** Joins: Atque (~Atque@user/atque)
[23:41:09] *** Joins: humanBird (~humanBird@2603-8001-7000-3642-9533-c9bc-6bff-610c.res6.spectrum.com)
[23:41:38] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:47:48] *** Quits: audiobirb (~audio@user/audio) (Ping timeout: 240 seconds)
[23:47:51] *** Quits: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[23:57:05] *** Quits: wattux (~wattux@2a02:238:f014:472:60a9:d026:9c87:463a) (Quit: Client closed)
[23:58:29] *** Quits: bambanxx (~bambanx@2800:150:106:1061:55d5:814:9a0e:f31) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[23:59:51] *** Joins: bambanxx (~bambanx@2800:150:106:1061:55d5:814:9a0e:f31)
