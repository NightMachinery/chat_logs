[00:00:10] <earendel> i've done it for you. :)
[00:00:45] <earendel> itention good.
[00:01:15] *** Joins: aidalgol (~aidalgol@user/aidalgol)
[00:01:27] <earendel> whats up honey. you unsound.
[00:01:49] <earendel> insomnic
[00:02:13] *** Quits: Grems (~grems@194.19.73.77) (Read error: Connection reset by peer)
[00:02:19] <earendel> colonia antonella aggrypnia
[00:02:55] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[00:03:54] *** Joins: reezoh (~reezoh@2600:1702:3cf0:2e00:30e1:ed5f:a3a0:fd59)
[00:10:28] *** Quits: tb303brn (~weechat@textualites.club) (Quit: WeeChat 3.0)
[00:11:38] *** Quits: odoood (~odoood@c-73-184-6-164.hsd1.ga.comcast.net) (Ping timeout: 260 seconds)
[00:18:05] *** Quits: ||arifaX (~Commodore@user/arifax/x-9857073) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[00:19:25] *** Quits: rgrinberg (~textual@187.223.209.106) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:20:43] *** Joins: CaCode (~CaCode@user/cacode)
[00:22:47] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[00:23:22] *** Joins: unop (~unop@195.91.110.106)
[00:23:32] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[00:23:40] *** Joins: libc (~weechat@user/tessio)
[00:24:42] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[00:24:58] *** Joins: unop (~unop@195.91.110.106)
[00:29:27] *** Quits: libc (~weechat@user/tessio) (Quit: WeeChat 3.2)
[00:34:43] *** Joins: junebug (~junebug@2600:1700:3db0:2540:1bc2:b6e8:b3fd:1f4a)
[00:35:41] *** Joins: taupiqueur (~taupiqueu@63.145.204.77.rev.sfr.net)
[00:36:16] *** Joins: tinytoast (~squeek@user/tinystoat)
[00:36:42] *** Quits: tinystoat (~squeek@user/tinystoat) (Read error: Connection reset by peer)
[00:40:01] *** Quits: taupiqueur (~taupiqueu@63.145.204.77.rev.sfr.net) (Ping timeout: 250 seconds)
[00:41:55] *** Joins: lavaball (felix@31.204.155.215)
[00:43:00] *** Quits: mw_ (~mw@catv-80-98-128-161.catv.broadband.hu) (Read error: Connection reset by peer)
[00:43:13] *** Joins: mw_ (~mw@catv-80-98-128-161.catv.broadband.hu)
[00:48:06] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Ping timeout: 268 seconds)
[00:48:49] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[00:50:53] *** Quits: cluelessperson (~cluelessp@user/cluelessperson) (Ping timeout: 252 seconds)
[00:52:37] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[00:53:14] *** Joins: unop (~unop@195.91.110.106)
[00:53:22] *** Joins: ItsColdOutside (~max@178.249.193.38)
[00:54:35] *** Joins: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk)
[00:56:07] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[00:56:23] *** Joins: unop (~unop@195.91.110.106)
[00:57:29] *** Quits: junebug (~junebug@2600:1700:3db0:2540:1bc2:b6e8:b3fd:1f4a) (Ping timeout: 252 seconds)
[00:58:59] *** Joins: cluelessperson (~cluelessp@user/cluelessperson)
[00:59:25] <ItsColdOutside> Hi all
[01:00:24] <twkm> moo.
[01:01:03] *** Quits: ItsColdOutside (~max@178.249.193.38) (Quit: Konversation terminated!)
[01:08:43] *** Joins: omnigoat (~omnigoat@user/omnigoat)
[01:11:57] *** Quits: wuseman (~wuseman@user/wuseman) (Read error: Connection reset by peer)
[01:12:50] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[01:13:50] *** Joins: rgrinberg (~textual@2806:101e:7:6946:301f:4093:a99:4144)
[01:15:42] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[01:17:20] *** Quits: magla (~gelignite@55d4a165.access.ecotel.net) (Quit: Stay safe!)
[01:18:15] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[01:20:31] *** Quits: omnigoat (~omnigoat@user/omnigoat) (Quit: The Lounge - https://thelounge.chat)
[01:21:53] *** Joins: omnigoat (~omnigoat@user/omnigoat)
[01:21:54] *** Joins: humky (~humky@user/humky)
[01:27:49] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:27:52] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Changing host)
[01:27:52] *** Joins: wuseman (~wuseman@user/wuseman)
[01:30:57] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[01:31:29] *** Joins: zumba_addict (~zumba_add@2601:240:4500:8320:224:1dff:fec8:64f6)
[01:33:40] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[01:34:24] *** Joins: husixu (~husixu@137.132.119.2)
[01:34:24] <zumba_addict> Good afternoon. I'm using aws cli tool on a terminal to fetch information in AWS. There is something cool though when authenticating to single-sign-on. When I execute aws confrigure sso, it will ask for a region, once I start typing a letter like "u", it will bring a dropdown menu beside the letter "u" I typed. The menu shows 3 choices, us-east-1,
[01:34:24] <zumba_addict> 2 and do on. I'd like to code something like that. How did they do it?
[01:34:52] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[01:35:47] *** Quits: husixu (~husixu@137.132.119.2) (Remote host closed the connection)
[01:37:02] *** Joins: husixu (~husixu@137.132.119.2)
[01:45:27] *** Joins: seninha (~seninha@user/seninha)
[01:47:09] <e36freak> not in shell
[01:47:16] <twkm> they likely don't use bash, but at a guess they query their api for all regions then look for a prefix match.
[01:48:02] *** Joins: tmm88 (~tmm88@user/tmm88)
[01:48:35] <e36freak> probably looking at something like ncurses
[01:48:37] <twkm> with only 3 for a prefix of u likely the list of regions is limited to ones that you are actually using.
[01:49:16] *** Quits: seninha (~seninha@user/seninha) (Client Quit)
[01:50:35] <zumba_addict> got it
[01:51:06] <zumba_addict> I want to use the same tools to build a dropdown. It's cool
[01:51:30] *** Quits: drd (~drd@93-42-69-115.ip85.fastwebnet.it) (Ping timeout: 260 seconds)
[01:51:32] *** Quits: sazawal (~sazawal@122.161.85.155) (Quit: Leaving)
[01:51:33] <zumba_addict> I can take a screenshot so you can see how it looks like
[01:51:36] <twkm> time to look at the tool's source then.
[01:51:37] *** Quits: armands (~armands@46.109.8.165) (Ping timeout: 268 seconds)
[01:51:56] <zumba_addict> it's a binary provided by Amazon
[01:52:08] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[01:52:13] <twkm> it almost certainly isn't written in bash, though it might have a bash wrapper.
[01:52:51] <zumba_addict> i was thinking it was writen in Go
[01:52:54] <zumba_addict> now
[01:53:51] <twkm> more likely python.
[01:54:18] <twkm> (at least if a quick search for linux packages called aws-cli is correct)
[01:55:32] <zumba_addict> here it is - https://0x0.st/-Fyt.png
[01:56:25] <zumba_addict> I ran `file /usr/local/bin/aws` and output is Mach-O 64-bit executable x86_64
[01:56:38] <zumba_addict> but it's amazing since it shows up in terminal
[01:57:00] *** Joins: serj2990 (~sergiu@2a02:2f08:e00f:6200::48b)
[01:57:06] <twkm> being mach-o doesn't force it to use the gui.
[01:57:09] <zumba_addict> it doesn't clear the screen. My previous commands are still in the terminal
[01:58:52] <twkm> not clearing the screen is normal for cli tools.  tui tools generally do, though not always.
[02:00:15] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[02:00:42] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[02:01:37] *** Joins: unop (~unop@195.91.110.106)
[02:03:57] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[02:04:06] *** Quits: medard (~mithrin@stip-static-62.213-81-207.telecom.sk) (Ping timeout: 256 seconds)
[02:04:49] *** Joins: quidnunc (~user@bas3-montreal02-65-94-9-48.dsl.bell.ca)
[02:05:04] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[02:05:20] *** Joins: unop (~unop@195.91.110.106)
[02:06:04] <quidnunc> How do I pipe the output of a command to nq to a file?
[02:06:53] <quidnunc> If I do 'nq -c "echo foo | tee -a bar.txt"' it thinks everything in quotes is a command
[02:06:54] <twkm> you redirect, not pipe.
[02:07:26] <quidnunc> If I do 'nq -c echo foo | tee -a bar.txt' then the output of nq is piped
[02:07:47] *** Joins: medard (~mithrin@stip-static-62.213-81-207.telecom.sk)
[02:07:58] <twkm> nq's output is piped to tee.
[02:08:10] *** Joins: nattiestnate (~nate@2001:448a:20a0:4134:25e:715f:d637:5263)
[02:08:13] <quidnunc> twkm: Right, I don't want that
[02:08:16] <twkm> nq -c echo foo >> bar.txt
[02:08:45] <quidnunc> twkm: But that redirects the output of nq, not echo, right?
[02:08:49] <twkm> so what do you want?  (beside me magically knowing what nq does)
[02:09:37] <twkm> that's what i wrote, yes nq's output.  echo is just an argument to nq.
[02:09:53] <quidnunc> twkm: nq is a simple job queue. So you do "nq bigcompile-step1; nq bigcompile-step2;" and it will process them in order
[02:10:30] <quidnunc> twkm: So what I want is to capture the output of bigcompile-step1 (and step2)
[02:11:12] <quidnunc> twkm: I'm just confused how this handled, because I can do something like 'watch "mycommand | grep -i trigger-word"'
[02:11:19] <twkm> at a guess you want to invoke a shell that then invokes stepN with redirection or piping.
[02:12:03] <twkm> a'la, nq -c "bash -c 'step1 >> log'"
[02:12:24] <quidnunc> twkm: So I can probably do it by putting everything in a separate shell script, but I'm trying to figure out if there's a better way
[02:12:51] *** Joins: armands (~armands@46.109.8.165)
[02:13:09] <quidnunc> twkm: Ah, interesting. That might work
[02:13:21] <twkm> or a'la, nq -c "bash -c '{ step1; step2; } >> log'"
[02:14:01] <twkm> quoting can easily become an issue, which a here-document can help with.
[02:15:48] *** Quits: fedenix__ (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:17:45] <quidnunc> twkm: It doesn't seem to be working, I think it's treating the entire string as the command which it's failing to find "execvp: no such file or directory"
[02:18:52] <quidnunc> twkm: I guess it's just an implementation detail of nq?
[02:19:05] <emanuele6> then remove the double quotes
[02:19:12] *** Quits: tmm88 (~tmm88@user/tmm88) (Quit: Lost terminal)
[02:19:57] <emanuele6>     nq -c bash -c 'step1 >> log'
[02:19:59] *** Quits: dreamon (~dreamon@pd9503f67.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[02:20:22] <quidnunc> emanuele6: Thanks!
[02:20:31] <quidnunc> that worked
[02:20:47] <quidnunc> Yeah I should have realized that
[02:20:57] <quidnunc> emanuele6, twkm: thanks again
[02:24:01] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Read error: error:1408F119:SSL routines:ssl3_get_record:decryption failed or bad record mac)
[02:24:28] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[02:25:29] *** Quits: serj2990 (~sergiu@2a02:2f08:e00f:6200::48b) (Quit: WeeChat 3.3)
[02:29:26] *** Quits: husixu (~husixu@137.132.119.2) (Quit: Leaving)
[02:32:40] *** Quits: gschanuel21 (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[02:33:39] *** Joins: gschanuel21 (~gschanuel@user/gschanuel)
[02:35:00] *** Joins: KhazAkar (~KhazAkar@178.43.196.230.ipv4.supernova.orange.pl)
[02:35:53] *** Quits: KhazAkar (~KhazAkar@178.43.196.230.ipv4.supernova.orange.pl) (Remote host closed the connection)
[02:39:29] *** Joins: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au)
[02:40:25] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[02:41:04] *** Joins: unop (~unop@195.91.110.106)
[02:42:24] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[02:43:18] *** Quits: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk) (Ping timeout: 260 seconds)
[02:44:42] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[02:45:19] *** Joins: serj2990 (~sergiu@2a02:2f08:e00f:6200::48b)
[02:48:38] *** Joins: welder (~welder@vps-1ca6fb1a.vps.ovh.ca)
[02:50:13] *** Joins: heehaw (~drkshadow@209.6.106.114)
[02:50:38] <heehaw> # ( echo "Subshell $$"; sleep 10) & echo "Waiting for subshell $!"; wait
[02:50:45] <shbot> heehaw: [1] 51
[02:50:45] <shbot> heehaw: Waiting for subshell 51
[02:50:45] <shbot> heehaw: Subshell 44
[02:50:58] <heehaw> Why is the subshell's PID different from the background PID?
[02:51:11] <heehaw> and, how can I get the values to match?
[02:51:19] *** Quits: earendel (uid498179@user/earendel) (Quit: Connection closed for inactivity)
[02:51:34] *** Joins: rcernin (~rcernin@101.189.144.104)
[02:51:57] *** Joins: seninha (~seninha@user/seninha)
[02:52:40] *** Quits: chomwitt (~chomwitt@2a02:587:dc0d:3700:12c3:7bff:fe6d:d374) (Ping timeout: 268 seconds)
[02:53:17] <heehaw> $BASHPID. Why is that different from $$?
[02:54:54] *** Joins: junebug (~junebug@2600:1700:3db0:2540:b62f:6f3c:5a3b:e2c2)
[02:55:38] *** Quits: DaNeenjah (~jake@adsl-74-230-7-13.hsv.bellsouth.net) (Quit: WeeChat 3.3)
[02:56:24] <emanuele6> $$ is the pid of the main shell, $BASHPID is the pid of the current process
[02:56:54] <heehaw> # ( echo "Subshell $$ -- $BASHPID"; sleep 10) & echo "Parent $$ ($BASHPID) waiting for subshell $!"; wait
[02:57:00] <shbot> heehaw: [1] 51
[02:57:01] <shbot> heehaw: Parent 44 (44) waiting for subshell 51
[02:57:01] <shbot> heehaw: Subshell 44 -- 51
[02:57:04] <emanuele6> a subshell is created with a fork(), so subshell's are different processes with different process ids
[02:57:16] <heehaw> I get different results on my machien..
[02:57:36] <heehaw> # echo '( echo "Subshell $$ -- $BASHPID"; sleep 10) & echo "Parent $$ ($BASHPID) waiting for subshell $!"; wait' > script.sh; bash script.sh
[02:57:42] <shbot> heehaw: Parent 51 (51) waiting for subshell 52
[02:57:43] <shbot> heehaw: Subshell 51 -- 52
[02:58:06] <emanuele6> heehaw: sleep 10...
[02:59:14] <emanuele6> what different result do you get?
[02:59:45] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[03:00:39] <heehaw> Parent 13041 waiting for 13042 ----- then I was running a command in a subshell, `nc hostname 9999 < .procinput-$$` and getting an error, line 21: .procinput-13046: No such file or directory
[03:00:52] <heehaw> $$ seemed to change after the first or second echo, and/or be different within an eval.
[03:02:05] <emanuele6> that looks like a different command from what you ran here
[03:02:15] *** Quits: dextercd (~dexter@2a02-a450-f25d-1-76d4-35ff-fefe-34c.fixed6.kpn.net) (Quit: WeeChat 3.3)
[03:02:47] <heehaw> # ( trap "rm .procinput-$BASHPID; exit" EXIT; echo "Started subshell $$ ($BASHPID)"; mkfifo .procinput-$BASHPID; ls -l ".procinput-$BASHPID"; nc localhost 9481 < ".procinput-$BASHPID"; echo "nc returned." ) & subpid=$!; subtalk="4procinput-$subpid"; echo "Parent $$ waiting for $subpid"; sleep 2
[03:02:55] <shbot> heehaw: [1] 52
[03:02:55] <shbot> heehaw: Parent 45 waiting for 52
[03:02:55] <shbot> heehaw: etc... ( http://ix.io/3HUL )
[03:02:57] <heehaw> one is testing -- a model of the application. The other is the actual application.
[03:03:18] <heehaw> The error is generated. Line 1: .procinput-56: no such file or direcotry.
[03:03:27] <heehaw> so, $BASHPID is changing.
[03:03:43] <heehaw> it lists it just fine, then it can't pipe in from it on the nc command
[03:03:53] *** Quits: Itaru (~DaSH@ro2.flokinet.is) (Remote host closed the connection)
[03:04:09] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[03:04:51] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[03:05:00] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.3)
[03:07:00] *** Joins: arinov (~arinov@213.194.126.155)
[03:07:12] <emanuele6> qinteresting
[03:08:03] <emanuele6> # ( echo "$BASHPID"; cat < "$BASHPID" )
[03:08:05] <shbot> emanuele6: 51
[03:08:05] <shbot> emanuele6: bash: 51: No such file or directory
[03:08:27] <emanuele6> i get  829940  and  829941
[03:09:03] <heehaw> you're not creating the file, but still. Same thing. It's like it's creating another subshell for file redirection, or I don't know.
[03:09:31] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[03:10:12] <emanuele6> # ( $BASHPID; < $BASHPID )
[03:10:13] <shbot> emanuele6: bash: 51: command not found
[03:10:13] <shbot> emanuele6: bash: 53: No such file or directory
[03:10:54] <emanuele6> BASHPID seems to behave incorrectly in redirections, that is probably a bug
[03:11:58] <emanuele6> you can solve this by using pipe=.procinput-$BASHPID and then redirecting from $pipe i guess
[03:12:09] <heehaw> that's what I idd.
[03:12:36] <heehaw> # ( trap "rm .procinput-$$; exit" EXIT; echo "Started subshell $$ ($BASHPID)"; mkfifo .procinput-$$; ls -l ".procinput-$$"; nc localhost 9481 < ".procinput-$$"; echo "nc returned." ) & subpid=$!; subtalk="4procinput-$subpid"; echo "Parent $$ waiting for $subpid"; sleep 2
[03:12:43] <shbot> heehaw: [1] 51
[03:12:43] <shbot> heehaw: Parent 44 waiting for 51
[03:12:43] <shbot> heehaw: etc... ( http://ix.io/3HUM )
[03:12:53] <emanuele6> that does not refer to the pid of the subshell
[03:13:13] <emanuele6> 4# ( $BASHPID; < $BASHPID )
[03:13:13] <shbot> emanuele6: bash: 55: command not found
[03:13:14] <shbot> emanuele6: bash: 55: No such file or directory
[03:13:24] <emanuele6> anyway this seems to be a bash5 bug
[03:13:33] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[03:13:52] <heehaw> I always find such random bugs..
[03:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:15:17] <emanuele6> anyway, save the name of the file into a variable and expand $BASHPID in that assignment
[03:15:39] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:15:46] <emanuele6> then you will have the pid of the current correct process in the filename
[03:15:50] <heehaw> Further...
[03:16:01] <heehaw> 4# echo $$; ( eval 'echo $$')&
[03:16:02] <shbot> heehaw: 45
[03:16:03] <shbot> heehaw: [1] 55
[03:16:03] <shbot> heehaw: 45
[03:16:06] <heehaw> # echo $$; ( eval 'echo $$')&
[03:16:07] <shbot> heehaw: 44
[03:16:07] <shbot> heehaw: [1] 51
[03:16:07] <shbot> heehaw: 44
[03:16:13] <emanuele6> that is correct
[03:16:23] <emanuele6> not sure why you added the eval
[03:16:24] <heehaw> it feels like those should not be the same... when you switch to a subshell, you're in a new shell.
[03:16:38] <heehaw> so that there's no "string substitution" happening before the subshell is executed.
[03:16:39] <emanuele6> no, that is not how it works
[03:16:43] <heehaw> just-in-case.
[03:19:49] <emanuele6> interesting
[03:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:16] <emanuele6> i just tried to check the running processes with htop
[03:20:30] <emanuele6> while running `< $BASHPID$(sleep 20)'
[03:20:33] *** Quits: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au) (Ping timeout: 250 seconds)
[03:20:45] <emanuele6> it seems that bash forks for the redirection
[03:21:24] <emanuele6> i wonder
[03:21:39] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:21:48] <emanuele6> # echo a > a; cat < "a${x=2}"; echo "$x"
[03:21:49] <shbot> emanuele6: bash: a2: No such file or directory
[03:21:49] <shbot> emanuele6: 2
[03:21:56] <emanuele6> ah, right
[03:22:00] <emanuele6> # echo a > a2; cat < "a${x=2}"; echo "$x"
[03:22:01] <shbot> emanuele6: a
[03:22:01] <shbot> emanuele6: 2
[03:22:07] <emanuele6> that works
[03:22:52] <emanuele6> # echo a > a2; cat < "a${x=2}${BASHPID#"$BASHPID"}"; echo "$x"
[03:22:53] <shbot> emanuele6: a
[03:22:53] <shbot> emanuele6: 2
[03:22:56] <emanuele6> that also works
[03:23:30] <emanuele6> # echo a > a2; cat < "a${x=2}$(echo hello)${BASHPID#"$BASHPID"}"; echo "$x"
[03:23:31] <shbot> emanuele6: bash: a2hello: No such file or directory
[03:23:31] <shbot> emanuele6: 2
[03:23:38] <emanuele6> that also works
[03:23:50] <emanuele6> really odd
[03:24:13] *** Joins: jinsun__ (~quassel@user/jinsun)
[03:24:20] <heehaw> # echo a > a2; cat < "a${x=2}$(cat <hello${BASHPID}${x="$BASHPID"})${BASHPID#"$BASHPID"}"; echo "$x"
[03:24:20] <shbot> heehaw: bash: hello512: No such file or directory
[03:24:20] <shbot> heehaw: a
[03:24:20] <shbot> heehaw: 2
[03:24:33] <heehaw> # echo a > a2; cat < "a${x=2}$(cat <hello${BASHPID}-${x="$BASHPID"})${BASHPID#"$BASHPID"}"; echo "$x"
[03:24:34] <shbot> heehaw: bash: hello51-2: No such file or directory
[03:24:34] <shbot> heehaw: a
[03:24:34] <shbot> heehaw: 2
[03:24:36] <emanuele6> not sure what you expect from that
[03:24:42] *** Joins: stevenm_ (~stevenm@stevenm.keele.netcentral.co.uk)
[03:24:45] <heehaw> they're not the same.
[03:25:21] <heehaw> I don't know what the intent/behavior is of ${BASHPID#"$BASHPID"} is exactly, but if it's executing the whole ${} in a subshell, then it makes sense that they'd be the same. Different from the cat process.
[03:25:30] <heehaw> 's parent
[03:25:59] *** Quits: shailangsa (~shailangs@host86-186-127-128.range86-186.btcentralplus.com) (Ping timeout: 252 seconds)
[03:26:12] *** Joins: bertieb_ (~bertieb@217.155.39.147)
[03:26:14] <emanuele6> no, ${BASHPID#"$BASHPID"} just expands to nothing (expands to the content of BASHPID with the content of BASHPID removed from the start)
[03:26:14] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[03:26:21] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Ping timeout: 252 seconds)
[03:26:35] <emanuele6> i was just trying to see if introducing BASHPID would make the redirection work unexpectedly
[03:26:43] *** Quits: bertieb (~bertieb@217.155.39.147) (Ping timeout: 252 seconds)
[03:27:05] *** Quits: jinsun (~quassel@user/jinsun) (Ping timeout: 252 seconds)
[03:27:05] *** Quits: downtrip (~downtrip@188.166.151.198) (Ping timeout: 252 seconds)
[03:27:17] *** Quits: stevenm (~stevenm@user/stevenm) (Ping timeout: 250 seconds)
[03:27:22] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[03:27:29] <emanuele6> not sure what your test is supposed to show ${x=$BASHPID} doesn't even evaluate what is after the = if x is already set which it is in this case
[03:28:07] <emanuele6> in any case, the output looks correct
[03:29:03] *** Joins: downtrip (~downtrip@188.166.151.198)
[03:29:11] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[03:30:10] *** Quits: tk (~tk@ircpuzzles/staff/tk) (Quit: Well, this is unexpected.)
[03:30:35] *** Joins: tk (~tk@ircpuzzles/staff/tk)
[03:30:40] <emanuele6> `cat < "a${x=2}$(echo hello)${BASHPID#"$BASHPID"}"' with this i was trying to see if the string was being expanded in a subshell
[03:30:45] *** Quits: kurahaupo (~kurahaupo@203-194-51-46.static.tpgi.com.au) (Ping timeout: 250 seconds)
[03:31:07] <emanuele6> if it was x would not be set to 2 in the main shell and `echo "$x"' after would not have printed 2
[03:31:16] <emanuele6> that was what i was trying to check with that
[03:33:15] *** Joins: shailangsa_ (~shailangs@host86-186-127-128.range86-186.btcentralplus.com)
[03:33:39] <emanuele6> ah, interesting
[03:34:10] <emanuele6> # cat < "a${x=2}$BASHPID"; echo "$x"
[03:34:11] <shbot> emanuele6: bash: a244: No such file or directory
[03:34:11] <shbot> emanuele6: 2
[03:34:30] <emanuele6> mm, that does not set x on my PC
[03:34:48] *** Quits: fstd (~fstd@xdsl-85-197-54-43.nc.de) (Read error: Connection reset by peer)
[03:35:55] *** Joins: fstd (~fstd@xdsl-85-197-54-43.nc.de)
[03:35:57] <emanuele6> on my pc i get a different pid for BASHPID and i see that the shell is actually forking creating a process with that different pid
[03:38:11] <emanuele6> # bash -c 'cat < "a${x=2}$BASHPID"; echo "$x"'
[03:38:12] <shbot> emanuele6: bash: line 1: a252: No such file or directory
[03:41:09] *** Joins: sturmmann (~sturmmann@user/sturmmann)
[03:42:04] *** Quits: eternal_peril (~eternal_p@2607:fea8:3cdf:d1d4:a550:a0c0:1950:b6c2) (Ping timeout: 256 seconds)
[03:43:12] *** Quits: tejr (~tejr@user/tejr) (Ping timeout: 276 seconds)
[03:44:10] *** Quits: Strom (~strom@fedora/strom) ()
[03:44:14] *** Joins: tejr (~tejr@user/tejr)
[03:45:37] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[03:46:12] *** Joins: Strom (strom@fedora/strom)
[03:46:45] *** Joins: dre (~dre@2001:8003:c932:c301:706d:6370:7ead:d0e3)
[03:47:33] *** Quits: Libero (~Libero@77.49.32.8.dsl.dyn.forthnet.gr) (Read error: Connection reset by peer)
[03:50:45] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[03:50:54] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:c514:d4dd:e381:3dae)
[03:50:54] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:c514:d4dd:e381:3dae) (Changing host)
[03:50:54] *** Joins: skapata (~Skapata@user/skapata)
[03:51:00] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[03:52:05] *** Quits: wuseman (~wuseman@user/wuseman) (Excess Flood)
[03:53:28] *** Quits: cryptonector (~nico@24.28.108.183) (Quit: leaving)
[03:54:53] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[03:56:02] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Quit: Leaving)
[03:56:26] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7) (Quit: enoq)
[03:59:07] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 250 seconds)
[04:01:44] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3)
[04:02:16] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:02:32] *** Joins: bud (~bud@user/bud)
[04:04:00] *** Quits: rgrinberg (~textual@2806:101e:7:6946:301f:4093:a99:4144) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:04:42] <emanuele6> actually, i get the same behaviour on bash-4.4 locally
[04:07:35] <emanuele6> what is happening seems to be that bash is running `cat < something' in a subshell
[04:07:52] *** Parts: bud (~bud@user/bud) (Leaving.)
[04:08:40] <emanuele6> so BASHPID gets expanded to the pid of that subshell
[04:09:31] <emanuele6> even if you remove $BASHPID, it still runs everything in a subshell so `cat < ${x=2}' doesn't set x in the main shell
[04:10:38] <emanuele6> if you write it as   { cat ;} < "$BASHPID${x=2}"  x will be set
[04:11:08] *** Quits: blyat-73 (~hjgkjhgkj@46.235.96.249) (Quit: Leaving)
[04:11:22] <emanuele6> i am not sure why it is inconsistent though, in shbot `< something' does not seem to be expanded in the subshell that execs cat
[04:17:33] *** Quits: junebug (~junebug@2600:1700:3db0:2540:b62f:6f3c:5a3b:e2c2) (Quit: Leaving)
[04:18:05] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[04:20:46] *** Quits: serj2990 (~sergiu@2a02:2f08:e00f:6200::48b) (Quit: WeeChat 3.3)
[04:21:05] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[04:21:06] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Excess Flood)
[04:22:22] *** Joins: serj2990 (~sergiu@2a02:2f08:e00f:6200::48b)
[04:22:51] *** Joins: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za)
[04:23:14] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[04:23:15] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Changing host)
[04:23:15] *** Joins: wuseman (~wuseman@user/wuseman)
[04:23:15] *** Quits: wuseman (~wuseman@user/wuseman) (Excess Flood)
[04:23:40] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[04:23:52] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[04:23:53] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Changing host)
[04:23:53] *** Joins: wuseman (~wuseman@user/wuseman)
[04:23:53] *** Quits: wuseman (~wuseman@user/wuseman) (Excess Flood)
[04:24:11] *** Joins: tejr (~tejr@user/tejr)
[04:24:30] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[04:24:30] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Excess Flood)
[04:25:06] *** Joins: dangmoo (uid460623@id-460623.helmsley.irccloud.com)
[04:25:07] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[04:25:07] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Excess Flood)
[04:25:29] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[04:25:30] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Excess Flood)
[04:26:22] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[04:26:22] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Changing host)
[04:26:22] *** Joins: wuseman (~wuseman@user/wuseman)
[04:26:44] *** Quits: serj2990 (~sergiu@2a02:2f08:e00f:6200::48b) (Client Quit)
[04:26:53] <emanuele6> either way, bash seems to evaluate redirections in subshells in some situations
[04:27:02] *** Joins: serj2990 (~sergiu@2a02:2f08:e00f:6200::48b)
[04:27:17] *** Joins: kurahaupo (~kurahaupo@pa49-195-67-63.pa.nsw.optusnet.com.au)
[04:27:24] <emanuele6> so you should never rely on bash expanding the redirection string in the current shell
[04:32:53] *** Quits: wuseman (~wuseman@user/wuseman) (Quit: https://github.com/wuseman)
[04:33:40] *** Joins: paulgrmn__ (~paulgrmn@user/paulgrmn)
[04:37:21] *** Joins: rcernin_ (~rcernin@101.189.144.104)
[04:37:44] *** Quits: rcernin_ (~rcernin@101.189.144.104) (Client Quit)
[04:37:59] *** Joins: rcernin_ (~rcernin@101.189.144.104)
[04:38:32] *** Quits: Stotteren (~Stotteren@pool-108-20-79-41.bstnma.fios.verizon.net) (Remote host closed the connection)
[04:38:44] *** thirstii is now known as wiscii
[04:40:27] *** Quits: serj2990 (~sergiu@2a02:2f08:e00f:6200::48b) (Quit: WeeChat 3.3)
[04:40:37] *** Joins: serj2990 (~sergiu@2a02:2f08:e00f:6200::48b)
[04:42:23] *** Quits: shailangsa_ (~shailangs@host86-186-127-128.range86-186.btcentralplus.com) ()
[04:44:49] *** Quits: kurahaupo (~kurahaupo@pa49-195-67-63.pa.nsw.optusnet.com.au) (Ping timeout: 252 seconds)
[04:46:31] *** Joins: seninha (~seninha@user/seninha)
[04:47:30] *** Joins: fluter- (~fluter@user/fluter)
[04:47:39] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[04:48:17] *** Quits: greknod28 (~grek@120.88.171.98) (Quit: Ping timeout (120 seconds))
[04:48:36] *** Joins: greknod28 (~grek@120.88.171.98)
[04:48:50] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Ping timeout: 260 seconds)
[04:49:31] *** Quits: fluter (~fluter@user/fluter) (Ping timeout: 245 seconds)
[04:49:31] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[04:49:32] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Changing host)
[04:49:32] *** Joins: wuseman (~wuseman@user/wuseman)
[04:50:07] *** Quits: wuseman (~wuseman@user/wuseman) (Remote host closed the connection)
[04:50:21] *** Joins: shailangsa (~shailangs@host86-186-127-128.range86-186.btcentralplus.com)
[04:50:57] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[04:52:19] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 268 seconds)
[04:54:15] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[04:54:16] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Changing host)
[04:54:16] *** Joins: wuseman (~wuseman@user/wuseman)
[04:55:53] *** Quits: rcernin (~rcernin@101.189.144.104) (Ping timeout: 250 seconds)
[04:57:21] *** Joins: rcernin (~rcernin@101.189.144.104)
[04:57:55] *** Joins: zebrag (~chris@user/zebrag)
[04:58:49] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[04:59:06] *** Quits: serj2990 (~sergiu@2a02:2f08:e00f:6200::48b) (Quit: WeeChat 3.3)
[04:59:49] *** Quits: nattiestnate (~nate@2001:448a:20a0:4134:25e:715f:d637:5263) (Quit: WeeChat 3.3)
[05:04:31] *** Joins: earendel (uid498179@user/earendel)
[05:06:12] *** Quits: dsrt^ (~dsrt@wsip-98-188-240-142.mc.at.cox.net) (Remote host closed the connection)
[05:07:08] *** Quits: rcernin (~rcernin@101.189.144.104) (Ping timeout: 256 seconds)
[05:07:55] *** Joins: richardm75 (~richardm7@2600:8801:c507:b200:91b6:87e8:90e0:6d58)
[05:09:23] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 252 seconds)
[05:09:40] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[05:10:55] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Read error: Connection reset by peer)
[05:11:14] *** Joins: paulgrmn__ (~paulgrmn@user/paulgrmn)
[05:12:59] *** Joins: rcernin (~rcernin@101.189.144.104)
[05:13:57] *** Joins: nabaiste^ (~nabaiste@wsip-98-188-240-142.mc.at.cox.net)
[05:14:05] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[05:16:32] *** Joins: rgrinberg (~textual@2806:101e:7:6946:301f:4093:a99:4144)
[05:16:38] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[05:18:12] *** Quits: omnigoat (~omnigoat@user/omnigoat) (Ping timeout: 268 seconds)
[05:20:23] *** Quits: rcernin (~rcernin@101.189.144.104) (Ping timeout: 252 seconds)
[05:20:45] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[05:22:00] *** Joins: rcernin (~rcernin@101.189.144.104)
[05:22:33] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[05:25:51] *** Joins: kurahaupo (~kurahaupo@pa49-195-67-63.pa.nsw.optusnet.com.au)
[05:27:27] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 268 seconds)
[05:29:28] *** Quits: zumba_addict (~zumba_add@2601:240:4500:8320:224:1dff:fec8:64f6) (Quit: Client closed)
[05:30:03] *** Norkle is now known as sickjoke
[05:30:49] *** sickjoke is now known as NOrkle
[05:30:56] *** Joins: BSaboia (~bsaboia@177.51.33.61)
[05:30:57] *** NOrkle is now known as Norkle
[05:31:30] *** Joins: CaCode_ (~CaCode@user/cacode)
[05:33:34] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[05:34:06] *** Quits: CaCode (~CaCode@user/cacode) (Ping timeout: 260 seconds)
[05:36:36] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[05:41:26] *** Quits: BSaboia (~bsaboia@177.51.33.61) (Quit: This computer has gone to sleep)
[05:41:57] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[05:45:05] *** Joins: uc50ic4more (~uc50ic4mo@dyn216-174-98-188.HSIA.mnsi.net)
[05:46:42] *** Quits: sturmmann (~sturmmann@user/sturmmann) (Ping timeout: 276 seconds)
[05:54:15] *** Joins: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk)
[05:55:29] *** Quits: rcernin (~rcernin@101.189.144.104) (Ping timeout: 250 seconds)
[05:55:52] *** Quits: CaCode_ (~CaCode@user/cacode) (Ping timeout: 256 seconds)
[05:55:57] *** Quits: relight (~relight@user/relight) (Ping timeout: 252 seconds)
[05:56:24] *** Joins: relight (~relight@user/relight)
[05:57:50] *** Joins: rcernin (~rcernin@101.189.144.104)
[05:58:50] *** Quits: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk) (Ping timeout: 260 seconds)
[05:58:57] *** Joins: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au)
[05:58:58] *** Quits: timj (~timj@user/timj) (Quit: Leaving.)
[06:02:58] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[06:07:12] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[06:10:36] *** Quits: n4dir (~user@i5E86C530.versanet.de) (Ping timeout: 256 seconds)
[06:10:37] *** Quits: rcernin (~rcernin@101.189.144.104) (Ping timeout: 252 seconds)
[06:11:30] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[06:12:37] *** Joins: n4dir (~user@i5E8666B9.versanet.de)
[06:25:14] *** Joins: eternal_peril (~eternal_p@2607:fea8:3cdf:d1d4:a550:a0c0:1950:b6c2)
[06:28:09] *** Joins: junebug (~junebug@2600:1700:3db0:2540:f028:88b8:1db1:5d22)
[06:31:03] *** Quits: zaz\ (~zaz@poneybl.eu) (Quit: bye)
[06:31:28] *** Joins: zaz\ (~zaz@poneybl.eu)
[06:33:40] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[06:34:45] *** Quits: lemonsnicks (~lemonsnic@cpc159519-perr18-2-0-cust114.19-1.cable.virginm.net) (Quit: ZNC 1.8.2 - https://znc.in)
[06:35:26] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[06:36:13] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[06:36:27] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[06:36:58] *** Joins: tejr (~tejr@user/tejr)
[06:37:41] *** Quits: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za) (Remote host closed the connection)
[06:39:20] *** Joins: rcernin (~rcernin@101.189.144.104)
[06:39:54] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 260 seconds)
[06:44:36] <CarlFK> set -x;i=$(hostname -I) ... + i='10.21.0.226 '
[06:44:42] <CarlFK> how to I strip the trailing space?
[06:44:45] <earendel> # ( echo "Subshell $$"; sleep 10) && echo "Waiting for subshell $!"; wait
[06:44:51] <shbot> earendel: Subshell 44
[06:47:07] *** Joins: lemonsnicks (~lemonsnic@cpc159519-perr18-2-0-cust114.19-1.cable.virginm.net)
[06:48:36] <earendel> # echo $( echo "Subshell $$";  ); pit=$!; & sleep 10; echo "Waiting for subshell $! / $pit"; wait
[06:48:37] <shbot> earendel: bash: syntax error near unexpected token `&'
[06:48:51] <earendel> #( echo $( echo "Subshell $$";  ); pit=$! ) & sleep 10; echo "Waiting for subshell $! / $pit"; wait
[06:48:55] <earendel> # ( echo $( echo "Subshell $$";  ); pit=$! ) & sleep 10; echo "Waiting for subshell $! / $pit"; wait
[06:49:02] <shbot> earendel: [1] 51
[06:49:02] <shbot> earendel: Subshell 44
[06:50:29] *** Chex is now known as The
[06:50:35] *** Quits: nickodd (~nickodd@user/nickodd) (Ping timeout: 252 seconds)
[06:50:37] *** The is now known as Chex
[06:51:48] <earendel> lol the fuck is this site https://www.fathersloveletter.com/fllpreviewlarge.html
[06:51:53] *** Quits: Itaru (~DaSH@ro2.flokinet.is) (Quit: See Ya Later!)
[06:52:14] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[06:52:34] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[06:52:54] <e36freak> CarlFK: i=${i% }
[06:53:00] <e36freak> !faq 100
[06:53:00] <greybot> https://mywiki.wooledge.org/BashFAQ/100 -- How do I do string manipulations in bash?
[06:54:06] *** Joins: Hashida (~DaSH@ro2.flokinet.is)
[06:55:10] <earendel> xD http://www.aalf.ws/smoking/image/smokeintheBibleAS.gif
[06:57:55] *** Quits: jos1 (~jos3@dyndsl-178-142-071-142.ewe-ip-backbone.de) (Ping timeout: 252 seconds)
[06:58:37] *** Quits: Hashida (~DaSH@ro2.flokinet.is) (Client Quit)
[06:58:45] *** Quits: Itaru (~DaSH@ro2.flokinet.is) (Quit: See Ya Later!)
[06:59:06] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[07:01:15] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Quit: Leaving...)
[07:03:35] <CarlFK> e36freak: is that notation described on the faq?
[07:04:32] *** Quits: Itaru (~DaSH@ro2.flokinet.is) (Quit: See Ya Later!)
[07:04:45] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[07:10:30] *** Joins: seninha (~seninha@user/seninha)
[07:11:23] *** Joins: jos1 (~jos3@dyndsl-091-096-032-208.ewe-ip-backbone.de)
[07:12:35] *** Quits: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1) (Quit: The Lounge - https://thelounge.chat)
[07:13:17] *** Joins: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1)
[07:13:19] *** Joins: nickodd (~nickodd@user/nickodd)
[07:14:29] *** Quits: Darkfoe1 (~chuck@drunk.serverfail.party) (Quit: WeeChat 2.3)
[07:15:46] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[07:17:38] <e36freak> CarlFK: take a look and see
[07:17:51] *** Quits: ProperN[out] (~holyShizn@user/propernoun) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[07:18:11] *** Joins: ProperNoun (~holyShizn@user/propernoun)
[07:18:24] <CarlFK> I did :p
[07:19:50] <CarlFK> doesn't matter - turns out hostname doesn't help me, so now I'm swimming in awk lasn
[07:22:06] *** Quits: ProperNoun (~holyShizn@user/propernoun) (Client Quit)
[07:22:26] *** Joins: ProperNoun (~holyShizn@user/propernoun)
[07:23:14] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[07:25:36] *** Quits: uc50ic4more (~uc50ic4mo@dyn216-174-98-188.HSIA.mnsi.net) (Quit: uc50ic4more)
[07:27:05] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[07:30:19] *** Quits: eoli3n_ (~eoli3n@162.38.105.222) (Remote host closed the connection)
[07:30:39] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:31:03] *** Joins: eoli3n (~eoli3n@162.38.105.222)
[07:31:42] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 260 seconds)
[07:32:53] *** Joins: xx (~xx@user/xx)
[07:33:00] *** Quits: Fausto (~dante@gateway/tor-sasl/filohuhum) (Remote host closed the connection)
[07:33:29] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 252 seconds)
[07:33:35] *** Joins: Fausto (~dante@gateway/tor-sasl/filohuhum)
[07:36:25] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 252 seconds)
[07:38:26] *** Quits: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[07:40:02] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.3)
[07:40:19] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:41:34] *** Quits: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net) (Quit: It's just that easy)
[07:42:36] *** Joins: kdc (~kdc@196.211.197.159)
[07:55:12] *** Quits: eternal_peril (~eternal_p@2607:fea8:3cdf:d1d4:a550:a0c0:1950:b6c2) (Quit: Client closed)
[07:56:48] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[07:57:41] *** Quits: junebug (~junebug@2600:1700:3db0:2540:f028:88b8:1db1:5d22) (Ping timeout: 252 seconds)
[07:57:43] *** Joins: tejr (~tejr@user/tejr)
[07:58:39] *** Quits: dre (~dre@2001:8003:c932:c301:706d:6370:7ead:d0e3) (Quit: Leaving)
[07:59:40] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[08:00:38] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 260 seconds)
[08:03:44] *** Joins: CaCode (~CaCode@user/cacode)
[08:04:05] *** Quits: Alternity (~Alternity@user/alternity) (Quit: Alternity)
[08:04:30] *** Quits: unixman_home (~unixman2@223-114-35-72.mtaonline.net) (Ping timeout: 256 seconds)
[08:05:33] *** Joins: dre (~dre@2001:8003:c932:c301:3df8:d146:e893:5aaa)
[08:05:48] *** Joins: Alternity (~Alternity@user/alternity)
[08:07:13] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[08:07:30] *** Joins: Knaxius (~Knaxius@user/Knaxius)
[08:08:12] *** Joins: nattiestnate (~nate@2001:448a:20a0:4134:25e:715f:d637:5263)
[08:08:30] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[08:09:02] *** Quits: rcernin (~rcernin@101.189.144.104) (Ping timeout: 256 seconds)
[08:11:10] *** Joins: taupiqueur_ (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[08:11:29] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Read error: Connection reset by peer)
[08:11:55] *** Joins: vishal (~vishal@fedora/vishal)
[08:11:58] *** Joins: rcernin (~rcernin@101.189.144.104)
[08:15:48] *** Quits: taupiqueur_ (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 268 seconds)
[08:17:02] *** Quits: rcernin (~rcernin@101.189.144.104) (Ping timeout: 268 seconds)
[08:19:45] <kurahaupo> emanuele6: The issue with BASHPID changing is because in reality every command that's not a built-in gets its own transient subshell, between the fork() and the execve(). It's not normally visible, but clearly in this case the order of redirection then fork has been switched, probably to fix a bug involving blocking the parent when opening a fifo or slow device.
[08:24:19] *** Quits: Mo (~Mo@dynamic-077-008-155-036.77.8.pool.telefonica.de) (Ping timeout: 250 seconds)
[08:25:57] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[08:29:40] *** Quits: wuseman (~wuseman@user/wuseman) (Quit: quit)
[08:31:49] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[08:33:34] *** Quits: nattiestnate (~nate@2001:448a:20a0:4134:25e:715f:d637:5263) (Quit: WeeChat 3.3)
[08:36:17] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[08:37:04] *** Joins: Mo (~Mo@dynamic-077-008-191-014.77.8.pool.telefonica.de)
[08:38:13] *** Quits: l4yer (~l4yer@139.28.219.37) (Ping timeout: 240 seconds)
[08:50:06] *** Joins: sinaowolabi (~SinaOwola@41.58.229.230)
[08:51:51] *** Joins: l4yer (~l4yer@195.181.170.210)
[08:52:29] *** Quits: Inline (~Inline@aftr-37-201-240-204.unity-media.net) (Quit: Leaving)
[08:53:50] *** Joins: sublim20 (~sublim20@user/sublim20)
[08:55:18] *** Quits: dtux (~dtux@2601:646:8f00:3f2:53eb:355a:694a:c73) (Quit: dtux)
[08:55:37] *** Quits: joerg (~saturn@user/joerg) (Ping timeout: 252 seconds)
[08:56:43] *** Joins: joerg (~saturn@user/joerg)
[08:57:18] *** Joins: ghostboarder (~quassel@S010640623101dbe0.va.shawcable.net)
[08:57:19] *** Quits: ghostboarder (~quassel@S010640623101dbe0.va.shawcable.net) (Changing host)
[08:57:19] *** Joins: ghostboarder (~quassel@user/ghostboarder)
[08:58:55] *** Joins: palwd (~walid@5.107.177.159)
[08:59:09] *** Quits: n4dir (~user@i5E8666B9.versanet.de) (Remote host closed the connection)
[09:01:16] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[09:03:00] *** Joins: szutt (~szutt@116.37.2.145)
[09:04:08] *** jinsun__ is now known as jinsun
[09:05:43] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 250 seconds)
[09:07:02] <hejux> is it ok to list all sd? with this? ls /dev/sd[a-z]
[09:07:57] <yitz> Sure
[09:08:01] <yitz> But don't parse it
[09:08:05] <yitz> !ls
[09:08:05] <greybot> DO NOT USE ls' output for anything. ls is a tool for interactively looking at directory metadata. Any attempts at parsing ls' output with code are broken. Globs are much more simple AND correct: ''for file in *.txt''. Read http://mywiki.wooledge.org/ParsingLs
[09:08:27] *** Quits: A|an (~Alan@173.216.51.200) (Quit: A|an)
[09:09:10] <hejux> well, don't parse it.
[09:10:01] <hejux> for dev in /dev/sd[a-z] ; do echo $dev ; done
[09:10:21] <hejux> not able to use sd[a-z]$ ?
[09:10:23] *** Joins: randomxusr (~randomusr@c-73-242-70-183.hsd1.mn.comcast.net)
[09:11:18] <hejux> not we don't need that '$'
[09:11:30] <hejux> or we can't use that in glob '$'
[09:12:27] *** Joins: gordonfish- (~gordonfis@user/gordonfish)
[09:12:30] <yitz> $ is not a glob character
[09:12:50] <hejux> !glob
[09:12:51] <greybot> Globs are shell patterns that can be used for matching strings or expanding pathnames: [[ $name = Bob* ]]; rm -- *.txt; see http://mywiki.wooledge.org/glob
[09:14:39] <e36freak> hejux: globs, unlike regex, are anchored by default
[09:14:46] <e36freak> therefore there's no anchor character, you don't need one
[09:14:50] *** Quits: gordonfish (~gordonfis@user/gordonfish) (Ping timeout: 260 seconds)
[09:20:27] <hejux> # sddev=() ; for dev in /dev/sd[a-z] ; do sddev+=($dev) ; done ; typeset -p sddev
[09:20:28] <shbot> hejux: declare -a sddev=([0]="/dev/sd[a-z]")
[09:20:50] <yitz> sddev=( /dev/sd[a-z] )
[09:20:54] <e36freak> # ls /dev
[09:20:55] <shbot> e36freak: console  full  random  stdin   tty    urandom
[09:20:55] <shbot> e36freak: fd       null  stderr  stdout  ttyS0  zero
[09:21:02] <e36freak> you may be interested in nullglob
[09:21:09] *** Quits: quidnunc (~user@bas3-montreal02-65-94-9-48.dsl.bell.ca) (Quit: ERC (IRC client for Emacs 27.1))
[09:21:25] <hejux> # sddev=() ; for dev in /dev/sd[a-z] ; do [[ -b $dev ]] && sddev+=($dev) ; done ; typeset -p sddev
[09:21:26] <shbot> hejux: declare -a sddev=()
[09:21:33] <hejux> ok. fine.
[09:23:07] <hejux> # for dev in /dev/sd[a-z] ; do echo $dev ; done
[09:23:09] <shbot> hejux: /dev/sd[a-z]
[09:23:29] <hejux> what bash is this?
[09:23:46] <e36freak> # echo $BASH_VERSION
[09:23:47] <shbot> e36freak: 5.1.8(1)-release
[09:24:02] <e36freak> but it's irrelevant, all bashes are gonna do that when the glob doesn't match anything
[09:24:07] <e36freak> 00:51 < e36freak> you may be interested in nullglob
[09:24:28] <hejux> i see. if non is found, it just echo the /dev/sd[a-z]
[09:24:42] <hejux> so, i still need a [[ -b ]] test
[09:24:49] <e36freak> ...or nullglob
[09:24:52] <e36freak> as i've mentioned twice
[09:25:14] <hejux> yes. like shopt + and then shopt -?
[09:25:16] <yitz> hejux: a nullglob will help there
[09:25:27] <yitz> shopt -s nullglob
[09:25:30] <e36freak> or just leave it on for the whole script
[09:25:39] <yitz> e36freak: 4th time's the charm :)
[09:26:24] <hejux> why is this not enabled by default
[09:26:31] <hejux> this is very useful actually
[09:26:46] <hejux> save a lot of test
[09:26:48] <e36freak> non-nullglob is POSIX behavior
[09:27:21] <e36freak> also less likely to bite people in the ass when they don't quote properly
[09:27:41] <e36freak> # var='foo[bar]'; echo $var
[09:27:41] <shbot> e36freak: foo[bar]
[09:27:48] <e36freak> # shopt -s nullglob; var='foo[bar]'; echo $var
[09:27:48] <shbot> e36freak: no output
[09:28:22] <hejux> very informative! thanks!
[09:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:31:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[09:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:31:46] <hejux> for i in /dev/sd[a-z]  VS for i in /dev/sd{a..z}
[09:32:24] <hejux> looks like same thing?
[09:32:32] <e36freak> no
[09:32:39] <hejux> but behave differently. i can't tell why
[09:32:49] <e36freak> brace expansion doesn't care about files existing or anything else
[09:32:55] <e36freak> it just expands to all possible combinations
[09:33:01] <e36freak> # echo {a..z}
[09:33:02] <shbot> e36freak: a b c d e f g h i j k l m n o p q r s t u v w x y z
[09:33:18] <e36freak> a glob matches filenames and expands to any that match
[09:33:21] <e36freak> entirely different things
[09:33:37] <e36freak> also happen at different stages in the parsing
[09:33:39] <hejux> right: brace expansion doesn't care about files existing or anything else
[09:33:43] <hejux> this explains
[09:43:29] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[09:44:27] *** Quits: Nact (~l@host-85-27-123-35.dynamic.voo.be) (Quit: Konversation terminated!)
[09:45:13] *** Joins: aniruddha (uid340443@id-340443.ilkley.irccloud.com)
[09:47:41] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 252 seconds)
[09:52:27] *** Joins: Libero (~Libero@77.49.32.8.dsl.dyn.forthnet.gr)
[09:53:08] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:55:21] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:9879:4d99:c237:3a79)
[09:59:26] <hejux> in [[ && ]] [[ || ]] , can we have more than 2 expression?
[10:00:03] <e36freak> sure
[10:00:06] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:9879:4d99:c237:3a79) (Ping timeout: 260 seconds)
[10:00:28] *** Joins: chomwitt (~chomwitt@2a02:587:dc0d:3700:12c3:7bff:fe6d:d374)
[10:00:50] *** Quits: reezoh (~reezoh@2600:1702:3cf0:2e00:30e1:ed5f:a3a0:fd59) (Read error: Connection reset by peer)
[10:00:55] <hejux> # a=1 ; b=1 ; c =1 ; d =1 ; [[ $a && $b && $c && $d ]] ; echo $?
[10:00:56] <shbot> hejux: bash: c: command not found
[10:00:56] <shbot> hejux: bash: d: command not found
[10:00:57] <shbot> hejux: 1
[10:01:37] <hejux> # a=1 ; b=1 ; c =1 ; d =1 ; [[ -n $a && -n $b && -n $c && -n $d ]] ; echo $?
[10:01:38] <shbot> hejux: bash: c: command not found
[10:01:38] <shbot> hejux: bash: d: command not found
[10:01:38] <shbot> hejux: 1
[10:02:12] <hejux> # a=1 ; b=1 ; c =1 ; d =1 ; [[ -n $a && -n $b ]] ; echo $?
[10:02:13] <shbot> hejux: bash: c: command not found
[10:02:13] <shbot> hejux: bash: d: command not found
[10:02:13] <shbot> hejux: 0
[10:02:19] <yitz> !shbot > hejux
[10:02:19] <greybot> hejux: shbot runs each session in a new VM as root. Feel free to play with the bot in #evalbot. | Original: http://www.vidarholen.net/contents/evalbot/ | geirha's fork: https://gitlab.com/geirha/shbot | current triggers: /msg shbot triggers
[10:02:32] <hejux> # a=1 ; b=1 ; c=1 ; d =1 ; [[ $a && $b && $c && $d ]] ; echo $?
[10:02:33] <shbot> hejux: bash: d: command not found
[10:02:33] <shbot> hejux: 1
[10:02:39] <hejux> # a=1 ; b=1 ; c=1 ; d=1 ; [[ $a && $b && $c && $d ]] ; echo $?
[10:02:40] <shbot> hejux: 0
[10:02:40] <yitz> You can chain many expressions inside [[ with && and ||
[10:02:49] <yitz> Quit spamming the channel, though
[10:02:51] <hejux> space
[10:02:53] <hejux> shit
[10:03:21] <e36freak> either pm shbot, or use your own shell
[10:03:24] <e36freak> irc isn't a terminal
[10:03:30] <hejux> :)
[10:07:17] <hejux> i love you guys
[10:14:17] *** Quits: randomxusr (~randomusr@c-73-242-70-183.hsd1.mn.comcast.net) (Quit: Leaving)
[10:16:54] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 260 seconds)
[10:18:09] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[10:19:21] *** Joins: n4dir (~user@i5E8666B9.versanet.de)
[10:19:53] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[10:19:58] *** Joins: hero (~hero@176.62.187.24)
[10:20:09] *** Joins: tejr (~tejr@user/tejr)
[10:21:21] *** Joins: cryptonector (~nico@24.28.108.183)
[10:22:46] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[10:25:08] *** Joins: jle (~jle@user/jle)
[10:27:13] *** Quits: bn_work (uid268505@id-268505.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[10:29:43] *** Joins: callq (~callq@2409:4062:231c:7ae8:3d73:6aac:1dda:a7de)
[10:32:03] *** Quits: Fausto (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 276 seconds)
[10:35:47] *** Joins: kurahaupo_ (~kurahaupo@203-194-51-46.static.tpgi.com.au)
[10:38:35] *** Quits: kurahaupo (~kurahaupo@pa49-195-67-63.pa.nsw.optusnet.com.au) (Read error: Connection reset by peer)
[10:39:12] *** Joins: kurahaupo (~kurahaupo@pa49-195-67-63.pa.nsw.optusnet.com.au)
[10:40:01] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[10:41:27] *** Quits: rgrinberg (~textual@2806:101e:7:6946:301f:4093:a99:4144) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:42:34] *** Quits: kurahaupo_ (~kurahaupo@203-194-51-46.static.tpgi.com.au) (Ping timeout: 260 seconds)
[10:44:28] *** Joins: carl- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se)
[10:45:49] *** Quits: kurahaupo (~kurahaupo@pa49-195-67-63.pa.nsw.optusnet.com.au) (Ping timeout: 250 seconds)
[10:51:28] *** Quits: StathisA (~StathisA@178-147-218-75.haap.dm.cosmote.net) (Read error: Connection reset by peer)
[10:51:57] *** Quits: carl- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se) (Quit: Leaving)
[10:54:11] *** Joins: StathisA (~StathisA@178-147-218-75.haap.dm.cosmote.net)
[10:58:25] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[10:58:26] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Changing host)
[10:58:26] *** Joins: wuseman (~wuseman@user/wuseman)
[11:00:34] *** Joins: t0kie (~t0kie@user/t0kie)
[11:04:41] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 252 seconds)
[11:05:08] *** Joins: dreamon (~dreamon@ppp-88-217-95-198.dynamic.mnet-online.de)
[11:05:50] *** Quits: hero (~hero@176.62.187.24) (Remote host closed the connection)
[11:06:17] *** Quits: t0kie (~t0kie@user/t0kie) (Quit: Leaving)
[11:08:09] *** Joins: sdu (~doo@185.44.146.214)
[11:09:56] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[11:12:18] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:9879:4d99:c237:3a79)
[11:14:18] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 260 seconds)
[11:16:02] *** Quits: rcernin_ (~rcernin@101.189.144.104) (Ping timeout: 256 seconds)
[11:16:27] *** Joins: martinus__ (~martin@96.19.201.77.rev.sfr.net)
[11:17:28] *** Joins: pj (~pj@ghettoforge/pj)
[11:18:33] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Read error: error:1408F119:SSL routines:ssl3_get_record:decryption failed or bad record mac)
[11:18:39] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.3)
[11:18:59] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[11:19:14] *** Joins: rgrinberg (~textual@187.223.209.106)
[11:19:54] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:9879:4d99:c237:3a79) (Ping timeout: 260 seconds)
[11:27:41] *** Joins: taupiqueur (~taupiqueu@231.245.204.77.rev.sfr.net)
[11:31:00] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[11:31:15] *** Joins: unop (~unop@195.91.110.106)
[11:31:27] *** Joins: r319n (~r319n@78-56-254-167.static.zebra.lt)
[11:32:47] <r319n> hi, any idea why "sudo chown" and "sudo mv" doesnt work here https://pastebin.com/raw/QNCBXG71 ? when executed get error: mv: cannot move ‘/tmp/adf_deployer.zip’ to ‘/home/oracle/adf_deployer.zip’: Operation not permitted
[11:33:39] *** Quits: jwash (~jwash@c-73-254-46-148.hsd1.wa.comcast.net) (Ping timeout: 252 seconds)
[11:36:28] *** Joins: lavaball (felix@31.204.155.215)
[11:36:34] *** Joins: tobybl (~tobybl@213.31.132.151)
[11:40:37] *** Quits: taupiqueur (~taupiqueu@231.245.204.77.rev.sfr.net) (Ping timeout: 252 seconds)
[11:41:55] *** Quits: dre (~dre@2001:8003:c932:c301:3df8:d146:e893:5aaa) (Quit: Leaving)
[11:42:30] *** Joins: jwash (~jwash@c-73-254-46-148.hsd1.wa.comcast.net)
[11:42:32] *** Quits: palwd (~walid@5.107.177.159) (Quit: leaving)
[11:43:23] *** Joins: reallymemorable (~reallymem@91.75.74.154)
[11:49:38] *** Joins: jrofd (~crombie@185.192.69.54)
[11:49:40] *** Joins: libc (~weechat@user/tessio)
[11:51:43] *** Joins: kris (~krisk@user/krisk)
[11:52:43] *** Quits: krisk (~krisk@user/krisk) (Ping timeout: 252 seconds)
[11:52:43] *** kris is now known as krisk
[11:52:43] *** Quits: libc (~weechat@user/tessio) (Client Quit)
[11:54:11] *** Joins: stonkey (~stonkey@user/stonkey)
[11:54:12] *** Quits: earendel (uid498179@user/earendel) (Quit: Connection closed for inactivity)
[11:58:44] <millido> I am attempting to assign the output of a command to a local var, and also check for non-zero exit-codes. I have been trying if ! local ip=$(dig +short A "$1" @"$SERVER" 2>&1) ; then ...   But this doesn't seem to work. I have also just done local ip=$(...) and then checked $?, but that seems to be wrong as well. any ideas?
[12:00:37] <osse> millido: the first one looks correct, but note that the then...fi part will run if dig fails, not if it succeeds
[12:01:39] *** Joins: wenijinew (~wenijinew@c83-248-21-105.bredband.tele2.se)
[12:02:15] <millido> osse: Hmmm, that's weird, I am trying to handle it specially if dig fails, so that is the "correct" response
[12:02:16] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:818e:55b0:ddc9:c071)
[12:02:16] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:818e:55b0:ddc9:c071) (Changing host)
[12:02:16] *** Joins: skapata (~Skapata@user/skapata)
[12:02:44] *** Joins: gschanuel219 (~gschanuel@user/gschanuel)
[12:03:08] <osse> maybe it doesn't fail, then=
[12:03:11] <millido> For the example I am using, dig is exiting with 9, not 1. is that a issue?
[12:03:18] <osse> no
[12:03:52] <osse> # if ! out=$(echo simulate failure; exit 9); then echo oops; fi
[12:03:53] <shbot> osse: oops
[12:04:13] *** Joins: rendar (~rendar@user/rendar)
[12:05:16] <millido> When I execute the same command "manually" and do echo $? after, it prints 9. And the output from dig is the same error message as in the script, so I would think that it fails
[12:05:52] *** Quits: reallymemorable (~reallymem@91.75.74.154) (Remote host closed the connection)
[12:06:17] *** Quits: gschanuel21 (~gschanuel@user/gschanuel) (Ping timeout: 252 seconds)
[12:06:17] *** gschanuel219 is now known as gschanuel21
[12:07:07] <osse> try running it as one line:  dig ...; echo $?   things can overwrite $? in between
[12:07:38] *** Quits: reset (~reset@user/reset) (Quit: reset)
[12:07:39] <selckin> my dig returns 0 for everything except option errors
[12:09:16] <millido> selckin: I am trying to automate some nsupdate tasks, and my dns server listens responds to localhost but not 127.0.0.1, and so I get "no servers could be reached"
[12:09:26] <millido> osse: Still the same output
[12:09:31] *** Joins: reallymemorable (~reallymem@91.75.74.154)
[12:09:31] *** Quits: reallymemorable (~reallymem@91.75.74.154) (Read error: Connection reset by peer)
[12:09:35] <osse> millido: it prints 9 ?
[12:09:38] <millido> yes
[12:09:55] <osse> show me
[12:10:13] <selckin> millido: ah indeed, invalid dns server gives 9, was trying invalid domains
[12:11:07] <millido> osse: pastebin?
[12:11:16] <osse> whatever
[12:11:35] <millido> https://pastebin.com/raw/tBJ55fLu
[12:12:02] <osse> and can you run your shell  code with  set -x  before it
[12:12:55] *** Joins: taupiqueur (~taupiqueu@231.245.204.77.rev.sfr.net)
[12:14:36] <millido> https://pastebin.com/raw/vKbCfmTW
[12:17:24] <osse> heh
[12:17:48] <osse> I realized now I haven't seen the code itself :p
[12:18:05] <millido> Was just making a paste :-) https://pastebin.com/raw/aZFLmXAU
[12:18:06] <checkbot> millido: I think the problem is on line 23. Double quote array expansions to avoid re-splitting elements. See 4 issues on https://shellcheck.net/?id=cb85285
[12:18:46] *** Quits: arinov (~arinov@213.194.126.155) (Quit: WeeChat 3.3)
[12:19:40] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[12:20:02] <selckin> # if ! local out=$(echo simulate failure; exit 9); then echo oops; fi
[12:20:02] <Knaxius> lets say i want to automate the replacement of an IP in multiple files like /etc/network/interfaces, /etc/hosts and in ufw. how would i go about this?
[12:20:03] <shbot> selckin: bash: local: can only be used in a function
[12:20:03] <shbot> selckin: oops
[12:20:33] <selckin> zsh# if ! local out=$(echo simulate failure; exit 9); then echo oops; fi
[12:21:00] <osse> oh I missed the local thing
[12:21:07] *** Joins: arinov (~arinov@213.194.126.155)
[12:25:59] <osse> millido: put local ip_address on its own line before the if
[12:26:25] <Knaxius> found a webpage that explains it
[12:26:47] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbfb-173.dhcp.inet.fi)
[12:28:04] <millido> osse: that seems to have fixed it :D Haha, why does that matter? ':[]
[12:28:32] <osse> millido: you end up checking the status of local itself, and that doesn't fail
[12:31:31] <millido> osse: Aha, thank you!
[12:31:55] *** skreech1 is now known as skreech
[12:33:47] *** Quits: HumanG33k (~HumanG33k@2a01:e0a:95:5d90:215:c5ff:fe68:fb04) (Ping timeout: 252 seconds)
[12:34:00] *** Joins: shad (~shad@user/shad)
[12:36:08] <hejux> # typeset -Ag ass=( ) ; ass[a]=1 ; ass[b]=2 ; typeset -p ass
[12:36:08] *** Joins: HumanG33k (~HumanG33k@dau94-2-82-66-65-160.fbx.proxad.net)
[12:36:09] <shbot> hejux: declare -A ass=([b]="2" [a]="1" )
[12:36:14] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:9879:4d99:c237:3a79)
[12:36:21] <hejux> why is there an extra space near ')'
[12:38:25] *** Joins: iomari891 (~iomari891@197.210.71.83)
[12:39:23] *** Quits: rgrinberg (~textual@187.223.209.106) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:40:28] *** Quits: mat001 (~mat001@c-69-181-153-135.hsd1.ca.comcast.net) (Ping timeout: 256 seconds)
[12:41:06] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:9879:4d99:c237:3a79) (Ping timeout: 260 seconds)
[12:45:46] *** Quits: drewlander_ (~drewlande@74.196.20.3) (Ping timeout: 260 seconds)
[12:47:08] *** Joins: igemnace (~ian@user/igemnace)
[12:49:45] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[12:50:35] *** Joins: carl- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se)
[12:52:50] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[12:53:25] *** Joins: zostj (~rue@1-162-40-252.dynamic-ip.hinet.net)
[12:58:09] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:fd1e:2655:1e47:6124)
[12:59:41] *** Joins: mongy (~mongy@user/mongy)
[13:02:45] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:fd1e:2655:1e47:6124) (Ping timeout: 252 seconds)
[13:05:21] *** Quits: iomari891 (~iomari891@197.210.71.83) (Ping timeout: 250 seconds)
[13:06:43] *** Joins: led_belly (~led_belly@196.240.57.117)
[13:08:04] *** Joins: iomari891 (~iomari891@197.210.70.19)
[13:09:02] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 240 seconds)
[13:09:26] *** stoned is now known as Hash
[13:11:05] <r319n> any idea why "sudo chown" and "sudo mv" doesnt work here https://pastebin.com/raw/QNCBXG71 ? when executed get error: mv: cannot move ‘/tmp/adf_deployer.zip’ to ‘/home/oracle/adf_deployer.zip’: Operation not permitted
[13:13:24] <Soliton> !check
[13:13:25] <checkbot> r319n: Line 2: _buildDir is referenced but not assigned. Line 6: Quote 'EOFSSH2' to make here document expansions happen on the server side rather than on the client. Line 6: Double quote to prevent globbing and word splitting. See https://shellcheck.net/?id=cb88605 for all 12 issues.
[13:13:34] *** Joins: reallymemorable (~reallymem@91.75.74.154)
[13:14:02] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Ping timeout: 240 seconds)
[13:14:03] <selckin> # mkdir /tmp/foobar; chown gou-rws /tmp/foobar; touch /tmp/hello; mv /tmp/hello /tmp/foobar/
[13:14:04] <shbot> selckin: chown: invalid user: 'gou-rws'
[13:14:16] <selckin> # mkdir /tmp/foobar; chmod gou-rws /tmp/foobar; touch /tmp/hello; mv /tmp/hello /tmp/foobar/
[13:14:16] *** Joins: tobybl_ (~tobybl@213.31.132.151)
[13:14:17] <shbot> selckin: no output
[13:14:53] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[13:15:45] <Soliton> still makes no sense to me what that should even do.
[13:15:57] <selckin> fails for a normal user :/
[13:16:12] <Soliton> sudo su - oracle  and then the script just moves on?
[13:16:16] <selckin> without the typos
[13:17:18] *** Quits: tobybl (~tobybl@213.31.132.151) (Ping timeout: 256 seconds)
[13:17:49] <Soliton> also all the shell injection and missing quotes... but anyway whatever mv does or doesn't is likely an OS question.
[13:21:01] *** Joins: earnestly (~earnest@user/earnestly)
[13:24:06] <r319n> Soliton it scp zip as jenkins user so I wanna chown it to oracle and then mv zip to oracle home and later on as oracle user (thats why sudo su - oracle) extract, alter parameters and execute scripts
[13:24:58] <Soliton> sudo su - oracle  will start a new process and once that process terminates the rest of the script will continue.
[13:25:20] <Soliton> not even mentioning that sudo su is non-sense to begin with...
[13:26:10] <Soliton> i would suggest to write a normal script, copy it to the remote and run it.
[13:29:02] <r319n> gotcha, btw, sudo chown and sudo mv doesnt work cause heredoc should be quoted or?
[13:30:21] <Soliton> the here-doc should be quoted to avoid all the shell injection. doesn't have anything to do with sudo.
[13:31:07] <r319n> then I still don't get why sudo chown doesn't work, after script is ran I still see adf_deployer.zip as jenkins:jenkins in stead of oracle:oinstall
[13:31:32] *** Quits: taupiqueur (~taupiqueu@231.245.204.77.rev.sfr.net) (Ping timeout: 240 seconds)
[13:33:06] <Soliton> no clue, nothing to do with the shell.
[13:33:17] *** Joins: arinov (~arinov@176.89.29.127)
[13:33:47] *** Joins: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net)
[13:35:04] *** Quits: reallymemorable (~reallymem@91.75.74.154) (Remote host closed the connection)
[13:35:20] *** Joins: gerwand (~gerwand@185.219.140.18)
[13:35:35] *** Joins: Crescendo (~Crescendo@user/crescendo)
[13:37:09] *** Joins: sQVe (~sQVe@user/sqve)
[13:37:20] *** Quits: sQVe (~sQVe@user/sqve) (Client Quit)
[13:40:58] *** Joins: furrymcgee (~devuan@cgn-89-1-209-93.nc.de)
[13:42:46] *** Joins: taupiqueur (~taupiqueu@64.197.204.77.rev.sfr.net)
[13:44:30] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 268 seconds)
[13:44:47] *** Joins: reallymemorable (~reallymem@91.75.74.154)
[13:45:37] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[13:48:00] *** Joins: kill (~killown@user/killown)
[13:49:07] *** Quits: reallymemorable (~reallymem@91.75.74.154) (Ping timeout: 250 seconds)
[13:50:59] *** Quits: tobybl_ (~tobybl@213.31.132.151) (Remote host closed the connection)
[13:56:24] *** Quits: AsenMx (~AsenMx@user/asenmx) (Ping timeout: 256 seconds)
[13:56:53] *** Joins: uplime (~uplime@offtopia/nomad)
[13:57:18] *** Joins: AsenMx (~AsenMx@user/asenmx)
[13:58:51] <uplime> duckgoose: when you were a serial killer, did the police ever catch you?
[13:58:59] <uplime> whoops, wrong channel
[14:00:49] *** Quits: kill (~killown@user/killown) (Ping timeout: 250 seconds)
[14:01:18] <sublim20> uhhhh
[14:01:53] <lopid> wtf
[14:01:59] <uplime> very wrong channel :) in my defense, I have not had my coffee yet
[14:05:16] *** Joins: kurahaupo (~kurahaupo@pa49-195-67-63.pa.nsw.optusnet.com.au)
[14:06:32] *** Quits: arinov (~arinov@176.89.29.127) (Ping timeout: 240 seconds)
[14:06:36] *** Quits: taupiqueur (~taupiqueu@64.197.204.77.rev.sfr.net) (Ping timeout: 256 seconds)
[14:06:42] *** Quits: iomari891 (~iomari891@197.210.70.19) (Ping timeout: 268 seconds)
[14:07:47] *** Joins: iomari891 (~iomari891@197.210.70.19)
[14:09:09] *** Joins: Hercules (~Hercules@user/hercules)
[14:11:47] *** Quits: Hercules (~Hercules@user/hercules) (Client Quit)
[14:11:53] *** Joins: legola (~legola@46.235.101.65)
[14:13:09] *** Quits: callq (~callq@2409:4062:231c:7ae8:3d73:6aac:1dda:a7de) (Ping timeout: 250 seconds)
[14:15:57] *** Quits: chomwitt (~chomwitt@2a02:587:dc0d:3700:12c3:7bff:fe6d:d374) (Ping timeout: 268 seconds)
[14:16:21] *** Joins: earendel (uid498179@user/earendel)
[14:20:09] *** Joins: taupiqueur (~taupiqueu@64.197.204.77.rev.sfr.net)
[14:20:56] *** Quits: aniruddha (uid340443@id-340443.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[14:21:08] *** Joins: tobybl (~tobybl@213.31.132.151)
[14:21:20] *** Quits: polve (~polve@twcitalia/polve) (Ping timeout: 256 seconds)
[14:22:49] *** Joins: polve (~polve@twcitalia/polve)
[14:23:41] *** Quits: tobybl (~tobybl@213.31.132.151) (Remote host closed the connection)
[14:31:09] *** Quits: moldorcoder7 (~moldorcod@37.120.143.28) (Quit: %bye mirc%)
[14:32:31] *** Joins: moldorcoder7 (~moldorcod@37.120.143.28)
[14:38:45] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[14:39:12] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Remote host closed the connection)
[14:41:34] *** Quits: b0b (~bob@user/b0b) (Quit: o/)
[14:41:48] *** Joins: b0b (~bob@user/b0b)
[14:42:11] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[14:42:40] *** Quits: iomari891 (~iomari891@197.210.70.19) (Ping timeout: 265 seconds)
[14:42:49] *** Joins: seninha (~seninha@user/seninha)
[14:43:28] *** Joins: elastic_1 (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[14:43:36] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Quit: elastic_dog)
[14:43:36] *** Joins: iomari891 (~iomari891@102.91.4.225)
[14:44:50] *** Joins: Strykar_ (~wakka@signald/Strykar)
[14:45:01] *** Quits: Strykar (~wakka@signald/Strykar) (Ping timeout: 240 seconds)
[14:45:02] *** Quits: gerwand (~gerwand@185.219.140.18) (Ping timeout: 240 seconds)
[14:46:45] *** Quits: sinaowolabi (~SinaOwola@41.58.229.230) (Ping timeout: 250 seconds)
[14:49:25] *** Joins: arinov (~arinov@213.194.126.155)
[14:51:06] *** Joins: gerwand (~gerwand@185.219.140.18)
[14:51:22] *** Quits: iomari891 (~iomari891@102.91.4.225) (Ping timeout: 256 seconds)
[14:51:24] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[14:52:08] *** Joins: unop (~unop@195.91.110.106)
[14:52:08] *** Joins: iomari891 (~iomari891@197.210.71.83)
[14:55:28] *** Quits: CaCode (~CaCode@user/cacode) (Quit: Leaving)
[14:57:44] *** Joins: thiras (~thiras@user/thiras)
[14:58:04] *** Quits: iomari891 (~iomari891@197.210.71.83) (Remote host closed the connection)
[14:58:53] *** Joins: infernix (nix@2a02:22a0:bbb1:d500::2)
[14:59:40] *** Joins: iomari891 (~iomari891@197.210.70.19)
[15:02:41] *** Quits: WinterStar (~IceLight@user/icelight) (Remote host closed the connection)
[15:02:42] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[15:03:59] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[15:05:16] *** Joins: WinterStar (~IceLight@user/icelight)
[15:07:47] *** Quits: iomari891 (~iomari891@197.210.70.19) (Ping timeout: 252 seconds)
[15:09:12] *** Joins: iomari891 (~iomari891@102.91.5.163)
[15:11:36] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[15:14:48] *** Joins: sublim20 (~sublim20@user/sublim20)
[15:15:14] *** Quits: iomari891 (~iomari891@102.91.5.163) (Remote host closed the connection)
[15:17:09] *** Joins: iomari891 (~iomari891@197.210.71.83)
[15:18:09] *** Quits: hejux (~hejux@146.56.136.247) (Quit: WeeChat 3.3)
[15:19:09] <ormaaj> hejux: No reason. A quirk of the serializer.
[15:20:26] *** Parts: GNUHacker (~foobar@fsf/member/GNUHacker) (https://gnu.org)
[15:20:35] *** Joins: hejux (~hejux@146.56.136.247)
[15:20:56] <emanuele6> ormaaj: hehe, perfect timing
[15:21:30] <ormaaj> ya
[15:22:36] *** Quits: ano (~ano@user/ano) (Ping timeout: 276 seconds)
[15:24:14] *** Quits: shad (~shad@user/shad) (Ping timeout: 256 seconds)
[15:27:56] *** Joins: ano (~ano@user/ano)
[15:28:35] *** Quits: iomari891 (~iomari891@197.210.71.83) (Ping timeout: 265 seconds)
[15:29:48] <ormaaj> Anyone have a link to the old larry wall "structured pipelines" paper? I'm trying to explain a thing, but can't find.
[15:30:20] *** Joins: iomari891 (~iomari891@197.210.71.83)
[15:30:25] *** Joins: tobybl (~tobybl@213.31.132.151)
[15:35:37] *** Quits: yates` (~user@fv-nc-f7af8b91e1-234237-1.tingfiber.com) (Remote host closed the connection)
[15:37:49] *** Quits: shailangsa (~shailangs@host86-186-127-128.range86-186.btcentralplus.com) ()
[15:40:04] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[15:40:17] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[15:40:54] *** Joins: Fausto (~dante@gateway/tor-sasl/filohuhum)
[15:41:21] *** Quits: Murray7501 (~Murray@89.109-247-180.customer.lyse.net) (Quit: leaving)
[15:45:05] *** Joins: Murray7501 (~Murray@89.109-247-180.customer.lyse.net)
[15:46:59] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 250 seconds)
[15:48:08] *** Joins: shad (~shad@user/shad)
[15:49:32] *** Quits: ProperNoun (~holyShizn@user/propernoun) (Ping timeout: 240 seconds)
[15:50:12] *** Joins: ProperNoun (~holyShizn@user/propernoun)
[15:50:22] *** Joins: ayusta (Thunderbir@gateway/vpn/protonvpn/ayustae)
[15:51:45] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 250 seconds)
[15:51:45] *** ayusta is now known as ayustae
[15:51:51] *** kurahaupo is now known as interestingly
[15:54:08] *** Joins: BSaboia (~bsaboia@177.51.33.2)
[15:55:17] *** interestingly is now known as kurahaupo
[15:57:42] *** Joins: zeden (~zeden@user/zeden)
[15:58:02] *** Quits: zeden (~zeden@user/zeden) (Client Quit)
[16:00:34] *** Quits: iomari891 (~iomari891@197.210.71.83) (Remote host closed the connection)
[16:00:56] *** Quits: tobybl (~tobybl@213.31.132.151) (Remote host closed the connection)
[16:01:15] *** Quits: n4dir (~user@i5E8666B9.versanet.de) (Remote host closed the connection)
[16:01:32] *** Joins: iomari891 (~iomari891@197.210.70.19)
[16:02:18] *** Quits: aphorise (aphorise@82-75-255-36.cable.dynamic.v4.ziggo.nl) (Ping timeout: 265 seconds)
[16:02:52] *** Joins: tobybl (~tobybl@213.31.132.151)
[16:04:20] *** Joins: vinosec (~vinosec@user/vinosec)
[16:06:28] *** Quits: zostj (~rue@1-162-40-252.dynamic-ip.hinet.net) (Quit: WeeChat 3.3)
[16:06:31] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.3)
[16:06:47] *** Joins: zostj (~rue@1-162-40-252.dynamic-ip.hinet.net)
[16:06:58] <hejux> if i set LC_ALL=C in the first line of script
[16:07:07] <hejux> does it effect the rest of code in the script?
[16:07:11] *** Quits: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au) (Ping timeout: 252 seconds)
[16:07:18] *** Joins: aphorise (~aphorise@82-75-255-36.cable.dynamic.v4.ziggo.nl)
[16:07:33] *** Quits: shad (~shad@user/shad) (Ping timeout: 252 seconds)
[16:08:01] *** Quits: BSaboia (~bsaboia@177.51.33.2) (Quit: This computer has gone to sleep)
[16:09:48] <ormaaj> of course not.
[16:10:11] *** Joins: shad (~shad@user/shad)
[16:10:46] *** Joins: BSaboia (~bsaboia@177.51.33.2)
[16:11:24] *** Quits: dreamon (~dreamon@ppp-88-217-95-198.dynamic.mnet-online.de) (Remote host closed the connection)
[16:11:44] <hejux> so? export LC_ALL=C?
[16:12:03] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[16:12:48] <ormaaj> (The actual scope of side-effecty vars isn't perfectly defined as shell lacks well defined sequence points.)
[16:13:35] <ormaaj> why would you want that?
[16:14:11] <ormaaj> You should almost never set LC_ALL especially in a script.
[16:14:19] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[16:14:30] <hejux> because fdisk -l shows local lang, and i can't grep in English ...
[16:14:38] <ormaaj> That's for the user to override
[16:15:17] *** Quits: BSaboia (~bsaboia@177.51.33.2) (Client Quit)
[16:15:25] *** Joins: son0p (~ff@2800:484:1d81:b700::4)
[16:16:53] *** Quits: iomari891 (~iomari891@197.210.70.19) (Ping timeout: 250 seconds)
[16:17:05] *** Quits: kdc (~kdc@196.211.197.159) (Ping timeout: 250 seconds)
[16:18:44] <hejux> export LC_ALL=C in a script, and all script runs in subshell?
[16:18:59] *** Joins: iomari891 (~iomari891@197.210.70.206)
[16:19:01] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Quit: Leaving)
[16:19:06] <hejux> so, that will not export the LC_ALL to interactive shell?
[16:19:47] <uplime> if you run it in a script, it won't be exported to the parent shell whether you do it in a subshell or not
[16:21:07] *** Joins: sublim20 (~sublim20@user/sublim20)
[16:21:22] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[16:21:33] *** Quits: mkoskar (~mkoskar@user/mkoskar) (Quit: mkoskar)
[16:22:25] *** Quits: vinosec (~vinosec@user/vinosec) (Quit: WeeChat 3.3)
[16:24:29] *** Joins: BSaboia (~bsaboia@177.51.33.2)
[16:25:00] *** Quits: iomari891 (~iomari891@197.210.70.206) (Remote host closed the connection)
[16:25:59] *** Joins: iomari891 (~iomari891@197.210.70.19)
[16:27:13] *** Quits: BSaboia (~bsaboia@177.51.33.2) (Read error: Connection reset by peer)
[16:27:23] *** Quits: wuseman (~wuseman@user/wuseman) (Quit: quit)
[16:29:56] *** Joins: BSaboia (~bsaboia@177.51.33.2)
[16:30:23] <kurahaupo> hejux: if you need to alter the localisation, restrict the change to the command that needs it, like:  LC_ALL=C fdisk -l # NB no line break or semicolon between "C" and "fdisk"
[16:30:45] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 250 seconds)
[16:33:44] *** Quits: BSaboia (~bsaboia@177.51.33.2) (Client Quit)
[16:34:28] *** Quits: legola (~legola@46.235.101.65) ()
[16:35:12] <ormaaj> Rarely is anything other than LC_CTYPE and LC_COLLATE needed for hardcoding into a script, and even then only for restricted parts of it per kurahaupo comment.
[16:35:41] <kurahaupo> ormaaj: I was going to add that too
[16:36:02] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[16:38:22] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[16:38:24] *** Joins: mat001 (~mat001@c-71-202-248-112.hsd1.ca.comcast.net)
[16:38:30] <kurahaupo> If the descriptive text changes then fdisk probably wants LC_MESSAGES
[16:38:38] *** Joins: unop (~unop@195.91.110.106)
[16:39:28] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[16:39:40] <ormaaj> too many *disks these days.
[16:39:49] *** Quits: useretail (~useretail@185.132.19.151) (Remote host closed the connection)
[16:40:49] <kurahaupo> fdisk is pretty ancient now
[16:41:30] *** Joins: drewlander (~drewlande@74.196.20.3)
[16:42:03] <kurahaupo> it's one of the few Unix commands named for a similar MSDOS command
[16:43:07] <ormaaj> dunno. util-linux has several of them that do different things depending on invocation plus several other utilities external to that exist, all of the above only considering linux.
[16:43:14] *** Joins: useretail (~useretail@185.132.19.151)
[16:43:56] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 268 seconds)
[16:48:12] <ormaaj> many of them were spawned at the time GPTs came about because every old tool needed a forked version to deal with them.
[16:48:39] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[16:48:40] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Changing host)
[16:48:40] *** Joins: wuseman (~wuseman@user/wuseman)
[16:48:55] *** Joins: dextercd (~dexter@2a02-a450-f25d-1-76d4-35ff-fefe-34c.fixed6.kpn.net)
[16:50:49] <Blondie101010> sadly true
[16:51:32] <hejux> kurahaupo: thanks. i set LANG=C fdisk ...
[16:52:12] *** Joins: arinov (~arinov@78.187.169.227)
[16:52:47] *** Joins: reallymemorable (~reallymem@91.75.74.154)
[16:53:01] *** Joins: sinaowolabi (~SinaOwola@41.58.210.154)
[16:55:55] <ormaaj> I kinda figured even the dos fdisk probably had some ancient proprietary unix origin.
[16:56:47] *** Joins: sublim20 (~sublim20@user/sublim20)
[16:56:57] *** Joins: Burrr (~Burrr@urmomma-fux0rs-with.burrr.nl)
[16:57:10] *** Quits: reallymemorable (~reallymem@91.75.74.154) (Ping timeout: 256 seconds)
[16:57:55] <kurahaupo> ormaaj: AFAIK it was squarely aimed at DOS partition tables, as found on machines with an IBM PC compatible BIOS
[16:58:02] <ormaaj> but maybe not... I've never "partitioned" a mainframe ^^
[16:58:38] *** Joins: chomwitt (~chomwitt@ppp-94-67-201-96.home.otenet.gr)
[17:00:24] *** Joins: seninha (~seninha@user/seninha)
[17:02:15] *** Quits: tobybl (~tobybl@213.31.132.151) (Remote host closed the connection)
[17:03:40] *** Quits: chomwitt (~chomwitt@ppp-94-67-201-96.home.otenet.gr) (Ping timeout: 268 seconds)
[17:04:23] *** Joins: libc (~weechat@user/tessio)
[17:04:35] <libc> connect tl
[17:04:53] <libc> !doesntwork > emanuele6
[17:04:54] <greybot> emanuele6: Saying something "doesn't work" helps neither you or us. Explain the result you *want* or *expect*, what you are *doing* and *how* it is failing. Copy/paste the commands you use and the errors they produce. Consider set -x to get more information on what is happening.
[17:05:15] <jelly> libc, why did you do that
[17:05:29] *** Quits: arinov (~arinov@78.187.169.227) (Ping timeout: 252 seconds)
[17:05:35] <jelly> is that some new way of saying "hello"
[17:05:45] <libc> don't be jeleous
[17:05:49] <libc> i like you as well
[17:05:58] <jelly> I'm jelly by definition
[17:05:59] <libc> !os > jelly
[17:05:59] <emanuele6> jelly: he's just spamming.
[17:05:59] <greybot> jelly: Take it to your OS channel. Your issue is specific to your Operating System or Distribution.
[17:06:27] <libc> jez.. what happened ot freer love in the world
[17:06:30] <libc> to free
[17:06:31] <jelly> slamlibc.
[17:06:35] <jelly> spamlibc*
[17:06:36] <geirha> libc: stop that nonsense
[17:06:48] <libc> !doesntwork > geirha
[17:06:48] <greybot> geirha: Saying something "doesn't work" helps neither you or us. Explain the result you *want* or *expect*, what you are *doing* and *how* it is failing. Copy/paste the commands you use and the errors they produce. Consider set -x to get more information on what is happening.
[17:06:49] *** Parts: libc (~weechat@user/tessio) ()
[17:07:31] *** ChanServ sets mode: +o geirha
[17:07:34] *** geirha sets mode: +b-o $a:tessio geirha
[17:07:44] <jelly> thanks
[17:15:26] *** Joins: shailangsa (~shailangs@host86-186-127-128.range86-186.btcentralplus.com)
[17:19:00] *** Joins: igemnace (~ian@user/igemnace)
[17:19:47] *** Quits: sinaowolabi (~SinaOwola@41.58.210.154) (Ping timeout: 252 seconds)
[17:19:58] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[17:22:06] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[17:22:47] *** Quits: shad (~shad@user/shad) (Ping timeout: 268 seconds)
[17:27:14] *** Joins: arinov (~arinov@176.89.29.127)
[17:27:45] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[17:30:42] *** Joins: csmiga1 (~Thunderbi@96-87-248-1-static.hfc.comcastbusiness.net)
[17:32:02] *** Quits: csmiga (~Thunderbi@ec2-52-207-160-196.compute-1.amazonaws.com) (Quit: csmiga)
[17:32:02] *** csmiga1 is now known as csmiga
[17:32:28] *** Joins: csmiga1 (~Thunderbi@ec2-52-207-160-196.compute-1.amazonaws.com)
[17:32:36] *** Joins: reallymemorable (~reallymem@91.75.74.154)
[17:32:40] *** Quits: csmiga1 (~Thunderbi@ec2-52-207-160-196.compute-1.amazonaws.com) (Client Quit)
[17:32:53] *** Quits: bidouille (~arf@trois.potager.org) (Quit: leaving)
[17:33:16] *** Joins: bidouille (~arf@trois.potager.org)
[17:34:36] *** Joins: kdc (~kdc@196.211.197.159)
[17:35:50] *** Joins: shad (~shad@user/shad)
[17:36:32] *** Quits: szutt (~szutt@116.37.2.145) (Quit: Ping timeout (120 seconds))
[17:36:54] *** Joins: szutt (~szutt@116.37.2.145)
[17:37:30] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[17:41:40] *** Joins: Trieste_ (T@user/pilgrim)
[17:41:55] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 268 seconds)
[17:43:08] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[17:43:44] *** Joins: unop (~unop@195.91.110.106)
[17:45:09] *** Trieste_ is now known as Trieste
[17:48:08] *** Joins: tccki (~tccki@2406:e001:2:5a60:250:56ff:fe9e:8795)
[17:49:53] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:51:14] *** Quits: Burrr (~Burrr@urmomma-fux0rs-with.burrr.nl) (Quit: Bye!)
[17:51:57] *** Joins: Burger (~textual@user/burger)
[17:52:33] *** Joins: Burrr (~Burrr@urmomma-fux0rs-with.burrr.nl)
[17:54:55] *** Joins: legola (~legola@46.235.101.65)
[17:55:13] *** Quits: gerwand (~gerwand@185.219.140.18) (Quit: gerwand)
[17:57:10] *** Quits: Burrr (~Burrr@urmomma-fux0rs-with.burrr.nl) (Client Quit)
[18:01:06] *** Quits: reallymemorable (~reallymem@91.75.74.154) (Remote host closed the connection)
[18:01:25] *** Quits: arinov (~arinov@176.89.29.127) (Ping timeout: 240 seconds)
[18:01:55] *** Joins: MaterazziSan (~user@24.135.203.113.dynamic.jazztel.es)
[18:02:34] *** Joins: superboot (~agentgasm@user/superboot)
[18:03:15] *** Joins: sublim20 (~sublim20@user/sublim20)
[18:04:55] *** Joins: reallymemorable (~reallymem@91.75.74.154)
[18:05:40] *** Joins: Burrr (~Burrr@urmomma-fux0rs-with.burrr.nl)
[18:06:33] *** Quits: Burrr (~Burrr@urmomma-fux0rs-with.burrr.nl) (Client Quit)
[18:06:39] *** Joins: luva6 (~luva@45.141.152.52)
[18:09:07] *** Joins: chandoo (~chandoo@96.240.98.220)
[18:09:45] *** Quits: luva (~luva@37.120.197.52) (Ping timeout: 250 seconds)
[18:09:45] *** luva6 is now known as luva
[18:11:52] *** Joins: han-solo (~hanish@user/han-solo)
[18:15:25] *** Quits: nabaiste^ (~nabaiste@wsip-98-188-240-142.mc.at.cox.net) (Remote host closed the connection)
[18:20:31] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[18:20:59] *** Quits: reallymemorable (~reallymem@91.75.74.154) (Remote host closed the connection)
[18:23:38] *** Joins: azidhaka (~azidhaka@user/azidhaka)
[18:24:47] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[18:25:00] *** Joins: unixman_home (~unixman2@237-123-35-72.mtaonline.net)
[18:25:02] *** Joins: unop (~unop@195.91.110.106)
[18:26:47] *** Joins: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com)
[18:27:23] *** Joins: tobybl (~tobybl@213.31.132.151)
[18:30:15] *** Quits: Murray7501 (~Murray@89.109-247-180.customer.lyse.net) (Quit: leaving)
[18:31:12] *** Joins: Burrr (~Burrr@urmomma-fux0rs-with.burrr.nl)
[18:33:06] *** Quits: iomari891 (~iomari891@197.210.70.19) (Ping timeout: 268 seconds)
[18:39:44] *** Quits: ntwk (~ntwk@user/ntwk) (Quit: ntwk)
[18:40:36] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[18:44:16] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 256 seconds)
[18:46:51] *** Joins: ChmEarl (~chmearl@user/chmearl)
[18:47:14] *** Joins: arinov (~arinov@31.223.11.114)
[18:50:37] *** Joins: horner (~textual@host86-141-1-192.range86-141.btcentralplus.com)
[18:52:26] *** Quits: tobybl (~tobybl@213.31.132.151) (Remote host closed the connection)
[18:52:34] *** Joins: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[18:52:38] *** Quits: wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com) (Remote host closed the connection)
[18:54:00] *** Quits: arinov (~arinov@31.223.11.114) (Ping timeout: 265 seconds)
[18:55:36] *** Joins: arinov (~arinov@176.89.29.127)
[18:55:45] *** Joins: reallymemorable (~reallymem@91.75.74.154)
[18:58:26] *** Quits: millido (~millido@84.210.150.128) (Read error: Connection reset by peer)
[18:58:50] *** Quits: stonkey (~stonkey@user/stonkey) (Ping timeout: 265 seconds)
[18:59:26] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[18:59:49] *** Quits: reallymemorable (~reallymem@91.75.74.154) (Ping timeout: 240 seconds)
[19:00:01] *** Joins: unop (~unop@195.91.110.106)
[19:01:59] <superboot> Marko
[19:02:07] <lavaball> MORTAL KOMBAT!
[19:02:15] <lavaball> no?
[19:02:17] <horner> Polo
[19:02:20] <horner> ;p
[19:03:24] <lavaball> actually, since i'm here. weird question. for coding c/quakec issues, where should i go?
[19:03:38] <lavaball> is there a channel somewhere?
[19:04:09] <phy1729> #libera is generally best for switchboard questions
[19:04:11] *** Quits: Knaxius (~Knaxius@user/Knaxius) (Quit: bye)
[19:04:46] *** Quits: unop (~unop@195.91.110.106) (Remote host closed the connection)
[19:04:50] <lavaball> didn't know that channel existed. thanks so much.
[19:05:02] *** Joins: unop (~unop@195.91.110.106)
[19:06:19] *** Joins: nabaiste^ (~nabaiste@wsip-98-188-240-142.mc.at.cox.net)
[19:07:35] <e36freak> lavaball: also /msg alis help
[19:07:46] <lavaball> yeah, they just told me.
[19:07:49] <lavaball> thanks to you too though.
[19:09:03] *** Quits: shad (~shad@user/shad) (Ping timeout: 252 seconds)
[19:09:25] *** Quits: MaterazziSan (~user@24.135.203.113.dynamic.jazztel.es) (Quit: ERC (IRC client for Emacs 27.1))
[19:11:15] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[19:14:01] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Read error: error:1408F119:SSL routines:ssl3_get_record:decryption failed or bad record mac)
[19:14:26] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[19:14:43] *** Quits: bidouille (~arf@trois.potager.org) (Quit: leaving)
[19:15:17] *** Joins: bidouille (~user_name@trois.potager.org)
[19:15:29] *** Joins: unop_ (~unop@195.91.16.213)
[19:18:16] *** Quits: unop (~unop@195.91.110.106) (Ping timeout: 256 seconds)
[19:19:00] *** Parts: Burrr (~Burrr@urmomma-fux0rs-with.burrr.nl) ()
[19:20:21] *** Quits: guardian (~guardian@planet-d.net) (Ping timeout: 245 seconds)
[19:21:27] *** Joins: Atque (~Atque@user/atque)
[19:21:43] *** Joins: unop (~unop@194.154.249.71)
[19:22:28] *** Quits: cebor (~cebor@user/cebor) (Quit: bye!)
[19:22:32] *** Quits: unop_ (~unop@195.91.16.213) (Ping timeout: 240 seconds)
[19:22:50] *** Joins: cebor (~cebor@user/cebor)
[19:23:11] *** Quits: cebor (~cebor@user/cebor) (Remote host closed the connection)
[19:23:54] *** Joins: cebor (~cebor@user/cebor)
[19:26:21] *** Joins: Galladite (~Galladite@host-92-24-75-159.as13285.net)
[19:26:28] *** Quits: unop (~unop@194.154.249.71) (Remote host closed the connection)
[19:26:42] *** Joins: shad (~shad@user/shad)
[19:27:03] *** Joins: unop (~unop@194.154.249.71)
[19:27:29] *** Joins: iomari891 (~iomari891@102.91.5.185)
[19:28:33] *** Parts: Galladite (~Galladite@host-92-24-75-159.as13285.net) (Leaving)
[19:31:33] *** Joins: Murray7501 (~Murray@89.109-247-180.customer.lyse.net)
[19:31:40] *** Joins: knstn (~knstn@ppp-94-66-57-173.home.otenet.gr)
[19:33:18] *** Joins: guardian (~guardian@planet-d.net)
[19:40:23] *** Joins: mkoskar (~mkoskar@user/mkoskar)
[19:41:29] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Remote host closed the connection)
[19:41:46] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[19:44:06] *** Joins: zebrag (~chris@user/zebrag)
[19:48:07] *** Quits: guardian (~guardian@planet-d.net) (Ping timeout: 250 seconds)
[19:48:40] *** Quits: azidhaka (~azidhaka@user/azidhaka) (Quit: azidhaka)
[19:49:43] *** Quits: furrymcgee (~devuan@cgn-89-1-209-93.nc.de) (Quit: leaving)
[19:51:56] *** Quits: legola (~legola@46.235.101.65) (Remote host closed the connection)
[19:53:11] *** Joins: stonkey (~stonkey@user/stonkey)
[19:53:39] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[19:55:53] *** Quits: Burger (~textual@user/burger) (Quit: Textual IRC Client: www.textualapp.com)
[19:57:30] *** Quits: x88x88x (~x88x88x@2001:19f0:5:39a8:5400:3ff:feb6:73cb) (Read error: Connection reset by peer)
[19:57:34] *** Quits: arinov (~arinov@176.89.29.127) (Ping timeout: 268 seconds)
[19:58:02] *** Joins: jmdaemon (~anon@user/jmdaemon)
[19:58:28] *** Joins: greycat (~greg@209.142.155.49)
[19:58:36] *** Joins: wuseman (~wuseman@81-236-212-3-no68.tbcn.telia.com)
[19:59:05] *** Quits: jmdaemon (~anon@user/jmdaemon) (Client Quit)
[19:59:27] *** Joins: jmdaemon (~anon@142.207.63.60)
[20:01:31] *** Joins: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke)
[20:02:06] *** Quits: Fausto (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 276 seconds)
[20:03:43] *** Quits: jmdaemon (~anon@142.207.63.60) (Client Quit)
[20:04:20] *** Joins: jmdaemon (~anon@142.207.63.60)
[20:04:51] *** Quits: jmdaemon (~anon@142.207.63.60) (Client Quit)
[20:05:07] *** Joins: jmdaemon (~anon@142.207.63.60)
[20:07:00] *** Quits: jmdaemon (~anon@142.207.63.60) (Client Quit)
[20:08:05] *** Quits: kdc (~kdc@196.211.197.159) (Remote host closed the connection)
[20:08:07] *** Joins: |wuseman (~wuseman@81-231-55-224-no68.tbcn.telia.com)
[20:10:17] *** Quits: wuseman (~wuseman@81-236-212-3-no68.tbcn.telia.com) (Ping timeout: 252 seconds)
[20:11:17] *** Joins: jmdaemon (~anon@142.207.63.60)
[20:13:55] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[20:15:14] *** Quits: jmdaemon (~anon@142.207.63.60) (Client Quit)
[20:15:32] *** Joins: jmdaemon (~jmdaemon@142.207.63.60)
[20:16:06] *** Quits: jmdaemon (~jmdaemon@142.207.63.60) (Changing host)
[20:16:06] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[20:17:18] *** Quits: horner (~textual@host86-141-1-192.range86-141.btcentralplus.com) (Ping timeout: 268 seconds)
[20:19:00] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[20:20:01] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Client Quit)
[20:20:36] *** Joins: jmdaemon (~jmdaemon@142.207.63.60)
[20:21:21] *** Joins: TastyWiener95 (~uhhh3@user/tastywiener95)
[20:23:39] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[20:23:54] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[20:24:48] *** Quits: jmdaemon (~jmdaemon@142.207.63.60) (Client Quit)
[20:25:10] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[20:25:12] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Client Quit)
[20:25:32] *** Joins: BSaboia (~bsaboia@177.37.198.227)
[20:25:39] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[20:27:22] *** Quits: uplime (~uplime@offtopia/nomad) (Remote host closed the connection)
[20:28:03] <earendel> love is the law. lover under will.
[20:28:33] <earendel> free love has been taken away from you before you grew hair on your balls.
[20:29:12] <greycat> Let's try to remain on topic.
[20:29:13] <phy1729> You know this is #bash right?
[20:29:33] *** Quits: BSaboia (~bsaboia@177.37.198.227) (Client Quit)
[20:29:42] *** Joins: drd (~drd@2001:b07:a70:9f1f:cbee:5b64:ddef:2190)
[20:29:58] <xx> no place for love in #bash?
[20:30:13] <phy1729> # love
[20:30:14] <shbot> phy1729: bash: love: command not found
[20:30:17] <phy1729> nope
[20:30:43] <earendel> shut up please.
[20:31:08] <xx> # \)-
[20:31:09] <shbot> xx: bash: )-: command not found
[20:31:19] *** Joins: Grems (~grems@194.19.73.77)
[20:32:33] <greycat> In almost-on-topic news, I'm caught up on Advent of Code.  Didn't do any more in bash after day 3 part 1, but some of them *could* have been done in bash without terrible agony.
[20:33:06] <han-solo> # type love
[20:33:07] <shbot> han-solo: bash: type: love: not found
[20:33:11] <xx> advent of code?
[20:33:27] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[20:33:35] <greycat> Annual coding "competition" or puzzle fun time thing.
[20:33:37] *** Joins: A|an (~Alan@173.216.51.200)
[20:33:47] <earendel> it is really the first time in my life i hear of it. is that some traditional event? this year ppl all around seem to participate.
[20:33:59] <phy1729> The annual distraction for devs while in a holiday change freeze
[20:34:03] <greycat> It's been around for a few years.
[20:34:49] *** Quits: drd (~drd@2001:b07:a70:9f1f:cbee:5b64:ddef:2190) (Quit: ZNC 1.8.2 - https://znc.in)
[20:35:08] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[20:35:54] <xx> surprised some of those could be done in bash
[20:36:18] <ormaaj> easy ones
[20:36:43] <gnoo> i too did up to day3 part 1 in bash. part 2 is nearly finished but just dosen't work right
[20:36:50] <earendel> alright. and why not. i read at some day 11 solutions. something about octopusses and game of life like cell automata..
[20:37:07] <greycat> Most of the challenges (especially the earlier ones each year) can be done in bash, with varying degrees of difficulty.
[20:37:34] <earendel> is it like .. every day another puzzle? like that chocolate calendars or sth? is there some official site?
[20:37:59] <greycat> One two-part puzzle is revealed each day.
[20:38:04] *** Joins: kdc (~kdc@196.211.197.159)
[20:38:32] <gnoo> day 3 part 1: http://ix.io/3I9y i think it's properly done ;)
[20:38:56] <ormaaj> I'm busy. :/ Haven't read any solutions either.
[20:39:01] *** Joins: BSaboia (~bsaboia@177.37.198.227)
[20:39:31] <greycat> December can be a *ridiculously* crazy month for some people, so yeah, can be rough trying to squeeze AoC in.
[20:39:48] <earendel> gnoo: why did you try in bash?
[20:40:02] <greycat> Because they felt like it.
[20:40:13] <gnoo> i'll learn a real language next year, for now it seemed okay
[20:40:45] <greycat> some people choose to do the challenges in unusual languages, just for grins
[20:41:43] *** Quits: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke) (Remote host closed the connection)
[20:41:48] <earendel> liar.
[20:42:02] *** Quits: BSaboia (~bsaboia@177.37.198.227) (Client Quit)
[20:42:05] *** Joins: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke)
[20:42:16] <earendel> greycat: yes.
[20:42:17] <han-solo> i think doing it in bash is clever
[20:42:36] <earendel> greycat. you seem like .. ppl i knew once. from another age.
[20:43:58] *** Joins: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053)
[20:44:44] <earendel> there were a lot of people like you. now you are a monument.
[20:45:14] <earendel> at some point all people got body snatched :p
[20:45:35] <earendel> you think they are all using slacker now? xd
[20:45:58] <earendel> and block the irc ports of their employess?
[20:46:18] *** Quits: Atque (~Atque@user/atque) (Ping timeout: 276 seconds)
[20:48:25] *** Quits: taupiqueur (~taupiqueu@64.197.204.77.rev.sfr.net) (Ping timeout: 252 seconds)
[20:51:31] <earendel> i hope at least a few are on fuckbook now. back to bash. yes a little challange is nice. there could be of course a lot possible motivations. and i was curious. but: "i too did up to day3 part 1 in bash. part 2 is nearly finished but just dosen't work right." lol
[20:52:01] <earendel> that !doesntwork was too much for thin skinned masters of the universe.
[20:52:05] *** Quits: mozgalom (~mozgalom@194.144.47.113) (Quit: SO LONG SUCKERS!)
[20:52:21] <ormaaj> A fluffy grey monument.
[20:52:39] <yitz> There's also #adventofcode
[20:53:15] <greycat> and a reddit thing
[20:56:48] <earendel> thats not on purpose. if i wouldn't step in to deflect their anger one me, you would .. sometimes.. in years still find references and unsatisfied revenge lust  .. i wonder by how circumstances ppl can make it years into life without that attitude being challanged at some point .. like in elementary school.
[20:58:03] <earendel> thats not on purpose. if i wouldn't step in to deflect their anger one me, you would .. sometimes.. in years still find references and unsatisfied revenge lust  .. i wonder what circumstances can make .. or wouldn't make ppl challange that attitude years into life..
[20:58:26] *** Joins: arinov (~arinov@213.194.126.155)
[20:58:33] *** Joins: BSaboia (~bsaboia@177.37.198.227)
[20:58:33] <earendel> chat lag. (wooo)
[20:59:12] *** Joins: Betal (~Betal@user/betal)
[20:59:21] *** Joins: zalt (~zalt@user/zalt)
[20:59:55] <earendel> ormaaj: you're not making friends now.
[21:01:53] <earendel> greycat: by my metrics all girls are ours now.
[21:02:43] *** Quits: thevishy (~Nishant@2405:201:f005:c007:81f3:ee3c:76f0:8869) (Ping timeout: 252 seconds)
[21:02:43] *** Joins: yhsiveht (~Nishant@2405:201:f005:c007:d93e:9746:14f0:2f69)
[21:03:23] <earendel> girls you agree?
[21:03:24] <earendel> see they nod.
[21:03:43] *** Joins: reallymemorable (~reallymem@91.75.74.154)
[21:04:05] *** Quits: yhsiveht (~Nishant@2405:201:f005:c007:d93e:9746:14f0:2f69) (Client Quit)
[21:04:27] *** Joins: hraau (~ss@fixed-187-190-193-252.totalplay.net)
[21:05:25] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[21:05:59] <hejux> # shopt -s nullglob ; arr=(a b c) ; unset "arr[0]" ; typeset -p arr
[21:06:00] <shbot> hejux: declare -a arr=([1]="b" [2]="c")
[21:07:05] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Quit: WeeChat 3.3)
[21:08:05] *** Quits: reallymemorable (~reallymem@91.75.74.154) (Ping timeout: 250 seconds)
[21:08:13] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 252 seconds)
[21:08:14] *** Joins: guardian (~guardian@planet-d.net)
[21:09:42] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[21:10:05] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Client Quit)
[21:10:25] <Celmor[m]> how would I remove duplicated from a list without having to sort it? I can't sort since the order is important
[21:10:39] <phy1729> !uniq
[21:10:39] <greybot> is a utility for removing or reporting repeated lines. uniq will only work for showing unique lines when used with sorted input (sort | uniq). Alternatively, use sort -u. awk '!s[$0]++' is an order-insensitive alternative.
[21:10:43] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[21:11:50] *** Quits: gschanuel21 (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[21:11:50] <han-solo> iterate over the array keep another array and check it is seen otherwise add ?
[21:11:54] <hejux> what is the difference unset "var" "$var" var $var ?
[21:12:05] <hejux> and -v
[21:12:20] *** Joins: gschanuel21 (~gschanuel@user/gschanuel)
[21:12:37] *** Joins: millido (~millido@84.210.150.128)
[21:12:38] <phy1729> var and "var"  are just the word  var    "$var" is a parameter expansion  and   $var   is almost always wrong
[21:12:45] <hejux> so there are 8 combination
[21:12:48] <phy1729> oh I missed unset
[21:13:21] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Remote host closed the connection)
[21:13:25] <phy1729> # foo=bar; bar=1; declare -p bar; unset "$foo"; declare -p bar
[21:13:26] <shbot> phy1729: declare -- bar="1"
[21:13:26] <shbot> phy1729: bash: declare: bar: not found
[21:13:27] *** Quits: szutt (~szutt@116.37.2.145) (Quit: Client closed)
[21:13:37] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[21:13:43] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[21:13:46] <phy1729> # foo='bar baz'; bar=1; declare -p bar; unset $foo; declare -p bar
[21:13:47] <shbot> phy1729: declare -- bar="1"
[21:13:47] <shbot> phy1729: bash: declare: bar: not found
[21:14:19] <emanuele6> `unset var' tries to unset a variable named "var"; if no variable named "var" exists, it tries to unset a function named "var" intead
[21:14:33] <emanuele6> `unset -v var' will just try to unset a variable named "var"
[21:14:48] <emanuele6> and `unset -f var' will just try to unset a function named "var"
[21:15:00] *** Joins: bn_work (uid268505@id-268505.uxbridge.irccloud.com)
[21:15:13] *** Quits: root_ (~root@dhcp-24-53-243-12.cable.user.start.ca) (Ping timeout: 250 seconds)
[21:15:30] <hejux> # shopt -s nullglob ; arr=(a b c) ; unset arr[1] ; typeset -p arr ## unquote
[21:15:31] <shbot> hejux: declare -a arr=([0]="a" [1]="b" [2]="c")
[21:15:42] <hejux> # shopt -s nullglob ; arr=(a b c) ; unset "arr[1]" ; typeset -p arr ## quote
[21:15:43] <shbot> hejux: declare -a arr=([0]="a" [2]="c")
[21:16:10] <emanuele6> # shopt -s nullglob; >> arr1; arr=(a b c) ; unset arr[1] ; declare -p arr
[21:16:11] <shbot> emanuele6: declare -a arr=([0]="a" [1]="b" [2]="c")
[21:16:49] <emanuele6> # shopt -s nullglob; arr=(a b c) arr1=y; unset arr[1] ; declare -p arr arr1
[21:16:50] <shbot> emanuele6: declare -a arr=([0]="a" [1]="b" [2]="c")
[21:16:50] <shbot> emanuele6: declare -- arr1="y"
[21:16:51] <hejux> quote makes a difference
[21:17:01] <emanuele6> # shopt -s nullglob; >> arr1; arr=(a b c) arr1=y; unset arr[1] ; declare -p arr arr1
[21:17:02] <shbot> emanuele6: declare -a arr=([0]="a" [1]="b" [2]="c")
[21:17:02] <shbot> emanuele6: bash: declare: arr1: not found
[21:17:49] <hejux> phy1729: $ expands first, and then unset by unset
[21:17:51] <hejux> i see.
[21:17:56] <hejux> but there is a quote issue.
[21:18:04] <emanuele6> arr[1] is a glob that expands to arr1
[21:18:07] <hejux> should always quote ?
[21:18:39] <phy1729> unset is a builtin, so normal expansion rules still apply
[21:18:53] *** Joins: taupiqueur (~taupiqueu@64.197.204.77.rev.sfr.net)
[21:19:08] <phy1729> # foo=1; bar=1; touch foo; unset *; declare -p foo bar
[21:19:09] <shbot> phy1729: bash: declare: foo: not found
[21:19:09] <shbot> phy1729: declare -- bar="1"
[21:19:30] <hejux> emanuele6: so, if quote "arr[1]", it will not expand to arr1?
[21:19:45] <emanuele6> that is how glob usually work, yes
[21:19:59] *** Quits: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net) (Ping timeout: 250 seconds)
[21:20:08] <emanuele6> * expands to all files in the current directory, '*' does not
[21:20:18] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[21:20:51] <hejux> i think arr1 is a edge case example. nullglob or not nullglob, always quote after unset is a good idea? unless we want expansion
[21:21:40] <emanuele6> it is not a good idea to only do that for unset..
[21:21:44] <Soliton> it makes little sense to use pathname expansion with unset so yes quote.
[21:22:44] <emanuele6> you should always quote every quote characters that you don't want to expand as a consequence of pathname expansion
[21:22:56] <emanuele6> s/quote/glob/2
[21:23:16] <ormaaj2> nullglob is nice but not mandatory. I rarey use it.
[21:23:17] *** Quits: taupiqueur (~taupiqueu@64.197.204.77.rev.sfr.net) (Ping timeout: 268 seconds)
[21:23:26] <hejux> [] is a glob char
[21:23:36] <emanuele6> two glob chars, yes
[21:23:42] <emanuele6> !glob
[21:23:42] <greybot> Globs are shell patterns that can be used for matching strings or expanding pathnames: [[ $name = Bob* ]]; rm -- *.txt; see http://mywiki.wooledge.org/glob
[21:23:44] <hejux> yes... [] expands to any one of them
[21:25:11] <hejux> emanuele6: yes, i brought this up because i was reading that... it says .. Enabling nullglob on a wide scope can trigger bugs caused by bad programming practices. It "breaks" the expectations of many utilities.
[21:25:16] <hejux> Removing array elements:
[21:25:19] <ormaaj2> technically a "glob character" is one that begins a glob. So [ not ]
[21:26:37] <emanuele6> `unset' is just like any other simple command, you should always quote glob characters that you don't want to expand, "always quote after unset" makes little sense
[21:27:10] <ormaaj2> but that's a pedantic term that ignores extglob anyway.
[21:28:42] <hejux> so many details
[21:29:19] *** Joins: Knaxius (~Knaxius@user/Knaxius)
[21:29:41] <hejux> so
[21:29:53] <hejux> bash, let's take the [ for example
[21:31:09] <ormaaj2> extglob complexifies the parsing since it includes metacharacters in the middle of a word and must backtrack to find the start of glob token. so "glob character" isn't a thing in that context.
[21:31:12] <hejux> it is used in mamy places. [ could be a test, [[ is another thing [a-z] is another thing , array[0] is another thing
[21:31:30] *** Joins: DaNeenjah (~jake@adsl-74-230-7-13.hsv.bellsouth.net)
[21:31:37] <rendar> a function tells me another function doesn't exist, why? because i have declared it above?
[21:31:43] <rendar> does order matter?
[21:31:44] <earendel>   Celmor[m]: by looking for  $next value in the already build up result array. and only pushing it onto the array if it isn't there yet.
[21:32:31] <llua> if you call it before the function is defined, yeah it does matter.
[21:32:46] <greycat> !bsr
[21:32:46] <greybot> https://mywiki.wooledge.org/BashSyntaxReference
[21:32:55] <Celmor[m]> I think the awk solution earlier would work, currently just trying to get my fields splitted and not leaving a bunch of white spaces
[21:33:45] <hejux> ormaaj2: bash is a complex lang actually
[21:34:01] <hejux> and sometimes too simple...
[21:34:21] <earendel> Celmor[m]: if you sort first, you just need to store the last line and compare it with the next. if its equal not dont push onto result array. (most performant, but sorting is expensive.)
[21:34:26] <emanuele6> hejux: all POSIX shells have globs
[21:34:54] <hejux> complex, because it uses the same char in many places stand for different meanings
[21:34:57] <ormaaj2> It is small. The complexity is in the dumb parts.
[21:35:07] <hejux> simple. because it can do limited stuff...
[21:35:42] <greycat> Bash's syntax is *ridiculous*.  See the above URL.
[21:35:44] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Quit: WeeChat 3.3)
[21:36:03] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[21:36:06] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Client Quit)
[21:36:19] <ormaaj2> getting more ridiculous all the time.
[21:36:25] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[21:36:31] <Celmor[m]> earendel: `awk '!s[$0]++'` solves it just fine
[21:36:47] <ormaaj2> apparently there's going to be a printf %Q now.
[21:37:04] <hejux> greycat: that page ... is ridiculous ...
[21:37:39] <ormaaj2> And other weird stuff in recent git logs...
[21:38:02] <hejux> ormaaj2: does C have a printf %Q?
[21:38:09] <earendel> foreach, map, reduce require iterables. contains, indexOf, Set, uniqud require equatables (implementing an isEqual function predicate function).
[21:38:19] <hejux> i believe the printf in bash/zsh/ are from C
[21:38:39] <greycat> printf in bash is based on printf(1) from POSIX which is based on printf(3) from C's standard library
[21:38:51] <greycat> each layer adds stuff to the previous layer
[21:39:18] <hejux> %-10.3G\n
[21:39:20] <emanuele6> Celmor[m]: awk '{ gsub(/(^[[:blank:]]+|[[:blank:]]+$/, "") } !a[$0]++' ?
[21:39:22] <ormaaj2> it doesn't have %q so why would it. Also ksh93 already created the extensible %q() syntax.
[21:39:45] <Celmor[m]> not quite sure what to make of that
[21:39:48] <earendel> equable + iterable does most magi in programming. for sorting you need comparables (less than, equal, greater than predicates)
[21:39:49] <ormaaj2> %()q rather
[21:39:56] *** Quits: zalt (~zalt@user/zalt) (Ping timeout: 256 seconds)
[21:40:28] <emanuele6> Celmor[m]: i thought you wanted to remove leading/pending blank character
[21:40:38] <Celmor[m]> pretty much just need an equivalent to this in awk: `while IFS=/ read -rd "" _ f; do dirname "$f"; done`. the zero termination and splitting the beginning I've gotten dealth with, getting read of the basename not so much
[21:40:50] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[21:40:51] <Celmor[m]> nope, not blank chars
[21:41:07] *** Quits: unop (~unop@194.154.249.71) (Remote host closed the connection)
[21:41:17] *** Quits: han-solo (~hanish@user/han-solo) (Quit: leaving)
[21:41:18] <greycat> !faq trim
[21:41:18] <greybot> https://mywiki.wooledge.org/BashFAQ/067 -- How can I trim leading/trailing white space from one of my variables?
[21:41:23] *** Joins: unop (~unop@194.154.249.71)
[21:41:45] <emanuele6> Celmor[m]: why don't you use a bash equivalent of a[$0]++ instead?
[21:42:13] <emanuele6> (( a[$f]++ )) || continue
[21:42:14] <greycat> that sounds like a uniq(1) thing, not a trimming thing
[21:42:23] *** Quits: r319n (~r319n@78-56-254-167.static.zebra.lt) (Quit: Client closed)
[21:42:45] <Celmor[m]> the awk works but I also need the zero terminator respected
[21:42:53] <hejux> when using bash printf. what man page do i look at? man 1 printf or man 3 printf
[21:42:54] <emanuele6> err, (( a[\$f]++ )) || continue
[21:43:01] <earendel> daily trivia.
[21:43:02] <Celmor[m]> so far I've gotten `awk -F / -v RS="\0" '{for (i=2; i<NF; i++) printf $i " "; print $NF}'`, only need to get the  delimiter added back in
[21:43:03] <llua> bash(1)
[21:43:03] <emanuele6> Celmor[m]: so why don't you use bash?
[21:43:06] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[21:43:07] <greycat> hejux: Yes.
[21:43:21] <greycat> (both of those AND the bash manual)
[21:43:29] <greycat> (each layer refers to the layer below it)
[21:43:37] <earendel> Celmor[m]: what are you doing here.
[21:43:38] <Celmor[m]> emanuele6: it would still be several commands/longer pipeline to get the job done. trying to simplify
[21:44:02] *** Joins: MaterazziSan (~user@24.135.203.113.dynamic.jazztel.es)
[21:44:17] <hejux> greycat: bash supports all man 3 printf formats?
[21:44:23] <emanuele6> you said you want to do: while IFS=/ read -rd "" _ f; do dirname "$f"; done but with uniqness
[21:44:46] <greycat> Not all.  Most.
[21:44:59] <greycat> There are a few that make no sense, like pointers.  Bash doesn't have 'em.
[21:45:32] <hejux> b e f g q ok?
[21:45:42] <ormaaj2> hejux: no. e.g. printf %p would be nonsense.
[21:45:51] <emanuele6> why not just: cmd | { a=(); while IFS=/ read -rd '' _ f; do (( a[\$f]++ )) && continue; dirname -- "$f"; done ;}
[21:45:58] <Celmor[m]> earendel:  I used to do this: `find . -printf "%T@/%p\0" | sort -zrn | while IFS=/ read -rd "" _ f; do dirname "$f"; done | uniq -d | while read -r dir; do printf %s\\n "$dir"; done` but it has an error, as dirs still get through duplicated which is why I went with the awk solution from above and am still trying to replace that loop
[21:46:01] <emanuele6> i don't see why you can't do that
[21:46:32] <hejux> ormaaj2: lol void
[21:46:35] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[21:46:39] <emanuele6> anyway, if you think that you must use -vRS='\0', you should invoke awk as gawk, because that is a gawk extension
[21:46:51] <earendel> can sort be used on a particular field? i guess no. or it would have been suggested the days.
[21:46:57] <greycat> !sort-k
[21:46:57] <greybot> To sort(1) on the second field: sort -k 2,2; This means "the sort key is field 2 only". sort -k 2 means "the sort key runs from the start of field 2 to the end of the line".
[21:47:08] <earendel> oh.
[21:47:30] *** Joins: nvmd (~nvmd@user/nvmd)
[21:48:24] <earendel> here you go. that would work for you too Celmor. you just need to enumerate your entries. (give them an id) then sort (field based) -u flag (uniq) and then sort back using the ids.
[21:48:42] <earendel> thanks greykitten.
[21:48:58] <Celmor[m]> the issue with awk that remained was merely printed all except the first and last fields and leave the delimiter in
[21:49:11] <earendel> awk is an issue.
[21:49:50] <Celmor[m]> the timestamp would essentially be an id
[21:49:53] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Quit: WeeChat 3.3)
[21:50:13] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[21:50:28] <Celmor[m]> sort twice doesn't sound efficient, I still think awk would be the "cleanest" solution
[21:50:40] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Client Quit)
[21:51:19] <Celmor[m]> doesn't appear to get any output with `a=(); while IFS=/ read -rd '' _ f; do (( a[\$f]++ )) && continue; dirname -- "$f"; done`
[21:51:46] <Celmor[m]> seems to run forever
[21:51:51] <earendel> Celmor[m]: no. the id thing was to restore your original order. (you probly forgot you wanted it. or at least annoced so)
[21:52:27] <emanuele6> Celmor[m]: what do you mean? did you just paste it in a shell?
[21:52:35] <Celmor[m]> I know what it was for
[21:53:31] <earendel> tou are the most fucked up. definitely.
[21:53:47] <Celmor[m]> I've run `find . -printf "%T@/%p\0" | a=(); while IFS=/ read -rd '' _ f; do (( a[\$f]++ )) && continue; dirname -- "$f"; done`
[21:53:57] <emanuele6> no, you need {}
[21:54:19] <emanuele6> that just runs `find . -printf "%T@/%p\0" | a=();' and then `while read ...' independently
[21:54:36] *** Quits: dangmoo (uid460623@id-460623.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[21:54:38] <emanuele6> also i forgot to tell you to use `declare -A a=()'
[21:55:02] <emanuele6> find . -printf "%T@/%p\0" | { declare -A a=(); while IFS=/ read -rd '' _ f; do (( a[\$f]++ )) && continue; dirname -- "$f"; done ;}
[21:55:06] <Patsie> !pe
[21:55:06] <greybot> Parameter Expansion expands parameters: "$foo", "$1". You can use it to perform string or array operations: "${file%.mp3}", "${0##*/}", "${files[@]: -4}". They should *always* be quoted. See: http://mywiki.wooledge.org/BashFAQ/073 and "Parameter Expansion" in man bash. Also see http://wiki.bash-hackers.org/syntax/pe.
[21:55:12] *** Quits: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke) (Ping timeout: 276 seconds)
[21:55:19] <Celmor[m]> added those {}, errors out with syntax errors. shellcheck says it's fine
[21:55:22] *** Quits: nomn (nomn@user/nomn) (Quit: WeeChat 3.2)
[21:55:44] <emanuele6> what do you mean "those {}"?
[21:55:48] <Patsie> is there a {1..10} with step 2, option? (i.e. get all even or odd numbers)
[21:55:59] <greycat> # echo {1..10..2}
[21:56:00] <shbot> greycat: 1 3 5 7 9
[21:56:04] <Patsie> thanks
[21:56:08] <Celmor[m]> find . -printf "%T@/%p\0" | { a=(); while IFS=/ read -rd '' _ f; do (( a[\$f]++ )) && continue; dirname -- "$f"; done; }
[21:56:15] <greycat> you could also write 1 3 5 7 9
[21:56:23] <earendel> not only are you trolling all your questions. you also refuse any suggestions of the people wasting their time on you. usually ending in something you then claim to have found on your own. and the horror i you planned on faking interest at best. but the rest is your inherent pathetic naturelle.
[21:56:25] <greycat> it's actually shorter
[21:56:26] <Celmor[m]> this kind of run though: find . -printf "%T@/%p\0" | { declare -A a=(); while IFS=/ read -rd '' _ f; do (( a[\$f]++ )) && continue; dirname -- "$f"; done; }
[21:56:26] <emanuele6> Celmor[m]: declare -A a=()
[21:56:43] <Patsie> greycat: I have a bigger range than 1..10
[21:56:43] <Celmor[m]> yes, I did that before you wrote declare -A
[21:56:54] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 260 seconds)
[21:56:58] <Celmor[m]> now I've run it with declare -A which kind of broke the shell
[21:57:04] <earendel> lol.
[21:57:22] <emanuele6> how did it break your shell, it is running in a subshell...
[21:57:22] *** Quits: carl- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se) (Ping timeout: 260 seconds)
[21:57:31] <earendel> he was born before his mother got pregnant.
[21:57:36] <Celmor[m]> it broke scrolling
[21:57:41] *** Joins: dreamon (~dreamon@pd9503f67.dip0.t-ipconnect.de)
[21:57:44] <Celmor[m]> a reset fixed it
[21:57:44] *** Joins: x88x88x (~x88x88x@2001:19f0:5:39a8:5400:3ff:feb6:73cb)
[21:57:56] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[21:58:02] <emanuele6> so your terminal
[21:58:15] <Celmor[m]> earendel: guess I'll just ignore you then if half of what you say are insults. thanks anyway
[21:58:28] <Celmor[m]>  oops, tagged the wrong one
[21:58:50] <Celmor[m]> I'll go with my original awk solution, thanks anyway
[21:58:52] *** Joins: smeeagle (~smeeagle@2a00:23c8:9611:e600:9563:3661:427a:9acd)
[21:59:07] <emanuele6> `-v RS="\0"' is gawk
[21:59:08] <earendel> i was the only one answering at you. look back.
[21:59:10] <earendel> its in the logs.
[21:59:22] <earendel> you shouldnt ignore me.
[22:00:53] <Celmor[m]> I didn't
[22:01:01] *** Quits: YHVH (~yhvh@2601:982:8300:8090:e035:c7e:ce95:b49b) (Ping timeout: 252 seconds)
[22:01:48] <emanuele6> also, why do you need to run dirname(1) on that, can't you just make the -printf print the dirname directly? %h
[22:02:28] <greycat> or else use parameter expansions to strip the leading directory paths without having to fork a process to do it
[22:02:51] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[22:03:24] <emanuele6> it sounds like all you want to do is: `find . -printf '%T@/%p\0' | sort -zurn | cut -d/ -f2-
[22:03:32] <emanuele6> err
[22:03:42] <emanuele6> it sounds like all you want to do is: `find . -printf '%T@/%h\0' | sort -zurn | cut -zd/ -f2-
[22:04:02] <greycat> I didn't even know GNU cut had -z
[22:04:39] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Client closed)
[22:04:43] <greycat> why the hell wouldn't they permit the -z patch for ls, when they permitted this...
[22:05:09] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[22:05:44] *** Quits: zostj (~rue@1-162-40-252.dynamic-ip.hinet.net) (Quit: WeeChat 3.3)
[22:06:19] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[22:07:09] *** Joins: magla (~gelignite@55d43df6.access.ecotel.net)
[22:09:38] *** Joins: taupiqueur (~taupiqueu@64.197.204.77.rev.sfr.net)
[22:13:08] *** Joins: YHVH (~yhvh@c-98-235-30-231.hsd1.pa.comcast.net)
[22:13:51] *** Quits: taupiqueur (~taupiqueu@64.197.204.77.rev.sfr.net) (Ping timeout: 252 seconds)
[22:14:49] *** Joins: zostj (~rue@1-162-40-252.dynamic-ip.hinet.net)
[22:18:43] <Celmor[m]> greycat: the plan was indeed to avoid the forking of an additional process for the dirname part via awk
[22:19:33] <Celmor[m]> only haven't gotten the `!s[$0]++` part functioning with my awk line yet
[22:19:33] <ormaaj> ha
[22:19:41] <emanuele6> GNU find can print dirnames directly and you don't seem to need the full path in your pipeline
[22:20:02] <Celmor[m]> trying something like this atm: gawk -F / -v RS="\0" -v OFS=/ '{l=""; for (l=$2; i=3; i<NF; i++) l=l"/"$i; !s[l]++}'
[22:21:38] <emanuele6> that is not syntactically valid code
[22:21:49] <Celmor[m]> so essentially just having the associative array logic instead of a print: gawk -F / -v RS="\0" -v OFS=/ '{l=$2; for (i=3; i<NF; i++) l=l"/"$i; print l}'
[22:22:23] <emanuele6> why OFS?
[22:23:43] <Celmor[m]> from some SO answer that I tried, guess I don't need it anymore
[22:23:57] <Celmor[m]> when I tried concatenating the fields with the delimiter back together
[22:24:26] <Celmor[m]> !uniq
[22:24:26] <greybot> is a utility for removing or reporting repeated lines. uniq will only work for showing unique lines when used with sorted input (sort | uniq). Alternatively, use sort -u. awk '!s[$0]++' is an order-insensitive alternative.
[22:24:42] <Celmor[m]> dang, thought there was an explanation for the awk example
[22:26:14] <ormaaj2> there's a dedicated awk channel too.
[22:28:28] *** Quits: kdc (~kdc@196.211.197.159) (Quit: Leaving)
[22:30:21] *** Joins: ayusta (Thunderbir@gateway/vpn/protonvpn/ayustae)
[22:30:25] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 250 seconds)
[22:30:25] *** ayusta is now known as ayustae
[22:32:17] *** Quits: BSaboia (~bsaboia@177.37.198.227) (Quit: This computer has gone to sleep)
[22:32:24] *** Quits: zostj (~rue@1-162-40-252.dynamic-ip.hinet.net) (Quit: WeeChat 3.3)
[22:32:56] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Client Quit)
[22:33:47] <Celmor[m]> which is dead
[22:34:34] <Celmor[m]> one of the last 2 messages was mine 2-3 months ago
[22:34:52] <emanuele6> what are you talking about?
[22:35:09] <Celmor[m]> ah, still had the freenode one
[22:37:19] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 252 seconds)
[22:38:54] *** Quits: nabaiste^ (~nabaiste@wsip-98-188-240-142.mc.at.cox.net) (Remote host closed the connection)
[22:38:54] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[22:43:38] <ormaaj2> Considering the number of pure lurkers there were this channel has bounced back rather well.
[22:44:02] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 260 seconds)
[22:44:46] <twkm> still mostly lurkers though.
[22:45:05] * e36freak lurks ominously
[22:47:06] *** Joins: dsrt^ (~dsrt@wsip-98-188-240-142.mc.at.cox.net)
[22:47:09] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[22:49:38] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 260 seconds)
[22:51:20] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[22:51:40] *** Joins: kyr (~kyr@167.71.50.12)
[22:55:22] *** Quits: Knaxius (~Knaxius@user/Knaxius) (Quit: bye)
[22:55:27] *** Joins: taupiqueur (~taupiqueu@64.197.204.77.rev.sfr.net)
[22:55:54] *** Joins: sinaowolabi (~SinaOwola@41.58.231.63)
[22:58:37] *** Joins: reallymemorable (~reallymem@91.75.74.154)
[22:59:22] <earendel> pure lurkers?
[22:59:29] <earendel> lol.
[23:00:26] <earendel> a severe sentence!
[23:01:11] <earendel> sandmaenner bewegen sich im gaensemarsch um ihre wahre staerke zu verbergen.
[23:01:46] <earendel> doch mitnichten!
[23:01:54] <earendel> xd
[23:02:07] <ormaaj2> Like you but opposite.
[23:04:58] <earendel> you are just my sock puppet account i joint with, to hail whatever i say. laugh at my puns. and sometimes even explain them. xd
[23:05:02] *** Quits: somlis (~somlis@user/somlis) (Quit: WeeChat 3.3)
[23:07:10] *** Quits: MaterazziSan (~user@24.135.203.113.dynamic.jazztel.es) (Quit: ERC (IRC client for Emacs 27.1))
[23:07:52] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[23:07:54] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Remote host closed the connection)
[23:08:04] *** Joins: saki- (~saki@gateway/tor-sasl/saki)
[23:08:29] *** saki- is now known as saki
[23:09:38] <earendel> however. if the question is a supposedly mocking one, but has some merit imo. one may entertain it. i  learned a lot on irc while shutting my mouth listening to talks.
[23:10:21] * ormaaj2 is not his sock puppet.
[23:10:31] <earendel> i wish i could sell it to you. but i don't own it. but you can eventually buy my gf.
[23:10:37] <earendel> he isn't.
[23:11:20] <ormaaj2> my sockpuppets are strictly for dumb questions.
[23:11:34] <earendel> my sockpuppet would have hailed my post with a smiley. or somehow promote the beauty of my penis.
[23:13:41] *** Joins: somlis (~somlis@user/somlis)
[23:13:43] <earendel> really. anytime my sockpuppet rants on me. it fails, accidently exposing its admiration for me.
[23:13:59] <earendel> pure lurkers established.
[23:14:06] *** Joins: carl- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se)
[23:14:20] *** Joins: Fausto (~dante@gateway/tor-sasl/filohuhum)
[23:17:45] *** Quits: zouhair (~zouhair@142.182.70.140) (Quit: KVIrc 5.0.1 Aria http://www.kvirc.net/)
[23:18:39] *** Joins: sazawal (~sazawal@122.161.88.88)
[23:18:46] <earendel> you know the dwarves where orginally dolls/cyborgs? only eru gave dem the secret fire, but basically its still with him only.
[23:18:56] *** Quits: smeeagle (~smeeagle@2a00:23c8:9611:e600:9563:3661:427a:9acd) (Quit: smeeagle)
[23:19:02] <greycat> *plonk*
[23:19:51] *** Quits: sinaowolabi (~SinaOwola@41.58.231.63) (Read error: No route to host)
[23:19:53] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.3)
[23:20:14] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 256 seconds)
[23:21:56] *** Quits: carl- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se) (Ping timeout: 256 seconds)
[23:21:59] <e36freak> wot
[23:23:01] <emanuele6> <greycat > why the hell wouldn't they permit the -z patch for ls, when they permitted this...
[23:23:08] <emanuele6> greycat: https://git.savannah.gnu.org/cgit/coreutils.git/commit/?id=7d44ac224c93940d1a708442c1edf1a927be7057
[23:23:35] <emanuele6> the have added it in july this year
[23:23:40] <greycat> Oh, nice.
[23:23:41] *** Joins: carl- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se)
[23:23:55] <emanuele6> it originally was named --null, but then they renamed it to --zero
[23:24:10] <ormaaj2> -z for ols was recent?
[23:24:16] <ormaaj2> ls
[23:24:39] <greycat> It was proposed in 2014 and rejected at that time.
[23:25:22] *** Quits: unop (~unop@194.154.249.71) (Remote host closed the connection)
[23:25:57] *** Joins: unop (~unop@194.154.249.71)
[23:27:25] *** Joins: zouhair (~zouhair@142.182.70.140)
[23:27:27] <ormaaj2> cut being useful in scripts i can understand. I'd possibly reject for ls too and just say "use find -ls", though its output is sadly not configurable.
[23:28:06] <greycat> There's basically no reasonable substitute for "ls -tz" if you want the most recent (or least recent) files in a directory.
[23:28:16] <ormaaj2> er i guess it can'be combined with -printf either
[23:28:36] *** Quits: wenijinew (~wenijinew@c83-248-21-105.bredband.tele2.se) (Quit: leaving)
[23:31:45] *** Joins: hentai (~hentai@user/hentai)
[23:32:38] <hentai> I know that this might be the wrong channel, but what could be used to unpack snappy framed data?
[23:32:56] <hentai> (from shell)
[23:34:02] <twkm> something that groks the format.
[23:34:18] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Read error: Connection reset by peer)
[23:35:15] <hentai> nvm, found python-snappy which supplies a tool to use from shell
[23:35:20] <greycat> I don't even know how to parse the question.  Is one of the words "snappy" or "framed" the name of a product of some kind?
[23:35:58] <emanuele6> snappy is a compression format iirc
[23:36:24] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[23:36:26] <ormaaj2> # find /etc \( -ls -o -printf \\0 \) | { mapfile -td '' a; echo "${#a[@]}"; }
[23:36:26] *** Quits: unop (~unop@194.154.249.71) (Remote host closed the connection)
[23:36:27] <shbot> ormaaj2: 1
[23:36:41] *** Joins: unop (~unop@194.154.249.71)
[23:37:27] *** Quits: Mo (~Mo@dynamic-077-008-191-014.77.8.pool.telefonica.de) (Ping timeout: 252 seconds)
[23:38:22] *** Quits: carl- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se) (Ping timeout: 256 seconds)
[23:38:40] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Read error: error:1408F119:SSL routines:ssl3_get_record:decryption failed or bad record mac)
[23:38:56] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[23:39:06] *** Joins: zaden (~maddx@73.92.207.228)
[23:40:48] *** Joins: nattiestnate (~nate@2001:448a:20a0:4134:25e:715f:d637:5263)
[23:41:03] *** Quits: taupiqueur (~taupiqueu@64.197.204.77.rev.sfr.net) (Ping timeout: 250 seconds)
[23:42:13] <emanuele6> ormaaj2: -ls always evaluated to true
[23:43:04] <emanuele6> # find /etc -ls -printf \\0 | { mapfile -td '' a; printf '%s\n' "${#a[@]}" ;}
[23:43:06] <shbot> emanuele6: 12
[23:43:24] <ormaaj2> which means it implicitly ends the expression IIRC so you need -o
[23:43:38] <greycat> I have no idea what you're trying to show us.
[23:44:01] *** Quits: zaden (~maddx@73.92.207.228) (Read error: error:1408F119:SSL routines:ssl3_get_record:decryption failed or bad record mac)
[23:44:25] *** Joins: seninha (~seninha@user/seninha)
[23:44:26] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[23:44:45] <emanuele6> -ls just prints the current file "in the format of `ls -dils'" followed by a newline and evaluates to true
[23:45:11] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Client closed)
[23:45:24] <emanuele6> it does not implicitly end the expression and since it evaluates to true what is after `-o' is never run
[23:45:28] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[23:45:47] <ormaaj> i forgot the rule
[23:46:14] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Client Quit)
[23:46:54] <emanuele6> i don't think you can pass ls options to -ls, it is just to print `ls -l' style lines
[23:52:01] *** Joins: taupiqueur (~taupiqueu@64.197.204.77.rev.sfr.net)
[23:52:49] <ormaaj> posix doesn't even seem to discuss the thing i'm talking about :/
[23:53:20] <greycat> -ls is a GNUism, so that wouldn't be it...
[23:54:08] <ormaaj> not related to -ls. the treatment of truth value.
[23:54:10] <greycat> the only things I can think of that you *might* be thinking of are -prune, or the funny business about an omitted -print vs. a supplied -print
[23:54:52] <ormaaj> oh that's specific to -prune?
[23:55:08] <greycat> no, -prune is just weird as hell all on its own
[23:55:33] <ormaaj> hm.
[23:56:24] <emanuele6> ormaaj: -prune evaluates to true for directory and evaluates to false for directories
[23:56:30] <emanuele6> err
[23:56:45] <emanuele6> ...and evaluates to false for non-directories
[23:56:57] <greycat> -prune    The  primary  shall  always  evaluate as true; ...
[23:57:05] <emanuele6> oh, oops
[23:57:14] <emanuele6> you are right, i misread
[23:58:05] <emanuele6> ah, right
