[00:18:49] *** Joins: AnOldMateWithAQu (~AnOldMate@pool-70-106-223-239.clppva.fios.verizon.net)
[00:18:53] <AnOldMateWithAQu> hello
[00:19:35] <AnOldMateWithAQu> I have a h264 encoder written in libav*
[00:19:39] <AnOldMateWithAQu> However, it is too slow
[00:19:50] <AnOldMateWithAQu> How can I get started with converting my code to run with NVENC
[00:20:23] <JEEB> have you looked into poking at the options of whatever H.264 encoder you're most likely utilizing from libavcodec?
[00:20:27] <JEEB> from or via
[00:20:46] <AnOldMateWithAQu> To speed up the encoding process?
[00:20:50] *** Joins: jkwnki2 (~jkwnki@p4ff317ba.dip0.t-ipconnect.de)
[00:20:52] *** Joins: jkwnki1 (~jkwnki@p4ff317ba.dip0.t-ipconnect.de)
[00:21:29] <JEEB> yes, for example libx264 has presets which are exactly to tweak how much time gets utilized to attempt to compress something better
[00:21:34] <AnOldMateWithAQu> Because I don't know if a CPU can handle near 4k realtime encoding for up to 90 FPS
[00:21:46] <JEEB> depends on the CPU
[00:21:50] <JEEB> and preset
[00:22:06] <JEEB> (with libx264)
[00:22:12] <JEEB> other encoders may have other options :P
[00:22:30] <AnOldMateWithAQu> Well I can say for sure, that I need quality and I don't think software encoding will work for what I need
[00:22:43] <JEEB> quality is separate from that
[00:22:47] <AnOldMateWithAQu> It can only encode at ~20 FPS for me
[00:23:00] <JEEB> quality after all is a vector of how much bits you throw at it
[00:23:15] <JEEB> like, if you utilize a low CRF value it's going to look alright even if you dumb down the encoder :P
[00:23:32] <JEEB> and HW encoders anyways are not built for good compression, just speed and low latency use cases
[00:23:44] <JEEB> in any case, it's valid to attempt f.ex. nvenc
[00:23:55] <AnOldMateWithAQu> Right now, a preset of ultra fast and low latency isn't fast enough for software
[00:24:04] <AnOldMateWithAQu> and yes I need super fast encoding with low latency
[00:24:30] <JEEB> tune zerolatency is actually slower than without it, since it throws away frame threads and utilizes slice threading instead
[00:24:44] <JEEB> but yea, if you've already poked at presets - sure
[00:24:55] <JEEB> I just wanted to make sure you actually had poked at the parameters first
[00:25:23] <JEEB> I think I'm at preset veryslow for like 10+fps right now?
[00:25:26] <JEEB> on my 5900X
[00:25:30] <JEEB> with 2160p
[00:25:51] <AnOldMateWithAQu> I'm on a 2700X
[00:25:53] <JEEB> also make sure that everything that comes before the encoder is not your bottleneck
[00:26:05] <JEEB> like just cut off the encoder from the end
[00:26:07] <JEEB> and see how it goes
[00:26:23] <AnOldMateWithAQu> I know I need NVENC because VAAPI on AMD GPUs runs fast enough
[00:26:25] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[00:26:39] <JEEB> because it would suck if you implement an encoder that in theory can run faster
[00:26:44] <JEEB> but then you had a bottleneck before it :P
[00:26:48] <JEEB> that you didn't notice since you didn't check
[00:26:53] <AnOldMateWithAQu> Yeah, O
[00:27:07] <AnOldMateWithAQu> *I'm fairly certain the encoder is the bottleneck
[00:27:28] <JEEB> yea but just to make sure your color space conversions etc are fast enough for that 90Hz or so
[00:27:34] <JEEB> since you're not hitting that atm
[00:27:45] <JEEB> it shouldn't take too long to just throw away the AVFrame
[00:27:51] <JEEB> instead of feeding it to the encoder
[00:27:54] <AnOldMateWithAQu> I assume you're beating around the bush because NVENC is significantly harder to implement
[00:28:00] <JEEB> not really
[00:28:19] <JEEB> I don't know your code
[00:28:23] <JEEB> I don't want you to have surprises
[00:28:50] <AnOldMateWithAQu> BTW, I found nvenc (nvenc.c nvenc.h) code in libavcodec, but it doesn't seem to be in my install
[00:28:58] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[00:28:59] <AnOldMateWithAQu> 1: Could this abstract away from the NVENC code
[00:29:12] <AnOldMateWithAQu> 2: How can I get into my install
[00:29:15] <AnOldMateWithAQu> do I need to enable a flag
[00:29:27] <AnOldMateWithAQu> `--prefix=/usr --disable-debug --disable-static --disable-stripping --enable-amf --enable-avisynth --enable-cuda-llvm --enable-lto --enable-fontconfig --enable-gmp --enable-gnutls --enable-gpl --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libdav1d --enable-libdrm --enable-libfreetype --enable-libfribidi --enable-libgsm
[00:29:28] <AnOldMateWithAQu> --enable-libiec61883 --enable-libjack --enable-libmfx --enable-libmodplug --enable-libmp3lame --enable-libopencore_amrnb --enable-libopencore_amrwb --enable-libopenjpeg --enable-libopus --enable-libpulse --enable-librav1e --enable-librsvg --enable-libsoxr --enable-libspeex --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtheora
[00:29:28] <AnOldMateWithAQu> --enable-libv4l2 --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxcb --enable-libxml2 --enable-libxvid --enable-libzimg --enable-nvdec --enable-nvenc --enable-shared --enable-version3 --enable-vulkan --enable-libglslang`
[00:29:46] <JEEB> nvenc should already be there :P
[00:29:58] <AnOldMateWithAQu> `find /usr \
[00:30:07] <JEEB> it's a private header you're looking for
[00:30:08] <AnOldMateWithAQu> `find /use | grep nvenc` returns nothing
[00:30:10] <JEEB> not gonna be installed
[00:30:27] <JEEB> just look up an encoder AVCodec with the name "h264_nvenc"
[00:30:34] <JEEB> you should get a non-nullptr
[00:30:35] <JEEB> :P
[00:31:17] <AnOldMateWithAQu> well I already tried switching to h264_nvenc, but it just causes a crash, the part I need help is getting my frame into a format compatible with nvenc
[00:31:36] <JEEB>  it should in theory be able to take in sw pix_fmts
[00:31:38] <AnOldMateWithAQu> and any other steps because ffmpeg leaves me lost most of the time so I don't know if im missing another step
[00:31:50] <JEEB> better look at the logs you're getting :P
[00:31:59] <AnOldMateWithAQu> I have to use a CUDA pixel format right?
[00:32:02] <JEEB> nope
[00:32:16] <JEEB> if you look at the pix_fmts listing in tha AVCodec
[00:32:30] <JEEB> it has software pix_fmts there just fine
[00:32:49] <JEEB> so in theory it seems like you could leave the frame upload to it for a proof of concept
[00:33:14] <JEEB> so the issue is most likely somewhere else
[00:33:37] <AnOldMateWithAQu> My pixel format is vulkan
[00:33:45] <AnOldMateWithAQu> I just checkedff_nvenc_pix_fmts
[00:33:50] <AnOldMateWithAQu> vulkan isn't on that list
[00:34:31] <JEEB> well, yes. I think they might add a compatibility thing for that - and nvidia is actually the first vendor to implement the vulkan video extensions (interfaces for decode and encode), but that's not there yet
[00:34:42] <AnOldMateWithAQu> So in theory, I could just switch the encoder, convert the frame to one with a compatible format, then continue as normal?
[00:34:45] <JEEB> also how would have I had to know that you had vulkan in there :P
[00:34:50] <JEEB> I don't have a magical 8ball
[00:34:56] <AnOldMateWithAQu> I know
[00:35:01] <AnOldMateWithAQu> i should have told you earlier
[00:35:40] <JEEB> I wish nvidia would enable the vulkan video APIs with their non-development drivers
[00:35:46] <JEEB> I kind of want to poke at them
[00:36:26] <JEEB> since that way we could possibly get people bit by bit out of CUDA, possibly. not everyone of course, since most likely there are use cases better served by CUDA
[00:37:41] <JEEB> AnOldMateWithAQu: also if you are going to be trying hw frames, probably a good idea to mention that you'll have to set up a hw_frames_ctx in the AVCodecContext for that to roll nicely
[00:37:56] <JEEB> AVHWFramesContext
[00:38:05] <AnOldMateWithAQu> So I am going to have to convert it to CUDA or any other compatible format then just shove it into h264_nvenc?
[00:38:10] <JEEB> for sw pix_fmts enough is left to the driver
[00:38:12] <JEEB> yea
[00:38:26] <AnOldMateWithAQu> really?
[00:38:33] <AnOldMateWithAQu> Nothing to setup with cuda or NVENC API?
[00:38:49] <JEEB> just the AVHWFramesContext
[00:39:02] <JEEB> which probably is about telling that you want something of the CUDA or whatever type
[00:39:10] <JEEB> and it internally then calls the CUDA or nvenc APIs required
[00:39:11] <AnOldMateWithAQu> alright
[00:39:13] <AnOldMateWithAQu> thanks mate
[00:39:16] <JEEB> the encoder at least does it all there
[00:39:17] <AnOldMateWithAQu> Ill try that out
[00:39:24] <JEEB> the idea is that you don't need to poke at those yourself
[00:39:31] <JEEB> that is why those files are only within libavcodec itself
[00:39:34] <JEEB> and not installed
[00:40:23] *** Quits: hpkn (~hpkn@gateway/tor-sasl/hpkn) (Remote host closed the connection)
[00:40:44] <JEEB> in various cases setting a specific f.ex. d3d11 swap chain is possible, but in theory it should be possible to just initialize things through the AV HW stuff
[00:40:52] <JEEB> which should then call the right APIs as you request
[00:41:36] *** Joins: hpkn (~hpkn@gateway/tor-sasl/hpkn)
[00:45:47] <AnOldMateWithAQu> I'm on Linux
[00:45:51] <AnOldMateWithAQu> So no D3DX for me
[00:46:09] <JEEB> yes, that was just an example that you most likely could override some specifics, but that you don't have to
[00:46:21] <AnOldMateWithAQu> ok
[00:52:22] *** Quits: fkaa (~fkaa@81-226-20-99-no256.tbcn.telia.com) (Remote host closed the connection)
[01:15:39] <AnOldMateWithAQu> Ok, I was right about cuda, In order to make a hwdevice context you need a GPU name, which you can get with cuda
[01:17:52] <JEEB> I think by default it would just pick?
[01:26:18] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 260 seconds)
[01:26:47] <AnOldMateWithAQu> IDK
[01:26:51] <AnOldMateWithAQu> I'll just use `cuDeviceGetName`
[01:26:53] <AnOldMateWithAQu> to be safe
[01:27:18] <BtbN> FFmpeg at ne point cares about the CUDA device name
[01:27:24] <BtbN> it just wants the integer index
[01:27:32] <AnOldMateWithAQu> it used the GPU name
[01:27:33] <BtbN> so, 0 in most cases for single GPU systems.
[01:27:48] <AnOldMateWithAQu> You use 0 in `cuDeviceGet`
[01:27:55] *** Joins: mthall (~quassel@mail.thalliman.com)
[01:27:59] <AnOldMateWithAQu> You use `cuDeviceGet` then pass it into `cuDeviceGetName`
[01:27:59] <BtbN> I'm very positive it does not use the literal name.
[01:28:15] <BtbN> Unless you're talking about your own code?
[01:28:24] <JEEB> (note: this is one of the guys developing the stuff in libavutil|codec)
[01:29:10] <JEEB> btw just in case, is it about hw_device_get_by_name
[01:29:12] <JEEB> or so :P
[01:31:58] <BtbN> How on earth does that even work. It's completely independent of CUDA, or any other hw api from the looks of it.
[01:32:06] <BtbN> And just generates the name based on some random stuff.
[01:33:03] <AnOldMateWithAQu> CUDA can allow you to get the name
[01:33:16] <AnOldMateWithAQu> But I'll look into hw_device_get_by_name or something
[01:33:48] <BtbN> Yes, CUDA allows it. But ffmpeg never does. That would be way too annoying to deal with.
[01:34:17] <JEEB> that name there is 100% the internal hwdevice name :P
[01:34:21] <JEEB> not the name of the device :P
[01:34:33] <JEEB> I wanted to just highlight that in case that was the reason why you thought a device name was necessary
[01:35:32] <BtbN> https://github.com/FFmpeg/FFmpeg/blob/master/fftools/ffmpeg_hw.c that name seems to happen entirely in that file. It cooks it up based on the device type. It's purely internal, I think.
[01:36:05] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[01:47:47] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 264 seconds)
[02:10:27] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[02:12:30] *** Quits: cosimone (~user@93-47-230-151.ip115.fastwebnet.it) (Quit: ERC (IRC client for Emacs 27.1))
[02:18:11] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[02:22:26] *** Joins: m_ega (~iglosiggi@user/mega)
[02:23:18] *** Quits: waagrr (~waagrr@220.85.70.23) (Ping timeout: 260 seconds)
[02:23:28] *** Quits: m_ega (~iglosiggi@user/mega) (Client Quit)
[02:26:59] *** Quits: vqueiroz (uid340368@id-340368.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[02:38:11] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[02:38:29] *** Joins: AbleBacon_ (~AbleBacon@user/AbleBacon)
[02:45:36] *** Joins: totheocean (~totheocea@a109-49-76-218.cpe.netcabo.pt)
[02:46:00] <totheocean> hi people
[02:46:51] *** Joins: waagrr (~waagrr@220.85.70.23)
[02:46:56] <totheocean> I need some help compiling ffmpeg on fedora 32 to use on ms windows
[02:47:10] <totheocean> anybody can help me?
[02:47:28] <totheocean> I followed this guide
[02:47:29] <totheocean> https://trac.ffmpeg.org/wiki/CompilationGuide/Centos
[02:47:38] <totheocean> unless last step
[02:48:03] <totheocean> what do I need to change to compile windows exe
[02:48:06] <totheocean> ?
[02:49:38] <BtbN> Pretty much everything of that.
[02:49:49] <BtbN> Different compiler, specific cross compilation arguments, ...
[02:50:10] <BtbN> And depending on which version of CentOS, you will also have to grab the cross compiler yourself. Since the included one will be ancient.
[02:51:36] <totheocean> is more easier to make the binary for only use on fedora 32
[02:52:55] <BtbN> Obviously building for your own system is easier
[02:54:26] *** Joins: NovumDXW (~NovumDXW@113.91.34.220)
[02:54:48] <totheocean> do know any current guide available for compiling the exe binary on fedora 32?
[02:55:24] *** Quits: AnOldMateWithAQu (~AnOldMate@pool-70-106-223-239.clppva.fios.verizon.net) (Quit: Client closed)
[02:58:19] <another|> something something btbn builds
[02:58:37] <BtbN> I doubt there's any fedora (32) specific guide
[02:58:48] <BtbN> If you just want a Windows binary, there's various out there, yeah
[02:59:19] <totheocean> the problem here is fdk-aac codec
[02:59:37] <totheocean> that's why I'm compiling
[02:59:58] <BtbN> You will have to cross-compile that, and all other desired dependencies, as well
[03:01:31] <totheocean> do know know any more accurate guide out there to do that
[03:01:39] <totheocean> do you know?
[03:02:17] <BtbN> No, and I doubt any exist. That's just not something you write a "guide" for
[03:02:28] <totheocean> right
[03:02:30] <BtbN> Any guide will just be "Copy and paste these shell commands"
[03:02:34] <BtbN> so might as well make a script
[03:02:47] <BtbN> And it'll then be outdated within a few months
[03:03:22] <totheocean> BtbN tks for your input on my questions
[03:03:58] <BtbN> If you have docker, you can just run my build scripts.
[03:04:22] *** Quits: jkwnki1 (~jkwnki@p4ff317ba.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[03:04:35] *** Quits: jkwnki2 (~jkwnki@p4ff317ba.dip0.t-ipconnect.de) (Ping timeout: 264 seconds)
[03:04:46] <totheocean> sorry for my unknowledge
[03:04:57] <totheocean> what do you me docker?
[03:05:02] <totheocean> vm?
[03:05:05] <BtbN> Uhm, literally docker.
[03:05:13] <BtbN> It's the only dependency. docker + bash
[03:05:17] <BtbN> https://github.com/BtbN/FFmpeg-Builds/
[03:05:27] *** Quits: Buster_ (~Buster@buster-net.ru) (Ping timeout: 260 seconds)
[03:07:03] <totheocean> that's for ubuntu
[03:07:24] <BtbN> It's for literally anything that runs docker and has bash.
[03:07:33] <BtbN> So, practically everything Linux, OSX and even Windows
[03:07:42] <totheocean> ok...
[03:07:59] <totheocean> seems a great help!
[03:08:58] <totheocean> I will check more deeply your gitbug link
[03:09:09] <totheocean> github*
[03:09:17] <totheocean> thanks a lot!
[03:14:36] *** Quits: Aelius (~Aelius@user/aelius) (Quit: quit)
[03:16:38] *** Joins: Aelius (~Aelius@user/aelius)
[03:19:37] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[03:24:16] *** Joins: realies0 (~realies@user/realies)
[03:24:17] <zumba_addict> What am I missing to merge these 2 together? I don't see another audio in muxed.mp4.  The mp4 input file has an audio. `ffmpeg -i kissrip.mp4 -i you.m4a -c:v libx264 -c:a aac -b:a 256k -crf 22 -pix_fmt yuv420p muxed.mp4`
[03:24:59] *** Quits: realies (~realies@user/realies) (Ping timeout: 264 seconds)
[03:24:59] *** realies0 is now known as realies
[03:27:15] <sfan5> merge in what way? do you want two audio tracks?
[03:27:22] <zumba_addict> yes, 2 audio tracks
[03:27:46] <zumba_addict> the audio in kissrip is just a motor sound of a drone
[03:28:30] <sfan5> try with -map 0:v -map 0:a -map 0:a not sure whether that's needed
[03:28:59] <sfan5> -map 0:v -map 0:a -map 1:a *
[03:30:02] *** Quits: mickey8 (~user@user/mickey) (Remote host closed the connection)
[03:30:37] *** Joins: mickey8 (~user@user/mickey)
[03:31:59] <zumba_addict> cool
[03:33:03] <zumba_addict> i'll try a 10 second vid
[03:34:18] <sfan5> btw, are you sure you need to reencode? naming the ouput "muxed.mp4" suggest something else
[03:34:35] <zumba_addict> yahoo, it worked!
[03:34:52] <zumba_addict> oh, I don't need to reencode?
[03:35:35] <zumba_addict> is 1:a my you.m4a?
[03:36:29] <zumba_addict> How do I apply this to the audio on kissrip.mp4 only? `-filter:a "volume=0.2"`
[03:36:57] <zumba_addict> i'm guessing `-filter:0:a "volume=0.2"`?
[03:37:48] <zumba_addict> didn't work, lol
[03:41:31] <zumba_addict> found this solution, wow, quite long command - https://superuser.com/questions/769168/ffmpeg-mixing-and-setting-each-volume-of-a-multi-audio-track-file
[03:50:31] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[03:57:22] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.2)
[03:57:36] <zumba_addict> found a bug in ffmpeg when using `-filter:a "volume=-34dB"` and lower, the audio difference between 33db and 34db is huge
[03:57:52] <zumba_addict> I mean, -33db and -34db
[04:03:59] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[04:07:39] *** Joins: Yonle (~Yonle@user/yonle)
[04:16:40] *** Quits: Yonle (~Yonle@user/yonle) (Remote host closed the connection)
[04:16:58] *** Joins: Yonle (~Yonle@user/yonle)
[04:17:52] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[04:18:15] *** Joins: mickey8 (~user@user/mickey)
[04:33:23] *** Quits: dreamon (~dreamon@p54b14d29.dip0.t-ipconnect.de) (Ping timeout: 264 seconds)
[04:33:39] *** Quits: OsteHovel (~OsteHovel@ti0056a400-6574.bb.online.no) (Ping timeout: 260 seconds)
[04:35:01] *** Quits: xlei (znc@pool-68-129-84-118.nycmny.fios.verizon.net) (Quit: ZNC - https://znc.in)
[04:40:34] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[04:42:46] *** Quits: auth (~auth@user/auth) (Ping timeout: 260 seconds)
[04:51:46] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:52:48] *** Joins: System_Error (~SystemErr@gateway/tor-sasl/systemerror)
[04:55:00] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Quit: WeeChat 3.3)
[05:05:07] *** Joins: xlei (znc@pool-68-129-84-118.nycmny.fios.verizon.net)
[05:05:52] *** Quits: NovumDXW (~NovumDXW@113.91.34.220) (Read error: Connection reset by peer)
[05:06:17] *** Joins: NovumDXW (~NovumDXW@113.91.34.220)
[05:11:25] *** Joins: OsteHovel (~OsteHovel@ti0056a400-0989.bb.online.no)
[05:13:41] *** Quits: NovumDXW (~NovumDXW@113.91.34.220) (Quit: Leaving)
[05:14:33] *** Joins: durandal11707 (~computer@212.15.178.35)
[05:17:18] *** Quits: durandal_1707 (~computer@95.168.118.28) (Ping timeout: 260 seconds)
[05:17:21] *** Joins: fannagoganna (uid110488@id-110488.tinside.irccloud.com)
[05:30:26] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:32:43] *** Quits: busybusybusy (~BUSY@user/busy) (Read error: Connection reset by peer)
[05:39:53] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[05:47:10] *** Quits: MrZeus_ (~MrZeus@2a02:c7f:a0aa:4400:448e:2658:cc57:fa6) (Ping timeout: 260 seconds)
[05:53:59] *** Quits: Nact (~l@host-85-27-120-251.dynamic.voo.be) (Quit: Konversation terminated!)
[05:54:27] *** Quits: System_Error (~SystemErr@gateway/tor-sasl/systemerror) (Remote host closed the connection)
[05:55:26] *** Joins: System_Error (~SystemErr@gateway/tor-sasl/systemerror)
[05:56:52] *** Joins: Jan\ (~kvirc@104.204.200.116)
[06:10:25] *** Joins: vlm (~vlm@user/vlm)
[06:25:10] *** Quits: noarb- (~noarb@user/noarb) (Quit: ZNC 1.8.2 - https://znc.in)
[06:30:11] *** Quits: jerome- (~jerome@78.193.84.130) (Remote host closed the connection)
[06:30:58] *** Joins: noarb (~noarb@user/noarb)
[06:31:40] *** Joins: jerome- (~jerome@78.193.84.130)
[06:35:42] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[06:55:41] *** Joins: Kizano (markizano@2600:3c00::f03c:92ff:fe86:b66e)
[07:03:14] *** Quits: jos1 (~jos3@host-091-097-188-114.ewe-ip-backbone.de) (Ping timeout: 260 seconds)
[07:05:31] *** Quits: noarb (~noarb@user/noarb) (Ping timeout: 245 seconds)
[07:08:42] *** Quits: System_Error (~SystemErr@gateway/tor-sasl/systemerror) (Ping timeout: 276 seconds)
[07:12:26] <kepstin> huh. I could swear in previous ffmpeg versions i could make a command with a filter_complex that included a mix of stream-copy of existing streams from the file and encoding the output of the filter
[07:12:31] <kepstin> but I can't seem to get that to work now.
[07:13:37] <kepstin> (the particular use case I have here is to remux a file with its original audio and video streams copied, and a new audio stream added which is a filtered copy of the original audio)
[07:14:24] <kepstin> ... oh, lol, my mistake. I accidentally used the -af option instead of -filter_complex
[07:15:59] *** Joins: jos1 (~jos3@dyndsl-178-142-066-033.ewe-ip-backbone.de)
[07:16:25] *** Joins: System_Error (~SystemErr@gateway/tor-sasl/systemerror)
[07:21:14] *** Joins: noarb (~noarb@user/noarb)
[07:26:30] *** Quits: AbleBacon_ (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[07:26:30] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[07:33:57] *** Quits: darkstarx (~darkstard@2601:1c2:300:c8a0::6c32) (Quit: Leaving)
[07:41:56] *** Joins: darkstardevx (~darkstard@2601:1c2:300:c8a0::6c32)
[07:43:49] *** Quits: darkstardevx (~darkstard@2601:1c2:300:c8a0::6c32) (Remote host closed the connection)
[07:44:16] *** Joins: darkstardevx (~darkstard@2601:1c2:300:c8a0::6c32)
[07:59:40] *** Quits: Atsuko (~x@45.63.115.64) (Remote host closed the connection)
[08:13:27] *** Joins: Atsuko (~x@45.63.115.64)
[08:31:33] *** Quits: System_Error (~SystemErr@gateway/tor-sasl/systemerror) (Remote host closed the connection)
[08:32:19] *** Joins: System_Error (~SystemErr@gateway/tor-sasl/systemerror)
[08:40:48] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[08:41:16] *** Joins: mickey8 (~user@user/mickey)
[08:42:08] *** Quits: OsteHovel (~OsteHovel@ti0056a400-0989.bb.online.no) (Read error: Connection reset by peer)
[08:57:12] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:24:12] *** Quits: l4yer (~l4yer@2a02:6ea0:e102:0:1011:8d08:ca14:8f03) (*.net *.split)
[09:24:12] *** Quits: Riviera (Riviera@user/riviera) (*.net *.split)
[09:24:12] *** Quits: jschwart (~quassel@2001:985:2c6e:0:b00b:32ff:fe28:5567) (*.net *.split)
[09:24:12] *** Quits: Arsen (~arsen@managarm/dev/Arsen) (*.net *.split)
[09:24:12] *** Quits: englishm (sid6629@tinside.irccloud.com) (*.net *.split)
[09:24:12] *** Quits: Brocker (~NoBody@user/brocker) (*.net *.split)
[09:24:12] *** Quits: anticw (~anticw@157-131-246-230.fiber.dynamic.sonic.net) (*.net *.split)
[09:24:12] *** Quits: ops (~ops@user/echelon) (*.net *.split)
[09:24:12] *** Quits: daemon (znc@about/web/TheBeardedBSDer) (*.net *.split)
[09:24:12] *** Quits: michaelni (~michael@213-47-68-29.cable.dynamic.surfer.at) (*.net *.split)
[09:24:12] *** Quits: nyuszika7h (nyuszika7h@lykos/dev/nyuszika7h) (*.net *.split)
[09:24:12] *** Quits: blb (~blb@user/blb) (*.net *.split)
[09:24:12] *** Quits: hwm4rgs (~hwm4rgs@user/hwm4rgs) (*.net *.split)
[09:24:12] *** Quits: tmatth (sid143283@videolan/developer/tmatth) (*.net *.split)
[09:24:12] *** Quits: Fusl (fusl@1.0.0.127.in-addr.arpa.li) (*.net *.split)
[09:24:12] *** Quits: roxlu (~roxlu@2a01:7c8:aac0:286:8c3a:b01c:3830:245b) (*.net *.split)
[09:24:12] *** Quits: pulec (~pulec@user/pulec) (*.net *.split)
[09:24:12] *** Quits: nickster (~nickster@67.207.91.6) (*.net *.split)
[09:24:12] *** Quits: oliv3 (~olivier@2001:bc8:6005:129:208:a2ff:fe0c:46bc) (*.net *.split)
[09:24:12] *** Quits: rverdejo_ (~reynaldo@ec2-34-200-7-37.compute-1.amazonaws.com) (*.net *.split)
[09:24:12] *** Quits: root1 (root@2600:3c02::f03c:92ff:fe1a:c779) (*.net *.split)
[09:24:12] *** Quits: tm512 (~tm512@user/tm512) (*.net *.split)
[09:24:21] *** Joins: jschwart (~quassel@2001:985:2c6e:0:b00b:32ff:fe28:5567)
[09:24:22] *** Joins: pulec (~pulec@2a01:7c8:aabf:229:a8ad:c144:ead8:663)
[09:24:23] *** Joins: ops (~ops@5.2.77.173)
[09:24:24] *** Joins: Brocker (~NoBody@2002:95ca:ed03::95ca:ed03)
[09:24:26] *** Joins: Riviera (Riviera@user/riviera)
[09:24:29] *** Joins: roxlu (~roxlu@2a01:7c8:aac0:286:8c3a:b01c:3830:245b)
[09:24:29] *** Joins: tm512 (~tm512@50.53.132.213)
[09:24:30] *** Joins: Fusl (fusl@1.0.0.127.in-addr.arpa.li)
[09:24:30] *** Joins: root1 (root@2600:3c02::f03c:92ff:fe1a:c779)
[09:24:31] *** Quits: ops (~ops@5.2.77.173) (Changing host)
[09:24:31] *** Joins: ops (~ops@user/echelon)
[09:24:37] *** Quits: Brocker (~NoBody@2002:95ca:ed03::95ca:ed03) (Changing host)
[09:24:37] *** Joins: Brocker (~NoBody@user/brocker)
[09:24:37] *** Joins: oliv3 (~olivier@2001:bc8:6005:129:208:a2ff:fe0c:46bc)
[09:24:40] *** Joins: englishm (sid6629@id-6629.tinside.irccloud.com)
[09:24:40] *** Joins: tmatth (sid143283@id-143283.lymington.irccloud.com)
[09:24:51] *** Joins: blb (~blb@2603-8081-4a00-b74e-04d2-257b-f2b9-897f.res6.spectrum.com)
[09:24:54] *** Joins: reynaldo (~reynaldo@ec2-34-200-7-37.compute-1.amazonaws.com)
[09:24:54] *** Joins: hwm4rgs (~hwm4rgs@user/hwm4rgs)
[09:24:54] *** Quits: tmatth (sid143283@id-143283.lymington.irccloud.com) (Changing host)
[09:24:54] *** Joins: tmatth (sid143283@videolan/developer/tmatth)
[09:24:58] *** Joins: Arsen (~arsen@managarm/dev/Arsen)
[09:25:02] *** Quits: tm512 (~tm512@50.53.132.213) (Changing host)
[09:25:02] *** Joins: tm512 (~tm512@user/tm512)
[09:25:07] *** Joins: nickster (~nickster@67.207.91.6)
[09:25:19] *** Joins: l4yer (~l4yer@2a02:6ea0:e102:0:1011:8d08:ca14:8f03)
[09:25:35] *** Joins: nyuszika7h (nyuszika7h@lykos/dev/nyuszika7h)
[09:25:38] *** Joins: michaelni (~michael@213-47-68-29.cable.dynamic.surfer.at)
[09:25:44] *** Joins: daemon (znc@about/web/TheBeardedBSDer)
[09:29:23] *** Joins: Buster_ (~Buster@buster-net.ru)
[09:29:26] *** Joins: anticw (~anticw@157-131-246-230.fiber.dynamic.sonic.net)
[09:32:50] *** Quits: gnurou (~gnurou@2001:470:69fc:105::c23b) (*.net *.split)
[09:32:50] *** Quits: donza[m] (~donzamatr@2001:470:69fc:105::78f7) (*.net *.split)
[09:32:50] *** Quits: YakoYoku (~yakoyoku@2001:470:69fc:105::780) (*.net *.split)
[09:32:50] *** Quits: gonewest818[m] (~gonewest8@2001:470:69fc:105::f38b) (*.net *.split)
[09:32:50] *** Quits: volgar1x (~volgar1xm@2001:470:69fc:105::e61d) (*.net *.split)
[09:32:50] *** Quits: msmith12[m] (~msmith12m@2001:470:69fc:105::bdfc) (*.net *.split)
[09:32:50] *** Quits: kerel (~kerel@2001:470:69fc:105::2e1b) (*.net *.split)
[09:32:50] *** Quits: rossome (~rossome@server.likeaross.com) (*.net *.split)
[09:32:50] *** Quits: Mavrik (~Mavrik@virag.si) (*.net *.split)
[09:32:50] *** Quits: Henry151 (~bishop@user/henry151) (*.net *.split)
[09:32:50] *** Quits: c_14 (~c_14@2a01:4f8:c17:6b43::c:14) (*.net *.split)
[09:32:50] *** Quits: DHE (~dhe@rubyweapon.execulink.net) (*.net *.split)
[09:32:50] *** Quits: tyep (~hatseflat@hatsuseno.rootaccess.nl) (*.net *.split)
[09:32:50] *** Quits: CounterPumpkin (~Pillow@overviewer/CounterPillow) (*.net *.split)
[09:32:50] *** Quits: nitroxis (n@nxs.re) (*.net *.split)
[09:32:50] *** Quits: Kingsy (~chris@kingsy.co.uk) (*.net *.split)
[09:32:50] *** Quits: mhi (~mhi@user/mhi) (*.net *.split)
[09:32:50] *** Quits: MatthewAllan93 (~MatthewAl@xvm-18-204.dc0.ghst.net) (*.net *.split)
[09:32:50] *** Quits: Muzer (~muzer@tim32.org) (*.net *.split)
[09:32:50] *** Quits: Hobbyboy (Hobbyboy@hobbyboy.co.uk) (*.net *.split)
[09:32:57] *** Joins: Kingsy (~chris@kingsy.co.uk)
[09:32:58] *** Joins: tyep (~hatseflat@hatsuseno.rootaccess.nl)
[09:32:59] *** Joins: MatthewAllan93 (~MatthewAl@xvm-18-204.dc0.ghst.net)
[09:33:05] *** Joins: Mavrik (~Mavrik@virag.si)
[09:33:08] *** Joins: nitroxis (n@nxs.re)
[09:33:12] *** Joins: DHE (~dhe@rubyweapon.execulink.net)
[09:33:17] *** Joins: Hobbyboy (Hobbyboy@hobbyboy.co.uk)
[09:33:22] *** Joins: CounterPillow (~Pillow@overviewer/CounterPillow)
[09:33:38] *** Joins: mhi (~mhi@46.23.94.209)
[09:33:45] *** Joins: c_14 (~c_14@2a01:4f8:c17:6b43::c:14)
[09:33:49] *** Joins: rossome (~rossome@server.likeaross.com)
[09:33:53] *** Joins: Henry151 (~bishop@user/henry151)
[09:34:04] *** Joins: kerel (~kerel@2001:470:69fc:105::2e1b)
[09:35:06] *** Joins: YakoYoku (~yakoyoku@2001:470:69fc:105::780)
[09:35:26] *** Joins: msmith12[m] (~msmith12m@2001:470:69fc:105::bdfc)
[09:39:20] *** Joins: gonewest818[m] (~gonewest8@2001:470:69fc:105::f38b)
[09:40:22] *** Joins: donza[m] (~donzamatr@2001:470:69fc:105::78f7)
[09:41:04] *** Joins: volgar1x (~volgar1xm@2001:470:69fc:105::e61d)
[09:41:06] *** Joins: Muzer (~muzer@tim32.org)
[09:42:29] *** Joins: gnurou (~gnurou@2001:470:69fc:105::c23b)
[09:45:34] *** Quits: realies (~realies@user/realies) (Quit: Ping timeout (120 seconds))
[09:47:33] *** Joins: realies (~realies@user/realies)
[09:52:54] *** Quits: durandal11707 (~computer@212.15.178.35) (Read error: Connection reset by peer)
[09:56:42] *** Joins: durandal_1707 (~computer@212.15.178.35)
[09:58:21] *** Quits: System_Error (~SystemErr@gateway/tor-sasl/systemerror) (Remote host closed the connection)
[09:59:10] *** Joins: System_Error (~SystemErr@gateway/tor-sasl/systemerror)
[10:04:16] *** Joins: dbal_ (~dbal@2603:300c:b04:b100:81a:86fc:1149:60ff)
[10:06:46] *** Quits: dbal (~dbal@2603:300c:b04:b100:7cd3:7d4a:87e2:d4e8) (Ping timeout: 245 seconds)
[10:10:19] *** Joins: lloo^ (~lloo@wsip-98-188-242-6.mc.at.cox.net)
[10:25:22] *** Quits: Amoz (~alex@h-158-174-223-178.A192.priv.bahnhof.se) (Ping timeout: 260 seconds)
[10:33:14] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 260 seconds)
[10:36:44] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[10:38:51] *** Quits: qwedfg (~qwedfg@user/qwedfg) (Read error: Connection reset by peer)
[10:40:31] *** Quits: Buster_ (~Buster@buster-net.ru) (Ping timeout: 245 seconds)
[10:41:15] *** Quits: microchip_ (~neutrino@user/microchip/x-0766185) (Quit: There is no spoon!)
[10:41:25] *** Joins: qwedfg (~qwedfg@user/qwedfg)
[10:42:37] *** Joins: microchip_ (~neutrino@user/microchip/x-0766185)
[10:51:59] *** Joins: palasso (~palasso@user/palasso)
[11:00:53] *** Quits: zmt01 (~zmt00@user/zmt00) (Ping timeout: 265 seconds)
[11:02:24] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[11:03:37] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[11:04:35] *** Quits: palasso (~palasso@user/palasso) (Ping timeout: 268 seconds)
[11:10:00] *** Bertl is now known as Bertl_zZ
[11:24:04] *** Quits: Yonle (~Yonle@user/yonle) (Remote host closed the connection)
[11:35:33] *** Joins: hendursa1 (~weechat@user/hendursaga)
[11:39:06] *** Quits: hendursaga (~weechat@user/hendursaga) (Ping timeout: 276 seconds)
[11:57:35] *** Joins: bradh (~bradh@ppp115-205.static.internode.on.net)
[11:58:03] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[12:06:37] *** Quits: troyt (~troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e) (Ping timeout: 265 seconds)
[12:20:55] *** Joins: troyt (troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e)
[12:31:01] *** Joins: gucky-chat-laden (~gucky-cha@46.41.28.214)
[12:34:42] *** Joins: auth (~auth@user/auth)
[12:35:17] *** Joins: bencc1_ (~bencc1@2a00:a040:197:3af:44b3:22d4:12f1:caac)
[12:39:23] *** Quits: bencc1 (~bencc1@2a00:a040:197:3af:fe:4eb4:373b:63e7) (Ping timeout: 264 seconds)
[12:44:11] *** Joins: darkapex_ (~darkapex@user/darkapex)
[12:45:41] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 264 seconds)
[12:48:27] *** Joins: cosimone (~user@93-47-228-135.ip115.fastwebnet.it)
[12:52:55] *** Quits: webmariner (~james@cpc95914-rdng25-2-0-cust148.15-3.cable.virginm.net) (Ping timeout: 260 seconds)
[12:59:04] *** Joins: mixfix41 (~homefame@user/mixfix41)
[13:00:54] *** Quits: lloo^ (~lloo@wsip-98-188-242-6.mc.at.cox.net) (Remote host closed the connection)
[13:06:27] *** Parts: gucky-chat-laden (~gucky-cha@46.41.28.214) ()
[13:14:20] *** Joins: dreamon (~dreamon@p54b14d29.dip0.t-ipconnect.de)
[13:17:12] *** Joins: gucky-chat-laden (~gucky-cha@2a02:a00:f004:1::d6)
[13:39:11] *** Quits: af (~af@awalgarg.me) (Ping timeout: 260 seconds)
[13:43:36] *** Joins: furrymcgee (~devuan@cgn-213-196-210-222.nc.de)
[13:46:29] *** Joins: af (~af@awalgarg.me)
[14:07:22] *** Quits: bradh (~bradh@ppp115-205.static.internode.on.net) (Quit: Konversation terminated!)
[14:37:21] *** Parts: gucky-chat-laden (~gucky-cha@2a02:a00:f004:1::d6) ()
[14:37:55] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[14:45:52] *** Joins: gucky-chat-laden (~gucky-cha@46.41.28.214)
[14:54:35] *** Quits: darkapex_ (~darkapex@user/darkapex) (Ping timeout: 268 seconds)
[14:58:41] *** Joins: xkuru (~xkuru@user/xkuru)
[15:00:12] *** Quits: xkuru (~xkuru@user/xkuru) (Client Quit)
[15:01:03] *** Joins: xkuru (~xkuru@user/xkuru)
[15:21:46] *** Quits: jerome- (~jerome@78.193.84.130) (Remote host closed the connection)
[15:22:40] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[15:23:16] *** Joins: jerome- (~jerome@78.193.84.130)
[15:31:21] *** Quits: pntaylor (~quassel@101.114.63.175) (Ping timeout: 245 seconds)
[15:32:33] *** Joins: pntaylor (~quassel@2405:6e00:493:6cd2::5)
[15:37:20] *** Joins: darkapex (~darkapex@user/darkapex)
[15:38:04] *** Joins: hardcoresushi_ (~quassel@2a01:e34:eea7:f3c0:350:906a:e6db:2e89)
[15:39:10] *** Quits: mateo` (~mateo@ffmpeg/developer/mateo) (Ping timeout: 260 seconds)
[15:39:34] *** Quits: jerome- (~jerome@78.193.84.130) (Remote host closed the connection)
[15:41:06] *** Joins: jerome- (~jerome@78.193.84.130)
[15:43:20] *** Quits: hardcoresushi_ (~quassel@2a01:e34:eea7:f3c0:350:906a:e6db:2e89) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[15:45:12] *** Joins: Yonle (~Yonle@user/yonle)
[15:48:26] *** Quits: rvalue (~rvalue@user/rvalue) (Ping timeout: 245 seconds)
[15:50:27] *** Joins: rvalue (~rvalue@user/rvalue)
[15:52:27] *** Joins: mateo` (~mateo@ffmpeg/developer/mateo)
[15:58:22] *** Joins: Guest9334 (~ad@27.7.209.157)
[16:05:09] *** Quits: anotheruser (~user@197.54.25.232) (Read error: Connection reset by peer)
[16:06:47] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[16:11:10] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[16:11:35] *** Joins: rsx (~dummy@ppp-188-174-129-46.dynamic.mnet-online.de)
[16:12:41] *** Joins: someuser (~user@197.54.25.232)
[16:15:50] *** Joins: Yonle_ (~Yonle@user/yonle)
[16:16:49] *** Quits: Yonle_ (~Yonle@user/yonle) (Read error: Connection reset by peer)
[16:19:04] *** Quits: Yonle (~Yonle@user/yonle) (Ping timeout: 268 seconds)
[16:20:46] *** Joins: Yonle (~Yonle@user/yonle)
[16:28:14] *** Joins: minimal (~minimal@user/minimal)
[16:42:57] *** Joins: realies8 (~realies@user/realies)
[16:42:59] *** Quits: Guest9334 (~ad@27.7.209.157) (Quit: Connection closed)
[16:43:38] *** Quits: fjmorazan_ (~quassel@user/fjmorazan) (Quit: fjmorazan_)
[16:43:46] *** Quits: Yonle (~Yonle@user/yonle) (Remote host closed the connection)
[16:44:13] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[16:44:22] *** Quits: realies (~realies@user/realies) (Ping timeout: 268 seconds)
[16:44:22] *** realies8 is now known as realies
[16:47:29] *** Joins: Yonle (~Yonle@user/yonle)
[16:51:48] *** Quits: Yonle (~Yonle@user/yonle) (Remote host closed the connection)
[16:52:27] *** Joins: Yonle (~Yonle@user/yonle)
[16:57:55] *** Quits: rvalue (~rvalue@user/rvalue) (Ping timeout: 268 seconds)
[16:59:41] *** Joins: MrZeus_ (~MrZeus@2a02:c7f:a0aa:4400:75cf:9261:7947:a037)
[17:02:11] *** Quits: s55 (~s55@user/s55) (Ping timeout: 264 seconds)
[17:03:27] *** Joins: s55 (~s55@user/s55)
[17:04:39] *** Quits: hendursa1 (~weechat@user/hendursaga) (Quit: hendursa1)
[17:05:11] *** Joins: guest29348769876 (~dummy@ppp-188-174-141-116.dynamic.mnet-online.de)
[17:07:48] *** Quits: rsx (~dummy@ppp-188-174-129-46.dynamic.mnet-online.de) (Ping timeout: 268 seconds)
[17:12:57] *** Joins: hendursaga (~weechat@user/hendursaga)
[17:13:11] *** Quits: Yonle (~Yonle@user/yonle) (Remote host closed the connection)
[17:13:29] *** Joins: Yonle (~Yonle@user/yonle)
[17:27:18] *** Joins: mickey89 (~user@user/mickey)
[17:29:27] *** Quits: mickey8 (~user@user/mickey) (Ping timeout: 276 seconds)
[17:29:28] *** mickey89 is now known as mickey8
[17:34:25] *** Parts: gucky-chat-laden (~gucky-cha@46.41.28.214) ()
[17:37:44] *** Quits: Yonle (~Yonle@user/yonle) (Read error: Connection reset by peer)
[17:38:00] *** Joins: Yonle (~Yonle@user/yonle)
[17:44:42] *** Quits: guest29348769876 (~dummy@ppp-188-174-141-116.dynamic.mnet-online.de) (Quit: guest29348769876)
[17:44:51] *** Joins: rsx (~dummy@ppp-188-174-141-116.dynamic.mnet-online.de)
[17:49:12] *** Joins: gucky-chat-laden (~gucky-cha@46.41.28.214)
[17:52:48] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 268 seconds)
[17:53:19] *** Joins: King_DuckZ (~quassel@2a00:66c0:1:1::51)
[17:55:32] *** Joins: arcatech (~arcatech@user/arcatech)
[17:55:51] <King_DuckZ> hi, I'm capturing the camera stream with v4l2 and it returns mjpg frames. if I dump one to the disk as .jpg I can see the image fine, but I want to convert it to rgb24 with ffmpeg and I'm not sure if I'm doing it right - first problem is that if I don't set AV_PIX_FMT_YUV422P manually then ffmpeg detects a different format and prints out a deprecated warning
[17:56:21] <King_DuckZ> yuvj422p
[17:57:02] <King_DuckZ> second problem is that the rgb version I get from sws_scale() after the conversion is darker than the jpg dump
[17:57:56] <BtbN> Converting colorspaces always has issues like that.
[17:58:09] <BtbN> If you're not actively using yuvj formats, just ignore the warning
[17:59:27] <King_DuckZ> hmm ok so I'm leaving AV_PIX_FMT_YUVJ422P in regardless of the warning
[18:00:22] <BtbN> define "leaving it in"?
[18:00:31] <BtbN> If the warning comes internally form ffmpeg, you can ignore it
[18:00:36] <BtbN> if you explicitly use it... don't.
[18:01:33] <King_DuckZ> I'm hardcoding it because I need the pixel format to initialise the sws_context, which happens before the first call to av_packet_from_data and so the context doesn't have the pixel format set yet
[18:02:12] <BtbN> Just wait until you know
[18:02:26] <King_DuckZ> alternative is to initialise it after the av_packet_from_data call, which would mean doing something like if (!my_sws_context) { intialise_it(); }
[18:02:32] <BtbN> For mjpeg I'd expect avcodec to handle it anyway?
[18:03:01] <King_DuckZ> it sets it to the deprecated one by itself if I do the if I mentioned above
[18:03:16] <BtbN> That's fine, as long as no mention of the J formats are in your code.
[18:03:48] <King_DuckZ> hmm ok
[18:04:03] <BtbN> Obviously, when the formats go, it'll stop returning it
[18:04:18] <King_DuckZ> ok I see
[18:04:35] <BtbN> You'll also want to take care of other formats. Like color space and primaries.
[18:04:41] <BtbN> Just the pixel format isn't enough
[18:04:55] <BtbN> The "J" formats are an old hack of pixel format + color space mixed into one
[18:05:40] <King_DuckZ> btw it's really ugly to have that floating if in the main decode function... is there no way to overwrite the src pixel format I set when I first init the sws_context? so I could instantiate it in my init function with some bogus pixel format and change it later when ffmpeg detects it?
[18:06:20] <BtbN> I don't think swscale can do that, no
[18:06:23] <King_DuckZ> ah that makes sense, that's why I was getting a darker version
[18:07:04] <furq> yuvj is jpeg/full range yuv
[18:07:09] <King_DuckZ> ok so I have no choice but have that if in the middle of my decode function... :(
[18:07:28] <furq> you could use YUV422P and set the range flag correctly but you might as well let it autodetect and ignore the warning
[18:07:29] <BtbN> Or refine your whole code. ffmpeg.c has a whole probing phase for each step
[18:07:46] <furq> i don't expect it to disappear any time soon though it's been deprecated for ages
[18:08:33] <BtbN> Get data from webcam, THEN initialize the next step, and so on
[18:09:06] <BtbN> You must have avcodec in the mix there somewhere anyway? Given it's mjpeg
[18:10:42] <King_DuckZ> I have an avcodec and an avcodeccontext, yes
[18:11:28] <King_DuckZ> so you mean get the first frame from the camera and use it as bogus data to init everything, then start the loop that calls my decode function?
[18:11:39] <King_DuckZ> or are you suggesting a completely different design?
[18:17:00] *** Quits: furrymcgee (~devuan@cgn-213-196-210-222.nc.de) (Quit: leaving)
[18:19:03] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[18:20:08] *** Quits: dbal_ (~dbal@2603:300c:b04:b100:81a:86fc:1149:60ff) (Quit: Leaving...)
[18:23:42] *** Quits: kpuc- (1011@46-97-229-216.sr2.pon.net) (Ping timeout: 260 seconds)
[18:23:51] *** Joins: TheSash__ (~TheSashmo@207.35.238.34)
[18:25:49] *** Joins: kpuc (1011@46-97-229-216.sr2.pon.net)
[18:26:39] *** Quits: TheSashm_ (~TheSashmo@158.106.77.7) (Ping timeout: 260 seconds)
[18:35:26] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[18:37:37] <King_DuckZ> is it ok to set the get_format pointer on an AVCodecContext after avcodec_open2() has been called on it?
[18:37:57] <King_DuckZ> I mean, right after, before any frame decoding happens
[18:40:24] *** Joins: dbal (~dbal@2603:300c:b04:b100:a4a0:171d:52d4:5e11)
[18:42:49] *** Joins: thebombzen (~thebombze@2603:3015:3602:8100::2be8)
[18:43:40] <BtbN> no
[18:49:19] <King_DuckZ> ok... a bit annoying but if that's how it is...
[18:52:56] *** Quits: arsenman_ (~arsenman@208.87.64.66) (Read error: Connection reset by peer)
[18:52:58] *** Joins: arsenman (~arsenman@208.87.64.66)
[18:58:11] <BtbN> Various tools and API users manage to do all that stuff without annoying hacks. So there's a good chance you are just doing something very wrong if everything seems like an issue
[19:05:34] *** Joins: zmt01 (~zmt00@user/zmt00)
[19:07:35] *** Joins: thebombzen_ (~thebombze@c-68-37-206-37.hsd1.mi.comcast.net)
[19:10:18] *** Quits: thebombzen (~thebombze@2603:3015:3602:8100::2be8) (Ping timeout: 260 seconds)
[19:13:13] *** Bertl_zZ is now known as Bertl
[19:15:25] *** Joins: Yonle_ (~Yonle@user/yonle)
[19:16:56] *** Quits: Yonle (~Yonle@user/yonle) (Read error: Connection reset by peer)
[19:18:47] <King_DuckZ> I mean, it's code from yesterday night only, so heavily under design still
[19:19:11] *** Joins: czard (~czard@host-78-150-125-181.as13285.net)
[19:19:34] *** Joins: Jerrk (~Jerrk@193.138.218.215)
[19:24:28] *** Quits: thebombzen_ (~thebombze@c-68-37-206-37.hsd1.mi.comcast.net) (Quit: Quit)
[19:24:41] *** Joins: thebombzen (~thebombze@2603:3015:3602:8100::2be8)
[19:27:47] *** Quits: Yonle_ (~Yonle@user/yonle) (Quit: Reconnecting)
[19:28:03] *** Joins: Yonle (~Yonle@user/yonle)
[19:37:25] *** Quits: Yonle (~Yonle@user/yonle) (Quit: switching client)
[19:37:45] *** Joins: Yonle (~Yonle@user/yonle)
[19:43:42] *** Quits: Yonle (~Yonle@user/yonle) (Read error: Connection reset by peer)
[19:44:27] *** Joins: Yonle (~Yonle@user/yonle)
[19:47:22] *** Quits: Yonle (~Yonle@user/yonle) (Read error: Connection reset by peer)
[19:47:58] *** Joins: Yonle (~Yonle@user/yonle)
[19:48:51] *** Joins: hyrc (~hyrc@p57bbedf1.dip0.t-ipconnect.de)
[19:52:01] *** Quits: Yonle (~Yonle@user/yonle) (Read error: Connection reset by peer)
[19:52:21] *** Joins: Yonle (~Yonle@user/yonle)
[19:57:02] *** Quits: Yonle (~Yonle@user/yonle) (Ping timeout: 260 seconds)
[19:58:15] *** Joins: Yonle (~Yonle@user/yonle)
[20:01:22] *** Quits: thebombzen (~thebombze@2603:3015:3602:8100::2be8) (Quit: Quit)
[20:11:12] *** Joins: Buster_ (~Buster@46.160.36.66)
[20:24:04] *** Joins: RandomStroke (~RandomStr@213.87.162.98)
[20:32:31] *** Quits: Yonle (~Yonle@user/yonle) (Ping timeout: 268 seconds)
[20:42:09] *** Joins: realies3 (~realies@user/realies)
[20:43:10] *** Quits: Jerrk (~Jerrk@193.138.218.215) (Ping timeout: 260 seconds)
[20:43:37] *** Quits: realies (~realies@user/realies) (Ping timeout: 268 seconds)
[20:43:37] *** realies3 is now known as realies
[20:45:49] <RandomStroke> Hey everyone. Sorry for a noobie question but , is there any quides on how to start using ffmpeg via dll's . For instance , if i want to encode a x264 video from an image sequence. Thanks !
[20:48:16] <JEEB> doc/examples in the git repo contains examples, check the transcoding one for full on one
[20:48:18] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 260 seconds)
[20:48:31] <JEEB> since all the more limited ones specifically skip using some helpers for what is not the core
[20:48:46] <JEEB> in your case in the transcoding example check the encoding and muxing bits
[20:48:56] <JEEB> since if you are handling the images yourself
[20:49:15] <hyrc> it's all fucked
[20:49:18] <hyrc> we are so fucked
[20:49:19] <JEEB> if you are not handling the images yourself and would like to utilize FFmpeg for that, then the reading and decoding bits would also be usedful
[20:49:24] <JEEB> *useful
[20:50:01] <RandomStroke> Ah, i see. Well, just wanted to start with something more or less basic. Thanks !
[20:52:17] *** Joins: Jerrk (~Jerrk@193.138.218.224)
[20:55:27] *** Quits: rsx (~dummy@ppp-188-174-141-116.dynamic.mnet-online.de) (Quit: rsx)
[21:02:22] <kepstin> note that for many of the basic cases, it's often easier to get started by calling the ffmpeg cli tool instead of using the libraries
[21:03:46] *** Joins: rvalue (~rvalue@user/rvalue)
[21:16:05] <RandomStroke> yep , that's true , but my target platform is Android so there's probably no other way but use libraries)
[21:17:56] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[21:31:15] *** Quits: System_Error (~SystemErr@gateway/tor-sasl/systemerror) (Ping timeout: 276 seconds)
[21:31:26] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[21:34:41] *** Joins: System_Error (~SystemErr@gateway/tor-sasl/systemerror)
[21:36:19] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[21:39:47] *** Joins: zsoltiv_ (~zsoltiv@fibhost-67-12-35.fibernet.hu)
[21:46:26] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[21:47:14] *** Joins: emcodem (uid483343@id-483343.helmsley.irccloud.com)
[21:47:33] <emcodem> good evening ladies and gentlemen
[21:47:50] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[21:48:31] <emcodem> are there any known ffmpeg builds for windows compiled with intel available on the net?
[21:48:46] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Client Quit)
[21:49:01] <emcodem> or has anyone tried it and checked if it is a performance difference compared to GCC builds?
[21:50:11] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[21:50:59] <JEEB> emcodem: even intel itself seems to be going away from ICC if that's what you mean
[21:51:15] <emcodem> oh really?
[21:51:18] <JEEB> yea
[21:51:22] <JEEB> if you look at things like clear linux
[21:51:31] <JEEB> where they attempt to build things optimized for latest intel arch
[21:51:32] <emcodem> because it don't work reliably?
[21:51:35] <JEEB> they're not utilizing ICC
[21:52:02] <JEEB> it did have a bad reputation for things IIRC, yes. also apparently in the latest iteration of their suite they seem to be switching to clang
[21:52:05] <emcodem> interesting...
[21:52:07] <JEEB> which is not surprising
[21:52:44] <emcodem> oh oh
[21:53:06] <emcodem> okok, i am not at all a compiler expert
[21:53:31] <emcodem> assumed clang and gcc are different compilers as well, would clang compiled code run faster?
[21:53:37] *** Quits: rpthms (~rpthms@user/rpthms) (Remote host closed the connection)
[21:54:10] <emcodem> is it worth to look into all that anyway or is the GCC stuff that e.g. btbn does superiour anyways?
[21:55:50] <DeHackEd> ffmpeg has a lot of optional dependencies. the btbn build is good, but there are non-GPL add-ons he can't include. whereas a custom build made by yourself could
[21:56:22] <JEEB> emcodem: a lot of stuff is already hand-written assembly optimized
[21:56:34] *** Joins: fkaa (~fkaa@81-226-20-99-no256.tbcn.telia.com)
[21:56:43] <emcodem> yeah, i was concentrating on the built in stuff, e.g. just --enable-gpl, not more for now
[21:56:53] <JEEB> stuff that isn't would just get helped by stuff like enabling vectorization, or optimizations
[21:57:08] <JEEB> FFmpeg currently at least for GCC disables vectorization by default
[21:57:15] <JEEB> due to various GCC versions being broken in some way with it
[21:57:23] <JEEB> (in conjunction with FFmpeg)
[21:57:40] <JEEB> but if you wanna go fast, that /might/ help
[21:57:48] <emcodem> oha
[21:57:58] <JEEB> clang VS gcc depends a lot, and you should compare it yourself
[21:58:06] <JEEB> for me generally I utilize both compilers for different reasons
[21:58:10] <JEEB> clang has nice diagnostics
[21:58:22] <JEEB> then there
[21:58:27] <JEEB> is LTO, too
[21:58:32] <JEEB> as another style of optimization
[21:58:54] <JEEB> I would check what clear linux does as one point
[21:59:08] <JEEB> and then actually benchmark if you get gains for your use cases for various stuff
[22:00:23] <emcodem> makes very much sense
[22:01:35] <emcodem> the vectorisation you mention, is it -fno-tree-vectorize
[22:01:42] *** Joins: Core8970 (~czard@82-132-232-64.dab.02.net)
[22:01:44] <JEEB> that's the option that disables it, yes
[22:02:02] <JEEB> I think by now there have been two attempts at removing that
[22:02:20] <JEEB> in both cases some GCC version or so that was not awfully old was found to lead to fun
[22:02:40] <BtbN> DeHackEd, I actually have fdk-aac, since I use it myself. But obviously I don't distribute those builds. But the scripts can produce them.
[22:02:43] <emcodem> damned
[22:03:48] <DeHackEd> yes I use fdk as well...
[22:04:22] *** Quits: czard (~czard@host-78-150-125-181.as13285.net) (Ping timeout: 260 seconds)
[22:04:30] <JEEB> I really wish fraunhofer wouldn't just have utilized a custom license :P
[22:04:46] <JEEB> since fdk-aac is open source, but problemative with GPL specifically
[22:04:58] <emcodem> as everyone is here, might i ask the huble question, a friend compiled with mediaautobuild suite and compared to BtbN's build we did not only get slower processing speed but also worse quality using the mpeg2 encoder (xdcamhd output)... any obvious clues what could be the difference?
[22:05:10] <DeHackEd> why does free and libre software have to be so confusing and conflicting?
[22:06:02] <BtbN> Did you make a 32bit build or something? Or build a vastly outdated version?
[22:06:08] <BtbN> The quality of the encoder changing makes zero sense
[22:06:33] <emcodem> nah, should be both not older than a month or so, and it was both 64 bit
[22:07:05] <emcodem> ok, anyway thats good to know, we need to do more investigations, you know it is not always straight forward to do such comparisons with remote friends
[22:07:08] *** Quits: durandal_1707 (~computer@212.15.178.35) (Read error: Connection reset by peer)
[22:08:13] *** Joins: durandal_1707 (~computer@212.15.178.35)
[22:09:47] *** Bertl is now known as Bertl_oO
[22:12:27] <emcodem> should have mentioned that the cpu for the "worse" build was pretty old, might it be that some optimisations being added or not depend on the CPU architecture of the one thats compiling?
[22:18:26] *** Quits: arbitercoin (~Rheanna@101.68.250.246) (Ping timeout: 260 seconds)
[22:20:09] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[22:21:51] *** Joins: vqueiroz (uid340368@id-340368.hampstead.irccloud.com)
[22:23:09] *** Quits: durandal_1707 (~computer@212.15.178.35) (Read error: Connection reset by peer)
[22:23:51] *** Joins: durandal_1707 (~computer@212.15.178.35)
[22:25:55] <BtbN> Nah, I highly doubt there are quality advantages with modern CPUs
[22:25:57] <BtbN> only speed
[22:27:05] *** Quits: RandomStroke (~RandomStr@213.87.162.98) (Quit: Connection closed)
[22:28:26] <DeHackEd> or just GCC outright miscompiling it due to vector bugs...
[22:30:19] *** Quits: MrZeus_ (~MrZeus@2a02:c7f:a0aa:4400:75cf:9261:7947:a037) (Ping timeout: 268 seconds)
[22:30:49] <emcodem> ok thanks a lot for all the attention!
[22:31:17] *** Joins: arbitercoin (~Rheanna@101.70.63.236)
[22:31:23] <emcodem> @DeHackEd but vector is disabled for gcc anyways...
[22:31:54] <BtbN> I mean, everything is possible with crappy mpeg2. That's why you don't use it :D
[22:32:15] <emcodem> hehe tell that all the broadcasters using xdcamhd :D
[22:32:50] <emcodem> a question i ask myself every day... why do i still need to spend time with this stoneage stuff ;-)
[22:33:49] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[22:42:39] <DeHackEd> because some things *can't* be upgraded, and sometimes backwards compatibility is a good thing
[22:44:07] <emcodem> yeah i am totally fine with it's disabled by default, no worries :D
[22:44:53] <emcodem> if i still wanna try it, i'd need to modify the configure file, right? just remove "check_optflags -fno-tree-vectorize"
[22:45:15] <emcodem> or use clang hehe which is a different beast for me :D
[22:46:40] <DeHackEd> looks like. ffmpeg uses -O3 which should enable most (all?) of vectorization
[22:46:57] <emcodem> oha!
[22:47:32] <emcodem> ok, another beast i need to tame hehe... well thanks for all that very useful infos!
[22:51:12] <Kingsy> ffmpeg -v verbose -i file.mp4 -map 0:v -map 0:a -c:v libx265 -preset slow -crf 28 -c:a copy -movflags faststart out_265_28_1080_slow_full.mp4 <- whats wrong with this? I get -> Error initializing output stream 0:1 -- Error while opening encoder for output stream #0:1 - maybe incorrect parameters such as bit_rate, rate, width or height
[22:51:55] <DeHackEd> pastebin full output please
[22:52:00] <Kingsy> okie
[22:53:22] *** Quits: cosimone (~user@93-47-228-135.ip115.fastwebnet.it) (Ping timeout: 260 seconds)
[22:54:38] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[22:54:46] <Kingsy> DeHackEd: https://p.fr33tux.org/71b149
[22:55:08] <Kingsy> sorry thats the bottom segment. I am using tmux so its hard to capture lots of output in one paste.
[22:55:21] <Kingsy> hopefully it says enough?
[22:57:33] <emcodem> -map 0:v maps both video streams in that case, is that what you want to do?
[22:57:58] <Kingsy> hrm no. how can there be more than one video stream?! :D
[22:58:15] <emcodem> yeah obviously, maybe it's a menu or preview
[22:58:36] <emcodem> there can be many video streams, especially in a .ts :D
[22:58:41] <Kingsy> when I open it in vlc and check the video tracks there is only 1
[22:59:04] <Kingsy> one video one audiop
[22:59:10] <emcodem> try -map 0✌️0
[22:59:28] <emcodem> hehe
[22:59:29] <Kingsy> what is -map 0\u270c\ufe0f0 ?
[22:59:33] <Kingsy> is that unicode or something?
[22:59:42] <DeHackEd> ya unicode gone wrong
[22:59:50] <emcodem> https://www.irccloud.com/pastebin/oSiKOc8m/
[23:01:31] <Kingsy> well its going...
[23:02:43] <Kingsy> https://p.fr33tux.org/41f591 <- got some errors or warnings but it just skipped and now its encoding.
[23:02:50] <Kingsy> should I ignore and just let it complete?
[23:03:57] <emcodem> is that a satellite capture?
[23:04:14] <Kingsy> I have no idea what that is.
[23:04:44] <emcodem> yeah well, if it runs long, hit ctrl+c and check if the start of the output file looks OK
[23:05:06] <Kingsy> emcodem: can you play mp4 files that a partial?
[23:06:16] <emcodem> -movflags +faststart would enable that, but i think you cannot play them while encoding... others might correct me here
[23:06:52] <emcodem> not while encoding but as soon as it's encoded, you could play it e.g. while it downloads from http or ftp or such
[23:06:52] <Kingsy> naaa it doesnt work
[23:06:53] <DeHackEd> there's fragmented mp4 files, but that's a different set of options
[23:07:03] <emcodem> like hls :D
[23:07:11] <Kingsy> I stopped it encoing and tried to play.. doesnt work
[23:07:12] <emcodem> dash i mean
[23:07:26] <emcodem> did u stop encoding using ctrl+c?
[23:07:31] <Kingsy> yes
[23:07:36] <emcodem> thats bad
[23:07:50] <Kingsy> I'll use -ss and -t
[23:08:05] <DeHackEd> ffmpeg should catch that and finish properly. but hitting it multiple times might cause it to fault out
[23:08:14] <DeHackEd> especially as +faststart requires a file rebuild after it "finishes"
[23:08:53] <Kingsy> np. having a 90 second run at it with -ss and -t
[23:09:47] <emcodem> 1 second might suffice for start :D
[23:09:55] <Kingsy> heheh you were probably riht :D
[23:10:28] <DeHackEd> especially with x265 and slow preset
[23:11:32] <emcodem> the message is you should press ctrlC only ONCE and wait until the process finishes gracefully
[23:11:46] <Kingsy> cool lets try
[23:15:53] *** Joins: greyrat (~greyrat@ip202.ip-51-178-215.eu)
[23:16:14] *** Server sets mode: +Ccnt 
[23:16:33] *** Quits: realies (~realies@user/realies) (Ping timeout: 268 seconds)
[23:16:34] *** realies1 is now known as realies
[23:22:55] *** Joins: Keshl_ (~Purple@idlerpg/player/Keshl)
[23:23:17] *** Quits: Keshl (~Purple@idlerpg/player/Keshl) (Read error: Connection reset by peer)
[23:24:11] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.2)
[23:32:58] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[23:33:30] *** Joins: czard (~czard@host-78-150-125-181.as13285.net)
[23:33:49] *** Joins: iconoclasthero_ (~quassel@pool-100-14-213-4.phlapa.fios.verizon.net)
[23:34:10] *** iconoclasthero_ is now known as iconoclasthero
[23:34:43] *** Joins: therobin (~UserNick@2607:f2c0:9510:9e00:bcfd:eb86:ce47:8a37)
[23:36:54] *** Quits: Core8970 (~czard@82-132-232-64.dab.02.net) (Read error: Connection reset by peer)
[23:38:00] *** Quits: System_Error (~SystemErr@gateway/tor-sasl/systemerror) (Ping timeout: 276 seconds)
[23:38:16] *** Quits: iconoclasthero (~quassel@pool-100-14-213-4.phlapa.fios.verizon.net) (Remote host closed the connection)
[23:43:41] *** Quits: pntaylor (~quassel@2405:6e00:493:6cd2::5) (Ping timeout: 268 seconds)
[23:46:50] *** Quits: durandal_1707 (~computer@212.15.178.35) (Read error: No route to host)
[23:47:31] *** Joins: durandal_1707 (~computer@212.15.178.35)
[23:47:48] *** Quits: durandal_1707 (~computer@212.15.178.35) (Read error: Connection reset by peer)
[23:51:19] *** Joins: pntaylor (~quassel@101.113.157.35)
[23:52:24] *** Joins: durandal_1707 (~computer@212.15.178.35)
[23:59:30] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
