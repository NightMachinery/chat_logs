[00:04:43] <emcodem> unfortunately i did not yet find any clues about where the additional metadata of the working version could be stored in
[00:07:54] <emcodem> @BtbN sorry about the confusion above, my message "i think so, but which could it be" was for @another :D
[00:08:45] <another|> no idea
[00:09:01] *** Joins: Buster_ (~Buster@buster-net.ru)
[00:10:00] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[00:11:38] <emcodem> ok lemme see... how exactly could ffprobe detect the framerate in a raw h264 stream...
[00:13:59] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[00:17:22] <another|> errr.. I think it doesn't ?
[00:17:31] <another|> default framerate is 25
[00:20:25] <emcodem> hmmm but we see r_frame_rate=50/1
[00:20:32] <emcodem> in the mainconcept version
[00:20:48] <emcodem> and avg_frame_rate=49/1
[00:21:24] <emcodem> 50/1 is how it was encoded, 50P
[00:21:41] <emcodem> 49/1 avg seems to be some calculated value
[00:25:07] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 252 seconds)
[00:30:27] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[00:30:33] *** Quits: Blacker47 (~Blacker47@user/blacker47) (Quit: Life is short. Get a V.90 modem fast!)
[00:32:32] *** Joins: Nact (~l@2a02:a03f:c0b0:f600:3253:5994:1b4f:e854)
[00:45:03] <emcodem> damned, i feel like a noob... i am not able to find out where ffprobe gets the fps from in the mainconcept version
[00:59:30] *** Quits: thebombzen (~thebombze@587232703.guest.umich.net) (Quit: Quit)
[01:05:02] *** Quits: dreamon (~dreamon@p54b14bd8.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[01:07:47] *** Joins: GenTooMan (~cyberman@c-73-214-106-63.hsd1.pa.comcast.net)
[01:11:53] *** Quits: blaze (~blaze@user/blaze) (Quit: WeeChat 3.2.1)
[01:22:46] *** Quits: ChocolateArmpits (~Chocolate@88.223.218.222) (Ping timeout: 260 seconds)
[01:32:48] *** Quits: MrZeus_ (~MrZeus@141.98.252.252) (Ping timeout: 268 seconds)
[01:33:11] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Quit: WeeChat 3.2)
[01:41:07] *** Quits: nurupo (~nurupo.ga@user/nurupo) (Quit: nurupo.ga)
[01:41:20] *** Joins: nurupo (~nurupo.ga@user/nurupo)
[01:44:19] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 252 seconds)
[01:53:00] *** Quits: Buster_ (~Buster@buster-net.ru) (Ping timeout: 265 seconds)
[02:09:45] *** Joins: MrZeus (~MrZeus@2a02:c7f:a0aa:4400:9df5:7290:f074:bb95)
[02:10:09] *** Joins: MrZeus_ (~MrZeus@185.248.85.56)
[02:14:20] *** Quits: MrZeus (~MrZeus@2a02:c7f:a0aa:4400:9df5:7290:f074:bb95) (Ping timeout: 268 seconds)
[02:16:36] *** Joins: jfive (~jfive@201.120.225.49.dyn.cust.vf.net.nz)
[02:17:26] <jfive> Is it possible to get ffmpeg to stream to my tv via dlna
[02:18:09] <jfive> Or a web site with instructions
[02:19:33] *** Quits: jfive (~jfive@201.120.225.49.dyn.cust.vf.net.nz) (Client Quit)
[02:19:50] *** Joins: jfive (~jfive@201.120.225.49.dyn.cust.vf.net.nz)
[02:27:27] <microchip_> jfive: use miniDLNA
[02:27:58] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[02:29:44] *** Quits: whitekidney (~wk@188.126.218.103) (Ping timeout: 265 seconds)
[02:30:22] *** Quits: jfive (~jfive@201.120.225.49.dyn.cust.vf.net.nz) (Ping timeout: 268 seconds)
[02:34:38] *** Joins: whitekidney (~wk@188.126.218.103)
[02:37:03] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[02:38:54] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[02:39:18] *** Quits: Nact (~l@2a02:a03f:c0b0:f600:3253:5994:1b4f:e854) (Ping timeout: 260 seconds)
[02:39:58] *** Joins: Nact (~l@109.130.159.80)
[02:45:22] *** Quits: Nact (~l@109.130.159.80) (Ping timeout: 252 seconds)
[02:51:57] *** pntaylor_ is now known as pntaylor
[02:53:13] *** Joins: jkwnki (~jkwnki@p4fedb772.dip0.t-ipconnect.de)
[02:53:16] *** Quits: jkwnki (~jkwnki@p4fedb772.dip0.t-ipconnect.de) (Client Quit)
[02:53:48] *** Quits: honza_c (~honza_c@dynamic-194-228-11-6.ipv4.broadband.iol.cz) (Ping timeout: 268 seconds)
[02:58:03] *** Joins: jkwnki (~jkwnki@p4fedb772.dip0.t-ipconnect.de)
[02:58:25] *** Quits: jkwnki (~jkwnki@p4fedb772.dip0.t-ipconnect.de) (Client Quit)
[03:01:53] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[03:01:53] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Read error: Connection reset by peer)
[03:02:15] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[03:05:43] *** Joins: jkwnki (~jkwnki@p4fedb772.dip0.t-ipconnect.de)
[03:07:38] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.2)
[03:12:26] *** Quits: wyatt8740 (~wyatt8740@185.240.244.21) (Ping timeout: 260 seconds)
[03:16:32] *** Quits: jkwnki (~jkwnki@p4fedb772.dip0.t-ipconnect.de) (Remote host closed the connection)
[03:17:12] *** Joins: MrZeus__ (~MrZeus@185.248.85.56)
[03:17:51] *** Quits: MrZeus_ (~MrZeus@185.248.85.56) (Read error: Connection reset by peer)
[03:18:02] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[03:19:38] *** Joins: wyatt8740 (~wyatt8740@185.240.244.22)
[03:22:53] *** Joins: jkwnki (~jkwnki@p4fedb772.dip0.t-ipconnect.de)
[03:24:11] *** Quits: jkwnki (~jkwnki@p4fedb772.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[03:32:22] *** Joins: Fohsap (~Muimi@60.20.216.124)
[03:34:52] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Ping timeout: 252 seconds)
[03:35:44] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 268 seconds)
[03:38:34] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[03:52:18] *** Joins: minimal (~minimal@user/minimal)
[03:56:24] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[04:01:19] *** Quits: emcodem (uid483343@id-483343.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[04:02:22] *** Quits: xx (~xx@user/xx) (Ping timeout: 260 seconds)
[04:06:55] *** Quits: luni-4 (uid453292@id-453292.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[04:08:11] *** Joins: Retr0id3 (~Retr0id@user/retr0id)
[04:10:10] *** Quits: Retr0id (~Retr0id@user/retr0id) (Ping timeout: 252 seconds)
[04:10:10] *** Retr0id3 is now known as Retr0id
[04:14:52] *** Quits: tinytoast (~squeek@user/tinystoat) (Remote host closed the connection)
[04:15:01] *** Joins: tinystoat (~squeek@user/tinystoat)
[04:16:10] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[04:30:00] *** Quits: MrZeus__ (~MrZeus@185.248.85.56) (Ping timeout: 268 seconds)
[04:42:12] *** Joins: SpeakerToMeat (~Speaker@user/speakertomeat)
[04:42:19] <SpeakerToMeat> Hi all.
[04:43:00] <SpeakerToMeat> Question, if I -ss -i a file, do I need to do anything special to -vf subtitles to keep video and subs in sync?
[05:09:21] *** Quits: pong (~beaver@user/pong) (Ping timeout: 276 seconds)
[05:10:11] *** Quits: SpeakerToMeat (~Speaker@user/speakertomeat) (Read error: Connection reset by peer)
[05:12:15] *** Joins: SpeakerToMeat (~Speaker@user/speakertomeat)
[05:17:38] *** Joins: pong (~beaver@user/pong)
[05:25:54] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 260 seconds)
[05:27:21] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[05:30:24] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:35:30] *** Joins: vlm (~vlm@user/vlm)
[05:40:54] *** Joins: milkt_ (~debian@gateway/tor-sasl/milkt)
[05:41:52] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[05:43:54] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[05:46:31] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[05:46:45] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[05:51:33] *** Joins: chowbok (~quassel@207.181.244.106)
[05:52:26] *** Joins: nillyhan2 (~00000000@user/nillyhan)
[05:52:38] *** Quits: nillyhan (~00000000@user/nillyhan) (Read error: Connection reset by peer)
[05:52:38] *** nillyhan2 is now known as nillyhan
[05:54:55] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[05:55:32] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[05:58:27] <chowbok> This isn't exactly about ffmpeg, but I thought somebody might point me in the right direction. I have a camcorder connected to a USB capture card coming in through /dev/video0. I want to turn it into a rtmp stream. It works for a while when I append "-listen 1 rtmp://hostname" to the capture command, but it's not very robust and it doesn't let me go back in the stream. What's some software I can use on the (linux) server for what I want?
[05:59:05] <chowbok> I've found a lot of howtos on the web but they all seem to be setups for more complicated situations
[06:24:39] *** Joins: gnoo (~gnoo@user/gnoo)
[06:30:15] *** Quits: Atsuko (~x@94.242.250.86) (Ping timeout: 268 seconds)
[06:30:46] *** Quits: s55 (~s55@user/s55) (Ping timeout: 260 seconds)
[06:33:47] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 240 seconds)
[06:39:31] *** Joins: Atsuko (~x@94.242.250.86)
[06:42:05] *** Joins: s55 (~s55@user/s55)
[06:43:12] *** Quits: jos2 (~jos3@dyndsl-091-096-036-018.ewe-ip-backbone.de) (Ping timeout: 268 seconds)
[06:43:30] *** Joins: deltab (~deltab@user/deltab)
[06:55:45] *** Joins: jos2 (~jos3@dyndsl-091-248-054-026.ewe-ip-backbone.de)
[07:05:42] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Ping timeout: 276 seconds)
[07:07:34] *** Quits: DeHackEd (~dehacked@atmaweapon.dehacked.net) (Ping timeout: 256 seconds)
[07:09:14] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Quit: Ping timeout (120 seconds))
[07:11:25] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[07:13:48] <aphysically> for a second I thought this meant the start_time on streams and I got nervous https://github.com/FFmpeg/FFmpeg/commit/6b08ed9f956408e9d5ef0339a51258cb2a648042
[07:27:19] *** Quits: meinside (uid24933@id-24933.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[07:35:18] *** Joins: confuzed (~confuzed@23.94.219.231)
[07:38:10] <confuzed> hey there. two minor questions: a) is it possible (via the tee muxer?) to reuse one audio channel twice in the same output? something like "[select=\'v:0,a:0,v:1,a:0\']..". I tried this approach, and it complains in much the same way attempting to use the same audio track directly in the HLS muxer complains
[07:39:09] <confuzed> second question (probably unsupported), any way to pause the HLS muxer at startup to begin emitting segments on a round second modulo some number? wanting geographically ntp-synced machines to produce identical paths and filenames for failover purposes, even if stream content diverges (some embedded players easily trip up by sudden playlist changes)
[07:49:22] <youmustrust> Guys, is it a bug for pts to not differ exactly by duration, or an acceptable behavior? I'm transcoding to an 44.1khz AAC, and as per ffprobe output I'm pretty sure duration is not respected many times.
[07:49:52] <youmustrust> I would expect, next pts = previous pts + duration.
[07:53:01] *** Joins: meinside (uid24933@id-24933.helmsley.irccloud.com)
[07:55:15] *** Quits: averne (~averne@2001:861:5102:3290:9952:d870:185e:c44c) (Ping timeout: 260 seconds)
[07:56:19] *** Joins: averne (~averne@2001:861:5102:3290:9952:d870:185e:c44c)
[08:00:35] *** Joins: Atsuko_ (~x@94.242.250.86)
[08:00:50] *** Quits: s55 (~s55@user/s55) (Ping timeout: 260 seconds)
[08:02:16] *** Quits: Atsuko (~x@94.242.250.86) (Ping timeout: 265 seconds)
[08:07:05] *** Joins: s55 (~s55@user/s55)
[08:15:08] *** Joins: bencc1 (~bencc1@2a00:a040:197:3af:a7a2:aaa8:e605:ba8f)
[08:19:10] *** Quits: nillyhan (~00000000@user/nillyhan) (Ping timeout: 252 seconds)
[08:33:22] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 268 seconds)
[08:34:10] *** Quits: xlei (znc@pool-68-129-84-118.nycmny.fios.verizon.net) (Ping timeout: 240 seconds)
[08:35:48] *** Joins: nillyhan (~00000000@user/nillyhan)
[08:40:51] *** Joins: TheSashmo (~TheSashmo@158.106.77.7)
[08:43:18] *** Quits: Atsuko_ (~x@94.242.250.86) (Ping timeout: 260 seconds)
[08:43:51] *** Quits: s55 (~s55@user/s55) (Ping timeout: 268 seconds)
[08:45:46] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 265 seconds)
[08:46:13] *** Joins: Atsuko (~x@94.242.250.86)
[08:47:39] *** Joins: s55 (~s55@user/s55)
[08:56:20] *** Joins: deltab (~deltab@user/deltab)
[08:57:07] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[08:57:33] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[08:58:44] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[09:11:43] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:12:07] *** Quits: blb (~blb@user/blb) (Ping timeout: 252 seconds)
[09:13:14] *** Joins: blb (~blb@user/blb)
[09:18:55] *** Joins: Atsuko_ (~x@94.242.250.86)
[09:19:22] *** Quits: s55 (~s55@user/s55) (Read error: Connection reset by peer)
[09:19:50] *** Quits: Atsuko (~x@94.242.250.86) (Ping timeout: 268 seconds)
[09:20:05] *** Joins: s55 (~s55@user/s55)
[09:24:06] *** Joins: xlei (akans@pool-68-129-84-118.nycmny.fios.verizon.net)
[09:39:11] *** Quits: milkt_ (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[09:39:32] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[09:51:54] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[09:52:07] *** Quits: Jan\ (~kvirc@104.204.200.116) (Ping timeout: 252 seconds)
[09:52:44] *** Joins: honza_c (~honza_c@dynamic-194-228-11-213.ipv4.broadband.iol.cz)
[09:52:55] *** Quits: darkapex_ (~darkapex@user/darkapex) (Ping timeout: 268 seconds)
[09:56:31] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[09:57:34] *** Joins: Jan\ (~kvirc@198.12.68.162)
[10:05:09] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[10:18:41] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[10:26:19] *** Joins: dreamon (~dreamon@p54b14bd8.dip0.t-ipconnect.de)
[10:35:00] *** Quits: dreamon (~dreamon@p54b14bd8.dip0.t-ipconnect.de) (Ping timeout: 265 seconds)
[10:40:19] *** Quits: xlei (akans@pool-68-129-84-118.nycmny.fios.verizon.net) (Ping timeout: 265 seconds)
[10:44:48] *** Joins: jcchen (~jcchen@111-71-214-61.emome-ip.hinet.net)
[11:24:34] *** Joins: palasso (~palasso@user/palasso)
[11:30:08] *** Joins: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3)
[11:47:07] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Quit: WeeChat 3.1)
[11:56:17] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[11:58:02] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[12:03:17] *** Joins: rsx (~dummy@ppp-188-174-153-247.dynamic.mnet-online.de)
[12:07:27] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[12:09:05] *** Quits: Aelius (~Aelius@user/aelius) (Quit: quit)
[12:11:21] *** Joins: Aelius (~Aelius@user/aelius)
[12:21:12] *** Joins: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de)
[12:22:58] *** Joins: jrofd (~test@cpc127052-lewi23-2-0-cust30.2-4.cable.virginm.net)
[12:36:43] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[12:38:06] *** Joins: naffan (~naffan@211.155.93.244)
[12:38:15] *** Joins: Blacker47 (~Blacker47@user/blacker47)
[12:39:34] <naffan> HI. what common reason  about " Input buffer exhausted before END element found" error ?
[12:41:27] *** Quits: bpmedley (~bpmedley@69-174-155-1.bltnilaa.metronetinc.net) (Quit: Textual IRC Client: www.textualapp.com)
[12:48:43] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[12:49:03] *** Joins: jcelerier (~jcelerier@2a01:cb1d:8b82:c000:2e56:dcff:fe39:5547)
[12:49:08] <jcelerier> hello :)
[12:49:16] <jcelerier> I have a question about codec contexts and time bases
[12:49:24] <jcelerier> I am getting different values from:
[12:49:32] <jcelerier> - the time_base as read directly from an AVStream->codec
[12:49:53] <jcelerier> - the time_base as read from a codec allocated by avcodec_open2(<the codec id of the stream>)
[12:50:14] <jcelerier> - the time_base as read from what avcodec_parameters_to_context(stream->codecpar) gives me
[12:50:31] <jcelerier> the last version seems to be the most correct
[12:50:33] <jcelerier> but
[12:50:49] <jcelerier> it always give me num=0, den=1
[12:51:28] <jcelerier> while the later above seem to give more sensible values, e.g. num=1;den=30
[12:52:47] <JEEB> 1. AVStream's codec context should not be utilized (and I think was publicly removed at one point) 2. AVStream's time base is the time base for the packets you receive 3. theoretically at the point where you are getting packet for a stream you can allocate & params_to_context & open (see doc/examples/transcoding), you should get your own decoding AVCodecContext initialized (and it should have its own time
[12:52:49] <jcelerier> https://paste.ofcode.org/qcyvua5Gap8UCCnM9bGUXT here are the numbers that I'm getting for various files
[12:52:53] <JEEB> base)
[12:52:56] <JEEB> I hope this helps a bit
[12:54:15] <jcelerier> JEEB: in the paste I sent, look at the second "paragraph" : which value should I trust ?
[12:54:32] <JEEB> trust in which sense
[12:55:08] <JEEB> also I think the bit 3. kind of specifically notes your case
[12:55:22] <jcelerier> in whchi time_base will my pkt_dts be
[12:55:47] <JEEB> for AVPackets it is AVStream->time base when you read them from an avformat context
[12:56:11] <jcelerier> oh ! okay, that makes sense then
[12:56:20] <JEEB> for AVPackets before you feed them to the decoder your have to rescale them to the AVCodeContext's time base
[12:56:25] <jcelerier> and dts will be in whatever my codec_context has
[12:56:38] <JEEB> then AVFrames you receive from teh decoder are on that AVCodecContext's time base
[12:56:49] <JEEB> (and you will then have to rescale for filtering etc)
[12:56:55] <JEEB> as I said, take a look at doc/examples/transcoding
[12:57:05] <JEEB> not perfect but should give you a genearl idea
[12:57:38] <jcelerier> okay, thanks, I was looking at ffplay.c so far
[12:57:42] <JEEB> and yes there are some attempts at adding time base information to AVPackets/Frames, because that's the nr1 thing people are confused about :P
[12:58:11] <JEEB> because by themselves AVPackets and AVFrames are on the time base which they got generated from, and you have to manually av_rescale_ts or whatever it was
[12:58:22] <JEEB> to rescale it for the next component you're planning to utilize
[12:58:39] <JEEB> so if you have demux + decode + filter + encode + mux
[12:58:46] <JEEB> each one of those has a time base
[12:59:03] <JEEB> and where the + is you have to rescale from previous to next time base
[12:59:32] <jcelerier> I see, that clears things up
[12:59:47] <JEEB> the transcoding example should have those basics there
[12:59:58] <JEEB> just make sure you're looking at a master version of it
[13:00:15] <jcelerier> yes I always check the examples on master on github
[13:08:05] *** Quits: cmp21 (~cmp@lputeaux-658-1-177-87.w92-154.abo.wanadoo.fr) (Quit: Ping timeout (120 seconds))
[13:08:54] *** Joins: naffan9 (~naffan@39.155.215.238)
[13:10:10] *** Quits: naffan (~naffan@211.155.93.244) (Ping timeout: 240 seconds)
[13:13:14] *** Quits: wcpan (~quassel@2400:8902::f03c:91ff:fee0:f952) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[13:14:57] *** Joins: wcpan (~quassel@2400:8902::f03c:91ff:fee0:f952)
[13:18:11] *** Joins: Nact (~l@2a02:a03f:c0b0:f600:3253:5994:1b4f:e854)
[13:22:44] *** Joins: feiwan1 (~Fei.Wang@192.102.204.51)
[13:26:44] *** Joins: cmp89 (~cmp@lputeaux-658-1-177-87.w92-154.abo.wanadoo.fr)
[13:32:54] *** Joins: bpmedley (~bpmedley@69-174-155-1.bltnilaa.metronetinc.net)
[13:47:41] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[13:49:18] *** Quits: Jan\ (~kvirc@198.12.68.162) (Ping timeout: 265 seconds)
[13:49:57] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[13:50:48] *** Joins: u0_a196 (~u0_a196@85-76-135-134-nat.elisa-mobile.fi)
[13:51:08] <u0_a196> Hi trolol
[13:51:22] *** Quits: u0_a196 (~u0_a196@85-76-135-134-nat.elisa-mobile.fi) (Client Quit)
[13:54:26] *** Joins: Jan\ (~kvirc@104.204.200.116)
[14:05:24] *** Quits: bpmedley (~bpmedley@69-174-155-1.bltnilaa.metronetinc.net) (Read error: Connection reset by peer)
[14:05:49] *** Joins: bpmedley (~bpmedley@69-174-155-1.bltnilaa.metronetinc.net)
[14:22:00] *** Quits: wyatt8740 (~wyatt8740@185.240.244.22) (Ping timeout: 268 seconds)
[14:23:32] *** Joins: Vonter (~Vonter@user/vonter)
[14:27:43] *** Joins: wyatt8740 (~wyatt8740@185.240.244.21)
[14:40:29] <jcelerier> argh I'm lost JEEB. I have a 50fps h.264 video. Stream's time_base = 1/50000. Codec's time base = 1/100. Yet my frames (output from the decoder)'s successives frame->pts are 0, 1000, 2000, 3000, 4000. That makes sense with the stream time_base but not the codec time_base, no ?
[14:42:27] <jcelerier> my frames come from avcodec_send_packet / avcodec_receive_frame
[14:45:34] <jcelerier> what surprises me is that pts == pkt_pts == best_effort_timestamp in my frames
[14:47:37] <JEEB> jcelerier: really sounds like you're not rescaling the packets' timestamps when feeding them into decoding
[14:48:01] <JEEB> since 1000/50000 is 1/50.
[14:48:34] <JEEB> so you receive the packet at stream's time base, then you need to rescale that avcodec context's time base
[14:48:40] <JEEB> there's helper functionality for this
[14:48:51] <JEEB> also pretty sure the transcode example does this as well
[14:49:30] <jcelerier> hmm I grepped for av_rescale in the transcode example but couldn't find it :-
[14:49:31] <jcelerier> hmm I grepped for av_rescale in the transcode example but couldn't find it :-:(
[14:49:53] <termos> i'm using av_packet_rescale_ts
[14:49:55] <jcelerier> https://github.com/FFmpeg/FFmpeg/blob/master/doc/examples/transcoding.c that one right ?
[14:50:06] <JEEB> doc/examples/transcoding.c:            av_packet_rescale_ts(packet,
[14:50:13] <JEEB> so I got the function name wrong, sure
[14:50:16] <JEEB> but you still have to do it
[14:50:26] <jcelerier> agh
[14:50:26] <JEEB> and if you had actually looked at the example you should have noticed it
[14:50:48] <jcelerier> what is wrong with my computer :) I ctrl-f "rescale" and it does not find it
[14:57:25] *** Quits: Nact (~l@2a02:a03f:c0b0:f600:3253:5994:1b4f:e854) (Ping timeout: 252 seconds)
[15:00:54] *** Joins: cosimone` (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[15:03:06] *** Quits: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3) (Ping timeout: 268 seconds)
[15:25:07] *** Joins: minimal (~minimal@user/minimal)
[15:26:01] *** Quits: wcpan (~quassel@2400:8902::f03c:91ff:fee0:f952) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[15:27:27] *** Joins: wcpan (~quassel@2400:8902::f03c:91ff:fee0:f952)
[15:45:57] *** Quits: naffan9 (~naffan@39.155.215.238) (Quit: Connection closed)
[15:50:05] *** Quits: pong (~beaver@user/pong) (Quit: leaving)
[16:01:25] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Quit: WeeChat 3.2)
[16:01:48] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[16:08:01] *** Quits: jcchen (~jcchen@111-71-214-61.emome-ip.hinet.net) (Ping timeout: 265 seconds)
[16:12:23] *** Quits: cosimone` (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 268 seconds)
[16:15:44] *** Quits: rpthms (~rpthms@user/rpthms) (Remote host closed the connection)
[16:18:15] *** Joins: xlei (akans@pool-68-129-84-118.nycmny.fios.verizon.net)
[16:26:57] *** Joins: rpthms (~rpthms@user/rpthms)
[16:39:57] *** Joins: pong (~beaver@user/pong)
[16:41:07] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[16:42:47] *** Joins: MrZeus__ (~MrZeus@185.248.85.56)
[16:56:18] *** Quits: nillyhan (~00000000@user/nillyhan) (Quit: Ping timeout (120 seconds))
[16:56:37] *** Joins: nillyhan (~00000000@user/nillyhan)
[16:57:31] *** Quits: pong (~beaver@user/pong) (Quit: leaving)
[17:03:18] *** Joins: pong (~beaver@user/pong)
[17:04:33] *** Joins: naffan (~naffan@223.70.168.14)
[17:05:25] <naffan> hello?
[17:05:35] <JEEB> only robots here
[17:05:46] <naffan> hi?
[17:05:47] *** Joins: naffan98 (~naffan@223.70.168.14)
[17:05:57] <naffan98> thank you
[17:06:00] <naffan> hi
[17:06:51] *** Quits: naffan (~naffan@223.70.168.14) (Client Quit)
[17:07:27] *** Joins: naffan_ (~naffan@223.70.168.14)
[17:12:40] <naffan_> i figure out what problem it is
[17:13:10] <naffan_> exit
[17:13:13] *** Quits: naffan_ (~naffan@223.70.168.14) (Quit: leaving)
[17:13:43] *** Quits: naffan98 (~naffan@223.70.168.14) (Quit: Connection closed)
[17:15:28] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[17:17:28] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[17:26:03] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[17:32:04] *** Joins: SpeakerToMeat__ (~Speaker@user/speakertomeat)
[17:32:19] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[17:32:27] *** Quits: SpeakerToMeat (~Speaker@user/speakertomeat) (Read error: Connection reset by peer)
[17:32:31] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[17:33:03] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[17:35:16] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[17:36:48] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[17:39:57] *** Joins: grolongo (~user@lfbn-lil-1-241-165.w90-45.abo.wanadoo.fr)
[17:41:41] <grolongo> hello, does having "-acodec copy" result to the same as not having it at all on the command line?
[17:42:00] <another|> no
[17:42:33] <grolongo> hmm, what happens if I don't have any -acodec mention?
[17:42:59] <JEEB> whatever your output format has as the default audio format
[17:43:13] <JEEB> for example if your output is mp4, you can check with `-h muxer=mp4`
[17:45:27] <grolongo> understood, thank you guys
[17:52:55] *** Quits: nillyhan (~00000000@user/nillyhan) (Ping timeout: 265 seconds)
[17:55:01] *** Joins: Paella85 (~Paella85@185.73.168.100)
[18:01:07] *** Quits: af (~af@awalgarg.me) (Ping timeout: 265 seconds)
[18:04:59] <BtbN> Also, most notably, it will re-encode no matter what. It never defaults to a plain copy
[18:07:18] *** Quits: lilibox (~lilibox@31.192.64.247) (Read error: No route to host)
[18:07:18] *** Joins: darsain (~darsain@46-18-150-222.ferimex.net)
[18:08:56] *** Quits: arkanoid (~arkanoid@2-238-151-49.ip244.fastwebnet.it) (Ping timeout: 268 seconds)
[18:11:07] <darsain> is it possible to limit the numbet of audio channels to a specific number? I've found the -ac param, but that only forces to always be X, even if the input is lower than that, which is not desirable
[18:12:30] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[18:12:30] *** Joins: arkanoid (~arkanoid@2-238-151-49.ip244.fastwebnet.it)
[18:13:19] *** Joins: NovumDXW (~NovumDXW@14.127.250.58)
[18:13:39] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 268 seconds)
[18:15:40] <JEEB> darsain: no
[18:15:47] <JEEB> make your own API client with that logic if ye wish
[18:17:08] *** Joins: Novice_ (~NovumDXW@14.127.250.58)
[18:17:10] *** Quits: NovumDXW (~NovumDXW@14.127.250.58) (Read error: Connection reset by peer)
[18:17:47] <darsain> you mean extracting the number of channels with ffprobe, and than limiting it with -ac if bigger than required?
[18:18:30] <another|> that's not what he meant but is also a possible way to go
[18:18:31] <JEEB> also utilize -channel_layout
[18:18:46] <JEEB> many channel counts are ambiguous
[18:18:49] *** Quits: Novice_ (~NovumDXW@14.127.250.58) (Remote host closed the connection)
[18:19:19] *** Joins: Novice_ (~NovumDXW@14.127.250.58)
[18:19:29] <JEEB> darsain: that is one possibility of wrapping around the standard API clients
[18:20:06] <JEEB> I mean, FFmpeg is a set of libraries so if you have a specific logic you wish for you can make your own API client just like the ones that FFmpeg itself provides
[18:20:21] <BtbN> What filter does -ac even add?
[18:20:52] *** Quits: Novice_ (~NovumDXW@14.127.250.58) (Remote host closed the connection)
[18:21:30] *** Joins: Novice_ (~NovumDXW@14.127.250.58)
[18:21:46] <JEEB> I think it just configures the implicit filter chain's output to that channel count?
[18:22:25] *** Quits: Novice_ (~NovumDXW@14.127.250.58) (Max SendQ exceeded)
[18:23:06] *** Joins: af (~af@awalgarg.me)
[18:24:21] *** Quits: AMM (~AMM@user/amm) (Ping timeout: 268 seconds)
[18:24:27] *** Joins: TheAMM (~AMM@user/amm)
[18:24:45] *** TheAMM is now known as AMM
[18:31:06] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[18:31:20] *** Joins: xx (~xx@user/xx)
[18:33:17] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[18:35:27] *** Joins: NovumDXW (~NovumDXW@14.127.250.58)
[18:35:59] *** Quits: NovumDXW (~NovumDXW@14.127.250.58) (Max SendQ exceeded)
[18:36:31] *** Joins: NovumDXW (~NovumDXW@14.127.250.58)
[18:44:50] *** Atsuko_ is now known as atsuko
[18:44:55] *** atsuko is now known as Atsuko
[18:48:49] *** Joins: emagex (~user@cpc121554-lewi23-2-0-cust1271.2-4.cable.virginm.net)
[18:53:56] *** Quits: NovumDXW (~NovumDXW@14.127.250.58) (Remote host closed the connection)
[19:08:41] *** Quits: grolongo (~user@lfbn-lil-1-241-165.w90-45.abo.wanadoo.fr) (Remote host closed the connection)
[19:09:30] *** Quits: Fohsap (~Muimi@60.20.216.124) (Quit: Going offline, see ya! (www.adiirc.com))
[19:18:25] *** Joins: Fohsap (~Muimi@60.20.216.124)
[19:19:21] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[19:20:24] *** Quits: Fohsap (~Muimi@60.20.216.124) (Remote host closed the connection)
[19:21:54] *** Joins: Fohsap (~Muimi@60.20.216.124)
[19:24:00] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[19:25:49] *** Joins: CoreX (~CeX@2001:41d0:8:d55f::1)
[19:28:36] *** Quits: CoreX (~CeX@2001:41d0:8:d55f::1) (Client Quit)
[19:28:50] *** Joins: CoreX (~CeX@2001:41d0:8:d55f::1)
[19:32:51] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[19:43:11] *** Quits: AMM (~AMM@user/amm) (Quit: S'on moro)
[19:48:56] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[19:54:51] *** Joins: ChocolateArmpits (~Chocolate@88.223.218.222)
[19:54:52] *** Joins: AMM (~AMM@user/amm)
[20:00:05] *** Joins: cosimone (~user@93-44-187-145.ip98.fastwebnet.it)
[20:07:24] <darsain> is there a value in doing 2 passes on x264 -crf encode? wiki recommends 2 pass only for -b:v encode, or at least doesn't describe the usefullness of 2 pass further
[20:10:25] <JEEB> no
[20:10:30] *** Quits: Hello71 (~Hello71@wireguard/contributor/hello71) (Quit: Hello71)
[20:10:55] <JEEB> the positive bit of CRF is that there is no need for a 2nd pass
[20:12:35] <DHE> 2pass mode is for when you need good quality while nailing a certain bitrate. if you don't need that (and if you're using crf mode, you don't) then don't use it.
[20:13:17] <darsain> ty
[20:21:17] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[20:21:45] *** Quits: justache (~justache@user/justache) (Read error: Connection reset by peer)
[20:23:01] *** Joins: justache (~justache@user/justache)
[20:27:32] *** Parts: emagex (~user@cpc121554-lewi23-2-0-cust1271.2-4.cable.virginm.net) (ERC (IRC client for Emacs 27.1))
[20:32:20] <kepstin> (fwiw, with x264, doing a crf encode and doing a 2-pass encode with the same target bitrate as the crf encode used should provide very similar results)
[20:33:25] <kepstin> note that other encoders are different - libvpx-vp9 for example has a quality based encode mode mapped to the 'crf' option in ffmpeg, but with that encoder it is recommended to use it in combination with 2-pass.
[20:37:14] *** Quits: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de) (Ping timeout: 265 seconds)
[20:39:29] <JEEB> I think the hilarious bit is that is generally due to libvpx disabling various features (for no apparent reason) outside of 2pass
[20:39:53] <JEEB> and since that went all the way to libaom (at least until some point of time)
[20:40:18] <JEEB> then during AV1 etc development people started requesting if various encoder projects would implement 2pass because it brings so much gains!
[20:40:46] <JEEB> (being oblivious that the only reason libvpx/aom did so much better in 2pass mode was because some features were disabled)
[20:40:53] <JEEB> *disabled outside of it
[20:41:34] <DHE> ouch. geez...
[20:50:15] <kepstin> i'm not sure how much has changed since, but iirc the original implementation of crf mode in x264 was just using the bitrate allocation from the second pass of 2-pass mode
[20:52:13] *** Quits: Jan\ (~kvirc@104.204.200.116) (Ping timeout: 265 seconds)
[20:57:24] *** Joins: Jan\ (~kvirc@198.12.68.162)
[21:23:29] *** Joins: nillyhan (~00000000@user/nillyhan)
[21:25:32] *** Quits: Fohsap (~Muimi@60.20.216.124) (Remote host closed the connection)
[21:26:46] *** Joins: Fohsap (~Muimi@60.20.216.124)
[21:30:43] *** Joins: Buster_ (~Buster@buster-net.ru)
[21:32:11] *** Quits: Fohsap (~Muimi@60.20.216.124) (Quit: Going offline, see ya! (www.adiirc.com))
[21:34:17] *** Quits: Jan\ (~kvirc@198.12.68.162) (Ping timeout: 268 seconds)
[21:38:56] *** Quits: Paella85 (~Paella85@185.73.168.100) (Quit: Connection closed)
[21:39:15] *** Joins: Jan\ (~kvirc@104.204.200.116)
[21:39:52] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[21:43:57] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[21:54:51] *** Joins: Fohsap (~Muimi@2001:19f0:5001:2bf8:5400:3ff:fe30:8554)
[21:56:51] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Ping timeout: 276 seconds)
[21:59:22] *** Quits: Fohsap (~Muimi@2001:19f0:5001:2bf8:5400:3ff:fe30:8554) (Ping timeout: 252 seconds)
[22:00:26] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[22:03:35] *** Quits: gnoo (~gnoo@user/gnoo) (Quit: gnoo)
[22:05:26] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[22:16:26] *** Joins: dreamon (~dreamon@p54b14bd8.dip0.t-ipconnect.de)
[22:17:22] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[22:34:22] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[22:34:40] *** Joins: Hello71 (~Hello71@wireguard/contributor/hello71)
[22:36:16] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[22:39:22] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[22:49:45] *** Joins: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com)
[23:01:50] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[23:02:08] *** Joins: witchcraft (~witch@host-92-22-34-43.as13285.net)
[23:02:08] *** Quits: witchcraft (~witch@host-92-22-34-43.as13285.net) (Changing host)
[23:02:08] *** Joins: witchcraft (~witch@user/witch)
[23:02:21] *** witchcraft is now known as Wtchcrft
[23:07:56] *** Quits: rsx (~dummy@ppp-188-174-153-247.dynamic.mnet-online.de) (Quit: rsx)
[23:09:49] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[23:18:40] *** Quits: cosimone (~user@93-44-187-145.ip98.fastwebnet.it) (Ping timeout: 265 seconds)
[23:19:09] *** Quits: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com) (Quit: Leaving)
[23:47:36] *** Quits: Hello71 (~Hello71@wireguard/contributor/hello71) (Remote host closed the connection)
[23:47:57] *** Joins: Hello71 (~Hello71@wireguard/contributor/hello71)
[23:48:56] *** Joins: Paella85 (~Paella85@185.73.168.100)
[23:49:19] *** Quits: Paella85 (~Paella85@185.73.168.100) (Client Quit)
