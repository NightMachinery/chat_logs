[00:03:31] *** Joins: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr)
[00:09:57] *** Quits: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr) (Ping timeout: 240 seconds)
[00:19:46] *** Joins: tuskkk____ (uid18470@id-18470.tinside.irccloud.com)
[00:20:54] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 276 seconds)
[00:20:55] *** Joins: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr)
[00:25:35] *** Quits: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[00:35:13] *** Quits: goddard (~goddard@user/goddard) (Remote host closed the connection)
[00:35:32] *** Joins: goddard (~goddard@user/goddard)
[00:37:58] *** Joins: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr)
[00:39:32] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 240 seconds)
[00:40:17] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[00:42:46] *** Quits: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr) (Client Quit)
[00:42:59] *** Joins: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr)
[00:44:03] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[00:47:17] *** Quits: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr) (Ping timeout: 240 seconds)
[00:47:51] *** Joins: AsenMx (~AsenMx@user/asenmx)
[00:53:08] *** Joins: toastloopex (toastloop@user/toastloop)
[00:53:40] *** Joins: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr)
[00:56:26] *** Quits: toastloop (toastloop@user/toastloop) (Ping timeout: 268 seconds)
[01:12:10] *** Quits: ProfSimm (~ProfSimm@87.227.196.109) (Remote host closed the connection)
[01:14:01] *** Joins: stenno (~stenno@user/stenno)
[01:16:34] *** Joins: DaNeenjah (~jake@adsl-74-230-8-166.hsv.bellsouth.net)
[01:37:09] *** Joins: toastlooply (toastloop@user/toastloop)
[01:40:23] *** Quits: toastloopex (toastloop@user/toastloop) (Ping timeout: 256 seconds)
[01:43:37] *** Quits: ms49434 (~ms49434@user/ms49434) (Quit: Leaving)
[01:44:24] *** Joins: nortoh (~nortoh@user/nortoh)
[01:48:09] *** Joins: toastloopex (~toastloop@user/toastloop)
[01:50:07] *** Quits: onichomp (~onichomp@2806:264:4404:8137:50c8:a068:26f2:5734) (Read error: Connection reset by peer)
[01:50:45] *** Joins: onichomp (~onichomp@2806:264:4404:8137:50c8:a068:26f2:5734)
[01:50:57] *** Quits: toastlooply (toastloop@user/toastloop) (Ping timeout: 240 seconds)
[02:01:10] *** Quits: harpia (~harpia@2804:2aec:205:1400:be2a:c8d5:4566:5dc8) (Quit: harpia)
[02:10:15] *** Quits: toastloopex (~toastloop@user/toastloop) (Remote host closed the connection)
[02:10:36] *** Joins: toastloopex (~toastloop@user/toastloop)
[02:21:11] *** Quits: pmercado (~pmercado@190.22.82.102) (Ping timeout: 256 seconds)
[02:21:19] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[02:21:54] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Quit: Quitting)
[02:22:10] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[02:28:09] *** Quits: onichomp (~onichomp@2806:264:4404:8137:50c8:a068:26f2:5734) (Read error: Connection reset by peer)
[02:28:47] *** Joins: onichomp (~onichomp@2806:264:4404:8137:50c8:a068:26f2:5734)
[02:43:22] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 260 seconds)
[02:49:33] *** Quits: tuskkk____ (uid18470@id-18470.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[02:53:32] *** Quits: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr) (Ping timeout: 240 seconds)
[02:54:52] *** Quits: guido (~guido@host-79-36-252-78.retail.telecomitalia.it) (Quit: WeeChat 3.4)
[03:01:00] *** Joins: WishBoy (~WishBoy@user/wishboy)
[03:18:48] *** Joins: echoSMILE (uid504326@user/echosmile)
[03:20:19] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[03:24:08] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Quit: elastic_dog)
[03:25:06] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[03:26:47] *** Quits: ferdna (~ferdna@user/ferdna) (Remote host closed the connection)
[03:31:37] *** Quits: junktext__ (~junktext@gateway/vpn/pia/junktext) (Ping timeout: 240 seconds)
[03:35:25] *** Quits: toastloopex (~toastloop@user/toastloop) (Remote host closed the connection)
[03:37:37] *** Quits: onichomp (~onichomp@2806:264:4404:8137:50c8:a068:26f2:5734) (Read error: Connection reset by peer)
[03:38:15] *** Joins: onichomp (~onichomp@2806:264:4404:8137:50c8:a068:26f2:5734)
[03:41:35] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[03:53:33] *** Quits: ialokin (znc@user/ialokin) (Quit: it was tempting to stay, but I had to quit :))
[03:53:49] *** Joins: ialokin (znc@user/ialokin)
[03:55:30] *** Quits: magla (~gelignite@55d4c16b.access.ecotel.net) (Quit: Stay safe!)
[04:02:40] *** Joins: Alex8532 (~Alex8532@user/alex8532)
[04:42:10] *** Joins: frank1245 (05fdcda6@67.205.143.82)
[04:44:33] *** Quits: ThePhilgrim (~ThePhilgr@81-229-131-166-no257.tbcn.telia.com) (Ping timeout: 256 seconds)
[04:45:46] <frank1245> I have a 50K entries in my array, as key => value, where value is then multidimensional array, does anyone have any suggestions how to loop through it? The data is coming every second and new record is either inserted or updated, here is an example how it looks: https://p.fr33tux.org/48c9cf@raw
[04:46:25] <frank1245> news_x being the id, it's always incremented, in php i would do foreach ($data as $news_id => $news_data) { ... } , but with 30k records even looping is so slow
[04:47:09] <da_wunder> you should tell what you need to di with that data
[04:47:45] <da_wunder> /di/do/s
[04:49:44] <da_wunder> but what I would do first is to filter that input array to contain just the stuff I need to process
[04:50:48] <da_wunder> and really do that stuff on cli process and not something that user can do it on your webui
[05:01:37] *** Quits: DaNeenjah (~jake@adsl-74-230-8-166.hsv.bellsouth.net) (Quit: WeeChat 3.4)
[05:12:11] *** Quits: frank1245 (05fdcda6@67.205.143.82) (Quit: The Lounge - https://thelounge.chat)
[05:17:28] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[05:50:53] *** Joins: Hiccup (cHoy@user/hiccup)
[05:52:00] <CoJaBo> I'm "porting" a PHP app from 3.0.15 to 7.2; should be fun.
[05:52:16] <CoJaBo> For some definition of porting and/or fun, anyways.
[06:04:59] <Blondie101010> how many lines of code in total?
[06:05:23] <Snowman23> Wow! I have done some 4 -> 7 conversions, but 3... that is impressive :O
[06:06:35] <Blondie101010> a complete rewrite would likely be the best option
[06:07:35] *** Joins: Rockwood (~Rocky@user/rocky)
[06:21:23] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[06:27:51] *** Quits: Alex8532 (~Alex8532@user/alex8532) (Quit: Going offline, see ya! (www.adiirc.com))
[06:34:21] <Albright> Wow, PHP 3?
[06:34:23] <Albright> "The last PHP 3 release (3.0.18) was made on October 20, 2000."
[06:34:42] <Albright> That PHP app is probably old enough to drink.
[06:36:13] *** Quits: Smeef (~deathonat@user/smeef) (Quit: (╯°□°）╯︵ ┻━━┻)
[06:53:00] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 240 seconds)
[07:30:09] *** Joins: de-facto_ (~de-facto@user/de-facto)
[07:32:30] *** Quits: de-facto (~de-facto@user/de-facto) (Ping timeout: 276 seconds)
[07:33:17] *** de-facto_ is now known as de-facto
[07:37:17] *** Joins: stenno (~stenno@user/stenno)
[07:41:35] <Rockwood> i have still bit confusion about request validation for JS based frontend
[07:42:36] <Rockwood> my PHP's based backend have middleware with authentication so how to handle in frontend
[07:42:49] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 268 seconds)
[07:55:28] <Blondie101010> separate the API calls from your initial page load, and if you code your API to return a 302 on auth failure, then you just check for that response in your JS API client
[07:56:10] <Blondie101010> so what do you do if you get a 302 that you coded in JS?  you show a message to the user
[07:56:40] <Blondie101010> but 302 is not a good choice for that
[07:57:08] <__adrian> 401
[07:58:29] <Rockwood> Blondie101010, 302 is solved
[07:59:36] <Rockwood> it should be able to inject data into the html for (ReactJs) based index.js to read.
[07:59:46] <Rockwood> this is my concern now
[08:00:00] <Blondie101010> php does not inject data in your JS app
[08:00:14] <Blondie101010> it returns data that the JS app processes
[08:00:53] <Rockwood> by session make bridge
[08:00:55] <Blondie101010> request -> response
[08:01:27] <Rockwood> each request should be validated this is my concern
[08:02:07] <__adrian> what do you mean by that
[08:02:13] <Rockwood> i wanna make api for chk session
[08:02:20] <Blondie101010> access control
[08:02:22] <Rockwood> api call
[08:02:26] <__adrian> "check session" ?  check for what?
[08:02:31] <Rockwood> access control
[08:02:34] <Rockwood> ?
[08:02:49] <Rockwood> is user authenticated (means loggedin)
[08:02:55] <Rockwood> ?
[08:02:58] <Rockwood> or not
[08:03:01] <__adrian> why would you check that?
[08:03:24] <Rockwood> after login i am saving in session by PHP
[08:03:38] <__adrian> how are you authenticating when you use the api?
[08:04:13] <Rockwood> seconds showing
[08:04:54] <__adrian> e.g., do you have an api token, or are you just relying on the session?
[08:07:55] <Rockwood> yes i have crf token
[08:07:58] <Rockwood> https://gist.github.com/Cyberiaaxis/22121ad4ebe5ca72986ccae290207a06#file-api-php-L13
[08:08:34] <__adrian> auth, not csrf
[08:08:53] <__adrian> do you have any kind of auth token that you send with your api requests?
[08:09:04] <Rockwood>         <script> window.Laravel = {csrfToken: '{{ csrf_token() }}'} </script>
[08:09:23] <Rockwood> this token i am sending to frontend
[08:09:40] <Rockwood> for every form submission
[08:09:51] <__adrian> i'm not asking about csrf
[08:10:03] <__adrian> i'm asking about authentication/authorization
[08:10:17] <__adrian> do you have an auth token that you send with your api requests, or no?
[08:10:30] <__adrian> e.g., an "Authorization: " header?
[08:10:31] <Rockwood> https://gist.github.com/Cyberiaaxis/22121ad4ebe5ca72986ccae290207a06#file-logincontroller-php-L124  are you asking about this?
[08:10:46] <Rockwood> __adrian, not any then
[08:10:55] <Rockwood> [10:10:54] <__adrian> e.g., an "Authorization: " header? no
[08:11:16] <__adrian> that's a bearer token. yes, that's the kind of auth token that you'd send
[08:11:36] <__adrian> your js app ought to be storing that and sending it with your api requests
[08:12:02] <__adrian> and then you don't need an "am i logged in?" endpoint - if you have an auth token, you assume you're logged in.
[08:12:31] <__adrian> and if it's expired or doesn't allow some particular access, then the backend will tell you
[08:13:18] *** Joins: stenno (~stenno@user/stenno)
[08:14:37] <__adrian> are you using some framework laravel provides? it's possible/likely that auth is built in.
[08:14:38] <Rockwood> https://gist.github.com/Cyberiaaxis/34e79bb09b1349e433731450bb325d04 __adrian
[08:14:55] <Rockwood> they are suggestion lib for this work
[08:15:03] <__adrian> yes, that's a JWT token.
[08:15:05] <Rockwood> suggesting
[08:15:14] <__adrian> note at the end it literally tells you whether you're logged in
[08:15:31] <__adrian> sorry, the "accessToken" is a JWT
[08:15:41] <Rockwood> okay
[08:15:46] <Rockwood> its coming in response
[08:15:54] <Rockwood> after on submit
[08:16:08] <__adrian> check docs and see if your js app stores it. it probably does.
[08:16:54] <__adrian> your js app should decide whether it's logged in, allowed to do {whatever}, etc. based on that token.
[08:17:07] <__adrian> e.g., if you don't have one, you should assume you're not logged in.
[08:17:22] <Rockwood> __adrian, https://laravel.com/docs/8.x/passport#managing-personal-access-tokens
[08:17:22] <Blondie101010> I would include the expiry but that's a business decision
[08:17:34] <__adrian> the JWT has an expiry
[08:18:30] <__adrian> https://3v4l.org/prUv9
[08:18:33] <__adrian> "exp"
[08:19:08] <Rockwood> ->accessToken should i add this too?
[08:19:13] <Blondie101010> ahh nice
[08:19:18] <__adrian> interesting that they just tacked extra properties in there (instead of bundling them all under the subject)
[08:19:55] <__adrian> Rockwood: you should check whether laravel's js already does this
[08:20:12] <__adrian> it would be surprising if it did not already keep track of the access token
[08:21:24] <__adrian> i.e., you probably just need to use functions that already exist, and probably don't need to write anything new
[08:22:02] <Rockwood> https://laravel.com/docs/8.x/passport#get-oauthpersonal-access-tokens  like this?
[08:22:55] <__adrian> look at the js code. not the php code, or the api.
[08:23:25] <__adrian> start by looking at the code that does login. see what the js app does with the response. it probably saves the token somewhere.
[08:23:25] <Rockwood> const result = await Fetch("auth/login", { method: "post", data }); here?
[08:23:32] <__adrian> probably
[08:23:38] <__adrian> see what it does with that response.
[08:28:51] <Rockwood> use Laravel\Passport\HasApiTokens;  my user model having this
[08:29:04] <Rockwood> class User extends Authenticatable implements MustVerifyEmail
[08:29:04] <Rockwood> {
[08:29:04] <Rockwood>     use Notifiable, HasRoles, HasApiTokens;
[08:29:07] <Rockwood> this too
[08:30:21] <__adrian> i don't use all this, so i couldn't tell you what it does, but that looks like you're on the right track. look at the javascript part, though.
[08:30:34] <Rockwood> okay
[08:35:50] <Rockwood> __adrian, https://github.com/sindresorhus/ky i am using fetch by ky api here they setting and chking it
[08:36:06] <Rockwood> is the correct way to implement it?
[08:36:56] *** Joins: jetchisel (jetchisel@user/jetchisel)
[08:37:15] <Rockwood> this is in js part
[08:37:32] <Rockwood> i am made a global lib for fetch api like
[08:38:08] <Rockwood> https://gist.github.com/Cyberiaaxis/eedc4a63f6da159dcd0690594017a3d3
[08:56:59] <Rockwood> bye cya work time
[08:57:07] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[09:14:17] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 240 seconds)
[09:31:57] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 240 seconds)
[09:42:27] *** Quits: mr_gant (~mr_gant@203-206-182-122.perm.iinet.net.au) (Quit: mr_gant)
[09:45:08] *** Joins: stenno (~stenno@user/stenno)
[10:21:07] *** Quits: sagax (~sagax_nb@user/sagax) (Quit: Konversation terminated!)
[10:22:38] *** Joins: sagax (~sagax_nb@user/sagax)
[11:08:19] *** Quits: onichomp (~onichomp@2806:264:4404:8137:50c8:a068:26f2:5734) (Read error: Connection reset by peer)
[11:12:59] *** Joins: onichomp (~onichomp@2806:264:4404:8137:50c8:a068:26f2:5734)
[11:15:39] *** Quits: onichomp (~onichomp@2806:264:4404:8137:50c8:a068:26f2:5734) (Read error: Connection reset by peer)
[11:20:26] *** Quits: infernix (~nix@155.137.21.90) (Quit: ZNC - http://znc.sourceforge.net)
[11:32:18] *** Joins: guido (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f)
[11:50:03] *** Joins: onichomp (~onichomp@2806:264:4404:8137:4879:515b:55e6:5a91)
[11:51:43] *** Joins: luigibu (~luigi@11.red-79-159-71.dynamicip.rima-tde.net)
[11:54:11] *** Joins: toastloop (toastloop@user/toastloop)
[11:57:28] *** Joins: Rockwood (~Rocky@user/rocky)
[12:08:41] <Rockwood> o/
[12:11:04] *** Quits: lembron (~admin@user/lembron) (Ping timeout: 265 seconds)
[12:12:55] *** Quits: toastloop (toastloop@user/toastloop) (Ping timeout: 268 seconds)
[12:13:25] <Rockwood> only way is token for this?
[12:13:31] <Rockwood> __adrian,
[12:28:02] *** Quits: bodiccea (~bodiccea@user/bodiccea) (Ping timeout: 240 seconds)
[12:28:34] *** Quits: AsenMx (~AsenMx@user/asenmx) (Ping timeout: 260 seconds)
[12:40:04] *** Joins: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr)
[12:41:34] *** Joins: sambauer64 (~sambauer6@84.232.209.233)
[12:41:42] <sambauer64> hi. can I specify a certain function from a PHP file to be called by an AJAX call?
[12:44:46] *** Quits: Hiccup (cHoy@user/hiccup) (Remote host closed the connection)
[12:48:16] *** Quits: dbal (~dbal@2603:300c:b04:b100:cccc:5582:43b0:7ec9) (Ping timeout: 245 seconds)
[12:49:07] <AllenJB> You can't directly call a specific PHP function from a request (AJAX or otherwise). Your top level code would need to call the function (based on a query parameter). So your code might have something like: if ($_REQUEST['action'] === "doThingOne") { doThingOne(); }
[12:49:40] <AllenJB> You may want to read up on the concept of "routing"
[12:51:17] *** Joins: DevAntoine (~DevAntoin@235.50.141.77.rev.sfr.net)
[13:00:23] <sambauer64> AllenJB: I have put the PHP function in a separate php executable (+x) file. The AJAX call passes the values of 4 dropdowns (i have console.log and they are correct). request is 200ok however the response is full-text of my php file, no interpreting at all
[13:05:25] <AllenJB> If you're seeing raw PHP source code, it means the web server isn't processing the request using PHP. The executable permission generally doesn't affect PHP in most common configurations. The usual flag used by web server configuration is the '.php' extension.
[13:06:44] <AllenJB> Also make sure you've remembered the <?php opening tag (and do not use the old <? "short opening tag")
[13:06:57] <sambauer64> up
[13:06:59] <sambauer64> ups
[13:07:04] <sambauer64> this one if forgot
[13:07:55] <sambauer64> thank you
[13:08:41] <sambauer64> but now No response data available for this request
[13:11:45] <sambauer64> https://pastebin.com/ywCtag6i
[13:12:36] <sambauer64> this is the PHP function, parametrized as told yesterday by guys in #php. in the bottom is part of my JS script with the ajax call
[13:13:14] <AllenJB> I see nothing in the sql.php code that would actually call the function - it only defines it. PHP does not automatically call functions defined - you need top level (global scope) code to call the function.
[13:14:27] <AllenJB> I also don't see how / where find_by_sql() or $db are defined - you likely need to require the file those are defined / initialized in.
[13:14:33] <sambauer64> i'm lost at this onea
[13:15:41] <sambauer64> first, are the if statements correctly written? will the parameters complete a correct sql query?
[13:16:03] <sambauer64> because I written them as told yesterday but could not test anything
[13:17:56] <AllenJB> I don't see where / how $productCategorie and $productLocation and $searchname are defined / passed to the function. I expect you're missing function argument declarations - see https://www.php.net/manual/en/functions.arguments.php for examples
[13:20:58] <sambauer64> understood. can I pass an agument declaration such as $expired but not use it, as code for checking expiration is commented so far?
[13:21:47] *** Quits: luigibu (~luigi@11.red-79-159-71.dynamicip.rima-tde.net) (Quit: WeeChat 3.4)
[13:23:10] <AllenJB> You can set a default value, eg: function join_product_table($expired = null) // can be called as either join_product_table() or join_product_table("1"); To know if argument was passed: if ($expired !== null) {
[13:25:51] <sambauer64> i now still get a 200 ok but empty response
[13:26:28] <sambauer64> added the arguments for $productCategorie,$productLocation, $searchname
[13:26:58] <AllenJB> Are you calling join_product_table() anywhere in your PHP code? If you think you are, can you pastebin your current sql.php code.
[13:27:24] <sambauer64> also in the example there is a , after the last argument but if i use one code is 500 server error
[13:27:35] *** Quits: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[13:28:42] <AllenJB> Your server is probably using a PHP version < 8.0. As per the comment in the example in the link I gave you, trailing commas on function argument declarations were added in PHP 8.0
[13:29:32] <sambauer64> Ok. thank you. I do have another product.php that has the html for dropdowns and table. https://pastebin.com/D0Q1A4Cw
[13:29:50] <sambauer64> php 7.4.25
[13:32:01] <AllenJB> But product.php doesn't relate to your current problem because your AJAX request directly runs sql.php, which from the last code you pastebin'd, does not refer to product.php (or any other .php file) in any way.
[13:34:54] <sambauer64> the ajax script is linked on the bottom of product.php file if this what you're saying
[13:39:41] <sambauer64> i have moved the function to original sql.php which has multiple functions and now it displays nothing, maybe php error. it might be the case the arguments $productCategorie, $productLocation and $searchname are not set?
[13:41:45] *** Joins: ThePhilgrim (~ThePhilgr@81-229-131-166-no257.tbcn.telia.com)
[13:42:36] <AllenJB> Please pastebin your current sql.php code.
[13:44:21] <sambauer64> https://pastebin.com/MCHuDgiz  I have commented the other parameters and kept only $productCategorie. also declared it as '1' to check if SQL query returns just products in category=1 but still show all my products in all categories
[13:45:57] <AllenJB> This pastebin does not appear to contain the complete file (missing <?php opening tag and } and whatever follows it after the 'return')
[13:48:01] <sambauer64> it's just the function, but I have the opening and closng tags. there are multiple functions inside it
[13:48:11] *** Joins: dcpc007 (~dcpc007@91.134.115.100)
[13:49:22] <AllenJB> Declaring a function does not execute the code inside the function. You have to explicitly call the function. Compare https://3v4l.org/ngT5H with https://3v4l.org/3otYv
[13:49:36] <dcpc007> hi all, i'm trying to migratre an app to kubernetes, but i need to configure a php variable (default value not good in the official image), and seems there's no env variable for that. Any idea on how to set this variable :
[13:49:38] <dcpc007> if(!defined('MAP_SAML_USER'))
[13:49:38] <dcpc007> define('MAP_SAML_USER', false);    // Enable SAML username mapping
[13:50:34] <dcpc007> As it's an internal php variable, i don't see how i can define one to the instances.
[13:51:01] <sambauer64> AllenJB: but I call the function on product.php with $products = join_product_table($_POST['product-categorie'] ?? "");
[13:52:55] <AllenJB> sambauer64: But your AJAX request runs "sql.php". So your AJAX call does not know "product.php" exists (or what it should do with it). Each PHP request (AJAX call, link click, URL entry) is a completely new script execution that knows nothing about previous script executions.
[13:55:28] *** Joins: NakedKing (~NakedKing@user/nakedking)
[13:56:21] <sambauer64> got it now. and how do you suggest I should approach this? put the code in product.php? what would be the best practice
[13:56:28] *** Joins: LucaTM (~LucaTM@user/lucatm)
[13:59:41] *** Joins: ProfSimm (~ProfSimm@87.227.196.109)
[14:01:57] *** Quits: ThePhilgrim (~ThePhilgr@81-229-131-166-no257.tbcn.telia.com) (Ping timeout: 240 seconds)
[14:07:29] <AllenJB> I think the AJAX call is unnecessary. I would get rid of the AJAX call, put all the table filters (select dropdowns) into a single form and set the form action to "product.php" (so it posts back to itself). Whilst this causes a full page refresh, it means you only need your table code in one place. I think the AJAX is an unnecessary complication
[14:07:29] <AllenJB> here.
[14:07:36] <AllenJB> I've tried to summarize this here: https://gist.github.com/AllenJB/7e86ca12bf8fe81b7c60d33b985fe603
[14:13:57] *** Quits: DevAntoine (~DevAntoin@235.50.141.77.rev.sfr.net) (Remote host closed the connection)
[14:25:18] <sambauer64> the AJAX helped me that when typing in the searchbox to get reusults instantly. I am now trying as you recommended, thank yoy
[14:26:07] *** Joins: DevAntoine (~DevAntoin@235.50.141.77.rev.sfr.net)
[14:28:41] *** Quits: sambauer64 (~sambauer6@84.232.209.233) (Quit: Client closed)
[14:30:11] *** Joins: sambauer64 (~sambauer6@84.232.209.233)
[14:30:56] *** Quits: DevAntoine (~DevAntoin@235.50.141.77.rev.sfr.net) (Ping timeout: 252 seconds)
[14:31:22] *** Quits: DrowningElysium (sid190788@user/drowningelysium) (Quit: Connection closed for inactivity)
[14:34:56] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[14:36:12] <AllenJB> sambauer64: My philosophy is to build things as simple as possible, then enhance them later as needed. So I would build it the way I suggested above, then add / alter that to use AJAX later once I have the initial iteration working. Especially when learning new things, working in iterations like this can help you see the differences and what you
[14:36:12] <AllenJB> need to do to get to the next step.
[14:56:44] *** Joins: tercaL (~tercaL@user/tercal)
[14:59:44] *** Joins: krux02 (~krux02@p200300ca8f259100249a88ce1a623548.dip0.t-ipconnect.de)
[15:01:22] *** Joins: keypusher (~keypusher@user/keypusher)
[15:01:29] *** Joins: sbrothy (~sbrothy@23.102.41.137)
[15:07:52] <sambauer64> AllenJB: I have been able to make it work, first dropdown, i was surprised how easy it went after your advice. Thank you. Now I am adding 2nd dropdown: how should I modify $products = join_product_table($_POST['product-categorie'] ?? ""); to add product-location as well?
[15:08:41] *** Joins: keypushe- (keypusher@user/keypusher)
[15:09:35] *** Quits: keypusher (~keypusher@user/keypusher) (Ping timeout: 256 seconds)
[15:11:56] *** keypushe- is now known as keypusher
[15:12:19] <AllenJB> sambauer64: You want to pass that as the second parameter. See lines 5-8: https://gist.github.com/AllenJB/7e86ca12bf8fe81b7c60d33b985fe603 (I've added extra brackets and line returns to try to make it clearer). If you haven't already done so, you'll also need to modify the join_product_table() function to add the extra parameter
[15:17:57] <sambauer64> Allen, I have been able to find an example and it works now. However I had to discard the parameters used in SQL query because i got SQL query errors.,. and I'm back to ugly code... https://pastebin.com/SZqZFSBp
[15:19:07] <Naktibalda> sambauer64: add field to parameter array in the same place where you add condition to SQL
[15:27:15] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[15:30:29] <sambauer64> and also it seems it resets the dropdowns upon reloading the page. thus i cannot keep dropdown1 value and go to dropdown2
[15:30:47] *** Quits: guido (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f) (Quit: WeeChat 3.4)
[15:33:11] *** Joins: DevAntoine (~DevAntoin@235.50.141.77.rev.sfr.net)
[15:35:44] <AllenJB> The issue with dropdowns resetting can be fixed by modifying the code to add `selected` to the <option> element for the currently selected item (which you get from $_POST['product-categorie'] etc)
[15:36:31] *** Quits: binary01 (~binary01@cpe-74-71-15-170.nyc.res.rr.com) (Read error: Connection reset by peer)
[15:38:07] <sambauer64> i am so noob i have to read at least 3 times to understand. I have undersand now. thank you
[15:38:23] <sambauer64> do you have any example on how to do that?
[15:39:13] <stenno> how did you end up getting the task you are currently doing, sambauer64 ?
[15:40:39] <sambauer64> I started to do some codecademy tuorials but i could not learn much so I wanted to create a simple inventory for myself. and it quickly grew with features and all (image, multiple categories, multiple locations)
[15:41:33] <sambauer64> and by each day I find a new feature I might need. For example now I want to mark products in the DB as deleted but not delete them at all, so I can have a list of previous products
[15:43:34] *** Joins: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr)
[15:43:39] <sambauer64> stenno: why, you were thinking I am being forced by boss to do it?
[15:43:40] <sambauer64> :))
[15:43:50] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Ping timeout: 268 seconds)
[15:43:55] <stenno> i was just wondering because you keep asking very basic questions
[15:44:27] <stenno> oh AllenJB already said what i wanted to say
[15:44:50] <sambauer64> yea, i have very limited skills. but learning
[15:45:21] <AllenJB> sambauer64: You've already used conditional ifs to modify code based on $_POST values, so how about you try to fix the selects yourself, then come back with what you have if you get stuck
[15:47:26] <sambauer64> ok, brb
[15:50:18] *** Joins: guido (~guido@host-79-42-250-104.retail.telecomitalia.it)
[15:52:22] <AllenJB> It may help you to write out (using comments) what you want to do, breaking larger tasks down into multiple steps. Then write out the code that does that. Also think about where you already have code (or have seen code) that does something similar to what you want to do.
[15:52:42] *** Joins: pmercado (~pmercado@181.42.43.153)
[15:53:18] *** Joins: Pixi_ (~Pixi@user/pixi)
[15:55:06] <AllenJB> Some people may say writing "too obvious" comments is bad, but while it can "make code messy" (and the comments become inaccurate over time), I think it can help you to think through what you want to do / what your code is doing, especially when starting out. You can always delete the comments later if you want to.
[15:55:25] *** Quits: Pixi (~Pixi@user/pixi) (Ping timeout: 240 seconds)
[15:57:45] *** Quits: Pixi_ (~Pixi@user/pixi) (Ping timeout: 256 seconds)
[15:58:09] *** Joins: luigibu (~luigi@11.red-79-159-71.dynamicip.rima-tde.net)
[16:00:22] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[16:06:57] <Naktibalda> if you start by outlining the code in comments, it is often possible to replace comments with function calls to functions named according to comments
[16:09:47] <stenno> the only argument against excessive commenting would be that it might lead to messy git diffs
[16:10:20] <Naktibalda> I have never seen or heard that one
[16:10:51] <stenno> well the argument would be similar to why you should add dangling commas
[16:11:06] <stenno> but i have to admit it is a bit contrived
[16:11:34] <stenno> -a bit, it is contrived, i was looking for any argument against excessive commenting
[16:13:53] <stenno> also commenting out a code block which already has a multiline comment will lead to mess
[16:15:08] <biberu> sounds like AllenJB meant something more like pseudocode than comments on the final result?
[16:17:24] <biberu> those steps should probably be cleaned up before pr / review too, shouldn't be an issue there
[16:18:52] <NakedKing> Hi. $post->comments()->get('id');   returns [{"id":2}]  , how can i replace with just 2  ?
[16:19:31] <stenno> $post->comments()->get('id')['id'] ?
[16:19:44] <Naktibalda> missed [0]
[16:19:50] <stenno> oof right
[16:20:16] <Naktibalda> unless it is JSON string, then you have to json_decode it first
[16:20:53] <biberu> that's an interesting interface
[16:21:12] <Naktibalda> yes, you should read documentation of get method
[16:21:25] <biberu> why is it returning all of that when you're asking for something called "id"?
[16:21:42] <NakedKing> $comId = $post->comments()->get('id');   and  $comId['id']; it not worked.     Undefined array key "id"
[16:21:48] <Naktibalda> my guess is that parameter is a field list for SELECT
[16:22:32] <Naktibalda> NakedKing: I think that your method returns array containing ids of all comments, it just happens that you have a single comment
[16:23:44] *** Quits: ProfSimm (~ProfSimm@87.227.196.109) (Remote host closed the connection)
[16:26:08] <da_wunder> I also think that is returning all comment ids, but you could easily check that just by `var_dump($comId);` - also it would help if you describe what you're trying to do
[16:26:51] <da_wunder> and if that is returning an array of comment ids - do you really want to just something to first of those OR should you do something else?
[16:28:35] <NakedKing> i did mistake, it returns on json format
[16:29:13] <Naktibalda> why do you store json in id field?
[16:30:26] <da_wunder> and still json like `[{"id":2}]` is an array
[16:30:27] <NakedKing> i'm using laravel framework. I need to call current command id and write it to database.
[16:30:49] <NakedKing> and yes da_wunder         $comId = $post->comments()->get('id');         $array = json_decode($comId, true);         echo $array['id'];   still not worked. need to check more
[16:31:03] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[16:31:21] <NakedKing> but it shows corrent command id on here. [{"id":2}]  2 is okay. why i cant get this
[16:31:21] <da_wunder> NakedKing: because it's an array...
[16:31:30] <Naktibalda> [0]['id']
[16:31:41] <da_wunder> echo $array[0]['id'];
[16:31:46] <biberu> that's still a really odd thing for the caller to have to worry about
[16:32:34] <NakedKing> thanks you dear people. it worked
[16:32:39] <biberu> *why* is it returning json?
[16:33:02] <biberu> you aren't support to beat code into submission, it should make sense
[16:33:05] <da_wunder> and you really should think what happens if there is more than _one_ comment id
[16:33:32] <biberu> lots of things can "work" without being "right"
[16:34:17] <da_wunder> NakedKing: eg. what if your json is this - https://3v4l.org/aN1Yb - what you should so then?
[16:34:45] <NakedKing> [0][1]['id] ?
[16:34:51] <da_wunder> no...
[16:35:13] <da_wunder> now you have TWO id values - what you should do with those?
[16:35:45] <NakedKing> idont know
[16:36:22] <da_wunder> you don't know what you're trying to implement? that sounds really weird...
[16:45:33] *** Joins: epolanski (uid312403@id-312403.helmsley.irccloud.com)
[16:50:29] <NakedKing> da_wunder, can i expode arrays? I'm asking about your question.
[16:50:55] <NakedKing> i need to catch which array interests my logic
[16:51:33] <Naktibalda> NakedKing: probably you should use foreach() and do something with all returned ids
[16:51:57] <NakedKing> btw @da_wunder is right. my logic failed. there are another id array
[16:53:48] <da_wunder> NakedKing: it's an array you could iterate that
[16:55:25] <da_wunder> something simple like - https://3v4l.org/PK514
[16:57:30] *** Quits: luigibu (~luigi@11.red-79-159-71.dynamicip.rima-tde.net) (Quit: WeeChat 3.4)
[17:12:17] *** Quits: guenhael (~Thunderbi@arennes-655-1-140-85.w90-32.abo.wanadoo.fr) (Remote host closed the connection)
[17:22:34] *** Quits: DevAntoine (~DevAntoin@235.50.141.77.rev.sfr.net) (Remote host closed the connection)
[17:29:35] *** Joins: DaNeenjah (~jake@adsl-74-230-8-166.hsv.bellsouth.net)
[17:32:33] *** Joins: DevAntoine (~DevAntoin@235.50.141.77.rev.sfr.net)
[17:37:17] *** Quits: DevAntoine (~DevAntoin@235.50.141.77.rev.sfr.net) (Ping timeout: 268 seconds)
[17:39:24] *** Joins: nucc1 (~nucc1@user/nucc1)
[17:49:57] *** Quits: dcpc007 (~dcpc007@91.134.115.100) (Ping timeout: 240 seconds)
[18:03:48] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[18:06:03] *** Joins: jetchisel (~jetchisel@user/jetchisel)
[18:07:54] *** Quits: jetchisel (~jetchisel@user/jetchisel) (Client Quit)
[18:11:56] *** Quits: krux02 (~krux02@p200300ca8f259100249a88ce1a623548.dip0.t-ipconnect.de) (Remote host closed the connection)
[18:31:11] *** Quits: sambauer64 (~sambauer6@84.232.209.233) (Ping timeout: 256 seconds)
[18:36:12] *** Joins: MrBlue (~stephan@24.114.94.228)
[18:37:20] *** Quits: MrBlue (~stephan@24.114.94.228) (Client Quit)
[18:43:24] *** Joins: ms49434 (~ms49434@user/ms49434)
[18:45:35] *** Joins: ge (~g@37.214.57.116)
[18:47:12] *** Joins: sambauer64 (~sambauer@84.232.209.233)
[18:50:33] *** Quits: tercaL (~tercaL@user/tercal) (Quit: enter the Tekken!)
[19:01:25] *** Joins: tercaL (~tercaL@user/tercal)
[19:14:15] *** Joins: MrBlue (~stephan@24.114.94.228)
[19:23:25] <__adrian> "NakedKing> i need to catch which array interests my logic"  // these arrays look like they came from a database query - is this correct?
[19:26:58] *** Joins: bandit_za (~bandit@185.195.232.173)
[19:27:25] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 240 seconds)
[19:32:24] *** Joins: Pixi (~Pixi@user/pixi)
[19:38:35] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[19:41:22] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[19:52:55] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 256 seconds)
[19:54:35] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[20:00:02] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 240 seconds)
[20:01:17] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[20:01:20] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Read error: Connection reset by peer)
[20:02:50] *** FloridaMan is now known as LittleFloridaBoy
[20:02:57] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[20:06:52] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Quit: bye)
[20:10:01] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[20:10:24] *** Joins: chazy (~chazy@2a0c:5a84:d102:5200:1ac0:4dff:fe96:16ad)
[20:10:48] <chazy> hello
[20:11:21] <chazy> given a list of percentages (ints), what'd be a way of calculating which one gets picked up?
[20:11:49] <chazy> for example: 5 items, each with a percentage, how do i calculate which one gets picked up?
[20:12:20] <chazy> can someone please guide me here?
[20:14:16] <__adrian> what do you mean, "picked up"?
[20:14:44] <chazy> i guess the term would be RNG used in games
[20:15:13] <chazy> the items have a chance to be.. uhmm. picked up?
[20:16:07] <chazy> like randomly selecting an item but giving priority to some, and less priority to others
[20:18:40] *** Joins: Rockwood (~Rocky@user/rocky)
[20:19:46] *** Joins: stenno (~stenno@user/stenno)
[20:20:05] *** Quits: sambauer64 (~sambauer@84.232.209.233) (Ping timeout: 268 seconds)
[20:21:19] <__adrian> "weighted" is the term you're looking for
[20:28:37] <Rockwood> __adrian, hi how are you sir?
[20:30:47] <__adrian> basically, you sum the weights and pick a random number from that. then you iterate the array and start adding up weights until you get a total that is greater than the random weight, and that's your element
[20:30:51] <__adrian> hi
[20:31:15] *** Quits: montybanksnyc (~montybank@pool-108-5-238-57.nwrknj.fios.verizon.net) (Read error: Connection reset by peer)
[20:31:30] <Rockwood> __adrian, only token is the way for it?
[20:31:51] *** Joins: montybanksnyc (~montybank@pool-108-5-238-57.nwrknj.fios.verizon.net)
[20:32:10] <Rockwood> is token reliable thing for confirmation
[20:32:13] *** Quits: montybanksnyc (~montybank@pool-108-5-238-57.nwrknj.fios.verizon.net) (Read error: Connection reset by peer)
[20:32:13] <Rockwood> ??
[20:32:25] <__adrian> no, but from conversation last night it seems that's the way you're already doing it
[20:32:39] *** Joins: montybanksnyc (~montybank@pool-108-5-238-57.nwrknj.fios.verizon.net)
[20:32:44] *** Quits: luva (~luva@37.120.197.44) (Quit: Ping timeout (120 seconds))
[20:33:29] <Rockwood> really
[20:33:37] <Rockwood> i don't want use token stuff
[20:34:05] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[20:34:11] <Rockwood> its complicated and most devs denied to use of that
[20:34:47] <Rockwood> every and mostly suggested server session info
[20:35:29] *** Joins: luva (~luva@37.120.197.44)
[20:35:42] <Rockwood> i wanna do like JS obey the backend rules
[20:37:11] <Rockwood> that why i am trying to fetch session info for it
[20:52:37] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 240 seconds)
[20:53:52] *** Quits: nucc1 (~nucc1@user/nucc1) (Quit: Textual IRC Client: www.textualapp.com)
[20:57:15] *** Joins: infernix (nix@spirit.infernix.net)
[20:57:17] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 240 seconds)
[20:58:20] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[21:01:27] <sbrothy> I'm somewhat new to php an stumbled ovre this expression in the code for phpBB: "$json_response = new \phpbb\json_response();". What's with the backslashes in there? Is this a php language thingy, specific to phpBB, or somethnig else entirely?
[21:02:57] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 240 seconds)
[21:05:38] *** Joins: The_Jag (~The_Jag@host-80-117-63-69.retail.telecomitalia.it)
[21:08:26] <AllenJB> The code `\phpbb\json_response()` calls the json_response() function that resides in the phpbb namespace. For more on namespaces see: https://www.php.net/namespaces
[21:09:42] <sbrothy> thx
[21:12:10] <AllenJB> You may also want to read up on autoloading and Composer / composer.json as these features are often used in conjunction with namespaces. Composer is the defacto standard PHP package manager that also provides several standard autoloader patterns / algorithms, allowing you to add your own autoloaded namespaces / code via composer.json
[21:26:26] <__adrian> Rockwood: using an api token is very common and standardized. it simplifies things _a lot_.
[21:26:59] <__adrian> plus it appears your framework is already doing it.
[21:27:35] *** Joins: Rockwood_ (~Rocky@user/rocky)
[21:30:23] *** Quits: Rockwood (~Rocky@user/rocky) (Ping timeout: 256 seconds)
[21:34:19] *** Quits: pmercado (~pmercado@181.42.43.153) (Read error: Connection reset by peer)
[21:37:34] *** Joins: pmercado (~pmercado@190.22.161.169)
[21:41:25] *** Quits: The_Jag (~The_Jag@host-80-117-63-69.retail.telecomitalia.it) (Quit: The_Jag)
[21:41:57] <sbrothy> AllenJB: again thx. I added it to my notepad here.
[21:42:05] <sbrothy> on the todo list
[21:42:31] <sbrothy> "I'd be happy to deal with my problems one at a time if they would only line up!" :)
[21:52:59] *** Joins: pmercado_ (~pmercado@190.22.161.169)
[21:53:12] *** Quits: pmercado (~pmercado@190.22.161.169) (Ping timeout: 268 seconds)
[21:56:17] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[21:56:54] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[22:03:09] *** Joins: Rockwood (~Rocky@user/rocky)
[22:04:55] *** Quits: Rockwood_ (~Rocky@user/rocky) (Ping timeout: 268 seconds)
[22:05:56] <Nekomander> Rockwood, https://paste.gg/p/anonymous/10ebe136850441d885e1c408ae2ea229
[22:06:27] <Nekomander> I thought you've figured out what to do with authentication. Why are you still stuck on this same problem?
[22:07:30] *** Joins: lall- (~alek@2403:6200:8862:eb0e:79b9:192:d0c9:43a5)
[22:08:18] <Rockwood> actually i am very confuse by laravel stuff
[22:08:25] *** Quits: epolanski (uid312403@id-312403.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[22:08:44] *** Quits: RonWhoCares (~ronpi@104.158.0.91) (Quit: Konversation terminated!)
[22:09:39] <Rockwood> Nekomander, that is not inbuilt stuff of laravel
[22:09:48] <Rockwood> they are adding it
[22:10:02] <Rockwood> means have add those libs
[22:12:45] <Rockwood> Nekomander, jwt and passport token type are not recommended
[22:13:04] <Rockwood> i readout many articles about it
[22:13:18] <Rockwood> truly i am very confuse about it
[22:14:25] <lall-> there are drawbacks to it.
[22:15:46] *** Quits: NakedKing (~NakedKing@user/nakedking) (Quit: Leaving)
[22:15:51] *** Joins: DevAntoine (~DevAntoin@2a01cb0d804099dcbda43fe2046f4d8a.ipv6.abo.wanadoo.fr)
[22:17:59] <lall-> the only thing that wouldn't have any drawbacks i reckon is a laser thingie that zaps mozzies.
[22:19:07] <Nekomander> Rockwood, have you looked into sanctum?
[22:19:08] *** Quits: DevAntoine (~DevAntoin@2a01cb0d804099dcbda43fe2046f4d8a.ipv6.abo.wanadoo.fr) (Remote host closed the connection)
[22:19:43] *** Joins: DevAntoine (~DevAntoin@2a01cb0d804099dcbda43fe2046f4d8a.ipv6.abo.wanadoo.fr)
[22:20:04] <lall-> it's a death metal band?
[22:20:28] <Rockwood> all of em doing similar
[22:21:01] <Nekomander> https://laravel.com/docs/8.x/sanctum
[22:22:41] <Rockwood> Nekomander, how i go with ky?
[22:22:55] <Rockwood> for each request
[22:22:56] <Nekomander> Rockwood, it tells you how to.
[22:23:21] <Nekomander> There is some javascript code for authenticating.
[22:23:44] <Rockwood> ['auth:sanctum', 'abilities:check-status,place-orders']
[22:24:32] *** Quits: DevAntoine (~DevAntoin@2a01cb0d804099dcbda43fe2046f4d8a.ipv6.abo.wanadoo.fr) (Ping timeout: 240 seconds)
[22:25:38] <Nekomander> Read the whole article.
[22:25:38] <Rockwood> Nekomander, https://laravel.com/docs/8.x/sanctum#spa-authentication am right?
[22:26:08] <Rockwood> Sanctum uses Laravel's built-in cookie based session authentication services.  wow
[22:26:18] <Rockwood> i need this yeah
[22:34:04] *** Joins: ferdna (~ferdna@user/ferdna)
[22:41:30] <Rockwood> Class App\Model\Jail located in ./app/Models/Jail.php does not comply with psr-4 autoloading standard. Skipping. i am getting this
[22:43:45] <Rockwood> good night cya
[22:43:49] <Rockwood> Nekomander, thanks
[22:43:56] <Rockwood> __adrian, thanks sir
[22:44:05] <Rockwood> i will back at morning
[22:44:06] <Rockwood> cya
[22:44:09] <Rockwood> tc all
[22:44:18] <Rockwood> marry Xmas
[22:44:22] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[22:56:32] *** Joins: Smeef (~deathonat@user/smeef)
[23:00:26] *** Quits: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net) (Quit: Leaving)
[23:00:42] *** Joins: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net)
[23:00:48] *** Joins: DevAntoine (~DevAntoin@2a01cb0d804099dcbda43fe2046f4d8a.ipv6.abo.wanadoo.fr)
[23:09:41] *** Quits: DevAntoine (~DevAntoin@2a01cb0d804099dcbda43fe2046f4d8a.ipv6.abo.wanadoo.fr) (Ping timeout: 268 seconds)
[23:18:16] *** Joins: HvszrStykp (~X@81.171.62.82)
[23:21:16] <HvszrStykp> Trying to figure out a strange bug where I have something like: function f () { $x = ...; echo "Returning $x\n"; return $x; }, and then later on I call f() and the return value is empty.
[23:21:29] *** Joins: junktext__ (~junktext@gateway/vpn/pia/junktext)
[23:21:43] <HvszrStykp> Even though I have the output "Returning 5" or whatever. Is there some kind of Gotcha that I'm maybe missing here?
[23:22:17] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[23:22:49] <HvszrStykp> The weird thing is that I call f() many times (as part of a large iteration) and most of the time it returns the value I expect, but in certain cases it returns empty, even though my echo says otherwise. And I can't figure out what separates these cases from the others.
[23:22:59] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[23:23:32] <HvszrStykp> Could it have anything to do with references? as far as I know I'm not using them
[23:23:36] <lall-> $x wasn't assigned. and since you didn't bother explaining $x == ? well... can't help you
[23:25:01] <HvszrStykp> In this case, according to my echo statement $x is set to be an integer (or a string that looks like an integer- not sure what it is exactly)
[23:25:06] <Blondie101010> HvszrStykp:  show a complete example on https://3v4l.org
[23:25:18] <HvszrStykp> Alright I'll try, it's sort of mixed together
[23:25:39] <Blondie101010> I agree with lall- that the code shown doesn't do what you're describing
[23:25:55] <da_wunder> please make example to 3v4l.org site of your problem
[23:27:10] <__adrian> HvszrStykp: un-tangling it enough to show the problem is a big part of problem-solving  ;)
[23:27:24] <__adrian> making an example often shows you the solution
[23:27:33] <da_wunder> ^
[23:27:57] <HvszrStykp> Are you talking about a test case or just a fuller elaboration of the code?
[23:28:07] <Blondie101010> simpler
[23:28:12] <Blondie101010> for yourself, and helpers
[23:28:17] <da_wunder> show us the problem that you're having
[23:28:32] <__adrian> smallest possible test case that shows the problem you're having.
[23:28:47] <HvszrStykp> Here is a fuller description: https://3v4l.org/XbuTT
[23:28:50] <Blondie101010> HvszrStykp:  don't get concerned if you can't reproduce it in a simpler case, then you should look for the difference
[23:28:56] <__adrian> start with code that shows the problem and start deleting things that don't matter
[23:29:08] <Blondie101010> HvszrStykp:  that returns the right thing
[23:29:08] <HvszrStykp> Here there is a function get_year which does some computation to return a year, but I just substituted '2000' there
[23:29:23] <__adrian> is that the function you're asking about?
[23:29:39] <HvszrStykp> Alright, so you want a test case ?
[23:29:48] <__adrian> yep. always helps
[23:30:09] <da_wunder> I don't see the problem with that 3v4l.org example
[23:30:11] <HvszrStykp> But there's nothing obvious that could be going on right?
[23:30:13] <HvszrStykp> Alright
[23:30:24] <Blondie101010> so the problem is something else
[23:30:31] <HvszrStykp> indeed
[23:30:32] <Blondie101010> you're overfocusing on the wrong thing
[23:30:55] <Blondie101010> add a bunch of traces
[23:32:11] <HvszrStykp> I'm just not sure what to add without going for a full test case. What's happening for me is that the echo statement outputs what I expect, but then $year is 'empty' (haven't checked yet what kind of empty, but it doesn't say anything about uninitialized value)
[23:32:21] <HvszrStykp> I can try to narrow it down to a test case though.
[23:32:41] <__adrian> don't add. start with the code that actually has the problem, and then minimize it.
[23:32:52] <Blondie101010> HvszrStykp: show that full function
[23:32:58] <__adrian> and yeah, you def need to find out "what kind of empty"
[23:41:29] *** Quits: pmercado_ (~pmercado@190.22.161.169) (Quit: Konversation terminated!)
[23:44:57] <HvszrStykp> Found it, I was missing a return statement in the recursive call to the function. Too much Perl i guess
[23:45:57] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[23:46:04] <__adrian> sweet
[23:46:23] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
