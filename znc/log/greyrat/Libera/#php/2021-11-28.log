[00:06:23] *** Joins: Warped (~Warped@user/warped)
[00:15:11] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[00:21:18] *** justache is now known as justBOOMER
[00:25:11] *** Quits: TernaryOperator (~dev@li272-228.members.linode.com) (Quit: WeeChat 0.3.7)
[00:43:11] *** Quits: ThePhilgrim (~ThePhilgr@151.41.185.44) (Ping timeout: 268 seconds)
[00:45:06] *** Quits: entropy_ (~ent@user/entropy/x-9891564) (Ping timeout: 260 seconds)
[00:46:50] *** Joins: guenhael (~Thunderbi@aaubervilliers-652-1-290-168.w82-121.abo.wanadoo.fr)
[00:49:54] *** Joins: physikoi (~physikoi@user/physikoi)
[00:50:46] <physikoi> Hey #php. Has anyone else on Monterery run an issue with apache php module getting blocked by the OS?
[00:51:37] <physikoi> oh, maybe that's why i cant get http://trac.edgewall.org/ to load
[00:51:42] <physikoi> oops wrong window
[01:01:29] *** Quits: guido (~guido@host-79-36-249-184.retail.telecomitalia.it) (Quit: WeeChat 3.3)
[01:03:14] *** Quits: physikoi (~physikoi@user/physikoi) (Ping timeout: 256 seconds)
[01:09:21] *** Joins: ThePhilgrim (~ThePhilgr@151.41.185.44)
[01:15:55] *** Quits: genom (~g@37.214.82.242) (Remote host closed the connection)
[01:17:05] *** Joins: deksar (~deksar@user/deksar)
[01:22:40] *** Joins: physikoi (~physikoi@user/physikoi)
[01:23:17] *** Joins: CyberCr33p (~chris@bnc.cretaforce.gr)
[01:28:44] *** Joins: brentaarnold (~brentaarn@32.132.115.46)
[01:37:14] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[01:37:34] *** Quits: physikoi (~physikoi@user/physikoi) (Quit: leaving)
[02:02:44] *** Quits: deksar (~deksar@user/deksar) (Ping timeout: 268 seconds)
[02:11:48] *** Quits: tabakhase (~tabakhase@user/tabakhase) (Ping timeout: 256 seconds)
[02:14:26] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[02:22:54] *** Joins: L555BAT (~weechat@79-69-116-183.dynamic.dsl.as9105.com)
[02:27:34] *** Joins: tabakhase (~tabakhase@user/tabakhase)
[02:29:02] *** Quits: jargon (~jargon@184.101.74.220) (Ping timeout: 240 seconds)
[02:30:57] *** Quits: magla (~gelignite@55d49b41.access.ecotel.net) (Quit: Stay safe!)
[02:32:18] *** Joins: jargon (~jargon@184.101.217.201)
[02:39:53] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Quit: Leaving.)
[02:55:50] *** Joins: luigibu1 (~luigibu@80.30.201.209)
[02:57:23] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[02:58:46] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[03:03:56] *** Quits: luigibu1 (~luigibu@80.30.201.209) (Ping timeout: 256 seconds)
[03:11:52] *** Joins: WishBoy (~WishBoy@user/wishboy)
[03:14:22] *** Quits: ThePhilgrim (~ThePhilgr@151.41.185.44) (Quit: ThePhilgrim)
[03:18:52] *** Joins: KillerWasp (KillerWasp@user/killerwasp)
[03:18:54] <KillerWasp> hello
[03:19:44] <KillerWasp> If I want to search for pre-built packages like phpbb or wordpress, what should I look for? I'm looking for another type but I can't think of anything.
[03:20:34] <KillerWasp> it's for study the code. phpbb and wordpress is very heavy for it.
[03:20:53] <KillerWasp> and this two is all that i know.
[03:23:16] *** Quits: tex (~super@user/dix) (Ping timeout: 245 seconds)
[03:23:49] <__adrian> don't use phpbb or wp as a model for learning how to write php code  ;)
[03:24:14] <__adrian> there's not a single place to look for code. packagist.org is a good place to start though.
[03:25:51] <KillerWasp> __adrianᐒ thanks
[03:26:43] <__adrian> np
[03:27:44] *** Quits: Northwoods (~Northwood@202.14.122.53) (Ping timeout: 256 seconds)
[03:32:25] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Quit: Leaving.)
[03:37:35] *** Quits: L555BAT (~weechat@79-69-116-183.dynamic.dsl.as9105.com) (Quit: WeeChat 3.3)
[03:55:57] *** Joins: Northwoods (~Northwood@202.14.122.53)
[04:03:07] *** Quits: onichomp (~onichomp@2806:264:4404:80b7:39b5:1fff:b620:146d) (Read error: Connection reset by peer)
[04:03:45] *** Joins: onichomp (~onichomp@2806:264:4404:80b7:68f8:d4df:964e:ba0)
[04:06:57] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[04:07:43] <jargon> I think I have to start out with a transparent canvas, but I am not sure how to do that with an palette where 255 is transparent.
[04:08:56] <jargon> (Yes, I just woke up and had some Ramen.)
[04:18:05] <relipse> how do I get the authorization headers?
[04:18:10] <relipse> i'm trying to accept a bearer token
[04:18:38] <__adrian> from $_SERVER
[04:18:55] <__adrian>  $_SERVER["HTTP_AUHTORIZATION"]
[04:19:04] <__adrian> but spelled correctly, of course
[04:19:06] *** Quits: vit (~vit@chello085216193138.chello.sk) (Ping timeout: 245 seconds)
[04:20:05] *** Quits: Icedream (~icedream@144.76.223.175) (Quit: A lol made me boom.)
[04:21:39] *** Joins: Icedream (~icedream@144.76.223.175)
[04:34:04] *** Quits: ms49434 (~ms49434@user/ms49434) (Quit: Leaving)
[04:36:39] *** Joins: ferdna (~ferdna@user/ferdna)
[04:37:47] *** Parts: KillerWasp (KillerWasp@user/killerwasp) (YOU KIDDING ME?? YOU KIDDING MEEE???? (PC drinking beer) *kernel panic!*)
[04:38:07] *** Joins: pmercado (~pmercado@186.107.60.77)
[04:39:55] *** Joins: Alex123 (~Adium@21.sub-174-193-210.myvzw.com)
[04:48:36] *** Quits: Alex123 (~Adium@21.sub-174-193-210.myvzw.com) (Quit: Leaving.)
[05:05:59] *** Joins: Alex123 (~Adium@21.sub-174-193-210.myvzw.com)
[05:09:05] *** Quits: pmercado (~pmercado@186.107.60.77) (Quit: Konversation terminated!)
[05:20:37] *** Quits: Alex123 (~Adium@21.sub-174-193-210.myvzw.com) (Quit: Leaving.)
[05:22:33] *** Quits: mishehu (~mishehu@mira001.eyepeeveesicks.shavedgoats.net) (Ping timeout: 268 seconds)
[05:24:03] *** Joins: Alex123 (~Adium@21.sub-174-193-210.myvzw.com)
[05:25:30] *** Joins: luigibu1 (~luigibu@80.30.201.209)
[05:29:22] *** Joins: mishehu (~mishehu@mira001.eyepeeveesicks.shavedgoats.net)
[05:30:05] *** Quits: luigibu1 (~luigibu@80.30.201.209) (Ping timeout: 256 seconds)
[05:31:22] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:34:04] *** Quits: Alex123 (~Adium@21.sub-174-193-210.myvzw.com) (Quit: Leaving.)
[05:48:13] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[06:03:19] *** Joins: Rockwood (~Rocky@user/rocky)
[06:03:57] *** Joins: Rockwood_ (~Rocky@user/rocky)
[06:08:03] *** Quits: Rockwood (~Rocky@user/rocky) (Ping timeout: 256 seconds)
[06:42:45] *** Quits: stan_man_can (~stanley@d66-183-88-69.bchsia.telus.net) (Quit: ZNC - https://znc.in)
[06:43:09] *** Joins: Stanley (~stanley@d66-183-88-69.bchsia.telus.net)
[07:06:23] *** Quits: guenhael (~Thunderbi@aaubervilliers-652-1-290-168.w82-121.abo.wanadoo.fr) (Ping timeout: 250 seconds)
[07:40:34] *** Quits: jaykelly450 (~vagrant@c-73-82-49-38.hsd1.ga.comcast.net) (Quit: WeeChat 3.2)
[07:48:07] *** Joins: carlino3 (~carlino3@user/carlino3)
[07:53:56] <__adrian> wow  ...$i  works like iterator_to_array($i, false)
[07:54:00] <__adrian> why did i not know this
[07:54:56] <__adrian> rather, [...$i]
[07:55:12] <carlino3> hi
[07:56:09] <__adrian> this is fantastic. i hate typing  iterator_to_array
[07:57:13] *** Joins: luigibu1 (~luigibu@80.30.201.209)
[08:02:00] *** Quits: luigibu1 (~luigibu@80.30.201.209) (Ping timeout: 256 seconds)
[08:14:05] <Rockwood_> __adrian, hi how are you sir? in which version?
[08:19:07] <__adrian> now
[08:19:10] <__adrian> 7.4
[08:21:12] <Rockwood_> you are updated new version
[08:21:34] *** Rockwood_ is now known as Rockwood
[08:24:13] <__adrian> i'm playing with it. nothing i work on is using it yet though.
[08:24:23] <__adrian> in production, i mean
[08:30:10] *** justBOOMER is now known as justache
[08:44:16] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[09:12:17] <jargon> sup, adrian? :D
[09:12:39] <jargon> I wasn't able to ask Rockwood if he wanted to test my game. :D
[09:14:22] <ham5> I have two identical pages(pretty much).. they are in different directories, load some images in that dir and have 1 different $_SESSION variable and <title>.. whats the easy way to just have 1 page to maintain but can be ine separate dirs?
[09:19:02] <carlino3> ham5 not clear
[09:23:32] <ham5> hum..I have an index page, can I pass its dir to another php page and that php runs like it was in the dir
[09:32:34] <skyroveRR> ham5: do you want a php file that is in dir 1 to run as if it's in dir 2?
[09:33:02] <ham5> yes
[09:33:22] <skyroveRR> Why not just put that php file in dir 2?
[09:33:42] <ham5> when I make changes to it I dont want to edit 2 files
[09:34:00] <ham5> I thought there might be an easy option
[09:36:15] <skyroveRR> ham5: then just put the php file in dir 2, and symlink it to dir 1.
[09:41:41] <ham5> that didn't work it runs from dir 1, I need it to realize it's in dir 2
[09:42:11] <ham5> well
[09:43:01] <ham5> thanks close enought ill play with it
[09:43:06] <carlino3> ham5 still not fully understanding the problem. could you show a testcase?
[09:45:19] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[09:45:20] *** Quits: Albright (~Albright@2001:19f0:8001:ca4:683d:c166:e848:5a1f) (Quit: ZNC 1.8.2 - https://znc.in)
[09:45:33] *** Joins: Albright (~Albright@149.28.13.173)
[09:45:45] <ham5> __FILE__ was giving dir1 in both files but PHP_SELF works, thanks again
[09:54:39] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[10:01:01] *** Quits: carlino3 (~carlino3@user/carlino3) (Quit: Client closed)
[10:08:21] *** Joins: guido (~guido@host-79-36-249-184.retail.telecomitalia.it)
[10:30:15] *** Joins: hh (~g@37.214.82.242)
[10:42:43] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[10:47:08] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[10:56:20] *** Joins: luigibu1 (~luigibu@80.30.201.209)
[11:04:25] *** Quits: luigibu1 (~luigibu@80.30.201.209) (Ping timeout: 256 seconds)
[11:06:51] *** Quits: Northwoods (~Northwood@202.14.122.53) (Read error: Connection reset by peer)
[11:10:55] *** Quits: Togra (~Togra@user/togra) (Remote host closed the connection)
[11:11:41] *** Joins: Togra (~Togra@user/togra)
[11:31:56] *** Quits: jetchisel (~jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[11:34:31] *** Quits: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 245 seconds)
[11:36:26] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[11:44:11] *** Joins: tex (~super@user/dix)
[11:56:35] *** Joins: onichomp666 (~onichomp@177.231.43.15)
[11:58:27] *** Quits: onichomp (~onichomp@2806:264:4404:80b7:68f8:d4df:964e:ba0) (Ping timeout: 268 seconds)
[12:01:02] *** Joins: vit (~vit@chello085216193138.chello.sk)
[12:02:01] *** Quits: vit (~vit@chello085216193138.chello.sk) (Client Quit)
[12:04:38] *** Joins: jetchisel (jetchisel@user/jetchisel)
[12:06:05] *** Joins: Northwoods (~Northwood@202.14.122.53)
[12:13:00] *** Joins: bandit_za (~bandit@102-65-138-35.dsl.web.africa)
[12:26:37] *** Joins: luigibu1 (~luigibu@80.30.201.209)
[12:32:47] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Quit: Leaving.)
[12:35:42] *** Quits: luigibu1 (~luigibu@80.30.201.209) (Ping timeout: 256 seconds)
[12:41:47] *** Quits: Miles8of9 (~obrien@93-34-146-223.ip50.fastwebnet.it) (Quit: Leaving)
[12:42:50] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 260 seconds)
[12:46:25] *** Quits: Northwoods (~Northwood@202.14.122.53) (Ping timeout: 256 seconds)
[12:54:36] *** Quits: bandit_za (~bandit@102-65-138-35.dsl.web.africa) (Ping timeout: 265 seconds)
[12:59:18] *** Joins: Miles8of9 (~obrien@93-34-146-223.ip50.fastwebnet.it)
[13:16:37] *** Joins: stenno (~stenno@user/stenno)
[14:11:11] *** Joins: LucaTM (~LucaTM@user/lucatm)
[14:19:33] *** Joins: magla (~gelignite@55d4f645.access.ecotel.net)
[14:34:29] *** Joins: noord (~noord@user/noord)
[14:42:12] *** Joins: guenhael (~Thunderbi@2a01cb008c3d5800018c2bbe0a122bce.ipv6.abo.wanadoo.fr)
[15:10:50] *** Quits: Phil-Work (~phil@62.3.100.20) (Ping timeout: 268 seconds)
[15:11:59] *** Joins: mr_gant (~mr_gant@203-206-182-122.perm.iinet.net.au)
[15:25:47] *** Joins: luigibu1 (~luigibu@80.30.201.209)
[15:26:36] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 245 seconds)
[15:28:41] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[15:35:54] *** Quits: luigibu1 (~luigibu@80.30.201.209) (Ping timeout: 256 seconds)
[15:36:37] *** Quits: remolej (~kenoba@user/kenoba) (Quit: The Lounge - https://thelounge.chat)
[15:37:26] *** Joins: remolej (~kenoba@user/kenoba)
[16:32:43] *** Joins: betuxy (~betuxy@p579ad707.dip0.t-ipconnect.de)
[16:34:32] *** Quits: jargon (~jargon@184.101.217.201) (Ping timeout: 240 seconds)
[16:41:18] <betuxy> Hey guys Im trying to setup a php-fpm server, but it crashes saying forking not possible, im not sure whats going wrong i gathered some infos about configs as well as the log: https://termbin.com/6jby
[16:42:43] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 268 seconds)
[16:42:45] <betuxy> the path in www.conf got cut off somehow but was left to standard by me
[16:45:36] *** Quits: betuxy (~betuxy@p579ad707.dip0.t-ipconnect.de) (Remote host closed the connection)
[16:45:51] *** Joins: betuxy (~betuxy@p579ad707.dip0.t-ipconnect.de)
[16:47:54] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[16:52:01] *** Quits: tex (~super@user/dix) (Remote host closed the connection)
[16:52:11] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[16:56:33] *** Joins: ThePhilgrim (~ThePhilgr@151.41.185.44)
[16:56:34] *** Joins: tex (~super@user/dix)
[17:06:06] *** Parts: betuxy (~betuxy@p579ad707.dip0.t-ipconnect.de) ()
[17:11:22] <__adrian> ham5: make the path a $variable. this way the script doesn't need to be actually located anywhere.
[17:13:20] <__adrian> using fully qualified paths is preferable anyway. e.g.,  $dir = "/path/to/dir1"; if (is_readable("{$dir}/your.file")) { ...
[17:13:34] <__adrian> then $dir can be loaded from config.
[17:17:23] <__adrian> also note blind use of PHP_SELF can cause problems - its value can include user input. very strongly recommend NEVER using it on your filesystem (especially since it's a kludgy/unnecessary solution anyway)
[17:24:43] *** Joins: rdbeni0 (~rdbeni0@public-gprs375585.centertel.pl)
[17:25:06] <rdbeni0> hi all, it is possible to configure php.ini per project (via composer) ?
[17:25:19] <rdbeni0> not globally for whole server
[17:27:44] <__adrian> your php.ini cannot be configured by composer at all
[17:28:27] <__adrian> why would you need different settings anyway?
[17:28:29] <rdbeni0> :( ok dzięki
[17:35:02] <AllenJB> There are 2 options you might be able to use: If you're using PHP-FPM, you can configure ini settings using the pool configuration. Different projects can use different pools. It's also possible to configure PHP to look for per-directory ini files.
[17:36:20] <AllenJB> Also many ini settings can be set at runtime using ini_set()
[17:36:31] <ThePhilgrim> Hey guys! For my website project, I was recommended to have a PHP file in the public dir (foo.php) that takes data from the client and sends it on to appropriate scripts outside of the public dir. After I have sent the data to foo.php, and it has been processed there, what is the process for sending that data on to bar.php?
[17:36:51] <ThePhilgrim> As in, how do I send data from one php file to another
[17:38:36] <AllenJB> ThePhilgrim: You can include / require other PHP files - in which case they act as part of the same script: https://www.php.net/manual/en/function.include.php
[17:39:33] <ThePhilgrim> AllenJB: Awesome! And security wise, it's solid? As in, the files outside of the public dir are safe even if they require/include foo.php?
[17:39:44] <AllenJB> ThePhilgrim: Yes
[17:40:23] <ThePhilgrim> Wonderful, thank you!
[18:00:16] *** Quits: sfields (~sfields@2605:a601:adea:7a00:1a87:4473:c6e2:6ac8) (Read error: Connection reset by peer)
[18:02:47] *** Quits: TheStormsOfFury (~StormsOfF@wsip-207-162-134-107.tu.ok.cox.net) (Ping timeout: 264 seconds)
[18:03:56] *** Quits: guenhael (~Thunderbi@2a01cb008c3d5800018c2bbe0a122bce.ipv6.abo.wanadoo.fr) (Ping timeout: 265 seconds)
[18:24:02] <Beam> Yo. im trying to learn memcached. Having some weird issues. Lots of caches just disappear from ::get()'ing them. If i just list all keys they are all intact, when i start reading the caches, next time i read keys some might be gone...
[18:26:32] <noord> Beam: ttl maybe
[18:27:23] <Beam> i'm not using any ttl. i guess i could be using too much memory so garbage collection is triggered when i get() ?
[18:27:58] <Beam> any way to check how much memory i'm using? i found something about telnetting to it and typing 'stats items' but the output is not easy to ready
[18:28:00] <Beam> read*
[18:28:41] <noord> Beam: I am not familiar with memcached, but cache stores generally use default ttl
[18:29:03] <Beam> well can't be ttl, since it's happening way too often
[18:29:41] <Beam> well anything is possible, but unlikely that ttl is set by default to 1 second
[18:31:06] <Beam> i guess the getAllKeys() isn't very stable
[18:43:21] *** Quits: guido (~guido@host-79-36-249-184.retail.telecomitalia.it) (Read error: Connection reset by peer)
[18:43:44] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[18:49:48] *** Joins: luva2 (~luva@45.141.152.44)
[18:53:24] *** Quits: luva (~luva@45.141.152.36) (Ping timeout: 265 seconds)
[18:53:24] *** luva2 is now known as luva
[18:53:44] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[19:00:48] *** Joins: paule32 (~paule32@user/paule32)
[19:16:11] *** Joins: deksar (~deksar@user/deksar)
[19:17:48] *** Joins: Rockwood (~Rocky@user/rocky)
[19:19:03] *** Joins: guenhael (~Thunderbi@2a01cb008c3d5800018c2bbe0a122bce.ipv6.abo.wanadoo.fr)
[19:19:55] *** Quits: rdbeni0 (~rdbeni0@public-gprs375585.centertel.pl) (Quit: Leaving.)
[19:27:02] *** Quits: gde33 (~gde33@84-106-154-98.cable.dynamic.v4.ziggo.nl) (Ping timeout: 240 seconds)
[19:28:31] *** Joins: Rockwood_ (~Rocky@user/rocky)
[19:31:32] *** Quits: Rockwood (~Rocky@user/rocky) (Ping timeout: 240 seconds)
[19:32:47] *** Joins: jargon (~jargon@184.101.217.201)
[19:46:08] *** Quits: magla (~gelignite@55d4f645.access.ecotel.net) (Quit: Stay safe!)
[19:46:38] *** Joins: magla (~gelignite@55d4f645.access.ecotel.net)
[20:11:09] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[20:13:57] <__adrian> ThePhilgrim: note there's no need to have _any_ php files in your doc root - just send all requests to your "main" php script (e.g., using FallbackResource in apache, tye_files in nginx, etc.).
[20:19:11] <ThePhilgrim> __adrian: Is the doc root == public dir? I was recommended to not have the PHPMailer file in the public dir
[20:19:25] *** Quits: guenhael (~Thunderbi@2a01cb008c3d5800018c2bbe0a122bce.ipv6.abo.wanadoo.fr) (Quit: guenhael)
[20:19:44] *** Joins: guenhael (Thunderbir@gateway/vpn/protonvpn/guenhael)
[20:20:07] <__adrian> document root = public, yes
[20:20:33] <__adrian> and yes, php files should generally not be publically accessible.
[20:20:45] *** Quits: Rockwood_ (~Rocky@user/rocky) (Read error: Connection reset by peer)
[20:37:48] *** Quits: ph88 (~ph88@2a02:8109:9e00:71d0:cdf3:eec1:2823:7459) (Quit: Leaving)
[20:37:59] *** Parts: jargon (~jargon@184.101.217.201) ()
[20:38:06] *** Joins: jargon (~jargon@184.101.217.201)
[20:38:28] *** Parts: jargon (~jargon@184.101.217.201) ()
[20:40:58] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Quit: Leaving.)
[20:41:24] *** Parts: skyroveRR (~skyroveRR@user/skyroverr) (WeeChat 2.5)
[20:54:44] *** Joins: ms49434 (~ms49434@user/ms49434)
[20:55:06] *** Quits: noord (~noord@user/noord) (Quit: WeeChat 3.3)
[21:14:07] *** Joins: luigibu (~luigi@80.30.201.209)
[21:20:56] *** Joins: guenhael1 (~Thunderbi@2a01cb008c3d5800018c2bbe0a122bce.ipv6.abo.wanadoo.fr)
[21:21:00] *** Quits: guenhael (Thunderbir@gateway/vpn/protonvpn/guenhael) (Ping timeout: 256 seconds)
[21:21:00] *** guenhael1 is now known as guenhael
[21:32:37] *** Quits: luigibu (~luigi@80.30.201.209) (Quit: WeeChat 3.3)
[21:39:10] *** Quits: paule32 (~paule32@user/paule32) (Remote host closed the connection)
[21:39:43] *** Joins: paule32 (~paule32@user/paule32)
[21:49:55] *** Joins: Eugen80 (~eugen@ipb21aae17.dynamic.kabel-deutschland.de)
[21:51:15] <Eugen80> trying to write phpunit test for myClass->diff(). diff method uses some constants, for example secondClass::INFO
[21:53:05] <da_wunder> so share your code and actual test - and really tell what is the real issue
[21:53:13] <Eugen80> if I start my test,  secondClass::INFO is not available in myClass->diff()
[21:53:45] <Blondie101010> why would it be available when you call it normally and not as a test?
[21:53:47] <da_wunder> ok, so that sounds like autoload problem
[21:54:00] <Blondie101010> plausible
[21:54:36] <Eugen80> normally it is available because of namespace
[21:55:06] <da_wunder> check your phpunit.xml.dist file, and ensure that it contains `bootstrap="vendor/autoload.php"`
[21:55:12] <da_wunder> assuming that you're using composer
[21:56:09] <da_wunder> and if not, then make your custom bootstrap file where you do everything what is needed to load your application
[21:58:11] <__adrian> "Eugen80> normally it is available because of namespace"  use use
[21:58:40] <__adrian> https://php.net/namespaces.importing
[21:58:56] <__adrian> strongly recommend `use` always (not "only when needed")
[21:59:24] <Eugen80> i'll try to build bootstrap file
[21:59:30] <da_wunder> your IDE should show show that kind of "errors" and provide helpers to add those "use" statements
[22:00:12] <da_wunder> Eugen80: first share your actual test class and that class that you're trying to test - it would help us a really much
[22:05:28] <Eugen80> this is my testfile: https://pastebin.com/981ja0iq
[22:10:23] <da_wunder> imo - that is test that has no point - you're testing that mocked class is returning something...
[22:10:58] <da_wunder> why not just create concrete Diff class and test that instead?
[22:11:10] <__adrian> ^ always prefer not mocking where possible
[22:11:41] <Eugen80> this is short version of what need to be tested
[22:11:43] <Eugen80> https://pastebin.com/gis5eHBL
[22:11:56] <__adrian> mocking is a workaround for an object that is not well-decoupled
[22:11:59] <Eugen80> my problem is - IssueReason::ID_ADDRESS is not available
[22:12:13] <__adrian> see my first comment
[22:12:19] <__adrian> alias it.
[22:13:20] <da_wunder> ^ so if that `IssueReason` lives somewhere else than `app\lib\contract` namespace you will see that error
[22:13:37] <__adrian> "__adrian> strongly recommend `use` always (not "only when needed")"
[22:13:53] <da_wunder> and if that code actually works, and you only get that error in your tests - then check your phpunit.dist.xml as I earlier mentioned
[22:14:29] <Eugen80> IssueReason lives in app\lib\contract. But my test does not
[22:14:47] <__adrian> Eugen80: did you see my comment above? did you read the link?
[22:15:58] <Eugen80> __adrian: now reading
[22:16:26] <da_wunder> __adrian: that test class itself is not using that that - so I think that Eugen80 is just missing this - "20:25 < da_wunder> check your phpunit.xml.dist file, and ensure that it contains `bootstrap="vendor/autoload.php"`"
[22:18:18] <__adrian> Eugen80: where's the error come from (what file and line)?
[22:18:55] <__adrian> note, _regardless_ of whether the other class is in the same namespace, strongly recommend you _always_ alias
[22:20:05] <da_wunder> __adrian: could you explain why you recommend that?
[22:20:15] <Eugen80> error: array_keys() expects parameter 1 to be array, null given. Line: first IF condition
[22:20:20] <__adrian> more obvious = less error prone
[22:20:43] <__adrian> also makes maintenance/refactoring easier
[22:21:16] <__adrian> Eugen80: which file? your test (981ja0iq) or your class (gis5eHBL)?
[22:21:54] <da_wunder> Eugen80: that is because you mock that class - and you don't tell what that $this->reasonsArr should be - please don't use mock
[22:22:37] <Eugen80> one sec, i'll try something
[22:23:17] <da_wunder> and that error is also showing you actual error in your `Diff` class - you don't have any default value for that `reasonsArr` and your method is expecting that is an array
[22:23:26] <da_wunder> and clearly it's not
[22:23:28] <__adrian> agreed. not exactly sure which, but one of these is the issue (and you SHOULD do all three anyway): *don't mock unless you absolutely can't avoid it  *always use `use`  *fix your error reporting settings (that "null given" error is not the first error you should have seen)
[22:24:00] <__adrian> ahhh, ok
[22:24:09] <__adrian> but still make sure about the error reporting
[22:24:32] <__adrian> private array $reasons = [];
[22:24:43] <da_wunder> ^
[22:24:46] *** Quits: de-facto (~de-facto@user/de-facto) (Remote host closed the connection)
[22:25:07] *** Joins: de-facto (~de-facto@user/de-facto)
[22:25:57] <da_wunder> and really that code doesn't have any method to change that reasonsArr value, so that code should not work anyway
[22:26:33] <__adrian> it will "work" if fixed (won't be useful - i'm assuming this is not a complete example)
[22:26:51] <da_wunder> and if that is really "working" then you're not seeing actual errors - so check your error reporting settings as __adrian said
[22:27:04] <Eugen80> array_keys() expects parameter 1 to be array, null given - so it is second param?
[22:27:07] <Eugen80> oh..
[22:28:13] <Eugen80> yes, it can find my constant
[22:28:51] <__adrian> it's the first (only) parameter
[22:29:15] <da_wunder> that one - \array_keys($this->reasonsArr)
[22:29:24] <Eugen80> i mean the problem is the second param of in_array()
[22:29:53] <__adrian> yes, but that's not relevant. it's the _first_ argument of array_keys(), as your error message said
[22:30:04] <Eugen80> ok, I can make reasonsArr available..
[22:30:13] <da_wunder> your code doesn't set that `$this->reasonsArr` anywhere and that is the real problem here
[22:30:23] <__adrian> it's not "unavailable." it's not an array.
[22:30:30] <Eugen80> yes.. but i know how to set it
[22:30:33] <__adrian> you did  private $reasonsArr;
[22:30:39] <__adrian> you ought to do  private array $reasons = [];
[22:30:50] <da_wunder> ^
[22:30:54] <Eugen80> ok
[22:30:59] <__adrian> that way it's an array (and it cannot be changed to a non-array value)
[22:34:12] <Eugen80> I'm learning how to write unit tests. It is often hard to do. I need to do it for existing project
[22:35:42] <da_wunder> imho - the problem that you covered has nothing to with unit tests - your code itself just makes assuming that something is an array while it's not - so basically you need to refactor your code
[22:36:04] <__adrian> aside from "don't mock if you don't HAVE TO" your test is fine
[22:36:08] <__adrian> this is a code problem
[22:36:15] <__adrian> that your test found
[22:36:21] <__adrian> that's what tests are supposed to do
[22:36:22] <da_wunder> ^
[22:40:13] <Eugen80> >your code itself just makes assuming that something is an array while it's not   --- yes, i've fixed this already. But if code/project is written without unittests in mind, it is sometimes hard to handle all the dependencies in classes
[22:40:44] <Eugen80> for example db access
[22:41:41] <da_wunder> it's not
[22:42:22] <da_wunder> for tests you create test database, and load data to it via fixtures so that you can actually make real tests
[22:42:33] <__adrian> the key is: when your code needs something (e.g., a db connection), _give_ it. don't make your code make/find it on its own.
[22:42:56] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[22:43:19] <__adrian> function NO() { $db = new PDO(...); $db->query(...); }
[22:43:20] <__adrian> function YES(Pdo $db) { $db->query(...); }
[22:43:56] <__adrian> then your test can just do   YES(new FakePdo());
[22:44:14] <__adrian> mock/syub the dependency, not the class under test.
[22:44:18] <__adrian> *stub
[22:44:49] <da_wunder> or class foo { function __construct(private $db)... function foo() { $this->db ....} }
[22:44:58] <__adrian> right
[22:45:16] <da_wunder> and then in your test create that foo class with $db that you want to use
[23:03:28] *** glider_ is now known as glider
[23:16:52] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: Always try to be modest, and be proud about it!)
[23:19:01] *** Joins: TheStormsOfFury (~StormsOfF@wsip-207-162-134-107.tu.ok.cox.net)
[23:27:19] *** Quits: deksar (~deksar@user/deksar) (Ping timeout: 256 seconds)
[23:45:18] *** Joins: entropy_ (~ent@user/entropy/x-9891564)
[23:52:55] *** Quits: paule32 (~paule32@user/paule32) (Quit: Leaving)
[23:53:15] *** Quits: lehinsun (~ttytwiste@188.113.176.117) (Ping timeout: 250 seconds)
[23:54:34] *** Joins: lehinsun (~ttytwiste@188.113.176.117)
[23:56:18] *** Quits: hh (~g@37.214.82.242) (Remote host closed the connection)
[23:57:35] *** Joins: tester12 (~tester12@5.120.51.172)
