[00:03:16] <luva> trying to get the docker metrics. but it doesnt work, prometheus shows the status as down. what can be the problem ? https://docs.docker.com/config/daemon/prometheus/
[00:03:23] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[00:03:43] *** Joins: ExeciN (~ExeciN@user/nicexe)
[00:03:47] <luva> http://localhost:9323/metrics	DOWN
[00:08:38] <luva> curl localhost:9323/metrics gives me the correct metrics. but from the prometheus container, even if I use the hosts IP 192.168.1.3 it doesnt work
[00:16:09] *** Joins: vidbina (~vid@dynamic-077-013-057-011.77.13.pool.telefonica.de)
[00:17:34] <luva> seems like the manual is a bit weird.... it works when putting   "metrics-addr" : "192.168.1.2:9323" instead of localhost:9323, but in the docs, it says it like this. guess its a typo
[00:19:57] *** Quits: luc4 (~manjaro-u@host-87-5-176-139.retail.telecomitalia.it) (Ping timeout: 240 seconds)
[00:21:12] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[00:21:32] *** Joins: ExeciN (~ExeciN@user/nicexe)
[00:21:49] *** Quits: jarthur (~jarthur@cpe-70-114-198-37.austin.res.rr.com) (Read error: Connection reset by peer)
[00:22:37] *** Joins: luc4 (~manjaro-u@host-87-5-176-139.retail.telecomitalia.it)
[00:26:42] <diverdude> I dont understand... i thought that docker was supposed to cache build steps so that if i build a dockerfile and it fails in L. 14, i then go and correct the error and build again, then steps on L. 1-13 are cached and i can continue from 14.... but it seems to rerun all lines again... Did i misunderstand the layer /caching concept?
[00:27:25] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-dc67-681f-ccd6-3dd0.res6.spectrum.com)
[00:27:45] *** Parts: Lycurgus (~juan@98.4.112.204) (Deus Ex)
[00:29:15] *** Joins: svm_invictvs_ (~svm_invic@user/svm-invictvs/x-6696469)
[00:30:38] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Remote host closed the connection)
[00:31:37] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Ping timeout: 240 seconds)
[00:36:26] <cim> diverdude: it should say CACHED in the stdout 
[00:37:06] <cim> or "Using cache"
[00:40:32] *** Quits: emberquill2 (~emberquil@user/emberquill) (Quit: The Lounge - https://thelounge.chat)
[00:40:44] *** Quits: l4yer (~l4yer@2001:ac8:31:8900:1011:cc80:b7f7:3c19) (Remote host closed the connection)
[00:41:14] *** Joins: emberquill2 (~emberquil@user/emberquill)
[00:41:48] *** Joins: ada_ (uid242135@user/ada/x-9065485)
[00:41:48] *** ChanServ sets mode: +o ada_
[00:42:49] *** Quits: iomari891 (~iomari891@105.112.138.38) (Remote host closed the connection)
[00:42:55] <larsks> diverdude: the layout of your dockerfile can have an impact on the cachability of build steps. 
[00:43:26] <larsks> E.g., if you have "COPY something /somewhere" early in the dockerfile, and file/directory something has changed, that would invalidate all subsequent steps.
[00:44:56] *** Quits: arlion (~arlion@user/arlion) (Ping timeout: 256 seconds)
[00:46:26] *** Joins: nickdiaz3wag209 (~bjpenn_@98.42.87.100)
[00:47:37] *** Quits: nickdiaz1wag209 (~bjpenn_@13.110.54.42) (Ping timeout: 240 seconds)
[00:48:21] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Quit: Good Bye! My bouncer has probably crashed or lost connection to the internet...)
[00:50:44] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[00:54:14] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[01:20:13] *** Quits: jayray (~jayray@user/jayray) (Ping timeout: 240 seconds)
[01:21:53] *** Joins: sudoforge (~sudoforge@wireguard/tunneler/sudoforge)
[01:23:45] *** Joins: jayray (~jayray@user/jayray)
[01:28:51] *** Joins: l4yer (~l4yer@2001:ac8:31:8900:1011:6d49:c345:8222)
[01:28:53] <tabakhase> diverdude has to complete to become valid cache
[01:31:06] *** Joins: nickdiaz1wag209 (~bjpenn_@13.110.54.39)
[01:33:46] *** Quits: nickdiaz3wag209 (~bjpenn_@98.42.87.100) (Ping timeout: 250 seconds)
[01:36:00] *** Joins: trevors (~trevors@user/trevors)
[01:41:33] *** Quits: tex (~super@user/dix) (Quit: tex)
[02:07:40] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[02:16:01] *** Quits: thanas (~thanas@user/thanas) (Quit: ZNC - https://znc.in)
[02:29:59] *** Joins: vlm (~vlm@user/vlm)
[02:36:43] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[02:42:06] *** Quits: millido (~millido@84.210.150.128) (Quit: ZNC 1.8.2 - https://znc.in)
[02:45:18] *** Quits: BSaboia (~bsaboia@189.45.78.253) (Quit: This computer has gone to sleep)
[02:47:52] *** Quits: ada_ (uid242135@user/ada/x-9065485) (Quit: Connection closed for inactivity)
[02:52:07] *** Joins: millido (~millido@84.210.150.128)
[02:53:56] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[02:54:37] *** Quits: Enitin (~Enitin@82.102.22.86) (Ping timeout: 240 seconds)
[02:55:12] *** Joins: Enitin (~Enitin@82.102.22.85)
[02:55:17] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 240 seconds)
[02:55:58] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:58:33] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[02:59:36] *** Joins: dob1_ (~dob1@user/dob1)
[03:00:00] *** Quits: l4yer (~l4yer@2001:ac8:31:8900:1011:6d49:c345:8222) (Ping timeout: 250 seconds)
[03:00:26] *** Quits: dob1 (~dob1@user/dob1) (Ping timeout: 250 seconds)
[03:00:58] *** Quits: luc4 (~manjaro-u@host-87-5-176-139.retail.telecomitalia.it) (Quit: Konversation terminated!)
[03:07:22] *** Joins: thanas (~thanas@user/thanas)
[03:33:25] *** Joins: rv1sr (~rv1sr@ip4d16b090.dynamic.kabel-deutschland.de)
[03:34:45] *** Quits: vidbina (~vid@dynamic-077-013-057-011.77.13.pool.telefonica.de) (Ping timeout: 256 seconds)
[03:36:27] *** Quits: olle (~olle@i5E866D85.versanet.de) (Ping timeout: 256 seconds)
[03:37:15] *** Quits: DrowningElysium (uid190788@user/drowningelysium) (Quit: Connection closed for inactivity)
[03:40:16] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[03:41:08] *** Quits: Thanzex (~Thanzex@37.103.212.236) (Read error: Connection reset by peer)
[03:41:22] *** Joins: Thanzex (~Thanzex@37.103.212.236)
[03:45:46] *** Quits: rv1sr (~rv1sr@ip4d16b090.dynamic.kabel-deutschland.de) (Changing host)
[03:45:46] *** Joins: rv1sr (~rv1sr@user/rv1sr)
[03:51:32] *** Joins: trevors (~trevors@user/trevors)
[03:54:06] *** Quits: rv1sr (~rv1sr@user/rv1sr) ()
[04:00:00] *** Joins: rv1sr (~rv1sr@user/rv1sr)
[04:04:45] *** Quits: BtbN (btbn@ffmpeg/developer/btbn) (Ping timeout: 250 seconds)
[04:14:06] *** Quits: emerent (~quassel@p200300cd57044360ba27ebfffed28a59.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[04:14:49] *** Joins: emerent (~quassel@p200300cd5704433bba27ebfffed28a59.dip0.t-ipconnect.de)
[04:21:59] *** Joins: jazzy (~jaziz@user/jaziz)
[04:25:01] <bancroft> so about entrypoint.sh files. Should I run it as python -m "$@" or as exec to avoid bash running this as a child process? 
[04:30:22] *** Quits: jdmark (~jdmark@user/jdmark) (Quit: Leaving)
[04:31:55] <wez> bancroft: There's a good example in most Docker files, like the one for python, nodejs and nginx
[04:32:05] <wez> for = from
[04:32:54] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[04:34:03] *** Quits: Forsaken87 (~quassel@2a02:908:1866:e360:88b0:2032:220f:3f73) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[04:35:02] <rawtaz> yeah, also traefik has an example as well as postgresql
[04:35:09] <rawtaz> in their entryscripts i mean
[04:35:15] <rawtaz> (i looked at that a few days ago)
[04:35:17] <bancroft> wez: that one just uses CMD 
[04:35:22] <bancroft> why is that? 
[04:35:40] <rawtaz> bancroft: perhaps it extends one that has ENTRYPOINT set?
[04:36:17] <bancroft> rawtaz: it's not written anywhere in the repo https://github.com/docker-library/python/search?q=ENTRYPOINT 
[04:37:21] *** Joins: Forsaken87 (~quassel@2a02:908:1866:e360:88b0:2032:220f:3f73)
[04:39:15] <rawtaz> bancroft: which Dockerfile are you looking at and want to know what ENTRYPOINT it uses?
[04:40:42] <rawtaz> (if thats what youre looking for, otherwise please enlighten me so i understand better=
[04:40:46] <rawtaz> )
[04:42:16] *** Quits: Ivii (~Ivyy@2001:a62:4c3:8e01:7383:58e3:41e7:460a) (Ping timeout: 250 seconds)
[04:42:22] <bancroft> Any dockerfile really, I know there are two forms of the ENTRYPOINT directive in dockerfiles the shell one and the exec one. Now I'm doing some stuff that requires all environment variables and stuff so I decided to use the shell one 
[04:42:56] *** Joins: trevors (~trevors@user/trevors)
[04:42:57] <bancroft> but I also don't want a shell to spawn another process, according to docker I should have the entrypoint trigger the process itself (not a shell that triggers the process) 
[04:43:44] <rawtaz> yeah why not. thats what traefik does here: https://github.com/traefik/traefik/blob/master/Dockerfile
[04:43:59] *** svm_invictvs_ is now known as svm_invictvs
[04:44:22] <rawtaz> by two forms you mean the "foo" and ["foo"] ones?
[04:44:56] <bancroft> yeah, and I guess you can do ["/someplace/entrypoint.sh"] which is similar to the "foo" form 
[04:46:28] <rawtaz> yes indeed. e.g. https://github.com/docker-library/postgres/blob/a83005b407ee6d810413500d8a041c957fb10cf0/14/bullseye/Dockerfile#L183
[04:49:48] *** Quits: rv1sr (~rv1sr@user/rv1sr) ()
[04:50:19] *** Joins: nickdiaz3wag209 (~bjpenn_@98.42.87.100)
[04:50:41] *** Quits: cotko (~cotko@188-230-251-153.dynamic.t-2.net) (Ping timeout: 256 seconds)
[04:52:37] *** Quits: nickdiaz1wag209 (~bjpenn_@13.110.54.39) (Ping timeout: 240 seconds)
[04:57:02] *** Joins: luckiswithme (~luckiswit@149.167.139.159)
[04:57:37] <bancroft> rawtaz: yeah that's what I thought too. So In the end i'm going to use exec python -m "$@"
[04:58:00] <bancroft> thank you
[05:02:45] *** Joins: BtbN (btbn@ffmpeg/developer/btbn)
[05:02:48] <rawtaz> sounds reasonable :)
[05:06:37] *** Joins: jdmark (~jdmark@user/jdmark)
[05:07:55] *** Quits: luckiswithme (~luckiswit@149.167.139.159) (Read error: Connection reset by peer)
[05:08:30] *** Joins: lilgopher (~textual@2601:241:8000:38f0:f4fc:9cd1:65b9:ee10)
[05:11:10] *** Joins: luckiswithme (~luckiswit@149.167.139.159)
[05:12:13] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 256 seconds)
[05:15:14] *** Joins: phylaz (~phylaz@82.51-174-55.customer.lyse.net)
[05:22:53] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[05:29:26] *** Joins: Atque (~Atque@user/atque)
[05:30:24] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:38:31] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[05:41:49] *** Quits: _ohm (~research@user/ohm/x-5690770) (Quit: Konversation terminated!)
[05:42:55] *** Quits: itsalexjones (~itsalexjo@82.4.99.241) (Read error: Connection reset by peer)
[05:49:31] *** Quits: Thanzex (~Thanzex@37.103.212.236) (Read error: Connection reset by peer)
[05:49:59] *** Joins: Thanzex (~Thanzex@37.103.212.236)
[05:51:58] *** Quits: jordanj2 (~jordan@user/jordan) (Quit: ZNC 1.8.2 - https://znc.in)
[05:52:34] *** Joins: trevors (~trevors@user/trevors)
[05:52:49] *** Joins: jarthur_ (~jarthur@2603-8080-1540-002d-8485-0ba6-5ca5-89ec.res6.spectrum.com)
[05:53:01] *** Quits: tsal (~tsal@user/tsal) (Ping timeout: 256 seconds)
[05:54:17] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-dc67-681f-ccd6-3dd0.res6.spectrum.com) (Ping timeout: 240 seconds)
[05:59:20] *** Joins: tsal (~tsal@user/tsal)
[06:04:32] *** Quits: mossman93 (~quassel@user/mossman93) (Ping timeout: 256 seconds)
[06:04:59] *** Joins: mossman93 (~quassel@user/mossman93)
[06:32:16] *** Quits: luckiswithme (~luckiswit@149.167.139.159) (Quit: Konversation terminated!)
[06:32:40] *** Joins: luckiswithme (~luckiswit@149.167.139.159)
[06:39:16] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[06:56:00] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[07:07:43] *** Joins: jgrim4 (~jgrim@d60-65-99-197.col.wideopenwest.com)
[07:12:55] *** Quits: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1) (Quit: The Lounge - https://thelounge.chat)
[07:13:54] *** Joins: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1)
[07:14:48] *** Quits: bancroft (~bancroft@user/bancroft) (Ping timeout: 250 seconds)
[07:23:17] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[07:30:01] *** Quits: haasn (~nand@haasn.dev) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[07:31:21] *** Joins: haasn (~nand@haasn.dev)
[07:53:33] *** Quits: jgrim4 (~jgrim@d60-65-99-197.col.wideopenwest.com) (Quit: Buh bye!)
[07:59:05] *** Joins: jgrim4 (~jgrim@d60-65-99-197.col.wideopenwest.com)
[08:15:30] *** Quits: Thanzex (~Thanzex@37.103.212.236) (Read error: Connection reset by peer)
[08:15:37] *** Quits: Czernobog (~Czernobog@user/czernobog) (Ping timeout: 240 seconds)
[08:16:07] *** Joins: Thanzex (~Thanzex@37.103.212.236)
[08:17:42] *** Joins: Czernobog (~Czernobog@user/czernobog)
[08:20:49] *** Quits: rpthms (~rpthms@user/rpthms) (Remote host closed the connection)
[08:23:45] *** Joins: rpthms (~rpthms@user/rpthms)
[08:25:27] *** Quits: Tach (~Tach@user/tach) (Ping timeout: 256 seconds)
[08:42:04] *** Quits: jarthur_ (~jarthur@2603-8080-1540-002d-8485-0ba6-5ca5-89ec.res6.spectrum.com) (Quit: jarthur_)
[08:50:51] *** Quits: CombatVet (~c4@user/combatvet) (Remote host closed the connection)
[08:51:12] *** Joins: l4yer (~l4yer@2001:ac8:31:8900:1012:304e:ad65:3e09)
[08:51:36] *** Joins: CombatVet (~c4@user/combatvet)
[08:58:51] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[08:59:48] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-8485-0ba6-5ca5-89ec.res6.spectrum.com)
[09:11:26] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) ()
[09:16:52] *** Quits: maryo (~Maryo@user/maryo) (Read error: Connection reset by peer)
[09:34:25] *** Quits: sudoforge (~sudoforge@wireguard/tunneler/sudoforge) (Quit: 404)
[09:52:32] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-8485-0ba6-5ca5-89ec.res6.spectrum.com) (Ping timeout: 240 seconds)
[09:54:37] *** Quits: Bebef (sbreit@phobos.bebef.de) (Quit: bye)
[09:56:22] *** Joins: Bebef (sbreit@phobos.bebef.de)
[09:56:50] *** Quits: yac (~user@user/yac) (Remote host closed the connection)
[10:00:10] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-d873-1113-a348-98f0.res6.spectrum.com)
[10:01:39] *** Joins: yac (~user@user/yac)
[10:12:57] *** Joins: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au)
[10:18:38] *** Joins: sudomann (~sudomann@98.219.211.182)
[10:19:57] <sudomann> Can someone please explpain why this works in a dockerfile:
[10:20:06] <sudomann> FROM java:8-jdk
[10:20:07] <sudomann> COPY --from=python:3.7-buster / /
[10:20:32] <sudomann> Then we end up with both python3.7 and java8 available in containers that use this image
[10:21:12] <sudomann> Shouldnt the second command completely overwrite the filesystem? Such that `javac` is not available in the container?
[10:22:09] <daddy> No. It copies files. It doesn't replace the filesystem.
[10:22:39] <daddy> It's like adding papers onto a stack of papers, instead of replacing the stack with a new stack.
[10:24:02] <sudomann> So `COPY /my/path /etc/foo` results in nonconflicting files being left in place?
[10:24:36] <sudomann> Wow, I'm suprised they've gotten away with this so long and nothing has broken
[10:25:55] <daddy> It's like copying files normally, is it not?
[10:27:47] <sudomann> Well, I always interpreted `COPY dir dir` as an overwrite. So if `dir` already existed with some files in previous layers, the current layer would end up containing ONLY the source dir files
[10:30:00] *** Quits: chodonne (~chodonne@ec2-3-18-56-136.us-east-2.compute.amazonaws.com) (Quit: ZNC - https://znc.in)
[10:31:06] <daddy> nope, it's closer to how most OSes do copies.
[10:31:13] *** Joins: chodonne (~chodonne@ec2-3-18-56-136.us-east-2.compute.amazonaws.com)
[10:35:19] *** Quits: C4Crawford (~C4Crawfor@2600:1700:5470:712f:2db0:adf7:a51e:89e3) (Quit: C4Crawford)
[10:37:19] <sudomann> Have you seen COPY used like this before? Seems to me like it set up to cause some weird issues in future, if both images dont happen to have the same underlying OS. I'm assuming this is the only reason why it currently works.
[10:45:29] *** Joins: cewood (~cewood@ip5b417897.dynamic.kabel-deutschland.de)
[10:48:52] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[10:50:08] *** Quits: BinarySavior (~BinarySav@idlerpg/player/BinarySavior) (Ping timeout: 256 seconds)
[10:51:24] *** Joins: ExeciN (~ExeciN@user/nicexe)
[10:58:06] *** Joins: maret (~maret@195.12.158.102)
[10:59:00] *** Quits: Thanzex (~Thanzex@37.103.212.236) (Read error: Connection reset by peer)
[10:59:46] *** Joins: Thanzex (~Thanzex@37.103.212.236)
[11:16:43] *** Joins: lithium (~lithium@user/lithium)
[11:18:47] *** Quits: luckiswithme (~luckiswit@149.167.139.159) (Remote host closed the connection)
[11:38:01] *** Joins: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr)
[11:42:42] <tabakhase> thats indeed lucky :D
[11:43:30] *** Joins: luckiswithme (~luckiswit@149.167.139.159)
[11:47:50] *** Quits: luckiswithme (~luckiswit@149.167.139.159) (Remote host closed the connection)
[11:48:47] *** Joins: luckiswithme (~luckiswit@149.167.139.159)
[11:51:24] *** Joins: iomari891 (~iomari891@105.112.138.38)
[12:07:59] *** Quits: nickel715 (~nickel715@user/nickel715) (Read error: Connection reset by peer)
[12:08:16] *** Quits: lilgopher (~textual@2601:241:8000:38f0:f4fc:9cd1:65b9:ee10) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[12:09:38] *** Parts: nickdiaz3wag209 (~bjpenn_@98.42.87.100) ()
[12:10:08] *** Joins: nickel715 (~nickel715@user/nickel715)
[12:10:31] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[12:16:12] *** Quits: luckiswithme (~luckiswit@149.167.139.159) (Quit: Konversation terminated!)
[12:16:12] *** Joins: cotko (~cotko@188-230-251-153.dynamic.t-2.net)
[12:16:36] *** Joins: luckiswithme (~luckiswit@149.167.139.159)
[12:19:57] *** Quits: cliluw (~cliluw@47.147.73.223) (Ping timeout: 240 seconds)
[12:20:05] *** Joins: cliluw (~cliluw@47.147.73.223)
[12:36:19] *** Joins: jazzy (~jaziz@user/jaziz)
[12:46:23] *** Quits: dlam (~dlam@dlam.me) (Ping timeout: 252 seconds)
[12:46:41] *** Joins: AnapodoPsalidaki (~AnapodoPs@154.57.4.229)
[12:48:50] *** Quits: AnapodoPsalidi (~AnapodoPs@2a02:587:291a:6af6:7b33:1b5c:e97f:83d2) (Ping timeout: 268 seconds)
[12:55:57] *** Quits: Enitin (~Enitin@82.102.22.85) (Ping timeout: 240 seconds)
[12:56:36] *** Quits: thanas (~thanas@user/thanas) (Quit: ZNC - https://znc.in)
[12:56:57] *** Joins: Enitin (~Enitin@82.102.22.85)
[13:00:47] *** Joins: thanas (~thanas@user/thanas)
[13:02:39] *** Joins: dlam (~dlam@dlam.me)
[13:02:59] *** Joins: icy (~icy@user/icy)
[13:03:23] *** Joins: vidbina (~vid@dynamic-077-011-109-222.77.11.pool.telefonica.de)
[13:03:37] <icy> hi. i'm trying to push a docker image using goreleaser, except goreleaser is running /within/ a docker container. how do i perform a docker login in this case?
[13:03:48] <icy> can i simply mount the host $DOCKER_CONFIG?
[13:05:57] *** Quits: Enitin (~Enitin@82.102.22.85) (Ping timeout: 240 seconds)
[13:07:18] *** Quits: luckiswithme (~luckiswit@149.167.139.159) (Remote host closed the connection)
[13:07:51] *** Joins: rv1sr (~rv1sr@user/rv1sr)
[13:11:37] *** Quits: vidbina (~vid@dynamic-077-011-109-222.77.11.pool.telefonica.de) (Ping timeout: 240 seconds)
[13:17:26] *** Quits: nebiros (~nebiros@user/nebiros) (Ping timeout: 245 seconds)
[13:18:17] <tabakhase> ~/.docker/config.json? should work as long as thats actually what gorelease consumes
[13:18:57] *** Joins: Enitin (~Enitin@82.102.22.86)
[13:24:57] *** Joins: itsalexjones (~itsalexjo@82.4.99.241)
[13:28:37] *** Quits: dlam (~dlam@dlam.me) (Ping timeout: 256 seconds)
[13:30:57] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[13:39:46] <icy> i decided to simply go ahead and add a 'docker login' step in the containre
[13:43:01] *** Joins: sudomann (~sudomann@98.219.211.182)
[13:44:15] *** Quits: Thanzex (~Thanzex@37.103.212.236) (Read error: Connection reset by peer)
[13:44:18] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[13:44:21] *** Joins: Thanzex8 (~Thanzex@37.103.212.236)
[13:45:32] *** Joins: bouncy (~ben@user/benoit)
[13:46:03] *** Joins: hazmi35 (~Hazmi35@180.252.28.34)
[13:47:24] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 250 seconds)
[13:53:14] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Quit: So long and thanks for all the fish)
[13:54:37] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 240 seconds)
[13:56:22] *** Joins: dlam (~dlam@dlam.me)
[13:59:10] *** Joins: sudomann (~sudomann@98.219.211.182)
[14:02:29] <maret> Can (and should) docker be used for running nodejs processes? I have aws setup where I am running a web app which can start temporary node processes(it runs a nodejs script). Then I have 2 additional daily node.js scripts. Right now I am using pm2 because it provides nodejs process management + monitoring dashboard out of the box. I could replace it with docker for but I would still need to manage processes  inside web app and I havent found easy to setup
[14:02:29] <maret>  docker monitoring with notification if something goes wrong , out of the box
[14:26:05] <hazmi35> Of course it can, containers can do anything. You can even emulate raspberry pi environment by just running a container. For "should", how does you exactly store and run these scripts?
[14:36:14] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[14:36:48] *** Quits: diverdude (~user@176-21-102-230-cable.dk.customer.tdc.net) (Ping timeout: 256 seconds)
[14:39:47] *** Joins: maret (~maret@195.12.158.102)
[14:45:56] <maret> hazmi35 One them is run by user through UI so I just spawn pm2 process through their js library. Other probably through cron
[14:46:43] *** Joins: gproto23 (~gproto23@user/gproto23)
[14:59:36] *** Joins: sheb (~sheb@31.223.228.71)
[15:02:52] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[15:06:59] *** Joins: GailWynand (~GailWynan@195.216.219.1)
[15:11:37] *** Quits: GailWynand (~GailWynan@195.216.219.1) (Client Quit)
[15:11:43] <hazmi35> maret Where do you store those scripts? 
[15:12:03] <maret> now on host on drive
[15:14:07] <hazmi35> You'll need to store it in a container image though, or just `docker run -v /path/to/script.js:/script.js node /script.js`
[15:14:25] *** Joins: sudomann (~sudomann@98.219.211.182)
[15:19:03] <hazmi35> you can assign the container a name, for managing purposes, for the monitoring I'm not sure how to forward the docker logs to the web app, you'll probably need to communicate with Docker API from the webapp somehow, plus if you can communicate with Docker API, it's better to create and run containers from the API directly
[15:19:07] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[15:20:31] *** Joins: TomyWork (~TomyLobo@p200300e80f0067000d65dce87c2c82c9.dip0.t-ipconnect.de)
[15:27:57] *** Joins: DrowningElysium (uid190788@user/drowningelysium)
[15:29:34] *** Joins: sudomann (~sudomann@98.219.211.182)
[15:30:04] *** Quits: cewood (~cewood@ip5b417897.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[15:33:07] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[15:34:00] *** Joins: maret (~maret@195.12.158.102)
[15:35:43] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[15:36:03] *** Joins: ExeciN (~ExeciN@user/nicexe)
[15:43:56] *** Joins: BSaboia (~bsaboia@189.45.78.253)
[15:44:03] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[15:52:14] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) ()
[15:54:58] *** Quits: BSaboia (~bsaboia@189.45.78.253) (Quit: This computer has gone to sleep)
[15:56:35] *** Joins: sudomann (~sudomann@98.219.211.182)
[15:58:29] *** Joins: makara1 (~makara@196.214.171.83)
[15:59:08] <makara1> can I mount a volume directory? e.g. -v data/base:/blah ?
[16:01:26] *** dob1_ is now known as dob1
[16:01:37] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[16:05:01] *** Quits: Fauve (~Fauve@user/fauve) (Ping timeout: 256 seconds)
[16:08:40] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[16:09:00] *** Joins: ExeciN (~ExeciN@user/nicexe)
[16:09:37] *** Joins: faLUKE (~prepeppe@host-82-59-128-89.retail.telecomitalia.it)
[16:14:10] *** Joins: sudomann (~sudomann@98.219.211.182)
[16:16:19] <gproto23> i have a nginx docker compose file which is up already but where can i control logs of nginx in docker?
[16:16:32] *** Quits: martums5 (~martums@user/martums) (Ping timeout: 256 seconds)
[16:18:58] *** Joins: Fauve (~Fauve@user/fauve)
[16:19:17] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[16:19:19] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[16:22:49] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[16:23:08] *** Joins: ExeciN (~ExeciN@user/nicexe)
[16:26:36] *** Quits: gproto23 (~gproto23@user/gproto23) (Read error: Connection reset by peer)
[16:29:10] *** Quits: Thanzex8 (~Thanzex@37.103.212.236) (Read error: Connection reset by peer)
[16:29:27] *** Joins: Thanzex (~Thanzex@37.103.212.236)
[16:31:32] *** Quits: hazmi35 (~Hazmi35@180.252.28.34) (Quit: Konversation terminated!)
[16:34:32] *** Joins: sudomann (~sudomann@98.219.211.182)
[16:34:51] *** Joins: nebiros (nebiros@user/nebiros)
[16:35:07] *** Joins: gproto23 (~gproto23@user/gproto23)
[16:35:37] *** Quits: faLUKE (~prepeppe@host-82-59-128-89.retail.telecomitalia.it) (Ping timeout: 240 seconds)
[16:39:55] *** Quits: Csm319_ (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Quit: Leaving)
[16:40:09] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[16:43:03] *** Joins: martums5 (~martums@user/martums)
[16:43:24] *** Joins: lenarhoyt (~lenarhoyt@p200300eec717e00041b3597e9eac3222.dip0.t-ipconnect.de)
[16:45:44] <lenarhoyt> Hi. What is the best way to add different users with secure passwords to an image? I don't like the idea of secrets because they require the passwords to be stored in clear text (as environment variable or file). I've been thinking I could run a shell in the container, add the users interactively and then persist these changes with docker commit.
[16:48:23] *** Joins: Tach (~Tach@user/tach)
[16:48:40] *** Quits: Tach (~Tach@user/tach) (Client Quit)
[16:48:55] *** Joins: Tach (~Tach@user/tach)
[16:52:04] *** Joins: sudomann (~sudomann@98.219.211.182)
[16:53:39] *** BlackIkeEagle_ is now known as BlackIkeEagle
[16:55:14] *** Joins: BinarySavior (~BinarySav@idlerpg/player/BinarySavior)
[16:56:17] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[16:56:51] *** Quits: Atque (~Atque@user/atque) (Ping timeout: 276 seconds)
[16:57:24] *** Joins: GailWynand (~GailWynan@195.216.219.1)
[16:58:42] *** Joins: Atque (~Atque@user/atque)
[17:08:45] *** Joins: trevors (~trevors@user/trevors)
[17:09:53] *** Joins: sudomann (~sudomann@98.219.211.182)
[17:10:37] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Ping timeout: 240 seconds)
[17:11:10] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[17:13:57] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[17:16:09] *** Joins: maret (~maret@195.12.158.102)
[17:18:02] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[17:22:35] *** Quits: GailWynand (~GailWynan@195.216.219.1) (Quit: GailWynand)
[17:26:52] *** Joins: sudomann (~sudomann@98.219.211.182)
[17:34:57] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[17:41:06] *** Joins: Bardon (~Bardon@user/Bardon)
[17:41:55] *** Quits: Bardon_ (~Bardon@user/Bardon) (Ping timeout: 256 seconds)
[17:42:16] *** Joins: Ivii (~Ivyy@2001:a62:4c3:8e01:2fa:9603:e9a8:8ca1)
[17:43:34] *** Quits: Tach (~Tach@user/tach) (Quit: Tach)
[17:47:50] *** Joins: sudomann (~sudomann@98.219.211.182)
[17:52:12] *** Joins: BSaboia (~bsaboia@189.45.78.253)
[17:54:34] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[17:56:17] *** Quits: BSaboia (~bsaboia@189.45.78.253) (Client Quit)
[18:05:17] *** Quits: jgrim4 (~jgrim@d60-65-99-197.col.wideopenwest.com) (Quit: Ping timeout (120 seconds))
[18:05:35] *** Joins: jgrim4 (~jgrim@d60-65-99-197.col.wideopenwest.com)
[18:05:48] *** Joins: sudomann (~sudomann@98.219.211.182)
[18:06:54] *** Quits: AnapodoPsalidaki (~AnapodoPs@154.57.4.229) (Quit: Leaving)
[18:08:29] *** Joins: BSaboia (~bsaboia@189.45.78.253)
[18:09:34] *** Quits: BSaboia (~bsaboia@189.45.78.253) (Read error: Connection reset by peer)
[18:10:16] *** Quits: lowcrash (~admin@84-255-205-230.static.t-2.net) (Quit: The Lounge - https://thelounge.chat)
[18:14:58] *** Joins: rsx (~dummy@ppp-188-174-133-55.dynamic.mnet-online.de)
[18:16:42] *** Joins: BSaboia (~bsaboia@189.45.78.253)
[18:17:08] *** Quits: BSaboia (~bsaboia@189.45.78.253) (Read error: Connection reset by peer)
[18:17:44] *** Joins: fibsifan (~quassel@dynamic-077-183-139-210.77.183.pool.telefonica.de)
[18:19:10] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[18:20:40] *** Joins: GailWynand (~GailWynan@195.216.219.1)
[18:23:53] *** Joins: BSaboia (~bsaboia@189.45.78.253)
[18:24:04] *** Quits: BSaboia (~bsaboia@189.45.78.253) (Client Quit)
[18:26:26] *** Quits: GailWynand (~GailWynan@195.216.219.1) (Quit: GailWynand)
[18:28:11] *** Quits: fibsifan (~quassel@dynamic-077-183-139-210.77.183.pool.telefonica.de) (Quit: https://quassel-irc.org)
[18:29:18] *** Quits: CombatVet (~c4@user/combatvet) (Remote host closed the connection)
[18:29:34] *** Joins: CombatVet (~c4@user/combatvet)
[18:32:11] *** Joins: Tach (~Tach@user/tach)
[18:36:07] *** Joins: GyrosGeier (~geier@185.27.255.155)
[18:36:10] <GyrosGeier> hi
[18:36:17] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[18:36:31] <GyrosGeier> I've tried building a swarm from one amd64 and one ppc64 box
[18:36:41] <GyrosGeier> dockerd segfaults quite a bit now
[18:37:04] <GyrosGeier> is that even a supported configuration, or have I messed up?
[18:37:26] <GyrosGeier> and, to state my original problem: I have a Dockerfile I'd like to build a multiarch image from
[18:37:47] *** Joins: sudomann (~sudomann@98.219.211.182)
[18:37:52] <programmerq> it should work. segfaults are almost certainly a bug in docker. are the binaries you are using provided by the docker project, or by your distro?
[18:38:08] <GyrosGeier> that's Debian's distro packages
[18:38:41] <GyrosGeier> is buildx still the best way to build a multiarch image in one go?
[18:40:00] <programmerq> yeah, buildx should do the trick.
[18:40:14] <programmerq> it'd be worth reporting the segfault to the debian distro bug tracker with repro instructions.
[18:40:16] *** Joins: BSaboia (~bsaboia@189.45.78.253)
[18:40:19] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[18:40:48] *** Quits: BSaboia (~bsaboia@189.45.78.253) (Read error: Connection reset by peer)
[18:42:33] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[18:43:36] *** Joins: sudomann (~sudomann@98.219.211.182)
[18:47:25] *** Joins: BSaboia (~bsaboia@189.45.78.253)
[18:48:04] *** Quits: BSaboia (~bsaboia@189.45.78.253) (Client Quit)
[18:48:13] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[18:49:23] *** Joins: sudomann (~sudomann@98.219.211.182)
[18:52:45] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[18:52:47] *** Quits: jazzy (~jaziz@user/jaziz) (Read error: Connection reset by peer)
[18:53:53] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[18:55:18] *** Joins: ada_ (uid242135@user/ada/x-9065485)
[18:55:18] *** ChanServ sets mode: +o ada_
[18:56:54] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[18:57:08] <ash_worksi> I thought there was a shorthand for something -p 80:80
[18:57:13] <ash_worksi> maybe -p :80 ?
[18:57:51] <ash_worksi> nope
[18:57:56] <ash_worksi> oh well
[18:58:39] *** Quits: Thanzex (~Thanzex@37.103.212.236) (Read error: Connection reset by peer)
[18:59:00] *** Joins: Thanzex (~Thanzex@37.103.212.236)
[18:59:49] <ada_> -p 80
[19:03:31] *** Quits: lenarhoyt (~lenarhoyt@p200300eec717e00041b3597e9eac3222.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[19:07:53] *** Joins: sudomann (~sudomann@98.219.211.182)
[19:10:19] <programmerq> -p 80 will map to a random port
[19:11:57] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 240 seconds)
[19:13:33] *** Joins: vidbina (~vid@dynamic-077-011-109-222.77.11.pool.telefonica.de)
[19:16:12] *** Joins: sudomann (~sudomann@98.219.211.182)
[19:18:51] *** Joins: ExeciN (~ExeciN@user/nicexe)
[19:20:37] *** Quits: Bardon (~Bardon@user/Bardon) (Ping timeout: 240 seconds)
[19:21:05] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Ping timeout: 256 seconds)
[19:22:31] *** Joins: Bardon (~Bardon@user/Bardon)
[19:22:45] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[19:27:59] *** Joins: catbehemoth (~vasyl@bras-base-lnglpq6100w-grc-15-206-172-247-176.dsl.bell.ca)
[19:28:30] <molt> hey all. I'm running a docker container of something called 'LeanTime' (an open source project management solution). Documentation for the project is a bit lacking, but I've deduced that setting up SMTP info is done in a file that isn't accessible unless you mount the app directory locally. When I do that I can't run the application because I get an error loading up the URL for the containerized app. I think it has something to do with 
[19:28:30] <molt> permission errors on the local directory I mounted, but this is a bit outside my expertise area. Anyone have any ideas / could help with suggestions? 
[19:33:08] <rawtaz> molt: not really sure what you mean bu "unles you mount the app directory locally"
[19:33:44] <rawtaz> is the file you want to modify part of the docker image? or is it part of a volume/persistent storage that is separate from the image's contents?
[19:34:22] *** Quits: amnrst (~amnrst@45-79-201-163.ip.linodeusercontent.com) (Quit: The Lounge - https://thelounge.chat)
[19:34:33] <molt> This should make things a bit clearer:https://github.com/Leantime/docker-leantime/issues/13
[19:35:45] *** Joins: amnrst (~amnrst@45-79-201-163.ip.linodeusercontent.com)
[19:36:41] <molt> rawtax: I'm a bit new to docker (just started using it in the past ~10 days), but I think the file is part of a volume/persistant storage that is separate from the image's contents
[19:36:58] <rawtaz> no worries, we've all been new to it at some point!
[19:37:00] <rawtaz> moment
[19:38:46] <rawtaz> whats the path to the file you want to modify?
[19:44:26] <molt> path is /var/www/html
[19:44:38] <molt> I think I found the answer to the issue
[19:44:40] <molt> one moment
[19:45:36] *** Joins: gchound (~gchound@user/gchound)
[19:45:59] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[19:46:31] <rawtaz> sure thing
[19:46:40] <rawtaz> im busy af so if you find it yourself thats great :d
[19:47:14] <molt> :)
[19:48:30] <rawtaz> otherwise ill make sure to look at it
[19:56:36] *** Quits: rv1sr (~rv1sr@user/rv1sr) ()
[19:56:37] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Ping timeout: 240 seconds)
[19:58:46] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 250 seconds)
[20:00:21] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[20:01:14] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[20:02:36] *** Quits: gproto23 (~gproto23@user/gproto23) (Read error: Connection reset by peer)
[20:02:47] <molt> Sorry to bother rawtax. I just can't seem to get this mounting to work properly. I did what "cesalo" suggested on this page --> https://github.com/Leantime/docker-leantime/issues/13  
[20:03:17] *** Joins: DoofusCanadensis (~DoofusCan@S01061056117e7f56.cg.shawcable.net)
[20:03:56] *** Quits: gchound (~gchound@user/gchound) (Quit: Leaving)
[20:04:19] <molt> For example, I did -v /a/directory/locally:/userfiles and similar for the rest of the examples (userfiles, public userfiles, logs, config). But there is nothing inside my local folder that I supposedly mounted to the config stuff
[20:06:00] <molt> The OP on the Github issue I linked explains the issue 100%
[20:06:01] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[20:06:54] *** justJustache is now known as justache
[20:08:45] *** Joins: lilgopher (~textual@2601:241:8000:38f0:f4fc:9cd1:65b9:ee10)
[20:09:09] *** Quits: lilgopher (~textual@2601:241:8000:38f0:f4fc:9cd1:65b9:ee10) (Client Quit)
[20:12:26] *** Joins: thiras (~thiras@user/thiras)
[20:13:02] *** Joins: XV8 (~XV8@2601:5cb:c001:50:552:a21c:75c1:657)
[20:15:34] <rawtaz> it's rawtaz not rawtax
[20:16:10] <rawtaz> /var/www/html is a folder, what is the path to the *file* you want to modify?
[20:16:46] <molt> sorry... typo. 'z' and 'x' next to eachother on keyboard
[20:16:52] <rawtaz> hehe yeah
[20:16:59] <rawtaz> i just tabcomplete nicks :)
[20:17:07] <molt> nice
[20:17:09] <rawtaz> (that backfires a lot sometimes, but usually works)
[20:17:20] <molt> the filename is something like config.php I believe
[20:17:47] <molt> but from what the OP is saying (along with everyone else in that thread) these paths need to be persistent
[20:18:20] <rawtaz> yes
[20:18:30] <molt> I have a feeling I'm writing syntax incorrectly or something.
[20:19:19] <rawtaz> so, does that software only present data or do you ever modify data in it?as in, does it only work e.g. against a database where everything is stored, so that there's no need to store files on the leantime server?
[20:19:36] <rawtaz> i assume that there *are* files stored and that they are now stored inside the container, which means that when you remove the container the files will be gone
[20:19:57] *** Quits: Bardon (~Bardon@user/Bardon) (Ping timeout: 240 seconds)
[20:20:13] <molt> sometimes data needs to be modified. and yes, there are things stored in the container that shouldn't be
[20:20:37] <rawtaz> if you do  -v /a/directory/locally:/userfiles  then you should have that local path mounted at /userfiles inside the contianer, indeed. you can `docker exec` into the container to investigate what's mounted there and to see what /userfiles contain
[20:20:59] <molt> user profile stuff, config files (which can't be configured via UI or via docker), and logs
[20:21:07] <rawtaz> you can make a test file in that local folder, just e.g. "touch apa.txt" and see if you can spot it in /userfiles in the container
[20:21:11] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[20:23:40] *** Joins: Bardon (~Bardon@user/Bardon)
[20:24:02] *** Joins: minimal (~minimal@user/minimal)
[20:24:32] *** Quits: SmokenatorZ6 (~Smokenato@152.249.182.78) (Quit: Screw you guys, im going home)
[20:24:52] *** Joins: jkwnki (~jkwnki@p4fedb70b.dip0.t-ipconnect.de)
[20:25:37] *** Quits: vidbina (~vid@dynamic-077-011-109-222.77.11.pool.telefonica.de) (Ping timeout: 240 seconds)
[20:25:42] *** Joins: lbracher (~lucas@2804:14c:fc80:85a9:994f:84c4:b8cc:7700)
[20:26:02] *** Quits: zer0bitz (~zer0bitz@2001:2003:f444:a000:295b:27c3:87b1:2b8f) (Ping timeout: 240 seconds)
[20:29:10] *** Joins: SmokenatorZ6 (~Smokenato@177.62.66.238)
[20:31:01] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[20:33:22] *** Joins: luckiswithme (~luckiswit@149.167.139.159)
[20:38:26] *** Quits: luckiswithme (~luckiswit@149.167.139.159) (Remote host closed the connection)
[20:39:22] *** Joins: luckiswithme (~luckiswit@149.167.139.159)
[20:40:40] *** Joins: trevors (~trevors@user/trevors)
[20:41:33] <lbracher> Hello! I would like to have a suggestion for a problem I'm facing: I have 2 containers, one runs a Flask API and other runs a VueJS frontend. On my computer, VueJS asks data for API on 0.0.0.0 (hardcoded) and obtains data. The problem is, when I move these 2 containers to another machine, VueJS keeps asking data to 0.0.0.0 and I don't get data anymore. Any ideas for solving that?
[20:44:33] <rawtaz> lbracher: something being directed to connect to 0.0.0.0 sounds incredibly wrong
[20:44:58] <rawtaz> lbracher: your vue should connect to the api on one and the correct IP/hostname
[20:45:31] <lbracher> rawtaz, ok, I'll pass it by a an envvar. Thanks!
[20:45:45] <rawtaz> sure np
[20:46:00] <rawtaz> i mean, it shouldnt have even been able to work if it tried to connect to 0.0.0.0 IMO
[20:50:42] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[20:52:13] *** Joins: maryo (~Maryo@user/maryo)
[20:53:53] *** Joins: vidbina (~vid@dynamic-077-011-109-222.77.11.pool.telefonica.de)
[20:54:17] <programmerq> yeah, 0.0.0.0 isn't something you connect to. It's known as the "any address". So if something is configured to listen on 0.0.0.0, that just means that it is listening on all interfaces. This is usually exactly what you want since you don't know the specific container ip ahead of time.
[20:54:55] <programmerq> so if your flask api is running in a container called "flask" and the other container is connected to the same user-defined docker network, it can just connect to "flask" and it will resolve thanks to the docker container service discovery stuff.
[20:57:16] *** Joins: trevors (~trevors@user/trevors)
[20:58:34] *** Quits: vidbina (~vid@dynamic-077-011-109-222.77.11.pool.telefonica.de) (Ping timeout: 250 seconds)
[20:59:03] *** Quits: luckiswithme (~luckiswit@149.167.139.159) (Remote host closed the connection)
[21:01:37] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 240 seconds)
[21:04:58] *** Quits: rsx (~dummy@ppp-188-174-133-55.dynamic.mnet-online.de) (Quit: rsx)
[21:05:32] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[21:05:37] *** Quits: LtHummus (~lthummus@97-126-121-3.tukw.qwest.net) (Read error: Connection reset by peer)
[21:06:13] *** Joins: bn_work (uid268505@id-268505.uxbridge.irccloud.com)
[21:06:32] *** Joins: LtHummus (~lthummus@97-126-121-3.tukw.qwest.net)
[21:07:08] <bn_work> hi, is there a markdown template doc available for the README.md one can use for images like on hub.docker.com?
[21:10:24] *** Joins: vidbina (~vid@dynamic-077-011-109-222.77.11.pool.telefonica.de)
[21:10:44] <programmerq> There's just a ton of README.md files in the docker official library docs repo. https://github.com/docker-library/docs/
[21:11:41] <programmerq> you can swipe both the template snippets and the generated result and use any of those as a starting point
[21:13:44] <bn_work> ah, ok, yeah, it seems many of them link to the source GH that has the README.md, thanks
[21:15:21] <programmerq> there have occasionally been minor differences in the markdown rendering that docker hub does compared to github's markdown flavor. I seem to recall that hub did switch to gfmd several years back, but it also looks like tianon has a script in that docs repo to lint, which should help you find any issues.
[21:17:06] <tianon> my approach to linting is just to markdownfmt and hope for the best O:)
[21:17:21] <ikke> :D
[21:18:47] *** Joins: ExeciN (~ExeciN@user/nicexe)
[21:21:01] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[21:23:56] <bn_work> programmerq: looks like there'a generator, is that used to generate the initial stub files referenced in https://github.com/docker-library/docs/#how-do-i-add-a-new-images-docs ?  or do I make those from scratch in my <image-name> dir?
[21:24:15] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[21:24:58] <bn_work> (it claims https://github.com/docker-library/docs/#generate-repo-stub-readmesh "is used to generate a simple README.md to put in the image's repo. We use this in Git repositories within https://github.com/docker-library to simplify our maintenance, but it is not required for anyone else.")
[21:26:28] <bn_work> s/there'a/there's a/
[21:26:28] *** Joins: trevors (~trevors@user/trevors)
[21:28:14] <bn_work> oh, there's #docker-library, I guess I should ask there
[21:31:35] *** Joins: bloodninja (~bloodninj@user/bloodninja)
[21:31:59] *** Quits: Thanzex (~Thanzex@37.103.212.236) (Read error: Connection reset by peer)
[21:32:08] *** Joins: Thanzex (~Thanzex@37.103.212.236)
[21:32:37] <lbracher> programmerq, where do I set the domain name for the container on docker-compose file? Is it on hostname?
[21:33:07] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Ping timeout: 256 seconds)
[21:34:53] <rawtaz> each service in a compose app will have its IP published in the docker-internal DNS with the service name as the hostname. e.g. for service "foo" there will be a hostname "foo" you can use to connect to that service
[21:36:54] *** Joins: lilgopher (~textual@2601:241:8000:38f0:8c06:33d6:d16:e831)
[21:43:26] *** Joins: noex (~null@user/noex)
[21:44:36] <noex> how can i source or include common behavior in multiple dockerfiles?
[21:45:06] *** Joins: s33ker (~s33ker@89-212-68-200.dynamic.t-2.net)
[21:45:23] *** Joins: waldo323 (~waldo323@d14-69-96-170.try.wideopenwest.com)
[21:45:49] *** Quits: max-m (~max-m@2a01:4f8:150:6153:beef::6667) (Quit: Ping timeout: 480 seconds)
[21:45:49] *** Quits: TimWolla (~timwolla@2a01:4f8:150:6153:beef::6667) (Quit: Bye)
[21:49:05] *** Joins: max-m (~max-m@2a01:4f8:150:6153:beef::6667)
[21:50:15] <noex> looks like the way it's being done now is that the same commands are just copied and pasted in several dockerfiles. surely there is a better way?
[21:51:37] *** Joins: TimWolla (~timwolla@2a01:4f8:150:6153:beef::6667)
[21:56:54] <rawtaz> noex: please be more specific - what exactly do you need to do?
[21:57:22] <rawtaz> its very common that you "extend" Dockerfiles, e.g. have Dockerfile A that contains some stuff, then Dockerfile B that uses FROM A and also adds some of its own stuff
[21:57:25] <rawtaz> thats the general answer i suppose
[21:57:42] <rawtaz> you can also do multistage builds, where you have multiple FROMs in the same Dockerfile
[21:57:44] <noex> i have properties in several dockerfiles that set environment variables. i want to set the same variables in all of the images.
[21:58:29] <noex> the images are rhel6, rhel8, win10, etc
[21:58:30] <rawtaz> can you show one of the lines that sets such an env var?
[21:58:36] <rawtaz> or a couple
[21:58:53] <noex> ENV http_proxy=https://corporateproxy.com
[22:00:48] <noex> ENV https_proxy=https://corporateproxy.com
[22:00:54] <noex> ENV ftp_proxy=https://corporateproxy.com
[22:01:16] <noex> ENV HTTP_PROXY=https://corporateproxy.com
[22:01:18] <noex> ...
[22:01:53] <tabakhase> noex copy&paste is pretty much it - but usually not you doing it, but dockerfiles generated from central template or such - closest similar case is likely other library images
[22:02:01] *** Quits: lithium (~lithium@user/lithium) (Ping timeout: 256 seconds)
[22:02:56] <tabakhase> also, just one dockerfile for doing "your stuff" and using a build-arg to swap out the FROM may work decently
[22:03:03] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[22:05:46] <tabakhase> ("ARG UPSTREAM \n FROM $UPSTREAM \n ENV ..." and some `docker build -t my:rel6 --build-arg UPSTREAM=rel6 .`)
[22:06:17] <rawtaz> i cant think of a way either. you cant "source" another Dockerfile i think.
[22:06:32] <rawtaz> and i suppose you mean that you cant make a base Dockerfile that all the others extend from?
[22:06:36] <noex> tabakhase: i follow that part. but after the common file is run, how would i continue on to the parts taht make them unique?
[22:06:56] <noex> rawtaz: i don't know, can I? they are all different operating systems.
[22:07:25] <noex> rawtaz: sorry, I read that as "base image" for some reason.
[22:08:40] <noex> the build arg makes sense for the common properties, but then they would have to continue on to the parts that make them different (installed packages, etc). i guess it could be scripted.
[22:08:54] <noex> use the same build arg to run a dockerfile with the same name maybe?
[22:09:09] <tabakhase> noex with there own builds then - like id expect a "Dockerfile.env" and a "Dockerfile.rel6" - then have your buildjob be "docker build -t my:rel6-base -f Dockerfile.env --build-arg UPSTREAM=rel6 . && docker build -t my:rel6 -f Dockerfile.rel6 ." or such
[22:09:28] <noex> yeah that makes sense
[22:09:32] <noex> that should work
[22:09:58] *** Joins: rv1sr (~rv1sr@user/rv1sr)
[22:10:27] <noex> at least, i think so
[22:11:21] <tabakhase> think there are some 3rd party things to coordinate "build order" and such a bit better, but few lines of bash will likely do just fine
[22:11:55] <noex> yeah that sounds like a pretty simple script.  thanks! i think that will work perfect.
[22:12:44] *** Joins: C4Crawford (~C4Crawfor@2600:1700:5470:712f:509f:c245:d750:4b95)
[22:12:58] <tabakhase> you may also want another templating shim in there if "Dockerfile.rel" is actually useable for 6 and 7 or such - but in the end there is nothing thats really "clean" i fear
[22:14:52] *** Quits: thiras (~thiras@user/thiras) (Quit: Leaving)
[22:16:09] <tabakhase> and check stuff like https://github.com/nginxinc/docker-nginx/ or other library images, they all have that problem and a wild mix of sollutions for "multi arch, multi os, multi version" - and how to somehow map this to a useable git-history :D
[22:18:26] <noex> tabakhase: that script is crazy. surprised there's no other way
[22:25:53] *** Joins: din0 (~dino@user/din0)
[22:28:16] *** Quits: maryo (~Maryo@user/maryo) (Ping timeout: 256 seconds)
[22:30:39] *** Quits: TomyWork (~TomyLobo@p200300e80f0067000d65dce87c2c82c9.dip0.t-ipconnect.de) (Remote host closed the connection)
[22:42:44] *** Joins: goldfish (~goldfish@user/goldfish)
[22:43:00] *** Quits: jkwnki (~jkwnki@p4fedb70b.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[22:45:26] *** Joins: nodulo (~nodulo@lneuilly-657-1-5-6.w81-250.abo.wanadoo.fr)
[22:45:31] <nodulo> Hello
[22:54:21] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 276 seconds)
[22:55:04] <rawtaz> lo
[22:55:32] <rawtaz> noex: is this really env vars you have to keep in the image? cant you just inject them during runtime?
[22:55:40] <rawtaz> then this is a non-issue
[23:03:57] *** Quits: cliluw (~cliluw@47.147.73.223) (Ping timeout: 240 seconds)
[23:07:31] *** Quits: C4Crawford (~C4Crawfor@2600:1700:5470:712f:509f:c245:d750:4b95) (Read error: Connection reset by peer)
[23:07:41] *** Quits: nodulo (~nodulo@lneuilly-657-1-5-6.w81-250.abo.wanadoo.fr) (Quit: Client closed)
[23:21:32] *** Quits: noex (~null@user/noex) (Ping timeout: 240 seconds)
[23:21:54] *** Joins: cliluw (~cliluw@47.147.73.223)
[23:27:28] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.3)
[23:31:30] *** Joins: nodulo (~nodulo@lneuilly-657-1-5-6.w81-250.abo.wanadoo.fr)
[23:36:05] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[23:44:59] *** Quits: nodulo (~nodulo@lneuilly-657-1-5-6.w81-250.abo.wanadoo.fr) (Quit: Client closed)
[23:53:48] *** Joins: sparky-19 (~sparky-19@h86.115.117.75.dynamic.ip.windstream.net)
[23:54:42] *** Quits: s33ker (~s33ker@89-212-68-200.dynamic.t-2.net) (Quit: Client closed)
[23:56:46] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[23:57:12] *** Joins: libcat (~quassel@2a01:4f8:c2c:2b3a::1)
[23:58:57] *** Quits: denningsrogue (~denningsr@98.97.131.238) (Ping timeout: 240 seconds)
[23:59:42] *** Quits: Czernobog (~Czernobog@user/czernobog) (Ping timeout: 250 seconds)
