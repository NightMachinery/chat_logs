[00:00:21] *** Joins: naicam|ne (~naicam|ne@wireguard/tunneler/naicamne)
[00:00:40] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[00:00:53] *** Joins: withered__dragon (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[00:01:30] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:03:16] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[00:04:44] *** Quits: withered__dragon (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Client Quit)
[00:05:19] *** Quits: analogsalad (~analogsal@user/analogsalad) (Quit: bye)
[00:08:26] *** Joins: trafficjam (~trafficja@119.17.42.59)
[00:10:02] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[00:18:17] *** Joins: vidbina (~vid@213.94.6.230)
[00:24:26] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Quit: If dreams are like movies, then memories are films about ghosts.)
[00:24:38] *** Quits: rsx (~dummy@ppp-188-174-153-38.dynamic.mnet-online.de) (Quit: rsx)
[00:25:16] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[00:27:57] *** Joins: goldfish (~goldfish@user/goldfish)
[00:34:21] *** Joins: Bruners (~lasseb@178.16.64.98)
[00:38:07] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:38:12] *** Joins: cotko (~cotko@188-230-251-153.dynamic.t-2.net)
[00:38:57] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[00:39:42] *** Quits: cotko (~cotko@188-230-251-153.dynamic.t-2.net) (Client Quit)
[00:39:57] *** Joins: cotko (~cotko@188-230-251-153.dynamic.t-2.net)
[00:42:03] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[00:45:57] *** Quits: AnapodoPsalidi (~AnapodoPs@154.57.4.229) (Ping timeout: 240 seconds)
[00:46:21] *** Joins: Bruners (lasseb@178.16.64.98)
[00:51:39] *** jelly is now known as le
[00:51:52] *** le is now known as jelly
[00:55:41] *** Quits: eyJhb (~eyJhb@user/eyjhb) (Quit: Clever message)
[00:55:55] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[00:59:03] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 256 seconds)
[01:00:37] *** Quits: vidbina (~vid@213.94.6.230) (Ping timeout: 256 seconds)
[01:02:38] *** Joins: eyJhb (~eyJhb@user/eyjhb)
[01:03:15] *** Joins: lilgopher (~textual@2601:241:8000:38f0:b93c:7b73:2b99:2cd1)
[01:05:48] *** Quits: The_Jag (~The_Jag@host-79-52-45-220.retail.telecomitalia.it) (Quit: The_Jag)
[01:06:17] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Ping timeout: 240 seconds)
[01:07:59] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[01:10:26] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:12:33] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:13:22] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[01:13:25] *** Joins: shnee (~shneematr@2001:470:69fc:105::1:5fd3)
[01:20:55] *** Quits: zer0bitz (~zer0bitz@196.244.192.60) (Read error: Connection reset by peer)
[01:21:26] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:23:00] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[01:25:02] *** Joins: isflavior (~isflavior@2001:8a0:5dd8:4100:54e0:28d2:9a45:156a)
[01:26:08] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Client Quit)
[01:33:37] *** Parts: trafficjam (~trafficja@119.17.42.59) ()
[01:34:18] *** Joins: vidbina (~vid@213.94.6.230)
[01:35:42] *** Joins: thetic (~thetic@174-21-54-220.tukw.qwest.net)
[01:39:41] *** Joins: mossman93 (~quassel@user/mossman93)
[01:43:09] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[01:43:59] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[01:44:32] *** Quits: bencc1 (~bencc1@2a00:a040:197:3af:df2d:6cb1:2635:da16) (Ping timeout: 240 seconds)
[01:46:01] *** Joins: Bruners (lasseb@178.16.64.98)
[01:50:15] *** Quits: BenjiProd (~BenjiProd@user/benjiprod) (Remote host closed the connection)
[01:50:17] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:53:21] <ash_worksi> do people normally have 1 queue for interactions between a multitude of microservices? or do people run like 1 queue per service?
[01:53:42] *** Joins: goldfish (~goldfish@user/goldfish)
[01:54:44] <rawtaz> when you say service i dont suppose you mean docker compose service?
[01:55:35] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[01:56:26] <ash_worksi> I mean as in a deployable service -- so.. could be using compose
[01:57:25] <rawtaz> i mean, by service you mean like one colleciton of microservice applications?
[01:57:45] <gordonjcp> ash_worksi: you mean like, if i have a docker-compose project with a bunch of interacting services, I throw everything into one redis queue?
[01:57:48] <gordonjcp> ash_worksi: yes
[01:58:06] <gordonjcp> ash_worksi: except for things that don't, like netbox has a redis task queue and a redis cache queue
[01:58:25] <rawtaz> ash_worksi: the thing is that each contianer in a compose app is called a service. hence the confusion :>
[01:58:42] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) (Remote host closed the connection)
[02:02:58] *** Joins: Bruners (~lasseb@178.16.64.98)
[02:08:45] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[02:10:49] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[02:13:17] *** Quits: vidbina (~vid@213.94.6.230) (Ping timeout: 240 seconds)
[02:13:45] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Client Quit)
[02:25:01] *** Joins: BSaboia (~bsaboia@177.37.198.83)
[02:27:19] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 256 seconds)
[02:29:18] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[02:29:19] *** Joins: tricklynch (~tricklync@c-73-69-209-219.hsd1.ma.comcast.net)
[02:29:22] *** Joins: Bruners (lasseb@178.16.64.98)
[02:29:53] <ash_worksi> I suppose, I mean, in production where each service might be it's own project then I might just deploy it as `docker service create my_image` where a queue connection is perhaps in a docker secret
[02:30:32] <ash_worksi> the point is my_image might push messages to a queue for my_image_worker
[02:31:12] <ash_worksi> erm... let me clear up some confusion by starting over....
[02:31:17] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Client Quit)
[02:32:28] <ash_worksi> I might just deploy it as `docker service create --name my_service my_image`
[02:32:53] <ash_worksi> and my_service might queue messages for my_service_worker
[02:33:18] <ash_worksi> now suppose I also have `another_service` which queues messages for `another_service_worker` ... same queue?
[02:34:06] <ash_worksi> to see how these things are related, pretend their `inventory` -> `inventory_worker` and `pricing` -> `pricing_worker`
[02:34:38] <ash_worksi> I could have 2 queues there, but microservices that small might amount to like... 20 or 40 queues
[02:36:43] <rawtaz> hm i never used docker service or swarm
[02:37:22] <rawtaz> right
[02:37:47] <rawtaz> well i will just consider them two separate projects/service. we could clarify it by saying that each of the two projects have different users
[02:38:13] <rawtaz> i would ask you this question: are you fine with if you needed to take down the queue for one project, the other one goes down with it?
[02:38:37] <rawtaz> i would in general say no, i dont want one project to depend on another if i can avoid it. i would keep them separate, unless i have a more specific reason not to
[02:39:40] <rawtaz> it's pretty much like should you have one and the same database server for two different projects, i guess
[02:40:29] *** Quits: tricklynch (~tricklync@c-73-69-209-219.hsd1.ma.comcast.net) (Ping timeout: 256 seconds)
[02:43:53] *** Joins: tricklynch (~tricklync@c-73-69-209-219.hsd1.nh.comcast.net)
[02:44:36] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[02:44:46] *** Quits: DrowningElysium (uid190788@user/drowningelysium) (Quit: Connection closed for inactivity)
[02:47:57] *** Quits: tricklynch (~tricklync@c-73-69-209-219.hsd1.nh.comcast.net) (Ping timeout: 240 seconds)
[02:48:06] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[02:51:23] *** Quits: lilgopher (~textual@2601:241:8000:38f0:b93c:7b73:2b99:2cd1) (Quit: Textual IRC Client: www.textualapp.com)
[02:51:53] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:52:23] *** Quits: Fauve (~Fauve@user/fauve) (Ping timeout: 256 seconds)
[02:52:50] *** Quits: thetic (~thetic@174-21-54-220.tukw.qwest.net) (Ping timeout: 256 seconds)
[02:54:37] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 240 seconds)
[02:57:30] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:57:52] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[02:59:28] *** Joins: lilgopher (~textual@2601:241:8000:38f0:256e:d3dc:d349:22df)
[02:59:37] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[03:07:04] *** Joins: Fauve (~Fauve@user/fauve)
[03:07:18] *** Quits: isflavior (~isflavior@2001:8a0:5dd8:4100:54e0:28d2:9a45:156a) (Quit: isflavior)
[03:12:50] *** Joins: Bruners (~lasseb@178.16.64.98)
[03:12:57] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 240 seconds)
[03:19:46] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[03:36:32] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 240 seconds)
[03:37:45] *** Joins: Trieste (T@user/pilgrim)
[03:42:32] *** Joins: dobbicorp (~chipas@user/dobbicorp)
[03:42:51] *** Quits: ada_ (uid242135@user/ada/x-9065485) (Quit: Connection closed for inactivity)
[03:43:02] <dobbicorp> does installing docker for linux with GPU support differ from "without GPU" install
[03:43:05] <dobbicorp> ?
[04:12:52] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[04:17:06] *** Quits: CombatVet (~c4@user/combatvet) (Remote host closed the connection)
[04:17:22] *** Joins: CombatVet (~c4@user/combatvet)
[04:20:07] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Remote host closed the connection)
[04:21:58] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[04:28:23] *** Joins: daMaestro (~damaestro@fedora/daMaestro)
[04:41:40] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[04:43:53] *** Quits: cotko (~cotko@188-230-251-153.dynamic.t-2.net) (Ping timeout: 256 seconds)
[04:46:10] *** Joins: jazzy (~jaziz@user/jaziz)
[04:58:05] *** Quits: rardiol (~quassel@user/rardiol) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[05:08:30] *** Quits: dobbicorp (~chipas@user/dobbicorp) (Quit: leaving)
[05:14:13] *** Joins: MrBlue_ (~MrBlue@139.28.218.132)
[05:15:37] *** Quits: MrBlue (~MrBlue@87.101.92.110) (Ping timeout: 256 seconds)
[05:15:45] *** MrBlue_ is now known as MrBlue
[05:35:53] *** Quits: MrBlue (~MrBlue@139.28.218.132) (Quit: Leaving)
[05:36:28] *** Joins: rardiol (~quassel@user/rardiol)
[05:37:53] *** Joins: vigumnov (~victori@cpe-76-174-179-126.socal.res.rr.com)
[05:38:51] *** Quits: victori (~victori@cpe-76-174-179-126.socal.res.rr.com) (Ping timeout: 256 seconds)
[05:47:55] *** Quits: tsal (~tsal@user/tsal) (Ping timeout: 256 seconds)
[05:54:47] *** Joins: tsal (~tsal@user/tsal)
[06:09:29] *** Joins: alchemist_ (~alchemist@user/alchemist)
[06:12:59] *** Quits: alchemist (~alchemist@user/alchemist) (Ping timeout: 256 seconds)
[06:18:03] *** Joins: evocatus (~evocatus@62.182.77.224)
[06:19:30] *** Quits: mjh4386 (~mjh4386@165.22.53.231) (Ping timeout: 260 seconds)
[06:22:55] *** Joins: mjh4386 (~mjh4386@165.22.53.231)
[06:24:56] *** Quits: wez (~wyoung@about/web/wez) (Ping timeout: 245 seconds)
[06:26:52] *** Joins: wez (~wyoung@about/web/wez)
[06:29:23] *** Joins: catbehemoth (~vasyl@bras-base-lnglpq6100w-grc-15-206-172-247-21.dsl.bell.ca)
[06:36:13] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 256 seconds)
[06:38:00] *** Joins: keypusher (keypusher@user/keypusher)
[06:56:06] *** Joins: sebastianos (~sebastian@user/sebastianos)
[07:05:16] *** Joins: keypushe- (keypusher@user/keypusher)
[07:06:41] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 256 seconds)
[07:08:30] *** keypushe- is now known as keypusher
[07:12:41] *** Quits: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1) (Quit: The Lounge - https://thelounge.chat)
[07:13:41] *** Joins: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1)
[07:13:52] *** Quits: sebastianos (~sebastian@user/sebastianos) (Quit: %quit%)
[07:15:56] *** Joins: sebastianos (~sebastian@user/sebastianos)
[07:22:03] *** Joins: martums (~martums@user/martums)
[07:26:34] *** Quits: sebastianos (~sebastian@user/sebastianos) (Quit: %quit%)
[07:30:09] *** Joins: sebastianos (~sebastian@user/sebastianos)
[07:39:21] *** Quits: CombatVet (~c4@user/combatvet) (Remote host closed the connection)
[07:39:37] *** Joins: CombatVet (~c4@user/combatvet)
[07:46:43] *** Quits: evocatus (~evocatus@62.182.77.224) (Quit: Leaving)
[08:08:13] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 240 seconds)
[08:10:56] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[08:12:19] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Remote host closed the connection)
[08:12:46] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[08:15:21] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) (Remote host closed the connection)
[08:29:38] *** Quits: daMaestro (~damaestro@fedora/daMaestro) (Quit: Leaving)
[08:34:11] *** Joins: bencc1 (~bencc1@2a00:a040:197:3af:de56:1c8e:c1c:198b)
[08:34:56] *** Quits: notsponsible (~notsponsi@37.19.196.180) (Quit: notsponsible)
[08:35:15] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-b547-ef3f-a0b7-179d.res6.spectrum.com) (Quit: jarthur)
[08:39:37] *** Joins: notsponsible (~notsponsi@37.19.196.180)
[08:44:34] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[08:49:15] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) (Ping timeout: 256 seconds)
[09:13:17] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 240 seconds)
[09:14:38] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[09:35:57] *** Quits: Tabmow (~tabmow@user/tabmow) (Ping timeout: 240 seconds)
[09:42:10] *** Quits: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:a93d:45b4:3db5:cd72) (Quit: So as you can see from this flowchSQUIRREL!!)
[09:52:13] *** Joins: imp (~imp@192-141-191-227.alternativaip.net.br)
[09:52:43] *** Joins: thetic (~thetic@174-21-54-220.tukw.qwest.net)
[09:57:13] *** Joins: chenxuezhao (~chenxuezh@106.39.157.10)
[10:04:02] *** Joins: standardrat (~standardr@196.30.99.2)
[10:05:02] *** Joins: Tabmow (~tabmow@user/tabmow)
[10:07:26] *** Quits: imp (~imp@192-141-191-227.alternativaip.net.br) (Remote host closed the connection)
[10:08:44] *** Joins: imp (~imp@192-141-191-227.alternativaip.net.br)
[10:09:51] *** Quits: chenxuezhao (~chenxuezh@106.39.157.10) (Ping timeout: 256 seconds)
[10:14:44] *** Quits: lilgopher (~textual@2601:241:8000:38f0:256e:d3dc:d349:22df) (Quit: Textual IRC Client: www.textualapp.com)
[10:24:35] *** Joins: Mattiaslndstrm (~Mattiasln@185.213.154.230)
[10:24:35] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[10:28:59] *** Quits: Mattiaslndstrm (~Mattiasln@185.213.154.230) (Ping timeout: 256 seconds)
[10:31:03] *** Joins: Bruners (lasseb@178.16.64.98)
[10:34:05] *** Quits: thetic (~thetic@174-21-54-220.tukw.qwest.net) (Ping timeout: 256 seconds)
[10:40:37] *** Quits: Tabmow (~tabmow@user/tabmow) (Ping timeout: 240 seconds)
[10:50:31] *** Quits: rardiol (~quassel@user/rardiol) (Ping timeout: 256 seconds)
[11:00:05] <OverCoder> hi, I have varnish depends_on webapp depends_on postgres
[11:00:20] <OverCoder> The problem is that it seems like webapp starts first, then postgres and then varnish
[11:00:25] <OverCoder> how do I verify this
[11:00:58] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Remote host closed the connection)
[11:00:59] <OverCoder> Could docker-compose logs be lagging or something?
[11:01:15] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[11:01:52] <OverCoder> or er, it looks like they just start in random order, right now says in my terminal something like
[11:02:11] <OverCoder> Starting postgres_1 ... done; Starting varnish_1 ... done; Starting webapp ... done
[11:03:20] <OverCoder> I use a healthcheck to be completely use the container is fully up
[11:03:28] <OverCoder> completely sure *
[11:04:38] *** Joins: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net)
[11:06:38] <OverCoder> it just randomly works now
[11:06:40] * OverCoder shrug
[11:07:40] <OverCoder> It's just apparently docker-compose attaches to the container's logs out of order
[11:10:09] *** Joins: Tabmow (~tabmow@user/tabmow)
[11:15:15] *** Joins: vidbina (~vid@213.94.6.230)
[11:20:33] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 256 seconds)
[11:23:06] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[11:25:01] *** Joins: jazzy2 (~jaziz@user/jaziz)
[11:27:57] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[11:28:39] *** Joins: ExeciN (~ExeciN@user/nicexe)
[11:29:45] *** Quits: vidbina (~vid@213.94.6.230) (Ping timeout: 256 seconds)
[11:35:22] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[11:37:22] *** Quits: archpc (~archpc@user/archpc) (Quit: Ping timeout (120 seconds))
[11:37:39] *** Joins: archpc (~archpc@user/archpc)
[11:38:24] *** Quits: bn_work (uid268505@id-268505.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[11:47:31] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Quit: WeeChat 3.3)
[11:51:36] *** Joins: vidbina (~vid@2a02:3030:4:d142:5c88:5ca1:608a:dc6c)
[12:01:14] *** Joins: VaniaPy (~VaniaPy@46.12.95.180.dsl.dyn.forthnet.gr)
[12:04:38] *** jazzy2 is now known as jazzy
[12:08:10] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Read error: Connection reset by peer)
[12:14:29] *** Joins: lithium (~lithium@user/lithium)
[12:16:22] *** Joins: goldfish (~goldfish@user/goldfish)
[12:21:19] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 256 seconds)
[12:26:58] *** Joins: AnapodoPsalidi (~AnapodoPs@2a02:587:291b:fbb7:ce7c:801b:9458:ad2e)
[12:29:26] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[12:31:57] *** Joins: isflavior (~isflavior@2001:8a0:5dd8:4100:54e0:28d2:9a45:156a)
[12:33:24] *** Joins: bouncy (~ben@user/benoit)
[12:45:41] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 256 seconds)
[12:48:37] *** Joins: amazoniantoad (~jr@c-98-193-154-245.hsd1.tn.comcast.net)
[12:49:08] <amazoniantoad> I'm trying to install mod-wsgi into my docker container but I get errors saying that the "apxs" command does not appear to be installed
[12:53:46] *** Joins: maret_ (~maret@nat-88-212-37-89.antik.sk)
[12:57:01] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Ping timeout: 256 seconds)
[13:05:22] *** Joins: AnapodoPsalidaki (~AnapodoPs@195.46.31.29)
[13:06:37] *** Quits: AnapodoPsalidi (~AnapodoPs@2a02:587:291b:fbb7:ce7c:801b:9458:ad2e) (Ping timeout: 240 seconds)
[13:24:02] *** Quits: Tach (~Tach@user/tach) (Read error: Connection reset by peer)
[13:24:10] *** Quits: amazoniantoad (~jr@c-98-193-154-245.hsd1.tn.comcast.net) (Quit: Lost terminal)
[13:31:36] *** Joins: bouncy (~ben@user/benoit)
[13:32:37] *** Quits: vidbina (~vid@2a02:3030:4:d142:5c88:5ca1:608a:dc6c) (Ping timeout: 240 seconds)
[13:34:57] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[13:36:59] *** Joins: jazzy (~jaziz@user/jaziz)
[13:40:42] *** Quits: lehinsun (~ttytwiste@188.113.176.117) (Read error: Connection reset by peer)
[13:45:24] *** Joins: Tach (~Tach@user/tach)
[13:55:16] <Tach> When having a swarm does each host opens ports to the ingress IP ?
[13:56:10] *** Joins: king_ (~kingpengu@77.24.5.209)
[14:00:02] *** Joins: youmustrust (~nobody@ec2-18-182-239-10.ap-northeast-1.compute.amazonaws.com)
[14:01:58] <youmustrust> Hi, guys. Is there any way to name an image without an linked registry? In my understanding, tagging an image would eventually link it to some registry(=if omitted, default one), right? I want to use it on my local only. 
[14:02:33] <youmustrust> The intent was to easily start, stop an image without referencing the hash.
[14:07:08] *** Quits: standardrat (~standardr@196.30.99.2) (Remote host closed the connection)
[14:07:32] *** Joins: standardrat (~standardr@196.30.99.2)
[14:07:46] *** Joins: vlm (~vlm@user/vlm)
[14:17:09] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:19:57] *** Quits: king_ (~kingpengu@77.24.5.209) (Ping timeout: 240 seconds)
[14:21:09] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[14:27:37] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 240 seconds)
[14:33:54] *** Parts: youmustrust (~nobody@ec2-18-182-239-10.ap-northeast-1.compute.amazonaws.com) ()
[14:34:37] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[14:49:21] *** Joins: standardrat_ (~standardr@196.30.99.2)
[14:50:55] *** Quits: standardrat (~standardr@196.30.99.2) (Ping timeout: 256 seconds)
[14:51:22] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-630-171.w86-246.abo.wanadoo.fr) (Quit: The Lounge - https://thelounge.chat)
[14:54:11] *** Joins: standardrat (~standardr@196.30.99.2)
[14:55:49] *** Quits: standardrat (~standardr@196.30.99.2) (Max SendQ exceeded)
[14:56:10] *** Joins: standardrat (~standardr@196.30.99.2)
[14:56:35] *** Quits: standardrat_ (~standardr@196.30.99.2) (Ping timeout: 256 seconds)
[15:03:47] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-630-171.w86-246.abo.wanadoo.fr)
[15:08:21] *** Quits: standardrat (~standardr@196.30.99.2) (Ping timeout: 256 seconds)
[15:09:25] *** Joins: vidbina (~vid@213.94.6.230)
[15:13:07] *** Joins: standardrat (~standardr@196.30.99.2)
[15:13:38] *** Joins: kingpenguin (~kingpengu@77.24.5.209)
[15:14:09] *** Quits: vidbina (~vid@213.94.6.230) (Ping timeout: 256 seconds)
[15:16:45] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[15:18:41] *** Quits: Fauve (~Fauve@user/fauve) (Ping timeout: 256 seconds)
[15:22:14] *** Joins: vidbina (~vid@213.94.6.230)
[15:24:53] *** Joins: iomari891 (~iomari891@105.112.138.38)
[15:27:20] *** Quits: Zta (~she@5.186.52.63.static.fibianet.dk) (Quit: Leaving.)
[15:29:02] *** Quits: ajfriesen (~ajfriesen@cable-78-35-98-50.nc.de) (Quit: The Lounge - https://thelounge.chat)
[15:31:36] *** Joins: Fauve (~Fauve@user/fauve)
[15:32:33] *** Joins: ajfriesen7 (~ajfriesen@cable-78-35-98-50.nc.de)
[15:37:25] *** Quits: vidbina (~vid@213.94.6.230) (Ping timeout: 240 seconds)
[15:40:17] *** Quits: kingpenguin (~kingpengu@77.24.5.209) (Ping timeout: 240 seconds)
[15:44:06] <Tach> This issue doesn't apply to swarm it seems? https://github.com/chaifeng/ufw-docker 
[15:45:37] *** Quits: standardrat (~standardr@196.30.99.2) (Ping timeout: 240 seconds)
[15:48:07] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:48:30] *** Joins: standardrat (~standardr@196.30.99.2)
[15:54:03] <tabakhase> Tach swarm ingress -> yes all nodes listen all ports & meshroute after | and that uwf-docker post is a little fud-ish... working as it should and not even a "uwf-problem" but literally "thats what networking is yes." kinda deal ;D
[15:55:09] <Tach> tabakhase how do you mean not an ufw problem ? it's not indeed it's a docker issue
[15:57:26] <tabakhase> OverCoder logs lags yes - also "depends_on" only demands that the other thing is created, but doesnt care about actual status, either have your app with a corresponding restart_policy or "strap something to wait into/infront of your entrypoint" https://github.com/vishnubob/wait-for-it (even exists as package for some distris these days)
[16:01:03] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[16:01:04] <tabakhase> Tach if anythign its a "iptables problem" - so it applies to ufw as it would to literally anything else that uses iptables, and for them its working-as-designed, cause yes, it aint no INPUT, its FORWARD --- and i wouldnt call it a docker-issue either, i mean, "you literally ASKED for that port to be published"
[16:02:16] *** Joins: rardiol (~quassel@user/rardiol)
[16:02:28] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[16:03:15] *** Joins: MrBlue (~MrBlue@217.138.213.30)
[16:03:27] *** Quits: selckin (~selckin@user/selckin) (Quit: selckin)
[16:03:35] <tabakhase> id certainly agree that its "unexpected" - but then a "better fix" is kinda setting "ip=127.0.0.1" in deamon.json -> so "-p 80:80" defaults to 127.0.0.1:80:80 NOT the usual 0.0.0.0:80:80" - so one has to use an explicit "-p 0.0.0.0:80:80" to publish to the world
[16:03:38] *** Joins: selckin (~selckin@user/selckin)
[16:07:12] <Tach> tabakhase yeah true but you didn't ask to open port 80 when you did a 8888 -> 80
[16:07:23] <Tach> the problem relies there
[16:07:45] <Tach> and with ingress between you shouldnot have that problem but I though you have as well
[16:08:23] <tabakhase> Tach -p 8888:80 will not touch anythign with 80
[16:08:26] <Tach> an issue i have at the moment is that I can access a server behind ingress not on the docker host itself when I composeupone
[16:08:46] <Tach> tabakhase but that seems to be different as they say
[16:10:39] <tabakhase> maybe ya missread smth? "problem 3." only talks about 8080, no talk about "80" 
[16:10:56] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Changing host)
[16:10:56] *** Joins: trevors (~trevors@user/trevors)
[16:11:15] <tabakhase> and "2. -p 0.0.0.0:8080:80" - then "4. a port that was originally intended to provide services internally is exposed to the public network" -- kinda discredits that whole page...
[16:11:58] <Tach> tabakhase so what is the issue they see in your opinion ?
[16:13:39] <tabakhase> effectively "not understanding that your host becomes a router"  (what it HAS todo, not only for the way in with published ports - but very much also OUT so your containers can reach internet to build and such :P
[16:16:01] <Tach> tabakhase what would be the issue if it's router, I think they see something else they run into and I had a while ago aswell but cannot see what it was back the days
[16:16:19] <tabakhase> or maybe "not understanding what 0.0.0.0 means" when you only target the points 2. vs 4.
[16:17:14] <Tach> tabakhase what I see is that you WANT ufw otherwise your box has everything open, OK it's not forwarded but still
[16:17:37] <tabakhase> cause as said, id certainly see how this can be unexpected - and would certainly put in my vote to have "secure defaults" that at least "-p 80:80" would autofill to localhost, not 0.0.0.0 or so -- but its kinda to late for that ;D
[16:17:46] *** Joins: Anticom (~anticom@ip-88-153-48-20.hsi04.unitymediagroup.de)
[16:19:10] <Tach> late ? it's early :D
[16:19:11] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) (Ping timeout: 256 seconds)
[16:19:48] *** Quits: bliminse (~bliminse@host86-186-17-7.range86-186.btcentralplus.com) (Quit: leaving)
[16:22:45] <tabakhase> Tach and ofc. the host itself likely still wants some kinda firewall, never said anythign against that --- the whole point they are trying to make is "that even with a firewall, things you publish are still published! o.O" - what as said, sounds pretty fine to me, publishing things you asked for... heck imagine that blocked by default, why even use the "-p" then when it doesnt actually do 
[16:22:46] <tabakhase> anything? sounds very stupid or not ;-)
[16:23:21] <tabakhase> or, a day later youd see a patch that makes docker automatically add that allowance - what pretty much is wxactly what it does right now.
[16:24:05] *** Joins: dreamcat4 (uid157427@id-157427.hampstead.irccloud.com)
[16:24:17] *** Joins: Mattiaslndstrm (~Mattiasln@185.213.154.224)
[16:24:59] <dreamcat4> hey there. i keep encountering an issue whereby NEW containers are not showing up on my docker dns. wheras older containers are ok
[16:25:22] <dreamcat4> there seems no obvious reason for this to occur, and it started happening quite a while ago
[16:27:24] <tabakhase> if that github changes there example in 2. to "-p 8080:80" i would at least partially ok this, but then fix is "setting the ip from default=0.0.0.0 to 127.0.0.1 in the daemon.json" -- but as long as they have "-p 0.0.0.0:8080:80" in there its `literally what they asked for`"
[16:28:43] <tabakhase> dreamcat4 context? to some extend thats expected... compose has depends_on to help
[16:29:23] *** Quits: Mattiaslndstrm (~Mattiasln@185.213.154.224) (Ping timeout: 256 seconds)
[16:29:32] <dreamcat4> hmm... maybe it is because the container is not publishing any ports
[16:29:51] <tabakhase> (expected as in 'dns' likely has the real result, but whatever the next step in that chain is may decide to cache the nxdomain or such junk)
[16:29:53] <dreamcat4> will try that first. but this is generally the case for me, i am using macvlan driver
[16:30:12] <dreamcat4> and have a container which forwards the DNS requests
[16:30:15] <tabakhase> publishing got nothing on that -- that message was to an earlier convo dont let that confuse ya ;D
[16:31:13] <dreamcat4> am digging or nslookup directly to the same dns server container i setup. and depends on which container i query. as to whether there is an answer section returned (either answer 1 or answer 0
[16:31:54] <dreamcat4> so clearly the dns service is responding in both cases. but it claims not to know anything about the newer containers inexplicably
[16:34:04] *** Joins: Atque (~Atque@user/atque)
[16:34:11] <tabakhase> id fear without a full breakdown inc containerconfigs/compose files on a pastebin there isnt much to dig on... macvlan&forwarded DNS sounds "illegal" on multiple levels :D
[16:34:42] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.3)
[16:35:03] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[16:36:49] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[16:37:17] *** Joins: Bruners (lasseb@178.16.64.98)
[16:39:32] <dreamcat4> well let me put it this way: i can log into another container on the same network, and just do a ping inside it
[16:39:39] <dreamcat4> and it's the same result
[16:40:02] <dreamcat4> so it has literally nothing to do with the mechanism by which i get in / out those dns udp packets
[16:40:28] <dreamcat4> it's the docker's internal dns server itself. which should be serving up the ips for <CONTAINER_NAME>
[16:40:56] <dreamcat4> and that's the part which is returning the 'IDK, NO ANSWER'
[16:41:59] <dreamcat4> what my problem is here: i cannot google this problem. it returns many other types of issues for the docker's internal dns (but not this one)
[16:42:24] <dreamcat4> so i need to refine my google keywords search somehow. to find this issue
[16:43:56] <tabakhase> ^^ this is the very same WE have todo in our brains --- but you can throw your whole git-repo at irc instead of making up keywords, so make use of that not just try those same keywords google already didnt understood again :P
[16:44:13] *** Joins: bliminse (~bliminse@host86-186-17-7.range86-186.btcentralplus.com)
[16:45:44] <dreamcat4> ah so you are saying: search github --> to find / refine keywords --> search in google
[16:47:24] <tabakhase> no im saying show your code - you repo or build a nopaste or a gist or whatever, the beauty is that we can look at your 1000line paste and figure, google cant =)
[16:48:40] <tabakhase> (and by "illegal" setup - docker is opinionated, so alone to get to use macvlan you are like "3 bossfights deep" already and we need to know a lot more about your build to even attempt any sorta diagnose)
[16:51:54] *** badeball_ is now known as badeball
[16:52:59] *** Joins: kingpenguin (~kingpengu@77.24.5.209)
[16:53:26] <dreamcat4> ok don't worry. i think i have foind the issue now... everything is fine
[16:53:44] <dreamcat4> the container is just continually restarting. which is the real issue
[16:54:21] <dreamcat4> so once that is fixed, the internal dns should pickup / become wokring or whatever
[16:56:35] *** Joins: Afroboy (~afroboy@41.200.62.66)
[17:03:13] <fruitypunk> Hi all :) I have a question. I'm building firefox using docker. To create the right build environment, have to copy the entire mozilla source into the Dockerfile, run one command, and then be done with that entire source tree. Somehow rm -rf /mozilla-unified doesn't decrease the docker image size
[17:04:13] <fruitypunk> here is my Dockerfile: https://gitlab.com/librewolf-community/browser/bsys4/-/blob/main/buildenv/debian11/Dockerfile
[17:04:26] <Anticom> fruitypunk: you're probably doing your work using multiple RUN commands. Docker's layer FS works similar to how a git history works. Only because you delete a file in a later "commit" it doesn't mean the information about the file being there is lost forever
[17:07:09] <fruitypunk> ah, thanks... sorry afk visitors
[17:07:42] *** Joins: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net)
[17:13:15] *** Quits: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net) (Quit: Bye)
[17:13:29] <tabakhase> fruitypunk to add to that, if "one RUN" doesnt work (cause say your COPY rather than curl/wget/clone the source) checkout multistage-builds, basically a dockerfile with multiple FROM´s in it and you can COPY --from=stage1 to only get the finished bins
[17:17:30] *** Joins: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net)
[17:18:57] *** Quits: kingpenguin (~kingpengu@77.24.5.209) (Ping timeout: 240 seconds)
[17:20:37] *** Quits: repo[m] (~repo@user/repo) (Ping timeout: 240 seconds)
[17:20:57] *** Quits: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net) (Client Quit)
[17:21:52] *** Parts: VaniaPy (~VaniaPy@46.12.95.180.dsl.dyn.forthnet.gr) ()
[17:22:01] *** Joins: kingpenguin (~kingpengu@ip4d1805d1.fixed.kabel-deutschland.de)
[17:24:16] *** Quits: monoxane (~monoxane@user/monoxane) (Quit: Ping timeout (120 seconds))
[17:24:18] *** Quits: cebor (~cebor@user/cebor) (Quit: bye!)
[17:24:41] *** Joins: monoxane (~monoxane@user/monoxane)
[17:25:00] *** Joins: cebor (~cebor@user/cebor)
[17:28:41] * fruitypunk is googling.. thanks
[17:29:30] *** Joins: queue- (~nerd@user/queue/x-7267619)
[17:33:01] *** Joins: leitz (~LeamHall@072-182-158-027.res.spectrum.com)
[17:35:39] *** Joins: repo[m] (~repo@user/repo)
[17:37:53] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:41:46] <fruitypunk> The problematic part is that I a situation like this: ADD huge /huge ; ... ; RUN rm -rf /huge
[17:42:25] <fruitypunk> so I don't know what I want to keep, that's done in the ... part.
[17:42:57] <fruitypunk> hmm wait a second. perhaps I do know.
[17:44:56] <tabakhase> multistage it is then yep =)
[17:45:11] <tabakhase> https://docs.docker.com/develop/develop-images/multistage-build/
[17:46:29] <tabakhase> for the "find out what" one "usually" knows its output :D - but if youre "3rd party building" or so https://github.com/wagoodman/dive can come in rather handy
[17:47:17] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[17:48:48] <fruitypunk> ok let's try this :))
[17:49:17] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[17:51:29] *** Quits: jazzy (~jaziz@user/jaziz) (Read error: Connection reset by peer)
[17:51:58] *** Joins: Bruners (~lasseb@178.16.64.98)
[17:52:25] *** Joins: jazzy (~jaziz@user/jaziz)
[17:52:42] <fruitypunk> ls
[17:52:48] <fruitypunk> (sorry)
[18:01:53] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[18:02:00] *** Joins: AnapodoPsalidi (~AnapodoPs@2a02:587:291b:fbb7:3801:befd:2075:6a7)
[18:04:17] *** Quits: AnapodoPsalidaki (~AnapodoPs@195.46.31.29) (Ping timeout: 240 seconds)
[18:07:59] *** Quits: luva (~luva@146.70.62.244) (Ping timeout: 256 seconds)
[18:08:40] *** Joins: luva (~luva@146.70.62.246)
[18:10:41] *** Joins: trevors (~trevors@user/trevors)
[18:11:59] <Tach> tabakhase yeah it could be done because of multiple reasons
[18:12:23] <Tach> tabakhase still the thing... local dockers can't be accessed with -p on a host here, strange
[18:15:56] *** Joins: diabel (~diabel@anubis.abitania.pl)
[18:18:39] *** Joins: ada_ (uid242135@user/ada/x-9065485)
[18:18:39] *** ChanServ sets mode: +o ada_
[18:22:37] <Tach> A local docker container doesn't get forwarded but I can connect on localhost to the port I forwarded
[18:22:58] <Tach> using curl. No Firewall involved and in swarm deploy I can access the container
[18:27:18] *** Joins: withered_dragon (~withered_@172.93.207.245)
[18:30:22] *** Quits: acovrig7 (~acovrig@host-173-247-7-127.JENOLT2.epbfi.com) (Quit: Ping timeout (120 seconds))
[18:30:54] *** Joins: zer0bitz (~zer0bitz@196.244.192.57)
[18:31:02] *** Joins: acovrig7 (~acovrig@host-173-247-7-127.JENOLT2.epbfi.com)
[18:31:55] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Ping timeout: 256 seconds)
[18:44:23] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[18:46:13] *** Quits: luva (~luva@146.70.62.246) (Ping timeout: 240 seconds)
[18:46:34] *** Joins: Bruners (~lasseb@178.16.64.98)
[18:46:40] *** Joins: luva (~luva@45.141.152.36)
[18:46:57] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[18:47:49] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[18:48:07] *** Joins: andycooper (uid246432@id-246432.helmsley.irccloud.com)
[18:51:11] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[18:52:18] *** Joins: Bruners (~lasseb@178.16.64.98)
[18:54:59] *** Joins: SigHunter (~SigHunter@2a02:810d:8b80:8fc:107:366f:8147:2c35)
[18:57:59] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[19:00:37] *** Quits: kingpenguin (~kingpengu@ip4d1805d1.fixed.kabel-deutschland.de) (Ping timeout: 240 seconds)
[19:07:10] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:11:25] *** Quits: leitz (~LeamHall@072-182-158-027.res.spectrum.com) (Quit: nappy time)
[19:24:42] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[19:25:25] *** Joins: pikaro (~pikaro@54.36.119.32)
[19:27:32] *** Joins: iomari891 (~iomari891@105.112.138.38)
[19:29:08] *** Joins: Mattiaslndstrm (~Mattiasln@185.213.154.224)
[19:29:59] *** Joins: leitz (~LeamHall@072-182-158-027.res.spectrum.com)
[19:31:15] *** Quits: Afroboy (~afroboy@41.200.62.66) (Remote host closed the connection)
[19:35:23] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[19:35:44] <pikaro> hi! on a single-node Swarm server with lots of backend networks and a shared frontend network for Traefik, it seems like a container named "app" (default name for FPM in backend) has gotten into the frontend network - looking up the name resolves to the frontend range now. however, inspecting the frontend network doesn't list the IP address it resolves to and nether does looping through all
[19:35:46] <pikaro> containers on the server and looking at their IPAMConfig. I can see the requests are going _somewhere_ and _something_ is answering in through CGI with tcpdump, but I can't find out what that something is. attaching to every single container and checking is impractical, reverse resolution returns nothing. what's the best way to identify the problematic container? can I somehow dump the state of the
[19:35:48] <pikaro> internal DNS server? or am I misunderstanding something about the inspect commands?
[19:38:00] *** Quits: Anticom (~anticom@ip-88-153-48-20.hsi04.unitymediagroup.de) (Remote host closed the connection)
[19:40:15] *** Joins: Anticom (~anticom@ip-88-153-48-20.hsi04.unitymediagroup.de)
[19:42:56] <pikaro> as always, I think of the solution 5min after answering the question after looking for an hour... docker ps -q | xargs -P 180 -L 1 -I{} sh -c 'docker logs -f --tail 1 {} 2>&1 | sed "s/^/{} /"' follows the logs of all containers sumultaneously.
[19:43:28] <pikaro> *after asking
[19:44:38] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[19:47:58] *** Joins: trevors (~trevors@user/trevors)
[19:53:04] *** Joins: kingpenguin (~kingpengu@77.24.5.209)
[20:02:55] *** alchemist_ is now known as alchemist
[20:12:02] *** Joins: rsx (~dummy@ppp-188-174-143-110.dynamic.mnet-online.de)
[20:14:50] *** Joins: lilgopher (~textual@2601:241:8000:38f0:98fe:16cb:dc9a:51bd)
[20:15:52] *** Joins: Bruners (~lasseb@178.16.64.98)
[20:20:46] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[20:21:17] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[20:22:02] *** Joins: minimal (~minimal@user/minimal)
[20:24:26] *** Joins: Bruners (lasseb@178.16.64.98)
[20:28:09] *** Quits: Furai (~Furai@cookiehoster.furai.pl) (Quit: WeeChat 3.4)
[20:33:39] *** Joins: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:2d8c:7348:5eb5:a9c9)
[20:38:06] *** Quits: SigHunter (~SigHunter@2a02:810d:8b80:8fc:107:366f:8147:2c35) (Quit: Client closed)
[20:38:37] *** Quits: pikaro (~pikaro@54.36.119.32) (Ping timeout: 240 seconds)
[20:40:08] *** Joins: trevors (~trevors@user/trevors)
[20:44:23] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[20:45:33] *** Joins: pikaro (~pikaro@54.36.119.32)
[20:46:05] *** Joins: Bruners (~lasseb@178.16.64.98)
[20:51:28] *** Quits: Anticom (~anticom@ip-88-153-48-20.hsi04.unitymediagroup.de) ()
[20:51:32] <ada_> pikaro: inspect the service that owns that container
[20:51:53] <ada_> the service will have a network attachments field and show the service name as it appears to the resolver, for each network it is attached to
[20:52:50] <ada_> if a service has multiple attachments, the service name can be suffixed by the networkname to find its IP on that network - `dig service.network`
[20:53:44] <ada_> docker network inspect -v on your network might help
[20:53:54] <ada_> also, run that from the worker node where the container runs, not on the manager
[20:56:28] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) (Remote host closed the connection)
[20:57:34] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[21:02:31] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) (Ping timeout: 256 seconds)
[21:02:31] *** Quits: cliluw (~cliluw@47.147.73.223) (Ping timeout: 256 seconds)
[21:03:54] *** Joins: cliluw (~cliluw@47.147.73.223)
[21:09:09] *** Joins: RV06 (~RV@lfbn-nic-1-430-119.w90-116.abo.wanadoo.fr)
[21:10:35] *** Quits: kingpenguin (~kingpengu@77.24.5.209) (Ping timeout: 256 seconds)
[21:12:27] <pikaro> ada_, thanks, that's great advice for the future! the service network attachments are exactly what would have helped me here.
[21:17:51] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[21:18:19] *** Joins: CodeSpelunker (~CodeSpelu@user/codespelunker)
[21:23:29] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[21:31:23] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Remote host closed the connection)
[21:38:21] *** Joins: din0 (~dino@cpe-74-131-247-218.kya.res.rr.com)
[21:39:29] *** Joins: Zil (~Zil@154.51.144.57)
[21:50:14] *** Quits: isflavior (~isflavior@2001:8a0:5dd8:4100:54e0:28d2:9a45:156a) (Quit: isflavior)
[21:50:32] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-385a-cc83-b7b2-21fe.res6.spectrum.com)
[21:51:49] *** Quits: pikaro (~pikaro@54.36.119.32) (Ping timeout: 240 seconds)
[21:57:49] *** Quits: thc202 (~thc202@user/thc202) (Ping timeout: 250 seconds)
[21:58:14] *** Joins: thc202 (~thc202@user/thc202)
[22:00:47] *** notevil_ is now known as NOTevil
[22:01:26] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:03:03] *** Quits: lithium (~lithium@user/lithium) (Quit: Textual IRC Client: www.textualapp.com)
[22:04:48] *** Quits: rsx (~dummy@ppp-188-174-143-110.dynamic.mnet-online.de) (Quit: rsx)
[22:05:50] *** Joins: AnapodoPsalidaki (~AnapodoPs@195.46.31.29)
[22:06:37] *** Quits: rardiol (~quassel@user/rardiol) (Ping timeout: 240 seconds)
[22:07:25] *** Quits: AnapodoPsalidi (~AnapodoPs@2a02:587:291b:fbb7:3801:befd:2075:6a7) (Ping timeout: 240 seconds)
[22:16:00] <ada_> 👍
[22:16:25] <rawtaz> lo
[22:16:28] <ada_> oh yeah if you didn't know, you can also query for tasks. to get the container IPs
[22:16:33] <ada_> dig tasks.servicename
[22:16:50] <rawtaz> where? in a container?
[22:17:10] <ada_> yeah you could exec into one of your containers on the same network
[22:17:23] <ada_> or run a dummy service attached to the same network so you have a toolbox
[22:17:28] <ada_> and then exec into that
[22:18:11] <ada_> each swarm service has a VIP that load balances to all the replicas in the service
[22:18:39] <ada_> so if you query the service name you'll get a VIP, and that stays constant as replicas rotate
[22:18:56] <ada_> but if you query tasks.service you'll get the task IPs which are 1 for each replica
[22:21:57] *** Joins: GailWynand (~GailWynan@195.216.219.122)
[22:21:58] *** Quits: cluelessperson (~cluelessp@user/cluelessperson) (Remote host closed the connection)
[22:22:17] *** Joins: cluelessperson (~cluelessp@user/cluelessperson)
[22:24:13] *** Joins: luva9 (~luva@37.120.197.53)
[22:24:45] <rawtaz> is this a swarm only thing? or is it relevant for standalone containers too?
[22:25:23] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[22:26:57] <ada_> swarm services only
[22:27:49] *** Quits: luva (~luva@45.141.152.36) (Ping timeout: 240 seconds)
[22:27:49] *** luva9 is now known as luva
[22:28:11] *** Joins: Bruners (~lasseb@178.16.64.98)
[22:29:59] *** Joins: pikaro (~pikaro@dslb-090-186-126-032.090.186.pools.vodafone-ip.de)
[22:34:19] *** Quits: pikaro (~pikaro@dslb-090-186-126-032.090.186.pools.vodafone-ip.de) (Ping timeout: 256 seconds)
[22:34:30] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[22:35:06] *** Quits: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:2d8c:7348:5eb5:a9c9) (Quit: So as you can see from this flowchSQUIRREL!!)
[22:35:49] *** Quits: cliluw (~cliluw@47.147.73.223) (Ping timeout: 240 seconds)
[22:36:26] *** Joins: cliluw (~cliluw@47.147.73.223)
[22:42:09] *** Joins: kingpenguin (~kingpengu@ip4d1805d1.fixed.kabel-deutschland.de)
[22:42:13] *** Quits: Mattiaslndstrm (~Mattiasln@185.213.154.224) (Ping timeout: 240 seconds)
[22:42:44] *** Quits: catbehemoth (~vasyl@bras-base-lnglpq6100w-grc-15-206-172-247-21.dsl.bell.ca) (Quit: WeeChat 3.4)
[22:45:03] *** Quits: Haxxa (~Haxxa@202-144-174-197.ip4.superloop.com) (Quit: Haxxa flies away.)
[22:47:01] *** Joins: pikaro (~pikaro@dslb-090-186-126-032.090.186.pools.vodafone-ip.de)
[22:47:31] *** Joins: Haxxa (~Haxxa@89nnjg0xckz9ggn6r5xm.ip6.superloop.com)
[22:51:39] *** Joins: rardiol (~quassel@user/rardiol)
[22:53:01] *** Quits: pikaro (~pikaro@dslb-090-186-126-032.090.186.pools.vodafone-ip.de) (Ping timeout: 240 seconds)
[22:56:13] *** Quits: kingpenguin (~kingpengu@ip4d1805d1.fixed.kabel-deutschland.de) (Ping timeout: 240 seconds)
[22:57:54] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[22:58:42] *** Joins: ExeciN (~ExeciN@user/nicexe)
[23:01:32] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[23:02:34] *** Joins: ExeciN (~ExeciN@user/nicexe)
[23:06:36] <fruitypunk> thanks folks, using multistage decreased my docker image by more than 7GB
[23:08:46] <tabakhase> that sounds much better indeed :D
[23:09:38] <fruitypunk> ^.^
[23:10:27] *** Quits: Tach (~Tach@user/tach) (Quit: Tach)
[23:17:27] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 276 seconds)
[23:19:13] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[23:21:37] *** Quits: sebastianos (~sebastian@user/sebastianos) (Ping timeout: 240 seconds)
[23:23:05] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.3)
[23:23:46] *** Joins: sebastianos (~sebastian@user/sebastianos)
[23:25:18] *** Joins: trevors (~trevors@user/trevors)
[23:36:47] <Sayona> Hello, can anyone help me with some information: I want to run docker inside a container... but I get: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?. Do I need to mount /var/run? but this folder exist in container
[23:37:26] <programmerq> Sayona▸ you want to run a full blow dockerd inside a container? or you just want to access the host's dockerd from inside a container using the 'docker' or 'docker-compose' client?
[23:37:46] <programmerq> if the latter, you can bind mount the docker socket to the container like this: docker run -v /var/run/docker.sock:/var/run/docker.sock:ro ...
[23:37:57] <Sayona> let me try, thanks
[23:38:01] <programmerq> but keep in mind that access to the docker socket is equivalent to full root access where dockerd is running.
[23:38:18] <Sayona> what is the best?
[23:38:46] <programmerq> it depends on your requirements. if you have a workflow that's appropriate to get that level of access, then it is fine to run it wherever you want to, including inside a container
[23:39:17] <programmerq> but if your goal is to have a container that shouldn't have full access to the host, then it could be a problem, depending on your security needs, threat model, and business requirements.
[23:39:39] <programmerq> it's just easy for someone to go "oh this is in a container" and not realize they're giving a pathway back out to the host by mounting the docker socket.
[23:40:40] <Sayona> I add in that container as volumes:  - /var/run/docker.sock:/var/run/docker.sock
[23:40:44] <Sayona> but I get the same issue
[23:41:17] <Sayona> I need to dig more
[23:41:51] <programmerq> did you rerun docker-compose up -d ?
[23:42:12] *** Quits: nwulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Read error: Connection reset by peer)
[23:42:16] <Sayona> yap
[23:42:22] <Sayona> I think is a situation of permissions
[23:42:32] <programmerq> yup, that could do it too.
[23:42:43] <Sayona> uid=1000(jenkins) gid=1000(jenkins) groups=1000(jenkins),999(docker)
[23:42:49] <Sayona> in container
[23:42:55] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[23:43:34] <programmerq> when I set up my jenkins forever ago, I ended up setting up TLS and accessed dockerd that way with a client certificate. You could also drop in an ssh key and use ssh transport too if you create an ssh user that has access to the docker socket without sudo.
[23:44:11] <Sayona> yes
[23:44:15] <Sayona> that what I did
[23:45:22] <Sayona> A lol, 100% it's selinux
[23:49:00] *** Joins: Tach (~Tach@user/tach)
[23:49:31] *** Quits: Tach (~Tach@user/tach) (Client Quit)
[23:54:17] <Sayona> programmerq, https://paste.laravel.io/865b551f-a88f-4d48-83cb-b30a7508b0df
[23:54:36] <Sayona> hmz, the docker jenkins is not running
[23:54:46] <maret_> is it possible to start exited container and set --restart flag?
[23:55:25] <programmerq> check logs for the exited container and see if jenkins has anything to say about why it is exiting.
[23:55:49] <Sayona> jenkins       /sbin/tini -- /usr/local/b ...   Exit 1
[23:59:08] <maret_> ou ok i can run docker update --restart=always and then run docker normally can't i
