[00:00:35] *** Quits: raptelan (~raptelan@208.127.242.46) (Quit: leaving)
[00:01:11] *** Quits: darkbit (~db@152.32.100.99) (Ping timeout: 245 seconds)
[00:05:34] *** Joins: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge)
[00:10:37] *** Quits: pjs (~pjs@user/pjs) (Quit: brb)
[00:12:53] *** Joins: held (~heldchen@user/held)
[00:13:05] *** Joins: DNH (~DNH@2a02:8108:1100:16d8:b07b:b6be:41fa:d6a)
[00:23:37] *** Quits: bpmedley (~bpmedley@2600:1700:e2c:8410:71a7:b07d:2c34:3ac0) (Ping timeout: 240 seconds)
[00:25:35] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Read error: Connection reset by peer)
[00:31:32] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[00:35:57] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 240 seconds)
[00:39:18] *** Quits: pedja_hpmini (~pedja_hpm@109-93-189-123.dynamic.isp.telekom.rs) (Quit: Leaving)
[00:46:36] *** Quits: EvanCarroll (~ecarroll@68-78-105-35.lightspeed.hstntx.sbcglobal.net) (Ping timeout: 245 seconds)
[00:48:59] *** Joins: ur5us_ (~ur5us@2406:e002:6888:2f01:6b39:b2a:58ca:5636)
[00:50:27] *** Joins: pjs (~pjs@user/pjs)
[00:51:24] *** Quits: maxzor (~maxzor@2a01cb04054faa00ed919463e5f3a61d.ipv6.abo.wanadoo.fr) (Ping timeout: 252 seconds)
[00:55:12] *** Joins: bpmedley (~bpmedley@2600:1700:e2c:8410:7495:30c4:96e6:e598)
[00:57:17] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Ping timeout: 256 seconds)
[01:00:21] *** Quits: vanessa (~farawayas@103.160.128.7) (Remote host closed the connection)
[01:01:05] *** Joins: vanessa (~farawayas@103.160.128.7)
[01:06:17] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[01:07:04] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4.1)
[01:10:27] *** Joins: austb (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[01:10:56] *** Quits: shiranaihito_ (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[01:11:10] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Remote host closed the connection)
[01:19:55] *** Quits: vanessa (~farawayas@103.160.128.7) (Quit: Leaving)
[01:23:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[01:25:37] *** Joins: chrit (~cloehr@user/chrit)
[01:29:21] *** Quits: fcr (~fran@r167-56-26-186.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[01:30:29] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Ping timeout: 256 seconds)
[01:32:53] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[01:38:00] *** Joins: fcr (~fran@r167-60-32-20.dialup.adsl.anteldata.net.uy)
[01:38:33] *** Quits: mizi_ (~mizi@user/mizi) (Ping timeout: 268 seconds)
[01:42:16] *** Joins: EvanCarroll (~ecarroll@98.39.65.185)
[01:42:20] *** Joins: concrete-houses (~g@209.6.150.53)
[01:43:37] <concrete-houses> I revoked connect n db4 in my cluster from user1 and when I login as user1 using dbeaver I can goto db4 and open the db and schema and it only complains when I try and open a table....
[01:44:13] <concrete-houses> I really want user1 to only see 1 of the 8 or so databases in the cluster
[01:45:02] <Myon> make a separate cluster
[01:54:28] *** Quits: Klinda (~superleag@user/klinda) (Quit: Konversation terminated!)
[01:56:21] <concrete-houses> say I can't....  without some big boss approval....    what is the standard way to have a role only be able to login to 1 db in a cluster... ?
[01:57:10] <concrete-houses> I was trying to use an admin role, but it was setup long ago.. and I might have to start from scratch...
[01:57:43] <Myon> login <> see the DB
[01:57:56] <concrete-houses> some new users are supposed to come in on staging environment and acees just the one db, not sure its good they see the 7 others
[01:58:20] *** Joins: maxzor (~maxzor@2a01cb04054faa009e4b0faced436b62.ipv6.abo.wanadoo.fr)
[01:58:27] <concrete-houses> ah
[01:58:49] *** Quits: rodo (~rodo@2a01:e0a:2c6:d5f0:41ab:c0da:f951:bd10) (Ping timeout: 256 seconds)
[01:58:59] <concrete-houses> so a role is cluster level....
[02:06:11] *** Quits: maxzor (~maxzor@2a01cb04054faa009e4b0faced436b62.ipv6.abo.wanadoo.fr) (Ping timeout: 252 seconds)
[02:10:37] *** Quits: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge) (Ping timeout: 240 seconds)
[02:15:08] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb)
[02:16:39] *** Joins: zmt00 (~zmt00@user/zmt00)
[02:17:11] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 252 seconds)
[02:19:27] *** Quits: zmt01 (~zmt00@user/zmt00) (Ping timeout: 256 seconds)
[02:19:50] *** Quits: manti7 (~manti7@176.10.104.94) (Quit: WeeChat 3.4)
[02:20:13] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[02:20:44] <concrete-houses> if I grant all on all tables in schema xyz, does that mean all the tables accross all the databses that have schema xyz, or is each databse schema seperate? even if same name is used?
[02:21:15] <concrete-houses> I just want to grant 1 db, which has 2 schema to a role and then add other roles to that admin role as needed
[02:21:22] <Berge> Schemas are not shared between databases in any way
[02:21:26] <concrete-houses> but like all 8 db have same 2 schema
[02:21:28] <concrete-houses> ok
[02:21:31] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Remote host closed the connection)
[02:21:37] <concrete-houses> thx!
[02:21:46] <Berge> A postgres cluster has databases, a database has schema(s), a schema has table(s)
[02:22:03] *** Quits: austb (~austb@c-73-240-245-80.hsd1.or.comcast.net) (Ping timeout: 256 seconds)
[02:22:15] <concrete-houses> How can I create an admin role which only can use and modify 1 database?
[02:22:38] <Berge> By GRANTing the necessary permissions in only that datbase
[02:22:41] <Berge> database
[02:23:44] <concrete-houses> I thought that I did but when I login with the user I can see other databases.... if not modify anything... I can open db and atbles in dbeaver but when I try and show data in table says no access to xyz schema
[02:24:12] <concrete-houses> I tried however using and old admin role and adding the user to that role
[02:24:14] <concrete-houses> maybe mistake
[02:24:17] <Berge> concrete-houses: What's the question?
[02:24:42] <concrete-houses> How to make an admin role that can access  1 of 8 db in a cluster
[02:24:53] <Berge> You already know how
[02:25:16] <Berge> As Myon said, listing databases (ie. seeing that a database exists) is not the same as having access to it
[02:25:24] <concrete-houses> ok
[02:26:14] <concrete-houses> When I login to create roles, do I need to be in public schema?
[02:26:27] <Berge> Roles don't exist in a database
[02:26:31] <Berge> And hence not in a schema
[02:26:35] *** Quits: DNH (~DNH@2a02:8108:1100:16d8:b07b:b6be:41fa:d6a) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:26:44] <concrete-houses> ok
[02:27:52] <concrete-houses> so when I grant all to all tables in schema x  it knows the db I am logged into is the one to do the grant
[02:28:19] <Berge> Correct
[02:31:59] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[02:32:12] <concrete-houses> IF I open a SQL script n dbeaver in the schema where most of our tables are, not public,  and do a grant with multiple schemas   I seem to remember some error.. can you only grant to the schema your sql script is logged into
[02:32:35] <concrete-houses> I guess I can try it!
[02:33:17] *** Joins: DNH (~DNH@2a02:8108:1100:16d8:b07b:b6be:41fa:d6a)
[02:34:06] *** Quits: EvanCarroll (~ecarroll@98.39.65.185) (Ping timeout: 245 seconds)
[02:34:46] *** Joins: idontnee_ (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[02:35:19] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Ping timeout: 256 seconds)
[02:35:35] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[02:37:17] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[02:37:38] <concrete-houses> let me ask this,   it seems like I need to grant all to all tables in schema x, y  then all sequences in schema x,y then all functions in schema x,y then connect,temp on database, then all on schema x,y
[02:38:27] <concrete-houses> does the schema part include the functions and sequences? I would guess not if they break it out on the grant page in docs
[02:38:46] <concrete-houses> we dont use forieng wrapper or domain or tablesapce I dont think.
[02:39:36] <concrete-houses> does this sound somewhat right?  or am I missing something?
[02:44:20] *** Joins: kitsunenokenja (~kitsunech@68.91.220.96)
[02:46:01] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[02:46:44] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[02:46:59] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[02:50:03] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 256 seconds)
[02:50:55] *** Quits: ekathva (~ekathva@2001:999:50:a96:4ee5:c816:f561:d86f) (Quit: Leaving)
[02:52:22] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[02:54:15] *** Quits: chrit (~cloehr@user/chrit) (Quit: Konversation terminated!)
[02:56:55] *** Joins: neet (~neet@136.41.96.251)
[02:57:01] <concrete-houses> if the admin role has no login attribute,  as I have
[02:57:45] <concrete-houses> but I want to grant connect,temp to a database so the userrole I will add to the admin role can connect..... should that throw an error?
[02:57:49] *** Quits: neet (~neet@136.41.96.251) (Client Quit)
[02:57:51] *** Joins: podverse-mitch (~mitch-pod@96-68-51-54-static.hfc.comcastbusiness.net)
[02:58:23] <concrete-houses> the funcations grant says a whole list fo fucntions from extensions are not granted......not sure why
[02:58:39] <concrete-houses> they are owned by the use I am logged in as..
[02:58:44] <concrete-houses> the extensions that is
[02:59:53] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[03:03:32] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[03:04:20] *** Quits: michalz (~michalz@185.246.204.62) (Remote host closed the connection)
[03:07:03] *** Joins: bindu_ (~bindu@user/bindu)
[03:07:55] *** Quits: bindu (~bindu@user/bindu) (Ping timeout: 240 seconds)
[03:08:19] *** Joins: kitsunenokenja (~kitsunech@68.91.220.96)
[03:09:00] *** bindu_ is now known as bindu
[03:11:01] *** Quits: shka (~herr@109.231.3.55) (Ping timeout: 240 seconds)
[03:11:42] *** Joins: n0fun_ (~jack@mue-88-130-48-222.dsl.tropolys.de)
[03:15:37] *** Quits: k_sze (~k_sze@mail2.kalunite.net) (Ping timeout: 240 seconds)
[03:21:33] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[03:21:47] <concrete-houses> ok I kinda have something working
[03:21:49] <concrete-houses> amazing
[03:23:22] <concrete-houses> now can someone school me a little on alter default privileges?
[03:23:25] *** Quits: bmomjian (~bruce@62.237.32.196) (Ping timeout: 240 seconds)
[03:23:27] *** Joins: charukiewicz (~charukiew@2600:1702:a90:2750:724d:7bff:fe2b:f560)
[03:24:22] <concrete-houses> We have a main role the app runs as, and some one was asking me to make sure any columns or tables created in future were owned by that user, and I am like ok easy only let people who can login as that user create such
[03:24:30] <concrete-houses> but there is a prod support team
[03:24:32] <concrete-houses> lol
[03:24:47] <concrete-houses> my work is a joke but makes 500m a year I don't get how
[03:25:04] <concrete-houses> so they are like tell the db to let all users use all objects
[03:25:09] <concrete-houses> my brain froze
[03:25:34] <concrete-houses> I saw something in docs about PUBLIC and alter default priviledge but I am not sure how
[03:26:52] <concrete-houses> You can change default privileges only for objects that will be created by yourself or by roles that you are a member of. The privileges can be set globally (i.e., for all objects created in the current database), or just for objects created in specified schemas.
[03:27:08] <concrete-houses> yeah work is giving me insane demands
[03:28:46] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[03:29:12] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[03:29:14] *** Quits: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net) (Ping timeout: 252 seconds)
[03:29:28] *** Quits: podverse-mitch (~mitch-pod@96-68-51-54-static.hfc.comcastbusiness.net) (Remote host closed the connection)
[03:30:44] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[03:31:48] <concrete-houses> that or I could add the users to the main role and let them inherit, then set defautl privs for main role to be able to use anything created....
[03:31:57] <concrete-houses> does this gak security?
[03:32:01] *** Joins: podverse-mitch (~mitch-pod@96-68-51-54-static.hfc.comcastbusiness.net)
[03:32:12] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[03:32:52] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[03:33:53] *** Quits: electron^-892402 (~electron^@212.66.122.116) (Quit: The Lounge - https://thelounge.chat)
[03:34:02] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[03:34:30] *** Joins: electron^-892402 (~electron^@212.66.122.116)
[03:36:53] *** Joins: rsrx (~rsrx@79-101-167-192.dynamic.isp.telekom.rs)
[03:40:58] *** Quits: rsrx (~rsrx@79-101-167-192.dynamic.isp.telekom.rs) (Read error: Connection reset by peer)
[03:43:13] *** Joins: k_sze (~k_sze@mail2.kalunite.net)
[03:43:51] *** Quits: Merixer (~Merixer@2001:470:deb8:a1::2) (Ping timeout: 250 seconds)
[03:46:21] *** Quits: podverse-mitch (~mitch-pod@96-68-51-54-static.hfc.comcastbusiness.net) (Remote host closed the connection)
[03:47:00] *** Joins: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net)
[03:51:10] *** Joins: hoppity_ (~hoppity@66.222.130.38)
[03:53:01] *** Quits: hoppity (~hoppity@user/hoppity) (Ping timeout: 240 seconds)
[03:54:38] *** Joins: Tenchi (~Tenchi@user/tenchi)
[03:54:47] *** Joins: austb (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[03:56:26] *** Quits: karabaja4 (~karabaja4@dh207-94-81.xnet.hr) (Remote host closed the connection)
[03:58:04] *** Quits: TomTom (uid45892@id-45892.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[04:02:50] *** Joins: hoppity (~hoppity@mobile-107-92-60-237.mycingular.net)
[04:02:50] *** Quits: hoppity (~hoppity@mobile-107-92-60-237.mycingular.net) (Changing host)
[04:02:50] *** Joins: hoppity (~hoppity@user/hoppity)
[04:04:17] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 240 seconds)
[04:04:51] *** Quits: SAS (~SAS@mail.loxodata.com) (Ping timeout: 256 seconds)
[04:04:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[04:04:59] *** Joins: SAS (~SAS@mail.loxodata.com)
[04:05:11] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[04:05:33] *** Quits: hoppity_ (~hoppity@66.222.130.38) (Ping timeout: 252 seconds)
[04:10:36] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 240 seconds)
[04:11:41] *** Joins: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net)
[04:12:20] *** Joins: hoppity_ (~hoppity@mobile-107-92-60-237.mycingular.net)
[04:12:21] *** Quits: hoppity (~hoppity@user/hoppity) (Read error: Connection reset by peer)
[04:14:43] *** Joins: Merixer (~Merixer@185.176.247.116)
[04:17:25] *** Quits: Cleverness (~Clevernes@pool-108-54-152-186.nycmny.fios.verizon.net) (Quit: Leaving)
[04:19:43] *** Quits: dvl (~dvl@user/dvl) (Quit: Ride fast. Take chances.)
[04:19:45] *** Quits: Auron (Auron956@user/auron) (Remote host closed the connection)
[04:23:08] *** Quits: austb (~austb@c-73-240-245-80.hsd1.or.comcast.net) (Ping timeout: 252 seconds)
[04:23:17] *** Joins: dvl (~dvl@znc.unixathome.org)
[04:23:17] *** Quits: dvl (~dvl@znc.unixathome.org) (Changing host)
[04:23:17] *** Joins: dvl (~dvl@user/dvl)
[04:24:15] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 252 seconds)
[04:24:23] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 250 seconds)
[04:29:33] *** Quits: hoppity_ (~hoppity@mobile-107-92-60-237.mycingular.net) (Ping timeout: 256 seconds)
[04:29:49] *** Joins: kakashiAL (~kakashi@41.250.52.71)
[04:30:57] *** Joins: cpaelzer_ (~paelzer@152-131-067-156.ip-addr.inexio.net)
[04:30:57] *** Quits: cpaelzer_ (~paelzer@152-131-067-156.ip-addr.inexio.net) (Changing host)
[04:30:57] *** Joins: cpaelzer_ (~paelzer@canonical/cpaelzer)
[04:31:26] *** Joins: hoppity (~hoppity@mobile-107-92-62-128.mycingular.net)
[04:31:26] *** Quits: hoppity (~hoppity@mobile-107-92-62-128.mycingular.net) (Changing host)
[04:31:26] *** Joins: hoppity (~hoppity@user/hoppity)
[04:32:35] *** Quits: Fairy (~Fairy@2001:464a:4992:0:5813:fe5c:3e8c:63aa) (Read error: Connection reset by peer)
[04:32:41] *** Joins: cpalezer__ (~paelzer@068-133-067-156.ip-addr.inexio.net)
[04:32:55] *** Joins: Fairy (~Fairy@2001:464a:4992:0:5813:fe5c:3e8c:63aa)
[04:33:48] *** Joins: bindu_ (~bindu@user/bindu)
[04:34:12] *** Quits: bindu (~bindu@user/bindu) (Remote host closed the connection)
[04:34:37] *** Quits: cpaelzer (~paelzer@canonical/cpaelzer) (Ping timeout: 240 seconds)
[04:35:02] *** Quits: nepeat (~nepeat@79.110.170.59) (Quit: ZNC 1.8.2 - https://znc.in)
[04:35:24] *** Quits: jo__ (jo@2a02:180:a:62::fefe:d00f) (Ping timeout: 240 seconds)
[04:35:28] *** Joins: nepeat (~nepeat@79.110.170.59)
[04:35:33] *** Joins: jo_ (jo@2a02:180:a:62::fefe:d00f)
[04:35:44] *** bindu_ is now known as bindu
[04:36:31] *** Quits: cpaelzer_ (~paelzer@canonical/cpaelzer) (Ping timeout: 250 seconds)
[04:37:06] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[04:37:26] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 245 seconds)
[04:42:55] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[04:43:25] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[04:50:36] *** Joins: cpaelzer (~paelzer@189-130-067-156.ip-addr.inexio.net)
[04:50:36] *** Quits: cpaelzer (~paelzer@189-130-067-156.ip-addr.inexio.net) (Changing host)
[04:50:36] *** Joins: cpaelzer (~paelzer@canonical/cpaelzer)
[04:52:26] *** Quits: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt) (Quit: Lost terminal)
[04:54:13] *** Quits: cpalezer__ (~paelzer@068-133-067-156.ip-addr.inexio.net) (Ping timeout: 240 seconds)
[04:55:35] *** Quits: maciek__ (~maciek@2600:1700:a412:1c00:e953:c8e8:fdff:e8ce) (Ping timeout: 250 seconds)
[04:56:15] *** Quits: charukiewicz (~charukiew@2600:1702:a90:2750:724d:7bff:fe2b:f560) (Remote host closed the connection)
[04:56:55] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Ping timeout: 240 seconds)
[04:57:04] *** Joins: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net)
[04:57:30] *** Joins: charukiewicz (~charukiew@2600:1702:a90:2750::3c)
[04:57:49] *** Quits: cliluw (~cliluw@47.147.77.43) (Ping timeout: 240 seconds)
[04:58:07] *** Joins: monstar (~monstar@gateway/tor-sasl/monstar)
[04:58:18] *** Joins: cliluw (~cliluw@47.147.77.43)
[05:00:26] *** Joins: cpaelzer_ (~paelzer@canonical/cpaelzer)
[05:02:39] *** Quits: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net) (Ping timeout: 256 seconds)
[05:04:31] *** Quits: cpaelzer (~paelzer@canonical/cpaelzer) (Ping timeout: 268 seconds)
[05:05:17] *** Quits: ur5us_ (~ur5us@2406:e002:6888:2f01:6b39:b2a:58ca:5636) (Ping timeout: 240 seconds)
[05:06:03] *** Quits: hoppity (~hoppity@user/hoppity) (Ping timeout: 252 seconds)
[05:06:18] *** Joins: hoppity (~hoppity@user/hoppity)
[05:08:40] *** Joins: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net)
[05:13:11] *** Quits: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net) (Ping timeout: 256 seconds)
[05:13:51] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[05:14:37] *** Quits: hoppity (~hoppity@user/hoppity) (Ping timeout: 240 seconds)
[05:20:18] *** Joins: hoppity (~hoppity@mobile-107-92-62-252.mycingular.net)
[05:20:18] *** Quits: hoppity (~hoppity@mobile-107-92-62-252.mycingular.net) (Changing host)
[05:20:18] *** Joins: hoppity (~hoppity@user/hoppity)
[05:20:30] *** Joins: carragom (~textual@201.204.94.76)
[05:21:47] *** Quits: Epithium (~Epithium@2603-6080-3203-8d68-b162-a173-f12a-3a04.res6.spectrum.com) (Remote host closed the connection)
[05:23:39] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[05:24:12] *** Joins: Epithium (~Epithium@2603-6080-3203-8d68-565d-9a3f-5480-e6eb.res6.spectrum.com)
[05:24:44] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[05:25:36] *** Joins: schinckel (uid38120@user/schinckel)
[05:27:10] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Quit: WeeChat 3.0)
[05:27:32] *** Quits: hoppity (~hoppity@user/hoppity) (Remote host closed the connection)
[05:28:34] *** Quits: Reiner_Unsinn (~quassel@p5dd47daa.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[05:29:03] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 256 seconds)
[05:30:00] *** Quits: bertptrs (~quassel@user/bertptrs) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[05:30:38] *** Joins: bertptrs (~quassel@user/bertptrs)
[05:32:13] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[05:32:19] *** Parts: Sammitch (~Jerkface@user/sammitch) ()
[05:32:24] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[05:36:05] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Remote host closed the connection)
[05:36:24] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[05:36:50] *** Quits: mjf (~mjf@217.11.224.233) (Ping timeout: 252 seconds)
[05:37:03] *** Joins: mjf (~mjf@217.11.224.233)
[05:38:18] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[05:39:01] *** Quits: Bebef (sbreit@phobos.bebef.de) (Quit: bye)
[05:40:23] *** Quits: dsrt^ (~dsrt@96-67-120-105-static.hfc.comcastbusiness.net) (Ping timeout: 256 seconds)
[05:42:53] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 256 seconds)
[05:43:44] *** Joins: Bebef (sbreit@phobos.bebef.de)
[05:50:59] *** Joins: kitsunenokenja (~kitsunech@68.91.220.96)
[05:51:15] <buu> What am I missing here https://explain.depesz.com/s/61d5
[05:52:13] *** Quits: DNH (~DNH@2a02:8108:1100:16d8:b07b:b6be:41fa:d6a) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:55:29] *** Joins: DNH (~DNH@2a02:8108:1100:16d8:b07b:b6be:41fa:d6a)
[05:56:57] *** Quits: DNH (~DNH@2a02:8108:1100:16d8:b07b:b6be:41fa:d6a) (Client Quit)
[05:57:00] *** Joins: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net)
[05:59:24] *** Joins: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29)
[06:00:13] *** Quits: Tenchi (~Tenchi@user/tenchi) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:07:54] <buu> Why is it aking 2+ seconds to do an index scan on priority
[06:10:24] *** Joins: Tenchi (~Tenchi@user/tenchi)
[06:11:00] *** Joins: ur5us_ (~ur5us@2406:e002:6888:2f01:d8fb:5ff2:7baf:1c2c)
[06:13:26] *** Quits: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29) (Quit: Leaving.)
[06:14:43] *** Quits: urandom9000 (~urandom90@2600:1700:1474:4b70:8dde:f759:f6e:461) (Quit: Leaving)
[06:20:19] *** Quits: ChrisN (~ChrisN@166.84.7.111) (Quit: Reconnecting)
[06:20:25] *** Joins: ChrisN (~ChrisN@ginkgo.ccn.me)
[06:22:01] *** Quits: libsys (~libsys@186.105.176.243) (Ping timeout: 250 seconds)
[06:22:36] *** Joins: libsys (~libsys@186.105.174.95)
[06:23:24] <karlpinc> buu: Looks to me like your sorting on priority, but there's no index used to filter, so it has go through every row in the table to find the rows you want.
[06:26:17] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 256 seconds)
[06:31:36] <buu> I have an index on (site,type,key)
[06:31:50] <buu> shouldn't that work for site only queries?
[06:35:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[06:38:27] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 252 seconds)
[06:38:35] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[06:41:36] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[06:42:13] *** Quits: Su-Shee (~Susanne@204-108-142-46.pool.kielnet.net) (Ping timeout: 240 seconds)
[06:43:25] *** ketas- is now known as ketas
[06:44:08] *** Joins: Su-Shee (~Susanne@149-125-142-46.pool.kielnet.net)
[06:45:22] *** Joins: asymmentric (~asymmentr@27.63.55.110)
[06:47:18] *** Quits: asymmentric (~asymmentr@27.63.55.110) (Client Quit)
[06:57:26] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[06:58:26] *** Quits: Tenchi (~Tenchi@user/tenchi) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:59:49] *** Quits: kakashiAL (~kakashi@41.250.52.71) (Ping timeout: 240 seconds)
[07:01:25] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb)
[07:12:35] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[07:13:38] *** Quits: MrZeus_ (~MrZeus@81.92.206.10) (Ping timeout: 252 seconds)
[07:15:35] *** Quits: f3f3lix (~weechat@55d4c321.access.ecotel.net) (Ping timeout: 256 seconds)
[07:17:29] *** Joins: f3f3lix (~weechat@55d4c22d.access.ecotel.net)
[07:18:42] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[07:20:40] *** Joins: Tenchi (~Tenchi@user/tenchi)
[07:23:36] <concrete-houses> how can I find hoiw many times a query is hitting the db?
[07:24:17] <concrete-houses> a query on pg_stat_statments seems to add all thia variabels from the app so I cant match it to what monitoring says is a slow query in aws
[07:24:20] *** Joins: k8yun (~k8yun@user/k8yun)
[07:24:35] <concrete-houses> would this involve enabling logging?
[07:25:05] <concrete-houses> dev is trying to put caching which mae this one query hit the db zillion times since caxshe broke
[07:25:35] <concrete-houses> they are say ing can u show how many times that query is being run
[07:25:41] <concrete-houses> agaisnt the prod db
[07:26:40] <concrete-houses> i can nyl seem to look for active query or look up stuff in pg_stat_statments whihc I have a good query from hans at hybertek but its since last liek rest of states so gloms all the query into big report lsisted by % but it doesnt have variables filled out so look weir dn code-y
[07:27:34] <concrete-houses> I wonder can I tweak pg_stat_statments to record the actual variable filled out so its a query I can rerun with tryign figure out what 10 or more virables are
[07:28:14] *** Joins: austb (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[07:34:33] *** Quits: Tenchi (~Tenchi@user/tenchi) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:41:10] *** Joins: Tenchi (~Tenchi@user/tenchi)
[07:42:27] *** Quits: n0fun_ (~jack@mue-88-130-48-222.dsl.tropolys.de) (Ping timeout: 256 seconds)
[07:43:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[07:45:25] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[07:47:58] *** Quits: ur5us_ (~ur5us@2406:e002:6888:2f01:d8fb:5ff2:7baf:1c2c) (Quit: Leaving)
[07:52:49] *** Joins: ur5us (~ur5us@2406:e002:6888:2f01:d8fb:5ff2:7baf:1c2c)
[07:54:53] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Remote host closed the connection)
[07:57:01] *** Quits: concrete-houses (~g@209.6.150.53) (Ping timeout: 245 seconds)
[07:58:52] *** Joins: concrete-houses (~g@209.6.150.53)
[07:59:18] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 252 seconds)
[07:59:51] *** Quits: Su-Shee (~Susanne@149-125-142-46.pool.kielnet.net) (Ping timeout: 252 seconds)
[08:00:35] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 256 seconds)
[08:01:37] *** Joins: Su-Shee (~Susanne@i5E8613F4.versanet.de)
[08:03:21] *** Quits: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8) (Ping timeout: 268 seconds)
[08:04:19] *** Quits: FastJack (~fastjack@ip-078-094-022-014.um19.pools.vodafone-ip.de) (Ping timeout: 256 seconds)
[08:04:52] <concrete-houses> how do I tell pg_stat_statements to capture the query paramater values not jsut all this $1 $2 stuff ....
[08:05:07] <concrete-houses> so hard to go back in try to find all those variabels and type
[08:05:38] *** Joins: FastJack (~fastjack@ip-078-094-022-014.um19.pools.vodafone-ip.de)
[08:05:40] *** Joins: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8)
[08:06:35] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[08:07:04] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[08:10:24] *** Joins: podverse-mitch (~mitch-pod@96-68-51-54-static.hfc.comcastbusiness.net)
[08:13:03] *** Quits: Vacuity (~Vacuity@user/vovo) (Ping timeout: 256 seconds)
[08:14:37] *** Quits: podverse-mitch (~mitch-pod@96-68-51-54-static.hfc.comcastbusiness.net) (Ping timeout: 240 seconds)
[08:14:43] *** Quits: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: jdavfsxd)
[08:14:47] *** Joins: Vacuity (~Vacuity@user/vovo)
[08:16:45] *** Joins: shokohsc0 (~shokohsc@lfbn-idf2-1-974-194.w86-238.abo.wanadoo.fr)
[08:16:54] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Ping timeout: 252 seconds)
[08:16:54] *** shokohsc0 is now known as shokohsc
[08:17:11] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[08:20:22] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Client Quit)
[08:20:23] *** Quits: k8yun (~k8yun@user/k8yun) (Quit: Leaving)
[08:28:35] *** Joins: trillp (~trillp@137.220.51.190)
[08:31:18] *** Joins: EvanCarroll (~ecarroll@68-78-105-35.lightspeed.hstntx.sbcglobal.net)
[08:31:35] *** Quits: mbanck (~mbanck@ppp-188-174-62-125.dynamic.mnet-online.de) (Ping timeout: 250 seconds)
[08:31:43] *** Joins: mbanck (~mbanck@ppp-188-174-62-125.dynamic.mnet-online.de)
[08:36:51] *** Quits: austb (~austb@c-73-240-245-80.hsd1.or.comcast.net) (Ping timeout: 256 seconds)
[08:37:49] *** Quits: trillp (~trillp@137.220.51.190) (Ping timeout: 240 seconds)
[08:38:19] *** Joins: maxzor (~maxzor@2a01cb04054faa0075bf012840890cfe.ipv6.abo.wanadoo.fr)
[08:39:03] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[08:39:41] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 256 seconds)
[08:43:17] *** Quits: ur5us (~ur5us@2406:e002:6888:2f01:d8fb:5ff2:7baf:1c2c) (Ping timeout: 240 seconds)
[08:43:39] *** Quits: Forty-Bot (~kvirc@pool-108-18-137-133.washdc.fios.verizon.net) (Quit: KVIrc 5.0.0 Aria http://www.kvirc.net/)
[08:44:51] *** Quits: TheyCallMePaul (~TheyCallM@ip72-207-167-97.lv.lv.cox.net) (Quit: Leaving)
[08:51:00] *** Quits: xinming (~xinming@115.221.8.234) (Ping timeout: 240 seconds)
[08:51:24] *** Joins: xinming (~xinming@115.221.8.234)
[09:06:58] *** Quits: stark__ (~stark@192.222.248.88) (Ping timeout: 260 seconds)
[09:07:47] *** Quits: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br) (Ping timeout: 256 seconds)
[09:13:48] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 240 seconds)
[09:16:22] *** Joins: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw)
[09:21:03] *** Quits: EvanCarroll (~ecarroll@68-78-105-35.lightspeed.hstntx.sbcglobal.net) (Ping timeout: 268 seconds)
[09:24:32] *** Quits: sreve (~quassel@p4ff44c40.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[09:24:42] *** Joins: sreve (~quassel@p4ff44e04.dip0.t-ipconnect.de)
[09:27:53] *** Joins: Forty-Bot (~kvirc@pool-108-18-137-133.washdc.fios.verizon.net)
[09:30:02] *** Quits: Brewster (~Brewster@user/brewster) (Remote host closed the connection)
[09:30:53] *** Joins: Brewster (~Brewster@us.8bitshort.com)
[09:36:11] *** Joins: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com)
[09:37:11] *** Quits: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net) (Ping timeout: 252 seconds)
[09:41:04] *** Joins: jordi_ (~jordi@229.red-79-157-152.dynamicip.rima-tde.net)
[09:41:54] *** Joins: zz1 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp)
[09:44:03] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Ping timeout: 256 seconds)
[09:45:55] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[09:46:17] *** Joins: ekathva (~ekathva@2001:999:50:a96:5456:875b:fc0e:ff69)
[09:46:30] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[09:54:37] *** Quits: idontnee_ (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Read error: Connection reset by peer)
[09:55:51] *** Joins: coderman1 (~coderman1@104-187-76-61.lightspeed.rcsntx.sbcglobal.net)
[09:56:08] <coderman1> is there anyway to tell how long a startup recovery is going to take?
[09:58:33] *** Joins: zmt00 (~zmt00@user/zmt00)
[10:02:54] *** Joins: ur5us (~ur5us@2406:e002:6888:2f01:6b39:b2a:58ca:5636)
[10:03:33] *** Quits: zz1 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp) (Ping timeout: 256 seconds)
[10:05:46] <coderman1> i have a recovery that is timing out so the database wont start up
[10:08:31] *** Joins: Reiner_Unsinn (~quassel@p5dd47daa.dip0.t-ipconnect.de)
[10:09:48] *** Quits: jordi_ (~jordi@229.red-79-157-152.dynamicip.rima-tde.net) (Quit: Leaving)
[10:13:30] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[10:19:26] *** Joins: mattil (~mattil@87-95-1-254.bb.dnainternet.fi)
[10:20:36] *** Joins: manti7 (~manti7@176.10.104.94)
[10:22:56] *** Joins: mattil_ (~mattil@dzbvph6dd001-8tdzyt-4.rev.dnainternet.fi)
[10:23:17] *** Quits: glik22_ (~glik22@99-36-164-253.lightspeed.snjsca.sbcglobal.net) (Ping timeout: 240 seconds)
[10:23:41] *** cpaelzer_ is now known as cpaelzer
[10:25:14] *** Quits: carragom (~textual@201.204.94.76) (Quit: Textual IRC Client: www.textualapp.com)
[10:26:09] *** Quits: mattil (~mattil@87-95-1-254.bb.dnainternet.fi) (Ping timeout: 252 seconds)
[10:26:59] *** Quits: pglife_bot (~pglife@momjian.us) (Read error: Connection reset by peer)
[10:27:38] <coderman1> CONTEXT:  writing block 235 of relation base/16384/34288_fsm
[10:27:39] <coderman1> FATAL:  xlog flush request 89BA/D1DF0F28 is not satisfied --- flushed only to 118E/11000058
[10:27:39] <coderman1> CONTEXT:  writing block 235 of relation base/16384/34288_fsm
[10:27:42] <coderman1> what can i do about this?
[10:28:13] *** Joins: pglife_bot (~pglife@momjian.us)
[10:31:33] *** Quits: mattil_ (~mattil@dzbvph6dd001-8tdzyt-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:33:11] *** Quits: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[10:33:13] *** Joins: mattil (~mattil@87-95-1-254.bb.dnainternet.fi)
[10:33:45] *** Joins: mattil_ (~mattil@dzbvph6dd001-8tdzyt-4.rev.dnainternet.fi)
[10:33:49] *** Quits: ferz (~ferz@93-39-141-215.ip76.fastwebnet.it) (Ping timeout: 240 seconds)
[10:37:33] *** Quits: mattil (~mattil@87-95-1-254.bb.dnainternet.fi) (Ping timeout: 256 seconds)
[10:38:48] *** Joins: ferz (~ferz@93-39-141-215.ip76.fastwebnet.it)
[10:40:43] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 256 seconds)
[10:42:51] *** Quits: mattil_ (~mattil@dzbvph6dd001-8tdzyt-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:43:19] *** Quits: CanuteTheGreat (~CanuteThe@user/canutethegreat) (Ping timeout: 250 seconds)
[10:44:34] *** Joins: CanuteTheGreat (~CanuteThe@user/canutethegreat)
[10:47:18] *** Joins: TomTom (uid45892@id-45892.ilkley.irccloud.com)
[10:50:37] *** Quits: azlev (~azlev@189.120.73.227) (Ping timeout: 240 seconds)
[10:52:54] *** Joins: azlev (~azlev@189.120.73.227)
[10:54:21] *** Joins: mattil (~mattil@dzbvph6dd001-8tdzyt-4.rev.dnainternet.fi)
[10:54:39] *** Quits: mattil (~mattil@dzbvph6dd001-8tdzyt-4.rev.dnainternet.fi) (Read error: Connection reset by peer)
[10:55:15] *** Joins: mattil (~mattil@helsinki.portalify.com)
[10:56:08] *** Quits: rvalue (~rvalue@user/rvalue) (Read error: Connection reset by peer)
[10:58:04] *** Joins: rvalue (~rvalue@user/rvalue)
[10:58:31] *** Quits: azlev (~azlev@189.120.73.227) (Ping timeout: 256 seconds)
[11:00:22] *** Joins: Giovanni (~Giovanni@176.67.166.45)
[11:00:51] *** Joins: shiranaihito (~textual@219.85.1.85)
[11:05:11] *** Joins: azlev (~azlev@189.120.73.227)
[11:06:43] *** Joins: mjf_ (~mjf@217.11.224.233)
[11:08:07] <ksynwa> what is the best way to disable some triggers for some tables only inside a transanction? anything more elegant than `alter table ... disable trigger` followed by the queries then `alter table ... enable trigger`?
[11:10:59] *** Quits: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se) (Remote host closed the connection)
[11:13:18] *** Quits: mattil (~mattil@helsinki.portalify.com) (Quit: Leaving...)
[11:14:09] *** Quits: ur5us (~ur5us@2406:e002:6888:2f01:6b39:b2a:58ca:5636) (Ping timeout: 256 seconds)
[11:16:03] <Zr40> ksynwa: such alter table will require an access exclusive lock
[11:16:15] <Zr40> why do you need to disable those triggers?
[11:17:22] *** Joins: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se)
[11:17:57] <Zr40> coderman1: there's quite a big difference between 89BA and 118E. I suspect you're either using a very old basebackup, or one that's improperly created
[11:18:22] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[11:19:08] <ksynwa> Zr40: There are triggers fired when an update, delete or insert statement is made on some tables to send a notification to a channel. For some bulk delete operations this is causing some slowness which I was hoping to avoid by not firing these triggers because these are not helpful in the particular scenario of this bulk delete.
[11:19:12] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Remote host closed the connection)
[11:19:43] <coderman1> the database server restarted while it was in a transaction i guess
[11:19:54] *** Joins: bmomjian (~bruce@62.237.32.196)
[11:19:57] <Zr40> coderman1: that by itself shouldn't be a problem
[11:20:14] <coderman1> it appears its gotten past the recovery, but now its scrolling other errors to the log
[11:20:21] <coderman1>  CONTEXT:  writing block 235 of relation base/16384/34288_fsm
[11:20:22] <coderman1> 2022-03-23 02:50:17.202 EDT [862817] WARNING:  could not write block 235 of base/16384/34288_fsm
[11:20:22] <coderman1> 2022-03-23 02:50:17.202 EDT [862817] DETAIL:  Multiple failures --- write error might be permanent.
[11:20:53] <Zr40> disk full? or disk failure? anything relevant in syslog/dmesg?
[11:21:15] *** Quits: maxzor (~maxzor@2a01cb04054faa0075bf012840890cfe.ipv6.abo.wanadoo.fr) (Ping timeout: 250 seconds)
[11:21:21] <coderman1> disk is not full
[11:21:44] *** Joins: mattil (~mattil@helsinki.portalify.com)
[11:21:59] <Zr40> ksynwa: in any case, that alter table is going to prevent other transactions from using the table, so that's probably not what you want
[11:22:14] <coderman1> nothing really in syslog being written
[11:22:19] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi)
[11:22:34] <Zr40> ksynwa: can you tell just by looking at the data that the trigger does not need to be executed?
[11:22:41] <coderman1> 2817] WARNING:  could not write block 235 of base/16384/34288_fsm
[11:22:41] <coderman1> 2022-03-23 02:52:22.597 EDT [862817] DETAIL:  Multiple failures --- write error might be permanent.
[11:22:42] <coderman1> 2022-03-23 02:52:23.365 EDT [862986] ERROR:  index "ix_validation_type" contains corrupted page at block 22150
[11:22:42] <coderman1> 2022-03-23 02:52:23.365 EDT [862986] HINT:  Please REINDEX it.
[11:22:43] <coderman1> 2022-03-23 02:52:23.365 EDT [862986] CONTEXT:  while vacuuming index "ix_validation_type" of relation "zookeypub.email_validation"
[11:22:43] <coderman1>         automatic vacuum of table "waypoint.zookeypub.email_validation"
[11:23:19] <Zr40> coderman1: can you connect?
[11:23:37] <coderman1> yes
[11:23:46] <Zr40> what's the output of:  select 34288::regclass;
[11:23:48] <ksynwa> Zr40: Not data but when we are deleting in response to a particular API call, we know the triggers are not needed.
[11:24:08] <ksynwa> Btw thanks very much for the responses. Even the one about ALTER TABLE locking is super helpful.
[11:25:02] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[11:25:13] <coderman1>           regclass
[11:25:13] <coderman1> ----------------------------
[11:25:14] <coderman1>  zookeypub.email_validation
[11:25:31] <Zr40> ksynwa: presumably you do want it to execute when something else deletes from that table?
[11:25:32] <coderman1> this table can be dropped and recreated if need be
[11:25:42] <ksynwa> Zr40: Yes
[11:26:31] <Zr40> coderman1: perhaps, but the inability to write suggests it's really a problem with the disk (or filesystem or whatever), not the data
[11:28:12] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[11:28:44] *** Joins: c2main (~quassel@82.66.25.238)
[11:28:44] *** Quits: c2main (~quassel@82.66.25.238) (Changing host)
[11:28:44] *** Joins: c2main (~quassel@user/c2main)
[11:30:33] *** Joins: ba|ch (~user@p200300f3a7089c95eee648bb5db0ad86.dip0.t-ipconnect.de)
[11:31:15] *** Quits: c2main (~quassel@user/c2main) (Client Quit)
[11:31:17] <Zr40> ksynwa: do you have a way to determine in SQL that a delete is to be ignored?
[11:32:02] <Zr40> like, could the client set some setting to indicate this? (requires trusting the client, obviously)
[11:32:31] <ksynwa> Yes. We already use something like that using set_config(...). Zr40
[11:32:34] <ksynwa> Maybe we can use that here.
[11:32:38] <Zr40> indeed
[11:33:04] <Zr40> you could use CREATE TRIGGER ... WHEN (...)
[11:33:21] <Zr40> the trigger won't fire if that expression evaluates as false
[11:34:07] <ksynwa> Zr40: Damn. That WHEN is a game changer. Thanks very much man.
[11:34:49] *** Joins: darutoko (~darutoko@92.125.48.25)
[11:35:12] *** Quits: randir (~randir@95-25-111-216.broadband.corbina.ru) (Remote host closed the connection)
[11:35:21] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[11:35:58] *** Joins: Atque (~Atque@user/atque)
[11:40:21] *** Joins: rodo (~rodo@109.190.253.16)
[11:40:28] *** Joins: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29)
[11:41:26] *** Joins: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge)
[11:42:14] *** Joins: michalz (~michalz@185.246.204.57)
[11:42:25] *** Quits: charukiewicz (~charukiew@2600:1702:a90:2750::3c) ()
[11:45:47] *** Quits: shiranaihito (~textual@219.85.1.85) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[11:46:29] <maret> Is it bad idea to ,,cache" results of a query in its own table? I have query which is relatively fast expect several cases because of huge amount of data. The data seems to be bit too big for redis.
[11:49:23] *** Joins: randir (~randir@93.159.239.42)
[11:51:47] *** Joins: palasso (~palasso@user/palasso)
[11:56:30] <Zr40> maret: it always depends
[11:57:07] <Zr40> remember that changes to the underlying data don't appear in the cached data
[11:57:24] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[11:57:30] <maret> Yeah I would have to deal with updating for the cache, but that shouldnt too much hassle
[11:57:45] <Zr40> also I've seen cases where using a cache is actually slower than just doing whatever the cache was supposed to avoid
[11:58:20] <maret> Zr40 certainly. I don't think it would be case  for me though.
[12:01:31] *** Joins: shiranaihito (~textual@2001-b011-4011-32ae-2163-08e9-2efb-a63c.dynamic-ip6.hinet.net)
[12:02:05] *** Quits: bmomjian (~bruce@62.237.32.196) (Remote host closed the connection)
[12:12:56] *** Joins: odnes (~odnes@5-203-216-28.pat.nym.cosmote.net)
[12:13:27] *** Quits: rodo (~rodo@109.190.253.16) (Read error: Connection timed out)
[12:13:58] *** Joins: rodo (~rodo@109.190.253.16)
[12:16:29] *** Joins: gleu (~guillaume@2a01cb0c0e54b8007e39e75cb4390e1c.ipv6.abo.wanadoo.fr)
[12:16:32] <maret> Zr40 so to confirm, it is reasonable to create separate table for subset of adata to speed them up, sort of manual ,,partition" I could either
[12:16:51] <maret> I could either store source data or results for queries like that
[12:17:42] <Zr40> it's something you could do, but whether it makes sense can't be answered in general
[12:18:13] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Ping timeout: 240 seconds)
[12:19:56] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[12:21:39] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[12:32:53] <kjetilho> maret: generally you should look into possible indexing to speed up stuff first.  there is a lot of functionality for this in PostgreSQL
[12:33:04] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[12:33:34] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[12:33:41] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[12:34:17] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[12:42:15] *** Quits: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29) (Quit: Leaving.)
[12:50:15] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:a509:c488:a716:5b9e) (Ping timeout: 252 seconds)
[12:51:27] *** Quits: rvalue (~rvalue@user/rvalue) (Ping timeout: 265 seconds)
[12:51:29] *** Joins: rvalue- (~rvalue@user/rvalue)
[12:51:43] *** Joins: tozhu (~tozhu@171.210.37.57)
[12:52:38] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[12:56:08] *** rvalue- is now known as rvalue
[12:58:04] *** Joins: kakashiAL (~kakashi@102.53.13.200)
[12:58:51] *** Quits: tozhu (~tozhu@171.210.37.57) (Read error: Connection reset by peer)
[12:59:01] *** Joins: shka (~herr@109.231.3.55)
[12:59:31] *** Quits: rodo (~rodo@109.190.253.16) (Read error: Connection timed out)
[12:59:53] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[12:59:57] *** Joins: rodo (~rodo@109.190.253.16)
[13:00:59] *** Joins: dsrt^ (~dsrt@96-67-120-105-static.hfc.comcastbusiness.net)
[13:04:32] *** Joins: vladoski (~vladoski@217.147.130.65)
[13:05:07] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[13:07:29] *** Joins: ur5us (~ur5us@2406:e002:6888:2f01:6b39:b2a:58ca:5636)
[13:08:13] *** Quits: kakashiAL (~kakashi@102.53.13.200) (Ping timeout: 240 seconds)
[13:08:38] *** Joins: shkurata (~shkurata@ptr-8riebuibdk9bv2ymb1c.18120a2.ip6.access.telenet.be)
[13:09:00] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 240 seconds)
[13:16:31] *** Joins: lifeboy (~lifeboy@197.214.119.150)
[13:17:07] *** Joins: DevAntoine (~DevAntoin@pop.92-184-112-252.mobile.abo.orange.fr)
[13:20:16] *** Joins: eric (~user@45.91.144.178)
[13:20:20] <eric> Hello
[13:20:55] <eric> I am restoring a dump since more than 50 hours now, table is still empty
[13:21:32] <mbanck> check whether the restore is maybe blocked?
[13:21:32] <eric> i can see activity with pg_stat_activity an dpg_activity, but do not know if it realy works
[13:22:17] <eric> thanks mbanck , how can we check this, how can we check nex data are inserted ?
[13:23:06] <mbanck> what's the command-line you used (if any)?
[13:24:22] <nickb> You won't see the changes until the transaction commits. You can check if its actually doing anything by just checking if the table physically stores any data (that might be not visible just yet)
[13:24:27] <eric> i use psql to import only one table that xas not imported with pg_restore because of  bad characters
[13:24:31] <nickb> for example \dt+ mytable
[13:25:26] <nickb> oh, if it has failed in the past, then verify that the size is actually changing, as the current size may also be the result of a previously failed restore attempt
[13:26:12] <eric> nickb: thanks, very intersting, count(*) give 0 but \dt+ my_table says size is 158mb, that is very few,but it is not 0.
[13:26:53] <nickb> and cna you also run `select pg_relation_size('mytable'::regclass);` and confirm that the size (in bytes) is changing?
[13:26:55] *** Joins: trafficjam (~trafficja@203.176.111.34)
[13:27:01] *** Quits: ur5us (~ur5us@2406:e002:6888:2f01:6b39:b2a:58ca:5636) (Ping timeout: 245 seconds)
[13:27:51] <eric> nickb: thnaks a lot, very usefull command, size is not changing !
[13:27:53] <nickb> alternatively you can just check if anyone is even accessing the table: `select * from pg_locks where relation = 'mytable'::regclass;` and look maybe even add `and not granted` to see if someone is blocked
[13:29:04] *** Joins: rendar (~rendar@user/rendar)
[13:30:44] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[13:30:58] *** Quits: rodo (~rodo@109.190.253.16) (Read error: Connection timed out)
[13:30:59] <eric> the last command with 'and not granted' return one line but i cannot understand the given informations
[13:31:26] *** Joins: rodo (~rodo@109.190.253.16)
[13:33:29] *** Joins: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de)
[13:35:49] *** Quits: fcr (~fran@r167-60-32-20.dialup.adsl.anteldata.net.uy) (Ping timeout: 256 seconds)
[13:37:00] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Ping timeout: 240 seconds)
[13:39:29] *** Quits: rodo (~rodo@109.190.253.16) (Ping timeout: 250 seconds)
[13:40:35] *** Joins: fcr (~fran@r186-48-1-0.dialup.adsl.anteldata.net.uy)
[13:40:57] <eric> ok, i understand there is a lock (mode = 'ShareLock')
[13:42:12] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 240 seconds)
[13:42:15] *** grove_ is now known as grove
[13:42:35] <eric> in fact i seen now that pg_relation_size says size is not the same as 5 mn ago, so it works, but very slowly.
[13:43:11] <eric> i think this is due to the creation of an index, a very specific index
[13:43:46] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[13:43:58] <eric> many thanks for you nice advices
[13:47:13] <eric> In the same way i can check the size of a is changing with pg_relation_size, is there a way to check the size of an index ?
[13:50:03] *** Joins: ur5us (~ur5us@2406:e002:6888:2f01:6b39:b2a:58ca:5636)
[13:50:47] *** Quits: trafficjam (~trafficja@203.176.111.34) (Ping timeout: 256 seconds)
[13:51:05] *** Quits: DevAntoine (~DevAntoin@pop.92-184-112-252.mobile.abo.orange.fr) (Read error: Connection reset by peer)
[13:53:47] <nickb> eric: yes, index is also a relation
[13:53:48] <eric> ok i see there pg_indexes_size and maybe pg_table_size can be useful
[13:54:12] <nickb> indexes_size calculates size of all indexes on a given table
[13:54:13] <eric> hum ... :) thanks !
[13:56:44] <eric> index size is growing too...Good news...
[13:58:24] *** Joins: DevAntoine (~DevAntoin@pop.92-184-112-252.mobile.abo.orange.fr)
[14:01:39] *** Joins: springified (~springifi@2405:201:d01d:505a:5979:1e19:a408:a1ae)
[14:02:16] *** Joins: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr)
[14:05:26] <depesz> Myon: any chance you're online?
[14:07:24] *** Quits: DevAntoine (~DevAntoin@pop.92-184-112-252.mobile.abo.orange.fr) (Read error: Connection reset by peer)
[14:07:46] <depesz> if/when, I'd appreciate if you could ping me, i have a problem with debs on arm ( i want to re-build them, with additional cflags), but I'm getting https://paste.depesz.com/s/FV - I got this with `export CFLAGS="-march=armv8.2-a+fp16+rcpc+dotprod+crypto -mtune=neoverse-n1" ; fakeroot debian/rules binary`
[14:08:14] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[14:13:55] *** Quits: ur5us (~ur5us@2406:e002:6888:2f01:6b39:b2a:58ca:5636) (Ping timeout: 250 seconds)
[14:15:40] *** Joins: tozhu (~tozhu@171.210.37.57)
[14:18:30] <teresko> hey guys
[14:19:02] <teresko> is there a way to find "keyword" by looking for "kwd"
[14:19:19] <teresko> I am looking for some kind of fuzzy-searchg thing
[14:20:55] <kjetilho> that is a bit too fuzzy, but look here: https://www.postgresql.org/docs/14/fuzzystrmatch.html
[14:21:16] <teresko> yeah, I already looked at it
[14:21:28] <depesz> teresko: select * from keywords where keyword ~ 'k.*w.*d'; but that will not be fast.
[14:21:29] <teresko> I don't need to find "similar leters"
[14:21:58] <kjetilho> what do you need, then?
[14:22:09] <teresko> depesz: I think that also would fail if the query was "ked"
[14:22:49] <teresko> kjetilho: I need to find entries that contain the letters, that have been passes in as search query
[14:23:31] <kjetilho> so "yr" should match, too?
[14:23:40] <teresko> yes
[14:24:16] <kjetilho> well then I guess depesz' method is your best bet
[14:24:49] <kjetilho> or with plain LIKE '%y%r%'
[14:25:30] <kjetilho> depesz: do you know if like vs regex will have any performance advantage here?  (for non-anchored search)
[14:25:52] <teresko> what I am actually hearing is - postgres is not really the correct tool for this
[14:26:13] <depesz> no, it will not. it will have to scan whole table sequentially
[14:26:47] *** Quits: econo (uid147250@user/econo) (Quit: Connection closed for inactivity)
[14:27:26] <teresko> I think I will just tell business to not be morons and enter full names of the clients
[14:27:43] <depesz> how many rows in your table?
[14:27:49] <kjetilho> teresko: it will be better if you just search for %kwd%
[14:27:53] <kjetilho> not disjunct letters
[14:28:42] <teresko> depesz: the search is targeted on specific columns, not just "every", and in this particular the case the target is ~8 columns (from 3 tables)
[14:28:53] <teresko> kjetilho: yeah
[14:29:53] <kjetilho> for an interactive application such a regexp match may not be so bad.
[14:30:09] <kjetilho> I suspect you don't have millions and millions of clients
[14:30:28] <kjetilho> who cares if it takes 0.2 seconds?
[14:30:46] <teresko> well, the number of clients is above 400k
[14:30:59] <kjetilho> ok.  try it and see?
[14:31:09] <nbjoerg> %kwd% can be indexed with trigram btw
[14:31:25] <teresko> and there are joins with other tables, not just the cliens but also theiur employers and adresses
[14:31:59] <teresko> btw, there is no "name" for the search I described, right?
[14:32:43] <teresko> I am calling it "fuzzy" because that's what Atom calls it in the file-lookup-dialog
[14:33:14] <depesz> nbjoerg: %kwd% yes, but %k%w%d% no
[14:33:54] <kjetilho> your users will need a lookup tool to find the correct client anyway.  but it may be better to keep that separate from other operations to avoid all those joins?
[14:34:59] <kjetilho> with so many clients, I think perhaps the users will need to be exposed to the explicit numeric ID or similar for the client anyway.
[14:36:07] *** Joins: DNH (~DNH@2a02:8108:1100:16d8:4199:73fa:f378:33d)
[14:36:22] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[14:38:17] *** Quits: ferz (~ferz@93-39-141-215.ip76.fastwebnet.it) (Ping timeout: 240 seconds)
[14:39:29] *** Joins: ocZio (~ocZio@2a00:23c4:7d29:be00:b126:2dc1:f66:fce)
[14:41:38] <ocZio> Hi there, I have a publication and subscribtion (logical replication) working, I removed a column (alter table drop...) on the database, and executed the same to the subscriber table and now the subscriber doesn't seem to be working anymore. I get this in the logs.
[14:41:38] <ocZio> ERROR:  logical replication target relation "public.xxx" is missing some replicated columns
[14:41:39] <ocZio> I checked both tables are identical
[14:41:47] <ocZio> any ideas/suggestions how I can debug/remedy this further?
[14:43:27] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[14:45:11] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Ping timeout: 256 seconds)
[14:45:17] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[14:45:30] *** Joins: rodo (~rodo@83.167.58.98)
[14:47:08] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[14:53:47] *** Joins: ferz (~ferz@93-39-141-215.ip76.fastwebnet.it)
[14:57:53] *** Joins: AceSlash (~slash@cosium-fo-152-18.fib.nerim.net)
[14:58:29] <grove> teresko: You said that you don't "need to find "similar leters"", but if the business has this wish, that will probably follow soon
[14:59:28] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[15:00:35] *** Quits: pramsky (~pramz@23.252.62.194) (Ping timeout: 252 seconds)
[15:01:28] *** Quits: ocZio (~ocZio@2a00:23c4:7d29:be00:b126:2dc1:f66:fce) (Quit: Client closed)
[15:01:31] <depesz> teresko: you co do the search in two phases: 1. extract list of words from client names, and store it somewhere. this will be relatively small. 2. search using like/regexp in this small table, which will show you list of words that match given letters. and then 3. using the words from #2 - search in client names using like/regexp with trigram indexes
[15:01:35] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[15:04:02] <teresko> sounds very much what I came up with ... though, at first I will try telling the business to f-off
[15:06:24] <teresko> btw, I think I could optiize a bit more by assuming that the first letter in the query would always match the first letter in the name
[15:11:49] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Ping timeout: 256 seconds)
[15:12:50] <modin> can I get psql to list table names in column header output? eg `select * from a, b;` to show `| a.col_a | b.col_a | ...` instead of `| col_a | col_a | ...`
[15:13:57] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[15:15:14] *** Quits: janos (~janos@fedora/janos) (Quit: update/reboot time)
[15:15:46] *** Quits: tozhu (~tozhu@171.210.37.57) (Quit: tozhu)
[15:17:55] <johto> psql doesn't know them
[15:19:14] <depesz> modin: some people thing that select * is a bug waiting to happen.
[15:19:33] <depesz> modin: the point is: don't use it, and be happy with it :) and you will always know what comes from where.
[15:20:43] *** Joins: janos (~janos@fedora/janos)
[15:21:31] <modin> alright thanks. Heh yes, this is more for the ad-hoc looking-at-what's-in-there queries
[15:22:54] *** Joins: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net)
[15:27:23] *** Quits: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge) (Ping timeout: 250 seconds)
[15:28:44] <Myon> depesz: does CFLAGS="..." dpkg-buildpackage  work better?
[15:29:02] *** Joins: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge)
[15:29:11] *** Quits: Su-Shee (~Susanne@i5E8613F4.versanet.de) (Ping timeout: 252 seconds)
[15:29:54] <Myon> depesz: also, there is PROFILE for adding more CFLAGS
[15:29:55] *** Joins: Su-Shee (~Susanne@i5E8613F4.versanet.de)
[15:30:14] <Myon> in theory it should pick up the flags from the environment, but maybe there's too many layers
[15:30:43] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[15:32:02] *** Joins: dionysus70 (~Thunderbi@185.115.7.53)
[15:33:12] <depesz> testing
[15:33:43] *** Quits: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge) (Ping timeout: 260 seconds)
[15:33:44] *** dionysus70 is now known as dionysus69
[15:34:59] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[15:37:31] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Client Quit)
[15:38:08] *** Joins: velix (~velix@user/velix)
[15:38:11] <depesz> it will take some time.
[15:38:13] <velix> Should I reindex after cluster?
[15:40:29] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi) (Ping timeout: 256 seconds)
[15:40:41] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[15:40:50] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi)
[15:45:04] <Myon> velix: cluster already rebuilds the index: http://paste.debian.net/1235315/
[15:45:20] <Myon> but I wonder why that isn't mentioned on https://www.postgresql.org/docs/devel/sql-cluster.html
[15:45:53] <velix> Myon: oh thanks, nice for this query.
[15:45:59] <velix> Myon: Yeah, I wasn't able to find anything about it :D
[15:46:04] <velix> Thanks, you saved me some seconds :D
[15:46:23] <velix> Myon: does it reindex ALL indexes? :D
[15:47:40] <Myon> looks like: http://paste.debian.net/1235316/
[15:48:31] <Myon> there is some discussion about disk space in the docs, I hope the rebuilding doesn't depend on which of the two methods it picks (but that seems unlikely)
[15:48:46] <velix> Okay, then the workflow is: build 1 index first, cluster, build other indexes.
[15:48:53] <velix> I'm working like that already.
[15:49:15] <velix> followed by VACUUM ANALYZE of course
[15:49:30] <Myon> if the indexes are new, that makes more sense anyway
[15:50:11] *** Quits: dionysus69 (~Thunderbi@185.115.7.53) (Read error: Connection reset by peer)
[15:50:31] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[15:51:17] *** Joins: pramsky (~pramz@23.252.62.194)
[15:52:24] <velix> I need to benchmark, if clustering is useful anyway.
[15:52:34] <velix> Maybe 0.2 ms vs 0.1 ms ;)
[15:52:45] <velix> but hey, 50%
[15:52:48] *** Joins: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge)
[15:54:10] <Myon> less often than one would think
[16:03:16] *** Quits: nyov (~nyov@user/nyov) (Ping timeout: 245 seconds)
[16:05:22] *** Joins: nyov (~nyov@user/nyov)
[16:05:27] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[16:05:49] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Ping timeout: 240 seconds)
[16:09:19] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[16:12:17] *** Joins: otisolsen70_ (~otisolsen@sas08110.nat.sas.com)
[16:13:03] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[16:13:25] <depesz> Myon: same problem.
[16:13:37] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Ping timeout: 240 seconds)
[16:14:41] *** Joins: nillyhan0 (~7f000001@user/nillyhan)
[16:14:50] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Ping timeout: 268 seconds)
[16:17:31] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[16:18:19] <Myon> depesz: the easy way out would be to copy /usr/share/postgresql-common/server/postgresql.mk to debian/rules and then edit that
[16:18:44] <Myon> plus MAJOR_VER := 15
[16:18:50] *** Quits: Tenchi (~Tenchi@user/tenchi) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:19:00] <Myon> (sorry I'm not fully awake atm, still ill)
[16:19:48] *** Joins: kakashiAL (~kakashi@41.141.70.104)
[16:21:50] <velix> 15 ?? :D
[16:21:58] <velix> how long did I sleep ?
[16:23:35] <depesz> Myon: i'm still building 14.
[16:23:54] <depesz> Myon: I'll look into editing this, but for now, i'm testing plain compilation, without deb
[16:24:07] *** Quits: kakashiAL (~kakashi@41.141.70.104) (Ping timeout: 260 seconds)
[16:24:49] <Myon> ./configure CFLAGS=...
[16:28:22] *** Joins: Guest94 (~Guest94@2402:3a80:91a:e7cf:2125:7f54:1c1d:7be)
[16:28:37] <depesz> that's what i'm doing/testing now. well, will test, because now I run normal test, with "normal" pg, compiled by me. to remove any varaibles aside from some cpu-specific optimizations for graviton
[16:28:45] <Guest94> Can I load html source code in database?
[16:28:54] <depesz> Guest94: sure. html it just text.
[16:29:08] *** Parts: velix (~velix@user/velix) (Leaving)
[16:31:59] *** Joins: merzo1 (~Thunderbi@192.162.238.196)
[16:33:59] *** Quits: pramsky (~pramz@23.252.62.194) (Ping timeout: 256 seconds)
[16:34:02] *** Quits: otisolsen70_ (~otisolsen@sas08110.nat.sas.com) (Quit: Leaving)
[16:34:18] *** merzo1 is now known as merzo
[16:39:02] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Ping timeout: 252 seconds)
[16:39:11] *** Joins: Klinda (~superleag@user/klinda)
[16:40:10] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Read error: Connection timed out)
[16:41:48] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[16:44:31] *** Quits: peder (4822@nidur.ifi.uio.no) (Ping timeout: 250 seconds)
[16:44:31] *** Quits: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net) (Ping timeout: 256 seconds)
[16:44:38] *** Joins: peder_ (4822@nidur.ifi.uio.no)
[16:44:45] *** Joins: Moonsilence (~Moonsilen@mx1.intend.de)
[16:44:47] *** peder_ is now known as peder
[16:47:10] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[16:47:48] *** Quits: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net) (Ping timeout: 240 seconds)
[16:47:56] <wez> Guest94: Why would you want to do that though?  You generally store the raw data in a database and use a template to inject the values in HTML, or <insert other markup here>
[16:49:12] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[16:49:42] *** Quits: Moonsilence (~Moonsilen@mx1.intend.de) (Remote host closed the connection)
[16:49:53] *** Joins: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net)
[16:52:06] *** Joins: rek (~rek@adsl-d6.84-47-56.t-com.sk)
[16:52:07] *** Quits: Guest94 (~Guest94@2402:3a80:91a:e7cf:2125:7f54:1c1d:7be) (Ping timeout: 256 seconds)
[16:55:24] *** Joins: Guest94 (~Guest94@2402:3a80:926:fdfe:2125:7f54:1c1d:7be)
[16:58:22] *** Joins: lkw (~lkw@user/lkw)
[17:00:13] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[17:03:00] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Read error: Connection timed out)
[17:06:36] *** Quits: veesh (~veesh@89.237.101.141) (Ping timeout: 245 seconds)
[17:07:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[17:09:24] <odnes> Noob here, I've gone for a hybrid approach where I've got a template engine building the html base, but I've also got an Articles table that stores the each article as a text entry with html markup (paragraph formatting, anchor classes for css etc). wez How would I get an analogous result without overcomplicating my db schema?
[17:09:43] *** Joins: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net)
[17:11:27] *** Joins: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br)
[17:11:28] <odnes> Granted, my current solution ain't too simple: The articles' source of truth are textfiles in a  markdown-like that gets converted to the html files to be served from the db. Curious if there's a common practice that's actually simpler?
[17:12:02] <nickb> I don't think you want to normalize article text. I'd say you should rather go for storing user input (source in whatever markdown format you support) and target (if needed)
[17:14:01] <nickb> I don't know if there is a common practice, but I'd definitely keep the final html somewhere, so that displaying the desired article takes as little work as it can.
[17:14:07] *** Quits: mjf_ (~mjf@217.11.224.233) (Read error: Connection reset by peer)
[17:14:57] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[17:15:25] *** Joins: mjf_ (~mjf@2001:1528:1:fffd:287a:f050:f744:97dd)
[17:15:50] <odnes> Yeah that's why I opted for storing html in the db, rather than compiling it from e.g. markdown on request. Saves a few precious millisecs :D
[17:18:37] *** Quits: orthoplex64 (~crm@70.120.0.94) (Ping timeout: 240 seconds)
[17:19:53] *** Quits: Guest94 (~Guest94@2402:3a80:926:fdfe:2125:7f54:1c1d:7be) (Ping timeout: 256 seconds)
[17:22:14] *** Quits: ekathva (~ekathva@2001:999:50:a96:5456:875b:fc0e:ff69) (Remote host closed the connection)
[17:22:27] *** Quits: mjf_ (~mjf@2001:1528:1:fffd:287a:f050:f744:97dd) (Ping timeout: 260 seconds)
[17:23:29] *** Joins: mjf_ (~mjf@cst-prg-93-14.cust.vodafone.cz)
[17:25:08] *** Quits: mahlon (~mahlon@martini.nu) (Ping timeout: 268 seconds)
[17:26:07] *** Quits: ged (~ged@deveiate.org) (Ping timeout: 256 seconds)
[17:27:25] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Quit: So long and thanks for all the fish)
[17:27:49] *** Quits: springified (~springifi@2405:201:d01d:505a:5979:1e19:a408:a1ae) (Ping timeout: 256 seconds)
[17:28:37] *** Joins: ekathva (~ekathva@2001:999:409:7be:593e:c5d:6f6:ba5e)
[17:31:16] <nbjoerg> I'd use something like redis or similar in-memory cache for that
[17:33:12] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[17:34:31] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[17:36:54] *** Joins: kakashiAL (~kakashi@41.143.7.80)
[17:47:09] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Remote host closed the connection)
[17:47:41] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Quit: So long and thanks for all the fish)
[17:48:28] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[17:49:40] *** Joins: veesh (~veesh@89.237.97.197)
[17:52:45] *** Quits: mjf_ (~mjf@cst-prg-93-14.cust.vodafone.cz) (Ping timeout: 256 seconds)
[17:53:37] *** Joins: mjf_ (~mjf@2001:1528:1:fffd:287a:f050:f744:97dd)
[17:55:58] *** Joins: alioui (~medeva293@197.244.100.90)
[17:56:29] <alioui> hi all, how to get the index of string in array ?
[17:56:31] *** Joins: rufito (~phil@186-79-24-118.baf.movistar.cl)
[17:56:43] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Ping timeout: 256 seconds)
[17:56:53] <alioui> search a string in array of string
[17:57:09] *** Joins: n0fun_ (~jack@i577BC001.versanet.de)
[17:58:28] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[18:03:59] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Read error: Connection timed out)
[18:05:27] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[18:08:00] *** Quits: merzo (~Thunderbi@192.162.238.196) (Quit: merzo)
[18:18:43] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Quit: So long and thanks for all the fish)
[18:19:13] *** Joins: EvanCarroll (~ecarroll@68-78-105-35.lightspeed.hstntx.sbcglobal.net)
[18:19:40] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[18:20:18] *** Quits: rvalue (~rvalue@user/rvalue) (Read error: Connection reset by peer)
[18:20:42] *** Joins: rvalue (~rvalue@user/rvalue)
[18:25:13] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[18:25:20] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb)
[18:28:49] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[18:29:34] *** Joins: robin44 (~robin44@131.106.25.151)
[18:29:57] <robin44> hi, is there an easy way to just transfer a database from one server to another? i tried using online tutorials but whenever i go to transfer the dumped database i just get a ton of errors saying many relations don't exist
[18:30:24] <robin44> it looks like the dump file does things in the wrong order.. like, i'm reading through the sql commands and it tries defining functions that use certain tables before it runs the commands to even generate those tables.. you know?
[18:31:37] <robin44> i did `pg_dump -U postgres mydb > mydb.sql` to dump the database
[18:31:43] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[18:32:00] <robin44> and i'm trying to do `psql mydb < mydb.sql` to load the database
[18:32:16] *** Joins: mattil (~mattil@helsinki.portalify.com)
[18:32:54] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[18:33:06] *** Joins: mattil (~mattil@helsinki.portalify.com)
[18:33:41] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[18:34:13] *** Joins: mattil (~mattil@helsinki.portalify.com)
[18:34:23] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Quit: So long and thanks for all the fish)
[18:35:51] <sehrope> robin44: The restore command is "pg_restore"
[18:36:01] <robin44> yeah i tried that too same error
[18:36:25] <sehrope> Is the database relatively small? i.e. if you create another dump it won't take too long?
[18:36:39] <robin44> yeah it's like 20 kilobytes
[18:36:45] *** Joins: methbkts (~methbkts@82.138.90.40)
[18:36:54] <robin44> wait i think i messed up anyway.. i ran `sudo apt install postgresql postgresql-contrib` and i just realized now it installed postgres 12.. why..
[18:37:09] <robin44> i'm using postgres 14 on my computer i think i need to uninstall 12 and install 14
[18:37:34] <robin44> wait should i use 12?
[18:37:54] <robin44> i'm looking online on how to install postgres 14 on linux and it looks so complicated..?
[18:37:56] <sehrope> Yes the client command should be >= the server version. Create a new one using v14 and then generate a dump file via: pg_dump -Fc -U postgres mydb > mydb.pg_dump
[18:38:28] <sehrope> The -Fc creates a "custom format" dump that's usually the best format. You can restore it with pg_restore directly to a database or have pg_restore convert it into a bunch of SQL commands.
[18:38:31] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[18:39:16] <robin44> is postgres 14 supported on ubuntu 20?
[18:39:41] <robin44> and is it going to mess anything up if i uninstall 12 and install 14?
[18:39:45] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 268 seconds)
[18:41:01] <sehrope> Yes PG version 14 is supported on Ubuntu 20 (I'm assuming you mean 20.04 LTS). You can install it after adding the pgdg apt repo
[18:41:07] <eric> Hello
[18:41:11] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[18:41:14] <sehrope> robin44: Your server is version 14?
[18:41:21] <eric> here is a plpgsql snippet : https://paste.depesz.com/s/oK
[18:41:23] <robin44> yeah the server on my computer is 14
[18:41:29] <robin44> i'm trying to get that exact database onto my remote server
[18:41:39] <sehrope> Yes then you'll definitely need client version 14 for the pg_dump program.
[18:41:47] <eric> i got "missing from-clause" error but cannt see why !
[18:42:02] <sehrope> If the database is on your local machine then you should have the same client binaries for it as well.
[18:42:06] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[18:42:13] <robin44> i think i'm not explaining right
[18:42:15] <robin44> my client IS 14
[18:42:15] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 252 seconds)
[18:42:15] <sehrope> The server installation is a superset of the client one.
[18:42:40] <eric> if i execute the select ... limit 5 only, no error, but in this context got error for alias 'm'
[18:42:51] <robin44> i have two computers. one is my local computer i'm doing my dev work on. that's postgres 14. i JUST created a remote ubuntu server. i installed postgres and it was version 12. i just realized this
[18:42:53] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[18:43:03] <robin44> i'm trying to get my postgres 14 db onto my remote server
[18:43:09] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb)
[18:43:11] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[18:43:11] *** Joins: iliv (~iliv@user/iliv)
[18:43:24] <sehrope> Ah okay. Yes you need to get v14 installed their to restore the v14 backup.
[18:44:13] <robin44> ok doing that now
[18:44:31] <robin44> i ran `sudo apt-get --purge remove postgresql postgresql-*` to delete all postgres stuff hopefully that's correct just found iton google
[18:45:28] <sehrope> eric: On line 14 you're referring to "m.id" at the end but "m" is not in context. You only have _res as a record.
[18:45:41] <sehrope> Probably should be _res.id
[18:46:22] <robin44> okay i have postgres 14 on my remote server now
[18:46:31] <eric> sehrope: you are right ! Many thanks !
[18:48:26] <robin44> okay so u recommend i do  pg_dump -Fc -U postgres mydb > mydb.pg_dump eh
[18:48:28] <robin44> ok i try that
[18:49:18] <sehrope> robin44: Yes
[18:49:56] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 252 seconds)
[18:50:15] <robin44> okay sehrope how would u recommend i gulp it?
[18:50:25] <robin44> i just transferred the database to my server
[18:50:29] *** Joins: k8yun (~k8yun@user/k8yun)
[18:50:29] <robin44> do i need to do CREATE DATABASE first?
[18:50:33] <robin44> or can i just run pg_restore?
[18:50:43] <robin44> (i just installed postgres 14 it's completely empty)
[18:51:35] *** Joins: tozhu (~tozhu@117.174.101.210)
[18:52:08] <sehrope> It must exist or you pass a flag instructing pg_restore to create it: https://www.postgresql.org/docs/current/app-pgrestore.html
[18:52:17] *** Quits: tozhu (~tozhu@117.174.101.210) (Client Quit)
[18:53:02] <robin44> okay i just wanna make sure i have the EXACT command right before i run it.. one sec
[18:53:27] *** Joins: zmt00 (~zmt00@user/zmt00)
[18:53:34] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Quit: So long and thanks for all the fish)
[18:53:42] <robin44> do i need the -d flag?
[18:54:28] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[18:54:36] <robin44> if not i think i just need to do `pg_restore -C mydb.pg_dump` no?
[18:54:39] <robin44> or am i missing anything
[18:55:39] <robin44> o i probably need -U postgres too
[18:55:53] *** Joins: tozhu (~tozhu@117.174.101.210)
[18:56:11] <robin44> ok maybe this `pg_restore -C -U postgres -d mydb mydb.pg_dump`
[18:56:39] *** Quits: uncleyear (~ian@178.176.79.141) (Remote host closed the connection)
[18:56:47] *** Joins: mattil (~mattil@d1005n3yght5v8fl8xy-4.rev.dnainternet.fi)
[18:56:57] *** Quits: tozhu (~tozhu@117.174.101.210) (Client Quit)
[18:57:15] <sehrope> No that won't work. The "-d ..." used with --create is which DB to connect to when issueing the create/drop commands.
[18:57:26] <robin44> oh okay so just get rid of the -d
[18:57:38] <robin44> this then? `pg_restore -C -U postgres mydb.pg_dump`
[18:57:45] *** Joins: uncleyear (~ian@178.176.79.141)
[18:57:50] <sehrope> Yes that should work. You can also manually create the DB and then issue the restore directly to that DB without --create.
[18:58:05] <robin44> pg_restore: error: one of -d/--dbname and -f/--file must be specified
[18:58:16] <robin44> it's telling me i need -d or -f but i am already specifying teh file
[18:59:00] <sehrope> try this: pg_restore -C -d postgres -U postgres mydb.pg_dump
[18:59:28] *** Joins: SwK (~SwK_@158.120.197.136)
[18:59:28] *** Quits: SwK (~SwK_@158.120.197.136) (Changing host)
[18:59:28] *** Joins: SwK (~SwK_@user/swk)
[18:59:57] *** Quits: coderman1 (~coderman1@104-187-76-61.lightspeed.rcsntx.sbcglobal.net) (Quit: Client closed)
[19:00:04] <robin44> nah that gave me errors
[19:00:13] <robin44> okay i'll try to just run CREATE DATABASE and then run the normal command
[19:00:54] <robin44> omg i think it worked
[19:00:56] <robin44> no errors at least
[19:01:02] <robin44> pog pog
[19:01:25] <robin44> yaaaaaaaa it worked :party:
[19:01:28] <sehrope> Nice.
[19:01:31] <robin44> ty ty
[19:01:37] *** Quits: mattil (~mattil@d1005n3yght5v8fl8xy-4.rev.dnainternet.fi) (Remote host closed the connection)
[19:01:41] <robin44> wait im stuck
[19:01:46] <robin44> i just did a query how do i get out of here
[19:01:57] <robin44> uhhhhh
[19:02:04] <robin44> i'm in psql and i did a select how do i leaveee lol
[19:02:14] <sehrope> Ctrl-D
[19:02:16] <robin44> control+c doesn't work enter doesn't work space doesn't work escape doesn't work
[19:02:24] <robin44> nope that didn't work either
[19:02:34] *** Joins: hoppity (~hoppity@user/hoppity)
[19:02:39] <sehrope> Or \quit
[19:02:56] <robin44> o pog that worked yeah i had to hit backslash to my keyboard back
[19:03:02] *** Joins: mattil (~mattil@d1005n3yght5v8fl8xy-4.rev.dnainternet.fi)
[19:03:03] <sehrope> Ctrl-D definitely works. It needs to be the first character of theline.
[19:03:14] <robin44> ya not sure why it wasn't working ill try again
[19:03:27] *** Quits: op2_ (~op2@user/op2) (Quit: connection reset by purr)
[19:03:30] <sehrope> Once you start typing anything else it's not the first character so it becomes part of the line itself.
[19:03:44] *** Joins: op2 (~op2@user/op2)
[19:03:53] <robin44> yeah control-d doesn't work
[19:04:01] <robin44> maybe it's because i'm in an amazon chrome browser or something
[19:04:14] *** Quits: ba|ch (~user@p200300f3a7089c95eee648bb5db0ad86.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[19:04:14] <sehrope> ?
[19:04:22] <sehrope> Oh you're in one of those cloud shells?
[19:04:27] <robin44> i just made a lightsail instance and connected to ssh using the button on their page that launched a terminal in your browser to play with your remote server
[19:04:28] <robin44> ya ya
[19:04:43] <sehrope> Oh yes that would screw up all Ctrl sequences.
[19:05:00] <robin44> ok well \quit worked hooray
[19:05:52] <robin44> hey offtopic question but what's an exe called in linux?
[19:05:58] <robin44> like not an exe but the programs that u run
[19:06:08] <robin44> it has no file extension but u can run it if that makes sense. it's like a program
[19:07:01] <sehrope> File extensions don't mean anything in *nix. You can run anything regardless of the file name. All that matters is the executable bit needs to be set.
[19:07:20] <robin44> oh okay
[19:07:26] *** Quits: mattil (~mattil@d1005n3yght5v8fl8xy-4.rev.dnainternet.fi) (Remote host closed the connection)
[19:07:40] <sehrope> Most executable files do not have an extension. Some interpreted files, e.g. "foo.sh" or "bar.py" will have extensions. But programs generally don't.
[19:07:53] *** Joins: mattil (~mattil@d1005n3yght5v8fl8xy-4.rev.dnainternet.fi)
[19:07:55] *** Quits: hoppity (~hoppity@user/hoppity) (Ping timeout: 260 seconds)
[19:08:00] <robin44> yeah my program doesn't i compiled my rust program to linux and i'm like hey where's the extension! lol
[19:08:20] *** Quits: mattil (~mattil@d1005n3yght5v8fl8xy-4.rev.dnainternet.fi) (Remote host closed the connection)
[19:08:25] <robin44> just a web server thing
[19:08:28] *** Joins: mattil (~mattil@d1005n3yght5v8fl8xy-4.rev.dnainternet.fi)
[19:08:54] *** Quits: rek (~rek@adsl-d6.84-47-56.t-com.sk) (Remote host closed the connection)
[19:10:16] <robin44> o i guess dumping the database doesn't dump the password too
[19:11:00] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Read error: Connection timed out)
[19:11:34] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[19:12:15] *** Quits: mjf_ (~mjf@2001:1528:1:fffd:287a:f050:f744:97dd) (Read error: Connection reset by peer)
[19:12:28] *** Joins: hoppity_ (~hoppity@mobile-107-92-60-129.mycingular.net)
[19:12:41] <robin44> okay pog my server is running! connected to the database and everything. cool thanks for help!
[19:13:27] <sehrope> Great.
[19:13:41] *** Joins: mjf_ (~mjf@2001:1528:1:fffd:287a:f050:f744:97dd)
[19:16:40] <robin44> hmm i guess last problem is my GET request to my api isn't working.. i guess port 80 is blocked on linux by default or something?
[19:17:57] <robin44> nah that's not it .. hmm
[19:18:11] *** Quits: mjf_ (~mjf@2001:1528:1:fffd:287a:f050:f744:97dd) (Ping timeout: 260 seconds)
[19:19:02] *** Joins: mjf_ (~mjf@cst-prg-93-14.cust.vodafone.cz)
[19:19:04] <robin44> ohhhh i got it i just had to bind to `0.0.0.0` instead of `127.0.0.1` now it works. hooray
[19:20:03] *** Quits: hoppity_ (~hoppity@mobile-107-92-60-129.mycingular.net) (Ping timeout: 260 seconds)
[19:20:55] *** Quits: mattil (~mattil@d1005n3yght5v8fl8xy-4.rev.dnainternet.fi) (Remote host closed the connection)
[19:21:15] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Quit: So long and thanks for all the fish)
[19:21:21] *** Joins: mattil (~mattil@d1005n3yght5v8fl8xy-4.rev.dnainternet.fi)
[19:21:43] *** Quits: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net) (Ping timeout: 256 seconds)
[19:22:06] *** Quits: k8yun (~k8yun@user/k8yun) (Read error: Connection reset by peer)
[19:22:18] *** Quits: robinsmidsrod (~robin@25.51-174-133.customer.lyse.net) (Read error: Connection reset by peer)
[19:22:28] *** Joins: gp5st_ (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net)
[19:22:30] *** Joins: k8yun (~k8yun@user/k8yun)
[19:22:54] *** Joins: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net)
[19:24:03] *** Joins: hoppity (~hoppity@66.222.130.10)
[19:24:04] *** Quits: hoppity (~hoppity@66.222.130.10) (Changing host)
[19:24:04] *** Joins: hoppity (~hoppity@user/hoppity)
[19:25:00] *** Joins: robinsmidsrod (~robin@25.51-174-133.customer.lyse.net)
[19:26:01] *** Quits: mattil (~mattil@d1005n3yght5v8fl8xy-4.rev.dnainternet.fi) (Ping timeout: 256 seconds)
[19:26:20] *** Quits: hoppity (~hoppity@user/hoppity) (Read error: No route to host)
[19:29:40] *** Joins: hoppity (~hoppity@66.222.130.10)
[19:29:40] *** Quits: hoppity (~hoppity@66.222.130.10) (Changing host)
[19:29:40] *** Joins: hoppity (~hoppity@user/hoppity)
[19:32:22] *** Quits: odnes (~odnes@5-203-216-28.pat.nym.cosmote.net) (Read error: Connection reset by peer)
[19:32:38] *** Joins: odnes (~odnes@5-203-216-28.pat.nym.cosmote.net)
[19:33:11] *** Quits: hoppity (~hoppity@user/hoppity) (Read error: No route to host)
[19:33:42] *** Joins: hoppity (~hoppity@66.222.130.10)
[19:33:42] *** Quits: hoppity (~hoppity@66.222.130.10) (Changing host)
[19:33:42] *** Joins: hoppity (~hoppity@user/hoppity)
[19:34:04] *** Quits: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge) (Ping timeout: 260 seconds)
[19:34:18] *** Quits: randir (~randir@93.159.239.42) (Remote host closed the connection)
[19:36:48] *** Joins: hojasuelta (~hojasuelt@67-198-118-247.dyn.grandenetworks.net)
[19:37:25] *** Quits: hojasuelta (~hojasuelt@67-198-118-247.dyn.grandenetworks.net) (Read error: Connection reset by peer)
[19:37:43] *** Joins: hoppity_ (~hoppity@66.222.130.10)
[19:37:51] *** Quits: hoppity (~hoppity@user/hoppity) (Read error: No route to host)
[19:39:29] *** Joins: R2Racoon (~R2Racoon@181.62.52.196)
[19:40:23] *** Quits: hoppity_ (~hoppity@66.222.130.10) (Read error: Connection reset by peer)
[19:40:33] *** Joins: hoppity (~hoppity@66.222.130.10)
[19:40:33] *** Quits: hoppity (~hoppity@66.222.130.10) (Changing host)
[19:40:33] *** Joins: hoppity (~hoppity@user/hoppity)
[19:40:38] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[19:41:23] *** Joins: k8yun_ (~k8yun@user/k8yun)
[19:42:25] *** Joins: hoppity_ (~hoppity@66.222.130.10)
[19:42:26] *** Quits: hoppity (~hoppity@user/hoppity) (Read error: Connection reset by peer)
[19:42:47] *** Joins: hojasuelta (~hojasuelt@67-198-118-247.dyn.grandenetworks.net)
[19:42:49] *** Quits: hojasuelta (~hojasuelt@67-198-118-247.dyn.grandenetworks.net) (Remote host closed the connection)
[19:44:17] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 240 seconds)
[19:44:57] *** Quits: k8yun (~k8yun@user/k8yun) (Ping timeout: 252 seconds)
[19:45:16] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb)
[19:47:42] *** Joins: hoppity (~hoppity@user/hoppity)
[19:47:47] *** Quits: hoppity_ (~hoppity@66.222.130.10) (Read error: No route to host)
[19:50:03] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Quit: So long and thanks for all the fish)
[19:51:14] *** Quits: ivii (~ivan@user/ivii) (Remote host closed the connection)
[19:51:40] *** Joins: mattil (~mattil@87-92-127-241.bb.dnainternet.fi)
[19:52:16] *** Quits: mattil (~mattil@87-92-127-241.bb.dnainternet.fi) (Read error: Connection reset by peer)
[19:52:37] *** Quits: hoppity (~hoppity@user/hoppity) (Ping timeout: 240 seconds)
[19:52:58] *** Joins: mizi_ (~mizi@user/mizi)
[19:53:03] *** Joins: hoppity (~hoppity@66.222.130.10)
[19:53:03] *** Quits: hoppity (~hoppity@66.222.130.10) (Changing host)
[19:53:03] *** Joins: hoppity (~hoppity@user/hoppity)
[19:54:08] *** Quits: odnes (~odnes@5-203-216-28.pat.nym.cosmote.net) (Read error: Connection reset by peer)
[19:54:08] *** Joins: odnes_ (~odnes@5-203-216-28.pat.nym.cosmote.net)
[19:55:11] *** Joins: maciek__ (~maciek@2600:1700:a412:1c00:b4f1:d73f:297e:8a14)
[19:55:52] *** Joins: zaher_ (~zaher@37.48.144.97)
[19:56:00] <dfg> any thoughts or performance considerations with a recursive function vs a recursive cte?
[19:56:30] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[19:56:31] <zaher_> hi what privilege to grant user to allow create temp table like `  create temp table "chiled" () inherits("Master") on commit drop;
[19:56:43] <zaher_> i got error "must be owner of table"
[19:57:51] *** Quits: hoppity (~hoppity@user/hoppity) (Read error: No route to host)
[19:57:54] *** Joins: hoppity_ (~hoppity@66.222.130.10)
[19:57:55] <Myon> dfg: measure it?
[20:01:02] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[20:01:03] *** Quits: hoppity_ (~hoppity@66.222.130.10) (Read error: Connection reset by peer)
[20:01:35] *** Joins: hoppity (~hoppity@66.222.130.10)
[20:01:35] *** Quits: hoppity (~hoppity@66.222.130.10) (Changing host)
[20:01:35] *** Joins: hoppity (~hoppity@user/hoppity)
[20:04:31] <dfg> a fair response, but i have only a very tiny data set that ive created manually and im wondering if theres an obvious advantage to either.. heres what ive come up with so far https://www.db-fiddle.com/f/xsbG1NNtFfwd2eA5Umg8h9/0
[20:06:49] *** Quits: hoppity (~hoppity@user/hoppity) (Read error: Connection reset by peer)
[20:07:21] *** Joins: hoppity (~hoppity@66.222.130.10)
[20:07:21] *** Quits: hoppity (~hoppity@66.222.130.10) (Changing host)
[20:07:21] *** Joins: hoppity (~hoppity@user/hoppity)
[20:07:26] *** Quits: eric (~user@45.91.144.178) (Remote host closed the connection)
[20:07:57] *** Joins: glik22_ (~glik22@99-36-164-253.lightspeed.snjsca.sbcglobal.net)
[20:08:19] *** Quits: lkw (~lkw@user/lkw) (Quit: Lost terminal)
[20:08:45] *** Quits: R2Racoon (~R2Racoon@181.62.52.196) (Ping timeout: 256 seconds)
[20:09:38] *** Quits: peder (4822@nidur.ifi.uio.no) (Ping timeout: 260 seconds)
[20:11:35] *** Quits: Komzzpa (~kom@212.58.119.213) (Ping timeout: 256 seconds)
[20:12:44] *** Joins: peder (4822@nidur.ifi.uio.no)
[20:12:47] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 260 seconds)
[20:12:50] *** Joins: hoppity_ (~hoppity@66.222.130.10)
[20:12:57] *** Parts: alioui (~medeva293@197.244.100.90) ()
[20:13:03] *** Quits: hoppity (~hoppity@user/hoppity) (Read error: Connection reset by peer)
[20:13:58] *** Joins: hoppity (~hoppity@mobile-166-172-58-76.mycingular.net)
[20:13:58] *** Quits: hoppity (~hoppity@mobile-166-172-58-76.mycingular.net) (Changing host)
[20:13:58] *** Joins: hoppity (~hoppity@user/hoppity)
[20:14:10] *** Joins: randir (~randir@95-25-111-216.broadband.corbina.ru)
[20:14:21] *** Quits: randir (~randir@95-25-111-216.broadband.corbina.ru) (Remote host closed the connection)
[20:14:33] *** Joins: randir (~randir@95-25-111-216.broadband.corbina.ru)
[20:14:35] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[20:14:45] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb)
[20:16:01] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[20:16:50] *** Joins: Komzzpa (~kom@212.58.119.213)
[20:16:54] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[20:17:35] *** Quits: hoppity_ (~hoppity@66.222.130.10) (Ping timeout: 256 seconds)
[20:19:11] *** Joins: stark__ (~stark@192.222.248.88)
[20:22:15] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[20:22:52] *** Joins: Afroboy (~afroboy@105.106.161.74)
[20:27:01] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 240 seconds)
[20:28:04] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb)
[20:30:08] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[20:31:19] *** Quits: Afroboy (~afroboy@105.106.161.74) (Remote host closed the connection)
[20:31:25] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Quit: So long and thanks for all the fish)
[20:32:40] *** Quits: gleu (~guillaume@2a01cb0c0e54b8007e39e75cb4390e1c.ipv6.abo.wanadoo.fr) (Quit: Leaving.)
[20:33:17] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 240 seconds)
[20:34:24] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb)
[20:35:00] *** Joins: ged (~ged@deveiate.org)
[20:39:56] *** Quits: concrete-houses (~g@209.6.150.53) (Ping timeout: 252 seconds)
[20:41:34] *** Joins: concrete-houses (~g@209.6.150.53)
[20:44:11] *** Joins: kakashiA1 (~kakashi@41.251.32.52)
[20:44:31] *** Quits: kakashiAL (~kakashi@41.143.7.80) (Ping timeout: 260 seconds)
[20:47:37] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::81cb) (Ping timeout: 250 seconds)
[20:52:08] *** Joins: tozhu (~tozhu@221.237.139.15)
[20:53:47] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Quit: Leaving)
[20:57:43] *** Joins: mahlon (~mahlon@martini.nu)
[21:03:25] *** Quits: hoppity (~hoppity@user/hoppity) ()
[21:05:49] *** Quits: methbkts (~methbkts@82.138.90.40) (Quit: Client closed)
[21:07:04] <karlpinc> dfg: If it does not matter, use what's easiest to understand and maintain.
[21:07:32] *** Joins: Rashad (~textual@2a01:9700:13b9:5900:d4b:53d7:d739:3482)
[21:09:53] *** Quits: robin44 (~robin44@131.106.25.151) (Quit: Client closed)
[21:17:17] *** Joins: fordfrog_ (~fordfrog@gentoo/developer/fordfrog)
[21:17:25] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[21:22:48] *** Quits: vladoski (~vladoski@217.147.130.65) (Remote host closed the connection)
[21:23:36] <glik22_> is there a way to get the last time a database was written to? i'm upgrading my db and will be stopping all my processes that hit the db. it would be nice to have some sort of check at the db level just in case there's a rogue process
[21:26:52] <sehrope> glik22_: Maybe something involving checking the WAL writes? If nothing is writing then WAL should not increase.
[21:27:08] *** Joins: eric (~user@45.91.144.178)
[21:27:11] <eric> Hello
[21:27:38] <eric> i got this error when creating index :  error while processing records with ctid='(268420,19)'::tid
[21:28:11] <eric> I have find the line with select * from table where ctid='(268420,19)'::tid
[21:28:16] <sehrope> glik22_: Check out pg_current_wal_lsn() here: https://www.postgresql.org/docs/current/functions-admin.html
[21:28:39] <eric> i update this line and then i still got this error, event after a vacuum
[21:28:45] <sehrope> eric: ctid is an internal thing and cannot be relied upon for querying.
[21:28:51] *** Quits: kakashiA1 (~kakashi@41.251.32.52) (Ping timeout: 260 seconds)
[21:29:18] <eric> sehrope: thanks, ok but i need to find the corresponding entry
[21:29:51] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Ping timeout: 250 seconds)
[21:30:39] <sehrope> If you got that while trying to create an index that may be a data corruption issue
[21:31:31] <eric> omg!
[21:32:13] *** Quits: ferz (~ferz@93-39-141-215.ip76.fastwebnet.it) (Ping timeout: 240 seconds)
[21:32:17] <eric> should i remove the index and create one again ?
[21:32:59] <Myon> can you read the tuple by ctid?
[21:33:12] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[21:33:39] <eric>  select ctid,* from table where ctid = '(268420,19)'::tid; give not rsult now that i have updated the tuple
[21:33:43] *** Joins: kakashiA1 (~kakashi@105.158.60.226)
[21:33:51] <eric> *give no
[21:38:47] <eric> the error message says 'ERROR ON id=360', but i do no think this is the corresponding id of my table as 600000 lines where processed before this error
[21:39:16] *** Joins: pramsky (~pramz@23.252.62.194)
[21:40:31] *** Quits: rodo (~rodo@83.167.58.98) (Ping timeout: 260 seconds)
[21:43:19] *** Joins: kakashiAL (~kakashi@160.178.116.100)
[21:45:01] *** Quits: kakashiA1 (~kakashi@105.158.60.226) (Ping timeout: 240 seconds)
[21:45:15] <Myon> does the create index command work now?
[21:45:57] <eric> no, now it returns error each time i try
[21:46:02] *** Joins: kakashiA1 (~kakashi@adsl196-141-182-206-196.adsl196-6.iam.net.ma)
[21:47:59] *** Quits: kakashiAL (~kakashi@160.178.116.100) (Ping timeout: 260 seconds)
[21:48:01] *** Joins: ferz (~ferz@93-39-141-215.ip76.fastwebnet.it)
[21:48:48] *** Joins: kakashiAL (~kakashi@105.157.252.212)
[21:49:04] <Myon> did you even have hardware problems, or were running with fsync=off?
[21:49:24] <johto> is "error while processing records with ctid" really a postgres error message?
[21:49:33] <eric> i do not know  fsync=off
[21:49:41] <eric> no
[21:50:14] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Quit: au revoir)
[21:50:17] *** Quits: kakashiA1 (~kakashi@adsl196-141-182-206-196.adsl196-6.iam.net.ma) (Ping timeout: 240 seconds)
[21:50:27] <eric> here is the complete error
[21:50:31] <eric> https://paste.depesz.com/s/S8
[21:51:50] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[21:52:34] <eric> i did not have hardware pb, the server is a new one
[21:53:21] <Myon> ah that'
[21:53:28] <Myon> ah that's a bingo error, not a PostgreSQL one
[21:54:01] <Myon> that's some chemical problem
[21:54:34] <eric> yes, so i edit the smiles (chemical strcuture as string) for a 'correct' one
[21:55:35] <eric> then the error appears once i launch the index creation, first time i tired to create the index some molecule was processed
[21:56:03] <eric> i goona delete the entry and see
[21:56:55] *** Joins: lkw (~lkw@user/lkw)
[21:57:50] <eric> i delete the entry but error is still here...
[22:01:23] *** Joins: econo (uid147250@user/econo)
[22:05:43] <Myon> I'd guess the bingo docs say something about what kind of molecules can be indexed?
[22:07:01] *** Quits: mahlon (~mahlon@martini.nu) (Ping timeout: 245 seconds)
[22:07:11] *** Quits: ged (~ged@deveiate.org) (Ping timeout: 256 seconds)
[22:14:46] *** Joins: kakashiA1 (~kakashi@160.178.132.120)
[22:17:12] *** Joins: ivii (~ivan@user/ivii)
[22:17:23] *** Quits: kakashiAL (~kakashi@105.157.252.212) (Ping timeout: 260 seconds)
[22:18:17] *** Joins: edrocks (~Ed@user/edrocks)
[22:19:00] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[22:24:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[22:24:32] *** Joins: coderman1 (~coderman1@12.184.218.18)
[22:25:03] <coderman1> ERROR:  MultiXactId 1048617 has not been created yet -- apparent wraparound
[22:25:03] <coderman1> CONTEXT:  while scanning block 244343 offset 2 of relation "internal.leads_p2022_03"
[22:25:04] <coderman1> what can i do to fix these errors?
[22:25:34] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[22:26:32] *** Quits: rwb (~augh@alogs.space) (Quit: ZNC - https://znc.in)
[22:26:44] *** Joins: rwb (~augh@alogs.space)
[22:27:45] *** Quits: ghoti (~paul@198.23.196.224) (Read error: Connection reset by peer)
[22:27:49] <Myon> any hardware problems lately? PostgreSQL updated?
[22:28:30] <coderman1> there was a hard reboot that happened that put the database in recovery upon reboot. i had to run pg_ctl start with -W -t 600 to get it to start up
[22:28:43] <coderman1> it was timing out with the default value
[22:29:45] <Myon> that just means it's doing recovery, that's not the problem
[22:29:59] <Myon> the error means that something on disk is bad
[22:30:14] <Myon> restoring from last good backup is the best option
[22:30:39] <coderman1> this happens when i try to vacuum that table
[22:30:51] <coderman1> i could drop the table and recreate it i guess
[22:30:58] <coderman1> do you think its 1 particular table?
[22:31:27] <Myon> if you are lucky, but the corruption is possibly more widespread
[22:31:49] <Myon> everything touched by that group of transactions
[22:32:18] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[22:32:26] <coderman1> yea im seeing a bunch of errors in postgres log with share locks and deadlocks that ive never seen before
[22:33:13] *** Joins: ghoti (~paul@198.23.196.224)
[22:33:36] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Read error: Connection reset by peer)
[22:35:24] *** Quits: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de) (Ping timeout: 240 seconds)
[22:35:56] *** Joins: kakashiAL (~kakashi@160.179.19.59)
[22:37:38] <coderman1> internal@waypoint DETAIL:  Could not open file "pg_xact/0BDD": No such file or directory.
[22:38:23] *** Quits: kakashiA1 (~kakashi@160.178.132.120) (Ping timeout: 260 seconds)
[22:39:44] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[22:39:51] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Remote host closed the connection)
[22:40:20] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651)
[22:40:27] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[22:40:32] *** Joins: eroux (~eroux@102-65-72-61.ftth.web.africa)
[22:40:49] <Myon> your storage is lying about fsync
[22:41:04] <Myon> (or else a hard reboot would not be a problem)
[22:42:37] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[22:44:27] *** Quits: kakashiAL (~kakashi@160.179.19.59) (Ping timeout: 260 seconds)
[22:44:37] <coderman1> so anything with an error like ERROR:  invalid page in block 126768 of relation base/16384/3920079 im doing select 3920079::regclass and dropping/recreating that object
[22:44:44] <coderman1> in most cases its an index it seems
[22:45:24] *** Joins: kakashiAL (~kakashi@41.141.179.134)
[22:45:54] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b1b1:e3c2:ffcc:c651) (Ping timeout: 252 seconds)
[22:47:44] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[22:49:24] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[22:50:46] *** Joins: rivyn (~rivyn@223-84-181-166.mobile.uscc.net)
[22:51:12] *** Joins: Intelo (~Intelo@user/Intelo)
[22:52:12] <rivyn> Hi, I'm looking at a query which usually takes ~220ms, but sometimes takes 20 seconds.  Here's an explain analyze for when it takes 20 seconds, but then if I run it again immediately, it goes faster:  https://explain.depesz.com/s/hUIS
[22:52:52] <rivyn> Don't understand why it's taking 12 seconds to look up a single value from a primary key index.  I tried reindexing, but after restarting the database server to flush cache, the query takes 20 seconds again regardless.
[22:53:36] *** Quits: held (~heldchen@user/held) (Ping timeout: 252 seconds)
[22:53:37] <rivyn> Here is the query:  https://dpaste.com/5RQADLHBD
[23:01:35] *** Quits: Kaivo (~Kaivo@user/kaivo) (Ping timeout: 256 seconds)
[23:01:43] *** Joins: austb (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[23:02:56] *** Quits: kakashiAL (~kakashi@41.141.179.134) (Ping timeout: 252 seconds)
[23:03:19] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[23:03:46] *** Quits: Rashad (~textual@2a01:9700:13b9:5900:d4b:53d7:d739:3482) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[23:04:46] *** Joins: csd (~csd@c-73-22-175-211.hsd1.il.comcast.net)
[23:04:51] *** Joins: held (~heldchen@user/held)
[23:04:55] *** Joins: Kaivo (~Kaivo@user/kaivo)
[23:09:57] <rivyn> Here's the explain analyze for a subsequent much-faster run:  https://explain.depesz.com/s/SvJ3
[23:10:02] *** Quits: k8yun_ (~k8yun@user/k8yun) (Quit: Leaving)
[23:10:10] <rivyn> Any idea why the 2 index scans are going soooooo much slower sometimes?
[23:11:16] *** Joins: MrZeus_ (~MrZeus@86.106.136.215)
[23:11:21] <coderman1> you tried analyzing program and series?
[23:13:35] *** Joins: coderman113 (~coderman1@12.184.218.18)
[23:15:05] *** Quits: AceSlash (~slash@cosium-fo-152-18.fib.nerim.net) (Quit: Leaving)
[23:16:19] *** Quits: coderman1 (~coderman1@12.184.218.18) (Ping timeout: 256 seconds)
[23:19:25] *** Quits: Intelo (~Intelo@user/Intelo) (Quit: Client closed)
[23:20:02] *** Quits: unyu (~pyon@user/pyon) (Ping timeout: 240 seconds)
[23:20:27] *** Joins: pmcnabb5 (~pmcnabb@user/pmcnabb)
[23:20:28] *** Quits: justOkay (~justache@user/justache) (Read error: Connection reset by peer)
[23:21:00] <rivyn> codedmart_ yes, and the explain plan is identical for the fast and slow runs too.
[23:21:24] *** Quits: pmcnabb (~pmcnabb@user/pmcnabb) (Ping timeout: 240 seconds)
[23:21:24] *** pmcnabb5 is now known as pmcnabb
[23:21:38] *** Joins: justOkay (~justache@user/justache)
[23:23:11] *** Quits: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon) (Remote host closed the connection)
[23:23:39] *** Joins: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon)
[23:23:42] <nickb> looks like storage issue to me
[23:23:57] <nickb> have you actually tried reindexing?
[23:26:29] *** Quits: coderman113 (~coderman1@12.184.218.18) (Quit: Client closed)
[23:30:59] *** Joins: berkhan (~berkhan@159.146.40.169)
[23:34:55] *** Quits: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon) (Ping timeout: 240 seconds)
[23:34:56] *** Quits: shkurata (~shkurata@ptr-8riebuibdk9bv2ymb1c.18120a2.ip6.access.telenet.be) (Quit: Leaving...)
[23:35:59] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[23:36:45] *** Joins: pedja_hpmini (~pedja_hpm@109-93-189-123.dynamic.isp.telekom.rs)
[23:36:50] *** Quits: pmcnabb (~pmcnabb@user/pmcnabb) (Ping timeout: 260 seconds)
[23:38:29] *** Joins: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon)
[23:40:17] <nickb> Does anyone know how postgres picks the right operator for something like `a = 'b'`?
[23:40:47] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[23:40:49] <nickb> namely if there are 2 or 3 operators that could potentially be used, how does it decide which one to use?
[23:41:02] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Read error: Connection reset by peer)
[23:41:30] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[23:42:32] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[23:42:33] *** Joins: magla (~gelignite@d53678fd.access.ecotel.net)
[23:42:43] *** Joins: gambl0re (~gambl0re@cpe688f2e1852a3-cm688f2e1852a0.cpe.net.cable.rogers.com)
[23:43:22] *** Quits: darutoko (~darutoko@92.125.48.25) (Quit: Leaving)
[23:43:24] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[23:45:24] <stark__> It's possible for an index to get extremely bloated with pointers to deleted rows but even so it's hard to imagine ever getting into the range of 20s
[23:45:42] *** Joins: unyu (~pyon@user/pyon)
[23:47:53] <nickb> just a bad block on a spinning disk can easily cause this
[23:55:10] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[23:55:45] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[23:57:13] <stark__> In that particular case there'll only be one because 'b' is type "unknown" so it'll always use the equal operator for the type of a and cast b to that type.
[23:57:25] *** Quits: gambl0re (~gambl0re@cpe688f2e1852a3-cm688f2e1852a0.cpe.net.cable.rogers.com) (Ping timeout: 250 seconds)
[23:59:37] *** Quits: berkhan (~berkhan@159.146.40.169) (Quit: Leaving for now. See you next time.)
