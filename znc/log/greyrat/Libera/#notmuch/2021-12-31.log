[00:06:45] *** Quits: jao (~jao@211.68.17.95.dynamic.jazztel.es) (Ping timeout: 256 seconds)
[00:47:32] <cworth> gour: Welcome to notmuch. I hope you find it helpful!
[00:55:37] *** Joins: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-211.dsl.bell.ca)
[00:56:49] <vd> hi there -- I see that notmuch-config now has the notion of "profile". Is that meant for splitting your config and maildir into different "identities" directories?
[01:43:25] *** Joins: jao (~jao@211.68.17.95.dynamic.jazztel.es)
[02:28:51] *** Joins: nlhowell1 (~nlhowell@don28-11.ln.rinet.ru)
[02:56:53] *** Quits: gour (~gour@109.227.37.23) (Remote host closed the connection)
[03:07:01] *** Joins: rgrinberg (~textual@2806:101e:7:cff:f4d0:b9c8:9c34:9747)
[03:14:49] *** Quits: rgrinberg (~textual@2806:101e:7:cff:f4d0:b9c8:9c34:9747) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:16:04] *** Joins: rgrinberg (~textual@2806:101e:7:cff:f4d0:b9c8:9c34:9747)
[03:18:28] *** Joins: kenny (~kenny@user/kenny)
[03:27:24] *** Quits: radu242407821 (~radu242@pool-96-250-79-242.nycmny.fios.verizon.net) (Quit: The Lounge - https://thelounge.chat)
[03:29:21] *** Joins: radu242407821 (~radu242@pool-96-250-79-242.nycmny.fios.verizon.net)
[03:31:01] *** Quits: radu242407821 (~radu242@pool-96-250-79-242.nycmny.fios.verizon.net) (Client Quit)
[03:32:16] *** Joins: radu242407821 (~radu242@pool-96-250-79-242.nycmny.fios.verizon.net)
[03:34:34] <bremner> vd: yes, although it's still a bit experimental
[03:36:15] <vd> bremner: ok. Since it's based on the value of the NOTMUCH_PROFILE environment variable, I understand that it's one profile at once, right?
[03:36:26] <vd> So you cannot search all databases at the same time
[03:36:55] <bremner> vd: right.
[03:38:08] *** Quits: rgrinberg (~textual@2806:101e:7:cff:f4d0:b9c8:9c34:9747) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:38:10] <vd> that might not be big of a deal after all.
[03:38:39] <vd> So it is meant to be used like NOTMUCH_PROFILE=work notmuch search <terms>
[03:39:13] <bremner> for example.
[03:39:37] <vd> I guess a --profile switch will come in the future or something like that
[03:39:55] <bremner> yeah, that's why I call it a bit experimental, it's missing some UI bits
[03:41:00] <vd> I like having the ability to split the "identities". I might create /home/personal /home/work and so on with respectives .mail and .notmuch subdirectories
[03:44:18] <vd> bremner but since the concept of notmuch is not to care about the number of mail and rather index all of them, it seems weird to exclude profiles. Profiles might be a way to refine a search (like we used to do with path:/some/identity/subdirectory/**) but notmuch should index and search all profile databases by default I assume
[03:45:08] <bremner> well, if you want everything together in one database you can have that too. Just use some kind of directory hierarchy
[03:46:02] <bremner> profiles are for people who need / want to keep their mail seperate. I'm not sure what you're after, but it seems like different
[03:55:34] *** Joins: rgrinberg (~textual@2806:101e:7:cff:f4d0:b9c8:9c34:9747)
[04:42:55] <cworth> vd: If you index all mail together, then you can certainly restrict mail with "to:<myaddress>" or "from:<myaddress>" or even tag based on either of those and then limit a search to include that tag.
[04:43:55] <cworth> (I certainly don't have my email separated out into multiple indexes and multiple profiles, but I'm the oldest notmuch user, so it's not surprising that I don't use it in newer ways.)
[04:47:48] <vd> it's what I'm doing at the moment too. I think I'll keep it that way because most email tools (mbsync, msmtp, clients) are based around the notion of a single user
[04:49:07] <vd> Can I safely use symlinks for $XDG_CONFIG_HOME/notmuch/<profile> and $XDG_DATA_HOME/notmuch/<profile>?
[04:49:10] *** Quits: jao (~jao@211.68.17.95.dynamic.jazztel.es) (Remote host closed the connection)
[04:54:51] <vd> that way I could just do: ln -s /home/work/.notmuch $XDG_CONFIG_HOME/notmuch/work and ln -s /home/work/.mail $XDG_DATA_HOME/notmuch/work
[04:55:00] * vd needs to compare both approaches
[04:56:25] *** Joins: jao (~jao@211.68.17.95.dynamic.jazztel.es)
[05:12:13] <bremner> vd: It should work, although I doubt it is well tested. I'm not sure what it really gains you?
[05:13:24] <vd> notmuch
[05:13:40] <bremner> heh
[05:13:48] <vd> ;-)
[05:15:24] <vd> and I already have a common <database>/Archive folder where I move old messages to to free up space on IMAP servers so... I'll keep a single database for all accounts.
[05:18:03] *** Quits: seschwar (~seschwar@user/seschwar) (Quit: :wq)
[05:18:17] *** Quits: rgrinberg (~textual@2806:101e:7:cff:f4d0:b9c8:9c34:9747) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:21:18] <vd> I kinda wanted previous work related emails to get out of my sight but they are already indexed and it doesn't hurt so let's keep it simple.
[05:22:12] <bremner> you can symlink directories into your mail root, if that helps.
[05:22:24] <bremner> e.g. in case of a full disk.
[05:33:34] <vd> indeed
[05:39:32] <vd> I have kind of a less usual way to manage my home server where /home is all stuff of mine. I find it really useful to split repos and stuffs in various /home subdirs such as ~company1, ~company2, ~personal, etc. For mails I'm tempted to move the database (and its .notmuch subdir) to /home/mail as well as the mbsync/msmtp configs and systemd user
[05:39:32] <vd> services.
[07:12:26] *** Joins: gast0n (~g4570n@user/gast0n)
[07:51:06] *** Joins: rgrinberg (~textual@177.246.221.96)
[08:12:23] *** Quits: jao (~jao@211.68.17.95.dynamic.jazztel.es) (Ping timeout: 256 seconds)
[08:19:05] <vd> wouldn't it make sense to have the notmuch config also looked for in <database.path>/.notmuch/config (similarly to how hooks are looked up) in case it isn't found earlier?
[08:20:29] <vd> this would allow to have a self contained database + notmuch, and avoid the need to specify a config path like this:
[08:20:30] <vd> NOTMUCH_DATABASE=/home/mail
[08:20:30] <vd> NOTMUCH_CONFIG=${NOTMUCH_DATABASE}/.notmuch/config
[08:22:37] <vd> you can even put your mail database in ~/.local/share/notmuch/default or simply ~/mail and you're all set, you don't even need to define a single environment variable.
[09:58:36] *** Quits: gast0n (~g4570n@user/gast0n) (Quit: Bye, see you soon! 👋)
[10:36:15] *** Joins: gour (~gour@109.227.37.23)
[10:37:33] *** Quits: sgn (~sgn@user/sgn) (Read error: Connection reset by peer)
[10:37:53] *** Joins: sgn (~sgn@user/sgn)
[10:46:41] *** Quits: rgrinberg (~textual@177.246.221.96) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:48:47] *** Joins: rgrinberg (~textual@177.246.223.46)
[11:21:28] *** Quits: rgrinberg (~textual@177.246.223.46) (Read error: Connection reset by peer)
[11:22:04] *** Joins: rgrinberg (~textual@177.246.221.96)
[11:35:08] *** Quits: rgrinberg (~textual@177.246.221.96) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:53:34] *** Joins: seschwar (~seschwar@user/seschwar)
[13:55:13] <bremner> vd: it's already a challenge to support the configuration options we have. I don't think I'll be adding any more soon.
[13:57:11] <vd> bremner: I understand, the notmuch-config man page becomes a bit cluttered. I just think it makes sense to embed the config within the database since default paths are guessed for it.
[13:58:36] <bremner> vd: It's not something I would have thought of since I prefer to version control config files, but sure, as you say it makes as much sense as putting the hook files there
[14:00:53] <vd> I initially preferred to have the notmuch config separated from the database for the same reason, but it wasn't possible a few years ago because of the hook. Now that I'm moving my setup to a new machine, I realize that a self-contained (mbsync) database including its notmuch config is a bit simpler.
[14:38:37] *** Quits: geyaeb (~geyaeb@gateway/tor-sasl/geyaeb) (Remote host closed the connection)
[14:39:53] *** Joins: geyaeb (~geyaeb@gateway/tor-sasl/geyaeb)
[15:40:29] *** Quits: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-211.dsl.bell.ca) (Ping timeout: 256 seconds)
[15:53:20] *** Joins: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-211.dsl.bell.ca)
[16:10:34] *** Joins: jao (~jao@211.68.17.95.dynamic.jazztel.es)
[16:46:23] *** Joins: gour_ (~gour@109.227.37.23)
[16:49:02] *** Parts: gour_ (~gour@109.227.37.23) ()
[16:49:11] *** Quits: gour (~gour@109.227.37.23) (Ping timeout: 256 seconds)
[16:49:26] *** Joins: gour (~gour@109.227.37.23)
[17:06:46] <gour> hello, with mu4e i can use org-capture template like this one: https://paste.debian.net/1225362/ to get nicely arranged TODO item in org file, but the same does not work with notmuch. any hint?
[17:08:32] <bremner> generic org-capture should work OK, I use it all the time. But I don't know about the fancy template. What exactly is not working?
[17:10:09] <bremner> ah, probably %:subject does not work?
[17:10:26] *** Quits: jao (~jao@211.68.17.95.dynamic.jazztel.es) (Ping timeout: 260 seconds)
[17:14:17] <gour> here is the comparison: https://paste.debian.net/1225364/
[17:15:37] <bremner> hmm. I guess see if you can get minimal template working with notmuch. There should at least be a link to the message/thread
[17:15:56] <gour> yes, mu4e produces link with the Subject as description of TODO item
[17:16:45] <gour> i also need (for some tasks) to record date/time when i had seen the email, but that part is recorded with notmuch
[17:17:01] <bremner> I get links like  [[notmuch:id:87r19tey4i.fsf@tethera.net][Email from David Bremner: Re: [PATCH] test: add known broken test for thread fusion bug], but in the "body", not the headline
[17:17:46] <gour> bremner: by which template?
[17:18:26] <gour> it does not matter so much to me, as logn as I get all the required data 😄
[17:18:37] <gour> *long
[17:19:20] <bremner> https://paste.debian.net/1225367/
[17:19:51] <bremner> I guess %a is the useful bit there
[17:21:00] <gour> ok, it seems possible, i have to paly a bit with it...it's not thast i'm jsut speaking elisp & org-capture templates 😉
[17:21:59] <bremner> it is not out of the question that there is some bug in ox-notmuch.el, but that is part of org-mdoe
[17:23:05] <gour> 😄
[17:25:49] *** Joins: gast0n (~g4570n@user/gast0n)
[17:49:27] <gour> hmm, something strange is going on; https://paste.debian.net/1225371/
[17:49:59] <gour> i've org-mode 9.4.6 and emacs-27.2
[17:53:27] <bremner> I have 9.4.0 here, and emacs-27.1
[17:53:38] <bremner> maybe some other package is interfering?
[17:55:02] <gour> ok. further investigaion ahead...although mu4e does waht i want, i believe that notmuch is cleaner and probably more powerful option...considering that we do not get corrupted db at some point of time
[17:55:49] <gour> bremner: btw, you're not evil user?
[17:56:14] <bremner> no
[17:57:11] <gour> 👍
[18:04:25] <bremner> gour: at least from notmuch-show-mode, your template works for me
[18:05:25] <gour> hmmm
[18:08:43] <gour> now i'd need to learn how to use notmuch-show-mode...just reading
[18:09:57] <bremner> you were probably already there at some point, since that's what shows messages (and individual threads)
[18:14:36] <gour> ahh, ok. i'm just invoking `notmuch` and i'm in notmuch-hello. is it ok?
[18:15:05] <bremner> keep going until you are viewing a message
[18:16:30] <gour> ok, the msg is one of the today's ones
[18:17:10] <gour> but not i can't see it
[18:17:32] <gour> *now
[18:18:01] <gour> status says: beginning of buffer
[18:18:51] <gour> and notmuch-mode seems to be active
[18:22:34] <bremner> not sure I follow. Is this just about viewing a message in notmuch?
[18:51:15] <gour> nope, somehow i ended up with ro buffer. now, everything is ok a before
[18:53:09] <gour> after selecting date, i see "subtree pasted..." msg, but it is empty
[18:55:07] <bremner> it's a bit of a hassle, but it might be worth trying to reproduce this in a minimal configuration
[18:55:18] * gour nods
[19:28:20] *** Quits: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius) (Ping timeout: 268 seconds)
[19:29:04] *** Joins: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius)
[19:31:50] *** Quits: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius) (Max SendQ exceeded)
[19:32:37] *** Joins: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius)
[19:35:14] *** Quits: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius) (Max SendQ exceeded)
[19:36:06] *** Joins: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius)
[21:21:48] *** Quits: gast0n (~g4570n@user/gast0n) (Remote host closed the connection)
[21:30:47] *** Joins: rgrinberg (~textual@2806:101e:7:33a5:94b6:4a60:d424:26d4)
[22:26:00] *** Joins: sgn_ (~sgn@user/sgn)
[22:29:45] *** Quits: sgn (~sgn@user/sgn) (Ping timeout: 256 seconds)
[22:45:00] *** Quits: rgrinberg (~textual@2806:101e:7:33a5:94b6:4a60:d424:26d4) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:57:26] *** Joins: rgrinberg (~textual@2806:101e:7:b2bc:b9e9:b5b0:1484:bd77)
[22:59:26] *** Quits: rgrinberg (~textual@2806:101e:7:b2bc:b9e9:b5b0:1484:bd77) (Client Quit)
[23:00:54] *** Joins: rgrinberg (~textual@2806:101e:7:b2bc:b9e9:b5b0:1484:bd77)
[23:02:07] *** Quits: rgrinberg (~textual@2806:101e:7:b2bc:b9e9:b5b0:1484:bd77) (Client Quit)
[23:13:16] *** Joins: jao (~jao@211.68.17.95.dynamic.jazztel.es)
[23:29:15] *** Quits: jao (~jao@211.68.17.95.dynamic.jazztel.es) (Ping timeout: 256 seconds)
