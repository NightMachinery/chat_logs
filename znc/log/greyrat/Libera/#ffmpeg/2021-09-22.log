[00:08:29] *** Quits: dreamon (~dreamon@pd9503d48.dip0.t-ipconnect.de) (Ping timeout: 264 seconds)
[00:12:41] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 264 seconds)
[00:16:06] *** Joins: Ronalds_Mazitis_ (~Ronalds_M@46.109.76.104)
[00:16:27] <Ronalds_Mazitis_> ffmpeg -video_size 1920x1080 -framerate 25 -f x11grab -i :0.0 -f pulse -ac 2 -i default salida.mkv
[00:16:35] <Ronalds_Mazitis_> Cannot open display :0.0, error 1.
[00:16:36] <Ronalds_Mazitis_> :0.0: Input/output error
[00:16:43] <Ronalds_Mazitis_> x y wrong
[00:27:21] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Quit: WeeChat 3.2.1)
[00:27:27] <Ronalds_Mazitis_> Unknown input format: 'gdigrab'
[00:27:40] <Ronalds_Mazitis_>  ffmpeg -version
[00:27:41] <Ronalds_Mazitis_> ffmpeg version 4.3.2-0+deb11u1ubuntu1 Copyright (c) 2000-2021 the FFmpeg developers
[00:32:41] *** Joins: Vonter (~Vonter@user/vonter)
[00:34:24] <furq> gdigrab is for windows
[00:35:03] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Ping timeout: 276 seconds)
[00:41:28] *** Joins: shirtjs (~shirtjs@024-231-251-166.res.spectrum.com)
[00:43:10] <Ronalds_Mazitis_> ok
[00:43:36] <Ronalds_Mazitis_> linux variant?
[00:43:42] <Ronalds_Mazitis_> nvidia hevc
[00:46:43] <shirtjs> Hello,
[00:46:43] <shirtjs> I have an AAC file from a HLS stream that fails to remux with ffmpeg directly with the message "Invalid data found when processing input". The audio is intact, and it is not encrypted.
[00:46:44] <shirtjs> Interestingly, using mkvmerge to mux the AAC audio to .mka works, and then the remuxing via ffmpeg works fine so I know it's not an issue with yt-dlp.
[00:46:44] <shirtjs> Things that have not worked:
[00:46:45] <shirtjs> 1. -bsf:a aac_adtstoasc
[00:46:45] <shirtjs> 2. Changing the filename
[00:46:46] <shirtjs> 3. Tweaking the HLS code in yt-dlp
[00:47:04] <shirtjs> sorry if this is the wrong place for this
[00:47:37] <shirtjs> Also, downgrading to ffmpeg 3.0.1 appears to fix the issue
[00:48:17] <JEEB> might want to post an example of you attempting it with `-v verbose` onto a pastebin of your choice?
[00:48:20] <JEEB> and then link here
[00:48:32] <JEEB> also adtstoasc should not be necessary to be added manually any more
[00:48:54] <JEEB> both mp4 and matroska writers are supposed to auto-add that since a couple of years at the very least
[00:49:03] <JEEB> if the input is not that
[00:49:28] <shirtjs> https://hastebin.com/votutukobe.apache
[00:49:56] <shirtjs> Would the aac file be helpful in this case?
[00:50:19] <shirtjs> And just want to say I appreciate your help
[00:50:37] <JEEB> you didn't show the command, but basically what if you only map the audio stream with `-map 0:a` ?
[00:51:08] <JEEB> (that disables the automated stream selection and only picks stuff from the input that you map)
[00:51:27] <shirtjs> Same result with `ffmpeg -i test6000.m4a -c copy -map 0:a bruh.m4a`
[00:52:02] <shirtjs> I just find it really weird that mkvmerge can handle it
[00:52:30] <JEEB> also it's not really m4a :D just raw aac apparently...
[00:52:40] <shirtjs> yeah sorry!
[00:52:51] <JEEB> m4a is generally utilized for MP4 containers with just audio (re: apple)
[00:52:53] <JEEB> anyways
[00:53:07] <JEEB> `ffmpeg -v verbose -i test6000.aac -map 0:a -f null -`
[00:53:11] <JEEB> does this succeed?
[00:53:59] <shirtjs> Does not appear to
[00:54:01] <shirtjs> ```
[00:54:04] <shirtjs> Uploaded file: https://uploads.kiwiirc.com/files/be1583edbe76f5d471b9e10aa273fee7/pasted.txt
[00:54:37] <JEEB> I wonder...
[00:55:14] <JEEB> because the only major malfunction seems to be that there's some random bytes somewhere
[00:55:32] <JEEB> maybe it's that priv.apple.streaming id3v2 timestamp field that's confusing it?
[00:55:43] <shirtjs> That's definitely possible
[00:56:18] <shirtjs> Especially since it was from a fragmented HLS playlist
[00:56:20] <JEEB> or if that is a weird mixed JPEG and AAC thing
[00:56:32] <JEEB> I mean, that shouldn't be a thing
[00:57:02] <JEEB> is this a single segment from a variant playlist, or multiple concatenated together?
[00:57:13] <shirtjs> It's multiple concatenated together
[00:57:16] <JEEB> right
[00:57:17] <JEEB> that might be it
[00:57:34] <JEEB> if you're getting random JPEG garbage every N bytes or so
[00:58:12] <JEEB> I'm not sure if these things are meant to be read as a concatenated stream without the application knowing that they're separate segments
[00:58:45] <shirtjs> Uploaded file: https://uploads.kiwiirc.com/files/95f864945ed4ba959647196d95e49e02/pasted.txt
[00:58:53] <shirtjs> here's the output from ffmpeg 3.0.1
[00:59:32] <shirtjs> looks like it still has the error
[00:59:38] <shirtjs> however it seems to recover
[00:59:58] <JEEB> time to bump to either debug or trace?
[01:00:01] <JEEB> from verbose
[01:00:04] <JEEB> with the newer version
[01:00:32] <JEEB> most likely there's less readers around in the old version and it is still broken but ends up somehow skipping the stuff that is not AAC
[01:00:49] <shirtjs> yeah that would make sense
[01:01:12] <shirtjs> -loglevel debug right?
[01:01:27] <JEEB> I generally just utilize -v debug :)
[01:01:34] <JEEB> synonyms most likely
[01:01:38] <shirtjs> Smart
[01:01:41] <Ronalds_Mazitis_> ffmpeg -video_size 1920x1080 -framerate 30 -f x11grab -i :i -f pulse -ac 2 -i 0 -c:v libx264rgb encoder=h264_nvenc -crf 0 -preset ultrafast sample.mkv
[01:01:51] <JEEB> more like muscle memory
[01:01:52] <JEEB> lol
[01:02:05] <shirtjs> Uploaded file: https://uploads.kiwiirc.com/files/80fdf849cb5505ae048315c8d8720ba2/pasted.txt
[01:02:06] <Ronalds_Mazitis_> Cannot open display :i, error 5.
[01:02:21] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[01:02:59] <Ronalds_Mazitis_> ffmpeg -video_size 1920x1080 -framerate 30 -f probesize 42M x11grab -i :1 -f pulse -ac 2 -i 0 -c:v libx264rgb encoder=h264_nvenc -crf 0 -preset ultrafast sample.mkv
[01:03:08] <Ronalds_Mazitis_> :1: Protocol not found
[01:03:18] <JEEB> shirtjs: up to trace then? :D
[01:03:26] <shirtjs> Sure
[01:03:42] <Ronalds_Mazitis_> whats wrong with my command
[01:03:43] <Ronalds_Mazitis_> ?
[01:04:31] <shirtjs> Uploaded file: https://uploads.kiwiirc.com/files/131a748f4a99c2cdb2c42f177c4468c7/pasted.txt
[01:06:06] <JEEB> shirtjs: too bad there's no logging :) but yes, I'm going to guess it's failing at the WHY IS THIS HERE AGAIN id3v2 stuff :)
[01:06:23] <shirtjs> most likely yeah
[01:06:32] <shirtjs> did you want the file for testing?
[01:06:37] <JEEB> which includes the JPEG stuff
[01:07:14] <JEEB> it would be generally useful if it was available but I'm not sure if this is supposed to be simply concatenated like this :)
[01:07:47] <JEEB> thankfully it should be simple enough to split according to id3v2 chunks
[01:07:47] *** Quits: arbitercoin (~Rheanna@101.91.214.30) (Remote host closed the connection)
[01:07:53] <Ronalds_Mazitis_> ffmpeg -video_size 1920x1080 -framerate 30 -f x11grab -i :1 -f probesize 42M  pulse -ac 2 -i 0 -c:v libx264rgb encoder=h264_nvenc -crf 0 -preset ultrafast sample.mkv
[01:08:04] <Ronalds_Mazitis_> Uploaded file: https://uploads.kiwiirc.com/files/c4bc50040f29fc878488ffce1e4f561e/pasted.txt
[01:08:16] <Ronalds_Mazitis_> cmmon I am just trying to record the screen anyone?
[01:08:26] <shirtjs> Here is the AAC file: https://a.uguu.se/eDFQFhep.aac
[01:08:58] <shirtjs> Ronalds_Mazitis_, have you tried `rm -rf /`
[01:09:11] <JEEB> Ronalds_Mazitis_: well that one is just a simple one, see after libx264rgb :P
[01:09:14] <Ronalds_Mazitis_> why yall can't help like normal people
[01:09:28] <shirtjs> sorry xd, i'll shut up
[01:09:31] <JEEB> you have encoder=h264_nvenc which is not really a proper option
[01:09:49] <Ronalds_Mazitis_> well but I want hardware accelerated recording
[01:10:09] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[01:10:20] <JEEB> then pick that encoder with -c:v like you picked libx264rgb
[01:10:29] <JEEB> of course it will have completely different options from libx264rgb
[01:10:45] <JEEB> also ooh
[01:10:55] <Ronalds_Mazitis_> why do I need to go all over google for this sample
[01:11:05] <JEEB> actually your issues start with after the video input
[01:11:08] <Ronalds_Mazitis_> I need to know every parameter myself
[01:11:24] <JEEB> since you start defining for some reason specific input format/reader called probesize
[01:11:39] <JEEB> -f probesize = "please give me input reader 'probesize'"
[01:11:50] <Ronalds_Mazitis_> ffmpeg -video_size 1920x1080 -framerate 30 -f x11grab -i :1 -f pulse -ac 2 -i 0 -c:v libx264rgb -crf 0 -preset ultrafast sample.mkv
[01:11:58] <Ronalds_Mazitis_> Stream #0: not enough frames to estimate rate; consider increasing probesize
[01:12:06] <JEEB> that's not the error :)
                                                                                                                                                                                                                                                                                   [04:57:14] *** Joins: greyrat (~greyrat@ip202.ip-51-178-215.eu)
[04:58:15] *** Server sets mode: +Ccnt 
[04:59:31] <Keshl> sine0: ffmpeg -i YourSongHere.mp3 -i SingleImageHere.png OutputVideo.mkv
[04:59:59] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 252 seconds)
[05:01:10] <Keshl> If you want to be fancier with it because youtube: ffmpeg -i Song.mp3 -i Frame.png -acodec libopus -b:a 128k -vcodec libaom-av1 -b:v 0 -crf 50 -tiles 2x2 -cpu-used 5 -movflags faststart -pix_fmt yuv420p -dst_range 1 -color_range 2 Out.mkv
[05:01:50] <another|> matroska does not care about movflags
[05:02:00] <Keshl> I learned a thing!
[05:05:10] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[05:05:13] <Keshl> Maybe-better, honestly unsure: ffmpeg -i "Music.mp3" -i "Image.png" -acodec copy -vcodec libaom-av1 -b:v 0 -crf 20 -tiles 2x2 -cpu-used 5 -pix_fmt yuv444p -dst_range 1 -color_range 2 -vf mpdecimate=max=0:hi=61*12:lo=64*5:frac=1.0 -af aresample=async=1:min_hard_comp=0.100000:first_pts=0 "Output.mkv" -- This /should/ make it figure out that you have one frame of video that never changes and actually only encode one frame full-stop, and then the rest is just audio.
[05:05:14] <Keshl> That said, this probably breaks seeking and other stuff. Youtube'll probably re-encode it and fix it, so at least the upload should be fast.
[05:06:18] <Keshl> Regardless. Simplest way is like I said in the first one: Specify -i twice, once for the image and once for the audio, specify the output last, that's it.
[05:10:50] <another|> you can't filter with stream copy
[05:11:02] <Keshl> Dangit, I was worried about that. x.x
[05:11:36] <Keshl> Drop -af there, it should be fine. -vf should still work, right?
[05:12:03] <another|> plus, you only have one input frame. this probably won't do what you want
[05:12:53] <another|> additionally, the compute cost may or may not be worth it for a youtube upload
[05:13:11] *** Quits: MrZeus_ (~MrZeus@185.248.85.56) (Ping timeout: 252 seconds)
[05:13:30] <Keshl> I'm sure there's an easier way that I'm not aware of. What might it be?
[05:14:23] <another|> wthird example: https://trac.ffmpeg.org/wiki/Encode/YouTube
[05:14:33] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Ping timeout: 276 seconds)
[05:15:48] *** Joins: darkapex_ (~darkapex@user/darkapex)
[05:16:14] <Keshl> That's slightly outdated. Youtube uses av1 natively now, which is what I was trying to add in.
[05:16:44] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 246 seconds)
[05:17:09] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[05:24:44] *** Quits: sine0 (~sine0@pcyard.co.uk) (Ping timeout: 252 seconds)
[05:24:57] *** Quits: bitblit (~bitblit@gateway/tor-sasl/bitblit) (Ping timeout: 276 seconds)
[05:32:52] <another|> youtube reencodes everything. so it really doesn't matter much what you upload as long as it's a good compromise (for you) between encoding time and bandwith
[05:33:54] <another|> and as long as youtube accepts the input. I don't know whether they accept av1 input. Neither if they accept yuv444
[05:34:20] <Keshl> They do, that's what I use to upload. They skip encoding it if you use av1, or at least it sure feels like they do.
[05:35:18] <another|> I very much doubt that. But maybe you have sources unbeknownst to me?
[05:36:40] *** Joins: sine0 (~sine0@pcyard.co.uk)
[05:37:02] *** Quits: jos2 (~jos3@host-091-097-190-251.ewe-ip-backbone.de) (Ping timeout: 246 seconds)
[05:38:35] *** Joins: bitblit (~bitblit@gateway/tor-sasl/bitblit)
[05:41:04] <Keshl> Well, I uploaded a five hour video with h264 and it took them about 20 hours to finish encoding it. When I used av1, it was ready within five minutes, so I assume they skipped it. I'm not entirely sure, maybe they have crazy-fast encoders or something and I happened to hit it at a crazy low-demand time, but this still feels like a sufficently large delta to suggest that they probably skipped encoding.
[05:50:15] *** Joins: jos2 (~jos3@dyndsl-178-142-067-029.ewe-ip-backbone.de)
[05:51:05] <kepstin> was the h264 in an mp4 file? if so and it wasn't fast-start (moov at front) then youtube couldn't start encoding until the upload is complete
[05:51:17] <kepstin> for streaming compatible files they start encoding as you upload, i think
[05:58:51] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[06:03:57] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Ping timeout: 276 seconds)
[06:06:07] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 265 seconds)
[06:15:36] <another|> Was the av1 video offered in av1? How would they ensure suitable encoding parameters w/o reencoding? Would the overhead of figuring out if the file has suitable parameters be worth it?
[06:16:43] *** Joins: deltab (~deltab@user/deltab)
[06:20:17] *** Joins: vqueiroz (uid340368@id-340368.hampstead.irccloud.com)
[06:22:04] *** Quits: waleee (~waleee@h-98-128-228-119.NA.cust.bahnhof.se) (Ping timeout: 265 seconds)
[06:22:53] *** Joins: thebombzen (~thebombze@587232380.guest.umich.net)
[06:23:40] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[06:29:45] <znf> Keshl, when I uploaded HEVC 8K video, it took them 3+ days
[06:29:57] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Ping timeout: 276 seconds)
[06:30:04] <znf> And it was a... ~10 minute video, or something
[07:05:08] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[07:10:15] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Ping timeout: 276 seconds)
[07:22:55] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[07:26:56] *** Quits: Atsuko (~x@94.242.250.86) (Remote host closed the connection)
[07:30:49] *** Joins: Atsuko (~x@94.242.250.86)
[07:34:45] *** Joins: honza_c (~honza_c@dynamic-194-228-11-245.ipv4.broadband.iol.cz)
[07:50:40] *** Joins: dreamon (~dreamon@pd9503d48.dip0.t-ipconnect.de)
[07:55:36] *** Quits: arbitercoin (~Rheanna@218.78.43.189) (Remote host closed the connection)
[07:56:10] *** Joins: arbitercoin (~Rheanna@101.91.180.110)
[07:57:10] *** Joins: kib (~kib@user/kib)
[08:02:08] *** Quits: kib (~kib@user/kib) (Quit: WeeChat 3.2.1)
[08:03:05] *** Joins: kib (~kib@user/kib)
[08:13:17] *** Quits: honza_c (~honza_c@dynamic-194-228-11-245.ipv4.broadband.iol.cz) (Ping timeout: 264 seconds)
[08:14:11] <Keshl> The heck? That's weird. And, that's fair, on the h264 I sent, I think I forgot to do faststart. That said, I was recording to mkv, so maybe that doesn't matter? "How can you be sure it's suitable" is a good question though, and one I've been wondering for a while.
[08:22:45] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[08:25:24] *** Joins: auth (~auth@user/auth)
[08:31:00] *** Joins: gnoo (~gnoo@user/gnoo)
[08:33:16] *** Quits: kib (~kib@user/kib) (Ping timeout: 252 seconds)
[08:43:18] *** Quits: slackbot (~RogerBell@108.180.67.193) (Quit: Ping timeout (120 seconds))
[08:43:30] *** Joins: slackbot (~RogerBell@108.180.67.193)
[08:43:45] *** Joins: nillyhan6 (~00000000@user/nillyhan)
[08:46:17] *** Quits: nillyhan (~00000000@user/nillyhan) (Ping timeout: 264 seconds)
[08:46:17] *** nillyhan6 is now known as nillyhan
[08:47:41] *** Quits: dustinm` (~dustinm@static.38.6.217.95.clients.your-server.de) (Ping timeout: 252 seconds)
[08:48:20] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Remote host closed the connection)
[08:48:39] *** Quits: arbitercoin (~Rheanna@101.91.180.110) (Remote host closed the connection)
[08:49:19] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[08:51:08] *** Joins: dustinm` (~dustinm@static.38.6.217.95.clients.your-server.de)
[08:51:28] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[09:10:24] *** Quits: dreamon (~dreamon@pd9503d48.dip0.t-ipconnect.de) (Remote host closed the connection)
[09:19:02] *** Quits: auth (~auth@user/auth) (Ping timeout: 252 seconds)
[09:45:24] *** Joins: pounce (~pounce@facebook/engineering/pounce)
[09:55:21] *** Quits: nillyhan (~00000000@user/nillyhan) (Quit: Ping timeout (120 seconds))
[09:55:43] *** Joins: nillyhan (~00000000@user/nillyhan)
[09:56:23] *** Quits: aicra (~aicra@2600:8800:8803:2000:8dee:398e:e9fc:75ee) (Ping timeout: 246 seconds)
[10:18:50] *** Joins: rsx (~dummy@ppp-188-174-145-31.dynamic.mnet-online.de)
[10:19:25] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[10:27:06] *** Joins: palasso (~palasso@user/palasso)
[10:28:38] *** Quits: arbitercoin (~Rheanna@101.91.240.201) (Remote host closed the connection)
[10:30:52] *** Joins: arbitercoin (~Rheanna@101.89.197.243)
[10:31:41] *** Joins: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3)
[10:31:45] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 276 seconds)
[10:33:20] *** Joins: auth (~auth@user/auth)
[10:42:42] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Quit: WeeChat 3.1)
[10:48:40] *** Joins: kib (~kib@user/kib)
[10:50:02] *** Quits: vqueiroz (uid340368@id-340368.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[10:54:15] *** Quits: jrofd (~test@185.192.69.126) (Quit: Leaving)
[11:04:15] *** Joins: luni-4 (uid453292@id-453292.ilkley.irccloud.com)
[11:10:14] *** Joins: meego (~meego@2001:41d0:fe7e:c800:8146:bbc:806a:1a67)
[11:14:58] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[11:18:47] *** Quits: arbitercoin (~Rheanna@101.89.197.243) (Remote host closed the connection)
[11:20:08] *** Joins: Ronalds_Mazitis_ (~Ronalds_M@46.109.76.104)
[11:20:20] <Ronalds_Mazitis_> ffmpeg -f x11grab -video_size 1920x1080 -framerate 60 -i :1 -vf format=yuv420p output.mp4
[11:20:23] <Ronalds_Mazitis_> I use this
[11:20:32] <Ronalds_Mazitis_> my problem is it does not record system sound
[11:21:05] <JEEB> yup, since there generally in linux is no single interface that gives you synchronized audio and video
[11:21:12] *** Joins: arbitercoin (~Rheanna@101.91.214.30)
[11:21:36] <JEEB> see `ffmpeg -v verbose -f pulse -i default -f null -`
[11:21:54] <JEEB> (that is what the ffmpeg-all.html page documentation shows as an example)
[11:22:12] <JEEB> https://www.ffmpeg.org/ffmpeg-all.html#pulse
[11:22:38] <JEEB> then if it works you can attempt to add it after "-i :1" which is the first input and before the video filter
[11:22:53] <JEEB> good luck, $dayjob for me
[11:23:09] <JEEB> of course, this with the expectation that you're using pulseaudio on your system
[11:24:51] <Ronalds_Mazitis_> tnx
[11:26:38] <Ronalds_Mazitis_> ffmpeg -f x11grab -video_size 1920x1080 -framerate 60 -i :1 -v verbose -f pulse -i default -f null - -vf format=yuv420p output.mp4
[11:26:47] <Ronalds_Mazitis_> [null @ 0x55f1daaa7f00] Application provided invalid, non monotonically increasing dts to muxer in stream 0: 563 >= 563
[11:27:21] <JEEB> the `-f null -` was there just to test decoding :P it's a null output that throws the input data into a well
[11:27:51] <Ronalds_Mazitis_> ok it works
[11:27:53] <JEEB> -f pulse ("use the pulse reader for this input") and -i default ("use the 'default' pulse thingy, thank you")
[11:27:55] <Ronalds_Mazitis_> thanks
[11:27:58] <JEEB> are the priamry things
[11:28:18] <JEEB> but really, $dayjob now :P
[11:33:04] *** Joins: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de)
[11:37:12] *** Quits: haihao (~haihao@192.55.46.54) (Ping timeout: 268 seconds)
[11:37:35] *** Joins: haihao (~haihao@192.102.204.53)
[11:57:57] *** Quits: Ronalds_Mazitis_ (~Ronalds_M@46.109.76.104) (Quit: Connection closed)
[11:58:00] *** Quits: auth (~auth@user/auth) (Quit: Leaving)
[12:00:53] *** Joins: kib_ (~kib@user/kib)
[12:02:49] *** Quits: kib (~kib@user/kib) (Ping timeout: 252 seconds)
[12:07:15] *** Quits: meepmeep (meepmeep@end.of.cylind.re) (Quit: Yippee-kay-yay)
[12:07:15] *** Quits: morpheuz (~morpheuz@user/morpheuz) (Quit: Ping timeout (120 seconds))
[12:07:15] *** Quits: w1kl4s (~w1kl4s@user/w1kl4s) (Quit: Ping timeout (120 seconds))
[12:07:15] *** Quits: Arokh (~MoveAlong@ip-88-153-209-30.hsi04.unitymediagroup.de) (Quit: //ThisShouldNeverHappen)
[12:07:15] *** Joins: meepmeep (meepmeep@end.of.cylind.re)
[12:07:15] *** Quits: s55 (~s55@user/s55) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[12:07:24] *** Joins: morpheuz (~morpheuz@user/morpheuz)
[12:07:29] *** Joins: Arokh (~MoveAlong@ip-88-153-209-30.hsi04.unitymediagroup.de)
[12:07:35] *** Joins: w1kl4s (~w1kl4s@user/w1kl4s)
[12:08:42] *** Quits: arbitercoin (~Rheanna@101.91.214.30) (Remote host closed the connection)
[12:09:02] *** Joins: s55 (~s55@user/s55)
[12:10:24] *** Joins: arbitercoin (~Rheanna@119.96.171.22)
[12:12:46] *** Quits: kib_ (~kib@user/kib) (Read error: Connection reset by peer)
[12:13:36] *** Joins: af (~af@awalgarg.me)
[12:18:13] *** Joins: kib_ (~kib@user/kib)
[12:30:38] *** Quits: kib_ (~kib@user/kib) (Read error: Connection reset by peer)
[12:36:34] *** Joins: kib_ (~kib@user/kib)
[12:53:30] <roxlu> I'm experimenting with vaapi + filters to do scaling via vaapi. I've created a test case with a `null` filter between the `buffer` and `buffersink` filters and when I feed frames into the filter using `av_buffersrc_add_frame_flags()` I get a message like: `Changing video frame properties on the fly is not supported by all filters.`
[12:54:12] <roxlu> I think the messages comes from the input filter (buffer), as I see `[in @ 0x561306816a80]` in front of that output.
[12:54:51] <JEEB> yes that is a general warning and it might not be relevant at all
[12:54:56] <roxlu> I've configured the `buffer` filter using `video_size=1280x720:pix_fmt=0:time_base=1/15360:pixel_aspect=1/1`
[12:55:11] <roxlu> ah, ok thanks
[12:55:39] <roxlu> JEEB: then it's the second thing I thought which could be the issue; and that's simply not correctly ref'ing or unref'ing the frame
[12:57:51] *** Quits: darkapex_ (~darkapex@user/darkapex) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[12:58:10] *** Joins: darkapex (~darkapex@user/darkapex)
[12:59:03] *** Quits: arbitercoin (~Rheanna@119.96.171.22) (Remote host closed the connection)
[13:00:58] *** Joins: arbitercoin (~Rheanna@101.91.197.175)
[13:24:22] *** Quits: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3) (Remote host closed the connection)
[13:26:59] *** Joins: keypusher (~keypusher@user/keypusher)
[13:28:37] *** Joins: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3)
[13:29:01] *** Quits: kib_ (~kib@user/kib) (Quit: WeeChat 3.2.1)
[13:33:25] *** Joins: keypushe- (keypusher@user/keypusher)
[13:34:14] *** Quits: keypusher (~keypusher@user/keypusher) (Ping timeout: 252 seconds)
[13:36:37] *** keypushe- is now known as keypusher
[13:40:25] *** Joins: naffan (~naffan@223.70.168.14)
[13:54:36] *** Quits: bitblit (~bitblit@gateway/tor-sasl/bitblit) (Remote host closed the connection)
[13:54:57] *** Joins: bitblit (~bitblit@gateway/tor-sasl/bitblit)
[14:02:28] *** Joins: naffan222 (~naffan222@39.155.215.236)
[14:03:54] *** Quits: naffan (~naffan@223.70.168.14) (Quit: leaving)
[14:04:10] *** Joins: naffan (~naffan@39.155.215.236)
[14:13:55] *** Joins: Winfred (~Winfred@49.92.64.170)
[14:15:00] *** Quits: Winfred (~Winfred@49.92.64.170) (Client Quit)
[14:15:10] *** Joins: Winfred (~Winfred@1.202.26.226)
[14:20:05] *** Quits: Winfred (~Winfred@1.202.26.226) (Ping timeout: 265 seconds)
[14:21:13] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[14:24:25] *** Quits: naffan222 (~naffan222@39.155.215.236) (Quit: Connection closed)
[14:24:26] *** Joins: durandal_1707 (~computer@95.168.121.162)
[14:24:34] *** Quits: mickey (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[14:24:49] *** Joins: gnoo (~gnoo@user/gnoo)
[14:24:54] *** Joins: mickey (~user@user/mickey)
[14:38:45] *** Quits: arbitercoin (~Rheanna@101.91.197.175) (Remote host closed the connection)
[14:40:29] *** Joins: arbitercoin (~Rheanna@101.91.180.110)
[14:40:52] *** Joins: kib (~kib@user/kib)
[14:50:40] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Ping timeout: 260 seconds)
[14:50:57] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[14:53:52] *** Quits: naffan (~naffan@39.155.215.236) (Ping timeout: 250 seconds)
[14:54:41] *** Quits: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3) (Ping timeout: 264 seconds)
[15:00:10] <roxlu> I'm creating a filter like: "scale_vaapi=w=320:h=240", which results in an error: `Impossible to convert between the formats supported by the filter 'Parsed_scale_vaapi_0' and the filter 'auto_scaler_0'` when I call `avfilter_graph_config()`.  The filter params for the `buffer` AVFilter that I use looks like: `video_size=1280x720:pix_fmt=0:time_base=1/15360:pixel_aspect=1/1`. I'm wondering if that
[15:00:13] <roxlu> might be wrong
[15:05:02] *** Joins: naffan222 (~naffan222@39.155.215.236)
[15:05:58] *** Joins: naffan_ (~naffan@223.70.168.14)
[15:07:17] *** Quits: naffan222 (~naffan222@39.155.215.236) (Client Quit)
[15:12:26] *** Joins: minimal (~minimal@user/minimal)
[15:19:42] *** Quits: LuKaRo (~LuKaRo@p4fc334cf.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[15:20:47] *** Joins: LuKaRo_ (~LuKaRo@p4fc32cdc.dip0.t-ipconnect.de)
[15:33:41] <iptv_streamer_05> are there any complex filter graph experts here who could lend a hand?
[15:35:27] <durandal_1707> iptv_streamer_05: depends how complex graph is
[15:37:35] <iptv_streamer_05> I am trying to generate a filter graph for two inputs; first input is a testvideo, second input is a tcp listener...I wish to output the testvideo when there is no input on the tcp listener and when something comes in on the tcp listener, switch to the tcp data...when no more data arrives via the tcp input, switch back to the test video
[15:38:41] *** Quits: feiwan1_ (~Fei.Wang@192.102.204.51) (Ping timeout: 246 seconds)
[15:39:09] *** Joins: feiwan1_ (~Fei.Wang@192.55.46.54)
[15:39:16] <durandal_1707> well i only think about writting custom filter to cover that
[15:41:40] <iptv_streamer_05> ouch...
[15:41:43] *** Quits: arbitercoin (~Rheanna@101.91.180.110) (Remote host closed the connection)
[15:42:27] *** Joins: arbitercoin (~Rheanna@101.89.154.192)
[15:43:03] <roxlu> JEEB: I've got it working. It was related to incorrect pixel formats. I've to digest my last changes a bit :) to get a better understanding though.
[15:43:25] <roxlu> also, I'm curious if there is a way to validate that everything stays on the gpu
[15:50:30] *** Quits: mythos (~mythos@user/mythos) (Quit: Verlassend)
[15:51:02] *** Joins: mythos (~mythos@user/mythos)
[15:58:26] *** Quits: naffan_ (~naffan@223.70.168.14) (Ping timeout: 250 seconds)
[16:07:53] *** Joins: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3)
[16:13:11] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Remote host closed the connection)
[16:17:27] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[16:17:51] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Quit: WeeChat 3.2.1)
[16:18:42] *** Quits: arbitercoin (~Rheanna@101.89.154.192) (Remote host closed the connection)
[16:20:05] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[16:21:45] *** Joins: arbitercoin (~Rheanna@101.89.154.192)
[16:22:33] *** Quits: arbitercoin (~Rheanna@101.89.154.192) (Remote host closed the connection)
[16:22:54] *** Joins: arbitercoin (~Rheanna@101.89.154.192)
[16:25:29] *** Joins: tomasklaen (~tomasklae@46-18-150-222.ferimex.net)
[16:26:48] <tomasklaen> how does one programmatically clean 2 pass log files after encoding is done?
[16:27:40] *** Quits: pong (~beaver@user/pong) (Quit: backup et zou.)
[16:28:04] *** Quits: Atsuko (~x@94.242.250.86) (Remote host closed the connection)
[16:29:33] *** Joins: someuser (~user@41.46.243.175)
[16:33:13] *** Joins: Atsuko (~x@94.242.250.86)
[16:38:31] <tomasklaen> I guess thee is no switch for it, is it? so I'll have to direct it into a temporary folder, and then delete it afterwards, or is there an easier way?
[16:40:31] *** Quits: bitblit (~bitblit@gateway/tor-sasl/bitblit) (Remote host closed the connection)
[16:40:54] *** Joins: bitblit (~bitblit@gateway/tor-sasl/bitblit)
[16:52:47] *** Quits: arbitercoin (~Rheanna@101.89.154.192) (Remote host closed the connection)
[16:52:51] <roxlu> ha! so this was relevant; the vaapi_dec_scaling.c example was removed (not sure why) but it would have been super usefull as it showws/has some tiny details that are required tomake this work
[16:54:16] <JEEB> I expect people expected that the transcoding example would have filtering or so
[16:54:28] <JEEB> I was actually surprised it had no mention of lavfi
[16:54:34] <roxlu> yeah
[16:54:40] *** Joins: arbitercoin (~Rheanna@101.89.154.192)
[16:55:17] *** Quits: haihao (~haihao@192.102.204.53) (Ping timeout: 264 seconds)
[16:55:31] <roxlu> I still haven't got it working 100% though; somehow when I transcode 30s video and I use cropping I don't get any output; but I'm currently not yet flushing when I reach EOF... I hope that's it
[16:55:38] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Quit: WeeChat 3.3)
[16:55:41] *** Joins: haihao (~haihao@192.55.46.54)
[16:57:01] *** Quits: meego (~meego@2001:41d0:fe7e:c800:8146:bbc:806a:1a67) (Remote host closed the connection)
[16:57:38] *** Joins: meego (~meego@2001:41d0:fe7e:c800:f1f7:2235:eaba:b1d)
[17:01:05] *** Quits: kib (~kib@user/kib) (Quit: WeeChat 3.2.1)
[17:03:02] *** Quits: arbitercoin (~Rheanna@101.89.154.192) (Remote host closed the connection)
[17:04:14] *** Joins: arbitercoin (~Rheanna@101.89.154.192)
[17:08:45] *** Quits: arbitercoin (~Rheanna@101.89.154.192) (Remote host closed the connection)
[17:11:11] *** Joins: arbitercoin (~Rheanna@218.78.43.189)
[17:12:34] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[17:27:19] <tomasklaen> is -passlogfile respected by all 2 pass encoders? even x265 which requires custom -x265-params to enable it?
[17:27:52] <roxlu> JEEB: do you know where I could find that `vaapi_dec_scaling.c` example? I'm not really sure if this was delivered as a patch or maybe already part of the repository. I tried to find the file in the git history but couldn't find it.
[17:28:04] *** Joins: MrZeus_ (~MrZeus@185.248.85.56)
[17:30:04] *** Quits: Jerrk (~Jerrk@45.83.220.203) (Ping timeout: 252 seconds)
[17:33:05] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 264 seconds)
[17:33:15] *** Joins: meego_ (~meego@2001:41d0:fe7e:c800:8146:bbc:806a:1a67)
[17:35:56] *** Quits: meego (~meego@2001:41d0:fe7e:c800:f1f7:2235:eaba:b1d) (Ping timeout: 246 seconds)
[17:36:21] *** Joins: paperManu (~paperManu@138.197.128.151)
[17:36:36] <paperManu> hello!
[17:38:21] <paperManu> I'm trying to record multiple V4L2 streams (on Linux) from multiple Intel Realsense cameras (for context), and I need them all to be synchronized. It seems that ffmpeg starts recording the output files as soon as a feed is ready to read from, and not when all feeds are ready. Is there a way to force ffmpeg t owait for all feeds to be ready?
[17:40:30] *** Joins: deltab (~deltab@user/deltab)
[17:44:11] <kepstin> if you're using the ffmpeg cli tool, the issue is probably that it initialized the cameras sequentially, then doesn't start to read frames until all are started. so the cameras initialized first will have some buffered frames at the start
[17:48:33] <paperManu> yep that's probably what is happening. Would there be by any chance a flag to wait for the last feed to be ready?
[17:49:33] <kepstin> it does wait, that's the problem :)
[17:49:52] <kepstin> well, the problem is the sequential initialization, really, and there's no options to change that
[17:50:05] <paperManu> oh right, I misread
[17:50:26] <paperManu> hum so it would be about getting rid of the buffered frames?
[17:50:39] <kepstin> if you write a custom application using ffmpeg libraries then you could open each camera in a separate thread to try to get them all opened in sync :/
[17:51:30] <kepstin> if the frames are timestamped correctly then it should be possible to throw out buffered frames until they're in sync, but i'm not sure how you'd do that with filters.
[17:53:03] <paperManu> I see, indeed with timestamped frames it would be easier, otherwise it would need to throw existing buffered frames as fast as possible until I'm waiting for all cameras to give the next frame, or something like that
[17:55:34] <kepstin> that should be happening, the default mode of the v4l2 driver is for the kernel to timestamp each frame when received from the camera, and then ffmpeg uses that timestamp
[17:55:51] <kepstin> exact details depend on the kernel driver i suppose
[17:55:52] <paperManu> alright
[17:56:36] *** Joins: arcatech (~arcatech@user/arcatech)
[17:57:57] <paperManu> thanks :)
[17:58:39] *** Quits: arbitercoin (~Rheanna@218.78.43.189) (Remote host closed the connection)
[17:59:33] *** Quits: TheSashmo (~TheSashmo@158.106.77.7) (Quit: Leaving...)
[18:00:46] *** Joins: arbitercoin (~Rheanna@101.89.197.243)
[18:01:51] *** Quits: arbitercoin (~Rheanna@101.89.197.243) (Remote host closed the connection)
[18:01:52] *** Joins: TheSashmo (~TheSashmo@158.106.77.7)
[18:03:01] *** Joins: arbitercoin (~Rheanna@101.89.197.243)
[18:05:32] *** Joins: GuiToris (~GuiToris@user/guitoris)
[18:05:51] <GuiToris> hello, can add ffmpeg 50% transparency to the animation?
[18:10:56] *** Quits: Fohsap (~Muimi@2001:19f0:6001:e4d:5400:3ff:fe41:8d5b) (Ping timeout: 246 seconds)
[18:15:26] <another|> what animation?
[18:18:33] <GuiToris> thank you, I went back to the project instead and started to render it again :)
[18:21:06] <durandal_1707> GuiToris: see alphamerge filter
[18:23:46] <DHE> also the color filter to make a greyscale image to use... maybe even format to make sure it gets processed as greyscale? not clear if that's needed
[18:23:48] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[18:27:23] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[18:39:35] *** Quits: tomasklaen (~tomasklae@46-18-150-222.ferimex.net) (Quit: Client closed)
[18:44:32] *** Joins: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua)
[18:59:03] *** Quits: SpeakerToMeat (~Speaker@user/speakertomeat) (Read error: Connection reset by peer)
[18:59:46] *** Joins: SpeakerToMeat (~Speaker@user/speakertomeat)
[18:59:52] *** Quits: iptv_streamer_05 (~iptv_stre@smtps.mail.discusdigitalis.info) (Quit: Connection closed)
[19:01:04] *** Joins: tomaskalen (~tomaskale@46-18-150-222.ferimex.net)
[19:10:17] *** Quits: GuiToris (~GuiToris@user/guitoris) (Quit: Sieben Acht Gute Nacht!)
[19:21:22] <sine0> Keshl: thanks re yt enc
[19:21:30] *** Joins: Guest6 (~Guest6@ip-213-127-5-177.ip.prioritytelecom.net)
[19:27:07] *** Quits: SpeakerToMeat (~Speaker@user/speakertomeat) (Read error: Connection reset by peer)
[19:28:51] *** Joins: Jerrk (~Jerrk@45.83.220.203)
[19:35:38] *** Quits: rsx (~dummy@ppp-188-174-145-31.dynamic.mnet-online.de) (Quit: rsx)
[19:36:47] *** Joins: Flabb (~Flabb@89.169.42.92)
[19:38:29] *** Quits: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3) (Ping timeout: 264 seconds)
[19:38:37] *** Quits: arbitercoin (~Rheanna@101.89.197.243) (Remote host closed the connection)
[19:40:22] *** Joins: arbitercoin (~Rheanna@218.78.77.129)
[19:44:59] <aphysically> JEEB: by the way I'm excited for those potential subtitle patches, the subtitle code in my script is actual insanity
[19:45:01] <aphysically> https://github.com/GBeauregard/pyffstream/blob/8306cdc57a5123ba24af4cea023af449a509952c/src/pyffstream/encode.py#L905
[19:45:18] *** Joins: SpeakerToMeat (~Speaker@user/speakertomeat)
[19:46:04] <JEEB> yea there's still various work left for that, but it'll be great to have subtitles in AVFrames
[19:46:15] <aphysically> https://github.com/GBeauregard/pyffstream/blob/8306cdc57a5123ba24af4cea023af449a509952c/src/pyffstream/encode.py#L1005
[19:46:18] <aphysically> look at the textsub function
[19:46:27] <JEEB> I have implemented subtitle decoders and encoders
[19:46:31] <aphysically> I unconditionally extract the subtitles into a separate file (and do style merging if it's an ASS ffconcat)
[19:46:31] <JEEB> I *know* the API is bonkers
[19:46:42] <JEEB> (compared to the AVFrame stuff)
[19:46:54] <aphysically> because leaving it in the file just in general didn't work :P
[19:47:28] <aphysically> I haven't looked if there's a round of patches since I last looked
[19:47:54] <aphysically> I had two concerns but I didn't send them to the ML yet
[19:47:55] *** Quits: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de) (Remote host closed the connection)
[19:48:36] <aphysically> (I agreed with Lynne that the text/img subs should have a combined option, because that removes the need to hardcode branching stuff like I did here)
[19:49:22] <aphysically> but also it wasn't clear to me what kind of scaling, if any, the image sub version was doing (and I needed to look at the code I guess)
[19:51:41] *** Joins: anotheruser (~user@41.46.243.175)
[19:52:43] *** Quits: arbitercoin (~Rheanna@218.78.77.129) (Remote host closed the connection)
[19:53:06] *** Quits: someuser (~user@41.46.243.175) (Ping timeout: 265 seconds)
[19:54:10] *** Joins: arbitercoin (~Rheanna@218.78.77.129)
[20:03:19] *** Quits: Guest6 (~Guest6@ip-213-127-5-177.ip.prioritytelecom.net) (Quit: Client closed)
[20:04:23] *** Joins: Guest6 (~Guest6@ip-213-127-5-177.ip.prioritytelecom.net)
[20:10:51] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[20:28:40] *** Quits: arbitercoin (~Rheanna@218.78.77.129) (Remote host closed the connection)
[20:31:14] *** Quits: gnoo (~gnoo@user/gnoo) (Quit: gnoo)
[20:31:22] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[20:33:53] *** Joins: waleee (~waleee@student-223-182.eduroam.uu.se)
[20:37:34] *** Quits: tomaskalen (~tomaskale@46-18-150-222.ferimex.net) (Quit: Client closed)
[20:38:13] *** Quits: jos2 (~jos3@dyndsl-178-142-067-029.ewe-ip-backbone.de) ()
[20:38:34] *** Quits: meego_ (~meego@2001:41d0:fe7e:c800:8146:bbc:806a:1a67) (Remote host closed the connection)
[20:39:10] *** Joins: meego (~meego@2001:41d0:fe7e:c800:8146:bbc:806a:1a67)
[20:44:48] *** Quits: meego (~meego@2001:41d0:fe7e:c800:8146:bbc:806a:1a67) (Ping timeout: 268 seconds)
[20:45:18] *** Joins: jokoon (~eio@2a01:e0a:542:e160:1993:fc1c:e3c3:b7c8)
[20:45:39] <jokoon> Im using a xstack command and the sound is still out of sync and I don't know why
[20:46:32] *** Quits: Atsuko (~x@94.242.250.86) (Ping timeout: 252 seconds)
[20:54:28] *** Joins: jos1 (~jos3@dyndsl-178-142-067-029.ewe-ip-backbone.de)
[20:57:57] *** Joins: Atsuko (~x@94.242.250.86)
[21:01:46] *** Joins: Timster (~Timster@200116b8402eb2005524b7ffe2ccfaa2.dip.versatel-1u1.de)
[21:03:38] *** Joins: meego (~meego@2a01:e0a:1ec:b0e0:11e2:d8ad:b66c:a3ba)
[21:03:52] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[21:04:08] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[21:08:03] *** Quits: mickey (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[21:08:19] *** Joins: mickey (~user@user/mickey)
[21:09:01] *** Quits: meego (~meego@2a01:e0a:1ec:b0e0:11e2:d8ad:b66c:a3ba) (Ping timeout: 252 seconds)
[21:12:38] *** Joins: caixa_de_areia (~caixa_de_@177.8.167.170)
[21:12:47] <caixa_de_areia> hello
[21:12:56] <caixa_de_areia> anyone ca help me?
[21:13:07] <jokoon> can try
[21:13:33] <caixa_de_areia> I work for a school and try to use an AR sandbox app
[21:13:52] <caixa_de_areia> It called libavcodec-ffmpeg.so.56
[21:14:01] *** Quits: luni-4 (uid453292@id-453292.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[21:14:03] <caixa_de_areia> I tried the old downloads
[21:14:16] <caixa_de_areia> but not work
[21:14:24] <jokoon> "AR"?
[21:14:38] <caixa_de_areia> Augmented reality
[21:14:41] <caixa_de_areia> sorry
[21:15:04] <caixa_de_areia> the problem is how to install this libavcodec in ubuntu?
[21:15:10] <jokoon> can you update its software?
[21:15:21] <caixa_de_areia> Unfortunately no
[21:15:38] <caixa_de_areia> I have to use libavcodec-ffmpeg.so.56
[21:15:47] <caixa_de_areia> it comes from code
[21:15:50] <jokoon> that seems more like an ubuntu question
[21:16:10] <jokoon> what is that AR device? it is supposed to work on linux?
[21:16:22] <jokoon> what error message?
[21:16:23] <caixa_de_areia> Yes I use Kinect and a projector
[21:16:32] <caixa_de_areia> I will post the error here
[21:16:34] <caixa_de_areia> one second
[21:17:07] <caixa_de_areia> error while loading shared libraries: libavcodec-ffmpeg.so.56: cannot open shared object file: No such file or directory
[21:17:22] <caixa_de_areia> I treid to install the ffmpeg old version
[21:17:25] <jokoon> seems like it cant find the file
[21:17:54] <caixa_de_areia> yes but I tried to install ffmpeg old version, no success
[21:17:58] <jokoon> what is that software you're using with that AR device?
[21:18:18] <jokoon> wasn't it provided by some contractor?
[21:18:36] <caixa_de_areia> No , it is developed by an professor
[21:18:40] *** Quits: arbitercoin (~Rheanna@101.91.240.201) (Remote host closed the connection)
[21:19:00] <jokoon> well you might need to ask that professor...
[21:19:11] <jokoon> that seems like an installation problem...
[21:19:13] <caixa_de_areia> Is there a ffmpeg version with that file libavcodec-ffmpeg.so.56?
[21:19:30] <caixa_de_areia> So I tried to install
[21:19:34] <jokoon> mh I guess yes
[21:19:40] <jokoon> but version might mismatch so
[21:19:47] <caixa_de_areia> Perfect what version?
[21:20:12] <jokoon> try sudo apt-get install -y ffmpeg
[21:20:20] <jokoon> https://stackoverflow.com/questions/37798798/libavcodec-so-56-not-found-when-running-software-compiled-with-opencv
[21:20:35] <jokoon> do you know how to use a terminal?
[21:20:40] <caixa_de_areia> Yes I read everything
[21:20:45] <caixa_de_areia> Yes I know
[21:21:03] *** Joins: arbitercoin (~Rheanna@101.91.197.175)
[21:21:27] <caixa_de_areia> It did not find the package ffmpeg
[21:21:35] <jokoon> oh really
[21:21:58] <jokoon> what is that ubuntu version?
[21:22:24] <caixa_de_areia> -v
[21:23:37] <jokoon> some answers hints at rebuilding ffmpeg from source
[21:23:40] <caixa_de_areia> linux mint 17.3 Rosa
[21:23:46] <caixa_de_areia> actually Mint
[21:23:51] <jokoon> oh not ubuntu then
[21:24:02] <JEEB> mint is either based on ubuntu or debian
[21:24:05] <JEEB> depending on the version
[21:24:17] <caixa_de_areia> yes
[21:24:34] <furq> Linux Mint 17.3 “Rosa” is based on the stable Ubuntu 14.04 LTS code,
[21:24:34] <jokoon> they have a channel for mint
[21:24:39] <furq> well there's your problem
[21:24:48] <jokoon> ##linuxmint
[21:25:10] <jokoon> yeah better use debian or ubuntu, IMO
[21:25:11] <caixa_de_areia> the professor project is in Mint Rosa
[21:25:19] <caixa_de_areia> hum..
[21:25:38] <jokoon> I don't see why he would use a marginal linux distro
[21:25:53] <jokoon> anyway
[21:25:54] <JEEB> anyways, it's an old solib plus it utilizes a custom suffix
[21:26:01] <JEEB> figure out if there's a package that provides that file
[21:26:04] <caixa_de_areia> do you think ubuntu will run?
[21:26:05] <furq> well the problem is it's been eol for over two years
[21:26:05] <JEEB> if not good luck
[21:26:23] <furq> but the problem in this case is that 14.04 is during the fun days of people caring about libav
[21:26:28] <furq> so there is no ffmpeg package
[21:26:34] <jokoon> https://community.linuxmint.com/software/view/libavcodec-ffmpeg-extra56
[21:26:58] <caixa_de_areia> @jokoon
[21:26:59] <JEEB> ok, so it exists in mint somewhere
[21:27:41] *** Quits: waleee (~waleee@student-223-182.eduroam.uu.se) (Ping timeout: 264 seconds)
[21:28:01] <caixa_de_areia> So I will try to install via apt-get
[21:28:37] <caixa_de_areia> E: Unable to locate package libavcodec-ffmpeg-extra56
[21:29:01] <JEEB> then figure out where it exists :P
[21:29:12] <JEEB> not exactly an FFmpeg problem, unfortunately
[21:29:20] <caixa_de_areia> :(
[21:29:50] <caixa_de_areia> I know,I think I was installing the wrong version
[21:29:53] *** Quits: durandal_1707 (~computer@95.168.121.162) (Read error: Connection reset by peer)
[21:30:05] <JEEB> if you search for libavcodec-ffmpeg-extra56
[21:30:11] <JEEB> you will see it was in xenial
[21:30:13] <JEEB> not trusty
[21:30:16] <JEEB> xenial is 16.04
[21:30:19] <JEEB> trusty is 14.04
[21:30:55] *** Joins: durandal_1707 (~computer@95.168.120.69)
[21:31:50] *** Quits: mickey (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[21:32:05] *** Joins: mickey (~user@user/mickey)
[21:38:09] <caixa_de_areia> thanks
[21:38:15] <caixa_de_areia> I will try with ubuntu
[21:38:49] <JEEB> (also fun thing, xenial is out of support since april this year lol)
[21:41:11] *** Quits: caixa_de_areia (~caixa_de_@177.8.167.170) (Quit: Leaving)
[21:52:43] <jokoon> I guess xenial just became the first stage of linux grief
[21:56:01] *** Quits: Guest6 (~Guest6@ip-213-127-5-177.ip.prioritytelecom.net) (Quit: Client closed)
[21:59:50] <jokoon> what does profile mean in ffprobe? High, Main, Constrained Baseline, Advanced Simple Profile
[21:59:58] <another|> the real solution is: ask the professor for the source
[22:00:00] <BtbN> JEEB, hm? both xenial ad trusty are still in support. For a few years even.
[22:00:13] *** Joins: Atsuko_ (~x@94.242.250.86)
[22:00:14] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[22:00:56] <BtbN> 14.04 until 2024, and 16.04 until 2026
[22:01:11] <another|> jokoon: the profile defined by the codec
[22:01:18] <JEEB> BtbN: if you are doing ESM
[22:01:24] <JEEB> https://ubuntu.com/about/release-cycle
[22:01:33] <BtbN> Which is free, if you only have a few private machines
[22:01:36] <BtbN> so why wouldn't you
[22:01:38] *** Joins: Rarisma (~Rarisma@cpc152567-shef18-2-0-cust38.17-1.cable.virginm.net)
[22:01:46] <BtbN> If you really need that old of a distro
[22:01:53] *** Quits: Atsuko (~x@94.242.250.86) (Ping timeout: 264 seconds)
[22:02:26] <JEEB> yes, if. that user would require to upgrade/install xenial
[22:02:34] <JEEB> since he needed that old SOlibs
[22:02:49] <JEEB> but really, that user didn't really *require* that old of a distro
[22:02:59] <JEEB> and generally where I find these things is in corporations :)
[22:03:16] <Rarisma> Hi, im using FFMPEG to concate a ton of videos via C# and im using this command "-f concat -safe 0 -i '{ProjectDir}Files.txt' -c copy {ProjectDir}output.mp4" but Im getting the error that the files.txt  is an invalid argument, any idea why?
[22:04:47] <BtbN> Probably because you're doing something wrong in your code. Cause otherwise this is correct.
[22:05:40] *** Quits: koolazer (~koo@user/koolazer) (Ping timeout: 252 seconds)
[22:08:13] <Rarisma> The path to the file is correct and exists
[22:08:48] *** Quits: arbitercoin (~Rheanna@101.91.197.175) (Remote host closed the connection)
[22:10:46] *** Joins: arbitercoin (~Rheanna@101.91.197.175)
[22:13:16] *** Joins: voltron (~voltrin_@ip5f5994c9.dynamic.kabel-deutschland.de)
[22:16:39] *** Joins: Guest6 (~Guest6@ip-213-127-5-177.ip.prioritytelecom.net)
[22:17:10] *** Guest6 is now known as Guest101
[22:18:32] <BtbN> Like I said, probably an issue with your code. The commandline is fine.
[22:24:21] *** Joins: dreamon (~dreamon@pd9503d48.dip0.t-ipconnect.de)
[22:24:51] <Rarisma> file 'D:\Projects\RProj\bin\Debug\net5.0\Projects\pt5znr\Videos\38.mp4' this is what all the lines in files.txt look like, thats fine right
[22:33:08] *** Quits: Timster (~Timster@200116b8402eb2005524b7ffe2ccfaa2.dip.versatel-1u1.de) (Quit: Client closed)
[22:39:12] *** Joins: ivanich_ (~ivanich@45-140-123-239.broadband.tenet.odessa.ua)
[22:39:20] *** Quits: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua) (Quit: Konversation terminated!)
[22:42:12] *** Joins: meego (~meego@2a01:e0a:1ec:b0e0:1037:e83f:ed32:dc8)
[22:43:04] *** Joins: someuser (~user@41.46.243.175)
[22:43:30] *** Quits: NaviTheFairy (~Squirrel@user/navithefairy) (Ping timeout: 260 seconds)
[22:43:41] *** Quits: anotheruser (~user@41.46.243.175) (Ping timeout: 252 seconds)
[22:46:08] *** Quits: mythos (~mythos@user/mythos) (Ping timeout: 265 seconds)
[22:48:20] *** Quits: Flabb (~Flabb@89.169.42.92) (Quit: Leaving)
[22:48:50] *** Quits: meego (~meego@2a01:e0a:1ec:b0e0:1037:e83f:ed32:dc8) (Ping timeout: 246 seconds)
[22:50:53] *** Quits: Rarisma (~Rarisma@cpc152567-shef18-2-0-cust38.17-1.cable.virginm.net) (Quit: Connection closed)
[22:52:25] <aphysically> one thing I"m quite sure is very wrong in my code is my usage of srt. The defaults aren't really set up well for sending to ffmpeg which then encodes to dash or something. I'm not sure how to make it work where dropped frames don't break everything (or are at least recoverable after a GOP), but even in my setup now where I don't allow dropped frames it's VERY fidgety and tends to start failing
[22:52:26] <aphysically> without being recoverable with even the slightest drop in temporary upload speed
[22:53:26] <aphysically> I assume there's some way to configure it to allow more of a buffer that can recover but I was no good at reading the docs and interpreting what I really want last time I tried
[22:53:45] <aphysically> the defaults basically didn't work at all, I finally found something that works most of the time though
[22:54:17] <aphysically> (basically didn't work at all -> connection would completely drop even at bitrates well under upload capability)
[22:54:28] <aphysically> or quickly fall under usable
[22:55:13] <aphysically> all of this would probably be ameliorated if SRT ever becomes popular then more sane config settings will be widely available :P
[22:55:21] *** Quits: ivanich_ (~ivanich@45-140-123-239.broadband.tenet.odessa.ua) (Read error: Connection reset by peer)
[22:55:43] *** Joins: ivanich_ (~ivanich@45-140-123-239.broadband.tenet.odessa.ua)
[22:56:29] *** Quits: fltrz (~fltrz@213.219.147.109.adsl.dyn.edpnet.net) (Ping timeout: 264 seconds)
[22:57:21] <aphysically> right now my connection just very rarely drops entirely for a momentary internet hiccup and I'm not sure what I misconfigured there, but otherwise it's quite stable
[22:59:16] <aphysically> in an ideal world ffmpeg would also be able to communicate dropping the bitrate to keep up with connection slowdowns dynamically like OBS but that would require reworking things I think (such a thing has been patches welcome re: rtmp for a while I think)
[23:08:58] *** Joins: fltrz (~fltrz@94.105.111.180.dyn.edpnet.net)
[23:11:18] *** Joins: Buster_ (~Buster@buster-net.ru)
[23:25:08] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[23:26:15] *** Quits: SpeakerToMeat (~Speaker@user/speakertomeat) (Read error: Connection reset by peer)
[23:29:28] <znf> In a much older ffmpeg version, when writing HLS I could use: -segment_list_flags '+live+delete'
[23:30:00] <znf> does anyone know when that option got changed?
[23:30:20] <znf> if I use that with a new build, I get:
[23:30:20] <znf> [(stream) segment muxer @ 0x5570234cbe00] [Eval @ 0x7ffe91ad7b20] Undefined constant or missing '(' in 'delete'
[23:30:20] <znf> [(stream) segment muxer @ 0x5570234cbe00] Unable to parse option value "delete"
[23:31:02] <durandal_1707> ffmpeg -h muxer=hls
[23:32:03] <znf> not sure how that answers my question :P
[23:32:22] <JEEB> looking at the history of the segment thing you're trying to utilize it does indeed have that segment_list_flags
[23:32:22] <znf> I asked when :)
[23:32:25] <JEEB> but
[23:32:29] <JEEB> it never had a value of "delete"
[23:32:46] <JEEB> at least looking at its history and picking "Changing lines matching" -> "delete"
[23:32:50] <JEEB> has nada
[23:32:58] <JEEB> so durandal_1707 might be pointing towards the hls muxer for a reason :P
[23:33:00] <znf> interesting
[23:33:13] <znf> guess this ffmpeg build has some patches
[23:33:23] <durandal_1707> i'm not really into hls thing
[23:34:03] <durandal_1707> but it is buggy iiuc and there was some hls complete rewrite patch that did not get accepted for some reason, dunno was it muxer or demuxer...
[23:34:06] <JEEB> because the hls meta muxer does seem to have hls_flags delete_segments :P
[23:34:23] <znf> yeah, I'm aware it has it
[23:34:25] <JEEB> no idea about the dash meta muxer (which can also generate hls stuff)
[23:34:27] <znf> this old build also has it
[23:34:47] <JEEB> anyways, to figure out if that old build had some hacks, you can check -h muxer=segment
[23:34:51] <znf> which makes it even a bigger mistery as to why this build felt the need to add +delete
[23:34:55] <JEEB> durandal_1707: the demuxers are more of a mess
[23:35:12] <JEEB> although the muxers also are only poked by a few people
[23:35:22] <znf>      delete                       E........ delete segment files that are no longer part of the playlist
[23:35:23] <znf> yup
[23:35:39] <JEEB> I laughed out loud when one of my random commits to dashdec got linked on yt-dlp's change log :P
[23:35:55] <JEEB> (I fixed a random manifest length limit)
[23:36:25] <znf> --prefix=/root/FFmpeg/target --extra-cflags=-I/root/FFmpeg/target/include --extra-ldflags='-L/root/FFmpeg/target/lib -Wl,-Bstatic -lcrypto -lssl -Wl,-Bdynamic' --disable-debug --disable-shared --enable-libx265 --enable-static --extra-cflags=--static --disable-ffplay --disable-doc --enable-gpl --enable-pthreads --enable-postproc --enable-libass --enable-gray --enable-runtime-cpudetect --enable-libfreetype --enable-libmp3lame --enable-libopus
[23:36:25] <znf> --enable-libtheora --enable-libvorbis --enable-gnutls --enable-libx264 --enable-libxvid --enable-bzlib --enable-fontconfig --enable-zlib --enable-version3 --enable-libvpx --enable-libxavs --enable-nvenc --enable-ffnvcodec --enable-cuvid --disable-autodetect --disable-alsa --disable-indev=alsa --disable-outdev=alsa --enable-librtmp --extra-libs='-lsupc++ -lgmp -lz -lunistring -lpthread -lm -lrt -ldl'
[23:36:36] <znf> oh damn, that's a long line
[23:36:47] <JEEB> > enable-librtmp
[23:36:53] <JEEB> I lol each time I see people enabling that
[23:37:01] <JEEB> wbs did a good job with the lavf rtmp implementation
[23:37:15] <JEEB> and the only difference is that instead of random URL parameters it utilizes AVOptions
[23:37:24] <JEEB> but people don't want to learn I guess :P
[23:37:42] *** Joins: mythos (~mythos@user/mythos)
[23:38:21] <znf> well, this was from 2018, so...
[23:38:32] <JEEB> even then :D
[23:38:44] *** Quits: mythos (~mythos@user/mythos) (Client Quit)
[23:38:45] <znf> ffmpeg version N-92517-gd0f5942 Copyright (c) 2000-2018 the FFmpeg developers
[23:39:06] <JEEB> yea that is not a hash in the FFmpeg git repo :)
[23:39:20] <JEEB> the gHASH contains the hash
[23:40:16] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[23:41:37] <znf> I legit do not understand why they'd patch that
[23:41:59] <znf> when this build has delete_segments
[23:42:35] <JEEB> some people like the segment meta muxer, for whatever reasons :)
[23:42:40] <znf> plus, even more... you don't even seem to need that flag... using -segment_list_size seems to just delete them anyway
[23:43:28] *** Joins: SpeakerToMeat (~Speaker@user/speakertomeat)
[23:46:16] *** Quits: voltron (~voltrin_@ip5f5994c9.dynamic.kabel-deutschland.de) (Remote host closed the connection)
[23:48:05] <znf> oh, actually it doesn't
[23:48:09] <znf> I stand corrected
[23:48:15] *** Joins: NaviTheFairy (~Squirrel@user/navithefairy)
[23:48:41] *** Quits: arbitercoin (~Rheanna@101.91.197.175) (Remote host closed the connection)
[23:49:41] *** Quits: haihao (~haihao@192.55.46.54) (Ping timeout: 252 seconds)
[23:50:04] *** Joins: haihao (~haihao@192.55.46.54)
[23:50:32] *** Joins: arbitercoin (~Rheanna@218.78.77.129)
[23:52:19] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 252 seconds)
[23:56:14] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
