[00:10:13] *** Joins: rgrinberg (~textual@187.223.183.192)
[00:22:30] *** Joins: oriba (~oriba@dynamic-077-011-158-103.77.11.pool.telefonica.de)
[00:33:55] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 256 seconds)
[00:41:57] *** Quits: rgrinberg (~textual@187.223.183.192) (Ping timeout: 240 seconds)
[00:46:05] *** Joins: rgrinberg (~textual@187.223.183.192)
[00:57:35] *** Quits: jao (~jao@92.40.177.85.threembb.co.uk) (Ping timeout: 256 seconds)
[00:57:52] *** Joins: samgranieri (~samgranie@user/samgranieri)
[01:00:33] *** Quits: rgrinberg (~textual@187.223.183.192) (Ping timeout: 256 seconds)
[01:00:35] *** Joins: samgranieri_ (~samgranie@user/samgranieri)
[01:01:44] *** Joins: rgrinberg (~textual@187.223.183.192)
[01:03:57] *** Quits: samgranieri (~samgranie@user/samgranieri) (Ping timeout: 240 seconds)
[01:05:12] *** Quits: samgranieri_ (~samgranie@user/samgranieri) (Client Quit)
[01:06:55] *** Quits: rgrinberg (~textual@187.223.183.192) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:20:10] *** Joins: samgranieri (~samgranie@user/samgranieri)
[01:21:45] *** Quits: samgranieri (~samgranie@user/samgranieri) (Client Quit)
[01:23:03] *** Joins: samgranieri (~samgranie@user/samgranieri)
[01:25:18] *** Joins: vidbina (~vid@213.94.6.230)
[01:27:22] *** Quits: samgranieri (~samgranie@user/samgranieri) (Client Quit)
[01:29:14] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Remote host closed the connection)
[01:31:43] <bencc1> why is this not optimize?
[01:31:44] <bencc1> https://pastebin.com/
[01:32:02] <bencc1> should I receive anything and add a case after receiving the message?
[01:32:21] <darkling> Mispaste on the URL there?
[01:32:25] <bencc1> https://pastebin.com/YnLMtynU
[01:33:14] <bencc1> this is better? https://pastebin.com/j5jMKHCi
[01:34:26] <darkling> You could add a final clause to the receive in the first version:  _ -> throw(error)
[01:34:49] <bencc1> that will make the first version faster?
[01:35:06] <bencc1> I had a gen_server sending messages to many processes which became a bottleneck
[01:35:16] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[01:35:18] <darkling> Faster? I don't know. Probably not.
[01:35:50] <bencc1> so I've created few pids. the gen_server sends a message to 5 pids. each pid sends the message to 1/5 of the receivers
[01:35:53] <darkling> If your process is receiving messages that don't match any of those three patterns, then it's going to slow down as the mailbox fills up.
[01:36:10] <bencc1> but at some point performance became terrible
[01:36:35] <bencc1> darkling: so only receiving messages that I don't handle will be a problem?
[01:36:58] <darkling> That's when you need to put in a _ match at the end, so that the unmatched messages get cleared from the mailbox as well as the matched ones -- but if that is the case, then you've got a bug in your system, because that shouldn't really happen.
[01:37:00] <bencc1> I don't think I receive any other message because the code sending the messages is simpe
[01:37:29] <darkling> It's easy to make a mistake and send incorrectly-formatted messages.
[01:38:06] <darkling> I'd recommend putting in a catch-all at the end and printing out those messages, at least during development, so that you can see what's being received.
[01:39:04] <bencc1> I'll do that
[01:39:11] <bencc1> but still can't find my error
[01:39:33] <bencc1> I'm calling: erlang:monitor(process, ParentPid)
[01:39:36] *** Joins: samgranieri (~samgranie@user/samgranieri)
[01:39:55] <darkling> If it is the mailbox getting full, then printing out the unexpected messages will usually give you a good clue about where to start looking for the problem.
[01:39:59] <bencc1> and handeling {'DOWN', _Reference, process, _Pid, _Reason}
[01:40:10] <bencc1> and 4 simple types of messages
[01:40:18] <darkling> It may not be that at all, of course, but at least you'll have ruled out something obvious.
[01:40:18] *** Quits: jpaa (~jpaa@vmi762709.contaboserver.net) (Remote host closed the connection)
[01:40:19] <bencc1> yes
[01:40:27] <bencc1> but not sure if I can reproduce in dev
[01:40:38] <bencc1> and in production printing everything will probably make it worse
[01:43:01] <bencc1> https://www.erlang.org/doc/efficiency_guide/processes.html#receiving-messages
[01:43:29] <bencc1> why do this do this? "MRef = monitor(process, Process),"
[01:43:38] <bencc1> {MRef, Reply} ->
[01:45:01] <darkling> It's past my bedtime, I'm afraid. I need to head off now. o/
[01:45:35] <bencc1> thanks
[01:45:41] <bencc1> maybe I need to handle {Tag, MonitorRef, Type, Object, Info}
[02:00:37] *** Quits: vidbina (~vid@213.94.6.230) (Ping timeout: 256 seconds)
[02:04:45] *** Quits: Amadiro (~Amadiro@84.209.11.12) (Remote host closed the connection)
[02:04:46] *** Joins: jringstad__ (~Amadiro@84.209.11.12)
[02:24:37] *** Quits: bencc1 (~bencc1@2a00:a040:197:3af:3958:8d11:767f:b80f) (Ping timeout: 240 seconds)
[02:39:22] *** Joins: jushur (~human@user/jushur)
[02:39:53] *** Quits: oriba (~oriba@dynamic-077-011-158-103.77.11.pool.telefonica.de) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[02:42:04] *** Joins: rgrinberg (~textual@2806:101e:7:78bb:7d7b:4bec:a56d:43d9)
[02:44:33] *** Quits: yanmaani (~yanmaani@gateway/tor-sasl/yanmaani) (Ping timeout: 276 seconds)
[03:02:47] *** Quits: rgrinberg (~textual@2806:101e:7:78bb:7d7b:4bec:a56d:43d9) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:21:30] *** Quits: dextercd (~dexter@2a02-a450-f25d-1-76d4-35ff-fefe-34c.fixed6.kpn.net) (Quit: WeeChat 3.4)
[03:34:34] *** Joins: yanmaani (~yanmaani@gateway/tor-sasl/yanmaani)
[03:35:58] *** Joins: jao (~jao@92.40.177.84.threembb.co.uk)
[04:06:34] *** Joins: rgrinberg (~textual@2806:101e:7:78bb:7d7b:4bec:a56d:43d9)
[04:40:15] *** Quits: rgrinberg (~textual@2806:101e:7:78bb:7d7b:4bec:a56d:43d9) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:41:24] *** Quits: Corbit (~Corbit@2001:a61:2aa3:7b01:774e:1feb:316d:e6b4) (Quit: WeeChat 3.3)
[04:50:44] *** Quits: mexen (uid495612@user/mexen) (Quit: Connection closed for inactivity)
[04:56:07] *** Joins: xcm_ (~xcm@static.90.45.69.159.clients.your-server.de)
[04:57:44] *** Quits: xcm (~xcm@user/xcm) (Read error: Connection reset by peer)
[05:15:59] *** Quits: jespada (~jespada@87.74.32.18) (Ping timeout: 256 seconds)
[05:18:34] *** Joins: jespada (~jespada@87.74.32.18)
[05:18:36] *** Quits: azimut (~azimut@gateway/tor-sasl/azimut) (Ping timeout: 276 seconds)
[05:18:39] *** Joins: azimut_ (~azimut@gateway/tor-sasl/azimut)
[06:26:15] *** Quits: jao (~jao@92.40.177.84.threembb.co.uk) (Ping timeout: 256 seconds)
[06:27:59] *** Joins: jao (~jao@92.40.175.53.threembb.co.uk)
[06:32:17] *** Quits: jao (~jao@92.40.175.53.threembb.co.uk) (Ping timeout: 240 seconds)
[06:49:47] *** Quits: dude-x (~textual@72.76.74.165) (Quit: Textual IRC Client: www.textualapp.com)
[07:11:32] *** Joins: dude-x (~textual@72.76.74.165)
[07:29:39] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:bcc9:1408:f826:5e8e)
[08:30:39] *** Joins: mexen (uid495612@user/mexen)
[08:33:27] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:bcc9:1408:f826:5e8e) (Remote host closed the connection)
[08:34:27] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:bcc9:1408:f826:5e8e)
[09:22:31] *** Joins: bencc1 (~bencc1@2a00:a040:197:3af:8f36:1894:62e1:b718)
[09:57:48] *** Joins: jpaa (~jpaa@161.97.129.36)
[10:22:18] *** Quits: xcm_ (~xcm@static.90.45.69.159.clients.your-server.de) (Remote host closed the connection)
[10:22:35] *** Joins: xcm_ (~xcm@user/xcm)
[10:38:41] *** Joins: voltone (~voltone@37.142.206.64)
[10:47:29] *** Quits: voltone (~voltone@37.142.206.64) (Ping timeout: 256 seconds)
[11:38:19] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:bcc9:1408:f826:5e8e) (Remote host closed the connection)
[11:38:59] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:bcc9:1408:f826:5e8e)
[12:04:20] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:bcc9:1408:f826:5e8e) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:15:25] *** Joins: Corbit (~Corbit@2001:a61:2aa3:7b01:774e:1feb:316d:e6b4)
[12:17:49] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:bcc9:1408:f826:5e8e)
[12:39:38] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:bcc9:1408:f826:5e8e) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:17:23] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[13:47:27] *** Joins: vidbina (~vid@213.94.6.230)
[14:38:15] *** Quits: yanmaani (~yanmaani@gateway/tor-sasl/yanmaani) (Ping timeout: 276 seconds)
[15:44:09] *** Quits: Corbit (~Corbit@2001:a61:2aa3:7b01:774e:1feb:316d:e6b4) (Quit: WeeChat 3.3)
[16:00:26] *** Quits: jringstad__ (~Amadiro@84.209.11.12) (Quit: Leaving)
[16:00:43] *** Joins: Amadiro (~Amadiro@84.209.11.12)
[16:41:47] *** Quits: vidbina (~vid@213.94.6.230) (Ping timeout: 256 seconds)
[16:58:53] *** Joins: jao (~jao@92.40.176.180.threembb.co.uk)
[17:25:20] *** Joins: ExeciN (~ExeciN@user/nicexe)
[17:25:30] *** Joins: PepsiLepreux (~pepsi@37.44.247.165)
[17:25:41] *** Quits: keinbock (uid6451@id-6451.helmsley.irccloud.com) ()
[18:24:28] *** Joins: phaleth (~user@user/phaleth)
[18:46:15] *** Joins: dextercd (~dexter@2a02-a450-f25d-1-76d4-35ff-fefe-34c.fixed6.kpn.net)
[19:25:59] *** Quits: phaleth (~user@user/phaleth) (Ping timeout: 256 seconds)
[19:27:08] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[19:47:56] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[19:49:22] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[19:49:44] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Client Quit)
[19:51:15] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[19:57:20] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:bcc9:1408:f826:5e8e)
[20:07:58] *** Quits: damjan (~damjan@user/damjan) (Quit: bye)
[20:09:05] *** Joins: damjan (~damjan@user/damjan)
[20:25:03] *** Quits: jao (~jao@92.40.176.180.threembb.co.uk) (Ping timeout: 256 seconds)
[20:25:08] *** Joins: yanmaani (~yanmaani@gateway/tor-sasl/yanmaani)
[20:26:51] *** Joins: jao (~jao@26.red-176-80-110.dynamicip.rima-tde.net)
[20:44:04] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:bcc9:1408:f826:5e8e) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:52:26] *** Joins: Corbit (~Corbit@2001:a61:2aa3:7b01:774e:1feb:316d:e6b4)
[21:45:22] *** Joins: rgrinberg (~textual@2806:101e:7:c237:5574:bcf4:5aed:9e20)
[22:15:21] *** Quits: rgrinberg (~textual@2806:101e:7:c237:5574:bcf4:5aed:9e20) (Read error: Connection reset by peer)
[22:16:26] *** Joins: rgrinberg (~textual@2806:101e:7:c237:5574:bcf4:5aed:9e20)
[22:52:11] *** Quits: rgrinberg (~textual@2806:101e:7:c237:5574:bcf4:5aed:9e20) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:53:25] *** Quits: jespada (~jespada@87.74.32.18) (Read error: Connection reset by peer)
[22:53:37] *** Joins: jespada_ (~jespada@87.74.32.18)
[23:27:14] *** Joins: rgrinberg (~textual@187.223.202.115)
