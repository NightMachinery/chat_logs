[00:02:28] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[00:21:20] *** Quits: Helmholtz (~leibnizma@2001:470:69fc:105::3124) (Changing host)
[00:21:20] *** Joins: Helmholtz (~leibnizma@user/helmholtz)
[00:30:42] *** Quits: Blacker47 (~Blacker47@user/blacker47) (Quit: Life is short. Get a V.90 modem fast!)
[00:31:00] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[00:53:22] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 252 seconds)
[00:54:24] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[00:56:37] *** Quits: Flabb_ (~Flabb@89.169.50.87) (Quit: Leaving)
[00:57:27] *** Quits: hanetzer (~hanetzer@user/hanetzer) (Ping timeout: 240 seconds)
[00:59:10] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 240 seconds)
[00:59:40] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 240 seconds)
[01:15:41] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[01:29:40] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 252 seconds)
[01:35:52] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[01:45:23] *** Joins: MrZeus (~MrZeus@185.248.85.26)
[01:48:48] *** Joins: user1234 (~TikityTik@162.223.44.49)
[01:48:53] *** user1234 is now known as TikityTik
[01:49:09] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[01:49:23] <TikityTik> How could I make a progress bar for this? What variables could I use to check how far along the remuxing is? https://ffmpeg.org/doxygen/trunk/remuxing_8c-example.html
[01:50:59] <AMM> pts, if you know the duration of the longest stream to be included
[01:51:17] <AMM> Forgive me saying so but this is an obvious answer, no?
[01:51:34] <TikityTik> just making sure
[01:51:59] <TikityTik> so how would I get the end time?
[01:53:50] *** Parts: apteryx (~maxim@dsl-153-61.b2b2c.ca) ()
[01:53:51] <AMM> I don't think it's too helpful to spoonfeed you answers you could figure out from contex clues and looking at the structs involved
[01:54:12] <AMM> But maybe AVFormatContext could hold something useful...
[01:55:41] <TikityTik> I assume to get a prcentage is: AVPacket::pts / AVFormatContext::duration
[01:56:56] <TikityTik> percentage*
[01:57:00] <TikityTik> where they should have the same timebase
[02:06:12] *** Quits: nik (~nik777@vpn-users-dip-pool164.dip.cf.ac.uk) (Quit: Leaving)
[02:09:20] *** Quits: ocrete (~ocrete@halloumi.collabora.co.uk) (Quit: Ping timeout (120 seconds))
[02:09:25] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Quit: The Lounge - https://thelounge.chat)
[02:10:01] *** Joins: ocrete (~ocrete@halloumi.collabora.co.uk)
[02:17:46] *** Joins: linjie_ (~linjie@58.247.209.118)
[02:21:51] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 244 seconds)
[02:26:16] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[02:33:36] *** Quits: qwedfg (~qwedfg@user/qwedfg) (Quit: ZNC - https://znc.in)
[02:34:27] *** Joins: qwedfg (~qwedfg@user/qwedfg)
[02:34:52] *** Quits: furrymcgee (~devuan@31.179.186.66) (Quit: leaving)
[02:35:40] *** Quits: Buster_ (~Buster@buster-net.ru) (Ping timeout: 252 seconds)
[02:36:58] *** Quits: der_richter (~Akemi@p4fde4e3e.dip0.t-ipconnect.de) (Quit: Leaving.)
[02:43:48] *** Joins: arktnld_ (~arktnld@179.186.101.144.dynamic.adsl.gvt.net.br)
[02:44:20] *** arktnld_ is now known as arktnld
[02:45:23] *** Quits: arktnld (~arktnld@179.186.101.144.dynamic.adsl.gvt.net.br) (Client Quit)
[02:46:07] *** Joins: arktnld (~arktnld@179.186.101.144.dynamic.adsl.gvt.net.br)
[02:49:25] *** Quits: MrZeus (~MrZeus@185.248.85.26) (Ping timeout: 252 seconds)
[02:50:29] *** Joins: arcatech (~arcatech@user/arcatech)
[02:53:08] <TikityTik> AMM, am i wrong because i'm getting 1%
[02:53:23] <TikityTik> from: int64_t prog = ceil(((double)pkt.pts / (double)ifmt_ctx->duration) * 100);
[02:54:35] <AMM> What do the docs say about duration and its timebase?
[02:54:50] <TikityTik> "Duration of the stream, in AV_TIME_BASE fractional seconds. "
[02:55:10] <TikityTik> and pts: "Presentation timestamp in AVStream->time_base units; the time at which the decompressed packet will be presented to the user. "
[02:55:26] <TikityTik> doesn't that mean they share the same timebase?
[02:55:42] <AMM> It does not
[02:56:32] <AMM> The stream has its own timebase, AV_TIME_BASE is an internal timebase (in a way)
[02:56:49] <AMM> You'll have to convert one of them to the other's timebase
[02:58:54] <TikityTik> Doesn't AVFormatContext::max_analyze_duration share the same timebase as pts?
[02:59:00] <TikityTik> "Maximum duration (in AV_TIME_BASE units) of the data read from input in avformat_find_stream_info()."
[02:59:20] <AMM> That clearly states it's in AV_TIME_BASE
[02:59:40] <TikityTik> and pts is in AVStream->time_base units
[02:59:51] <AMM> max_analyze_duration is also an option, not a measure
[03:02:15] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[03:02:43] *** Quits: Narrat (~omnius@p200300df5f00d3ea06ea56fffe2e7cdc.dip0.t-ipconnect.de) (Quit: They say a little knowledge is a dangerous thing, but it's not one half so bad as a lot of ignorance.)
[03:10:37] *** Quits: qwedfg (~qwedfg@user/qwedfg) (Read error: Connection reset by peer)
[03:10:55] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[03:12:37] *** Joins: qwedfg (~qwedfg@user/qwedfg)
[03:13:00] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Ping timeout: 276 seconds)
[03:18:16] *** Joins: arcatech (~arcatech@user/arcatech)
[03:29:48] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[03:30:31] <TikityTik> so if i do pkt.pts / pkt.time_base, would that put it into AV_TIME_BASE fractional seconds aka microseconds?
[03:32:53] *** Joins: hanetzer (~hanetzer@2607:fb90:4754:e693:efcb:dde5:7608:73a8)
[03:33:02] *** Quits: hanetzer (~hanetzer@2607:fb90:4754:e693:efcb:dde5:7608:73a8) (Changing host)
[03:33:02] *** Joins: hanetzer (~hanetzer@user/hanetzer)
[03:34:21] <DeHackEd> well you can't just use the / operator on a time_base structure since it's a structure...
[03:34:31] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 252 seconds)
[03:34:35] <TikityTik> Yeah AVRational
[03:35:52] <AMM> TikityTik: read the remux example you yourself linked, and attempt to get a basic understanding of it
[03:36:02] <DeHackEd> my code contains:  int64_t effective_timestamp = av_rescale_q(pkt->pts, pkt->time_base, (AVRational){1,AV_TIME_BASE}); printf("%d/%d seconds processed \r", (int)(effective_timestamp / AV_TIME_BASE), (int)(avformatcontext->duration / AV_TIME_BASE));
[03:36:19] <DeHackEd> this is correct for most common file formats where the file starts at 0 seconds
[03:38:24] <TikityTik> ah got it working finally, thanks for the help
[03:39:13] <TikityTik> https://gist.github.com/Davidj361/df582b73506708971815da4e1ed31aec
[03:44:57] *** Joins: MrZeus (~MrZeus@185.248.85.26)
[03:58:20] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[04:03:38] *** Quits: dreamon (~dreamon@p57a4c28d.dip0.t-ipconnect.de) (Ping timeout: 244 seconds)
[04:06:44] *** Joins: arcatech (~arcatech@user/arcatech)
[04:27:21] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[04:29:41] *** Joins: arcatech (~arcatech@user/arcatech)
[04:31:53] *** Quits: arcatech (~arcatech@user/arcatech) (Client Quit)
[04:33:17] *** Joins: arcatech (~arcatech@user/arcatech)
[04:52:18] *** Quits: MrZeus (~MrZeus@185.248.85.26) (Read error: Connection reset by peer)
[04:52:25] *** Joins: MrZeus_ (~MrZeus@185.248.85.26)
[04:52:54] *** Joins: MrZeus__ (~MrZeus@2a02:c7f:a0aa:4400:315e:16de:64fe:21a9)
[04:57:01] *** Quits: MrZeus_ (~MrZeus@185.248.85.26) (Ping timeout: 252 seconds)
[04:57:12] *** Quits: MrZeus__ (~MrZeus@2a02:c7f:a0aa:4400:315e:16de:64fe:21a9) (Ping timeout: 245 seconds)
[05:02:13] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[05:05:09] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[05:07:05] *** Joins: arcatech (~arcatech@user/arcatech)
[05:15:17] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[05:20:51] *** Joins: Wallboy (~Wallboy@216.197.230.181)
[05:27:36] *** Joins: arcatech (~arcatech@user/arcatech)
[05:28:24] *** Quits: arcatech (~arcatech@user/arcatech) (Client Quit)
[05:30:34] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:32:35] *** Joins: arcatech (~arcatech@user/arcatech)
[05:34:57] <Wallboy> Hi, I'm converting some older DVD footage that was shot at 23.97 fps to a more common digital fps of 30 to be streamed to a RTMP server. I don't want to actually modify the playback rate of the video, so I don't mess with the PTS stuff. I've tried both -r 30 (as output) and fps=30 filter. With -r 30 I get a lot of dupe frame warnings and the video looks a bit "off" and weird. The fps filter
[05:34:57] <Wallboy> however looks great and identical to the source video, albeit at a slightly slower encode. I guess my question is, in which cases would using the -r option be better then using the fps filter?
[05:43:13] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Ping timeout: 252 seconds)
[05:50:07] *** Quits: arktnld (~arktnld@179.186.101.144.dynamic.adsl.gvt.net.br) (Quit: arktnld)
[05:52:54] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Quit: shibboleth)
[05:55:02] *** Joins: blb (~blb@user/blb)
[05:55:37] *** Joins: Fohsap (~Muimi@119.112.250.45)
[06:01:40] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[06:13:10] *** Quits: wyatt8750 (~wyatt8740@192.145.119.155) (Ping timeout: 240 seconds)
[06:13:57] *** Joins: wyatt8740 (~wyatt8740@172.93.207.17)
[06:15:10] *** Quits: waleee (~waleee@h-98-128-228-119.NA.cust.bahnhof.se) (Ping timeout: 240 seconds)
[06:19:21] *** Joins: linjie_ (~linjie@58.247.209.118)
[06:23:52] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 245 seconds)
[06:24:32] *** Joins: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com)
[06:30:15] <kepstin> honestly, i recommend the fps filter in most cases. they apply at different places within ffmpeg, so the difference is kinda technical. but the fps filter generally has better rounding behaviour.
[06:34:10] *** Quits: TikityTik (~TikityTik@162.223.44.49) (Quit: Leaving)
[06:39:25] *** Joins: arcatech (~arcatech@user/arcatech)
[06:41:31] *** Quits: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com) (Ping timeout: 252 seconds)
[06:53:06] *** Quits: jos1 (~jos3@dyndsl-178-142-070-022.ewe-ip-backbone.de) (Ping timeout: 244 seconds)
[06:58:42] *** Joins: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com)
[07:05:25] *** Joins: jos1 (~jos3@dyndsl-178-142-067-077.ewe-ip-backbone.de)
[07:11:46] *** Quits: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com) (Ping timeout: 252 seconds)
[07:12:02] *** Joins: thespikedball (~thespiked@72.92.243.80)
[07:12:28] *** Quits: thespikedball (~thespiked@72.92.243.80) (Client Quit)
[07:13:52] *** Joins: totenkoph (~scythe@user/totenkoph)
[07:15:02] *** Joins: thespikedball (~thespiked@72.92.243.80)
[07:16:20] *** Quits: thespikedball (~thespiked@72.92.243.80) (Client Quit)
[07:17:59] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[07:18:46] *** Joins: arcatech (~arcatech@user/arcatech)
[07:20:33] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[07:36:11] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[07:37:24] *** Joins: arcatech (~arcatech@user/arcatech)
[07:43:27] <vqueiroz> I just deployed the first, very unstable version of Node.js bindings for FFmpeg. Not sure about performance. It seemed very nice to me while recording a 15 second opus file :D
[07:43:28] <vqueiroz> https://github.com/VictorQueiroz/node-ffmpeg
[08:12:16] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 252 seconds)
[08:13:46] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[08:14:41] *** Joins: nick (~nick@166.181.87.69)
[08:17:46] *** Quits: nick (~nick@166.181.87.69) (Client Quit)
[08:26:49] *** Joins: gnoo (~gnoo@user/gnoo)
[08:28:12] *** Quits: gnoo (~gnoo@user/gnoo) (Client Quit)
[08:29:41] *** Joins: gnoo (~gnoo@user/gnoo)
[08:32:51] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[08:45:18] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[08:45:58] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[09:07:18] *** Joins: homura (root@2605:6400:c847:1486::6841)
[09:30:01] *** Quits: Wallboy (~Wallboy@216.197.230.181) ()
[09:47:38] *** Quits: homura (root@2605:6400:c847:1486::6841) (Changing host)
[09:47:38] *** Joins: homura (root@user/homura)
[10:05:24] *** Joins: der_richter (~Akemi@p4fde4e3e.dip0.t-ipconnect.de)
[10:09:01] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[10:21:10] *** Joins: linjie_ (~linjie@58.247.209.118)
[10:21:38] *** Quits: vqueiroz (uid340368@id-340368.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[10:25:27] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 244 seconds)
[10:29:20] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Quit: Leaving...)
[10:31:32] *** Joins: Buster_ (~Buster@46.160.36.66)
[10:40:31] *** Joins: Flabb (~Flabb@89.169.50.87)
[10:58:09] *** Quits: kurosu (uid342582@id-342582.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[11:24:56] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[11:25:23] *** Quits: Buster_ (~Buster@46.160.36.66) (Ping timeout: 244 seconds)
[11:31:24] *** Joins: furrymcgee (~devuan@31.179.186.66)
[11:43:34] *** Quits: furrymcgee (~devuan@31.179.186.66) (Quit: Reconnecting)
[11:43:42] *** Joins: furrymcgee (~devuan@31.179.186.66)
[11:46:03] *** Joins: igor-cgn (~igor@2a0a-a546-60f-0-141f-5145-de6c-7aaf.ipv6dyn.netcologne.de)
[12:14:03] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[12:35:44] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[12:49:01] *** Joins: Blacker47 (~Blacker47@user/blacker47)
[12:50:18] *** Joins: kurosu (uid342582@id-342582.stonehaven.irccloud.com)
[13:08:10] *** Quits: LuKaRo_ (~LuKaRo@p57b15425.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[13:11:06] *** Joins: LuKaRo (~LuKaRo@p4fc334cf.dip0.t-ipconnect.de)
[13:16:28] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Ping timeout: 244 seconds)
[13:18:14] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[13:31:36] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Remote host closed the connection)
[13:31:59] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[13:35:11] *** Joins: keypusher (keypusher@user/keypusher)
[13:40:22] *** Joins: igor-cologne (~igor@xdsl-89-0-225-25.nc.de)
[13:43:22] *** Quits: igor-cgn (~igor@2a0a-a546-60f-0-141f-5145-de6c-7aaf.ipv6dyn.netcologne.de) (Ping timeout: 245 seconds)
[13:43:26] *** Quits: der_richter (~Akemi@p4fde4e3e.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[13:43:40] *** Joins: der_richter (~Akemi@p4fde4e3e.dip0.t-ipconnect.de)
[13:44:15] *** Joins: xa_ (~NesLs@176.54.204.222)
[13:51:26] *** Quits: xa_ (~NesLs@176.54.204.222) (Quit: Leaving)
[13:51:58] *** Joins: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de)
[14:01:03] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Ping timeout: 276 seconds)
[14:07:59] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[14:16:10] *** Quits: mateo` (~mateo@ffmpeg/developer/mateo) (Ping timeout: 240 seconds)
[14:22:51] *** Joins: linjie_ (~linjie@58.247.209.118)
[14:27:10] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 240 seconds)
[14:29:58] *** Joins: mateo` (~mateo@ffmpeg/developer/mateo)
[15:32:37] *** Quits: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de) (Ping timeout: 245 seconds)
[15:39:03] *** Joins: suvir (~suvir@27.6.205.192)
[15:40:23] <suvir> Hi, I am using ffmpeg.js but this question seems more generic, so i thought to ask here.         ffmpegArguments.push("-framerate", (1.0/frameTime).toFixed(0), "-pattern_type", "glob", "-i", "*.jpg", "-c:v");
[15:41:47] <suvir> I am trying to understand pattern_type glob...so i want to know in what order files are consumed in the above code.
[15:46:28] <suvir> I came here after reading this https://unix.stackexchange.com/questions/77016/ffmpeg-pattern-type-glob-not-loading-files-in-correct-order . So i am wondering if it is still true?
[15:53:16] *** Joins: jokoon (~eio@2a01:e0a:542:e160:c0cc:c5be:7650:abff)
[15:53:18] <jokoon> hello
[15:53:34] <jokoon> what does drop=x when ffmpeg is encoding?
[15:54:26] <jokoon> command sample: [102]scale=480:270:force_original_aspect_ratio=decrease,pad=480:270:(ow-iw)/2:(oh-ih)/2, setsar=1[rsclbf102];[rsclbf102]fps=24[rscl102];[103]scale=480:270:force_original_aspect_ratio=decrease,pad=480:270:(ow-iw)/2:(oh-ih)/2, setsar=1[rsclbf103];[rsclbf103]fps=24[rscl103];
[15:54:52] <suvir> jokoon https://ffmpeg.org/ffmpeg.html , ""drop
[15:54:53] <suvir> As passthrough but destroys all timestamps, making the muxer generate fresh timestamps based on frame-rate.
[15:55:41] <jokoon> so are some frames lost?
[15:56:53] <jokoon> I don't remember how ffmpeg changes the framerate...
[15:57:01] <jokoon> I guess it's one form of interpolation?
[15:58:17] <suvir> I am also new here jokoon
[15:59:31] <suvir> If i take a look at doc, ffmpeg -f image2 -pattern_type glob -framerate 12 -i 'foo-*.jpeg' -s WxH foo.avi
[15:59:31] <suvir> ...I am wondering if the above command ensures the correct order for 'foo-*.jpeg'?
[16:03:20] <suvir> For files in order...foo-0001, foo-0002, foo-0003....foo-0999, foo-1000?
[16:06:27] *** Quits: darkapex_ (~darkapex@user/darkapex) (Ping timeout: 244 seconds)
[16:13:44] *** Joins: darkapex (~darkapex@user/darkapex)
[16:14:24] *** Joins: minimal (~minimal@user/minimal)
[16:21:00] <jokoon> isn't it better to use something else than h264 for a small video resolution?
[16:21:15] <jokoon> something like 640*480 ?
[16:21:19] <jokoon> or even smaller?
[16:21:46] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 252 seconds)
[16:23:54] <jokoon> for a smaller file size
[16:25:09] <jokoon> ah damn I have some errors : [wmav2 @ 000001f6dca8a240] overflow (2179 > 1864) in spectral RLE, ignoring
[16:30:12] <jokoon> I used this in my command line
[16:30:12] <jokoon> -map 105:v -map [all_aud]
[16:30:21] <jokoon> does that mean the video stream is copied?
[16:33:00] *** Quits: suvir (~suvir@27.6.205.192) (Quit: Connection closed)
[16:34:59] <jokoon> seems I should add -c:v copy
[16:40:32] <sfan5> -map is for selecting streams only, -c controls what happens to the codecs
[16:41:05] <jokoon> mmmh
[16:42:17] *** Joins: theracermaster3 (~theracerm@52.79.209.35.bc.googleusercontent.com)
[16:42:18] <jokoon> I have a video stream made with xstack, so I need to mix the audio, but I don't want ffmpeg to re-encode... it seems the job is taking a long time, so I suspect it's not copying the video
[16:42:21] *** Quits: theracermaster (~theracerm@52.79.209.35.bc.googleusercontent.com) (Read error: Connection reset by peer)
[16:42:21] *** theracermaster3 is now known as theracermaster
[16:42:38] <jokoon> the video stream is already encoded
[16:46:00] *** Joins: darkapex_ (~darkapex@user/darkapex)
[16:48:47] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 245 seconds)
[16:58:54] *** Joins: suvir (~suvir@27.6.205.192)
[17:28:40] *** Quits: Bombo (atom@user/bombo) (Ping timeout: 240 seconds)
[17:29:35] *** Joins: Bombo (atom@p4ff006c0.dip0.t-ipconnect.de)
[17:29:35] *** Quits: Bombo (atom@p4ff006c0.dip0.t-ipconnect.de) (Changing host)
[17:29:35] *** Joins: Bombo (atom@user/bombo)
[17:47:30] *** Quits: tmatth (sid143283@videolan/developer/tmatth) ()
[17:47:45] *** Joins: tmatth (sid143283@videolan/developer/tmatth)
[17:49:17] *** Joins: inori39 (~inori39@n11212042099.netvigator.com)
[17:55:27] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Quit: Ping timeout (120 seconds))
[17:56:15] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[17:56:26] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[18:05:00] *** hombre_ is now known as coinbird
[18:09:58] <jokoon> sfan5, should I use -map before -c ?
[18:10:10] *** Joins: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com)
[18:10:52] <sfan5> I don't know if it's required but it makes sense to put it before -c, yes
[18:11:04] <jokoon> thanks
[18:11:14] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[18:16:09] *** Quits: suvir (~suvir@27.6.205.192) (Quit: Connection closed)
[18:17:44] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[18:24:22] *** Joins: linjie_ (~linjie@58.247.209.118)
[18:25:19] *** Quits: linjie_ (~linjie@58.247.209.118) (Remote host closed the connection)
[18:26:34] *** Joins: linjie_ (~linjie@58.247.209.118)
[18:29:48] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[18:31:08] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 256 seconds)
[18:35:14] *** Quits: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com) (Read error: Connection reset by peer)
[18:35:15] *** Joins: LeoNice81 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com)
[18:38:20] *** Quits: inori39 (~inori39@n11212042099.netvigator.com) (Remote host closed the connection)
[18:38:38] *** Joins: inori39 (~inori39@156.146.44.229)
[18:44:42] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 245 seconds)
[18:46:27] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[18:48:19] *** Joins: suvir (~suvir@27.6.205.192)
[18:50:34] *** Quits: suvir (~suvir@27.6.205.192) (Client Quit)
[18:54:59] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Quit: WeeChat 3.2)
[18:55:41] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Quit: Konversation terminated!)
[18:58:09] <nrg> I have a less-than-optimal-quality DVD that's interlaced in a flaky way. To restore a bit of quality, I want to deinterlace with one frame per field, doubling the FPS to 50. Then I want to blend/average every two frames back together, to 25 FPS. My current approach, which does indeed look nicer than simply dropping every other frame, is: -vf nnedi=blah,tblend=all_mode=average -r 25. Is this a good
[18:58:11] <nrg> approach, though? Or is there a better way?
[18:58:49] <AMM> define "flaky way"
[18:59:03] <AMM> It's possibly telecined instead of just plain interlaced
[18:59:53] *** Joins: linjie_ (~linjie@58.247.209.118)
[18:59:54] *** Quits: TheSashmo (~TheSashmo@158.106.77.7) (Quit: Leaving...)
[19:00:08] <AMM> I don't know about such things beyond that though, too much to worry about already and I'd rather not have ghoulish design choices from the past haunt me
[19:03:34] <nrg> It's a PAL DVD, so 4% faster than it should be, but that's fine by me. The problem really is that it's interlaced when it doesn't need to be. But the master seems to be some higher quality analogue tape. There's this dot pattern on reddish colors. And around 11 minutes before the end, there's some mishap and it's suddenly visibly interlaced. I sort of fixed that with deinterlacing, starting with
[19:03:36] <nrg> the bottom field first.
[19:03:43] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[19:05:13] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 244 seconds)
[19:05:14] <nrg> It's a DVD of a rare flick that I had to import used  from Spain because of the rareness. The DVD is already cracked a bit, so I'm glad I was able to dvdbackup it in the first place. ;-)
[19:06:35] <nrg> Telecine is not used on PAL, is it? I thought this was only on NTSC to fit ~24 fps in ~30?
[19:07:13] <homura> ffmpeg sucks
[19:09:06] <kepstin> ah, if this is a pal thing it's possible that instead of speeding up the video, the did an interlaced framerate conversion
[19:09:26] <kepstin> depending how they did that it's sometimes not reversable (can have blended fields)
[19:10:00] <furq> you can do a 2:2:2:2:2:2:2:2:2:2:2:3 for film to pal
[19:10:11] <furq> nobody does though because that's way too many numbers
[19:11:02] <nrg> Stream #0:0[0x1011]: Video: mpeg2video (Main) ([2][0][0][0] / 0x0002), yuv420p(tv, top first), 720x576 [SAR 16:15 DAR 4:3], 25 fps, 25 tbr, 90k tbn, 50 tbc
[19:11:05] <nrg> If that helps?
[19:11:05] <furq> it is fairly common to have hybrid interlaced/progressive content though
[19:11:10] <kepstin> if the original was ntsc video, tho (60i) then, well, you need to drop fields to convert it to pad :/
[19:11:14] <furq> yeah you already said it's a dvd
[19:11:29] <kepstin> to pal*
[19:12:29] <furq> if the interlacing suddenly appears on a scene change then maybe it was partially shot on film and partially on video
[19:12:52] <furq> that's not very common for films but maybe they ran out of money
[19:14:22] *** Joins: TheSashmo (~TheSashmo@158.106.77.7)
[19:14:46] <nrg> Hm, judging by the look, I'd say something went wrong when reading the DVD or merging the VOBs.
[19:17:13] *** Quits: nillyhan (~00000000@user/nillyhan) (Ping timeout: 252 seconds)
[19:19:28] <nrg> But, also in general, is there a better way to merge every two frames to one and reduce the framerate by half at the same time?
[19:25:16] <nrg> Than tblend and -r, that is.
[19:26:19] <furq> generally you would just drop every other frame rather than merging them
[19:27:11] <nrg> But the merging reduces noise and artifacts.
[19:28:09] <furq> the framerate filter will blend and change fps in one step but idk if it gives better results
[19:28:29] <furq> maybe look at minterpolate as well
[19:29:49] *** Parts: homura (root@user/homura) ()
[19:30:33] <nrg> I used framerate before and seemingly it just dropped frames. The noise is still visible. And minterpolate uses motion interpolation and is mainly for increasing the framerate, is it?
[19:31:30] <nrg> Hm, I'll think I'll extract some test scene and make a few conversions based on that.
[19:35:23] <nrg> Thanks, by the way! :-)
[19:38:40] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 252 seconds)
[19:42:43] *** Quits: Keshl (~Purple@user/Keshl) (Read error: Connection reset by peer)
[19:42:49] *** Joins: Keshl_ (~Purple@user/Keshl)
[19:42:57] *** Joins: linjie_ (~linjie@58.247.209.118)
[19:43:08] *** Quits: linjie_ (~linjie@58.247.209.118) (Client Quit)
[19:44:17] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[19:45:04] *** Keshl_ is now known as Keshl
[19:46:23] *** Joins: cosimone (~user@93-47-230-75.ip115.fastwebnet.it)
[19:47:21] <jokoon> powershell has a limit on command line length, how would you solve this problem?
[19:47:44] <jokoon> I guess the input files can be put in a text file instead?
[19:55:12] <Atsuko> stort parts of the command as variables?
[19:55:21] <Atsuko> also more of a #powershell question :p
[19:56:34] <jokoon> Atsuko, I think I remember it's possible to write the inputs path in a text file and give it to ffmpeg
[19:56:49] <jokoon> hope this work with filter-complex
[19:57:10] <furq> if it's just a long filter then -filter_complex_script
[20:01:50] <jokoon> damn it, I did a xstack job with video files with faulty sound, which was quite long
[20:02:38] <jokoon> I fix the files with faulty sound, mix the audio, and it seems the audio track is shorter than the video track
[20:38:26] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[20:44:53] *** Quits: cmp59 (~cmp@lputeaux-658-1-177-87.w92-154.abo.wanadoo.fr) (Quit: Connection closed)
[20:47:02] <BtbN> Powershell does not have a limit, no. At least no realistic one
[20:47:10] <BtbN> cmd.exe does, 8k chars or something
[20:50:25] <jokoon> FileNotFoundError: [WinError 206] The filename or extension is too long
[20:52:43] <kepstin> filename length limits are a different thing from command line length limits
[20:53:08] <BtbN> Yeah, I think filename/path length limit is still 260 chars or something dumb
[20:54:03] <kepstin> iirc individual windows apps can opt-in to a longer path limit
[20:54:41] <jokoon> I don't have such filenames
[20:54:55] <jokoon> it's the length of the whole command
[20:55:03] <jokoon> Or I'm missing something
[20:55:58] <jokoon> oh, the path, maybe
[20:56:43] <jokoon> well no, the longest path is about 150 chars
[20:56:50] <jokoon> Ill fix this later
[20:57:46] <kepstin> yeah, it's the entire path that's counted on windows
[20:58:37] <furq> including cwd if it's a relative path
[21:02:49] *** Quits: cosimone (~user@93-47-230-75.ip115.fastwebnet.it) (Ping timeout: 252 seconds)
[21:09:32] *** Joins: MrZeus (~MrZeus@185.248.85.26)
[21:45:28] <jokoon> For info, I wrote a python script that take any amount of video clips from any format/DAR/SAR ratio/framerate, and make a 2x2 mosaic through xstack with those files. I just build 4 list with approx the same duration, launch the script and done
[21:45:40] <jokoon> I have another step to mix the audio
[21:45:53] <jokoon> Im not sure if anybody is interested in this...
[21:46:36] <jokoon> It's not very clean code, but it works and does the job.
[21:46:52] <jokoon> I'm still curious if there are other script or tools to do that...
[21:48:12] <jokoon> it also creates a letterbox when the aspect ratio are not 16:9
[21:48:31] <jokoon> (that was annoying to understand)
[21:51:28] <kepstin> heh, i've done something basically similar in ruby for the bigbluebutton recording system (except it dynamically mosaics all the provided videos, determining what grid size works best)
[21:51:44] <kepstin> i keep meaning to build an ffmpeg filter to do this, but haven't been able to work on it :(
[22:00:13] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Quit: The Lounge - https://thelounge.chat)
[22:10:49] <jokoon> The mix audio step is wrong again
[22:11:13] <jokoon> slightly out of sync
[22:12:51] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[22:15:14] <jokoon> Im really confused as to what I should do
[22:19:34] <jokoon> oh, got a "warning, data is not aligned...
[22:20:03] *** Quits: jansenh (~jansenh@202-130-238-185.connected.by.freedominter.net) (Quit: Sleeping with the fishes!)
[22:24:56] *** Quits: gnoo (~gnoo@user/gnoo) (Quit: gnoo)
[22:24:56] *** Joins: dreamon (~dreamon@pd95037d3.dip0.t-ipconnect.de)
[22:25:16] <jokoon> I wonder what is this "start_time" thing output by ffprobe
[22:27:36] *** Joins: koolazer (~koo@user/koolazer)
[22:36:15] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[22:36:17] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Remote host closed the connection)
[22:36:45] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[22:39:36] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[22:40:06] *** Quits: jschwart (~quassel@2001:985:2c6e:0:b00b:32ff:fe28:5567) (Read error: Connection reset by peer)
[22:46:16] *** Joins: jschwart (~quassel@julius.xs4all.nl)
[22:47:27] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[22:50:36] *** Quits: Fohsap (~Muimi@119.112.250.45) (Remote host closed the connection)
[22:50:48] *** Quits: JuggleTux (~tux@mob-194-230-146-23.cgn.sunrise.net) (Quit: WeeChat 1.6)
[22:53:03] *** Quits: jschwart (~quassel@julius.xs4all.nl) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[22:54:54] *** Joins: jschwart (~quassel@2001:985:2c6e:0:b00b:32ff:fe28:5567)
[23:10:00] *** Joins: zumba_addict (~zumba_add@2601:240:4500:8320:dde8:210d:8bb2:f9ad)
[23:10:11] *** Joins: Buster_ (~Buster@46.160.36.66)
[23:12:04] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 252 seconds)
[23:19:10] *** Quits: APic (apic@apic.name) (Ping timeout: 240 seconds)
[23:23:24] *** Quits: inori39 (~inori39@156.146.44.229) (Remote host closed the connection)
[23:24:16] *** Joins: igor-cgn (~igor@xdsl-89-0-225-25.nc.de)
[23:26:08] *** Quits: igor-cologne (~igor@xdsl-89-0-225-25.nc.de) (Ping timeout: 244 seconds)
[23:41:11] *** Joins: TanoMarcelo (~TanoMarce@179.63.242.111)
[23:55:12] *** Quits: jbg (sid494673@user/jbg) ()
[23:55:27] *** Joins: jbg (sid494673@user/jbg)
