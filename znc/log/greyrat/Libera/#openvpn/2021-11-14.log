[00:10:14] *** Joins: tds (~tds@lounge.timstallard.me.uk)
[00:26:26] *** Joins: shokohsc867 (~shokohsc@38.248.23.93.rev.sfr.net)
[00:27:23] *** Quits: shokohsc86 (~shokohsc@174.197.23.93.rev.sfr.net) (Ping timeout: 264 seconds)
[00:27:23] *** shokohsc867 is now known as shokohsc86
[02:05:47] *** Joins: clarkk (~clarkk@host81-159-136-27.range81-159.btcentralplus.com)
[02:37:52] *** Quits: clarkk (~clarkk@host81-159-136-27.range81-159.btcentralplus.com) (Quit: Leaving)
[03:00:06] *** Quits: xx (~xx@user/xx) (Ping timeout: 245 seconds)
[03:20:40] *** Joins: clarkk (~clarkk@host81-159-136-27.range81-159.btcentralplus.com)
[04:41:07] *** Joins: xx (~xx@user/xx)
[04:46:44] *** Joins: moffa (~quassel@2607:fea8:a340:a61:329c:23ff:fe45:6567)
[04:49:29] <moffa> With easyrsa3, how do you use / what's teh difference between build-client-full + build-server-full and build-serverClient-full?
[04:52:00] <xx> no idea, I just use build-ca build-server-full build-client-full
[04:52:05] <xx> seems to work
[04:52:57] <xx> build-ca = to generate the main thing that signs everything else. build-server-full, to generate the stuff for openvpn server. build-client-full, to generate the things for each openvpn client.
[04:53:36] <moffa> Thanks, that's what I use. I was running easy and saw that new option and was wondering what is was about
[04:54:30] <moffa> I'll use that as it's current. I haven't ran it for a couple of years and I'm getting some warnings about deprecated ciphers, so I figured I'd regenerate them
[04:55:16] <xx> that doesn't sound like a warning due to easy-rsa
[04:55:23] <xx> but more like a warning from server/client config files
[04:57:05] *** Quits: clarkk (~clarkk@host81-159-136-27.range81-159.btcentralplus.com) (Quit: Leaving)
[05:06:56] <moffa> Oh yeah....
[05:07:15] *** Joins: clarkk (~clarkk@host81-159-136-27.range81-159.btcentralplus.com)
[05:24:47] *** Quits: clarkk (~clarkk@host81-159-136-27.range81-159.btcentralplus.com) (Quit: Leaving)
[05:31:35] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:38:30] *** Joins: jessequinn (~jessequin@2804:30c:b28:8600:d9dc:a13d:fd87:4756)
[05:41:02] <jessequinn> Hi i am also sure the problem i am having is why my firewall. however, i cannot figure out why. I have openvpn installed and i want my clients to be able to access the virbr0 (libvrt) bridge interface where i have my vms. I can ping the gateway ip but i cannot ping any VM ip. I added the POSTROUTING rule and add push route ip mask to openvpn, so i am out of ideas. Does anyone have a clue what could be wrong? Woul
[05:41:02] <jessequinn> d docker ipables rules be a problem?
[05:41:14] <jessequinn> the problem i am having*
[05:49:35] *** Quits: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[06:44:32] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Quit: Ex-Chat)
[06:45:32] *** Joins: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de)
[07:01:46] *** Quits: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de) (Ping timeout: 260 seconds)
[07:39:34] *** Quits: xx (~xx@user/xx) (Ping timeout: 260 seconds)
[08:37:51] *** Quits: DArqueBishop (~drkbish@athena.darquecathedral.org) (Quit: End of line.)
[08:38:27] *** Joins: DArqueBishop (~drkbish@athena.darquecathedral.org)
[08:58:00] *** Joins: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de)
[09:15:17] *** Quits: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[09:24:41] *** Quits: realies (~realies@user/realies) (Ping timeout: 245 seconds)
[09:24:50] *** Joins: realies4 (~realies@user/realies)
[09:25:40] *** Joins: nerozero (~nerozero@87.253.63.54)
[09:54:39] *** Joins: realies (~realies@user/realies)
[09:55:39] *** Quits: realies4 (~realies@user/realies) (Ping timeout: 268 seconds)
[09:59:12] *** Quits: realies (~realies@user/realies) (Client Quit)
[10:00:46] *** Joins: realies (~realies@user/realies)
[10:12:09] *** Joins: realies0 (~realies@user/realies)
[10:12:36] *** Quits: realies (~realies@user/realies) (Ping timeout: 245 seconds)
[10:12:36] *** realies0 is now known as realies
[10:20:11] *** Quits: realies (~realies@user/realies) (Ping timeout: 264 seconds)
[10:21:23] *** Joins: realies (~realies@user/realies)
[10:31:38] *** Quits: realies (~realies@user/realies) (Quit: Ping timeout (120 seconds))
[10:32:07] *** Joins: realies (~realies@user/realies)
[10:33:57] *** Quits: Nitrousoxide (~msdos@user/nitrousoxide) (Remote host closed the connection)
[10:35:14] *** Joins: Nitrousoxide (~msdos@user/nitrousoxide)
[10:46:08] *** Quits: Nitrousoxide (~msdos@user/nitrousoxide) (Quit: No Ping reply in 180 seconds.)
[10:47:23] *** Joins: Nitrousoxide (~msdos@user/nitrousoxide)
[11:13:14] *** Quits: realies (~realies@user/realies) (Quit: Ping timeout (120 seconds))
[11:13:42] *** Joins: realies (~realies@user/realies)
[11:44:47] *** Quits: realies (~realies@user/realies) (Ping timeout: 264 seconds)
[11:45:51] *** Joins: realies (~realies@user/realies)
[11:52:48] *** Joins: realies1 (~realies@user/realies)
[11:53:26] *** Quits: realies (~realies@user/realies) (Ping timeout: 260 seconds)
[11:53:26] *** realies1 is now known as realies
[12:11:26] *** Joins: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de)
[12:26:47] *** Quits: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de) (Ping timeout: 264 seconds)
[12:37:02] *** Quits: ender (~ender1@2a01:260:4094:1:6045:6fff:fedd:cbf3) (Quit: Allow me to make this perfectly clear: if you interrupt my research again, you will be the next test subject. — A Practical Guide to Evil)
[12:37:59] *** Joins: ender (~ender1@2a01:260:4094:1:6045:6fff:fedd:cbf3)
[13:19:43] <ordex> jessequinn: is your VPN server the GW for all VMs behind virbr0?
[13:19:56] <ordex> *default GW
[13:20:35] <jessequinn> if i understand this correctly, as networking is not my thing, yes
[13:20:48] <jessequinn> VPN server is held on the same machine as the virbr0
[13:21:09] <ordex> ok
[13:21:26] <jessequinn> tcpdump - 06:48:49.444452 IP 10.8.0.2.50553 > 192.168.122.28.22: Flags [SEW], seq 734905863, win 65535, options [mss 1360,nop,wscale 6,nop,nop,TS val 3958581044 ecr 0,sackOK,eol], length 0 
[13:21:29] <ordex> you should just need to push the proper route to your VPN clients and make sure forwarding is enabled on the server then
[13:21:40] <jessequinn> i have ip forwarding on server = 1
[13:21:50] <jessequinn> VPN client has the following route aslready
[13:21:53] <ordex> ok
[13:22:02] <ordex> jessequinn: on what interface did you run tcpdump ?
[13:22:04] <jessequinn> 192.168.122        10.8.0.1           UGSc            utun3        
[13:22:21] <jessequinn> tcpdump -n -i tun0 dst 192.168.122.28 src 10.8.0.2
[13:22:25] <ordex> ok
[13:22:29] <jessequinn> dst is the vm 
[13:22:29] <ordex> how about running it on virbr0 ?
[13:22:35] <ordex> uhm
[13:22:39] <ordex> yeah
[13:22:42] <ordex> how about running it on virbr0 ?
[13:22:43] <jessequinn> sure
[13:22:50] <ordex> and remove that filtering
[13:22:57] <ordex> otherwise you won't see traffic on the way back
[13:23:02] <ordex> maybe use just "host 10.8.0.2"
[13:23:30] <jessequinn> tcpdump -n -i virbr0
[13:23:47] <jessequinn> returned nothing when i try to ssh into 192.168.122.28 from client
[13:23:58] <ordex> ok, this means packets are not being forwarded
[13:24:11] <ordex> what's output of iptables -nvL ? (use pastebin)
[13:24:26] <jessequinn> woudl iptables-save be better?
[13:24:31] <jessequinn> to give a larger picture
[13:24:43] <ordex> you can do both
[13:25:22] <jessequinn> https://pastebin.com/kEHpZfM0
[13:25:28] <jessequinn> that is your request command
[13:26:09] <jessequinn> requested*
[13:26:48] <jessequinn> the forward rules look correct to me or atleast make sense
[13:28:01] <ordex> well, am I wrong or you're blocking any traffic going to virbr0 coming from outside?
[13:28:04] <ordex> or maybe I am reading this wrong
[13:28:49] <jessequinn> https://pastebin.com/7uEkRcuX - iptables-save
[13:29:10] *** Quits: Nitrousoxide (~msdos@user/nitrousoxide) (Ping timeout: 256 seconds)
[13:29:11] <jessequinn> from what i understand, it is blocking ping
[13:29:27] <ordex> uhm
[13:29:30] <ordex> why do you think so?
[13:29:42] <jessequinn> sorry your right
[13:29:42] <ordex> just as a test you could run: iptables -I FORWARD -s 10.8.0.0/24 -d 192.168.122.0/24 -j ACCEPT
[13:29:49] <jessequinn> it isnt blocking ping
[13:30:14] <jessequinn> yup that did it
[13:30:27] <jessequinn> i was attacking postrouting not considering forwarding
[13:30:39] <ordex> postrouting is helpful if you're doing NAT
[13:30:50] <ordex> but in this case you just had to make sure FORWARDing is working
[13:30:58] <ordex> note that with this rule, any incoming traffic from the VPN is allowed
[13:31:48] *** Joins: Nitrousoxide (~msdos@user/nitrousoxide)
[13:32:18] <jessequinn> well i can tighten that up
[13:32:30] <jessequinn> but all i needed was the forward that i never considered
[13:32:32] <jessequinn> thanks a lot man
[13:32:37] <ordex> yup
[13:32:39] <ordex> np!
[13:32:41] <jessequinn> i was almost going to quit this little project
[13:32:51] <ordex> :D
[13:32:55] <ordex> never give up!
[13:33:04] <jessequinn> as the topic said.. always FIREWALL lol
[13:33:14] <ordex> :D
[14:02:34] *** Quits: ender (~ender1@2a01:260:4094:1:6045:6fff:fedd:cbf3) (Quit: The only real difference between childhood and adulthood is whether the people telling you your ideas are bad are your parents or your lawyers. — MalwareTechBlog)
[14:19:54] *** Joins: ender (~ender1@2a01:260:4094:1:6045:6fff:fedd:cbf3)
[14:32:11] *** Joins: trace987 (~trace@91.66.153.65)
[14:33:00] *** Quits: csrf (~csrf@user/csrf) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[14:33:46] *** Joins: csrf (~csrf@user/csrf)
[16:44:47] *** Quits: jonthesnow (~xizhendu@240e:305:7380:4300:22a3:ecb5:b567:7739) (Ping timeout: 264 seconds)
[17:04:53] *** Quits: moldorcoder7_ (~moldorcod@37.120.143.29) (Ping timeout: 264 seconds)
[17:10:57] *** Joins: moldorcoder7 (~moldorcod@37.120.143.29)
[17:41:12] *** Joins: xx (~xx@user/xx)
[19:49:30] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 268 seconds)
[20:14:10] *** Quits: trace987 (~trace@91.66.153.65) (Ping timeout: 268 seconds)
[20:14:54] *** Joins: pa (~pah@user/pah)
[20:14:57] <pa> hi
[20:15:23] <pa> is it possible to assign static ip to clients based on the user used to authenticate, and not on the certificate?
[20:18:50] *** Quits: jessequinn (~jessequin@2804:30c:b28:8600:d9dc:a13d:fd87:4756) (Quit: Leaving...)
[20:18:57] <BtbN> username-as-common-name
[20:21:21] *** Joins: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de)
[20:28:50] <pa> BtbN: thanks! and after, how do i make the common name - ip association?
[20:29:41] <BtbN> client-config dir as usual, like you'd do with certs
[20:29:45] <BtbN> except the username is now the common name
[20:33:37] *** Quits: pa (~pah@user/pah) (Ping timeout: 265 seconds)
[20:35:21] *** Joins: pah (~pah@user/pah)
[20:57:27] *** pah is now known as pa
[20:57:35] <pa> BtbN: worked, thank you :-)
[21:13:44] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[21:27:36] *** Quits: pa (~pah@user/pah) (Ping timeout: 245 seconds)
[21:31:15] *** Joins: pah (~pah@user/pah)
[21:46:03] *** Quits: pah (~pah@user/pah) (Ping timeout: 268 seconds)
[22:45:05] *** Quits: Haxxa (~Haxxa@89nnjg0xckz9ggn6r5xm.ip6.superloop.com) (Quit: Haxxa flies away.)
[22:47:30] *** Joins: Haxxa (~Haxxa@89nnjg0xckz9ggn6r5xm.ip6.superloop.com)
[23:32:54] *** Quits: wolfshappen (~waff@irc.furworks.de) (Quit: later)
[23:41:35] *** Joins: wolfshappen (~waff@irc.furworks.de)
[23:41:56] *** Joins: shibboleth (~shibbolet@user/shibboleth)
