[00:04:27] *** Quits: wolfshappen (~waff@irc.furworks.de) (Read error: Connection reset by peer)
[00:05:48] *** Quits: j0hn_mc_clane (~j0hn_mc_c@ptr-fqhhm12iua58a0gd4hj.18120a2.ip6.access.telenet.be) (Ping timeout: 252 seconds)
[00:08:34] *** Quits: quhar (~quhar@staticline-31-182-243-137.toya.net.pl) (Ping timeout: 272 seconds)
[00:08:52] *** Quits: labrador (~labrador@user/labrador) (Quit: Leaving)
[00:10:28] *** Quits: senoraraton (~senorarat@148-64-109-17.PUBLIC.monkeybrains.net) (Ping timeout: 272 seconds)
[00:10:40] *** Quits: fourHZ (~fourHZ@92-52-40-121.dynamic.orange.sk) (Quit: Connection closed)
[00:12:46] *** Quits: TMan459 (~TMan459@068-113-229-180.res.spectrum.com) (Read error: Connection reset by peer)
[00:13:30] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Ping timeout: 252 seconds)
[00:13:43] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[00:13:50] *** Quits: sobkas (~sobkas@95.175.17.217) (Quit: sobkas)
[00:17:24] *** Quits: zostj (~rue@61-231-128-45.dynamic-ip.hinet.net) (Quit: WeeChat 3.4.1)
[00:18:35] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Remote host closed the connection)
[00:18:47] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[00:21:48] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[00:21:48] *** Quits: ggoes (~gregf@fsf/staff/ggoes) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[00:23:19] *** Joins: TMan459 (~TMan459@068-113-229-180.res.spectrum.com)
[00:23:24] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Ping timeout: 252 seconds)
[00:26:31] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 256 seconds)
[00:28:13] *** Quits: ignorand (~ignorand@186.179.192.110) (Ping timeout: 240 seconds)
[00:29:43] *** Joins: ggoes (~gregf@fsf/staff/ggoes)
[00:34:12] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 240 seconds)
[00:35:10] *** Quits: martinus__ (~martin@139.30.201.77.rev.sfr.net) (Ping timeout: 272 seconds)
[00:35:23] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[00:36:11] <mat001> oops
[00:37:15] *** Joins: lavaball (felix@31.204.155.215)
[00:37:54] *** Quits: mat001 (~mat001@89.45.90.100) (Quit: Leaving)
[00:38:51] *** Parts: pyzozord (pyzozord@user/pyzozord) ()
[00:40:20] *** Quits: phaise (~phaise@gateway/tor-sasl/phaise) (Remote host closed the connection)
[00:40:30] *** Joins: mat001 (~mat001@89.45.90.100)
[00:41:03] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[00:41:08] *** Joins: phaise (~phaise@gateway/tor-sasl/phaise)
[00:41:51] *** Quits: mat001 (~mat001@89.45.90.100) (Client Quit)
[00:42:07] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 260 seconds)
[00:42:24] *** Joins: mat001 (~mat001@89.45.90.100)
[00:42:41] *** Joins: ignorand (~ignorand@186.179.192.110)
[00:43:34] *** Quits: mat001 (~mat001@89.45.90.100) (Client Quit)
[00:43:47] *** Lord_of_Life_ is now known as Lord_of_Life
[00:44:02] *** Joins: mat001 (~mat001@89.45.90.100)
[00:46:56] *** Quits: magla (~gelignite@d536552c.access.ecotel.net) (Quit: Stay safe!)
[00:47:11] *** Joins: fspax (~fspax@46.148.141.211)
[00:47:48] *** Quits: mat001 (~mat001@89.45.90.100) (Client Quit)
[00:47:56] *** Quits: fspax (~fspax@46.148.141.211) (Client Quit)
[00:48:12] *** Joins: fspax (~fspax@46.148.141.211)
[00:49:12] *** Joins: mat001 (~mat001@89.45.90.100)
[00:50:05] *** Quits: mat001 (~mat001@89.45.90.100) (Client Quit)
[00:50:41] *** Joins: mat001 (~mat001@89.45.90.100)
[00:51:23] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[00:54:46] *** Joins: wolfshappen (~waff@irc.furworks.de)
[00:54:56] *** Quits: keypusher (keypusher@user/keypusher) (Read error: Connection reset by peer)
[00:55:15] *** Joins: keypusher (keypusher@user/keypusher)
[00:57:26] *** Joins: ignorand1 (~ignorand@fw.telesur.sr)
[00:57:55] *** Quits: zer0bitz_ (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi) (Ping timeout: 256 seconds)
[00:58:22] *** Quits: mat001 (~mat001@89.45.90.100) (Quit: Leaving)
[00:58:30] *** Joins: mat001 (~mat001@89.45.90.100)
[01:00:36] *** Quits: ignorand (~ignorand@186.179.192.110) (Ping timeout: 240 seconds)
[01:09:57] *** Quits: fspax (~fspax@46.148.141.211) (Quit: Leaving)
[01:10:31] *** Quits: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e) (Ping timeout: 250 seconds)
[01:11:25] *** Joins: mike18 (~geri@216.200.232.252)
[01:11:54] <mike18> hi how can i replace a variable in a file if variable already exists? echo "DATA_PROCESS_WINDOW=7" >> env-prod.sh
[01:12:36] <llua> heh
[01:13:27] <mike18> sed?
[01:13:32] <llua> edit the file with a text editor?
[01:13:40] <mike18> no with a bash command
[01:13:44] <lopid> ed
[01:13:51] <llua> a text editor
[01:13:53] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:14:04] <mike18> sed -i 's/DATA_PROCESS_WINDOW=.*/DATA_PROCESS_WINDOW=7/' env-prod.sh
[01:14:10] <mike18> something around that?
[01:14:26] <larryv> !sed-i
[01:14:27] <greybot> sed -i isn't portable; standard sed doesn't have it at all, GNU sed -i has an optional argument, and BSD sed -i has a mandatory argument. See !editing and <https://mywiki.wooledge.org/BashFAQ/021> for advice
[01:14:58] <mike18> if i do echo "DATA_PROCESS_WINDOW=7" >> env-prod.sh ... it would just append that variable
[01:15:10] <mike18> but the problem is if the varaible already exists
[01:15:19] <larryv> does env-prod.sh get sourced or something?
[01:15:58] <mike18> it will be read when the app in the docker container starts running
[01:18:02] <llua> text editor are a no go, but the stream editor is fine.
[01:18:41] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[01:18:48] *** Joins: quhar (~quhar@staticline-31-182-243-137.toya.net.pl)
[01:19:02] <twkm> hahahahaha.
[01:19:03] <mike18> what text editor?
[01:19:27] <larryv> "<lopid> ed"
[01:19:40] <twkm> sed the text stream editor vs ed the text file editor.
[01:20:08] <xD-> vim macro :P
[01:20:36] <twkm> vim likely isn't in a shitainer.
[01:20:48] <xD-> docker?
[01:21:44] <twkm> half a dozen lines earlier says yet a docker 'tainer.
[01:21:53] <twkm> errr, says yes.
[01:22:16] <xD-> docker cp /usr/bin/vim container:/usr/bin/vim
[01:22:23] <xD-> easy solutions
[01:23:26] <xD-> then docker commit :P
[01:24:51] <mike18> sed -i 's/DATA_PROCESS_WINDOW=.*/DATA_PROCESS_WINDOW=7/' env-prod.sh ... looks better than cp vim
[01:25:41] <twkm> put vim in the container?  hahahahaahha!
[01:25:47] *** Quits: blei (~blei@user/blei) (Quit: Client closed)
[01:25:51] <xD-> yes
[01:26:03] <xD-> then you can open bash there and fix it
[01:26:16] <xD-> or copy file after mod
[01:26:48] <twkm> ed's too small, must use vim!
[01:27:03] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[01:27:37] <Earnestly> I mean vi
[01:27:37] <xD-> haha
[01:27:39] <Earnestly> (ex)
[01:27:49] <xD-> yeah thats also fine
[01:28:30] <xD-> just read more manuals about docker
[01:28:39] <xD-> podman is using identical syntax so you can learn a lot
[01:29:22] <xD-> containers are good no shit :)
[01:29:23] <twkm> most won't have vi or .  nvi perhaps.
[01:29:40] <twkm> err, won't have vi or ex.
[01:29:46] <xD-> yeah i know
[01:29:56] <xD-> but you can also mount folders to the container
[01:29:58] <xD-> and edit locally
[01:31:39] <xD-> dont make it harder than it is
[01:32:52] *** Joins: Tangent-Man (~Tang3nt-M@92.40.178.106.threembb.co.uk)
[01:34:58] <xD-> or even map single files to local fs  : )
[01:35:39] <xD-> - /home/wiki/data/LocalSettings.php:/var/www/html/LocalSettings.php
[01:36:36] *** Quits: ignorand1 (~ignorand@fw.telesur.sr) (Ping timeout: 245 seconds)
[01:36:39] <twkm> sheesh, like the ed or sed or vim script would be significantly different.
[01:37:37] <xD-> lol
[01:38:26] <xD-> then you can use Kate/gedit too :P
[01:39:24] <larryv> ed -s env-prod.sh <<<$'g/^DATA_PROCESS_WINDOW=/d\ni\nDATA_PROCESS_WINDOW=7\n.\nw'
[01:39:27] *** Joins: ackyshake (~ackyshake@user/ackyshake)
[01:39:38] *** Quits: eotdsea^ (~eotdsea@96-91-136-49-static.hfc.comcastbusiness.net) (Remote host closed the connection)
[01:39:40] <twkm> i doubt mike wants anything even heavier.
[01:40:06] <llua> butterflies it is then
[01:42:58] *** Joins: sinaowolabi (~SinaOwola@160.152.94.96)
[01:44:21] *** Quits: quhar (~quhar@staticline-31-182-243-137.toya.net.pl) (Quit: WeeChat 3.4)
[01:47:20] *** Joins: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[01:47:55] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 260 seconds)
[01:48:44] *** Joins: spawnmc (~spawnmc@user/spawnmc)
[01:50:04] *** Quits: mike18 (~geri@216.200.232.252) (Read error: Connection reset by peer)
[01:51:12] <spawnmc> Hi! Question, if I wanted to write a script to ssh into a remote host, su - into a specific daemon service user and run a few commands. But running said commands for this service typically requires entering Login+Password credentials. How would I go about securely implementing this in bash if at all possible?
[01:51:12] *** Quits: se-sm-ca (~sean@user/se-sm-ca) (Quit: WeeChat 3.4)
[01:53:02] <twkm> you mean the ssh part?  #openssh should have suggestions.
[01:53:12] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[01:53:15] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[01:54:06] <spawnmc> I can give them a try
[01:54:31] <twkm> if you mean for the su part then i'd likely use something else like ksu, though odds are you don't have a domain.
[01:54:37] *** Quits: dreamon (~dreamon@p54b14978.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[01:54:43] <spawnmc> But also the login+password part
[01:55:03] <phy1729> don't and use pubkeys
[01:55:12] <spawnmc> it's not ssh credentials. these credentials are specific to the "app" I'm trying to interface with
[01:55:15] *** Joins: fling (~fling@user/fling)
[01:55:15] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Ping timeout: 240 seconds)
[01:57:05] <spawnmc> it requires manually entering a password and confirming 2FA on my phone
[01:57:07] <twkm> perhaps i'd use expect.
[01:57:21] <twkm> 2fa fucks the scripting.
[01:57:22] <spawnmc> a user+password
[01:57:50] <spawnmc> i mean as long as I can somehow manage to automatically input the credentials I should still get the 2fa prompt on my phone
[01:57:59] <phy1729> I'd suspect you can just drop a pubkey in the usual spot on the remote and it'd work documented or not
[01:58:06] <twkm> some would use certificates, though that's the same security issue as keys.
[01:58:10] <spawnmc> im trying to automate that part, i'm still gonna have to manually confirm it
[01:58:17] <spawnmc> not trying to*
[01:59:12] *** Joins: Dr-007 (~Dr-007@user/Dr-007)
[02:00:12] *** Quits: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e) (Ping timeout: 240 seconds)
[02:00:54] <Dr-007> hey guys, ive got this find command: https://dpaste.com/8TABQ35J6 but it displays my stuff in the wrong order
[02:01:40] <Dr-007> how would you go about this to fix it? in my bash script i loop trough that list. so perhabs fix it inthere?
[02:01:44] <phy1729> looks right, perhaps you want -n
[02:02:28] <Dr-007> this is my bash script by the way: https://dpaste.com/GMKPPYHS9
[02:02:52] <Dr-007> -n on sort or on find?
[02:02:58] <phy1729> sort
[02:03:40] <Dr-007> -n, --numeric-sort          compare according to string numerical value
[02:03:45] <Dr-007> yeah that doesnt work
[02:04:04] <Dr-007> i think i need to modify /dev/sda1 to /dev/sd01
[02:04:05] <phogg> I don't see a find command
[02:04:06] <Dr-007> then sort
[02:04:08] <phy1729> what are you doing with this list?
[02:04:10] *** Joins: karstensrage (~karstensr@nibbler.warped.com)
[02:04:20] <Dr-007>  https://dpaste.com/GMKPPYHS9
[02:04:33] <Dr-007> oh yeah
[02:04:33] <phogg> Dr-007: you probably meant to say find /dev -name 'sd*' -type f
[02:04:38] <phy1729> !check
[02:04:39] <checkbot> Dr-007: Line 10: Don't use ls | grep. Use a glob or a for loop with a condition to allow non-alphanumeric filenames. Line 28: Double quote to prevent globbing and word splitting. Line 15: label appears unused. Verify use (or export if used externally). See https://shellcheck.net/?id=cb16878 for all 8 issues.
[02:04:50] *** Quits: karstensrage (~karstensr@nibbler.warped.com) (Changing host)
[02:04:50] *** Joins: karstensrage (~karstensr@user/karstensrage)
[02:04:57] <Dr-007> in that paste i'm using devices=$(ls) the find command isnt inthere yet
[02:04:58] <phogg> ls | is bad, and for x in $(ls) is worse
[02:05:35] *** Joins: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[02:05:46] <phogg> Dr-007: while IFS= read -r dev; do :; done < <(find /dev -name 'sd*' -type b) # something more like this, probably
[02:06:34] <Dr-007> yeah i'm really bad at bash scripts
[02:06:43] <twkm> ewww/
[02:06:52] <Dr-007> ive been at it for super long to get the stuff feeded to zenity
[02:07:00] <phogg> Dr-007: what are you intending to achieve with str=$(echo $str | xargs)
[02:07:18] <Dr-007> and when that finally worked i'm "upset" with the wrong order list, so fine tuning
[02:07:27] <Dr-007> but ill be using shellcheck.net, nice
[02:07:43] <phogg> !umq
[02:07:44] <greybot> "$Use" "$More" "$Quotes" # see also !wordsplitting and !quotewhen
[02:07:47] <Dr-007> phogg: i read online xargs trims whitespaces
[02:07:59] <Dr-007> which it did
[02:08:06] <phogg> Dr-007: that's something you can get out of it, but that's not at all what it does
[02:08:11] <Dr-007> i know
[02:08:19] <Dr-007> well, i know you can get more stuff
[02:08:23] <Dr-007> but i dont know what
[02:08:23] <Dr-007> hehe
[02:08:29] <Dr-007> anyways, ill have a go at your last example
[02:08:33] <Dr-007> find /dev -name 'sd*' -type f did not work
[02:08:42] <Dr-007> but in your second one you said -type b
[02:09:12] <phogg> Dr-007: I typed -type f reflexively, but you are looking for block devices
[02:09:26] *** Joins: CodePoint (~CodePoint@107-208-128-79.lightspeed.tukrga.sbcglobal.net)
[02:09:33] <phogg> so -type b is correct (unless they're actually symlinks on your system, which is possible)
[02:09:54] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[02:10:22] <twkm> why find?
[02:10:34] <Dr-007> https://dpaste.com/A8BC3KERA
[02:10:43] <twkm> for dev in /dev/sd*; do ...
[02:10:51] <Dr-007> the order is not right
[02:10:56] <Dr-007> will the for loop fix that?
[02:11:57] <twkm> no, why is order important?
[02:12:14] <Dr-007> because its a partition list
[02:12:17] <phogg> what order were you expecting?
[02:12:19] <twkm> and?
[02:12:21] <Dr-007> it needs to be in sector order
[02:12:36] <twkm> why?
[02:12:55] <Dr-007> yeah, why not randomize it instead
[02:12:58] <twkm> fyi, sd* isn't necessarily in sector order.
[02:13:07] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Ping timeout: 250 seconds)
[02:13:37] <Earnestly> Dr-007: If your code is oblivious to order it makes it more robust as order is no longer a consideration, this is a good thing
[02:13:38] <twkm> you can construct a table that have unexpected ordering.
[02:13:38] <Dr-007> no but fdisk will say / complain that your sda2 is on sector 50000 while sda3 is on 3500
[02:13:46] <twkm> so?
[02:14:06] <Dr-007> doesnt matter
[02:14:07] <koollman> Dr-007: what are you going to do with that list ?
[02:14:13] <Earnestly> Hm
[02:14:16] <Dr-007> i need it to be sorted
[02:14:19] <Earnestly> I'm trying to think where order matters
[02:14:25] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 256 seconds)
[02:15:43] <larryv> presumably the sorting is for presentation
[02:15:48] <twkm> then use nullglob and growing globs, e.g., for dev in sd? sd?? sd??? sd???? sd?????; do ...
[02:16:16] <Earnestly> Hm, I always end up with having to check the device based itself, so while order could help it would be obviated
[02:16:16] <twkm> likely you only need sd? and sd??.
[02:16:27] <Earnestly> and ???
[02:16:32] <Earnestly> sda10
[02:16:35] <phogg> nobody needs that many partitions
[02:16:51] <phogg> if you have a 2-digit partition number you need to re-think your life
[02:16:57] <twkm> apparently Dr-007 does, per hir paste.
[02:17:07] <Dr-007> ive got 14
[02:17:07] <Earnestly> phogg: I've seen sdaa
[02:17:26] <phogg> Earnestly: I knew that was possible but I've never had that many connectors in a single system
[02:17:27] <koollman> Earnestly: yeah, but that's the number of devices. Why would you slice them so much, though :)
[02:17:30] * Earnestly .oO(I wonder if Dr-007 knows what happens when sdz is reached)
[02:17:33] *** Joins: jgrossholtz_ (~Julien@249.164.25.93.rev.sfr.net)
[02:17:51] <koollman> sort the output numerically, or use a tool that knows about partition and their ordering and give it in the 'right' order, maybe
[02:17:51] <twkm> likely nobody has sdazzzzz so my globs along with nullglob should suffice.
[02:17:54] <Earnestly> phogg: sas daisy doesn't need n connectors for n devices
[02:17:57] <koollman> or explain why would order matter
[02:18:04] <phogg> Earnestly: ah, that's true
[02:18:05] <Dr-007> win 10, 11, ubuntu, debian, opensuse and 2 are empty
[02:18:16] <Dr-007> and 1 big one for work stuff
[02:18:23] *** Quits: marderIII (~MarderIII@86-88-74-111.fixed.kpn.net) (Ping timeout: 256 seconds)
[02:18:28] <koollman> I wonder if : awk '($4 ~ /^sd.*[0-9]/){print $4}' /proc/partitions , might work. or just using lsblk, of course :)
[02:18:30] <Dr-007> and the script im building is a zenity display window
[02:18:34] <Dr-007> where all partitions are shown
[02:18:47] <Dr-007> where it copies a usb backup into an empty partition
[02:19:06] <Dr-007> and thats why it needs to be in order
[02:19:14] <Dr-007> it wierd if you go from sda1 to sda10
[02:19:25] <Dr-007> run the script and youll see your partitions
[02:19:30] <phogg> koollman: I believe you are *supposed to* mine the info out of /sys/block. Parsing the output of lsblock is a bit easier most of the time.
[02:19:52] <Earnestly> Dr-007: But surely you're using UUIDs and not just depending on kernel device block naming which itself is random (really race condition)
[02:19:58] <twkm> shitty scripting skills but this will write to the selected partition ...
[02:20:10] <koollman> phogg: well,  /proc/partition is even easier, truely. but I can't quite test with 10 or more partitions anyway, and won't want to have the need for it anyway :)
[02:20:16] <Dr-007> koollman for the win
[02:20:22] <Earnestly> Do you realise that the kernel assigns block names based on first-come-first-serve basis?
[02:20:36] <koollman> Earnestly: uuid are shitty for humans
[02:20:36] *** Joins: akoana (~ah@user/akoana)
[02:20:42] <twkm> (of course i don't have any partitions or at most 1 on most of my setups)
[02:20:46] <Dr-007> https://dpaste.com/D7X3S9C4U
[02:20:48] <koollman> but partitions can have labels and that is rather nice
[02:20:50] <Earnestly> koollman: That's why scripts abstract such detail
[02:21:09] <koollman> Dr-007: hey ... seems to work :)
[02:21:32] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.4.1)
[02:21:39] <Earnestly> proc(5) doesn't define the format which is annoying
[02:21:43] <koollman> Dr-007: you can even add conditions to only display partition larger than some amount (like the usb key size)
[02:21:55] *** Joins: mongy (~mongy@user/mongy)
[02:21:57] <phogg> koollman: for l in /sys/dev/block/*; do tgt=$(readlink -f "$l"); printf %s\\n "${tgt##*/}" # but now you need to do extra work to filter out the junk
[02:22:01] <Dr-007> yes, thanks. now ill mash it all up in the zenity script and try to take in account said warnings
[02:22:08] <twkm> and not mounted and ...
[02:22:15] <phogg> and you need readlink (or another way to get the target of the link)
[02:23:13] <Earnestly> lsblk does guarantee order though: lsblk -lno NAME
[02:23:31] <Earnestly> You can even reverse this and it'll show sda3 then sda, then sda2, then sda, etc.
[02:24:14] <Earnestly> (Obviously util-linux lsblk, not like POSIX has anything to say about this stuff anyway)
[02:24:32] <phogg> working out any kind of stable order with /sys is prohibitively irritating
[02:24:46] <twkm> posix doesn't say much about any of this.
[02:24:55] <koollman> but /proc/partitions is nicely ordered already ;)
[02:25:00] <phogg> it's *almost* really useful, then stops short at "at least it exists"
[02:25:06] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[02:25:12] <Earnestly> koollman: You have to assume so, hm
[02:25:36] <koollman> Earnestly: yep :)
[02:25:47] <Earnestly> Maybe you don't, there might be documentation
[02:25:49] <Earnestly> I look
[02:26:02] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:26:18] <xD-> yeah indeed
[02:27:10] <xD->   65       81 13672380416 sdv1
[02:27:18] <xD-> wondering what happens when i reach z
[02:27:43] <Earnestly> xD-: sda[a-z]
[02:27:47] <koollman> Dr-007: awk -v minsize_gb=4 '($4 ~ /^sd.*[0-9]/ && $3 >= (minsize_gb*1024*1024)){print $4}' /proc/partitions , if you want to have more fun with your interface (and you can obviously set minsize_gb to anything you want)
[02:28:06] <xD-> Earnestly: oh crazy :)
[02:28:17] *** Quits: Oleg (~Oleg@ool-45745511.dyn.optonline.net) (Ping timeout: 240 seconds)
[02:28:40] <twkm> Earnestly: ewww, caps!
[02:28:42] <koollman> largest storage machine I have at work has not reached sdaa yet
[02:29:02] <xD-> my pc couldnt fit more than 20 drives
[02:29:09] <xD-> so i am out of options
[02:29:24] <Earnestly> twkm: fair
[02:29:49] <Earnestly> xD-: servers use sas which can daisy chain drives
[02:29:50] <twkm> i.e., -o name should work.
[02:29:51] <Dr-007> koollman, thanks
[02:29:58] <Earnestly> twkm: yeah
[02:30:13] <Earnestly> koollman: No docs, was going to look at code, but gave up
[02:30:14] <twkm> some customers have hundreds of not-partitions.
[02:30:32] <xD-> Earnestly: yeah i know some supermicro offer 48+ hdds and all including sas backplane
[02:30:38] <Earnestly> xD-: (You could get a sas adapter and do that yourself)
[02:30:44] <Earnestly> Over pcie
[02:30:52] <xD-> Earnestly: i mean desktop tower cant fit more
[02:31:02] <Earnestly> Dangling ;o
[02:31:02] <xD-> Earnestly: 4U or so can
[02:31:14] <koollman> I guess I could add 2 hdd to my storage server to get them to 26 devices ... then add a usb drive :)
[02:31:22] <twkm> heh, desktop.
[02:31:28] <xD-> just to see the jump :)
[02:31:44] <Earnestly> Surely you can just tell the kernel to create a bunch
[02:31:53] <xD-> and nvme0 ...?
[02:31:56] <Earnestly> Of dummy block devices, mknod and such
[02:31:59] <koollman> Earnestly: well, yeah. but that would be cheating :)
[02:32:32] <koollman> https://dpaste.org/1Fjj
[02:32:47] <xD-> :P
[02:32:54] <xD-> koollman: big mess with diff sizes
[02:33:07] *** Quits: cart_ (~cart@cpc99926-brnt1-2-0-cust961.4-2.cable.virginm.net) (Ping timeout: 256 seconds)
[02:33:12] <koollman> I used -d to not show how much more messy it gets ;)
[02:33:22] <xD-> koollman: how do you show this?
[02:33:39] <Earnestly> lsblk -d
[02:33:42] <xD-> oh
[02:33:48] <xD-> koollman: or some bash echo
[02:33:59] <koollman> that was 'lsblk -d -o +MODEL'
[02:34:15] <xD-> oh nice
[02:34:17] <Earnestly> koollman: You can use +model, as twkm reminded me
[02:34:18] <xD-> have to write that down
[02:34:21] *** Joins: qub411 (~user@60-242-81-127.tpgi.com.au)
[02:35:05] *** Quits: qub411 (~user@60-242-81-127.tpgi.com.au) (Client Quit)
[02:35:28] <Dr-007> question: ive got this: label=$(blkid -o value -s LABEL $devpath)   to create a var with label. what would be a shorthand/oneliner solution to test if its empty and then show a dash -
[02:35:51] <Dr-007> label=$(blkid -o value -s LABEL $devpath) || '-'
[02:36:17] <twkm> label=${label:--}
[02:36:40] *** Joins: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de)
[02:36:46] *** Quits: xx (~xx@user/xx) (Ping timeout: 272 seconds)
[02:38:05] <Dr-007> thanks
[02:38:11] <xD-> koollman: some might die soon or reach end of life
[02:38:21] <koollman> Earnestly: yeah, but I'm used to using more fields after -o too. because ... sometimes I need to see the whole madness on those machines : https://dpaste.org/fPoy ;)
[02:38:41] <xD-> koollman: had some of those before
[02:39:04] <koollman> xD-: some died before. it's ok. It really is redundant enough :)
[02:39:14] <xD-> especially wd red
[02:39:31] <Earnestly> koollman: point is lowercase
[02:39:38] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[02:39:45] <Earnestly> Dr-007: blkid is something you need to be careful with
[02:39:57] <Earnestly> If you don't run it as root it'll attempt to recall from a cache it creates
[02:40:07] <Earnestly> If it has no cache it'll print nothing
[02:40:44] <Earnestly> (lsblk gets its information from udev, blkid gets it directly)
[02:40:48] *** Joins: xmb (~xmb@178.197.212.138)
[02:41:06] *** Quits: spawnmc (~spawnmc@user/spawnmc) (Quit: Client closed)
[02:41:08] *** Joins: uuidNuni1 (~weechat@222.67.5.151)
[02:42:57] *** Joins: junebug (~junebug@2600:1700:3db0:2540:dbe3:7d60:6f59:546f)
[02:43:57] *** Joins: rgrinberg (~textual@177.248.144.104)
[02:44:01] *** Quits: wurstwasser (~frank.hol@2001:a61:348d:a101:d7e3:9539:7f75:37da) (Remote host closed the connection)
[02:44:45] *** Quits: uuidNuniq (~weechat@222.67.5.151) (Ping timeout: 252 seconds)
[02:46:23] *** Quits: bunny (~bunny@user/bunny) (Remote host closed the connection)
[02:46:24] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Ping timeout: 252 seconds)
[02:46:47] *** Joins: bunny (~bunny@user/bunny)
[02:49:10] *** Joins: qub411 (~user@60-242-81-127.tpgi.com.au)
[02:49:43] *** Quits: Tangent-Man (~Tang3nt-M@92.40.178.106.threembb.co.uk) (Read error: Connection reset by peer)
[02:51:08] *** Joins: Tangent-Man (~Tang3nt-M@92.40.178.106.threembb.co.uk)
[02:52:19] *** Quits: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[02:52:47] *** Quits: junebug (~junebug@2600:1700:3db0:2540:dbe3:7d60:6f59:546f) (Remote host closed the connection)
[02:53:03] *** Joins: junebug (~junebug@2600:1700:3db0:2540:dbe3:7d60:6f59:546f)
[02:54:05] *** Quits: skreech (skreech@user/skreech) (Ping timeout: 252 seconds)
[02:56:54] *** Quits: junebug (~junebug@2600:1700:3db0:2540:dbe3:7d60:6f59:546f) (Remote host closed the connection)
[02:57:16] *** Joins: junebug (~junebug@2600:1700:3db0:2540:dbe3:7d60:6f59:546f)
[02:57:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[02:59:16] *** Joins: fling (~fling@user/fling)
[02:59:53] *** Quits: CodePoint (~CodePoint@107-208-128-79.lightspeed.tukrga.sbcglobal.net) (Quit: CodePoint struts into the sunset on the beach.)
[03:02:13] *** Joins: rcernin (~rcernin@101.189.129.123)
[03:03:11] *** Joins: didi (~user@user/didi)
[03:04:38] *** Joins: dsrt^ (~dsrt@96-91-136-49-static.hfc.comcastbusiness.net)
[03:05:39] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 252 seconds)
[03:05:49] *** Joins: skreech (skreech@user/skreech)
[03:09:30] *** Quits: tercaL (~tercaL@user/tercal) (Quit: enter the Tekken!)
[03:09:37] *** Quits: mat001 (~mat001@89.45.90.100) (Ping timeout: 240 seconds)
[03:10:39] *** Joins: karakedi (~eAC53C340@user/karakedi)
[03:12:47] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[03:12:57] *** Quits: sinaowolabi (~SinaOwola@160.152.94.96) (Read error: No route to host)
[03:13:19] *** Quits: qub411 (~user@60-242-81-127.tpgi.com.au) (Quit: WeeChat 3.4.1)
[03:14:29] *** Quits: nyex (~Thunderbi@177.84.107.26) (Remote host closed the connection)
[03:17:59] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Ping timeout: 260 seconds)
[03:19:04] *** Joins: seninha (~seninha@user/seninha)
[03:20:11] *** Joins: qub411 (~user@60-242-81-127.tpgi.com.au)
[03:21:02] *** Quits: qub411 (~user@60-242-81-127.tpgi.com.au) (Client Quit)
[03:22:16] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Quit: WeeChat 3.5)
[03:23:57] *** Quits: tedster (~Tedster@rampage.tedster.net) (Quit: ZNC 1.8.2 - https://znc.in)
[03:24:58] *** Joins: tedster (~Tedster@rampage.tedster.net)
[03:25:00] *** Joins: loganlee[gnu] (~Thunderbi@user/loganlee)
[03:25:24] *** Quits: rgrinberg (~textual@177.248.144.104) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:26:56] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[03:26:59] *** docmax_ is now known as docmax
[03:29:17] *** Quits: maggotbrain (~maggotbra@2601:602:9200:e4e0::7dd1) (Quit: Gone to Croatan...)
[03:29:24] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Quit: Leaving)
[03:36:22] *** Joins: blei (~blei@user/blei)
[03:36:54] *** Joins: slimbo (~slimbo@user/slimbo)
[03:38:33] *** Quits: b0b (~bob@user/b0b) (Quit: o/)
[03:38:45] *** Joins: b0b (~bob@user/b0b)
[03:39:59] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:45bc:c07c:8550:9590) (Remote host closed the connection)
[03:40:35] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:2c89:8e5c:78e:a8d0)
[03:45:01] *** Joins: Oleg (~Oleg@ool-45745511.dyn.optonline.net)
[03:45:05] *** Joins: qub411 (~user@60-242-81-127.tpgi.com.au)
[03:45:15] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:2c89:8e5c:78e:a8d0) (Ping timeout: 252 seconds)
[03:46:13] *** Quits: maledictium (~crux@bl11-67-234.dsl.telepac.pt) (Ping timeout: 256 seconds)
[03:46:17] *** Quits: qub411 (~user@60-242-81-127.tpgi.com.au) (Client Quit)
[03:46:42] *** Joins: sinaowolabi (~SinaOwola@160.152.94.96)
[03:46:47] *** Joins: docmax_ (~docmax@dynamic-077-001-039-215.77.1.pool.telefonica.de)
[03:47:25] *** Joins: qub411 (~user@60-242-81-127.tpgi.com.au)
[03:48:04] *** Joins: MajorBiscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e)
[03:49:15] *** Quits: docmax (~docmax@dynamic-095-112-102-113.95.112.pool.telefonica.de) (Ping timeout: 260 seconds)
[03:49:35] *** Quits: shailangsa (~shailangs@host86-162-150-212.range86-162.btcentralplus.com) ()
[03:50:58] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[03:51:50] *** Quits: Tangent-Man (~Tang3nt-M@92.40.178.106.threembb.co.uk) (Remote host closed the connection)
[03:52:11] *** Joins: Tangent-Man (~Tang3nt-M@92.40.178.104.threembb.co.uk)
[03:54:03] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 252 seconds)
[03:56:28] *** Joins: ignorand (~ignorand@186.179.163.155)
[03:58:03] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[04:02:18] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 252 seconds)
[04:02:44] *** Joins: maledictium (~crux@bl11-67-234.dsl.telepac.pt)
[04:03:59] *** Joins: igemnace (~ian@user/igemnace)
[04:06:19] *** Joins: shailangsa (~shailangs@host86-162-150-212.range86-162.btcentralplus.com)
[04:09:19] *** Quits: riff_IRC (~riff-IRC@user/riff-irc) (Ping timeout: 260 seconds)
[04:09:55] *** Joins: mat001 (~mat001@89.45.90.79)
[04:12:59] <xmb> whats the upperscore char look like, there must be one.. the upper to underscore
[04:13:22] *** Joins: Blondie101010_ (~Blondie10@user/blondie101010)
[04:13:59] *** Quits: Blondie101010 (~Blondie10@user/blondie101010) (Ping timeout: 256 seconds)
[04:14:07] *** Blondie101010_ is now known as Blondie101010
[04:14:24] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[04:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:38] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:19:07] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 260 seconds)
[04:19:17] *** Quits: junebug (~junebug@2600:1700:3db0:2540:dbe3:7d60:6f59:546f) (Ping timeout: 240 seconds)
[04:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:11] <Dr-007> how do i remove a trailing whitespace?
[04:20:25] <Dr-007> right now im doing str=$(echo $str | xargs)
[04:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:20:44] <Dr-007> which worked. but xargs also removed my double quotes
[04:20:44] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[04:20:49] <Dr-007> inside str
[04:21:19] <xmb> str=${str% }
[04:21:19] *** Quits: Tangent-Man (~Tang3nt-M@92.40.178.104.threembb.co.uk) (Read error: Connection reset by peer)
[04:21:57] <xmb> # str='foo bar ' str=${str% } ; declare -p str
[04:21:57] <shbot> xmb: declare -- str="foo bar"
[04:22:28] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Quit: The Lounge - https://thelounge.chat)
[04:22:55] <Dr-007> nice
[04:23:14] <Dr-007> this worked too: echo $str | sed -e 's/\ *$//g'
[04:23:20] <Dr-007> but yours is much nicer
[04:23:22] <xmb> but its expensive
[04:23:26] <xmb> yea
[04:23:28] <xmb> its bash internal
[04:26:29] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Ping timeout: 268 seconds)
[04:28:14] <Dr-007> i couldnt get it working because i thought it was: str=$($str% )
[04:28:17] <Dr-007> gosh
[04:28:23] <Dr-007> works now
[04:29:35] *** Joins: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp)
[04:30:17] *** Quits: tk (~tk@ircpuzzles/staff/tk) (Quit: Well, this is unexpected.)
[04:30:42] *** Joins: tk (~tk@ircpuzzles/staff/tk)
[04:31:30] <znf> if read -t 2 -n 1; then echo "we get data - we run ffmpeg with pipe input"; else exit 1; fi --- I wrote this to avoid an issue with spawning an ffmpeg process when there's no input from stdin (because it tends to hang forever otherwise), but I'm finding that now my bash script seems to be running forever
[04:31:38] <znf> should read -t 2 timeout in 2 seconds?
[04:31:48] <znf> or is my if... logic somehow flawed?
[04:33:15] <larryv> !faq trim > Dr-007
[04:33:15] <greybot> Dr-007: https://mywiki.wooledge.org/BashFAQ/067 -- How can I trim leading/trailing white space from one of my variables?
[04:33:21] *** Quits: sinaowolabi (~SinaOwola@160.152.94.96) (Read error: No route to host)
[04:33:43] <Dr-007> larryv, xmb helped me out already. thanks
[04:33:59] <znf> when running: read -t 2 -n 1, seems to work fine, times out after 2s
[04:34:52] <larryv> Dr-007: weird that you're only handling a single trailing space but ok
[04:36:22] <Dr-007> i got another question though. i'm using zenity to create a radio list this is a basic working example: https://dpaste.com/HZUWNEQFQ on the last line you can see that everything between the double quotes is put into one column. which is good
[04:36:34] *** Joins: seifeslimene (~seifeslim@102.156.202.190)
[04:37:25] <Dr-007> this is what i'm working towards to: https://dpaste.com/9TAY6SG89 now my label sometimes has spaces in it. so i added double quotes to it. but when i feed it into zenity it just shows double quotes inside my column
[04:37:28] <checkbot> Dr-007: I think the problem is on line 20. Quotes/backslashes will be treated literally. Use an array. See 7 issues on https://shellcheck.net/?id=cb26048
[04:37:42] *** Joins: sinaowolabi (~SinaOwola@160.152.94.96)
[04:37:43] *** Joins: tangy (~tangy@user/tangy)
[04:37:45] <Dr-007> checkbot, wait. are you a person?
[04:37:45] <checkbot> Dr-007: I'm a bot. Use !checkbot for info/triggers, /msg checkbot quiet for stfu, or https://shellcheck.net to check your scripts.
[04:38:31] <seifeslimene> hey bot stfu!
[04:38:44] <tangy> checkbot, are you related to Alexa?
[04:38:44] <checkbot> tangy: I'm a bot. Use !checkbot for info/triggers, /msg checkbot quiet for stfu, or https://shellcheck.net to check your scripts.
[04:38:54] <Dr-007> use an array the bot says.
[04:39:03] <larryv> Dr-007: quotes only do quoting things when bash parses them. quotes that come from expansions are just normal characters
[04:39:43] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.4)
[04:39:48] <larryv> !faq complex
[04:39:48] <greybot> https://mywiki.wooledge.org/BashFAQ/050 -- I'm trying to put a command in a variable, but the complex cases always fail!
[04:40:21] <seifeslimene> larryv what is bash's parser?
[04:40:34] <larryv> i don't know how i'm supposed to answer that
[04:40:41] <larryv> it's a bunch of code that parses?
[04:41:45] <seifeslimene> I don't understand you.
[04:41:50] <larryv> it's generated with Bison, if that's what you're curious about
[04:42:08] <seifeslimene> oh yeah.
[04:42:23] <seifeslimene> but how how to see the internals of bash?
[04:42:26] <tangy> a parser looks at a string of characters and decides, based on some 'parsing' rules, what some human was trying to say
[04:42:58] <tangy> strace?
[04:43:31] <larryv> Dr-007: you should read that FAQ. but tl;dr you should assemble an array with each word as a separate element. then you can expand that correctly. you also won't have any final space to trim
[04:43:36] <larryv> seifeslimene: https://git.savannah.gnu.org/cgit/bash.git/tree/
[04:43:51] <seifeslimene> tangy i think strace is relating to kernel system calls
[04:44:21] <Dr-007> larryv, im a bash noob. so ive been at this for a few hours now. and its such a simple thingy im trying to create.
[04:45:12] <larryv> just because you think something should be simple doesn't mean it is simple.
[04:45:12] <Dr-007> but i'm trying to do that now
[04:45:12] <Dr-007> (the array stuff)
[04:45:20] <larryv> anyway i'm just telling you what the most robust method available is. the wiki has more details
[04:46:43] <seifeslimene> what is the syntax of man pages, I found that some it's very tedious to get something out of it...
[04:46:59] <phy1729> roff or mdoc
[04:47:29] <larryv> # var=(); var+=("arg1 arg1" "arg2 arg2" "arg3 arg3"); printf '<%s>' "${var[@]}" # brief example Dr-007
[04:47:29] <shbot> larryv: <arg1 arg1><arg2 arg2><arg3 arg3>
[04:49:50] *** Joins: malina (~malina@user/malina)
[04:50:14] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.1)
[04:53:46] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[04:54:47] *** Quits: duxsco (~Thunderbi@user/duxsco) (Quit: duxsco)
[04:55:40] <Dr-007> nice, this one doesnt work, last line: https://dpaste.com/E7EUE2P2S
[04:55:44] <Dr-007> i soon realized my error
[04:55:58] *** Quits: thiras (~thiras@user/thiras) (Quit: Leaving)
[04:56:10] <Dr-007> https://dpaste.com/4H58H78SY
[04:56:13] <Dr-007> that one does
[04:56:35] <Dr-007> altho i will end up with a trailing whitespace printing it like this
[04:57:54] <xmb> you dont so
[04:58:13] <xmb> for different format, .. .., you printf %s the first element and ' %s' the rest
[04:58:23] <xmb> try
[04:58:47] *** Quits: Sayona (~Sayona@user/sayona) (Quit: Bye :))
[04:59:00] <xmb> declare -a "args=( $( zenity .. ) )" ; printf %s "$args" ; printf ' %s' "${args[@]:1}"
[04:59:07] *** Joins: Sayona (~Sayona@user/sayona)
[04:59:14] <xmb> no idea what zenity outputs
[05:00:03] <xmb> if it just outputs /dev/sda1
[05:00:13] *** Quits: MajorBiscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e) (Ping timeout: 240 seconds)
[05:00:14] <xmb> u can do simply res=( $( zenity .. ) )
[05:01:36] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:01:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[05:02:14] <xmb> or $( >&2 zenity .. ) if u dont see anything
[05:02:20] <xmb> is zenity an X app or console
[05:03:26] *** Joins: fling (~fling@user/fling)
[05:03:32] *** Quits: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk) (Quit: Leaving)
[05:03:39] <Dr-007> zenity is an X app
[05:03:47] <Dr-007> to create simply dialogs
[05:03:50] <Dr-007> *simple
[05:04:08] <Dr-007> i thought it was embedded in most linux's
[05:04:30] <xmb> uh hell no
[05:04:34] <Dr-007> hehe, ok
[05:04:40] <xmb> its add'able tho
[05:04:49] <xmb> so try the arr=( $( zenity ) ) way
[05:04:50] <Dr-007> i'm going to look at your 2 printf
[05:04:52] <xmb> then two printfs
[05:05:40] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[05:07:13] <xmb> thxx btw =))
[05:10:05] *** Quits: seifeslimene (~seifeslim@102.156.202.190) (Ping timeout: 256 seconds)
[05:12:35] <vancz_> is it possible to set +x on a named pipe so as to execute a script from a process substitution?
[05:12:52] <xmb> i dont understand
[05:12:54] <xmb> make code example
[05:13:43] <vancz_> um,  IDK, something like this I guess:
[05:14:38] <vancz_> > <(printf '%s\n%s' '#!/usr/bin/env bash' 'echo hi')
[05:14:51] <vancz_> # <(printf '%s\n%s' '#!/usr/bin/env bash' 'echo hi')
[05:14:52] <shbot> vancz_: bash: /dev/fd/63: Permission denied
[05:15:02] <xmb> yea, . it
[05:15:11] <xmb> # . <( printf 'echo foo' )
[05:15:12] <shbot> xmb: foo
[05:15:22] <xmb> # set -x ; . <( printf 'echo foo' )
[05:15:28] <shbot> xmb: + . /dev/fd/63
[05:15:28] <shbot> xmb: ++ printf 'echo foo'
[05:15:28] <shbot> xmb: etc... ( http://ix.io/3TEJ )
[05:15:32] <vancz_> oh hm yeah I guess that makes sense
[05:15:44] <xmb> this 3 lines bot output limit is pure bullshit, make it 5 or 6
[05:16:16] <vancz_> ok so if I actually want to pass a script to socat, i should just invoke bash directly?
[05:17:33] <xmb> to socat ? show example
[05:17:43] <xmb> it needs 'bash' there to spawn bash
[05:17:56] *** Joins: chenqisu1 (~chenqisu1@183.217.201.88)
[05:18:33] <xmb> socat is a bit complicated, show example
[05:18:44] <vancz_> something like this is what I originally imagined:
[05:18:44] <vancz_> #socat TCP-LISTEN:8888,fork EXEC:<(printf '%s\n%s' '#!/usr/bin/env bash' 'echo hi')
[05:18:45] <xmb> i currently write a httpd in bash and gawk, i switched from socat to tcpserver
[05:18:50] <xmb> cause its smaller
[05:18:51] <vancz_> heh
[05:19:06] <xmb> ehm
[05:19:11] <xmb> what code u wanna supply there
[05:19:12] <xmb> hold a sec
[05:19:54] <xmb> well um
[05:20:38] <xmb> first, the #! line is useless
[05:20:41] <xmb> as u start it
[05:20:47] <xmb> it only matters hardcoded in files
[05:21:04] <xmb> for the rest, lemme try myself here with socat
[05:21:27] <vancz_> im not sure you even _can_ set +x on a named pipe but maybe you can :P
[05:21:31] <vancz_> ill try it in a sec
[05:21:49] <vancz_> this one bash terminal i have open is behaving really weird though
[05:22:23] <vancz_> oh maybe i broke stdout
[05:22:53] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[05:23:46] <xmb> i think u need bash -c
[05:24:07] <xmb> normal if u do 'exec 1>' or so
[05:24:09] <xmb> suches
[05:24:30] <vancz_> oh wait it already had -x
[05:24:44] <vancz_> maybe it means somethng else here (or exec doesnt work with named pipes)
[05:24:58] <xmb> i dont know why this fails, no output in nc localhost 8888
[05:25:01] <xmb> cmd=( 'echo hi' ) ; socat tcp-l:8888,fork,reuseaddr "exec:bash -c \"${cmd[*]}\""
[05:25:15] <xmb> it works if u specify it
[05:25:18] <xmb> but exec: is /bin/sh
[05:25:30] <vancz_> * if execve works with
[05:25:30] <xmb> no, system: is /bin/sh
[05:25:35] <xmb> ye sorry
[05:25:45] <xmb> but u need
[05:26:05] <xmb> err exec doesnt work on named pipes yes
[05:26:23] <xmb> not set -x or +x, ./named_pipe is na no go, as it cannot be seeked
[05:26:25] <xmb> or suches
[05:27:45] <xmb> you can do maybe
[05:27:49] <vancz_> _technically_, hm, seek might matter for binary files but im not sure it matters for a script
[05:27:52] <xmb> no
[05:27:58] <xmb> sorry wait lemme read
[05:28:00] <vancz_> (mmapping stuff from a binary)
[05:28:07] <vancz_> but also
[05:28:13] <xmb> system cannot exec it mate
[05:29:06] <xmb> u see, if u exec a #!/usr/bin/env bash
[05:29:13] <xmb> it execs bash <path to file>
[05:29:22] <xmb> what u specify there for a path, '#!/usr/bin/env'
[05:29:32] <xmb> # #!/usr/bin/env bash blah
[05:29:33] <shbot> xmb: no output
[05:29:43] <xmb> # shopt -u interactive_comments ; #!/usr/bin/env bash blah
[05:29:43] <shbot> xmb: no output
[05:29:55] *** Quits: blei (~blei@user/blei) (Ping timeout: 256 seconds)
[05:30:05] <xmb> what is this, weirdbot
[05:30:41] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[05:31:06] <vancz_> xmb: hm good point, even if it read the file the first time, when it gets passed as an argument, the pipe would have already been (partly) emptied
[05:31:19] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[05:31:24] <xmb> it doesnt even pass it mate
[05:31:31] *** Joins: tijuco (~tijuco@user/tijuco)
[05:31:41] <xmb> it tries this: execve( "#!/usr/bin/env" , "bash" .. )
[05:31:45] <xmb> u see the fail
[05:31:57] <xmb> # \#\!/usr/bin/env bash blahblah
[05:31:57] <shbot> xmb: bash: #!/usr/bin/env: No such file or directory
[05:32:15] <xmb>        tcpserver [ opts ] host port prog
[05:32:24] <xmb> prog must be +x and prolly seekable
[05:32:34] <xmb> a pipe is no +x, maybe it can be modded
[05:32:49] <xmb> it also have to be repeated mate, per start
[05:33:01] <xmb> otherwise it only starts it, in case even, just once
[05:33:04] *** Joins: junebug (~junebug@2600:1700:3db0:2540:6f34:49ad:a0b8:f509)
[05:33:07] <xmb> cause right, the pipe is emptied
[05:33:13] <xmb> u could loop inside that
[05:33:20] <xmb> while true printf code
[05:34:51] <vancz_> aha
[05:35:19] <vancz_> well this is what the pipe looks like
[05:35:19] <vancz_> $ ls -l /proc/2768995/fd/63
[05:35:19] <vancz_> lr-x------ 1 myuser users 64 Mar 28 02:53 /proc/2768995/fd/63 -> 'pipe:[11040806]'
[05:35:31] <vancz_> and its already +x, so it probably just means something else
[05:35:48] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Ping timeout: 252 seconds)
[05:36:00] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 272 seconds)
[05:36:03] <xmb> yea some advanced unix gurus here know well why it doesnt work
[05:36:06] <xmb> i just know it doesnt
[05:36:10] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 268 seconds)
[05:36:16] <xmb> just like 'send this code to pci and that one to cpu'
[05:36:18] <xmb> 'permission denied'
[05:36:38] <larryv> Dr-007: there's no need to index into your array like that. just do columns+=("whatever")
[05:37:59] *** Quits: rcernin (~rcernin@101.189.129.123) (Ping timeout: 260 seconds)
[05:38:02] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[05:38:34] *** Joins: rcernin (~rcernin@101.189.129.123)
[05:44:21] <didi> How do I output a file's content to stdout? `cat file'?
[05:44:47] <tangy> yes
[05:44:56] <didi> Thanks.
[05:46:12] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[05:49:01] *** eldritch_ is now known as eldritch
[05:50:39] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 252 seconds)
[05:53:57] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[05:54:11] *** Joins: richardm645 (~quassel@2600:8801:c502:f700:a9e7:6a7b:987b:bc3a)
[05:56:46] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[05:58:15] *** Quits: ignorand (~ignorand@186.179.163.155) (Ping timeout: 256 seconds)
[06:01:00] *** Quits: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[06:01:54] *** Joins: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[06:02:49] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[06:02:57] *** Quits: reset (~reset@user/reset) (Quit: reset)
[06:02:57] *** Joins: rampart (~rampart@2607:fb90:a239:6f9e:bc2f:d06d:9220:b7c)
[06:04:29] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 256 seconds)
[06:05:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[06:07:22] *** Joins: fling (~fling@user/fling)
[06:10:03] *** Joins: rgrinberg (~textual@177.248.144.104)
[06:20:39] *** Quits: rgrinberg (~textual@177.248.144.104) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:21:59] *** Joins: sa0 (~sa0sin@88.120.82.205)
[06:22:35] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[06:23:00] *** Quits: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e) (Ping timeout: 240 seconds)
[06:23:15] *** Joins: fstd (~fstd@xdsl-89-0-80-77.nc.de)
[06:23:45] *** Quits: N4buc0- (~N4buc0@189.115.86.130) (Ping timeout: 256 seconds)
[06:24:44] *** Joins: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[06:25:59] *** Quits: eck (~root@user/eck) (Quit: PIRCH98:WIN 95/98/WIN NT:1.0 (build 1.0.1.1190))
[06:26:17] *** Quits: fstd_ (~fstd@xdsl-78-35-89-30.nc.de) (Ping timeout: 240 seconds)
[06:26:35] *** Joins: Inline__ (~Inline@p200300cd47094800372fcc81f701114e.dip0.t-ipconnect.de)
[06:27:04] *** Joins: eck (~root@user/eck)
[06:28:20] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[06:28:59] *** Quits: samsmith (~samsmith@li1371-152.members.linode.com) (Quit: The Lounge - https://thelounge.chat)
[06:29:13] <Dr-007> larryv, thanks, that made it better readable
[06:29:19] <Dr-007> i still havent perfected it tho
[06:29:19] *** Quits: Inline (~Inline@p200300cd473c9e009f1d7d6dc4a648e3.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[06:29:45] <xmb> paste actual version
[06:30:39] *** Joins: samsmith (~samsmith@li1371-152.members.linode.com)
[06:31:02] *** Quits: zaz\ (~zaz@poneybl.eu) (Quit: bye)
[06:31:29] *** Joins: zaz\ (~zaz@poneybl.eu)
[06:33:22] <Dr-007> xmb, https://dpaste.com/66ZXF6DAE
[06:33:53] <larryv> Dr-007: you have to quote properly inside (...)
[06:33:54] *** Quits: lemonsnicks (~lemonsnic@cpc159519-perr18-2-0-cust114.19-1.cable.virginm.net) (Quit: ZNC 1.8.2 - https://znc.in)
[06:33:57] *** Quits: sinaowolabi (~SinaOwola@160.152.94.96) (Ping timeout: 256 seconds)
[06:34:04] <xmb> maybe i can edit you something brb
[06:34:17] <larryv> and now you're running the array through sed
[06:34:31] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Ping timeout: 256 seconds)
[06:35:37] <xmb> nevermind
[06:36:03] <larryv> Dr-007: you're turning the array back into a string
[06:36:13] <larryv> which is absolutely pointless
[06:36:35] <Dr-007> larryv, that was just a test
[06:36:38] <xmb> talk code larry
[06:36:40] <Dr-007> here's the version now
[06:36:44] <xmb> he doesnt know better, thats why
[06:36:48] <xmb> um !
[06:37:02] <xmb> plz next time someone request new paste dont paste old
[06:37:24] <Dr-007> https://dpaste.com/38XPAQQS6
[06:37:34] <Dr-007> exactly, i dont know better :)
[06:37:42] <Dr-007> im used to php and javascript
[06:37:57] <Dr-007> so variables shouldnt be in between quotes. you can do it in php
[06:38:03] <larryv> before you were trying to pass the stuff at arguments. now you're trying to use standard input? which is it
[06:38:11] <Dr-007> but its like those little differences i forget about
[06:38:15] <Dr-007> quotes
[06:38:55] <Dr-007> larryv, i think using the standard input fixed the last column.
[06:39:01] <Dr-007> before i trimmed the str with xargs
[06:39:13] <Dr-007> so zenity wouldnt think there would be an extra column
[06:39:19] <xmb> just a bit update 007 i dunno if it works.. http://0x0.st/oqm5.sh
[06:39:52] <larryv> <<< printf '"%s" ' "${columns[@]}" is wrong regardless
[06:40:08] <xmb> dude your insults are bad not helpful and pointless
[06:40:10] <xmb> mr unix guru
[06:40:21] <larryv> neither is your incomprehensible code
[06:40:23] <larryv> but whatever
[06:40:26] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[06:40:31] <xmb> :)) good talk
[06:40:47] <xmb> i just say, fix his code
[06:40:54] <xmb> i dont use menu dialog and co i cant
[06:41:02] <Dr-007> without using printf to add a space it wont work
[06:41:16] <xmb> what space mate
[06:41:28] <larryv> Dr-007: that code is not doing what you think
[06:41:31] <Dr-007>  printf '"%s" '
[06:41:32] <larryv> you're completely mistaken
[06:41:55] <larryv> you're doing blah arg arg arg <<< printf '"%s" ' "${columns[@]}"
[06:42:07] <larryv> the stdin is the string "printf" only
[06:42:13] <xmb> so i installed zenity lets try
[06:42:16] <larryv> '"%s" ' "${columns[@]}" are being passed as more args
[06:42:35] <larryv> printf is not being run at any point
[06:43:01] <Dr-007> hmmkay
[06:43:07] <larryv> # cat <<<hello
[06:43:08] <shbot> larryv: hello
[06:43:09] <larryv> # cat <<<printf hello
[06:43:10] <shbot> larryv: cat: cannot open hello: No such file or directory
[06:43:13] <xmb> what is valid zenity usage 007 onen with two elements in
[06:43:36] <Dr-007> let me look for a sec
[06:44:08] <xmb> try 'lsblk' cmd
[06:44:46] *** Quits: FluffyMask (~masque@user/fluffymask) (Quit: WeeChat 3.4.1)
[06:44:49] <Dr-007> https://dpaste.com/H7QP2MMGX
[06:45:02] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 272 seconds)
[06:45:09] <Dr-007> that's a basic example
[06:45:17] <xmb> then no stdin .. as args, sec
[06:45:38] <Dr-007> if you can get my columns to work with stdin or as args
[06:45:41] <Dr-007> then youre my hero
[06:45:46] <larryv> have you tried just zenity blah blah "${columns[@]}"
[06:46:03] <Dr-007> i'm going to try
[06:46:08] <larryv> no printf, no '"%s" ', no <<<
[06:46:33] <Dr-007> oh yeah babyyy
[06:47:31] <Dr-007> this one works: https://dpaste.com/BQAF4TAJD
[06:47:37] <Dr-007> finally..!
[06:47:42] <Dr-007> i can rest
[06:48:07] <larryv> whew
[06:48:08] *** Joins: lemonsnicks (~lemonsnic@cpc159519-perr18-2-0-cust114.19-1.cable.virginm.net)
[06:48:40] *** Joins: wonko-the-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane)
[06:49:34] <Dr-007> now all i have to do is mix it with this: https://dpaste.com/ET6D79M4R
[06:49:39] <Dr-007> and im finally done
[06:49:50] <Dr-007> one last question before i get out of your hair
[06:50:37] <Dr-007> on line 12 of https://dpaste.com/BQAF4TAJD ${devices} is red in nano, so i tried wrapping it in quotes but then $dev in the loop is wrong
[06:51:00] <xmb> your paste there says 'this onne works' doesnt work for me at all
[06:51:46] <xmb> for dev in "${devices[@]}"
[06:52:11] <larryv> no.
[06:52:24] <Dr-007> xmb, wierd. for me it works
[06:52:25] <xmb> for dev in $( awk .. ) ; do arr+=( "$( cmd )" "$( cmd )" ) ; done
[06:52:26] <larryv> Dr-007: since you're using awk to generate the list of devices, "devices" is just a string
[06:52:45] <xmb> devices=$(awk '($4 ~ /^sd.*[0-9]/){print $4}' /proc/partitions)
[06:52:46] <xmb> for dev in ${devices}
[06:52:46] <xmb> do
[06:52:48] <xmb> his code
[06:52:50] <larryv> you could theoretically turn it into an array but you haven't
[06:52:52] <xmb> line 12 is for dev
[06:53:02] <larryv> so it's just a bunch of whitespace-separated stuff
[06:53:11] <Dr-007> ok
[06:53:11] <larryv> if you quote it, it will remain one word and be processed as such
[06:53:38] <larryv> by leaving it unquoted, you're allowing the shell to split the expansion on whitespace, producing multiple words
[06:53:39] <Dr-007> aha, so its redness is incorrect in this case?
[06:53:52] *** Quits: Natch (~natch@c-67bae255.014-297-73746f25.bbcust.telenor.se) (Remote host closed the connection)
[06:53:53] <Dr-007> (of the editor)
[06:54:06] *** Quits: xmb (~xmb@178.197.212.138) (Quit: bye so)
[06:54:08] <larryv> kind of
[06:54:10] <larryv> the editor doesn't know what you're doing
[06:54:23] <larryv> as your code is now, you have to leave that unquoted for it to work at all
[06:54:37] *** Joins: xmb (~xmb@178.197.212.138)
[06:54:37] *** Quits: xmb (~xmb@178.197.212.138) (Client Quit)
[06:54:41] <larryv> to allow the shell to word-split
[06:55:09] <Dr-007> ok
[06:55:17] <larryv> it's a code smell though
[06:55:36] <larryv> ideally you would turn "devices" into an array yourself
[06:55:43] *** Quits: sa0 (~sa0sin@88.120.82.205) (Ping timeout: 268 seconds)
[06:55:46] <larryv> and then do for dev in "${dev_array[@]}"
[06:57:12] <larryv> how is "devices" structured? is each path on its own line?
[06:59:15] *** Joins: Natch (~natch@c-67bae255.014-297-73746f25.bbcust.telenor.se)
[06:59:30] *** Joins: vlm (~vlm@user/vlm)
[06:59:35] <Dr-007> ehm, lets see
[07:00:07] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[07:00:13] <Dr-007> yeah it gives a list with enters
[07:01:16] <larryv> ok. you might try this then
[07:01:30] <larryv> readarray -t devices < <(awk 'blah blah' /proc/partitions)
[07:01:38] <larryv> for dev in "${devices[@]}"
[07:05:24] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Ping timeout: 240 seconds)
[07:09:00] *** Quits: didi (~user@user/didi) (Remote host closed the connection)
[07:09:13] <larryv> alternately: https://paste.wooledge.org/12476
[07:09:35] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[07:10:12] <Dr-007> oof
[07:10:24] <Dr-007> i cant read that in the future
[07:10:48] <larryv> well the readarray one is basically just as good, as long as your bash supports it
[07:11:21] *** Joins: fling (~fling@user/fling)
[07:11:53] <Dr-007> ok, lets see. i'm putting it inthere
[07:12:02] *** Quits: rcernin (~rcernin@101.189.129.123) (Ping timeout: 252 seconds)
[07:12:14] *** Quits: GOATRIDER (~DOWNCATTL@74.215.16.190) (Quit: Leaving)
[07:12:22] <Dr-007> im now also trying to wrap it in a function and file so i can source it in a 'main.sh' script
[07:12:49] <Dr-007> so itll take a sec
[07:13:19] *** Joins: ejjdhfjsu (~ejjdhfjsu@cmcust2a-85.240.nulinkdigital.com)
[07:13:37] *** Quits: jos1 (~jos3@host-091-097-190-094.ewe-ip-backbone.de) (Ping timeout: 256 seconds)
[07:13:45] <larryv> https://paste.wooledge.org/12477
[07:18:15] *** Quits: ejjdhfjsu (~ejjdhfjsu@cmcust2a-85.240.nulinkdigital.com) (Remote host closed the connection)
[07:19:58] *** Quits: rampart (~rampart@2607:fb90:a239:6f9e:bc2f:d06d:9220:b7c) (Remote host closed the connection)
[07:20:30] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[07:22:01] <Dr-007> i put it inthere. main.sh -> https://dpaste.com/7WDQWMJTS and select_partition.sh -> https://dpaste.com/862JTTS2B
[07:22:44] <Dr-007> thanks for that. but i still find it a little confusing that devices isnt defined on the beginning of the sentence. but never mind that
[07:22:59] <Dr-007> i had the "User cancelled" working when it wasnt a function yet
[07:23:16] <Dr-007> returning values isnt a thing in functions, right?
[07:23:32] <Dr-007> echoing made me able to catch it in the parent
[07:24:02] <larryv> that's right. you either print your result to stdout and capture that, or assign to a global variable
[07:25:34] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 272 seconds)
[07:26:11] *** Joins: jos1 (~jos3@dyndsl-091-096-039-023.ewe-ip-backbone.de)
[07:26:15] <larryv> there's a few things you'll want to change now that you've put this into a function. you probably want to declare all your variables as local for hygiene. and exiting on error isn't really what you want
[07:26:19] *** Joins: ejjdhfjsu (~ejjdhfjsu@cmcust2a-85.240.nulinkdigital.com)
[07:28:09] <Dr-007> i could just catch empty input in main.sh but is it the right way?
[07:28:33] <Dr-007> ah doesnt matter anymore :p i want to finish it! hehe
[07:28:35] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[07:28:48] <larryv> use "return 1" (or whatever number you want) instead of "exit"
[07:31:42] *** Joins: karabaja4 (~karabaja4@dh207-93-10.xnet.hr)
[07:31:58] *** Quits: bomb-on (~bomb-on@user/bomb-on) (Quit: aллилѹіа!)
[07:32:14] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:9016:8819:76ad:7fda)
[07:33:38] *** Quits: junebug (~junebug@2600:1700:3db0:2540:6f34:49ad:a0b8:f509) (Remote host closed the connection)
[07:34:01] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 256 seconds)
[07:34:03] *** Joins: junebug (~junebug@2600:1700:3db0:2540:5964:5c6c:b427:583c)
[07:35:41] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:39:57] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Quit: PROTO-IRC v0.73a (C) 1988 NetSoft - Built on 11-13-1988 on AT&T System V)
[07:40:02] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Client Quit)
[07:40:19] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:44:09] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[07:48:43] *** Quits: tijuco (~tijuco@user/tijuco) (Quit: Leaving)
[07:50:00] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[07:54:19] <Dr-007> haha, it's almost finished. its copying now with progressbar in zenity. main: https://dpaste.com/HKP9VHE39 select_partition: https://dpaste.com/8TWW3Q9RY
[07:54:38] <Dr-007> i didnt put in the local var stuff yet. i assume this needs to happen inside the function
[07:54:43] *** Joins: funhouse (~funhouse@user/funhouse)
[07:55:07] <Dr-007> what im going to do now is tests inbetween to see if target isnt already shared
[07:55:15] <Dr-007> and format
[07:55:27] <Dr-007> but its coming along nicely now
[07:55:30] <Dr-007> thanks for all your help
[07:55:57] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[07:56:18] <Dr-007> (format as in format the partition via a dialog window)
[07:58:27] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Ping timeout: 260 seconds)
[07:59:34] *** Quits: unop_ (~unop@195.91.4.124) (Read error: Connection reset by peer)
[07:59:40] *** Joins: unop (~unop@195.91.4.124)
[07:59:46] <larryv> Dr-007: declaring local variables would happen in the function, yes
[08:00:24] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 272 seconds)
[08:10:06] *** Joins: momonster (~mo@ip1f105454.dynamic.kabel-deutschland.de)
[08:12:11] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 268 seconds)
[08:13:03] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:9016:8819:76ad:7fda) (Quit: WeeChat 3.4.1)
[08:13:05] <Dr-007> larryv, can you make a function then test in an if [ func_name ] if it returned 1 or 0?
[08:13:10] <Dr-007> ill make an example
[08:13:24] <e36freak> if func_name; then
[08:13:35] <e36freak> !ifgrep
[08:13:35] <greybot> if grep -q word "$file"; then blah blah; fi # DO NOT use [[ or [ or ` or $() or any other crap. "if" expects a command. "grep" is a command. "[" is too. You don't need both. Likewise, if foo | grep -q bar; then ...
[08:13:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[08:14:00] <Dr-007> https://dpaste.com/GVLJ3GFFT
[08:14:06] *** Joins: rcernin (~rcernin@101.189.129.123)
[08:14:25] <Dr-007> sweet
[08:14:38] <larryv> functions are just like regular utilities in that regard
[08:15:15] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[08:15:36] *** Joins: fling (~fling@user/fling)
[08:16:28] *** Quits: semigloss (~semigloss@d14-69-6-230.try.wideopenwest.com) (Quit: leaving)
[08:16:46] <larryv> if ! target_dev=$(select_partition); then echo 'User cancelled; exit 1; fi
[08:17:33] <larryv> if is_mounted "$target_dev"; then echo 'Target is already mounted."; exit 1; fi
[08:18:02] <pj> # myfunc(){ return 0; }; if myfunc; then echo "true"; else echo "false"; fi
[08:18:03] <shbot> pj: true
[08:18:07] <larryv> (assuming those functions actually do handle their exit statuses properly)
[08:18:08] <pj> # myfunc(){ return 1; }; if myfunc; then echo "true"; else echo "false"; fi
[08:18:09] <shbot> pj: false
[08:20:21] <Dr-007> and that's where you assume wrong my friend ;)
[08:20:37] <Dr-007> i was echoing a cat value. but i modified it to return a 1 or 0
[08:20:41] <Dr-007> it works now
[08:20:58] <larryv> neat
[08:21:09] <Dr-007> very
[08:21:54] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 252 seconds)
[08:24:27] *** Quits: momonster (~mo@ip1f105454.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[08:25:30] *** Joins: momonster (~mo@ip1f105454.dynamic.kabel-deutschland.de)
[08:28:17] *** Joins: labrador (~labrador@user/labrador)
[08:28:45] *** Quits: tccki (~tccki@box.webslate.co.nz) (Ping timeout: 256 seconds)
[08:29:52] *** Joins: tccki (~tccki@box.webslate.co.nz)
[08:32:05] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[08:37:06] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[08:38:45] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[08:40:18] *** Quits: Daemoen (~Daemoen@2604:a880:2:d0::2164:d001) (Quit: WeeChat 3.2)
[08:42:14] *** Joins: ekathva (~ekathva@2001:999:230:5e27:e9e2:3092:814c:5841)
[08:42:47] *** Quits: timj (~timj@user/timj) (Ping timeout: 260 seconds)
[08:46:28] *** Quits: loganlee[gnu] (~Thunderbi@user/loganlee) (Quit: loganlee[gnu])
[08:50:32] *** Joins: harleypig6 (thelounge@harleypig.com)
[08:51:17] *** Quits: harleypig (thelounge@2600:3c00::f03c:91ff:fe96:a339) (Ping timeout: 240 seconds)
[08:51:17] *** harleypig6 is now known as harleypig
[08:51:27] *** Joins: dreamon (~dreamon@p54b14978.dip0.t-ipconnect.de)
[08:51:55] *** Joins: aerysh (~aerysh@94.198.43.93)
[08:52:19] *** Quits: aerysh (~aerysh@94.198.43.93) (Client Quit)
[08:52:51] *** Joins: aerysh (~aerysh@2a0a:b640:1:5a::a07d)
[08:53:36] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:2c89:8e5c:78e:a8d0)
[08:56:44] *** Quits: Xanthaos (~ke4nhw@user/ke4nhw) (Remote host closed the connection)
[08:57:24] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Read error: No route to host)
[08:57:32] *** Quits: ano (~ano@user/ano) (Remote host closed the connection)
[08:57:32] *** Quits: wonko-the-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane) (Remote host closed the connection)
[08:58:23] *** Joins: timj (~timj@user/timj)
[08:58:47] *** Joins: wonko-the-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane)
[09:00:03] *** Joins: ano (~ano@user/ano)
[09:02:32] *** Parts: ih8wndz (~ih8wndz@alpha.trunkmasters.com) (WeeChat 3.4)
[09:05:45] *** Quits: nucleargrave (~nucleargr@user/nuclearg1) (*.net *.split)
[09:05:45] *** Quits: fizzizist1 (~fizzizist@72.53.248.15) (*.net *.split)
[09:05:45] *** Quits: tinystoat (~squeek@user/tinystoat) (*.net *.split)
[09:05:48] *** Quits: epony (epony@user/epony) (*.net *.split)
[09:05:49] *** Quits: skered (~dereks@user/skered) (*.net *.split)
[09:05:49] *** Quits: Error (~err@user/error) (*.net *.split)
[09:05:49] *** Quits: tkazi (~tkazi@user/tkazi) (*.net *.split)
[09:05:49] *** Quits: Philonous (~Philonous@user/philonous) (*.net *.split)
[09:05:49] *** Quits: ponies (~ponies@27-33-173-235.tpgi.com.au) (*.net *.split)
[09:05:49] *** Quits: din0 (~dino@user/din0) (*.net *.split)
[09:05:49] *** Quits: dmonschein (dmonschein@2600:3c03::f03c:91ff:fe05:7562) (*.net *.split)
[09:05:49] *** Quits: bdeferme (~bdeferme@i.ctrl86.com) (*.net *.split)
[09:05:49] *** Quits: picooz (~picooz@user/picooz) (*.net *.split)
[09:05:49] *** Quits: Anvil (~anvil@193.252.149.222) (*.net *.split)
[09:05:49] *** Quits: trane (~trane@login.redpill-linpro.com) (*.net *.split)
[09:05:49] *** Quits: nvz (~user@nvz.farted.online) (*.net *.split)
[09:05:49] *** Quits: mrtnt_ (~Martin@2001:ad0:1:1:da9e:f3ff:fe4a:8dd0) (*.net *.split)
[09:05:50] *** Quits: funhouse (~funhouse@user/funhouse) (*.net *.split)
[09:05:50] *** Quits: jaamro (~jaamro@user/ormaaj) (*.net *.split)
[09:05:54] *** Joins: tinystoat (~squeek@user/tinystoat)
[09:05:57] *** Joins: Anvil (~anvil@193.252.149.222)
[09:06:01] *** Joins: nvz (~user@nvz.farted.online)
[09:06:01] *** Joins: trane (~trane@login.redpill-linpro.com)
[09:06:02] *** Joins: din0 (~dino@cpe-74-131-247-218.kya.res.rr.com)
[09:06:11] *** Quits: din0 (~dino@cpe-74-131-247-218.kya.res.rr.com) (Changing host)
[09:06:11] *** Joins: din0 (~dino@user/din0)
[09:06:12] *** Joins: nucleargrave (~nucleargr@c-73-150-253-137.hsd1.nj.comcast.net)
[09:06:14] *** Joins: Error (~err@ethicalslacker.net)
[09:06:14] *** Joins: ponies (~ponies@27-33-173-235.tpgi.com.au)
[09:06:20] *** Joins: bdeferme (~bdeferme@i.ctrl86.com)
[09:06:22] *** Quits: Error (~err@ethicalslacker.net) (Changing host)
[09:06:22] *** Joins: Error (~err@user/error)
[09:06:22] *** Joins: dmonschein (dmonschein@2600:3c03::f03c:91ff:fe05:7562)
[09:06:26] *** Joins: mrtnt_ (~Martin@2001:ad0:1:1:da9e:f3ff:fe4a:8dd0)
[09:06:31] *** Joins: Philonous (~Philonous@user/philonous)
[09:06:35] *** Joins: fizzizist1 (~fizzizist@72.53.248.15)
[09:06:38] *** Joins: tkazi (~tkazi@user/tkazi)
[09:07:02] *** Joins: skered (~dereks@user/skered)
[09:07:55] *** Joins: picooz (~picooz@user/picooz)
[09:08:44] *** Quits: nattiestnate (~nate@202.138.250.62) (Quit: WeeChat 3.4.1)
[09:09:51] *** Joins: Guest6037 (epony@lz2.eu)
[09:10:04] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[09:12:01] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[09:13:35] *** Quits: aerysh (~aerysh@2a0a:b640:1:5a::a07d) (Quit: Leaving)
[09:14:42] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Ping timeout: 252 seconds)
[09:17:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[09:19:34] *** Joins: fling (~fling@user/fling)
[09:21:02] *** Joins: kurahaupo_ (~kurahaupo@pa49-197-24-107.pa.qld.optusnet.com.au)
[09:23:30] *** Quits: kurahaupo (~kurahaupo@pa49-182-133-2.pa.qld.optusnet.com.au) (Ping timeout: 252 seconds)
[09:24:16] *** Quits: labrador (~labrador@user/labrador) (Quit: Leaving)
[09:24:31] *** Joins: senoraraton (~senorarat@c-67-160-210-246.hsd1.ca.comcast.net)
[09:25:09] *** Quits: Jong (~Jong@184-99-74-148.boid.qwest.net) (Ping timeout: 252 seconds)
[09:26:15] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:2c89:8e5c:78e:a8d0) (Ping timeout: 252 seconds)
[09:26:26] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[09:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:30:21] *** Joins: tijuco (~tijuco@user/tijuco)
[09:31:15] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:33:45] *** Quits: momonster (~mo@ip1f105454.dynamic.kabel-deutschland.de) (Quit: Konversation terminated!)
[09:36:49] *** Joins: cdman (~dcm@user/dmc/x-4369397)
[09:36:49] *** Quits: A|an (~Alan@173.216.48.26) (Quit: A|an)
[09:39:30] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[09:40:38] *** Quits: malina (~malina@user/malina) (Quit: malina)
[09:40:59] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Ping timeout: 268 seconds)
[09:46:52] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[09:48:16] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:2c89:8e5c:78e:a8d0)
[09:48:31] *** Joins: labrador (~labrador@user/labrador)
[09:49:58] *** Joins: loganlee[gnu] (~Thunderbi@user/loganlee)
[09:50:57] *** Quits: senoraraton (~senorarat@c-67-160-210-246.hsd1.ca.comcast.net) (Ping timeout: 240 seconds)
[09:52:21] *** Joins: malina (~malina@user/malina)
[09:52:32] *** Quits: tijuco (~tijuco@user/tijuco) (Quit: Leaving)
[09:52:37] *** Joins: kdc (~kdc@196-210-1-81.dynamic.isadsl.co.za)
[09:52:47] *** Quits: malina (~malina@user/malina) (Remote host closed the connection)
[09:53:13] *** Quits: kdc (~kdc@196-210-1-81.dynamic.isadsl.co.za) (Max SendQ exceeded)
[09:53:42] *** Joins: kdc (~kdc@196-210-1-81.dynamic.isadsl.co.za)
[09:57:17] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[10:02:07] *** Quits: ravan_ (~ravan@user/ravan) (Ping timeout: 260 seconds)
[10:07:43] *** Quits: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e) (Ping timeout: 260 seconds)
[10:09:24] *** Joins: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[10:11:42] *** Joins: Mo (~Mo@dynamic-095-112-038-030.95.112.pool.telefonica.de)
[10:21:27] *** Quits: Spawns_Carpeting (~Spawns_Ca@user/spawns-carpeting/x-6969421) (Quit: WeeChat 3.0)
[10:21:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[10:22:43] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[10:23:41] *** Joins: fling (~fling@user/fling)
[10:23:48] *** Joins: Spawns_Carpeting (~Spawns_Ca@user/spawns-carpeting/x-6969421)
[10:29:30] *** Quits: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net) (Quit: It's just that easy)
[10:30:36] *** Joins: Jong (~Jong@2620:10d:c090:400::5:bdbd)
[10:31:12] *** Joins: han-solo (~han-solo@user/han-solo)
[10:31:44] *** Joins: marderIII (~MarderIII@86-88-74-111.fixed.kpn.net)
[10:33:50] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[10:33:50] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Client Quit)
[10:33:57] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[10:36:25] *** Joins: sinaowolabi (~SinaOwola@160.152.94.96)
[10:39:07] *** Joins: jdvr_ (~jdvr@user/jdvr)
[10:40:38] *** Joins: mak (~mak@ppp079166006191.access.hol.gr)
[10:41:28] *** Joins: jlj (~jlj@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net)
[10:42:00] <Dr-007> question. ive got: test.sh https://dpaste.com/7LRDP4XWD and functions.sh: https://dpaste.com/HCQ5H2E8E in test.sh i want to call the overall_progress function but make it so that code below will be executed inmediately so i added an & to make it a subprocess but this doesnt work
[10:42:49] <Dr-007> and also i want to measure if the function's cancel has been pressed so i can killall something
[10:43:22] <Dr-007> maybe i need a trap?
[10:45:04] *** Quits: dreamon (~dreamon@p54b14978.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[10:45:21] *** Joins: nate1 (~nate@98.45.167.61)
[10:47:29] *** Joins: j0hn_mc_clane (~j0hn_mc_c@ptr-fqhhm12iua58a0gd4hj.18120a2.ip6.access.telenet.be)
[10:47:32] <Dr-007> doesnt really matter, i cant get it to spawn a subshell
[10:48:22] *** Joins: downunder (~downunder@110.151.32.43)
[10:48:41] <Dr-007> perhabs i should just put it in a seperate shell script and call that with the &
[10:48:59] <Dr-007> but from reading online i figured that it'd be possible
[10:50:01] *** Quits: nate1 (~nate@98.45.167.61) (Ping timeout: 246 seconds)
[10:51:05] <Dr-007> ok i succeeded in the spawning part
[10:51:29] *** Quits: mak (~mak@ppp079166006191.access.hol.gr) (Quit: Leaving)
[10:51:47] *** Joins: mak (~mak@ppp079166006191.access.hol.gr)
[10:53:24] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.1)
[10:58:26] *** Joins: yustin (~yustin@user/yustin)
[10:58:53] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[11:00:48] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[11:01:36] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[11:01:51] *** Joins: unop (~unop@195.91.4.124)
[11:02:59] <Dr-007> right. i dont see how that's easily done. so ill just spawn it and instead of checking in test.sh if its running ill make the spawned function do a killall to kill the script
[11:03:16] <Dr-007> im pretty much done for today
[11:03:19] <Dr-007> bye
[11:03:36] *** Quits: Dr-007 (~Dr-007@user/Dr-007) (Quit: Leaving)
[11:03:57] *** Quits: junebug (~junebug@2600:1700:3db0:2540:5964:5c6c:b427:583c) (Ping timeout: 240 seconds)
[11:06:11] *** Quits: DK31 (~DK3@rs000042.fastrootserver.de) (Changing host)
[11:06:11] *** Joins: DK31 (~DK3@user/DK3)
[11:06:28] *** Joins: VoidSync (~sync@user/voidsync)
[11:11:13] <dirtwash> can I run a bash variable in the background? like var=$(something &)? since it doesnt seem to work
[11:11:31] <geirha> no
[11:12:03] <dirtwash> ok but i could probably run this as additional script and then run the second script in background?
[11:12:26] <dirtwash> i need to run 2 processes in parallel, tcpdump + curl
[11:12:56] *** Quits: ano (~ano@user/ano) (Remote host closed the connection)
[11:13:12] <dirtwash> so i can extract the tcpdump result and use it further down the line in my script
[11:13:13] <geirha> having at least one of them write to a tempfile will most likely be the easiest
[11:13:16] *** Joins: ano (~ano@user/ano)
[11:13:28] <dirtwash> geirha: dang..i didnt even think of that
[11:13:31] <dirtwash> stupid me, thanks
[11:14:38] *** Joins: rememberYou (~someone@user/rememberyou)
[11:15:27] *** mak is now known as Mak
[11:15:38] *** Mak is now known as mak_GR
[11:15:46] *** Quits: talsamon (~talsamon@91-115-94-128.adsl.highway.telekom.at) (Ping timeout: 245 seconds)
[11:16:02] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[11:19:15] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[11:20:13] *** Quits: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 240 seconds)
[11:21:08] *** Joins: tobybl (~tobybl@227.192.115.87.dyn.plus.net)
[11:25:22] *** Quits: tobybl (~tobybl@227.192.115.87.dyn.plus.net) (Ping timeout: 246 seconds)
[11:25:35] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[11:26:27] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Remote host closed the connection)
[11:27:45] *** Joins: fling (~fling@user/fling)
[11:27:59] *** Joins: dreamon (~dreamon@ppp-88-217-83-128.dynamic.mnet-online.de)
[11:28:33] *** Joins: talsamon (~talsamon@91-115-90-156.adsl.highway.telekom.at)
[11:29:01] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[11:29:14] *** Joins: tobybl (~tobybl@227.192.115.87.dyn.plus.net)
[11:30:18] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[11:32:07] *** Joins: mak (~mak@ppp079166006191.access.hol.gr)
[11:34:05] *** Parts: VoidSync (~sync@user/voidsync) ()
[11:34:28] *** Quits: mak_GR (~mak@ppp079166006191.access.hol.gr) (Ping timeout: 246 seconds)
[11:35:56] *** Quits: rcernin (~rcernin@101.189.129.123) (Quit: WeeChat 3.4.1)
[11:36:19] *** Joins: uzee (~uzee@86.36.37.198)
[11:37:25] *** Quits: mak (~mak@ppp079166006191.access.hol.gr) (Quit: Leaving)
[11:37:39] *** Joins: mak (~mak@ppp079166006191.access.hol.gr)
[11:37:41] *** mak is now known as mak_GR
[11:43:56] <dirtwash> if i redirect output to a file instead of stdout can i stilluse & to put it in background? because my file is always empty
[11:43:58] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[11:46:32] <pj> dirtwash: yes, show your code
[11:46:40] <dirtwash> tcpdump -v ip -i eno1 host "$ip" and inbound -l -c 3 >/tmp/"$UUID" &
[11:46:50] <dirtwash> that line is noly producing empty files despite succesfull tcpdump
[11:47:48] <dirtwash> I know it ran because I still get the "3 packets captured" in stdout from tcpdump
[11:47:56] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[11:49:06] <pj> That should work, yes.
[11:49:21] <pj> but you wont' get anything to stdout, because you're directing stdout to the file.
[11:49:41] <dirtwash> ok well wherever tcpdump sends this additional info lines
[11:49:46] *** Quits: CarlFK (~carlfk@2001:470:69fc:105::5d8) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: aplund (~aplundmat@2001:470:69fc:105::4146) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: ormaaj (~ormaaj@user/ormaaj) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: nazarewk[m] (~nazarewk@2001:470:69fc:105::1:2c8d) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: NRK (~nrkmatrix@2001:470:69fc:105::4e30) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: Nod0n[m] (~nod0nmatr@2001:470:69fc:105::211) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: hussam (~hussam@user/hussam) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: sm (~sm@plaintextaccounting/sm) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: alkisg (~alkisg@2001:470:69fc:105::2d3) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: JayDoubleu (~jdoubmatr@2001:470:69fc:105::1:3831) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: Helmholtz (~leibnizma@2001:470:69fc:105::3124) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: ForeverNoob[m] (~foreverno@2001:470:69fc:105::8c6) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: lkhn (~lkhn@user/lkhn) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: euphrates[m] (~euphrates@2001:470:69fc:105::fbb5) (Quit: Bridge terminating on SIGTERM)
[11:49:46] *** Quits: gloomy (~gloomy@2001:470:69fc:105::ce00) (Quit: Bridge terminating on SIGTERM)
[11:49:47] *** Quits: creme[m] (~creme@2001:470:69fc:105::31c8) (Quit: Bridge terminating on SIGTERM)
[11:49:47] *** Quits: Celmor[m] (~celmor@2001:470:69fc:105::434) (Quit: Bridge terminating on SIGTERM)
[11:49:47] *** Quits: go4godvin (~go4godvin@user/go4godvin) (Quit: Bridge terminating on SIGTERM)
[11:49:47] *** Quits: expipiplus1 (~expipiplu@2001:470:69fc:105::d713) (Quit: Bridge terminating on SIGTERM)
[11:49:47] *** Quits: kuhilas (~kuhilas@2001:470:69fc:105::3040) (Quit: Bridge terminating on SIGTERM)
[11:49:47] *** Quits: xrvs[m] (~huyngoenv@2001:470:69fc:105::dbc7) (Quit: Bridge terminating on SIGTERM)
[11:49:47] *** Quits: Psi-Jack[m] (~psi-jack@user/psi-jack) (Quit: Bridge terminating on SIGTERM)
[11:49:47] *** Quits: apos[m] (~apos382ma@2001:470:69fc:105::b6da) (Quit: Bridge terminating on SIGTERM)
[11:49:47] *** Quits: plopix[m] (~ewnzlmatr@2001:470:69fc:105::7b68) (Quit: Bridge terminating on SIGTERM)
[11:49:47] *** Quits: Ulfnic[m] (~ulfnicmat@2001:470:69fc:105::e5c5) (Quit: Bridge terminating on SIGTERM)
[11:49:47] *** Quits: DeaDSouL[m] (~deadsoulm@2001:470:69fc:105::1:c0de) (Quit: Bridge terminating on SIGTERM)
[11:49:48] *** Quits: mizzunet (~mizzunetm@2001:470:69fc:105::1:5d39) (Quit: Bridge terminating on SIGTERM)
[11:49:48] *** Quits: M4[m] (~owl4cemat@2001:470:69fc:105::1:3235) (Quit: Bridge terminating on SIGTERM)
[11:49:48] *** Quits: rudolff[m] (~rudolffma@2001:470:69fc:105::1:25dd) (Quit: Bridge terminating on SIGTERM)
[11:49:48] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (Quit: Bridge terminating on SIGTERM)
[11:49:48] *** Quits: augiro[m] (~augiromat@2001:470:69fc:105::1:cac9) (Quit: Bridge terminating on SIGTERM)
[11:49:48] *** Quits: dan01[m] (~dan01@2001:470:69fc:105::1:2640) (Quit: Bridge terminating on SIGTERM)
[11:49:48] *** Quits: quas[m] (~quasmatri@2001:470:69fc:105::2aa5) (Quit: Bridge terminating on SIGTERM)
[11:49:49] *** Quits: WallaceTim[m] (~wallaceti@2001:470:69fc:105::1:cf49) (Quit: Bridge terminating on SIGTERM)
[11:49:50] *** Quits: random_chimp[m] (~randomchi@2001:470:69fc:105::1:d31d) (Quit: Bridge terminating on SIGTERM)
[11:49:51] *** Quits: jinsun_ (~jinsun@user/jinsun) (Quit: Bridge terminating on SIGTERM)
[11:49:51] *** Quits: avesatanas[m] (~avesatana@2001:470:69fc:105::1:d083) (Quit: Bridge terminating on SIGTERM)
[11:49:51] *** Quits: ter87[m] (~ter87matr@2001:470:69fc:105::1:db3d) (Quit: Bridge terminating on SIGTERM)
[11:49:51] *** Quits: f00[m] (~f00envsne@2001:470:69fc:105::1:cf5a) (Quit: Bridge terminating on SIGTERM)
[11:49:51] *** Quits: promach[m] (~promach@2001:470:69fc:105::ca1) (Quit: Bridge terminating on SIGTERM)
[11:49:52] *** Quits: Narrativa (~flyingket@2001:470:69fc:105::dea9) (Quit: Bridge terminating on SIGTERM)
[11:49:52] *** Quits: artemon (~artemon@2001:470:69fc:105::87c) (Quit: Bridge terminating on SIGTERM)
[11:49:52] *** Quits: tamz[m] (~tamzmatri@2001:470:69fc:105::9d6d) (Quit: Bridge terminating on SIGTERM)
[11:49:52] *** Quits: bluepenquin (~bluepenqu@user/bluepenquin) (Quit: Bridge terminating on SIGTERM)
[11:49:53] *** Quits: mux[m] (~stoneware@2001:470:69fc:105::d0dc) (Quit: Bridge terminating on SIGTERM)
[11:49:53] *** Quits: divide0[m] (~divide0ma@2001:470:69fc:105::efcd) (Quit: Bridge terminating on SIGTERM)
[11:49:54] *** Quits: hugo[m]12 (~pumaenvsn@2001:470:69fc:105::1:5f09) (Quit: Bridge terminating on SIGTERM)
[11:49:54] *** Quits: GiorgiGzirishvil (~drnmatrix@2001:470:69fc:105::1:d1e5) (Quit: Bridge terminating on SIGTERM)
[11:49:54] *** Quits: white_rose[m] (~whiterose@2001:470:69fc:105::1:c732) (Quit: Bridge terminating on SIGTERM)
[11:49:58] *** Quits: holmesbespin[m] (~holmesbes@2001:470:69fc:105::80c6) (Quit: Bridge terminating on SIGTERM)
[11:49:58] *** Quits: sss123next[m] (~sss123nex@2001:470:69fc:105::1:ceac) (Quit: Bridge terminating on SIGTERM)
[11:49:59] *** Quits: lautre[m] (~lautreg@2001:470:69fc:105::311f) (Quit: Bridge terminating on SIGTERM)
[11:50:40] <dirtwash> i think its because its not stdout?
[11:51:01] *** Quits: tccki (~tccki@box.webslate.co.nz) (Quit: tccki)
[11:51:02] *** Quits: useretail (~useretail@185.132.19.151) (Remote host closed the connection)
[11:51:03] <dirtwash> if i run it manually i also get 0 size file
[11:51:16] <dirtwash> possibly related to putting tcpdump in bg?
[11:51:18] *** Joins: useretail (~useretail@185.132.19.151)
[11:51:20] *** Joins: tccki (~tccki@box.webslate.co.nz)
[11:51:50] <pj> no idea, but it does look to be an issue with tcpdump.
[11:52:13] <pj> the "3 packets captured" would likely be going to stderr
[11:52:34] <dirtwash> i can recirect it to file if I dont use &
[11:52:50] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 272 seconds)
[11:53:29] *** Joins: kuhilas (~kuhilas@2001:470:69fc:105::3040)
[11:53:34] <dirtwash> so putting it to background fails to redirect stdout to file
[11:53:36] *** Quits: jinsun (~jinsun@user/jinsun) ()
[11:53:37] *** Joins: ter87[m] (~ter87matr@2001:470:69fc:105::1:db3d)
[11:53:40] *** Quits: j0hn_mc_clane (~j0hn_mc_c@ptr-fqhhm12iua58a0gd4hj.18120a2.ip6.access.telenet.be) (Remote host closed the connection)
[11:53:52] *** Joins: lkhn (~lkhn@user/lkhn)
[11:53:57] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[11:54:00] *** Joins: j0hn_mc_clane (~j0hn_mc_c@ptr-fqhhm12iua58a0gd4hj.18120a2.ip6.access.telenet.be)
[11:54:06] *** Joins: mux[m] (~stoneware@2001:470:69fc:105::d0dc)
[11:54:07] *** Joins: NRK (~nrkmatrix@2001:470:69fc:105::4e30)
[11:54:07] *** Joins: CarlFK (~carlfk@2001:470:69fc:105::5d8)
[11:54:19] *** Joins: augiro[m] (~augiromat@2001:470:69fc:105::1:cac9)
[11:54:31] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[11:54:31] *** Joins: rudolff[m] (~rudolffma@2001:470:69fc:105::1:25dd)
[11:54:31] *** Joins: lautre[m] (~lautreg@2001:470:69fc:105::311f)
[11:54:31] *** Joins: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4)
[11:54:35] *** Quits: phaise (~phaise@gateway/tor-sasl/phaise) (Ping timeout: 240 seconds)
[11:54:43] *** Joins: Celmor[m] (~celmor@2001:470:69fc:105::434)
[11:54:43] *** Joins: jmcantrell (~jmcantrel@user/jmcantrell)
[11:54:43] *** Joins: aplund (~aplundmat@2001:470:69fc:105::4146)
[11:54:43] *** Joins: Psi-Jack[m] (~psi-jack@user/psi-jack)
[11:54:43] *** Joins: jinsun_ (~jinsun@user/jinsun)
[11:54:43] *** Joins: hussam (~hussam@user/hussam)
[11:54:57] *** Joins: white_rose[m] (~whiterose@2001:470:69fc:105::1:c732)
[11:54:57] *** Joins: ormaaj (~ormaaj@user/ormaaj)
[11:55:09] *** Joins: plopix[m] (~ewnzlmatr@2001:470:69fc:105::7b68)
[11:55:09] *** Joins: ForeverNoob[m] (~foreverno@2001:470:69fc:105::8c6)
[11:55:09] *** Joins: Ulfnic[m] (~ulfnicmat@2001:470:69fc:105::e5c5)
[11:55:09] *** Joins: expipiplus1 (~expipiplu@2001:470:69fc:105::d713)
[11:55:14] <pj> I don't see any reason why that would fail simply due to the inclusion of the & at the end.
[11:55:18] *** Joins: quas[m] (~quasmatri@2001:470:69fc:105::2aa5)
[11:55:21] *** Joins: unop (~unop@195.91.4.124)
[11:55:30] *** Joins: random_chimp[m] (~randomchi@2001:470:69fc:105::1:d31d)
[11:55:30] *** Joins: bluepenquin (~bluepenqu@user/bluepenquin)
[11:55:30] *** Joins: JayDoubleu (~jdoubmatr@2001:470:69fc:105::1:3831)
[11:55:42] <dirtwash> if i run it with nohup it works
[11:55:43] *** Joins: owl4ce[m] (~owl4cemat@2001:470:69fc:105::1:3235)
[11:55:44] *** Joins: sm (~sm@plaintextaccounting/sm)
[11:55:51] *** Joins: situ (~situ@ip-89-176-145-74.net.upcbroadband.cz)
[11:55:59] *** Joins: go4godvin (~go4godvin@user/go4godvin)
[11:56:00] *** Joins: phaise (~phaise@gateway/tor-sasl/phaise)
[11:56:11] *** Joins: f00[m] (~f00envsne@2001:470:69fc:105::1:cf5a)
[11:56:11] *** Joins: DeaDSouL[m] (~deadsoulm@2001:470:69fc:105::1:c0de)
[11:56:23] *** Joins: hugo[m]1 (~pumaenvsn@2001:470:69fc:105::1:5f09)
[11:56:23] *** Joins: Helmholtz (~leibnizma@2001:470:69fc:105::3124)
[11:56:23] *** Joins: gloomy (~gloomy@2001:470:69fc:105::ce00)
[11:56:24] *** Joins: euphrates[m] (~euphrates@2001:470:69fc:105::fbb5)
[11:56:36] *** Joins: tamz[m] (~tamzmatri@2001:470:69fc:105::9d6d)
[11:56:37] *** Joins: alkisg (~alkisg@2001:470:69fc:105::2d3)
[11:56:49] *** Joins: holmesbespin[m] (~holmesbes@2001:470:69fc:105::80c6)
[11:56:49] *** Joins: sss[m] (~sss123nex@2001:470:69fc:105::1:ceac)
[11:56:49] *** Joins: dan01[m] (~dan01@2001:470:69fc:105::1:2640)
[11:57:01] *** Joins: apos[m] (~apos382ma@2001:470:69fc:105::b6da)
[11:57:01] *** Joins: creme[pleromaenv (~creme@2001:470:69fc:105::31c8)
[11:57:03] *** Joins: mizzunet (~mizzunet@2001:470:69fc:105::1:5d39)
[11:57:03] *** Joins: GiorgiGzirishvil (~drnmatrix@2001:470:69fc:105::1:d1e5)
[11:57:03] *** Joins: artemon (~artemon@2001:470:69fc:105::87c)
[11:57:03] *** Joins: nazarewk[m] (~nazarewk@2001:470:69fc:105::1:2c8d)
[11:57:03] *** Joins: avesatanas[m] (~avesatana@2001:470:69fc:105::1:d083)
[11:57:03] *** Joins: Nod0n[m] (~nod0nmatr@2001:470:69fc:105::211)
[11:57:04] <geirha> if you're testing in an interactive shell, that probably means it's trying to read stdin
[11:57:04] *** creme[pleromaenv is now known as creme[m]
[11:57:14] *** Joins: WallaceTim[m] (~wallaceti@2001:470:69fc:105::1:cf49)
[11:57:15] *** Joins: divide0[m] (~divide0ma@2001:470:69fc:105::efcd)
[11:57:17] *** Joins: promach[m] (~promach@2001:470:69fc:105::ca1)
[11:57:17] *** Joins: Narrativa (~flyingket@2001:470:69fc:105::dea9)
[11:57:18] *** Joins: huy[m] (~huyngoenv@2001:470:69fc:105::dbc7)
[11:57:44] <dirtwash> geirha: no i ran it via script
[11:57:46] *** Joins: jinsun (~jinsun@user/jinsun)
[11:58:47] <dirtwash> hm this is way more comlicated than i thought it'd be, all I want is to run tcpdump and curl
[11:59:00] <geirha> ok, then maybe it's becasue stderr is a tty; try with tcpdump ... > dumpfile 2>&1 &
[11:59:12] *** Quits: NoelFlantier3 (~Hubert@195.201.244.189) (Remote host closed the connection)
[11:59:34] *** Joins: NoelFlantier3 (~Hubert@195.201.244.189)
[12:00:47] <dirtwash> geirha:that only writes the stderr
[12:01:00] <dirtwash> liek the : tcpdump: listening on eno1, link-type EN10MB (Ethernet), capture size 262144 bytes
[12:01:04] <dirtwash> but not the actual stdout
[12:02:12] <geirha> ok, so it's buffering ... didn't know nohup changed the buffering of stdout
[12:02:46] <dirtwash> well i removed nohup now
[12:03:03] <dirtwash> caused the tcpdump to hang indefinite even with -c or timeout
[12:03:10] <pj> geirha: the -l puts tcpdump into line-buffered mode
[12:03:19] *** Quits: mak_GR (~mak@ppp079166006191.access.hol.gr) (Quit: Leaving)
[12:03:34] *** Joins: mak_GR (~mak@ppp079166006191.access.hol.gr)
[12:04:06] <pj> dirtwash: if it's hanging it suggests it's waiting for input somehow.
[12:04:38] <dirtwash> but it had the input since i see from stderr it got the 3 packages but then the process deosnt exit
[12:04:45] <dirtwash> also wasnt writing to file properly after all
[12:04:56] <dirtwash> not when run ins cript
[12:05:12] <dirtwash> ok it seems getting the stdout from tcpdump is hard...even with -l removed
[12:05:43] <dirtwash> but i need it in bg because i need to run curl whilst tcpdump runs obviously
[12:05:56] <dirtwash> maybe i should try executing it as subscript?
[12:06:19] <pj> try putting -l -c3 before the expression
[12:06:29] <pj> ...instead of after it
[12:06:46] *** Quits: jlj (~jlj@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net) (Ping timeout: 272 seconds)
[12:07:14] <dirtwash> same
[12:07:48] <dirtwash> problem seems to be the &
[12:08:05] *** Quits: mak_GR (~mak@ppp079166006191.access.hol.gr) (Client Quit)
[12:08:18] *** Joins: mak_GR (~mak@ppp079166006191.access.hol.gr)
[12:10:31] *** Quits: libsys (~libsys@186.105.128.84) (Remote host closed the connection)
[12:10:52] *** Joins: libsys (~libsys@186.105.128.84)
[12:13:00] <jimgray> Hello, I want to create alias for two scenarios in ~/.bashrc depending on values of a variable.
[12:13:53] <osse> go forth
[12:14:49] <jimgray> I want: cmd-foo="MY_VAR=foo cmd"
[12:15:01] <jimgray> cmd-bar="MY_VAR=bar cmd"
[12:15:40] <dirtwash> i got it working with -U flag
[12:15:40] <jimgray> osse: go forth?
[12:16:13] <jimgray> -U flag of what ?
[12:16:35] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[12:16:54] <dirtwash> jimgray: sorry that wasnt for you
[12:16:55] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[12:16:57] <pj> jimgray: use a function
[12:17:00] <osse> jimgray: you want one of those aliases but not both?
[12:17:06] <dirtwash> geirha: -U flag fixed it
[12:17:12] *** Quits: mak_GR (~mak@ppp079166006191.access.hol.gr) (Quit: Leaving)
[12:17:22] <osse> those are distinct, might as well define both, no?
[12:17:26] *** Joins: mak_GR (~mak@ppp079166006191.access.hol.gr)
[12:17:43] <pj> cmd-foo(){ MY_VAR=foo "$@"; }
[12:19:19] <jimgray> my case is like this: "cmd" would use different URLs (foo/bar) dependeing on MY_VAR value. I want "cmd-foo" be 'MY_VAR=foo cmd', and "cmd-bar" be 'MY_VAR=bar cmd'
[12:19:44] <jimgray> osse: I want both
[12:20:03] <jimgray> in each alias, I set the MY_VAR variable
[12:20:42] <jimgray> pj: so define two such functions?
[12:20:50] <pj> jimgray: sure
[12:21:11] <jimgray> cmd-bar () { MY_VAR=bar my-cmd "$2" }
[12:21:27] <jimgray> your example above lack "my-cmd" part?
[12:22:17] <pj> it didn't lack you just didn't sufficiently describe what you wanted.
[12:22:44] <pj> /query shbot
[12:22:46] <pj> oops
[12:23:12] <jimgray> cmd-bar () { MY_VAR=bar my-cmd "$@" }
[12:23:59] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 260 seconds)
[12:24:11] <pj> or even better: mycmd(){ MY_VAR=$1 my-cmd "${@:2}"; }
[12:24:22] *** Joins: jaamro (~jaamro@user/ormaaj)
[12:24:30] <pj> then you don't need a separate one for each value of MY_VAR
[12:24:53] <jimgray> pj: really!
[12:24:56] <jimgray> brilliant
[12:25:08] <pj> you could then just do: mycmd foo blah blah
[12:25:15] <pj> or mycomd bar blah blah
[12:25:21] <jimgray> binggo!
[12:25:27] <jimgray> that's better
[12:25:48] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[12:26:09] <jimgray> if I do this:
[12:26:44] <jimgray>  my-cmd(){ MY_VAR=$1 my-cmd "${@:2}"; }
[12:27:06] <jimgray> would the function my-cmd shadow the realy command my-cmd?
[12:27:15] *** Quits: dermoth (~dermoth@user/dermoth) (Ping timeout: 260 seconds)
[12:28:33] *** Quits: loganlee[gnu] (~Thunderbi@user/loganlee) (Quit: loganlee[gnu])
[12:28:40] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[12:28:56] *** Joins: unop (~unop@195.91.4.124)
[12:29:36] *** Joins: iomari891 (~iomari891@102.89.33.175)
[12:30:15] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[12:30:23] *** Quits: mak_GR (~mak@ppp079166006191.access.hol.gr) (Quit: Leaving)
[12:30:38] *** Joins: mak_GR (~mak@ppp079166006191.access.hol.gr)
[12:31:13] *** Quits: libsys (~libsys@186.105.128.84) (Remote host closed the connection)
[12:31:52] *** Joins: fling (~fling@user/fling)
[12:32:28] *** Joins: libsys (~libsys@186.105.128.84)
[12:33:35] <jimgray> pj: btw, variables only used by some applications (e.g. my-cmd in this case) should be put in .bashrc or .bash_profile?
[12:39:11] *** Joins: dermoth (~dermoth@user/dermoth)
[12:39:55] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 246 seconds)
[12:41:46] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[12:43:17] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 240 seconds)
[12:44:58] *** Joins: masber (~masber@vpn-123.cscs.ch)
[12:45:31] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi)
[12:46:33] *** Joins: shad (~shad@user/shad)
[12:47:28] *** Joins: fourHZ (~fourHZ@92-52-40-121.dynamic.orange.sk)
[12:47:45] <pj> jimgray: I put those in .bashrc
[12:47:51] <pj> ~dotfiles
[12:47:53] <pj> !dotfiles
[12:47:53] <greybot> Set up your environment (PATH, LANG, EDITOR, ...) in ~/.bash_profile. Set up your bash shell (PS1, functions, shopts, ...) in ~/.bashrc. Then source .bashrc from .bash_profile. See <http://mywiki.wooledge.org/DotFiles>. For GUI logins, SEE YOUR DOCUMENTATION or ask your OS channel because they're all different and we don't know.
[12:48:43] *** Quits: labrador (~labrador@user/labrador) (Remote host closed the connection)
[12:48:48] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 260 seconds)
[12:49:06] <pj> also, not sure what you mean by "shadow" but consider that the first arg to the function sets MY_VAR and the remaining args get passed verbatim to my_cmd.
[12:49:15] *** Joins: labrador (~labrador@user/labrador)
[12:49:22] *** Joins: lavaball (felix@31.204.155.215)
[12:49:58] *** Joins: labrador_ (~labrador@user/labrador)
[12:50:35] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[12:50:49] <jimgray> pj: let me try
[12:50:54] <jimgray> poor english ^_^
[12:51:13] *** Joins: eroux (~eroux@102-65-72-61.ftth.web.africa)
[12:51:56] *** Joins: rendar (~rendar@user/rendar)
[12:51:57] *** Joins: Sulky (~Sulky@195.130.222.199)
[12:52:15] *** Quits: richardm645 (~quassel@2600:8801:c502:f700:a9e7:6a7b:987b:bc3a) (Ping timeout: 256 seconds)
[12:53:08] *** Joins: quhar (~quhar@192.162.148.48)
[12:53:35] *** Quits: labrador (~labrador@user/labrador) (Ping timeout: 240 seconds)
[12:54:14] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[12:54:47] *** Quits: labrador_ (~labrador@user/labrador) (Remote host closed the connection)
[12:55:17] *** Quits: kurahaupo_ (~kurahaupo@pa49-197-24-107.pa.qld.optusnet.com.au) (Ping timeout: 240 seconds)
[12:55:53] *** Joins: labrador_ (~labrador@user/labrador)
[12:56:24] *** Joins: cart_ (~cart@cpc99926-brnt1-2-0-cust961.4-2.cable.virginm.net)
[12:56:47] *** Quits: labrador_ (~labrador@user/labrador) (Remote host closed the connection)
[13:00:07] *** Joins: labrador (~labrador@user/labrador)
[13:01:14] *** Joins: fspax (~fspax@46.148.141.211)
[13:08:27] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 252 seconds)
[13:08:55] *** Joins: labrador_ (~labrador@user/labrador)
[13:09:16] *** Joins: loganlee[gnu] (~Thunderbi@user/loganlee)
[13:09:19] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 246 seconds)
[13:09:48] *** Quits: labrador_ (~labrador@user/labrador) (Remote host closed the connection)
[13:09:49] <dirtwash> whats a quick way to extract lines from a file that dont have a second string in the line, aka missing value
[13:09:57] <dirtwash> probably some awk magic
[13:11:24] <dirtwash> hm awk 'NF==2' ..thanks
[13:12:35] *** Quits: labrador (~labrador@user/labrador) (Ping timeout: 240 seconds)
[13:15:22] *** Joins: MajorBiscuit (~MajorBisc@86.88.79.148)
[13:17:17] *** Quits: BUSY (~BUSY@user/busy) (Ping timeout: 240 seconds)
[13:18:24] *** Joins: BUSY (~BUSY@user/busy)
[13:19:06] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 245 seconds)
[13:20:37] *** Joins: malina (~malina@user/malina)
[13:20:52] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 246 seconds)
[13:22:49] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[13:24:39] *** Quits: kyr (~kyr@167.71.50.12) (Remote host closed the connection)
[13:25:03] *** Joins: kyr (~kyr@167.71.50.12)
[13:26:03] *** Quits: cart_ (~cart@cpc99926-brnt1-2-0-cust961.4-2.cable.virginm.net) (Ping timeout: 260 seconds)
[13:31:06] *** Joins: xx (~xx@user/xx)
[13:33:23] *** Quits: skapata (~Skapata@user/skapata) (Read error: Connection reset by peer)
[13:34:16] *** Quits: Night-Shade (~Tim@ip5b40e36d.dynamic.kabel-deutschland.de) (Read error: Connection reset by peer)
[13:34:44] *** Joins: Night-Shade (~Tim@ip5b40e36d.dynamic.kabel-deutschland.de)
[13:35:55] *** Joins: cart_ (~cart@cpc99926-brnt1-2-0-cust961.4-2.cable.virginm.net)
[13:37:15] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 256 seconds)
[13:40:22] *** Quits: chenqisu1 (~chenqisu1@183.217.201.88) (Remote host closed the connection)
[13:40:57] *** Quits: LuKaRo (~LuKaRo@p200300dfa732173cc4814602d73ef0b9.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[13:44:48] *** Joins: LuKaRo_ (~LuKaRo@p57b15bd8.dip0.t-ipconnect.de)
[13:46:20] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[13:47:13] *** Joins: deltab (~deltab@user/deltab)
[13:48:45] *** Quits: uuidNuni1 (~weechat@222.67.5.151) (Quit: WeeChat 3.4.1)
[13:49:18] *** Joins: xmb (~xmb@178.197.208.22)
[13:52:32] *** Quits: jaysicks (~jaysicks@178-164-227-38.pool.digikabel.hu) (Ping timeout: 272 seconds)
[13:53:11] *** Quits: sky- (~sky@user/sky-) (Ping timeout: 250 seconds)
[13:53:13] *** Quits: fspax (~fspax@46.148.141.211) (Quit: Leaving)
[13:55:24] *** Quits: Furai (~Furai@furai.pl) (Remote host closed the connection)
[13:55:52] *** Joins: Furai (~Furai@furai.pl)
[13:56:39] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[13:56:55] *** Joins: labrador (~labrador@user/labrador)
[14:02:33] *** Joins: labrador_ (~labrador@user/labrador)
[14:04:07] *** Joins: duxsco (~Thunderbi@user/duxsco)
[14:05:55] *** Quits: labrador (~labrador@user/labrador) (Ping timeout: 240 seconds)
[14:07:28] *** Joins: jaysicks (~jaysicks@91-82-251-185.pool.digikabel.hu)
[14:09:05] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[14:10:08] *** Joins: unop (~unop@195.91.4.124)
[14:11:07] *** Joins: sky- (~sky@user/sky-)
[14:12:00] *** Joins: Guest55 (~Guest55@ip92.ip-46-105-37.eu)
[14:12:12] *** Guest55 is now known as dudeydude
[14:12:29] <dudeydude> Heyo! having some issues with a bash script I'm writing
[14:12:36] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[14:12:56] <dudeydude> I have an arg I'm passing to my script that can have one of four values: "local", "dev", "staging", "production" (environment name)
[14:14:18] <dudeydude> ... problem is the local case, where any situation where I'm doing something like `if [ $1 = 'local' || ...` fails with an "line blah: local: can only be used in a function" error.
[14:14:30] *** Joins: labrador (~labrador@user/labrador)
[14:14:32] <dudeydude> I've tried various ways of escaping it, but haven't found one that succeeded yet. Could anyone point me in the right direction?
[14:14:50] *** Joins: Atque (~Atque@user/atque)
[14:16:55] *** Quits: labrador_ (~labrador@user/labrador) (Ping timeout: 240 seconds)
[14:17:00] <xmb> you write sh or bash
[14:17:13] <xmb> its [[ $1 = local ]]
[14:17:17] *** Joins: Dr-007 (~Dr-007@user/Dr-007)
[14:17:31] <xmb> or, case $1 in     local) code ;; other) other_code ;; esac
[14:18:38] *** Quits: dreamon (~dreamon@ppp-88-217-83-128.dynamic.mnet-online.de) (Ping timeout: 260 seconds)
[14:19:01] *** Joins: labrador_ (~labrador@user/labrador)
[14:19:08] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 272 seconds)
[14:20:55] *** Quits: Atque (~Atque@user/atque) (Ping timeout: 240 seconds)
[14:20:58] *** Quits: jgrossholtz_ (~Julien@249.164.25.93.rev.sfr.net) (Read error: Connection reset by peer)
[14:21:18] *** Joins: jgrossholtz (~Julien@249.164.25.93.rev.sfr.net)
[14:21:58] <Earnestly> dudeydude: You aren't doing 'something like' that to get such an error message
[14:22:15] *** Quits: labrador (~labrador@user/labrador) (Ping timeout: 240 seconds)
[14:22:43] <Earnestly> dudeydude: If you want better help consider providing real demonstrative code or use shellcheck to cover most common mistakes
[14:22:50] *** Joins: iomari892 (~iomari891@197.210.79.98)
[14:23:15] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[14:23:21] *** Joins: dreamon (~dreamon@ppp-88-217-83-128.dynamic.mnet-online.de)
[14:23:25] *** Quits: iomari891 (~iomari891@102.89.33.175) (Read error: Connection reset by peer)
[14:23:31] *** Joins: unop (~unop@195.91.4.124)
[14:25:28] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[14:25:30] *** Joins: Atque (~Atque@user/atque)
[14:26:27] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Remote host closed the connection)
[14:26:40] *** Joins: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e)
[14:29:39] *** Quits: labrador_ (~labrador@user/labrador) (Remote host closed the connection)
[14:30:01] *** Joins: labrador_ (~labrador@user/labrador)
[14:30:29] *** Quits: loganlee[gnu] (~Thunderbi@user/loganlee) (Quit: loganlee[gnu])
[14:30:56] *** Quits: Guest6037 (epony@lz2.eu) (Quit: QUIT)
[14:31:27] <trane> dudeydude, note that [ is actually an alias for the command test (use "help [" and "help test" to get more info), but need a ] at the end, so putting || in the middle of the options doesn't work.
[14:32:18] <trane> You can use -o, or the more modern double bracket construct.
[14:33:22] <trane> .... and even this: [ ... ] || [ ... ]
[14:33:45] <xmb> he said bash but writes [ instead [[
[14:33:56] <trane> https://github.com/koalaman/shellcheck/wiki/SC2109
[14:38:26] *** Quits: masber (~masber@vpn-123.cscs.ch) (Ping timeout: 250 seconds)
[14:39:21] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Quit: ZNC 1.8.2+cygwin4 - https://znc.in)
[14:41:41] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[14:45:04] *** Joins: epony (epony@user/epony)
[14:45:40] *** Joins: lavaball (felix@31.204.155.215)
[14:46:26] *** Joins: labrador (~labrador@user/labrador)
[14:48:13] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[14:49:15] *** Quits: epony (epony@user/epony) (Max SendQ exceeded)
[14:49:15] *** Quits: labrador_ (~labrador@user/labrador) (Ping timeout: 240 seconds)
[14:50:31] *** Joins: epony (epony@user/epony)
[14:54:55] *** Joins: labrador_ (~labrador@user/labrador)
[14:58:15] *** Quits: labrador (~labrador@user/labrador) (Ping timeout: 240 seconds)
[14:58:57] *** Quits: labrador_ (~labrador@user/labrador) (Client Quit)
[15:02:22] *** Quits: j0hn_mc_clane (~j0hn_mc_c@ptr-fqhhm12iua58a0gd4hj.18120a2.ip6.access.telenet.be) (Remote host closed the connection)
[15:02:28] *** Joins: fspax (~fspax@46.148.141.211)
[15:02:57] *** Joins: flower_ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[15:10:29] *** Joins: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de)
[15:11:18] *** Quits: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[15:11:42] *** Joins: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de)
[15:13:23] *** Joins: seninha (~seninha@user/seninha)
[15:16:43] *** Quits: cart_ (~cart@cpc99926-brnt1-2-0-cust961.4-2.cable.virginm.net) (Ping timeout: 246 seconds)
[15:16:43] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[15:17:01] *** Quits: dudeydude (~Guest55@ip92.ip-46-105-37.eu) (Quit: Client closed)
[15:18:18] <Dr-007> hey guys. question. i want to match the root dir / in my fstab without knowing the uuid: https://dpaste.com/F9EFPTN3C
[15:19:16] <xmb> awk '$2 == "/"'
[15:19:56] <Earnestly> fstab is a well documented format in fstab.5
[15:20:08] <Earnestly> Dr-007: I suspect that you might be better off using a tool like findmnt instead
[15:20:09] <Dr-007> this works too: cat etc/fstab | grep " / "
[15:20:16] <Earnestly> No that's terrible
[15:20:23] *** Quits: yetoo (~yetoo@user/yetoo) (Ping timeout: 256 seconds)
[15:20:24] <xmb> heha
[15:21:00] <Earnestly> Not only is the cat not needed but " / " can appear anywhere, even in comments.  The manual for fstab's format is `man 5 fstab' and describes how you can parse it accurately, which is trivial with awk and such
[15:21:24] <Dr-007> awk '$2 == "/"' works great too
[15:21:27] <Dr-007> :)
[15:21:34] <Earnestly> No, it works
[15:21:39] <Earnestly> Unlike yours, which only appears to work
[15:21:46] <xmb> check also /proc/mounts its fstab format
[15:21:57] <Earnestly> But really you want findmnt
[15:22:14] <xmb> an extra tool to find / ? uh
[15:22:44] <Earnestly> As it can answer questions like "what device is behind a given mountpoint" with specific output formats that don't need additional parsing
[15:23:19] <Dr-007> i really dont want to install extra stuff
[15:23:48] <xmb> me too
[15:23:49] <Earnestly> It's part of util-linux
[15:24:01] <xmb> hm ye findmnt is there my fault
[15:24:12] <Dr-007> yes yes, but im building this script on a 'locked in' livecd where i cant easily add stuff
[15:24:21] <Earnestly> It's part of /util-linux/
[15:24:39] <Dr-007> ok it is installed
[15:24:50] <Dr-007> but does this tool only work on the running os?
[15:24:59] <Dr-007> since its not the running os
[15:25:51] *** Quits: flower_ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Quit: Lost terminal)
[15:26:55] *** Quits: shad (~shad@user/shad) (Ping timeout: 260 seconds)
[15:26:57] <Dr-007> yeah thats not going to work
[15:26:59] *** Quits: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[15:27:08] <Dr-007> xmb, thanks for your awk
[15:28:01] <xmb> np yo
[15:28:23] <xmb> i have two other related scripts about livecd
[15:29:58] <xmb> fstabmounted  http://0x0.st/oqBU.txt    and more specific for sone user case v2    http://0x0.st/oqB0.txt
[15:30:16] *** Quits: downunder (~downunder@110.151.32.43) (Quit: WeeChat 3.5)
[15:30:33] <xmb> the use case was, live cd was with moutned /foo/* dirs and its to make /foo/ away
[15:30:38] <xmb> for just "home" "var" etc
[15:31:15] *** Joins: j0hn_mc_clane (~j0hn_mc_c@ptr-fqhhm12iua58a0gd4hj.18120a2.ip6.access.telenet.be)
[15:31:49] <Earnestly> findmnt does not need a 'running os', but at this point I don't see much value from this.  Only quick fixes and little understanding isn't very rewarding
[15:32:33] <xmb> your non stop insults istead of useful code also
[15:32:49] <Earnestly> xmb: I claimed your code worked
[15:32:53] <xmb> wheres the reward for awkwardly insulting ppl down w/o helpign code 99% english insult text
[15:32:58] <xmb> yea ok
[15:33:01] <xmb> but still
[15:33:16] <xmb> i cant look so much,it happens, what u and others do
[15:33:24] <xmb> overtake channels and insult ppl instead of free talk
[15:33:31] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 246 seconds)
[15:33:40] <Earnestly> What are you on about
[15:33:42] *** Quits: fling (~fling@user/fling) (Remote host closed the connection)
[15:34:03] *** Joins: fling (~fling@user/fling)
[15:34:09] <xmb> pulseaudio oftc channel before, i asked about a prob with it they at most wrote 'use a distro that out of the box works' i said 'bye bad support channel'
[15:34:12] <xmb> you wish to help mate
[15:34:15] <xmb> thats out of question
[15:34:23] <xmb> but you write, wrote, much 'this is wrong that is wrong'
[15:34:25] <xmb> where is the code fix
[15:34:25] <Earnestly> I'm not on oftc
[15:34:27] <xmb> talk code
[15:34:38] <xmb> the same has happened with others to others, also to me
[15:34:45] <xmb> i was banned twice over years, for what
[15:35:00] <xmb> free talk, while the other, like you, and greycat, and such, insulted, .. greycat slowly learned
[15:35:01] *** Quits: ormaaj (~ormaaj@user/ormaaj) (Quit: User was banned)
[15:35:02] *** Quits: lautre[m] (~lautreg@2001:470:69fc:105::311f) (Quit: User was banned)
[15:35:02] *** Quits: CarlFK (~carlfk@2001:470:69fc:105::5d8) (Quit: User was banned)
[15:35:02] *** Quits: expipiplus1 (~expipiplu@2001:470:69fc:105::d713) (Quit: User was banned)
[15:35:03] *** Quits: nazarewk[m] (~nazarewk@2001:470:69fc:105::1:2c8d) (Quit: User was banned)
[15:35:03] *** Quits: aplund (~aplundmat@2001:470:69fc:105::4146) (Quit: User was banned)
[15:35:05] *** Quits: alkisg (~alkisg@2001:470:69fc:105::2d3) (Quit: User was banned)
[15:35:05] *** Quits: NRK (~nrkmatrix@2001:470:69fc:105::4e30) (Quit: User was banned)
[15:35:06] *** Quits: ter87[m] (~ter87matr@2001:470:69fc:105::1:db3d) (Quit: User was banned)
[15:35:06] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (Quit: User was banned)
[15:35:06] *** Quits: sm (~sm@plaintextaccounting/sm) (Quit: User was banned)
[15:35:09] *** Quits: kuhilas (~kuhilas@2001:470:69fc:105::3040) (Quit: User was banned)
[15:35:11] *** Quits: hussam (~hussam@user/hussam) (Quit: User was banned)
[15:35:11] *** Quits: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4) (Quit: User was banned)
[15:35:13] *** Quits: jinsun_ (~jinsun@user/jinsun) (Quit: User was banned)
[15:35:14] *** Quits: avesatanas[m] (~avesatana@2001:470:69fc:105::1:d083) (Quit: User was banned)
[15:35:15] *** Quits: lkhn (~lkhn@user/lkhn) (Quit: User was banned)
[15:35:16] *** Quits: bluepenquin (~bluepenqu@user/bluepenquin) (Quit: User was banned)
[15:35:16] *** Quits: DeaDSouL[m] (~deadsoulm@2001:470:69fc:105::1:c0de) (Quit: User was banned)
[15:35:17] *** Quits: gloomy (~gloomy@2001:470:69fc:105::ce00) (Quit: User was banned)
[15:35:18] *** Quits: mux[m] (~stoneware@2001:470:69fc:105::d0dc) (Quit: User was banned)
[15:35:18] *** Quits: sss[m] (~sss123nex@2001:470:69fc:105::1:ceac) (Quit: User was banned)
[15:35:18] *** Quits: Psi-Jack[m] (~psi-jack@user/psi-jack) (Quit: User was banned)
[15:35:19] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[15:35:20] *** Quits: JayDoubleu (~jdoubmatr@2001:470:69fc:105::1:3831) (Quit: User was banned)
[15:35:22] *** Quits: Helmholtz (~leibnizma@2001:470:69fc:105::3124) (Quit: User was banned)
[15:35:24] *** Quits: augiro[m] (~augiromat@2001:470:69fc:105::1:cac9) (Quit: User was banned)
[15:35:26] <xmb> i just say, try code instead of 'this doesnt work'
[15:35:27] *** Quits: Ulfnic[m] (~ulfnicmat@2001:470:69fc:105::e5c5) (Quit: User was banned)
[15:35:27] *** Quits: rudolff[m] (~rudolffma@2001:470:69fc:105::1:25dd) (Quit: User was banned)
[15:35:29] *** Quits: ForeverNoob[m] (~foreverno@2001:470:69fc:105::8c6) (Quit: User was banned)
[15:35:29] *** Quits: Celmor[m] (~celmor@2001:470:69fc:105::434) (Quit: User was banned)
[15:35:30] <xmb> like 'teh fix'
[15:35:32] *** Quits: white_rose[m] (~whiterose@2001:470:69fc:105::1:c732) (Quit: User was banned)
[15:35:33] *** Quits: Nod0n[m] (~nod0nmatr@2001:470:69fc:105::211) (Quit: User was banned)
[15:35:34] *** Quits: plopix[m] (~ewnzlmatr@2001:470:69fc:105::7b68) (Quit: User was banned)
[15:35:34] *** Quits: dan01[m] (~dan01@2001:470:69fc:105::1:2640) (Quit: User was banned)
[15:35:34] <xmb> see it as enlightening
[15:35:36] *** Quits: quas[m] (~quasmatri@2001:470:69fc:105::2aa5) (Quit: User was banned)
[15:35:38] *** Quits: random_chimp[m] (~randomchi@2001:470:69fc:105::1:d31d) (Quit: User was banned)
[15:35:39] *** Quits: euphrates[m] (~euphrates@2001:470:69fc:105::fbb5) (Quit: User was banned)
[15:35:40] *** Quits: owl4ce[m] (~owl4cemat@2001:470:69fc:105::1:3235) (Quit: User was banned)
[15:35:41] *** Quits: go4godvin (~go4godvin@user/go4godvin) (Quit: User was banned)
[15:35:42] *** Joins: lkhn (~lkhn@user/lkhn)
[15:35:43] <xmb> many users banned
[15:35:45] *** Quits: f00[m] (~f00envsne@2001:470:69fc:105::1:cf5a) (Quit: User was banned)
[15:35:45] *** Quits: mizzunet (~mizzunet@2001:470:69fc:105::1:5d39) (Quit: User was banned)
[15:35:46] *** Quits: hugo[m]1 (~pumaenvsn@2001:470:69fc:105::1:5f09) (Quit: User was banned)
[15:35:47] *** Quits: artemon (~artemon@2001:470:69fc:105::87c) (Quit: User was banned)
[15:35:49] *** Quits: creme[m] (~creme@2001:470:69fc:105::31c8) (Quit: User was banned)
[15:35:49] *** Quits: tamz[m] (~tamzmatri@2001:470:69fc:105::9d6d) (Quit: User was banned)
[15:35:50] *** Joins: ter87[m] (~ter87matr@2001:470:69fc:105::1:db3d)
[15:35:51] *** Joins: kuhilas (~kuhilas@2001:470:69fc:105::3040)
[15:35:53] *** Quits: holmesbespin[m] (~holmesbes@2001:470:69fc:105::80c6) (Quit: User was banned)
[15:35:55] *** Quits: GiorgiGzirishvil (~drnmatrix@2001:470:69fc:105::1:d1e5) (Quit: User was banned)
[15:35:57] *** Quits: apos[m] (~apos382ma@2001:470:69fc:105::b6da) (Quit: User was banned)
[15:35:58] *** Quits: epony (epony@user/epony) (Quit: QUIT)
[15:35:59] *** Quits: WallaceTim[m] (~wallaceti@2001:470:69fc:105::1:cf49) (Quit: User was banned)
[15:35:59] *** Quits: Narrativa (~flyingket@2001:470:69fc:105::dea9) (Quit: User was banned)
[15:35:59] *** Quits: huy[m] (~huyngoenv@2001:470:69fc:105::dbc7) (Quit: User was banned)
[15:35:59] *** Quits: promach[m] (~promach@2001:470:69fc:105::ca1) (Quit: User was banned)
[15:35:59] *** Quits: divide0[m] (~divide0ma@2001:470:69fc:105::efcd) (Quit: User was banned)
[15:36:04] *** Joins: mux[m] (~stoneware@2001:470:69fc:105::d0dc)
[15:36:09] <xmb> ( currently , matrix leaving )
[15:36:11] <djph> what the ... ?
[15:36:17] *** Joins: NRK (~nrkmatrix@2001:470:69fc:105::4e30)
[15:36:31] *** Joins: CarlFK (~carlfk@2001:470:69fc:105::5d8)
[15:36:44] *** Joins: augiro[m] (~augiromat@2001:470:69fc:105::1:cac9)
[15:36:57] *** Joins: rudolff[m] (~rudolffma@2001:470:69fc:105::1:25dd)
[15:37:11] *** Joins: lautre[m] (~lautreg@2001:470:69fc:105::311f)
[15:37:20] <Dr-007> xmb, Earnestly, without his "bitching" i wouldnt have thought about my grep and just used it ;)
[15:37:25] *** Joins: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4)
[15:37:25] *** Joins: jmcantrell (~jmcantrel@user/jmcantrell)
[15:37:33] <Dr-007> but i get what youre saying xmb
[15:37:38] <Earnestly> The purpose of this channel
[15:37:40] *** Joins: Celmor[m] (~celmor@2001:470:69fc:105::434)
[15:37:49] *** Quits: kuhilas (~kuhilas@2001:470:69fc:105::3040) (Client Quit)
[15:37:49] *** Quits: lkhn (~lkhn@user/lkhn) (Client Quit)
[15:37:49] *** Quits: ter87[m] (~ter87matr@2001:470:69fc:105::1:db3d) (Client Quit)
[15:37:49] *** Quits: rudolff[m] (~rudolffma@2001:470:69fc:105::1:25dd) (Client Quit)
[15:37:49] *** Quits: mux[m] (~stoneware@2001:470:69fc:105::d0dc) (Client Quit)
[15:37:49] *** Quits: lautre[m] (~lautreg@2001:470:69fc:105::311f) (Client Quit)
[15:37:49] *** Quits: NRK (~nrkmatrix@2001:470:69fc:105::4e30) (Client Quit)
[15:37:49] *** Quits: augiro[m] (~augiromat@2001:470:69fc:105::1:cac9) (Client Quit)
[15:37:49] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (Client Quit)
[15:37:49] *** Quits: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4) (Client Quit)
[15:37:49] *** Quits: CarlFK (~carlfk@2001:470:69fc:105::5d8) (Client Quit)
[15:37:49] *** Quits: Celmor[m] (~celmor@2001:470:69fc:105::434) (Client Quit)
[15:38:00] <Earnestly> Is to help people understand the shell and its environment with the goal of using it effectively and correctly
[15:38:04] <Dr-007> often people just say "this is wrong, this is wrong that is wrong" and sometimes dont address the question at all
[15:38:17] *** Joins: Psi-Jack[m] (~psi-jack@user/psi-jack)
[15:38:20] <djph> Right, so on topic -- I'm drawing a blank here (and probably looking in the wrong section of the manpage / guide) -- what's the right syntax for getting a 4-digit counter (e.g. file0000 [...] file9999) ?
[15:38:26] <Earnestly> The shell is a double-edged sword in that it is very easy to produce half-working solutions that appear correct
[15:38:31] *** Joins: jinsun_ (~jinsun@user/jinsun)
[15:38:39] <xmb> printf djph
[15:38:45] *** Joins: hussam (~hussam@user/hussam)
[15:38:57] *** Joins: white_rose[m] (~whiterose@2001:470:69fc:105::1:c732)
[15:38:57] *** Joins: ormaaj (~ormaaj@user/ormaaj)
[15:39:07] <Earnestly> That is why details are needed to properly explain a solution in context; just throwing code at people without this can put them in a broken state because no actual understanding is allowed
[15:39:09] *** Joins: plopix[m] (~ewnzlmatr@2001:470:69fc:105::7b68)
[15:39:10] <xmb> # printf -v var file%04d $(( ++i )) ; declare -p var
[15:39:11] <shbot> xmb: declare -- var="file0001"
[15:39:15] <Earnestly> But it does allow for cheap and quick "thanks"
[15:39:21] *** Joins: ForeverNoob[m] (~foreverno@2001:470:69fc:105::8c6)
[15:39:34] *** Joins: Ulfnic[m] (~ulfnicmat@2001:470:69fc:105::e5c5)
[15:39:38] <xmb> earnestly, you overthrow em they did wrong, not that they understand it
[15:39:48] *** Joins: expipiplus1 (~expipiplu@2001:470:69fc:105::d713)
[15:39:53] <xmb> a completing a bash question w/o code is nothing rewardable too
[15:39:54] <djph> ah, no
[15:40:00] *** Joins: quas[m] (~quasmatri@2001:470:69fc:105::2aa5)
[15:40:08] <djph> needed more digits in the loop
[15:40:12] *** Joins: random_chimp[m] (~randomchi@2001:470:69fc:105::1:d31d)
[15:40:24] <xmb> i suggest you didtch the prefixed 0's
[15:40:26] *** Joins: bluepenquin (~bluepenqu@user/bluepenquin)
[15:40:26] *** Joins: ignorand (~ignorand@190.98.37.37)
[15:40:31] <xmb> for just file$(( ++i ))
[15:40:39] *** Joins: JayDoubleu (~jdoubmatr@2001:470:69fc:105::1:3831)
[15:40:43] <Earnestly> xmb: That is the best solution because it means understanding was gained to the degree that they can write the code themselves
[15:40:53] *** Joins: owl4ce[m] (~owl4cemat@2001:470:69fc:105::1:3235)
[15:40:53] *** Joins: sm (~sm@plaintextaccounting/sm)
[15:41:07] <Earnestly> Code is only used as a crutch because it's quicker to show demonstration
[15:41:07] *** Joins: go4godvin (~go4godvin@user/go4godvin)
[15:41:08] *** Joins: keypusher (keypusher@user/keypusher)
[15:41:20] *** Joins: f00[m] (~f00envsne@2001:470:69fc:105::1:cf5a)
[15:41:20] *** Joins: DeaDSouL[m] (~deadsoulm@2001:470:69fc:105::1:c0de)
[15:41:32] *** Joins: hugo[m] (~pumaenvsn@2001:470:69fc:105::1:5f09)
[15:41:44] *** Joins: Helmholtz (~leibnizma@2001:470:69fc:105::3124)
[15:41:59] *** Joins: gloomy (~gloomy@2001:470:69fc:105::ce00)
[15:41:59] *** Joins: euphrates[m] (~euphrates@2001:470:69fc:105::fbb5)
[15:42:11] *** Joins: ignorand1 (~ignorand@fw.telesur.sr)
[15:42:12] *** Joins: tamz[m] (~tamzmatri@2001:470:69fc:105::9d6d)
[15:42:26] *** Joins: alkisg (~alkisg@2001:470:69fc:105::2d3)
[15:42:26] *** Joins: holmesbespin[m] (~holmesbes@2001:470:69fc:105::80c6)
[15:42:26] *** Joins: sss[m] (~sss123nex@2001:470:69fc:105::1:ceac)
[15:42:26] *** Joins: dan01[m] (~dan01@2001:470:69fc:105::1:2640)
[15:42:41] *** Joins: creme[m] (~creme@2001:470:69fc:105::31c8)
[15:42:44] <xmb> hm well mate, take care
[15:42:53] *** Joins: apos[m] (~apos382ma@2001:470:69fc:105::b6da)
[15:43:05] *** Joins: WallaceTim[m] (~wallaceti@2001:470:69fc:105::1:cf49)
[15:43:17] *** Joins: huy[m] (~huyngoenv@2001:470:69fc:105::dbc7)
[15:43:31] *** Joins: GiorgiGzirishvil (~drnmatrix@2001:470:69fc:105::1:d1e5)
[15:43:31] *** Joins: mizzunet (~mizzunet@2001:470:69fc:105::1:5d39)
[15:43:46] *** Joins: artemon (~artemon@2001:470:69fc:105::87c)
[15:43:58] *** Joins: divide0[m] (~divide0ma@2001:470:69fc:105::efcd)
[15:43:58] *** Joins: nazarewk[m] (~nazarewk@2001:470:69fc:105::1:2c8d)
[15:43:58] *** Joins: avesatanas[m] (~avesatana@2001:470:69fc:105::1:d083)
[15:44:12] *** Joins: Narrativa (~flyingket@2001:470:69fc:105::dea9)
[15:44:25] *** Joins: promach[m] (~promach@2001:470:69fc:105::ca1)
[15:44:37] *** Joins: Nod0n[m] (~nod0nmatr@2001:470:69fc:105::211)
[15:45:14] *** Quits: ignorand (~ignorand@190.98.37.37) (Ping timeout: 260 seconds)
[15:45:17] *** Quits: ghoti (~paul@198.23.196.224) (Ping timeout: 240 seconds)
[15:46:08] *** Joins: uuidNuniq (~weechat@222.67.5.151)
[15:49:08] *** Joins: epony (epony@user/epony)
[15:50:14] *** Narrativa is now known as narrativakdath
[15:50:44] *** Quits: fspax (~fspax@46.148.141.211) (Quit: Leaving)
[15:50:59] <Earnestly> Dr-007: I'd suggest getting into the habit of reading manuals, they're very short and concise (a rare feature which I've only found in unix man pages).  Read them just once and then use it as reference because the tools you have are often much more capable than you expect - and as a general rule in the shell, you try to use the fullest of each tool introduced (i.e. if you introduce python, you might
[15:51:01] <Earnestly> as well rewrite the entire thing in python)
[15:51:12] *** Joins: ter87[m] (~ter87matr@2001:470:69fc:105::1:db3d)
[15:51:27] *** Joins: lkhn (~lkhn@user/lkhn)
[15:51:30] <xmb> if the world was the easy dream like all write
[15:51:41] *** Joins: kuhilas (~kuhilas@2001:470:69fc:105::3040)
[15:51:45] <xmb> short manuals, readable, understandable, in short time, .. .. not for me
[15:51:53] *** Joins: mux[m] (~stoneware@2001:470:69fc:105::d0dc)
[15:52:05] *** Joins: CarlFK (~carlfk@2001:470:69fc:105::5d8)
[15:52:05] *** Joins: NRK (~nrkmatrix@2001:470:69fc:105::4e30)
[15:52:19] *** Joins: augiro[m] (~augiromat@2001:470:69fc:105::1:cac9)
[15:52:21] <Earnestly> That's why it's so sad that people don't take advantage of unix manuals, because they are 'dream like' compared to all other documentation
[15:52:33] *** Joins: rudolff[m] (~rudolffma@2001:470:69fc:105::1:25dd)
[15:52:33] *** Joins: lautre[m] (~lautreg@2001:470:69fc:105::311f)
[15:52:33] *** Joins: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4)
[15:52:33] *** Joins: jmcantrell (~jmcantrel@user/jmcantrell)
[15:52:33] *** Joins: Celmor[m] (~celmor@2001:470:69fc:105::434)
[15:52:57] <xmb> i try man, i failed
[15:53:02] *** Quits: duxsco (~Thunderbi@user/duxsco) (Quit: duxsco)
[15:53:13] <xmb> i read bash and gawk man long ago when i didnt have such.. bad circumstances
[15:53:19] <Dr-007> xmb, well... as you may remember i suck at bash scripting. and you helped me a great deal yesterday. but NOW i think i'm finally done! main.sh: https://dpaste.com/A6NAB3KX9 and functions.sh: https://dpaste.com/FJSBKQBVV
[15:53:26] <xmb> only intneractive chats helped
[15:53:50] <Dr-007> what it does is copy my livecd ubuntu to a partition that you can select via a GUI tool
[15:54:02] <xmb> if you, #!/bin/bash, you can use [[ instead of [
[15:54:10] <Dr-007> then update fstab / grub and you can then boot into it
[15:54:13] <xmb> i never use [ cause its buggy sh instead of fluffy bash
[15:54:55] <Dr-007> Earnestly, yeah, its not going to stick in my mind. i rarely use bash scripts. so i easily get lost in quotes that should or shouldnt be there
[15:55:08] <xmb> earnestly, do u know the subroot or so kernel value ? im looking for real usage innfo, say i have debootstrapped a debian in a subdir somewhere in / root, how to make it the root mount point when booting
[15:55:10] <Dr-007> but when im "in the zone" i can get something out of bash scripts
[15:55:38] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Ping timeout: 252 seconds)
[15:55:52] *** Joins: gareppa (~gareppa@user/gareppa)
[15:56:09] <xmb> well mate 007 i cant make much out of that sh style script
[15:56:15] <xmb> but if it works for you its happy bringing
[15:56:15] <Earnestly> I don't understand this self-defeatism
[15:56:32] <xmb> its mis understanding
[15:56:50] <xmb> you assume ... when you tell a user here 'this is wrong' he auto knows then the solution ?
[15:56:57] <Earnestly> No, I explain the solution
[15:56:59] <xmb> i mean you fixed it by explaining
[15:57:21] <Earnestly> I don't just tell someone it's wrong without justifying it
[15:57:32] <Earnestly> Just like I don't tell someone the answer without justifying it
[15:57:45] <xmb> okay well in the next time ill watch out with kind comments
[15:57:47] <Earnestly> I'm not here for the "thanks lol"
[15:57:57] <xmb> im for the code here
[15:58:01] <xmb> which u partly do
[15:58:01] *** Quits: gareppa (~gareppa@user/gareppa) (Remote host closed the connection)
[15:58:02] <Dr-007> hehe, yeah. maybe i should revise it one more time. i dont really want to have 2 shell scripts where on includes the other anyways. but i think itll stay messy for you or anyone.
[15:58:54] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[15:59:02] <Earnestly> Dr-007: Use shellcheck at least
[15:59:32] <Earnestly> That will cover most of the bases as it is essentially advice distilled from this channel and wooledge
[15:59:49] <Dr-007> ah yeah, ill do that when i get back home. i have to go in about 15 minutes.
[16:00:16] <Earnestly> And one simple improvement is replacing 'cat file | grep pattern' with 'grep pattern file'
[16:00:28] <xmb> thats good
[16:00:29] <Earnestly> This avoids two forks and one subshell
[16:01:07] *** Quits: narrativakdath (~flyingket@2001:470:69fc:105::dea9) (Quit: Reconnecting)
[16:01:20] *** Joins: narrativakdath (~narrativa@2001:470:69fc:105::dea9)
[16:02:02] <Earnestly> As for harnessing what you have available, util-linux comes with many useful tools for dealing with mountpoints and such, it's where "mount" itself comes from for linux systems
[16:02:26] <Earnestly> 120 tools, apparently
[16:02:33] *** Joins: dos_ (~dos@149.167.161.204)
[16:04:09] <dos_> hey guys, wanting to automate my task by writing a simpler script to do X,Y & Z work. But, now I want to implement path in my script too. Let's say I want to ask for a path after the user input and before executing the main case
[16:04:53] <Earnestly> Go on
[16:05:15] <dos_> any useful resource for me to read would be super helpful
[16:05:20] <dos_> the closest i could come was
[16:05:27] <dos_> https://stackoverflow.com/questions/4774054/reliable-way-for-a-bash-script-to-get-the-full-path-to-itself
[16:06:34] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[16:06:38] <Earnestly> dos_: I'm not sure, this is trying to determine the location of the script itself (which is not reliable as scripts need not have locations at all) but in your initial statement you wanted to 'ask' for a path
[16:06:40] <xmb> # until [[ -e $path ]] ; do read -rp 'enter path.. ' path ; done <<</ ; declare -p path
[16:06:41] <shbot> xmb: declare -- path="/"
[16:07:07] *** Quits: situ (~situ@ip-89-176-145-74.net.upcbroadband.cz) (Ping timeout: 246 seconds)
[16:07:33] <Earnestly> dos_: So I'm thinking you might want to expose this as a flag, or a positional argument, or an environment, or even to read it from stdin.  But you haven't really elaborated on what you're exactly doing
[16:07:43] <dos_> earnestly: yes sorry. i wanted to ask user for the path and after the input of absolute path i would like to execute my main function
[16:08:19] <xmb> # until [[ -e $path ]] ; do read -rp 'enter path.. ' path ; done ; execute_main "$path"
[16:08:23] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[16:08:25] <shbot> xmb: enter path..
[16:08:28] <Earnestly> dos_: It's generally better to expose this as a flag than to read stdin for prompts, at least in terms of automation, it's much easier to handle flags at any rate
[16:08:35] <dos_> xmb: but why would i need declare --path="/"
[16:08:37] <dos_> ?
[16:08:42] <xmb> it was an example
[16:08:44] *** Joins: unop (~unop@195.91.4.124)
[16:08:45] <xmb> of input to read
[16:08:49] <xmb> remove the <<</ for real world usage
[16:08:54] <dos_> oh fair enough
[16:08:54] <Earnestly> dos_: I would not use read for this, for example
[16:09:25] <xmb> there is also read's -e for arrow keys and delete and tab working
[16:12:28] <dos_> ok thanks. i kind of get it but don't get it at the same time
[16:12:32] <dos_> since i am new to bash
[16:12:53] <xmb> so, you want a path
[16:12:55] <xmb> and do something with it
[16:13:04] <xmb> you have the option to read one, after script starts
[16:13:19] <xmb> or make your script accept the path in the arguments ( args )
[16:13:28] <xmb> var=foo var2=bar ./cmd arg1 arg2
[16:13:32] <xmb> is normal syntax
[16:13:58] <dos_> not sure where to run it inside my case function
[16:13:59] <Earnestly> dos_: I think it help you and me to simply show your work, remember to also use shellcheck
[16:14:02] <xmb> so you can, [[ -e $1 ]] || { printf 'specified path %s doesnt exit\n' "$1" ; exit 1 ; }
[16:15:56] <dos_> my script kinda does what the first answer is: https://askubuntu.com/questions/1705/how-can-i-create-a-select-menu-in-a-shell-script
[16:16:28] <xmb> which is answer 1
[16:16:32] <xmb> the toppest ?
[16:16:41] <dos_> yes
[16:16:44] <xmb> oh
[16:17:02] <xmb> i can show you an alternative arg parsing way
[16:17:09] <dos_> but instead of echoing out i am actually executing something
[16:17:16] <xmb> but ireally dont get what ur doing so i dunno
[16:17:17] <dos_> oh cool then
[16:17:29] <dos_> how can I share my code?
[16:17:45] <Earnestly> Upload it to a pastebin, such as github's gist or whatever you prefer
[16:17:50] <xmb> bin/0x0.st : curl -F'file=@-' http://0x0.st
[16:18:06] *** Quits: marderIII (~MarderIII@86-88-74-111.fixed.kpn.net) (Quit: leaving)
[16:18:19] <xmb> there are many ways to pass things
[16:19:32] *** Quits: sinaowolabi (~SinaOwola@160.152.94.96) (Read error: No route to host)
[16:20:13] *** Quits: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e) (Ping timeout: 256 seconds)
[16:21:35] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Quit: WeeChat 3.5-rc1)
[16:21:35] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Read error: Connection reset by peer)
[16:21:59] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[16:22:55] <xmb> # declare -A args=( [a]='echo foo' [b]='echo bar' ) map=$( paste <( printf %s\\n "${!args[@]}" ) <( printf %s\)\\n "${args[@]}" ) ) ; until [[ -v args[\$read] ]] ; do read -r -N 1 -p "$map" read ; done <<<ca ; eval "${args[$read]}"
[16:22:56] <shbot> xmb: bash: args: bad array subscript
[16:22:56] <shbot> xmb: foo
[16:23:04] <Earnestly> dos_: There's generally three ways to provide data to commands; environment, flags, positional arguments.  You could read prompt within a script but this is generally bad form as stdin is usually for the data to be processed (or none at all).  Reading options from stdin is difficult to automate and cuts of stdin for more useful purposes.  flags should be optional, positional arguments are both
[16:23:06] <Earnestly> optional or manditory (a flag should never be mandatory)
[16:23:08] <Earnestly> xmb: That's not helpful at all
[16:23:29] <xmb> lemme fix it
[16:23:45] <Earnestly> xmb: Why would you even suggest such unidiomatic, wild examples which are utterly unnecessary, introduce harmful ideas like eval, just after you heard them tell you that they don't know bash very well
[16:23:51] <xmb> # declare -A args=( [a]='echo foo' [b]='echo bar' ) map=$( paste <( printf %s\\n "${!args[@]}" ) <( printf %s\)\\n "${args[@]}" ) ) ; until [[ -v args[\${read:-non-exist}] ]] ; do read -r -N 1 -p "$map" read ; done <<<ca ; eval "${args[$read]}"
[16:23:51] <shbot> xmb: foo
[16:23:53] *** Joins: cart_ (~cart@2a01:4c8:41:b099:7245:f891:7095:a01)
[16:23:54] <Earnestly> Are you so cruel?
[16:24:11] <xmb> stop insulting me with shit
[16:24:14] <Earnestly> I can barely understand what you've written and you expect them to?
[16:24:32] <xmb> i support a free world with free speech, speak your stuff, respect mine
[16:24:40] <dos_> guys don't fight lol please
[16:24:42] <Earnestly> That's it, I'm just going to ignore this channel when xmb is active; it's not worth the effort
[16:24:49] <Earnestly> dos_: Good luck
[16:24:50] <djph> Earnestly: aw
[16:25:05] <xmb> all u can do is ignore
[16:25:12] <xmb> you small point of view is shit
[16:25:15] <xmb> you didnt stop it
[16:25:18] <xmb> you started it
[16:25:42] <djph> ... kinda reminds me of another guy in another channel I frequent; coming up with complex (and usually touchy) pipelines and such because he doesn't know about simple things like 'id' :/
[16:26:12] <xmb> you didnt say one solution besides insults in your last 10 lines earnestly
[16:26:18] <xmb> what your ear or earn, none
[16:26:30] <xmb> big man big words just puff air behind
[16:27:13] <xmb> im not looking to replace your position, 'mate'm or take over, i say, free speech
[16:27:24] <xmb> you dont, you say 'stop free speech of xmb', k ? k
[16:27:35] <djph> ^ someone ban xmb ?
[16:27:40] <djph> Earnestly: mind a pm?
[16:27:42] <xmb> again
[16:28:09] <Earnestly> I don't mind pm, never really understood the need to ask for permission
[16:28:11] <xmb> ban me, and have it commented on my future imperium
[16:28:46] <djph> Earnestly: more courtesy from other channels, I guess
[16:29:18] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[16:29:21] <Earnestly> djph: Oh yeah, I know it's fair enough and commonly done so it's good to probably follow the practice
[16:31:52] *** Quits: malina (~malina@user/malina) (Quit: malina)
[16:32:54] *** Joins: bertvvvs (~bertvvvs@user/bertvvvs)
[16:33:00] *** Joins: shad (~shad@user/shad)
[16:34:07] <xmb> dos_ , the fixed version, not alphabetically or so sorted elements tho, many other ways also possible, .. declare -A args=( [a]='echo foo' [b]='echo bar' ) map=$( paste <( printf %s\)\\n "${!args[@]}" ) <( printf %s\\n "${args[@]}" ) ) ; until [[ -v args[\${read:-non-exist}] ]] ; do read -r -N 1 -p "$map" read ; done ; eval "${args[$read]}"
[16:34:27] <xmb> i wanted to post it to the site but i cant find an answer button, oh i dont care
[16:34:34] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.1)
[16:35:30] <xmb> this way you can define elements that have a special meaning, and simply parse args given to the script thru them
[16:36:53] *** Quits: nf (~n@monade.li) (Ping timeout: 252 seconds)
[16:37:05] *** Joins: akoana (~ah@user/akoana)
[16:37:37] <xmb> a static user map:
[16:37:42] <xmb> # declare -A args=( [a]='echo foo' [b]='echo bar' ) map=$'a) foo\nb) bar' ; until [[ -v args[\${read:-non-exist}] ]] ; do read -r -N 1 -p "$map"$'\n> ' read ; done ; eval "${args[$read]}"
[16:37:48] <shbot> xmb: a) foo
[16:37:48] <shbot> xmb: b) bar
[16:37:48] <shbot> xmb: >
[16:37:48] *** Quits: slaughter (~slaughter@europa.whatbox.ca) (Ping timeout: 240 seconds)
[16:37:50] *** Quits: fling (~fling@user/fling) (Remote host closed the connection)
[16:38:06] *** Quits: talsamon (~talsamon@91-115-90-156.adsl.highway.telekom.at) (Remote host closed the connection)
[16:38:06] *** Joins: fling (~fling@user/fling)
[16:38:43] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[16:38:52] *** Joins: nf (~n@monade.li)
[16:38:54] <xmb> if u dont understand, and wanna try, and ppl come like n'earn'estly NOO DONT ITS WRONG , well it contains no sudo no rm -rf / .. ..
[16:40:58] *** Quits: han-solo (~han-solo@user/han-solo) (Ping timeout: 260 seconds)
[16:43:54] *** Joins: masber (~masber@2001:620:808:1200:8000::1a)
[16:45:01] *** Quits: downtrip (~downtrip@188.166.151.198) (Quit: WeeChat 3.4.1)
[16:46:08] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[16:46:23] *** Joins: unop (~unop@195.91.4.124)
[16:46:48] *** Joins: downtrip (~downtrip@188.166.151.198)
[16:47:26] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 245 seconds)
[16:48:15] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Ping timeout: 250 seconds)
[16:48:51] *** Quits: downtrip (~downtrip@188.166.151.198) (Client Quit)
[16:49:08] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[16:49:11] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[16:50:39] *** Quits: roadie (~user@2a02:8108:5a40:1d87:599e:d3ad:56ca:658e) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[16:50:50] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[16:51:21] *** Joins: downtrip (~downtrip@188.166.151.198)
[16:53:27] *** Quits: cart_ (~cart@2a01:4c8:41:b099:7245:f891:7095:a01) (Remote host closed the connection)
[16:53:44] *** Joins: cart_ (~cart@2a01:4c8:41:b099:3884:dcae:9d37:cfea)
[16:56:09] *** Quits: hentai (~hentai@user/hentai) (Ping timeout: 252 seconds)
[16:56:38] *** Joins: seninha (~seninha@user/seninha)
[16:59:36] *** Joins: N4buc0- (~N4buc0@2804:7f4:348b:29b4:5011:9510:72e2:3e9d)
[16:59:43] *** Joins: slaughter (~slaughter@europa.whatbox.ca)
[16:59:55] *** Joins: cdown (~cdown@152.37.81.110)
[17:00:40] *** Joins: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[17:02:47] *** Quits: yano (~yano@ircpuzzles/staff/yano) (Quit: WeeChat, the better IRC client, https://weechat.org/)
[17:03:13] *** Quits: quhar (~quhar@192.162.148.48) (Quit: WeeChat 3.3)
[17:03:27] *** Joins: sinaowolabi_ (~SinaOwola@102.67.1.37)
[17:05:15] *** Joins: yano (~yano@ircpuzzles/staff/yano)
[17:06:19] *** Joins: csmiga (~Thunderbi@ec2-52-207-160-196.compute-1.amazonaws.com)
[17:07:48] *** Joins: cdown_ (~cdown@163.114.131.1)
[17:08:36] *** Quits: slaughter (~slaughter@europa.whatbox.ca) (Quit: l8r)
[17:08:58] *** Quits: edk (edk@libera/staff/edk) (Read error: Connection reset by peer)
[17:09:25] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 246 seconds)
[17:10:26] *** Quits: cdown (~cdown@152.37.81.110) (Ping timeout: 252 seconds)
[17:10:31] *** cdown_ is now known as cdown
[17:10:51] *** Joins: edk (edk@libera/staff/edk)
[17:11:11] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[17:12:17] *** Quits: cart_ (~cart@2a01:4c8:41:b099:3884:dcae:9d37:cfea) (Ping timeout: 250 seconds)
[17:13:47] *** Joins: cdown_ (~cdown@163.114.131.1)
[17:14:57] *** Quits: bertvvvs (~bertvvvs@user/bertvvvs) (Read error: Connection reset by peer)
[17:15:03] *** Quits: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:15:55] *** Joins: bertvvvs (~bertvvvs@user/bertvvvs)
[17:16:25] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 246 seconds)
[17:16:31] *** cdown_ is now known as cdown
[17:16:34] *** Quits: lopid (~lopid@user/lopid) (Quit: WeeChat 3.3)
[17:17:07] *** Quits: dsrt^ (~dsrt@96-91-136-49-static.hfc.comcastbusiness.net) (Remote host closed the connection)
[17:17:19] *** Quits: holmesbespin[m] (~holmesbes@2001:470:69fc:105::80c6) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: sss[m] (~sss123nex@2001:470:69fc:105::1:ceac) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: hussam (~hussam@user/hussam) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: CarlFK (~carlfk@2001:470:69fc:105::5d8) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: nazarewk[m] (~nazarewk@2001:470:69fc:105::1:2c8d) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: euphrates[m] (~euphrates@2001:470:69fc:105::fbb5) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: dan01[m] (~dan01@2001:470:69fc:105::1:2640) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: lautre[m] (~lautreg@2001:470:69fc:105::311f) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: Psi-Jack[m] (~psi-jack@user/psi-jack) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: JayDoubleu (~jdoubmatr@2001:470:69fc:105::1:3831) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: avesatanas[m] (~avesatana@2001:470:69fc:105::1:d083) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: gloomy (~gloomy@2001:470:69fc:105::ce00) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: jinsun_ (~jinsun@user/jinsun) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: ormaaj (~ormaaj@user/ormaaj) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: Ulfnic[m] (~ulfnicmat@2001:470:69fc:105::e5c5) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: DeaDSouL[m] (~deadsoulm@2001:470:69fc:105::1:c0de) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: plopix[m] (~ewnzlmatr@2001:470:69fc:105::7b68) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: owl4ce[m] (~owl4cemat@2001:470:69fc:105::1:3235) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: tamz[m] (~tamzmatri@2001:470:69fc:105::9d6d) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: creme[m] (~creme@2001:470:69fc:105::31c8) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: white_rose[m] (~whiterose@2001:470:69fc:105::1:c732) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: bluepenquin (~bluepenqu@user/bluepenquin) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: artemon (~artemon@2001:470:69fc:105::87c) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: ForeverNoob[m] (~foreverno@2001:470:69fc:105::8c6) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: Helmholtz (~leibnizma@2001:470:69fc:105::3124) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: apos[m] (~apos382ma@2001:470:69fc:105::b6da) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: quas[m] (~quasmatri@2001:470:69fc:105::2aa5) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: random_chimp[m] (~randomchi@2001:470:69fc:105::1:d31d) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: f00[m] (~f00envsne@2001:470:69fc:105::1:cf5a) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: mizzunet (~mizzunet@2001:470:69fc:105::1:5d39) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: expipiplus1 (~expipiplu@2001:470:69fc:105::d713) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: sm (~sm@plaintextaccounting/sm) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: augiro[m] (~augiromat@2001:470:69fc:105::1:cac9) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: rudolff[m] (~rudolffma@2001:470:69fc:105::1:25dd) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: hugo[m] (~pumaenvsn@2001:470:69fc:105::1:5f09) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: alkisg (~alkisg@2001:470:69fc:105::2d3) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: divide0[m] (~divide0ma@2001:470:69fc:105::efcd) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: ter87[m] (~ter87matr@2001:470:69fc:105::1:db3d) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: go4godvin (~go4godvin@user/go4godvin) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: huy[m] (~huyngoenv@2001:470:69fc:105::dbc7) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: Nod0n[m] (~nod0nmatr@2001:470:69fc:105::211) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: GiorgiGzirishvil (~drnmatrix@2001:470:69fc:105::1:d1e5) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: Celmor[m] (~celmor@2001:470:69fc:105::434) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4) (Quit: Bridge terminating on SIGTERM)
[17:17:19] *** Quits: NRK (~nrkmatrix@2001:470:69fc:105::4e30) (Quit: Bridge terminating on SIGTERM)
[17:17:20] *** Quits: kuhilas (~kuhilas@2001:470:69fc:105::3040) (Quit: Bridge terminating on SIGTERM)
[17:17:20] *** Quits: narrativakdath (~narrativa@2001:470:69fc:105::dea9) (Quit: Bridge terminating on SIGTERM)
[17:17:20] *** Quits: WallaceTim[m] (~wallaceti@2001:470:69fc:105::1:cf49) (Quit: Bridge terminating on SIGTERM)
[17:17:20] *** Quits: promach[m] (~promach@2001:470:69fc:105::ca1) (Quit: Bridge terminating on SIGTERM)
[17:17:20] *** Quits: lkhn (~lkhn@user/lkhn) (Quit: Bridge terminating on SIGTERM)
[17:17:20] *** Quits: mux[m] (~stoneware@2001:470:69fc:105::d0dc) (Quit: Bridge terminating on SIGTERM)
[17:18:06] *** Joins: lopid (~lopid@user/lopid)
[17:18:40] *** Joins: ter87[m] (~ter87matr@2001:470:69fc:105::1:db3d)
[17:20:08] *** Joins: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de)
[17:22:03] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 250 seconds)
[17:22:50] *** Joins: lkhn (~lkhn@user/lkhn)
[17:22:50] *** Joins: kuhilas (~kuhilas@2001:470:69fc:105::3040)
[17:22:50] *** Joins: NRK (~nrkmatrix@2001:470:69fc:105::4e30)
[17:22:50] *** Joins: lautre[m] (~lautreg@2001:470:69fc:105::311f)
[17:22:50] *** Joins: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4)
[17:22:50] *** Joins: jmcantrell (~jmcantrel@user/jmcantrell)
[17:22:50] *** Joins: Celmor[m] (~celmor@2001:470:69fc:105::434)
[17:22:50] *** Joins: Psi-Jack[m] (~psi-jack@user/psi-jack)
[17:22:50] *** Joins: CarlFK (~carlfk@2001:470:69fc:105::5d8)
[17:22:50] *** Joins: jinsun_ (~jinsun@user/jinsun)
[17:22:50] *** Joins: hussam (~hussam@user/hussam)
[17:22:50] *** Joins: ormaaj (~ormaaj@user/ormaaj)
[17:22:50] *** Joins: white_rose[m] (~whiterose@2001:470:69fc:105::1:c732)
[17:22:50] *** Joins: expipiplus1 (~expipiplu@2001:470:69fc:105::d713)
[17:22:51] *** Joins: ForeverNoob[m] (~foreverno@2001:470:69fc:105::8c6)
[17:22:51] *** Joins: Ulfnic[m] (~ulfnicmat@2001:470:69fc:105::e5c5)
[17:22:51] *** Joins: quas[m] (~quasmatri@2001:470:69fc:105::2aa5)
[17:22:51] *** Joins: bluepenquin (~bluepenqu@user/bluepenquin)
[17:22:51] *** Joins: JayDoubleu (~jdoubmatr@2001:470:69fc:105::1:3831)
[17:22:51] *** Joins: owl4ce[m] (~owl4cemat@2001:470:69fc:105::1:3235)
[17:22:51] *** Joins: sm (~sm@plaintextaccounting/sm)
[17:22:51] *** Joins: go4godvin (~go4godvin@user/go4godvin)
[17:22:51] *** Joins: DeaDSouL[m] (~deadsoulm@2001:470:69fc:105::1:c0de)
[17:22:51] *** Joins: Helmholtz (~leibnizma@2001:470:69fc:105::3124)
[17:22:51] *** Joins: gloomy (~gloomy@2001:470:69fc:105::ce00)
[17:22:51] *** Joins: euphrates[m] (~euphrates@2001:470:69fc:105::fbb5)
[17:22:51] *** Joins: alkisg (~alkisg@2001:470:69fc:105::2d3)
[17:22:51] *** Joins: holmesbespin[m] (~holmesbes@2001:470:69fc:105::80c6)
[17:22:51] *** Joins: sss[m] (~sss123nex@2001:470:69fc:105::1:ceac)
[17:22:51] *** Joins: dan01[m] (~dan01@2001:470:69fc:105::1:2640)
[17:22:52] *** Joins: WallaceTim[m] (~wallaceti@2001:470:69fc:105::1:cf49)
[17:22:52] *** Joins: creme[pleromaenv (~creme@2001:470:69fc:105::31c8)
[17:22:52] *** Joins: plopix[m] (~ewnzlmatr@2001:470:69fc:105::7b68)
[17:22:52] *** Joins: mizzunet (~mizzunet@2001:470:69fc:105::1:5d39)
[17:22:52] *** Joins: artemon (~artemon@2001:470:69fc:105::87c)
[17:22:52] *** Joins: GiorgiGzirishvil (~drnmatrix@2001:470:69fc:105::1:d1e5)
[17:22:53] *** Joins: nazarewk[m] (~nazarewk@2001:470:69fc:105::1:2c8d)
[17:22:53] *** Joins: avesatanas[m] (~avesatana@2001:470:69fc:105::1:d083)
[17:22:53] *** Joins: Nod0n[m] (~nod0nmatr@2001:470:69fc:105::211)
[17:22:53] *** creme[pleromaenv is now known as creme[m]
[17:22:55] *** Joins: narrativakdath (~narrativa@2001:470:69fc:105::dea9)
[17:23:02] *** Joins: augiro[m] (~augiromat@2001:470:69fc:105::1:cac9)
[17:23:02] *** Joins: mux[m] (~stoneware@2001:470:69fc:105::d0dc)
[17:23:02] *** Joins: rudolff[m] (~rudolffma@2001:470:69fc:105::1:25dd)
[17:23:02] <Masklin> Why is LB_LIBRARY_PATH almost always empty?
[17:23:03] *** Joins: tamz[m] (~tamzmatri@2001:470:69fc:105::9d6d)
[17:23:03] *** Joins: random_chimp[m] (~randomchi@2001:470:69fc:105::1:d31d)
[17:23:03] *** Joins: f00[m] (~f00envsne@2001:470:69fc:105::1:cf5a)
[17:23:04] *** Joins: apos[m] (~apos382ma@2001:470:69fc:105::b6da)
[17:23:04] *** Joins: hugo[m]1 (~pumaenvsn@2001:470:69fc:105::1:5f09)
[17:23:05] *** Joins: divide0[m] (~divide0ma@2001:470:69fc:105::efcd)
[17:23:05] *** Joins: huy[m] (~huyngoenv@2001:470:69fc:105::dbc7)
[17:23:06] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[17:23:07] *** Joins: promach[m] (~promach@2001:470:69fc:105::ca1)
[17:23:15] <Masklin> Seems like it should be filled to the brim
[17:23:28] *** Joins: han-solo (~han-solo@user/han-solo)
[17:24:44] <phy1729> !os
[17:24:45] <greybot> Take it to your OS channel. Your issue is specific to your Operating System or Distribution.
[17:24:49] <Earnestly> Masklin: Defaults make it unnecessary, and ld.so.conf bypasses need to store such things in an environment variable
[17:24:58] <phy1729> also LD
[17:25:43] <Earnestly> Hm, ld.so --argv
[17:25:57] *** Quits: chomwitt (~chomwitt@2a02:587:dc18:da00:e2ec:eb52:4039:9bfe) (Ping timeout: 256 seconds)
[17:25:58] *** Quits: eroux (~eroux@102-65-72-61.ftth.web.africa) (Ping timeout: 272 seconds)
[17:26:05] *** Joins: chomwitt (~chomwitt@athedsl-352218.home.otenet.gr)
[17:26:18] <Earnestly> # ld.so --argv0 foo /bin/sh -c 'echo $0'
[17:26:19] <shbot> Earnestly: bash: ld.so: command not found
[17:26:22] <Earnestly> Oh rly
[17:26:24] *** Quits: tinystoat (~squeek@user/tinystoat) (Remote host closed the connection)
[17:26:44] <Earnestly> # print /lib/ld-*
[17:26:45] <shbot> Earnestly: /lib/ld-linux-x86-64.so.2
[17:26:55] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[17:27:02] <Earnestly> # /lib/ld-linux-x86-64.so.2 --argv0 foo /bin/sh -c 'echo $0'
[17:27:03] <shbot> Earnestly: --argv0: error while loading shared libraries: --argv0: cannot open shared object file
[17:27:09] <Earnestly> Too old
[17:27:31] <Masklin> Earnestly: Alright
[17:27:38] <Masklin> Good
[17:28:17] <Earnestly> Hmm, is it too old
[17:28:48] <Earnestly> glibc 2.33 added --argv0, Feb 2021
[17:29:19] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[17:29:35] <Earnestly> # ldd --version
[17:29:35] <shbot> Earnestly: bash: ldd: command not found
[17:29:59] <Earnestly> # /lib/ld-linux-x86-64.so.2 --version | head -n1
[17:30:00] <shbot> Earnestly: --version: error while loading shared libraries: --version: cannot open shared object file
[17:30:43] <Earnestly> Well, that's not expected.  I don't know what this ld is
[17:31:43] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Quit: WeeChat 3.5)
[17:36:33] *** Joins: zostj (~rue@61-231-128-45.dynamic-ip.hinet.net)
[17:37:17] *** Joins: aerysh (~aerysh@2a0a:b640:1:5a::a07d)
[17:38:13] *** Joins: jlj_ (~jlj@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net)
[17:38:50] <djph> Earnestly: uh, isn't that a library, and not the linker itself?
[17:40:14] <phy1729> ld.so is the linker
[17:40:18] *** Quits: zostj (~rue@61-231-128-45.dynamic-ip.hinet.net) (Client Quit)
[17:40:49] *** Joins: zostj (~rue@61-231-128-45.dynamic-ip.hinet.net)
[17:40:54] <djph> isn't the linker /usr/bin/ld ?
[17:41:16] <djph> I dunno, I'm bad when it comes to all that... I really do need to get better
[17:42:35] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[17:42:46] *** Quits: chomwitt (~chomwitt@athedsl-352218.home.otenet.gr) (Read error: Connection reset by peer)
[17:43:42] *** Quits: OlCe (~user@lfbn-nic-1-262-219.w90-116.abo.wanadoo.fr) (Ping timeout: 272 seconds)
[17:43:59] *** Joins: slaughter (~slaughter@europa.whatbox.ca)
[17:44:06] *** Joins: fling (~fling@user/fling)
[17:45:58] *** Quits: Dr-007 (~Dr-007@user/Dr-007) (Quit: Leaving)
[17:49:00] *** Quits: N4buc0- (~N4buc0@2804:7f4:348b:29b4:5011:9510:72e2:3e9d) (Remote host closed the connection)
[17:49:05] *** Joins: N4buc0_ (~N4buc0@189.115.86.130)
[17:50:22] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[17:50:38] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[17:53:53] *** Quits: MajorBiscuit (~MajorBisc@86.88.79.148) (Ping timeout: 260 seconds)
[17:54:27] *** Joins: MajorBiscuit (~MajorBisc@86-88-79-148.fixed.kpn.net)
[17:55:43] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[17:56:44] *** Quits: ekathva (~ekathva@2001:999:230:5e27:e9e2:3092:814c:5841) (Ping timeout: 260 seconds)
[17:58:17] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[17:58:34] *** Quits: jdvr_ (~jdvr@user/jdvr) (Quit: Leaving)
[17:59:03] *** Joins: ekathva (~ekathva@2001:999:230:5e27:a0b1:eaf6:c841:8439)
[17:59:47] *** Joins: that_guy_who_fig (~that_guy_@ool-182cdb24.dyn.optonline.net)
[18:00:14] *** Joins: cart_ (~cart@2a01:4c8:41:b099:e74c:a09b:8c02:7da6)
[18:02:29] *** Joins: tinystoat (~squeek@user/tinystoat)
[18:10:57] *** Quits: maledictium (~crux@bl11-67-234.dsl.telepac.pt) (Ping timeout: 252 seconds)
[18:11:34] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[18:11:51] <twkm> djph: link-time (ld command) vs run-time (ld.so library/command).
[18:12:04] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 246 seconds)
[18:13:21] *** Joins: OlCe` (~user@lfbn-nic-1-121-125.w2-15.abo.wanadoo.fr)
[18:13:40] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[18:14:04] <djph> ah
[18:15:49] *** Joins: sn1tch3r (~sn1tch3r@user/sn1tch3r)
[18:16:09] *** Quits: sn1tch3r (~sn1tch3r@user/sn1tch3r) (Remote host closed the connection)
[18:17:34] *** Joins: jdvr (~jdvr@user/jdvr)
[18:17:48] *** Joins: maledictium (~crux@bl11-67-234.dsl.telepac.pt)
[18:24:43] *** Joins: DaNeenjah (~jake@adsl-74-230-4-23.hsv.bellsouth.net)
[18:26:37] *** Joins: init (~init@38.131.27.113)
[18:26:43] *** Parts: init (~init@38.131.27.113) (WeeChat 3.4)
[18:27:39] *** Joins: Payam59 (~Payam@138.106.57.131)
[18:27:51] <Payam59> Hi
[18:28:19] <Payam59> I try to undrestand what `lspci -k | grep -q nvidia`
[18:28:20] <Payam59> means
[18:29:03] <Payam59> I know it mins silent something
[18:29:20] <Payam59> but what does if [[ lspci -k | grep -q nvidia ]] means
[18:29:41] <Payam59> I get an empty line
[18:29:47] <Payam59> when I write the first command
[18:30:46] <Filohuhum> is for listing your internal hardware
[18:31:24] <Filohuhum> the grep command selects the line where nvidia is written
[18:31:40] *** Quits: sinaowolabi_ (~SinaOwola@102.67.1.37) (Ping timeout: 246 seconds)
[18:32:15] *** Joins: strk (~strk@user/strk)
[18:32:29] <strk> sudo chattr -ei /tmp/xx && sudo lsattr  /tmp/xx # ----i---------e------ /tmp/xx/yy
[18:32:37] <strk> why is chattr not clearing those attribute s?
[18:33:01] <Payam59> I wrote this : `if [[ lspci -k | grep -q nvidia ]]; then echo "HIII" fi` and if I do `if [[ lspci -k | grep -q hahahihi]]; then echo "HIII" fi`
[18:33:07] <Payam59> in both Hii is printed
[18:33:42] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[18:33:43] *** Quits: justOkay (~justache@user/justache) (Remote host closed the connection)
[18:34:33] <strk> chattr -V -i /tmp/xx # Flags of /tmp/xx set as ---------------------
[18:34:34] *** Joins: justOkay (~justache@user/justache)
[18:34:39] <strk> lsattr -V /tmp/xx # ----i---------e------ /tmp/xx/yy
[18:34:42] <strk> :'(
[18:34:53] <strk> ah, it's a nested one!
[18:34:56] <OMGOMG> !ifgrep > Payam59
[18:34:57] <greybot> Payam59: if grep -q word "$file"; then blah blah; fi # DO NOT use [[ or [ or ` or $() or any other crap. "if" expects a command. "grep" is a command. "[" is too. You don't need both. Likewise, if foo | grep -q bar; then ...
[18:35:11] <strk> sorry for the noise
[18:35:13] *** Parts: strk (~strk@user/strk) (WeeChat 3.4)
[18:35:41] <Payam59> ah
[18:35:47] <Payam59> so [[ is not required?
[18:35:50] <Payam59> I find it very confusing
[18:39:35] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 240 seconds)
[18:40:20] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[18:41:15] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Ping timeout: 240 seconds)
[18:41:24] *** Quits: ignorand1 (~ignorand@fw.telesur.sr) (Read error: Connection reset by peer)
[18:41:52] *** Joins: lalitmee (~lalitmee@180.94.33.235)
[18:46:35] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[18:48:02] *** Joins: xmb_ (~xmb@178.197.212.150)
[18:48:08] <xmb_> payam59, grep -q, the -q, means quiet, notificates if found per exit code, for not needing to wrap it inside [[ $( and such
[18:48:08] *** Joins: fling (~fling@user/fling)
[18:48:17] <xmb_> you can grep -q match file && echo ye
[18:48:51] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.1)
[18:49:10] *** Quits: xmb (~xmb@178.197.208.22) (Ping timeout: 246 seconds)
[18:50:35] *** Joins: reset (~reset@user/reset)
[18:51:58] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[18:54:51] *** xmb_ is now known as xmb
[18:57:07] *** Quits: lalitmee (~lalitmee@180.94.33.235) (Quit: Leaving)
[18:57:43] *** Quits: nf (~n@monade.li) (Quit: Fairfarren.)
[18:58:19] *** Quits: dreamon (~dreamon@ppp-88-217-83-128.dynamic.mnet-online.de) (Ping timeout: 260 seconds)
[18:58:38] *** Joins: nf (~n@monade.li)
[18:59:55] *** Joins: tobybl_ (~tobybl@227.192.115.87.dyn.plus.net)
[19:02:43] *** Quits: tobybl (~tobybl@227.192.115.87.dyn.plus.net) (Ping timeout: 260 seconds)
[19:05:42] *** Joins: mat001_ (~mat001@c-71-202-208-66.hsd1.ca.comcast.net)
[19:07:22] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 260 seconds)
[19:07:57] *** Quits: maledictium (~crux@bl11-67-234.dsl.telepac.pt) (Ping timeout: 260 seconds)
[19:09:44] *** Joins: maledictium (~crux@bl11-67-234.dsl.telepac.pt)
[19:09:48] *** Quits: mat001_ (~mat001@c-71-202-208-66.hsd1.ca.comcast.net) (Ping timeout: 240 seconds)
[19:10:43] *** Joins: duxsco (~Thunderbi@user/duxsco)
[19:13:10] *** Joins: richardm645 (~quassel@2600:8801:c502:f700:8528:908f:6dc8:b6a7)
[19:14:14] *** Quits: bertvvvs (~bertvvvs@user/bertvvvs) (Quit: Y'all have a nice day.)
[19:18:40] *** Inline__ is now known as Inline
[19:20:34] *** Quits: dos_ (~dos@149.167.161.204) (Remote host closed the connection)
[19:21:19] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[19:21:35] <Payam59> but for comparing string I need to have [[ right?
[19:22:03] <twkm> no, though it is what i prefer when writing bash scripts.
[19:22:03] *** Joins: m4n (~emacs@ip5f5bd1f4.dynamic.kabel-deutschland.de)
[19:22:04] <gnoo> Payam59: [[ is like the test command. try `help test'
[19:22:15] <Payam59> like ` [[ if ${PATH} -eq "hihi" ]]; then
[19:22:24] <twkm> not -eq.
[19:22:40] *** Quits: m4n (~emacs@ip5f5bd1f4.dynamic.kabel-deutschland.de) (Client Quit)
[19:22:40] <twkm> that's for numeric comparisons.
[19:22:46] <gnoo> so instead of writing if test "$path" = "hihi" ; then, you write if [[ $path = hihi ]] ; then
[19:23:02] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[19:23:06] <twkm> hihi should be quoted if it isn't a pattern/glob.
[19:23:44] <Payam59> Let me explain my problem. I am trying to set a environment variable in my script by doing export. When I exit the script the echo $my_var doesn't print anything
[19:23:58] <gnoo> !enviroment
[19:24:01] <twkm> !faq disappear > Payam59
[19:24:01] <greybot> Payam59: https://mywiki.wooledge.org/BashFAQ/024 -- I set variables in a loop that's in a pipeline. Why do they disappear after the loop terminates? Or, why can't I pipe data to read?
[19:24:36] <gnoo> anyway, exported variables are one-way, the child can't affect the parent
[19:24:48] <twkm> summary: you can't do that unless you source the script.
[19:25:17] <Payam59> but isn't export used for global environment variables?
[19:25:28] <twkm> no such thing.
[19:25:55] <Payam59> My application needs LIBVA_DRIVER_NAME=nouveau
[19:25:59] <gnoo> to other commands from the same shell, there's no single global environment, just that child inherits the parent's environment.
[19:26:05] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[19:26:07] <twkm> [repeat:] summary: you can't do that unless you source the script.
[19:26:31] <Payam59> twkm let me show you the script
[19:27:15] *** Quits: cdman (~dcm@user/dmc/x-4369397) (Ping timeout: 260 seconds)
[19:27:28] <twkm> replace all exits with returns, else it likely isn't safe to just switch from ''./scriptname'' to ''source ./scriptname''.
[19:27:31] <Payam59> https://bpa.st/G3EA
[19:27:37] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[19:28:07] <Payam59> the application is installed on the machine. it is not just a simple script
[19:28:23] *** Quits: that_guy_who_fig (~that_guy_@ool-182cdb24.dyn.optonline.net) (Quit: Leaving)
[19:28:34] <twkm> those exported variables will be in IVAR_GUI_BIN_FILE's environment, not the current shell's.
[19:29:10] *** Quits: heiner (~Thunderbi@2a00:6020:b006:a900:d250:99ff:fe34:8fd2) (Quit: heiner)
[19:29:19] <twkm> usually that's sufficient, but if you expect them to change for current you will be surprised.
[19:29:21] <Payam59> you mean when IVAR_GUI_ is launched then the variables are set?
[19:29:23] <gnoo> you can also have the script take commands and later execute them, if you want a script. similar to how sudo takes commands to execute
[19:29:39] *** Quits: boreas (~heiner@2a00:6020:b006:a900:d250:99ff:fe34:8fd2) (Read error: Connection reset by peer)
[19:29:59] <Payam59> nohup will launch the application in different shell right? Are the variables set for that shell?
[19:30:27] <Payam59> twkm by looking at the code, can you say that the variables are set when launching ivar?
[19:31:40] <Payam59> sometimes when launching the application disappears
[19:31:44] <Payam59> I don't know why
[19:31:46] <twkm> sigh, i said that twice already.  here's a third: yes.
[19:32:21] <Payam59> when I remove /dev/null 2>&1  < /dev/null & from line 22 the application stays
[19:32:25] <Payam59> otherwise disappears
[19:33:05] <twkm> so the application hates the redirection, itself a bash issue but not why the pos cares.
[19:33:19] *** Quits: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[19:33:30] *** Joins: river (river@tilde.team/user/river)
[19:33:38] <Payam59> libva error: /usr/lib/x86_64-linux-gnu/dri/nouveau_drv_video.so init failed
[19:33:43] <river> is there a way to tell if a script is being sourced or executed from the command line?
[19:33:44] *** Joins: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de)
[19:34:14] <twkm> !faq sourced > river
[19:34:14] <greybot> river: https://mywiki.wooledge.org/BashFAQ/109 -- How can I tell whether my script was sourced (dotted in) or executed?
[19:34:23] *** Quits: [diablo] (~diablo]@user/diablo/x-9068044) (Quit: The Lounge - https://thelounge.chat)
[19:35:11] *** Joins: [diablo] (~diablo]@user/diablo/x-9068044)
[19:35:12] *** Joins: luckiswithme (~luckiswit@149.167.161.204)
[19:35:21] <twkm> hiding errors is usually silly anyway Payam59.
[19:35:48] <duxsco> twkm: i was under the impression that are not needed with [[ ]]. shellcheck doesn't complain on: if [[ $PATH == hihi ]]; then echo asdf; fi
[19:36:01] <duxsco> s/that/that double quotes/
[19:36:29] <twkm> # var=foo ; [[ $var = *o ]] && echo oops!
[19:36:30] <shbot> twkm: oops!
[19:37:19] *** Joins: boreas (~heiner@2a00:6020:b006:a900:d250:99ff:fe34:8fd2)
[19:37:24] *** Joins: heiner (~Thunderbi@2a00:6020:b006:a900:d250:99ff:fe34:8fd2)
[19:38:19] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[19:38:53] *** Joins: Hackerpcs (~user@user/hackerpcs)
[19:39:21] *** Joins: hqdruxn08 (~hqdruxn08@user/hqdruxn08)
[19:40:29] *** Joins: aerysh_ (~aerysh@2a0a:b640:1:59::a06d)
[19:41:08] *** Quits: cdown (~cdown@163.114.131.1) (Changing host)
[19:41:08] *** Joins: cdown (~cdown@user/cdown)
[19:41:43] *** Quits: hqdruxn08__ (~hqdruxn08@user/hqdruxn08) (Ping timeout: 260 seconds)
[19:42:34] *** Joins: rgrinberg (~textual@177.248.148.38)
[19:42:43] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Quit: Leaving)
[19:43:57] *** Quits: aerysh (~aerysh@2a0a:b640:1:5a::a07d) (Ping timeout: 250 seconds)
[19:44:28] *** Quits: aerysh_ (~aerysh@2a0a:b640:1:59::a06d) (Client Quit)
[19:45:50] *** Joins: mixfix41 (~homefame@user/mixfix41)
[19:46:25] <OnlineCop> !#+
[19:47:12] <OnlineCop> I occasionally see comments with '#+'. Is that to continue a single-line comment/thought within a bunch of other comments?
[19:47:12] *** Quits: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[19:48:11] <xmb> # makes a comment, #+ is nothing more than user specified text comments, i guess
[19:48:12] <shbot> xmb: bash: makes: command not found
[19:48:16] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[19:48:46] <furrymcgee> ##
[19:49:48] <emanuele6> #+ is an emacs org mode thing
[19:50:09] *** Quits: fling (~fling@user/fling) (Remote host closed the connection)
[19:50:25] *** Joins: fling (~fling@user/fling)
[19:50:57] *** Quits: rsarson (~rsarson@2607:fea8:29e1:b000::3014) (Quit: Leaving.)
[19:54:06] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[19:54:16] *** Quits: MajorBiscuit (~MajorBisc@86-88-79-148.fixed.kpn.net) (Ping timeout: 246 seconds)
[19:54:19] *** Quits: mak_GR (~mak@ppp079166006191.access.hol.gr) (Ping timeout: 260 seconds)
[19:55:09] *** Joins: unop (~unop@195.91.4.124)
[19:55:53] *** Joins: srg (~srg@user/srg)
[19:57:25] *** Quits: Sulky (~Sulky@195.130.222.199) (Ping timeout: 246 seconds)
[19:59:30] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[20:01:12] *** Quits: Payam59 (~Payam@138.106.57.131) (Quit: Client closed)
[20:02:25] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Remote host closed the connection)
[20:02:47] *** Quits: fourHZ (~fourHZ@92-52-40-121.dynamic.orange.sk) (Ping timeout: 260 seconds)
[20:02:55] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[20:05:59] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[20:08:49] *** Joins: labrador (~labrador@user/labrador)
[20:12:58] *** Joins: otty (~arun@49.15.202.67)
[20:14:42] *** Joins: knstn (~knstn@ppp-94-66-57-249.home.otenet.gr)
[20:15:22] *** Joins: dsrt^ (~dsrt@96-91-136-49-static.hfc.comcastbusiness.net)
[20:17:59] *** Quits: j0hn_mc_clane (~j0hn_mc_c@ptr-fqhhm12iua58a0gd4hj.18120a2.ip6.access.telenet.be) (Ping timeout: 252 seconds)
[20:18:47] *** Joins: kj (~kj@beta.aerisnetwork.net)
[20:22:23] *** Quits: cart_ (~cart@2a01:4c8:41:b099:e74c:a09b:8c02:7da6) (Ping timeout: 252 seconds)
[20:25:33] *** Quits: otty (~arun@49.15.202.67) (Quit: WeeChat 3.0)
[20:26:32] *** Joins: Tangent-Man (~Tang3nt-M@213.205.240.3)
[20:26:54] *** Joins: otty (~arun@49.15.202.67)
[20:27:21] *** magyar_ is now known as magyar
[20:27:29] *** Quits: Tangent-Man (~Tang3nt-M@213.205.240.3) (Remote host closed the connection)
[20:27:51] *** Joins: Tangent-Man (~Tang3nt-M@213.205.240.3)
[20:29:59] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[20:31:22] *** Joins: FluffyMask (~masque@user/fluffymask)
[20:33:31] *** Joins: TheSilentLink_ (~TheSilent@user/thesilentlink)
[20:33:31] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 260 seconds)
[20:33:57] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[20:34:50] *** Joins: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke)
[20:34:56] *** Quits: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970) (Quit: WeeChat 3.4)
[20:35:03] *** Quits: TMan459 (~TMan459@068-113-229-180.res.spectrum.com) (Quit: ZNC 1.8.2 - https://znc.in)
[20:35:07] *** TheSilentLink_ is now known as TheSilentLink
[20:35:30] *** Joins: TMan459 (~TMan459@068-113-229-180.res.spectrum.com)
[20:35:35] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[20:37:35] *** Joins: cart_ (~cart@2a01:4c8:41:b099:7972:53f1:da15:3fd2)
[20:38:49] *** Joins: dreamon (~dreamon@ppp-88-217-83-128.dynamic.mnet-online.de)
[20:40:23] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[20:40:40] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[20:41:14] *** Joins: ghoti (~paul@198.23.196.224)
[20:41:40] *** Joins: mat001_ (~mat001@c-71-202-208-66.hsd1.ca.comcast.net)
[20:44:12] *** Joins: Minvera (~Minvera@user/Minvera)
[20:46:22] *** Joins: ChmEarl (~chmearl@user/chmearl)
[20:47:14] *** Quits: otty (~arun@49.15.202.67) (Quit: WeeChat 3.0)
[20:51:15] *** Quits: ejjdhfjsu (~ejjdhfjsu@cmcust2a-85.240.nulinkdigital.com) (Ping timeout: 260 seconds)
[20:52:33] *** Joins: j0hn_mc_clane (~j0hn_mc_c@ptr-fqhhm12iua58a0gd4hj.18120a2.ip6.access.telenet.be)
[20:53:13] *** Joins: Dr-007 (~Dr-007@user/Dr-007)
[20:53:33] <Dr-007> xmb, are you still awake?!?! i need you :p
[20:53:55] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[20:54:15] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[20:55:18] *** Quits: dreamon (~dreamon@ppp-88-217-83-128.dynamic.mnet-online.de) (Ping timeout: 260 seconds)
[20:55:33] *** Joins: bertvvvs (~bertvvvs@user/bertvvvs)
[20:56:06] <xmb> whats up 770
[20:56:22] <Dr-007> question. ive got: https://dpaste.com/AVACMAU9L/duplicate/ where i use rsync and parse the live copying progress
[20:56:32] *** Joins: fling (~fling@user/fling)
[20:56:50] <xmb> sorry
[20:57:00] <xmb> i dunno rsync i dont support it
[20:57:08] <carwash> hi guys, i have a file like the text in the background, is there a way to make 2 columns delimited with a | ?
[20:57:08] <Dr-007> the parsing $1 , $2 and $3 give me the expected things. "percent completed" "mb completed" and transfer rate
[20:57:08] <xmb> de facto i only support self coded file transfers mate
[20:57:17] <xmb> at most i know some scp, but i don tlike both so self coded
[20:57:22] <carwash> like a|b, c|d, a|b, etc.
[20:57:28] <Dr-007> but the stuff zenity is showing is just random stuff it seems
[20:57:32] <carwash> for 6 rows total
[20:57:40] <xmb> 'text file in background' what is that
[20:57:50] <carwash> just an example
[20:58:03] <xmb> dunno 770 i dont rsync
[20:58:14] <carwash> i want to do text to table based on number of rows being defined as number of columns
[20:58:20] <Dr-007> xmb, ok, thanks. no worries. its just something "fancy" i want to add to my gui stuff. that file transfer is shown in gui instead of cli
[20:58:21] <xmb> yea well carwash gawk can do
[20:58:31] <xmb> but i dont get it, 'a|b, c|d' is the data ?
[20:58:32] <carwash> gawd
[20:58:35] <carwash> gawk
[20:58:36] <carwash> lol
[20:58:48] <carwash> ty
[20:58:55] <xmb> but the format isnt clear mate
[20:58:57] <xmb> explain
[20:59:02] <xmb> to make code for you
[20:59:04] <xmb> else u wont find it
[20:59:08] <carwash> ahh
[20:59:19] <carwash> imagine the file in the background repeated 50x
[20:59:27] <carwash> the idea is that we can make a table
[20:59:34] <xmb> i dont get what 'in the background' should mean
[20:59:35] <carwash> i'll make a couple of examples and upload
[20:59:41] <xmb> k
[20:59:48] <xmb> you can what awk does, split two ways
[21:00:01] <xmb> one per record ( newline defualt ) and one per fields ( space by default )
[21:00:04] <xmb> just other defaults
[21:00:08] <xmb> gimme one example line
[21:00:47] *** Joins: blei (~blei@user/blei)
[21:01:28] <carwash> my interest started when i tried to import this: 1
[21:01:28] <carwash> Walmart
[21:01:28] <carwash> $559,151
[21:01:28] <carwash> 6.7%
[21:01:28] <carwash> $13,510
[21:01:29] <carwash> -9.2%
[21:01:33] <carwash> $252,496
[21:01:35] <carwash> $382,642.8
[21:01:37] <carwash> -
[21:01:39] <carwash> 2,300,000
[21:01:41] <carwash> -
[21:01:43] <carwash> 20
[21:01:45] <carwash> 2
[21:01:47] <carwash> Amazon
[21:01:49] <carwash> $386,064
[21:01:50] *** Quits: cdown (~cdown@user/cdown) (Remote host closed the connection)
[21:01:51] <carwash> 37.6%
[21:01:53] <carwash> $21,331
[21:01:55] <carwash> 84.1%
[21:01:57] <carwash> $321,195
[21:01:58] <xmb> next time dont paste so miuch at once in here, others will bug
[21:01:59] <carwash> $1,558,069.6
[21:02:03] <carwash> -
[21:02:05] <carwash> 1,298,000
[21:02:07] <carwash> -
[21:02:09] <carwash> 11
[21:02:11] <carwash> 3
[21:02:13] <carwash> Apple
[21:02:15] <carwash> $274,515
[21:02:15] <xmb> gawk -v RS= -v FS=\\n 1
[21:02:17] <carwash> 5.5%
[21:02:19] <carwash> $57,411
[21:02:21] <carwash> 3.9%
[21:02:23] <carwash> $323,888
[21:02:25] <carwash> $2,050,665.9
[21:02:27] <carwash> 1
[21:02:29] <carwash> 147,000
[21:02:33] <carwash> 1
[21:02:35] <carwash> 188
[21:02:37] <carwash> 4
[21:02:39] <carwash> CVS Health
[21:02:41] <carwash> $268,706
[21:02:42] <xmb> dude u are still pasting lines one line per 2 s or so, learn not to paste shit
[21:02:43] <carwash> 4.6%
[21:02:45] <carwash> $7,179
[21:02:47] <carwash> 8.2%
[21:02:49] <carwash> $230,715
[21:02:51] <carwash> $98,653.2
[21:02:52] <phy1729> twkm:
[21:02:53] <carwash> 1
[21:02:55] <carwash> 256,500
[21:02:57] <carwash> 1
[21:02:59] <carwash> 57
[21:03:03] <carwash> 5
[21:03:05] <carwash> UnitedHealth Group
[21:03:07] <carwash> $257,141
[21:03:09] <carwash> 6.2%
[21:03:11] <carwash> $15,403
[21:03:13] <carwash> 11.3%
[21:03:15] <carwash> $197,289
[21:03:17] <carwash> $351,725
[21:03:21] <carwash> 2
[21:03:23] <carwash> 330,000
[21:03:25] <carwash> 2
[21:03:25] <han-solo> !ops
[21:03:26] <greybot> lhunath TheBonsai heiner koala_man greycat twkm geirha \amethyst dualbus Riviera osse izabera pragma- falconindy yitz
[21:03:27] <carwash> 25
[21:03:29] <carwash> 6
[21:03:31] <carwash> Berkshire Hathaway
[21:03:32] *** Joins: cdown (~cdown@user/cdown)
[21:03:35] <carwash> $245,510
[21:03:37] <carwash> -3.6%
[21:03:39] <carwash> $42,521
[21:03:41] <carwash> -47.8%
[21:03:43] <carwash> $873,729
[21:03:45] <carwash> $587,823
[21:03:46] *** ChanServ sets mode: +o yitz
[21:03:47] <carwash> -
[21:03:49] *** carwash was kicked by yitz (carwash)
[21:03:53] <yitz> Thanks, han-solo
[21:04:05] <han-solo> thank you
[21:04:15] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[21:04:20] *** Joins: cdown_ (~cdown@user/cdown)
[21:04:42] *** Joins: Daemoen (~Daemoen@2604:a880:2:d0::2164:d001)
[21:04:45] *** yitz sets mode: +q *!~jwash@*
[21:05:53] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[21:06:33] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Client Quit)
[21:06:46] *** yitz sets mode: -q *!~jwash@*
[21:07:04] *** Joins: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053)
[21:08:05] *** Quits: cdown (~cdown@user/cdown) (Ping timeout: 256 seconds)
[21:08:06] *** cdown_ is now known as cdown
[21:08:15] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[21:08:18] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[21:08:26] *** yitz sets mode: -o yitz
[21:11:21] *** Quits: jaamro (~jaamro@user/ormaaj) (Quit: Ping timeout (120 seconds))
[21:13:01] *** Joins: jaamro (~jaamro@user/ormaaj)
[21:14:07] *** Quits: blei (~blei@user/blei) (Quit: Client closed)
[21:14:27] *** Quits: tobybl_ (~tobybl@227.192.115.87.dyn.plus.net) (Remote host closed the connection)
[21:15:06] <Dr-007> i find it funny that ops on libera / freenode dont want the @ infront of their nicknames (they remove their channel operator status_
[21:15:12] *** Quits: nortoh (~nortoh@user/nortoh) (Quit: this is not importent)
[21:15:21] <Dr-007> on efnet it was super awesome when i was young to be an op
[21:15:48] *** Joins: nortoh (~nortoh@bishop.xerrero.com)
[21:15:49] *** Quits: nortoh (~nortoh@bishop.xerrero.com) (Changing host)
[21:15:49] *** Joins: nortoh (~nortoh@user/nortoh)
[21:15:53] <xmb> yea, too bad
[21:15:54] <xmb> not funny
[21:16:12] <twkm> an original hope was to avoid seeming to push authority.
[21:16:34] <xmb> uhhhhhhhhh
[21:16:42] <xmb> now that makes it to me obviously suspicous
[21:16:56] <xmb> no ops, hide authority, insult freely,ban ... no auth ... so fake
[21:17:51] <phy1729> If you want to read more https://libera.chat/guides/catalyst
[21:17:55] *** Quits: bertvvvs (~bertvvvs@user/bertvvvs) (Quit: Y'all have a nice day.)
[21:18:00] <twkm> anyone can insult anyone, it shouldn't matter what channel administration role one plays.  usually administrative actions are quite visible.
[21:18:25] *** Quits: cart_ (~cart@2a01:4c8:41:b099:7972:53f1:da15:3fd2) (Ping timeout: 250 seconds)
[21:19:14] <xmb> twkm, you know me, i code all the time, and help all the time, from long past
[21:19:14] <Dr-007> xmb, nah, they "hide" because on efnet these ops didnt have their IP hidden so they were frequent victims of DDOS attacks
[21:19:18] <xmb> did i deserve insults and bans
[21:19:40] <xmb> thats another story, 770, tho i like raw ip and non encrypted
[21:20:08] <Friithian> I had the fun of convincing someone that cat > /dev/sdX was slower than dd
[21:20:13] <xmb> it literarly, along other suches, ruined parts of my life
[21:20:33] <xmb> cat is sadly slower than dd
[21:20:37] <xmb> try /dev/zero
[21:20:45] <twkm> i'm sure 2001:470:1F0F:... is fun to memorize.
[21:20:46] <llua> wat
[21:20:46] <xmb> not sure about hd measurements
[21:21:04] <xmb> i cant do ipv6 i dont have infos about it i dont have docs
[21:21:11] <xmb> aka no interactive teach about it i had :)
[21:21:12] <twkm> (he fmt2 tb server)
[21:21:18] <xmb> so i dunno much
[21:21:20] <Friithian> I dont get why anyone would use cat > instead of dd
[21:21:26] <xmb> its simpler i use cat
[21:21:30] <xmb> cat debian.iso >dev
[21:21:36] <twkm> dd is "noisy".
[21:21:56] <twkm> at least that's the usual reason i see mentioned.
[21:22:35] <Friithian> is that really simpler than dd if=debian.iso  of=/dev/sdX bs=2M
[21:22:45] <Friithian> and that bs=2M could speed it up massively
[21:22:52] <Friithian> also, what does ``noisy'' mean?
[21:22:55] <yitz> Usually it's faster to let cat run its course than having to read `man dd` to figure out how to use it
[21:23:15] <twkm> it produces output by default where cat does not.
[21:23:26] <Friithian> oh no?
[21:23:27] *** Quits: noarb (~noarb@user/noarb) (Quit: ZNC 1.8.2 - https://znc.in)
[21:23:47] <Friithian> dd is easy, in file equals, out file equals
[21:23:52] <twkm> some consider that to be noise.  can you tell if the x+x is right?
[21:24:06] <Friithian> better: cat .iso | dd of=/dev/sdX
[21:24:15] *** Joins: noarb (~noarb@user/noarb)
[21:24:28] <twkm> hahaha, so a uuoc is better.  that's funny.
[21:24:43] <llua> pretty sure that was a joke
[21:24:59] <twkm> ahh.  sarcasm detector fail.
[21:25:28] <Earnestly> Potentially true, cat uses 128kb block size, user might use nonsense bs= value and be slower
[21:25:34] <yitz> It's easier to use tools you're used to using daily and easier often means faster
[21:25:41] <Earnestly> 127* or well, getreadra
[21:25:43] <twkm> some cat's might use that blocking.
[21:25:49] <Earnestly> read head
[21:26:23] <Earnestly> But this is only really optimal in memory only sorts of conditions, hdds can be weird
[21:26:48] <Friithian> yitz: the 60 seconds it takes to learn dd is way less than the speedup could be on a multi GB iso
[21:27:40] <yitz> Friithian: if someone is not familiar with dd, it could take 2-5 minutes to figure out the man page. Using cat might be slower to run ... but that's 5 minutes of their life they can use for something else.
[21:28:05] <yitz> If writing the data quickly is important, than dd is great. If they could text their friend for those few minutes, cat gets the job done.
[21:28:44] <yitz> Fast operation is not always the top consideration
[21:29:20] <Friithian> if someone isn't willing to learn, well, they ain't smart
[21:29:36] <Friithian> fuck, etcher would prob be faster than cat
[21:29:59] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[21:30:05] *** Quits: phy1729 (~phy1729@zsh/wizard/phy1729) (Changing host)
[21:30:05] *** Joins: phy1729 (~phy1729@p.)
[21:30:14] *** Quits: ekathva (~ekathva@2001:999:230:5e27:a0b1:eaf6:c841:8439) (Remote host closed the connection)
[21:30:29] <yitz> They may prefer to spend their time learning something they're use more often :) dd isn't a tool used that often
[21:30:50] <yitz> Life isn't that binary
[21:30:52] <Friithian> it takes 2 minutes to learn it once at most
[21:30:59] <xmb> life is the outdated binary
[21:31:21] *** Quits: phy1729 (~phy1729@p.) (Changing host)
[21:31:21] *** Joins: phy1729 (~phy1729@zsh/wizard/phy1729)
[21:31:47] <yitz> There's a lot of things people can learn in 2 minutes. I'd rather learn a new cooking technique on YouTube in 2 minutes than how to use dd.
[21:32:17] <xmb> heha i have same, excepts how to use dd is the same as watch foolies on youtube
[21:32:20] *** Quits: Mo (~Mo@dynamic-095-112-038-030.95.112.pool.telefonica.de) (Ping timeout: 272 seconds)
[21:32:26] <xmb> i mean if it finds use whatever
[21:32:30] <Friithian> you're not worth the time
[21:32:35] <xmb> for me ugly smiling enemies arent good
[21:32:53] <xmb> yea ill think next time about helping or not u
[21:33:28] *** Quits: j0hn_mc_clane (~j0hn_mc_c@ptr-fqhhm12iua58a0gd4hj.18120a2.ip6.access.telenet.be) (Remote host closed the connection)
[21:33:34] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi) ()
[21:33:50] *** Joins: j0hn_mc_clane (~j0hn_mc_c@ptr-fqhhm12iua58a0gd4hj.18120a2.ip6.access.telenet.be)
[21:38:21] *** Quits: cryptonector (~nico@24.28.108.183) (Ping timeout: 256 seconds)
[21:39:09] *** Quits: maledictium (~crux@bl11-67-234.dsl.telepac.pt) (Remote host closed the connection)
[21:39:20] *** Joins: cryptonector (~nico@24.28.108.183)
[21:39:23] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[21:39:29] *** Quits: Dr-007 (~Dr-007@user/Dr-007) (Remote host closed the connection)
[21:39:39] *** Joins: unop (~unop@195.91.4.124)
[21:42:15] *** Quits: j0hn_mc_clane (~j0hn_mc_c@ptr-fqhhm12iua58a0gd4hj.18120a2.ip6.access.telenet.be) (Ping timeout: 250 seconds)
[21:43:12] <Maxattax> If I have a .bashrc file which exports some aliases, and I have a script which sources that .bashrc... how do I run those aliases from the script? I tried to use `shopt -s expand_aliases` to no avail
[21:43:44] <phy1729> don't use aliases in script; use functions instead
[21:44:13] <Maxattax> why does this option not work
[21:45:28] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:b8d6:aaba:d42d:fbd1)
[21:45:28] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:b8d6:aaba:d42d:fbd1) (Changing host)
[21:45:28] *** Joins: skapata (~Skapata@user/skapata)
[21:46:56] <phy1729> "Aliases are not expanded when the shell is not interactive, unless the expand_aliases shell option is set using shopt (see the description of shopt under SHELL BUILTIN COMMANDS below)."
[21:46:58] <phy1729> "For almost every purpose, aliases are superseded by shell functions."
[21:47:03] <phy1729> both from man bash
[21:49:00] <Maxattax> phy1729: okay fine, but I must have something else going on because I'm sourcing the file and not seeing any functions :?
[21:49:04] *** Quits: noteness_ (~noteness@user/noteness) (Remote host closed the connection)
[21:49:35] <Maxattax> I see my env change in the script, and when I list aliases I see a bunch of new ones after I source
[21:49:41] <Maxattax> I will make minimal example
[21:49:47] *** Joins: noteness (~noteness@user/noteness)
[21:56:04] <xmb> its not that, i suggest you update your bash, and shopt -s expand_aliases as early as possible
[21:56:15] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[21:56:30] <xmb> also, my way of .bashrc is .bash and .bashrc and .profile do . ~/.bash
[21:57:05] *** Joins: unop (~unop@195.91.4.124)
[21:57:29] *** Quits: rememberYou (~someone@user/rememberyou) (Remote host closed the connection)
[21:58:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[22:00:29] *** Joins: fling (~fling@user/fling)
[22:00:32] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[22:06:17] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 240 seconds)
[22:06:34] <Maxattax> something very funky is going on, I can call some functions but not others
[22:07:59] <xmb> reboot, fresh start all bashes
[22:08:06] <xmb> kill x start again
[22:08:19] *** Quits: iomari892 (~iomari891@197.210.79.98) (Quit: WeeChat 3.3)
[22:15:14] *** Joins: tangyQED (~tangy@user/tangy)
[22:15:55] *** Joins: A|an (~Alan@173.216.48.26)
[22:18:27] *** Quits: tangy (~tangy@user/tangy) (Ping timeout: 252 seconds)
[22:19:50] *** Quits: tangyQED (~tangy@user/tangy) (Ping timeout: 272 seconds)
[22:19:57] *** Quits: avu (~jan@user/avu) (Remote host closed the connection)
[22:20:11] *** Joins: avu (~jan@user/avu)
[22:24:04] *** Quits: luckiswithme (~luckiswit@149.167.161.204) (Remote host closed the connection)
[22:24:26] *** Quits: drbeco (~beco@user/beco) (Quit: Leaving)
[22:25:01] *** Joins: tangy (~tangy@user/tangy)
[22:25:20] *** Joins: hentai (~hentai@2a01:e0a:a5c:a070:be62:5d4c:f819:8aa6)
[22:25:21] *** Quits: hentai (~hentai@2a01:e0a:a5c:a070:be62:5d4c:f819:8aa6) (Changing host)
[22:25:21] *** Joins: hentai (~hentai@user/hentai)
[22:28:45] *** Joins: Xanthaos (~ke4nhw@user/ke4nhw)
[22:32:08] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 260 seconds)
[22:33:13] *** Joins: cart_ (~cart@2a01:4c8:41:b099:1f21:f804:55ea:95b5)
[22:34:00] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[22:35:10] <Maxattax> ```
[22:35:16] <Maxattax> ` which bash
[22:35:18] <Maxattax>  bash --version
[22:35:20] <Maxattax>  bash --noprofile --norc -ci "which bash; bash --version; shopt -s expand_aliases; source ${ROOT}/batsrc/devkit/.batsdevrc; alias; bats.git pull aats --depth 1 --force-reset"
[22:35:28] <Maxattax> I will make pastebin, sorry
[22:36:53] <znf> !which
[22:36:53] <greybot> which(1) is an external program used to search PATH for an executable. It behaves differently on different systems and you can't rely on a useful exit code; use (from most to least portable) ''command -v'' or ''type -P'' (to find the path) or ''hash'' (to check) instead. See http://mywiki.wooledge.org/BashFAQ/081
[22:39:15] *** Joins: bomb-on (~bomb-on@user/bomb-on)
[22:41:46] <Maxattax> https://pastebin.com/T7ZnFapt
[22:41:46] <pasteban> Paste is available without ads on https://pastebin.com/raw/T7ZnFapt
[22:42:13] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[22:46:59] *** Joins: lavaball (felix@31.204.155.215)
[22:49:56] *** Joins: nosolls (~nosolls@user/nosolls)
[22:51:13] <xmb> you can combine those to one alias cmd, for speed
[22:51:29] <xmb> also u can split em into files and have other parts make the code, but thats out of the topic
[22:51:44] *** Joins: bn_work (uid268505@id-268505.uxbridge.irccloud.com)
[22:51:54] <xmb> u have $ROOT defined ?
[22:52:04] <xmb> .. ..
[22:53:20] <xmb> try in a script maybe
[22:53:35] <xmb> i know such bash inconsistancy bugs, they ( chet and others ) clai it off and dont bugfix
[22:55:36] *** Joins: dreamon (~dreamon@p54b14e61.dip0.t-ipconnect.de)
[22:58:59] <Helmholtz> Is there a free "API-based" cloud storage for very small "cache" files (~1MiB)? I have a bash script that writes its state into a file. I frequently invoke the script.
[22:59:06] *** Joins: gormenghast (~gormengha@2a01:e0a:1fb:3af0:b82f:d979:b282:ce17)
[22:59:21] <Helmholtz> Problem is, I also want to frequently invoke the script from another device, so the state between devices must be in sync
[22:59:31] <xmb> there is some general client for many services like google drive and many others
[22:59:46] *** Quits: duxsco (~Thunderbi@user/duxsco) (Ping timeout: 246 seconds)
[23:00:23] *** Joins: duxsco (~Thunderbi@user/duxsco)
[23:00:40] *** Joins: gareppa (~gareppa@user/gareppa)
[23:00:43] *** Quits: cart_ (~cart@2a01:4c8:41:b099:1f21:f804:55ea:95b5) (Ping timeout: 260 seconds)
[23:00:43] <Helmholtz> And I wonder, how can I change my script in most portable way possible to be able to work locally and on cloud. Currently I do `my_cache_dir="${XDG_CACHE_HOME:-$HOME/.cache}/$(basename "$0")"`
[23:01:29] <xmb> looks like crap i dont understand cause its outdated and wrong
[23:01:40] <Helmholtz> should I provice a switch so the user can point to the cache dir? What is the "file system standard" of a cloud solution?
[23:01:58] <xmb> you can have a directory structure, and mount cloud over it
[23:02:07] *** Joins: z8z (~x@ac255238.ppp.asahi-net.or.jp)
[23:02:12] <xmb> umm users want all features
[23:02:15] <xmb> more than you can code
[23:03:59] <ponies> !msg greybot ssh
[23:05:30] <xmb> i forwarded your paste to bug-bash mailing list
[23:07:53] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[23:08:32] *** Parts: TheSilentLink (~TheSilent@user/thesilentlink) (Leaving)
[23:08:43] *** Quits: gareppa (~gareppa@user/gareppa) (Quit: Leaving)
[23:09:57] *** Joins: c_89 (~c_89@151.74.3.74)
[23:11:12] *** Joins: drbeco (~beco@user/beco)
[23:11:42] *** Joins: stanlib (~archblade@user/stanlib)
[23:12:14] <Maxattax> xmb: you're talking to me?
[23:12:20] <Maxattax> I made a minimal example: https://pastebin.com/Y9mMw8kX
[23:12:20] <pasteban> Paste is available without ads on https://pastebin.com/raw/Y9mMw8kX
[23:12:42] <xmb> no ehm lemme see
[23:13:36] <xmb> well mind.. https://lists.gnu.org/mailman/listinfo/bug-bash
[23:13:40] <xmb> and help-bash
[23:13:41] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 272 seconds)
[23:13:50] <xmb> post the proper bug report there,
[23:13:50] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[23:14:00] <xmb> i didnt do well, just pasted the url, you can do better, plz do there
[23:14:39] <larryv> Maxattax: what's the issue?
[23:14:46] <xmb> aliases arent working
[23:14:56] *** Quits: mixfix41 (~homefame@user/mixfix41) (Ping timeout: 272 seconds)
[23:14:57] <xmb> see, https://pastebin.com/T7ZnFapt
[23:14:57] <pasteban> Paste is available without ads on https://pastebin.com/raw/T7ZnFapt
[23:15:16] <emanuele6> aliases only expand after one line
[23:15:23] <emanuele6> # bash -ic 'source <(printf "alias x=%q\\n" "echo hi"); x'
[23:15:24] <shbot> emanuele6: bash: x: command not found
[23:15:30] <emanuele6> # bash -ic 'source <(printf "alias x=%q\\n" "echo hi")'$'\n''x'
[23:15:31] <shbot> emanuele6: hi
[23:15:35] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[23:15:39] <emanuele6> # bash -ic 'source <(printf "alias x=%q\\n" "echo hi"); eval x'
[23:15:40] <shbot> emanuele6: hi
[23:15:42] <emanuele6> that's just how it works
[23:15:45] <xmb> ah yes
[23:15:54] <xmb> i said, also, try in a script
[23:16:17] *** Joins: YaoNai (~YaoNai@user/yaonai)
[23:16:33] <xmb> https://lists.gnu.org/archive/html/bug-bash/2022-03/msg00076.html     ill add its by that
[23:18:31] <Maxattax> emanuele6: ... wtf, that is not intuitive in the slightest
[23:18:51] <xmb> the bash enables aliases after one newline
[23:18:58] <xmb> old outdated crap, i added to my mail too
[23:19:28] *** Joins: mixfix41 (~homefame@user/mixfix41)
[23:19:54] <xmb> maxattax, http://0x0.st/oqQo.txt may work
[23:20:05] <phy1729> Maxattax: yes aliases suck. the man page says so
[23:20:14] <xmb> aliases own
[23:20:20] <larryv> lolno
[23:20:23] <xmb> u'r just on the not-my-side lolzo
[23:20:41] <xmb> aliases are the way to make dup code away
[23:20:43] <xmb> the only way
[23:20:49] <xmb> everything else is very cpu consuming
[23:20:54] <xmb> like spawning functions and parsing its args
[23:20:55] <phy1729> because functions don't exist?
[23:21:26] <xmb> i dont need functions, or your wrong teaches about their ultimative usage everywhere
[23:21:41] <xmb> i need text or code replacements, aliases are the second, important part of a language functionality
[23:23:14] <phy1729> have you considered a proper programming language that isn't a shell
[23:23:22] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[23:23:48] <xmb> a shell, is a meta term u mis use and know
[23:23:51] <larryv> no. xmb cannot learn anything other than shell and gawk. ergo shell and gawk must bend to serve xmb. there is no other way
[23:23:51] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[23:23:54] <xmb> however to answer, no, i cant read docs
[23:24:01] *** Quits: justOkay (~justache@user/justache) (Read error: Connection reset by peer)
[23:24:06] <xmb> how right he rememebered =)
[23:24:55] *** Joins: justOkay (~justache@user/justache)
[23:24:57] *** Quits: Minvera (~Minvera@user/Minvera) (Remote host closed the connection)
[23:28:23] <matthewcroughan> can anybody think of an easy way to do a deadmans switch for ssh connections?
[23:28:24] <Maxattax> emanuele6: can you help me unpack what is going on in this statement, sorry my bash-fu is not that good yet: `bash -ic 'source <(printf "alias x=%q\\n" "echo hi")'$'\n''x'`
[23:28:56] <matthewcroughan> I want a script that runs a command on the remote, but if the ssh connection disappears and is terminated uncleanly, I want another script to run on the remote in that event
[23:29:14] <Maxattax> I can tell it's sourcing a faked file basically, the %q\\n confuses me a bit, and the '$'\n' does as well
[23:29:36] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[23:29:36] <larryv> Maxattax: source <(printf "alias x=%q\\n" "echo hi") just puts "echo hi" into a file (quoted appropriately for evaluation) and sources it
[23:29:49] <larryv> er. alias x='echo hi'
[23:29:57] <emanuele6> # printf "alias x=%q\\n" "echo hi"
[23:29:58] <shbot> emanuele6: alias x=echo\ hi
[23:30:09] <emanuele6> `source <(printf "alias x=%q\\n" "echo hi")' sources that
[23:30:37] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 240 seconds)
[23:30:53] <Maxattax> so your alias contains a newline then?
[23:30:53] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Remote host closed the connection)
[23:30:54] <emanuele6> your pastebin had `source ./file.sh; my_alias' so i used that..
[23:31:03] <emanuele6> it does not.
[23:31:15] <emanuele6> # source <(printf "alias x=%q\\n" "echo hi"); alias x
[23:31:15] <shbot> emanuele6: alias x='echo hi'
[23:31:15] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[23:31:23] <emanuele6> it's just 'echo hi'
[23:31:29] <emanuele6> what do you not understand?
[23:31:34] <larryv> the LF added by the printf just terminates that line
[23:31:45] *** Joins: magla (~gelignite@d53668d6.access.ecotel.net)
[23:31:54] <Maxattax> %q must be supping in "echo hi" into the alias right hand side
[23:32:05] <Maxattax> but what does that \\n do then? what is it's purpose in the printf?
[23:32:17] <Maxattax> subbing*
[23:32:41] <emanuele6> i don't understand your issue
[23:32:42] <Maxattax> oh, is it a LF like larryv is saying
[23:32:45] <larryv> so the output is proper text
[23:33:03] <Maxattax> got it. okay then the next thing that's confusing me is the $'\n'
[23:33:13] <emanuele6> !quote > Maxattax
[23:33:14] <greybot> Maxattax: https://mywiki.wooledge.org/Quotes
[23:33:49] <emanuele6> !$'
[23:33:49] <greybot> bash has a special form of quoting, $'string' in which backslash-character combinations are expanded. For example, IFS=$' \t\n' or echo $'It\'s embedded!' http://mywiki.wooledge.org/Quotes
[23:33:52] <Maxattax> there we go, that makes more sense, thank you
[23:35:16] *** Joins: junebug (~junebug@2600:1700:3db0:2540:9ce0:4e24:4ca7:ce8)
[23:37:25] *** Quits: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e) (Ping timeout: 240 seconds)
[23:38:44] *** Quits: tomaw (tom@libera/staff/tomaw) (Quit: Quitting)
[23:39:24] *** Quits: WinterStar (~IceLight@user/icelight) (Quit: WeeChat 3.4.1)
[23:39:29] <c_89> hello
[23:39:58] *** Joins: WinterStar (~IceLight@user/icelight)
[23:40:14] <c_89> where am I wrong with this script ?: https://pastebin.com/9vbhSZWy
[23:40:14] <pasteban> Paste is available without ads on https://pastebin.com/raw/9vbhSZWy
[23:40:20] <emanuele6> !check
[23:40:21] <checkbot> c_89: Line 11: This does not export 'input_file'. Remove $/${} for that, or use ${var?} to quiet. See https://shellcheck.net/?id=cb94621
[23:40:55] *** Joins: tomaw (tom@libera/staff/tomaw)
[23:41:08] <larryv> c_89: what are you expecting this to do, exactly? export -f my_function "$input_file"
[23:41:10] <emanuele6> why are you passing `"$input_file"' to export -f?
[23:41:21] <emanuele6> what do expect that to do?
[23:41:39] <twkm> you can export a function but not the arguments to it.
[23:45:00] <c_89> larryv with thunar I create a script "/path/myscript.sh% f", when I run the script I want the path of the file (%f) to be executed inside my_function
[23:45:07] *** Quits: Haxxa (~Haxxa@202-130-210-100.ip4.superloop.com) (Quit: Haxxa flies away.)
[23:45:31] *** Joins: VoidSync (~sync@user/voidsync)
[23:45:35] <ormaaj> ew
[23:47:10] *** Joins: Haxxa (~Haxxa@202-130-210-100.ip4.superloop.com)
[23:48:10] <ormaaj> c_89: Bash can print a function's definition. `typeset -fp fname`. That's a lot tidier than `export -f`.
[23:49:20] <c_89> in practice "%f" I have to incorporate it inside my_function so that in the end the function is executed by xfce4-terminal
[23:49:25] <xmb> you export -f func, not func args
[23:49:55] *** Quits: zostj (~rue@61-231-128-45.dynamic-ip.hinet.net) (Quit: WeeChat 3.4.1)
[23:50:31] *** Quits: wodencafe (~wodencafe@woden.cafe) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[23:50:31] <c_89> xmb what could be an alternative solution?
[23:50:55] <xmb> you specify the file arg in the function spawning code
[23:51:05] <xmb> maybe make a bin instead of exported func
[23:51:24] <Soliton> better find a terminal option that does not involve yet another shell. maybe -x works that way for that terminal.
[23:51:38] <Soliton> and then just pass the argument.
[23:51:57] <c_89> xmb you can post the code ..
[23:52:05] <ormaaj> c_89: Normally you specify a command to run when running the terminal. for example you might use `--rcfile`
[23:52:22] *** Joins: joshisanonymous (~joshisano@2600:6c5a:457f:c4b5:4864:4440:e612:8308)
[23:52:24] *** Quits: joshisanonymous (~joshisano@2600:6c5a:457f:c4b5:4864:4440:e612:8308) (Remote host closed the connection)
[23:52:39] <ormaaj> put your function into a file and call it with the filename argument
[23:52:55] *** Joins: sobkas (~sobkas@95.175.17.217)
[23:53:01] <xmb> try http://0x0.st/oqQe.txt
[23:53:46] *** Joins: mak (~mak@ppp079167186232.access.hol.gr)
[23:53:54] <xmb> er there is a mistake i think
[23:53:59] *** Joins: bertvvvs (~bertvvvs@user/bertvvvs)
[23:54:19] <xmb> maybe it works
[23:54:22] <xmb> test it let us know
[23:55:32] <Soliton> inject two levels deep, sure. why is it so difficult for you to suggest sane things?
[23:55:52] <ormaaj> works if the goal is to just call the function once
[23:56:11] <xmb> soli, normal style, i bla outdated crap
[23:56:17] <Soliton> works depending on the input_file contents.
[23:56:22] <xmb> there is, command line, command line, type command, .. what
[23:56:32] <xmb> its @Q
[23:56:43] *** Quits: jdvr (~jdvr@user/jdvr) (Ping timeout: 260 seconds)
[23:56:57] <Soliton> yes, and clearly there is only one shell involved, right?
[23:57:17] <c_89> xmb ok thanks, it seems to work. could you explain to me: $ {input_file@Q}
[23:57:44] <xmb> # x=a\'b ; printf %s "${x@Q}"
[23:57:45] <shbot> xmb: 'a'\''b'
[23:57:51] <xmb> shell escape
[23:57:59] *** Joins: yustin (~yustin@user/yustin)
[23:58:02] <Soliton> it's preparing for injection into bash but it's not just injected into bash.
[23:58:02] <xmb> # x=$'\t \r' ; printf %s "${x@Q}"
[23:58:03] <shbot> xmb: $'\t \r'
[23:58:33] <Soliton> so whatever is in input_file decides what code is actually run.
[23:58:35] <xmb> its a flat text into that level there inside \"func <arg>\"
[23:58:44] <xmb> i suppose it works, user report it works, .. what is it
[23:58:57] <xmb> make an example and let it test
[23:58:57] <larryv> c_89: what it does is shell-quote input_file one fewer time than you actually need
[23:59:03] <xmb> im not not interested in security related fixed
[23:59:04] <Soliton> !itworks
[23:59:04] <greybot> It is a usual technique to make a program and then to test it. But: program testing can be a very effective way to show the presence of bugs, but it is hopelessly inadequate for showing their absence. -- Edsger W. Dijkstra
[23:59:06] <xmb> fixes*
[23:59:31] <xmb> i just modded his exec line, it was a fast fix, i didnt write that all eh
[23:59:36] *** Quits: masber (~masber@2001:620:808:1200:8000::1a) (Ping timeout: 250 seconds)
[23:59:46] <Soliton> yes, you don't care about correctness.
[23:59:56] <xmb> ahyes do i
[23:59:58] <xmb> never coded
