[00:00:24] *** Joins: MrZeus__ (~MrZeus@185.248.85.38)
[00:00:44] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 272 seconds)
[00:02:48] *** Joins: midipix (~midipix@mail.culturestrings.org)
[00:03:16] *** Quits: MrZeus_ (~MrZeus@185.248.85.10) (Ping timeout: 272 seconds)
[00:05:54] *** Quits: JanC (~janc@user/janc) (Remote host closed the connection)
[00:06:08] *** Joins: JanC (~janc@user/janc)
[00:06:54] <glik22_> how do i monitor replication lag? i don't think pg_last_xact_replay_timestamp is what i want since that only deals with recovery.
[00:07:26] *** Quits: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de) (Remote host closed the connection)
[00:09:07] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[00:09:15] *** Quits: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[00:10:09] *** Joins: zeden (~zeden@user/zeden)
[00:10:09] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Read error: Connection reset by peer)
[00:10:25] *** Quits: zeden (~zeden@user/zeden) (Client Quit)
[00:11:32] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[00:11:38] *** Quits: uncleyear (~ian@pppoe.178-66-157-18.dynamic.avangarddsl.ru) (Remote host closed the connection)
[00:15:02] *** Joins: uncleyear (~ian@pppoe.178-66-157-18.dynamic.avangarddsl.ru)
[00:15:46] *** Joins: sec^nd (~sec^nd@gateway/tor-sasl/secnd/x-45171752)
[00:17:29] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[00:17:54] *** Joins: rodo (~rodo@pop.92-184-106-178.mobile.abo.orange.fr)
[00:18:47] *** Quits: zer0bitz_ (~zer0bitz@2001:2003:f74d:b800:95ea:d1ff:55f2:9ea6) (Ping timeout: 250 seconds)
[00:19:25] <glik22_> perhaps it's comparing pg_replication_slots.confirmed_flush_lsn to pg_current_wal_flush_lsn
[00:19:30] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[00:19:37] <mbanck> glik22_: why do you think it only deals with recovery?
[00:19:39] *** Quits: pglife_bot (~pglife@momjian.us) (Remote host closed the connection)
[00:19:50] <mbanck> A standby is basically in continous recovery mode
[00:20:56] <azlev> glik22_: select * from pg_stat_replication gives you the lag
[00:21:35] <azlev> you need to query the master database
[00:22:32] *** Joins: pglife_bot (~pglife@momjian.us)
[00:25:23] *** Joins: ur5us (~ur5us@203.86.198.200)
[00:25:43] *** Joins: ecalogero (~ecalogero@host86-152-71-30.range86-152.btcentralplus.com)
[00:25:48] *** Joins: aei-tech[m] (~aei-techm@2001:470:69fc:105::1:c060)
[00:26:03] <serafeim> hello friends. how can i write a query where i want to filter by 3 fields that may be null or have value ?  i.e if all three fields have values return field1 = v and field2 = v and field3 = v. if only field 1 and 2 have values return field1 = v and field2 = v. if only field 1 has value return field1 = v etc ?
[00:27:03] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[00:29:45] *** Joins: ur5us_ (~ur5us@122-56-202-39.mobile.spark.co.nz)
[00:32:36] *** Quits: ur5us (~ur5us@203.86.198.200) (Ping timeout: 240 seconds)
[00:33:57] *** Quits: uncleyear (~ian@pppoe.178-66-157-18.dynamic.avangarddsl.ru) (Ping timeout: 250 seconds)
[00:39:18] *** Quits: karabaja4 (~karabaja4@dh207-92-143.xnet.hr) (Quit: leaving)
[00:42:32] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 272 seconds)
[00:42:57] *** Joins: newdimension (~newdimnes@user/newdimension)
[00:43:03] *** Quits: JordiGH (~jordi@user/jordigh) (Ping timeout: 250 seconds)
[00:43:48] *** Quits: gp5st (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net) (Ping timeout: 272 seconds)
[00:46:00] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Remote host closed the connection)
[00:46:38] *** Quits: sliss (~sliss@109.136.165.60) (Quit: sliss)
[00:47:37] *** Joins: zeden (~zeden@user/zeden)
[00:47:41] *** Quits: rodo (~rodo@pop.92-184-106-178.mobile.abo.orange.fr) (Read error: No route to host)
[00:47:54] *** Quits: newdimension (~newdimnes@user/newdimension) (Read error: Connection reset by peer)
[00:48:39] *** Joins: newdimension (~newdimnes@user/newdimension)
[00:49:48] *** Quits: mizi (~mizi@user/mizi) (Ping timeout: 240 seconds)
[00:50:25] *** Quits: newdimension (~newdimnes@user/newdimension) (Read error: Connection reset by peer)
[00:50:46] *** Quits: `2jt (~jtomas@130.red-88-22-46.staticip.rima-tde.net) (Ping timeout: 272 seconds)
[00:51:02] *** Joins: newdimension (~newdimnes@user/newdimension)
[00:51:41] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Quit: au revoir)
[00:53:14] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[00:53:35] <ktosiek> serafeim: something like .filter(Q(field1=v, field2=v, field3=v) | Q(field1=v, field2=v, field3=None) | Q(field1=v, field2=None, field3=None))?
[00:53:45] *** Quits: newdimension (~newdimnes@user/newdimension) (Read error: Connection reset by peer)
[00:55:05] <serafeim> ktosiek: lol i want it in sql not in django :)
[00:55:11] *** Joins: karabaja4 (~karabaja4@dh207-92-143.xnet.hr)
[00:55:49] <serafeim> ktosiek: and i wanted something more smart; what you gave me doesn't have all the combinations
[00:56:15] <serafeim> i.e i also want field2=v, field1=None, field3=None, field3=v, field1=None, field2=None etc
[00:56:20] *** Joins: MrZeus_ (~MrZeus@185.248.85.53)
[00:58:06] <glik22_> mbanck: select pg_is_in_recovery() returns false on my replica.
[00:59:14] *** Joins: newdimension (~newdimnes@user/newdimension)
[00:59:24] *** Quits: MrZeus__ (~MrZeus@185.248.85.38) (Ping timeout: 240 seconds)
[01:00:07] <glik22_> select * from pg_stat_replication does the trick. thanks
[01:01:58] *** Joins: `2jt (~jtomas@130.red-88-22-46.staticip.rima-tde.net)
[01:04:25] <ktosiek> Haha, sorry, wrong channel :-D
[01:05:56] <ktosiek> So basically (field1 = v or field1 is null) and (field2 = v or field2 is null) and ...
[01:06:19] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:add0:9a9b:7448:fa60)
[01:07:09] <serafeim> `field1 = v or field1 is null` ? or maybe `field1 = v or v is null` ?
[01:07:18] <serafeim> or it's the same ?
[01:09:55] <ktosiek> serafeim: if those "equal or is null" chains give you bad plans, you can also try select ... where field1 = v UNION select ... where field2 = v - that should be able to use indexes on fieldN better, but will need to sort the results for UNION
[01:10:24] *** Quits: adac (~adac@213-47-252-7.cable.dynamic.surfer.at) (Ping timeout: 272 seconds)
[01:10:36] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:add0:9a9b:7448:fa60) (Ping timeout: 240 seconds)
[01:11:03] <ario> what's the best way I can increase cold hit query read speeds on postgres?
[01:11:43] <serafeim> ktosiek: can you clarify what do you mean sort the results for union ?
[01:12:12] *** Quits: mthall_ (~quassel@mail.thalliman.com) (Ping timeout: 240 seconds)
[01:12:51] *** Joins: Dr-007 (~Dr-007@92-108-90-26.cable.dynamic.v4.ziggo.nl)
[01:13:04] *** Joins: mthall (~quassel@mail.thalliman.com)
[01:14:08] *** Joins: hrob (~hrob@31-209-221-88.dsl.dynamic.simnet.is)
[01:14:20] <Dr-007> hey guys, i was stuck on database errors because i thought i installed mysql on my raspberry pi 1. but the pi guys replaced mysql with mariadb, which i was running.. now im doing my first time install ever of postgresql
[01:15:29] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[01:15:30] <Dr-007> ive now installed it, logged in via dbeaver (an sql management tool) to postgresql as the super user. (im also new to dbeaver, always used sqlyog)
[01:16:32] <Dr-007> anyways, in dbeaver / psql i created a new user laravel_api_dbuser, then i made a new database home_api and made the user as the owner
[01:16:58] <Dr-007> (im planning on using that user inside my php and only give it access to that database)
[01:17:03] *** Joins: kitsunenokenja (~kitsunech@68.91.220.96)
[01:17:12] <Dr-007> but when i created the user i was never prompted about a password
[01:17:28] <Dr-007> oh no, never mind..
[01:17:34] <Dr-007> i memba now
[01:18:56] *** Quits: magla (~gelignite@d536370e.access.ecotel.net) (Quit: Stay safe!)
[01:19:47] *** Quits: ur5us_ (~ur5us@122-56-202-39.mobile.spark.co.nz) (Read error: Connection reset by peer)
[01:20:38] *** Joins: ur5us_ (~ur5us@2406:e002:6804:8a01:f026:9131:1160:dcf8)
[01:23:40] *** Joins: sliss (~sliss@109.136.165.60)
[01:24:01] *** Quits: supplica_ (~supplican@ool-44c6b790.dyn.optonline.net) (Remote host closed the connection)
[01:24:38] *** Joins: supplicant (~supplican@ec2-52-22-71-188.compute-1.amazonaws.com)
[01:26:14] *** Quits: sliss (~sliss@109.136.165.60) (Client Quit)
[01:27:05] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:add0:9a9b:7448:fa60)
[01:27:33] <Dr-007> ok, i think the username and password worked. but im getting this error: select * from information_schema.tables where table_schema = home_api and table_name = migrations and table_type = 'BASE TABLE')
[01:27:36] <Dr-007> in laravel that is
[01:27:46] <StuckMojo> it might be using peer auth
[01:27:47] <Dr-007> i dont think postgresql has an information_schema?
[01:28:02] <StuckMojo> you didn't paste the error
[01:28:05] <StuckMojo> yes pg has info schema
[01:28:22] <StuckMojo> you need to quote home_api and migrations
[01:28:25] <StuckMojo> they're strings
[01:28:27] *** Joins: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net)
[01:28:40] <Dr-007> i can pastebin the error
[01:28:44] <Dr-007> if you'd like
[01:28:46] <StuckMojo> select *from information_schema.tables where table_schema ='home_api' and ...
[01:28:52] <Dr-007> its laravel and their basic installation
[01:28:57] *** Quits: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net) (Client Quit)
[01:29:00] <Dr-007> i get what youre saying
[01:29:05] <ktosiek> serafeim: do you want to filter by some fields, but only if the filter value is not null? Not only if the value in the table is not null?
[01:29:08] <StuckMojo> single quotes around stings
[01:29:13] <StuckMojo> *strings
[01:29:30] <Dr-007> maybe i have to define somewhere that its postgresql instead of mysql
[01:29:35] *** Joins: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net)
[01:29:43] <StuckMojo> mysql would require quotes too
[01:29:46] <ktosiek> And about union and sorting: PostgreSQL needs to do some additional work to remove duplicates from a result of union.
[01:29:55] *** Joins: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de)
[01:29:57] <StuckMojo> it's a sql thing not a mysql/postgres thing
[01:30:34] <Dr-007> StuckMojo, i modded something now it knows it has to use postgresql and i get: Database connection [postgresql] not configured.
[01:30:42] <Dr-007> so i think i have to give the user access to that table
[01:31:42] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:add0:9a9b:7448:fa60) (Ping timeout: 252 seconds)
[01:31:54] <Dr-007> or no, thats the wrong entry.. raah. everything different :p
[01:32:13] <StuckMojo> no, that's a login / connection issue
[01:32:19] <StuckMojo> why don't you just use psql?
[01:32:41] *** Joins: sliss (~sliss@109.136.165.60)
[01:34:01] *** Quits: off^ (~off@50.235.176.163) (Remote host closed the connection)
[01:34:11] *** Quits: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de) (Ping timeout: 250 seconds)
[01:34:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[01:35:29] <Dr-007> StuckMojo, yes exactly. i was guessing the value DB_CONNECTION=postgresql which shouldve been DB_CONNECTION=pgsql
[01:35:52] <Dr-007> but now im back at that error   could not find driver (SQL: select * from information_schema.tables where table_schema = public and table_name = migrations and table_type = 'BASE TABLE')
[01:37:09] <StuckMojo> still a connection issue, not postgres
[01:37:16] <StuckMojo> again, why don't you just use psql?
[01:37:34] <Dr-007> what's the difference between pgsql and psql?
[01:37:44] <Dr-007> (im now just googling the right entries)
[01:37:50] <Dr-007> i think ive found my deal here: https://laracasts.com/discuss/channels/laravel/pgsql-migrate-could-not-find-driver
[01:37:58] <Dr-007> removing the store/cache content solved the problem
[01:38:05] <Dr-007> (thats what somebody said)
[01:38:14] <Dr-007> so not a postgresql thing, you're right
[01:38:49] <StuckMojo> no psql as your client
[01:38:58] <StuckMojo> ??psql
[01:38:58] <pg_docbot> http://www.depesz.com/2012/12/31/command-line-tools-in-xxi-century-no-way-yes-way/ :: https://www.postgresql.org/docs/current/static/app-psql.html
[01:38:58] <pg_docbot> https://github.com/gbb/par_psql/
[01:38:59] *** Quits: Rashad (~textual@2a01:9700:1a7c:8900:658f:58fa:f5cc:30bb) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[01:42:05] *** Quits: mthall (~quassel@mail.thalliman.com) (Ping timeout: 272 seconds)
[01:42:40] *** Joins: dsrt^ (~dsrt@50.235.176.163)
[01:42:42] <Dr-007> psql: FATAL:  Peer authentication failed for user "laravel_api_dbuser"
[01:43:03] <StuckMojo> sudo -u laravel_api_dbuser psql ...
[01:43:09] <StuckMojo> or: psql -h localhost ...
[01:43:53] <StuckMojo> use the 2nd one if you don't have a system user named laravel_api_dbuser. the benefit of making one is that you can connect without a password if you use local socket, because the system has already authed you
[01:43:58] *** Quits: sliss (~sliss@109.136.165.60) (Ping timeout: 272 seconds)
[01:44:30] <Dr-007> friso@zwavepi:/var/www/home_automation_api_laravel $ psql -U laravel_api_dbuser -W -h localhost
[01:44:30] <Dr-007> Password:
[01:44:30] <Dr-007> psql: FATAL:  database "laravel_api_dbuser" does not exist
[01:44:45] <Dr-007> so i guess i should also specify the db
[01:44:59] <Dr-007> but i expected to login then 'SHOW DATABASES;'
[01:45:06] <Dr-007> and see if information_schema was available
[01:45:10] <StuckMojo> yes -d database
[01:45:15] <StuckMojo> psql -l will list them
[01:45:22] <ario> This benchmark here shows classic Amazon RDS is faster than Aurora: https://docs.google.com/spreadsheets/d/1HsK20U5qwp017Nja56zyCE_06qdvc9eFGCRk8VKgGOs/edit#gid=0
[01:45:27] <StuckMojo> it's slightly different from mysql
[01:45:30] <ario> anyone else experience the same?
[01:45:54] *** Joins: mthall (~quassel@mail.thalliman.com)
[01:46:26] <Dr-007> StuckMojo, https://dpaste.com/26E7VTG9K
[01:46:32] <StuckMojo> synchronous_commit = off will have no effect in Aurora, ther are no fsyncs / wal
[01:46:36] <Dr-007> that worked, but there is not information_schema
[01:47:30] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:add0:9a9b:7448:fa60)
[01:47:36] <peerce> ingformation+schema is not a database, its a schema
[01:47:46] <peerce> connect to a database w/ psql, and do \dn
[01:47:59] <Dr-007> but thats more a laravel issue by now. then yours / #postgresql
[01:48:04] <StuckMojo> ario: you should try aurora with gp3
[01:48:18] <ario> what is gp3 hmm
[01:48:26] <StuckMojo> Dr-007: dbname is home_api
[01:48:32] <StuckMojo> ario: new disk type
[01:48:57] <ario> ah, would that make it faster than classic RDS you think?
[01:49:12] <StuckMojo> dunno. i just know it's cheaper and faster than gp2
[01:49:28] <Dr-007> StuckMojo, yeah it is, thats the one i created. but laravel (a php app) needs access to information_schema and cant so it can see what fields are available for databases and stuff
[01:49:28] <StuckMojo> it's not available for rds postgres yet though, only aurora
[01:49:54] <StuckMojo> Dr-007: as peerce said, information_schema is a schema in every database, not a database
[01:50:00] <ario> StuckMojo: ah, interesting
[01:50:06] <StuckMojo> connect to your db, then run your select
[01:50:26] <ario> StuckMojo: would you recommend it over RDS gp2?
[01:50:26] <StuckMojo> ario: https://aws.amazon.com/about-aws/whats-new/2020/12/introducing-new-amazon-ebs-general-purpose-volumes-gp3/
[01:50:50] <Dr-007> StuckMojo, peerce, so how do i give this user access to the schema?
[01:51:02] <Dr-007> as that seems to be the problem by noq
[01:51:06] <Dr-007> now
[01:51:17] <StuckMojo> it already has access
[01:51:24] *** Quits: fcr (~fran@r167-56-63-10.dialup.adsl.anteldata.net.uy) (Ping timeout: 240 seconds)
[01:51:46] <StuckMojo> psql -h localhost -d <dbname> -U user
[01:51:59] <StuckMojo> then: select * from information_schema.tables where ...
[01:52:03] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:add0:9a9b:7448:fa60) (Ping timeout: 252 seconds)
[01:52:11] <StuckMojo> or whatever info you're looking for
[01:52:13] <StuckMojo> ??info schema
[01:52:13] <pg_docbot> https://www.postgresql.org/docs/current/static/information-schema.html
[01:52:18] *** Quits: michalz (~michalz@185.246.204.93) (Remote host closed the connection)
[01:53:27] *** Quits: ben_ (~ben@host86-160-225-46.range86-160.btcentralplus.com) (Remote host closed the connection)
[01:53:47] <StuckMojo> ario: the number of IOPS you get with Aurora is tied to the instance class / size BTW
[01:54:07] <StuckMojo> if you move to bigger instances, over 4xlarge IIRC, you get a lot more IOPS
[01:54:44] *** Joins: merzo (~Thunderbi@95.132.12.196)
[01:54:59] *** Joins: fcr (~fran@r186-48-86-60.dialup.adsl.anteldata.net.uy)
[01:54:59] <StuckMojo> it's also not too shocking that the writes could be faster on RDS, as Aurora writes 6 times synchronously, with a quorum of 4
[01:55:24] *** Quits: shka (~herr@109.231.0.226) (Ping timeout: 240 seconds)
[01:56:36] <j0hannes> I have two versions of the same query, one performs more than 10 times faster than the other and I have no clue why
[01:57:02] <j0hannes> the only difference is the order of joins - which the planner should be able to change if need be, right?
[01:57:30] *** Joins: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de)
[01:57:37] <johto> j0hannes; how many joins? any outer joins?
[01:57:57] <StuckMojo> j0hannes: use EXPLAIN [ANALYZE] to look at the plan and runtimes
[01:58:11] <j0hannes> johto: yes, there are two
[01:58:21] <j0hannes> https://explain.depesz.com/s/xHnK vs. https://explain.depesz.com/s/fmix
[01:59:01] <ario> StuckMojo: sounds like you're sayiing Aurora is faster than classic RDS
[01:59:02] <j0hannes> there's a GIN index for trigrams on a text field which is only used in the second version - and it's quite expensive as the index is big
[01:59:12] <johto> j0hannes; two??
[01:59:18] <johto> the query shows.. 8
[01:59:51] <StuckMojo> ario: actually i said the opposit. a write in RDS is one write. a write in Aurora is 6 writes to 6 separate disks, synchronously
[02:00:35] <j0hannes> johto: two left outer joins
[02:00:36] <ario> StuckMojo: wait..really?
[02:00:53] <ario> StuckMojo: why?
[02:01:23] <johto> j0hannes; ok. 1) outer joins can't be reorganized. 2) you might be hitting join_collapse_limit
[02:01:26] <johto> ?? join_collapse_limit
[02:01:26] <pg_docbot> https://www.postgresql.org/docs/current/static/explicit-joins.html :: https://www.postgresql.org/docs/current/static/runtime-config-query.html#GUC-JOIN-COLLAPSE-LIMIT
[02:01:32] <StuckMojo> ario: high availability and horizontal scaling
[02:01:47] <StuckMojo> in aurora, the writer and all the reader nodes use the same disk
[02:01:51] <StuckMojo> there is no replication
[02:02:22] <StuckMojo> that's the whole promise of Aurora
[02:02:36] *** Quits: mthall (~quassel@mail.thalliman.com) (Ping timeout: 240 seconds)
[02:02:56] <StuckMojo> you can read the technical details in the AWS documentation
[02:03:14] <ario> StuckMojo: interesting, thanks!
[02:03:30] <StuckMojo> Aurora is postgres with the storage layer torn out
[02:03:43] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[02:03:51] <ario> so, in your opinion classic RDS >  Aurora in terms of performance
[02:04:16] <StuckMojo> not necessarily, and it depends on your definition of performace
[02:04:27] *** Quits: pg_docbot (~docbot_li@donatu.postgresql.org) (Quit: Signal received: INT - shutting down)
[02:04:34] <ario> mostly in terms of fast reads (cold and hot cache)
[02:04:51] <StuckMojo> an Aurora cluster with 16 readers will beat the ever living shit out of RDS for total requests per second with high concurrency
[02:05:03] *** Parts: Sora (~Guest@user/sora) ()
[02:05:06] <StuckMojo> you don't want Aurora if you're only going to use a single node
[02:05:09] *** Joins: pg_docbot (~docbot_li@donatu.postgresql.org)
[02:05:10] *** Joins: hoppity_ (~hoppity@207.228.78.189)
[02:05:13] <StuckMojo> there's absolutely no point
[02:05:20] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) ()
[02:05:34] <StuckMojo> except to give Amazon more $$$
[02:07:55] <ario> StuckMojo: by readers you mean, read replicas?
[02:08:33] *** Quits: manti7 (~manti7@176.10.104.94) (Quit: WeeChat 3.3)
[02:08:56] <StuckMojo> they're aren't replicas in Aurora, as i said there's no replication. they directly access the same disk as the writer
[02:09:06] *** Quits: hoppity (~hoppity@user/hoppity) (Ping timeout: 252 seconds)
[02:09:15] <StuckMojo> s/they're/they/
[02:09:19] <ario> StuckMojo: that is very interesting
[02:09:47] <Dr-007> StuckMojo, it works! :) i missed a few things i find somewhere else online, like you pointed out to try the CLI psql which made me thinking why php could use the driver `sudo apt-get install php7.3-pgsql` and a few config tweaks
[02:09:55] <Dr-007> anyways, thanks
[02:10:20] <StuckMojo> ario: https://aws.amazon.com/rds/aurora/postgresql-features/
[02:10:53] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[02:11:18] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 252 seconds)
[02:11:22] <ario> StuckMojo: thanks will read further. Thanks for your input!
[02:11:42] <StuckMojo> np. i'm working on an Aurora instance right now ;)
[02:13:59] *** Quits: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de) (Remote host closed the connection)
[02:14:12] *** Quits: kakashiAL (~kakashi@p5b31684e.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[02:14:40] <ario> StuckMojo: that doc says "You can increase read throughput to support high-volume application requests by creating up to 15 database read replicas"
[02:14:52] <ario> so they do mention the readers as read replicas
[02:15:04] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) (Read error: Connection reset by peer)
[02:16:32] <StuckMojo> "mazon Aurora Replicas share the same underlying storage as the source instance, lowering costs and avoiding the need to perform writes at the replica nodes."
[02:16:42] <StuckMojo> yeah but they're not replicas really
[02:16:49] *** Joins: MrZeus__ (~MrZeus@185.248.85.38)
[02:16:59] <j0hannes> johto: I tried putting every relation where filters are applied into a subquery and have the LEFT JOINs outside, but the performance is not a good as with the first plan
[02:18:27] *** Quits: wasutton (~wasutton3@75-46-236-127.lightspeed.tukrga.sbcglobal.net) (Ping timeout: 252 seconds)
[02:19:48] *** Quits: MrZeus_ (~MrZeus@185.248.85.53) (Ping timeout: 240 seconds)
[02:22:36] *** Joins: hoppity (~hoppity@66.222.130.38)
[02:22:36] *** Quits: hoppity (~hoppity@66.222.130.38) (Changing host)
[02:22:36] *** Joins: hoppity (~hoppity@user/hoppity)
[02:22:47] *** Joins: JordiGH (~jordi@fencepost.gnu.org)
[02:22:47] *** Quits: JordiGH (~jordi@fencepost.gnu.org) (Changing host)
[02:22:47] *** Joins: JordiGH (~jordi@user/jordigh)
[02:24:30] *** Quits: hoppity_ (~hoppity@207.228.78.189) (Ping timeout: 252 seconds)
[02:26:33] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[02:31:32] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[02:33:15] *** Quits: zlinux (~zlinux@142.247.18.145) (Read error: Connection reset by peer)
[02:34:05] *** Joins: zlinux (~zlinux@142.247.18.145)
[02:34:21] *** Joins: AceSlash (~slash@37.166.14.21)
[02:34:37] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[02:35:48] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 240 seconds)
[02:38:21] <ario> StuckMojo: do you know with the readers, do I need to do anything with my client to read from multiple readers?
[02:38:32] <ario> or is it a single endpoint?
[02:38:41] <StuckMojo> single endpoint, round robins i think
[02:38:46] <ario> excellent
[02:39:12] <StuckMojo> sure about the endpoint, not sure how it distributes the queries, check the docs
[02:46:17] *** Joins: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de)
[02:47:01] *** Quits: karabaja4 (~karabaja4@dh207-92-143.xnet.hr) (Remote host closed the connection)
[02:47:49] *** Quits: Elodin (~elodin@user/elodin) (Quit: WeeChat 3.4)
[02:48:01] <StuckMojo> note you should use the endpoints listed at the cluster level, not individual instances
[02:48:06] <StuckMojo> ario: ^
[02:48:36] <StuckMojo> those endpoints follow the writer and readers around if you fail from one node to the next, or if Aurora does it for you automatically
[02:48:40] *** Joins: Elodin (~elodin@user/elodin)
[02:48:58] *** Quits: CodeMouse92 (~CodeMouse@user/codemouse92) (Quit: Oh freddled gruntbuggly | Thy micturations are to me | As plurdled gabbleblotchits | On a lurgid bee)
[02:49:03] <StuckMojo> within a region it will auto-fail the write to another node / AZ
[02:49:08] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) ()
[02:49:50] *** Quits: `2jt (~jtomas@130.red-88-22-46.staticip.rima-tde.net) (Ping timeout: 272 seconds)
[02:50:40] *** Quits: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt) (Quit: Lost terminal)
[02:51:28] *** Quits: JordiGH (~jordi@user/jordigh) (*.net *.split)
[02:51:28] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (*.net *.split)
[02:51:28] *** Quits: v0idpwn (sid483136@id-483136.helmsley.irccloud.com) (*.net *.split)
[02:51:28] *** Quits: econo (uid147250@user/econo) (*.net *.split)
[02:51:28] *** Quits: ba|ch (~user@p200300f3a700c4deef5cb672ef1025e7.dip0.t-ipconnect.de) (*.net *.split)
[02:51:28] *** Quits: foul_owl (~kerry@207.244.125.36) (*.net *.split)
[02:51:28] *** Quits: peerce (mudshark@2601:647:c980:247:6940:7c7b:1452:57f0) (*.net *.split)
[02:51:28] *** Quits: ghenry (~ghenry@ghenry.plus.com) (*.net *.split)
[02:51:28] *** Quits: serafeim (serafeim@2001:41d0:700:1ccb::10) (*.net *.split)
[02:51:28] *** Quits: kanin (~kanin@112.41.64.39) (*.net *.split)
[02:51:28] *** Quits: kopiyka (~user@2001:983:fe8b:1:b26e:bfff:fe2b:503f) (*.net *.split)
[02:51:28] *** Quits: Michelle (~michelle@203.206.128.220) (*.net *.split)
[02:51:28] *** Quits: nirojan (sid365686@user/nirojan) (*.net *.split)
[02:51:28] *** Quits: cespare (sid330206@2a03:5180:f:4::5:9de) (*.net *.split)
[02:51:28] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (*.net *.split)
[02:51:28] *** Quits: cryptic (~cryptic@142-196-139-017.res.spectrum.com) (*.net *.split)
[02:51:28] *** Quits: defjam (~eb0t@90.196.141.185) (*.net *.split)
[02:51:28] *** Quits: jancoow (~jancoow@user/jancoow) (*.net *.split)
[02:51:28] *** Quits: twoj (~twoj@32.221.200.121) (*.net *.split)
[02:51:28] *** Quits: glik22_ (~glik22@99-36-164-253.lightspeed.snjsca.sbcglobal.net) (*.net *.split)
[02:51:28] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (*.net *.split)
[02:51:28] *** Quits: bertptrs (~quassel@user/bertptrs) (*.net *.split)
[02:51:28] *** Quits: arcanez (~arcanez@warpedreality.org) (*.net *.split)
[02:51:28] *** Quits: jlc (~jlc@cpe-107-15-173-212.nc.res.rr.com) (*.net *.split)
[02:51:28] *** Quits: Slade (uid128877@user/slade) (*.net *.split)
[02:51:28] *** Quits: pinaraf (~quassel@rock.pinaraf.info) (*.net *.split)
[02:51:28] *** Quits: bkhl (~bkhl@user/bkhl) (*.net *.split)
[02:51:28] *** Quits: Chepra (~chepra@summer.c137.eu) (*.net *.split)
[02:51:28] *** Quits: rdrg109 (~rdrg109@user/rdrg109) (*.net *.split)
[02:51:28] *** Quits: finsternis (~X@23.226.237.192) (*.net *.split)
[02:51:28] *** Quits: dexterfoo (~dexter@li655-253.members.linode.com) (*.net *.split)
[02:51:28] *** Quits: davidfetter (~davidfett@xvm-110-146.dc2.ghst.net) (*.net *.split)
[02:51:28] *** Quits: rvgate (~rvgate@user/rvgate) (*.net *.split)
[02:51:28] *** Quits: LambdaComplex (~adam@wireguard/tunneler/lambdacomplex) (*.net *.split)
[02:51:28] *** Quits: FunkyBob (~curtis@vhost3.tinbrain.net) (*.net *.split)
[02:51:28] *** Quits: Henry151 (~bishop@user/henry151) (*.net *.split)
[02:51:28] *** Quits: Penagwin (~Penagwin@207.148.13.191) (*.net *.split)
[02:51:28] *** Quits: sth_ (~sth_@sys-v.net) (*.net *.split)
[02:51:28] *** Quits: maths22 (~maths22@user/maths22) (*.net *.split)
[02:51:28] *** Quits: xMopx (~xMopx-lib@192.95.23.134) (*.net *.split)
[02:51:28] *** Quits: alvherre (~alvherre@190.95.19.119) (*.net *.split)
[02:51:28] *** Quits: a6502 (~wieger@stofzuiger.a6502.net) (*.net *.split)
[02:51:28] *** Quits: Dragoon (~Dragoon@user/dragoon) (*.net *.split)
[02:51:28] *** Quits: jeff (~jeff@user/jeff) (*.net *.split)
[02:51:28] *** Quits: syllin (~syllin@user/syllin) (*.net *.split)
[02:51:28] *** Quits: Death_Syn (~deathsyn@deathsyn.com) (*.net *.split)
[02:51:28] *** Quits: fipar (~fipar@67.205.180.153) (*.net *.split)
[02:51:28] *** Quits: Dev0n (~Dev0n@user/dev0n) (*.net *.split)
[02:51:44] *** Quits: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de) (Ping timeout: 272 seconds)
[02:52:03] <Dr-007> ??info session role
[02:52:04] <pg_docbot> Nothing found
[02:52:08] <Dr-007> ??info role
[02:52:09] <pg_docbot> Nothing found
[02:52:20] <Dr-007> what's the 'meaning' of postgresql roles?
[02:52:51] <Dr-007> i get what they do in a website, like an editor only sees articles (s)he should edit
[02:53:00] *** Quits: merzo (~Thunderbi@95.132.12.196) (Remote host closed the connection)
[02:53:21] *** Quits: AceSlash (~slash@37.166.14.21) (Quit: Leaving)
[02:53:30] *** Joins: merzo (~Thunderbi@95.132.12.196)
[02:53:47] *** Joins: JordiGH (~jordi@user/jordigh)
[02:53:47] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[02:53:47] *** Joins: v0idpwn (sid483136@id-483136.helmsley.irccloud.com)
[02:53:47] *** Joins: serafeim (serafeim@2001:41d0:700:1ccb::10)
[02:53:47] *** Joins: econo (uid147250@user/econo)
[02:53:47] *** Joins: ba|ch (~user@p200300f3a700c4deef5cb672ef1025e7.dip0.t-ipconnect.de)
[02:53:47] *** Joins: foul_owl (~kerry@207.244.125.36)
[02:53:47] *** Joins: peerce (mudshark@2601:647:c980:247:6940:7c7b:1452:57f0)
[02:53:47] *** Joins: ghenry (~ghenry@ghenry.plus.com)
[02:53:47] *** Joins: kanin (~kanin@112.41.64.39)
[02:53:47] *** Joins: kopiyka (~user@2001:983:fe8b:1:b26e:bfff:fe2b:503f)
[02:53:47] *** Joins: Michelle (~michelle@203.206.128.220)
[02:53:47] *** Joins: nirojan (sid365686@user/nirojan)
[02:53:47] *** Joins: cespare (sid330206@2a03:5180:f:4::5:9de)
[02:53:47] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[02:53:47] *** Joins: cryptic (~cryptic@142-196-139-017.res.spectrum.com)
[02:53:47] *** Joins: defjam (~eb0t@90.196.141.185)
[02:53:47] *** Joins: jancoow (~jancoow@user/jancoow)
[02:53:47] *** Joins: twoj (~twoj@32.221.200.121)
[02:53:47] *** Joins: glik22_ (~glik22@99-36-164-253.lightspeed.snjsca.sbcglobal.net)
[02:53:47] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[02:53:47] *** Joins: bertptrs (~quassel@user/bertptrs)
[02:53:47] *** Joins: arcanez (~arcanez@warpedreality.org)
[02:53:47] *** Joins: jlc (~jlc@cpe-107-15-173-212.nc.res.rr.com)
[02:53:47] *** Joins: Slade (uid128877@user/slade)
[02:53:47] *** Joins: pinaraf (~quassel@rock.pinaraf.info)
[02:53:47] *** Joins: bkhl (~bkhl@user/bkhl)
[02:53:47] *** Joins: Chepra (~chepra@summer.c137.eu)
[02:53:47] *** Joins: rdrg109 (~rdrg109@user/rdrg109)
[02:53:47] *** Joins: finsternis (~X@23.226.237.192)
[02:53:47] *** Joins: dexterfoo (~dexter@li655-253.members.linode.com)
[02:53:47] *** Joins: davidfetter (~davidfett@xvm-110-146.dc2.ghst.net)
[02:53:47] *** Joins: LambdaComplex (~adam@wireguard/tunneler/lambdacomplex)
[02:53:47] *** Joins: rvgate (~rvgate@user/rvgate)
[02:53:47] *** Joins: FunkyBob (~curtis@vhost3.tinbrain.net)
[02:53:47] *** Joins: Henry151 (~bishop@user/henry151)
[02:53:47] *** Joins: Penagwin (~Penagwin@207.148.13.191)
[02:53:47] *** Joins: sth_ (~sth_@sys-v.net)
[02:53:47] *** Joins: maths22 (~maths22@user/maths22)
[02:53:47] *** Joins: xMopx (~xMopx-lib@192.95.23.134)
[02:53:47] *** Joins: alvherre (~alvherre@190.95.19.119)
[02:53:47] *** Joins: a6502 (~wieger@stofzuiger.a6502.net)
[02:53:47] *** Joins: Dragoon (~Dragoon@user/dragoon)
[02:53:47] *** Joins: jeff (~jeff@user/jeff)
[02:53:47] *** Joins: syllin (~syllin@user/syllin)
[02:53:47] *** Joins: Death_Syn (~deathsyn@deathsyn.com)
[02:53:47] *** Joins: fipar (~fipar@67.205.180.153)
[02:53:47] *** Joins: Dev0n (~Dev0n@user/dev0n)
[02:53:47] *** Quits: finsternis (~X@23.226.237.192) (Max SendQ exceeded)
[02:53:47] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Max SendQ exceeded)
[02:53:47] *** Quits: rvgate (~rvgate@user/rvgate) (Max SendQ exceeded)
[02:53:47] *** Quits: rdrg109 (~rdrg109@user/rdrg109) (Max SendQ exceeded)
[02:54:05] *** Joins: rdrg109 (~rdrg109@user/rdrg109)
[02:54:20] *** Joins: finsternis (~X@23.226.237.192)
[02:54:21] <Dr-007> doesnt matter. when i now connecnt with dbeaver as my super user and double click on databases it only lists the postgresql datanase
[02:54:25] *** Joins: rvgate (~rvgate@user/rvgate)
[02:54:31] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[02:54:38] <Dr-007> but my web app is kinda running (which i installed via composer)
[02:54:59] <Dr-007> its now requesting for a username / pwd that i set via a cli tool
[02:55:12] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[02:55:29] <Dr-007> but its not accepting my credentials so i decided to have a look in the table via dbeaver
[02:55:57] <Dr-007> to see if the table exists inside the database 'home_api'
[02:56:20] <Dr-007> but as i said the database isnt showing up at all
[02:56:21] *** Joins: ba|ch` (~user@p200300f3a700c4500cbe5164bd1b841a.dip0.t-ipconnect.de)
[02:56:52] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) (Client Quit)
[02:56:57] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Ping timeout: 250 seconds)
[02:57:38] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[02:58:15] *** Quits: ba|ch (~user@p200300f3a700c4deef5cb672ef1025e7.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[02:59:07] <Dr-007> ah.. its dbeaver
[02:59:15] <StuckMojo> there are not users or groups in postgres, everything is roles. a "user" is a role with login permissions, a "group" is a role with nologin, basically
[02:59:18] <Dr-007> i found out what to do, never mind
[02:59:35] <StuckMojo> ??role
[02:59:36] <pg_docbot> https://www.postgresql.org/docs/current/static/user-manag.html :: https://www.postgresql.org/docs/current/static/sql-createrole.html
[02:59:36] <pg_docbot> https://www.postgresql.org/docs/current/static/sql-alterrole.html :: https://www.postgresql.org/docs/current/static/sql-set-role.html
[02:59:36] <pg_docbot> https://www.postgresql.org/docs/current/static/sql-droprole.html
[02:59:41] *** Joins: xenoterracide (~xenoterra@2600:1700:71d4:81f:6e:2be2:8546:ba26)
[03:00:12] *** Quits: ur5us_ (~ur5us@2406:e002:6804:8a01:f026:9131:1160:dcf8) (Ping timeout: 240 seconds)
[03:01:17] <Dr-007> thanks
[03:03:02] <Dr-007> by the way, i like the pg_hba.conf file. because at first in the postgresql.conf i defined listeners to localhost,<my lan ip> and it didnt work so afterwards i changed it to '*'. then i got prompted with that pg_hba.conf file and i was like ah, thats was what i wanted to do. nice
[03:03:23] *** Joins: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29)
[03:05:47] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[03:05:56] *** Quits: immibis_ (~hexchat@dynamic-089-204-138-014.89.204.138.pool.telefonica.de) (Remote host closed the connection)
[03:06:20] *** Joins: immibis_ (~hexchat@dynamic-089-204-138-014.89.204.138.pool.telefonica.de)
[03:06:37] <Dr-007> brb
[03:07:40] *** Quits: Dr-007 (~Dr-007@92-108-90-26.cable.dynamic.v4.ziggo.nl) (Remote host closed the connection)
[03:08:15] *** Quits: ecalogero (~ecalogero@host86-152-71-30.range86-152.btcentralplus.com) (Quit: Connection closed)
[03:09:07] *** Joins: ianthrive (~ianthrive@166.70.191.9)
[03:21:09] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[03:21:13] *** Joins: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[03:25:23] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[03:26:36] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 240 seconds)
[03:28:01] *** Quits: Klinda (~superleag@user/klinda) (Quit: Konversation terminated!)
[03:29:51] *** Quits: immibis_ (~hexchat@dynamic-089-204-138-014.89.204.138.pool.telefonica.de) (Remote host closed the connection)
[03:30:16] *** Joins: immibis (~hexchat@dynamic-089-204-138-014.89.204.138.pool.telefonica.de)
[03:32:08] *** Joins: Guest1264 (~Thunderbi@p10605177-ipngn25001marunouchi.tokyo.ocn.ne.jp)
[03:34:02] <ario> StuckMojo: have you ever ported over from RDS to aurora?
[03:35:04] <ario> it says i can't do aurora serverless with pg 12
[03:37:16] <StuckMojo> the only ways to "port" would be a dump/restore, or using logical replication
[03:37:29] <StuckMojo> and yes, there are restrictions around serverless, it's quite new
[03:37:38] <ario> ah
[03:37:40] *** Quits: Auron (Auron956@user/auron) (Remote host closed the connection)
[03:37:46] <ario> yeah, forget about serverless then
[03:37:48] <StuckMojo> i've heard that as far as new Aurora features, only 13 will be added to
[03:37:56] <StuckMojo> 11 and 12 will only get bug fixes
[03:38:03] *** Joins: schinckel (uid38120@id-38120.ilkley.irccloud.com)
[03:38:15] <StuckMojo> so it's in your best interest to migrate to 13
[03:38:20] *** Quits: rufo (~phil@186-79-29-179.baf.movistar.cl) (Remote host closed the connection)
[03:38:31] *** Quits: hoppity (~hoppity@user/hoppity) (Remote host closed the connection)
[03:39:48] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) (Ping timeout: 240 seconds)
[03:40:55] <ario> StuckMojo: does logiical replicattion copy over indexes?
[03:41:14] <StuckMojo> logical replication doesn't do DDL at all, you load the schema first
[03:41:33] <StuckMojo> it also doesn't replicate sequences. you'll have to setval() on them as part of your cutover
[03:42:26] <ario> ah
[03:42:43] <StuckMojo> ??logical
[03:42:44] <pg_docbot> https://www.postgresql.org/docs/current/static/logicaldecoding.html :: https://wiki.postgresql.org/wiki/Logical_Decoding_Plugins
[03:42:44] <pg_docbot> https://www.postgresql.org/docs/current/static/logical-replication.html
[03:42:50] <StuckMojo> last link
[03:43:33] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[03:47:24] *** Quits: Guest1264 (~Thunderbi@p10605177-ipngn25001marunouchi.tokyo.ocn.ne.jp) (Ping timeout: 240 seconds)
[03:50:23] *** Joins: tozhu (~tozhu@218.89.244.95)
[03:55:15] *** Joins: ur5us_ (~ur5us@2406:e002:6804:8a01:f026:9131:1160:dcf8)
[03:56:00] <ario> StuckMojo: what is the different between cluster parameter group and db paramter group?
[03:56:08] <ario> (sorry for asking so many questions)
[03:57:25] <ario> ah it has to be a clusster parameter group
[04:00:20] *** Joins: Guest155 (~Thunderbi@p10605177-ipngn25001marunouchi.tokyo.ocn.ne.jp)
[04:01:15] <StuckMojo> CPG applies to all the instances in the cluster, IPG are overrides for just that instnace
[04:01:42] <StuckMojo> sorry, in a meeting
[04:02:05] <StuckMojo> some settings are only valid in one or the other
[04:02:15] *** Joins: supplica_ (~supplican@ool-44c6b790.dyn.optonline.net)
[04:05:09] *** Quits: supplicant (~supplican@ec2-52-22-71-188.compute-1.amazonaws.com) (Ping timeout: 252 seconds)
[04:05:38] <StuckMojo> there are only a few like that though
[04:10:37] *** Quits: asmodai (~asmodai@31-151-100-72.dynamic.upc.nl) (Ping timeout: 240 seconds)
[04:12:26] *** Joins: mexen (uid495612@user/mexen)
[04:13:51] *** Joins: gp5st (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net)
[04:18:23] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[04:19:16] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[04:19:41] *** Joins: zachxxz (~zachary@124.133.18.218)
[04:21:24] *** Quits: supplica_ (~supplican@ool-44c6b790.dyn.optonline.net) (Read error: Connection reset by peer)
[04:23:30] *** Joins: asmodai (~asmodai@31-151-100-72.dynamic.upc.nl)
[04:25:28] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) ()
[04:29:21] *** Quits: Kohe (~Kohe@46.12.76.236.dsl.dyn.forthnet.gr) (Ping timeout: 252 seconds)
[04:29:24] *** Quits: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[04:31:48] *** Quits: Guest155 (~Thunderbi@p10605177-ipngn25001marunouchi.tokyo.ocn.ne.jp) (Ping timeout: 272 seconds)
[04:34:55] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[04:37:45] *** Quits: pedja (~pedja@user/deus-ex/x-7934090) (Quit: Leaving)
[04:38:53] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:add0:9a9b:7448:fa60)
[04:41:04] *** Joins: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de)
[04:42:34] <ario> StuckMojo: i setup a pub/sub on a table i want to migrate to aurora
[04:42:38] <ario> and it's just stuck in 'startup'
[04:43:38] <ario> what's the logic here
[04:43:38] <ario> hmm
[04:45:18] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:add0:9a9b:7448:fa60) (Ping timeout: 252 seconds)
[04:45:37] *** Joins: shachaf (~shachaf@user/shachaf)
[04:45:43] *** Quits: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de) (Ping timeout: 250 seconds)
[04:47:20] *** Quits: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net) (Quit: Bye.)
[04:52:21] <ario> damn only want to check progress it to see the IO
[04:52:28] <ario> only way*
[04:55:14] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 272 seconds)
[04:58:16] <StuckMojo> it's VPC / SG related
[04:58:30] <StuckMojo> look at the ingress/egress rules on your Security Group
[04:58:48] <StuckMojo> unless they're both in the same VPC...
[04:58:55] <ario> they are in the same VPC
[04:59:01] <ario> it's 90gb of data
[04:59:09] <ario> so i think it's just taking a while?
[04:59:16] <StuckMojo> select * from pg_stat_subscription / pg_stat_publication
[04:59:30] <StuckMojo> first thing it does is the initial copy of data, then does a catchup
[04:59:46] <StuckMojo> if it's a big table that first step can take a while
[04:59:57] <ario> so i won't see anything if i do count(*) until it has copied over everything?
[05:00:00] <StuckMojo> you should see two threads in the subscript stats, one for the copy, one for the normal replication channel
[05:00:25] <StuckMojo> if it's done inside a transaction, yes it won't be visible until commmit
[05:00:31] <StuckMojo> use the stat tables
[05:04:09] *** Quits: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: jdavfsxd)
[05:09:44] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[05:23:24] *** Quits: MrZeus__ (~MrZeus@185.248.85.38) (Ping timeout: 240 seconds)
[05:26:58] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[05:33:11] *** Joins: trafficjam (~qubes@2001:8004:1500:4e2e:e698:af05:370:a550)
[05:33:22] <trafficjam> should i use aurora or rds for my db?
[05:33:24] *** Quits: hrob (~hrob@31-209-221-88.dsl.dynamic.simnet.is) (Quit: Client closed)
[05:33:37] *** Quits: xenoterracide (~xenoterra@2600:1700:71d4:81f:6e:2be2:8546:ba26) (Ping timeout: 240 seconds)
[05:36:28] <rk4> i think it's a waste of money and time, but i am a proficient linux user so YMMV
[05:37:17] *** Quits: tozhu (~tozhu@218.89.244.95) (Quit: tozhu)
[05:37:49] <rk4> if you have nfi what you're doing...sure, there's a better chance of successfully applying upgrades and keeping backups if you use aurora. security wise is a bit more questionable, as you'll need AWS specific knowledge pertaining to AWS networking and IAM
[05:37:59] *** Quits: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net) (Read error: Connection reset by peer)
[05:38:09] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 250 seconds)
[05:38:09] <ario> i use RDS
[05:38:35] <ario> i like iit
[05:38:41] *** Quits: davidfetter_work (~davidfett@c-73-252-148-184.hsd1.ca.comcast.net) (Quit: leaving)
[05:38:54] <ario> i prefer it since i don't have to do much
[05:39:00] *** Joins: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net)
[05:39:28] <ario> but $$$$
[05:40:04] <rk4> many $$$$, fwiw there's managed postgres providers too where you don't have to do much
[05:40:09] <rk4> other*
[05:40:29] *** Quits: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net) (Ping timeout: 256 seconds)
[05:40:32] <ario> yeah, i'm willing to accept that i'm AWS vendor locked at this point
[05:40:39] <ario> i've come to accept it
[05:44:12] *** Quits: f3f3lix (~weechat@55d487fc.access.ecotel.net) (Ping timeout: 240 seconds)
[05:45:00] *** Quits: Reiner_Unsinn_ (~quassel@p579d7a94.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[05:45:24] *** Quits: trafficjam (~qubes@2001:8004:1500:4e2e:e698:af05:370:a550) (Ping timeout: 240 seconds)
[05:46:23] *** Joins: f3f3lix (~weechat@55d48350.access.ecotel.net)
[05:51:11] *** Quits: Elodin (~elodin@user/elodin) (Quit: WeeChat 3.4)
[05:53:47] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[05:53:51] *** Quits: merzo (~Thunderbi@95.132.12.196) (Remote host closed the connection)
[05:54:11] *** Joins: merzo (~Thunderbi@95.132.12.196)
[05:55:24] *** Quits: Su-Shee (~Susanne@p4ffc7a34.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[05:55:43] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[05:56:35] *** Joins: Su-Shee (~Susanne@p5089429c.dip0.t-ipconnect.de)
[05:57:20] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Client Quit)
[06:01:08] *** Joins: Elodin (~elodin@user/elodin)
[06:02:18] *** Quits: gp5st (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net) (Ping timeout: 252 seconds)
[06:04:30] *** Quits: EvanCarroll (~ecarroll@68-78-105-35.lightspeed.hstntx.sbcglobal.net) (Ping timeout: 252 seconds)
[06:05:15] *** Quits: bindu (~bindu@user/bindu) (Ping timeout: 240 seconds)
[06:05:23] *** Joins: bindu_ (~bindu@user/bindu)
[06:06:16] *** Joins: EvanCarroll (~ecarroll@68-78-105-35.lightspeed.hstntx.sbcglobal.net)
[06:07:22] *** bindu_ is now known as bindu
[06:10:26] *** Joins: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net)
[06:12:19] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Remote host closed the connection)
[06:12:44] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[06:18:01] *** Joins: trafficjam (~qubes@2001:8004:2758:10cc:f6e0:6f3a:d7b4:2b9)
[06:22:29] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:add0:9a9b:7448:fa60)
[06:27:03] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:add0:9a9b:7448:fa60) (Ping timeout: 252 seconds)
[06:27:05] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[06:30:51] *** Joins: hoppity (~hoppity@user/hoppity)
[06:31:02] *** Quits: Elodin (~elodin@user/elodin) (Read error: Connection reset by peer)
[06:31:21] *** Joins: Elodin (~elodin@user/elodin)
[06:33:51] *** Quits: ponsfrilus (~Thunderbi@adsl-178-39-226-100.adslplus.ch) (Remote host closed the connection)
[06:34:09] *** Joins: ponsfrilus (~Thunderbi@adsl-178-39-226-100.adslplus.ch)
[06:35:56] *** Quits: hoppity (~hoppity@user/hoppity) (Ping timeout: 272 seconds)
[06:37:23] *** Joins: n0fun_ (~jack@i577BC06E.versanet.de)
[06:37:43] *** Quits: n0fun (~jack@mue-88-130-48-082.dsl.tropolys.de) (Ping timeout: 256 seconds)
[06:42:43] *** Quits: JordiGH (~jordi@user/jordigh) (Ping timeout: 250 seconds)
[06:45:48] *** Quits: n0fun_ (~jack@i577BC06E.versanet.de) (Ping timeout: 240 seconds)
[06:50:04] *** Joins: zachxz (~zachary@124.133.18.218)
[06:50:56] *** Joins: thekingofbandit (thekingofb@user/thekingofbandit)
[06:52:19] *** Quits: thekingofbandit (thekingofb@user/thekingofbandit) (Remote host closed the connection)
[06:52:49] *** Quits: merzo (~Thunderbi@95.132.12.196) (Remote host closed the connection)
[06:52:54] *** Quits: buu (~buu@70-142-48-147.lightspeed.austtx.sbcglobal.net) (Remote host closed the connection)
[06:53:19] *** Quits: Elodin (~elodin@user/elodin) (Quit: WeeChat 3.4)
[06:53:30] *** Joins: Komzzpa (~kom@2a02:220f:2000:2c00:86eb:38e3:744:b14c)
[06:53:40] *** Quits: zachxxz (~zachary@124.133.18.218) (Ping timeout: 272 seconds)
[06:54:01] *** Joins: merzo (~Thunderbi@95.132.12.196)
[06:54:14] *** Joins: Elodin (~elodin@user/elodin)
[06:55:46] *** Joins: JordiGH (~jordi@fencepost.gnu.org)
[06:55:46] *** Quits: JordiGH (~jordi@fencepost.gnu.org) (Changing host)
[06:55:46] *** Joins: JordiGH (~jordi@user/jordigh)
[06:55:48] *** Quits: op2 (~op2@user/op2) (Ping timeout: 240 seconds)
[06:56:41] *** Quits: Elodin (~elodin@user/elodin) (Client Quit)
[06:57:06] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[06:57:43] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[06:57:51] *** Quits: Komzpa (~kom@2a02:220f:2000:2c00:d6e5:55f1:99ff:20b6) (Ping timeout: 252 seconds)
[07:00:29] *** Quits: JordiGH (~jordi@user/jordigh) (Ping timeout: 250 seconds)
[07:01:04] *** Quits: mexen (uid495612@user/mexen) (Quit: Connection closed for inactivity)
[07:02:48] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 252 seconds)
[07:05:22] *** Joins: buu (~buu@70-142-48-147.lightspeed.austtx.sbcglobal.net)
[07:07:34] *** Joins: Azem (~haise01@user/haise01)
[07:10:30] *** Quits: Emet-Selch (~haise01@user/haise01) (Ping timeout: 252 seconds)
[07:13:47] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:f814:7ca7:6d36:1e9f)
[07:18:12] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:f814:7ca7:6d36:1e9f) (Ping timeout: 252 seconds)
[07:21:01] *** Joins: thekingofbandit (thekingofb@user/thekingofbandit)
[07:21:06] *** Quits: thekingofbandit (thekingofb@user/thekingofbandit) (Remote host closed the connection)
[07:21:55] *** Quits: trafficjam (~qubes@2001:8004:2758:10cc:f6e0:6f3a:d7b4:2b9) (Read error: Connection reset by peer)
[07:27:20] *** Joins: trafficjam (~qubes@2001:8004:2758:10cc:f384:7b61:2768:9432)
[07:43:17] *** Quits: trafficjam (~qubes@2001:8004:2758:10cc:f384:7b61:2768:9432) (Read error: Connection reset by peer)
[07:49:17] *** Joins: sreve_ (~quassel@p549d71aa.dip0.t-ipconnect.de)
[07:49:24] *** Quits: sreve (~quassel@p4ff44d01.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[07:51:29] *** Quits: zlinux (~zlinux@142.247.18.145) (Read error: Connection reset by peer)
[07:52:01] *** Joins: zlinux (~zlinux@142.247.18.145)
[07:52:56] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[07:56:19] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:58:12] *** Quits: ur5us_ (~ur5us@2406:e002:6804:8a01:f026:9131:1160:dcf8) (Ping timeout: 240 seconds)
[07:58:19] *** Joins: JordiGH (~jordi@fencepost.gnu.org)
[07:58:19] *** Quits: JordiGH (~jordi@fencepost.gnu.org) (Changing host)
[07:58:19] *** Joins: JordiGH (~jordi@user/jordigh)
[07:58:50] *** Joins: Elodin (~elodin@user/elodin)
[07:58:53] *** Quits: Elodin (~elodin@user/elodin) (Client Quit)
[08:01:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[08:02:04] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 272 seconds)
[08:05:12] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b94a:774b:e909:fc17)
[08:06:21] *** Quits: JordiGH (~jordi@user/jordigh) (Ping timeout: 250 seconds)
[08:08:53] *** Quits: victori (~victori@cpe-76-89-139-69.socal.res.rr.com) (Quit: ZNC 1.8.2 - https://znc.in)
[08:09:50] *** Joins: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw)
[08:09:54] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:b94a:774b:e909:fc17) (Ping timeout: 252 seconds)
[08:13:05] *** Joins: victori (~victori@cpe-76-89-139-69.socal.res.rr.com)
[08:15:20] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08)
[08:15:41] *** Joins: Elodin (~elodin@user/elodin)
[08:19:47] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08) (Ping timeout: 250 seconds)
[08:20:36] *** Quits: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net) (Ping timeout: 240 seconds)
[08:21:04] *** Joins: JordiGH (~jordi@fencepost.gnu.org)
[08:21:04] *** Quits: JordiGH (~jordi@fencepost.gnu.org) (Changing host)
[08:21:04] *** Joins: JordiGH (~jordi@user/jordigh)
[08:29:20] *** Joins: immibis_ (~hexchat@62.156.144.218)
[08:30:19] *** Joins: Atque (~Atque@user/atque)
[08:30:37] *** Quits: JordiGH (~jordi@user/jordigh) (Ping timeout: 250 seconds)
[08:31:48] *** Quits: immibis (~hexchat@dynamic-089-204-138-014.89.204.138.pool.telefonica.de) (Ping timeout: 240 seconds)
[08:32:46] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[08:36:31] *** Joins: mattil_ (~mattil@helsinki.portalify.com)
[08:41:42] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[08:56:40] *** Joins: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de)
[08:56:48] <buu> Hmm
[08:56:56] <buu> How much space do nulls take up?
[08:57:37] <buu> I have table A that has many table B, table B is 3 interchangeable remote IDs
[08:58:05] <buu> Should I create table b_id1; table b_id2; table b_id3; or can I just do table b ( id1, id2, id3 ) ?
[09:00:41] <buu> Table B would be (a_id, other_id) and I'd use it either as select * from b where a_id = id; or select * from A join B on a.id=a_id where b.id1 = ?
[09:01:03] *** Quits: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de) (Ping timeout: 252 seconds)
[09:01:41] <buu> I lean towards a single table with nulls
[09:01:57] <buu> Fewer joins and stuff
[09:06:02] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08)
[09:07:11] *** Joins: karabaja4 (~karabaja4@dh207-92-143.xnet.hr)
[09:08:01] *** Joins: ur5us_ (~ur5us@2406:e002:6804:8a01:fe29:d3cc:a0c3:c22)
[09:10:24] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08) (Ping timeout: 252 seconds)
[09:14:13] *** Joins: uncleyear (~ian@pppoe.178-66-157-18.dynamic.avangarddsl.ru)
[09:16:00] *** Joins: mexen (uid495612@user/mexen)
[09:16:00] *** Quits: uncleyear (~ian@pppoe.178-66-157-18.dynamic.avangarddsl.ru) (Read error: Connection reset by peer)
[09:16:27] *** Joins: uncleyear (~ian@pppoe.178-66-157-18.dynamic.avangarddsl.ru)
[09:18:57] *** Quits: jrjsmrtn (~jrjsmrtn@ip-212-239-244-124.dsl.scarlet.be) (Ping timeout: 256 seconds)
[09:19:47] <davidfetter> in the heap table AM, each null in a row takes up one bit in the header. no value is actually there
[09:20:58] *** Joins: jrjsmrtn (~jrjsmrtn@ip-213-49-42-24.dsl.scarlet.be)
[09:21:01] <buu> Probably less than 100m rows
[09:33:42] *** ba|ch` is now known as ba|ch
[09:35:52] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[09:37:29] *** Quits: jconway (~jconway@072-017-018-098.res.spectrum.com) (Remote host closed the connection)
[09:37:47] *** Quits: ur5us_ (~ur5us@2406:e002:6804:8a01:fe29:d3cc:a0c3:c22) (Remote host closed the connection)
[09:38:02] *** Joins: ur5us_ (~ur5us@2406:e002:6804:8a01:fe29:d3cc:a0c3:c22)
[09:38:13] *** Joins: ish7 (~ish@codemonkey.net)
[09:38:36] *** Quits: fercell (~ferr@185.65.50.80) (Ping timeout: 240 seconds)
[09:39:18] *** Joins: zlinux_ (~zlinux@142.247.18.145)
[09:39:18] *** Joins: berkhan (~berkhan@159.146.41.59)
[09:39:19] *** Joins: midipix_ (~midipix@mail.culturestrings.org)
[09:39:19] *** Quits: immibis_ (~hexchat@62.156.144.218) (Remote host closed the connection)
[09:39:26] *** Joins: immibis_ (~hexchat@62.156.144.218)
[09:39:37] *** Joins: fercell (~ferr@185.65.50.80)
[09:39:37] *** Quits: danieli (~danieli@user/danieli) (Remote host closed the connection)
[09:39:44] *** Quits: midipix (~midipix@mail.culturestrings.org) (Read error: Connection reset by peer)
[09:39:49] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Remote host closed the connection)
[09:39:59] *** Joins: jconway (~jconway@072-017-018-098.res.spectrum.com)
[09:40:10] *** Joins: danieli (~danieli@user/danieli)
[09:40:14] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[09:40:36] *** Quits: ish (~ish@codemonkey.net) (Ping timeout: 240 seconds)
[09:40:36] *** ish7 is now known as ish
[09:41:24] *** Quits: cliluw (~cliluw@47.147.73.223) (Ping timeout: 240 seconds)
[09:41:48] *** Quits: zlinux (~zlinux@142.247.18.145) (Ping timeout: 240 seconds)
[09:42:05] *** Joins: cliluw (~cliluw@47.147.73.223)
[09:42:30] *** Joins: the_lanetly_052 (~the_lanet@194.135.154.108)
[09:43:56] *** Quits: silas (sid500480@id-500480.tinside.irccloud.com) (Ping timeout: 252 seconds)
[09:44:00] *** Joins: tozhu (~tozhu@218.89.244.95)
[09:44:36] *** Joins: silas (sid500480@id-500480.tinside.irccloud.com)
[09:44:43] *** Quits: foul_owl (~kerry@207.244.125.36) (Ping timeout: 250 seconds)
[09:46:43] *** Joins: mattil (~mattil@87-92-28-123.bb.dnainternet.fi)
[09:46:45] *** Quits: mattil (~mattil@87-92-28-123.bb.dnainternet.fi) (Remote host closed the connection)
[09:47:27] *** Joins: mattil__ (~mattil@helsinki.portalify.com)
[09:48:54] *** Quits: mattil_ (~mattil@helsinki.portalify.com) (Ping timeout: 252 seconds)
[09:49:15] *** Quits: ponsfrilus (~Thunderbi@adsl-178-39-226-100.adslplus.ch) (Remote host closed the connection)
[09:49:24] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[09:49:33] *** Joins: ponsfrilus (~Thunderbi@adsl-178-39-226-100.adslplus.ch)
[09:50:33] *** Quits: berkhan (~berkhan@159.146.41.59) (Ping timeout: 252 seconds)
[09:53:54] *** Quits: _mikey (~mikey@user/mikey/x-4335048) (Quit: WeeChat 3.4)
[09:54:40] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[09:55:30] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 252 seconds)
[09:55:36] *** Joins: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de)
[09:56:52] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08)
[09:59:00] *** Quits: ur5us_ (~ur5us@2406:e002:6804:8a01:fe29:d3cc:a0c3:c22) (Ping timeout: 240 seconds)
[10:01:08] *** Quits: karabaja4 (~karabaja4@dh207-92-143.xnet.hr) (Ping timeout: 272 seconds)
[10:01:33] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08) (Ping timeout: 252 seconds)
[10:03:28] *** Joins: ekathva (~ekathva@n3k02urgmuqvuf9nu-1.v6.elisa-mobile.fi)
[10:05:24] *** Quits: turlando (~turlando@user/turlando) (Ping timeout: 252 seconds)
[10:05:48] *** Quits: newdimension (~newdimnes@user/newdimension) (Ping timeout: 240 seconds)
[10:09:59] *** Joins: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de)
[10:10:52] *** Joins: newdimension (~newdimnes@user/newdimension)
[10:14:18] *** Joins: karabaja4 (~karabaja4@dh207-95-139.xnet.hr)
[10:14:37] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[10:14:45] *** Quits: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[10:15:46] *** Joins: foul_owl (~kerry@23.105.36.232)
[10:17:01] *** Quits: mattil__ (~mattil@helsinki.portalify.com) (Ping timeout: 256 seconds)
[10:18:40] *** Joins: darutoko (~darutoko@37.21.198.48)
[10:20:39] *** Joins: Reiner_Unsinn (~quassel@p579d7a94.dip0.t-ipconnect.de)
[10:21:00] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) (Ping timeout: 240 seconds)
[10:22:31] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[10:27:44] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) (Ping timeout: 272 seconds)
[10:29:12] *** Joins: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de)
[10:34:04] *** Quits: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[10:36:23] *** Joins: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de)
[10:46:20] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[10:48:58] *** Joins: manti7 (~manti7@176.10.104.94)
[10:49:33] *** Quits: ponsfrilus (~Thunderbi@adsl-178-39-226-100.adslplus.ch) (Quit: ponsfrilus)
[10:49:46] *** Joins: ponsfrilus (~Thunderbi@adsl-178-39-226-100.adslplus.ch)
[10:50:07] *** Quits: _mikey (~mikey@user/mikey/x-4335048) (Quit: WeeChat 3.4)
[10:50:08] *** Joins: shka (~herr@109.231.0.226)
[10:51:46] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[10:56:09] <belst> hi, I have a view that uses a few tables and a function that returns a table. I granted select on that view to a user but he gets permission errors for an underlying table
[10:56:14] *** Joins: rmarrone (rmarrone@sdf.org)
[10:56:33] <belst> isn't it enough to grant select on the view?
[10:56:47] <belst> or do I need special stuff because of the function it is using?
[10:57:06] *** Joins: fef (~thedawn@user/thedawn)
[11:02:52] *** Joins: ponsfrilus1 (~Thunderbi@vpn-254-092.epfl.ch)
[11:03:50] *** Quits: ponsfrilus (~Thunderbi@adsl-178-39-226-100.adslplus.ch) (Ping timeout: 272 seconds)
[11:03:51] *** ponsfrilus1 is now known as ponsfrilus
[11:05:22] *** Quits: tozhu (~tozhu@218.89.244.95) (Quit: tozhu)
[11:08:01] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08)
[11:12:02] *** Joins: Ergo^ (~ergo@91.238.59.144)
[11:12:30] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08) (Ping timeout: 252 seconds)
[11:13:46] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08)
[11:15:22] *** Quits: merzo (~Thunderbi@95.132.12.196) (Quit: merzo)
[11:15:34] <belst> I assume I need to use security definer for the function, but can I somehow restrict execution rights to only that view?
[11:15:47] *** Joins: rodo (~rodo@pop.92-184-105-116.mobile.abo.orange.fr)
[11:16:17] *** Joins: Kohe (~Kohe@46.12.76.236.dsl.dyn.forthnet.gr)
[11:18:31] *** Joins: turlando (~turlando@93-42-250-112.ip89.fastwebnet.it)
[11:18:31] *** Quits: turlando (~turlando@93-42-250-112.ip89.fastwebnet.it) (Changing host)
[11:18:31] *** Joins: turlando (~turlando@user/turlando)
[11:18:33] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08) (Ping timeout: 252 seconds)
[11:19:04] *** rjuju_ is now known as rjuju
[11:21:29] *** Joins: tozhu (~tozhu@218.89.244.95)
[11:22:29] *** Quits: ncollins (~ncollins@mail.xes-mad.com) (Ping timeout: 256 seconds)
[11:22:45] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 256 seconds)
[11:24:01] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08)
[11:28:27] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08) (Ping timeout: 252 seconds)
[11:28:43] *** Joins: rendar (~rendar@user/rendar)
[11:29:29] *** Joins: berkhan (~berkhan@159.146.41.59)
[11:30:37] *** Quits: berkhan (~berkhan@159.146.41.59) (Remote host closed the connection)
[11:32:33] *** Joins: palasso (~palasso@user/palasso)
[11:33:15] *** Joins: ur5us_ (~ur5us@203.86.198.200)
[11:33:35] *** Quits: tribo (~tribo@p5b0fb69c.dip0.t-ipconnect.de) (Quit: WeeChat 2.8)
[11:37:37] *** Joins: psoo (~psoo@dslb-090-186-134-090.090.186.pools.vodafone-ip.de)
[11:38:23] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[11:39:05] *** Joins: trafficjam (~qubes@2001:8004:1500:21db:8815:dd7e:a74e:c6a0)
[11:39:44] <depesz> belst: that shouldn't be the case. can you show us the query, and error from psql?
[11:40:37] <belst> error is just: permission denied for table employees
[11:42:57] <belst> I do have sth like this:
[11:42:59] <belst> create view foo as
[11:42:59] <belst> with args as (select arg1, arg2 from sometable)
[11:42:59] <belst> select max(f.sth)
[11:42:59] <belst> from args
[11:42:59] <belst> cross join lateral myfunction(a.arg1, a.arg2) f
[11:43:00] <belst> group by date_trunc('month', f.timestamp)
[11:43:02] <belst> order by f.timestamp
[11:43:12] *** Quits: tozhu (~tozhu@218.89.244.95) (Quit: tozhu)
[11:43:28] <belst> the function is NOT defined with security definer tho
[11:43:38] <belst> but the owner of the view has execute
[11:44:17] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08)
[11:44:53] <belst> ah one more thing that my simple example doesnt have, I access the table that has the permission denied error in a left join in a cte
[11:45:25] <belst> I think that might be the problem there, otherwise the error would be sth with missing execute I think?
[11:46:36] *** Quits: gr33nR10t (~greenriot@user/gr33nr10t) (Ping timeout: 252 seconds)
[11:48:08] *** Joins: rwb (~augh@209.141.39.190)
[11:48:45] *** Joins: gr33nR10t (~greenriot@user/gr33nr10t)
[11:49:17] <belst> ah no, it says, permission denied for table employees, context: sql function "myfunc" statement 1
[11:49:18] *** Joins: tozhu (~tozhu@218.89.244.95)
[11:49:43] *** Quits: rb (~augh@209.141.39.190) (Read error: Connection reset by peer)
[11:51:36] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[11:52:20] *** Joins: op2 (~op2@user/op2)
[11:56:10] *** Joins: adac (~adac@clnet-b03-098.ikbnet.co.at)
[11:56:40] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[11:59:38] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[12:00:44] *** Quits: nivag (~gavin@103-76-144-176.ip.cis.gen.nz) (Remote host closed the connection)
[12:01:27] *** Quits: ianthrive (~ianthrive@166.70.191.9) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:02:11] *** Joins: bizolos (~bizolos@176-179-18-127.abo.bbox.fr)
[12:03:34] <belst> I think the only option is to use security definer :(
[12:03:48] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[12:03:49] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[12:04:23] *** robins is now known as robinsmidsrod
[12:05:32] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[12:07:21] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[12:10:20] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 272 seconds)
[12:12:52] *** Quits: bizolos (~bizolos@176-179-18-127.abo.bbox.fr) (Quit: Leaving)
[12:13:00] *** Joins: nivag (~gavin@103-76-144-176.ip.cis.gen.nz)
[12:14:08] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 272 seconds)
[12:14:44] *** Joins: mattil (~mattil@87-92-28-123.bb.dnainternet.fi)
[12:15:26] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08) (Remote host closed the connection)
[12:15:53] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:8ce:52c8:d2f7:fc08)
[12:18:12] *** Quits: ur5us_ (~ur5us@203.86.198.200) (Ping timeout: 240 seconds)
[12:19:00] *** Quits: mattil (~mattil@87-92-28-123.bb.dnainternet.fi) (Ping timeout: 240 seconds)
[12:24:56] *** Joins: ianthrive (~ianthrive@166.70.191.9)
[12:26:17] *** Quits: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8) (Ping timeout: 256 seconds)
[12:26:47] *** Joins: merzo (~Thunderbi@185.39.197.205)
[12:28:04] *** Quits: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[12:28:24] *** Joins: zer0bitz (~zer0bitz@2001:2003:f74d:b800:c9dd:301:29f7:88f5)
[12:30:24] *** Joins: michalz (~michalz@185.246.204.89)
[12:30:41] *** Joins: ben_ (~ben@host86-160-225-46.range86-160.btcentralplus.com)
[12:43:46] *** Joins: sliss (~sliss@109.136.165.60)
[12:47:22] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Quit: john_johnk)
[12:49:18] <sliss> serafeim:  something like: CASE WHEN field1 is not null THEN field1, CASE WHEN field2 is not null THEN field2, CASE WHEN field3 is not null THEN field3
[12:51:31] <serafeim> sliss: i'm not sure i understand that solution
[12:51:47] *** Joins: immibis (~hexchat@dynamic-089-204-138-014.89.204.138.pool.telefonica.de)
[12:52:26] *** Quits: turlando (~turlando@user/turlando) (Quit: turlando)
[12:52:41] *** Joins: turlando (~turlando@93-42-250-112.ip89.fastwebnet.it)
[12:52:41] *** Quits: turlando (~turlando@93-42-250-112.ip89.fastwebnet.it) (Changing host)
[12:52:41] *** Joins: turlando (~turlando@user/turlando)
[12:53:00] *** Quits: immibis_ (~hexchat@62.156.144.218) (Ping timeout: 240 seconds)
[12:53:35] *** Joins: berkhan (~berkhan@159.146.41.59)
[12:53:43] *** Quits: turlando (~turlando@user/turlando) (Client Quit)
[12:54:02] <sliss> serafeim: maybe you can use case in combination with concat
[12:54:12] *** Joins: turlando (~turlando@user/turlando)
[12:54:37] <serafeim> not sure i think the correct solution was the one proposed before ie (value is null or field1 = value) and ()
[12:54:55] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[12:55:29] <sliss> oh.. missed that part, maybe I was reading a backlog of my icr client ;-)
[12:56:25] <serafeim> my problem is that i have like 10 filter fields. each of these filter fields may get a value or not. i want to filter by the fields that get values, and-ing them. if no field gets a value then return all results
[12:56:47] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[12:57:54] *** Quits: berkhan (~berkhan@159.146.41.59) (Client Quit)
[12:58:19] <sliss> So did you fix it with the previous solution?
[12:58:25] *** Quits: cliluw (~cliluw@47.147.73.223) (Ping timeout: 250 seconds)
[12:59:01] *** Joins: cliluw (~cliluw@47.147.73.223)
[12:59:42] <serafeim> yes it works
[12:59:46] *** Quits: ilmari (~ilmari@user/ilmari) (Remote host closed the connection)
[12:59:56] <serafeim> don't know how good it works though with all these ORs
[12:59:57] <sliss> good, forget my comment then ;-)
[12:59:59] <serafeim> but we'll see
[13:01:05] *** Quits: jmcgnh (~jmcgnh@wikipedia/jmcgnh) (Ping timeout: 256 seconds)
[13:01:24] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 252 seconds)
[13:01:43] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[13:03:16] <sliss> select '3000'''''  ~ '\d+(fe?e?t)|''''','3000feet'  ~ '\d+(fe?e?t)|''''','3000ft'  ~ '\d+(fe?e?t)|''''' all return true, but how do I match 3000'?
[13:05:55] *** Joins: `2jt (~jtomas@130.red-88-22-46.staticip.rima-tde.net)
[13:07:22] <buu> (...)?
[13:07:35] *** Quits: the_lanetly_052 (~the_lanet@194.135.154.108) (Ping timeout: 256 seconds)
[13:09:05] *** Joins: jmcgnh (~jmcgnh@wikipedia/jmcgnh)
[13:09:40] <sliss> i maybe found it... using $$ String Constants?
[13:11:25] *** Quits: sliss (~sliss@109.136.165.60) (Quit: sliss)
[13:11:40] *** Joins: sliss (~sliss@109.136.165.60)
[13:11:46] *** Quits: zachxz (~zachary@124.133.18.218) (Ping timeout: 272 seconds)
[13:15:47] *** Joins: spinningcat (~spinningc@about/web/muscles)
[13:15:49] <spinningcat> hey
[13:16:18] <spinningcat>  Schema | Name| Type  |  Owner   public | Product | table | postgres
[13:16:39] <spinningcat> when i do select * from Product i got relation does not exist
[13:16:48] <spinningcat> i dont understand whjats going on?
[13:16:50] *** Quits: sliss (~sliss@109.136.165.60) (Ping timeout: 272 seconds)
[13:17:45] *** Joins: sliss (~sliss@109.136.165.60)
[13:18:05] *** Quits: tozhu (~tozhu@218.89.244.95) (Quit: tozhu)
[13:18:14] *** Quits: ianthrive (~ianthrive@166.70.191.9) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:18:43] *** Joins: tozhu (~tozhu@218.89.244.95)
[13:19:00] *** Quits: sliss (~sliss@109.136.165.60) (Client Quit)
[13:19:09] *** Joins: sliss (~sliss@109.136.165.60)
[13:20:41] *** Quits: ChkDigit (~u388mw@207-195-34-73.prna.static.sasknet.sk.ca) (Ping timeout: 256 seconds)
[13:21:16] *** Quits: jazzy2 (~jaziz@user/jaziz) (Ping timeout: 272 seconds)
[13:21:17] *** Joins: sliss_ (~sliss@109.136.165.60)
[13:21:48] *** Quits: dmvrtx (~dmvrtx@znc.dmvrtx.me) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[13:23:42] *** Joins: dmvrtx (~dmvrtx@znc.dmvrtx.me)
[13:24:01] <spinningcat> fixed it
[13:24:30] *** Quits: sliss (~sliss@109.136.165.60) (Ping timeout: 252 seconds)
[13:24:30] *** sliss_ is now known as sliss
[13:33:28] *** Joins: ChkDigit (~u388mw@207-195-34-73.prna.static.sasknet.sk.ca)
[13:34:34] *** Quits: spinningcat (~spinningc@about/web/muscles) (Ping timeout: 272 seconds)
[13:40:27] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[13:44:16] *** Joins: ben__ (~ben@host86-160-225-46.range86-160.btcentralplus.com)
[13:46:20] *** Joins: ilmari (~ilmari@user/ilmari)
[13:47:14] *** Quits: ben_ (~ben@host86-160-225-46.range86-160.btcentralplus.com) (Ping timeout: 272 seconds)
[13:49:22] *** Quits: dmvrtx (~dmvrtx@znc.dmvrtx.me) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[13:49:37] *** Joins: dmvrtx (~dmvrtx@znc.dmvrtx.me)
[13:52:56] *** Quits: zlinux_ (~zlinux@142.247.18.145) (Ping timeout: 272 seconds)
[13:53:20] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[13:53:37] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[13:54:02] *** Quits: tozhu (~tozhu@218.89.244.95) (Quit: tozhu)
[13:56:23] *** Quits: dmvrtx (~dmvrtx@znc.dmvrtx.me) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[13:56:24] *** Quits: fcr (~fran@r186-48-86-60.dialup.adsl.anteldata.net.uy) (Ping timeout: 252 seconds)
[13:56:39] *** Joins: dmvrtx (~dmvrtx@znc.dmvrtx.me)
[13:57:00] *** Quits: foul_owl (~kerry@23.105.36.232) (Ping timeout: 240 seconds)
[13:57:49] *** Joins: tozhu (~tozhu@218.89.244.95)
[13:59:16] *** Joins: humanBird (~humanBird@2603-8001-7000-3642-2016-2641-923b-d276.res6.spectrum.com)
[13:59:45] <humanBird> does it make sense to put a postgres instance inside a container and mount volumes onto the container so the data isn't lost when the container shuts down?
[14:00:02] <selckin> yes
[14:01:10] *** Joins: pagnol (~user@014198154145.ctinets.com)
[14:01:13] *** Joins: fcr (~fran@r167-60-22-5.dialup.adsl.anteldata.net.uy)
[14:01:15] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[14:01:26] <pagnol> Have any of you taken a look at Edgedb?
[14:01:35] <humanBird> like the whole strategy of containerization on databases... does it make sense?  seems like this separate volume might pose some risks.  do you need separate tools to work with this volume?  if you decide to move the data, what happens?
[14:02:19] <humanBird> compare this to bare metal or virtualization
[14:04:26] <humanBird> seems like it's more straightforward to replicate a vm or just migrate the data off of a plain old sql server.
[14:05:05] <selckin> whatever you know best is the most straightforward
[14:06:09] <selckin> container is just a different method to install and update the software, most other things stay the same
[14:06:13] <Walex2> humanBird: a lot of technical choices are driven by "career" requirements.
[14:06:42] <Walex2> humanBird: currently "container" is a hot keyword for CVs, so there.
[14:07:27] <Berge> Containers typically add complexity
[14:07:37] <pagnol> I thought people take that for granted by now and the hot thing to have in your cv is Kubernetes
[14:08:10] <Berge> But it'll depend on your use case
[14:08:15] <Walex2> humanBird: the real reason to use containers other than "career" is to turn DB applications into abandonware, that is to get sysadmin/operations out of the burden of maintaining applications and databases.
[14:08:21] <humanBird> probably in the context of "deploy to aws" or other infrastructure
[14:08:25] <Berge> "if you decide to move the data" – why? What's the use case?
[14:08:51] <Berge> How are you managing the thing? Is your container running on a infrastructure thing like Kubernetes?
[14:08:56] <Berge> And so on
[14:09:13] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[14:09:25] <Berge> (I personally _far_ prefer to run production Postgres on actual hosts, not in containers.)
[14:09:42] <Walex2> humanBird: if you install the DBMS and data directly on a system, then sysadmin/operations have to maintain it. If it is inside a container, the only responsibility of syadmin/operations is to keep the container running, what happens inside it is not their problem.
[14:10:13] <pagnol> Berge: what's the main benefit for you?
[14:10:13] <humanBird> what about that external volume that actually lives outside of the container?
[14:10:23] <Berge> pagnol: Main benefit of not using containers?
[14:10:26] <pagnol> yes
[14:10:33] <Berge> That sounds like it's turned on its head
[14:10:43] <Berge> humanBird: What about them?
[14:11:19] <Walex2> humanBird: so to some extent containers/VMs is like telling developers to run production applications on their PCs/laptops.
[14:11:29] <humanBird> any special considerations for that chunk of space?
[14:11:51] <Berge> humanBird: Not sure I understand the question
[14:12:07] *** Quits: sec^nd (~sec^nd@gateway/tor-sasl/secnd/x-45171752) (Remote host closed the connection)
[14:12:27] *** Joins: sec^nd (~sec^nd@gateway/tor-sasl/secnd/x-45171752)
[14:12:46] <selckin> humanBird: you have in all solutions, the more automation, the more careful you need to be it doesn't accidently get deleted along with the rest of the infra on redeploys
[14:12:47] <humanBird> what hapens if i upgrade docker... and something changes so i am no longer able to access that external volume?
[14:12:55] <Berge> humanBird: Then you lose
[14:12:57] <Berge> See: Complexity
[14:13:23] <Berge> Also, external to what?
[14:13:24] *** Quits: adac (~adac@clnet-b03-098.ikbnet.co.at) (Ping timeout: 240 seconds)
[14:13:36] <humanBird> to the docker container
[14:13:48] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[14:13:50] <Berge> Well, you'd need that for persistency anyway
[14:13:50] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 272 seconds)
[14:14:05] <humanBird> data doesn't persist when  you shut down the container.  that volume is basically garbage without the container running
[14:14:12] <Berge> Well, that will depend on your environment
[14:14:16] <humanBird> and being able to access it
[14:14:20] <Berge> But if you're talking about docker specifically, then yes
[14:14:41] <Berge> So you'll have all the normal complexity of a modern unix-y system, plus an additional layer of lots of complexity with the container ssytem
[14:14:51] *** Joins: foul_owl (~kerry@23.82.193.104)
[14:14:59] *** Joins: vladoski (~vladoski@2001:b07:add:d406:3dc0:e68:b885:9289)
[14:15:18] <humanBird> i'm trying to figure out if this is even a good idea.
[14:15:21] <Berge> Which can be worth it, but it depends entirely on your requirements, your environment, software management practices, operational experience and know-how, and so on
[14:15:31] <Berge> humanBird: What do you want to achieve?
[14:15:35] <humanBird> there might be some utilites that you use to administrate a db that just won't run in docker
[14:15:59] <Berge> We run postgres in docker containers for stuff like CI
[14:16:21] <selckin> humanBird: you should see the containers filessytem as readonly anyway, onyl allow writing to 'volumes', so the lifecycle of the volumes are still bound to the host (metal,vm), or in the cloud some network attached storage
[14:16:25] <humanBird> non production like environments basically then? test servers?
[14:16:31] <Berge> humanBird: Exactly
[14:16:49] <Berge> I'd go pretty far to _not_ run postgres in containers in production.
[14:17:01] <Berge> I see very few advantages, and a truckload of disadvantages.
[14:17:20] <Berge> At least for the use cases I normally encounter. But again – this will depend on requirements and environment.
[14:17:21] <Walex2> humanBird: Berge: so my overall take is: downsides: more complexity, as more environments to maintain; upside: pass the burden of maintaining the inside of containers to someone else, usually developers.
[14:17:34] <Berge> It can be entirely reasonable to spin up postgres containers in kubernetes on a per-project basis for some environments.
[14:18:33] <Berge> Walex2: There's also tooling – typicaly postgres packaging (especially for Debian/Ubuntu) is _excellent_
[14:18:41] <Berge> s/typicaly/typical/
[14:18:43] * Walex2 thinks that eventually there will be 'ls', 'cat', 'sed' etc. microservices and shells will be replaced by "orchestration directors".
[14:18:56] <humanBird> i've been trying to productionize my django application.  i got uwsgi and django into a container.  nginx in a container.  the last thing to consider is the DB
[14:19:14] <Berge> The container might easily lack even basic bread-and-butter tooling inside it, like netstat or strace or whatnot
[14:20:01] <Walex2> Berge: all those technical/tooling issues can be fixed, given enough resources. But let me insist that the critical detail is who maintains the contents of the container.
[14:20:03] <Berge> And even easy things like knowing exactly what C-c would do is kind of hard with containers
[14:20:33] <Berge> Walex2: Indeed, hence "it depends on requirements and environment"
[14:20:58] <Berge> Which in turn necessarily will depend on operational knowledge and experience for the organisation
[14:21:01] <Walex2> apart from careers, accountability (as in passing the hot potato) drives a lot of technical choices.
[14:22:16] <humanBird> it seems simpler than that to me.  containers are for "scaling".  do they scale databases well? for webservers you just make more containers.  for db?
[14:22:16] <Walex2> in an ideal situation for PHBs, containers *both* enhance the CV and shift accountability to someone else, thus "DevOps" :-)
[14:22:33] <Berge> humanBird: That's not how scaling nor containers work (-:
[14:23:13] <humanBird> for load balancing, you need hardware and multiple instances of webserver
[14:23:13] <Berge> Some container orchestration systems (like say Kubernetes) can be used to scale certain workloads horizontally, and web servers are a classic good fit for it
[14:23:22] <Walex2> humanBird: containers and scaling are not related... The only technical effect of "containers" is to create independent sysadmin domains, that is multiple independent 'root' domains on the same host.
[14:23:31] <Berge> But people also tend to grossly underestimate the power of modern computers
[14:24:05] <humanBird> how is it not scaling to spin up multiple instances of a webserver without doing a whole bunch of sys admin stuff?
[14:24:16] <humanBird> practically on demand
[14:24:30] <Berge> humanBird: What's an instance of a web server here?
[14:24:42] <humanBird> a wsgi instance
[14:24:51] <Berge> On a single computer?
[14:24:52] *** Quits: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net) (Quit: My Mac Pro has gone to sleep. ZZZzzz…)
[14:25:02] <humanBird> across network.  kubernetes not docker compose
[14:25:56] <Berge> If you have a well-maintained Kubernetes cluster with load balancing setup, and you're actually CPU bound on your web server, and you have the spare capacity (in terms of hardware or VMs), then yes, adding pods is a way to do horizontal scaling.
[14:26:15] <Walex2> humanBird: running 10 PgSQL or web server instances on a system is pretty much the same whether each is in their own container or they are all on the host, *except* for the independent admin domains.
[14:26:17] <Berge> But the amount of complexity and know-how required for that sort of setup is rather a lot
[14:26:34] *** Joins: adac (~adac@static.153.233.47.78.clients.your-server.de)
[14:27:17] <Berge> And to be a bit on topic again, postgres doesn't really scale horizontally that way
[14:27:52] <Berge> You can have read replicas, and those can be scaled horizontally to an extent. But managing that, especially in high-data-volumes or high-request-volumes scenarios, can be quite non-trivial
[14:28:25] <Berge> And again, computers are ridiculously fast these days. You can do hundreds of thousands of queries per second on a single postgres host.
[14:28:28] *** Joins: otisolsen70_ (~otisolsen@xd4ed80b5.cust.hiper.dk)
[14:29:11] <Berge> So it all comes down to what sort of requirements you'll have, what sort of complexity you're prepared to deal with, and what sort of know-how and experience the organisation has.
[14:29:36] <Berge> hah, I was closing tabs in a browser, and https://twitter.com/alpacatron3000/status/1493412465610088450 popped up (-:
[14:32:12] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Ping timeout: 272 seconds)
[14:32:18] *** Quits: otisolsen70_ (~otisolsen@xd4ed80b5.cust.hiper.dk) (Remote host closed the connection)
[14:32:38] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[14:35:24] *** Quits: nyov (~nyov@user/nyov) (Ping timeout: 240 seconds)
[14:36:06] <humanBird> i guess i probably won't be dockerizing postgres at this point.  i have that shoulder angel/devil telling me to not containerize everything/containerize everything.
[14:37:25] *** Joins: nyov (~nyov@user/nyov)
[14:38:18] <humanBird> there probably will be some sort of docker-sql tech in the future just to deal with databases but probably not for a while.
[14:38:28] *** Quits: humanBird (~humanBird@2603-8001-7000-3642-2016-2641-923b-d276.res6.spectrum.com) (Quit: Client closed)
[14:38:46] <Berge> humanBird: I'd generally recommend to get a solid and thorough understanding of running postgres on regular OSes before looking at containerizing it
[14:38:51] <Berge> oh, they left
[14:41:45] *** Joins: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net)
[14:42:04] *** Quits: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de) ()
[14:42:12] *** Joins: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de)
[14:44:17] *** Quits: unyu (~pyon@user/pyon) (Ping timeout: 240 seconds)
[14:45:58] *** Joins: Warped (~Warped@user/warped)
[14:51:31] *** Quits: econo (uid147250@user/econo) (Quit: Connection closed for inactivity)
[14:51:52] <liquid-silence> Hi all, I ran a data import and it created all the tables, but for some reason one table is not there, but when I try and manually create it, it says it exists, where is the table?
[14:52:16] <Berge> liquid-silence: Can you show us exactly what you're doing and what the output is?
[14:52:23] <Berge> Ie. paste your psql output
[14:54:04] <liquid-silence> It just says the relation \"city\" does not exist,
[14:54:26] <liquid-silence> https://www.irccloud.com/pastebin/bTkKyN7W/
[14:54:41] <Berge> That output is truncated
[14:54:54] <Berge> We'll have to see a transcript including your CREATE TABLE statement
[14:55:36] *** Joins: G_SabinoMullane (~G_SabinoM@pool-72-94-251-236.phlapa.fios.verizon.net)
[14:56:02] *** Quits: immibis (~hexchat@dynamic-089-204-138-014.89.204.138.pool.telefonica.de) (Remote host closed the connection)
[14:56:20] *** Joins: immibis (~hexchat@dynamic-089-204-138-014.89.204.138.pool.telefonica.de)
[14:56:50] <liquid-silence> https://www.irccloud.com/pastebin/tknfT2hy/
[14:57:08] *** Joins: pedja (~pedja@user/deus-ex/x-7934090)
[14:57:15] <liquid-silence> ERROR:  type "city" already exists
[14:57:22] <liquid-silence> I think the data import might have been corrupted
[14:57:25] <liquid-silence> or something
[14:57:53] <liquid-silence> for instance Postico shows the table but I cannot click on it, the information schema does not have a record for it
[14:59:21] <Berge> liquid-silence: And what makes you say the table doesn't exist?
[14:59:24] *** Quits: rodo (~rodo@pop.92-184-105-116.mobile.abo.orange.fr) (Read error: No route to host)
[14:59:27] <Berge> If you do \d public.city
[15:00:04] <aLeSD[m]> hi there. Is it possible to have 2 UPDATE of the same row at the same time ? I think not because of the ACID properties of postgres, isn't it ?
[15:00:06] *** Quits: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net) (Quit: My Mac Pro has gone to sleep. ZZZzzz…)
[15:00:10] <liquid-silence> Did not find any relation named "public.city".
[15:00:34] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[15:02:42] <sliss> aLeSD[m]: I think you are right, you can't unless you can use a regex maybe?
[15:02:54] <depesz> not so humble announcement: https://www.depesz.com/2022/02/16/explain-depesz-com-now-with-hints/
[15:03:15] *** Joins: fruity_tomato (~fruity_to@188.230.128.6)
[15:03:56] <Berge> liquid-silence: Can you, in a single psql session where you paste the entire transcript, do: SELECT relname, reltype FROM pg_class WHERE relname = 'city'; CREATE TABLE public.city ( [ the rest of your CREATE statement ]
[15:04:13] *** Joins: Rashad (~textual@2a01:9700:1a7c:8900:658f:58fa:f5cc:30bb)
[15:04:44] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[15:06:10] <Berge> depesz: Hint mode on explain.d.c is super neat!
[15:06:24] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 272 seconds)
[15:08:16] *** Joins: unyu (~pyon@user/pyon)
[15:08:32] <Berge> depesz: Of course, it's a very hard problem space
[15:10:45] <depesz> yeah.
[15:11:02] <depesz> it was blocking my work on it for VERY long time, until i realized that I don't have to get it perfect on first try.
[15:11:14] <depesz> i'll start with some TRIVIAL hints, and then will add more, in time.
[15:11:18] <Berge> Perfect is the enemy of good
[15:11:35] <Berge> And even trivial hints will be very userful for a lot of people
[15:11:43] <Berge> s/userful/useful/
[15:12:14] <Myon> I wonder how many explain_depesz_com_hint_ indexes will make it into production :)
[15:12:28] <Berge> (=
[15:14:00] *** Quits: Reiner_Unsinn (~quassel@p579d7a94.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[15:14:41] <Xgc> Interesting.  Is it expected for the average of a list of date intervals to produce a days component over 31 days?  I know average is an odd operation to perform on a date interval.  Example: https://dbfiddle.uk/?rdbms=postgres_14&fiddle=6b30ee46be8cd16c1d89735f6b71375c
[15:16:58] *** Joins: zlinux_ (~zlinux@142.247.26.97)
[15:20:04] *** Joins: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de)
[15:21:30] *** Joins: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net)
[15:21:43] *** Joins: rodo (~rodo@pop.92-184-105-116.mobile.abo.orange.fr)
[15:22:11] *** Quits: adac (~adac@static.153.233.47.78.clients.your-server.de) (Quit: Leaving)
[15:22:57] *** Quits: fruity_tomato (~fruity_to@188.230.128.6) (Quit: Client closed)
[15:24:15] <aLeSD[m]> sliss: is it valid also for the triggers ?
[15:24:28] *** Quits: bmomjian (~bruce@momjian.us) (Read error: Connection reset by peer)
[15:24:34] *** Joins: bmomjian1 (~bruce@momjian.us)
[15:25:53] *** Joins: fruity_tomato (~fruity_to@188.230.128.6)
[15:26:59] <sliss> aLeSD[m]:  you mean start 1 updates and trigger the next update? That will be 2 updates no?
[15:27:31] <aLeSD[m]> sliss: no, I have a trigger that is executer BEFORE an update.
[15:27:42] *** Quits: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[15:28:51] <sliss> so start update and trigger to do an update before? Still two updates.
[15:29:04] <aLeSD[m]> ok
[15:30:33] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[15:30:49] *** Joins: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de)
[15:31:07] <sliss> maybe plsql can help to use the field as variable and do multiple actions on it?
[15:32:26] *** Quits: jconway (~jconway@072-017-018-098.res.spectrum.com) (Quit: Leaving)
[15:32:54] *** Joins: jconway (~jconway@072-017-018-098.res.spectrum.com)
[15:33:00] *** Quits: nyov (~nyov@user/nyov) (Ping timeout: 272 seconds)
[15:34:39] *** Joins: nyov (~nyov@user/nyov)
[15:34:58] *** Quits: Elodin (~elodin@user/elodin) (Quit: WeeChat 3.4)
[15:35:23] *** Joins: Elodin (~elodin@user/elodin)
[15:37:11] *** Quits: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[15:42:47] *** Joins: Reiner_Unsinn (~quassel@p579d7a94.dip0.t-ipconnect.de)
[15:43:58] *** Joins: Amadiro (~Amadiro@31.11.55.179)
[15:46:59] <liquid-silence> Berge: its got to do with me doing a docker cp of the data
[15:48:39] <Myon> does that do the equivalent of cp -a?
[15:49:24] <Berge> liquid-silence: Of the data dir?
[15:50:10] *** Quits: fruity_tomato (~fruity_to@188.230.128.6) (Quit: Client closed)
[15:51:31] <liquid-silence> @Berge that is correct sir
[15:51:40] <Berge> While the container was running, perhaps?
[15:52:00] <liquid-silence> ues
[15:52:02] <liquid-silence> yes
[15:52:54] <Berge> Ok, so the copy is essentially useless
[15:53:06] <liquid-silence> yup, I was being really stupid
[15:53:58] <liquid-silence> But this would all be solved if MacOS has better volume performance
[15:53:59] <liquid-silence> urg
[15:54:23] <Berge> Consider not using macOS?
[15:54:40] <Berge> Docker on macOS is virtualized linux under the hood, isn't it? With some weird thing for volumes.
[15:56:34] *** Joins: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de)
[15:58:38] <liquid-silence> Yeah
[15:58:59] <liquid-silence> and no MacOS still trumps linux in daily use, I don't want to spend 10 hours recompiling a kernel to use a printer
[15:59:03] <liquid-silence> been there done that
[15:59:04] <Berge> May be better to run a regular linux VM, and run docker stuff inside it
[15:59:24] <Berge> Now you spend 10 hours debugging postgres data corruption instead? (-:
[16:00:02] <liquid-silence> yeah that's not a bad idea
[16:01:00] *** Quits: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[16:10:24] *** Quits: zlinux_ (~zlinux@142.247.26.97) (Read error: Connection reset by peer)
[16:11:29] *** Joins: zlinux (~zlinux@149.109.6.240)
[16:13:44] *** Joins: MrZeus__ (~MrZeus@185.248.85.53)
[16:15:39] *** Joins: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se)
[16:18:37] *** Quits: Elodin (~elodin@user/elodin) (Read error: Connection reset by peer)
[16:19:09] *** Quits: jmcgnh (~jmcgnh@wikipedia/jmcgnh) (Remote host closed the connection)
[16:19:17] *** Joins: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de)
[16:20:34] *** Joins: JordiGH (~jordi@fencepost.gnu.org)
[16:20:34] *** Quits: JordiGH (~jordi@fencepost.gnu.org) (Changing host)
[16:20:34] *** Joins: JordiGH (~jordi@user/jordigh)
[16:24:36] *** Joins: Elodin (~elodin@user/elodin)
[16:27:22] *** Quits: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net) (Quit: My Mac Pro has gone to sleep. ZZZzzz…)
[16:28:00] *** Joins: jmcgnh (~jmcgnh@wikipedia/jmcgnh)
[16:31:47] <depesz> intersting. haven't compiled linux kernel in 18 years? and I do use printers :)
[16:34:13] *** Joins: yoshi_jms (~jmissao@user/yoshi-jms/x-9885530)
[16:36:49] *** Joins: zlinux_ (~zlinux@142.247.30.148)
[16:39:35] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[16:39:48] *** Quits: zlinux (~zlinux@149.109.6.240) (Ping timeout: 240 seconds)
[16:40:58] *** Joins: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net)
[16:44:32] *** Joins: jpgmorais (~jpgmorais@2804:d59:9a9a:fa00:7116:128c:8f59:2bc0)
[16:44:42] *** Quits: Kohe (~Kohe@46.12.76.236.dsl.dyn.forthnet.gr) (Ping timeout: 252 seconds)
[16:45:02] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[16:45:29] *** Quits: trafficjam (~qubes@2001:8004:1500:21db:8815:dd7e:a74e:c6a0) (Ping timeout: 250 seconds)
[16:47:26] *** Joins: trafficjam (~qubes@2001:8004:2758:10cc:9d8f:9179:1c6c:4f49)
[16:50:45] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 252 seconds)
[16:52:10] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[16:53:31] *** Joins: krismatrix (~krismatri@205.178.37.15)
[16:54:17] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[16:56:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[16:56:53] *** Quits: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se) (Quit: Textual IRC Client: www.textualapp.com)
[17:02:54] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[17:05:25] *** Joins: zlinux[] (~zlinux@149.109.18.164)
[17:05:56] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[17:08:25] *** Quits: zlinux_ (~zlinux@142.247.30.148) (Ping timeout: 256 seconds)
[17:09:00] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[17:13:18] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 252 seconds)
[17:17:28] <ysch> Xgc: Seems correct / logical (as documented at https://www.postgresql.org/docs/current/datatype-datetime.html#DATATYPE-INTERVAL-INPUT --- "interval internally stores only three integer units (months, days, microseconds)". So, it's [3 months / 2] 1 month 15 days plus [(26 days + 16 days)/2] 21 day gives '1 mon 36 days'.
[17:19:36] <Xgc> Interesting.
[17:20:31] *** Quits: krismatrix (~krismatri@205.178.37.15) (Quit: Leaving)
[17:24:11] *** Joins: gp5st (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net)
[17:26:21] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[17:33:20] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[17:34:58] *** Joins: aehu6ce8 (~aehu6ce8@31.187.110.131)
[17:35:05] *** Joins: Atque (~Atque@user/atque)
[17:35:58] *** Azem is now known as Emet-Selch
[17:41:25] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[17:42:50] *** Joins: rufito (~phil@186-79-29-179.baf.movistar.cl)
[17:43:26] *** Joins: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[17:47:16] *** Quits: pagnol (~user@014198154145.ctinets.com) (Ping timeout: 272 seconds)
[17:47:49] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[17:49:03] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[17:49:10] *** Quits: Reiner_Unsinn (~quassel@p579d7a94.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[17:52:21] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 252 seconds)
[17:53:08] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[17:53:30] *** Joins: the_lanetly_052 (~the_lanet@194.135.154.108)
[17:53:55] *** Joins: chadea (~a@pool-96-241-113-90.washdc.fios.verizon.net)
[17:54:09] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[17:56:40] *** Joins: Haudegen (~quassel@91.114.49.10)
[17:57:40] *** Joins: n0fun (~jack@i577BC06E.versanet.de)
[17:57:51] *** Quits: schinckel (uid38120@id-38120.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[17:58:44] *** Quits: jpgmorais (~jpgmorais@2804:d59:9a9a:fa00:7116:128c:8f59:2bc0) (Quit: Client closed)
[17:59:16] <dim> hi friends, I seemed to remember that when doing CREATE TEMP TABLE foo ...; it's then possible to schema-qualify the table as pg_temp.foo later, and I have a test failing when I do that here... do I remember wrong?
[17:59:29] *** Quits: v3gajerusalem (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com) (Ping timeout: 256 seconds)
[17:59:47] <Myon> pg_temp. is a thing, iirc
[18:00:17] *** Joins: v3gajerusalem (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com)
[18:01:27] <dim> well maybe we're not allowed to know about it (there is a different pg_temp per session, with the pid of the backend or something attached to the namespace entry in the catalogs, but I remembered pg_temp could be used as an alias)
[18:02:59] <johto> works fine for me on 9.6 and 13
[18:03:26] <johto> only fails if I haven't created any temporary objects in the session
[18:05:39] *** Quits: n0fun (~jack@i577BC06E.versanet.de) (Ping timeout: 250 seconds)
[18:05:50] *** Joins: zmt01 (~zmt00@user/zmt00)
[18:07:21] *** Joins: tmunro` (~user@freefall.freebsd.org)
[18:07:24] *** Quits: trafficjam (~qubes@2001:8004:2758:10cc:9d8f:9179:1c6c:4f49) (Ping timeout: 240 seconds)
[18:07:42] *** Joins: n0fun (~jack@i577BC06E.versanet.de)
[18:07:48] *** Quits: v3gajerusalem (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com) (Ping timeout: 240 seconds)
[18:08:12] *** Quits: unyu (~pyon@user/pyon) (Ping timeout: 240 seconds)
[18:08:12] *** Quits: karjala (sid176588@id-176588.lymington.irccloud.com) (Ping timeout: 240 seconds)
[18:08:12] *** Quits: tmunro (~user@freefall.freebsd.org) (Ping timeout: 240 seconds)
[18:08:12] *** Quits: bpmedley_ (~bpmedley@2600:1700:e2c:8410:a11b:dff5:39c9:bc45) (Ping timeout: 240 seconds)
[18:08:12] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 240 seconds)
[18:08:36] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 240 seconds)
[18:09:17] *** Joins: pagnol (~user@014198154145.ctinets.com)
[18:09:44] *** Joins: trafficjam (~qubes@2001:8004:2758:10cc:9d8f:9179:1c6c:4f49)
[18:09:55] *** Joins: v3gajerusalem (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com)
[18:10:17] *** Joins: karjala (sid176588@id-176588.lymington.irccloud.com)
[18:10:29] *** Joins: unyu (~pyon@user/pyon)
[18:11:20] <dim> ahah! indeed. was a typo on the table name that I just created above ;-)
[18:12:24] *** Joins: jpgmorais (~jpgmorais@2804:d59:9a9a:fa00:7116:128c:8f59:2bc0)
[18:12:31] <dim> sometimes I wish I could answer to “do you like being a developer” with something like “I just added the function bool pg_copy_row_from_stdin(PGSQL *pgsql, char *fmt, ...) to my code” and clear any doubt that way...
[18:13:31] <dim> (I will have two call sites with differing number of columns) (all text at the moment, but still)
[18:21:02] *** Joins: rednul__ (~rednul@098-127-178-044.biz.spectrum.com)
[18:21:15] *** Quits: v3gajerusalem (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com) (Ping timeout: 250 seconds)
[18:22:13] *** Joins: v3gajerusalem (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com)
[18:22:48] <johto> I'm guessing that's a "no"
[18:27:45] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[18:28:22] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[18:28:51] *** Joins: ivii (~ivan@user/ivii)
[18:30:34] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[18:30:49] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[18:30:54] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[18:31:04] <dim> ah damn, I meant it as a yes ; wouldn't have bothered with such a layer of abstraction and dealing with va_arg macros if I didn't like the trade, but I guess I can see why it could be read as a "no"
[18:32:53] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[18:32:53] <johto> I was mostly joking :-)
[18:35:19] *** Joins: Reiner_Unsinn_ (~quassel@p579d7a94.dip0.t-ipconnect.de)
[18:37:41] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 256 seconds)
[18:37:59] *** Joins: furrymcgee (~devuan@cgn-89-1-211-93.nc.de)
[18:38:20] *** Quits: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net) (Quit: My Mac Pro has gone to sleep. ZZZzzz…)
[18:38:31] <Myon> dealing with va_arg stuff is ... I don't know :)
[18:41:22] <dim> ahaha ;-)
[18:42:03] *** Joins: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net)
[18:42:20] <dim> damn it seems to be working now (working on https://github.com/dimitri/pgcopydb/issues/4#issuecomment-1014719083 ; implementing the filtering rules in SQL as one does)
[18:45:54] <johto> oh, I was talking about a tool like this at work just a few days ago
[18:46:22] <johto> (though I said pg_dump/pg_restore should know how to coordinate over named pipes in a directory, but this is essentially that implemented in one program, if I understand correctly)
[18:47:27] *** Joins: mattil (~mattil@helsinki.portalify.com)
[18:51:48] *** Quits: pagnol (~user@014198154145.ctinets.com) (Ping timeout: 240 seconds)
[18:54:12] *** Quits: zlinux[] (~zlinux@149.109.18.164) (Ping timeout: 240 seconds)
[18:56:39] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 256 seconds)
[18:57:34] *** Quits: Elodin (~elodin@user/elodin) (Ping timeout: 272 seconds)
[18:59:13] <dim> yeah the trouble with the named pipes is how to create them (at the expected places/names and all)
[18:59:38] <davidfetter> hi
[18:59:43] <dim> and then there is the idea of creating several indexes at once for a single table, even constraints baking indexes, benefiting from sync_seq_scan
[19:01:44] <johto> yeah, this might be better done externally using pg_dump/restore
[19:02:03] *** Joins: hoppity (~hoppity@66.222.130.38)
[19:02:03] *** Quits: hoppity (~hoppity@66.222.130.38) (Changing host)
[19:02:03] *** Joins: hoppity (~hoppity@user/hoppity)
[19:04:20] <davidfetter> I'm working on a patch I hope will make NUMERIC faster. It's not yet even at the stage of PoC, but I think you can kinda get the gist of what's going on https://github.com/davidfetter/postgresql_projects/tree/embiggen_numeric_base
[19:05:12] <davidfetter> ...and I'm wondering if there's some way to run some selection of the regression tests. I see some ways to add regression, TAP, etc., but I don't see a way to trim for dev purposes.
[19:05:58] <dim> johto: the docs are at https://pgcopydb.readthedocs.io/en/latest/intro.html ; I don't think I have included a link in the README yet
[19:06:19] <dim> I should probably improve the README some and then make a release later when I'm done with that filtering bits, hopefully this week...
[19:06:51] <dim> the other big thing that's lacking is support for large objects, not sure if I'm going to be able to make that happen in 0.4 or later in 0.5 after vacations
[19:07:11] <davidfetter> Vive les vacances!
[19:07:36] <dim> hell yeah! (there's a chance it's supposed to be written “Vivent les vacances” but I don't know for sure)
[19:07:41] <davidfetter> for reasons I do not pretend to understand, this is a singular in english
[19:08:51] <dim> you should be able to find a way to trim regress tests by giving some environment variable to make, but I can't remember what exactly... you might have to read the pgxs.mk file or something to figure that out
[19:09:49] <Myon> you can always call pg_regress directly with a schedule file
[19:10:05] <davidfetter> Myon, do tell :)
[19:11:26] <davidfetter> dim, I thought it was singular because they're a collective, upon which the benefit is to be conferred as a whole, but my grammar was never great :P
[19:12:10] <davidfetter> ...which is easy to explain in terms of my circumstances. I haven't spoken French regularly with adults since I was about 5
[19:12:57] *** Quits: aehu6ce8 (~aehu6ce8@31.187.110.131) (Quit: aehu6ce8)
[19:16:34] *** Quits: psoo (~psoo@dslb-090-186-134-090.090.186.pools.vodafone-ip.de) (Ping timeout: 272 seconds)
[19:19:57] *** Joins: trillp (~trillp@149.28.241.196)
[19:22:03] *** Quits: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br) (Quit: leaving)
[19:22:54] *** Joins: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br)
[19:23:39] *** Quits: realies (~realies@user/realies) (Ping timeout: 252 seconds)
[19:24:37] *** Joins: ianthrive (~ianthrive@166.70.191.9)
[19:26:23] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[19:31:40] *** Joins: jnnnnnnnnn (~jnnnnnnnn@157.97.164.5)
[19:33:00] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 252 seconds)
[19:33:13] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[19:33:16] *** Joins: SAS (~SAS@mail.loxodata.com)
[19:36:36] *** Quits: jnnnnnnnnn (~jnnnnnnnn@157.97.164.5) (Remote host closed the connection)
[19:37:22] *** Joins: jnnnnnnnnn (~jnnnnnnnn@157.97.164.5)
[19:39:37] *** Quits: ianthrive (~ianthrive@166.70.191.9) (Quit: Textual IRC Client: www.textualapp.com)
[19:39:42] *** Quits: newdimension (~newdimnes@user/newdimension) (Read error: Connection reset by peer)
[19:48:14] *** Quits: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[19:48:38] <aLeSD[m]> hi, I have a table that has a column called type. How could count all the rows for each type ?
[19:49:05] <depesz> aLeSD[m]: select "type", count(*) from table group by "type";
[19:49:10] <depesz> also, i'd change the name
[19:50:35] <aLeSD[m]> mmm .. ok .. but why does it work ?
[19:50:35] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[19:51:14] <aLeSD[m]> I mean ... what's the meaning of running a SELECT "type", COUNT(*) ?
[19:52:49] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[19:53:05] <aLeSD[m]> for example if I run SELECT a, b FROM myTable GROUP BY a; it gives me an error
[19:53:48] *** Quits: merzo (~Thunderbi@185.39.197.205) (Ping timeout: 240 seconds)
[19:54:37] <aLeSD[m]> ok .. it's the GROUP BY syntax .... sorry
[19:54:41] * aLeSD[m] sooooo noob
[19:54:52] <chadea> davidfetter: I read the commit and I am hopelessly lost. I thank you for your efforts to speed up NUMERIC
[19:56:32] <davidfetter> chadea, so the general idea behind NUMERIC is that it stores and computes everything in powers of 10. Before my patch, that power was 10⁴, which fits inside 2 bytes
[19:57:34] <davidfetter> The idea behind my patch is to increase the size of the power of 10 used to a 4-byte hunk, which can contain up to 10⁹
[19:57:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[19:58:47] <davidfetter> "fit inside 2 bytes" means among other things that the product of two hunks fits inside 4 bytes, i.e. a regular int. At that time, that was a pretty reasonable thing to do, as 8-byte ints weren't as ubiquitous as they are now
[19:59:08] * davidfetter wonders whether he's making any sense here. chadea ?
[19:59:38] <aLeSD[m]> how could I do an UPDATE for each element of a table in another table ?
[19:59:53] <davidfetter> ??update from
[19:59:53] <pg_docbot> http://www.varlena.com/GeneralBits/24.php :: http://www.varlena.com/GeneralBits/36.php
[19:59:53] <pg_docbot> https://www.postgresql.org/docs/current/static/sql-update.html
[20:00:12] <davidfetter> aLeSD[m], ^^^ UPDATE FROM is one way
[20:00:29] <aLeSD[m]> thanks!
[20:00:34] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[20:00:49] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[20:01:11] *** Quits: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon) (Remote host closed the connection)
[20:02:42] *** Joins: debnet (sid330295@python/afpy/debnet)
[20:02:46] <debnet> Hello everyone!
[20:03:18] <debnet> I would like to create a readonly user on a database for which I don't have to reset permissions when tables are added or database destroyed/restored.
[20:03:26] <debnet> How can I achieve something like that? :)
[20:05:58] <davidfetter> debnet, you can do this via a thing called "default privileges" that you can set per schema (namespace), which is pretty much perfect for what you want.
[20:06:04] <davidfetter> ??default privileges
[20:06:05] <pg_docbot> https://www.postgresql.org/docs/current/static/sql-alterdefaultprivileges.html
[20:07:13] <debnet> @davidfetter Sounds interesting. It works even if I destroy the schema and recreate it through restoration?
[20:07:20] <davidfetter> debnet, so you'd REVOKE all the write-y stuff both from the PUBLIC pseudo-role and from the permission role(s) your login roles would be using
[20:08:27] <chadea> davidfetter: makes sense, thanks!
[20:08:32] <davidfetter> debnet, no, there's no lingering memory. you'd need to restore the schema's permission structure along with the schema itself. This is "schema" in the sense of namespace, as distinct (ugh!) from "schema" in the sense of "group of DB objects"
[20:09:26] * davidfetter strongly recommends doing grants on objects only to roles whose job is to hold that stuff, and then granting only those roles to login roles ("users")
[20:09:42] *** Joins: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de)
[20:10:11] <debnet> So it's better to create a readonly role independant of a readonly user?
[20:10:35] <davidfetter> exactly. then a "readonly user" is one to whom only the readonly role is granted
[20:11:04] <davidfetter> when you want your next readonly user, you don't have to chase stuff down
[20:11:31] *** Quits: Ergo^ (~ergo@91.238.59.144) (Remote host closed the connection)
[20:11:35] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[20:13:39] *** Joins: Elodin (~elodin@user/elodin)
[20:13:46] <davidfetter> similarly, when a user goes away, you don't have to wonder whether some important permission went with them.
[20:15:33] <debnet> @davidfetter Sounds very nice. I'm a bit lost in queries unfortunatly, could you provide me example or tutorial according to what you advice me?
[20:15:48] *** Quits: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[20:17:43] *** Joins: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon)
[20:18:46] <davidfetter> I don't know of one, but I should write something up. Just generally, you have two distinct sets of roles: one I call "access roles," to which permissions on specific database objects are granted directly. Access roles never get the login permission.
[20:19:25] <davidfetter> the other is "users," i.e. roles with login permission. the only things granted to such roles are access roles
[20:19:49] <davidfetter> Ideally, there'd be a way to enforce those constraints. Maybe I can whip something up in the event trigger space.
[20:20:46] <davidfetter> debnet, does an explanation suffice, or would you really need to have constraints?
[20:21:47] <debnet> I find something like that, is it OK according to role separation principle? https://tableplus.com/blog/2018/04/postgresql-how-to-create-read-only-user.html
[20:22:09] *** Quits: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29) (Quit: Leaving.)
[20:22:49] <davidfetter> debnet, so there's a role missing. to help me understand whether I've been getting this across, what role is that?
[20:23:43] <debnet> @davidfetter My datascientists needs to access to our database in order to "play" with data, but I don't want them to alter data from the database. So I thought to create a dedicated role for all of them in order to do so.
[20:23:48] <debnet> need*
[20:24:16] <davidfetter> right. what role is missing from that tableplus explanation?
[20:24:19] *** Joins: mizi (~mizi@user/mizi)
[20:25:11] <debnet> According to what you said, the privileges are granted to a user and not a role if I understand correctly.
[20:25:29] <debnet> Is that correct?
[20:25:52] <debnet> Plus, I guess it miss the select on sequence privileges to be perfectly readonly I suppose.
[20:25:56] <debnet> it misses*
[20:26:21] <davidfetter> Yep! Thanks for helping me work out the explanation. I worked out this idea after having to chase down stuff that was broken in fairly large systems after people left organizations
[20:26:24] <debnet> I struggle to fully understand PostgreSQL permissions system, but I'll do my best. :')
[20:26:25] *** Quits: jpgmorais (~jpgmorais@2804:d59:9a9a:fa00:7116:128c:8f59:2bc0) (Quit: Client closed)
[20:26:45] <davidfetter> it's a long way from our best-documented system, I'm sorry to say
[20:27:57] <debnet> Having a dedicated role containing permissions and having a user granted to this role seems to be an attractive idea from my point of view.
[20:28:11] <debnet> But I don't really know the queries in order to achieve that.
[20:28:22] <debnet> What is missing in the "tutorial" I gave to you for example?
[20:29:09] <davidfetter> so instead creating a user right away, you'd create a role, let's call it readonly.
[20:29:25] <davidfetter> You'd then grant those grants to that role.
[20:30:19] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[20:30:22] <davidfetter> When you create a user, you'd do so with IN ROLE and revoke the public pseudo-role from it.
[20:30:30] *** Joins: the_lanetly_052_ (~the_lanet@194.135.169.19)
[20:30:38] <debnet> Ha! That's the missing part.
[20:30:52] <davidfetter> ??create role
[20:30:52] <pg_docbot> https://www.postgresql.org/docs/current/static/sql-createrole.html
[20:31:24] <debnet> CREATE ROLE IN ROLE or CREATE USER IN ROLE ?
[20:32:32] <davidfetter> if you use the CREATE ROLE version, you need to tack on WITH login. CREATE USER is equivalent to that.
[20:32:59] *** Quits: the_lanetly_052 (~the_lanet@194.135.154.108) (Ping timeout: 256 seconds)
[20:33:20] <davidfetter> so it's just a matter of taste. I suspect CREATE USER may be clearer to people who read the SQL in the repo later.
[20:33:53] <davidfetter> Your SQL should almost all go in a repo. The exception would be secrets (passwords).
[20:34:33] <debnet> I will try.
[20:34:34] *** Quits: rodo (~rodo@pop.92-184-105-116.mobile.abo.orange.fr) (Read error: No route to host)
[20:35:31] *** Quits: mexen (uid495612@user/mexen) (Quit: Connection closed for inactivity)
[20:35:59] <davidfetter> I know there are ORMs that see themselves as the sole arbiter of DDL (CREATE/ALTER/DROP), DCL (GRANT/REVOKE), etc. This is always a mistake.
[20:36:39] <davidfetter> sooner if you're lucky, later if you're not, something not written with the ORM will need to use the DB. at that point, you're up the proverbial creek without a paddle
[20:37:30] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[20:37:31] <debnet> Looks like a personal experience. :P
[20:38:18] <davidfetter> if it were just one, I wouldn't bother. this basically happens everywhere such ORMs are permitted to do that
[20:42:03] <debnet> @davidfetter Arf, I think I misconfigure my user, I got permission denied on table.
[20:42:17] <davidfetter> what exactly was the error you got?
[20:42:30] <debnet> motherbase=> select count(1) from generic_startup;
[20:42:30] <debnet> ERROR:  permission denied for table generic_startup
[20:42:50] <debnet> I do the following queries:
[20:42:51] *** Quits: uncleyear (~ian@pppoe.178-66-157-18.dynamic.avangarddsl.ru) (Remote host closed the connection)
[20:43:19] <davidfetter> ??paste
[20:43:19] <pg_docbot> https://explain.depesz.com/ :: https://www.db-fiddle.com/
[20:43:19] <pg_docbot> https://paste.depesz.com/ :: https://dpaste.org
[20:43:38] <davidfetter> It might be easiest to share via a fiddle site
[20:43:40] <davidfetter> ??fiddle
[20:43:40] <pg_docbot> https://dbfiddle.uk/ :: https://www.db-fiddle.com/
[20:43:49] *** Joins: uncleyear (~ian@pppoe.178-66-157-18.dynamic.avangarddsl.ru)
[20:44:19] <debnet> https://www.irccloud.com/pastebin/rFOxk7vI/
[20:45:41] <debnet> Maybe I missed something.
[20:45:45] *** Quits: Reiner_Unsinn_ (~quassel@p579d7a94.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[20:46:34] * davidfetter tries this
[20:49:56] *** Quits: trafficjam (~qubes@2001:8004:2758:10cc:9d8f:9179:1c6c:4f49) (Read error: Connection reset by peer)
[20:51:57] <davidfetter> well, it's working for me when I log in as motherbase_readonly
[20:52:22] <debnet> Login works.
[20:52:27] <debnet> Selecting doesn't.
[20:53:47] <depesz> debnet: please log using psql, run select that doesn't work, and show it to us, whole session.
[20:53:48] <davidfetter> oh, I think I know what may have happened. did you create generic_startup before you did ALTER DEFAULT PRIVILEGES ?
[20:54:12] <depesz> davidfetter: there is: motherbase_readonly
[20:54:19] <depesz> there is: GRANT SELECT ON ALL TABLES IN SCHEMA public TO readonly;
[20:54:21] <depesz> sorry, wrong paste.
[20:54:22] <davidfetter> oh, wait. the GRANT SELECT should have done that
[20:54:32] <debnet> @davidfetter No, tables were already there.
[20:55:09] <davidfetter> right, GRANT SELECT should have done it. is generic_startup actually in public?
[20:55:29] <debnet> Uuuh... I guess? How I manage to know that?
[20:56:10] <debnet> I thought everything were in public. ^^'
[20:56:14] <davidfetter> \d+ generic_startup
[20:56:34] <debnet> Table "public.generic_startup".
[20:56:36] <davidfetter> we're kinda flying blind here because you're not putting this stuff on paste sites
[20:56:45] <debnet> Pfew. :')
[20:56:47] *** Quits: jnnnnnnnnn (~jnnnnnnnn@157.97.164.5) (Ping timeout: 256 seconds)
[20:57:02] <davidfetter> can you paste the whole output of \d+ generic_startup to a paste site?
[20:57:07] <debnet> Sure.
[20:57:22] <debnet> https://www.irccloud.com/pastebin/wq5JJrnl/
[20:57:25] *** Quits: Michelle (~michelle@203.206.128.220) (Read error: Connection reset by peer)
[20:57:26] <debnet> Here we go.
[20:57:44] *** Quits: Haudegen (~quassel@91.114.49.10) (Quit: Bin weg.)
[20:58:33] <davidfetter> hrm. how about \z generic_startup >
[20:58:38] <davidfetter> s/>//
[20:59:07] <debnet> https://www.irccloud.com/pastebin/6pZ40Vba/
[20:59:10] *** Joins: Michelle (~michelle@203.206.128.220)
[20:59:21] *** Quits: the_lanetly_052_ (~the_lanet@194.135.169.19) (Ping timeout: 252 seconds)
[20:59:46] *** Joins: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se)
[21:00:03] <davidfetter> doesn't look like it got those privileges. did you commit the stuff you pasted before?
[21:00:11] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[21:00:18] <debnet> It needs commit?
[21:00:25] <debnet> I thought it was immediate.
[21:00:26] *** Joins: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net)
[21:00:58] <davidfetter> there are ways to set psql so it doesn't commit automagically. I'm trying to figure out what might have gone wrong.
[21:01:19] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Remote host closed the connection)
[21:02:18] *** Joins: RLa (~RLa@82.131.24.208.cable.starman.ee)
[21:03:26] <debnet> Oh.
[21:03:53] <debnet> @davidfetter Nevermind, my bad. I executed the queries above on PostgreSQL maintenance database and not the targetted one...
[21:04:08] <debnet> I drop all roles and user, switch to motherbase and replay queries.
[21:04:10] <debnet> It works now.
[21:04:26] <debnet> I'm a bit silly.
[21:04:40] <davidfetter> glad it works!
[21:04:54] <davidfetter> this is *way* more fun to work out in dev than in prod ;)
[21:05:07] <debnet> Obviously. ^^'
[21:05:11] <debnet> Thanks for the help!
[21:05:28] <davidfetter> any time :)
[21:07:18] *** Joins: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de)
[21:14:12] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::82dc) (Ping timeout: 252 seconds)
[21:14:54] *** Joins: immibis_ (~hexchat@dynamic-089-204-138-200.89.204.138.pool.telefonica.de)
[21:15:23] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[21:17:00] *** Quits: immibis (~hexchat@dynamic-089-204-138-014.89.204.138.pool.telefonica.de) (Ping timeout: 240 seconds)
[21:18:02] *** Joins: immibis (~hexchat@dynamic-089-204-138-200.89.204.138.pool.telefonica.de)
[21:18:20] *** Quits: immibis_ (~hexchat@dynamic-089-204-138-200.89.204.138.pool.telefonica.de) (Read error: Connection reset by peer)
[21:22:05] *** Joins: rodo (~rodo@pop.92-184-105-116.mobile.abo.orange.fr)
[21:22:09] *** Quits: ben__ (~ben@host86-160-225-46.range86-160.btcentralplus.com) (Remote host closed the connection)
[21:22:51] *** Joins: ben_ (~ben@host86-160-225-46.range86-160.btcentralplus.com)
[21:24:09] *** Joins: wasutton (~wasutton3@75-46-236-127.lightspeed.tukrga.sbcglobal.net)
[21:27:05] *** Quits: rodo (~rodo@pop.92-184-105-116.mobile.abo.orange.fr) (Read error: No route to host)
[21:27:40] *** Quits: ben_ (~ben@host86-160-225-46.range86-160.btcentralplus.com) (Ping timeout: 272 seconds)
[21:31:30] *** Joins: trafficjam (~qubes@2001:8004:2758:10cc:15ef:19b1:4752:7ec4)
[21:36:12] *** Quits: sliss (~sliss@109.136.165.60) (Read error: Connection reset by peer)
[21:36:15] *** Joins: sliss (~sliss@109.136.165.60)
[21:37:22] *** Quits: sliss (~sliss@109.136.165.60) (Read error: Connection reset by peer)
[21:37:36] *** Joins: sliss (~sliss@109.136.165.60)
[21:38:48] *** Quits: sliss (~sliss@109.136.165.60) (Read error: Connection reset by peer)
[21:39:01] *** Joins: sliss (~sliss@109.136.165.60)
[21:39:39] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[21:40:25] *** Quits: MrZeus__ (~MrZeus@185.248.85.53) (Ping timeout: 256 seconds)
[21:41:05] *** Quits: trillp (~trillp@149.28.241.196) (Read error: Connection reset by peer)
[21:41:09] *** Quits: trafficjam (~qubes@2001:8004:2758:10cc:15ef:19b1:4752:7ec4) (Read error: Connection reset by peer)
[21:41:29] *** Quits: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net) (Quit: WeeChat 3.4)
[21:43:35] *** Joins: ashemedai (~asmodai@31-151-100-72.dynamic.upc.nl)
[21:43:37] *** Joins: PCatinean (~pcatinean@188.26.231.238)
[21:44:08] *** Quits: asmodai (~asmodai@31-151-100-72.dynamic.upc.nl) (Ping timeout: 272 seconds)
[21:44:10] *** ashemedai is now known as asmodai
[21:45:21] *** Joins: Reiner_Unsinn (~quassel@p579d7a94.dip0.t-ipconnect.de)
[21:45:36] *** Joins: econo (uid147250@user/econo)
[21:46:42] *** Joins: realies (~realies@user/realies)
[21:55:35] *** Joins: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net)
[21:57:28] *** Joins: ben_ (~ben@host86-160-225-46.range86-160.btcentralplus.com)
[22:00:11] *** Quits: darutoko (~darutoko@37.21.198.48) (Quit: Leaving)
[22:01:48] *** Quits: ben_ (~ben@host86-160-225-46.range86-160.btcentralplus.com) (Ping timeout: 240 seconds)
[22:02:27] *** Joins: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8)
[22:03:17] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[22:03:24] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[22:06:16] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[22:13:03] *** Quits: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net) (Ping timeout: 252 seconds)
[22:14:04] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[22:14:45] <glik22_> i'm playing around with logical replication and tried altering my subscription to listen to a new host. the new host is caught up with the primary db and has a publication with the same name as the priamry. altering the subscription doesn't do anthing... no replication slots are created on the new host
[22:16:33] *** Joins: B-| (~Unknown@93.186.210.16)
[22:16:43] <B-|> do index names have to be unique in a schema
[22:16:58] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[22:22:31] *** Joins: mattil (~mattil@87-92-28-123.bb.dnainternet.fi)
[22:23:12] *** Joins: mattil_ (~mattil@helsinki.portalify.com)
[22:25:31] *** Quits: mattil (~mattil@87-92-28-123.bb.dnainternet.fi) (Read error: Connection reset by peer)
[22:29:43] *** Quits: mattil_ (~mattil@helsinki.portalify.com) (Ping timeout: 256 seconds)
[22:29:55] <Zr40> B-|: yes
[22:31:03] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[22:31:35] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[22:31:57] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Client Quit)
[22:33:24] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[22:39:54] *** Quits: sliss (~sliss@109.136.165.60) (Read error: Connection reset by peer)
[22:40:08] *** Joins: sliss (~sliss@109.136.165.60)
[22:43:37] *** Quits: rednul (~rednul@mc.emailserverz.com) (Ping timeout: 240 seconds)
[22:44:38] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::82dc)
[22:44:39] *** Joins: magla (~gelignite@55d40b59.access.ecotel.net)
[22:44:57] *** Quits: finsternis (~X@23.226.237.192) (Ping timeout: 252 seconds)
[22:48:44] *** Joins: analogsalad (~analogsal@user/analogsalad)
[22:51:26] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[22:51:56] *** Joins: ben_ (~ben@host86-160-225-46.range86-160.btcentralplus.com)
[22:56:20] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 272 seconds)
[22:56:58] *** Quits: ben_ (~ben@host86-160-225-46.range86-160.btcentralplus.com) (Ping timeout: 272 seconds)
[22:59:10] <B-|> Zr40: thanks
[22:59:37] *** Quits: sliss (~sliss@109.136.165.60) (Quit: sliss)
[23:00:32] *** Joins: sliss (~sliss@109.136.165.60)
[23:02:56] *** Joins: evdubs_ (~evdubs@user/evdubs)
[23:06:37] *** Quits: evdubs (~evdubs@user/evdubs) (Ping timeout: 240 seconds)
[23:10:13] *** Joins: jazzy (~jaziz@user/jaziz)
[23:13:45] *** Quits: vladoski (~vladoski@2001:b07:add:d406:3dc0:e68:b885:9289) (Ping timeout: 250 seconds)
[23:23:40] <ansa> re
[23:26:06] *** Quits: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[23:31:18] *** Quits: mrhansen (~john@45.124.52.33) (Read error: Connection reset by peer)
[23:31:38] *** Joins: mrhansen (~john@harry.mrhansen.id.au)
[23:32:48] *** Quits: sliss (~sliss@109.136.165.60) (Quit: sliss)
[23:41:06] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[23:41:25] *** Joins: ben_ (~ben@host86-160-225-46.range86-160.btcentralplus.com)
[23:45:48] *** Quits: ben_ (~ben@host86-160-225-46.range86-160.btcentralplus.com) (Ping timeout: 240 seconds)
[23:46:02] *** Joins: cloudbender (~cloudbend@user/cloudbender)
[23:46:09] *** Quits: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[23:46:44] *** Joins: ees-mobile (~ees-mobil@pool-108-18-30-46.washdc.fios.verizon.net)
[23:47:05] <cloudbender> writing c# visual studio desktop.  Need a locally shared table(s). Which product do I want ?
[23:47:35] <cloudbender> I'm converting from an OLD csv file-based app
[23:47:58] <RLa> locally shared tables?
[23:48:12] <cloudbender> yup
[23:48:17] <RLa> what does "locally" mean?
[23:48:19] <cloudbender> LAN-locked, no web
[23:48:35] <Berge> And what does shared and product mean?
[23:48:44] <RLa> I guess you could just use standard postgresql server then
[23:48:55] <cloudbender> ok
[23:48:58] <RLa> and simple tcp connection without odbc stuff
[23:49:05] <cloudbender> hmmm
[23:49:25] <RLa> not sure what c# actually uses for database access
[23:49:47] <cloudbender> well, .Net
[23:51:12] <cloudbender> Thanks, I'll mess around a bit and come back less nooby
[23:55:35] *** Joins: kakashiAL (~kakashi@p5dd8ca04.dip0.t-ipconnect.de)
[23:55:59] *** Joins: Fizzadar (~m-yib7oc@static.147.148.108.65.clients.your-server.de)
[23:57:24] *** Quits: veesh (~veesh@89.237.109.60) (Ping timeout: 240 seconds)
[23:58:38] *** Joins: veesh (~veesh@89.237.102.212)
[23:59:49] *** Joins: zlinux[] (~zlinux@149.109.18.164)
