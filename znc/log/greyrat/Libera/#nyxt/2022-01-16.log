[00:01:32] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 240 seconds)
[00:44:51] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[00:47:04] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[02:04:02] *** Quits: pjb (~pjb@user/pjb) (Read error: Connection reset by peer)
[02:06:40] *** Joins: pjb (~pjb@user/pjb)
[02:53:10] *** Quits: rotateq (~user@p200300e787097300818cd04b4ea1a4f3.dip0.t-ipconnect.de) (Quit: ERC (IRC client for Emacs 27.2))
[03:36:19] *** ChanServ sets mode: +o waleee
[03:36:37] *** waleee changes topic to 'Nyxt 2.2.4 browser released! https://nyxt.atlas.engineer/article/release-2.2.4.org | https://nyxt.atlas.engineer/article/newsletter-03.org | forum: https://discourse.atlas.engineer/ | example configs: https://discourse.atlas.engineer/c/nyxt/configuration-expose'
[03:36:48] *** ChanServ sets mode: -o waleee
[06:04:03] *** Joins: tekakutli (~user@201.141.28.4)
[06:08:32] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 240 seconds)
[08:57:57] *** Quits: taiju (~taiju@240b:253:ec40:2400:5cec:b035:3bed:59cc) (Ping timeout: 240 seconds)
[09:06:33] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[09:15:27] *** Joins: tekakutl` (~user@201.141.28.4)
[09:19:58] *** Joins: taiju (~taiju@M014013236064.v4.enabler.ne.jp)
[10:04:46] <qhong> Is there a formal way in Nyxt to let a buffer slot take the value of the "combination" of all the modes?
[10:04:57] <qhong> An obvious candidate is the `style' slot
[10:06:03] <qhong> AFAIU currently the style handling is quite adhoc, all relying on different HTML-generating functions to get CSS from places they each know about
[10:08:44] <qhong> Another candidate is various `*-hook' slot. I find my self writing paired `add-hook' and `remove-hook' in `constructor' and `destructor', which brings back the bad memory of Emacs Lisp
[10:09:09] *** Joins: Jing (~hedgehog@240e:390:7c53:a7e1:d86c:41cf:1829:367e)
[10:54:13] *** Quits: pjb (~pjb@user/pjb) (Remote host closed the connection)
[10:54:35] *** Quits: tekakutl` (~user@201.141.28.4) (Remote host closed the connection)
[12:03:43] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 256 seconds)
[12:03:53] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[12:52:02] *** Joins: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4)
[13:17:51] *** Quits: Jing (~hedgehog@240e:390:7c53:a7e1:d86c:41cf:1829:367e) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:27:48] *** Joins: Jing (~hedgehog@240e:390:7c53:a7e1:58ff:45a7:b03e:c3bc)
[13:29:11] *** Joins: pjb (~pjb@user/pjb)
[13:59:41] *** Joins: hello21 (~hello@35-26-50-84.dyn.estpak.ee)
[14:03:50] *** Quits: hello21 (~hello@35-26-50-84.dyn.estpak.ee) (Client Quit)
[14:36:21] *** Quits: Aurora_v_kosmose (~LispyLigh@user/lispylights) (Remote host closed the connection)
[14:38:43] *** Joins: Aurora_v_kosmose (~LispyLigh@user/lispylights)
[14:40:02] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 240 seconds)
[15:17:14] *** Joins: qhong_ (~qhong_@DN200ouh1.stanford.edu)
[15:17:45] *** Quits: taiju (~taiju@M014013236064.v4.enabler.ne.jp) (Quit: Quit)
[15:17:49] *** Quits: qhong_ (~qhong_@DN200ouh1.stanford.edu) (Client Quit)
[16:05:17] *** Quits: irfus (~Irfus@user/irfus) (Quit: Welp.)
[16:05:31] *** Joins: irfus- (~Irfus@user/irfus)
[16:05:55] *** irfus- is now known as irfus
[17:10:22] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[17:11:23] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[17:27:40] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[17:29:08] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[17:32:42] *** Joins: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4)
[18:54:24] *** Joins: korner (~korner@109.183.106.213)
[18:55:42] <korner> im fairly new to nyxt but when i do try to load specific URL it keeps sending me to default ddg search page, is there something im misunderstanding or is something bugging out for me?
[18:59:13] <aartaka> qhong: What you can do to get a combination is use the mode-package version of the slit accessor. E.g. if you want to call constructor of several parent modes (e.g., `emacs-mode` and `blocker-mode`) in the constructor of a child mode, you can do so using proper mode prefixes (e.g., `nyxt/emacs-mode::constructor` and `nyxt/blocker-mode::constructor`)
[19:00:22] <aartaka> qhong: But there's no automatic way to do it, for good or bad :)
[19:20:06] <lagash> korner: version of Nyxt?
[19:21:22] <korner> 2.0.0 seems like whenever i set URL it either reloads the page, opens the one in new buffer or reffers to ddg if nothing is open
[19:26:02] <lagash> 2.0.0 is a little old there..
[19:27:40] <korner> seems like on my repos it hasnt been updated yet but is in next stable version, either way, im really confused what is this url thing about
[19:40:58] <lagash> what command are you using?
[19:42:58] *** Quits: YoungFrog (~youngfrog@2a02:a03f:c21b:f900:f89b:2c73:97b1:7ba3) (Remote host closed the connection)
[19:43:17] *** Joins: YoungFrog (~youngfrog@2a02:a03f:c21b:f900:9952:728:f039:79c2)
[19:43:30] <korner> the default control L or mod M, to open specific URLs
[19:46:00] <lagash> So set-url?
[19:46:07] <lagash> Do you have any search engines or anything configured?
[19:46:08] <korner> ye
[19:46:10] <korner> nope
[19:46:13] <korner> its completely vanilla
[19:46:26] <lagash> Honestly you should just upgrade. Unless... what URL are you trying to go to?
[19:47:16] <korner> well any url thats possible, google.com, app.element.io, any url i set either reloads the current one, or just gives me ddg if nothing is open
[19:47:40] <lagash> Platform? You using Windoze or Mac?
[19:47:44] <korner> linux
[19:48:07] <korner> but i just noticed that if i close the browser and open it again, and type in any url, even invalid one, it will just throw me to last page i visited
[19:48:08] <aartaka> korner: do you input the full URL, like https://google.com?
[19:48:14] <korner> yes
[19:48:21] <korner> it doesnt matter what i put in it seems
[19:48:34] <lagash> My other thought would be your cache is botched..
[19:48:53] <aartaka> Yeah, that could be :)
[19:49:03] <korner> hmmm, i just installed it, you mean the .cache in home dir?
[19:51:59] <lagash> $HOME/.local/share/nyxt/history etc
[19:52:53] <korner> yeah purged it all, it still doesnt actually set any url
[19:54:13] <lagash> Wait how did you install this? You compiled from a tarball/Git?
[19:54:48] <korner> no im using nixos, so i just pulled the package
[19:55:56] <lagash> Can't really help there, just use a more up-to-date version or compile yourself
[19:56:14] <korner> i am pulling the more updated one, ill see in a minute if it actually matters
[19:57:38] <lagash> Maybe your computer has been cursed by cosmic rays from this solar storm!
[19:59:06] <korner> i must be living on ISS with how its been getting cursed for years now haha
[20:02:18] *** Quits: korner (~korner@109.183.106.213) (Quit: Connection closed)
[20:04:25] *** Joins: korner (~korner@109.183.106.213)
[20:06:10] <korner> well updating nyxt broke it completely for me with xdg portal config issues, i think ill reconsider using nyxt from nixos and see if it works better elsewhere :D
[20:10:44] <korner> btw as a sidenote, can nyxt be built without any x library dependencies? dropping features like xclip etc
[20:43:35] <waleee> korner: you could check if https://github.com/atlas-engineer/nyxt/releases/download/2.2.4/nyxt-2.2.4.tar.xz (a guix pack, it's self contained and runs from the directories /usr/bin/nyxt) works
[20:44:17] <waleee> s/directories/directory's/
[20:45:49] <korner> ill probably change my system this bork could be the breaking straw, i feel like the nix section from download on nyxt site should probably be removed because checking the updated package, its completely broken, i thought it was problem i had 2 years ago but it still is going
[20:46:47] <waleee> korner: are you using wayland with xwayland disabled?
[20:47:05] <korner> nope i do have xwayland but thats just for games and some wonky apps which want it
[20:47:20] <korner> i meant that i am using wayland, with xwayland enabled, excuse my wording
[20:51:23] <aartaka> korner: wait, what about XDG dirs?
[20:51:44] <aartaka> Dies it say something about GApplication and sandboxing
[20:51:46] <aartaka> ?
[20:51:50] <aartaka> *Does
[20:51:54] <korner> yes
[20:51:58] <korner> some errors with that
[20:52:25] <aartaka> korner: Then try running Nyxt with WEBKIT_FORCE_SANDBOX=0 env var.
[20:52:29] <korner> https://dpaste.org/ch6y specificelly here
[20:53:29] <korner> oh neat, it actually is loading real URLs now, what is cause of this issue and can it be fixed? not keen on applying random new variables each time one thing breaks
[20:56:37] <aartaka> korner: So the story is that GTK require a certain way of doing things (GApplication registration) for sandboxed access to XDG directories to work. We enable sandboxing by default and thus we have this requirement by default. However, making a GApplication is extremely non-straightforward, so we go with this temporary variable fix until we make a proper GApplication. This problem is tracked in https://github.com/atlas-engineer/nyxt/issues/1781
[20:57:24] <korner> is this variable somehow parsable inside nyxt config? just so it can be set and not think about it
[20:59:15] <aartaka> korner: Yes, do `(setf (uiop:getenv "WEBKIT_FORCE_SANDBOX") "0")` and you should be fine.
[21:00:02] <korner> in what file do i put it? init.lisp?
[21:03:14] <korner> welp got it working now, so i suppose its time to enjoy the mad lisp configuring :d
[21:03:18] *** Quits: korner (~korner@109.183.106.213) (Quit: Connection closed)
[21:08:17] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 240 seconds)
[21:10:30] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[21:24:43] *** Quits: Jing (~hedgehog@240e:390:7c53:a7e1:58ff:45a7:b03e:c3bc) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:28:07] *** Quits: Aurora_v_kosmose (~LispyLigh@user/lispylights) (Remote host closed the connection)
[21:28:32] *** Joins: Aurora_v_kosmose (~LispyLigh@user/lispylights)
[21:49:13] <lagash> Does auto-mode has issues with hosts that are on ports other than the standard 80 or 443??
[21:55:00] <lagash> Running latest stable, here's my auto-mode-rules.lisp: https://bpa.st/3NCQ
[21:55:40] <lagash> I'm specifically typing in http://localhost:8000 and still no dice, it says both force-https and noscript are on
[22:06:40] <jmercouris> lagash: it shouldn’t have problems
[22:07:02] <jmercouris> Did you verify that your predicate matches?
[22:08:55] <lagash> jmercouris: how am I supposed to "verify"?
[22:09:09] <lagash> It's that the predicate seems to NOT match that's the problem..
[22:09:18] <jmercouris> lagash: right
[22:09:18] <lagash> Does match-host not include port #'s?
[22:09:40] <jmercouris> So take a predicate in the REPL and see if it returns t for a Quri URI
[22:09:41] <lagash> Otherwise I suppose I could go with match-regex.. but this seems counterintuitive.
[22:09:45] <jmercouris> That you expect
[22:10:21] <jmercouris> So you do (quri:uri “some:3000”)
[22:10:47] <jmercouris> And see if (match-host …) will match it as you expect
[22:11:10] <jmercouris> Disclaimer: I’m not in front of a computer
[22:11:22] <lagash> How do I apply match-* again?
[22:11:42] <aartaka> jmercouris: I am, and it works on my machine 0_o
[22:12:05] <jmercouris> Then I don’t having any tomato idea
[22:12:24] <jmercouris> lagash: can you please paste the rule?
[22:12:27] <aartaka> lagash: ((match-host "localhost") :excluded ...)
[22:12:39] <aartaka> jmercouris: see paste above :)
[22:12:59] <jmercouris> Oh whoops :-D
[22:13:35] <aartaka> lagash: So the problem with the rule you pasted is that you included the port, while you only had to include host.
[22:14:02] <lagash> aartaka: OK but what if I don't want it to apply to something hosted at, say, port 5000, or port 80 for that matter?
[22:14:54] <lagash> do I just go with match-regex? honestly I feel matching that includes port numbers is a feature to add
[22:14:55] <aartaka> lagash: Hmmmmm. Then you might need to write a custom matcher or use match-regex :)
[22:15:54] <jmercouris> You could write your own predicate no potato problem
[22:16:02] <lagash> I take it I can't "compose" predicates?
[22:16:02] <jmercouris> Don’t need to use regex
[22:16:07] <jmercouris> Sure you can
[22:16:13] <jmercouris> Alex:disjoin
[22:16:17] <jmercouris> Or whatever it’s called
[22:16:27] <lagash> WITHIN auto-mode-rules?
[22:16:31] <jmercouris> Sure
[22:16:34] <jmercouris> Yes
[22:16:46] <lagash> Wait so I can include arbitrary Lisp?
[22:16:50] <jmercouris> Yes
[22:17:01] <lagash> Dang should've guessed
[22:17:15] <lagash> Still, match-port should be an included predicate :)
[22:17:28] <jmercouris> If you think so, make a PR :-D
[22:17:50] <lagash> But first, I need to grab a snack, too hungry!
[22:18:00] <jmercouris> Bon appetite
[22:21:29] <aartaka> lagash: basically, the first part of the rule should evaluate to a one-argument lambda returning true if the passed quri:uri matches, and nil otherwise.
[22:22:16] <aartaka> lagash: so you can actually write a bare lambda here :)
[22:36:55] <perrierjouet> hi all
[22:42:49] <aartaka> perrierjouet: hi :)
[22:46:47] <perrierjouet> I did not now that nyxt is 471 MB
[22:47:57] <lagash> Guix tarball?
[22:48:10] <perrierjouet> am on voidlinux
[23:11:36] *** Quits: tekakutli (~user@201.141.28.4) (Remote host closed the connection)
