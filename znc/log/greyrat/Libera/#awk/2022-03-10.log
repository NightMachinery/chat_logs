[00:07:46] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[00:29:30] *** Joins: wurstwasser (~frank.hol@2001:a61:34c0:801:b48d:817c:2be2:b14f)
[00:53:40] *** Quits: wurstwasser (~frank.hol@2001:a61:34c0:801:b48d:817c:2be2:b14f) (Remote host closed the connection)
[01:00:52] *** Quits: user51 (~user51@77.126.87.206) (Remote host closed the connection)
[01:20:18] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:34:26] <vinipsmaker> is there a(n easy) way to do UCS-2 (UTF-16) to UTF-8 conversion from AWK?
[01:34:34] <vinipsmaker> gawk acceptable
[01:37:38] <Earnest> iconv(1)
[01:40:03] <vinipsmaker> lemme check if it's available on windows
[01:40:11] <vinipsmaker> gawk on windows never mind lol
[01:40:19] <Earnest> iconv is everywhere
[01:40:29] <Earnest> It's POSIX
[01:41:30] <Earnest> iconv -f UTF16 -t UTF8 # and/or UTF16LE and UTF16BE
[01:42:39] <vinipsmaker> Windows is not POSIX :\
[01:43:03] <vinipsmaker> but I'll try to find an iconv binary for windows
[01:43:06] <vinipsmaker> it'd work for me
[01:43:25] <Earnest> If it has gawk, it has iconv
[01:44:49] <Earnest> Windows has Get-Content -Encoding ... | Set-Content -Encoding ...
[01:45:48] <vinipsmaker> there's no iconv, but I can get a binary
[01:45:55] <Earnest> vinipsmaker: Lots of places have icu as well which comes with uconv (same deal as iconv)
[01:46:00] <vinipsmaker> this answer (use iconv) already helped me a lot
[01:46:21] <Earnest> There's also recode
[01:46:57] <Earnest> Can gawk do this?  Yeah, if you use the C locale and null split over the input bytes you can apply the same sort of algorithms to do it, but eeeh.
[01:47:10] <Earnest> There's better ways
[01:48:24] * vinipsmaker looking for binaries
[01:49:06] <vinipsmaker> okay I have powershell
[01:50:01] <vinipsmaker> but I actually prefer to use a port of the POSIX tools to Windows
[01:50:12] <vinipsmaker> PowerShell has different versions for different Windows releases
[01:50:27] <vinipsmaker> you don't have portability over Windows versions by using PowerShell
[01:50:30] <Earnest> Windows has WSL which works *shrug*
[01:50:47] <Earnest> uconv/iconv are quite portable, should exist for windows
[01:50:51] <vinipsmaker> it's actually more portable to just use something like MSYS2 which should work across many Windows releases
[01:50:58] <vinipsmaker> in a nutshell... PowerShell is bullshit
[01:52:05] <vinipsmaker> I'm installing gnuwin32 over chocolatey which should have iconv
[01:55:49] *** Joins: jensen (~jensen@65.78.100.184)
[02:01:20] *** Quits: seninha (~chatzilla@user/seninha) (Quit: ChatZilla 0.9.93 [SeaMonkey 2.53.10.2/20220226204633])
[02:04:27] *** Joins: seninha (~chatzilla@user/seninha)
[02:17:49] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[02:31:11] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[02:40:38] *** Joins: wurstwasser (~frank.hol@2001:a61:34c0:801:1092:e218:4040:a3a9)
[02:41:32] *** Quits: wurstwasser (~frank.hol@2001:a61:34c0:801:1092:e218:4040:a3a9) (Remote host closed the connection)
[03:16:06] <vinipsmaker> Windows is such a hassle
[03:16:36] <vinipsmaker> I'm almost writing C source code to do what I want to ship with this scripts
[03:17:44] <jensen> how to skip empty lines and all lines containing the string "skin tone" or all lines starting with '#'? `awk 'NF > 0 || !/(skin tone|^#)/ { print $0 }'` doesn't seem to do it. The file is https://unicode.org/Public/emoji/14.0/emoji-test.txt and ultimately i want to get a filtered list of lines whose first field is the emoji and the 2nd field is the description, i.e. everything between the last '#' and
[03:17:46] <jensen> the last ':' (if there is a colon, otherwise, it would be end of line). i want to use dmenu to select emoji
[03:17:50] *** Quits: seninha (~chatzilla@user/seninha) (Remote host closed the connection)
[03:20:19] *** Joins: seninha (~chatzilla@user/seninha)
[03:21:00] <roarde> jensen: What about "hair"?
[03:22:06] <jensen> sure, but not haircut or wheelchair
[03:23:33] <roarde> What about accepting "wheelchair[^:]" but not "wheelchair:" ?
[03:23:35] <jensen> also there's a set of emojis ending with NO/OK or have NO:/OK: that would preferably be excluded but not a big deal
[03:23:54] <jensen> sure, that makes sense
[03:24:11] *** Joins: eddof13 (~eddof13@2806:102e:12:64:a0cc:1315:5073:f3f7)
[03:25:53] <roarde> I'm actually thinking everything <entry> #[^:]*:[[:blank:]]
[03:26:14] <roarde> As in if comment has a colon, skip that one.
[03:27:07] <roarde> "man in manual wheelchair" has no colon; "man in manual wheelchair: light skin tone" is the next item, tho.
[03:28:00] <roarde> I'm slow at this and fairly new to awk. If someone's already there with this, jump in any time, please.
[03:28:09] *** Quits: eddof13 (~eddof13@2806:102e:12:64:a0cc:1315:5073:f3f7) (Client Quit)
[03:29:03] <jensen> i'm just happy i got a response lol
[03:31:35] *** Joins: xmb (~xmb@178.197.213.215)
[03:35:09] <roarde> I need to do this because I'm setting up a 512-char font, hoping to include some emojis.
[03:35:30] <jensen> perfect :)
[03:39:18] *** Quits: seninha (~chatzilla@user/seninha) (Remote host closed the connection)
[03:48:31] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Write error: Connection reset by peer)
[03:48:55] <roarde> starter: awk '$1 ~ "^#" || NF == 0 { next }; { print $0 }' emoji-test.txt
[03:49:17] <roarde> Comments stripped.
[03:51:27] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[03:55:15] <roarde> jensen: awk '$1 ~ "^#" || NF == 0 || $0 !~ "[[:blank:]]#[^:]*:" { next }; { print $0 }' emoji-test.txt
[03:55:31] <roarde> (Having a look at what will be skipped.)
[03:56:45] <roarde> If that's okay, just remove the negation.   awk '$1 ~ "^#" || NF == 0 || $0 ~ "[[:blank:]]#[^:]*:" { next }; { print $0 }' emoji-test.txt
[04:08:26] *** Joins: uuidNuniq (~weechat@222.67.5.151)
[04:23:15] <roarde> jensen: pipe that to     awk '$0 ~ "[[:blank:]];[[:blank:]]+component" { print $0 }'
[04:23:29] <roarde> May want to add that to the exclusion list.
[04:48:35] <jensen> this is awesome, appreciate it
[04:49:36] <roarde> Thank for the pointer to the info
[05:15:59] *** Joins: junebug (~junebug@2600:1700:3db0:2540:fe6d:12d2:2acc:ce5f)
[05:21:31] *** Quits: xmb (~xmb@178.197.213.215) (Quit: yea)
[06:26:12] *** Parts: jensen (~jensen@65.78.100.184) (WeeChat 3.4)
[06:41:45] *** Joins: lord_daemon (~lord_daem@187.36.203.244)
[06:53:35] *** Quits: lord_daemon (~lord_daem@187.36.203.244) (Read error: Connection reset by peer)
[07:04:52] *** Joins: lord_daemon (~u0_a241@187.36.203.244)
[07:11:23] *** Joins: xmb (~xmb@178.197.213.215)
[07:16:32] *** Quits: xmb (~xmb@178.197.213.215) (Read error: Connection reset by peer)
[07:24:48] *** Joins: xmb (~xmb@178.197.213.215)
[07:30:22] *** Quits: xmb (~xmb@178.197.213.215) (Ping timeout: 272 seconds)
[07:31:26] *** Quits: lord_daemon (~u0_a241@187.36.203.244) (Read error: Connection reset by peer)
[07:51:55] *** Joins: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net)
[08:23:11] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[08:35:51] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[08:37:01] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Remote host closed the connection)
[08:37:26] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[09:16:14] *** Joins: user51 (~user51@77.126.87.206)
[09:20:12] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[09:21:15] *** Quits: roarde (~roarde@user/roarde) (Read error: Connection reset by peer)
[09:27:00] *** Quits: junebug (~junebug@2600:1700:3db0:2540:fe6d:12d2:2acc:ce5f) (Ping timeout: 240 seconds)
[09:41:28] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 272 seconds)
[10:07:10] *** Joins: bluedust (~bluedust@194.37.96.104)
[10:37:45] *** Joins: lavaball (felix@31.204.155.215)
[10:48:52] *** Quits: bluedust (~bluedust@194.37.96.104) (Ping timeout: 256 seconds)
[10:49:30] *** Joins: loganlee (~Thunderbi@user/loganlee)
[11:04:02] *** Quits: tangy (~tangy@user/tangy) (Ping timeout: 240 seconds)
[11:15:02] *** Joins: xmb (~xmb@178.197.213.215)
[11:31:24] *** Quits: xmb (~xmb@178.197.213.215) (Ping timeout: 240 seconds)
[11:49:02] *** Joins: aramtsamtsam (~Thunderbi@2001:861:388a:5600:1710:c3dc:c776:df35)
[11:51:36] *** Quits: aramtsamtsam (~Thunderbi@2001:861:388a:5600:1710:c3dc:c776:df35) (Client Quit)
[12:16:26] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[12:47:57] *** Quits: test_ (flooded@gateway/vpn/protonvpn/flood/x-43489060) (Read error: Connection reset by peer)
[12:48:23] *** Joins: test_ (flooded@gateway/vpn/protonvpn/flood/x-43489060)
[13:18:24] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[13:40:10] *** Quits: olspookishmagus (~pookie@snf-137798.vm.okeanos.grnet.gr) (Ping timeout: 250 seconds)
[13:42:03] *** Joins: olspookishmagus (~pookie@snf-137798.vm.okeanos.grnet.gr)
[14:38:18] *** Joins: lavaball (felix@31.204.155.215)
[14:50:51] *** Quits: mixfix41 (~homefame@user/mixfix41) (Ping timeout: 256 seconds)
[14:52:16] *** Joins: lgc (~lgc@user/lgc)
[14:58:53] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.5-dev)
[15:00:13] *** Joins: seninha (~chatzilla@user/seninha)
[15:17:57] *** test_ is now known as _flood
[15:24:53] *** Joins: xmb (~xmb@178.197.209.111)
[15:30:01] *** Quits: xmb (~xmb@178.197.209.111) (Read error: Connection reset by peer)
[15:46:36] *** Joins: xmb (~xmb@178.197.209.111)
[17:14:46] *** Quits: user51 (~user51@77.126.87.206) (Ping timeout: 256 seconds)
[17:14:46] *** Joins: tangy (~tangy@user/tangy)
[17:15:13] *** Joins: user51 (~user51@77.124.178.64)
[17:25:15] *** Quits: geirha (~geirha@user/geirha) (Ping timeout: 250 seconds)
[17:31:28] *** Joins: bluedust (~bluedust@89.238.143.232)
[17:41:06] *** Quits: xmb (~xmb@178.197.209.111) (Ping timeout: 250 seconds)
[18:04:38] *** Joins: geirha (~geirha@user/geirha)
[18:10:33] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[18:30:05] *** Quits: toulene (~toulene@user/toulene) (Quit: The Lounge - https://thelounge.chat)
[18:31:51] *** Quits: seninha (~chatzilla@user/seninha) (Quit: ChatZilla 0.9.93 [SeaMonkey 2.53.10.2/20220226204633])
[18:39:11] *** Joins: hid3 (~arnoldas@78.157.71.116)
[18:41:10] <hid3> Greetings. Anyone using awk to replace statically configured DNS servers on linux systems where netplan is being used? I wrote a small script, works fine on some of my systems, however if spacing/indentation is different, it obviously fails. The script is located here: https://pastebin.com/KeAxyBgK  Is there any more efficient way to achieve this?
[18:41:25] <hid3> An yeah, I know it looks lame, but I didn't find any other way to process YAML
[18:50:43] *** Joins: junebug (~junebug@2600:1700:3db0:2540:e0bb:78f3:394e:a43d)
[19:29:13] *** Joins: seninha (~chatzilla@user/seninha)
[19:38:36] *** Quits: junebug (~junebug@2600:1700:3db0:2540:e0bb:78f3:394e:a43d) (Ping timeout: 240 seconds)
[19:48:58] *** Joins: xmb (~xmb@178.197.209.111)
[19:54:46] *** Joins: wataru (~wataru@153.143.135.109)
[19:55:39] *** Quits: wataru (~wataru@153.143.135.109) (Client Quit)
[19:57:10] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[20:02:33] *** Quits: mcint (mcint@user/mcint) (Ping timeout: 250 seconds)
[20:03:34] <Patsie> hid3: tip for next time, paste the raw link instead: https://pastebin.com/raw/KeAxyBgK
[20:03:57] <Patsie> tip one: your three 'if' statements can just be awk patterns for your actions
[20:04:24] <Patsie> { if( $0 ~ /  nameservers:/ ) }  ->  ($1 == "nameservers:") { }
[20:04:46] <Patsie> using $1 and the == operator also takes away your spacing/indenting issue
[20:06:51] *** Joins: junebug (~junebug@2600:1700:3db0:2540:bf5:909d:2368:7b02)
[20:10:23] *** Joins: toulene (~toulene@user/toulene)
[20:11:17] *** Quits: junebug (~junebug@2600:1700:3db0:2540:bf5:909d:2368:7b02) (Remote host closed the connection)
[20:11:36] *** Joins: junebug (~junebug@2600:1700:3db0:2540:3499:533f:a41b:9450)
[20:27:51] *** Joins: mcint (mcint@user/mcint)
[20:27:57] *** Joins: jetchisel (jetchisel@user/jetchisel)
[20:29:31] <nmz> it fails because of indentation?
[21:13:00] *** Quits: seninha (~chatzilla@user/seninha) (Remote host closed the connection)
[21:26:24] <Patsie> if( $0 ~ /^  [a-zA-Z0-9]+:$/ )
[21:26:39] <Patsie> if the indentation is different there, it will not set the 'print' flag
[21:27:55] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Read error: No route to host)
[21:28:32] <Patsie> but yeah, in a short manner: awk 'BEGIN {f=1} $1=="nameservers:" {f=0;next} $1~/^[a-zA-Z0-9]+:$/ {f=1} f'
[21:32:53] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[21:33:05] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Quit: ɯlɐɔ uı ʞɹoʍ oʇ ƃuıoƃ)
[21:38:38] *** Joins: seninha (~chatzilla@user/seninha)
[21:47:01] *** Quits: bluedust (~bluedust@89.238.143.232) (Ping timeout: 256 seconds)
[22:03:24] *** Quits: junebug (~junebug@2600:1700:3db0:2540:3499:533f:a41b:9450) (Ping timeout: 240 seconds)
[22:04:18] *** Joins: junebug (~junebug@2600:1700:3db0:2540:cadd:4ad0:c16d:dcf0)
[22:08:12] *** Joins: lavaball (felix@31.204.155.215)
[22:12:36] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[22:23:02] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[22:32:41] *** Joins: eddof13 (~eddof13@2806:102e:12:64:a0cc:1315:5073:f3f7)
[22:38:37] *** Quits: junebug (~junebug@2600:1700:3db0:2540:cadd:4ad0:c16d:dcf0) (Ping timeout: 240 seconds)
[22:38:40] *** Quits: eddof13 (~eddof13@2806:102e:12:64:a0cc:1315:5073:f3f7) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:41:26] *** Joins: yuesbeez (uid458354@id-458354.tinside.irccloud.com)
[22:44:46] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[22:53:38] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Ping timeout: 256 seconds)
[22:56:42] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
