[00:02:17] <azazul> waht extactly do you mean with SameSite error?
[00:02:43] <entropy_> setcookie("order", $order, time()+4601000);
[00:02:57] <entropy_> is what i'm using, but i get an error someti'mes
[00:03:07] <entropy_> it's working now at least
[00:03:16] <entropy_> other than the "SameSite" error sometimes
[00:03:32] <azazul> what is the error that you actually get?
[00:04:04] <azazul> because "SameSite" seem to be related to the session cookies
[00:05:04] <azazul> (I have never actually tried to share session between sub-domains, so I'm a bit confused about this thing)
[00:05:37] <Blondie101010> why are you adding > 32 bit to the time()?
[00:06:14] <entropy_> Cookie “page” will be soon rejected because it has the “SameSite” attribute set to “None” or an invalid value, without the “secure” attribute. To know more about the “SameSite“ attribute, read https://developer.mozilla.org/docs/Web/HTTP/Headers/Set-Cookie/SameSite
[00:06:18] <azazul> also, SameSite as a thing also is only being added in PHP 7.3: https://php.watch/versions/7.3/same-site-cookies
[00:06:45] <azazul> bottom line - you need to upgrade your php version
[00:06:48] *** Joins: luigibu (~luigibu@80.30.201.209)
[00:08:08] <azazul> php 7.2 active support ended in late 2019 and security paches stopped comming about a year ago
[00:08:37] <azazul> you should be aming at 8.0 for a new project
[00:08:43] <azazul> *aiming
[00:10:14] <azazul> why do you not just ad "secure" flag to your cookies instead of messing with SameSite, entropy_ ?
[00:19:25] <entropy_> how?
[00:19:37] *** Quits: de-facto (~de-facto@user/de-facto) (Remote host closed the connection)
[00:19:50] *** Joins: de-facto (~de-facto@user/de-facto)
[00:22:57] <Blondie101010> !+setcookie
[00:22:57] <php-bot> bool setcookie(string name [, string value [, int expires [, string path [, string domain [, bool secure[, bool httponly]]]]]])  - Send a cookie - http://php.net/setcookie
[00:23:15] <Blondie101010> look at the 6th parameter
[00:23:50] <Blondie101010> but frankly if you set the proper base domain you'll be fine
[00:28:49] *** Joins: deksar (~deksar@user/deksar)
[00:35:23] <azazul> also, entropy_ , I honestly would recommend using https://packagist.org/packages/symfony/http-foundation  for this
[00:35:41] <azazul> just find the latest version that is compatible with 7.2
[00:36:21] <azazul> it would simplify handling of SAPI interface
[00:38:02] *** Joins: magla (~gelignite@55d4c767.access.ecotel.net)
[00:38:12] *** Joins: pmercado (~pmercado@186.107.37.219)
[00:39:41] *** Quits: entropy_ (~ent@user/entropy/x-9891564) (Remote host closed the connection)
[00:42:23] *** Quits: luigibu (~luigibu@80.30.201.209) (Ping timeout: 256 seconds)
[00:57:54] *** Joins: anomander (~anomander@vps-e9abfd3d.vps.ovh.net)
[00:59:54] *** Joins: entropy_ (~ent@user/entropy/x-9891564)
[01:07:32] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 240 seconds)
[01:12:09] *** Quits: onichomp (~onichomp@2806:264:4404:8016:f45b:a0b3:7fa:36e7) (Ping timeout: 268 seconds)
[01:13:05] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[01:13:09] *** Quits: factor (~factor@72.192.71.12) (Quit: Leaving)
[01:13:45] *** Joins: onichomp (~onichomp@2806:264:4404:8016:29fa:a297:463f:aaf0)
[01:17:58] *** Joins: trollboy (~zuul@c-73-60-110-37.hsd1.ma.comcast.net)
[01:18:48] <trollboy> Google's failing me; anyone got a recommended validation class for mysql data types?  like \somelib\is_tinyint_unsigned_notnull($data)
[01:19:19] *** Quits: sagax (~sagax_nb@user/sagax) (Ping timeout: 250 seconds)
[01:26:01] <azazul> trollboy: why not use PDO exception for that?
[01:26:25] <azazul> it's not a bad thing to leave the data-integrety validation to the database
[01:27:58] <trollboy> azazul, isn't it more efficient to pre-validate against simple types before bugging the db?
[01:28:31] <azazul> the real answer is: *IT DEPENDS* (tm)
[01:29:05] <azazul> what scenarious are you talking about?
[01:30:13] <trollboy> I'm whipping up a light as possible orm for personal use, so I want predefined validators on the __set()'s
[01:30:22] <azazul> :D
[01:30:26] <azazul> don't
[01:30:58] <azazul> trust me, it's a black hole of complexity and tears
[01:31:31] <azazul> instead crite your code with custom-made data mappers classes for your separate entity classes
[01:31:51] <azazul> https://martinfowler.com/eaaCatalog/dataMapper.html
[01:32:12] <trollboy> It's saturday where I'm at, and I'm working on a light as possible orm for personal use.  At what point did I not express a certain amount of sado-masochism?
[01:32:45] <trollboy> azazul; that's what I'm doing actually
[01:32:54] <azazul> yes, but it's the "I am writing an regexp for HTML validation" type of masochism
[01:33:08] *** Joins: ferdna (~ferdna@user/ferdna)
[01:33:43] <trollboy> 1 class to act as data mapper (thus the validator), one to translate data mapped objects to CRUD ops, and a route declaration class to tie it together for REST.
[01:34:00] <azazul> no, the validation would go in the entity
[01:34:19] <trollboy> I mean I can go lazy and just go no further than isInt()/isString()/etc
[01:34:38] <trollboy> elaborate on the "validation would go in the entity"
[01:34:56] <azazul> for REST you would just cath the TypeError from type hints in your method definitions
[01:35:37] <trollboy> right, sorry I'm old, I can type hint in lieu of is{{type}}()... but same energy
[01:36:22] <azazul> well, you you do the entity-datamapper thing, then the "business rule" validation goes in the entity (like, does this phone number begin with 9 or does this look like a real email) and the data integrety validation does in the datas mapper (is the email already in the database)
[01:36:41] <azazul> *if you do
[01:38:12] <trollboy> mean ole volunteer helpers.. pointing out things like sense and rationality... *kicks dirt*
[01:38:13] <trollboy> thanks
[01:39:34] <azazul> btw
[01:40:19] <azazul> if you decide to try using plain-php data mapper, here is an important advice: mappers for entities and mappers for entity-collections should be separate classes
[01:40:31] <trollboy> yup
[01:43:11] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Read error: Connection reset by peer)
[01:43:24] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[01:43:32] *** Quits: stenno (~stenno@user/stenno) (Read error: Connection reset by peer)
[01:43:50] *** Joins: stenno (~stenno@user/stenno)
[01:51:58] *** Joins: Sanden (~Sanden@47-222-22-66.plptcmtk03.res.dyn.suddenlink.net)
[01:52:58] *** Quits: genom (~g@37.214.42.244) (Remote host closed the connection)
[02:28:55] *** Quits: pmercado (~pmercado@186.107.37.219) (Ping timeout: 256 seconds)
[02:33:05] <Sanden> Hello, I have this error on the web hosted account and a search for autoload.php gives no results. Warning: require(../vendor/autoload.php): failed to open stream: No such file or directory in /home/lc033vo5v7w1/public_html/adoptx.php on line 12
[02:33:28] <trollboy> did you do a `composer install`?
[02:34:09] <Sanden> I did not as it's a hosted account and when I spoke to tech support, they told me not to install composer.
[02:34:29] <trollboy> and you're putting your files there via ftp/sftp right?
[02:34:35] <Sanden> yes
[02:34:51] <trollboy> right, don't put composer on the web server
[02:35:09] <Sanden> so comment out that line?
[02:35:24] <trollboy> however, you'll need to run it locally and xfer up the vendor directory that's created when you run it
[02:36:25] <Sanden> ok, let me try
[02:36:51] <Sanden> I am on a windows machine
[02:36:52] <trollboy> you can & should comment out that line should you aren't using autoload (including the other packages you may have required)
[02:37:35] <azazul> Sanden: never do "relative" require or include calls
[02:37:44] <azazul> always use absolute path
[02:38:03] <trollboy> also true
[02:38:33] <azazul> it will both avoid the errors and let php to cache the opcodes
[02:39:39] <Sanden> Thank you, I commented it out, and now more errors.
[02:41:05] <Sanden> The site is: https://www.dfwpurebredrescue.org/adoptx.php FYI - I'm doing a gratis site for a cat rescue to help get abused and injured cats into homes and out of the condos at the pet supply box stores.
[02:42:00] <Sanden> The mailer was working beautifully before the ISP was bought out and they stopped allowing me to use the CGI mailer
[02:42:34] <Sanden> The new errors I have now are all: Notice: Undefined index: name in /home/lc033vo5v7w1/public_html/adoptx.php on line 52
[02:43:19] <trollboy> copy your adoptx.php to adoptx.phps and link us
[02:43:21] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[02:43:51] *** Quits: magla (~gelignite@55d4c767.access.ecotel.net) (Quit: Stay safe!)
[02:44:29] <azazul> Sanden: well it means that in the line 52 you are accessing array key, that has not been defined
[02:45:05] <Sanden> ok, one moment
[02:45:07] *** Joins: WishBoy (~WishBoy@user/wishboy)
[02:48:33] <Sanden> I've uploaded a phps copy, I'm unfamiliar with how to link you, trollboy?
[02:48:56] <Sanden> Just give you the url or put it on pastebin?
[02:49:42] <Sanden> https://www.dfwpurebredrescue.org/adoptx.phps
[02:50:07] <trollboy> You don't have email or name defined in your POST query
[02:50:25] <trollboy> You should probably check if it's a post first, and then validate the data exists
[02:50:57] <azazul> uhh .. that's some mess :D
[02:51:36] <trollboy> I've seen worse
[02:51:46] <azazul> Sanden: my first suggestion would be, read: https://archive.md/CiHhD
[02:54:12] <azazul> and, second: there is no $_POST['name'] that can be produced by that form below
[02:54:31] <azazul> I cant find any string matching: name="name"
[02:55:13] <Sanden> Please understand that my forte is html, when they pulled the rug out? I'm scrambling to get this to work as this week is when most of our cats get adopted. At this point I don't have much since getting laid off and supporting 10 geriatric cats, but if someone can get it to work? I can pay a little for your time. I've spent 4 days trying to get
[02:55:14] <Sanden> this to work without success, and we need to get cats into loving homes.
[02:56:10] <Sanden> Tech support at the ISP (now Go Daddy) has been awful. Other than they said "sorry"
[02:56:33] <azazul> trollboy: will yiy be able to help him? It's past 1AM here and I am falling asleep
[02:56:38] <azazul> *will you
[02:56:44] <Sanden> I'm a her. :)
[02:57:02] <Sanden> Message and tell me how much, I have paypal
[02:57:02] <azazul> well, doesn't matter :P
[02:57:06] <azazul> you are a "chat name"
[02:57:38] <Sanden> Or I can send you a cat or  a kitten.
[02:59:33] <Sanden> Sueno bien, azazul
[03:01:39] <azazul> Sanden: if you don't get help from anyone else here, ping me in about 10 hours (and no, this not something that would require payment ... and shipping a cat to Latvia sound a bit cruel)
[03:02:04] * azazul needs sleep 
[03:02:41] <Sanden> I think you have a lot of cats in Latvia, but hey! I can buy you a beer or two at least.
[03:02:55] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[03:03:35] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[03:03:51] <Sanden> Thank you for your help, azazul
[03:08:48] *** Quits: pulse (~pulse@user/pulse) (Quit: Join our community of creative supermutants at https://indiedevs.net/)
[03:12:13] <trollboy> sorry, got wifed
[03:12:34] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[03:12:47] <trollboy> it's 6:42pm here, I'm on the clock. As my wife is slowly amassing a cat army to put that of Ulthar to shame, I imagine I'm duty bound to aid.
[03:12:49] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[03:13:17] <trollboy> Sanden, shall we continue?
[03:13:48] <Sanden> Tell your wife, I approve.
[03:14:08] <trollboy> FYI; you're not the first html person I've taught simple php to, and the thesis of this channel is more help then hiring, so I'd much prefer to "teach a man to fish" if you don't mind
[03:14:20] <trollboy> Bonus points if you got the Ulthar reference
[03:15:01] <Sanden> Sure. HP Lovecraft :)
[03:15:22] <trollboy> Ia ia!
[03:15:26] <trollboy> Ok, let's rock
[03:15:30] <Sanden> ok, deal
[03:16:16] <trollboy> poking your form with a stick, so if you see bass@fish.net, that's me
[03:16:19] *** Quits: shokohsc8618 (~shokohsc@161.88.195.77.rev.sfr.net) (Quit: The Lounge - https://thelounge.chat)
[03:16:29] <Sanden> Feel free to poke
[03:18:22] *** Joins: shokohsc8618 (~shokohsc@161.88.195.77.rev.sfr.net)
[03:18:40] *** Joins: luigibu (~luigibu@80.30.201.209)
[03:20:08] *** Quits: deksar (~deksar@user/deksar) (Quit: "Mundus scena, vita transitus; venisti, vidisti, abiisti.")
[03:21:31] <trollboy> what' syour browser?
[03:22:01] <trollboy> nice spacing trollboy, let's try again
[03:22:08] <trollboy> what's your browser? What browser are you using
[03:22:34] *** Joins: __adrian (~adrian@user/adrian/x-7832151)
[03:22:48] <Sanden> I have Edge, Firefox, Vivaldi, and Chrome
[03:22:51] *** Joins: noord (~noord@user/noord)
[03:23:16] <trollboy> for ease's sake, want to use chrome for me? I wanna learn you some simple debugging
[03:23:39] <Sanden> I am editing in notepad++ and WinSCP
[03:23:45] <Sanden> ok
[03:23:49] <trollboy> You do you boo
[03:24:12] <Sanden> unless you can suggest a better editor?
[03:24:47] <trollboy> There's a million editors out there, and if we start talking editors, it will quickly degrade to Emo Philips religion joke (https://www.youtube.com/watch?v=ANNX_XiuA78). So let's stick to code
[03:25:30] <Sanden> lol
[03:25:33] <Sanden> ok
[03:25:58] <trollboy> get to the lovely page where you're looking at those errors (open & submit your form)
[03:27:38] <trollboy> lemme know when you got it
[03:28:16] <Sanden> Got it
[03:28:22] <trollboy> Wunderbar!
[03:28:33] <trollboy> Right click the page and hit inspect
[03:28:39] <Sanden> Thank you Fake Data extension!
[03:28:45] <trollboy> in the inspector, hit the Network tab
[03:29:02] <Sanden> k
[03:29:03] <trollboy> re: Fake Data Extension; tell me about it janet, that form is brutal
[03:29:28] <trollboy> you'll see one item on it.. hit that item and you'll see another area come up..
[03:29:29] <Sanden> Refinance or adopt a cat...
[03:29:44] <trollboy> what?
[03:30:07] *** Quits: shokohsc8618 (~shokohsc@161.88.195.77.rev.sfr.net) (Quit: The Lounge - https://thelounge.chat)
[03:31:10] <Sanden> The length of the form....
[03:31:26] <Sanden> ok, I clicked on console.
[03:31:34] <Sanden> are we talking console?
[03:31:38] <trollboy> Hit the network tab
[03:31:47] <Sanden> did that
[03:31:53] <trollboy> you should see 1 line for adoptx.php
[03:32:05] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Remote host closed the connection)
[03:32:05] <trollboy> first you'll see the Headers tab
[03:32:13] <Sanden> had to reload, silly me
[03:32:17] *** Joins: shokohsc8618 (~shokohsc@161.88.195.77.rev.sfr.net)
[03:32:18] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[03:32:19] <trollboy> Do you know the difference between GET & POST?
[03:33:26] <Sanden> one is insecure.
[03:33:33] <Sanden> so use post.
[03:33:40] <trollboy> Nope!
[03:33:55] <trollboy> "one is insecure" is the answer to http vs https
[03:34:19] <Sanden> Hm, I was told get could be hacked
[03:34:22] <trollboy> So GET & POST (alone with the less encountered UPDATE & DELETE) is telling the server what your intent is on this hit.
[03:34:43] <trollboy> GET means gimme data, by default any webpage you view by typing in the address is going to be a GET
[03:34:46] <noord> post accepts the message body to alter any resource
[03:35:15] <trollboy> POST tells the server you're giving it data (instead of GET which you're reading data)
[03:35:30] <Sanden> ok, I understand
[03:35:32] *** Quits: vit (~vit@chello085216193138.chello.sk) (Ping timeout: 240 seconds)
[03:35:46] <trollboy> not really a lot to do with security, more just telling your webserver what you're doing
[03:36:08] <trollboy> so, you hit that url with a POST, hit the "Payload" tab
[03:36:30] <Sanden> done
[03:36:54] <trollboy> see all those fields? "Street: 123 Anystreet"?
[03:37:00] <Sanden> yes
[03:37:23] <trollboy> everything to the left of the : is the fieldname.  In your code, that can be accessed at $_POST['Street'].
[03:38:43] <trollboy> So reading your errors; in line 52 you're asking for $_POST['email'] & I see email: on that list, however it also calls for $_POST['name'].  While `first:` and `last:` are defined there, I don't see `name:`.
[03:39:10] <trollboy> line 61 is name again, and line 62 is calling for message, which is also never defined.
[03:39:33] <Sanden> No, no 'name' because I split it into 'first' and 'last' for database personalization.
[03:40:00] <trollboy> which is a fine and smart data optimization
[03:40:14] <trollboy> Your problem is no one told the PHP that you made that design decision ;-)
[03:41:06] <Sanden> so in place of Name: {$_POST['name']}
[03:41:06] <Sanden> Message: {$_POST['message']}
[03:41:44] <Sanden> I'll need to do First: {$_POST['first']}
[03:41:45] <Sanden> Last: {$_POST['last']}
[03:42:22] <trollboy> ish
[03:42:31] <trollboy> Might I make a couple suggestions?
[03:42:56] <Sanden> sure, as I cringe thinking I'm going to need to do every form field. Again.
[03:43:16] <trollboy> taking that into consideration in my tip ;-)
[03:44:08] <Sanden> holy output, batman
[03:44:27] <trollboy> https://pastebin.com/3deTPDHC
[03:44:54] <trollboy> so line 2 there, I create a new $name variable to take the place of $_POST['name']
[03:45:21] <trollboy> put that line in your code near the top and you can replace every instance of $_POST['name'] with $name
[03:46:33] <Sanden> okay
[03:46:47] <trollboy> same for lines 6 - 10.. it just takes whatever is submitted to the form and just turns it into a dump like you see in the Payload tab
[03:46:56] <trollboy> go ahead and add more fields, etc it'll automagically work
[03:47:20] <trollboy> You could just set $mail->Body = $message
[03:48:00] <Sanden> delete the <<<EOT
[03:48:31] <trollboy> yup
[03:49:19] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[03:49:26] <Sanden> and the last EOT; below Message?
[03:49:26] <trollboy> that's called a "HEREDOC", if you wanna google it
[03:49:45] <trollboy> yup
[03:49:55] <Sanden> delete it as well?
[03:50:24] <trollboy> yup
[03:50:27] <Sanden> ok
[03:51:13] *** stenno is now known as stenno\OK
[03:51:15] <trollboy> HEREDOC runs from <<<MARKER  {{whatever you want to write for pages if you wanted}} MARKER;
[03:52:48] <Sanden> all the other errors poofed! but a new one showed up to the party: Parse error: syntax error, unexpected 'Email' (T_STRING) in /home/lc033vo5v7w1/public_html/adoptx.php on line 60
[03:53:20] <trollboy> OH sorry everything should have been deleted
[03:53:41] <trollboy> SO <<<EOT everything between and EOT;
[03:54:00] <Sanden> oh
[03:54:03] <trollboy> replace it with $message
[03:54:11] <trollboy> if you're using the snippet I gave you
[03:56:21] <trollboy> you're going to have 1 last error once you get that resolved
[03:56:42] <Sanden>         //Build a simple message body
[03:56:42] <Sanden>         $mail->Body = $message
[03:56:43] <Sanden>  Email: {$_POST['email']}
[03:56:43] <Sanden>  Name: $name = $_POST['first'] . ' ' . $_POST['last'];
[03:56:44] <Sanden>  Message: $payload = array();
[03:56:44] <Sanden>  foreach($_POST as $key=>$value){
[03:56:45] <Sanden>    $payload[] = $key . ':' . $value;
[03:56:45] <Sanden>  }
[03:56:46] <Sanden>  $message = implode(PHP_EOL, $payload);
[03:56:46] <php-bot> Muting sanden for 20 seconds to prevent them from flooding
[03:56:51] <trollboy> ok, so that's flooding
[03:57:03] <trollboy> See how I used pastebin.com, that's what it's for.
[03:57:14] <Sanden> Sorry
[03:57:28] <trollboy> Paste your code there.
[03:57:31] <Sanden> nice IRC trick. Stops
[03:57:36] <Sanden> the flooders.
[03:59:17] <trollboy> lemme know when paste your code there and shoot me the url
[03:59:52] *** Quits: luigibu (~luigibu@80.30.201.209) (Ping timeout: 268 seconds)
[04:00:43] *** Joins: luigibu (~luigibu@80.30.201.209)
[04:02:39] <trollboy> Sanden?
[04:04:05] <Sanden> Yes, setting up pastebin
[04:04:40] <Sanden> https://pastebin.com/E4Gd12Gx
[04:06:17] *** Joins: z_lehinsun (~lehinsun@188.113.178.220)
[04:06:23] <Sanden> let me get the whole thing
[04:06:26] <Sanden> derp
[04:07:06] <trollboy> https://pastebin.com/0eJXbQjR
[04:07:34] <trollboy> there's me doing some fixins on the code you wrote
[04:08:04] *** Quits: sakhd__ (~lehinsun@188.113.178.220) (Read error: Connection reset by peer)
[04:09:58] <Sanden> https://pastebin.com/4crGNbUB
[04:11:37] <Sanden> Still some errors
[04:11:57] <Sanden> Notice: Undefined index: name in /home/lc033vo5v7w1/public_html/adoptx.php on line 52
[04:12:00] <trollboy> you still got a $_POST['name'] on line 52
[04:12:10] <Sanden> looking
[04:13:55] <trollboy> and if you've got a spot where you're using $_POST['name'] and wanna replace it with $name, you should put the name declaration (on line 59) above that
[04:19:12] <Sanden> https://pastebin.com/vKS58iYp
[04:20:03] <trollboy> so now you're just seeing it not having that class
[04:20:24] <Sanden> yes:)
[04:21:26] <trollboy> so autoincludes would have fixed that if it worked, but in the meantime look to lines 4-5 for your solution
[04:21:44] <trollboy> you can manually require in the file
[04:24:36] <Sanden> give me just a moment, gericat John says it's dinnertime NOW
[04:28:08] <Sanden> should those be commented out?
[04:28:59] <trollboy> Well your options are; use those lines.. OR get auto includes working
[04:29:36] <trollboy>  require(../vendor/autoload.php) <-- your autoincludes/autoloader
[04:32:33] <trollboy> that bit of code automagically requires in any file you might need as you code it.  so you can use \some\other\function\or\class\in\some\other\file all day long, and it will just automagically include the file containing that code with no intervention on your part
[04:33:04] <trollboy> https://giphy.com/gifs/shia-labeouf-12NUbkX6p4xOO4
[04:33:36] <Sanden> https://pastebin.com/LJmdLZdV
[04:36:46] <Sanden> sadly I'm old enough to remember Doug .. was it Henny? Doing those magic tricks.
[04:37:22] <trollboy> Yes. That is PHPMailer
[04:37:58] <Sanden> I wonder if I can install autoload, Go Daddy be damned?
[04:38:22] <trollboy> not "be damned" just, "be ignored"
[04:38:27] *** Quits: Xavier7 (~O_o@179.6.152.229) (Quit:  IRcap  8.72 )
[04:38:31] <trollboy> run the composer install locally
[04:38:31] <Sanden> :: snicker ::
[04:38:34] <__adrian> autoloading is part of core. you only need to set up an autoloader function.
[04:38:35] <trollboy> upload your vendor folder
[04:38:41] <__adrian> composer's is good
[04:38:45] <trollboy> __adrian, we're getting there
[04:38:58] <trollboy> and __adrian is 100% right, composer is your best friend
[04:39:41] <trollboy> Composer works in PHP's PSR ecosystem and will save your bacon.  Lemme know when/if you generate and upload that vendor directory
[04:39:49] *** Quits: luigibu (~luigibu@80.30.201.209) (Ping timeout: 256 seconds)
[04:39:53] <Sanden> let me look, but I don't believe there's a vendor folder. They bought out this ISP and it's been a real joy as they broke everything without giving anyone notice.
[04:39:58] *** Quits: onichomp (~onichomp@2806:264:4404:8016:29fa:a297:463f:aaf0) (Ping timeout: 268 seconds)
[04:40:06] <trollboy> ignore them
[04:40:12] <trollboy> run the composer install on YOUR box
[04:40:35] <Sanden> it's a virtual account only.
[04:40:50] <trollboy> actually, lemme back up the stationwagon... did you install PHPMailer?
[04:40:51] <Sanden> let me look, I'm not giving up yet.
[04:41:00] <trollboy> and do you have a composer.json file
[04:41:01] <Sanden> I copied PHPMailer over
[04:41:25] <Sanden> there is a composer.json file inside the folder.
[04:41:40] <trollboy> right but does YOUR code have a composer.json
[04:41:56] <Sanden> we commented it out
[04:42:31] <trollboy> no, we commented out autoload.php
[04:42:40] <Sanden> let me look
[04:42:45] <trollboy> you're on windows right?
[04:43:01] <trollboy> You mentioned having Edge installed
[04:43:07] <Sanden> it's in there
[04:44:07] <Sanden> there is no vendor file above the /public_html
[04:44:45] <Sanden> I can screenshot the contents
[04:46:07] <trollboy> quick question; did you have a copy of this site running locally anywhere or are you downloading and uploading files from godaddy?
[04:46:15] <noord> trollboy: may I suggest simple workflow for tutoring, using real time collaboration tools such as code share makes life easier for both end
[04:46:55] <trollboy> whatcha got noord?
[04:46:59] <noord> https://codeshare.io/xv7lqD
[04:47:26] <trollboy> yeah, that is cool
[04:47:35] <Sanden> not running on a local machine, had it running fine on another ISP with a CGI mailer and ... frick, a PERL script. WOrked fine.
[04:47:38] <trollboy> we're at ops level issues atm though
[04:48:49] <Sanden> Then the Go Daddy Borg cube got them and I'm trying to fix between hunting for a job, interviews, and running to chemo 3x a week
[04:49:00] <Sanden> and hangry cat lol
[04:49:05] <trollboy> ok, Sanden I *strongly* recommend learning composer & setting up a dev environment
[04:49:09] <trollboy> *STRONGLY*
[04:50:25] <trollboy> but this is a live site with inherited legacy code and is for the kittehs. So, let's break some rules, fix the problem, and then circle back and learn up how to do safe development & composer.
[04:50:28] <trollboy> How's that sound?
[04:50:33] <Sanden> trollboy? If I expected to work in PHP? I would be thrilled to learn. But I guess what I need is how to get this car running so I can deliver applications to the cat rescue ASAP
[04:50:42] <Sanden> GMTA!
[04:50:58] *** Joins: luigibu (~luigibu@80.30.201.209)
[04:52:14] <trollboy> ok, look for a smtp.php
[04:54:26] <Sanden> ok
[04:55:48] <Sanden> found it
[04:56:47] *** Quits: luigibu (~luigibu@80.30.201.209) (Ping timeout: 264 seconds)
[04:57:13] <trollboy> ok, slap up another require in there pointing to that file
[04:57:38] <trollboy> https://codeshare.io/yo7Lpl
[05:02:50] <trollboy> Sanden?
[05:03:29] <Sanden> I did and there's no error on the browser, but no mail is getting through
[05:05:10] <Sanden> checking error logs as well
[05:11:32] *** Quits: ms49434 (~ms49434@user/ms49434) (Quit: Leaving)
[05:11:40] <Sanden> https://codeshare.io/yo7Lpl
[05:20:20] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[05:21:45] <trollboy> Sanden, made some changes
[05:21:57] <Sanden> ok
[05:22:48] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Remote host closed the connection)
[05:23:01] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[05:25:27] <Sanden> still nothing in the email for the rescue
[05:25:52] <Sanden> And I've tested it from multipe outside accounts
[05:26:09] <trollboy> any error tho?
[05:26:18] <Sanden> let me look
[05:28:55] <Sanden> nothing in the logs
[05:30:48] <Sanden> I cleared the logs, let me try again
[05:31:17] *** Joins: ferdna (~ferdna@user/ferdna)
[05:31:40] <Sanden> nothing.
[05:33:45] <__adrian> note that "no email" doesn't always mean there was an error in your code. email deliverability is hard. if anyone thinks it's spam, they will simply drop it in the trash without a word.
[05:34:12] <Sanden> nothing in spam or trash or promotions or any folders
[05:35:01] <__adrian> not your spam/trash folders. the MTA might drop it. which means it will never be delivered
[05:36:55] <trollboy> I'm more apt to blame php first
[05:37:28] <Sanden> it says "Your MX settings have errors" in the mailserver - mind you, this is new.
[05:37:41] <__adrian> ^ so not "no errors"
[05:37:58] <trollboy> It shouldn't...
[05:38:12] <trollboy> one of the things I did is turned off mx and told it to use mail() instead
[05:38:25] <Sanden> I didn't touch this - it's a gift
[05:39:01] <Sanden> let me pastebin
[05:39:07] <trollboy> is your code you're running the same that's in codeshare?
[05:39:10] <trollboy> use codeshre
[05:39:13] <trollboy> codeshare rather
[05:39:32] <Sanden> yes
[05:39:34] <Sanden> https://pastebin.com/1KWzcp1k
[05:40:16] <trollboy> that's your dns
[05:41:28] <Sanden> didn't touch that either
[05:41:39] <trollboy> you're sorta taking us to debugging the creation of the universe in the Sagan Apple pie
[05:41:50] <Sanden> lol
[05:42:39] <Sanden> all I need is for the application to work
[05:43:11] <__adrian> ...wait, you're forcing phpmailer to use mail() ? why on earth?
[05:43:53] <trollboy> __adrian, *I* did that, for debugging purposes, we're at "making the code function" now, we'll get to debugging SMTP later
[05:46:12] <__adrian> well yes, i understood that it was you - i was asking you
[05:46:48] <trollboy> does that explain why I did it?
[05:47:18] <__adrian> i don't see how it makes sense, but yes, i understand your answer  :)
[06:13:47] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[06:14:48] <trollboy> the issues we were first having was in regards to unset variables & getting the script to load properly (composer isn't really an option at this point) so the idea was to get the thing to at least use mail(), then go back and turn back on the smtp functionality
[06:27:55] <Sanden> do I need to install composer on the account root or the public_html root?
[06:33:18] *** Joins: phi0x (~phi0x@198.47.46.174)
[06:36:17] <phi0x> Hi guys, wondering about the following. We are using php PDO to speak to our database. We are wondering if we should sanitize the user data before storing in the DB, or rather should we do it before sending the user data back to the client? What is best practice?
[06:38:05] <__adrian> phi0x: you should NEVER "sanitize" at all. what's the problem you're asking about - sql injection, or things like xss?
[06:38:29] <__adrian> for sql injection, the solution is to use prepared statements and pass data via parameters.
[06:38:34] <__adrian> !+pdo_mysql prepare
[06:38:34] <php-bot> How to prepare a statement using PDO: https://gist.github.com/adrian-enspired/1ddd71511e01c1f609db
[06:39:15] <__adrian> for xss (and other output-related problems), the solution is to properly encode your output.
[06:39:38] <__adrian> e.g., if you want to output _text_ (not html or js), then you use htmlspecialchars($text).
[06:41:19] <phi0x> thanks __adrian, for SQL injection we do already do the prepared statements. For user data, we had troubles having JS script tags in the payload which then was interpreted on the client side which we solved with htmlspecialchars. We are wondering if there's anything else with that being said to be cautious of?
[06:42:09] <__adrian> not for those two specific issues. that's the proper solution for each (assuming by "we use prepared statements" you also mean you use parameters)
[06:42:55] <phi0x> yes we use named parameters
[06:44:01] <trollboy> Sanden, composer is a command line program for managing php packages
[06:44:26] <phi0x> We will look more into what you mentioned about xss thanks a lot! :D
[06:44:28] <trollboy> you get it from getcomposer.org
[06:44:53] <Sanden> trollboy there is a cpanel to install a variety of php packages
[06:44:55] <__adrian> ^ you don't need to have composer instally on your webserver. install and use on your dev platform.
[06:45:03] <__adrian> phi0x: no problem
[06:45:04] <trollboy> Sanden, that's super different
[06:47:27] <trollboy> if you want to install composer and use that
[06:47:38] <trollboy> you will first need to download the website to your local machine
[06:50:39] *** Quits: omegatron (~some@p5484903d.dip0.t-ipconnect.de) (Quit: What happened? You quit!)
[06:51:54] <Sanden> I have it on my local machine
[06:53:26] <Sanden> the site, that is
[06:53:36] <trollboy> ok
[06:53:52] <trollboy> first you want to install composer
[06:54:10] <trollboy> https://getcomposer.org/download/
[07:02:47] <Sanden> it says I need to install php first, along with apache
[07:03:19] <__adrian> you do need php to run composer. definitely do not need apache.
[07:03:45] <__adrian> apache generally shouldn't be on your local (desktop) machine
[07:04:41] <trollboy> __adrian, thank you from the bottom of my heart for not pushing wamp.
[07:04:56] <__adrian> oh we have a factoid for that
[07:04:58] <__adrian> !+xampp
[07:04:59] <php-bot> Don’t use XAMPP or WAMP. Use a real dev server on a VM, docker, or WSL2. Install docker and check out https://tecadmin.net/tutorial/docker-php-example
[07:05:18] <trollboy> oh hot damn!
[07:06:15] <trollboy> I wince and and develop a tick whenever someone defends WAMP as a valid environment.
[07:07:30] <noord> Sanden: do you known where the name of apache server come from?
[07:07:41] <trollboy> It's a patchy server.
[07:07:42] *** Quits: Sanden (~Sanden@47-222-22-66.plptcmtk03.res.dyn.suddenlink.net) (Ping timeout: 256 seconds)
[07:09:03] <noord> he couldn't stand the joke
[07:09:22] <trollboy> *she
[07:12:40] *** Joins: pmercado (~pmercado@186.107.37.219)
[07:13:17] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Read error: Connection reset by peer)
[07:13:30] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[07:20:22] *** Quits: goddard (~goddard@user/goddard) (Remote host closed the connection)
[07:20:47] *** Joins: goddard (~goddard@user/goddard)
[07:23:40] *** Quits: phi0x (~phi0x@198.47.46.174) (Quit: Leaving)
[07:24:39] *** Joins: Sanden (~Sanden@47-222-22-66.plptcmtk03.res.dyn.suddenlink.net)
[07:26:48] <Sanden> Could this issue be a misconfiguration of the web to mail server since there's no errors in the error log?
[07:40:04] *** Joins: lehinsun (~ttytwiste@188.113.176.117)
[07:40:52] <trollboy> yeah, I'm still leaning to it not being installed/setup correctly
[07:45:53] <noord> Sanden: you can test your code locally using fakesmtp, smtp4dev or similiar tools
[07:47:26] <Sanden> GoDaddy says I can use my pl script - only it doesn't work? https://ca.godaddy.com/help/send-form-mail-using-an-smtp-relay-server-953
[07:53:09] *** Joins: Rockwood (~Rocky@user/rocky)
[07:53:27] <Sanden> I have been sitting on hold to Go Daddy for about an hour, we'll see if they ever answer...
[07:56:48] <noord> Sanden: if hosting company doesn't restrict usage of external smtp servers, you can find alternatives
[07:57:29] <__adrian> i believe they do
[07:57:42] <__adrian> but not sure, haven't used them in manny years.
[07:58:12] <__adrian> Sanden: keep in mind, if deliverability is actually important, you're going to want to use a decent host (not godaddy) and a third-party mailer (like sendgrid, mailgun, aws, etc.)
[07:58:17] <Blondie101010> that page says it does
[07:58:28] <__adrian> junk shared hosting is never going to have good deliverability
[07:59:37] <Blondie101010> he might as well follow that guide
[07:59:43] *** Joins: mr_gant (~mr_gant@103.192.80.186)
[08:00:00] <__adrian> yeah
[08:00:11] <Sanden> I am not pleased with the way this whole situation has transgressed. Dreamhost does free hosting for charities, and I want to get the site to where they can do their own management with a CMS. I'm not going to be around forever
[08:01:47] <Blondie101010> not sure what you're complaining about, but it might be more relevant (on topic) somewhere else
[08:02:32] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 240 seconds)
[08:02:39] <trollboy> Sanden, wordpress? Do a clean install and teach them to keep up on doing updates.
[08:03:11] <noord> Sanden: you are on this business, sooner or later you want to gain more control over servers, php modules, compilation flags enabling apcu etc.
[08:03:17] <trollboy> I've done that for a number of non-profits, the only work involved is initial install, content migration, and then making it look right
[08:05:36] <Sanden> Trollboy: that was the intent here, gratis fix to make it mobile first, meet accessibility, and visually pleasing. I had no idea that the site would cease to function. They think I broke it just as we need to get applications in for cats in the condos at five different stores.
[08:06:23] <Sanden> noord: I'm actually a nurse, who got sick, then laid off.
[08:06:45] <trollboy> My sister's a zoo vet
[08:06:51] <noord> then be picky about providers
[08:07:04] <Blondie101010> so you're doing this website work for free and getting poor results, so you need to be guided step by step on IRC to get it working minimally?
[08:07:09] <trollboy> noord, it's a non-profit.  Beggars & Choosers.
[08:07:36] <trollboy> Blondie101010, she's asking for help.  It's a mitzvah all around. I'm here for it.
[08:08:12] <Blondie101010> mmm ok
[08:08:29] <Sanden> Blondie: I'm an ace at giving enemas to the impacted. Can I help you?
[08:08:47] <Blondie101010> I'm sure you are
[08:09:11] <trollboy> Blondie101010, my logic is; we all make a living making more internet.  The internet is an advanced system for sharing photos of cats.  Sanden helps cats.  #CircleOfLife
[08:09:13] <__adrian> you know, if i hadn't just seen the "i'm a nurse" bit...
[08:09:35] <noord> trollboy: nothing is non profit
[08:10:15] <noord> soft way to say it is paid by someone else
[08:10:56] <Sanden> noord: Actually, I run at a loss. Priced a bag of renal diet kibble lately? They eat better than I.
[08:10:58] <trollboy> non profit usually meaning; not done for profit. BUT ANYWAY
[08:11:03] <trollboy> Computers
[08:11:25] <Sanden> Yes. I am trying to see about installing the smtp4dev
[08:15:58] <noord> trollboy: profit doesn't have to be cash in the pocket, feeling better also a profit
[08:16:27] <trollboy> ah, altruism merely being the net product of the human pack instinct?
[08:19:30] <noord> trollboy: even growing a child is selfish activity
[08:20:31] <noord> I am not sure, altruism is a real thing
[08:21:42] <trollboy> pack instinct means I'm wired to help, helping causes a flood of serotonin. Serotonin makes you feel good.  We're junkies born hooked on helping those around us.
[08:22:31] *** Quits: guenhael (~Thunderbi@aaubervilliers-652-1-290-168.w82-121.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[08:23:46] <noord> it seems addiction of serotonin
[08:24:34] <trollboy> You don't like feeling good?  Consider how much focus we have on happiness.
[08:25:54] *** Joins: vit (~vit@chello085216193138.chello.sk)
[08:26:01] <Rockwood> __adrian, hi how are you sir?
[08:34:34] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[08:36:08] *** Quits: mr_gant (~mr_gant@103.192.80.186) (Ping timeout: 268 seconds)
[08:50:42] *** Joins: mr_gant (~mr_gant@203-206-182-122.perm.iinet.net.au)
[09:03:44] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Read error: Connection reset by peer)
[09:03:58] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[09:15:00] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[09:40:04] *** Joins: pulse (~pulse@user/pulse)
[09:40:47] *** Joins: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[09:42:40] *** Joins: onichomp (~onichomp@2806:264:4404:8016:a4a9:322e:7be9:1449)
[09:44:35] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 268 seconds)
[09:45:53] *** Quits: onichomp (~onichomp@2806:264:4404:8016:a4a9:322e:7be9:1449) (Read error: Connection reset by peer)
[09:46:31] *** Joins: onichomp (~onichomp@2806:264:4404:8016:a4a9:322e:7be9:1449)
[09:48:03] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[09:56:13] *** Joins: guido (~guido@host-79-36-250-156.retail.telecomitalia.it)
[10:09:23] *** Quits: __adrian (~adrian@user/adrian/x-7832151) (Ping timeout: 264 seconds)
[10:22:07] *** Quits: Sanden (~Sanden@47-222-22-66.plptcmtk03.res.dyn.suddenlink.net) (Quit: Client closed)
[10:48:51] *** Quits: mr_gant (~mr_gant@203-206-182-122.perm.iinet.net.au) (Remote host closed the connection)
[10:50:17] *** Joins: hh (~g@37.214.42.244)
[10:50:42] *** hh is now known as genom
[10:51:47] *** Quits: guido (~guido@host-79-36-250-156.retail.telecomitalia.it) (Quit: WeeChat 3.3)
[10:54:28] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Remote host closed the connection)
[10:54:41] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[10:57:59] *** Joins: guido (~guido@host-79-36-250-156.retail.telecomitalia.it)
[11:13:58] *** night_wulfe_ is now known as night_wulfe
[11:15:21] *** Quits: pmercado (~pmercado@186.107.37.219) (Ping timeout: 256 seconds)
[11:32:09] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Quit: Leaving.)
[11:37:10] *** Parts: jaggz (~jaggz@user/jaggz) (Leaving)
[12:11:21] *** Joins: luigibu (~luigibu@80.30.201.209)
[12:19:22] *** Quits: luigibu (~luigibu@80.30.201.209) (Ping timeout: 268 seconds)
[12:22:32] *** Quits: ialokin (znc@user/ialokin) (Ping timeout: 240 seconds)
[12:25:09] *** Joins: ialokin (znc@user/ialokin)
[12:31:33] *** Joins: ms49434 (~ms49434@user/ms49434)
[12:36:39] *** Joins: LucaTM (~LucaTM@user/lucatm)
[12:41:06] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[12:43:35] *** Quits: entropy_ (~ent@user/entropy/x-9891564) (Read error: Connection reset by peer)
[12:43:56] *** Joins: entropy_ (~ent@user/entropy/x-9891564)
[12:45:11] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Remote host closed the connection)
[12:45:25] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[13:30:05] *** Quits: justache (~justache@user/justache) (Read error: Connection reset by peer)
[13:30:33] *** Joins: justache (~justache@user/justache)
[13:36:07] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[13:36:25] *** Quits: stenno\OK (~stenno@user/stenno) (Ping timeout: 265 seconds)
[13:36:27] *** Quits: onichomp (~onichomp@2806:264:4404:8016:a4a9:322e:7be9:1449) (Ping timeout: 268 seconds)
[13:37:35] *** Quits: mujo (~ioh@c-73-25-160-104.hsd1.or.comcast.net) (Ping timeout: 256 seconds)
[13:38:45] *** Quits: joachimo (~joachimo@cloud02.joachimopdenakker.be) (Quit: The Lounge - https://thelounge.chat)
[13:39:10] *** Joins: magla (~gelignite@55d4124a.access.ecotel.net)
[13:52:52] *** Joins: stenno\OK (~stenno@user/stenno)
[13:59:17] *** Joins: jetchisel (jetchisel@user/jetchisel)
[14:01:30] *** Joins: vlm (~vlm@user/vlm)
[14:20:01] *** Quits: magla (~gelignite@55d4124a.access.ecotel.net) (Read error: Connection reset by peer)
[14:20:41] *** Joins: magla (~gelignite@55d4124a.access.ecotel.net)
[14:27:58] *** Quits: AsenMx (~AsenMx@user/asenmx) (Ping timeout: 265 seconds)
[14:28:16] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[14:28:31] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[14:29:43] *** Joins: AsenMx (~AsenMx@user/asenmx)
[14:31:02] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Client Quit)
[14:31:25] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[14:35:52] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Read error: Connection reset by peer)
[14:36:05] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[14:36:09] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Client Quit)
[14:36:24] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[14:47:25] *** Joins: semeion (~semeion@user/semeion)
[14:47:49] *** Quits: stenno\OK (~stenno@user/stenno) (Quit: WeeChat 3.2)
[14:47:58] *** Joins: stenno (~stenno@user/stenno)
[14:49:45] *** Quits: scara (~user@user/scara) (Ping timeout: 276 seconds)
[14:54:36] *** Joins: scara (~user@user/scara)
[15:03:46] *** Quits: guido (~guido@host-79-36-250-156.retail.telecomitalia.it) (Read error: Connection reset by peer)
[15:04:10] *** Joins: put_in (~put_somew@123.20.213.95)
[15:14:40] *** Quits: noord (~noord@user/noord) (Quit: WeeChat 3.3)
[15:17:00] *** Joins: mr_gant (~mr_gant@144.48.37.133)
[15:25:14] *** Quits: mr_gant (~mr_gant@144.48.37.133) (Ping timeout: 260 seconds)
[15:36:04] *** Joins: Ducki (~ducki@user/ducki)
[15:37:15] *** Quits: Ducki_ (~ducki@user/ducki) (Ping timeout: 265 seconds)
[15:38:18] *** Joins: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd)
[15:40:11] *** Joins: mr_gant (~mr_gant@203-206-182-122.perm.iinet.net.au)
[15:47:39] *** Joins: guenhael (~Thunderbi@aaubervilliers-652-1-290-168.w82-121.abo.wanadoo.fr)
[15:52:08] *** Quits: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd) (Ping timeout: 268 seconds)
[16:13:16] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[16:25:58] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Remote host closed the connection)
[16:26:12] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[16:35:37] *** Joins: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd)
[16:37:24] *** semeion is now known as mnemonic
[16:42:02] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[16:44:31] *** Joins: joachimo (~joachimo@cloud02.joachimopdenakker.be)
[16:46:30] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Ping timeout: 260 seconds)
[16:46:51] *** Quits: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd) (Read error: Connection reset by peer)
[16:47:28] *** Joins: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd)
[16:54:38] *** Quits: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd) (Read error: Connection reset by peer)
[16:55:49] *** Quits: goddard (~goddard@user/goddard) (Quit: WeeChat 3.3)
[16:55:49] *** Joins: guido (~guido@host-79-36-250-156.retail.telecomitalia.it)
[16:57:27] *** Joins: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd)
[16:57:47] *** Quits: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd) (Read error: Connection reset by peer)
[16:58:23] *** Joins: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd)
[16:59:12] *** Quits: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd) (Read error: Connection reset by peer)
[17:00:40] *** Joins: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd)
[17:02:03] *** Quits: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd) (Read error: Connection reset by peer)
[17:03:14] *** Joins: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd)
[17:12:14] *** Quits: bytestream (~bytestrea@user/bytestream) (Remote host closed the connection)
[17:15:57] *** Joins: Sanden (~Sanden@47-222-22-66.plptcmtk03.res.dyn.suddenlink.net)
[17:21:11] *** Joins: pmercado (~pmercado@186.107.37.219)
[17:27:33] *** Quits: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd) (Read error: Connection reset by peer)
[17:28:10] *** Joins: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd)
[17:30:52] *** Quits: onichomp (~onichomp@2806:264:4404:8138:2802:ac93:80ad:bacd) (Read error: Connection reset by peer)
[17:36:21] *** Joins: deksar (~deksar@user/deksar)
[17:37:00] *** Quits: mnemonic (~semeion@user/semeion) (Quit: WeeChat 3.3)
[17:54:41] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 250 seconds)
[18:16:31] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Read error: Connection reset by peer)
[18:16:44] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[18:18:14] *** Joins: ferdna (~ferdna@user/ferdna)
[18:18:32] *** Quits: Colt (~Colt@user/colt) (Quit: Leaving)
[18:41:33] *** Quits: scara (~user@user/scara) (Remote host closed the connection)
[18:52:26] *** Joins: keypusher (keypusher@user/keypusher)
[18:57:13] *** Joins: aton` (~aton@user/aton/x-6257474)
[18:59:27] *** Quits: genom (~g@37.214.42.244) (Ping timeout: 256 seconds)
[19:07:08] *** Quits: guido (~guido@host-79-36-250-156.retail.telecomitalia.it) (Read error: Connection reset by peer)
[19:21:18] *** Joins: __adrian (~adrian@user/adrian/x-7832151)
[19:25:51] *** ChanServ sets mode: +o __adrian
[19:26:00] *** __adrian changes topic to 'Stable PHP versions: 8.0.13, 7.4.26, 7.3.33 · /msg php-bot guidelines · Be respectful at all times & keep your language clean · Use a paste site for code · http://hashphp.org has some useful links · caffinated was one of the original members of freenode/##PHP. RIP, Ben.'
[19:26:05] *** ChanServ sets mode: -o __adrian
[19:39:07] *** Joins: chazy (~chazy@126.pool85-53-200.dynamic.orange.es)
[19:41:32] *** Quits: pmercado (~pmercado@186.107.37.219) (Ping timeout: 240 seconds)
[19:41:52] <chazy> hi, i need to change a condition from a production webapp, but i'm currently rusty af, can someone please help me figure out the new condition?
[19:43:35] <chazy> the condition only checks wether a user has made a purchase or not, and if they did it redirects them to their purchase history page, but i want to add a new condition that allows people to make one additional purchase today even if they did in the past, but users without any purchase still can only make one today
[19:43:37] <chazy> https://gist.github.com/ChazyTheBest/e231c349475b100902453739f95cbec6
[19:44:52] *** Joins: TurtleD3v (~Turtl3D3v@user/turtled3v)
[19:45:38] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[19:45:56] <chazy> if user has 1 or more purchases or user has 1 or more purchases today?
[19:46:20] <chazy> would that be correct?
[19:46:25] <__adrian> hint: those are the same condition
[19:46:37] <__adrian> just in one case, you don't care which day it was
[19:47:29] <__adrian> sounds like "one purchase today."
[19:48:08] <chazy> yeah, looks like i only need to check once for today
[19:48:57] <chazy> should i just chain it then?
[19:49:29] <__adrian> you should un-chain it
[19:49:29] <Blondie101010> everything depends on how Tokenpayment is defined
[19:50:11] <__adrian> there's now only one condition
[19:50:27] <chazy> Tokenpayment::where('user_id', Auth::user()->id)->whereDay('created_at', now()->day)->count() >= 1
[19:51:02] <Blondie101010> if that is needed, I get the impression that the current code may not do what you expected
[19:51:54] <__adrian> mmmmm yeah
[19:52:11] <__adrian> also just  ... > 0
[19:54:28] <chazy> right, not my code, still i could've changed it already :P
[19:57:16] <__adrian> ...if you can't change it i'm not sure what we're talking about then
[19:58:11] <Blondie101010> chazy: your chained solution could possibly do what you want...  did you try it?
[19:59:49] <chazy> __adrian: i meant i could've change to your suggestion but i just didn't bother before asking
[20:00:17] <chazy> i was more concerned about it working as expected
[20:00:22] <Blondie101010> that sounds like you're not planning to test it
[20:00:26] <Blondie101010> you need to
[20:00:29] <chazy> i am about to
[20:05:31] <__adrian> yeah, that's a testing issue
[20:07:01] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Remote host closed the connection)
[20:07:14] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[20:30:09] *** Quits: relipse (sid16131@tinside.irccloud.com) (Remote host closed the connection)
[20:30:10] *** Quits: petris (sid19918@user/petris) (Remote host closed the connection)
[20:48:40] *** Quits: NiKaN (sid385034@helmsley.irccloud.com) (Ping timeout: 250 seconds)
[20:49:20] *** Quits: paladox (sid373195@wikimedia/paladox) (Ping timeout: 260 seconds)
[20:49:57] *** Quits: celphi (sid97751@user/celphi) (Ping timeout: 250 seconds)
[20:52:08] *** Quits: sharpertool (sid80151@hampstead.irccloud.com) (Ping timeout: 260 seconds)
[20:52:34] *** Quits: ramsey (sid508214@phpc/ramsey) (Ping timeout: 250 seconds)
[20:52:36] *** Quits: DrowningElysium (sid190788@user/drowningelysium) (Ping timeout: 260 seconds)
[20:53:00] *** Quits: KnownSyntax (sid233169@user/knownsyntax) (Ping timeout: 250 seconds)
[20:53:11] *** Quits: genomc (uid245282@hampstead.irccloud.com) (Ping timeout: 264 seconds)
[20:54:28] *** Quits: Beryllium (sid186414@lymington.irccloud.com) (Ping timeout: 260 seconds)
[20:55:53] *** Quits: TimWolla (~timwolla@2a01:4f8:150:6153:beef::6667) (Quit: Bye)
[21:00:46] *** Joins: TimWolla (~timwolla@2a01:4f8:150:6153:beef::6667)
[21:05:00] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[21:11:54] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[21:12:31] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[21:26:15] *** Joins: rdbeni0 (~rdbeni0@public-gprs375585.centertel.pl)
[21:28:41] <rdbeni0> hi all, what are the latest standards for PHPdoc? PSR-5?
[21:38:35] *** Quits: Sanden (~Sanden@47-222-22-66.plptcmtk03.res.dyn.suddenlink.net) (Quit: Client closed)
[21:39:19] <novns> rdbeni0, the standard way for PHP is to avoid writing any documentation
[21:46:48] <__adrian> i don't believe psr-5 is published
[21:47:10] <rdbeni0> ah
[21:47:11] <rdbeni0> right
[21:47:12] <__adrian> if you're using phpdoc, you should be looking at phpdoc docs, not at PSRs.
[21:47:30] <__adrian> https://docs.phpdoc.org/3.0/
[21:47:42] <rdbeni0> https://github.com/php-fig/fig-standards/tree/master/proposed we have PHPdoc in "proposed"
[21:48:20] <novns> you should invent your own documentation tools and standard
[21:48:22] <__adrian> yeah, though it hasn't moved in ages. also i'm not sure what the point of making it a PSR would be.
[21:57:37] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Read error: Connection reset by peer)
[21:57:50] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[21:58:30] *** Joins: Rockwood (~Rocky@user/rocky)
[22:02:02] <rdbeni0> so in summary we have "unofficial" standard PHPdoc with "unofficial" tool phpdocumentator and PSR "proposed" which should be compatible with them. And mainstream standard of it is somewhere in the middle
[22:06:23] *** Quits: stutz (~stutz@user/stutz) (Ping timeout: 264 seconds)
[22:06:55] <Rockwood> what is your real question?
[22:09:22] <rdbeni0> i would like to learn latest standards od 2021 (and good practices) about docs
[22:09:25] <AllenJB> rdbeni0: You've missed all the additional phpdoc syntax that other tools (PHPStorm, static analyzers) have added to their own interpretation
[22:09:29] <rdbeni0> s/od/of
[22:10:02] <AllenJB> TLDR: There is no single standard for PHPDoc - consult the documentation for the tool(s) you're using
[22:11:45] *** Joins: omegatron (~some@p5484903d.dip0.t-ipconnect.de)
[22:13:37] <novns> rdbeni0, without any jokes, the real standard is to avoid using PHP
[22:14:39] <rdbeni0> tell it to my project manager. and without jokes i like some parts of PHP (namespaces for example) :D
[22:14:45] *** Quits: CyberCr33p (~chris@bnc.cretaforce.gr) (Read error: Connection reset by peer)
[22:15:10] <novns> invite him here
[22:21:01] <Rockwood> o/
[22:21:07] <Rockwood> AllenJB, o/
[22:21:32] <Rockwood> novns, we are not jokers here
[22:21:33] <Blondie101010> your company should have its own set of policies, which may or may not follow other recommendations
[22:22:02] <Blondie101010> so if you have a problem with norms and policies to follow, you need to solve it there
[22:22:11] <novns> your company should have common sense
[22:23:56] <novns> PHP is known for hiding vulnerabilities without fixing them for years
[22:24:12] <novns> remember the MOPB story
[22:27:50] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[22:28:05] *** Joins: celphi (sid97751@user/celphi)
[22:29:15] *** Joins: Rockwood_ (~Rocky@user/rocky)
[22:30:30] *** Joins: ramblebamble (~ramblebam@138.199.55.39)
[22:30:59] <AllenJB> 2007 was a long time ago. And some of the issues they complained about were issues with userland code - stack exhaustion for example
[22:31:36] *** Joins: paladox (sid373195@wikimedia/paladox)
[22:31:38] *** Quits: Rockwood (~Rocky@user/rocky) (Ping timeout: 246 seconds)
[22:31:39] <novns> https://web.archive.org/web/20120920011020/http://php-security.org/MOPB/index.html
[22:31:42] <Rockwood_> AllenJB, life having no result any where
[22:31:47] *** Joins: NiKaN (sid385034@id-385034.helmsley.irccloud.com)
[22:31:53] <novns> AllenJB, long time ago but still the same
[22:33:03] <Rockwood_> novns, you can't service  to hari jananes
[22:33:06] <Rockwood_> gn
[22:33:09] <Rockwood_> cya
[22:33:10] <Blondie101010> so you complain that the team decided to do the big task of fixing security issues and they did?
[22:33:35] <novns> Blondie101010, they are often hide issues, and delay fixing for years
[22:34:13] <Blondie101010> can you show me one or a few that have happened in the last few years?
[22:34:24] <novns> Blondie101010, MOPB was done by one frustrated developer who just started disclosing hidden vulnerabilities daily
[22:34:31] <Blondie101010> security bug reports are really prioritized
[22:34:51] <novns> yes, prioritized, hidden and never fixed
[22:35:01] *** Joins: sharpertool (sid80151@id-80151.hampstead.irccloud.com)
[22:35:02] <novns> until someone disclose it
[22:35:03] <Blondie101010> what you're describing is a moron who doesn't report issues properly
[22:35:06] <biberu> example?
[22:35:15] <novns> biberu, the whole MOPB list
[22:35:30] <biberu> recent example
[22:36:26] <novns> https://www.cvedetails.com/cve/CVE-2019-11043/
[22:36:31] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[22:37:00] *** Joins: petris (sid19918@user/petris)
[22:37:18] *** Joins: KnownSyntax (sid233169@user/knownsyntax)
[22:37:40] <biberu> ok, and how has this been hidden?
[22:37:56] *** Quits: Rockwood_ (~Rocky@user/rocky) (Ping timeout: 246 seconds)
[22:39:31] <novns> it was reported, and wasn't fixed for a long time, and then it was disclosed by frustrated people
[22:39:43] <novns> and only then it was fixed urgently
[22:40:35] *** Joins: ramsey (sid508214@phpc/ramsey)
[22:41:00] <Blondie101010> novns:  please share the php bug report
[22:41:27] *** Joins: DrowningElysium (sid190788@user/drowningelysium)
[22:41:39] *** Joins: relipse (sid16131@id-16131.tinside.irccloud.com)
[22:41:48] <novns> Blondie101010, you cannot see security bug reports, they are hidden
[22:41:50] *** Joins: genomc (uid245282@id-245282.hampstead.irccloud.com)
[22:42:14] *** Joins: Beryllium (sid186414@id-186414.lymington.irccloud.com)
[22:42:24] <novns> and it's ok when security bugs are fixed
[22:43:03] <Blondie101010> how do you know how and when the security issue was reported properly to the php team if that information is hidden?
[22:44:08] <novns> stories from people who find those bugs, the whole MOPB story, the bad reputation
[22:44:25] <biberu> I guess it's this one? https://bugs.php.net/bug.php?id=78599
[22:44:49] <biberu> and the fix should be e.g. here for 7.1: https://prototype.php.net/versions/7.1.33/
[22:45:42] <Blondie101010> why does it say "The original report has been hidden, due to the SPAM status"?
[22:46:22] <Blondie101010> so one month later it seems
[22:46:36] <biberu> no idea, but either way it was fixed within a month
[22:46:50] <Blondie101010> it would be nice to see the report
[22:47:02] <biberu> not sure if that warrants the harsh tone?
[22:47:24] <Blondie101010> a month to solve a security issue is very good
[22:47:51] <Blondie101010> 0days things refer to bugs reported many months before
[22:47:56] <Blondie101010> *usually
[22:48:57] *** Quits: guenhael (~Thunderbi@aaubervilliers-652-1-290-168.w82-121.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[22:49:28] <novns> MOPB bugs were reported and were not fixed for years
[22:50:11] <Blondie101010> ok
[22:50:18] <novns> and the PHP security team was told to avoid fixing them
[22:50:29] <da_wunder> source for that?
[22:50:29] <Blondie101010> what brings you here if you dislike PHP so much?
[22:51:13] <novns> da_wunder, MOPB site and story from Stefan Esser, who was in the security team
[22:51:14] <da_wunder> that is quite statement - so I would like to see some hard evidence about that
[22:51:27] <da_wunder> so paste a link to that then...
[22:51:29] <Blondie101010> me too
[22:51:35] <novns> da_wunder, it was a loud story them
[22:51:36] <biberu> same
[22:52:03] <novns> Stefan Esser announced that he will disclose one security bug per day
[22:52:09] <da_wunder> novns: so provide that link to that - should be easy - right?
[22:52:10] <novns> and he did for a month
[22:52:26] <novns> https://web.archive.org/web/20120920011020/http://php-security.org/MOPB/index.html
[22:52:51] <novns> da_wunder, there, and there were discussions on slashdot and elsewhere
[22:53:18] <da_wunder> novns: I mean direct link to your comment - "21:20 < novns> and the PHP security team was told to avoid fixing them"
[22:53:42] <novns> da_wunder, it was told by Stefan Esser who was part of the security team
[22:53:53] <novns> and who was frustrated by delaying
[22:53:54] <da_wunder> so provide that link to that...
[22:56:12] <novns> https://web.archive.org/web/20070202212011/http://blog.php-security.org/archives/61-Retired-from-securityphp.net.html
[22:57:39] <novns> it's hard to find those discussions on slashdot
[22:57:46] <biberu> novns: that page says they didn't even notify the php team of all the bugs before disclosing them publicly
[22:57:58] *** Quits: ramblebamble (~ramblebam@138.199.55.39) (Quit: WeeChat 3.3)
[22:58:00] <novns> biberu, he was the part of the team
[22:58:28] <biberu> Does the PHP Security Response Team know about these issues?
[22:58:28] <biberu> They got prior notification for many but not all of the bugs.
[22:59:01] <biberu> that's a weird thing to do
[22:59:22] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 260 seconds)
[22:59:42] <da_wunder> and that is like 15 years ago... things have (most likely) changed after that
[22:59:54] <novns> biberu, a weird thing is to hide security reports for saving your face
[23:00:02] <novns> da_wunder, nope, it's still the same
[23:00:27] <biberu> i don't know, i get the feeling there's an emotional backstory here
[23:00:43] <novns> it doesn't matter
[23:01:06] <da_wunder> usually those security related issues are not published until there is some fix for that - otherwise that will open new window to attackers
[23:01:30] <novns> da_wunder, yes, but there's a fair time for fixing them
[23:01:39] *** Joins: jetchisel (jetchisel@user/jetchisel)
[23:02:02] *** Joins: niekniek (~niekniek@30-22-146-85.ftth.glasoperator.nl)
[23:02:06] <novns> because if one good person have found and reported something, another bad person can find it too
[23:02:11] *** Parts: rdbeni0 (~rdbeni0@public-gprs375585.centertel.pl) ()
[23:02:30] <da_wunder> and why those security issues aren't getting fixed? there might be plenty of reasons, no one has time, there is some internal talking about those, issue is "not so valid", etc.
[23:02:49] <novns> da_wunder, for saving Zend's reputation
[23:03:45] <da_wunder> and really if that one good person found something like that, and he/she discovers that there isn't fix for that, then he/she could create a PR to fix that
[23:04:25] <Blondie101010> please stop this discussion
[23:04:40] <novns> da_wunder, patches were ready fir MOPB bugs, but were not accepted because it would damage the reputation
[23:04:41] <Blondie101010> this channel is to help people write and troubleshoot their PHP code
[23:04:48] <novns> *for
[23:04:59] <da_wunder> and source for that?
[23:05:00] <Blondie101010> novns:  if you want to bash PHP, do it elsewhere
[23:05:09] <niekniek> hey, what if have a php page that adds data over time and I want to fetch some data when there is some using javascript?
[23:05:42] *** Quits: shailangsa (~shailangs@host86-185-98-19.range86-185.btcentralplus.com) (Remote host closed the connection)
[23:05:44] <Blondie101010> niekniek:  you'll need to clarify what you're doing and you're question
[23:06:12] <niekniek> now I have a form that submits the data with a new page the normal way, but I would like to have the output in a div
[23:06:31] <__adrian> novns, if you and da_wunder (and anyone else) wants to continue that conversation, please take it to another channel. this channel is for code help.
[23:06:40] <novns> ok
[23:07:05] <__adrian> niekniek: sounds like you're just asking about ajax...? or fetch, if you don't like living in the past
[23:07:12] <da_wunder> niekniek: then it sounds like you need to make ajax query and then update your div contents according to that ajax query response
[23:07:22] <__adrian> https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API  https://developer.mozilla.org/en-US/docs/Web/Guide/AJAX
[23:07:24] <biberu> or just reload the page?
[23:07:31] <da_wunder> ^
[23:08:02] <niekniek> I know about fetch.  I mean this page I call first shows some results and five seconds later more results, I want show both in my div when they are available.
[23:08:17] <niekniek> Or can I keep some kind of open link with fetch
[23:08:22] <biberu> maybe a simple meta directive to reload after a given time is enough for your use case?
[23:08:28] <Blondie101010> so the answer is in JS, not PHP
[23:08:28] <__adrian> by "when available" do you mean you want the info pushed rather than polling?
[23:08:48] <niekniek> biberu: I don't want a reload
[23:09:12] <Blondie101010> niekniek:  is it like you want a div showing the previous output and another one showing the new one?
[23:09:14] <niekniek> __adrian: both are fine
[23:09:26] <da_wunder> ok, then it's basically state management on your frontend (browser) side
[23:09:34] <Blondie101010> JS
[23:09:57] <biberu> (note that you don't have to write js manually)
[23:10:16] <Blondie101010> you can also type it with your nose
[23:10:38] <niekniek> This php script of mine logs into a network device. Then checks some stuff. Then adds some stuff. Then checks if the creation is succesfull. This takes many seconds, so I show a spinner
[23:10:54] <niekniek> And I use ob_flush to make the browser show the things
[23:11:14] <Blondie101010> ok, so a long running request
[23:11:34] <niekniek> I use a form to start the whole process
[23:11:40] <Blondie101010> or do you use AJAX to get status updates?
[23:11:50] <Blondie101010> is it only one request?
[23:11:52] <biberu> niekniek: that would be better to do over e.g. a series of short requests
[23:12:22] <Blondie101010> depending on the task run in the background, a job queue might be more suitable
[23:12:40] <Blondie101010> then all the front end does is start the job and periodically check the status with fetch
[23:13:22] <biberu> niekniek: http is like sending letters back and forth, you wouldn't attempt to send a letter before you finished writing it, that'll invite complications
[23:14:04] <niekniek> Blondie101010: a bunch of curl commands basically
[23:14:17] <biberu> hmm, maybe people don't write letters anymore 🤔
[23:14:37] <Blondie101010> niekniek:  your description makes it sound like it's already working, right?
[23:15:46] <Blondie101010> if I get you right, you're doing a single page request and seeing the output show up progressively, but you want to see it along something else?
[23:16:07] <niekniek> Blondie101010: yeah it works, with that submit
[23:16:42] <Blondie101010> I think what you want is how to do the same in JS
[23:16:59] <Blondie101010> I've never tried to do that with fetch, but I did with Ajax and it worked perfectly
[23:17:30] <Blondie101010> you just need to put your trigger earlier and append
[23:17:53] <Blondie101010> but again it is a Javascript question
[23:18:03] <niekniek> Blondie101010: trigger? append? ok... hmm
[23:19:39] <Blondie101010> websockets would probably be more suitable, but it's also more work to implement
[23:20:05] <Blondie101010> I loved my long running Ajax
[23:20:23] <Blondie101010> it did what you want
[23:20:26] <biberu> niekniek: how many users are you expecting?
[23:20:46] <niekniek> Blondie101010: hmm ok, I will have a look at that
[23:20:54] <niekniek> biberu: not that many, why?
[23:21:10] *** Joins: CyberCr33p (~chris@bnc.cretaforce.gr)
[23:21:25] <Blondie101010> he's wondering about the design
[23:21:44] <biberu> niekniek: if your sever is busy waiting with long running requests it might not be able to serve others, and fail
[23:21:50] <Blondie101010> in either case, make sure the access is well controlled and rate limited
[23:22:06] <niekniek> ah like that, it's not for the internet
[23:22:18] <Blondie101010> even so, you have to rate limit it
[23:22:33] <da_wunder> still that could happen
[23:22:44] <Blondie101010> people can cause issues unintentionally
[23:22:54] <biberu> niekniek: what if someone just f5's a bit?
[23:22:54] <niekniek> ok, I'll think about that
[23:23:07] <biberu> -> server ded?
[23:23:34] <niekniek> Then his application deployment will fail, he won't do that. It's actually deploying on a F5 :)
[23:23:51] <biberu> deploying?
[23:23:56] <da_wunder> wut
[23:24:12] <niekniek> yeah, that's what this php scripts is actually doing ;) google f5 plz :)
[23:26:26] <Blondie101010> not so easy without context
[23:26:33] <Blondie101010> he's talking about the load balancers
[23:26:51] <niekniek> hehe yeah
[23:26:53] <biberu> niekniek: you know that a new request won't stop processing of a previous request?
[23:27:11] <da_wunder> ^
[23:27:39] <Blondie101010> that depends on two major things: a) the webserver config; b) the session locking, which can be overcome by closing it intentionally
[23:28:05] <biberu> a user might, accidentally or not, overload you quite easily like that, and depending on what "deploy" means it sounds like it could introduce bugs there too
[23:28:15] <Blondie101010> if your process doesn't need to update the session anymore, you close it
[23:28:31] <Blondie101010> I definitely agree with biberu
[23:28:40] <niekniek> Why would this cause a problem? If someone presses F5 during the deployment they have to do more stuff to see if it worked, so they won't do it. If they will, the form would show up again
[23:29:25] <Blondie101010> niekniek:  a refresh may prompt to resubmit like they'd expect
[23:29:52] <Blondie101010> and in any case, doing the deployment live implies that the client connection closing could lead to issues
[23:29:57] <Blondie101010> that is really BAD
[23:30:10] <Blondie101010> it WILL happen
[23:30:35] <Blondie101010> the only question is "when?"
[23:31:11] <Blondie101010> a job queue would solve that
[23:31:39] <niekniek> ok, I'll google that... maybe that'll solve my output stuff as well
[23:32:13] <niekniek> execution must be serial though...
[23:32:16] <niekniek> login to get token
[23:32:21] <niekniek> check if app exists
[23:32:29] <niekniek> check some more
[23:32:32] <niekniek> if ok then create
[23:32:37] <niekniek> check if creation is done
[23:33:50] <Blondie101010> the job queue won't solve your output in itself
[23:34:19] <Blondie101010> it would typically just send you the result at the end, but you could have the job itself send updates to a DB for example
[23:34:54] <Blondie101010> unless the task is really long to run, I wouldn't bother with minute updates
[23:35:48] <Blondie101010> simply showing the status should be enough
[23:37:32] <Blondie101010> that would not prevent the job itself from doing its own logging as it should
[23:48:01] *** Quits: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net) (Read error: Connection reset by peer)
[23:48:14] *** Joins: puff (~user@S0106d4ca6d80a83c.vs.shawcable.net)
[23:49:08] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[23:53:52] *** Joins: ferdna (~ferdna@user/ferdna)
[23:57:17] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:bdf0:a100:c1b5:c8aa)
[23:57:26] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
