[00:01:29] <dag> thank you so much for help. using ajax to refresh the session is neat
[00:07:54] <MrBurns> My hosting service is blocking most of outgoing custom ports but I need to query my remote sql database. What are my options? mysql_connect is blocked and Net_SSH2 is open only on default 22 and I wont open any default ports..
[00:08:44] *** Joins: skyfaller (~skyfaller@pool-108-52-124-2.phlapa.fios.verizon.net)
[00:08:53] <Sammitch> it's important to note that PHP's default session handle is not the defacto definition or implementation of sessions, and your expectations/requirements may not match what is actually implemented.
[00:10:43] <Sammitch> use a host that meets your requirements and/or remember that running things on non-standard ports/security by obscurity does not add any _actual_ security to your services
[00:11:01] <Sammitch> usually it just causes... this exact problem.
[00:13:03] <skyfaller> hey folks, is there any way to trim whitespace between PHP codeblocks e.g. in a Wordpress theme? Static site generators like Hugo have whitespace trimming built into their templating language: https://gohugo.io/templates/introduction/#whitespace
[00:15:22] *** Quits: guidoc (~guido@host-80-182-126-30.retail.telecomitalia.it) (Ping timeout: 265 seconds)
[00:17:07] *** Joins: guidoc (~guido@host-79-42-253-63.retail.telecomitalia.it)
[00:25:07] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 252 seconds)
[00:30:27] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[00:43:38] *** Quits: magla (~gelignite@55d4261d.access.ecotel.net) (Quit: Stay safe!)
[00:48:43] <CoJaBo> MrBurns: ..mysql_connect? what year is it lol
[00:52:05] <AllenJB> skyfaller: There's nothing like that in "pure PHP" templates, which IIRC is what WordPress uses. The closest you can get is to remove whitespace between your HTML and <?php ?> tags
[00:53:10] *** Joins: brentaarnold_ (~brentaarn@24.112.92.157)
[00:53:20] *** Quits: brentaarnold (~brentaarn@24.112.92.157) (Ping timeout: 268 seconds)
[00:53:40] *** brentaarnold_ is now known as brentaarnold
[00:55:58] *** Quits: serilian (~Test@2a02-a453-4c64-1-152-4f88-2436-61f7.fixed6.kpn.net) (Quit: Konversation terminated!)
[00:56:54] <da_wunder> skyfaller: and really does that "really" matter? - the size of response should not be so much bigger - specially after you gzip that
[00:57:00] <skyfaller> ok, that's what I thought, thanks :/ I guess it comes down to a choice: make PHP source files readable, at the price of HTML being unreadable and slightly larger in file size, or sacrifice the readability of the PHP source files to make the HTML smaller and more readable
[00:58:47] <da_wunder> I would still ask what is the "real problem" there? if size, please tell us what is the size that is not allowed and what you have currently
[00:59:22] <da_wunder> + remember that most of the spa sites are loading literally megabytes of stuff - and that is not a problem
[00:59:41] <CoJaBo> Ugh, wordpress
[01:00:08] *** Quits: guidoc (~guido@host-79-42-253-63.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[01:00:09] <CoJaBo> ATM I'm trying to find a security vuln that's, amazingly, not in a Wordpress site or plugin
[01:00:22] <skyfaller> I mean, the problem is that my HTML looks ugly, and I'd like to optimize my file size.
[01:01:38] <da_wunder> skyfaller: really who cares what html looks? - you just use your browser dev tools to inspect that source - and that will format that for you automatically
[01:01:43] <skyfaller> I recognize that e.g. embeds can ruin any attempt to clean up my code, but it seems to me that one way around that would be to not embed crap on your site :)
[01:01:46] *** Quits: brentaarnold (~brentaarn@24.112.92.157) (Ping timeout: 260 seconds)
[01:02:09] <da_wunder> skyfaller: so I would really say that you're trying to do something that doesn't have real value at all
[01:02:13] <skyfaller> I'm old-fashioned I guess, I like a good old "view source"
[01:02:23] <AllenJB> skyfaller: Are you actually trying to solve a real problem that you or your users are experiencing with this "optimization", or is it premature?
[01:02:25] <CoJaBo> Attacker is able to write files and insert stuff into the DB, but can't find any of the usual suspects that could allow that
[01:03:03] <da_wunder> skyfaller: and if you want to optimize your html code - that won't be readable at all
[01:03:34] <da_wunder> skyfaller: literally that would be just one line in your "view source" view
[01:04:23] <CoJaBo> Error log suggests they're calling eval() somewhere, but there's no calls to eval()
[01:04:28] *** Quits: locsmif (~none@user/locsmif) (Quit: leaving)
[01:04:52] <skyfaller> I want my site to be smaller and more readable. It's ok if you don't agree with that goal. But if I compare e.g. my Hugo websites to my Wordpress websites, it doesn't look very good. The Hugo websites are much smaller, faster, and the code looks better
[01:05:12] <da_wunder> CoJaBo: then the attacter is giving that `eval()` as an input and your application is just running that
[01:06:25] <skyfaller> the real problem is the bloated nature of the modern web, and I'd like my websites to move away from that: https://idlewords.com/talks/website_obesity.htm
[01:06:28] <da_wunder> skyfaller: really just use your browser devtools for that nicer look and not "view source" - with that you can optimize the size of your site request, which will give you faster responses and so on
[01:07:57] <CoJaBo> da_wunder: Yeh, but there's no obvious place that would be happening.
[01:08:25] <da_wunder> skyfaller: so if you're using Chrome just hit F12 (I think that other browsers use the same shortcut) - and just open elements / inspector tab and see how nicely that is formatted
[01:08:29] <skyfaller> da_wunder: ok, point your browser devtools at the demo page for my wip Hugo theme and find a Wordpress site that measures up: https://www.maximumethics.dev/
[01:08:36] <CoJaBo> Most post-mortems I get, the coder wrote some embarassingly obvious security hole. This is something more subtle :/
[01:08:42] *** Joins: brentaarnold (~brentaarn@24.112.92.157)
[01:09:37] <dag> what is a simple method to parse command line options? e.g. php foo.php --preview ./app
[01:09:46] <da_wunder> CoJaBo: then you need to use some of those security check tools to spot that actual issue
[01:10:59] <da_wunder> dag: using eg. component like symfony/console component - which makes that all + tons of more - https://symfony.com/doc/current/components/console.html
[01:19:02] <biberu> skyfaller: why do you want your html to look like that though? it's larger than necessary
[01:19:16] <da_wunder> ^
[01:19:44] <da_wunder> just use proper tools to format that to "readable" format - like your browser devtools
[01:21:02] <biberu> ^
[01:21:08] <skyfaller> it's not that much larger, and I'm saving space elsewhere, e.g. by removing optional quotes. You should be able to view the source in NetSurf or other simpler browsers without devtools
[01:21:17] <da_wunder> just using plain "view source" doesn't give anything nowadays versus dev tools - like you can change dom structure on fly and just see what happens
[01:21:41] <biberu> skyfaller: why?
[01:21:46] <skyfaller> why not?
[01:21:52] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[01:22:29] <da_wunder> skyfaller: if that is the use case why don't those users just copy that raw view source output and paste that to some IDE that makes that formatting ?
[01:22:35] <biberu> you're the one investing time in it, i assume it's some sort of priority?
[01:22:36] <skyfaller> is it really productive to just tell me my aesthetic preferences are bad? You could just say "no that's not possible in PHP" and then move on with your life
[01:22:50] <biberu> seriously, there's got to be more important things to do?
[01:23:17] <da_wunder> skyfaller: and do you have some _real_ statistics how many of your site users _are not_ using modern browser and really viewing source html?
[01:24:03] *** Joins: paladox (sid373195@wikimedia/paladox)
[01:24:53] <paladox> Hi, i'm wondering if someone could help me to figure out why upgrading from debian buster (php 7.3) to debian bullseye (php 7.4) causes php-fpm to OOM eventually after around an hour of it receiving prod traffic?
[01:26:23] <da_wunder> paladox: don't remember anyone here mentioned that kind of issue before
[01:26:36] <paladox> oh
[01:27:54] <da_wunder> although I have added multiple nicks to my ignore list on this channel - so they might have had some insights
[01:28:33] <Sammitch> "optimize my filesize" with http compression a bit of extra whitespace is absolutely meaningless
[01:35:28] *** Quits: freeworld (~vit@chello085216193138.chello.sk) (Ping timeout: 252 seconds)
[01:36:44] *** Parts: skyfaller (~skyfaller@pool-108-52-124-2.phlapa.fios.verizon.net) (Textual IRC Client: www.textualapp.com)
[01:41:08] *** Quits: DerekTheRed (~portra400@peso.subtitled.com) (Quit: +++NO CARRIER)
[01:41:26] *** Joins: DerekTheRed (~portra400@peso.subtitled.com)
[01:45:13] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Quit: Quitting)
[01:55:10] *** Quits: memoryleak (~memorylea@77-58-142-250.dclient.hispeed.ch) ()
[02:11:35] *** Joins: brentaarnold_ (~brentaarn@24.112.92.157)
[02:12:48] *** Joins: brentaar- (~brentaarn@24.112.92.157)
[02:12:49] *** Joins: junktext (~junktext@77.247.181.209)
[02:15:14] *** Quits: brentaarnold (~brentaarn@24.112.92.157) (Ping timeout: 265 seconds)
[02:15:14] *** brentaar- is now known as brentaarnold
[02:16:12] *** Quits: brentaarnold_ (~brentaarn@24.112.92.157) (Ping timeout: 265 seconds)
[02:20:56] <dag> how can a html page at site.local/foo/bar.html link relatively to site.local/foo/ ? the prefix /foo/ is variable. (sorry a bit offtopic)
[02:22:02] <dag> basically i want to create a html link that points to the frontpage and that works for all file:///app/foo.html and http://site.local/ and http://site.local/sub-folder
[02:22:48] <dag> i could possibly keep a variable $base_url but hoping there is a nice solution using relative link
[02:24:06] <__adrian> a configuration setting is the better solution
[02:24:23] <__adrian> hardcoding relative paths means you can't ever move pages
[02:24:42] <__adrian> use the easy and better solution
[02:25:26] *** Quits: lall- (~alek@2001:44c8:401e:8d2:64d2:cb8e:b416:249d) (Ping timeout: 268 seconds)
[02:25:43] <dag> yeah
[02:26:42] <dag> the actual real problem i have is that im creating a static site generator and im toggling between base_url=localhost:8080 and base_url=app.prod and i try to use relative links where i can to avoid this hassle
[02:27:23] <dag> the one place where i MUST use absolute url is in the rss feed
[02:27:42] <__adrian> "toggling"? do you not have a config setting or something similar?
[02:28:04] <__adrian> and yeah... if you have to have the setting _anyway_, then what's the consideration?
[02:28:21] <dag> not yet. i find it annoying to modify the config.php each time i preview locally and deploy to prod
[02:28:31] <dag> im a bit perfectionist i admit
[02:28:35] <__adrian> no - you shouldn't need to modify anything
[02:28:42] <__adrian> have a _different_ file for each env
[02:28:51] <__adrian> specify the file when you build
[02:29:00] <dag> ah didnt think of that. that works
[02:29:13] <__adrian> if your config settings are hardcoded in your application, then it's not actually configurable
[02:30:40] <dag> ah then there's the problem of configuration managment. a new repo for config files?
[02:30:59] <dag> or maybe they can live in prod
[02:32:06] *** Quits: Phil-Work (~phil@62.3.100.20) ()
[02:32:25] <Sammitch> the problem with trying to put config in a repo is it's usually full of secrets
[02:32:49] <Sammitch> I'd suggest something like Vault, plus a deploy script that pulls relevant config
[02:33:55] <__adrian> config belongs in deploy processes
[02:33:56] <dag> this begets more tooling around building and deployment indeed.
[02:33:58] <__adrian> not in repos at all
[02:34:24] <__adrian> your "process" could be as simple as scp'ing a file to the new server
[02:34:51] <__adrian> or as comprehensive as ansible with vaults for secrets, etc.
[02:35:30] <dag> is it feasable to insert prod config and then create a build tarball and deploy it?
[02:35:58] <dag> or should builds be deployable with different configs?
[02:36:00] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[02:38:03] *** Joins: \mSg (~mSg@user/msg/x-0285936)
[02:40:13] <dag> depends ofc. not much secrets in this ssg so might as well commit both dev and prod configs
[02:43:57] <Sammitch> my CI system builds a generic build artifact [docker image] and triggers a deploy job for relevant environments. each environment's deploy process pulls relevant env config out of vault and stuffs it into the Helm/k8s deploy.
[02:45:49] *** Quits: brentaarnold (~brentaarn@24.112.92.157) (Read error: Connection reset by peer)
[02:46:17] *** Joins: brentaarnold (~brentaarn@24.112.61.90)
[02:47:58] *** Joins: winlundn (nick@2600:3c01::f03c:92ff:fef3:7260)
[02:54:14] *** Joins: brentaarnold_ (~brentaarn@24.112.61.90)
[02:54:52] *** Quits: brentaarnold (~brentaarn@24.112.61.90) (Ping timeout: 265 seconds)
[02:55:13] *** brentaarnold_ is now known as brentaarnold
[03:15:39] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 265 seconds)
[03:37:38] *** Quits: CrazyEddy (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f) (Ping timeout: 260 seconds)
[03:42:34] *** Quits: pmercado (~pmercado@186.107.55.118) (Ping timeout: 252 seconds)
[03:48:33] *** Quits: ReimuHakurei (~Reimu@raphi.vserver.alexingram.net) (Quit: No Ping reply in 240 seconds.)
[03:49:43] *** Joins: ReimuHakurei (~Reimu@raphi.vserver.alexingram.net)
[03:51:17] *** Quits: nuala (~nuala@user/nuala) (Ping timeout: 245 seconds)
[03:55:53] *** Joins: nuala (~nuala@user/nuala)
[04:02:39] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[04:12:01] *** Quits: mjh4386 (~mjh4386@165.22.53.231) (Excess Flood)
[04:12:32] <CoJaBo> So, I found my security hole. It relies on some bizarre behaviour of PHP that I'm not sure if it's a security bug or just unfortunate but mundane behaviour.. Seems like probably the latter tho, but I don't suppose there's any devs here who can answer a quick question about serialization internals are there? =D
[04:13:37] *** Joins: elycin_ (~elycin@ec2-54-163-129-255.compute-1.amazonaws.com)
[04:13:50] *** Quits: elycin (~elycin@ec2-54-163-129-255.compute-1.amazonaws.com) (Quit: ZNC 1.8.2 - https://znc.in)
[04:20:29] <Blondie101010> CoJaBo:  the replies I got when I demonstrated serialization issues is that they know there are some because of the (bad) way it's implemented
[04:21:35] <CoJaBo> Blondie101010: Is there a list of the known issues anywhere?
[04:21:37] <Blondie101010> I normally use igbinary to counter that efficientlyt
[04:22:11] <Blondie101010> do you know igbinary?
[04:22:15] *** Joins: mjh4386 (~mjh4386@165.22.53.231)
[04:22:22] <Blondie101010> it's an excellent alternative
[04:22:38] <CoJaBo> 3 seperate issues with it were leveraged all the way up to remote-code execution, but that relied heavily on the app doing Very Dumb Stuff™
[04:23:12] <Blondie101010> yeah security issues are not cause by the serialization but how the program uses it
[04:23:29] <CoJaBo> They were exploiting quirks of serialization tho
[04:23:56] <Blondie101010> it's imperfect...  not really bad, but it does sometimes fail
[04:24:12] <Blondie101010> do you know igbinary?
[04:24:18] <CoJaBo> Never heard of it
[04:24:39] <Blondie101010> it's a very popular PHP extention
[04:25:09] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Read error: Connection reset by peer)
[04:25:13] <Blondie101010> it serializes better, faster and taking less space as it's not a textual representation
[04:25:33] <Blondie101010> it does everything a regular serialization does, including object instances
[04:26:22] <CoJaBo> Is there a list of known bugs of serialization?
[04:26:39] <CoJaBo> Curious to know if any or all of these 3 are already known
[04:27:06] <CoJaBo> I'm assuming they probably are, this site just utterly does not seem worth wasting a 0-day on rofl
[04:27:09] <Blondie101010> well you could start with: https://bugs.php.net/search.php?cmd=display&search_for=serialize&x=0&y=0
[04:27:09] <__adrian> probably somewhere, but also a lot of what you might be classifying as a bug might not be
[04:28:01] <__adrian> Very Dumb Stuff™ isn't a bug in php, but in code people write
[04:28:16] <CoJaBo> __adrian: Yeh, I basically want to know the answer to "I do [weird thing] and [surprising result] occurs, is this a bug or not"
[04:28:45] <Blondie101010> that requires further troubleshooting
[04:29:00] <__adrian> someone here might know, if you don't want to discuss it publicly then security@php.net
[04:29:32] <__adrian> like blondie says, bugs. is a thing you'll need to look at
[04:51:18] <CoJaBo> I don't see a bug for it at least
[04:55:05] <Sammitch> for the record, I'm assuming that "Very Dumb Stuff" is shorthand for "calling unserialize() on data from external sources"
[04:56:29] <Blondie101010> CoJaBo:  how do you demonstrate the issue?
[04:57:48] <CoJaBo> Sammitch: It's only "Very" dumb, not "Pants On Head" dumb :P
[04:58:07] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 265 seconds)
[05:17:18] <paladox> does anyone know how i can do a memory dump on php-fpm please?
[05:18:42] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[05:30:24] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:35:30] *** Joins: vlm (~vlm@user/vlm)
[05:45:23] *** Quits: Vision (~Vision@024-178-231-173.res.spectrum.com) (Read error: Connection reset by peer)
[05:46:31] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[05:46:45] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[05:53:46] *** Joins: Vision (~Vision@024-178-231-173.res.spectrum.com)
[05:54:55] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[05:55:32] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[05:59:55] *** Joins: friend (friend@c-73-43-171-169.hsd1.ga.comcast.net)
[06:28:59] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 265 seconds)
[06:33:47] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 240 seconds)
[06:39:30] *** Joins: brentaarnold_ (~brentaarn@32.132.115.46)
[06:42:23] *** Joins: semeion (~semeion@user/semeion)
[06:42:54] *** Quits: brentaarnold (~brentaarn@24.112.61.90) (Ping timeout: 260 seconds)
[06:42:54] *** brentaarnold_ is now known as brentaarnold
[06:43:31] *** Joins: deltab (~deltab@user/deltab)
[06:49:19] *** semeion is now known as mnemonic
[06:55:31] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[06:56:14] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Read error: Connection reset by peer)
[07:10:33] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 265 seconds)
[07:11:39] *** Joins: jetchisel (jetchisel@user/jetchisel)
[07:13:48] *** Joins: Rockwood (~Rocky@user/rocky)
[07:16:44] *** Quits: kantlivelong (~kantlivel@cpe-67-250-125-43.hvc.res.rr.com) (Changing host)
[07:16:44] *** Joins: kantlivelong (~kantlivel@octoprint/kantlivelong)
[07:17:09] *** Joins: pmercado (~pmercado@186.107.55.118)
[07:19:46] *** Quits: friend (friend@c-73-43-171-169.hsd1.ga.comcast.net) (Ping timeout: 252 seconds)
[07:29:13] *** Joins: friend (friend@c-73-43-171-169.hsd1.ga.comcast.net)
[07:33:02] *** Joins: Hiccup (cHoy@2404:8000:1003:14fe::510)
[07:54:17] *** Quits: Poboy (~Poboy@user/poboy) (Quit: Client closed)
[08:02:43] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 252 seconds)
[08:18:12] *** Joins: guidoc (~guido@host-79-37-45-116.retail.telecomitalia.it)
[08:43:02] *** Joins: karstensrage (~karstensr@user/karstensrage)
[08:45:05] *** Quits: pmercado (~pmercado@186.107.55.118) (Ping timeout: 268 seconds)
[08:45:46] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 265 seconds)
[08:47:12] *** Parts: karstensrage (~karstensr@user/karstensrage) (Leaving)
[08:56:21] *** Joins: deltab (~deltab@user/deltab)
[08:56:36] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[08:58:15] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 268 seconds)
[09:01:05] *** Joins: Bushdog (~Goondog@user/bushmaster)
[09:02:21] <Bushdog> Hi, my PHP based Linux Apache server suddenly stopped working, no idea why it is doing that, all the external ports are open
[09:04:30] <Rockwood> suddenly is not proper excuse
[09:04:56] <Rockwood> Bushdog, there should a real reason for stopping
[09:05:09] <Rockwood> what the error its reporting
[09:05:23] <Rockwood> explain properly
[09:05:53] <Bushdog> I am trying. well its all working fine yesterday now its not working, no idea how to fix it
[09:06:06] <Rockwood> suddenly stopped working is not technical question
[09:06:21] <Rockwood> just trace the error first
[09:06:31] <Rockwood> you should see the logs for it
[09:06:49] <Rockwood> anyway cya
[09:06:52] <Rockwood> tc all
[09:06:55] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[09:11:43] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:30:35] *** Joins: jetchisel (jetchisel@user/jetchisel)
[09:34:06] *** Quits: mnemonic (~semeion@user/semeion) (Ping timeout: 265 seconds)
[09:41:19] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[09:44:30] *** Quits: junktext (~junktext@77.247.181.209) (Ping timeout: 268 seconds)
[09:46:29] *** Joins: mnemonic (~semeion@user/semeion)
[10:04:04] *** Quits: mnemonic (~semeion@user/semeion) (Ping timeout: 265 seconds)
[10:07:07] *** Quits: brentaarnold (~brentaarn@32.132.115.46) (Read error: Connection reset by peer)
[10:07:32] *** Joins: brentaarnold (~brentaarn@24.112.61.90)
[10:14:08] *** Joins: brentaarnold_ (~brentaarn@24.112.61.90)
[10:14:10] *** Quits: brentaarnold (~brentaarn@24.112.61.90) (Ping timeout: 252 seconds)
[10:14:37] *** brentaarnold_ is now known as brentaarnold
[10:16:07] *** Joins: mnemonic (~semeion@user/semeion)
[10:20:40] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[10:32:51] <Bushdog> i wonder Nekomander still around
[10:38:30] *** Quits: guidoc (~guido@host-79-37-45-116.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[10:42:11] *** Joins: undefined_bob (~undefined@user/undefined-bob/x-5411918)
[10:44:05] *** Joins: brentaarnold_ (~brentaarn@32.132.115.46)
[10:47:26] *** Quits: brentaarnold (~brentaarn@24.112.61.90) (Ping timeout: 260 seconds)
[10:47:26] *** brentaarnold_ is now known as brentaarnold
[10:51:57] *** Quits: brentaarnold (~brentaarn@32.132.115.46) (Read error: Connection reset by peer)
[10:52:23] *** Joins: brentaarnold (~brentaarn@24.112.61.90)
[10:52:40] *** Quits: brentaarnold (~brentaarn@24.112.61.90) (Read error: Connection reset by peer)
[10:53:13] *** Joins: brentaarnold (~brentaarn@24.112.61.90)
[10:58:20] *** Joins: guidoc (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f)
[10:59:05] *** Quits: brentaarnold (~brentaarn@24.112.61.90) (Read error: Connection reset by peer)
[10:59:31] *** Joins: brentaarnold (~brentaarn@24.112.61.90)
[11:00:19] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 252 seconds)
[11:25:07] *** Quits: mdbauman (~mdbauman@2600:1700:7e60:f7c0:c196:23e6:3650:f34f) (Read error: Connection reset by peer)
[11:29:24] *** Joins: no_gravity (~no_gravit@user/no-gravity/x-5639427)
[11:29:29] <no_gravity> Good Morning
[11:37:33] *** Joins: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3f1)
[11:39:16] *** Joins: freeworld (~vit@chello085216193138.chello.sk)
[11:41:31] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[12:15:01] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:b952:c829:152c:239b)
[12:21:39] *** Parts: no_gravity (~no_gravit@user/no-gravity/x-5639427) ()
[12:30:00] *** Joins: jetchisel (jetchisel@user/jetchisel)
[12:32:31] *** Joins: LucaTM (~LucaTM@user/lucatm)
[12:32:41] *** Quits: brentaarnold (~brentaarn@24.112.61.90) (Read error: Connection reset by peer)
[12:33:10] *** Joins: brentaarnold (~brentaarn@24.112.61.90)
[12:43:20] *** Quits: friend (friend@c-73-43-171-169.hsd1.ga.comcast.net) (Ping timeout: 268 seconds)
[12:46:31] *** Joins: friend (friend@c-73-43-171-169.hsd1.ga.comcast.net)
[12:48:16] *** Quits: brentaarnold (~brentaarn@24.112.61.90) (Ping timeout: 252 seconds)
[12:58:14] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[12:58:22] <CoJaBo> Man, PHP doc comments are........ something else
[13:01:08] *** Quits: guidoc (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f) (Quit: WeeChat 3.2)
[13:01:23] *** Joins: guidoc (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f)
[13:01:41] *** Quits: mnemonic (~semeion@user/semeion) (Quit: WeeChat 3.2)
[13:04:58] *** MelMalik is now known as LxGHTNxNG
[13:05:21] *** Quits: tccki (~tccki@2406:e001:2:5a60:250:56ff:fe9e:8795) (Quit: tccki)
[13:07:36] *** Joins: tccki (~tccki@2406:e001:2:5a60:250:56ff:fe9e:8795)
[13:18:36] <biberu> Bushdog: yes, he is
[13:19:20] *** Quits: friend (friend@c-73-43-171-169.hsd1.ga.comcast.net) (Ping timeout: 265 seconds)
[13:22:48] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[13:23:09] *** Joins: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl)
[13:24:56] *** Joins: friend (friend@c-73-43-171-169.hsd1.ga.comcast.net)
[13:31:52] *** Joins: jetchisel (jetchisel@user/jetchisel)
[13:34:09] <Bushdog> biberu,  hi, my https is not working in LAMP server, no idea why it suddenly stop working
[13:34:40] <Bushdog> i run my PHP apps in LAMP server and it is not working, no idea how I can fix it
[13:35:00] <AllenJB> Define "not working". What's the error message you see?
[13:35:13] *** Quits: jetchisel (jetchisel@user/jetchisel) (Read error: Connection reset by peer)
[13:38:58] <biberu> Bushdog: what AllenJB said
[13:40:55] <Bushdog> AllenJB,  biberu  well, all it is, with external port, you plug in web browser, my website works cool, but I had it redirected to NO-IP domain name server for the past 1 year or so and never had issue, for the past 10 hours it stopped redirecting to the NO-IP URL and I tried updating and reading error log with no sucess
[13:44:36] <biberu> i'm not following
[13:44:56] <AllenJB> What do you see in your browser when you try to visit the site? (Specifically, what error message does the browser give?) If this site is accessible by anyone, it may be helpful if you can tell us the URL
[13:46:08] <biberu> and was there an error in the log?
[13:46:47] <biberu> i guess no-ip is some dynamic dns service? perhaps it's simply pointing to the wrong address? did you check what it resolves to and what you have?
[13:47:50] <Bushdog> biberu,  all good questions, https://bushmaster.myftp.org this is my site okay and if you try with external IP it works fine
[13:47:56] <Bushdog> it just https stopped working
[13:48:38] <Bushdog> biberu,  i can post you the error, do not think it make any sense though, i did check NO-IP and updated it with IP address and so on, I never had that problem before
[13:50:52] <Bushdog> AllenJB,  and biberu  this is my 000-default.conf file from apache and I cant see anything wrong there https://paste.gg/p/anonymous/92afd0ab81414c1eb3aa5f01da4d4769
[13:51:27] <biberu> Bushdog: what does nslookup bushmaster.myftp.org tell you?
[13:51:36] <biberu> is the address correct?
[13:52:15] <Bushdog> there is part of error log here biberu https://paste.gg/p/anonymous/49d6a2d9e47942b1a6efbd5e8eaac0b4
[13:52:37] <Bushdog> what is nslookup, you want me to type nslookup in command line?
[13:53:12] <biberu> https://linux.die.net/man/1/nslookup
[13:53:32] <biberu> it will show you the ip that domain resolves to
[13:53:43] <Bushdog> biberu,  you plug this in browser, you will see my PHP site work fine, 92.28.79.24    click tab web applications, that's PHP
[13:54:32] <Bushdog> well it works with IP yeah, I know that, but https://bushmaster.myftp.org does not work, no idea why it suddenlt stopped working
[13:54:55] <biberu> hm, yeah
[13:55:24] <Bushdog> that's the only problem, everything work fine, I do not know why url stopped working
[13:56:24] <biberu> did you change anything before this happened?
[13:58:28] <Bushdog> I have not done anything, all that happened is my modem was not working for few minutes, so I switched off the modem which is actually a router + modem and switch it back on, like all people do and when I checked https its not accessing, it could be happening even before modem resetting so I have no idea, all I know https URL was working 24 hours ago
[13:59:05] <Bushdog> i then go to NO-IP acces and checked the IP address is updated to URL and it did but still no lucj
[13:59:07] <Bushdog> luck
[14:00:00] <AllenJB> Bushdog: I'm guessing you have port forwarding set up on your internet router. This may have broken if rebooting your router caused DHCP assignments to change. Check the port forwarding setup and the IP address of the computer hosting the webserver.
[14:00:02] <biberu> (meeting)
[14:00:56] <Bushdog> AllenJB,  good question and I did that last night too, I went there and yes all port forward was gone and I added new ones,
[14:01:54] <Bushdog> let me send you the screen shot images of the port forwarding okay
[14:03:50] <Bushdog> AllenJB,  here https://pasteboard.co/PUAdLRjBTeQu.png
[14:04:12] <Bushdog> 192.168.1.32 is the main server and sister server is 192.168.1.30
[14:04:40] <AllenJB> In that screenshot you only have port 80 forwarded. HTTPS uses port 443
[14:04:43] <Bushdog> these are internal IP address so port 80 is open in external as you can see from that port forward and I know my port 80 is open, I checked it
[14:04:55] <Bushdog> oh shuck
[14:05:28] <Bushdog> may be that is the main problem then AllenJB  so shall I add a new port with 192.168.1.32 and then port 443 external right?
[14:07:56] <AllenJB> Also, it may just be a crap UI, but the "enable" option does not look to be checked to me
[14:09:05] <Bushdog> IT IS NO FRIENDLY ui  yeah, i am in
[14:09:10] <Bushdog> let just add 443
[14:09:18] <Bushdog> i will screen shot you
[14:10:24] <Bushdog> you know where you have external host I type * right
[14:12:07] <Bushdog> so AllenJB  can you check this is okay, then I will add it https://pasteboard.co/GMkFFsTlr1rK.png
[14:13:36] <Bushdog> all added, can you check its working https://bushmaster.myftp.org
[14:13:59] <AllenJB> Bushdog: Yes that works for me now
[14:14:23] <biberu> 🎉
[14:14:32] <Bushdog> AllenJB,  I cant check it from internal you see, so can you click Web Application and run some of my application done in PHP from the site please
[14:14:36] <Bushdog> and tell me its working?
[14:15:20] <Bushdog> its the second tab from the main site and it will take you to my other  Debian Server 192.168.1.30 where I code in PHP
[14:16:50] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[14:18:15] <AllenJB> Bushdog: Attempting to use the first trip cost calculator doesn't appear to work - it just redirects back to the same page with no additional information displayed. The GBP => USD currency converter does work.
[14:19:17] <AllenJB> Bushdog: FYI I believe you should be able to test this yourself if you use a VPN (since your browser will then be connecting from outside your home internet connection)
[14:19:19] <Bushdog> AllenJB,  let me check PHP script
[14:23:15] <Bushdog> AllenJB,  from local host I do get the result of trip calculation, it should show at the top in green big fonts
[14:24:11] <Bushdog> AllenJB,  I do not know how to set up VPN
[14:29:07] <Bushdog> AllenJB,  I wanna thank you for resolving the matter, you are brilliant and so do biberu
[14:29:50] <Bushdog> some channles I went and ask for help, they asking me to reinstall Debian 10, back up all my HTMLs and god knows so many other stuffs they ask me to do except the advice to add 443 port forward
[14:31:54] <AllenJB> Bushdog: Big clue was when you mentioned your modem reset. If something like that happens between the last time you know something was working and when it was reported broken, look there first
[14:32:43] <Bushdog> AllenJB,  the thing is 443 never struck in my mind, trust me i never added in the past so I remain baffled that it worked without 443 open for the past 1 year
[14:32:50] <AllenJB> It can also help if you note down somewhere what settings you've changed on things like routers - then you have something to compare to in future
[14:33:50] <Bushdog> yes I like to keep a clean journal of Apache server setting but these kind of small adjustment easily slip through the crack and down the line if problem occurs again in 1 year time, its hard to remember what I did
[14:34:46] <AllenJB> Bushdog: Possibly related to the avahi errors in your Apache log - I haven't touched avahi, but if I understand what it does correctly, it may have been telling your modem what port forwarding to set up. You may want to check the avahi setup
[14:35:15] <Bushdog> what is impressive is, you have solid grounding to resolve issue quick, I talked to half a dozen people, they just carry in intimidating me with all sorts, I am not expecting myself to be expert in Apache, I just know some stuffs so that I cna carry on working on my site and make PHP based applications  now and future
[14:35:43] <Bushdog> yes I have seen that word in error log, no idea what abahi even means
[14:35:52] <Bushdog> I am not Linux Sysytem Admin you see
[14:36:45] <Bushdog> but the idea of VPN sounds good to me, but no idea how to get it set up
[14:36:59] <Bushdog> my skill in these are not high
[14:37:36] <Bushdog> all I know VPN is like subscription based companies who hide you IP address
[14:37:54] <Bushdog> but I do not know how it can impact NO-IP based Domain Name Redirection etc
[14:38:35] <AllenJB> It's not so much "hiding your IP address" as "pretending your computer is somewhere else"
[14:39:31] <Bushdog> okay but it will affect my Apache PHP LAMP Server
[14:40:55] <AllenJB> If they're on the same computer, possibly. Some (most?) VPNs have options not to affect local traffic, which I think should leave the Apache traffic alone.
[14:42:16] <Bushdog> I have two computers where server is set up the PHP one is in Debian 9 machine and I added proxi.conf to redirection from mother server where you see the whole site to access PHP server in Debian 9 which runs at 192.168.1.30
[14:42:53] <Bushdog> proxy.conf script redirect one Apache to another Apache internally
[14:43:54] <Bushdog> also I have alias of movie sites
[14:44:02] <Bushdog> with authentication
[14:44:19] <Bushdog> https://bushmaster.myftp.org/coyotes
[14:45:11] <Bushdog> its an alias, again done it with proxy.conf script in main machine redirecting the request to sister machine where coyotes directory holding movies residing
[14:45:20] <Bushdog> but I created Apache authentication
[14:46:18] <Bushdog> there is a goods friend I know called Nekomander who helped me set it up in the past, i do not think he hangs out here any more
[14:47:44] <kenoba> is there an "easy and quick to navigate" site that lists all the new features/new syntaxes added per PHP release?
[14:48:24] <AllenJB> Bushdog: They've been around recently - my client last saw them quit at ~4:30am UTC this morning
[14:48:54] <AllenJB> kenoba: The Migrating appendices in the PHP Manual: https://www.php.net/manual/en/appendices.php
[14:50:35] <Bushdog> who AllenJB Nekomander?
[14:50:49] <AllenJB> Bushdog: Yes
[14:51:03] <Bushdog> say hello to him if you see him
[14:52:00] <Bushdog> but for now I am glad that you solved my issue, I knew PHP channel is extremely helpful
[14:52:39] <biberu> Bushdog: i think that's BadAdviceCat
[14:55:14] <kenoba> AllenJB thanks, i guess that works
[14:56:34] *** Joins: brentaarnold (~brentaarn@24.112.61.90)
[14:58:34] *** Quits: biberu (~biberu@user/biberu) (Read error: Connection reset by peer)
[14:59:29] <AllenJB> kenoba: If you're looking at upgrading an existing codebase you may also want to check out the PHPCompatibility CodeSniffer ruleset - that can alert you to most things that may cause problems.
[15:00:50] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 260 seconds)
[15:07:06] *** Joins: biberu (~biberu@user/biberu)
[15:09:14] <Bushdog> okay thanks bibble
[15:09:28] <Bushdog> okay thanks biberu
[15:10:04] *** Quits: Hiccup (cHoy@2404:8000:1003:14fe::510) (Remote host closed the connection)
[15:13:39] *** Quits: Warped (~Warped@user/warped) (Quit: We Gone! Bye Bye)
[15:19:24] <kenoba> AllenJB thanks yeah thats probably way to go
[15:19:50] <kenoba> so which version of php would it have to be so I can start typehinting class methods ex:
[15:19:55] <kenoba> public function getUsername(): string
[15:20:04] <Naktibalda> return types since 7.1
[15:22:15] <kenoba> Naktibalda thank you
[15:23:34] *** Joins: ArchNoob (~maotora@user/archnoob)
[15:33:14] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[15:54:57] *** Quits: guidoc (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f) (Quit: WeeChat 3.2)
[15:58:41] *** Joins: jetchisel (jetchisel@user/jetchisel)
[15:59:56] <arash> Hello, can i use pdo to import a .sql file into a database?
[16:02:26] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[16:04:08] <TinoDidriksen> You can't directly. PDO can't execute multiple things in a single call. You'd have to parse the SQL file and run each in turn.
[16:07:49] <arash> TinoDidriksen, could you please send me a tutorial for doing this?
[16:09:30] <arash> you mean something like https://0bin.net/paste/RdIAUgYl#nrTrP4E1pTcs96-DcOeQ+COsbJqHCm0P2pbXtHS+ttW ?
[16:10:18] <Blondie101010> he was actually pointing towards a better solution
[16:10:45] <Blondie101010> your DB probably has a client which can take the file directly
[16:11:30] <Naktibalda> actually PDO can execute multiple statements in one call
[16:11:55] <Naktibalda> there is a  PDO::MYSQL_ATTR_MULTI_STATEMENTS attribute that can be used to disable this feature
[16:11:55] <arash> Blondie101010, it don't. its a shared host. i only have access to PHP
[16:13:54] <Blondie101010> how you'll import it exactly depends on how it is delimited
[16:14:42] <arash> i found this https://0bin.net/paste/MMY64VFC#rYMnjpKRoyC6TpqLZknsXKVPh9vStCdd4R4NoQv2Pmg . i hope it work
[16:15:04] <arash> very simple
[16:19:15] *** Quits: SilverEagleDev (~SilverEag@azuracast/lead-developer/SilverEagleDev) (Ping timeout: 260 seconds)
[16:19:34] *** Joins: SilverEagleDev (~SilverEag@azuracast/lead-developer/SilverEagleDev)
[16:35:24] *** Quits: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3f1) (Read error: Connection reset by peer)
[16:37:10] *** Joins: pmercado (~pmercado@186.107.55.118)
[16:39:20] *** Joins: guidoc (~guido@host-79-37-45-116.retail.telecomitalia.it)
[16:42:49] *** Quits: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl) (Quit: Leaving)
[16:55:04] *** Quits: Alina-malina (~Alina-mal@user/alina-malina) (Ping timeout: 252 seconds)
[17:00:46] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[17:04:45] *** Joins: Warped (~Warped@user/warped)
[17:28:59] *** Joins: harpia (~harpia@58.148.205.168.dynamic.vibefibra.com.br)
[17:33:05] *** Joins: Poboy (~Poboy@user/poboy)
[17:38:53] *** Joins: Bobbo (~JBD@cpc153689-nrwh14-2-0-cust521.4-4.cable.virginm.net)
[17:43:55] <Bobbo> Hi. Can someone explain why `$date = date_create(); $date2 = clone($date)->add(new DateInterval('P1M'));` effects both $date and $date2, but if I split the second line (into `$date2 = clone($date); $date2->add(new DateInterval('P1M'));`) it works as expected? Example here; https://0bin.net/paste/nJZk7Fpm#dR5nKabfH15dbTCKBMNshJMlLa+Asdt7vYrxfiCHi9+
[17:45:22] <Naktibalda> precedence of clone  - add parenthesis like this  (clone($date))
[17:46:12] <Naktibalda> also clone is not a function - it is an operator
[17:52:15] <Bobbo> Mhmm. Thanks. I guess that makes sense, but nothing comes up in the documentation when searching for "clone".
[17:54:36] <Naktibalda> https://www.php.net/manual/en/language.operators.precedence.php
[17:54:51] <grawity> php.net/clone actually even has an example of using it with DateTime, at the bottom
[18:03:20] <Bobbo> Yeah, I know that all now, now that I know `clone` is an operator and not a function since I looked at the operate page. But if you just search `clone` you get this; https://www.php.net/manual-lookup.php?pattern=clone&scope=quickref
[18:06:47] *** Joins: no_gravity (~no_gravit@user/no-gravity/x-5639427)
[18:07:00] <no_gravity> Is there a way to dump all constants of a class? https://3v4l.org/TE3nm
[18:07:52] *** Parts: Bobbo (~JBD@cpc153689-nrwh14-2-0-cust521.4-4.cable.virginm.net) (Leaving)
[18:08:03] <Naktibalda> no_gravity: https://www.php.net/manual/en/reflectionclass.getconstants.php
[18:09:54] <no_gravity> Naktibalda: Great, thanks.
[18:10:17] <no_gravity> You need 2 lines like this, right? https://3v4l.org/WvNZT
[18:10:31] *** Quits: Poboy (~Poboy@user/poboy) (Quit: Client closed)
[18:10:44] <no_gravity> Chaining seems not to work: var_dump(new ReflectionClass('C')->getConstants())
[18:10:49] *** Parts: g0z (gauze@entropy.tmok.com) ()
[18:10:54] <no_gravity> My PHP is getting rusty, lol.
[18:12:30] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[18:19:30] *** Quits: no_gravity (~no_gravit@user/no-gravity/x-5639427) (Quit: leaving)
[18:20:28] <AllenJB> IIRC you have to wrap the new object in brackets. (new Foo())->fooMethod()
[18:30:42] <harpia> that's right, I use that all the time with DateTime objects ^
[18:33:44] *** Joins: Alina-malina (~Alina-mal@user/alina-malina)
[18:54:45] <harpia> Do you use 2 or 4 spaces to indent HTML? I'm having trouble using 4 for PHP and 2 spaces for HTML, because in .php templates my IDE keeps using 4 spaces.
[18:57:32] <s17> HTML doesn't care about more than 1 space, if that helps
[18:57:47] *** Joins: no_gravity (~no_gravit@user/no-gravity/x-5639427)
[18:57:56] <no_gravity> Can you access a static var in a string? https://3v4l.org/W8Yu8
[19:01:24] <s17> echo C::$v;
[19:01:27] <s17> no quotes
[19:01:32] <s17> oh i see what you mean
[19:08:35] *** Joins: Gamara (~Gamara@2607:fea8:1e5f:8df0:b4e2:c222:f377:3041)
[19:08:58] <Gamara> Hey I am pretty new to PHP (not new to programming) I want to make a server side page that uses web sockets to allow two users to play a game together (strangers join a lobby then are redirected to the game), I might also incorporate a very simple database for sigin/stats
[19:09:35] <Gamara> I was thinking I would also need to use canvas but I guess I could use raw html for this
[19:10:35] <Gamara> Should I use a framework?
[19:10:44] <Gamara> and what framework would you recommend
[19:10:53] <Naktibalda> PHP and websockets are rarely used together
[19:11:18] *** Joins: mysteryhunter (~Mysteryhu@2001:4bb8:2e0:b420:892c:7c0:7bb6:36c)
[19:11:26] <no_gravity> Gamara: Just to handle the websockets or to create a whole web application with pages, assets, user accounts etc?
[19:12:23] <Gamara> Well to start I want to just make a simple game that people can go to a page are placed into a lobby then when there are 2 people they are automatically placed with the other person where they can play a game on the page
[19:12:47] <Gamara> I would think this would require sockets
[19:13:37] <Naktibalda> not necessarily, you could poll backend for updates
[19:13:45] <Gamara> ok so just use polling
[19:13:49] <Gamara> that isn't a problem
[19:13:52] <no_gravity> Gamara: I would go without a framework for the MVP. Just serve static assets (html/css/js/images) and handle the sockets in some kind of event loop.
[19:14:11] <Gamara> I guess I could use like redis right
[19:14:27] <Gamara> just cache the games
[19:14:31] <Naktibalda> websockets are way more complicated and you won't be able to use them on shared hosting
[19:15:02] <Gamara> PHP doesnt abstract their complexity away?
[19:15:16] <no_gravity> Naktibalda: A cheap VM for $5/month will allow him to listen on any port.
[19:15:18] <Gamara> or rather there isn't a library that does that
[19:15:27] <Naktibalda> PHP does not implement websockets, you need a framework or library for that
[19:15:43] <Gamara> I guess long polling would work as well
[19:16:05] <Gamara> how would you implement the parallelism on the backend?
[19:16:23] <Gamara> since many users would be playing many games
[19:16:36] <no_gravity> Naktibalda: How does he send data from the client to the server when long polling? One request per data packet?
[19:17:07] <Gamara> it would just be an async loop
[19:17:24] *** Joins: mete (~mete@static.201.165.216.95.clients.your-server.de)
[19:17:29] <Gamara> and a javascript await on the client
[19:17:31] <Gamara> i think
[19:17:47] <Naktibalda> long poll GET for reads, POST for writes.
[19:17:48] <no_gravity> Gamara: This looks like a starting point: https://github.com/bloatless/php-websocket
[19:18:10] <Gamara> websockets seem like they would be more efficient for this kind of setup
[19:18:27] <Gamara> otherwise you would have to use long polling and I feel like that would be hard to setup
[19:18:29] <Naktibalda> keep in mind that you will need different frameworks for website and for websocket daemon
[19:18:35] <no_gravity> Naktibalda: So a full http request for every information sent from client to server?
[19:19:35] <Gamara> can you guys recommend any guides on how to structure the project. I am more use to using like webpacket, gulp to build javascript client side pages
[19:19:36] <Naktibalda> I must admin that I have never used PHP to implement websocket 4, only Node.JS
[19:19:42] <Gamara> https://www.ictshore.com/php/php-project-structure/
[19:19:45] <Gamara> I found this guide
[19:20:03] <Gamara> thanks so much no_gravity
[19:20:26] <Gamara> I feel like the hardest part of starting a project is knowing how to start it in an intelligent way
[19:20:44] <Gamara> what tooling would you guys recommend as well?
[19:20:49] <Gamara> thanks again for all the help
[19:21:15] *** Quits: mysteryhunter (~Mysteryhu@2001:4bb8:2e0:b420:892c:7c0:7bb6:36c) (Read error: Connection reset by peer)
[19:21:24] <no_gravity> Gamara: Debian+Apache+MariaDB+Vim
[19:23:54] <no_gravity> That and PHP and my life is complete :)
[19:24:12] <Gamara> so no package managers
[19:24:19] <Gamara> how do you interact with the DB in php
[19:24:35] <Gamara> isn't there usually a library
[19:24:37] <no_gravity> Gamara: If you use a Framework, you will have to use a package manager. But as I said, I would not use a framework for the first version.
[19:24:51] <no_gravity> Gamara: I have written my own DB abstraction on top of PDO.
[19:25:14] <no_gravity> But using PDO directly is ok too.
[19:25:28] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[19:25:33] <Gamara> oh so its built into the language
[19:25:46] <no_gravity> PDO? No.
[19:26:40] <no_gravity> But if you do "apt install php" in Debian, it will install PDO by default.
[19:27:08] <no_gravity> Or maybe it comes when you do "apt install php-mysql"
[19:27:38] <no_gravity> Anyhow, in a fresh Debian install, do this: apt install php mariadb-server php-mysql
[19:27:43] <no_gravity> And you are good to go.
[19:28:07] <Gamara> ok awesome I will just run it in docker should be fine thanks so much for the help
[19:28:17] <Gamara> how would you structure a project like this
[19:28:20] <no_gravity> Gamara: Yeah, using docker for development is a good idea.
[19:28:59] <no_gravity> Just user docker like a fast VM and later you can easily replicate that environment in the cloud. On a VM or on bare metal.
[19:29:08] <da_wunder> yeah, I also recommend to use docker for development
[19:29:39] <no_gravity> I actually have a project to write a tutorial "From a fresh Debian install to a web application".
[19:29:46] <no_gravity> But I am not sure when I will finish it.
[19:31:29] <Gamara> do you guys know how I would structure this project?
[19:31:47] <Gamara> I imagine I keep the backend part separate from the front end
[19:32:01] <Gamara> so should I make two directories?
[19:32:26] <da_wunder> I have used separated repositories for those
[19:32:48] <Gamara> if its serverside rendered wouldnt it all be in the same directory?
[19:32:58] <Gamara> I guess not because the static files are served from a particular directory
[19:33:24] <da_wunder> both of those have `Makefile` and you can start development environment just by runnin `make start` on both of those repositories
[19:33:31] <no_gravity> Gamara: I would get to a working version first. Without caring too much about directory structure.
[19:33:41] <no_gravity> And then structure it after it is working.
[19:34:16] <da_wunder> by default those development environments are using configurations that assumes that you've started those with that make start command
[19:34:36] <Gamara> how do you deal with parallel connections in PHP
[19:34:48] <Gamara> will it handle it under the hood like for instance ASP.net
[19:34:49] <da_wunder> and really it's basically just that your frontend needs to know the url of your backend api
[19:35:15] <Gamara> that makes sense
[19:35:24] <no_gravity> Gamara: For http requests? Apache handles that for you by default.
[19:35:58] <Gamara> oh interesting I am always confused about how backend code accesses requests in parallel by default
[19:36:23] <Gamara> maybe it isn't in parallel though
[19:38:08] *** Joins: mysteryhunter (~Mysteryhu@2001:4bb8:2ea:f436:6833:515f:4f46:31bb)
[19:39:29] *** Quits: brentaarnold (~brentaarn@24.112.61.90) (Read error: Connection reset by peer)
[19:39:54] *** Joins: brentaarnold (~brentaarn@24.112.61.90)
[19:40:12] <no_gravity> The OS is pretty good at parallelism. So Apache simply starts one PHP thread per request. And boom! everything works like magic.
[19:40:51] <no_gravity> I wish the ecosystem around other languages would have adopted the same approach.
[19:48:56] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[19:49:56] *** Joins: Rockwood (~Rocky@user/rocky)
[19:50:16] *** Quits: brentaarnold (~brentaarn@24.112.61.90) (Read error: Connection reset by peer)
[19:50:42] *** Joins: brentaarnold (~brentaarn@32.132.115.46)
[19:54:02] *** Joins: Poboy (~Poboy@user/poboy)
[20:00:01] *** Joins: glumanda (~manu@213162080155.public.t-mobile.at)
[20:01:24] *** Joins: Poboy9 (~Poboy@user/poboy)
[20:02:20] *** Quits: glumanda (~manu@213162080155.public.t-mobile.at) (Client Quit)
[20:03:51] *** Quits: Poboy (~Poboy@user/poboy) (Ping timeout: 256 seconds)
[20:07:18] <Rockwood> o/
[20:10:44] *** Quits: harpia (~harpia@58.148.205.168.dynamic.vibefibra.com.br) (Quit: harpia)
[20:12:13] *** Joins: Blondie101010_ (~Blondie10@user/blondie101010)
[20:14:10] *** Quits: Blondie101010 (~Blondie10@user/blondie101010) (Ping timeout: 252 seconds)
[20:14:11] *** Blondie101010_ is now known as Blondie101010
[20:16:57] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: Hello, 911?  Yeah, it's caught in the window this time.)
[20:21:45] *** Quits: justache (~justache@user/justache) (Read error: Connection reset by peer)
[20:22:13] *** Joins: anomander (~anomander@vps-e9abfd3d.vps.ovh.net)
[20:22:20] *** Joins: justache (~justache@user/justache)
[20:28:38] *** Joins: lall- (~alek@2001:44c8:44c2:d82c:4045:15bb:939a:38b0)
[20:32:47] *** Quits: barlas (~aqeel@user/barlas) (Quit: barlas)
[20:39:19] *** Quits: no_gravity (~no_gravit@user/no-gravity/x-5639427) (Quit: leaving)
[20:40:19] <mysteryhunter> brb
[20:40:22] *** Quits: mysteryhunter (~Mysteryhu@2001:4bb8:2ea:f436:6833:515f:4f46:31bb) (Remote host closed the connection)
[20:41:08] <Rockwood> when :D
[20:47:42] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[20:49:24] *** Joins: barlas (~aqeel@user/barlas)
[20:53:29] *** Joins: sumthing1980 (~sumthing1@94.54.64.154)
[20:56:04] *** Joins: Rockwood (~Rocky@user/rocky)
[20:57:28] *** Quits: Rockwood (~Rocky@user/rocky) (Client Quit)
[20:57:42] *** Quits: Poboy9 (~Poboy@user/poboy) (Ping timeout: 256 seconds)
[20:57:56] *** Joins: mysteryhunter (~Mysteryhu@2001:4bb8:2ea:f49a:98d7:161d:674f:3162)
[20:58:20] <mysteryhunter> re
[21:00:21] *** Quits: ArchNoob (~maotora@user/archnoob) (Quit: WeeChat 3.2)
[21:17:12] <Gamara> Hey do you always need a database with php to store data, for instance in this example https://github.com/bloatless/php-websocket/blob/master/examples/Application/Chat.php they arent using a database to save client_ids
[21:17:41] <Gamara> so for instance if I had to store a ton of game states I could just store it into an array I dont need a database right?
[21:18:37] <TinoDidriksen> That's a WebSocket server, which is always running. Thus it can save state in running memory. Normal PHP dies after each request.
[21:19:20] <TinoDidriksen> Any data that you want to persist between runs must be persisted to some form of storage. A database is the usual suspect. If you don't want a complex one, SQLite works very well.
[21:20:01] <Gamara> I was just planning on using redis
[21:20:26] <TinoDidriksen> That's unstructured storage. It'll work, but may wind up being horribly complex and slow.
[21:20:49] <Gamara> I mean the task is relatively simple
[21:20:55] <Gamara> just two players playing a game
[21:20:58] <TinoDidriksen> That's what they all say.
[21:21:08] <Gamara> ok fair
[21:21:17] <Gamara> is all php code synchronous
[21:21:23] <TinoDidriksen> Redis is great for caching. I would still use SQL for long term storage.
[21:21:51] <TinoDidriksen> Each PHP request is synchronous, but there can be multiple requests in parallel.
[21:23:39] <Gamara> should I worry about making database requests synchronously
[21:23:49] <TinoDidriksen> Yes, use transactions.
[21:24:10] <TinoDidriksen> It's very simply wrapping the things you want to happen in isolation into a transaction.
[21:25:01] <TinoDidriksen> $pdo->beginTransaction(); ...work that must happen all-or-nothing... $pdo->commit();
[21:34:00] *** Parts: mysteryhunter (~Mysteryhu@2001:4bb8:2ea:f49a:98d7:161d:674f:3162) (Leaving)
[21:36:48] *** Quits: Gamara (~Gamara@2607:fea8:1e5f:8df0:b4e2:c222:f377:3041) (Quit: Client closed)
[21:38:11] *** Quits: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi) (Read error: Connection reset by peer)
[21:47:16] *** Joins: Poboy (~Poboy@user/poboy)
[21:57:26] *** Joins: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi)
[22:08:49] *** Quits: friend (friend@c-73-43-171-169.hsd1.ga.comcast.net) (Ping timeout: 268 seconds)
[22:12:12] *** Joins: friend (friend@c-73-43-171-169.hsd1.ga.comcast.net)
[22:23:09] *** Quits: guidoc (~guido@host-79-37-45-116.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[22:23:52] *** Joins: guidoc (~guido@host-79-37-45-116.retail.telecomitalia.it)
[22:41:35] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[22:44:10] *** Quits: brentaarnold (~brentaarn@32.132.115.46) (Read error: Connection reset by peer)
[22:44:22] *** Quits: friend (friend@c-73-43-171-169.hsd1.ga.comcast.net) (Ping timeout: 268 seconds)
[22:44:35] *** Joins: brentaarnold (~brentaarn@32.132.115.46)
[22:50:05] *** Joins: ramblebamble (ramblebamb@gateway/vpn/protonvpn/ramblebamble)
[22:50:18] *** Joins: friend (friend@c-73-43-171-169.hsd1.ga.comcast.net)
[22:52:36] *** Joins: serilian (~Test@2a02-a453-4c64-1-edc3-4612-55a6-f575.fixed6.kpn.net)
[23:01:48] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[23:02:53] *** Joins: magla (~gelignite@55d43f3e.access.ecotel.net)
[23:12:17] *** Joins: WishBoy (~WishBoy@user/wishboy)
[23:21:52] *** Quits: ramblebamble (ramblebamb@gateway/vpn/protonvpn/ramblebamble) (Quit: WeeChat 3.2)
[23:26:35] *** Joins: Gamara (~Gamara@2607:fea8:1e5f:8df0:b4e2:c222:f377:3041)
[23:44:47] <Gamara> So I am a complete noob I have never setup a php project before https://imgur.com/oR5y2Vo this is what I have, so its a docker container with apache and php 8.0, am I correct to run the server as a .php script (I am using websockets with rachet) and have a seperate client application served from the public folder?
[23:47:50] <Sammitch> I would suggest building 2 images, one on top of 8-fpm that serves the web content, and another on top of 8 that runs the websocket server
[23:52:54] <Sammitch> you _can_ run multiple daemons in a single container, but it can get messy. particularly if they scale at different rates
[23:53:50] <TinoDidriksen> And it's really not recommended. Containers are designed to launch 1 primary process.
[23:54:33] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[23:55:19] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:b952:c829:152c:239b) (Remote host closed the connection)
[23:55:51] <biberu> and you already have a compose file there, it's easy to spin up several containers with it
[23:56:05] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:b952:c829:152c:239b)
