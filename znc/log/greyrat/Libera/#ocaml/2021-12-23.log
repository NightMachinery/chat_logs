[00:27:04] <d_bot> <minimario> having some trouble getting my vscode to recognize async...
[00:27:05] <d_bot> <minimario>
[00:27:07] <d_bot> <minimario> using dune, and my dune file looks like this:
[00:27:08] <d_bot> <minimario> ```
[00:27:09] <d_bot> <minimario> (executable
[00:27:11] <d_bot> <minimario>  (name main)
[00:27:12] <d_bot> <minimario>  (libraries core async)
[00:27:13] <d_bot> <minimario> )
[00:27:15] <d_bot> <minimario> ```
[00:27:16] <d_bot> <minimario>
[00:27:17] <d_bot> <minimario> i also have a .merlin file with
[00:27:18] <d_bot> <minimario> ```
[00:27:20] <d_bot> <minimario> PKG core
[00:27:21] <d_bot> <minimario> PKG async
[00:27:22] <d_bot> <minimario> ```
[00:27:24] <d_bot> <minimario>
[00:27:25] <d_bot> <minimario> when i "open Async" in my main file it tells me "Unbound module Async", any pointers on what might be up?
[00:27:47] <rgrinberg> Which vscode plugin are you using?
[00:28:09] <companion_cube> rgrinberg: foreign_stubs is very undocumented :/
[00:28:31] <companion_cube> I wish the stanza hadn't been changed
[00:29:35] <rgrinberg> companion_cube i don't even remember why we changed it. in any case, it's trivial to update
[00:29:49] <companion_cube> it is _very much not_
[00:29:58] <rgrinberg> (c_names foo bar) -> (foreign_stubs (language c) (names foo bar))
[00:29:58] <companion_cube> took me 2 hours and I'm not sure exactly why it works now
[00:30:07] <rgrinberg> let's see your stanza
[00:30:08] <companion_cube> that is not what I'm talking about
[00:30:16] <companion_cube> it's self_build_stubs or sth like that
[00:30:35] <companion_cube> https://github.com/c-cube/batsat-ocaml/pull/3 enjoy the latests commits
[00:30:41] <companion_cube> trying to somehow making it work
[00:32:49] <rgrinberg> looks ok to me
[00:33:13] <d_bot> <minimario> rgrinberg: this one https://marketplace.visualstudio.com/items?itemName=freebroccolo.reasonml
[00:34:15] <companion_cube> well for a start, it seems that now it wants 3 files, not one
[00:34:25] <companion_cube> (in this case I provide twice the sameâ€¦ err)
[00:34:41] <companion_cube> like dllfoo_stubs.so, libfoo_stubs.a, and libfoo.a
[00:34:45] <companion_cube> sth like that
[00:37:22] <rgrinberg> I haven't used that plugin, so I'm really not sure what's the problem. Perhaps you didn't run vscode in your opam environment?
[00:40:03] <rgrinberg> companion_cube which one of those targets do you have a problem which building?
[00:41:43] <d_bot> <minimario> is there a better plugin lol
[00:41:45] <rgrinberg> s/which/with/
[00:41:58] <d_bot> <Et7f3> Ocaml platform
[00:42:03] <rgrinberg> better is in the eye of the beholder, but there's a better maintained one for sure
[00:42:03] <companion_cube> well I only get stubs.a and stubs.o
[00:42:07] <companion_cube> there is no libfoo.a
[00:42:25] <d_bot> <minimario> dunno, as long as it works and type checks i'll be happy
[00:42:41] <d_bot> <minimario> but it's not working ðŸ˜¨
[00:46:41] <rgrinberg> give the other plugin a try then
[00:47:03] *** Quits: rgrinberg (~textual@2806:101e:1:83af:75fb:59a:2ee:28fe) (Read error: Connection reset by peer)
[00:47:27] <d_bot> <minimario> hmm doesn't seem to work either
[00:47:45] *** Joins: rgrinberg (~textual@2806:101e:1:83af:75fb:59a:2ee:28fe)
[00:47:56] <rgrinberg> companion_cube how do I get target/release?
[00:48:00] <d_bot> <minimario> ocamllsp is still saying async is unbound ðŸ¤”
[00:48:07] <rgrinberg> did you build your project?
[00:48:11] <companion_cube> make build-rust-stubs
[00:48:12] <rgrinberg> did you select the correct sandbox?
[00:48:29] <companion_cube> (also called by opam)
[00:48:35] <companion_cube> iirc I tried to have dune build it, and it was just too hard
[00:48:39] <d_bot> <minimario> sandbox?
[00:49:00] <companion_cube> have to call cargo --frozen or whatever, from a different directory, etc. a whole mess.
[00:51:05] <rgrinberg> Yes, you must select a sandbox. Otherwise the editor doesn't know where your libraries are installed. You can do so with the "OCaml: Select a Sandbox for This Workspace" command.
[00:51:51] <rgrinberg> companion_cube i'm getting a lot of errors trying to build with cargo
[00:51:59] <rgrinberg> lots of missing symbols errors
[00:52:19] <rgrinberg> in particular missing symbols that should be provided by OCaml's runtime.
[00:53:02] <d_bot> <minimario> choosing a sandbox did not fix the problem ðŸ˜¦
[00:53:24] <d_bot> <minimario> i can "open Core" perfectly but can't "open Async"
[00:53:36] <rgrinberg> I suppose this is the culprit: ld: warning: directory not found for option '-L/Users/rgrinberg/.opam/4.13/lib/ocaml\x1f-lcamlrun
[00:54:11] <rgrinberg> minimario, for editor support to work, the following conditions must be satisfied:
[00:54:14] <companion_cube> rgrinberg: ugh
[00:54:18] <rgrinberg> 1) you must run ocamllsp in the correct sandbox
[00:54:26] <rgrinberg> 2) you must successfully build the project with dune
[00:54:36] <companion_cube> what's your OS?
[00:54:40] <rgrinberg> macos
[00:54:50] <companion_cube> hmm, Matt did a PR for thatâ€¦ that's unfortunate
[00:55:31] <companion_cube> the whole build_rust.sh should try to find OCaml properly, and CI does it :/
[00:55:46] <d_bot> <Et7f3> was is thatÃ¢â‚¬: (encoding issue)
[00:56:01] <d_bot> <Et7f3> What is*
[00:56:29] <d_bot> <Et7f3> A smiley ?
[00:56:44] <d_bot> <minimario> 2) is certainly done, i'm not sure how to check for 1)?
[00:57:12] <rgrinberg> select the correct sandbox in your editor and then restart the lsp server
[00:57:32] <d_bot> <minimario> ocaml: restart language server?
[00:57:33] <rgrinberg> There are separate commands for both of those actions
[00:57:41] <rgrinberg> That's right
[00:58:03] <d_bot> <minimario> hmm i tried this and it still did not work
[00:58:24] <rgrinberg> which version of ocamllsp and dune are you using?
[00:58:52] <d_bot> <minimario> ocamllsp 1.4.1 and dune 2.9.1
[00:59:03] <rgrinberg> you should upgrade to a recent version of ocamllsp
[00:59:47] <d_bot> <minimario> what's the command for that?
[00:59:56] <rgrinberg> how did you install ocamllsp in the first place?
[01:00:21] <d_bot> <minimario> opam install ocaml-lsp-server i think
[01:00:44] <rgrinberg> Okay, then you need opam update && opam upgrade ocaml-lsp-server
[01:01:12] <rgrinberg> companion_cube hard to help without building the project, but what archive files does the cargo build produce?
[01:02:53] <companion_cube> gives me just libbatsat_stubs.a and libbatsat_stubs.so
[01:02:56] <companion_cube> (both pretty big)
[01:03:37] <companion_cube> it uses ocaml-rs to do the stubsâ€¦
[01:04:02] <companion_cube> but really it seems to not work well on macOS, each person has a different build error :/ :/
[01:05:25] <rgrinberg> Okay, then shouldn't you just copy those .a and .so files to your library's dir?
[01:06:12] <companion_cube> yeah that's what I do
[01:06:27] <companion_cube> but I'm annoyed that dune asks me for a third file that doesn't exist
[01:06:53] <companion_cube> and it's not documented how foreign_archives works :/
[01:07:02] <rgrinberg> companion_cube well you're copying an .a file when dune expects an .so, no?
[01:07:23] <companion_cube> it works this way
[01:07:24] <rgrinberg> In particular, how is this supposed to work? (run cp %{lib} dllbatsat_stubs%{ext_lib})
[01:07:36] <companion_cube> I tried with %{ext_dll} but that's also buggy on macOS (wrong extension)
[01:07:50] <companion_cube> it probably won't work with dynamic linking, idk.
[01:08:03] <companion_cube> and I don't care too much, cf `(no_dynlink)`
[01:08:04] <rgrinberg> yes, that's an upstream bug :) they refuse to change to dylib for mac shared libs
[01:09:28] <companion_cube> ah, seems like it still compiles if I remove the dll stuff
[01:09:47] <companion_cube> otoh I have to do this `liblibbatsat.a` when the stubs already contain all I need
[01:10:11] <rgrinberg> use an empty archive then?
[01:10:18] <companion_cube> I tried
[01:10:28] <companion_cube> but couldn't find a way to make that work on macOS
[01:10:31] <companion_cube> look at the commit history
[01:10:50] <companion_cube> `ar rcs foo.a` fails on macOS (not on linux) because it wants at least one file
[01:10:54] <companion_cube> that's kind of exhausting
[01:11:12] <rgrinberg> so what's wrong with having a dummy source?
[01:11:17] <rgrinberg> like you did earlier
[01:12:26] <companion_cube> linking fails :/
[01:12:39] <companion_cube> I honestly don't understand how all that works
[01:12:50] <companion_cube> on master it worked nicely :/
[01:12:56] <companion_cube> (with dune 1.6?)
[01:14:06] <rgrinberg> how does the linking fail?
[01:14:21] <companion_cube> lots of undefiend reference
[01:15:21] <companion_cube> anyway, works for me again, but if it doesn't on your macOS, the problem is not solved :(
[01:16:11] <rgrinberg> well i can't even get far enough to see the error since I can't build the crate
[01:16:36] <companion_cube> the stubs, you mean, right?
[01:16:59] <rgrinberg> yes, ./build_rust.sh doesn't work for me
[01:17:50] <companion_cube> that's really a problem
[01:18:00] <companion_cube> I wonder if it's a macOS version
[01:19:15] <d_bot> <Et7f3> `SEP="`echo -e '\x1f'`";` or `SEP=$'\x1f'` if you don't care of sh
[01:20:09] <companion_cube> might end up scripting it with OCamlâ€¦
[01:20:34] <rgrinberg> yes, it seems to be this pesky separator
[01:20:42] <rgrinberg> it's no being interpreted correctly
[01:21:04] *** Joins: mro (~mro@port-92-195-225-100.dynamic.as20676.net)
[01:21:26] <companion_cube> what rust version do you have?
[01:21:47] <d_bot> <Et7f3> Shouldn't be related to cargo but just shell isue
[01:22:02] <companion_cube> unless cargo doesn't interpret the variable properly
[01:22:07] <d_bot> <Et7f3> And wtf if you wan't sh just use #!/bin/sh
[01:22:31] <companion_cube> `'-L/Users/rgrinberg/.opam/4.13/lib/ocaml\x1f-lcamlrun'` ugh indeed
[01:24:31] <d_bot> <Et7f3> Why does darwin need those special flag ?
[01:24:55] *** Quits: rgrinberg (~textual@2806:101e:1:83af:75fb:59a:2ee:28fe) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[01:25:48] <companion_cube> @Et7f3 I'm not sureâ€¦
[01:29:23] <d_bot> <minimario> after upgrading i am now getting ```/home/minimario/.opam/4.13.1/lib/textwrap/wrapper.cmi seems to be compiled with a version of OCaml that is not supported by Merlin.ocamllsp```
[01:30:18] <d_bot> <NULL> Watch out when you're entering messages with multiple lines, it spams IRC users (or that's what happens when IRC users do so)
[01:30:30] <d_bot> <minimario> oh oops
[01:30:43] <d_bot> <NULL> that's what happens here*
[01:30:58] <d_bot> <NULL> A `dune clean && dune build` should solve this
[01:32:43] <d_bot> <NULL> If you're using a single switch, choosing the sandbox is useless BTW
[01:35:33] <d_bot> <NULL> Wait, I only read the message: why does it point out a file in the switch ?
[01:38:14] <d_bot> <minimario> dune clean && dune build did not solve this
[01:38:26] <d_bot> <minimario> sad
[01:38:52] <d_bot> <NULL> Yeah no, seeing where the error comes from this wouldn't change anything. That's just very weird to me
[01:39:14] <d_bot> <NULL> What's your version of ocaml and ocaml-lsp-server ?
[01:39:33] <d_bot> <minimario> 4.13.1 and 1.9.1
[01:41:58] <d_bot> <NULL> `opam reinstall textwrap` maybe ?
[01:45:15] <d_bot> <minimario> oh i restarted my computer and it worked lmao
[01:45:20] <d_bot> <minimario> ðŸ¤”
[02:01:25] <d_bot> <Ulugbek> After upgrading what specifically? The message seems to say that you compiled the project with a compiler version different than the merlin is compiled with. (Iâ€™ll try documenting this in ocamllsp docs)
[02:01:58] <d_bot> <minimario> i ran "opam update && opam upgrade ocaml-lsp-server"
[02:02:03] <d_bot> <minimario> and then restarted vscode
[02:02:21] <d_bot> <NULL> Did it upgrade OCaml and not recompile that package ?
[02:02:30] <d_bot> <minimario> no idea what it did
[02:02:36] <d_bot> <minimario> hmm
[02:02:44] <d_bot> <minimario> i don't think it upgraded ocaml actually
[02:02:48] <d_bot> <minimario> only ocaml-lsp-server
[02:03:03] <d_bot> <minimario> from 4.1 to 4.9
[02:03:52] <d_bot> <NULL> You mean from `1.4.1` to `1.9.1` ?
[02:05:49] <d_bot> <minimario> yes haha my bad
[02:08:36] <d_bot> <Ulugbek> 1.4.1 is compatible with ocaml 4.12, while 1.9.1 is compatible with ocaml 4.13.x, so the compiler version must have changed
[02:08:40] <d_bot> <Ulugbek> Hence the problem
[02:08:51] <d_bot> <minimario> ah ok
[02:09:01] <d_bot> <minimario> that makes sense
[02:09:04] <d_bot> <NULL> The problem is why that package wasn't recompiled then
[02:18:39] <d_bot> <minimario> are lwt and async essentially different libraries providing similar functionality
[02:42:44] *** Quits: mro (~mro@port-92-195-225-100.dynamic.as20676.net) (Quit: Leaving...)
[02:45:37] <d_bot> <NULL> I can sorta reproduce the problem : with switches `a` (OCaml 4.13.1, ocaml-lsp-server 1.9.1) and `b` (OCaml 4.11.1, ocaml-lsp-server 1.4.1), sandbox set to switch a but global switch b, the LSP complains that switch b's Stdlib was compiled with 4.11 (and expects 4.13)
[02:52:29] <d_bot> <NULL> That's because the project is built with OCaml 4.11 where LSP expects 4.13; the problem is only that it's the Stdlib being wrongfully flagged as the wrong version
[03:03:41] <d_bot> <rgrinberg> Now I donâ€™t remember if the lsp server is restated when the sandbox is switched.
[03:03:47] <d_bot> <rgrinberg> If itâ€™s not, it probably should be
[03:04:03] <d_bot> <NULL> I don't know either but that's not the problem
[03:04:32] <d_bot> <NULL> It would be if switch a and b were swapped
[03:08:37] *** Quits: jlrnick (~josephler@42.118.113.78.rev.sfr.net) (Ping timeout: 240 seconds)
[03:55:02] *** Quits: vicfred (~vicfred@user/vicfred) (Quit: Leaving)
[04:01:37] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 240 seconds)
[04:50:34] *** Quits: TakinOver (~quassel@193.27.13.251) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[05:09:24] *** Quits: Tuplanolla (~Tuplanoll@91-159-69-214.elisa-laajakaista.fi) (Quit: Leaving.)
[05:10:44] *** Joins: rgrinberg (~textual@2806:101e:1:83af:75fb:59a:2ee:28fe)
[05:10:44] *** Quits: Colt (~Colt@user/colt) (Remote host closed the connection)
[05:11:16] *** Joins: Colt (~Colt@user/colt)
[05:12:52] *** Quits: rgrinberg (~textual@2806:101e:1:83af:75fb:59a:2ee:28fe) (Read error: Connection reset by peer)
[05:14:29] *** Joins: rgrinberg (~textual@2806:101e:1:83af:75fb:59a:2ee:28fe)
[05:15:50] *** Quits: kaph (~kaph@net-2-47-236-216.cust.vodafonedsl.it) (Ping timeout: 260 seconds)
[05:20:26] *** Quits: Soni (~quassel@autistic.space) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[05:21:20] *** Joins: Soni (~quassel@autistic.space)
[05:57:19] *** Joins: spip (~bobo@37.166.88.39)
[05:57:43] *** spip is now known as Guest8997
[05:57:57] *** Quits: Guest7910 (~bobo@37.164.34.220) (Ping timeout: 240 seconds)
[06:00:15] *** Quits: rgrinberg (~textual@2806:101e:1:83af:75fb:59a:2ee:28fe) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[06:03:26] *** Joins: rgrinberg (~textual@2806:101e:1:83af:75fb:59a:2ee:28fe)
[06:06:08] *** Quits: rgrinberg (~textual@2806:101e:1:83af:75fb:59a:2ee:28fe) (Client Quit)
[06:37:37] *** Joins: rgrinberg (~textual@187.223.23.238)
[07:11:37] *** Joins: kaph_ (~kaph@net-2-47-236-216.cust.vodafonedsl.it)
[07:56:26] *** Joins: mbuf (~Shakthi@223.178.76.172)
[08:26:57] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[08:41:34] *** Joins: gopcode (~gopcode@137.132.220.135)
[08:42:24] <gopcode> Hi, Is it possible to close an input_channel without closing the underlying file descriptor?
[08:42:59] <gopcode> For context, I'm working on a file on a unix fs that may be changed during the execution of the program
[08:43:22] <gopcode> currently my plan is to open a Unix file descriptor for the file once
[08:44:39] <gopcode> there are functions to build an in_channel from a file descriptor, but as in_channels are buffered, once I've created an in_channel for the file, if it changes, I can't read the new data from the existing in_channel
[08:45:23] <gopcode> but, the file descriptor is still open, so I could fseek to the beginning, and create a new in_channel to access the new data
[08:45:54] <gopcode> the question remains how to "clean up" the old in_channel which buffered the old input without closing the persisted file descriptor
[08:48:53] *** Quits: vb (~vb@lfbn-idf2-1-1364-212.w92-169.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[08:50:41] *** Joins: vb (~vb@lfbn-idf2-1-1364-212.w92-169.abo.wanadoo.fr)
[09:08:26] *** Quits: rgrinberg (~textual@187.223.23.238) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[09:13:03] *** Joins: gravicappa (~gravicapp@178.214.248.83)
[09:13:28] *** Joins: xd1le (~xd1le@user/xd1le)
[09:21:19] *** Joins: rgrinberg (~textual@2806:101e:1:83af:75fb:59a:2ee:28fe)
[10:18:42] *** Joins: jlrnick (~josephler@42.118.113.78.rev.sfr.net)
[10:25:14] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: No Ping reply in 180 seconds.)
[10:26:36] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[10:46:14] *** Quits: Colt (~Colt@user/colt) (Ping timeout: 260 seconds)
[10:46:41] *** Joins: Colt (~Colt@user/colt)
[10:50:43] *** Quits: jlrnick (~josephler@42.118.113.78.rev.sfr.net) (Ping timeout: 256 seconds)
[10:58:18] *** Quits: hackinghorn (~hackingho@user/hackinghorn) (Read error: Connection reset by peer)
[10:58:43] *** Joins: hackinghorn (~hackingho@user/hackinghorn)
[11:08:15] *** Joins: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25)
[11:12:06] <rgrinberg> Why do you need to "clean up" the in_channel? Just throw the value away and let the GC dispose of it
[11:12:30] <rgrinberg> If you really want to "close" it, you can just dup the fd before doing so
[11:28:09] *** Quits: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25) (Remote host closed the connection)
[11:30:57] *** Joins: mro (~mro@port-92-195-170-52.dynamic.as20676.net)
[11:31:19] *** Joins: Tuplanolla (~Tuplanoll@91-159-69-214.elisa-laajakaista.fi)
[11:34:45] <gopcode> ah, tI thought in_channels had to be closed manually to free up the resources they take, but I guess that's only required to close the file descriptor
[11:45:58] *** Quits: hackinghorn (~hackingho@user/hackinghorn) (Ping timeout: 260 seconds)
[11:54:22] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 260 seconds)
[11:56:00] *** Joins: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4)
[12:02:52] *** Quits: mro (~mro@port-92-195-170-52.dynamic.as20676.net) (Remote host closed the connection)
[12:05:06] *** Joins: mro (~mro@port-92-195-170-52.dynamic.as20676.net)
[12:07:07] *** Quits: mro (~mro@port-92-195-170-52.dynamic.as20676.net) (Remote host closed the connection)
[12:09:59] *** Joins: mro (~mro@port-92-195-170-52.dynamic.as20676.net)
[12:53:57] *** Joins: hackinghorn (~hackingho@user/hackinghorn)
[13:02:48] *** Quits: rgrinberg (~textual@2806:101e:1:83af:75fb:59a:2ee:28fe) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[13:15:09] *** Quits: mro (~mro@port-92-195-170-52.dynamic.as20676.net) (Remote host closed the connection)
[13:24:56] *** Joins: mro (~mro@port-92-195-170-52.dynamic.as20676.net)
[13:27:11] *** Joins: jlrnick (~josephler@42.118.113.78.rev.sfr.net)
[13:28:20] *** Quits: mro (~mro@port-92-195-170-52.dynamic.as20676.net) (Remote host closed the connection)
[13:45:27] *** Joins: mro (~mro@port-92-195-170-52.dynamic.as20676.net)
[13:46:04] *** Quits: mro (~mro@port-92-195-170-52.dynamic.as20676.net) (Remote host closed the connection)
[13:46:17] *** Joins: mro (~mro@port-92-195-170-52.dynamic.as20676.net)
[13:49:01] *** Quits: mro (~mro@port-92-195-170-52.dynamic.as20676.net) (Remote host closed the connection)
[13:53:03] *** Joins: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25)
[13:54:49] *** Quits: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25) (Remote host closed the connection)
[13:55:03] *** Joins: mro (~mro@port-92-195-170-52.dynamic.as20676.net)
[13:55:42] *** Joins: bartholin (~bartholin@158.110.70.210)
[13:59:10] *** Quits: mro (~mro@port-92-195-170-52.dynamic.as20676.net) (Remote host closed the connection)
[13:59:22] *** Joins: kakadu (~kakadu@195.19.236.234)
[14:02:47] *** Joins: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25)
[14:14:39] *** Quits: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25) (Remote host closed the connection)
[14:16:03] *** Quits: Serpent7776 (~Serpent77@90-156-31-193.internetia.net.pl) (Quit: leaving)
[14:35:42] *** Joins: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25)
[15:06:29] *** Quits: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25) (Remote host closed the connection)
[15:32:53] *** Joins: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25)
[15:37:35] *** Quits: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25) (Remote host closed the connection)
[15:41:53] <d_bot> <Kakadu> If I want my program to use a remote git repo (on Github/Gitlab) as a storage, should I look at C interface of git or  https://github.com/mirage/ocaml-git could be sufficient?
[16:11:56] <hannes> Kakadu: I use ocaml-git for pulling and pushing to GitHub/gitea, using git-over-ssh.
[16:44:48] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[17:13:18] <d_bot> <Kakadu> @hannes: Could you recommend any example?
[17:33:24] <d_bot> <dinosaure> You can see this binary which `fetch` a Git repository: https://github.com/dinosaure/docteur/blob/main/bin/make.ml (and make a `*.img` from it)
[17:34:38] <d_bot> <dinosaure> Currently, I was mostly focus about the MirageOS support. So you need to do the glue sometimes but, at least, it works ðŸ™‚
[17:41:12] *** Joins: Haudegen (~quassel@91.114.49.10)
[17:44:30] <d_bot> <dinosaure> After it depends on your goal, for instance, this executable wants to `fetch` a repository _in memory_. That means that it does not create a `.git` as `git` does
[17:47:23] <d_bot> <Kakadu> Cool, it creates a file with an image if my repo!
[17:49:22] <d_bot> <dinosaure> seems pretty close to what `docteur` does ðŸ™‚
[17:57:48] *** Quits: Guest8997 (~bobo@37.166.88.39) (Ping timeout: 240 seconds)
[17:57:51] *** Joins: spip (~bobo@37.168.195.178)
[17:58:15] *** spip is now known as Guest7163
[18:03:50] *** Joins: Anarchos (~Anarchos@lfbn-ren-1-82-241.w83-205.abo.wanadoo.fr)
[18:27:37] *** Quits: chrisz (hr5cdsa7gj@55d4ea4e.access.ecotel.net) (Ping timeout: 250 seconds)
[18:29:17] *** Joins: chrisz (zbt69hpkec@55d4ccec.access.ecotel.net)
[18:43:17] *** Quits: bartholin (~bartholin@158.110.70.210) (Quit: Leaving)
[19:36:49] *** Quits: xd1le (~xd1le@user/xd1le) (Quit: xd1le)
[19:49:58] *** Quits: jlrnick (~josephler@42.118.113.78.rev.sfr.net) (Ping timeout: 268 seconds)
[19:55:12] *** Joins: mro (~mro@port-92-195-170-52.dynamic.as20676.net)
[19:56:24] <d_bot> <VPhantom> Hm. What's the point of a _typed_ GADT without a value? i.e. `type _ t = (* variants with values *) |String : string t`
[19:56:51] <d_bot> <VPhantom> vs `|String : _ t`
[19:57:22] <d_bot> <VPhantom> In both cases its only purpose that I can think of, is to provide a `String` case when matching.
[20:00:38] *** Quits: chrisz (zbt69hpkec@55d4ccec.access.ecotel.net) (Ping timeout: 260 seconds)
[20:02:09] *** Joins: chrisz (ldtqh4ylvd@55d492a5.access.ecotel.net)
[20:05:59] <Fardale> In the first case, when you match a value of type 'a t, en the branch String, you will add the equality 'a = string, in the second case you won't. Then if you have a function "string t -> _" you can use it in the first case but not in the second case.
[20:09:11] <d_bot> <VPhantom> I see, thanks. ðŸ™‚
[20:21:11] *** Quits: mbuf (~Shakthi@223.178.76.172) (Quit: Leaving)
[20:22:14] *** Quits: mro (~mro@port-92-195-170-52.dynamic.as20676.net) (Remote host closed the connection)
[20:28:49] *** Quits: Haudegen (~quassel@91.114.49.10) (Quit: Bin weg.)
[20:33:16] *** Quits: chrisz (ldtqh4ylvd@55d492a5.access.ecotel.net) (Ping timeout: 245 seconds)
[20:33:37] *** Joins: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25)
[20:34:59] *** Joins: chrisz (o09666nv6f@55d425f6.access.ecotel.net)
[20:37:04] *** Quits: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25) (Remote host closed the connection)
[20:45:52] *** Quits: Anarchos (~Anarchos@lfbn-ren-1-82-241.w83-205.abo.wanadoo.fr) (Quit: Vision[]: i've been blurred!)
[20:47:53] *** Joins: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25)
[21:07:44] *** Quits: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25) (Remote host closed the connection)
[21:24:03] *** Joins: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25)
[21:28:41] *** Quits: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25) (Ping timeout: 245 seconds)
[21:46:36] *** Joins: Everything (~Everythin@37.115.210.35)
[21:56:53] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[21:57:47] *** Joins: mro (~mro@port-92-195-170-52.dynamic.as20676.net)
[22:06:57] *** Quits: mro (~mro@port-92-195-170-52.dynamic.as20676.net) (Ping timeout: 240 seconds)
[22:08:28] *** Joins: jlrnick (~josephler@42.118.113.78.rev.sfr.net)
[22:18:57] *** Quits: Guest7163 (~bobo@37.168.195.178) (Ping timeout: 240 seconds)
[22:21:01] *** Joins: Guest7163 (~bobo@37.165.95.90)
[22:28:51] *** Joins: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25)
[22:38:55] *** Quits: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25) (Ping timeout: 268 seconds)
[23:07:30] *** Joins: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25)
[23:12:26] *** Quits: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25) (Ping timeout: 260 seconds)
[23:32:47] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 252 seconds)
[23:34:50] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[23:41:27] *** Joins: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25)
[23:46:07] *** Quits: mro (~mro@2002:5cc3:aa34:0:a472:12c6:b15:5c25) (Ping timeout: 250 seconds)
[23:59:59] *** Joins: rgrinberg (~textual@187.223.250.159)
