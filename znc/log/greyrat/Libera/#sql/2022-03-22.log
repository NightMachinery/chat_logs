[01:02:46] *** Quits: k8yun (~k8yun@user/k8yun) (Quit: Leaving)
[01:03:35] *** Quits: Fausto (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[01:04:42] *** Quits: lechner (~lechner@debian/lechner) (Ping timeout: 252 seconds)
[01:05:49] *** Quits: wyre (~wyre@user/wyre) (Quit: ZNC 1.8.2 - https://znc.in)
[01:07:42] *** Joins: wyre (~wyre@user/wyre)
[01:58:19] *** Joins: irontom (~user@2607:fcd0:aa80:1304::b42e)
[02:13:06] *** Quits: humanBird (~humanBird@2603-8001-7000-3642-dceb-bf7e-650a-7ef8.res6.spectrum.com) (Quit: Client closed)
[02:15:23] *** Joins: acidjnk (~acidjnk@p200300d0c7049f41b9198ff49f7dde11.dip0.t-ipconnect.de)
[02:29:33] *** Parts: ATAD (~ATAD@user/atad) ()
[02:33:02] *** Joins: rgrinberg (~textual@fixed-187-191-8-46.totalplay.net)
[02:39:56] *** Joins: cliluw (~cliluw@47.147.77.43)
[02:51:38] *** Joins: whatsupdoc (uid509081@id-509081.hampstead.irccloud.com)
[03:05:35] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[03:14:24] *** Joins: lechner (~lechner@debian/lechner)
[03:22:27] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[03:27:08] *** Quits: irontom (~user@2607:fcd0:aa80:1304::b42e) (Ping timeout: 252 seconds)
[03:31:09] *** Quits: gxt (~gxt@gateway/tor-sasl/gxt) (Quit: WeeChat 3.4)
[03:32:37] *** Joins: gxt (~gxt@gateway/tor-sasl/gxt)
[03:37:19] *** Quits: ckdCreations (~ckdCreati@147.55.133.139) (Read error: Connection reset by peer)
[03:37:39] *** Joins: ckdCreations (~ckdCreati@c-73-140-151-116.hsd1.wa.comcast.net)
[03:47:56] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Quit: shibboleth)
[03:49:59] *** Joins: irontom (~user@69.174.103.168)
[04:03:08] *** Joins: Xgc (~Xgc@user/xgc)
[04:08:23] *** Quits: acidjnk (~acidjnk@p200300d0c7049f41b9198ff49f7dde11.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[04:14:39] *** Joins: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp)
[04:35:48] *** Quits: irontom (~user@69.174.103.168) (Ping timeout: 240 seconds)
[04:40:26] *** Joins: z_lehinsun (~lehinsun@188.113.178.220)
[04:40:44] *** Quits: z_lehinsun (~lehinsun@188.113.178.220) (Remote host closed the connection)
[04:48:56] *** Joins: funhouse (~funhouse@user/funhouse)
[05:10:07] *** Joins: w_lehinsun (~lehinsun@188.113.178.220)
[05:11:20] *** Quits: dimi1947 (~dimi1947@46-108-90.adsl.cyta.gr) (Quit: Leaving)
[05:16:59] *** Quits: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[05:22:50] *** Joins: irontom (~user@69.174.103.168)
[05:49:24] *** Quits: MrZeus_ (~MrZeus@81.92.205.23) (Ping timeout: 240 seconds)
[06:13:50] *** Quits: rgrinberg (~textual@fixed-187-191-8-46.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:14:42] *** Quits: w_lehinsun (~lehinsun@188.113.178.220) (Read error: Connection reset by peer)
[06:34:04] *** Quits: irontom (~user@69.174.103.168) (Remote host closed the connection)
[07:05:51] *** Joins: sceptttre (~sceptttre@2603-6011-df05-84ab-4dc8-9f14-9889-866c.res6.spectrum.com)
[07:39:20] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[07:40:53] *** Joins: videl_ (~videl@user/videl)
[07:41:04] *** Joins: [ins4ne]_ (~ins4ne]@user/ins4ne/x-5207303)
[07:41:07] *** Joins: dante4431 (~dante443@2600:1702:7a0:9a40:6e62:6dff:fe5d:c340)
[07:41:15] *** Joins: burakcan- (~burakcank@has.arrived.and.is.ready-to.party)
[07:41:29] *** Quits: videl (~videl@user/videl) (*.net *.split)
[07:41:29] *** Quits: dante443 (~dante443@2600:1702:7a0:9a40:6e62:6dff:fe5d:c340) (*.net *.split)
[07:41:29] *** Quits: burakcank (~burakcank@has.arrived.and.is.ready-to.party) (*.net *.split)
[07:41:29] *** Quits: [ins4ne] (~ins4ne]@user/ins4ne/x-5207303) (*.net *.split)
[07:42:24] *** burakcan- is now known as burakcank
[07:44:07] *** Quits: sceptttre (~sceptttre@2603-6011-df05-84ab-4dc8-9f14-9889-866c.res6.spectrum.com) (Quit: Client closed)
[07:49:12] *** Joins: irontom (~user@69.174.103.168)
[07:55:40] *** Quits: millido (~millido@84.210.150.128) (Read error: Connection reset by peer)
[07:57:03] *** Quits: irontom (~user@69.174.103.168) (Ping timeout: 256 seconds)
[08:09:54] *** Joins: millido (~millido@84.210.150.128)
[08:59:06] *** Joins: k8yun (~k8yun@user/k8yun)
[09:22:27] *** Quits: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com) (Ping timeout: 252 seconds)
[09:38:17] *** Quits: k8yun (~k8yun@user/k8yun) (Read error: Connection reset by peer)
[09:52:08] *** Joins: rgrinberg (~textual@fixed-187-191-8-46.totalplay.net)
[09:55:32] *** Quits: lechner (~lechner@debian/lechner) (Ping timeout: 240 seconds)
[10:14:41] *** Joins: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com)
[10:27:54] *** Joins: cerill (~cerill@h-155-4-198-153.A785.priv.bahnhof.se)
[10:47:59] *** Joins: grooverman_ (~grooverma@152.250.149.217)
[10:50:41] *** Quits: cerill (~cerill@h-155-4-198-153.A785.priv.bahnhof.se) (Ping timeout: 256 seconds)
[10:51:00] *** Quits: grooverman (~grooverma@152.250.149.49) (Ping timeout: 240 seconds)
[11:05:52] *** Quits: whatsupdoc (uid509081@id-509081.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[11:15:11] *** Quits: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com) (Ping timeout: 252 seconds)
[11:16:39] *** Quits: rgrinberg (~textual@fixed-187-191-8-46.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:43:04] *** Joins: whatsupdoc (uid509081@id-509081.hampstead.irccloud.com)
[11:43:26] *** Joins: acidjnk (~acidjnk@pd9e0b763.dip0.t-ipconnect.de)
[12:14:39] *** Joins: maret (~maret@195.12.158.102)
[12:23:26] *** Joins: palasso (~palasso@user/palasso)
[12:32:59] *** Joins: grooverman (~grooverma@152.250.149.217)
[12:34:13] *** Quits: grooverman_ (~grooverma@152.250.149.217) (Ping timeout: 240 seconds)
[12:47:22] *** Joins: grooverman_ (~grooverma@152.250.149.49)
[12:50:53] *** Quits: grooverman (~grooverma@152.250.149.217) (Ping timeout: 252 seconds)
[13:37:43] *** Joins: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp)
[14:25:52] *** Quits: whatsupdoc (uid509081@id-509081.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[15:39:33] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[15:52:51] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[16:14:24] *** Quits: acidjnk (~acidjnk@pd9e0b763.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[16:27:42] *** Joins: maret (~maret@195.12.158.102)
[16:59:35] *** Joins: acidjnk (~acidjnk@p200300d0c7049f30b166e41192d3e532.dip0.t-ipconnect.de)
[17:05:14] *** Joins: epolanski (uid312403@id-312403.helmsley.irccloud.com)
[17:32:01] *** Quits: acidjnk (~acidjnk@p200300d0c7049f30b166e41192d3e532.dip0.t-ipconnect.de) (Ping timeout: 245 seconds)
[18:16:42] *** Quits: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[18:53:31] *** Quits: grooverman_ (~grooverma@152.250.149.49) (Read error: Connection reset by peer)
[18:54:48] *** Joins: grooverman (~grooverma@152.250.149.217)
[19:00:55] *** Joins: lechner (~lechner@debian/lechner)
[19:12:40] *** Joins: Fausto (~dante@gateway/tor-sasl/filohuhum)
[19:27:25] *** Joins: Fauto_ (~dante@gateway/tor-sasl/filohuhum)
[19:29:35] *** Quits: Fausto (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[19:31:51] *** Joins: acidjnk (~acidjnk@p200300d0c7049f30e5337983ccb1fe06.dip0.t-ipconnect.de)
[19:57:01] *** Quits: acidjnk (~acidjnk@p200300d0c7049f30e5337983ccb1fe06.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[19:58:36] *** Joins: Rashad (~textual@2a01:9700:13b9:5900:d4b:53d7:d739:3482)
[19:59:15] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[20:10:58] *** Quits: ckdCreations (~ckdCreati@c-73-140-151-116.hsd1.wa.comcast.net) (Read error: Connection reset by peer)
[20:11:30] *** Joins: ckdCreations (~ckdCreati@c-73-140-151-116.hsd1.wa.comcast.net)
[20:13:56] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[20:17:07] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 256 seconds)
[20:19:16] *** Quits: Fauto_ (~dante@gateway/tor-sasl/filohuhum) (Remote host closed the connection)
[20:22:32] *** Quits: millido (~millido@84.210.150.128) (Ping timeout: 240 seconds)
[20:23:15] *** Joins: millido (~millido@84.210.150.128)
[20:24:07] *** Joins: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e)
[20:29:04] *** Quits: Rashad (~textual@2a01:9700:13b9:5900:d4b:53d7:d739:3482) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[20:29:39] *** Joins: PTNapivoski (~PTNapivos@179.189.133.33)
[20:31:59] *** Joins: node1 (~hex@user/node1)
[20:34:56] *** Quits: ckdCreations (~ckdCreati@c-73-140-151-116.hsd1.wa.comcast.net) (Ping timeout: 245 seconds)
[20:40:57] *** Joins: Fauto_ (~dante@gateway/tor-sasl/filohuhum)
[20:43:48] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[20:44:58] *** Quits: maret (~maret@195.12.158.102) (Quit: maret)
[20:48:15] *** Quits: Fauto_ (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[20:53:38] *** Joins: ckdCreations (~ckdCreati@147.55.130.35)
[20:54:20] *** Joins: Fausto (~dante@gateway/tor-sasl/filohuhum)
[21:00:50] *** Quits: ckdCreations (~ckdCreati@147.55.130.35) (Read error: Connection reset by peer)
[21:01:15] *** Joins: ckdCreations (~ckdCreati@147.55.130.35)
[21:06:54] *** Joins: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com)
[21:07:28] *** Joins: rgrinberg (~textual@fixed-187-191-8-46.totalplay.net)
[21:07:55] *** Quits: bitblit (~bitblit@gateway/tor-sasl/bitblit) (Ping timeout: 240 seconds)
[21:12:32] *** Quits: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e) (Quit: Client closed)
[21:13:48] *** Joins: bitblit (~bitblit@gateway/tor-sasl/bitblit)
[21:18:41] *** Quits: grooverman (~grooverma@152.250.149.217) (Ping timeout: 245 seconds)
[21:34:57] *** Quits: rgrinberg (~textual@fixed-187-191-8-46.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:35:39] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[21:37:03] *** Quits: node1 (~hex@user/node1) (Remote host closed the connection)
[21:40:01] *** Joins: funhouse (~funhouse@user/funhouse)
[21:40:21] *** Joins: MrZeus_ (~MrZeus@81.92.206.10)
[21:44:28] *** Joins: grooverman (~grooverma@187.11.220.159)
[21:48:08] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[21:49:34] *** Joins: palasso (~palasso@user/palasso)
[22:01:59] *** Quits: grooverman (~grooverma@187.11.220.159) (Ping timeout: 252 seconds)
[22:02:44] *** Quits: epolanski (uid312403@id-312403.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[22:08:32] *** Joins: grooverman (~grooverma@152.250.149.217)
[22:10:58] *** Joins: rgrinberg (~textual@fixed-187-191-8-46.totalplay.net)
[22:27:03] *** Quits: rgrinberg (~textual@fixed-187-191-8-46.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:51:08] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[22:57:01] *** Joins: \monster\ (~\monster\@cpe107bef40cdd9-cm1cabc0a2a390.cpe.net.cable.rogers.com)
[22:59:42] *** Quits: rvalue (~rvalue@user/rvalue) (Read error: Connection reset by peer)
[23:00:14] *** Joins: rvalue (~rvalue@user/rvalue)
[23:02:37] <\monster\> Hi guys, I'm seeing a strange performance difference between Azure SQL and my local dev box running SQL Server 2019.  I copied the production database to optimize a stored procedure which generates a report. Was pretty happy when I got it down from about 3.2 seconds to 0.2 so copied it over to the production Azure db to see how it performs there.
[23:02:38] <\monster\> Blah it fell on its face where the original was doing about 4sec to now the new version doing it in 75sec.  Basically on my local system i had a 10x improvement whereas on Azure its a crazy step backwards.
[23:04:00] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[23:04:46] <\monster\> I narrowed it down to a CTE which does a simple left join of 440 rows to a table with about 260k rows.  It's a simply join between a primary key and non clustered index.  I don't get it how it can be this slow on Azure compared to my local system
[23:04:57] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[23:06:07] <\monster\> Data is identical and schema is identical.  There's nothing special about my dev box, its just a default installation of SQL Server 2019.  Any ideas what could be causing this issue?
[23:07:31] <\monster\> Is it possible for index on the 260k row table be corrupt or something and not getting used?  There's at max 1:1 relationship between the two tables so only 440 rows get returned
[23:09:15] *** Quits: Fausto (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[23:10:16] *** Joins: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e)
[23:42:44] *** Quits: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e) (Quit: Client closed)
[23:43:48] *** Joins: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e)
[23:49:25] <Xgc> \monster\: Sure.  It could be a statistics issue.  The optimizer doesn't usually have perfect detail.  These can be estimates and can result in a poor plan.  Is there an explain plan that you can review?
[23:51:29] *** Joins: rgrinberg (~textual@2806:102e:18:c0c1:a896:63f7:5249:df28)
[23:52:31] <\monster\> I found one thing that was adding a big chunk to query time, adding a null check to join params improvement performance quite a bit  SELECT * FROM tableA LEFT JOIN smallTABLE ON(params) LEFT JOIN bigTable ON(smallTable.id IS NOT NULL AND smallTable.result_id = largeTable.result_id)
[23:52:47] <\monster\> not sure why this only popped up on Azure and not my stand alone server
[23:54:45] *** Quits: PTNapivoski (~PTNapivos@179.189.133.33) (Quit: Leaving)
[23:55:46] <Xgc> Is smallTable.id nullable?
[23:56:13] *** Joins: PTNapivoski (~PTNapivos@179.189.133.33)
[23:56:20] <Xgc> Oh. That's the join result.
[23:56:27] <\monster\> sorry smallTable.result_id
[23:56:42] <Xgc> Either way, it could be null, due to the first LEFT JOIN
[23:56:59] <\monster\> correct, seems to cause issue on Azure but not on standard sql server
[23:57:10] <\monster\> needs explicit check on Azure
[23:57:11] <Xgc> I think you'll find your answer in the execution plan.
[23:58:10] <Xgc> I suspect different indexes were used or a full scan in the slower case vs the faster.
