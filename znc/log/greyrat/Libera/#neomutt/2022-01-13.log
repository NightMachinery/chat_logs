[00:06:56] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Ping timeout: 250 seconds)
[00:08:24] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[00:33:48] *** Quits: bsd4me (~IceChat95@user/bsd4me) (Ping timeout: 256 seconds)
[00:41:44] *** Ekho- is now known as Ekho
[01:03:17] *** Joins: weirdsmiley (~weirdsmil@203.122.10.222)
[01:24:52] *** Quits: strajder (~strajder@user/strajder) (Quit: gn)
[01:42:04] *** Joins: rgrinberg (~textual@187.223.209.255)
[01:48:05] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: Disconnecting)
[02:29:09] *** Quits: rgrinberg (~textual@187.223.209.255) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:37:45] *** Joins: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au)
[02:38:06] *** Joins: bsd4me (~IceChat95@user/bsd4me)
[02:41:37] *** Joins: Maxattax97 (~max@2603:300f:b9f:2000::b278)
[02:42:16] *** Joins: rgrinberg (~textual@187.223.209.255)
[02:47:47] *** Quits: rgrinberg (~textual@187.223.209.255) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:56:39] *** Quits: Maxattax97 (~max@2603:300f:b9f:2000::b278) (Quit: WeeChat 3.3)
[03:12:09] *** Quits: polve (~polve@user/polve) (Ping timeout: 250 seconds)
[03:12:53] *** Joins: polve (~polve@user/polve)
[03:16:51] *** Quits: kzak (~kzak@nat-37.starnet.cz) (Ping timeout: 256 seconds)
[03:31:44] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Ping timeout: 256 seconds)
[03:33:12] *** Quits: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au) (Ping timeout: 250 seconds)
[03:38:18] *** Joins: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au)
[03:40:05] *** Quits: bsd4me (~IceChat95@user/bsd4me) (Ping timeout: 256 seconds)
[03:40:08] *** Quits: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au) (Client Quit)
[03:41:37] *** Quits: Pali (~pali@user/pali) (Ping timeout: 250 seconds)
[03:42:37] *** Joins: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au)
[04:13:18] *** Joins: bsd4me (~IceChat95@user/bsd4me)
[04:36:45] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 256 seconds)
[04:39:11] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:42:48] *** Quits: plastico (~plastico@neomutt/plastico) (Quit: WeeChat 3.4)
[04:44:42] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 250 seconds)
[04:51:31] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:51:58] *** Quits: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au) (Quit: dcpurton)
[04:58:27] *** Joins: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au)
[05:09:43] *** Joins: whatsyourask (~whatsyour@user/whatsyourask)
[05:27:11] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 256 seconds)
[05:32:17] *** Quits: maetthew_ (~maetthew@c188-150-159-232.bredband.tele2.se) (Quit: ZNC 1.8.2 - https://znc.in)
[05:33:57] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[05:34:51] *** Joins: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se)
[05:34:52] *** Quits: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se) (Changing host)
[05:34:52] *** Joins: maetthew (~maetthew@user/maetthew)
[05:35:10] *** Joins: phoebos (~phoebos@kisslinux/phoebos)
[05:44:32] *** Quits: nyah (~nyah@94.6.71.219) (Ping timeout: 240 seconds)
[05:48:26] *** Joins: rgrinberg (~textual@187.223.209.255)
[06:00:07] *** Quits: mgedmin (~mg@user/mgedmin) (Quit: ZNC - http://znc.sourceforge.net)
[06:03:10] *** Joins: mgedmin (~mg@user/mgedmin)
[06:21:01] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 240 seconds)
[06:21:15] *** Quits: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au) (Quit: dcpurton)
[06:22:49] *** Quits: bsd4me (~IceChat95@user/bsd4me) (Quit: Some folks are wise, and some otherwise.)
[06:25:02] *** Joins: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au)
[06:36:44] *** Joins: keypusher (keypusher@user/keypusher)
[06:42:42] *** Quits: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au) (Ping timeout: 256 seconds)
[06:43:23] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3)
[06:43:39] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[06:46:34] *** Joins: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au)
[06:47:35] *** Quits: rgrinberg (~textual@187.223.209.255) (Read error: Connection reset by peer)
[06:48:32] *** Joins: rgrinberg (~textual@187.223.209.255)
[06:56:42] *** Quits: whatsyourask (~whatsyour@user/whatsyourask) (Quit: whatsyourask)
[07:15:05] *** Joins: vysn (~vysn@user/vysn)
[07:33:41] *** Quits: motherfsck (~motherfsc@user/motherfsck) (Read error: Connection reset by peer)
[07:34:42] *** Quits: vysn (~vysn@user/vysn) (Remote host closed the connection)
[08:28:52] *** Joins: sassmann (~sassmann@user/sassmann)
[08:29:39] *** Quits: sassmann_ (~sassmann@user/sassmann) (Ping timeout: 256 seconds)
[08:47:08] *** Quits: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au) (Quit: dcpurton)
[08:50:53] *** Joins: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au)
[09:28:32] *** Joins: malaclyps (~mala@user/malaclyps)
[09:28:35] *** Quits: mala (~mala@user/malaclyps) (Read error: Connection reset by peer)
[09:38:18] *** Quits: rgrinberg (~textual@187.223.209.255) (Read error: Connection reset by peer)
[09:39:49] *** Joins: rgrinberg (~textual@187.223.209.255)
[10:02:15] *** Quits: rickumali (~rick@2601:19c:4200:4160:de5b:a707:fa68:342d) (Ping timeout: 264 seconds)
[10:14:31] *** Quits: fmneto (~quassel@2804:14c:70:27f0::1000) (Ping timeout: 245 seconds)
[10:25:34] *** Joins: rickumali (~rick@2601:19c:4200:4160::d5d0)
[10:30:53] *** Quits: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au) (Quit: dcpurton)
[10:44:23] *** Quits: rgrinberg (~textual@187.223.209.255) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:57:32] *** Joins: rgrinberg (~textual@187.223.209.255)
[11:05:10] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Remote host closed the connection)
[11:05:28] *** Joins: saki (~saki@gateway/tor-sasl/saki)
[11:34:08] *** Quits: rgrinberg (~textual@187.223.209.255) (Remote host closed the connection)
[11:35:42] *** Joins: rgrinberg (~textual@187.223.209.255)
[11:56:29] *** Joins: kzak (~kzak@nat-37.starnet.cz)
[11:57:52] *** Quits: todd (~todd@gateway/tor-sasl/toddf) (Remote host closed the connection)
[11:58:57] <rittchen> artagnon:mail-over-news sounds interesting ... may you point me to a URL where I can read about it?
[12:02:51] *** Joins: Vonter (~Vonter@user/vonter)
[12:03:44] *** Joins: todd (~todd@gateway/tor-sasl/toddf)
[12:16:53] <artagnon> rittchen: There's apparently a little Perl script that does it (https://www.sirlab.de/linux/descr_m2n.html), and you can out an implementation of the same here: https://lore.kernel.org/git/_/text/help/ (scroll to the bottom where there's an NNTP link)
[12:17:33] <artagnon> I don't know what lore uses -- probably a hand-rolled Perl script.
[12:22:19] *** fstab_ is now known as fstab
[12:28:00] *** Joins: Pali (~pali@user/pali)
[12:35:07] *** Quits: rgrinberg (~textual@187.223.209.255) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:36:54] *** Quits: weirdsmiley (~weirdsmil@203.122.10.222) (Remote host closed the connection)
[12:44:59] *** Joins: weirdsmiley (~weirdsmil@203.122.10.222)
[13:13:56] *** Joins: plastico (~plastico@neomutt/plastico)
[13:22:17] <artagnon> rittchen: Found it! https://public-inbox.org/README
[13:40:28] *** Joins: reset (~reset@user/reset)
[13:42:42] <flatcap> morning all
[13:43:41] <kushal> flatcap, good morning :)
[13:44:23] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[13:45:16] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[13:46:00] <flatcap> hi kushal 
[13:47:38] <kushal> flatcap, your good morning message is the cue for me that I should sync my mails and open neomutt to read :p
[13:52:02] <flatcap> :-)
[13:55:25] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[14:01:53] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Ping timeout: 256 seconds)
[14:19:15] *** Quits: crs_ (~f@91.212.33.50) (Changing host)
[14:19:15] *** Joins: crs_ (~f@user/crs)
[14:19:21] *** crs_ is now known as crs
[14:31:32] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[14:34:35] <flatcap> artagnon: thanks for the updates, new pr and the project housekeeping.  It's much appreciated!
[14:34:50] <artagnon> :)
[14:35:06] <flatcap> I'm just typing up my notes for your UnionMailbox idea
[14:35:44] <flatcap> I'd had a similar idea for refactoring the Notmuch mailbox...
[14:35:59] <artagnon> Cool, open an issue/PR with the notes, and I'll get started after you post your notes.
[14:36:09] <flatcap> will do
[14:38:50] <flatcap> Ideally Notmuch would create a fake Mailbox with multiple Maildir Mailboxes behind it
[14:39:08] <flatcap> (which paradoxically should make the Notmuch backend much simpler :-)
[14:44:52] *** Joins: gabriel1_ (~gabriel1@37.164.204.96)
[14:46:39] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Ping timeout: 256 seconds)
[14:58:28] <flatcap> ok, first draft done.  it's a bit stream-of-consciousness -- meaningful to me, but probably garbage to everyone else
[14:58:31] <flatcap> https://github.com/neomutt/flatcap-brain-dump/blob/main/union.txt
[14:58:53] <flatcap> the main objects of NeoMutt are arranged: https://github.com/neomutt/gfx/tree/main/arch#data-and-views
[14:59:19] <flatcap> there's a notification system, which propagates upwards: https://github.com/neomutt/gfx/tree/main/arch#notifications
[15:00:19] <flatcap> the Mailbox API (struct MxOps core/mxops.h) is the core of the Mailboxes
[15:00:43] <artagnon> Okay, let's try not to bite off more than we can chew for the initial poc.
[15:00:51] <flatcap> :-)
[15:01:08] <artagnon> I'm a bit confused about what notmuch is exactly.
[15:01:14] <flatcap> in my notes Mu (Mailbox Union), Mc (Mailbox child)
[15:01:37] <flatcap> Notmuch the program is an email indexer
[15:02:08] <artagnon> Does it index emails over an IMAP connection whose headers are cached on disk?
[15:02:10] <flatcap> Notmuch (the NeoMutt backend) uses Notmuch to create virtual mailboxes from queries
[15:02:18] <flatcap> only local email -- Maildir
[15:02:28] <artagnon> Ah, okay.
[15:02:45] <artagnon> Can it not be used be used to search through the header-cache?
[15:03:05] <flatcap> theoretically, yes
[15:03:35] <artagnon> Okay, shall we do that task first?
[15:03:36] <flatcap> I was talking to the maintainer, in here, a few days ago about ways we might be able to index imap / nntp
[15:04:02] <artagnon> Ahan.
[15:04:11] <flatcap> it got tricky.  we'd effectively have to cache the entire remote mailbox
[15:04:46] <flatcap> I was hoping that we'd be able to say to Notmuch: "here's an email, index it", then delete the file
[15:04:50] <artagnon> Oh no. We only need Message-ID and Reply-To in the header for this task?
[15:05:09] <flatcap> for your UnionInbox, yes
[15:06:15] <artagnon> Can we not supply notmuch email headers with empty bodies (or patch notmuch to avoid this hack?) to index?
[15:06:22] <flatcap> to update notmuch, you run the external command "notmuch new" -- if the files doesn't exist, then they'll be removed from the index
[15:07:15] <flatcap> notmuch indexed the full email
[15:07:49] <flatcap> I'm not sure what'd happen if we have "empty" emails
[15:08:03] <artagnon> Wait, how is hdrcache implemented?
[15:08:11] <artagnon> I hope it's not linked to notmuch?
[15:09:00] <flatcap> the header cache is a small database (or per-folder databases) which cache the binary form form of the parsed header
[15:09:11] <flatcap> no, it's independent of notmuch
[15:09:22] <flatcap> the message cache is just the raw email
[15:09:39] <bookworm> patching notmuch might not be the best idea... after all users use a database they also use outside of neomutt, so if that starts containing "garbage" that'd be bad
[15:10:10] <flatcap> yeah
[15:10:37] <artagnon> Hm, perhaps we could patch it elegantly to support the usecase of indexing email headers, and integrate it into upstream?
[15:10:52] <artagnon> I'm cloning notmuch right now to check it out.
[15:11:38] <bookworm> it already indexes some email headers. But it expects tze actual mail to stick around and what you get out is in effect the path(s) to the email once you query
[15:11:47] <bookworm> plus thread relationship and so forth
[15:12:43] <bookworm> you can also add additional indexes over specific headers other than the usual ones (from,to,subject...)
[15:13:21] <artagnon> Hm, perhaps a fork of notmuch then, for just this usecase?
[15:14:02] <bookworm> what do you want to do exactly? If you just need am index and you already have one why add notmuch?
[15:14:29] <bookworm> Do you want to throw notmuch at every backend?
[15:14:45] <flatcap> ideally, yes :-)
[15:14:55] <artagnon> Hm, you're right.
[15:15:34] <artagnon> notmuch seems like a hammer for the simple problem of UnionInbox.
[15:16:29] <artagnon> Let's try to break it down: all we need is for neomutt to search through the binary hdrcache for certain Message-IDs.
[15:16:32] <artagnon> Is this possible?
[15:16:55] <flatcap> we could create a notmuch virtual folder for Inbox + sent.  we could do that now
[15:17:43] <flatcap> I started talking about Notmuch backend in relation to "unions" because the code needs to move in this direction
[15:17:48] <artagnon> ... but why? I tend to side with bookworm -- isn't it the simple problem of improving the hdrcache format to include a binary hashtable index, and then parsing that?
[15:18:30] <bookworm> how do you want to manage the split DBs then? You can't just mess with the "productive" notmuch DB of the users and add other folders and if you have two you need to manage duplicates and what happens when you modify the tags?
[15:19:57] <artagnon> Yeah, we'd have to keep both DBs in sync -- I'm not happy with this idea, flatcap :\
[15:20:05] <bookworm> as soon as you start using notmuch often the local folder structure is entirely meaningless, it's all tags based
[15:20:10] <flatcap>  
[15:20:16] <flatcap> whoa!
[15:20:18] <flatcap>  
[15:20:28] <bookworm> ehm, flat?
[15:20:34] <flatcap> Too many ideas are getting mixed up here -- entirely my fault
[15:20:57] <artagnon> Apologies. We'll wait until you finish your notes.
[15:20:59] <bookworm> I'll shut up
[15:21:07] <flatcap> hehe, no worries
[15:21:48] <flatcap> we've all got lots of crazy ideas, which may overlap slightly (if only in the terminology we're using)
[15:22:21] <flatcap>  
[15:22:28] <artagnon> In the meantime, I'd also like to take on a little project: syntax highlighting for code in bodies :)
[15:23:16] <artagnon> For this to work elegantly, we'd have to pick a syntax highlighting scheme that ships by default.
[15:23:30] <flatcap> hehe, you _do_ like a challenge.  I'm currently working on the colour code [flatcap/colour]
[15:23:33] <bookworm> substitute that with any facility that could use any filter script and you'd be my hero
[15:23:50] <bookworm> I wouldn't hardcode code highlighting
[15:23:55] <jindraj> I like the tempo how artagnon got onboard :)
[15:24:21] <flatcap> once my code is finished, then display_filter should allow you to use any external tool to ANSI highlight code
[15:24:43] <flatcap> the colour handling got broken a while back
[15:24:48] <bookworm> that's all I need really, conditional by subjecht / headers I guess?
[15:25:21] <bookworm> (say so that one could map [patch] to a diff highlighter etc)
[15:25:22] <flatcap> bookworm: try [flatcap/colour] it should be stable enough
[15:25:58] <flatcap> `messsage-hook ~s [patch] set display_filter...` I guess should work
[15:26:13] *** Joins: saki- (~saki@gateway/tor-sasl/saki)
[15:26:17] <artagnon> Damn, you beat me to this :(
[15:26:21] <bookworm> cool. The filter gets the decoded mime part yes?
[15:26:32] <bookworm> nothing raw?
[15:26:41] <artagnon> jindraj: :)
[15:26:42] <flatcap> I _think_ so
[15:27:12] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Ping timeout: 276 seconds)
[15:27:12] *** saki- is now known as saki
[15:28:01] <flatcap> artagnon: back to UnionInbox...
[15:28:44] <flatcap> for it to work on any mailbox type, I imagined a new Mailbox type that has children
[15:29:24] <flatcap> (each of the children is independent, unaware of the parent)
[15:29:55] <flatcap> the trick is to make the Mu (mailbox union) work like a normal Mailbox
[15:30:15] <flatcap> that means top-down: mx_mbox_sync(Mu)
[15:30:45] <flatcap> and bottom-up: a new email arrives and the notifications must propagate upwards correctly
[15:32:24] <flatcap> Mu needs to keep a list of Emails and remember which Mailbox owns them
[15:32:43] <flatcap> (Emails don't have a pointer to their parent)
[15:33:32] <flatcap> when you <display-message> on an Email, we'd need to lookup it's owner an redirect the command to the right Mailbox
[15:33:51] <artagnon> Excellent idea!
[15:34:17] <artagnon> So, Mu is just a lens into individual Maildirs/Mboxes/IMAP spools?
[15:34:43] <flatcap> (the discussion way above got complicated because I used notmuch as an example -- I shalln't do that again :-)
[15:34:50] <flatcap> yes
[15:35:18] <bremner> btw, Mu is a confusing name, because it already means a notmuch-like search tool
[15:35:46] <flatcap> sorry, I can't do subscripts in IRC :-)
[15:36:21] <flatcap> artagnon meet bremner (Notmuch maintainer)
[15:36:33] <artagnon> 👋🏽
[15:37:04] <bremner> ohai
[15:37:50] <flatcap> three days on NeoMutt, and artagnon already has bigger plans than flatcap!
[15:38:10] <bremner> uhoh. Has he forked neoneomutt yet? :P
[15:38:18] <flatcap> hehe
[15:38:31] <artagnon> Hehe, just trying to have some fun ;)
[15:38:47] <flatcap> that's why we're here :-)
[15:39:08] <artagnon> Oh no, flatcap/colour doesn't build for me.
[15:39:46] <artagnon> https://termbin.com/0u9y
[15:40:01] <flatcap> oh, I'll fix that. you'll want `./configure --debug-color`
[15:40:34] <flatcap> oh
[15:40:37] <artagnon> Nope, still doesn't work.
[15:41:44] <flatcap> hmm... I don't know what to do about that
[15:42:35] <artagnon> Okay, let me try to help then, since I'm on macOS. I'll create a new branch on which we can collaborate :)
[15:43:10] <flatcap> thanks
[15:43:34] <flatcap> configure seems to think you _do_ have a cchar_t type, but I must be missing a header
[15:45:26] <flatcap> here, it's defined in curses.h
[15:46:28] <flatcap> oh, perhaps not
[15:48:25] <flatcap> googling... you might need to define _XOPEN_SOURCE=1 or _XOPEN_SOURCE_EXTENDED=1
[15:49:27] *** Joins: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au)
[15:50:17] <flatcap> hmm... features.h
[15:51:16] <artagnon> Indeed, https://github.com/artagnon/neomutt/commit/dafd69345240bd5dee6b5fe7d455975c9b443619
[15:51:38] <artagnon> I don't think it's a good idea to #define them -- something else might break.
[15:51:50] <artagnon> I've just fallen back to the else branch.
[15:52:23] <flatcap> defining _GNU_SOURCE or _DEFAULT_SOURCE before features.h means they get defined
[15:54:15] <flatcap> hmm... setcchar() is needed for the improved colour-handling
[15:54:21] <artagnon> Okay.
[15:55:04] <artagnon> What do you suggest? I'm on macOS, and I can look up header files here, but I've never worked with curses.
[15:55:50] <artagnon> The color handling is a bit wild with my build.
[15:57:01] <artagnon> I'm starting work on UnionMailbox in another branch.
[15:58:23] <flatcap> does your curses.h ncurses/curses.h mention cchar_t or setcchar()
[16:01:54] <flatcap> do you have a features.h?  does anything in _that_ define _XOPEN_SOURCE_EXTENDED?
[16:03:18] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[16:07:52] <artagnon> Damn ... my calendar just went off ... I have to run to meet someone, and I totally forgot. Sorry!
[16:08:15] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 256 seconds)
[16:08:28] <flatcap> no worries, see you later
[16:10:29] *** Joins: Vonter (~Vonter@user/vonter)
[16:15:17] <flatcap> dcpurton: thanks for the tidying.  I'm looking though it now
[16:15:34] <dcpurton> 👍️
[16:15:37] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 240 seconds)
[16:18:28] <flatcap> any thoughts what you'd like to tackle next?
[16:18:53] *** Quits: _rittchen (~rittchen@gateway/tor-sasl/rittchen) (Quit: WeeChat 3.2.1)
[16:18:54] <dcpurton> haha
[16:19:14] <dcpurton> I need to make sure my wife doesn't become too much of a neomutt widow…
[16:19:37] <dcpurton> However, for completeness it would be nice to add the ability to compose multipart/related emails
[16:19:56] <dcpurton> I think this would be fairly straight forward
[16:20:17] <flatcap> hehe
[16:20:26] *** Joins: Vonter (~Vonter@user/vonter)
[16:20:28] <flatcap> nice
[16:22:41] *** Quits: plastico (~plastico@neomutt/plastico) (Quit: WeeChat 3.4)
[16:22:59] <dcpurton> And I still have my doubts about <view-attachment>… But I haven't got my head around how to hook in to the attachment selection code
[16:23:45] <flatcap> what do you want to do?
[16:26:24] <dcpurton> Maybe it doesn't matter. I won't break at the moment. It's just whether it's obvious to the user that the code always shows the first attachment. It's likely that most people won't notice, because any normal person will put their preferred format first in the list anyway
[16:26:36] <dcpurton> it* won't break
[16:26:52] <flatcap> ok
[16:27:37] *** Joins: plastico (~plastico@neomutt/plastico)
[16:28:11] <dcpurton> This is my weakness. I need to be ok with it being good enough, if perhaps not perfect
[16:28:51] <flatcap> tell me about it :-)
[16:30:29] *** Joins: breavyn_ (~breavyn@user/breavyn)
[16:30:40] <dcpurton> I think we'll say that I'll stop fiddling with it beyond any bug fixes or things you want changed
[16:30:55] *** Quits: breavyn (~breavyn@user/breavyn) (Ping timeout: 256 seconds)
[16:31:04] <flatcap> ok
[16:41:02] <dcpurton> looking at things, commit `recursively break apart groups when recalling or resending messages` should probably go earlier.
[16:41:36] <dcpurton> after `compose: fix incorrect body pointer order after grouping`
[16:43:08] <dcpurton> It's not strictly necessary really, so feel free to remove it all together if you think best
[16:43:24] <flatcap> ok
[16:45:46] <dcpurton> (not necessary because it's need for sane behaviour without the tree view, but the code is compltely replaced by `send: preserve grouping when recalling and resending messages`
[16:47:58] * flatcap nods (and backs away quietly)
[16:54:30] * flatcap sets a megatest running
[16:55:13] <dcpurton> :)
[16:58:42] *** Quits: gabriel1_ (~gabriel1@37.164.204.96) (Remote host closed the connection)
[17:06:36] <rittchen> artagnon:Thank you!
[17:14:17] <dcpurton> flatcap: I'm going to bed. Hopefully your test comes back good!
[17:15:41] <flatcap> night dcpurton
[17:15:53] * flatcap crosses his fingers
[17:19:36] *** Quits: dcpurton (~dcpurton@193-115-93-249.tpgi.com.au) (Quit: dcpurton)
[17:55:11] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 256 seconds)
[18:05:01] *** Joins: Vonter (~Vonter@user/vonter)
[18:09:50] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 250 seconds)
[18:14:13] <artagnon> flatcap: I found the ncurses issue! neomutt is using the system ncurses which is at 5.7, but it's not picking up my brew-installed ncurses which is at 6.3.
[18:15:30] <artagnon> In the Makefile, please guard the ncurses inclusion with >= 6.3.
[18:15:51] <artagnon> ... and on macOS, the brew version is located at /usr/local/lib.
[18:17:14] *** Joins: Vonter (~Vonter@user/vonter)
[18:17:26] <flatcap> aha!
[18:18:25] <flatcap> there's a `./configure --with-ncurses=PATH` that might help
[18:31:29] *** Joins: bsd4me (~IceChat95@user/bsd4me)
[18:40:09] *** Joins: strajder (~strajder@user/strajder)
[18:43:16] *** Joins: blaub (~blaub@194-208-201-025.tele.net)
[18:45:58] *** Joins: motherfsck (~motherfsc@user/motherfsck)
[18:58:06] *** Joins: rgrinberg (~textual@187.223.209.255)
[19:00:57] <artagnon> What about libiconv?
[19:01:23] <artagnon> Sorry, both are in /usr/local/opt.
[19:01:37] *** Quits: rgrinberg (~textual@187.223.209.255) (Remote host closed the connection)
[19:02:35] <flatcap> ok
[19:03:07] *** Joins: rgrinberg (~textual@187.223.209.255)
[19:03:21] <artagnon> It's not finding libiconv if I specify --with-ncurses, and there doesn't seem to be a --with-[lib]iconv=.
[19:06:18] <flatcap> you might be able to set prefix to /usr/local
[19:07:10] <flatcap> there's some tcl code (that I'd don't really understand) in autosetup/mutt-iconv.tcl
[19:07:14] <artagnon> The prefix is already at /usr/local.
[19:07:19] <flatcap> oh, ok
[19:07:24] <artagnon> Oh.
[19:07:42] <flatcap> oh?
[19:08:28] <artagnon> I didn't know there was tcl code in the build system :\
[19:09:01] <artagnon> What is this, by the way? Is it automake?
[19:09:38] <flatcap> autosetup: https://msteveb.github.io/autosetup/
[19:09:44] <artagnon> I'm used to working with CMake on all my personal projects -- it's very modern and very good.
[19:09:45] *** Quits: rgrinberg (~textual@187.223.209.255) (Read error: Connection reset by peer)
[19:10:04] <flatcap> mutt has the entire automake setup and it was a nightmare to understand/maintain
[19:10:33] <artagnon> Why such a niche build system?
[19:10:50] <flatcap> it was much simpler
[19:10:52] *** Joins: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be)
[19:11:18] <artagnon> Why not CMake?
[19:11:38] <artagnon> Which is well-documented, widely-used, and well-understood?
[19:11:43] <flatcap> can't remember, tbh :-)
[19:12:27] <flatcap> most of the problems aren't the build, but the searching for all the deps on myriad distros
[19:12:41] <artagnon> Yes, and CMake handles this perfectly.
[19:13:17] <artagnon> Just say require(libiconv), and it Just Knows (TM) where to find it.
[19:13:52] <flatcap> ok
[19:14:02] <artagnon> If you'd like, we can try a CMake rewrite, in a bit.
[19:14:35] <artagnon> ... the work is a bit dumb and boring though :\
[19:15:01] <flatcap> er, ok.  I'm open to change, but let's not spread ourselves too thin
[19:15:20] <flatcap> I'm struggling to keep up with you already :-)
[19:15:25] <artagnon> Yeah, let's finish our interesting projects today.
[19:15:51] <artagnon> Then, when the tide is low, and we have some flies to swat, we'll rewrite the build system.
[19:16:06] <flatcap> indeed :-)
[19:16:08] *** Joins: alex19EP- (znc@archlinux/trusteduser/alex19EP)
[19:17:25] <artagnon> Sorry, but I can't help you with your colour branch for now.
[19:17:34] <artagnon> I can't even get it to build :\
[19:17:53] <flatcap> np
[19:18:10] <flatcap> I'll need to sort out what's wrong, soon
[19:18:39] *** Quits: alex19EP (~alex19EP@archlinux/trusteduser/alex19EP) (Ping timeout: 256 seconds)
[19:32:44] *** Quits: alex19EP- (znc@archlinux/trusteduser/alex19EP) (Quit: ZNC - https://znc.in)
[19:33:04] *** Joins: alex19EP (znc@archlinux/trusteduser/alex19EP)
[19:42:11] *** Joins: qwerty (~qwerty@user/badwolf)
[19:49:24] *** Joins: nyah (~nyah@94.6.71.219)
[20:01:06] *** Quits: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be) (Remote host closed the connection)
[20:02:37] *** Quits: Vonter (~Vonter@user/vonter) (Read error: Connection reset by peer)
[20:02:51] *** Joins: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be)
[20:04:32] *** Joins: Vonter (~Vonter@user/vonter)
[20:06:49] *** Quits: bsd4me (~IceChat95@user/bsd4me) (Ping timeout: 256 seconds)
[20:37:22] *** Quits: Martin[XMPP] (~Martin@mail.mdosch.de) (Quit: Gateway shutdown)
[20:44:37] *** Joins: bsd4me (~IceChat95@user/bsd4me)
[20:51:48] *** Parts: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Leaving)
[20:58:48] *** Quits: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:22:22] *** Quits: blaub (~blaub@194-208-201-025.tele.net) (Quit: WeeChat 3.4)
[21:29:37] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 240 seconds)
[21:41:36] *** bradfier_ is now known as bradfier
[21:58:04] *** Quits: bsd4me (~IceChat95@user/bsd4me) (Quit: Life without danger is a waste of oxygen)
[22:34:35] *** Joins: blaub (~blaub@194-208-201-025.tele.net)
[22:38:02] *** Quits: blaub (~blaub@194-208-201-025.tele.net) (Client Quit)
[22:40:30] *** Joins: bsd4me (~IceChat95@user/bsd4me)
[22:47:50] *** Joins: blaub (~blaub@194-208-201-025.tele.net)
[22:53:42] *** Joins: sbach (~sbach@user/sbach)
[22:57:57] *** Quits: phoebos (~phoebos@kisslinux/phoebos) (Ping timeout: 256 seconds)
[22:58:31] *** Quits: nupilios (~nupilios@178-191-139-5.adsl.highway.telekom.at) (Ping timeout: 256 seconds)
[22:59:22] *** Joins: phoebos (~phoebos@kisslinux/phoebos)
[22:59:39] *** Quits: sassmann (~sassmann@user/sassmann) (Ping timeout: 256 seconds)
[22:59:52] *** Joins: sassmann_ (~sassmann@user/sassmann)
[23:01:31] *** Joins: nupilios (~nupilios@user/nupilios)
[23:04:56] *** Quits: bsd4me (~IceChat95@user/bsd4me) (Ping timeout: 250 seconds)
[23:13:59] *** Joins: bsd4me (~IceChat95@user/bsd4me)
[23:34:09] <artagnon> flatcap: Ran out of gas for the day. I've posted a mockup, but it's very rough (I haven't even touched the clang yet) -- let me know what you think.
[23:34:26] <artagnon> I seriously doubt it would even build.
[23:58:57] *** Quits: kzak (~kzak@nat-37.starnet.cz) (Ping timeout: 240 seconds)
