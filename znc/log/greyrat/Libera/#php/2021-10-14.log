[00:01:12] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[00:01:16] <velix> da_wunder: because $frontendguy is new and he seems to have less experience with frontend than velix.
[00:02:40] <da_wunder> ok, so you have done some frontend dev too, then you need to guide that new guy how to implement things
[00:08:25] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 252 seconds)
[00:11:24] <jargon> https://3v4l.org/qpElK#v8.0.11 See?
[00:12:12] <jargon> It fails to merge.
[00:12:48] <__adrian> there are no different keys in $about
[00:13:04] <__adrian> rather, in default_stats()
[00:13:24] <da_wunder> and those are multidimensional arrays
[00:13:28] <__adrian> so all of the default keys are overwritten
[00:14:37] <da_wunder> it would help if you also add "what I expected" to that example
[00:14:38] <Albright> Yeah, what result are you expecting?
[00:14:43] <__adrian> ^ note, there's _no_ difference between an "array" and a "multidimensional" array. all arrays might have arrays as some of their values. "mutlidimensional" is about how your code treats it, not about anything innately different.
[00:14:45] <jargon> I see now.
[00:14:47] <jargon> Thanks.
[00:14:56] <__adrian> e.g., maybe you want array_merge_recursive()  ?
[00:15:32] <jargon> Is there a flag to force only modifying endpoint array entries?
[00:15:47] <__adrian> e.g., maybe you want array_merge_recursive()  ?
[00:16:08] <velix> damn, my tuna sandwich was vegan and I didn't even realize it.
[00:16:13] <velix> oops, wrong channel
[00:16:36] <Albright> lol what is a vegan tuna sandwich
[00:16:43] <da_wunder> ^
[00:16:45] <Albright> Science has gone too far.
[00:17:03] <Blondie101010> perhaps better than vega chicken wings....  gotta love those
[00:17:18] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[00:17:20] <Albright> How do they do the bones?
[00:17:24] <Blondie101010> ;)
[00:17:26] <jargon> Thank you, __adrian
[00:18:47] <__adrian> np
[00:19:40] <da_wunder> __adrian: sure there is no  differences between arrays with single or multiple dimensions - my point there was just to point up that if array is "deep" array_merge is not working as you expected...
[00:20:05] <__adrian> works as _i_ expect  ;)
[00:20:12] <da_wunder> s/expected/normally expect
[00:20:27] <__adrian> it operates on the array you give it. it doesn't care what the values are.
[00:20:51] *** Joins: semeion (~semeion@user/semeion)
[00:21:30] <__adrian> now if you want to complain about how array_merge_recursive is not simply a recursive version of array_merge ...i'll be happy to commiserate
[00:21:41] <velix> Blondie101010: Burgerking has very good vegan products.
[00:21:52] <velix> I'm a meatlover (140 kg), but some vegan things are very good.
[00:21:56] <Albright> So we need array_real_merge_recursive() then
[00:22:51] <Albright> array2real_recursive_mergedArray()
[00:22:57] <jargon> no, __adrian, array_merge_recursive() is not what I intended.
[00:23:05] <__adrian> https://gist.github.com/adrian-enspired/e766b37334130ea04eaf
[00:23:31] <__adrian> jargon: then add an example of what you expected to happen to your 3v4l
[00:23:51] *** Quits: luva (~luva@5.180.62.229) (Ping timeout: 245 seconds)
[00:24:02] *** Joins: luva7 (~luva@5.180.62.230)
[00:27:25] <luva7> I want to extract some entries of a database I have... I have following code:
[00:27:27] <luva7> https://dpaste.com/7HBQYT9UF
[00:27:32] <luva7> Yet it only extracts only one row
[00:27:38] <luva7> can someone help me to extract more?
[00:28:26] <Albright> Holy cow, it's newbie database code with proper escaping. Hallelujah.
[00:29:16] <Albright> luva7: i'm not familiar with whatever database layer you're using here, but just as a guess, try doing something like:
[00:30:07] <Albright> $results = []; $dbResult = $stm->execute(); while ($row = $dbResult->fetcharray()) { $results[] = $row; }
[00:30:35] <Albright> But there might be a method in your DB layer which basically does this for you. I'd dig into its documentation a bit more.
[00:31:12] <Albright> Also, using # for comments technically works in PHP but it's very uncommon. Use // for short comments and /* */ for comment blocks.
[00:31:19] <jargon> https://3v4l.org/eJtjO#v8.0.11
[00:31:21] <jargon> __adrian
[00:34:54] <luva7> sqlite3 Albright
[00:35:27] <Albright> luva7: You are using SQLite 3 as your database, but you are using some PHP library to access the database that I'm not familiar with.
[00:35:44] <Blondie101010> jargon:  write it in a foreach
[00:35:58] <Blondie101010> actually 2
[00:36:36] <luva7> okay Albright, thanks, it will help me to dig further why it doesnt work!
[00:37:15] <Blondie101010> jargon:  if defaults include all variables, one foreach would do and it'd be pretty straight-forward
[00:37:37] <Blondie101010> sorry I keep missing one sub level, so 2 vs 3
[00:39:07] <__adrian> jargon: so, example: ess.cur has a default of 0.0, and your input does not include a value, yet you expect 3.0 ...? where does that come from?
[00:39:29] <Rockwood> __adrian, hi how are you sir?
[00:39:32] <Rockwood> gn
[00:39:34] <__adrian> (also, just type (e.g.) 3.0 instead of floatval(3))
[00:40:08] *** Joins: tester12 (~tester12@5.119.121.146)
[00:41:18] <Blondie101010> jargon:  I'm trying to think of a use case, and it feels like this is not what you need...   why don't you build your data by starting it with defaults?
[00:41:37] <Blondie101010> why would it arrive like that improper?
[00:41:48] <__adrian> ^ also note, things with schemas are good candidates for being objects
[00:45:59] <luva7> Albright, do you know how I can find out which library I use?
[00:46:37] <__adrian> luva7: $db = new SQLite3 // ‚Üê https://php.net/sqlite3
[00:46:59] <__adrian> as for why you only get one row... it's because you only fetch one row
[00:47:25] <__adrian> https://php.net/sqlite3Result.fetcharray
[00:47:37] <jargon> Thanks, __adrian. It works properly now.
[00:48:16] <luva7> okay, thanks to you too then. Worked with his code. was just curious
[00:49:17] <luva7> I didnt know I have to iterate through the rows, i thought it will also catch an array of rows then . Thanks for your help
[00:49:28] <__adrian> no problem
[00:54:38] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[00:56:46] *** Quits: luva7 (~luva@5.180.62.230) (Ping timeout: 252 seconds)
[00:57:15] *** Joins: luva (~luva@5.180.62.230)
[01:02:29] <jargon> __adrian,  reused pre-existing loop code.
[01:02:35] <jargon> I *
[01:03:06] <__adrian> not sure what that's in response to
[01:03:15] <jargon> __adrian the array issue.
[01:04:07] <__adrian> yes, i had guessed that much. are you answering the question i asked about your expectations? something else?
[01:04:44] *** Joins: ordos (~ordos@user/ordos)
[01:05:10] <jargon> See, __adrian? https://pastebin.com/6NhL7Zh5
[01:05:55] <jargon> This properly merges the arrays.
[01:05:59] <jargon> (as intended)
[01:07:00] <jargon> I don't understand why PHP doesn't already have merge function that does this.
[01:12:05] *** Joins: coder7of9 (~coder7of9@mail.cvage.ca)
[01:13:48] <__adrian> jargon: i think you missed my earlier comments and the gist i pasted
[01:13:53] <jargon> Blondie101010, __adrian. My last paste shows the array merge implementaiton I ended up writing into pre-existing loop code.
[01:14:03] <Blondie101010> jargon: and mine about why you'd need that
[01:14:15] <Blondie101010> it denotes something bad in the design
[01:14:37] <jargon> Blondie101010, it rips statistics from human readable BASIC source code.
[01:14:41] <__adrian> ^ if you build the arrays consistently, you could use array_replace_recursive()
[01:15:49] <jargon> IT is intended to autonomously engineer collectible cards from a program file's source.
[01:16:06] <__adrian> we're aware; you've said this before
[01:16:17] <jargon> It works now is what I am trying to tell you.,
[01:16:31] <Albright> PHP already has far more array-related functions than any other programming language I can think of.
[01:16:32] <__adrian> you told me that some time ago
[01:16:43] <Albright> That said, I do get the feeling of, "Why doesn't it *also* have *this* one?
[01:16:54] <Albright> "get" as in "understand."
[01:17:20] <__adrian> Albright: public domain.
[01:17:32] <Albright> Public domain?
[01:18:01] <__adrian> you can use the function i shared
[01:33:21] *** Quits: tester12 (~tester12@5.119.121.146) (Quit: Client closed)
[01:39:23] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 265 seconds)
[01:43:55] <luva> last question for today : suppose I have following table. I want to extract the first 3 places. But in the table I see that the second and third place are the same. So how can I extract the first 3 unique people? I see I could use disctinct, but how do I tell it which column should be distinct?
[01:43:58] <luva> https://dpaste.com/G4CQWEHB4
[01:44:41] <Sammitch> that's a SQL question
[01:45:49] <Sammitch> but `SELECT name, country, MAX(jumpdistance) AS 'maxjump' FROM footable GROUP BY name, country LIMIT 3;`
[01:48:22] <luva> oh sorry, youre right. Should have gone to sql..
[01:48:43] <luva> Thanks, I will try that
[01:52:32] *** Joins: semeion (~semeion@user/semeion)
[01:55:26] <jargon> Blondie101010, how do I capture html output in an image using GD?
[01:57:00] <Blondie101010> "capture" is making your question quite confusing
[01:57:55] <Sammitch> html is text. in order to render it into an image you would need to use the vast, bloated apps we call "web browsers"
[01:58:30] <Slartiba1t> Is there a way to test if composer can connect to a given repo?
[01:58:53] *** Quits: wilk (~wilk@user/wilk) (Ping timeout: 264 seconds)
[01:59:05] <Sammitch> curl the repo url
[02:01:37] *** Quits: tex (~super@user/dix) (Ping timeout: 265 seconds)
[02:03:47] <Slartiba1t> Sammitch: But what if the repo is private and requires login? How do I know that I do it the same way as composer then?
[02:04:09] <Slartiba1t> (bitbucket)
[02:09:04] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Read error: Connection reset by peer)
[02:14:02] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[02:19:01] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 265 seconds)
[02:23:51] *** Quits: simius (~simius@user/simius) (Ping timeout: 245 seconds)
[02:25:04] *** Joins: simius (~simius@user/simius)
[02:26:11] <Sammitch> Slartiba1t: then you should be more specific that you're asking about a git repo as opposed to what I assumed was a composer repo
[02:27:02] <Slartiba1t> If I run 'composer search <some package name star pattern>' then does composer only look in the master branch in the repo? Composer.json for the project that I'm trying to install has a bunch of require lines on the format '"asd/package" : "dev-branchname#commit"'. If I check the repo in bitbucket web GUI those branches are there, but I can't see that the dependencies are downloaded..
[02:27:56] <Sammitch> composer search won't touch git at all, it just pokes through the data provided by the composer repo
[02:28:05] <Sammitch> eg: packagist
[02:29:04] <Sammitch> if you want to test if the user that you're running composer as can access those repos, then try to check them out manually with git, or try just installing one of the packages
[02:29:44] <Sammitch> IIRC composer has no provision for specifying git credentials, it falls back entirely on what is configured for that user
[02:32:47] <Slartiba1t> Sammitch: There's bitbucket-oauth (https://getcomposer.org/doc/articles/authentication-for-private-packages.md#manual-bitbucket-oauth), which I thought I had configured. But I guess I should doublecheck that.
[02:35:57] *** Joins: semeion (~semeion@user/semeion)
[02:36:50] <Slartiba1t> ..on the other hand.. If I run 'composer search asd/*' then the package matching that pattern in the master branch is listed. That shouldn't be possible unless composer is able to connect to bitbucket. (Or am I lost here?)
[02:38:15] <Slartiba1t> ..but in that case, why the *eck aren't the other packages from the same repo found..
[02:39:19] <Blondie101010> read the composer documentation or ask their support on how to use the search...  I've actually never used that
[02:39:43] <Blondie101010> usually a quick search on packagist is pretty good
[02:40:10] <coder7of9> for just one user I am seeing this error ... other user access no issues   Access denied for user 'root'@'localhost'  and  Error: Call to a member function prepare() on null  (pdo)
[02:40:32] <Blondie101010> I don't know how it would scan a git repo
[02:40:36] <coder7of9> i see the sql call looking for a sessionid   which is not there.
[02:41:16] <jargon> I'm back, sorry Blondie101010 / __adrian I had to clean my house and make something to eat.
[02:41:36] <Blondie101010> coder7of9:  what do you mean by "for just one user"?  do you mean it works for any DB user except root?
[02:42:26] <Blondie101010> jargon:  you can skip the off-topic stuff and just report when you have valid / useful information or questions
[02:42:29] <coder7of9> first i do not have root defined as a user.   but for other people who access the site this issue does not exists
[02:42:46] <coder7of9> it appears there is no pdo at the time of the query
[02:42:56] *** Joins: ferdna (~ferdna@user/ferdna)
[02:43:10] <Blondie101010> do you mean that you do exactly the same thing as another user, and you get a different result?
[02:43:17] <coder7of9> yes
[02:43:18] <Blondie101010> think about it CAREFULLY!
[02:43:31] <Blondie101010> not carefully enough :S
[02:43:58] <Blondie101010> ok please describe what is done concisely
[02:44:39] <Blondie101010> is the problem specific to a script, a url?
[02:47:05] <coder7of9> user accesses a login page the session script calls the static pdo class to check for a sessionid in the database... for this one user the pdo appears to be null.   Call to a member function prepare() on null     and also the access denied message. i can see the sql..   whne i manually check for the sessionid in the problematic case it is not in
[02:47:05] <coder7of9> the db. so the call would return -1  which is acceptable...
[02:47:32] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 265 seconds)
[02:48:24] <coder7of9> but i do not think it gets that far... the user gets a error 500.   i wonder. frames or something about the user connection.
[02:48:40] <coder7of9> i checked line by line the SERVER var and all is good
[02:53:52] *** Quits: genomc (uid245282@id-245282.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[02:55:58] <Blondie101010> what
[02:56:13] <Blondie101010> you check for the real error in the server logs
[02:56:31] <Blondie101010> if it's not there, you need to correct error reporting and/or error logging
[02:57:20] *** Joins: Lazenca (~lazenca@user/lazenca)
[02:57:59] <Blondie101010> show the code that produces "Call to a member function prepare() on null"
[02:59:20] <Blondie101010> but that's mostly to tell you where to verify your return values properly
[02:59:40] <Blondie101010> if you get a connection error, you need to fix that and forget the rest
[03:00:27] <Blondie101010> the part that makes me wonder is that you say it doesn't always happen, but that can't be guessed without seeing the code
[03:00:48] *** Joins: semeion (~semeion@user/semeion)
[03:01:42] <coder7of9> there is no connection error i do catch this and log it.  yet the prepare indicates the pdo is null   also that this consistently is functioning for years with all other users...
[03:02:18] <Blondie101010> where does "the access denied message" come from?
[03:02:38] <Blondie101010> and please stop paraphrasing, and simply show the actual code and output
[03:03:36] <coder7of9> the access denied is strange as i have no user root in the db
[03:03:38] <coder7of9> moment
[03:04:04] <Blondie101010> of course and that's what I called "a connection error"
[03:07:18] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[03:09:40] <coder7of9> https://pastebin.com/m93N21Y2
[03:15:47] <Blondie101010> your try..catch on line 12 is useless
[03:16:07] <Blondie101010> don't catch exceptions if you can't do anything useful at that level
[03:16:54] <Blondie101010> so what is the full output?
[03:18:07] *** Quits: pmercado (~pmercado@186.107.62.213) (Ping timeout: 252 seconds)
[03:19:01] <coder7of9> i catch it so i can log the error message
[03:19:13] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 252 seconds)
[03:20:53] <coder7of9> https://pastebin.com/4GbaPqCa
[03:21:21] <coder7of9> where root is not a defined user in the database.
[03:22:05] <Albright> coder7of9: Are DB_AUTH_USER and DB_AUTH_Pass defined there?
[03:22:06] *** Joins: guest49434_ (~ms49434@user/ms49434)
[03:22:40] <Albright> Or passed in from wherever makeConnection() is called?
[03:22:43] <kevr> If a server's PHP script uses header('HTTP/1.1 <status code> <statis desc>') to set the response status code, can I still get that code with http_response_code()?
[03:22:49] *** Quits: guest49434_ (~ms49434@user/ms49434) (Client Quit)
[03:23:00] <Albright> If you don't pass a defined user to MySQL, it tries to connect as root.
[03:24:12] <Albright> By "defined user" I mean an empty string or something that evaluates to it.
[03:24:40] <coder7of9> Albright thanks... yes there is an include file which has those defined.
[03:24:52] *** Quits: ms49434 (~ms49434@user/ms49434) (Ping timeout: 252 seconds)
[03:25:30] <Albright> coder7of9: Still, I'd try var_dump($user); inside the function to make sure.
[03:26:46] <coder7of9> i will add that to the log output... good point
[03:28:15] <coder7of9> it depends on DOCUMENT_ROOT and SERVER_NAME
[03:29:17] *** Joins: jaykelly450 (~vagrant@c-73-82-49-38.hsd1.ga.comcast.net)
[03:29:27] <Blondie101010> DOCUMENT_ROOT does not change based on the client
[03:29:48] <Albright> I don't think anyone said it did. :)
[03:29:56] <Blondie101010> does this mean that your problem is that your script has a problem on one website URL but not on others?
[03:30:14] <Albright> kevr: Sorry we're ignoring your question but I don't think anyone knows the answer to it. You might have to experiment and find out for yourself.
[03:30:39] <coder7of9> for this one user all urls
[03:30:52] <kevr> Albright: That's surprising to hear. No worries, I figured as much. I'm on the way.
[03:30:58] <kevr> No need to apologize.
[03:31:01] <kevr> <3
[03:31:51] <coder7of9> this is way too much work for one user.... but i would like to find the cause. i suspect it has something to do with the user connection.     but the $_SERVER shows nothing unusual
[03:31:57] <kevr> Looks like it does.
[03:31:58] <kevr> :)
[03:32:06] <Albright> Ah, good to know.
[03:34:34] <Blondie101010> coder7of9:  stop and focus
[03:35:40] <Blondie101010> put traces to see what is DB_AUTH_USER and $user, and then find out why they're the way they are
[03:35:55] <coder7of9> yes add some extra logging and leave it until tomorrow
[03:36:15] <coder7of9> thanks!
[03:42:12] *** Quits: coder7of9 (~coder7of9@mail.cvage.ca) (Quit: Client closed)
[03:53:02] *** Quits: onizu (uid373383@id-373383.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[04:16:50] *** Quits: jaykelly450 (~vagrant@c-73-82-49-38.hsd1.ga.comcast.net) (Ping timeout: 260 seconds)
[04:30:28] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:34:45] *** Joins: vlm (~vlm@user/vlm)
[04:50:15] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[05:18:41] *** Joins: Hiccup (cHoy@user/hiccup)
[05:23:54] *** Quits: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net) (Remote host closed the connection)
[05:29:14] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Quit: Quitting)
[05:43:25] *** jgrim23629 is now known as jgrim
[05:44:16] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 268 seconds)
[05:54:32] *** Joins: keypusher (keypusher@user/keypusher)
[06:14:10] *** Quits: WarpedAI (~Warped@user/warped) (Quit: We Gone! Bye Bye)
[06:32:53] *** prime- is now known as prime
[06:35:33] *** Hash is now known as LordOfThePings
[06:58:36] *** Joins: michele_ (~eraser@user/michele)
[07:01:05] *** Quits: michele (~eraser@user/michele) (Ping timeout: 250 seconds)
[07:06:59] *** Joins: pmercado (~pmercado@186.107.62.14)
[07:14:30] *** Quits: jess (~jess@libera/staff/jess) (Quit: Lost terminal)
[07:15:46] *** Joins: jess (~jess@libera/staff/jess)
[07:22:15] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[07:32:44] *** Joins: benl90- (benl90@sponsored.by.bnc4you.xyz)
[07:33:26] <benl90-> Hello, I've simple question, how to limit php cli open_basedir only to the homedir of account that run the php cli? is that possible? Thanks
[07:40:50] <LordOfThePings> https://www.php.net/manual/en/function.chroot.php perhaps
[07:41:00] <LordOfThePings> Changes the root directory of the current process to directory, and changes the current working directory to "/".
[07:41:22] <LordOfThePings> So it should lock the process into that chroot dir
[07:41:30] <Blondie101010> that would indeed be an option, though not directly what's asked
[07:41:36] <LordOfThePings> Then when you open basedir after it, / should be that dir
[07:41:46] <Rockwood> root directory
[07:42:03] <Blondie101010> benl90-:  if all users are in /home/$user and the permissions are sane, setting open_basedir to /home would do the job
[07:43:18] <Blondie101010> '.' is another option, but it can be cheated
[07:43:20] <Rockwood> permission should be on require file and reasonable  user
[07:44:03] <Blondie101010> to be honest, if the user is allowed to read a file, they'll also be able to copy it, so limiting that doesn't have much benefit, if any!
[07:44:26] <benl90-> Blondie101010, ah that make sense, all is on /home/$user, but on open_basedir we can't use $user right?
[07:44:35] <jargon> Blondie101010, see "dggr"? How would I make that multiple numeric groups? like foo1 foo2 foo3 for up to 15 optional groups? https://regex101.com/r/hinwiN/11/
[07:44:36] <Blondie101010> no
[07:44:48] <LordOfThePings> That would make it a certain user's home directory
[07:44:58] <LordOfThePings> /home would be the 'base' directory for users.
[07:45:02] <Blondie101010> jargon:  ask #regex
[07:45:24] <benl90-> LordOfThePings, but that means we can't limit to each user?
[07:45:27] <benl90-> only /home
[07:45:37] <LordOfThePings> Hence the chroot.
[07:45:51] <Blondie101010> LordOfThePings:  yes, and my point about sane permissions involves that other users can't read each others home
[07:46:06] <Blondie101010> but yes the chroot does go a step beyond that
[07:46:28] <benl90-> LordOfThePings, how to implement chroot, I only get that this function is work if we autoload the script to each script that run?
[07:46:49] <Blondie101010> benl90-:  no, you'd give the user a chrooted environment
[07:47:03] <Blondie101010> so that when they log in, they are in an isolated part of your /
[07:47:47] <benl90-> oh... I get it... so like rbash or such?
[07:47:55] <Blondie101010> no
[07:48:04] <Blondie101010> it fakes /
[07:48:18] <LordOfThePings> You'd set chroot("/home/$user/") and then / would be that user's home directory. Put this in somewhere in the start of your script that loads other scripts. However you have it.
[07:48:22] <Blondie101010> ¬†/ could point to /home/benl90
[07:49:03] <Blondie101010> setting this is, though not very complicated, is not easy, and very off topic here
[07:49:18] <jgrim> Are you doing some shared hosting or something?
[07:49:42] <benl90-> Blondie101010, I see, but does the function of php that mentioned by LordOfThePings directly can be used or I need extra step for it?
[07:49:52] <LordOfThePings> That may throw off your other programs, who knows
[07:50:09] <Blondie101010> benl90-:  chroot is not a PHP function, though php-fpm can set it up for its own process
[07:50:34] <LordOfThePings> You can set open_basedir to /home/$user/ as mentioned previously
[07:50:51] <LordOfThePings> If you can give us more information on why you're trying to do what, we can probably guide better.
[07:51:01] <benl90-> jgrim, no I just want to restrict each user, because by default :/proc/meminfo already set and I think it should work as intended, just suddenly today it's cause laravel can't open vendor dir on its own folder.
[07:51:26] <LordOfThePings> So the problem is with Laravel reading the vendor folder and not chrooting?
[07:51:36] <LordOfThePings> Can you be exact in what's the issue?
[07:51:57] <Blondie101010> not following either
[07:52:38] <benl90-> It's throwing error /home/foo/web/domain.com/public_html/vendor/autoload.php can't be opened because not part of open_basedir using /usr/bin/php command, I run cron using laravel scheduler.
[07:53:14] <benl90-> but this never happened before, autoload use require function, I mean the artisan command (the php artisan)
[07:53:25] <Blondie101010> echo ini_get("open_basedir");
[07:53:38] <Blondie101010> or actually write it to a file
[07:53:44] <Blondie101010> and run the cron job
[07:54:09] <benl90-> the basedir is open_basedir = ":/proc/meminfo"
[07:54:23] <Blondie101010> if you're offering any access to your server to third parties, you should hire a sysadmin
[07:54:36] <Blondie101010> why /proc/meminfo?
[07:54:36] <benl90-> not I uncomment it first so the cron could run, but this never happend before. I'm the sysadmin sadly... *sob
[07:54:51] <Blondie101010> my point stands!
[07:55:02] <Blondie101010> you'll have a lot of trouble
[07:55:12] <benl90-> Blondie101010, it's default from andreonerj repo of ubuntu
[07:55:37] <Blondie101010> I seriously doubt that but can't check right now
[07:55:39] <benl90-> Blondie101010, ehm, I don't get the context of 2 last sentences, could you rephrase it for me in simple way?
[07:56:01] <Blondie101010> no
[07:56:22] <Blondie101010> hmmm
[07:57:06] <Blondie101010> you hide all the context, so I won't persist on comments about it without knowing anything
[07:57:12] <Blondie101010> I already made a clear comment
[07:59:00] <benl90-> ehm, sorry, what context?
[07:59:18] <Blondie101010> [00:24:22] <Blondie101010> if you're offering any access to your server to third parties, you should hire a sysadmin
[07:59:48] <Blondie101010> explaining it would basically be insulting you
[08:00:11] <Blondie101010> (not the intention)
[08:01:09] <Rockwood> benl90-, Blondie101010 also very good in sysadmin idk she like or not freelancing
[08:01:36] <Blondie101010> that's not important here
[08:01:38] <benl90-> Oh. I see.. I get it. Thank you. that mean my knowledge isn't sufficient enough than. Thanks.
[08:01:52] <Blondie101010> but you can learn
[08:02:09] <benl90-> ah, take Zend certification?
[08:02:20] <Blondie101010> to become a sysadmin?
[08:02:49] <benl90-> No for this condition. I already has some Red Hat certified thing for basic linux
[08:03:19] <Blondie101010> sadly proving how useless certs are
[08:03:19] <Rockwood> but your question not shows that
[08:03:58] <Rockwood> certification always good for get new jobs
[08:04:26] *** Joins: genomc (uid245282@id-245282.hampstead.irccloud.com)
[08:04:27] <benl90-> anyway, so the only way is to do chroot right as LordOfThePings state before
[08:04:27] <Blondie101010> they help to compensate for experience
[08:04:30] <Rockwood> in real you have to collect knowledge correctly that is matter
[08:04:41] <Blondie101010> benl90-:  you still didn't answer on what this is about
[08:05:06] <Blondie101010> if it's for shared hosting, you need to hire a sysadmin now
[08:05:53] <benl90-> the open_basedir? I just want to limit to the directory that user access, and it's not shared hosting, it's internal one, It's okay to let it open to any folder, just I felt not secure enough to some dev that sometimes mess around
[08:06:15] <Blondie101010> then you don't need it
[08:06:46] <Blondie101010> open_basedir is not that usefull, and it doesn't protect any files
[08:07:06] <Blondie101010> the user could just copy the file over and use it
[08:07:11] <Blondie101010> so what does it change?
[08:07:19] <Blondie101010> more disk use for nothing?
[08:07:32] <Rockwood> i don't have certificates and i don't have job too :D
[08:07:59] <benl90-> Blondie101010, Hmm.. so I just let it open for cli is okay right. because everyone that access the server is dev. I can set it per vhost so when some dev do make hole on their code at least it doesn't go anywhere. I already have selinux enabled so at least on low level it won't do crazy thing.
[08:08:17] <benl90-> Rockwood, nah.. you have one
[08:08:32] <benl90-> Blondie101010, but that provide me with answer. anyway thank you.
[08:09:05] <Blondie101010> benl90-:  you should not need open_basdir anywhere in that kind of environment...  it does NOT provide any real security
[08:10:38] <Rockwood> benl90-, really i am unemployed
[08:10:40] <Blondie101010> but how do they test their scripts on HTTP?  don't they use a common DOCROOT?
[08:10:47] <Blondie101010> Rockwood:  #phpc
[08:10:58] <Rockwood> he is not there
[08:11:04] <Blondie101010> NOT the point
[08:11:58] <Rockwood> anyway time to leave the computer
[08:12:07] <Rockwood> my shop time
[08:12:10] <Rockwood> oops
[08:12:12] <benl90-> Blondie101010, why dev colleague ?
[08:12:14] <Rockwood> tc cya
[08:12:24] *** LordOfThePings is now known as EnchanterTim
[08:12:39] <Rockwood> [10:12:29] <benl90-> Blondie101010, why dev colleague ?  means?
[08:13:06] <benl90-> sorry, my dev colleague testing script on HTTP?
[08:13:17] <Blondie101010> or is there a vhost per user on that machine?
[08:13:36] <benl90-> vhost on some user, so like staging
[08:13:43] <benl90-> staging.domains.com
[08:13:44] <Blondie101010> staging is not a user
[08:13:54] <Blondie101010> hmmm
[08:14:00] <benl90-> yeah I know. but I mean user has many vhost
[08:14:01] <Blondie101010> sounds very badly organized
[08:14:31] <benl90-> for each user, but this's out of the #php scope right? do we need to go to #phpc?
[08:15:03] <benl90-> Blondie101010, well they pay me so low, so I just do duct tape. It shouldn't be like that honestly. well forget it.
[08:15:08] <Rockwood> lol still we are off-topic here
[08:15:27] <benl90-> yeah. sorry :')
[08:15:35] <dag> open_basedir is like a helmet when you are walking. it's probably not necessary. also post verbatim error. should be easily debuggable
[08:16:30] <Blondie101010> more like a baseball cap
[08:17:58] <benl90-> dag, Rockwood, Blondie101010, Thanks. seems Lord of the pings left already
[08:19:27] <Rockwood> you can me anytime :D i don't mind
[08:20:12] <benl90-> chat? tag? or ping? hahaha..
[08:21:02] <Blondie101010> that ^^ in private
[08:21:27] <dag> whats the current value of open_basedir
[08:22:08] <benl90-> dag, haha... done already. I set it allow all, as it's only for staging, and some dev, so let them do whatever they want. I only control the rest via selinux
[08:22:18] <benl90-> Blondie101010, ah thanks madam
[08:23:48] *** Joins: spronkey (~spronkey@2406:e000:6897:7a01:6427:9e7f:c351:60b9)
[08:25:13] *** Parts: jargon (~jargon@184.101.90.124) ()
[08:25:34] *** Quits: NakedKing (~NakedKing@user/nakedking) (Ping timeout: 252 seconds)
[08:25:46] *** Joins: NakedKing (~NakedKing@user/nakedking)
[08:28:11] <dag> benl90- is another bot... why are they allowed here
[08:29:44] <Blondie101010> dag:  can't imagine how you came to that conclusion, but they're apparently not
[08:30:51] *** Quits: N3X15 (~nexis@mail.nexisonline.net) (Quit: ZNC - http://znc.in)
[08:31:23] *** Joins: Rockwood_ (~Rocky@user/rocky)
[08:32:56] <benl90-> I'm human :| *bep boopp
[08:33:28] *** benl90- is now known as benl90
[08:33:44] *** Joins: N3X15 (~nexis@mail.nexisonline.net)
[08:34:49] <dag> it's an educated guess using my spidey tingling senses
[08:35:06] *** Quits: Rockwood (~Rocky@user/rocky) (Ping timeout: 245 seconds)
[08:35:34] <dag> benl90: whats the current value of open_basedir? ideally use print ini_get('open_basedir') right before the include
[08:47:15] <benl90> now it's blank, because I set it blank,before it's /proc/meminfo,
[08:48:40] *** Quits: Rockwood_ (~Rocky@user/rocky) (Quit: The Time is Over)
[08:49:54] <dag> keep it blank and your error problems go away. why would someone set it to /proc/meminfo? it's a folder
[08:50:05] <dag> it's not even a folder
[08:51:03] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[08:52:45] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 260 seconds)
[08:55:13] <Blondie101010> I don't know for what specifically, but it's probably needed by some built-in functions
[08:55:21] *** Quits: spronkey (~spronkey@2406:e000:6897:7a01:6427:9e7f:c351:60b9) (Quit: you are feeeling very sleeeeeepyy......)
[08:55:48] <benl90> yeah, but seems the deployment script of the server, that the old sysadmin set before resign set it to uncomment, so that's the issue. for now I just documenting it again, and only apply on vhost not cli.
[08:55:59] *** Joins: guido (~guido@host-79-55-253-241.retail.telecomitalia.it)
[09:01:15] *** Joins: tex (~super@user/dix)
[09:05:57] *** Joins: deksar (~deksar@user/deksar)
[09:19:13] *** Joins: kerunaru (~Jmcb@199.red-79-146-102.dynamicip.rima-tde.net)
[09:36:46] *** Quits: guido (~guido@host-79-55-253-241.retail.telecomitalia.it) (Quit: WeeChat 3.3)
[09:37:40] *** Quits: Hiccup (cHoy@user/hiccup) (Ping timeout: 250 seconds)
[09:46:28] *** Quits: kerunaru (~Jmcb@199.red-79-146-102.dynamicip.rima-tde.net) (Ping timeout: 252 seconds)
[09:47:16] *** Joins: kerunaru (~Jmcb@199.red-79-146-102.dynamicip.rima-tde.net)
[09:47:36] *** Quits: pmercado (~pmercado@186.107.62.14) (Ping timeout: 245 seconds)
[10:02:37] *** Joins: guido (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f)
[10:04:22] *** Joins: Hiccup (cHoy@user/hiccup)
[10:11:09] *** Joins: queue- (~nerd@rektnet.com)
[10:15:12] *** Joins: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net)
[10:19:07] *** Parts: Creak[m] (~creak@2001:470:69fc:105::8af) ()
[10:19:27] *** Joins: fahrradToken (~fahrradTo@212.7.190.34)
[10:39:12] <kerunaru> Hi all!
[10:41:52] *** Joins: onizu (uid373383@id-373383.uxbridge.irccloud.com)
[10:43:40] <benl90> kerunaru, hello
[10:43:43] <kerunaru> What's your opinion about the new Swoole fork?
[10:46:54] <benl90> No opinion, never use
[10:49:26] <kerunaru> Me neither. But I'm asking about the motivations about the forking‚Ä¶ It seems Swoole has some unsecure code inside.
[10:50:56] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 245 seconds)
[10:56:13] *** Joins: ms49434 (~ms49434@user/ms49434)
[11:03:41] <Naktibalda> had
[11:08:24] *** Joins: stenno (~stenno@user/stenno)
[11:13:51] <kerunaru> Oh‚Ä¶ https://github.com/swoole/swoole-src/commit/0a869854fc71146d15a6e1b17386baa12d05ca78
[11:14:10] <kerunaru> It seems the suspicious code has been deleted in that commit
[11:24:41] *** Joins: jetchisel (~jetchisel@user/jetchisel)
[11:32:15] *** Joins: dimi1947 (~dimi1947@2a02:1388:90:a87b:cd84:f35d:4af9:4c44)
[11:48:08] *** Quits: NakedKing (~NakedKing@user/nakedking) (Remote host closed the connection)
[11:48:28] *** Joins: NakedKing (~NakedKing@user/nakedking)
[11:53:21] *** Joins: PC_ (~deksar@user/deksar)
[11:55:10] *** Quits: Vision (~Vision@024-178-231-173.res.spectrum.com) (Read error: Connection reset by peer)
[11:55:13] *** Joins: LucaTM (~LucaTM@user/lucatm)
[11:56:36] *** Quits: deksar (~deksar@user/deksar) (Ping timeout: 265 seconds)
[11:56:41] *** PC_ is now known as deksar
[11:57:12] *** Joins: Phil-Work (~phil@62.3.100.20)
[11:57:27] *** Joins: asanto (~asanto@static-pool-105-109.flagman.zp.ua)
[12:05:01] *** Quits: deksar (~deksar@user/deksar) (Ping timeout: 252 seconds)
[12:19:35] *** Quits: LuKaRo (~LuKaRo@p57b15e22.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[12:20:39] *** Quits: dimi1947 (~dimi1947@2a02:1388:90:a87b:cd84:f35d:4af9:4c44) (Quit: Leaving)
[12:21:38] *** Joins: dimi1947 (~dimi1947@2a02:1388:90:a87b:cd84:f35d:4af9:4c44)
[12:23:27] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[12:24:50] *** Joins: LuKaRo (~LuKaRo@p4fc335b2.dip0.t-ipconnect.de)
[12:27:39] *** Quits: Bencraft (~Bencraft@111.227.187.81.in-addr.arpa) (Read error: Connection reset by peer)
[12:33:36] *** Joins: Bencraft (~Bencraft@111.227.187.81.in-addr.arpa)
[12:43:16] *** Joins: amcsi (~amcsi@4F7A7C97.catv.pool.telekom.hu)
[12:54:45] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 265 seconds)
[12:55:04] *** Quits: mactron (~mactron@apn-123-214-101-gprs.simobil.net) (Ping timeout: 252 seconds)
[12:59:49] *** Joins: tuskkk____ (uid18470@id-18470.tinside.irccloud.com)
[13:16:44] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Read error: No route to host)
[13:19:24] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[13:21:51] *** Quits: Lazenca (~lazenca@user/lazenca) (Remote host closed the connection)
[13:23:07] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Ping timeout: 265 seconds)
[13:31:24] *** Joins: stenno (~stenno@user/stenno)
[13:37:08] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 265 seconds)
[13:42:53] *** Quits: dimi1947 (~dimi1947@2a02:1388:90:a87b:cd84:f35d:4af9:4c44) (Quit: Leaving)
[13:46:33] *** Joins: bytestream (~bytestrea@user/bytestream)
[13:48:30] *** Quits: tccki (~tccki@2406:e001:2:5a60:250:56ff:fe9e:8795) (Ping timeout: 260 seconds)
[13:50:54] *** Joins: tccki (~tccki@box.webslate.co.nz)
[14:09:45] *** Quits: asanto (~asanto@static-pool-105-109.flagman.zp.ua) (Quit: Leaving)
[14:25:26] *** Joins: GoSox (~GoSox@pool-71-174-247-109.bstnma.fios.verizon.net)
[14:26:42] <GoSox> I have an old server and since the LetsEncrypt expiration on Oct 1, I was unable to connect to LetsEncrypt SSL sites until I manually added their root certificate to my system. But it looks like PHP isn't using the system's root certificates. How can I figure out what php IS using and how can I add LetsEncrypt's to what it uses? anyone know?
[14:28:50] *** Joins: WishBoy (~WishBoy@user/wishboy)
[14:33:49] <kenoba> Blondie101010 tested phpredis persistant connections with apache bench (c4, n1000) - connections stay open between request and  after requests stopped ( I look at redis insights clients list). No new connections are being created when I dispatch new apache bench session - it does very much appear that persistant connections are reused request after
[14:33:49] <kenoba> request despite your assertion earlier.
[14:46:14] *** Joins: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[14:49:10] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 260 seconds)
[14:49:18] *** Joins: night_wulfe__ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[14:50:01] *** Joins: stenno (~stenno@user/stenno)
[14:52:32] *** Quits: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 265 seconds)
[14:55:29] *** Quits: guido (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f) (Quit: WeeChat 3.3)
[15:19:52] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[15:23:01] *** Quits: night_wulfe__ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 252 seconds)
[15:25:04] *** Quits: kerunaru (~Jmcb@199.red-79-146-102.dynamicip.rima-tde.net) (Ping timeout: 265 seconds)
[15:25:09] *** Quits: jetchisel (~jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[15:28:13] *** Quits: Hiccup (cHoy@user/hiccup) (Remote host closed the connection)
[15:33:46] *** Quits: LuKaRo (~LuKaRo@p4fc335b2.dip0.t-ipconnect.de) (Ping timeout: 265 seconds)
[15:35:46] *** Joins: guido (~guido@host-79-55-253-241.retail.telecomitalia.it)
[15:37:20] *** Joins: jetchisel (jetchisel@user/jetchisel)
[15:37:51] *** Joins: kerunaru (~Jmcb@199.red-79-146-102.dynamicip.rima-tde.net)
[15:39:36] *** Quits: tuskkk____ (uid18470@id-18470.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[15:39:40] *** Joins: pmercado (~pmercado@186.107.62.14)
[15:41:17] *** Joins: tccki_ (~tccki@2406:e001:2:5a60:250:56ff:fe9e:8795)
[15:41:21] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 245 seconds)
[15:42:11] *** Quits: amcsi (~amcsi@4F7A7C97.catv.pool.telekom.hu) (Ping timeout: 245 seconds)
[15:42:48] *** Quits: kerunaru (~Jmcb@199.red-79-146-102.dynamicip.rima-tde.net) (Ping timeout: 265 seconds)
[15:44:35] *** Quits: tccki (~tccki@box.webslate.co.nz) (Ping timeout: 260 seconds)
[15:44:35] *** tccki_ is now known as tccki
[15:48:11] *** Joins: semeion (~semeion@user/semeion)
[15:48:11] *** Quits: semeion (~semeion@user/semeion) (Client Quit)
[15:48:31] *** Joins: stenno (~stenno@user/stenno)
[15:50:12] *** Joins: LuKaRo (~LuKaRo@p4fc335b2.dip0.t-ipconnect.de)
[16:02:19] *** Joins: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[16:05:52] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 268 seconds)
[16:09:53] *** Joins: kerunaru (~Jmcb@199.red-79-146-102.dynamicip.rima-tde.net)
[16:18:37] *** Quits: NakedKing (~NakedKing@user/nakedking) (Quit: Leaving)
[16:18:51] *** Joins: deksar (~deksar@user/deksar)
[16:19:23] <deksar> Do technical details like L1 cache, L2 cache, having better of them of a CPU help overall performance of PHP?
[16:19:27] *** Joins: chao (~stenno@user/stenno)
[16:19:38] *** Quits: stenno (~stenno@user/stenno) (Read error: Connection reset by peer)
[16:23:51] *** Quits: chao (~stenno@user/stenno) (Ping timeout: 245 seconds)
[16:29:03] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[16:31:08] *** EnchanterTim is now known as LordOfThePings
[16:32:08] <__adrian> deksar: broadly speaking, php likes fast single-thread performance. clockspeed and cache help with that.
[16:32:22] *** Joins: amcsi (~amcsi@4F7A7C97.catv.pool.telekom.hu)
[16:32:59] <__adrian> but realistically, most scripts will spend the majority of their time on i/o
[16:35:37] <biberu> ^ profile your workload
[16:36:31] *** Joins: bncn (~root@178.62.72.73)
[16:43:06] *** Quits: bncn (~root@178.62.72.73) (Changing host)
[16:43:06] *** Joins: bncn (~root@user/bncn)
[16:44:58] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 252 seconds)
[16:48:15] *** Joins: stenno (~stenno@user/stenno)
[16:50:28] *** Joins: astroid99 (~Sarah@134.148.99.254)
[16:52:14] *** LordOfThePings is now known as Hash
[16:57:35] *** Joins: sumthing1980 (~sumthing1@94.54.64.154)
[17:06:06] *** Quits: sumthing1980 (~sumthing1@94.54.64.154) (Quit: Leaving)
[17:07:53] <relipse> How do I use \Ds\Stack, I tried putting php_ds.dll (nts) in php-7.4.24-Win32-vc15-x64/ext and putting extension=extension=ds.dll but that didn't work
[17:08:48] <Naktibalda> why did you repeat extension= twice?
[17:08:59] <relipse> typo, i didn't
[17:10:19] <relipse> i also tried extension=ext/php_ds.dll and that didn't work
[17:11:13] <Naktibalda> have you checked if that directory is the same as extension_dir used by your php
[17:11:28] <AllenJB> Define "didn't work". Did you get an error? Have you checked PHP's error log? Have you restarted your web server after changing ini settings?
[17:12:00] <relipse> I am not using it for a webserver just command line php
[17:12:22] <relipse> I keep getting Fatal error: Uncaught Error: Class 'Ds\Stack' not found
[17:13:06] <AllenJB> Have you checked the error log as that may contain errors related to extension loading?
[17:14:06] <AllenJB> Also check that the ini file you're editing has been loaded with `php --ini`
[17:14:08] *** Joins: wovixo (~wovixo@128.104.205.49)
[17:17:13] <relipse> ok so it appears it is trying to load from c:\php\ext but php is installed in another dir, how do I switch it? PHP Warning:  PHP Startup: Unable to load dynamic library 'ds' (tried: C:\php\ext\ds (The specified module could not be found.),
[17:17:46] <relipse>  C:\php\ext\php_ds.dll (The specified module could not be found.))
[17:20:18] <AllenJB> Check the extension_dir setting in php.ini
[17:21:24] <AllenJB> (or that you don't have multiple versions of PHP installed and you're using a different install)
[17:22:07] <relipse> ok it turns out I had the wrong version
[17:22:15] <relipse> I needed thread-safe
[17:22:22] <relipse> thanks for the help
[17:22:37] <Naktibalda> thread-safe in cli?
[17:23:27] <relipse> yep
[17:27:22] *** Joins: magla (~gelignite@55d40b56.access.ecotel.net)
[17:29:56] *** Joins: sumthing1980 (~sumthing1@94.54.64.154)
[17:30:06] <Byteflux> relipse: why do you need thread-safe PHP for CLI? usually only used for apache/mod_php if I remember, not a very common thing to use for CLI or CGI/FastCGI
[17:32:44] <__adrian> thread-safe because windows
[17:33:25] <Byteflux> Any particular thing about Windows that makes ZTS "preferred?" ... I have only been using NTS on Windows too.
[17:33:39] <__adrian> windows has arbitrary requirements
[17:34:29] <Byteflux> I guess a lot of people on Windows are also using Apache for development instead of the built-in server, but aside from that not sure why else :P
[17:35:52] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[17:39:14] <Byteflux> I see that the PECL ds extension has NTS binaries too... so I'm guessing that relipse just downloaded the thread-safe binary and tried to use it with NTS PHP >_>
[17:39:14] *** Quits: brentaarnold (~brentaarn@32.132.115.46) (Read error: Connection reset by peer)
[17:40:14] *** Joins: brentaarnold (~brentaarn@32.132.115.46)
[17:51:12] *** Joins: alien_lappy (~alien@user/alien)
[17:51:48] <alien_lappy> hey, i'm doing a Closure that changes an array supplied by reference, but after the Closure call, it's unmodified?
[17:52:21] <AllenJB> alien_lappy: Show us the code (or an example that reproduces the issue)
[17:53:10] <AllenJB> (Use a sandbox such as https://3v4l.org or a pastebin such as https://gist.github.com)
[17:53:31] <biberu> Byteflux: why would anyone use the built in server? ^^
[17:55:30] <Byteflux> biberu: With regards to Windows... I most of the time would assume that people use Windows for development, not production. Such people are also more likely than non-Windows users (I assume) to use Apache for development instead of the built-in server.
[17:56:26] <AllenJB> I'd go as far as to wager most of them are using XAMPP or similar
[17:56:29] <Byteflux> Just my perception, any way. And relating to ZTS, that's the only reason I can see why ZTS PHP would be "preferred" on Windows.
[17:56:52] <biberu> Byteflux: i read your comment as non-windows users using the built in server
[17:57:06] <Byteflux> Now I personally also use Windows for development, but I only use the PHP CLI or built-in server so I only need to use the NTS PHP.
[17:57:31] <Byteflux> biberu: Well for development, non-Windows users are probably more likely to be using the built-in server, yes.
[17:57:36] *** Quits: stenno (~stenno@user/stenno) (Quit: WeeChat 3.2)
[17:58:01] <biberu> but why would anyone do that? that's terrible
[17:58:27] <Byteflux> AllenJB: Exactly, because LAMP/XAMPP are common particularly with Windows development environments
[17:58:36] <Byteflux> or WAMP
[17:58:41] <Byteflux> not LAMP :P
[17:58:45] <biberu> also, it can be good to avoid relying on your host system even if you're running linux, keeping projects in vms or containers makes it much easier to control the environment
[18:00:19] <Byteflux> biberu: If I had to guess, probably a disproportionate number of non-Windows developers are using stacks that use the built-in server for development, not sure exactly, but just a perception.
[18:00:34] *** Joins: stenno (~stenno@user/stenno)
[18:00:41] <biberu> no idea, can't recall anyone using it for serious purposes
[18:01:05] <Byteflux> biberu: You can't? Never heard of Laravel or Symfony? :)
[18:01:36] <biberu> why would i use the built in server because of some framework?
[18:02:07] <Byteflux> With regard to your earlier question, why *you personally* wouldn't is not relevant here.
[18:02:31] <biberu> so this is a thing in laravel?
[18:03:17] <Byteflux> The built-in PHP web server is extremely common in PHP development environments in general, but yes it's a thing in Laravel and Symfony too.
[18:03:25] <alien_lappy> AllenJB: i figured out using the 3v4l.org that i surely don't have warnings enabled on this server...
[18:03:35] <biberu> really
[18:04:00] *** Quits: fahrradToken (~fahrradTo@212.7.190.34) (Ping timeout: 260 seconds)
[18:04:18] <alien_lappy> AllenJB: how to fix this: https://3v4l.org/7GBWf ; i tried adding &, but that just doesn't wanna do it
[18:04:28] <Byteflux> Yes really. It's easy to use and good enough for development. Just a simple `php -S localhost:8080 -t docroot` and you got a functioning dev server.
[18:05:10] <Byteflux> Or `php artisan serve` in Laravel which does basically the same thing, if I remember.
[18:05:29] <biberu> Byteflux: i don't really do php anymore so i guess i'm a bit out of the loop :)
[18:05:54] <biberu> i'd still set up a realish stack to develop against though
[18:06:18] *** Quits: magla (~gelignite@55d40b56.access.ecotel.net) (Quit: Stay safe!)
[18:07:08] <Byteflux> Not a bad idea to mimic target environments as closely as possible without compromising on ease of use, but it's understandable how the built-in server has gotten so popular.
[18:07:35] <Byteflux> People don't have to worry about setting up Apache or nginx separately, mucking around with configuration etc
[18:07:53] <Byteflux> Of course a lot of this can be made easier with Docker or Vagrant
[18:08:49] *** Quits: undefined_bob (~undefined@user/undefined-bob/x-5411918) (Quit: WeeChat 1.5)
[18:10:21] <Byteflux> For rapidly getting started on a project, I do like that I can just plop in an index.php, load up a router from composer, and spin up a working application from scratch with nothing except PHP in 2 minutes :P
[18:10:22] <biberu> perhaps, but if you have juniors that need help with configuring it containers might not be a bad idea anyway
[18:11:40] <Byteflux> Yeah containers or VMs are the way to go for professional teams, agreed.
[18:19:06] <alien_lappy> anyone know how to make Closure->call() work with reference variables?
[18:28:21] <Byteflux> alien_lappy: I assume you can't with call(). Have you tried with bindTo() instead? You can do $closure->bindTo($this)(...);
[18:30:24] *** Quits: astroid99 (~Sarah@134.148.99.254) (Ping timeout: 260 seconds)
[18:31:48] <alien_lappy> but, bindto is permanent?
[18:33:03] <Byteflux> alien_lappy: The binding is permanent, but bindTo() returns a *new* closure using the same body. So the original closure's binding shouldn't be altered at least according to the docs.
[18:33:47] <alien_lappy> hmm, gonna read up on that
[18:35:31] <alien_lappy> i've read somewhere that this changed in php 7.1
[18:35:39] <alien_lappy> i'm using php 7.1 for this
[18:36:00] *** Quits: wyre (~wyre@user/wyre) (Quit: ZNC 1.8.2 - https://znc.in)
[18:36:53] *** Joins: wyre (~wyre@user/wyre)
[18:38:44] *** Quits: BigE (~biggie@user/bige) (Quit: WeeChat 3.0.1)
[18:38:58] *** Joins: BigE (~biggie@user/bige)
[18:39:39] *** Joins: chao (~stenno@user/stenno)
[18:39:48] *** stenno is now known as Guest1516
[18:39:48] *** Quits: Guest1516 (~stenno@user/stenno) (Killed (cadmium.libera.chat (Nickname regained by services)))
[18:39:48] *** chao is now known as stenno
[18:41:03] *** Quits: sumthing1980 (~sumthing1@94.54.64.154) (Quit: Leaving)
[18:41:41] <Byteflux> alien_lappy: https://3v4l.org/UdJOU#v7.1.33
[18:43:55] <Byteflux> As you can see $a retains its original binding, $b is a duplicate/copy of $a with a different binding.
[18:44:53] <Byteflux> Tested in PHP 7.1
[18:45:06] *** Quits: kerunaru (~Jmcb@199.red-79-146-102.dynamicip.rima-tde.net) (Ping timeout: 245 seconds)
[18:45:13] <__adrian> alien_lappy: if you want to use a closure to replace a value at $key, then  $this->values[$key] = $closure($value, $addValue);
[18:45:48] <__adrian> otherwise please explain a bit more, but you probably shouldn't be trying to use a reference here
[18:46:16] <Byteflux> That's a good point too. I'd consider references to be a code smell in general :P
[18:46:35] <__adrian> or you could simply pass  function ($k, $add) { $this->values[$k][] = $v; }
[18:47:09] <__adrian> but the former is cleaner
[18:48:31] <__adrian> actually, can you explain why you need a callback at all, here? why don't you just  $this->values[$k][] = $v;  ?
[18:48:56] <__adrian> also, { USE BRACKETS }
[18:48:57] <__adrian> ;)
[18:49:00] *** Joins: sfields (~sfields@2603-8090-1605-d7f3-c420-d162-78e2-1319.res6.spectrum.com)
[18:55:52] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 252 seconds)
[18:59:39] *** Joins: freeman_h (~Ume@80.209.149.171)
[19:04:16] <alien_lappy> Byteflux: AllenJB: __adrian: it looks like bindTo works instead of call, as it's likely built using expanding arguments and that likely does not support reference arguments
[19:04:20] <alien_lappy> https://3v4l.org/ZWjaI
[19:05:50] <__adrian> call() simply doesn't pass its args by ref. bindTo() makes a new closure and you call that (directly).
[19:05:57] <__adrian> but see my last few comments
[19:06:34] <alien_lappy> i've seen them, this is of course but a small part of things, it's not necessarily arrays or really adding
[19:07:29] <alien_lappy> also, i don't like using brackets for single sublines, i know lotsa people say that this is the new convention, but meh...
[19:07:51] *** Joins: genom (~g@37.214.34.163)
[19:08:22] <Byteflux> Brackets and code style are whatever, as long as you're consistent across your codebase. But __adrian's points about not using references are still good to consider regardless of arrays or not.
[19:10:12] <Byteflux> A more accurate example/explanation of your goal with closures could lead to better advice, but in general pass-by-reference indicates a bad decision :P
[19:14:00] <__adrian> "i don't like using brackets for single sublines"  right, i noticed  ;)
[19:15:16] <__adrian> it's up to you, of course, but it's not a "style" suggestion. code without brackets is less obvious, which makes it less maintainable in the long term.
[19:19:00] <__adrian> huh. that's actually pretty close to the argument against references
[19:24:25] *** Joins: Rockwood (~Rocky@user/rocky)
[19:26:20] <Byteflux> I do prefer brackets for the same reason, but I do also consider it maybe 50% a matter of style. One of those "know your language syntax" things with not a very large potential to bite you in the ass. Similar to whether you should use semicolons in JavaScript or not.
[19:27:50] <Blondie101010> that's false
[19:28:04] <Blondie101010> even experimented programmers do that mistake when patching
[19:28:38] <Blondie101010> so it has a considerable maintenance cost
[19:31:19] <biberu> see also goto fail
[19:32:12] <Rockwood> biberu, hi
[19:33:22] <biberu> hello Rockwood :)
[19:34:02] <Rockwood> hows there bro?
[19:34:18] <__adrian> regarding js... i don't know if it's still this way, but originally the semicolon being "optional" literally consisted of error, back up, guess at semicolon insertion, try again
[19:34:35] <__adrian> so not exactly a "style" issue there either
[19:38:51] *** Quits: kuhilas (~kuhilas@2001:470:69fc:105::3040) (Quit: Bridge terminating on SIGTERM)
[19:38:51] *** Quits: ramsey[m] (~ramsey@phpc/ramsey) (Quit: Bridge terminating on SIGTERM)
[19:38:52] *** Quits: wutzelputz (~wutzelput@2001:470:69fc:105::3117) (Quit: Bridge terminating on SIGTERM)
[19:38:53] *** Quits: Rubin (~rubin@2001:470:69fc:105::17e) (Quit: Bridge terminating on SIGTERM)
[19:42:55] *** Joins: ramsey[m] (~ramsey@phpc/ramsey)
[19:45:49] *** Quits: freeman_h (~Ume@80.209.149.171) (Quit: Konversation terminated!)
[19:49:17] *** Quits: brentaarnold (~brentaarn@32.132.115.46) (Read error: Connection reset by peer)
[19:49:56] *** Joins: brentaarnold (~brentaarn@32.132.115.46)
[19:50:00] *** Quits: brentaarnold (~brentaarn@32.132.115.46) (Read error: Connection reset by peer)
[19:50:44] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:19f6:a1ef:2b89:ac76) (Read error: Connection reset by peer)
[19:51:11] *** Joins: brentaarnold (~brentaarn@24.112.61.90)
[19:55:07] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[20:02:07] *** Joins: kuhilas (~kuhilas@2001:470:69fc:105::3040)
[20:02:08] *** Joins: wutzelputz (~wutzelput@2001:470:69fc:105::3117)
[20:02:08] *** Joins: Rubin (~rubin@2001:470:69fc:105::17e)
[20:05:06] *** Joins: Robotico (~101@111.red-80-39-243.dynamicip.rima-tde.net)
[20:05:47] *** Quits: Robotico (~101@111.red-80-39-243.dynamicip.rima-tde.net) (Client Quit)
[20:07:49] *** Joins: Robotico (~101@111.red-80-39-243.dynamicip.rima-tde.net)
[20:38:36] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Ping timeout: 265 seconds)
[20:58:37] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[20:59:58] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[21:06:45] *** Parts: ash_worksi (~ash_m@user/ash-m/x-3292451) ()
[21:07:49] *** Joins: semeion (~semeion@user/semeion)
[21:12:36] *** Joins: stenno (~stenno@user/stenno)
[21:26:40] *** Joins: howudodat (~peter@wsip-98-191-37-99.lv.lv.cox.net)
[21:27:36] <howudodat> having a problem with datetime::createFromFormat, the following returns false - $var = DateTime::createFromFormat('Y-m-d H:i:s.u', "2019-10-16 09:39:50.000000000");
[21:28:52] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Ping timeout: 265 seconds)
[21:29:14] <AllenJB> The manual specifies that 'u' is "up to 6 digits" - you have significantly more in your value
[21:29:36] <Albright> howudodat: Note the docs for ::createFromFormat(): u is for "Microseconds (up to six digits)"
[21:29:47] <howudodat> ah yes indeed.   I missed that
[21:30:06] <howudodat> hmm, java.sql.Date formats to 9 zeros
[21:31:19] <AllenJB> You could use u??? (u + 3 "random bytes" - so the last 3 digits are ignored)
[21:31:33] <Albright> Do you particularly need those last few digits of precision?
[21:32:02] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[21:32:09] <Albright> AllenJB: Oh, interesting. Didn't know about ? Cool.
[21:33:27] <Rockwood> good night
[21:33:33] <howudodat> i like u???    I dont necessarily need the precision, but the client side framework is sending it.  I was going to just trim the 3 zeros off, but u??? is much better
[21:34:44] <Rockwood> howudodat, i need whiskey every time
[21:36:57] <Albright> Looks like you could do u*+ too if you don't want to worry about exactly how much precision the other side is sending, or s*+ if you don't need the sub-second precision at all: https://3v4l.org/ERvkP
[21:38:11] <da_wunder> ^
[21:39:32] <Albright> Ooh, 8.1 is gonna have proper enums? Nice.
[21:43:15] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[21:43:29] <Albright> Did anyone here vote against those? Care to share your thoughts why?
[21:56:28] *** Quits: Robotico (~101@111.red-80-39-243.dynamicip.rima-tde.net) (Quit: Leaving)
[22:02:34] <Blondie101010> Albright:  your time example doesn't work if it's not all 0s for the first case
[22:03:53] <Albright> Blondie101010: It seems to work. https://3v4l.org/vtvf0
[22:04:27] <Blondie101010> oh it needs 9 digits
[22:04:29] *** Quits: amcsi (~amcsi@4F7A7C97.catv.pool.telekom.hu) (Remote host closed the connection)
[22:05:02] <Blondie101010> that's a strange requirement
[22:05:20] <pcfreak30> Has the php community created any standard filesystem abstraction standard? I see libraries but nothing like standards made on http with psr7
[22:05:46] <Blondie101010> pcfreak30:  simply because you should not access the FS through HTTP
[22:06:13] *** Quits: CrazyEddy (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f) (Ping timeout: 268 seconds)
[22:06:17] <Albright> Stream wrappers kinda?
[22:06:19] <Blondie101010> there are various ways to handle files in PHP
[22:07:09] <Blondie101010> looking for a 'standard' typically denotes some obscure unmentioned requirement or lack of confidence
[22:07:17] <pcfreak30> I more of mean an OOP route.
[22:07:27] <Albright> Lack of confidence in my case :)
[22:07:30] <Blondie101010> sure no difference
[22:07:41] <Sammitch> you should give a bit more detail on what you mean by "filesystem abstraction"
[22:07:52] <pcfreak30> I see Psr7* for anything http, but nothing past the various scattered fs api procedural functions
[22:07:54] <Sammitch> before we run away with our assumptions
[22:08:20] <Byteflux> pcfreak30: You might be looking for something like https://www.php.net/spl.files ?
[22:08:31] <Blondie101010> bah
[22:08:44] <Byteflux> Not a standard in the PHP-FIG sense with PSR's, but a part of the Standard PHP Library (SPL)
[22:09:26] <pcfreak30> yes thats what i was asking
[22:09:33] <Blondie101010> that kind of shows how looking for "standards" doesn't result in "better" or more "appropriate"
[22:10:12] *** Joins: mactron (~mactron@APN-123-253-79-gprs.simobil.net)
[22:10:48] <Blondie101010> defining a proper structure for your *desired* file access is where you should start, then you can use whatever you like to build it with
[22:11:24] <Sammitch> I mean that's also not really what I would call abstraction, it's just aliasing all the file IO functions into a class definition. :/
[22:11:53] <Blondie101010> if all you want is replace `fgets($fp...)` by `$fp->fgets()`, sure
[22:12:12] <Byteflux> It's "abstract" enough I think, given the scope of "filesystem" :P
[22:12:14] <Sammitch> oh god, it's the mysqli of file io @_@
[22:12:25] <Blondie101010> it's not abstracted at all
[22:12:37] <Byteflux> Streams are definitely more of an abstraction over IO
[22:12:43] <Sammitch> ^
[22:12:45] <Blondie101010> definitely
[22:13:13] <Blondie101010> but they may not be the best candidate for the unknown requirements
[22:13:14] <pcfreak30> I was asking as I will likely be writing a filesystem interface to a storage system and wanted to use any standards that  existed.
[22:13:20] <Sammitch> ok now do an SplString class :3c
[22:14:02] <Blondie101010> pcfreak30:  that part will be the less important part of your code
[22:14:17] <Byteflux> You should probably define the Storage interface first.
[22:14:43] <Blondie101010> sounds like a high level simili-ORM
[22:15:26] <Blondie101010> therefore likely reinventing the wheel and a motor
[22:16:11] <Byteflux> You might be able to just have a stream-based storage interface with files being just one possible implementation.
[22:16:38] <Blondie101010> one file per object :)
[22:18:08] *** Quits: howudodat (~peter@wsip-98-191-37-99.lv.lv.cox.net) (Quit: Ex-Chat)
[22:18:27] <Blondie101010> it makes me think of when I was looking for a well structure flatfile DB implementation in PHP
[22:18:42] <Albright> SQLite.
[22:18:46] <Blondie101010> I found one, which was already abandonned
[22:19:13] <Byteflux> File per object is not necessarily a bad approach for many use cases.
[22:19:15] <Albright> Anything other than SQLite would be reinventing wheels. :)
[22:19:21] <Blondie101010> that's an option, but not fitting the typical requirements of a flat file DB infrastructure
[22:19:31] <Blondie101010> indeed, that's the point
[22:32:44] *** Parts: GoSox (~GoSox@pool-71-174-247-109.bstnma.fios.verizon.net) ()
[22:32:57] <Sammitch> "flat file DB" will never be anything other than a massive red flag to me
[22:33:35] *** Red is now known as Redfoxmoon
[22:34:06] *** Quits: guido (~guido@host-79-55-253-241.retail.telecomitalia.it) (Quit: WeeChat 3.3)
[22:34:50] *** Joins: guido (~guido@host-79-55-253-241.retail.telecomitalia.it)
[22:34:57] *** Quits: Byteflux (~byte@byteflux.net) (Quit: ZNC - https://znc.in)
[22:35:17] <Blondie101010> oh it is without specific requirements, that at the time involves very limited hardware
[22:35:35] <Blondie101010> *involved
[22:36:54] <Albright> It has its place. I personally think SQLite is underused (which is kinda funny since it's already one of the most used RDBMSes on the planet) in that many smaller sites which use MySQL could be better suited by SQLite.
[22:38:07] <Sammitch> I'm still a little iffy on how well SQLite stands up to concurrent access, if I'm being honest
[22:38:17] <Sammitch> I have MS Access flashbacks
[22:38:49] <Sammitch> "up to 1024 concurrent accesses" but realistically 10 would cause it to lock up
[22:39:21] <Albright> No issues at all for reads. The whole file is locked for writes. If your site does far more reads than writes, as is the typical case for web sites, SQLite could theoretically be faster than traditional RDBMSes.
[22:40:02] <Albright> But yes, if you have to do a lot of writes/logging, SQLite isn't the best if you'll have a lot of concurrent users.
[22:40:22] <Blondie101010> the bottom line to that point is that it's suitable for small projects
[22:40:45] <Blondie101010> if it gets bigger, you need the flexibility of a more sophisticated system
[22:41:46] <Blondie101010> considering that switching to another SQL RDBMS would be very easy, it's actually a sane idea
[22:41:55] <Albright> Yeah.
[22:42:43] *** Joins: magla (~gelignite@55d40b56.access.ecotel.net)
[22:42:49] <Albright> I also like that backing up the database is just "cp db.sqlite backup.sqlite". No need to dump. Restoring the backup is also just a filesystem operation. :)
[22:43:14] <Blondie101010> well that has to be done offline
[22:47:13] <Albright> "Offline?"
[22:47:52] <Albright> Oh, uou mean while there are no open connections?
[22:48:25] <Redfoxmoon> you shouldn't issue a restore while the database is in active use
[22:49:09] *** Joins: snedd (~snedd@86.14.114.137)
[22:51:04] *** night_wulfe_ is now known as night_wulfe
[22:56:17] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[22:59:36] *** Joins: Byteflux (~byte@byteflux.net)
[23:00:31] *** Quits: DrJ (~asdf@user/drj) (Ping timeout: 245 seconds)
[23:02:19] *** Quits: snedd (~snedd@86.14.114.137) (Quit: Leaving)
[23:06:47] *** Parts: alien_lappy (~alien@user/alien) ()
[23:10:10] <Sammitch> SQL dumps are an awful backup method anyway
[23:11:17] *** Joins: Mr-Snick (mr-snick@gateway/vpn/protonvpn/mr-snick)
[23:11:27] <Sammitch> I forget the name, but percona has a marvelous tool for backing up the datadir that includes checkpointing the binlogs
[23:11:43] *** Joins: DrJ (~asdf@user/drj)
[23:11:51] <Sammitch> also barman for postgres
[23:23:55] <TinoDidriksen> Or just use a filesystem that can snapshot the whole folder.
[23:25:29] *** Quits: magla (~gelignite@55d40b56.access.ecotel.net) (Quit: Stay safe!)
[23:25:31] <Sammitch> sure, but unless you use a mechanism to tell the DB "hold on I'm doing a snapshot, flush all your buffers and hold the writes a second" you're kinda rolling the dice on restorability
[23:25:33] *** Quits: genom (~g@37.214.34.163) (Remote host closed the connection)
[23:28:23] <TinoDidriksen> Nah. Same recoverability as a power cut, which any RDBM should be able to handle.
[23:29:39] <Blondie101010> nope
[23:29:56] <Blondie101010> those are totally different cases
[23:30:43] <Blondie101010> and the fact that a backup is done regularly and intentionally justifies any effort needed to ensure proper integrity
[23:33:54] *** Joins: tuskkk____ (uid18470@id-18470.tinside.irccloud.com)
[23:37:29] <Byteflux> DBs dont actually handle power failures. They can minimize their impact, but a sudden failure can still break data consistency.
[23:37:30] <Albright> If we're still talking about SQLite, there aren't really any buffers to flush once the "connection" is closed.
[23:38:35] <Byteflux> Even the most perfect database mitigation will at the very least lead to a rollback of some kind in the best case scenario where consistency was disrupted from power failure.
[23:39:26] <da_wunder> I would use sqlite only for data that really doesn't matter - no harm done if some of that data is lost and so on
[23:39:45] <da_wunder> if that is not the use case, use proper database
[23:40:03] <Albright> You seem to have mixed up SQLite and MongoDB. :P
[23:40:10] <Sammitch> FWIW I'm talking about "proper" RDBMSes with transactions and transaction logs, and I agree with ByteFlux. I also consider unexpected outages to be a separate case from a backup. if my backup process loses transactions, then it's a bad backup process.
[23:40:26] <da_wunder> Albright: imho those both are in the same pool
[23:40:39] <Albright> Well, then you misunderstand SQLite.
[23:40:48] <Sammitch> ^
[23:41:26] <Byteflux> Sammitch: Yes, backups should absolutely be done by tools that are database-aware, not by taking a snapshot of the database's filesystem storage
[23:41:42] <Sammitch> MongoDB is unique in that it explicitly does not give a shit about consistency
[23:42:16] <Sammitch> which is funny because MongoDB cluster replciation is incredibly picky about consistency :P
[23:42:55] <da_wunder> might be, last I check sqlite is just using one file for the whole "database" and you cannot use transactions with that - so please tell if those are wrong
[23:43:06] <da_wunder> s/wrong/not true
[23:43:14] <Albright> Obligatory: https://www.youtube.com/watch?v=b2F-DItXtZs
[23:43:51] <Sammitch> there's no point in implementing transactions in an RDBMS that inherently does not have concurrent writes.
[23:44:20] <Sammitch> like mandating seatbelts in a car that's bolted to the ground
[23:44:42] <Albright> SQLite does support them anyway though. :P
[23:44:45] <Byteflux> You can have multiple readers though.
[23:44:45] <Albright> https://www.sqlite.org/lang_transaction.html
[23:44:55] <Byteflux> So transactions for read consistency still matters, I would think
[23:45:04] <Albright> Yes.
[23:45:09] <Sammitch> hey lookit that
[23:45:37] <Albright> Oh, another reason why
[23:45:51] <Albright> I like SQLite: their doc pages are awesome.
[23:46:02] <da_wunder> and without concurrent writes you might be blocking other users to do that same thing
[23:46:22] <Albright> da_wunder: Yes. We discussed that above. SQLite will be slow if you have to do a lot of writing.
[23:46:30] <Albright> But you won't lose data.
[23:46:36] <Byteflux> SQLite isn't trying to be a replacement for PostgreSQL or MySQL.
[23:46:50] <Sammitch> ITT: "if sqlite doesn't fit your use case you shouldn't use it"
[23:47:39] <da_wunder> Byteflux: and that is the main question - why to even bother to use something like that, when you've better choices to use?
[23:47:48] <Albright> Corollary: SQLite probably fits your use case if you have a web site that isn't swamped with users. :)
[23:47:49] <Byteflux> Or "it has limitations that disqualify it for my use case, therefore it sucks"
[23:48:09] <Byteflux> da_wunder: Because like Sammitch said, there are use cases for it. When it fits your use case, use it. When it doesn't, don't.
[23:48:31] <Albright> da_wunder: It does really fast reads, and most sites do more reading than writing, and it's very easy to do backups. Those are the advantages IMO.
[23:49:53] <da_wunder> Byteflux: that is true, but really I don't see point to use that when you've better choices to use
[23:50:05] <Sammitch> do you use your car to visit your friend down the street, or do you just walk? don't you know cars are much more confortable?
[23:50:11] <Byteflux> "Better" is a loaded term, here.
[23:50:25] <Sammitch> or would that just be overkill?
[23:50:26] <Byteflux> There are many factors at play that could make SQLite the "better" choice
[23:50:33] <Byteflux> How exactly are you quantifying "better?"
[23:50:45] <Albright> exactly. I think SQLite *is* the better choice in many cases.
[23:51:21] <da_wunder> ok, so this is not going anywhere... let just agree that we disagree with this one
[23:51:24] <Albright> But whatever. Use whatever you feel comfortable with. Just don't do so based on mistaken ideas like "SQLite causes data loss."
[23:51:30] <Sammitch> Albright: but everyone thinks they're making the next F*cebook and have to be ready for one million concurrent users right out of the gate
[23:51:47] <Albright> lol yup
[23:51:50] <Byteflux> Sammitch: Or using your car to drive when there's only a sidewalk/bike lane with no road.
[23:52:32] <Byteflux> I guess Android shouldn't use SQLite as its default database either.
[23:52:43] <Byteflux> Obviously running a MySQL server on your phone is better.
[23:52:51] <Albright> Speaking of which, I wonder how many companies built their infrastructure on MongoDB back when it was the second coming of data and have wondered why data just mysteriously goes missing now and then over the last ten years
[23:53:12] <da_wunder> huoh, phone applications are totally different animals versus web applications...
[23:53:16] <Sammitch> Byteflux: but what if I have 1000 concurrent users on my phone?
[23:53:41] <da_wunder> and with phone application that makes really sense - there is just _one_ user for that local data
[23:53:44] <Sammitch> Albright: please no, I already had to stab my leg with a fork to stop from bitching about mungus for an hour
[23:54:28] <Sammitch> Mongo is a glorified cache daemon that got WAY out of control
[23:55:27] <Albright> I still can't believe they got away with naming a major software product after a slur against the mentally disabled. I presume most of its serious users/developers are not native English speakers. But other projects have been cancelled for far less‚Ä¶
[23:56:00] <Byteflux> Mongo is just having a bit of an identity crisis, that's all. Wants to be relational without being relational.
[23:56:24] <Albright> As an introvert I guess I can relate
[23:56:33] <Byteflux> But it does a decent job for what it is. I just don't see myself using a hybrid.
[23:56:58] <Byteflux> Either my use case fits perfectly into a RDBMS or there's a better document-oriented database solution
[23:57:11] <Byteflux> But Mongo tries to do both and masters neither.
[23:57:50] <da_wunder> and relational databases are adding more document kind of features...
[23:57:53] <Sammitch> Albright: the origin of the name is ostensibly "huMONGOus", not "MONGOloid"
[23:58:08] <Albright> I know, but still.
[23:58:22] <Sammitch> although my thought was Flash Gordon's planet Mongo
[23:59:03] <Sammitch> also the M word being equally racist and ablelist :P
[23:59:41] <Albright> Did you know there's an American football team in Japan called "Tokyo Gas Creators?" If you're going to name things in a certain language you should have a native speaker of that language check up on it first.
[23:59:56] <Sammitch> lol the what now?
