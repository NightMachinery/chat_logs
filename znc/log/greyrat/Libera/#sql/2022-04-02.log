[00:08:56] *** Joins: bpmedley (~bpmedley@2600:1700:e2c:8410:9086:cd3f:1d40:fcc6)
[00:19:27] *** Joins: acidjnk (~acidjnk@p200300d0c7049f94e8cdd499a79a3878.dip0.t-ipconnect.de)
[00:36:20] *** Quits: fabic (~fabic@lfbn-reu-1-379-8.w92-130.abo.wanadoo.fr) (Ping timeout: 246 seconds)
[00:42:17] *** Quits: PTNapivoski (~PTNapivos@2804:60:1c2:9b00:283d:c55f:359b:1ac0) (Quit: Leaving)
[00:43:52] *** Joins: karakedi (~eAC53C340@user/karakedi)
[01:06:55] *** Joins: rgrinberg (~textual@177.248.156.216)
[01:31:08] *** Quits: nsk_nyc (~nsk_nyc@network45-238-142-host-234.inethn.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:41:01] *** Quits: vnf_ (~vnf@85.175.252.98) (Quit: Leaving)
[01:41:50] *** Quits: rgrinberg (~textual@177.248.156.216) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:42:34] *** Joins: rgrinberg (~textual@177.248.156.216)
[01:45:07] *** Joins: vnf (~vnf@85.175.252.98)
[01:48:23] *** Quits: vnf (~vnf@85.175.252.98) (Client Quit)
[01:50:14] *** Quits: rvalue (~rvalue@user/rvalue) (Read error: Connection reset by peer)
[01:50:29] *** Joins: rvalue (~rvalue@user/rvalue)
[01:58:54] *** Quits: Rashad (~textual@2a01:9700:13d6:d000:f9a4:ee1a:ded0:358b) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[01:59:10] *** Quits: rvalue (~rvalue@user/rvalue) (Excess Flood)
[01:59:23] *** Joins: rvalue (~rvalue@user/rvalue)
[02:10:52] *** Joins: vnf (~vnf@85.175.252.98)
[02:11:21] *** Quits: vnf (~vnf@85.175.252.98) (Read error: Connection reset by peer)
[02:11:55] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[02:17:35] *** Joins: Guest54 (~Guest54@2620:10d:c092:400::4:a871)
[02:20:13] <funhouse> a constraint is used for 2 unique 2 rows/
[02:20:16] <funhouse> columns
[02:21:40] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[02:36:03] *** Quits: rgrinberg (~textual@177.248.156.216) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:40:50] *** Joins: AmR (~AmREiSa@156.207.152.245)
[02:42:22] *** Joins: vnf (~vnf@85.175.252.98)
[02:45:44] <Xgc> funhouse: Do you have a question?
[02:46:49] <thumbs> oh, ifohancroft left
[02:51:28] *** Quits: whatsupdoc (uid509081@id-509081.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[02:59:01] *** Quits: vnf (~vnf@85.175.252.98) (Quit: Leaving)
[03:08:13] *** Quits: acidjnk (~acidjnk@p200300d0c7049f94e8cdd499a79a3878.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[03:16:56] *** Quits: AmR (~AmREiSa@156.207.152.245) (Quit: Konversation terminated!)
[03:45:28] *** Quits: ckdCreations (~ckdCreati@147.55.133.134) (Read error: Connection reset by peer)
[03:47:08] *** Joins: ckdCreations (~ckdCreati@147.55.133.142)
[04:00:43] *** Quits: liefer (~liefer@user/liefer) (Quit: liefer)
[04:05:04] *** Joins: liefer (~liefer@user/liefer)
[04:32:47] *** Quits: ckdCreations (~ckdCreati@147.55.133.142) (Read error: Connection reset by peer)
[04:33:04] *** Joins: ckdCreations (~ckdCreati@c-73-140-151-116.hsd1.wa.comcast.net)
[04:42:00] *** Quits: Guest54 (~Guest54@2620:10d:c092:400::4:a871) (Ping timeout: 250 seconds)
[04:51:23] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[05:06:09] *** Quits: grooverman (~grooverma@179.97.175.157) (Read error: Connection reset by peer)
[05:07:06] *** Joins: grooverman (~grooverma@179.97.175.157)
[05:24:58] *** Quits: MrZeus_ (~MrZeus@185.206.227.135) (Ping timeout: 272 seconds)
[05:49:35] *** Joins: dob1_ (~dob1@user/dob1)
[05:49:40] *** Quits: dob1 (~dob1@user/dob1) (Ping timeout: 272 seconds)
[06:24:22] *** Joins: rgrinberg (~textual@177.248.156.216)
[07:01:17] *** Quits: millido (~millido@84.210.150.128) (Quit: ZNC 1.8.2 - https://znc.in)
[07:16:43] *** Joins: millido (~millido@84.210.150.128)
[07:52:32] *** Quits: jlc (~jlc@cpe-107-15-173-212.nc.res.rr.com) (Ping timeout: 272 seconds)
[07:55:52] *** Joins: fabic (~fabic@lfbn-reu-1-379-8.w92-130.abo.wanadoo.fr)
[08:24:26] *** Joins: nsk_nyc (~nsk_nyc@network45-238-142-host-234.inethn.net)
[09:00:48] *** Quits: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com) (Ping timeout: 260 seconds)
[09:03:30] *** Joins: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com)
[09:33:36] *** Quits: nsk_nyc (~nsk_nyc@network45-238-142-host-234.inethn.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:41:47] *** Joins: nsk_nyc (~nsk_nyc@network45-238-142-host-234.inethn.net)
[09:43:21] *** Quits: nsk_nyc (~nsk_nyc@network45-238-142-host-234.inethn.net) (Client Quit)
[09:47:56] *** Quits: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com) (Ping timeout: 246 seconds)
[10:21:39] *** Joins: acidjnk (~acidjnk@p200300d0c7049f703514052294f74a96.dip0.t-ipconnect.de)
[10:22:26] *** Quits: reset (~reset@user/reset) (Quit: reset)
[10:31:28] *** Quits: rvalue (~rvalue@user/rvalue) (Remote host closed the connection)
[10:33:23] *** Joins: rvalue (~rvalue@user/rvalue)
[10:34:27] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[10:38:45] *** Quits: rgrinberg (~textual@177.248.156.216) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:36:15] *** Joins: vnf (~vnf@46.159.35.178)
[11:39:05] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[12:33:01] *** Joins: grooverman_ (~grooverma@179.97.175.157)
[12:34:55] *** Quits: grooverman (~grooverma@179.97.175.157) (Ping timeout: 260 seconds)
[12:50:08] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[12:52:23] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[13:08:12] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Read error: Connection reset by peer)
[13:08:32] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[13:11:06] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Ping timeout: 272 seconds)
[13:13:29] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[13:29:43] *** Joins: Rashad (~textual@149.200.187.176)
[13:46:49] *** Joins: triberio13 (~triberio1@195.53.32.158)
[13:53:32] *** Quits: vnf (~vnf@46.159.35.178) (Ping timeout: 272 seconds)
[13:54:13] *** Quits: acidjnk (~acidjnk@p200300d0c7049f703514052294f74a96.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[14:12:13] *** Quits: Rashad (~textual@149.200.187.176) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[14:23:56] *** Joins: acidjnk (~acidjnk@p200300d0c7049f70650b5af7f0466f4b.dip0.t-ipconnect.de)
[14:46:21] *** Joins: vnf (~vnf@188.162.143.23)
[14:47:50] *** Quits: vnf (~vnf@188.162.143.23) (Remote host closed the connection)
[15:20:47] *** Quits: acidjnk (~acidjnk@p200300d0c7049f70650b5af7f0466f4b.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[15:22:56] *** Joins: Rashad (~textual@149.200.187.176)
[15:23:56] *** Quits: fabic (~fabic@lfbn-reu-1-379-8.w92-130.abo.wanadoo.fr) (Ping timeout: 246 seconds)
[15:32:59] *** Joins: fabic (~fabic@lfbn-reu-1-379-8.w92-130.abo.wanadoo.fr)
[15:33:45] *** Joins: Guest54 (~Guest54@2620:10d:c092:400::4:a80e)
[15:43:12] *** Joins: vnf (~vnf@85.174.194.51)
[15:48:41] *** Quits: Rashad (~textual@149.200.187.176) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[16:05:13] *** Joins: acidjnk (~acidjnk@p200300d0c7049f70498c262e6d47c9a7.dip0.t-ipconnect.de)
[16:07:48] *** Quits: fabic (~fabic@lfbn-reu-1-379-8.w92-130.abo.wanadoo.fr) (Ping timeout: 260 seconds)
[16:22:16] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-974-194.w86-238.abo.wanadoo.fr) (Quit: Ping timeout (120 seconds))
[16:24:02] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-974-194.w86-238.abo.wanadoo.fr)
[16:45:22] *** Joins: wakeup (~wakeup@user/wakeup)
[17:09:04] *** Quits: Guest54 (~Guest54@2620:10d:c092:400::4:a80e) (Ping timeout: 250 seconds)
[17:22:51] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[17:23:19] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[17:28:49] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[17:37:19] *** Joins: Guest54 (~Guest54@2620:10d:c092:400::4:a80e)
[17:39:57] *** Quits: acidjnk (~acidjnk@p200300d0c7049f70498c262e6d47c9a7.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[18:01:55] *** Quits: wakeup (~wakeup@user/wakeup) (Quit: Client closed)
[18:03:23] *** Joins: Bushcat (~Goondog@host-92-28-79-240.as13285.net)
[18:04:06] <Bushcat> Howdy Folks, just inquiring, does anyone good at table normalizing following Codd's normal form 1NF, 2NF and 3NF 
[18:06:01] *** Quits: Bushcat (~Goondog@host-92-28-79-240.as13285.net) (Quit: Leaving)
[18:06:29] <Xgc> Bushcat: I'm sure someone is.  :)  Do you have a question about normalization?
[18:07:00] <Xgc> Maybe a question about Codd's specific requirements?
[18:07:22] <Xgc> Everyone has a slightly different set of requirements.
[18:23:20] *** Joins: Bushmaster (~Goondog@user/bushmaster)
[18:23:48] <Bushmaster>  Howdy Folks, just inquiring, does anyone good at table normalizing following Codd's normal form 1NF, 2NF and 3NF
[18:30:57] <Xgc> Bushmaster: Ask the actual question, then wait.
[18:31:12] *** Joins: acidjnk (~acidjnk@p200300d0c7049f70498c262e6d47c9a7.dip0.t-ipconnect.de)
[18:33:43] <Bushmaster> Xgc, I have a large sales data roughly 10,000 rows, I am in the process of normalizing the table, basically segmenting the table in smaller tables following normal form rules, the question I have is, because customer names occur many times because same customers bought multiple items, can I use customer ID as primary key referencing it as foreign key in sales table?
[18:35:41] <Xgc> Bushmaster: Sure.
[18:36:25] <Bushmaster> thanks also one last thing, do all tables must have primary key?
[18:36:59] <Bushmaster> I am asking because when I read 2NF, I got bit confused, not sure 
[18:37:12] <Xgc> Bushmaster: For typical normal designs, yes.
[18:37:30] <Xgc> Bushmaster: It's the requirement to be able to uniquely identify each row of a table.
[18:39:08] <Bushmaster> yes, is there a way to share that big table I have followed by how I normalizing the big table to all small tables, so that you can take a look whether my process of normalization is actually conforming 1NF, 2NF and 3NF
[18:41:03] <Xgc> Bushmaster: It's hard to tell you how to share.  I don't know how you've specified the model.
[18:41:52] <Xgc> Bushmaster: Can you export in some text form?  Images are often less helpful, in general, but that's fine if it's easier to share.
[18:41:56] <Bushmaster> yes its hard to share and explain, that is big problem in SQL 
[18:42:05] <Bushmaster> its not code or something so its hard to share
[18:42:25] <Xgc> I don't know what you have.  So it's hard to suggest options.
[18:42:57] <Bushmaster> what I can do is paste bin first few rows of the 10,000 rows of main denormalized table first so that you look into the column headings 
[18:43:00] <Xgc> If you're using a specific database, showing the CREATE TABLE statements should be sufficient.
[18:43:34] <Bushmaster> I am not creating the table just now, i need to segment the big tables to smaller which I am doing now
[18:43:38] <Xgc> Sure. An export of some rows of data can be helpful.  But that doesn't indicate the types or other requirements.
[18:44:28] <Xgc> Include headings for each column.  We can discuss what each column represents later.
[18:44:47] <Bushmaster> no no, constrains and all other table design related requirements I have not done yet, I am simply taking columns out from main table to create smaller tables and linking them through primary key and foreign key 
[18:44:48] <Xgc> Feel free to exclude data you feel isn't needed.
[18:45:10] <Xgc> "main table".  Do you have a table in a database?
[18:45:15] <Bushmaster> No No
[18:45:32] <Xgc> Ok.  Just post a few rows of data with column names.
[18:45:34] <Bushmaster> its a flat file .csv containing 10,000 rows of customer sales data 
[18:45:41] <Xgc> csv is fine.
[18:45:44] <Xgc> dpaste.com
[18:45:48] <Bushmaster> thanks
[18:46:03] <Bushmaster> allow me 10 minutes as I am nearly finishing the normalization process
[18:46:34] *** Quits: Guest54 (~Guest54@2620:10d:c092:400::4:a80e) (Ping timeout: 250 seconds)
[18:48:15] *** Quits: acidjnk (~acidjnk@p200300d0c7049f70498c262e6d47c9a7.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[18:54:16] *** Joins: reset (~reset@user/reset)
[19:03:39] <Bushmaster> Xgc, paste bin screw it up though here is the first few rows from main .csv file but pastebin messed it up 
[19:03:41] <Bushmaster> https://paste.gg/p/anonymous/defb28e32b454f4a808e39d416931fb5
[19:13:30] <Xgc> tsv
[19:18:13] <Bushmaster> what is tsv
[19:19:35] <Xgc> tab separated values.  Not csv.
[19:20:10] <Xgc> No problem.  This is fine.  Your data contains commas.  Tab separation is fine for that.
[19:24:08] *** Joins: internecine (~interneci@ip68-98-149-5.dc.dc.cox.net)
[19:30:10] *** Joins: Rashad (~textual@2a01:9700:13d6:d000:f9a4:ee1a:ded0:358b)
[19:31:11] *** Quits: Rashad (~textual@2a01:9700:13d6:d000:f9a4:ee1a:ded0:358b) (Client Quit)
[19:40:17] <Xgc> Bushmaster: This is fine.  You asked about creating a customer table and then referring to that customer table from the products table, correct?  This is fine.
[19:41:19] <Xgc> Bushmaster: Note that the primary key of the products table could be the name (logically).  But some prefer (for various reasons) to create a surrogate key.
[19:41:50] <Bushmaster> well, not sure you managed to read the main tables all the columns, I now finished normalizing, basically from that big table I took every thing away and created smaller tables linked all with pk and fk
[19:42:02] <Xgc> or customer table.
[19:42:15] *** Joins: hrob (~hrob@31-209-221-88.dsl.dynamic.simnet.is)
[19:42:18] <Bushmaster> well, its all hard to explain 
[19:43:18] <Xgc> Bushmaster: Your initial table looks something like this: https://dbfiddle.uk/?rdbms=mysql_8.0&fiddle=b7307e5a870bd469b0f2aa433bb196b8
[19:43:33] <Xgc> You didn't post any normalized tables.
[19:44:09] <Bushmaster> yes you are right
[19:44:16] <Bushmaster> now let me post normalized table at a time 
[19:44:19] <Xgc> Bushmaster: This is pretty easy.  Ask one question at a time.
[19:45:03] <Bushmaster> I want you to check whether I have done the normalization correct, this is the first time I am normalizing a large csv dump data table
[19:46:22] <Bushmaster> okay this is what I am calling as base table https://paste.gg/p/anonymous/d10a633f4de34f5da03c0986ed0a0d2b
[19:57:51] <Xgc> Post the rest.  It seems ok.
[19:58:23] <Xgc> Some missing / required data.  But it's otherwise ok.
[20:05:16] <Bushmaster> yes sales_id_pk and ship_id_fk are empty cos I will use Excel Power Query to auto create sales_id_pk 
[20:07:22] <Bushmaster> this is product_subcategories table https://paste.gg/p/anonymous/318409db41c14cd0bbd681184079cd2f
[20:08:08] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[20:08:20] <Bushmaster> this is products table https://paste.gg/p/anonymous/ec1667f5cef34b8c8fac2fd36990375d
[20:09:16] <Bushmaster> this is customer table https://paste.gg/p/anonymous/8ecd252314bb4d49a5a88c80c188ee1b
[20:10:42] <Bushmaster> this is ship mode table https://paste.gg/p/anonymous/5def2e98491c45019a8d1bb6fbdf6371 
[20:10:52] <Bushmaster> all referencing sales table
[20:12:40] <Xgc> Bushmaster: That's a mistake.  The sales table should refer to most of these.  The sales row refers to a product, etc.
[20:13:23] <Xgc> Bushmaster: A product can be associated with many sales.  So the reference can't be in the products table
[20:13:58] <Xgc> Same with ship_mode, customer, etc.
[20:14:03] <Bushmaster> I think I said it wrong but my table design is correct right
[20:14:12] <Xgc> Nope.
[20:14:18] <Bushmaster> the sales table has all that foreign key
[20:14:57] <Xgc> Bushmaster: Yes. That part is right.  But you have sales_id_fk in the products table, and others.
[20:15:25] <Bushmaster> yes 
[20:15:31] <Xgc> That's a mistake.
[20:15:38] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[20:16:12] <Bushmaster> I am reading and trying to understand 
[20:16:35] <Xgc> Bushmaster: These tables represent a one-to-many relationship.  The FK is found in one table only.  sales refers to product.  Product does not refer to sales.
[20:16:37] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[20:18:06] <Xgc> Bushmaster: None of the above tables can refer to sales, because that would mean a product can be associated with one and only one sales row.
[20:18:45] <Bushmaster> I am trying to understand, its not easy to understand
[20:18:46] <Xgc> That would mean category can be associated with one and only one sales row.  That's why these are wrong.
[20:19:11] <Xgc> Bushmaster: Try to create a simple test case, with schema.  You'll see.
[20:19:30] <Xgc> Bushmaster: The constraints will prevent insertion of required data.
[20:20:30] <Xgc> Bushmaster: That's like having a colors table and inserting (Red, Product_1) in the colors table, which would prevent using that color for any other product.
[20:21:10] <Xgc> Bushmaster: To use a color for more than one product, the reference needs to be in another table, like the products table.
[20:21:34] <Xgc> If in the products table, any product can have 'Red' as a reference to colors.
[20:22:36] <Xgc> Bushmaster: This is fundamental.  You need to try some simple cases first.  Don't create large tables with many columns.  Create a simple products table with a simple sales table.
[20:23:16] *** Quits: hrob (~hrob@31-209-221-88.dsl.dynamic.simnet.is) (Quit: Client closed)
[20:23:46] <Xgc> Bushmaster: Try to insert products which have a sales column.  Now think about how that product can be sold more than once, in 2 or more sales rows, for instance.
[20:25:10] <Xgc> products should know nothing about sales.  Sales needs to know about products, since each sale is about a product.
[20:25:59] <Bushmaster> I am trying to understand, I know how you explaining, I think my brain is over heating 
[20:26:00] <Xgc> Now, when you expand on the concept of sales, you may decide to separate these a little more.  Start with the simple case "A sale has one product" for now.
[20:26:46] <Xgc> Bushmaster: We can even step back further.  Can you have a sales row without an empty products table?
[20:26:49] <Bushmaster> one thing I understand, good table design must conform one to many and NOT many to many 
[20:26:57] <Xgc> Sorry...
[20:27:00] <Xgc> Bushmaster: We can even step back further.  Can you have a sales row with an empty products table?
[20:27:28] <Xgc> Bushmaster: Many to many is perfectly fine.  You didn't create that structure.
[20:27:43] <Xgc> Bushmaster: Many to many requires a 3rd table.
[20:27:52] <Bushmaster> I did not create it cos I am just following the book which says try do one to many 
[20:28:08] <Xgc> Bushmaster: Right. One to many is a good starting point.
[20:28:34] <Xgc> Bushmaster: Reread my comments.  Try to create a small test case as I described above.
[20:29:09] <Xgc> Bushmaster: These are simple concepts, but can be confusing at first.  Take it slowly.
[20:29:22] <Bushmaster> No I cant have sales row without product table because product table is subset of sales table, so i need to fill everything in product table with primary key before referencing it as foreign key in sales table 
[20:29:43] <Xgc> Bushmaster: Good.  Now ...
[20:29:52] <Xgc> Bushmaster: Can you have a product which has no sales?
[20:30:03] <Bushmaster> yes 
[20:30:15] <Xgc> Bushmaster: But you have a sales_fk in your product trable.
[20:30:29] <Bushmaster> hehehe
[20:30:32] <Xgc> Why would you do that?
[20:31:09] <Xgc> Answer: You shouldn't do that.
[20:31:33] <Xgc> All the above was just trying to explain why that is wrong.
[20:32:17] <Xgc> Product does not refer to sales.  Product is inserted first alone.  Then a sales row is inserted which refers to a product.
[20:36:05] <Bushmaster> i got the general concept but still i cant get my head around may be spending too much time in table design today and brain cant process it 
[20:36:55] <Bushmaster> that sales_id in all the product category columns, if i leave it, what would happenb
[20:39:01] <Bushmaster> oh okay, its about declaring primary and foreign key, if I declare sales_id as foreign key i cant create the table cos primary key table which is sales has nto even created yet
[20:39:44] <Bushmaster> on the other hand, i cant create primary key sales tables first by declaring product_id as foreign key when product table has not been created 
[20:40:43] <Bushmaster> but anyway I think I need to leave it for 24 hours to sink in my brain, i never thought my brain will literally collapse with these concepts
[20:43:14] <Bushmaster> the customers table has sales_id as foreign key too, that must stay right, cos each sales is associated with customers
[20:46:24] <Bushmaster> sales table is one to many 
[20:46:34] <Bushmaster> product tables are one to one
[20:46:48] <Bushmaster> customer table is one to many 
[20:47:10] <Bushmaster> cos one customer can have several items hence several sales 
[20:48:14] <Bushmaster> oh no
[20:48:19] <Bushmaster> product tables are one to many too
[20:49:07] *** Quits: wodencafe (wodencafe@woden.cafe) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[20:56:28] *** Joins: wodencafe (wodencafe@woden.cafe)
[21:02:13] <Xgc> Bushmaster: You're making several mistakes in comments above.  It's as simple as: A Product can exist without a Sale.  A Sale can not exist without a Product.  This means Sales will (in some way) refer to a Product.  A Product will never refer to a Sale.
[21:03:34] <Xgc> Bushmaster: Forget the "one to many" term.  Just think about my comment.
[21:04:03] <Xgc> You can learn what term to use later.  Learn the concepts.
[21:10:32] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 272 seconds)
[21:12:37] <Bushmaster> yes its lot easy to understand from your explanation than one to many with that weird diagram of arrow and infinite sign
[21:13:33] <Bushmaster> so customer cannot exist without a sale i kept the sales_id as fk in customer table
[21:14:37] <Bushmaster> because each sales represent a customer basically each customer name and state refers to each sales
[21:14:58] <Bushmaster> hence it is one to many 
[21:15:36] <Bushmaster> who knew data normalizing is harder than learning bunch of sql codes anyway 
[21:24:06] *** Joins: fabic (~fabic@lfbn-reu-1-379-8.w92-130.abo.wanadoo.fr)
[21:29:14] *** Quits: Azrael_- (~aweoi@51.154.62.124) (Read error: Connection reset by peer)
[21:29:15] *** Quits: fabic (~fabic@lfbn-reu-1-379-8.w92-130.abo.wanadoo.fr) (Ping timeout: 260 seconds)
[21:33:50] *** Joins: pulseaudio (~pulseaudi@223.223.137.136)
[21:34:09] <Xgc> Bushmaster: That's why sales_id should not be in the customer table.  A customer can be inserted without a sales.  Note, these FK values can be nullable.  So your comment about "customer can't exist without sales" isn't necessarily true.  We could still insert a customer with the wrong design approach.
[21:36:14] <Xgc> Bushmaster: In a diagram, that kind of constraint might be represented by a (0 or 1) indicator, meaning the FK could be null.
[21:37:45] <Atque> Bushmaster: Most systems aren't really in normal form tbh
[21:38:27] <Atque> Bushmaster: Mid-tier software companies almost never comply with it. Maybe, the Google, SAPs, Facebooks etc. do, but I have never worked for one.
[21:38:31] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[21:38:45] <Bushmaster> Xgc,  my head is slightly cooled down a bit, let me clean these tables and then I will going into writing SQL code in PostgreSQL (SQL Server 2019,  I will leave it for another day) 
[21:40:11] <Bushmaster> Atque, good to know, but I think normalization can help for pulling data from three more tables through join, especially utilizing PowerBI or Excel Power Query 
[21:41:01] <Xgc> Well, that's mostly because "most don't understand"... not so much that it's intentional.  There are certain higher forms which can be overkill.  But the 1st several forms should almost always be a requirement, 1 to 3 minimally.
[21:41:29] <Atque> Xgc: 5th normal form : P
[21:41:52] <Bushmaster> yes well the books  I am reading 1NF, 2NF and 3NF is MUST and that is what I am learning and with help of Xgc I am gonna carry on learning it 
[21:42:27] <Atque> Yeah, they are a must in terms of good practice.
[21:42:29] *** Joins: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com)
[21:43:03] <Bushmaster> Even though I do not totally understand the first three normal form but I like implementing it and i think its really fun too 
[21:43:56] <Bushmaster> first normal form is easy, no column show have two values, each column must be atomic, hence I am separating last name and first name from customer column now
[21:45:06] <Bushmaster> also no redundancy in terms of column category hence product, product sub category cant be in one table 
[21:45:11] <Bushmaster> hence I separated them all 
[21:45:27] <Bushmaster> Xgc do you think my tables so far comply 1NF?
[21:45:37] <Bushmaster> its the 2NF and 3NF I am struggling 
[21:46:53] <Bushmaster> also I cant do 2NF before 1NF, it follows hierarchical order, very interesting Dr. E.F. Codd was brilliant 
[21:47:23] <Xgc> Bushmaster: 2NF implies 1NF.  3NF implies 2NF.
[21:48:36] <Bushmaster> never thought that way, needs deep thinking 
[21:49:28] <Xgc> Bushmaster: By that I mean, you can't have 3NF without also complying with 2NF and we can't have 2NF without complying with 1NF.
[21:49:39] <Bushmaster> I am struggling with 2NF, what I understood from book is any non key columns must relate to primary key 
[21:50:28] <Bushmaster> I understand that but I am trying to put that into my table context and it gets my brain thinking harder
[21:51:50] <Bushmaster> so for example my sales table, i got rid of columns that are similar category conforming 1NF, and then all the columns (except the foreign key columns) relates to primary key which is sales_id
[21:52:03] <Bushmaster> so 1NF and 2NF are conformed I guess
[21:52:09] <Bushmaster> no idea about 3NF 
[21:52:17] <Xgc> Bushmaster: Right.  That's a functional dependence requirement.  Example:  book (book_name PK, author, author_age);  author_age violates 2NF because it's dependent on author, not book_name (the primary key).
[21:52:57] <Bushmaster> wonderful
[21:53:09] <Xgc> Not a great example.  Maybe replace that with author birth date.
[21:53:41] <Xgc> age is bad because that's relative to a changing date (today).
[21:53:51] <Bushmaster> so you get rid of that table, in other words 2NF allow us to find the clues which columns from large dump data like my csv file need to be taken off 
[21:54:02] <Xgc> Birthdate does not have this problem.
[21:54:51] <Xgc> Bushmaster: Right. These are simple ways to avoid some data duplication issues and other related anomalies.
[22:05:06] <Bushmaster> one thing i need to clear up, you know in my csv data there are lot of rows with same values like customer name or prooduct name, when we talking about duplication, we do not mean replacing them values so that there is no duplication, we cant do that cos each rows refers to sales 
[22:07:22] <Xgc> Bushmaster: First, you have to identify the keys.  If customer_name is the primary key of the customer table, that's the value you would use in the sales table to refer to the customer.
[22:08:12] <Xgc> Bushmaster: It's perfectly acceptable to have the same customer FK value to the customer table for several sales rows.
[22:08:13] <Bushmaster> yes I have done that, well customer id, which came with dump csv data 
[22:08:46] <Xgc> Bushmaster: If customer_id is not the customer_name, you need to remove customer_name from any other tables.
[22:09:34] <Bushmaster> well main csv file each rows is sales info , do you access server?
[22:09:57] <Bushmaster> i am thinking you can access my server, its secured so no infringement
[22:10:15] <Xgc> Bushmaster: The csv file really has nothing to do with it.
[22:11:05] <Xgc> Bushmaster: csv files can contain all sorts of data that needs adjustment at the time of insert into the final tables.
[22:11:18] <Bushmaster> yes 
[22:11:27] <Bushmaster> and that is what I am doing for the past 9 hours
[22:11:37] <Bushmaster> and it appears I need more hours 
[22:12:20] <Bushmaster> all I am saying is may be you can see all my tables as I am nearly finished to normalizing 
[22:13:26] <Xgc> Bushmaster: It's also very common for csv files to contain names that will be translated into keys to other tables.  Like you might have customer_name in your sales csv data.  But you'll want to insert the customer_id (and not the name) into the sales table.
[22:14:27] <Xgc> So it's not always that helpful to be looking at the csv files when reviewing normalization.
[22:15:07] <Bushmaster> I am doing it 
[22:15:14] <Bushmaster> surrogate key right
[22:15:32] <Xgc> That's one approach.  Sure.
[22:15:46] <Bushmaster> customer_id came with data dump
[22:15:53] <Bushmaster> so it would be what natural key?
[22:16:04] <Bushmaster> just wanted to know the term
[22:16:22] <Bushmaster> i am using customer_id as primary key 
[22:16:50] <Xgc> That doesn't make it a natural key.  Someone else created the surrogate customer_id.
[22:18:07] <Xgc> Bushmaster: The number 1 has no natural meaning with respect to a customer.  It's fabricated by someone or some system to represent the customer.
[22:18:34] <Xgc> Finding it in a csv file doesn't make it "natural".
[22:19:01] <Bushmaster> okay so customer_id I am using is what? Surrogate key?
[22:19:16] <Xgc> Bushmaster: I would say so.
[22:19:50] <Xgc> It doesn't matter who dreamed up that number.  It's fabricated.
[22:20:25] <Xgc> Customer Name is a natural attribute of a customer.
[22:21:25] <Bushmaster> yes i do not know how it has been made, i can understand product_id which I am also using as surrogate key, product_id may be from those large retails where each product when we scan shows the product id etc 
[22:22:46] <Bushmaster> i am nearly finishing editing and cleansing the data in power query 
[22:23:26] <Xgc> Bushmaster: Now a product_id that contains meaningful detail might be considered natural.  That's a little less clear.
[22:25:02] <Xgc> Bushmaster: For instance, you had some incoming data that contained character strings used to identify products or other objects.  That it's purely a surrogate, since it contains some product related detail.  It might contains the first few characters of the product name, plus other data.
[22:25:29] <Xgc> "That isn't purely a surrogate ..."
[22:31:13] <Bushmaster> okay all my tables are normalized as far I can tell i just want you to take a look
[22:40:02] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[22:40:28] *** Quits: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com) (Ping timeout: 272 seconds)
[22:46:37] <Bushmaster> anything like that as column values CG-12520 can be typed as varchar(50)?
[22:47:08] <Bushmaster> I am creating table now
[22:48:27] <Xgc> Sure.
[22:50:07] <Bushmaster> its a busy evening for me, lot of work 
[22:50:30] <Bushmaster> thanks for helping me out here, its the first time I am doing something so big and practical 
[22:50:50] <Bushmaster> doing it in postgreSQL first, cos SQL Server, I am not sure yet
[22:51:38] <Bushmaster> the other thing, you know something, when I create table, there is command which make sure if I delete one rows from primary key table, the foreign key tables get automatically updated and not get orphaned, 
[22:51:53] <Bushmaster> i forgot that declaration during table creation 
[22:52:04] <Xgc> Everything we discussed is database agnostic.  Same in almost any database.
[22:52:48] <Xgc> Bushmaster: That's a FK definition with cascading delete
[22:53:34] <Bushmaster> No No, Xgc  there is tricky things in SQL Server, cos I need to clean the product columns cos it has all kind of punctuation in it, and i tried in the past utilizing SSIS and throws me error, so may be I can ignore the SSIS errors and let it parse but no, I am doing it in Postgres for today
[22:53:40] <Xgc> or cascading update.  ON DELETE SET NULL ... ON DELETE CASCADE
[22:53:47] <Bushmaster> yes yes, cascading details indeed, 
[22:53:51] <Bushmaster> yes yes
[22:53:58] *** Quits: bitblit_ (~bitblit@gateway/tor-sasl/bitblit) (Remote host closed the connection)
[22:53:59] <Bushmaster> thanks, let me create tables now 
[22:54:21] *** Joins: bitblit_ (~bitblit@gateway/tor-sasl/bitblit)
[23:05:28] <Bushmaster> just carefully looked at the sales table, and other child tables, do not think i need on delete cascade 
[23:07:27] *** Joins: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com)
[23:08:41] <Bushmaster> may be only with the customer child table, so that if I delete any rows from sales table, then that customer assoicated with deletes sales gets removed from customer table 
[23:09:15] <Bushmaster> but do not see adding cascade for product tables, cos i can delete rows from sales table but got nothing to do with products removal
[23:09:50] <Xgc> Bushmaster: No. Customer can exist without sales.  It's the other way.  If you delete a customer, you might want the corresponding sales rows to be deleted.
[23:10:22] <Bushmaster> hehhe, you are really good do you know that
[23:10:54] <Xgc> Well, I've been doing this for a few more days than you.
[23:10:55] <Bushmaster> i got all these 5 tables open and i cant get my head around, and you without even looking at table, can solve it in a jiff
[23:12:09] <Bushmaster> i cant do the other way around cos I got rid of sales_id as fk from customer table as you suggested though 
[23:13:32] <Bushmaster> so shall I bring all the sales_id as fk in all the child tables including products 
[23:14:27] <Bushmaster> so if I delete any products from product table, or customer table, then sales table gets automatically updated, for that i need to add sales_id as foreign key in product and customer tables right
[23:21:17] <Xgc> Bushmaster: You misunderstand.  My suggest is the way FKs work.  You keep thinking backwards.
[23:21:22] <Xgc> My suggestion
[23:21:34] <Bushmaster> I know 
[23:21:42] <Bushmaster> something really confused my brain 
[23:22:05] <Bushmaster> casecade on is going on sales table yes, where all the foreign keys reside 
[23:22:23] <Xgc> You CAN do it exactly as described.  The FK CASCADE defines how the FK row will behave when the parent table row is deleted.
[23:23:11] <Xgc> The parent doesn't have the FK.  The child (which refers to the parent) does.
[23:24:23] <Xgc> But when you delete the parent, the child now has a FK which doesn't exist.  The options are 1) "do nothing" which causes the delete to fail;  2) cascade which causes the child to be deleted, 3) SET NULL, which causes the child FK value to be set to NULL, etc.
[23:26:31] <Bushmaster> well so in my case, sales table which has all the fk for customers, products etc is actually child table, i did not realize that, i thought it is my parent table
[23:26:59] <Bushmaster> and all other tables that only has pk like customer table, products tables etc are parent tables
[23:27:00] <Xgc> Correct.
[23:27:09] <Xgc> Children refer to their parent.
[23:27:48] <Xgc> Parents must exist before children, generally.
[23:28:52] <Bushmaster> yeah but it can get confusing, anyway, so cascade on will be in sales table referencing all the primary keys of the parent tables 
[23:28:53] <Xgc> You can have orphan children, but the constraint still needs the parent table to exist, even if the FK value is NULL.
[23:29:41] <Xgc> Bushmaster: It can be very confusing.  Don't worry too much about who's a parent and who's a child, unless the above is easy to remember.
[23:30:27] <Xgc> Bushmaster: That's right.  The reference has the CASCADE behavior.
[23:32:31] <Bushmaster> it is getting clear, cascade on in sales table referencing primary key of all my parent tables means, if I delete a product, or customer these parent tables which only have pk, then what will happen is that child table called sales get updated, meaning it will remove the rows referencing exactly the rows I deleted from parent tables 
[23:33:07] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Quit: Leaving)
[23:33:17] <Xgc> Bushmaster: In some designs, you don't want data to be deleted.  You might want to keep all sales, even if the corresponding product is out of production.  We don't delete the product.  We just mark it in some way (inactive)... or mark a customer as (inactive)... so all the historical sales are kept.
[23:33:57] <Bushmaster> so what you suggesting is do not bring that cascade at all right
[23:34:32] <Xgc> Bushmaster: Depends on your requirement.  I'm just mentioning some common implementations.
[23:35:45] <Xgc> Bushmaster: Maybe you do want to delete and cascade.  You can still have that behavior, but still SET inactive = 1 instead of deleting, if you don't really want to delete the customer or related sales.
[23:36:45] <Bushmaster> good good, let me create these tables, while I do so, I am gonna write you something private, is that okay?
[23:36:51] <Xgc> Think of deleting in a system with lots of important historical data, as rare and causing all related data to be lost.
[23:38:29] <Bushmaster> let me create these tables first 
[23:38:58] <Xgc> Bushmaster: As you continue to learn, have a look at some common SQL I've written.  I can't post the most complex stuff because it's job related and under NDA.  But here's something I've published (answer to a question): https://stackoverflow.com/questions/70311968/find-highest-ranked-pieces-of-intersecting-rows-in-sql/70321139#70321139
[23:39:51] <Bushmaster> let me check 
[23:40:54] <Xgc> Not really design related.  But something simple to give you an idea of what can be done in SQL.
[23:42:23] <Bushmaster> you sure its the right link? All i see is solid dashed as if all are censored and did not understand anything 
[23:42:32] *** Quits: pulseaudio (~pulseaudi@223.223.137.136) (Ping timeout: 250 seconds)
[23:44:41] <Xgc> Bushmaster: Do you not have access to stackoverflow?  Maybe your filter is set to "top secret".  That's new and funny, but not useful.
[23:45:56] <Xgc> Maybe you need to login.  Not sure.  SO is usually entirely open to viewing.
[23:46:09] <Bushmaster> well I have been to stackoveflow yes but never seen anything censored like your link
[23:46:48] <Bushmaster> the link you provided, the title is Find highest-ranked pieces of intersecting rows in SQL
[23:47:44] *** Joins: AmR (~AmREiSa@156.207.152.245)
[23:47:49] <Xgc> Bushmaster: Right. Do you see the new filter crap at the bottom?  Select the left-most filter.
[23:48:30] <Xgc> "Filters for stackoverflow"
[23:49:08] <Bushmaster> its all censored, not just your link all over stackover flow, i will resolve this later, let me do these tables 
[23:49:43] <Xgc> No problem.  That's probably the new filtering.  If you don't know how to disable it, it's entirely annoying.
[23:50:44] <Xgc> At the bottom, there's a filter area.  The left-most filter is a circle with a slash through it.  Pick that one, when you have time.
[23:51:44] <Xgc> If you've already hidden the filters, there's a tab on the lower right of the page to access the filters.
[23:53:16] <Xgc> I believe that was deployed in the last couple of days, without notice.
[23:59:47] *** Joins: rgrinberg (~textual@177.248.156.216)
