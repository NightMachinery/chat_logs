[00:02:24] *** Quits: Torr_ (~Torr@user/torr) (Quit: leaving)
[00:20:45] *** mnrmnaugh is now known as KeziahMason
[00:34:14] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[00:41:24] *** Joins: Torr (~Torr@user/torr)
[00:44:20] *** KeziahMason is now known as mnrmnaugh
[00:46:06] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[00:46:59] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[00:51:31] *** Quits: __jmcantrell__ (~weechat@user/jmcantrell) (Ping timeout: 268 seconds)
[01:09:14] *** Quits: Vultyre (~vultyre@user/vultyre) (Ping timeout: 256 seconds)
[01:09:21] *** Quits: brennen (~brennen@user/brennen) (Ping timeout: 276 seconds)
[01:17:25] *** Joins: Vultyre_ (~vultyre@user/vultyre)
[01:17:49] *** Joins: brennen (~brennen@user/brennen)
[01:18:45] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[01:18:52] *** Vultyre_ is now known as Vultyre
[01:21:45] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 248 seconds)
[01:26:09] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[01:29:26] *** Quits: __jmcantrell__ (~weechat@user/jmcantrell) (Ping timeout: 252 seconds)
[01:39:18] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Quit: WeeChat 3.2)
[01:51:15] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[01:56:38] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[01:56:39] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Killed (copper.libera.chat (Nickname regained by services)))
[01:56:39] *** __jmcantrell__ is now known as jmcantrell
[01:58:46] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[01:59:05] *** Joins: roarde (~roarde@user/roarde)
[02:00:19] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[02:01:45] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 248 seconds)
[02:06:31] *** __jmcantrell__ is now known as jmcantrell
[02:10:57] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 245 seconds)
[02:13:08] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[02:23:24] *** Quits: Torr (~Torr@user/torr) (Ping timeout: 268 seconds)
[02:24:01] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Quit: WeeChat 3.2)
[02:46:15] *** Joins: jmcantrell (~jmcantrel@user/jmcantrell)
[02:46:51] <jmcantrell> can someone help me understand this syntax? `!a[$0]++`
[02:52:31] <yitz> jmcantrell: Which part?
[02:52:52] <yitz> That increments the a[] dict with key $0
[02:52:59] <jmcantrell> i don't know where to begin other than page one of the manual
[02:53:26] <jmcantrell> and `!`?
[02:53:27] <yitz> First time it is seen, it is 0 and !0 == 1
[02:53:43] <yitz> After that, it's >0   and ! >0 == 0
[02:53:57] <yitz> So it is true the first time $0 is seen
[02:54:07] <jmcantrell> what would the output be?
[02:54:29] <yitz> It's a `uniq` implementation
[02:54:50] <yitz> The default action is {print $0}
[02:55:01] <jmcantrell> yeah, i know. i'm just trying to understand why it works
[02:55:07] <yitz> So it prints each uniq line the first time it is seen
[02:55:41] <yitz> a[$0]++   is 0 then 1 then 2   each time a given line is seen
[02:56:07] <yitz> !0 == 1;  !1 == 0;  !2 == 0;  So it is true the first time only
[02:56:09] <jmcantrell> ah ok
[03:06:51] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.2-dev)
[03:12:46] <nmz> !a[$0]++ -> if array[currentline] is not set then a[currentline] = a[currentline] + 1 end  
[03:12:54] <Nintendo> If your system has gawk, see info '(gawk)Array Intro' for some good, err, info.
[03:13:17] <nmz> because the default action is print, it will print when array[$0] is set
[03:13:53] <nmz> awk's smaht
[03:16:07] <nmz> literate programming
[03:18:08] <nmz> if the array containing the current line does not exist then print the current line and set an array containing the current line and increment it
[03:18:13] <nmz> that would be literate no?
[03:19:21] * Nintendo programs to get away from bullshit like that.
[03:20:02] <Nintendo> I also take breaks from programming to get back to bullshit like that.
[03:20:55] <Nintendo> But yeah, awk rawks... I think jmcantrell might be afk, though.
[03:27:54] <jmcantrell> thanks :)
[03:49:02] *** Joins: harleypig5 (thelounge@harleypig.com)
[03:50:47] *** Quits: harleypig (thelounge@harleypig.com) (Quit: Ping timeout (120 seconds))
[03:50:47] *** harleypig5 is now known as harleypig
[04:00:52] *** Joins: seninha (~seninha@user/seninha)
[05:26:56] *** Joins: mnrmnaughmnrgle (~mnrmnaugh@68.162.206.56)
[05:29:45] *** Quits: mnrmnaugh (~mnrmnaugh@68.162.206.56) (Ping timeout: 248 seconds)
[05:30:35] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:34:47] *** Joins: vlm (~vlm@user/vlm)
[05:40:20] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[06:38:42] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 268 seconds)
[07:09:15] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[07:37:55] *** mnrmnaughmnrgle is now known as mnrmnaugh
[08:53:25] *** mnrmnaugh is now known as KeziahMason
[09:13:15] *** Quits: roarde (~roarde@user/roarde) (Quit: Leaving)
[09:31:34] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Quit: WeeChat 3.2)
[09:32:23] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[11:15:09] *** Joins: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net)
[12:03:34] *** Joins: lavaball (felix@31.204.155.215)
[12:37:15] *** Joins: earnestly (~earnest@user/earnestly)
[13:01:48] *** Joins: loganlee (~Thunderbi@user/loganlee)
[13:01:56] <loganlee> hi guys what is wrong with my printf? https://termbin.com/xd3j
[13:05:46] <geirha> missing commas
[13:05:58] <geirha> printf formatstring, arg1, arg2, ...
[13:07:15] <geirha> in awk's syntax   "foo" "bar"  is just string concatenation; becomes "foobar"
[13:11:40] *** Joins: lgc (~lgc@user/lgc)
[13:14:11] <loganlee> thx geirha!
[13:34:27] *** Joins: besnn (~besnn@user/besnn)
[14:07:17] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[15:18:21] *** Joins: loganlee (~Thunderbi@user/loganlee)
[15:18:29] <loganlee> hi guys how to get like array[@]?
[15:18:35] <loganlee> like in bash
[15:18:46] <loganlee> print array{@]
[15:18:54] <loganlee> print array[@]
[15:29:52] <loganlee> guys i'm trying to write a script that tests if an ip address is within a range. can you see if my logic is wrong? https://paste.ubuntu.com/p/cpKXFZZqwh/
[15:34:33] *** Quits: besnn (~besnn@user/besnn) (Ping timeout: 248 seconds)
[15:46:21] *** Joins: besnn (~besnn@user/besnn)
[15:54:02] <yeti> wouldnt converting the IPs to hex make comparing easier?
[15:59:09] <loganlee> the logic is wrong btw
[16:00:20] <loganlee> it won't match if i give 100.10.5.100
[16:07:35] <loganlee> ok i'll try again tomorrow
[16:07:39] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[16:28:08] * yeti . o O ( ping 0x7f000001 )
[17:05:16] <Patsie> some bash, but IP/range logic in gawk -> http://ix.io/3vZ9
[17:06:05] <Patsie> and yeah, like yeti says, converting IP's to single values (be it hex or decimal) is the way to go
[17:08:26] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[17:11:19] <yeti> # mawk 'BEGIN { printf"%x %x %x\n",2^30,2^31,2^32 }'
[17:11:20] <shbot> yeti: 40000000 80000000 ffffffff
[17:11:47] <yeti> hmmm ... I get      40000000 7fffffff 7fffffff    @home
[17:12:22] <yeti> # nawk 'BEGIN { printf"%x %x %x\n",2^30,2^31,2^32 }'
[17:12:24] <shbot> yeti: 40000000 80000000 100000000
[17:12:38] <yeti> I'm shocked!
[17:13:24] <Patsie> yeti: same here, mawk 1.3.3
[17:13:39] <Patsie> # mawk -W version
[17:13:43] <shbot> Patsie: mawk 1.3.4 20200120
[17:13:43] <shbot> Patsie: Copyright 2008-2019,2020, Thomas E. Dickey
[17:13:43] <shbot> Patsie: etc... ( http://ix.io/2SRR )
[17:13:51] <Patsie> so seems to be fixed in 1.3.4
[17:14:55] <yeti> that was why I thought of comparing hex numbers as strings
[17:15:33] <Patsie> seems like mawk 1.3.3 uses 32 bit numbers internally to calculate
[17:15:43] <Patsie> 32bit signed
[17:15:55] <yeti> # mawk 'BEGIN { printf"%x %x %x\n",2^30,2^31,2^32 }'
[17:15:56] <shbot> yeti: 40000000 80000000 ffffffff
[17:16:06] <yeti> the  ffffffff  still is wrong
[17:16:31] <Patsie> yeah
[17:17:51] <yeti> how can we run fission and in some years fusion power plants if we cant even have correct small programs like awk?
[17:18:25] <yeti> I'm losing confidence in everything humans create
[17:19:09] <Patsie> :)
[17:20:56] *** Quits: Nintendo (~smb3@user/great) (Read error: Connection reset by peer)
[17:21:43] <yeti> well... fusion always is 30 years away... I'll probably be 6 feet under by then
[17:44:05] *** Quits: besnn (~besnn@user/besnn) (Ping timeout: 268 seconds)
[17:49:26] *** Joins: lavaball (felix@31.204.155.215)
[18:20:24] *** Joins: heiner (~heiner@2a00:6020:b006:a900:d250:99ff:fe34:8fd2)
[18:26:41] <heiner> Is there a way to use UTF-8 strings as an index into an associative array (with GAWK)?
[18:27:16] <Riviera> You say it does not simply work?
[18:27:36] <heiner> It didn't work for me
[18:27:40] <Riviera> Example?
[18:29:09] *** Joins: besnn (~besnn@user/besnn)
[18:29:47] <Riviera> # export LC_ALL=de_DE.utf8; echo 'HÃ¼ne' | gawk '{ a[$1] = "hoo" } END { for (b in a) print b }'
[18:29:48] <shbot> Riviera: HÃ¼ne
[18:30:11] <Riviera> I set the locale, because otherwise it's POSIX and not caring for the encoding anyway.
[18:32:03] *** Quits: besnn (~besnn@user/besnn) (Read error: Connection reset by peer)
[18:40:34] <heiner> mmhh, seems to work for me, too. Perhaps my "LANG" variable was not set correctly, I try to use ISO 8859.15, but Linux insists on UTF-8
[18:54:17] *** Joins: aead (~aead@pool-96-232-187-142.nycmny.fios.verizon.net)
[18:55:00] *** Quits: aeadio (~aead@ec2-52-2-178-231.compute-1.amazonaws.com) (Ping timeout: 268 seconds)
[19:20:43] *** Joins: besnn (~besnn@user/besnn)
[20:02:44] *** Quits: besnn (~besnn@user/besnn) (Read error: Connection reset by peer)
[20:44:37] <nmz> heiner: use goawk for utf8 support
[20:45:08] <nmz> https://github.com/benhoyt/goawk
[21:21:06] <Patsie> why? what's wrong with regular gawk?
[21:44:38] * nmz points up
[21:47:52] *** Joins: besnn (~besnn@user/besnn)
[21:51:12] *** Quits: besnn (~besnn@user/besnn) (Read error: Connection reset by peer)
[22:14:41] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Quit: WeeChat 3.2)
[22:18:04] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[23:18:57] *** Joins: besnn (~besnn@user/besnn)
[23:25:08] *** Quits: ljharb (sid43720@user/ljharb) (Ping timeout: 252 seconds)
[23:25:08] *** Quits: odc (sid197788@id-197788.brockwell.irccloud.com) (Ping timeout: 252 seconds)
[23:27:42] *** Joins: odc (sid197788@brockwell.irccloud.com)
[23:30:56] *** Quits: acidsys (~LSD@2.lsd.systems) (Excess Flood)
[23:31:31] *** Joins: LSD (~LSD@2.lsd.systems)
[23:31:57] *** LSD is now known as acidsys
[23:55:53] *** Quits: besnn (~besnn@user/besnn) (Ping timeout: 248 seconds)
[23:58:52] *** Joins: gruuf (~gruuf@94.31.99.29)
