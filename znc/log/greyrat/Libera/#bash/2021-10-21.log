[00:02:04] <ToastMasterSupre> https://termbin.com/6v1ka
[00:02:08] <ToastMasterSupre> gonna reboot and come back
[00:02:11] *** Quits: ToastMasterSupre (~ToastMast@70.126.240.148) (Client Quit)
[00:07:41] *** Joins: infidel (~ecrump@67-0-193-53.albq.qwest.net)
[00:08:05] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[00:10:25] *** Joins: Betal (~Betal@user/betal)
[00:14:03] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[00:14:50] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[00:18:19] *** Joins: snoring_cat (~snore@047-040-175-178.res.spectrum.com)
[00:19:06] *** Quits: kurahaupo (~kurahaupo@pa49-179-226-170.pa.nsw.optusnet.com.au) (Ping timeout: 260 seconds)
[00:21:00] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[00:22:32] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[00:24:03] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[00:24:26] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[00:24:38] *** Quits: Phil (~phil@181.42.43.180) (Quit: Leaving)
[00:25:40] *** Quits: mithrin (~mithrin@stip-static-62.213-81-207.telecom.sk) (Read error: Connection reset by peer)
[00:26:01] *** Joins: mithrin (~mithrin@stip-static-62.213-81-207.telecom.sk)
[00:28:23] *** Joins: DeaDSouL_ (uid134377@id-134377.ilkley.irccloud.com)
[00:30:20] *** Joins: jkwnki (~jkwnki@p2e5793bc.dip0.t-ipconnect.de)
[00:32:33] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[00:34:02] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[00:37:03] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[00:37:47] *** Joins: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[00:39:48] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[00:41:02] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[00:42:18] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[00:42:32] *** Joins: Crescendo (~Crescendo@user/crescendo)
[00:47:52] *** Joins: rgrinberg (~textual@ip152-195-159-186.ct.co.cr)
[00:48:00] *** Quits: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[00:48:33] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[00:49:13] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[00:49:20] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[00:58:47] *** Quits: solarized (~solarized@94-37-196-228.adsl-ull.clienti.tiscali.it) (Quit: solarized)
[00:59:11] *** Quits: smlavine (~smlavine@sourcehut/user/smlavine) (Ping timeout: 264 seconds)
[01:00:18] *** Quits: YaoNai (~YaoNai@user/yaonai) (Quit: leaving)
[01:02:03] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[01:02:28] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[01:02:34] *** Quits: wnbeser (~wnbeser@91-154-216-7.elisa-laajakaista.fi) (Quit: Leaving)
[01:03:06] *** Quits: kyr (~kyr@167.71.50.12) (Remote host closed the connection)
[01:03:25] *** Joins: kyr (~kyr@167.71.50.12)
[01:07:23] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[01:08:25] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 260 seconds)
[01:10:00] *** Joins: Gerula (~Gerula@user/gerula)
[01:13:16] *** Quits: semeion (~semeion@user/semeion) (Quit: WeeChat 3.3)
[01:15:42] *** Joins: CountryNerd_ (~textual@50.105.113.219)
[01:20:53] *** Joins: solarized (~solarized@94-37-168-176.adsl-ull.clienti.tiscali.it)
[01:21:52] *** Joins: armands (~armands@46.109.8.165)
[01:28:23] *** Quits: snoring_cat (~snore@047-040-175-178.res.spectrum.com) (Quit: Leaving)
[01:28:31] *** Quits: BSaboia (~bsaboia@187.19.138.198) (Quit: This computer has gone to sleep)
[01:29:41] *** Joins: zebrag (~chris@user/zebrag)
[01:30:03] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[01:30:09] *** Quits: rgrinberg (~textual@ip152-195-159-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:30:20] <wwalker> foo: sorry so late.  I use vimdiff all the time.  compare files, writing corrections if appropriate.  and constantly use it to review changes in git repos, and to resolve merge/rebase/cherry-pick conflicts.
[01:31:02] *** Joins: kj (~kj@kj.aerisnetwork.net)
[01:33:19] *** Joins: redgloboli (~redglobol@user/redgloboli)
[01:33:34] *** Quits: CountryNerd_ (~textual@50.105.113.219) (Quit: Textual IRC Client: www.textualapp.com)
[01:33:54] *** Joins: CountryNerd (~CountryNe@184.53.0.103)
[01:34:45] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 258 seconds)
[01:35:34] *** Joins: seninha (~seninha@user/seninha)
[01:36:20] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[01:37:28] *** Joins: prifici (~patri@user/prifici)
[01:41:50] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[01:42:07] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[01:42:51] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[01:43:17] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[01:44:02] *** Quits: CountryNerd (~CountryNe@184.53.0.103) (Quit: Textual IRC Client: www.textualapp.com)
[01:44:33] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[01:46:44] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[01:50:56] *** Quits: redgloboli (~redglobol@user/redgloboli) (Quit: ...enter the matrix...)
[01:51:12] *** Joins: redgloboli (~redglobol@user/redgloboli)
[01:54:38] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[01:55:48] *** Joins: BSaboia (~bsaboia@187.19.138.198)
[01:56:28] *** Quits: off^ (~off@68.101.53.15) (Remote host closed the connection)
[01:56:56] *** Quits: af (~af@awalgarg.me) (Quit: WeeChat 3.2.1)
[01:57:12] *** Quits: Hash (~weechat@protect.yourself.with.hashsecurity.org) (Quit: WeeChat 3.3)
[01:57:52] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[01:59:21] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[02:00:06] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[02:01:03] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[02:01:35] *** Quits: xizhendu__ (~xizhendu@115.171.233.239) (Ping timeout: 264 seconds)
[02:02:12] *** Joins: totenkoph (~scythe@user/totenkoph)
[02:03:40] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Quit: The Lounge - https://thelounge.chat)
[02:05:18] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[02:05:53] *** Quits: randm (~randm@user/randm) (Quit: Leaving.)
[02:06:33] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[02:07:53] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[02:08:13] *** Joins: travaldo (~travaldo@159.203.88.148)
[02:10:21] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[02:10:52] *** Joins: Hash (~weechat@protect.yourself.with.hashsecurity.org)
[02:13:19] *** Quits: sgen (~sgen@2607:fea8:7ce1:c8e0:d8a9:28d8:19ca:f9b9) (Remote host closed the connection)
[02:17:09] *** Quits: dayday (uid520582@hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[02:18:22] *** Joins: _Ev (~ev@user/ev/x-8999918)
[02:20:26] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 260 seconds)
[02:21:04] *** Joins: Crescendo (~Crescendo@user/crescendo)
[02:23:33] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[02:24:18] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[02:25:12] *** Quits: nyex (~Thunderbi@177.84.107.41) (Quit: nyex)
[02:26:37] *** Quits: twb (~twb@159-196-230-25.9fc4e6.mel.nbn.aussiebb.net) (Remote host closed the connection)
[02:26:50] *** Joins: xx (~xx@user/xx)
[02:27:22] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[02:28:58] *** Joins: randm (~randm@user/randm)
[02:30:55] *** Joins: quazimodo (~quazimodo@n1-40-235-47.bla1.nsw.optusnet.com.au)
[02:31:28] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[02:33:00] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Ping timeout: 260 seconds)
[02:33:14] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[02:34:02] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[02:34:48] <kurahaupo> toastmastersupre: I prefer to use xrandr so that I can avoid using a GUI.
[02:34:56] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 258 seconds)
[02:35:33] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[02:35:53] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[02:37:09] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[02:37:47] *** Quits: DeaDSouL_ (uid134377@id-134377.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[02:39:49] *** Quits: brelod (~me@90.244.150.142) (Quit: leaving)
[02:40:30] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[02:40:39] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[02:40:52] *** Joins: sgn (~sgn@user/sgn)
[02:43:30] *** Quits: listen_ers (~user@c-98-240-233-64.hsd1.mn.comcast.net) (Ping timeout: 260 seconds)
[02:46:40] <llua> did bash create ${var:offset:length} or copied from ksh93?
[02:47:33] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[02:50:24] <jcbjoe2021> kurahaupo: how do you use xrandr without a GUI from the terminal? Won’t you get a can’t display X or something?
[02:51:04] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[02:51:15] <emanuele6> i think ${var:offset:length} predates bash2 so i am not sure
[02:52:14] <emanuele6> i say that because http://tiswww.case.edu/php/chet/bash/CHANGES found a bugfix to ${var:offset:length} mentioned in the change log from bash-2.0-beta3 to bash-2.0-release
[02:52:29] <emanuele6> s/found/i found/
[02:54:26] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[02:54:26] <llua> https://wiki.bash-hackers.org/scripting/bashchanges mentions it being added in 2.0; but finding a changelog for ksh93 is hard
[02:54:36] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[02:54:47] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[02:55:23] <llua> harder*
[02:59:38] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[03:01:31] *** Joins: earendel (uid498179@user/earendel)
[03:01:44] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[03:03:40] *** Quits: k-man (~jason@user/k-man) (Ping timeout: 252 seconds)
[03:04:17] *** Joins: seninha (~seninha@user/seninha)
[03:04:48] *** Joins: k-man (~jason@user/k-man)
[03:04:52] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.3)
[03:05:04] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[03:06:42] <emanuele6> llua: i found something
[03:06:44] <emanuele6> > Things bash has or uses that ksh88 does not:
[03:06:50] <emanuele6> > the ${param:offset[:length]} parameter substring operator
[03:07:20] <emanuele6> http://kornshell.com/resources
[03:07:29] <emanuele6> in this file: ftp://ftp.cwru.edu/pub/bash/FAQ
[03:08:08] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[03:11:33] <llua> yeah, i was aware of that, just unsure if ksh93 had created it or bash.
[03:11:34] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[03:12:11] <llua> well, aware that ksh88 didn't have it, not those links
[03:12:31] *** Quits: travaldo (~travaldo@159.203.88.148) (Quit: travaldo)
[03:14:03] <llua> its trash anyway and bash should copy ksh93's .. or zsh , operators to specify a range in a subscript
[03:15:02] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:15:39] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:15:51] <llua> k# ary=(foo bar baz); print "${ary[1..2]#ba}"
[03:15:52] <shbot> llua: r z
[03:18:30] <llua> i just feel like something as janky as it is comes from bash
[03:19:57] *** Joins: af (~af@awalgarg.me)
[03:19:58] <emanuele6> # ary=(foo bar baz); (tmp=( "${ary:1:2}" ); printf '%s\n' "${tmp[*]#ba}")
[03:20:00] <shbot> emanuele6: oo
[03:20:02] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:12] <emanuele6> oh, oops
[03:20:17] <emanuele6> # ary=(foo bar baz); (tmp=( "${ary[@]:1:2}" ); printf '%s\n' "${tmp[*]#ba}")
[03:20:19] <shbot> emanuele6: r z
[03:20:34] <emanuele6> yes, that korn shell syntax would be much better
[03:20:34] <llua> jank
[03:20:39] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:21:19] <emanuele6> k# ary=(foo bar baz); (tmp=( "${ary[@]:1:2}" ); printf '%s\n' "${tmp[*]#ba}")
[03:21:21] <shbot> emanuele6: r z
[03:21:44] *** Joins: unixman_home (~unixman2@52-105-35-72.mtaonline.net)
[03:22:05] *** Joins: travaldo (~travaldo@159.203.88.148)
[03:22:45] <llua> bash being the lowest common denominator for that. thankfully i don't script with it.
[03:22:46] <emanuele6> but since ${arr[...]} is a math context, that could would not work
[03:23:34] <emanuele6> is ${arr[...]} a math context in ksh?
[03:23:41] <llua> yeah
[03:24:10] <emanuele6> i guess it just has special parsing rules for [,]
[03:24:10] *** Joins: rgrinberg (~textual@201.182.226.118)
[03:24:23] <emanuele6> like it has for: for((
[03:24:52] <llua> k# ary=(foo bar baz); print "${ary[1..1+1]#ba}"
[03:24:54] <shbot> llua: r z
[03:25:03] *** Joins: pylong_ (bluehoney@gateway/vpn/protonvpn/bluehoney)
[03:25:06] *** Quits: mat001_ (~mat001@213.143.69.121) (Ping timeout: 245 seconds)
[03:25:17] <emanuele6> oh, it's `..', not `,'
[03:26:00] <emanuele6> k# ary=(foo bar baz); print "${ary[0,2]#ba}"
[03:26:02] <shbot> emanuele6: z
[03:26:18] <emanuele6> maybe `,' is zsh?
[03:26:41] *** Quits: superboot (~agentgasm@user/superboot) (Quit: leaving)
[03:27:38] *** Quits: bluehoney (~bluehoney@cpe-75-81-204-188.mi.res.rr.com) (Ping timeout: 260 seconds)
[03:27:41] <emanuele6> yes, `,' is zsh, but "${ary[0,2]#ba}" doesn't work in zsh
[03:28:07] *** Parts: _Ev (~ev@user/ev/x-8999918) ()
[03:28:21] <emanuele6> oh, it works, but it only trims the first ary[0]
[03:28:57] <emanuele6> then, since it is `..' and not `,' bash could implement it
[03:28:59] <emanuele6> it would be nice
[03:30:29] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[03:30:32] *** Joins: mat001 (~mat001@213.143.69.121)
[03:31:31] *** Quits: comrumino (~comrumino@li87-103.members.linode.com) (Quit: byeee)
[03:31:46] *** Joins: comrumino (~comrumino@li87-103.members.linode.com)
[03:34:50] *** Quits: jkwnki (~jkwnki@p2e5793bc.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[03:35:39] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[03:36:28] *** Joins: Atque (~Atque@user/atque)
[03:37:08] *** Joins: machabot (~machabot@zsh/bot/machabot)
[03:37:22] <llua> > ary=(foo bar bar); print ${ary[2,3]#ba}
[03:37:31] <llua> % ary=(foo bar bar); print ${ary[2,3]#ba}
[03:37:35] <machabot> llua: r r
[03:37:54] <emanuele6> ah, unquoted
[03:38:09] <llua> % ary=(foo bar bar); print "${(@)ary[2,3]#ba}"
[03:38:12] <machabot> llua: r r
[03:38:21] <emanuele6> i am guessing quoted is similar to [*] then
[03:38:33] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[03:39:07] *** Joins: prifici_ (~patri@user/prifici)
[03:39:25] <emanuele6> hmm, interesting syntax
[03:41:48] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Read error: Connection reset by peer)
[03:43:00] *** Quits: prifici (~patri@user/prifici) (Ping timeout: 260 seconds)
[03:45:24] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[03:46:30] *** Parts: machabot (~machabot@zsh/bot/machabot) (sic - 250 LOC are too much!)
[03:47:26] *** Quits: lum (~lum@user/res0) (Quit: leaving)
[03:48:15] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 260 seconds)
[03:49:05] *** Joins: chasmo77 (~chas77@71.63.241.168)
[03:50:08] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[03:50:12] *** Joins: off^ (~off@wsip-68-227-92-38.mc.at.cox.net)
[03:51:31] *** Joins: Crescendo (~Crescendo@user/crescendo)
[03:57:16] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:9815:b867:1c3c:f13d) (Quit: Leaving)
[03:58:08] *** Joins: semeion (~semeion@user/semeion)
[03:58:20] *** Joins: rcernin (~rcernin@124.190.139.235)
[03:58:32] *** Joins: prifici (~patri@user/prifici)
[04:01:13] *** Joins: xizhendu__ (~xizhendu@240e:404:8610:62b2:dadc::30c0)
[04:01:42] *** Quits: prifici_ (~patri@user/prifici) (Ping timeout: 260 seconds)
[04:02:09] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[04:02:25] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[04:02:41] *** Quits: zeraphel (~daddy@2a00:a040:196:56d:96de:80ff:fefa:44a) (Quit: zeraphel)
[04:07:30] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 260 seconds)
[04:14:18] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 260 seconds)
[04:17:58] *** Quits: grondilu (~grondilu@91-164-198-91.subs.proxad.net) (Ping timeout: 252 seconds)
[04:18:00] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[04:18:23] *** Quits: mat001 (~mat001@213.143.69.121) (Remote host closed the connection)
[04:18:35] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[04:25:29] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[04:26:29] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[04:27:04] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[04:28:10] *** Joins: malina (~malina@user/malina)
[04:28:26] *** Quits: The_Jag_ (~The_Jag@host-87-21-77-193.retail.telecomitalia.it) (Read error: Connection reset by peer)
[04:29:22] *** Joins: wuseman (~wuseman@81-234-120-192-no68.tbcn.telia.com)
[04:29:22] *** Quits: wuseman (~wuseman@81-234-120-192-no68.tbcn.telia.com) (Changing host)
[04:29:22] *** Joins: wuseman (~wuseman@user/wuseman)
[04:29:35] *** Joins: The_Jag (~The_Jag@host-87-21-77-193.retail.telecomitalia.it)
[04:29:44] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 246 seconds)
[04:30:32] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:31:08] *** Quits: The_Jag (~The_Jag@host-87-21-77-193.retail.telecomitalia.it) (Read error: Connection reset by peer)
[04:31:25] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[04:31:55] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[04:31:58] *** Joins: The_Jag (~The_Jag@host-87-21-77-193.retail.telecomitalia.it)
[04:34:42] *** Joins: vlm (~vlm@user/vlm)
[04:35:07] *** Joins: deltab (~deltab@user/deltab)
[04:35:30] *** Quits: carlos (~pum@user/carlos) (Ping timeout: 260 seconds)
[04:36:40] *** Quits: earendel (uid498179@user/earendel) (Ping timeout: 260 seconds)
[04:37:50] *** Quits: Memory (sid459764@user/memory) (Ping timeout: 260 seconds)
[04:39:16] *** Quits: liam (sid7517@helmsley.irccloud.com) (Ping timeout: 245 seconds)
[04:39:25] *** Quits: termos (sid18647@helmsley.irccloud.com) (Ping timeout: 252 seconds)
[04:41:56] *** Joins: termos (sid18647@helmsley.irccloud.com)
[04:42:03] *** Joins: liam (sid7517@helmsley.irccloud.com)
[04:42:04] *** Joins: Memory (sid459764@user/memory)
[04:42:04] *** Joins: earendel (uid498179@user/earendel)
[04:43:44] *** Joins: oarion7 (ryan@user/oarion7)
[04:46:12] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[04:46:48] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 258 seconds)
[04:46:57] *** Joins: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com)
[04:46:57] *** Quits: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com) (Changing host)
[04:46:57] *** Joins: wuseman (wuseman@user/wuseman)
[04:47:09] *** Joins: ferdna (~ferdna@user/ferdna)
[04:49:22] *** Quits: oarion7 (ryan@user/oarion7) (Quit: Running IRC on a charmed medieval abacus.)
[04:49:40] *** Joins: oarion7 (anonymous@user/oarion7)
[04:50:17] *** Quits: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053) (Quit: WeeChat 3.3)
[04:51:15] *** Quits: xx (~xx@user/xx) (Ping timeout: 260 seconds)
[04:53:02] *** Quits: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net) (Ping timeout: 260 seconds)
[04:53:33] *** Quits: oarion7 (anonymous@user/oarion7) (Client Quit)
[04:53:56] *** Joins: oarion7 (anonymous@user/oarion7)
[04:58:50] *** Joins: _Ev (~ev@user/ev/x-8999918)
[04:59:32] *** Parts: _Ev (~ev@user/ev/x-8999918) ()
[05:00:02] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 260 seconds)
[05:01:34] *** Joins: _Ev (~ev@user/ev/x-8999918)
[05:01:42] *** Joins: brsvh (~brsvh@210006176090.ctinets.com)
[05:02:57] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[05:05:25] *** Quits: brsvh (~brsvh@210006176090.ctinets.com) (Remote host closed the connection)
[05:06:46] *** Quits: xizhendu__ (~xizhendu@240e:404:8610:62b2:dadc::30c0) (Ping timeout: 245 seconds)
[05:07:07] *** Joins: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053)
[05:09:20] *** Quits: n4dir (~user@mue-88-130-57-108.dsl.tropolys.de) (Ping timeout: 260 seconds)
[05:11:09] *** Joins: n4dir (~user@i59F77CE8.versanet.de)
[05:14:24] *** Joins: xizhendu__ (~xizhendu@240e:404:8610:62b2:dadc::30c0)
[05:14:50] *** Quits: xizhendu__ (~xizhendu@240e:404:8610:62b2:dadc::30c0) (Client Quit)
[05:15:09] *** Joins: jonthesnow (~xizhendu@240e:404:8610:62b2:dadc::30c0)
[05:19:12] *** Quits: oarion7 (anonymous@user/oarion7) (Quit: Running IRC on a charmed medieval abacus.)
[05:20:32] *** Quits: pylong_ (bluehoney@gateway/vpn/protonvpn/bluehoney) (Ping timeout: 258 seconds)
[05:20:49] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[05:22:17] *** Joins: totenkoph (~scythe@user/totenkoph)
[05:22:22] *** Quits: MercilessDeth (~brad@136.49.61.2) (Quit: Konversation terminated!)
[05:22:36] <_Ev> echo -n "1 one\n2 two, 3 three" > foo.txt;    test=2;    sed -i '$test,$d'     How do I make this work?     This works:  sed -i "$test"d foo.txt.  Hmm
[05:23:36] <emanuele6> '$test,$d' -> "$test"',$d'
[05:24:37] *** Quits: andre144k (~andre144k@ipservice-092-219-168-114.092.219.pools.vodafone-ip.de) (Quit: Textual IRC Client: www.textualapp.com)
[05:26:57] <e36freak> or just escape the $
[05:27:07] <e36freak> "$test,\$d"
[05:27:08] *** Joins: The_Jag_ (~The_Jag@host-82-55-23-104.retail.telecomitalia.it)
[05:27:17] <e36freak> need double quotes though
[05:28:07] <_Ev> Thank you emanuele6 and e36freak. Works perfectly.
[05:28:23] *** Joins: deltab (~deltab@user/deltab)
[05:29:38] <_Ev> Why do i need to escape the $d though? That is what I am doing per your advice, but what makes this string have to be deleted now?
[05:29:45] *** Quits: The_Jag (~The_Jag@host-87-21-77-193.retail.telecomitalia.it) (Ping timeout: 260 seconds)
[05:29:56] <_Ev> Whereas I could normally do  sed 4,$d
[05:30:06] <e36freak> because otherwise it's gonna try to expand a variable named "d" there?
[05:30:08] <e36freak> !quotes > _Ev
[05:30:08] <greybot> _Ev: https://mywiki.wooledge.org/Quotes
[05:30:50] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Ping timeout: 260 seconds)
[05:32:21] <_Ev> Ah right, of course.
[05:33:50] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 260 seconds)
[05:33:51] *** Quits: Administratorte (~sq@tempest.math.colostate.edu) (Quit: WeeChat 3.3)
[05:36:09] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[05:39:39] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[05:45:05] *** Joins: MercilessDeth (~brad@136.49.61.2)
[05:48:34] *** Parts: _Ev (~ev@user/ev/x-8999918) ()
[05:49:35] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[05:50:26] *** Joins: gordonfish- (~gordonfis@user/gordonfish)
[05:52:34] *** Quits: gordonfish (~gordonfis@user/gordonfish) (Ping timeout: 265 seconds)
[05:54:16] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 258 seconds)
[05:56:59] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[05:58:15] *** Quits: semeion (~semeion@user/semeion) (Quit: WeeChat 3.3)
[05:58:22] *** Quits: rundown (~eb0t@90.199.166.206) (Ping timeout: 265 seconds)
[06:00:11] *** Joins: rundown (~eb0t@90.199.165.149)
[06:00:18] *** Joins: deltab (~deltab@user/deltab)
[06:02:28] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[06:03:17] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.3)
[06:05:11] *** Quits: jos1 (~jos3@dyndsl-178-142-068-225.ewe-ip-backbone.de) (Ping timeout: 264 seconds)
[06:05:22] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 260 seconds)
[06:07:11] *** Quits: karakedi (~eAC53C340@user/karakedi) (Remote host closed the connection)
[06:13:07] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[06:17:05] *** Quits: timj (~timj@user/timj) (Quit: Leaving.)
[06:17:59] *** Joins: loganlee (~Thunderbi@user/loganlee)
[06:18:04] *** Joins: jos1 (~jos3@dyndsl-091-248-052-212.ewe-ip-backbone.de)
[06:19:38] *** Joins: carlos (~pum@user/carlos)
[06:25:20] <foo> wwalker: thank you!
[06:28:55] <loganlee> # echo 10 1 2 9 | sort -n
[06:28:57] <shbot> loganlee: 10 1 2 9
[06:29:04] <loganlee> guys why sort no work?
[06:29:05] <e36freak> sort operates on lines
[06:29:11] <loganlee> oh
[06:31:00] *** Quits: JanC (~janc@user/janc) (Read error: Connection reset by peer)
[06:31:21] *** Joins: JanC (~janc@user/janc)
[06:31:48] *** Joins: jensen (~jensen@65.78.100.184)
[06:32:18] <emanuele6> you could use jq
[06:32:33] <emanuele6> # echo 10 1 2 9 | jq -rR 'split(" ")|map(tonumber)|join(" ")'
[06:32:35] <shbot> emanuele6: 10 1 2 9
[06:32:43] <emanuele6> forgot to actually sort
[06:32:47] <emanuele6> # echo 10 1 2 9 | jq -rR 'split(" ")|map(tonumber)|sort|join(" ")'
[06:32:49] <shbot> emanuele6: 1 2 9 10
[06:33:04] <emanuele6> by the way i am joking, don't actually use jq for this :)
[06:34:07] *** Quits: travaldo (~travaldo@159.203.88.148) (Quit: travaldo)
[06:34:08] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 258 seconds)
[06:34:15] <phy1729> !b6
[06:34:15] <greybot> When given a choice of solutions, the newbie will always choose the wrong one.
[06:36:00] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[06:36:37] <jensen> Does POSIX case matching work like bash where it is is based on shell pattern matching? I want to match from start of string. Should I use `grep` or is there a canonical POSIX builtin way for performance?
[06:36:41] *** Joins: remirol (~lorimer@user/lorimer)
[06:36:41] *** Quits: lorimer (~lorimer@user/lorimer) (Killed (NickServ (GHOST command used by remirol)))
[06:36:50] *** remirol is now known as lorimer
[06:37:54] <emanuele6> you can use: case $var in aa*) echo it starts with aa ;; *) echo it does not start with aa ; esac
[06:38:13] <emanuele6> to check if $var starts (or does not start) with aa in POSIX sh
[06:38:16] <loganlee> # echo 10 1 2 9 3 8 | tr ' ' '\n' | sort -rn
[06:38:23] <shbot> loganlee: 10
[06:38:23] <shbot> loganlee: 9
[06:38:23] <shbot> loganlee: etc... ( http://ix.io/3Cmt )
[06:38:28] <loganlee> sorry guys
[06:38:46] <jensen> ty, I will check it out
[06:38:55] <emanuele6> loganlee: then use paste to rejoin it
[06:39:05] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[06:39:45] <loganlee> # echo 10 1 2 9 3 8 | tr ' ' '\n' | sort -rn | tr '\n' ' '
[06:39:47] <shbot> loganlee: 10 9 8 3 2 1
[06:39:52] <emanuele6> or tr
[06:39:54] *** Quits: greknod28 (~grek@120.88.171.98) (Ping timeout: 260 seconds)
[06:40:01] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Client Quit)
[06:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[06:41:22] <jensen> What do you recommend for: [ "$1" =~ ^https?://(reddit.com|google.com)/* ]       ?
[06:41:31] <emanuele6> but i think tr removes the final newline
[06:41:44] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[06:41:57] <emanuele6> jensen: =~ is not a valid operator for [
[06:42:22] <jensen> Yea I should've mentioned that. I need to convert to POSIX
[06:42:28] <jensen> Or want
[06:42:34] <emanuele6> also /* would match one or more / an is useless to put in a regular expression at the end
[06:42:44] <emanuele6> jensen: that is not even valid bash
[06:42:52] <jensen> I mean with [[
[06:42:58] <emanuele6> ah, ok
[06:43:53] *** Joins: deltab (~deltab@user/deltab)
[06:44:12] <e36freak> POSIX has no regex or extended globs. you'll have to use multiple globs
[06:44:16] <e36freak> in a case statement
[06:44:43] <emanuele6> well, that regex can be written as three globs
[06:44:50] *** Quits: dza (~dza@user/dza) (Read error: Connection reset by peer)
[06:44:53] <e36freak> i count 4
[06:45:11] <e36freak> case $1 in http://reddit.com/*|https://reddit.com/*|http://google.com/*|https://google.com/*) ...
[06:45:11] <emanuele6> i meant 4, i don't know why i wrote three :p
[06:45:12] *** Joins: madkne (~madkne@5.232.247.167)
[06:45:38] <emanuele6> jensen: by the way i think your regex did not do what you intended it to do
[06:45:48] <e36freak> yeah you'd want .* there
[06:45:48] <emanuele6> /* at the end of a regex is useless
[06:45:55] <emanuele6> you probably /.*
[06:46:02] <emanuele6> where .* is useless
[06:46:02] <e36freak> alternatively if you have a more complicated regex you'd have to get grep involved or something
[06:46:09] <emanuele6> so / without the *
[06:46:10] *** Quits: carlos (~pum@user/carlos) (Ping timeout: 260 seconds)
[06:46:12] <e36freak> which for a one-off isn't a big deal, but to do a bunch of times in a loop is not great
[06:46:55] <jensen> Is performance comparable between POSIX and bash alternatives if you had to guess? I don't have a requirement for it to be POSIX but the rest of the script is already POSIX compatible. Probably negligible but just curious
[06:46:55] <emanuele6> s/you probably/& wanted/
[06:47:38] <jensen> sh -> dash
[06:47:48] <e36freak> jensen: close enough, it depends much more on how well it's written than the interpreter itself
[06:48:04] <e36freak> if performance is really an issue though i recommend you use a proper programming language
[06:48:41] <emanuele6> but it sounds like they are hacking a premade script
[06:48:53] <e36freak> the most expensive thing you can do pretty much is forking though, if you're looking to get halfway decent performance in either sh or bash minimizing forks is by far the best thing you can do
[06:49:05] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 258 seconds)
[06:49:27] <e36freak> stick to the shell itself for string manipulations and similar operations, don't fork sed and such for all that. and if you do have to use an external program, do it once, not over and over
[06:49:39] <furrymcgee> why would you grep inside the loop?
[06:49:48] <e36freak> i've seen people do much worse
[06:49:56] <e36freak> generally because you don't know any better
[06:50:19] <e36freak> like let's loop over every file in a directory and call sed on each one, that kind of thing is pretty common
[06:50:37] *** Quits: SuperLag (~akulbe@user/superlag) (Ping timeout: 258 seconds)
[06:50:43] <e36freak> on the filename, not the contents, i mean
[06:50:59] *** Joins: SuperLag (~akulbe@user/superlag)
[06:54:13] <jensen> Does piping result in an extra fork over process substitution? In situations where both can be used, is process substitution always better? IIRC the scope of the piped command is different?
[06:54:26] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[06:54:36] <e36freak> process substitution is generally slower
[06:55:51] <emanuele6> in `cmd1 | cmd2', cmd1 and cmd2 are run into two different subshell
[06:56:02] <e36freak> eh, they're equivalent roughly here, just tested
[06:56:12] <emanuele6> in `cmd1 "$(cmd2)"', cmd1 is run on the main shell and cmd2 in a subshell
[06:56:47] <emanuele6> but "$(cmd2)" also trims trailing newlines so it needs to do extra work
[06:57:06] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[06:57:08] <e36freak> well also they're not run in parallel
[06:57:13] <emanuele6> and with POSIX sh, since it is not a real program, you can't know which one is more performant
[06:57:14] <e36freak> and they're also not equivalent
[06:57:28] <emanuele6> sure
[06:58:30] <furrymcgee> process substitution in posix?
[06:58:40] *** Quits: Mo (~Mo@dynamic-077-008-071-228.77.8.pool.telefonica.de) (Ping timeout: 258 seconds)
[06:58:47] <e36freak> does not exist
[06:59:01] <e36freak> you gotta use named pipes to get the same behavior
[07:01:19] <jensen> Is sourcing a script in another script the equivalent of bringing in its contents into that script and are there any performance implications?
[07:01:37] <e36freak> yes, and not anything significant that i know of
[07:01:53] <e36freak> you can always test pretty easily
[07:02:09] *** Joins: prifici_ (~patri@user/prifici)
[07:03:21] <jensen> I have a small sh-utils script that is only 150 lines but in the future I can easily see over 2000 lines. It contains common functions I should across all my scripts, but each script might only use a few functions/variables from that script. Should I just use sh-utils as reference and copy only the functions I need instead of sourcing the entire script?
[07:03:39] *** Quits: smlavine (~smlavine@sourcehut/user/smlavine) (Quit: nyaa~)
[07:04:14] <e36freak> i would
[07:04:15] <Blondie101010> jensen:  it's *certainly* faster than starting a sub shell
[07:04:59] <e36freak> i'm not a big fan of having to source a library for a script, i think it's much nicer to have it stand-alone, even putting the performance implications aside
[07:05:13] <Blondie101010> you source when necessary
[07:05:18] <jensen> Blondie101010: sourcing a script starts a subshell?
[07:05:19] <e36freak> sure
[07:05:23] <e36freak> jensen: no
[07:05:28] <Blondie101010> jensen:  the opposite
[07:05:39] <e36freak> i source config files and the like, but the script itself is generally one file
[07:05:45] <jensen> I can just split the sh-utils into smaller scripts if needed
[07:06:02] *** Quits: prifici (~patri@user/prifici) (Ping timeout: 260 seconds)
[07:06:07] <e36freak> bash also does not tend to lend itself to writing generic reusable functions for the most part
[07:06:13] <Blondie101010> jensen:  that seems like premature optimization
[07:06:41] <e36freak> pass by reference is a newish thing now but it's still fraught with peril, and it's much better and more efficient to tailor a function specifically for the script in which it's used
[07:06:42] <Blondie101010> if you do run into CPU bottlenecks because of that, you should reconsider the design
[07:06:44] <e36freak> unfortunately
[07:07:07] <e36freak> again, if you're super worried about performance and stuff, consider an actual programming language and not a shell
[07:07:17] * Blondie101010 nods
[07:08:43] *** Joins: dza (~dza@user/dza)
[07:09:01] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 258 seconds)
[07:09:39] <jensen> Like python? I don't really have a sense of performance vs. effort to implement, assuming the stuff to implement are your typical shell scripts
[07:10:02] <jensen> Cause python is apparently poor performance for a programming language
[07:10:08] *** Joins: prifici (~patri@user/prifici)
[07:10:10] <jensen> But a shell script is a shell script
[07:10:16] <e36freak> it depends on what you're actually trying to do
[07:10:39] <e36freak> if it's just general utilities and stringing commands together and stuff, well written shell scripts are fine
[07:10:40] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[07:11:07] *** Joins: kurahaupo (~kurahaupo@pa49-179-226-170.pa.nsw.optusnet.com.au)
[07:11:08] <e36freak> why is performance such a concern? what are you actually doing?
[07:11:12] *** Joins: carlos (~pum@user/carlos)
[07:11:12] *** Joins: Mo (~Mo@dynamic-077-010-049-128.77.10.pool.telefonica.de)
[07:11:52] <jensen> just a victim of premature optimization and not wanting to fall into bad habits
[07:12:02] <jensen> probably a phase of being a noob
[07:12:04] <e36freak> python is still considerably faster than shell scripting for any actual crunching
[07:12:36] <e36freak> also if you want fast and powerful posix utilities definitely learn awk
[07:13:37] *** Quits: prifici_ (~patri@user/prifici) (Ping timeout: 258 seconds)
[07:13:46] *** Joins: Everything (~Everythin@37.115.210.35)
[07:14:26] *** Joins: hejux (~hejux@104.224.190.144.16clouds.com)
[07:15:40] <jensen> yes, i'm lucky to learn that awk is great before investing time to learning things like sed (not comfortable with it yet). I thought this thread was very weird: https://stackoverflow.com/questions/107603/is-there-still-any-reason-to-learn-awk . awk can do so much and cut out many external commands
[07:17:37] <hyrcanus> thanks for the encouragement to learn it
[07:18:22] <jensen> Speaking of sourcing files earlier, I came across this: https://www.reddit.com/r/bash/comments/bzuhi9/scheme_to_dynamically_import_functions_to_a/
[07:18:56] <e36freak> i'm telling you, shell isn't the right language to be writing libraries in. you'll run into a lot of pain trying to do that
[07:19:59] <phy1729> If you're writing libraries, you've
[07:20:05] <phy1729> !graduated
[07:20:05] <greybot> Congratulations! You've graduated to needing to use a real language!
[07:22:34] <hendry> Is it possible to have a here doc in a switch argument? I've just trying to generate some dynamic JSON https://gist.github.com/kaihendry/9a8583e3615f65d84d18aec90a4a470f -- there is probably a better way, I hope
[07:23:35] <e36freak> hendry: don't use a here document, just put multiple lines between the quotes
[07:23:42] <e36freak> here documents are for passing data to stdin
[07:24:25] *** Joins: tejr (~tejr@user/tejr)
[07:24:30] <e36freak> you can also use -d -
[07:24:33] <e36freak> and then pass it to stdin
[07:24:48] <e36freak> curl -d - http://foo.com <<EOJSON
[07:24:49] <e36freak> stuff
[07:24:51] <e36freak> EOJSON
[07:25:12] <e36freak> erm, it's -d @-
[07:25:14] <e36freak> i think
[07:26:32] <hendry> e36freak: thank you! works great
[07:26:50] <jensen> I was looking into pastebins and decided on sprunge. If anyone cares for it, suggest ANY improvements: https://0x0.st/-dc8.txt
[07:27:21] <jensen> I mean 0x0...
[07:27:50] <emanuele6> since this is a bash script
[07:27:55] <hyrcanus> ///2
[07:27:56] <jensen> ix.io is not open source, sprunge does not have any sort of retention policy
[07:28:08] <emanuele6> jensen: var=$(printf whatever)
[07:28:16] <emanuele6> can just be: printf -v var whatever
[07:28:21] <emanuele6> and save a subshell
[07:28:26] <hendry> jensen: why not use getopts? https://mywiki.wooledge.org/BashFAQ/035
[07:28:34] <hyrcanus> jensen: is sprunge = 0x0.st?
[07:28:56] <jensen> hyrcanus No.. I meant 0x0 lol
[07:29:19] <hyrcanus> you said sprunge twice.  what is sprunge?
[07:29:26] <hendry> jensen: i like case..esac instead of elif elif
[07:29:28] <emanuele6> !sprunge
[07:29:28] <greybot> To upload to sprunge from your terminal, use: <command> | curl -F 'sprunge=<-' http://sprunge.us # or see !sprungefunc.
[07:29:59] <emanuele6> .* at the end of a regex is useless
[07:30:12] <emanuele6> it's equivalent to not having it
[07:30:27] <jensen> hendry: I purposely kept the number of accepted arguments small because I hate typing the dash in -h, -f, etc. I realize it's best if I want "real/proper arg processing"
[07:30:51] <emanuele6> and, as i told you before, /* is useless (equivalent to not having it), you probably meant /.*
[07:31:05] <emanuele6> and since the .* is at the end of the regex it can be omitted
[07:31:48] *** Quits: carlos (~pum@user/carlos) (Read error: Connection reset by peer)
[07:31:57] <emanuele6> i also notice that you are using a date command, in bash, date can be avoided
[07:32:06] <emanuele6> # paste=aaa; printf "%s\n" "$(date +%Y-%m-%d_%T) $paste"
[07:32:08] <shbot> emanuele6: 2021-10-21_04:02:07 aaa
[07:32:54] <emanuele6> # paste=aaa; printf -v date '%(%Y-%m-%d_%T)T'; printf '%s\n' "$date" "$paste"
[07:32:56] <shbot> emanuele6: 2021-10-21_04:02:55
[07:32:56] <shbot> emanuele6: aaa
[07:33:12] <emanuele6> oh, oops, you wanted it in one line
[07:33:24] <emanuele6> then you don't even need the temp variable
[07:33:35] <emanuele6> # paste=aaa; printf -v date '%(%Y-%m-%d_%T)T %s\n' -1 "$paste"
[07:33:36] <shbot> emanuele6: no output
[07:34:22] <emanuele6> oh, forgot to remove -v date
[07:34:26] <emanuele6> # paste=aaa; printf '%(%Y-%m-%d_%T)T %s\n' -1 "$paste"
[07:34:27] <shbot> emanuele6: 2021-10-21_04:04:26 aaa
[07:35:15] *** Joins: Stotteren (~Stotteren@pool-108-20-79-41.bstnma.fios.verizon.net)
[07:35:18] *** Joins: Gestotterd (~Stotteren@pool-108-20-79-41.bstnma.fios.verizon.net)
[07:37:25] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[07:39:07] *** Quits: madkne (~madkne@5.232.247.167) (Ping timeout: 256 seconds)
[07:41:10] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[07:42:10] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[07:43:02] *** Joins: vishal (~vishal@fedora/vishal)
[07:45:03] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 258 seconds)
[07:45:25] <jensen> printf -v and builtin date, amazing. Replacing in all my scripts, ty for the feedback
[07:46:41] <hyrcanus> what is the -1 for :/
[07:46:43] *** Joins: analoq (~yashi@user/dies)
[07:46:55] <jensen> current time, see printf builtin
[07:47:07] <jensen> had me curious too
[07:47:13] <emanuele6> hyrcanus: to skip the argument
[07:47:36] <emanuele6> printf '%(%Y-%m-%d_%T)T %s\n' "$paste"
[07:47:38] <hyrcanus> # printf '%(%Y-%m-%d_%T)T %s\n'
[07:47:40] <shbot> hyrcanus: 2021-10-21_04:17:39
[07:47:43] <hyrcanus> # printf '%(%Y-%m-%d_%T)T %s\n' -1
[07:47:45] <shbot> hyrcanus: 2021-10-21_04:17:44
[07:48:02] <jensen> jokes
[07:48:19] <hyrcanus> ahhh ty
[07:48:34] <emanuele6> if you just pass "$paste", $paste will be converted to a number and that number will be interpreted as second since unix epoch and converted to a date
[07:48:35] <hyrcanus> like -- but just for the next argument
[07:48:49] <emanuele6> not really, like --
[07:48:56] <emanuele6> negavite means current time
[07:49:17] <emanuele6> so you can use -1 to skip an argument when using %()T
[07:51:08] <emanuele6> > negavite means current time
[07:51:13] <emanuele6> actually this is inaccurate
[07:51:28] <emanuele6> -1 means current time and -2 means the time when the shell started
[07:51:35] <hyrcanus> # printf '%(%Y-%m-%d_%T)T %s\n'; printf '%(%Y-%m-%d_%T)T %s\n' -1
[07:51:37] <shbot> hyrcanus: 2021-10-21_04:21:36
[07:51:37] <shbot> hyrcanus: 2021-10-21_04:21:36
[07:51:51] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[07:51:58] <emanuele6> # printf '%(%Y-%m-%d_%T)T %s\n' 100000000
[07:52:00] <shbot> emanuele6: 1973-03-03_09:46:40
[07:52:21] <emanuele6> # printf '%(%Y-%m-%d_%T)T %s\n' hello
[07:52:22] <shbot> emanuele6: bash: printf: hello: invalid number
[07:52:22] <shbot> emanuele6: 1970-01-01_00:00:00
[07:52:29] <emanuele6> # printf '%(%Y-%m-%d_%T)T %s\n' -1 hello
[07:52:30] <shbot> emanuele6: 2021-10-21_04:22:30 hello
[07:52:31] <hyrcanus> ty
[07:59:00] *** Joins: frostwork (~frostwork@user/frostwork)
[08:04:06] *** Quits: jensen (~jensen@65.78.100.184) (Remote host closed the connection)
[08:06:45] <kurahaupo> jcbjoe2021: I have an X display but the only things that run on it are Terminals and a Web browser. I hate using GUI apps like file browsers, and I don't even like the "save as" dialogue in the web browser. I type xrandr with the settings to match the logical and physical positions of my two screens.
[08:06:46] <kurahaupo> I also have a script that recognises the monitor identification and uses xrandr to set the offsets accordingly
[08:07:34] <jcbjoe2021> Got it
[08:08:26] *** Quits: djph (~dpurgert@cpe-107-10-244-220.neo.res.rr.com) (Ping timeout: 245 seconds)
[08:10:18] *** Joins: djph (~dpurgert@cpe-107-10-244-220.neo.res.rr.com)
[08:10:43] <hyrcanus> a nice big monitor with 24 terminals gives me a lot of preserved state.  a crutch for defective memory.
[08:10:54] <hyrcanus> but also a potential distraction
[08:11:04] *** Joins: carlos (~pum@user/carlos)
[08:16:04] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[08:16:35] <e36freak> kurahaupo: your xrandr command isn't in .xinitrc?
[08:20:31] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 245 seconds)
[08:23:39] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[08:23:52] *** Quits: A|an (~Alan@173.216.51.200) (Quit: A|an)
[08:25:33] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[08:27:08] *** Joins: totenkoph (~scythe@user/totenkoph)
[08:29:08] *** Joins: rlankfo (~bob@bob.4kb.com)
[08:29:10] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[08:29:25] *** Quits: hejux (~hejux@104.224.190.144.16clouds.com) (Quit: WeeChat 3.3)
[08:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[08:30:02] *** Joins: hejux (~hejux@104.224.190.144.16clouds.com)
[08:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[08:31:25] *** Quits: tkazi (~tkazi@user/tkazi) (Quit: Disconnected)
[08:31:45] *** Joins: tkazi (~tkazi@user/tkazi)
[08:32:53] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[08:34:53] *** Joins: gpol7 (~gpol@135-23-207-205.cpe.pppoe.ca)
[08:35:17] <kurahaupo> e36freak: technically execve is (much) more expensive than fork. When optimising a shell script, the objective is to avoid commands that are not builtins, or failing that, to avoid invoking non builtins inside a loop. A bracketed (subshell) is cheap by comparison
[08:36:06] *** Quits: gpol (~gpol@135-23-207-205.cpe.pppoe.ca) (Ping timeout: 260 seconds)
[08:36:06] *** gpol7 is now known as gpol
[08:37:30] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[08:37:34] *** Joins: manic_laughter (~manic_lau@2409:4072:515:92f1:37b8:5710:9004:1b9f)
[08:38:42] *** Joins: aniruddha (uid340443@id-340443.ilkley.irccloud.com)
[08:40:15] *** Quits: ntwk (~ntwk@user/ntwk) (Ping timeout: 258 seconds)
[08:44:47] *** Quits: off^ (~off@wsip-68-227-92-38.mc.at.cox.net) (Ping timeout: 264 seconds)
[08:46:27] *** Joins: off^ (~off@wsip-68-227-92-38.mc.at.cox.net)
[08:46:53] *** Quits: rgrinberg (~textual@201.182.226.118) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:48:03] *** Quits: carlos (~pum@user/carlos) (Remote host closed the connection)
[08:48:36] *** Joins: ntwk (~ntwk@user/ntwk)
[08:50:11] *** Quits: manic_laughter (~manic_lau@2409:4072:515:92f1:37b8:5710:9004:1b9f) (Ping timeout: 264 seconds)
[09:00:53] *** Joins: manic_laughter (~manic_lau@2409:4072:515:92f1:37b8:5710:9004:1b9f)
[09:02:36] *** Quits: Nact (~l@2a02:2788:11c4:6e6:cebc:f487:efd8:173) (Quit: Konversation terminated!)
[09:06:06] *** Joins: kurahaupo_ (~kurahaupo@pa49-181-187-56.pa.nsw.optusnet.com.au)
[09:07:55] *** Quits: kurahaupo (~kurahaupo@pa49-179-226-170.pa.nsw.optusnet.com.au) (Ping timeout: 260 seconds)
[09:09:24] *** Joins: alzgh (~alzgh@user/alzgh)
[09:11:09] *** Quits: earendel (uid498179@user/earendel) (Quit: Connection closed for inactivity)
[09:13:50] *** Joins: brsvh (~brsvh@116.128.247.22)
[09:15:38] *** Quits: brsvh (~brsvh@116.128.247.22) (Client Quit)
[09:15:59] *** Joins: brsvh (~brsvh@li1194-11.members.linode.com)
[09:17:56] *** Quits: hejux (~hejux@104.224.190.144.16clouds.com) (Quit: WeeChat 3.3)
[09:18:17] *** Joins: hejux (~hejux@104.224.190.144.16clouds.com)
[09:20:46] *** Quits: Sayona (~Sayona@user/sayona) (Quit: Bye :))
[09:20:55] *** Quits: brsvh (~brsvh@li1194-11.members.linode.com) (Quit: brsvh)
[09:21:18] *** Joins: brsvh (~brsvh@li1194-11.members.linode.com)
[09:21:20] *** Quits: brsvh (~brsvh@li1194-11.members.linode.com) (Remote host closed the connection)
[09:21:44] *** Joins: brsvh (~brsvh@li1194-11.members.linode.com)
[09:29:54] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 276 seconds)
[09:30:43] *** Quits: n4dir (~user@i59F77CE8.versanet.de) (Remote host closed the connection)
[09:31:31] *** Quits: brsvh (~brsvh@li1194-11.members.linode.com) (Quit: brsvh)
[09:32:51] *** Joins: brsvh (~brsvh@li1194-11.members.linode.com)
[09:34:53] *** Joins: richardm75_ (~richardm7@2600:8801:c50a:9f00:2cbe:2513:404c:1c08)
[09:35:13] *** Joins: manic_laughter70 (~manic_lau@2409:4072:515:92f1:37b8:5710:9004:1b9f)
[09:35:19] *** Joins: mtk_ (~mtk@2601:185:200:72:44aa:53fe:886b:bee9)
[09:35:31] *** Quits: diverdude (~user@176-21-102-230-cable.dk.customer.tdc.net) (Ping timeout: 245 seconds)
[09:35:55] *** Joins: rjWon (~rj1@i.dont.know.how.com.puters.work)
[09:36:21] *** Quits: skered (~dereks@user/skered) (Ping timeout: 245 seconds)
[09:36:21] *** Quits: tk (~tk@ircpuzzles/staff/tk) (Ping timeout: 245 seconds)
[09:37:00] *** Joins: tk (~tk@ircpuzzles/staff/tk)
[09:37:11] *** Quits: rj1 (~rj1@i.dont.know.how.com.puters.work) (Ping timeout: 245 seconds)
[09:37:11] *** rjWon is now known as rj1
[09:37:36] *** Quits: manic_laughter (~manic_lau@2409:4072:515:92f1:37b8:5710:9004:1b9f) (Ping timeout: 245 seconds)
[09:37:36] *** Quits: YHVH (~yhvh@2601:982:8300:8090:d0ca:2453:5804:9ec1) (Ping timeout: 245 seconds)
[09:37:45] *** Quits: mtk (~mtk@2601:185:200:72:44aa:53fe:886b:bee9) (Read error: Connection reset by peer)
[09:37:48] *** Quits: brsvh (~brsvh@li1194-11.members.linode.com) (Quit: brsvh)
[09:38:01] *** Quits: richardm75 (~richardm7@2600:8801:c50a:9f00:2cbe:2513:404c:1c08) (Ping timeout: 245 seconds)
[09:38:14] *** Joins: YHVH (~yhvh@2601:982:8300:8090:d0ca:2453:5804:9ec1)
[09:38:31] *** Quits: malina (~malina@user/malina) (Ping timeout: 258 seconds)
[09:38:36] *** Joins: brsvh (~brsvh@li1194-11.members.linode.com)
[09:38:41] *** Quits: brsvh (~brsvh@li1194-11.members.linode.com) (Remote host closed the connection)
[09:39:10] *** Joins: brsvh (~brsvh@li1194-11.members.linode.com)
[09:43:48] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[09:48:23] *** Quits: ntwk (~ntwk@user/ntwk) (Ping timeout: 264 seconds)
[09:48:43] *** Quits: brsvh (~brsvh@li1194-11.members.linode.com) (Quit: brsvh)
[09:48:54] *** Joins: ntwk (~ntwk@user/ntwk)
[09:48:59] *** Quits: gpol (~gpol@135-23-207-205.cpe.pppoe.ca) (Ping timeout: 264 seconds)
[09:49:23] *** Joins: gpol (~gpol@135-23-207-205.cpe.pppoe.ca)
[09:49:23] *** Joins: brsvh (~brsvh@li1194-11.members.linode.com)
[09:49:58] *** Joins: rendar (~rendar@user/rendar)
[09:50:09] <ormaaj> kurahaupo: yeah phy1729 just reminded me of that too. I would think though there are some nice optimizations for exec when program .text is already loaded though. Perfect resetting to a fresh shell state without exec would take a lot of careful cleanup.
[09:50:13] *** Joins: momonster (~mo@ip1f106678.dynamic.kabel-deutschland.de)
[09:51:21] <kurahaupo_> ormaaj: There is optimisation along those lines when the target program is actually a shell script. Bash can even switch in and out of POSIX mode depending on what's on the #! line
[09:53:25] *** Quits: k-man (~jason@user/k-man) (Ping timeout: 260 seconds)
[09:53:34] <kurahaupo_> e36freak: My xrandr script is both in .xinitrc and operates stand alone if I want to rearrange my monitors
[09:54:48] <kurahaupo_> ormaaj: score another point against #!env - Bash can't optimise that, so it goes slower
[09:55:48] *** Quits: momonster (~mo@ip1f106678.dynamic.kabel-deutschland.de) (Quit: Konversation terminated!)
[09:55:51] <ormaaj> Oh right.
[09:56:20] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 260 seconds)
[09:58:38] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[10:02:32] *** Joins: igemnace (~ian@user/igemnace)
[10:04:10] *** Quits: brsvh (~brsvh@li1194-11.members.linode.com) (Quit: brsvh)
[10:04:41] *** Joins: brsvh (~brsvh@li1194-11.members.linode.com)
[10:06:30] *** Quits: StathisA (~StathisA@178-147-148-157.haap.dm.cosmote.net) (Ping timeout: 258 seconds)
[10:07:48] *** Joins: greknod28 (~grek@120.88.171.98)
[10:08:46] *** Joins: StathisA (~StathisA@178-147-155-103.haap.dm.cosmote.net)
[10:09:25] *** Quits: Spawns_Carpeting (~Spawns_Ca@user/spawns-carpeting/x-6969421) (Ping timeout: 252 seconds)
[10:09:40] *** Joins: brelod (~me@90.244.150.142)
[10:11:46] *** Quits: djph (~dpurgert@cpe-107-10-244-220.neo.res.rr.com) (Ping timeout: 245 seconds)
[10:12:36] *** Quits: somlis (~somlis@user/somlis) (Ping timeout: 245 seconds)
[10:14:33] *** Quits: brsvh (~brsvh@li1194-11.members.linode.com) (Quit: brsvh)
[10:14:56] *** Quits: reset (~reset@user/reset) (Quit: reset)
[10:18:33] *** Joins: djph (~dpurgert@cpe-107-10-244-220.neo.res.rr.com)
[10:21:50] *** Joins: mei (~mei@user/mei)
[10:24:59] *** Quits: richardm75_ (~richardm7@2600:8801:c50a:9f00:2cbe:2513:404c:1c08) (Ping timeout: 264 seconds)
[10:25:03] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[10:26:41] <hyrcanus> to our 'kill -9' discussion.  montage from imagemagick stop responding.  kill, kill -1 doesn't kill it.  no cpu use.  ram and drive space is available.
[10:28:13] <hyrcanus> and as soon as i whine, it manages to close.  nvm
[10:30:06] <hyrcanus> took about 15 minutes
[10:30:16] *** Quits: noarb- (~noarb@user/noarb) (Ping timeout: 258 seconds)
[10:31:25] *** Quits: gpol (~gpol@135-23-207-205.cpe.pppoe.ca) (Ping timeout: 252 seconds)
[10:31:25] *** Quits: ntwk (~ntwk@user/ntwk) (Ping timeout: 252 seconds)
[10:33:57] *** Joins: ravan (~ravan@user/ravan)
[10:33:58] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:f927:f04f:f46f:9b21)
[10:35:13] *** Quits: jab416171 (~jab416171@c-67-161-208-101.hsd1.ut.comcast.net) (Ping timeout: 252 seconds)
[10:41:03] *** Quits: Hash (~weechat@protect.yourself.with.hashsecurity.org) (Quit: WeeChat 3.3)
[10:42:12] *** Joins: Hash (~weechat@protect.yourself.with.hashsecurity.org)
[10:42:25] *** Joins: diverdude (~user@176-21-102-230-cable.dk.customer.tdc.net)
[10:43:25] *** Joins: ntwk (~ntwk@user/ntwk)
[10:45:32] *** Quits: mei (~mei@user/mei) (Read error: Connection reset by peer)
[10:45:56] *** Joins: mei (~mei@user/mei)
[10:46:29] *** Joins: millido (~millido@84.210.150.128)
[10:46:34] <millido> I am experiencing different behaviour with $@ in bash on different debian issues. It seems like it sometimes gives all arguments including the command, and sometimes just the arguments to the command. Is this expected?
[10:47:45] <millido> For this particular usecase, I know the exact command, so I can work around it. But I was curious if there is some better way to know if I need to shift away the first arg or not.
[10:48:50] *** Joins: n4dir (~user@i59F77CE8.versanet.de)
[10:50:00] *** Joins: noarb (~noarb@user/noarb)
[10:50:35] *** Quits: rcernin (~rcernin@124.190.139.235) (Ping timeout: 260 seconds)
[10:54:03] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[10:54:25] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 258 seconds)
[10:55:15] *** Joins: Crescendo (~Crescendo@user/crescendo)
[10:57:33] <rendar> can i generate random numbers/strings within a bash script?
[10:58:10] <ormaaj> I bet there's a way
[10:59:11] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[11:00:13] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[11:01:08] <gnoo> millido: don't use unquoted $@. use "$@"
[11:01:21] *** Joins: earnestly (~earnest@user/earnestly)
[11:01:58] <osse> !faq random
[11:01:58] <greybot> https://mywiki.wooledge.org/BashFAQ/026 -- How can I randomize (shuffle) the order of lines in a file?  Or select a random line from a file, or select a random file from a directory?
[11:02:04] <osse> hmm, not that
[11:02:41] <millido> gnoo: hmm, that doesn't really seem to make a difference...
[11:03:31] <gnoo> it should give only the arguments to command
[11:04:06] <gnoo> !random > it's the same faq page
[11:04:06] <greybot> it's the same faq page: Evaluating $RANDOM gives a pseudorandom integer from 0 to 32767. Assigning to RANDOM sets a new seed. See http://mywiki.wooledge.org/BashFAQ/026 for examples.
[11:05:45] *** Quits: quazimodo (~quazimodo@n1-40-235-47.bla1.nsw.optusnet.com.au) (Ping timeout: 260 seconds)
[11:05:47] *** Joins: sarantos (~sarantos@46-118-6.adsl.cyta.gr)
[11:06:58] <osse> 'There are some examples there with urandom. Good
[11:06:59] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 264 seconds)
[11:09:54] <millido> gnoo: okay, thank you. I have not been able to reproduce the issues I had again :-)
[11:13:52] *** Joins: Gooey (~gooey@2001:a62:15f0:fe01:b559:7e27:c719:b4a2)
[11:14:04] <Gooey> Halp1
[11:14:48] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[11:17:06] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:cd46:5511:7d92:db81)
[11:18:14] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[11:21:39] *** Quits: ravan (~ravan@user/ravan) (Remote host closed the connection)
[11:30:10] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[11:33:06] *** Joins: rcernin_ (~rcernin@124.190.139.235)
[11:34:13] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Quit: bye)
[11:35:47] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:cd46:5511:7d92:db81) (Ping timeout: 264 seconds)
[11:40:24] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[11:44:29] *** Quits: sarantos (~sarantos@46-118-6.adsl.cyta.gr) (Ping timeout: 256 seconds)
[11:46:26] *** Joins: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is)
[11:47:16] *** Joins: skered (~dereks@user/skered)
[11:49:20] *** Quits: dodo (~dodo@user/dodo) (Remote host closed the connection)
[11:49:27] *** Joins: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[11:50:04] *** Quits: synthmeat (~synthmeat@user/synthmeat) (Ping timeout: 252 seconds)
[11:51:37] *** Joins: k-man (~jason@user/k-man)
[11:52:41] *** Quits: shbot (~shbot@37.139.2.101) (Ping timeout: 258 seconds)
[11:53:00] *** Quits: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is) (Ping timeout: 260 seconds)
[11:54:07] *** Joins: arinov (~arinov@213.194.126.155)
[11:55:35] *** Quits: jonthesnow (~xizhendu@240e:404:8610:62b2:dadc::30c0) (Ping timeout: 264 seconds)
[11:55:43] *** Joins: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is)
[11:55:50] *** Joins: frostwork (~frostwork@user/frostwork)
[11:56:21] *** Quits: rcernin_ (~rcernin@124.190.139.235) (Quit: WeeChat 3.3)
[12:00:28] *** Quits: cfaber (~cfaber@c-71-237-84-236.hsd1.co.comcast.net) (Ping timeout: 252 seconds)
[12:00:32] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[12:00:52] *** Joins: alzgh (~alzgh@user/alzgh)
[12:05:56] *** Quits: jcbjoe2021 (sid520195@lymington.irccloud.com) (Ping timeout: 245 seconds)
[12:06:01] *** Quits: Darkfoe_ (sid402081@helmsley.irccloud.com) (Ping timeout: 252 seconds)
[12:06:27] *** Quits: hubvu (sid495858@user/hubvu) (Read error: Connection reset by peer)
[12:06:36] *** Joins: hubvu (sid495858@user/hubvu)
[12:07:17] *** Quits: bidouille (~user_name@trois.potager.org) (Ping timeout: 264 seconds)
[12:07:47] *** Quits: downtrip_ (~downtrip@188.166.151.198) (Quit: WeeChat 3.3)
[12:09:10] *** Joins: Darkfoe_ (sid402081@id-402081.helmsley.irccloud.com)
[12:09:16] *** Quits: dermato (~dermatobr@cpe-70-114-219-76.austin.res.rr.com) (Ping timeout: 252 seconds)
[12:10:08] *** Joins: jcbjoe2021 (sid520195@id-520195.lymington.irccloud.com)
[12:10:16] *** Joins: downtrip (~downtrip@188.166.151.198)
[12:10:35] *** Joins: dermato (~dermatobr@cpe-70-114-219-76.austin.res.rr.com)
[12:11:29] *** Joins: Bhavuk (~BTaneja@103.132.28.60)
[12:12:15] *** Quits: liam (sid7517@helmsley.irccloud.com) (Ping timeout: 260 seconds)
[12:12:26] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[12:13:33] *** Quits: drogas (~drogas@jump2.jet.uk) (Quit: Connection closed)
[12:13:58] *** Joins: drogas (~drogas@jump2.jet.uk)
[12:14:11] *** Joins: liam (sid7517@id-7517.helmsley.irccloud.com)
[12:14:37] *** Joins: sarantos (~sarantos@46-118-6.adsl.cyta.gr)
[12:15:06] *** Quits: sa (sid1055@tinside.irccloud.com) (Ping timeout: 245 seconds)
[12:15:06] *** Joins: clarkk1 (~clarkk@37.120.203.181)
[12:15:40] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Read error: Connection reset by peer)
[12:16:32] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[12:16:54] *** Joins: shad (~shad@user/shad)
[12:17:08] *** Joins: clarkk11 (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[12:18:00] *** Joins: sa (sid1055@id-1055.tinside.irccloud.com)
[12:19:10] *** Quits: furrymcgee (~devuan@cgn-89-1-210-103.nc.de) (Ping timeout: 260 seconds)
[12:19:12] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[12:19:28] *** Quits: Everything (~Everythin@37.115.210.35) (Quit: leaving)
[12:19:29] *** Joins: shbot (~shbot@37.139.2.101)
[12:19:50] *** Quits: clarkk1 (~clarkk@37.120.203.181) (Ping timeout: 260 seconds)
[12:20:02] *** Joins: clarkk (~clarkk@185.206.225.246)
[12:21:05] *** Joins: dodo (~dodo@user/dodo)
[12:21:49] *** Quits: clarkk11 (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Ping timeout: 258 seconds)
[12:24:24] *** Joins: mongy (~mongy@user/mongy)
[12:26:15] *** Quits: DeaDSouL (~DeaDSouL@45.130.136.155) (Ping timeout: 260 seconds)
[12:26:50] *** Quits: clarkk (~clarkk@185.206.225.246) (Ping timeout: 260 seconds)
[12:28:03] *** Joins: DeaDSouL (~DeaDSouL@45.91.20.148)
[12:28:29] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[12:29:00] *** Joins: synthmeat (~synthmeat@user/synthmeat)
[12:30:55] *** Quits: Mo (~Mo@dynamic-077-010-049-128.77.10.pool.telefonica.de) (Ping timeout: 260 seconds)
[12:33:10] *** Joins: cfaber (~cfaber@c-71-237-84-236.hsd1.co.comcast.net)
[12:33:20] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Quit: reboot)
[12:33:59] *** Joins: bidouille (~user_name@trois.potager.org)
[12:34:28] *** Joins: karakedi (~eAC53C340@user/karakedi)
[12:37:56] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[12:39:14] *** Quits: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[12:40:50] *** Quits: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[12:42:13] *** Joins: zro (~zro@user/zro)
[12:51:26] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[12:54:01] *** Joins: furrymcgee (~devuan@cgn-89-1-210-103.nc.de)
[12:59:13] *** Joins: jkwnki (~jkwnki@p4fedba8f.dip0.t-ipconnect.de)
[13:03:58] *** Joins: Crescendo (~Crescendo@user/crescendo)
[13:12:59] *** Quits: ntwk (~ntwk@user/ntwk) (Ping timeout: 264 seconds)
[13:14:36] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.3)
[13:19:35] *** Quits: nyx__o (~nyx@modemcable029.228-203-24.mc.videotron.ca) (Remote host closed the connection)
[13:21:47] <izabera> 50# ls -l /proc/self/fd/0 <<< meow
[13:21:49] <shbot> izabera: lr-x------ 1 root root 64 Oct 21 09:51 /proc/self/fd/0 -> /tmp/sh-thd.y9br2K (deleted)
[13:21:51] <izabera> 51# ls -l /proc/self/fd/0 <<< meow
[13:21:52] <shbot> izabera: lr-x------ 1 root root 64 Oct 21 09:51 /proc/self/fd/0 -> pipe:[298]
[13:21:57] <izabera> why the fuck was this changed
[13:22:23] *** Joins: ntwk (~ntwk@user/ntwk)
[13:22:49] <izabera> c. Here documents and here strings now use pipes for the expanded document if
[13:22:51] <izabera>    it's smaller than the pipe buffer size, reverting to temporary files if it's
[13:22:53] <izabera>    larger.
[13:23:02] *** Joins: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[13:23:08] <izabera> this broke a ton of my scripts
[13:23:16] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[13:23:40] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[13:23:53] <ormaaj> izabera: yep same.
[13:24:55] <Soliton> write less scripts based on undocumented implementation details?
[13:25:01] <izabera> fuck off Soliton
[13:25:30] <tk> miss "It's too young of a language to have a language standard" experiencing the full brunt of the unstandardised language experience
[13:25:38] *** ChanServ sets mode: +o izabera
[13:25:40] *** izabera sets mode: +b *!*@ircpuzzles/staff/tk
[13:25:42] *** tk was kicked by izabera (tk)
[13:25:56] <Soliton> personally i think you're over the top rude a little too much.
[13:26:11] <ormaaj> 😄
[13:26:27] *** izabera sets mode: -b *!*@ircpuzzles/staff/tk
[13:26:31] *** Joins: tk (~tk@ircpuzzles/staff/tk)
[13:26:36] *** izabera sets mode: -o izabera
[13:26:55] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 260 seconds)
[13:28:58] *** Joins: somlis (~somlis@user/somlis)
[13:29:09] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Remote host closed the connection)
[13:29:09] *** Joins: hesse (~TheHerman@gateway/tor-sasl/thehermann)
[13:29:15] <ormaaj> Really setting up a pipe vs opening and unlinking a file in a tmpfs. Shouldn't be much difference.
[13:29:37] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[13:29:50] *** Quits: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[13:30:08] <ormaaj> The fact that you randomly get one or the other is crap.
[13:32:58] <ormaaj> # type mktemp
[13:33:00] <shbot> ormaaj: mktemp is a shell builtin
[13:33:38] <ormaaj> # help mktemp
[13:33:44] <shbot> ormaaj: mktemp: mktemp [-d] [-q] [-t prefix] [-u] [-v varname] [template] ...
[13:33:44] <shbot> ormaaj:     Make unique temporary file name
[13:33:44] <shbot> ormaaj: etc... ( http://ix.io/3CnT )
[13:38:26] <izabera> this is not fun
[13:40:09] <hyrcanus> search engines should manually prioritize wooledge :/
[13:40:20] <hyrcanus> but i can do it myself
[13:40:30] *** Joins: clarkk (~clarkk@84.247.50.57)
[13:43:24] <ormaaj> # trap 'rm "$wat"' exit; mktemp -v wat; exec {tmp}<>"$wat"; echo blerg >&"$tmp"; cat "/dev/fd/$tmp"
[13:43:26] <shbot> ormaaj: /tmp/shtmp.nwJV5M
[13:43:26] <shbot> ormaaj: blerg
[13:47:07] *** Quits: rustyshackleford (uid236774@helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[13:49:42] *** Joins: arinov (~arinov@31.142.50.8)
[13:50:47] *** Quits: rigid (~rigid@user/rigid) (Ping timeout: 250 seconds)
[13:53:07] <ormaaj> !learn izarage izamad.
[13:53:07] <greybot> OK, ormaaj
[13:53:58] <izabera> i'm not as much of a psycho as it looked like
[13:54:03] <izabera> only partially a psycho
[13:54:29] <izabera> Soliton: sorry about that
[13:56:28] *** Joins: rigid (~rigid@user/rigid)
[13:56:43] <tk> (and the ban was an in joke between us)
[13:57:50] *** Quits: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[14:00:35] *** Joins: pylong_ (bluehoney@gateway/vpn/protonvpn/bluehoney)
[14:02:13] *** Joins: kurashiX48 (~kurashiX4@2601:410:0:c03:c4c:f44c:f296:7f37)
[14:05:44] <furrymcgee> "We want to write the entire document without write blocking.", redir.c
[14:06:08] *** Quits: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4) (Quit: Reconnecting)
[14:06:25] *** Joins: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4)
[14:07:04] <izabera> regular files don't block
[14:08:54] *** Joins: ttyX (~ttyX@user/ttyx)
[14:10:17] *** Joins: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net)
[14:10:25] *** Quits: Gooey (~gooey@2001:a62:15f0:fe01:b559:7e27:c719:b4a2) (Remote host closed the connection)
[14:10:27] *** Joins: timj (~timj@user/timj)
[14:11:11] <furrymcgee> there is also "dont't mess with a temp file" whatever it means
[14:13:45] *** Joins: r00t^work (~r00t@82-198-216-115.briteline.de)
[14:17:23] * hyrcanus is King of Zebra Pants
[14:17:38] <hyrcanus> ... swingin on -- a pigeon wing
[14:18:56] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[14:21:13] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.3)
[14:21:41] <ormaaj> # cat /proc/locks
[14:21:43] <shbot> ormaaj: cat: cannot open /proc/locks: No such file or directory
[14:24:26] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[14:24:52] *** Quits: timj (~timj@user/timj) (Ping timeout: 258 seconds)
[14:25:02] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.3)
[14:25:05] *** Joins: earendel (uid498179@user/earendel)
[14:25:16] <tk> :q
[14:26:47] *** Quits: rigid (~rigid@user/rigid) (Ping timeout: 264 seconds)
[14:32:07] *** Joins: kurashiki48 (~kurashiX4@2601:410:0:c03:bd46:ad6a:716d:4d8e)
[14:34:34] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 265 seconds)
[14:34:55] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[14:36:10] *** Quits: ano (~ano@user/ano) (Remote host closed the connection)
[14:36:23] *** Quits: kurashiX48 (~kurashiX4@2601:410:0:c03:c4c:f44c:f296:7f37) (Ping timeout: 264 seconds)
[14:36:58] *** Joins: ano (~ano@user/ano)
[14:37:31] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[14:37:48] *** Joins: jonthesnow (~xizhendu@240e:305:7380:4300:d47:48bf:97c5:2de9)
[14:40:04] *** Joins: timj (~timj@user/timj)
[14:40:34] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 260 seconds)
[14:41:21] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[14:41:29] *** Quits: n4dir (~user@i59F77CE8.versanet.de) (Remote host closed the connection)
[14:41:36] *** Joins: rigid (~rigid@user/rigid)
[14:41:59] *** Joins: nattiestnate (~nate@2001:448a:20a0:4134:25e:715f:d637:5263)
[14:43:42] *** Joins: Carp (~rue@1-162-40-226.dynamic-ip.hinet.net)
[14:44:11] *** Quits: arinov (~arinov@31.142.50.8) (Ping timeout: 264 seconds)
[14:45:05] *** Quits: ninjabuffet (~ninjabuff@user/ninjabuffet) (Ping timeout: 264 seconds)
[14:46:33] *** Joins: legola (~legola@46.235.101.181)
[14:47:23] <earnestly> How useless are posix message queues from the point of view of using them from the shell?
[14:48:02] <furrymcgee> maybe there are security issues concerning temp files
[14:48:35] *** Quits: off^ (~off@wsip-68-227-92-38.mc.at.cox.net) (Ping timeout: 260 seconds)
[14:50:26] <earnestly> It's a pity there's no standard util for managing them
[14:50:55] *** Quits: noraaron (~aaron@251.222.198.146.dyn.plus.net) (Ping timeout: 260 seconds)
[14:51:15] <ormaaj> I don't know of any utilities using them.
[14:51:52] *** Joins: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[14:51:58] <earnestly> Me neither, other than a few which provide cli tools for interacting with them via the shell
[14:52:07] <earnestly> E.g. https://github.com/goeb/mq
[14:52:09] <ormaaj> I was just thinking of flock and lockf
[14:53:10] *** Quits: shad (~shad@user/shad) (Ping timeout: 260 seconds)
[14:53:19] <ormaaj> # mkdir t; mount -t tmpfs -o size=1024k,mand tmpfs ./t; mount
[14:53:20] <shbot> ormaaj: mount: /root/t: permission denied.
[14:53:20] <shbot> ormaaj: rootfs on / type rootfs (rw)
[14:53:20] <shbot> ormaaj: none on /proc type proc (rw,relatime)
[14:55:14] *** Joins: shad (~shad@user/shad)
[14:55:39] *** Joins: xx (~xx@user/xx)
[14:56:48] *** Joins: cornelius (~cornelius@2a01cb0d04e290000a0027fffe32ed70.ipv6.abo.wanadoo.fr)
[14:56:59] <earnestly> why eperm
[14:58:30] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 260 seconds)
[15:02:00] *** Quits: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[15:03:07] *** Joins: seninha (~seninha@user/seninha)
[15:03:25] *** Joins: mongy (~mongy@user/mongy)
[15:10:47] *** Joins: kurashiX48 (~kurashiX4@c-68-60-88-212.hsd1.mi.comcast.net)
[15:11:54] *** Quits: kurashiki48 (~kurashiX4@2601:410:0:c03:bd46:ad6a:716d:4d8e) (Remote host closed the connection)
[15:14:23] *** Joins: jetchisel (jetchisel@user/jetchisel)
[15:14:44] *** Joins: Guest70 (~Guest70@ip-89-176-154-20.net.upcbroadband.cz)
[15:20:13] *** Joins: cousin_luigi (~luigi@user/cousin-luigi/x-8293588)
[15:20:13] <chilversc> Due to the issue with "set -e" inside "if" statements, does that mean I have to write all functions in a script as if both "set -e" and "set +e" if I want the function to work reliably in either context?
[15:20:14] <cousin_luigi> Greetings.
[15:20:45] <cousin_luigi> I have a script to launch firefox with certain parameters. I don't understand why firefox -P default "$1" passes /home/user as argument.
[15:21:12] <geirha> chilversc: yes, you must handle errors manually, with or without set -e if you want the script to behave reliably
[15:21:32] *** Quits: kurashiX48 (~kurashiX4@c-68-60-88-212.hsd1.mi.comcast.net) (Remote host closed the connection)
[15:21:49] <chilversc> right, but I also have to write the function considering -e might be set? Or is it advisable in scripts to just disable errexit?
[15:22:21] <geirha> !-x > cousin_luigi
[15:22:21] <greybot> cousin_luigi: set -x (or ''bash -x myscript'') makes bash output the exact command that it will run after parsing and expansion. You can put ''set -x'' just before the code you want to debug (turn off with ''set +x''). To add more information, change PS4 first: eg. PS4='+($?) $BASH_SOURCE:$FUNCNAME:$LINENO:'
[15:22:35] <Soliton> errexit is not enabled by default.
[15:22:43] <izabera> start your function with local -; set +e
[15:23:03] <Soliton> as the script author you should presumably know if set -e is in effect or not.
[15:23:19] <cousin_luigi> firefox -P default ''
[15:23:44] <cousin_luigi> Which for some reason firefox takes it as homedir. So, what I need now is a way to pass $1 only if not empty
[15:23:48] *** Parts: foo (~foo@user/foo/x-8763512) ()
[15:23:49] <geirha> so probably firefox defaults to your homedir when given an empty string then
[15:24:04] <geirha> ${1:+"$1"}
[15:24:07] <geirha> !:+
[15:24:07] <greybot> ${parameter:+word} Use Alternate Value. If parameter is null or unset, nothing is substituted, otherwise the expansion of word is substituted.
[15:24:08] <chilversc> Soliton: yeah, but I'd like to write functions in a reliable way so that other authors can use them without having a supprise gotta just because the start/stop using it within an "if" clause
[15:24:26] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 260 seconds)
[15:24:39] <geirha> Just write them as if errexit is not in effect
[15:24:39] *** Joins: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[15:24:43] *** Joins: Crescendo (~Crescendo@user/crescendo)
[15:25:10] *** Joins: ravan (~ravan@user/ravan)
[15:25:24] <cousin_luigi> Neat, thanks.
[15:25:29] <cousin_luigi> bbl!
[15:25:30] <chilversc> geirha: but then if errexit is in effect the function might stop when it shouldn't because I ran some command that sometimes can error, but that's ok
[15:25:36] *** Parts: cousin_luigi (~luigi@user/cousin-luigi/x-8293588) ()
[15:26:43] <Soliton> unless your code is injected into an interactive shell or something just write normal code.
[15:26:44] <geirha> Then the idiots that enable errexit get to add the "necessary" || true silliness themselves
[15:27:36] <chilversc> so in that case I could just have "set +x" at the start of the script so the whole script runs without errexit
[15:28:12] <Soliton> "errexit is not enabled by default."
[15:28:13] <geirha> +x disables xtrace
[15:29:24] <geirha> errexit is a relic of the past. It's defined by posix to allow existing scripts that use it to continue working. It should be considered deprecated, so any new script should not use it. Therefore I see no reason to add silly hacks to work around errexit
[15:30:54] <chilversc> that was the feeling I was starting to get
[15:32:05] <xx> what's a safer way of doing `rm -rf "$var"`? Maybe something like `rm -rf "${var:?some error message}"`?
[15:32:09] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[15:32:47] <Soliton> the variable being empty is not a big deal though unless there is more you're not showing.
[15:32:48] <xx> I want to avoid rm somehow ending up deleting /
[15:33:04] <chilversc> it just a lot of guides seem to say that errexit is a good practice, I guess that depends on complexity? If you have a lot of functions it probably more dangerous, but if you have a simple script without functions it saves a lot of error checking?
[15:33:09] <Soliton> you can use -- to handle filenames starting with a dash.
[15:33:18] <xx> admittedly, I don't know the behavior of rm when the target is an empty/undefined var
[15:33:39] <Soliton> rm knows nothing of shell variables.
[15:33:59] <Soliton> # rm -rf "$var"
[15:34:01] <shbot> Soliton: no output
[15:34:34] *** Joins: CountryNerd (~CountryNe@184.53.1.83)
[15:35:24] *** Quits: wuseman (wuseman@user/wuseman) (Remote host closed the connection)
[15:38:11] *** Quits: timj (~timj@user/timj) (Ping timeout: 264 seconds)
[15:38:48] *** Joins: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com)
[15:38:48] *** Quits: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com) (Changing host)
[15:38:48] *** Joins: wuseman (wuseman@user/wuseman)
[15:42:35] *** Joins: nyex (~Thunderbi@177.84.107.41)
[15:42:38] *** Quits: polve (~polve@twcitalia/polve) (Ping timeout: 260 seconds)
[15:46:25] *** Joins: ninjabuffet (~ninjabuff@user/ninjabuffet)
[15:46:58] <cornelius> Greetings.
[15:46:58] <cornelius> Some programming languages have data input written right after the end of the
[15:46:59] <cornelius> script. The intention is to place code and data into the same file in order to
[15:46:59] <cornelius> maintain less script–data relations. In bash, this behavior is possible by
[15:47:00] <cornelius> feeding a heredoc to the last command.
[15:47:00] <cornelius> Now, there are two problems. Can the script safely overwrite itself to modify
[15:47:01] <cornelius> the data in-place by moving a temporary file, without altering its execution ?
[15:47:01] <cornelius> How to effectively seek the first line of data without parsing neither bash nor
[15:47:02] <cornelius> data syntax ? (Reading from and writing to the same source surely is a bad
[15:47:02] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.3)
[15:47:02] <cornelius> programming practice.)
[15:47:35] *** Joins: nitro__ (~nitro@c-73-165-183-88.hsd1.pa.comcast.net)
[15:49:38] *** Quits: nitro_ (~nitro@c-73-165-183-88.hsd1.pa.comcast.net) (Ping timeout: 260 seconds)
[15:51:32] *** Joins: polve (~polve@twcitalia/polve)
[15:52:05] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[15:52:31] *** Joins: timj (~timj@user/timj)
[15:53:10] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 252 seconds)
[15:53:24] *** Joins: xizhendu_ (~xizhendu@115.171.233.239)
[15:53:43] <earnestly> nope
[15:54:06] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[15:54:57] *** Joins: rufito (~phil@186.11.59.164)
[15:55:58] <ormaaj> A self-modifying script makes little sense because most functions and variables are mutable anyway. You can freely eval or source new code arbitrarily so there's no need to screw with the code being read.
[15:56:11] *** Quits: jonthesnow (~xizhendu@240e:305:7380:4300:d47:48bf:97c5:2de9) (Ping timeout: 264 seconds)
[15:58:24] *** Joins: zeraphel (~daddy@2a00:a040:196:56d:96de:80ff:fefa:44a)
[15:58:51] *** Joins: sottybear (~sottybear@146.250.115.87.dyn.plus.net)
[16:01:37] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:34f3:14af:c14:a33d)
[16:01:37] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:34f3:14af:c14:a33d) (Changing host)
[16:01:37] *** Joins: skapata (~Skapata@user/skapata)
[16:04:06] *** Quits: pylong_ (bluehoney@gateway/vpn/protonvpn/bluehoney) (Ping timeout: 260 seconds)
[16:05:37] *** Joins: relight (~relight@user/relight)
[16:05:48] *** Parts: ormaaj2 (~ormaaj2@user/ormaaj) ()
[16:06:09] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[16:06:17] *** Quits: Guest70 (~Guest70@ip-89-176-154-20.net.upcbroadband.cz) (Ping timeout: 256 seconds)
[16:07:27] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[16:08:36] *** Quits: sottybear (~sottybear@146.250.115.87.dyn.plus.net) (Quit: Leaving)
[16:12:30] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 260 seconds)
[16:13:10] *** Quits: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[16:13:19] *** Quits: CountryNerd (~CountryNe@184.53.1.83) (Remote host closed the connection)
[16:13:45] *** Joins: CountryNerd (~CountryNe@184.53.1.83)
[16:14:21] <cornelius> The interpreter would read the data contained in the script, decide where to
[16:14:21] <cornelius> modify only the data portion leaving bash code intact, all the written bytes
[16:14:22] <cornelius> appearing after code bytes, and simply exit after the write. I am not sure the
[16:14:22] <cornelius> interpreter is done reading the script before the write due to both buffering
[16:14:23] <cornelius> and script logic. Clearly, it is safer to separate the data file and the source
[16:14:23] <cornelius> file. Yet I was curious how to handle self-contained data, it seems to pose a
[16:14:24] <cornelius> lot of difficulties.
[16:14:56] *** Quits: gxt_ (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[16:15:15] *** Joins: m9hs (~m9hs@gateway/tor-sasl/m9hs)
[16:15:32] *** Joins: gxt_ (~gxt@gateway/tor-sasl/gxt)
[16:15:38] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Client closed)
[16:16:30] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[16:16:55] <Soliton> if this is about development then just keep script and data separate and only combine them for distribution.
[16:17:34] *** Quits: rundown (~eb0t@90.199.165.149) (Ping timeout: 258 seconds)
[16:17:54] *** Joins: speckz (~speckz@2600:1700:ce0:bf00:6026:a385:a065:7228)
[16:18:00] *** Quits: sarantos (~sarantos@46-118-6.adsl.cyta.gr) (Quit: Client closed)
[16:19:30] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[16:19:31] *** Joins: rundown (~eb0t@90.198.61.154)
[16:20:25] *** Quits: nattiestnate (~nate@2001:448a:20a0:4134:25e:715f:d637:5263) (Quit: WeeChat 3.3)
[16:20:56] *** Joins: zeden (~zeden@user/zeden)
[16:23:04] <cornelius> I originally thought not needing a target for reading data would reduce complexity, but it does not.
[16:23:37] *** Joins: zebrag (~chris@user/zebrag)
[16:24:02] *** Quits: clarkk (~clarkk@84.247.50.57) (Quit: Leaving)
[16:24:33] *** Joins: clarkk (~clarkk@84.247.50.45)
[16:25:16] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.3)
[16:25:34] *** Joins: ixosa (~xaaxor@251.222.198.146.dyn.plus.net)
[16:25:36] *** Joins: zro (~zro@user/zro)
[16:26:00] <wwilliam> If i executw a "script" to a remote server in the form of ssh server < bash script, and inside this script there is EOF to be executed on remote server, but then after it finish I want to execute rsync from remote server this can be done? because this looks like is doing the rsync from remote server to local and i need to do the rsync from local after the EOF on the remote server finishes.
[16:26:02] <wwilliam> https://paste.debian.net/1216240/
[16:26:14] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:26:15] <wwilliam> Remote and local servers have same name dirs.
[16:27:00] <wwilliam> sorry rsync is suppose to happen from local server after the EOF
[16:28:18] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 258 seconds)
[16:28:55] *** Quits: ravan (~ravan@user/ravan) (Ping timeout: 252 seconds)
[16:30:16] <Soliton> !check
[16:30:17] <checkbot> Soliton: Looks good to me
[16:31:02] <Soliton> rsync will be called after ssh terminated.
[16:31:30] *** Quits: legola (~legola@46.235.101.181) (Remote host closed the connection)
[16:31:45] *** Quits: ixosa (~xaaxor@251.222.198.146.dyn.plus.net) (Ping timeout: 258 seconds)
[16:31:57] <Soliton> the paste itself is a script that is run as  ssh server bash < script  ?
[16:32:27] *** Joins: iqofi (~ixosa@217.138.222.92)
[16:32:28] *** Joins: iomari891 (~iomari891@105.112.138.38)
[16:32:40] <Soliton> shouldn't really matter anyway afaict.
[16:33:57] <wwilliam> the paste itself is a script that is run as  ssh server bash < script  ? Yes.
[16:33:57] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[16:34:33] <wwilliam> the rsync is being executed from the remote, i dont want that i need to execute from local.
[16:34:41] <Soliton> so rsync is run on that server or what else do you expect?
[16:34:58] <Soliton> well, you're executing the script on the remote...
[16:35:23] <wwilliam> anyway to add something to the script to execute from local on the same script?
[16:35:25] <Soliton> don't put the rsync command in there if you don't want it executed on the remote.
[16:35:39] <Soliton> how could that possibly work?
[16:36:04] <wwilliam> Wellyou guys have so many tricks I thought it could be done.
[16:36:17] <Soliton> ssh server bash < script; rsync ...
[16:36:40] <wwilliam> Ahhh Thanks.
[16:39:30] *** Quits: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is) (Quit: SO LONG SUCKERS!)
[16:40:52] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[16:44:01] *** Joins: mike18 (~geri@216.200.232.252)
[16:44:19] *** Quits: m9hs (~m9hs@gateway/tor-sasl/m9hs) (Remote host closed the connection)
[16:44:41] <mike18> hi i have echo "7599362, 8692782, 7598327\n9365420" ... numbers in each row separated by , ... how can i count all numbers in each row?
[16:44:54] *** Quits: Strom (strom@fedora/strom) ()
[16:45:15] *** Quits: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 260 seconds)
[16:46:24] *** Joins: joo (~joo@87-49-147-167-mobile.dk.customer.tdc.net)
[16:46:24] *** Quits: joo (~joo@87-49-147-167-mobile.dk.customer.tdc.net) (Changing host)
[16:46:24] *** Joins: joo (~joo@fsf/member/joo--)
[16:46:40] *** Quits: aniruddha (uid340443@id-340443.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[16:46:46] *** Joins: joo-_ (~joo-_@87-49-147-167-mobile.dk.customer.tdc.net)
[16:46:46] *** Quits: joo-_ (~joo-_@87-49-147-167-mobile.dk.customer.tdc.net) (Changing host)
[16:46:46] *** Joins: joo-_ (~joo-_@fsf/member/joo--)
[16:46:54] <omegatron> IFS=, read -r -a list <<<"row" ; count="${#list[@]}" ;     for example
[16:46:59] *** Joins: Strom (strom@fedora/strom)
[16:47:06] <cornelius> tr ',' '+' <file | bc
[16:47:14] *** Quits: cornelius (~cornelius@2a01cb0d04e290000a0027fffe32ed70.ipv6.abo.wanadoo.fr) (Quit: Client closed)
[16:48:38] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[16:49:47] <mike18> how to get it for each row?
[16:49:55] <mike18> oh tr
[16:49:57] <Soliton> count the numbers or add them together?
[16:50:18] <mike18> add them per row
[16:50:38] <mike18> e.g. echo "7599362, 8692782, 7598327\n9365420" -> 3 1
[16:50:46] *** Joins: cornelius (~cornelius@2a01cb0d04e290000a0027fffe32ed70.ipv6.abo.wanadoo.fr)
[16:50:54] <mike18> row1 = 3, row2 = 1
[16:51:01] <Soliton> how is that adding?
[16:51:08] <Soliton> so counting i guess.
[16:51:17] <Soliton> # printf "7599362, 8692782, 7598327\n9365420" | awk -F, '{print NF}'
[16:51:19] <shbot> Soliton: 3
[16:51:19] <shbot> Soliton: 1
[16:51:57] *** Joins: carlos (~pum@user/carlos)
[16:51:58] *** Joins: pa (~smuxi@86-95-132-61.fixed.kpn.net)
[16:58:48] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[16:59:42] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[17:00:42] *** Joins: igemnace (~ian@user/igemnace)
[17:00:49] *** Joins: ham5urg (~ham5urg@p200300d1671129005c59fed3240d00af.dip0.t-ipconnect.de)
[17:02:00] <ham5urg> Is there a command to check if a string which contains a path to a file is valid in that way that a file with such path "could be" created?
[17:03:16] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[17:03:17] <omegatron> define "could be" ... regarding permissions, an existing parent directory or what?
[17:04:17] <emanuele6> you can try to create it and then check the return value to see if it was created
[17:04:18] <omegatron> you could just try to create the file with  'touch'  and if it succeeds .. well do whatever, otherwise you know you can't create it
[17:04:39] <emanuele6> omegatron: you don't need touch: >> filename
[17:04:56] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[17:05:05] *** Joins: xiongxin (~quassel@113.116.32.4)
[17:05:06] <omegatron> I know - it was just an example
[17:05:08] <emanuele6> >> filename will create a file named "filename" if it does not exist and it will do nothing if it exists
[17:05:08] <ham5urg> I hoped to avoid the creation but ok.
[17:05:23] <emanuele6> touch messes with the modification date
[17:05:45] <ham5urg> some dry-run creation
[17:06:13] <phy1729> ham5urg: are you doing this in shell or in python?
[17:06:36] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[17:07:26] <ham5urg> both
[17:07:42] *** Joins: totenkoph (~scythe@user/totenkoph)
[17:07:42] *** Joins: sarantos (~sarantos@46-118-6.adsl.cyta.gr)
[17:08:32] *** Quits: cornelius (~cornelius@2a01cb0d04e290000a0027fffe32ed70.ipv6.abo.wanadoo.fr) (Quit: Client closed)
[17:09:13] <phy1729> It's easier if you stick with not shell where you can use the access syscall
[17:09:49] *** Joins: semeion (~semeion@user/semeion)
[17:11:03] <furrymcgee> # printf "7599362, 8692782, 7598327\n9365420" | while read; do set $REPLY; echo $#; done
[17:11:05] <shbot> furrymcgee: 3
[17:11:26] <furrymcgee> how to read second line?
[17:11:40] <phy1729> end it with a newline
[17:11:41] <Soliton> add the missing newline.
[17:12:05] *** Quits: mike18 (~geri@216.200.232.252) (Ping timeout: 260 seconds)
[17:12:21] <Soliton> # printf "7599362,8692782,7598327\n9365420\n" | while read; do set $REPLY; echo $#; done
[17:12:22] <shbot> Soliton: 1
[17:12:22] <shbot> Soliton: 1
[17:13:21] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[17:13:38] *** Quits: timj (~timj@user/timj) (Ping timeout: 260 seconds)
[17:14:37] *** Joins: totenkoph (~scythe@user/totenkoph)
[17:16:01] *** Quits: CountryNerd (~CountryNe@184.53.1.83) (Read error: Connection reset by peer)
[17:17:02] *** Joins: CountryNerd (~CountryNe@184.53.1.83)
[17:17:15] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Quit: Leaving)
[17:17:20] *** Joins: foo (~foo@user/foo/x-8763512)
[17:17:26] *** Parts: foo (~foo@user/foo/x-8763512) ()
[17:17:44] *** Quits: humky (~humky@user/humky) (Quit: Leaving)
[17:18:38] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[17:18:41] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[17:19:26] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Remote host closed the connection)
[17:19:34] *** Joins: totenkoph (~scythe@user/totenkoph)
[17:19:53] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[17:23:12] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Remote host closed the connection)
[17:24:31] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[17:25:06] *** Quits: manic_laughter70 (~manic_lau@2409:4072:515:92f1:37b8:5710:9004:1b9f) (Quit: Leaving)
[17:25:35] *** Joins: kj (~kj@beta.aerisnetwork.net)
[17:26:47] *** Joins: timj (~timj@user/timj)
[17:27:32] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[17:31:36] *** Quits: mozgalom (~mozgalom@194.144.47.113) (Quit: SO LONG SUCKERS!)
[17:31:52] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[17:32:19] *** Joins: magla (~gelignite@55d47f25.access.ecotel.net)
[17:32:20] <chilversc> is there a shortcut for; foo="$foo" ./command; if I don't want to export foo?
[17:32:52] *** Quits: gxt_ (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[17:32:52] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[17:33:24] *** Joins: gxt_ (~gxt@gateway/tor-sasl/gxt)
[17:33:28] *** Joins: totenkoph (~scythe@user/totenkoph)
[17:33:37] <omegatron> sure .. just do   ./command
[17:33:59] <chilversc> but then foo isn't available in command's environment
[17:34:17] <Soliton> how much shorter do you expect it to be?
[17:34:20] <omegatron> you said, you don't want to export foo
[17:34:24] <dodo> set the env in the script? hard to tell what you need
[17:34:24] *** Joins: CodePoint (~CodePoint@107-208-128-79.lightspeed.tukrga.sbcglobal.net)
[17:34:30] <dodo> read it from a config file?
[17:34:38] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7) (Quit: enoq)
[17:34:39] <emanuele6> dodo: what is the point?
[17:34:46] <emanuele6> foo="$foo" ./command
[17:34:52] <emanuele6> ^ that does not export foo
[17:34:52] <dodo> emanuele6: i don't know what they want
[17:34:55] <chilversc> I mean I don't want to have "export foo", i.e. so that the variable isn't automatically included in the environment for other commands
[17:35:13] <emanuele6> dodo: yes, but what is the point that would be the same as foo=$foo command
[17:35:20] <Soliton> you can leave out the quotes if that helps...
[17:35:30] <dodo> no, you wouldn't have to set the env manually every time you use the command
[17:35:58] <dodo> the goal could be to type less, like i said, hard to tell
[17:36:31] <chilversc> yeah, I just want to avoid the repetition, so I can just list the variables in the local script that I want to pass through as envvars to the command
[17:36:35] <dodo> if the goal is not to "pollute" the env, don't get it from there
[17:37:10] <omegatron> where do you export foo?   VAR=VALUE ./command   sets VAR only for command
[17:38:02] <chilversc> exactly, so if I have something like; `foo="some value"; foo="$foo" ./command` I was just wondering if I could avoid the repetition
[17:38:46] *** Quits: zro (~zro@user/zro) (Ping timeout: 252 seconds)
[17:39:30] <osse> (export foo; ./command)
[17:39:41] <osse> Might be shortcut if you have long env var names'
[17:39:42] <e36freak> kurahaupo_: fair enough about execve vs fork, minimizing external commands is definitely the name of the game
[17:39:45] <omegatron> and what export VAR=VAL ; ./command1 ; ./command2 ; unset VAR    ?
[17:39:57] <omegatron> +about
[17:40:33] <omegatron> with or without export ..
[17:40:37] <e36freak> it'd probably be better to store the old value first and put it back
[17:40:41] <e36freak> instead of unsetting
[17:40:45] <e36freak> but why not use a subshell?
[17:40:48] *** Quits: xiongxin (~quassel@113.116.32.4) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[17:41:01] <chilversc> yeah, a subshell would probably work nicely here
[17:41:18] <e36freak> osse already suggested that
[17:41:33] *** Joins: Sayona (~Sayona@user/sayona)
[17:42:19] <chilversc> yeah, I was just looking at that suggestion, especially as its a function so I can just have; bar() ( export foo; ./command )
[17:42:51] *** Quits: DeaDSouL (~DeaDSouL@45.91.20.148) (Quit: leaving)
[17:42:52] <e36freak> you could also you could also put the commands in a function and do var=foo func
[17:43:25] <Soliton> they don't want to repeat the variable name in VAR=$VAR.
[17:43:26] <osse> if the env var's name is six characters or longer then it's a net save to use (export...)
[17:43:28] *** Joins: DeaDSouL (~DeaDSouL@194.195.91.4)
[17:43:33] <Soliton> must be really long variable names.
[17:43:37] <e36freak> Soliton: ah
[17:44:00] <e36freak> all those pesky characters
[17:44:03] <e36freak> so mucm bloat
[17:44:28] <chilversc> it's actually about 3 variables, about 30 characters in total but they're stored in a function local hence why I didn't want to use export
[17:44:31] <osse> makes sense if you need to export COMPANY_NAME_PRODUCT_SOME_CONFIG_PARAMETER
[17:44:43] <chilversc> but I can just make the whole function a subshell, forgot about that as I normally avoid creating subshells
[17:45:08] <emanuele6> e36freak: declare +x VAR can also be used to unexport
[17:45:16] <omegatron> premature optimization is the root of all evil ..
[17:46:40] <omegatron> just write down the stuff in a function and call that ; the time loss by thinking about "where can I optimize here and there" as a novice shell programmer is worse
[17:46:45] *** Quits: CodePoint (~CodePoint@107-208-128-79.lightspeed.tukrga.sbcglobal.net) (Quit: CodePoint)
[17:47:06] <Soliton> odd to have lower case env vars anyway.
[17:47:40] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[17:48:19] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[17:48:48] *** Joins: ravan (~ravan@user/ravan)
[17:51:17] *** Joins: zro (~zro@user/zro)
[17:51:32] *** Quits: DeaDSouL (~DeaDSouL@194.195.91.4) (Quit: leaving)
[17:53:32] *** Joins: DeaDSouL (~DeaDSouL@194.195.91.4)
[17:57:59] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 264 seconds)
[17:58:09] *** Joins: han-solo (~hanish@user/han-solo)
[17:59:17] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[18:01:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[18:04:44] *** Quits: clarkk (~clarkk@84.247.50.45) (Quit: Leaving)
[18:05:47] *** Joins: aniruddha (uid340443@id-340443.ilkley.irccloud.com)
[18:06:28] *** Joins: SteveR (~SteveR@103.215.168.1)
[18:07:23] *** Quits: earendel (uid498179@user/earendel) (Quit: Connection closed for inactivity)
[18:08:22] *** Joins: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[18:10:03] *** Joins: rgrinberg (~textual@ip152-195-159-186.ct.co.cr)
[18:12:18] *** Quits: relight (~relight@user/relight) (Quit: Konversation terminated!)
[18:13:43] *** Joins: ChmEarl (~chmearl@user/chmearl)
[18:14:16] *** Joins: dsrt^ (~dsrt@wsip-68-227-92-38.mc.at.cox.net)
[18:16:30] *** Joins: fatal (~0x00@user/fatal)
[18:18:25] *** Joins: jdltouraine_ (~jdltourai@109.131.229.44)
[18:19:33] *** Quits: prifici (~patri@user/prifici) (Quit: Off to work or bed.)
[18:20:55] *** Quits: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[18:28:39] *** Joins: Payam (~Payam@138.106.57.131)
[18:29:16] *** Quits: sarantos (~sarantos@46-118-6.adsl.cyta.gr) (Quit: Client closed)
[18:29:55] *** Joins: A|an (~Alan@173.216.51.200)
[18:31:21] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.3)
[18:32:46] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[18:34:25] *** Quits: zouhair (~zouhair@lnsm3-montreal02-142-119-71-187.internet.virginmobile.ca) (Ping timeout: 258 seconds)
[18:35:37] *** Joins: jab416171 (~jab416171@c-67-161-208-101.hsd1.ut.comcast.net)
[18:36:31] *** Joins: zouhair (~zouhair@142.184.119.216)
[18:36:47] *** Joins: legola (~legola@46.235.101.181)
[18:39:57] <earnestly> Rarely I do that if I'm using envs as some kind of internal ipc
[18:40:03] <earnestly> Like for awk
[18:41:32] *** Quits: dsrt^ (~dsrt@wsip-68-227-92-38.mc.at.cox.net) (Remote host closed the connection)
[18:41:55] *** Quits: jdltouraine_ (~jdltourai@109.131.229.44) (Ping timeout: 260 seconds)
[18:43:15] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[18:44:53] *** Joins: jdltouraine_ (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[18:45:07] *** Quits: rufito (~phil@186.11.59.164) (Quit: Leaving)
[18:49:42] *** Quits: irrgit (~irrgit@192.241.175.183) (Remote host closed the connection)
[18:51:01] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[18:51:27] *** Quits: speckz (~speckz@2600:1700:ce0:bf00:6026:a385:a065:7228) (Quit: Textual IRC Client: www.textualapp.com)
[18:53:20] *** Joins: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar)
[18:53:53] *** Joins: richardm75_ (~richardm7@2600:8801:c50a:9f00:3494:b86f:9160:3ada)
[18:54:07] *** Quits: jkwnki (~jkwnki@p4fedba8f.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[18:54:09] *** Quits: legola (~legola@46.235.101.181) (Remote host closed the connection)
[18:55:21] *** Joins: elkalamar__ (elkalamar@gateway/vpn/airvpn/elkalamar)
[18:56:11] *** Quits: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 264 seconds)
[18:56:30] *** Quits: jdltouraine_ (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[18:58:15] *** Quits: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 260 seconds)
[18:59:04] *** Quits: ttyX (~ttyX@user/ttyx) (Ping timeout: 252 seconds)
[19:00:49] *** Quits: Payam (~Payam@138.106.57.131) (Ping timeout: 256 seconds)
[19:05:29] *** Quits: brettgilio (~brettgili@x-node.gq) (Quit: Leaving...)
[19:08:20] *** Joins: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net)
[19:10:05] *** Joins: brettgilio (~brettgili@x-node.gq)
[19:10:41] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[19:13:00] *** Joins: TomyWork (~TomyLobo@p200300e80f06af00156ca066455fed1f.dip0.t-ipconnect.de)
[19:18:02] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[19:23:52] *** Quits: magla (~gelignite@55d47f25.access.ecotel.net) (Quit: Stay safe!)
[19:25:52] *** Joins: bn_work (uid268505@id-268505.uxbridge.irccloud.com)
[19:29:45] *** Quits: Gerula (~Gerula@user/gerula) (Quit: Leaving)
[19:29:53] *** Quits: timj (~timj@user/timj) (Ping timeout: 265 seconds)
[19:31:17] *** Quits: wolfgang (~wolfgang@101.174.167.116) (Remote host closed the connection)
[19:33:13] *** Joins: ayusta (Thunderbir@gateway/vpn/protonvpn/ayustae)
[19:33:14] *** Quits: SteveR (~SteveR@103.215.168.1) (Quit: Client closed)
[19:33:50] *** Quits: pa (~smuxi@86-95-132-61.fixed.kpn.net) (Read error: Connection reset by peer)
[19:34:29] *** Joins: p-i- (~Ohmu@mx-ll-223.206.147-206.dynamic.3bb.co.th)
[19:35:02] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 260 seconds)
[19:35:03] *** ayusta is now known as ayustae
[19:36:15] *** Joins: pa (~smuxi@86-95-132-61.fixed.kpn.net)
[19:36:25] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[19:37:05] *** Quits: justHaunt (~justache@user/justache) (Read error: Connection reset by peer)
[19:37:27] *** Quits: Inline (~Inline@2a02:908:1252:7a80:89dc:6a58:9f2a:ff3d) (Quit: Leaving)
[19:37:52] *** Joins: justHaunt (~justache@user/justache)
[19:37:55] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 260 seconds)
[19:42:25] *** Joins: superboot (~agentgasm@user/superboot)
[19:42:59] *** Quits: thiras (~thiras@user/thiras) (Quit: Leaving)
[19:45:05] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[19:45:15] *** Joins: alzgh (~alzgh@user/alzgh)
[19:45:28] *** Joins: timj (~timj@user/timj)
[19:48:40] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[19:49:34] *** Joins: Inline (~Inline@2a02:908:1252:7a80:89dc:6a58:9f2a:ff3d)
[19:51:18] *** Joins: igemnace (~ian@user/igemnace)
[19:55:19] *** Quits: edlou (uid413273@helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[19:56:45] *** Joins: Gerula (~Gerula@user/gerula)
[19:58:00] *** Quits: Gerula (~Gerula@user/gerula) (Remote host closed the connection)
[19:58:25] *** Joins: Gerula (~Gerula@user/gerula)
[19:59:12] *** Joins: mat001 (~mat001@213.143.69.121)
[20:00:10] *** Joins: p3hz (~p3hz@96.44.189.195.adsl.inet-telecom.org)
[20:04:05] *** Quits: mat001 (~mat001@213.143.69.121) (Remote host closed the connection)
[20:04:49] <dermoth> hey there.. any ideas why this works everywhere excape on my local debian interactive shell? (my initial question was going to be is it expected/documented behavior, i.e. can I rely on this in the futture...)
[20:04:52] <dermoth> # f() { f2; echo "var is ${var-unset}"; }; f2() { local var=foo; f3 var; echo "var is now $var"; }; f3() { local ref=$1; local "$ref=bar"; }; f
[20:04:54] <shbot> dermoth: var is now foo
[20:04:54] <shbot> dermoth: var is unset
[20:05:10] <dermoth> ha nm
[20:05:46] *** Joins: magla (~gelignite@55d47f25.access.ecotel.net)
[20:05:52] <dermoth> I somehow had set var before (I shought I unset it, typo...)
[20:05:58] <dermoth> so...
[20:06:35] <dermoth> is it ok to rely on this... basically I set a local variable in a function, pass it as reference to another where I want to change the value
[20:06:46] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[20:07:50] <Soliton> if you're fine with code injection, sure.
[20:08:34] *** Quits: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053) (Quit: WeeChat 3.3)
[20:08:38] *** Quits: han-solo (~hanish@user/han-solo) (Ping timeout: 260 seconds)
[20:09:26] *** Joins: bart (~bart@68.239.44.122)
[20:10:44] *** Quits: smlavine (~smlavine@sourcehut/user/smlavine) (Quit: nyaa~)
[20:11:55] *** Quits: bart (~bart@68.239.44.122) (Remote host closed the connection)
[20:14:33] <dermoth> well the reference is hardcoded in the outer variable
[20:14:44] <dermoth> just saves having to capture the new value and assign it
[20:14:47] *** Quits: BSaboia (~bsaboia@187.19.138.198) (Quit: This computer has gone to sleep)
[20:14:52] <dermoth> in theouter function
[20:15:27] <Soliton> you can just use fixed variable names.
[20:16:11] <dermoth> well I don't always pass the same name
[20:18:25] <xx> Soliton: how does that allow for code injection?
[20:18:59] <Soliton> # f3() { local ref=$1; local "$ref=bar"; }; f3 'var[$(echo oops >&2)]'
[20:19:01] <shbot> Soliton: oops
[20:20:38] *** Quits: TJ- (~root@2a01:7e00:e001:ee00:fa75:a4ff:fef3:42b4) (Quit: WeeChat 2.8)
[20:20:57] *** Joins: TJ- (~root@2a01:7e00:e001:ee00:fa75:a4ff:fef3:42b4)
[20:23:17] *** Joins: mmercer (daemoen@2605:d100:0:2d:5054:ff:fef0:3953)
[20:25:54] *** Quits: carlos (~pum@user/carlos) (Remote host closed the connection)
[20:27:26] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[20:31:32] *** Joins: carlos (~pum@user/carlos)
[20:32:09] *** Quits: TomyWork (~TomyLobo@p200300e80f06af00156ca066455fed1f.dip0.t-ipconnect.de) (Quit: Leaving)
[20:33:17] *** Joins: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053)
[20:34:34] <xx> I have no idea why that works
[20:35:02] <xx> or how to avoid it
[20:35:06] <emg> xx: sadly namerefs are broken by design, best to avoid them
[20:35:33] *** Quits: ano (~ano@user/ano) (Remote host closed the connection)
[20:36:06] *** Joins: ano (~ano@user/ano)
[20:36:27] <xx> making a note of that, thanks
[20:36:53] <xx> so basically never do: $somevariable=anythinghere
[20:37:17] <emg> (as with many sharp tools there are certain circumstance they may be useful if you are in control of all the moving parts or fully trust the incoming data, but a general guideline is avoid them)
[20:37:55] <xx> I think the modern way all computing is done is that the user has zero control over anything, and everything is done by someone else on someone elses computer, so yeah
[20:38:16] <omegatron> maybe in your world ..
[20:38:35] <xx> omegatron: use the web with enabled javascript?
[20:38:38] <omegatron> amg: care to elaborate, why you think that namerefs are broken by design?
[20:39:07] <omegatron> try to use it with disabled javascript .. works in most cases (for me)
[20:39:49] <emg> omegatron: https://mywiki.wooledge.org/BashFAQ/048#The_problem_with_bash.27s_name_references
[20:39:49] <omegatron> besides, don't blame the tool, if you mean "evil" people or corporations
[20:40:47] *** Joins: han-solo (~hanish@user/han-solo)
[20:41:23] <hyrcanus> ever play Omega Race, omegatron ?
[20:42:29] <omegatron> ... as with everything else, you have to know / learn what you are doing, namerefs are no exception ... anything can be misused
[20:42:39] <omegatron> no, I don't know "Omega Race"
[20:43:37] <emanuele6> another problem with namerefs is that if you use them in a function to reference global variables, you have to check that the name of the nameref doesn't collide with the value of the nameref
[20:43:59] *** Joins: malina (~malina@user/malina)
[20:44:20] <emanuele6> # f3() { local -n ref=$1; ref=$2 ;}; f3 'ref' 2; declare -p ref
[20:44:27] <shbot> emanuele6: bash: local: warning: ref: circular name reference
[20:44:27] <shbot> emanuele6: bash: warning: ref: circular name reference
[20:44:27] <shbot> emanuele6: etc... ( http://ix.io/3Cqa )
[20:44:46] <emanuele6> # f3() { [[ $1 == ref ]] || local -n ref=$1; ref=$2 ;}; f3 'ref' 2; declare -p ref
[20:44:48] <shbot> emanuele6: declare -- ref="2"
[20:45:09] <emanuele6> but even if you do that, they are still broken because they evaluate code
[20:46:03] *** Joins: zfigz (~Adium@38.142.75.122)
[20:50:20] *** Quits: invra (~invra@mail.aletheianature.es) (Quit: WeeChat 3.0)
[20:51:06] *** Quits: haliucinas (~haliucina@5.20.153.21) (Remote host closed the connection)
[20:52:30] *** Quits: malina (~malina@user/malina) (Ping timeout: 260 seconds)
[20:53:04] *** Joins: malina (~malina@user/malina)
[20:53:11] *** Quits: jab416171 (~jab416171@c-67-161-208-101.hsd1.ut.comcast.net) (Ping timeout: 264 seconds)
[20:53:40] *** Joins: mat001 (~mat001@213.143.69.121)
[20:53:50] *** Joins: haliucinas (~haliucina@5.20.153.21)
[20:54:59] *** Quits: murder (mdr@chton.secunit.org) (Ping timeout: 264 seconds)
[20:55:29] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 258 seconds)
[20:55:40] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Remote host closed the connection)
[20:56:24] *** Quits: rgrinberg (~textual@ip152-195-159-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:57:12] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[20:57:45] *** Joins: jab416171 (~jab416171@c-67-161-208-101.hsd1.ut.comcast.net)
[20:58:23] *** Joins: rgrinberg (~textual@201.182.226.118)
[20:58:48] *** Quits: Bhavuk (~BTaneja@103.132.28.60) (Quit: Leaving)
[20:59:31] *** Joins: invra (~invra@mail.aletheianature.es)
[21:00:15] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[21:00:38] *** Quits: invra (~invra@mail.aletheianature.es) (Client Quit)
[21:01:28] *** Quits: sublim20 (~sublim20@user/sublim20) (Read error: Connection reset by peer)
[21:01:34] *** Joins: Hackerpcs (~user@user/hackerpcs)
[21:01:57] *** Joins: wolfgang (~wolfgang@101.174.167.116)
[21:02:04] *** Joins: bancroft (~bancroft@bras-base-mtrlpq02hsy-grc-06-174-93-254-50.dsl.bell.ca)
[21:02:22] <bancroft> so the & at the end of the command puts stuff in the background, but if I chain a bunch of them will it all be the same process?
[21:02:40] <bancroft> like python & python& python& python& ...
[21:02:59] <emg> all different processes
[21:04:00] *** Joins: yuesbeez (uid458354@id-458354.tinside.irccloud.com)
[21:04:17] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[21:04:43] *** Joins: invra (~invra@mail.aletheianature.es)
[21:05:57] *** gordonfish- is now known as gordonfish
[21:07:07] <twkm> even just one is a different process -- only exec can avoid that, but the current shell goes away then.
[21:07:34] *** Quits: CountryNerd (~CountryNe@184.53.1.83) (Quit: Textual IRC Client: www.textualapp.com)
[21:08:39] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Client Quit)
[21:09:57] <emanuele6> if you want to run them one after the other in the same background job: { python; python; python; python; ... ;} &
[21:10:03] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[21:10:47] *** Quits: malina (~malina@user/malina) (Remote host closed the connection)
[21:10:51] <emanuele6> # sleep 1 & echo hello &
[21:10:53] <shbot> emanuele6: [1] 51
[21:10:53] <shbot> emanuele6: [2] 52
[21:10:53] <shbot> emanuele6: hello
[21:11:09] <emanuele6> # { sleep 1; echo hello ;} &
[21:11:10] <shbot> emanuele6: [1] 51
[21:11:27] <emanuele6> # { sleep 1; echo hello ;} & wait
[21:11:29] <shbot> emanuele6: [1] 51
[21:11:29] <shbot> emanuele6: hello
[21:11:29] <shbot> emanuele6: [1]+  Done                    { sleep 1; echo hello; }
[21:11:59] *** Quits: hesse (~TheHerman@gateway/tor-sasl/thehermann) (Quit: Leaving)
[21:13:07] <bancroft> that's cool, thanks for explaining :) and awesome shbot, is there docs for it anywhere?
[21:13:40] <emanuele6> for shbot?
[21:13:46] <emg> !shbot > bancroft
[21:13:46] <greybot> bancroft: shbot runs each session in a new VM as root. Feel free to play with the bot in #evalbot. | Original: http://www.vidarholen.net/contents/evalbot/ | geirha's fork: https://gitlab.com/geirha/shbot | current triggers: /msg shbot triggers
[21:14:21] <bancroft> yes for shbot, that's so cool!
[21:17:35] <dermoth> Soliton, yes I know I can abuse f3, and I send it only trusted data. if not I could probably just use ${ref//[^A-Sa-z0-9_]}
[21:18:15] <dermoth> # f3() { local ref=$1; local "${ref//[^A-Sa-z0-9_]}=bar"; }; f3 'var[$(echo oops >&2)]'
[21:18:16] <shbot> dermoth: no output
[21:18:45] <dermoth> I meant ${ref//[^A-Za-z0-9_]}
[21:18:51] <emanuele6> dermoth: ! instead of ^
[21:19:02] <emanuele6> bash allows ^, but you should use !
[21:19:15] <dermoth> what's the difference?
[21:19:19] <dermoth> ah
[21:19:21] <dermoth> ok
[21:19:39] <dermoth> even shellcheck never bothered
[21:20:10] *** Joins: chiselfuse (~chiselfus@user/chiselfuse)
[21:20:10] <emanuele6> also A-Z and a-z and 0-9 are also non portable
[21:20:22] *** Joins: Spawns_Carpeting (~Spawns_Ca@user/spawns-carpeting/x-6969421)
[21:20:56] <emanuele6> but even in bash, regexes, etc., they should be avoided unless LC_COLLATE=C
[21:21:20] *** Quits: vaio (~gary@user/ghost) (Remote host closed the connection)
[21:21:23] *** Quits: p-i- (~Ohmu@mx-ll-223.206.147-206.dynamic.3bb.co.th) (Ping timeout: 264 seconds)
[21:21:47] <emanuele6> prefer character classes
[21:21:50] *** Joins: vaio (~gary@user/ghost)
[21:22:02] <hyrcanus> i wish i could have your knowledge implanted into my brain
[21:22:16] <dermoth> Egreed, though for variable names, it should be ok
[21:22:18] <dermoth> Agreed
[21:22:25] <emanuele6> ${ref//[![:alnum:]_]}
[21:23:19] <emanuele6> [A-Z] will include all the character that are between A and Z in lexicographical (alphabetical) order according to the locale
[21:24:01] <dermoth> # LANG=en_US.UTF8; ref='foo_àèìòù'; echo ${ref//[![:alnum:]_]}
[21:24:03] <shbot> dermoth: foo_àèìòù
[21:24:04] <emanuele6> but for this specific usecase, even ${ref//[![:alnum:]_]} won't be good
[21:24:07] <emanuele6> exactly
[21:25:00] <emanuele6> you need to either force LC_CTYPE=C in the function and use [:alnum:] or force LC_COLLATE=C and use [A-Za-z0-9], but always prefer char classes
[21:25:30] <emanuele6> especially in globs [A-Z] is portable for regexes, but it is a bash extension in globs
[21:26:44] *** Joins: odoood (~odoood@2601:c8:c003:a550::3)
[21:30:20] *** Joins: sublim20 (~sublim20@user/sublim20)
[21:30:22] <emanuele6> dermoth: i just checked, shellcheck does complain about the use of ^ instead of ! in globs, but it only does it in /bin/sh scripts
[21:30:24] <dermoth> I'm familiar with that... there's also some fun stuff with char ranges and accents... though I can't find back the right sintax...something with [=e=] or [.e.]
[21:30:32] <dermoth> ah
[21:30:43] <emanuele6> since [^a] is valid bash, so it would be silly to complain
[21:30:51] *** Joins: brianward (~brianward@174-21-4-6.tukw.qwest.net)
[21:31:04] <emanuele6> and it is also valid in most other shells like dash
[21:32:34] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[21:32:52] *** Joins: jkwnki (~jkwnki@p4fedba8f.dip0.t-ipconnect.de)
[21:32:56] *** Quits: brianward (~brianward@174-21-4-6.tukw.qwest.net) (Client Quit)
[21:33:16] <emanuele6> actually, it's not valid in dash
[21:33:58] <emanuele6> shellcheck doesn't complain about that in /bin/dash scripts which is probably a bug
[21:34:19] *** Quits: sublim20 (~sublim20@user/sublim20) (Client Quit)
[21:36:09] *** Joins: zoe (~zoe@fsf/member/zoe)
[21:37:46] <dermoth> so this works...
[21:37:50] <dermoth> # LANG=en_US.UTF-8; var="abcdeéèêëef="; echo ${var//[[.e.]-[.f.]]/_}
[21:37:51] <shbot> dermoth: abcd_______=
[21:38:12] <dermoth> but my understanding is that should remove all accented e's
[21:38:16] <dermoth> # LANG=en_US.UTF-8; var="abcdeéèêëef="; echo ${var//[[=e=]]/_}
[21:38:18] <shbot> dermoth: abcd______f=
[21:38:32] <dermoth> well it doesn't work on my shell :/
[21:38:50] <dermoth> $ env|grep -E LANG\|LC
[21:38:50] <dermoth> GDM_LANG=en_CA.utf8
[21:38:50] <dermoth> LANG=en_CA.utf8
[21:40:03] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[21:46:23] <dermoth> # LANG=en_CA.UTF-8; var="abcdeéèêëef="; echo ${var//[[=e=]]/_}
[21:46:24] <shbot> dermoth: abcd_éèêë_f=
[21:46:29] <dermoth> ah...
[21:46:31] <dermoth> odd
[21:46:35] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[21:47:02] <tirnanog> not really.
[21:47:08] <dermoth> and if I set LANG=en_US.UTF-8 locally it doesn'T work...
[21:47:08] <emanuele6> actually, shellcheck explicitly ignores dash
[21:47:09] <tirnanog> # locale -a | tr '\n' ' '
[21:47:11] <shbot> tirnanog: C POSIX de_DE.utf8 en_US.utf8 et_EE.utf8 nb_NO.utf8
[21:47:16] *** Joins: totenkoph (~scythe@user/totenkoph)
[21:47:29] <emanuele6> so i think that it intentionally doesn't report it
[21:48:00] *** Quits: timj (~timj@user/timj) (Ping timeout: 258 seconds)
[21:48:56] *** Quits: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Quit: WeeChat 3.0)
[21:49:19] <emanuele6> bashism (T_Glob id str) | not isDash && "[^" `isInfixOf` str = warnMsg id 3026 "^ in place of ! in glob bracket expressions is"
[21:49:39] *** Joins: testuser321 (~wandering@115.187.42.228)
[21:50:03] <emanuele6> i think it simply doesn't report it because, after all, it is valid dash code which simply has a different meaning
[21:51:38] <dermoth> so why wouldn't my local bash respect ctypes?
[21:52:14] *** Quits: jkwnki (~jkwnki@p4fedba8f.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[21:52:26] <emanuele6> what example are you talking about?
[21:52:34] <tirnanog> are you sure that the locale is available?
[21:52:46] <tirnanog> that's probably the first thing to check.
[21:53:23] <emanuele6> bash will warn you if you set an LC_ variable to an unavailable locale
[21:53:34] <emanuele6> but not if you set an unavailable LANG
[21:53:55] <emanuele6> # LC_COLLATE=en_US.UTF-8
[21:53:57] <shbot> emanuele6: no output
[21:54:04] <emanuele6> # LC_COLLATE=en_CA.UTF-8
[21:54:06] <shbot> emanuele6: bash: warning: setlocale: LC_COLLATE: cannot change locale (en_CA.UTF-8): No such file or directory
[21:54:37] <emanuele6> # LANG=asd; declare -p LC_CTYPE
[21:54:38] <shbot> emanuele6: bash: declare: LC_CTYPE: not found
[21:54:49] <emanuele6> right
[21:54:52] <emanuele6> # LANG=asd; locale
[21:54:55] <shbot> emanuele6: LANG=
[21:54:55] <shbot> emanuele6: LANGUAGE=
[21:54:55] <shbot> emanuele6: etc... ( http://ix.io/apA )
[21:54:59] *** Quits: iqofi (~ixosa@217.138.222.92) (Remote host closed the connection)
[21:55:10] *** Joins: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[21:55:38] <emanuele6> on my system LANG=asd; locale shows everything set to "asd", so i guess it also depends on the implementation of locale
[21:59:01] <dermoth> well if I export it, local report the same for shbot and my shell (tested privately)
[21:59:01] *** Quits: pa (~smuxi@86-95-132-61.fixed.kpn.net) (Read error: Connection reset by peer)
[21:59:14] <dermoth> locale reports
[22:01:10] <tirnanog> presumably, you ignored the demonstration of en_CA.utf8 not being available to shbot. you really need to be certain.
[22:01:13] <dermoth> and nothing appears ot be missing when I strace with -estat,open,openat
[22:01:31] <dermoth> yes I did, but en_US works, and I have both locales installed
[22:02:15] *** Joins: pa (~smuxi@86-95-132-61.fixed.kpn.net)
[22:02:25] <emanuele6> huh, on the wiki page for SC3026 shellcheck says that dash accepts [^c] as "any character except c", but that is not true
[22:02:38] *** Joins: timj (~timj@user/timj)
[22:02:52] <tirnanog> dermoth: if it's shown by locale -a, it should work, yes. what's the libc implementation?
[22:02:57] <dermoth> why is it not true?
[22:03:53] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Remote host closed the connection)
[22:04:03] <emanuele6> d# : >> a; : >> b; : >> c; for i in [^a]; do printf 'match: %s\n' "$i"; done
[22:04:04] <dermoth> ii  libc6:amd64    2.31-13      amd64        GNU C Library: Shared libraries
[22:04:06] <shbot> emanuele6: match: a
[22:04:07] <dermoth> latest debian
[22:04:10] <emanuele6> d# : >> a; : >> b; : >> c; for i in [!a]; do printf 'match: %s\n' "$i"; done
[22:04:11] <shbot> emanuele6: match: b
[22:04:11] <shbot> emanuele6: match: c
[22:04:21] <dermoth> bash 5.1.4
[22:04:41] <tirnanog> hmm.
[22:04:43] <dermoth> anyway i'm more interested into _why_ it is failing that actually fixing it...
[22:05:06] <dermoth> gtg... will test on a vanilla debian install to be sure
[22:05:10] <dermoth> later...
[22:07:43] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[22:07:50] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 260 seconds)
[22:08:55] *** Joins: tradar (~tradar@user/tradar)
[22:09:50] <tirnanog> dermoth: I'm suspecting some trademark debian tomfoolery in this instance.
[22:10:45] <tirnanog> actually, I have a debian box. let's see.
[22:14:01] <testuser321> I am trying to print something like 1 to 5 (basically index to hold some data) in a format where comma is present after the number. Such as "1, 2, 3," and such. The numbers will be one after another in a newline. While I can print numbers quite well, can't find a way to append the ',' after the number. What shall be done for this?
[22:15:29] <han-solo> # printf '%s\n,' {1..5} # ?
[22:15:36] <shbot> han-solo: 1
[22:15:36] <shbot> han-solo: ,2
[22:15:36] <shbot> han-solo: etc... ( http://ix.io/3CqA )
[22:15:44] <han-solo> bah
[22:15:50] *** Joins: jdltouraine_ (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[22:15:50] <tirnanog> dermoth: doesn't work for me in buster. works fine in arch.
[22:17:35] *** Joins: lavaball (felix@31.204.155.215)
[22:18:07] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[22:18:09] <dermoth> looks like a bug then, I'm not crazy :)
[22:18:36] *** Joins: reset (~reset@user/reset)
[22:19:30] *** Quits: nyex (~Thunderbi@177.84.107.41) (Ping timeout: 260 seconds)
[22:19:41] *** Quits: ted-ious (tedious@bitcoinshell.mooo.com) (Ping timeout: 246 seconds)
[22:20:05] *** Joins: neshpion (~neshpion@gateway/tor-sasl/neshpion)
[22:20:18] <dermoth> so basc to...
[22:20:23] <dermoth> back to
[22:20:28] <dermoth> # f() { f2; echo "var is ${var-unset}"; }; f2() { local var=foo; f3 var; echo "var is now $var"; }; f3() { local ref=$1; local "${ref//[!A-Za-z0-9_]}=bar"; }; f
[22:20:30] <shbot> dermoth: var is now foo
[22:20:30] <shbot> dermoth: var is unset
[22:20:57] <dermoth> actually I couldn'T find anything that says this is the expected behavior, tbh could be considered a bug... but instead I did this
[22:21:02] <neshpion> i draw a line across my terminal like this:  `printf '%.0s-' $(eval "echo {1..$(tput cols)}")` is there a better way?
[22:21:22] <dermoth> # f() { f2; echo "var is ${var-unset}"; }; f2() { local var=foo; f3 var; echo "var is now $var"; }; f3() { local ref=$1; printf -v "$ref" "bar"; }; f
[22:21:24] <shbot> dermoth: var is now bar
[22:21:24] <shbot> dermoth: var is unset
[22:21:42] <neshpion> i guess i could just do a for loop
[22:21:52] *** Quits: maledictium (~crux@bl4-72-134.dsl.telepac.pt) (Quit: leaving)
[22:22:09] <tirnanog> testuser321: commalist() { local str; printf -v str '%s, ' "$@"; printf '%s\n' "${str%, }"; }; commalist {1..5}
[22:23:06] <testuser321> tirnanog, doesn't do newline though. But is much better :)
[22:23:29] <tirnanog> you threw me off with your "1, 2, 3," example.
[22:23:46] <testuser321> ah sorry about that.
[22:23:56] <dermoth> actually I removed the // but it's needed there too
[22:24:53] *** Quits: zfigz (~Adium@38.142.75.122) (Quit: Leaving.)
[22:25:26] <tirnanog> testuser321: anyway, your comma is placed incorrectly in your format string.
[22:25:31] *** Joins: zfigz (~Adium@38.142.75.122)
[22:25:36] <Soliton> !hr > neshpion
[22:25:37] <greybot> neshpion: http://wiki.bash-hackers.org/snipplets/print_horizontal_line
[22:26:00] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[22:26:03] <dermoth> also pretty odd:
[22:26:45] <dermoth> # ref='foo bar'; printf -v $ref abc; set|grep abc
[22:26:46] <shbot> dermoth: _=abc
[22:26:51] *** Quits: zfigz (~Adium@38.142.75.122) (Client Quit)
[22:26:52] <dermoth> # ref='foo bar'; printf -v "$ref" abc; set|grep abc
[22:26:54] <shbot> dermoth: bash: printf: `foo bar': not a valid identifier
[22:26:54] <shbot> dermoth: _=abc
[22:27:02] *** Joins: zfigz (~Adium@38.142.75.122)
[22:27:33] *** Joins: totenkoph (~scythe@user/totenkoph)
[22:27:37] <dermoth> neither work, but printf only return an error with the wuoted one... what happens to the other assignment??
[22:27:40] <tirnanog> testuser321: that is, you're getting what you asked for (a comma after \n).
[22:28:21] <Soliton> that was han-solo.
[22:28:58] *** Quits: mei (~mei@user/mei) (Read error: Connection reset by peer)
[22:29:02] <han-solo> yeah, my bad
[22:29:32] * dermoth is being stupid...
[22:30:25] <dermoth> that's what I was expecting, but I didn'T grep the right thing
[22:30:30] <dermoth> # ref=$'foo abc'; printf -v $ref abc; set|grep abc
[22:30:31] <testuser321> tirnanog, basically I was looking for something like this: https://ghostbin.com/caJmG
[22:30:32] <shbot> dermoth: _=abc
[22:30:32] <shbot> dermoth: foo=abc
[22:30:32] <shbot> dermoth: ref='foo abc'
[22:31:13] <tirnanog> testuser321: if you want the comma before the newline, the format string should reflect that.
[22:31:45] <tirnanog> it's just that you have it backwards.
[22:32:40] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[22:33:23] *** Joins: totenkoph (~scythe@user/totenkoph)
[22:33:49] <han-solo> testuser321: i'm curious why you want that though. What exactly are you going to do with it ?
[22:34:36] <dermoth> btw if no space after commans were needed:
[22:34:38] <dermoth> # commalist() { echo "$*"; }; IFS=, commalist {1..5}
[22:34:40] <shbot> dermoth: 1,2,3,4,5
[22:34:40] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 260 seconds)
[22:36:11] <testuser321> han-solo, I have to generate some random numbers and place them after an index. Similar to https://ghostbin.com/O9CAx
[22:36:22] <dermoth> I wish I could do something like this without a function though...
[22:36:37] <testuser321> actually for a simulation that will be used for local testing of app
[22:36:46] <dermoth> or changing $IFS locally (mayhave to restore it after)
[22:36:54] <neshpion> # printf '%d,\n' {1..3}
[22:36:55] <shbot> neshpion: 1,
[22:36:55] <shbot> neshpion: 2,
[22:36:55] <shbot> neshpion: 3,
[22:37:27] <han-solo> testuser321: i see
[22:38:13] *** Quits: ham5urg (~ham5urg@p200300d1671129005c59fed3240d00af.dip0.t-ipconnect.de) (Ping timeout: 258 seconds)
[22:38:45] <Soliton> # for i in {1..3}; do printf '%d, %d\n' "$i" "$RANDOM"; done
[22:38:47] <shbot> Soliton: 1, 23119
[22:38:47] <shbot> Soliton: 2, 1956
[22:38:47] <shbot> Soliton: 3, 5345
[22:40:01] *** Joins: sublim20 (~sublim20@user/sublim20)
[22:40:35] <testuser321> Soliton, han-solo, tirnanog,  dermoth, I tip my hat to thee :-)
[22:41:09] <dermoth> so I may be mising something (I didn'T follow at first).. I thought you wanted:
[22:41:16] <dermoth> # printf '%s,\n' {1..5}
[22:41:17] *** Joins: Crescendo (~Crescendo@user/crescendo)
[22:41:23] <shbot> dermoth: 1,
[22:41:23] <shbot> dermoth: 2,
[22:41:23] <shbot> dermoth: etc... ( http://ix.io/3CqN )
[22:42:14] <eschwartz> # commalist() { printf '%s, ' "${@:1:$#-1}"; printf '%s\n' "${@: -1}"; }; commalist {1..5}
[22:42:16] <shbot> eschwartz: 1, 2, 3, 4, 5
[22:43:27] <dermoth> and in bash 4.2:, if you want to use printf ot separate a list you an alwats remove the trailing separator after...
[22:43:30] <dermoth> # printf -v myvar '%s,' foo{1..5}; echo ${myvar:0:-1}
[22:43:32] <shbot> dermoth: foo1,foo2,foo3,foo4,foo5
[22:43:58] <dermoth> 4.2+
[22:44:24] <eschwartz> or you print the final element on its own in a second pass
[22:44:38] <earnestly> ', %s' > '%s, '
[22:45:21] <earnestly> Old SunOS programmers realised this obvious approach, deal with the first element and then the tail rather than dealing with everything except the last
[22:46:04] <earnestly> In sh, print the first, then shift and loop normally.  No if conditions needed or post cleanup
[22:47:17] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[22:47:23] <eschwartz> d# commalist() { printf '%s' "$1"; shift; printf ', %s' "$@"; printf '\n'; }; commalist 1 2 3 4 5
[22:47:24] <shbot> eschwartz: 1, 2, 3, 4, 5
[22:47:41] <eschwartz> but you do need 3 printfs if you want to add a trailing newline
[22:47:52] <earnestly> That's fine
[22:47:53] <eschwartz> then again, printf is builtin and fairly cheap
[22:48:12] <earnestly> Yeah
[22:48:38] *** Joins: ham5urg (~ham5urg@p200300d167112900174709b88faf3c4b.dip0.t-ipconnect.de)
[22:48:50] <earnestly> Their perspective might have been a bit difference since they were using C where 'rewinding' over the string was more work than just doing that
[22:48:57] <phy1729> Clearly you should printf -v and then printf to save on syscalls
[22:49:05] *** Joins: brianward (~brianward@174-21-4-6.tukw.qwest.net)
[22:49:56] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[22:50:17] <earnestly> I'd build up a string and print it at the end
[22:50:22] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[22:50:28] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[22:50:52] <earnestly> s=$1 for s="$s, $1" printf '%s\n' "$s"
[22:51:12] <earnestly> (Or what I'd really do is use IFS lol)
[22:51:56] *** Quits: tradar (~tradar@user/tradar) (Quit: tradar)
[22:51:59] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[22:52:15] *** Quits: chiselfuse (~chiselfus@user/chiselfuse) (Remote host closed the connection)
[22:52:17] *** Joins: Crescendo (~Crescendo@user/crescendo)
[22:53:54] *** Joins: Ad1Tech (~Ad1Tech@193.218.151.167.static.telsat.wroc.pl)
[22:57:43] *** Parts: bancroft (~bancroft@bras-base-mtrlpq02hsy-grc-06-174-93-254-50.dsl.bell.ca) (WeeChat 3.2)
[22:57:45] *** Joins: ted-ious (tedious@bitcoinshell.mooo.com)
[23:00:36] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[23:01:50] *** Joins: Crescendo (~Crescendo@user/crescendo)
[23:01:51] *** Quits: sdu (~doo@185.44.146.114) (Read error: Connection reset by peer)
[23:02:49] *** Joins: chiselfuse (~chiselfus@user/chiselfuse)
[23:03:10] *** Quits: rgrinberg (~textual@201.182.226.118) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:04:51] *** Joins: jkwnki (~jkwnki@p4fedba8f.dip0.t-ipconnect.de)
[23:04:53] *** Quits: dza (~dza@user/dza) (Read error: Connection reset by peer)
[23:05:18] *** Quits: aniruddha (uid340443@id-340443.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[23:05:19] *** Quits: testuser321 (~wandering@115.187.42.228) (Quit: Leaving)
[23:07:18] *** Quits: chiselfuse (~chiselfus@user/chiselfuse) (Client Quit)
[23:07:26] *** Joins: dza (~dza@user/dza)
[23:07:44] *** Joins: chiselfuse (~chiselfus@user/chiselfuse)
[23:13:10] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 260 seconds)
[23:13:30] *** Quits: mpagano (~quassel@gentoo/developer/mpagano) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[23:13:59] <eschwartz> clearly we need to add another command dedicated to joining strings
[23:16:05] *** Quits: p3hz (~p3hz@96.44.189.195.adsl.inet-telecom.org) (Ping timeout: 265 seconds)
[23:16:48] *** Joins: akoana (~ah@user/akoana)
[23:17:32] *** Joins: p3hz (~p3hz@96.44.189.195.adsl.inet-telecom.org)
[23:17:59] *** Quits: Carp (~rue@1-162-40-226.dynamic-ip.hinet.net) (Quit: WeeChat 3.3)
[23:18:28] *** Joins: mpagano (~quassel@gentoo/developer/mpagano)
[23:23:25] *** Quits: solarized (~solarized@94-37-168-176.adsl-ull.clienti.tiscali.it) (Quit: solarized)
[23:25:08] <han-solo> +1
[23:25:48] *** Quits: neshpion (~neshpion@gateway/tor-sasl/neshpion) (Ping timeout: 276 seconds)
[23:26:24] <han-solo> join [-c|--char] char <args>
[23:26:44] *** Joins: semeion (~semeion@user/semeion)
[23:26:46] *** Joins: Nact (~l@2a02:2788:11c4:6e6:cebc:f487:efd8:173)
[23:26:50] <han-solo> and maybe split [-c|--char] char <args>
[23:29:18] *** Joins: neshpion (~neshpion@gateway/tor-sasl/neshpion)
[23:29:40] <han-solo> s/<args>/arg/
[23:30:11] *** Joins: FIlystyn (~piotr@user/filystyn)
[23:34:39] <emanuele6> arr=(a b c d ef g h); joined=$(IFS=_; printf '%s' "${arr[*]}"); declare -p joined
[23:34:48] <emanuele6> # arr=(a b c d ef g h); joined=$(IFS=_; printf '%s' "${arr[*]}"); declare -p joined
[23:34:48] *** Joins: sandb0y (~pirate@user/sandb0y)
[23:34:49] <shbot> emanuele6: declare -- joined="a_b_c_d_ef_g_h"
[23:35:28] <emanuele6> or: IFS=_ eval 'printf -v joined %s "${arr[*]}"'
[23:35:37] *** Quits: FIlystyn (~piotr@user/filystyn) (Quit: leaving)
[23:35:42] <emanuele6> #arr=(a b c d ef g h); IFS=_ eval 'printf -v joined %s "${arr[*]}"'; declare -p joined
[23:35:46] <emanuele6> # arr=(a b c d ef g h); IFS=_ eval 'printf -v joined %s "${arr[*]}"'; declare -p joined
[23:35:48] <shbot> emanuele6: declare -- joined="a_b_c_d_ef_g_h"
[23:36:31] <emanuele6> han-solo: what is the optional -c option for?
[23:36:58] <han-solo> eh, i though default it would be , ':)
[23:37:07] <han-solo> and split on space
[23:37:09] <emanuele6> char is not optional, but -c
[23:37:18] <emanuele6> but -c is
[23:38:06] *** Joins: Ad1Tech_IT (~Ad1Tech@public-gprs221516.centertel.pl)
[23:38:07] <emanuele6> `[-c|--char] char' this means that only `-c' or `--char' is optional
[23:38:07] <han-solo> ah yeah, that grammar is wrong. I just mean, something like -c='|' or --char='|'
[23:38:11] <emanuele6> char is required
[23:38:38] *** Quits: Ad1Tech (~Ad1Tech@193.218.151.167.static.telsat.wroc.pl) (Ping timeout: 260 seconds)
[23:42:04] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Quit: leaving)
[23:45:15] *** Quits: jdltouraine_ (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[23:45:36] *** Quits: zfigz (~Adium@38.142.75.122) (Quit: Leaving.)
[23:47:01] *** Quits: Nact (~l@2a02:2788:11c4:6e6:cebc:f487:efd8:173) (Quit: Konversation terminated!)
[23:47:30] *** Quits: han-solo (~hanish@user/han-solo) (Quit: leaving)
[23:48:47] *** Joins: zfigz (~Adium@38.142.75.122)
[23:49:07] *** Quits: zfigz (~Adium@38.142.75.122) (Client Quit)
[23:49:34] *** Joins: nyex (~Thunderbi@177.84.107.23)
[23:52:07] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Quit: ZNC 1.8.2 - https://znc.in)
[23:52:26] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[23:52:37] *** Joins: zfigz (~Adium@38.142.75.122)
[23:57:23] *** Quits: zfigz (~Adium@38.142.75.122) (Ping timeout: 264 seconds)
[23:59:12] *** Joins: zfigz (~Adium@104-7-51-79.lightspeed.tukrga.sbcglobal.net)
[23:59:55] *** Quits: timj (~timj@user/timj) (Ping timeout: 252 seconds)
