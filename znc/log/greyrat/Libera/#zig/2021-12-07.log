[00:09:53] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[00:26:25] *** Joins: knebulae (~nebulae@c-73-145-129-100.hsd1.mi.comcast.net)
[00:26:34] *** Quits: knebulae (~nebulae@c-73-145-129-100.hsd1.mi.comcast.net) (Client Quit)
[00:27:00] *** Joins: knebulae (~nebulae@c-73-145-129-100.hsd1.mi.comcast.net)
[00:27:17] *** Quits: livoreno (~livoreno@user/notzmv) (Ping timeout: 252 seconds)
[00:53:51] *** Joins: livoreno (~livoreno@user/notzmv)
[00:56:41] *** Quits: rgrinberg (~textual@187.223.58.12) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:58:37] *** Joins: rgrinberg (~textual@2806:101e:7:7c2f:99ad:1649:a2c7:9e20)
[01:12:01] *** Joins: notapenguin (~ryu@2804:14d:5680:8a2c:75cf:7f59:516a:b801)
[01:44:24] *** Quits: livoreno (~livoreno@user/notzmv) (Read error: Connection reset by peer)
[01:44:26] *** Quits: xackus (~xackus@9-108.w.knc.pl) (Ping timeout: 265 seconds)
[01:45:15] *** Quits: notapenguin (~ryu@2804:14d:5680:8a2c:75cf:7f59:516a:b801) (Quit: WeeChat 3.3)
[01:58:23] *** Joins: livoreno (~livoreno@user/notzmv)
[01:59:01] *** Quits: Techcable (~Techcable@168.235.93.147) (Ping timeout: 256 seconds)
[02:12:42] <andrewrk> huh. we're lacking stat() support in std
[02:12:49] *** Joins: jjido (~Denis@90.213.58.125)
[02:13:43] <Franciman> *greeting appropriate to your timezone*, is there any news on Zig's SIMD support?
[02:15:58] <andrewrk> oh never mind we're not lacking stat() support in std.os, just in std.fs
[02:16:55] *** Quits: rgrinberg (~textual@2806:101e:7:7c2f:99ad:1649:a2c7:9e20) (Ping timeout: 252 seconds)
[02:19:49] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[02:55:03] *** Quits: lanodan (~lanodan@2a01:e0a:d6:9930::35) (Ping timeout: 264 seconds)
[02:55:25] *** Quits: hspak (~hspak@user/hspak) (Ping timeout: 252 seconds)
[02:55:30] *** Joins: lanodan (~lanodan@2a01:e0a:d6:9930::35)
[02:55:49] *** Quits: ur5us (~ur5us@2406:e002:6c7b:2301:f812:b76c:617f:99d7) (Ping timeout: 240 seconds)
[02:56:13] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 240 seconds)
[03:00:48] *** Quits: jjido (~Denis@90.213.58.125) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[03:07:51] <andrewrk> motiejus, I should have a build for you shortly
[03:14:37] *** Quits: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Ping timeout: 240 seconds)
[03:16:06] <andrewrk> here's the PR: https://github.com/ziglang/zig/pull/10290 
[03:16:33] <andrewrk> I'll make you an x86_64 tarball to try. please note that I still have more improvements to make locally, but I think this is the heart of the issue
[03:16:59] <andrewrk> oops, I meant to say, I still have more improvements that are in-progress on a local branch
[03:27:17] *** Quits: wozeparr1 (~wozeparro@user/wozeparrot) (Quit: Quit)
[03:27:50] *** Joins: wozeparrot (~wozeparro@user/wozeparrot)
[03:30:18] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[03:36:05] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 265 seconds)
[03:50:17] *** Quits: Supermath101 (~Supermath@pool-98-116-229-81.nycmny.fios.verizon.net) (Quit: Client closed)
[03:54:22] <Arnavion> Reposting my question: @bitSizeOf([1000]u2) is 2000, but @sizeOf() is 1000, indicating [1000]u2 is unpacked by default. The assembly of working with it also shows that it's unpacked. So is @bitSizeOf([N]T) supposed to naively return N * @bitSizeOf(T) instead of the actual number of bits occupied by [N]T ?
[03:59:44] *** Joins: paulgrmn__ (~paulgrmn@user/paulgrmn)
[04:00:12] *** Joins: Techcable (~Techcable@168.235.93.147)
[04:10:29] *** Quits: marler8997 (~marler899@24-116-126-185.cpe.sparklight.net) (Ping timeout: 256 seconds)
[04:15:38] <andrewrk> Arnavion, it should return 8 * @sizeOf([N - 1]T) + @bitSizeOf(N)
[04:19:01] *** Joins: marler8997 (~marler899@24-116-126-185.cpe.sparklight.net)
[04:22:23] *** Joins: ur5us (~ur5us@2406:e002:6c7b:2301:f812:b76c:617f:99d7)
[04:22:53] <Arnavion> That would be 8001, which is also wrong (should be 8000), but in any case 2000 is neither of those
[04:23:42] <Arnavion> Sorry, 7994, not 8001, but still wrong
[04:24:24] <andrewrk> I believe you that it is broken. I need to re-evaluate @bitSizeOf with respect the language specification
[04:24:57] <andrewrk> I wouldn't describe it as "stable" yet.
[04:24:59] <Arnavion> Actually, I guess 7994 can make sense... The last u2 can be shifted to the highest bits
[04:25:35] <Arnavion> Right right, I'm not complaining or anything, and I don't have a use case for @bitSizeOf([N]T) either. It's just something I spotted while doing something else
[04:25:54] <andrewrk> rest assured the relevant parties are aware of the deficiency
[04:26:13] *** Quits: GreaseMonkey (greaser@user/greasemonkey) (Remote host closed the connection)
[04:31:58] *** Joins: nvmd (~nvmd@user/nvmd)
[04:46:42] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Read error: Connection reset by peer)
[04:47:02] *** Joins: paulgrmn__ (~paulgrmn@user/paulgrmn)
[04:53:01] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Ping timeout: 240 seconds)
[04:56:14] <andrewrk> motiejus, alright I posted a link to a build on #10290
[04:59:13] *** Quits: nvmd (~nvmd@user/nvmd) (Ping timeout: 265 seconds)
[04:59:55] *** Joins: nvmd (~nvmd@user/nvmd)
[05:06:44] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Quit: WeeChat 3.3)
[05:20:20] <freshcoffee> andrewrk: if s3cmd is not given reasonably valid secrets, does it error out something like the last 3 lines here:
[05:20:22] <freshcoffee> https://ci.ziglang.org/ziglang/zig/662/1/5
[05:20:56] <freshcoffee> I'm thinking this is just an error because I'm forcing the script using PR instead of master?
[05:21:42] <andrewrk> yes that is happening because the AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY are not populated in the environment due to it being a PR
[05:21:54] <andrewrk> that VERSION is definitely populated, you can see it is used above in the script and that has been working fine
[05:22:11] <andrewrk> master is broken. let's push the fix instead of waiting for another round of the CI
[05:22:17] <freshcoffee> ok
[05:22:27] <freshcoffee> I have to force push . 
[05:22:46] <andrewrk> nobody is allowed to force push master, it will be rejected by github
[05:22:56] <freshcoffee> no i mean the PR. it's "drafty" right now.
[05:23:06] <andrewrk> yes let's push a single commit to master that fixes the problem
[05:25:45] *** Quits: nvmd (~nvmd@user/nvmd) (Ping timeout: 252 seconds)
[05:32:05] *** Quits: frmdstryr (~jrm@172.58.203.174) (Ping timeout: 256 seconds)
[05:33:24] *** Joins: nvmd (~nvmd@user/nvmd)
[05:34:56] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[05:35:19] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[05:37:29] <freshcoffee> andrewrk: ok #10289 is ready for master. I hope this one finally does the trick. I will be available to continue should this thing thump me again.
[05:38:34] *** Quits: nvmd (~nvmd@user/nvmd) (Quit: Later, nerds.)
[06:00:20] *** Joins: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[06:21:16] *** Joins: hspak (~hspak@user/hspak)
[06:35:28] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[06:35:59] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[06:39:03] *** Joins: jfilling (~jfilling@136.36.67.80)
[06:39:22] *** Quits: jfilling (~jfilling@136.36.67.80) (Client Quit)
[06:41:43] *** Quits: [R] (~rs@genoce.org) (Ping timeout: 256 seconds)
[06:43:03] *** Quits: arkurious (~arkurious@user/arkurious) (Quit: Leaving)
[06:47:45] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Quit: Leaving...)
[07:35:48] *** Joins: zkanda (~zkanda@box.makean.art)
[07:36:01] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.3)
[07:36:14] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[07:36:30] *** Joins: supakeen (~user@python/site-packages/supakeen)
[07:36:45] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[07:37:01] *** Quits: ur5us (~ur5us@2406:e002:6c7b:2301:f812:b76c:617f:99d7) (Ping timeout: 252 seconds)
[07:42:55] *** Joins: Kingsquee (~Kingsquee@node-1w7jr9pliwyyx4cod7dfnsb40.ipv6.telus.net)
[07:49:10] *** Quits: leah2 (~leah@vuxu.org) (Ping timeout: 268 seconds)
[08:04:30] *** Joins: leah2 (~leah@vuxu.org)
[08:08:24] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Quit: WeeChat 3.3)
[08:55:35] *** Quits: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Remote host closed the connection)
[09:20:44] *** Joins: greaser|q (greaser@antihype.space)
[09:21:47] *** Quits: greaser|q (greaser@antihype.space) (Changing host)
[09:21:47] *** Joins: greaser|q (greaser@user/greasemonkey)
[09:21:51] *** greaser|q is now known as GreaseMonkey
[09:39:00] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[09:39:22] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[10:00:49] *** Quits: notzmv (~zmv@user/notzmv) (Ping timeout: 265 seconds)
[10:01:35] *** Joins: rgrinberg (~textual@2806:101e:7:9999:c810:1d5b:cbe6:4b3c)
[10:28:37] *** Quits: earnest (~earnest@user/earnestly) (Ping timeout: 240 seconds)
[10:30:08] *** Joins: Vexu (~Thunderbi@188.117.20.105)
[10:39:26] <motiejus> andrewrk: the version in #10290 has a different structure than "normal" builds (e.g. the nightlies in ziglang.org/download); the toolchain assumes some things about where `zig` binary and libraries are. If iit's a one-click for you, can you rebuild and repackage it? Otherwise I'll try to move things around myself
[10:39:37] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[10:39:52] *** Joins: xd1le (~xd1le@user/xd1le)
[10:40:09] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[10:42:18] <andrewrk> motiejus, yes one moment
[10:43:01] <andrewrk> thank you freshcoffee!
[10:44:11] <motiejus> (Andrew, whiile you're at it, I would appreciate a darwin-x86_64 build too; then I'll test it on a couple of colleagues' osx dev machines, not just the build fleet)
[10:44:19] *** Joins: [R] (~rs@genoce.org)
[10:44:42] <andrewrk> ok working on a darwin-x86_64 build, it will take about 40 minutes
[10:45:01] <motiejus> are you using zig-bootstrap?
[10:45:04] <andrewrk> yes
[10:45:10] <andrewrk> master branch
[10:45:45] <motiejus> ah, then I can build it myself
[10:46:02] <motiejus> if you wish, you may go rest, it's nighttime in the US :)
[10:46:03] <andrewrk> it will produce a structure like the one that I provided in the .tar.xz, so you'll have to move the files around a little
[10:46:55] <andrewrk> I don't recommend running this script, but if you eyeball it, it tells you what steps are taken to make the official tarballs: https://github.com/ziglang/release-cutter/blob/master/script
[10:47:35] <motiejus> do you not recommend it due to duration, or there is something else?
[10:48:04] <motiejus> because in theory, if I comment out the archs I don't need, I can make myself a full release
[10:48:19] <andrewrk> um well it will try to make tarballs for every architecture, and looks like I have some rsync stuff in there because last time I saved time by splitting the work across multiple computers
[10:49:07] <andrewrk> yeah I mean if you look at the script and determine that it's ok to run it should be fine, but when I do the release process I typically copy+paste pieces of it at a time and babysit it to make sure nothing goes wrong
[10:50:54] <motiejus> that's ok, thanks for the pointers. The release cutter is helpful; I will modify it to my needs
[10:52:11] <motiejus> I guess TAGVER should be changed to the output of `git describe` to get the correct version
[10:53:05] <andrewrk> it should match the VERSION in the `build` script of zig-bootstrap
[10:53:25] <andrewrk> which is currently 0.9.0-dev.1914+00c8113c7
[10:54:50] <motiejus> ah, nice. You copied 00c8113c7 to zig-bootstrap, thanks
[10:57:20] *** Joins: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6)
[10:58:17] <motiejus> ok, another question: script says # This must have zig built for the tagged release, along with having run `./zig build docs`.
[10:58:26] <andrewrk> no problem. by the way I am planning to merge #10290 into master now. it is an improvement and I still have more in-progress cache system improvements planned
[10:58:47] <andrewrk> do you need the langref.html and std lib docs for your purposes right now?
[10:58:53] <motiejus> nope
[10:58:58] *** Quits: anthon (~Thunderbi@p2e52aa21.dip0.t-ipconnect.de) (Remote host closed the connection)
[10:59:00] <andrewrk> yeah don't bother with that then
[10:59:10] <motiejus> if you are merging it to master, then I don't need to do this dance
[10:59:47] *** Quits: [R] (~rs@genoce.org) (Ping timeout: 265 seconds)
[10:59:58] <motiejus> that means it will be in a nightly download tomorrow, and I can run the osx tests then. I can do the linux one today, with the one you built
[11:00:21] <andrewrk> done
[11:00:40] <motiejus> \o/
[11:01:04] <andrewrk> it's entirely possible you uncover another issue; looking forward to seeing those results
[11:02:08] <andrewrk> the change in #10290 affects only builtin.zig; the fact that https://github.com/ziglang/zig/issues/10158 mentions Scrt1.o etc is troublesome
[11:03:00] <andrewrk> but anyway I will double check that along with my other cache system improvements
[11:03:29] <motiejus> ack; I wasn't aware of 10158 (Thomas messaged me separately about removing the flock workaround)
[11:07:47] <motiejus> the build fails for a different reason now, unrelated to zig change. It will take some time to debug (I expected to tell you results in 30 minutes, unfortunately, unlikely)
[11:08:35] <andrewrk> take your time; I'm going to relax with some video games for a couple hours and will keep my eye on IRC
[11:09:46] *** Joins: jjido (~Denis@90.213.58.125)
[11:13:04] <weslem> Hi all - just wanted to say, "thanks for Zig!" I used Zig to prototype a rewrite of my company's spreadsheet-like formula engine. It was so _fun_ to work with compared to the tedium of C, the language complexity of C++, and the crossword-like puzzle of Rust.
[11:13:27] *** Joins: ewintr (sid512156@id-512156.hampstead.irccloud.com)
[11:14:34] <andrewrk> 🥰
[11:14:48] *** Joins: neurocyte0132889 (~neurocyte@user/neurocyte)
[11:20:12] <motiejus> status update: I haven't upgraded zig for a while (since 0.9.0-dev.1414+cde3dd365), and a most recent master is failing. Will investigate today.
[11:22:58] <motiejus> i.e. our internal unit tests are failing with the master version of zig; likely due to changed includes. I need to take a 2h break for meetings and will continue afterwards.
[11:24:48] <andrewrk> is this for linux or macos?
[11:25:10] <andrewrk> alright sounds like I might miss you due to those meetings, will check out what you post on the issue when I wake up tomorrow :)
[11:25:38] <andrewrk> I'm curious what went wrong with the headers - we made some nice improvements for both linux and darwin recently; I would only expect more compatibility, no breakage
[11:31:54] <motiejus> This is the error, fyi https://builds.sr.ht/~motiejus/job/643867
[11:32:44] <motiejus> Happens the same in our repo, but thankfully also in the foss piece
[11:34:30] <andrewrk> hmm I'm not sure what that error message means
[11:35:16] <andrewrk> is it expecting zig cc to do something that zig cc is not doing?
[11:36:01] <motiejus> Looks like it's including files it wasn't before, and all include dirs need to be allowlisted
[11:36:34] <motiejus> It's likely a trivial fix by adding those, but since you asked :)
[11:36:38] <andrewrk> ah yes I can tell you what happened- I fixed https://github.com/ziglang/zig/issues/9837
[11:37:04] <andrewrk>  * Consolidate headers that are the same for multiple Zig target CPU architectures. For example, Linux has only an x86 directory for both x86_64 and x86 CPU architectures. Now Zig only ships an x86 directory for Linux headers, and will emit the proper corresponding -isystem flags.
[11:37:25] <motiejus> Yeah, sounds about right
[11:40:23] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[11:40:50] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[12:09:20] *** Joins: notzmv (~zmv@user/notzmv)
[12:13:07] *** Quits: Vexu (~Thunderbi@188.117.20.105) (Ping timeout: 252 seconds)
[12:25:20] *** Quits: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6) (Ping timeout: 265 seconds)
[12:33:50] *** Quits: euandreh (~euandreh@2804:14c:33:9fe5:b36c:1fc0:956d:d06c) (Ping timeout: 252 seconds)
[12:35:35] *** Joins: euandreh (~euandreh@2804:14c:33:9fe5:da4:9ec6:5ef5:74d6)
[12:41:04] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[12:41:34] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[12:47:45] *** Quits: mikemar10 (~mikemar10@216-177-191-54.block0.gvtc.com) (Read error: Connection reset by peer)
[12:48:15] *** Joins: earnest (~earnest@user/earnestly)
[12:48:27] <Franciman> brainstorming for a future zigcon
[12:48:42] <Franciman> how about having the first zig con in Leipzig in germany?
[12:48:46] *** Quits: boardwalk194 (~boardwalk@136.49.88.66) (Quit: Ping timeout (120 seconds))
[12:48:56] <Franciman> LeipZig
[12:48:58] <Franciman> and it's done
[12:49:05] *** Joins: boardwalk194 (~boardwalk@136.49.88.66)
[12:50:17] *** Quits: rgrinberg (~textual@2806:101e:7:9999:c810:1d5b:cbe6:4b3c) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:02:42] *** Quits: Kingsquee (~Kingsquee@node-1w7jr9pliwyyx4cod7dfnsb40.ipv6.telus.net) ()
[13:09:49] *** Joins: [R] (~rs@genoce.org)
[13:33:34] <motiejus> zig upgrade status in bazel-zig-cc: x86_64-linux target was fixed, but x86_64-macos target doesn't compile: https://builds.sr.ht/~motiejus/job/643909
[13:37:34] <andrewrk> "cannot open `' (No such file or directory)" - I don't think that's coming from zig. is that the error?
[13:38:00] <andrewrk> I don't see an error message other than that
[13:38:00] <motiejus> yeah, that means the file was not compiled
[13:38:11] <motiejus> this is the culprit: /tmp/go-build1978306751/b038/_cgo_import.go:2:3: usage: //go:cgo_import_dynamic local [remote ["library"]]
[13:38:31] <andrewrk> looks like an error coming from go, yeah?
[13:38:33] <motiejus> there's something off in the guts of cgo
[13:38:38] <motiejus> yes
[13:39:04] <motiejus> I am also looking at https://github.com/ziglang/zig/commit/2dcfa486feecc964a1aab6b843ab85c2be1d7a9b
[13:39:50] <motiejus> it changed quite a few darwin-related paths, and they are OS-version specific (darwin.10, darwin.11, darwin.12); but I don't see it in the zig targets, and we naturally don't include them (yet).
[13:39:58] <motiejus> I need to dig out the real cgo error first though
[13:41:49] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[13:42:00] <andrewrk> what did? cgo?
[13:42:16] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[13:43:15] <andrewrk> because multiple darwin versions is an improvement on zig's end too (x86_64-macos.10-gnu, x86_64-macos.11-gnu, x86_64-macos.12-gnu)
[13:43:39] <motiejus> cgo is the piece of go's compiler that compiles the C files (which invokes the real C compiler)
[13:43:53] *** Joins: lumo_e (~enrico@151.29.48.90)
[13:44:24] <motiejus> my misunderstanding/confusion is: if we are specifying `--target x86_64-macos-gnu`, which directories to include, now that we have 10, 11 and 12?
[13:44:49] <andrewrk> oh do you have to duplicate zig's logic in the bazel plugin?
[13:45:31] <motiejus> I wouldn't call duplicate, it's rather more hand-holding
[13:45:41] <motiejus> or I misunderstand your question
[13:45:41] <andrewrk> https://github.com/ziglang/zig/blob/de81c504b187279e6daba30df9673835f7f6c1eb/src/Compilation.zig#L3828-L3857
[13:46:04] <andrewrk> try this: `zig build-obj empty.c -target x86_64-macos --verbose-cc` and look at the -isystem flags 
[13:46:18] <motiejus> ah, yes, that one needs to be duplicated, because bazel is guarding what gets included
[13:46:30] <andrewrk> you can also try changing -target x86_64-macos to e.g. -target x86_64-macos.10
[13:46:32] *** Joins: anthon (~Thunderbi@p2e52aa21.dip0.t-ipconnect.de)
[13:46:47] <motiejus> example: https://git.sr.ht/~motiejus/bazel-zig-cc/tree/main/item/toolchain/defs.bzl#L107
[13:47:02] <motiejus> do you happen to know if the darwin binaries are backwards-compatible?
[13:47:20] <motiejus> sorry, forwards-compatible
[13:47:20] <andrewrk> I believe they are
[13:47:31] <andrewrk> if you build for an older version, it should run on newer versions
[13:48:19] <motiejus> you will find all sorts of interesting hacks in that file. :) Before I go and specify the version, I need to understand the cgo problem -- is it really the include. I feel like something is swallowing the error from the go compiler
[13:50:57] *** Joins: pkap (~pkap@185.209.196.147)
[13:53:48] *** Quits: anthon (~Thunderbi@p2e52aa21.dip0.t-ipconnect.de) (Remote host closed the connection)
[13:59:14] *** Joins: anthon (~Thunderbi@p2e52aa21.dip0.t-ipconnect.de)
[14:05:32] <andrewrk> good night
[14:08:38] <motiejus> o/
[14:24:11] <motiejus> created https://github.com/ziglang/zig/issues/10293 and pasting details of the investigation. Getting `error: AccessDenied`, which looks very zig-like
[14:41:53] *** Joins: notapenguin (~ryu@179.222.254.137)
[15:00:21] *** Quits: notapenguin (~ryu@179.222.254.137) (Quit: WeeChat 3.3)
[15:01:23] *** Joins: damxsa (~damx@2001:16a2:cc64:7200:e49d:a9e2:19fd:26)
[15:01:37] *** Joins: damxsa_ (~damx@2001:16a2:cc64:7200:e49d:a9e2:19fd:26)
[15:01:42] *** Quits: damxsa_ (~damx@2001:16a2:cc64:7200:e49d:a9e2:19fd:26) (Remote host closed the connection)
[15:04:00] *** Quits: pkap (~pkap@185.209.196.147) (Quit: Client closed)
[15:11:03] <motiejus> however, the Darwin issue is not blocking large-scale testing of the recently landed code; however, looks like I moved things around incorrectly, and it's unable to find some files (though archives look OK). I need to move to some other things, and will restart with large-scale testing tomorrow, after the nightly is downloadable from ziglang.org; and I will continue with darwin investigation, as detailed in the ticket above.
[15:19:20] *** Quits: damxsa (~damx@2001:16a2:cc64:7200:e49d:a9e2:19fd:26) (Ping timeout: 265 seconds)
[15:21:25] *** Quits: gxt (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[15:21:45] *** Joins: gxt (~gxt@gateway/tor-sasl/gxt)
[15:36:02] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.3)
[15:36:32] *** Joins: supakeen (~user@python/site-packages/supakeen)
[15:40:31] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[15:50:13] *** Joins: Vexu (~Thunderbi@188.117.20.105)
[15:55:14] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[15:59:01] *** Joins: frmdstryr (~jrm@172.58.206.179)
[16:03:39] *** Quits: frmdstryr (~jrm@172.58.206.179) (Client Quit)
[16:06:49] *** Joins: frmdstryr (~jrm@172.58.206.179)
[16:24:04] *** Joins: Guest009988 (~Guest0099@186-50.dsl.iskon.hr)
[16:49:49] *** Quits: breavyn (~breavyn@user/breavyn) (Ping timeout: 240 seconds)
[16:50:36] *** Joins: breavyn (~breavyn@user/breavyn)
[17:05:06] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[17:05:29] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[17:23:39] *** Joins: arkurious (~arkurious@user/arkurious)
[17:28:59] *** Quits: lumo_e (~enrico@151.29.48.90) (Quit: Quit)
[17:41:46] *** Quits: Vexu (~Thunderbi@188.117.20.105) (Quit: Vexu)
[18:03:03] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[18:09:06] *** Quits: Guest009988 (~Guest0099@186-50.dsl.iskon.hr) (Ping timeout: 256 seconds)
[18:17:04] *** Joins: isolier (~isolier@174.31.3.60)
[18:22:17] *** Joins: langstme (~langstme@user/langstme)
[18:23:16] *** Quits: langstme (~langstme@user/langstme) (Client Quit)
[18:23:34] *** Joins: langstme (~langstme@user/langstme)
[18:29:34] *** Quits: jjido (~Denis@90.213.58.125) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[18:37:20] *** Joins: xackus (~xackus@9-108.w.knc.pl)
[18:49:13] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[18:49:34] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[18:50:06] <marler8997> OffTopic: I was able to create a pure nix environment to build the reverse engineered Zelda OOT, check out my notes about it here: https://discourse.nixos.org/t/building-zelda-ocarina-of-time-with-nix/16468
[19:07:51] *** Joins: rgrinberg (~textual@2806:101e:7:9999:c810:1d5b:cbe6:4b3c)
[19:16:39] *** Quits: xackus (~xackus@9-108.w.knc.pl) (Ping timeout: 265 seconds)
[19:17:57] *** Joins: xackus (~xackus@6-185.w.knc.pl)
[19:18:09] *** Joins: tane (~tane@dslb-002-201-234-166.002.201.pools.vodafone-ip.de)
[19:18:10] *** Quits: tane (~tane@dslb-002-201-234-166.002.201.pools.vodafone-ip.de) (Changing host)
[19:18:10] *** Joins: tane (~tane@user/tane)
[19:24:23] *** Quits: rgrinberg (~textual@2806:101e:7:9999:c810:1d5b:cbe6:4b3c) (Ping timeout: 265 seconds)
[19:48:37] *** Quits: xackus (~xackus@6-185.w.knc.pl) (Ping timeout: 240 seconds)
[19:49:21] *** Joins: xackus (~xackus@8-231.w.knc.pl)
[19:58:10] *** Quits: langstme (~langstme@user/langstme) (Quit: Leaving)
[20:14:55] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 252 seconds)
[20:20:43] <ifreund> anyone able to explain this error? https://0x0.st/-Fs0.txt
[20:20:55] *** Joins: rgrinberg (~textual@2806:101e:7:9999:853a:1f51:2226:1f4)
[20:21:11] <ifreund> this is the llvm IR I generated: https://0x0.st/-FsG.txt
[20:22:20] <ifreund> and my stage1 @prefetch() implementation: https://github.com/ifreund/zig/commit/1b5ccd5fa4de08fb4c364f2fc4d6ccc8b268b9a8
[20:22:58] *** Joins: nyah (~nyah@94.6.71.219)
[20:26:24] *** Parts: vent- (~vent@185.62.190.213) ()
[20:26:58] *** Joins: vent (~vent@185.62.190.213)
[20:29:02] <ifreund> hmm, I think the way I'm accessing the enum values might be broken
[20:54:37] *** Quits: xackus (~xackus@8-231.w.knc.pl) (Ping timeout: 240 seconds)
[20:56:49] *** Joins: xackus (~xackus@9-164.w.knc.pl)
[21:02:29] *** Quits: rgrinberg (~textual@2806:101e:7:9999:853a:1f51:2226:1f4) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:44:51] *** Joins: terminalpusher (~terminalp@2a01:586:a4a5:1:e003:e11d:22df:b459)
[21:45:24] *** Quits: ibokuri (sid517924@user/ibokuri) ()
[21:52:52] *** Joins: jjido (~Denis@90.213.58.125)
[21:54:37] *** Quits: Techcable (~Techcable@168.235.93.147) (Ping timeout: 240 seconds)
[21:56:18] <motiejus> andrewrk: I was able to run a bunch of tests today, good news: no more dreaded `FileNotFound`, so I consider that one fixed!
[21:57:41] <motiejus> https://git.sr.ht/~motiejus/bazel-zig-cc/commit/85e96bc40f26781fdbd3375cf55c53c44ad83151 🥳  
[21:58:32] <ifreund> welp, it seems that the error I was hitting is just what happens when you try and prefetch on the instruction cache, at least while targeting x86_64
[22:19:17] *** Quits: nyah (~nyah@94.6.71.219) (Ping timeout: 268 seconds)
[22:32:12] *** Quits: xd1le (~xd1le@user/xd1le) (Quit: xd1le)
[23:26:20] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[23:26:47] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[23:38:28] *** Joins: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6)
[23:40:15] *** Quits: livoreno (~livoreno@user/notzmv) (Ping timeout: 252 seconds)
[23:41:01] *** Quits: notzmv (~zmv@user/notzmv) (Ping timeout: 240 seconds)
[23:57:29] *** Quits: frmdstryr (~jrm@172.58.206.179) (Ping timeout: 252 seconds)
