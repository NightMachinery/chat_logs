[00:01:52] *** Quits: jeffrey (~jeffrey@80-115-60-193.cable.dynamic.v4.ziggo.nl) (Ping timeout: 252 seconds)
[00:07:27] *** Quits: fandre1986 (~fandre198@178-36-241-155.adsl.inetia.pl) (Quit: Connection closed)
[00:30:12] *** Joins: dlundgren_ (~dlundgren@75-9-109-251.lightspeed.milwwi.sbcglobal.net)
[00:32:12] *** Quits: dlundgren (~dlundgren@209.203.101.124) (Ping timeout: 250 seconds)
[00:32:13] *** dlundgren_ is now known as dlundgren
[00:32:49] *** Quits: magla (~gelignite@55d45175.access.ecotel.net) (Read error: Connection reset by peer)
[00:33:10] *** Joins: magla (~gelignite@55d45175.access.ecotel.net)
[00:34:09] *** Quits: genom (~g@37.214.77.199) (Remote host closed the connection)
[00:40:18] *** Quits: magla (~gelignite@55d45175.access.ecotel.net) (Quit: Stay safe!)
[00:41:04] *** Joins: g0z (gauze@entropy.tmok.com)
[00:42:19] *** Parts: mh_le (~Mads@user/mh-le/x-4465771) ()
[01:14:30] *** Quits: vit (~vit@chello085216193138.chello.sk) (Quit: Konversation terminated!)
[01:33:27] *** Quits: Northwoods (~Northwood@202.14.122.173) (Ping timeout: 240 seconds)
[01:37:25] *** Quits: Alex8532 (~Alex8532@user/alex8532) (Quit: Going offline, see ya! (www.adiirc.com))
[01:56:25] *** Joins: gp5st (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net)
[02:01:54] *** Quits: gp5st (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net) (Ping timeout: 250 seconds)
[02:15:08] *** Quits: Simplar (~Simplar@188.163.93.118) (Quit: Going offline, see ya! (www.adiirc.com))
[02:44:30] *** Quits: onizu (uid373383@id-373383.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[02:51:20] *** Quits: Poboy (~Poboy@user/poboy) (Quit: Client closed)
[03:12:04] *** Quits: noobiewan (~noobiewan@modemcable116.25-81-70.mc.videotron.ca) (Ping timeout: 244 seconds)
[03:17:32] *** Joins: wfpkhc (~hc@user/wfpkhc)
[03:17:35] * wfpkhc wanders in
[03:17:44] <wfpkhc> i have a legit question about php
[03:17:59] <wfpkhc> i have been watching the updates for php
[03:18:07] <wfpkhc> wait while i find it
[03:19:29] <wfpkhc> the question is this
[03:19:47] <wfpkhc> why are there so many - what appears to be - issues with php?
[03:20:06] <wfpkhc> for example date time functions a few versions back was fixed - i thought that functionality was already built
[03:20:09] <wfpkhc> and completed
[03:20:36] <wfpkhc> Fixed bug #78984 (DateTimeZone accepting invalid UTC timezones).
[03:21:13] * wfpkhc sits quietly
[03:22:08] <Byteflux> This doesn't seem like a very serious bug.
[03:22:20] <wfpkhc> its not that its a serious bug per se
[03:22:22] <Byteflux> And don't see why it's of any serious interest
[03:22:33] <Byteflux> Or why it's posed in such a question
[03:22:35] <wfpkhc> its just that i thought all the date time functional was completed a while back
[03:23:03] <wfpkhc> i guess its more of a generic question - why does php need so many patches
[03:23:49] <Byteflux> This may be surprising, but "having many bugs" and "needing many patches" is not unique to PHP.
[03:24:08] <wfpkhc> perhaps
[03:24:18] <Byteflux> It'd be a more interesting observation of most of the issues were serious, which they aren't.
[03:24:52] <Byteflux> So you can safely conclude that PHP doesn't have very many serious bugs, nothing disproportionate by comparison, anyhow.
[03:25:09] <wfpkhc> but that isnt the quetion though
[03:25:17] <wfpkhc> the question is ...why does it need so many patches
[03:25:28] <wfpkhc> qeustion*
[03:25:28] <Sammitch> PHP is a complex thing created by imperfect beings, and with a very broad userabse capable of identifying imperfections.
[03:25:39] <Byteflux> Why does all software as complex as PHP need "so many patches?"
[03:25:44] <wfpkhc> that will do
[03:25:47] <biberu> that issues are being found and fixed seems healthy
[03:25:52] <Sammitch> I would be concerned if there _weren't_ a lot of patches
[03:26:05] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[03:26:35] <Sammitch> "our software doesn't need patches because it's so good" ~liars
[03:26:49] <Byteflux> A git repository is a collection of patches, a branch is a sequence of patches. Its entire purpose is to patch software, which is why almost all modern software resides in a git repository.
[03:27:30] <wfpkhc> ok - but why does it need so many patches?
[03:27:38] <wfpkhc> i think sammitch is the best answer
[03:27:48] <wfpkhc> and i suspect "levels of development"
[03:28:00] <Byteflux> The question is unnecessarily targeted at PHP.
[03:28:03] <wfpkhc> so you build the first level of the software and then you come back and say "we can do better"
[03:28:37] <biberu> build or grow?
[03:28:40] <wfpkhc> both
[03:28:41] <Sammitch> no matter how much "better" you do, no how many "levels" you go through, you're going to need to patch/update
[03:29:06] <Byteflux> There will always be bugs in an evolving codebase as complex as PHP's.
[03:29:13] <wfpkhc> ok
[03:29:20] <Byteflux> This is true of any project, not just PHP.
[03:29:27] <wfpkhc> so basically because of complexity
[03:29:32] <Byteflux> It's like asking "why do bugs exist?"
[03:30:20] <wfpkhc> thank you for your answes everyone
[03:30:42] * wfpkhc hugs everyone and runs away
[03:30:45] *** Quits: wfpkhc (~hc@user/wfpkhc) (Quit:  HydraIRC -> http://www.hydrairc.com <- Chicks dig it)
[03:32:48] *** Quits: Cheez (~Cheez@user/cheez) (Quit: bye.)
[03:33:09] <Byteflux> Sammitch: My code has no bugs. They are features.
[03:33:44] <Byteflux> Every perceived bug is a carefully calculated feature :)
[03:34:07] <Sammitch> my code has no bugs, but mostly because no one uses it. :I
[03:34:50] <Byteflux> :'(
[03:35:16] <Byteflux> Do you need me to `composer require <your_code>` to up your download count and make you feel better?
[03:36:46] *** Joins: Cheez (~Cheez@user/cheez)
[03:38:11] <Sammitch> lol honestly I'm happy enough that the number is above zero
[03:41:48] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[03:42:33] *** Quits: pmercado (~pmercado@186.107.39.248) (Ping timeout: 244 seconds)
[03:49:01] *** Quits: junktext (~junktext@109.201.152.169) (Ping timeout: 252 seconds)
[04:12:08] *** Joins: sumthing1980 (~sumthing1@94.54.64.154)
[04:20:52] *** Joins: ferdna (~ferdna@user/ferdna)
[04:23:26] *** Quits: deksar (~deksar@user/deksar) (Quit: Going offline, see ya!)
[04:24:20] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Quit: Leaving)
[05:01:20] *** Quits: semeion (~semeion@user/semeion) (Quit: WeeChat 3.2)
[05:30:20] <Beryllium> Huh. Got into a weird composer situation and wondering if there's some way to detect it in a commithook or something: due to a weird merge, composer.json has dependencies in it but composer.lock either doesn't or has older versions. But I can't find any arcane incantation that will alert me to this (except for when the tests blow up in CI). The manifest-hash, which should normally detect this, got overwritten by running `composer
[05:30:21] <Beryllium> update --lock`.
[05:30:25] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:30:44] <Beryllium> I know it's weird. But I'm hoping there's some way to unweird it.
[05:31:27] <Beryllium> (Unweird it by detecting the scenario in future flubs, I mean)
[05:34:07] <Beryllium> Technically composer update --dry-run will hint at it, but it will be mixed in with any individual package updates that are also suggested. Not quite as strong of a signal as I would like.
[05:34:09] *** Quits: \mSg (~mSg@user/msg/x-0285936) (Ping timeout: 244 seconds)
[05:34:11] *** Joins: vlm (~vlm@user/vlm)
[05:51:25] <ironsoba> hey guys, this might be a dumb question but...is leaving apache on in xampp a security risk to your PC?
[05:51:42] <ironsoba> could others on the network hack you by exploiting apache on your desktop?
[05:53:44] <Vision> if there is an exploit in the version of apache running and it is not firewall-restricted to local only then yes
[05:59:53] <ironsoba> hmm, i should figure out how to run apache more safely then
[06:02:31] <Blondie101010> ironsoba:  hmmm...  you either want to expose the service or you don't, and if you do you choose who you expose it to with the listening interface and / or firewall rules
[06:02:42] <Blondie101010> but there is always a risk in everything
[06:02:56] <Blondie101010> if you don't want to have any risk, turn off the computer
[06:03:06] <ironsoba> node would be safer wouldnt it
[06:03:21] <Blondie101010> why would it?
[06:03:42] <ironsoba> well i am a beginner, so I don't want to necessarily take a stance
[06:03:43] <ironsoba> but
[06:03:55] <Blondie101010> website code is much more commonly a source of intrusion than a webserver security vulnerability
[06:03:57] <ironsoba> node.js servers are different from apache
[06:04:15] <Blondie101010> so if you end up running crap on either of them, then neither will be safer
[06:04:50] <Blondie101010> is it something you open to the public?
[06:05:16] <ironsoba> i just want to learn to code, but I am thinking maybe getting a VPS and learning that way is better because it doesnt open up my entire system to intrusion
[06:05:31] <Blondie101010> hold on
[06:05:38] <ironsoba> ive ran websites with apache that have been hacked over and over lol
[06:05:47] <ironsoba> sure
[06:05:50] <Blondie101010> you have the option to keep it on your local network and now you say it will be safer in the public???????????
[06:06:00] <ironsoba> i don't know how to set it up
[06:06:01] <Blondie101010> yes, no doubt!
[06:06:12] <Blondie101010> I told you, if you put crap online, you'll get hacked
[06:06:18] <Blondie101010> not an httpd problem!
[06:06:23] <ironsoba> you don't have to tell me that - haha
[06:06:29] <ironsoba> i know
[06:06:33] <Blondie101010> apparently I do
[06:06:59] <ironsoba> well i'm not prepared to confront that level of nihilism
[06:07:01] <Blondie101010> you won't be better or safer with either technology, but you should try to learn to do things properly either way
[06:07:09] <ironsoba> yeah
[06:07:11] <ironsoba> agree
[06:07:27] <Blondie101010> so keep it local until you know how you got hacked previously
[06:07:51] <ironsoba> well xammp by default puts it on the web
[06:08:03] <ironsoba> i really don't know how to make sure all the work I do is local and not accessible via the web once I turn that on
[06:08:06] <Blondie101010> what do you mean?
[06:08:17] <Blondie101010> that computer has a public address?
[06:08:28] <ironsoba> when I run apache on xampp, it turns ports on my computer on so that I can make the lessons i'm going through accessible through a web browser, right
[06:08:28] <ironsoba> ?
[06:08:44] <Blondie101010> yes, that's a listener
[06:08:57] <ironsoba> so someone scanning could find it, exploit and powie
[06:08:58] <Blondie101010> does your computer have a public IP assigned to its interface
[06:09:15] <ironsoba> yes?
[06:09:20] <ironsoba> don't we all by defailt lol
[06:09:22] <ironsoba> default
[06:09:40] *** Quits: MrTrick (uid181961@id-181961.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[06:11:47] <Blondie101010> do you know what a public IP is?
[06:13:30] <Blondie101010> ironsoba:  that was not a rhetorical question
[06:14:10] <Byteflux> If your computer is 1) connected to your modem *directly* or 2) your computer is assigned a global IPv6 address (GUA) or 3) you have an atypical router setup in which public ports are forwarded to your LAN via NAT, then you should worry about people outside your private network accessing your webserver.
[06:14:27] *** Quits: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 240 seconds)
[06:14:35] <Byteflux> Otherwise, the threat would be from within your private network.
[06:15:16] <Blondie101010> and if you want to restrict it to the local machine, just change the IP Apache listens on
[06:15:23] <Blondie101010> to 127.0.0.1
[06:16:12] <Byteflux> Yeah that's the most secure option.
[06:21:58] <ironsoba> @_@
[06:22:10] <ironsoba> thanks blondie
[06:22:22] <Blondie101010> np
[06:23:46] <ironsoba> alternatively, I can use a VM and run Xammp there, and make it public and protect my system...hmmmHMMMM
[06:23:57] <ironsoba> then still access it from the web for tests etc
[06:46:52] *** Quits: sumthing1980 (~sumthing1@94.54.64.154) (Quit: Leaving)
[06:46:56] <__adrian> !+xampp
[06:46:57] <php-bot> Don’t use XAMPP or WAMP. Use a real dev server on a VM, docker, or WSL2. Install docker and check out https://tecadmin.net/tutorial/docker-php-example
[06:47:55] <Byteflux> I'm guessing Windows, in which case Docker Desktop with WSL2 as the Docker Engine backend gets a +1 from me.
[06:48:09] <__adrian> Byteflux: i'd expand that "if" to include "you've messed with networking but don't understand anything I just ssaid"
[06:48:58] <Byteflux> Yeah, definitely that too :P
[06:48:59] <ironsoba> yesss, this is the modern shit i'm looking for
[06:49:00] <ironsoba> thank you
[06:49:04] *** Joins: Rockwood (~Rocky@user/rocky)
[06:50:01] <ironsoba> https://docs.docker.com/desktop/windows/wsl/
[06:50:11] <Byteflux> (W|X)AMP is so 2010. :P
[06:50:11] <__adrian> wsl2
[06:50:17] <__adrian> don't wsl
[06:50:35] <Byteflux> It should already guide you to use WSL 2, but yes make sure it's *2*
[06:52:49] <Byteflux> Ubuntu 20.04 LTS is a pretty good distro choice for WSL 2 if you're a more casual user and want something that's well supported and less likely to break.
[06:52:49] <ironsoba> well, i'm on windows but I have a VM with linux mint
[06:52:49] <ironsoba> https://andrewlock.net/installing-docker-desktop-for-windows/
[06:52:49] <__adrian> mint is rather unlike anything you'd use as a production server
[06:52:49] <ironsoba> ill do this, looking forward to learning
[06:52:49] <__adrian> hopefully
[06:52:49] <ironsoba> lol true
[06:52:49] <ironsoba> more familiar with centos
[06:52:49] <ironsoba> ive used all sorts of linux flavors, no issue making a new one
[06:52:54] <ironsoba> except not arch..
[06:54:15] <__adrian> someone called arch a "hard mode" distro a while back
[06:54:15] <__adrian> i lol'd
[06:54:15] <ironsoba> i couldn't get it to work ;_;
[06:54:15] <ironsoba> i gave up too soon
[06:54:15] <__adrian> they have lots of docs
[06:54:15] <ironsoba> i had no reason to use it
[06:54:15] <ironsoba> i just wanted to see
[06:54:15] <Byteflux> It's hard mode because it doesn't have a graphical installer lol
[06:54:15] <Byteflux> But also because it doesn't guarantee stability between updates.
[06:54:15] <__adrian> it was in the same column as slackware
[06:54:16] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[06:55:27] <__adrian> anyway, yeah - centos(like) is a good choice for your actual dev env
[06:56:06] <Byteflux> Ubuntu LTS is the only *supported* reasonable choice for WSL 2 as far as I can tell. Unless you want openSUSE
[06:56:22] <Byteflux> Looking at the store now, there's not many options.
[06:56:27] <__adrian> oh, for wsl, yeah.
[06:56:33] <__adrian> that's the one they developed with
[06:56:45] <Rockwood> good morning eveyone
[06:56:51] <Rockwood> everyone
[06:56:52] <Byteflux> I know there's ways to get whatever distro you want working with WSL2, but it's not supported :P
[06:56:58] <__adrian> but your docker (actual dev env) should match your prod server
[06:57:07] <Rockwood> what is WSL?
[06:57:25] <__adrian> google, my friend.  https://www.worldsurfleague.com/
[06:57:54] <__adrian> yes yes i'm joking  https://docs.microsoft.com/en-us/windows/wsl/install-win10
[06:57:58] <Byteflux> But yeah just slap Ubuntu LTS on WSL2 and use Docker with an image that appropriately mimics your production environment.
[06:58:44] <Byteflux> Could be a CentOS-based image or whatever.
[06:58:54] <Byteflux> I guess RockyLinux now that CentOS is *basically* dead? I don't know.
[06:59:03] <Rockwood> i love click click and installed every thing :)
[06:59:21] <__adrian> rocky or alma
[06:59:30] <Rockwood> __adrian, thanks for explain
[06:59:58] <__adrian> at some point alma was ahead in terms of stability - dunno how it stands now.
[07:02:18] <Rockwood> linux version are more stable for php i think
[07:04:46] <Byteflux> RockyLinux apparently has a guide to installing it as a WSL2 distro. Using this method, seemingly you can import any distro into WSL2
[07:05:42] <Byteflux> Pretty neat. You create a Rocky container from its docker image, then export the container as a tar... then you can actually use the wsl command to import it as a distro.
[07:06:47] <__adrian> Byteflux: if you do this regularly and have good, simple references (like a five-minute-for-dummies tutorial that's better than what's in the factoid now) i'dbe happy to hear about it
[07:07:16] <__adrian> i went through it all a couple months back but i don't actually use windows at al, so ...
[07:07:23] <__adrian> *l
[07:07:25] <Byteflux> __adrian: I do not, I just discovered it from https://docs.rockylinux.org/guides/import_rocky_to_wsl_howto/. The method they're using should in theory work with any distro though.
[07:07:41] <Byteflux> You just need to have a working Docker setup
[07:08:02] <__adrian> meant the whole wsl thing in general. something someone who's never heard of it before could follow.
[07:08:39] <Byteflux> Hm, what *is* in the factoid?
[07:08:40] <Byteflux> !+wsl
[07:08:46] <__adrian> !+xampp
[07:08:46] <php-bot> Don’t use XAMPP or WAMP. Use a real dev server on a VM, docker, or WSL2. Install docker and check out https://tecadmin.net/tutorial/docker-php-example
[07:09:00] <__adrian> though could make a wsl factoid.
[07:09:57] <__adrian> i forgot i didn't actually find anything i liked  >__<
[07:09:58] <Byteflux> Tough to say because it depends on where you draw the "dummies" line since it's not just WSL but also Docker.
[07:10:11] <__adrian> okay 6 minutes
[07:10:20] <Byteflux> So for someone who knows nothing about both, it can be overwhelming :P
[07:11:33] <__adrian> dummie = generally competent but un knowledgable. they're willing to follow the directions.
[07:13:31] <__adrian> imm 5-10 minutes should be suitable for the target audience. they can pay attention but we don't want them to get lost or scared off.
[07:16:21] <Byteflux> __adrian: This 4-part tutorial looks short and simple. Parts 2 and 4 are noise but could still be useful to some people. Parts 1 and 3 are installing WSL 2 and Docker Desktop (and making it work with WSL 2)
[07:16:23] <Byteflux> https://dev.to/paddymorgan84/getting-started-with-wsl-2-ja
[07:17:01] <__adrian> thx. will read
[07:17:16] <Byteflux> I liked it because it took the time to briefly explain what they were, as well.
[07:20:26] <Byteflux> It doesn't really cover the "how to PHP with Apache in Docker" part, though. Might wanna keep that existing link around
[07:33:24] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 250 seconds)
[07:36:47] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[07:43:02] *** Quits: genomc (uid245282@id-245282.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[07:46:42] *** Joins: LnxTen (uid448388@id-448388.highgate.irccloud.com)
[07:47:52] <LnxTen> https://www.irccloud.com/pastebin/f6DYNWac
[07:49:14] <Blondie101010> if you had pasted the whole message, it'd make helping you easier
[07:49:28] <Blondie101010> if you know how to read, you should get MUCH closer than giving us that error message
[07:49:32] <Blondie101010> show us where it happens
[07:49:53] <__adrian> LnxTen: do you understand what a "non numeric value" is?
[07:50:09] <Rockwood> its need int there
[07:50:18] <LnxTen> Blondie101010: sure. Vnstat-php front-end not showing data.
[07:50:21] <Blondie101010> not necessarily a int
[07:50:26] <__adrian> doesn't have to be an int.
[07:50:33] <Blondie101010> LnxTen:  no
[07:50:38] <Blondie101010> show the code in question
[07:50:39] <__adrian> LnxTen: i don't know what that means
[07:50:49] <__adrian> is this an application you're trying to use?
[07:50:49] <Blondie101010> actually where is that function called?
[07:51:15] <Rockwood> LnxTen, do you aware PHP's basics?
[07:51:22] <LnxTen> https://www.irccloud.com/pastebin/sg7ZOi8s
[07:51:41] <__adrian> LnxTen: that's not helpful
[07:51:41] <Blondie101010> woahhh
[07:51:47] <__adrian> LnxTen: do you understand what a "non numeric value" is?
[07:52:01] <LnxTen> Rockwood: no
[07:52:19] <__adrian> are you trying to write your own php code, or are you trying to run some php software?
[07:52:23] <Blondie101010> LnxTen:  is that a package you downloaded?
[07:52:50] <__adrian> let's get some better context first
[07:52:54] <__adrian> LnxTen: are you trying to write your own php code, or are you trying to run some php software?
[07:53:04] <LnxTen> Blondie101010: yes, i downloaded the package
[07:53:52] <__adrian> so if you're having somme trouble trying to run/install a php software package, you need to contact the authors of that code and/or see if they have a support channel/forum/etc..
[07:54:12] <__adrian> #php is not a channel for software support.
[07:54:18] <Rockwood> LnxTen, do you have access of the code?
[07:54:45] <LnxTen> http://www.sqweek.com/sqweek/index.php?p=1
[07:55:34] <LnxTen> __adrian: okey, thank you
[07:55:54] <Rockwood> bjd_at_jooz.net (replace _at_ with @). lol
[07:56:01] <__adrian> LnxTen: https://humdi.net/vnstat/  "Feel free to send comments by email or try contacting me from irc (Vergo @ IRCNet)"
[07:56:02] <LnxTen> Rockwood: yes
[07:56:48] <Rockwood> LnxTen, __adrian 's suggestion is very better to solve the issue correctly
[07:57:04] <LnxTen> __adrian: okey
[07:57:20] <LnxTen> Rockwood: okey thank you
[07:58:05] *** Parts: LnxTen (uid448388@id-448388.highgate.irccloud.com) ()
[08:05:53] *** Joins: SudoBash (~SudoBash@static-host-74-205-137-195.epbinternet.com)
[08:06:00] <SudoBash> anyone use Phalcon 4.1.2?
[08:08:02] <Byteflux> Surely *someone*, doubt very many.
[08:08:57] <SudoBash> I mean it's latest Phalcon version before 5 release, which was pretty recent
[08:09:14] <ironsoba> i have to join the windows insider program
[08:09:20] <ironsoba> for WASL2
[08:09:24] <Byteflux> ironsoba: False.
[08:09:36] <Byteflux> SudoBash: I meant that more as a "probably not many people using Phalcon in general"
[08:09:50] *** Joins: guidoc (~guido@151.37.245.217)
[08:09:55] <Blondie101010> SudoBash:  that should not matter if your question is on topic
[08:09:59] <Blondie101010> so what is the question?
[08:10:02] <Byteflux> Though if you have a question someone might answer.
[08:10:07] <Byteflux> Easier to just ask.
[08:10:34] <SudoBash> It very much does matter since there isn't a phalcon channel on this server and phalcon is a c extension to php
[08:10:57] <SudoBash> I'll ask just in case I guess
[08:11:04] <Blondie101010> tooo baddddddd
[08:11:18] <Blondie101010> complain to phalcon whatever
[08:11:34] <SudoBash> yea I suspect it's a phalcon issue, nevermind
[08:11:36] <Byteflux> Yes, we know what Phalcon is... but unless you're asking a question about actually modifying Phalcon, then likely your question has something to do with either compiling Phalcon or using Phalcon with PHP.
[08:11:55] <Byteflux> In which case it's not unreasonable to expect someone to know something.
[08:12:18] <SudoBash> No I have 4.1.2 compiled after compiling PSR
[08:12:57] <SudoBash> it works find, but when I'm iterating over an array of users to add to db it does some strange stuff with postgres sequence identifiers
[08:13:25] <__adrian> doesn't sound like anything specific to phalcon (so far)
[08:13:47] <SudoBash> you haven't even heard the issue......................
[08:13:56] <SudoBash> I've literally posted nothing...
[08:14:01] <Blondie101010> what are you waiting for to say it?
[08:14:09] <Byteflux> We've noticed.
[08:14:31] <__adrian> SudoBash: ask or don't.
[08:14:55] <Byteflux> ironsoba: To clarify, joining the Insider Program is absolutely not required to use WSL 2.
[08:15:17] <SudoBash> first db entry makes it as a record in postgre, but on second it adds to the sequence name:  relation "public.customers_customers_id_seq" does not exist,
[08:15:18] <Byteflux> You might be reading an outdated guide when that was the case.
[08:15:41] <SudoBash> first iteration it's using public.customer_id_seq
[08:15:53] <SudoBash> that makes it to postgres and shows as a record
[08:16:00] <Blondie101010> SudoBash:  it looks like you're not respecting the DB constraints
[08:16:22] <__adrian> is this something _your code_ is doing, or something phalcon is doing internally?
[08:16:28] <SudoBash> phalcon
[08:16:36] <Blondie101010> hmm
[08:16:43] <SudoBash> code is the same 1st and 2nd iteration
[08:16:55] <__adrian> k. then yeah, probably not something to ask here. but someone might know, or have troubleshooting ideas.
[08:16:57] <SudoBash> $result = $this->CustomersService->createCustomer($account_info[0][$key], $account_info[1][$key]);
[08:17:02] <Byteflux> Someone who is versed in Phalcon would presumably want to see your code. Probably paste it in a pastebin somewhere and hope for the best.
[08:17:05] <SudoBash>         foreach($account_info as $key=>$account) {
[08:17:17] <__adrian> SudoBash: not here on the channel
[08:17:37] <__adrian> use a paste site, and you can drop the link here. if anyone knows, they might answer.
[08:18:14] <Blondie101010> SudoBash:  I suggest you var_dump() right before the DB operation
[08:18:46] <SudoBash> it's catching on a PDOException, on first iteration it uses sequence "customers_seq_id" 2nd iteration it uses" customers_customers_seq_id"
[08:19:03] <Blondie101010> what?
[08:19:25] <SudoBash> I'm not changing anything, it's phalcon doing that, not my php
[08:20:24] <Blondie101010> to troubleshoot you need to add traces as I already suggested, and look at what is really happening
[08:20:59] <Blondie101010> and to get help, we need to see the code that causes the error
[08:21:23] <SudoBash> it's a mvc pdo model, no manual query
[08:21:59] <SudoBash> The code is all here: https://www.toptal.com/phalcon/phalcon-php-restful-apis
[08:22:05] *** Joins: guy_frm_yogaland (~guy_frm_y@117.228.8.37)
[08:22:06] <Blondie101010> so you wrote that?
[08:22:17] <Byteflux> I'm guessing that you aren't actually passing "customers_seq_id" anywhere. I assume the model layer is automatically putting it in your query.
[08:22:17] <__adrian> SudoBash: they're asking about the code _you_ wrote.
[08:22:55] <__adrian> if you want anyone to look at it, you need to share. you may link it here.
[08:22:57] <SudoBash> Byteflux, yes exactly, thank you.
[08:23:33] <SudoBash> Blondie101010, no that is where it comes from for reference
[08:23:36] <SudoBash> I adapted it from there
[08:23:54] <SudoBash> but literally just doing an iteration over createUser, but instead of createUser it's createCustomer
[08:24:10] <Blondie101010> SudoBash:  I don't want you to explain it
[08:24:14] <Blondie101010> that is torture
[08:24:25] <Blondie101010> show code or get no help
[08:24:44] <SudoBash> the only thing that has been changed is it's calling createUser multiple times on a foreach array it's the same code as in the above
[08:25:03] <Blondie101010> which is probably where the mistake is but you refuse to show it
[08:25:07] <Blondie101010> so stop now please
[08:25:14] <__adrian> SudoBash: ok, to be clear: if you're not going to show what you're talking about, then you need to stop asking.
[08:25:37] <SudoBash> I did show it, Blondie just has issues and has for a long time...
[08:25:42] <SudoBash> https://www.toptal.com/phalcon/phalcon-php-restful-apis
[08:25:42] <SudoBash> https://www.toptal.com/phalcon/phalcon-php-restful-apis
[08:25:43] <SudoBash> https://www.toptal.com/phalcon/phalcon-php-restful-apis
[08:26:39] <__adrian> SudoBash: don't spam.
[08:26:40] <Byteflux> SudoBash: We're not going to prowl through that, to be fair.
[08:26:46] <SudoBash> https://gitlab.com/agent_xcom/phalcon-rest-tutorial
[08:26:49] <Byteflux> We only want to see the isolated piece of relevant code in a paste site somewhere.
[08:27:03] <Byteflux> It's not hard to paste the relevant piece of code somewhere like gist.github.com
[08:27:21] <SudoBash> yea, exactly, that blog has the exact code snipet in a nice code block, but you probably didn't even look
[08:27:33] <__adrian> SudoBash: stop.
[08:27:33] <Byteflux> But more importantly, it's not asking a lot in exchange for offering help.
[08:28:03] <__adrian> take a break. if you don't want to cooperate with the people trying to help you, then drop it.
[08:28:37] *** Joins: Poboy (~Poboy@user/poboy)
[08:28:41] <Byteflux> Hm, is nikic/fast-route still the ideal router for a simple project? Anyone still using that?
[08:28:47] <SudoBash> Byteflux already hit the hammer on the head and has more of an understanding than any others trying to "help."
[08:29:08] *** __adrian sets mode: +q $a:SudoBash
[08:29:49] <__adrian> Byteflux: yeah, it's behind a lot of routers
[08:30:08] <Byteflux> Behind as in a lot of routers are built on top of it?
[08:30:26] <__adrian> yeah. slim, for example. i know others are but not which offhand.
[08:30:45] <Byteflux> Ah okay. Yeah that's kinda what I want. I don't want to pull in Slim but also don't want anything complex.
[08:31:16] *** __adrian sets mode: +b $a:SudoBash
[08:31:17] <Byteflux> Guess I'll stick to fast-route if it's still a good choice for a lightweight router
[08:31:24] *** SudoBash was kicked by __adrian (SudoBash)
[08:35:17] <Byteflux> Is there a simple way (some minimal component/package maybe) to *send* a PSR-7 Response without messing with header() and all the other stuff?
[08:37:24] <Byteflux> Assuming I have constructed a $response (PSR-7 ResponseInterface) and just wanna send it as the actual response. FastRoute seemed much lower level and focused on resolving routes, not actually sending responses.
[08:37:33] *** Parts: Rockwood (~Rocky@user/rocky) (I am coming back in few)
[08:37:34] <Vision> phalcon's not great for shared hosting right?  would have to be installed/maintained by the hosting company?
[08:37:55] <Byteflux> Vision: I would argue that shared hosting isn't good.
[08:38:39] <Byteflux> I have no real opinion of Phalcon, but shared hosting is too limiting and not worth paying for.
[08:39:21] <Vision> red herring, unrelated to my question
[08:39:39] <__adrian> Vision: yes, it would need to be supported by the host. not sure i see value in phalcon, but i haven't tried to use it in a long while.
[08:40:29] <Byteflux> Considering how easy and cheap it is to scale web apps, I don't see any real value in Phalcon either.
[08:43:10] <Byteflux> As far as hosting, I'd probably just containerize it and throw it on a cheap cloud provider. Way better than shared hosting :P
[08:44:07] <Vision> I've yet to find cloud hosting that can support DN
[08:44:36] *** Joins: ss23 (~ss23@irc.ss23.geek.nz)
[08:44:58] <__adrian> DN *S  ?
[08:45:04] <Vision> no
[08:45:29] <__adrian> ?
[08:45:39] <Vision> deez nuts
[08:49:10] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[08:56:15] <__adrian> Byteflux: yeah it's not about sending responses. "sending" a psr-7 response isn't all that terrible though. foreach foreach headers, http_response_code(), then echo the body
[08:57:25] <__adrian> e.g., https://github.com/slimphp/Slim/blob/4.x/Slim/ResponseEmitter.php
[08:57:37] <__adrian> you could un-complicate that quite a bit
[08:59:25] *** Quits: guy_frm_yogaland (~guy_frm_y@117.228.8.37) (Quit: Client closed)
[09:00:41] *** Joins: \mSg (~mSg@user/msg/x-0285936)
[09:00:47] *** Quits: beob (beob@user/beob) (*.net *.split)
[09:01:49] *** Joins: beob (beob@user/beob)
[09:10:01] *** Quits: dlundgren (~dlundgren@75-9-109-251.lightspeed.milwwi.sbcglobal.net) (Quit: dlundgren)
[09:21:36] *** Quits: Poboy (~Poboy@user/poboy) (Quit: Client closed)
[09:26:36] *** Joins: genomc (uid245282@id-245282.stonehaven.irccloud.com)
[09:39:14] *** Joins: Akimb (~Akimb@82-135-197-171.static.zebra.lt)
[09:55:17] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[09:56:05] *** Joins: tccki_ (~tccki@2406:e001:2:5a60:250:56ff:fe9e:8795)
[09:56:21] *** Quits: tccki (~tccki@2406:e001:2:5a60:250:56ff:fe9e:8795) (Read error: Connection reset by peer)
[09:56:40] *** Quits: ss23 (~ss23@irc.ss23.geek.nz) (Ping timeout: 240 seconds)
[09:57:38] *** tccki_ is now known as tccki
[10:16:06] *** Joins: norkle (~norkle@admin.nasa-g0v.com)
[10:17:30] *** norkle is now known as NORKLE
[10:17:40] *** NORKLE is now known as Norkle
[10:32:52] *** Quits: guidoc (~guido@151.37.245.217) (Quit: WeeChat 3.2)
[10:36:00] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[10:37:35] *** Joins: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net)
[10:42:37] *** Quits: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net) (Ping timeout: 252 seconds)
[10:44:10] *** Joins: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net)
[10:57:25] *** Joins: guidoc (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f)
[10:57:28] *** Quits: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net) (Ping timeout: 252 seconds)
[11:02:38] *** Joins: anomander (~anomander@vps-e9abfd3d.vps.ovh.net)
[11:18:59] *** Joins: MCMiic (~mcmic@63.120.199.77.rev.sfr.net)
[11:32:13] *** Joins: semeion (~semeion@user/semeion)
[11:35:36] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[11:42:19] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[11:50:10] *** Quits: mishehu (~mishehu@mira001.eyepeeveesicks.shavedgoats.net) (Ping timeout: 240 seconds)
[11:54:20] *** Joins: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net)
[11:59:16] *** Joins: poebel (~poebel@user/poebel)
[12:02:14] *** Joins: mishehu (~mishehu@mira001.eyepeeveesicks.shavedgoats.net)
[12:07:07] *** Joins: Alex8532 (~Alex8532@user/alex8532)
[12:16:11] *** Joins: DevAntoine (~DevAntoin@195.101.183.21)
[13:01:50] *** Joins: freeman_h (~Ume@80.209.149.171)
[13:12:20] *** Joins: delboy1978uk (~delboy197@109.132.42.202)
[14:02:49] *** Joins: LucaTM (~LucaTM@user/lucatm)
[14:08:10] *** Quits: TheStormsOfFury (~StormsOfF@wsip-207-162-134-107.tu.ok.cox.net) (Ping timeout: 240 seconds)
[14:14:14] *** Joins: keiserr (~keiserr@user/keiserr)
[14:30:23] *** Joins: dlundgren (~dlundgren@75-9-109-251.lightspeed.milwwi.sbcglobal.net)
[15:18:50] *** Joins: easyme (~easyme@user/easyme)
[15:20:26] <easyme> Hello
[15:20:58] <easyme> How difficult is it to upgrade a php-5 project to php-8?
[15:23:01] *** Quits: montybanksnyc (~montybank@pool-71-127-199-18.nwrknj.fios.verizon.net) (Remote host closed the connection)
[15:23:20] *** Joins: montybanksnyc (~montybank@pool-71-127-199-18.nwrknj.fios.verizon.net)
[15:32:31] <guidoc> easyme: it should be easy unless it used the mysql api, and even then you can use mysql-shim
[15:34:21] <AllenJB> easyme: The PHPCompatibility ruleset for CodeSniffer can alert you to most problems in an existing codebase.
[15:39:08] <Naktibalda> it depends if it was written using all the latest features of PHP 5.6 or if it is an old PHP 4 project patched to run on PHP 5
[15:57:21] *** Quits: guidoc (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f) (Quit: WeeChat 3.2)
[16:00:42] *** Joins: B3k (~B3k@b3k.pl)
[16:15:20] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[16:20:30] *** Joins: xSavitar (~xSavitar@user/xsavitar)
[16:21:58] *** Quits: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net) (Ping timeout: 252 seconds)
[16:28:01] *** Quits: keiserr (~keiserr@user/keiserr) (Ping timeout: 252 seconds)
[16:32:21] <easyme> Naktibalda: It was written in PHP-5.6, I think
[16:32:37] <easyme> mysql database used
[16:33:40] <Naktibalda> does it use mysql_query, mysqli_query or PDO?
[16:36:02] <easyme> Both mysqli_query and PDO
[16:36:02] *** Joins: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net)
[16:41:41] *** Quits: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net) (Ping timeout: 244 seconds)
[16:45:58] *** Quits: delboy1978uk (~delboy197@109.132.42.202) (Quit: delboy1978uk)
[16:46:41] *** Joins: nuala (~nuala@user/nuala)
[16:47:30] *** Joins: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net)
[16:52:43] *** Parts: easyme (~easyme@user/easyme) ()
[16:55:23] *** Joins: WishBoy (~WishBoy@user/wishboy)
[16:58:37] *** Quits: Norkle (~norkle@admin.nasa-g0v.com) (Quit: Lost terminal)
[17:12:04] *** Quits: kuhilas (~kuhilas@2001:470:69fc:105::3040) (Quit: Bridge terminating on SIGTERM)
[17:12:04] *** Quits: ramsey[m] (~ramsey@phpc/ramsey) (Quit: Bridge terminating on SIGTERM)
[17:12:05] *** Quits: wutzelputz (~wutzelput@2001:470:69fc:105::3117) (Quit: Bridge terminating on SIGTERM)
[17:14:46] *** Joins: ramsey[m] (~ramsey@phpc/ramsey)
[17:15:06] *** Joins: guidoc (~guido@host-95-239-189-12.retail.telecomitalia.it)
[17:16:17] *** Quits: guidoc (~guido@host-95-239-189-12.retail.telecomitalia.it) (Client Quit)
[17:16:57] *** Joins: wovixo (~wovixo@128.104.205.49)
[17:17:38] *** Joins: kuhilas (~kuhilas@2001:470:69fc:105::3040)
[17:17:38] *** Joins: wutzelputz (~wutzelput@2001:470:69fc:105::3117)
[17:17:47] *** Joins: guidoc (~guido@host-95-239-189-12.retail.telecomitalia.it)
[17:19:53] *** Quits: Ducki_ (~ducki@user/ducki) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[17:20:13] *** Joins: Ducki (~ducki@user/ducki)
[17:26:21] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[17:27:33] *** Joins: delboy1978uk (~delboy197@d51A484D1.access.telenet.be)
[17:27:37] *** Quits: poebel (~poebel@user/poebel) (Read error: Connection reset by peer)
[17:27:57] *** Joins: jeffrey (~jeffrey@80-115-60-193.cable.dynamic.v4.ziggo.nl)
[17:28:00] *** Joins: onizu (uid373383@id-373383.highgate.irccloud.com)
[17:35:06] *** Joins: Junxter (~Junxter@114.221.66.47)
[17:37:36] *** Joins: pmercado (~pmercado@186.107.39.248)
[17:44:07] *** Quits: Akimb (~Akimb@82-135-197-171.static.zebra.lt) (Read error: Connection reset by peer)
[17:45:02] *** Quits: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net) (Ping timeout: 245 seconds)
[17:50:23] *** Quits: delboy1978uk (~delboy197@d51A484D1.access.telenet.be) (Quit: delboy1978uk)
[17:51:46] *** Joins: delboy1978uk (~delboy197@d51A484D1.access.telenet.be)
[17:52:23] *** Quits: Mr-Snick (mr-snick@gateway/vpn/protonvpn/mr-snick) (Remote host closed the connection)
[17:56:26] *** Joins: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net)
[17:57:07] *** Quits: travisghansen (~travisgha@192.74.130.86) (Quit: The Lounge - https://thelounge.github.io)
[17:58:21] *** Quits: Warped (~Warped@user/warped) (Quit: We Gone! Bye Bye)
[17:58:29] *** Joins: travisghansen (~travisgha@192.74.130.86)
[17:59:44] *** Joins: Warped (~Warped@user/warped)
[18:01:31] *** Quits: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net) (Ping timeout: 252 seconds)
[18:03:18] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[18:03:30] <MCMiic> Is the behaviour of resources objects when serialized documented anywhere? I am searching the documentation but I cannot find much information about this subject.
[18:03:55] <AllenJB> What exactly do you mean by "resource objects"?
[18:04:01] <Naktibalda> resources are not objects
[18:04:05] <MCMiic> It seems when an object get serialized (ie in the session) its resource properties are set to int(0) but I would like a source on that
[18:04:17] <MCMiic> Yeah resource vars I meant
[18:04:21] <Byteflux> Resources cannot be serialized.
[18:04:30] *** Joins: gp5st (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net)
[18:04:43] <Byteflux> This is clearly documented on php.net/serialize
[18:04:44] <MCMiic> Byteflux: Do you have a documentation link that explains this? This is what I am trying to find
[18:05:48] <MCMiic> Byteflux: Hum, it does not say much
[18:06:03] <Byteflux> "serialize() handles all types, except the resource-type and some objects"
[18:06:21] <MCMiic> Byteflux: Yes but it does not explain how serialization behaves in this case
[18:06:23] <Byteflux> There are obvious challenges to trying to serialize resources that it doesn't make sense to do so.
[18:06:47] <MCMiic> I understand that. But I need to know how my properties will behave in this case.
[18:07:34] <Naktibalda> MCMiic: try it and see, as you already noticed resource identifiers are integers
[18:07:46] <Naktibalda> they can't be deserialized
[18:07:56] <MCMiic> Naktibalda: I would like to know if there is documentation on this
[18:07:57] <Byteflux> That particular behavior doesn't seem to be clearly documented correct, but if you are getting an int it is likely going to be the resource identifier as mentioned.
[18:08:20] <Byteflux> Although maybe not, because int(0) seems unlikely.
[18:08:35] <MCMiic> I’m gonna try to reproduce on 3v4l, to see if this is consistent accross version
[18:08:36] <Byteflux> int(5) or int(13) or whatever other non-zero number would be more likely.
[18:08:44] <Byteflux> If it were the resource ID.
[18:09:34] <MCMiic> I am asking this because I was using is_resource(), which worked, and I switched to tests like !== FALSE, and it failed because in corner cases I had int(0), and it took me some time to understand how that var would be of type int.
[18:10:10] <MCMiic> Also, when resources are turned into objects, like most of them are in recent PHP versions, how do these objects behave after serialization?
[18:11:48] <Naktibalda> are you the same person who spent all day yesterday serializing objects for logging?
[18:12:08] <AllenJB> In the case of OO interfaces, the behavior is defined by the object (in PHP code terms, via __serialize(), __sleep(), __unserialize() and __wakeup() methods) and will depend on implementation
[18:13:17] <Byteflux> I don't think it's possible to create userland resources, but any object-based resources would presumably be subject to the typical magic method rules, although it would not surprise me if object-based resources simply throw an exception on __serialize()
[18:13:21] <Byteflux> Worth testing.
[18:13:52] *** Joins: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net)
[18:16:18] <MCMiic> https://3v4l.org/BHtAh
[18:16:44] <MCMiic> It seems to be consistently int(0) when unserializing resources. I am a bit sad to not find a source for this in documentation
[18:16:58] <MCMiic> Naktibalda: No I did not speak here yesterday
[18:18:00] <MCMiic> I will need to check how PHP 8.1 behaves with LDAP resources which are turned into objects. If they become something else than int(0) it might cause subtle BC breaks
[18:18:22] *** Quits: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net) (Ping timeout: 245 seconds)
[18:19:03] <Byteflux> When in doubt, you can always look at the tests
[18:19:07] *** Quits: delboy1978uk (~delboy197@d51A484D1.access.telenet.be) (Ping timeout: 252 seconds)
[18:19:10] <Byteflux> https://github.com/php/php-src/blob/php-8.0.10/ext/standard/tests/serialize/serialization_resources_001.phpt
[18:19:24] <Byteflux> That's the expected behavior for serializing resources in the latest stable PHP.
[18:19:40] <Byteflux> It doesn't say int(0) specifically, but it does expect that it gets serialized to an int.
[18:20:09] <Byteflux> So you can take that test as a form of documentation.
[18:20:58] *** Quits: Alex8532 (~Alex8532@user/alex8532) (Quit: Going offline, see ya! (www.adiirc.com))
[18:21:45] <Byteflux> This particular usage of serialize(), whether accidental or deliberate, I'd guess is an outlier and BC breaks here probably isn't an issue.
[18:23:40] <Naktibalda> unsupported types are serialized as 0 https://github.com/php/php-src/blob/14f599ea7def7c7a59c40aff763ce8b105573e7a/ext/standard/var.c#L1253-L1254
[18:25:45] *** Joins: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net)
[18:26:55] <Naktibalda> this code hasn't changed much since April 1999 https://github.com/php/php-src/blob/257de2baded9330ff392f33fd5a7cc0ba271e18d/ext/standard/var.c#L235
[18:29:04] *** Joins: delboy1978uk (~delboy197@cust-174-28-109-94.dyn.as47377.net)
[18:29:12] <MCMiic> Undocumented BC always leads to hell. Serialization through session is kind of hidden, I think a lot of people do not realize their object goes through serialization by using session.
[18:30:00] <MCMiic> I asked on internal mailing list to have more information on new classes replacing resources and serialization.
[18:33:37] <MCMiic> https://3v4l.org/EKFP0 Found a function that I could test
[18:33:49] <MCMiic> So it seems these objects will throw upon serialization
[18:34:16] <MCMiic> At least it will not be a hidden BC I suppose
[18:38:49] <__adrian> MCMiic: https://php.net/serialize mentions it - "the resource-type and some objects [cannot be serialized]"
[18:39:09] <MCMiic> __adrian: Yes but it does not explain that they are turned into int(0)
[18:39:21] <__adrian> unfortunate there's not a list somewhere, but once you know this issue is about resources, it's easy enough to think about
[18:39:32] <__adrian> yeah, i actually didn't know that either
[18:39:42] <__adrian> i thought they errored
[18:39:59] <__adrian> unserializable objects all error, iirc
[18:40:00] <MCMiic> I wondered how my property could contain an int, I looked at all assignments on it to check the types
[18:41:07] <MCMiic> __adrian: Do you know how that behaves when such an object is put in session? When does the error happen, is it cachable?
[18:41:18] <MCMiic> catchable*
[18:42:00] <__adrian> should be. though note it doesn't happen on _assignment_, as you might expect. it wouldn't happen until the session is written.
[18:42:04] <biberu> that should happen in the session write handler
[18:42:18] <__adrian> in order to have control over that, you'd need to session_write_close() early
[18:42:22] *** Quits: delboy1978uk (~delboy197@cust-174-28-109-94.dyn.as47377.net) (Quit: delboy1978uk)
[18:42:39] <__adrian> i don't recall offhand what exception type is thrown, but that's easy enough to find out
[18:42:41] <biberu> at that point it's pretty late to do anything about it though, you shouldn't put anything unserializable in the session to begin with
[18:42:53] <__adrian> ^ always the better approach
[18:43:05] <biberu> even if you catch it and filter it out your session is now in some undefined state, not what the developer intended
[18:43:19] <__adrian> mmm hm
[18:47:28] *** Joins: delboy1978uk (~delboy197@d51A484D1.access.telenet.be)
[18:54:22] *** Joins: Akimb (~Akimb@86.100.13.100)
[18:54:54] *** Joins: memoryleak (~memorylea@77-58-142-250.dclient.hispeed.ch)
[18:55:40] <MCMiic> Yeah I do not intend to catch it for real, I’m thinking about how I will be able to understand what happens when it happens
[18:56:57] <Naktibalda> it has never happened to me
[18:57:02] <__adrian> if you don't session_write_close early, then it happens automatically during shutdown - too late to do anything about it
[18:58:02] <Naktibalda> storing objects in session is a bad idea, but if you do, implement __sleep and __wakeup magic methods. raise alert if they are missing.
[18:58:58] <MCMiic> I have a hard time imagining how to avoid storing objects in session, it means you re-read the whole configuration on each request?
[18:59:13] <Naktibalda> yes
[18:59:23] <MCMiic> A lot of things are stored in session in the application I work on, mostly for performance reason
[18:59:34] <Naktibalda> is that configuration user specific?
[19:00:06] <MCMiic> Some part of it is I guess. Most is not.
[19:00:34] <__adrian> session is for values. objects are not values, they are behavior.
[19:00:40] <Naktibalda> reading data from session file has cost too.
[19:00:57] <__adrian> if you have user-specfic config values, you might store those in the session (if it's really a problem)
[19:00:59] <MCMiic> Yeah but computing everything on each request is a no-go
[19:01:27] <Naktibalda> it is more efficient to cache shared configuration in shared cache
[19:01:32] <__adrian> the whole config though, the not-user-specific parts, should definitely not go there. cache it somewhere else.
[19:01:46] <__adrian> session is for state, not for caching
[19:01:55] <__adrian> might look at redis, for example
[19:01:55] <biberu> session data is harder to work with in general, personally i'd just store a pointer (e.g. some id) to where the data can be found, then let that other place use a real cache or whatever you need
[19:01:58] <MCMiic> What is for caching then?
[19:02:27] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[19:02:47] <MCMiic> biberu: That means you have two timeouts to handle, the one for the session and the one for the cache, among other problems
[19:03:08] <__adrian> sessions and cache probably shouldn't time out at the same time anyway
[19:03:39] <biberu> MCMiic: did you measure and find this to be a problem?
[19:03:54] <MCMiic> Measure what?
[19:04:05] <biberu> MCMiic: your two "timeouts"
[19:04:08] <__adrian> asking if you actually found performance problems
[19:04:24] <MCMiic> No but the application is caching in session
[19:04:38] <MCMiic> To compare I would have to write a caching system first
[19:04:52] <__adrian> might be as simple as stopping that, and then finding out you don't actually have a problem  :)
[19:04:57] <biberu> MCMiic: because i'd 1) not optimize before having measured and 2) found that to be a problem and 3) prioritize a robust architecture, which i don't think using the session as a cache sounds like
[19:05:04] *** Quits: Akimb (~Akimb@86.100.13.100) (Read error: Connection reset by peer)
[19:05:07] <MCMiic> But yes, some things are cached in the session because not caching them caused slowness
[19:05:13] <__adrian> and if you find you DO, then you have a solid starting point for a better fix
[19:05:55] <__adrian> i wouldn't want reading a config to be a noticable performance issue. did you find out why it's so slow?
[19:05:56] <MCMiic> I do not follow, caching was done to speed up and it worked, I just never thought about using something else than session for caching.
[19:06:09] <biberu> "caching system" makes it sound rather more complicated than it should be :)
[19:06:23] <biberu> it's just crud
[19:06:34] <MCMiic> __adrian: It comes from both LDAP and a configuration file, for staters
[19:07:09] <MCMiic> biberu: Well it does seem complicated to me, you have to add a timeout system, avoid concurency problems, find out where you store the stuff, how it scales…
[19:07:11] <__adrian> i'm guessing ldap is the slow part?
[19:07:55] <MCMiic> LDAP reading is quite fast
[19:08:06] <biberu> MCMiic: you could use e.g. redis, memcached, or even a db (your dbms might cache it in memory for you)
[19:08:12] <__adrian> reading from file is slow?
[19:08:43] <biberu> MCMiic: there are tons of options, i don't know what you're doing that requires a timeout system though
[19:09:10] <__adrian> (re: timeouts: redis has expiries)
[19:09:10] <biberu> or what kind of concurrency issues you're having that are solved with sessions
[19:09:23] <biberu> are you relying on session locks?
[19:09:29] <MCMiic> __adrian: Reading from both file and ldap and computing is slower than reading from session
[19:10:01] <MCMiic> biberu: If the cache does not timeout it fills the disk
[19:10:19] <MCMiic> biberu: Concurrency issues I was thinking if I store stuff if files
[19:10:20] <__adrian> without details, i'd be looking into why that process would be so expensive.
[19:10:43] <biberu> MCMiic: ah, that kind of expiry, i thought you meant e.g. connection timeouts
[19:10:46] <Naktibalda> if you stored configuration from file in a single place instead of copying to every session, you would save a lot of disk space
[19:10:50] <MCMiic> I cannot expect people to run a DB for an application that already relies on LDAP
[19:11:05] <__adrian> and again, sessions aren't meant for caching. they're for state.
[19:11:05] <biberu> MCMiic: redis supports e.g. LRU, you can just tell it how much it's allowed to use
[19:11:13] <MCMiic> biberu: Oh sorry. Not an native english speakers my choices of word can be weird sometimes
[19:11:32] <biberu> MCMiic: np, me neither :)
[19:11:37] <Naktibalda> redis supports timeouts too, even better than file-bsaed sessions
[19:11:47] <__adrian> sounds like some of what you're talking about is state, but not all
[19:11:51] <MCMiic> __adrian: You make it sound like my configuration loading is taking forever, it is not that slow, it’s just faster to store the result
[19:12:12] <__adrian> :)  _you_ made it sound slow
[19:12:48] <__adrian> if it's not slow, then you don't have a problem :) and note Naktibalda's comment above, if you're short on disk space, shoving everything into sessions is not a good idea
[19:13:01] <MCMiic> *sigh*
[19:13:16] <MCMiic> I never said I’m short on disk space I’m saying cache needs to be cleaned at some point
[19:13:26] <MCMiic> short and not-infinite is not the same thing
[19:14:01] * Naktibalda will ignore this channel for 20 minutes
[19:14:27] *** Quits: fiddlerwoaroof (~fiddlerwo@user/fiddlerwoaroof) (Ping timeout: 240 seconds)
[19:14:36] <__adrian> well, if you want to clarify things, then you might get some better feedback. but if you're satisfied, that's ok
[19:15:18] *** Joins: fiddlerwoaroof (~fiddlerwo@user/fiddlerwoaroof)
[19:15:50] <MCMiic> I will not make my application slower because you think session is not for cache, and I will not depend on something like redis, which is a whole other beast.
[19:16:03] <MCMiic> Anyway, I’ll see what happens when 8.1 is out I guess
[19:18:33] <biberu> i don't get it
[19:18:43] *** Joins: Alex8532 (~Alex8532@user/alex8532)
[19:18:46] <biberu> how are you preventing the session data from eating too much space now then?
[19:19:02] <biberu> it just seems like you're making it more complicated :)
[19:20:43] <pmercado> Hi, currently using nginx + php 7.2 + Laravel + MySQL and my question is about persistence connection to db. For every web request, nginx start a threat to handle it, then start a php process request, then open a connection to db, retrieve data, close connection to db, php finish processing data, return data to nginx, nginx close php threat, then return data to web cliente and close threat.... right? In that scenario there is no way to php keep a
[19:20:44] <pmercado> connection to mysql
[19:22:34] <__adrian> persistent connections exist, yes. but you need to have the capacity, and know what you're dealing with, else you're likely to make things slower in the end
[19:23:45] <__adrian> e.g., pconnections take time to return to the "available" pool, so if you have fewer total db connections than requests some of them will end up stalling out
[19:31:12] <AllenJB> IMO persistent connections are generally more trouble than they're worth. You'd be better off looking at alternatives such as job queues w/ persistent workers or a persistent application server instead of php-fpm.
[19:31:42] <freeman_h> Hi all anyone use eleastic search? if yes is it possible to limit the number of results to say 20 However i want a total count of all products in a category for example if i sell shoes with different colours and someone seach for nike. I want it to return 20 out of 100 nike sneakers, a count of the total of red, green and other colours, etc.
[19:32:38] <MCMiic> biberu: Sessions have an expiration system built in
[19:32:51] <__adrian> no, they don't
[19:33:00] <__adrian> lifetime ≠ expiration
[19:33:41] <__adrian> if you want your session to expire, you need to do that yourself
[19:33:41] *** Joins: TheStormsOfFury (~StormsOfF@wsip-207-162-134-107.tu.ok.cox.net)
[19:33:55] <MCMiic> So I say timeout it’s not good I say expiration it’s not good
[19:34:02] <MCMiic> Call it what you want
[19:34:48] *** Quits: gp5st (~gp5st@pool-72-77-44-213.pitbpa.fios.verizon.net) (Ping timeout: 256 seconds)
[19:35:05] <__adrian> MCMiic: no one is nitpicking, here. i'm pointing out a difference that it seems you're not aware of. if you expect your sessions to expire on their own, that's not going to happen, and it might cause problems with your application.
[19:35:26] <__adrian> i'm not saying you used the wrong word. i'm saying it sounds like you have a misunderstanding.
[19:36:20] *** Joins: magla (~gelignite@55d413e5.access.ecotel.net)
[19:37:29] <MCMiic> __adrian: So enlighten me what happens to a session after its lifetime is over?
[19:38:53] <__adrian> first thing to know is that "lifetime over" means "unused for {lifetime} seconds." i.e., it's counting from last access, NOT from time of creation.
[19:38:54] *** Quits: kerunaru (~Jmcb@86.red-212-170-173.staticip.rima-tde.net) (Ping timeout: 244 seconds)
[19:39:05] <pmercado> __adrian: AllenJB thanks for your help. Is there a way to keep a php process server running to handle persistence connections to db and not die in every request? Just asking theory currently seems tricky to achieve
[19:39:06] <__adrian> when the lifetime is over, it's considered garbage.
[19:39:18] <__adrian> that means the file _might_ be deleted next time GC runs.
[19:40:06] <__adrian> https://www.php.net/manual/en/session.configuration.php#ini.session.gc-maxlifetime
[19:40:45] <MCMiic> So that is exactly what I meant by timeout/expiry I still do not see the subtlety here
[19:40:48] *** Quits: Alex8532 (~Alex8532@user/alex8532) (Quit: Going offline, see ya! (www.adiirc.com))
[19:41:37] <MCMiic> Of course the timeout is from last access, the session must not expire while it’s in use
[19:41:55] <biberu> MCMiic: that's a limit on time, not size, imagine that a lot of sessions are created in a short time
[19:42:06] <__adrian> MCMiic: when you say "expiry," I think of something that has to do with how long the session actually exists. e.g., "after 1 hour the user has to log in again" or "this should go away after 5hours so we reload and get fresh values."
[19:42:11] <biberu> MCMiic: that might even be an attack vector
[19:42:32] <__adrian> if you're only talking about GC, then ok.
[19:42:54] <__adrian> but yeah, that's fun :) someone might keep lots of big sessions open as an attack
[19:43:03] <MCMiic> __adrian: No I meant expiry as in if the session is not used for some time it gets closed then destroyed
[19:43:57] <MCMiic> The application is not open on the internet it’s meant for intranets. If your employees/students are ddosing your services you have other problems at hand…
[19:44:25] <__adrian> i'd suggest it would be the same problem, just in a different space
[19:44:44] <__adrian> and it can be done by accident just as easy
[19:44:52] <biberu> i don't see why you'd build it like that anyway
[19:45:05] <MCMiic> I really do not see why you would not…
[19:45:07] <MCMiic> Anyway
[19:45:10] <MCMiic> I’m going home
[19:45:17] <MCMiic> Have fun
[19:45:20] <biberu> that it runs on an intranet, for now, is no excuse
[19:45:33] <MCMiic> biberu: It’s not for now, and it’s not an excuse for anything
[19:45:58] <MCMiic> I was just answering what pops into my head when you suggest storing data is a horrendous attack vector :-P
[19:46:01] <MCMiic> see ya
[19:46:04] *** Parts: MCMiic (~mcmic@63.120.199.77.rev.sfr.net) (Konversation terminated!)
[19:46:33] <biberu> ¯\_(ツ)_/¯
[19:48:17] <__adrian> pmercado: php is designed around the idea of serving a single request and then dying. writing a persistent application in php is not straightforward.
[19:48:46] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 252 seconds)
[19:48:49] <__adrian> yes, there are projects that do it, but you really need a legit use case.
[19:50:32] <__adrian> i'm trying to think of names but soming up blank
[19:50:37] <__adrian> *coming
[19:50:46] <__adrian> all i can think of is ratchet
[19:51:40] <AllenJB> Framework X (currently in Beta): https://framework-x.clue.engineering/
[19:53:25] <AllenJB> Not really looked at them but I believe PHP-PM and RoadRunner (hybrid PHP and Go) also do the same sort of thing
[19:54:17] <pmercado> yes, like ratchet for web requests not only websocket
[19:54:28] <pmercado> like an application server written in php
[19:54:42] <pmercado> thanks friends, very good approach
[20:14:36] *** Quits: wovixo (~wovixo@128.104.205.49) (Quit: Leaving)
[20:31:03] *** Quits: delboy1978uk (~delboy197@d51A484D1.access.telenet.be) (Quit: delboy1978uk)
[20:32:01] *** Joins: ss23 (~ss23@irc.ss23.geek.nz)
[20:38:50] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 244 seconds)
[20:41:37] *** Joins: semeion (~semeion@user/semeion)
[20:44:21] *** Quits: Pixi (~Pixi@user/pixi) (Ping timeout: 250 seconds)
[20:44:39] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: There's nothing dirtier than a giant ball of oil)
[20:58:15] *** Quits: DevAntoine (~DevAntoin@195.101.183.21) (Remote host closed the connection)
[20:58:49] *** Joins: DevAntoine (~DevAntoin@195.101.183.21)
[20:59:17] *** Joins: mysteryhunter (~Mysteryhu@2001:4bb8:2ea:e76f:d936:a5b6:617b:beaa)
[21:01:07] *** Quits: DevAntoine (~DevAntoin@195.101.183.21) (Remote host closed the connection)
[21:03:36] *** Quits: guidoc (~guido@host-95-239-189-12.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[21:10:25] *** Joins: freeworld (~vit@chello085216193138.chello.sk)
[21:10:54] *** Quits: Zauberfisch (~Zauberfis@cm83-180.liwest.at) (Quit: No Ping reply in 180 seconds.)
[21:12:14] *** Joins: Zauberfisch (~Zauberfis@cm83-180.liwest.at)
[21:15:02] *** Quits: \mSg (~mSg@user/msg/x-0285936) (Remote host closed the connection)
[21:15:27] *** Joins: \mSg (~mSg@user/msg/x-0285936)
[21:19:19] *** Quits: Junxter (~Junxter@114.221.66.47) (Read error: Connection reset by peer)
[21:22:20] *** Quits: Alina-malina (~Alina-mal@user/alina-malina) (Ping timeout: 252 seconds)
[21:39:57] *** Quits: freeman_h (~Ume@80.209.149.171) (Quit: Konversation terminated!)
[21:42:30] *** Quits: semeion (~semeion@user/semeion) (Quit: WeeChat 3.2)
[21:52:08] *** Joins: Rockwood (~Rocky@user/rocky)
[21:52:31] *** Quits: mysteryhunter (~Mysteryhu@2001:4bb8:2ea:e76f:d936:a5b6:617b:beaa) (Ping timeout: 252 seconds)
[21:54:46] <Rockwood> oops too much rain :(
[21:55:12] *** Joins: kerunaru (~Jmcb@64.red-79-146-101.dynamicip.rima-tde.net)
[21:55:59] <TML> __adrian: *sigh*
[21:56:28] <TML> Sorry you have to deal with stuff like that
[21:59:00] *** Joins: Pixi (~Pixi@user/pixi)
[22:01:01] <TML> pmercado: Roadrunner and Swole are two things you might want to try looking into that I think play in the arena you're talking about
[22:01:19] *** Joins: genom (~g@37.214.77.199)
[22:05:33] *** Joins: Alina-malina (~Alina-mal@user/alina-malina)
[22:07:04] <Rockwood> __adrian, hi how are you sir?
[22:07:12] <pmercado> TML: amazing , thanks
[22:07:35] <Rockwood> TML, hi how are you?
[22:08:18] *** Joins: guidoc (~guido@host-95-239-189-12.retail.telecomitalia.it)
[22:14:56] *** Quits: kerunaru (~Jmcb@64.red-79-146-101.dynamicip.rima-tde.net) (Ping timeout: 244 seconds)
[22:15:11] *** Joins: kerunaru (~Jmcb@64.red-79-146-101.dynamicip.rima-tde.net)
[22:15:21] *** Quits: NiKaN (sid385034@id-385034.helmsley.irccloud.com) (Ping timeout: 250 seconds)
[22:16:13] *** Quits: fury (uid193779@id-193779.helmsley.irccloud.com) (Ping timeout: 250 seconds)
[22:16:14] *** Joins: NiKaN (sid385034@id-385034.helmsley.irccloud.com)
[22:16:39] *** Quits: BlueShark (sid10311@user/blueshark) (Ping timeout: 250 seconds)
[22:18:07] *** Joins: fury (uid193779@id-193779.helmsley.irccloud.com)
[22:18:11] *** Joins: BlueShark (sid10311@user/blueshark)
[22:24:14] *** Quits: kerunaru (~Jmcb@64.red-79-146-101.dynamicip.rima-tde.net) (Ping timeout: 244 seconds)
[22:32:13] *** Quits: Rockwood (~Rocky@user/rocky) (Read error: Connection reset by peer)
[22:35:11] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Quit: Quitting)
[22:41:39] *** Joins: kerunaru (~Jmcb@64.red-79-146-101.dynamicip.rima-tde.net)
[22:52:00] *** Quits: kerunaru (~Jmcb@64.red-79-146-101.dynamicip.rima-tde.net) (Ping timeout: 256 seconds)
[22:54:13] <Beryllium> Is it the case that if you include a composer dependency that declares a custom repository, you need to copy that repository declaration into your own composer.json?
[22:56:49] <Beryllium> Answer: yes ("Repository declarations of dependencies' composer.jsons are ignored.")
[23:06:25] *** Joins: christianPHP (~christian@190.232.168.110)
[23:13:17] <Sammitch> you can run a private repo and have that in the config of composer itself, but things like git/file/etc repo types are a no-go
[23:18:53] <Beryllium> yeah, it totally makes sense from a security standpoint. Otherwise anything could be repointed by a dependency.
[23:31:07] *** acidsys is now known as cranberry
[23:31:26] *** cranberry is now known as Lysergsaeure
[23:38:35] *** Quits: guidoc (~guido@host-95-239-189-12.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[23:42:31] *** Joins: Akimb (~Akimb@86.100.13.100)
