[00:14:43] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Remote host closed the connection)
[00:14:59] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[00:15:26] <Xanthaos> it looks like the attacks failed; I posted a link to the entries above, can someone confirm this?
[00:19:40] <ordex> what attack?
[00:44:34] <Xanthaos> here are two of the entries:  https://paste.centos.org/view/f7159eb2
[00:46:14] <Xanthaos> I know I had these two events in my openvpn.log then the openvpn service went down.
[00:46:36] <Xanthaos> I'm back up now, I'm just trying to ascertain how much damage might have been done.
[00:48:24] <Xanthaos> Also had a couple of attempts at ssh, those failed, but unusually fail2ban didn't flag them, or even detect them I think.
[00:52:01] <ordex> Xanthaos: those are two failed connection attempts, yes
[00:52:13] <ordex> do you have any log of the "service that went down" ?
[00:52:22] <ordex> connection attempts can't stop the service
[00:55:29] <mzar> Xanthaos: have you updated openssl ?
[01:13:22] *** Quits: mthall (~quassel@mail.thalliman.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[01:14:00] <Xanthaos> I do have a log of the failure, it's back in the archive, but that is literally what I needed to know. Coincidence it went down. Openvpn encountered two problems: one was a problem with the pid, fixed that one, the other was that something was holding onto the tun interface so a new instance couldn't use it, killall fixed that. I'm back up
[01:14:33] *** Joins: mthall (~quassel@mail.thalliman.com)
[01:15:35] <Xanthaos> I'm just trying to ascertain if any damage could have been done. As for the ssh, a full look at the logs shows that one failed by disconnecting preauth. Maybe the reason fail2ban didn't catch it is they disconnected before trying anything to trigger it, such as using a bad key or attempting a password? 
[01:16:01] *** Quits: TonyStone (~TonyStone@2603-7080-8607-c36a-a161-049d-edaf-1b31.res6.spectrum.com) (Quit: Leaving)
[01:16:23] <Pippin_> If ask me, it's working as it should. Just the usual noise...
[01:18:35] <mzar> maybe a DoS on outdated OpenSSL 
[01:18:54] <Xanthaos> Hmm, that's also good, that just saved me having to call every bit if data, including my backups, into suspect. I still wish fail2ban had picked up that ssh attempt. Oh well, the ssh failed (odd it happened as it's on a nonstandard port) and the openvpn failed.
[01:19:14] <Xanthaos> Hmm, possible, I'm running Centos 7, lemme check the openssl version.
[01:19:41] <Xanthaos> openssl-1.0.2k-24.el7_9.x86_64
[01:20:29] <mzar> old
[01:20:41] <mzar> you need 1.1.1m
[01:20:48] <mzar> https://www.openssl.org/news/secadv/20220315.txt
[01:20:53] <mzar> that's centos
[01:22:54] <Pippin_> a dos? there's 6,5 hours between...
[01:24:31] <Xanthaos> I'll have to find a repo containing the version. Is there any specific markers in the logs that would indicate it was DoS? 
[01:24:36] <mzar> 22:16 < Xanthaos> I know I had these two events in my openvpn.log then the openvpn service went down.
[01:24:46] <Pippin_> Xanthaos> But back to my statement, I'm not seeing tons of hits, but there is the occasional drive-by (4 today so far) so I'd like to use my fail2ban to possibly catch those strays
[01:24:53] <Xanthaos> Yes, service failed after the second entry
[01:25:00] <Pippin_> just normal noise...
[01:25:09] <Xanthaos> I never noticed it as I was dealing with family issues then sleep
[01:25:34] <mzar> Xanthaos: what do you mean by "service failed after the second entry" ?
[01:25:45] <Pippin_> the other was that something was holding onto the tun interface
[01:26:12] <Pippin_> ^^^ you have a persist directive in server config?
[01:26:37] <Xanthaos> A few minutes following the second failed attempt, the service stopped and would not restart due to the errors I mentioned above. 
[01:28:49] <Xanthaos> I didn't pick up on the service being down until today. I was overly distracted with other things. Family first. I tried last night to get some answers regarding the failed attempts, but never had a moment (and I don't even think I thought to look) to check and see the status of the service. I got the time today when I noticed the service down, and dug out last night's log archives to find 
[01:28:49] <Xanthaos> out what and when.
[01:31:10] <mzar> running outdated OpenSSL to fulfil centos' needs sometimes brings surprising events 
[01:32:19] <Xanthaos> well this will just push me to migrate up sooner. I'm already planning to migrate up to RHEL 8 or 9 (if it's out by then) before too much longer, may be a good reason to push the date up a bit.
[01:32:57] <Xanthaos> In the meantime do you know if the newer version mentioned in the doc you sent will work on centos? if so I'll find a repo.
[01:39:17] <Xanthaos> I appreciate the help everyone :) bbiab
[01:44:19] *** Quits: mthall (~quassel@mail.thalliman.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[01:49:46] *** Joins: rawtaz (~rawtaz@user/rawtaz)
[01:51:15] *** Joins: mthall (~quassel@mail.thalliman.com)
[01:52:07] <rawtaz> hi. probably a dumb question but here goes anyway. can someone confirm that which algorithm (e.g. RSA2048 vs RSA4096 vs some other one) is used for the CA and client certificates, does not really affect the performance of the actual data transfers over the OpenVPN? unless im mistaken, these certificate algorithms isnt whats used to encrypt/decrypt the traffic or rather the VPN tunnel, so at most they have a bit of performance impact when it comes to disconnect
[01:53:16] <mzar> rawtaz: certifacates have nothing to do with data transfer speed
[01:53:46] <mzar> completely irrelevant
[01:54:18] <rawtaz> thank you :)
[02:03:00] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Ping timeout: 240 seconds)
[02:14:02] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[02:18:10] *** Quits: krzee (~AdminUser@ip72-193-22-212.lv.lv.cox.net) (Changing host)
[02:18:10] *** Joins: krzee (~AdminUser@user/krzee)
[02:21:45] <rob0> Xanthaos: I saw your reply, but you didn't reply fully.
[02:34:30] <Xanthaos> It's okay rob0, how are ya doing?
[02:37:02] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Ping timeout: 240 seconds)
[02:43:38] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Quit: shibboleth)
[02:57:08] *** Quits: becm (~becm@55d4e4a5.access.ecotel.net) (Quit: quit)
[05:26:24] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[05:29:17] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Client Quit)
[05:39:58] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Read error: Connection reset by peer)
[05:41:32] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[06:23:42] *** Quits: mannequin (uid453465@id-453465.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[06:30:37] *** Quits: krzee (~AdminUser@user/krzee) (Ping timeout: 240 seconds)
[06:42:25] *** Joins: TonyStone (~TonyStone@2603-7080-8607-c36a-b409-678c-49f6-3fbd.res6.spectrum.com)
[06:42:52] *** Quits: TonyStone (~TonyStone@2603-7080-8607-c36a-b409-678c-49f6-3fbd.res6.spectrum.com) (Remote host closed the connection)
[07:10:08] *** Joins: adeliktas8 (~adeliktas@i59F5FD1E.versanet.de)
[07:12:25] *** Quits: adeliktas (~adeliktas@i59f527d7.versanet.de) (Ping timeout: 256 seconds)
[07:12:25] *** adeliktas8 is now known as adeliktas
[07:16:17] *** Quits: gast0n (~g4570n@user/gast0n) (Quit: Bye, see you soon! ðŸ‘‹)
[07:36:32] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Ping timeout: 240 seconds)
[07:40:46] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[09:38:35] *** Quits: Xanthaos (~ke4nhw@user/ke4nhw) (Remote host closed the connection)
[09:53:40] *** Joins: nerozero (~nerozero@87.253.63.54)
[10:09:14] *** Quits: Spitfire (~spitfire@user/Spitfire) (*.net *.split)
[10:14:34] *** Joins: Spitfire (~spitfire@user/Spitfire)
[10:37:25] *** Pippin_ is now known as Guest6084
[10:37:25] *** Quits: Guest6084 (Pippin_@openvpn/community/Pippin) (Killed (molybdenum.libera.chat (Nickname regained by services)))
[10:38:55] *** Joins: Pippin__ (Pippin_@openvpn/community/Pippin)
[10:38:55] *** ChanServ sets mode: +o Pippin__
[10:38:56] *** Pippin__ is now known as Pippin_
[10:45:28] <ordex> moin
[12:20:47] *** Joins: becm (~becm@55d4f33a.access.ecotel.net)
[12:21:33] *** Joins: Pippin__ (Pippin_@openvpn/community/Pippin)
[12:21:33] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Killed (tantalum.libera.chat (Nickname regained by services)))
[12:21:33] *** Pippin__ is now known as Pippin_
[12:21:33] *** ChanServ sets mode: +o Pippin_
[12:28:53] <mzar> good morning
[12:29:47] <mzar> ordex: do you think I need openvp-dco + opvenvpn 2.6 to use recent DCO patch in FreeBSD kernel ?
[12:30:24] <mzar> it still doesn't apply on stable/13 and I haven't time to look at it on CURRENT
[12:34:27] <ordex> you need the dco branch of openvpn + the bsd patch
[12:35:46] <plaisthos> is the BSD patch already publically available?
[12:41:20] <ordex> it was sent to the ml
[12:41:22] <ordex> i commented
[12:41:25] <ordex> and we also got a newversion
[12:41:32] <ordex> but it should probably be rebased kp
[12:42:53] <plaisthos> the patch for OpenVPN yes. But the FreeBSD kernel patch
[12:42:58] <mzar> here's the FreeBSD side of patch (applies agains CURRNENT) , upaded few daysa ago https://reviews.freebsd.org/D34340
[12:43:06] <plaisthos> mzar: thanks
[12:43:52] <plaisthos> been a long time since I build a FreeBSD kernel :)
[12:46:29] <ordex> ah ok
[13:35:36] <plaisthos> hm I am either missing part of the patch or did something else wrong
[13:35:48] <plaisthos> make buildkernel gives me cd: /usr/src/sys/modules/if_ovpn: No such file or directory
[13:41:04] <plaisthos> patch does strange things, git apply works ...
[13:42:06] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[14:17:53] *** Quits: Colti (Miramar-FL@user/host-pond) (Excess Flood)
[14:18:31] *** Joins: Colti (Miramar-FL@user/host-pond)
[14:32:48] *** Quits: csrf (~csrf@user/csrf) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[14:33:29] *** Joins: csrf (~csrf@user/csrf)
[14:35:04] *** Joins: NeoCron (~NeoCron@p200300e47f277d00ff410b6acd6256a7.dip0.t-ipconnect.de)
[15:47:27] *** Quits: DArqueBishop (~drkbish@athena.darquecathedral.org) (Quit: End of line.)
[15:48:04] *** Joins: DArqueBishop (~drkbish@athena.darquecathedral.org)
[16:43:01] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[16:43:04] *** Joins: gast0n (~g4570n@user/gast0n)
[16:49:22] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Quit: Ex-Chat)
[16:58:59] *** Joins: mannequin (uid453465@id-453465.helmsley.irccloud.com)
[17:24:10] *** Quits: fbk (~fbk@firewall.fazekas-bereczki.com) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[17:55:59] *** Quits: astra (sid289983@user/amish) (Ping timeout: 250 seconds)
[19:16:22] *** Joins: sky-7 (~sky@user/sky-)
[19:19:48] *** Quits: sky- (~sky@user/sky-) (Ping timeout: 240 seconds)
[19:19:48] *** sky-7 is now known as sky-
[20:18:23] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Ping timeout: 256 seconds)
[20:56:05] *** Joins: krzee (~k@user/krzee)
[21:25:39] *** Joins: fbk (~fbk@firewall.fazekas-bereczki.com)
[21:28:17] *** Quits: fbk (~fbk@firewall.fazekas-bereczki.com) (Client Quit)
[21:42:56] *** Joins: Pippin_ (Pippin_@openvpn/community/Pippin)
[21:42:56] *** ChanServ sets mode: +o Pippin_
[21:50:56] *** Joins: fling (~fling@user/fling)
[22:10:50] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[22:12:32] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 240 seconds)
[22:34:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[22:35:43] *** Joins: fling (~fling@user/fling)
[23:38:25] *** Joins: fling_ (~fling@user/fling)
[23:38:29] *** Quits: fling (~fling@user/fling) (Remote host closed the connection)
[23:45:14] *** fling_ is now known as fling
