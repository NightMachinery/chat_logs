[01:36:23] <Orbstheorem> Me proof-reading my own commits before pushing them to the internet:... (full message at https://libera.ems.host/_matrix/media/r0/download/libera.chat/7a860eb1478ecc7a1e60393229f6811beeb17c09)
[16:50:08] <artectrex[m]> My review of the nextcloud backup app: utter crap, it gives false feedback making you believe you have a backup or that the backup was restored, it has huge memory leaks leading to OOM crashes without being able to recover from it (has to scan and verify cryptographic signatures all over again, so an exponential process as archives are created which took almost 24 hours for me). It's not well integrated with the nextcloud docker images
[16:50:08] <artectrex[m]> (missing php pgsql client in the image, etc), the UI is utterly broken and the backup process confusing and unnecessarily complex (three stages to put on to external storage: backup, pack, upload, then three to get it back: download, unpack, restore). Restoring an incremental backup does nothing for me, but it's all green and tells you fluffy things like "restored instance back to state 17h ago"
[16:51:05] <artectrex[m]> anyway, I'll go back to how I've done remote backup/restore forever now, just plain old duplicity and pg_dump
[16:51:51] <artectrex[m]> can't say I haven't tried at least ðŸ™ˆ
[16:52:02] <afontain[m]> wow
[17:06:35] <Orbstheorem> I snapshot at the FS level. Backups are hard and apps usually don't get it right.
[17:12:29] <artectrex[m]> It should at least always crash instead of eventually thinking it "worked" and giving me many green lights
[17:12:50] <artectrex[m]> anyway, I just wanted to test it out since I saw the release announcement
[17:13:46] <artectrex[m]> learnt a lot about how my system works so that's good :)
[17:14:04] <artectrex[m]> s/system/setup/
[17:39:28] <Notkea> ouch
[17:51:23] <LucasCrijns[m]> <artectrex[m]> "anyway, I'll go back to how I've..." <- You could also use Borg backups to get the job done
[18:02:54] <afontain[m]> which reminds we we have borg backup somewhat running and that restoring a system from a backup is 100% untested
[18:40:34] <jonas[m]> artectrex: which docker container are you using? the new all-in-one thing or one of the community ones?
[18:40:52] <artectrex[m]> nextcloud/docker
[18:41:09] <Matthieu[t][m]> https://github.com/nextcloud/docker
[18:41:21] <artectrex[m]> https://github.com/nextcloud/docker
[18:41:24] <jonas[m]> yeah I guess they are not suited for the backup app :/
[18:41:35] <jonas[m]> / not ready
[19:11:52] <typedef[m]> <LucasCrijns[m]> "You could also use Borg backups..." <- Setting up borg backups is probably one of the best things I've ever done, given the number of times I wrecked my systems by playing around
[19:30:03] <Notkea> meanwhile, I'm pondering replacing it with ZFS-level encrypted snapshots and sending them over the network. I'll have to test whether it's actually better/faster though. But that would at least avoid running the huge Python program that borg is as root
[20:12:38] <LucasCrijns[m]> <typedef[m]> "Setting up borg backups is..." <- Did you use borgmatic for that?
[20:13:17] <LucasCrijns[m]> <Notkea> "meanwhile, I'm pondering..." <- You don't need to run it as root, unless you want to backup more than your home directory
[20:13:40] <Notkea> yeah, I need to backup more than my home directory :c
[20:14:01] <Notkea> (multiple services on servers)
[20:15:04] <LucasCrijns[m]> Ah I see, then filesystem level backup makes a lot of sense
[21:36:59] <artectrex[m]> https://github.com/nextcloud/server/issues/29153
[21:37:02] <artectrex[m]> So
[21:37:14] <artectrex[m]> I shut down my collabora instance because I wasn't using it
[21:38:13] <artectrex[m]> And of course that slows down all of nextcloud randomly for about 20 seconds while it times out a request to the now non-existent collabora server
[21:39:47] <artectrex[m]> thank you for listening to what took me 5 days, 5TB of moving data back and forth and maybe enough cryptographic computations to mine a block of bitcoin 
[21:39:58] <artectrex[m]> I love technology
[21:40:26] <artectrex[m]> I really want to know how to profile php though, this would've taken 5 seconds if i could've seen some flame graphs or whatever
[21:49:53] <artectrex[m]> Why would the occ command be hung up by the office server not existing?
