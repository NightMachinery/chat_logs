[00:49:06] *** Joins: seok- (~Seok@n114-73-75-18.bla3.nsw.optusnet.com.au)
[01:21:48] *** Quits: seok- (~Seok@n114-73-75-18.bla3.nsw.optusnet.com.au) (Ping timeout: 272 seconds)
[01:30:41] *** Quits: johnjaye (~pi@173.209.64.74) (Ping timeout: 256 seconds)
[01:32:42] *** Joins: johnjaye (~pi@173.209.64.74)
[01:43:11] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-17-50-101-91-98.dsl.bell.ca) (Remote host closed the connection)
[02:04:48] *** Quits: Oladon (~olad@98.43.81.226) (Quit: Leaving.)
[02:09:14] *** Joins: Oladon (~olad@98.43.81.226)
[02:54:02] *** Quits: Oladon (~olad@98.43.81.226) (Read error: Connection reset by peer)
[02:55:19] *** Joins: Oladon (~olad@98.43.81.226)
[02:56:10] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-17-50-101-91-98.dsl.bell.ca)
[03:11:24] *** Quits: random-nick (~random-ni@87.116.176.196) (Ping timeout: 240 seconds)
[03:25:24] *** Quits: shka (~herr@109.231.3.55) (Ping timeout: 240 seconds)
[03:52:32] *** Quits: johnjaye (~pi@173.209.64.74) (Ping timeout: 272 seconds)
[03:54:24] *** Joins: johnjaye (~pi@173.209.64.74)
[04:17:03] *** Quits: Oladon (~olad@98.43.81.226) (Quit: Leaving.)
[04:42:13] *** Quits: opfez (~opfez@ti0013a400-0518.bb.online.no) (Ping timeout: 256 seconds)
[05:07:28] *** Joins: lisp123 (~lisp123@120.154.103.52)
[05:12:34] *** Quits: lisp123 (~lisp123@120.154.103.52) (Ping timeout: 256 seconds)
[05:12:39] *** Joins: opfez (~opfez@ti0013a400-3552.bb.online.no)
[05:40:51] *** Joins: Oladon (~olad@98.43.81.226)
[05:51:23] *** Joins: Bike (~Bike@71.69.170.70)
[05:55:07] *** Joins: vats (~vats@103.216.143.6)
[06:25:37] *** Quits: Partmedia (~kevinz@2600:6c40:6400:2f:221:ccff:fe66:4105) (Ping timeout: 240 seconds)
[06:25:42] *** Joins: Partmedia2 (~kevinz@097-086-181-165.res.spectrum.com)
[06:44:39] *** Quits: Oladon (~olad@98.43.81.226) (Quit: Leaving.)
[06:54:28] *** Joins: Oladon (~olad@98.43.81.226)
[07:10:21] *** Quits: waleee (~waleee@2001:9b0:213:7200:cc36:a556:b1e8:b340) (Ping timeout: 245 seconds)
[07:15:56] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-17-50-101-91-98.dsl.bell.ca) (Remote host closed the connection)
[07:30:23] <beach> Good morning everyone! 
[07:30:46] <Harag> Morning beach 
[07:32:25] *** Quits: Bike (~Bike@71.69.170.70) (Quit: Connection closed)
[08:21:16] *** Quits: Oladon (~olad@98.43.81.226) (Quit: Leaving.)
[08:34:31] *** Quits: sbodin (~sbodin@185.12.224.124) (Quit: Leaving)
[10:15:43] *** Joins: spiaggia (~user@2a01:cb19:150:3400:f2:18d6:290e:cf7f)
[10:44:10] *** Joins: Josh_2 (~user@197.185.102.59)
[10:48:28] *** Joins: st_iron (uid370243@id-370243.uxbridge.irccloud.com)
[11:12:12] *** Quits: vats (~vats@103.216.143.6) (Ping timeout: 240 seconds)
[11:35:22] *** Joins: rotateq (~user@ip-078-094-235-194.um19.pools.vodafone-ip.de)
[11:37:17] *** Quits: spiaggia (~user@2a01:cb19:150:3400:f2:18d6:290e:cf7f) (Quit: ERC (IRC client for Emacs 26.3))
[11:38:24] *** Quits: minion (~minion@common-lisp.net) (Remote host closed the connection)
[11:39:46] *** Joins: minion (~minion@common-lisp.net)
[12:23:14] *** Joins: shka (~herr@109.231.3.55)
[12:58:33] *** Joins: random-nick (~random-ni@87.116.176.196)
[13:18:08] *** Quits: epony (epony@user/epony) (Read error: Connection reset by peer)
[13:48:26] *** Joins: treflip (~user@user/treflip)
[13:55:30] *** Parts: treflip (~user@user/treflip) (ERC (IRC client for Emacs 27.2))
[15:28:36] *** Quits: v88m (~Xiro@109-252-170-8.dynamic.spd-mgts.ru) (Ping timeout: 240 seconds)
[15:49:10] <Harag> how would the curl -d @filename.json  translate in :content for drakma? I tried sending a string as is and tried babel:string-to-octets but the google api likes neither apparently. I am not to clued up on encoding formats.
[15:54:20] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-17-50-101-91-98.dsl.bell.ca)
[16:00:11] *** Joins: v88m (~Xiro@213.87.135.202)
[16:17:28] <pjb> Harag: -d sends the specified data in a POST request, with content-type = application/x-www-form-urlencoded. (see also --data-raw, etc).
[16:22:26] <pjb> So I would say that: (drakma:http-request uri :method :post :contents  (text-file-contents "filename.json")) ; should work.
[16:22:52] <pjb> s/contents/content/
[16:23:56] <pjb> if you passed just the pathname to :content it would send it in binary without encoding.  The default content-type is application/x-www-form-urlencoded so that's what we want.  We could pass a stream or ask for a continuation function, and write the url-encoded form ourselves (or in case of other formats).
[17:16:37] <Harag> pjb: so :content-type "application/json; charset=utf-8" is what the content type you send has to be and not what you will receive...
[17:44:51] <Harag> well in the end of the day it was  \" in the json string ie escaping " that google did not like
[17:45:20] <Harag> you can feed the json string straight to drakma with out any shinanigans
[17:50:12] *** Quits: v88m (~Xiro@213.87.135.202) (Read error: Connection reset by peer)
[17:51:26] <Harag> pjb: I must right down the other points you raised about filename vs content not being encoded some where, I am sure I am going to run into that in the future.
[18:05:46] *** Joins: waleee (~waleee@2001:9b0:213:7200:cc36:a556:b1e8:b340)
[18:08:47] *** Quits: speskk (~speskk@user/speskk) (Read error: Connection reset by peer)
[18:24:58] *** Quits: johnjaye (~pi@173.209.64.74) (Ping timeout: 250 seconds)
[18:26:55] *** Joins: johnjaye (~pi@173.209.64.74)
[18:31:27] *** Quits: rotateq (~user@ip-078-094-235-194.um19.pools.vodafone-ip.de) (Remote host closed the connection)
[18:55:56] *** Quits: Josh_2 (~user@197.185.102.59) (Ping timeout: 256 seconds)
[19:01:23] *** Quits: waleee (~waleee@2001:9b0:213:7200:cc36:a556:b1e8:b340) (Ping timeout: 252 seconds)
[19:03:33] *** Joins: Bike (~Glossina@71.69.170.70)
[19:12:51] <pjb> Harag: if you want to use application/json: (drakma:http-request uri :method :post :content-type "application/json" :content #P"filename.json")
[19:48:05] *** Joins: v88m (~Xiro@109-252-170-8.dynamic.spd-mgts.ru)
[19:56:33] *** Joins: Oladon (~olad@98.43.81.226)
[20:12:24] <Harag> so cl-base64:base64-string-to-stream writes the actual string "delimiters " out with the string contents. write-string writes a string's value with out the " to a stream. How to I get the two to speak to each other I dont particularly want to write the file out read it again and write it out decoded again.
[20:34:45] <Harag> my bad
[20:35:14] <Harag>  cl-base64:base64-string-to-stream DOES not write out the ""
[20:36:04] <Harag> it looks like its decoding does not produce the same  base64 -d
[20:37:13] *** Quits: st_iron (uid370243@id-370243.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[20:59:21] *** Quits: Oladon (~olad@98.43.81.226) (Quit: Leaving.)
[21:59:01] *** Quits: mksybr (mksybr@tilde.team) (Quit: WeeChat 3.4)
[22:09:50] <Harag> pppft :element-type '(unsigned-byte 8) when writing the file. I was writing characters and not bytes to the file. 
[22:10:41] <Harag> Ok after that monologue I am off to bed to have nightmares about encoding and decoding across different formats etc.
[22:12:05] *** Joins: waleee (~waleee@2001:9b0:213:7200:cc36:a556:b1e8:b340)
[22:40:42] *** Joins: Oladon (~olad@98.43.81.226)
[23:21:23] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-17-50-101-91-98.dsl.bell.ca) (Ping timeout: 256 seconds)
