[00:00:04] *** Joins: MrWiggly (~MrWiggly@62.6.56.226)
[00:02:38] *** Joins: duuude (~user@user/duuude)
[00:02:58] <duuude> COPY *  / doesn't keep my directory structure
[00:03:13] <ikke> duuude: put it in a subdirectory
[00:03:22] <ikke> COPY foo / would
[00:04:17] *** Joins: s33ker (~s33ker@89-212-68-200.dynamic.t-2.net)
[00:05:32] *** Joins: zer0bitz (~zer0bitz@2001:2003:f74d:b800:1d57:8085:a2ac:6196)
[00:09:06] *** Quits: zer0bitz_ (~zer0bitz@2001:2003:f74d:b800:7859:22cf:713c:fe6e) (Ping timeout: 260 seconds)
[00:13:27] *** Quits: Proxysna (~Proxysna@62.119.254.142) (Remote host closed the connection)
[00:14:14] *** Joins: bigGopher (~dan@207.98.176.66)
[00:19:40] *** Quits: CrowX- (~CrowX-@185.167.46.134) (Read error: Connection reset by peer)
[00:19:48] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 240 seconds)
[00:22:50] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[00:28:49] *** Quits: Tabmow (~tabmow@user/tabmow) (Quit: ZNC 1.8.2 - https://znc.in)
[00:29:08] *** Joins: Tabmow (~tabmow@user/tabmow)
[00:30:06] *** Joins: jkwnki (~jkwnki@p2e579634.dip0.t-ipconnect.de)
[00:31:41] *** Joins: jkwnki1 (~jkwnki@p2e579634.dip0.t-ipconnect.de)
[00:35:18] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[00:35:37] *** Quits: zer0bitz (~zer0bitz@2001:2003:f74d:b800:1d57:8085:a2ac:6196) (Ping timeout: 250 seconds)
[00:37:51] *** Quits: jkwnki1 (~jkwnki@p2e579634.dip0.t-ipconnect.de) (Ping timeout: 245 seconds)
[00:38:40] *** Quits: jkwnki (~jkwnki@p2e579634.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[00:41:06] *** Joins: keypushe- (keypusher@user/keypusher)
[00:41:16] *** Quits: keypusher (keypusher@user/keypusher) (Read error: Connection reset by peer)
[00:44:08] *** keypushe- is now known as keypusher
[00:44:23] *** Quits: rv1sr (~rv1sr@user/rv1sr) ()
[00:45:01] *** Joins: sh0ne (~sh0ne@2a06:5b00:6fb:2a00:8477:4ea0:67a7:8b9)
[00:46:37] <duuude> thanks ikke
[00:54:41] *** Joins: easyriders (~easyrider@xb9b5df82.cust.hiper.dk)
[00:58:14] *** Quits: gamara (~gamara@cpe9050cade20e3-cm9050cade20e0.cpe.net.cable.rogers.com) (Quit: Client closed)
[01:02:25] *** Joins: wakeup (~wakeup@user/wakeup)
[01:04:52] *** Joins: tyson2 (~user@bras-base-toroon0628w-grc-46-142-112-141-177.dsl.bell.ca)
[01:10:37] <tianon> you can also COPY . /
[01:16:42] *** Quits: tyson2 (~user@bras-base-toroon0628w-grc-46-142-112-141-177.dsl.bell.ca) (Remote host closed the connection)
[01:20:17] *** Quits: optiz0r (~quassel@lenore.sihnon.net) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[01:22:26] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[01:26:38] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 272 seconds)
[01:27:03] *** Joins: TheSilentLink_ (~TheSilent@user/thesilentlink)
[01:28:52] *** TheSilentLink_ is now known as TheSilentLink
[01:29:45] *** Quits: wakeup (~wakeup@user/wakeup) (Quit: Client closed)
[01:29:59] *** Quits: MrWiggly (~MrWiggly@62.6.56.226) (Quit: Textual IRC Client: www.textualapp.com)
[01:33:09] *** Joins: drillbyt (drillbyt@user/drillbyt)
[01:37:09] *** Joins: wakeup (~wakeup@user/wakeup)
[01:39:54] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca)
[01:40:23] *** Joins: MrWiggly (~MrWiggly@62.6.56.226)
[01:47:29] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[01:49:57] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[01:50:09] *** Quits: easyriders (~easyrider@xb9b5df82.cust.hiper.dk) (Ping timeout: 250 seconds)
[01:53:19] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca) (Remote host closed the connection)
[01:56:39] *** Quits: MrWiggly (~MrWiggly@62.6.56.226) (Quit: Textual IRC Client: www.textualapp.com)
[01:56:45] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:02:28] *** Quits: ekathva (~ekathva@n14jqqwhtfh2jdj1f-1.v6.elisa-mobile.fi) (Remote host closed the connection)
[02:26:00] *** Quits: OsteHovel (~OsteHovel@ti0056a400-0096.bb.online.no) (Read error: Connection reset by peer)
[02:26:01] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 256 seconds)
[02:27:35] *** Joins: chipas (~chipas@user/dobbicorp)
[02:32:20] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca)
[02:35:40] *** Quits: very_sneaky (~very_snea@user/very-sneaky/x-7432109) (Ping timeout: 272 seconds)
[02:36:55] *** Joins: very_sneaky (~very_snea@user/very-sneaky/x-7432109)
[02:42:56] <Tach> When I build a golang app on a linux VM (Ubuntu) and I copy the app to a golang image I cannot start it, any idea ?
[02:44:12] *** Quits: ph88 (~ph88@ip5f5af71f.dynamic.kabel-deutschland.de) (Quit: Leaving)
[02:44:28] *** Quits: AnapodoPsalidaki (~AnapodoPs@2a02:587:290f:12b5:fef6:e416:5500:ae38) (Quit: Leaving)
[02:44:34] *** Quits: wakeup (~wakeup@user/wakeup) (Quit: Client closed)
[02:49:15] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 256 seconds)
[02:50:37] *** Joins: acovrig (~acovrig@host-173-247-7-127.JENOLT2.epbfi.com)
[02:52:28] *** Quits: acovrig (~acovrig@host-173-247-7-127.JENOLT2.epbfi.com) (Client Quit)
[02:56:37] *** Quits: luva (~luva@37.120.197.45) (Ping timeout: 240 seconds)
[02:56:39] *** Joins: luva2 (~luva@146.70.62.254)
[02:59:32] *** Quits: antsomers (~thiras@user/thiras) (Ping timeout: 240 seconds)
[03:11:21] *** Quits: r0bby (r0bby@user/r0bby) (Ping timeout: 252 seconds)
[03:11:21] *** Quits: KnownSyntax (sid233169@user/knownsyntax) (Ping timeout: 252 seconds)
[03:11:21] *** Quits: lhtseng (sid15322@id-15322.helmsley.irccloud.com) (Ping timeout: 252 seconds)
[03:11:54] *** Quits: sh0ne (~sh0ne@2a06:5b00:6fb:2a00:8477:4ea0:67a7:8b9) (Ping timeout: 252 seconds)
[03:11:54] *** Quits: zoredache (sid295808@id-295808.helmsley.irccloud.com) (Ping timeout: 252 seconds)
[03:11:54] *** Quits: Exterminador (sid116151@user/pegasus) (Ping timeout: 252 seconds)
[03:11:55] *** Quits: wyre (~wyre@user/wyre) (Remote host closed the connection)
[03:11:55] *** Quits: tag (sid271787@id-271787.lymington.irccloud.com) (Read error: Connection reset by peer)
[03:11:57] *** Quits: peac (sid344662@id-344662.hampstead.irccloud.com) (Read error: Connection reset by peer)
[03:12:06] *** Joins: lhtseng (sid15322@id-15322.helmsley.irccloud.com)
[03:12:11] *** Joins: tag (sid271787@id-271787.lymington.irccloud.com)
[03:12:12] *** Joins: peac (sid344662@id-344662.hampstead.irccloud.com)
[03:12:12] *** Joins: wyre (~wyre@user/wyre)
[03:12:17] *** Joins: zoredache (sid295808@id-295808.helmsley.irccloud.com)
[03:12:19] *** Joins: KnownSyntax (sid233169@user/knownsyntax)
[03:12:32] *** Joins: Exterminador (sid116151@user/pegasus)
[03:12:43] *** Joins: r0bby (r0bby@user/r0bby)
[03:14:06] *** Quits: vai-za (~vaiqwrkmo@2001:470:69fc:105::1:d09c) (Ping timeout: 252 seconds)
[03:15:49] <artok> wrong architecture or other dependencies
[03:17:00] <artok> is your golang app full blown static binary? it should be able to run just by itself, FROM scratch COPY myapp / ENTRYPOINT ['/myapp']
[03:17:14] *** Joins: antsomers (~thiras@user/thiras)
[03:34:45] <Tach> artok I build this app manually and copied it in... https://github.com/suquant/wgrest/blob/master/Dockerfile
[03:35:14] <Tach> So I don't use it fully but when I build this app manually again in my golang container it works (again)
[03:35:41] <Tach> so that Dockerfile does seem to build on image build as well
[03:39:54] <hydracat> what are some docker frontends used in production/corporate ?
[03:40:03] <hydracat> if any
[03:42:50] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 256 seconds)
[03:42:57] <Tach> frontends?
[03:46:13] <njka> i'm an ass man myself... 
[03:46:16] * njka ducks
[03:46:17] <tabakhase> hydracat kinda none, and things like portainer are bit of a dead-end road to some extend... so depending on scale, "bare docker", docker-compose, swarm/stack all the way to k8s...
[03:47:37] <Tach> tabakhase I would say... rancher
[03:47:46] <Tach> we developerd our own
[03:48:36] <njka> who bought rancher...
[03:48:40] <njka> canonical?
[03:48:56] <njka> rancher are the k3s ppl, right?
[03:49:00] <tabakhase> rancher is kinda a step higher in that list... not so much to "controll docker" but more "offer/run dockerd"
[03:49:49] <artok> Tach: you don't have monolithic app then, it tries to use some alpine musl lib calls ?
[03:50:29] <Tach> artok dependencies you mean ?
[03:50:34] <artok> there is option for golang that it will link all libc calls to the binary itself
[03:50:50] <Tach> tabakhase k3s is not that huge... solid as a rock tho
[03:51:10] <hydracat> I'm asking because I'm learning docker, i see it's requirement for a lot of the sysadmin jobs nowadays. If they're usinga  frontend I'd like to learn that as well.
[03:51:22] <hydracat> but if they're just on bare docker I can stick with that
[03:52:26] <artok> so you'll get single binary that has all the things included and you don't need any base image for it to run, just ones that you want, like starting with busybox to provide entrypoint script sanity checks if your app doesn't already do them
[03:52:35] <Tach> hydracat start with portainer
[03:53:27] <Tach> artok yes but do you see what he does ? At the end he only copies the /app folder to the container... and yes there is more in it
[03:53:30] <hydracat> tach - the one your group developed, is it usinga  webui ?
[03:54:20] <Tach> hydracat yes, people can order shit there :)
[03:55:01] <Tach> artok I wonder if that is that good non-monolitic
[03:55:14] <artok> depends really on the use case
[03:57:05] <artok> if you have multiple containers on the same host that have same base image with all dependencies for dynamic linker, it will optimize memory usage by just loading the same library once, but generally that really needs that you optimize multiple images really well
[03:57:49] <Tach> artok true but having your code on your box, bloated is not what you want as well... if possible
[03:57:50] <artok> for all around usage of the same image on multiple hosts, just do static linking and check the memory usage and do horizontal scaling
[03:58:23] <artok> same thing there
[03:58:50] <artok> if you have multiple containers from same image, dynamic linking might help on memory usage
[03:59:09] <Tach> yap
[03:59:20] <Tach> but this is not scaling, can't be done, it's an API :)
[03:59:27] <Tach> you don't want that in this case
[04:00:06] <artok> as said.. depends on use case
[04:00:47] <Tach> indeed, I know :)
[04:01:41] <artok> remember that if you don't have anything else running there with alpine:3.14, you're not getting any memory usage help vs statically linking musl into golang app
[04:01:55] <artok> and what is musl libc memory usage? not much
[04:02:01] *** Joins: n9nes (~n9nes@user/n9nes)
[04:02:07] <Tach> no indeed
[04:02:17] <artok> do benchmarking and decide by that
[04:02:45] <Tach> yes yes but I thought, why build it on image build if you can do different
[04:03:07] <artok> because building on image you'll get reproducible builds =)
[04:03:34] <artok> and building on different archs and and...
[04:04:04] <artok> I'd ask why to do different if you can build it on image
[04:06:03] *** Quits: cyberbanjo (~user@2607:fb90:42b7:213f:732e:306d:a6f3:7f1) (Remote host closed the connection)
[04:06:07] <artok> choosing to do because it's hard is just listening to JFK speech like it would be always the best thing
[04:06:08] <Tach> tests on the app only, but I agree it can be done on container build
[04:06:29] <Tach> was JFK the best ?
[04:06:42] <Tach> I understood he wasn't (at all)
[04:07:44] <artok> referring to that "We choose to go to the moon. We choose to go to the moon in this decade and do the other things, not because they are easy, but because they are hard.."
[04:08:25] <artok> doing hard way isn't the best thing always
[04:08:34] <artok> on that occasion, it was
[04:08:43] <artok> but that's decades ago
[04:09:26] <mva_> hi there! I've enabled `experimental` and `ip6tables` in /etc/docker/daemon.json, and not it works fine with publishin pors for comnainers I run manually, but it somewhy don't make similar rules for containers deployed through swarm. Is it any way to make it work with swarm too? maybe some other option in daemon.json? Or it is a bug?
[04:10:08] <artok> and that offtopic thing, presidents of USA, Trump put the bar really low =D
[04:12:14] <Tach> artok indeed
[04:15:47] *** Joins: jkwnki1 (~jkwnki@p2e579634.dip0.t-ipconnect.de)
[04:15:47] *** Joins: jkwnki (~jkwnki@p2e579634.dip0.t-ipconnect.de)
[04:18:37] *** Quits: foul_owl (~kerry@23.82.193.87) (Ping timeout: 240 seconds)
[04:21:04] *** Joins: foul_owl (~kerry@174-21-76-71.tukw.qwest.net)
[04:26:21] *** Quits: drillbyt (drillbyt@user/drillbyt) (Quit: Leaving)
[04:30:41] *** Quits: foul_owl (~kerry@174-21-76-71.tukw.qwest.net) (Ping timeout: 256 seconds)
[04:33:42] *** Joins: nattiestnate (~nate@202.138.250.37)
[04:34:04] *** Quits: nattiestnate (~nate@202.138.250.37) (Client Quit)
[04:36:55] *** Quits: jkwnki1 (~jkwnki@p2e579634.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[04:37:16] *** Quits: jkwnki (~jkwnki@p2e579634.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[04:45:41] *** Joins: foul_owl (~kerry@23.82.193.89)
[04:52:52] *** Joins: raTHiopA (raTHiopA@gateway/vpn/airvpn/rathiopa)
[04:56:42] <hydracat> tach - what do you mean they can order shit? i'm assuming you meant something like a developer can order a stack, or a workkspace 
[04:58:27] *** Quits: s33ker (~s33ker@89-212-68-200.dynamic.t-2.net) (Ping timeout: 256 seconds)
[05:14:11] *** Quits: jaysicks (~jaysicks@178-164-166-32.pool.digikabel.hu) (Remote host closed the connection)
[05:21:36] *** Quits: cotko (~cotko@188-230-251-153.dynamic.t-2.net) (Ping timeout: 272 seconds)
[05:22:40] *** Joins: Tacoder (~Tacoder@2806:264:5482:9e0:645c:c4a2:8263:91c1)
[05:26:13] *** Quits: ivii (~ivan@user/ivii) (Remote host closed the connection)
[05:26:20] *** Joins: jazzy (~jaziz@user/jaziz)
[05:34:27] *** Quits: raTHiopA (raTHiopA@gateway/vpn/airvpn/rathiopa) (Read error: Connection reset by peer)
[05:39:11] *** Joins: _0x00 (~0x00@user/0x00/x-6246543)
[05:42:52] *** Joins: cyberbanjo (~user@2607:fb90:42b7:213f:db43:ae3e:7744:5cba)
[05:47:06] *** Joins: botz (~zzbot@user/zzbot)
[05:47:54] *** Quits: duuude (~user@user/duuude) (Ping timeout: 260 seconds)
[06:05:51] *** Joins: luckiswithme (~luckiswit@149.167.161.204)
[06:07:12] *** Quits: tsal (~tsal@user/tsal) (Ping timeout: 272 seconds)
[06:07:50] *** Quits: antsomers (~thiras@user/thiras) (Ping timeout: 272 seconds)
[06:12:13] *** Joins: tsal (~tsal@user/tsal)
[06:14:15] *** Quits: ColdKeyboard (~ColdKeybo@user/coldkeyboard) (Quit: ZNC - https://znc.in)
[06:14:42] *** Joins: ColdKeyboard (~ColdKeybo@user/coldkeyboard)
[06:16:07] *** Joins: nevoyu (~nevoyu@174.101.22.250)
[06:16:36] *** Joins: daMaestro (~damaestro@fedora/daMaestro)
[06:23:14] *** Quits: luckiswithme (~luckiswit@149.167.161.204) (Remote host closed the connection)
[06:29:59] *** botz is now known as zzbot
[06:37:22] *** Quits: ada_ (uid242135@user/ada/x-9065485) (Quit: Connection closed for inactivity)
[06:44:38] *** Quits: Tacoder (~Tacoder@2806:264:5482:9e0:645c:c4a2:8263:91c1) (Ping timeout: 250 seconds)
[06:44:48] *** Joins: acovrig (~acovrig@host-173-247-7-127.JENOLT2.epbfi.com)
[06:47:10] *** Quits: zzbot (~zzbot@user/zzbot) (Quit: Leaving)
[06:47:29] *** Joins: zzbot (~zzbot@user/zzbot)
[06:51:10] *** Quits: nevoyu (~nevoyu@174.101.22.250) (Quit: Leaving)
[06:54:03] *** Quits: zzbot (~zzbot@user/zzbot) (Ping timeout: 256 seconds)
[07:15:20] *** Quits: _0x00 (~0x00@user/0x00/x-6246543) (Quit: Leaving)
[07:27:43] *** Quits: artok (~azo@mobile-access-b04863-82.dhcp.inet.fi) (Ping timeout: 250 seconds)
[07:29:32] *** Quits: daMaestro (~damaestro@fedora/daMaestro) (Quit: Leaving)
[07:40:15] *** Joins: luckiswithme (~luckiswit@110-175-171-214.static.tpgi.com.au)
[07:45:22] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[07:46:20] *** Quits: yuesbeez (uid458354@id-458354.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[07:59:34] *** Quits: thunndar (~mike@172.58.56.226) (Quit: WeeChat 3.4)
[08:20:52] *** Joins: Tacoder (~Tacoder@2806:264:5482:9e0:645c:c4a2:8263:91c1)
[08:22:39] *** Joins: artok (~azo@mobile-access-b04863-82.dhcp.inet.fi)
[08:26:24] *** Quits: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970::fb) (Quit: So as you can see from this flowchSQUIRREL!!)
[08:29:40] *** Joins: k8yun (~k8yun@user/k8yun)
[08:31:58] <k8yun> Hi! I am installing trilium on my windows but the document I'm following is using `macvlan` network type which isn't supported in Windows.  What would be the closest network?  bridge, nat, overlay?
[08:37:56] *** Quits: artok (~azo@mobile-access-b04863-82.dhcp.inet.fi) (Ping timeout: 272 seconds)
[08:44:19] <k8yun> i need to basically be able to reach container from other device in the same local network
[08:46:11] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca) (Read error: Connection reset by peer)
[08:56:16] *** Joins: mcpackey (~pm0001@p5dc1c51a.dip0.t-ipconnect.de)
[08:58:02] *** Quits: emerent (~quassel@p200300cd5743c367ba27ebfffed28a59.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[08:58:52] *** Joins: emerent (~quassel@p200300cd5743c360ba27ebfffed28a59.dip0.t-ipconnect.de)
[09:09:32] *** Quits: luckiswithme (~luckiswit@110-175-171-214.static.tpgi.com.au) (Remote host closed the connection)
[09:13:55] *** Quits: cyberbanjo (~user@2607:fb90:42b7:213f:db43:ae3e:7744:5cba) (Remote host closed the connection)
[09:14:00] *** Quits: CombatVet (~c4@user/combatvet) (Remote host closed the connection)
[09:14:16] *** Joins: CombatVet (~c4@user/combatvet)
[09:31:02] *** Quits: k8yun (~k8yun@user/k8yun) (Quit: Leaving)
[09:31:48] *** Quits: tylee (~tylee@user/tylee) (Ping timeout: 240 seconds)
[09:34:40] *** Joins: tylee (~tylee@user/tylee)
[09:37:19] *** Quits: zuQe85 (~zuQe8@cpc105060-sgyl40-2-0-cust136.18-2.cable.virginm.net) (Quit: Bye)
[09:39:20] *** Quits: bliminse (~bliminse@host109-152-150-162.range109-152.btcentralplus.com) (Quit: leaving)
[09:40:26] *** Joins: zuQe85 (~zuQe8@cpc105060-sgyl40-2-0-cust136.18-2.cable.virginm.net)
[09:40:51] *** Joins: OsteHovel (~OsteHovel@ti0056a400-0096.bb.online.no)
[09:45:39] *** Quits: Enissay (~Enissay@user/enissay) (Quit: WeeChat 3.0)
[09:46:32] *** Joins: Enissay (~Enissay@user/enissay)
[09:47:51] *** Quits: bindu (~bindu@user/bindu) (Remote host closed the connection)
[09:48:11] *** Joins: bindu (~bindu@user/bindu)
[09:51:18] *** Joins: bliminse (~bliminse@host109-152-150-162.range109-152.btcentralplus.com)
[09:52:45] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[09:53:34] *** Quits: Enitin (~Enitin@82.180.145.230) (Ping timeout: 250 seconds)
[09:59:13] *** Joins: easyriders (~easyrider@xb9b5df82.cust.hiper.dk)
[10:25:00] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[10:26:24] *** Joins: i64_2 (~i64@185.65.135.183)
[10:27:26] *** Quits: i64 (~i64@185.65.135.183) (Ping timeout: 256 seconds)
[10:29:08] *** Quits: ultima (~ultima@23.81.113.230) (Ping timeout: 256 seconds)
[10:29:48] *** Quits: Tacoder (~Tacoder@2806:264:5482:9e0:645c:c4a2:8263:91c1) (Ping timeout: 240 seconds)
[10:30:00] *** Quits: chodonne_ (~chodonne@ec2-3-18-56-136.us-east-2.compute.amazonaws.com) (Quit: ZNC - https://znc.in)
[10:30:41] *** Quits: bigGopher (~dan@207.98.176.66) (Quit: bigGopher)
[10:31:14] *** Joins: chodonne (~chodonne@ec2-3-18-56-136.us-east-2.compute.amazonaws.com)
[10:33:08] *** Joins: AnapodoPsalidaki (~AnapodoPs@2a02:587:290f:12b5:26ce:ec1:198b:de53)
[10:39:34] *** Joins: ultima (~ultima@23.81.113.230)
[10:40:19] *** Joins: s33ker (~s33ker@89-212-68-200.dynamic.t-2.net)
[10:40:23] *** Joins: artok (~azo@mobile-access-b04863-82.dhcp.inet.fi)
[10:43:39] *** Quits: rpthms (~rpthms@user/rpthms) (Remote host closed the connection)
[10:45:03] *** Joins: rpthms (~rpthms@user/rpthms)
[10:48:05] *** Quits: monoxane (~monoxane@user/monoxane) (Quit: estoy fuera)
[10:54:10] *** Joins: duuude (~user@user/duuude)
[10:55:12] *** Quits: artok (~azo@mobile-access-b04863-82.dhcp.inet.fi) (Ping timeout: 256 seconds)
[10:58:17] *** Joins: ekathva (~ekathva@93-90-58-246.welcomnet.fi)
[11:06:17] *** Quits: bliminse (~bliminse@host109-152-150-162.range109-152.btcentralplus.com) (Ping timeout: 240 seconds)
[11:08:28] *** Joins: bliminse (~bliminse@host86-156-84-211.range86-156.btcentralplus.com)
[11:14:58] *** Joins: cotko (~cotko@188-230-251-153.dynamic.t-2.net)
[11:16:59] *** Quits: easyriders (~easyrider@xb9b5df82.cust.hiper.dk) (Ping timeout: 256 seconds)
[11:18:07] *** Quits: sudoforge (~sudoforge@wireguard/tunneler/sudoforge) (Ping timeout: 256 seconds)
[11:32:44] *** Joins: chipas (~chipas@user/dobbicorp)
[11:32:57] *** Joins: monoxane (~monoxane@user/monoxane)
[11:33:32] *** Joins: realies2 (~realies@user/realies)
[11:34:30] *** Quits: ColdKeyboard (~ColdKeybo@user/coldkeyboard) (Quit: ZNC - https://znc.in)
[11:34:39] *** Joins: ColdKeybo[a]rd (~ColdKeybo@user/coldkeyboard)
[11:34:52] *** Quits: realies (~realies@user/realies) (Ping timeout: 256 seconds)
[11:34:52] *** realies2 is now known as realies
[11:36:08] *** Joins: jazzy2 (~jaziz@user/jaziz)
[11:39:24] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 256 seconds)
[11:39:33] *** jazzy2 is now known as jazzy
[11:41:15] *** Joins: ivii (~ivan@user/ivii)
[11:43:19] *** Joins: optiz0r (~quassel@lenore.sihnon.net)
[11:47:26] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Ping timeout: 245 seconds)
[11:49:36] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[11:53:54] *** Joins: sh0ne (~sh0ne@178.237.217.167)
[11:53:57] *** Joins: lithium (~lithium@user/lithium)
[12:07:06] *** Quits: Furai (~Furai@furai.pl) (Quit: WeeChat 3.4)
[12:08:48] *** Joins: AnapodoPsalidi (~AnapodoPs@195.46.31.29)
[12:11:00] *** Quits: AnapodoPsalidaki (~AnapodoPs@2a02:587:290f:12b5:26ce:ec1:198b:de53) (Ping timeout: 240 seconds)
[12:12:10] *** Joins: bouncy (~ben@user/benoit)
[12:12:56] *** Joins: Furai (~Furai@furai.pl)
[12:19:09] *** Joins: slashasdf (~slashasdf@030-245-128-083.dynamic.caiway.nl)
[12:27:42] *** Joins: fercell (~ferr@45.82.33.229)
[12:29:50] *** Quits: cotko (~cotko@188-230-251-153.dynamic.t-2.net) (Ping timeout: 256 seconds)
[12:36:37] *** Joins: iomari891 (~iomari891@197.210.71.177)
[12:37:02] *** Joins: cotko (~cotko@89-212-138-82.static.t-2.net)
[12:39:28] *** Quits: cliluw (~cliluw@47.147.77.43) (Ping timeout: 256 seconds)
[12:40:41] *** Joins: cliluw (~cliluw@47.147.77.43)
[12:41:30] *** Quits: ekathva (~ekathva@93-90-58-246.welcomnet.fi) (Remote host closed the connection)
[12:42:57] *** Quits: ueberall (ueberall_l@user/ueberall) (Quit: ZNC)
[12:44:52] *** Joins: ueberall (ueberall_l@user/ueberall)
[12:45:03] *** Joins: jaysicks (~jaysicks@178-164-166-32.pool.digikabel.hu)
[12:46:44] *** Quits: devslash (~devslash@46.232.211.210) (Quit: ZNC 1.8.2 - https://znc.in)
[12:47:17] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 240 seconds)
[12:47:20] *** Joins: devslash (~devslash@46.232.211.210)
[12:49:10] *** Joins: chipas (~chipas@user/dobbicorp)
[12:53:09] *** Quits: kostkon_ (~androirc@2a02:587:a10f:c988:a923:3f21:2f27:b1a5) (Ping timeout: 250 seconds)
[12:56:57] *** Joins: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr)
[13:03:24] *** Joins: kostkon_ (~androirc@2.142.66.94.static.otenet.gr)
[13:04:25] *** Joins: easyriders (~easyrider@xb9b5df82.cust.hiper.dk)
[13:08:32] *** Quits: easyriders (~easyrider@xb9b5df82.cust.hiper.dk) (Ping timeout: 240 seconds)
[13:12:15] *** Joins: ExeciN (~ExeciN@user/nicexe)
[13:12:51] *** Joins: brm_ (~brm@180.244.226.210)
[13:14:17] *** Quits: jmcgnh (~jmcgnh@wikipedia/jmcgnh) (Ping timeout: 256 seconds)
[13:16:41] *** Joins: jmcgnh (~jmcgnh@wikipedia/jmcgnh)
[13:27:21] *** Joins: ekathva (~ekathva@n14jr7jr13zqs0uz1-1.v6.elisa-mobile.fi)
[13:32:25] *** Quits: phylaz (~phylaz@82.51-174-55.customer.lyse.net) (Ping timeout: 256 seconds)
[13:45:22] *** Joins: phylaz (~phylaz@82.51-174-55.customer.lyse.net)
[13:53:54] *** Joins: Lachezar (~lachezar@studgrad.vpn.prolet.org)
[13:56:22] <Lachezar> Hey all. How come the size of image layers in hub.docker.com differs so much with the local size? E.g. certbot:latest ~40M vs local 115MB. Compression?
[13:59:37] *** Quits: iomari891 (~iomari891@197.210.71.177) (Ping timeout: 256 seconds)
[14:00:57] *** Joins: ekathva_ (~ekathva@n14jp5os0e43ev9my-1.v6.elisa-mobile.fi)
[14:01:04] <rawtaz> Lachezar: where are you looking to see the size of it on Hub? can you please point to an exact example?
[14:02:13] *** Quits: ekathva (~ekathva@n14jr7jr13zqs0uz1-1.v6.elisa-mobile.fi) (Ping timeout: 240 seconds)
[14:02:37] *** Joins: jkwnki1 (~jkwnki@p2e579634.dip0.t-ipconnect.de)
[14:02:37] *** Joins: jkwnki (~jkwnki@p2e579634.dip0.t-ipconnect.de)
[14:04:21] *** Joins: artok (~azo@mobile-access-b04863-82.dhcp.inet.fi)
[14:14:30] *** Joins: TheSilentLink_ (~TheSilent@user/thesilentlink)
[14:15:14] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 256 seconds)
[14:16:02] *** TheSilentLink_ is now known as TheSilentLink
[14:21:12] *** Quits: jazzy (~jaziz@user/jaziz) (Quit: Beddie bye-bye)
[14:21:48] *** Quits: jkwnki1 (~jkwnki@p2e579634.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[14:22:02] *** Quits: jkwnki (~jkwnki@p2e579634.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[14:24:53] *** Joins: river (~My_user_n@tilde.team/user/river)
[14:24:55] <river> how to make docker source a script?
[14:25:30] <river> ive tried RUN . /opt/script.sh and also CMD ["bash", "-rcfile", "/opt/script.sh"]
[14:25:48] <river> neither seems to be fully doing what i want. for testing the script just exports FOO=bar
[14:26:18] <river> but echo $FOO isn't printing bar when i use docker command line run
[14:26:45] <river> what im finding on google for this is not working
[14:26:55] *** Joins: iomari891 (~iomari891@102.91.5.229)
[14:28:45] *** Joins: antsomers (~thiras@user/thiras)
[14:30:24] <Lachezar> rawtaz: https://hub.docker.com/layers/certbot/certbot/latest/images/sha256-189cc403d3c6727f9f86a97ec78332efb0303eeac9435cd1efb8935599f702f7?context=explore
[14:31:33] <Tach> hydracat yes
[14:32:36] *** Quits: cotko (~cotko@89-212-138-82.static.t-2.net) (Ping timeout: 272 seconds)
[14:35:02] *** Quits: Lachezar (~lachezar@studgrad.vpn.prolet.org) (Quit: Kernel switch)
[14:35:44] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Remote host closed the connection)
[14:36:03] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[14:39:19] <njka> rawtaz is not to be trusted...
[14:39:25] <njka> he is shady af 
[14:39:28] * njka ducks
[14:40:35] *** Joins: minimal (~minimal@user/minimal)
[14:42:27] *** Quits: bn_work (uid268505@id-268505.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[14:42:48] <river> wtf i cant even use ARG foo=bar in my dockerfile
[14:42:58] <river> echo $foo prints nothing inside the interactive shell of this docker image
[14:43:50] <njka> river: try something like "ENTRYPOINT ["sh", "-c", "source /script.sh && \"$@\"", "-s"]"
[14:44:05] <river> thanks
[14:44:22] <njka> i mean, that is kinda a long way to do it, but it *should* work
[14:44:36] <rawtaz> hm they left :<
[14:45:38] *** Joins: MikeBux (~MikeBux@dyndsl-031-150-190-077.ewe-ip-backbone.de)
[14:45:42] <njka> river: ideally you should just specify it as the ENTRYPOINT tho
[14:46:33] <njka> like... ENTRYPOINT ["/path/to/script.sh"]
[14:46:41] <njka> then run your CMD
[14:46:53] <river> ah let me experiment with that, ty
[14:48:13] <njka> river: it's 03:17 for me... so bnear w/me... this could all be horrible advice i'm giving you :)
[14:48:14] <rawtaz> njka: thats what i tell myself every morning as well, when i look in the mirror and tell me how i suck and that im trustworthy and unworthy, slapping myself with the enlarged tuna you sent me (i've let it rot fairly well, as instructed)
[14:48:33] <river> cheers njka :)
[14:48:35] <river> i appreciate it 
[14:48:41] <rawtaz> untrustworthy*
[14:48:41] <njka> river: anytime :)
[14:48:46] <njka> LOL rawtaz 
[14:48:57] <njka> rawtaz: do i need to send you another large tuna?
[14:49:17] <njka> actually, i'll just send you some pickled herring
[14:49:20] * njka ducks
[14:49:34] <rawtaz> so if Lachezar comes back after their presumably failed kernel switch, tell them i *think* the matter is that the layers in that image are of that size, but besides that theres also the size of the *base* image that this image is building on top of.
[14:50:06] <rawtaz> njka: lol you do that and ill send you some ORIGINAL swedish fermented herring
[14:50:08] *** Quits: antsomers (~thiras@user/thiras) (Quit: Leaving)
[14:50:33] <rawtaz> ill be the last thing you see. fermented herring. staring you right in your face, deep into your soul..
[14:55:13] *** Joins: MetroConductor (~MetroCond@user/MetroConductor)
[14:55:53] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 252 seconds)
[14:57:25] *** Joins: chipas (~chipas@user/dobbicorp)
[14:57:50] *** Joins: Kingsy (~chris@kingsy.co.uk)
[14:58:28] <Kingsy> in a strange situation here. docker ps takes about 5 minutes to respond and eventually it says -> Cannot connect to the Docker daemon at tcp://192.168.49.2:2376. Is the docker daemon running?    what is 192.168.49.2:2376 ?
[14:58:43] <Kingsy> I have just stopped minikube could that be related? anyone seen this before?
[15:04:40] *** Joins: XATRIX (~xatrix@195.234.200.214)
[15:04:43] <Kingsy> ahh sorry nevermind I fixed it
[15:06:22] <njka> rawtaz: hahahaha
[15:07:11] *** Quits: brm_ (~brm@180.244.226.210) (Quit: Leaving.)
[15:08:11] <njka> Kingsy: it's the ip address of the thing your docker daemon is running on along w/the port for encrypted comms w/the docker daemon
[15:08:23] <njka> oh, you fixed it
[15:08:24] <njka> lol
[15:10:27] *** Joins: brm_ (~brm@180.244.226.210)
[15:17:36] *** Quits: XATRIX (~xatrix@195.234.200.214) (Quit: Goodbye and wish you luck!)
[15:25:46] *** Quits: l4yer (~l4yer@user/l4yer) (Ping timeout: 245 seconds)
[15:26:53] *** Quits: s33ker (~s33ker@89-212-68-200.dynamic.t-2.net) (Ping timeout: 256 seconds)
[15:27:49] *** Quits: brm_ (~brm@180.244.226.210) (Quit: Leaving.)
[15:38:36] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca)
[15:47:58] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 272 seconds)
[15:49:18] *** Joins: LarchOye (nonmoose@spaceweed.spacetechnology.net)
[15:49:27] *** Joins: chipas (~chipas@user/dobbicorp)
[15:52:31] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[16:02:49] *** Quits: acovrig (~acovrig@host-173-247-7-127.JENOLT2.epbfi.com) (Quit: The Lounge - https://thelounge.chat)
[16:07:36] *** Quits: tazle (tazle@kapsi.fi) (Ping timeout: 272 seconds)
[16:09:19] *** Joins: tazle (~tazle@kapsi.fi)
[16:14:14] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 256 seconds)
[16:16:04] *** Joins: chipas (~chipas@user/dobbicorp)
[16:23:52] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 256 seconds)
[16:25:25] *** Joins: chipas (~chipas@user/dobbicorp)
[16:35:08] *** Quits: GeorgeK (~GeorgeK@cpe-70-92-5-228.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[16:35:15] *** Joins: cotko (~cotko@89-212-138-82.static.t-2.net)
[16:37:57] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 240 seconds)
[16:39:53] *** Joins: chipas (~chipas@user/dobbicorp)
[16:42:37] <Tach> oh man it's hard to cleanup a private registry
[16:44:36] *** Joins: ph88 (~ph88@2a02:8109:9e00:71d0:f90c:4552:5c2e:aa7d)
[16:45:52] *** Quits: factor (~factor@c-73-68-120-166.hsd1.ma.comcast.net) (Read error: Connection reset by peer)
[16:46:27] *** Joins: factor (~factor@c-73-68-120-166.hsd1.ma.comcast.net)
[16:51:48] *** Joins: brm_ (~brm@180.244.226.210)
[17:05:09] <ph88> did i understand correctly that bind-mounts are defined under volumes in the docker compose file ?
[17:08:11] *** Joins: yhirose3 (~yhirose3@user/yhirose3)
[17:09:23] <river> anyone have some opinion on tradeoff between having (A) docker image to build software in (B) docker image that straight up just does the specific build 
[17:09:40] <river> im leaning towards B but maybe it's a little less flexible
[17:16:15] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 268 seconds)
[17:17:35] *** Joins: chipas (~chipas@user/dobbicorp)
[17:27:41] *** Joins: bigGopher (~dan@207.98.176.66)
[17:31:11] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[17:32:36] *** Quits: ph88 (~ph88@2a02:8109:9e00:71d0:f90c:4552:5c2e:aa7d) (Read error: Connection reset by peer)
[17:33:52] *** Quits: pvdp4 (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au) (Remote host closed the connection)
[17:37:28] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[17:37:47] *** Quits: sh0ne (~sh0ne@178.237.217.167) (Ping timeout: 256 seconds)
[17:39:28] *** Joins: jkwnki (~jkwnki@p2e579634.dip0.t-ipconnect.de)
[17:39:28] *** Joins: jkwnki1 (~jkwnki@p2e579634.dip0.t-ipconnect.de)
[17:43:57] *** Quits: duuude (~user@user/duuude) (Ping timeout: 240 seconds)
[17:50:40] *** Quits: jkwnki (~jkwnki@p2e579634.dip0.t-ipconnect.de) (Remote host closed the connection)
[17:50:40] *** Quits: jkwnki1 (~jkwnki@p2e579634.dip0.t-ipconnect.de) (Remote host closed the connection)
[17:51:10] *** Joins: imakestuff (~imakestuf@197.156.107.143)
[17:51:22] <imakestuff> volumes:
[17:51:22] <imakestuff>       - ./backend/:/backend/
[17:51:23] <imakestuff> I have this on a docker file:  
[17:51:49] <imakestuff> which one is source? does it mean the files are accessible from the host machine? 
[17:53:16] <selckin> source:target outside:inside
[17:53:33] <imakestuff> aha
[17:53:55] <imakestuff> I I have that on the compose file. does that mean I don't need the COPY calls? 
[17:54:06] <imakestuff> *If I 
[17:54:35] <selckin> depends what copy calls, but its a bind mount that exposes that dir on the host inside
[17:54:38] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi)
[17:57:10] *** Quits: nickel715 (~nickel715@user/nickel715) (Ping timeout: 250 seconds)
[17:57:13] *** Joins: sudoforge (~sudoforge@wireguard/tunneler/sudoforge)
[17:57:24] <imakestuff> It's doing this 
[17:57:32] <imakestuff> COPY ./requirements.txt /backend/requirements.txt
[17:57:32] <imakestuff> RUN pip install -r requirements.txt
[17:57:32] <imakestuff> COPY . /backend
[17:58:09] <imakestuff> selckin: i know it needs to install the requirements but is the bind mount a good idea for production? 
[17:58:46] <imakestuff> I am struggling how the COPY and binding interact..
[17:59:10] <imakestuff> My understanding is COPY happens when building images. the bindings are at container runtime 
[18:01:46] *** Quits: fourstepper (~fourstepp@static.156.168.55.162.clients.your-server.de) (Remote host closed the connection)
[18:02:41] *** Joins: fourstepper (~fourstepp@static.156.168.55.162.clients.your-server.de)
[18:02:53] *** Quits: fourstepper (~fourstepp@static.156.168.55.162.clients.your-server.de) (Remote host closed the connection)
[18:03:04] *** Joins: fourstepper (~fourstepp@static.156.168.55.162.clients.your-server.de)
[18:04:32] *** Joins: acovrig (~acovrig@host-173-247-7-127.JENOLT2.epbfi.com)
[18:05:07] *** Joins: nickel715 (~nickel715@user/nickel715)
[18:05:11] <selckin> yes
[18:05:13] <tabakhase> imakestuff they "dont" interact - binding overlays everything -- "bind bad for prod?" kinda depends, its not very dockerish, but it isnt ""wrong"" ((say, using php:apache with a bindmount or such would feel perfectly fine to me - note your image is a "runtime" rather than "your application" then --- and "both" is also seen, where you just recycle the prod-dockerfile with a bindmount (and maybe 
[18:05:13] <tabakhase> a slighlty modified cmd/entrypoint to rerun compose/pip/whatever) for "dev" 
[18:05:43] *** Quits: fourstepper (~fourstepp@static.156.168.55.162.clients.your-server.de) (Remote host closed the connection)
[18:06:12] *** Joins: fourstepper (~fourstepp@static.156.168.55.162.clients.your-server.de)
[18:06:39] *** Quits: bigGopher (~dan@207.98.176.66) (Quit: bigGopher)
[18:08:12] <tabakhase> "todo the mod" there are things like COMPOSE_FILE env-var (what can be stored in gitignored ".env" file) to say deepmerge your normal docker-compose.yml and an additional "docker-compose.dev.yml" that includes ONLY the bindmounts
[18:08:47] <imakestuff> tabakhase: so if  there's a directory inside my production server alled ./backend, it will overwrite what's inside the container? 
[18:10:09] *** Quits: acovrig (~acovrig@host-173-247-7-127.JENOLT2.epbfi.com) (Quit: The Lounge - https://thelounge.chat)
[18:10:25] <tabakhase> if you bindmount it thats the case yes (((where "COPY" or also "normal docker volumes" keep what was in the path already, bindmounts overwrite the whole tree))
[18:12:18] *** Joins: kydd (~kydd@193.110.87.251)
[18:13:45] *** Joins: jkwnki (~jkwnki@p2e579634.dip0.t-ipconnect.de)
[18:13:55] <kydd> I need to pass contents of a file to my containers, preferably through environment variables. Is it possible to load the contents of a file into an Env var inside docker-compose.yml?
[18:16:04] <tabakhase> kydd no, but you can bindmount files, then consume them in your entrypoint
[18:16:55] *** Quits: z8z (~x@ac255238.ppp.asahi-net.or.jp) (Quit: Quitting)
[18:25:18] *** Parts: brm_ (~brm@180.244.226.210) ()
[18:27:09] *** Joins: l4yer (~l4yer@user/l4yer)
[18:28:18] *** Quits: mcpackey (~pm0001@p5dc1c51a.dip0.t-ipconnect.de) (Remote host closed the connection)
[18:31:01] *** Quits: kydd (~kydd@193.110.87.251) (Quit: Client closed)
[18:31:36] *** Joins: kydd (~kydd@193.110.87.251)
[18:32:45] *** Quits: Bardon (~Bardon@user/Bardon) (Ping timeout: 256 seconds)
[18:33:14] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[18:33:33] *** Joins: ExeciN (~ExeciN@user/nicexe)
[18:33:37] *** Joins: Bardon (~Bardon@user/Bardon)
[18:35:01] *** Joins: ph88 (~ph88@2a02:8109:9e00:71d0:f90c:4552:5c2e:aa7d)
[18:35:54] *** Quits: gurki (~gurki@user/gurki) (Ping timeout: 256 seconds)
[18:36:32] <imakestuff> tabakhase: thanks 
[18:37:01] <imakestuff> what's the difference between postgres  14.2-alpine3.15 and 14.2-alpine images? 
[18:37:13] <Tach> who is running a private registry and knows how to autoclean his empty repo's?
[18:38:44] <tabakhase> Tach i know thats its somewhat of a mess :D
[18:38:55] <tabakhase> but thats about all, there is 3rd party tooling or so for it...
[18:39:55] <Tach> tabakhase it's a mess for sure but I cannot find any decent way to make it sane. People are re-pushing after they deleted the folder, etc... it's all weird. Which 3rd party tooling have you seen ?
[18:40:36] *** Joins: bigGopher (~dan@207.98.176.66)
[18:46:16] *** Joins: acovrig (~acovrig@host-173-247-7-127.JENOLT2.epbfi.com)
[18:47:50] *** Joins: gurki (~gurki@user/gurki)
[18:52:27] *** Quits: kydd (~kydd@193.110.87.251) (Quit: Client closed)
[18:53:34] *** Joins: luckiswithme (~luckiswit@149.167.160.220)
[18:54:37] *** Joins: darkdrgn2k (~darkdrgn2@user/darkdrgn2k)
[18:55:24] <darkdrgn2k> Hi there, im trying to figure out how to deal with IPTABLES and docker. I know you need to use the DOCKER-USER chain which is fine
[18:55:52] <darkdrgn2k> my question is around saving "iptables-save > /etc/iptables/rules.v4"   it will also save other chains like docker-isolation-stage-1
[18:56:31] <darkdrgn2k> should these chains not be saved?  should i be removing them from thef files?
[19:05:45] <ph88> is it possible to run a script as part of build of Dockerfile ?
[19:11:48] *** Joins: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970::fb)
[19:19:51] <tabakhase> darkdrgn2k blunt iptables-safe i kinda wouldnt rly call "compatible"... :/
[19:20:27] <darkdrgn2k> so how are you supposed to deal with the fact that docker bypasses all firewall rules :(
[19:20:43] <darkdrgn2k> localhost everything and the nginx reverse proxy?
[19:20:49] <darkdrgn2k> (when possible)
[19:21:23] <tabakhase> ph88 i dont think thats rly your question unless you havent even opened a dockerfile once :P - maybe rephrase this on what your actual trouble is...
[19:22:19] <tabakhase> darkdrgn2k "bypasses firewall rules" isnt rly true - YOU are the one who "-p"ublished these ports in the first place ;-)  ((your host is just a router in that case))
[19:22:47] <tabakhase> if noone but you shall get to it, publish it to 127.0.0.1 only (instead of the 0.0.0.0 default)
[19:23:01] <darkdrgn2k> Yes and seeing how it has docker-user its not true. but it may as well be true :(
[19:23:11] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi) (Ping timeout: 256 seconds)
[19:23:11] <tabakhase> (hooking into the user chain is more things like fail2ban)
[19:23:17] <darkdrgn2k> tabakhase: but for example i want to expose cAdvisor to my prometheus server.
[19:23:23] <darkdrgn2k> and only my prom server
[19:25:21] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi)
[19:25:33] <tabakhase> as said, whacking stuff into iptables and even the user chain in itself isnt "wrong" or anything -- just not rly compat with a blunt iptables-save - but a few lines of bash will likely do just fine^^
[19:26:35] <darkdrgn2k> yeh so im thinking remove docker-isolationg and docker chain after save 
[19:26:41] *** Joins: bn_work (uid268505@id-268505.uxbridge.irccloud.com)
[19:26:43] <darkdrgn2k> would that be considered good enough
[19:26:50] <darkdrgn2k> (i know 127.0.0.1 is "Better")
[19:28:14] <tabakhase> "not use the -save command at all" kinda ;-)  --- if that means you manually run it and pick out only whats needed, sure thats fine -- but like, ive seen people that do the save as "stop" action or there like and then you get a huge mess :D
[19:29:42] <darkdrgn2k> what you mean "stop action"
[19:30:05] <tabakhase> say shutdown/reboot systemd/init script :D
[19:30:18] <darkdrgn2k> ah
[19:30:30] *** Quits: CombatVet (~c4@user/combatvet) (Remote host closed the connection)
[19:30:42] <darkdrgn2k> im thinking more one time "Allow these ports from eth0, deny all other traffice from eth0" 
[19:30:46] *** Joins: CombatVet (~c4@user/combatvet)
[19:32:03] *** Quits: cotko (~cotko@89-212-138-82.static.t-2.net) (Quit: Konversation terminated!)
[19:37:00] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 240 seconds)
[19:37:00] <darkdrgn2k> what the correct way to docker-compose up -d on startup?
[19:37:02] <darkdrgn2k> restart: always ?
[19:37:17] <rvalue> unless-stopped
[19:39:06] *** Joins: chipas (~chipas@user/dobbicorp)
[19:40:52] *** Joins: OPK_ (~OPK@user/opk)
[19:41:40] *** Quits: OPK (~OPK@user/opk) (Ping timeout: 272 seconds)
[19:41:41] *** Quits: jgrim (~jgrim@209.97.149.65) (Quit: Buh bye!)
[19:42:26] *** Joins: jgrim (~jgrim@209.97.149.65)
[19:43:19] *** Joins: philipp64_ (~philipp64@mail.redfish-solutions.com)
[19:46:06] *** Quits: philipp64 (~philipp64@mail.redfish-solutions.com) (Ping timeout: 272 seconds)
[19:46:07] *** philipp64_ is now known as philipp64
[19:46:10] *** Quits: jkwnki (~jkwnki@p2e579634.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[19:56:01] *** Quits: jgrim (~jgrim@209.97.149.65) (Quit: Buh bye!)
[19:56:03] <ph88> when i really want to manage my container individually is there any reason left to use docker compose ?
[19:58:10] <rawtaz> i would say that if it's just like an ad-hoc container you run temporarily, then no need for compose. but if it's something you want to run regularly or continously, compose's file is still very very useful, in that you have the configuration/definition of the container in a file, isntead of having to fiddle with the command line or a script to run docker with the proper arguments. so, i would generally still use compose.
[19:58:16] <rawtaz> does that make sense?
[20:00:37] *** Quits: thekingofbandit (thekingofb@user/thekingofbandit) (Remote host closed the connection)
[20:06:22] *** Quits: slashasdf (~slashasdf@030-245-128-083.dynamic.caiway.nl) (Ping timeout: 272 seconds)
[20:07:15] <njka> no
[20:07:20] * njka ducks
[20:07:38] *** Joins: wakeup (~wakeup@user/wakeup)
[20:08:41] *** Joins: jgrim (~jgrim@209.97.149.65)
[20:09:52] <rawtaz> go get yourself a Mac Stadium and a Stadium monitor as well dude
[20:09:56] <rawtaz> you seem to need it :P
[20:12:14] *** Quits: jgrim (~jgrim@209.97.149.65) (Client Quit)
[20:13:30] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca) (Remote host closed the connection)
[20:15:35] *** Quits: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net) (Quit: It's just that easy)
[20:17:06] *** Quits: wakeup (~wakeup@user/wakeup) (Quit: Client closed)
[20:18:04] <ph88> rawtaz, yes makes sense
[20:18:54] <ph88> i have, redis, mariadb, app, and app-new-version   i guess i should make a separate docker compose file for each then
[20:19:50] *** Joins: wakeup (~wakeup@user/wakeup)
[20:22:15] <gordonjcp> ph88: no need to run compose if it's just one container that's "disposable" and easy to recreate
[20:22:35] <ph88> what's disposable ?
[20:22:36] <gordonjcp> ph88: I do that for containers that I use for coping with things like npm packaging
[20:22:39] *** Joins: rsx (~dummy@ppp-188-174-149-105.dynamic.mnet-online.de)
[20:22:41] <ph88> this is for production system
[20:23:01] <gordonjcp> ph88: create container, do job in container, collect finished product, dispose of container
[20:23:27] <ph88> container needs to stay online all the time until new version of application comes
[20:23:41] <gordonjcp> ph88: if it's something you do frequently, a docker-compose project is good because then you don't have to trawl through your bash history to remember the command you typed
[20:23:59] <gordonjcp> ph88: then, probably docker-compose would be good for that
[20:24:06] <gordonjcp> ph88: what are you planning on running?
[20:24:50] <ph88> web application in 1 container
[20:24:55] <ph88> redis, mariadb in 2 other containers
[20:25:28] <ph88> then when new version of application is ready i want to start it in parallel on new port, then hot reload nginx config, and after traffic has switched over shut down version of old application
[20:27:14] *** Quits: luckiswithme (~luckiswit@149.167.160.220) (Remote host closed the connection)
[20:28:19] *** Quits: wakeup (~wakeup@user/wakeup) (Quit: Client closed)
[20:28:28] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[20:28:46] <rvalue> ph88: havent seen that done with compose before
[20:29:13] <rvalue> how would you deploy two different versions of the app without change in compose file?
[20:29:16] <ph88> well i thought about doing 1 compose file per container ..
[20:29:48] <ph88> every time a new version needs to be deployed i need to change the container tag that is being pulled
[20:29:59] <ph88> editing the compose file first
[20:30:45] *** Joins: jgrim (~jgrim@159.223.133.252)
[20:36:09] <rvalue> ph88: hmm
[20:36:18] *** Quits: imakestuff (~imakestuf@197.156.107.143) (Remote host closed the connection)
[20:42:57] *** Joins: tyson2 (~user@bras-base-toroon0628w-grc-46-142-112-141-177.dsl.bell.ca)
[20:43:58] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi) (Ping timeout: 256 seconds)
[20:46:42] <rawtaz> ph88: put it this way; if you dont know a specific reason to not use compose for it, simply go ahead and use compose. it will save you headache in probably 90-95% of the times, or more when you dont know a reason to not use compose.
[20:50:47] <rvalue> one good reason to use compose for me, i always endup naming the container name and then when the containers are created.. i can just use that name instead of the container id.. when running manually i never bother to name the container
[20:52:31] <rawtaz> yeah, thats a very good point. not having to bother with the names of containers etc, instead just using service names in compose :)
[20:53:28] <rvalue> oh yeah there is that too.. by default it will give proper names but what i was referring to was container_name field in the yml
[20:53:44] <rvalue> autonaming is good when scaling up or down
[20:55:09] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi)
[20:56:30] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[20:56:42] <rawtaz> hmm. why on earth would you name the containers using container_name when using compose? thats,, pointless really (IMO)
[20:57:26] <programmerq> every once in a blue moon you have a corner case where it's handy. it's pretty uncommon.
[20:58:23] <rawtaz> yeah theres use cases for everything mostly
[20:59:01] *** Joins: trevors (~trevors@user/trevors)
[21:02:52] *** Joins: k8yun (~k8yun@user/k8yun)
[21:05:44] <tabakhase> most of these "corner cases" are people incorrectly using "docker exec" or such - while compose offer its own exec subcommand or such tho :D
[21:07:27] *** Joins: easyriders (~easyrider@xb9b5df82.cust.hiper.dk)
[21:10:13] *** Joins: wakeup (~wakeup@user/wakeup)
[21:12:52] *** Quits: jgrim (~jgrim@159.223.133.252) (Ping timeout: 256 seconds)
[21:13:47] <gordonjcp> ph88: rather than nginx use something like traefik for your frontend proxy, that'll actually handle loadbalancing
[21:14:13] *** Quits: beenao (~beenao@user/beenao) (Quit: quit)
[21:14:19] <gordonjcp> ph88: I'm not sure how I'd do what you want with it; possibly have the database and queue in one project, and the web app in a second
[21:14:43] <gordonjcp> ph88: you'd maybe have ph88_backend with redis and mariadb, and ph88_frontend with your web app
[21:15:04] <gordonjcp> ph88: declare an explicit network for _backend and include it in _frontend
[21:17:14] *** Joins: beenao (~beenao@user/beenao)
[21:18:52] *** Joins: jgrim (~jgrim@159.223.114.62)
[21:26:51] *** Joins: ada_ (uid242135@user/ada/x-9065485)
[21:26:51] *** ChanServ sets mode: +o ada_
[21:29:13] <ph88> gordonjcp, i don't need to do load balancing
[21:30:25] <ph88> thanks for all the advices guys !
[21:31:00] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 240 seconds)
[21:33:09] *** Joins: chipas (~chipas@user/dobbicorp)
[21:41:17] *** Quits: easyriders (~easyrider@xb9b5df82.cust.hiper.dk) (Ping timeout: 240 seconds)
[21:41:27] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[21:41:46] *** Joins: ExeciN (~ExeciN@user/nicexe)
[21:42:58] *** Joins: easyriders (~easyrider@xb9b5df82.cust.hiper.dk)
[21:43:54] *** Quits: kostkon_ (~androirc@2.142.66.94.static.otenet.gr) (Ping timeout: 272 seconds)
[21:46:41] *** Joins: jgrim0 (~jgrim@209.97.149.65)
[21:48:39] *** Quits: easyriders (~easyrider@xb9b5df82.cust.hiper.dk) (Read error: Connection reset by peer)
[21:48:49] *** Joins: easyriders (~easyrider@xb9b5df82.cust.hiper.dk)
[21:53:57] *** Quits: k8yun (~k8yun@user/k8yun) (Read error: Connection reset by peer)
[21:54:49] *** Joins: duuude (~user@user/duuude)
[21:55:09] *** Joins: DrowningElysium (uid190788@user/drowningelysium)
[21:55:16] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Remote host closed the connection)
[21:55:33] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[21:57:53] *** Quits: easyriders (~easyrider@xb9b5df82.cust.hiper.dk) (Ping timeout: 256 seconds)
[21:58:07] *** Joins: k8yun (~k8yun@user/k8yun)
[22:00:06] *** Quits: wakeup (~wakeup@user/wakeup) (Quit: Client closed)
[22:03:44] *** Quits: k8yun (~k8yun@user/k8yun) (Quit: Leaving)
[22:08:05] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[22:11:52] *** Joins: kostkon_ (~androirc@athedsl-393845.home.otenet.gr)
[22:11:57] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 240 seconds)
[22:12:21] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[22:14:01] *** Joins: chipas (~chipas@user/dobbicorp)
[22:16:32] *** Joins: thiras (~thiras@user/thiras)
[22:23:00] <cwchristerw> What may cause my Docker to remove files from system and "Device or resource busy"
[22:23:10] <cwchristerw> Something causes this but dont know what
[22:23:57] *** Quits: iomari891 (~iomari891@102.91.5.229) (Ping timeout: 256 seconds)
[22:28:32] *** Quits: chipas (~chipas@user/dobbicorp) (Ping timeout: 240 seconds)
[22:30:30] *** Joins: chipas (~chipas@user/dobbicorp)
[22:33:14] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[22:35:14] *** Joins: trevors (~trevors@user/trevors)
[22:35:33] *** Quits: rsx (~dummy@ppp-188-174-149-105.dynamic.mnet-online.de) (Quit: rsx)
[22:39:39] *** Joins: rsx (~dummy@ppp-188-174-149-105.dynamic.mnet-online.de)
[22:41:31] *** Quits: rsx (~dummy@ppp-188-174-149-105.dynamic.mnet-online.de) (Remote host closed the connection)
[22:45:07] *** Quits: Haxxa (~Haxxa@202-130-210-100.ip4.superloop.com) (Quit: Haxxa flies away.)
[22:46:31] *** Joins: Haxxa (~Haxxa@202-130-210-100.ip4.superloop.com)
[22:53:51] *** Quits: tyson2 (~user@bras-base-toroon0628w-grc-46-142-112-141-177.dsl.bell.ca) (Remote host closed the connection)
[22:57:16] *** Quits: ph88 (~ph88@2a02:8109:9e00:71d0:f90c:4552:5c2e:aa7d) (Ping timeout: 268 seconds)
[23:09:37] *** Joins: drillbyt (drillbyt@user/drillbyt)
[23:16:45] *** Quits: MetroConductor (~MetroCond@user/MetroConductor) (Quit: Going offline, see ya! (www.adiirc.com))
[23:16:59] *** Joins: easyriders (~easyrider@xb9b5df82.cust.hiper.dk)
[23:19:20] *** Joins: jkwnki (~jkwnki@p2e579634.dip0.t-ipconnect.de)
[23:28:18] *** Quits: easyriders (~easyrider@xb9b5df82.cust.hiper.dk) (Ping timeout: 256 seconds)
[23:29:55] *** Joins: chipas_ (~chipas@user/dobbicorp)
[23:30:23] <rawtaz> cwchristerw: you have to be much more specific and give an example of the actual symptoms
[23:32:14] <cwchristerw> I remove container and I see files but they are not really there I think so...
[23:32:14] *** Parts: chipas_ (~chipas@user/dobbicorp) ()
[23:32:23] *** Quits: chipas (~chipas@user/dobbicorp) (Remote host closed the connection)
[23:32:38] <njka> cwchristerw: what are you doing when you get the "Device or resource busy" message
[23:32:51] <cwchristerw> Removed container
[23:33:03] <njka> removed?
[23:33:19] <njka> ad in like "docker rm"
[23:33:23] <njka> s/ad/as
[23:33:25] <cwchristerw> Remove container and tried to manually remove folder
[23:33:45] <cwchristerw> but it doesn't really exist anymore but system thinks it exist
[23:33:55] <njka> huh?
[23:34:22] <cwchristerw> it should exist but removal process deletes folder for some reason (I think)
[23:34:39] <njka> so you "docker rm $CONTAINER_ID"
[23:34:43] <njka> right?
[23:34:50] <cwchristerw> yep
[23:35:05] <cwchristerw> Then ls shows that there is still files
[23:35:08] <njka> folder? so like, are you bind mounting local directories into your container?
[23:35:38] <cwchristerw> i use permanent volume
[23:35:58] <njka> wait, /bin/ls is telling you there are open files? i don't think /bin/ls has that ability... 
[23:36:03] <cwchristerw> Also I do docker rm $CONTAINER_ID -fv
[23:36:04] <njka> do you mean "lsof" 
[23:36:21] <rawtaz> cwchristerw: lets take a step back. tell us exactly what you see or what makes you think that docker is removing files?
[23:36:26] <cwchristerw> ls shows files in directory :D
[23:36:26] *** Quits: armin (~armin@unix.porn) (Remote host closed the connection)
[23:36:37] <rawtaz> you are currently failing to explain your symptoms properly, and that make sit hard for anyone to help you
[23:38:06] <njka> yeah
[23:38:59] <cwchristerw> I remove container (docker rm $CONTAINER_ID -fv) then look at the folder (ls -al) immediately it shows files exist (didn't open or test) and then recreated container I see error in log that tells folder is empty then look at folder and indeed files are gone.
[23:40:47] <cwchristerw> Similar thing happened to other container and config on same machine (but hasn't happened in any other machine)
[23:41:50] <rawtaz> cwchristerw: please pastebin the terminal session where you run those commands and get those message etc
[23:41:59] <rawtaz> youre not even telling us what files youre talking about
[23:42:13] <cwchristerw> Nextcloud files
[23:42:15] <rawtaz> we need to see what youre actually doing and seeing.
[23:42:51] <rawtaz> you can use kopy.io to pastebin your commands and their output
[23:44:21] <cwchristerw> I dont have that terminal session due to using Ansible
[23:44:36] <rawtaz> ok :D
[23:44:42] <cwchristerw> Only difference on that machine is that I have one container with bind mount
[23:44:57] <cwchristerw> bind mount is not affected when this happens
[23:45:03] <rawtaz> well im sorry but if you cant explain this better, that is, the details, then i sure as heck cant help. but njka is smart so maybe he can :P
[23:46:01] <cwchristerw> Would it possible that there is no enough RAM and that may cause issues with volumes in Docker?
[23:46:11] <cwchristerw> it be*
[23:48:21] <rawtaz> cwchristerw: probably not. but as i said - you have to explain the exact symptoms you are actually seeing, much better. i dont see really what part of this you dont understand.
[23:49:10] <njka> 12:11 < rawtaz> cwchristerw: please pastebin the terminal session where you run those commands and get those message etc
[23:49:29] *** Joins: cotko (~cotko@188-230-251-153.dynamic.t-2.net)
[23:49:38] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca)
[23:52:03] <cwchristerw> I'm trying to explain that???
[23:52:58] <cwchristerw> I can't cause that intentionally or its hard reproduce
[23:53:13] <njka> right, and you're not able to explain properly at all which is why we've asked you to pastebin your session
[23:53:26] <rawtaz> so how do you expect anyone to be able to help when you cant even explain what actual files you are talking about?
[23:53:29] <njka> wait, you cannot reproduce this??
[23:53:32] <njka> good grief...
[23:53:38] * njka tags rawtaz back in
[23:53:57] <rawtaz> cwchristerw: its not that were trying to help, but we cant work with nothing. you have to get us proper info.
[23:54:16] <rawtaz> docker doesnt just remove files by itself, unless of course you mean files it *should* delete.
[23:54:48] <rawtaz> but since you arent teling us what files its about, for starters, thats about as much as i can tel you about it :P
[23:55:16] <cwchristerw> Just saying using volumes and mounts in same container and using 'docker rm $CONTAINER_ID -fv' deletes files from volumes.
[23:55:18] <ikke> mounting volumes  could shadow directories, which may appear as removed files
[23:56:12] <cwchristerw> How can I see shadowed directories?
[23:56:23] <rawtaz> cwchristerw: exactly what is it that makes you think it deletes files from a volume? what are you actually seeing when you start thinking that?
[23:57:07] <ikke> cwchristerw: there is no direct way to tell what is being shadowed
[23:57:24] <ikke> You need to verify what you mount where, and if file alreayd exist in that location before it gets mounted
[23:57:33] <Tach> so, cleaning your registry is still not very possible ?
