[00:02:07] <obiwahn> but i am still as confused as i was before. so the kernel is responsible that something is done when a file starts with `///`
[00:03:22] <emanuele6> no, obiwahn. the linux kernel runs executable text files that do not have a shebang with sh (or maybe $SHELL not sure)
[00:03:54] <obiwahn> oh :)
[00:03:56] <obiwahn> Â» ./bla
[00:03:58] <obiwahn> ./bla: line 1: gammel: command not found
[00:04:07] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 250 seconds)
[00:04:28] <obiwahn> ok got it:) now that know about it i wonder how that can be disabled:P
[00:04:45] <emanuele6> what?
[00:05:24] <obiwahn> that the kernel tries to run text files that do not even start with `#!`
[00:06:23] *** Joins: Hax0r (~Hax0r@87.101.193.195)
[00:06:56] <emanuele6> obiwahn: why? anyhow, you should ask this question on a kernel channel, not here. i imagine that would require recompiling or patching the kernel though.
[00:07:06] *** Parts: nickodd (~nickodd@user/nickodd) ()
[00:07:08] <twkm> the shell tries to interpret files that fail to execute.
[00:07:28] <emanuele6> twkm: oh, is that what is happening?
[00:07:28] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[00:07:56] <twkm> i don't know.  it seemed worth mentioning.
[00:08:54] <twkm> absent special handling by a posix-ish system // as the first two bytes means nothing, so it'll fail to exec which punts what to do back to the shell.
[00:10:24] <emanuele6> twkm: you are right, it is probably the shell
[00:10:46] *** Joins: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4)
[00:10:51] <emanuele6> i just tried to execl() an executable text file without a shebang and it failed
[00:11:16] <emanuele6> maybe there is a bash option to disable it then
[00:11:38] *** Joins: absc (~absc@dynamic-adsl-94-34-201-166.clienti.tiscali.it)
[00:12:44] <twkm> bash aside, so even further aside, all bourne based shells do that.  i think even the csh based ones do.
[00:13:16] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[00:13:20] *** Quits: LordRishav (~lordrisha@157.42.49.190) (Quit: Konversation terminated!)
[00:13:45] <emanuele6> i didn't know that. that is great to know, i always assumed it was the kernel
[00:15:34] *** Quits: austin987 (~null@2607:fb90:20d0:ad0:e64c:e897:c32f:4abd) (Ping timeout: 258 seconds)
[00:15:59] *** Quits: sn1tch3r (~sn1tch3r@user/sn1tch3r) (Quit: Leaving)
[00:16:33] <llua> all shells don't attempt to interpret said files themselves tho, some will punt it to sh
[00:16:34] *** Joins: RendySurvage (~archie@64.72.216.39)
[00:18:15] <emanuele6> obiwahn: there is now way to disable it, it seems, i can't find any shopt to disable it in the bash documentation
[00:18:22] <emanuele6> s/now/no/
[00:19:24] <greycat> If a file has +x bits and you try to execl() it (or whichever call), the kernel looks at the first few bytes, and if it's not an ELF header or shebang or other thing the kernel can handle, the kernel returns ENOEXEC
[00:19:26] *** Quits: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479) (Quit: bbl (hopefully; if not, see you in 3 weeks))
[00:19:35] <greycat> What happens after that depends on which program tried to execl() the thing.
[00:20:30] <greycat> Some programs simply abort with an error.  Some simply punt to /bin/sh.  Bash reads the first 100-ish bytes, looks for NULs, and if it doesn't find any, launches a child bash process to read it.
[00:22:56] <emanuele6> right. i always justified that behaviour by thing it was the kernel; i would have never thought it would be the shell, it is a bit weird to run it with /bin/sh, but that is what they do.
[00:23:05] <emanuele6> s/thing/thinking/
[00:23:12] <greycat> it's what *some* things do
[00:24:15] <greycat> (but seriously, can't Go just treat lines starting with #! or # as comments like everything else, and then this isn't needed?)
[00:26:22] *** Joins: alzgh (~alzgh@216.155.158.214)
[00:26:31] <emanuele6> > I have never said it cannot be done. I have always said it should not be done, and I have explained why.
[00:26:34] <emanuele6> > "Useful" is not an argument for a feature. All features are useful; otherwise they would not be features. The issue is whether the feature justifies its cost. That is a judgement call, and my judgement is, no. Running compilers and linkers, doing megabytes of I/O, and creating temporary binary files is not a justifiable expense for running a small program. For large programs, the amortization is
[00:26:36] <emanuele6> even more in favor of not doing this.
[00:26:38] <emanuele6> > I am firmly against adding a feature to Go that encourages abuse of resources.
[00:26:40] <emanuele6> > If you want the feature, use gorun or an equivalent wrapper program. That's what it's for. I think believe gorun is a mistake, but I'm not stopping you from installing it and using it as you see fit.
[00:26:40] *** Joins: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479)
[00:27:22] <emanuele6> this is what rob pike (one of go's main guys) said about go run shebangs
[00:27:55] <greycat> How *do* you run it properly, then?  If it's not compiled, and if the gorun wrapper is discouraged, how you are *supposed* to run it?
[00:28:43] <alzgh> `find -name access.log* |grep -hr 500 -` I expect this to read the file names piped by find from stdin, but it does not. Removing the dash at the end does the trick. I'm not sure why that is. Man pages say `-` makes it read from stdin.
[00:28:55] <emanuele6> i think they want you to use `go run` only for testing and to compile the program to actually run it
[00:29:07] <alzgh> I missed the quotes around `"access.log*"` :)
[00:29:15] <emanuele6> i agree that this is stupid
[00:29:34] <greycat> alzgh: find . -type f -name 'access.log*' -exec grep -h 500 {} +
[00:30:19] <alzgh> I have a solution for the problem. My issue is why `grep` doesn't work with dash as stated in the man pages greycat
[00:30:39] <greycat> you're piping CONTENT to grep's stdin, and grep is reading that CONTENT as the INPUT FILE, and performing matches against it.
[00:30:50] <alzgh> damn
[00:31:05] <alzgh> it considers it the file, not file name
[00:36:01] *** Joins: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com)
[00:37:02] *** Joins: nickodd (~nickodd@user/nickodd)
[00:37:38] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Remote host closed the connection)
[00:38:11] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[00:40:13] <alzgh> `find . -name "access.log*" -type f -print0 | xargs -0 cat | grep -hr -e "500" -` this works. It's unnecessary. Can be done with `grep -hr -e "500" --include="access.log*"` or probably simpler, but wanted to make sure I get how it works.
[00:41:23] <phy1729> find can exec grep directly
[00:41:59] <greycat> but alzgh is a crazy cat person
[00:42:01] *** Quits: bn_work (uid268505@id-268505.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[00:42:13] <greycat> it's just not /correct/ until there's cats in it
[00:42:32] *** Quits: absc (~absc@dynamic-adsl-94-34-201-166.clienti.tiscali.it) (Quit: Leaving.)
[00:42:41] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Ping timeout: 250 seconds)
[00:42:44] <alzgh> greycat knows :)
[00:43:21] <alzgh> phy1729 `grep` can do the whole alone without `find`
[00:43:47] <greycat> not standard grep
[00:43:59] <alzgh> O
[00:44:14] <greycat> but you're clearly using GNU tools (your find invocation was broken except on GNU, and your grep has -r and --include)
[00:44:14] <alzgh> That's GNU grep I have
[00:44:27] <alzgh> yes
[00:44:35] <alzgh> I'm not a UNIX person
[00:44:43] <alzgh> very new to this business
[00:45:05] <greycat> 15:59  greycat> alzgh: find . -type f -name 'access.log*' -exec grep -h 500 {} +
[00:45:15] *** Joins: lavaball (felix@31.204.155.215)
[00:45:39] <alzgh> what is the `{} +` at the end?
[00:45:45] <greycat> !find
[00:45:45] <greybot> http://mywiki.wooledge.org/UsingFind
[00:45:53] <wstrnr> it's the most important part, alzgh 
[00:46:08] <greycat> it tells -exec where to put the filenames
[00:47:09] *** Quits: fortuno51 (~fortuno51@37.120.156.254) (Remote host closed the connection)
[00:47:23] *** Quits: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com) (Ping timeout: 258 seconds)
[00:47:58] *** Joins: Adois (~Adoi@user/adoi)
[00:49:17] <alzgh> As I understand from the wiki it can also work without `+` at the end? It just doesn't take advantage of greps capability to take on lists of files.
[00:49:38] <greycat> if you use \; instead of + at the end, it only passes one filename to each command
[00:49:52] <wstrnr> by the way, if alzgh really loves cat so much, he will like ``find . -type f -name 'access.log*' -exec cat {} + | grep 500''
[00:50:00] *** Joins: sakalli (~user@88-115-213-158.elisa-laajakaista.fi)
[00:50:02] <greycat> the + variant is newer, and replaces the xargs(1) command, which is broken in substantial ways
[00:50:35] <alzgh> wstrnr gonna check if this works and come back :D
[00:50:55] <greycat> and you're probably thinking, "But I use xargs -0 all the time!  What's wrong with it?"  That -0 is a GNU extension, and it fixes the brokenness.  POSIX xargs doesn't have it.
[00:51:35] <alzgh> was correct wstrnr
[00:52:19] <wstrnr> alzgh: did you read the wiki page about find?
[00:52:33] <greycat> it's a fairly long one, so I think they only skimmed it
[00:52:38] <alzgh> greycat was thinking some of you guys must be at this for a couple of decades already
[00:52:46] <greycat> quite correct
[00:52:52] <sakalli> hi. if id like to download a hashmap from github and insert it as an argument on commandline. what is the right way? clj -Sdeps '$(curl https://raw.githubusercontent.com/practicalli/clojure-deps-edn/live/deps.edn)' -M:alpha/hot-load
[00:52:52] <sakalli>  
[00:53:07] <alzgh> wstrnr as greycat said I skimmed it. searched for `{}` etc.
[00:53:12] <greycat> sakalli: "$(...)"
[00:53:16] *** Quits: useretail (~useretail@185.132.19.151) (Ping timeout: 272 seconds)
[00:53:46] <alzgh> I'm mostly focused on GNU stuff and probably the easier ways
[00:53:46] <wstrnr> alzgh: any way, return to this page and read it thoroughly as soon as you can
[00:54:04] <alzgh> sure, will do
[00:54:17] <sakalli> thanks greycat. tried that and it doesent work either, but perhaps not bash related...
[00:54:37] <greycat> what's a "hash map"?
[00:54:40] *** Quits: dub_a (~dub_a@static-198-54-131-88.cust.tzulo.com) (Ping timeout: 258 seconds)
[00:55:25] <greycat> P.S. you can use set -x before that, to see how the command substitution is expanded
[00:55:27] <phy1729> Does clj expect a massive argument with all that text or a filename?
[00:56:02] *** Joins: newchair (~newchair@2600:1700:4fb3:c200::49)
[00:56:23] <sakalli> thanks greycat, thats handy <3
[00:56:38] *** Joins: dub_a (~dub_a@2601:1c2:4e00:3b3::cb2)
[00:57:05] <wstrnr> standard utilities have so much of goddamn options and features, if you "focus on GNU stuff", you will be overwhelmed and it will be really hard for you to quickly learn to do anything.
[00:57:17] <wstrnr> to focus on something you have to find a spot, some specific focal point, and it has to be small.  but sets of GNU features in standard utilities and even non-POSIX but expectedly preinstalled GNU utilities are enormous. for example, readline in bash
[00:58:25] <sakalli> greycat: hash-map is just a clojure data structure, although i guess that is actually edn but never mind. think the problem is elsewhere.
[00:58:43] *** Quits: silverwhitefish (~hidden@47.202.102.10) (Ping timeout: 250 seconds)
[00:59:01] <greycat> I'm imagining that it's like JSON.
[00:59:29] <wstrnr> so the original command was:  clj -Sdeps '$(curl https://raw.githubusercontent.com/practicalli/clojure-deps-edn/live/deps.edn)' -M:alpha/hot-load
[00:59:36] <greycat> so, if you were to write  clj -Sdeps "{big:hashmap{goes:here}}" -M:alpha/hot-load   would that make sense?
[00:59:53] <greycat> wstrnr: the quoting is wrong on that one.
[00:59:57] <wstrnr> sure
[01:00:04] <wstrnr> is this *.edn file the hashmap you are talking about?
[01:00:09] *** Joins: austin987 (~null@100.42.98.196)
[01:00:50] *** Quits: fuzzybear3965 (~fuzzybear@2a03:7380:2102:6c35:d957:314a:bf15:4458) (Quit: Client closed)
[01:00:53] <phy1729> The question is does clj expect a filename or the rather large data structure itself
[01:01:08] <phy1729> (with comments it seems, so I'm really leaning towards the filename)
[01:01:44] <wstrnr> if it's already prepared well enough to just put it in one argument to the command literally, you can either download it and use  "$(<file)" syntax, or "$(curl http://url-here/blah.edn)" command substitution
[01:01:49] <greycat> if a filename is expected, you can *try* <(curl ...) but it won't be seekable
[01:01:50] <sakalli> greycat: yes
[01:01:55] <wstrnr> in case of command substitution handling errors will be not that easy
[01:01:56] <greycat> if a seekable file is needed, just use a temp file
[01:02:08] *** Quits: makara (~sol@196.61.111.63) (Ping timeout: 272 seconds)
[01:02:23] <wstrnr> it's better to use a temp file, because you will be able to handle download errors
[01:02:25] *** Quits: fdan (~fdan@192.146.154.3) (Ping timeout: 246 seconds)
[01:02:46] <wstrnr> ``wget http://your/edn/file || exit''
[01:02:58] <phy1729> !die
[01:02:58] <greybot> command -v foo >/dev/null || die "please install the foo command" # Using a custom 'die' function from http://mywiki.wooledge.org/BashFAQ/101
[01:03:21] <wstrnr> wget will report enough of diagnostics to see that your downloading went awry, and the clj command will not be run at all
[01:03:38] <wstrnr> preparing a "die" termination procedure is also suggested
[01:04:03] <wstrnr> though file downloading programs typically print a lot of their own diagnostic messages
[01:04:07] <sakalli> wstrnr: yep its a deps.edn file
[01:05:55] <wstrnr> if you want to automatically delete the temporary file, you can do it in EXIT trap
[01:06:03] <wstrnr> there should be a factoid about that too
[01:06:52] <sakalli> sorry folks, was a bit out of sync with the chat, heh, trying to parse all now... 
[01:07:54] <sakalli> so the file should be ok. the double quotes there, will it be ok and nothing will be evaluated nor intefere with the double quotes in the data structure?
[01:08:14] <wstrnr> # mock_wget() { echo contents >"${1##*/}"; }   (trap 'rm -fv deps.edn' EXIT; mock_wget http://whatever/deps.edn && clj -"this command will not be found" "$(<deps.edn)");   ls -a
[01:08:16] <shbot> wstrnr: bash: syntax error near unexpected token `('
[01:08:16] <greycat> we don't know how this clj command works.
[01:08:39] <wstrnr> ah, forgot the ;
[01:08:46] <wstrnr> # mock_wget() { echo contents >"${1##*/}"; };   (trap 'rm -fv deps.edn' EXIT; mock_wget http://whatever/deps.edn && clj -"this command will not be found" "$(<deps.edn)");   ls -a
[01:08:53] <shbot> wstrnr: bash: clj: command not found
[01:08:53] <shbot> wstrnr: bash: rm: -v: invalid option
[01:08:53] <shbot> wstrnr: etc... ( http://ix.io/3vc9 )
[01:09:12] <wstrnr> it prints command not found, heh, and rm does not support the -v option :)
[01:09:18] <wstrnr> all right!
[01:09:25] <wstrnr> # mock_wget() { echo contents >"${1##*/}"; };   (trap 'rm -f deps.edn' EXIT; mock_wget http://whatever/deps.edn && clj -"this command will not be found" "$(<deps.edn)");   ls -a
[01:09:26] <shbot> wstrnr: bash: clj: command not found
[01:09:26] <shbot> wstrnr: 99,9912,99.99,99  12,99..99,99  .bashrc  .mkshrc
[01:09:30] <greycat> writing weird mocked-up scripts in shbot isn't going to help them
[01:09:47] <wstrnr> i can describe what's being done
[01:09:54] *** Joins: useretail (~useretail@185.132.19.151)
[01:09:58] *** Quits: Palll (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net) (Quit: Leaving)
[01:10:05] *** Quits: newchair (~newchair@2600:1700:4fb3:c200::49) (Quit: Client closed)
[01:10:16] <greycat> they need to use set -x and read the error they're getting, and apply whatever Clojure knowledge they possess
[01:10:16] *** Joins: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net)
[01:10:17] <wstrnr> wget returns with success, but the command clj fails because of reasons. yet temporary file is deleted
[01:10:36] <wstrnr> this is illustration of the   trap 'rm -f deps.edn' EXIT   
[01:10:52] <greycat> a complete side-track
[01:11:20] <sakalli> kk thanks wstrnr  and greycat
[01:11:39] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:12:26] <wstrnr> sakalli: any way, you should know by now how $(command substitution) and $(<bash-specific file contents substitution) work, and how double quotes should work around these syntaxes
[01:12:52] <sakalli> yep cheers
[01:14:22] <wstrnr> -v option of GNU rm is handy though. it's a downer this option is not available in shbot, but as a lesson that GNU options are not going to be available everywher it does its job
[01:14:42] <greycat> # type rm
[01:14:43] <shbot> greycat: rm is a shell builtin
[01:14:46] <wstrnr> "everywhere" with "e"
[01:16:01] <wstrnr> # help rm | tr '\n' ' '
[01:16:03] <shbot> wstrnr: rm: rm [-rf] file ...     Remove files.          rm removes the files specified as arguments.
[01:16:21] <wstrnr> oh-kay.
[01:16:22] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[01:16:41] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[01:16:42] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 244 seconds)
[01:16:42] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 244 seconds)
[01:16:57] *** Joins: newchair (~newchair@2600:1700:4fb3:c200::49)
[01:18:52] *** Quits: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 245 seconds)
[01:23:23] *** Joins: shbot5 (~shbot@37.139.2.101)
[01:23:23] *** Quits: shbot (~shbot@37.139.2.101) (Killed (NickServ (GHOST command used by shbot5)))
[01:23:43] *** Quits: newchair (~newchair@2600:1700:4fb3:c200::49) (Quit: Client closed)
[01:23:59] *** Joins: newchair (~newchair@2600:1700:4fb3:c200::49)
[01:25:01] <wstrnr> when you call a builtin in bash, new process is not created
[01:25:13] <wstrnr> but rm is a program that does disk I/O, and this kind of manipulation can lead to a disk-related malfunction and either hang indefinitely, or crash, or do some other terrible thing, so that you will need to kill -KILL the process that unlinks files
[01:25:28] <wstrnr> in ordinary cases, the process of rm program
[01:25:51] <wstrnr> in case of rm builtin in bash, you will need to kill it from another shell, so that probably the whole login shell will be lost for a user.  user will probably deplore losing command history that should've been saved on logout
[01:26:42] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 240 seconds)
[01:27:25] *** Joins: Crescendo (~Crescendo@user/crescendo)
[01:27:26] <wstrnr> i'd prefer not to use a rm builtin.
[01:28:01] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[01:29:22] *** Quits: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net) (Ping timeout: 272 seconds)
[01:33:35] *** Quits: newchair (~newchair@2600:1700:4fb3:c200::49) (Quit: Client closed)
[01:35:18] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 258 seconds)
[01:36:02] *** Joins: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com)
[01:36:27] *** Quits: twobitsprite (~twobitspr@107.13.51.62) (Ping timeout: 276 seconds)
[01:36:44] *** Joins: neshpion (~neshpion@gateway/tor-sasl/neshpion)
[01:37:49] *** Joins: twobitsprite (~twobitspr@195.181.171.244)
[01:39:05] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:ce3:b114:e4b:99c8)
[01:39:06] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:ce3:b114:e4b:99c8) (Changing host)
[01:39:06] *** Joins: skapata (~Skapata@user/skapata)
[01:39:42] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[01:40:32] *** Joins: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net)
[01:44:06] *** Joins: fuzzybear3965 (~fuzzybear@2a03:7380:2102:6c35:d957:314a:bf15:4458)
[01:44:15] *** Joins: kurtthemaker (~kurt@S010644a56e3e0ee9.cn.shawcable.net)
[01:47:45] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[01:50:22] *** Quits: fuzzybear3965 (~fuzzybear@2a03:7380:2102:6c35:d957:314a:bf15:4458) (Quit: Client closed)
[01:51:43] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Read error: Connection reset by peer)
[01:52:44] *** Joins: Booda (~Anarchaos@5.181.234.188)
[01:55:28] *** Quits: daniel-k (~daniel-k@192.241.135.211) (Quit: bye)
[01:55:59] *** Joins: daniel-k (~daniel-k@192.241.135.211)
[01:58:31] *** Quits: daniel-k (~daniel-k@192.241.135.211) (Client Quit)
[01:59:10] *** Joins: daniel-k (~daniel-k@192.241.135.211)
[02:06:52] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:09:45] *** Joins: killown (~killown@user/killown)
[02:10:24] *** Quits: wstrnr (~wstrnr@user/wstrnr) (Quit: .)
[02:10:32] *** Joins: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net)
[02:10:56] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[02:12:52] *** Quits: kill (~killown@user/killown) (Ping timeout: 258 seconds)
[02:14:47] <Nintendo> It might be nice if there were a way to make exec fail when its command argument fails.
[02:15:01] *** Joins: FightingFalcon (~none@user/fightingfalcon)
[02:15:23] *** Quits: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net) (Client Quit)
[02:15:23] <FightingFalcon> whats wrong this : if [[ "$file" != "*.{filepart,png,svg}" && ( "$action" == "CREATE" || "$action" == "MOVED_TO" ) ]]
[02:15:23] *** Joins: shush (sid21719@id-21719.tinside.irccloud.com)
[02:15:25] <Nintendo> That would require waiting around for the command to finish, though, which would make the whole point of exec moot.
[02:15:38] <shush> Is there a way to know if a script is being "sourced" from another shell?
[02:15:44] <Nintendo> In other words, it might be nice if there were magic.
[02:15:47] <shush> I'd like to exit if it isn't
[02:15:50] <twkm> quotes disable pattern matching FightingFalcon.
[02:15:52] <greycat> if [[ $file != *.@(filepart|png|svg} ]]
[02:16:04] <greycat> oops
[02:16:06] <greycat> if [[ $file != *.@(filepart|png|svg) ]]
[02:16:23] <greycat> !faq sourced > shush
[02:16:23] <greybot> shush: https://mywiki.wooledge.org/BashFAQ/109 -- How can I tell whether my script was sourced (dotted in) or executed?
[02:16:32] <FightingFalcon> why *.@ _
[02:16:33] <FightingFalcon> ?
[02:16:39] <greycat> !extglob > FightingFalcon 
[02:16:39] <greybot> FightingFalcon: "Extended globs" (shopt -s extglob) allow you to say things like "all files that do not end in .jpg". See http://mywiki.wooledge.org/glob#extglob
[02:16:40] <twkm> "$file" is okay.  "pattern" turns it into a plain text match.
[02:17:09] <greycat> the *. is a regular glob.  the @(...) is an extended glob.
[02:17:23] <Nintendo> s/magic/a timeout argument for exec
[02:18:21] <FightingFalcon> twkm, how about "$action" ?
[02:20:33] <FightingFalcon> $file != "*.@(filepart|png|svg)"
[02:20:37] <FightingFalcon> this is also not working
[02:20:42] <greycat> Do.  NOT.  QUOTE.  The patter.
[02:20:44] <greycat> n
[02:20:46] <FightingFalcon> err sorry
[02:21:35] *** Quits: dub_a (~dub_a@2601:1c2:4e00:3b3::cb2) (Quit: WeeChat 3.2)
[02:22:10] <greycat> !noquote
[02:22:10] <greybot> Quotes on expansions are almost always safest, even if sometimes unnecessary. The ONLY times you do NOT want quotes: ${var:+ .. } (quote expansions inside '..', though!), right-hand side of [['s = and =~ (if you want a pattern match), inside arithmetic context (( "$foo" )) -> (( foo )).
[02:24:33] <FightingFalcon> thanks
[02:26:43] *** LSD is now known as acidsys
[02:30:41] *** Joins: dermato (~dermatobr@cpe-70-114-219-76.austin.res.rr.com)
[02:31:32] *** Quits: MaximB (~MaximB@87.68.164.32) (Quit: Client closed)
[02:32:47] *** Quits: Booda (~Anarchaos@5.181.234.188) (Quit: Leaving)
[02:33:55] *** Quits: N4buc0 (~N4buc0@2001:1284:f016:1112:c1b7:d115:ba5a:a45f) (Remote host closed the connection)
[02:34:49] *** Quits: alzgh (~alzgh@216.155.158.214) (Ping timeout: 246 seconds)
[02:37:35] <eggbean> Oh, so "quote" "all" "the" "things" is not actually a bash commandment? TIL
[02:37:46] *** Joins: akoana (~ah@user/akoana)
[02:38:15] <greycat> Bash is a nightmare to write code in.  There are exceptions to *everything*.
[02:38:23] <eggbean> heh
[02:38:53] <greycat> Technically there's at least one more place where the absence of quotes is significant and possibly-needed -- the sentinel word for a here document.  Quoting it changes behavior.
[02:38:55] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[02:38:58] <emanuele6> i thought that was java
[02:40:58] *** Joins: ferdna (~ferdna@user/ferdna)
[02:42:17] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[02:48:56] *** Joins: tex (~super@user/dix)
[02:49:03] <twkm> if the pattern needs quoting, or seems to, put it in a variable.  if pat='...' ; [[ $var == $pat ]]; then ...
[02:50:17] *** Joins: Codaraxis_ (~Codaraxis@user/codaraxis)
[02:52:02] *** Joins: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net)
[02:52:18] *** Quits: Codaraxis_ (~Codaraxis@user/codaraxis) (Client Quit)
[02:53:49] *** Joins: carlos (~pum@user/carlos)
[02:53:54] *** Quits: Codaraxis__ (~Codaraxis@user/codaraxis) (Ping timeout: 240 seconds)
[02:57:34] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[03:02:35] *** Quits: carlos (~pum@user/carlos) (Quit: __Ì´Ä±Ì´Ì´Ì¡Ì¡Ì¡ Ì¡ÍlÌ¡Ì¡Ì¡ Ì¡ÍlÌ¡*Ì¡Ì¡ Ì¡Ì´Ä±Ì´Ì´Ì¡ Ì¡Ì¡Í¡|Ì²Í¡Ì²Í¡Ì²Í¡ Ì²â«Í¡Ì² Ì²Í¡Ì²Í¡Ì²ÏÌ²Í¡Ì²Í¡ Ì²Í¡Ì²â«Ì²Í¡Ì²Í¡ Ì²|Ì¡Ì¡Ì¡ Ì¡ Ì¡Ì´Ä±Ì´Ì¡Ì¡ Ì¡ÍlÌ¡Ì¡Ì¡Ì¡.___)
[03:02:42] *** Quits: Adois (~Adoi@user/adoi) (Ping timeout: 256 seconds)
[03:03:59] *** Joins: carlos (~pum@user/carlos)
[03:05:42] *** Quits: carlos (~pum@user/carlos) (Remote host closed the connection)
[03:06:21] *** Joins: PinealGlandOptic (~PinealGla@37.115.210.35)
[03:06:24] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[03:07:26] *** Joins: carlos (~pum@user/carlos)
[03:09:17] *** Quits: magla (~gelignite@55d4c44d.access.ecotel.net) (Quit: Stay safe!)
[03:09:36] *** Quits: vysn (~vysn@user/vysn) (Remote host closed the connection)
[03:10:04] *** Quits: carlos (~pum@user/carlos) (Remote host closed the connection)
[03:10:27] *** Joins: carlos (~pum@user/carlos)
[03:11:26] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[03:11:46] *** Joins: Crescendo (~Crescendo@user/crescendo)
[03:14:25] *** Quits: gry (~quassel@botters/gry) (Quit: No Ping reply in 180 seconds.)
[03:14:45] *** Quits: sinaowolabi__ (~SinaOwola@160.152.126.124) (Ping timeout: 252 seconds)
[03:15:01] *** Joins: gry (~quassel@botters/gry)
[03:15:23] *** Quits: Hax0r (~Hax0r@87.101.193.195) (Remote host closed the connection)
[03:16:38] *** Quits: karakedi (~eAC53C340@user/karakedi) (Remote host closed the connection)
[03:17:50] *** Joins: seninha (~seninha@user/seninha)
[03:20:07] *** Joins: Booda (~Anarchaos@5.181.234.188)
[03:29:04] *** Quits: nvmd (~nvmd@user/nvmd) (Quit: Later, nerds.)
[03:31:46] *** Joins: sinaowolabi__ (~SinaOwola@102.134.114.17)
[03:32:05] *** Parts: FightingFalcon (~none@user/fightingfalcon) ()
[03:33:30] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 240 seconds)
[03:33:41] *** Quits: jsrnop (~mark@user/jsrnop) (Quit: The Lounge - https://thelounge.chat)
[03:34:09] *** Joins: jsrnop (~mark@user/jsrnop)
[03:34:23] *** Joins: sn1tch3r (~sn1tch3r@user/sn1tch3r)
[03:34:39] *** Quits: sn1tch3r (~sn1tch3r@user/sn1tch3r) (Remote host closed the connection)
[03:35:04] *** Joins: sn1tch3r (~sn1tch3r@user/sn1tch3r)
[03:44:27] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[03:45:06] *** Joins: seninha (~seninha@user/seninha)
[03:46:47] *** Quits: Booda (~Anarchaos@5.181.234.188) (Ping timeout: 258 seconds)
[03:50:06] *** Joins: skreech (~skreech@user/skreech)
[03:54:58] *** Joins: Booda (~Anarchaos@78.110.172.200)
[03:55:22] *** Quits: carlos (~pum@user/carlos) (Remote host closed the connection)
[03:55:46] *** Joins: carlos (~pum@user/carlos)
[03:56:52] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[03:59:29] *** Booda is now known as tw3ml0w
[04:05:09] *** Quits: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479) (Remote host closed the connection)
[04:06:03] *** Quits: tw3ml0w (~Anarchaos@78.110.172.200) (Quit: Leaving)
[04:06:21] *** Joins: tw3ml0w (~tw3ml0w@78.110.172.200)
[04:08:29] *** Joins: seninha (~seninha@user/seninha)
[04:09:35] *** Quits: WinterStar (~IceLight@user/icelight) (Quit: WeeChat 3.2)
[04:09:44] *** Quits: Sasazuka (~Sasazuka@user/sasazuka) (Quit: My MacBook has gone to sleep. ZZZzzzâ¦)
[04:11:52] *** Quits: skreech (~skreech@user/skreech) (Quit: skreech)
[04:12:46] *** Quits: tex (~super@user/dix) (Ping timeout: 272 seconds)
[04:13:16] *** Joins: skreech (~skreech@user/skreech)
[04:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:38] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:17:06] *** Joins: odoood (~odoood@2601:c8:c003:a550::8)
[04:18:02] *** Quits: sn1tch3r (~sn1tch3r@user/sn1tch3r) (Quit: Leaving)
[04:20:02] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:39] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:21:34] *** Quits: neightchan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Remote host closed the connection)
[04:21:53] *** Joins: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[04:22:58] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 240 seconds)
[04:24:24] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:24:25] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[04:28:18] *** Joins: BUSY (~BUSY@user/busy)
[04:30:36] *** Quits: howdoi (uid224@id-224.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[04:40:04] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Quit: ZNC 1.8.2 - https://znc.in)
[04:40:20] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[04:45:43] *** Quits: MercilessDeth (~brad@136.49.61.2) (Read error: Connection reset by peer)
[04:46:24] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[04:48:36] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:54:54] *** Joins: zebrag (~chris@user/zebrag)
[04:55:01] *** Quits: odoood (~odoood@2601:c8:c003:a550::8) (Ping timeout: 258 seconds)
[05:02:18] *** Joins: MercilessDeth (~brad@136.49.61.2)
[05:02:38] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[05:07:33] *** Quits: omegatron (~some@p54849842.dip0.t-ipconnect.de) (Quit: What happened? You quit!)
[05:12:10] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[05:12:21] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Remote host closed the connection)
[05:14:50] *** Joins: totenkoph (~scythe@user/totenkoph)
[05:23:44] *** Joins: odoood (~odoood@2601:c8:c003:a550::8)
[05:23:54] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Quit: Leaving...)
[05:25:55] *** Quits: jess (~jess@libera/staff/jess) ()
[05:26:27] *** Quits: mat001 (~mat001@c-73-223-64-126.hsd1.ca.comcast.net) (Ping timeout: 258 seconds)
[05:28:22] *** Quits: odoood (~odoood@2601:c8:c003:a550::8) (Ping timeout: 258 seconds)
[05:30:29] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:32:31] *** Joins: mat001 (~mat001@c-73-223-64-126.hsd1.ca.comcast.net)
[05:34:35] *** Joins: vlm (~vlm@user/vlm)
[05:46:56] *** Quits: carlos (~pum@user/carlos) (Remote host closed the connection)
[05:47:19] *** Quits: ackyshake (~ackyshake@user/ackyshake) (Ping timeout: 250 seconds)
[05:49:59] *** Joins: ackyshake (~ackyshake@user/ackyshake)
[05:55:13] *** Quits: tw3ml0w (~tw3ml0w@78.110.172.200) (Quit: Leaving)
[05:57:34] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 268 seconds)
[05:58:42] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Ping timeout: 240 seconds)
[06:00:56] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[06:01:26] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[06:06:18] *** Joins: darkbit (~db@152.32.99.67)
[06:08:10] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Ping timeout: 240 seconds)
[06:14:27] *** Joins: busybusybusy (~BUSY@user/busy)
[06:15:18] *** Quits: BUSY (~BUSY@user/busy) (Killed (NickServ (GHOST command used by busybusybusy)))
[06:15:24] *** busybusybusy is now known as BUSY
[06:16:46] *** Joins: fstd (~fstd@xdsl-78-35-72-109.nc.de)
[06:18:00] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[06:19:20] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[06:19:32] *** Joins: lilalinux (~lilalinux@p4fc084f7.dip0.t-ipconnect.de)
[06:20:07] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aÐ»Ð»Ð¸Ð»Ñ¹ÑÐ°!)
[06:21:02] *** Quits: fstd_ (~fstd@xdsl-78-34-189-238.nc.de) (Ping timeout: 256 seconds)
[06:21:45] *** Parts: apteryx (~maxim@dsl-151-109.b2b2c.ca) ()
[06:23:57] *** Quits: lilalinux (~lilalinux@p4fc084f7.dip0.t-ipconnect.de) (Ping timeout: 258 seconds)
[06:48:24] *** Parts: Raguile (~Raguile@user/raguile) ()
[06:53:38] *** Joins: YaoNai (~YaoNai@user/yaonai)
[06:57:57] *** Joins: downunder (~downunder@110.151.122.76)
[07:03:09] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Ping timeout: 250 seconds)
[07:04:15] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:ed31:59a0:8121:103e)
[07:04:26] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:ed31:59a0:8121:103e) (Read error: Connection reset by peer)
[07:04:31] *** Quits: YaoNai (~YaoNai@user/yaonai) (Quit: leaving)
[07:10:24] *** Joins: jos2 (~jos3@dyndsl-091-096-036-238.ewe-ip-backbone.de)
[07:13:21] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[07:14:18] *** Quits: jos1 (~jos3@host-091-097-184-063.ewe-ip-backbone.de) (Ping timeout: 256 seconds)
[07:15:35] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[07:19:21] *** Parts: justsomeguy (~justsomeg@user/justsomeguy) (WeeChat 3.2)
[07:26:16] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[07:28:16] *** Quits: Guest3715 (~rs@50.47.97.56) ()
[07:30:45] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:31:20] *** Joins: rs (~rs@user/rs)
[07:33:06] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 240 seconds)
[07:33:41] *** Quits: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[07:33:43] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 258 seconds)
[07:36:27] *** Joins: Crescendo (~Crescendo@user/crescendo)
[07:37:07] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[07:38:12] *** Joins: jetchisel (jetchisel@user/jetchisel)
[07:40:01] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.2)
[07:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:42:03] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 252 seconds)
[07:47:20] *** Joins: anton (anton@tloks.com)
[07:50:16] *** Joins: n4dir (~user@i59F77CA3.versanet.de)
[07:50:53] *** Joins: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar)
[07:52:37] *** Quits: anton (anton@tloks.com) (Remote host closed the connection)
[07:53:29] *** Joins: anton (anton@tloks.com)
[08:02:00] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[08:02:26] *** Joins: gnoo (~gnoo@user/gnoo)
[08:06:13] *** Quits: neshpion (~neshpion@gateway/tor-sasl/neshpion) (Quit: neshpion)
[08:11:24] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[08:16:12] *** Quits: zro (~zro@user/zro) (Ping timeout: 276 seconds)
[08:35:29] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[08:37:54] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 240 seconds)
[08:44:57] *** Joins: joebobjoe (~joebobjoe@user/joebobjoe)
[08:45:12] <joebobjoe> hi can anyone help me with sed regex?
[08:45:18] <joebobjoe> nobody is in sed right now
[08:54:51] *** Joins: locrian9 (~mike@99-153-255-194.lightspeed.irvnca.sbcglobal.net)
[09:01:34] <phy1729> !ask
[09:01:34] <greybot> If you have a question, please just ask it. Don't look for topic experts. Don't ask to ask. Don't PM! Don't ask if people are awake, or in the mood to help. Just ask the question straight out, and be patient waiting for an answer. http://mywiki.wooledge.org/NetEtiquette
[09:08:32] <joebobjoe> how do I parse https://termbin.com/jg3r into just the usernames separated by a new line using sed?
[09:08:36] *** Quits: killown (~killown@user/killown) (Remote host closed the connection)
[09:09:21] <phy1729> Have you considered using /who instead?
[09:09:45] <joebobjoe> yea but it's too late for that now
[09:09:55] <joebobjoe> because now I want to use it with the data I already got
[09:10:08] <joebobjoe> I tried sed -n 's/\[\(.*?\)\]/\1/p' freenode
[09:10:22] <joebobjoe> (where freenode is the file that user list is stored in)
[09:11:12] <phy1729> Honestly I'd load it into vim, visual block delete the first 6 cols and then replace [[@]] with nothing
[09:11:42] <phy1729> Technically incorrect since those can showup in nicks, but it works here
[09:12:08] <joebobjoe> what do you mean replace [[@]] with nothing
[09:12:21] <phy1729> :%s/[][@]//g
[09:12:23] <joebobjoe> so just do vim-foo?
[09:12:55] <phy1729> yeah for a one off with a really shitty data format it's faster
[09:13:08] <joebobjoe> whoah wtf did :%s/[][@]//g do
[09:13:10] <joebobjoe> it worked
[09:14:17] <phy1729> https://envs.sh/Oh.txt
[09:15:04] <joebobjoe> can you explain [][@]?
[09:15:10] <joebobjoe> where do I find it in the vim help?
[09:15:23] <phy1729> it's a character class matching ] [ or @
[09:15:33] <phy1729> vim help really belongs in #vim
[09:17:00] <joebobjoe> ok thanks
[09:17:15] <joebobjoe> didn't think to read it like [ ... ]
[09:19:15] <joebobjoe> I sure dislike when I google "posix sed manual" the old version comes up
[09:19:15] <derpadmin> i'm late to the party but
[09:19:15] <derpadmin> sed 's/[(0-9{2})\:(0-9{2}\ |\[|\ ]//g' file | sed 's/\]/\n/g'
[09:19:31] <joebobjoe> thanks! I'll try it
[09:19:48] <joebobjoe> it kind of works but there are blank lines
[09:19:54] <joebobjoe> I'll study it though
[09:20:16] <joebobjoe> derpadmin: this looks very messy 
[09:20:24] <joebobjoe> can't be a complainer lol
[09:20:53] <derpadmin> sed 's/[(0-9{2})\:(0-9{2}\ |\[|\ ]//g' file | sed 's/\]/\n/g' | sed '/^$/d'
[09:20:56] <joebobjoe> oh you keep the ] characters so you can replace them with newlines
[09:21:50] <derpadmin> joebobjoe, it does what you asked for, with sed only
[09:22:23] <joebobjoe> oh I see you select everything except the usernames and remove it rather than print them
[09:22:28] <phy1729> fwiw when people give a question using X, you can ignore the using part
[09:22:30] <phy1729> !using
[09:22:30] <greybot> "How can I do X using Y?" NEVER ask a question of that form. Y may not be the best way to do X. All you should ask is, "How do I do X?"
[09:22:50] <joebobjoe> but I'm asking to learn the tool
[09:23:48] <Nintendo> If you asked how to loosen a bolt using a hammer, would you still be asking to learn the tool?
[09:27:30] <joebobjoe> derpadmin: why do you put in the vertical bars?
[09:27:55] <Nintendo> !pipe
[09:27:55] <greybot> (Anonymous) pipes use the | character to connect the standard output of one command to the standard input of another. Each command is executed in a subshell (but see !subshell, !lastpipe, !faq 24).
[09:28:10] <joebobjoe> no in the regex
[09:31:17] *** Quits: tijuco (~tijuco@user/tijuco) (Quit: Leaving)
[09:31:51] <Nintendo> It's [A|B|C] A or B or C.
[09:31:57] <Nintendo> See regex(7) for more.
[09:32:06] <joebobjoe> but I take them out and it still works
[09:32:47] *** Joins: zro (~zro@user/zro)
[09:33:31] <Nintendo> ... wait, what the hell am I saying.
[09:34:02] *** Quits: ggoes (~gregf@fsf/staff/ggoes) (Quit: WeeChat 2.3)
[09:35:28] <jochum> joebobjoe: thanks for that vim replace question you did
[09:35:43] <Nintendo> I apologize.  I was thinking (A|B|C) in an extended regex.  I'm just as confused as you are, joebobjoe.
[09:37:40] <joebobjoe> jochum: sure? haha
[09:38:18] <jochum> joebobjoe: yeah, played a bit around with the answer of phy1729 to learn it
[09:38:54] <jochum> its handy having that, while yea sed might be the better solution for mass edits :)
[09:39:51] <jochum> joebobjoe: may I ask you in private query about block edits?
[09:40:29] <joebobjoe> uh you sure you don't want to ask phy1729 ?
[09:40:41] <joebobjoe> I'm asking the question they're answering
[09:40:51] *** Quits: aloo_shu (~aloo_shu@79.116.87.23) (Quit: I'm a quit message virus. Please replace your old line with this line and help me take over the world.)
[09:41:20] *** Joins: sokle_68 (~sokle_68@ppp046177047088.access.hol.gr)
[09:41:50] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[09:47:44] *** Joins: ggoes (~gregf@fsf/staff/ggoes)
[09:47:59] *** Quits: n4dir (~user@i59F77CA3.versanet.de) (Remote host closed the connection)
[09:50:14] *** Joins: n4dir (~user@i59F77CA3.versanet.de)
[09:54:32] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[09:57:01] *** Joins: bear_ (~bear@c-65-96-226-165.hsd1.ma.comcast.net)
[09:57:48] *** bear_ is now known as mallarme
[10:01:35] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[10:04:25] *** Quits: DaNeenjah (~jake@21.sub-72-106-110.myvzw.com) (Quit: WeeChat 3.2)
[10:05:06] *** Joins: karakedi (~eAC53C340@user/karakedi)
[10:05:44] *** Joins: furrymcgee (~devuan@31.179.186.66)
[10:10:55] *** Joins: VayuVata (~vayuvata@113.199.242.62)
[10:11:33] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aÐ»Ð»Ð¸Ð»Ñ¹ÑÐ°!)
[10:15:05] *** Quits: VayuVata (~vayuvata@113.199.242.62) (Client Quit)
[10:15:29] <joebobjoe> gah I wish sed would respect capture groups
[10:15:29] *** Joins: VayuVata (~vayuvata@113.199.242.62)
[10:15:40] <joebobjoe> instead it shows the whole match not just the capture group I specified
[10:15:53] <joebobjoe> and posix grep doesn't even have -o wow
[10:17:25] *** Quits: VayuVata (~vayuvata@113.199.242.62) (Client Quit)
[10:17:39] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[10:22:53] *** Quits: pycurious (~Adium@user/pycurious) (Quit: Leaving.)
[10:23:55] *** Quits: smlavine (smlavine@sourcehut/user/smlavine) (Ping timeout: 258 seconds)
[10:29:27] *** Quits: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970) (Ping timeout: 276 seconds)
[10:29:48] *** Quits: LiftLeft (~LiftLeft@191.96.227.138) (Ping timeout: 252 seconds)
[10:30:58] *** Quits: angryman (~angryman@139.180.173.134) (Ping timeout: 240 seconds)
[10:35:25] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[10:38:20] *** Joins: roadie (~user@2a02:8108:ec0:1427:a5a9:ea1f:1d2c:68cd)
[10:40:14] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[10:42:16] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[10:45:22] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 240 seconds)
[10:48:58] *** Quits: mallarme (~bear@c-65-96-226-165.hsd1.ma.comcast.net) (Quit: leaving)
[10:55:45] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[10:55:47] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[10:55:52] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 256 seconds)
[10:56:59] *** Lord_of_Life_ is now known as Lord_of_Life
[10:57:58] *** Joins: sublim20 (~sublim20@user/sublim20)
[10:59:06] *** Quits: RendySurvage (~archie@64.72.216.39) (Quit: WeeChat 3.2)
[11:02:24] *** Quits: n4dir (~user@i59F77CA3.versanet.de) (Remote host closed the connection)
[11:07:12] *** Quits: eqw (~eqw@31.134.178.99) (Ping timeout: 252 seconds)
[11:07:30] *** Quits: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 240 seconds)
[11:11:13] *** Quits: zeraphel (~daddy@5.29.37.93) (Quit: zeraphel)
[11:12:15] *** Quits: gry (~quassel@botters/gry) (Quit: No Ping reply in 180 seconds.)
[11:12:52] *** Joins: gry (~quassel@botters/gry)
[11:13:03] *** Joins: tex (~super@user/dix)
[11:13:28] <joebobjoe> by the way I did the task I asked about earlier
[11:13:34] <joebobjoe> I used sed and xargs 
[11:13:35] <joebobjoe> sed -n 's/[^[]*\[\([^]]*\)\]/\1/pg' freenode | xargs -n1
[11:14:57] <jochum> joebobjoe: have a look at "sed -e"
[11:15:22] *** Quits: richardm75 (~richardm7@2600:8801:c502:1000:3c03:fc01:4e02:dae9) (Ping timeout: 240 seconds)
[11:19:31] *** Joins: illuminated (~quassel@107-133-152-77.lightspeed.okcbok.sbcglobal.net)
[11:20:06] <illuminated> how do you disable history, clear history, then re-enable it again without leaving any evidence of doing so in the bash history file
[11:20:12] <illuminated> promise I'm not trying to hack anything
[11:20:30] <illuminated> just trying to clear my history on my own box without others seeing that I did it.. tho they will likely know I did
[11:20:38] <illuminated> but I just want to delete any tracks of having did it 
[11:21:32] *** Quits: fling (~fling@user/fling) (Ping timeout: 272 seconds)
[11:22:52] <jochum> illuminated: there was some set command for bash to disable history
[11:23:05] * jochum hops out
[11:23:23] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.2)
[11:26:41] <illuminated> lol ok
[11:26:44] <illuminated> i think i figured it out
[11:28:31] <illuminated> thanks though
[11:28:33] <illuminated> ok, i'm out
[11:28:35] <illuminated> see ya
[11:28:39] *** Parts: illuminated (~quassel@107-133-152-77.lightspeed.okcbok.sbcglobal.net) (http://quassel-irc.org - Chat comfortably. Anywhere.)
[11:35:16] *** Joins: fdan (~fdan@192.146.154.3)
[11:38:37] *** Joins: zeraphel (~daddy@5.29.37.93)
[11:39:49] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 258 seconds)
[11:43:26] *** Joins: magla (~gelignite@55d4004f.access.ecotel.net)
[11:45:32] <joebobjoe> jochum: what does -e do?
[11:45:50] <jochum> joebobjoe: extended syntax
[11:46:01] <jochum> joebobjoe: or was it the big -E ?
[11:46:15] <jochum> joebobjoe: please read the web, it will allow you to use groups
[11:49:56] *** Joins: rendar (~rendar@user/rendar)
[11:57:27] <joebobjoe> I am already using groups jochum 
[12:01:44] *** Joins: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar)
[12:02:11] <jochum> <joebobjoe> gah I wish sed would respect capture groups ?
[12:02:20] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[12:02:28] <joebobjoe> crap, I meant grep :/
[12:02:42] <jochum> joebobjoe: also grep does
[12:02:43] <joebobjoe> it shows the whole match
[12:02:48] <joebobjoe> it doesn't print just the capture
[12:02:49] <jochum> with -E
[12:02:54] <jochum> not sure about that
[12:03:00] <jochum> never used -E
[12:11:03] *** Quits: edlou (uid413273@id-413273.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[12:14:41] *** Joins: julius_c (~julius_c@174.red-83-57-76.dynamicip.rima-tde.net)
[12:19:16] *** Joins: Hax0r (~Hax0r@87.101.193.195)
[12:21:06] *** Quits: mat001 (~mat001@c-73-223-64-126.hsd1.ca.comcast.net) (Ping timeout: 240 seconds)
[12:22:39] *** Joins: lavaball (felix@31.204.155.215)
[12:23:27] *** Quits: sinaowolabi__ (~SinaOwola@102.134.114.17) (Remote host closed the connection)
[12:24:52] *** Joins: makara (~sol@196.61.111.63)
[12:25:48] *** Parts: sokle_68 (~sokle_68@ppp046177047088.access.hol.gr) ()
[12:26:46] *** Quits: roadie (~user@2a02:8108:ec0:1427:a5a9:ea1f:1d2c:68cd) (Ping timeout: 272 seconds)
[12:28:04] *** Quits: fdan (~fdan@192.146.154.3) (Ping timeout: 246 seconds)
[12:28:36] <geirha> awk ftw
[12:30:34] *** Quits: Hax0r (~Hax0r@87.101.193.195) (Remote host closed the connection)
[12:31:43] *** Joins: Hax0r (~Hax0r@87.101.193.195)
[12:31:47] <geirha> though isn't [ and ] allowed in irc nicks?
[12:33:45] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Remote host closed the connection)
[12:34:03] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[12:34:09] <lopid> matrix users would prove it is
[12:34:52] *** Quits: thiccdaddy (~OwO@thiccdaddy.sexy) (Quit: Ping timeout (120 seconds))
[12:35:19] *** Joins: thiccdaddy (~OwO@thiccdaddy.sexy)
[12:35:22] <geirha> so the sed version is flawed
[12:35:27] *** Joins: earnestly (~earnest@user/earnestly)
[12:35:32] *** Quits: greybot (~greybot@remote.wooledge.org) (Ping timeout: 245 seconds)
[12:35:36] *** Quits: chromis (sid150893@tinside.irccloud.com) (Ping timeout: 256 seconds)
[12:35:38] *** Joins: harleypig8 (thelounge@harleypig.com)
[12:35:52] *** Quits: suffer (znc@mutant.penguin.fyi) (Quit: ZNC - https://znc.in seek the truth or pay the price)
[12:35:59] *** Joins: ninjabuf- (~ninjabuff@user/ninjabuffet)
[12:36:06] *** Joins: suffer (znc@mutant.penguin.fyi)
[12:36:10] *** Quits: pieguy128 (~pieguy128@bras-base-mtrlpq5031w-grc-57-65-92-163-194.dsl.bell.ca) (Ping timeout: 256 seconds)
[12:36:22] *** Quits: dermato (~dermatobr@cpe-70-114-219-76.austin.res.rr.com) (Ping timeout: 245 seconds)
[12:36:29] *** Joins: pieguy128 (~pieguy128@bas1-montreal02-65-92-163-194.dsl.bell.ca)
[12:36:44] *** Quits: finsternis (~X@23.226.237.192) (Ping timeout: 256 seconds)
[12:36:44] *** Quits: bleb (~cm@user/bleb) (Ping timeout: 252 seconds)
[12:37:13] *** Quits: LoRez (~lorez@user/lorez) (Ping timeout: 245 seconds)
[12:37:13] *** Quits: rwp (~invalid@havoc.proulx.com) (Ping timeout: 245 seconds)
[12:37:15] *** Quits: emg (~emg@cpe-70-93-247-186.natsow.res.rr.com) (Ping timeout: 250 seconds)
[12:37:17] *** Quits: harleypig (thelounge@harleypig.com) (Ping timeout: 252 seconds)
[12:37:17] *** Quits: chasmo77 (~chas77@71.63.241.168) (Ping timeout: 252 seconds)
[12:37:17] *** Quits: oldlaptop (~quassel@45.63.78.126) (Ping timeout: 252 seconds)
[12:37:17] *** harleypig8 is now known as harleypig
[12:37:18] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 256 seconds)
[12:37:18] *** Quits: ninjabuffet (~ninjabuff@user/ninjabuffet) (Ping timeout: 256 seconds)
[12:37:18] *** Quits: sth (~seth@sys-v.net) (Ping timeout: 256 seconds)
[12:37:18] *** Joins: chromis (sid150893@id-150893.tinside.irccloud.com)
[12:37:40] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[12:37:45] *** Joins: oldlaptop (~quassel@45.63.78.126)
[12:37:59] *** Joins: rwp (~invalid@havoc.proulx.com)
[12:38:02] *** Joins: bleb (~cm@user/bleb)
[12:38:07] *** Quits: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net) (Ping timeout: 250 seconds)
[12:38:08] *** Joins: finsternis (~X@23.226.237.192)
[12:38:24] *** Joins: LoRez (~lorez@user/lorez)
[12:38:26] *** Quits: kurtthemaker (~kurt@S010644a56e3e0ee9.cn.shawcable.net) (Ping timeout: 256 seconds)
[12:38:28] *** Joins: dermato (~dermatobr@cpe-70-114-219-76.austin.res.rr.com)
[12:38:50] *** Joins: chasmo77 (~chas77@71.63.241.168)
[12:38:54] *** Joins: kurtthemaker (~kurt@S010644a56e3e0ee9.cn.shawcable.net)
[12:39:05] *** Joins: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net)
[12:39:19] *** Joins: sth (~seth@sys-v.net)
[12:39:40] *** Joins: greybot (~greybot@remote.wooledge.org)
[12:40:53] *** shbot5 is now known as shbot
[12:41:32] *** Quits: Nahra (~user@static.161.95.99.88.clients.your-server.de) (Remote host closed the connection)
[12:41:58] *** Joins: nobody_ (~nobody@host-79-45-186-108.retail.telecomitalia.it)
[12:47:17] *** Quits: austin987 (~null@100.42.98.196) (Ping timeout: 258 seconds)
[12:51:39] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[12:52:27] *** Joins: roadie (~user@2a02:8108:ec0:1427:a5a9:ea1f:1d2c:68cd)
[12:53:38] *** Joins: MaximB (~MaximB@87.68.164.32)
[12:57:42] <obiwahn> emanuele6: thanks for looking at shopts - in the end it was bash :-) as i thought:P
[12:59:38] *** Joins: Bhavuk (~BTaneja@122.173.24.168)
[13:00:09] <MaximB> Hi, got a small problem with output to a file: https://paste.debian.net/1206863/ 
[13:00:45] *** Joins: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com)
[13:01:08] <MaximB> I want all records on the list to be echoed to the file this way:
[13:01:08] *** Joins: elf_fortrezz (~elf_fortr@adsl-72-50-6-19.prtc.net)
[13:01:14] <MaximB> 07/08/2021 00:58:32 PrintAll recorname
[13:01:23] <MaximB> *recordname
[13:01:49] <MaximB> 07/08/2021 00:58:32 PrintAll recorname number-of-records
[13:01:53] <obiwahn> can you add few spaces or tabs?
[13:02:19] <MaximB> they already have spaces
[13:02:59] <emanuele6> MaximB: IFS=$'\n'
[13:03:34] <emanuele6> you are setting IFS to "n" with IFS=\n
[13:03:39] <emanuele6> use $'\n'
[13:03:53] <MaximB> thanks, will try
[13:04:27] *** Quits: Hax0r (~Hax0r@87.101.193.195) (Remote host closed the connection)
[13:04:39] <MaximB> cool, that worked! thanjs
[13:04:43] <MaximB> *thanks
[13:04:50] <emanuele6> or simply use a whileread loop instead of a for so that you don't need to set IFS
[13:04:52] <emanuele6> !whileread
[13:04:52] <greybot> A while loop that reads line-by-line: while IFS= read -r line; do something "$line"; done ## See https://mywiki.wooledge.org/BashFAQ/001 for details.
[13:05:04] <emanuele6> also you should fix your quoting
[13:05:04] *** Joins: Hax0r (~Hax0r@87.101.193.195)
[13:05:07] <emanuele6> !quote
[13:05:07] <greybot> https://mywiki.wooledge.org/Quotes
[13:05:24] <obiwahn> consider to do a `while read ..... < <(sort -d )`
[13:05:38] *** Joins: fdan (~fdan@192.146.154.3)
[13:06:22] <emanuele6> sort -d ... | while read -r; do ...; done would also work
[13:06:51] <obiwahn> i dont like the pipes but well:)
[13:07:03] *** Joins: N4buc0 (~N4buc0@2001:1284:f016:1112:ab84:136:c1b1:b7e6)
[13:08:07] <obiwahn> consinder to put `set -uo pipefail` on top of your script
[13:09:10] <MaximB> whats is the correct way to add sort -d to this command so it would be sorted at the output file?   sed "s/,/ /g" $rec_file > $rec_file".tmp"
[13:09:27] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[13:10:25] <obiwahn>  every time i write bash script i make dump mistakes but the others in our company are far worse. So i think go might be easier for some tasks.
[13:11:15] <obiwahn> sed "s/,/ /g" $rec_file | sort -d > $rec_file".tmp"
[13:11:58] <obiwahn> sed can operate inplace with `-i` if you do not need the file later.
[13:12:09] <MaximB> ho... and I thought there would be tricks like " " () etc...
[13:12:55] <obiwahn> $rec_file".tmp" should probably be "$rec_file.tmp". Otherwise it is broken if the filename contains spaces
[13:13:00] <MaximB> obiwahn yeah I know about  "-i" many ppl in this channel hate this option ;)  
[13:13:25] <MaximB> thanks
[13:13:54] <obiwahn> I use it a lot if i need to modify lots of code. It is probably hated because it is not everywhere available.
[13:14:41] <MaximB> sed not available everywhere? 
[13:14:43] <obiwahn> well if i have to work with a mac the first thing i do is to install a proper bash along with gnu awk, sed, find :P
[13:15:38] <obiwahn> There is the gnu version and regular/bsd. The non gnu do not support `-i` afaik.
[13:16:10] <obiwahn> there are only a few tools that really matter. probably just the named ones plus `nc`
[13:18:56] <obiwahn> emanuele6: the argument about compiling and linking go is imo wrong. After the first run there is the compiled version in $TMP and as long as the code does not change running the 'go script' is really fast.
[13:28:41] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 258 seconds)
[13:29:57] *** Joins: Nahra (~user@static.161.95.99.88.clients.your-server.de)
[13:31:54] *** Quits: Hax0r (~Hax0r@87.101.193.195) (Quit: Leaving)
[13:36:06] *** Joins: lilalinu_ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de)
[13:40:01] *** Joins: Adois (~Adoi@user/adoi)
[13:41:36] *** Quits: joebobjoe (~joebobjoe@user/joebobjoe) (Quit: Lost terminal)
[13:43:27] *** Joins: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[13:44:54] *** Joins: Hax0r (~Hax0r@87.101.193.195)
[13:53:21] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[13:53:27] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Client Quit)
[13:54:01] *** Joins: H3dn1ng (~H3dn1ng@185.213.154.229)
[13:56:02] *** Joins: Adoi (~Adoi@user/adoi)
[13:58:00] *** Joins: absc (~absc@dynamic-adsl-94-34-201-166.clienti.tiscali.it)
[13:58:06] <MaximB> obiwahn I've tried to work with Mac once, survived almost two days before Installing Ubuntu on it...lol 
[13:58:27] *** Quits: Adois (~Adoi@user/adoi) (Ping timeout: 245 seconds)
[14:03:24] *** Quits: H3dn1ng (~H3dn1ng@185.213.154.229) (Quit: leaving)
[14:04:20] <geirha> BSD sed also has -i, but it's a regular option, not the option with optional argument idiocy GNU invented
[14:06:07] <geirha> If GNU hadn't made that mistake, -i might have been included by POSIX by now
[14:13:16] *** Quits: elf_fortrezz (~elf_fortr@adsl-72-50-6-19.prtc.net) (Quit: Client closed)
[14:16:18] *** Joins: elf_fortrezz (~elf_fortr@adsl-72-50-4-51.prtc.net)
[14:16:54] *** Quits: elf_fortrezz (~elf_fortr@adsl-72-50-4-51.prtc.net) (Client Quit)
[14:17:03] *** Joins: elf_fortrez (~elf_fortr@adsl-72-50-4-51.prtc.net)
[14:19:00] *** Quits: absc (~absc@dynamic-adsl-94-34-201-166.clienti.tiscali.it) (Quit: Leaving.)
[14:19:57] <MaximB> if I have several functions, that some depend on each other. must i write them in that order or only the calling matters?
[14:22:00] <geirha> only matters that the function is created at the time you try to run it
[14:22:18] *** Quits: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Quit: QUIT)
[14:22:45] <geirha> so   b() { a; }; a() { printf 'This is fine\n'; }; b
[14:24:21] *** Joins: frostwork (~frostwork@user/frostwork)
[14:38:36] *** Joins: lordrishav (~lordrisha@157.35.95.192)
[14:39:00] *** lordrishav is now known as LordRishav
[14:39:43] *** Quits: lilalinu_ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de) (Remote host closed the connection)
[14:39:58] <emanuele6> `sed -i` is evil
[14:40:24] <emanuele6> you should use ex to edit text (or ed)
[14:40:26] <emanuele6> !ex
[14:40:26] <greybot> ex is a POSIX command-based file editor: ex -sc '%s/long john/big ed/g|x' file. If your ex is vim it can also take multiple files using ge and argdo: ex -sc 'argdo %s/foo/bar/ge|x' *.txt # See http://pubs.opengroup.org/onlinepubs/9699919799/utilities/ex.html
[14:40:26] <geirha> at least for what it's usually used for
[14:42:27] <ormaaj> Does ed not just overwrite the file too?
[14:44:44] <kurahaupo> ormaaj: That depends how it's invoked
[14:46:10] <kurahaupo> ed filename <<<$'1,$ s/xxx/yyy/\nw\nq' # overwrite filename
[14:47:44] <ormaaj> So there's something other than w. I haven't used it in a few years ^^
[14:48:25] *** Quits: elf_fortrez (~elf_fortr@adsl-72-50-4-51.prtc.net) (Ping timeout: 246 seconds)
[14:50:10] *** Quits: fdan (~fdan@192.146.154.3) (Ping timeout: 246 seconds)
[14:52:10] *** Joins: gnooooo (~gnoo@user/gnoo)
[14:52:23] <jetchisel> ,p Q 
[14:52:25] <ormaaj> the usual gripe about sed -i aside from lack of standardization is that writes changes to a temp file apparently. I guess the tmp file is the difference.
[14:52:34] <jetchisel> instead of w q
[14:53:20] <jetchisel> nvm...
[14:55:37] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[14:59:44] *** Joins: LiftLeft (~LiftLeft@191.96.150.118)
[15:04:14] *** Quits: reset (~reset@user/reset) (Quit: reset)
[15:07:18] *** Quits: locrian9 (~mike@99-153-255-194.lightspeed.irvnca.sbcglobal.net) (Quit: Lost terminal)
[15:07:32] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[15:10:30] *** Joins: lordrishav_ (~lordrisha@157.42.53.84)
[15:10:53] *** Quits: lordrishav_ (~lordrisha@157.42.53.84) (Client Quit)
[15:13:02] *** Quits: LordRishav (~lordrisha@157.35.95.192) (Ping timeout: 245 seconds)
[15:13:21] *** Joins: n4dir (~user@i59F77CA3.versanet.de)
[15:17:46] *** Quits: bidouille (~user_name@trois.potager.org) (Ping timeout: 265 seconds)
[15:23:34] *** Joins: Atque (~Atque@user/atque)
[15:24:06] *** Quits: downunder (~downunder@110.151.122.76) (Quit: WeeChat 3.2)
[15:27:22] *** Quits: nobody_ (~nobody@host-79-45-186-108.retail.telecomitalia.it) (Ping timeout: 240 seconds)
[15:29:44] <furrymcgee> editing files with anything other than a keyboard is considered evil
[15:29:57] *** Joins: clime (~clime@37-48-8-61.nat.epc.tmcz.cz)
[15:33:36] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[15:33:47] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[15:39:54] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[15:40:14] <MaximB> I want to rename the exact match, but when I do sed -i "s/^$record/$new_record/" $rec_file and I have cat and catt in my list, it renames both
[15:42:17] *** Joins: jess (~jess@libera/staff/jess)
[15:44:25] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[15:46:56] <geirha> so anchor it in both ends?
[15:47:19] *** Joins: lordrishav_ (~lordrisha@157.35.94.124)
[15:48:00] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[15:48:15] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 252 seconds)
[15:49:41] <geirha> also, if record or new_record is user provided, be careful, because the sed-injection allows arbitrary code execution if you don't validate or sanitize the data first
[15:49:42] *** Quits: tex (~super@user/dix) (Read error: Connection reset by peer)
[15:50:58] <lorimark> if I type the command; find . -type f -name "*.pdf" 
[15:51:19] <lorimark> I am given a list of *.pdf files with the full-path of the location of the file-name - perfect!
[15:51:46] <lorimark> if I put this in to a bash file, it doesn't behave the same way; for f in $(find . -type f -name "*.pdf")
[15:52:02] <lorimark> if I; echo $f
[15:52:15] <lorimark> I _do not_ get the same set of file-name results
[15:52:38] <geirha> !pf 1
[15:52:39] <greybot> https://mywiki.wooledge.org/BashPitfalls#pf1 -- Don't do this! -- for f in $(ls *.mp3)
[15:53:30] <lorimark> wordsplitted!
[15:53:34] <lorimark> why didn't i recognize that!
[15:53:41] <lorimark> thank you :)
[15:54:09] <geirha> twice even
[15:54:30] *** Quits: roadie (~user@2a02:8108:ec0:1427:a5a9:ea1f:1d2c:68cd) (Ping timeout: 256 seconds)
[15:54:58] *** Quits: beencubed (~beencubed@209.131.238.248) (Ping timeout: 240 seconds)
[15:56:12] <MaximB> geirha like this? sed -i "s/^$record^/$new_record/" $rec_file   ,now it won't rename anything
[15:56:45] <geirha> no, ^ anchors only at the start. The second ^ will match a literal ^. You use $ to anchor to the end
[15:58:04] <MaximB> this still won't rename anything  sed -i "s/^$record$/$new_record/" $rec_file
[15:58:18] <geirha> no matching lines then
[15:58:31] <MaximB> but there is
[15:59:03] <geirha> # printf '%s\n' cat catt | sed 's/^cat$/dog/'
[15:59:05] <shbot> geirha: dog
[15:59:05] <shbot> geirha: catt
[15:59:11] <geirha> works for me
[16:00:55] <obiwahn> MaximB: ed is the only text editor! https://www.gnu.org/fun/jokes/ed-msg.html
[16:02:44] <MaximB> geirha couldit be that in takes the first $ and ends the search there, not sure why it won't work?  sed -i "s/^$record$/$new_record/" $rec_file
[16:03:02] <geirha> $record is expanded by the shell
[16:03:54] *** Quits: n4dir (~user@i59F77CA3.versanet.de) (Remote host closed the connection)
[16:13:29] *** Quits: makara (~sol@196.61.111.63) (Ping timeout: 250 seconds)
[16:14:51] *** Joins: seninha (~seninha@user/seninha)
[16:18:33] *** Joins: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com)
[16:18:40] *** Joins: roadie (~user@2a02:8108:ec0:1427:a5a9:ea1f:1d2c:68cd)
[16:20:47] *** lordrishav_ is now known as LordRishav
[16:22:15] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[16:22:48] *** Joins: totenkoph (~scythe@user/totenkoph)
[16:25:14] *** Joins: smlavine (smlavine@sourcehut/user/smlavine)
[16:25:26] *** Quits: smlavine (smlavine@sourcehut/user/smlavine) (Client Quit)
[16:26:14] *** Joins: smlavine (smlavine@sourcehut/user/smlavine)
[16:29:30] *** Quits: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 240 seconds)
[16:32:41] *** Quits: roadie (~user@2a02:8108:ec0:1427:a5a9:ea1f:1d2c:68cd) (Ping timeout: 258 seconds)
[16:32:42] *** Joins: Liblx (~Alex@2a02:810c:280:59c:9922:e4c:6008:be3d)
[16:36:52] <MaximB> geirha maybe my list cases the command to act weird:   https://paste.debian.net/1206882/
[16:38:06] *** Joins: DaNeenjah (~jake@21.sub-72-106-110.myvzw.com)
[16:38:55] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[16:39:40] *** Quits: lopid (~lopid@user/lopid) (Quit: WeeChat 3.2)
[16:39:58] *** Joins: thoros (~thoros@80-121-140-225.adsl.highway.telekom.at)
[16:41:54] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 276 seconds)
[16:41:57] <geirha> ah, well you have no "cat" line in your input. That's why.
[16:42:07] *** Joins: lilalinux (~lilalinux@p4fc084f7.dip0.t-ipconnect.de)
[16:42:10] <geirha> instead you have "cat,8"
[16:42:11] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[16:42:22] <geirha> so match the comma
[16:43:25] *** Joins: thiras (~thiras@user/thiras)
[16:43:56] *** Joins: lopid (~lopid@user/lopid)
[16:44:03] <MaximB> like this? sed -i "s/^$record,$/$new_record,/" $rec_file
[16:44:15] <geirha> without the $
[16:45:20] <MaximB> sed -i "s/^$record,/$new_record,/" $rec_file   still also updates 'catt'
[16:46:24] *** Quits: Hax0r (~Hax0r@87.101.193.195) (Remote host closed the connection)
[16:46:27] <geirha> nah
[16:46:38] *** Quits: lilalinux (~lilalinux@p4fc084f7.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[16:47:46] <geirha> # record=cat new_record=catty; printf '%s\n' catt,4 cat,8 | sed "s/^$record,/$new_record,/"
[16:47:47] <shbot> geirha: catt,4
[16:47:47] <shbot> geirha: catty,8
[16:48:49] <geirha> see? didn't touch catt
[16:48:49] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[16:49:09] <MaximB> very strange that it doesn't work for me
[16:49:29] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[16:49:52] *** Joins: mat001 (~mat001@c-73-223-64-126.hsd1.ca.comcast.net)
[16:49:56] <geirha> make sure you restore the file before testing
[16:52:35] <geirha> next, try with new_record=',/;s/.*,/face-eating-leopard'
[16:54:38] *** Joins: fortuno51 (~fortuno51@37.120.156.254)
[16:54:48] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[16:55:04] <MaximB> omg.....lol... I always run the backup script insead or the edited script. lol.... my bad
[16:55:15] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Remote host closed the connection)
[16:55:17] *** Joins: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar)
[16:55:30] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[16:55:36] <MaximB> now works, thank you
[16:55:42] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 256 seconds)
[16:58:48] *** Joins: roadie (~user@2a02:8108:ec0:1427:a5a9:ea1f:1d2c:68cd)
[17:00:17] <lopid> the bind summary says it can be used to set a readline variable, but i don't see how, other than using -f to read a file
[17:03:10] <geirha> bind 'set bell-style visible'
[17:04:01] <lopid> thanks
[17:05:01] *** Joins: lilalinux (~lilalinux@p4fc084f7.dip0.t-ipconnect.de)
[17:06:04] *** Joins: fling (~fling@user/fling)
[17:07:20] *** Quits: roadie (~user@2a02:8108:ec0:1427:a5a9:ea1f:1d2c:68cd) (Ping timeout: 272 seconds)
[17:11:13] *** Joins: nobody_ (~nobody@host-79-45-186-108.retail.telecomitalia.it)
[17:12:57] *** Quits: travisghansen (~travisgha@192.74.130.86) (Ping timeout: 252 seconds)
[17:16:58] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Remote host closed the connection)
[17:17:14] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[17:18:38] *** Joins: roadie (~user@2a02:8108:ec0:1427:e8ed:673b:8431:ca53)
[17:19:27] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[17:20:28] *** Quits: lilalinux (~lilalinux@p4fc084f7.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[17:20:34] *** Joins: lilalin__ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de)
[17:23:45] *** Quits: roadie (~user@2a02:8108:ec0:1427:e8ed:673b:8431:ca53) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[17:34:07] *** Joins: eqw (~eqw@31.134.178.99)
[17:34:34] *** Quits: julius_c (~julius_c@174.red-83-57-76.dynamicip.rima-tde.net) (Remote host closed the connection)
[17:37:51] *** Joins: travisghansen (~travisgha@192.74.130.86)
[17:39:35] *** Joins: cdown (~cdown@163.114.131.1)
[17:43:02] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 245 seconds)
[17:45:23] *** Joins: n4dir (~user@i59F77CA3.versanet.de)
[17:45:57] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 245 seconds)
[17:53:37] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[17:55:15] *** Joins: vlm (~vlm@user/vlm)
[17:56:10] *** Joins: zeden (~zeden@user/zeden)
[17:57:05] *** Joins: edlou (uid413273@id-413273.brockwell.irccloud.com)
[18:01:22] *** Quits: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net) (Ping timeout: 245 seconds)
[18:01:50] *** Quits: sazawal (~sazawal@122.161.170.192) (Quit: Leaving)
[18:05:21] *** Joins: pycurious (~Adium@user/pycurious)
[18:07:19] *** Joins: fdan (~fdan@192.146.154.3)
[18:11:09] *** Quits: lilalin__ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de) (Remote host closed the connection)
[18:11:49] *** Joins: lilalinu_ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de)
[18:15:24] *** Quits: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar) (Read error: Connection reset by peer)
[18:15:57] *** Quits: lilalinu_ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de) (Ping timeout: 245 seconds)
[18:26:38] *** Quits: autopsy (~autopsy@ip70-190-159-27.ph.ph.cox.net) (Remote host closed the connection)
[18:33:27] *** Joins: autopsy (~autopsy@ip70-190-159-27.ph.ph.cox.net)
[18:35:27] *** Joins: zebrag (~chris@user/zebrag)
[18:43:36] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 272 seconds)
[18:48:27] *** Quits: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66) (Ping timeout: 245 seconds)
[18:51:52] *** Quits: clime (~clime@37-48-8-61.nat.epc.tmcz.cz) (Ping timeout: 256 seconds)
[18:53:06] *** Joins: maledictium (~crux@bl11-90-181.dsl.telepac.pt)
[18:54:01] *** Joins: Crescendo (~Crescendo@user/crescendo)
[18:54:43] *** gnooooo is now known as gnoo
[18:56:27] *** Quits: maledict1um (~crux@176.78.88.18) (Ping timeout: 276 seconds)
[18:58:49] *** Joins: superboot (~agentgasm@user/superboot)
[19:01:23] *** Joins: absc (~absc@dynamic-adsl-94-34-201-166.clienti.tiscali.it)
[19:06:16] *** Joins: lilalinu_ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de)
[19:09:13] *** Joins: kill (~killown@user/killown)
[19:10:08] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Quit: Konversation terminated!)
[19:15:47] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[19:16:05] *** Joins: sazawal (~sazawal@122.161.170.192)
[19:17:10] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 272 seconds)
[19:18:05] *** Quits: LordRishav (~lordrisha@157.35.94.124) (Quit: Konversation terminated!)
[19:18:21] *** Joins: LordRishav (~lordrisha@157.35.94.124)
[19:21:52] *** Quits: LordRishav (~lordrisha@157.35.94.124) (Client Quit)
[19:22:15] *** Joins: LordRishav (~lordrisha@157.35.94.124)
[19:22:19] *** Quits: LordRishav (~lordrisha@157.35.94.124) (Client Quit)
[19:26:09] *** Joins: clime (~clime@ip-94-199-195-39.acvyskov.cz)
[19:29:46] *** Joins: xx (~xx@user/xx)
[19:30:19] *** Joins: xheimlich (~xheimlich@179.218.1.150)
[19:30:41] <xheimlich> I'd like to stop a script if a specific command ends in an error. But not set the flag that does this for the entire script. Just one command.
[19:31:07] <xheimlich> If I wasn't full of "if; else; fi" stuff I'd say "do_this && do_that". But.
[19:31:46] <phy1729> !die > xheimlich 
[19:31:46] <greybot> xheimlich: command -v foo >/dev/null || die "please install the foo command" # Using a custom 'die' function from http://mywiki.wooledge.org/BashFAQ/101
[19:31:52] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[19:32:22] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 272 seconds)
[19:33:35] <xheimlich> sorry, what is the double pipe doing?
[19:34:04] <phy1729> it's or
[19:34:09] *** Quits: lilalinu_ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[19:34:12] <phy1729> !||
[19:34:12] <greybot> Short-circuit control operators <http://mywiki.wooledge.org/BashSheet#Tests> A || B means "Run A. If A fails, run B." A && B means "Run A. If A succeeds, run B." Example: foobar || { echo "error" >&2; exit 1; }
[19:34:46] <xheimlich> can I use it on the command-line interactively? scp file from remote source here || cp local alternative here?
[19:35:09] <xheimlich> or is it just valid in if clauses?
[19:35:28] <phy1729> sure command line and scripts are no different*    (* except for some alias stuff but aliases are evil anyway)
[19:36:09] <xheimlich> so finally can I just say "source maybe_fails || exit 1"? 
[19:36:34] <emanuele6> sure
[19:37:00] <xheimlich> I keep hearing "use Python rather than Bash for nontrivial shell scripts". Well, I make a living inside python and it's wayy too messy for shell scripts. Bash gets a bum rep.
[19:37:39] <phy1729> ehhh if it's large/non-trivial/needs real data structures non-shell is the way to go
[19:39:29] <xheimlich> I basically have a sequence of python scripts for ML stuff. This is early stage / exploratory. Some of it is ready to go (using Pydantic for BaseSettings so options can be bypassed via env vars when running docker container), some of it is rough. 
[19:39:41] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[19:40:06] <phy1729> oh dear cthulhu ML
[19:40:16] <xheimlich> like "transform data"; "make first model"; "compress model"; "make stats on test set". I don't want to always run all of them. And don't want to use Jupyter notebooks where you run cells at will.
[19:41:19] <xheimlich> so I keep doing python this && python that && python thatzazz. But sometimes only want to run this or that. It makes more sense to write a small bash script that asks me "do this time-consuming thing again y/n".
[19:41:48] <tirnanog> you can drop the "1" even, as the propagated exit code is otherwise guaranteed to be a non-zero value.
[19:42:09] <phy1729> or    for command in sys.argv[1:]: COMMANDS[command]()
[19:46:30] <xheimlich> oh. while I'm here. Can you somehow in bash say "run this but terminate if it takes over X seconds"?
[19:47:22] <tirnanog> preferably, timeout(1), if you have it.
[19:49:23] *** Joins: elastic_dog (~elastic_d@ary207.neoplus.adsl.tpnet.pl)
[19:49:29] <xheimlich> great! I was using whiptail for whatever reason but prefered to have timeouts too in case the baby takes me away from the computer for too long.
[19:49:41] <xheimlich> how great is the bash "ecosystem".
[19:50:04] <xheimlich> (whiptail for yes/no dialogs)
[19:50:07] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[19:52:08] *** kill is now known as php
[19:56:21] *** php is now known as own
[19:56:31] *** own is now known as killown
[19:57:23] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 258 seconds)
[19:58:19] *** Joins: richardm75 (~richardm7@2600:8801:c502:1000:dd6e:49e2:8cee:c229)
[19:58:46] *** Joins: tradar (~tradar@user/tradar)
[19:59:39] *** Joins: Cleverness (~clevernes@pool-108-54-152-186.nycmny.fios.verizon.net)
[19:59:59] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Remote host closed the connection)
[20:00:21] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[20:04:17] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 258 seconds)
[20:06:27] *** Joins: ChmEarl (~chmearl@user/chmearl)
[20:07:33] *** Quits: ano (~weechat@user/ano) (Remote host closed the connection)
[20:08:53] *** Joins: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net)
[20:08:56] *** Joins: ttyX (~ttyX@182.68.222.105)
[20:09:07] <xheimlich> so wait.
[20:09:48] <xheimlich> I'm doing something like "if whiptail --yesno "Yes or no" 20 60; then echo Yes!; fi"
[20:09:54] <xheimlich> I want to introduce timeout here.
[20:10:35] <xheimlich> I'm doing something like "if timeout 20s whiptail --yesno "Yes or no" 20 60; then echo Yes!; fi" appears to work but exits with its own status code, botching the if clause.
[20:10:51] <twkm> fix the if.
[20:10:56] *** Joins: tw3ml0w (~tw3ml0w@185.169.233.97)
[20:11:31] <xheimlich> and --preserve-status doesn't work either. I'd like the command timeout to exit with a particular code, giving the effect that whiplash has a default answer.
[20:11:34] <twkm> timeout is probably trying to tell you that it terminated whiptail.
[20:11:45] <xheimlich> yes, I'm reading documentation.
[20:12:18] <xheimlich> I could write a conditional on the exit code of timeout. But there's probably a better way of looking at this.
[20:12:23] *** Quits: pycurious (~Adium@user/pycurious) (Quit: Leaving.)
[20:12:34] <twkm> or you might deal with the timeout entirely in bash.
[20:12:41] *** Joins: pycurious (~Adium@user/pycurious)
[20:13:27] <xheimlich> like if $?==124; then answer=0; else; answer=1;fi? 
[20:13:28] *** Quits: Cleverness (~clevernes@pool-108-54-152-186.nycmny.fios.verizon.net) (Quit: Leaving)
[20:14:07] <twkm> no, but that's the idea.
[20:14:08] <xheimlich> if [$? -eq ] etc
[20:14:13] <twkm> still no.
[20:14:43] <xheimlich> I'll look it up, it's bound to be tutorials...
[20:15:15] <twkm> [ requires a space after it.  i'd use case rather than if.
[20:17:22] <xheimlich> are case "patterns" regexes? Looks complicated
[20:17:37] <twkm> no, they're globs.
[20:17:42] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 276 seconds)
[20:19:17] <ormaaj> so globby
[20:20:08] <twkm> timeout whiptail --yesno ...; case $? in 124) : timeout;; 0) : yes;; 1) : no;; *) : unknown;; esac
[20:21:46] <xheimlich> what's a fast pastebin people don't hate here for 6 lines? 
[20:22:00] <twkm> you might find simply ''timeout whiptail --yesno ...; case $? in 0) answer=0;; *) answer=1;; esac'' suffices.
[20:22:09] <twkm> fast!!!!!
[20:22:15] <twkm> !paste > xheimlich 
[20:22:15] <greybot> xheimlich: Paste short snippets (<= 5 lines) in channel. Paste more using http://paste.debian.net/ or http://paste.wooledge.org/ or see !ix or !sprunge. Please don't use pastebin.com -- it's full of ads and mangles whitespace. NEVER upload screen shots. Don't use a site that requires Javascript, or registration to view raw.
[20:22:53] *** Joins: enoq (~enoq@194-208-179-35.lampert.tv)
[20:22:56] <xheimlich> ask() {
[20:22:56] <xheimlich>     answer=$(timeout whiptail --yesno $1 20 60)
[20:22:56] <xheimlich>     if [ $answer -eq 124]; then
[20:22:56] <xheimlich>         return 0
[20:22:56] <xheimlich>     else
[20:22:58] <xheimlich>         return $answer 
[20:23:03] <twkm> broken.
[20:23:08] <xheimlich> } that was my solution. 
[20:24:05] <xheimlich> I have to say "reset" at some point because killing whiplash screws up your terminal colors.
[20:24:21] <twkm> whiptail is shite, but people seem to use it.
[20:24:48] <xheimlich> it doesn't provide for a default option on a timeout, which does seem like basic functionality.
[20:24:58] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[20:25:17] <twkm> so: ''reset ; return 0'' for a $? of 124.
[20:25:19] <xheimlich> I like the pseudo GUI look because it stands out from the scrolling commentary of the ML pipeline stuff.
[20:26:13] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[20:27:25] <twkm> it will be a vastly different visual result, non-timeout probably restores the screen but on timeout the screen is emptied (perhaps all the scrollback too).
[20:27:46] *** Quits: absc (~absc@dynamic-adsl-94-34-201-166.clienti.tiscali.it) (Remote host closed the connection)
[20:28:22] *** Joins: ano (~weechat@user/ano)
[20:29:13] <xheimlich> | tee to the help.
[20:31:07] *** Joins: pycurious (~Adium@user/pycurious)
[20:35:42] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 272 seconds)
[20:36:42] *** Joins: xall (~xall@2600:8800:8c02:3600:e5eb:7df:3ade:b478)
[20:36:48] <xheimlich> well, syntax fixes aside (also answer=$(whiptail) is not the ansert), the function above seems to do it. There should be an easier util. Maybe I should write one in python.
[20:37:29] *** Joins: julius_c (~julius_c@174.red-83-57-76.dynamicip.rima-tde.net)
[20:38:48] *** Joins: roadie (~user@2a02:8108:ec0:1427:e8ed:673b:8431:ca53)
[20:40:29] *** Quits: tradar (~tradar@user/tradar) (Quit: tradar)
[20:40:44] *** Quits: killown (~killown@user/killown) (Ping timeout: 252 seconds)
[20:40:47] *** Joins: pycurious (~Adium@user/pycurious)
[20:42:43] *** Quits: clime (~clime@ip-94-199-195-39.acvyskov.cz) (Quit: WeeChat 3.2)
[20:43:05] *** Quits: strudl (~strudl@user/strudl) (Quit: got milk?)
[20:43:13] *** Quits: uhu (~uhu@2a01:4f9:c010:1087::2) (Quit: ZNC 1.8.2 - https://znc.in)
[20:43:39] *** Joins: strudl (~strudl@user/strudl)
[20:43:42] <twkm> i tried to provide simpler.  maybe you should.
[20:44:22] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 244 seconds)
[20:45:42] *** Joins: uhu (~uhu@2a01:4f9:c010:1087::2)
[20:46:21] *** Quits: mcfrdy (~mcfrdy@user/mcfrdy) (Quit: quit)
[20:46:25] *** Quits: kapil (~kapil@2a01:4f9:c010:c9c3::1) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[20:46:36] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[20:46:48] *** Joins: mcfrdy (~mcfrdy@user/mcfrdy)
[20:46:55] *** Joins: kapil (~kapil@o-k.website)
[20:47:53] <twkm> dialog is less shitty wrt handling signals, otoh you might not like it for being from "the dark ages".
[20:48:26] *** Joins: vysn (~vysn@user/vysn)
[20:48:46] *** Joins: kill (~killown@user/killown)
[20:49:08] *** Quits: ttyX (~ttyX@182.68.222.105) (Ping timeout: 258 seconds)
[20:49:26] *** Joins: imp (~imp@186.205.11.214)
[20:49:33] *** Joins: alnr (~alnr@38.125.204.99)
[20:50:23] *** Joins: ttyX (~ttyX@223.226.128.46)
[20:50:45] *** Quits: acid (~acid@user/acid) (Ping timeout: 252 seconds)
[20:51:02] *** Quits: ttyX (~ttyX@223.226.128.46) (Client Quit)
[20:52:05] *** Quits: Bhavuk (~BTaneja@122.173.24.168) (Read error: Connection reset by peer)
[20:52:47] *** Quits: kapil (~kapil@o-k.website) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[20:53:06] *** Joins: kapil (~kapil@2a01:4f9:c010:c9c3::1)
[20:53:32] *** Joins: Bhavuk (~BTaneja@122.173.24.168)
[20:54:14] *** Quits: uhu (~uhu@2a01:4f9:c010:1087::2) (Quit: ZNC 1.8.2 - https://znc.in)
[20:55:37] *** Joins: acid (~acid@user/acid)
[20:56:03] *** Quits: xall (~xall@2600:8800:8c02:3600:e5eb:7df:3ade:b478) (Quit: Client closed)
[20:56:27] *** Quits: n4dir (~user@i59F77CA3.versanet.de) (Remote host closed the connection)
[20:57:11] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[20:58:11] *** Joins: uhu (~uhu@2a01:4f9:c010:1087::2)
[20:58:31] *** Quits: kurtthemaker (~kurt@S010644a56e3e0ee9.cn.shawcable.net) (Quit: leaving)
[20:59:13] *** Quits: strudl (~strudl@user/strudl) (Quit: got milk?)
[21:00:01] *** Joins: strudl (~strudl@user/strudl)
[21:02:40] *** Quits: uhu (~uhu@2a01:4f9:c010:1087::2) (Client Quit)
[21:05:47] *** Quits: nobody_ (~nobody@host-79-45-186-108.retail.telecomitalia.it) (Remote host closed the connection)
[21:06:26] *** Joins: nobody_ (~nobody@host-79-45-186-108.retail.telecomitalia.it)
[21:06:48] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[21:11:45] *** Quits: nobody_ (~nobody@host-79-45-186-108.retail.telecomitalia.it) (Ping timeout: 258 seconds)
[21:11:56] <superboot> twkm: "dark ages"? Just old? 
[21:17:04] *** Joins: uhu (~uhu@static.101.168.216.95.clients.your-server.de)
[21:21:37] <twkm> one might ask "why ever whiptail?" -- the author's reasons include dialog being (n)curses based instead of newt based.  in any case, whiptail fails to cope with signals cleanly, where dialog does handle signals nicely.
[21:23:10] *** Quits: acid (~acid@user/acid) (Ping timeout: 256 seconds)
[21:26:13] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 244 seconds)
[21:26:30] *** Joins: Hax0r (~TP1@87.101.193.195)
[21:27:14] *** Joins: elf_fortrez (~elf_fortr@adsl-72-50-4-122.prtc.net)
[21:28:35] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[21:28:50] *** Joins: acid (~acid@user/acid)
[21:32:42] *** Quits: mcfrdy (~mcfrdy@user/mcfrdy) (Quit: quit)
[21:33:04] *** Joins: mcfrdy (~mcfrdy@user/mcfrdy)
[21:33:37] *** Quits: ScriptFanix (~vincent@rev209.vpn.fdn.fr) (Quit: WeeChat 2.3)
[21:35:00] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 244 seconds)
[21:35:06] <Liblx> hello, can i hide some columns of the output of 'ps aux'?
[21:36:15] *** Joins: lilalinu_ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de)
[21:36:47] *** Quits: uhu (~uhu@static.101.168.216.95.clients.your-server.de) (Quit: ZNC 1.8.2 - https://znc.in)
[21:37:57] *** Joins: uhu (~uhu@static.101.168.216.95.clients.your-server.de)
[21:39:30] <OMGOMG> sure. try cut or awk
[21:40:13] <tirnanog> consider using ps -ef, along with the -o option to specify the fields of interest.
[21:41:21] *** Quits: uhu (~uhu@static.101.168.216.95.clients.your-server.de) (Client Quit)
[21:41:46] *** Joins: uhu (~uhu@2a01:4f9:c010:1087::2)
[21:42:59] *** Joins: mongrel (uid508343@id-508343.charlton.irccloud.com)
[21:43:17] *** Joins: Adoi (~Adoi@user/adoi)
[21:46:04] <tirnanog> acutally, just ps -A, combined with -o.
[21:48:41] *** Joins: LordRishav (~lordrisha@157.35.245.99)
[21:49:27] *** Quits: LordRishav (~lordrisha@157.35.245.99) (Read error: Connection reset by peer)
[21:51:25] *** Joins: LordRishav (~lordrisha@157.35.245.99)
[21:51:53] *** Quits: LordRishav (~lordrisha@157.35.245.99) (Read error: Connection reset by peer)
[21:52:02] *** Joins: ferdna (~ferdna@user/ferdna)
[21:53:24] *** Quits: ano (~weechat@user/ano) (Remote host closed the connection)
[21:53:45] *** Joins: ano (~weechat@user/ano)
[21:59:18] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 272 seconds)
[22:06:51] *** Quits: edlou (uid413273@id-413273.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[22:09:06] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[22:09:26] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Ping timeout: 272 seconds)
[22:11:58] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[22:12:38] *** Quits: rendar (~rendar@user/rendar) ()
[22:16:43] <twkm> though "hiding" columns is entirely -o.  no need to purport that -ef or -A is needed too.
[22:16:59] *** Quits: tw3ml0w (~tw3ml0w@185.169.233.97) (Quit: Leaving)
[22:17:10] *** Joins: jinsun (~quassel@user/jinsun)
[22:18:25] *** Quits: Hax0r (~TP1@87.101.193.195) (Read error: Connection reset by peer)
[22:19:54] <tirnanog> on the contrary, that aux was given implies that -A would be desirable. otherwise, the process selection behaviour will change markedly.
[22:21:21] <tirnanog> had it not been given, I would not have mentioned any other option than -o.
[22:22:15] *** Joins: H3dn1ng (~H3dn1ng@2-248-149-85-no172.tbcn.telia.com)
[22:24:08] <twkm> *shrug*
[22:25:08] *** Quits: dza (~dza@user/dza) (Read error: Connection reset by peer)
[22:26:15] <tirnanog> in short, ax maps to -A. simple enough.
[22:27:54] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Quit: É¯lÉÉ uÄ± ÊÉ¹oÊ oÊ ÆuÄ±oÆ)
[22:28:10] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[22:28:25] *** Quits: gnoo (~gnoo@user/gnoo) (Quit: gnoo)
[22:28:26] *** Joins: dza (~dza@user/dza)
[22:31:36] *** Joins: tw3ml0w (~tw3ml0w@37.19.199.69)
[22:33:01] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 258 seconds)
[22:33:03] *** Quits: roadie (~user@2a02:8108:ec0:1427:e8ed:673b:8431:ca53) (Ping timeout: 252 seconds)
[22:34:53] *** Quits: Bhavuk (~BTaneja@122.173.24.168) (Quit: Leaving)
[22:36:20] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[22:37:11] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[22:37:49] *** Quits: thoros (~thoros@80-121-140-225.adsl.highway.telekom.at) (Quit: WeeChat 3.0.1)
[22:42:20] *** Joins: roadie (~user@2a02:8108:ec0:1427:e8ed:673b:8431:ca53)
[22:45:44] *** Quits: tw3ml0w (~tw3ml0w@37.19.199.69) (Quit: Leaving)
[22:49:21] *** Joins: bidouille (~user_name@trois.potager.org)
[22:49:51] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Remote host closed the connection)
[22:59:38] *** Joins: ttyX (~ttyX@122.161.36.176)
[23:00:03] *** Quits: iomari892 (~iomari891@105.112.138.38) (Quit: WeeChat 3.0.1)
[23:01:37] <earnestly> (More ideally would be to not use ps at all as it's suspicious to see it in scripts)
[23:04:18] *** Joins: ttyX_ (~ttyX@122.161.39.219)
[23:04:58] *** Quits: ttyX_ (~ttyX@122.161.39.219) (Client Quit)
[23:06:55] *** Quits: lilalinu_ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[23:07:21] *** Quits: ttyX (~ttyX@122.161.36.176) (Ping timeout: 276 seconds)
[23:07:33] *** Joins: lilalinu_ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de)
[23:08:38] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.2)
[23:12:07] *** Quits: lilalinu_ (~lilalinux@p4fc084f7.dip0.t-ipconnect.de) (Ping timeout: 258 seconds)
[23:18:43] *** Quits: elf_fortrez (~elf_fortr@adsl-72-50-4-122.prtc.net) (Ping timeout: 246 seconds)
[23:21:03] *** Joins: woohoiV5_ (~woohoiV5@89-139-7-40.bb.netvision.net.il)
[23:22:04] *** Quits: woohoiV5 (~woohoiV5@89-139-2-170.bb.netvision.net.il) (Ping timeout: 265 seconds)
[23:22:08] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[23:26:21] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[23:26:25] *** Quits: fdan (~fdan@192.146.154.3) (Ping timeout: 246 seconds)
[23:27:27] *** Joins: tw3ml0w (~tw3ml0w@185.187.243.219)
[23:38:51] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[23:40:05] *** Joins: thurstylark (thurstylar@user/thurstylark)
[23:40:16] *** Joins: Atque (~Atque@user/atque)
[23:51:13] *** Quits: darkbit (~db@152.32.99.67) (Ping timeout: 258 seconds)
[23:52:48] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Ping timeout: 252 seconds)
[23:58:41] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
