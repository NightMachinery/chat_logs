[00:51:48] *** Quits: _ether_ (~ether@51.154.70.17) (Remote host closed the connection)
[00:54:17] *** Joins: _ether_ (~ether@51.154.70.17)
[01:54:53] <_ether_> Hey, did you ever try to connect to irc.twitch.tv (https://dev.twitch.tv/docs/irc/guide) with Circe? Every two minutes I get a disconnection.
[01:58:02] <_ether_> Apparently the server is supposed to send you a PING every few minutes, but I never see one and they don't answer to client PINGs (from what I can see with irc-debug-log).
[02:04:26] <_ether_> I don't see reconnects in Irssi (https://gist.github.com/lambdan/4d9ac5a63e56c6d1d9169f5b81de9dd6, I do use '(circe-command-QUOTE "CAP REQ :twitch.tv/membership")', the rest is pretty straightforward).
[02:04:35] <_ether_> Any tips?
[02:15:01] <wasamasa> do the equivalent of irc-debug-log for irssi and compare logs
[02:31:01] <_ether_> Oh they do have one (it's been years since I've used Irssi). From what I can see Irssi is sending PINGs but not Circe (I'm not saying it's Circe's fault), which appear to maintain the connection alive long enough for the server to send a PING.
[02:31:43] <_ether_> I did set up a timer (run-with-timer) + (circe-command-PING "tmi.twitch.tv") but I never see a PONG back
[02:34:41] <_ether_> Oh I don't think circe-command-PING is an actual PING command (I never really took the time to properly understand the protocol)
[03:23:56] <^alex> circe-command-PING is not a raw IRC-protocol client-to-server PING, it's a CTCP ping
[03:26:52] <_ether_> Yeah, I realized that. I managed to send it via irc-send-raw but I still get disconnected
[03:28:32] <_ether_> I have logs (Circe: https://pastebin.com/dXwsVyWf, Irssi: https://pastebin.com/gTcd0xhX) but I don't see what I'm missing
[03:29:31] <_ether_> (In Irssi, << appears to be from the client and >> from the server)
[03:31:32] <_ether_> Any way to get what's sent to the socket from Emacs? (I don't think Circe is using a gnutls/openssl subprocess anymore?)
[03:32:59] <_ether_> Hmm, I disabled lagmon and I haven't been disconnected for the last 7 minutes
[03:40:25] <_ether_> Yeah, looks like it's lagmon (circe-lagmon-reconnect-interval is set to 120), I don't even need to send the PING
[03:47:51] <_ether_> I guess something isn't supported by their implementation and lagmon can't get the necessary feedback, but that will be all for today. Thanks for listening to my ramblings :)
[03:48:57] *** Quits: ngz (~ngz@user/ngz) (Ping timeout: 256 seconds)
[04:01:35] *** Quits: _ether_ (~ether@51.154.70.17) (Remote host closed the connection)
[04:01:50] *** Joins: _ether_ (~ether@51.154.70.17)
[10:42:27] <wasamasa> _ether_: I suspected lagmon to be it
[10:42:33] <wasamasa> _ether_: disable lagmon for that network then
[13:21:40] *** Joins: ngz (~ngz@user/ngz)
[16:36:02] *** Joins: Spathoche (~predicati@eth-east-parth2-46-193-68-31.wb.wifirst.net)
[16:43:57] *** Quits: ngz (~ngz@user/ngz) (Remote host closed the connection)
[17:28:38] *** Joins: irek (~irek@public-gprs184493.centertel.pl)
[18:06:43] *** Quits: notzmv (~zmv@user/notzmv) (Ping timeout: 265 seconds)
[19:12:32] *** Quits: Spathoche (~predicati@eth-east-parth2-46-193-68-31.wb.wifirst.net) (Remote host closed the connection)
[19:40:59] *** Quits: _ether_ (~ether@51.154.70.17) (Remote host closed the connection)
[19:41:16] *** Joins: _ether_ (~ether@51.154.70.17)
[19:56:47] *** Quits: _ether_ (~ether@51.154.70.17) (Remote host closed the connection)
[19:57:55] *** Joins: _ether_ (~ether@51.154.70.17)
[20:06:53] *** Joins: notzmv (~zmv@user/notzmv)
[20:12:24] *** Quits: _ether_ (~ether@51.154.70.17) (Changing host)
[20:12:24] *** Joins: _ether_ (~ether@user/ether/x-5084861)
[20:14:52] *** Quits: _ether_ (~ether@user/ether/x-5084861) (Remote host closed the connection)
[20:15:54] *** Joins: _ether_ (~ether@user/ether/x-5084861)
[22:00:59] *** Joins: greyrat (~greyrat@ip202.ip-51-178-215.eu)
[22:01:25] *** Joins: lucerne (~lucerne@ip202.ip-51-178-215.eu)
[22:01:51] *** Server sets mode: +nt 
[22:21:44] *** Quits: _ether_ (~ether@user/ether/x-5084861) (Remote host closed the connection)
[22:22:03] *** Joins: _ether_ (~ether@user/ether/x-5084861)
[22:22:24] *** Quits: _ether_ (~ether@user/ether/x-5084861) (Remote host closed the connection)
[22:29:17] *** Joins: _ether_ (~ether@user/ether/x-5084861)
[22:34:41] *** Quits: pwolf (~pwolf@user/pwolf) (Quit: ZNC 1.8.2 - https://znc.in)
[22:39:58] *** Joins: pwolf (~pwolf@user/pwolf)
[22:40:38] *** Quits: pwolf (~pwolf@user/pwolf) (Client Quit)
[22:40:59] *** Joins: pwolf (~pwolf@user/pwolf)
