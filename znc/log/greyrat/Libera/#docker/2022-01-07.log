[00:00:00] *** Quits: lithium (~lithium@user/lithium) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:02:29] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[00:02:37] *** Joins: vidbina (~vid@213.94.6.230)
[00:02:45] <snedd> @programmerq: Thank you so much for taking the time to write a nice detailed response! I have a follow up question but I wanna properly understand this first. Allow me a moment to burn this to mind :)
[00:04:42] *** Joins: lithium (~lithium@user/lithium)
[00:06:04] <programmerq> if you want to play with bind mounts a bit: sudo mkdir -p /mnt/test/{a,b} && sudo mount -o bind /mnt/test/a /mnt/test/b && ls -lahi /mnt/test/*/ && echo hello world | sudo tee /mnt/test/a/hello.txt && ls -lahi /mnt/test/*/
[00:06:22] <programmerq> run one at a time to get a better feel for what is happening
[00:06:29] <programmerq> the ls -i shows inode numbers
[00:06:42] <programmerq> sudo umount /mnt/test/b && sudo rm -rf /mnt/test/ to clean up.
[00:13:21] *** Quits: andycooper (uid246432@id-246432.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[00:13:34] *** Joins: GailWynand (~GailWynan@195.216.219.122)
[00:20:02] <snedd> @programmerq: That is amazing. (53687 hello.txt inside test/a and 53687 hello.txt in test/b) - Just doing a little extra experimenting at the moment with it
[00:24:34] *** Quits: GailWynand (~GailWynan@195.216.219.122) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:26:41] <snedd> That makes a whole lot more sense now. In terms of why a "bind mount" would be used for this sort of thing. However the 'spooky action' between a and b I am not sure of the best analogy to use for it. From what I understand... It is not making a copy, they are both indeed the same but can be accessed via a different path?
[00:27:06] <programmerq> yup, that's it.
[00:27:36] <programmerq> since a filesystem's tree is just a bunch of "pointers" to different things, you just have multiple pointers that point to the same thing.
[00:27:45] <programmerq> kind of like a hard link, but with a directory
[00:29:30] *** Joins: andycooper (uid246432@id-246432.helmsley.irccloud.com)
[00:30:00] *** Quits: lithium (~lithium@user/lithium) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:31:01] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Ping timeout: 240 seconds)
[00:33:22] <snedd> @programmerq: For my follow up question. If I already "- .:/app" in the docker-compose, wouldn't this mean there is no need to have "COPY . /app/" in the Dockerfile? Hmmm, as I type this I am now starting to think only if someone wants the built image to have the contents of the root dir copied into the image's /app (But I am thinking "out loud" here)
[00:37:29] <snedd> The more I think of it. I feel like there is no need to have the COPY line in Dockerfile if planning to keep making changes to the files. Otherwise, if it was important changes not going to be changed often, then COPY it to the image. Am I on the right lines?
[00:37:58] <snedd> important files* not important changes* sorry
[00:41:54] <NOTevil> yes, if you're developing, it might not make sense to bake the source into the image.  if you're releasing a final/production image, then COPY . /app/ would be the way to go.
[00:44:59] <snedd> Excellent! Glad I am on the right lines when trying to get to grips with docker. Thank you both @programmerq and @NOTevil 
[00:48:40] <tabakhase> snedd its a bit "running your app as a docker image" vs "using docker to run php (what then runs your app)" ((and php just as dum example here)) -- and this whole thing breaks again when you take that "you could abuse your production-image with a bindmount for development..."
[00:50:02] *** Quits: m4td3v (~matdev@2a01:6e60:10:793:666:feed:dead:beef) (Ping timeout: 252 seconds)
[00:52:33] <snedd> @tabakhase: Yeah, I think I am starting to get it now. I am defo more on the "using docker to run php" side. I am not planning on creating a new image, but more of using multiple pre-made images so I can use the techs and versions I need to develop on any machine
[00:58:11] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[01:01:37] *** Quits: vidbina (~vid@213.94.6.230) (Ping timeout: 240 seconds)
[01:05:10] *** Joins: dudek (~dudek@185.150.236.156)
[01:05:11] <programmerq> snedd▸ I tend to leave the COPY in my Dockerfile so that I'm using the same Dockerfile for dev and prod.
[01:05:33] <programmerq> but yes, technically in a dev workflow, the COPY isn't needed when you want to bind mount the source.
[01:06:07] *** Quits: vlm (~vlm@user/vlm) (Read error: Connection reset by peer)
[01:07:37] *** Quits: jkwnki (~jkwnki@p2e5794ba.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[01:07:56] *** Joins: vlm (~vlm@user/vlm)
[01:10:12] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[01:11:27] <snedd> Understood. I think using Docker for prod is out of my depth at the moment until I fully grasp and become comfortable with my dev workflow. You have been a massive help!
[01:21:14] *** Quits: snedd (~snedd@86.14.114.137) (Quit: Leaving)
[01:25:15] <tabakhase> certainly a wise choice ;-)
[01:27:15] <tabakhase> i go as far to recommend not even "dev" to start, but just "CI" - there even more madness is allowed :D - and very simple to start out with some linting, to extend into "testing" to the point where you got something that can actually be used as dev-env - and fan out only after that
[01:38:41] *** Quits: C4Crawford (~C4Crawfor@162-238-18-201.lightspeed.bcvloh.sbcglobal.net) (Quit: The Lounge - https://thelounge.chat)
[01:41:10] *** Joins: C4Crawford (~C4Crawfor@162-238-18-201.lightspeed.bcvloh.sbcglobal.net)
[01:42:19] *** Joins: frittro-mob (~frittro@user/frittro)
[01:48:17] *** Quits: C4Crawford (~C4Crawfor@162-238-18-201.lightspeed.bcvloh.sbcglobal.net) (Quit: The Lounge - https://thelounge.chat)
[01:50:50] *** Joins: C4Crawford (~C4Crawfor@162-238-18-201.lightspeed.bcvloh.sbcglobal.net)
[02:04:00] *** Joins: vidbina (~vid@213.94.6.230)
[02:22:03] *** Quits: remote (~self@user/hackers) (Ping timeout: 256 seconds)
[02:25:16] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:27:43] *** Quits: tex (~super@user/dix) (Ping timeout: 256 seconds)
[02:33:22] *** Joins: trevors (~trevors@user/trevors)
[02:38:21] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[02:39:04] *** Quits: Zta (~Zta@5.186.52.63.static.fibianet.dk) (Quit: Zta)
[02:50:15] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 256 seconds)
[02:53:25] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[03:00:28] *** Joins: atrigent_ (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[03:01:35] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Ping timeout: 256 seconds)
[03:01:57] *** Quits: vidbina (~vid@213.94.6.230) (Ping timeout: 240 seconds)
[03:14:07] *** Quits: frittro-mob (~frittro@user/frittro) (Remote host closed the connection)
[03:14:23] *** Joins: frittro-mob (~frittro@user/frittro)
[03:27:46] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[03:34:48] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[03:35:22] *** Quits: DrowningElysium (uid190788@user/drowningelysium) (Quit: Connection closed for inactivity)
[03:46:48] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Quit: A lol made me boom.)
[03:46:48] *** Quits: pfeilmann0 (~pfeilmann@c3po.mahr.pw) (Read error: Connection reset by peer)
[03:48:03] *** Quits: lilgopher (~textual@c-24-12-183-227.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:48:37] *** Quits: jmcgnh (~jmcgnh@wikipedia/jmcgnh) (Ping timeout: 240 seconds)
[03:48:50] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[03:48:58] *** Joins: pfeilmann0 (~pfeilmann@c3po.mahr.pw)
[03:49:56] *** Parts: bancroft (~bancroft@bras-base-mtrlpq02hsy-grc-09-76-68-189-165.dsl.bell.ca) (WeeChat 3.2)
[03:54:03] *** Joins: trevors (~trevors@user/trevors)
[03:54:28] *** Joins: jmcgnh (~jmcgnh@wikipedia/jmcgnh)
[03:56:18] *** Quits: frittro-mob (~frittro@user/frittro) (Read error: Connection reset by peer)
[03:56:45] *** Joins: RougeR (~RougeR@user/rouger)
[04:06:56] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[04:07:50] *** Joins: frittro-mob (~frittro@user/frittro)
[04:08:38] *** Quits: frittro-mob (~frittro@user/frittro) (Client Quit)
[04:08:53] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[04:34:14] *** Joins: jamiejackson21 (~jamiejack@207.172.87.34)
[04:36:57] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 240 seconds)
[04:39:48] *** Quits: dudek (~dudek@185.150.236.156) (Quit: Leaving)
[04:44:17] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[04:47:15] *** Joins: Bruners (lasseb@178.16.64.98)
[05:06:23] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 256 seconds)
[05:27:58] *** Joins: jazzy (~jaziz@user/jaziz)
[05:30:19] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:37:24] *** Quits: RougeR (~RougeR@user/rouger) (Quit: Leaving)
[05:47:03] *** Quits: tsal (~tsal@user/tsal) (Ping timeout: 256 seconds)
[05:51:36] *** Joins: tsal (~tsal@user/tsal)
[06:12:37] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 240 seconds)
[06:23:21] *** Quits: andycooper (uid246432@id-246432.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[06:47:54] <s17> I was doing docker image push and then my network broke.  Now when I try the same push, it's stuck on pushing one layer and doesn't seem to be progressing.  What can I do?
[06:49:02] <s17> oh wait it just now started moving again, strange
[07:14:17] *** Quits: rardiol (~quassel@user/rardiol) (Ping timeout: 240 seconds)
[07:15:50] *** Quits: mankoff (~quassel@c-67-183-220-189.hsd1.wa.comcast.net) (Quit: quit)
[07:30:01] *** Quits: haasn (~nand@haasn.dev) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[07:31:22] *** Joins: haasn (~nand@haasn.dev)
[07:40:57] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[07:41:30] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Quit: A lol made me boom.)
[07:42:52] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[07:48:16] *** Joins: Bruners (lasseb@178.16.64.98)
[08:06:37] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 240 seconds)
[08:09:37] *** Joins: Bruners (lasseb@178.16.64.98)
[08:27:19] *** Quits: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:fcff:12d5:afef:83f3) (Quit: So as you can see from this flowchSQUIRREL!!)
[08:30:04] *** Quits: emerent (~quassel@p200300cd5724fde6ba27ebfffed28a59.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[08:30:15] *** Quits: polymorphic (~polymorph@user/polymorphic) (Ping timeout: 256 seconds)
[08:31:23] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[08:31:40] *** Joins: polymorphic (~polymorph@user/polymorphic)
[08:32:05] *** Joins: emerent (~quassel@p200300cd5724fde6ba27ebfffed28a59.dip0.t-ipconnect.de)
[08:36:21] *** Joins: Bruners (lasseb@178.16.64.98)
[08:37:37] *** Quits: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net) (Read error: Connection reset by peer)
[08:37:51] *** Joins: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net)
[08:54:56] *** Joins: Leonarbro_ (~Leonet@user/leonarbro)
[08:57:16] *** Joins: Leonarbro__ (~Leonet@user/leonarbro)
[08:58:32] *** Quits: Leonarbro (~Leonet@user/leonarbro) (Ping timeout: 240 seconds)
[08:58:42] *** Joins: Leonarbro (~Leonet@user/leonarbro)
[08:59:17] *** Quits: Leonarbro_ (~Leonet@user/leonarbro) (Ping timeout: 240 seconds)
[09:02:37] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 240 seconds)
[09:02:41] *** Quits: Leonarbro__ (~Leonet@user/leonarbro) (Ping timeout: 256 seconds)
[09:06:25] *** Joins: Atque (~Atque@user/atque)
[09:07:19] *** Quits: jarthur (~jarthur@cpe-70-114-198-37.austin.res.rr.com) (Quit: jarthur)
[09:17:57] *** Quits: yac (~user@user/yac) (Remote host closed the connection)
[09:19:48] *** Joins: TomyWork (~TomyLobo@p200300e80f006700e1f052f095479eb2.dip0.t-ipconnect.de)
[09:31:59] *** Quits: jamiejackson21 (~jamiejack@207.172.87.34) (Quit: Connection closed)
[09:31:59] *** Quits: jamiejackson (~jamiejack@207.172.87.34) (Quit: Connection closed)
[09:35:14] *** Joins: lithium (~lithium@user/lithium)
[09:36:55] *** Quits: greatgatsby (~greatgats@bras-base-toroon0411w-grc-52-142-114-106-7.dsl.bell.ca) (Quit: Leaving)
[09:39:50] *** Joins: Bruners (lasseb@178.16.64.98)
[09:46:28] *** Quits: atrigent_ (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:50:11] *** Joins: yac (~user@user/yac)
[09:59:10] *** Quits: thc202 (~thc202@user/thc202) (Ping timeout: 268 seconds)
[10:00:09] *** Joins: thc202 (~thc202@user/thc202)
[10:03:48] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[10:07:24] *** Joins: jazzy2 (~jaziz@user/jaziz)
[10:09:17] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[10:22:25] *** Quits: yac (~user@user/yac) (Remote host closed the connection)
[10:25:32] *** Joins: yac (~user@user/yac)
[10:43:59] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[10:44:55] *** Joins: Bruners (lasseb@178.16.64.98)
[11:02:22] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[11:18:30] *** Joins: trafficjam (~trafficja@119.17.42.59)
[11:18:38] <trafficjam> is docker screwing with my networking?
[11:22:23] *** Joins: Zta (~Zta@152.115.32.67)
[11:33:19] *** Joins: ExeciN (~ExeciN@user/nicexe)
[11:34:09] *** Joins: rsx (~dummy@ppp-188-174-151-54.dynamic.mnet-online.de)
[11:40:39] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[11:42:08] *** Joins: tex (~super@user/dix)
[11:42:54] *** Joins: Bruners (lasseb@178.16.64.98)
[11:53:37] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 240 seconds)
[11:55:16] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[11:58:38] *** Joins: Bruners (lasseb@178.16.64.98)
[12:17:47] *** Joins: frittro (~frittro@user/frittro)
[12:19:37] *** Parts: trafficjam (~trafficja@119.17.42.59) ()
[12:22:06] *** Joins: agowa338 (~agowa338@p200300fb0f0afb00e0db5a878d6b64d5.dip0.t-ipconnect.de)
[12:29:12] *** Joins: AnapodoPsalidaki (~AnapodoPs@2a02:587:291b:fbb7:e9ae:dc00:77e0:b083)
[12:29:22] *** Joins: isflavior (~isflavior@2001:8a0:5dd8:4100:80cf:b28b:a827:9447)
[12:32:23] *** Joins: AnapodoPsalidi (~AnapodoPs@195.46.31.29)
[12:33:21] *** Quits: denningsrogue (~denningsr@98.97.131.238) (Ping timeout: 256 seconds)
[12:34:37] *** Quits: AnapodoPsalidaki (~AnapodoPs@2a02:587:291b:fbb7:e9ae:dc00:77e0:b083) (Ping timeout: 240 seconds)
[12:44:37] *** Quits: Leonarbro (~Leonet@user/leonarbro) (Read error: Connection reset by peer)
[12:44:56] *** Joins: denningsrogue (~denningsr@98.97.131.238)
[12:55:28] *** Joins: fibsifan (~quassel@2a01:c22:a8ed:f200:f2d5:a6e5:9a52:4fb2)
[12:56:45] *** Joins: thiras (~thiras@user/thiras)
[13:01:59] *** Quits: l4yer (~l4yer@178.239.168.223) (Read error: Connection reset by peer)
[13:06:43] *** Joins: thiras_ (~thiras@user/thiras)
[13:10:11] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 256 seconds)
[13:11:35] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:15:34] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[13:17:01] *** Quits: agowa338 (~agowa338@p200300fb0f0afb00e0db5a878d6b64d5.dip0.t-ipconnect.de) (Quit: Leaving)
[13:19:34] *** Joins: l4yer (~l4yer@84.69.191.245)
[13:31:17] *** Quits: jazzy2 (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[13:44:20] *** Joins: vidbina (~vid@213.94.6.230)
[13:46:35] *** Quits: Tach (~Tach@user/tach) (Quit: Tach)
[13:48:51] *** Quits: vidbina (~vid@213.94.6.230) (Ping timeout: 256 seconds)
[13:52:45] *** Quits: thiras_ (~thiras@user/thiras) (Remote host closed the connection)
[13:54:15] *** Joins: thiras_ (~thiras@user/thiras)
[14:00:51] *** Joins: Tach (~Tach@user/tach)
[14:02:22] *** Joins: MikeBux (~MikeBux@host-091-097-126-240.ewe-ip-backbone.de)
[14:16:49] *** Quits: thiras_ (~thiras@user/thiras) (Quit: Leaving)
[14:20:37] *** Quits: very_sneaky (~very_snea@user/very-sneaky/x-7432109) (Ping timeout: 240 seconds)
[14:26:00] *** Joins: vidbina (~vid@2a02:3037:419:713d:a04f:fce4:b1d4:6960)
[14:29:05] *** Quits: l4yer (~l4yer@84.69.191.245) (Ping timeout: 256 seconds)
[14:32:27] *** Joins: bouncy (~ben@user/benoit)
[14:34:03] *** Quits: frittro (~frittro@user/frittro) (Remote host closed the connection)
[14:34:26] *** Joins: frittro (~frittro@user/frittro)
[14:39:49] *** Joins: rardiol (~quassel@user/rardiol)
[14:41:45] *** Joins: LordKalma_ (~LordKalma@server.ruilvo.com)
[14:42:11] *** Quits: LordKalma (~LordKalma@server.ruilvo.com) (Read error: Connection reset by peer)
[14:42:40] *** LordKalma_ is now known as LordKalma
[14:42:50] *** Joins: l4yer (~l4yer@178.239.168.223)
[14:46:24] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:51:10] *** Quits: l4yer (~l4yer@178.239.168.223) (Remote host closed the connection)
[15:02:42] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[15:20:30] *** Parts: ash_worksi (~ash_m@user/ash-m/x-3292451) ()
[15:21:13] *** Quits: Fauve (~Fauve@user/fauve) (Ping timeout: 256 seconds)
[15:22:48] *** Quits: mavhq (~quassel@mapp-14-b2-v4wan-161519-cust401.vm15.cable.virginm.net) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[15:24:23] *** Joins: mavhq (~quassel@mapp-14-b2-v4wan-161519-cust401.vm15.cable.virginm.net)
[15:25:26] *** Joins: Fauve (~Fauve@user/fauve)
[15:25:49] *** Quits: rardiol (~quassel@user/rardiol) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[15:28:55] *** Joins: goldfish (~goldfish@user/goldfish)
[15:30:26] *** Quits: goldfish (~goldfish@user/goldfish) (Remote host closed the connection)
[15:36:10] *** Joins: goldfish (~goldfish@user/goldfish)
[15:42:17] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 240 seconds)
[15:46:17] <Tach> anyone a valid reason why docker would not expose/bind the ports on IPv4 with a stack deploy on swarm ?
[15:51:31] *** Joins: very_sneaky (~very_snea@user/very-sneaky/x-7432109)
[15:55:15] *** Joins: goldfish (~goldfish@user/goldfish)
[16:02:54] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:18:35] <deuxexmachina> you guys running containers and/or docker itself as non root users?
[16:18:41] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[16:19:04] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Client Quit)
[16:19:35] *** Joins: l4yer (~l4yer@178.239.168.223)
[16:20:13] <MikeBux> deuxexmachina, thats what i would recommend.
[16:20:34] <deuxexmachina> MikeBux: both the container and the docker service on the host, right?
[16:20:37] *** Joins: AnapodoPsalidaki (~AnapodoPs@2a02:587:291b:fbb7:6151:9371:70f9:3887)
[16:22:00] <MikeBux> deuxexmachina, well i am no really good with docker, just learning the rest ...
[16:22:17] *** Quits: AnapodoPsalidi (~AnapodoPs@195.46.31.29) (Ping timeout: 240 seconds)
[16:23:42] <deuxexmachina> just asking because docker didnt used to recommend running as non root cuz i think it could
[16:23:50] <deuxexmachina> plus so many official images from dockerhub run as root
[16:23:58] <deuxexmachina> so it doesnt seem many people care  about that
[16:27:28] *** Quits: goldfish (~goldfish@user/goldfish) (Remote host closed the connection)
[16:27:47] *** Joins: goldfish (~goldfish@user/goldfish)
[16:29:30] <MikeBux> deuxexmachina, well some people are ignorant about the security issues or think it is simpler to run stuff as root
[16:35:41] *** Joins: bdax (~tom@05432be4.skybroadband.com)
[16:36:27] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Quit: A lol made me boom.)
[16:40:00] <tabakhase> "rootless-docker" is its very own story kinda...
[16:40:42] <deuxexmachina> tabakhase: meaning this right https://docs.docker.com/engine/security/rootless/
[16:40:52] <deuxexmachina> tabakhase: does that mean you dont recommend it in production? :)
[16:41:05] <tabakhase> and youll notice that most, if not all of the library images support "--user" just fine - so it aint rly the image to blame (well there readme maybe is ;D)
[16:41:26] *** Joins: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:d003:dfe3:3589:a4aa)
[16:42:12] *** Quits: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:d003:dfe3:3589:a4aa) (Client Quit)
[16:43:20] <tabakhase> now, if we ignore the dameon and talk only inside the containers -- sure, beeing root in there is more of a risk, but its like far-far away from "root on the host" still so its certainly acceptable in some cases
[16:44:59] <deuxexmachina> tabakhase: your last two replaces were concerning non root in containers, right?
[16:45:12] <deuxexmachina> And that article is about docker running as non root on host, right?
[16:45:53] <tabakhase> should you still strive to have limited perms in there? sure, if all you need it for is port80, just use 8080 or add CAP_NET_BIND_SERVICE to allow it ;-)
[16:46:11] <deuxexmachina> or perhaps you mean "--user" the systemd flag to run docker as non root?
[16:46:31] <tabakhase> deuxexmachina --user as in "docker run --user X:Y ..."
[16:46:35] <deuxexmachina> idk how CAP_NET_BIND_SERVER is related to this issue 
[16:46:39] <deuxexmachina> ah ok
[16:48:09] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[16:48:11] <deuxexmachina> tabakhase: does docker run --user work in docker-compose?
[16:49:08] <deuxexmachina> i mean is there a way to specify that in the docker-compose.yml instead of docker-compose -u USER up -d
[16:49:29] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[16:49:44] <tabakhase> deal is basically that "yes, root in a container is the same as root in the host - BUT docker actually drops pretty much all capabilitys on the way in, "but if they miss something" you could potentially have a problem - having the container non-rooted it aint.  --- and with "rootless-dockerD" this obvs. isnt a problem anymore as now the "same as root" part isnt the case anymore
[16:50:24] <tabakhase> and sure, compose has a "user:" as well
[16:53:11] <deuxexmachina> cool, so what you say "most images support --user" does that mean they support it being set to any username or must the username be something specific?
[16:53:16] <deuxexmachina> when you say*
[16:54:28] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[16:55:55] <deuxexmachina> tabakhase: ^
[16:56:35] *** Joins: lenarhoyt (~lenarhoyt@p200300c24f035f01b05aa9b6cbb8e49e.dip0.t-ipconnect.de)
[16:58:24] <tabakhase> deuxexmachina "names" dont matter anyhow rly... - as for example /etc/passwd on the host and container are there own things BUT "nummeric ids" actually matter (as its the same kernel) -- so the issue you run into is that "--user" may drop you into a annon user (no name, no homedir set and such) something that "supports --user" can handle that --- that said "sometimes you need more", then 
[16:58:24] <tabakhase> tooling like https://github.com/boxboat/fixuid comes in handy ((or the "manual form" of this with a few lines of bash in the entrypoint)
[16:58:49] *** Joins: Bruners (~lasseb@178.16.64.98)
[16:59:02] <lenarhoyt> Hello. I am running into this problem solved by this workaround when using bridge mode: https://github.com/cohoe/workstation/issues/105#issuecomment-880844140
[16:59:02] <lenarhoyt> I am a little confused as to why DNS with bridge mode does not work out-of-the-box under systemd. Am I missing something?
[16:59:32] <tabakhase> (the readme on fixuid is worth a read anyhow, goes a bit more in detail on the what/why/how´s)
[16:59:48] <deuxexmachina> tabakhase: ok will check that out, i wonder if i can leave "user: " blank in docker-compose to get that functionality
[17:00:18] <tabakhase> user: $UID ? ;-)
[17:00:44] <deuxexmachina> idk what that would do
[17:00:51] <deuxexmachina> if i echo $UID on host I get nothing
[17:01:39] <tabakhase> i do o.O - on native linux, wsl and even on gitbash UID exists
[17:02:45] <Zta> Maybe $EUID exists?
[17:03:12] <deuxexmachina> "echo $UID" on the command line?
[17:03:28] <deuxexmachina> if I do sudo $UID it logs me in as root
[17:05:28] <lenarhoyt> Are the necessary adjustments for bridge + DNS + systemd-resolved officially documented somewhere?
[17:07:01] <tabakhase> lenarhoyt this doesnt make much sense... and were entirely missing what YOU actually try todo... smells like ya trying somethign very wrong
[17:07:35] <tabakhase> -> https://xyproblem.info/
[17:10:56] <Tach> what would log when a docker host cannot start a swarmed container and starts it on another hosts as duplicate
[17:11:08] *** Joins: iomari891 (~iomari891@197.210.55.212)
[17:11:54] <tabakhase> deuxexmachina > if I do sudo $UID it logs me in as root < - that doesnt fit much either -- if its empty, sudo should spit out its help page for no command given - if its set you should get some "sudo: 1000: command not found" :D
[17:12:25] <Tach> tabakhase how is you x or y today ?
[17:12:30] <Tach> *your
[17:13:59] <lenarhoyt> tabakhase: I am trying to run this under a fresh Photon OS install: https://github.com/fschuindt/docker-smb using docker-compose up -d. However, I have no internet inside the image, so the install fails. I do have internet access on the host though.
[17:14:17] <lenarhoyt> Inside the container I mean
[17:16:13] *** Quits: Hackerpcs (~user@user/hackerpcs) (Read error: Connection reset by peer)
[17:19:12] <lenarhoyt> My problem is actually different from the one mentioned above. I do not have any internet connection inside the container, it's not just a DNS issue.
[17:20:32] <tabakhase> lenarhoyt and you also dont have any vpn involved? (that seems to be the root of 'the issue linked in the issue')
[17:22:08] <lenarhoyt> tabakhase: No VPN involved.
[17:22:41] <tabakhase> yea that pretty much ignore that whole issue, got nothing on ya and is about DNS =)
[17:23:09] <lenarhoyt> I cannot ping any internet address from within the container
[17:23:17] <lenarhoyt> I mean IP address
[17:23:36] <tabakhase> so is THIS container an issue, or this docker-daemon in general? -- `docker run --rm debian ping -c3 1.1.1.1` does what?
[17:24:51] *** Joins: andycooper (uid246432@id-246432.helmsley.irccloud.com)
[17:25:38] <lenarhoyt> tabakhase: I did it with alpine. It times out.
[17:27:08] <lenarhoyt> The default route is correctly set, which is the hosts IP on the docker0 interface
[17:28:12] <tabakhase> hm idk about photonOS... does it maybe require you to use a proxy? check if your host has any set... --- other than that "what should happen" is just iptables to act as a router, do some sNAT and send it on from docker0 to your eth0(or whatever) -- could have a look at those rules if/how they were setup - but as said, photonOS may be extra there dunno :/
[17:29:14] <tabakhase> think nftables for example is still not officially supported and only works using the shim - on some bespoke OS that may go haywire...
[17:31:09] <lenarhoyt> The same setup with Photon OS works though, however on a different host, a different subnet and a different hypervisor. Weird.
[17:33:22] *** Joins: trevors (~trevors@user/trevors)
[17:34:45] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Quit: A lol made me boom.)
[17:35:05] <lenarhoyt> There is a bridge interface that is down, that's up on the other host. I cannot bring it up with ip link set dev br-... up, however.
[17:35:15] <lenarhoyt> It simply remains down.
[17:35:28] <lenarhoyt> Without error message.
[17:37:30] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[17:39:23] *** Quits: Zta (~Zta@152.115.32.67) (Quit: Zta)
[17:43:53] *** Quits: denningsrogue (~denningsr@98.97.131.238) (Ping timeout: 256 seconds)
[17:55:29] *** Joins: DrowningElysium (uid190788@user/drowningelysium)
[18:01:22] *** Quits: TomyWork (~TomyLobo@p200300e80f006700e1f052f095479eb2.dip0.t-ipconnect.de) (Remote host closed the connection)
[18:08:24] *** Quits: artok (~azo@mobile-access-bcee77-2.dhcp.inet.fi) (Ping timeout: 256 seconds)
[18:09:11] <lenarhoyt> Now it does not even auto-create a bridge interface when I build and run with docker-compose
[18:09:35] *** Joins: artok (~azo@mobile-access-bcee77-2.dhcp.inet.fi)
[18:11:01] *** Joins: len (~len@v2202104141858149543.nicesrv.de)
[18:11:29] *** Quits: isflavior (~isflavior@2001:8a0:5dd8:4100:80cf:b28b:a827:9447) (Quit: isflavior)
[18:12:56] *** Quits: lowcrash (~admin@84-255-205-230.static.t-2.net) (Ping timeout: 256 seconds)
[18:18:43] <bdax> if I make a docker-compose file with some storage volumes in it (normal ones, not bind mounts), then I clone the directory with the docker-compose file so there's two identical docker-compose files. Then I run one, and later I run the other, will they share the storage volumes? If not, how does docker know which one should use which internal volume?
[18:23:29] <tabakhase> bdax depends - things are prefixed with the project-name (-P, env.COMPOSE_PROJECT_NAME, "parent directory") if no explicit name is set
[18:24:12] <bdax> ah I see, that makes sense, thank yo tabakhase 
[18:31:19] *** Joins: denningsrogue (~denningsr@98.97.131.238)
[18:37:55] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[18:42:23] *** Joins: AnapodoPsalidi (~AnapodoPs@195.46.31.29)
[18:44:37] *** Quits: AnapodoPsalidaki (~AnapodoPs@2a02:587:291b:fbb7:6151:9371:70f9:3887) (Ping timeout: 240 seconds)
[18:53:36] <lenarhoyt> I tried reinstalling removing all containers, system purge -a, systemctl restart, tdnf remove, removed the local-kv.db, removed all bridges, then rebooted and reinstalled Docker, but it is still not generating the bridge.
[18:58:58] *** Quits: iomari891 (~iomari891@197.210.55.212) (Quit: WeeChat 3.3)
[19:03:40] *** Joins: blackwood821_ (~blackwood@user/blackwood821)
[19:04:06] *** Quits: blackwood821 (~blackwood@user/blackwood821) (Ping timeout: 245 seconds)
[19:05:10] <lenarhoyt> Oh, it did create one all along. Didn't notice docker0 is a bridge, because previously some container had crated a br-... named bridge, which I am not seeing anymore.
[19:06:09] <lenarhoyt> But I still cannot even ping the host's IP on docker0. Very weird.
[19:07:01] *** Quits: nwulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Read error: Connection reset by peer)
[19:12:52] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:12:55] *** Quits: junktext (~junktext@gateway/vpn/pia/junktext) (Remote host closed the connection)
[19:14:04] *** Joins: junktext (~junktext@gateway/vpn/pia/junktext)
[19:16:06] *** Quits: tex (~super@user/dix) (Quit: tex)
[19:16:38] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[19:19:15] *** Joins: nezach (~nezach@p200300c31f04ce0064898d6ba856a88d.dip0.t-ipconnect.de)
[19:23:04] *** Quits: lenarhoyt (~lenarhoyt@p200300c24f035f01b05aa9b6cbb8e49e.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[19:35:29] <deuxexmachina> tabakhase: ah ok ill look into that. the weirdness with $UID was because i have fish shell on this machine
[19:35:31] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 256 seconds)
[19:38:41] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[19:45:43] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[19:46:45] *** Joins: Bruners (lasseb@178.16.64.98)
[19:47:04] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[19:48:57] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Read error: Connection reset by peer)
[19:49:32] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[19:51:53] *** Joins: denningsrogue3 (~denningsr@98.97.131.238)
[19:53:05] *** Quits: denningsrogue (~denningsr@98.97.131.238) (Ping timeout: 256 seconds)
[19:53:05] *** denningsrogue3 is now known as denningsrogue
[19:58:13] *** Joins: iomari891 (~iomari891@197.210.54.48)
[20:04:51] *** Quits: nezach (~nezach@p200300c31f04ce0064898d6ba856a88d.dip0.t-ipconnect.de) (Remote host closed the connection)
[20:05:11] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[20:05:32] *** Quits: rsx (~dummy@ppp-188-174-151-54.dynamic.mnet-online.de) (Quit: rsx)
[20:09:12] *** Parts: andycooper (uid246432@id-246432.helmsley.irccloud.com) ()
[20:11:13] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[20:12:56] *** Joins: ExeciN (~ExeciN@user/nicexe)
[20:18:00] *** Joins: Bruners (lasseb@178.16.64.98)
[20:21:57] *** Quits: vidbina (~vid@2a02:3037:419:713d:a04f:fce4:b1d4:6960) (Ping timeout: 240 seconds)
[20:34:48] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Read error: Connection reset by peer)
[20:35:43] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[21:02:24] *** Joins: minimal (~minimal@user/minimal)
[21:03:00] *** Joins: vidbina (~vid@213.94.6.230)
[21:05:58] *** Joins: Leonarbro (~Leonet@user/leonarbro)
[21:11:41] *** Joins: GailWynand (~GailWynan@195.216.219.122)
[21:20:09] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[21:21:38] *** Quits: i64_2 (~i64@185.65.135.183) (Ping timeout: 256 seconds)
[21:24:06] *** Joins: trevors (~trevors@user/trevors)
[21:28:35] *** Quits: GailWynand (~GailWynan@195.216.219.122) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:30:28] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[21:32:42] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 276 seconds)
[21:32:45] *** Joins: CombatVet_ (~c4@user/combatvet)
[21:33:30] *** CombatVet_ is now known as CombatVet
[21:34:09] *** Quits: fearnothing (~fearnothi@user/fearnothing) (Ping timeout: 268 seconds)
[21:34:54] *** Joins: GailWynand (~GailWynan@195.216.219.122)
[21:35:23] *** Quits: fibsifan (~quassel@2a01:c22:a8ed:f200:f2d5:a6e5:9a52:4fb2) (Quit: https://quassel-irc.org)
[21:36:57] *** Quits: AnapodoPsalidi (~AnapodoPs@195.46.31.29) (Quit: Leaving)
[21:38:51] *** Joins: i64 (~i64@185.65.135.183)
[21:39:13] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[21:42:26] *** Joins: jidar (~jidar@yt-1300.fap.me)
[21:42:36] *** Quits: iomari891 (~iomari891@197.210.54.48) (Ping timeout: 256 seconds)
[22:01:11] *** Joins: trevors (~trevors@user/trevors)
[22:03:40] *** Joins: zer0bitz (~zer0bitz@196.244.192.57)
[22:08:02] *** Quits: i64 (~i64@185.65.135.183) (Ping timeout: 240 seconds)
[22:15:08] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[22:20:03] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[22:23:35] *** Joins: lilgopher (~textual@2601:241:8000:38f0:34e3:500e:d1f0:a562)
[22:23:58] *** Joins: i64 (~i64@185.65.135.183)
[22:24:40] *** Quits: PeGaSuS (ubuntu@user/pegasus) (Quit: Goodbye! - WeeChat 3.4)
[22:27:40] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[22:29:47] *** Joins: trevors (~trevors@user/trevors)
[22:30:16] *** Joins: PeGaSuS (ubuntu@user/pegasus)
[22:33:37] *** Quits: Bruners (lasseb@178.16.64.98) (Ping timeout: 240 seconds)
[22:34:05] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[22:36:04] *** Joins: Bruners (~lasseb@178.16.64.98)
[22:36:41] *** Joins: sgt_chuckles (~sgt_chuck@pool-71-190-209-205.nycmny.fios.verizon.net)
[22:42:38] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[22:43:50] *** Quits: PeGaSuS (ubuntu@user/pegasus) (Remote host closed the connection)
[22:44:28] *** Joins: PeGaSuS (ubuntu@user/pegasus)
[22:46:24] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:47:55] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[22:49:19] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[22:50:58] *** Joins: Bruners (~lasseb@178.16.64.98)
[22:51:14] *** Quits: vidbina (~vid@213.94.6.230) (Ping timeout: 268 seconds)
[22:51:25] *** Quits: sgt_chuckles (~sgt_chuck@pool-71-190-209-205.nycmny.fios.verizon.net) (Quit: Client closed)
[22:51:46] *** Quits: Latrina (~Latrina@user/latrina) (Quit: Powered by AlpineLinux under the supervision of Docker.)
[22:51:49] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 240 seconds)
[22:52:39] *** Quits: PeGaSuS (ubuntu@user/pegasus) (Quit: Goodbye! - WeeChat 3.4)
[22:53:03] *** Joins: Latrina (~Latrina@user/latrina)
[22:56:13] *** Joins: PeGaSuS (ubuntu@user/pegasus)
[22:57:20] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[23:01:06] *** Joins: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:f943:785b:4c6e:c7d6)
[23:01:17] *** Quits: PeGaSuS (ubuntu@user/pegasus) (Ping timeout: 240 seconds)
[23:03:37] *** Joins: PeGaSuS (~Ubuntu@user/pegasus)
[23:08:35] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[23:10:54] *** Quits: GailWynand (~GailWynan@195.216.219.122) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:24:03] *** Quits: PeGaSuS (~Ubuntu@user/pegasus) (Quit: Goodbye! - WeeChat 3.4)
[23:24:57] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Ping timeout: 240 seconds)
[23:26:47] *** Quits: Latrina (~Latrina@user/latrina) (Quit: Powered by AlpineLinux under the supervision of Docker.)
[23:27:56] *** Joins: Latrina (~Latrina@user/latrina)
[23:34:03] *** Joins: PeGaSuS (~Ubuntu@user/pegasus)
[23:38:07] *** Joins: Zta (~Zta@5.186.52.63.static.fibianet.dk)
[23:38:58] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[23:41:05] *** Quits: PeGaSuS (~Ubuntu@user/pegasus) (Quit: Goodbye! - WeeChat 3.4)
[23:41:06] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[23:44:00] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Client Quit)
[23:44:31] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
[23:46:25] *** Joins: PeGaSuS (ubuntu@user/pegasus)
[23:47:34] *** Joins: sgt_chuckles (~sgt_chuck@pool-71-190-209-205.nycmny.fios.verizon.net)
[23:47:42] *** Quits: dangerousdave (~dangerous@host-92-16-216-211.as13285.net) (Client Quit)
[23:49:32] *** Quits: Bruners (~lasseb@178.16.64.98) (Ping timeout: 256 seconds)
[23:50:50] *** Joins: Bruners (lasseb@178.16.64.98)
[23:51:48] *** Joins: dangerousdave (~dangerous@host-92-16-216-211.as13285.net)
