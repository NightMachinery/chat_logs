[00:11:25] *** Joins: winterflaw (~winterfla@gateway/tor-sasl/winterflaw)
[00:37:53] *** Quits: _ht (~quassel@82-169-194-8.biz.kpn.net) (Remote host closed the connection)
[00:51:51] *** Quits: winterflaw (~winterfla@gateway/tor-sasl/winterflaw) (Ping timeout: 276 seconds)
[03:01:45] *** Joins: solrize (~solrize@user/solrize)
[03:02:05] <solrize> any idea if .mobi ebook format is difficult?  
[03:02:12] <solrize> pandoc doesn't currently support it
[03:18:42] <solrize> i managed to read the .mobi with calibre
[03:20:15] *** Quits: __monty__ (~toonn@user/toonn) (Quit: leaving)
[03:31:39] *** Joins: duds- (~duds-@gateway/tor-sasl/duds)
[09:23:06] *** Joins: _ht (~quassel@82-169-194-8.biz.kpn.net)
[10:20:18] *** Joins: winterflaw (~winterfla@gateway/tor-sasl/winterflaw)
[10:21:32] *** Quits: _ht (~quassel@82-169-194-8.biz.kpn.net) (Remote host closed the connection)
[12:42:15] *** Quits: holgersson (~quassel@user/holgersson) (Quit: “Format C:........[Done]“)
[12:42:32] *** Joins: holgersson (~quassel@user/holgersson)
[12:56:02] <ede> solrize: i'd run `file` over it or just open in a viewer, hex mode maybe. could be it's just a ZIP. i don't think i have one available right now, so feel free to be adventurous ;)
[14:47:41] *** Joins: __monty__ (~toonn@user/toonn)
[14:57:09] <solrize> ede i tried stuff like that, no luck
[14:57:20] <solrize> i can look in the calibre code though
[14:57:42] <solrize> i did find a little more about it in a wikipedia article about e-readers
[14:58:05] <solrize> but the one i wanted to read, i managed to load into calibre so it's ok
[15:00:47] <solrize> https://old.reddit.com/r/HPfanfiction/comments/qtsxkh/are_there_any_darklordharry_where_young_harry/hklzljk/  there is a random one linked here (click "epub", no guarantee that the story is any good
[15:01:00] <solrize> sorry i meant click "mobi"
[15:01:19] <solrize> speaking of which pandoc epub conversions are quite slow and have a serious memory leak if anyone cares
[15:01:31] <solrize> converting large epubs takes 10+ GB of ram
[15:14:56] <ede> solrize: got both. epub is a zip (or maybe a variant just like .jar, or like .deb is for .a), mobi looks like a couple of ZIPs in a container
[15:16:19] <ede> for mobi: 27132 extra bytes at beginning or within zipfile
[15:22:40] <solrize> yeah epub is straightforward and i convert them to text with lynx -dump after unarchving
[15:22:54] <solrize> i didn't make real effort to figure out mobi
[15:22:59] <solrize> so if it's zips then that helps
[15:24:01] <solrize> i converted a million or so epubs with pandoc burning about a week of cpu before figuring out that lynx is like 100x faster
[15:25:37] <ede> so removing that header keeps the same ZIP. only it's 13241 bytes for epub and 41769 for mobi. that's because it has a huge footer also.
[15:26:06] <ede> xhtml + css + some extra xml
[15:26:09] <solrize> i remember reading that mobi has one thing for the book text and another thing for reader annotations
[15:26:21] <solrize> epub is that, mobi is too?
[15:26:44] <solrize> anyway i don't have to deal with tons of mobis, there was just one that i wanted to handle
[15:26:50] <solrize> so pandoc was the first thing i tried
[15:27:17] <ede> the footer looks like what could be some debug from build
[15:27:24] <solrize> could be
[15:27:37] <solrize> if i get time on my hands (lol) i might try to add mobi support to pandoc
[15:27:51] <ede> i'd guess mobi just has some extra data for handling and maybe also cover image or sth
[15:28:01] * ede doubles the (lol)
[15:28:17] <ede> even for figuring out the formats
[15:29:06] <ede> i once wrote a handler for mc's vfs for .wad files, but that happened in another life ;)
[15:29:38] <solrize> mc?  .wad is a doom thing right?
[15:29:40] <ede> but having such a generic approach that only wants a module for the individual formats is cute
[15:29:42] <ede> yep
[15:29:46] <ede> midnight commander
[15:29:50] <solrize> ah ok
[15:30:24] <ede> long before Win Explorer came up with Compressed Folders that one had a ton of file formats already you could use like a local fs
[15:32:13] <solrize> ic.  yeah i was never much of a windows user
[15:42:20] *** Joins: qwerty (~qwerty@user/badwolf)
[15:43:15] <qwerty> Hi, is there a way to set textwidth for .md -> .txt?
[15:43:51] <qwerty> With PDF I used to tweak the margins, but I'm not sure how to do with a .txt output
[15:44:25] <solrize> dunno about setting it but maybe fmt afterwards?
[15:47:58] <qwerty> yeah that's what I'm doing right now, I was just hoping for a better solution 
[16:03:34] <ede> maybe a filter?
[20:52:00] *** Quits: opDispatch (~opDispatc@user/opDispatch) (Quit: Konversation terminated!)
[22:46:01] *** Quits: ede (~ede@user/ede) (Remote host closed the connection)
[22:47:54] *** Joins: ede (~ede@user/ede)
