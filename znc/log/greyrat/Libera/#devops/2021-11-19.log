[00:02:58] <menace> i heard this.. sadly i could not try it out myself
[00:03:21] <menace> rancher is supposedly easy to handle..
[00:33:49] *** Joins: lofiguy (~lofiguy@87-207-104-205.dynamic.chello.pl)
[00:34:24] <rawtaz> back
[00:37:54] *** Quits: voices- (~voices_@84.238.197.28) (Remote host closed the connection)
[00:40:15] <uio> nice, so about the poc, I'm running nomad/consul/vault on hetzner
[00:40:31] <uio> (and some other stuff)
[00:40:40] <uio> it works pretty well for the most part
[00:41:13] <uio> you can try it out if you have a hetzner account
[00:42:04] <rawtaz> i do :)
[00:44:07] <rawtaz> but it's a business one so i cant use it i think. but that doesnt matter
[00:44:19] <rawtaz> so you ran it in their cloud i take it?
[00:47:46] <uio> yep, the platform takes your api key and creates a cluster of 5 machines fronted by a load balancer
[00:48:29] <rawtaz> ooh nice
[00:51:17] <rawtaz> well one simply has to try it to know, but i understood the things you said i think, and youre probably right that nomad et al doesnt shine too much unless you run them together
[00:56:35] *** Quits: lofiguy (~lofiguy@87-207-104-205.dynamic.chello.pl) (Remote host closed the connection)
[00:56:57] *** Joins: lofiguy (~lofiguy@87-207-104-205.dynamic.chello.pl)
[00:59:41] <kwilczynski> We run an entire farm of ML models for Bixby at Samsung.
[00:59:43] <kwilczynski> On Nomad.
[01:00:40] <kwilczynski> And at AccelByte, after I came in to fix broken Kubernetes, we run Nomad to host game severs - cross platform and cross clouds.
[01:01:21] <kwilczynski> It's simple, it's easy to setup, does not require PhD to understand what makes it tick, and comes without all the baggage Kubernetes does.
[01:01:21] <kwilczynski> :)
[01:03:48] <rawtaz> kwilczynski: can you comment on the "issues" uio wrote earlier in the nomad discussion?
[01:06:27] *** Joins: voices- (~voices_@84.238.197.28)
[01:07:14] <uio> kwilczynski, are you running enterprise?
[01:07:28] <kwilczynski> No.
[01:08:15] <uio> which reverse proxy are you using?
[01:08:45] <kwilczynski> No reverse proxy.
[01:09:02] <uio> can you tell me a bit more about your setup?
[01:09:10] <uio> s/me/us/
[01:09:19] <kwilczynski> Nomad is a generalised scheduler really.
[01:09:23] <rawtaz> yeah!
[01:09:25] * rawtaz teams up
[01:09:53] <kwilczynski> Our workload was to schedule containers and sometimes just binaries (Mono/.NET, GPU things).
[01:10:33] <uio> there's no traffic coming in? or service to service traffic happening?
[01:10:36] <kwilczynski> For hosting the game servers, for example, we just relied on an underlying simple host network from the compute instance.
[01:10:41] <kwilczynski> There is!
[01:10:50] <kwilczynski> But it depends how you handle it.
[01:11:22] <kwilczynski> A touple of (IP, TCP/UDP port) where the port is randomly allocated is sufficient.
[01:11:25] <kwilczynski> Or was for us.
[01:11:43] <uio> but then you have to do some service discovery
[01:11:48] <kwilczynski> What for?
[01:11:51] <kwilczynski> :)
[01:12:17] <uio> traffic comes in, and needs to reach your service, how do you know on which machine:port the service lives?
[01:12:19] <rawtaz> kwilczynski: you mean you random-robin the connections?
[01:12:56] <kwilczynski> uio: Simple API call to Nomad will get you of the job objects with details where the ports are.
[01:13:17] <kwilczynski> This is using Nomad to schedule and babysit workloads.
[01:13:37] <uio> that is.. service discovery
[01:13:50] <uio> is your load balancer doing that?
[01:14:05] <uio> e.g. doing an api call to see where the workload is running?
[01:14:28] <kwilczynski> No.
[01:14:47] <kwilczynski> No load-balancers.
[01:15:07] <uio> so how does your traffic come in then and how does the load redirected to the right machines?
[01:15:20] <uio> *get redirected
[01:15:39] <kwilczynski> There is a control plane for the platform living some Kubernetes somewhere.
[01:15:53] <kwilczynski> And this platform knows where to send things.
[01:16:30] <rawtaz> if some of the nodes go down, how does the control plane know and how long does it take for it to know?
[01:16:33] <kwilczynski> I can't type quickly as my kitty took over the keyboard
[01:16:37] <rawtaz> :D
[01:20:55] <kwilczynski> https://imgur.com/a/jpFzEPX
[01:27:00] <kwilczynski> There is a Hashidays talk from the team in Indonesia how we put the solution together.
[01:27:06] <kwilczynski> Samsung was different from
[01:27:20] <kwilczynski> There is a talk from Paul Stack about some of it
[01:28:05] <kwilczynski> We built something to autoscale workloads.
[01:28:18] <kwilczynski> Back when I worked at Joyent.
[01:28:20] <kwilczynski> :)
[01:28:23] <kwilczynski> Was fun 
[01:29:47] *** Quits: uvolmer (~uvolmer@2001-4dd0-212c-82-e069-f5f7-ab7b-8443.ipv6dyn.netcologne.de) (Ping timeout: 250 seconds)
[01:30:18] <kwilczynski> https://www.youtube.com/watch?v=9oqrk-18Dzs
[01:31:45] <kwilczynski> https://www.youtube.com/watch?v=-Zwr0CuPoCQ&t=2911s
[01:33:49] <kwilczynski> Anyway. The point is - Nomad is great multi-purpose generalised scheduler. ;D
[01:34:30] <uio> agreed, I love that we can just run binaries or even fat jars
[01:34:53] <kwilczynski> For TLS, we used Vault integration.
[01:35:05] <kwilczynski> Own PKI there and then Nomad can request certificate for a service.
[01:35:14] <kwilczynski> And then inject it.
[01:40:47] <rawtaz> Stack, what a name :>
[01:41:02] <kwilczynski> Paul used to work at Hashicorp.
[01:41:15] <kwilczynski> He wrote the initial AzureRM provider and most of the AWS one.
[01:41:24] <kwilczynski> Aside of working on Terraform core.
[01:41:30] <kwilczynski> He's at Pulumi now.
[01:41:37] <rawtaz> aha
[01:42:00] <kwilczynski> I used to contribute a lot too.
[01:42:05] <kwilczynski> But then I stopped.
[01:42:37] <rawtaz> you mean to terraform?
[01:42:50] <kwilczynski> ... and Packet, and others.
[01:42:51] <kwilczynski> ;D
[01:42:54] <rawtaz> yeah
[01:42:58] <kwilczynski> Packer*
[01:43:17] <kwilczynski> I grew tired of doing free labour without even a "Thank you!"
[01:43:26] <rawtaz> :)
[01:43:33] <kwilczynski> When you realise that this is just stuffing people's pockets at Hashicorp.
[01:43:37] <rawtaz> but at the same time you got to use pretty good software for free no?
[01:43:41] <kwilczynski> Then... why would I keep doing it?
[01:43:55] <rawtaz> only if you did it as part of work or if you enjoyed it
[01:44:08] <kwilczynski> rawtaz: Not really. Terraform is not the Jesus of infrastructure as code.
[01:44:33] <rawtaz> yeah i know, i think neither of the tools existing are
[01:44:45] <kwilczynski> The thing I enjoy doing is Linux kernel.
[01:44:46] <kwilczynski> ;D
[01:44:53] <rawtaz> dont you ever do BSD?
[01:44:54] <kwilczynski> This will leave some legacy behind.
[01:45:04] <kwilczynski> I am not a fan of BSD>
[01:45:11] <rawtaz> really? explain yourself! :P
[01:45:25] <kwilczynski> I am afraid. They will find where I live and torment me.
[01:45:28] <kwilczynski> BSD zealots.
[01:45:29] <kwilczynski> ;D
[01:45:35] <rawtaz> thats what you think
[01:45:49] <kwilczynski> They probably know where I live already,
[01:45:52] <kwilczynski> Don't they?
[01:46:05] <rawtaz> all they really want is to show up at your doorstep with jellybeans and some flowers and cuddle up in your sofa watching star trek
[01:46:29] <kwilczynski> I thought BSD folks are Star Wars camp
[01:46:30] <kwilczynski> ;p
[01:46:31] <rawtaz> hm that guy in https://www.youtube.com/watch?v=-Zwr0CuPoCQ&t=2911s is talking something else than english right?
[01:46:43] <rawtaz> i dunno, im not a star wars fan, i prefer star trek
[01:46:48] <kwilczynski> Indonesian.
[01:46:49] <rawtaz> less hyped, just pure quality :)
[01:46:52] <kwilczynski> Slides are in English though.
[01:46:57] <rawtaz> yeah
[01:47:07] <kwilczynski> I just saw new episode of Discovery.
[01:47:08] <kwilczynski> ;D
[01:47:20] <kwilczynski> If you pay me 50 EUR
[01:47:24] <kwilczynski> I won't spoil it for you!
[01:47:28] <kwilczynski> ;p
[01:47:38] <kwilczynski> This is my way to get rich...
[01:47:54] <rawtaz> i guess thats the newest season of star trek? :o
[01:48:01] <kwilczynski> Yes.
[01:48:04] * rawtaz isnt following star trek at all
[01:48:13] <rawtaz> i have watched maybe two seasons at most :P
[01:48:19] <kwilczynski> you PREFER but not following
[01:48:31] <rawtaz> yes, ive seen enough of both to know which one i prefer :)
[01:48:46] <kwilczynski> Infidel!
[01:48:49] <rawtaz> :3
[01:48:54] * kwilczynski dispatches nerd army
[01:48:56] <rawtaz> thats a compliment alright
[01:48:57] <rawtaz> haha
[01:49:01] <kwilczynski> ;D
[01:49:29] <kwilczynski> Watch Lower Decks.
[01:49:33] <kwilczynski> It's really good
[01:50:21] <kwilczynski> OK. Back at the PC.
[01:50:27] <kwilczynski> Kitty got annoyed.
[01:56:12] <kwilczynski> To add.
[01:56:21] <kwilczynski> Working with Nomad's API is also very nice and simple.
[01:56:27] <kwilczynski> If you want to do some simple tooling around it.
[01:56:56] <kwilczynski> Since it's just REST, rather than hair-pulling and diarrhoea inducing gRPC.
[02:01:39] <rawtaz> ive thought about using vault for certs too, but havent gotten as far as to secrets yet :(
[02:02:11] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:02:16] <rawtaz> and i think traefik can be configured to grab them from there as well.
[02:04:08] <kwilczynski> Most likely
[02:05:54] <kwilczynski> There was this load-balancer which had native support.
[02:06:00] <kwilczynski> The name escaped me.
[02:06:02] <kwilczynski> Bummer.
[02:07:46] <rawtaz> native support for vault you mean?
[02:09:00] *** Quits: rpthms (~rpthms@user/rpthms) (Remote host closed the connection)
[02:12:56] *** Joins: rpthms (~rpthms@user/rpthms)
[02:16:03] <rawtaz> sigh. just got a VPN connection from somewhere i need to deploy stuff
[02:16:06] <rawtaz> a fucking SSTP thing
[02:16:17] <rawtaz> so tired of all these ignorant microsoft shops
[02:16:55] <rawtaz> its like they live only in that bubble and have NO clue what so ever what there is outside of it
[02:20:29] <kwilczynski> ;//
[02:24:43] *** Quits: voices- (~voices_@84.238.197.28) (Remote host closed the connection)
[02:27:58] *** Joins: voices- (~voices_@84.238.197.28)
[02:30:44] <rawtaz> bedtime, night!
[02:30:46] * rawtaz &
[02:38:04] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[03:08:51] *** Quits: phost (~phost@162.198.54.77.rev.vodafone.pt) (Ping timeout: 268 seconds)
[03:12:23] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 264 seconds)
[03:12:33] *** Joins: voices- (~voices_@84.238.197.28)
[03:15:28] *** Quits: uio (~incomplet@89-220-239-102.cable.dynamic.v4.ziggo.nl) (Ping timeout: 265 seconds)
[03:20:14] *** Quits: Eloygn (~Eloygn@109.77.103.212) (Quit: Leaving)
[03:21:03] *** Quits: voices- (~voices_@84.238.197.28) (Remote host closed the connection)
[04:05:25] *** Joins: Colt (~Colt@user/colt)
[04:29:44] *** Quits: justsomeguy (~justsomeg@user/justsomeguy) (Quit: WeeChat 3.3)
[04:46:02] *** Quits: predmijat (~predmijat@mail.strogopro.com) (Quit: bye)
[04:47:38] *** Joins: predmijat (~predmijat@mail.strogopro.com)
[08:03:14] *** Joins: JoelJoel (~jjshoe@user/joel)
[08:04:12] *** Quits: Joel (~jjshoe@user/joel) (Ping timeout: 260 seconds)
[08:11:54] *** Quits: X-Scale (~ARM@46.50.7.119) (Ping timeout: 256 seconds)
[08:12:23] *** Joins: X-Scale` (~ARM@165.201.137.78.rev.vodafone.pt)
[08:13:53] *** X-Scale` is now known as X-Scale
[08:59:03] *** a1 is now known as ekaj
[10:07:23] *** Joins: voices- (~voices_@84.238.197.28)
[10:58:30] *** Joins: uvolmer (~uvolmer@2001-4dd0-212c-82-e069-f5f7-ab7b-8443.ipv6dyn.netcologne.de)
[11:42:06] *** Joins: uio (~incomplet@89-220-239-102.cable.dynamic.v4.ziggo.nl)
[12:09:02] *** Quits: uio (~incomplet@89-220-239-102.cable.dynamic.v4.ziggo.nl) (Ping timeout: 240 seconds)
[12:22:10] *** Joins: uio (~incomplet@89-220-239-102.cable.dynamic.v4.ziggo.nl)
[13:38:11] *** Joins: phost (~phost@162.198.54.77.rev.vodafone.pt)
[13:41:08] *** Quits: omegazyadav (~omegazyad@user/omegazyadav) (Ping timeout: 256 seconds)
[13:43:01] *** Joins: omegazyadav (~omegazyad@user/omegazyadav)
[13:47:22] *** Quits: omegazyadav (~omegazyad@user/omegazyadav) (Ping timeout: 256 seconds)
[13:49:22] *** Joins: omegazyadav (~omegazyad@user/omegazyadav)
[14:03:50] *** Joins: Eloygn (~Eloygn@109.77.103.212)
[14:25:46] *** Quits: voices- (~voices_@84.238.197.28) (Remote host closed the connection)
[14:42:31] *** Joins: voices- (~voices_@84.238.197.28)
[14:47:26] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[15:06:10] *** JoelJoel is now known as Joel
[15:16:20] *** Joins: voices- (~voices_@84.238.197.28)
[15:21:23] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 264 seconds)
[15:34:37] *** Quits: Eloygn (~Eloygn@109.77.103.212) (Quit: Leaving)
[16:05:24] *** Joins: voices- (~voices_@84.238.197.28)
[16:14:02] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 260 seconds)
[16:28:11] *** Joins: voices- (~voices_@84.238.197.28)
[16:32:50] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[16:55:02] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[17:01:27] *** Joins: voices- (~voices_@84.238.197.28)
[17:06:02] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 240 seconds)
[17:34:44] *** Joins: voices- (~voices_@84.238.197.28)
[17:39:59] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 264 seconds)
[17:43:30] *** Quits: Colt (~Colt@user/colt) (Quit: Leaving)
[18:09:39] *** Joins: voices- (~voices_@84.238.197.28)
[18:11:02] *** Quits: voices- (~voices_@84.238.197.28) (Read error: Connection reset by peer)
[18:11:24] *** Joins: voices- (~voices_@84.238.197.28)
[18:12:59] *** Quits: omegazyadav (~omegazyad@user/omegazyadav) (Ping timeout: 264 seconds)
[18:15:00] *** Joins: omegazyadav (~omegazyad@user/omegazyadav)
[18:16:02] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 240 seconds)
[18:22:05] *** Joins: sniperwolf (~sniperwol@91.230.98.1)
[18:26:01] *** Joins: voices- (~voices_@84.238.197.28)
[18:30:42] *** Quits: omegazyadav (~omegazyad@user/omegazyadav) (Ping timeout: 256 seconds)
[18:32:31] *** Joins: omegazyadav (~omegazyad@user/omegazyadav)
[18:45:37] *** Quits: lofiguy (~lofiguy@87-207-104-205.dynamic.chello.pl) (Remote host closed the connection)
[18:48:26] *** Quits: omegazyadav (~omegazyad@user/omegazyadav) (Ping timeout: 260 seconds)
[18:50:09] *** Joins: omegazyadav (~omegazyad@user/omegazyadav)
[19:06:56] *** Joins: Reepicheep (~Reepichee@207-68-211-140.nctc.net)
[19:31:12] *** Quits: voices- (~voices_@84.238.197.28) (Remote host closed the connection)
[19:48:54] *** Joins: voices- (~voices_@84.238.197.28)
[19:54:01] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 268 seconds)
[20:22:58] *** Joins: lofiguy (~lofiguy@87-207-104-205.dynamic.chello.pl)
[20:30:01] *** Joins: voices- (~voices_@84.238.197.28)
[20:34:54] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 260 seconds)
[20:52:57] *** Quits: X-Scale (~ARM@165.201.137.78.rev.vodafone.pt) (Ping timeout: 256 seconds)
[20:53:00] *** Joins: X-Scale` (~ARM@83.223.248.137)
[20:54:37] *** X-Scale` is now known as X-Scale
[21:08:11] *** Joins: voices- (~voices_@84.238.197.28)
[21:15:54] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 260 seconds)
[21:28:40] *** Joins: voices- (~voices_@84.238.197.28)
[21:32:04] *** Quits: sniperwolf (~sniperwol@91.230.98.1) (Ping timeout: 256 seconds)
[21:33:14] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 260 seconds)
[22:09:03] *** Joins: voices- (~voices_@84.238.197.28)
[22:14:01] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[22:43:25] *** Joins: voices- (~voices_@84.238.197.28)
[22:48:32] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 268 seconds)
[23:21:31] *** Joins: voices- (~voices_@84.238.197.28)
[23:25:59] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[23:28:04] *** Joins: voices- (~voices_@84.238.197.28)
[23:28:48] *** Joins: Colt (~Colt@user/colt)
[23:32:56] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 268 seconds)
[23:46:14] *** Joins: voices- (~voices_@84.238.197.28)
[23:50:55] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
