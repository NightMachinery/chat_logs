[00:00:24] *** Joins: DesCaFeinado (~CaFeINA@2001:8a0:ddef:9e00:7268:b2cd:75c7:bd9c)
[00:02:17] *** Quits: sky- (~sky@user/sky-) (Read error: Connection reset by peer)
[00:08:10] *** Joins: xx (~xx@user/xx)
[00:08:58] *** Quits: OlCe (~user@lfbn-nic-1-123-149.w2-15.abo.wanadoo.fr) (Ping timeout: 268 seconds)
[00:09:52] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Ping timeout: 252 seconds)
[00:09:58] *** Joins: finsternis (~X@23.226.237.192)
[00:11:50] *** Joins: replayer (~replayer@ec2-3-94-198-85.compute-1.amazonaws.com)
[00:21:40] *** Joins: n4dir (~user@88.130.152.209)
[00:23:17] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[00:25:30] *** Quits: wwilliam (~afernande@user/wwilliam) (Quit: Konversation terminated!)
[00:25:57] *** grettke is now known as grettke-away
[00:27:56] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 265 seconds)
[00:28:12] *** Joins: motherr (~motherr@user/motherr)
[00:29:02] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[00:29:40] *** grettke-away is now known as grettke
[00:32:44] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Ping timeout: 255 seconds)
[00:34:05] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Remote host closed the connection)
[00:35:16] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Ping timeout: 256 seconds)
[00:38:26] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[00:40:12] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 255 seconds)
[00:41:48] *** Joins: mac11 (~mac@172.58.142.184)
[00:41:57] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 265 seconds)
[00:42:52] *** Joins: gmcastil_ (~gmcastil@50-206-38-118-static.hfc.comcastbusiness.net)
[00:45:47] *** Quits: odoood (~odoood@pool-71-251-227-104.rcmdva.fios.verizon.net) (Ping timeout: 255 seconds)
[00:50:18] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[00:51:19] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[00:51:52] *** Joins: Anthaas (~Anthaas@user/anthaas)
[00:51:53] *** Quits: mac11 (~mac@172.58.142.184) (Read error: Connection reset by peer)
[00:53:48] *** Joins: michigan (uid507982@id-507982.charlton.irccloud.com)
[00:56:36] *** Joins: mac11 (~mac@172.58.142.184)
[00:56:59] *** Quits: useretail (~useretail@185.132.19.151) (Read error: Connection reset by peer)
[01:02:28] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Ping timeout: 256 seconds)
[01:03:13] *** Joins: simbioz (~simbioz@user/simbioz)
[01:05:41] *** Quits: Blackpajamas (~Blackpaja@24-246-42-203.cable.teksavvy.com) (Quit: Blackpajamas)
[01:07:21] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[01:08:11] *** Joins: arinov (~arinov@212.156.215.30)
[01:09:36] *** Quits: angkat (~angkat@2a02:587:1230:6f8a:a4b1:8e24:45a0:ec98) (Quit: Leaving)
[01:11:12] *** Quits: replayer (~replayer@ec2-3-94-198-85.compute-1.amazonaws.com) (Quit: Client closed)
[01:12:42] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 240 seconds)
[01:14:38] *** Quits: curdlesnoot (~curdlesno@2a03:1b20:1:f410:40::a04d) (Quit: = "")
[01:16:55] <ede> what is the best method to stop an endless loop in a script? i check for a break value and then i want to call a function which gives info and then finishes the script.
[01:17:19] <greycat> if you want to terminate the entire script, use 'exit' as the final step
[01:17:33] *** Quits: fortuno51 (~fortuno51@37.120.156.254) (Remote host closed the connection)
[01:17:49] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[01:17:59] <ede> Return from a shell function / Exit for, while, or until loops / Exit the shell
[01:18:20] <ede> ah, there's one thing irritating me: doesn't exit finish the whole shell?
[01:18:21] <greycat> if you only want to return from a function, use 'return'.  if you only want to break out of a loop, use 'break'
[01:18:46] <ede> i remember i tried it in the past and the script was finished and also the xterm was closed
[01:19:07] <greycat> that would depend on how you launched this particular xterm
[01:19:27] <greycat> and, quite possibly, how you launched the "script" and whether it was actually a script, or something different
[01:19:44] <ede> so to be safe i would have to check the environment of the parent process?
[01:20:06] <greycat> Invoke the script and/or the terminal in the way that gets you the result you want.  There is no "checking".  Just doing it right.
[01:20:25] <ede> per default i +x scripts to execute from the shell without any extras
[01:20:43] *** Joins: kj (~kj@kj.aerisnetwork.net)
[01:20:45] <greycat> are you doing "xterm -e myscript"?  are you doing "xterm" with no arguments, and then typing "myscript"?  are you doing "xterm" and then "source myscript"?
[01:20:58] <ede> hm, could it be this may happen when i . a script from the shell?
[01:21:13] <ede> heh never. always starting them manually in the prompt
[01:21:40] <greycat> if you used "." or "source" then it's not actually a script -- it's just your shell running some commands from a file, and exiting will terminate the interactive shell
[01:22:01] <ede> source would be nice if i'd want to close the shell when the script finishes i guess
[01:22:04] <greycat> you can use 'return' to terminate a dotted-in "script" without exiting the shell
[01:23:23] <ede> sounds like exit would be what i need. for the rest i think i should run a cross test later.
[01:23:41] <ede> is there a good name for a function called before exit?
[01:24:21] <geirha> cleanup
[01:24:51] <geirha> or maybe atexit
[01:25:05] <geirha> if you run it from an EXIT trap
[01:25:37] <ede> not yet, but i should at least catch ^C
[01:26:06] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Ping timeout: 255 seconds)
[01:27:00] *** Quits: timj (~timj@user/timj) (Ping timeout: 255 seconds)
[01:29:43] *** Quits: rtjure (~rtjure@bras-79-132-10-94.comnet.bg) (Quit: Leaving)
[01:31:11] <earnestly> That signal is full of fuck
[01:31:24] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Remote host closed the connection)
[01:31:24] <earnestly> If it's the least, then you've done the most
[01:33:45] <geirha> !sigint
[01:33:45] <greybot> How the shell handles ^C (SIGINT) and why: http://www.cons.org/cracauer/sigint.html
[01:34:02] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 244 seconds)
[01:34:08] <geirha> ^ read, weep, then be glad you picked bash instead of sh so you can simply use an EXIT trap to clean up
[01:34:18] <ede>  sometimes i have to abort youtube-dl, using a wrapper script which does some extra work. i really don't need a stack trace in such situations.
[01:34:27] *** Joins: lilalinux (~lilalinux@p549ee439.dip0.t-ipconnect.de)
[01:35:08] *** Joins: timj (~timj@user/timj)
[01:35:43] <ede> does the wiki also include some BCP? like i found out right now that while having an index in a url 0-padded is nice, but comparing it to a constant value does't work as expected xD
[01:35:50] <geirha> if youtube-dl runs in the foreground, and if it doesn't mishandle SIGINT in the ways explained in the above url, then you don't have to do anything special
[01:36:21] *** Quits: absc (~absc@dynamic-adsl-94-34-217-240.clienti.tiscali.it) (Remote host closed the connection)
[01:36:37] <ede> not sure if it would be better to intergerize it, then -eq or to string the integer and then = them
[01:37:13] <ede> i'll read it, the url looks unknown. have to rewrite everything anyway :)
[01:37:48] <geirha> !august
[01:37:48] <greybot> August is the month when all your scripts break because you placed $(date +%m) in a variable and tried to do arithmetic with it, without removing the leading zeros. 08 is considered octal. Use $((10#$month)) to force decimal, or strip the zero.
[01:37:50] <ede> it's all some dirty crap from years ago with changes just implemented while i found out new things or when something broke
[01:38:08] <ede> *nod*
[01:38:14] <geirha> use printf to add the zero-padding as the "last step"
[01:39:07] <ede> didn't see 10#$ mentioned since last year, totally forgot about it
[01:39:42] *** Quits: lilalinux (~lilalinux@p549ee439.dip0.t-ipconnect.de) (Ping timeout: 245 seconds)
[01:40:25] <earnestly> I still can't believe bash is the only shell to implement EXIT in the least malicious manner
[01:40:26] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:40:34] <earnestly> (Apparently ksh does it right too)
[01:41:52] *** Joins: kingsabali (~kingsabal@209.58.159.116)
[01:41:52] <earnestly> geirha: I reset EXIT in INT traps so that sh-as-bash doesn't run "cleanup" twice
[01:41:55] *** Quits: llua (~llua@zsh/developer/llua) (Quit: <Rudolph> shell code is what greycat reads to kids when he tucks them in)
[01:42:06] <geirha> eheh
[01:42:47] <geirha> it is a bit out of character. I get the impression Chet likes to do the least amount of coding to achieve some feature, but the way the EXIT trap behaves in bash can't be the simplest implementation
[01:43:19] <earnestly> Exactly why it was so surprising
[01:43:21] <geirha> though if ksh did it first, I'm sure that's the main reason
[01:43:24] <yitz> Shell features, to some extent, tend to reflect the interest/beliefs of their authors
[01:43:54] <earnestly> yitz: There's a kind of "minimal compliance" / "technically correct" approach in some
[01:44:15] <yitz> ... which is usually about mirroring POSIX mostly
[01:44:24] <yitz> Anything beyond that is extra
[01:44:33] <earnestly> But EXIT is special because I can't imagine how the standard could be interpreted as "run this code at the end of the script upon normal termination"
[01:44:37] <makara> i had that problem with sqlcmd. I just run the command in an ash shell
[01:44:53] <yitz> bash, from what I understand, is pretty heavily managed by Chet and doesn't have a lot of people adding features
[01:45:33] <earnestly> yitz: I.e. a difference between a standard that is vague about the details and a bunch of people implementing cat as rev
[01:45:34] *** Quits: n4dir (~user@88.130.152.209) (Remote host closed the connection)
[01:45:47] *** Quits: zebrag (~chris@user/zebrag) (Ping timeout: 268 seconds)
[01:46:35] <earnestly> # ksh -c "trap 'echo bye' EXIT; kill -INT 0"
[01:46:37] <shbot> earnestly: bye
[01:46:44] <earnestly> # dash -c "trap 'echo bye' EXIT; kill -INT 0"
[01:46:46] <shbot> earnestly: no output
[01:47:15] <earnestly> # hash zsh
[01:47:17] <shbot> earnestly: bash: hash: zsh: not found
[01:47:41] <earnestly> zsh behaves the same as dash
[01:48:34] <greycat> surprising
[01:51:29] *** Joins: useretail (~useretail@185.132.19.151)
[01:51:33] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 265 seconds)
[01:52:14] *** Quits: furrymcgee (~devuan@31.179.186.66) (Quit: leaving)
[01:52:46] *** Joins: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1)
[01:53:00] *** Quits: bodiccea (~bodiccea@user/bodiccea) (Remote host closed the connection)
[01:53:24] *** Joins: bodiccea (~bodiccea@user/bodiccea)
[01:55:04] *** Joins: llua (~llua@zsh/developer/llua)
[01:56:13] *** Quits: llua (~llua@zsh/developer/llua) (Client Quit)
[01:58:44] *** Joins: llua (~llua@zsh/developer/llua)
[01:59:56] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Read error: No route to host)
[02:00:40] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[02:00:41] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[02:01:55] *** Joins: Lunatrius` (~Lunatrius@77.38.22.128)
[02:03:41] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[02:04:17] *** Quits: Lunatrius (~Lunatrius@77.38.22.128) (Ping timeout: 268 seconds)
[02:06:27] *** Joins: wwallace (~afernande@63.240.73.102)
[02:06:35] *** Quits: llua (~llua@zsh/developer/llua) (Quit: <Rudolph> shell code is what greycat reads to kids when he tucks them in)
[02:06:55] *** Quits: wwallace (~afernande@63.240.73.102) (Changing host)
[02:06:55] *** Joins: wwallace (~afernande@user/wwilliam)
[02:06:55] *** wwallace is now known as wwilliam
[02:07:10] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.2)
[02:07:12] <ede> seems exit is going back one level only instead of finishing the whole script
[02:07:12] *** Quits: mac11 (~mac@172.58.142.184) (Ping timeout: 252 seconds)
[02:07:23] *** Quits: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1) (Quit: WeeChat 3.2)
[02:08:13] *** Joins: llua (~llua@zsh/developer/llua)
[02:09:57] *** Joins: Blackpajamas (~Blackpaja@24-246-42-203.cable.teksavvy.com)
[02:10:15] *** Joins: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1)
[02:11:36] *** Joins: curdlesnoot (~curdlesno@2a03:1b20:1:f410:40::a04d)
[02:11:48] <twkm> so there's a subshell somewhere.
[02:12:05] <ede> calling the exit function from inside a loop which is inside an endless loop (i can't name a general exit reason), the function shows the error text, then there's `exit` and it returns to the main loop
[02:12:15] *** Quits: Anthaas (~Anthaas@user/anthaas) (Quit: Client closed)
[02:12:20] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[02:12:28] <ede> so a funcition in a script creats a subshell?
[02:12:38] *** grettke is now known as grettke-away
[02:12:42] <twkm> # printf %s\\n a b | while read; do exit 1; done; echo hahah, still here
[02:12:44] <shbot> twkm: hahah, still here
[02:13:12] <twkm> in that example the pipe created a subshell
[02:13:27] <ede> nope, $$ is the same for the main loop and the function
[02:14:13] <ede> so exit is not the method to finish a script
[02:14:15] <twkm> # f() ( echo $$ ; exit ); echo $$; f; echo $$
[02:14:17] <shbot> twkm: 44
[02:14:17] <shbot> twkm: 44
[02:14:17] <shbot> twkm: 44
[02:14:54] <geirha> $$ specifically outputs the pid of the main shell, even in subshells. $BASHPID on the other hand will show a subshell's pid
[02:14:57] <twkm> it exits the shell.  if the shell is subordinate exit does not "bubble up".
[02:15:17] <geirha> s/outputs/expands to/
[02:15:48] <twkm> in that example f creates a subshell due to the use of ().
[02:16:59] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[02:18:32] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Quit: ZNC 1.8.2 - https://znc.in)
[02:19:16] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[02:20:24] *** Quits: Felden (~linux@163.172.130.42) (Ping timeout: 252 seconds)
[02:20:31] *** Joins: Felden (~linux@163.172.130.42)
[02:20:39] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[02:20:46] <ede> the question is still how i can finish the script without C-c
[02:21:03] <greycat> if you're dotting it in, use 'return' as I said before
[02:21:13] <greycat> if you're running it (not dotting it in), use 'exit'
[02:21:21] <ede> i check a value inside a loop, then i call a function in case with a message and there i want a clean exit point
[02:21:30] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[02:21:39] <geirha> then make sure the function does not run in a subshell
[02:21:44] <ede> as i said i run scripts like i run every program
[02:22:03] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[02:22:10] *** Joins: yuesbeez (uid458354@id-458354.tinside.irccloud.com)
[02:22:10] <emg> ede: show an example, you have a subshell somewhere, we can point it out
[02:22:25] <ede> i see no subshell there, i call it by name like in C and python and everywhere else
[02:22:50] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Client Quit)
[02:22:50] <geirha> var=$(myfunc); myfunc | ...; ... | myfunc; (myfunc); myfunc &   all of these run myfunc in a subshell. And that's not a complete list
[02:22:52] <greycat> in a pipe?  in a command substitution?
[02:23:11] <twkm> since you aren't sharing we might never know.  and since you are unsure you might never know.
[02:25:58] *** Quits: makara (~sol@196.61.111.63) (Ping timeout: 258 seconds)
[02:26:40] <geirha> # myfunc() { printf >&2 'Shell pid is %s and my pid is %s\n' "$$" "$BASHPID"; }; myfunc
[02:26:41] <shbot> geirha: Shell pid is 44 and my pid is 44
[02:26:47] <geirha> # myfunc() { printf >&2 'Shell pid is %s and my pid is %s\n' "$$" "$BASHPID"; }; var=$(myfunc)
[02:26:49] <shbot> geirha: Shell pid is 44 and my pid is 51
[02:29:06] <twkm> # var=$(echo stuff; exit; echo other stuff); echo -E hahaha, still here ($var)
[02:29:08] <shbot> twkm: bash: syntax error near unexpected token `('
[02:29:12] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[02:29:14] <twkm> damn
[02:29:20] <twkm> # var=$(echo stuff; exit; echo other stuff); echo -E "hahaha, still here ($var)"
[02:29:21] <shbot> twkm: hahaha, still here (stuff)
[02:37:39] *** Quits: arinov (~arinov@212.156.215.30) (Ping timeout: 276 seconds)
[02:39:02] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[02:40:34] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Ping timeout: 252 seconds)
[02:41:54] *** Quits: kingsabali (~kingsabal@209.58.159.116) (Ping timeout: 240 seconds)
[02:41:55] <ede> is the for loop like known in normal program languages less official or deprecated? again seen that `help for` does not even mention it
[02:42:41] <twkm> it is not posix, but it is official bash (and has been for years and years).
[02:43:52] <twkm> help is okay for simple reminders.  see the full documentation when you want complete answers.
[02:44:42] <ede> it doesn't even list the (()) syntax. not even talking about whole documentation.
[02:44:59] <twkm> fine, "help is shit, stop using it".
[02:45:06] <jetchisel> \0/
[02:45:18] *** Quits: travisghansen (~travisgha@192.74.130.86) (Read error: Connection reset by peer)
[02:45:42] <twkm>   for (( expr1 ; expr2 ; expr3 )) ; do list ; done
[02:45:45] <twkm>      First, the  arithmetic  expression  expr1  is  evaluated  according  to  the  rules
[02:45:49] <twkm> ...
[02:45:59] <llua> # help 'for ('
[02:46:09] <shbot> llua: for ((: for (( exp1; exp2; exp3 )); do COMMANDS; done
[02:46:09] <shbot> llua:     Arithmetic for loop.
[02:46:10] <shbot> llua: and so forth... (but now the pastebin is sick of me)
[02:46:36] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Remote host closed the connection)
[02:47:02] <llua> the argument is a pattern
[02:47:07] <llua> # help c
[02:47:13] <twkm> help should be a keyword with special parser handling since it needs to handle special things, though not everything has help because it isn't (it is a builtin function).
[02:47:16] <shbot> llua: caller: caller [expr]
[02:47:16] <shbot> llua:     Return the context of the current subroutine call.
[02:47:16] <shbot> llua: etc... ( http://ix.io/3tE2 )
[02:47:28] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[02:47:37] <llua> (see help help)
[02:47:52] *** Quits: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1) (Ping timeout: 256 seconds)
[02:48:36] <twkm> at least ''help read'' no longer gives help for read and readonly.
[02:48:52] <llua> help read* will tho
[02:49:17] <twkm> as it should, provided there's no file named helpyourself in the cwd.
[02:50:33] *** Joins: pikapika_lunar (~pikapika_@pika.powered.by.lunarbnc.net)
[02:50:42] <twkm> help should always provide read and readonly when asked for read, but as a function instead of a keyword it uses normal argument handling thus globs can expand.
[02:50:54] <twkm> err, when asked for read*, but ...
[02:51:53] <llua> i am aware
[02:52:32] <twkm> thankfully it could change and odds are nobody would notice, normally.
[02:53:35] *** Quits: tomboy64 (~tomboy64@user/tomboy64) (Ping timeout: 255 seconds)
[02:53:44] <twkm> haven't look at the ml in a while to see if it's even been discussed.
[02:53:47] *** Joins: Inline_ (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431)
[02:53:49] *** Joins: travisghansen (~travisgha@192.74.130.86)
[02:54:02] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Ping timeout: 255 seconds)
[02:55:50] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Ping timeout: 255 seconds)
[02:55:58] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Ping timeout: 252 seconds)
[02:56:17] *** Quits: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431) (Ping timeout: 255 seconds)
[02:57:50] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[02:58:40] *** Quits: redgloboli (~redglobol@user/redgloboli) (Read error: Connection reset by peer)
[02:58:50] *** Quits: moto (~moto@user/moto) (Ping timeout: 268 seconds)
[02:59:19] *** Joins: redgloboli (~redglobol@user/redgloboli)
[02:59:28] *** Joins: moto (~moto@user/moto)
[02:59:58] *** Quits: Blackpajamas (~Blackpaja@24-246-42-203.cable.teksavvy.com) (Quit: Blackpajamas)
[03:00:51] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 258 seconds)
[03:01:30] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 255 seconds)
[03:02:07] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[03:04:18] *** Quits: gmcastil_ (~gmcastil@50-206-38-118-static.hfc.comcastbusiness.net) (Ping timeout: 256 seconds)
[03:04:20] *** grettke-away is now known as grettke
[03:05:26] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[03:06:51] *** Quits: xx (~xx@user/xx) (Ping timeout: 268 seconds)
[03:06:53] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[03:07:49] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Remote host closed the connection)
[03:08:10] *** Joins: tomboy64 (~tomboy64@user/tomboy64)
[03:12:34] *** Quits: ionface_ (~ionface@user/ionface) (Ping timeout: 240 seconds)
[03:15:34] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[03:16:07] *** Joins: gmcastil_ (~gmcastil@50-206-38-118-static.hfc.comcastbusiness.net)
[03:16:15] *** Joins: zebrag (~chris@user/zebrag)
[03:16:22] *** Quits: karakedi (~eAC53C340@user/karakedi) (Read error: Connection reset by peer)
[03:16:50] *** Joins: Emil (emil@emil.fi)
[03:16:51] <Emil> Hey
[03:16:53] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[03:17:06] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 265 seconds)
[03:17:15] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[03:19:38] <Emil> I'm trying to dynamically create a steamcmd workshop download list, ie I have a file with workshop id numbers, ie {\d+\n)+ in a file, and I would like to create a single line like ./program +thing game workshopnum validate but with multiple +thing game workshopnum validate sections
[03:19:51] <Emil> how can I have everything expand to different arguments?
[03:20:14] <emg> can you show an example of the file and the example commands?
[03:20:17] <Emil> sure
[03:20:26] <Emil> list="$(grep -sIivP '^\s*#|^\s*$' | sed -E 's/^/\+workshop_download_item 107410 /g;s/$/ validate/g;' | tr '\n' ' ')"
[03:20:37] <Emil> this is the command I have come up with to generate the lines
[03:20:50] <Emil> https://emil.fi/d/arma3stuff/workshopitems.txt
[03:20:53] <Emil> here's the file
[03:21:33] <Emil> Traditionally this is what a single invocation would look like
[03:22:04] <Emil> ./steamcmd.sh +login "${username}" +force_install_dir "${directory}" +workshop_download_item 107410 "${mod}" validate +quit
[03:22:48] <emg> ok, let me start from the beginning and see if I understand based on that example
[03:23:01] <Emil> but I would like to avoid having to login each time for every workshop item
[03:23:08] <Emil> ie only do one single invocation of ./steamcmd
[03:23:11] <Emil> emg: sure, thank you
[03:23:18] <emg> 1) from the original file, you want to grab every line that's purely a number
[03:23:23] <Emil> yes
[03:23:30] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[03:23:39] *** Joins: MenschZwoNull (~MenschZwo@p200300c8571f8c00c03c195038af8ceb.dip0.t-ipconnect.de)
[03:23:44] <emg> 2) for each number, add     +workshop_download_item 107410 "$num"   to build the arguments for the steamcmd.sh
[03:23:59] <Emil> (and yes it's much simpler to grep -P '^\d+$' haha)
[03:24:03] <Emil> yes
[03:25:09] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[03:25:17] *** Joins: ionface (~ionface@user/ionface)
[03:25:34] *** grettke is now known as grettke-away
[03:25:52] <Emil> I suppose the way to phrase this is "how to correctly expand the arguments"
[03:26:02] <emg> while IFS= read -r num; do args+=(+workshop_download_item 107410 "$num"); done < <(grep -Ex '[[:digit:]]+' workshoptimes.txt)
[03:26:09] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Ping timeout: 244 seconds)
[03:26:33] <emg> ./steamcmd.sh +login "$username" +force_install_dir "$directory" "${args[@]}" validate +quit
[03:26:51] <emg> oh, hmm, looking at the example you want validate for every one, so in the args+= part make sure to put all the arguments you want for each one
[03:26:59] <emg> and remove the validate from the final command
[03:27:32] <Emil> hmm
[03:27:35] <Emil> a question though
[03:27:39] <emg> 1. grep -Ex '[[:digit:]]+' workshopitems.txt       (assuming file name)    prints all the number only lines. grep -E for extended regular expression, -x for match whole line
[03:27:41] <emg> sure go
[03:27:47] <Emil> doesn't "stuff" make that a single string?
[03:28:01] <Emil> ie steamcmd would see a single long string as arguments
[03:28:05] <emg> nope
[03:28:07] <emg> !array
[03:28:07] <greybot> An array maps numbers to strings. Bash 4 also has associative arrays (maps strings to strings). http://mywiki.wooledge.org/BashSheet#Arrays http://mywiki.wooledge.org/BashFAQ/005 http://wiki.bash-hackers.org/syntax/arrays
[03:28:26] <emg> "${array[@]}" expands to every element of the array as a separate word
[03:28:34] <emg> just like "$@" for script/function arguments
[03:28:36] <emg> !$@
[03:28:37] <greybot> The difference between $@ and $*: "$@" (quoted) expands to each positional parameter as its own argument: "$1" "$2" ... while "$*" expands to the single argument "$1c$2c..." where c is the first character of IFS. You almost always want "$@". The same goes for arrays: "${array[@]}" or "${array[*]}". Unquoted $* and $@ are undefined; DO NOT use.
[03:29:04] <emg> that's why arrays are great and work better than strings for this stuff
[03:29:24] <emg> even if an element had e.g. a space in it, it would still work, whereas an unquoted string would not
[03:29:37] <Emil> awesome
[03:29:39] <Emil> thank you!
[03:29:53] <emg> you're welcome, feel free to ask questions
[03:31:24] *** Quits: jsrnop (~mark@user/jsrnop) (Quit: The Lounge - https://thelounge.chat)
[03:31:45] *** Joins: jsrnop (~mark@user/jsrnop)
[03:36:20] *** Quits: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5) (Read error: Connection reset by peer)
[03:36:20] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Remote host closed the connection)
[03:36:41] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[03:37:03] *** Quits: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com) (Quit: Ping timeout (120 seconds))
[03:37:08] *** Quits: w1kl4s (~w1kl4s@user/w1kl4s) (Quit: Ping timeout (120 seconds))
[03:37:08] *** Quits: Noventicx (~Noventicx@crux.uberspace.de) (Quit: Ping timeout (120 seconds))
[03:37:22] *** Joins: michigan (uid507982@id-507982.charlton.irccloud.com)
[03:37:29] *** Joins: Noventicx (~Noventicx@crux.uberspace.de)
[03:37:30] *** Joins: w1kl4s (~w1kl4s@user/w1kl4s)
[03:37:30] *** Joins: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com)
[03:38:03] *** Quits: simoneb (~simone@user/simoneb) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[03:38:09] *** Quits: Spydar007 (~spydar007@user/spydar007) (Quit: Quit)
[03:38:12] *** Joins: simoneb (~simone@static.39.20.203.116.clients.your-server.de)
[03:39:54] *** Quits: darkxploit (~jay@32.209.19.50) (Quit: darkxploit)
[03:40:09] *** Joins: Spydar007 (~spydar007@user/spydar007)
[03:40:14] *** Joins: Str1x (~d14@2407:7000:89f0:de00:b387:d74e:7f62:7886)
[03:42:38] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Ping timeout: 258 seconds)
[03:44:17] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[03:46:15] *** Joins: Atque (~Atque@user/atque)
[03:50:44] *** Quits: oprypin_ (~irc@pryp.in) (Ping timeout: 255 seconds)
[03:52:10] *** Joins: oprypin (~irc@pryp.in)
[03:57:09] *** Quits: skylite (~skylite@2E6B2CD6.catv.pool.telekom.hu) (Quit: bye...)
[03:57:24] *** Joins: skylite (~skylite@2E6B2CD6.unconfigured.pool.telekom.hu)
[03:58:35] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[03:59:48] *** milkt is now known as milkt_
[04:00:06] *** milkt_ is now known as milkt_____
[04:00:25] *** milkt_____ is now known as malkt
[04:00:47] *** malkt is now known as milkt
[04:01:02] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[04:02:28] *** Joins: thiras (~thiras@user/thiras)
[04:05:43] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[04:07:24] *** Quits: zouhair (~zouhair@lnsm1-montreal02-142-118-47-137.internet.virginmobile.ca) (Quit: KVIrc 5.0.1 Aria http://www.kvirc.net/)
[04:07:27] *** Joins: maledictium (~crux@bl10-83-37.dsl.telepac.pt)
[04:09:32] <Emil> emg: how would I modify the script to read from stdin?
[04:10:05] *** Quits: ionface (~ionface@user/ionface) (Ping timeout: 255 seconds)
[04:10:27] *** Joins: ionface (~ionface@user/ionface)
[04:10:36] <emg> Emil: get rid of the filename for grep so that it reads from stdin
[04:12:05] *** Quits: pikapika_lunar (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[04:12:19] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[04:13:35] *** Quits: chomwitt (~chomwitt@ppp-94-67-220-135.home.otenet.gr) (Remote host closed the connection)
[04:15:02] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:36] *** Quits: llua (~llua@zsh/developer/llua) (Quit: <Rudolph> shell code is what greycat reads to kids when he tucks them in)
[04:15:40] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:17:26] *** Joins: llua (~llua@zsh/developer/llua)
[04:18:08] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[04:19:00] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[04:19:43] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Remote host closed the connection)
[04:19:57] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[04:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:23:27] *** Quits: curdlesnoot (~curdlesno@2a03:1b20:1:f410:40::a04d) (Ping timeout: 245 seconds)
[04:23:47] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Client Quit)
[04:23:59] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[04:25:23] *** Quits: mrkajetanp_ (~mrkajetan@2a01:4b00:ea36:6c00:7994:941c:3f5d:2b88) (Ping timeout: 255 seconds)
[04:25:34] *** Quits: xayto_ (~xayto@cpc69388-oxfd28-2-0-cust366.4-3.cable.virginm.net) (Ping timeout: 258 seconds)
[04:25:42] *** Joins: mrkajetanp (~mrkajetan@2a01:4b00:ea36:6c00:7994:941c:3f5d:2b88)
[04:27:30] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Client Quit)
[04:27:52] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[04:29:51] *** Joins: xayto (~xayto@cpc69388-oxfd28-2-0-cust366.4-3.cable.virginm.net)
[04:30:01] *** Quits: bertptrs (~quassel@user/bertptrs) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[04:30:34] *** Joins: bertptrs (~quassel@user/bertptrs)
[04:33:56] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 255 seconds)
[04:35:32] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 258 seconds)
[04:36:09] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:38:56] *** Parts: DesCaFeinado (~CaFeINA@2001:8a0:ddef:9e00:7268:b2cd:75c7:bd9c) ()
[04:39:00] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[04:40:03] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Quit: ZNC 1.8.2 - https://znc.in)
[04:40:19] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[04:47:36] *** Quits: Buliarous (~gypsydang@185.207.166.55) (Remote host closed the connection)
[04:48:56] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 268 seconds)
[04:49:15] *** Quits: Str1x (~d14@2407:7000:89f0:de00:b387:d74e:7f62:7886) (Remote host closed the connection)
[04:49:39] *** Joins: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5)
[04:55:38] *** Quits: Murray7501 (~Murray@89.109-247-180.customer.lyse.net) (Quit: leaving)
[04:56:14] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Ping timeout: 252 seconds)
[04:56:51] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[04:57:10] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:57:20] *** Quits: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5) (Ping timeout: 255 seconds)
[05:00:46] *** Joins: mac11 (~mac@172.58.139.201)
[05:01:28] *** Joins: thebombzen (~thebombze@71.73.92.220)
[05:03:29] *** Quits: hposca (~hposca@node-1w7jr9phoke2u784enbks8vht.ipv6.telus.net) (Ping timeout: 252 seconds)
[05:04:49] *** Joins: zouhair (~zouhair@lnsm1-montreal02-142-118-47-137.internet.virginmobile.ca)
[05:05:38] *** grettke-away is now known as grettke
[05:06:20] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[05:06:22] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[05:07:01] *** Joins: Murray7501 (~Murray@89.109-247-180.customer.lyse.net)
[05:08:58] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[05:10:34] *** Joins: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5)
[05:10:57] *** Quits: jsrnop (~mark@user/jsrnop) (Quit: The Lounge - https://thelounge.chat)
[05:11:14] *** Joins: jsrnop (~mark@user/jsrnop)
[05:11:53] *** Joins: seninha (~seninha@user/seninha)
[05:13:06] *** Quits: mac11 (~mac@172.58.139.201) (Read error: Connection reset by peer)
[05:13:27] *** Joins: mac11 (~mac@159.48.55.102)
[05:14:18] *** Joins: light50_ (~light500@47-72-134-55.dsl.dyn.ihug.co.nz)
[05:16:49] *** grettke is now known as grettke-away
[05:18:10] *** Joins: Blackpajamas (~Blackpaja@24-246-42-203.cable.teksavvy.com)
[05:18:29] *** Quits: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5) (Ping timeout: 255 seconds)
[05:19:10] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 256 seconds)
[05:19:44] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[05:19:47] *** grettke-away is now known as grettke
[05:22:57] *** Joins: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz)
[05:24:54] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3-dev)
[05:27:04] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[05:29:20] *** Quits: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz) (Ping timeout: 252 seconds)
[05:30:26] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:31:35] *** grettke is now known as grettke-away
[05:34:13] *** Joins: vlm (~vlm@user/vlm)
[05:34:21] *** Joins: Jenmin (~Jenmin@183.199.203.161)
[05:34:37] *** Joins: scpxor (~scpxor@gateway/tor-sasl/scpxor)
[05:42:37] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 258 seconds)
[05:43:30] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[05:44:28] *** Quits: Blackpajamas (~Blackpaja@24-246-42-203.cable.teksavvy.com) (Quit: Blackpajamas)
[05:45:49] <mcint> # echo test
[05:45:51] <shbot> mcint: test
[05:46:20] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[05:47:39] *** Quits: ackyshake (~ackyshake@user/ackyshake) (Quit: Soupy Twist!)
[05:48:54] *** Quits: Jenmin (~Jenmin@183.199.203.161) (Ping timeout: 255 seconds)
[05:50:42] *** Joins: Jenmin (~Jenmin@183.199.203.161)
[05:52:43] *** Joins: ferdna (~ferdna@user/ferdna)
[05:57:10] *** Joins: downunder (~downunder@110.151.122.76)
[05:57:10] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[05:58:25] *** Joins: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5)
[05:58:29] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[06:00:05] *** Quits: bidouille (~user_name@trois.potager.org) (Quit: Lost terminal)
[06:05:25] *** Quits: downunder (~downunder@110.151.122.76) (Quit: WeeChat 3.2)
[06:07:52] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[06:09:28] *** Joins: jetchisel (jetchisel@user/jetchisel)
[06:10:02] *** grettke-away is now known as grettke
[06:10:03] *** Quits: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5) (Ping timeout: 255 seconds)
[06:14:14] *** Joins: mcint1 (mcint@pox.ocf.berkeley.edu)
[06:15:12] *** Joins: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5)
[06:15:49] *** mcint is now known as mcint2
[06:18:03] *** Quits: mcint1 (mcint@pox.ocf.berkeley.edu) (Client Quit)
[06:20:54] *** Joins: mcint (mcint@user/mcint)
[06:24:11] *** Quits: malina (~malina@user/malina) (Ping timeout: 268 seconds)
[06:24:28] *** Quits: mcint2 (~mcint@user/mcint) (Quit: WeeChat 2.3)
[06:26:38] *** Joins: michigan (uid507982@id-507982.charlton.irccloud.com)
[06:26:42] *** Quits: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5) (Ping timeout: 255 seconds)
[06:27:02] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[06:27:16] *** Joins: Codaraxis_ (~Codaraxis@ip68-5-90-227.oc.oc.cox.net)
[06:29:43] *** Quits: samsmith (~samsmith@adhafera.ssmith.co.uk) (Quit: The Lounge - https://thelounge.chat)
[06:30:34] *** Quits: Codaraxis (~Codaraxis@user/codaraxis) (Ping timeout: 240 seconds)
[06:31:33] *** Quits: sublim20 (~sublim20@user/sublim20) (Remote host closed the connection)
[06:31:48] *** Joins: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5)
[06:31:50] *** Joins: sublim20 (~sublim20@user/sublim20)
[06:32:23] *** Joins: samsmith (~samsmith@adhafera.ssmith.co.uk)
[06:34:45] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 258 seconds)
[06:38:26] *** Quits: howdoi (uid224@id-224.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[06:38:41] *** Joins: zhangxiaofei (~fzhan@111.203.234.210)
[06:38:41] *** grettke is now known as grettke-away
[06:40:38] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[06:41:06] *** Quits: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5) (Ping timeout: 255 seconds)
[06:41:16] *** Joins: darkxploit (~jay@32.209.19.50)
[06:45:00] *** Joins: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz)
[06:45:08] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[06:46:40] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 246 seconds)
[06:46:40] *** Lord_of_Life_ is now known as Lord_of_Life
[06:47:20] *** Quits: mac11 (~mac@159.48.55.102) (Ping timeout: 252 seconds)
[06:48:27] *** Joins: jos2 (~jos3@dyndsl-178-142-065-033.ewe-ip-backbone.de)
[06:52:05] *** Quits: jos1 (~jos3@host-091-097-191-145.ewe-ip-backbone.de) (Ping timeout: 255 seconds)
[06:52:12] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 245 seconds)
[06:55:27] *** Quits: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz) (Ping timeout: 258 seconds)
[06:58:06] *** Joins: hposca (~hposca@node-1w7jr9phoke2tgwo5dsrqdhce.ipv6.telus.net)
[06:59:39] *** Joins: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz)
[07:00:03] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[07:01:44] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[07:03:59] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 268 seconds)
[07:07:00] *** Joins: w0ng (~w0ng@103.1.212.140)
[07:08:07] *** Joins: sudomann_ (~sudomann@68.235.43.86)
[07:10:03] *** grettke-away is now known as grettke
[07:17:44] *** Joins: loganlee (~Thunderbi@user/loganlee)
[07:17:46] *** Quits: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com) (Remote host closed the connection)
[07:20:52] *** Joins: LiftLeft (~LiftLeft@154.16.192.8)
[07:22:04] *** Joins: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com)
[07:22:24] *** Joins: Atque (~Atque@user/atque)
[07:22:41] *** Quits: skapata (~Skapata@user/skapata) (Read error: Connection reset by peer)
[07:23:38] *** grettke is now known as grettke-away
[07:28:54] *** grettke-away is now known as grettke
[07:30:43] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:30:50] *** Joins: yogoyo (~patrick@user/yogoyo)
[07:30:55] *** Joins: Elliria (~littlegir@cpe-66-24-84-219.stny.res.rr.com)
[07:33:32] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 252 seconds)
[07:39:25] *** Joins: akoana (~ah@user/akoana)
[07:40:01] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.2)
[07:40:17] *** Joins: Codaraxis__ (~Codaraxis@141.98.255.143)
[07:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:41:24] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[07:41:51] *** Quits: sudomann_ (~sudomann@68.235.43.86) (Ping timeout: 255 seconds)
[07:42:05] *** Parts: emanuele6 (~emanuele6@user/emanuele6) (WeeChat 3.2)
[07:43:26] *** Quits: zhangxiaofei (~fzhan@111.203.234.210) (Ping timeout: 252 seconds)
[07:43:28] *** Joins: sudomann (~sudomann@c-73-133-131-19.hsd1.md.comcast.net)
[07:43:53] *** Quits: Elliria (~littlegir@cpe-66-24-84-219.stny.res.rr.com) (Quit: *POOF*)
[07:44:06] *** Quits: Codaraxis_ (~Codaraxis@ip68-5-90-227.oc.oc.cox.net) (Ping timeout: 255 seconds)
[07:45:47] *** Quits: yuesbeez (uid458354@id-458354.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[07:50:35] *** Joins: Buliarous (~gypsydang@185.207.166.57)
[07:54:57] *** grettke is now known as grettke-away
[07:58:43] *** Joins: zhangxiaofei (~fzhan@111.203.234.210)
[08:02:04] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[08:04:41] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 265 seconds)
[08:05:50] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[08:08:57] *** Joins: sudomann_ (~sudomann@68.235.43.86)
[08:09:58] *** Quits: skered (~dereks@user/skered) (Ping timeout: 246 seconds)
[08:11:53] *** Quits: darkxploit (~jay@32.209.19.50) (Quit: darkxploit)
[08:12:27] *** Quits: sudomann (~sudomann@c-73-133-131-19.hsd1.md.comcast.net) (Ping timeout: 255 seconds)
[08:13:30] *** Quits: sudomann_ (~sudomann@68.235.43.86) (Ping timeout: 252 seconds)
[08:13:54] *** Joins: sudomann (~sudomann@89.45.224.109)
[08:21:03] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[08:25:56] *** Quits: scpxor (~scpxor@gateway/tor-sasl/scpxor) (Remote host closed the connection)
[08:28:08] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[08:36:40] <loganlee> https://www.jdoodle.com/ia/fm6          hello if i pass as command line argument --play-around the output says --play-around: command not found. why does it say command not found? thx!
[08:37:17] <yitz> loganlee: line 3 attempts to execute $1
[08:38:35] <loganlee> yitz: if i prepend : no error message. what does : do?
[08:38:42] <llua> nothing
[08:38:48] <yitz> !: > loganlee 
[08:38:48] <greybot> loganlee: : is a builtin identical to the 'true' builtin; they do nothing and have an exit status of 0
[08:40:11] <loganlee> what does `true ${1?"Usage: $0 ARGUMENT"}` do?
[08:40:23] *** grettke-away is now known as grettke
[08:40:37] <loganlee> manpage says true [ignored command line arguments]
[08:40:49] <e36freak> !pe
[08:40:50] <greybot> Parameter Expansion expands parameters: "$foo", "$1". You can use it to perform string or array operations: "${file%.mp3}", "${0##*/}", "${files[@]: -4}". They should *always* be quoted. See: http://mywiki.wooledge.org/BashFAQ/073 and "Parameter Expansion" in man bash. Also see http://wiki.bash-hackers.org/syntax/pe.
[08:41:20] <e36freak> it's a way to get the parameter expansion to happen without anything else going on
[08:41:31] <loganlee> true - do nothing, successfully
[08:42:06] <loganlee> thx!
[08:44:00] <loganlee> what is the use of ${USER?} ? because it is missing error message part
[08:45:00] <loganlee> like ${USER?"user is not defined"}
[08:45:19] <e36freak> still makes it exit non-0
[08:45:45] <loganlee> ok
[08:46:14] <loganlee> :)
[08:48:20] *** Joins: v8789 (v8789@user/blobberdene)
[08:52:02] *** Joins: ibx2496 (~ibx2496@92.60.40.247)
[08:53:03] *** grettke is now known as grettke-away
[08:56:32] *** Joins: totenkoph (~scythe@user/totenkoph)
[08:58:59] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Read error: Connection reset by peer)
[09:04:04] *** Joins: gline (~yashi@p508bed46.dip0.t-ipconnect.de)
[09:06:53] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[09:07:24] *** Quits: gline_ (~yashi@p508beeab.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[09:09:39] *** Joins: vishal (~vishal@fedora/vishal)
[09:13:19] *** Quits: cmc (~methos@gateway/tor-sasl/cmc) (Remote host closed the connection)
[09:13:44] *** Joins: cmc (~methos@gateway/tor-sasl/cmc)
[09:16:11] *** Joins: andydude (~arobbins@50.111.25.45)
[09:16:29] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 252 seconds)
[09:18:02] <loganlee> what's the difference between ${#@} or ${#*} and $#?
[09:21:34] *** grettke-away is now known as grettke
[09:22:45] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[09:24:12] *** Joins: timj1 (~timj@user/timj)
[09:24:47] *** Parts: PinealGlandOptic (~PinealGla@37.115.210.35) ()
[09:25:49] *** Quits: Jenmin (~Jenmin@183.199.203.161) (Ping timeout: 250 seconds)
[09:25:53] *** Quits: timj (~timj@user/timj) (Ping timeout: 265 seconds)
[09:30:02] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:30:06] *** Joins: downunder (~downunder@110.151.122.76)
[09:30:31] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:32:04] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:32:04] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[09:32:31] *** Joins: totenkoph (~scythe@user/totenkoph)
[09:33:30] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[09:34:21] *** Quits: LiftLeft (~LiftLeft@154.16.192.8) (Ping timeout: 255 seconds)
[09:35:30] *** Quits: catern (~sbaugh@2604:2000:8fc0:b:a9c7:866a:bf36:3407) (Ping timeout: 240 seconds)
[09:36:50] *** Quits: austin987 (~null@100.42.98.196) (Ping timeout: 258 seconds)
[09:36:51] *** Joins: kingsabali (~kingsabal@102.89.2.196)
[09:37:11] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[09:37:21] *** Joins: gnoo (~gnoo@user/gnoo)
[09:39:30] <loganlee> jdoodle.com/ia/fmd            how come ${1##0} only removes one zero? thx! can i remove all zeros without turning on extended globbing?
[09:40:20] *** Quits: Inline_ (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431) (Quit: Leaving)
[09:40:21] <loganlee> sorry https://www.jdoodle.com/ia/fmd
[09:43:31] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:43:38] *** Joins: chrish136 (~chrish@149.167.205.148)
[09:44:08] *** Joins: karakedi (~eAC53C340@user/karakedi)
[09:47:58] <loganlee> i've fixed it by ${1##*0} thx!
[09:48:33] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[09:48:43] *** Quits: light50_ (~light500@47-72-134-55.dsl.dyn.ihug.co.nz) (Ping timeout: 258 seconds)
[09:50:00] *** Joins: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com)
[09:52:10] *** Joins: michigan (uid507982@id-507982.charlton.irccloud.com)
[09:54:58] *** Quits: andydude (~arobbins@50.111.25.45) (Quit: andydude)
[09:58:23] *** Quits: gmcastil_ (~gmcastil@50-206-38-118-static.hfc.comcastbusiness.net) (Ping timeout: 255 seconds)
[10:01:24] *** Joins: LiftLeft (~LiftLeft@37.19.198.130)
[10:03:53] *** Quits: Strykar (~wakka@signald/Strykar) (Quit: Leaving.)
[10:06:00] *** Joins: Strykar (~wakka@signald/Strykar)
[10:08:34] *** Joins: jaggz (~jaggz@user/jaggz)
[10:09:16] <jaggz> Wrong channel
[10:09:17] *** Parts: jaggz (~jaggz@user/jaggz) (Leaving)
[10:09:31] <llua> nou
[10:12:09] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[10:13:43] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Quit: Konversation terminated!)
[10:16:50] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 255 seconds)
[10:17:29] <pj> set -- 12340123; echo "${1##*0}"
[10:17:34] <pj> # set -- 12340123; echo "${1##*0}"
[10:17:36] <shbot> pj: 123
[10:17:48] <pj> doesn't look all that "fixed" to me.
[10:20:46] <loganlee> # set -- 000abc; echo ${1##*0}
[10:20:48] <shbot> loganlee: abc
[10:21:12] <loganlee> ;)
[10:21:52] <pj> # set -- 000abc0def0ghi; echo ${1##*0}
[10:21:53] <shbot> pj: ghi
[10:22:22] <pj> if you want to really remove just leading 0s then you have to use an extglob
[10:22:26] *** Quits: travisghansen (~travisgha@192.74.130.86) (Ping timeout: 265 seconds)
[10:22:43] <loganlee> ok thanks!
[10:23:16] <pj> # set -s extglob; set -- 000abc0def0ghi; echo "${1##*(0)}"
[10:23:18] <shbot> pj: bash: set: -s: invalid option
[10:23:18] <shbot> pj: set: usage: set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]
[10:23:18] <shbot> pj: abc0def0ghi
[10:23:30] <pj> bleh
[10:23:34] <pj> # shopt -s extglob; set -- 000abc0def0ghi; echo "${1##*(0)}"
[10:23:36] <shbot> pj: abc0def0ghi
[10:25:27] <loganlee> :)
[10:26:03] *** Joins: skered (~dereks@user/skered)
[10:26:14] <pj> or if you want to remove *all* zeros, then you don't actually need extglob...
[10:26:45] <pj> # set -- 000abc0def0ghi; echo "${1//0/}"
[10:26:46] <shbot> pj: abcdefghi
[10:26:52] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[10:27:20] <loganlee> yep
[10:30:41] *** Joins: chasmo77 (~chas77@71.63.241.168)
[10:32:10] *** Quits: winstonsmith (~winstonsm@109.201.152.175) (Remote host closed the connection)
[10:32:26] *** Joins: winstonsmith (~winstonsm@77.247.181.218)
[10:36:27] *** Quits: kingsabali (~kingsabal@102.89.2.196) (Ping timeout: 265 seconds)
[10:37:04] *** Joins: kingsabali (~kingsabal@172.241.224.20)
[10:40:30] *** Joins: makara (~sol@196.61.111.63)
[10:42:13] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[10:42:17] *** Quits: zhangxiaofei (~fzhan@111.203.234.210) (Quit: Leaving.)
[10:46:18] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[10:54:37] *** Joins: Starmina_ (~Starmina@194.110.113.89)
[10:55:48] *** Quits: Starmina (~Starmina@194.110.113.89) (Ping timeout: 258 seconds)
[10:55:48] *** Starmina_ is now known as Starmina
[10:56:41] *** Quits: chrish136 (~chrish@149.167.205.148) (Quit: WeeChat 3.0.1)
[10:58:53] *** Joins: rendar (~rendar@user/rendar)
[10:59:51] *** Quits: Thoatt (~thoatt@user/thoatt) (Ping timeout: 255 seconds)
[11:05:21] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[11:06:24] *** Quits: kingsabali (~kingsabal@172.241.224.20) (Remote host closed the connection)
[11:16:15] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[11:18:23] *** Quits: Gamma (~Gamma@zsh/user/Gamma) (Ping timeout: 244 seconds)
[11:18:46] *** Joins: Gamma (~Gamma@zsh/user/Gamma)
[11:20:32] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 245 seconds)
[11:21:48] *** Quits: sixwheeledbeast (~zem@user/sixwheeledbeast) (Quit: Let's beat it - This is turning into a bloodbath! [http://znc.in])
[11:22:51] *** Joins: sixwheeledbeast (~zem@user/sixwheeledbeast)
[11:27:04] *** Quits: sudomann (~sudomann@89.45.224.109) (Quit: Lost terminal)
[11:27:37] *** Quits: LiftLeft (~LiftLeft@37.19.198.130) (Ping timeout: 258 seconds)
[11:32:36] *** Quits: richardm75 (~richardm7@2600:8801:c502:c800:fc7d:2e16:fa7d:3900) (Ping timeout: 256 seconds)
[11:34:45] *** Quits: deltab (~deltab@95.154.230.49) (Changing host)
[11:34:45] *** Joins: deltab (~deltab@user/deltab)
[11:35:22] *** Joins: catern (~sbaugh@2604:2000:8fc0:b:a9c7:866a:bf36:3407)
[11:36:23] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Read error: Connection reset by peer)
[11:36:50] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[11:37:30] *** Quits: v8789 (v8789@user/blobberdene) (Quit: Quit)
[11:43:36] *** Joins: fivegruel (~fivegruel@HSI-KBW-095-208-248-118.hsi5.kabel-badenwuerttemberg.de)
[11:46:22] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[11:47:01] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[11:48:34] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Read error: Connection reset by peer)
[11:49:03] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[11:50:28] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Read error: Connection reset by peer)
[11:51:29] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[11:54:15] *** Joins: arinov (~arinov@213.194.126.155)
[11:54:29] *** Quits: ELFrederich (~ELFrederi@134.244.29.70) (Remote host closed the connection)
[11:55:27] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Remote host closed the connection)
[11:56:48] *** Joins: ELFrederich (~ELFrederi@134.244.29.70)
[11:58:21] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[12:01:51] *** Quits: Atque (~Atque@user/atque) (Read error: Connection reset by peer)
[12:01:57] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 255 seconds)
[12:03:00] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[12:03:11] *** Joins: MysteriousSilver (silver@user/mysterioussilver)
[12:03:45] <MysteriousSilver> how do i randomize the entries of `ls ./*`?
[12:03:53] <MysteriousSilver> (in a shell script)
[12:04:20] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[12:05:18] <xiaomiao> MysteriousSilver:  | sort -R
[12:06:11] <MysteriousSilver> thanks
[12:06:32] <Soliton> !ls
[12:06:32] <greybot> DO NOT USE ls' output for anything. ls is a tool for interactively looking at directory metadata. Any attempts at parsing ls' output with code are broken. Globs are much more simple AND correct: ''for file in *.txt''. Read http://mywiki.wooledge.org/ParsingLs
[12:07:08] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[12:07:26] <MysteriousSilver> ah okay
[12:08:44] <geirha> !faq shuffle
[12:08:44] <greybot> https://mywiki.wooledge.org/BashFAQ/026 -- How can I randomize (shuffle) the order of lines in a file?  Or select a random line from a file, or select a random file from a directory?
[12:09:22] <MysteriousSilver> thanks
[12:10:20] <geirha> if you have the GNU shuf command, then mapfile -d '' files < <(shuf -z -e ./*)
[12:13:07] *** Quits: Betal (~Beta@user/betal) (Quit: WeeChat 3.2)
[12:13:30] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[12:17:00] *** Joins: guest734 (~guest@181.91.159.27)
[12:17:35] <osse> GNU ls could do with a --sort=random
[12:17:58] *** Quits: blaisebool (~blaiseboo@static.247.123.46.78.clients.your-server.de) (Quit: ZNC - https://znc.in)
[12:18:41] *** Joins: blaisebool (~blaiseboo@static.247.123.46.78.clients.your-server.de)
[12:21:17] *** Joins: acresearch (~acresearc@user/acresearch)
[12:21:18] *** Quits: mat001_ (~mat001@c-73-223-64-126.hsd1.ca.comcast.net) (Ping timeout: 255 seconds)
[12:23:16] <jetchisel> # ls --sort=random
[12:23:20] <shbot> jetchisel: /bin/ls: invalid argument 'random' for '--sort'
[12:23:20] <shbot> jetchisel: Valid arguments are:
[12:23:20] <shbot> jetchisel: etc... ( http://ix.io/3tFP )
[12:23:34] <jetchisel> \0/
[12:24:22] *** Joins: alterjsive (~jeroen@kb-client-062.kb.nl)
[12:24:44] *** Quits: dre (~dre@2001:8003:c932:c301:482c:1f78:f040:9036) (Ping timeout: 256 seconds)
[12:25:10] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[12:25:11] *** Joins: zhangxiaofei (~fzhan@111.203.234.210)
[12:31:16] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 252 seconds)
[12:37:59] *** Joins: bidouille (~user_name@trois.potager.org)
[12:40:23] <acresearch> people, i have this awk command that i do not understand what is doing so i cannot change it,    | awk -v name="$n" '$1 == "1" {print name "\t" $0;exit}'     it is being piped from a binary that produces a terminal output and this command is choosing a line that starts with 1,,, can someone help me undertsand what it is doing so I can change it?
[12:40:58] *** Quits: guest734 (~guest@181.91.159.27) (Remote host closed the connection)
[12:42:40] <Soliton> if the first field is 1 then print the line prepended with name and a tab.
[12:42:46] *** Joins: earnestly (~earnest@user/earnestly)
[12:43:01] <Soliton> and exit so it won't print potentially more lines.
[12:44:05] *** Joins: frostwork (~frostwork@user/frostwork)
[12:45:44] <acresearch> Soliton: hmmmm   ok let me try
[12:47:00] <Soliton> # printf '1 %s\n' foo bar baz | awk -v name="name" '$1 == "1" {print name "\t" $0;exit}'
[12:47:02] <shbot> Soliton: name    1 foo
[12:49:26] *** Joins: shad (~shad@user/shad)
[12:51:08] <acresearch> Soliton: it is not working with me, let me paste you the whole command, it is large
[12:52:32] *** Joins: lavaball (felix@31.204.155.215)
[12:54:48] *** Joins: mikeliuk (~mikeliuk@213.205.198.158)
[12:54:54] <acresearch> Soliton: https://paste.debian.net/1205216/
[12:55:13] <acresearch> Soliton: ok so i am trying to modify the command to include an additional line, the line with the random seed
[12:56:34] <ede> "ls is a tool for interactively looking at directory metadata" - there's really a tool missing which would output unique file identifiers selected and sorted in a way ls is able to do
[12:57:25] <ede> !uuoc
[12:57:25] <greybot> Useless Use Of Cat (cat foo | grep bar). See https://mywiki.wooledge.org/BashFAQ/119 and http://www.iki.fi/era/unix/award.html#cat
[12:58:05] <Soliton> acresearch: awk -v name="$n" '/random seed/{print} $1 == "1" {print name "\t" $0;exit}'
[12:58:35] <ede> but on the other hand when such an output is needed the mantra is "use `stat` and `cut` and `sort`"
[12:59:07] <Soliton> ede: GNU ls has a shell quoting feature you can use.
[12:59:14] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[12:59:44] <ede> obviously ls still doesn't qualify to create parseable output
[13:00:01] <Soliton> with that option it does.
[13:00:14] <ede> then the bot text is wrong
[13:00:22] <Soliton> you can see an example on the wiki page.
[13:01:07] <Soliton> if you want to cram it all into the factoid you can try i suppose.
[13:01:10] <ede> contradictory info isn't helping anyone, espcecially people just learning to do things
[13:01:26] *** Quits: zhangxiaofei (~fzhan@111.203.234.210) (Quit: Leaving.)
[13:01:28] <ede> no, i'd better keep this to a bash hacker
[13:01:35] <Soliton> really, general rules have exceptions? this is the first time you encounter that concept?
[13:01:49] <ede> <greybot> DO NOT USE ls' output for anything.
[13:02:01] <ede> if there are exceptions then DO NOT USE is the wrong answer
[13:02:33] <ede> there are no square roots of negative numbers, amirite?
[13:02:37] <Soliton> yes, every statement must come with a disclaimer otherwise human communication breaks down.
[13:02:54] <ede> there is no communication aber this exception
[13:03:14] <acresearch> Soliton: ok good, how can i add them into the same line?  they are currently in two deparate lines
[13:03:19] <ede> first time ever in this context after all these years i see someone mentionen quoting to get around some theoretical issues
[13:03:57] *** Joins: ApostleInTriumph (~ApostleIn@vpn2.lix.polytechnique.fr)
[13:04:14] <ede> may also be the reason why schoolbooks must first qualify for usage for teaching purposes on public schools
[13:04:23] <Soliton> acresearch: save the line into a variable and use it.
[13:05:02] <acresearch> Soliton:   i did this:     | awk -v name="$n" '$z==/random seed/, $1 == "1" {print name "\t" $0 $z;exit}'      but it is not working
[13:05:29] <Soliton> you may need to learn awk.
[13:05:58] <acresearch> Soliton: i don't know bash that well, i come from a python background :-(
[13:06:18] <Soliton> this is not bash but awk.
[13:06:38] *** Joins: zhangxiaofei (~fzhan@111.203.234.210)
[13:07:32] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:08:00] <Soliton> awk -v name="$n" '/random seed/{seed=$0} $1 == "1" {print name "\t" $0 seed;exit}'
[13:08:14] <geirha> match($0, /random seed: [0-9]+/) { r = substr($0, RSTART, RLENGTH) } $1 == 1 { print name "\t" $0 "\t" r; exit }
[13:10:28] <acresearch> Soliton: thank you, it works :-)     this syntax is very strange to me, i cannot see the underlying logic,    but then again i come from python :-(
[13:13:33] <geirha> the awk script is run for each line of input
[13:14:53] *** Joins: gnooooo (~gnoo@user/gnoo)
[13:17:24] <acresearch> geirha: well  Soliton  fixed it and made everything in the same line
[13:17:29] *** Joins: Bhavuk (~BTaneja@122.173.25.167)
[13:18:25] *** Joins: Jenmin (~Jenmin@183.199.203.161)
[13:18:35] <acresearch> Soliton: now I am trying to slice up the final variable that contains:   Performing docking (random seed: 1758263150)     ->   (random seed: 1758263150)    but i am not sure how to slice a string in this case    i tried seed[2]   and ${seed:2:3}   but it didn't work
[13:18:46] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[13:19:02] <Soliton> see geirha's version.
[13:19:17] *** Joins: curdlesnoot (~curdlesno@2a03:1b20:1:f410:40::a04d)
[13:19:17] *** Quits: curdlesnoot (~curdlesno@2a03:1b20:1:f410:40::a04d) (Client Quit)
[13:19:37] <acresearch> ok
[13:21:33] <acresearch> geirha: i am trying your command, it is giving me a syntax error --> syntax error near unexpected token `$0,'   i tried to fix it but i could not
[13:21:34] *** Quits: hejux (~hejux@104.224.190.144.16clouds.com) (Quit: WeeChat 3.2)
[13:22:19] <Soliton> are you for real?
[13:22:28] <geirha> acresearch: it's awk syntax. Don't run it as shell code
[13:23:26] <acresearch> geirha: what do you mean? where would i run it other than the terminal?  i am really confused !
[13:23:45] <Soliton> awk '<awk code>'
[13:24:51] *** Parts: MysteriousSilver (silver@user/mysterioussilver) (WeeChat 3.2)
[13:24:59] <geirha> awk -v name="$n" 'match($0,...
[13:25:39] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[13:27:09] <acresearch> geirha: ok i got it working
[13:27:17] <acresearch> :-)   thanks guys for your help   Soliton geirha 
[13:28:52] *** Quits: mikeliuk (~mikeliuk@213.205.198.158) (Quit: Connection closed)
[13:30:06] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[13:30:13] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[13:32:50] *** Joins: OlCe (~user@lfbn-nic-1-123-149.w2-15.abo.wanadoo.fr)
[13:33:02] <acresearch> this is weird, sometimes i get the random seed output, sometimes i do not,   is this expected?
[13:33:09] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[13:33:19] <acresearch> i did not change anything, just running the command several times
[13:33:20] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[13:33:21] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 265 seconds)
[13:34:32] <Soliton> is the seed decimal or hex?
[13:34:50] <Soliton> [0-9]+ only matches digits.
[13:35:05] <acresearch> Soliton: it should be only digits
[13:35:25] <acresearch> Soliton: oh   maybe sometimes it is -   (negative)  so it doesn't pick it up?
[13:36:03] <Soliton> there is no minus sign being matched, no.
[13:36:55] <acresearch> Soliton: yes, so it is only picking up the + values not the -    when a - values is used it does not output the random seed     how can i modify the redex?   [0-9]+/  
[13:37:02] <acresearch> to include both + and -?
[13:37:54] <Soliton> perhaps rather use this: /random seed: [^)]+/
[13:38:20] *** Joins: mikeliuk (~mikeliuk@213.205.198.158)
[13:38:52] *** Joins: mcfrdy (~mcfrdy@user/mcfrdy)
[13:39:19] <acresearch> Soliton: brilliant   thank you very much :-)
[13:41:10] *** Joins: curdlesnoot (~curdlesno@2a03:1b20:1:f410:40::a04d)
[13:41:44] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[13:43:25] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[13:45:02] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[13:46:39] *** Quits: liam (sid7517@id-7517.brockwell.irccloud.com) (Ping timeout: 252 seconds)
[13:47:59] *** Joins: liam (sid7517@id-7517.brockwell.irccloud.com)
[13:48:08] *** Joins: varaindemian (~varaindem@86.124.78.162)
[13:52:53] *** Joins: dob1 (~dob1@user/dob1)
[13:58:02] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 245 seconds)
[13:58:31] *** Quits: ApostleInTriumph (~ApostleIn@vpn2.lix.polytechnique.fr) (Quit: Client closed)
[13:59:20] *** Joins: Asmodee[T] (~Asmodee@gateway/tor-sasl/asmodee)
[13:59:29] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[14:06:34] *** Joins: xx (~xx@user/xx)
[14:06:37] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 250 seconds)
[14:12:07] *** Quits: curdlesnoot (~curdlesno@2a03:1b20:1:f410:40::a04d) (Quit: = "")
[14:12:55] *** Quits: Asmodee[T] (~Asmodee@gateway/tor-sasl/asmodee) (Quit: Teleporting ...)
[14:17:02] *** Joins: Asmodee[T] (~Asmodee@gateway/tor-sasl/asmodee)
[14:18:24] *** Joins: gabriele (~gabriele@user/gabriele)
[14:18:38] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.0.1)
[14:19:10] *** Quits: downtrip (~downtrip@188.166.151.198) (Quit: WeeChat 3.2)
[14:20:43] *** Joins: downtrip (~downtrip@188.166.151.198)
[14:21:17] *** Joins: iomari891 (~iomari891@105.112.138.38)
[14:24:50] *** Quits: wwilly (~wwilly@217.140.99.251) (Quit: Leaving)
[14:32:52] *** Joins: malina (~malina@user/malina)
[14:34:34] *** Quits: acresearch (~acresearc@user/acresearch) (Quit: WeeChat 2.8)
[14:35:00] *** Joins: seninha (~seninha@user/seninha)
[14:36:19] *** Joins: lavaball (felix@31.204.155.215)
[14:37:46] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Ping timeout: 252 seconds)
[14:38:34] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[14:41:34] *** Parts: yogoyo (~patrick@user/yogoyo) (WeeChat 3.0.1)
[14:42:08] *** Quits: lavadonut (~lavadonut@172-222-149-079.res.spectrum.com) (Changing host)
[14:42:09] *** Joins: lavadonut (~lavadonut@user/lavadonut)
[14:47:06] *** Joins: p-i-_ (~Ohmu@113.53.162.9)
[14:47:40] <p-i-_> Is there some much more efficient way to `echo foo | grep bar > quux`?
[14:48:47] <Bhavuk> grep bar foo > quux               [ if foo is a file ]
[14:48:48] <Riviera> What's that in a human language?
[14:49:36] <Riviera> Otherwise, "> quux" had a similar effect.
[14:50:49] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[14:51:16] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Remote host closed the connection)
[14:51:40] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[14:57:27] *** Quits: tccki (~tccki@box.webslate.co.nz) (Ping timeout: 255 seconds)
[14:59:17] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[14:59:43] <earnestly> p-i-_: With more context about what you're trying to achieve you might get better answers.  For anything we know what you're doing may be ideal (although echoing things into a pipeline is often only used in debug situations)
[15:00:43] <p-i-_> I have a 150GB file 'foo'. About 2% of the lines contain 'bar'. I want to extract them into file 'quux'.
[15:00:47] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[15:01:02] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[15:01:21] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[15:03:31] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[15:03:42] <Riviera> grep bar foo > quux
[15:05:14] *** Quits: zhangxiaofei (~fzhan@111.203.234.210) (Quit: Leaving.)
[15:05:27] <Riviera> But I assume it's not really "bar" you are searching for, is it.
[15:06:16] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[15:06:31] *** Joins: tccki (~tccki@2406:e001:2:5a00:250:56ff:fe9e:8795)
[15:06:32] <Riviera> Anyway, tired of this shit. Greater "efficiency" might be available with string- instead of regex-matching, or perhaps with disabling multi-byte character locales, or perhaps by using an index (e.g. via a database).
[15:06:42] <p-i-_> no, that's just a placeholder.
[15:06:56] <Riviera> Just a lie, yes.
[15:06:58] <Riviera> good luck!
[15:07:27] <Soliton> "is there a more efficient way to do a task with grep?"
[15:07:46] <p-i-_> huh? Riviera, why are you flipping out? You're always one of the experts here that never gets gnarly.
[15:07:53] <p-i-_> And I've always appreciated that.
[15:07:59] <Riviera> p-i-_: See, and you managed!
[15:08:08] <Riviera> (also it's not true, i have a thinner skin than greycat even.)
[15:08:14] <p-i-_> I whittled my question down to a testcase so as not to spam.
[15:08:26] <p-i-_> Out of respect for the channel...
[15:08:41] <Riviera> p-i-_: Do you not understand the problem? Soliton even rephrased it for you.
[15:08:46] <Soliton> the test case having no relation whatsoever to the actual task.
[15:09:02] <Soliton> perhaps you meant cat instead of echo.
[15:09:15] <p-i-_> Yep, and I got the answer.
[15:09:17] <p-i-_> oh gee
[15:09:24] <p-i-_> brainfart. yes I did.
[15:09:40] <Riviera> No, with more information (or rather, actual) information you could get something that's more efficient.
[15:09:41] *** Joins: zhangxiaofei (~fzhan@111.203.234.210)
[15:09:58] <p-i-_> ok gotcha
[15:11:08] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[15:11:32] <earnestly> p-i-_: There's generally two ways to inprove performance: Do nothing or Do it quickly
[15:11:38] <earnestly> impr*
[15:11:53] <p-i-_> earnestly: Or get someone else to do it
[15:12:17] <p-i-_> Unfortunately I got landed as the "someone else" for this one.
[15:12:52] <Delf> Is it possible to trap anything other than ctrl+c in a script?
[15:13:12] <Soliton> you can trap most signals.
[15:13:41] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[15:14:20] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[15:14:44] *** Quits: tccki (~tccki@2406:e001:2:5a00:250:56ff:fe9e:8795) (Ping timeout: 256 seconds)
[15:16:38] *** Quits: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz) (Ping timeout: 252 seconds)
[15:17:20] <earnestly> p-i-_: The point is, you either have to search 150G in which case you have to do it quickly (e.g. LANG=C can help), or if you know about the data you could avoid searching parts of it (do nothing)
[15:17:27] *** Quits: w0ng (~w0ng@103.1.212.140) (Quit: w0ng)
[15:18:07] *** Joins: w0ng (~w0ng@103.1.212.140)
[15:18:28] *** Joins: Mo (~Mo@dynamic-077-006-233-129.77.6.pool.telefonica.de)
[15:18:48] <makara> can i chain redirections together?
[15:19:13] <Soliton> maybe
[15:19:28] <makara> # sed s:h:b: < (sed s:i:o: <<< 'hi')
[15:19:30] <shbot> makara: bash: syntax error near unexpected token `('
[15:19:46] <Soliton> oh you mean can you write nonsense? yes!
[15:19:56] <Soliton> !next
[15:19:56] <greybot> Another satisfied customer! Next please!
[15:20:36] <osse> # echo makara 7>file 6>&7 >&6; cat file
[15:20:37] <shbot> osse: makara
[15:20:41] <osse> Fantastic
[15:21:02] <Soliton> if you want to do multiple sed transformations you could do them with a single sed program.
[15:21:24] <makara> i don't
[15:21:35] <makara> # sed s:i:o: <<< 'hi' | sed s:h:b:
[15:21:37] <shbot> makara: bo
[15:21:43] <makara> can this be improved?
[15:21:49] <Soliton> # sed -e s:h:b: -e s:i:o: <<< 'hi'
[15:21:51] <shbot> Soliton: bo
[15:22:04] <makara> # sed s:i:o: <<< 'hi' | lolcat
[15:22:06] <shbot> makara: bash: lolcat: command not found
[15:22:50] <Soliton> today is "i'm not telling you what i do but ask how to improve it" day.
[15:22:53] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 250 seconds)
[15:23:19] <makara> osse: i don't want to create any files
[15:24:01] <osse> I was just showing how a bunch of redirections can be chained
[15:24:58] <makara> # echo makara 7>file
[15:25:00] <shbot> makara: makara
[15:25:02] <makara> osse: what is going on here?
[15:25:26] <Soliton> fd 7 points to file. nobody cares. the end.
[15:25:41] <osse> more or less
[15:26:20] <osse> # echo makara > file
[15:26:22] <shbot> osse: no output
[15:26:24] <osse> # echo makara 2> file
[15:26:26] <shbot> osse: makara
[15:26:30] <osse> # echo makara 3> file
[15:26:33] <shbot> osse: makara
[15:26:35] <osse> and so on
[15:27:10] *** Joins: tccki (~tccki@box.webslate.co.nz)
[15:27:33] <makara> # echo noname 7>file
[15:27:34] <shbot> makara: noname
[15:27:48] <Bhavuk> also 2>&1
[15:27:51] <ede> not a & missing?
[15:28:31] <makara> then i might as well use a pipe'
[15:28:59] <makara> so the rule is, if a pipe has only 2, use a redirect, otherwise use a pipe
[15:29:48] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[15:33:38] *** Quits: w0ng (~w0ng@103.1.212.140) (Quit: w0ng)
[15:34:57] *** Joins: w0ng (~w0ng@103.1.212.140)
[15:34:58] <makara> holy shit thats a big improvement
[15:35:01] *** Quits: maledictium (~crux@bl10-83-37.dsl.telepac.pt) (Remote host closed the connection)
[15:35:08] *** Joins: Str1x (~d14@2407:7000:89f0:de00:b387:d74e:7f62:7886)
[15:35:23] <makara> my script took 27s now takes 7s
[15:35:36] <Bhavuk> amazing
[15:36:17] <makara> sqlcmd must have been eating the input file one char at a time
[15:36:27] *** Quits: downunder (~downunder@110.151.122.76) (Quit: WeeChat 3.2)
[15:36:55] *** Quits: varaindemian (~varaindem@86.124.78.162) (Ping timeout: 246 seconds)
[15:37:38] *** Quits: tccki (~tccki@box.webslate.co.nz) (Ping timeout: 252 seconds)
[15:38:32] *** Quits: kwilczynski (sid379192@user/kwilczynski) (Quit: Connection closed for inactivity)
[15:39:54] *** Quits: Str1x (~d14@2407:7000:89f0:de00:b387:d74e:7f62:7886) (Ping timeout: 240 seconds)
[15:40:20] *** Joins: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz)
[15:41:18] *** Joins: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[15:41:26] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[15:42:03] *** Joins: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[15:42:35] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 252 seconds)
[15:44:31] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[15:45:33] <earnestly> Or if you're using sql without using BEGIN TRANSACTION; and COMMIT;
[15:45:54] *** Quits: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 240 seconds)
[15:46:11] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Client Quit)
[15:46:26] *** Quits: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[15:46:51] *** Joins: tccki (~tccki@2406:e001:2:5a00:250:56ff:fe9e:8795)
[15:49:07] *** Joins: sublim20 (~sublim20@user/sublim20)
[15:49:33] <makara> an error was made
[15:49:43] <makara> mission not accomplished
[15:49:44] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[15:49:57] <makara> # time cat * | wc -l
[15:49:59] <shbot> makara: cat: cannot open *: No such file or directory
[15:49:59] <shbot> makara: 0
[15:49:59] <shbot> makara: real: 0m0.074s, user: 0m0.027s, sys: 0m0.046s
[15:50:04] <makara> # time wc -l < <(cat *)
[15:50:06] <shbot> makara: cat: cannot open *: No such file or directory
[15:50:06] <shbot> makara: 0
[15:50:06] <shbot> makara: real: 0m0.082s, user: 0m0.036s, sys: 0m0.024s
[15:50:49] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[15:52:36] <makara> Soliton: im just trying to avoid https://mywiki.wooledge.org/BashFAQ/119 whevere possible
[15:53:07] *** Joins: maledictium (~crux@bl10-83-37.dsl.telepac.pt)
[15:53:09] *** Quits: zhangxiaofei (~fzhan@111.203.234.210) (Quit: Leaving.)
[15:53:21] <Soliton> if you want to concatenate multiple files cat is not useless.
[15:53:52] <Soliton> that's literally what it got its name from.
[15:54:26] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[15:55:03] *** Quits: shad (~shad@user/shad) (Ping timeout: 255 seconds)
[15:55:17] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[15:56:20] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[15:57:42] <makara> earnestly: you've given me an idea
[15:58:11] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[15:58:52] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[15:59:40] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[15:59:55] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[16:01:21] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[16:01:49] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[16:02:25] *** Joins: thiras (~thiras@user/thiras)
[16:02:53] <kurahaupo> Soliton: So how many ways can we spell «cat *»?  I'll start by suggesting «sed '' *» and «grep ^ *»
[16:03:16] <kurahaupo> oh, grep -h…
[16:07:05] <Soliton> awk // *
[16:09:54] *** Quits: ionface (~ionface@user/ionface) (Ping timeout: 240 seconds)
[16:10:10] *** Joins: situ (~situ@nat-pool-brq-t.redhat.com)
[16:10:37] *** Joins: ionface (~ionface@user/ionface)
[16:11:27] *** Joins: dza (~dza@user/dza)
[16:11:46] *** Quits: Tadgy (~tadgy@slackware.uk/founder/tadgy) (Quit: leaving)
[16:12:00] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[16:13:02] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[16:13:52] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[16:13:57] <makara> tail -z *
[16:14:56] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 252 seconds)
[16:16:30] <depesz> is there any example on how to use read -e -i ?
[16:16:47] <wwilliam> !read
[16:16:47] <greybot> The read builtin reads data from standard input into variables (or an array). Always use with -r if you don't want backslashes to be mangled. http://wiki.bash-hackers.org/commands/builtin/read http://mywiki.wooledge.org/BashFAQ/001
[16:17:17] <Soliton> read -e -i text?
[16:17:43] *** Quits: w0ng (~w0ng@103.1.212.140) (Quit: w0ng)
[16:18:30] <depesz> hmm ... is there any way there can be tab-completion added? i thoughr that -e/-i could use used for this somehow?
[16:18:34] *** Joins: w0ng (~w0ng@103.1.212.140)
[16:18:54] <makara> diff * --to-file=/dev/null --changed-group-format='%<%>'
[16:19:05] *** Quits: mikeliuk (~mikeliuk@213.205.198.158) (Quit: Connection closed)
[16:19:55] <Soliton> -e is for readline so yes with it you can tab complete.
[16:20:40] <Soliton> do you expect more than completing paths?
[16:20:58] <earnestly> makara: Generate the entire set of transactions and encapsulate it in a begin and commit block?
[16:21:05] *** Joins: seninha (~seninha@user/seninha)
[16:21:06] *** Joins: Tadgy (~tadgy@slackware.uk/founder/tadgy)
[16:21:12] <earnestly> makara: E.g. https://0x0.st/ikdT.bin
[16:21:45] * earnestly changes shebang to gawk
[16:21:54] *** Joins: kj- (~kj@kj.aerisnetwork.net)
[16:22:02] <earnestly> Could probably use fpatterns with this
[16:22:30] *** Quits: kj (~kj@kj.aerisnetwork.net) (Ping timeout: 255 seconds)
[16:24:04] <makara> problem is a lot of sql is stored procedures
[16:24:23] <makara> i really need to make a parser for tsql
[16:25:06] *** Quits: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz) (Ping timeout: 240 seconds)
[16:25:34] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Ping timeout: 252 seconds)
[16:25:58] *** Joins: Str1x (~d14@2407:7000:89f0:de00:a686:990:8f16:96b2)
[16:26:34] <depesz> Soliton: i expect *not* completint paths, but some set of strings.
[16:26:40] <depesz> Soliton: usualy "beta", "test", "production".
[16:26:46] *** Quits: p-i-_ (~Ohmu@113.53.162.9) (Quit: Leaving...)
[16:27:05] <kurahaupo> depesz: surely the appropriate completion depends on the context?
[16:27:44] <depesz> kurahaupo: yes, and I know the context. hence I asked how to make read aware of tab-completion (assuming it will also contain a way to provide what it can complete to
[16:28:12] *** Joins: sinaowolabi (~SinaOwola@41.190.3.14)
[16:28:41] *** Joins: cek (uid23454@id-23454.tinside.irccloud.com)
[16:29:16] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[16:29:37] <cek> is there an util that cuts long lines? like head, but transposed
[16:30:04] <kurahaupo> cek: like "cut"?
[16:30:15] <kurahaupo> cek: s/an/a/
[16:30:21] <geirha> depesz: https://lists.gnu.org/archive/html/bug-bash/2021-06/msg00087.html
[16:30:56] <geirha> in short, read -e's tab completion is not programmable yet
[16:31:07] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[16:31:08] <depesz> ok. thanks.
[16:31:39] <cek> cut will do.
[16:32:58] *** Parts: cek (uid23454@id-23454.tinside.irccloud.com) ()
[16:33:08] *** Joins: sn1tch3r (~sn1tch3r@201-27-147-42.dsl.telesp.net.br)
[16:33:11] *** Quits: sn1tch3r (~sn1tch3r@201-27-147-42.dsl.telesp.net.br) (Remote host closed the connection)
[16:33:16] <kurahaupo> depesz: You could be a bit clever by making a directory that's empty except for the names you want to use for completion
[16:33:24] *** Parts: mixfix41` (~user@c-98-240-233-64.hsd1.mn.comcast.net) ()
[16:33:28] <depesz> that's beyond ugly
[16:33:53] <kurahaupo> yeah, "clever" not "pretty".
[16:34:30] <kurahaupo> Now I need to take a memory enema to forget that I ever thought of that idea
[16:35:27] *** Joins: darkxploit (~jay@32.209.19.50)
[16:35:51] <kurahaupo> Alternatively, you could bind the tab key to a function that you define instead of using the standard completion
[16:36:33] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[16:37:52] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[16:39:27] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[16:40:41] *** Joins: magicSchlingel (~RatChat@2600:1700:511:80bf::1002)
[16:41:22] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[16:42:57] <depesz> there is a tool to wrap readline, that handles it: rlwrap
[16:43:04] <depesz> but it would be cool to get it in vanilla read
[16:43:18] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[16:44:46] *** Joins: shad (~shad@user/shad)
[16:44:52] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[16:45:00] *** Quits: darkxploit (~jay@32.209.19.50) (Ping timeout: 255 seconds)
[16:46:28] *** Quits: situ (~situ@nat-pool-brq-t.redhat.com) (Ping timeout: 252 seconds)
[16:47:18] *** Joins: curdlesnoot (~curdlesno@2a03:1b20:1:f410:40::a04d)
[16:47:47] *** Joins: enoq (~enoq@194-208-179-35.lampert.tv)
[16:48:12] *** Joins: debsan (~debsan@2800:810:471:2ee::1000)
[16:49:11] *** Joins: Blackpajamas (~Blackpaja@24-246-42-203.cable.teksavvy.com)
[16:49:20] *** Joins: mat001 (~mat001@c-73-223-64-126.hsd1.ca.comcast.net)
[16:50:24] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[16:55:36] *** Joins: darkbit (~db@152.32.99.67)
[16:55:44] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[16:59:35] *** Joins: michigan (uid507982@id-507982.charlton.irccloud.com)
[17:02:59] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[17:03:00] *** Joins: zeden (~zeden@user/zeden)
[17:05:19] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[17:08:45] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[17:16:22] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[17:17:14] *** Joins: absc (~absc@dynamic-adsl-94-34-217-240.clienti.tiscali.it)
[17:17:24] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[17:17:32] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[17:17:42] *** Quits: Jenmin (~Jenmin@183.199.203.161) (Ping timeout: 256 seconds)
[17:19:06] *** Quits: fivegruel (~fivegruel@HSI-KBW-095-208-248-118.hsi5.kabel-badenwuerttemberg.de) (Ping timeout: 240 seconds)
[17:21:39] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Client Quit)
[17:22:23] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[17:22:30] *** Joins: speckz (~speckz@2600:1700:ce0:bf00:8958:f760:fdb0:f2fe)
[17:24:55] *** Quits: irrgit (~irrgit@192.241.175.183) (Remote host closed the connection)
[17:26:41] *** Quits: noarb (~noarb@user/noarb) (Quit: ZNC 1.8.2 - https://znc.in)
[17:26:48] *** Joins: waxfire238 (~waxfire@65.119.2.240)
[17:26:59] *** Joins: noarb (~noarb@user/noarb)
[17:27:05] *** Quits: ELFrederich (~ELFrederi@134.244.29.70) (Remote host closed the connection)
[17:27:34] *** Quits: anderson (~ande@134.209.221.71) (Remote host closed the connection)
[17:27:34] *** Quits: glider (~glider@user/glider) (Quit: ZNC 1.9.x-git-111-f2cdc3db - https://znc.in)
[17:27:46] *** Quits: leftyfb (leftyfb@ubuntu/member/leftyfb) (Ping timeout: 265 seconds)
[17:27:55] *** Joins: anderson (~ande@134.209.221.71)
[17:28:03] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[17:28:20] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[17:28:44] *** Quits: klysm (~mdasoh@show.op8.us) (Ping timeout: 265 seconds)
[17:28:44] *** Quits: mz` (~mz`@user/mz/x-8532539) (Ping timeout: 265 seconds)
[17:29:05] *** Joins: leftyfb (leftyfb@wargames.left-click.org)
[17:29:13] *** Quits: chasmo77 (~chas77@71.63.241.168) (Ping timeout: 265 seconds)
[17:29:42] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 265 seconds)
[17:29:42] *** Quits: waxfire23 (~waxfire@65.119.2.240) (Ping timeout: 265 seconds)
[17:29:42] *** waxfire238 is now known as waxfire23
[17:29:55] *** Joins: glider (~glider@user/glider)
[17:30:28] *** Joins: chasmo77 (~chas77@71.63.241.168)
[17:30:54] *** Quits: ibx2496 (~ibx2496@92.60.40.247) (Ping timeout: 255 seconds)
[17:32:36] *** Joins: wwilly (~wwilly@fw-tnat-cam7.arm.com)
[17:33:03] *** Joins: irrgit (~irrgit@192.241.175.183)
[17:33:25] *** Quits: sinaowolabi (~SinaOwola@41.190.3.14) (Read error: Connection reset by peer)
[17:33:28] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Quit: Something unexpected happened...)
[17:34:22] *** Joins: klysm (~mdasoh@show.op8.us)
[17:36:20] *** Joins: earnestly (~earnest@user/earnestly)
[17:38:44] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[17:38:51] *** Joins: sinaowolabi (~SinaOwola@41.190.3.14)
[17:39:03] *** Joins: Guest11457568568 (~Guest1145@223.104.65.80)
[17:41:02] *** Quits: Guest11457568568 (~Guest1145@223.104.65.80) (Client Quit)
[17:41:21] *** Quits: gearnode (~gearnode@2a01cb000ce2c100b0b4e37bd756bdb4.ipv6.abo.wanadoo.fr) (Quit: WeeChat 3.2)
[17:42:06] *** Joins: Jenmin (~Jenmin@183.199.203.161)
[17:43:26] *** Joins: shbot4 (~shbot@37.139.2.101)
[17:43:26] *** Quits: shbot (~shbot@37.139.2.101) (Killed (NickServ (GHOST command used by shbot4)))
[17:44:12] *** Joins: N0ZYC_ (~N0ZYC@173-16-166-245.client.mchsi.com)
[17:44:15] *** Joins: fstd (~fstd@xdsl-85-197-59-162.nc.de)
[17:44:35] *** Joins: bodiccea_ (~bodiccea@user/bodiccea)
[17:44:42] *** Joins: riff_IRC (~riff-IRC@user/riff-irc)
[17:45:02] *** Joins: omnigoat5 (~omnigoat@user/omnigoat)
[17:45:07] *** Joins: yuckey2d0 (~yuckey2d@66.115.145.202)
[17:45:11] *** Joins: useretail_ (~useretail@185.132.19.151)
[17:45:36] *** Joins: ayusta (Thunderbir@gateway/vpn/protonvpn/ayustae)
[17:46:04] *** Joins: vlm_ (~vlm@user/vlm)
[17:46:05] *** Joins: odc_ (sid197788@id-197788.brockwell.irccloud.com)
[17:46:16] *** Joins: pwndave_ (pwndave@is.ready-to.party)
[17:46:16] *** Quits: pwndave (pwndave@is.ready-to.party) (Killed (zirconium.libera.chat (Nickname regained by services)))
[17:46:17] *** pwndave_ is now known as pwndave
[17:46:22] *** Joins: vishal_ (~vishal@fedora/vishal)
[17:46:37] *** Joins: alz (~alzee@157.136.233.35.bc.googleusercontent.com)
[17:46:39] *** Joins: blink- (~x@awknode.com)
[17:46:43] *** Joins: ljharb_ (sid43720@user/ljharb)
[17:47:12] *** Joins: milosz_ (~milosz@user/milosz)
[17:47:15] *** Joins: edk_ (edk@libera/staff/edk)
[17:47:17] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[17:47:19] *** Joins: glass (~glass@246.ip-137-74-113.eu)
[17:47:20] *** Quits: glass (~glass@246.ip-137-74-113.eu) (Changing host)
[17:47:20] *** Joins: glass (~glass@user/theglass)
[17:47:20] *** Joins: Noventicx8 (~Noventicx@crux.uberspace.de)
[17:47:23] *** Quits: edk (edk@libera/staff/edk) (Killed (copper.libera.chat (Nickname regained by services)))
[17:47:23] *** edk_ is now known as edk
[17:47:56] *** Joins: wolfshappen_ (~waff@irc.furworks.de)
[17:48:04] *** Joins: s1b1_ (~s1b1@user/s1b1)
[17:48:07] *** Joins: ztrawhcse (eschwartz@archlinux/bugwrangler/eschwartz)
[17:48:08] *** Joins: greenriot (~greenriot@host-82-57-201-34.retail.telecomitalia.it)
[17:48:12] *** Joins: dob1_ (~dob1@user/dob1)
[17:48:32] *** Joins: tlaxkit (~hexchat@170.253.46.216)
[17:48:35] *** Joins: ccl_ (ccl@shell.xshellz.com)
[17:48:36] *** Joins: DLange_ (~DLange@about/linux/staff/DLange)
[17:48:38] *** Joins: dkeohane1 (~dkeohane@ec2-18-189-29-140.us-east-2.compute.amazonaws.com)
[17:48:44] *** Quits: jtmusky (~jtmusky@104-1-122-97.lightspeed.okcbok.sbcglobal.net) (Ping timeout: 255 seconds)
[17:48:44] *** Quits: blink (~x@awknode.com) (Ping timeout: 255 seconds)
[17:48:44] *** Quits: dob1 (~dob1@user/dob1) (Ping timeout: 255 seconds)
[17:48:44] *** Quits: woohoiV5 (~woohoiV5@89-139-2-43.bb.netvision.net.il) (Ping timeout: 255 seconds)
[17:48:44] *** Quits: odc (sid197788@id-197788.brockwell.irccloud.com) (Ping timeout: 255 seconds)
[17:48:44] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Ping timeout: 255 seconds)
[17:48:44] *** Quits: trane (~trane@login.redpill-linpro.com) (Ping timeout: 255 seconds)
[17:48:44] *** Quits: rndusr (~rndusr@user/rndusr) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: dkeohane (~dkeohane@ec2-18-189-29-140.us-east-2.compute.amazonaws.com) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: ljharb (sid43720@user/ljharb) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: mcint (mcint@user/mcint) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: vlm (~vlm@user/vlm) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: tomboy64 (~tomboy64@user/tomboy64) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: lavadonut (~lavadonut@user/lavadonut) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: acidsys (~LSD@2.lsd.systems) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: tk (~tk@ircpuzzles/staff/tk) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: DLange (~DLange@about/linux/staff/DLange) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: N0ZYC (~N0ZYC@173-16-166-245.client.mchsi.com) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: gr33nR10t (~greenriot@host-82-57-201-34.retail.telecomitalia.it) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: sem (semitones@user/sem) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: koolazer (~koo@user/koolazer) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: Dev0n (~Dev0n@user/dev0n) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: Naib (~j@2.216.75.3) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: synthmeat (~synthmeat@user/synthmeat) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: ccl (ccl@shell.xshellz.com) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: thib (~thib@wikimedia/Thibaut120094) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: onla (~onla@srv20862.blue.kundencontroller.de) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: sinaowolabi (~SinaOwola@41.190.3.14) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: enoq (~enoq@194-208-179-35.lampert.tv) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: vishal (~vishal@fedora/vishal) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: thebombzen (~thebombze@71.73.92.220) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: Noventicx (~Noventicx@crux.uberspace.de) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 255 seconds)
[17:48:45] *** Quits: bodiccea (~bodiccea@user/bodiccea) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: yuckey2d (~yuckey2d@66.115.145.202) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: sgn (~sgn@user/sgn) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: milosz (~milosz@user/milosz) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: acid (~acid@user/acid) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: con3 (~con3@143.198.53.32) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: elibrokeit (eschwartz@archlinux/bugwrangler/eschwartz) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: YHVH (~yhvh@2601:982:8300:8090:bd64:f32b:a3d5:97a4) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: clemens3 (~clemens@225.40.150.83.ftth.as8758.net) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: micronn (~micronn@user/micronn) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: omnigoat (~omnigoat@user/omnigoat) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: wolfshappen (~waff@irc.furworks.de) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: theglass (~glass@user/theglass) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: z14 (~alzee@157.136.233.35.bc.googleusercontent.com) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: dale (dale@user/dale) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: gabe (~gabe@user/gabe) (Ping timeout: 255 seconds)
[17:48:46] *** Quits: maledictium (~crux@bl10-83-37.dsl.telepac.pt) (Ping timeout: 255 seconds)
[17:48:47] *** Quits: useretail (~useretail@185.132.19.151) (Ping timeout: 255 seconds)
[17:48:47] *** Quits: s1b1 (~s1b1@user/s1b1) (Ping timeout: 255 seconds)
[17:48:47] *** Quits: fstd_ (~fstd@xdsl-85-197-59-162.nc.de) (Ping timeout: 255 seconds)
[17:48:47] *** Quits: foureyes (foureyes@brought.to.you.by.bnc4free.com) (Ping timeout: 255 seconds)
[17:48:47] *** Joins: trane (~trane@login.redpill-linpro.com)
[17:48:47] *** Joins: woohoiV5 (~woohoiV5@89-139-2-43.bb.netvision.net.il)
[17:48:47] *** Joins: dale (dale@2600:3c02::f03c:92ff:feb4:61d1)
[17:48:47] *** Joins: gearnode (~gearnode@2a01cb000ce2c100b0b4e37bd756bdb4.ipv6.abo.wanadoo.fr)
[17:48:47] *** Joins: lavadonut (~lavadonut@172-222-149-079.res.spectrum.com)
[17:48:47] *** odc_ is now known as odc
[17:48:47] *** ljharb_ is now known as ljharb
[17:48:47] *** vlm_ is now known as vlm
[17:48:47] *** Joins: gabe_ (~gabe@user/gabe)
[17:48:47] *** Joins: thib_ (~thib@wikimedia/Thibaut120094)
[17:48:47] *** vishal_ is now known as vishal
[17:48:47] *** yuckey2d0 is now known as yuckey2d
[17:48:48] *** Quits: dale (dale@2600:3c02::f03c:92ff:feb4:61d1) (Changing host)
[17:48:48] *** Joins: dale (dale@user/dale)
[17:48:53] *** s1b1_ is now known as s1b1
[17:48:53] *** ayusta is now known as ayustae
[17:48:53] *** Noventicx8 is now known as Noventicx
[17:48:53] *** omnigoat5 is now known as omnigoat
[17:49:06] *** Joins: clemens3 (~clemens@225.40.150.83.ftth.as8758.net)
[17:49:08] *** Joins: demonban1 (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net)
[17:49:09] *** Joins: vysn (~vysn@user/vysn)
[17:49:14] *** Joins: lonewulf` (~lonewulf@104-0-8-151.lightspeed.stlsmo.sbcglobal.net)
[17:49:16] *** Quits: lonewulf` (~lonewulf@104-0-8-151.lightspeed.stlsmo.sbcglobal.net) (Changing host)
[17:49:16] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[17:49:20] *** Joins: tk (~tk@ircpuzzles/staff/tk)
[17:49:20] *** Joins: maledictium (~crux@bl10-83-37.dsl.telepac.pt)
[17:49:20] *** Joins: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[17:49:22] *** Joins: sgn (~sgn@user/sgn)
[17:49:25] *** Joins: sinaowolabi (~SinaOwola@41.190.3.14)
[17:49:25] *** Joins: con3 (~con3@2604:a880:4:1d0::be:d000)
[17:49:32] *** Joins: YHVH (~yhvh@2601:982:8300:8090:a531:5a28:7f1c:6cf8)
[17:49:34] *** Joins: acid (~acid@user/acid)
[17:49:35] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[17:50:08] *** Joins: Dev0n (~Dev0n@user/dev0n)
[17:50:09] *** Joins: synthmeat (~synthmeat@user/synthmeat)
[17:50:10] *** Joins: thebombzen (~thebombze@71.73.92.220)
[17:50:12] *** Joins: onla (~onla@srv20862.blue.kundencontroller.de)
[17:50:13] *** Joins: micronn (~micronn@user/micronn)
[17:50:14] *** Joins: Naib (~j@2.216.75.3)
[17:50:14] *** Joins: koolazer (~koo@user/koolazer)
[17:50:14] *** Joins: igemnace (~ian@user/igemnace)
[17:50:15] *** Joins: LSD (~LSD@2.lsd.systems)
[17:50:20] *** Joins: earnestly (~earnest@user/earnestly)
[17:50:57] *** Joins: tomboy64 (~tomboy64@user/tomboy64)
[17:51:31] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[17:51:37] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Quit: leaving)
[17:52:35] *** Joins: mcint (mcint@user/mcint)
[17:53:03] *** Joins: gmcastil_ (~gmcastil@50-206-38-118-static.hfc.comcastbusiness.net)
[17:53:07] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: tech_exorcist)
[17:53:36] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[17:55:22] *** Quits: setesat40 (~setesat@94.4.156.220) (Quit: The Lounge - https://thelounge.chat)
[17:56:15] *** Joins: mz` (~mz`@user/mz/x-8532539)
[17:56:28] *** Joins: setesat40 (~setesat@94.4.156.220)
[17:56:48] *** Joins: foureyes (foureyes@brought.to.you.by.bnc4free.com)
[17:58:30] *** Quits: Str1x (~d14@2407:7000:89f0:de00:a686:990:8f16:96b2) (Ping timeout: 256 seconds)
[17:59:00] *** Joins: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz)
[17:59:58] *** Quits: milosz_ (~milosz@user/milosz) (Remote host closed the connection)
[18:01:02] *** Joins: sem (semitones@user/sem)
[18:02:05] *** Joins: Atque (~Atque@user/atque)
[18:03:59] <wwilliam> why shellcheck says:  
[18:04:00] <wwilliam> if [ $hmnt > 100];then
[18:04:02] <wwilliam>      ^-- SC2154: hmnt is referenced but not assigned.
[18:04:25] <wwilliam> if [ $hmnt > 100];then
[18:04:26] <twkm> probably due to a typo.
[18:04:27] <wwilliam>     echo "Check mounts"
[18:04:28] <wwilliam> else
[18:04:30] <wwilliam>     echo "Home mounts are within threshold"
[18:04:31] <wwilliam> fi;
[18:04:36] <phy1729> Also you need a space before ]
[18:04:39] <wwilliam> hmnt=$(mount -t nfs | grep '[h]ome' | wc -l)
[18:04:46] *** Quits: setesat40 (~setesat@94.4.156.220) (Quit: The Lounge - https://thelounge.chat)
[18:04:56] <wwilliam> oh OK  Thanks phy1729
[18:05:10] <phy1729> grep has -c
[18:05:56] <Soliton> nice cargo culting on the [h]ome there.
[18:06:05] <wwilliam> hmnt=$(mount -t nfs | grep -c home)
[18:06:06] <wwilliam> if [ $hmnt > 100 ];then
[18:06:08] <wwilliam>     echo "Check mounts"
[18:06:09] <wwilliam> else
[18:06:10] <twkm> probably shellcheck believes that assignment is in a subshell.
[18:06:11] <wwilliam>     echo "Home mounts are within threshold"
[18:06:12] <wwilliam> fi;
[18:06:18] *** Joins: setesat40 (~setesat@94.4.156.220)
[18:06:23] <emanuele6> use [[
[18:06:25] <wwilliam> Line 51:
[18:06:27] <wwilliam> if [ $hmnt > 100 ];then
[18:06:29] <wwilliam>      ^-- SC2154: hmnt is referenced but not assigned.
[18:06:30] <twkm> use ((
[18:06:34] *** Quits: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz) (Ping timeout: 240 seconds)
[18:06:37] <emanuele6> or ((
[18:06:50] <emanuele6> if you use ((, don't use the $
[18:06:58] <wwilliam> ok
[18:07:10] *** Joins: travisghansen (~travisgha@192.74.130.86)
[18:07:29] <wwilliam> !((
[18:07:29] <greybot> ((...)) is an arithmetic command, which returns an exit status of 0 if the expression is nonzero, or 1 if the expression is zero. Also used as a synonym for "let", if side effects (assignments) are needed. See <http://mywiki.wooledge.org/ArithmeticExpression>.
[18:07:32] <emanuele6> otherwise [ $hmnt > 100 ] is equivalent to [ $hmnt ] > 100
[18:07:49] <Soliton> !check hmnt=$(mount -t nfs | grep -c home); if [ $hmnt > 100 ];then :; fi
[18:07:49] <checkbot> Soliton: Line 1: > is for string comparisons. Use -gt instead. Line 1: Double quote to prevent globbing and word splitting. See https://shellcheck.net/?id=cb61069
[18:08:17] <emanuele6> that means that [ $hmnt > 100 ] will create a file name "100" and check whether the hmnt variable is blank or not
[18:08:23] <Soliton> no SC2154 in sight.
[18:08:26] <emanuele6> instead of checking if hmnt is >100
[18:08:27] *** Joins: varaindemian (~varaindem@86.124.78.162)
[18:09:04] <wwilliam> if [ hmnt -gt 100 ];then
[18:09:06] <wwilliam>     echo "Check mounts"
[18:09:07] <wwilliam> else
[18:09:08] <wwilliam>     echo "Home mounts are within threshold"
[18:09:10] <wwilliam> fi;
[18:09:11] <twkm> sheeseh.
[18:09:15] <wwilliam> Dont complain shelcheck
[18:09:18] <emanuele6> # hmnt=1; if [ $hmnt > 100 ]; then echo yes; else echo no; fi; ls
[18:09:19] <twkm> fucking cago cult admin.
[18:09:21] <shbot4> emanuele6: yes
[18:09:21] <shbot4> emanuele6: 100
[18:09:22] * kurahaupo smacks checkbot for suggesting -gt instead of ((a>b))
[18:09:30] <emanuele6> # hmnt=1001; if [ $hmnt > 100 ]; then echo yes; else echo no; fi; ls
[18:09:32] <shbot4> emanuele6: yes
[18:09:33] <shbot4> emanuele6: 100
[18:09:37] <emanuele6> # hmnt=; if [ $hmnt > 100 ]; then echo yes; else echo no; fi; ls
[18:09:39] <shbot4> emanuele6: no
[18:09:39] <shbot4> emanuele6: 100
[18:09:48] <emanuele6> # hmnt=10; if [[ $hmnt > 100 ]]; then echo yes; else echo no; fi; ls
[18:09:50] <shbot4> emanuele6: no
[18:09:53] <phy1729> kurahaupo: would be reasonable depending on shebang
[18:10:04] <kurahaupo> emanuele6: Can you see the redirection into a file in the middle of what you've pasted?
[18:10:22] <emanuele6> kurahaupo: i was showing it so yes
[18:10:27] <kurahaupo> oh, sorry, you are demonstrating
[18:10:34] <emanuele6> wwilliam: >  if [ hmnt -gt 100 ];then
[18:10:44] <emanuele6> no, that is always a syntax error
[18:10:46] <twkm> wwilliam is the one that doesn't seem to grasp it.
[18:11:00] <emanuele6> # [ hmnt -gt 1 ]
[18:11:01] <shbot4> emanuele6: bash: [: hmnt: integer expression expected
[18:11:20] <kurahaupo> emanuele6: [ var -gt num ] isn't POSIX; you need "$var" then
[18:11:32] <wwilliam> Ok this is good enough for me:
[18:11:33] <wwilliam> # if [ $hmnt -gt 100 ];then echo "Check mounts";else echo "Home mounts are within threshold";fi
[18:11:35] <wwilliam> Home mounts are within threshold
[18:11:36] <shbot4> wwilliam: bash: [: -gt: unary operator expected
[18:11:36] <shbot4> wwilliam: Home mounts are within threshold
[18:11:40] <twkm> "i'll accept the don't use $ inside (( and turn that into not using $ inside [''
[18:11:43] <emanuele6> use [[ $hmnt > 100 ]], (( hmnt > 100 )) or [ "$hmnt" -gt 100 ]
[18:11:50] *** Joins: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz)
[18:12:18] <Soliton> not the first one. that is string comparison.
[18:12:20] <kurahaupo> wwilliam: I recommend using bash as the interpreter, and then using (( hmnt > 100 ))
[18:12:25] <wwilliam> if [[ $hmnt -gt 100 ]];then echo "Check mounts";else echo "Home mounts are within threshold";fi
[18:12:26] <wwilliam> Home mounts are within threshold
[18:13:06] <kurahaupo> # x=2 ; if [[ $x > 100 ]] ; then echo YES ; else echo No ; fi
[18:13:08] <shbot4> kurahaupo: YES
[18:13:34] <kurahaupo> wwilliam: ^^ inside [[ ]] the > compares strings not numbers
[18:13:38] <twkm> except hmnt is empty if we're to believe your shellcheck results.
[18:14:14] <wwilliam>  hmnt=$(mount -t nfs | grep '[h]ome' | wc -l);echo "$hmnt"
[18:14:16] <wwilliam> 3
[18:14:44] <kurahaupo> I stick to using (( … )) for numeric operations (especial comparisons) and using [[ … ]] for strings and files
[18:14:46] <twkm> yet <wwilliam>      ^-- SC2154: hmnt is referenced but not assigned.
[18:15:01] <wwilliam> if (( hmnt > 100 ));then echo "Check mounts";else echo "Home mounts are within threshold";fi
[18:15:02] <wwilliam> Home mounts are within threshold
[18:15:39] <emanuele6> ok, but why do you get that error?
[18:15:47] <emanuele6> is hmnt an environment variable?
[18:16:00] <emanuele6> s/error/warning/
[18:16:15] *** Quits: Str1x (~d14@47-72-195-214.dsl.dyn.ihug.co.nz) (Read error: Connection reset by peer)
[18:16:29] <wwilliam> How do i assing a variable to the result of:
[18:16:31] <wwilliam> if (( hmnt > 100 ));then
[18:16:32] <wwilliam>     echo "Check mounts"
[18:16:34] <wwilliam> else
[18:16:35] <wwilliam>     echo "Home mounts are within threshold"
[18:16:37] <wwilliam> fi;
[18:16:38] *** Joins: Str1x (~d14@2407:7000:89f0:de00:a686:990:8f16:96b2)
[18:16:49] <Soliton> and what is the result of that code?
[18:17:03] <kurahaupo> wwilliam: Perhaps the assignment is occurring in a different shell
[18:17:12] <twkm> learning can never be applied if anything seems different.
[18:18:08] <emanuele6> wwilliam: can you show us the whole script?
[18:18:28] <wwilliam> Soliton:  Home mounts are within threshold
[18:18:39] <wwilliam> the whole script hold on
[18:19:02] <Soliton> so you want to save the string in a variable instead of printing it?
[18:19:10] <Soliton> so just do that..?
[18:19:51] <wwilliam> https://paste.debian.net/1205244/
[18:20:00] <Soliton> !check
[18:20:01] <checkbot> wwilliam: Line 79: Consider using pgrep instead of grepping ps output. Line 133: read without -r will mangle backslashes. Line 35: Instead of 'let expr', prefer (( expr )). See https://shellcheck.net/?id=cb61801 for all 52 issues.
[18:20:08] <OMGOMG> lol
[18:20:28] <wwilliam> Soliton at the end I would like the script to resume what is wrong and what is OK.
[18:20:33] <OMGOMG> !minimal > wwilliam 
[18:20:34] <greybot> wwilliam: Paste a minimal example of code that exhibits the problem. Digging through a 2000-line script for a 2-line problem wastes everyone's time.
[18:20:52] <wwilliam> OMGOMG:   [09:48] <emanuele6> wwilliam: can you show us the whole script?
[18:20:56] <Soliton> so put what is wrong and OK in variables.
[18:21:16] <Soliton> perhaps two arrays of messages or whatever.
[18:21:18] <OMGOMG> wwilliam: oh, sorry
[18:21:19] *** Joins: son0p (~ff@181.136.122.143)
[18:21:41] <kurahaupo> wwilliam: please indent the function body and other control structures, the same as any other programming language
[18:21:56] <twkm> e.g., g/echo/s/echo /result=/ or even result+=() so result is an array.
[18:22:23] <emanuele6> wwilliam: what are you trying to do at line 152? 
[18:22:29] <wwilliam> I got this from the internet I am cleaning it up and adjusting to bash channel specs.
[18:22:34] *** Quits: sinaowolabi (~SinaOwola@41.190.3.14) (Read error: No route to host)
[18:22:47] <emanuele6> TOTALBC=`echo "scale=2;if($TOTALMEM<1024 && $TOTALMEM > 0) print 0;$TOTALMEM/1024"| bc -l`
[18:22:48] <Soliton> probably easier to start fresh.
[18:22:51] <emanuele6> this is not valid
[18:22:55] <emanuele6> # TOTALBC=`echo "scale=2;if($TOTALMEM<1024 && $TOTALMEM > 0) print 0;$TOTALMEM/1024"| bc -l`
[18:22:56] <shbot4> emanuele6: (standard_in) 1: syntax error
[18:22:57] <shbot4> emanuele6: (standard_in) 1: syntax error
[18:23:17] <emanuele6> TOTALMEM=100; TOTALBC=`echo "scale=2;if($TOTALMEM<1024 && $TOTALMEM > 0) print 0;$TOTALMEM/1024"| bc -l`
[18:23:22] <emanuele6> # TOTALMEM=100; TOTALBC=`echo "scale=2;if($TOTALMEM<1024 && $TOTALMEM > 0) print 0;$TOTALMEM/1024"| bc -l`
[18:23:23] <shbot4> emanuele6: no output
[18:23:27] <emanuele6> nevermind, sorry
[18:23:33] *** Joins: sinaowolabi (~SinaOwola@41.190.3.14)
[18:23:49] <makara> whats a test program i can use that generate stdout and stderr?
[18:24:10] <Soliton> f() { echo out; echo err >&2; }
[18:24:43] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[18:26:38] *** Joins: nobody__ (~nobody@host-82-54-32-140.retail.telecomitalia.it)
[18:27:25] <kurahaupo> !if[$? > wwilliam 
[18:27:34] <kurahaupo> !if$? > wwilliam 
[18:27:40] <kurahaupo> ![$? > wwilliam 
[18:27:40] <greybot> wwilliam: Don't do this: ``mycommand; if [ $? -eq 0 ]'' -- You're running the [ command and checking its exit code to test whether "mycommand"'s exit code is 0. That's a pointless operation, test mycommand directly: ``if mycommand''
[18:27:52] *** Quits: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net) (Quit: WeeChat 3.2)
[18:28:16] *** Quits: Str1x (~d14@2407:7000:89f0:de00:a686:990:8f16:96b2) (Quit: Konversation terminated!)
[18:28:38] <twkm> sie is cargo culting, but then at least trying to make it less janky.
[18:29:05] *** Joins: Str1x (~d14@2407:7000:89f0:de00:a686:990:8f16:96b2)
[18:29:58] <Soliton> i would just take the script as inspiration what values you might want to check and then write your own. going to be a lot of work to clean this up iteratively otherwise.
[18:30:23] <wwilliam> Yes Soliton I would do that, than you kurahaupo.
[18:30:50] *** Quits: sgn (~sgn@user/sgn) (Read error: Connection reset by peer)
[18:31:02] *** Joins: darkxploit (~jay@32.209.19.50)
[18:31:29] *** Joins: sgn (~sgn@user/sgn)
[18:31:31] *** Joins: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net)
[18:31:55] <kurahaupo> Yeah there are like soo99,99 many obsolete styles in that code
[18:32:24] <wwilliam> Thank you guys I will come back with the final product and see what you guys think.
[18:32:34] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[18:36:05] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Quit: ZNC 1.8.2 - https://znc.in)
[18:36:07] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[18:36:37] *** Quits: mhi (~mhinz@46.23.94.209) (Changing host)
[18:36:37] *** Joins: mhi (~mhinz@user/mhi)
[18:37:45] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[18:38:35] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[18:40:54] *** Joins: mikeliuk (~mikeliuk@213.205.198.158)
[18:41:05] *** Quits: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com) (Remote host closed the connection)
[18:41:31] *** Joins: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com)
[18:45:07] *** Joins: richardm75 (~richardm7@2600:8801:c502:c800:98b4:3a98:dd10:74b4)
[18:51:12] *** osse is now known as osseosse
[18:51:13] *** Quits: OlCe (~user@lfbn-nic-1-123-149.w2-15.abo.wanadoo.fr) (Remote host closed the connection)
[18:51:20] *** osseosse is now known as osse
[18:51:26] *** Quits: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com) (Remote host closed the connection)
[18:51:53] *** Joins: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com)
[18:54:33] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[18:58:44] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[18:59:00] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[18:59:50] *** Joins: yates_home (~user@fv-nc-f7af8b91e1-234237-1.tingfiber.com)
[19:00:22] <yates_home> what's the difference in startup files loaded for a "login" shell versus a non-login shell
[19:00:44] <makara> no home directory
[19:01:13] <yates_home> makara: are you answering my question?
[19:01:45] <makara> yes
[19:01:45] *** Quits: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com) (Remote host closed the connection)
[19:02:09] <yates_home> so for example ~/.bashrc would not be loaded?
[19:02:12] *** Joins: sublim20 (~sublim20@user/sublim20)
[19:02:13] *** Joins: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com)
[19:02:55] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Quit: ZNC 1.8.2 - https://znc.in)
[19:03:35] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[19:03:48] *** Quits: kj- (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:04:24] <makara> let me not confuse you https://askubuntu.com/questions/879364/differentiate-interactive-login-and-non-interactive-non-login-shell
[19:04:33] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[19:04:39] <kurahaupo> yates_home: A "standard" shell picks exactly one startup file to read; a well structured .profile or .bash_profile will read .bashrc
[19:04:41] <twkm> the bash docs cover that, but indeed no .bashrc for login shells, no profile for non-login shells.  some arrange for their profile to be source'd by their .bashrc, and their .bashrc by their profile.
[19:05:25] *** Joins: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net)
[19:05:41] <kurahaupo> (Debian had hacked the shell to read both $HOME/.something and99,99 /etc/something, which is quite nonstandard.)
[19:06:28] <kurahaupo> sourcing .*profile from .bashrc is probably the wrong way round
[19:06:54] *** Joins: ChmEarl (~chmearl@user/chmearl)
[19:07:02] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Client Quit)
[19:07:12] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[19:07:41] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[19:07:46] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[19:08:04] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Client Quit)
[19:08:06] <yates_home> which startup file is read for a non-login shell?
[19:08:37] <kurahaupo> It's worth remembering that the shell's idea of "login" need not (and probably should not) correspond to a window system login. The shell's login is about configuring all the stuff needed once for a tty, no more, no less
[19:08:49] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[19:09:18] <yates_home> kurahaupo: ack
[19:09:50] *** Joins: z2cat (~z2cat@106.80.205.48)
[19:10:09] <kurahaupo> (In my book, having an X terminal emulator not99,99 starting the shell as a login shell is broken)
[19:10:12] <yates_home> the Real(TM) problem i'm chasing is that the path is different in emacs' M-x shell versus its shell-command-to-string
[19:11:12] <Soliton> !dotfiles
[19:11:12] <greybot> Set up your environment (PATH, LANG, EDITOR, ...) in ~/.bash_profile. Set up your bash shell (PS1, functions, shopts, ...) in ~/.bashrc. Then source .bashrc from .bash_profile. See <http://mywiki.wooledge.org/DotFiles>. For GUI logins, SEE YOUR DOCUMENTATION or ask your OS channel because they're all different and we don't know.
[19:11:22] <kurahaupo> yates_home: yeah, Emacs probably starts the shell not in login mode; see above
[19:12:08] *** Quits: Mo (~Mo@dynamic-077-006-233-129.77.6.pool.telefonica.de) (Ping timeout: 252 seconds)
[19:12:14] *** Quits: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com) (Remote host closed the connection)
[19:12:39] *** Joins: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com)
[19:13:06] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Client Quit)
[19:13:10] *** Quits: darkxploit (~jay@32.209.19.50) (Ping timeout: 268 seconds)
[19:13:48] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[19:13:50] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[19:14:38] *** Quits: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net) (Quit: uc50ic4more)
[19:17:44] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Read error: Connection reset by peer)
[19:17:56] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[19:18:16] *** Quits: Jenmin (~Jenmin@183.199.203.161) (Ping timeout: 252 seconds)
[19:18:22] <yates_home> are there environment variables defined within the shell that show the state of the shell, e.g., whether or not it was a login shell and whether or not it is an interactive shell?
[19:18:31] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[19:18:42] *** Joins: jetchisel (jetchisel@user/jetchisel)
[19:20:02] <osse> kurahaupo: can I ask why? It doesn't really feel like logging in to me, since I already am. 
[19:20:14] *** Quits: tlaxkit (~hexchat@170.253.46.216) (Quit: Leaving)
[19:20:20] *** Quits: axisys (~axisys@ec2-34-225-151-46.compute-1.amazonaws.com) (Remote host closed the connection)
[19:20:26] *** Joins: Jenmin (~Jenmin@2409:8904:4642:88ad:6537:deda:b114:8c18)
[19:21:32] <yates_home> ideally, a variable which shows the seminal startup file it used.
[19:22:21] *** Quits: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com) (Remote host closed the connection)
[19:22:48] *** Joins: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com)
[19:23:01] *** Joins: OlCe (~user@lfbn-nic-1-123-149.w2-15.abo.wanadoo.fr)
[19:23:13] <kurahaupo> osse: It's a human-machine mismatch. Back when one logged in from a terminal, the meaning of "login shell" was obvious. That translates to "session leader" among processes. But now we "log in" on the computer itself, and start a graphical environment before starting any interactive shells. However each such shell is still a session leader, and still has much in common with the original connected tty session.
[19:23:29] <twkm> yates_home: yes, but not that.
[19:24:12] <yates_home> twkm: what variables? where is this documented?
[19:24:15] *** Joins: magla (~gelignite@55d49622.access.ecotel.net)
[19:24:19] <kurahaupo> It would help a great deal is we stopped calling them "login shells" and instead referred to them as "session leader shells" - which are inherently one per terminal window tab
[19:25:11] <kurahaupo> Most variables should be set by the windowing login and inherited by interactive shells
[19:25:19] <twkm> special parameters.  specifically - is what you want.
[19:25:57] <Soliton> !$-
[19:25:57] <greybot> $- expands to the current option flags as specified upon invocation, by the set builtin command, or those set by the shell itself (such as the -i option).
[19:26:14] *** Joins: tex (~dee@user/dix)
[19:26:29] <kurahaupo> which version of Bash first allowed « local - » ?
[19:26:41] <twkm> !faq versions
[19:26:42] <greybot> https://mywiki.wooledge.org/BashFAQ/061 -- Is there a list of which features were added to specific releases (versions) of Bash?
[19:27:06] <twkm> though come to think of it, that might only be in CHANGES.
[19:27:19] *** Quits: burrows (burrows@user/burrows) (Quit: Quitting)
[19:27:20] *** Quits: sinaowolabi (~SinaOwola@41.190.3.14) (Read error: Connection reset by peer)
[19:27:24] <Soliton> 4.4
[19:27:49] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Remote host closed the connection)
[19:28:13] <kurahaupo> That's newer than what's installed on some of my servers
[19:28:15] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Quit: ZNC 1.8.2 - https://znc.in)
[19:30:11] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[19:32:17] <ede> kurahaupo: won't work either. the question would only be "what is a session" "what is a session leader and what non-leaders are there", and then "terminal window tab". every project uses these words for whatever they want.
[19:32:19] <wwilliam> Can not use pgrep 
[19:32:30] <wwilliam> I have to know the name of the exactly process.
[19:32:39] *** Quits: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com) (Remote host closed the connection)
[19:32:51] <twkm> pgrep -x exactname
[19:32:51] <kurahaupo> ede: session as defined in man 2 getsid
[19:32:52] <wwilliam> Which varies.  This is what i need:
[19:32:56] *** Quits: makara (~sol@196.61.111.63) (Ping timeout: 252 seconds)
[19:33:05] *** Joins: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com)
[19:33:24] <twkm> pgrep 'gr[ae]y(ca|bo)t'
[19:34:05] <kurahaupo> ede: "kernel session leaders" if we want to prevent people intentionally misconstruing "session"
[19:34:14] *** Joins: burrows (burrows@user/burrows)
[19:34:37] <wwilliam> I need to look for itm either lower or upper case in the patch of the name of the process
[19:34:51] <twkm> kurahaupo: now you have two problems.
[19:34:55] *** Quits: OlCe (~user@lfbn-nic-1-123-149.w2-15.abo.wanadoo.fr) (Remote host closed the connection)
[19:35:05] <ede> > getsid(0)  returns the session ID of the calling process.  getsid() returns the session ID of the process with process ID pid.
[19:35:11] <ede> text formatting as displayer
[19:35:14] <wwilliam> I will use ps -ef |grep for now.
[19:35:22] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[19:35:23] <twkm> wwilliam: anyway, i guess you can write a regex for grep that you can't write for pgrep.
[19:35:31] <ede> text formatting as displayed. even the different formatting for getsid(0) and getsid() is totally confusing already.
[19:36:13] <twkm> pid values are sort of regular.
[19:36:15] <ede> "Login" still is clearer. you login in some tty, it is a login shell. you don't login when you start a new xterm in your desktop
[19:36:26] <wwilliam> I need anything that shows ITM:
[19:36:30] <wwilliam>    /opt/IBM/ITM/lx8266/lz/bin/kcawd
[19:36:43] <kurahaupo> ede: There's no ambiguity: the correct answer is whatever the kernel tells you
[19:37:03] <ede> and here we are again with tty, because there's tty and tty0 and tty${n}
[19:37:08] <twkm> so it can be /OPT/ibm/iTm/lX8266/Lz/biN/KCawd?
[19:37:09] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[19:37:27] <ede> kurahaupo: i don't talk with the kernel, the programs i'm using do
[19:37:40] <twkm> or specifically, KCawd and kCawd and kcAWD and ...
[19:38:12] *** Joins: sinaowolabi (~SinaOwola@41.190.3.14)
[19:38:15] <kurahaupo> ede: Yes, but you can use ps to inspect the sid of each process
[19:38:39] *** Joins: kj (~kj@beta.aerisnetwork.net)
[19:38:42] <ede> i could, but i gave up pa in favour of htop long ago
[19:38:49] <ede> s/pa/ps/
[19:39:35] <ede> the reason may be that documentation for such system tools is written for developers and sysadmins with university education
[19:40:05] *** Joins: arinov (~arinov@213.194.126.155)
[19:40:18] <kurahaupo> ede: My point is, there's an unequivocal meaning of "session leader process", and even if someone doesn't know that meaning and wants to make up their own meaning, that can be challenged by matching what the kernel says
[19:40:59] <ede> and then ps has 3 sets of options iirc which can't be freely mixed, it took me forever to give me an output similar to what i got in htop later. combining everyting i found and getting "not compatible" errors most times
[19:41:12] *** Joins: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431)
[19:42:12] <kurahaupo> The larger problem is that the shell doesn't use the kernel SID to decide to run as a login shell; rather it looks for argv[0][0]=='-' (because ancient history)
[19:42:42] *** Quits: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com) (Remote host closed the connection)
[19:43:08] *** Joins: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com)
[19:44:06] <kurahaupo> ps -o pid,sid,cmd
[19:44:25] <ede> no idea if it is even related, the manpage doesn't mention it, but in the mc subshell i have MC_SID=2002
[19:44:39] <ede> which is the PID of the bash shell from htop
[19:45:15] <ede> ok, bash and ps have the same SID now
[19:47:04] <kurahaupo> In Linux sid & pgrp equate to the pid of the respective leader; but that's not true on all systems
[19:48:17] *** Quits: speckz (~speckz@2600:1700:ce0:bf00:8958:f760:fdb0:f2fe) (Quit: Textual IRC Client: www.textualapp.com)
[19:49:19] <kurahaupo> If you follow the chain of parent process IDs you eventually get to the last process with the same SID; that's the session leader. On Linux its sid, pgrp, and pid will all be the same; on BSD & MacOS they will be different
[19:51:35] <ede> man ps has one line containing SID and this is: sid         SID       see sess.  (alias sess, session).
[19:51:49] <ede> no idea what this even means, there is no "sess." in the file
[19:52:11] <ede> looks like the manpage is ripped of some bigger documentation, the footer also says procps-ng
[19:53:29] <kurahaupo> ede: try "sess" without the dot
[19:53:31] <ede> well, Linux is the de facto standard OS of them. knew 2 people in my whole life using an Apple (with some OS 7.x) and BSD, never seen one.
[19:53:53] <ede> tons of "session"
[19:57:43] *** Quits: ormaaj2 (~6174bb9b@user/ormaaj) (Quit: https://mibbit.com Online IRC Client)
[19:58:55] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[20:00:33] <wwilliam> OK I found something someone told me here the other day:
[20:00:43] <wwilliam> pgrep -l -f ITM
[20:00:44] <wwilliam> 1901 klzagent
[20:00:46] <wwilliam> 3314 kcawd
[20:03:40] <wwilliam>  Thank you all.
[20:04:24] *** Quits: absc (~absc@dynamic-adsl-94-34-217-240.clienti.tiscali.it) (Remote host closed the connection)
[20:04:58] *** Quits: nobody__ (~nobody@host-82-54-32-140.retail.telecomitalia.it) (Ping timeout: 268 seconds)
[20:05:32] *** Joins: Izem (~user@bras-base-london1483w-grc-42-65-95-172-41.dsl.bell.ca)
[20:06:43] <Izem> if foo="HelloWorld", how can I remove "World"? I thought I could remove it with ${foo#World} but that does nothing.
[20:06:43] *** Joins: OlCe (~user@lfbn-nic-1-123-149.w2-15.abo.wanadoo.fr)
[20:08:44] <ede> !73
[20:08:48] <ede> :(
[20:08:52] <ede> !073
[20:09:01] <ede> !faq 73
[20:09:02] <greybot> https://mywiki.wooledge.org/BashFAQ/073 -- How can I use parameter expansion?  How can I get substrings?  How can I get a file without its extension, or get just a file's extension? What are some good ways to do basename and dirname?
[20:09:08] <ede> Izem --^
[20:09:40] <Izem> ty
[20:09:41] *** Quits: Cjefke (~nomail@041-061-158-163.dynamic.caiway.nl) (Ping timeout: 265 seconds)
[20:11:35] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
[20:16:41] <kurahaupo> Izem: "World" isn't at the beginning; to remove from the end use % instead of #
[20:16:42] <Izem> yeah, it's ${foo%World} :)
[20:16:59] <Izem> I wasn't paying attention when reading the docs
[20:17:55] *** Joins: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[20:18:04] <kurahaupo> Note that the ${var#prefix} and ${var% suffix} are99,99 POSIX but ${var/match/replace} is not
[20:18:55] <kurahaupo> Also ${var:start:length} is not POSIX
[20:19:24] *** Quits: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Read error: Connection reset by peer)
[20:19:45] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 276 seconds)
[20:19:47] *** Joins: mr-red (~drd@93-39-151-19.ip76.fastwebnet.it)
[20:20:30] *** Joins: sokle_68 (~sokle_68@ppp046177034085.access.hol.gr)
[20:21:17] <Izem> yeah, thanks
[20:21:44] *** Quits: redgloboli (~redglobol@user/redgloboli) (Quit: ended)
[20:23:23] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[20:23:33] *** Quits: Bhavuk (~BTaneja@122.173.25.167) (Quit: Leaving)
[20:23:54] *** Joins: redgloboli (~redglobol@user/redgloboli)
[20:24:02] *** Joins: Bhavuk (~BTaneja@122.173.25.167)
[20:26:33] <ede> # s="HelloWorld"; echo ${s%W*}
[20:26:35] <shbot4> ede: Hello
[20:26:49] <ede> Izem: you just need to name the delimiter
[20:27:04] *** Joins: chomwitt (~chomwitt@2a02:587:dc0e:ef00:12c3:7bff:fe6d:d374)
[20:27:28] <ede> a new bot for bash4 or just the bot release?
[20:27:29] *** Quits: darkbit (~db@152.32.99.67) (Ping timeout: 252 seconds)
[20:28:22] *** Quits: Bhavuk (~BTaneja@122.173.25.167) (Client Quit)
[20:29:21] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[20:30:09] *** Quits: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com) (Remote host closed the connection)
[20:30:52] *** Joins: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com)
[20:31:41] <Izem> # foo="HelloWorld"; echo ${foo%World} # :)
[20:31:43] <shbot4> Izem: Hello
[20:32:28] <ede> # s="HelloWorld"; echo ${s%We*}
[20:32:30] <shbot4> ede: HelloWorld
[20:32:41] <ede> ok, so it takes it as a literal strin
[20:32:43] <ede> g
[20:33:06] *** Parts: sokle_68 (~sokle_68@ppp046177034085.access.hol.gr) ()
[20:34:47] <Izem> that could be a bug mind
[20:35:41] *** Joins: odinsbane (~mbs@pat-pool-138.crick.ac.uk)
[20:36:02] *** Quits: sgn (~sgn@user/sgn) (Read error: Connection reset by peer)
[20:36:03] <Izem> docs just say WORD but I'm to lazy to find out what WORD is supposed to be
[20:36:20] <twkm> same docs, just earlier.
[20:36:46] *** Joins: sgn (~sgn@user/sgn)
[20:37:40] <odinsbane> I have a program, foo, and it recieves input from stdin. I am using "cat my-script.js | foo" Is there a way to do this where I include a string in my-script.js or something that doesn't close stdin after the file has finished?
[20:37:43] *** Joins: Bhavuk (~BTaneja@122.173.25.167)
[20:37:53] *** Joins: Mo (~Mo@dynamic-077-006-233-129.77.6.pool.telefonica.de)
[20:39:27] <odinsbane> Essentially, in my script I run file_name="hardcoded-filename" and I would like it to be file_name=$1
[20:39:54] <ede> # s="HelloWorld"; echo ${s%5}
[20:39:56] <shbot4> ede: HelloWorld
[20:40:12] *** Quits: Bhavuk (~BTaneja@122.173.25.167) (Client Quit)
[20:40:26] <geirha> a glob pattern
[20:40:44] <geirha> !faq 100
[20:40:44] <greybot> https://mywiki.wooledge.org/BashFAQ/100 -- How do I do string manipulations in bash?
[20:41:13] <geirha> odinsbane: so you basically want a template file
[20:41:16] <geirha> !template
[20:41:16] <greybot> http://mywiki.wooledge.org/TemplateFiles
[20:43:13] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[20:43:20] <odinsbane> ok, Ill try the sed example.
[20:44:40] *** Joins: Bhavuk (~BTaneja@122.173.25.167)
[20:47:15] *** Quits: OlCe (~user@lfbn-nic-1-123-149.w2-15.abo.wanadoo.fr) (Remote host closed the connection)
[20:47:50] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[20:48:17] <Izem> "A sequence of characters treated as a unit by the shell.  Words may not include unquoted 'metacharacters'."
[20:48:38] <Izem> great, not a bug :P
[20:51:04] *** Joins: gareppa (~gareppa@user/gareppa)
[20:52:24] *** Quits: Izem (~user@bras-base-london1483w-grc-42-65-95-172-41.dsl.bell.ca) (Remote host closed the connection)
[20:58:41] <ede> so ${::} only can remove from the left in a controlled way?
[21:00:30] <ede> http://tiswww.case.edu/php/chet/bash/bashref.html#Shell-Parameter-Expansion
[21:00:42] <ede> the example list is endless but does not explain anything
[21:01:40] *** Quits: sinaowolabi (~SinaOwola@41.190.3.14) (Read error: Connection reset by peer)
[21:03:08] *** Quits: Mo (~Mo@dynamic-077-006-233-129.77.6.pool.telefonica.de) (Ping timeout: 252 seconds)
[21:04:20] *** Quits: wwilly (~wwilly@fw-tnat-cam7.arm.com) (Quit: Leaving)
[21:05:33] <kurahaupo>  x=ede-xyz ; echo "s{x::-2}"
[21:05:50] <kurahaupo>  # x='ede: xyz' ; echo "s{x::-2}"
[21:05:57] <phogg> one more time
[21:06:10] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 2.3)
[21:06:12] <kurahaupo>  # x='ede: xyz' ; echo "${x::-2}"
[21:06:43] <kurahaupo> Damn touch keyboard gone into wonky mode where shift doesn't stickm
[21:06:54] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[21:06:55] <phogg> # x='ede: xyz' ; echo "${x::-2}"
[21:06:57] <shbot4> phogg: ede: x
[21:06:58] *** Joins: sinaowolabi (~SinaOwola@41.190.3.14)
[21:07:08] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Remote host closed the connection)
[21:07:23] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[21:07:34] <jetchisel> shbot4? where is shbot 1-3 ? ^^
[21:08:54] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[21:09:48] *** Quits: chomwitt (~chomwitt@2a02:587:dc0e:ef00:12c3:7bff:fe6d:d374) (Ping timeout: 276 seconds)
[21:10:25] <ede> kurahaupo: that info page doesn't even explain the ${s::n} syntax
[21:10:55] *** Joins: justsome1 (~justsomeg@user/justsomeguy)
[21:11:17] <twkm> it does explain it, it doesn't provide a billion examples.
[21:11:30] <ede> "::" isn't mentioned in that context
[21:11:31] *** Quits: N0ZYC_ (~N0ZYC@173-16-166-245.client.mchsi.com) (Read error: Connection reset by peer)
[21:11:35] *** Quits: justsomeguy (~justsomeg@user/justsomeguy) (Ping timeout: 255 seconds)
[21:12:01] *** Joins: N0ZYC (~N0ZYC@173-16-166-245.client.mchsi.com)
[21:12:05] *** Quits: unixman_home (~unixman2@88-232-137-216.mtaonline.net) (Remote host closed the connection)
[21:12:21] *** Joins: unixman_home (~unixman2@88-232-137-216.mtaonline.net)
[21:13:14] <twkm> nothing is interpreted, as in other arithmetic contexts, as zero, so ::n is :0:n.
[21:14:04] *** Quits: mikeliuk (~mikeliuk@213.205.198.158) (Quit: Connection closed)
[21:15:16] <phogg> the logical consequences of all the rules, all of which are explained, is not always spelled out in detail. This is a common problem(?) in documentation
[21:15:21] <phogg> and the difference between a manual and a tutorial
[21:18:12] <earnestly> Yes, unless the consequence is entirely surprising those tend to be left for the user to think about as otherwise documentation would become multi-volume books (see latex documentation ._.)
[21:18:35] <ede> complex things need big documentations
[21:18:40] <kurahaupo> ede: ${x::-2} is simply ${var:start:length} with start empty and length negative
[21:18:43] <llua> this is pretty basic tho
[21:18:52] <ede> "learn C++ in 21 days" is just a marketing gag
[21:18:59] <earnestly> And unlike info documentation, latex package documentation tends to employ all the shitidiot fancy styling the author can possibly throw at it
[21:19:03] *** Joins: OlCe (~user@lfbn-nic-1-123-149.w2-15.abo.wanadoo.fr)
[21:19:21] <earnestly> So all different, and all ugly, pretty much
[21:19:38] <phogg> ede: anyone can learn C++ syntax that fast. Most languages are learnable in a handful of days, if all you want is the basics. Actual competence takes time and there's no escape for that.
[21:19:44] <earnestly> Eh
[21:19:47] <earnestly> Probably
[21:20:05] *** Quits: gareppa (~gareppa@user/gareppa) (Quit: Leaving)
[21:20:06] <earnestly> xinyminutes is good for syntax but C++ has some pretty quirky syntax
[21:20:11] <ede> you learn the basic *structure* of something, but surely not to do something meaningful with it
[21:20:22] <phogg> earnestly: is this where you object that C++ is fiendishly complicated? It's true, but you don't have to learn ALL of it to "know C++" 
[21:20:22] <kurahaupo> ede: However ${x:-substitution} means something different, so that the expression for start must not start with a minus
[21:20:33] <ede> and then you still need A LOT of daily training to remember it all
[21:21:18] <earnestly> phogg: No, not that per-se, just that the syntax itself is quite tricky.  Usually syntax can be learned in a few minutes or hours for most languages, but idk about C++
[21:21:27] <earnestly> 21 days is enough though :p
[21:21:29] <ede> kurahaupo: yeah, that's what i noticed in the wiki (073?). tried 2 screenfuls of examples in the terminal, still didn't find the trick
[21:21:34] <earnestly> ede: https://learnxinyminutes.com/docs/c++/
[21:21:35] <phogg> ede: "A swift-flowing stream does not grow stagnant" as the tao of programming says
[21:21:40] *** Joins: zoe (~zoe@xdsl-31-164-88-63.adslplus.ch)
[21:22:00] <kurahaupo> phogg: which parts can you leave out when learning C++ and still count as "knowing C++"?
[21:22:12] <phogg> earnestly: I wouldn't say C++ can be learned in the proverbial weekend, that's true. But three weeks ought to do it!
[21:22:15] <ede> earnestly: lol, it really exists. i'll have a look at it.
[21:22:49] <phogg> kurahaupo: I forget (I've tried to forget a lot of C++). There are many details about why it works the way it works which you don't really need to remember most of the time.
[21:22:52] <kurahaupo> ede: If you want a negative value for start, put a space before it, 
[21:22:59] <ede> phogg: taylor swift (i know nothing about here, only that americans seem to be mad about her) or the java UI?
[21:23:09] <ede> kurahaupo: yep :)
[21:23:11] <earnestly> phogg: Mostly due to how overloaded structs (classes) are in what they allow you to express, special syntax/tokens for things like destructors instead of words, and how inheritence weaves into it
[21:23:35] <phogg> kurahaupo: like... it's possible to write a perfectly valid C++ program that compiles and runs, but doesn't use a fraction of C++ features. Did you do it without knowing C++? Probably not.
[21:23:42] <earnestly> And do you use a space between > > or not, heh
[21:23:54] <kurahaupo> # x=abc ; echo "(${x:-1:1})"
[21:23:56] <shbot4> kurahaupo: (abc)
[21:24:04] <kurahaupo> # x= ; echo "(${x:-1:1})"
[21:24:06] <shbot4> kurahaupo: (1:1)
[21:24:18] <kurahaupo> # x=abc ; echo "(${x: -1:1})"
[21:24:20] <shbot4> kurahaupo: (c)
[21:24:21] <ede> as for C++, only templates. it needs a page to explain what it is and how to basically use it. but until a user is able to build a class with some operators on it it takes some time.
[21:24:48] <phogg> ede: the tao of programming, an old but absolutely faultless piece of literature every programmer should read once. I mention it in the context of needing continual use to remember things, although the analogy is not quite right.
[21:26:02] <ede> phogg: you meab the endless story which was meant to get released in 3, later 5 books? which now is iirc 3 books and a handful of papers and still not finished?
[21:26:04] <phogg> ede: templates aren't C++ at all, they're a language called C++ templates
[21:26:20] <phogg> ede: no, this https://www.mit.edu/~xela/tao.html
[21:26:21] <earnestly> lisp is: (funcname arg1 ... argn) ; and you're done
[21:26:48] *** Quits: humky (~humky@user/humky) (Quit: Leaving)
[21:26:50] <ede> yeah, i should have bought it in the late 90s, now it costs more in € than in DM back then (at an exchange rate of 1.9775:1 or such) :/
[21:26:51] <N0ZYC> basic: "what's recursion?"    lisp: "what's not recursion?"
[21:26:55] <phogg> earnestly: but that also explains about 80% of everythging in lisp
[21:26:55] <earnestly> That's all the syntax it has, and why I can't read it \o/
[21:27:21] <kurahaupo> N0ZYC: lol..yep.
[21:27:44] <ede> phogg: ah, i meant TAOCP ofc, not The Tao of Programming
[21:28:00] <earnestly> kurahaupo: The hardware that we actually use, doesn't like it
[21:28:01] *** Joins: Achylles (~Achylles_@2804:431:d724:510f:d7b1:4ecb:6877:1a1a)
[21:28:08] *** Quits: mr-red (~drd@93-39-151-19.ip76.fastwebnet.it) (Read error: Connection reset by peer)
[21:28:08] <earnestly> It likes fortran
[21:28:22] <phogg> ede: ah yes, I understand the confusion. Quite a different thing indeed.
[21:28:28] *** Quits: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com) (Ping timeout: 265 seconds)
[21:28:44] <earnestly> Virtually always better to turn recursive algorthms into a while loop even with tce and such
[21:28:48] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[21:29:05] *** Quits: gnooooo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[21:29:08] <ede> also, LISP. there's a nice edited screenshot of some code, one for how LISP programmers see it, one for how others see it (hint: only brackets)
[21:29:13] <phogg> earnestly: (c) let the compiler figure it out
[21:29:27] <earnestly> phogg: SufficientlySmartCompiler™
[21:29:40] <earnestly> The "low level details don't matter" crowd got it wrong
[21:29:41] <phogg> earnestly: any insufficiently smart compiler is assumed to be buggy (-;
[21:30:09] <earnestly> implementation details always matter :(
[21:30:12] <kurahaupo> I find myself very troubled by the mantra that is often proffered, that if you're unsure about precedence, or if you suspect that the reader may be unsure99,99, then you should insert brackets to "clarify" the code. In my experience it has the reverse effect: redundant parentheses make the code harder to read, for the same reason that LISP is hard to read 
[21:30:17] <phogg> earnestly: the low level details? "that's a hardware problem" or, to put it another way, "not my department"
[21:30:25] <earnestly> And proof doesn't compose
[21:30:26] <phogg> earnestly: indeed they do
[21:30:48] <earnestly> proof not composing was a major blow to me and what I thought could be done
[21:30:53] *** Joins: mr-red (~drd@93-39-151-19.ip76.fastwebnet.it)
[21:30:57] <phogg> kurahaupo: whitespace can help clarify just as much
[21:32:08] <kurahaupo> LALR(1) grammars were an attempt to formulate computer languages that would be easy for humans to deal with. However it turns out that human languages rely enormously on "precedence", and very little on "bracketing" 
[21:32:16] <earnestly> lisp is hard for me to read because it has no syntax, I don't mind the parentheses but when control structures sort of melt into everything else I can't get a handle of it, even though it is very nice
[21:32:36] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[21:32:44] <earnestly> data structures look all the same, even their shapes
[21:32:54] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 258 seconds)
[21:33:19] <earnestly> How it is accessed or used, all looks the same
[21:33:32] <kurahaupo> earnestly: my point exactly: it's the antithesis of how human languages work
[21:33:52] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 272 seconds)
[21:33:58] <earnestly> kurahaupo: You know Ada (the one that won) was designed to be a 1 pass language, and so it is LL(1)
[21:33:58] *** Joins: freshgumbubbles[ (~freshgum_@2001:470:69fc:105::c1a5)
[21:34:10] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[21:34:39] <kurahaupo> People complain about learning precedence tables for computer languages, an exercise that's easily accomplished in a week, yet they're happy to spend years learning other human languages. What's wrong with this picture?
[21:34:58] <earnestly> Different types of people
[21:35:08] <ede> kurahaupo: definitely yes with the brackets, clear indents are a much better thing. just compare YAML to JSON
[21:35:28] <kurahaupo> earnestly: the C family of languages is just a branch of the Ada family …
[21:35:30] <llua> So like, What is the difference between test, [ and [[ ?
[21:35:44] <kurahaupo> ![[
[21:35:44] <greybot> [[ is a bash keyword similar to (but more powerful than) the [ command. See <http://mywiki.wooledge.org/BashFAQ/031> and <http://mywiki.wooledge.org/BashGuide/TestsAndConditionals>. Unless you're writing for POSIX sh, we recommend [[.
[21:35:45] <earnestly> kurahaupo: I wouldn't say so, definately Algol
[21:35:47] <kurahaupo> ![
[21:35:47] <greybot> [ or test is the POSIX test command. It can do simple tests on files and strings. In bash, you should use the more powerful [[ instead and ban [ for sake of consistency. [[ can do pattern matching, is faster and safer to use. http://mywiki.wooledge.org/BashGuide/TestsAndConditionals http://mywiki.wooledge.org/BashFAQ/031
[21:35:49] <phogg> kurahaupo: human languages are not optional and are learned at a time when your brain is more open to shaping neural pathways
[21:35:59] <kurahaupo> sorry, yes, algol not ada
[21:36:11] <llua> Can I do a spinner in Bash?
[21:36:19] <phogg> kurahaupo: what languages aren't a branch of algol? Apart from lisp.
[21:36:22] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[21:36:23] <kurahaupo> Ada was "improved Pascal" if I remember it correctly
[21:36:45] <kurahaupo> FORTH, BASIC, FORTRAN
[21:36:58] <llua> How do I create a temporary file in a secure manner?
[21:36:59] <kurahaupo> Logo, PostScript,
[21:37:09] <ede> https://www.thesoftwareguild.com/wp-content/uploads/2015/07/Programming-Languages-Infographic.jpg from https://www.thesoftwareguild.com/blog/history-of-programming-languages/
[21:37:12] <phogg> kurahaupo: in other words, nothing much used today
[21:37:21] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[21:37:25] <kurahaupo> llua: put it in a directory nobody else can access
[21:37:46] <llua> zzz
[21:38:34] *** Joins: nbao (~hot@2804:14c:5bb8:9720:ae9e:17ff:fedf:3e09)
[21:39:01] <ede> llua: there's mktemp
[21:39:13] <kurahaupo> phogg: mostly because we've spent 30 years only teaching undergrads C++ & Java
[21:39:22] <earnestly> kurahaupo: You might find the history of Ada interested, see Steelman requirements (started with Strawman, Tinman, etc.) and the Green Team (Ichbiah) who designed it.  None of its influence really came from C even though it was 6~8 years after it
[21:39:34] <ede> llua: or use something like $$ + date
[21:39:54] <kurahaupo> earnestly: It was more akin to Pascal, with the idiotic restrictions removed
[21:40:07] <phogg> kurahaupo: it's also due, I think to the fact that there isn't much advantage in anything else. It's not like you need a non-algol language to gain the benefits of APL, or whatever
[21:40:33] *** Quits: mr-red (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 265 seconds)
[21:41:14] *** Joins: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[21:41:33] <kurahaupo> phogg: The problem is that half (most? al) of the current languages do a half-arsed job of some of the things that made algol great. 
[21:42:00] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 252 seconds)
[21:42:14] *** Joins: austin987 (~null@100.42.98.196)
[21:42:49] <phogg> kurahaupo: that is indeed a problem.
[21:43:13] <phogg> the good news is that new languages proliferate; perhaps one of the good ones will eventually become popular, too
[21:43:15] <kurahaupo> well, a half-arsed job of most of the good language ideas
[21:45:55] <kurahaupo> Unfortunately as the repeated pattern exemplified by PHP what makes a language popular is often what makes it awful 
[21:46:21] <phogg> ede: that infographic is interesting but hard to trust. It doesn't list any influence on C from algol68, but there evidently was some
[21:46:47] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[21:47:25] <phogg> kurahaupo: in the case of PHP I don't think that's true. What makes it awful wasn't necessary to make it popular. It could have always *allowed* strong typing, but made it optional, and had the same "easiness"
[21:48:01] <kurahaupo> PHP surplanted Perl in part because Perl becoming stricter 
[21:48:16] <phogg> no, I don't think that had a thing to do with it
[21:48:23] <phogg> perl became stricter only if you opted in
[21:48:29] <phogg> for a long time, anyway
[21:48:39] <kurahaupo> Perl became complicated
[21:49:04] *** Quits: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 272 seconds)
[21:49:11] <kurahaupo> If you can call only 20-ish grammar rules complicated
[21:49:13] <phogg> I really don't buy that argument. Everything complicated about perl is a problem with PHP, too, except its object system
[21:49:24] *** Quits: dale (dale@user/dale) (Remote host closed the connection)
[21:49:43] <phogg> perl's module system/object orientation builder's toolkit was a definite misstep--or it needed Moose from day one
[21:50:13] <phogg> PHP had no module system at all until just recently, and that was to its benefit from an ease-of-adoption POV (no need to worry about modules, there aren't any!)
[21:50:14] *** Joins: dale (dale@user/dale)
[21:52:11] <phogg> in any case this is more of a conversation for ##programming or somewhere
[21:52:38] <kurahaupo> One of the advantages of Java was that its grammar made external tooling easy. Until Go there hasn't been another popular language that really emphasised that point.
[21:52:44] <kurahaupo> phogg: yeah, true
[21:53:02] <ede> phogg: maybe they should make one with design properties and attach these to languages :)
[21:53:13] *** Joins: chomwitt (~chomwitt@ppp-94-67-220-135.home.otenet.gr)
[21:53:27] <phogg> ede: I don't follow that
[21:53:41] <ede> like pointers, classes, this kind of things
[21:53:52] <phogg> ede: perl? It has those
[21:53:57] <ede> no, generally
[21:54:03] * phogg is confused
[21:54:07] <ede> re: your comment on the graphic
[21:54:10] *** Quits: jos2 (~jos3@dyndsl-178-142-065-033.ewe-ip-backbone.de) ()
[21:54:30] <phogg> ede: ah, I see. I don't know, there would be a lot of properties
[21:54:33] *** Joins: Sasazuka (~Sasazuka@user/sasazuka)
[21:54:43] <ede> would give a nice wallpaper i guess ;)
[21:55:26] <ede> like the old version of https://www.levenez.com/unix/
[21:55:41] <kurahaupo> The designers of Java and Go both started with "ease of external tooling" as explicit design goals for the languages they were building. If you have those then a lot of other choices become less immutable because you can write conversation tools to fix code when you need to retire features
[21:55:43] <ede> never could open the original full image in the browser, it always crashed
[21:56:05] <ede> not surprising at a width of iirc 30k px xD
[21:56:52] <kurahaupo> PHP & Python have taken the alternative approach of simply rebooting the language, so each is really a family of languages
[21:57:28] <phogg> kurahaupo: python rebooted, PHP didn't exactly do that
[21:57:47] *** Joins: fivegruel (~fivegruel@dynamic-046-114-146-110.46.114.pool.telefonica.de)
[21:57:52] <kurahaupo> (Why distros make it so frigging hard to install multiple versions of PHP is a mystery, when they're so clear about allowing both Python 2 & 3
[21:58:15] <kurahaupo> Perl rebooted at 5.0 but that was a long time ago
[21:58:30] <phogg> since then Perl has been very good about compatibility
[21:58:49] <phogg> although 7.0 will be a break again, albeit not a large one
[21:58:51] <ede> didn't PHP break a lot with 6.3?
[21:59:00] <kurahaupo> I love Perl but I'm very glad that it wasn't my first language
[21:59:02] <phogg> ede: there is no PHP 6, I assume you mean 5.3?
[21:59:18] <kurahaupo> ede: yes, and 5.2, and 7.0
[21:59:21] <phogg> kurahaupo: perl was my first-ish language. First serious language after a little BASIC
[21:59:21] <ede> maybe, i didn't looked at it for some time
[21:59:36] <kurahaupo> err, yeah 5.3
[21:59:43] <phogg> 5.3 was a major update, but it was *mostly* backwards compatible
[21:59:55] <ede> i'm fine with new majors to introduce breakthroughs, but minors shouldn't (Gtk or Gnome also did it iirc)
[22:00:03] <phogg> 7.0 deliberately dropped stuff, but only in the form of "deprecated things all right thinking people stopped doing a decade ago"
[22:00:08] <phogg> 8.0 is doing that again
[22:00:57] <phogg> well, php does also break compat at the minor release sometimes. Things like changing which errors are triggered at "warning" vs "info" comes to mind
[22:01:11] <phogg> and other things that are complicated to go in to, but which can be a problem
[22:01:21] * phogg sadly has much current knowledge of php
[22:01:22] <kurahaupo> Perl 7 is doing that too; turn off cruft that nobody should have used in the last 20 years and turn on sensible defaults
[22:01:57] <phogg> kurahaupo: the cruft parts shouldn't be an issue, but the "sensible defaults" very well might. Lots of people don't use boilerplate to turn them on, although everyone shouod.
[22:02:00] <phogg> should*
[22:02:12] <yates_home> where are the $- flags defined?
[22:02:22] <yates_home> echo $- = himBHs
[22:03:15] <colo> via `set`
[22:03:32] <kurahaupo> The immense boilerplate is the second worst thing about Java. (The worst thing is the disparity value/reference semantics between atomics and objects.)
[22:03:36] <colo> # set -x; echo $-
[22:03:38] <shbot4> colo: + echo himxBs
[22:03:38] <shbot4> colo: himxBs
[22:03:43] <colo> hence the "x"
[22:04:18] <phogg> kurahaupo: no, the worst thing about Java is its culture.
[22:04:31] <depesz> yates_home: https://man7.org/linux/man-pages/man1/bash.1.html, search for "abefhkmnptuvxBCEHPT"
[22:04:36] *** Quits: ede (~ede@user/ede) (Remote host closed the connection)
[22:04:37] <phogg> kurahaupo: which is largely the fault of Sun, at least in origin
[22:04:47] <kurahaupo> phogg: I'd put that 3rd
[22:04:50] *** Joins: ds0ap (~ds0ap@lns5-pool6-232.adsl.user.start.ca)
[22:05:03] *** Joins: michigan (uid507982@id-507982.charlton.irccloud.com)
[22:05:16] <kurahaupo> The copypasta programming style is awful though
[22:05:17] <koala_man> is the disparity that bad in practice?
[22:05:40] *** Joins: ede (~ede@user/ede)
[22:06:33] <kurahaupo> I'm like, you compute this same complex expression 3 times, why don't you give it a name the first time? (Wash rinse repeat 1000× in the average codebase; it's utterly pervasive.)
[22:06:41] *** Joins: darkxploit (~jay@32.209.19.50)
[22:06:44] <phogg> kurahaupo: I don't think copypasta is at all a Java thing, that's a passionless/newbie programmer thing. It's just that Java is used in contexts where those people are most likely to be found.
[22:07:37] <phogg> it's a reason not to work on existing java codebases, but not a thing caused by the language
[22:07:59] <phogg> whereas the culture problem impacted the stdlib, which does affect me even in my own code
[22:08:10] <kurahaupo> If I'm designing a language, it will be an error to repeat any identical calculation involving more than 2 operators.
[22:08:32] <koala_man> haha
[22:08:34] <phogg> kurahaupo: this is where that sufficiently smart compiler would be helpful
[22:08:44] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 255 seconds)
[22:08:58] <phogg> "it is a compile time error because you have repeated this statement twice in the same lexical scope"
[22:09:19] <koala_man> error: a*b+c*d is already in use in Foo.java
[22:09:30] <kurahaupo> you WILL give that sucker a name, for the sake of the reader
[22:10:07] *** Joins: igemnace (~ian@user/igemnace)
[22:10:08] <kurahaupo> As long as all the operands are provably the same objects, of course.
[22:10:35] <koala_man> oh I thought you meant structural similarity
[22:10:37] <phogg> and the object state doesn't change as a side effect of being used
[22:11:15] <kurahaupo> I'm in two minds whether it should trip on values, like in: a=b; a+a+a+a; b+b+b+b;
[22:11:26] <kurahaupo> phogg: yes of course
[22:12:16] <kurahaupo> provably the same values (maybe or maybe not obtained from the same objects)
[22:13:02] <kurahaupo> I mean, where it can prove that the result of the calculation will be identical.
[22:13:09] <kurahaupo> *calculations
[22:13:59] *** Quits: Bhavuk (~BTaneja@122.173.25.167) (Quit: Leaving)
[22:14:05] *** Joins: jos1 (~jos3@dyndsl-178-142-065-033.ewe-ip-backbone.de)
[22:14:53] *** Joins: skapata (~Skapata@user/skapata)
[22:15:11] <kurahaupo> Sometimes I wonder if having a hard-to-learn language makes for better code, because programmers cannot get through the starting gate unless they put in some learning effort
[22:15:52] <phogg> I think the answer is "No" overall. What helps is more and better on-ramps to learning more after you already know some.
[22:16:02] <phogg> Make it easier to go from beginner to advanced
[22:16:12] <kurahaupo> By "hard to learn" I don't mean "anything is legal but you need to avoid lots of gotchas* (which is basically Bash in a nutshell)
[22:17:33] *** Quits: justsome1 (~justsomeg@user/justsomeguy) (Quit: WeeChat 3.0.1)
[22:18:14] <kurahaupo> But maybe having to deal with a grammar that isn't just another variation on C would force people to learn the grammar before they start, and might pick up useful guidance while they're doing that. Haskell, for example.
[22:19:05] <quesker> you know when you ctl-D and it shows "exit" on the same line?  I have a machine where it is putting "exit" on a separate line.  kind of weird and annoying.  any idea what is causing that?
[22:19:36] <kurahaupo> phogg: I agree about making it easier to go from beginner to advanced, but if beginner is 10% then 90% is a big jump, whereas if beginner is 30% then the jump isn't as far
[22:20:13] <kurahaupo> quesker: probably differences in your prompt
[22:20:39] <kurahaupo> and/or whether readline is enabled
[22:22:35] <quesker> PS1 is "foo:\w "  everywhere.  and I assume readline is enabled, command line editing works normally.  so weird
[22:22:37] *** Quits: darkxploit (~jay@32.209.19.50) (Ping timeout: 245 seconds)
[22:23:26] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[22:27:00] *** Joins: sublim20 (~sublim20@user/sublim20)
[22:27:46] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[22:31:49] *** shbot4 is now known as shbot
[22:32:53] <kurahaupo> what about PS0?
[22:33:19] *** grettke is now known as grettke-away
[22:34:06] <kurahaupo> Do all the hosts have the same version of Bash installed?
[22:34:24] *** Quits: Achylles (~Achylles_@2804:431:d724:510f:d7b1:4ecb:6877:1a1a) (Remote host closed the connection)
[22:34:38] *** Joins: Achylles (~Achylles_@2804:431:d724:510f:d7b1:4ecb:6877:1a1a)
[22:34:47] *** Joins: Betal (~Beta@user/betal)
[22:35:55] <yates_home> depesz: thanks
[22:36:10] <yates_home> himBHs
[22:36:39] <yates_home> that section in my manpage doesn't define "i" or "s"
[22:39:37] *** Joins: greycat (~greg@209.142.155.49)
[22:39:47] <quesker> PS0 doesn't seem to be set anywhere.  bash is different versions everywhere.  machomebrew has been ruining things lately, they probably messed with this bash version.  yep that is it, I tried the system bash
[22:40:04] <quesker> but I wonder what they messed with that would cause it
[22:40:14] *** Joins: Thoatt (~thoatt@user/thoatt)
[22:42:13] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[22:43:24] *** Joins: axisys (~axisys@ec2-34-225-151-46.compute-1.amazonaws.com)
[22:44:21] <yates_home> what do "i" and "s" mean as reported by "echo $-"/
[22:44:23] <yates_home> ?
[22:44:46] <yates_home> randyy@Lubuntu-25316:poky$ echo $-
[22:44:46] <yates_home> himBHs
[22:45:50] <yates_home> ah, i see "i" now
[22:46:00] <quesker> anyone have 5.1.8 and could test?   type bash then hit ctl-D
[22:46:10] <quesker> well bash enter and then ctl-D
[22:47:02] <greycat> if it requires a Mac, then I can't... what are *you* seeing when you do that? what did you expect instead?
[22:47:04] <skered> wfm>
[22:47:06] <skered> ?
[22:47:15] *** Joins: The_Loko (~The_Loko@86.127.235.231)
[22:47:36] <quesker> well the question is whether it is machomebrew's build or something in that verison of bash
[22:48:19] <skered> FreeBSD and macports 5.1.8 both exit
[22:48:46] <quesker> does it show the word exit on its own line or on the same line as the previous prompt?
[22:49:08] <skered> Own line
[22:49:55] <quesker> ok.  weird.  this homebrew 5.1.8 shows "exit" on a separate line.  I have a homebrew 5.1.4 that is normal
[22:50:10] <quesker> thanks for running that
[22:50:28] <greycat> Debian bullseye's 5.1.4 gives me "exit" on a separate line.  Is that a problem for you?
[22:50:35] <geirha> yates_home: and -s is right next to it; a bash option, not a set option
[22:51:11] <quesker> well I guess I am weird but in all my life I don't remember it being on a separate line and none of my other bash do that
[22:51:45] <greycat> It does appear to have changed between 5.0 and 5.1.
[22:52:01] <greycat> self-compiled 5.0.18 and 5.1.4 give the two different behaviors
[22:52:48] <skered> On el8 bash 4.4.20 is exit on the prompt line
[22:53:34] *** Quits: kj (~kj@beta.aerisnetwork.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:53:35] <geirha> if it's a bug, it's seems to be a purely cosmetic one
[22:55:56] <yates_home> will $- report "l" if it is a login shell?
[22:56:15] *** Quits: gmcastil_ (~gmcastil@50-206-38-118-static.hfc.comcastbusiness.net) (Ping timeout: 255 seconds)
[22:56:51] *** Joins: arktnld (~arktnld@179.95.9.254)
[22:57:26] <yitz> yates_home: isn't that pretty trivial to try/check?
[22:57:39] <yates_home> tfm doesn't seem to have a definitive set of flags for $-
[22:58:34] <yates_home> yitz: i thought it woud be in the docs (manpage)
[22:58:36] <yates_home> would
[22:58:36] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: tech_exorcist)
[22:58:48] <yates_home> my bad
[22:58:51] *** Quits: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com) (Read error: Connection reset by peer)
[22:59:17] <quesker> -bash: compopt: command not found     that is built in right?
[22:59:28] <geirha> # type compopt
[22:59:30] <shbot> geirha: compopt is a shell builtin
[22:59:31] *** Joins: terrorjack (~terrorjac@ec2-54-95-39-30.ap-northeast-1.compute.amazonaws.com)
[22:59:46] <quesker> -bash: type: compopt: not found
[23:00:01] <geirha> 3# type compopt
[23:00:03] <shbot> geirha: bash: type: compopt: not found
[23:00:10] <greycat> unicorn:~$ bash-3.2 -c 'type compopt'
[23:00:10] <greycat> bash-3.2: line 0: type: compopt: not found
[23:00:10] <greycat> unicorn:~$ bash-4.0 -c 'type compopt'
[23:00:10] <greycat> compopt is a shell builtin
[23:00:15] <llua> good 'ol os x
[23:00:33] <geirha> perhaps one for faq 61
[23:00:38] <geirha> !faq 61
[23:00:38] <greybot> https://mywiki.wooledge.org/BashFAQ/061 -- Is there a list of which features were added to specific releases (versions) of Bash?
[23:00:56] <greycat> can't say I've ever used (or even heard of) compopt before
[23:01:08] <geirha> It's only useful inside a completion function
[23:02:04] *** grettke-away is now known as grettke
[23:02:27] <yates_home> so it appears that "l" is NOT reported by $- when bash is invoked as a login shell. can someone please confirm?
[23:02:30] <geirha> At least I don't know of any other usecases for it
[23:02:43] *** Joins: replayer (~replayer@ec2-3-94-198-85.compute-1.amazonaws.com)
[23:02:52] <geirha> yates_home: login mode is not posix, so bash exposes is as a shopt instead
[23:03:06] <geirha> # shopt login_shell
[23:03:08] <shbot> geirha: login_shell     on
[23:04:09] <kurahaupo> yates_home: Some shell options can only be set when the shell starts, so they don't appear in the set command. -i is interactive
[23:04:27] <yates_home> geirha: thanks!
[23:06:15] *** Quits: wwilliam (~afernande@user/wwilliam) (Quit: Konversation terminated!)
[23:06:16] <geirha> So -i and -s are the odd ones out
[23:06:38] *** Joins: furrymcgee (~devuan@31.179.186.66)
[23:07:54] *** Quits: Jenmin (~Jenmin@2409:8904:4642:88ad:6537:deda:b114:8c18) (Ping timeout: 256 seconds)
[23:07:57] <yates_home> so from my reading of INVOCATION, if a bash shell is neither interactive nor a login shell, then the only startup file it attempts to read is variable BASH_ENV (if it exists). is this correct?
[23:08:46] <kurahaupo> yes
[23:09:02] <kurahaupo> and only in non-POSIX mode
[23:09:55] <yates_home> kurahaupo: thanks. but there are some minimal paths set: http://paste.ubuntu.com/p/ZPbBQpfBk3/
[23:10:01] <yates_home> where do they come from?
[23:10:32] <geirha> possibly /etc/environment
[23:11:09] <yates_home> yup!!!
[23:11:24] <geirha> which is not read by a shell at all, but by the pam_env module
[23:11:32] <kurahaupo> yates_home: the dull answer is that PATH (along with all other environment variables) is inherited from the thing that launches the shell
[23:11:46] *** DLange_ is now known as DLange
[23:12:19] <yates_home> wait, not it's not from /etc/environment. similar, but not identical
[23:12:34] <kurahaupo> Which might be libpam.so, or crond, or atd, or sshd, or telnetd, or xsession, or getty/login, or…
[23:12:48] *** Quits: rendar (~rendar@user/rendar) ()
[23:12:51] <yates_home> aha....!
[23:12:59] <kurahaupo> yates_home: How are you launching this shell?
[23:13:02] <yates_home> kurahaupo: you may have hit on this issue.
[23:13:05] <geirha> and even if none of those set PATH, bash has a hardcoded PATH compiled into the binary that it will use as a last resort
[23:13:10] *** Quits: sinaowolabi (~SinaOwola@41.190.3.14) (Read error: Connection reset by peer)
[23:13:36] <yates_home> well..., i am running an lxsession via xrdp of my home computer from work
[23:14:02] *** Quits: z2cat (~z2cat@106.80.205.48) (Ping timeout: 252 seconds)
[23:14:18] <yates_home> the lxsession is starting an LXDE session
[23:14:40] <yates_home> (from the .xsession file)
[23:16:32] *** grettke is now known as grettke-away
[23:16:35] <kurahaupo> Lots of people ask whether they should put stuff in .bashrc or .bash_profile, when really the correct answer in many cases is to put it in .xsession
[23:16:48] <kurahaupo> Or the equivalent for your window manager
[23:16:51] *** Joins: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[23:17:06] <greycat> or some OS-specific extension like .xprofile or .xsessionrc
[23:17:14] <kurahaupo> Sure
[23:17:53] <yates_home> what a painful thing to figure out... 
[23:17:58] <greycat> the infuriating thing is that everyone refuses to reveal the critical details, like what OS, how they login, how they start this session, all of which are mandatory knowledge in order to answer the question
[23:18:18] <geirha> in ubuntu the display manager will source .profile and /etc/profile before running the xsession
[23:18:19] <kurahaupo>  /etc/environment is all well and good for a single user machine, but not a good general purpose solution
[23:18:49] <greycat> libpam_env is one of the most disappointing things ever
[23:19:23] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 255 seconds)
[23:19:28] <geirha> there's ~/.pam_environment too
[23:19:32] *** Quits: nbao (~hot@2804:14c:5bb8:9720:ae9e:17ff:fedf:3e09) (Remote host closed the connection)
[23:19:32] <greycat> "here's a file where you can put environment variables that will work for every session type and every shell"  "YESSS!"  "... but you can't use $HOME inside it, so nothing actually works"
[23:19:38] <yates_home> geirha: did you mean when logging in locally? 
[23:19:40] <kurahaupo> It's basically /etc/environment that can be turned on or off for different services, but doesn't help with per-user settings
[23:19:51] *** Joins: nbao (~hot@2804:14c:5bb8:9720:ae9e:17ff:fedf:3e09)
[23:20:10] <kurahaupo> greycat: what about ~$USER ?
[23:20:22] <yates_home> (shell-command-to-string "echo $PATH")
[23:20:22] <yates_home> "/sbin:/bin:/usr/bin:/usr/local/bin:/snap/bin
[23:20:22] <yates_home> "
[23:20:36] <geirha> yates_home: when logging in through the display manager (gdm or lightdm or whichever). I'm not sure if that is involved via xrdp though, but ubuntu might have patched xrdp similarly too
[23:20:49] <yates_home> apparently not
[23:21:04] <greycat> the second most disappointing thing ever is systemd's environment.d(5) which also looks like a place where you can put environment variable settings for all users, all shells, all sessions... but it's not.  it isn't read by ANY kind of login I've ever tried.
[23:21:09] <yates_home> the remote system i am xrdp'ing into is lubuntu 18.04 LTS
[23:21:30] <greycat> kurahaupo: there is no expansion of any kind in /etc/environment
[23:21:40] <greycat> you can only use literal strings
[23:21:51] <kurahaupo> ugh
[23:22:19] <yates_home> when you xrdp in, does it essentially source the ~/.xsession file?
[23:22:56] <yates_home> if so, i could just put a ". ~/.profile" before the lxsession command inside .xsession
[23:23:30] <yates_home> am i thinking right?
[23:24:10] *** Joins: sinaowolabi (~SinaOwola@41.190.3.14)
[23:24:14] *** Quits: sinaowolabi (~SinaOwola@41.190.3.14) (Read error: Connection reset by peer)
[23:24:52] <yates_home> let me "try it and see". 
[23:25:09] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[23:26:38] <kurahaupo> I have been experimenting with building a honeypot, because apparently there an infinite number is devices out there that have used admin password admin. But I have discovered the scammers generally do the different of «ssh -N -L25:smtp.victim
[23:26:38] <kurahaupo> com:25» and so far I haven't been able to find a way to force these sessions to invoke any command, much less the "login shell" (/usr/local/bin/honeypot). Any suggestions?
[23:27:04] *** Quits: yates_home (~user@fv-nc-f7af8b91e1-234237-1.tingfiber.com) (Remote host closed the connection)
[23:27:37] <greycat> sounds like a question for #openssh or your OS channel
[23:27:37] *** Quits: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 245 seconds)
[23:28:14] *** Quits: yates (~user@fv-nc-f7af8b91e1-234237-1.tingfiber.com) (Remote host closed the connection)
[23:28:17] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[23:28:32] <greycat> the usual method of forcing ssh to run a specific command first requires key auth, and then ties the forced command to the key that's used
[23:28:41] <greycat> if there's a way to do it with password auth, I don't know it
[23:29:06] *** Joins: zebrag (~chris@user/zebrag)
[23:31:06] *** Quits: nvmd (~nvmd@user/nvmd) (Quit: Later, nerds.)
[23:32:33] *** Joins: yates (~user@fv-nc-f7af8b91e1-234237-1.tingfiber.com)
[23:32:39] <yates> yup, that worked!
[23:32:40] <yates> yay!
[23:32:46] <yates> \/
[23:32:47] <yates> |
[23:33:27] *** Joins: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[23:34:16] <yates> kurahaupo: thank you thank you thank you!
[23:34:47] *** Joins: sinaowolabi (~SinaOwola@41.190.3.14)
[23:34:52] *** Joins: hegstal (~hegstal@2a02:c7f:7604:8a00:9af4:e021:9dca:50c4)
[23:34:53] <yates> geirha, greycat as well
[23:35:29] *** Quits: arinov (~arinov@213.194.126.155) (Remote host closed the connection)
[23:35:53] *** Joins: adanwan_ (~adanwan@gateway/tor-sasl/adanwan)
[23:36:11] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Ping timeout: 244 seconds)
[23:37:54] *** Quits: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[23:38:36] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 252 seconds)
[23:38:51] *** Quits: nbao (~hot@2804:14c:5bb8:9720:ae9e:17ff:fedf:3e09) (Quit: WeeChat 3.1)
[23:41:19] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[23:42:14] *** Joins: nbao (~hot@2804:14c:5bb8:9720:ae9e:17ff:fedf:3e09)
[23:42:52] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[23:43:25] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 244 seconds)
[23:48:38] *** Joins: zro (~zro@user/zro)
[23:49:53] *** Joins: milosz (~milosz@user/milosz)
[23:50:09] <skered> quesker: It has something to with brackted paste.
[23:50:17] <skered> The extra return with cnt-d
[23:50:52] <greycat> does the behavior change if you turn off bracketed paste?
[23:51:19] <skered> Yes
[23:51:24] <greycat> neat
[23:52:30] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Ping timeout: 265 seconds)
[23:52:36] <skered> I could see via truss it was sending some funky escape sequence vis truss.. extra googling took me to bracketed paste.
[23:52:51] <skered> This is really a readline thing then?
[23:53:00] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[23:53:32] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[23:56:17] *** Quits: fivegruel (~fivegruel@dynamic-046-114-146-110.46.114.pool.telefonica.de) (Ping timeout: 255 seconds)
