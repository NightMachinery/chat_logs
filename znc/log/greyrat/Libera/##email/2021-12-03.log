[00:49:19] *** Joins: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29)
[01:36:01] *** Joins: kristijonas (~kristijon@78-56-32-39.static.zebra.lt)
[02:07:03] <kristijonas> lunaphyte: for my previous question (https://paste.debian.net/1221625) Receiving MTA checks SPF using their intermediate mail server's IP (looks like connector), and not sender's IP and results in SPF failing.
[02:14:43] <kristijonas> "Received-SPF: SoftFail (protection.outlook.com: domain of transitioning tsig.nl discourages use of 195.182.67.48 as permitted sender", that's not an IP of a sender.
[02:39:26] <lunaphyte> yes it is
[02:40:14] <lunaphyte> the system performing the spf check received the message from 195.182.67.48
[02:41:06] <lunaphyte> whatever ip address the message [allegedly] originally came from isn't of relevance
[02:42:51] <kristijonas> lunaphyte, alright, then shouldn't SPF check a different domain then (different MAIL FROM) rather than original one?
[02:56:56] <lunaphyte> there is only 1 mail from in the transaction
[03:02:58] <kristijonas> Wait, what? How would that make sense for SPF checks, if in case of more than 2 MTAs, every system would check a IP of a previous system it received mail from, but the domain of original envelope sender, resulting in SPF checks failing since for the the original sender there is no way to have all the IPs of systems  messages will be being
[03:02:59] <kristijonas> delivered through.
[03:04:42] <lunaphyte> i don't follow
[03:05:14] <lunaphyte> there is no such thing as the "original envelope sender" in the context of spf.  there is the envelope sender of the transaction, and that's it
[03:05:36] <lunaphyte> whatever checking or processing might have been done previously is irrelevant
[03:05:53] <lunaphyte> e.g. by mail servers earlier in the path
[03:10:29] <kristijonas> so looks like their intermediate server incorrectly decides to use the same MAIL FROM of a previous transaction when relaying it to final destination
[03:11:27] <kristijonas> sorry for not including the full path: https://paste.debian.net/1221769/
[03:14:34] <lunaphyte> what makes you think that?
[03:15:49] <kristijonas> lunaphyte: "spf=softfail (sender IP is 195.182.67.48) smtp.mailfrom=tsig.nl". smtp.mailfrom value. Line 11.
[03:16:42] *** Quits: kristijonas (~kristijon@78-56-32-39.static.zebra.lt) (Quit: Client closed)
[03:16:54] *** Joins: kristijonas (~kristijon@78-56-32-39.static.zebra.lt)
[03:22:40] <lunaphyte> when 195.182.67.48 connected to outlook and transmitted the message, it used tsig.nl in the envelope sender
[03:24:28] <kristijonas> @lunaphyte, exactly, that's misconfiguration then, right? 195.182.67.48 is not my system. I never authorized them to send tsig.nl messages
[03:43:06] *** Joins: omnigoat (~omnigoat@user/omnigoat)
[03:43:06] *** Quits: omnigoat (~omnigoat@user/omnigoat) (Remote host closed the connection)
[03:43:16] *** Joins: omnigoat (~omnigoat@user/omnigoat)
[03:43:16] *** Quits: omnigoat (~omnigoat@user/omnigoat) (Remote host closed the connection)
[03:46:49] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[03:53:06] *** Joins: omnigoat (~omnigoat@user/omnigoat)
[03:53:06] *** Quits: omnigoat (~omnigoat@user/omnigoat) (Remote host closed the connection)
[03:53:16] *** Joins: omnigoat (~omnigoat@user/omnigoat)
[03:53:16] *** Quits: omnigoat (~omnigoat@user/omnigoat) (Remote host closed the connection)
[03:57:59] *** Joins: omnigoat (~omnigoat@user/omnigoat)
[04:14:57] <lunaphyte> what exactly is it you're trying to accomplish here?
[04:16:41] <lunaphyte> 195.182.67.48 sent spam to microsoft's outlook email service, pretending to be @tsig.nl [that's you, i gather?] - and microsoft identified it as such.  what's the problem?
[04:20:49] <kristijonas> lunaphyte, it wasn't spam, i did that send out that message, originally from 95.179.151.59. I currently have ~all, instead of -all. If misconfigurations like these of receiving MTAs are something common happening i'm not sure if I should keep soft spf to make sure my emails reach final destinations
[04:22:55] <lunaphyte> did you send it to some outlook email address?
[04:25:15] <kristijonas> yep, to @eimin.lt
[04:26:19] <kristijonas> i received a delivery report that I shared with you, saying that the final destination's spf check results in softfail. which was my concern if that's due to their misconfiguration.
[04:30:09] *** Quits: SallyAhaj_ (~SallyAhaj@user/sallyahaj) (Ping timeout: 256 seconds)
[05:01:38] *** Joins: Atque (~Atque@user/atque)
[05:06:21] *** Quits: tex (~super@user/dix) (Ping timeout: 256 seconds)
[05:08:17] <lunaphyte> is 195.182.67.48 supposed to be emitting messages from @tsig.nl?
[05:10:07] <kristijonas> @lunaphyte, have no clue as it isn't mine. I simply tried to sent mail to @eimin.lt and delivery report I received raised a concern to me, why I get softfail
[05:13:50] <lunaphyte> is tsig.nl you?
[05:15:11] <lunaphyte> if you send email to @eimin.lt, that is not an outlook email address
[05:15:14] <lunaphyte> *if you sent
[05:20:14] <kristijonas> yes, tsig.nl is me, oh, right, that's some microsoft exchange I believe that later forwards male to office365 or smth of final destitation.
[05:21:01] <lunaphyte> then it would seem that whoever is operating 195.182.67.48 has decided to forward mail to some outlook.com email address
[05:21:13] <lunaphyte> !tell kristijonas mantras
[05:21:13] <dig-dug> kristijonas: mantras: 1. do not accept mail that you do not intend to deliver. 2. do not drop mail. 3. do not use wildcards or catchalls. 4. do not forward mail to third party systems
[05:21:41] <lunaphyte> this is one of the many reasons why mantras #4 exists
[05:22:12] <lunaphyte> you cannot just take other people's mail and forward it off to other mail systems.  it undermines their efforts to be responsible email administrators
[05:23:26] <kristijonas> I am not so familiar with what Microsoft is offering for email services, they probably have some Microsoft Exchange server, but then they have Office365 subscriptions for their employees
[05:25:00] <lunaphyte> in short, i would suggest that the system[s] in between your email server and the final destination are misconfigured, yes
[05:25:17] <lunaphyte> they appear to be forwarding mail inappropriately
[05:25:21] <lunaphyte> it's quite common, sadly
[05:25:29] <kristijonas> https://docs.microsoft.com/en-us/exchange/mail-flow-best-practices/use-connectors-to-configure-mail-flow/use-connectors-to-configure-mail-flow i think they call it connectors.
[05:25:51] <kristijonas> "Enable mail flow between Microsoft 365 or Office 365 and email servers that you have in your on-premises environment (also known as on-premises email servers)"
[05:32:59] *** Joins: SallyAhaj (~SallyAhaj@user/sallyahaj)
[05:34:45] *** Quits: SallyAhaj (~SallyAhaj@user/sallyahaj) (Remote host closed the connection)
[05:35:09] *** Joins: SallyAhaj (~SallyAhaj@user/sallyahaj)
[06:05:17] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 268 seconds)
[06:11:03] *** Joins: pj (~pj@ghettoforge/pj)
[06:18:46] *** Joins: rgrinberg (~textual@187.251.13.114)
[06:22:37] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 252 seconds)
[06:35:26] *** Joins: pj (~pj@ghettoforge/pj)
[06:45:18] *** Quits: rgrinberg (~textual@187.251.13.114) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:52:50] *** Joins: rgrinberg (~textual@187.251.13.114)
[06:52:52] *** Hash is now known as stoned
[07:06:19] *** Quits: rgrinberg (~textual@187.251.13.114) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:09:07] *** Joins: rgrinberg (~textual@187.251.13.114)
[07:10:52] *** Quits: rgrinberg (~textual@187.251.13.114) (Client Quit)
[07:39:07] *** Joins: rgrinberg (~textual@187.251.13.114)
[07:43:35] *** Quits: rgrinberg (~textual@187.251.13.114) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:22:09] *** stoned is now known as Hash
[08:24:42] *** Quits: kristijonas (~kristijon@78-56-32-39.static.zebra.lt) (Ping timeout: 256 seconds)
[09:46:05] *** Quits: bsd4me (~bsduser@user/bsd4me) (Quit: leaving)
[10:19:22] *** Joins: rgrinberg (~textual@187.251.13.114)
[10:33:58] *** Quits: rgrinberg (~textual@187.251.13.114) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:58:47] *** Joins: rgrinberg (~textual@187.251.13.114)
[11:09:11] *** Quits: rgrinberg (~textual@187.251.13.114) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:39:05] *** Joins: tex (~super@user/dix)
[12:06:03] *** Quits: tex (~super@user/dix) (Quit: tex)
[12:12:23] *** Joins: tex (~super@user/dix)
[14:07:24] *** Quits: koollman (samson_t@user/koollman) (Quit: leaving)
[14:23:32] *** Joins: minimal (~minimal@user/minimal)
[15:42:58] *** Joins: koollman (samson_t@sp1.kooll.org)
[15:44:00] *** Quits: koollman (samson_t@sp1.kooll.org) (Changing host)
[15:44:00] *** Joins: koollman (samson_t@user/koollman)
[18:17:36] *** Joins: bsd4me (~bsduser@user/bsd4me)
[20:30:17] *** Quits: minimal (~minimal@user/minimal) (Read error: Connection reset by peer)
[20:30:42] *** Joins: minimal (~minimal@user/minimal)
[20:58:49] *** Quits: tex (~super@user/dix) (Quit: tex)
[21:43:30] *** Quits: xaltsc (~xaltsc@user/xaltsc) (Read error: Connection reset by peer)
[22:12:06] *** Joins: xaltsc (~xaltsc@user/xaltsc)
[22:44:38] *** Joins: rgrinberg (~textual@187.223.248.37)
[22:51:09] *** Quits: rgrinberg (~textual@187.223.248.37) (Ping timeout: 252 seconds)
[22:59:40] *** Joins: rgrinberg (~textual@187.223.144.204)
[23:15:33] *** Quits: rgrinberg (~textual@187.223.144.204) (Ping timeout: 256 seconds)
[23:58:40] *** Joins: rgrinberg (~textual@187.223.144.204)
