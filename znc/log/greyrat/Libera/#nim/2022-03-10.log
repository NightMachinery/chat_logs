[00:41:57] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[00:42:55] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Remote host closed the connection)
[00:43:14] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[00:48:36] *** Joins: krux02 (~krux02@p200300e8170d4f00004bdf5557be8ad9.dip0.t-ipconnect.de)
[01:11:55] *** Quits: wyrd (~wyrd@gateway/tor-sasl/wyrd) (Ping timeout: 240 seconds)
[01:14:04] *** Joins: wyrd (~wyrd@gateway/tor-sasl/wyrd)
[01:15:10] <FromDiscord> <Waldecir Santos> Is there a way to know if the object is a ref ? e.g isRef ? I'd like to have a proc that dereference if it's a ref so it's transparent
[01:16:12] <FromDiscord> <ynfle> In reply to @Waldecir Santos "Is there a way": What do you mean by transparent?
[01:16:45] <FromDiscord> <Waldecir Santos> I mean I want a proc that can receive a non-ref and a ref object, and I want it to "automatically deref" it
[01:16:53] <FromDiscord> <demotomohiro> How about to use `is` operaator and `ref` type class?
[01:17:11] <FromDiscord> <Waldecir Santos> That is a good idea
[01:17:15] <FromDiscord> <ynfle> sent a code paste, see https://play.nim-lang.org/#ix=3ROh
[01:18:03] <FromDiscord> <ynfle> In reply to @Waldecir Santos "I mean I want": What do want to do with deferencing? You can automcatically access fields for ref objects with out dereferncing
[01:18:24] <FromDiscord> <Waldecir Santos> In reply to @ynfle "What do want to": I can't when accessing `fieldPairs`
[01:18:42] <FromDiscord> <ynfle> In reply to @Waldecir Santos "I can't when accessing": Ah
[01:19:06] <FromDiscord> <Waldecir Santos> That's whyI need a "transparent" way of accessing ref and non-ref
[01:21:28] <FromDiscord> <ynfle> https://play.nim-lang.org/#ix=3ROj
[01:22:04] <FromDiscord> <Waldecir Santos> In reply to @ynfle "https://play.nim-lang.org/#ix=3ROj": Yeap that is awesome, thank you
[01:25:26] <FromDiscord> <ynfle> üëç
[01:28:28] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[01:38:08] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:c02:a25c:4002:3d0a)
[01:43:22] <anddam> is the C comparison at https://youtu.be/D_G9h7DcIqM even valid C code with the = in the declaration?
[01:43:29] <anddam> that is https://youtu.be/D_G9h7DcIqM?t=1309 sorry
[01:47:18] <FromDiscord> <Generic> what do you mean?
[01:48:22] <FromDiscord> <Rika> have you considered that this might be C++ or did araq mention it was explicitly C
[01:58:02] <FromDiscord> <demotomohiro> If I remember correctly, C dont have default value for function parameter. C++ has.
[02:01:16] <FromDiscord> <Schelz> In reply to @gibson "<@!354911589029380097> Worth a shot": For what reason aint that hard to compile with headers and importcpp
[02:01:44] <FromDiscord> <gibson> Oh sorry, I thought you were having difficulty wrapping OOP c++ stuff.
[02:02:24] <FromDiscord> <Schelz> maybe d3d9 but for imgui_impl_win32 and imgui_impl_dx9 its ez, thx tho for the tip
[02:02:35] <anddam> I mean I am listening to the presentation, I assume araq is Rumpf's nickname and he did said "C", IIRC C does not have optional args
[02:04:27] <FromDiscord> <Elegantbeef> It's not valid afaik
[02:05:15] <anddam> ok, now I have an odder request
[02:05:37] <anddam> can someone from discord put a space in its displayed name?
[02:06:11] <FromDiscord> <Elegantbeef> Nah the space doesnt work well for mentioning üòõ
[02:06:56] <anddam> I tweaked a bit my irc script to convert nicknames from message relayed over IRC, but I should wwait until "Waldecir Santos" write again and messes up my client 
[02:07:17] <anddam> threw a couple typos in there as well
[02:07:49] <FromDiscord> <Elegantbeef> typos are always fun
[02:07:55] <FromDiscord> <Elegantbeef> Fuck the magical thing is i'm not even on discord üòõ
[02:08:21] <anddam> what are you using?
[02:08:52] <anddam> your messages are being relayed by FromDiscord bot though
[02:09:22] <anddam> any taker? I do not know Discord so I don't know if it's a quick task to change one's nick on-the-fly
[02:12:01] <FromDiscord> <wsantos> fixed üòÑ
[02:13:06] <FromDiscord> <gibson> Would a `seq[cstring]` be relatively safe if I only ever read from it to `string`s and `dealloc` each element of the seq at its end of life?
[02:13:21] <anddam> wsantos: no, please put a space back
[02:13:42] <anddam> I did edit the script, now you're taking away my test case
[02:14:03] <FromDiscord> <wsantos> Actually my nick is wsantos, but I never noticed that Discord had my name like that.
[02:14:36] <FromDiscord> <Elegantbeef> I'm using matrix and it's bridge through discord
[02:14:51] <anddam> ok, and can you please put a space back for a couple minutes? I had to stare a perl code to fix this, I did not enjoy it
[02:15:08] <anddam> x/stare a/ a/t/
[02:15:34] <FromDiscord> <Elegantbeef> Gibson i dont know what you're saying
[02:16:09] <FromDiscord> <Elegantbeef> It's unsafe if the cstrings point to any string that is mutated or to be destroyed
[02:17:42] <FromDiscord> <demo tomohiro> done
[02:18:20] <FromDiscord> <demo tomohiro> I put space in user name. Is your script work?
[02:18:28] <anddam> noice, it's correctly rewriting the nick 
[02:18:32] <anddam> demotomohiro: thx
[02:18:44] <FromDiscord> <Waldecir Santos> sure, here we go again üòÑ
[02:18:54] <FromDiscord> <gibson> I need to pass a giant list of strings back and forth from nim to C++ and would rather not copy them. I'm willing to go through the mild pain of only making cstrings if that's what it takes. Hopefully I'm overlooking something far more obvious!
[02:19:55] <FromDiscord> <Elegantbeef> Well you can use cstring assuming the life time of the string in Nim is longer then your use case
[02:20:05] <FromDiscord> <Elegantbeef> If you mutate the string or if the pointer outlives the cstring you're going to have dragons
[02:20:10] <anddam> Waldecir Santos: yours is fine too
[02:20:56] <FromDiscord> <gibson> It is indeed. If I mutate the string, my understanding is I need to dealloc and then assign the new cstring value to be hygienic with memory.
[02:21:16] <FromDiscord> <Waldecir Santos> Nice, I'll go back to wsantos tomorrow üòÑ
[02:21:17] <FromDiscord> <Elegantbeef> Well Nim has a "free" `cstring` conversion for strings
[02:21:30] <FromDiscord> <Elegantbeef> You just have to ensure you replace the element when the string mutates
[02:21:32] <FromDiscord> <gibson> Right, but it seems not to work on a seq of strings.
[02:22:18] <FromDiscord> <gibson> Okay, yes I'll be replacing the element when the cstring mutates, and first I'll dealloc the existing cstring since it seems it's not under GC?
[02:22:33] <FromDiscord> <gibson> (edit) "strings." => "cstrings."
[02:22:48] <termer> Is it possible to inherit multiple objects?
[02:22:48] <FromDiscord> <gibson> (edit) "cstrings." => "strings."
[02:22:56] <FromDiscord> <Elegantbeef> I mean it still "works" you just have to do `import std/sequtils; var myCstrings = myStrings.mapit(cstring it)`
[02:23:04] <termer> like "ref of object Thing1, Thing2"
[02:23:09] <FromDiscord> <Elegantbeef> No MI is not in Nim
[02:23:13] <termer> Thanks
[02:23:17] <FromDiscord> <Elegantbeef> Well you do not want to dealloc the cstring
[02:23:28] <FromDiscord> <gibson> Oh really?
[02:23:39] <FromDiscord> <gibson> Okay. I'll just overwrite it with a new cstring then?
[02:23:44] <FromDiscord> <Elegantbeef> Assuming your `Cstring` is from `cstring myStr`\
[02:24:18] <FromDiscord> <Elegantbeef> `cstring myStr` gives you a ptr to the first element in the string, if you use that for your `cstring` freeing that memory is 100% unsafe and will crash
[02:27:01] <FromDiscord> <gibson> I think my code has been working by chance. I assign cstrings from temporaries to test it, like: `var mylist:seq[cstring]; mylist.add "abc"`
[02:27:32] <FromDiscord> <Elegantbeef> In that case i think `"Abc"` is in your program data then it converts it to a cstring
[02:28:11] <FromDiscord> <gibson> I see. So really `cstring` is not a datatype, and I should remember that.
[02:28:20] <FromDiscord> <Elegantbeef> It's a pointer really
[02:29:12] <FromDiscord> <gibson> Okay, this clarified a lot. Thank you.
[02:29:35] <FromDiscord> <Elegantbeef> sent a code paste, see https://paste.rs/LFw
[02:30:31] <FromDiscord> <Elegantbeef> Make a bunch of operations like above and then you'll have a concurrent str, cstring collection that is safe
[02:31:37] <FromDiscord> <Elegantbeef> Cause the lifetime of the strings will be directly connected to the cstrings lifetime meaning the pointers will be pretty much never invalidated
[02:33:25] *** Joins: supakeen_t (~supakeen@python/site-packages/supakeen)
[02:34:01] <FromDiscord> <gibson> Yeah, I realize I need to keep the original strings around somewhere because cstring is just a pointer. In that way, updating my seq of cstring at time of calling an external Fn will actually not be that computationally expensive.
[02:34:06] <FromDiscord> <gibson> Thanks for the demo!
[02:34:18] <FromDiscord> <Elegantbeef> No problem
[02:34:28] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[02:36:39] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Remote host closed the connection)
[02:37:31] <FromDiscord> <Elegantbeef> If you do use the above i'd probably suggest a macro for making life easy
[02:38:29] <FromDiscord> <Elegantbeef> sent a code paste, see https://play.nim-lang.org/#ix=3ROv
[02:40:45] <FromDiscord> <Elegantbeef> Replace is a bad example since it doesnt change the length but alas
[02:50:57] *** Quits: supakeen_t (~supakeen@python/site-packages/supakeen) (Quit: issued !quit command)
[02:52:47] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[02:58:34] *** Joins: supakeen_test (~supakeen@2a01:4f9:c010:3f2a:1:1:3:42)
[03:03:54] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Quit: ZNC 1.8.2 - https://znc.in)
[03:06:43] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[03:33:58] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:c02:a25c:4002:3d0a) (Quit: My MacBook Air has gone to sleep. ZZZzzz‚Ä¶)
[03:48:31] *** Quits: wyrd (~wyrd@gateway/tor-sasl/wyrd) (Remote host closed the connection)
[03:53:18] *** Joins: wyrd (~wyrd@gateway/tor-sasl/wyrd)
[03:57:34] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 272 seconds)
[04:05:13] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[04:05:27] <nrds> <06Prestige99> https://play.nim-lang.org/#ix=3ROL I have code in `body` that refers to the `this` variable, I thought injecting is what I needed here. But I am still getting `undeclared identifier 'this'` - What am I doing wrong here?
[04:09:37] <FromDiscord> <ynfle> In reply to @nrds "<Prestige> https://play.nim-lang.org/#ix=3ROL I hav": Try `expandMacros`
[04:12:29] <FromDiscord> <ynfle> In reply to @nrds "<Prestige> https://play.nim-lang.org/#ix=3ROL I hav": You have conflictirng references to `this`
[04:12:52] <nrds> <06Prestige99> Even if I change one to have another name, I get the same error
[04:14:19] <FromDiscord> <ynfle> True
[04:17:07] <FromDiscord> <ynfle> Prestige, I don't think it applies to proc params.
[04:17:44] <FromDiscord> <ynfle> Never mind, you need to put it also before the comma
[04:20:51] <FromDiscord> <ynfle> Not sure why it acts like this, but you can declare a `this` variable outside the scope as an annoying work around
[04:21:07] <nrds> <06Prestige99> hm that may work, I suppose
[04:22:22] <nrds> <06Prestige99> Here's a runnable smaller example https://play.nim-lang.org/#ix=3ROO
[04:50:29] <FromDiscord> <Elegantbeef> Do not reuse template parameter names in side templates!
[04:50:59] <FromDiscord> <Patitotective> sent a code paste, see https://play.nim-lang.org/#ix=3ROW
[04:53:31] <FromDiscord> <Patitotective> https://github.com/Patitotective/niprefs
[04:55:24] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 240 seconds)
[05:08:39] <FromDiscord> <dangbinghoo> hi, what's the preferred library for building cross-platform GUI app in Nim?
[05:15:08] <NimEventer> New thread by Mardiyah: Help show all advantageous differences among inline procedure, template, macros, see https://forum.nim-lang.org/t/8993
[05:18:46] <nrds> <06Prestige99> @Elegantbeef in the example I posted, I am not. Right?
[05:29:10] <NimEventer> New thread by Kaushalmodi: How to fetch value pointed by a C++ std::list iterator?, see https://forum.nim-lang.org/t/8994
[05:30:50] *** Joins: Gustavo6046_ (~Gustavo60@user/gustavo6046)
[05:31:37] *** Gustavo6046 is now known as Guest8247
[05:31:37] *** Quits: Guest8247 (~Gustavo60@user/gustavo6046) (Killed (tungsten.libera.chat (Nickname regained by services)))
[05:31:37] *** Gustavo6046_ is now known as Gustavo6046
[05:34:28] <FromDiscord> <Elegantbeef> You are not now
[05:34:39] <FromDiscord> <Elegantbeef> You still need `{.inject.}` though
[05:34:53] <FromDiscord> <Elegantbeef> Or atleast should
[05:38:21] <FromDiscord> <dangbinghoo> seems gintro is ok.
[05:44:35] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[05:46:40] <FromDiscord> <Jonah> sad! https://media.discordapp.net/attachments/371759389889003532/951302540337774602/unknown.png
[05:58:22] <NimEventer> New post on r/nim by deadkonsumer: Help with scenes, see https://reddit.com/r/nim/comments/tao86j/help_with_scenes/
[06:05:34] <FromDiscord> <Elegantbeef> Yea it sucks, many antivirus flag nim as malware‚Üµ(@Jonah)
[06:10:10] <FromDiscord> <congusbongus> can you please submit a false positive report to chrome, every bit helps
[06:17:41] *** Quits: neurocyte0917090 (~neurocyte@user/neurocyte) (Ping timeout: 256 seconds)
[06:29:24] <NimEventer> New Nimble package! nofi - Nim wrapper for rofi, open fabrics interface; provides distributed computing interface for high performance computing (HPC) environments, see https://github.com/ct-clmsn/nofi/
[06:29:24] <NimEventer> New Nimble package! sos - Nim wrapper for Sandia OpenSHMEM, a high performance computing (HPC), distributed shared symmetric memory library, see https://github.com/ct-clmsn/nim-sos/
[06:44:00] <FromDiscord> <ajusa> In reply to @Jonah "sad!": First time I've seen Chrome block it though
[06:46:55] *** Quits: krux02 (~krux02@p200300e8170d4f00004bdf5557be8ad9.dip0.t-ipconnect.de) (Remote host closed the connection)
[06:58:55] *** Joins: rockcavera (~rc@192.12.112.110)
[06:58:55] *** Quits: rockcavera (~rc@192.12.112.110) (Changing host)
[06:58:55] *** Joins: rockcavera (~rc@user/rockcavera)
[07:22:30] *** Quits: rockcavera (~rc@user/rockcavera) (Remote host closed the connection)
[07:36:02] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.4)
[07:36:32] *** Joins: supakeen (~user@python/site-packages/supakeen)
[07:42:06] <FromDiscord> <evil> So I have mac compilation running through a github workflow, but it compiles out as a unix binary (no extension executable). How would I go about compiling as a .app?
[07:43:54] <FromDiscord> <Elegantbeef> `--out:YourProgram.app` or does mac extension matter?
[07:45:45] <FromDiscord> <evil> I don't think it matters, It runs fine after a chmod +x and a terminal run, but that gets annoying. I'll try that out
[07:47:57] <FromDiscord> <Elegantbeef> Well how are you shipping it?
[07:50:22] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 256 seconds)
[07:53:06] <FromDiscord> <evil> just as a github release, nothing fancy
[07:53:39] <FromDiscord> <Elegantbeef> So are you posting a file or using an archive?
[07:54:13] <FromDiscord> <evil> .zip
[07:54:18] <FromDiscord> <evil> so archive
[07:54:26] <FromDiscord> <Elegantbeef> Well zip doesnt keep permissions
[07:54:32] <FromDiscord> <Elegantbeef> Use a tarball
[07:54:43] <FromDiscord> <evil> lame, thanks for the tip
[08:29:31] <NimEventer> New Nimble package! remizstd - Nim bindings for the ZStandard compression library.  Context-based and stream-based APIs available.  Based on the zstd.cr Crystal bindings., see https://chiselapp.com/user/MistressRemilia/repository/RemiZstd/home
[08:40:38] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[09:27:56] *** Quits: slowButPresent (~slowButPr@user/slowbutpresent) (Quit: leaving)
[09:32:38] *** Joins: blackbeard420_ (blackbeard@2600:3c03::f03c:91ff:fe92:3f2a)
[09:32:49] *** Quits: blackbeard420 (blackbeard@2600:3c03::f03c:91ff:fe92:3f2a) (Read error: Connection reset by peer)
[09:34:02] *** Quits: meowray (MaskRay@user/meowray) (Ping timeout: 252 seconds)
[09:34:12] *** Joins: meowray (~MaskRay@li683-166.members.linode.com)
[09:42:34] *** Quits: ltriant (~ltriant@194-223-10-27.tpgi.com.au) (Ping timeout: 256 seconds)
[10:17:51] <NimEventer> New thread by Aquilao: How to get process owner by pid?, see https://forum.nim-lang.org/t/8995
[10:26:15] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[10:31:00] *** Quits: ltriant (~ltriant@194-223-10-27.tpgi.com.au) (Ping timeout: 240 seconds)
[11:03:15] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:c02:a25c:4002:3d0a)
[11:17:45] *** Joins: neurocyte0917090 (~neurocyte@user/neurocyte)
[11:28:59] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[11:33:37] *** Quits: ltriant (~ltriant@194-223-10-27.tpgi.com.au) (Ping timeout: 240 seconds)
[12:13:53] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:c02:a25c:4002:3d0a) (Quit: My MacBook Air has gone to sleep. ZZZzzz‚Ä¶)
[12:33:17] <FromDiscord> <baalajimaestro> Hi, I have a script on nim that requests 3 apis, of which im asked to move 2 to a run only at a specific time, and the other 1 runs every minute
[12:34:04] <FromDiscord> <Elegantbeef> Using async or sync?
[12:34:26] <FromDiscord> <baalajimaestro> Earlier it was being handled fully under systemd, but i am not sure if i can do this easily with that. Would it be wiser to decouple them or just put them as such with some args of some sort?‚Üµ‚ÜµIt is sync
[12:34:55] *** Joins: Gustavo6046_ (~Gustavo60@user/gustavo6046)
[12:35:06] <FromDiscord> <baalajimaestro> I am also considering running that forever and managing the time part fully inside the script itself
[12:36:31] *** Quits: Gustavo6046_ (~Gustavo60@user/gustavo6046) (Client Quit)
[12:36:50] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Ping timeout: 260 seconds)
[13:30:35] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[13:35:28] *** Quits: ltriant (~ltriant@194-223-10-27.tpgi.com.au) (Ping timeout: 256 seconds)
[14:02:09] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[14:12:39] <NimEventer> New thread by Hamidrb80: Iterrr: extensible iterator library, see https://forum.nim-lang.org/t/8996
[14:33:18] <FromDiscord> <System64 ~ Flandre Scarlet> https://github.com/system64MC/sdl2/edit/master/src/sdl2/mixer.nim‚ÜµWhich tool was used for that? C2Nim?
[14:46:31] <FromDiscord> <hmmm> hey bros if I have a seq of objects and want take one of them, change it and have the changes mirrored in the original seq, should I use the ref keyword thingy?
[14:47:00] <Amun-Ra> System64 ~ Flandre Scarlet: I guess c2nim + edits by hand
[15:00:33] <FromDiscord> <System64 ~ Flandre Scarlet> Ah I see
[15:01:39] *** Quits: supakeen_test (~supakeen@2a01:4f9:c010:3f2a:1:1:3:42) (Quit: Reconnecting)
[15:01:48] *** Joins: supakeen_test (~supakeen@2a01:4f9:c010:3f2a:1:1:3:42)
[15:05:26] <FromDiscord> <hmmm> sent a code paste, see https://paste.rs/toJ
[15:14:34] <FromDiscord> <mratsim> In reply to @hmmm "hey bros if I": Why have things mirrored when you can just share the same seq
[15:14:44] <FromDiscord> <mratsim> just use a `ref seq[T]`
[15:15:04] <FromDiscord> <mratsim> or use an object with `{.shallow.}` pragma
[15:19:37] <FromDiscord> <hmmm> hmm, right now my setup is that I have a currentNodeSeq[] and a currentNode that gets passed around on various procs. If the procs change something in the currentNode I'd like the changes to be mirrored in currentNodeSeq[]
[15:28:36] <FromDiscord> <elaykph> is it possible to have a procedure without stating the type of its arguments
[15:31:33] <FromDiscord> <Rika> Only if you can determine the type at compile time
[15:35:03] *** Quits: xet7 (~xet7@user/xet7) (Ping timeout: 256 seconds)
[15:35:50] <FromDiscord> <Tanguy> sent a code paste, see https://play.nim-lang.org/#ix=3RR8
[15:36:01] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.4)
[15:36:31] *** Joins: supakeen (~user@python/site-packages/supakeen)
[15:36:51] <FromDiscord> <Tanguy> (I don't care about how the end-name look, I just want something unique)
[15:37:38] <FromDiscord> <Tanguy> (edit) "https://play.nim-lang.org/#ix=3RR8" => "https://play.nim-lang.org/#ix=3RR9"
[15:37:46] *** Joins: xet7 (~xet7@user/xet7)
[15:46:03] <FromDiscord> <demotomohiro> Maybe `macros.owner` can be used to create an unique type name.
[15:46:04] <FromDiscord> <demotomohiro> https://nim-lang.org/docs/macros.html#owner,NimNode
[15:48:09] <FromDiscord> <demotomohiro> In reply to @elaykph "is it possible to": Generics or Type classes can do: https://nim-lang.org/docs/manual.html#generics
[15:49:36] <FromDiscord> <Tanguy> Thanks, should do the trick
[15:53:53] <FromDiscord> <hmmm> sent a code paste, see https://play.nim-lang.org/#ix=3RRb
[15:58:45] <FromDiscord> <Rika> That works
[15:58:57] <FromDiscord> <Tanguy> No, but note that it will do some memory allocation for each Thingy, which depending on the amount can be heavy
[16:25:25] <FromDiscord> <fbpyr> thanks to this room member's help, the amazing free chapter to ffi in the 'nim in action book' and PMunch video series on the keyboard controller C-wrapping, I could make some nice progress on the interaction with an external C++. üòå ‚ÜµI can now call methods of c++ classes when I pass the class in from c++ and wrap the methods in nim. üéâ
[16:27:33] <FromDiscord> <fbpyr> ..but\: when strings are returned or needed as args, it is currently not  working. e.g.\:‚Üµ`error: cannot convert 'const character' {aka 'const wchar_t'} to 'NCSTRING' {aka 'char'}`‚Üµwhen I try to turn their stringType into cstring.. üôÅ‚Üµsomeone has a pointer where I can read up on this specific c++ string input/return topic?
[16:30:35] <FromDiscord> <fbpyr> or is there a simple convert proc I may have overlooked that can handle this `const character` to `cstring` or `string`?
[16:31:25] <FromDiscord> <auxym> is that a 2-byte character?
[16:33:37] <FromDiscord> <auxym> seems like it. Maybe you do something like `type wchar {.importc: "wchar_t".} = uint16`
[16:34:01] <FromDiscord> <auxym> and `type wcstring = UncheckedArray[wchar]`
[16:35:22] <FromDiscord> <fbpyr> it supposedly should be a file name in the end.
[16:37:31] <FromDiscord> <fbpyr> hmm.. ü§î maybe you are right - there is also a narrowData() method - will try that as well.‚Üµthank you @auxym
[16:38:51] <FromDiscord> <fbpyr> whohoo thank you so much - this worked!! üòÄ
[16:51:47] <FromDiscord> <Rika> nim has wchars in `widestrs` module
[16:53:25] *** Joins: rockcavera (~rc@192.12.112.110)
[16:53:25] *** Quits: rockcavera (~rc@192.12.112.110) (Changing host)
[16:53:25] *** Joins: rockcavera (~rc@user/rockcavera)
[17:01:18] *** Joins: slowButPresent (~slowButPr@user/slowbutpresent)
[17:12:18] <FromDiscord> <fbpyr> ah? will have a look - thx for the hint @Rika
[17:16:40] *** Quits: blackbeard420_ (blackbeard@2600:3c03::f03c:91ff:fe92:3f2a) (Quit: ZNC 1.8.2 - https://znc.in)
[17:16:51] *** Joins: blackbeard420 (blackbeard@2600:3c03::f03c:91ff:fe92:3f2a)
[17:18:06] *** Quits: supakeen_test (~supakeen@2a01:4f9:c010:3f2a:1:1:3:42) (Quit: Bridge terminating on SIGTERM)
[17:19:58] *** Joins: supakeen_test (~supakeen@2a01:4f9:c010:3f2a:1:1:3:42)
[17:29:03] *** Quits: supakeen_test (~supakeen@2a01:4f9:c010:3f2a:1:1:3:42) (Quit: Bridge terminating on SIGTERM)
[17:31:35] *** Joins: supakeen_test (~supakeen@python/site-packages/supakeen)
[17:52:30] <FromDiscord> <Hamid_Bluri> sent a code paste, see https://play.nim-lang.org/#ix=3RRL
[17:52:43] <FromDiscord> <Hamid_Bluri> (edit) "https://paste.rs/qZA" => "https://paste.rs/sCF"
[17:52:52] <FromDiscord> <enthus1ast> you must to\:‚Üµref object
[17:53:08] <FromDiscord> <enthus1ast> do
[17:54:20] <FromDiscord> <enthus1ast> https://play.nim-lang.org/#ix=3RRO
[17:54:22] <FromDiscord> <Rika> no?
[17:54:25] <FromDiscord> <Rika> this works as is
[17:55:18] <FromDiscord> <enthus1ast> yes you're right
[17:55:36] <FromDiscord> <Rika> how does it resolve is not really something i (or most people) know sorry
[17:56:35] <FromDiscord> <mratsim> In reply to @hamidb80 "hey does anyone know": well if they are in the same type section
[17:59:45] <FromDiscord> <Hamid_Bluri> In reply to @Rika "how does it resolve": i couldn't find anything in generated `.c` files
[17:59:54] <FromDiscord> <Hamid_Bluri> (edit) "In reply to @Rika "how does it resolve": i couldn't find anything ... in" 03added "related"
[18:00:20] <FromDiscord> <Rika> well i assume its just forward declaration there actually
[18:00:54] *** Joins: arkurious (~arkurious@user/arkurious)
[18:01:26] <FromDiscord> <ynfle> In reply to @hamidb80 "i couldn't find anything": The resolution of the types would be done in the compiler
[18:01:42] <FromDiscord> <ynfle> In reply to @hamidb80 "hey does anyone know": What do you mean by "how it is resolved"?
[18:02:22] <FromDiscord> <Hamid_Bluri> In reply to @ynfle "What do you mean": how it "works"‚Üµyou get code suggestion or‚Üµhow even this program compiles
[18:02:35] <FromDiscord> <Hamid_Bluri> i think i found something but it's not readable
[18:02:49] <FromDiscord> <ynfle> I'm not really sure what you are asking
[18:05:55] <FromDiscord> <ynfle> Why would you think this would be an issue?
[18:06:53] <FromDiscord> <Hamid_Bluri> sent a code paste, see https://play.nim-lang.org/#ix=3RRS
[18:07:12] <FromDiscord> <ynfle> So you wanted to know how it's translated to C
[18:07:19] <FromDiscord> <Hamid_Bluri> yeah
[18:07:21] <FromDiscord> <ynfle> Not how the compiler does it
[18:11:43] <FromDiscord> <auxym> In reply to @Rika "nim has wchars in": til about widestrs. does nim have anything native to eg translate ucs2 widechars into utf8?
[18:13:39] <FromDiscord> <Rika> idk
[18:13:45] <FromDiscord> <Rika> prolly something in winim though
[18:17:21] *** Quits: dtomato (~dtomato@82-64-189-70.subs.proxad.net) (Quit: The Lounge - https://thelounge.chat)
[18:17:56] *** Joins: dtomato (~dtomato@82-64-189-70.subs.proxad.net)
[18:21:40] <FromDiscord> <fbpyr> sent a code paste, see https://paste.rs/wHA
[18:29:09] <FromDiscord> <Rika> your binding is wrong then
[18:29:34] <FromDiscord> <Rika> i assume create already makes a ptr point
[18:29:48] <FromDiscord> <System64 ~ Flandre Scarlet> How can I do RWOpen on NimSDL please?
[18:30:05] *** Quits: toulene (~toulene@user/toulene) (Quit: The Lounge - https://thelounge.chat)
[18:32:17] <FromDiscord> <fbpyr> @Rika\: yes that might be it, when I `pt2.repr =ptr 000001ad85003e60`I already have a pointer.. ü§î
[18:32:46] <FromDiscord> <huantian> In reply to @Rika "i assume create already": It does
[18:32:48] <FromDiscord> <fbpyr> but then why would it complain without the addr?
[18:33:09] <FromDiscord> <federico3> @dom96\: you want a TLS abstraction layer as part of https://github.com/nim-lang/Nim/issues/19604 ?
[18:33:31] <FromDiscord> <fbpyr> @Rika\:  as there I get\: error cannot convert `'CwAPI3D::vector3D' to 'CwAPI3D::vector3D'`
[18:33:52] <FromDiscord> <fbpyr> which l thought would mean, that it is not a ptr?
[18:35:21] *** Quits: def- (~def-@static.238.114.9.176.clients.your-server.de) (Quit: -)
[18:35:32] *** Joins: def- (~def-@static.238.114.9.176.clients.your-server.de)
[18:35:48] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 240 seconds)
[18:35:52] <FromDiscord> <Rika> it wants a non-pointer
[18:36:02] <FromDiscord> <Rika> it cannot convert a v3D to a v3D
[18:36:11] <FromDiscord> <Rika> so it cant convert a pointer into a non-pointer
[18:36:21] <FromDiscord> <Rika> idk why it would say that other than the code expected a non-pointer
[18:36:35] <FromDiscord> <Rika> since if it did expect a pointer then it could just dereference it
[18:36:41] <FromDiscord> <Rika> i dont have a clue really
[18:42:51] <FromDiscord> <fbpyr> I see. @Rika  thanks for thoughts!
[19:05:50] <FromDiscord> <dom96> In reply to @federico3 "<@132595483838251008>\: you want a": not necessarily. Sorry, I guess I shouldn't have commented that on your issue, it's a bit off-topic.
[19:59:01] *** Quits: xet7 (~xet7@user/xet7) (Remote host closed the connection)
[20:01:25] *** Joins: xet7 (~xet7@user/xet7)
[20:01:34] <FromDiscord> <DMI-1407> uhm which threading model is behind nim ?
[20:01:43] <FromDiscord> <DMI-1407> (edit) "uhm ... which" 03added "im a little bit confused,"
[20:01:48] <FromDiscord> <DMI-1407> (edit) "uhm" => "uhm,"
[20:02:16] <FromDiscord> <Rika> ?
[20:02:21] <FromDiscord> <Rika> os threads
[20:02:25] <FromDiscord> <Rika> i believe
[20:02:26] <FromDiscord> <DMI-1407> not really
[20:02:27] <FromDiscord> <Rika> not sure
[20:02:59] <FromDiscord> <DMI-1407> i installed clang on windows (10), now clang tells me its using posix
[20:03:10] <FromDiscord> <DMI-1407> but MS dropped posix support
[20:03:16] <FromDiscord> <DMI-1407> (edit) "but MS dropped posix support ... " 03added "in win7"
[20:03:29] <FromDiscord> <DMI-1407> thats why i ask
[20:03:40] <FromDiscord> <DMI-1407> i mean nim does use a c compiler right ?
[20:04:36] *** Joins: tiorock (~rc@192.12.112.110)
[20:04:36] *** Quits: tiorock (~rc@192.12.112.110) (Changing host)
[20:04:36] *** Joins: tiorock (~rc@user/rockcavera)
[20:04:36] *** Quits: rockcavera (~rc@user/rockcavera) (Killed (tantalum.libera.chat (Nickname regained by services)))
[20:04:36] *** tiorock is now known as rockcavera
[20:08:59] *** Quits: rockcavera (~rc@user/rockcavera) (Ping timeout: 256 seconds)
[20:11:35] *** Joins: toulene (~toulene@user/toulene)
[20:37:39] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:c02:a25c:4002:3d0a)
[21:18:07] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:c02:a25c:4002:3d0a) (Quit: My MacBook Air has gone to sleep. ZZZzzz‚Ä¶)
[21:32:23] <FromDiscord> <auxym> yes. pretty sure it uses native threads for whatever os it's compiling for
[21:50:39] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:c02:a25c:4002:3d0a)
[21:52:25] <FromDiscord> <hmmm> sent a code paste, see https://play.nim-lang.org/#ix=3RT1
[21:52:29] <FromDiscord> <hmmm> where x is a seq
[21:56:23] <FromDiscord> <exelotl> you could do `x.del(x.high)`
[21:56:40] <FromDiscord> <ynfle> https://nim-lang.org/docs/system.html#delete%2Cseq%5BT%5D%2CNatural
[21:56:47] <FromDiscord> <hmmm> that seems more right, if I'm not going to use the popped value why pop lol
[21:57:09] <FromDiscord> <ynfle> In reply to @exelotl "you could do `x.del(x.high)`": This doesn't delete the item, it just sets it to int.high
[21:58:31] <FromDiscord> <exelotl> https://play.nim-lang.org/#ix=3RT5
[21:58:43] <FromDiscord> <hmmm> yea x.delete(x.high) did the trick
[21:59:09] <FromDiscord> <hmmm> why x.delete(^1) doesn't work?
[21:59:51] <FromDiscord> <exelotl> because `^1` only works between `[]` I think
[22:00:02] <FromDiscord> <hmmm> sounds right
[22:01:15] <FromDiscord> <Generic> x.setLen(x-1) works as well
[22:01:17] <FromDiscord> <Waldecir Santos> for reference @hmmm https://nim-lang.org/docs/system.html#..%5E.t%2Cuntyped%2Cuntyped
[22:01:22] <FromDiscord> <Generic> (edit) "x.setLen(x-1)" => "x.setLen(x.len-1)"
[22:04:11] <FromDiscord> <Waldecir Santos> also https://nim-lang.org/docs/theindex.html#%60%5E%60 @hmmm
[22:04:22] <FromDiscord> <Waldecir Santos> This nim index page is a god send.
[22:06:08] <FromDiscord> <Waldecir Santos> https://nim-lang.org/docs/system.html#^.t%2Cint
[22:34:53] <FromDiscord> <hmmm> sent a code paste, see https://play.nim-lang.org/#ix=3RTg
[22:36:58] <NimEventer> New thread by HiPhish: Bug in PEG or my fault?, see https://forum.nim-lang.org/t/8998
[22:38:14] <FromDiscord> <System64 ~ Flandre Scarlet> I have a question‚Üµ‚ÜµI want to manage the music playback in another thread, how can I achieve that please?
[22:42:59] <FromDiscord> <ynfle> In reply to @hmmm "anyone ever seen something": Yes. You delete or add an element to a seq while iterating over it
[22:43:19] <FromDiscord> <Waldecir Santos> In reply to @System64 "I have a question": maybe use channels for communication ?
[22:43:23] <FromDiscord> <Waldecir Santos> https://nim-lang.org/docs/channels_builtin.html
[22:46:59] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Waldecir Santos "maybe use channels for": Wow seems a bit complex‚ÜµBut I guess I need to manage the music in another module?
[22:47:52] <FromDiscord> <Waldecir Santos> It can be on the same module you just need to have it in a separated thread
[22:48:08] <FromDiscord> <System64 ~ Flandre Scarlet> ah alright
[22:48:28] <FromDiscord> <System64 ~ Flandre Scarlet> and it will run in another core?
[22:50:09] <FromDiscord> <Rika> Probably but not necessarily?
[22:50:35] <FromDiscord> <System64 ~ Flandre Scarlet> I'm thinking of using one core for the game logic and another one for the music playback
[22:50:37] <FromDiscord> <hmmm> In reply to @ynfle "Yes. You delete or": upon further inspection that's exactly what I was doing lol üòÖ
[22:52:23] <FromDiscord> <ynfle> üëç
[22:55:11] <FromDiscord> <System64 ~ Flandre Scarlet> eh, doesn't seems to work https://media.discordapp.net/attachments/371759389889003532/951561376487342100/unknown.png
[22:56:25] <nrds> <06Prestige99> Have it imported?
[22:56:36] <FromDiscord> <Waldecir Santos> I'd start with the example on that page, play with it a little, and then port for your case
[22:56:49] <FromDiscord> <Rika> --threads:on
[22:56:52] <FromDiscord> <Waldecir Santos> you also need to import `std/os` like @nrds said
[22:57:04] <FromDiscord> <Waldecir Santos> In reply to @Rika "--threads:on": That too lol
[22:57:05] <FromDiscord> <Rika> OS is not needed for channels
[22:57:14] <FromDiscord> <Waldecir Santos> Oh TIL thank you.
[22:58:11] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Waldecir Santos "you also need to": I imported it
[22:58:18] <FromDiscord> <System64 ~ Flandre Scarlet> but still have the error
[22:58:22] <FromDiscord> <Waldecir Santos> sent a code paste, see https://play.nim-lang.org/#ix=3RTp
[22:58:55] <FromDiscord> <Waldecir Santos> In reply to @System64 "but still have the": Check Rika message.
[22:59:57] <FromDiscord> <System64 ~ Flandre Scarlet> ah yeah, it works with that
[23:00:39] <FromDiscord> <System64 ~ Flandre Scarlet> But I can send only one type I guess?
[23:07:19] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3RTw
[23:09:40] <FromDiscord> <auxym> create some sort of "MusicControlEvent" object type, possibly variant. Can contain fields like action (start, stop, pause), filename, format params, etc
[23:10:50] <FromDiscord> <System64 ~ Flandre Scarlet> Oh alright, thanks for the advice‚ÜµWoaaaw, once you enter the Multithread land, it becomes suddently way more complex
[23:11:44] <FromDiscord> <System64 ~ Flandre Scarlet> and I pass this MusicControlEvent to the channel, right?
[23:14:17] <FromDiscord> <Waldecir Santos> In reply to @System64 "and I pass this": Correct
[23:19:53] <FromDiscord> <auxym> and yes, multithreading becomes complex fast, use it only if you really need it (eg also consider async)
[23:20:16] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Waldecir Santos "Correct": so something like myChannel.playSong(myMusicController)
[23:20:19] <FromDiscord> <System64 ~ Flandre Scarlet> (edit) "In reply to @Waldecir Santos "Correct": so something like myChannel.playSong(myMusicController) ... " 03added "?"
[23:20:28] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @auxym "and yes, multithreading becomes": I only use it for Audio
[23:20:49] <FromDiscord> <Waldecir Santos> In reply to @System64 "so something like myChannel.playSong(myMusicControl": I think so, I never used channels myself, tho.
[23:22:28] *** Joins: rockcavera (~rc@192.12.114.192)
[23:22:28] *** Quits: rockcavera (~rc@192.12.114.192) (Changing host)
[23:22:28] *** Joins: rockcavera (~rc@user/rockcavera)
[23:40:55] *** Quits: blackbeard420 (blackbeard@2600:3c03::f03c:91ff:fe92:3f2a) (Quit: ZNC 1.8.2 - https://znc.in)
[23:46:41] *** Joins: blackbeard420 (~blackbear@45.33.85.133)
[23:55:30] *** Quits: neurocyte0917090 (~neurocyte@user/neurocyte) (Ping timeout: 250 seconds)
