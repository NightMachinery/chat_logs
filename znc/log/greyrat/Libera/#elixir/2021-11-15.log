[00:00:49] *** Quits: holmes (~holmes@user/holmes) (Quit: Textual IRC Client: www.textualapp.com)
[00:01:09] *** Quits: Ilyu (~quassel@166.215.82.79.rev.sfr.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[00:03:38] *** Parts: Guest45 (~Guest45@p200300c8cf21a3000134ff7283e6b94b.dip0.t-ipconnect.de) ()
[00:14:32] *** Joins: braulio-bz (~manjaro-u@user/brauliobz)
[00:45:56] *** Quits: dcz (~dcz@user/dcz) (Ping timeout: 245 seconds)
[00:53:16] *** Joins: rduplain (~rduplain@user/rduplain)
[00:54:38] *** Quits: ahappydeath (~ahappydea@user/ahappydeath) (Ping timeout: 260 seconds)
[01:16:04] *** Joins: andrhua (~andrhua@31.134.187.8)
[01:18:07] <rawtaz> ugh. writing some Go. not being able to return a switch or if statement sucks :(
[01:25:45] <adrianhblack[m]> i have some trouble doing it in elixir for now lol
[01:25:50] <adrianhblack[m]> not enough used to it i guess
[01:33:32] <rawtaz> maybe
[01:37:21] *** braulio-bz is now known as brauliobz
[01:48:37] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[01:53:12] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Ping timeout: 256 seconds)
[02:10:38] *** Joins: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net)
[02:19:14] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[02:19:49] *** Joins: ahappydeath (~ahappydea@user/ahappydeath)
[02:41:11] *** Quits: ahappydeath (~ahappydea@user/ahappydeath) (Ping timeout: 264 seconds)
[03:07:32] *** Quits: andrhua (~andrhua@31.134.187.8) (Ping timeout: 265 seconds)
[03:10:26] *** Quits: gitgood (~gitgood@85.210.188.193) (Ping timeout: 260 seconds)
[03:17:50] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 268 seconds)
[03:23:18] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[03:23:18] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[03:23:18] *** Joins: Dieman (~Dieman@user/dieman)
[03:23:36] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Remote host closed the connection)
[03:24:13] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[03:28:58] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Ping timeout: 256 seconds)
[03:34:07] *** Joins: ahappydeath (~ahappydea@user/ahappydeath)
[03:58:02] *** Quits: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 260 seconds)
[04:12:44] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[04:17:11] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Ping timeout: 264 seconds)
[04:21:08] *** Joins: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net)
[04:26:11] *** Quits: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 264 seconds)
[04:45:10] *** Quits: brauliobz (~manjaro-u@user/brauliobz) (Ping timeout: 260 seconds)
[05:23:11] *** Joins: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net)
[05:48:22] *** Quits: ahappydeath (~ahappydea@user/ahappydeath) (Ping timeout: 256 seconds)
[06:02:47] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 264 seconds)
[06:06:51] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[06:06:51] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[06:06:51] *** Joins: Dieman (~Dieman@user/dieman)
[06:23:10] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 260 seconds)
[06:29:47] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[06:34:32] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Ping timeout: 268 seconds)
[06:42:18] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[06:42:18] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[06:42:18] *** Joins: Dieman (~Dieman@user/dieman)
[06:50:58] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[06:52:46] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 265 seconds)
[07:07:49] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Remote host closed the connection)
[07:13:21] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[07:18:19] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Ping timeout: 268 seconds)
[07:34:48] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[07:34:48] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[07:34:48] *** Joins: Dieman (~Dieman@user/dieman)
[07:39:42] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 260 seconds)
[07:44:50] *** Quits: mahmutov (~mahmutov@37.155.41.41) (Ping timeout: 268 seconds)
[07:47:40] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[07:50:11] *** Quits: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 264 seconds)
[07:52:14] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Ping timeout: 268 seconds)
[08:28:35] *** Quits: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6) (Ping timeout: 264 seconds)
[08:37:37] *** Joins: sagax (~sagax_nb@user/sagax)
[08:46:50] *** Joins: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net)
[08:51:26] *** Quits: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 268 seconds)
[08:52:14] *** Joins: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net)
[08:57:04] *** Quits: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 256 seconds)
[08:58:04] *** Joins: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net)
[09:25:26] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.8.2+deb2 - https://znc.in)
[09:30:49] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[09:32:38] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[09:36:15] *** Joins: voltone (~voltone@mailgw3.be-all.com)
[09:39:19] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.8.2+deb2 - https://znc.in)
[09:47:11] *** Quits: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 245 seconds)
[09:54:26] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[09:54:26] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[09:54:26] *** Joins: Dieman (~Dieman@user/dieman)
[09:59:24] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 256 seconds)
[10:03:11] *** Joins: phaleth (~phaleth@user/phaleth)
[10:16:20] <serafeim> hello friends
[10:18:35] <serafeim> is there simple way to ignore tests in elixir ?
[10:19:48] <srfsh> there are ways to exclude them, if that's what you want.
[10:23:28] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[10:27:45] <serafeim> like  ?
[10:28:39] *** Quits: Exa (exa@irc.moe) (*.net *.split)
[10:28:39] *** Quits: bind3 (~bind@md-dingen.tilaa.cloud) (*.net *.split)
[10:28:39] *** Quits: bailon (~gizzard@saturn.whatbox.ca) (*.net *.split)
[10:28:39] *** Quits: ouroboros (~ouroboros@user/ouroboros) (*.net *.split)
[10:28:39] *** Quits: jpaa (~jpaa@87.118.126.66) (*.net *.split)
[10:28:40] *** Quits: Seaduck (~seaduck@2001:19f0:5:d68:5400:ff:fe75:209e) (*.net *.split)
[10:28:48] *** Joins: bailon (~gizzard@saturn.whatbox.ca)
[10:28:56] *** Joins: Seaduck (~seaduck@2001:19f0:5:d68:5400:ff:fe75:209e)
[10:29:02] <serafeim> i have a bunch of tests that the phx.gen.html created for me. they don't pass because i've made various changes (concerning authentication and authorization)
[10:29:08] *** Joins: Exa (exa@irc.moe)
[10:29:13] *** Joins: jpaa (~jpaa@87.118.126.66)
[10:29:26] <serafeim> i want to fix them sometimes but i don't have time now; in the meantime i don't want to fail all tests
[10:29:36] *** Joins: bind3 (~bind@md-dingen.tilaa.cloud)
[10:30:41] *** Joins: ouroboros (~ouroboros@user/ouroboros)
[10:31:20] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Ping timeout: 268 seconds)
[10:31:46] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[10:32:33] <srfsh> I think you can tag them an exclude those tags.
[10:33:03] <serafeim> srfsh: yes i saw them but i need to pass an option to mix testt then (if i run simply `mix test`) it will run everything
[10:34:03] <srfsh> You can pass :exclude to ExUnit.start/1.
[10:34:14] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Ping timeout: 260 seconds)
[10:34:22] *** Quits: gamache (~gamache@gunyoki.net) (*.net *.split)
[10:34:23] *** Quits: afontaine (~andrew@2604:a880:cad:d0::648:8001) (*.net *.split)
[10:34:23] *** Quits: welterde (welterde@thinkbase.srv.welterde.de) (*.net *.split)
[10:34:35] *** Joins: gamache (~gamache@gunyoki.net)
[10:34:38] <serafeim> ah in the test helper ?
[10:34:40] <serafeim> thanks i'll try it
[10:34:57] *** Joins: sparogy (~andrew@2604:a880:cad:d0::648:8001)
[10:35:03] *** Joins: welterde (welterde@thinkbase.srv.welterde.de)
[10:35:20] <srfsh> I think the filename is hardcoded, yeah.
[10:36:59] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.8.2+deb2 - https://znc.in)
[10:37:00] <serafeim> it works thanks
[10:43:23] <serafeim> also how can i include more folders for testing? i've added a folder inside /test and it doesn't seem to be able to find it
[10:43:35] <serafeim> i need to run mix test path/to/folder to actually run the tests in it
[10:44:05] <srfsh> serafeim: they need to have _test.exs as suffix in their filenames.  do they?
[10:44:10] <srfsh> (by default, btw)
[10:44:57] <serafeim> ah
[10:45:03] <serafeim> crazy i had named them _test.ex !
[10:45:12] <serafeim> renaming to exs works thank you
[10:46:46] *** Quits: Sgeo (~Sgeo@user/sgeo) (Read error: Connection reset by peer)
[10:47:47] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[10:48:26] *** Quits: sagax (~sagax_nb@user/sagax) (Read error: Connection reset by peer)
[10:50:55] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Client Quit)
[10:56:58] *** Joins: floriann (~Thunderbi@2a02:8106:2e:1300:ea6a:64ff:fe67:369e)
[10:58:23] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[10:58:23] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[10:58:23] *** Joins: Dieman (~Dieman@user/dieman)
[11:02:47] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 250 seconds)
[11:03:17] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[11:04:43] *** Joins: sagax (~sagax_nb@user/sagax)
[11:08:17] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.8.2+deb2 - https://znc.in)
[11:23:05] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[12:00:02] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Remote host closed the connection)
[12:01:57] *** Joins: andrhua (~andrhua@31.134.187.8)
[12:05:26] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[12:09:57] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Ping timeout: 250 seconds)
[12:29:59] *** Quits: voegelas (~voegelas@www.andreasvoegele.com) (Remote host closed the connection)
[12:30:22] *** Quits: wlan0[m] (~wlan0matr@2001:470:69fc:105::f996) (Quit: You have been kicked for being idle)
[12:30:44] *** Joins: Guest45 (~Guest45@p200300c8cf21a30002601f60eb21690e.dip0.t-ipconnect.de)
[12:31:11] *** Joins: dcz (~dcz@user/dcz)
[12:31:55] <Guest45> hey guys, has anyone used github actions to deploy their phoenix apps?
[12:40:32] *** Joins: voegelas (~voegelas@www.andreasvoegele.com)
[12:42:42] <phaleth> Guest45: not me, but Elixir's site uses Jekyll to bundle static assets such that github pages can run the site https://github.com/elixir-lang/elixir-lang.github.com
[12:53:58] *** Joins: tofran7 (~tofran@37.189.158.134)
[12:55:38] *** Quits: tofran (~tofran@37.189.158.134) (Ping timeout: 268 seconds)
[12:55:39] *** tofran7 is now known as tofran
[13:15:11] <Guest45> phaleth: does it use releases?
[13:15:48] <Guest45> like what is the proper way to deploy a phoenix app to a vps? is it to build a release and then copy it to the server?
[13:16:23] <phaleth> github pages can't really run the beam VM or do anything dynamic server side wise
[13:16:50] <Guest45> ah ok, then i probably can't use that for my app
[13:16:52] <phaleth> oh, to deploy to a VPS you can compile the Phoenix project on the server
[13:17:15] <phaleth> and do a release there etc., I recommend using docker
[13:17:33] <Guest45> phaleth: how does that work exactly?
[13:17:44] <Guest45> would github actions build the container?
[13:18:02] <Guest45> and then the vps has to pull the latest version?
[13:18:57] <phaleth> not sure about github actions, but the easiest way is to do everything with docker on the VPS
[13:19:12] <LostKobrakai> I would not suggest compiling on the prod server. That may be fine for hobby projects, but I'd not generally do that
[13:20:55] <phaleth> compiling on the server is fine as long as the server can take it and a multi stage docker image build process is used so the build artifacts aren't present in the docker image used for the production deployment
[13:21:53] <phaleth> Guest45: I'm not sure if you are familiar with docker, I could post an example of a Dockerfile that uses release
[13:22:07] <LostKobrakai> If you're using docker anyways there's imo no need to run it on the prod server. I see that mostly as a crutch for not emulating the server architecture in CI/Docker to be able to build the release elsewhere
[13:22:55] *** Quits: aidalgol (~aidalgol@user/aidalgol) (Read error: Connection reset by peer)
[13:23:12] <LostKobrakai> Github Actions are essentially free for light use, so building in CI and just pushing the release should be quite simple.
[13:23:39] <LostKobrakai> It's unlikely to involve more work that automating building releases on the prod server
[13:23:53] *** staceee_ is now known as staceee
[13:24:31] <Guest45> er im still not 100% clear on what the workflow would look like, so 1: push to github, 2: github actions builds the release, 3: github actions pushes the release to my vps, 4: docker runs the release on my vps?
[13:24:33] <phaleth> yeap, the release should in any case be built elsewhere than where it's used for production
[13:24:41] *** Quits: notzmv (~zmv@user/notzmv) (Ping timeout: 245 seconds)
[13:25:25] *** Joins: aidalgol (~aidalgol@user/aidalgol)
[13:29:41] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[13:29:46] <Guest45> any idea how to set this up?
[13:30:23] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[13:30:23] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[13:30:23] *** Joins: Dieman (~Dieman@user/dieman)
[13:32:12] <Nicd> just a note: if you build a release and include the VM (ERTS), it has to be built on the same CPU architecture and OS version as the target system. don't know how that affects GitHub Actions
[13:34:03] <Guest45> Nicd: i think that should be fine, vps is running ubuntu LTS 20 but if that doesn't work i can switch to latest
[13:37:51] *** Joins: Guest60 (~Guest60@p50938f09.dip0.t-ipconnect.de)
[13:40:03] <phaleth> Guest45: this is a Dockerfile that I use with docker-compose https://paste.debian.net/plain/1219568 versions of images might be slightly dated, I'm not familiar with github actions
[13:42:52] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Remote host closed the connection)
[13:43:48] <Guest45> phaleth: cool, thanks for that
[13:47:28] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[13:51:36] *** Quits: Guest60 (~Guest60@p50938f09.dip0.t-ipconnect.de) (Quit: Client closed)
[13:52:13] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Ping timeout: 250 seconds)
[13:53:28] *** Quits: voltone (~voltone@mailgw3.be-all.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:55:03] *** Joins: voltone (~voltone@mailgw3.be-all.com)
[14:17:10] *** Quits: voltone (~voltone@mailgw3.be-all.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:18:56] *** Joins: voltone (~voltone@mailgw3.be-all.com)
[14:32:39] *** Quits: cursey (~cursey@user/cursey) (Quit: bye)
[14:45:19] *** Joins: cursey (~cursey@user/cursey)
[14:52:04] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 265 seconds)
[14:52:54] *** Joins: optikfluffel (~optikfluf@2001:9e8:233:f300:d50e:a66a:bfb8:d0fe)
[14:57:23] *** Quits: dbohdan (~dbohdan@user/dbohdan) (Ping timeout: 264 seconds)
[14:59:16] *** Joins: dbohdan (~dbohdan@user/dbohdan)
[15:10:45] *** Quits: andrhua (~andrhua@31.134.187.8) (Remote host closed the connection)
[15:17:17] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[15:17:17] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[15:17:17] *** Joins: Dieman (~Dieman@user/dieman)
[15:18:52] *** Quits: Guest45 (~Guest45@p200300c8cf21a30002601f60eb21690e.dip0.t-ipconnect.de) (Quit: Client closed)
[15:22:02] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 265 seconds)
[15:25:06] *** Joins: Guest45 (~Guest45@p200300c8cf21a30002601f60eb21690e.dip0.t-ipconnect.de)
[15:25:29] <Guest45> hey guys, i'm getting this error in my github action -> `** (File.Error) could not read file "/app/config/prod.secret.exs": no such file or directory`
[15:25:35] <Guest45> any idea what the problem is?
[15:25:52] <Nicd> do you have such a file?
[15:26:18] <Guest45> Nicd: yeah the file exists in my phoenix config/ directory
[15:26:37] <Nicd> probably it doesn't exist in your github action environment
[15:26:47] <Nicd> because it's gitignored usually so you have to provide it somehow
[15:28:27] <Guest45> ah ok yeah that makes sense, so should i remove it from .gitignore?
[15:28:54] <Nicd> if it contains secrets, you really don't want to put it in your repo
[15:29:30] <Nicd> I don't know how it's usually done with github actions (env vars?) but you have to provide the configuration some other way, not from the repo
[15:31:31] <Guest45> Nicd: yeah github has a ENV_VAR section where you can add them, so then would i just remove the `import_config "prod.secret.exs"` from prod.exs file?
[15:33:33] *** Joins: notzmv (~zmv@user/notzmv)
[15:34:49] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[15:34:49] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[15:34:49] *** Joins: Dieman (~Dieman@user/dieman)
[15:39:58] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 256 seconds)
[15:41:44] <Guest45> Nicd: hmm getting this error now in my build process -> `COPY failed: file not found in build context or excluded by .dockerignore: stat assets: file does not exist`
[15:42:02] <Guest45> assets/ is also in .gitginore, so should i remove that from there?
[15:42:26] <Guest45> i should say i'm only using phoenix as an api
[15:42:36] <Guest45> so maybe i don't need assets/ ?
[15:48:10] <Guest45> Nicd: also do i need a `config/runtime.exs` file?
[15:48:58] *** Joins: andrhua (~andrhua@31.134.187.8)
[16:03:28] <Guest45> apparently prod.secret.exs should be renamed to runtime.exs
[16:08:53] <Norrland> Yeah, don't check in your secrets in your repo. Use whatever "secrets" store the CI (Github in this case) offers. Like Nicd mentioned.
[16:09:23] *** Joins: notapenguin (~ryu@2804:14d:5680:8a2c:75cf:7f59:516a:b801)
[16:10:03] <phaleth> Guest45: the Dockerfile shows the deprecated way of making a release, in new phoenix projects ./config/runtime.exs should already be present
[16:10:49] <Guest45> phaleth: ah yeah i was using phoenix 1.5.9 it seems
[16:12:29] <phaleth> well, the Dockerfile has been made roughly in days of phoenix 1.5.9
[16:13:32] <Guest45> hmm its from the v1.6.2 phoenix docs
[16:13:43] <Guest45> maybe they haven't updated the dockerfile
[16:14:37] <phaleth> you mean Dockerfile in docs?
[16:15:11] <Guest45> phaleth: this one -> https://hexdocs.pm/phoenix/releases.html#containers
[16:16:31] *** Quits: dcz (~dcz@user/dcz) (Ping timeout: 250 seconds)
[16:16:50] <phaleth> Guest45: yeah, by looking at those alpine versions that looks more dated and there aren't these sed commands
[16:16:54] <Guest45> btw should my DATABASE_URL use localhost or my vps IP as HOST?
[16:17:07] <phaleth> but the thing is do you actually have a phoenix project with runtime.exs?
[16:17:42] <phaleth> DATABASE_URL should contain protocol, host, port and database name
[16:18:04] <Guest45> phaleth: oh ok, so use the dockerfile you posted earlier? I was worried it might not be compatible with my version of phoenix
[16:18:16] <Guest45> phaleth: i just renamed prod.secret.exs to runtime.exs
[16:19:01] <phaleth> if you have prod.secrets.exs and your project is originally made on top of phoenix 1.5.9 then that Dockerfile I posted earlier should do
[16:19:41] <Guest45> ah ok, i'll try that then
[16:19:46] <Guest45> phaleth: hmm still not sure what HOST should be
[16:20:11] <Guest45> should it be localhost:5432?
[16:20:29] <phaleth> yeah, prod.secrets.exs becomes runtime.exs now, as of phoenix 1.6 or so
[16:20:53] <phaleth> DATABASE_URL=ecto://USER:PASS@HOST/database
[16:21:17] <phaleth> that comes from the doc page you linked btw, might just wanna read the whole thing
[16:22:06] <Guest45> yeah i saw it there, but it doesn't specify what it should be
[16:22:12] <phaleth> but yeah, localhost:5432 should be a HOST
[16:22:14] <Guest45> i guess it should be localhost:5432
[16:22:19] <Guest45> cool, thanks man
[16:29:05] <Nicd> Guest45: you don't need a runtime.exs but I mainly only use it and not the other config files
[16:29:57] <Nicd> I load config from env vars in my runtime.exs and use a .env file in local environment for convenience
[16:35:57] *** Quits: voltone (~voltone@mailgw3.be-all.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:37:40] *** Joins: voltone (~voltone@mailgw3.be-all.com)
[16:43:34] *** Joins: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net)
[16:48:20] *** Joins: gitgood (~gitgood@85.210.188.193)
[16:59:33] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[16:59:33] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[16:59:33] *** Joins: Dieman (~Dieman@user/dieman)
[17:04:12] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[17:04:30] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 265 seconds)
[17:09:23] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Ping timeout: 250 seconds)
[17:11:07] *** Quits: voltone (~voltone@mailgw3.be-all.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:11:23] *** Joins: dcz (~dcz@user/dcz)
[17:12:46] *** Joins: voltone (~voltone@mailgw3.be-all.com)
[17:16:02] *** Joins: chgr (~ek@nat-91-137-31-13.net.encoline.de)
[17:20:05] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[17:25:24] <Guest45> can i copy config/runtime.exs from a v1.6 project to a v1.5.9 project?
[17:25:53] <Guest45> Getting `** (UndefinedFunctionError) function Mix.env/0 is undefined (module Mix is not available)`
[17:26:12] <Nicd> don't count on Mix being available in runtime.exs
[17:26:20] <Nicd> it won't be available when you start a release
[17:26:54] <Nicd> as for copying a config, it will work if you have the necessary Elixir version and the libraries to be configured haven't changed too much (i.e. read the changelog / upgrade guide from 1.5 -> 1.6)
[17:33:39] *** Quits: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 250 seconds)
[17:35:49] *** Joins: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net)
[17:39:05] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[17:52:42] <Guest45> Nicd: hmm ok, just updating mix.exs now
[17:52:48] *** Joins: Sgeo (~Sgeo@user/sgeo)
[18:09:09] <Guest45> Nicd: should i install postgres directly onto my vps, or use docker-compose?
[18:10:18] *** Joins: Guest13 (~Guest13@101.229.1.235)
[18:10:18] <Guest13> wfwef
[18:10:32] <Guest13> fwefwef
[18:10:34] <Guest13> fw
[18:10:42] *** Quits: Guest13 (~Guest13@101.229.1.235) (Client Quit)
[18:12:05] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.8.2+deb2 - https://znc.in)
[18:12:28] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[18:17:17] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Remote host closed the connection)
[18:18:17] *** Quits: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 250 seconds)
[18:19:51] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[18:19:51] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[18:19:51] *** Joins: Dieman (~Dieman@user/dieman)
[18:21:40] *** Joins: james_la1 (~jameslavi@ool-457981b2.dyn.optonline.net)
[18:32:20] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Ping timeout: 268 seconds)
[18:33:12] *** Quits: chgr (~ek@nat-91-137-31-13.net.encoline.de) (Quit: WeeChat 3.3)
[18:40:01] <Guest45> is it possible to run `mix ecto.reset` inside my containerized phoenix app?
[18:40:57] <Guest45> I'm getting a `failed to connect: ** (DBConnection.ConnectionError) tcp connect (localhost:5432): connection refused - :econnrefused` error when starting my container
[18:41:25] <Guest45> i already created the database via psql, but i'm wondering if i need to do it using mix ecto for it to work
[18:44:33] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 265 seconds)
[18:45:10] *** Quits: blambi (~blambi@c-6d1b524e.011-113-67626725.bbcust.telenor.se) (Ping timeout: 260 seconds)
[18:50:17] <phaleth> Guest45: localhost:5432 from inside docker container points to itself
[18:50:49] <Guest45> phaleth: i'm testing this locally, so should it be different?
[18:50:50] *** Quits: dcz (~dcz@user/dcz) (Ping timeout: 265 seconds)
[18:51:35] <phaleth> what it means locally? from a docker container?
[18:52:08] <Guest45> yeah i'm now testing this locally using docker-compose
[18:52:13] <phaleth> are you deploying on the VPS host?
[18:52:21] <phaleth> oh, that doesn't mean locally
[18:52:45] <phaleth> with docker-compose you should use name of the container/service instead of locahost
[18:52:52] <Guest45> ah
[18:53:27] <phaleth> postres:5432 or something like that
[18:55:49] *** Quits: voltone (~voltone@mailgw3.be-all.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:57:39] *** Joins: KettleMan (~kttl_crn@96-19-96-19-170-253.cpe.sparklight.net)
[19:05:27] *** Joins: dcz (~dcz@user/dcz)
[19:05:33] <Guest45> phaleth: hmm ok thanks, this is a bit tricky
[19:06:05] <phaleth> can you at least run those I guess two containers?
[19:06:48] <phaleth> I'm not sure how familiar are you with docker, following helps you log into an alpine based container
[19:06:50] <Guest45> yeah i'm able to run the containers, not getting the database error anymore, but i'm not able to access the phoenix application
[19:07:00] <phaleth> docker exec -it <container_name> sh
[19:07:13] <Guest45> yeah i logged into the pg container in order to create the database
[19:07:48] <phaleth> oh, I guess you don't have ports open on the phoenix container then
[19:08:13] <phaleth> in case you are triyng to access it from docker host
[19:08:51] <Guest45> hmm this is what i get when i run `wget localhost:4000` inside the phoenix container: `wget: can't connect to remote host (127.0.0.1): Connection refused`
[19:09:01] <Guest45> does that mean phoenix isn't running?
[19:09:03] <phaleth> also following is helpful
[19:09:07] <phaleth> docker-compose logs -f
[19:09:51] <Guest45> phaleth: hmm the only issue i see in the logs is ` [error] Could not find static manifest at "/home/elixir/app/lib/app-0.1.0/priv/static/cache_manifest.json". Run "mix phx.digest" after building your static files or remove the configuration from "config/prod.exs".`
[19:09:53] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[19:09:53] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[19:09:53] *** Joins: Dieman (~Dieman@user/dieman)
[19:10:37] <phaleth> yeah, mix phx.digest is part of the Dockerfile I posted
[19:10:56] <phaleth> but that one is not really crucial I guess
[19:12:29] <phaleth> I don't think wget is available on alpine out of the box and so you are prolly not inside the phoenix container
[19:14:16] <Guest45> pretty sure im inside it
[19:14:45] <phaleth> what's the output of `cat /etc/issue`
[19:14:57] <Guest45> "Welcome to Alpine Linux 3.12"
[19:15:06] <phaleth> awesome
[19:15:08] <Guest45> although uname -a says Ubuntu SMP
[19:15:12] <Guest45> bit confusing
[19:15:42] <phaleth> yeah, uname doesn't work well on all distros
[19:15:48] <Guest45> ah ok
[19:16:53] <phaleth> ok, so check if port 4000 is exposed `docker-compose ps`
[19:17:20] <phaleth> from docker host that is
[19:17:31] <Guest45> phaleth: does `traefik_app_1       bin/app start                    Up      0.0.0.0:4001->4000/tcp` look right?
[19:18:26] <phaleth> that looks right but for the phoenix container, but the postgres container isn't running
[19:18:38] <phaleth> or are you running postres db on docker host?
[19:18:57] <Guest45> phaleth: oh i just pasted the phoenix container result, not the db or traefik items
[19:19:02] <Guest45> do you want all 3?
[19:19:07] <phaleth> docker-compose ps
[19:19:09] <Guest45> traefik_app_1       bin/app start                    Up      0.0.0.0:4001->4000/tcp
[19:19:10] <Guest45> traefik_db_1        docker-entrypoint.sh postgres    Up      5432/tcp
[19:19:10] <Guest45> traefik_traefik_1   /entrypoint.sh --log.level ...   Up      80/tcp, 0.0.0.0:8080->8080/tcp
[19:19:46] <phaleth> ok, then just run `curl -IL localhost:4001` from docker host
[19:20:13] <Guest45> from inside my traefik_app_1 (phoenix) container?
[19:20:36] <phaleth> nope, outside, docker host is where you have docker installed, the VPS
[19:20:40] <Guest45> ah ok
[19:20:42] <Guest45> `curl: (56) Recv failure: Connection reset by peer`
[19:21:02] <Guest45> (i'm doing this on my laptop btw)
[19:22:17] <phaleth> hmm, weird, not sure if traefik has anything to do with that
[19:23:00] *** Quits: andrhua (~andrhua@31.134.187.8) (Remote host closed the connection)
[19:23:25] <phaleth> maybe localhost on your laptop isn't set? sounds highly unlikely
[19:23:58] <Guest45> i mean i can access localhost:4000 in my browser when starting my phoenix app directly
[19:24:11] <Guest45> so i don't think its that
[19:24:31] <phaleth> ok, so let's try the ip addres of the container
[19:24:43] <phaleth> docker inspect traefik_app_1
[19:25:19] <phaleth> the IPAddress should be something like 172.0.0.2
[19:25:49] <phaleth> sorry 172.17.0.2
[19:25:56] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[19:26:05] <phaleth> so then try curl -IL 172.17.0.2:4000
[19:26:17] <phaleth> or rather curl -IL 172.17.0.2:4001
[19:26:54] <phaleth> I actually don't know if you can change the port from 4000 since that is part of the phoenix app config
[19:26:56] <Guest45> ok i get this:
[19:26:58] <Guest45> `curl: (7) Failed to connect to 172.26.0.2 port 80: Connection refused`
[19:27:04] <Guest45> `curl: (7) Failed to connect to 172.29.0.3 port 80: Connection refused`
[19:27:13] <phaleth> you are hitting port 80
[19:28:21] <phaleth> those are some strange IP addresses I guess traefik is to blame
[19:28:23] <Guest45> hmm i mean prod.exs has the MyAppWeb.Endpoint, url: [host: "example.com", port: 80], could that be it?
[19:28:45] <phaleth> and maybe you should also specify port 4000 in docker-compose.yaml instead of 4001
[19:29:11] <phaleth> oh, sure, the Dockerfile I posted takes care of that
[19:29:26] <Guest45> oh ok, would you mind posting it again?
[19:29:56] <phaleth> https://paste.debian.net/plain/1219568
[19:30:21] <Guest45> thank you
[19:30:30] <phaleth> but really it shouldn't cause that curl error you mentioned above
[19:30:40] <Guest45> ah ok
[19:31:06] <phaleth> fix the port exposure first 0.0.0.0:4001->4000 to 0.0.0.0:4000->4000
[19:32:02] <Guest45> `$ url -IL localhost:4000`
[19:32:02] <Guest45> `$ curl: (56) Recv failure: Connection reset by peer`
[19:32:17] <Guest45> should i paste my docker-compose file?
[19:32:29] <phaleth> yeah
[19:33:28] <Guest45> phaleth: https://dpaste.com/EK8B67TBL
[19:33:59] <Guest45> in vars.env i have `DATABASE_URL=ecto://postgres:postgres@db:5432/trae
[19:34:00] <Guest45> fik_test`
[19:34:11] <Guest45> *in vars.env i have `DATABASE_URL=ecto://postgres:postgres@db:5432/traefik_test`
[19:35:47] <phaleth> ok, but did you run `docker-compose down -v`
[19:35:59] <phaleth> and then `docker-compose up -d` ?
[19:36:13] <Guest45> i ctrl+c'd and then ran docker-compose up again
[19:36:41] <rawtaz> unless you know a specific reason not to, always down and then up
[19:36:47] <phaleth> docker-compose down -v takes care of stale containers
[19:36:53] <Guest45> ah ok
[19:37:34] <Guest45> alright, i ran those commands and recreated the database inside traefik_db_1
[19:37:54] <phaleth> it's also recommended to run `docker-compose up -d && docker-compose logs -f` at once
[19:39:03] <Guest45> hmm no changes to any of the curl commands
[19:39:03] <phaleth> just hit `curl -IL localhost:4000` from docker host and see if you can go home
[19:39:23] <Guest45> same `Connection reset by peer` error
[19:39:55] <phaleth> ok, then traefik config is to blame I guess, or the phoenix app inside the container isn't running
[19:40:21] <Guest45> could not having `server: true` cause this?
[19:40:27] <phaleth> since you mentined that you logged into it and `curl -IL localhost:4000` didn't work
[19:40:45] <phaleth> any missconfiguration could cause that
[19:41:13] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.8.2+deb2 - https://znc.in)
[19:42:53] <Guest45> hmm ok, let me fix that
[19:43:48] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[19:46:25] <Guest45> phaleth: hey that worked!
[19:46:37] <Guest45> curl now returns HTTP/1.1 404 Not Found
[19:47:21] <Guest45> (which is the correct response for an absinthe endpoint)
[19:47:38] <phaleth> cool
[19:47:42] <Guest45> thanks for all the help phaleth, was really stuck there
[19:48:12] <phaleth> np I guess
[19:50:25] <Guest45> phaleth: do you reckon its fine to run a web app on a plain vps?
[19:50:51] <Guest45> like do "proper" web apps also do this?
[19:51:21] <phaleth> you need a proxy that does TLS termination in front of the phoenix app, not sure if you employ traefik to do that
[19:51:49] <phaleth> other than that the cowboy HTTP server that phoenix uses is fine facing the interwebz noise
[19:52:27] <Guest45> cool, and can i just keep vertically scaling to handle any scaling issues?
[19:53:16] <Guest45> i know phoenix did that 2 mil reqs/sec benchmark a while back, can i do this too for a simple crud-style app?
[19:54:12] <phaleth> that depends on what phoenix app you deploy, if there isn't any sort of server side state that needs to be shared between phoenix container then you can scale them with docker
[19:57:39] <Guest45> ah ok, yeah it's just a postgres instance and my phoenix instance
[19:57:55] <rawtaz> you guys are right up my alley, docker-compose + traefik
[19:57:57] <rawtaz> :3
[19:58:10] <adrianhblack[m]> What mini projects would you give to someone beginning Elixir ?
[19:58:51] <Guest45> if you have no idea you could just buy clones of existing websites, e.g. twitter, instagram, etc
[19:58:51] <phaleth> I'm not familiar with traefik, but if it can do TLS termination for you then go for it, don't complicate the setup any more before you get metrics justifying that decision
[19:59:29] <Guest45> what does TLS terminination mean in this context?
[19:59:43] <Guest45> using it as a reverse proxy you mean?
[20:00:57] <rawtaz> if you have a bunch of http services you can put traefik in front of them as one single entry point that reverse proxies ("forwards") incoming requests to the proper service based on hostname, paths, headers, etc, etc. it can also do things like automatic SSL certs with lets encrypt, so you dont have to mess around with that in the services individually
[20:00:58] <phaleth> Guest45: yeah, and redirecting HTTP requests to HTTPS
[20:01:35] <Guest45> ah ok, yeah that's what i was going to use it for
[20:03:25] *** Joins: voltone (~voltone@85.64.15.73.dynamic.barak-online.net)
[20:03:36] <phaleth> adrianhblack[m]: hmm, identicon? https://paste.debian.net/plain/1219613
[20:04:50] <adrianhblack[m]> Oh I didn't know that word haha
[20:05:21] <phaleth> adrianhblack[m]: me neither, before I started with Elixir and Phoenix
[20:06:16] <phaleth> adrianhblack[m]: here is the Image struct https://paste.debian.net/plain/1219615
[20:06:17] <adrianhblack[m]> Thank you for the suggestion :)
[20:06:26] <adrianhblack[m]> I'll send it to my friend
[20:06:31] <phaleth> it's a fun little project to try and explore
[20:07:29] <adrianhblack[m]> he could build a phoenix app on top of it later too, that could work
[20:07:29] <phaleth> also mix.exs is kind of needed https://paste.debian.net/plain/1219616
[20:07:33] <adrianhblack[m]> thank you !
[20:08:04] <phaleth> nah, he better starts with phoenix.new or whatever the command is, but np
[20:09:29] <adrianhblack[m]> yeah sorry, wasn't clear about what i meant haha
[20:10:23] <phaleth> no worries, just keep trying to explore, there is a lot
[20:11:57] <phaleth> there is a cool new thing that I think could help learning Elixir and most of the related things, it's called Livebook which recently launched new website https://livebook.dev
[20:12:06] *** Quits: voltone (~voltone@85.64.15.73.dynamic.barak-online.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:13:58] *** Joins: odoood (~odoood@2601:c8:c003:a550::3)
[20:15:18] <adrianhblack[m]> Oh yes, I totally forgot about it !
[20:17:30] <Nicd> Guest45: I don't know anything about Docker so I can't help you with it
[20:29:11] <Guest45> all good Nicd, appreciate the help
[20:39:35] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 265 seconds)
[20:45:54] *** Joins: brauliobz (~manjaro-u@user/brauliobz)
[20:49:13] *** Joins: mahmutov (~mahmutov@37.155.41.41)
[20:49:50] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[20:49:51] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[20:49:51] *** Joins: Dieman (~Dieman@user/dieman)
[21:01:42] *** Joins: hoppity (~user@user/hoppity)
[21:02:09] <hoppity> Hi guys, is it possible to pass a map as a param to a controller using the Phoenix Route helpers?
[21:03:30] <Nicd> do you mean to generate a link that contains a query argument created from a map?
[21:04:30] <hoppity> Nicd: yes exactly
[21:05:32] <hoppity> I am trying to pass really a *list* of hidden columns to a PDF Renderer controller but I understand lists cannot be passed as params.
[21:05:58] <Nicd> docs say "By adding an optional fourth argument of key-value pairs, the path helpers will return those pairs in the query string."
[21:06:40] <Nicd> i.e. keyword list will be converted to query string
[21:07:16] <hoppity> Nicd: I;m not sure what they mean by 4th argument :S
[21:07:22] <hoppity> but I appreciate your help
[21:07:47] <Nicd> well in the docs' case the route itself took one argument
[21:08:01] <Nicd> it's the 3rd argument if the route doesn't take any
[21:08:17] <hoppity> gotcha, thank you, I will try it now
[21:09:23] *** Quits: odoood (~odoood@2601:c8:c003:a550::3) (Ping timeout: 264 seconds)
[21:11:16] <hoppity> Nicd: so I tried this: https://dpaste.org/toWh   and got the same error.
[21:12:37] <Nicd> interesting
[21:13:10] <Nicd> what does the route look like?
[21:13:27] <Nicd> it says to use kwlists here: https://hexdocs.pm/phoenix/routing.html#path-helpers
[21:13:56] <hoppity> this is my route:  https://dpaste.org/SikF
[21:14:31] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 268 seconds)
[21:14:32] <Nicd> you need to give an argument for `:data`
[21:15:55] *** Joins: voltone (~voltone@2a02:14c:8a60:2a:701f:5aff:7d36:56b6)
[21:16:37] <hoppity> I did try passing the keyword list as data: https://dpaste.org/j0ak
[21:16:48] <hoppity> just hadn't dpasted it to you
[21:17:31] <Nicd> the `:data` is part of the URL path
[21:17:45] <hoppity> I see, gotcha, thank you very much. It is working now
[21:19:41] *** Quits: notapenguin (~ryu@2804:14d:5680:8a2c:75cf:7f59:516a:b801) (Quit: WeeChat 3.3)
[21:22:57] *** Quits: voltone (~voltone@2a02:14c:8a60:2a:701f:5aff:7d36:56b6) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:26:08] *** Joins: voltone (~voltone@2a02:14c:8a60:2a:701f:5aff:7d36:56b6)
[21:27:20] *** Quits: voltone (~voltone@2a02:14c:8a60:2a:701f:5aff:7d36:56b6) (Client Quit)
[21:30:08] *** Quits: optikfluffel (~optikfluf@2001:9e8:233:f300:d50e:a66a:bfb8:d0fe) (Quit: Good bye!)
[21:31:10] *** Joins: odoood (~odoood@2601:c8:c003:a550::3)
[21:36:23] *** Quits: odoood (~odoood@2601:c8:c003:a550::3) (Ping timeout: 264 seconds)
[21:36:46] *** Joins: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net)
[21:41:30] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[21:41:30] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[21:41:30] *** Joins: Dieman (~Dieman@user/dieman)
[21:41:34] *** Quits: yauhsien (~yauhsien@61-231-43-127.dynamic-ip.hinet.net) (Ping timeout: 260 seconds)
[21:44:01] *** Joins: odoood (~odoood@2601:c8:c003:a550::3)
[21:46:17] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 250 seconds)
[21:49:03] *** Quits: odoood (~odoood@2601:c8:c003:a550::3) (Ping timeout: 268 seconds)
[21:54:23] *** Joins: voltone (~voltone@2a02:14c:8a60:2a:701f:5aff:7d36:56b6)
[21:55:11] *** Quits: voltone (~voltone@2a02:14c:8a60:2a:701f:5aff:7d36:56b6) (Client Quit)
[22:00:17] <hoppity> Is there a way to read the client local storage on a LiveView mount?
[22:00:32] <hoppity> I am using Alpine JS to store some user settings
[22:07:14] *** Joins: 082AAAL7F (~w1ntermut@ipservice-092-219-123-130.092.219.pools.vodafone-ip.de)
[22:08:38] *** 082AAAL7F is now known as _w1ntermute
[22:30:50] *** Joins: blambi (~blambi@c-c11e524e.011-113-67626725.bbcust.telenor.se)
[22:31:02] *** Joins: odoood (~odoood@c-73-184-143-53.hsd1.ga.comcast.net)
[22:43:29] *** Quits: xcm (~xcm@user/xcm) (Remote host closed the connection)
[22:43:46] *** Joins: xcm (~xcm@user/xcm)
[22:49:50] *** Joins: Dieman (~Dieman@host-78-147-214-167.as13285.net)
[22:49:50] *** Quits: Dieman (~Dieman@host-78-147-214-167.as13285.net) (Changing host)
[22:49:50] *** Joins: Dieman (~Dieman@user/dieman)
[22:55:44] *** Quits: Dieman (~Dieman@user/dieman) (Ping timeout: 256 seconds)
[23:02:16] <hoppity> If anyone is interested, I used the following method to read from local storage:  https://stackoverflow.com/questions/60943769/passing-a-value-from-client-to-phoenix-server-using-liveview-during-mount
[23:02:42] *** Joins: livoreno (~livoreno@user/notzmv)
[23:06:39] *** Quits: _w1ntermute (~w1ntermut@ipservice-092-219-123-130.092.219.pools.vodafone-ip.de) (Quit: Konversation terminated!)
[23:19:18] <Guest45> how can i print out config values in iex?
[23:22:36] *** Quits: livoreno (~livoreno@user/notzmv) (Read error: Connection reset by peer)
[23:23:02] <Guest45> got it
[23:27:09] <Guest45> anyone used docker?
[23:32:08] *** Quits: odoood (~odoood@c-73-184-143-53.hsd1.ga.comcast.net) (Ping timeout: 265 seconds)
[23:33:32] *** Joins: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6)
[23:33:40] <Guest45> anyone know what this error means? `{:error, nil, :nxdomain}`
[23:35:20] *** Joins: mcint (mcint@user/mcint)
[23:40:50] *** Quits: floriann (~Thunderbi@2a02:8106:2e:1300:ea6a:64ff:fe67:369e) (Quit: floriann)
[23:44:34] <hoppity> Guest45: it means that HTTPoison could not find the domain you tried
[23:44:52] <hoppity> try putting that same domain into your browser and you will see it probably does not exist
[23:45:19] <Guest45> it's a docker network, so shouldn't http://<network_name>:<port> work?
[23:45:55] <hoppity> I don't know what a docker network is, but try to ping that domain first and see if you can reach it
[23:46:46] <Guest45> already tried but i just get `bad address`
[23:46:51] <hoppity> the fact here is that nxdomain stand for "Non eXistent domain" which in this case means your app cannot reach the domain
[23:47:08] <hoppity> what is the domain? Paste it here exactly as  you are putting it in the broeser
[23:47:12] <hoppity> browser*
[23:47:29] <Guest45> http://web:6000
[23:47:38] <hoppity> that is definitely not a real domain
[23:47:47] <hoppity> try the same function but use www.google.com
[23:47:51] <hoppity> it will work then
[23:47:52] <Guest45> obviously, it's a docker network
[23:48:20] <hoppity> I don't know anything about docker network, but I imagine you can try by direct IP address instead of domain name "web"
[23:54:07] <Ankhers> A docker network basically changes the host file to point something like `web' to the ip address. Similar to how localhost isn't a "real" domain, but still works.
[23:54:40] <Guest45> hmm when i try to wget the service's IPAddress, i get `wget: can't open 'index.html': Permission denied`
[23:55:06] <Ankhers> Is that file readable by nginx or whatever your web server is?
[23:55:09] <hoppity> Guest45: so your index file is probably in /www/data/ or something like that, and your permissions aren't set right
[23:57:10] <Guest45> Ankhers: im not sure honestly, i'm a bit confused. The service is accessible via the vps' ip directly, but not via the docker network
[23:57:40] <Guest45> hoppity: there is no /www/data directory as far as i can tell
[23:58:01] <Guest45> im using traefik which doesn't use that structure i believe
[23:58:28] <Ankhers> Is this being done with k8s or docker directly?
[23:58:35] <Guest45> docker-compose
[23:59:20] <damjan> the wget error is that it can't write the file (it seems)
[23:59:39] <damjan> use curl to print the response to stdout
[23:59:48] <Ankhers> I have never actually setup docker compose. Sorry I can't be much help.
