[00:03:04] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[00:05:24] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Ping timeout: 272 seconds)
[00:07:30] *** Joins: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[00:07:52] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[00:08:24] *** Quits: rj1 (~rj1@pump.network) (Quit: bye)
[00:08:37] *** Joins: rj1 (~rj1@i.dont.know.how.com.puters.work)
[00:10:28] *** Quits: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Ping timeout: 272 seconds)
[00:11:02] *** Quits: diverdude (~user@176-21-102-230-cable.dk.customer.tdc.net) (Ping timeout: 272 seconds)
[00:15:11] *** Joins: karakedi (~eAC53C340@user/karakedi)
[00:15:46] *** Parts: justsomeguy (~justsomeg@user/justsomeguy) (WeeChat 3.2)
[00:15:51] *** Joins: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com)
[00:17:18] *** Joins: diverdude (~user@176-21-102-230-cable.dk.customer.tdc.net)
[00:17:58] *** Joins: arinov (~arinov@212.156.215.30)
[00:21:15] *** Quits: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Read error: Connection reset by peer)
[00:21:27] *** Joins: twobitsprite (~isaac.fre@107.13.51.62)
[00:21:59] *** Joins: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[00:22:29] *** Quits: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Read error: Connection reset by peer)
[00:22:36] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[00:22:49] *** Joins: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[00:22:49] *** Quits: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Read error: Connection reset by peer)
[00:23:19] *** Joins: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[00:25:03] *** Joins: newchair (~newchair@2600:1700:4fb3:c200::49)
[00:25:26] *** Joins: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1)
[00:25:54] *** Quits: twobitsprite (~isaac.fre@107.13.51.62) (Ping timeout: 240 seconds)
[00:27:01] *** Quits: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Read error: Connection reset by peer)
[00:27:31] *** Joins: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[00:28:47] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[00:29:56] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 244 seconds)
[00:35:30] *** Quits: junagu (~junagu@2a02:8010:6989:0:148:a619:6de:526e) (Remote host closed the connection)
[00:35:42] *** Joins: junagu (~junagu@2a02:8010:6989:0:148:a619:6de:526e)
[00:37:44] *** Joins: n4dir (~user@i59F77C47.versanet.de)
[00:39:20] *** Parts: opv (~opv@methodsofcontrol.com) ()
[00:44:47] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:986e:1643:d9e5:868d)
[00:44:47] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:986e:1643:d9e5:868d) (Changing host)
[00:44:47] *** Joins: skapata (~Skapata@user/skapata)
[00:50:37] *** Joins: lavaball (felix@31.204.155.215)
[00:51:42] *** Quits: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1) (Ping timeout: 252 seconds)
[00:53:14] *** Joins: Dotz0cat_ (~Dotz0cat@h210.234.186.173.dynamic.ip.windstream.net)
[00:53:41] *** Quits: Dotz0cat (~Dotz0cat@h225.173.40.162.dynamic.ip.windstream.net) (Ping timeout: 258 seconds)
[00:54:48] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[00:55:07] <seninha> # n="01"; n="$(( n ))"; echo $n
[00:55:08] <shbot> seninha: 1
[00:55:24] <seninha> # n="09"; n="$(( n ))"; echo $n
[00:55:25] <shbot> seninha: bash: 09: value too great for base (error token is "09")
[00:55:44] *** Joins: Dotz0cat (~Dotz0cat@h186.236.31.71.dynamic.ip.windstream.net)
[00:55:58] <izabera> !august
[00:55:59] <greybot> August is the month when all your scripts break because you placed $(date +%m) in a variable and tried to do arithmetic with it, without removing the leading zeros. 08 is considered octal. Use $((10#$month)) to force decimal, or strip the zero.
[00:57:42] *** Quits: Dotz0cat_ (~Dotz0cat@h210.234.186.173.dynamic.ip.windstream.net) (Ping timeout: 265 seconds)
[00:57:58] <seninha> nice
[00:58:11] <seninha> my calendar script just broke today lol
[00:58:51] *** Quits: rhu (~rhu@84.71.117.34) (Ping timeout: 252 seconds)
[00:59:50] <izabera> Lol
[01:02:34] *** Quits: newchair (~newchair@2600:1700:4fb3:c200::49) (Ping timeout: 246 seconds)
[01:04:09] *** Joins: boreas (~heiner@2a00:6020:b006:a900:d250:99ff:fe34:8fd2)
[01:04:50] *** Joins: rhu (~rhu@84.71.117.34)
[01:06:13] *** Quits: furrymcgee (~devuan@31.179.186.66) (Quit: leaving)
[01:07:01] <MaximB> hi, I want to output the result but I get 1+2 :  new_amount=($user_amount+$current_amount)   both amounts have numbers inside
[01:07:16] <MaximB> when I do echo $new_amount
[01:07:49] *** Quits: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Quit: QUIT)
[01:08:27] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 276 seconds)
[01:09:42] <OMGOMG> !(
[01:09:42] <greybot> Commands in parentheses are run in a subshell. Useful for cd'ing into a directory without needing to figure out how to back out. See http://mywiki.wooledge.org/SubShell
[01:10:32] *** Parts: anddam (~anddam@user/anddam) (WeeChat 3.2)
[01:11:06] <MaximB> well, this does not make a difference: new_amount=$user_amount+$current_amount
[01:11:15] <MaximB> same result 1=2
[01:11:18] <MaximB> 1+2
[01:12:04] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:986e:1643:d9e5:868d)
[01:12:05] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:986e:1643:d9e5:868d) (Changing host)
[01:12:05] *** Joins: skapata (~Skapata@user/skapata)
[01:12:31] <OMGOMG> yes, bash likes strings
[01:12:37] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:12:50] <MaximB> lol :(  
[01:13:06] *** Quits: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Read error: Connection reset by peer)
[01:13:33] <MaximB> so there is no other way but to use eval?
[01:13:51] *** Joins: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[01:14:02] <OMGOMG> how would you solve it with eval?
[01:14:45] <MaximB> mmm....let me rephrase it... is there a way to solve this?
[01:14:55] <OMGOMG> sure
[01:15:04] <MaximB> what is the way?
[01:15:34] <OMGOMG> there's a faq and guide in the topic
[01:17:02] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[01:17:08] *** Quits: dza (~dza@user/dza) (Read error: Connection reset by peer)
[01:17:22] <kurahaupo> MaximB: Use arithmetic context or the $((…)) expansion
[01:18:07] <kurahaupo> MaximB: when you write foo=(stuff) that's an array assignment, not doing any math
[01:18:46] <MaximB> kurahaupo than you, this works!
[01:18:54] <kurahaupo> MaximB: and by all that's holy, avoid eval
[01:18:57] *** Joins: geli (~gelignite@55d4399a.access.ecotel.net)
[01:19:08] <MaximB> I also don't like eval.... :(  
[01:19:25] <kurahaupo> !eval
[01:19:26] <greybot> 'eval' is a common misspelling of 'evil'. If eval is the answer, surely you are asking the wrong question. See http://mywiki.wooledge.org/BashFAQ/048
[01:19:29] <MaximB> eval is evil ;)
[01:20:03] <MaximB> sed is sad and awk is awkward ;)  
[01:20:48] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 276 seconds)
[01:21:23] *** Quits: gentlinux (~gentlinux@2a02:8108:1880:294:3787:9d9d:a422:6d07) (Quit: WeeChat 2.3)
[01:22:02] *** Quits: magla (~gelignite@55d482e4.access.ecotel.net) (Ping timeout: 272 seconds)
[01:22:13] *** Joins: twobitsprite (~isaac.fre@107.13.51.62)
[01:22:29] *** Joins: dschrempf (~dominik@070-207.dynamic.dsl.fonira.net)
[01:23:51] <kurahaupo> who said that about sed?
[01:27:06] <kurahaupo> MaximB: either: (( new_amount = user_amount + current_amount )) or more compactly (( total_amount += user_amount ))
[01:27:44] *** Quits: twobitsprite (~isaac.fre@107.13.51.62) (Ping timeout: 272 seconds)
[01:27:58] <MaximB> kurahaupo yeah thanks I did new_amount=$(($user_amount+$current_amount)) and it works
[01:28:35] <kurahaupo> the $ are not needed inside the (()) 
[01:28:52] *** Quits: sazawal (~sazawal@171.50.134.171) (Quit: Leaving)
[01:29:25] <MaximB> cool, without them works too
[01:29:34] <MaximB> just used to writing vars with $
[01:29:59] <kurahaupo> # x=3+5 ; echo $((2*x)) $((2*$x)) 
[01:30:00] <shbot> kurahaupo: 16 11
[01:30:32] <kurahaupo> MaximB: More importantly, the results don't work intuitively if you include $
[01:31:02] <MaximB> interesting...
[01:31:51] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[01:32:10] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[01:32:12] <kurahaupo> # echo $((2*(3+5))) $((2*3+5))
[01:32:13] <shbot> kurahaupo: 16 11
[01:32:57] *** Quits: geli (~gelignite@55d4399a.access.ecotel.net) (Quit: Stay safe!)
[01:33:53] <kurahaupo> # x=3+5 ; echo $((2*x))=$((x*2)) but $((2*$x))≠$(($x*2))
[01:33:55] <shbot> kurahaupo: 16=16 but 11≠13
[01:36:32] <MaximB> in this file: https://paste.debian.net/1206280/ how would I change say GGG,2 to GGG,5 ? tried with sed: sed 's/$record,$current_amount/$record,$new_amount/' $1 but doesn't seems to work
[01:37:08] <MaximB> I use vars because they are all supplied by the user
[01:37:29] <MaximB> $1 is the filename
[01:39:08] *** Quits: arinov (~arinov@212.156.215.30) (Ping timeout: 272 seconds)
[01:40:32] *** Joins: dza (~dza@user/dza)
[01:43:50] *** Quits: rhu (~rhu@84.71.117.34) (Remote host closed the connection)
[01:44:42] <neshpion> MaximB: you can pass in a string to sed as a herestring: `sed 's/one/two/' <<<$1`
[01:45:34] <MaximB> use "`" ...mmmm.... is there other way? maybe $()...?
[01:45:53] <neshpion> ` is just to quote my example, you don't use ` in the actual line
[01:46:05] <kurahaupo> MaximB: in your original attempt change the quotes to double quotes
[01:46:22] <kurahaupo> !'
[01:46:22] <greybot> EVERYTHING inside single quotes (') is taken literally by bash. If you want to embed a ' inside '...', write it as the four characters '\'' or use $'...' quoting instead.
[01:46:25] <kurahaupo> !"
[01:46:25] <greybot> "Double quote" every literal that contains spaces/metacharacters and _every_ expansion: "$var", "$(command "$var")", "${array[@]}", "a & b". Use 'single quotes' for code or literal dollar signs: 'Costs $5 US', ssh host 'echo "$HOSTNAME"'. See http://mywiki.wooledge.org/Quotes , http://mywiki.wooledge.org/Arguments and http://wiki.bash-hackers.org/syntax/words .
[01:46:32] <neshpion> # asdf() { sed 's/[aeiou]/*/g' <<<$1; }; asdf 'yeetasuaursu rex'
[01:46:33] <shbot> neshpion: y**t*s***rs* r*x
[01:47:25] <MaximB> cool, this works : sed -i "s/$record,$current_amount/$record,$new_amount/" $1
[01:47:47] <neshpion> oh i completely missed that $1 is the filename
[01:47:53] <neshpion> nevermind my herestring nonsense
[01:47:55] <neshpion> :D
[01:48:20] <MaximB> thank you
[01:48:30] <neshpion> but in that case you ought to quote "$1" because a filename can contain spaces
[01:48:35] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[01:48:40] *** Joins: birkoff (birkoff@birkoff.thunderirc.net)
[01:48:43] <neshpion> if you don't quote it, then word-splitting occurs and will break the filename
[01:48:45] <kurahaupo> MaximB: sed "/^$recordname,/ s/,.*/,$newval/" 
[01:49:04] *** birkoff is now known as Guest6611
[01:49:23] <MaximB> this seems more complicated to write/understand ^ 
[01:49:55] <MaximB> for me readability is key , even if it's longer
[01:50:16] <neshpion> actually that pattern is more readable to me :P
[01:50:23] <MaximB> lol :)  
[01:50:31] <kurahaupo> MaximB: 1. Does the order of lines in the file matter? 2. What should happen if the label doesn't anyway exist?
[01:50:32] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 245 seconds)
[01:50:36] <MaximB> bash was always difficult for me to understand 
[01:51:08] <kurahaupo> None of that was bash, except $var; the rest was all sed
[01:51:17] <MaximB> kurahaupo I check that the label exists first, and there is only one in the file.
[01:51:26] <kurahaupo> oh, and the quotes
[01:51:32] <MaximB> like, there couldn't be more than one name
[01:52:08] <kurahaupo> MaximB: I  suggest simply deleting the old line (if any) and adding a new one
[01:52:17] *** Joins: Crescendo (~Crescendo@user/crescendo)
[01:52:36] <MaximB> could be a solution too, but I already solved it with sed -i "s/$record,$current_amount/$record,$new_amount/" $1
[01:52:59] <MaximB> this script needs more functions.... so my hands are full.
[01:53:27] <kurahaupo> MaximB: ( grep -v -e "^$record," ; echo "$record,$newval" ) <oldfile >newfile
[01:53:39] <MaximB> but it's the same file ;)  
[01:53:48] <MaximB> sed -i in place replace
[01:53:55] <kurahaupo> argh
[01:54:14] <kurahaupo> sed-i is almost as evil as eval
[01:54:49] <MaximB> no worries, I will need lots of more help later. but today is 00:24 here, time to sleep. thank you all :)
[01:54:59] <MaximB> bye
[01:55:02] *** Quits: MaximB (~MaximB@87.68.164.172) (Quit: Client closed)
[01:55:07] <kurahaupo> MaximB: You do know that it's not really in-place, rather it always creates a new file which is then renamed to replace the current one?
[01:55:27] <kurahaupo> dang missed by 4 seconds
[02:00:24] *** Joins: lucf117 (~lucf117@user/lucf117)
[02:02:46] *** Quits: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[02:06:54] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 258 seconds)
[02:07:04] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[02:15:18] *** Quits: carlos (~pum@user/carlos) (Remote host closed the connection)
[02:17:55] *** PayCops is now known as All
[02:17:56] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[02:18:45] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:20:02] *** Joins: sudomann (~sudomann@c-73-133-131-19.hsd1.md.comcast.net)
[02:23:00] *** Joins: twobitsprite (~isaac.fre@107.13.51.62)
[02:23:18] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[02:26:08] *** Quits: strive (~strive@user/strive) (Quit: WeeChat 3.2)
[02:27:03] *** Quits: sky- (~sky@user/sky-) (Quit: Leaving)
[02:28:28] *** Quits: twobitsprite (~isaac.fre@107.13.51.62) (Ping timeout: 272 seconds)
[02:31:29] *** Quits: rememberYou (~someone@user/rememberyou) (Remote host closed the connection)
[02:32:33] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[02:34:42] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 240 seconds)
[02:35:40] *** Quits: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[02:41:21] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[02:43:30] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[02:43:30] *** Quits: vysn (~vysn@user/vysn) (Remote host closed the connection)
[02:44:09] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Quit: ɯlɐɔ uı ʞɹoʍ oʇ ƃuıoƃ)
[02:44:26] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[02:46:05] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[02:49:59] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[02:55:50] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 256 seconds)
[02:59:06] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Remote host closed the connection)
[02:59:43] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[03:00:30] *** Joins: ferdna (~ferdna@user/ferdna)
[03:00:32] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Client Quit)
[03:07:47] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[03:11:27] <rdrg109> [Q] Is "[[:digit:]]" the only way to refer to "[0-9]" in grep? Isn't it possible to use "\d" in grep?
[03:15:56] <neshpion> to my knowledge, [:digit:] is a POSIX character class, but \d is a PCRE atom, they are defined by different standards.  grep does not implement the PCRE standard but rather POSIX regular expressions.  \d will work with pcregrep or ripgrep
[03:16:02] *** Quits: junagu (~junagu@2a02:8010:6989:0:148:a619:6de:526e) (Ping timeout: 272 seconds)
[03:17:23] <neshpion> but in grep you can also just use [0-9] :P
[03:17:49] *** Quits: N4buc0 (~N4buc0@2001:1284:f013:cc94:ff80:486b:bc69:ca86) (Remote host closed the connection)
[03:18:02] *** Joins: N4buc0 (~N4buc0@2001:1284:f013:cc94:ea6e:953e:fca4:83e)
[03:20:42] <emanuele6> ![:digit:]
[03:20:48] <emanuele6> ![[:digit:]]
[03:20:48] <greybot> you're a pretetious prick
[03:21:14] <neshpion> lol y tho
[03:21:32] <emanuele6> because its just [0-9] but longer, lol
[03:23:46] *** Joins: twobitsprite (~isaac.fre@107.13.51.62)
[03:26:58] *** Quits: bn_work (uid268505@id-268505.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[03:27:55] *** Joins: arinov (~arinov@213.194.126.155)
[03:28:42] *** Quits: twobitsprite (~isaac.fre@107.13.51.62) (Ping timeout: 272 seconds)
[03:30:08] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[03:31:04] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[03:31:35] *** Quits: jsrnop (~mark@user/jsrnop) (Quit: The Lounge - https://thelounge.chat)
[03:32:07] *** Joins: jsrnop (~mark@user/jsrnop)
[03:45:06] *** Joins: sublim20 (~sublim20@user/sublim20)
[03:45:26] *** Joins: qub411 (~user@203-219-207-138.tpgi.com.au)
[03:48:12] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Quit: WeeChat 3.2)
[03:48:26] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[03:49:07] *** Quits: dschrempf (~dominik@070-207.dynamic.dsl.fonira.net) (Quit: WeeChat 3.2)
[03:51:02] *** Joins: akoana (~ah@user/akoana)
[03:52:16] *** Quits: Psi-Jack (psi-jack@user/psi-jack) (Remote host closed the connection)
[03:52:29] *** Joins: Psi-Jack (psi-jack@user/psi-jack)
[03:55:35] *** Quits: robobo (~robobo@c-e52c524e.015-74-6762675.bbcust.telenor.se) (Remote host closed the connection)
[03:56:03] *** Joins: Crescendo (~Crescendo@user/crescendo)
[03:59:02] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[04:02:55] *** Quits: N0ZYC (~N0ZYC@173-16-166-245.client.mchsi.com) (Quit: Leaving...)
[04:04:21] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Ping timeout: 250 seconds)
[04:05:23] *** Quits: mohabaks_ (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 244 seconds)
[04:05:39] <sudomann> when you capture output like:  `foo=$(echo hello)`, does $? correspond to the result of the echo command or the foo assignment
[04:06:06] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[04:07:22] *** Joins: igemnace (~ian@user/igemnace)
[04:10:10] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[04:11:06] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[04:13:24] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Ping timeout: 258 seconds)
[04:13:52] <phy1729> it depends on the shell it seems
[04:14:15] <phy1729> # a=$(false); echo $?
[04:14:16] <shbot> phy1729: 1
[04:14:19] <phy1729> d# a=$(false); echo $?
[04:14:19] <shbot> phy1729: 1
[04:14:33] <phy1729> hrm thought there was a shell that had 0
[04:14:52] <ormaaj> that would be a bug
[04:15:02] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:19] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[04:15:37] <ormaaj> b# x=`false`; echo $?
[04:15:38] <shbot> ormaaj: 1
[04:15:39] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:15:53] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[04:16:12] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:34] <Gamma> The exit code only gets eaten if it isn't a "plain" assignment
[04:20:37] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:20:47] <Gamma> # typeset x=$(false); echo $?
[04:20:48] <shbot> Gamma: 0
[04:20:58] <Gamma> Same with `local` and `declare`
[04:21:44] *** Joins: twinsignal (~twinsigna@68.235.43.20)
[04:22:09] <Gamma> sudomann: ^
[04:23:10] <Gamma> b/c $? is the exit code of `typeset`, not `false`
[04:23:50] *** Joins: xall (~xall@2600:8800:8c02:3600:85ec:a0c9:49be:68b6)
[04:24:15] <Gamma> 'local foo; if foo=$(bar); then ...' is a fairly common pattern
[04:24:31] *** Quits: twinsignal (~twinsigna@68.235.43.20) (Client Quit)
[04:24:34] *** Joins: twobitsprite (~isaac.fre@107.13.51.62)
[04:26:43] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[04:27:22] *** Joins: mhi (~mhinz@user/mhi)
[04:27:32] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 272 seconds)
[04:29:39] *** Parts: Psi-Jack (psi-jack@user/psi-jack) ()
[04:30:08] *** Quits: tk (~tk@ircpuzzles/staff/tk) (Quit: Well, this is unexpected.)
[04:30:31] *** Joins: tk (~tk@ircpuzzles/staff/tk)
[04:30:48] *** Joins: Psi-Jack (psi-jack@user/psi-jack)
[04:32:40] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 272 seconds)
[04:32:57] *** Quits: twobitsprite (~isaac.fre@107.13.51.62) (Ping timeout: 258 seconds)
[04:35:33] *** Joins: lq (~lq@180.167.42.11)
[04:37:05] *** Quits: lq820105 (~lq@210.72.8.214) (Ping timeout: 252 seconds)
[04:37:35] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[04:39:27] *** Joins: sn1tch3r (~sn1tch3r@user/sn1tch3r)
[04:39:44] *** Quits: sn1tch3r (~sn1tch3r@user/sn1tch3r) (Remote host closed the connection)
[04:40:07] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Quit: ZNC 1.8.2 - https://znc.in)
[04:40:08] *** Joins: sn1tch3r (~sn1tch3r@user/sn1tch3r)
[04:40:25] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[04:42:14] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[04:43:01] *** Joins: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net)
[04:43:08] *** Quits: Psi-Jack (psi-jack@user/psi-jack) (Remote host closed the connection)
[04:47:04] *** Quits: gschanuel6 (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[04:47:56] *** Joins: gschanuel6 (~gschanuel@user/gschanuel)
[04:49:35] *** Joins: totenkoph (~scythe@user/totenkoph)
[04:51:38] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 265 seconds)
[04:53:25] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[04:59:50] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[05:05:31] <tirnanog> exactly that. this came up not so long ago. a simple command that does not evaluate as having a command name (a "plain" assignment, for instance) can return the status of the last command substitution. however, declare, typeset and local are all command names.
[05:07:50] <tirnanog> certainly, no sh(1) implementation should ever return 0 for a=$(false) other than in the case that the false command has been made to be something that does so. otherwise, it would be a violation.
[05:08:48] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[05:14:41] *** Quits: N4buc0 (~N4buc0@2001:1284:f013:cc94:ea6e:953e:fca4:83e) (Remote host closed the connection)
[05:16:13] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[05:17:04] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[05:17:09] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[05:28:34] *** Joins: richardm75 (~richardm7@2600:8801:c502:1000:7038:6984:74d2:d4f6)
[05:30:20] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:30:46] *** Quits: haliucinas (~haliucina@5.20.153.21) (Read error: Connection reset by peer)
[05:32:50] *** Quits: LiftLeft (~LiftLeft@191.96.150.140) (Ping timeout: 272 seconds)
[05:36:02] *** Joins: haliucinas (~haliucina@5.20.153.21)
[05:38:23] *** Joins: gnoo (~gnoo@user/gnoo)
[05:39:21] <justsomeguy> I don't even consider exit codes to be useful; They vary so much. Instead, I always check the value that the command returns on stdout against a pattern. Maybe I just don't use the right combination of commands for them to be useful. Do you find exit codes, generally?
[05:39:46] <justsomeguy> s/find exit codes,/find them useful,/
[05:40:14] <justsomeguy> Oh, I guess the exception is a few network daemons, like sshd.
[05:40:44] <ormaaj> it is essentially impossible to write nontrivial scripts without them.
[05:42:41] <tirnanog> they are fantastically useful.
[05:42:49] <ormaaj> they are the basis for control flow, logic, pattern matching, arithmetic, error handling.
[05:43:26] <justsomeguy> In my usage so far, I'll check for failure with && and ||, but very rarely check for specific codes other than 0 or >1. I guess that's moving the goal posts of the discussion.
[05:43:48] <tirnanog> yes, it is.
[05:44:36] <tirnanog> in any case, checking stdout patterns should not be the foundation for error handling (stdout ... heh).
[05:44:52] <justsomeguy> lol, true
[05:45:16] <tirnanog> occasionaly, there are situations in which it is justified, but it should be on a last-resort basis.
[05:45:47] <ormaaj> "I always check the value that the command returns on stdout against a pattern" And how do you do that without involving $? value? (you don't)
[05:48:18] <ormaaj> right explicit $? test is special
[05:48:33] <ormaaj> !pf 44
[05:48:33] <greybot> https://mywiki.wooledge.org/BashPitfalls#pf44 -- Don't do this! -- cmd; (( ! $? )) || die
[05:52:18] *** Joins: physikoi (~physikoi@user/physikoi)
[05:52:56] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[05:55:18] <justsomeguy> Off the top of my head, the general pattern I was thinking of is something like this: pathname="$(get_config_pathname arg arg2 2>&1)"; case "$pathname" in "$valid_pathname_pat") cmd;; *) printf '%s\n' -- "bad pathname"; exit 1; esac;. But my argument is silly, I just hadn't thought it through.
[05:59:14] <physikoi> I've written a script that adds minor conveniences to uploading a website; the main draw is that it allows one to store a project's rsync config in a package.json file. https://github.com/quidprobros/rsync-my-site
[05:59:54] <llua> zzz
[06:00:36] <llua> isn't hackernews is where you post random projects
[06:02:58] <physikoi> idk
[06:05:42] *** Parts: justsomeguy (~justsomeg@user/justsomeguy) (WeeChat 3.2)
[06:06:00] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[06:06:56] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[06:07:03] <tirnanog> justsomeguy: that use case seems fine. particularly as the behaviour of the command is presumably under your control.
[06:07:32] *** Joins: lq820105 (~lq@180.167.42.11)
[06:10:05] *** Quits: lq (~lq@180.167.42.11) (Read error: Connection reset by peer)
[06:10:30] *** Parts: foureyes (foureyes@brought.to.you.by.bnc4free.com) ()
[06:11:46] *** Joins: dre (~dre@2001:8003:c932:c301:9993:49c7:7392:9609)
[06:11:52] *** Quits: physikoi (~physikoi@user/physikoi) (Ping timeout: 265 seconds)
[06:14:35] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[06:15:24] *** Quits: xall (~xall@2600:8800:8c02:3600:85ec:a0c9:49be:68b6) (Quit: Client closed)
[06:22:14] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 272 seconds)
[06:22:18] *** Joins: keypushe- (keypusher@user/keypusher)
[06:22:59] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 265 seconds)
[06:23:30] *** Quits: n4dir (~user@i59F77C47.versanet.de) (Ping timeout: 272 seconds)
[06:23:30] *** Quits: yogoyo (~yogoyo@user/yogoyo) (Ping timeout: 272 seconds)
[06:24:06] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[06:24:59] *** Joins: n4dir (~user@i577BC9F0.versanet.de)
[06:25:32] *** keypushe- is now known as keypusher
[06:25:42] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[06:27:59] *** Joins: zebrag (~chris@user/zebrag)
[06:30:10] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 240 seconds)
[06:37:46] *** Quits: greg` (~user@cpc80657-stap13-2-0-cust85.12-2.cable.virginm.net) (Read error: Connection reset by peer)
[06:37:57] *** Joins: physikoi (~physikoi@user/physikoi)
[06:37:58] *** Joins: greg` (~user@cpc80657-stap13-2-0-cust85.12-2.cable.virginm.net)
[06:39:52] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[06:40:08] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[06:45:44] *** Quits: n4dir (~user@i577BC9F0.versanet.de) (Remote host closed the connection)
[06:51:43] *** Parts: physikoi (~physikoi@user/physikoi) ()
[06:58:45] *** Joins: LiftLeft (~LiftLeft@154.16.192.57)
[06:59:06] *** Joins: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com)
[07:14:09] *** Joins: jos2 (~jos3@dyndsl-091-096-038-183.ewe-ip-backbone.de)
[07:17:29] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[07:17:58] *** Quits: jos1 (~jos3@dyndsl-178-142-071-001.ewe-ip-backbone.de) (Ping timeout: 272 seconds)
[07:20:30] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 272 seconds)
[07:21:28] *** Quits: lucf117 (~lucf117@user/lucf117) (Ping timeout: 265 seconds)
[07:26:35] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Quit: Konversation terminated!)
[07:30:39] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:33:09] *** Joins: jess (~jess@libera/staff/jess)
[07:34:02] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 265 seconds)
[07:40:01] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.2)
[07:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:41:02] *** Joins: mohabaks_ (~mohabaks@gateway/tor-sasl/mohabaks)
[07:44:43] *** Joins: vlm (~vlm@user/vlm)
[07:58:36] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[08:08:47] *** Quits: cdown (~cdown@89.32.122.5) (Quit: Lost terminal)
[08:18:54] *** Joins: sublim20 (~sublim20@user/sublim20)
[08:22:42] *** Quits: situ (~situ@ip-89-176-251-11.net.upcbroadband.cz) (Ping timeout: 240 seconds)
[08:30:21] *** Joins: N0ZYC (~N0ZYC@173-16-166-245.client.mchsi.com)
[08:35:52] *** Quits: LiftLeft (~LiftLeft@154.16.192.57) (Ping timeout: 272 seconds)
[08:36:08] *** Joins: lucf117 (~lucf117@user/lucf117)
[08:40:13] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[08:41:10] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[08:44:44] *** Quits: lucf117 (~lucf117@user/lucf117) (Ping timeout: 272 seconds)
[08:52:08] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[08:52:55] *** Joins: thyriaen (~thyriaen@x4dbfed8a.dyn.telefonica.de)
[09:00:49] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Read error: Connection reset by peer)
[09:03:03] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[09:13:51] *** Joins: LiftLeft (~LiftLeft@37.19.198.39)
[09:14:05] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 265 seconds)
[09:14:57] *** Joins: earnestly (~earnest@user/earnestly)
[09:18:47] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[09:18:58] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[09:20:34] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[09:23:45] *** Quits: hejux (~hejux@104.224.190.144.16clouds.com) (Ping timeout: 265 seconds)
[09:24:18] *** Joins: hejux (~hejux@104.224.190.144.16clouds.com)
[09:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:35:58] *** Quits: neshpion (~neshpion@gateway/tor-sasl/neshpion) (Quit: neshpion)
[09:47:21] *** Joins: sokle_68 (~sokle_68@ppp079166143145.access.hol.gr)
[09:48:26] *** Joins: n4dir (~user@i577BC9F0.versanet.de)
[09:49:26] *** Joins: JanC_ (~janc@user/janc)
[09:51:42] *** Quits: JanC (~janc@user/janc) (Ping timeout: 276 seconds)
[09:51:51] *** JanC_ is now known as JanC
[09:54:33] *** Quits: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431) (Quit: Leaving)
[10:01:24] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[10:02:20] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[10:02:25] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 265 seconds)
[10:04:50] *** Quits: LiftLeft (~LiftLeft@37.19.198.39) (Ping timeout: 265 seconds)
[10:06:13] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[10:07:09] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[10:10:13] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[10:11:58] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[10:14:34] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[10:15:30] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[10:21:44] *** Parts: sokle_68 (~sokle_68@ppp079166143145.access.hol.gr) ()
[10:22:34] *** Quits: greg` (~user@cpc80657-stap13-2-0-cust85.12-2.cable.virginm.net) (Ping timeout: 240 seconds)
[10:31:00] *** Joins: VectorX (~VectorX@user/vectorx)
[10:33:47] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[10:33:58] *** Joins: mike (~mike@116.204.144.25)
[10:34:11] *** Joins: gnooooo (~gnoo@user/gnoo)
[10:34:23] *** mike is now known as Guest1512
[10:35:59] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[10:39:05] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[10:41:47] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[10:48:15] *** Quits: somrandom (~ben@182-239-148-165.ip.adam.com.au) (Quit: WeeChat 3.2)
[10:49:34] *** Joins: lavaball (felix@31.204.155.215)
[10:52:19] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[10:53:01] *** Joins: mat001 (~mat001@c-73-223-64-126.hsd1.ca.comcast.net)
[10:53:03] *** Quits: n4dir (~user@i577BC9F0.versanet.de) (Remote host closed the connection)
[10:53:32] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 256 seconds)
[10:53:34] *** Lord_of_Life_ is now known as Lord_of_Life
[11:01:23] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Remote host closed the connection)
[11:02:19] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[11:03:19] *** Quits: diverdude (~user@176-21-102-230-cable.dk.customer.tdc.net) (Ping timeout: 265 seconds)
[11:08:09] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.2)
[11:08:30] *** Joins: lq (~lq@180.167.42.11)
[11:10:24] *** Quits: lq820105 (~lq@180.167.42.11) (Ping timeout: 272 seconds)
[11:10:58] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Quit: ZNC 1.8.2 - https://znc.in)
[11:11:49] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[11:13:07] *** Joins: arinov (~arinov@213.194.126.155)
[11:13:24] *** Joins: loganlee (~Thunderbi@user/loganlee)
[11:18:31] *** Joins: diverdude (~user@176-21-102-230-cable.dk.customer.tdc.net)
[11:18:57] *** Joins: magla (~gelignite@55d4c33c.access.ecotel.net)
[11:24:31] *** Quits: b0b (~bob@user/b0b) (Quit: o/)
[11:25:01] *** Joins: b0b (~bob@user/b0b)
[11:27:50] *** Quits: Night-Shade (~Tim@ip5b403d56.dynamic.kabel-deutschland.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:28:04] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Quit: ZNC 1.8.2 - https://znc.in)
[11:29:56] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[11:33:30] *** Quits: richardm75 (~richardm7@2600:8801:c502:1000:7038:6984:74d2:d4f6) (Ping timeout: 240 seconds)
[11:34:46] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Remote host closed the connection)
[11:35:38] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[11:40:54] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3-dev)
[11:43:06] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Quit: ZNC 1.8.2 - https://znc.in)
[11:44:45] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[11:44:58] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[11:48:37] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[11:49:02] *** Joins: Mo (~Mo@dynamic-095-112-081-081.95.112.pool.telefonica.de)
[11:52:01] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Quit: ZNC 1.8.2 - https://znc.in)
[11:52:50] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[11:56:32] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Client Quit)
[11:57:21] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[11:58:27] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[12:04:33] *** Joins: LiftLeft (~LiftLeft@154.16.192.67)
[12:06:12] *** Joins: dhrv (~dhrv@user/dhrv)
[12:06:30] <dhrv> hi, anyone using ssg5 or modified ssg5?
[12:07:21] *** Joins: robobo (~robobo@c-e52c524e.015-74-6762675.bbcust.telenor.se)
[12:08:13] <dhrv> https://www.romanzolotarev.com/ssg.html
[12:11:25] *** Joins: rendar (~rendar@user/rendar)
[12:11:51] *** Joins: shad (~shad@user/shad)
[12:15:47] *** Joins: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[12:20:42] *** Quits: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[12:21:23] *** Quits: mat001 (~mat001@c-73-223-64-126.hsd1.ca.comcast.net) (Ping timeout: 258 seconds)
[12:23:19] <Soliton> !survey
[12:23:19] <greybot> survey says: No
[12:23:31] *** Joins: downunder (~downunder@110.151.122.76)
[12:32:11] *** Joins: yogoyo (~yogoyo@user/yogoyo)
[12:33:00] *** Joins: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[12:35:45] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[12:37:11] *** Joins: iomari891 (~iomari891@105.112.138.38)
[12:45:32] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 245 seconds)
[12:45:57] *** Quits: LiftLeft (~LiftLeft@154.16.192.67) (Ping timeout: 245 seconds)
[12:46:33] <cronolio> is there some magic command to perform healthcheck of a docker where is no curl or wget
[12:47:21] <Soliton> !nabq
[12:47:22] <greybot> Not a #bash question. We're no experts in that software or OS; consider asking the channel or mailing list with experts on that topic (eg. ##linux #openssh #ubuntu #zsh #systemd or PM alis with "list keyword" to search for channels).
[12:47:55] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[12:51:56] <geirha> nc can be used to check if a port is open
[12:52:34] *** Quits: Guest6611 (birkoff@birkoff.thunderirc.net) (Quit: ZNC 1.8.2 - https://znc.in)
[12:52:51] <cronolio> not, there is was some magic with bash bla bla /dev/....url
[12:55:30] *** Quits: ponies (~ponies@203.111.95.26) (Read error: Connection reset by peer)
[12:55:57] *** Quits: keypusher (keypusher@user/keypusher) (Remote host closed the connection)
[12:56:43] <cronolio> ah 'cat </dev/tcp/$host/$port'
[12:56:59] <geirha> well, you can try using /dev/tcp redirections, but I remember there being some edge cases where it could block indefinitely. Just don't remember what those cases were
[12:58:36] *** Joins: keypusher (keypusher@user/keypusher)
[13:00:39] *** Quits: gnooooo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[13:00:48] <cronolio> at least requred timeout for cat :)
[13:02:39] <geirha> doesn't make much sense to use cat
[13:02:58] *** Joins: birkoff (birkoff@birkoff.thunderirc.net)
[13:02:58] *** Quits: birkoff (birkoff@birkoff.thunderirc.net) (Changing host)
[13:02:58] *** Joins: birkoff (birkoff@user/birkoff)
[13:03:54] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[13:04:47] <geirha> if exec 3<> "/dev/tcp/$host/$port" 3>&-; then
[13:06:02] <izabera> wow
[13:06:24] <izabera> never seen anything like that
[13:06:59] <izabera> i think    if : 3<> /dev/tcp/host/port; then     would do the same?
[13:07:35] <geirha> if you try with google.com/80 it succeeds, if you try with google.com/81 it hangs indefinitely; I'm guessing i does a DROP instead of REJECT or something
[13:08:43] <geirha> hm. yeah. probably don't even need the : command
[13:09:00] *** Joins: gnooooo (~gnoo@user/gnoo)
[13:13:34] *** Quits: gnooooo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[13:18:10] *** Quits: fossdd (~fossdd@sourcehut/user/fossdd) (Ping timeout: 240 seconds)
[13:18:40] *** Joins: fossdd (~fossdd@sourcehut/user/fossdd)
[13:23:59] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[13:30:44] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 265 seconds)
[13:33:22] *** Quits: fossdd (~fossdd@sourcehut/user/fossdd) (Ping timeout: 240 seconds)
[13:34:10] *** Joins: fossdd (~fossdd@sourcehut/user/fossdd)
[13:34:48] *** Joins: gnoo (~gnoo@user/gnoo)
[13:36:38] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[13:37:01] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[13:39:45] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Read error: Connection reset by peer)
[13:40:31] *** Quits: Betal (~Beta@user/betal) (Quit: WeeChat 3.2)
[13:40:37] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[13:43:37] *** Joins: ttyX (~ttyX@182.68.139.183)
[13:45:52] *** Quits: fossdd (~fossdd@sourcehut/user/fossdd) (Remote host closed the connection)
[13:47:19] *** Quits: tejr (~tejr@user/tejr) (Quit: reboot)
[13:50:15] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[13:51:00] *** Joins: gnoo (~gnoo@user/gnoo)
[13:51:32] <tirnanog> if ( eval "{ sleep 5; kill -INT $BASHPID; } &"; : 3<>/dev/tcp/google.com/81 ) 2>/dev/null; then echo "ok"; fi
[13:52:09] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 252 seconds)
[13:52:19] <tirnanog> should time out.
[13:59:40] *** Joins: ttyX_ (~ttyX@103.95.83.154)
[14:01:31] *** Joins: tejr (~tejr@user/tejr)
[14:02:58] *** Quits: ttyX (~ttyX@182.68.139.183) (Ping timeout: 258 seconds)
[14:08:55] <Soliton> you can use 0 instead of $BASHPID and omit the eval.
[14:10:50] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Remote host closed the connection)
[14:11:20] <tirnanog> yes. good idea.
[14:11:46] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[14:14:39] <tirnanog> hmm. no, it's not. because it would kill the interpreter running the script.
[14:15:34] *** Quits: gnoo (~gnoo@user/gnoo) (Remote host closed the connection)
[14:15:54] *** Joins: wonderer (~quakeroat@user/wonderer)
[14:16:25] *** Quits: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[14:16:48] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[14:16:48] <wonderer> hi all how do i extract a tabulated out where i only need one coloumn of data and ignore rest as shown in this sample console output https://pastebin.com/GLkjetuq 
[14:16:49] <pasteban> Paste is available without ads on https://pastebin.com/raw/GLkjetuq
[14:16:55] <wyre> !colors
[14:16:55] <greybot> http://mywiki.wooledge.org/BashFAQ/037 -- How can I print text in various colors?
[14:20:34] <geirha> wonderer: first check if the program outputting that data has options to output it in a parsable format
[14:21:46] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[14:24:45] <wonderer> using  | awk '{print $3}'
[14:24:48] <wonderer> works for me
[14:25:00] <wonderer> but it print 1st row which heading row
[14:25:05] <wonderer> want to ignore
[14:25:09] <wonderer> how do i do this?
[14:26:10] *** Quits: extor (~xtor@192.99.217.240) (Ping timeout: 240 seconds)
[14:26:24] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Client closed)
[14:27:04] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[14:27:29] <koollman_> wonderer: | awk 'NR!=1{print $3}'
[14:30:28] <wonderer> checking koolazer
[14:30:35] <wonderer> koollman_
[14:31:03] <wonderer> yep that worked
[14:31:08] <wonderer> thank you very much :)
[14:31:32] <earnestly> wonderer: Still worth checking if the program has a --noheaders type option
[14:31:43] <earnestly> Or --no-legend with systemd iirc
[14:36:29] *** Quits: dhrv (~dhrv@user/dhrv) (Remote host closed the connection)
[14:38:10] *** Joins: ScriptFanix (~vincent@rev209.vpn.fdn.fr)
[14:43:14] *** Joins: rhu (~rhu@84.71.117.34)
[14:48:51] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Client closed)
[14:49:17] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[14:51:14] *** Joins: extor (~xtor@192.99.217.240)
[14:54:33] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[14:56:41] *** Quits: ttyX_ (~ttyX@103.95.83.154) (Quit: Leaving)
[14:59:19] *** Joins: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[15:00:44] *** Quits: downunder (~downunder@110.151.122.76) (Quit: WeeChat 3.2)
[15:03:46] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[15:12:41] *** Joins: n4dir (~user@i577BC9F0.versanet.de)
[15:12:53] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[15:13:49] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[15:15:11] *** Quits: rhu (~rhu@84.71.117.34) (Quit: WeeChat 2.8)
[15:16:30] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[15:16:54] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[15:17:28] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[15:20:59] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[15:21:12] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 272 seconds)
[15:21:21] *** Quits: wonderer (~quakeroat@user/wonderer) (Remote host closed the connection)
[15:22:12] *** Joins: wonderer (~quakeroat@user/wonderer)
[15:25:38] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[15:26:20] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Quit: ZNC 1.8.2 - https://znc.in)
[15:28:11] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[15:31:00] *** Joins: thiras (~thiras@user/thiras)
[15:32:36] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[15:33:02] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[15:36:34] *** Quits: wwilly (~wwilly@217.140.99.251) (Remote host closed the connection)
[15:38:53] *** Joins: alguien (~alguien@user/alguien)
[15:40:57] *** Quits: shad (~shad@user/shad) (Ping timeout: 245 seconds)
[15:43:42] *** Quits: MenschZwoNull (~MenschZwo@p200300c8571e370094ab5ecbac584ac2.dip0.t-ipconnect.de) (Remote host closed the connection)
[15:54:24] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 276 seconds)
[16:02:01] *** Joins: darkbit (~db@152.32.99.67)
[16:03:10] *** Joins: shad (~shad@user/shad)
[16:06:08] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[16:07:03] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[16:08:28] *** Joins: MenschZwoNull (~MenschZwo@p5b33a64f.dip0.t-ipconnect.de)
[16:10:28] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[16:11:24] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 2.3)
[16:11:24] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[16:14:07] *** Joins: shad (~shad@user/shad)
[16:14:14] *** Joins: Night-Shade (~Tim@ip5b403d56.dynamic.kabel-deutschland.de)
[16:20:22] *** Joins: varaindemian (~varaindem@86.124.78.162)
[16:21:28] *** Quits: dre (~dre@2001:8003:c932:c301:9993:49c7:7392:9609) (Remote host closed the connection)
[16:28:22] *** Joins: LiftLeft (~LiftLeft@37.19.198.36)
[16:28:26] *** Quits: Night-Shade (~Tim@ip5b403d56.dynamic.kabel-deutschland.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:29:53] *** Quits: MenschZwoNull (~MenschZwo@p5b33a64f.dip0.t-ipconnect.de) (Remote host closed the connection)
[16:29:59] *** Joins: MenschZwoNull (~MenschZwo@p5b33a64f.dip0.t-ipconnect.de)
[16:30:17] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[16:30:38] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[16:31:23] *** Joins: roadie (~user@2a02:8108:ec0:1427:288d:5490:8814:e094)
[16:31:30] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 265 seconds)
[16:32:01] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Quit: ZNC 1.8.2 - https://znc.in)
[16:33:34] *** Joins: enoq (~enoq@194-208-179-35.lampert.tv)
[16:33:51] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[16:34:31] *** Joins: strive (~strive@user/strive)
[16:38:06] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Remote host closed the connection)
[16:38:54] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[16:41:28] *** Quits: thyriaen (~thyriaen@x4dbfed8a.dyn.telefonica.de) (Quit: Leaving)
[16:45:39] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:49:37] *** Joins: TomyWork (~TomyLobo@p200300e80f133c00edca32a9512e1858.dip0.t-ipconnect.de)
[16:49:56] *** Joins: mat001 (~mat001@c-73-223-64-126.hsd1.ca.comcast.net)
[16:51:46] *** Quits: alguien (~alguien@user/alguien) (Ping timeout: 272 seconds)
[16:53:28] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[16:54:42] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[16:56:01] *** Quits: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net) (Quit: WeeChat 3.2)
[16:56:11] *** Joins: arinov (~arinov@95.12.122.184)
[16:56:45] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[16:57:07] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 265 seconds)
[16:59:34] *** Joins: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net)
[17:02:48] *** Quits: Guest1512 (~mike@116.204.144.25) (Quit: WeeChat 1.9.1)
[17:05:58] *** Joins: Night-Shade (~Tim@ip5b403d56.dynamic.kabel-deutschland.de)
[17:06:34] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 2.3)
[17:07:11] *** Joins: zeden (~zeden@user/zeden)
[17:08:35] *** Joins: alguien (~alguien@user/alguien)
[17:09:17] *** Joins: Jenmin (~Jenmin@183.199.203.47)
[17:10:01] *** Joins: shad (~shad@user/shad)
[17:10:49] *** Quits: PinealGlandOptic (~PinealGla@37.115.210.35) (Quit: leaving)
[17:10:54] *** Joins: seninha (~seninha@user/seninha)
[17:10:54] *** Quits: seninha (~seninha@user/seninha) (Client Quit)
[17:11:08] *** Quits: Night-Shade (~Tim@ip5b403d56.dynamic.kabel-deutschland.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:11:10] *** Quits: magla (~gelignite@55d4c33c.access.ecotel.net) (Quit: Stay safe!)
[17:11:57] *** Joins: Night-Shade (~Tim@ip5b403d56.dynamic.kabel-deutschland.de)
[17:12:58] *** Quits: Night-Shade (~Tim@ip5b403d56.dynamic.kabel-deutschland.de) (Client Quit)
[17:13:25] *** Joins: ExeciN (~ExeciN@user/nicexe)
[17:17:16] *** Joins: seninha (~seninha@user/seninha)
[17:18:57] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Remote host closed the connection)
[17:19:38] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 272 seconds)
[17:19:52] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[17:22:11] *** Joins: karakedi (~eAC53C340@user/karakedi)
[17:22:18] *** Quits: LiftLeft (~LiftLeft@37.19.198.36) (Ping timeout: 258 seconds)
[17:24:36] *** Quits: MenschZwoNull (~MenschZwo@p5b33a64f.dip0.t-ipconnect.de) (Remote host closed the connection)
[17:24:56] *** Quits: ExeciN (~ExeciN@user/nicexe) (Quit: Ping timeout (120 seconds))
[17:25:09] *** Joins: ExeciN (~ExeciN@user/nicexe)
[17:25:25] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[17:26:14] *** Joins: p3rL (~uid0@user/p3rl)
[17:26:35] <p3rL> hello, is it possible to use same pattern for two case ? to exec both of case at once 
[17:26:36] <p3rL> ?
[17:26:49] <p3rL> or like something all_in_one case that will executure all the case at once
[17:28:45] *** Joins: slackjeff (~slackjeff@191.177.172.134)
[17:28:53] <Soliton> what's the point of two cases with the same pattern? just put it all in one.
[17:29:53] *** Quits: arinov (~arinov@95.12.122.184) (Ping timeout: 268 seconds)
[17:30:42] <p3rL> i mean i have 3 cases ... all of them do diffrent task
[17:30:54] <p3rL> i want to create 1 more 4th case that will execute all 3 cases
[17:31:16] *** Joins: wwilly (~wwilly@fw-tnat-cam1.arm.com)
[17:31:23] *** Quits: ExeciN (~ExeciN@user/nicexe) (Quit: Ping timeout (120 seconds))
[17:31:36] *** Joins: ExeciN (~ExeciN@user/nicexe)
[17:31:47] <Soliton> use functions to avoid code duplication.
[17:31:58] <p3rL> its function already
[17:32:08] <Soliton> !next
[17:32:09] <greybot> Another satisfied customer! Next please!
[17:32:16] *** Quits: Jenmin (~Jenmin@183.199.203.47) (Ping timeout: 258 seconds)
[17:32:19] <p3rL> case is execution function with param
[17:33:32] <llua> if the fourth branch has the same pattern as one of the other three though, why wouldn't you add it in the existing branch
[17:33:52] *** Joins: Jenmin (~Jenmin@183.199.203.47)
[17:34:07] <p3rL> u mean i need to add all 3 three cases code in the 4th case ? to exec all of them at once ?
[17:34:31] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[17:35:09] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[17:35:54] <llua> i mean, what you are explaining doesn't make a lot of sense
[17:36:19] <p3rL> umm let me give a sample script
[17:36:51] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[17:37:24] <Soliton> i think they have 3 cases and now want to execute all of them regardless of the pattern or based on yet another pattern or whatever.
[17:37:44] *** Quits: ntwk (~ntwk@user/ntwk) (Quit: ntwk)
[17:38:17] <p3rL> https://termbin.com/qpoi
[17:38:38] <p3rL> i want case "all" exec foo & bar both
[17:39:09] <Soliton> that is not how case works.
[17:39:41] <Soliton> you can fallthrough at most.
[17:39:50] <varaindemian> getting the following errorrs when from the x11vnc when client tries to connect to it. https://pastebin.com/4x4Zh09m
[17:39:50] <pasteban> Paste is available without ads on https://pastebin.com/raw/4x4Zh09m
[17:39:53] <varaindemian> last 2 lines
[17:40:20] <Soliton> how is that related to bash?
[17:40:35] <varaindemian> sorry!
[17:41:03] *** Quits: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[17:42:05] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[17:42:10] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 246 seconds)
[17:42:26] *** Joins: ExeciN (~ExeciN@user/nicexe)
[17:42:33] <llua> p3rL: http://ix.io/3uMZ
[17:42:58] <p3rL> llua i tried this not execution all cases
[17:43:00] <p3rL> just 1st one
[17:43:19] <p3rL> without & 
[17:43:24] <p3rL> letme try yours
[17:43:43] *** Joins: sdu (~doo@185.44.146.64)
[17:44:22] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[17:44:32] <Soliton> personally i'd write readable code but that's probably not the goal.
[17:44:36] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[17:45:34] *** Joins: ponies (~ponies@203.111.95.26)
[17:46:20] <p3rL> llua in your code its execution all codes because of "&" ? in the end of each case
[17:46:42] <llua> because of ;;&, its all one token
[17:47:05] <p3rL> yeah, i was so close, the only thing i missed "&"
[17:47:08] <p3rL> thanks llua
[17:47:13] <Soliton> the documentation of case explains how it works.
[17:47:43] <p3rL> .bbl making tea
[17:51:35] *** Joins: MenschZwoNull (~MenschZwo@p200300c8571e370064898dd15eac2432.dip0.t-ipconnect.de)
[17:54:34] *** Quits: roadie (~user@2a02:8108:ec0:1427:288d:5490:8814:e094) (Ping timeout: 256 seconds)
[17:54:53] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 258 seconds)
[17:55:49] *** Joins: roadie (~user@2a02:8108:ec0:1427:288d:5490:8814:e094)
[18:04:39] <sudomann> I was using `stdbuf --output=L --error=L $PORT_FORWARD_COMMAND |` to pipe output lines into a while loop. I have just discovered now, that the output I was interested in (errors) arent being fed to my while loop. What can i use to capture the $PORT_FORWARD_COMMAND's error outpu
[18:05:20] *** Quits: roadie (~user@2a02:8108:ec0:1427:288d:5490:8814:e094) (Ping timeout: 256 seconds)
[18:05:36] <phy1729> 2>&1
[18:06:03] <Soliton> also fix the quotes and/or use an array.
[18:08:09] <twkm> as an aside, don't use all upper-case variable names for purely internal purposes.
[18:10:33] *** Quits: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[18:12:41] <sudomann> Are these last three messages in response to me?
[18:12:58] <geirha> yes
[18:14:42] <geirha> stdbuf -oL "${cmd[@]}" 2>&1 | while IFS= read -r line; do ...
[18:16:54] <sudomann> and for `cmd` do I need to change the assignment to an array or theres implicit string->array conversion here
[18:17:20] <Soliton> cmd=(mycmd arg1 arg2 ...)
[18:18:05] <Soliton> the point is to NOT abuse wordsplitting and pathname expansion and hope for the best.
[18:18:25] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[18:20:52] <sudomann> Shellcheck mentioned that, but I got an instant infinite loop when I quoted the liek "$cmd", "${cmd}"
[18:21:24] *** Joins: nvmd (~nvmd@user/nvmd)
[18:21:42] <Soliton> there is no loop in your shown code at all.
[18:24:33] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 276 seconds)
[18:24:33] <sudomann> yes, I ommitted that bit because it seemed to be working fine, looping over stdout. 
[18:24:35] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[18:25:07] *** Quits: mohabaks_ (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 244 seconds)
[18:26:18] <twkm> probably because without an array you need word splitting.
[18:26:56] <Soliton> you're not making a lot of sense but i guess it doesn't matter. you got everything to write a proper solution.
[18:29:26] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[18:29:46] *** Quits: Gamma (~Gamma@zsh/user/Gamma) (Ping timeout: 244 seconds)
[18:30:08] *** Joins: arinov (~arinov@213.194.126.155)
[18:31:35] *** Joins: roadie (~user@2a02:8108:ec0:1427:288d:5490:8814:e094)
[18:33:48] <sudomann> Sorry, here's the function for better context https://bpa.st/A2SA
[18:35:09] <sudomann> I meant that earlier when I pasted my whole script into spellcheck, I followed its suggestion to use doublequotes. So `stdbuf --output=L --error=L $PORT_FORWARD_COMMAND |` to `stdbuf --output=L --error=L "$PORT_FORWARD_COMMAND" |`
[18:36:32] *** Joins: Gamma (~Gamma@zsh/user/Gamma)
[18:37:10] <Soliton> so if you relied on wordsplitting that will simply fail. no infinite loop involved.
[18:39:07] <twkm> unless the function is in a loop since there's no "$PORT_FORWARD_I_CANT_TAKE_ADVICE_COMMAND" command in your path.
[18:39:28] *** Joins: twobitsprite (~isaac.fre@cpe-173-95-153-183.nc.res.rr.com)
[18:43:02] <osse> it will loop forever if the signal is ignored
[18:44:53] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[18:45:58] *** Joins: varaindemian (~varaindem@86.124.78.162)
[18:46:23] <Soliton> what is it? the while read loop?
[18:46:39] <sudomann> osse, yes, the function is in a loop ;)
[18:47:21] *** Joins: iomari891 (~iomari891@105.112.138.38)
[18:47:49] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:f1ac:3985:60c2:941e)
[18:47:50] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:f1ac:3985:60c2:941e) (Changing host)
[18:47:50] *** Joins: skapata (~Skapata@user/skapata)
[18:47:58] <Soliton> well, if you want to try port forwarding infinitely then i'd check the error status a little more closely.
[18:49:10] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[18:49:46] <sudomann> Unfortunately I'
[18:49:47] *** Joins: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[18:50:05] <sudomann> I'm resorting to this because the prof-forward process does not exit after falling into an error state
[18:50:16] <sudomann> port-forward *
[18:50:26] *** Quits: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[18:50:35] <sudomann> It just sits there continuing to print error messages for each request that comes through
[18:51:00] <Soliton> i meant rather to check if stdbuf could execute the command at all.
[18:51:11] *** Joins: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[18:51:17] <Soliton> because it's pointless to continue if it can't even call the command.
[18:51:57] <sudomann> ooh did not think about that, thanks
[18:51:57] <Soliton> my stdbuf seems to exit with 127. nothing about that in its man page though.
[18:52:45] <Soliton> it's what shells do as well though so probably a safe bet.
[18:55:45] *** Quits: Jenmin (~Jenmin@183.199.203.47) (Ping timeout: 276 seconds)
[18:56:54] *** Joins: ChmEarl (~chmearl@user/chmearl)
[18:57:43] *** Joins: nobody_ (~nobody@host-79-45-186-108.retail.telecomitalia.it)
[18:58:38] *** Joins: iomari892 (~iomari891@197.210.53.215)
[18:59:39] *** Quits: iomari892 (~iomari891@197.210.53.215) (Read error: Connection reset by peer)
[19:01:47] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 250 seconds)
[19:02:42] *** Joins: bandit (~bandit@2c0f:ed28:b016:e80::1ed)
[19:02:48] *** bandit is now known as bandit_za
[19:04:03] *** Joins: iomari892 (~iomari891@105.112.138.38)
[19:05:41] *** Joins: karakedi (~eAC53C340@user/karakedi)
[19:09:00] *** Quits: n4dir (~user@i577BC9F0.versanet.de) (Remote host closed the connection)
[19:10:34] *** Quits: jos2 (~jos3@dyndsl-091-096-038-183.ewe-ip-backbone.de) ()
[19:13:53] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[19:15:00] *** Quits: nobody_ (~nobody@host-79-45-186-108.retail.telecomitalia.it) (Ping timeout: 252 seconds)
[19:19:46] *** Quits: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[19:20:21] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[19:22:38] *** Joins: kill (~killown@user/killown)
[19:22:51] *** Joins: jetchisel (jetchisel@user/jetchisel)
[19:24:40] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[19:26:44] *** Joins: mohabaks_ (~mohabaks@gateway/tor-sasl/mohabaks)
[19:27:34] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 272 seconds)
[19:29:11] *** Quits: Gamma (~Gamma@zsh/user/Gamma) (Ping timeout: 244 seconds)
[19:29:19] *** Joins: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com)
[19:31:46] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[19:32:50] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[19:34:32] *** Quits: roadie (~user@2a02:8108:ec0:1427:288d:5490:8814:e094) (Ping timeout: 272 seconds)
[19:35:10] *** Quits: ExeciN (~ExeciN@user/nicexe) (Quit: Client closed)
[19:36:32] *** Joins: sokle_68 (~sokle_68@ppp079166143145.access.hol.gr)
[19:39:32] *** Joins: jos1 (~jos3@dyndsl-091-096-038-183.ewe-ip-backbone.de)
[19:43:23] *** Quits: justsomeguy (~justsomeg@user/justsomeguy) (Ping timeout: 265 seconds)
[19:47:50] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Quit: ZNC 1.8.2 - https://znc.in)
[19:48:42] *** Joins: richardm75 (~richardm7@2600:8801:c502:1000:909c:c752:983d:53a5)
[19:49:40] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[19:56:11] *** Quits: mhi (~mhinz@user/mhi) (Quit: mhi)
[19:59:07] *** Quits: Strom (strom@fedora/strom) ()
[20:00:11] *** Joins: roadie (~user@2a02:8108:ec0:1427:288d:5490:8814:e094)
[20:00:40] *** Joins: Strom (strom@fedora/strom)
[20:02:36] *** Parts: sokle_68 (~sokle_68@ppp079166143145.access.hol.gr) ()
[20:02:49] *** Joins: killown (~killown@user/killown)
[20:05:13] *** Quits: kill (~killown@user/killown) (Ping timeout: 258 seconds)
[20:06:17] *** Joins: mhi (~mhinz@user/mhi)
[20:06:43] *** Joins: straykitten (~straykitt@subs25-116-206-9-14.three.co.id)
[20:17:46] *** Joins: solar_sea (~solar_sea@user/solar-sea/x-3088627)
[20:19:39] *** Joins: Sasazuka (~Sasazuka@user/sasazuka)
[20:19:47] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[20:24:14] *** Joins: tuskkk____ (uid18470@id-18470.tinside.irccloud.com)
[20:24:29] *** Joins: Elodin (~weechat@user/elodin)
[20:26:06] *** Quits: roadie (~user@2a02:8108:ec0:1427:288d:5490:8814:e094) (Ping timeout: 276 seconds)
[20:26:29] *** Joins: uusuono (~uusuono@static-117-102-62-95.ipcom.comunitel.net)
[20:30:10] *** Quits: lq (~lq@180.167.42.11) (Read error: Connection reset by peer)
[20:31:21] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[20:32:38] *** Joins: lq (~lq@210.72.8.214)
[20:32:58] *** Joins: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[20:35:20] *** Quits: straykitten (~straykitt@subs25-116-206-9-14.three.co.id) (Ping timeout: 272 seconds)
[20:39:38] *** Quits: uusuono (~uusuono@static-117-102-62-95.ipcom.comunitel.net) (Quit: Client closed)
[20:40:09] *** Quits: guifipedro (~quassel@213.195.119.17) (Read error: Connection reset by peer)
[20:40:32] *** Joins: guifipedro (~quassel@213.195.119.17)
[20:43:02] *** Joins: lorcab (~user@197.251.194.240)
[20:43:38] *** Quits: lorcab (~user@197.251.194.240) (Client Quit)
[20:44:48] *** Joins: lorcab (~user@197.251.194.240)
[20:46:21] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[20:47:10] *** Joins: straykitten (~straykitt@subs24-116-206-8-34.three.co.id)
[20:47:18] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[20:55:24] *** Joins: YaoNai (~YaoNai@user/yaonai)
[20:55:35] *** Joins: nobody_ (~nobody@host-79-45-186-108.retail.telecomitalia.it)
[21:00:41] *** Quits: yogoyo (~yogoyo@user/yogoyo) (Quit: bye)
[21:02:00] *** Joins: roadie (~user@2a02:8108:ec0:1427:288d:5490:8814:e094)
[21:04:15] *** Quits: darkbit (~db@152.32.99.67) (Ping timeout: 258 seconds)
[21:07:00] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 272 seconds)
[21:09:49] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[21:12:35] *** Quits: Lunatrius (~Lunatrius@77.38.22.128) (Ping timeout: 252 seconds)
[21:14:16] *** kurahaupo is now known as Martin
[21:14:52] *** Quits: wwilly (~wwilly@fw-tnat-cam1.arm.com) (Remote host closed the connection)
[21:16:44] *** Quits: straykitten (~straykitt@subs24-116-206-8-34.three.co.id) (Quit: Leaving)
[21:16:54] *** Joins: Lunatrius (~Lunatrius@77.38.22.128)
[21:18:09] <sven__> hey. I have questions about environment variables (using su). I assume this is not the right channel for that. Could anyone point me to a better channel?
[21:25:54] *** Quits: alguien (~alguien@user/alguien) (Ping timeout: 252 seconds)
[21:29:24] *** Quits: kolbe (~kolbe@user/kolbe) (Quit: ZNC - http://znc.sourceforge.net)
[21:30:04] <twkm> environment variables are fine.  a channel about your o/s can probably describe how their su works.
[21:31:21] <emg> sven__: what are you actually trying to do? why do you want to use su? (understanding that could help us help you)
[21:32:08] *** Joins: litheum (~kolbe@user/kolbe)
[21:32:35] <twkm> i.e., there's no one way all su's work, though there's some commonality.
[21:34:13] *** Joins: y04nn (~y04nn@91.193.4.154)
[21:36:39] *** Quits: rendar (~rendar@user/rendar) ()
[21:38:54] <sven__> well.. I don't want to use su and I actually removed that code, but now I have trouble with variables missing. I just tried on my home computer and if I unset OPENGL_PROFILE  (no clue where that comes from, but doesn't matter) and then do su - sven -c /bin/bash it magically reappears. If I just run /bin/bash it does not. In this case it's set in some profile file that is only source when having a login shell (so /bin/bash -l makes it reappear). But... 
[21:38:54] <sven__> there seem to be variables that do not reappear when using a login shell, but reappear when using su. I'm trying to figure out where they come from
[21:40:42] <twkm> root's profile might not include all the shit users have to swallow.
[21:40:51] <sven__> I cannot give an example right now, but on another machine I have some stuff that gets sources during X login and it does something like eval $(dbus-launch) which gets some DBUS_SESSION_BUS_ID var into the envionment. That one gets re-set when launching a new process with su -, but I have found no other way of getting it back other that running dbus-launch again
[21:41:20] <emg> out of curiosity why su to begin with? not sure something else e.g. sudo would solve your issues, just curious why su instead (I don't think I've used su in roughly a decade now)
[21:41:31] <twkm> bash can show you with: PS4='+($?) ${BASH_SOURCE:-}:${FUNCNAME:-}:${LINENO:-}:' bash -lic true
[21:42:02] <twkm> err, -xlic true.
[21:42:32] *** Quits: YaoNai (~YaoNai@user/yaonai) (Quit: leaving)
[21:42:57] *** Quits: nobody_ (~nobody@host-79-45-186-108.retail.telecomitalia.it) (Ping timeout: 252 seconds)
[21:42:57] <twkm> in generally you'd do: that |& grep OPENGL_PROFILE
[21:42:58] *** Joins: alguien (~alguien@user/alguien)
[21:43:22] <sven__> this is not really a bash issue, emg. I have (C++) code in a project which used to use su and sudo to fork processes. I refactored it to a more idiomatic solution dropping priviliges myself and all that and now certain stuff in the environment is missing. So I wanted to figure out what exactly happens when su runs
[21:43:52] <sven__> twkm: nice, that might help!
[21:44:35] *** Joins: Administratorte (~sq@tempest.math.colostate.edu)
[21:44:58] <emg> sven__: ah, interesting, thanks for the explanation
[21:45:02] <sven__> ty. I'll use that + strace and see where it gets me
[21:45:20] <twkm> sh may be different.
[21:45:53] <sven__> oh, bash is fine
[21:47:11] *** Quits: enoq (~enoq@194-208-179-35.lampert.tv) (Quit: enoq)
[21:51:52] *** Joins: gabriele (~gabriele@user/gabriele)
[21:53:08] <zeraphel> do all namerefs of the same name have to be of the same type?
[21:53:30] <zeraphel> ( local namerefs, that is. )
[21:56:03] *** Joins: wwilly (~wwilly@217.140.99.251)
[21:56:18] *** Quits: kapil (~kapil@o-k.website) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[21:56:50] *** Joins: kapil (~kapil@2a01:4f9:c010:c9c3::1)
[21:58:20] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[21:58:40] *** Joins: seninha (~seninha@user/seninha)
[21:59:40] <zeraphel> nevermind, SC2178 is bugged.
[22:00:51] *** Joins: odoood (~odoood@2601:c8:c003:a550::8)
[22:01:01] <zeraphel> *cough* SCP2178
[22:01:29] *** Quits: nf (~n@monade.li) (Quit: Fairfarren.)
[22:01:57] *** Joins: nf (~n@monade.li)
[22:12:03] *** Joins: travisghansen (~travisgha@192.74.130.86)
[22:14:00] *** Quits: Martin (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[22:14:57] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[22:15:15] *** Joins: zro (~zro@user/zro)
[22:17:31] *** Joins: magla (~gelignite@55d4c33c.access.ecotel.net)
[22:17:44] *** Joins: ELFrederich (~ELFrederi@134.244.29.70)
[22:25:49] *** Quits: tuskkk____ (uid18470@id-18470.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[22:28:39] *** Joins: cyrus_mc (~cyrus_mc@45.62.180.58)
[22:32:26] *** Quits: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com) (Ping timeout: 272 seconds)
[22:33:09] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[22:34:17] *** Joins: Betal (~Beta@user/betal)
[22:34:31] *** Quits: Elodin (~weechat@user/elodin) (Quit: WeeChat 3.2)
[22:35:20] *** Parts: Thanatermesis (~Thanaterm@191.92.148.122) ()
[22:35:40] *** Joins: Elodin (~weechat@user/elodin)
[22:36:36] *** Quits: mhi (~mhinz@user/mhi) (Quit: mhi)
[22:37:52] *** Quits: alguien (~alguien@user/alguien) (Ping timeout: 265 seconds)
[22:40:07] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[22:43:11] *** Quits: jess (~jess@libera/staff/jess) ()
[22:43:54] *** Joins: austin987 (~null@100.42.98.196)
[22:46:49] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Client closed)
[22:47:23] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[22:47:57] *** Quits: bandit_za (~bandit@2c0f:ed28:b016:e80::1ed) (Quit: Client closed)
[22:48:48] *** Parts: cyrus_mc (~cyrus_mc@45.62.180.58) ()
[22:50:37] *** Quits: roe (~mroe@216.164.247.250) ()
[22:53:38] *** Joins: alguien (~alguien@user/alguien)
[22:55:56] *** Quits: Elodin (~weechat@user/elodin) (Ping timeout: 272 seconds)
[23:01:00] *** Quits: twobitsprite (~isaac.fre@cpe-173-95-153-183.nc.res.rr.com) (Ping timeout: 272 seconds)
[23:03:23] *** Joins: twobitsprite (~isaac.fre@cpe-173-95-153-183.nc.res.rr.com)
[23:03:50] *** Parts: ash_worksi (~ash_m@user/ash-m/x-3292451) ()
[23:04:17] *** Joins: macodra (~quassel@88.128.88.36)
[23:04:18] *** Quits: macodra (~quassel@88.128.88.36) (Changing host)
[23:04:18] *** Joins: macodra (~quassel@user/macodra)
[23:07:55] *** Joins: Elodin (~weechat@user/elodin)
[23:08:05] *** Joins: clime (~clime@ip-94-199-195-39.acvyskov.cz)
[23:08:58] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[23:10:13] *** Joins: aloo_shu (~aloo_shu@195.135.251.70)
[23:10:17] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 252 seconds)
[23:11:21] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[23:14:58] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[23:15:27] *** Joins: greycat (~greg@209.142.155.49)
[23:16:10] *** Quits: macodra (~quassel@user/macodra) (Remote host closed the connection)
[23:16:19] <LSD> hey what's the proper way to source variables from an external file in a shell script? I don't need them to persist after the script finished running, in fact it'd even be better if they were revoked once it's done
[23:16:32] <emg> !source > LSD
[23:16:33] <greybot> LSD: ''. <script>'' (or "source", which is not portable) reads and executes the commands from <script> in the current shell.
[23:16:49] <emg> do that in your script, execute (don't source) the script
[23:16:52] <LSD> I saw some suggestions online to either use `source` or `export=$(cat .env)` but could not find what the recommended way is
[23:17:01] <emg> source or .
[23:17:14] <LSD> ok cool does that work in sh and bash if I may ask?
[23:17:23] <emg> . works in both, source is bash specific
[23:17:23] *** Joins: macodra (~quassel@88.128.88.36)
[23:17:23] *** Quits: macodra (~quassel@88.128.88.36) (Client Quit)
[23:17:34] <LSD> cool good to know, thank you emg 
[23:17:40] <emg> you're welcome, good luck
[23:17:49] <shalok> # [[ true && false ]] && echo true
[23:17:50] <shbot> shalok: true
[23:18:07] *** Quits: TomyWork (~TomyLobo@p200300e80f133c00edca32a9512e1858.dip0.t-ipconnect.de) (Quit: Leaving)
[23:18:21] <shalok> Why doesn't the [[ return false?
[23:18:32] <emg> you're testing the length of strings
[23:18:45] <emg> true is a non 0 length string, false is a non 0 length string
[23:18:53] <emg> it's not running the true and false commands
[23:18:57] <shalok> got it
[23:19:46] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 240 seconds)
[23:20:10] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[23:21:57] *** Quits: wonderer (~quakeroat@user/wonderer) (Remote host closed the connection)
[23:22:48] *** Joins: wonderer (~quakeroat@user/wonderer)
[23:36:04] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[23:37:01] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[23:38:22] *** Quits: y04nn (~y04nn@91.193.4.154) (Ping timeout: 272 seconds)
[23:40:42] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 240 seconds)
[23:41:13] *** Joins: arinov (~arinov@212.156.215.30)
[23:41:18] *** Joins: Crescendo (~Crescendo@user/crescendo)
[23:44:25] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[23:45:15] *** Quits: Mo (~Mo@dynamic-095-112-081-081.95.112.pool.telefonica.de) (Ping timeout: 258 seconds)
[23:45:28] <aloo_shu> hi, I got a script that needs to treat $* strictly as text and not interpret the string, how can I assure that ideally, interpreting doesn't happen at all, or that ')' or any character with meaning for bash contained in $*, will get escaped when expading
[23:45:36] <emg> !quote
[23:45:37] <greybot> https://mywiki.wooledge.org/Quotes
[23:45:57] <emg> aloo_shu: always quote expansions, so in this case, always say "$*" never say $*
[23:46:23] <emg> aloo_shu: but that also goes for every use of a variable, always use quotes like that, never use them unquoted
[23:46:36] <emg> !quotewhen
[23:46:36] <greybot> "Double quote" every literal that contains spaces/metacharacters and _every_ expansion: "$var", "$(command "$var")", "${array[@]}", "a & b". Use 'single quotes' for code or literal dollar signs: 'Costs $5 US', ssh host 'echo "$HOSTNAME"'. See http://mywiki.wooledge.org/Quotes , http://mywiki.wooledge.org/Arguments and http://wiki.bash-hackers.org/syntax/words .
[23:47:30] <Soliton> not that quotes prevent interpretation. a string is not randomly evaluated either way.
[23:48:14] <osse> aloo_shu: also note that how you type the command line to invoke the script is out of the script's control. there is nothing the script can do to allow the user to type:   my-script foo (bar*) here's johnny!   
[23:48:52] <emg> aloo_shu: also just realized you may have $* and $@ confused
[23:48:54] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
[23:48:57] <emg> !$@ > aloo_shu
[23:48:57] <greybot> aloo_shu: The difference between $@ and $*: "$@" (quoted) expands to each positional parameter as its own argument: "$1" "$2" ... while "$*" expands to the single argument "$1c$2c..." where c is the first character of IFS. You almost always want "$@". The same goes for arrays: "${array[@]}" or "${array[*]}". Unquoted $* and $@ are undefined; DO NOT use.
[23:52:36] *** Quits: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Remote host closed the connection)
[23:53:06] <Helmholtz> quit
[23:53:20] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[23:53:22] <aloo_shu> so here is what I' doing, proot -R ./debdog /usr/bin/trans -b "$*" , i.e. calling translate-shell that's residing in a proot, with the -b flag. yet as soon as the text I'm translating, is containing smilies, I'm getting bash: syntax error near unexpected token `)'
[23:53:41] <Soliton> !injection
[23:53:41] <greybot> Don't pass user-supplied data in a context where it could be interpreted as code. BAD: ssh host "rm $file"; GOOD: ssh host "$(printf 'rm %q' "$file")"; see http://mywiki.wooledge.org/BashProgramming/05
[23:53:49] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Client Quit)
[23:54:28] <Soliton> that trans thing is doing bad things then.
[23:54:44] <emg> aloo_shu: what does trans do?
[23:54:49] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[23:56:57] <Soliton> using $* at all there seems weird also.
[23:57:14] <Soliton> why mangle the arguments?
[23:57:23] <greycat> maybe it's like ssh
[23:57:44] <greycat> I see three layers of unknown commands there, who knows which layers are even relevant
[23:58:03] <aloo_shu> call google api. and right, I had only _thought_ I tested that, but it's in fact trans itself that errors
[23:58:15] <greycat> well, maybe one of those layers is a directory instead of a command; I can't even tell
[23:58:51] <aloo_shu> forget what I just said
