[00:09:08] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-649e-12a6-5ee6-2484.fixed6.kpn.net)
[00:10:07] <dg1727> setopt extended_glob; echo "${my_var//$'\n'(#c2,)/$'\n'}"  to search-and-replace multiple consecutive newlines into just one; substitutes the literal string (dollar apos. backsl. n apos.) instead of a newline
[00:10:30] <dg1727> I've looked in the manpages & tried a couple of syntaxes but not found success yet.  Suggestion would be appreciated.
[00:11:04] <dg1727> It does correctly find occurrences of multiple consecutive newlines
[00:11:23] <phy1729> don't quote it
[00:11:31] <phy1729> print -r - ${my_var//$'\n'(#c2,)/$'\n'}
[00:11:43] <dg1727> I will try that, thanks
[00:13:50] <dg1727> When I remove the double-quotes per your suggestion, nothing at all prints
[00:14:25] <dg1727> When I put the double-quotes back in, the text prints again, but of course with literal $'\n'
[00:14:33] <phy1729> > my_var=$'foo\n\nbar'; print -r - ${my_var//$'\n'(#c2,)/$'\n'}
[00:14:34] <machabot> phy1729: foo
[00:14:34] <machabot> phy1729: bar
[00:14:41] <phy1729> > my_var=$'foo\n\nbar'; print -r - $my_var
[00:14:41] <machabot> phy1729: foo
[00:14:41] <machabot> phy1729: 
[00:14:41] <machabot> phy1729: bar
[00:14:43] *** Joins: mehwork (~mehwork@98.185.199.35.bc.googleusercontent.com)
[00:15:20] <dg1727> > echo "${ZSH_VERSION}" "${ZSH_PATCHLEVEL}"
[00:15:20] <machabot> dg1727: 5.8.1
[00:15:35] <dg1727> I'm using a development version; could that be the issue?
[00:15:57] <mehwork> not zsh specific, but figure the cli wizards here might know best:  I want to run 'tree -d' to only show directories, however, is there a way to also only show ONE file match too? Like show just directories AND .md files?
[00:16:02] <phy1729> Maybe. Does the example above exactly as shown not work?
[00:16:03] <mehwork> find can do it but that's not a tree view
[00:16:13] <dg1727> phy1729:  Checking
[00:18:13] <phy1729> bah  **/(*/|*.md)  is a bad pattern for some reason
[00:18:38] <phy1729> guess you could tree **/*(N/) **/*.md(N)
[00:21:08] <mehwork> there's a -P <pattern> command to tree too
[00:21:11] <mehwork> thanks
[00:27:23] <mehwork> yeah: directory is the default, so just doing: tree -P '*.md' is enough
[00:37:27] *** Quits: guido (~weechat@host-79-47-19-137.retail.telecomitalia.it) (Quit: WeeChat 3.4)
[00:38:14] <dg1727> phy1729:  Works in interactive mode but not in the script (interactive & script are same version of the shell).  I've used 'setopt' to get an idea of the differences between the 2, but none seem relevant at first glance.
[00:40:27] <dg1727> In the script, if I  unsetopt null_glob  then the script fails with 'no matches found' & echos the value of the variable; the newlines are correctly substituted
[00:42:30] *** Quits: mexen (uid495612@user/mexen) (Quit: Connection closed for inactivity)
[00:43:54] *** Quits: keypusher (keypusher@user/keypusher) (Read error: Connection reset by peer)
[00:44:30] *** Joins: Torr (~Torr@user/torr)
[00:47:45] *** Joins: keypusher (keypusher@user/keypusher)
[01:03:31] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[01:03:42] <dg1727> I tried the :gs history modifier after  setopt hist_subst_pattern but that doesn't seem to work either
[01:05:15] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[01:10:43] <dg1727> Maybe someone else has a suggestion?
[01:14:33] <mehwork> how can i make the 'fd' command show trailing slashes on directories?
[01:15:18] <Mikachu> you'd have to ask someone who knows what the 'fd' command is
[01:15:58] *** Quits: clarjon1 (~clarjon1@user/clarjon1) (Read error: Connection reset by peer)
[01:17:42] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[01:18:06] <dg1727> Mikachu, any idea about my search-and-replace question?
[01:21:34] *** Joins: armatechnicos (~armatechn@bras-base-sttmon2805w-grc-26-74-12-9-228.dsl.bell.ca)
[01:22:45] <Mikachu> did you forget to setopt extendedglob in the script?
[01:23:50] <dg1727> No, the 'setopt' statement is the first non-comment line in the script
[01:25:34] <Mikachu> well, unless you show the code or someone here is clairvoyant
[01:26:23] <Mikachu> preferably a minimally reproducing example
[01:32:49] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[01:34:09] *** Quits: Giovanni (~Giovanni@176.55.170.26) (Ping timeout: 252 seconds)
[01:38:17] <dg1727> The output is actually the same in the interactive session as in the script.  Evidently the contents of the variable matter.  The simple 3-line text works but my real text is "$(/usr/bin/whois -H zsh.org)" which causes the mentioned problems.
[01:42:09] <Mikachu> seems to work fine here still
[01:42:18] <dg1727> Hm, interesting
[01:42:28] <Mikachu> (there are only two extra blank lines, around the one line at the end)
[01:42:41] <dg1727> Acknowledged
[01:43:27] <Mikachu> typeset -p my_var should show you if there are any extra strange characters
[01:43:32] <Mikachu> perhaps it's \r\n separated for some reason
[01:44:15] <dg1727> typeset -p doesn't show anything obviously amiss
[01:45:21] <dg1727> When I run zsh 5.8.1 instead of the development version, same issue.
[01:46:15] *** Joins: keypushe- (keypusher@user/keypusher)
[01:46:22] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 250 seconds)
[01:49:14] *** keypushe- is now known as keypusher
[01:52:17] *** Quits: irc_user (uid423822@id-423822.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[01:54:24] <dg1727> When you  setopt extended_glob; print -r - ${my_var//$'\n'(#c2,)/$'\n'}  (no double-quotes) you get just the multiline text, instead of a "bad pattern" error?
[01:55:31] <Mikachu> yes, it works fine
[01:56:16] <Mikachu> fwiw you can use ## instead of (#c2,)
[01:57:49] <dg1727> Noted
[01:58:04] <Mikachu> (technically it's equivalent to (#c1,) but the result is the same)
[01:59:20] <dg1727> When I use ## I still have the same issue.  So evidently the problem isn't a subtle bug in (#c,)
[01:59:36] *** Quits: _xor (~xor@dsl-50-5-233-169.fuse.net) (Read error: Connection reset by peer)
[02:00:04] *** Joins: _xor (~xor@dsl-50-5-233-169.fuse.net)
[02:00:05] <Mikachu> %  whois --version
[02:00:05] <Mikachu> Version 5.3.0.
[02:00:05] <Mikachu> Report bugs to <md+whois@linux.it>.
[02:01:00] <dg1727> Why might zsh be trying to interpret the "print" data as a glob pattern?  (Running 'whois' on some hosts makes zsh report 'no matches found' instead of 'bad pattern')
[02:01:16] <dg1727> I have an older version of whois, but should the contents of the variable matter to zsh?
[02:01:19] <Mikachu> i still don't want to guess what code you wrote
[02:01:40] *** Quits: armatechnicos (~armatechn@bras-base-sttmon2805w-grc-26-74-12-9-228.dsl.bell.ca) (Quit: Leaving)
[02:03:05] <dg1727> Aha, zsh -f doesn't have the problem
[02:03:15] *** Quits: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius) (Ping timeout: 268 seconds)
[02:03:52] <Mikachu> i thought we were writing a script
[02:05:00] <dg1727> The same issue is both in the script & interactively.  zsh -f when used interactively doesn't have the problem, though.
[02:05:58] <Mikachu> do you have some very stupid stuff in /etc/zsh* ?
[02:07:11] *** Joins: sa02irc (~mbax@155-079-043-212.ip-addr.inexio.net)
[02:08:43] <dg1727> Examples of 'stupid'?
[02:09:23] <dg1727> I think I have just tried setting, in a 'zsh -f' session, all the shell options that are set in the with-rcs session, and 'zsh -f' still doesn't have the problem
[02:09:55] <Mikachu> well, a script would only source the global zshenv which should preferably not exist
[02:09:59] <Mikachu> do you have one?
[02:10:11] <Mikachu> actually maybe it's your ~/.zshenv
[02:10:17] <Mikachu> i think zsh -f still sources the one in /etc
[02:10:45] <Mikachu> so if it had something bad it wouldn't affect anything, my mistake
[02:10:51] <Mikachu> but your ~/.zshenv will
[02:14:05] <dg1727> I have just now commented-out everything in my ~/.zshenv, started a new shell, and the problem still exists
[02:15:47] *** Quits: xx (~xx@user/xx) (Quit: xx)
[02:16:16] <dg1727> I verified by using 'which' on a function defined in ~/.zshenv and that function isn't found by the shell, confirming that ~/.zshenv isn't modifying the shell
[02:16:55] *** Joins: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius)
[02:17:44] *** Quits: sa02irc (~mbax@155-079-043-212.ip-addr.inexio.net) (Quit: Konversation terminated!)
[02:17:52] *** Joins: xx (~xx@user/xx)
[02:19:24] *** Quits: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius) (Max SendQ exceeded)
[02:19:30] <Mikachu> > print -l '#!/bin/zsh' 'which foo' > script; chmod +x script; echo 'foo() hello' > .zshenv; ./script
[02:19:31] <machabot> Mikachu: /dev/stdin:1: ./script: bad interpreter: /bin/zsh: no such file or directory
[02:19:34] <Mikachu> > which zsh
[02:19:34] <machabot> Mikachu: /usr/bin/zsh
[02:19:39] <Mikachu> > print -l '#!/usr/bin/zsh' 'which foo' > script; chmod +x script; echo 'foo() hello' > .zshenv; ./script
[02:19:39] <machabot> Mikachu: foo () {
[02:19:39] <machabot> Mikachu: hello
[02:19:39] <machabot> Mikachu: }
[02:19:47] *** Joins: catman (~catman@user/catman)
[02:20:23] <Mikachu> does your script work without your .zshenv
[02:22:00] *** Joins: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius)
[02:23:03] *** Quits: nyah (~nyah@05453449.skybroadband.com) (Remote host closed the connection)
[02:24:20] *** Quits: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius) (Max SendQ exceeded)
[02:25:03] *** Quits: catman (~catman@user/catman) (Ping timeout: 256 seconds)
[02:27:38] *** Joins: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius)
[02:32:53] *** Quits: bartholin (~bartholin@158.110.71.61) (Quit: Leaving)
[02:36:18] *** Joins: catman (~catman@user/catman)
[02:39:31] <dg1727> Without ~/.zshenv, the search-and-replace syntax still doesn't work.
[02:39:38] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 272 seconds)
[02:41:13] <dg1727> In my /etc/zshenv is  if [[ -o rcs ]] then ...  as recommended by the manpages.  Inside the "then" is  my_complex_func  whose purpose is to '.' several files.  If the '.' files merely load shell modules or set shell options, then the search-and-replace syntax works.  But if they define a function (seemingly any function), then the issue happens.
[02:43:31] <dg1727> If instead of  my_complex_func  I '.' one of the function files directly, then the search-and-replace works, suggesting there is something irregular with my_complex_func
[02:49:24] <Mikachu> okay if you break it you keep the pieces
[03:08:21] *** Joins: catman_ (~catman@user/catman)
[03:08:36] *** Quits: catman (~catman@user/catman) (Ping timeout: 240 seconds)
[03:10:09] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[03:12:53] *** Quits: catman_ (~catman@user/catman) (Client Quit)
[03:13:09] *** Joins: catman (~catman@user/catman)
[03:16:44] <dg1727> I had an off-by-one error in  my_complex_func  which was obscuring things.  The issue is that I had shell option GLOB_SUBST on.  
[03:16:52] <dg1727> issue = with the search-and-replace
[03:17:25] <dg1727> Do you know of a way to leave glob_subst on while replacing with a newline instead of literal $'\n' ?
[03:18:53] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 256 seconds)
[03:25:11] *** Quits: Torr (~Torr@user/torr) (Quit: leaving)
[03:25:15] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-649e-12a6-5ee6-2484.fixed6.kpn.net) (Ping timeout: 252 seconds)
[03:32:14] *** Parts: mehwork (~mehwork@98.185.199.35.bc.googleusercontent.com) ()
[03:33:19] <nimaje> why is that 'In particular, it is a good idea to put …' even there? the sentence before should be enougth and that 'if [[ -o rcs ]]; then ...' seems like a bad idea
[03:40:33] <dg1727> I have stuff in my zshenv that can be omitted for 'zsh -f' debugging purposes.  I have put the [[ ]] there and currently I don't regret it.  But other people may have other viewpoints on this.
[03:40:43] *** Quits: bomb-on (~bomb-on@user/bomb-on) (Read error: Connection reset by peer)
[03:41:16] *** Joins: bomb-on (~bomb-on@user/bomb-on)
[03:42:09] <dg1727> zshenv is run whenever a zsh hashbang script starts, so I put in zshenv function definitions etc. that I find useful for many of my #! scripts.  This is subject to change in the future.
[03:47:24] *** Quits: mcglk (~mcglk@131.191.49.120) (Ping timeout: 272 seconds)
[03:49:35] *** Joins: trevors (~trevors@user/trevors)
[03:49:44] *** Joins: mcglk (~mcglk@131.191.49.120)
[03:52:45] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 252 seconds)
[03:52:54] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[03:55:09] *** Joins: keypusher (keypusher@user/keypusher)
[04:00:27] *** Quits: mcglk (~mcglk@131.191.49.120) (Ping timeout: 252 seconds)
[04:05:25] *** Joins: mcglk (~mcglk@131.191.49.120)
[04:05:46] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 272 seconds)
[04:10:56] *** Quits: Szadek (~Szadek@193.27.14.153) (Quit: WeeChat 3.4)
[04:19:25] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.4)
[04:29:28] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[04:53:25] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[04:53:26] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-1021-6229-e70e-1fe3.fixed6.kpn.net)
[04:54:26] *** Joins: Atque (~Atque@user/atque)
[04:55:49] *** Quits: PaterTemporalis (~woooopsie@2001:8a0:ee2a:bc00:c12c:db1:60bf:c91c) (Ping timeout: 240 seconds)
[05:04:50] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-1021-6229-e70e-1fe3.fixed6.kpn.net) (Ping timeout: 250 seconds)
[05:10:23] <brocellous> In my completeion script I have an arg completed like '_multi_parts -i . _myarray' where _myarr contains values like (foo foo.bar baz baz.foo quux.bar.baz)
[05:10:40] <brocellous> basically dot separated values where some are prefixes of the others
[05:12:08] <brocellous> the completion works correctly, but for some reason the first time I tab in zsh it lists the valid first segments correctly in the completion menu, then when I tab again to tab through the menu it recreates a larger menu that contains duplicate entries for the elements that prefix another element
[05:13:01] <brocellous> so in the above case, first menu has (foo baz quux), second menu has (foo foo. baz baz. quux.)
[05:13:31] <brocellous> except the menu never prints the dot, that's just an autoremovable suffix inserted by _multi_parts I think
[05:13:55] <brocellous> so its a mystery what each menu item will insert, dot or no dot
[05:18:25] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[05:27:53] *** Joins: Torr (~Torr@user/torr)
[05:32:05] *** Joins: trevors (~trevors@user/trevors)
[05:32:17] *** Quits: maetthew (~maetthew@user/maetthew) (Quit: ZNC 1.8.2 - https://znc.in)
[05:34:39] *** Quits: lucerne (~lucerne@ip202.ip-51-178-215.eu) (Read error: Connection reset by peer)
[05:34:48] *** Joins: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se)
[05:34:48] *** Quits: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se) (Changing host)
[05:34:48] *** Joins: maetthew (~maetthew@user/maetthew)
[05:37:28] *** Joins: lucerne (~lucerne@ip202.ip-51-178-215.eu)
[05:50:50] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-1021-6229-e70e-1fe3.fixed6.kpn.net)
[05:55:58] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-1021-6229-e70e-1fe3.fixed6.kpn.net) (Ping timeout: 250 seconds)
[06:12:54] *** Quits: bomb-on (~bomb-on@user/bomb-on) (Quit: aллилѹіа!)
[06:16:16] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[07:16:55] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[07:40:25] *** Joins: walterwhip (~www@user/walterwhip)
[07:40:59] *** Quits: lucerne (~lucerne@ip202.ip-51-178-215.eu) (Remote host closed the connection)
[07:41:09] <walterwhip> does anyone know how to set the "open' command to open nvim rather than text editor? or is it only for opening external applications within the shell
[07:42:15] *** Joins: lucerne (~lucerne@ip202.ip-51-178-215.eu)
[07:46:12] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-2524-f570-12e5-f6f3.fixed6.kpn.net)
[07:47:06] <larryv> sounds like an OS question
[07:50:54] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-2524-f570-12e5-f6f3.fixed6.kpn.net) (Ping timeout: 252 seconds)
[08:07:57] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Ping timeout: 252 seconds)
[08:10:20] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[08:32:35] *** Joins: rMdes (~rmdes@my.armada.digital)
[08:35:33] *** Quits: rMdes (~rmdes@my.armada.digital) (Client Quit)
[08:39:04] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[08:40:03] *** Quits: walterwhip (~www@user/walterwhip) (Quit: Textual IRC Client: www.textualapp.com)
[08:40:36] *** Joins: walterwhip (~walterwhi@user/walterwhip)
[09:26:47] *** Joins: sa02irc (~mbax@155-079-043-212.ip-addr.inexio.net)
[09:42:13] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Read error: Connection reset by peer)
[09:43:04] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[09:58:22] *** Joins: guido (~weechat@host-79-12-253-37.retail.telecomitalia.it)
[10:13:55] *** Quits: guido (~weechat@host-79-12-253-37.retail.telecomitalia.it) (Read error: Connection reset by peer)
[10:26:34] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[10:35:32] *** Joins: guido (~weechat@host-79-12-253-37.retail.telecomitalia.it)
[10:45:00] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-2524-f570-12e5-f6f3.fixed6.kpn.net)
[10:49:17] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-2524-f570-12e5-f6f3.fixed6.kpn.net) (Ping timeout: 240 seconds)
[11:12:06] *** Quits: lucerne (~lucerne@ip202.ip-51-178-215.eu) (Remote host closed the connection)
[11:12:54] *** Joins: keypushe- (keypusher@user/keypusher)
[11:15:24] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 240 seconds)
[11:16:09] *** keypushe- is now known as keypusher
[11:17:07] <nimaje> isn't EDITOR there to configure your prefered editor? doesn't that open command respect that?
[11:19:04] *** Joins: lucerne (~lucerne@ip202.ip-51-178-215.eu)
[11:28:56] *** Joins: greedom (~greedom@p200300de6705e30087cb3efb95047236.dip0.t-ipconnect.de)
[11:40:19] *** Quits: toulene (~toulene@user/toulene) (Read error: Connection reset by peer)
[11:47:33] *** Joins: toulene (~toulene@user/toulene)
[11:48:18] *** Quits: sa02irc (~mbax@155-079-043-212.ip-addr.inexio.net) (Remote host closed the connection)
[11:51:36] <FoH> Open isn't necessarily edit.  My first thought is that they mean the open command in their file manager--which is, of course, well beyond the scope of this channel.
[12:30:39] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net)
[12:35:04] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net) (Ping timeout: 250 seconds)
[12:53:48] *** Joins: sa02irc (~mbax@155-079-043-212.ip-addr.inexio.net)
[13:19:57] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 272 seconds)
[13:47:30] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[13:51:34] *** Quits: greedom (~greedom@p200300de6705e30087cb3efb95047236.dip0.t-ipconnect.de) (Remote host closed the connection)
[14:08:50] *** Joins: greedom (~greedom@p200300de6705e30087cb3efb95047236.dip0.t-ipconnect.de)
[14:19:28] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 272 seconds)
[14:19:50] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net)
[14:20:10] *** Joins: bartholin (~bartholin@109.53.3.57)
[14:21:40] *** Quits: catman (~catman@user/catman) (Ping timeout: 250 seconds)
[14:22:25] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[14:24:09] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net) (Ping timeout: 252 seconds)
[14:31:58] *** Joins: maledictium (~crux@bl13-115-30.dsl.telepac.pt)
[14:35:56] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 272 seconds)
[14:36:38] *** Joins: keypusher (keypusher@user/keypusher)
[14:38:27] *** Quits: bartholin (~bartholin@109.53.3.57) (Ping timeout: 252 seconds)
[14:52:04] *** Joins: bartholin (~bartholin@109.53.6.132)
[14:56:06] *** Quits: sa02irc (~mbax@155-079-043-212.ip-addr.inexio.net) (Remote host closed the connection)
[15:01:54] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net)
[15:12:05] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[15:16:28] *** Joins: PaterTemporalis (~woooopsie@2001:8a0:ee2a:bc00:c12c:db1:60bf:c91c)
[15:27:58] <bremner> I am guessing they mean the macOS open command.
[15:38:02] *** Joins: bomb-on (~bomb-on@user/bomb-on)
[15:58:16] *** Quits: lucerne (~lucerne@ip202.ip-51-178-215.eu) (Read error: Connection reset by peer)
[16:05:59] *** Joins: cdown_ (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[16:06:32] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 250 seconds)
[16:06:39] *** cdown_ is now known as cdown
[16:19:32] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 250 seconds)
[16:30:53] *** Quits: walterwhip (~walterwhi@user/walterwhip) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[16:38:27] *** Quits: bartholin (~bartholin@109.53.6.132) (Ping timeout: 256 seconds)
[16:39:02] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[16:45:59] *** Quits: bin101 (~bin101@user/bin101) (Quit: goodbye)
[16:49:31] *** Joins: bin101 (~bin101@user/bin101)
[16:51:34] *** Joins: bartholin (~bartholin@109.53.0.38)
[16:54:36] *** Joins: lucerne (~lucerne@ip202.ip-51-178-215.eu)
[16:55:00] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 240 seconds)
[16:57:55] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[17:04:58] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[17:10:47] *** Quits: kaivai (~kaivai@user/kaivai) (Quit: ZNC - https://znc.in)
[17:13:17] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net) (Ping timeout: 240 seconds)
[17:13:28] *** Joins: kaivai (~kaivai@user/kaivai)
[17:15:07] *** Joins: Plasmoduck (~cjg@mx1.adamsgaard.dk)
[17:15:55] *** Joins: AsenMx_ (~asen@user/asenmx)
[17:16:11] *** Quits: AsenMx (~asen@user/asenmx) (Ping timeout: 245 seconds)
[17:17:23] *** AsenMx_ is now known as AsenMx
[17:18:00] *** Joins: zeden (~zeden@user/zeden)
[17:35:16] *** Quits: Plasmoduck (~cjg@mx1.adamsgaard.dk) (Quit: WeeChat 3.2.1)
[17:39:43] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net)
[17:45:16] *** Joins: extrowerk (~extrowerk@136.243.16.102)
[17:47:04] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net) (Ping timeout: 250 seconds)
[17:47:57] <extrowerk> Hi. I have a problem with zsh, it seems it tries to interpret the PS1 from my profile, here is a screenshot about the problem: http://0x0.st/oZ42.png  Can i set up zsh somehow to not do this?
[17:49:52] <Mikachu> extrowerk: don't export PS1
[17:54:07] *** Joins: rex4539_ (~rex4539@gateway/tor-sasl/rex4539)
[17:57:15] *** Quits: rex4539 (~rex4539@gateway/tor-sasl/rex4539) (Ping timeout: 240 seconds)
[17:57:58] *** Quits: bartholin (~bartholin@109.53.0.38) (Ping timeout: 272 seconds)
[18:00:23] <extrowerk> Mikachu: other option?
[18:04:56] *** Quits: Torr (~Torr@user/torr) (Ping timeout: 272 seconds)
[18:09:25] *** Joins: catman (~catman@user/catman)
[18:11:40] *** Joins: bartholin (~bartholin@109.53.3.12)
[18:13:53] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net)
[18:16:47] <Mikachu> set another PS1 in .zshrc
[18:20:00] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net) (Ping timeout: 250 seconds)
[18:22:22] *** Joins: Torr (~Torr@user/torr)
[18:22:34] *** Quits: Torr (~Torr@user/torr) (Client Quit)
[18:22:45] *** Joins: Torr (~Torr@user/torr)
[18:25:29] *** Joins: trevors (~trevors@user/trevors)
[18:31:05] <Mikachu> > foo=thisisnotveryuseful; echo ${foo[5,10]:3:5}
[18:31:06] <machabot> Mikachu: otv
[18:31:28] <Mikachu> i heard you like subscripting so i put a subscript in your subscript
[18:35:21] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 272 seconds)
[18:35:58] *** Quits: Hello71 (~Hello71@wireguard/contributor/hello71) (Remote host closed the connection)
[18:36:20] *** Joins: Hello71 (~Hello71@wireguard/contributor/hello71)
[18:40:07] *** Quits: lucerne (~lucerne@ip202.ip-51-178-215[18:42:58] *** Joins: lucerne (~lucerne@ip202.ip-51-178-215.eu)
[18:49:34] *** Joins: Atque (~Atque@user/atque)
[18:54:40] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 250 seconds)
[18:57:37] *** Quits: toulene (~toulene@user/toulene) (Read error: Connection reset by peer)
[19:00:07] *** Joins: toulene8 (~toulene@user/toulene)
[19:13:55] *** Joins: Everything (~Everythin@37.115.210.35)
[19:19:11] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net)
[19:23:41] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net) (Ping timeout: 245 seconds)
[19:23:43] *** Quits: toulene8 (~toulene@user/toulene) (Read error: Connection reset by peer)
[19:24:50] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[19:25:59] *** Joins: toulene (~toulene@user/toulene)
[19:31:39] *** Joins: Szadek (~Szadek@194.36.25.10)
[19:34:59] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[19:38:40] <llua> extrowerk: outside of some niche usecases, you shouldn't export PS1
[19:39:07] <extrowerk> it is exported default on Haiku.
[19:39:18] <extrowerk> at least it seems it is exported.
[19:39:43] <llua> that is most likely a bug on their part if so.
[19:40:02] <Mikachu> in the screenshot, the init file for the shell is called "profile", perhaps it doesn't parse an init file for non-login shells
[19:40:12] <Mikachu> though that would be pretty silly
[19:41:07] <llua> the only programs that really use PS1 are unix shells and how they interpet its value differs between all(most?) of them
[19:41:30] <Mikachu> https://www.haiku-os.org/docs/userguide/en/applications/terminal.html implies that the shell in question is bash, so yeah
[19:41:34] <llua> so exporting it makes little sense
[19:42:13] <extrowerk> what would be a saner solution?
[19:42:17] <Mikachu> "Coming from Unix, there are countless possibilities to customize the bash itself. There are two files that are especially important to the user: profile and inputrc. Both files can be created in the /boot/home/config/settings/ folder and add or override the system defaults that are defined in /boot/system/settings/etc/."
[19:42:35] <Mikachu> set PS1 in bashrc, not profile, and don't export it
[19:42:44] <Mikachu> assuming they didn't somehow patch out parsing bashrc
[19:42:49] <Mikachu> that's a bit out of scope though
[19:43:32] <Mikachu> (maybe bash reads profile for all interactive shells btw, i have no clue)
[19:44:57] <extrowerk> On Haiku (at least on x86) there is 2 toolchain, and the user can switch with setarch command. It overwrites some environmental variables and sets a different prompt. maybe this is why they exporting it in the profile.
[19:45:06] <extrowerk> no idea if it is possible to do the same with bashrc.
[19:45:29] <llua> yeah
[19:45:33] <llua> it is
[19:49:45] <llua> debian has been doing some like that with their debian_chroot variable for atleast a decade.
[19:49:54] <llua> something* like that
[19:50:17] <extrowerk> thanks, forwarded to the Haiku developers
[19:57:56] *** Quits: bartholin (~bartholin@109.53.3.12) (Ping timeout: 250 seconds)
[19:57:59] *** Quits: mlk871555 (~mlk@0x573e65e3.static.cust.fastspeed.dk) (Quit: The Lounge - https://thelounge.chat)
[20:07:13] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[20:07:52] *** Quits: greedom (~greedom@p200300de6705e30087cb3efb95047236.dip0.t-ipconnect.de) (Remote host closed the connection)
[20:09:32] *** Joins: cdown_ (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[20:10:26] *** Joins: bartholin (~bartholin@109.53.5.192)
[20:11:36] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 245 seconds)
[20:14:06] *** Quits: cdown_ (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 245 seconds)
[20:31:22] *** Joins: mlk871555 (~mlk@0x573e65e3.static.cust.fastspeed.dk)
[20:33:44] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[20:35:57] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[20:37:22] *** Joins: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net)
[20:38:56] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net)
[20:43:29] *** Quits: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net) (Quit: Bye)
[20:43:57] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net) (Ping timeout: 240 seconds)
[20:47:24] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 240 seconds)
[20:50:03] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[20:51:19] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[20:58:09] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Remote host closed the connection)
[21:06:07] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[21:09:54] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net)
[21:12:37] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 240 seconds)
[21:15:57] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net) (Ping timeout: 240 seconds)
[21:31:56] *** Joins: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net)
[21:37:14] *** Joins: ska (~ska@user/ska)
[21:37:29] <ska> Does zsh simplify tab-completion compared to bash?
[21:39:26] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net)
[21:43:14] <Mikachu> that depends on what you mean by simplify
[21:44:10] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net) (Ping timeout: 260 seconds)
[21:46:12] *** Joins: greedom (~greedom@p200300de6705e30087cb3efb95047236.dip0.t-ipconnect.de)
[21:51:11] *** Quits: rex4539_ (~rex4539@gateway/tor-sasl/rex4539) (Remote host closed the connection)
[21:52:22] *** Joins: rex4539 (~rex4539@gateway/tor-sasl/rex4539)
[21:57:49] *** Quits: bartholin (~bartholin@109.53.5.192) (Ping timeout: 256 seconds)
[22:01:01] *** Joins: reset (~reset@user/reset)
[22:07:16] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[22:11:43] *** Joins: bartholin (~bartholin@109.53.1.186)
[22:11:59] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[22:18:50] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[22:24:36] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 272 seconds)
[22:25:47] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[22:26:38] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Remote host closed the connection)
[22:26:54] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[22:27:16] *** Joins: trevors (~trevors@user/trevors)
[22:30:07] *** Quits: trevors (~trevors@user/trevors) (Client Quit)
[22:35:13] *** Quits: malteger (~malteger@user/malteger) (Ping timeout: 256 seconds)
[22:37:15] *** Joins: malteger (~malteger@user/malteger)
[22:37:24] *** Quits: Torr (~Torr@user/torr) (Ping timeout: 250 seconds)
[22:42:06] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-6da1-e9b1-d3e1-19fe.fixed6.kpn.net)
[22:43:27] *** Quits: bartholin (~bartholin@109.53.1.186) (Quit: Leaving)
[22:46:31] *** Joins: sa02irc (~mbax@155-079-043-212.ip-addr.inexio.net)
[22:48:05] <Mikachu> i didn't know this was permitted
[22:48:10] <Mikachu> > a=(one two three); print -l "${a[@][1,2][1][2,3]}"
[22:48:10] <machabot> Mikachu: ne
[22:48:28] <Mikachu> i just always assumed you needed a ${} level for each subscript
[22:51:37] *** Quits: brocellous (~brocellou@2600:8800:1680:17:a541:92c3:12e0:e63c) (Remote host closed the connection)
[22:51:51] *** Joins: brocellous (~brocellou@2600:8800:1680:17:e9ae:ab2a:7c44:426b)
[22:51:58] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[22:54:08] *** Quits: brocellous (~brocellou@2600:8800:1680:17:e9ae:ab2a:7c44:426b) (Remote host closed the connection)
[22:59:25] *** Joins: brocellous (~brocellou@2600:8800:1680:17:e9ae:ab2a:7c44:426b)
[23:01:55] *** Quits: greedom (~greedom@p200300de6705e30087cb3efb95047236.dip0.t-ipconnect.de) (Remote host closed the connection)
[23:02:22] *** Joins: greedom (~greedom@p200300de6705e30087cb3efb95047236.dip0.t-ipconnect.de)
[23:02:25] *** Joins: otisolsen70_ (~otisolsen@xd4ed80b5.cust.hiper.dk)
[23:03:32] *** Joins: trevors (~trevors@user/trevors)
[23:05:08] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Ping timeout: 250 seconds)
[23:05:41] *** Quits: otisolsen70_ (~otisolsen@xd4ed80b5.cust.hiper.dk) (Remote host closed the connection)
[23:05:59] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[23:06:37] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 256 seconds)
[23:07:26] *** Quits: Everything (~Everythin@37.115.210.35) (Quit: leaving)
[23:07:26] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Remote host closed the connection)
[23:07:46] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[23:15:10] *** Joins: Gamma[m] (~gamma@zsh/user/Gamma)
[23:15:59] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 252 seconds)
[23:18:24] *** Joins: zenof (~zenofthin@88.130.155.194)
[23:23:42] <zenof> Are subshells always spawn for both sides of a pipe?
[23:25:49] <zenof> I noticed when I have in a script: " function foo { a=3; echo "Hello"; } ; foo ; echo $a " I get "Hello" and 3. Whereas if I have " function foo { a=3; echo "Hello"; } ; foo | cat; echo $a" , a is empty in that scope
[23:29:45] <llua> the last part of a pipeline is in the current shell
[23:30:07] <llua> every other part is in a subshell
[23:33:33] *** Joins: Torr (~Torr@user/torr)
[23:36:19] *** Joins: walterwhip (~walterwhi@user/walterwhip)
[23:37:54] <zenof> the last part is in the current shell. okay. what are the reasons it's implemented that way?
[23:41:18] *** Quits: walterwhip (~walterwhi@user/walterwhip) (Ping timeout: 252 seconds)
[23:49:27] <zenof> to avoid an xy-problem situation: I would like to have a function to initialize some variables, but also want to log that initialization process to both, a logfile and stdout, so I hopen for just " init | tee ..." but that wouldn't work 
[23:49:44] <zenof> hoped
[23:50:37] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
