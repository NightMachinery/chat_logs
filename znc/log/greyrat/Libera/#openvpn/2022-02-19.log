[00:00:12] *** Quits: zx2c4 (sid204921@gentoo/developer/zx2c4) (Ping timeout: 240 seconds)
[00:02:25] *** Joins: zx2c4 (sid204921@gentoo/developer/zx2c4)
[00:06:42] *** Quits: dazo (~dazo@openvpn/developer/dazo) (Ping timeout: 252 seconds)
[00:13:48] *** Quits: zx2c4 (sid204921@gentoo/developer/zx2c4) (Ping timeout: 240 seconds)
[00:14:24] *** Joins: zx2c4 (sid204921@gentoo/developer/zx2c4)
[00:16:39] *** Joins: lotharn (~kvirc@2600:8800:280:d400:dcc8:cd03:1019:1988)
[00:20:29] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[00:21:18] *** Joins: dazo (~dazo@openvpn/developer/dazo)
[00:51:45] *** Joins: noarb- (~noarb@user/noarb)
[00:52:19] *** Quits: noarb (~noarb@user/noarb) (Ping timeout: 256 seconds)
[00:59:29] *** Joins: noarb (~noarb@user/noarb)
[01:00:52] *** Quits: noarb- (~noarb@user/noarb) (Ping timeout: 272 seconds)
[01:51:40] *** Joins: remanifest (~remanifes@user/remanifest)
[02:01:39] <remanifest> Hello everybody, I'm trying to use openvpn3 to connect to some assets at my company. I'm able to connect to the VPN successfully with openvpn3, but I can't access the resources I know I should be able to access (remote HTTPS server and remote SQL servers). I don't have this problem in macOS, so I know the VPN itself works properly. I'm not sure where to start.
[02:06:10] <mzar> remanifest: check routing tables on your clients and hosts you are connecting to
[02:08:32] <remanifest> mzar: what am I looking for there?
[02:10:08] <mzar> remanifest: for convergence
[02:10:44] <remanifest> I'm not following, sorry... is there something I can read that will help me to understand?
[02:11:26] <mzar> the client has to know the route to the server and the opposite, the server has to know the route to the client
[02:11:47] <remanifest> I don't have access to the server side
[02:11:59] <mzar> is it fulfilled ?
[02:12:01] <remanifest> But I know the server side works (because it works in another operating system)
[02:12:18] <remanifest> I'm not sure what you mean by fulfilled
[02:13:15] <mzar> if not, you want probably to do NAT on the VPN server
[02:14:28] <remanifest> I'm a client only
[02:14:38] <mzar> remanifest: you need to be in charge of full network stack if you want to deploy OpenVPN for your company
[02:14:46] <remanifest> I'm not deploying it for my company
[02:15:05] <remanifest> I'm trying to use my company's OpenVPN config to connect to some assets
[02:15:24] *** Quits: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au) (Ping timeout: 240 seconds)
[02:15:33] <mzar> remanifest: ask your staff
[02:16:40] <remanifest> They're not going to support Linux
[02:19:04] *** Joins: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au)
[02:21:19] *** Quits: indy (~indy@dsl-static-104.213-160-167.telecom.sk) (Quit: ZNC 1.8.2 - https://znc.in)
[02:24:09] *** Joins: indy (~indy@dsl-static-104.213-160-167.telecom.sk)
[02:37:17] *** Quits: remanifest (~remanifes@user/remanifest) (Remote host closed the connection)
[02:39:31] *** Joins: remanifest (~remanifes@user/remanifest)
[02:47:09] *** Joins: TonyStone (~TonyStone@2603-7080-8607-c36a-b0ed-1a92-719b-f6c2.res6.spectrum.com)
[03:14:42] *** Quits: RypPn (~RypPn@user/ryppn) (Quit: Real-time updating is paused. (Resume))
[03:14:55] *** Quits: remanifest (~remanifes@user/remanifest) (Ping timeout: 240 seconds)
[03:15:56] *** Joins: remanifest (~remanifes@user/remanifest)
[03:20:12] *** Joins: RypPn (~RypPn@user/ryppn)
[03:28:08] *** Quits: zx2c4 (sid204921@gentoo/developer/zx2c4) (Read error: Connection reset by peer)
[03:28:23] *** Quits: becm (~becm@55d42850.access.ecotel.net) (Quit: quit)
[03:28:32] *** Joins: zx2c4 (sid204921@gentoo/developer/zx2c4)
[03:39:07] *** Quits: zx2c4 (sid204921@gentoo/developer/zx2c4) (Read error: Connection reset by peer)
[03:40:04] *** Joins: zx2c4 (sid204921@gentoo/developer/zx2c4)
[03:51:02] *** Quits: mannequin (uid453465@id-453465.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[05:02:43] *** Quits: moffa (~quassel@2607:fea8:a340:7f2:329c:23ff:fe45:6567) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[05:03:43] *** Joins: moffa (~quassel@2607:fea8:a340:7f2:329c:23ff:fe45:6567)
[05:30:20] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:31:13] *** Quits: batrick (batrick@2600:3c00::f03c:91ff:fe96:477b) (Quit: WeeChat 3.4)
[05:33:22] *** Joins: vlm (~vlm@user/vlm)
[05:36:24] *** Joins: batrick (batrick@2600:3c00::f03c:91ff:fe96:477b)
[05:50:38] *** Joins: noarb- (~noarb@user/noarb)
[05:50:57] *** Quits: noarb (~noarb@user/noarb) (Ping timeout: 272 seconds)
[06:03:08] *** Joins: mannequin (uid453465@id-453465.helmsley.irccloud.com)
[06:30:58] *** Quits: lotharn (~kvirc@2600:8800:280:d400:dcc8:cd03:1019:1988) (Read error: Connection reset by peer)
[07:04:49] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Quit: Ex-Chat)
[07:05:55] <rob0> remanifest: openvpn(8) (version 2.x) on Linux is really very easy.  You don't need their help, most likely.
[07:06:23] <rob0> openvpn3-linux is a bit more involved, still in beta at this point.
[07:06:26] *** Joins: adeliktas5 (~adeliktas@i59F52980.versanet.de)
[07:07:48] *** Quits: adeliktas (~adeliktas@i59F52D25.versanet.de) (Ping timeout: 240 seconds)
[07:07:48] *** adeliktas5 is now known as adeliktas
[07:08:31] <rob0> What did they give you for credentials?  A username/password at an https: address?  Or a [one or more] configuration file[s]?
[07:11:12] <rob0> If it's the web address, it's probably either OpenVPN Access Server or Cloud.  Go there, enter username/password, get your profile.  Then (as root) "openvpn /path/to/that/profile.ovpn" does it.  Most likely will ask for user/pass again.
[07:42:53] *** Quits: gast0n (~g4570n@user/gast0n) (Quit: Bye, see you soon! ðŸ‘‹)
[09:23:17] <remanifest> rob0: I did a bit more testing, and I'm only more lost now. I've tried disabling the firewall to make sure that it wasn't a firewall issue. When I look at my routing table, I can see the tun interface listed. When I ping from the primary interface (wlan0), it's successful. Pinging from the tun interface times out. I then downloaded one of the free OpenVPN configs (vpnbook), and used openvpn to connect to it. It worked successfully. I received a .
[09:23:19] <remanifest> ovpn file from the company, which contains a CA cert, user cert, and private key. Along with that, I have a username/password and TOTP credentials. I can connect just fine, but it appears something funky is happening where it's not forwarding to the appropriate interface.
[09:23:30] <remanifest> thanks for the replies and apologies for my delay
[09:40:20] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Remote host closed the connection)
[09:40:49] *** Joins: Pippin_ (Pippin_@openvpn/community/Pippin)
[09:40:49] *** ChanServ sets mode: +o Pippin_
[09:42:20] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Remote host closed the connection)
[09:42:42] *** Joins: Pippin_ (Pippin_@openvpn/community/Pippin)
[09:42:42] *** ChanServ sets mode: +o Pippin_
[09:43:50] <remanifest> There's also a TLS key in there
[10:14:20] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Remote host closed the connection)
[10:14:41] *** Joins: Pippin_ (Pippin_@openvpn/community/Pippin)
[10:14:41] *** ChanServ sets mode: +o Pippin_
[11:12:11] *** Joins: nerozero (~nerozero@87.253.63.54)
[11:35:25] *** Joins: Tuvix_ (~Tuvix@gateway/tor-sasl/tuvix)
[11:35:56] *** Quits: Tuvix (~Tuvix@gateway/tor-sasl/tuvix) (Remote host closed the connection)
[12:44:35] *** Quits: remanifest (~remanifes@user/remanifest) (Ping timeout: 240 seconds)
[12:52:49] *** Joins: remanifest (~remanifes@user/remanifest)
[13:01:04] *** Quits: DArqueBishop (~drkbish@athena.darquecathedral.org) (Ping timeout: 256 seconds)
[13:01:32] *** Joins: DArqueBishop (~drkbish@athena.darquecathedral.org)
[13:03:00] *** Quits: remanifest (~remanifes@user/remanifest) (Remote host closed the connection)
[13:03:16] *** Joins: remanifest (~remanifes@user/remanifest)
[13:11:35] *** Quits: funkymonkey (~funky@6-173-177-143.ftth.glasoperator.nl) (Quit: leaving)
[13:32:50] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Remote host closed the connection)
[13:33:09] *** Joins: Pippin_ (Pippin_@openvpn/community/Pippin)
[13:33:09] *** ChanServ sets mode: +o Pippin_
[13:34:20] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Remote host closed the connection)
[13:35:29] *** Joins: Pippin_ (Pippin_@openvpn/community/Pippin)
[13:35:29] *** ChanServ sets mode: +o Pippin_
[13:47:01] *** Joins: funkymonkey (~funky@6-173-177-143.ftth.glasoperator.nl)
[14:46:23] *** Joins: hqdruxn08__ (~hqdruxn08@user/hqdruxn08)
[14:50:43] *** Quits: hqdruxn08_ (~hqdruxn08@user/hqdruxn08) (Ping timeout: 256 seconds)
[15:24:05] *** Joins: becm (~becm@55d42737.access.ecotel.net)
[15:30:17] *** Quits: csrf (~csrf@user/csrf) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[15:31:04] *** Joins: csrf (~csrf@user/csrf)
[16:02:05] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[16:12:41] *** Joins: martin__-- (~default@84-113-156-178.cable.dynamic.surfer.at)
[16:13:36] <martin__--> hi, I tried to build OpenVPN on my nas but I get the error lladdr.c:29:18: error: â€˜ETH_ALENâ€™ undeclared (first use in this function) during build
[16:13:51] <martin__--> any idea on that? my build setup is here located https://github.com/mfe-/openvpn-2.5.5
[16:18:50] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Remote host closed the connection)
[16:37:16] <ordex> martin__--: what system are you building that on ?
[16:37:53] <ordex> well, must be linux
[16:39:56] <martin__--> yes Linux ordex
[16:40:20] <ordex> strange it just works for everybody else
[16:40:38] <ordex> what distro is that ?
[16:40:40] <martin__--> I can remember building OpenVPN on this machine as well, but it was an quite old OpenVPN version
[16:40:50] <martin__--> its an old Linux sarge/etch
[16:41:09] <martin__--> I builded required dependencies from source
[16:41:16] <martin__--> so they are up to date
[16:41:34] <ordex> I Am wondering if some header is missing
[16:41:58] <ordex> what does this say:
[16:41:59] <ordex> grep -rn "#define.*ETH_ALEN" /usr/include/
[16:42:00] <martin__--> I suspect that configure doesn't check for this hear
[16:44:05] <ordex> well, it pretty standard on linux
[16:44:15] <ordex> it is linux/if_ether.h
[16:44:39] <ordex> this is why I was wondering if your distro is so old that this include doesn't get there
[16:45:06] <ordex> but yeah, explicit check could be added
[16:45:11] <ordex> did you try running the command above?
[16:45:47] <martin__--> ordex I added the output here on top of the readme file https://github.com/mfe-/openvpn-2.5.5
[16:46:15] <ordex> yeah it's there
[16:46:16] <ordex> now
[16:46:35] <ordex> if you open /usr/include/linux/if_tun.h , can you see a #include <linux/if_ether.h> somewhere at the beginning of the file?
[16:48:00] <martin__--> ordex I don't have a /usr/include/linux/if_tun.h
[16:48:11] <ordex> ah ok
[16:48:24] <ordex> I guess we haven't found a system without that header in a while
[16:50:12] <martin__--> is it possible to skip this function when building from source?
[16:51:43] <ordex> one easy fix for you would be to change ETH_ALEN into OPENVPN_ETH_ALEN
[16:51:49] <ordex> that is a define in the project itself
[16:52:04] <ordex> I think it existed originally to avoid having to depend on an extra header (back then..)
[16:54:28] <martin__--> with in the project itself you mean changing in the source of lladdr.c ETH_ALEN to  OPENVPN_ETH_ALEN ?
[16:54:45] <ordex> correct
[16:54:55] <ordex> since you have your own copy, you can do it as quick fix
[16:55:29] <martin__--> thanks I'll try
[16:55:34] <ordex> np
[16:59:28] <martin__--> that's interesting ./src/openvpn/lladdr.c:29:    uint8_t addr[ETH_ALEN];     is the only file using ETH_ALEN. All other files use OPENVPN_ETH_ALEN like u mentioned
[17:00:07] <martin__--> oh and ./src/openvpn/networking_sitnl.c:751: depend on it
[17:00:56] <ordex> right
[17:01:04] <ordex> those are linux specific lines
[17:01:08] <ordex> so we never had issues so far
[17:04:07] <ordex> I will submit a patch. can I credit you with name&email ?
[17:07:41] <martin__--> with pleasure, but shouldn't we wait until the build is finished? It will take a little bit since the machine is not very fast
[17:10:35] <martin__--> I'll let you know when the build is finished
[17:18:15] <martin__--> this is strange I get now "lladdr.c:29:18: error: â€˜OPENVPN_ETH_ALENâ€™ undeclared (first use in this function)   "
[17:31:07] <becm> martin__: your config suggests you DO have a linux/if_tun.h (https://github.com/mfe-/openvpn-2.5.5/blob/8f90c0433c37e880dc19ad26919adb9da7f5b330/config.h#L345)
[17:32:41] <becm> it may be on sparc (or old Linux versions) this does not reference the required "if_ether.h" header
[17:34:57] *** fling is now known as swing
[17:35:08] <martin__--> oh sry, you are correct not sure why I didn't catch it on the first sight
[17:37:30] <martin__--> becm https://github.com/mfe-/openvpn-2.5.5/blob/master/if_tun.h that's the content
[17:37:50] <martin__--> and if_ether.h is missing as include
[17:40:12] <becm> funny thing: ETH_ALEN is used nonetheless.
[17:43:25] <becm> ah, but only in __KERNEL__ context, so no error in userland compiles :)
[17:48:24] <becm> ordex: so not all "linux/tun.h" include "linux/if_ether.h".
[17:48:33] *** Joins: gast0n (~g4570n@user/gast0n)
[17:55:42] <rob0> I have a customer saying his Linux openvpn 2.x client won't prompt for 2FA, and I am embarassed to realize that I've never tried that.  Is that true, or maybe he's trying to start it through systemd ...?
[17:56:54] <becm> martin__: you can could add "include <linux/if_ether.h>" to your src/openvpn/syshead.h just before "#include <linux/if_tun.h>" INSTEAD of using OPENVPN_ETH_ALEN
[17:58:18] <becm> ...which is defined in "src/openvpn/proto.h" and likely not included for "lladdr.c"
[18:05:57] <martin__--> becm I revert OPENVPN_ETH_ALEN back to ETH_ALEN right? and add the include statement
[18:07:07] <becm> martin__: yes, that *should* be the (IMHO) cleanest solution (assuming it works as expected) :)
[18:08:57] <martin__--> great thanks, I'll try
[18:14:53] <martin__--> https://github.com/mfe-/openvpn-2.5.5/commit/6293c765d939837b39321b40aa5dc088679e2235 bem, I'll try without make clean && make
[18:17:00] <becm> martin__: maybe fix the C&P erro in "src/openvpn/networking_sitnl.c" first.
[18:18:10] <martin__--> oh â€¦
[18:18:14] <martin__--> thanks
[18:19:51] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[18:25:26] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Quit: Ex-Chat)
[18:41:46] <martin__--> hmm now it breaks with: networking_sitnl.c: In function â€˜sitnl_route_saveâ€™:
[18:41:48] <martin__--> networking_sitnl.c:471:18: error: â€˜RTA_TABLEâ€™ undeclared (first use in this function)
[18:42:16] <martin__--> should I rerun with ./configure?
[18:42:30] <martin__--> networking_sitnl.c: In function â€˜sitnl_route_saveâ€™:     networking_sitnl.c:471:18: error: â€˜RTA_TABLEâ€™ undeclared (first use in this function)
[18:43:51] <rob0> sounds to me like some essential headers are missing.  Maybe you don't have a complete development environment installed?
[18:45:19] <martin__--> that's the environment I'm using https://community.netgear.com/t5/ReadyNAS-Storage-Apps-Current/Sparc-platform-development-envrionment-using-Qemu/td-p/720841 with additional packages installed
[18:48:25] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Quit: shibboleth)
[19:15:41] <becm> martin__: the RTA_TABLE seems to have been introduced in Linux 2.6.19, so not available in the system you are using.
[19:17:00] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 240 seconds)
[19:37:53] <becm> martin__: for your *special* environment, you might get away with commenting out that condition.
[19:39:10] <becm> no guarantees there won't be issues or further show-stoppers.
[19:43:15] <rob0> I wonder if an openvpn built in such an environment would be worth running?
[19:43:52] <rob0> Maybe you can set up a VM on the NAS with a 21st Century OS?
[19:44:39] <rob0> Did you already build a recent openssl?  If not, do that first.
[19:48:46] <ordex> martin__--: might be better to compile with --enable-iproute2
[19:48:59] <ordex> sitnl relies on features that may not work as expected on such ancient kernel
[19:50:09] <martin__--> becm that's too bad I have 2.6.18-6-sparc32
[19:50:49] <martin__--> rob0 I updated my openssl on the system
[19:51:33] <martin__--> ordex thanks I try --enable-iproute2
[19:51:47] <ordex> (to be passed to ./configure)
[19:53:50] *** Joins: Pippin_ (Pippin_@openvpn/community/Pippin)
[19:53:50] *** ChanServ sets mode: +o Pippin_
[20:16:19] *** swing is now known as fling
[20:45:05] *** Joins: lotharn (~kvirc@2600:8800:280:d400:dcc8:cd03:1019:1988)
[20:48:13] <rob0> fwiw I think linux-nettools have been basically superceded by iproute2 since kernel 2.4
[20:48:29] <rob0> things still use them though!
[20:52:00] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[21:04:55] *** Joins: Pippin__ (Pippin_@openvpn/community/Pippin)
[21:04:55] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Killed (copper.libera.chat (Nickname regained by services)))
[21:04:55] *** ChanServ sets mode: +o Pippin__
[21:04:56] *** Pippin__ is now known as Pippin_
[21:34:36] *** Quits: martin__-- (~default@84-113-156-178.cable.dynamic.surfer.at) (Read error: Connection reset by peer)
[21:38:54] *** Joins: martin__-- (~default@84-113-156-178.cable.dynamic.surfer.at)
[22:22:55] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Ping timeout: 240 seconds)
[22:25:37] *** Quits: TonyStone (~TonyStone@2603-7080-8607-c36a-b0ed-1a92-719b-f6c2.res6.spectrum.com) (Ping timeout: 240 seconds)
[22:29:05] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[22:34:48] *** Quits: noarb- (~noarb@user/noarb) (Quit: ZNC 1.8.2 - https://znc.in)
[22:48:01] *** Joins: noarb (~noarb@user/noarb)
[22:52:47] *** Joins: noarb- (~noarb@user/noarb)
[22:53:00] *** Quits: noarb (~noarb@user/noarb) (Ping timeout: 240 seconds)
[23:03:47] *** Joins: TonyStone (~TonyStone@cpe-74-76-51-197.nycap.res.rr.com)
[23:13:16] *** Quits: trace987 (~trace@user/trace) (Remote host closed the connection)
[23:15:41] *** Tuvix_ is now known as Tuvix
