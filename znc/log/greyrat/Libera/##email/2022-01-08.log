[00:46:18] *** Quits: Duchess55 (~Duchess@24.109.185.150) (Quit: Client closed)
[00:46:51] *** Joins: Duchess65 (~Duchess@24.109.185.150)
[00:49:37] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:55a0:8f60:aba0:28c4) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:50:35] *** Quits: Duchess65 (~Duchess@24.109.185.150) (Client Quit)
[00:51:17] *** Joins: Duchess47 (~Duchess@24.109.185.150)
[01:24:26] *** tscott_ is now known as tscott
[01:39:54] *** Joins: rgrinberg (~textual@2806:101e:7:78bb:3c80:c601:b69c:eb4)
[02:21:05] *** Quits: rgrinberg (~textual@2806:101e:7:78bb:3c80:c601:b69c:eb4) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:10:02] *** Joins: rgrinberg (~textual@187.223.202.115)
[03:19:17] *** Quits: Guest3367 (~vit@chello085216193138.chello.sk) (Ping timeout: 240 seconds)
[03:20:30] *** Quits: rgrinberg (~textual@187.223.202.115) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:04:39] *** Quits: Quimby (~Quimby@80-72-63-218.dynamic.modem.fl1.li) (Read error: Connection reset by peer)
[04:14:06] <Duchess47> Error from mx toolbox"Reverse DNS does not match SMTP Banner".  I've seen this error before.  I believe I was to update /etc/hosts and problem would be solved but my memory fades me.  Lost my Manual on this issue too =(  in the /etc/hosts file.  I add "domain.name" and not "rdns.domain.name"?
[04:24:57] *** Quits: sm1 (~sm@plaintextaccounting/sm) (Quit: Reconnecting)
[04:25:21] *** Joins: sm1 (~sm@plaintextaccounting/sm)
[04:25:50] <lunaphyte> although it can be confusing to people to hear, and they might think it sounds backwards, your ptr record is your *actual* hostname
[04:26:13] <lunaphyte> but, once you get your head around it, the rest becomes much easier
[04:26:17] *** sm1 is now known as sm
[04:27:23] <lunaphyte> because whatever your ptr record, there must also be an a record which complements it, and your mail server must also use that hostname in its banner and helo commands
[04:30:15] <lunaphyte> so no - not likely to have anything to do with /etc/hosts
[04:36:00] <Duchess47> thanks, yeah the helo commands I am foggy on atm.  Oh I see, "Static Hostname" /etc/hosts is not where I change hostname. I changed hostname "sudo hostnamectl set-hostname domain.name".  Confirmed hostname changed with "hostnamectl".  Mx toolbox provides same result. Not seeing what I am missing but I can tell  its something
[04:49:53] <lunaphyte> do you have an a record which matches your ptr record?
[04:50:33] <Duchess47> yes oh I see merci, hopefully this works
[04:51:17] <Duchess47> okay thanks I changed the name of the A record to the rdns value.  propogate should solve issue
[04:58:05] <lunaphyte> then you'll need to configure your mail server software to use that same hostname string in its banner and helo
[05:44:54] *** Joins: harveypwca (~harveypwc@2601:246:c180:a570:3828:d8:e523:3f67)
[06:57:21] *** Joins: tscott_ (~tscott@user/tscott/x-3602077)
[06:59:17] *** Quits: tscott (~tscott@user/tscott/x-3602077) (Ping timeout: 240 seconds)
[07:54:48] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e)
[08:12:48] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[09:31:27] *** Joins: CyberTailor (~cyber@gateway/tor-sasl/cybertailor)
[09:42:39] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e) (Read error: Connection reset by peer)
[09:44:12] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e)
[09:52:39] *** Quits: echoSMILE (uid504326@user/echosmile) (Quit: Connection closed for inactivity)
[10:53:59] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e) (Read error: Connection reset by peer)
[10:54:12] *** Joins: Guest3367 (~vit@chello085216193138.chello.sk)
[10:54:47] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e)
[11:23:01] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e) (Ping timeout: 240 seconds)
[11:23:49] *** Quits: Ryan[m]123 (~ryanchatb@2001:470:69fc:105::ff6) (Ping timeout: 240 seconds)
[11:24:22] *** Joins: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29)
[11:24:38] *** Joins: vit (~vit@chello085216193138.chello.sk)
[11:24:48] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e)
[11:25:02] *** vit is now known as Guest2986
[11:28:05] *** Quits: Guest3367 (~vit@chello085216193138.chello.sk) (Ping timeout: 256 seconds)
[11:40:25] *** Joins: Ryan[m]123 (~ryanchatb@2001:470:69fc:105::ff6)
[11:42:15] *** Quits: tharkun (tharkun@kvm6.telegraphics.com.au) (Ping timeout: 256 seconds)
[11:43:15] *** Joins: tharkun (tharkun@kvm6.telegraphics.com.au)
[11:51:03] *** Quits: SallyAhaj (~SallyAhaj@user/sallyahaj) (Quit: Leaving)
[11:56:54] *** Joins: SallyAhaj (~SallyAhaj@user/sallyahaj)
[12:11:24] *** Joins: kilitary (~Username@188.242.187.4)
[12:32:36] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:07:37] *** Quits: kilitary (~Username@188.242.187.4) (Read error: Connection reset by peer)
[13:08:22] *** Joins: kilitary (~Username@188.242.187.4)
[13:08:27] *** Quits: kilitary (~Username@188.242.187.4) (Remote host closed the connection)
[13:12:14] *** Joins: kilitary (~Username@188.242.187.4)
[13:24:53] *** Quits: kilitary (~Username@188.242.187.4) (Remote host closed the connection)
[13:28:08] *** Joins: kilitary (~Username@188.242.187.4)
[13:35:49] *** Joins: Quimby (~Quimby@80-72-63-218.dynamic.modem.fl1.li)
[13:45:05] *** Quits: ecdhe (~ecdhe@user/ecdhe) (Read error: Connection reset by peer)
[13:45:38] *** Joins: samsamsam (~samsamsam@174-26-108-139.phnx.qwest.net)
[13:46:18] *** Parts: samsamsam (~samsamsam@174-26-108-139.phnx.qwest.net) ()
[13:49:26] *** Joins: menace (~someone@ppp-93-104-175-20.dynamic.mnet-online.de)
[13:49:26] *** Quits: menace (~someone@ppp-93-104-175-20.dynamic.mnet-online.de) (Changing host)
[13:49:26] *** Joins: menace (~someone@user/menace)
[13:49:31] *** menace is now known as Deknos
[13:55:19] *** Joins: ecdhe (~ecdhe@user/ecdhe)
[14:04:47] *** Quits: Deknos (~someone@user/menace) (Remote host closed the connection)
[14:05:04] *** Joins: Deknos (~someone@ppp-93-104-175-20.dynamic.mnet-online.de)
[14:06:08] *** Quits: Deknos (~someone@ppp-93-104-175-20.dynamic.mnet-online.de) (Changing host)
[14:06:08] *** Joins: Deknos (~someone@user/menace)
[14:57:04] *** Quits: Deknos (~someone@user/menace) (Remote host closed the connection)
[15:10:30] *** Joins: Deknos (~someone@ppp-93-104-175-20.dynamic.mnet-online.de)
[15:17:01] *** Quits: Deknos (~someone@ppp-93-104-175-20.dynamic.mnet-online.de) (Ping timeout: 256 seconds)
[15:18:30] *** Joins: Deknos (~someone@ppp-93-104-175-20.dynamic.mnet-online.de)
[15:26:01] *** Joins: derpadmin (~Anonymous@homebase.200013.net)
[16:00:05] *** Quits: Deknos (~someone@ppp-93-104-175-20.dynamic.mnet-online.de) (Quit: Deknos)
[16:15:51] *** Joins: omnigoat (~omnigoat@user/omnigoat)
[16:34:00] <ThiefMaster> besides the usual things (SPF, DKIM, DMARC, proper forward+reverse DNS), what can i do that emails sent from my mail server (hosted at a proper datacenter, so no residential/consumer IP range) doesn't get classified as spam by microsoft's antispam solution? for testing i sent an email to my work email address and it was flagged as spam, and the headers in the received mail are not particularly 
[16:34:00] <ThiefMaster> helpful since MS antispam is just a big ugly black box (i asked my workplace's mail admin if he has more details on why it was flagged and he basically said "MS antispam just sucks" ;x)
[16:53:10] <tuxick> make very sure you dpm
[16:53:25] <tuxick> don't allow users to forward to outlook/gmail
[16:53:35] <tuxick> if they complain, spank them
[16:56:33] <ThiefMaster> the only users are me and my family members; nother spam nor forward outgoing emails elsewhere
[16:56:40] <ThiefMaster> the server IP isn't on any dns blacklists either
[16:57:06] <ThiefMaster> *neither
[16:57:07] <ThiefMaster> what's dpm?
[17:14:34] *** Quits: CyberTailor (~cyber@gateway/tor-sasl/cybertailor) (Remote host closed the connection)
[17:26:27] *** Joins: CyberTailor (~cyber@gateway/tor-sasl/cybertailor)
[17:30:17] <tuxick> cat interfering with typing
[17:32:30] *** Quits: kilitary (~Username@188.242.187.4) (Remote host closed the connection)
[17:46:06] *** Joins: kilitary (~Username@188.242.187.4)
[18:06:39] <ThiefMaster> meow :>
[18:11:05] <jelly> what's the least worst way to do forwards these days, if I have to?  embed the whole original message as mime attachment and use my own envelope and headers?
[18:12:19] <jelly> I know the correct answer is "don't forward" and possibly "pull messages instead" but some customers are dumb
[18:25:11] <tuxick> dumb is no excuse
[18:25:44] <tuxick> and they'd definitely be too dumb to handle an embedded message
[18:26:10] <tuxick> it's like driving with no brakes
[18:26:23] <tuxick> accident waiting to happen
[18:26:35] <lunaphyte> the problem isn't forwarding, per se.  the problem is leaving the envelope when forwarding.
[18:27:00] <lunaphyte> [specifically, the envelope sender]
[18:27:07] <tuxick> there's some rewriting tricks
[18:27:41] <tuxick> and there's the "your spamfilter will have to be better than theirs"
[18:27:57] <lunaphyte> if someone forwards messages, and changes the envelope sender, then that's no longer an issue
[18:28:23] <lunaphyte> you will also likely want to modify some accompanying headers, as well
[18:28:30] <lunaphyte> and then the other big problem is spam
[18:39:49] <jelly> Re: rewriting envelope, I don't think SRS is enough today, and the more things I merely "modify" the more likely it is I'm going to break some dkim or dmarc signage or similar
[18:41:06] <jelly> perhaps I could do some A/B testing, do SRS for 5% of customers that still have forwards, see if anyone complains
[18:41:34] <lunaphyte> yes, you'd likely need to do your own dkim signing as well
[20:07:18] *** Quits: CyberTailor (~cyber@gateway/tor-sasl/cybertailor) (Quit: Konversation terminated!)
[20:09:46] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[20:26:15] *** Quits: Friithian (gunqqer@friithian.dev) (Ping timeout: 250 seconds)
[20:26:31] *** Joins: Friithian (~gunqqer@friithian.dev)
[20:30:49] *** Joins: Atque (~Atque@user/atque)
[20:31:53] *** Quits: lunaphyte (~lunaphyte@user/lunaphyte) (Ping timeout: 250 seconds)
[20:32:18] *** Joins: lunaphyte (~lunaphyte@user/lunaphyte)
[20:32:18] *** ChanServ sets mode: +o lunaphyte
[20:32:20] *** Quits: Luke (~ldm@hacksoc/member) (Ping timeout: 250 seconds)
[20:32:33] *** Joins: Luke (~ldm@hacksoc/member)
[20:33:32] *** Quits: koollman (samson_t@user/koollman) (Ping timeout: 252 seconds)
[20:33:44] *** Joins: koollman (~samson_t@sp1.kooll.org)
[20:49:06] *** Quits: bookworm (~bookworm@thelounge/maintainer/bookworm) (Ping timeout: 245 seconds)
[20:49:24] *** Joins: bookworm (~bookworm@thelounge/maintainer/bookworm)
[20:49:39] *** Quits: andr01d (~andr01d@johnea.net) (Ping timeout: 250 seconds)
[20:50:04] *** Joins: andr01d (~andr01d@johnea.net)
[22:30:26] *** Joins: minimal (~minimal@user/minimal)
[22:48:21] *** Joins: echoSMILE (uid504326@user/echosmile)
[22:53:40] <Duchess47> ThiefMaster, do you have a form set up? Test the form auto membership confirm to see where your at inbox wise.  However in boxing is reputation based over time once the technicals are in place.
[22:54:14] <Duchess47> ThiefMaster, send legit mail no problems
[22:55:00] <ThiefMaster> not sure what you mean
[22:55:03] <ThiefMaster> there are no forms etc involved.
[22:55:05] <ThiefMaster> i sent a test email from my private address (= own mail server) to my work address (ms antispam) through my email client. 
[22:55:32] <ThiefMaster> and it's very low volume (personal usage). so there's unlikely to be any meaningful reputation info for the IP in either direction
[22:55:32] <lunaphyte> how long has the domain and source ip address been in use?
[22:56:04] <ThiefMaster> IP: new server, rented at hetzner a few weeks ago. the IP isn't on any blacklists though. the domain... 20 years minus a few days
[22:56:22] <ThiefMaster> 11 years for the domain in the HELO and PTR
[22:56:37] <lunaphyte> i think you need you ruminate some more on the concept of reputation :)
[22:56:42] <lunaphyte> *you need to
[22:57:40] <ThiefMaster> sure i get that positive IP/domain reputation is a plus, and negative is a big minus - but no reputation info should certainly not result in a mail being classified as spam, should it..?
[22:57:40] <lunaphyte> the better the reputation is, the less likely there will be deliverability problems
[22:57:54] <ThiefMaster> it's not like i can build reputation without sending LOTS of legitimate emails
[22:57:58] <lunaphyte> ThiefMaster: that's what i mean.  that's not how a reputation works
[22:58:27] <ThiefMaster> lots of spam reports => lower reputation for the mail server; lots of emails but no spam reports (or "this isn't spam" reports) => higher reputation.... no?
[22:58:55] <lunaphyte> you need to adjust your expectations.  if one has no reputation, then you will likely have some degree of deliverability issues
[22:59:05] <lunaphyte> it may not be horrible, but it will exist
[22:59:25] <Duchess47> ThiefMaster, https://www.w3schools.com/html/html_forms.asp get your data to come in through a form and confirm subscription = win
[22:59:34] <ThiefMaster> Duchess47: wtf?
[22:59:39] <ThiefMaster> there are NO FORMS INVOLVED
[22:59:46] <ThiefMaster> it's a mail server for regular personal email usage
[22:59:48] <lunaphyte> ThiefMaster: just ignore them, please
[23:00:02] <lunaphyte> the rebuttal is not helping things
[23:00:15] <ThiefMaster> true.. not feeding thre trolls ;x
[23:00:17] <lunaphyte> !deliverability
[23:00:18] <dig-dug> lunaphyte: deliverability: (#1) If you're having problems getting your mail received by major ESPs you should first check your !fcrdns, then make sure you have SPF, DKIM and DMARC configured (see !easy_dmarc). Sign up for the dnswl at http://www.dnswl.org. Also sign up for ESP-specific programs such as feedback loops, Google postmaster tools and Microsoft's SNDS., or (#2) Check the individual postmaster pages for each ESP
[23:00:18] <ThiefMaster> *the
[23:00:19] <dig-dug> lunaphyte: that you're having problems with to make sure that you're in compliance with all of their policies and if you still have problems contact the support for the ESP., or (#3) Also check to make sure you're not on any DNSRBLs and submit removal requests from any you appear on. See !multirbl.
[23:00:32] <lunaphyte> ThiefMaster: have all of the above been considered/addressed?
[23:02:23] <ThiefMaster> SPF/DKIM/DMARC: yes (even though DMARC is not set to quarantine/reject); no DANE configured so far. no issues shown in SNDS (not sure if that's applied to "enterprise" spam filtering that's not regular hotmail anyway). not listed on any RBLs either (first thing i checked since i'd have asked for a new IP had i gotten one with a "bad" IP)
[23:03:53] <lunaphyte> and fcrdns?  with matching banner and helo commands?
[23:04:26] <lunaphyte> and you have positively validated your spf/dkim/dmarc is properly configured and operating?
[23:05:12] <ThiefMaster> !fcrdns
[23:05:13] <dig-dug> ThiefMaster: fcrdns: http://en.wikipedia.org/wiki/Forward_Confirmed_reverse_DNS : your IP address should resolve to your HELO/EHLO hostname, which in turn should resolve back to your IP. This is very important if you want big sites to accept your mail. If you can't have it from your ISP, see !relayhost
[23:05:17] <ThiefMaster> yes
[23:06:34] <ThiefMaster> https://bpa.st/QWHA
[23:07:40] <lunaphyte> well, i already see some dns issues
[23:08:21] <lunaphyte> is the domain name in question the 4 character .net domain in your pastebin?
[23:08:48] <ThiefMaster> that's the one i used for my servers etc. not the one in From/envelope-from. here's my test email i just sent with full headers: https://bpa.st/QY2Q
[23:09:23] <lunaphyte> plan----.net?
[23:09:58] <ThiefMaster> yes, that's my main personal email address
[23:10:11] <ThiefMaster> and the @ce... is the work address i sent it to
[23:11:50] *** Joins: kristijonas (~kristijon@78-56-32-39.static.zebra.lt)
[23:12:30] <lunaphyte> val----.a---.net is the postfix server, and is what you're using as the msa?
[23:14:42] <ThiefMaster> yes; it's running my postfix server
[23:15:20] <ThiefMaster> https://multirbl.valli.org/email-test/cd23619738d0a349615cf1f154f61cd000ae83b1.html - strange that it shows "no record found!" for the MX ip - unless it doesn't handle CNAMEs
[23:16:01] <lunaphyte> side note, that a---.net has some dns issues
[23:18:15] <ThiefMaster> what exactly? i don't see one, and the only thing one of the online checkers reports are higher refresh/retry timeouts in SOA which i'd assume are not relevant in this context?
[23:21:36] <lunaphyte> well, before we get sidetracked, my suggestions on this issue are to continue to attempt to work with microsoft [yes, i know it sucks], continue to send legit email and mark it as not spam, and lastly, possibly consider the more drastic action of stripping various headers as the mail leaves val----.a---.net [in particular, received headers, although this has a high potential to create more problems than it solves, if done badly]
[23:22:00] <lunaphyte> i'll also note that, in general, it's not great that your mail servers seems to have multiple personalities
[23:22:06] <lunaphyte> *mail server
[23:22:07] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[23:23:28] <lunaphyte> e.g. is it val----.a---.net?  is it mx.a----.net?  is it mail.a----.net?
[23:24:34] <lunaphyte> while this may not directly relate to your deliverability issues, inconsistency like that can have an effect, and is not going to help your efforts
[23:24:40] <ThiefMaster> val*: just the name of the server; mx.ae*: dns name used for MX; mail.ae* used for clients. i didn't want to waste IPv4 addresses (and the money they cost) on giving mx and mail separate IPs
[23:24:48] <lunaphyte> a significant component of reputation is consistency
[23:25:42] <lunaphyte> you can still get some better consistency without the need for more ip addresses
[23:26:52] <ThiefMaster> yeah but if i don't want main.ae* as the PTR of my server's main IP (it also runs other stuff that's not mail-related) i'm pretty much forced to buy another IP ;)
[23:26:53] <ThiefMaster> "continue to send legit email and mark it as not spam" - kind of hard, because i guess you can imagine how common it is to send emails to your own address ;) (and i don't send that many private emails in general)
[23:27:46] <lunaphyte> regarding a---.net dns issues, the main problem is the mx record points to a cname.  that is a violation of the specification
[23:27:52] <ThiefMaster> but yes, i'll look for the ham report address in order to mark my test emails as not-spam
[23:28:22] <lunaphyte> also, val----.a---.net has an mx record that points to a hostname that doesn't exist
[23:29:51] <ThiefMaster> ok that one is easy to fix :)
[23:31:10] <lunaphyte> somewhere in the scrollback you said this is a hetzner vpc?
[23:31:48] <ThiefMaster> ok, fixed that one
[23:31:55] <ThiefMaster> hetzner yes, but not virtual
[23:32:00] <lunaphyte> oh
[23:32:08] <ThiefMaster> and yes i know some hetzner subnets get abused by spammers :/
[23:32:18] <ThiefMaster> that's why i made sure to check rbls right after getting the ip assigned
[23:32:55] <lunaphyte> well, if it were me, i would get a separate vpc, and use it for email relay services.
[23:33:35] <lunaphyte> i know money can be a factor, but they are cheap enough that it shouldn't be too painful apart from the most extreme circumstances
[23:34:28] <ThiefMaster> hm if it's just for the separate ip it's probably cheaper and less of a hassle to just pay 2€ per month for an additional IP..
[23:34:51] <lunaphyte> could be, sure
[23:38:10] <ThiefMaster> in any case i also forwarded my test mails to not_junk@office365.microsoft.com...
[23:42:15] *** Quits: xaltsc (~xaltsc@user/xaltsc) (Remote host closed the connection)
[23:51:40] *** Joins: rgrinberg (~textual@187.223.248.37)
[23:56:50] *** Quits: rgrinberg (~textual@187.223.248.37) (Quit: My MacBook has gone to sleep. ZZZzzz…)
