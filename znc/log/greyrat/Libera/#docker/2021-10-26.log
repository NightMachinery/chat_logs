[00:00:45] <tabakhase> infidel using the docker executor _without privileged_ may be considerable fairly secure, but those wont give you "docker tooling" for your CI (but just, run your normal script in some container) - if you want to use services: and such you need privileged, what in turn means root.
[00:01:43] <tabakhase> where "fairly secure" is with a huge aterisk that were not talking about 0days & escapes - but accidents....
[00:03:13] <tabakhase> id prob prefeer throwing a runner in a kvm over setting up rootless too :P
[00:18:25] *** Joins: Koopz4 (~Koopz@h2950341.stratoserver.net)
[00:20:13] *** Quits: Koopz (~Koopz@koopz.rocks) (Quit: Goodbye ZNC)
[00:20:13] *** Koopz4 is now known as Koopz
[00:30:29] *** Joins: AnselmoCampanas (~AnselmoCa@190.99.69.41)
[00:37:52] *** Quits: bolt (~r00t@user/bolt) (Remote host closed the connection)
[00:40:26] *** Joins: bolt (~r00t@user/bolt)
[00:46:10] *** Quits: haise01 (~haise01@user/haise01) (Quit: ZNC 1.8.2 - https://znc.in)
[00:48:16] *** Quits: sgt_chuckles (~sgt_chuck@pool-71-190-209-205.nycmny.fios.verizon.net) (Quit: Client closed)
[00:51:09] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[01:05:51] *** Quits: AnselmoCampanas (~AnselmoCa@190.99.69.41) (Quit: Client closed)
[01:07:37] *** Joins: AnselmoCampanas (~AnselmoCa@190.99.69.41)
[01:13:42] *** Quits: tex (~super@user/dix) (Ping timeout: 244 seconds)
[01:13:51] *** Quits: cparker (~cparker@c-76-127-239-113.hsd1.ma.comcast.net) (Ping timeout: 256 seconds)
[01:14:18] *** Quits: DoofusCanadensis (~DoofusCan@207.229.38.10) (Quit: So long, suckers)
[01:26:47] *** Quits: fercell (~ferr@185.65.50.156) (Ping timeout: 264 seconds)
[01:34:40] *** Quits: TomTom (uid45892@id-45892.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[01:44:05] <ada_> or4n: standard practice for iptables is to use a package like iptables-persistent that will load a rules file on reboot
[01:44:21] <ada_> or4n: express your DOCKER-USER chains in the rules file, and it will get loaded every time you boot
[01:44:50] <ada_> or4n: alternatively, write a script that inserts the right rules into DOCKER-USER and run it every boot
[01:45:59] *** Quits: xep (~xep@131.sub-174-194-133.myvzw.com) (Ping timeout: 264 seconds)
[01:46:22] <ada_> or4n: example https://gist.github.com/eusonlito/2919bd89b870343bff93b7c9f476579c
[01:48:08] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[01:49:47] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Remote host closed the connection)
[01:56:51] *** Quits: Tach (~Tach@user/tach) (Quit: Tach)
[01:57:22] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[01:58:45] *** Quits: jushur (~human@user/jushur) (Quit:  ¯\_(ツ)_/¯)
[01:59:11] *** Joins: xep (~xep@2600:1010:b02d:2989:64b2:579a:6519:d25d)
[02:08:17] *** Quits: kveroneau (kveroneau@node1.veroneau.net) (Quit: Follow my Nick on Twitter and YouTube!)
[02:18:35] *** Joins: emerent_ (~quassel@p200300cd57485562ba27ebfffed28a59.dip0.t-ipconnect.de)
[02:18:35] *** Quits: emerent (~quassel@p200300cd574855b8ba27ebfffed28a59.dip0.t-ipconnect.de) (Killed (zirconium.libera.chat (Nickname regained by services)))
[02:18:35] *** emerent_ is now known as emerent
[02:32:52] *** Quits: AnselmoCampanas (~AnselmoCa@190.99.69.41) (Quit: Ping timeout (120 seconds))
[02:36:58] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 260 seconds)
[02:44:05] *** Joins: bouncy (~ben@user/benoit)
[02:44:09] *** Joins: m1n10n (~r41d1n@cpe-76-184-204-251.tx.res.rr.com)
[02:45:57] *** Quits: m1n10n (~r41d1n@cpe-76-184-204-251.tx.res.rr.com) (Client Quit)
[02:46:23] *** Quits: The_Jag (~The_Jag@host-79-13-46-237.retail.telecomitalia.it) (Quit: The_Jag)
[02:47:07] *** Joins: m1n10n (~r41d1n@cpe-76-184-204-251.tx.res.rr.com)
[02:55:13] *** Quits: graudre (~graudre@2607:fea8:560:7f20:642f:259d:2306:4605) (Quit: graudre)
[03:15:03] *** Joins: The_Jag (~The_Jag@host-79-13-46-237.retail.telecomitalia.it)
[03:16:51] *** Joins: A17_ (~DeeJayh@97-120-22-216.ptld.qwest.net)
[03:31:37] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Remote host closed the connection)
[03:31:58] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[03:36:22] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Client Quit)
[03:36:23] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 264 seconds)
[03:39:23] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Ping timeout: 264 seconds)
[03:41:21] *** Quits: BSaboia (~bsaboia@177.37.198.218) (Quit: This computer has gone to sleep)
[03:45:58] *** Joins: bouncy (~ben@user/benoit)
[03:46:20] *** Quits: Bebef (sbreit@phobos.bebef.de) (Read error: Connection reset by peer)
[03:46:34] *** Joins: Bebef (sbreit@phobos.bebef.de)
[04:15:38] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 265 seconds)
[04:17:10] *** Joins: bouncy (~ben@user/benoit)
[04:18:37] *** Joins: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:18db:3ea7:766d:52bd)
[04:30:12] *** Joins: rowbots (~dirgeable@h96-60-60-73.arvdco.broadband.dynamic.tds.net)
[04:30:14] <rowbots> i used iptables-save. It gave some rules like this https://pastebin.com/HahdzRmV how do I replicate these if I clear iptables with the iptables command?
[04:30:41] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:34:50] *** Joins: vlm (~vlm@user/vlm)
[04:49:20] *** Joins: BSaboia (~bsaboia@177.37.198.218)
[04:58:44] *** Joins: The_Jag_ (~The_Jag@host-87-19-40-26.retail.telecomitalia.it)
[05:01:33] *** Quits: The_Jag (~The_Jag@host-79-13-46-237.retail.telecomitalia.it) (Ping timeout: 265 seconds)
[05:11:15] *** Quits: leitz (~LeamHall@cpe-173-172-58-72.tx.res.rr.com) (Quit: nappy time)
[05:27:54] *** Quits: cluelessperson (~cluelessp@user/cluelessperson) (Quit: ZNC - https://znc.in)
[05:28:32] *** Joins: cluelessperson (~cluelessp@user/cluelessperson)
[06:00:58] <pycurious> My docker build is getting stuck at RUN pacman -Sv --debug python-pip --noconfirm --needed
[06:01:30] <pycurious> any ideas on how to solve this? The errors I see are - > (debug: returning error 33 from alpm_db_get_pkg (../lib/libalpm/db.c: 248) : could not find or read package) and debug: using cachedir: /var/cache/pacman/pkg/
[06:03:41] *** Quits: Enissay (~Enissay@user/enissay) (Quit: WeeChat 3.0)
[06:05:23] *** Joins: Enissay (~Enissay@user/enissay)
[06:22:22] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[06:26:30] <ash_worksi> I know I asked this many moons ago but, I have a non-containerized app running on a server; I am adding a containerized auth service that has it's own database so I need the original app to start sending new user data to the auth service (currently have in mind REST, so POST /users) and it needs to be able to validate credentials using the data from that service (I guess GET /users/123 and compare the 
[06:26:36] <ash_worksi> credentials)... since the app and auth are not on the same docker network does that mean I have to give a client credentials grant to my app for interaction or is there a way I can set up the container to accept requests from the host machine?
[06:26:54] <ash_worksi> (assuming I run the container on the same machine)
[06:28:04] *** Quits: erhandsome (~erhandsom@user/erhandsome) (Ping timeout: 265 seconds)
[06:29:38] *** Joins: lenswipe (~lenswipe@pool-173-48-154-44.bstnma.fios.verizon.net)
[06:29:40] <lenswipe> hey folks
[06:30:25] <ash_worksi> hi
[06:33:34] *** Quits: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:18db:3ea7:766d:52bd) (Quit: So long, suckers)
[06:34:48] <tabakhase> ash_worksi just published ports?
[06:34:56] <tabakhase> likely to 127.0.0.1 then ;-)
[06:35:02] <ash_worksi> oh
[06:35:15] <ash_worksi> right-o
[06:35:43] <ash_worksi> tabakhase: can I ask for a suggestion?
[06:35:54] <tabakhase> (if both is in docker, you can still connect different (compose) stacks, usually done by using fixed naming and declaring the network as external:true on one side, then a "down" wont attempt to tear it down (and fail cause the other stack still has alive containers in it)
[06:36:24] <ash_worksi> I didn't know that tidbit about down
[06:36:30] <ash_worksi> but I did know about external
[06:36:32] <ash_worksi> anyway
[06:36:54] <ash_worksi> would you make the auth service I explained RESTful?
[06:37:55] <lenswipe> wondered if i could ask some folks about an issue I'm running into - I'm trying to get mDNS broadcasts to show up in a swarm network. That's easier said than done due to the fact that I can't run a swarm service in host mode
[06:37:56] <tabakhase> that prob depends on a gazillion factors - and none of those is docker ;-)
[06:38:21] <tabakhase> lenswipe you been here some days ago? with the proxy?
[06:39:19] <pycurious> does anyone have a good mirror suggestion to replace this -> https://archive.archlinux.org/repos/2021/07/01/$repo/os/$arch ? 
[06:39:20] <lenswipe> tabakhase, that's me
[06:39:48] <lenswipe> tabakhase, trying to get an mdns broadcast from the network into docker - figured I'd try again and see if anyone had any ideas
[06:40:18] <lenswipe> tabakhase, right now I'm in the process of hacking at a compose file to see if i can bring it up that way and run _THAT_ service in host mode and broadcast into the network from there
[06:42:09] <tabakhase> lenswipe well disclaimer - idk shit about swarm - but as long as you can run it in hostmode, swarm or not shouldnt make that much of a difference.... just let it spam to docker0 (at least thats what the docs say :D dunno if that works in practice :D)
[06:42:48] <pycurious> any ideas on how to fix this. - no matter what i try - this hangs - https://dpaste.org/9TMy
[06:43:10] <tabakhase> pycurious i have a channel suggestion instead :P #archlinux 
[06:43:10] <lenswipe> tabakhase, right now I'm letting it spam the network for my stack
[06:44:03] <pycurious> tabakhase: thanks! I tried asking there already :) 
[06:44:43] <tabakhase> so... you are crossposting hm.. :P
[06:44:56] <tabakhase> jk :-)
[06:46:41] <tabakhase> lenswipe so? u good then or what? :D
[06:47:30] <lenswipe> tabakhase, not really...im trying to debug by running the container manually, the service in the container is trying to bind to eth0 (which makes sense given how it works) and it's failing with the error: send setsockopt(SO_BINDTODEVICE): No such device
[06:47:51] <lenswipe> eth0 most certainly exists
[06:48:19] <tabakhase> you sure? today lots of predictable names :P
[06:48:37] <tabakhase> eno5346573 or some crap :P
[06:48:42] <lenswipe> yeah, i turned that shit off
[06:48:43] <lenswipe> it's annoying
[06:49:00] <lenswipe> ip a | grep eth0 shows my ethernet card
[06:49:15] <tabakhase> and "ip addr" in the container?
[06:49:30] *** Parts: ash_worksi (~ash_m@user/ash-m/x-3292451) ()
[06:49:33] <lenswipe> this is in the container
[06:50:15] <tabakhase> sure eth0 is the one failing then... what image you use?
[06:51:02] <lenswipe> tabakhase, jdbeeler/mdns-repeater:latest
[06:51:12] <lenswipe> it definitely works (the image) - I've gotten it working on my laptop for testing
[06:52:43] *** Joins: erhandsome (~erhandsom@user/erhandsome)
[06:54:03] <tabakhase> and how... 
[06:54:19] <tabakhase> gonna throw you compose file and not get everything puleld out of your nose man :|
[06:55:17] <lenswipe> are you asking me to show you my compose file?
[06:55:31] *** Quits: emerent (~quassel@p200300cd57485562ba27ebfffed28a59.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[06:56:33] <tabakhase> should be self-evident if thats your issue > hacking a compose file <
[06:56:45] *** Joins: emerent (~quassel@p200300cd57485562ba27ebfffed28a59.dip0.t-ipconnect.de)
[06:58:13] *** Joins: msk (~msk@49.207.217.45)
[06:58:36] <lenswipe> okay, lemme go grab it
[06:59:35] <msk> docker daemon on starting creates an interface 'br-ebfaf899053a' in addition to 'docker0'. what's that for ? what is it's purpose ?
[07:00:29] <tabakhase> for giggles, you can also run it with privileged i guess, - really shouldnt make a difference looking at the code... but who knows and sorts out a possible issue
[07:00:46] <lenswipe> tabakhase, https://pastebin.com/tHFuYjmt <--- That works
[07:02:18] <lenswipe> tabakhase, https://pastebin.com/FYAqfgw4 <--- that doesn't
[07:03:43] *** Joins: eagles051387511 (~eagles051@user/eagles0513875)
[07:04:09] <tabakhase> thats not helping anyone obvs.
[07:04:37] <tabakhase> include commands you ran, errors you gotten, and as relevant also your env :/
[07:07:09] <tabakhase> yet alone cause there are like 3 different composes these days....
[07:09:47] <lenswipe> so, i attached to the docker image, and ran the entrypoint
[07:10:08] <lenswipe> docker run -e EXTERNAL_INTERFACE=eth0 -e DOCKER_NETWORK_NAME=homeassistant_default -e USE_MDNS_REPEATER=1 -v /var/run/docker.sock:/var/run/docker.sock --network host -it --entrypoint /bin/bash a5647844830d -s
[07:10:26] <lenswipe> that dropped me to a bash shell, where I then ran ./entrypoint.sh
[07:21:11] <tabakhase> sr, almost 6 - i gotta jump | best i can say is to compile a comprehensive paste of all of this cause at least i´m kinda getting lost on whats even your problem in the end what works what doesnt and so on... and then get ad* or progr* to check if swarm is to blame, or not ;D - then move from there
[07:21:14] *** Quits: metah4ck3r (~meta@user/metah4ck3r) (Ping timeout: 265 seconds)
[07:23:08] *** Joins: metah4ck3r (~meta@user/metah4ck3r)
[07:24:32] <lenswipe> tabakhase, thanks ,i gotta bounce too im falling alseep
[07:24:35] *** Quits: lenswipe (~lenswipe@pool-173-48-154-44.bstnma.fios.verizon.net) (Quit: Leaving)
[07:46:51] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 265 seconds)
[07:54:41] *** Joins: z8z (~x@ac255238.ppp.asahi-net.or.jp)
[08:10:10] *** Joins: bouncy (~ben@user/benoit)
[08:14:20] *** Quits: pycurious (~Adium@user/pycurious) (Quit: Leaving.)
[08:25:06] *** Quits: dinowilliam (~dinowilli@168.194.162.197) (Ping timeout: 260 seconds)
[08:25:43] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 260 seconds)
[08:30:08] *** Quits: c10l (~c10l@user/c10l) (Quit: The Lounge - https://thelounge.chat)
[08:30:22] *** Joins: c10l (~c10l@user/c10l)
[08:31:42] *** Joins: bouncy (~ben@user/benoit)
[08:41:51] *** Quits: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net) (Read error: Connection reset by peer)
[08:42:06] *** Joins: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net)
[08:44:11] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[08:44:47] *** Joins: mickey8 (~user@user/mickey)
[08:47:11] *** Quits: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net) (Ping timeout: 260 seconds)
[08:48:01] *** Joins: jazzy2 (~jaziz@user/jaziz)
[08:49:41] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 265 seconds)
[08:50:27] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[08:56:04] *** Quits: andycooper (uid246432@id-246432.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[08:58:06] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[08:59:02] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[09:06:47] *** Quits: infernix (nix@2a02:22a0:bbb1:d500::2) (Ping timeout: 246 seconds)
[09:17:39] *** Quits: Enitin (Enitin@gateway/vpn/protonvpn/enitin) (Remote host closed the connection)
[09:21:57] *** Joins: Enitin (Enitin@gateway/vpn/protonvpn/enitin)
[09:21:57] *** Joins: infernix (nix@spirit.infernix.net)
[09:22:27] *** Quits: setesat (~setesat@94.4.156.220) (Quit: The Lounge - https://thelounge.chat)
[09:22:51] *** Joins: setesat (~setesat@94.4.156.220)
[09:29:39] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 260 seconds)
[09:30:01] *** Joins: tex (~super@user/dix)
[09:30:33] *** Quits: TMan459 (~TMan459@068-187-099-141.res.spectrum.com) (Quit: ZNC 1.8.2 - https://znc.in)
[09:31:20] *** Joins: bouncy (~ben@user/benoit)
[09:31:43] *** Joins: TMan459 (~TMan459@068-187-099-141.res.spectrum.com)
[09:33:23] *** Quits: Enitin (Enitin@gateway/vpn/protonvpn/enitin) (Ping timeout: 260 seconds)
[09:34:10] *** Quits: Zelec956 (~Zelec@user/zelec) (Quit: The Lounge - https://thelounge.chat)
[09:34:38] *** Joins: Zelec956 (~Zelec@user/zelec)
[09:35:51] *** Joins: mei (~mei@user/mei)
[09:36:35] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Ping timeout: 260 seconds)
[09:37:26] *** Quits: axisys (~axisys@ec2-34-225-151-46.compute-1.amazonaws.com) (Ping timeout: 260 seconds)
[09:37:52] *** Joins: Enitin (Enitin@gateway/vpn/protonvpn/enitin)
[09:41:19] <foo> This is odd, docker-compose start mycontainername doesn't seem to work. 
[09:42:15] *** Quits: Enitin (Enitin@gateway/vpn/protonvpn/enitin) (Ping timeout: 260 seconds)
[09:42:34] *** Joins: Enitin (~Enitin@82.102.22.84)
[09:43:23] *** Joins: TomTom (uid45892@id-45892.ilkley.irccloud.com)
[09:43:26] <zoredache> so what does it do? No output at all, errors, or?
[09:43:35] *** Joins: axisys (~axisys@ec2-34-225-151-46.compute-1.amazonaws.com)
[09:53:47] <foo> zoredache: if I do docker-compose -d up myname1 myname2 then it works
[09:58:22] <zoredache> Odd, not sure why it would fail to start interactively, but start when backgrounded
[10:01:27] *** Joins: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net)
[10:06:31] *** Quits: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net) (Ping timeout: 260 seconds)
[10:12:22] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[10:12:38] *** Joins: mickey8 (~user@user/mickey)
[10:17:43] *** Quits: Enitin (~Enitin@82.102.22.84) (Ping timeout: 260 seconds)
[10:19:50] *** Quits: sudoforge (~sudoforge@wireguard/tunneler/sudoforge) (Ping timeout: 244 seconds)
[10:47:45] *** Quits: jazzy2 (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[10:48:15] *** Joins: Leonarbro_ (~Leonet@user/leonarbro)
[10:49:25] *** Joins: Leonarbro__ (~Leonet@user/leonarbro)
[10:51:00] *** Joins: fercell (~ferr@185.65.50.16)
[10:51:36] *** Quits: travisghansen (~travisgha@192.74.130.86) (Quit: The Lounge - https://thelounge.github.io)
[10:52:27] *** Joins: travisghansen (~travisgha@192.74.130.86)
[10:52:35] *** Quits: Leonarbro (~Leonet@user/leonarbro) (Ping timeout: 264 seconds)
[10:53:11] *** Quits: Leonarbro_ (~Leonet@user/leonarbro) (Ping timeout: 264 seconds)
[10:55:50] <or4n> ada_: Currently I'm just using script that I run from /etc/rc.local but was wondering if that was best practice. I guess I'll continue with this.
[10:58:22] *** Joins: ExeciN (~ExeciN@user/nicexe)
[11:02:42] *** Joins: Tach (~Tach@user/tach)
[11:10:30] *** Quits: jmcgnh (~jmcgnh@wikipedia/jmcgnh) (Ping timeout: 260 seconds)
[11:13:43] *** Joins: jmcgnh (~jmcgnh@wikipedia/jmcgnh)
[11:13:55] <Daulity> larsks: thanks
[11:26:15] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[11:29:55] <Czernobog> Hello, I want to use https://hub.docker.com/r/linuxserver/duplicati Duplicati but I am not able to understand their source variable. I understand config, backup but what the heck is source? How does it work? Can someone help me understand
[11:29:57] <zamba> i want to add a new CA into a container.. where/how should that be done?
[11:30:18] <zamba> and i want this to happen from a mount.. so that i can push in new CAs externally.. with CA i mean certificate authority
[11:35:33] *** Joins: memoryleak (~memorylea@77-58-142-250.dclient.hispeed.ch)
[11:43:09] *** Quits: Herve (~RV@lfbn-nic-1-430-119.w90-116.abo.wanadoo.fr) (Quit: Leaving)
[11:43:42] *** Joins: VaniaPy (~VaniaPy@79.103.18.67.dsl.dyn.forthnet.gr)
[11:44:24] <VaniaPy> Hello, what's the best practise? To define env variables in a .env file or to set them directly in docker-compose yaml?
[11:46:42] <ikke> VaniaPy: you typically do not commit a .env file
[11:51:00] *** Quits: mickey8 (~user@user/mickey) (Ping timeout: 276 seconds)
[11:51:47] <VaniaPy> ok
[11:54:00] <VaniaPy> thanks
[11:56:02] <Daulity> does docker build have any facilities to for example extract a file name from a URL ? like for example www.mysite.com/abc.tar.xz and then just grab abc.tar.xz?
[11:56:17] <Daulity> or maybe that's the wrong way
[11:56:25] <Daulity> I used ADD to download it already 
[11:56:35] <Daulity> so maybe i should just grab it from the directory with ls or something
[11:57:26] <Daulity> hmm i read add should have extracted it ?
[11:58:18] <Daulity> i ahve the correct utilities installed locally though
[11:58:19] <ikke> only for local archives
[11:58:24] <Daulity> oh
[11:58:42] <Daulity> oh as in having the archive locally available 
[12:13:48] *** Joins: Enitin (~Enitin@82.102.22.86)
[12:20:45] *** Joins: mickey8 (~user@user/mickey)
[12:28:58] *** Joins: Ivii (~Ivyy@2001:a61:1304:3a01:ff77:5d07:db8e:c40c)
[12:29:20] <Daulity> I have a lot of <none> when i do docker image ls -a 
[12:29:34] <Daulity> but when i do docker image prune says it freed up 0Bytes
[12:29:56] <Daulity> if i look at the history of some it says <missing> in one of the layers
[12:30:49] <Daulity> oof 
[12:30:54] <Daulity> I had to use -a !
[12:31:02] <Daulity> freed up 25GB lol
[12:43:48] *** Quits: phylaz (~phylaz@219.92-221-176.customer.lyse.net) (Quit: The Lounge - https://thelounge.chat)
[12:44:11] <wez> Daulity: \o/
[12:44:26] *** Joins: phylaz (~phylaz@219.92-221-176.customer.lyse.net)
[12:45:58] *** Quits: phylaz (~phylaz@219.92-221-176.customer.lyse.net) (Client Quit)
[12:46:48] *** Quits: SmokenatorZ6 (~Smokenato@189-69-11-64.dsl.telesp.net.br) (Quit: Screw you guys, im going home)
[12:47:54] *** Joins: phylaz (~phylaz@219.92-221-176.customer.lyse.net)
[12:48:27] *** Joins: SmokenatorZ6 (~Smokenato@189-69-11-64.dsl.telesp.net.br)
[12:59:29] *** Quits: A17 (~deejayh@97-120-22-216.ptld.qwest.net) (Ping timeout: 244 seconds)
[13:01:32] *** Quits: mickey8 (~user@user/mickey) (Remote host closed the connection)
[13:02:42] *** Joins: vidbina (~vid@x4dbf8146.dyn.telefonica.de)
[13:03:21] *** Quits: murych (~tmayzenbe@46.39.54.208) (Remote host closed the connection)
[13:03:47] *** Joins: murych (~tmayzenbe@46.39.54.208)
[13:04:33] *** Quits: VaniaPy (~VaniaPy@79.103.18.67.dsl.dyn.forthnet.gr) (Quit: Connection closed)
[13:05:19] *** Joins: mickey8 (~user@user/mickey)
[13:06:50] *** Joins: VaniaPy (~VaniaPy@79.103.18.67.dsl.dyn.forthnet.gr)
[13:07:10] *** Parts: VaniaPy (~VaniaPy@79.103.18.67.dsl.dyn.forthnet.gr) ()
[13:09:52] *** Joins: GyrosGeier (~geier@185.27.255.155)
[13:09:54] <GyrosGeier> hi
[13:10:12] <Daulity> hey
[13:10:34] <GyrosGeier> I've upgraded from 18.1 to 20.10
[13:10:49] <GyrosGeier> and one of my containers has lost its port forward
[13:11:19] <GyrosGeier> the forward is defined with a v6 listener address
[13:11:41] <GyrosGeier> and the proxy is supposed to listen on this address only, and forward as a v4 connection on the internal network
[13:12:35] <GyrosGeier> the v6 address is configured as a local address, and manually starting docker-proxy works
[13:13:34] <GyrosGeier> but for some reason it doesn't work when dockerd starts it
[13:14:31] *** Quits: murych (~tmayzenbe@46.39.54.208) (Quit: Konversation terminated!)
[13:29:33] *** Quits: Bossi (~quassel@p5dc59f87.dip0.t-ipconnect.de) (Remote host closed the connection)
[13:31:49] *** Joins: Bossi (~quassel@p5dc59f87.dip0.t-ipconnect.de)
[13:32:09] *** Joins: evocatus (~evocatus@84.51.113.13)
[13:32:47] *** Quits: Enitin (~Enitin@82.102.22.86) (Ping timeout: 260 seconds)
[13:35:14] *** Joins: leitz (~LeamHall@cpe-173-172-58-72.tx.res.rr.com)
[13:48:47] <badeball> out of curiosity, what would a mac-user write under path's in blkio_config.*? I'm assuming it might be the device-name as it appears inside the vm running docker. if so, how does one find this name?
[13:52:20] *** Quits: mickey8 (~user@user/mickey) (Remote host closed the connection)
[13:52:46] *** Joins: mickey8 (~user@user/mickey)
[14:00:57] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[14:04:39] *** Quits: The_Jag_ (~The_Jag@host-87-19-40-26.retail.telecomitalia.it) (Read error: Connection reset by peer)
[14:04:44] *** Quits: mossman93 (~quassel@user/mossman93) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[14:05:29] *** Quits: kenoba (~kenoba@user/kenoba) (Quit: The Lounge - https://thelounge.chat)
[14:05:44] *** Joins: The_Jag (~The_Jag@host-87-19-40-26.retail.telecomitalia.it)
[14:06:17] *** Joins: kenoba (~kenoba@user/kenoba)
[14:06:22] *** Joins: mossman93 (~quassel@user/mossman93)
[14:06:39] *** Quits: kenoba (~kenoba@user/kenoba) (Client Quit)
[14:09:44] *** Joins: kenoba (~kenoba@user/kenoba)
[14:11:55] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[14:12:54] *** Quits: BSaboia (~bsaboia@177.37.198.218) (Quit: This computer has gone to sleep)
[14:16:17] *** Quits: c10l (~c10l@user/c10l) (Quit: The Lounge - https://thelounge.chat)
[14:21:15] *** Joins: c10l (~c10l@user/c10l)
[14:21:38] *** Quits: c10l (~c10l@user/c10l) (Client Quit)
[14:21:51] *** Joins: c10l (~c10l@user/c10l)
[14:32:54] *** Joins: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[14:33:12] *** Joins: Enitin (~Enitin@82.102.22.85)
[14:36:34] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 260 seconds)
[14:36:39] *** Joins: night_wulfe__ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[14:40:35] *** Quits: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 264 seconds)
[14:52:00] *** Joins: jkwnki1 (~jkwnki@p2e57991b.dip0.t-ipconnect.de)
[14:52:02] *** Joins: jkwnki2 (~jkwnki@p2e57991b.dip0.t-ipconnect.de)
[14:58:13] *** Quits: evocatus (~evocatus@84.51.113.13) (Read error: Connection reset by peer)
[15:00:49] *** Joins: incognito (~relativit@user/incognito)
[15:04:25] *** Joins: pycurious (~Adium@user/pycurious)
[15:06:35] *** Quits: pycurious (~Adium@user/pycurious) (Client Quit)
[15:23:17] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[15:23:49] *** Joins: BSaboia (~bsaboia@177.37.198.218)
[15:27:22] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[15:31:27] <BSaboia> Hello. While building an image with docker compose build, I see this line: => => naming to docker.io/library/core-builder 
[15:31:51] <BSaboia> However, I cannot see that the image was tagged with this tag. What does that means and where does it comes from?
[15:32:05] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[15:33:55] <BSaboia> There is no reference on docker inspect about this "naming"
[15:36:42] <ikke> BSaboia: docker.io/library is the standard implicit namespace for images for the docker hub, when a namespace is not provided
[15:39:24] <BSaboia> ikke, is it possible somehow to "skip" that?
[15:39:56] <ikke> What do you want to skip?
[15:40:02] <tabakhase> remove your image: line
[15:40:05] <tabakhase> then it wont tag
[15:40:28] <BSaboia> tabakhase, from docker-compose.yaml?
[15:40:41] <tabakhase> (or give it a more useable, when thats just wa notice that your "image: core-builder" becomes docker.io/library/core-builder 
[15:40:55] <tabakhase> never seen that particular msg tho
[15:41:31] <BSaboia> ikke, the problem is this: a colleague is not able to run docker compose up, and I am trying to help him. It seems that somehow he's skipping this part. Since this is a custom image, it fails for him, stating that he doesn't have access to this repo remotely
[15:44:07] <ikke> did your coleague run docker-compose build?
[15:45:17] <BSaboia> ikke, yes
[15:45:21] <BSaboia> It's actually a script
[15:45:42] <BSaboia> so it does docker compose build core-builder
[15:47:48] <tabakhase> BSaboia up should attempt to build anyhow after it a) didnt exist locally, b) didnt exist on the hub and c) has a build: section
[15:48:24] <BSaboia> tabakhase, yes. But the problem is that there are images that depends on this image
[15:48:35] <BSaboia> And up does not "wait" until that build is complete
[15:49:05] <BSaboia> So it's best to have a Makefile or something similar to build the necessary images first
[15:50:10] <tabakhase> that sounds wrong... it builds all, then starts creating containers i think -- and that "builds all" surely isnt perfect, but afaik at least attempts to figure build order if there are FROM/COPY--from´s in it - but i could very well be wrong there...
[15:50:34] <BSaboia> It may sound wrong, but it's the way it is
[15:51:02] <tabakhase> best to throw the compose, commands ran, and output received on a paste i guess...
[15:51:05] <BSaboia> I also thought it was strange at first, but docker compose is not for building images
[15:51:19] <tabakhase> so far what ya posted looks like a notice and nothing more, no error
[15:51:29] <ikke> Did you add proper depends_on declerations?
[15:53:03] <tabakhase> hm, if build also snitches on depends_on - that could be where i got my idea from that it does order... may accidentially gotten lucky in the past ;D
[15:53:23] <tabakhase> (by the book its more for startorder not buildorder)
[15:55:30] <ikke> yes, but they indicdentially are related
[15:56:03] *** Quits: Enitin (~Enitin@82.102.22.85) (Ping timeout: 260 seconds)
[15:56:55] <BSaboia> ikke, that also doesn't changes it
[15:57:09] <BSaboia> The output I pasted is mine's, not his
[15:57:23] <BSaboia> Adding depends_on doesn't change anything
[15:57:37] *** Quits: dalan62367 (~dalan@59-102-54-91.tpgi.com.au) (Quit: dalan62367)
[15:58:03] *** Joins: dalan62367 (~dalan@59-102-54-91.tpgi.com.au)
[16:11:18] *** Quits: jkwnki2 (~jkwnki@p2e57991b.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[16:11:27] *** Quits: jkwnki1 (~jkwnki@p2e57991b.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[16:22:56] *** Joins: dinowilliam (~quassel@168.194.162.197)
[16:32:12] *** Joins: minimal (~minimal@user/minimal)
[16:35:04] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi)
[16:35:38] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi) (Read error: Connection reset by peer)
[16:37:00] *** Quits: steerpike (~echelon@gateway/tor-sasl/steerpike) (Ping timeout: 276 seconds)
[16:37:36] *** Joins: steerpike (~echelon@gateway/tor-sasl/steerpike)
[16:43:30] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi)
[16:45:29] *** Leonarbro__ is now known as Leonarbro
[17:09:38] *** Quits: artok (~azo@mobile-access-bcee2b-18.dhcp.inet.fi) (Ping timeout: 260 seconds)
[17:28:14] *** Joins: andycooper (uid246432@id-246432.helmsley.irccloud.com)
[17:30:09] <BSaboia> ➜ az account list
[17:30:10] <BSaboia> [
[17:30:10] <BSaboia>   {
[17:30:10] <BSaboia>     "cloudName": "AzureCloud",
[17:30:10] <BSaboia>     "homeTenantId": "33e32152-01d0-4691-8a6c-a833983deaa6",
[17:30:10] <BSaboia>     "id": "86f72a62-9e6b-4c45-8328-4e97d0a88e99",
[17:30:12] <BSaboia>     "isDefault": true,
[17:30:18] <BSaboia>     "managedByTenants": [],
[17:30:18] <BSaboia>     "name": "Pay-As-You-Go",
[17:30:18] <BSaboia>     "state": "Enabled",
[17:30:20] <BSaboia>     "tenantId": "33e32152-01d0-4691-8a6c-a833983deaa6",
[17:30:24] <BSaboia>     "user": {
[17:30:25] *** Quits: BSaboia (~bsaboia@177.37.198.218) (Remote host closed the connection)
[17:37:11] *** Quits: linsux (~metbsd@user/linsux) (Quit: byeircer)
[17:39:27] *** Joins: linsux (~metbsd@user/linsux)
[17:41:29] *** Quits: justHaunt (~justache@user/justache) (Read error: Connection reset by peer)
[17:42:50] *** Joins: justHaunt (~justache@user/justache)
[17:45:20] *** Joins: pycurious (~Adium@user/pycurious)
[17:47:18] *** Joins: emx (~emx@mob-194-230-148-238.cgn.sunrise.net)
[17:49:16] *** Joins: incognito (~relativit@user/incognito)
[17:50:12] <emx> I can't get domain names resolved in docker images when not using --net=host. /etc/resolv.conf is identical with that of the host os (and I can reach the interent from there).
[17:50:33] <emx> Any ideas where to begin to troubleshoot?
[17:51:18] <emx> (and: I can ping ip-addresses from within docker)
[17:51:31] <programmerq> what error do you get when you use a dns utility such as dig or drill?
[17:52:17] *** Joins: sudoforge (~sudoforge@wireguard/tunneler/sudoforge)
[17:52:37] <ada_> sounds like a failure in iptables programming
[17:53:07] <emx> programmerq, nslookup: write to '[ipv4]': Host is unreachable
[17:53:10] <programmerq> oh, I read it wrong--
[17:53:17] <emx> where ipv4 is the ip of the nameserver
[17:53:36] <programmerq> yeah, I agree with ada_ sounds like you have iptables not quite right. do you have a firewall manager like ufw or firewalld?
[17:53:43] <programmerq> do you have a script that flushed the docker chain(s) ?
[17:54:41] <emx> ada, programmerq in iptables -L FORWARD i see a line with DOCKER
[17:54:48] <emx> DOCKER all -- anywhere anywhere
[17:54:51] <emx> to be precise
[17:54:53] <ada_> emx: use a pastebin
[17:54:59] <ada_> emx: these two lines really don't tell me anything
[17:55:02] <programmerq> yeah, show the full output of iptables-save
[17:55:05] <ada_> can you do an iptables-ave and dump to pastebin
[17:55:11] <ada_> ty @pq lol
[17:55:33] <emx> in a second. does selinux have any influence on this?
[17:55:40] <ada_> maybe
[17:56:00] <programmerq> not likely, but still maybe.
[17:56:01] <ada_> probably not, but maybe start with iptables
[17:58:13] <emx> ada, programmerq https://pastebin.com/d5g9LgPD
[18:07:43] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[18:08:36] *** Quits: Ivii (~Ivyy@2001:a61:1304:3a01:ff77:5d07:db8e:c40c) (Remote host closed the connection)
[18:10:09] *** Joins: deni (~deni@user/deni)
[18:10:22] *** Joins: Ivii (~Ivyy@2001:a61:1304:3a01:8462:5527:4b8e:6633)
[18:10:27] *** Quits: Ivii (~Ivyy@2001:a61:1304:3a01:8462:5527:4b8e:6633) (Remote host closed the connection)
[18:17:57] <programmerq> emx what is the DNS server you are using? Is it your home router? 8.8.8.8 ? 127.0.0.11 ? something else?
[18:18:42] <programmerq> is it all dns servers that don't resolve? try doing 'dig google.com @8.8.8.8' and 'dig google.com @1.1.1.1' to test two specific dns servers in addition to the DNS server you are using.
[18:19:03] <programmerq> sometimes a network provider can try to hijack all dns requests, and NAT detection could be a factor in something like this too.
[18:27:37] <emx> programmerq, the dns the host os is using resolves the ips. I can only use nslookup in docker (alpine linux).
[18:27:41] <emx> need to check the syntax
[18:28:13] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[18:28:14] <programmerq> in alpine linux, use drill. there's an alpine-based image that has it installed already: nicolaka/netshoot
[18:28:26] <programmerq> docker run --rm -it nicolaka/netshoot drill google.com @1.1.1.1
[18:28:33] *** Quits: deni (~deni@user/deni) (Quit: bye...)
[18:30:04] <minimal> or "dog" if you're on Alpine Edge :-)
[18:30:25] <emx> programmerq, ;; connection timed out; no servers could be reache
[18:30:34] <emx> (with nslookup)
[18:33:10] <emx> programmerq, Error: error sending query: Could not send or receive, because of network error
[18:33:35] <emx> interestingly, pings go through.
[18:34:03] <emx> ip 1.1.1.1: 64 bytes from 1.1.1.1: icmp_seq=2 ttl=58 time=3.25 ms
[18:41:47] *** Quits: emx (~emx@mob-194-230-148-238.cgn.sunrise.net) (Ping timeout: 264 seconds)
[18:45:19] *** Joins: mekhami (~ldv@2605:a601:aaf2:ef00:383f:a991:12f0:4f28)
[18:46:43] <mekhami> can you invoke a docker-compose configuration from another docker-compose config? my situation is, one docker-compose that has a bunch of shared stuff, and then small services in their own repositories. i want those smaller services to define their docker-compose stuff locally in that repo rather than shoving everything for every service into one shared 'devops' repo
[18:47:47] <ada_> mekhami: https://docs.docker.com/compose/extends/
[18:48:21] <ada_> mekhami: https://docs.docker.com/compose/compose-file/compose-file-v3/#extension-fields
[18:48:57] *** Joins: DoofusCanadensis (~DoofusCan@2605:8d80:4a0:9241:6d4e:9de0:23f2:eace)
[18:52:51] <TheSilentLink> Hi anyone know why I get key cannot contain a space?
[18:53:37] *** Joins: libcat (~quassel@2a01:4f8:c2c:2b3a::1)
[18:55:17] *** Joins: jushur (~human@user/jushur)
[18:55:34] *** Joins: INeedAHandle (~INeedAHan@39.124.72.106)
[18:57:40] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[18:58:28] <ada_> TheSilentLink: wut
[18:58:35] *** Joins: deni (~deni@user/deni)
[18:58:57] <ada_> elaborate...
[18:59:01] *** Quits: yac (~user@user/yac) (Remote host closed the connection)
[18:59:34] *** Joins: ExeciN (~ExeciN@user/nicexe)
[18:59:58] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[19:00:10] *** Quits: steerpike (~echelon@gateway/tor-sasl/steerpike) (Remote host closed the connection)
[19:01:35] *** Quits: rowbots (~dirgeable@h96-60-60-73.arvdco.broadband.dynamic.tds.net) (Ping timeout: 265 seconds)
[19:10:33] *** Joins: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469)
[19:10:56] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Remote host closed the connection)
[19:12:18] <DoofusCanadensis> did you put a space in your key?
[19:12:23] *** Quits: svm_invictvs_ (~svm_invic@user/svm-invictvs/x-6696469) (Ping timeout: 264 seconds)
[19:13:00] *** Joins: Null_A (~null_a@2601:645:8700:2290:391b:b1e6:7bfa:182e)
[19:13:59] *** Square is now known as Sqaure
[19:14:33] *** Joins: AnapodoPsalidaki (~AnapodoPs@2a02:587:2917:5181:17cb:1972:8b27:89d0)
[19:17:22] *** Quits: AnapodoPsalidaki (~AnapodoPs@2a02:587:2917:5181:17cb:1972:8b27:89d0) (Client Quit)
[19:24:01] *** Joins: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469)
[19:24:04] *** Quits: xep (~xep@2600:1010:b02d:2989:64b2:579a:6519:d25d) (Read error: Connection reset by peer)
[19:27:37] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[19:28:00] *** Joins: mickey8 (~user@user/mickey)
[19:28:08] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Remote host closed the connection)
[19:29:29] *** Quits: adamus1red (~M@user/mrr) (Quit: bye)
[19:30:56] <ada_> my house keys have 5 spaces
[19:31:42] *** Joins: adamus1red (~M@user/mrr)
[19:33:21] *** dob1_ is now known as dob1
[19:37:58] *** Joins: rsx (~dummy@ppp-188-174-152-6.dynamic.mnet-online.de)
[19:39:26] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:41:01] *** Joins: BenjiProd (~BenjiProd@user/benjiprod)
[19:41:17] *** Quits: mekhami (~ldv@2605:a601:aaf2:ef00:383f:a991:12f0:4f28) (Quit: WeeChat 2.8)
[19:42:50] *** Quits: mickey8 (~user@user/mickey) (Remote host closed the connection)
[19:43:06] *** Joins: mickey8 (~user@user/mickey)
[19:51:08] *** Joins: xep (~xep@23.sub-174-194-138.myvzw.com)
[19:52:33] <tabakhase> on automotive keys "spaces are doubled"...
[19:56:49] *** Joins: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469)
[20:02:02] *** Quits: rsx (~dummy@ppp-188-174-152-6.dynamic.mnet-online.de) (Quit: rsx)
[20:04:34] *** Joins: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-121.dsl.bell.ca)
[20:18:10] *** Joins: freshcoffee1 (~fresh@user/freshcoffee)
[20:19:11] *** freshcoffee1 is now known as freshcoffee
[20:19:23] *** Joins: artok (~azo@mobile-access-bcee2b-18.dhcp.inet.fi)
[20:19:53] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[20:20:01] *** Joins: glick (~David@97-113-142-158.tukw.qwest.net)
[20:20:46] <glick> hi folks, question, in a docker compose file, can i specify a local mount directory and give it a label to use with services?
[20:21:30] <ada_> glick: you can use extension fields to re-use YAML 
[20:22:04] <glick> ada_, ? not quite sure what you mean
[20:22:25] <glick> i want to use bind mount locations for docker-compose file
[20:22:56] <glick> so like can i do volome: some-label:/my/dir
[20:23:12] <glick> and then in my service specify volume as
[20:23:34] <glick> volume: somelabel:/service/data/dir
[20:23:41] <glick> will that do what i think it will
[20:23:58] *** Quits: noarb (~noarb@user/noarb) (Read error: Connection reset by peer)
[20:24:07] *** Joins: noarb- (~noarb@user/noarb)
[20:25:47] <ada_> glick: docker doesn't have a sort of "label" for bind-mounts
[20:25:55] <ada_> you'd always have to supply the full bind mount path whenever you need to use it
[20:26:12] <glick> ada_, in the service definition?
[20:26:13] <ada_> unless you take advantage of YAML anchors in order to not repeat yourself
[20:26:35] <ada_> "can i specify a local mount directory and give it a label" no
[20:26:44] <ada_> whether it is a service or not makes no difference
[20:27:04] <glick> i just thought in docker compuse i can define a volume
[20:27:10] <glick> and make it a bind mount
[20:27:11] <ada_> you can define named volumes
[20:27:27] <glick> and then refer to that when im defining the service
[20:27:33] <ada_> but it isn't a bind mount
[20:27:40] <glick> ok
[20:27:50] <ada_> they're mutually exclusive
[20:27:51] <glick> seems like a glaring omission if you ask me
[20:28:26] <ada_> you can write a proposal for change or a PR and submit to github if you feel strongly about it
[20:30:33] <[twisti]> yaml already has that feature in form of anchors, why reinvent it ?
[20:35:10] *** Quits: vidbina (~vid@x4dbf8146.dyn.telefonica.de) (Ping timeout: 260 seconds)
[20:42:16] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[20:43:40] <freshcoffee> Hi, I am running an alpinelinux container, and set `--memory=2g --memory-swap=2g` and a rapid malloc'ing program gets killed very quickly by OOM. This is desired. But I run a more real process (zig compiler) and via `docker stats` watch as it hits 2 GB. then the system starts paging madly. Any ideas? I'd like the proc to die before any swapping.
[20:45:51] <freshcoffee> the docker host has 14 GB RAM (it's actually a virtualbox VM and I am just using it to test docker stuff).
[20:52:21] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[20:52:46] *** Joins: incognito (~relativit@user/incognito)
[20:55:44] *** Joins: jazzy (~jaziz@user/jaziz)
[20:56:03] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-9d27-c755-80ea-123e.res6.spectrum.com)
[20:56:52] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[20:57:21] *** Joins: mickey8 (~user@user/mickey)
[21:06:00] *** Quits: n9nes (~n9nes@user/n9nes) (Quit: ZNC 1.8.2 - https://znc.in)
[21:07:38] *** Joins: n9nes (~n9nes@user/n9nes)
[21:08:10] <artok> disable swap ?
[21:08:51] *** Joins: emx (~emx@2001:1715:4e24:4640:f9c8:fb47:1d9:5af9)
[21:09:29] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[21:09:39] *** Joins: mickey8 (~user@user/mickey)
[21:20:51] *** Quits: emerent (~quassel@p200300cd57485562ba27ebfffed28a59.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[21:21:06] *** Joins: emerent (~quassel@p200300cd5748557eba27ebfffed28a59.dip0.t-ipconnect.de)
[21:30:59] *** Quits: DoofusCanadensis (~DoofusCan@2605:8d80:4a0:9241:6d4e:9de0:23f2:eace) (Ping timeout: 264 seconds)
[21:35:15] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[21:36:49] *** Quits: memoryleak (~memorylea@77-58-142-250.dclient.hispeed.ch) ()
[21:39:24] *** Joins: protonbit (~protonbit@2a02:c7f:f82b:6300:e1b4:df86:d46d:2796)
[21:39:56] *** Quits: protonbit (~protonbit@2a02:c7f:f82b:6300:e1b4:df86:d46d:2796) (Client Quit)
[21:40:19] *** Joins: Atque (~Atque@user/atque)
[21:40:28] *** Joins: DoofusCanadensis (~DoofusCan@207.229.38.10)
[21:42:20] *** Joins: haise01 (~haise01@user/haise01)
[21:43:15] *** Quits: INeedAHandle (~INeedAHan@39.124.72.106) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[21:43:43] *** Quits: n9nes (~n9nes@user/n9nes) (Ping timeout: 260 seconds)
[21:45:47] <ada_> freshcoffee: put the --memory and --memory-swap flags on the "real process" and make boith numbers equal
[21:46:00] <ada_> freshcoffee: that will reserve only N memory for the container and 0 swap
[21:47:01] *** Quits: xep (~xep@23.sub-174-194-138.myvzw.com) (Read error: Connection reset by peer)
[21:47:36] <ada_> or disable swap entirely in the vm
[21:47:40] <freshcoffee> @ada_ I did this: `docker run --memory=2g --memory-swap=2g --cpus=2 -it --entrypoint=sh ziglang/static-base:llvm13-x86_64-1`
[21:47:50] <ada_> arguably there's no reason to have swap enabled in the VM
[21:48:05] <freshcoffee> I also just tried artok suggestion and did `swapoff -a` on my host
[21:48:54] <freshcoffee> and only once did it get OOM'd . the other times it just hammers the filesystem. I'm going to reboot everything, with swapoff on the host and see if that makes it reliable
[21:48:56] *** Joins: INeedAHandle (~INeedAHan@39.124.72.106)
[21:52:29] *** Joins: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net)
[21:53:26] <pycurious> is there a ubuntu 20 minimal image somewhere where I can use apt to install what i need? 
[21:53:44] <pycurious> or should I just use FROM ubuntu:20.04
[21:55:50] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Read error: Connection reset by peer)
[21:57:29] <[twisti]> pycurious: check out http://cloud-images.ubuntu.com/minimal/releases/bionic/
[21:57:47] <[twisti]> not sure if you can get that in docker
[21:58:49] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[22:02:23] *** Quits: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 260 seconds)
[22:06:35] *** Joins: incognito (~relativit@user/incognito)
[22:07:05] <pycurious> Is there a way to convert an img file into a docker image? 
[22:08:23] <ikke> extract the image to disk, create a tar, then use docker image import
[22:08:23] *** Joins: Atque (~Atque@user/atque)
[22:09:32] <pycurious> ikke: looking
[22:11:16] <pycurious> https://github.com/moby/moby/tree/master/contrib - was hoping to find a script here for ubuntu - doesnt look like its there
[22:13:17] *** Joins: Ryu945 (Ryu945@gateway/vpn/protonvpn/ryu945)
[22:13:44] *** Quits: Ryu945 (Ryu945@gateway/vpn/protonvpn/ryu945) (Remote host closed the connection)
[22:14:47] <pycurious> ikke: Is it something like this —> cat https://cloud-images.ubuntu.com/minimal/releases/focal/release-20211019/ubuntu-20.04-minimal-cloudimg-amd64-root.tar.xz  | docker import -localimage:latest
[22:15:12] <pycurious> sorry - I meant cat root.tar.xz | docker import -localimage:latest? 
[22:15:42] <ikke> a space after the -
[22:15:54] *** Joins: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net)
[22:16:31] <ikke> but something like that, yes
[22:19:31] <pycurious> ikke: docker run ubuntuminimal —> docker: Error response from daemon: No command specified. — what is an easy way to spin a container from it and run bash on that?
[22:20:15] <ikke> pycurious: like it mentions, specify a command
[22:20:24] <ikke> docker run -it ubuntuminimal bash
[22:20:37] <pycurious> docker run ubuntuminimal bash — this does not spin up any containers and does not give an error
[22:20:47] <minimal> those are "cloud" minimal images, i.e. they come with a full init (systemd I assume), plus cloud-init, etc so not very minimal for docker use
[22:20:57] <ikke> pycurious: you need to specify -it for interactive containers
[22:21:01] <pycurious> ikke: that worked ! Thanks
[22:21:10] <ikke> minimal: :D]
[22:21:58] <notevil> without -it docker spins up bash, bash doesn't have a console and with nothing to do, exits.
[22:22:35] <minimal> why not just use the "standard" ubuntu docker images?
[22:23:23] *** Quits: emx (~emx@2001:1715:4e24:4640:f9c8:fb47:1d9:5af9) (Ping timeout: 260 seconds)
[22:24:25] <notevil> or check out the debian-slim images.
[22:25:50] <minimal> well he asked for ubuntu - I'd assume there should be some equivalent "slim" version of the ubuntu docker image. Even the "full fat" ubuntu docker image wouldn't have kernel, kernel modules, init, etc and so might still be smaller than the ubuntu minimal cloud image
[22:25:52] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[22:32:34] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[22:33:12] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 276 seconds)
[22:33:32] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi) (Read error: Connection reset by peer)
[22:36:28] <notevil> ubuntu is based on debian.  they do some cool things in the -slim variants like disable man pages.  maybe some of those ideas might be useful in slimming down ubuntu?
[22:45:07] *** Quits: Haxxa (~Haxxa@89nnjg0xckz9ggn6r5xm.ip6.superloop.com) (Quit: Haxxa flies away.)
[22:46:10] *** Joins: gooble_gobble (~gooble_go@c-76-16-103-215.hsd1.il.comcast.net)
[22:47:32] *** Joins: Haxxa (~Haxxa@122.199.46.64)
[22:47:37] *** Joins: jazzy2 (~jaziz@user/jaziz)
[22:48:26] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[22:52:19] *** Quits: glick (~David@97-113-142-158.tukw.qwest.net) (Ping timeout: 260 seconds)
[22:52:41] *** jazzy2 is now known as jazz-o-lantern
[22:55:40] <tianon> ubuntu decided to take the approach of slim-by-default after a certain version
[22:56:13] <tianon> if you try the "man" command in a focal container, you'll see a brief message about that
[22:57:15] *** Joins: irrgit (~irrgit@192.241.175.183)
[22:58:04] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[22:59:38] *** Joins: vlm (~vlm@user/vlm)
[23:00:14] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[23:01:08] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Read error: Connection reset by peer)
[23:03:37] *** Joins: jazzy2 (~jaziz@user/jaziz)
[23:04:27] *** jazz-o-lantern is now known as Guest3278
[23:04:35] *** jazzy2 is now known as jazz-o-lantern
[23:04:44] *** Joins: Ryu945 (Ryu945@gateway/vpn/protonvpn/ryu945)
[23:06:09] *** Joins: Leonarbro_ (~Leonet@user/leonarbro)
[23:06:50] *** Quits: Guest3278 (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[23:07:45] *** Joins: rowbots (~dirgeable@h96-60-60-73.arvdco.broadband.dynamic.tds.net)
[23:09:18] *** Quits: Ryu945 (Ryu945@gateway/vpn/protonvpn/ryu945) (Client Quit)
[23:09:37] *** Joins: Ryu945 (Ryu945@gateway/vpn/protonvpn/ryu945)
[23:10:06] *** Quits: Leonarbro (~Leonet@user/leonarbro) (Ping timeout: 245 seconds)
[23:18:32] *** Joins: signalblue (~quassel@user/signalblue)
[23:22:04] *** Joins: emx (~emx@2001:1715:4e24:4640:f9c8:fb47:1d9:5af9)
[23:30:10] *** Quits: Null_A (~null_a@2601:645:8700:2290:391b:b1e6:7bfa:182e) (Remote host closed the connection)
[23:30:35] *** Quits: emx (~emx@2001:1715:4e24:4640:f9c8:fb47:1d9:5af9) (Ping timeout: 260 seconds)
[23:39:55] *** Quits: mei (~mei@user/mei) (Ping timeout: 260 seconds)
[23:40:48] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[23:45:45] *** Joins: snedd (~snedd@86.14.114.137)
[23:51:35] *** Joins: Null_A (~null_a@2601:645:8700:2290:391b:b1e6:7bfa:182e)
[23:54:53] *** Quits: bouncy (~ben@user/benoit) (Quit: WeeChat 2.8)
