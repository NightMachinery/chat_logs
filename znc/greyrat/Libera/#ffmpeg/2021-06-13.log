[00:02:59] *** Joins: TheAMM (~AMM@user/amm)
[00:06:42] *** Quits: AMM (~AMM@user/amm) (Ping timeout: 252 seconds)
[00:14:49] *** TheAMM is now known as AMM
[00:24:50] *** Quits: waleee (~waleee@h-98-128-228-119.NA.cust.bahnhof.se) (Ping timeout: 272 seconds)
[00:25:54] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[00:27:18] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[00:31:45] *** Quits: Blacker47 (~Blacker47@user/blacker47) (Quit: Life is short. Get a V.90 modem fast!)
[00:32:55] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 272 seconds)
[00:33:39] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[00:44:06] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 264 seconds)
[00:46:14] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[00:51:25] *** Joins: Derrick (~Derrick@097-085-185-009.biz.spectrum.com)
[01:01:51] *** Joins: arcatech (~arcatech@user/arcatech)
[01:02:15] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 252 seconds)
[01:09:37] *** Joins: Trieste_ (~T@user/pilgrim)
[01:11:06] *** Joins: Trieste- (T@user/pilgrim)
[01:11:06] *** Quits: Trieste (~T@user/pilgrim) (Ping timeout: 264 seconds)
[01:14:05] *** Quits: Trieste_ (~T@user/pilgrim) (Ping timeout: 245 seconds)
[01:14:39] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Quit: WeeChat 3.1)
[01:18:16] *** Quits: Trieste- (T@user/pilgrim) (Remote host closed the connection)
[01:19:12] *** Joins: Trieste (T@user/pilgrim)
[01:41:23] *** Quits: gothicserpent_ (~gothicser@static-198-54-129-77.cust.tzulo.com) (Ping timeout: 252 seconds)
[01:42:15] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 268 seconds)
[01:44:15] *** Joins: waleee (~waleee@h-98-128-228-119.NA.cust.bahnhof.se)
[01:52:52] *** Quits: waleee (~waleee@h-98-128-228-119.NA.cust.bahnhof.se) (Ping timeout: 272 seconds)
[01:58:12] *** Quits: Buster_ (~Buster@buster-net.ru) ()
[02:03:55] *** Quits: beastd (~kvirc@p5b0c7695.dip0.t-ipconnect.de) (Quit: KVIrc 5.0.0 Aria http://www.kvirc.net/)
[02:04:52] *** Quits: amahl (~amahl@87-95-128-122.bb.dnainternet.fi) (Remote host closed the connection)
[02:05:00] *** Joins: waleee (~waleee@h-98-128-228-119.NA.cust.bahnhof.se)
[02:10:47] *** Quits: Derrick (~Derrick@097-085-185-009.biz.spectrum.com) (Quit: Ping timeout (120 seconds))
[02:51:28] *** Quits: ivanich (~ivanich@host-176-36-233-131.b024.la.net.ua) (Quit: Konversation terminated!)
[02:51:41] *** Joins: linjie (~linjie@58.247.210.251)
[02:52:56] *** Quits: linjie (~linjie@58.247.210.251) (Remote host closed the connection)
[02:54:30] *** Joins: linjie (~linjie@58.247.210.251)
[02:56:45] *** Quits: a0z (~a0z@90.244.140.171) (Ping timeout: 264 seconds)
[02:59:21] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 272 seconds)
[03:02:56] *** Joins: Vonter (~Vonter@user/vonter)
[04:00:42] *** Joins: piku (~piku@199.241.28.160)
[04:00:59] *** Joins: linjie (~linjie@58.247.210.251)
[04:05:51] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 272 seconds)
[04:05:54] *** Quits: mixfix41_ (~homefame@c-98-240-233-64.hsd1.mn.comcast.net) (Changing host)
[04:05:54] *** Joins: mixfix41_ (~homefame@user/mixfix41)
[04:35:07] *** Quits: shibboleth (~shibbolet@gateway/tor-sasl/shibboleth) (Quit: shibboleth)
[04:46:28] *** mixfix41_ is now known as mixfix41
[04:53:19] *** LurkingBOB is now known as MightyBOB
[05:08:35] *** Quits: KDDLB (kevin@user/kddlb) (Quit: The Lounge - https://thelounge.chat)
[05:14:40] *** Quits: piku (~piku@199.241.28.160) (Quit: Leaving)
[05:16:30] *** Joins: KDDLB (kevin@user/kddlb)
[05:23:16] *** Quits: TanoMarcelo (~TanoMarce@179.63.242.126) (Quit: WeeChat 3.1)
[05:27:56] *** Joins: Zeranoe (~Zeranoe@c-67-167-188-141.hsd1.mi.comcast.net)
[05:28:10] *** Joins: Zeranoe15 (~Zeranoe@175.sub-174-230-3.myvzw.com)
[05:28:15] *** Quits: Zeranoe15 (~Zeranoe@175.sub-174-230-3.myvzw.com) (Client Quit)
[05:28:49] *** Joins: Zeranoe18 (~Zeranoe@175.sub-174-230-3.myvzw.com)
[05:29:25] *** Quits: Zeranoe18 (~Zeranoe@175.sub-174-230-3.myvzw.com) (Client Quit)
[05:31:41] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:32:18] *** Quits: Zeranoe (~Zeranoe@c-67-167-188-141.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[05:36:02] *** Joins: vlm (~vlm@user/vlm)
[05:45:38] *** Joins: bencc1_ (~bencc1@5.29.21.12)
[05:46:07] *** Joins: LurkingBOB (~MightyBOB@76.99.21.35)
[05:46:21] *** Quits: MightyBOB (~MightyBOB@76.99.21.35) (Killed (NickServ (GHOST command used by LurkingBOB)))
[05:46:24] *** Quits: justBull (~justache@user/justache) (Remote host closed the connection)
[05:46:27] *** LurkingBOB is now known as MightyBOB
[05:47:26] *** Joins: justBull (~justache@user/justache)
[05:48:15] *** Quits: bencc1 (~bencc1@5.29.21.12) (Ping timeout: 252 seconds)
[05:55:12] *** Quits: der_richter (~Akemi@p2e580815.dip0.t-ipconnect.de) (Quit: Leaving.)
[06:06:50] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 272 seconds)
[06:08:22] *** Quits: beaver-24h (~loop@user/pong) (Remote host closed the connection)
[06:10:03] *** Joins: Vonter (~Vonter@user/vonter)
[06:13:38] *** Joins: beaver-24h (~loop@user/pong)
[06:15:38] *** Joins: TanoMarcelo (~TanoMarce@179.63.242.126)
[06:40:24] *** Quits: waleee (~waleee@h-98-128-228-119.NA.cust.bahnhof.se) (Ping timeout: 272 seconds)
[06:52:17] *** Quits: orthoplex64 (~crm@70.120.0.94) (Ping timeout: 272 seconds)
[06:53:44] *** Joins: linjie (~linjie@58.247.210.251)
[06:54:54] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:2132:cd52:1e4a:f46a) (Ping timeout: 268 seconds)
[06:58:06] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 252 seconds)
[07:00:05] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:2132:cd52:1e4a:f46a)
[07:00:54] *** Joins: linjie (~linjie@58.247.210.251)
[07:30:53] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[07:33:58] *** Quits: linjie (~linjie@58.247.210.251) (Remote host closed the connection)
[07:34:10] *** Joins: linjie (~linjie@58.247.210.251)
[07:35:15] *** Quits: linjie (~linjie@58.247.210.251) (Remote host closed the connection)
[07:40:21] *** Joins: moose_ (~moose@master.seedhost.eu)
[07:42:31] *** Parts: moose_ (~moose@master.seedhost.eu) ()
[07:46:11] *** Joins: linjie (~linjie@58.247.210.251)
[07:50:20] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 245 seconds)
[08:13:54] *** Joins: Derrick (~Derrick@097-085-185-009.biz.spectrum.com)
[08:14:48] *** Quits: Derrick (~Derrick@097-085-185-009.biz.spectrum.com) (Client Quit)
[08:19:20] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Ping timeout: 244 seconds)
[08:20:55] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[08:38:00] *** synapt is now known as nate
[08:39:47] *** nate is now known as Guest3256
[08:40:27] *** Quits: tlacatlc6_ (~tlacatlc6@097-101-132-062.res.spectrum.com) (Quit: Leaving)
[09:01:56] *** Quits: justBull (~justache@user/justache) (Excess Flood)
[09:02:58] *** Joins: justBull (~justache@user/justache)
[09:08:10] *** Quits: HarveyPwca (~HarveyPwc@2601:246:c180:a570:29df:3b00:ad0e:3a06) (Quit: Leaving)
[09:14:07] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[09:16:41] *** Joins: fling (~fling@user/fling)
[09:42:27] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[10:07:48] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[10:13:03] *** Joins: escherial (~escherial@lfbn-gre-1-109-86.w92-157.abo.wanadoo.fr)
[10:13:03] <escherial> ／！\ THІЅ CНᎪΝΝΕᏞ НΑS ⅯOⅤЕD ТO IᎡC．LⅠΒEᏒΑ.ϹHAT ＃HAMᏒAᗪIΟ /ǃ⧹
[10:13:03] <escherial> ／!＼ ΤᎻE ᒍᎬᎳS HΑᏙΕ TAΚEΝ OVER FᏒΕΕNODEᛧ ᏟᕼAТᏚ ΗAᏙE ϺΟᏙᎬD TO IᖇC．ᏞΙᏴERA．ϹHAΤ /！\
[10:13:05] *** Quits: escherial (~escherial@lfbn-gre-1-109-86.w92-157.abo.wanadoo.fr) (K-Lined)
[10:18:58] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[10:26:51] *** Joins: linjie (~linjie@58.247.210.251)
[10:31:33] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 272 seconds)
[10:36:43] *** Joins: ivanich (~ivanich@host-176-36-233-131.b024.la.net.ua)
[10:37:58] *** Joins: prtty-gltch (~pretty-gl@ip68-231-102-116.ph.ph.cox.net)
[10:50:37] *** Quits: prtty-gltch (~pretty-gl@ip68-231-102-116.ph.ph.cox.net) (Quit: Leaving)
[11:01:09] *** Joins: amahl (~amahl@dxv5skyhc49fswhfjlcpy-3.rev.dnainternet.fi)
[11:10:58] *** Quits: zmt00 (~zmt00@user/zmt00) (Quit: Gone.)
[11:12:57] *** Joins: itok (sid418430@id-418430.charlton.irccloud.com)
[11:58:02] *** Joins: gloomy_desktop (~ldorigo@81.161.149.37)
[11:59:53] *** Quits: ivanich (~ivanich@host-176-36-233-131.b024.la.net.ua) (Quit: Konversation terminated!)
[12:00:35] *** Joins: ivanich (~ivanich@host-176-36-233-131.b024.la.net.ua)
[12:02:48] *** Guest3256 is now known as synapt
[12:03:04] *** Quits: ivanich (~ivanich@host-176-36-233-131.b024.la.net.ua) (Remote host closed the connection)
[12:04:22] *** Joins: ivanich (~ivanich@host-176-36-233-131.b024.la.net.ua)
[12:11:37] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 272 seconds)
[12:12:42] *** Quits: amahl (~amahl@dxv5skyhc49fswhfjlcpy-3.rev.dnainternet.fi) (Remote host closed the connection)
[12:25:09] *** Joins: zoop (~zoop@c-73-11-27-64.hsd1.or.comcast.net)
[12:26:51] *** Joins: Vonter (~Vonter@user/vonter)
[12:28:48] *** Joins: vdthi (~vdthi@dynamic-078-054-066-106.78.54.pool.telefonica.de)
[12:30:55] <zoop> I'm trying to convert an h.264 4:4:4 lossless to dnxhd and it's not going well. I've looked at the supported scale/framerate/bitrate/colorspace combos and even tried dnxhr profiles and nothing. The input is 1920x1080 Nvidia NVENC and seems to have a variable framerate (59.47 avg) if that matters.
[12:30:55] <zoop>  Windows 10, version listed as n4.4-19-g8d172d9409
[12:31:12] <zoop> most recent attempt was
[12:31:13] <zoop> ffmpeg -i .\input.mp4 -c:v dnxhd -b:v 440M -r 60000/1001 -pix_fmt yuv422p -c:a pcm_s16le output.mov
[12:31:25] <zoop> But I've tried a lot of combos
[12:31:37] <zoop> Always end up with "Unable to find a suitable output format for 'dnxhd'"
[12:31:47] <zoop> then "dnxhd: Invalid argument"
[12:32:36] <furq> did you try without the .\
[12:32:53] <zoop> No difference
[12:33:07] <zoop> As in yes, the error message is the same
[12:33:38] <kepstin> would be good to see the complete output, since there's normally some logs that indicate the real problem before that error message
[12:33:46] <furq> yeah pastebin the full output somewhere
[12:34:07] <furq> that error message suggests the command line is getting mangled somehow
[12:35:02] <zoop> https://pastebin.com/MUPwCT1y
[12:36:20] <furq> "Unable to find a suitable output format" normally means that dnxhd is being interpreted as an output filename
[12:36:33] <furq> instead of as an argument to -c:v
[12:37:09] <zoop> hmm
[12:37:16] <furq> maybe some weird special characters in the command line or something like that
[12:37:42] *** Quits: Kodsama (~kodsama@84-217-46-206.customers.ownit.se) (Quit: The Lounge - https://thelounge.chat)
[12:38:15] <zoop> hmm, my IME isn't on so it's not that. I also typed things out longhand so it shouldn't be any special characters. Does ffmpeg have any known issues running in powershell or require any special characters?
[12:38:36] <furq> not that i know of but i normally run it in wsl or msys on windows
[12:38:37] *** Joins: Kodsama (~kodsama@84-217-46-206.customers.ownit.se)
[12:39:03] <furq> if you typed it out yourself and removing backslashes doesn't help then i have no idea
[12:39:26] <zoop> Well that was it, it works in cmd *shrug*
[12:39:30] <furq> weird
[12:39:50] <zoop> Thanks, I probably wouldn't have figured that out on my own
[12:40:09] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[12:40:12] <zoop> But I literally copy+pasted from powershell to cmd and it worked so it was definitely something there
[12:41:00] <zoop> BTW will converting from VFR to a slightly higher CFR cause an audio desync or should it be fine?
[12:41:31] *** Joins: sr20det (~sr20det@gateway/tor-sasl/sr20det)
[12:41:40] <furq> it should be fine
[12:41:50] <zoop> Okay, thanks!
[12:43:13] *** Quits: zoop (~zoop@c-73-11-27-64.hsd1.or.comcast.net) (Quit: Connection closed)
[12:48:03] *** Joins: Blacker47 (~Blacker47@user/blacker47)
[13:17:09] *** Joins: Nact (~l@host-85-27-120-155.dynamic.voo.be)
[13:23:11] *** Joins: user282069 (user@2a01:7e00::f03c:92ff:fe7f:456d)
[13:32:21] *** Joins: der_richter (~Akemi@p2e580815.dip0.t-ipconnect.de)
[13:33:54] *** Quits: user282069 (user@2a01:7e00::f03c:92ff:fe7f:456d) (Ping timeout: 265 seconds)
[13:47:53] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[14:01:54] *** Joins: fkaa (~fkaa@81-226-20-99-no256.tbcn.telia.com)
[14:28:25] *** Joins: linjie (~linjie@58.247.210.251)
[14:33:30] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 272 seconds)
[14:52:08] *** Joins: arash (~arash@5.124.31.250)
[14:53:29] <arash>  I want to edit a mp4 file and replace a beep sound with existing sound in two point. can i do that with ffmpeg ?
[14:54:49] <AMM> Yes, but it's rather convoluted
[14:55:13] <AMM> Easier to dump the audio, audacity it, then encode it and copy the existing video track
[14:56:06] <arash> AMM, can you tell me how can i do step 1 and 3 ? i have no idea how to dump the audio or encode it again
[14:56:40] <AMM> ffmpeg -i video.mkv audio.wav
[14:57:31] <arash> AMM, i'm using windows, is ffmpeg working in windows CMD ?
[14:57:32] <AMM> ffmpeg -an -i video.mp4 -i edited_audio.wav -c:v copy -c:a libopus -b:a 128k new_video.mp4
[15:03:13] <znf> I don't think ffmpeg is the right tool for you
[15:03:56] *** Joins: user282069 (user@2a01:7e00::f03c:92ff:fe7f:456d)
[15:05:01] <arash> znf, why ? because im using windows ?
[15:05:28] <arash> how can i use ffmpeg in windows ? which version do i need to download ? is there any exe file ?
[15:06:07] <znf> no, because of the last question
[15:07:53] <arash> znf, i don't understand, what you mean ?
[15:11:32] <arash> ok, i download package and find ffmpeg.exe, now im in the currect directory using cmd, i think next step is to run command starting with ffmpeg.exe, is this currect ?
[15:11:56] *** Joins: blue_penquin (~blue_penq@gateway/tor-sasl/bluepenquin/x-11613850)
[15:12:00] <znf> I think you're not familiar enough with CLI tools to use ffmpeg.
[15:12:34] <sr20det> hi. what options trade file size with encoding time in native mpeg4 encoder?
[15:12:44] <arash> znf, i think you are wrong, im fimilar with linux commands and also cmd cli and think i can do that
[15:13:04] <znf> ok
[15:14:16] <znf> sr20det, ffmpeg -h encoder=mpeg4
[15:16:06] *** Quits: SpeakerToMeat (~Speaker@user/speakertomeat) (Read error: Connection reset by peer)
[15:17:01] *** Joins: SpeakerToMeat (~Speaker@user/speakertomeat)
[15:17:04] <sr20det> znf: have you read that?
[15:17:08] <arash> AMM, I used ffmpeg -an -i to convert mp4 to wav as you suggested but the wav file is 56 MB while the video file size in only 18 MB, is it normal ?
[15:17:25] <sr20det> there is nothing about nonxvid mpeg4 in man ffmpeg-all
[15:18:59] <znf> You said "native mpeg4 encoder"
[15:20:02] <sr20det> yes
[15:22:27] <sr20det> there is http://ffmpeg.org/ffmpeg-all.html#libxvid  but no http://ffmpeg.org/ffmpeg-all.html#mpeg4
[15:23:14] *** Joins: mickey (~user@user/mickey)
[15:23:24] <JEEB> that just means that nobody wrote the doc for it
[15:23:39] <JEEB> that happens all the time since it's not synchronized to actual built-in modules
[15:24:01] <bencc1_> when I set thread_count=1 in AVCodecContext, does it run in a separate thread or in the same thread as my app?
[15:24:15] <sr20det> do all of  http://ffmpeg.org/ffmpeg-all.html#Codec-Options apply to mpeg4 ?
[15:24:33] <elenril> bencc1_: same thread
[15:24:54] <elenril> there are no extra threads spawned unless thread_count > 1
[15:25:10] <JEEB> sr20det: whichever apply, apply. we don't currently have a mechanism to tell which options from the generic AVCodecContext structure an encoder utilizes or chooses not to utilizes
[15:25:14] <bencc1_> I'll decode 25 video streams and encode to a single stream
[15:25:32] <bencc1_> would I need to manage separate thread per decoder myself?
[15:25:38] <sr20det> JEEB: thanks
[15:25:46] <bencc1_> maybe create a thread pool?
[15:25:47] <JEEB> sr20det: the stuff that pops up under -h encoder=mpeg4 is what that encoder specifically defines
[15:26:03] <JEEB> so none of the global context structure stuff, unfortunately
[15:27:17] <sr20det> JEEB: ye but some of  -h encoder=mpeg4 (e.g. mpv_flags) requires not listed options. like trellis or mbd rd
[15:27:36] <JEEB> yup
[15:32:06] *** Quits: blue_penquin (~blue_penq@gateway/tor-sasl/bluepenquin/x-11613850) ()
[15:32:18] <bencc1_> "thread count is used to decide how many independent tasks should be passed to execute()"
[15:32:33] *** Joins: Pacific_ (~arash@5.124.31.250)
[15:32:34] <bencc1_> isn't there a way to say I want one thread but separate from the main thread?
[15:36:11] *** Quits: arash (~arash@5.124.31.250) (Ping timeout: 272 seconds)
[16:21:22] <kepstin> if you're doing this realtime and are worried about blocking then you should do your own decoder threads - even multithreaded decoders in ffmpeg can still block in in the send_packet/receive_frame apis.
[16:21:49] <kepstin> it's safe to send AVFrame and AVPacket structures between threads, fwiw.
[16:30:33] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[16:36:10] *** Quits: beaver-24h (~loop@user/pong) (Remote host closed the connection)
[16:38:33] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[16:46:38] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[16:46:56] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[16:47:53] *** Joins: Pacific__ (~arash@91.219.212.90)
[16:49:21] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[16:51:33] *** Quits: Pacific_ (~arash@5.124.31.250) (Ping timeout: 252 seconds)
[16:56:18] *** Joins: arash (~arash@5.124.31.250)
[16:58:31] *** Quits: vdthi (~vdthi@dynamic-078-054-066-106.78.54.pool.telefonica.de) (Ping timeout: 272 seconds)
[16:58:42] *** Quits: Pacific__ (~arash@91.219.212.90) (Ping timeout: 252 seconds)
[17:05:18] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 252 seconds)
[17:14:40] *** Joins: Vonter (~Vonter@user/vonter)
[17:16:22] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[17:21:29] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[17:22:33] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 264 seconds)
[17:26:50] *** Joins: beaver-24h (~loop@user/pong)
[17:28:29] *** Joins: Vonter (~Vonter@user/vonter)
[17:49:27] *** Joins: a0z (~a0z@90.244.140.171)
[18:20:02] *** Quits: ivanich (~ivanich@host-176-36-233-131.b024.la.net.ua) (Read error: Connection reset by peer)
[18:26:24] *** Joins: flowy (~flowy@2a01:4f8:c0c:1a8f::1)
[18:30:26] *** Joins: linjie (~linjie@58.247.210.251)
[18:34:57] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 252 seconds)
[18:41:38] *** apteryx_ is now known as apteryx
[18:58:40] *** Quits: beaver-24h (~loop@user/pong) (Remote host closed the connection)
[18:59:40] *** Joins: adanwan_ (~adanwan@gateway/tor-sasl/adanwan)
[19:00:04] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Ping timeout: 252 seconds)
[19:01:43] *** Joins: beaver-24h (~loop@user/pong)
[19:01:49] *** Quits: Nact (~l@host-85-27-120-155.dynamic.voo.be) (Quit: Konversation terminated!)
[19:03:03] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[19:03:24] *** Quits: lexano (~lexano@2607:fea8:5bc0:12:12c3:7bff:fe95:9fc1) (Quit: Leaving)
[19:03:58] *** Joins: Enverex (~Enverex@213.31.254.159)
[19:04:52] <Enverex> When using volumedetect, is the result the sum of all channels, or are the values referring to the loudest channel? (I'm guessing the former but want to be sure).
[19:09:11] <JEEB> if the docs don't tell, you'll have to check the source code
[19:10:44] *** Joins: arcatech (~arcatech@user/arcatech)
[19:34:17] *** Joins: tlacatlc6 (~tlacatlc6@097-101-132-062.res.spectrum.com)
[19:46:42] *** Quits: Enverex (~Enverex@213.31.254.159) (Quit: Connection closed)
[20:09:17] *** Joins: fannagoganna (uid110488@id-110488.tinside.irccloud.com)
[20:17:04] *** Quits: sr20det (~sr20det@gateway/tor-sasl/sr20det) (Ping timeout: 252 seconds)
[20:18:32] <bencc1_> kepstin: not doing this realtime. just trying to avoid managing my own threads if not necessary
[20:19:35] <bencc1_> kepstin: would you create a thread pool or separate thread per decoder?
[20:20:15] <bencc1_> if I have 25 video decoders, maybe 25 threads is too much. not sure what machine it will run on
[20:20:47] <Atsuko> i have a video that needs an audio sync fix of negative 370ms
[20:21:10] <Atsuko> normally i just fix this when muxing with mkvmerge, but is there someway to encode it with ffmpeg
[20:21:14] <Atsuko> and add the delay
[20:21:18] <kepstin> bencc1_: don't use a thread pool - it's not safe to use a decoder context from a different thread than the one it was created in
[20:22:05] <bencc1_> ok. so I'll need to create a thread per video stream and tell this thread to create its own decoder?
[20:22:27] <kepstin> that would be ideal, yeah.
[20:22:50] *** Joins: zmt00 (~zmt00@user/zmt00)
[20:23:03] <kepstin> note that the ffmpeg cli tool doesn't do this, it just runs all the decoders in the main thread (which does sometimes cause bottlenecks)
[20:24:36] <JEEB> I think it does handle separate inputs somewhat separately if I recall correctly, although I'm not 100% sure
[20:24:42] <JEEB> but yes, it has a general loop
[20:24:42] <bencc1_> doesn't the cli create optimal number of threads based on your machine?
[20:24:51] <JEEB> that's for the contexts
[20:25:18] <JEEB> I think input reading might be threaded now, too
[20:25:18] <bencc1_> I don't need it to be super optimal. simplicity is more important
[20:25:26] <JEEB> (in ffmpeg.c)
[20:25:44] <bencc1_> but if I won't create a thread per input stream won't I just use a single thread/core?
[20:26:02] *** Joins: sr20det (~sr20det@gateway/tor-sasl/sr20det)
[20:26:20] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[20:26:33] <JEEB> process_input in fftools/ffmpeg.c ... man, I've poked this stuff too much for my own health :P
[20:26:54] <kepstin> individual decoders can use multiple threads in some cases, and depending what else you're doing, decoding might be fast enough even single threaded to not really matter.
[20:27:05] <kepstin> (encoding's a lot slower than decoding in most cases)
[20:27:17] <JEEB> ah yes, transcode_step is the overall loop
[20:27:22] <JEEB> then that calls process input
[20:27:46] <JEEB> or actually transcode->transcode_step->process_input
[20:27:54] * JEEB closes ffmpeg.c
[20:27:56] <JEEB> it's sunday
[20:28:29] <bencc1_> so maybe it's better for me to not use threads for decoders and only optimize the encoder with higher thread_count?
[20:29:43] <kepstin> hard to say. depends on the particular inputs and hardware you have :/
[20:30:47] <bencc1_> ok
[20:34:47] <Atsuko> ffmpeg -i video.ts -itsoffset -370 -i audio.aac -vcodec libx264 -acodec aac out.mp4
[20:35:04] <Atsuko> this is correct way to add 370ms delay to audio? because the output will not play
[20:35:44] <JEEB> I think itsoffset will get ignored with mpeg-ts
[20:36:05] <JEEB> ah the itsoffset is regarding the AAC file
[20:36:18] <Atsuko> yeah, audio is 370ms ahead of the video
[20:36:55] <JEEB> then it (itsoffset) should work, it's just with discontinuous formats like mpeg-ts ffmpeg.c will fail to apply since it's packed together with discontinuity handling for some reason
[20:37:06] <JEEB> Atsuko: check that the streams are getting picked correctly
[20:43:11] <Atsuko> thx i got it working
[20:43:16] *** Quits: arash (~arash@5.124.31.250) (Read error: Connection reset by peer)
[20:43:37] <Atsuko> -370 was 370 seconds not 370ms so i did -0.37 and it works
[20:43:50] *** Joins: arash (~arash@5.124.31.250)
[20:43:58] <JEEB> righ, yes :)
[20:44:08] <JEEB> *right
[21:01:22] *** Quits: TanoMarcelo (~TanoMarce@179.63.242.126) (Quit: WeeChat 3.1)
[21:02:25] *** Joins: Atsuko_ (~x@vm15.serversite.dk)
[21:04:33] *** Quits: Atsuko (~x@vm15.serversite.dk) (Ping timeout: 264 seconds)
[21:12:26] *** Joins: mthall (~quassel@2a01:4f9:4a:2f4d:ecb0:6aff:fed2:c9a1)
[21:17:36] *** Quits: mthall (~quassel@2a01:4f9:4a:2f4d:ecb0:6aff:fed2:c9a1) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[21:18:42] *** Joins: mthall (~quassel@2a01:4f9:4a:2f4d:ecb0:6aff:fed2:c9a1)
[21:19:27] *** Quits: mthall (~quassel@2a01:4f9:4a:2f4d:ecb0:6aff:fed2:c9a1) (Client Quit)
[21:19:47] *** Joins: mthall (~quassel@2a01:4f9:4a:2f4d:ecb0:6aff:fed2:c9a1)
[21:22:01] *** Joins: TanoMarcelo (~TanoMarce@179.63.242.126)
[21:25:04] *** another is now known as another|
[21:42:10] *** Joins: Narrat (~omnius@p200300df5f016ecf06ea56fffe2e7cdc.dip0.t-ipconnect.de)
[21:57:28] *** fjmorazan_ is now known as fjmorazan
[22:18:22] *** Joins: lexano (~lexano@2607:fea8:5bc0:12:12c3:7bff:fe95:9fc1)
[22:18:45] *** Joins: linjie (~linjie@58.247.210.251)
[22:23:15] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 245 seconds)
[22:31:49] *** Quits: garfvl (~root@ns530260.ip-149-56-24.net) (Remote host closed the connection)
[22:32:11] *** Joins: garfvl (~root@ns530260.ip-149-56-24.net)
[22:33:52] *** Quits: garfvl (~root@ns530260.ip-149-56-24.net) (Remote host closed the connection)
[22:34:15] *** Joins: garfvl (~root@ns530260.ip-149-56-24.net)
[22:38:34] *** Joins: Pacific_ (~arash@91.219.212.91)
[22:42:27] *** Quits: arash (~arash@5.124.31.250) (Ping timeout: 252 seconds)
[22:43:12] *** Joins: Pacific__ (~arash@5.124.31.250)
[22:46:35] *** Quits: Pacific_ (~arash@91.219.212.91) (Ping timeout: 245 seconds)
[22:49:46] *** Joins: TheAMM (~AMM@user/amm)
[22:52:17] *** Quits: TheAMM (~AMM@user/amm) (Client Quit)
[22:52:37] *** Joins: TheAMM (~AMM@user/amm)
[22:52:50] *** Quits: AMM (~AMM@user/amm) (Ping timeout: 245 seconds)
[22:55:11] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[22:59:18] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[23:03:41] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 245 seconds)
[23:17:59] *** Joins: Vonter (~Vonter@user/vonter)
[23:34:38] <bencc1_> for mixing several audio inputs I should use libswresample?
[23:35:11] <bencc1_> the inputs will change dynamically so I can start with 3 sources, add 1 source, rmeove 2...
[23:43:09] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 268 seconds)
[23:44:29] *** Joins: waleee (~waleee@h-98-128-228-119.NA.cust.bahnhof.se)
[23:44:50] *** Quits: tp (~tp@vmi364498.contaboserver.net) (Quit: WeeChat 3.1)
[23:56:34] *** Joins: tp (~tp@vmi364498.contaboserver.net)
