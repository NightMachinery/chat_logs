[00:00:32] *** Quits: epony (epony@user/epony) (Ping timeout: 240 seconds)
[00:10:41] *** Quits: ralu (~ralu@static.211.245.203.116.clients.your-server.de) (Ping timeout: 252 seconds)
[00:13:47] *** Joins: gentauro (~gentauro@user/gentauro)
[00:17:07] *** Quits: mro (~mro@2002:5cc3:bd31:0:e053:2ff1:a431:c742) (Quit: Leaving...)
[00:21:06] *** Quits: gravicappa (~gravicapp@178.214.247.211) (Ping timeout: 250 seconds)
[00:38:27] *** Joins: rgrinberg (~textual@2806:101e:7:5da4:78e1:cebc:1afc:516f)
[00:47:59] <d_bot> <josÃ©> ðŸ‘‹ i'm experiencing couple of issues with tuareg, where would be the best place to seek for help?
[00:57:56] <d_bot> <Butanium (@me on answer)> I'd say discuss.ocaml.org or opening an issue on github
[00:58:00] <d_bot> <Butanium (@me on answer)> But idk tuareg at all
[01:00:31] *** Joins: vicfred_ (~vicfred@user/vicfred)
[01:03:10] *** Quits: vicfred (~vicfred@user/vicfred) (Ping timeout: 260 seconds)
[01:17:40] <d_bot> <josÃ©> okay, thanks!
[01:30:45] *** Joins: ralu (~ralu@static.211.245.203.116.clients.your-server.de)
[01:53:41] *** Joins: epony (epony@user/epony)
[01:54:00] *** Joins: bobo (~bobo@37.164.55.18)
[01:54:12] *** Quits: spip (~bobo@37.170.11.148) (Ping timeout: 256 seconds)
[02:01:20] *** Joins: Anarchos (~Anarchos@88.168.112.216)
[02:01:53] *** Quits: zebrag (~chris@user/zebrag) (Ping timeout: 256 seconds)
[02:02:37] *** Quits: Serpent7776 (~Serpent77@90-156-31-193.internetia.net.pl) (Quit: leaving)
[02:09:00] *** Quits: vicfred_ (~vicfred@user/vicfred) (Quit: Leaving)
[02:09:39] *** Quits: Anarchos (~Anarchos@88.168.112.216) (Quit: Vision[]: i've been blurred!)
[02:12:44] *** Quits: rgrinberg (~textual@2806:101e:7:5da4:78e1:cebc:1afc:516f) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[02:27:15] *** Joins: azimut_ (~azimut@gateway/tor-sasl/azimut)
[02:31:24] *** Quits: azimut (~azimut@gateway/tor-sasl/azimut) (Ping timeout: 276 seconds)
[02:51:35] *** Quits: azimut_ (~azimut@gateway/tor-sasl/azimut) (Remote host closed the connection)
[02:51:50] *** Joins: azimut (~azimut@gateway/tor-sasl/azimut)
[03:05:26] <energizer> when i read about pattern matching i see it's a replacement for ifs and predicate functions. i'm wondering how general it is. is there something for using a bool-returning function as a predicate? or is that a bad idea?
[03:15:01] <energizer> for example, `let is_digit = function '0' .. '9' -> true | _ -> false` Can is_digit be used as a pattern?
[03:15:22] <companion_cube> no, it cannot
[03:15:29] <companion_cube> only in a `when is_digit c` guard
[03:17:46] <energizer> ok
[03:25:25] <dh`> energizer: it's specifically about enumerated/sum types
[03:25:56] <energizer> where it=pattern matching ?
[03:26:06] <dh`> yes
[03:26:11] <dh`> so you have type emulsion = OIL of 'a | WATER of 'b
[03:26:17] <dh`> you have a value x of type emulsion
[03:26:36] <dh`> you write match x with | OIL xa -> stuff about xa | WATER xb -> stuff about xb
[03:26:53] <dh`> that's all it's for, but that turns out to be a lot
[03:27:12] <dh`> (well, that and you can also match on string constants, which is not quite the same thing but ultimately pretty similar)
[03:27:34] <energizer> you can't match on number literals?
[03:27:39] <dh`> oh, yes you can
[03:27:45] <dh`> just rarely comes up
[03:27:53] <d_bot> <NULL> Basically, patterns aren't inlined at all
[03:28:33] <dh`> you can also match on bools
[03:28:52] <d_bot> <NULL> So they have to be syntactically what you want
[03:31:14] <energizer> naively it seems convenient to say `match x with | isprime? -> 1 | _ -> 2`
[03:32:25] <energizer> i guess that's the same as `| y when isprime y -> 1`
[03:33:16] <energizer> a bit verbose tho since it's not pointfree and needs ` when `
[03:39:29] <d_bot> <NULL> That's why `if` is still useful
[03:40:40] <dh`> yeah, you can't do that and it's not meant to do that
[03:41:10] <companion_cube> energizer: match isprime x with true -> ... | false -> ...
[03:41:55] <dh`> you can write type primeness = Prime | Composite, fun check_prime: int -> primeness, and then do match check_prime n with | Prime ... | Composite ...
[03:42:04] <dh`> but usually that's just excess verbiage
[03:46:45] <dh`> bool is often sufficient, option tends to be sufficient for most cases bool isn't, and sometime ocaml will get a native "either"
[04:13:17] *** Joins: zebrag (~chris@user/zebrag)
[04:14:14] *** Quits: Techcable (~Techcable@168.235.93.147) (Ping timeout: 250 seconds)
[04:54:40] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[05:01:02] <d_bot> <NULL> Module `Either` and its type `('a, 'b) t = Left of 'a | Right of 'b` already exist
[05:07:12] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[05:10:08] *** Joins: Techcable (~Techcable@168.235.93.147)
[05:46:40] *** Joins: rgrinberg (~textual@2806:101e:7:5da4:40cc:1ea:3f3e:c959)
[05:52:36] *** Quits: gentauro (~gentauro@user/gentauro) (Read error: Connection reset by peer)
[05:57:33] *** Joins: gentauro (~gentauro@user/gentauro)
[06:32:45] *** Quits: chrisz (eqrl5iifre@55d412c8.access.ecotel.net) (Ping timeout: 256 seconds)
[06:34:30] *** Joins: chrisz (u194qhomkl@55d49b74.access.ecotel.net)
[07:10:43] *** Quits: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se) (Ping timeout: 256 seconds)
[07:14:49] *** Quits: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1) (Quit: The Lounge - https://thelounge.chat)
[07:16:52] *** Joins: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1)
[07:33:55] <d_bot> <concatime> Hi folks. I'm a package maintainer and I'm trying to bootstrap a full-build of dune.
[07:34:31] <d_bot> <concatime> That being said, I dont't understand why `OCAMLPATH` is not picked by the bootstrapped dune!
[07:34:47] <d_bot> <concatime> You can see what I mean in this CI: https://builds.sr.ht/~iemaghni/job/694055
[07:55:26] <rgrinberg> No idea. What if you don't set the profile?
[07:58:00] <d_bot> <concatime> The manifest is pretty straight forward: https://builds.sr.ht/api/jobs/694062/manifest
[07:58:00] <d_bot> <concatime> ? AFAIK, I'm not setting any profile
[07:58:43] <d_bot> <NULL> (Answers aren't reported to IRC, just so you know)
[07:59:06] <rgrinberg> This line: --profile=dune-bootstrap
[08:00:39] <d_bot> <concatime> Ah, mabad. Nop: https://builds.sr.ht/~iemaghni/job/694065
[08:30:55] *** Quits: motherfsck (~motherfsc@user/motherfsck) (Quit: quit)
[08:36:47] *** Quits: tizoc (~user@li296-221.members.linode.com) (Quit: Coyote finally caught me)
[08:43:25] *** Joins: tizoc (~user@li296-221.members.linode.com)
[08:51:18] <d_bot> <concatime> Okay, I just discovered that v2.9.3 works, but not 3.0.
[08:52:08] <d_bot> <concatime> But from https://dune.build/blog/dune-3-plan/ :
[08:52:08] <d_bot> <concatime> > Dune will however continue to use the OCAMLPATH variable
[08:55:37] *** Joins: wingsorc (~wingsorc@user/wingsorc)
[09:13:35] <rgrinberg> Seems like a bug. I'd report it
[09:20:36] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[09:22:13] *** Quits: rgrinberg (~textual@2806:101e:7:5da4:40cc:1ea:3f3e:c959) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[11:07:31] <d_bot> <Kakadu> I'm using dune with cram tests. I compile a few executables for this cram tests, and I don't want to install them. How dune decides which projects do these executables belong? It looks like I can't use `(package ...)` stanze, because it is about installation.
[11:09:47] *** Joins: shawnw (~shawn_w@c-73-225-121-73.hsd1.wa.comcast.net)
[12:09:04] *** Joins: mro (~mro@port-92-195-244-123.dynamic.as20676.net)
[12:12:36] *** Quits: mro (~mro@port-92-195-244-123.dynamic.as20676.net) (Remote host closed the connection)
[12:47:30] *** Joins: Tuplanolla (~Tuplanoll@91-159-69-98.elisa-laajakaista.fi)
[12:59:25] <d_bot> <darrenldl> i think via `public_name`? though i dont remember if you can bundle multiple binaries under the same public_name, but it'd seem unusual
[13:02:04] <d_bot> <Kakadu> I don't want to install them. So public_name should be wrong
[13:05:27] <adrien> what's the best way to try Eio?
[13:11:09] <adrien> well, I guess I'll stick to what's mentioned in its README.md because it's indeed probably better to avoid ocaml 5 for now :P
[13:19:38] *** Joins: Serpent7776 (~Serpent77@90-156-31-193.internetia.net.pl)
[13:27:30] <d_bot> <Kakadu> I read somewhere that 4.12+domains was recommended
[13:34:08] <adrien> that's what I went for; I'll see later on if I want to change that
[13:37:07] *** Joins: mro (~mro@port-92-195-244-123.dynamic.as20676.net)
[13:43:54] <d_bot> <darrenldl> @Kakadu when you said you dont want to install them, did you mean you have a main project code and you only want to install that?
[13:49:19] *** Quits: mro (~mro@port-92-195-244-123.dynamic.as20676.net) (Remote host closed the connection)
[13:49:40] <d_bot> <darrenldl> then i think by not putting the test executables in public_name, they cannot be named during installation and are not installed
[13:54:03] <d_bot> <KW78> you may want to look at https://discuss.ocaml.org/t/eio-0-1-effects-based-direct-style-io-for-ocaml-5/9298/16
[13:54:03] <d_bot> <KW78> > Iâ€™ve also been working on a multicore monorepo 2 that uses the opam-monorepo tool 1 to provide a quick way to get up and running with OCaml 5.00.0+trunk and some of the experiments and libraries in awesome-multicore-ocaml 2 (e.g. the direct-style dream that uses lwt_eio). The idea being you should only need to:
[13:54:15] *** Joins: spip (~bobo@37.166.205.136)
[13:54:31] *** Quits: bobo (~bobo@37.164.55.18) (Ping timeout: 256 seconds)
[14:13:16] *** Joins: mro (~mro@2002:5cc3:f47b:0:80d4:a0c8:e1f2:c44d)
[14:19:32] *** Joins: bartholin (~bartholin@109.53.7.90)
[14:51:27] *** Quits: mro (~mro@2002:5cc3:f47b:0:80d4:a0c8:e1f2:c44d) (Remote host closed the connection)
[14:55:39] *** Joins: mro (~mro@2002:5cc3:f47b:0:80d4:a0c8:e1f2:c44d)
[15:05:24] *** Quits: mro (~mro@2002:5cc3:f47b:0:80d4:a0c8:e1f2:c44d) (Remote host closed the connection)
[16:10:22] *** Quits: bartholin (~bartholin@109.53.7.90) (Ping timeout: 260 seconds)
[16:23:49] *** Joins: bartholin (~bartholin@109.53.3.249)
[16:35:28] <ns12> Hello, does Bytes.length have a run time that is independent of the number of bytes given in its argument?
[16:38:40] <octachron> Yes. Bytes.t is essentially the mutable array type specialized for char
[16:41:43] <companion_cube> It's basically free, yes
[16:55:45] *** Joins: gareppa (~gareppa@user/gareppa)
[16:57:42] *** Quits: gareppa (~gareppa@user/gareppa) (Remote host closed the connection)
[16:59:37] <ns12> Thank you.
[17:52:45] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[18:09:30] *** Joins: rgrinberg (~textual@2806:101e:7:5da4:cce5:129b:c2cd:8f44)
[18:10:20] *** Quits: bartholin (~bartholin@109.53.3.249) (Ping timeout: 252 seconds)
[18:15:25] *** Quits: shawnw (~shawn_w@c-73-225-121-73.hsd1.wa.comcast.net) (Ping timeout: 256 seconds)
[18:23:19] *** Quits: xgqt (~xgqt@gentoo/developer/xgqt) (Ping timeout: 250 seconds)
[18:23:59] *** Joins: bartholin (~bartholin@109.53.5.77)
[18:24:26] *** Joins: xgqt (~xgqt@gentoo/developer/xgqt)
[18:28:21] *** Joins: jlrnick (~josephler@2a01cb040a159400593e7a6802b925cf.ipv6.abo.wanadoo.fr)
[18:33:23] *** Joins: mro (~mro@p200300d72f20da00b86a6ba647d011d1.dip0.t-ipconnect.de)
[18:42:51] *** Joins: motherfsck (~motherfsc@user/motherfsck)
[18:45:01] *** Quits: mro (~mro@p200300d72f20da00b86a6ba647d011d1.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[18:45:30] *** Joins: mro (~mro@p548e25c4.dip0.t-ipconnect.de)
[19:00:14] *** Quits: motherfsck (~motherfsc@user/motherfsck) (Ping timeout: 260 seconds)
[19:05:19] <adrien> is there a way to import a file descriptor from Unix into Eio's world?
[19:13:27] *** Joins: motherfsck (~motherfsc@user/motherfsck)
[19:16:00] *** Quits: mro (~mro@p548e25c4.dip0.t-ipconnect.de) (Remote host closed the connection)
[19:16:32] *** Joins: mro (~mro@p548e25c4.dip0.t-ipconnect.de)
[19:27:09] *** Quits: mro (~mro@p548e25c4.dip0.t-ipconnect.de) (Remote host closed the connection)
[19:38:22] *** Quits: rgrinberg (~textual@2806:101e:7:5da4:cce5:129b:c2cd:8f44) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[20:09:57] *** Quits: bartholin (~bartholin@109.53.5.77) (Ping timeout: 240 seconds)
[20:20:17] *** Quits: jlrnick (~josephler@2a01cb040a159400593e7a6802b925cf.ipv6.abo.wanadoo.fr) (Ping timeout: 240 seconds)
[20:23:29] *** Quits: hyphen (~hyphen@41.35.174.26) (Ping timeout: 256 seconds)
[20:25:20] *** Joins: hyphen (~hyphen@102.42.38.91)
[20:51:01] *** Joins: mro (~mro@p548e25c4.dip0.t-ipconnect.de)
[20:57:20] *** Quits: mro (~mro@p548e25c4.dip0.t-ipconnect.de) (Remote host closed the connection)
[21:04:50] *** Quits: wingsorc (~wingsorc@user/wingsorc) (Quit: Leaving)
[21:10:47] *** Joins: gravicappa (~gravicapp@178.214.250.113)
[21:14:05] *** Joins: bartholin (~bartholin@158.110.71.2)
[21:17:41] *** Quits: hyphen (~hyphen@102.42.38.91) (Read error: Connection reset by peer)
[21:21:36] *** Joins: hyphen (~hyphen@41.40.161.123)
[21:24:19] *** Quits: motherfsck (~motherfsc@user/motherfsck) (Quit: quit)
[21:33:56] <d_bot> <VPhantom> Speaking of I/O, I'm finally getting to that point in my journey. For reading files, I'm mostly interested in `Unix.mmap_file` and some day perhaps a `Lwt` equivalent. What would be an efficient way to read all of `Unix.stdin` into a bigstring so that I'd get the same structure to read from as `Unix.mmap_file`? Just a good old loop of `Unix.read` into a manually-growing bigstring?
[21:34:42] <d_bot> <VPhantom> (I'd read directly from stdin but I need to "rewind" a bit sometimes, which stdio isn't suitable for AFAIK.)
[21:37:00] <d_bot> <VPhantom> Hm, actually loading the file into `bytes` would work just as well, I can read from both types.
[21:37:05] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[21:45:19] *** Joins: rgrinberg (~textual@2806:101e:7:8d5d:1da0:53e3:2ba5:4fbf)
[21:48:41] *** Quits: bartholin (~bartholin@158.110.71.2) (Ping timeout: 245 seconds)
[22:01:11] *** Joins: bartholin (~bartholin@158.110.71.2)
[22:27:02] *** Quits: bartholin (~bartholin@158.110.71.2) (Ping timeout: 272 seconds)
[22:32:07] *** Joins: bartholin (~bartholin@158.110.71.2)
[22:45:24] *** Quits: gravicappa (~gravicapp@178.214.250.113) (Ping timeout: 256 seconds)
[23:04:59] *** Quits: bartholin (~bartholin@158.110.71.2) (Ping timeout: 256 seconds)
[23:10:54] *** Quits: hyphen (~hyphen@41.40.161.123) (Ping timeout: 256 seconds)
[23:12:42] *** Joins: hyphen (~hyphen@41.40.168.24)
[23:16:44] *** Joins: bartholin (~bartholin@158.110.71.2)
[23:26:07] *** Joins: mro (~mro@p200300d72f20da00bd7ee27853ae7614.dip0.t-ipconnect.de)
[23:30:26] *** Quits: mro (~mro@p200300d72f20da00bd7ee27853ae7614.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[23:47:56] *** Joins: bobo (~bobo@37.166.205.136)
[23:48:04] *** Quits: rgrinberg (~textual@2806:101e:7:8d5d:1da0:53e3:2ba5:4fbf) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[23:48:08] *** Quits: spip (~bobo@37.166.205.136) (Ping timeout: 250 seconds)
[23:53:08] <d_bot> <hcarty> @VPhantom It depends on what you're trying to read. Last time I looked - which was a long while ago! - mmap didn't work well with Lwt because it doesn't have a way to perform non-blocking reads and writes
[23:53:20] <d_bot> <hcarty> What kind of values are you trying to manipulate?
[23:54:56] <d_bot> <VPhantom> I'm learning in general but short-term I'm going to read and write files in a few formats which I'm converting between (namely ANSI EDI X12 and a custom Protobuf structure).
[23:56:03] <d_bot> <VPhantom> I'll avoid stdio for now and just operate directly on files. I don't use Lwt for now so I intend to mmap for reading. For writing, I just need to create a file and append data to it so channels or file descriptors will be fine.
[23:57:41] <d_bot> <VPhantom> I'll want to figure out how to load files in memory eventually though, because that's very likely going to be needed down the road. (Template files and what not.) I hadn't looked at `Lwt_bytes` and `Lwt_io` closely yet; didn't think mmap for reading would be an issue there.
