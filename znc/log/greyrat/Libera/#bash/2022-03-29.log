[00:00:00] <xmb> never fixed
[00:00:02] <xmb> never helped
[00:00:12] <xmb> oh correctness
[00:00:14] <xmb> sorry
[00:00:15] <xmb> i misread
[00:00:20] <xmb> no i care man
[00:00:49] <xmb> its just, i have some years more here than you, and its to me 100 % normal to overtake with so named 'uncomprehandable' code that just fits the purpose instead of
[00:01:08] <xmb> so still soli, make a filename to test, $( echo foo ) or so
[00:01:11] *** Joins: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[00:02:17] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[00:02:34] *** Joins: fling (~fling@user/fling)
[00:02:38] <xmb> soli
[00:03:18] <Soliton> yes, test every permutation. that is how you get code correct.
[00:03:39] <xmb> well proov now your pro bash leetish claim that @Q doesnt work
[00:03:45] <xmb> u claimed, now gimme filename to test
[00:03:49] <xmb> or, take it back
[00:03:55] <xmb> along all the other invalid lying insults
[00:04:02] <Soliton> dude, you already gave an example yourself...
[00:04:13] <xmb> hm
[00:04:27] *** Quits: Tangent-Man (~Tang3nt-M@213.205.240.3) (Ping timeout: 260 seconds)
[00:04:30] <xmb> c_89 can u try with '$( echo foo )' filename ?
[00:04:34] <Soliton> also trivial to think what could possibly happen to double quotes mindlessly placed around an arbitrary string...
[00:04:50] <xmb> dude i write 100 % ( or aim to ) valid code
[00:04:56] *** Joins: lilo_booter (~charlie@ptr-1dvvljkuufrveogxrsh.18120a2.ip6.access.telenet.be)
[00:05:01] <xmb> not imagine wrong ness that kind that never exists cause ... i dont do it
[00:05:13] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 246 seconds)
[00:05:18] <c_89> xmb I did not understand
[00:06:02] <xmb> we had a discussion about security of my code, ...
[00:06:02] *** Joins: zeden (~zeden@user/zeden)
[00:06:10] <xmb> you, ./run_me_script '$( echo foo )'
[00:06:14] <xmb> exactly so
[00:06:26] <xmb> and say if it echoes '$( echo foo )' right
[00:06:35] <Soliton> # input_file=foo\"; sh -c "bash -c \"my_function ${input_file@Q}\""
[00:06:36] <shbot> Soliton: sh: 1: Syntax error: Unterminated quoted string
[00:07:05] *** Quits: lilo_booter (~charlie@ptr-1dvvljkuufrveogxrsh.18120a2.ip6.access.telenet.be) (Client Quit)
[00:07:16] <xmb> k thankkk yoouuu now i can fixx
[00:07:38] <ormaaj> This is kind of a "template" problem that I haven't found a great solution for. If you want to invoke the shell in interactive mode while sourcing all your normal rcfiles while amending something. BASH_ENV might be the best way?
[00:08:02] *** Joins: Tangent-Man (~Tang3nt-M@92.40.179.120.threembb.co.uk)
[00:08:04] <Soliton> that is why it'd be better to use a terminal (option) that does not force another shell on you.
[00:08:34] <Soliton> usually with terminals -e or -x is sane. no idea about xfce4-terminal.
[00:08:51] <xmb> what means 'amending' ?
[00:09:26] <Soliton> (and once you find a sane terminal you don't need to inject to begin with.)
[00:09:32] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[00:11:04] *** Quits: dreamon (~dreamon@p54b14e61.dip0.t-ipconnect.de) (Remote host closed the connection)
[00:11:10] <Soliton> also a sane approach would be to export the input file variable.
[00:12:13] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 240 seconds)
[00:13:06] *** Quits: han-solo (~han-solo@user/han-solo) (Quit: leaving)
[00:13:17] <xmb> shit soli thats hard to overcome
[00:13:40] <xmb> but its a big common issue, ill have fixed with a solution till few days i expect
[00:13:59] <xmb> i am in needs of encapsulation code, but i fail at level2+ quotes for "
[00:14:02] <xmb> escapes* for "
[00:14:29] <ormaaj> passing the file name isn't really the hard part
[00:15:27] *** Joins: HardWall (~NeckLek@89.137.113.39)
[00:15:28] <c_89> xmb is a simple script https://pastebin.com/eb3P6zQ1
[00:15:28] <pasteban> Paste is available without ads on https://pastebin.com/raw/eb3P6zQ1
[00:15:35] <xmb> # i=foo\"; printf -v i %q "$i" ; sh -c "bash -c 'printf %s\\\\n $i'"
[00:15:36] <shbot> xmb: foo"
[00:15:55] <xmb> i got changes in the code lemme inmplent for you
[00:17:18] <larryv> # i=foo\'; printf -v i %q "$i" ; sh -c "bash -c 'printf %s\\\\n $i'"
[00:17:19] <shbot> larryv: sh: 1: Syntax error: Unterminated quoted string
[00:17:23] <larryv> oops
[00:18:05] <xmb> hmm
[00:18:11] *** Quits: [diablo] (~diablo]@user/diablo/x-9068044) (Quit: The Lounge - https://thelounge.chat)
[00:18:32] *** Parts: sh4 (~sh4@user/sh4) (Leaving)
[00:18:40] <xmb> # i=foo\"\'; printf -v i %q "$i" ; sh -c "bash -c 'printf %s\\\\n ${i@Q}'"
[00:18:41] <shbot> xmb: sh: 1: Syntax error: Unterminated quoted string
[00:18:48] <xmb> yea life is hard
[00:18:53] <xmb> so hm
[00:18:54] *** Joins: [diablo] (~diablo]@user/diablo/x-9068044)
[00:18:56] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 260 seconds)
[00:19:12] <xmb> maybe try..
[00:19:30] <Soliton> yes, continue to try. it worked so well so far.
[00:19:38] *** Quits: N4buc0_ (~N4buc0@189.115.86.130) (Remote host closed the connection)
[00:19:42] <Soliton> you need to actually understand what's going on to fix it.
[00:20:22] <Soliton> but easier to just not do double injection since there is no reason to.
[00:20:44] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[00:20:51] *** Joins: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de)
[00:21:07] <xmb> what about this way:   http://0x0.st/oqQV.sh
[00:21:29] <xmb> hm this looks prolly completly wrong also
[00:21:36] <xmb> i cant test i dont have xfce terminal
[00:21:49] <xmb> i mean ill try from the irc example
[00:24:00] <c_89> xmb in the code I have write: `sudo chmod "$numerical_notation" "$1"` instead of `sudo chmod "$numerical_notation" "$input_file"` but it works either way, weird?
[00:24:04] *** Quits: wiscii (~tct@user/wiscii) (Quit: WeeChat 2.8)
[00:24:26] <xmb> im trying currently with var=$var sh -c bash -c ..
[00:25:04] <xmb> .. half understand
[00:26:02] *** Quits: bertvvvs (~bertvvvs@user/bertvvvs) (Read error: Connection reset by peer)
[00:26:41] <xmb> finally
[00:26:41] <xmb> # export i=foo\"\' ; sh -c $'bash -c \'printf %s\\\\n "$i"\''
[00:26:42] <shbot> xmb: foo"'
[00:26:50] <xmb> you just export the var also
[00:26:55] <xmb> and use straight in script
[00:27:03] <xmb> no magic this and that thing
[00:27:15] <xmb> lemme mod your script
[00:27:18] *** Joins: bertvvvs (~bertvvvs@user/bertvvvs)
[00:27:23] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[00:28:10] <xmb> c_89      http://0x0.st/oqQy.sh
[00:31:11] <xmb> soli, just talk more, see, already solution, exported var... so the noone-figured-it-out
[00:31:48] <c_89> xmb works but `sudo chmod "$numerical_notation" "$1"` is correct instead of "$file_path"?
[00:33:28] <larryv> "[15:41] <Soliton> also a sane approach would be to export the input file variable."
[00:33:37] <larryv> weird how you took 20 minutes to reinvent this wheel but okay
[00:33:50] <xmb> hm i dont think so c_89 im not sure where that code is i dont see
[00:33:58] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[00:33:58] <xmb> ah
[00:33:59] <xmb> k
[00:34:27] <xmb> should have written code and fixed the issue
[00:34:31] <xmb> english goes so easily under
[00:34:44] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 272 seconds)
[00:35:40] <larryv> not everyone in here is tripping over themselves to drop everything they're doing and do other people's work for them
[00:36:00] * llua trips
[00:36:03] <xmb> its my job mate, the job of a good home kiddie aka homie
[00:36:05] <emanuele6> !code
[00:36:06] <greybot> If you're showing me code, I'm going to assume the code is broken. If the code is broken, it doesn't do what you want to do. If it doesn't do what you want, it doesn't explain what you want, either. Use English, describe your goal, keep broken code to yourself.
[00:36:20] <larryv> c_89: $1 is a positional parameter. $file_path is a global variable. they might expand to the same thing in your case, but they're not equivalent
[00:36:51] <c_89> xmb https://pastebin.com/Mh26ww15
[00:36:51] <pasteban> Paste is available without ads on https://pastebin.com/raw/Mh26ww15
[00:36:55] <larryv> if you intend to use a positional parameter, you have to use $1
[00:37:01] *** Joins: pyzozord (pyzozord@user/pyzozord)
[00:37:13] <pyzozord> what's the easiest way to center text?
[00:37:24] <pyzozord> doesn't have to be a bash function if you know a utility that will do the job
[00:37:28] <phy1729> !center
[00:37:28] <greybot> center() { printf "%*s\n" $(( (COLUMNS+${#1}) /2 )) "$1"; }
[00:37:38] <xmb> all fine there c_89
[00:37:44] <xmb> u use $1 in function
[00:37:53] <xmb> to tell the code to assign from the function called $1 to ..
[00:38:01] <xmb> you can skip so much in this code, and make it a one line or two
[00:38:29] <xmb> i suggest we add a $2 for mode
[00:38:37] <pyzozord> phy1729: do you know a version that takes stdin and multiple lines?
[00:38:44] <xmb> and skip the in function $1 and $2 assignments, for real $var usage
[00:39:13] <emanuele6> while read -r; do center "$REPLY"; done
[00:39:21] <xmb> maybe paste command, but its not center
[00:39:39] <larryv> c_89: so now you're passing change_permissions an argument that you immediately don't use. great
[00:39:44] *** Joins: qswz (~caub@89-80-20-125.abo.bbox.fr)
[00:39:53] *** Quits: jaamro (~jaamro@user/ormaaj) (Quit: Client closed)
[00:40:05] <pyzozord> I need cat file | center
[00:40:09] <larryv> c_89: nvm i missed the first line
[00:40:16] *** Joins: Hash (~Hash@hey.howstoned.ru)
[00:40:24] <emanuele6> pyzozord: <emanuele6 > while read -r; do center "$REPLY"; done
[00:40:34] *** Joins: jaamro (~jaamro@user/ormaaj)
[00:40:52] <c_89> xmb shellcheck.net tell me: line 8: read without -r will mangle backslashes.
[00:40:53] * llua trips
[00:40:59] <pyzozord> what's REPLy?
[00:41:05] <emanuele6> !REPLY
[00:41:05] <greybot> REPLY is the default variable that read populates, when not supplied with one. The trimming of leading and trailing IFS whitespace does not occur, when used as such. See ''help read'' and http://wiki.bash-hackers.org/commands/builtin/read
[00:41:11] <pyzozord> ok great
[00:41:17] <qswz> excuse my ignorance but how can I 'OR' 2 expressions, like echo "$x" || "$y"
[00:41:23] <xmb> c_89 .. http://0x0.st/oqQx.sh
[00:41:41] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[00:41:46] <emanuele6> qswz: how do you or a string?
[00:41:49] <phy1729> What do x and y hold?
[00:41:52] <llua> printf '%s\n' "${x:-$y}"
[00:41:53] <emanuele6> what would that mean?
[00:42:02] <xmb> use -r 89
[00:42:05] <pyzozord> I have this http://bpa.st/ZWSA I don't think this works
[00:42:08] <emanuele6> if you mean, use $y if $x is empty, what llua sent
[00:42:08] <xmb> i always do
[00:42:14] <xmb> and i dont read for input values
[00:42:17] <xmb> its very inefficient
[00:42:20] <xmb> i supply as args
[00:42:22] <xmb> or vars
[00:42:31] <qswz> it could be v=DEPLOY_TAG || (git tag -l '20*' | sort | tail -1)
[00:42:40] <qswz> $DEPLOY_TAG *
[00:42:43] <emanuele6> what does that mean?
[00:42:47] <emanuele6> !code
[00:42:47] <greybot> If you're showing me code, I'm going to assume the code is broken. If the code is broken, it doesn't do what you want to do. If it doesn't do what you want, it doesn't explain what you want, either. Use English, describe your goal, keep broken code to yourself.
[00:43:03] <llua> printf '%s\n' "${x:-$(here be dragons)}"
[00:43:03] <qswz> either using the env var, or if it's not set default to the right value
[00:43:05] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 256 seconds)
[00:43:06] <emanuele6> that code doesn't even look right so i don't know what you mean
[00:43:14] <pyzozord> I'm showing broken code :P http://bpa.st/ZWSA
[00:43:15] <Soliton> pyzozord: you need to use REPLY everywhere.
[00:43:28] <pyzozord> Soliton: everywhere?
[00:43:42] <emanuele6> you replaced only one of the $1
[00:43:57] <pyzozord> should I replace #1 too?
[00:44:15] <qswz> emanuele6: in JS I'd write const v = process.env.DEPLOY_TAG || something()
[00:44:26] *** Lord_of_Life_ is now known as Lord_of_Life
[00:44:30] <pyzozord> like ${#REPLAY} or something like that?
[00:44:31] <emanuele6> you really can't explain yourself?
[00:45:02] <emanuele6> pyzozord: surely not ${#1} since $1 is nothing...
[00:45:04] <larryv> "<qswz> either using the env var, or if it's not set default to the right value" this is basically what llua already sent
[00:45:10] <emanuele6> again, why don't you use a function?
[00:45:13] <llua> senpai, notice me.
[00:45:18] <larryv> LOL
[00:45:35] *** Quits: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke) (Ping timeout: 240 seconds)
[00:45:44] <pyzozord> emanuele6: I replaced it http://bpa.st/55WQ it still doesn't seem to work
[00:45:56] <qswz> thanks llua
[00:46:04] <qswz> and all
[00:46:05] <larryv> qswz: e.g., ${var:-default} expands to the value of var if it's set and not empty, otherwise it expands to default
[00:46:11] <emanuele6> because your script is not interactive.
[00:46:19] *** Quits: Xanthaos (~ke4nhw@user/ke4nhw) (Remote host closed the connection)
[00:46:29] <xmb> columns + #msg seems wrong math
[00:46:30] <qswz> makes sense ok
[00:46:30] <emanuele6> either run it in an interactive shell or use tput
[00:47:12] <emanuele6> (`#!/bin/bash -i' or $(tput cols))
[00:47:17] <xmb> umm why not teach him hmm set -i yes
[00:47:27] <emanuele6> xmb: that is not a thing...
[00:47:29] <emanuele6> # set -i
[00:47:29] <shbot> emanuele6: bash: set: -i: invalid option
[00:47:29] <shbot> emanuele6: set: usage: set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]
[00:47:32] <xmb> er
[00:47:46] <xmb> shopt -s checkwinsize
[00:47:53] <xmb> and /bin/true
[00:48:16] <emanuele6> shopt -s checkwinsize is irrelevant
[00:48:23] <emanuele6> # bash -c 'shopt -s checkwinsize'$'\n''echo "$COLUMNS"'
[00:48:24] <shbot> emanuele6: no output
[00:48:32] <xmb> i said /bin/true
[00:48:43] <emanuele6> # bash -O checkwinsize -c 'echo "$COLUMNS"'
[00:48:44] <shbot> emanuele6: no output
[00:48:50] <emanuele6> # bash -i -c 'echo "$COLUMNS"'
[00:48:51] <shbot> emanuele6: no output
[00:48:56] <xmb> # bash -c 'shopt -s checkwinsize ; /bin/true ; echo "$COLUMNS"'
[00:48:56] <shbot> xmb: no output
[00:49:10] <emanuele6> interesting that it does not work in shbot
[00:49:19] <xmb> # echo $COLUMNS
[00:49:19] <shbot> xmb: 80
[00:49:45] <xmb> # printf '#!/bin/bash\nshopt -s checkwinsize\n/bin/true\necho $COLUMNS' >f; bash f
[00:49:46] <shbot> xmb: no output
[00:50:00] <emanuele6> why are you running /bin/true??
[00:50:11] <xmb> printf '#!/bin/bash\nshopt -s checkwinsize\n/bin/true\necho $COLUMNS' >f; bash f
[00:50:11] <xmb> 295
[00:50:12] *** Quits: nosolls (~nosolls@user/nosolls) (Ping timeout: 240 seconds)
[00:50:21] <xmb> there is an issue, some systems have it some not
[00:50:28] <emanuele6> and?
[00:50:36] <pyzozord> anyone can take a look? https://bpa.st/55WQ centering still doesn't seem to work
[00:50:38] <xmb> bash needs a binary executed to update the values of iwnsize
[00:51:07] <emanuele6> pyzozord: you did neither of the things i suggested...
[00:51:12] <xmb> some systems had it when tested, i had that so and some others, while some others didnt need /bin/true
[00:51:56] <emanuele6> either make the script run in an interactive `#!/bin/bash -i' (not a good solution), or use `$(tput cols)' instead of COLUMNS
[00:51:59] <pyzozord> emanuele6: huh? I though I did everything you suggested
[00:52:04] *** Quits: bertvvvs (~bertvvvs@user/bertvvvs) (Read error: Connection reset by peer)
[00:52:11] <emanuele6> <emanuele6 > either run it in an interactive shell or use tput
[00:52:11] <pyzozord> oh I must have missed that was for me
[00:52:15] <xmb> # bash -c 'tput cols'
[00:52:16] <shbot> xmb: 80
[00:52:21] <xmb> cool work
[00:52:37] <pyzozord> bash -i works
[00:52:38] <emanuele6> <emanuele6 > because your script is not interactive.
[00:52:42] <ormaaj> emanuele6: what does running bash with an explicit -i do?
[00:53:05] <emanuele6> ormaaj: it makes it source bashrc and enable some stuff
[00:53:14] <emanuele6> and $- will contain "i"
[00:53:20] <pyzozord> cool I like the tput cols better, thank you
[00:53:44] <ormaaj> oh because you're combining it with -c
[00:53:47] <xmb> # bash -c 'stty size'
[00:53:48] <shbot> xmb: 0 0
[00:55:08] <pyzozord> I think it gets confused on unicode characters
[00:55:40] <pyzozord> looks like it counts bytes instead of unicode letters
[00:55:53] <xmb> try LC_ALL=C.UTF-8
[00:56:07] <xmb> look in `locate -a` for amatching UTF8 one
[00:56:14] <pyzozord> can I set it locally for just this one script?
[00:56:19] <xmb> ye
[00:56:27] <xmb> simply var=foo ./script
[00:56:35] *** Joins: bertvvvs (~bertvvvs@user/bertvvvs)
[00:56:40] <pyzozord> I mean iside the script itself
[00:57:01] <xmb> LC_ALL=C.UTF-8 or matching locale will do
[00:57:18] <xmb> others may suggest deeper LC_* specs, i just know _ALL
[00:57:22] <c_89> xmb you export "numerical_notation" `export input_file = $ 1 numerical_notation = $ 2` but it is not asked for input inside the function. my final code is: https://pastebin.com/raw/sdUF1ieL
[00:57:23] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 260 seconds)
[00:57:35] *** Quits: ZedHedTed (~ZedHedTed@user/zedhedted) (Remote host closed the connection)
[00:57:50] *** Joins: ZedHedTed (~ZedHedTed@user/zedhedted)
[00:58:00] <xmb> looks fine mate
[00:58:43] <pyzozord> hmm I don't think it helped http://bpa.st/G46A
[00:59:01] <xmb> first run `locale -a`
[00:59:09] <xmb> and see if C.UTF-8 exists
[00:59:19] <xmb> second, set it as first line in the script
[00:59:24] <xmb> not as per printf command
[00:59:46] <pyzozord> it does http://bpa.st/6SNQ
[01:00:25] <xmb> okay then go for point 2 i mentioned
[01:00:31] *** Quits: mcint1 (mcint@pox.ocf.berkeley.edu) (Quit: WeeChat 2.3)
[01:00:37] <c_89> xmb one last question: prepending "$" in `$'bash -c change_permissions'` what does it change from `xfce4-terminal --maximize --hold -e ' bash -c change_permissions'`?
[01:00:58] <xmb> make it away
[01:01:04] <xmb> its left over from complicated fail times
[01:01:09] <xmb> it makes it parse quotes differently
[01:01:10] <emanuele6> %*s uses bytes
[01:01:11] <xmb> u dont need it
[01:01:27] <pyzozord> xmb: what do you mean by first line of the script
[01:01:29] <emanuele6> and ${#REPLY} also uses bytes
[01:01:39] <emanuele6> well, maybe not #
[01:01:45] <emanuele6> i don't remember
[01:02:03] <emanuele6> but %*s definitely only uses bytes just like in C
[01:02:06] <xmb> it uses bytes
[01:02:11] <xmb> but its C not C.UTF-8
[01:02:22] <emanuele6> so locale is irrelevant for %*s
[01:02:25] <xmb> do this, #!/bin/bash \n LC_ALL=C.UTF-8 \n <other code>
[01:02:36] <xmb> erm
[01:02:42] *** Joins: seninha (~seninha@user/seninha)
[01:02:47] <xmb> a C utf8 is 2 bytes or 3, in UTF8 its 1
[01:02:55] <xmb> dunno where u dream, or i
[01:02:58] <emanuele6> xmb: ${#} isn't bytes
[01:03:03] <xmb> its length
[01:03:07] <emanuele6> right...
[01:03:09] <c_89> xmb so i have to take it off?
[01:03:09] <xmb> its handled by CTYPE i think
[01:03:17] <emanuele6> yes.
[01:03:17] <xmb> sec c
[01:03:31] <larryv> c_89: in your code $'...' is not doing anything that '...' wouldn't
[01:03:38] <larryv> so just drop the $
[01:03:41] *** Joins: zebrag (~chris@user/zebrag)
[01:03:50] <pyzozord> xmb: don't think it helped
[01:03:52] <emanuele6> pyzozord: what locale are you using
[01:04:09] <pyzozord> emanuele6: http://bpa.st/O6LA
[01:04:19] <emanuele6> ignore C.utf-8, you must have it installed
[01:04:24] <emanuele6> i don't have it installed.
[01:04:46] <emanuele6> pyzozord: what character are you having problems with?
[01:04:54] <xmb> in debian C.UTF-8 is default
[01:04:58] <xmb> pyzozord, http://0x0.st/oqQl.sh
[01:05:02] <emanuele6> irrelevant.
[01:05:12] <emanuele6> C.UTF-8 is non-standard
[01:05:15] <xmb> umm
[01:05:17] <xmb> already
[01:05:43] <xmb> for me with debian and no locales etc its standard, besides its C.UTF-8 not en_US UTF8 so its better
[01:05:47] <xmb> also he has it
[01:05:51] <xmb> its gotta run for him
[01:05:53] <xmb> not hp unix
[01:05:59] <pyzozord> emanuele6: http://bpa.st/WECA
[01:06:30] <xmb> pyzozord, does the LC of me work
[01:06:35] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[01:06:40] *** Quits: labrador (~labrador@user/labrador) (Quit: Leaving)
[01:07:14] <pyzozord> xmb: your last 0x0.st link? Just checked it, no
[01:07:32] <xmb> hm
[01:07:53] <xmb> what if you spawn the script with LC_ALL=C.UTF-8
[01:07:58] <xmb> last test about it
[01:07:59] <pyzozord> xmb: I prepared test data here http://bpa.st/WECA
[01:08:05] <xmb> cool sec
[01:08:11] <xmb> erm
[01:08:36] <pyzozord> I get this as result http://bpa.st/MHWQ
[01:08:39] *** Joins: fling (~fling@user/fling)
[01:08:43] <xmb> i dont get dude, it doesnt work this style, or do u want what, those few in the middle of the screen ?
[01:08:59] <xmb> k will try
[01:09:00] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[01:09:09] *** Quits: YaoNai (~YaoNai@user/yaonai) (Quit: leaving)
[01:09:52] *** Parts: qswz (~caub@89-80-20-125.abo.bbox.fr) ()
[01:09:58] <pyzozord> I think it counts ‘ as two or more characters
[01:11:00] <xmb> this paste site is wrong
[01:11:08] <c_89> xmc, larryv thanks alot and good night ;-)
[01:11:14] <xmb> nighty
[01:11:33] <emanuele6> pyzozord: separate %*s into two steps
[01:11:36] *** Quits: c_89 (~c_89@151.74.3.74) (Quit: Connection closed)
[01:11:36] *** Joins: sudosudosudo (~sudosudos@47.154.83.132)
[01:11:41] *** Joins: cart_ (~cart@2a01:4c8:41:b099:976a:4d1b:2f13:62a3)
[01:11:41] <xmb> can u paste the data to 0x0 ? bin/0x0.st : curl -F'file=@-' http://0x0.st
[01:11:59] <xmb> both files i downloaded from this your url contained binary data at beginning and end, nont useable file
[01:12:00] <pyzozord> xmb: why is it wrong
[01:12:27] <xmb> PK^C^D^T^@^@^@^@^@^V¥|T3"Üýð^@^@^@ð^@^@^@^H^@^@^@MHWQ.txt                                                        .......................
[01:12:27] <xmb>                                                 ...â~@~Xclientâ~@~Y..â~@~Xserverâ~@~Y..
[01:12:27] <xmb>                                                         .......................
[01:12:27] <xmb> PK^A^B^T^C^T^@^@^@^@^@^V¥|T3"Üýð^@^@^@ð^@^@^@^H^@^@^@^@^@^@^@^@^@^@^@~@^A^@^@^@^@MHWQ.txtPK^E^F^@^@^@^@^A^@^A^@6^@^@^@^V^A^@^@^@^@
[01:12:33] <xmb> this is the data file in vim
[01:12:34] <pyzozord> xmb: did you try with /raw/ like https://bpa.st/raw/MHWQ
[01:12:36] <xmb> the other script wasnt better
[01:12:41] <xmb> i tried 'download' link
[01:13:14] <xmb>                                                         .......................
[01:13:15] <xmb>                                                 ...â~@~Xclientâ~@~Y..â~@~Xserverâ~@~Y..
[01:13:15] <xmb>                                                         .......................
[01:13:15] <xmb> ~
[01:13:22] <xmb> this is correct ? i see specials
[01:14:06] <pyzozord> huh? sorry I'm not following you
[01:14:21] <pyzozord> I don't know what is this, this doesn't seem like you have utf8 enabled
[01:14:22] <xmb> well you have special chars inside this
[01:14:32] <emanuele6> xmb: please don't make so much noise
[01:14:35] <emanuele6> # while read -r; do printf '%*s' "$(( ($(tput cols)-${#REPLY}) / 2 -1 ))"; printf %s\\n "$REPLY"; done <<< $'.......................\n...‘client’..‘server’..\n.......................'
[01:14:36] <shbot> emanuele6:                            .......................
[01:14:36] <shbot> emanuele6:                        ...‘client’..‘server’..
[01:14:36] <shbot> emanuele6:                            .......................
[01:14:50] <pyzozord> yes this is the problem ^
[01:14:55] <xmb> yea it seems me so
[01:15:07] <xmb> sorry emanu, will try
[01:15:27] <emanuele6> pyzozord: it doesn't work perfectly on shbot because it is not using an utf-8 locale
[01:15:32] <emanuele6> that code should work for you
[01:15:56] <emanuele6> # LANG=en_US.UTF-8; while read -r; do printf '%*s' "$(( ($(tput cols)-${#REPLY}) / 2 -1 ))"; printf %s\\n "$REPLY"; done <<< $'.......................\n...‘client’..‘server’..\n.......................'
[01:15:57] <shbot> emanuele6:                            .......................
[01:15:57] <shbot> emanuele6:                            ...‘client’..‘server’..
[01:15:57] <shbot> emanuele6:                            .......................
[01:16:07] <emanuele6> also on shbot if you use a UTF-8 locale
[01:16:38] <pyzozord> emanuele6: yes this works, thanks
[01:16:40] <emanuele6> there was an inconsistency before: %*s is not locale aware, but ${#} is
[01:16:52] <xmb> see wasnt it UTF 8 =))
[01:17:23] <emanuele6> so you can separate the printing of the space padding (which are ascii so locale doesn't matter) and the printing of the string into two steps and it works fine
[01:17:40] <emanuele6> s/which/spaces/
[01:18:29] <pyzozord> sorry, I'm not really following, can you rephrase it into simpler explanation?
[01:18:41] <xmb> they always talk so
[01:18:51] <emanuele6> %*s was measuring the length of the string in bytes
[01:19:19] <Soliton> use %*s on space good. use %*s on utf8 bad.
[01:20:37] <xmb> cant be bad
[01:20:38] <ormaaj> hm?
[01:22:09] <ormaaj> I haven't had much reason to use it in bash with variable width encodings.
[01:23:45] <pyzozord> what does %*s do?
[01:24:09] *** Quits: bertvvvs (~bertvvvs@user/bertvvvs) (Quit: Y'all have a nice day.)
[01:24:11] <pyzozord> I don't see it in man printf
[01:24:27] *** Joins: Minvera (~Minvera@user/Minvera)
[01:24:29] <ormaaj> man 3 printf
[01:24:43] <emanuele6> ormaaj: %*s is not POSIX printf(1)
[01:24:46] <Soliton> field width
[01:24:53] <emanuele6> !man > pyzozord
[01:24:54] <greybot> pyzozord: bash builtins and keywords do not have separate man-pages, read bash's manual instead or use the help builtin. Rule of thumb: If ''type foo'' says foo is a builtin or keyword, run ''help foo'' or ''man bash'', otherwise try man and/or info.
[01:25:03] <pyzozord> oh right it's not in man
[01:25:15] <emanuele6> `man bash' and search printf
[01:26:04] <emanuele6> well, it doesn't explicitly mention `*'
[01:26:16] <pyzozord> info printf actually says "specifications described in printf(1)"
[01:26:22] <pyzozord> sorry I mean help printf
[01:26:42] <pyzozord> help printf doesn't explain '*' and refers to printf(1)
[01:26:58] <Soliton> the documentation is in printf(3) as ormaaj mentioned.
[01:27:10] <Soliton> it's not a feature bash adds.
[01:27:24] <emanuele6> because '*' is not standard in the printf utility, but it's standard in the C/awk printf function
[01:27:31] *** Joins: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970)
[01:27:36] <emanuele6> basically,  printf '%20s\n' hello
[01:27:36] <pyzozord> Soliton: I know but how would I know if I didn't ask you
[01:27:43] <emanuele6> is the same as:  printf '%*s\n' 20 hello
[01:27:46] <pyzozord> Soliton: I'm asking for the fishing rod
[01:27:49] <pyzozord> not the fish
[01:28:25] <Soliton> well, then see how help mentioned printf(1) and that meantions printf(3).
[01:28:37] <emanuele6> %s takes two arguments instead of one when you use it and uses the first as the field width and the second as the string
[01:28:59] <xmb> +1 explaintion emanu
[01:29:45] *** Joins: wiscii (~tct@user/wiscii)
[01:30:20] <xmb> what is the format of /etc/default/locale
[01:30:41] <xmb> i can only find misleading information like 'echo LC.. >.bashrc' in debians man pages
[01:30:59] <emanuele6> probably a question more appropriate for a debian channel...
[01:31:18] <emanuele6> my GNU/Linux distribution doesn't have that file
[01:31:24] <xmb> i asked there thanks
[01:31:24] <pyzozord> still a bit confused about printf "%*s\n" $(( ($(tput cols)+${#REPLY}) /2 )) "$REPLY"
[01:31:32] <pyzozord> and why it was a problem
[01:31:49] <emanuele6> # printf '%*s' 20 hello
[01:31:50] <shbot> emanuele6:                hello
[01:31:54] <pyzozord> if printf "%*s\n" $(( ($(tput cols)+${#REPLY}) /2 )) is fine
[01:32:07] <Soliton> because %*s works on bytes and ${#var} does not.
[01:32:07] <emanuele6> pyzozord: without the \n
[01:32:11] *** Quits: Minvera (~Minvera@user/Minvera) (Ping timeout: 260 seconds)
[01:32:15] <pyzozord> yes, sorry, without \n
[01:32:18] <emanuele6> # printf '%*s' 20 hello
[01:32:18] <shbot> emanuele6:                hello
[01:32:20] <xmb> soli, UTF8 did
[01:32:22] <Soliton> there it works on nothing so it's just spaces.
[01:32:41] <emanuele6> pyzozord: that prints hello preceded by enough spaces such that o is on the 20th column
[01:32:45] <xmb> two wrong mistaken, by the same
[01:32:47] <pyzozord> # printf '%*s 20'
[01:32:48] <shbot> pyzozord:  20
[01:32:50] <xmb> emanu tell soli about utf8
[01:32:59] <pyzozord> # printf '%*s' 20
[01:33:00] <shbot> pyzozord: no output
[01:33:10] <emanuele6> # printf '%*s' 20 hellokfdjlakjdglkgjsalkjgdl
[01:33:11] <shbot> emanuele6: hellokfdjlakjdglkgjsalkjgdl
[01:33:23] <emanuele6> if you print something that is longer than 20, no space is added
[01:33:27] <xmb> # printf %\*s -20 foo
[01:33:28] <shbot> xmb: foo
[01:33:34] <pyzozord> ooh I get it
[01:33:55] <pyzozord> %*s creates a field of certain width, and then uses the next argument as string to fill that field
[01:34:05] <emanuele6> yes
[01:34:09] <pyzozord> except it computes the width of that second argument as bytes
[01:34:23] <emanuele6> but it thinks that string is long the amount of bytes it contains
[01:34:32] <emanuele6> which is not true for all unicode characters
[01:34:35] <pyzozord> so we just generated the spaces and then in we printed the string without "filling the field"
[01:34:43] <ormaaj> posix allows pretty much any extensions to printf. It explicitly mentions %*s as an allowed extension. There are quite a few things it doesn't require though
[01:34:56] <emanuele6> printf '%*s' "$(( ($(tput cols)-${#REPLY}) / 2 -1 ))"; printf %s\\n "$REPLY"
[01:34:57] <xmb> the encoding, if utf 8 or not, defines how long the string is
[01:35:08] <xmb> bash just uses the upper layer interface to them
[01:35:22] <xmb> just like a .c app in utf8 mode shows different len of utf8 data than C
[01:35:32] <emanuele6> that prints creates a field long  "$(( ($(tput cols)-${#REPLY}) / 2 -1 ))"  spaces and doesn't put anything in it
[01:35:40] <ormaaj> lol
[01:35:41] <emanuele6> effectively printing "$(( ($(tput cols)-${#REPLY}) / 2 -1 ))" spaces
[01:35:50] <xmb> tput cols in $(( per loop is expensive
[01:35:53] <emanuele6> and then printf %s\\n "$REPLY" prints the string without any padding
[01:36:03] <xmb> if u not assume the terminal changes move it up above the loop
[01:36:17] <emanuele6> not a safe assumption.
[01:36:24] <emanuele6> and i would not care.
[01:36:29] <xmb> =)
[01:36:35] <pyzozord> I did it like this in the end http://bpa.st/DPKA
[01:36:51] <emanuele6> that is fine
[01:37:03] <pyzozord> thanks!
[01:37:04] <emanuele6> quote the expansion of "$(())"
[01:37:15] <emanuele6> printf '%*s%s\n' "$(( ($(tput cols)-${#REPLY}) / 2 -1 ))" '' "$REPLY"
[01:37:20] <emanuele6> :)
[01:37:21] <pyzozord> it's going to produce a number always
[01:37:28] <emanuele6> so what?
[01:37:37] <emanuele6> # IFS=2; x=123; echo $x
[01:37:38] <pyzozord> so no need, it will never generate spaces and will not be interpreted as two words
[01:37:38] <shbot> emanuele6: 1 3
[01:37:42] <xmb> yea let it run
[01:37:58] <emanuele6> # IFS=2; echo $(( 10 + 200 +3 / 2))
[01:37:59] <shbot> emanuele6:  11
[01:38:18] <emanuele6> # IFS=2; echo "$(( 10 + 200 +3 / 2))"
[01:38:19] <shbot> emanuele6: 211
[01:38:31] <pyzozord> huh?
[01:38:40] <pyzozord> what's happening there
[01:38:40] <emanuele6> !qefs
[01:38:41] <greybot> "$Quote" "$Every" "${F:-ing}" "$Substitution"
[01:38:54] <emanuele6> the fact that it returns a number is completely irrelevant
[01:39:06] <emanuele6> pyzozord: field splitting
[01:40:09] <pyzozord> ok I'll leave that for another day and just qefs for now
[01:40:22] <pyzozord> thanks agian
[01:41:54] <ormaaj> printf "%*s%n" 5 "" x >/dev/null; echo "$x"
[01:42:50] <ormaaj> nvm :/
[01:42:56] <xmb> ehe
[01:42:56] <emanuele6> :/
[01:42:57] <xmb> :)
[01:43:04] <emanuele6> :S
[01:44:50] *** Parts: pyzozord (pyzozord@user/pyzozord) ()
[01:45:15] *** Quits: junebug (~junebug@2600:1700:3db0:2540:9ce0:4e24:4ca7:ce8) (Ping timeout: 260 seconds)
[01:52:59] *** Joins: realies7 (~realies@user/realies)
[01:53:55] *** Quits: realies (~realies@user/realies) (Ping timeout: 256 seconds)
[01:53:55] *** realies7 is now known as realies
[01:57:55] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 246 seconds)
[01:58:47] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[02:01:54] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Quit: ZNC 1.8.2 - https://znc.in)
[02:02:12] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[02:02:39] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7) (Quit: enoq)
[02:02:53] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:03:10] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 246 seconds)
[02:06:33] *** Joins: junebug (~junebug@2600:1700:3db0:2540:a765:1ee9:ff77:700f)
[02:06:54] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[02:09:03] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 260 seconds)
[02:10:27] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[02:10:45] *** Joins: fling (~fling@user/fling)
[02:13:27] <knstn> Is anyone familiar with virsh? It doesn't list my domains.
[02:17:12] *** Joins: lavaball (~Melissa@31.204.155.215)
[02:20:50] <knstn> I fixed it. It wasn't "qemu:///system" but "qemu:///session".
[02:21:20] <xmb> cheers
[02:21:38] *** Quits: DaNeenjah (~jake@adsl-74-230-4-23.hsv.bellsouth.net) (Quit: WeeChat 3.5)
[02:22:00] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:25:30] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Quit: Leaving)
[02:25:48] *** Joins: kj (~kj@kj.aerisnetwork.net)
[02:26:43] *** Quits: lavaball (~Melissa@31.204.155.215) (Remote host closed the connection)
[02:27:32] *** Quits: jaamro (~jaamro@user/ormaaj) (Quit: Ping timeout (120 seconds))
[02:30:32] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Remote host closed the connection)
[02:30:46] *** Joins: saki (~saki@gateway/tor-sasl/saki)
[02:33:50] *** Joins: jaamro (~jaamro@user/ormaaj)
[02:34:54] *** Quits: MercilessDeth (~brad@136.49.59.177) (Quit: Konversation terminated!)
[02:35:57] *** Quits: jaysicks (~jaysicks@91-82-251-185.pool.digikabel.hu) (Remote host closed the connection)
[02:38:06] *** Joins: juno__ (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net)
[02:38:18] *** Quits: cart_ (~cart@2a01:4c8:41:b099:976a:4d1b:2f13:62a3) (Ping timeout: 260 seconds)
[02:38:24] *** Quits: oprypin (~irc@pryp.in) (Quit: Bye)
[02:38:31] *** Quits: xmb (~xmb@178.197.212.150) (Ping timeout: 246 seconds)
[02:40:21] *** Quits: junebug (~junebug@2600:1700:3db0:2540:a765:1ee9:ff77:700f) (Ping timeout: 245 seconds)
[02:40:21] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 245 seconds)
[02:42:01] *** Quits: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e) (Ping timeout: 245 seconds)
[02:42:03] *** Quits: gormenghast (~gormengha@2a01:e0a:1fb:3af0:b82f:d979:b282:ce17) (Read error: Connection reset by peer)
[02:42:41] *** Joins: gormenghast (~gormengha@2a01:e0a:1fb:3af0:b82f:d979:b282:ce17)
[02:43:42] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Read error: Connection reset by peer)
[02:43:48] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[02:44:15] *** Joins: troyt (troyt@2601:681:4101:5911:44dd:acff:fe85:9c8e)
[02:45:14] *** Quits: gormenghast (~gormengha@2a01:e0a:1fb:3af0:b82f:d979:b282:ce17) (Client Quit)
[02:47:56] *** Quits: jlj_ (~jlj@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net) (Ping timeout: 252 seconds)
[02:50:50] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Read error: Connection reset by peer)
[02:50:57] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[02:51:16] *** Joins: xmb (~xmb@178.197.212.106)
[02:57:52] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 272 seconds)
[02:59:23] *** Quits: duxsco (~Thunderbi@user/duxsco) (Quit: duxsco)
[03:00:48] *** Joins: sinaowolabi_ (~SinaOwola@102.67.1.37)
[03:01:14] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[03:06:47] *** Quits: xmb (~xmb@178.197.212.106) (Ping timeout: 256 seconds)
[03:07:24] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 240 seconds)
[03:08:05] *** Joins: rcernin (~rcernin@101.189.129.123)
[03:09:16] *** Quits: sinaowolabi_ (~SinaOwola@102.67.1.37) (Ping timeout: 272 seconds)
[03:13:42] *** Joins: cart_ (~cart@2a01:4c8:41:b099:5ec2:cf33:17b5:5a1b)
[03:14:33] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[03:14:50] *** Joins: fling (~fling@user/fling)
[03:16:15] *** Joins: oprypin (~irc@pryp.in)
[03:18:33] *** Joins: johnjaye (~pi@173.209.64.74)
[03:19:17] *** Joins: xmb (~xmb@178.197.208.181)
[03:20:56] *** Quits: oprypin (~irc@pryp.in) (Client Quit)
[03:21:16] *** Joins: oprypin (~irc@pryp.in)
[03:21:26] *** Quits: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[03:22:40] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.1)
[03:26:07] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[03:27:08] *** Joins: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de)
[03:27:27] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[03:31:28] *** Quits: magla (~gelignite@d53668d6.access.ecotel.net) (Quit: Stay safe!)
[03:31:49] *** Joins: CodePoint (~CodePoint@107-208-128-79.lightspeed.tukrga.sbcglobal.net)
[03:33:23] *** Quits: N0ZYC (~N0ZYC@173.16.166.245) (Quit: Leaving...)
[03:33:51] *** Joins: N0ZYC (~N0ZYC@173.16.166.245)
[03:37:35] *** Quits: cart_ (~cart@2a01:4c8:41:b099:5ec2:cf33:17b5:5a1b) (Ping timeout: 250 seconds)
[03:38:39] *** Quits: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[03:39:59] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:2c89:8e5c:78e:a8d0) (Remote host closed the connection)
[03:42:58] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873)
[03:44:36] *** Quits: sobkas (~sobkas@95.175.17.217) (Remote host closed the connection)
[03:46:15] *** Quits: noteness (~noteness@user/noteness) (Ping timeout: 240 seconds)
[03:46:48] *** Joins: docmax__ (~docmax@dynamic-077-003-032-191.77.3.pool.telefonica.de)
[03:47:15] *** Quits: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net) (Ping timeout: 256 seconds)
[03:47:35] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873) (Ping timeout: 256 seconds)
[03:47:43] *** Joins: noteness (~noteness@user/noteness)
[03:47:57] *** Quits: lotharn (~kvirc@71-223-15-163.phnx.qwest.net) (Ping timeout: 240 seconds)
[03:49:00] *** Quits: docmax_ (~docmax@dynamic-077-001-039-215.77.1.pool.telefonica.de) (Ping timeout: 240 seconds)
[03:50:45] *** Joins: Codaraxis__ (~Codaraxis@user/codaraxis)
[03:53:00] *** Quits: sudosudosudo (~sudosudos@47.154.83.132) (Quit: Leaving)
[03:53:15] *** Quits: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net) (Ping timeout: 256 seconds)
[03:54:35] *** Joins: Xanthaos (~ke4nhw@user/ke4nhw)
[03:55:56] *** Quits: stanlib (~archblade@user/stanlib) (Quit: stanlib)
[03:57:37] *** Joins: stanlib (~archblade@user/stanlib)
[04:07:01] *** Quits: Tangent-Man (~Tang3nt-M@92.40.179.120.threembb.co.uk) (Ping timeout: 245 seconds)
[04:08:58] *** Joins: nosolls (~nosolls@user/nosolls)
[04:10:38] *** Joins: lotharn (~kvirc@71-223-15-163.phnx.qwest.net)
[04:11:18] *** Quits: hub (~hub@user/hub) (Quit: -)
[04:11:20] *** Quits: juno__ (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net) (Ping timeout: 272 seconds)
[04:11:43] *** Quits: rgrinberg (~textual@177.248.148.38) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:11:50] *** Joins: hub (~hub@user/hub)
[04:15:00] *** Quits: lotharn (~kvirc@71-223-15-163.phnx.qwest.net) (Ping timeout: 240 seconds)
[04:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:38] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:18:33] *** Joins: igemnace (~ian@user/igemnace)
[04:19:57] *** Quits: N0ZYC (~N0ZYC@173.16.166.245) (Quit: Leaving...)
[04:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:20:41] *** Quits: fizzizist1 (~fizzizist@72.53.248.15) (Ping timeout: 256 seconds)
[04:21:32] *** Joins: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp)
[04:23:51] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873)
[04:24:37] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:f1cd:472c:942a:3925)
[04:24:37] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:f1cd:472c:942a:3925) (Changing host)
[04:24:37] *** Joins: skapata (~Skapata@user/skapata)
[04:25:18] *** Joins: chenqisu1 (~chenqisu1@183.217.200.168)
[04:25:19] *** Joins: MercilessDeth (~brad@136.49.59.177)
[04:25:47] *** Quits: chenqisu1 (~chenqisu1@183.217.200.168) (Max SendQ exceeded)
[04:26:15] *** Joins: chenqisu1 (~chenqisu1@183.217.200.168)
[04:26:16] *** Quits: unop (~unop@195.91.4.124) (Read error: Connection reset by peer)
[04:26:53] *** Joins: unop (~unop@195.91.4.124)
[04:27:32] <Shapeshifter> Hi. I'm a bit confused about how I can use bash_completion as a library/tool. What I want is, for example, given the text 'una', all the possible completions. So, of course, I can type una<TAB><TAB> and then it shows me, but how do I access these results in a script, for example? Like, I want the results as an array or one per line...
[04:27:48] *** Joins: lotharn (~kvirc@59-166-190-77.rev.home.ne.jp)
[04:28:11] <Shapeshifter> I thought it would be compgen but it doesn't seem to work... compgen una is empty.
[04:28:32] <Shapeshifter> ohh.... compgen -c
[04:28:35] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873) (Ping timeout: 252 seconds)
[04:29:31] *** Quits: xx (~xx@user/xx) (Ping timeout: 260 seconds)
[04:29:35] *** Quits: wonko-the-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane) (Ping timeout: 240 seconds)
[04:30:14] *** Quits: fling (~fling@user/fling) (Remote host closed the connection)
[04:30:28] *** Joins: fling (~fling@user/fling)
[04:31:07] <Shapeshifter> But still, what if I want to get the equivalent of ls --<TAB><TAB>? Now it's not compgen -c anymore
[04:33:09] *** Quits: qub411 (~user@60-242-81-127.tpgi.com.au) (Ping timeout: 256 seconds)
[04:35:17] *** Joins: fizzizist1 (~fizzizist@72.53.248.15)
[04:37:00] *** Quits: lotharn (~kvirc@59-166-190-77.rev.home.ne.jp) (Ping timeout: 240 seconds)
[04:38:11] *** Parts: VoidSync (~sync@user/voidsync) ()
[04:40:28] *** Quits: CodePoint (~CodePoint@107-208-128-79.lightspeed.tukrga.sbcglobal.net) (Ping timeout: 272 seconds)
[04:43:19] *** Quits: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[04:43:23] *** Joins: N0ZYC (~N0ZYC@173.16.166.245)
[04:43:33] *** Joins: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[04:43:44] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[04:44:04] *** Joins: sahilister81 (~sahiliste@static.62.225.203.116.clients.your-server.de)
[04:44:44] *** Quits: luva (~luva@185.168.9.235) (Read error: Connection reset by peer)
[04:44:45] *** Quits: moldorcoder7 (~moldorcod@37.120.143.29) (Quit: %bye mirc%)
[04:44:47] *** Quits: strudl (~strudl@user/strudl) (Remote host closed the connection)
[04:44:48] *** Quits: sahilister8 (~sahiliste@user/sahilister) (Read error: Connection reset by peer)
[04:44:52] *** Joins: luva (~luva@185.168.9.235)
[04:45:05] *** Joins: strudl (~strudl@user/strudl)
[04:45:09] *** Quits: xiaomiao (~purrrr@gentoo/developer/patrick) (Remote host closed the connection)
[04:45:10] *** Quits: knstn (~knstn@ppp-94-66-57-249.home.otenet.gr) (Quit: leaving)
[04:46:18] *** Joins: milkt_ (~debian@gateway/tor-sasl/milkt)
[04:46:19] *** Joins: xiaomiao (~purrrr@gentoo/developer/patrick)
[04:46:46] *** Joins: Atque (~Atque@user/atque)
[04:46:49] *** Joins: moldorcoder7 (~moldorcod@37.120.143.30)
[04:46:55] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[04:47:11] *** Joins: tejr (~tejr@user/tejr)
[04:47:41] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[04:48:15] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Ping timeout: 240 seconds)
[04:49:30] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[04:50:09] *** Quits: itu (~wp@wikipedia/itu) (Excess Flood)
[04:50:45] *** Joins: uc50ic4more (~uc50ic4mo@dyn216-8-170-79.ADSL.mnsi.net)
[04:51:10] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[04:51:28] *** Quits: fatal (~0x00@user/fatal) (Remote host closed the connection)
[04:51:38] *** Joins: itu_ (~wp@lynx.uberspace.de)
[04:51:38] *** Joins: fatal (~0x00@user/fatal)
[04:52:08] *** itu_ is now known as itu
[04:52:38] *** itu is now known as Guest9789
[04:52:53] *** Joins: chenqisu12 (~chenqisu1@183.217.200.168)
[04:53:11] *** Quits: Guest9789 (~wp@lynx.uberspace.de) (Changing host)
[04:53:11] *** Joins: Guest9789 (~wp@wikipedia/itu)
[04:53:11] *** Guest9789 is now known as itu
[04:55:40] *** Quits: chenqisu1 (~chenqisu1@183.217.200.168) (Ping timeout: 272 seconds)
[04:56:32] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[04:57:27] *** Joins: juno__ (~junebug@2600:1700:3db0:2540:84f7:9c76:4e7d:2835)
[04:57:39] *** Quits: uc50ic4more (~uc50ic4mo@dyn216-8-170-79.ADSL.mnsi.net) (Read error: Connection reset by peer)
[04:57:57] *** Quits: relight (~relight@user/relight) (Ping timeout: 240 seconds)
[04:58:43] *** Joins: relight (~relight@user/relight)
[04:58:54] *** Joins: igemnace (~ian@user/igemnace)
[04:59:47] *** Quits: zouhair (~zouhair@lnsm2-montreal02-69-157-101-208.internet.virginmobile.ca) (Ping timeout: 256 seconds)
[05:01:00] *** Joins: zouhair (~zouhair@lnsm2-montreal02-69-157-101-208.internet.virginmobile.ca)
[05:01:36] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:03:23] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 250 seconds)
[05:05:39] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[05:05:58] <Shapeshifter> This seems a lot harder than expected...
[05:06:32] *** Joins: oarion7 (~anonymous@user/oarion7)
[05:06:35] *** Quits: oarion7 (~anonymous@user/oarion7) (Client Quit)
[05:11:51] *** Quits: braxas (sid508886@id-508886.lymington.irccloud.com) (Ping timeout: 250 seconds)
[05:11:54] *** Joins: CodePoint (~CodePoint@107-208-128-79.lightspeed.tukrga.sbcglobal.net)
[05:12:02] *** Joins: vlm (~vlm@user/vlm)
[05:12:43] *** Joins: oarion7 (anonymous@user/oarion7)
[05:13:41] *** Joins: braxas (sid508886@id-508886.lymington.irccloud.com)
[05:13:57] <tangy> Wading into the 'Programmable Completion' section of the man page, it may involve a "compspec"
[05:15:14] *** Joins: igemnace (~ian@user/igemnace)
[05:16:41] *** Quits: milkt_ (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[05:18:41] *** Quits: CodePoint (~CodePoint@107-208-128-79.lightspeed.tukrga.sbcglobal.net) (Ping timeout: 245 seconds)
[05:19:13] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[05:20:43] *** Quits: relight (~relight@user/relight) (Read error: Connection reset by peer)
[05:21:14] *** Joins: relight (~relight@user/relight)
[05:22:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[05:24:34] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[05:24:56] *** Joins: fling (~fling@user/fling)
[05:25:24] *** Joins: bertvvvs (~bertvvvs@user/bertvvvs)
[05:29:23] *** Joins: Mags0001 (~Mags@host-79-26-197-11.retail.telecomitalia.it)
[05:30:51] *** Parts: Mags0001 (~Mags@host-79-26-197-11.retail.telecomitalia.it) ()
[05:33:16] *** Quits: bertvvvs (~bertvvvs@user/bertvvvs) (Read error: Connection reset by peer)
[05:33:44] *** Joins: bertvvvs (~bertvvvs@user/bertvvvs)
[05:34:56] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 272 seconds)
[05:36:23] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[05:36:23] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:39:19] *** Quits: bertvvvs (~bertvvvs@user/bertvvvs) (Quit: Y'all have a nice day.)
[05:39:25] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[05:39:38] *** Joins: vishal (~vishal@fedora/vishal)
[05:39:43] *** Quits: jos1 (~jos3@dyndsl-091-096-039-023.ewe-ip-backbone.de) (Ping timeout: 240 seconds)
[05:39:48] *** Quits: nortoh (~nortoh@user/nortoh) (Quit: this is not importent)
[05:39:57] *** Quits: vx (~f@phrixion.net) (Quit: G-line: User has been permanently banned from this network.)
[05:40:09] *** Joins: nortoh (~nortoh@bishop.xerrero.com)
[05:40:09] *** Quits: nortoh (~nortoh@bishop.xerrero.com) (Changing host)
[05:40:09] *** Joins: nortoh (~nortoh@user/nortoh)
[05:40:11] *** Joins: vx (~f@phrixion.net)
[05:40:27] *** Quits: JyZyXy (~jyz@88-114-83-213.elisa-laajakaista.fi) (Ping timeout: 250 seconds)
[05:40:38] *** Quits: dka (~code-is-a@ns3059207.ip-193-70-33.eu) (Ping timeout: 272 seconds)
[05:41:13] *** Joins: tomaw_ (tom@libera/staff/tomaw)
[05:41:19] *** Joins: jos1 (~jos3@dyndsl-091-096-039-023.ewe-ip-backbone.de)
[05:42:09] *** Joins: dka (~code-is-a@ns3059207.ip-193-70-33.eu)
[05:42:44] *** Joins: JyZyXy (~jyz@88-114-83-213.elisa-laajakaista.fi)
[05:45:04] *** Quits: tomaw (tom@libera/staff/tomaw) (Ping timeout: 604 seconds)
[05:45:04] *** tomaw_ is now known as tomaw
[05:47:18] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.4)
[05:48:32] <Shapeshifter> Mh. Here's what I want to do: create a thin wrapper around bash that will allow me to: 1) restrict the kinds of commands that can be executed and 2) process command output before returning it to the user. So, basically I want to intercept what goes in and out of the underlying bash shell. I tried to use python/readline/bash_completion but it's messy. Bash completions doesn't feel the same as in native
[05:48:38] <Shapeshifter> bash, and I can't run something like vim. I don't think bash itself has the facilities to do this. Also, screen and tmux aren't really made for that either. I wonder what's the best way.
[05:51:25] <larryv> (2) is not something you're going to be able to do by "wrapping bash"
[05:54:41] <larryv> for (1) you can look into restricted shell, but it's hardly airtight https://www.gnu.org/software/bash/manual/html_node/The-Restricted-Shell.html
[05:55:08] *** Joins: rgrinberg (~textual@177.248.146.16)
[05:56:05] *** Quits: \\Mr_C\\ (mrc@cpe-75-187-191-230.neo.res.rr.com) (Quit: (Read error: Connection reset by beer, You Phuq With Me, You Phuq With The B0rg.0rg))
[05:58:09] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[05:59:29] *** Joins: Atque (~Atque@user/atque)
[06:01:24] *** Joins: PapaChub (~PapaChub@vzw-54.parabon.com)
[06:06:25] *** Quits: cdown (~cdown@user/cdown) (Ping timeout: 246 seconds)
[06:06:59] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 256 seconds)
[06:08:25] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[06:10:16] *** Quits: mixfix41 (~homefame@user/mixfix41) (Ping timeout: 246 seconds)
[06:15:18] *** Joins: mixfix41 (~homefame@user/mixfix41)
[06:15:36] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[06:16:59] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[06:20:34] *** Quits: ryo (foobar@user/ryo) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[06:20:55] *** Joins: igemnace (~ian@user/igemnace)
[06:24:33] *** Joins: wodencafe (wodencafe@woden.cafe)
[06:25:31] *** Joins: Inline__ (~Inline@p200300cd470f690069ffd8a9e8710708.dip0.t-ipconnect.de)
[06:26:43] *** Joins: malina (~malina@user/malina)
[06:26:47] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[06:27:32] *** Joins: fling (~fling@user/fling)
[06:28:03] *** Quits: Inline (~Inline@p200300cd47094800372fcc81f701114e.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[06:30:05] *** Quits: libsys (~libsys@186.105.128.84) (Remote host closed the connection)
[06:32:31] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Read error: Connection reset by peer)
[06:33:25] *** Joins: libsys (~libsys@186.105.128.84)
[06:35:40] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873)
[06:36:21] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[06:36:45] *** Joins: ryo (foobar@athena.nocsrv.de)
[06:36:45] *** Quits: ryo (foobar@athena.nocsrv.de) (Changing host)
[06:36:45] *** Joins: ryo (foobar@user/ryo)
[06:38:27] *** Quits: justOkay (~justache@user/justache) (Quit: The Lounge - https://thelounge.chat)
[06:38:41] *** Quits: PapaChub (~PapaChub@vzw-54.parabon.com) (Quit: Leaving)
[06:39:07] *** Joins: PapaChub (~PapaChub@vzw-54.parabon.com)
[06:41:07] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 260 seconds)
[06:42:38] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[06:42:57] *** Joins: justOkay (~justache@user/justache)
[06:43:25] *** Quits: ZedHedTed (~ZedHedTed@user/zedhedted) (Remote host closed the connection)
[06:43:40] *** Joins: ZedHedTed (~ZedHedTed@user/zedhedted)
[06:46:05] *** Quits: rcernin (~rcernin@101.189.129.123) (Ping timeout: 252 seconds)
[06:51:04] *** Quits: reset (~reset@user/reset) (Quit: reset)
[06:51:41] *** Joins: rcernin (~rcernin@101.189.129.123)
[06:52:28] *** Joins: neshpion (~neshpion@gateway/tor-sasl/neshpion)
[06:53:13] *** Quits: karabaja4 (~karabaja4@dh207-93-10.xnet.hr) (Remote host closed the connection)
[06:53:52] *** Quits: rcernin (~rcernin@101.189.129.123) (Client Quit)
[06:54:08] *** Joins: rcernin (~rcernin@101.189.129.123)
[06:54:53] *** Quits: jaamro (~jaamro@user/ormaaj) (Quit: Client closed)
[06:55:36] *** Joins: jaamro (~jaamro@user/ormaaj)
[06:56:02] *** Quits: rgrinberg (~textual@177.248.146.16) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:57:51] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873) (Ping timeout: 245 seconds)
[06:59:23] *** Quits: millido (~millido@84.210.150.128) (Read error: Connection reset by peer)
[07:03:23] *** Quits: bomb-on (~bomb-on@user/bomb-on) (Quit: aллилѹіа!)
[07:11:21] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.5)
[07:13:03] *** Quits: jos1 (~jos3@dyndsl-091-096-039-023.ewe-ip-backbone.de) (Ping timeout: 260 seconds)
[07:13:37] *** Quits: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1) (Quit: The Lounge - https://thelounge.chat)
[07:13:59] <kurahaupo> Shapeshifter: Have you considered running Bash in restricted mode, aka rbash?
[07:14:12] *** Joins: millido (~millido@84.210.150.128)
[07:14:20] *** Joins: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1)
[07:16:46] <kurahaupo> Shapeshifter: The documentation for the completion functions like compgen explicitly call out that they may not work outside the context of the user hitting tab. Also the completion for many commands involves running a function that the user can modify
[07:17:03] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[07:23:53] *** Joins: ejjdhfjsu (~ejjdhfjsu@cmcust2a-85.240.nulinkdigital.com)
[07:23:55] *** Quits: ejjdhfjsu (~ejjdhfjsu@cmcust2a-85.240.nulinkdigital.com) (Remote host closed the connection)
[07:24:55] *** Quits: FluffyMask (~masque@user/fluffymask) (Quit: WeeChat 3.5)
[07:25:20] *** Joins: jos1 (~jos3@host-091-097-188-248.ewe-ip-backbone.de)
[07:26:07] *** Joins: ejjdhfjsu (~ejjdhfjsu@cmcust2a-85.240.nulinkdigital.com)
[07:27:28] *** Quits: srg (~srg@user/srg) (Quit: :wqa)
[07:29:46] <kurahaupo> river: If it matters to you that a script must be sourced rather than executed, chmod a-x the script so that people can't run it by accident
[07:30:21] *** Joins: rgrinberg (~textual@177.248.146.16)
[07:30:40] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:31:15] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[07:32:55] *** Joins: fling (~fling@user/fling)
[07:33:51] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 260 seconds)
[07:34:59] *** Joins: sudomann (~sudomann@98.219.211.182)
[07:40:01] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.4)
[07:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:42:01] *** Quits: oarion7 (anonymous@user/oarion7) (Quit: Running IRC on a charmed medieval abacus.)
[07:47:25] <kurahaupo> Maxattax: aliases perform substitution as the shell reads and parses commands, not when those commands are eventually executed. But alias is a command that have to run to take effect. So an alias defined inside a compound command (such as {…} or if…then…fi) cannot affect anything inside the same compound command.
[07:53:00] *** Joins: lotharn (~kvirc@211.48.67.148)
[07:53:39] <kurahaupo> Maxattax: In addition to "compound commands", the shell also reads ahead whole lines, including the whole of a string given as an argument to bash -c
[07:54:15] *** Quits: lotharn (~kvirc@211.48.67.148) (Read error: Connection reset by peer)
[07:56:15] <kurahaupo> Maxattax: Aliases weren't in the original Bourne shell at all, since functions performed the same and better. For some unaccountable reason, the POSIX committee was convinced to add them later; they should have resisted.
[07:57:54] <kurahaupo> drat, that was hours ago. 😫
[07:59:25] *** Quits: nosolls (~nosolls@user/nosolls) (Quit: WeeChat 3.4.1)
[08:00:24] *** Joins: nate1 (~nate@98.45.167.61)
[08:04:58] *** Quits: nate1 (~nate@98.45.167.61) (Ping timeout: 260 seconds)
[08:11:43] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 246 seconds)
[08:21:17] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 260 seconds)
[08:23:08] *** Joins: WuQionghua (~user@user/utamaro)
[08:24:59] *** Joins: lotharn (~kvirc@public-nat-14.vpngate.v4.open.ad.jp)
[08:25:06] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[08:28:50] *** Quits: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[08:29:00] *** Quits: lotharn (~kvirc@public-nat-14.vpngate.v4.open.ad.jp) (Ping timeout: 240 seconds)
[08:29:44] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 272 seconds)
[08:33:11] *** Joins: sudomann (~sudomann@98.219.211.182)
[08:34:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[08:36:24] *** Quits: Spawns_Carpeting (~Spawns_Ca@user/spawns-carpeting/x-6969421) (Quit: WeeChat 3.0)
[08:37:16] *** Joins: fling (~fling@user/fling)
[08:37:37] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 246 seconds)
[08:38:45] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[08:39:20] *** Joins: Spawns_Carpeting (~Spawns_Ca@user/spawns-carpeting/x-6969421)
[08:42:42] *** Joins: qub411 (~user@60-242-81-127.tpgi.com.au)
[08:43:23] *** Quits: timj (~timj@user/timj) (Ping timeout: 260 seconds)
[08:47:35] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[08:49:59] *** Joins: loganlee[gnu] (~Thunderbi@user/loganlee)
[08:50:46] *** Joins: sudomann (~sudomann@98.219.211.182)
[08:51:19] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[08:54:07] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[08:55:07] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 246 seconds)
[08:55:20] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[08:56:23] *** Quits: A|an (~Alan@173.216.48.26) (Quit: A|an)
[08:56:58] *** Quits: djph (~dpurgert@cpe-107-10-235-152.neo.res.rr.com) (Ping timeout: 272 seconds)
[08:58:24] *** Joins: djph (~dpurgert@cpe-107-10-235-152.neo.res.rr.com)
[08:58:37] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873)
[08:58:38] *** Joins: timj (~timj@user/timj)
[09:01:14] *** Joins: A|an (~Alan@173.216.48.26)
[09:07:26] *** Joins: sudomann (~sudomann@98.219.211.182)
[09:07:52] *** Joins: cdman (~dcm@user/dmc/x-4369397)
[09:11:55] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 246 seconds)
[09:13:01] *** Joins: et_ (~et@user/et)
[09:13:39] *** Quits: et (~et@user/et) (Ping timeout: 256 seconds)
[09:13:39] *** et_ is now known as et
[09:13:58] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[09:14:42] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 272 seconds)
[09:16:25] *** Quits: loganlee[gnu] (~Thunderbi@user/loganlee) (Quit: loganlee[gnu])
[09:16:36] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[09:16:40] *** Joins: zostj (~rue@61-231-134-64.dynamic-ip.hinet.net)
[09:20:09] *** Quits: A|an (~Alan@173.216.48.26) (Quit: A|an)
[09:22:37] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Quit: WeeChat 3.4.1)
[09:23:17] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[09:24:34] *** Joins: sudomann (~sudomann@98.219.211.182)
[09:26:18] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Quit: ZNC 1.8.2 - https://znc.in)
[09:26:36] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[09:27:57] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873) (Ping timeout: 250 seconds)
[09:30:02] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:31:17] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 260 seconds)
[09:39:35] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[09:39:36] *** Joins: nosolls (~nosolls@user/nosolls)
[09:41:16] *** Joins: fling (~fling@user/fling)
[09:43:03] *** Joins: sudomann (~sudomann@98.219.211.182)
[09:44:37] *** Quits: neshpion (~neshpion@gateway/tor-sasl/neshpion) (Quit: neshpion)
[09:45:55] *** Quits: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[09:46:08] *** Quits: leshaste (~lesshaste@82-69-126-43.dsl.in-addr.zen.co.uk) (Remote host closed the connection)
[09:46:15] *** Joins: leshaste (~lesshaste@82-69-126-43.dsl.in-addr.zen.co.uk)
[09:47:16] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 246 seconds)
[09:47:50] *** Joins: moha (uid506645@id-506645.helmsley.irccloud.com)
[09:49:23] *** Quits: juno__ (~junebug@2600:1700:3db0:2540:84f7:9c76:4e7d:2835) (Ping timeout: 250 seconds)
[09:52:55] *** Joins: sudomann (~sudomann@98.219.211.182)
[09:54:08] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[10:00:29] *** Joins: tobybl (~tobybl@227.192.115.87.dyn.plus.net)
[10:00:38] *** Quits: whatsupboy (~whatsupbo@user/scobydoo) (Quit: WeeChat 2.8)
[10:00:52] *** Joins: whatsupboy (~whatsupbo@user/scobydoo)
[10:04:46] *** Quits: tobybl (~tobybl@227.192.115.87.dyn.plus.net) (Ping timeout: 246 seconds)
[10:04:55] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[10:06:48] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[10:13:17] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[10:14:42] *** Quits: setesat2 (~setesat@94.4.156.220) (Quit: The Lounge - https://thelounge.chat)
[10:15:04] *** Joins: setesat2 (~setesat@94.4.156.220)
[10:15:58] *** Quits: rcernin (~rcernin@101.189.129.123) (Ping timeout: 246 seconds)
[10:17:39] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 260 seconds)
[10:20:52] *** Quits: nosolls (~nosolls@user/nosolls) (Quit: WeeChat 3.4.1)
[10:20:57] *** Quits: Xanthaos (~ke4nhw@user/ke4nhw) (Remote host closed the connection)
[10:24:16] *** Joins: ekathva (~ekathva@93-90-58-246.welcomnet.fi)
[10:28:56] *** Quits: mak (~mak@ppp079167186232.access.hol.gr) (Quit: Leaving)
[10:29:15] *** Joins: mak (~mak@ppp079167186232.access.hol.gr)
[10:29:26] *** Joins: mak_GR (~mak@ppp079167186232.access.hol.gr)
[10:29:39] *** Quits: mak (~mak@ppp079167186232.access.hol.gr) (Remote host closed the connection)
[10:32:17] *** Quits: StathisA (~StathisA@178-147-48-136.haap.nym.cosmote.net) (Ping timeout: 240 seconds)
[10:37:42] *** Joins: tercaL (~tercaL@user/tercal)
[10:38:11] *** Quits: zostj (~rue@61-231-134-64.dynamic-ip.hinet.net) (Ping timeout: 260 seconds)
[10:40:06] *** Joins: zostj (~rue@61-231-134-64.dynamic-ip.hinet.net)
[10:43:06] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[10:43:25] *** Joins: fling (~fling@user/fling)
[10:44:15] *** Joins: han-solo (~han-solo@user/han-solo)
[10:48:27] *** Quits: aead (~aead@user/aead) (Ping timeout: 260 seconds)
[10:48:52] *** Quits: han-solo (~han-solo@user/han-solo) (Client Quit)
[10:49:37] *** Joins: labrador (~labrador@user/labrador)
[10:49:42] *** Quits: ekathva (~ekathva@93-90-58-246.welcomnet.fi) (Ping timeout: 272 seconds)
[10:52:38] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[10:52:44] *** Joins: aead (~aead@user/aead)
[10:54:24] *** Joins: han-solo (~han-solo@user/han-solo)
[10:55:06] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:d02f:76c0:3462:1d91)
[10:56:57] *** Joins: Everything (~Everythin@37.115.210.35)
[10:57:00] *** Joins: roadie (~user@2a02:8108:5a40:1d87:bc7a:bbe4:d21a:4cbd)
[10:58:15] *** Quits: Atque (~Atque@user/atque) (Ping timeout: 240 seconds)
[10:58:57] *** Joins: mihaiadrian (~Thunderbi@82.76.223.244)
[10:59:25] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:d02f:76c0:3462:1d91) (Ping timeout: 240 seconds)
[10:59:58] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[11:00:17] *** Joins: unop (~unop@195.91.4.124)
[11:01:34] *** Joins: lotharn (~kvirc@221.159.144.4)
[11:02:04] *** Joins: Atque (~Atque@user/atque)
[11:05:25] *** Joins: Mo (~Mo@dynamic-077-008-155-173.77.8.pool.telefonica.de)
[11:06:43] *** Quits: han-solo (~han-solo@user/han-solo) (Ping timeout: 246 seconds)
[11:08:49] *** Quits: lotharn (~kvirc@221.159.144.4) (Ping timeout: 246 seconds)
[11:08:56] *** Quits: w0ng (~w0ng@185.218.127.24) (Ping timeout: 260 seconds)
[11:09:16] *** Quits: dob1 (~dob1@user/dob1) (Quit: quit)
[11:09:21] *** Joins: han-solo (~han-solo@user/han-solo)
[11:10:27] *** Quits: rgrinberg (~textual@177.248.146.16) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:10:33] *** Joins: dob1 (~dob1@user/dob1)
[11:14:42] *** Quits: xmb (~xmb@178.197.208.181) (Read error: Connection reset by peer)
[11:15:04] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[11:16:00] *** Joins: unop (~unop@195.91.4.124)
[11:16:10] *** Joins: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net)
[11:16:23] *** Joins: w0ng (~w0ng@185.218.127.4)
[11:18:45] *** Joins: rcernin (~rcernin@101.189.129.123)
[11:23:54] *** Quits: ncrowl (~ncrowl@89-160-83-20.cust.bredband2.com) (Ping timeout: 272 seconds)
[11:23:58] *** Joins: tobybl (~tobybl@227.192.115.87.dyn.plus.net)
[11:25:00] *** Joins: ncrowl (~ncrowl@83-233-50-48.cust.bredband2.com)
[11:25:43] *** Joins: lotharn (~kvirc@222.103.11.123)
[11:28:22] <river> kurahaupo: i was wanted to make it act like a command line tool if you invoke it, but just provide functions if you source not
[11:28:24] <river> it*
[11:29:10] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Ping timeout: 260 seconds)
[11:30:49] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[11:30:52] *** Quits: lotharn (~kvirc@222.103.11.123) (Ping timeout: 246 seconds)
[11:35:14] *** Joins: ekathva (~ekathva@93-90-58-246.welcomnet.fi)
[11:38:10] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[11:38:14] *** Joins: fef (~thedawn@user/thedawn)
[11:39:19] *** Joins: Atque (~Atque@user/atque)
[11:39:41] <dob1> just to be sure when I do  script.sh *.foobar  this will be expanded to an array with all the files named  *.foobar, right ?
[11:40:00] <dob1> something.foobar
[11:41:20] *** Joins: sinaowolabi_ (~SinaOwola@160.152.94.96)
[11:44:21] <river> no not an array
[11:44:38] <river> if they exist it will splat them out as separate tokens
[11:44:45] <river> if they don't it'll remain "*.foobar"
[11:45:43] *** Quits: malina (~malina@user/malina) (Quit: malina)
[11:46:51] *** Joins: lavaball (felix@31.204.155.215)
[11:46:56] *** Quits: fling (~fling@user/fling) (Remote host closed the connection)
[11:47:37] *** Joins: fling (~fling@user/fling)
[11:48:13] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[11:49:01] *** Quits: heiner (~Thunderbi@2a00:6020:b006:a900:d250:99ff:fe34:8fd2) (Remote host closed the connection)
[11:49:32] *** Joins: heiner (~Thunderbi@2a00:6020:b006:a900:d250:99ff:fe34:8fd2)
[11:53:54] *** Joins: wyfnt (~wyfnt1232@103.51.58.113)
[11:54:56] <han-solo> # touch {a..d}.foobar; set -- *.foobar; printf '<%s>' "$@"
[11:54:57] <shbot> han-solo: <a.foobar><b.foobar><c.foobar><d.foobar>
[11:56:59] <geirha> dob1: a matter of definition thing. I'd say yes, in the sense that bash will pass the filenames via the argv array parameter of the execve system call
[11:57:28] <han-solo> indeed an array
[11:58:39] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[11:58:46] *** Quits: rcernin (~rcernin@101.189.129.123) (Quit: WeeChat 3.4.1)
[11:58:54] *** Joins: unop (~unop@195.91.4.124)
[11:59:45] <tercaL> morning
[12:01:24] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[12:05:12] *** Joins: MajorBiscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e)
[12:05:31] *** Quits: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk) (Ping timeout: 246 seconds)
[12:06:36] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[12:06:43] <noent> morning. I am trying to debug a rather complex set of scripts and to do that I set and export PS4, export SHELLOPTS and set -x at the "master" script being executed. That script then executes other scripts like /usr/bin/someother script, but sadly PS4 isn't set to the correct value there. What am I missing?
[12:07:20] <geirha> PS4 is ignored from the env when running as root, for security reasons
[12:08:01] <geirha> and it's bash specific, so if otherscript is not bash, it likely ignores it
[12:08:17] <noent> can I work around that somehow?
[12:08:49] <geirha> for the first one, maybe you can work around it with BASHENV
[12:08:49] <noent> I mean most scripts are under my control, but setting PS4 in each of them sounds like a unmaintainable thing long term
[12:09:23] <geirha> *BASH_ENV
[12:09:37] <noent> it feels like a clumsy solution would be to export CUSTOM_PS4="$PS4" and then export PS4="$CUSTOM_PS4" in every script, but.. meh
[12:10:01] *** Joins: jaysicks (~jaysicks@91-82-251-185.pool.digikabel.hu)
[12:10:23] <geirha> that's where BASH_ENV comes in
[12:11:23] <noent> but I'd still have to change all the scripts, right?
[12:11:55] <geirha> no
[12:12:40] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 272 seconds)
[12:13:04] <noent> oh, it's sourced
[12:13:11] <noent> ok, maybe that'll help. Ty!
[12:14:03] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 260 seconds)
[12:16:05] *** Quits: NoelFlantier3 (~Hubert@195.201.244.189) (Read error: Connection reset by peer)
[12:16:24] *** Joins: NoelFlantier3 (~Hubert@195.201.244.189)
[12:21:35] *** Joins: yustin (~yustin@user/yustin)
[12:22:08] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[12:22:16] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:6532:e8e0:dc5d:410)
[12:22:16] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:6532:e8e0:dc5d:410) (Changing host)
[12:22:16] *** Joins: skapata (~Skapata@user/skapata)
[12:22:32] *** Joins: kyr (~kyr@167.71.50.12)
[12:28:30] *** Quits: WinterStar (~IceLight@user/icelight) (Ping timeout: 272 seconds)
[12:28:41] *** Joins: loganlee[gnu] (~Thunderbi@user/loganlee)
[12:30:43] *** Joins: WinterStar (~IceLight@user/icelight)
[12:31:30] *** Joins: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp)
[12:31:46] *** Joins: GvJordan (~Jordan@y.gvnet.me)
[12:32:38] *** Joins: situ (~situ@ip-89-176-145-74.net.upcbroadband.cz)
[12:35:45] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[12:36:32] *** Joins: tejr (~tejr@user/tejr)
[12:36:53] *** Joins: Codaraxis (~Codaraxis@user/codaraxis)
[12:40:27] *** Quits: Codaraxis__ (~Codaraxis@user/codaraxis) (Ping timeout: 260 seconds)
[12:40:30] *** Quits: labrador (~labrador@user/labrador) (Quit: Leaving)
[12:40:31] *** Quits: loganlee[gnu] (~Thunderbi@user/loganlee) (Quit: loganlee[gnu])
[12:41:00] *** Joins: labrador (~labrador@user/labrador)
[12:44:23] *** Joins: xmb (~xmb@178.197.208.181)
[12:45:42] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[12:45:43] *** Joins: wonko-the-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane)
[12:46:07] *** Joins: kyr (~kyr@167.71.50.12)
[12:48:59] *** Quits: kyr (~kyr@167.71.50.12) (Client Quit)
[12:49:09] *** Joins: loganlee[gnu] (~Thunderbi@user/loganlee)
[12:49:23] *** Joins: kyr (~kyr@167.71.50.12)
[12:49:23] *** Quits: xmb (~xmb@178.197.208.181) (Read error: Connection reset by peer)
[12:49:56] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[12:50:55] *** Quits: cdman (~dcm@user/dmc/x-4369397) (Remote host closed the connection)
[12:50:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[12:51:18] *** Joins: cdman (~dcm@27.2.217.171)
[12:51:18] *** Quits: cdman (~dcm@27.2.217.171) (Changing host)
[12:51:18] *** Joins: cdman (~dcm@user/dmc/x-4369397)
[12:51:27] *** Joins: bomb-on (~bomb-on@user/bomb-on)
[12:51:41] *** Quits: bomb-on (~bomb-on@user/bomb-on) (Client Quit)
[12:53:43] *** Quits: wyfnt (~wyfnt1232@103.51.58.113) (Read error: Connection reset by peer)
[12:54:11] *** Quits: chenqisu12 (~chenqisu1@183.217.200.168) (Quit: Leaving)
[12:55:22] *** Joins: quhar (~quhar@192.162.148.48)
[12:59:01] *** Joins: fling (~fling@user/fling)
[13:01:04] *** Joins: cart_ (~cart@2a01:4c8:41:b099:40dd:c379:17c:7ef3)
[13:03:16] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[13:03:40] *** Joins: kyr (~kyr@167.71.50.12)
[13:05:41] *** Joins: xmb (~xmb@178.197.208.181)
[13:07:29] *** Quits: labrador (~labrador@user/labrador) (Quit: Leaving)
[13:07:59] *** Joins: shad (~shad@user/shad)
[13:10:03] *** Joins: duxsco (~Thunderbi@user/duxsco)
[13:10:04] *** Quits: ekathva (~ekathva@93-90-58-246.welcomnet.fi) (Quit: Leaving)
[13:18:18] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[13:21:34] *** Quits: loganlee[gnu] (~Thunderbi@user/loganlee) (Quit: loganlee[gnu])
[13:23:48] *** Quits: heiner (~Thunderbi@2a00:6020:b006:a900:d250:99ff:fe34:8fd2) (Quit: heiner)
[13:24:03] *** Joins: heiner (~Thunderbi@2a00:6020:b006:a900:d250:99ff:fe34:8fd2)
[13:25:44] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873)
[13:26:37] *** Quits: SJrX (~sjr@S0106302303dfb018.vf.shawcable.net) (Ping timeout: 240 seconds)
[13:28:57] *** Quits: dreinull30 (~dreinull@2a01:4f8:1c1c:8981::1) (Quit: The Lounge - https://thelounge.chat)
[13:31:02] *** Joins: gilesw (~gwestwood@static-83-146-62-213.vodafonexdsl.co.uk)
[13:31:58] *** Joins: dreinull30 (~dreinull@2a01:4f8:1c1c:8981::1)
[13:33:10] *** Quits: sebn (~sebn@c90-142-43-192.bredband.tele2.se) (Remote host closed the connection)
[13:34:41] *** Joins: ^wuseman (~wuseman@90-227-24-194-no68.tbcn.telia.com)
[13:35:04] *** ^wuseman is now known as Guest4550
[13:35:43] *** Quits: cluelessperson (~cluelessp@user/cluelessperson) (Excess Flood)
[13:36:26] *** Joins: cluelessperson (~cluelessp@user/cluelessperson)
[13:36:46] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[13:41:38] *** Quits: wuseman (~wuseman@user/wuseman) (Quit: ZNC - https://znc.in)
[13:43:18] *** Quits: cdman (~dcm@user/dmc/x-4369397) (Ping timeout: 260 seconds)
[13:44:11] *** Joins: masber (~masber@2001:620:808:1001::28f7)
[13:45:49] *** Joins: cdman (~dcm@user/dmc/x-4369397)
[13:46:32] *** Joins: tuskkk____ (uid18470@id-18470.tinside.irccloud.com)
[13:51:04] *** Joins: xx (~xx@user/xx)
[13:51:29] *** Quits: cdman (~dcm@user/dmc/x-4369397) (Quit: Leaving)
[13:52:04] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[13:53:29] <marshmallow> say I'm receiving some input from a pipe, but also I need to take another input from a file, how could I do that?
[13:54:06] <marshmallow> e.g.: `command | cat > text.txt` would write the output of command to file text.txt
[13:54:40] <geirha> { cmd ; cat otherfile ; } > newfile
[13:54:42] <marshmallow> now, I'd need to write the output of command but also some other outputs
[13:55:10] *** Joins: SJrX (~sjr@S0106302303dfb018.vf.shawcable.net)
[13:56:16] <marshmallow> what about if there's another command before, whose output needs to be used by both subsequent commands?
[13:56:24] *** Joins: Major_Biscuit (~MajorBisc@c-001-024-026.client.tudelft.eduvpn.nl)
[13:56:35] <marshmallow> cmd0 | { cmd ; cat otherfile ; } > newfile
[13:56:36] <marshmallow> ?
[13:56:48] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[13:56:50] <geirha> only cmd will use cmd0's output there
[13:57:03] <marshmallow> uhmm, right
[13:57:09] <geirha> if you need to duplicate the output, you want tee(1)
[13:57:11] *** Quits: Major_Biscuit (~MajorBisc@c-001-024-026.client.tudelft.eduvpn.nl) (Client Quit)
[13:57:28] *** Joins: Major_Biscuit (~MajorBisc@c-001-024-026.client.tudelft.eduvpn.nl)
[13:57:33] <xmb> you can serially read multiple files
[13:57:35] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[13:57:40] <xmb> or map em for later together processment
[13:57:49] <marshmallow> I'd prefer using tee(1)
[13:57:58] *** Joins: fling (~fling@user/fling)
[13:58:00] <xmb> u said read
[13:58:03] <xmb> in first msg
[13:58:09] <xmb> not write
[13:59:13] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873) (Ping timeout: 250 seconds)
[13:59:35] *** Quits: MajorBiscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e) (Ping timeout: 256 seconds)
[13:59:36] <geirha> A | tee >(B) >(C) >/dev/null      now both B and C get A's output, but they'll be running in parallel, so their output may be intermixed
[13:59:58] *** Quits: qub411 (~user@60-242-81-127.tpgi.com.au) (Ping timeout: 246 seconds)
[14:00:25] <xmb> right, weak hacks
[14:00:34] <marshmallow> geirha: uhmm, no I would need the output (newfile) to be always the same
[14:00:57] <geirha> then use tempfile(s)
[14:01:42] <xmb> so u got two input sources u wish to merge
[14:01:49] <xmb> how do they look like, data wise
[14:02:00] <xmb> merge as in process togetherly
[14:02:01] *** Joins: qub411 (~user@27-33-115-9.tpgi.com.au)
[14:03:54] *** Joins: cdown (~cdown@user/cdown)
[14:04:26] *** Quits: richardm645 (~quassel@2600:8801:c502:f700:8528:908f:6dc8:b6a7) (Ping timeout: 252 seconds)
[14:08:38] <marshmallow> geirha: can't I do something like cmd0 | tee >(cmd1 > newfile) | cmd2 >> newfile ?
[14:08:52] <marshmallow> and here cmd2 takes the output of cmd0
[14:09:06] <geirha> you can, but cmd1 and cmd2 run in parallel, so they'll both be writing to that file at the same time
[14:09:35] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[14:10:17] <geirha> you have to store one of the commands' output in a variable or tempfile
[14:11:03] *** Joins: taupiqueur (~taupiqueu@174.105.204.77.rev.sfr.net)
[14:11:07] <geirha> cmd2_output=$(cmd0 | tee >(cmd1 > newfile) | cmd2) && printf '%s\n' "$cmd2_output" >> newfile
[14:11:10] <xmb> # exec 3< <( printf 1\\n2 ) 4< <( printf 3\\n4 ) ; until [[ -v stop ]] ; do read -ru 3 one || stop= ; read -ru 4 two || stop= ; printf '%s -- %s\n' "$one" "$two" ; done
[14:11:10] <shbot> xmb: 1 -- 3
[14:11:10] <shbot> xmb: 2 -- 4
[14:11:18] <geirha> that's assuming cmd2 outputs text and not binary data
[14:12:56] <geirha> if it's ok to run cmd0 twice instead, you can simplify it to { cmd0 | cmd1 ; cmd0 | cmd2 ; } > newfile
[14:13:42] <geirha> alternatively store cmd0's output in a variable, then feed it to the others
[14:15:15] <Earnestly> For me, s/variable/file, and that's what I'd do
[14:15:51] *** Quits: Guest4550 (~wuseman@90-227-24-194-no68.tbcn.telia.com) (Quit: ZNC - https://znc.in)
[14:17:13] <xmb> i dont get it, i couldnt make much, his first msg was 'read first file but also read second file'
[14:17:37] *** Joins: wuseman (~wuseman@90-227-24-194-no68.tbcn.telia.com)
[14:17:37] *** Quits: wuseman (~wuseman@90-227-24-194-no68.tbcn.telia.com) (Changing host)
[14:17:37] *** Joins: wuseman (~wuseman@user/wuseman)
[14:19:08] *** Joins: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge)
[14:19:28] *** Quits: taupiqueur (~taupiqueu@174.105.204.77.rev.sfr.net) (Ping timeout: 260 seconds)
[14:19:28] <dionysus69> how would I get this fingerprint from this line ?
[14:19:29] <dionysus69> <link href="/assets/map_listing/bundle.5e223f95f159b2861eabeb0435d296821b77e227.css" rel="stylesheet">
[14:19:30] *** Joins: taupiqueur_ (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[14:19:33] <dionysus69> with awk?
[14:19:35] <djph> xmb: and it expanded from there ...
[14:19:50] *** Joins: Sulky (~Sulky@37.169.3.189)
[14:19:57] <djph> dionysus69: the 5e22[...] bit?
[14:19:59] <dionysus69> after bundle. and before .css
[14:20:01] <dionysus69> yes
[14:20:04] <dionysus69> @djph
[14:20:15] <djph> break on full-stops, print field 2 ?
[14:20:19] <dionysus69> awk '/\/assets\/map_listing\/bundle\.(.*)\.css/' some_file
[14:20:24] <djph> stab in the dark though
[14:20:26] <dionysus69> I have this but can't print the captured part
[14:21:10] *** Joins: j0hn_mc_clane (~j0hn_mc_c@dd577050e.access.telenet.be)
[14:21:27] <xmb> # gawk <<<' <link href="/assets/map_listing/bundle.5e223f95f159b2861eabeb0435d296821b77e227.css" rel="stylesheet">' -v RS=. 'NR == 2'
[14:21:28] <shbot> xmb: 5e223f95f159b2861eabeb0435d296821b77e227
[14:21:44] <dionysus69> xmb: thanks I will try that!
[14:21:47] <xmb> djph, yea sorry i must change the font
[14:22:19] <xmb> remove the <<<' .. ' part for usage
[14:22:28] <xmb> it is for stdin to here to show
[14:22:33] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[14:23:33] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[14:23:33] *** Joins: iliv (~iliv@user/iliv)
[14:26:08] <dionysus69> @xmb roger that ^.^
[14:26:13] <xmb> =))
[14:26:23] <xmb> the file variable dude should have answered ONE msg to me at least
[14:26:37] *** Joins: nattiestnate (~nate@202.138.250.9)
[14:27:08] <dionysus69> xmb: but the fingerprint is variable :D
[14:27:16] <dionysus69> it can change, how do I match it with regex ? :)
[14:27:27] <xmb> er is the format the same
[14:27:32] <xmb> u dont <<<
[14:27:34] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 272 seconds)
[14:27:39] <xmb> u pass the data, the line, as u asked, to awk
[14:27:45] <xmb> without the <<<, then it should work
[14:27:51] <xmb> but if the format of the html changes its else
[14:28:00] <dionysus69> no the format stays
[14:28:01] <xmb> matching in awk is longer, two commands or so
[14:28:06] <xmb> so it works
[14:28:07] <xmb> test it
[14:28:13] <xmb> u didnt get how to test it seems me
[14:28:24] <xmb> you, awk -v RS=. NR==2 <<<"$line"
[14:28:55] <xmb> if you parse it out of bigger html, even more values to parse, gimme html source i make code
[14:29:06] <dionysus69> https://paste.debian.net/1235957/
[14:29:32] <dionysus69> ohh
[14:29:35] <dionysus69> I see
[14:29:41] <dionysus69> I am noob at shell :D
[14:29:46] <dionysus69> will try that I guess one sek
[14:30:20] <xmb> let us know yes
[14:30:26] <djph> dionysus69: as long as the thing is always the same format (i.e. stuff.fingerprint.morestuff ) then you only need to worry about the delimiter, and break it there.
[14:30:59] <xmb> there are many ways to get data out of structured data
[14:31:20] <xmb> i choosen (new style) this, separate by . ( dot ) and print second match
[14:31:29] <djph> the easiest being something designed to parse said data.
[14:31:49] *** Quits: situ (~situ@ip-89-176-145-74.net.upcbroadband.cz) (Ping timeout: 246 seconds)
[14:32:17] <dionysus69> xmb, djph:  this one works https://paste.debian.net/
[14:32:35] *** Quits: jaamro (~jaamro@user/ormaaj) (Quit: Client closed)
[14:32:50] *** Joins: jaamro (~jaamro@user/ormaaj)
[14:32:58] <xmb> lol check your url
[14:33:22] <xmb> cat /usr/local/bin/0x0.st
[14:33:23] <xmb> curl -F'file=@-' http://0x0.st
[14:33:23] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 260 seconds)
[14:37:07] *** Quits: KevinX (~KevinX@user/KevinX) (Ping timeout: 260 seconds)
[14:43:35] *** Quits: Sulky (~Sulky@37.169.3.189) (Read error: Connection reset by peer)
[14:44:07] *** Joins: Sulky (~Sulky@37.169.3.189)
[14:44:19] *** Joins: \\Mr_C\\ (mrc@cpe-75-187-191-230.neo.res.rr.com)
[14:55:00] *** Quits: w1kl4s (~w1kl4s@user/w1kl4s) (Quit: Ping timeout (120 seconds))
[14:57:12] *** Joins: KevinX (~KevinX@user/KevinX)
[14:57:55] *** Joins: situ (~situ@nat-pool-brq-u.redhat.com)
[15:06:08] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[15:08:13] *** Quits: ncrowl (~ncrowl@83-233-50-48.cust.bredband2.com) (Ping timeout: 246 seconds)
[15:10:12] *** Quits: Mo (~Mo@dynamic-077-008-155-173.77.8.pool.telefonica.de) (Ping timeout: 260 seconds)
[15:10:13] *** Joins: ncrowl (~ncrowl@94-255-226-37.cust.bredband2.com)
[15:12:17] *** Joins: reset (~reset@user/reset)
[15:14:36] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[15:14:39] *** Joins: VoidSync (~sync@user/voidsync)
[15:15:51] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[15:18:18] *** Joins: cdown_ (~cdown@user/cdown)
[15:18:22] *** Quits: w0ng (~w0ng@185.218.127.4) (Ping timeout: 240 seconds)
[15:19:31] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[15:19:58] *** Joins: kurahaupo_ (~kurahaupo@pa49-197-92-84.pa.qld.optusnet.com.au)
[15:20:19] *** Joins: cdown__ (~cdown@user/cdown)
[15:20:43] *** Quits: cdown (~cdown@user/cdown) (Ping timeout: 260 seconds)
[15:20:52] *** cdown__ is now known as cdown
[15:21:31] *** Quits: OlCe` (~user@lfbn-nic-1-121-125.w2-15.abo.wanadoo.fr) (Ping timeout: 246 seconds)
[15:22:06] *** Joins: lavaball (felix@31.204.155.215)
[15:22:58] *** Quits: cdown_ (~cdown@user/cdown) (Ping timeout: 260 seconds)
[15:23:18] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 272 seconds)
[15:23:32] <xmb>  kernel:[38688.529012] Uhhuh. NMI received for unknown reason 2c on CPU 3. -- sometimes happens i see
[15:23:39] *** Quits: uzee (~uzee@86.36.37.198) (Quit: Leaving)
[15:26:25] *** Joins: w0ng (~w0ng@185.218.127.4)
[15:26:54] *** Joins: Pall (~Pall@2a00:23c5:fc89:aa01:f9a3:6d66:75e2:8ca6)
[15:26:58] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[15:29:09] *** Joins: unop (~unop@195.91.4.124)
[15:31:14] *** Quits: redgloboli (~redglobol@user/redgloboli) (Quit: ...enter the matrix...)
[15:32:45] *** Quits: fef (~thedawn@user/thedawn) (Remote host closed the connection)
[15:33:07] *** Joins: redgloboli (~redglobol@user/redgloboli)
[15:33:18] *** Joins: fef (~thedawn@user/thedawn)
[15:33:54] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Quit: Client closed)
[15:34:12] *** Joins: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de)
[15:34:23] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[15:34:53] *** Joins: kurahaupo (~kurahaupo@pa49-182-76-6.pa.qld.optusnet.com.au)
[15:36:30] *** Quits: kurahaupo_ (~kurahaupo@pa49-197-92-84.pa.qld.optusnet.com.au) (Ping timeout: 260 seconds)
[15:38:23] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[15:40:33] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.4.1)
[15:40:41] *** Joins: vishal (~vishal@fedora/vishal)
[15:41:02] *** Joins: kurahaupo_ (~kurahaupo@115.69.27.211)
[15:42:18] *** Quits: shad (~shad@user/shad) (Ping timeout: 272 seconds)
[15:42:22] *** Quits: redgloboli (~redglobol@user/redgloboli) (Quit: ...enter the matrix...)
[15:43:04] *** Joins: redgloboli (~redglobol@user/redgloboli)
[15:44:50] *** Quits: kurahaupo (~kurahaupo@pa49-182-76-6.pa.qld.optusnet.com.au) (Ping timeout: 272 seconds)
[15:45:17] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[15:45:33] *** Joins: unop (~unop@195.91.4.124)
[15:46:13] *** Quits: cart_ (~cart@2a01:4c8:41:b099:40dd:c379:17c:7ef3) (Ping timeout: 240 seconds)
[15:51:39] *** Joins: OlCe`` (~user@lfbn-nic-1-449-48.w90-116.abo.wanadoo.fr)
[15:53:01] *** Quits: Scarecr0w (~intern0t@user/scarecr0w) (Quit: ~ Server made a boo boo.)
[15:53:41] *** Joins: Payam19 (~Payam@138.106.57.131)
[15:54:21] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[15:54:53] *** Joins: Palll (~Pall@host109-158-100-165.range109-158.btcentralplus.com)
[15:56:15] *** Joins: Scarecr0w (~intern0t@user/scarecr0w)
[15:56:43] *** Quits: duxsco (~Thunderbi@user/duxsco) (Quit: duxsco)
[15:57:15] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873)
[15:58:02] *** Quits: Pall (~Pall@2a00:23c5:fc89:aa01:f9a3:6d66:75e2:8ca6) (Ping timeout: 260 seconds)
[16:00:12] <noent> geirha: BASH_ENV doesn't seem to work (I did export BASH_ENV=some_file in the first script being started), so I guess I'll adjust all relevant scripts by hand
[16:00:57] <xmb> u trying to include code in sub bashes ?
[16:04:35] *** Quits: Palll (~Pall@host109-158-100-165.range109-158.btcentralplus.com) (Quit: Leaving)
[16:10:40] *** Quits: yustin (~yustin@user/yustin) (Remote host closed the connection)
[16:13:56] <geirha> you'll want to provide an absolute path to BASH_ENV
[16:14:38] *** Joins: cart_ (~cart@213.205.198.87)
[16:16:04] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[16:16:37] <geirha> # printf '%s\n' 'PS4="+ \T "' 'set -x' > bashenv ; export BASH_ENV=$PWD/bashenv; printf 'echo hello\n' > myscript ; bash ./myscript
[16:16:38] <shbot> geirha: + 11:46:37 echo hello
[16:16:38] <shbot> geirha: hello
[16:16:42] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[16:16:42] *** Joins: iliv (~iliv@user/iliv)
[16:16:49] *** Joins: kj (~kj@kj.aerisnetwork.net)
[16:17:22] <Masklin> I think the bash if clause structure is very difficult to remember
[16:17:29] <Masklin> Do you have any tricks to remember it?
[16:17:45] <geirha> run ''help if''
[16:18:14] *** Joins: malina (~malina@user/malina)
[16:18:58] <Masklin> 'twas that easy all along?!
[16:18:58] <wiscii> does anybody know if/where i can find pre-built shellcheck ?
[16:19:21] <wiscii> version 8 for ubuntu will do
[16:19:40] *** Quits: situ (~situ@nat-pool-brq-u.redhat.com) (Ping timeout: 272 seconds)
[16:20:24] *** Joins: duxsco (~Thunderbi@user/duxsco)
[16:20:31] *** Quits: Oleg (~Oleg@ool-45745511.dyn.optonline.net) (Quit: WeeChat 3.4)
[16:20:41] <geirha> someone's probably made a ppa for it
[16:20:43] <xmb> if then [elif | else ] fi
[16:21:07] *** Quits: teear (~teear@cbharraste.eu) (Quit: reboot)
[16:21:12] *** Quits: libsys (~libsys@186.105.128.84) (Ping timeout: 260 seconds)
[16:21:23] <wiscii> geirha: i think koala_man does do builds any more
[16:21:32] <wiscii> does *not* do
[16:21:36] <djph> seems to be in the universe repos already ...
[16:21:53] *** Joins: libsys (~libsys@186.105.161.48)
[16:22:02] <djph> although it's 0.7.2 and not 0.8 of github (meh)
[16:22:04] <Masklin> Characters inside [[ are protected ja?
[16:22:17] <wiscii> djph: yeah .. exactly
[16:22:31] <djph> but that's also how Ubuntu _works_
[16:22:40] <geirha> snap install shellcheck
[16:23:11] <noent> xmb: yeah, actually I want to set PS4
[16:23:18] <xmb> 0x0.st <shellcheck_0.8.0-2_amd64.deb
[16:23:18] <xmb> http://0x0.st/oq2j.bin
[16:23:25] <noent> geirha: I ddi that. It was in /etc
[16:23:25] *** Joins: trafficjam (~trafficja@119-12-218-129.dynamic.ipstaraus.com)
[16:23:34] <djph> no idea what cabal is, but there are also compile instructions in the repo
[16:23:47] <geirha> noent: and you set both PS4 and set -x in it?
[16:23:48] <noent> should I 'see' the source'ing of BASH_ENV in set -x?
[16:24:00] <xmb> noent, well i dunno completly what ur trying, you wanna set PS4 for all then export it
[16:24:01] <noent> no, I only set PS4. -x propagates
[16:24:37] <noent> xmb: geirha told me that doesn't work because PS4 is not inherited for security reasons
[16:24:43] <geirha> add a   printf 'I AM BASH_ENV\n' >&2
[16:24:44] <noent> (and actually it does not work)
[16:25:04] <geirha> PS4 is inherited normally, just not when running as root
[16:25:13] <xmb> maybe -p can do
[16:25:19] <noent> yes, that's what I meant
[16:25:23] <noent> -p?
[16:25:33] <xmb> doubt so
[16:26:13] <xmb> # bash --init-file <( printf PS4=foo' ) ..
[16:26:19] <shbot> xmb: Missing terminating quote, bracket or keyword
[16:26:37] <xmb> the one quote, make it two or none
[16:26:39] *** Joins: teear (~teear@cbharraste.eu)
[16:27:28] <geirha> # printf '%s\n' 'PS4="+ \T "' 'set -x' > bashenv ; export BASH_ENV=$PWD/bashenv; printf 'bash otherscript\n' > myscript ; printf 'echo hello\n' > otherscript ; bash ./myscript
[16:27:29] <shbot> geirha: + 11:57:29 bash otherscript
[16:27:29] <shbot> geirha: + 11:57:29 echo hello
[16:27:30] <shbot> geirha: hello
[16:27:58] <geirha> noent: ^ shbot runs as root, and the inner shell got the PS4
[16:29:11] <xmb> # printf 'echo hello\\n' >f ; bash --init-file <( printf %s\\n $'PS4=\'+ \T "\'' 'set -x' ) f
[16:29:12] <shbot> xmb: hellon
[16:29:22] <xmb> trying :)
[16:29:33] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873) (Ping timeout: 260 seconds)
[16:31:18] <geirha> # printf '%s\n' 'PS4="+ \$BASH_SOURCE:\$LINENO:"' 'set -x' > bashenv ; export BASH_ENV=$PWD/bashenv; printf 'bash otherscript\n' > myscript ; printf 'echo hello\n' > otherscript ; bash ./myscript
[16:31:19] <shbot> geirha: + ./myscript:1:bash otherscript
[16:31:19] <shbot> geirha: + otherscript:1:echo hello
[16:31:19] <shbot> geirha: hello
[16:32:10] <xmb> i guess use that
[16:32:12] <noent> ok, I'll try again. It's a bit annoying to test because I have to rebuild a initrd every time. What I got is: a 'root' script ran as root with 'exec 19 > /tmp/mylog.log; set -x; export BASH_XTRACEFD=19; source /etc/debug/set_ps4; export SHELLOPTS; export BASH_ENV=/etc/debug/set_ps4' and then other scripts that are started from there which in turn run other scripts, etc
[16:35:23] *** Quits: Everything (~Everythin@37.115.210.35) (Ping timeout: 260 seconds)
[16:36:54] *** Joins: Everything (~Everythin@37.115.210.35)
[16:37:28] *** Joins: joern (~joern@ip4d16f83d.dynamic.kabel-deutschland.de)
[16:37:38] <geirha> and you're sure all the scripts are bash scripts?
[16:37:59] <geirha> if they are sh scripts, it won't work, even if sh is symlinked to bash
[16:38:44] <Masklin> What's probably wrong with    if [[ "$(foo | bar)" == boo* ]] ; then ...   ?
[16:40:18] <Masklin> Never mind, it was inside 'foo'
[16:40:53] *** Quits: Payam19 (~Payam@138.106.57.131) (Quit: Client closed)
[16:41:00] <noent> geirha: pretty sure that at least the important ones are bash scripts, but I'll recheck
[16:42:33] *** Joins: Oleg (~Oleg@ool-45745511.dyn.optonline.net)
[16:42:48] *** Joins: sn1tch3r (~sn1tch3r@user/sn1tch3r)
[16:42:49] *** Quits: sn1tch3r (~sn1tch3r@user/sn1tch3r) (Remote host closed the connection)
[16:43:41] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[16:45:00] *** Quits: taupiqueur_ (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 272 seconds)
[16:48:14] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[16:48:38] *** Quits: Oleg (~Oleg@ool-45745511.dyn.optonline.net) (Quit: WeeChat 3.4)
[16:48:41] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[16:50:08] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[16:50:43] *** Joins: thiras (~thiras@user/thiras)
[16:51:08] *** Joins: bertvvvs (~bertvvvs@user/bertvvvs)
[16:52:28] *** Joins: Oleg (~Oleg@ool-45745511.dyn.optonline.net)
[16:52:57] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[16:53:15] <xmb> new netfilter linux root bug .. https://lwn.net/ml/oss-security/1b176761-5462-4f25-db12-1b988c81c34a@gmail.com/
[16:53:24] *** Quits: Oleg (~Oleg@ool-45745511.dyn.optonline.net) (Client Quit)
[16:53:47] *** Joins: unop (~unop@195.91.4.124)
[16:55:55] *** Quits: fling (~fling@user/fling) (Remote host closed the connection)
[16:55:55] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[16:56:21] *** Joins: fling (~fling@user/fling)
[16:56:49] *** Joins: shad (~shad@user/shad)
[16:58:55] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Ping timeout: 240 seconds)
[16:59:15] *** Quits: Everything (~Everythin@37.115.210.35) (Quit: leaving)
[16:59:18] *** Joins: Oleg (~Oleg@ool-45745511.dyn.optonline.net)
[17:01:23] *** Quits: quhar (~quhar@192.162.148.48) (Quit: WeeChat 3.3)
[17:01:37] *** Joins: Sulky_ (~Sulky@37.165.127.43)
[17:02:02] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[17:02:30] *** Quits: han-solo (~han-solo@user/han-solo) (Read error: Connection reset by peer)
[17:04:04] *** Joins: nosolls (~nosolls@user/nosolls)
[17:04:38] *** Quits: Sulky (~Sulky@37.169.3.189) (Ping timeout: 272 seconds)
[17:08:17] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[17:08:18] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[17:08:38] *** Joins: jlj_ (~jlj@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net)
[17:08:40] *** Joins: unop (~unop@195.91.4.124)
[17:09:09] <ash_worksi> is $(< file) kosher? https://smallstep.com/blog/command-line-secrets/
[17:09:30] <geirha> !$(<
[17:09:31] <greybot> In bash, $(cat file) can be replaced by the equivalent but faster $(< file).
[17:09:56] <ash_worksi> i never knew
[17:10:01] <ash_worksi> thanks
[17:10:26] <geirha> posix leaves it undefined, so don't use it in sh scripts
[17:10:32] *** Joins: cdman (~dcm@user/dmc/x-4369397)
[17:12:08] <ash_worksi> oh thanks for the warning
[17:12:33] <ash_worksi> I was actually using in it in an alpine container so that might've driven me nuts
[17:13:24] <xmb> doesnt it bash
[17:13:33] <noent> geirha: it works. I tricked myself. I edited the wrong file and used the 'root' script without the BASH_ENV solution all the time. Thanks for your patience!
[17:14:24] <ash_worksi> xmb: @me?
[17:15:12] <xmb> yea, just wondering small'ly
[17:15:42] <ash_worksi> xmb: not by default; I could add it, but for my test I am not building a container, so it's all sh right now
[17:15:57] <xmb> i see, thanks, no < then
[17:16:06] <xmb> i suggest, however, you add bash
[17:16:20] <xmb> cause bash has [[ and other basic coding functionality, .. for me if i need code i bash i cant sh
[17:16:40] <ash_worksi> it may not be necessary for prod
[17:16:42] *** Joins: han-solo (~han-solo@user/han-solo)
[17:18:09] <ash_worksi> there's no scripts, it's just the command for redis: `sh -c 'redis-server --requirepass "$(cat /run/secrets/redis_sess_password)"'`
[17:18:25] <xmb> oh, ah, cool
[17:18:42] <xmb> this redis style is very .. security faulty
[17:18:46] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:19:00] <xmb> i guess the pass is salted right =p
[17:19:06] * ash_worksi is marveling at one of the rare times it's appropriate to end with all 3 quote marks
[17:19:29] <xmb> normal, good work =))
[17:19:29] <ash_worksi> xmb: there is a more advanced ACL system that I apparently don't care about
[17:20:11] <xmb> kk
[17:20:28] <xmb> i stay away with my fingers of bloat protcols and stuff no idea much what it is but i know i dont want it :))
[17:20:48] *** Quits: joern (~joern@ip4d16f83d.dynamic.kabel-deutschland.de) (Quit: Client closed)
[17:20:49] <ash_worksi> xmb: anyway, so yeah, --requrepass doesn't appear in `ps -ef` if you actually exec on the container
[17:21:06] <xmb> i see, k then
[17:21:20] *** Quits: han-solo (~han-solo@user/han-solo) (Ping timeout: 252 seconds)
[17:21:21] <xmb> however there is sar ps stat tool it lists starting arguments
[17:21:23] <xmb> i think
[17:21:38] <ash_worksi> i dunno if there is a way to further dig up the password through `strace` or something...
[17:21:44] <xmb> i used it long years ago, at.sar or sar.sysstat or something, it showed exited processes as well
[17:21:48] <ash_worksi> xmb: or possibly what you just said
[17:21:56] <xmb> is it encrypted
[17:22:00] <xmb> or is it plaintext password
[17:22:08] <xmb> the in the file
[17:22:14] <ash_worksi> but the fact is, if you have that level of access to the container, you could just `tail -n +1 /run/secrets/*` and you have all secrets
[17:22:39] <ash_worksi> xmb: it is encrypted off the container and in plaintext inside the container
[17:22:58] <xmb> but the file data, the cat file, whats it say
[17:23:00] <ash_worksi> xmb: unless you are in the docker group, I don't think there's anyway to view it
[17:23:03] <xmb> abcfoopass or encrypted
[17:24:01] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 246 seconds)
[17:24:06] <ash_worksi> xmb: if you cat the file on the machine, it will be encrypted. If you run `docker exec redis cat /run/secrets/redis_sess_password` it will be in plaintext
[17:24:25] <xmb> so i say error big time
[17:24:48] <xmb> if a software, like big one like httpd ( so is rndis ) awaits --plaintext-password <here> DONT USE
[17:24:49] <xmb> :))
[17:25:14] <xmb> side mentioned, i know of two pass ways
[17:25:27] <xmb> one is a hash match, to a dir / file structure of 600 permission
[17:25:36] <xmb> the other is pass passwords via stdin or the like
[17:25:41] <xmb> or they will be not hidden
[17:25:50] <xmb> ps auxwweef for example
[17:25:54] <xmb> or in spanwing even in logs
[17:26:02] <xmb> ./spawn --pass mypass
[17:26:06] <xmb> very .. no good
[17:26:34] <dirtwash> whats the proper way to read a multi-line input via stdin into bash intoa var so i can extract something from it?
[17:26:50] <dirtwash> somehow its not straight forward it seems
[17:26:54] <xmb> maybe read with mapfile -d ''
[17:27:08] <xmb> # printf foo\\nbar\\nbleh >f ; mapfile -d '' f ; declare -p f
[17:27:14] <shbot> xmb: no output within the time limit
[17:27:21] <xmb> # printf foo\\nbar\\nbleh >f ; mapfile -d '' f <f ; declare -p f
[17:27:22] <shbot> xmb: declare -a f=([0]=$'foo\nbar\nbleh')
[17:28:00] *** Quits: \\Mr_C\\ (mrc@cpe-75-187-191-230.neo.res.rr.com) (Quit: (Read error: Connection reset by beer, You Phuq With Me, You Phuq With The B0rg.0rg))
[17:28:00] <xmb> if it contains all 0 - 255 chars the file, then reading in one is not possible, but mapfile will stack it up
[17:28:30] <ash_worksi> # mapfile -p input <(printf '%s\n' 'line one' 'line two'); declare -p input
[17:28:31] <shbot> ash_worksi: bash: mapfile: -p: invalid option
[17:28:31] <shbot> ash_worksi: mapfile: usage: mapfile [-d delim] [-n count] [-O origin] [-s count] [-t] [-u fd] [-C callback] [-c quantum] [array]
[17:28:31] <shbot> ash_worksi: bash: declare: input: not found
[17:28:37] <dirtwash> ok i'll try thanks
[17:28:39] <xmb> then you need a SEP of non null and a separator existinng in the data, then you set IFS=$that_separator and expand ${mapfike[*]}
[17:28:43] <ash_worksi> # mapfile -t input <(printf '%s\n' 'line one' 'line two'); declare -p input
[17:28:49] <shbot> ash_worksi: no output within the time limit
[17:28:55] <xmb> ash, < <(
[17:29:01] <ash_worksi> # mapfile -t input < <(printf '%s\n' 'line one' 'line two'); declare -p input
[17:29:02] <shbot> ash_worksi: declare -a input=([0]="line one" [1]="line two")
[17:29:44] <ash_worksi> I would probably personally use `read`
[17:29:54] <ash_worksi> dirtwash: what kind of input?
[17:30:13] <xmb> mapfile is fast, read is slower, for multiple
[17:30:13] <ash_worksi> oh, into a single var
[17:30:19] <xmb> no idea i thought he wanted too together
[17:30:43] <dirtwash> ash_worksi: curl headers
[17:30:51] <dirtwash> just text
[17:31:10] <xmb> then interate with read on them
[17:31:15] <ash_worksi> dirtwash: you want to parse the headers one by one or... ?
[17:31:15] <xmb> i guess u need em one by one
[17:31:47] <dirtwash> no i need them alltogether
[17:31:57] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[17:32:30] <xmb> tthen mapfile em
[17:32:32] <ash_worksi> dirtwash: and this is coming from `curl -sv ...` I assume?
[17:32:38] <xmb> the idea is
[17:32:48] <xmb> you mapfile data by a non existing separator, which makes it one
[17:32:54] <xmb> you can prolly read it this way too
[17:33:20] <xmb> # read -r -d '' r < <( printf foo\\nbar\\n ) ; declare -p r
[17:33:21] <shbot> xmb: declare -- r="foo
[17:33:21] <shbot> xmb: bar"
[17:33:31] <ash_worksi> dirtwash: or are you preparing headers for curl?
[17:33:36] <dirtwash> ash_worksi: -I
[17:33:44] <xmb> why u need to read it
[17:33:46] <xmb> why mapfile
[17:33:50] <xmb> headers=$( curl command )
[17:34:14] <dirtwash> because they are on disk already
[17:34:15] <xmb> it also data transmits ?
[17:34:27] <xmb> aha ehm i dont get it what ur trying
[17:34:29] <dirtwash> the curl output is a file
[17:34:35] <dirtwash> need to manipulate the file
[17:34:41] <xmb> aha
[17:34:43] <xmb> ok
[17:34:44] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[17:34:44] <ash_worksi> dirtwash: what is your intention with it in a variable?
[17:34:48] <xmb> then next big question
[17:34:51] <xmb> what u wanna do to it
[17:34:55] <ash_worksi> hah
[17:35:02] *** Joins: joern (~joern@ip4d16f83d.dynamic.kabel-deutschland.de)
[17:35:07] <xmb> name is-now and is-desired results
[17:35:08] <ash_worksi> xmb: we are slightly off-sync in our line of questioning
[17:35:26] <dirtwash> yea im thinking it through to do it differnetly, gimme a sec maybe i can solve it myself :)
[17:35:34] <xmb> i suggest we awk a script that does all by itself ( cause of speed )
[17:35:37] <xmb> to change your files
[17:35:48] <xmb> k good luck and best wishes
[17:35:50] <ash_worksi> 👍
[17:35:59] <dirtwash> yea awk but i dont want to change the files
[17:36:05] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 250 seconds)
[17:36:05] <xmb> u said mod the files
[17:36:11] <xmb> maybe first think then write
[17:36:31] <dirtwash> well i meant manipulate the data in the file, fair enoufh
[17:36:39] <xmb> right
[17:36:42] <xmb> so tell about it
[17:36:44] <xmb> and we code it
[17:36:48] <xmb> i the gawk part
[17:36:59] <xmb> it can be standalone gawk command with files as args and it does change em by itself
[17:37:04] <ash_worksi> xmb: let them think through first
[17:37:09] <xmb> k
[17:40:39] *** Quits: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:41:14] <dirtwash> when i try mapfile the output looks wrong, filled with \n and \rs
[17:41:31] <twkm> perhaps you want -t
[17:42:02] <xmb> -t removes em
[17:42:07] <twkm> the presence of \r's is due to a dirty source, remove them first perhaps using recode.
[17:42:54] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[17:43:57] *** Joins: knstn (~knstn@ppp-94-66-57-62.home.otenet.gr)
[17:44:32] *** Quits: af (~af@awalgarg.me) (Ping timeout: 272 seconds)
[17:45:43] <jelly> tr -d '\r' will do in a pinch
[17:46:23] <xmb> bless
[17:46:34] *** Joins: af (~af@awalgarg.me)
[17:50:02] *** Joins: iomari891 (~iomari891@197.210.84.73)
[17:51:15] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 240 seconds)
[17:51:55] <duxsco> i have "5.15.32-r1" stored in a variable and would like to echo "5.15.32-gentoo-r1-x86_64" with the help of bash parameter expansion. version numbers are increasing. thus [0-9]* should be used. is that possible with bash parameter expansion?
[17:52:32] <twkm> yes.
[17:53:01] <xmb> # x=5.15.32-r1 ; printf %s "${x%-*}-gentoo-${x#*-}-x86_64"
[17:53:02] <shbot> xmb: 5.15.32-gentoo-r1-x86_64
[17:54:05] <selckin> # v="5.15.32-r1"; echo ${v/-r*}-gentoo-${v/*-}-x86_64
[17:54:06] <shbot> selckin: 5.15.32-gentoo-r1-x86_64
[17:54:22] <duxsco> that's not bash parameter expansion. i meant something like https://wiki.bash-hackers.org/syntax/pe#search_and_replace
[17:54:35] <duxsco> ah, my bad
[17:54:35] <xmb> # x=5.15.32-r1 ; printf %s "${x/-/-gentoo-}-x86_64"
[17:54:36] <shbot> xmb: 5.15.32-gentoo-r1-x86_64
[17:57:11] *** Joins: han-solo (~han-solo@user/han-solo)
[17:57:47] *** Quits: knstn (~knstn@ppp-94-66-57-62.home.otenet.gr) (Ping timeout: 260 seconds)
[17:59:34] *** Quits: zouhair (~zouhair@lnsm2-montreal02-69-157-101-208.internet.virginmobile.ca) (Quit: KVIrc 5.0.1 Aria http://www.kvirc.net/)
[17:59:35] *** Joins: gas51627 (uid91066@id-91066.helmsley.irccloud.com)
[17:59:41] *** Quits: millido (~millido@84.210.150.128) (Quit: ZNC 1.8.2 - https://znc.in)
[17:59:49] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[18:00:15] *** Joins: fling (~fling@user/fling)
[18:01:50] *** Joins: CodePoint (~CodePoint@107-208-128-79.lightspeed.tukrga.sbcglobal.net)
[18:02:55] *** Joins: zouhair (~zouhair@lnsm2-montreal02-69-157-101-208.internet.virginmobile.ca)
[18:03:32] *** Quits: ninjabuffet (~ninjabuff@user/ninjabuffet) (Ping timeout: 272 seconds)
[18:05:43] <duxsco> i expect the following to print out "-r1", but "2-r1" is printed out. can somebody explain why?
[18:05:44] <duxsco> VAR=5.15.32-r1; echo "${VAR#[0-9]*\.[0-9]*\.[0-9]*}"
[18:07:17] <ormaaj> . isn't special in a fnmatch, as a side-note
[18:08:05] <jelly> noone expects the globbing inquisition
[18:08:06] <duxsco> indeed, i replace "\." with "."
[18:08:10] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[18:08:48] <jelly> duxsco, you seem to be mixing glob and regex syntax
[18:08:56] <ash_worksi> duxsco: why is this not just "${VAR#*-}" ?
[18:09:38] <jelly> # VAR=15.15.3332-r1; echo "${VAR#[0-9]*\.[0-9]*\.[0-9]*}"
[18:09:39] <shbot> jelly: 332-r1
[18:09:42] <duxsco> there is not always a "-r1".
[18:09:48] <jelly> # VAR=15.15.3332-r1; echo "${VAR##[0-9]*\.[0-9]*\.[0-9]*}"
[18:09:48] <shbot> jelly: no output
[18:09:59] <jelly> last * ate all the characters.  All of them,
[18:10:28] <ormaaj> "-${var##*-}"
[18:10:42] <ash_worksi> # VAR=15.15.3332-r1; echo "${VAR#[0-9]*\.[0-9]*\.[0-9]*}"
[18:10:42] *** Joins: kj (~kj@beta.aerisnetwork.net)
[18:10:43] <shbot> ash_worksi: 332-r1
[18:10:45] * dirtwash facepalms
[18:10:46] <duxsco> most of the time version numbers consist of [0-9]*.[0-9]*.[0-9]* as can be seen here https://packages.gentoo.org/packages/sys-kernel/gentoo-sources
[18:10:49] <ash_worksi> # VAR=15.15.3332-r1; echo "${VAR#[0-9]*\.[0-9]*\.[0-9]*-}"
[18:10:50] <shbot> ash_worksi: r1
[18:11:06] <dirtwash> solved my issue, so simple..literally had to change a variable to flip the whole approach...no var needed
[18:11:06] <twkm> in a glob . is literal.
[18:11:12] <twkm> no need for \
[18:11:22] <ash_worksi> # VAR=15.15.3332-r1; echo "${VAR#[0-9]*.[0-9]*.[0-9]*-}"
[18:11:22] <shbot> ash_worksi: r1
[18:11:53] <ash_worksi> dirtwash: 👏
[18:12:08] <jelly> # VAR=5foo.15bar.23baz-r1; echo "${VAR#[0-9]*.[0-9]*.[0-9]*-}"
[18:12:09] <shbot> jelly: r1
[18:12:13] <ash_worksi> duxsco: you just want the releace candidate right?
[18:12:30] *** Joins: frostwork (~frostwork@user/frostwork)
[18:12:37] <ash_worksi> # VAR=15.15.3332; echo "${VAR#[0-9]*.[0-9]*.[0-9]*-}"
[18:12:38] <shbot> ash_worksi: 15.15.3332
[18:13:04] <ash_worksi> or are you trying to detect if a version number is an RC?
[18:13:08] <ormaaj> # VAR=15.15.3332-r1; echo "-${VAR##*-}"
[18:13:09] <shbot> ormaaj: -r1
[18:13:35] <duxsco> ash_worksi: i want to print out the suffix after [0-9]*.[0-9]*.[0-9]* if existent, e.g. "-r1", "-r2" or "_p106" (in case of 4.19.235_p106)
[18:14:13] <ash_worksi> ormaaj: I already proposed that; I think the idea is, "if $version contains an appended release candidate, do something"
[18:14:42] <duxsco> all suggestions expect for the suffix to start with "-"
[18:14:45] <jelly> duxsco, what if it says 5.10.0-12-amd64 ?  Do you wants -amd64 or -12-amd64?
[18:14:45] <ash_worksi> duxsco: and what do you want to do in the event there is no suffix?
[18:14:55] <duxsco> jelly: i want "-amd64"
[18:15:04] <jelly> ## it is then
[18:15:04] <duxsco> i mean -12-amd64
[18:15:11] <jelly> make up your mind :-)
[18:15:26] <ash_worksi> still
[18:15:40] <ash_worksi> what if `ver=1.2.3` ?
[18:15:42] <duxsco> i want to exclude [0-9]*.[0-9]*.[0-9]*. perhaps i should just use sed
[18:15:55] <ash_worksi> is this a list of versions?
[18:16:08] <duxsco> if ver=1.2.3 nothing should be printed out
[18:16:12] <ash_worksi> a file* with a list of versions?
[18:16:20] *** Quits: kj (~kj@beta.aerisnetwork.net) (Quit: Textual IRC Client: www.textualapp.com)
[18:16:24] <duxsco> if ver=1.2.3#asdf then #asdf should be printed out
[18:16:56] <jelly> also, if you want to match and discard regex, maybe use a syntax that deals with regex not glob
[18:17:52] <ash_worksi> duxsco: and if `ver=1.2` ?
[18:18:02] *** Joins: w1kl4s (~w1kl4s@user/w1kl4s)
[18:18:38] <ash_worksi> I wouldn't use bash expansion for this
[18:18:41] <duxsco> ash_worksi: i am working with kernel version. thus, i can expect for variabls to start with [0-9]*.[0-9]*.[0-9]*
[18:19:06] <duxsco> never mind :) i use sed
[18:19:18] <jelly> duxsco, 5.17 is out and it's not 5.17.0, it's 5.17
[18:19:18] *** Joins: millido (~millido@84.210.150.128)
[18:19:23] <Soliton> !cult
[18:19:24] <greybot> The Cult Of The Regex. This eldritch brotherhood is dedicated to the dogma that Every Problem Must Be Solved By A Regular Expression, Preferably A PCRE. They will invent ludicrous problems whose only feasible solution is a regular expression, driving all men mad.
[18:19:35] <dirtwash> ash_worksi: yea the best feeling when u manage it on your own after all and its also fast and efficient
[18:19:47] <dirtwash> learning the hard way still is best
[18:20:15] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Ping timeout: 240 seconds)
[18:20:36] <duxsco> jelly: yeah, sry. i meant kernel versions of sys-kernel/gentoo-sources packages https://packages.gentoo.org/packages/sys-kernel/gentoo-sources
[18:20:42] *** Joins: saki (~saki@gateway/tor-sasl/saki)
[18:21:13] *** Parts: trafficjam (~trafficja@119-12-218-129.dynamic.ipstaraus.com) ()
[18:22:49] *** Quits: CodePoint (~CodePoint@107-208-128-79.lightspeed.tukrga.sbcglobal.net) (Ping timeout: 246 seconds)
[18:24:20] <ormaaj> # VAR=15.15.3332-r1; [[ $VAR =~ (^[[:digit:]]+)(\.[[:digit:]]+)*([_-].+$) ]]; echo "${BASH_REMATCH[@]:1}"
[18:24:21] <shbot> ormaaj: 15 .3332 -r1
[18:25:26] <jelly> this is the way
[18:25:36] <ash_worksi> duxsco: as for the "why", afaict, * will terminiate at a concrete match; so *[0-9] eats up the first number, and then also that number. if you know that the suffix will not be a number you can use * to eat up to it, but it will also eat it
[18:26:21] <ash_worksi> # ver='11.22.33-foo'; echo "${ver#*.*.*[!0-9]}"
[18:26:22] <shbot> ash_worksi: foo
[18:27:26] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873)
[18:27:33] <jelly> # ver='11.22.33-foo'; echo "${ver#*.*.*[!0-9-]}"
[18:27:34] <shbot> jelly: oo
[18:27:34] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Remote host closed the connection)
[18:27:46] *** Joins: saki (~saki@gateway/tor-sasl/saki)
[18:30:19] <ormaaj> my regex didn't capture the first 15
[18:30:54] <ash_worksi> I dunno whats going on with [!0-9-]
[18:30:58] <Soliton> * matches anything. if it's greedy or not is determined by the expansion variant.
[18:31:17] <jelly> that [!0-9] seems to capture -
[18:31:24] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 272 seconds)
[18:31:48] <ash_worksi> yeah, I expected it to because it's not a number
[18:33:00] <ash_worksi> # var=fool; echo "${var#*o}"
[18:33:02] <shbot> ash_worksi: ol
[18:33:08] <ormaaj> Soliton: for # vs ##? Yeah that's weird.
[18:33:11] <ash_worksi> ^ ate one of the 'o's
[18:33:15] <twkm> - is not a digit so of course it matches.
[18:34:48] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[18:35:01] *** Quits: j0hn_mc_clane (~j0hn_mc_c@dd577050e.access.telenet.be) (Quit: Leaving)
[18:35:16] *** Joins: kj (~kj@beta.aerisnetwork.net)
[18:35:28] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[18:35:37] *** Joins: yustin (~yustin@user/yustin)
[18:38:46] *** Quits: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873) (Remote host closed the connection)
[18:38:59] *** Joins: sa0 (~sa0sin@2a01:e0a:414:b360:d10b:be87:ad35:873)
[18:42:26] *** Quits: edlou (uid413273@id-413273.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[18:42:48] <ormaaj> huh this is even worse. I hate the way this grouping works >< ... VAR=15.15.3332-r1; [[ $VAR =~ (^[[:digit:]]+|\.[[:digit:]]+)+([_-].+)$ ]]; echo "${BASH_REMATCH[@]}"
[18:43:55] <ormaaj> it suddnenly decides to match as few as possible but only where groups are concerned
[18:45:00] <ormaaj> and ignores anchors that would normally force matching the whole thing, in the first example anyway.
[18:45:22] <Soliton> you mean the last match is what's left in BASH_REMATCH or what?
[18:45:51] *** Joins: StathisA (~StathisA@178-147-50-166.haap.nym.cosmote.net)
[18:45:52] <Soliton> the whole thing is matched.
[18:45:52] <ash_worksi> nvm, I guess I do get
[18:46:05] <ash_worksi> thank twkm, your push helped me spell it out for myself
[18:46:10] <ormaaj> Say you wanted to collect each group of contiguous digits for example.
[18:46:50] <Soliton> there is no interface for that.
[18:46:58] <Soliton> you have to be explicit.
[18:47:27] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[18:48:06] <OMGOMG> Say you wanted to collect each group of contiguous fucking digits for example.
[18:49:24] <Soliton> explicit means you have to say how many groups.
[18:49:32] <Soliton> capture groups are not dynamic.
[18:49:58] <ormaaj> In this implementation it would seem so.
[18:53:56] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[18:55:13] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[18:55:43] *** Joins: flower_ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[18:56:25] *** Joins: tmm88 (~tmm88@user/tmm88)
[18:57:20] *** Joins: MarderIII (~MarderIII@2a02:a45a:72f1:1:7ceb:194d:d7b1:4db5)
[18:57:33] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[18:58:26] *** Quits: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[18:59:16] *** Quits: flower_ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Client Quit)
[18:59:26] *** Joins: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[18:59:32] *** Joins: flower_ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[19:00:02] *** Quits: tmm88 (~tmm88@user/tmm88) (Client Quit)
[19:03:55] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[19:04:31] *** Joins: fling (~fling@user/fling)
[19:06:34] *** Quits: KevinX (~KevinX@user/KevinX) (Ping timeout: 246 seconds)
[19:06:34] *** Joins: KevinX_ (~KevinX@user/KevinX)
[19:07:31] *** Joins: N4buc0 (~N4buc0@2804:7f4:348b:29b4:d982:4aa4:35d0:f048)
[19:09:27] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[19:09:33] <OnlineCop> Some Docker containers use distros where the only user is root; other containers use distros with a non-root user. Is setting up whether a distro has a root account or not just a few commands, or does it involve quite a lot of changes?
[19:10:31] <phy1729> !nabq
[19:10:32] <greybot> Not a #bash question. We're not experts in that software or OS; consider asking the channel or mailing list with experts on that topic (eg. #docker #git ##kernel #linux #openssh #rsync #systemd #ubuntu #zsh or PM alis with "list KEYWORD" to search for channels).
[19:11:08] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 260 seconds)
[19:12:13] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[19:12:52] *** Quits: bertvvvs (~bertvvvs@user/bertvvvs) (Quit: Y'all have a nice day.)
[19:13:19] <ormaaj> OnlineCop: Can be quite a lot of changes. Thank systemd.
[19:13:43] *** Quits: cdman (~dcm@user/dmc/x-4369397) (Quit: Leaving)
[19:14:32] *** Joins: flower__ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[19:15:36] <ormaaj> Starting with only a root user is way easier than undoing all the crap that distros with default regular users do.
[19:15:43] *** Joins: taupiqueur_ (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[19:16:07] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[19:16:48] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Read error: Connection reset by peer)
[19:17:53] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[19:19:04] *** Joins: wwilliam (~afernande@63.240.73.102)
[19:19:04] *** Quits: wwilliam (~afernande@63.240.73.102) (Changing host)
[19:19:04] *** Joins: wwilliam (~afernande@user/wwilliam)
[19:19:09] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[19:19:21] <wwilliam> !shellcheck
[19:19:21] <greybot> ShellCheck is a shell linting/suggestion tool. Information and online checker: http://www.shellcheck.net/ . Can also be installed locally as a CLI tool.
[19:19:32] *** Quits: N4buc0 (~N4buc0@2804:7f4:348b:29b4:d982:4aa4:35d0:f048) (Remote host closed the connection)
[19:19:32] *** Quits: mak_GR (~mak@ppp079167186232.access.hol.gr) (Ping timeout: 272 seconds)
[19:19:40] *** Joins: N4buc0 (~N4buc0@189.115.86.130)
[19:19:53] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[19:20:19] *** Quits: taupiqueur_ (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[19:22:15] *** Quits: dionysus69 (~Thunderbi@94-43-121-219.dsl.utg.ge) (Ping timeout: 260 seconds)
[19:27:30] *** Joins: zer0bitz (~zer0bitz@2001:2003:f750:a200:544e:226a:9b44:a162)
[19:28:00] *** Joins: sinaowolabi (~SinaOwola@160.152.94.96)
[19:28:16] *** Joins: situ (~situ@ip-89-176-145-74.net.upcbroadband.cz)
[19:36:00] *** Quits: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[19:36:01] *** Joins: maggotbrain (~maggotbra@c-73-225-163-217.hsd1.wa.comcast.net)
[19:36:44] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[19:36:44] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[19:36:44] *** Joins: iliv (~iliv@user/iliv)
[19:38:04] *** Quits: malina (~malina@user/malina) (Ping timeout: 246 seconds)
[19:38:17] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Quit: Leaving)
[19:39:23] *** Joins: ChmEarl (~chmearl@user/chmearl)
[19:40:01] *** Parts: river (river@tilde.team/user/river) (WeeChat 3.4.1)
[19:47:54] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[19:48:07] *** KevinX_ is now known as KevinX
[19:48:40] *** Quits: han-solo (~han-solo@user/han-solo) (Ping timeout: 272 seconds)
[19:48:43] *** Joins: unop (~unop@195.91.4.124)
[19:50:19] *** Joins: han-solo (~han-solo@user/han-solo)
[19:50:34] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 272 seconds)
[19:51:56] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[19:52:16] *** Joins: tejr (~tejr@user/tejr)
[19:52:32] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[19:54:53] *** Quits: MarderIII (~MarderIII@2a02:a45a:72f1:1:7ceb:194d:d7b1:4db5) (Ping timeout: 260 seconds)
[19:58:32] *** Quits: vancz_ (~vancz@user/vancz) (Quit: vancz_)
[19:58:51] *** Joins: rgrinberg (~textual@177.248.146.16)
[19:59:28] *** Joins: vancz (~vancz@user/vancz)
[20:01:32] *** Joins: richardm645 (~quassel@2600:8801:c502:f700:a0a4:aa6:b116:ed60)
[20:04:56] *** Quits: lorimer (~lorimer@user/lorimer) (Quit: NAE TROOSERS)
[20:04:57] *** Quits: vancz (~vancz@user/vancz) (Quit: vancz)
[20:06:06] *** Joins: dionysus69 (~Thunderbi@185.115.6.175)
[20:07:08] *** Joins: vancz (~vancz@user/vancz)
[20:08:05] *** Joins: TomyWork (~TomyLobo@p200300e80f1582000c576e44a1f70bbd.dip0.t-ipconnect.de)
[20:08:30] *** Joins: dionysus70 (~Thunderbi@185.115.6.76)
[20:10:35] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[20:10:48] *** Quits: dionysus69 (~Thunderbi@185.115.6.175) (Ping timeout: 260 seconds)
[20:10:48] *** dionysus70 is now known as dionysus69
[20:14:21] <wwilliam> !ping
[20:14:21] <PeGaSuS> !pong
[20:14:22] <greybot> pong
[20:14:38] *** Quits: gdd (~gdd@129.199.146.230) (Ping timeout: 272 seconds)
[20:15:27] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 260 seconds)
[20:15:42] <phy1729> Is PeGaSuS a bot?
[20:16:01] *** Joins: srg (~srg@user/srg)
[20:16:10] <PeGaSuS> well, I'm not a bot
[20:16:23] <PeGaSuS> but I do have a !pong reply for !ping
[20:16:27] <phy1729> Ah
[20:16:29] *** Joins: gdd (~gdd@129.199.146.230)
[20:16:47] *** Quits: N4buc0 (~N4buc0@189.115.86.130) (Remote host closed the connection)
[20:16:50] <PeGaSuS> sorry for that. I'll disable it as soon as I arrive home
[20:17:11] *** Joins: N4buc0 (~N4buc0@2804:7f4:348b:29b4:d982:4aa4:35d0:f048)
[20:17:16] *** Quits: masber (~masber@2001:620:808:1001::28f7) (Ping timeout: 250 seconds)
[20:17:29] <PeGaSuS> on the phone right now
[20:18:00] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[20:18:58] <olspookishmagus> $ i=1 ; for j in {1.."$(echo $i + 1 | bc )"} ; do echo $j ; done
[20:19:12] <olspookishmagus> some help with this, I was hoping I'd get: "1\n2"
[20:19:55] <olspookishmagus> $(( ... ))
[20:19:58] *** Quits: dionysus69 (~Thunderbi@185.115.6.76) (Ping timeout: 260 seconds)
[20:21:26] <olspookishmagus> still
[20:21:30] <olspookishmagus> $ i=1 ; for j in {1..$((i+1))} ; do echo $j ; done
[20:21:35] <olspookishmagus> {1..2}
[20:21:53] <apathor> # i=1; for ((n=1; n<=$(bc <<< "$i + 1"); n++)); do printf "%s\n" "$n"; done
[20:21:54] <shbot> apathor: 1
[20:21:55] <shbot> apathor: 2
[20:23:10] *** Joins: N4buc0_ (~N4buc0@189.115.86.130)
[20:23:15] *** Quits: N4buc0 (~N4buc0@2804:7f4:348b:29b4:d982:4aa4:35d0:f048) (Remote host closed the connection)
[20:23:44] *** Joins: FluffyMask (~masque@user/fluffymask)
[20:25:35] *** Quits: rgrinberg (~textual@177.248.146.16) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:26:00] *** Joins: seninha (~seninha@user/seninha)
[20:26:51] *** Joins: lorimer (~lorimer@user/lorimer)
[20:27:26] *** Joins: n4dir (~user@i5E8666C2.versanet.de)
[20:30:07] *** Quits: augiro[m] (~augiromat@2001:470:69fc:105::1:cac9) (Quit: You have been kicked for being idle)
[20:30:50] *** Quits: kdc (~kdc@196-210-1-81.dynamic.isadsl.co.za) (Quit: Leaving)
[20:30:51] *** Quits: Major_Biscuit (~MajorBisc@c-001-024-026.client.tudelft.eduvpn.nl) (Ping timeout: 260 seconds)
[20:32:16] <olspookishmagus> so there is no way I can use either substitution of a subshell in the {START..END..INCREMENT} or {START..END} ?
[20:32:19] <olspookishmagus> !for
[20:32:20] <greybot> The ''for var in words'' (POSIX) compound command iterates over arguments. ''for ((i=0; i < n; i++))'' (bash/ksh93) iterates via a math expression. To iterate over filenames, use ''for file in [glob]''. Do *NOT* do ''for foo in `cat,ls,find,...`''! It won't do what you expect! http://wiki.bash-hackers.org/syntax/ccmd/classic_for
[20:33:55] *** Quits: Brion (~Brion@gateway/tor-sasl/brion) (Ping timeout: 240 seconds)
[20:34:17] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:9c17:a673:394c:f38d)
[20:34:17] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:9c17:a673:394c:f38d) (Changing host)
[20:34:17] *** Joins: skapata (~Skapata@user/skapata)
[20:35:22] *** Joins: Brion (~Brion@gateway/tor-sasl/brion)
[20:36:32] <ormaaj> no
[20:36:41] <OnlineCop> I'm creating a .bash_functions file by appending various files together; at the top of each of these is a boilerplate "if this file isn't sourced, exit" line. To avoid having the final .bash_functions script peppered with several of these redundant checks, should I use head/tail to exclude the top N lines?
[20:36:56] <olspookishmagus> thank you both apathor and ormaaj
[20:38:10] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[20:38:44] <ormaaj> it's because of the evaluation order.
[20:38:46] *** Joins: jamiejackson (~jamiejack@131.106.140.145)
[20:38:54] <ormaaj> !{,
[20:38:54] <greybot> Brace and sequence expansion: {a,b,c}1 and {a..c}1 expand to a1 b1 c1, {a..c}{1..3} expands to a1 a2 a3 b1 b2 b3 c1 c2 c3. http://wiki.bash-hackers.org/syntax/expansion/brace http://mywiki.wooledge.org/BraceExpansion
[20:40:21] *** Joins: Pall (~Pall@2a00:23c5:fc89:aa01:f9a3:6d66:75e2:8ca6)
[20:40:31] <ormaaj> OnlineCop: It's easier to just source the files individually.
[20:42:00] *** Joins: sky-4 (~sky@user/sky-)
[20:42:09] <ormaaj> you can keep tabs on which files have already been sourced that way too.
[20:43:16] <olspookishmagus> pdf_file="foo.pdf" ; file_basename="$( basename "$pdf_file" ".pdf" )" ; pdf_file_num_pages=$( pdfinfo "$pdf_file" | awk '{ if ( $1=="Pages:" ) print $2 }' ) ; for (( i=0 ; i <= $( bc <<< "$pdf_file_num_pages - 1" ) ; i++ )) ; do convert -density 300 "$pdf_file"["$i"] -quality 100 "$file_basename"."$( bc <<< "$i + 1" )"_of_"$pdf_file_num_pages".jpg ; done
[20:43:26] <ormaaj> not that there's usually a need. you can do things like test whether a function has been defined - also an atypical requirement.
[20:43:46] *** Quits: cart_ (~cart@213.205.198.87) (Ping timeout: 272 seconds)
[20:45:25] <ormaaj> 🤣
[20:46:18] *** Quits: sky- (~sky@user/sky-) (Ping timeout: 272 seconds)
[20:46:19] *** sky-4 is now known as sky-
[20:47:12] *** Joins: rgrinberg (~textual@2806:102e:18:79a2:88b9:584f:14c:c37e)
[20:47:45] <OnlineCop> ormaaj: The .bash_functions file is generated for use inside a Docker container, and has functions specific to help developers working within those different containers (some to handle C++, others to handle Node.js, etc.). The files they are generated from would not be included in the Docker image.
[20:48:24] *** Joins: Major_Biscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e)
[20:48:39] *** Joins: MajorBiscuit (~MajorBisc@86-88-79-148.fixed.kpn.net)
[20:49:03] *** Quits: gdd (~gdd@129.199.146.230) (Ping timeout: 260 seconds)
[20:49:25] *** Quits: MajorBiscuit (~MajorBisc@86-88-79-148.fixed.kpn.net) (Client Quit)
[20:49:37] *** Joins: Ekkie (Ekkie@fluffernutter.cafe)
[20:50:08] <OnlineCop> Would it be something as simple as `tail --lines=-3 .cpp_functions >> .bash_functions` to exclude those top 3 lines from '.cpp_functions' ?
[20:50:51] *** Joins: gdd (~gdd@129.199.146.230)
[20:51:46] <ormaaj> !forget arithmetic
[20:51:46] <greybot> OK, ormaaj
[20:51:49] <OnlineCop> Oh; that's probably +3 instead.
[20:51:55] <ormaaj> !forget arithmetics
[20:51:55] <greybot> OK, ormaaj
[20:52:00] <ormaaj> !forget maths
[20:52:00] <greybot> OK, ormaaj
[20:53:17] *** Quits: vancz (~vancz@user/vancz) (Quit: vancz)
[20:54:54] *** Joins: avallac_h (~avallac_h@85.223.233.166)
[20:56:22] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[20:56:26] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[20:58:10] *** Quits: avallac_h (~avallac_h@85.223.233.166) (Client Quit)
[20:59:10] *** Quits: vicecea (~vicecea@gateway/vpn/pia/vicecea) (Remote host closed the connection)
[20:59:28] *** Joins: vicecea (~vicecea@gateway/vpn/pia/vicecea)
[21:00:06] <OnlineCop> !OEF
[21:00:11] <OnlineCop> !EOF
[21:00:11] <greybot> "unexpected end of file" means you are missing some expected syntactic element, such a missing closing " or ' or } or done or fi or esac or ....
[21:00:20] <OnlineCop> !heredoc
[21:00:20] <greybot> Here documents. cat <<EOF followed by several lines of text, followed by the literal string EOF on a new line, NOT indented. The portion between the EOFs is passed to the command as standard input. If 'EOF' is 'quoted', substitutions WON'T be done; otherwise they are. See <<- for the indented variety.
[21:03:01] <ormaaj> I wouldn't try to process bash source files with utilities like tail.
[21:03:15] *** Joins: fspax (~fspax@46.148.141.211)
[21:03:38] <OnlineCop> Yeah; some of these differ in the "do not source me" lines, and I'm noticing the same issue.
[21:05:02] *** Joins: XV8 (~XV8@2601:5cb:c001:50::4a2c)
[21:05:58] <OnlineCop> I don't see the words 'heredoc' in the https://mywiki.wooledge.org/BashFAQ page; is the syntax `cat <<<'EOF' > outfile[newline...]EOF`?
[21:06:29] *** Quits: Major_Biscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e) (Ping timeout: 250 seconds)
[21:06:44] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Quit: Client closed)
[21:07:00] *** Joins: luckiswithme (~luckiswit@149.167.160.76)
[21:07:02] <llua> no
[21:08:13] <ormaaj> There might not be very much on wooledge.
[21:08:15] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[21:08:30] <ormaaj> <<< is a "herestring". not the same.
[21:08:41] *** Joins: fling (~fling@user/fling)
[21:09:37] *** Joins: vancz (~vancz@user/vancz)
[21:09:41] <ormaaj> !learn arithmetic #redir math
[21:09:42] <OnlineCop> That was a typo: << intended.
[21:09:42] <greybot> OK, ormaaj
[21:09:47] <OnlineCop> !cat
[21:09:47] <greybot> cat(1) is used to concatenate multiple files together. It should NOT be used to feed file data to processes. There are far better ways to achieve this. The application might take a file as argument (eg. grep ^foo file); or you might want to use file redirection (eg. read line < file).
[21:09:55] <OnlineCop> !<<
[21:09:55] <greybot> Here documents. cat <<EOF followed by several lines of text, followed by the literal string EOF on a new line, NOT indented. The portion between the EOFs is passed to the command as standard input. If 'EOF' is 'quoted', substitutions WON'T be done; otherwise they are. See <<- for the indented variety.
[21:10:04] <OnlineCop> man heredoc
[21:10:25] <OnlineCop> What's the ! command to link me to some heredoc "do this, not that"?
[21:11:05] <ormaaj> just bookmark the meta page. https://wooledge.org/~greybot/meta/
[21:11:37] <llua> i think he is just poorly asking for a guide on using heredocs.
[21:12:15] <ormaaj> yeah I don't know that we have one. it wouldn't be much of a guide.
[21:13:44] <ormaaj> https://wiki.bash-hackers.org/syntax/redirection#here_documents
[21:14:21] <ormaaj> bash hackers is a little crusty. many articles need work.
[21:14:43] *** Joins: cart_ (~cart@2a01:4c8:41:b099:5523:47ce:e321:ff2)
[21:15:23] *** Quits: jlj_ (~jlj@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net) (Ping timeout: 260 seconds)
[21:16:11] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[21:18:52] <OnlineCop> As far as redirecting the output to a file, though, the '> outfile' should be at the top of the file as I had above?
[21:21:01] *** Quits: cart_ (~cart@2a01:4c8:41:b099:5523:47ce:e321:ff2) (Ping timeout: 240 seconds)
[21:22:13] *** Joins: cart_ (~cart@2a01:4c8:1c81:ee06:c921:9a9d:ac49:13b5)
[21:22:39] *** Quits: iomari891 (~iomari891@197.210.84.73) (Ping timeout: 260 seconds)
[21:23:44] <llua> yes
[21:24:12] *** Joins: ninjabuffet (~ninjabuff@user/ninjabuffet)
[21:24:15] *** Quits: wonko-the-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane) (Quit: Lost terminal)
[21:24:20] *** Quits: luckiswithme (~luckiswit@149.167.160.76) (Remote host closed the connection)
[21:25:15] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[21:25:33] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[21:25:55] *** Joins: unop (~unop@195.91.4.124)
[21:26:11] *** Quits: flower__ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Ping timeout: 250 seconds)
[21:26:17] *** Quits: firewyre (~firewyre@pool-71-184-153-62.bstnma.fios.verizon.net) (Quit: ZNC - https://znc.in)
[21:27:00] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[21:27:02] *** Quits: flower_ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Ping timeout: 260 seconds)
[21:27:12] *** Joins: firewyre (~firewyre@pool-71-184-153-62.bstnma.fios.verizon.net)
[21:27:16] *** Joins: flower_ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[21:27:40] *** Joins: flower__ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[21:27:48] *** Quits: Enissay (~Enissay@user/enissay) (Quit: WeeChat 3.0)
[21:27:49] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 240 seconds)
[21:27:54] *** Joins: Tangent-Man (~Tang3nt-M@92.40.178.3.threembb.co.uk)
[21:28:49] *** Joins: Enissay (~Enissay@user/enissay)
[21:29:22] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[21:31:31] *** Joins: junebug (~junebug@2600:1700:3db0:2540:840:dacd:590f:ddfc)
[21:32:16] <OnlineCop> If I want to grep -q two things from the same file, does `if` require parens? `if ( grep -q foo && grep -q bar ); then; fi`
[21:32:34] *** Quits: tobybl (~tobybl@227.192.115.87.dyn.plus.net) (Remote host closed the connection)
[21:34:11] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7) (Quit: enoq)
[21:35:37] *** Joins: Fauto_ (~dante@gateway/tor-sasl/filohuhum)
[21:36:21] <han-solo> no
[21:37:15] *** Joins: wonko-the-sane (~wonk-the-@gateway/tor-sasl/wonko-the-sane)
[21:37:53] <Ekkie> Nope, `if grep -q foo file.txt && grep -q bar file.txt; then ...; fi` works, unless you're grepping from stdin
[21:37:55] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[21:38:57] *** Joins: luckiswithme (~luckiswit@149.167.160.76)
[21:41:52] <llua> i would use awk to only read the file once
[21:42:16] *** Quits: ejjdhfjsu (~ejjdhfjsu@cmcust2a-85.240.nulinkdigital.com) (Ping timeout: 260 seconds)
[21:42:44] <wwilliam> llua: how the awk command would be?
[21:44:43] <llua> awk -v rc=1 '/foo/{a++}/bar/{b++} a && b {rc=0; exit} END {exit (!!rc)}'
[21:45:42] <wwilliam> Hmmm thanks.
[21:48:35] <johnjaye> why does the command '> file' empty the file?
[21:48:46] <OnlineCop> Would the filename be piped in at the end of that? `awk ... <"file.txt"` ?
[21:48:46] <johnjaye> isn't there supposed to be a command or something to redirect from?
[21:49:00] <kurahaupo_> johnjaye: why WOULDN'T it empty the file?
[21:49:20] <OnlineCop> johnjaye: '>' writes into a file, starting at position 0. '>>' appends to the file, starting after the last position in the file.
[21:49:48] <han-solo> i think they are asking, shouldn't the redirection be associated with some command
[21:49:51] <ormaaj> johnjaye: >file opens O_TRUNC
[21:50:15] <han-solo> welp, or maybe not
[21:50:15] <phy1729> posix explicitly allows just a redirect iirc
[21:50:21] <johnjaye> i see
[21:50:33] *** Quits: duxsco (~Thunderbi@user/duxsco) (Quit: duxsco)
[21:50:43] *** Quits: n4dir (~user@i5E8666C2.versanet.de) (Ping timeout: 256 seconds)
[21:50:53] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[21:51:28] <kurahaupo_>  johnjaye:  Each simple shell command consists of 3 parts: some variable assignments, a program or function name and its arguments, and some redirections. All the parts are optional; you don't need to have a program or function name
[21:52:38] <phy1729> "A "simple command" is a sequence of optional variable assignments and redirections, in any sequence, optionally followed by words and redirections, terminated by a control operator."
[21:52:47] <kurahaupo_> tee >( grep -s foo && echo ) > >( grep -s bar && echo ) | wc -l # if the answer is 2 then you have both foo & bar
[21:53:18] <johnjaye> ok. it seems odd you can have no command or assignments, just redirections
[21:53:23] <johnjaye> but evidently that must be true.
[21:53:29] <kurahaupo_> phy1729: I didn't mean to imply that the parts were ordered or non overlapping
[21:53:44] <phy1729> I was just giving the POSIX text for reference
[21:53:48] *** Quits: ezzieyguywuf (~Unknown@user/ezzieyguywuf) (Remote host closed the connection)
[21:54:57] <chiselfuse> how do i make alarm clock in bash
[21:55:08] <chiselfuse> i have been using    sleep $(($((60*60*7))+20*60)); mpv --volume=40 ~/music/SyK*    for weeks now
[21:55:20] <chiselfuse> but i want to parse date(1) instead
[21:55:33] <phy1729> Just run mpv on a cron job?
[21:55:33] <chiselfuse> so i can specify at which time instead of for how long
[21:55:38] *** Joins: ezzieyguywuf (~Unknown@user/ezzieyguywuf)
[21:55:49] *** Quits: nucleargrave (~nucleargr@c-73-150-253-137.hsd1.nj.comcast.net) (Ping timeout: 256 seconds)
[21:56:07] <chiselfuse> phy1729: i prefer to be more specific and start a standalone process every night
[21:56:24] <kurahaupo_> chiselfuse: You don't need $(()) inside another $(()) you can just use simple brackets
[21:56:24] <phy1729> Perhaps at(1) then
[21:56:26] <tangy> you can use date's -d flag (or one of those) to specify the time
[21:56:38] *** Joins: Sulky__ (~Sulky@37.165.127.43)
[21:56:39] <chiselfuse> phy1729: there was some guy who sent some cute new year countdown in bash that used bc(1) too i remember
[21:56:58] *** Quits: drbeco (~beco@user/beco) (Quit: Leaving)
[21:56:58] <chiselfuse> i thought i could use that but i don't find it
[21:57:14] <chiselfuse> kurahaupo_: i see
[21:57:32] <ormaaj> There isn't a great way to do that.
[21:57:38] <tangy> hm, darn version differences
[21:57:51] <chiselfuse> tangy: about date(1)?
[21:57:51] *** Quits: cart_ (~cart@2a01:4c8:1c81:ee06:c921:9a9d:ac49:13b5) (Ping timeout: 256 seconds)
[21:58:13] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[21:58:19] <ormaaj> at(1) is probably the best advice
[21:58:42] <kurahaupo_> chiselfuse: printf -v SECONDS '%(%s)T' -1 ; while sleep $(( 604800 - SECONDS % 604800 )) ; do once_a_week ; done
[21:58:45] <ormaaj> but that depends on system-specific things
[21:59:06] *** Quits: Sulky_ (~Sulky@37.165.127.43) (Ping timeout: 245 seconds)
[21:59:17] <tangy> chiselfuse: yes, however, oormaj might be correct about at
[21:59:18] <phy1729> at is posix
[21:59:56] <ormaaj> it is, but isn't it usually sugar around the cron system
[22:00:09] <phy1729> yup
[22:00:26] <kurahaupo_> printf and SECONDS are Bash built-ins, so my suggestion will work on a "posix+bash" system
[22:01:18] <chiselfuse> is at(1) some executable?
[22:01:29] <kurahaupo_> (technically printf %()T was added in Bash 4.something, so you're screwed on an iThing)
[22:01:31] <chiselfuse> i can't find it
[22:01:37] <chiselfuse> i have the manpage
[22:01:37] <phy1729> it's just    at
[22:01:43] *** Quits: VoidSync (~sync@user/voidsync) (Remote host closed the connection)
[22:01:45] <chiselfuse> bash: at: command not found
[22:01:49] *** Quits: zostj (~rue@61-231-134-64.dynamic-ip.hinet.net) (Quit: WeeChat 3.4.1)
[22:01:52] <kurahaupo_> chiselfuse: (1) denotes man pages section 1
[22:01:59] <chiselfuse> i know
[22:02:14] *** Joins: n4dir (~user@i5E86C5AE.versanet.de)
[22:02:18] * han-solo doesn't seem to have `at`
[22:02:31] <chiselfuse> so my system came with at(1) but no /bin/at ...
[22:02:34] <kurahaupo_> chiselfuse: Use your package manager to install the full posix support package,  whatever that's called
[22:02:57] <kurahaupo_> that sucks
[22:03:02] *** Joins: drbeco (~beco@user/beco)
[22:03:39] <ormaaj> it's a standard command that's supposed to schedule a command to run at some time but it requires your system be configured to work with it since the actual implementation is undefined. (it may not be preconfigured in that way).
[22:03:55] <kurahaupo_> "at" is usually part of "cron", but since systemd got into the act, lots of lesser used features didn't get reimplemented
[22:04:17] * phy1729 gets out the nickels
[22:04:35] <ormaaj> i see. unsurprising.
[22:05:12] <chiselfuse> i imagined a loop that looked at output of date(1) every 5 seconds or so and if it exceeded some value it ran mpv
[22:05:14] <phy1729> https://dilbert.com/strip/1995-06-24 s/computer/init system/
[22:05:27] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[22:05:31] *** Joins: duxsco (~Thunderbi@user/duxsco)
[22:06:46] <kurahaupo_> chiselfuse: Just sleep for as many seconds as there are until the target time. Or an hour short, and check again, if you think a DST change might mess you up
[22:07:44] <han-solo> dilbert is so awesome that even their not found page is a comic strip :D
[22:08:25] <chiselfuse> can i divide `date +%s` (seconds since epoch (big bang)) and do something with modulus?
[22:08:34] *** Quits: flower_ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Ping timeout: 246 seconds)
[22:08:38] *** Quits: flower__ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Ping timeout: 272 seconds)
[22:08:46] <han-solo> big bang ? :D
[22:08:50] <chiselfuse> ye
[22:08:58] <chiselfuse> it all started in 1970
[22:09:02] *** Joins: flower_ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[22:09:09] <chiselfuse> kurahaupo_: i'm too sleepy for that
[22:09:26] *** Joins: flower__ (~archie@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[22:09:45] *** Joins: nucleargrave (~nucleargr@c-73-150-253-137.hsd1.nj.comcast.net)
[22:10:53] *** Joins: ekathva (~ekathva@2001:999:230:5e27:6147:f65d:75d1:f7dd)
[22:11:07] <chiselfuse> echo $(date +%s)/2
[22:11:12] *** Quits: cim (~cim@205.185.117.110) (Ping timeout: 252 seconds)
[22:11:27] <chiselfuse> $ echo $(($(date +%s)/2))
[22:11:39] <chiselfuse> # echo $(($(date +%s)/2))
[22:11:40] <shbot> chiselfuse: 824287849
[22:12:18] <chiselfuse> how can i do remainder arithmetic in bash?
[22:12:34] *** Quits: fling (~fling@user/fling) (Remote host closed the connection)
[22:13:02] *** Joins: fling (~fling@user/fling)
[22:13:17] *** Quits: karakedi (~eAC53C340@user/karakedi) (Remote host closed the connection)
[22:13:46] <koollman> chiselfuse: seems to be a bad idea. but : echo $((10%3))
[22:14:18] <koollman> chiselfuse: maybe just install atd ?
[22:14:29] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 252 seconds)
[22:15:00] <chiselfuse> # echo $(($(date +%s)%(60*60*24)))
[22:15:01] <shbot> chiselfuse: 63900
[22:15:18] <chiselfuse> koollman: nah whatever that is sounds bloat
[22:15:21] *** Joins: bomb-on (~bomb-on@user/bomb-on)
[22:15:21] *** Joins: mak_GR (~mak@ppp079167186232.access.hol.gr)
[22:15:27] <koollman> chiselfuse: hardly
[22:15:36] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[22:16:16] <chiselfuse> # echo $((($(date +%s)%(60*60*24)/60*60)))
[22:16:17] <shbot> chiselfuse: 63960
[22:16:41] <chiselfuse> # echo $((($(date +%s)%(60*60*24))/60*60))
[22:16:42] <shbot> chiselfuse: 63960
[22:17:02] <ormaaj> phy1729: Did he preorder or wait 2 months to buy windows 95?
[22:17:07] *** Joins: cuhela (~cuhela@188.119.45.227)
[22:17:10] <koollman> chiselfuse: it is much smaller than bash, not bloat at all :)
[22:17:42] <chiselfuse> koollman: my internet situation is... complicated
[22:17:47] <phy1729> ormaaj: probably mailed UC system to get a copy of BSD Reno
[22:17:56] <chiselfuse> koollman: can you dcc me the elf?
[22:19:27] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[22:19:43] *** Quits: mak_GR (~mak@ppp079167186232.access.hol.gr) (Ping timeout: 250 seconds)
[22:19:58] <tangy> hm, seeing actual trust in the wild is so refreshing
[22:20:06] *** Joins: karakedi (~eAC53C340@user/karakedi)
[22:21:06] *** Joins: Macbethwin (~chargen@D964062A.static.ziggozakelijk.nl)
[22:21:17] <koollman> chiselfuse: I can try, although it seems like a bad idea. Wouldn't you rather get a package for your distribution that you can check ? How complicated is 'complicated' ?
[22:21:52] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[22:22:14] *** Macbethwin is now known as Chargen
[22:22:22] <koollman> chiselfuse: although now that I reread the conversation ... you don't even need modulus or anything like it. date and sleep is probably sufficient
[22:22:34] <koollman> (but obviously at would make it even easier)
[22:22:55] <OMGOMG> i like at but i had to write a wrapper script that uses date
[22:23:04] <OMGOMG> could never memorize the format it uses
[22:23:52] *** Joins: jlj_ (~jlj@cpc77371-stav19-2-0-cust1487.17-3.cable.virginm.net)
[22:23:58] <chiselfuse> koollman: ~10kbps
[22:24:32] *** Quits: cuhela (~cuhela@188.119.45.227) (Quit: Leaving)
[22:24:35] <chiselfuse> koollman: how is date and sleep sufficient
[22:24:43] <tangy> yeah, I remember getting stuck on at's formatting, too.
[22:24:47] <koollman> chiselfuse: basic idea: target=$(date -d 'tomorrow 8am' +%s); now=$(date +%s); sleep $((target-now)) && whatever
[22:24:55] *** Joins: cuhela (~cuhela@188.119.45.227)
[22:24:59] <chiselfuse> # echo $((($(date +%s)%(60*60*24))/(60*60)))
[22:25:00] <shbot> chiselfuse: 17
[22:25:13] <koollman> chiselfuse: don't need to convert to something else, just use seconds :)
[22:25:30] *** Quits: han-solo (~han-solo@user/han-solo) (Quit: leaving)
[22:26:15] *** Joins: cim (~cim@205.185.117.110)
[22:26:38] <chiselfuse> koollman: my logic here is that it's   n days + 17 hours since epoch
[22:26:53] <koollman> but why do you need that logic ?
[22:27:12] *** Quits: moha (uid506645@id-506645.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[22:27:19] <koollman> date understand a lot of time specs
[22:27:21] <chiselfuse> i forgot
[22:27:22] <phy1729> that sounds a lot like a cron type of job
[22:27:41] <phy1729> Also daylight saving time might be a thing where you live
[22:27:44] <koollman> chiselfuse: notice that my example works and will wait until tomorrow, 8am :)
[22:28:02] *** Parts: cuhela (~cuhela@188.119.45.227) ()
[22:28:19] <koollman> # target=$(date -d 'tomorrow 8am' +%s); now=$(date +%s); echo sleep $((target-now))
[22:28:20] <shbot> koollman: sleep 50500
[22:28:35] <koollman> so, in shbot timezone, that's how many seconds would be required ;)
[22:28:47] <koollman> (and, sure, cron would also do an excellent job with that :) )
[22:28:59] <chiselfuse> koollman: can i put it in a script?
[22:29:04] <koollman> yes
[22:30:14] *** Joins: Macbethwin_ (~chargen@8.21.8.253)
[22:31:06] <chiselfuse> koollman: thanks a lot :)
[22:31:14] <chiselfuse> gn
[22:32:39] <koollman> date (and at) have pretty insane date parsing capabilities. Although for a regular clock, cron would work nicely, too. the equivalent line would look something like '0 8 * * * whatever' (run 'whatever' at 8am every day), to add to the crontab that you can edit with: crontab -e
[22:32:44] *** Quits: n4dir (~user@i5E86C5AE.versanet.de) (Remote host closed the connection)
[22:33:44] *** Quits: Chargen (~chargen@D964062A.static.ziggozakelijk.nl) (Ping timeout: 252 seconds)
[22:33:52] *** Quits: Oleg (~Oleg@ool-45745511.dyn.optonline.net) (Quit: WeeChat 3.4)
[22:33:55] *** Quits: noteness (~noteness@user/noteness) (Ping timeout: 240 seconds)
[22:33:59] *** Macbethwin_ is now known as Chargen
[22:34:18] *** Quits: shailangsa (~shailangs@host86-162-150-212.range86-162.btcentralplus.com) (Ping timeout: 252 seconds)
[22:34:40] *** Joins: noteness (~noteness@user/noteness)
[22:34:43] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 260 seconds)
[22:35:50] *** Joins: Oleg (~Oleg@ool-45745511.dyn.optonline.net)
[22:37:38] *** Quits: Tangent-Man (~Tang3nt-M@92.40.178.3.threembb.co.uk) (Ping timeout: 260 seconds)
[22:39:50] *** Joins: knstn (~knstn@ppp-94-66-57-157.home.otenet.gr)
[22:39:51] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[22:41:52] *** Joins: senoraraton (~senorarat@c-67-160-210-246.hsd1.ca.comcast.net)
[22:42:32] *** Quits: junebug (~junebug@2600:1700:3db0:2540:840:dacd:590f:ddfc) (Ping timeout: 252 seconds)
[22:44:33] *** Quits: rgrinberg (~textual@2806:102e:18:79a2:88b9:584f:14c:c37e) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:44:49] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[22:45:13] *** Quits: luckiswithme (~luckiswit@149.167.160.76) (Remote host closed the connection)
[22:46:58] *** Quits: senoraraton (~senorarat@c-67-160-210-246.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[22:47:07] *** Joins: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de)
[22:48:07] *** Joins: senoraraton (~senorarat@148-64-109-17.PUBLIC.monkeybrains.net)
[22:48:11] *** Quits: stanlib (~archblade@user/stanlib) (Remote host closed the connection)
[22:51:15] *** Quits: Strom (strom@fedora/strom) ()
[22:52:20] *** Quits: Sauvin (~sauvin@about/linux/staff/sauvin) (Ping timeout: 272 seconds)
[22:52:50] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[22:53:14] *** Joins: dzdcnfzd (~dzdcnfzd@pool-108-27-235-235.nycmny.fios.verizon.net)
[22:53:21] *** Joins: Strom (strom@fedora/strom)
[22:55:03] <taupiqueur> is there a command to rename a file and create intermediate directories?
[22:55:17] <dzdcnfzd> A single command?
[22:55:24] <taupiqueur> yes
[22:55:27] *** Joins: jason1236 (~fltk@thunix.net)
[22:55:28] <dzdcnfzd> like mv with intermediate directories?
[22:55:36] <taupiqueur> yep
[22:55:42] <jason1236> Hello.  I have a list of https: I got the plain list of shoutcast. : https://gitlab.com/openbsd98324/flstreamtuner/-/raw/main/shoutcast.json.gz  --<----- how to get hte HTTP streams of radios out it ? with cut/sed/grep ?
[22:56:39] <dzdcnfzd> taupiqueur: Maybe not what you want but why not just combine mv with mkdir -p
[22:57:20] <taupiqueur> dzdcnfzd: I currently do `mkdir -p "$(dirname "$2")" && mv "$1" "$2" && rmdir -p "$(dirname "$1")"
[22:57:21] <dzdcnfzd> `mkdir -p "${dest_dir}" && mv "${a}" "${dest_dir}`
[22:57:21] <_NiC> jason1236, you can parse json with jq
[22:57:42] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[22:58:02] <taupiqueur> dzdcnfzd: there is no single command?
[22:58:07] <dzdcnfzd> taupiqueur: That's the best I know of
[22:58:25] <jason1236> apt-get install jq ?
[22:58:28] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[22:58:37] <jason1236> I need only the HTTP for : mplayer -playlist ...
[22:59:10] <jason1236> jq shoutcast   gives:   jq: error: shoutcast/0 is not defined at <top-level>, line 1: jq: 1 compile error
[22:59:14] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[22:59:40] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[23:00:20] *** Quits: Fauto_ (~dante@gateway/tor-sasl/filohuhum) (Remote host closed the connection)
[23:00:21] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Read error: Connection reset by peer)
[23:00:40] <jason1236>  wget  https://gitlab.com/openbsd98324/flstreamtuner/-/raw/main/shoutcast.json.gz ; gunzip shoutcast.json.gz ; jq shoutcast.json  ; but the above ERRor
[23:00:44] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[23:00:44] <larryv> jason1236: you need to write a query to extract the information you want. https://stedolan.github.io/jq/tutorial/
[23:01:03] <jason1236> cannot it be just done with bash?
[23:01:25] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[23:01:30] <larryv> maybe if you feel like writing a json parser in bash
[23:01:36] <jason1236> e.g.   grep -Po '(?<=href=")[^"]*'  "$1"
[23:01:51] <jason1236> grep with exreg is powerful maybe for thatz
[23:01:58] *** Joins: duxco (~Thunderbi@user/duxsco)
[23:01:59] *** Joins: unop (~unop@195.91.4.124)
[23:02:04] <larryv> you can't parse json with grep
[23:02:05] <larryv> stop it
[23:02:12] <larryv> "cut/sed/grep" isn't "bash"
[23:02:23] *** Joins: taupiqueur_ (~taupiqueu@129.106.204.77.rev.sfr.net)
[23:02:23] *** Quits: duxsco (~Thunderbi@user/duxsco) (Ping timeout: 250 seconds)
[23:02:23] *** duxco is now known as duxsco
[23:03:06] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 272 seconds)
[23:05:15] *** Quits: tuskkk____ (uid18470@id-18470.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[23:05:38] <jason1236> no idea
[23:05:50] <jason1236> maybe I should write it in C. it would be easier.
[23:06:57] *** Joins: k8yun (~k8yun@user/k8yun)
[23:09:23] <larryv> jason1236: curl 'https://gitlab.com/openbsd98324/flstreamtuner/-/raw/main/shoutcast.json.gz' | gzcat | jq --raw-output '.[][].url'
[23:09:52] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[23:10:17] <_NiC> Aww, I was curious how long it'd taken him to write a json parser in C.
[23:10:25] <ormaaj> kewl
[23:10:36] *** Joins: Sulky_ (~Sulky@37.165.127.43)
[23:12:47] *** Quits: jkwnki (~jkwnki@p2e57985d.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[23:13:15] *** Joins: MarderIII (~MarderIII@2a02:a45a:72f1:1:7ceb:194d:d7b1:4db5)
[23:13:35] *** Quits: johnjaye (~pi@173.209.64.74) (Quit: WeeChat 3.3)
[23:13:52] *** Quits: Sulky__ (~Sulky@37.165.127.43) (Ping timeout: 272 seconds)
[23:13:55] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[23:14:19] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[23:15:14] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[23:15:23] *** Quits: unop (~unop@195.91.4.124) (Remote host closed the connection)
[23:15:39] *** Joins: unop (~unop@195.91.4.124)
[23:16:15] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[23:16:44] *** Joins: fling (~fling@user/fling)
[23:16:59] *** Quits: senoraraton (~senorarat@148-64-109-17.PUBLIC.monkeybrains.net) (Ping timeout: 260 seconds)
[23:17:25] *** Quits: MarderIII (~MarderIII@2a02:a45a:72f1:1:7ceb:194d:d7b1:4db5) (Ping timeout: 240 seconds)
[23:18:41] *** Quits: Chargen (~chargen@8.21.8.253) (Quit: Leaving)
[23:19:05] *** Joins: Macbethwin (~chargen@8.21.8.253)
[23:19:31] *** Quits: zer0bitz (~zer0bitz@2001:2003:f750:a200:544e:226a:9b44:a162) (Ping timeout: 245 seconds)
[23:20:57] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[23:22:10] *** Joins: Fausto (~dante@gateway/tor-sasl/filohuhum)
[23:22:51] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[23:23:27] *** Quits: N4buc0_ (~N4buc0@189.115.86.130) (Quit: Leaving)
[23:24:50] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[23:26:33] *** Joins: bls (~bls@192.182.149.233)
[23:28:29] <jason1236> _NiC: not long ... it is just a pipe. maybe about 20 min.
[23:28:52] *** Joins: A|an (~Alan@173.216.48.26)
[23:29:12] <jason1236> _NiC: I know C ;) see my site: https://gitlab.com/openbsd98324/    (just lazy today).
[23:29:19] *** Quits: l4yer (~l4yer@user/l4yer) (Remote host closed the connection)
[23:31:31] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 246 seconds)
[23:32:32] <_NiC> :)
[23:33:10] <jason1236> bill gates said that the best programmers are the laziest ;) little quote
[23:33:56] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[23:34:47] <phogg> "Laziness, impatience, hubris" as Larry Wall once said
[23:35:11] <jason1236> i was working for microsoft for few years. was cool actually. now bash is there in Windows or Win tries to mimic linux
[23:35:56] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[23:36:50] <ormaaj> Gates was a workaholic. Must have been self-deprecating humor
[23:37:31] <jason1236> anyhow rich .. .too.
[23:37:56] <bls> jason1236: It's actually a complete Linux distro (assuming you're talking about WSL). Works really well (and I'm damn picky)
[23:38:19] <bls> only big thing missing from my perspective is systemd, but I can work around that
[23:38:23] *** Joins: ChmEarl (~chmearl@user/chmearl)
[23:38:56] <jason1236> bls we try to use win, C# and command line on win. Anyhow moving to fedora.
[23:39:07] *** Joins: junebug (~junebug@2600:1700:3db0:2540:1434:5fb0:9b0b:cf98)
[23:39:55] <bls> jason1236: obviously depends on what you want to use it for. I run Windows apps on Windows, and use WSL/Debian to start xterms on my other Linux systems, all displaying on an Xserver on Windows
[23:40:42] *** Joins: greycat (~greg@209.142.155.49)
[23:40:56] *** Joins: phox (~phox@S0106a84e3f727bc3.pk.shawcable.net)
[23:41:43] <phox> wow uh, hitting some fun bug here.... reverse-i-search bug:  so I have something in my history with 'ResetChallenge' in it, I try to search but it fails when it I get to 'resetc' even though it was previously succeeding and showing me it
[23:41:52] <phox> I try with resetC, NOPE.  ResetC works though.
[23:42:02] * phox pokes reverse-i-search in the i
[23:42:05] <phox> BS :)
[23:42:22] <phox> 5.1.8(1)-release
[23:42:53] <phox> oh.
[23:42:56] <phox> I get it.
[23:43:02] <phox> it's not restarting the search.
[23:43:16] <phox> there's 'resetS[...]' later in the command string
[23:43:26] *** Joins: sudomann (~sudomann@98.219.211.182)
[23:43:34] <phox> so it's somehow locked to that, and failing to bother matching the former
[23:43:56] <phox> oh weird, I still have to type 'resetS' not 'resets' or it fails again
[23:44:30] <phox> is this maybe a known thing?
[23:44:47] <larryv> "reverse-i-search" isn't a readline command, so i have no idea what your'e talking about
[23:44:51] <larryv> *you're
[23:45:06] *** Quits: Haxxa (~Haxxa@202-130-210-100.ip4.superloop.com) (Quit: Haxxa flies away.)
[23:45:34] <phox> I hit ctrl-r.  I get (reverse-i-search) as a prompt
[23:45:43] <phox> argue about semantics all you want but...
[23:46:23] <phox> yeah, so try this:
[23:46:26] <phox> echo foo/BeerPongBall/beerHatThing.sh
[23:46:30] <phox> then ctrl-r beerp
[23:46:37] *** Quits: junebug (~junebug@2600:1700:3db0:2540:1434:5fb0:9b0b:cf98) (Ping timeout: 240 seconds)
[23:46:42] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[23:47:22] <phox> (or ctrl-r beerh)
[23:47:29] <sybariten> hey hey
[23:47:38] <phox> somehow because of the duplicate substring it becomes case-sensitive
[23:47:50] <phox> I don't have copious free time or I would go sort out why this is busted, lol
[23:48:22] <sybariten> easiest approach to taking all the files in a dir and dividing them up more or less evenly into say ten directories?
[23:48:33] *** Joins: Haxxa (~Haxxa@202-130-210-100.ip4.superloop.com)
[23:48:43] <greycat> what does "evenly" mean?  just number of files, or sizes?
[23:49:15] *** Quits: bls (~bls@192.182.149.233) (Quit: Leaving)
[23:49:36] <sybariten> greycat: yeah sizes are not important .... just chuck a bunch of files into each dir, so that a dir doesnt contain a thousand files flat, which is a bit too much to work with for a specific software here
[23:49:44] <sybariten> its easier to have ten dirs with a hundred each
[23:49:45] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Quit: ZNC 1.8.2 - https://znc.in)
[23:49:52] <greycat> OK, then just move the first file to subdir1, the second to subdir2, and so on, wrapping around as needed.
[23:50:09] *** Joins: bls (~bls@192.182.149.233)
[23:50:30] <Helmholtz> Best way to use a "flag" variable? my_flag="" and my_flag=1 ?
[23:50:33] <Helmholtz> Does bash have true/false?
[23:50:36] <greycat> !bool
[23:50:37] <greybot> Bash doesn't have boolean variables, but you can shanghai integers for this purpose, just like in C. first=1; errors=0; if ((first)); then ...; if ((! errors)); then ...; ((debug)) && log stuff
[23:51:31] <larryv> phox: the -i- does not mean insensitive, it means incremental
[23:51:51] <larryv> phox: completion is case-sensitive by default. do you set completion-ignore-case On?
[23:51:52] <sybariten> greycat: i cant really figure out what the methodology to do that would be....   i mean, the ten dirs can be created with something like seq or a range and a for loop.
[23:52:04] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[23:52:21] <greycat> You don't know how to write a loop?  And do i=$(( (i+1) % n ))  ?
[23:53:10] <_NiC> I'd suggest making a dir with the first character of each file, but that may or may not be "evenly" :-)
[23:53:38] <emg> sybariten: what are the files? why are there so many? why is having that many a problem?
[23:53:46] <sybariten> _NiC: thats a brute approach thjat would be good enough for me but nearlyu all the files start in the same character...
[23:54:23] <greycat> last character, or last digit, may work well in some cases
[23:54:31] <_NiC> it depends also how you plan to find and make use of the files later
[23:54:44] <_NiC> if you want some predictable way of doing it, or if you need to have a map
[23:55:01] <ormaaj> Best way depends on how you intend to use it, and if you know what you're doing, personal preferance, because there's more than one way to do it.
[23:55:21] <sybariten> emg: a graphical software is going a bit on its knees trying to get an overview of what's in a dir...
[23:55:35] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[23:55:47] <greycat> we got that part, but what are the files?  why are you allowed to move them around at whim?
[23:56:16] <sybariten> greycat: yikes why didnt i think of that... last digit will definitely work for my case i think, they all end in digits
[23:56:23] *** Joins: senoraraton (~senorarat@192-195-83-130.static.monkeybrains.net)
[23:56:36] <sybariten> greycat: i dont understand your second question
[23:56:55] <greycat> most files STOP WORKING PROPERLY if you move them to a different directory
[23:57:04] <greycat> but you seem to believe you can move these files around and they'll still work
[23:57:07] <greycat> so what ARE they?
[23:58:21] *** Joins: Palll (~Pall@host109-158-100-165.range109-158.btcentralplus.com)
