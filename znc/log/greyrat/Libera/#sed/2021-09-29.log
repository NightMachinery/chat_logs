[00:36:29] *** Joins: pocketprotector (~pocketpro@user/pocketprotector)
[00:36:40] <pocketprotector> bunch of brave souls in this room
[00:37:10] <pocketprotector> https://regex101.com/r/krvLy4/1
[00:37:21] <pocketprotector> what do i run in sed for this to work?
[00:38:23] <pocketprotector> i want to plop this regex into a sed command, but im not entirely sure what to offer sed
[00:38:38] <phy1729> Do you want to just extract the selected part of those lines?
[00:38:47] <pocketprotector> yeah
[00:42:40] <phy1729> sed '/^Should be                : \([a-zA-z0-9_.-]*\).*/!d;s//\1/'
[00:43:24] <pocketprotector> hmm that doesnt return any results
[00:44:39] <pocketprotector> oh i see its being anchored with ^
[01:00:12] <pocketprotector> ive tried making that command but it doesnt return any of the Should be text.
[01:00:36] <pocketprotector> it actually returns the "Remote package installed" text.
[01:01:42] <pocketprotector> im hoping that the end result will be a list like dbus-1.10.24-14.0.1.el7_8 dbus-libs-1.10.24-14.0.1.el7_8 dbus-x11-1.10.24-14.0.1.el7_8 rub2-2.02-0.81.0.3.el7 grub2-tools-2.02-0.81.0.3.el7
[01:02:40] <pocketprotector> there are multiple occurences of "Should be ... " that are on the same line as well
[01:12:52] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[01:20:18] *** Quits: nvmd (~nvmd@user/nvmd) (Quit: Later, nerds.)
[03:48:25] <e36freak> multiple on the same line makes it substantially more difficult
[03:48:44] <e36freak> if you have GNU coreutils i'd probably just pipe grep -o to sed
[03:49:56] <e36freak> grep -o '^Should be                : [[:alnum:]_.-]*' | sed 's/.* : //'
[04:02:11] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 245 seconds)
[04:30:26] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:35:01] *** Joins: vlm (~vlm@user/vlm)
[05:08:48] *** Quits: Torr (~Torr@user/torr) ()
[05:09:00] *** Joins: Torr (~Torr@user/torr)
[05:41:46] *** Joins: defjam (~eb0t@90.196.142.47)
[05:54:40] *** Joins: ferdna (~ferdna@user/ferdna)
[06:18:31] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[07:39:22] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.2-dev)
[08:16:59] *** Quits: defjam (~eb0t@90.196.142.47) (Ping timeout: 246 seconds)
[08:19:02] *** Joins: defjam (~eb0t@90.202.255.249)
[08:28:40] *** Quits: Torr (~Torr@user/torr) ()
[08:28:51] *** Joins: Torr (~Torr@user/torr)
[08:42:19] *** Joins: nerozero (~nerozero@87.253.63.54)
[08:45:31] *** Quits: Torr (~Torr@user/torr) (Ping timeout: 245 seconds)
[08:53:01] *** Joins: Andrew_ (~andrew@user/andrewyu)
[08:53:35] *** Quits: AndrewYu (~andrew@user/andrewyu) (Ping timeout: 252 seconds)
[09:07:00] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[09:17:55] *** Joins: jetchisel (jetchisel@user/jetchisel)
[09:28:00] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[10:08:26] *** Quits: defjam (~eb0t@90.202.255.249) (Ping timeout: 245 seconds)
[10:10:18] *** Joins: defjam (~eb0t@90.209.55.200)
[10:43:07] *** Joins: totenkoph (~scythe@user/totenkoph)
[10:49:41] <Soliton> if you have GNU grep you can try the regex verbatim with -P. the bracket expression looks fishy though.
[11:04:07] *** Quits: defjam (~eb0t@90.209.55.200) (Read error: Connection reset by peer)
[11:09:34] *** Joins: defjam (~eb0t@90.199.243.11)
[11:12:37] *** Joins: hanif (~hanif@gateway/tor-sasl/hanif)
[11:26:52] *** Quits: hanif (~hanif@gateway/tor-sasl/hanif) (Remote host closed the connection)
[11:28:30] *** Joins: hanif (~hanif@gateway/tor-sasl/hanif)
[11:37:16] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[11:37:31] *** Quits: chiselfuse (~chiselfus@user/chiselfuse) (Remote host closed the connection)
[11:37:48] <tsujp> Friends I am trying to add the following literal text to the start of line 12: REDIS_PASSWORD="$(</mnt/test)"
[11:37:50] *** Joins: chiselfuse (~chiselfus@user/chiselfuse)
[11:38:01] <tsujp> but sed keeps evaluating the subshell expression and I cannot escape it
[11:38:29] <tsujp> sed "12s/^/  REDIS_PASSWORD=\"\\$(</mnt/test\"/" /usr/local/bin/docker-entrypoint
[11:38:37] <tsujp> That's what I've tried, any ideas?
[11:39:57] <Soliton> \\ means \ and does not escape the next character.
[11:40:14] <Soliton> also it's the shell that interpretes that not sed.
[11:41:06] <Soliton> not sure why you don't just use single quotes.
[11:41:09] <tsujp> oh right and also I just realised im a dummy im using / for the seperator as well as in the file path, whoops
[11:42:35] <Soliton> sed '12s,^,  REDIS_PASSWORD="$(</mnt/test)",'
[11:42:36] <tsujp> single quotes by themselves don't work sed '12s/^/  REDIS_PASSWORD="$(</mnt/test)"'
[11:42:41] *** Joins: earnestly (~earnest@user/earnestly)
[11:42:49] <tsujp> yeah I used a | instead of /
[11:45:07] <hanif> tsujp: did you want a newline after that line?
[11:46:23] <tsujp> hanif I tested it as Soliton posted then and as I coincidentally tried using | as a separator myself and it functions correctly. It prefixes the command which is on line 12 with the environment variable with the literal subshell command
[11:46:43] <hanif> ah i see
[11:46:52] <tsujp> the result is a line that looks like: REDIS_PASSWORD="$(</mnt/test)" exec logstash
[11:52:18] *** Quits: psydroid (~psydroid@user/psydroid) (Quit: Bridge terminating on SIGTERM)
[11:52:18] *** Quits: katrms[m] (~sab7iryud@2001:470:69fc:105::9d2) (Quit: Bridge terminating on SIGTERM)
[11:52:29] *** Quits: ormaaj (~ormaaj@user/ormaaj) (Quit: Bridge terminating on SIGTERM)
[11:52:34] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (Quit: Bridge terminating on SIGTERM)
[11:55:13] *** Joins: micw (~micw@ip-109-41-129-66.web.vodafone.de)
[11:55:43] *** Joins: katrms[m] (~sab7iryud@2001:470:69fc:105::9d2)
[11:56:27] *** Quits: hanif (~hanif@gateway/tor-sasl/hanif) (Ping timeout: 276 seconds)
[11:56:46] <micw> Hello. I try to gather all source ip addresses from the conntrack -L command. A line consists lot of output which always contains a string like " src=172.30.128.59 " (with an arbitrary ip address and always whitespace before and whitespace or EOL after)
[11:56:47] *** Joins: psydroid (~psydroid@user/psydroid)
[11:56:47] *** Joins: ormaaj (~ormaaj@user/ormaaj)
[11:56:55] *** Joins: jmcantrell (~jmcantrel@user/jmcantrell)
[11:56:57] <micw> how an i obtain the ip address from it?
[11:58:39] <Soliton> s/.* src=\([0-9.]*\).*/\1/
[12:03:42] <micw> thank you
[12:04:18] <micw> hm, there are some non-matching lines (additional output). can i restrict it to lines where the substitution matches?
[12:04:39] <Soliton> sed -n 's/.* src=\([0-9.]*\).*/\1/p'
[12:07:30] <micw> oh, just saw that the line contains src=... twice. I get the second but need the first one ^^
[12:07:48] *** Quits: jle (~jle@aftr-88-152-185-251.unity-media.net) (Changing host)
[12:07:48] *** Joins: jle (~jle@user/jle)
[12:11:01] <geirha> that's more complicated
[12:11:18] <micw> conntrack -L | sed -n 's/^.* src=\([0-9.]*\) .*src=.*/\1/p' 
[12:11:29] <micw> i just expect the src= later again ^^
[12:15:12] <geirha> ok, so you only care about the first one?
[12:17:15] <micw> yes
[12:17:33] <micw> sorry if that way unclear
[12:17:37] <micw> was
[12:17:47] <micw> thank a lot, works pretty well
[12:18:50] <geirha> so all entries has two src= because the one you have now will ignore the lines with only a single src=
[12:20:09] <micw> yes, seems there's 2x src in all lines. if not, is there a better solution? seems sed does not understand "^.*?" at start
[12:20:54] <geirha> yeah, basic regular expressions only know greed
[12:21:19] <geirha> if it's only ever one or two, you could do
[12:21:30] <Soliton> sed -n 's/.* src=\([0-9.]*\).* \(src=\)\{0,1\}.*/\1/p'
[12:21:56] <geirha> sed -n 's/^.* src=\([0-9.]*\) .*src=.*/\1/p; t; s/^.* src=\([0-9.]*\).*/\1/p'' 
[12:22:23] <geirha> t should jump to the end if the previous s command made a substitution
[12:22:50] <geirha> though, not strictly necessary, since the second s command will just fail if the first one succeeds anyway
[12:24:00] <geirha> # sed -n 's/^.* src=\([0-9.]*\) .*src=.*/\1/p; t; s/^.* src=\([0-9.]*\).*/\1/p' <<< $'x src=1 x src=2 x\nx src=3 x\nno match'
[12:24:02] <shbot> geirha: 1
[12:24:02] <shbot> geirha: 3
[12:36:17] <micw> alright, that's very interesting
[13:10:44] *** Joins: micw_ (~micw@static.126.223.47.78.clients.your-server.de)
[13:10:53] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 264 seconds)
[13:13:55] *** Quits: micw (~micw@ip-109-41-129-66.web.vodafone.de) (Ping timeout: 265 seconds)
[13:23:53] *** Joins: Atque (~Atque@user/atque)
[13:27:45] *** Quits: wuseman (~wuseman@user/wuseman) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[13:31:03] *** Joins: wuseman (~wuseman@90-227-27-97-no68.tbcn.telia.com)
[13:31:03] *** Quits: wuseman (~wuseman@90-227-27-97-no68.tbcn.telia.com) (Changing host)
[13:31:03] *** Joins: wuseman (~wuseman@user/wuseman)
[13:44:55] *** Quits: wuseman (~wuseman@user/wuseman) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[13:48:34] *** Joins: wuseman (~wuseman@90-227-27-97-no68.tbcn.telia.com)
[13:48:34] *** Quits: wuseman (~wuseman@90-227-27-97-no68.tbcn.telia.com) (Changing host)
[13:48:34] *** Joins: wuseman (~wuseman@user/wuseman)
[13:54:01] *** Quits: wuseman (~wuseman@user/wuseman) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[14:00:12] *** Joins: wuseman (~wuseman@90-227-27-97-no68.tbcn.telia.com)
[14:00:12] *** Quits: wuseman (~wuseman@90-227-27-97-no68.tbcn.telia.com) (Changing host)
[14:00:12] *** Joins: wuseman (~wuseman@user/wuseman)
[14:34:39] *** Quits: wuseman (~wuseman@user/wuseman) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[14:37:58] *** Joins: wuseman (~wuseman@90-227-27-97-no68.tbcn.telia.com)
[14:37:58] *** Quits: wuseman (~wuseman@90-227-27-97-no68.tbcn.telia.com) (Changing host)
[14:37:58] *** Joins: wuseman (~wuseman@user/wuseman)
[14:49:34] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[16:08:08] *** Joins: hanif (~hanif@gateway/tor-sasl/hanif)
[16:30:39] *** Quits: micw_ (~micw@static.126.223.47.78.clients.your-server.de) (Quit: Leaving)
[16:33:10] *** Joins: hanif_ (~hanif@gateway/tor-sasl/hanif)
[16:33:21] *** Quits: hanif (~hanif@gateway/tor-sasl/hanif) (Ping timeout: 276 seconds)
[16:33:30] *** hanif_ is now known as hanif
[16:41:29] *** Quits: ormaaj (~ormaaj@user/ormaaj) (Ping timeout: 264 seconds)
[16:43:01] *** Joins: hanif_ (~hanif@gateway/tor-sasl/hanif)
[16:46:21] *** Quits: hanif (~hanif@gateway/tor-sasl/hanif) (Ping timeout: 276 seconds)
[16:46:39] *** Joins: nvmd (~nvmd@user/nvmd)
[16:57:48] *** Joins: hanif (~hanif@gateway/tor-sasl/hanif)
[16:58:03] *** Quits: hanif_ (~hanif@gateway/tor-sasl/hanif) (Ping timeout: 276 seconds)
[17:04:57] *** Quits: wuseman (~wuseman@user/wuseman) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[17:08:04] *** Joins: wuseman (wuseman@90-227-27-97-no68.tbcn.telia.com)
[17:08:04] *** Quits: wuseman (wuseman@90-227-27-97-no68.tbcn.telia.com) (Changing host)
[17:08:05] *** Joins: wuseman (wuseman@user/wuseman)
[17:10:29] *** Joins: hanif_ (~hanif@gateway/tor-sasl/hanif)
[17:13:39] *** Quits: hanif (~hanif@gateway/tor-sasl/hanif) (Ping timeout: 276 seconds)
[17:16:05] *** Joins: hanif (~hanif@gateway/tor-sasl/hanif)
[17:17:33] *** Quits: hanif_ (~hanif@gateway/tor-sasl/hanif) (Ping timeout: 276 seconds)
[17:17:45] *** Parts: hanif (~hanif@gateway/tor-sasl/hanif) ()
[18:50:23] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[19:04:15] *** Joins: TomyWork (~TomyLobo@p200300e80f06af00bc30e1e1114346a0.dip0.t-ipconnect.de)
[19:17:29] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[19:18:08] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[19:41:45] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[20:01:37] <mw_> # echo "lrwxrwxrwx   1 root root    31 2021-09-29 06:07:32 vmlinuz.old -> boot/vmlinuz-4.15.0-158-generic" | sed 's/[^a-z]./\U&/g'
[20:01:38] *** Joins: ormaaj (~ormaaj@user/ormaaj)
[20:01:38] <shbot> mw_: lrwxrwxrwx   1 Root Root    31 2021-09-29 06:07:32 Vmlinuz.Old -> boot/Vmlinuz-4.15.0-158-generic
[20:02:11] *** Parts: mw_ (~mw@catv-86-101-13-145.catv.broadband.hu) (Leaving)
[20:02:18] *** Joins: mw_ (~mw@catv-86-101-13-145.catv.broadband.hu)
[20:02:36] <mw_> "boot" and "generic" not capitalized, but why?
[20:05:07] <phy1729> because the matches are " -" "> " so there's no non a-z to match before boot
[20:05:44] <phy1729> # echo "lrwxrwxrwx   1 root root    31 2021-09-29 06:07:32 vmlinuz.old --> boot/vmlinuz-4.15.0-158-generic" | sed 's/[^a-z]./\U&/g'
[20:05:46] <shbot> phy1729: lrwxrwxrwx   1 Root Root    31 2021-09-29 06:07:32 Vmlinuz.Old --> Boot/Vmlinuz-4.15.0-158-generic
[20:06:35] *** Joins: earnestly (~earnest@user/earnestly)
[20:06:41] <phy1729> # echo "lrwxrwxrwx   1 root root    31 2021-09-29 06:07:32 vmlinuz.old -> boot/vmlinuz-4.15.0-158-generic" | sed 's/[^a-z]\{1,\}./\U&/g'
[20:06:42] <shbot> phy1729: lrwxrwxrwx   1 Root Root    31 2021-09-29 06:07:32 Vmlinuz.Old -> Boot/Vmlinuz-4.15.0-158-Generic
[20:07:25] <mw_> ah, i see, thx
[20:26:44] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 246 seconds)
[20:34:38] *** Quits: TomyWork (~TomyLobo@p200300e80f06af00bc30e1e1114346a0.dip0.t-ipconnect.de) (Quit: Leaving)
[21:33:31] *** Quits: wuseman (wuseman@user/wuseman) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[21:36:28] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[21:37:03] *** Joins: wuseman (wuseman@90-227-27-97-no68.tbcn.telia.com)
[21:37:03] *** Quits: wuseman (wuseman@90-227-27-97-no68.tbcn.telia.com) (Changing host)
[21:37:03] *** Joins: wuseman (wuseman@user/wuseman)
[21:38:34] *** Joins: lgc (~lgc@user/lgc)
[21:50:44] *** Quits: X-Scale (~ARM@50.77.166.178.rev.vodafone.pt) (Ping timeout: 252 seconds)
[21:51:35] *** Joins: X-Scale` (~ARM@46.50.4.194)
[21:52:20] *** X-Scale` is now known as X-Scale
[23:41:03] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[23:44:44] *** Quits: shbot (~shbot@37.139.2.101) (Remote host closed the connection)
[23:47:06] *** Joins: shbot (~shbot@37.139.2.101)
