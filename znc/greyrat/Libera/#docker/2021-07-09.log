[00:01:10] *** Quits: Crell (~Crell@24.148.30.77) (Quit: Client closed)
[00:05:05] *** Quits: fulldecent (~textual@2603:301d:2601:700:556a:d5a3:a46a:4bfa) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:28:32] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[00:34:39] *** Quits: aab_ (~58613918@user/aab/x-3846634) (Quit: The Lounge - https://thelounge.chat)
[00:35:27] *** Joins: aab_ (~a29e6f74@user/aab/x-3846634)
[00:36:43] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Remote host closed the connection)
[00:42:26] *** Quits: tang^ (~doofus@2604:3d09:47c:f970:3c23:a78:fc24:83a1) (Quit: So as I was sayinSQUIRREL)
[00:45:58] *** Quits: vincent- (~vincent-@cpc87559-seve28-2-0-cust94.13-3.cable.virginm.net) (Quit: Leaving)
[00:52:05] <Lutin> Should a second app label + rule on a container work for a second LE certificate with traefik ?
[00:55:58] *** Joins: rickumali (~rick@2601:19c:4200:4160::dddf)
[00:59:15] <devslash> I think you need 2 resolvers but hopefully someone else can confirm this
[01:12:13] *** Joins: tang^ (~doofus@2604:3d09:47c:f970:3c23:a78:fc24:83a1)
[01:12:56] *** Joins: Ryu945 (~Ryu945@154.3.251.93)
[01:16:40] *** Joins: twiclo (~twiclo@2604:7b80:2000:1069:52fc:cedd:fbeb:10c)
[01:17:34] <twiclo> I'm reading up on this for work and am confused about how I get my built binary onto the container. Sure I could just pull it from our gitlab release page but our intention is to ship the dockerfile to other companies. Does that mean in order for this image to build they will have to have access to our gitlab?
[01:17:48] <twiclo> Or is docker-compose just not meant to be distributed like a build docker image is?
[01:20:40] <programmerq> usually you'd publish both an image and a docker-compose.yml file
[01:21:22] <programmerq> the image can live in a docker registry -- either public or password protected. you can also 'docker save' images to a tarball and an end user can 'docker load' them. that's a common approach for airgapped installations
[01:21:44] *** hugoposca is now known as hposca
[01:22:51] <twiclo> So if a user got my docker-compose how would they get the source code/binary needed to compose that docker image?
[01:22:55] *** Joins: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl)
[01:22:56] <programmerq> the image should be suitable to work in any environment. The docker-compose.yml file you publish should be a good best practice starting point for your software. end users may tweak the compose file with updated domain names or paths to certificates or other environment specific runtime stuff.
[01:23:20] <programmerq> twiclo▸ the docker-compose.yml that you publish would have an image: key and it'd pull the image from the registry
[01:24:22] <twiclo> I was confused. Docker compose is a way to set up docker images that are already build. Not a way to build a docker image
[01:24:25] <programmerq> you aren't "composing an image"-- the compose file declares what containers you want running. those containers need an image, and while you *can* use the "build:" key to facilitate a locally built copy, production software will use a published image instead of building locally. That means the image build process is separated from any one deployment.
[01:25:13] <programmerq> for example, this is a little example project that I made: https://github.com/programmerq/scaletest
[01:25:38] *** Joins: vidbina (~vid@dynamic-078-054-152-188.78.54.pool.telefonica.de)
[01:25:46] <programmerq> you can grab *only* the compose file and run 'docker-compose up -d' and it will pull my published images and use those.
[01:26:05] <programmerq> you can also clone the whole repo and 'docker-compose build' to build your own local copy of those images
[01:26:09] <programmerq> either way works
[01:26:37] <programmerq> but for a real production type project, the image build happens in a CICD pipeline and puts the image into a docker registry
[01:28:22] *** Joins: farn (~farn@2a03:4000:7:3cd:d4ab:85ff:feeb:f505)
[01:32:44] *** Quits: Atum_ (~IRC@user/atum/x-2392232) (Read error: Connection reset by peer)
[01:40:52] *** Joins: Gustavo6046_ (~Gustavo60@user/gustavo6046)
[01:41:28] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Ping timeout: 246 seconds)
[01:42:56] *** Gustavo6046_ is now known as Gustavo6046
[01:42:58] *** Joins: ivan_ (~Ivyy@195.216.219.105)
[01:45:38] *** Quits: Ivyy (~Ivyy@2001:a62:41d:fa01:d1fb:2875:a96:4962) (Ping timeout: 255 seconds)
[01:59:44] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[02:03:48] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 272 seconds)
[02:05:17] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[02:10:45] *** Joins: xep (~misha@76-210-4-7.lightspeed.sntcca.sbcglobal.net)
[02:13:08] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:14:45] <devslash> Lutin, did you find out the answer?
[02:15:14] *** Quits: fspy (~fspy@user/fspy) (Ping timeout: 268 seconds)
[02:15:20] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 255 seconds)
[02:15:50] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[02:16:10] *** Joins: fspy (~fspy@user/fspy)
[02:19:57] <Lutin> devslash which /
[02:20:18] <devslash> 2nd LE cert
[02:20:39] <devslash> I use Traefik in Docker but with 1 Cert not 2
[02:20:40] *** Quits: vidbina (~vid@dynamic-078-054-152-188.78.54.pool.telefonica.de) (Ping timeout: 246 seconds)
[02:21:17] *** Joins: p_stampy (~thelounge@user/p-stampy/x-2915953)
[02:22:26] <devslash> I could show you my compose but I am guessing that you've already got it set up with 1 cert
[02:24:56] <devslash> I'm not sure if anyone can help me with this but I set up the Cryptpad container https://hub.docker.com/r/promasu/cryptpad and it works but theres 1 thing that I'd like to be able to do. If I need to share a script in Linux I can do cat myscript | nc termbin.com 9999, it net cats the script to termbin.com and returns the URL of the code paste. Is that a termbin specific feature ?
[02:25:38] <Lutin> devslash nah need to look further, should work
[02:25:56] <devslash> With CryptPad specifically ?
[02:26:23] <devslash> what is the name for the feature of piping code to a pasting service
[02:26:34] *** Quits: c10l (~c10l@89.34.167.207) (Read error: Connection reset by peer)
[02:28:41] *** Joins: c10l (~c10l@89.34.167.207)
[02:43:47] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Quit: ERC (IRC client for Emacs 27.2))
[02:45:11] *** Joins: ryu__ (~Ryu945@70.39.111.236)
[02:47:44] *** Quits: Ryu945 (~Ryu945@154.3.251.93) (Ping timeout: 252 seconds)
[02:56:58] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 240 seconds)
[02:59:44] *** Joins: weedmic (~weedmic@109-186-197-174.bb.netvision.net.il)
[02:59:52] *** Quits: Trieste (~T@user/pilgrim) (Ping timeout: 246 seconds)
[02:59:56] *** Joins: jazzy (~jaziz@2600:380:8653:59ba:edff:946b:89ad:7dd5)
[03:00:31] *** Quits: weedmic (~weedmic@109-186-197-174.bb.netvision.net.il) (Client Quit)
[03:01:32] *** Joins: Trieste (T@user/pilgrim)
[03:08:35] <akik> devslash: they have a web service listening on that port for handling incoming pastes. nc actually shows a very basic method for it, nc -l
[03:12:14] <akik> devslash: nc -l 9000 on the server, then connect to it with nc ip 9000
[03:19:24] *** Quits: thc202 (~thc202@user/thc202) (Quit: thc202)
[03:21:23] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[03:26:50] <devslash> ok so I would like to do that with my self hosted cryptopad
[03:27:02] <devslash> but nc mydomain.com 999 says connection refused
[03:29:19] *** Joins: Atum_ (~IRC@user/atum/x-2392232)
[03:30:22] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Quit: ZNC 1.8.2 - https://znc.in)
[03:30:35] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[03:35:59] *** Quits: phisch (~phisch@ip1f10fb97.dynamic.kabel-deutschland.de) (Read error: Connection reset by peer)
[03:36:04] *** Joins: phisch3 (~phisch@ip1f10fb97.dynamic.kabel-deutschland.de)
[03:37:13] <akik> devslash: i'm not saying every program would support it
[03:46:04] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[03:47:24] *** Joins: Hackerpcs (~user@user/hackerpcs)
[03:47:54] *** Quits: iota_pi (uid100059@id-100059.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[03:49:52] *** Quits: ivan_ (~Ivyy@195.216.219.105) (Quit: Leaving)
[03:50:42] *** Joins: clf59 (~clf59@user/clf59)
[03:51:21] *** Quits: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com) (Quit: Haxxa flies away.)
[03:52:05] *** Quits: toinen (~kvirc@user/yksi) (Ping timeout: 255 seconds)
[03:52:32] *** Joins: toinen (~kvirc@user/yksi)
[04:00:08] *** Joins: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com)
[04:05:21] *** Quits: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com) (Quit: Haxxa flies away.)
[04:09:38] *** Quits: ryu__ (~Ryu945@70.39.111.236) (Quit: Leaving)
[04:11:44] *** Joins: liefer3 (~liefer@user/liefer)
[04:14:04] *** Joins: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com)
[04:15:23] *** Quits: liefer (~liefer@user/liefer) (Ping timeout: 252 seconds)
[04:15:24] *** liefer3 is now known as liefer
[04:16:49] *** Quits: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com) (Remote host closed the connection)
[04:16:50] *** Quits: justache (~justache@user/justache) (Read error: Connection reset by peer)
[04:18:10] *** Joins: justache (~justache@user/justache)
[04:25:45] <xihh> The problem with my application was that my application was redirecting all material to http://127.0.0.1 and thus when I published it on my VPS, the resources were not available. Thanks for trying to help programmerq
[04:31:07] *** Joins: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com)
[04:31:29] *** Quits: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com) (Remote host closed the connection)
[04:34:10] *** Quits: fspy (~fspy@user/fspy) (Ping timeout: 240 seconds)
[04:34:34] *** Joins: fspy (~fspy@user/fspy)
[04:48:36] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Remote host closed the connection)
[04:49:14] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[04:51:46] *** Quits: clf59 (~clf59@user/clf59) (Quit: Textual IRC Client: www.textualapp.com)
[04:52:14] *** Quits: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl) (Ping timeout: 252 seconds)
[04:54:40] *** Joins: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl)
[04:59:35] *** Joins: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[05:03:38] *** Quits: jazzy (~jaziz@2600:380:8653:59ba:edff:946b:89ad:7dd5) (Ping timeout: 255 seconds)
[05:06:29] *** Quits: Atum_ (~IRC@user/atum/x-2392232) (Quit: Atum_)
[05:11:09] *** Joins: jamiejackson (~jamiejack@207.172.87.34)
[05:20:44] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[05:26:21] *** Quits: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl) (Quit: Leaving)
[05:30:21] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:34:11] *** Joins: vlm (~vlm@user/vlm)
[05:45:49] *** Joins: pete443 (~pete@user/pete443)
[05:48:20] *** Quits: pete443_ (~pete@user/pete443) (Ping timeout: 252 seconds)
[05:58:51] *** Joins: oxum (~oxum@106.201.34.214)
[06:00:47] *** Quits: hposca (~hposca@node-1w7jr9phoke2swvj0j3acea4z.ipv6.telus.net) (Ping timeout: 255 seconds)
[06:03:44] *** Quits: oxum (~oxum@106.201.34.214) (Ping timeout: 252 seconds)
[06:07:42] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Remote host closed the connection)
[06:24:10] *** Quits: BobbyJr (~BobbyJr@robsworld.plus.com) (Remote host closed the connection)
[06:54:48] *** Quits: Lutin (~Lutin@user/lutin) (Quit: Lutin)
[07:17:49] *** Quits: Sasazuka (~Sasazuka@user/sasazuka) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:30:07] *** Quits: Arwalk (~Arwalk@lfbn-dij-1-263-107.w86-235.abo.wanadoo.fr) (Quit: The Lounge - https://thelounge.chat)
[07:30:46] *** Joins: Arwalk (~Arwalk@lfbn-dij-1-263-107.w86-235.abo.wanadoo.fr)
[07:38:20] *** Quits: mei (~mei@user/mei) (Ping timeout: 252 seconds)
[07:41:04] *** Joins: mei (~mei@user/mei)
[07:41:37] *** Joins: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au)
[07:48:55] *** Joins: erhandsome (~erhandsom@user/erhandsome)
[07:50:51] *** Joins: cloudbender (~cloudbend@user/cloudbender)
[08:13:21] *** Joins: candyman (~candyman@user/candyman)
[08:17:46] <erhandsome> how do i archive WORKDIR folder with wildcard in Dockerfile? download software source code and unzip it, but version may change, is there other ways to make like `cd software-*` ?
[08:27:04] <dodo> why not unzip -d 
[08:32:36] <erhandsome> actually it's software-current.tar.gz but folder in it maybe software-1.1 or software-1.2
[08:32:55] *** Quits: cloudbender (~cloudbend@user/cloudbender) (Quit: Client closed)
[08:34:12] *** Quits: tang^ (~doofus@2604:3d09:47c:f970:3c23:a78:fc24:83a1) (Quit: Bye)
[08:34:59] <erhandsome> find a workaround, mv software-* software everytime...
[08:41:53] *** Quits: dibber (~dibber@c-73-14-187-235.hsd1.co.comcast.net) (Ping timeout: 255 seconds)
[08:44:49] *** Quits: zakame (~zakame@user/zakame) (Quit: WeeChat 2.9)
[08:45:04] *** Joins: zakame (~zakame@user/zakame)
[08:46:59] *** Quits: candyman (~candyman@user/candyman) (Ping timeout: 252 seconds)
[08:48:37] *** Joins: CodeSpelunker (~CodeSpelu@user/codespelunker)
[09:06:16] *** Joins: HaMsTeRs (~mx@121.202.92.70)
[09:13:12] *** Joins: AltReality (~altrealit@99-57-74-231.lightspeed.frokca.sbcglobal.net)
[09:13:49] *** Quits: dthpulse (~quassel@podciarou.sk) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[09:15:50] *** Joins: dthpulse (~quassel@podciarou.sk)
[09:18:20] *** Quits: xihh (~x@2806:107e:19:719e:2278:ff44:8210:6b2d) (Ping timeout: 255 seconds)
[09:20:52] *** Joins: hposca (~hposca@node-1w7jr9phoke2u2nhpnpnvkkwv.ipv6.telus.net)
[09:26:26] *** Quits: hposca (~hposca@node-1w7jr9phoke2u2nhpnpnvkkwv.ipv6.telus.net) (Ping timeout: 255 seconds)
[09:33:30] *** Quits: CodeSpelunker (~CodeSpelu@user/codespelunker) (Quit: CodeSpelunker)
[09:35:23] *** Joins: xihh (~x@dsl-201-128-132-158.prod-infinitum.com.mx)
[09:56:53] *** Joins: thc202 (~thc202@user/thc202)
[09:59:11] *** Joins: waldo323_ (~waldo323@d149-67-45-83.clv.wideopenwest.com)
[09:59:28] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 244 seconds)
[10:01:58] *** Quits: waldo323 (~waldo323@d149-67-45-83.clv.wideopenwest.com) (Ping timeout: 272 seconds)
[10:03:08] *** Quits: HaMsTeRs (~mx@121.202.92.70) (Quit: Konversation terminated!)
[10:03:32] *** Quits: svm_invictvs (~svm_invic@2600:8801:9300:5d:bebb:835c:ba95:37b6) (Remote host closed the connection)
[10:19:42] *** Joins: CombatVet (~c4@user/combatvet)
[10:20:44] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Quit: WeeChat 3.1)
[10:23:19] *** Joins: AnapodoPsalidaki (~AnapodoPs@2a02:587:2917:ae32:5ca1:e706:6495:2baf)
[11:12:44] *** Quits: ac5tin (~ac5tin@user/ac5tin) (Quit: WeeChat 3.1)
[11:13:06] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[11:34:23] *** Joins: arinov (~arinov@213.194.126.155)
[11:41:56] *** Joins: candyman (~candyman@user/candyman)
[11:42:31] *** Quits: candyman (~candyman@user/candyman) (Remote host closed the connection)
[11:50:34] *** Joins: candyman (~candyman@user/candyman)
[11:53:21] *** Joins: jla (~jordi@168.red-176-83-174.dynamicip.rima-tde.net)
[12:03:25] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[12:03:28] *** Joins: fedenix_ (~fedenix@gateway/tor-sasl/fedenix)
[12:04:46] *** Quits: candyman (~candyman@user/candyman) (Ping timeout: 268 seconds)
[12:05:47] *** Joins: kikijiki (~Thunderbi@user/kikijiki)
[12:14:07] *** Joins: RV (~RV@92.173.180.89)
[12:16:48] *** Joins: vincent- (~vincent-@cpc87559-seve28-2-0-cust94.13-3.cable.virginm.net)
[12:22:30] *** Joins: lemonzest (~lemonzest@user/lemonzest)
[12:29:27] *** Joins: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com)
[12:35:25] *** Joins: Timvde (~tim@towely.vdeynde.com)
[12:36:44] <Timvde> If I use `--mount=type=cache` from multiple dockerfiles, is that cache shared? If so, is there a way to differentiate?
[12:37:29] *** Joins: jonifen (~jonifen@user/jonifen)
[12:40:33] *** Quits: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com) (Quit: Haxxa flies away.)
[12:50:44] *** Quits: jla (~jordi@168.red-176-83-174.dynamicip.rima-tde.net) (Ping timeout: 255 seconds)
[13:06:04] *** Joins: Lutin (~Lutin@user/lutin)
[13:17:28] *** Joins: weedmic (~weedmic@109-186-197-174.bb.netvision.net.il)
[13:21:51] *** Joins: candyman (~candyman@user/candyman)
[13:24:13] *** Joins: jazzy (~jaziz@2600:380:8653:59ba:b058:24e1:6e32:1842)
[13:34:54] *** Joins: varaindemian (~varaindem@86.124.78.162)
[13:42:03] *** Joins: jazzy2 (~jaziz@2600:380:8653:59ba:7d3d:6a42:3e7f:d235)
[13:44:24] *** Joins: vidbina (~vid@dynamic-078-055-129-246.78.55.pool.telefonica.de)
[13:44:54] *** Quits: acid (~acid@user/acid) (Ping timeout: 272 seconds)
[13:45:44] *** Quits: jazzy (~jaziz@2600:380:8653:59ba:b058:24e1:6e32:1842) (Ping timeout: 252 seconds)
[13:46:15] *** Quits: weedmic (~weedmic@109-186-197-174.bb.netvision.net.il) (Quit: Konversation terminated!)
[13:46:24] *** jazzy2 is now known as jazzy
[13:46:49] *** Joins: TomTom (uid45892@id-45892.charlton.irccloud.com)
[13:47:00] *** Joins: acid (~acid@user/acid)
[13:49:19] <TomTom> Hi there. I stopped containers (compose) and removed the network. On restart (up) docker complains about not finding the correct network (identified by a large hash). But the network which was used before has been recreated and is available. So I guess the container is bound to the network identified by this hash and not by network name. How to reattach a stopped container to a network? `docker network connect...` does not work, it 
[13:49:19] <TomTom> keeps complaining about not existing network
[13:49:38] <TomTom> I don't want to recreate the container
[13:50:36] <TomTom> this is the error message `ERROR: for myService  Cannot start service myService: network c92d8ea1310f2bd28d08e1f257899e23efadd96da79211eb948e7c1c7a3df687 not found`
[13:51:15] *** Joins: RougeR (~rougex250@user/rouger)
[13:55:07] <TomTom> I inspected the container, removed all the networks of the container and connected it to the correct one... Thanks
[13:58:20] *** Joins: ac5tin (~ac5tin@user/ac5tin)
[13:59:27] *** Joins: Bruners (lasseb@178.16.67.227)
[14:01:47] *** Joins: cart_man (~rynot@169-0-213-159.ip.afrihost.co.za)
[14:02:32] <cart_man> Hi everyone. I have two pods in a docker compose file. Grafana and MySQL pods. When both are running the Grafana setup UI can not seem to connect to my MySQL DB EVEN THOUGH my host DBeaver app can connect to that DB fine.
[14:06:49] <cart_man> This is my compose file -> https://pastebin.com/m2FD15Jv
[14:20:02] <Timvde> cart_man: you'll need to define a link: https://github.com/compose-spec/compose-spec/blob/master/spec.md#links
[14:20:26] <Timvde> Hmm, maybe not "need", now I read the documentation...
[14:20:51] <Timvde> but I've always done it, you can try it maybe
[14:22:34] *** Quits: AnapodoPsalidaki (~AnapodoPs@2a02:587:2917:ae32:5ca1:e706:6495:2baf) (Quit: Leaving)
[14:23:11] <Timvde> What hostname are you using to reach it?
[14:25:36] *** Joins: coax_ (~coax@p5dcbe425.dip0.t-ipconnect.de)
[14:26:37] *** Quits: c10l (~c10l@89.34.167.207) (Read error: Connection reset by peer)
[14:26:53] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[14:27:20] *** Joins: c10l (~c10l@89.34.167.207)
[14:28:28] *** Quits: coax__ (~coax@pd9f73b9d.dip0.t-ipconnect.de) (Ping timeout: 265 seconds)
[14:28:38] *** Quits: divine (~divine@2001:470:8247:1::31) (Ping timeout: 252 seconds)
[14:30:32] *** Joins: divine (~divine@2001:470:8247:1::31)
[14:38:44] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 255 seconds)
[14:40:31] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[14:42:56] *** Quits: peder (4822@nidur.ifi.uio.no) (Remote host closed the connection)
[14:45:55] *** Joins: peder (4822@nidur.ifi.uio.no)
[14:50:33] *** Joins: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl)
[14:54:29] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Ping timeout: 255 seconds)
[14:59:00] *** Joins: arinov (~arinov@95.12.112.154)
[14:59:29] <cart_man> Timvde: Just my localhost
[14:59:38] *** Quits: vidbina (~vid@dynamic-078-055-129-246.78.55.pool.telefonica.de) (Ping timeout: 272 seconds)
[14:59:39] <cart_man> Usually that was enough for other container no?
[14:59:54] <Timvde> cart_man: no, localhost on the other container is the container itself
[14:59:57] <Timvde> try using "db"
[15:10:04] <cart_man> Timvde: So actually you can use our host IP
[15:16:40] <Timvde> cart_man: that works, but is imo not nice
[15:16:59] *** Quits: ac5tin (~ac5tin@user/ac5tin) (Quit: WeeChat 3.1)
[15:17:08] <Timvde> You should use docker networking for connections between containers
[15:39:56] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 255 seconds)
[15:51:59] <Lutin> anyone doing 2 seperate cert, so no cert with a SAN, on the same container ?
[15:52:07] <Lutin> with traefik btw ;)
[15:52:49] *** Joins: momomo (~momomo@c-dc74524e.016-77-73746f43.bbcust.telenor.se)
[15:52:58] <momomo> anyway one could auto answer y on these ? 
[15:52:59] <momomo> Are you sure you want to continue? [y/N] y
[15:56:26] *** Quits: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Ping timeout: 265 seconds)
[16:00:29] *** Quits: arinov (~arinov@95.12.112.154) (Ping timeout: 252 seconds)
[16:15:12] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[16:17:17] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[16:18:22] <Lutin> is it needed to use containername.network when your container has multple networks connected and need to connect to other containers ?
[16:23:09] <Lutin> Asking for a friend :P
[16:26:20] *** Quits: OnkelTem (~OnkelTem@user/onkeltem) (Ping timeout: 252 seconds)
[16:28:10] *** Joins: OnkelTem (~OnkelTem@user/onkeltem)
[16:37:57] *** Quits: OnkelTem (~OnkelTem@user/onkeltem) (Ping timeout: 268 seconds)
[16:38:22] *** Joins: OnkelTem (~OnkelTem@user/onkeltem)
[16:38:23] *** Joins: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[16:41:27] *** Joins: TastyCorn (~TastyCorn@ec2-52-10-164-55.us-west-2.compute.amazonaws.com)
[16:44:08] <Lutin> I'm running proxysql and I see the database it creates form config is not updated by redploy of the stack or updating the service. Anyone an idea what is best there ? Removing that database all the time, not that I change much, is not ideal
[16:45:35] *** Quits: OnkelTem (~OnkelTem@user/onkeltem) (Ping timeout: 252 seconds)
[16:46:39] *** Joins: arinov (~arinov@213.194.126.155)
[16:47:43] *** Joins: OnkelTem (~OnkelTem@user/onkeltem)
[16:49:31] *** Joins: vidbina (~vid@dynamic-046-114-036-034.46.114.pool.telefonica.de)
[16:51:22] *** Quits: jazzy (~jaziz@2600:380:8653:59ba:7d3d:6a42:3e7f:d235) (Ping timeout: 240 seconds)
[16:58:13] <Lutin> *redeploy
[16:59:56] *** Joins: rsx (~dummy@ppp-188-174-132-81.dynamic.mnet-online.de)
[17:16:26] <ada_> is it "required" no, not necessarily
[17:16:45] <ada_> I would expect the service name to resolve without the network name suffix
[17:30:11] *** Quits: liefer (~liefer@user/liefer) (Ping timeout: 255 seconds)
[17:32:44] *** Joins: Trieste (~T@user/pilgrim)
[17:33:29] *** Quits: momomo (~momomo@c-dc74524e.016-77-73746f43.bbcust.telenor.se) (Changing host)
[17:33:29] *** Joins: momomo (~momomo@user/momomo)
[17:36:54] *** Joins: varaindemian (~varaindem@86.124.78.162)
[17:39:29] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 252 seconds)
[17:40:02] *** Quits: Trieste (~T@user/pilgrim) (Ping timeout: 252 seconds)
[17:43:50] *** Joins: Trieste (T@user/pilgrim)
[17:44:23] *** Joins: nuala (~nuala@user/nuala)
[17:49:23] *** Quits: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Ping timeout: 252 seconds)
[17:52:14] *** Quits: statusbot (~statusbot@ec2-34-198-122-184.compute-1.amazonaws.com) (Remote host closed the connection)
[17:52:29] *** Joins: statusbot (~statusbot@ec2-34-198-122-184.compute-1.amazonaws.com)
[17:52:40] *** Joins: Czernobog (~Czernobog@user/czernobog)
[17:53:31] *** Czernobog is now known as The_Czernobog
[17:53:45] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Ping timeout (120 seconds))
[17:54:05] *** The_Czernobog is now known as Czernobog
[17:55:19] *** Quits: cmc (~methos@gateway/tor-sasl/cmc) (Ping timeout: 244 seconds)
[17:55:28] *** Quits: BigShip (~BigShip@user/bigship) (Quit: Ping timeout (120 seconds))
[17:55:50] *** Joins: BigShip (~BigShip@user/bigship)
[17:55:59] *** Quits: laurent\ (~laurent@user/laurent/x-0837246) (Ping timeout: 252 seconds)
[17:56:32] *** Joins: laurent\ (~laurent@user/laurent/x-0837246)
[17:56:33] *** Quits: rickumali (~rick@2601:19c:4200:4160::dddf) (Ping timeout: 252 seconds)
[17:56:33] *** Quits: gearnode (~gearnode@2a01cb000ce2c100b0b4e37bd756bdb4.ipv6.abo.wanadoo.fr) (Ping timeout: 252 seconds)
[17:57:14] *** Joins: gearnode (~gearnode@2a01cb000ce2c100b0b4e37bd756bdb4.ipv6.abo.wanadoo.fr)
[17:57:17] *** Quits: infernix (~nix@spirit.infernix.net) (Quit: ZNC - http://znc.sourceforge.net)
[17:57:49] *** Joins: cmc (~methos@gateway/tor-sasl/cmc)
[17:59:17] *** Quits: ultima (~ultima@23.81.113.229) (Ping timeout: 252 seconds)
[17:59:50] *** Quits: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net) (Ping timeout: 252 seconds)
[18:00:44] *** Joins: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net)
[18:02:35] *** Quits: andycooper (uid246432@id-246432.brockwell.irccloud.com) (Ping timeout: 252 seconds)
[18:04:04] *** Joins: andycooper (uid246432@id-246432.brockwell.irccloud.com)
[18:06:59] *** Quits: lemonzest (~lemonzest@user/lemonzest) (Ping timeout: 252 seconds)
[18:07:22] *** Joins: infernix (nix@2a02:22a0:bbb1:d500::2)
[18:08:33] *** Quits: Czernobog (~Czernobog@user/czernobog) (Quit: ZNC 1.8.2 - https://znc.in)
[18:10:59] <Lutin> ada_ yes it does but I was wondering if I could expect false there because of multiple networks
[18:11:35] <Lutin> so... 99% of the time good, once in a while false, but I doubt it
[18:15:21] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.0.1)
[18:26:17] *** Quits: cart_man (~rynot@169-0-213-159.ip.afrihost.co.za) (Quit: Konversation terminated!)
[18:27:21] *** Quits: finsternis (~X@23.226.237.192) (Remote host closed the connection)
[18:28:23] *** Joins: rwtrecs (~rewrit3@user/rewrit3)
[18:29:24] *** Joins: iomari891 (~iomari891@105.112.138.38)
[18:31:11] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Ping timeout: 252 seconds)
[18:37:56] *** Joins: varaindemian (~varaindem@86.124.78.162)
[18:41:26] *** Joins: gschanuel59 (~gschanuel@user/gschanuel)
[18:42:42] *** Quits: gschanuel59 (~gschanuel@user/gschanuel) (Client Quit)
[18:42:56] *** Joins: gschanuel59 (~gschanuel@user/gschanuel)
[18:44:44] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[18:44:46] <ada_> it's not often that you have to resolve an IP to a specific network.  I imagine the use case there might be something like for a system that uses source IP as an identifier, if you wanted to _ensure_ that the correct IP is returned, use the .networkname suffix.  but generally most things don't care _what_ the IP is as long as something answers
[18:48:15] *** Quits: rwtrecs (~rewrit3@user/rewrit3) (Quit: rwtrecs)
[18:53:57] *** gschanuel59 is now known as gschanuel
[19:16:11] *** Joins: mva (znc@gentoo/developer/mva)
[19:19:17] *** Quits: jamiejackson (~jamiejack@207.172.87.34) (Quit: Connection closed)
[19:19:42] *** Joins: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net)
[19:26:49] *** Joins: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net)
[19:28:49] *** Joins: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[19:30:01] *** Quits: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au) (Remote host closed the connection)
[19:30:42] *** Quits: vidbina (~vid@dynamic-046-114-036-034.46.114.pool.telefonica.de) (Ping timeout: 272 seconds)
[19:34:04] <BSaboia> Hello guys. I have a docker image that I want to build to execute 2 commands. One of them is a "watch" command, the other one is "npm", The watch one never gets executed. Any ideas why?
[19:36:17] <ada_> BSaboia: show your dockerfile
[19:36:27] <andydude> There is only one way to execute two commands, are you doing it that way?
[19:36:32] <ada_> I can tell you that "watch" is probably not the right move inside a dockerfile step because it's not going to exit
[19:36:43] <ada_> what do you need to watch for? whats the use case?
[19:37:30] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[19:37:36] <BSaboia> ada_ this is a very minimal image that does not have cron, the watch is to delete files older than some time
[19:37:57] <BSaboia> andydude, I am not sure. I am running a script. This script runs both
[19:38:24] <andydude> bash "x &; y"
[19:38:56] <BSaboia> andydude, in my case is ENTRYPOINT [ "startup.sh" ]
[19:39:05] <andydude> if you're doing "x; y" then it's not going to work, it'll run x, and y will never run
[19:39:39] <BSaboia> I am using &
[19:39:59] *** Joins: svm_invictvs (~svm_invic@2600:8801:9300:5d:cdeb:4bf2:9feb:fc3e)
[19:40:22] <BSaboia> /usr/local/bin/npm start & (line break) watch -n 60 -p ...
[19:40:32] <BSaboia> the watch also has &
[19:40:54] *** Joins: nezach (~nezach@p200300c31f2ac800423eed341e8e6f19.dip0.t-ipconnect.de)
[19:41:02] <andydude> also, it sounds like logrotate might be a better fit for your problem
[19:41:28] *** Joins: dibber (~dibber@c-73-14-187-235.hsd1.co.comcast.net)
[19:41:37] <ada_> BSaboia: generally just not the way to write a dockerfile entrypoint
[19:41:41] <ada_> you want to execute 1 thing
[19:41:53] <ada_> npm start is going to become PID 1
[19:41:59] <ada_> it's not going to exit
[19:42:02] <ada_> so your & is never goig to fire
[19:42:26] <BSaboia> ada_, I already tried inverting the order
[19:42:30] <ada_> thats not hte problem
[19:42:36] <andydude> you want the order to be: background &; foreground
[19:42:58] <ada_> but yes, you would generally put the background process in the background first
[19:43:00] <BSaboia> andydude, that's how I first wrote it. This second one is just me testing
[19:43:17] <andydude> the opposite order is going to mess with status code and stuff
[19:43:27] <ada_> you want to run `watch` then `exec npm start`
[19:43:27] <BSaboia> I was just curious on why that watch is the only one that is not being shown on a ps afx
[19:43:40] <BSaboia> ada_, that's how it was first in the script
[19:43:47] <ada_> ok so... we can't possibly know that
[19:43:53] <BSaboia> Let me show how's it
[19:43:54] <andydude> BSaboia: you definitely don't want to background both
[19:43:55] <ada_> show your work, and show variations of your work if you have them
[19:44:50] <andydude> "background &; background2 &" is going to background both, the foreground process will finish and probably cause both child processes to exit prematurely
[19:47:52] <BSaboia> ada_, will do that, I am just stripping my attempts to trap SIGINT
[19:53:23] <BSaboia> andydude, yes. but I need to run _another_ process (in this case a dummy tail -f /dev/null) to keep script running, and then trap SIGINT, if I want to finish the npm process on a clean way at least
[19:55:10] <BSaboia> https://gist.github.com/brunosaboia/538e8540b227e2c71f3e3d3645287405
[19:55:36] *** Joins: Crassus (~Crassus@user/crassus)
[19:55:40] <ada_> BSaboia: if you run npm in the foreground, you wouldn't need to do the tail 
[19:56:04] <ada_> thats what the exec would solve
[19:56:10] <BSaboia> ada_ I tried that, but SIGINT was not receive it
[19:56:15] <BSaboia> received*
[19:57:20] <BSaboia> I forgot a shebang on the scripts
[19:57:22] <ada_> npm start is supposed to start a web server, yes?
[19:59:44] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[20:01:17] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 252 seconds)
[20:02:35] <ada_> I think a good alternative is instead of calling npm start, invoke `node` with the right js file
[20:02:57] <ada_> thats the typical pattern that node applications use 
[20:03:27] <ada_> though I do see a good bit of `npm` calls
[20:03:40] <BSaboia> ada_, yeah, usually it's how you are saying. But I am just trying to be as close to the "original" Dockerfile to this project as possible, and there it's npm 
[20:03:48] <ada_> but yeah, what is the actual problem here with this setup?  what is the objective?
[20:04:39] <BSaboia> This is hasteserver, which is a pastebin clone. I want to run it inside my company's infrastructure. But there are GDPR rules, so everything must be deleted after X days
[20:05:15] <BSaboia> Otherwise I am responsible to pruning it manually in Kubernetes, and that I don't want to do for obvious reasons
[20:05:24] <devslash> have you hjeard of cryptpad
[20:05:32] <devslash> its an encrypted pastebin site
[20:05:39] <ada_> BSaboia: are you already using kube?
[20:05:47] <ada_> BSaboia: cuz you could make a CronJob object to do this
[20:06:11] <ada_> alternatively, you could have a container in your pod do this
[20:06:30] <ada_> like, instead of putting both processes into the same container, make 2 containers and put them in the same pod with access to the same volume
[20:06:51] <ada_> one container runs the cleanup, the other container runs the node server
[20:07:16] <BSaboia> ada_, I also thought that this would be the best way, but the infra guys said that I should try to have a single container for this app, because it's a very simple thing, so they want minimum effort to deploy
[20:07:34] <ada_> if it's kube, a pod is the unit of work so I would look at pods instead
[20:07:41] *** Joins: lemonzest (~lemonzest@user/lemonzest)
[20:07:49] <BSaboia> I actually had the yaml file that already did this
[20:08:00] <BSaboia> But I can try to sweet talk them
[20:08:13] <ada_> they suggested that you put a square peg in a round hole
[20:08:23] <ada_> I would go back to them if they're kube operators and say "run this pod please"
[20:08:33] <ada_> the pod manifest is the only thing they should care about, and it can have multiple containers in it
[20:10:25] *** Joins: Ryu945 (~Ryu945@154.3.251.93)
[20:12:57] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[20:15:22] *** Quits: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net) (Quit: This computer has gone to sleep)
[20:17:39] *** Joins: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net)
[20:18:40] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Remote host closed the connection)
[20:19:14] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[20:20:57] <BSaboia> ada_, yeah, I said something like that
[20:21:25] <BSaboia> I think that they are used with multiple container pods doing other kind of things
[20:21:52] *** Quits: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net) (Quit: andydude)
[20:21:54] <BSaboia> In any case, I was very curious on why this watch command exits
[20:22:02] <BSaboia> Or never runs, whatever happens
[20:25:46] *** Joins: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net)
[20:26:27] <ada_> I imagine it gets suspended when it can't output to stdout
[20:27:05] <ada_> redirect the output to /dev/null
[20:27:34] <ada_> watch -n 1 -p 'foo' &>/dev/null
[20:28:11] <ada_> but I think it's a hacky solution, still
[20:28:27] <ada_> I would create a kube manifest that specifies a pod to run the app and a CronJob object to do the cleanup
[20:28:27] *** Joins: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com)
[20:28:30] <ada_> if it were me
[20:29:54] *** Quits: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net) (Quit: This computer has gone to sleep)
[20:31:55] *** Joins: vidbina (~vid@dynamic-046-114-036-034.46.114.pool.telefonica.de)
[20:34:13] *** Joins: waldo323__ (~waldo323@d149-67-45-83.clv.wideopenwest.com)
[20:34:54] *** Joins: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net)
[20:35:57] <BSaboia> ada_, I tried to redirect to /dev/null originally, that doesn't change it :(
[20:36:17] *** Joins: hposca (~hposca@node-1w7jr9phoke2vlnhot95w4kak.ipv6.telus.net)
[20:36:34] *** Quits: waldo323_ (~waldo323@d149-67-45-83.clv.wideopenwest.com) (Ping timeout: 240 seconds)
[20:37:45] <ada_> show
[20:39:36] <BSaboia> watch -n 1 -p /usr/src/app/remove-old-files.sh &>/dev/null &
[20:39:43] <ada_> no i mean show in context
[20:40:18] <ada_> use pastebin, gist, etc.  and show your dockerfile, evidene from your terminal showing how you started the container, show maybe some of your methodology to check if that process was running or not
[20:40:22] *** Quits: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net) (Ping timeout: 272 seconds)
[20:40:22] <ada_> like, show your math
[20:40:27] <ada_> not just your final answer
[20:41:20] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Ping timeout: 252 seconds)
[20:43:03] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[20:43:05] *** Quits: RV (~RV@92.173.180.89) (Ping timeout: 252 seconds)
[20:43:53] *** Joins: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net)
[20:45:07] <BSaboia> ada_, https://gist.github.com/brunosaboia/538e8540b227e2c71f3e3d3645287405
[20:45:34] <ada_> and how are you checking to see if this watch is working or not?
[20:45:36] <BSaboia> docker run -p 7777:7777 bec-haste-server
[20:45:41] <BSaboia> ada_, ps afx
[20:45:41] <ada_> put it in the paste
[20:45:51] <ada_> with the output that you see
[20:46:13] <ada_> and how are you executing ps? in the container? on the host?
[20:46:50] <BSaboia> in the container
[20:47:01] <ada_> show me in the paste
[20:47:16] <ada_> you could really just copy-paste your whole terminal into the paste and I wouldn't mind
[20:48:02] <BSaboia> alright
[20:50:42] *** Quits: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net) (Quit: andydude)
[20:53:07] *** Joins: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net)
[20:53:08] *** Joins: Trieste (~T@user/pilgrim)
[20:54:10] *** Quits: vidbina (~vid@dynamic-046-114-036-034.46.114.pool.telefonica.de) (Ping timeout: 240 seconds)
[20:54:53] *** Quits: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net) (Client Quit)
[20:55:01] <ada_> so the "echo" on line 3 you'll never see, because you're outputting to /dev/null
[20:55:08] <ada_> maybe watch is just the wrong tool for this job
[20:55:20] <BSaboia> ada_, https://gist.github.com/brunosaboia/538e8540b227e2c71f3e3d3645287405#file-terminal-dump
[20:55:43] <BSaboia> I execute the script afterwards, and everything seems normal
[20:56:14] *** Quits: jonifen (~jonifen@user/jonifen) (Quit: Leaving)
[20:56:55] <ada_> ty this is ^ very more useful
[20:57:09] *** Joins: Trieste_ (T@user/pilgrim)
[20:57:38] *** Quits: Trieste (~T@user/pilgrim) (Ping timeout: 255 seconds)
[21:03:43] *** Quits: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com) (Quit: Haxxa flies away.)
[21:09:11] *** Quits: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl) (Quit: Leaving)
[21:09:34] *** Quits: seth (sid18070@user/washclof) (Ping timeout: 246 seconds)
[21:11:17] *** Joins: Riviera (Riviera@user/riviera)
[21:11:30] *** Joins: seth (sid18070@user/washclof)
[21:17:38] *** Quits: Crassus (~Crassus@user/crassus) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:18:43] *** Joins: Hazza (~Haxxa@122-199-59-136.ip4.superloop.com)
[21:20:46] *** Quits: liam (sid7517@id-7517.brockwell.irccloud.com) (Ping timeout: 246 seconds)
[21:21:38] *** Joins: liam (sid7517@id-7517.brockwell.irccloud.com)
[21:27:05] *** Quits: Hazza (~Haxxa@122-199-59-136.ip4.superloop.com) (Quit: Haxxa flies away.)
[21:28:02] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[21:34:05] *** Quits: rsx (~dummy@ppp-188-174-132-81.dynamic.mnet-online.de) (Quit: rsx)
[21:38:30] *** Joins: iota_pi (uid100059@id-100059.tooting.irccloud.com)
[21:38:34] *** Joins: Sasazuka (~Sasazuka@user/sasazuka)
[21:45:44] *** Joins: Hazza (~Haxxa@122-199-59-136.ip4.superloop.com)
[21:47:38] *** Joins: Atum_ (~IRC@user/atum/x-2392232)
[21:48:44] *** Quits: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Quit: QUIT)
[21:50:39] *** Quits: Ryu945 (~Ryu945@154.3.251.93) (Quit: Leaving)
[21:51:02] *** Quits: RougeR (~rougex250@user/rouger) (Remote host closed the connection)
[21:51:25] *** Joins: RougeR (~rougex250@user/rouger)
[21:53:09] *** Joins: steve (~steven@li677-71.members.linode.com)
[21:54:29] <steve> Noob question: I've got a docker image running my webserver/php application. When I make changes to the files on the host machine they don't change on the container. What's the best way of keeping the files up to date? IS there a way to map a directory from host to container so that the files are all updated in real-time?
[21:55:07] <steve> Is this a job for volumes? bind mounting?
[21:55:50] *** Joins: arinov (~arinov@212.156.215.30)
[21:56:22] *** Joins: Ryu945 (~Ryu945@154.3.251.93)
[22:00:38] <Lutin> steve settings of the container ?
[22:01:02] <Lutin> you can just bindmount for webfiles, works great!
[22:02:01] <steve> Yeah, I'm just doing development on the web files. I don't want to kill/rebuild/restart the container every time I make a tiny change to my code
[22:05:31] *** Joins: incognito (~relativit@user/incognito)
[22:09:48] <devslash> yea I do this to
[22:09:59] <devslash> I mount a folder from host to /var/www/html in the container
[22:10:19] <steve> Yeah
[22:10:20] <devslash> so I can edit html/php scripts on the hosts and reload to see the changes without restarting the container
[22:10:39] <steve> I know a lot of online stuff said that that's not the best way of doing it, but I couldn't find anything that said what the best way IS
[22:10:40] <devslash> have you heard of CodeServer ?
[22:10:49] <steve> I'm assuming they just mean it's not a good idea for production
[22:11:53] *** Joins: iffraff (~quassel@136.49.178.170)
[22:12:12] <devslash> its a Docker container that runs Visual Studio Code in a docker container. I use it wit a bind mount on the host to a shared folder
[22:12:45] <steve> Interesting
[22:12:52] <devslash> you can use it to edit your code in 1 tab and swtich to another tab/window and reload
[22:12:57] <devslash> I use it for Angular development
[22:13:04] <devslash> Ive got a compose script
[22:13:08] <devslash> if youre interested
[22:14:02] <iffraff> Hi, I have a Dockerfile that does a number of things like ENV and such but then it does things such as ADD package.json and RUN yarn.  It seems that it is caching the whole script.  Nothing is going to change in the actual Dockerfile but it sure might change in the package.json
[22:14:16] <iffraff> is there some way to deal with this? or am I missunderstanding it?
[22:14:26] <steve> devslash: I'll play around with it tonight - that's a really neat idea!
[22:15:48] <devslash> https://pastebin.com/bmZVkvyU
[22:21:38] *** Quits: candyman (~candyman@user/candyman) (Remote host closed the connection)
[22:24:06] <BSaboia> ada_, what do you think? It seems strange, no?
[22:24:08] <tabakhase> iffraff what exactly do you want as result on the end? - are you looking for cachebusting? (say --build-arg BUSTER="$(date)")
[22:24:19] <tabakhase> or are you looking for the opposite of that :D
[22:25:46] <iffraff> tabakhase: I'm sorry looks like it is building the way I was thinking it should.  I have two other issues, one very quick.  first idk if you use js but should I be adding my yarn.lock or do I just need to add my package.json
[22:27:04] <tabakhase> not directly a docker-Q, but "depends" uh? :D if its part of your repo, it should prob go with in the contianer sure
[22:27:45] <iffraff> secondly.  I have a webpack app that is running on the webpack dev server.  It uses typescript.  When I run it locally I get no typescript errors.  When I run it in my container, I get a strange typescript error.  I know this is a whole lot of non docker stuff, but the only change is the container vs local
[22:28:23] <iffraff> I'm starting to think this error is hiding a real error.  perhaps it's not getting the env values, or something like that.  
[22:28:27] <tabakhase> and that error is...? :P
[22:29:39] <iffraff> web_1       | > 17 | const checkNodeEnv = (env: string): env is NodeEnv => { 
[22:29:39] <iffraff> web_1       |      |                                   ^
[22:29:39] <iffraff> it's saying that the colon after the close paren should be a semi colon
[22:29:59] <iffraff> not sure why the arrow didn't line up :)
[22:30:29] <tabakhase> nopaste/git pls
[22:30:38] <tabakhase> and on a random shot - OS your are on?
[22:31:03] <tabakhase> ive seen windows-linebreaks do stupid things :D
[22:31:41] <iffraff> I've seen windows everything do stupid things :) luckily i'm on linux both host and container
[22:32:08] <devslash> steve, you'll just need to replace my .ENV variables in that script
[22:37:02] <devslash> and the PROXY domain
[22:38:47] <ada_> BSaboia: it does, the problem isn't so obvious to me
[22:39:30] <ada_> BSaboia: ive been in meetings for a bit but someone else may be able to take a look
[22:40:14] *** Quits: bouncy_ (~ben@user/benoit) (Ping timeout: 255 seconds)
[22:42:07] *** Joins: bouncy_ (~ben@user/benoit)
[22:43:22] <iffraff> tabakhase: fwiw I needed to copy my .eslintrc.js and my .env file into the image.  I'm better now.  Thanks for indulging :)
[22:43:56] <tabakhase> neato =)
[22:45:12] *** Joins: OZ8AAZ (~OZ8AAZ@5.103.131.97.static.fibianet.dk)
[22:45:50] *** Quits: arinov (~arinov@212.156.215.30) (Ping timeout: 252 seconds)
[22:45:53] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Quit: ERC (IRC client for Emacs 27.2))
[22:45:54] <iffraff> maybe not my .env file as docker-compose is copying that in with the env_file prop
[22:47:09] <BSaboia> ada_, I think nobody did. I am a little suspicious that the problem is with Docker itself
[22:48:41] <ada_> BSaboia: it isn't
[22:48:44] *** Quits: OZ8AAZ (~OZ8AAZ@5.103.131.97.static.fibianet.dk) (Client Quit)
[22:49:05] <ada_> BSaboia: I mean it isn't likely that it's a unique bug
[22:49:23] <ada_> BSaboia: docker is not really designed to handle backgroundp processes;  thats by design
[22:49:44] <ada_> BSaboia: the "right" way to handle this is to use more than 1 container.  is that a problem with Docker?  I can't really say
[22:50:05] <ada_> but if you are targeting Kube, I would go ahead with 2 containers in the same pod, and instead of using `watch` i would just write a `while` loop in bash
[22:50:15] <ada_> or I would implement the cleanup as a CronJob
[22:51:33] <ada_> another solution would be to use something like supervisord or runit in the container to provide a little init system to those processes
[22:54:27] <BSaboia> ada_, or have an image that has cron
[22:54:51] <BSaboia> I don't think that this is a "unique" bug, I think that it has something to do with watch
[22:54:58] <ada_> well yes, I wouldn't use watch here
[22:55:23] <tabakhase> iffraff .env can be iffy as multiple things use it - if your node shall not consume it (dotenv-package), but compose should you could exclude it from the ADD/COPY with a ".dockerignore" file (like gitignore) and/or by making the copy/add more precise if possible
[23:10:04] *** Joins: Hans-Martin (~ignore@user/hans-martin)
[23:10:20] *** Joins: jamiejackson (~jamiejack@207.172.87.34)
[23:13:04] *** Joins: Crassus (~Crassus@user/crassus)
[23:13:10] *** Quits: Crassus (~Crassus@user/crassus) (Client Quit)
[23:21:03] *** Quits: Ryu945 (~Ryu945@154.3.251.93) (Quit: Leaving)
[23:24:36] *** Quits: Hans-Martin (~ignore@user/hans-martin) (Quit: I'm not an expert but I play one on IRC.)
[23:29:48] *** Joins: Ryu945 (~Ryu945@154.3.251.93)
[23:30:49] *** Quits: Lutin (~Lutin@user/lutin) (Ping timeout: 246 seconds)
[23:31:55] *** Joins: candyman (~candyman@user/candyman)
[23:45:51] *** Quits: Ryu945 (~Ryu945@154.3.251.93) (Quit: Leaving)
[23:52:40] *** Joins: Lutin (~Lutin@user/lutin)
