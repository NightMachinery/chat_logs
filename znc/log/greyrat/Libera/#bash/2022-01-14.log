[00:00:21] <uuidNuni1> a fd to be percise
[00:00:31] <earnestly> No
[00:00:41] <geirha> I don't see a regular file could work at all
[00:00:49] <earnestly> I might be thinking of <<<
[00:00:51] <geirha> *see how
[00:01:22] <uuidNuni1> # file <(echo $BASH)
[00:01:23] <shbot> uuidNuni1: /dev/fd/63: broken symbolic link to pipe:[296]
[00:01:30] <uuidNuni1> right, it is a fd
[00:01:38] <greycat> (on Linux)
[00:03:37] <earnestly> uuidNuni1: (Everything is more or less an fd, the important bit is what the fd represents)
[00:04:11] *** Quits: Marbug (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:04:16] *** Joins: duderonomy (~duderonom@c-73-158-190-156.hsd1.ca.comcast.net)
[00:04:29] *** Joins: Marbug (~Marbug@94-226-144-213.access.telenet.be)
[00:04:58] *** Joins: sublim20 (~sublim20@user/sublim20)
[00:05:47] *** Quits: fling (~fling@user/fling) (Ping timeout: 256 seconds)
[00:05:47] *** Quits: martinus__ (~martin@127.59.202.77.rev.sfr.net) (Ping timeout: 256 seconds)
[00:05:47] *** Quits: drewlander (~drewlande@74.196.20.3) (Ping timeout: 256 seconds)
[00:06:07] *** Joins: jdfkjsfi (~jdfkjsfi@103.230.107.60)
[00:06:31] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 256 seconds)
[00:06:31] *** Joins: MrCollinsGA (~MrCollins@199.231.255.146)
[00:07:39] *** Quits: jdfkjsfi (~jdfkjsfi@103.230.107.60) (Client Quit)
[00:09:10] *** Quits: Marbug (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:09:30] *** Joins: Marbug (~Marbug@94-226-144-213.access.telenet.be)
[00:10:19] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[00:10:31] *** Joins: fling (~fling@user/fling)
[00:11:50] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[00:13:55] *** Quits: rufito (~phil@181.42.49.153) (Quit: Leaving)
[00:14:10] *** Quits: Marbug (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:14:29] *** Joins: Marbug (~Marbug@94-226-144-213.access.telenet.be)
[00:15:05] *** Joins: richardm75 (~richardm7@2600:8801:c507:b200:dec:71d1:6d51:cbe)
[00:15:39] <MrCollinsGA> can someone point me to a howto on the subject of when wanting a script or part of a script to *finish completely executing 100% and all child processes finish 100%* /foo/bar.sh && just waits for the execution to finish.
[00:16:33] <greycat> If the script launches children (or grandchildren) in the background, there is no portable way to deal with that.  You're looking for Linux's cgroups or similar things.
[00:16:56] *** Joins: selk (~selkfoste@user/selkfoster)
[00:17:00] <Filystyn> you can just pass pid
[00:17:23] <Filystyn> sorry - bad idea atcualy
[00:17:47] <Filystyn> i remember having similar problem, I think children waited for grand children
[00:18:23] <MrCollinsGA> greycat, so for instance, if I have a script that encodes a video and its going to take 2 hours for video to finish encoding via script, and the next thing is I havea  script to delete some large files or copy them etc, this messes with the encoding. Id like a way to deal with this. If possible.
[00:19:03] <greycat> Your BEST course of action would be to fix the script so that it doesn't run the long process in the BACKGROUND.
[00:19:11] *** Quits: Marbug (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:19:12] <greycat> Then your question goes away.
[00:19:29] *** Joins: Marbug (~Marbug@94-226-144-213.access.telenet.be)
[00:19:34] <MrCollinsGA> greycat, wow! thank you! man *what*
[00:20:27] <tirnanog> && doesn't run things in the background, by the way.
[00:20:47] <Filystyn> I use socketsi or sunny sockets for stuff like that
[00:23:17] <MrCollinsGA> but my script loops over and over when I have the && after /foo/bar.sh && rm -rf /foo/projectfiles.whatever && somethingelse
[00:23:31] <greycat> Fix /foo/bhar.sh
[00:23:32] <MrCollinsGA> bar.sh has a script to encode video in it.
[00:23:39] <greycat> Fix /foo/bar.sh
[00:23:49] <MrCollinsGA> greycat ok
[00:23:52] <greycat> Or, you have my first answer.  Non-portable stuff.
[00:24:11] *** Quits: Marbug (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:24:29] *** Joins: Marbug (~Marbug@94-226-144-213.access.telenet.be)
[00:24:34] *** Joins: Betal (~Betal@user/betal)
[00:24:38] <MrCollinsGA> thank you everyone.
[00:24:40] *** Quits: carl--- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se) (Ping timeout: 250 seconds)
[00:25:13] *** Joins: miique (~miiquemat@2001:470:69fc:105::1:6901)
[00:27:15] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.4)
[00:28:09] *** Joins: zouhair (~zouhair@lnsm3-montreal02-142-117-154-92.internet.virginmobile.ca)
[00:28:20] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[00:29:10] *** Quits: Marbug (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:29:21] <MrCollinsGA> https://paste.debian.net/1227035/  if anyone has a moment to have a look. Is there anything that looks out of place or causing the script to mess up? This script actually works but when it gets to line 8, it executes and begins and finishes encoding, but line 9 doesnt do its jobs.
[00:29:29] *** Joins: Marbug (~Marbug@94-226-144-213.access.telenet.be)
[00:29:37] *** Quits: odoood (~odoood@2601:c8:c000:c4e0::3) (Ping timeout: 240 seconds)
[00:30:13] <greycat> !check
[00:30:14] <checkbot> greycat: Looks good to me
[00:30:57] <MrCollinsGA> greycat, thank you kindly! :)
[00:31:32] <greycat> I have no idea what "melt" does.
[00:31:50] <MrCollinsGA> greycat, video encoder for kdenlive, uses ffmpeg for backend
[00:32:02] <greycat> does it launch things in the background?
[00:32:08] <MrCollinsGA> greycat, yes.
[00:32:22] <greycat> well there's your issue. can you tell it NOT to do that?
[00:32:23] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:8d88:35ff:c6c5:7c71)
[00:32:36] *** Joins: bluedust (~bluedust@103.161.144.94)
[00:33:37] <MrCollinsGA> greycat, no. not that I know of. It starts ffmpeg and has it do some things along with a few other small processes.
[00:34:25] *** Quits: Marbug (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:34:25] <greycat> "not that I know of" meaning "I didn't check/try/ask"?
[00:34:31] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[00:34:32] *** Joins: nyex (~Thunderbi@177.84.107.35)
[00:35:03] <greycat> find some kind of --foreground option to melt would be a MUCH better answer than rigging up some crazy Linux-only thing
[00:35:04] <MrCollinsGA> greycat, that means "Not that I know of." :) If there is a way, I dont know it.
[00:35:27] <greycat> so... find out.
[00:35:29] <MrCollinsGA> greycat, ok! I will look for that then!! thank you. I just didnt know how to ask google.
[00:35:36] <MrCollinsGA> greycat, thank you
[00:35:44] * MrCollinsGA bows to greycat
[00:36:43] *** Joins: fmirkes (~fmirkes@user/fmirkes)
[00:37:14] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:8d88:35ff:c6c5:7c71) (Ping timeout: 252 seconds)
[00:37:14] *** Quits: bluedust (~bluedust@103.161.144.94) (Ping timeout: 250 seconds)
[00:39:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:39:25] *** Joins: myrrh (~markus@user/poet)
[00:39:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[00:39:49] <omegatron> melt is the program of the media lovin' toolkit - it's pretty well documented .. ( https://www.mltframework.org/docs/ )
[00:40:14] <omegatron> (if someone is curious)
[00:40:16] <MrCollinsGA> omegatron, ok! :) thank you! I am checking into it now.
[00:40:31] *** Quits: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net) (Ping timeout: 256 seconds)
[00:41:59] *** Joins: lavaball (felix@31.204.155.215)
[00:43:21] *** Quits: clime (~clime@37-48-61-114.nat.epc.tmcz.cz) (Ping timeout: 256 seconds)
[00:44:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:44:31] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[00:48:30] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[00:49:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:49:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[00:50:32] *** Quits: nyex (~Thunderbi@177.84.107.35) (Remote host closed the connection)
[00:50:40] *** Quits: samnob (~samnob@user/samnob) (Quit: I'm not smart enuf to edit bouncer.conf)
[00:50:51] *** Joins: samnob (~samnob@user/samnob)
[00:51:16] *** Joins: wwilliam (~afernande@63.240.73.102)
[00:51:16] *** Quits: wwilliam (~afernande@63.240.73.102) (Changing host)
[00:51:16] *** Joins: wwilliam (~afernande@user/wwilliam)
[00:51:41] *** Quits: john_johnk (~Thunderbi@1.59.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[00:53:00] *** Joins: Joss (~joss@user/Joss)
[00:53:18] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[00:53:48] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3)
[00:54:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:54:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[00:55:17] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 240 seconds)
[00:56:07] *** Joins: samnob_ (~samnob@user/samnob)
[00:56:13] *** Quits: kurahaupo_ (~kurahaupo@pa49-182-35-223.pa.qld.optusnet.com.au) (Ping timeout: 256 seconds)
[00:56:17] *** Quits: samnob (~samnob@user/samnob) (Ping timeout: 240 seconds)
[00:59:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[00:59:28] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:00:17] *** Quits: sandb0y (~pirate@user/sandb0y) (Quit: Time for another great escape)
[01:02:12] *** Quits: Joss (~joss@user/Joss) (Quit: Leaving.)
[01:04:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:04:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:04:43] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 256 seconds)
[01:08:11] *** Joins: pj (~pj@ghettoforge/pj)
[01:08:36] *** Quits: l4yer (~l4yer@178.239.168.223) (Read error: Connection reset by peer)
[01:09:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:09:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:09:45] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[01:10:05] *** Joins: john_johnk (~Thunderbi@1.59.140.77.rev.sfr.net)
[01:14:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:14:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:15:35] *** Quits: dmonschein (dmonschein@2600:3c03::f03c:91ff:fe05:7562) (Quit: WeeChat 2.8)
[01:16:59] *** Joins: nickdiazswag209 (~bjpenn_@98.42.87.100)
[01:17:42] *** Joins: z8z (~x@ac255238.ppp.asahi-net.or.jp)
[01:17:55] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[01:18:25] *** Joins: beco (~beco@2804:351c:dd02:b000:fe8b:5fac:6d35:c76)
[01:18:53] *** Quits: nickdiaz1wag209 (~bjpenn_@13.110.54.43) (Ping timeout: 256 seconds)
[01:19:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:19:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:20:45] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[01:22:00] *** Quits: earendel (uid498179@user/earendel) (Quit: Connection closed for inactivity)
[01:24:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:24:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:24:57] *** Quits: dreamon (~dreamon@p57a4c526.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[01:26:41] *** Joins: dmonschein (dmonschein@2600:3c03::f03c:91ff:fe05:7562)
[01:29:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:29:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:32:27] <dfdx> Hi #bash. Is there any way to create a "permanent" symbolic link to a file or directory that you can access no matter what directory you're in? e.g., I tried to make an alias "work" that is defined as "/home/dfdx/foo/bar/bazz/work/" but I can't seem to "cd work" from any directory and end up in /home/dfdx/foo/bar/bazz/work/.
[01:32:39] *** Joins: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be)
[01:32:41] <dfdx> One solution is to create a function that just cd's there, and then run the function.
[01:32:51] *** Quits: beco (~beco@2804:351c:dd02:b000:fe8b:5fac:6d35:c76) (Quit: Leaving)
[01:32:56] <dfdx> but i was curious if I could make a "permanent" symbolic link that kind of works in any directory i'm in.
[01:33:20] <dfdx> so i could even copy, e.g., cp thisfile work/blah;
[01:33:23] <lopid> just set a variable and `cd "$var"`
[01:33:30] <lopid> or use cdpath
[01:33:33] <djph> ^
[01:33:57] *** Quits: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be) (Remote host closed the connection)
[01:34:12] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:34:31] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:34:34] <lopid> or if you're more lazy, `alias n='cd /foo'`
[01:34:43] <dfdx> what is cdpath? man cdpath and info cdpath both don't work.
[01:34:52] *** Joins: beco (~DrBeco@2804:351c:dd02:b000:fe8b:5fac:6d35:c76)
[01:34:57] <lopid> man bash
[01:35:04] <emanuele6> !CDPATH
[01:35:05] <greybot> CDPATH lets you specify a location where bash will search for directories when 'cd'ing. Can be handy to build shortcuts or "portals" to deep places in your filesystem. See http://stackoverflow.com/questions/670488/#676753
[01:35:09] *** Joins: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be)
[01:35:15] <dfdx> whooaaaaaa
[01:35:28] <dfdx> lopid: the problem with that alias is, can I use that alias when copying files?
[01:35:31] <emanuele6> # CDPATH=/usr; cd bin; pwd
[01:35:33] <shbot> emanuele6: /usr/bin
[01:35:33] <shbot> emanuele6: /usr/bin
[01:35:49] <lopid> no
[01:36:01] <lopid> you can use the variable instead
[01:36:02] *** Joins: TMan459 (~TMan459@068-113-235-150.res.spectrum.com)
[01:36:21] <ryu_> CMD_FIND=$(find $CHECK_DIR -type $TYPE | grep $GREP) gives me two files. then i run echo "$(stat $CMD_FIND)" -- how can i add a space between the output of the stat command for easier reading?
[01:36:22] <dfdx> yeah, the variable is certainly an option.
[01:36:50] <ryu_> linespace*
[01:37:39] <phy1729> find "$check_dir" -type "$type" -name "$name_glob" -exec stat {} \; -exec echo \;
[01:39:10] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:39:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:39:38] <dfdx> lopid: CDPATH is very cool, thanks.
[01:40:00] *** Quits: unop (~unop@194.154.249.71) (Remote host closed the connection)
[01:40:48] *** Joins: unop (~unop@194.154.249.71)
[01:42:03] *** Joins: yustin (~yustin@user/yustin)
[01:42:18] <ryu_> phy1729 hmm
[01:42:46] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:8d88:35ff:c6c5:7c71)
[01:43:08] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.4)
[01:43:36] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[01:43:47] *** Joins: rcernin_ (~rcernin@101.189.141.138)
[01:44:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:44:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:47:26] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:8d88:35ff:c6c5:7c71) (Ping timeout: 250 seconds)
[01:49:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:49:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:53:26] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[01:54:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:54:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:55:49] *** Joins: zro (~zro@user/zro)
[01:56:17] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[01:57:46] *** Quits: zro (~zro@user/zro) (Client Quit)
[01:58:05] *** Joins: zro (~zro@user/zro)
[01:59:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[01:59:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[01:59:58] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[02:00:19] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[02:00:24] *** Joins: quazimodo (~quazimodo@45.133.4.89)
[02:02:54] *** Joins: wre^ (~wre@wsip-98-188-242-61.mc.at.cox.net)
[02:02:57] *** Quits: beco (~DrBeco@2804:351c:dd02:b000:fe8b:5fac:6d35:c76) (Quit: Leaving)
[02:04:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[02:04:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[02:06:27] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.4)
[02:06:30] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 250 seconds)
[02:06:55] *** Joins: FreeBDSM (~FreeBDSM@user/freebdsm)
[02:08:06] <FreeBDSM> hi. There was a trick about using tr to replace null chars with newlines, does anyone remember how the args looked?
[02:08:43] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[02:09:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[02:09:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[02:09:43] <e36freak> tr '\0' '\n'
[02:09:53] <e36freak> as you would expect
[02:10:31] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[02:10:35] <phy1729> Though one wonders why you want to do that
[02:11:07] <phy1729> NUL is usually used instead of newline because a newline is a valid byte for the items
[02:11:59] *** Quits: freep (~freepppp@62.1.174.38.dsl.dyn.forthnet.gr) (Read error: Connection reset by peer)
[02:14:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[02:14:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[02:14:54] <yustin> PKG=$( echo -ne "${PKG}\n" ) <<< doesnt add a newline at the end of the var ... what could be the reason ? really drives me crazy atm .. when i add \nnn it somehow works but at the end of the new var it puts \n as plain text
[02:15:57] <phy1729> $( strips trailing newlines
[02:16:26] <e36freak> phy1729: maybe to display stuff at the end, that's the only use case i can think of
[02:16:28] <phy1729> printf -v pkg '%s\n' "$pkg"
[02:16:30] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:16:42] <phy1729> or just pkg=$pkg$'\n'
[02:16:58] <e36freak> or just add the newline when you print it?
[02:17:25] <yustin> PKG=$( echo -ne "$PKG\\\n" ) <<< same result
[02:17:41] <e36freak> yustin: 17:45 < phy1729> $( strips trailing newlines
[02:17:47] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.4)
[02:17:52] <e36freak> you can add as many newlines as you want to the end, $( will strip them
[02:17:57] <e36freak> so you need to not use $(
[02:18:01] <yustin> i removed the brackets e36freak
[02:18:09] <e36freak> $(
[02:18:11] <e36freak> not ${
[02:18:19] <e36freak> the command substitution strips them
[02:18:44] * yustin rubs his eyes
[02:18:49] <e36freak> because 99% of the time when you use a command substitution you don't want a literal newline hanging around at the end
[02:18:49] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[02:19:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[02:19:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[02:19:46] <yustin> somehow i remember it worked like this years ago .... hmmm ... how is it done nowadays ?
[02:19:56] <e36freak> phy1729 gave you two solutions already
[02:20:06] <e36freak> or like i said, just add the newline when you need it and keep it out of the variable
[02:20:28] <yustin> and dont put any $() around it .... brb
[02:20:36] <e36freak> !$(echo
[02:20:36] <greybot> $(echo ...) and echo $(...) are both pointless. Drop the echo and $(), just write ...: rm "$(echo myfile)" -> rm myfile --- echo "$(df -h)" -> df -h; http://www.iki.fi/era/unix/award.html#echo
[02:21:32] *** Joins: kj (~kj@kj.aerisnetwork.net)
[02:24:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[02:24:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[02:24:54] *** Quits: bunny (~bunny@user/bunny) (Remote host closed the connection)
[02:25:16] *** Quits: Filystyn (~piotr@095160035009.warszawa.vectranet.pl) (Quit: Lost terminal)
[02:28:16] <yustin> thx e36freak and phy1729 ... didnt know printf -v ... man printf has nothing about it but found it in printf --help
[02:29:01] *** Joins: bunny (~bunny@user/bunny)
[02:29:06] <phy1729> you need to consult man bash for shell builtins
[02:29:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[02:29:20] <phy1729> (or info or help maybe; I never use those)
[02:29:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[02:29:46] *** Quits: DaNeenjah (~jake@adsl-74-230-4-35.hsv.bellsouth.net) (Quit: WeeChat 3.4)
[02:30:14] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[02:30:25] <FreeBDSM> e36freak, thanks!
[02:31:05] <e36freak> yustin: ''help printf'', or in the bash man page. man pages are for external commands, not bash builtins
[02:31:08] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[02:31:14] <e36freak> yustin: that being said, i'd go for the pkg=$pkg$'\n' personally
[02:33:05] <yustin> e36freak: thats how i did it ;) thx again ... i ll check my old scripts once i turn on the machine containing them ... i am sure that this behaviour did not occure there but thats evolution
[02:33:28] <e36freak> yustin: why do you even want that there?
[02:33:38] <e36freak> command substitutions have done that for as long as i can remember
[02:34:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[02:34:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[02:34:34] *** Quits: cebor (~cebor@user/cebor) (Quit: bye!)
[02:34:40] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[02:34:58] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[02:35:15] *** Joins: cebor (~cebor@user/cebor)
[02:35:59] <yustin> PKG+=$( tar --force-local -tf "$x" | cut -d/ -f1 ) <<< cos i wanted all the files listed in a the .db files
[02:36:15] <yustin> s/a//
[02:38:09] *** Joins: underport (~underport@2a0c:5a80:1c17:5800:e92d:18c:2168:fec8)
[02:39:04] <e36freak> why aren't you using an array for a list?
[02:43:19] *** Quits: ryzenda (~ryzenda@pool-74-109-246-70.pitbpa.fios.verizon.net) (Read error: Connection reset by peer)
[02:44:04] <yustin> cos the files get sorted by sort -u ... several databasefiles get concatenated and i dont want any doubles or strange new packagenames
[02:44:04] *** Joins: ryzenda (~ryzenda@pool-74-109-246-70.pitbpa.fios.verizon.net)
[02:44:58] *** Joins: odoood (~odoood@2601:c8:c000:c4e0::3)
[02:45:29] *** Joins: kyr (~kyr@167.71.50.12)
[02:47:12] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[02:47:41] <yustin> s/files/filelists/
[02:49:24] *** Quits: brachamh (~brachamh@user/brachamh) (Ping timeout: 250 seconds)
[02:51:57] <phogg> anyone familiar with RHEL and its scl_source command?
[02:52:19] <phogg> I am trying to figure out how it works... I think it must be a hacked version of bash, but I can't find the change in their sources
[02:56:41] *** Joins: brachamh (~brachamh@user/brachamh)
[02:57:01] <yustin> get all the sources and ask diff ?
[02:57:26] *** Quits: chomwitt (~chomwitt@2a02:587:dc11:fb00:12c3:7bff:fe6d:d374) (Ping timeout: 245 seconds)
[02:57:41] *** Joins: obvs (~obvs@user/PeteH)
[02:57:45] <phogg> much easier if some intrepid explorer has already trod this ground and has a map
[02:57:59] <phogg> but if there is no answer today that's my next step... tomorrow, while I'm getting paid for it
[02:58:57] <yustin> do it now and dont go there tomorroe ?
[03:01:44] *** Joins: zro (~zro@user/zro)
[03:02:02] <phy1729> phogg: I believe it was explained to me as a "Canadian chroot" some environment variables are set that polietly ask things to say in particular directories
[03:02:29] *** Joins: ozoned (odoood@gateway/vpn/protonvpn/odoood)
[03:02:31] <phogg> phy1729: the thing I don't get is *how*. "source" is magically finding a file that doesn't exist.
[03:02:35] *** Quits: ozoned (odoood@gateway/vpn/protonvpn/odoood) (Remote host closed the connection)
[03:03:09] *** Quits: john_johnk (~Thunderbi@1.59.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[03:03:15] <phogg> if it were 'source /bin/scl_source ...' then it would be easy to explain
[03:03:23] <phy1729> iirc it spawns a new shell
[03:03:55] <phogg> I will check this again and confirm, but I believe I checked this today and it did not. Regardless, how? Normally source doesn't do that.
[03:04:12] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:04:14] <phy1729> it's not souce
[03:04:14] <yustin> thx and good nite ... you really saved my ... would have never come to my mind ... TEST=$( echo -e "$TEST" "\nbla\nbla\nbla" ) <<< works when executed several times ... maybe i used it this way when i was younger
[03:04:24] <phy1729> FOO=bar $SHELL
[03:04:25] <yustin> s/my/me/
[03:04:29] <phogg> phy1729: it is source. No functions, no aliases, no commands with that name in PATH.
[03:04:31] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:04:37] *** Quits: odoood (~odoood@2601:c8:c000:c4e0::3) (Ping timeout: 240 seconds)
[03:04:39] <phy1729> hrm
[03:04:55] <phogg> I believe it must have been altered to run /bin/scl_source and then re-exec bash, but I want to track it down
[03:04:57] <phogg> for my own sanity
[03:07:33] <phogg> when I'm back at work with my herd of centos boxes at hand I'll look more closely and (hopefully) find the reason. Alas there wasn't time today.
[03:09:10] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:09:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:10:31] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 256 seconds)
[03:11:05] *** Quits: sinhue (~mithrin@188-167-233-152.dynamic.chello.sk) (Quit: Leaving)
[03:14:10] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:14:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:16:06] *** Joins: Al2O3_ (~Al2O3@c-24-8-175-200.hsd1.co.comcast.net)
[03:16:07] *** Quits: Al2O3_ (~Al2O3@c-24-8-175-200.hsd1.co.comcast.net) (Changing host)
[03:16:07] *** Joins: Al2O3_ (~Al2O3@user/al2o3)
[03:16:08] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:16:42] *** Quits: underport (~underport@2a0c:5a80:1c17:5800:e92d:18c:2168:fec8) (Ping timeout: 250 seconds)
[03:16:48] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[03:17:19] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[03:18:30] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[03:19:10] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:19:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:09] *** Quits: Al2O3 (~Al2O3@user/al2o3) (Ping timeout: 256 seconds)
[03:20:09] *** Al2O3_ is now known as Al2O3
[03:21:10] *** Joins: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net)
[03:21:39] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:21:45] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[03:24:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:24:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:25:53] <justsomeguy> Maybe it will be helpful to list all the files in the package that provides that command.
[03:26:42] <phogg> the source command?
[03:26:54] <greycat> No, of course not.  That's a builtin.
[03:27:10] <greycat> google gave me this page: https://access.redhat.com/documentation/en-us/red_hat_software_collections/3/html/packaging_guide/sect-scl_source_command_not_found
[03:27:16] *** hasuTMK is now known as hasu
[03:27:29] <greycat> I got it by searching RHEL scl_source
[03:27:38] <phogg> I have the command, I just don't know how it's being called.
[03:27:52] <phogg> I run this at my bash prompt: source scl_source enable rh-postgresql12
[03:27:56] <phogg> somehow my environment is altered
[03:28:03] <greycat> you want to know... what, EVERY script or program that calls it?  distro wide?
[03:28:08] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[03:28:12] *** Joins: ferdna (~ferdna@user/ferdna)
[03:28:36] <greycat> well, you typed "source", so what did you expect?
[03:29:00] <phogg> I expect it to act on a file, but I don't see such a file in .
[03:29:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:29:19] <greycat> source searches PATH
[03:29:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:29:42] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:29:45] <phogg> Ah. I should have known that.
[03:30:26] <phogg> The perfect kind of solution where I just have to stop being dumb.
[03:30:52] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:31:14] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:31:32] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:32:13] *** Quits: roadt (~roadt@60.168.93.178) (Ping timeout: 256 seconds)
[03:34:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:34:29] *** Quits: ouestbillie (~gallup@192-222-138-215.qc.cable.ebox.net) (Ping timeout: 256 seconds)
[03:34:31] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:39:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:39:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:43:39] *** Quits: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:44:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:44:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:45:07] *** Joins: roadt (~roadt@114.97.240.218)
[03:46:21] *** Quits: hasu (~hasu@58x13x224x139.ap58.ftth.ucom.ne.jp) (Quit: ZNC 1.8.2 - https://znc.in)
[03:47:52] *** Quits: magla (~gelignite@55d4b5f5.access.ecotel.net) (Quit: Stay safe!)
[03:49:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:49:31] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:49:36] *** Joins: nickdiaz1wag209 (~bjpenn_@13.110.54.39)
[03:52:27] *** Quits: nickdiazswag209 (~bjpenn_@98.42.87.100) (Ping timeout: 256 seconds)
[03:54:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:54:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[03:55:02] *** Quits: zxd (~zxd@134.191.233.204) (Quit: Client closed)
[03:55:07] *** Joins: chenqisu1 (~bhca7d@183.217.201.21)
[03:58:24] *** Joins: hasu (~hasu@58x13x224x139.ap58.ftth.ucom.ne.jp)
[03:59:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[03:59:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:00:52] *** Joins: ouestbillie (~gallup@192-222-138-215.qc.cable.ebox.net)
[04:03:29] *** Quits: jonthesnow (~xizhendu@240e:305:7380:4300:22a3:ecb5:b567:7739) (Remote host closed the connection)
[04:03:46] *** Joins: jonthesnow (~xizhendu@240e:305:7380:4300:22a3:ecb5:b567:7739)
[04:04:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[04:04:31] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:07:58] *** Quits: oarion7 (anonymous@user/oarion7) (Quit: Running IRC on a charmed medieval abacus.)
[04:08:00] *** Quits: omegatron (~some@p5484973e.dip0.t-ipconnect.de) (Quit: What happened? You quit!)
[04:09:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[04:09:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:09:39] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[04:14:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[04:14:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:14:33] *** Quits: chenqisu1 (~bhca7d@183.217.201.21) (Ping timeout: 256 seconds)
[04:19:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[04:19:31] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:21:49] *** Quits: ElPresidente (~Gordon@172-125-150-28.lightspeed.tukrga.sbcglobal.net) (Remote host closed the connection)
[04:21:50] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[04:22:22] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[04:24:10] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[04:24:18] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 250 seconds)
[04:24:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:29:10] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[04:29:23] *** Quits: hasu (~hasu@58x13x224x139.ap58.ftth.ucom.ne.jp) (Quit: ZNC 1.8.2 - https://znc.in)
[04:29:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:30:00] *** Quits: bertptrs (~quassel@user/bertptrs) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[04:30:34] *** Joins: bertptrs (~quassel@user/bertptrs)
[04:33:56] *** Quits: mat001_ (~mat001@c-69-181-155-247.hsd1.ca.comcast.net) ()
[04:34:10] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[04:34:26] *** Joins: bluedust (~bluedust@103.161.144.94)
[04:34:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:38:55] *** Quits: bluedust (~bluedust@103.161.144.94) (Ping timeout: 256 seconds)
[04:39:10] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[04:39:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:40:23] *** Quits: Strom (strom@fedora/strom) ()
[04:42:26] *** Joins: Strom (strom@fedora/strom)
[04:43:03] *** Quits: brachamh (~brachamh@user/brachamh) (Ping timeout: 256 seconds)
[04:44:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[04:44:31] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:45:03] *** Joins: brachamh (~brachamh@user/brachamh)
[04:49:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[04:49:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:51:36] *** Quits: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net) (Ping timeout: 250 seconds)
[04:54:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[04:54:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[04:56:11] *** Joins: malina (~malina@user/malina)
[05:00:16] *** Quits: myrrh (~markus@user/poet) (Ping timeout: 250 seconds)
[05:02:09] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[05:02:46] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[05:04:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:04:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:05:09] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 256 seconds)
[05:09:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:09:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:10:14] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 250 seconds)
[05:14:11] *** Quits: ryzenda (~ryzenda@pool-74-109-246-70.pitbpa.fios.verizon.net) (Read error: Connection reset by peer)
[05:14:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:14:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:17:30] *** Joins: ryzenda (~ryzenda@pool-74-109-246-70.pitbpa.fios.verizon.net)
[05:19:12] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:19:18] *** Joins: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be)
[05:19:31] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:22:04] *** Joins: myrrh (~markus@172.58.196.36)
[05:23:59] *** Joins: smrtz (~smrtz@user/smrtz)
[05:24:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:24:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:24:46] <smrtz> Hey everyone! I'm trying to loop through a bunch of log files and pull out some key data, but it looks like it's going to take days. Does anyone have an easy suggestion on speeding this 40 line script up please? https://bpa.st/LI3A
[05:27:35] <e36freak> smrtz: minimize calls to external commands
[05:27:50] <e36freak> running foo=$(echo | cut) for every string manipulation is horrendously slow
[05:27:51] <e36freak> !faq 100
[05:27:51] <greybot> https://mywiki.wooledge.org/BashFAQ/100 -- How do I do string manipulations in bash?
[05:28:06] <e36freak> also, don't parse ls for your filenames
[05:28:07] <smrtz> Ok I'll check that now, thanks!
[05:28:08] <e36freak> !ls
[05:28:08] <greybot> DO NOT USE ls' output for anything. ls is a tool for interactively looking at directory metadata. Any attempts at parsing ls' output with code are broken. Globs are much more simple AND correct: ''for file in *.txt''. Read http://mywiki.wooledge.org/ParsingLs
[05:28:29] <e36freak> you can split the line into variables with the initial read command
[05:29:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:29:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:29:41] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:29:47] <e36freak> for log in *log*; do while read -r ts _ id_orig_h id_orig_p id_resp_h id_resp_p proto _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ orig_ld_addr resp_l2_addr _; do
[05:29:54] <e36freak> hold on
[05:29:59] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:30:23] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:32:45] <smrtz> The fields aren't delineated in the file: https://bpa.st/34SQ
[05:33:39] <smrtz> Oh wait, I think I understand what you're saying.
[05:34:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:34:14] <e36freak> i'd probably do something like http://ix.io/3M7x
[05:34:29] <e36freak> using an FD over opening a file descriptor in append mode with >> for every write should also be a good bit faster
[05:34:32] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:34:49] <e36freak> alternatively you could use awk
[05:34:51] <smrtz> This is amazing advice.
[05:36:09] <e36freak> seriously though, the biggest thing you can do to slow down a bash script is fork a lot of external commands
[05:36:19] *** Quits: quazimodo (~quazimodo@45.133.4.89) (Ping timeout: 256 seconds)
[05:36:22] <e36freak> the more string manipulation and stuff you can do with the shell itself, the faster it will be
[05:36:24] *** Quits: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be) (Remote host closed the connection)
[05:37:10] *** Joins: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be)
[05:37:22] <e36freak> how many files are there? how much data are we talking about?
[05:38:09] *** Joins: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au)
[05:39:09] <smrtz> ~60 files with ~30M in most
[05:39:12] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:39:16] <smrtz> Some are only a few K
[05:39:32] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:39:48] <e36freak> that should go pretty quickly
[05:40:15] <e36freak> awk 'BEGIN {ip_cmd = "sort -u > uniq_IPs.csv"; mac_cmd = "uniq_MACs.csv"} /^#/ {next} {print $3 | ip_cmd; print $5 | ip_cmd; print $24 | mac_cmd; print $25 | mac_cmd}' *log* # may even be enough
[05:40:35] <e36freak> or you don't even need sort with that much data...
[05:41:15] *** Quits: N4buc0 (~N4buc0@191.250.99.50) (Ping timeout: 256 seconds)
[05:42:06] <e36freak> awk '/^#/ {next} {for (f=3;f<=4;f++) if (!ips[$f]++) print > "uniq_IPs.csv"} {for (f=24;f<=25;f++) if (!macs[$f]++) print > "uniq_MACs.csv"} *log*
[05:42:24] <e36freak> that should run in seconds, i'd guess
[05:44:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:44:29] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:44:49] <e36freak> *log!(*~) # with extglob on should take care of the -B part of ls
[05:44:49] <smrtz> Seems like there's a missing quote in that oneliner?
[05:45:01] <e36freak> yeah, but a quote after the }
[05:45:04] <e36freak> typo
[05:45:46] <e36freak> awk '/^#/ {next} {for (f=3;f<=4;f++) if (!ips[$f]++) print > "uniq_IPs.csv"} {for (f=24;f<=25;f++) if (!macs[$f]++) print > "uniq_MACs.csv"}' *log*
[05:46:19] <smrtz> Yeah I tried that before asking about it, but it just prints the whole line to the unique files?
[05:46:38] *** Quits: zoe (~zoe@fsf/member/zoe) (Ping timeout: 250 seconds)
[05:46:41] <e36freak> oh, yeah
[05:46:44] <e36freak> print $f, instead of print
[05:46:53] <e36freak> for both prints
[05:47:26] <smrtz> Man you're an absolute wizard!
[05:47:27] <e36freak> it won't be sorted, but they will all be unique
[05:47:53] <smrtz> I don't care about sorting, this is amazing.
[05:47:55] <smrtz> Thanks so much!
[05:49:12] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:49:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:50:25] <smrtz> I'm reading that command to understand how you've done it, and I had no idea awk could do this
[05:51:05] <e36freak> i'm about to roll for a bit, will be back on in 30ish, but you're welcome to join #awk if you want to know more about it
[05:52:11] <smrtz> I probably will, thanks!
[05:54:10] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:54:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:54:36] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:54:55] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:56:04] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[05:57:43] *** Quits: BSaboia (~bsaboia@177.37.198.83) (Quit: This computer has gone to sleep)
[05:58:33] *** Joins: chenqisu1 (~bhca7d@183.217.201.21)
[05:59:10] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:59:15] *** Joins: BSaboia (~bsaboia@177.37.198.83)
[05:59:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[05:59:31] *** Quits: fstd_ (~fstd@xdsl-87-78-21-185.nc.de) (Read error: Connection reset by peer)
[05:59:38] *** Joins: fstd (~fstd@xdsl-87-78-21-185.nc.de)
[05:59:38] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[05:59:56] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[06:00:03] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[06:00:21] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[06:00:28] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[06:01:03] *** Joins: A|an (~Alan@173.218.175.171)
[06:03:45] *** Quits: MrCollinsGA (~MrCollins@199.231.255.146) (Quit: Leaving)
[06:06:24] *** Quits: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:06:45] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 256 seconds)
[06:08:40] *** Joins: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be)
[06:08:50] *** Quits: smrtz (~smrtz@user/smrtz) (Quit: Client closed)
[06:09:06] *** Quits: obvs (~obvs@user/PeteH) (Remote host closed the connection)
[06:13:07] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[06:13:47] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.4)
[06:18:37] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Remote host closed the connection)
[06:19:09] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[06:23:55] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Ping timeout: 256 seconds)
[06:26:35] *** Quits: tkazi (~tkazi@user/tkazi) (Ping timeout: 256 seconds)
[06:27:09] *** Quits: A|an (~Alan@173.218.175.171) (Ping timeout: 256 seconds)
[06:27:23] *** Joins: tkazi (~tkazi@user/tkazi)
[06:27:50] *** Joins: A|an (~Alan@173.218.175.171)
[06:29:02] *** Quits: simpl_e (~user@user/simpl-e/x-8589812) (Remote host closed the connection)
[06:29:26] *** Quits: duderonomy (~duderonom@c-73-158-190-156.hsd1.ca.comcast.net) (Read error: Connection reset by peer)
[06:34:10] *** Quits: ryzenda (~ryzenda@pool-74-109-246-70.pitbpa.fios.verizon.net) (Read error: Connection reset by peer)
[06:35:26] * Al2O3 wonders how many questions and suggestion greycat has suggested over the decades?
[06:35:40] <greycat> one zillion
[06:35:46] <e36freak> plus or minus
[06:38:05] *** Quits: setesat (~setesat@94.4.156.220) (Ping timeout: 256 seconds)
[06:41:01] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[06:41:42] <Al2O3> as far as I can remember, you have been here, answering questions.  How many years now?
[06:41:53] <Al2O3> 25?
[06:42:47] <greycat> I don't remember either.  Over 20.
[06:43:24] <e36freak> greycat: do you know what happened to lhunath?
[06:43:34] <greycat> no
[06:43:42] <e36freak> shame
[06:43:57] <e36freak> hope he's alright
[06:45:59] <e36freak> ah, he's still on twitter, looks like
[06:46:09] <Al2O3> greycat: TY for your wiki, nice simple setup and info.
[06:46:59] <Al2O3> the about guide 'new version' shows him as the primary author
[06:48:51] <ormaaj> Pretty sure he had a kid or two at some point.
[06:49:22] <e36freak> that could do it
[06:50:51] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[06:52:18] *** Joins: Atque (~Atque@user/atque)
[06:52:49] *** hendry1 is now known as hendry
[06:56:05] *** Joins: setesat (~setesat@94.4.156.220)
[07:09:25] *** Quits: ryu_ (~ryusaku@c6A334BC1.dhcp.as2116.net) (Ping timeout: 240 seconds)
[07:10:28] *** Joins: ryu` (~ryusaku@c6A334BC1.dhcp.as2116.net)
[07:10:37] *** Quits: FluffyMask (~masque@user/fluffymask) (Quit: WeeChat 3.4)
[07:13:20] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[07:15:50] *** Parts: justsomeguy (~justsomeg@user/justsomeguy) (WeeChat 3.3)
[07:25:10] *** Joins: janko (~gian@219-75-166-64f1.kyt1.eonet.ne.jp)
[07:26:55] <janko> I am trying to write a function that uses the syntax "$ for user in "${!fullNames[@]}" " but the array is the argument so it becomes "${!$1[@]}" which gives me a bad substitution.
[07:27:02] <janko> what should i do instead?
[07:27:14] <greycat> namerefs
[07:27:34] <greycat> just tell me you're not targeting Mac OS's bash 3.2
[07:28:02] <janko> I'm not :)
[07:28:09] <janko> thanks i'll look it up
[07:28:17] <greycat> !nameref
[07:28:17] <greybot> namerefs (typeset -n) are a ksh93 feature that work like C++ references for passing data structures between functions. Bash 4.3+ and mksh have a limited but usable version of namerefs. http://mywiki.wooledge.org/BashFAQ/006 https://gist.github.com/ormaaj/5682807
[07:28:21] *** Quits: jos1 (~jos3@dyndsl-091-096-037-055.ewe-ip-backbone.de) (Ping timeout: 256 seconds)
[07:28:21] *** Quits: ozzzo_work (~ozzzo_wor@h87.s239.verisign.com) (Ping timeout: 256 seconds)
[07:28:22] *** Joins: xizhendu_ (~xizhendu@115.171.233.172)
[07:28:49] <janko> thanks :)
[07:30:37] *** Quits: jonthesnow (~xizhendu@240e:305:7380:4300:22a3:ecb5:b567:7739) (Ping timeout: 240 seconds)
[07:33:00] *** voiceofreason_ is now known as voiceofreason
[07:33:16] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[07:34:06] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 250 seconds)
[07:35:10] *** Quits: janko (~gian@219-75-166-64f1.kyt1.eonet.ne.jp) (Quit: WeeChat 2.8)
[07:36:09] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:36:40] <Blondie101010> couldn't you just use a temporary name?
[07:37:34] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 250 seconds)
[07:40:01] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Client Quit)
[07:40:19] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:41:14] *** Joins: jos1 (~jos3@host-091-097-190-071.ewe-ip-backbone.de)
[07:41:37] *** Joins: Guest21 (~Guest21@181.199.144.246)
[07:42:35] *** Parts: Guest21 (~Guest21@181.199.144.246) ()
[07:49:08] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[07:49:20] *** Quits: fluter (~fluter@user/fluter) (Read error: Connection reset by peer)
[07:50:51] *** Quits: yuesbeez (uid458354@id-458354.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[07:51:27] *** Joins: fluter (~fluter@user/fluter)
[07:52:32] *** Joins: aakashi2001 (~aakashi20@103.61.255.0)
[07:52:32] *** Quits: aakashi2001 (~aakashi20@103.61.255.0) (Changing host)
[07:52:32] *** Joins: aakashi2001 (~aakashi20@user/aakashi2001)
[07:58:57] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 240 seconds)
[07:59:55] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[08:02:41] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[08:03:16] *** Quits: setesat (~setesat@94.4.156.220) (Quit: Ping timeout (120 seconds))
[08:03:34] *** Joins: setesat (~setesat@94.4.156.220)
[08:10:30] *** Quits: brachamh (~brachamh@user/brachamh) (Ping timeout: 250 seconds)
[08:10:59] *** Quits: raz (~raz@user/raz) (Ping timeout: 252 seconds)
[08:11:49] *** Joins: MrA (MrA@2602:ff75:7:3ccc::20)
[08:12:03] *** Quits: Ders (MrA@user/ders) (Read error: Connection reset by peer)
[08:15:07] *** Joins: vysn (~vysn@user/vysn)
[08:16:24] *** Quits: aakashi2001 (~aakashi20@user/aakashi2001) (Read error: Connection reset by peer)
[08:19:57] *** Quits: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be) (Read error: Connection reset by peer)
[08:20:33] *** Joins: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be)
[08:21:33] *** Quits: A|an (~Alan@173.218.175.171) (Quit: A|an)
[08:23:41] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Quit: ɯlɐɔ uı ʞɹoʍ oʇ ƃuıoƃ)
[08:23:55] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[08:24:07] *** Joins: obvs (~obvs@user/PeteH)
[08:24:23] *** Joins: brachamh (~brachamh@user/brachamh)
[08:28:36] *** Joins: bluedust (~bluedust@103.161.144.94)
[08:36:37] *** Quits: Scarecr0w (scarecr0w@user/scarecr0w) (Ping timeout: 240 seconds)
[08:36:43] *** Quits: cim (~cim@205.185.117.110) (Quit: Ping timeout (120 seconds))
[08:36:59] *** Joins: freep (~freepppp@62.1.174.38.dsl.dyn.forthnet.gr)
[08:37:03] *** Joins: cim (~cim@205.185.117.110)
[08:37:05] *** Quits: Quack (~Quack@185.21.216.169) (Ping timeout: 256 seconds)
[08:38:29] *** Quits: tar_xvf (~tar_xvf@ec2-3-136-243-174.us-east-2.compute.amazonaws.com) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[08:39:54] *** Joins: Scarecr0w (scarecr0w@user/scarecr0w)
[08:39:58] *** Joins: bluedust_ (~bluedust@185.248.85.40)
[08:40:11] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-431-13.w86-246.abo.wanadoo.fr) (Read error: Connection reset by peer)
[08:42:35] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-431-13.w86-246.abo.wanadoo.fr)
[08:42:45] *** Quits: brachamh (~brachamh@user/brachamh) (Ping timeout: 256 seconds)
[08:43:18] *** Joins: crashrep (~tar@ip-115-87.wireless.oberlin.edu)
[08:43:53] *** Quits: bluedust (~bluedust@103.161.144.94) (Ping timeout: 256 seconds)
[08:44:44] *** Joins: brachamh (~brachamh@user/brachamh)
[08:45:01] *** Quits: crashrep (~tar@ip-115-87.wireless.oberlin.edu) (Client Quit)
[08:45:16] *** Joins: crashrep (~tar@ip-115-87.wireless.oberlin.edu)
[08:45:20] *** Quits: crashrep (~tar@ip-115-87.wireless.oberlin.edu) (Client Quit)
[08:45:53] *** Joins: crashrep (~tar@ip-115-87.wireless.oberlin.edu)
[08:47:07] *** Quits: jos1 (~jos3@host-091-097-190-071.ewe-ip-backbone.de) (Ping timeout: 256 seconds)
[08:47:19] *** Joins: han-solo (~han-solo@user/han-solo)
[08:49:19] *** Joins: gamara (~gamara3@bras-base-toroon3642w-grc-26-174-88-214-68.dsl.bell.ca)
[08:49:42] *** Joins: jos1 (~jos3@host-091-097-190-071.ewe-ip-backbone.de)
[08:49:49] <gamara> how can you save the output of a command into a variable but also print it
[08:50:04] <gamara> like it were running normally
[08:50:25] <yitz> gamara: capture it to a var then print the var
[08:51:06] <gamara> I want it to still print in real time though, I just want to print the tail of it if it fails
[08:51:16] <gamara> at the end of the script
[08:51:30] *** Quits: crashrep (~tar@ip-115-87.wireless.oberlin.edu) (Quit: WeeChat 3.4)
[08:51:37] <yitz> gamara: capture it to a var then print the var. That's real time
[08:51:44] <yitz> What are you trying to do?
[08:51:45] *** Joins: crashrep (~tar@ip-115-87.wireless.oberlin.edu)
[08:51:56] <ljharb> that won't stream the output while it's being captured tho
[08:52:05] <ljharb> i've had this problem before too and don't have a solution
[08:52:05] <yitz> Capture it line by line
[08:52:06] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 250 seconds)
[08:52:22] <yitz> Capture line, print line, repeat.
[08:52:23] <gamara> yeah that is what I am trying to do, I am executing a makefile
[08:52:42] <yitz> !faq 1
[08:52:42] <greybot> https://mywiki.wooledge.org/BashFAQ/001 -- How can I read a file (data stream, variable) line-by-line (and/or field-by-field)?
[08:53:13] <gamara> its not reading a file though
[08:53:30] <yitz> Is it ... the next thing right after file?
[08:54:02] <gamara> you suggest I stream the make start to a file then print the line from the file that wont be live
[08:54:11] <yitz> No
[08:54:23] <yitz> You run a command. It outputs a stream of data.
[08:54:33] <yitz> You can capture that data, line by line, printing it as you go along.
[08:54:50] *** Joins: domini_ (~domini@22.112.235.77.dyn.idknet.com)
[08:55:02] <yitz> faq 1: How can I read a (file OR a data stream OR a variable) line-by-line
[08:55:09] <gamara> it has download bars and stuff
[08:55:19] *** Quits: domini_ (~domini@22.112.235.77.dyn.idknet.com) (Remote host closed the connection)
[08:55:33] * yitz shrugs
[08:55:57] <yitz> Figure out what you're dealing with and ask a single comprehensive question without parts that keep getting added?
[08:56:11] <gamara> that is fair yitz I appreciate the help
[08:56:21] <gamara> sorry for frustrating you
[08:56:28] <yitz> I think that's b1?
[08:56:29] <yitz> !b1
[08:56:29] <greybot> bashphorism 1: the questioner's first description of the problem/question will be misleading.
[08:56:40] <yitz> We're used to it. Unfortunately.
[08:59:16] *** Quits: crashrep (~tar@ip-115-87.wireless.oberlin.edu) (Changing host)
[08:59:16] *** Joins: crashrep (~tar@user/crashrep)
[08:59:35] *** Quits: timj (~timj@user/timj) (Ping timeout: 256 seconds)
[09:00:16] *** Quits: obvs (~obvs@user/PeteH) (Killed (NickServ (Forcing logout obvs -> PeteH)))
[09:00:53] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[09:03:14] *** Joins: Quack (~Quack@185.21.216.169)
[09:03:30] *** Quits: crashrep (~tar@user/crashrep) (Quit: WeeChat 3.4)
[09:03:32] <gamara> I mean I have a pretty clear vision I am just not articulating it well
[09:03:45] *** Joins: crashrep (~crashrep@user/crashrep)
[09:05:07] <gamara> https://pastebin.com/997V70LS Here is my script at line 30 it runs a makefile which contains docker build commands and webpack stuff etc so a lot of animated output per line. line 39 explains what I want to do, basically print why it fails at the end of the script so user doesnt have to scroll up is there anyway to capture the last few lines of the command if it fails? I dont think it prints to standard error when it
[09:05:08] <pasteban> Paste is available without ads on https://pastebin.com/raw/997V70LS
[09:05:08] <gamara> fails.
[09:05:13] <phy1729> If you're reading the stream line by line, you can print each line as you get it is what yitz is saying aiui
[09:12:46] *** Joins: domicron6 (~domicron@gateway/tor-sasl/domicron)
[09:13:05] *** domicron6 is now known as domicron
[09:13:28] *** Joins: timj (~timj@user/timj)
[09:19:35] *** Quits: crashrep (~crashrep@user/crashrep) (Quit: WeeChat 3.4)
[09:19:57] *** Joins: crashrep (~crashrep@user/crashrep)
[09:22:00] *** Quits: malina (~malina@user/malina) (Ping timeout: 250 seconds)
[09:22:20] *** Joins: malina (~malina@user/malina)
[09:25:04] *** Joins: jaggz (~jaggz@user/jaggz)
[09:26:46] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 250 seconds)
[09:27:05] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[09:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:31:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[09:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:32:20] <jaggz> wasn't there some cute little inline way of repeating a string some count of times
[09:32:49] <jaggz> (like perl's x)
[09:39:07] *** Joins: chomwitt (~chomwitt@ppp-94-67-201-202.home.otenet.gr)
[09:39:20] *** Quits: malina (~malina@user/malina) (Ping timeout: 250 seconds)
[09:40:06] *** Quits: chomwitt (~chomwitt@ppp-94-67-201-202.home.otenet.gr) (Remote host closed the connection)
[09:41:47] <gamara> I dont really get how this https://mywiki.wooledge.org/BashFAQ/001 this is helpful to my situation im not reading from a file
[09:42:42] <twkm> then either it doesn't or you didn't actually read it.
[09:45:26] *** Joins: chomwitt (~chomwitt@2a02:587:dc11:fb00:12c3:7bff:fe6d:d374)
[09:46:56] *** Quits: gamara (~gamara3@bras-base-toroon3642w-grc-26-174-88-214-68.dsl.bell.ca) (Quit: Leaving)
[09:47:37] *** Quits: selk (~selkfoste@user/selkfoster) ()
[09:49:39] *** Quits: skapata (~Skapata@user/skapata) (Read error: Connection reset by peer)
[09:49:53] *** Joins: sublim20 (~sublim20@user/sublim20)
[09:53:13] *** Joins: malina (~malina@user/malina)
[10:01:08] *** Joins: Mo (~Mo@dynamic-095-116-066-250.95.116.pool.telefonica.de)
[10:01:26] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 250 seconds)
[10:04:05] *** Quits: nunggu (~q@gateway/tor-sasl/nunggu) (Remote host closed the connection)
[10:04:28] *** Joins: nunggu (~q@gateway/tor-sasl/nunggu)
[10:04:30] *** Joins: Sauvin (~sauvin@about/linux/staff/sauvin)
[10:04:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[10:04:52] *** Quits: malina (~malina@user/malina) (Remote host closed the connection)
[10:05:20] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 250 seconds)
[10:06:54] *** Quits: daniel-k (~daniel-k@fsf/emeritus/daniel-k) (Read error: Connection reset by peer)
[10:07:07] *** Joins: daniel-k (~daniel-k@fsf/emeritus/daniel-k)
[10:08:53] *** Joins: loki_val (~crabbedha@user/crabbedhaloablut)
[10:09:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[10:09:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[10:09:39] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[10:09:45] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 276 seconds)
[10:09:58] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[10:14:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[10:14:28] *** Joins: mat001 (~mat001@69.4.234.76)
[10:14:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[10:14:36] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[10:14:43] *** Joins: indiana-bones (~indignant@94.140.8.115)
[10:14:55] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[10:15:41] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[10:15:59] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[10:16:03] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[10:16:07] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[10:21:55] *** Quits: mat001 (~mat001@69.4.234.76) (Ping timeout: 256 seconds)
[10:21:56] *** Joins: mat001_ (~mat001@69.4.234.62)
[10:22:07] *** Joins: tobybl (~tobybl@248.195.115.87.dyn.plus.net)
[10:23:28] *** Joins: n4dir (~user@i5E86C589.versanet.de)
[10:27:03] *** Joins: underport (~underport@2a0c:5a80:1c17:5800:c950:293b:d674:d746)
[10:31:35] *** Quits: myrrh (~markus@172.58.196.36) (Remote host closed the connection)
[10:35:58] *** Joins: carl-- (~carl-@185.103.188.130)
[10:40:26] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 250 seconds)
[10:40:32] <libc> twkm wins
[10:43:28] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 250 seconds)
[10:44:30] *** Quits: Masklin_Gurder (~joel@h-155-4-23-152.A230.priv.bahnhof.se) (Ping timeout: 260 seconds)
[10:45:52] *** Quits: funabashi (funabashi@185.52.0.236) (Remote host closed the connection)
[10:46:51] *** Joins: kurahaupo (~kurahaupo@115.69.27.211)
[10:47:42] *** Joins: malina (~malina@user/malina)
[10:51:56] *** Joins: kurahaupo_ (~kurahaupo@pa49-182-35-223.pa.qld.optusnet.com.au)
[10:52:18] *** Joins: ExeciN (~ExeciN@user/nicexe)
[10:55:45] *** Quits: kurahaupo (~kurahaupo@115.69.27.211) (Ping timeout: 256 seconds)
[10:58:57] *** Quits: mat001_ (~mat001@69.4.234.62) (Ping timeout: 240 seconds)
[11:00:00] *** Quits: unop (~unop@194.154.249.71) (Remote host closed the connection)
[11:00:16] *** Joins: unop (~unop@194.154.249.71)
[11:08:08] *** Joins: lavaball (felix@31.204.155.215)
[11:08:59] *** Joins: bluedust (~bluedust@103.161.144.94)
[11:10:05] *** Quits: brachamh (~brachamh@user/brachamh) (Ping timeout: 256 seconds)
[11:10:20] *** Quits: sublim20 (~sublim20@user/sublim20) (Ping timeout: 250 seconds)
[11:10:25] *** Quits: wyre (~wyre@user/wyre) (Quit: ZNC 1.8.2 - https://znc.in)
[11:10:38] *** Joins: martinus__ (~martin@127.59.202.77.rev.sfr.net)
[11:11:27] *** Joins: wyre (~wyre@user/wyre)
[11:12:30] *** Quits: bluedust_ (~bluedust@185.248.85.40) (Ping timeout: 250 seconds)
[11:14:03] *** Quits: tobybl (~tobybl@248.195.115.87.dyn.plus.net) (Remote host closed the connection)
[11:18:06] *** Joins: brachamh (~brachamh@user/brachamh)
[11:21:12] *** Quits: mw_ (~mw@catv-80-98-128-161.catv.broadband.hu) (Read error: Connection reset by peer)
[11:21:25] *** Quits: rcernin_ (~rcernin@101.189.141.138) (Ping timeout: 256 seconds)
[11:21:28] *** Joins: mw_ (~mw@catv-80-98-128-161.catv.broadband.hu)
[11:24:30] *** Quits: nunggu (~q@gateway/tor-sasl/nunggu) (Ping timeout: 276 seconds)
[11:31:11] *** Joins: N4buc0 (~N4buc0@2804:7f4:348a:16c8:3b32:c4e0:b680:cc8f)
[11:31:33] *** Joins: sublim20 (~sublim20@user/sublim20)
[11:33:08] *** Joins: cfaber (~cfaber@c-71-237-84-236.hsd1.co.comcast.net)
[11:33:58] *** Quits: cfaber_ (~cfaber@c-71-237-84-236.hsd1.co.comcast.net) (Ping timeout: 260 seconds)
[11:39:37] *** Quits: richardm75 (~richardm7@2600:8801:c507:b200:dec:71d1:6d51:cbe) (Ping timeout: 240 seconds)
[11:40:53] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[11:41:41] *** Joins: nunggu (~q@gateway/tor-sasl/nunggu)
[11:43:40] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d)
[11:49:37] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d) (Ping timeout: 240 seconds)
[11:49:44] *** Quits: Karyon (~Karyon@user/karyon) (Quit: Good bye)
[11:49:58] *** Joins: Karyon_ (~Karyon@user/karyon)
[11:52:32] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Quit: WeeChat 3.5-dev)
[11:54:47] *** Quits: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:02:13] *** Quits: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au) (Ping timeout: 256 seconds)
[12:04:05] *** Joins: aakashi2001 (~aakashi20@user/aakashi2001)
[12:07:53] *** Joins: yustin (~yustin@user/yustin)
[12:08:50] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d)
[12:09:36] *** Joins: freepp (~freepppp@62.1.174.38.dsl.dyn.forthnet.gr)
[12:09:55] <uuidNuni1> # [[ -e /bin ]] ; echo $?
[12:09:57] <shbot> uuidNuni1: 0
[12:10:05] <uuidNuni1> -e also test dirs?
[12:10:14] *** Quits: aakashi2001 (~aakashi20@user/aakashi2001) (Read error: Connection reset by peer)
[12:11:52] *** Quits: malina (~malina@user/malina) (Ping timeout: 250 seconds)
[12:11:58] <geirha> yes, it tests for existance regardless of what type the file is
[12:12:03] *** Joins: malina (~malina@user/malina)
[12:12:10] <Riviera> It even tests when there is no file.
[12:12:18] *** Quits: freep (~freepppp@62.1.174.38.dsl.dyn.forthnet.gr) (Ping timeout: 250 seconds)
[12:13:28] *** Joins: tobybl (~tobybl@248.195.115.87.dyn.plus.net)
[12:13:36] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d) (Ping timeout: 250 seconds)
[12:16:31] *** Joins: rendar (~rendar@user/rendar)
[12:19:33] *** Joins: Nobrem (~Nobrem@85.187.219.21)
[12:19:34] <Nobrem> hi
[12:19:54] <Nobrem> I would like to create an array
[12:20:04] <Nobrem> but, to keep it clean, I would like to have each value on a separate line
[12:20:06] <Nobrem> is that possible?
[12:20:10] <izabera> yes
[12:20:12] <izabera> !next
[12:20:12] <greybot> Another satisfied customer! Next please!
[12:21:11] <Nobrem> izabera, https://dpaste.org/1E74
[12:21:13] <Nobrem> like this?
[12:21:30] *** Quits: crashrep (~crashrep@user/crashrep) (Quit: WeeChat 3.4)
[12:21:32] <izabera> yes
[12:21:38] <Nobrem> thank you!
[12:21:41] <grawity> yes except without the , separators -- bash doesn't use those for arrays
[12:21:47] <izabera> oh there's commas
[12:21:50] <izabera> didn't even notice
[12:21:51] <Nobrem> oh, sorry! thank you grawity
[12:22:09] *** Joins: crashrep (~crashrep@user/crashrep)
[12:22:27] *** Quits: kurahaupo_ (~kurahaupo@pa49-182-35-223.pa.qld.optusnet.com.au) (Ping timeout: 256 seconds)
[12:22:36] <Nobrem> is there actually a way to separate variables from text in an idiot proof way?
[12:22:56] <Nobrem> for example:   cp "$path/$file"
[12:23:05] <Nobrem> this works, because there are no / in variable names allowed
[12:23:06] *** Joins: dreamon (~dreamon@ppp-88-217-76-15.dynamic.mnet-online.de)
[12:23:09] <grawity> guessing you mean "${path}/${file}"
[12:23:16] <Nobrem> oh, that is sexy
[12:23:17] <Nobrem> thank you
[12:23:19] *** Quits: crashrep (~crashrep@user/crashrep) (Client Quit)
[12:23:38] <Nobrem> The more I use bash scripting, the more it grows on me
[12:23:51] <izabera> bad sign
[12:23:53] <izabera> i'd stop it
[12:24:03] <Nobrem> =)
[12:24:24] <Nobrem> admittedly,  I still use PHP for most things
[12:24:31] <Nobrem> but I am slowly but steadily switching
[12:24:47] <izabera> incidentally i'd also stop that but who am i to judge
[12:25:19] <Nobrem> is there actually a set of functions in Bash that are similar to PHP?
[12:25:28] <Nobrem> for example,  list()  or  gmtime()
[12:25:41] <Nobrem> just, generally, a set of functions that makes one's life easier?
[12:25:48] <Nobrem> or str_replace()
[12:25:54] *** Joins: nickdiazswag209 (~bjpenn_@98.42.87.100)
[12:27:02] <izabera> # printf '%T(%c)'
[12:27:03] <shbot> izabera: bash: printf: `T': invalid format character
[12:27:08] <izabera> # printf '%(%c)T'
[12:27:09] <shbot> izabera: Fri Jan 14 08:57:08 2022
[12:27:18] *** Joins: kurahaupo (~kurahaupo@pa49-182-35-223.pa.qld.optusnet.com.au)
[12:27:21] <izabera> so that's gmtime
[12:27:28] <grawity> some are more like variable modifiers rather than functions, e.g. ${var/oldtext/newtext} to achieve str_replace during variable expansion
[12:27:43] <grawity> other times you resort to calling `sed` etc
[12:27:54] *** Quits: nickdiaz1wag209 (~bjpenn_@13.110.54.39) (Ping timeout: 250 seconds)
[12:27:57] <Nobrem> I think I will write some functions
[12:28:07] <Nobrem> that would be a nice open source project.... PHP functions in Bash
[12:28:10] *** Joins: crashrep (~crashrep@user/crashrep)
[12:28:15] <Nobrem> I am sure many people would appreciate that
[12:28:34] *** Joins: igemnace (~ian@user/igemnace)
[12:29:25] *** Joins: betuxy (~betuxy@p579ad46c.dip0.t-ipconnect.de)
[12:29:33] *** Quits: betuxy (~betuxy@p579ad46c.dip0.t-ipconnect.de) (Client Quit)
[12:30:02] <geirha> functions in bash are very different from functions in php. You'll have a hard time making that work in any reasonable way
[12:30:27] <izabera> you should just learn how to code in bash rather than mimick php
[12:30:42] <Nobrem> fair enough, izabera, good point.
[12:30:47] <Nobrem> 1:0 for you... sorry
[12:30:52] *** Quits: Codaraxis_ (~Codaraxis@user/codaraxis) (Remote host closed the connection)
[12:31:12] *** Joins: Codaraxis_ (~Codaraxis@user/codaraxis)
[12:31:45] <Nobrem> are there any variable names I am not allowed to use?
[12:31:50] <Nobrem> For example, could I call my array "files" ?
[12:32:18] <Nobrem> or, my text editor highlights the word "file"
[12:32:20] <Nobrem> for file in ...
[12:32:26] <grawity> there are some, but they're all-uppercase only
[12:32:27] <izabera> isn't this something that you can just figure out in a shell in less time it took you to ask here?
[12:32:29] <Nobrem> I assume I should not call a variable "file" ?
[12:32:48] <grawity> e.g. some conflict with environment variables (bash variables are closely tied to setenv) and some conflict with built-ins
[12:32:50] <Nobrem> izabera, maybe it works on my system, but not on other systems? (e.g. Mac)
[12:33:15] <grawity> but lowercase or mixed-case shouldn't really conflict with anything
[12:33:22] <Nobrem> thank you!
[12:34:35] <grawity> but in general though, don't always expect things to map 1:1 from php/perl/python to bash, it's a "shell" language
[12:35:53] *** Joins: earnestly (~earnest@user/earnestly)
[12:36:16] *** Quits: itachi19 (~itachi19@46.232.210.60) (Quit: The Lounge - https://thelounge.chat)
[12:36:36] *** Joins: itachi19 (~itachi19@46.232.210.60)
[12:38:40] *** Joins: N4buc0- (~N4buc0@191.250.99.50)
[12:38:58] *** Quits: N4buc0 (~N4buc0@2804:7f4:348a:16c8:3b32:c4e0:b680:cc8f) (Remote host closed the connection)
[12:39:35] <Nobrem> thank you for all your advice!  It works perfectly
[12:42:01] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 245 seconds)
[12:47:09] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[12:47:14] <uuidNuni1> Riviera: what do you mean "It even tests when there is no file." example?
[12:47:39] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[12:48:07] *** Joins: fling (~fling@user/fling)
[12:48:26] *** Joins: shad (~shad@user/shad)
[12:48:51] <uuidNuni1> # [[ -e /bi* ]] ; echo $? ; # can i use glob here?
[12:48:52] <shbot> uuidNuni1: 1
[12:49:10] <geirha> !faq exists
[12:49:11] <greybot> https://mywiki.wooledge.org/BashFAQ/081 -- How can I determine whether a command exists anywhere in my PATH?
[12:49:19] <geirha> gah, wrong one
[12:49:20] <geirha> !faq empty
[12:49:21] <greybot> https://mywiki.wooledge.org/BashFAQ/004 -- How can I check whether a directory is empty or not?  How do I check for any *.mpg files, or count how many there are?
[12:49:55] <uuidNuni1> geirha: not looking for commands, /bin is just an exmaple file.
[12:51:07] <Soliton> expanding globs there makes no sense.
[12:51:13] <uuidNuni1> ok. i see. use glob in 'for i in /bi* '
[12:52:22] <uuidNuni1> # for i in /b* ; do echo -n "$i ?: " ; [[ -e "$i" ]] ; echo -n $? ; done
[12:52:23] <shbot> uuidNuni1: /bin ?: 0
[12:52:45] *** Quits: crashrep (~crashrep@user/crashrep) (Quit: WeeChat 3.4)
[12:53:01] *** Joins: crashrep (~crashrep@user/crashrep)
[12:56:29] <geirha> It would be ambiguous to allow a glob there; should it test if all the matches exist, or if at least one match exist?
[12:56:50] *** Joins: stonkey (~stonkey@user/stonkey)
[12:57:03] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[12:57:18] *** Quits: wre^ (~wre@wsip-98-188-242-61.mc.at.cox.net) (Remote host closed the connection)
[12:57:24] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[12:58:48] *** Quits: crashrep (~crashrep@user/crashrep) (Quit: WeeChat 3.4)
[13:00:29] *** Quits: libc (~weechat@user/tessio) (Quit: WeeChat 3.2)
[13:01:07] *** Quits: NoelFlantier3 (~Hubert@static.189.244.201.195.clients.your-server.de) (Remote host closed the connection)
[13:01:30] *** Joins: NoelFlantier3 (~Hubert@static.189.244.201.195.clients.your-server.de)
[13:01:31] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[13:05:10] *** Joins: libc (~weechat@user/tessio)
[13:06:16] *** Joins: _gabriele (~gabriele@host-95-237-111-56.retail.telecomitalia.it)
[13:06:16] *** Quits: _gabriele (~gabriele@host-95-237-111-56.retail.telecomitalia.it) (Changing host)
[13:06:16] *** Joins: _gabriele (~gabriele@user/gabriele)
[13:06:16] *** _gabriele is now known as gabriele
[13:06:37] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 240 seconds)
[13:07:59] *** Quits: WinterStar (~IceLight@user/icelight) (Ping timeout: 252 seconds)
[13:09:00] *** Quits: indiana-bones (~indignant@94.140.8.115) (Quit: Leaving)
[13:09:20] *** Parts: Nobrem (~Nobrem@85.187.219.21) (Leaving)
[13:09:27] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.4)
[13:10:20] *** Joins: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[13:10:22] *** Joins: WinterStar (~IceLight@user/icelight)
[13:10:28] *** Quits: underport (~underport@2a0c:5a80:1c17:5800:c950:293b:d674:d746) (Quit: Leaving)
[13:11:49] *** Joins: zer0bitz (~zer0bitz@2001:2003:f444:a000:8153:e826:3459:f646)
[13:12:16] <uuidNuni1> i test *.zst sometimes
[13:12:57] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[13:13:52] *** Joins: underport (~underport@2a0c:5a80:1c17:5800:c950:293b:d674:d746)
[13:14:04] *** Joins: megamaced (~megamaced@static-90-255-226-34.vodafonexdsl.co.uk)
[13:14:29] *** Quits: uuidNuni1 (~weechat@146.56.136.247) (Quit: WeeChat 3.4)
[13:15:16] *** Joins: uuidNuni1 (~weechat@146.56.136.247)
[13:15:47] *** Joins: zaden (~maddx@73.92.207.228)
[13:19:51] *** Joins: fivegruel (~fivegruel@HSI-KBW-109-192-195-167.hsi6.kabel-badenwuerttemberg.de)
[13:21:06] *** Joins: MajorBiscuit (~MajorBisc@wlan-145-94-216-150.wlan.tudelft.nl)
[13:21:37] *** Quits: MajorBiscuit (~MajorBisc@wlan-145-94-216-150.wlan.tudelft.nl) (Client Quit)
[13:21:47] *** Joins: MajorBiscuit (~MajorBisc@wlan-145-94-216-150.wlan.tudelft.nl)
[13:24:20] *** Joins: timm (~timm@2a02:810d:4c40:a68:224:d7ff:fe18:af78)
[13:28:55] *** Joins: dsrt^ (~dsrt@wsip-98-188-242-61.mc.at.cox.net)
[13:29:44] *** Joins: crashrep (~crashrep@user/crashrep)
[13:29:52] *** Parts: jaggz (~jaggz@user/jaggz) (Leaving)
[13:33:16] *** Joins: bluedust_ (~bluedust@185.248.85.41)
[13:34:01] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d)
[13:35:35] *** Joins: betuxy75 (~betuxy@dynamic-089-204-138-254.89.204.138.pool.telefonica.de)
[13:36:22] *** Quits: bluedust (~bluedust@103.161.144.94) (Ping timeout: 250 seconds)
[13:38:37] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d) (Ping timeout: 240 seconds)
[13:38:49] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[13:38:57] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 256 seconds)
[13:40:50] *** Quits: kurahaupo (~kurahaupo@pa49-182-35-223.pa.qld.optusnet.com.au) (Read error: Connection reset by peer)
[13:41:06] *** Joins: kurahaupo (~kurahaupo@pa49-182-35-223.pa.qld.optusnet.com.au)
[13:51:29] *** Quits: n4dir (~user@i5E86C589.versanet.de) (Remote host closed the connection)
[13:53:27] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[13:53:47] *** Joins: ExeciN (~ExeciN@user/nicexe)
[13:58:16] *** Joins: magla (~gelignite@55d475f4.access.ecotel.net)
[13:58:32] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[14:00:59] *** Quits: betuxy75 (~betuxy@dynamic-089-204-138-254.89.204.138.pool.telefonica.de) (Quit: Connection closed)
[14:01:35] *** Joins: betuxy69 (~betuxy@dynamic-089-204-138-254.89.204.138.pool.telefonica.de)
[14:02:32] *** Joins: Rue_ (~rue@61-231-129-7.dynamic-ip.hinet.net)
[14:09:25] <libc>  dnf repoquery --queryformat "%{DESCRIPTION}\n\n%{NAME}\n\n\n\n" | gawk -v IGNORECASE=1 '/web browser/&&!c {c=6}; {c && (/^$/ c--)}'
[14:09:44] <libc> i want to start print lines up until i count 6 newlines when encountering the word 'web browser' but
[14:09:45] <libc> without 'web browser' to reset the count between the lines
[14:11:14] <libc> sorry it's dead in #awk
[14:11:28] *** Quits: betuxy69 (~betuxy@dynamic-089-204-138-254.89.204.138.pool.telefonica.de) (Ping timeout: 250 seconds)
[14:15:43] *** Quits: Inline (~Inline@aftr-37-201-240-204.unity-media.net) (Quit: Leaving)
[14:16:47] *** Joins: sinhue (~mithrin@188-167-233-152.dynamic.chello.sk)
[14:16:57] *** Joins: nickdiaz1wag209 (~bjpenn_@13.110.54.42)
[14:17:26] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[14:17:37] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[14:17:55] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[14:18:11] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[14:18:24] *** Quits: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Ping timeout: 250 seconds)
[14:18:30] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[14:18:43] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[14:19:01] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[14:19:08] *** Joins: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[14:19:10] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[14:19:31] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[14:19:45] *** Quits: nickdiazswag209 (~bjpenn_@98.42.87.100) (Ping timeout: 256 seconds)
[14:19:45] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Read error: Connection reset by peer)
[14:21:40] <libc> nvm i figure it out
[14:21:43] <libc> dnf repoquery --queryformat "%{DESCRIPTION}\n\n%{NAME}\n\n\n\n" | gawk -v IGNORECASE=1 '/web browser/&&!c {c=6}; c != 0 {print; c--}'
[14:21:45] <libc> thanks
[14:23:37] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 240 seconds)
[14:24:07] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[14:24:21] *** Joins: Nod0n[m] (~nod0nmatr@2001:470:69fc:105::211)
[14:25:37] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[14:25:43] <geirha> sounds like an XY problem
[14:25:51] <libc> !xy
[14:25:51] <greybot> http://mywiki.wooledge.org/XyProblem -- "I want to do X, but I'm asking how to do Y..."
[14:25:59] *** Quits: chenqisu1 (~bhca7d@183.217.201.21) (Ping timeout: 256 seconds)
[14:26:18] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[14:26:37] *** Joins: ExeciN (~ExeciN@user/nicexe)
[14:27:26] <libc> right i asked it wrongly
[14:27:33] <libc> but my solution is good
[14:27:53] <libc> or works
[14:30:14] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[14:30:30] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[14:31:08] <libc> geirha: do only thing that bothers me is that the output is pretty wierd even
[14:31:28] <libc> i expected the name of the command and then 4 newlines but in reality thats' not what happen
[14:31:53] <libc> not always
[14:31:57] <geirha> perhaps the description or name fields contain empty lines themselves...
[14:33:45] *** Joins: john_johnk (~Thunderbi@1.59.140.77.rev.sfr.net)
[14:34:27] *** Joins: Masklin_Gurder (~joel@h-155-4-23-152.A230.priv.bahnhof.se)
[14:35:15] <libc> ill address this is sunday
[14:35:30] <libc> cya
[14:35:31] *** Quits: libc (~weechat@user/tessio) (Quit: WeeChat 3.2)
[14:37:18] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[14:37:31] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[14:40:16] *** Joins: davu (~davu@94.31.103.28)
[14:41:38] *** Quits: zer0bitz (~zer0bitz@2001:2003:f444:a000:8153:e826:3459:f646) (Read error: Connection reset by peer)
[14:43:02] *** Joins: zer0bitz (~zer0bitz@2001:2003:f444:a000:8153:e826:3459:f646)
[14:43:32] *** Joins: wikan (~weechat@2a02:a31d:8541:e100:213:2ff:fed3:8291)
[14:47:31] *** Quits: john_johnk (~Thunderbi@1.59.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[14:52:05] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.4)
[14:52:47] *** Quits: martinus__ (~martin@127.59.202.77.rev.sfr.net) (Ping timeout: 256 seconds)
[14:57:18] *** Joins: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au)
[15:00:42] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[15:02:44] *** Quits: Byteflux (~byte@byteflux.net) (Read error: Connection reset by peer)
[15:03:01] *** Joins: Byteflux (~byte@byteflux.net)
[15:03:39] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d)
[15:06:00] *** Joins: vishal (~vishal@fedora/vishal)
[15:07:57] *** Quits: varazir (~mircwars@81-230-91-92-no2300.tbcn.telia.com) (Ping timeout: 240 seconds)
[15:08:14] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d) (Ping timeout: 250 seconds)
[15:12:33] *** Joins: varazir (~mircwars@81-230-91-92-no2300.tbcn.telia.com)
[15:13:13] *** Quits: crashrep (~crashrep@user/crashrep) (Remote host closed the connection)
[15:13:28] *** Joins: Csm319_ (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[15:13:52] *** Joins: crashrep (~crashrep@user/crashrep)
[15:15:23] *** Joins: sublim20 (~sublim20@user/sublim20)
[15:29:46] *** Quits: MajorBiscuit (~MajorBisc@wlan-145-94-216-150.wlan.tudelft.nl) (Quit: WeeChat 3.3)
[15:29:56] *** Joins: MajorBiscuit (~MajorBisc@wlan-145-94-216-150.wlan.tudelft.nl)
[15:30:28] *** Joins: nyex (~Thunderbi@177.84.107.35)
[15:32:40] *** Quits: Codaraxis_ (~Codaraxis@user/codaraxis) (Remote host closed the connection)
[15:33:00] *** Joins: Codaraxis_ (~Codaraxis@user/codaraxis)
[15:34:23] *** Joins: cdown (~cdown@163.114.131.1)
[15:37:00] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d)
[15:37:57] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 256 seconds)
[15:39:23] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7) (Quit: enoq)
[15:42:13] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d) (Ping timeout: 240 seconds)
[15:44:33] *** Joins: n4dir (~user@i5E86C589.versanet.de)
[15:53:36] *** Joins: keypusher (~keypusher@user/keypusher)
[15:53:49] *** Quits: shad (~shad@user/shad) (Ping timeout: 256 seconds)
[15:56:57] *** Joins: keypushe- (keypusher@user/keypusher)
[15:57:57] *** Quits: keypusher (~keypusher@user/keypusher) (Ping timeout: 256 seconds)
[15:58:14] <Masklin_Gurder> Could someone remind me what the better way of "nohup myscript.scr &" was?
[15:59:11] <colo> start it in screen? use disown after backgrounding?
[15:59:22] <colo> run it in an ephemeral systemd service unit?
[15:59:29] *** Quits: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Ping timeout: 256 seconds)
[15:59:44] <colo> many options. many possible interpretations of 'better' :)
[15:59:57] <earnestly> !nohup
[15:59:58] <greybot> nohup is a hacky wrapper that will execute a process while redirecting its output and preventing SIGHUP from reaching it (some implementations ignore additional signals). In bash, you probably want disown instead: ''command ... & disown''. Alternately, run your commands inside screen or tmux.
[15:59:59] <Masklin_Gurder> colo: Okay, what's the simplest of these 'better' ones?
[16:00:11] *** keypushe- is now known as keypusher
[16:00:17] <Masklin_Gurder> Okay disown seems nice
[16:00:23] <Masklin_Gurder> I'll try that, thanks to both of you!
[16:00:31] *** Joins: Atque (~Atque@user/atque)
[16:00:40] <colo> they are all simple. it really depends on what you want to achieve.
[16:01:00] *** Quits: fatal (~0x00@user/fatal) (Quit: fatal)
[16:01:04] <Masklin_Gurder> The purpose is for me to be able to log out of the ssh session without the process dying
[16:01:09] <Masklin_Gurder> That's it, really
[16:01:41] <earnestly> Often tmux and co. is used for this because it's useful to resume a session
[16:01:43] <jelly> Masklin_Gurder, screen -dmS myscript myscript.scr
[16:01:51] <colo> then disown should work, unless your system uses a service manager that kills user/session processes after logout (certain systemd setups are configured that way)
[16:02:06] <earnestly> I just start a tmux session when logging in and use things as normal
[16:02:15] *** Joins: mongy (~mongy@user/mongy)
[16:02:17] <jelly> running inside screen or tmux is only so slightly "better" than nohup and disown
[16:02:34] <Masklin_Gurder> I'd prefer to not have to install new packages for this
[16:02:48] <Masklin_Gurder> Disown should be enough, with the disclaimer that colo mentioned?
[16:02:51] <earnestly> Yeah if it doesn't matter, then it doesn't matter
[16:03:00] <jelly> try it and see
[16:03:08] <Masklin_Gurder> Good idea
[16:03:10] <earnestly> Masklin_Gurder: You can always read the bash manual about disown and what it does
[16:03:18] *** Joins: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[16:05:57] *** Quits: nunggu (~q@gateway/tor-sasl/nunggu) (Ping timeout: 276 seconds)
[16:06:39] *** Joins: nunggu (~q@gateway/tor-sasl/nunggu)
[16:06:39] *** Quits: noarb (~noarb@user/noarb) (Read error: Connection reset by peer)
[16:08:06] <jelly> # screen -dmS sleep-5 sleep 5; screen -ls
[16:08:07] <shbot> jelly: bash: screen: command not found
[16:08:08] <shbot> jelly: bash: screen: command not found
[16:08:10] *** Joins: fatal (~0x00@user/fatal)
[16:09:50] *** Joins: noarb (~noarb@user/noarb)
[16:09:56] *** Joins: mowcat (~mowcat@host86-129-162-211.range86-129.btcentralplus.com)
[16:11:02] *** Joins: iomari891 (~iomari891@197.210.71.84)
[16:11:51] *** Joins: raz (~raz@2604:180:1::6193:c4c7)
[16:11:52] *** Quits: raz (~raz@2604:180:1::6193:c4c7) (Changing host)
[16:11:52] *** Joins: raz (~raz@user/raz)
[16:13:09] <furrymcgee> yes replace systemd with screen
[16:13:53] <tarzeau> screen+cron (@reboot)
[16:17:49] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[16:19:59] <jelly> who needs service monitoring and restarts
[16:20:37] *** Quits: Mo (~Mo@dynamic-095-116-066-250.95.116.pool.telefonica.de) (Ping timeout: 256 seconds)
[16:25:27] *** Quits: fatal (~0x00@user/fatal) (Ping timeout: 276 seconds)
[16:26:04] *** Joins: john_johnk (~Thunderbi@1.59.140.77.rev.sfr.net)
[16:26:08] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[16:26:12] *** Joins: fatal (~0x00@user/fatal)
[16:30:57] *** Quits: bluedust_ (~bluedust@185.248.85.41) (Remote host closed the connection)
[16:31:59] <Masklin_Gurder> How do you send a Ctrl+C signal to a background process?
[16:32:40] <geirha> foreground it, then hit ctrl+c
[16:33:10] <selckin> can probably send it with kill, though not sure what number it would be
[16:33:48] <anddam> I want to monitor a certain process using procps-ng, akin to top command with filter on COMMAND. I tried     watch -c ps -F $(pgrep gnome-keyring-d)     but that executes the command substitution only once, when I call watch
[16:33:49] <geirha> would have to find the process group
[16:34:07] <Masklin_Gurder> geirha: It's in the background by "& disown"
[16:34:13] <Masklin_Gurder> Can I still foreground it like fg PID ?
[16:34:17] *** Joins: MDingas (~MDingas@static.155.53.55.162.clients.your-server.de)
[16:34:25] <anddam> how can I run the pgrep at each watch loop?
[16:34:26] <geirha> anddam: watch -c 'ps -F $(...)'
[16:34:27] <davu> fg doesn't work then?
[16:34:37] <davu> @Masklin_Gurder, ^^
[16:34:44] <geirha> also, you might want to look at ps' -C option
[16:34:46] <Masklin_Gurder> davu "-bash: fg: current: no such job"
[16:34:57] <davu> hm, k
[16:35:05] <anddam> geirha: oh, as usual the solution is moar quoting
[16:35:24] <Soliton> shouldn't have disowned your child if you still want to talk to it.
[16:35:26] <geirha> ... or ditching pgrep
[16:35:38] *** Joins: goldfish (~goldfish@user/goldfish)
[16:35:42] <Masklin_Gurder> Soliton: So there's no way to get it back to fg?
[16:36:05] <Soliton> no, you banned it from your family.
[16:36:09] <davu> Isn't there a screen session then?
[16:36:28] <colo> Masklin_Gurder: maybe check out reptyr
[16:36:29] <geirha> first you orphan it, and now you want to kill it?
[16:36:39] <geirha> such heartless
[16:36:46] <Soliton> just kill it by PID unless you specifically need ^C.
[16:36:54] <Masklin_Gurder> I specifically need ^C!
[16:37:17] <Soliton> find the process group and kill that then.
[16:37:35] <Masklin_Gurder> There is no group, there is only this script
[16:37:36] *** Quits: MDingas (~MDingas@static.155.53.55.162.clients.your-server.de) (Client Quit)
[16:37:47] <chiselfuse> find it in htop then
[16:38:03] <chiselfuse> and send the kill signal, it's the same as ^V
[16:38:05] <Masklin_Gurder> I have the PID of the parent script
[16:38:07] <chiselfuse> ^C
[16:38:11] <Masklin_Gurder> Is it? Are you sure?
[16:38:13] <Soliton> ^C sends SIGINT to the process group, so...
[16:38:42] <chiselfuse> yea the tty translates ^C to SIGINT when sending it to the process, thats how it works afaik
[16:38:46] <Soliton> ''ps j'' may help.
[16:38:47] <Masklin_Gurder> Seems kill 2 will send a sigint
[16:39:13] <Masklin_Gurder> I'll just try that
[16:39:14] *** Joins: janko (~gian@219-75-166-64f1.kyt1.eonet.ne.jp)
[16:39:15] <geirha> yes, but sending SIGINT to one process is not the same as sending it to the process group, like the terminal does
[16:39:41] <chiselfuse> or you could just swap with another one you like more than your child
[16:39:45] <davu> Just found that in regard of disown and its handling: https://phoenixnap.com/kb/disown-command-linux
[16:40:35] <janko> So I am exporting variables using "declare -p foo > myfile" and then "source myfile" but the latter is inside a function which makes all the vars local. HOw can I make them global?
[16:40:59] <geirha> janko: move the source command outside a function
[16:41:00] <Soliton> use declare -g some way.
[16:41:24] *** Joins: aakashi2001 (~aakashi20@103.61.255.0)
[16:41:25] *** Quits: aakashi2001 (~aakashi20@103.61.255.0) (Changing host)
[16:41:25] *** Joins: aakashi2001 (~aakashi20@user/aakashi2001)
[16:41:43] <Masklin_Gurder> geirha: Even if I'm sending a sigint to the parent process?
[16:42:06] <janko> Soliton "declare -pg did not work" :(
[16:42:08] <Soliton> there is no signal propagation if that's the question.
[16:42:25] <geirha> Masklin_Gurder: yes, it's not the same. If that parent process is bash, it will ignore SIGINT unless its currently running child process also dies from SIGINT
[16:42:36] <Masklin_Gurder> Soliton: Alright then how about kill -2 PID PID PID, if there are three processes in total?
[16:42:42] <janko> geirha it would ruin the structure of my script so I would like to avoid that if possible
[16:42:51] <geirha> Masklin_Gurder: might work
[16:43:01] <Masklin_Gurder> Might? :/
[16:43:07] <Soliton> Masklin_Gurder: you said you need ^C. i have no clue what you're doing.
[16:43:26] <geirha> depends on the script, if it's running something in a loop, those pids may be outdated by the time you send them the signal
[16:43:32] <chiselfuse> why don't you tell us what these trhee processes are?
[16:43:32] <Masklin_Gurder> Soliton: I've disowned a process that I specifically need to terminate with ^C, and am not sure how to do it.
[16:43:37] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[16:43:43] <Masklin_Gurder> geirha: I understand
[16:44:36] <chiselfuse> Masklin_Gurder: i think you can highlight multiple processes in htop and send kill to them all though
[16:44:37] <geirha> janko: one option is to not use declare -p, but that means you have to know what type of variable it is. If it's a string you can do   printf 'foo=%q\n' "$foo" > myfile
[16:44:50] <Masklin_Gurder> chiselfuse: I don't have htop
[16:44:51] *** Joins: cm315 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[16:44:52] <geirha> and an array would obviously require some more work
[16:45:12] <chiselfuse> Masklin_Gurder: can't you install it real quick?
[16:45:14] <Soliton> find the process group with ''ps j'' and then do kill -s INT -<insert process group>
[16:46:02] <janko> I was using using "echo foo > myfile" "read -r foo < myfile" in the first place, and it was working fine but adding more vars made it annoying
[16:46:08] <Masklin_Gurder> I tried kill -2 pid1 pid2 before reading that Soliton, sorry
[16:46:10] <Masklin_Gurder> And it worked fine \o/
[16:46:19] *** Joins: bluedust (~bluedust@103.161.144.94)
[16:46:52] <geirha> janko: that's another possibility, sure. You can separate the values with NUL bytes
[16:47:27] <geirha> printf '%s\0' "$foo" "$bar" > myfile  ##   { read -rd '' foo ; read -rd '' bar ; } < myfile
[16:47:49] *** Quits: Csm319_ (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 256 seconds)
[16:47:57] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 240 seconds)
[16:49:40] <Masklin_Gurder> Thanks everyone for your support, have a merry weekend! \o
[16:50:01] <chiselfuse> yw
[16:50:04] <janko> geirha but after a 4 or 5 vars it gets annoying to handle?
[16:51:13] *** Quits: cm315 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 256 seconds)
[16:51:23] <janko> are there any other good ways to save/export variables?
[16:51:38] <geirha> possibly ... you can add names too.  printf '%s=%s\0' foo "$foo" bar "$bar"   ##  declare -gA data=() ; while IFS='=' read -rd '' key value ; do [[ $key ]] && data[$key]=$value ; done < myfile
[16:52:10] <geirha> printf 'foo is %s\n' "${data[foo]}"  etc...
[16:54:42] <janko> I tried to write a function that would do something like this but then it would require eval, and reading the wiki article on eval made me think maybe I am not being practical?
[16:54:50] *** Joins: shad (~shad@user/shad)
[16:55:12] <geirha> it doesn't require eval
[16:55:38] *** Joins: omegatron (~some@p5484973e.dip0.t-ipconnect.de)
[16:56:11] <Soliton> are you saving state for a later run or why do you need to save that many variables?
[16:56:22] <janko> Soliton exactly
[16:56:37] *** Joins: Kruppt (~Kruppt@50.111.29.57)
[16:56:52] <Soliton> and who forces you to source in a function?
[16:58:00] <janko> me not being pragmatical enough
[16:58:24] <janko> I just had the structure abstracted via functions and wanted to keep it that way
[16:58:35] <janko> but I am starting to think it might not be such a good idea
[16:59:20] *** Quits: MajorBiscuit (~MajorBisc@wlan-145-94-216-150.wlan.tudelft.nl) (Quit: WeeChat 3.3)
[16:59:29] *** Joins: MajorBiscuit (~MajorBisc@wlan-145-94-216-150.wlan.tudelft.nl)
[16:59:47] <geirha> # foo=$' will it blend? $(rm -rf /*) ' bar=whatever; printf '%s=%s\0' foo "$foo" bar "$bar" > myfile ; declare -A data=() ; while IFS='=' read -rd '' key value ; do [[ $key ]] && data[$key]=$value ; done < myfile; declare -p data
[16:59:49] <shbot> geirha: declare -A data=([foo]=" will it blend? \$(rm -rf /*) " [bar]="whatever" )
[17:00:10] <geirha> phew! shbot's filesystem is safe yet
[17:02:03] *** Joins: GuiToris (~GuiToris@user/guitoris)
[17:02:40] <GuiToris> hello, is this the 'and'  (|)?  If I'd like to match mp4 and wav (*.mp4|*.wav)
[17:02:44] <GuiToris> I can't find this info anywhere
[17:03:18] <chiselfuse> just *.mp4 *.wav then
[17:03:35] <chiselfuse> what's the complete command?
[17:03:36] <geirha> with extglob enabled, you can do  *.@(mp4|wav)
[17:03:52] <geirha> !extglob
[17:03:52] <greybot> "Extended globs" (shopt -s extglob) allow you to say things like "all files that do not end in .jpg". See http://mywiki.wooledge.org/glob#extglob
[17:03:55] *** Quits: arooni (~arooni@li1062-244.members.linode.com) (Ping timeout: 250 seconds)
[17:04:16] <janko> geirha turning that back into variables is what I had trouble with
[17:04:32] <GuiToris> chiselfuse, rsync -a remote:/path/  local
[17:04:42] <geirha> janko: well, now you know how
[17:04:52] <GuiToris> the path is kind of long that's why I'd shorten
[17:05:08] <geirha> for the remote there you can't use extglob
[17:05:16] <janko> you still have an associative array right?
[17:05:18] <GuiToris> ohh :(
[17:05:31] <geirha> unless you somehow make sure the remote shell you inject the path into is bash and has extglob enabled
[17:05:45] <GuiToris> got it. I'll use the path twice
[17:05:47] <chiselfuse> rsync must have ways to match no?
[17:05:55] <geirha> janko: yes, but you can make that associative array global
[17:06:05] <janko> The rest of my scripts uses "$foo" and "$bar", so I was trying to "unpack" the array into vars
[17:06:19] <janko> but maybe it would be better to change the rest of the script to call the array?
[17:06:30] <geirha> foo=${data[foo]}
[17:06:30] *** burrows_ is now known as burrows
[17:06:31] *** Quits: john_johnk (~Thunderbi@1.59.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[17:06:54] <geirha> might as well put all the state variables in a "state" array
[17:07:24] <geirha> then you implicitly know it will be part of the data that will be saved and restored
[17:08:33] <geirha> of course, as long as none of those variables are arrays themselves. bash does not support arrays in arrays, so it'll only work for strings
[17:11:05] *** Quits: troyt (troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e) (Quit: AAAGH!  IT BURNS!)
[17:13:44] <janko> However since I have multiple vars I tried to automate the foo=${data[foo]} bit
[17:13:57] <janko> and I ended up needing to use eval
[17:14:45] <janko> Is this sort of task just better suited for other programming languages?
[17:16:00] *** Joins: gaude (~gaude@29-39-142-46.pool.kielnet.net)
[17:18:48] *** Joins: arooni (~arooni@li1062-244.members.linode.com)
[17:18:49] *** Quits: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Ping timeout: 256 seconds)
[17:18:49] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:20:08] *** Joins: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[17:20:41] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 256 seconds)
[17:23:37] *** Joins: l4yer (~l4yer@178.239.168.223)
[17:24:24] *** bakerst_ is now known as bakerst
[17:25:47] *** Quits: GuiToris (~GuiToris@user/guitoris) (Ping timeout: 256 seconds)
[17:27:06] *** Joins: bluedust_ (~bluedust@86.106.136.217)
[17:27:06] *** Joins: overrider (~overrider@user/overrider)
[17:28:27] *** Quits: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au) (Ping timeout: 256 seconds)
[17:29:03] *** Karyon_ is now known as Karyon
[17:30:48] *** Quits: bluedust (~bluedust@103.161.144.94) (Ping timeout: 250 seconds)
[17:31:03] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[17:31:11] *** Quits: janko (~gian@219-75-166-64f1.kyt1.eonet.ne.jp) (Quit: WeeChat 2.8)
[17:31:42] *** Quits: lorimer (~lorimer@user/lorimer) (Quit: NAE TROOSERS)
[17:34:17] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 256 seconds)
[17:34:24] *** Joins: yustin (~yustin@user/yustin)
[17:41:55] *** Joins: jsbach (~jsbach@2a01:c22:b0ac:9600:1cd7:52ec:6b1a:4d40)
[17:42:34] <jsbach> hi! why would a read -d '' TEST <<EOF
[17:42:39] <jsbach> one
[17:42:42] <jsbach> two
[17:42:43] <jsbach> three
[17:42:46] *** Joins: earnestly (~earnest@user/earnestly)
[17:42:48] <jsbach> EOF
[17:43:13] <jsbach> ends up with "one two three" if i  print out the TEST var
[17:43:14] <jsbach> ?
[17:43:40] <jsbach> why would the linebreaks get ignored by bash?
[17:43:41] <phy1729> !qefs
[17:43:41] <greybot> "$Quote" "$Every" "$Fucking" "$Substitution"
[17:43:51] <phy1729> when you print
[17:44:44] <jsbach> ha! thanx!
[17:44:59] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7) (Quit: enoq)
[17:45:11] <Soliton> !caps
[17:45:11] <greybot> By convention, environment variables (PATH, EDITOR, SHELL, ...) and internal shell variables (BASH_VERSION, RANDOM, ...) are fully capitalized. All other variable names should be lowercase. Since variable names are case-sensitive, this convention avoids accidentally overriding environmental and internal variables. https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap08.html
[17:45:36] <jsbach> Soliton, thnx
[17:46:17] <Soliton> maybe you rather want an array instead of a multiline string.
[17:47:13] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:47:56] *** Quits: wikan (~weechat@2a02:a31d:8541:e100:213:2ff:fed3:8291) (Quit: WeeChat 3.0)
[17:48:34] *** Quits: bobo (~bobo@irc.webirc.eu) (Quit: you know me call me)
[17:51:36] *** Quits: MajorBiscuit (~MajorBisc@wlan-145-94-216-150.wlan.tudelft.nl) (Ping timeout: 250 seconds)
[17:52:42] *** Quits: uuidNuni1 (~weechat@146.56.136.247) (Remote host closed the connection)
[17:52:43] *** Joins: lorimer (~lorimer@user/lorimer)
[17:52:57] *** Joins: uuidNuni1 (~weechat@146.56.136.247)
[17:54:30] *** Quits: fatal (~0x00@user/fatal) (Ping timeout: 276 seconds)
[17:55:39] *** Quits: uuidNuni1 (~weechat@146.56.136.247) (Remote host closed the connection)
[17:55:57] *** Joins: uuidNuni1 (~weechat@146.56.136.247)
[17:55:58] *** Joins: fatal (~0x00@user/fatal)
[17:59:17] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[18:01:59] *** Quits: uuidNuni1 (~weechat@146.56.136.247) (Remote host closed the connection)
[18:02:14] *** Joins: uuidNuni1 (~weechat@146.56.136.247)
[18:02:48] *** Joins: MajorBiscuit (~MajorBisc@wlan-145-94-216-150.wlan.tudelft.nl)
[18:02:55] *** Quits: uuidNuni1 (~weechat@146.56.136.247) (Remote host closed the connection)
[18:03:11] *** Joins: uuidNuni1 (~weechat@146.56.136.247)
[18:06:46] *** Quits: uuidNuni1 (~weechat@146.56.136.247) (Client Quit)
[18:07:00] *** Joins: uuidNuni1 (~weechat@146.56.136.247)
[18:07:26] *** Quits: uuidNuniq (~weechat@193.123.227.17) (Quit: WeeChat 3.4)
[18:07:51] *** Joins: uuidNuniq (~weechat@193.123.227.17)
[18:10:04] <jsbach> wondering why the the 'read -r -d '' <<EOF doesn't work if the script initializes with 'set -e'
[18:10:14] *** Quits: iomari891 (~iomari891@197.210.71.84) (Ping timeout: 250 seconds)
[18:11:18] *** Joins: macodra (~quassel@213.240.145.181)
[18:11:19] *** Quits: macodra (~quassel@213.240.145.181) (Changing host)
[18:11:19] *** Joins: macodra (~quassel@user/macodra)
[18:11:37] *** Quits: malina (~malina@user/malina) (Remote host closed the connection)
[18:11:43] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[18:11:54] <tirnanog> probably because you never give it a NUL byte to succesfully read up to.
[18:12:43] *** Quits: csmiga (~Thunderbi@ec2-52-207-160-196.compute-1.amazonaws.com) (Remote host closed the connection)
[18:13:05] <phy1729> !-e
[18:13:05] <greybot> "set -e" is an inheritance of the old bourne shell, and doesn't really work well with modern shell features. You'll really have less buggy scripts if you do the error handling manually instead of relying on the unreliable "set -e"; see http://mywiki.wooledge.org/BashFAQ/105
[18:15:53] *** Joins: emad (~emad@102.42.146.250)
[18:15:54] *** Quits: aakashi2001 (~aakashi20@user/aakashi2001) (Read error: Connection reset by peer)
[18:15:56] <jsbach> thanx phy1729
[18:16:03] <jsbach> -e      Exit immediately if a pipeline (which may consist of a single simple command), a list, or a compound command (see SHELL GRAMMAR above), exits with a non-zero status.
[18:16:12] *** Quits: macodra (~quassel@user/macodra) (Client Quit)
[18:16:14] <uuidNuni1> jsbach: do not set -e ; other wise, if var is empty , then this "[[ $var ]]" will just exit your whole script
[18:17:44] *** Joins: martinus__ (~martin@127.59.202.77.rev.sfr.net)
[18:17:49] <jsbach> uuidNuni1, the script i am working is already set. And it is an CI script. cannot change it. but i'll use the other syntax like TEST=(cat <<EOF some text EOF) ..
[18:18:31] <jsbach> i can change it but it is not wished. put it that way, political correctness here
[18:19:04] <phy1729> You can set +e :p
[18:19:28] <uuidNuni1> phy1729: then you source the script it is set back to -e
[18:19:35] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.4)
[18:19:45] <jsbach> interesting that the command read -r -'d' TEST <<EOF some text EOF delivers a non-zero value.
[18:20:20] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[18:20:25] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[18:20:43] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[18:20:54] <jsbach> phy1729, for only that section likewise set +e ; my_code; set -e;   ?
[18:20:55] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[18:20:57] <uuidNuni1> EOF only expands $var $()
[18:21:06] <phy1729> I mean I'd just do it at the top of the script
[18:21:12] <jsbach> ah
[18:21:14] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[18:21:15] *** Joins: csmiga (~Thunderbi@ec2-52-207-160-196.compute-1.amazonaws.com)
[18:21:15] <jsbach> ok
[18:21:17] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Read error: Connection reset by peer)
[18:21:23] <phy1729> If you want to exempt a particular command || : is common, but -e is dumb
[18:21:35] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[18:21:39] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[18:21:55] *** Joins: sn1tch3r (~sn1tch3r@user/sn1tch3r)
[18:21:58] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[18:22:00] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[18:22:40] <uuidNuni1> # echo 'set -e' >> test.sh ; set +e ; source test.sh ; [[ $ZSH ]] ; echo ; echo $?
[18:22:42] <shbot> uuidNuni1: (shell exited with 1)
[18:22:48] *** Quits: sn1tch3r (~sn1tch3r@user/sn1tch3r) (Remote host closed the connection)
[18:22:50] <uuidNuni1> see...
[18:23:07] <uuidNuni1> your set +e does not work
[18:24:18] <phy1729> You misuderstood how it was to be applied. You do that first thing in the script that's already running with -e
[18:24:52] <uuidNuni1> he said he can not change the script ...
[18:25:21] <jsbach> uuidNuni1, not wished.
[18:25:24] <uuidNuni1> you mean?
[18:25:52] <phy1729> means his coworkers have not yet seen the light and need to come to #bash for education :p
[18:26:22] <uuidNuni1> jsbach:  use sed to remove the set -e before sourcing the script
[18:26:34] <jsbach> uuidNuni1, only the part which has to be changed should be changed. the +e would affect the whole behaviour. (at least i need to figure out than what the difference is)
[18:27:00] <uuidNuni1> +e removes the -e
[18:27:07] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[18:27:09] <jsbach> phy1729, lol
[18:27:19] <jsbach> uuidNuni1, i see thanx
[18:27:43] *** Joins: sublim20 (~sublim20@user/sublim20)
[18:28:22] <uuidNuni1> # help set | grep -F +
[18:28:24] <shbot> uuidNuni1:     Using + rather than - causes these flags to be turned off.  The
[18:28:42] <jsbach> ah!
[18:29:06] <jsbach> which flasg
[18:29:09] <jsbach> flags
[18:29:14] <uuidNuni1>  errexit
[18:29:38] <jsbach> ok, then it is just basically the quit behaviour
[18:29:48] <jsbach> quit on error or not
[18:29:53] <uuidNuni1> set -o errexit     //  same as -e
[18:30:02] <jsbach> o i see
[18:32:44] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[18:33:22] *** Joins: p-i- (Ohmu@gateway/vpn/protonvpn/ohmu)
[18:33:32] <ormaaj> what are the side-effects of `bash -s`? Like in the !nameref example I used -s probably in order to use the /dev/fd redirect instead of directly but then I found it had some dumb issues. Can't remember what they were.
[18:34:22] *** Quits: karakedi (~eAC53C340@user/karakedi) (Remote host closed the connection)
[18:34:49] <uuidNuni1> ormaaj: -s //commands are read from the standard input
[18:35:41] <uuidNuni1> so, take care of the expanion
[18:35:48] <uuidNuni1> expansion
[18:36:57] *** Joins: karakedi (~eAC53C340@user/karakedi)
[18:37:21] <ormaaj> # { bash -s a b c; } <<<'echo "$@" "$0" "${BASH_SOURCE[@]}"'
[18:37:23] <shbot> ormaaj: a b c bash
[18:37:53] <ormaaj> think I didn't like that
[18:38:34] *** Joins: kj (~kj@shadow.cloud-ready.com)
[18:38:51] *** Joins: bobo (~bobo@irc.webirc.eu)
[18:39:02] *** Quits: Gerula (~Gerula@user/gerula) (Remote host closed the connection)
[18:39:09] <jsbach> what does exactly read returns? In the man page that i found, it says read returns the number of bytes it has read. the man page of read is the from C-Api. Tested it, my $? says it is 1.
[18:39:16] *** Quits: fivegruel (~fivegruel@HSI-KBW-109-192-195-167.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 250 seconds)
[18:39:24] <ormaaj> # { bash /dev/fd/0 -s a b c; } <<<'echo "$@" "$0" "${BASH_SOURCE[@]}"'
[18:39:26] <shbot> ormaaj: -s a b c /dev/fd/0 /dev/fd/0
[18:40:01] *** Quits: dsrt^ (~dsrt@wsip-98-188-242-61.mc.at.cox.net) (Remote host closed the connection)
[18:41:41] <ormaaj> jsbach: returns the status depending on whether it hit EOF before reading delimiter.
[18:44:55] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:749d:daa8:d51c:47ce)
[18:44:55] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:749d:daa8:d51c:47ce) (Changing host)
[18:44:55] *** Joins: skapata (~Skapata@user/skapata)
[18:47:15] <jsbach> and if i set to delim to null as -d '' ?
[18:47:38] <ormaaj> no difference
[18:47:56] *** Quits: mithrin (~mithrin@stip-static-62.213-81-207.telecom.sk) (Ping timeout: 250 seconds)
[18:49:40] <phy1729> jsbach: think of it with the normal newline delimiter. You do while IFS= read -r line; do ...; done <file    so each time read hits a newline it assigns the line to line and returns 0. If it reads without hitting a newline it still assigns what it's read so far and returns non-0. Same thing here just with NUL not newline
[18:50:32] <jsbach> phy1729, okay thanx.
[18:50:32] <phy1729> The man page you found was probably for the syscall (so for C). read has to be a builtin command, so it's part of the shell and documented in man bash
[18:51:12] *** Joins: mithrin (~mithrin@stip-static-62.213-81-207.telecom.sk)
[18:52:08] <ormaaj> The delimiter is misnamed. It is a terminator. That's why "text" files end with \n
[18:53:49] <jsbach> phy1729, good point i'll do man bash
[18:55:46] <jsbach> ok the other way around, i'd get it to work with set -e if i would define my own delimeter. It'd hit it and return 0, causing the script NOT to fail
[18:55:59] <jsbach> it is not a fail, just a correct rv
[18:56:03] <jsbach> return value
[18:56:06] <jsbach> correction
[18:56:35] <phy1729> Or just read -r -d '' foo <<EOF || :
[18:56:42] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[18:57:16] <ormaaj> lol
[18:58:09] <jsbach> ormaaj, what's that so funny
[18:58:34] <ormaaj> set -e
[18:58:46] <jsbach> ah. we had that
[18:58:52] <phy1729> and the stupid hacks like || : it requires
[18:59:16] <jsbach> phy1729, lol yeah, no clue what that does.
[18:59:26] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 252 seconds)
[18:59:36] <tirnanog> jsbach: it's a defined consequence of the line-ending delimiter never being encountered. the "return code is zero, unless end-of-file is encountered". eof is, indeed, encountered.
[19:00:02] <jsbach> tirnanog, woho! thanx!
[19:00:23] *** Quits: gaude (~gaude@29-39-142-46.pool.kielnet.net) (Quit: Client closed)
[19:01:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[19:01:33] <tirnanog> # printf foo | { read -rd .; echo $?; }
[19:01:34] <shbot> tirnanog: 1
[19:01:37] <tirnanog> # printf foo. | { read -rd .; echo $?; }
[19:01:38] <shbot> tirnanog: 0
[19:02:06] <tirnanog> you told it read up to a nul byte but there isn't one.
[19:04:04] *** Joins: sabry (~sabry@197.37.4.159)
[19:04:13] <Soliton> if the command is in a && or || list (and a bunch more exceptions) then set -e does nothing.
[19:04:19] *** Joins: thnee (~thnee@h-85-24-144-199.A328.priv.bahnhof.se)
[19:04:19] *** Joins: richardm75 (~richardm7@2600:8801:c507:b200:b546:6258:5e60:3d00)
[19:04:41] <Soliton> if you want to use set -e you really should know all those exceptions.
[19:05:15] *** Joins: zoe (~zoe@fsf/member/zoe)
[19:05:38] <Soliton> but i guess it's more fun to simply believe it will just magically do what the author intended.
[19:06:46] <ormaaj> how do you capture the false status?
[19:07:22] <Soliton> how do you keep the exit status intect?  && :
[19:07:48] <Soliton> intact*
[19:08:13] <ormaaj> read || x=$?; but that has a side effect of resetting $?
[19:08:45] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 256 seconds)
[19:09:04] <Soliton> # set -e; (exit 42) && :; echo $?
[19:09:05] <shbot> Soliton: 42
[19:09:59] <ormaaj> ah
[19:10:34] *** Joins: MDingas (~MDingas@static.155.53.55.162.clients.your-server.de)
[19:11:00] *** Quits: MDingas (~MDingas@static.155.53.55.162.clients.your-server.de) (Client Quit)
[19:12:03] *** Joins: iconoclasthero (~quassel@pool-100-14-231-162.phlapa.fios.verizon.net)
[19:13:47] <ormaaj> so to capture it in a variable AND not tamper with $? it's `read || ((x=$?)) && :` ...
[19:14:00] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d)
[19:14:41] <ormaaj> sort of
[19:15:12] <ormaaj> maintains 0 or 1 state anyway.
[19:15:47] <phy1729> Can't you just use the comma operator
[19:16:03] <phy1729> read || (( x=$?, x ))
[19:16:29] <ormaaj> the statua of (()) is always 0 or 1
[19:16:33] <phy1729> bah
[19:17:26] <Soliton> in arithmetic context true is != 0 though.
[19:17:42] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 276 seconds)
[19:18:13] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d) (Ping timeout: 240 seconds)
[19:18:30] <quas[m]> if I you wanted to filter the output of a command by a string, what would be the better way to do it?... (full message at https://libera.ems.host/_matrix/media/r0/download/libera.chat/135ec0714592abd0686f424b6e064776003c9414)
[19:18:43] <ormaaj> phy1729: you're getting too cozy with python.
[19:18:45] <quas[m]>  * if you wanted to filter the output of a command by a string, what would be the better way to do it?... (full message at https://libera.ems.host/_matrix/media/r0/download/libera.chat/919edb852f844983af840fff514c1136054ed0e1)
[19:18:51] *** Joins: mat001 (~mat001@69.4.234.111)
[19:19:08] <quas[m]> (this is a matrix channel, right? it supports multiline and all that, I hope?)
[19:19:10] <earnestly> That 's very annoying if matrix reposts the entire message
[19:19:17] <Soliton> no filtering happening there.
[19:19:19] <quas[m]> ah, crap
[19:19:20] <quas[m]> sorry for that
[19:19:27] <quas[m]> I can never tell the difference between native matrix and bridge
[19:19:42] <quas[m]> Element is awful in this respect. But I also haven't taken the time to better understand it.
[19:19:43] <earnestly> quas[m]: As Soliton notes though, there's no filtering here
[19:20:03] <earnestly> You're just comparing against a variable using either regex or globs
[19:20:14] <Soliton> if you want to check if a variable contains some string then that looks fine.
[19:20:14] <quas[m]> yes, indeed, it's just matching.
[19:20:17] *** Quits: ponyofde1 (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053) (Quit: WeeChat 3.3)
[19:20:34] <Soliton> the latter that is.
[19:20:35] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Quit: .)
[19:20:52] <ormaaj> quas: spoiler: it's awful.
[19:20:56] <earnestly> Well, meh.  I suppose question is if the regex is equivalent to the glob
[19:21:45] *** Joins: kdc (~kdc@196.211.197.178)
[19:21:45] <Soliton> there's not real need to bring regex into the picture but sure you can if you want to.
[19:22:28] <e36freak> regex should be slower there
[19:22:43] <earnestly> I think they are equivalent, can't think of a case where it wouldn't be.  The main thing is that 'string' is plain text and not a variable, if it is, you'll have to quote as otherwise the expansion can be interpreted
[19:22:54] <e36freak> and you have the side effect of BASH_REMATCH getting set
[19:22:57] <quas[m]> so, what would be an elegant way if both are awful?
[19:23:02] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[19:23:15] <e36freak> [[ $var = *"$foo"* ]] is fine
[19:23:17] <Soliton> why are both awful?
[19:23:26] <earnestly> Soliton: Because ormaaj said so
[19:23:28] <earnestly> lol
[19:23:37] *** Quits: mat001 (~mat001@69.4.234.111) (Ping timeout: 240 seconds)
[19:23:50] <ormaaj> quas: element awful. regex good.
[19:23:50] *** Quits: topoi (~topoi@user/topoi) (Quit: leaving)
[19:23:51] <Soliton> i doubt he was talking about that.
[19:24:07] <earnestly> (imo, I don't like answering these narrowly focused questions because my suspicion is that needing an $out and using it in an if statement is already wrong, probably)
[19:24:39] <quas[m]> so e36freak and solution say the glob is fine, right?
[19:25:28] <earnestly> They're both fine, glob is just simpler
[19:25:50] <quas[m]> earnestly: I understand your point of view. If you want to check if an application works, but the app just outputs something regarding its activity (off/on, let's say). So I need to match that from its output.
[19:25:51] *** Joins: ponyofdeath (~vladi@cpe-70-95-150-132.san.res.rr.com)
[19:26:07] *** Joins: john_johnk (~Thunderbi@1.59.140.77.rev.sfr.net)
[19:27:39] <earnestly> quas[m]: I'm a bit odd, as I view the need to capture command output in variables, and using variables in general to be a sign that things have gone wonky.  I have focus on trying to not use the shell as I would a programming language
[19:27:47] <ormaaj> earnestly: regex is compiled. patterns are interpreted. implementation is generally slower (in bash). i don't really worry about that usually. i use =~ if I need its features mostly.
[19:28:23] <earnestly> ormaaj: I assume bash just uses what libc provides, I wonder what the difference is
[19:29:02] <ormaaj> bash doesn't use libc's glob implementation.
[19:29:06] <earnestly> glob(3) or regcom(3)
[19:29:10] <earnestly> Oh really, hm
[19:29:58] <earnestly> That's odd, is this compile-time changable?
[19:30:11] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[19:30:16] <earnestly> Or is it due to the need for extglob?
[19:31:33] <earnestly> Yeah appears to be so, well then
[19:31:34] <ormaaj> I think libc doesn't have every feature. Bash has to do some weird contortions for things like supporting the non-greedy % / # expansions
[19:32:10] <earnestly> The glob.c stuff appears to handle extglob, so I assume it's for that reason as well as those you mention
[19:32:14] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[19:32:20] *** Joins: mknod (~mknod@user/mknod)
[19:32:54] <tirnanog> -DUSE_POSIX_GLOB_LIBRARY, if you want to try it.
[19:33:30] <ormaaj> it does but ofc that's linux only and also may have some limitations
[19:33:33] <earnestly> tirnanog: Seems to be only be used in pathexp.c
[19:34:18] <tirnanog> yes. I wonder why it even bothers.
[19:34:21] <ormaaj> e.g. bash must handle /foo/bar/!(x|y|z)
[19:35:23] *** Quits: john_johnk (~Thunderbi@1.59.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[19:35:49] <earnestly> tirnanog: It's strange, perhaps it also disables extglob, idk.  Seems to only cover filename expansions
[19:35:50] <ormaaj> semantics for pattern match vs filename expansions differ and such
[19:36:22] <tirnanog> maybe it's to aid with conformance testing.
[19:36:32] <tirnanog> or was.
[19:37:19] <timm> hello. say n=1 how can i get $1 dynamically? i mean something like ${$n}
[19:37:44] <Soliton> !faq indirect
[19:37:44] <greybot> https://mywiki.wooledge.org/BashFAQ/006 -- How can I use variable variables (indirect variables, pointers, references) or associative arrays?
[19:38:21] <timm> i'll check that out, ty!
[19:38:33] <jsbach> why does sed removes trailing linebreaks?
[19:38:44] <Soliton> it does not.
[19:38:49] <earnestly> timm: Consider using set instead, if you want to set positional parameters
[19:38:49] *** Quits: underport (~underport@2a0c:5a80:1c17:5800:c950:293b:d674:d746) (Ping timeout: 250 seconds)
[19:39:09] <Soliton> perhaps you're talking about command substitutions.
[19:39:42] <timm> i'm just playing around with arguments and loops
[19:39:51] <jsbach> i have a what=$(echo "$TEST" | sed -e "s/some/${SAME}/")
[19:40:02] <koollman> bash removes them, not sed
[19:40:07] <jsbach> ah!
[19:40:17] <Soliton> what=${test/some/"$same"}
[19:40:24] <earnestly> what=${test/some/"$same" ...
[19:40:29] <Soliton> no need for sed injection.
[19:40:30] <earnestly> damnit
[19:41:04] <jsbach> would that work on old bash versions?
[19:41:07] <earnestly> jsbach: (Use lowercase variables, uppercase implies environment)
[19:41:25] *** Quits: kj (~kj@shadow.cloud-ready.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:41:25] <jsbach> earnestly, yes terribly sorry. i am aware of the notation.
[19:41:26] <earnestly> What's the factoid for bash version features?
[19:41:37] <earnestly> !features
[19:41:37] <greybot> "What bash version added feature X?" -- http://mywiki.wooledge.org/BashFAQ/061
[19:41:48] <earnestly> Well that was helpful
[19:42:24] <earnestly> jsbach: Seems like the / and // PEs were always there
[19:42:50] <jsbach> interestingly, it is only the last "\n" . Example read -r -d '' TEST << EOF one two \n three \n EOF
[19:43:01] <jsbach> only the last linebreak gets affected
[19:43:01] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[19:43:16] <jsbach> earnestly, thanx for the bash version hint
[19:43:26] <earnestly> jsbach: $() removes trailing newlines.  You can guard them by injecting a character and then removing it with PE
[19:43:37] <jsbach> ah!
[19:43:54] <jsbach> earnestly, thanx
[19:43:56] <Soliton> this all looks like non-sense.
[19:44:00] *** Quits: BSaboia (~bsaboia@177.37.198.83) (Quit: This computer has gone to sleep)
[19:44:12] *** Quits: tolecnal (tolecnal@login.xiro.net) (Quit: server maintenance)
[19:44:13] <jsbach> Soliton, my question?
[19:44:17] <Soliton> read in a static string then rewrite it...
[19:44:22] *** Joins: BSaboia (~bsaboia@177.37.198.83)
[19:44:45] <earnestly> E.g. foo=$(cmd; printf z); foo=${foo%z}
[19:45:01] <jsbach> Soliton, trying to get a template solution for a changelog problem we have
[19:45:08] <earnestly> But again, storing variables, sign of bad, imo
[19:45:10] <Soliton> !template
[19:45:10] <greybot> http://mywiki.wooledge.org/TemplateFiles
[19:45:51] <earnestly> m4 is decently useful once you boilerplate it a little (to avoid surprises)
[19:46:45] <Soliton> not sure how template and changelog fit together.
[19:47:03] <jsbach> m4? no clue about that
[19:47:05] <earnestly> Generating changelogs
[19:47:06] <ormaaj> earnestly: awesomeness inherited from ksh as usual. ksh has a custom regex compiler with special features that support all the glob mechanics so you can do crazy things like mix and match patterns and regexes of different flavours within a single match.
[19:47:14] <Soliton> you just open a file editor and write what you did?
[19:47:15] <earnestly> ormaaj: Everything good is ksh :(
[19:47:17] <ormaaj> !ormaajsnip2
[19:47:17] <greybot> k# a='aaabbbbccccc'; print -r -- "${a/*([^b])*(b)*([^b])/\2}"
[19:47:18] <shbot> greybot: bbbb
[19:48:12] <earnestly> jsbach: Old command, mostly forgotten, a bit idiosyncratic, handy sometimes
[19:48:59] <ormaaj> m4 i used to use for a few niche things but forgot it all :/
[19:49:59] *** Joins: csm3105 (~csm3105@2a02:2e02:3e4:d00:d0e5:fa85:7af4:c26a)
[19:50:02] *** Joins: Csm319_ (~csm3105@2a02:2e02:3e4:d00:d0e5:fa85:7af4:c26a)
[19:51:03] *** Joins: tolecnal (tolecnal@login.xiro.net)
[19:52:23] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Ping timeout: 256 seconds)
[19:53:28] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[19:54:42] <ormaaj> sadly chet is running out of shit to steal from ksh so now he's inventing things with weird syntax. bash will be zsh / perl soon.
[19:54:52] <earnestly> I have some notes on m4 which I no longer understand
[19:55:17] <jsbach> earnestly, thanx for the hints
[19:55:30] <earnestly> To be fair, the posix manuals for m4 is nice enough
[19:55:45] <earnestly> As usual the concern is always mixed data being interpreted when it shouldn't
[19:55:49] <jsbach> just wondering: why does $() remove trailing newlines? what does it think about as it does that?
[19:56:01] *** Joins: GuiToris (~GuiToris@user/guitoris)
[19:56:22] <wwilliam> how do i move all files that have part of the dir name on the file name? ughhh i dont know if I explain myself right....
[19:56:23] <ormaaj> info m4 is well written
[19:57:03] <earnestly> Too many words
[19:57:10] <earnestly> Same problem with latex package docs
[19:57:30] <earnestly> unix man pages are perfect balance
[19:57:36] <wwilliam> like if dirname 1234 and file name is   some1234file  mv -v -- some1234file to dir 1234
[19:57:43] <earnestly> I take it so much for granted :(
[19:57:59] <jsbach> wwilliam, find . -iname "*dirname*" -exec rm -rf '{}' \;
[19:58:05] <earnestly> jsbach: ?
[19:58:07] <earnestly> lol
[19:58:11] <wwilliam> rm -rf?
[19:58:14] <earnestly> wwilliam: Use PEs to strip out the 1234 part
[19:58:28] <jsbach> oh you want to move
[19:58:30] <jsbach> lol
[19:58:34] <jsbach> wwilliam, mv
[19:58:37] <earnestly> You've been here long enough to know what they are and how to use them
[19:59:15] <jsbach> earnestly, any hints about $() and removing trailing newlines?
[19:59:16] <wwilliam> Yeah parameter expancion
[19:59:24] *** Quits: mowcat (~mowcat@host86-129-162-211.range86-129.btcentralplus.com) (Remote host closed the connection)
[19:59:47] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[19:59:48] <earnestly> jsbach: No, it just is how it works
[19:59:55] <phy1729> jsbach: if you have   echo "foo is $(foo)"  you don't want two newlines
[20:00:11] <earnestly> I assume it's was done for pragmatic reasons such as this ^
[20:00:13] <phy1729> (naturally use printf not echo, but the justification happened in the 80s
[20:00:45] <jsbach> ah ok. thanks
[20:00:47] <earnestly> As $() is used mostly for interpolation
[20:01:00] <phy1729> that people can go years before even noticing it happens indicates it's probably the right tradeoff
[20:01:11] <earnestly> jsbach: In programming languages you have to constant faff about with .strip() and .chomp()
[20:01:17] *** Quits: carl-- (~carl-@185.103.188.130) (Ping timeout: 240 seconds)
[20:01:41] <Soliton> wwilliam: mv *?"$dir"?* "$dir"
[20:02:06] <jsbach> earnestly, yeah right!
[20:02:07] <earnestly> Oh, they don't want to generate the move, they just want to use the name as part of the match
[20:06:18] *** Quits: zoe (~zoe@fsf/member/zoe) (Read error: Connection reset by peer)
[20:06:26] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[20:07:31] *** Joins: zro (~zro@user/zro)
[20:10:41] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[20:13:46] *** Joins: Betal (~Betal@user/betal)
[20:15:23] *** Quits: tobybl (~tobybl@248.195.115.87.dyn.plus.net) (Remote host closed the connection)
[20:15:57] *** Quits: n4dir (~user@i5E86C589.versanet.de) (Remote host closed the connection)
[20:17:47] *** Joins: kj (~kj@shadow.cloud-ready.com)
[20:19:15] *** Joins: underport (~underport@2a0c:5a80:1c17:5800:fbdc:2850:30e0:32ce)
[20:20:29] *** Joins: flea- (flea@gateway/vpn/protonvpn/nosoul)
[20:21:54] *** Joins: sublim20 (~sublim20@user/sublim20)
[20:22:04] *** Quits: moto (~moto@user/moto) (Read error: Connection reset by peer)
[20:22:08] *** Joins: panekadamek (~panekadam@staticline-31-183-180-177.toya.net.pl)
[20:22:20] *** Joins: moto (~moto@user/moto)
[20:27:08] <wwilliam> Why this do not work?
[20:27:09] <wwilliam> for x in *.zip;do      mapfile -t dirs < <(find . -type d -name "2021*");     for y in "${dirs[@]}";do          if grep "$x" "$y";then              echo "$x";         fi;     done; done
[20:27:50] <wwilliam> I get a whole bunch of entries like this:
[20:27:52] <wwilliam> grep: ./20211223110715: Is a directory
[20:28:31] *** Joins: ozoned (~odoood@2601:c8:c000:c4e0::3)
[20:29:43] <twkm> well, -type d.
[20:30:29] *** Joins: A|an (~Alan@173.218.175.171)
[20:30:50] *** Quits: uuidNuni1 (~weechat@146.56.136.247) (Remote host closed the connection)
[20:31:09] *** Joins: uuidNuni1 (~weechat@146.56.136.247)
[20:33:45] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Ping timeout: 276 seconds)
[20:34:17] *** Joins: apos (~apos@gateway/tor-sasl/apos)
[20:34:22] <gnoo> something like this?: zips=(*.zip) ;  dirs=(2021*/) ; for x in "${dirs[@]}" ; [[ -f "$x".zip ]] && printf '%s\n' "$x" ; done
[20:35:22] *** ozoned is now known as odoood
[20:35:25] <gnoo> well, you have to remove the last '/' from x
[20:35:48] *** Quits: MajorBiscuit (~MajorBisc@wlan-145-94-216-150.wlan.tudelft.nl) (Quit: WeeChat 3.3)
[20:36:27] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[20:39:55] <gnoo> maybe you want the opposite, only find zips which is not yet extracted (thus whose directory is not yet created)
[20:41:37] *** Quits: Kruppt (~Kruppt@50.111.29.57) (Quit: Leaving)
[20:42:35] *** Quits: panekadamek (~panekadam@staticline-31-183-180-177.toya.net.pl) (Quit: panekadamek)
[20:43:18] *** Quits: uuidNuni1 (~weechat@146.56.136.247) (Remote host closed the connection)
[20:43:22] *** Joins: mat001 (~mat001@76.sub-174-208-174.myvzw.com)
[20:43:35] *** Joins: uuidNuni1 (~weechat@146.56.136.247)
[20:44:43] *** Quits: gxt (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[20:45:02] *** Joins: gxt (~gxt@gateway/tor-sasl/gxt)
[20:45:15] *** Quits: ezzieyguywuf (~Unknown@user/ezzieyguywuf) (Ping timeout: 256 seconds)
[20:46:20] *** Quits: megamaced (~megamaced@static-90-255-226-34.vodafonexdsl.co.uk) (Quit: megamaced)
[20:46:47] *** Joins: megamaced (~megamaced@static-90-255-226-34.vodafonexdsl.co.uk)
[20:47:24] *** Quits: uuidNuni1 (~weechat@146.56.136.247) (Remote host closed the connection)
[20:47:40] *** Quits: megamaced (~megamaced@static-90-255-226-34.vodafonexdsl.co.uk) (Remote host closed the connection)
[20:47:41] *** Joins: uuidNuni1 (~weechat@146.56.136.247)
[20:47:58] *** Joins: megamaced (~megamaced@static-90-255-226-34.vodafonexdsl.co.uk)
[20:48:29] *** Joins: ChmEarl (~chmearl@user/chmearl)
[20:48:39] <wwilliam> gnoo: There is some text before "$x"  how to check   i dont think [[ -f *"$x".zip ]]
[20:48:47] *** Quits: stonkey (~stonkey@user/stonkey) (Remote host closed the connection)
[20:48:48] *** Quits: magla (~gelignite@55d475f4.access.ecotel.net) (Quit: Stay safe!)
[20:48:49] <wwilliam> will work?
[20:48:53] *** Parts: ori (~atdt@user/ori) (WeeChat 3.3)
[20:49:41] <gnoo> wwilliam: did you try -f *"${x%/}".zip ?
[20:50:02] <wwilliam> Of course not, let me check.... thanks.
[20:50:14] <gnoo> also, do you want zips that are already extracted or the opposite?
[20:50:25] *** Joins: ezzieyguywuf (~Unknown@user/ezzieyguywuf)
[20:50:35] <wwilliam> I need to move the zips to correspondent dir
[20:50:48] <gnoo> if that does not work, you should probably give example of one zip files's name and one dir's name
[20:50:51] <tirnanog> indeed, that test will not work as intended.
[20:51:05] *** Quits: ano (~ano@user/ano) (Remote host closed the connection)
[20:51:18] <wwilliam> Dir name : 20211221221738
[20:51:30] *** Joins: ano (~ano@user/ano)
[20:51:36] <tirnanog> as for the question concerning grep, it doesn't work in directories without being told to recurse.
[20:52:00] <gnoo> i think wwilliam wants to find directories that have similar names to zip files
[20:52:14] <tirnanog> that sounds familiar, based on other times that he's been here.
[20:52:38] <gnoo> wwilliam: and the zip file is: 20211221221738.zip ?
[20:52:58] <wwilliam> zip file : somemoretexthere20211221221738.zip
[20:53:47] *** Quits: sabry (~sabry@197.37.4.159) (Quit: Client closed)
[20:54:09] *** Joins: emg (~emg@cpe-70-93-247-186.natsow.res.rr.com)
[20:55:34] <tirnanog> for f in ./*.zip; do if [[ $f =~ ([0-9]+)\.zip$ ]]; then d=${BASH_REMATCH[1]}; [[ -d $d ]] && echo mv "$f" "$d"/; fi; done
[20:57:26] *** Joins: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be)
[20:57:58] <tirnanog> that assumes the directories already exist. otherwise, you are free to mkdir -p "$d" instead.
[20:58:24] *** Joins: goldfish (~goldfish@user/goldfish)
[20:58:36] <e36freak> wwilliam: globs won't work with a unary operator in [[
[20:58:40] <e36freak> !faq exists
[20:58:40] <greybot> https://mywiki.wooledge.org/BashFAQ/081 -- How can I determine whether a command exists anywhere in my PATH?
[20:58:44] <e36freak> erm
[20:59:05] <tirnanog> e36freak: did that ffmpeg guy ever come back?
[20:59:05] <e36freak> !faq count
[20:59:05] <greybot> https://mywiki.wooledge.org/BashFAQ/004 -- How can I check whether a directory is empty or not?  How do I check for any *.mpg files, or count how many there are?
[20:59:12] <e36freak> tirnanog: i have no idea
[21:00:06] <dfdx> https://github.com/faithanalog/sedfuck
[21:00:14] <dfdx> thought you guys would appreciate this.
[21:00:52] <phy1729> https://github.com/izabera/bfsed
[21:01:39] *** Joins: john_johnk (~Thunderbi@1.59.140.77.rev.sfr.net)
[21:01:41] <dfdx> lol. wild.
[21:02:16] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d)
[21:05:23] *** Joins: Abdullah (~ak@user/abdullah)
[21:07:02] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d) (Ping timeout: 250 seconds)
[21:07:25] *** Quits: mat001 (~mat001@76.sub-174-208-174.myvzw.com) (Read error: Connection reset by peer)
[21:08:19] *** Joins: wellen (~kleine@dynamic-046-114-155-197.46.114.pool.telefonica.de)
[21:08:42] <wwilliam> tirnanog: is not moving the zips to corresponding dir......
[21:09:01] *** Joins: mat001 (~mat001@69.4.234.55)
[21:09:02] <tirnanog> rather than tell me what it's not doing, tell me what it is doing, if anything.
[21:10:20] *** Quits: timm (~timm@2a02:810d:4c40:a68:224:d7ff:fe18:af78) (Ping timeout: 252 seconds)
[21:11:29] *** Joins: timm (~timm@2a02:810d:4c40:a68:224:d7ff:fe18:af78)
[21:12:01] <tirnanog> should it be moving anything other than the four pathnames shown in the output?
[21:12:24] <tirnanog> and come on, you should understand what echo does by now, at the very least.
[21:12:40] <wwilliam> Yes.
[21:12:51] <wwilliam> shoul be moving more than those 4.
[21:13:09] <wwilliam> and those four were not moved anyway.
[21:13:18] <tirnanog> of course not.
[21:13:29] <wwilliam> It showed it move them but they are still in the same place.
[21:13:38] <tirnanog> no, it doesn't show that it moved them.
[21:14:04] <tirnanog> the purpose of echo is not to prove that something happened, but to print something. that is all.
[21:14:21] *** Joins: fivegruel (~fivegruel@HSI-KBW-109-192-195-167.hsi6.kabel-badenwuerttemberg.de)
[21:14:35] <tirnanog> anyway, can you explain how it should be matching such that the other files you want to be encompassed are covered?
[21:15:15] <tirnanog> (in english rather than in code fragments that currently don't work)
[21:15:51] *** Quits: dreamon (~dreamon@ppp-88-217-76-15.dynamic.mnet-online.de) (Ping timeout: 256 seconds)
[21:16:30] <wwilliam> Never mind thank you for your time and effort.
[21:17:28] *** Quits: han-solo (~han-solo@user/han-solo) (Quit: leaving)
[21:19:52] *** Quits: megamaced (~megamaced@static-90-255-226-34.vodafonexdsl.co.uk) (Quit: megamaced)
[21:21:09] *** Quits: domicron (~domicron@gateway/tor-sasl/domicron) (Remote host closed the connection)
[21:21:41] *** Joins: domicron (~domicron@gateway/tor-sasl/domicron)
[21:22:35] <tirnanog> so I went through my logs
[21:22:53] <tirnanog> I wrote [[ $f =~ _([0-9]{14})[_.] ]] on the 27th of December.
[21:23:13] *** Quits: ouestbillie (~gallup@192-222-138-215.qc.cable.ebox.net) (Ping timeout: 256 seconds)
[21:23:25] *** Quits: rgrinberg (~textual@2806:101e:7:4889:3c8d:4176:aa67:59be) (Remote host closed the connection)
[21:24:07] *** Joins: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net)
[21:25:25] *** Joins: sandb0y (~pirate@user/sandb0y)
[21:26:07] <wwilliam> Thank you is working now:
[21:26:22] <wwilliam> for f in ./*.zip; do if [[ $f =~ _([0-9]{14})[_.] ]]; then d=${BASH_REMATCH[1]}; [[ -d $d ]] && mv -v -- "$f" "$d"/; fi; done
[21:28:43] *** Quits: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net) (Ping timeout: 256 seconds)
[21:28:56] *** Joins: apos382 (~apos@gateway/tor-sasl/apos)
[21:29:05] <tirnanog> the point is, I didn't remember that at first, and it's a little hard for people to adequately help if they are left to simply guess the intent. the initially given pattern was sufficient for the "somemoretexthere20211221221738.zip" example given.
[21:29:29] <wwilliam> Thanks again.
[21:29:33] * tirnanog nods
[21:30:29] *** Quits: apos382 (~apos@gateway/tor-sasl/apos) (Client Quit)
[21:31:24] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Read error: Connection reset by peer)
[21:31:55] *** Quits: underport (~underport@2a0c:5a80:1c17:5800:fbdc:2850:30e0:32ce) (Ping timeout: 250 seconds)
[21:33:22] <bn_work> hi, bash 4.2.46,  trying to figure out the following sh code (I didn't write it), specifically L9-11, by my reading, if one passes `start` it will fall through to L11 (is this correct?) but this doesn't appear to be what's happening?  https://www.irccloud.com/pastebin/QsV0jLDM/sh_case_statement.sh
[21:33:48] *** Joins: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net)
[21:33:57] *** Joins: H3dn1ng (~H3dn1ng@185.213.154.228)
[21:33:59] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 256 seconds)
[21:34:08] <phy1729> no
[21:34:09] <tirnanog> no, it will not fall through.
[21:34:20] *** Quits: zaden (~maddx@73.92.207.228) (Remote host closed the connection)
[21:34:21] *** Quits: fatal (~0x00@user/fatal) (Remote host closed the connection)
[21:34:34] *** Joins: fatal (~0x00@user/fatal)
[21:34:37] *** Joins: zaden (~maddx@73.92.207.228)
[21:36:00] <tirnanog> in this case, the match will be made and nothing will happen, successfully. that is the case statement will return a status of 0.
[21:36:07] *** Joins: mat001_ (~mat001@69.4.234.90)
[21:36:14] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Quit: WeeChat 2.3)
[21:36:29] *** Joins: apos (~apos@gateway/tor-sasl/apos)
[21:37:14] *** Joins: eleventh (~eleventh@143.131.13.80)
[21:37:17] *** Quits: mat001 (~mat001@69.4.234.55) (Ping timeout: 240 seconds)
[21:38:12] *** Quits: GuiToris (~GuiToris@user/guitoris) (Quit: Sieben Acht Gute Nacht!)
[21:39:55] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[21:40:16] *** Quits: eleventh (~eleventh@143.131.13.80) (Client Quit)
[21:41:18] *** Joins: eleventh (~eleventh@143.131.13.80)
[21:42:09] *** Joins: bluedust (~bluedust@117.207.236.117)
[21:42:13] *** Quits: Csm319_ (~csm3105@2a02:2e02:3e4:d00:d0e5:fa85:7af4:c26a) (Ping timeout: 268 seconds)
[21:42:13] *** Quits: csm3105 (~csm3105@2a02:2e02:3e4:d00:d0e5:fa85:7af4:c26a) (Ping timeout: 268 seconds)
[21:42:30] *** Joins: pi___ (~pi@143.131.13.80)
[21:42:33] *** Quits: eleventh (~eleventh@143.131.13.80) (Client Quit)
[21:42:58] *** pi___ is now known as eleventh
[21:43:33] *** Quits: flea- (flea@gateway/vpn/protonvpn/nosoul) (Remote host closed the connection)
[21:43:42] <mknod> bn_work, you forgot stArt. And stArT. And starT. And...
[21:44:26] *** Quits: eleventh (~pi@143.131.13.80) (Client Quit)
[21:44:50] <bn_work> tirnanog: what does "" match to ?  and how is that different from *?
[21:45:10] <tirnanog> it would match an empty string. * will match anything, including an empty string.
[21:45:18] <bn_work> mknod: was that an attempt at a bash joke? :)
[21:45:33] <bn_work> tirnanog: ah, of course
[21:45:37] <tirnanog> thus, if no preceding pattern list matched, you can be sure that * will catch it.
[21:45:53] *** Quits: bluedust_ (~bluedust@86.106.136.217) (Ping timeout: 256 seconds)
[21:46:15] <bn_work> mknod: interesting, so when I run it with "start"  I see it echo "Starting foo"...
[21:46:24] <bn_work> tirnanog: *nod*
[21:46:44] <tirnanog> there must be something you're not showing then.
[21:50:15] *** Quits: p-i- (Ohmu@gateway/vpn/protonvpn/ohmu) (Ping timeout: 256 seconds)
[21:54:21] *** Quits: chiselfuse (~chiselfus@user/chiselfuse) (Ping timeout: 276 seconds)
[21:54:57] *** Joins: wre^ (~wre@wsip-98-188-242-61.mc.at.cox.net)
[21:55:50] *** Joins: chiselfuse (~chiselfus@user/chiselfuse)
[21:58:03] *** Joins: spawnmc (~spawnmc@user/spawnmc)
[21:58:26] *** Quits: bluedust (~bluedust@117.207.236.117) (Remote host closed the connection)
[22:00:05] *** Joins: semigloss (~semigloss@d14-69-6-230.try.wideopenwest.com)
[22:02:04] *** Quits: martinus__ (~martin@127.59.202.77.rev.sfr.net) (Ping timeout: 250 seconds)
[22:08:11] *** justIrresolute is now known as justJustache
[22:08:34] *** Quits: john_johnk (~Thunderbi@1.59.140.77.rev.sfr.net) (Ping timeout: 250 seconds)
[22:10:28] *** Joins: legola (~legola@46.235.100.54)
[22:17:58] *** Joins: magla (~gelignite@55d475f4.access.ecotel.net)
[22:19:14] *** Quits: Rue_ (~rue@61-231-129-7.dynamic-ip.hinet.net) (Quit: WeeChat 3.4)
[22:19:31] *** Quits: davu (~davu@94.31.103.28) (Quit: Leaving)
[22:22:18] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 276 seconds)
[22:22:40] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[22:22:42] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[22:23:55] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[22:23:58] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[22:24:32] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[22:24:36] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[22:24:54] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[22:24:55] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[22:25:14] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[22:25:15] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[22:25:28] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 250 seconds)
[22:26:07] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[22:26:33] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Read error: Connection reset by peer)
[22:26:52] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[22:26:53] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[22:27:13] *** Joins: Marbug7 (~Marbug@94-226-144-213.access.telenet.be)
[22:27:16] *** Quits: Marbug7 (~Marbug@94-226-144-213.access.telenet.be) (Remote host closed the connection)
[22:27:49] *** Quits: nickdiaz1wag209 (~bjpenn_@13.110.54.42) (Ping timeout: 256 seconds)
[22:29:01] *** Joins: nickdiazswag209 (~bjpenn_@98.42.87.100)
[22:29:49] *** Quits: skered (~dereks@user/skered) (Quit: ircII EPIC5-2.1.6 -- Are we there yet?)
[22:30:05] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 252 seconds)
[22:31:50] <Abdullah> I wrote a script which checks for unread mail count in remote mail server and prints out the unread mails count to screen. so if there is a new mail in remote server, it should sync remote and local mailboxes. and play a notification bell. now both mailboxes are same, so it shouldn't sync or play notification bell. if there is a change in local mail server, (like I have read the new mail), it should
[22:31:52] <Abdullah> sync so both are again same. if there was a new mail in remote mailbox, it has synced the mailbox with local mailbox, so it shouldn't play notification bell next time for that same new message. I mean only should play notification bell if there is another new mail. But I'm confused how to do it. Here is my script. https://bpa.st/show/YPVQ
[22:32:47] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[22:35:35] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[22:40:34] <Abdullah> is there some solution in bash or I should stick with python? Here is what is working for me in python but I want this script in bash https://bpa.st/show/PIYQ
[22:40:54] *** Joins: skered (~dereks@user/skered)
[22:42:20] <phogg> unnecessary use of cat
[22:43:17] *** Quits: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net) (Ping timeout: 240 seconds)
[22:43:36] <Soliton> why not just sync and notify if there was something to sync?
[22:44:31] <Abdullah> Soliton: ?
[22:45:26] <phogg> grep -i "UNSEEN" "${mfile}" | grep -oE "[0-9]*" | head -n 1
[22:45:28] <Soliton> why do a useless check first? let your sync tool do that.
[22:48:33] *** Joins: carl--- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se)
[22:49:27] <Abdullah> sync tool is mbsync
[22:49:46] <Abdullah> it doesn't show new mail count afaik
[22:49:57] *** Joins: csm3105 (~csm3105@static-90-220-24-46.ipcom.comunitel.net)
[22:49:58] *** Joins: Csm319_ (~csm3105@static-90-220-24-46.ipcom.comunitel.net)
[22:50:10] *** Quits: wellen (~kleine@dynamic-046-114-155-197.46.114.pool.telefonica.de) (Ping timeout: 250 seconds)
[22:50:21] <uuidNuni1> it is very interesting: $(cmd) removes all the trailing newlines from the output of cmd. while <(cmd) does not remove anything
[22:50:32] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d)
[22:50:57] *** Joins: bluedust (~bluedust@117.207.236.117)
[22:51:39] <Soliton> command substitution also removes NULs.
[22:53:41] *** Joins: ouestbillie (~gallup@142.169.82.16)
[22:54:22] <uuidNuni1> Soliton: what is NULs?
[22:54:29] <wwilliam> !subshell
[22:54:29] <greybot> http://mywiki.wooledge.org/SubShell
[22:54:51] <uuidNuni1> # echo 'a                 b' > file ; echo $(<file)
[22:54:51] *** Quits: Sauvin (~sauvin@about/linux/staff/sauvin) (Ping timeout: 256 seconds)
[22:54:52] <shbot> uuidNuni1: a b
[22:55:01] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:9fc:b9e:fb4d:b25d) (Ping timeout: 240 seconds)
[22:55:04] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[22:55:07] <uuidNuni1> oh. that is NULs
[22:55:51] *** Joins: Inline (~Inline@aftr-37-201-240-204.unity-media.net)
[22:55:52] <Soliton> the first character in the ascii table.
[22:56:10] *** Parts: iconoclasthero (~quassel@pool-100-14-231-162.phlapa.fios.verizon.net) (http://quassel-irc.org - Chat comfortably. Anywhere.)
[22:56:12] *** Quits: legola (~legola@46.235.100.54) (Remote host closed the connection)
[22:56:14] <Soliton> has nothing to do with failing to quote properly.
[22:56:18] *** Joins: SymbioticFemale (~Symbiotic@user/SymbioticFemale)
[22:56:57] <SymbioticFemale> can someone help me make this do what i want it to do? find /home -mindepth 1 -maxdepth 1 -type d -exec echo $(printf "{}" | sed s/\//\ /g) \;
[22:57:19] <Soliton> looks crazy.
[22:57:22] <SymbioticFemale> it shoud echo the /home/* directories without the / but the sed command seems to get ignored for reasons
[22:57:26] <uuidNuni1> # echo -e 'a         \n \n        b' > file ; echo $(<file)
[22:57:27] <shbot> uuidNuni1: a b
[22:57:42] <uuidNuni1> what is embbeded newline
[22:57:46] *** Joins: aliosablack (~chomwitt@athedsl-15695.home.otenet.gr)
[22:58:17] *** Quits: chomwitt (~chomwitt@2a02:587:dc11:fb00:12c3:7bff:fe6d:d374) (Ping timeout: 240 seconds)
[22:58:38] *** Quits: Inline (~Inline@aftr-37-201-240-204.unity-media.net) (Client Quit)
[22:59:34] <Soliton> SymbioticFemale: d=(/home/*) d=("${d[@]#/home/}"); printf '%s\n' "${d[@]}"
[22:59:45] *** Joins: bluedust_ (~bluedust@37.120.198.153)
[23:00:05] *** Joins: Inline (~Inline@aftr-37-201-240-204.unity-media.net)
[23:00:41] *** Quits: mat001_ (~mat001@69.4.234.90) (Remote host closed the connection)
[23:00:47] <emanuele6> /home/*/ since there was -type d
[23:01:10] *** Joins: mat001 (~mat001@69.4.234.90)
[23:02:34] <SymbioticFemale> interestings. i think i can work with that. thanks!
[23:02:37] <Soliton> wait, removing /home wasn't even the goal.
[23:03:21] *** Quits: bluedust (~bluedust@117.207.236.117) (Ping timeout: 256 seconds)
[23:03:33] <SymbioticFemale> Soliton: nah you accurately predicted my goal. i can work with it.
[23:04:59] *** Quits: mat001 (~mat001@69.4.234.90) (Remote host closed the connection)
[23:05:08] *** Joins: mat001 (~mat001@69.4.234.90)
[23:05:47] *** Quits: ezzieyguywuf (~Unknown@user/ezzieyguywuf) (Ping timeout: 256 seconds)
[23:07:46] *** Joins: ezzieyguywuf (~Unknown@user/ezzieyguywuf)
[23:09:11] *** Quits: ouestbillie (~gallup@142.169.82.16) (Ping timeout: 256 seconds)
[23:13:43] *** Quits: ezzieyguywuf (~Unknown@user/ezzieyguywuf) (Ping timeout: 256 seconds)
[23:16:15] *** Quits: uuidNuni1 (~weechat@146.56.136.247) (Remote host closed the connection)
[23:16:32] *** Joins: uuidNuni1 (~weechat@146.56.136.247)
[23:18:11] *** Quits: Abdullah (~ak@user/abdullah) (Quit: WeeChat 3.4)
[23:18:57] *** Quits: csm3105 (~csm3105@static-90-220-24-46.ipcom.comunitel.net) (Quit: Leaving)
[23:19:12] *** Joins: ezzieyguywuf (~Unknown@user/ezzieyguywuf)
[23:19:29] *** Joins: FluffyMask (~masque@user/fluffymask)
[23:20:42] *** Joins: ouestbillie (~gallup@142.169.82.16)
[23:23:23] <bn_work> tirnanog: well, the complete script is pretty long, I'll check the code to see if it's coming from somewhere else.. but I mainly wanted to confirm my understanding of those lines above, thanks!
[23:23:35] <tirnanog> bn_work: ok.
[23:24:44] *** Quits: zouhair (~zouhair@lnsm3-montreal02-142-117-154-92.internet.virginmobile.ca) (Quit: KVIrc 5.0.1 Aria http://www.kvirc.net/)
[23:25:37] *** Quits: ezzieyguywuf (~Unknown@user/ezzieyguywuf) (Ping timeout: 256 seconds)
[23:26:37] *** Joins: underport (~underport@2a0c:5a80:1c17:5800:fa0d:384f:ab6b:ee47)
[23:26:55] <bn_work> SymbioticFemale: are you trying to change frontslashes to backslashes for all 1st-level dirs under /home ?
[23:28:18] *** Joins: dreamon (~dreamon@p57a4c526.dip0.t-ipconnect.de)
[23:28:57] *** Quits: kdc (~kdc@196.211.197.178) (Quit: Leaving)
[23:29:03] *** Joins: zouhair (~zouhair@lnsm3-montreal02-142-117-154-92.internet.virginmobile.ca)
[23:30:10] <uuidNuni1> # command -V time
[23:30:11] <shbot> uuidNuni1: time is a shell keyword
[23:31:20] *** Joins: ezzieyguywuf (~Unknown@user/ezzieyguywuf)
[23:31:33] *** Joins: Abdullah (user21348@user/abdullah)
[23:31:44] <uuidNuni1> how can i measure the real time spent on a function
[23:31:51] <mknod> Let's be honest, time is magic.
[23:32:14] <uuidNuni1> time function?
[23:33:32] <mknod> # TIMEFORMAT=%3lR; funk() { sleep 1; }; time funk
[23:33:34] <shbot> mknod: 0m1.003s
[23:33:59] *** Quits: ezzieyguywuf (~Unknown@user/ezzieyguywuf) (Remote host closed the connection)
[23:36:04] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[23:36:11] *** Joins: arinov (~arinov@213.194.126.155)
[23:36:25] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[23:40:00] *** Joins: gaude (~gaude@29-39-142-46.pool.kielnet.net)
[23:40:59] <wwilliam> what is that setting that in case theres no file i dont get an error?
[23:41:04] <wwilliam> set what?
[23:41:36] <bn_work> setting?  shopt?
[23:41:45] <wwilliam> shopt
[23:41:48] <wwilliam> Thanks
[23:41:53] <wwilliam> !shopt
[23:41:53] <greybot> http://wiki.bash-hackers.org/internals/shell_options -- nullglob and extglob are most common. dotglob and nocase{match,glob} can be handy too.
[23:42:16] <bn_work> uh.. np :)
[23:42:21] <wwilliam> This site can’t provide a secure connection
[23:42:23] <wwilliam> wiki.bash-hackers.org uses an unsupported protocol.
[23:42:24] <wwilliam> ERR_SSL_VERSION_OR_CIPHER_MISMATCH
[23:43:17] <mknod> wwilliam, failglob is disabled by default afaik.
[23:43:45] *** Quits: ryu` (~ryusaku@c6A334BC1.dhcp.as2116.net) (Ping timeout: 256 seconds)
[23:43:53] <wwilliam> I dont want to see:
[23:43:54] <wwilliam> + for x in '*.zip'
[23:43:55] <wwilliam> + mv -v -- '*.zip' /home/afernandez/u6/axa/axair_prepro/axa_ir_prepro_stage/zips
[23:43:57] <wwilliam> mv: cannot stat '*.zip': No such file or directory
[23:44:01] <wwilliam> cannot stat
[23:44:08] *** Joins: ezzieyguywuf (~Unknown@user/ezzieyguywuf)
[23:44:59] <mknod> Not a bash error.
[23:45:11] <mknod> shot -s nullglob
[23:45:12] <wwilliam> Yes I know
[23:45:14] <mknod> shopt*
[23:45:19] <wwilliam> Thanks
[23:45:36] <mknod> also don't quote your globs.
[23:45:45] <uuidNuni1> mknod: thanks! that works like a charm
[23:46:49] <mknod> wwilliam, got it? Your quotes are preventing the glob to expand into filenames.
[23:47:32] <wwilliam>       for x in *.zip;do
[23:47:34] <wwilliam>          mv -v -- "$x" "$stg"/zips
[23:47:35] <wwilliam>       done)
[23:47:40] <wwilliam> no quotes there.
[23:51:10] <wwilliam> will test again with the shopt thinghie.....
[23:51:19] <chilvers1> just discovered that ((i++)) and set -e do not play nice with each other
[23:51:31] <wwilliam> !-e
[23:51:31] <greybot> "set -e" is an inheritance of the old bourne shell, and doesn't really work well with modern shell features. You'll really have less buggy scripts if you do the error handling manually instead of relying on the unreliable "set -e"; see http://mywiki.wooledge.org/BashFAQ/105
[23:53:23] *** Joins: nickdiaz1wag209 (~bjpenn_@13.110.54.38)
[23:53:47] *** Quits: spawnmc (~spawnmc@user/spawnmc) (Ping timeout: 256 seconds)
[23:54:01] *** Joins: yustin (~yustin@user/yustin)
[23:56:02] *** Quits: nickdiazswag209 (~bjpenn_@98.42.87.100) (Ping timeout: 250 seconds)
[23:56:28] <wwilliam> Nice no more can not stat Thanks mknod
[23:57:59] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
