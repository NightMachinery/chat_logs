[00:20:15] *** Quits: smrtz (~smrtz@user/smrtz) (Quit: Client closed)
[00:23:00] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[00:30:53] *** Quits: bluedust_ (~bluedust@103.160.194.145) (Remote host closed the connection)
[01:29:33] *** Quits: user51 (~user51@176.228.148.215) (Remote host closed the connection)
[01:30:56] *** Joins: seninha (~seninha@user/seninha)
[01:34:38] *** Quits: ccl (ccl@shell.xshellz.com) (Ping timeout: 252 seconds)
[01:44:22] *** Quits: mcint (mcint@user/mcint) (Ping timeout: 260 seconds)
[01:45:05] *** Joins: vlm (~vlm@user/vlm)
[01:56:32] *** Quits: elastic_1 (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 240 seconds)
[02:01:55] *** Joins: elastic_1 (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[02:09:52] *** Quits: Torr (~Torr@user/torr) (Remote host closed the connection)
[02:20:18] *** Joins: Torr (~Torr@user/torr)
[02:21:40] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[02:26:31] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[02:29:41] *** Quits: Torr (~Torr@user/torr) ()
[02:31:30] *** Joins: bluedust (~bluedust@103.160.194.145)
[02:36:02] *** Quits: bluedust (~bluedust@103.160.194.145) (Ping timeout: 240 seconds)
[02:43:42] *** Joins: ccl_ (ccl@shell.xshellz.com)
[03:35:18] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[03:35:35] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[03:52:55] *** Joins: Torr (~Torr@user/torr)
[04:14:02] *** Quits: Torr (~Torr@user/torr) (Ping timeout: 250 seconds)
[04:27:13] *** Joins: Torr (~Torr@user/torr)
[04:36:48] *** Quits: ang (ang@user/aarng) (Remote host closed the connection)
[05:31:57] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[06:15:12] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[06:33:40] *** Joins: bluedust (~bluedust@103.160.194.145)
[07:16:59] <birkoff> can *awk get its input file from within the script ? 
[07:17:19] <birkoff> specifically, from a command ?
[07:20:08] <e36freak> you can either edit ARGV in the BEGIN block or just use getline
[07:20:14] <e36freak> ARGV/ARGC
[07:21:19] <e36freak> echo foo > file; awk 'BEGIN {cmd="echo file"; cmd | getline ARGV[ARGC++]; close(cmd)} 1'
[07:21:26] <e36freak> # echo foo > file; awk 'BEGIN {cmd="echo file"; cmd | getline ARGV[ARGC++]; close(cmd)} 1'
[07:21:27] <shbot> e36freak: foo
[07:21:51] <e36freak> not the prettiest solution, but it works
[07:22:11] <birkoff> what's the 1 ?
[07:22:25] <e36freak> just printing all the lines in the file, to show you that it read it
[07:22:25] <emanuele6> short for     1 == 1 { print $0 ;}
[07:22:43] <e36freak> '1' is a condition that's always true, and a condition with no action is equivalent to {print}
[07:22:56] <e36freak> shortest way to just print all the lines in the input
[07:23:04] <e36freak> awk 1 file # is equivalent to cat file, for example
[07:26:55] <birkoff> why would I edit ARGV in the bEGIN block ? I do not want the command output to serve as a input filename
[07:27:17] <e36freak> 2:46 < birkoff> can *awk get its input file from within the script ? 
[07:27:17] <e36freak> 22:47 < birkoff> specifically, from a command ?
[07:27:25] <e36freak> that's what you asked for...
[07:27:35] <e36freak> if that's not what you want, you need to phrase the question better
[07:27:50] <birkoff> I mean the input file content
[07:27:53] <birkoff> from a command
[07:28:30] <birkoff> similar to a pipe
[07:28:59] <e36freak> awk has pipes
[07:30:24] <e36freak> cmd = "your_command"; while ((cmd | getline) > 0) {print $1}; close(cmd)
[07:31:26] <e36freak> https://www.gnu.org/software/gawk/manual/gawk.html#Getline_002fPipe
[07:32:33] <birkoff> should be print $0 instead not?
[07:32:42] <e36freak> if you want, sure
[07:32:45] <e36freak> whatever in there
[07:32:46] <emanuele6> awk 'BEGIN { while("getent passwd" | getline == 1) if (/nologin/) print }'  emulates  getent passwd | grep nologin  for example
[07:32:53] <e36freak> i just put a thing there to show you you can do a thing
[07:33:00] <birkoff> oh 
[07:33:32] <e36freak> if you just wanted to print $0 you might as well just do system("command"), since you're not doing anything with it
[07:33:33] <birkoff> I know about pipe but didn't know I can loop it that way 
[07:33:47] <e36freak> redirections in awk are different than in shell, they stay open until you close() them
[07:34:12] <e36freak> so like awk '{print $1 > "file"; print $2 > "file"}'
[07:34:16] <birkoff> which means I must deal with the output of them in the same block iteration 
[07:34:23] <e36freak> doesn't reopen file for writing each time, truncate it each time, etc
[07:34:26] <e36freak> it just keeps writing to it
[07:34:45] <e36freak> likewise cmd | ... # doesn't rerun cmd every time, it just keeps reading from it
[07:34:49] <e36freak> doesn't even need to be in a loop
[07:34:51] <birkoff> I was actually wondering if I could set the entire input i.e in the BEGIN block and then have the main block run on it as if it piped normally
[07:35:16] <e36freak> no, at that point you might as well just pipe it to awk
[07:36:49] <e36freak> lemme test something...
[07:37:36] <e36freak> nope
[07:39:55] *** Joins: mixfix41 (~homefame@user/mixfix41)
[07:40:59] <e36freak> on linux you can do something like...
[07:41:16] <e36freak> : | awk 'BEGIN {system("command > /proc/self/fd/0"} ...'
[07:41:23] <e36freak> though it's hacky and i hate it
[07:45:47] <birkoff> why do you hate it ? is it prone to problems ?
[07:46:17] <emanuele6> it also requires   `: |'
[07:48:14] <birkoff> right
[07:49:13] <e36freak> well, it doesn't *require* it, but otherwise it'll keep trying to read from stdin after it finishes so you'll have to ^D or whatever at the end
[07:49:20] <emanuele6> awk 'BEGIN { system("mkfifo my_fifo; getent passwd > my_fifo &"); ARGV[1] = "./my_fifo"; ARGC = 2 } END { system("a=$(unlink my_fifo 2>&1)") } /bash/'
[07:49:44] <e36freak> yeah i figured a fifo or temp file would be the other solution
[07:49:55] <e36freak> but at that point the complexity is enough that you might as well just do it all in BEGIN, imo
[07:51:58] <emanuele6> if you are only reading from one input, just use stdin. opening other files/pipes just makes your script less usable
[07:52:45] <emanuele6> s/pipes/& instead of using stdin/
[08:05:13] <birkoff> is there something like eval() in *awk ? I want to evaluate a $1 (for example) that has KEY1="VAL1" 
[08:08:53] <nmz> nope
[08:08:57] <nmz> what you see is what you get
[08:09:02] <nmz> the rest is just libraries
[08:11:16] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[08:11:56] <nmz> birkoff: you can however, match $1; a[substr($1,RSTART,RLENGTH]) = substr($1,RSTART+RLENGTH)
[08:12:06] <nmz> that depends on how you match
[08:12:41] <nmz> and the string
[08:25:01] <emanuele6> well, it has something like eval
[08:25:34] <emanuele6> but it is only for assignments to literals and it can only be used between files or in BEGIN
[08:26:42] <nmz> emanuele6: ?
[08:26:53] <emanuele6> because adding something that resembles an assignment in ARGV evaluates the assignment
[08:27:07] <nmz> oh right, that hack
[08:27:35] <nmz> I was thinking of a quine
[08:27:37] <nmz> BEGIN{c="BEGIN{c=%c%s%c;printf(c,34,c,34);}";printf(c,34,c,34);}
[08:27:40] <nmz> from rosetta code
[08:29:40] <emanuele6> that's a quine
[08:29:57] <emanuele6> oh, you said it, oops
[09:00:24] *** Joins: seninha (~seninha@user/seninha)
[09:10:21] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[09:20:30] *** Quits: vinipsmaker (~vinipsmak@177.54.145.213) (Quit: Leaving)
[09:22:41] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 256 seconds)
[09:35:34] *** Joins: loganlee (~Thunderbi@user/loganlee)
[09:42:48] *** Quits: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net) (Quit: It's just that easy)
[10:09:33] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[10:27:22] *** Joins: user51 (~user51@176.228.148.215)
[10:54:48] *** Quits: roarde (~roarde@user/roarde) (Quit: Leaving)
[11:30:46] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[12:19:08] *** Joins: timm (~timm@user/timm)
[12:32:54] *** Joins: lavaball (felix@31.204.155.215)
[12:44:36] *** Joins: vinipsmaker (~vinipsmak@177.54.145.203)
[13:02:07] *** Joins: loganlee (~Thunderbi@user/loganlee)
[13:04:41] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[13:05:31] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Remote host closed the connection)
[13:05:56] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[13:08:20] *** Joins: bluedust_ (~bluedust@86.106.136.214)
[13:11:57] *** Quits: bluedust (~bluedust@103.160.194.145) (Ping timeout: 240 seconds)
[13:24:20] *** Joins: bluedust (~bluedust@103.160.194.145)
[13:27:37] *** Quits: bluedust_ (~bluedust@86.106.136.214) (Ping timeout: 240 seconds)
[13:42:02] *** Joins: seninha (~seninha@user/seninha)
[14:00:03] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[15:32:18] *** Joins: BSaboia (~bsaboia@187.19.139.6)
[15:38:11] *** Quits: BSaboia (~bsaboia@187.19.139.6) (Quit: This computer has gone to sleep)
[16:46:07] *** Joins: TenochSLB (~Tenochyy@108-216-74-215.lightspeed.wchtks.sbcglobal.net)
[17:08:03] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[17:21:15] <TenochSLB> could you please guide me to accomplish this, https://pastebin.com/MpBKnPwC
[17:23:09] <TenochSLB> I wan to create a tabular table out of data arrange like this, KEYS, YEAR, VALUE to YEAR, VALUE KEY1, VALUE KEY2 
[17:45:12] *** izabera is now known as gizabera
[17:46:08] *** gizabera is now known as izabera
[18:08:44] <tirnanog> TenochSLB: awk '{ dates[$2] = 1 } $1 == "a" { arrayA[$2] += $3 } $1 == "b" { arrayB[$2] += $3 } END { for(x in dates) printf("%d %d %d\n", x, arrayA[x], arrayB[x]) }'
[18:16:23] <TenochSLB> @tirnanog, thanks, i was simple and i could not see it. 
[18:17:14] <TenochSLB> *it was
[18:19:41] <TenochSLB> Is there a simple GUI editor with awk syntax highlighting?
[18:20:12] <TenochSLB> I use geany, and I think the closest thing is C source code
[18:47:59] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[18:52:44] *** Quits: epony (epony@user/epony) (Quit: QUIT)
[19:20:08] *** Quits: mixfix41 (~homefame@user/mixfix41) (Ping timeout: 250 seconds)
[19:24:52] *** Joins: epony (epony@user/epony)
[19:28:55] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[19:30:57] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[19:55:41] *** Joins: junebug (~junebug@2600:1700:3db0:2540:6711:ce96:a34d:9ed2)
[20:02:37] *** Joins: mixfix41 (~homefame@user/mixfix41)
[20:13:55] *** Joins: lavaball (felix@31.204.155.215)
[20:16:27] *** Quits: junebug (~junebug@2600:1700:3db0:2540:6711:ce96:a34d:9ed2) (Quit: Leaving)
[20:33:59] <nmz> TenochSLB: vim, vis, textadept
[20:36:42] <nmz> vis is very nice
[20:58:53] *** Joins: lgc (~lgc@user/lgc)
[21:02:00] *** Quits: lgc (~lgc@user/lgc) (Client Quit)
[21:59:46] <e36freak> mmm, vim
[22:00:03] <e36freak> also look for any plugins or wahtever someone may have written for your editor of choice
[22:02:49] *** Joins: roarde (~roarde@user/roarde)
[22:06:59] *** Joins: bluedust_ (~bluedust@103.161.144.28)
[22:07:37] *** Quits: bluedust (~bluedust@103.160.194.145) (Ping timeout: 240 seconds)
[22:09:08] *** Quits: mixfix41 (~homefame@user/mixfix41) (Ping timeout: 250 seconds)
[22:16:12] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[22:23:34] *** Quits: Torr (~Torr@user/torr) ()
[22:24:30] *** Joins: mixfix41 (~homefame@user/mixfix41)
[22:38:34] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[22:50:41] *** Joins: BSaboia (~bsaboia@187.19.139.6)
[23:15:32] <Patsie> only took me 4 years to get back to my awk-fire project and touch up on it... https://youtu.be/_n7IKOYogv8 / https://github.com/patsie75/awk-fire 
[23:15:55] <Patsie> the old version looks horrible in comparison :) https://youtu.be/_n7IKOYogv8
[23:16:10] <Patsie> sorry -> https://youtu.be/0LC2tVbTlho
[23:16:14] <Patsie> that's the old one
[23:20:18] *** Quits: BSaboia (~bsaboia@187.19.139.6) (Quit: This computer has gone to sleep)
[23:58:31] *** Joins: Jad (~Nashmi@user/jad)
