[00:04:52] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[00:05:53] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[00:06:27] *** Joins: infidel (~ecrump@67-0-193-53.albq.qwest.net)
[00:16:50] *** Quits: Leonarbro (~Leonet@user/leonarbro) (Quit: Bye)
[00:31:42] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Quit: Good Bye! My bouncer has probably crashed or lost connection to the internet...)
[00:32:52] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[00:35:14] *** Joins: incognito (~relativit@user/incognito)
[00:35:39] *** Joins: johnny_sitar (~artur@078088015209.bialystok.vectranet.pl)
[00:45:17] *** Quits: CodeSpelunker (~CodeSpelu@user/codespelunker) (Quit: CodeSpelunker)
[00:55:22] *** Joins: junktext_ (~junktext@gateway/vpn/pia/junktext)
[00:57:31] *** Quits: junktext (~junktext@gateway/vpn/pia/junktext) (Ping timeout: 256 seconds)
[00:59:54] *** Joins: vidbina (~vid@dynamic-089-014-080-037.89.14.pool.telefonica.de)
[01:13:10] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[01:14:12] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[01:16:19] *** Quits: INeedAHandle (~INeedAHan@39.124.72.106) (Quit: My MacBook Air has gone to sleep. ZZZzzzâ€¦)
[01:16:47] *** Joins: INeedAHandle (~INeedAHan@39.124.72.106)
[01:19:03] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Ping timeout: 256 seconds)
[01:25:03] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[01:27:20] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[01:38:23] *** Quits: johnny_sitar (~artur@078088015209.bialystok.vectranet.pl) (Remote host closed the connection)
[01:46:49] *** Quits: vidbina (~vid@dynamic-089-014-080-037.89.14.pool.telefonica.de) (Ping timeout: 256 seconds)
[01:48:01] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 268 seconds)
[01:50:39] *** Joins: devslash (~devslash@46.232.211.210)
[01:50:53] <devslash> how do you guys secure services running in docker ?
[01:51:04] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[01:55:21] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[01:56:11] *** Joins: rawtaz (~rawtaz@user/rawtaz)
[01:57:20] <rawtaz> hi there
[01:58:12] <DoofusCanadensis> I've got a book from packt about just that thing
[01:59:01] <rawtaz> im curious about this: https://github.com/mcuadros/ofelia - how is it possible for that thing to like `docker exec` execute something in another container than itself, when all it gets as per the example in https://github.com/mcuadros/ofelia#docker-labels-configurations is a *read-only* /var/run/docker.sock ? i would think to tell docker to exec something it'd need write perms to that socket?
[01:59:12] <rawtaz> DoofusCanadensis: about what? :o
[01:59:52] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[02:00:21] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Ping timeout: 268 seconds)
[02:01:39] <DoofusCanadensis> huh... could have sworn one of these books was about securing workloads
[02:01:43] <DoofusCanadensis> I'm wrong
[02:01:53] <devslash> im looking into Authelia
[02:02:23] <rawtaz> devslash: nice. i was poing around at pomerium and found authelia the other day as well. it does look interesting, i might try it.
[02:02:47] <devslash> yes it looks interesting
[02:02:59] <rawtaz> those two seem to be what makes sense if wanting something build with Go and that looks nice
[02:03:13] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[02:04:42] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[02:05:33] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:16:06] *** Quits: DoofusCanadensis (~DoofusCan@207.229.38.10) (Quit: So as you can see from this flowchSQUIRREL!!)
[02:22:39] <Celelibi> Preparing a Docker course. What kind of application could I ask them to make an image for?
[02:22:52] <rawtaz> how simple do you want it?
[02:22:56] <Celelibi> Something not too trivial.
[02:23:13] <rawtaz> a single image, not a couple for running with compose or so?
[02:24:02] <Celelibi> Composing several images will be for the next time. So, I'd take your ideas for that as well.
[02:24:12] <rawtaz> i see :)
[02:24:39] <Celelibi> But for now, it will be their first image, so, single image.
[02:25:14] <rawtaz> i mean it could be a simple container for some tool. for example, i've build a simple image for the AWS CLI since i dont want to install that on my machine, so i wrapped it in a docker image and just run that
[02:25:31] <rawtaz> that would mean taking some base linux image, adding the tool, possibly some dependency
[02:25:42] <rawtaz> or wait did i use an existing one,, i might have. dont remember
[02:25:48] <Celelibi> Isn't that too simple? I mean, they will have something like 3 hours on it.
[02:25:54] <rawtaz> yeah it is
[02:26:55] <rawtaz> a web server serving a few php files with apache using its embedded php modules would be a pretty standard thing
[02:27:10] <rawtaz> but there already exists such images, so they could just look at that and its done
[02:29:26] <rawtaz> i think it's more interesting making images work togehter, so i.e. docker-compose. anyone can make images, but making them work in unison is a different thing. so if instead of trying to find an image to create that isnt too simple, but isnt too complex (requiring much knowledge about the thing youre embedding into it ,which deviates from the topic at hand), and that also doesnt already exist as the first hit on google,
[02:30:04] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Remote host closed the connection)
[02:30:07] <rawtaz> youd have them create a couple or three pretty simple images, and then move on to docker compose where theyll have a more interesting time combining them. could be as simple as a db, a web server and a mail server (e.g. mailhog)
[02:30:30] <Celelibi> And if I choose some exotic software they will have trouble understanding its requirements.
[02:30:31] <rawtaz> i think it's hard to make them spend like 2-3 hours creating images
[02:30:55] <rawtaz> yeah. it easily moves into a matter of learning/understanding the thing youre trying to embed rather than the image creation process
[02:31:14] *** Joins: Sven_vB (~sven@user/sven-vb/x-2094958)
[02:31:37] <rawtaz> i guess the closest you could come is building an image with a bunch of dependencies and the key thing you want to run, but where the deps are simple to understand. like just a bunch of apt install and some copy config files
[02:31:42] <rawtaz> that could work.
[02:32:03] <rawtaz> and they could start by making the base image have the first deps, build that, add the second dep, see that the cache is used, etc.
[02:32:09] <Celelibi> You mean, without an actual app to run inside?
[02:32:29] <rawtaz> nah some deps ofr the final app that then is the one run inside the image
[02:32:49] <rawtaz> whatever that would be :) some web service i think is simple, then they can easily see the result by going to it in their browser
[02:33:13] <rawtaz> it would show them to expose a port and you could show them to do a bind mount where the thing serves a file from their hard drive perhaps
[02:33:56] <rawtaz> maybe a simple image that has caddy (web server) in it that runs php via fpm and a simple php script that uses imagemagick to flip an image they provide via bind mount upside down?
[02:34:11] <rawtaz> that's not too complex dependencies or software installations. and you can provide the php script for them.
[02:34:26] <rawtaz> you can also provide the mandatory cat image to flip :-)
[02:34:52] <Celelibi> Hm... maybe. :)
[02:50:27] *** Joins: incognito (~relativit@user/incognito)
[02:52:58] <rawtaz> i still dont get how https://github.com/mcuadros/ofelia#docker-labels-configurations can run the equivalent of `docker-compose exec` on another container when all it gets is a *read-only* /var/run/docker.sock. it's using https://github.com/fsouza/go-dockerclient but from what i can tell that one uses the socket to communicate REST. so how the heck can it do that if the socket is ready-only? :/
[02:53:17] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[02:56:06] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[02:58:25] *** Quits: The_Jag (~The_Jag@host-82-54-168-243.retail.telecomitalia.it) (Quit: The_Jag)
[02:59:43] *** Quits: mickey8 (~user@user/mickey) (Remote host closed the connection)
[02:59:58] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[03:00:11] *** Joins: mickey8 (~user@user/mickey)
[03:07:12] *** Joins: nvmd (~nvmd@user/nvmd)
[03:11:40] <Celelibi> If all there is is simple apps to dockerize, maybe I can ask them to do several of them. In increasing order of complexity.
[03:11:59] <rawtaz> yes
[03:12:27] <rawtaz> start small, have them do two or perhaps three, leave the last one as an optional one if theyre curious and its going well
[03:13:32] <Celelibi> Probably start with an alpine with bash. Then a web app, then a python app with several layers of dependencies.
[03:15:27] <devslash> has anyone here used Authelia
[03:16:01] <rawtaz> personally i would suggest using bullseye instead. it's not a fun or great start for them if they need to go into the container to debug something as part of their process (or just try commands that they intend to then put into the Dockerfile) and discover how alpine sucks when it comes to having tools.
[03:16:39] <rawtaz> theres simply no point "optimizing" with alpine at this learning stage. it's better they have tools they need
[03:17:01] *** Joins: Leonarbro (~Leonet@user/leonarbro)
[03:17:05] <rawtaz> devslash: if you find anything about how secure it is, please let me know :D
[03:17:15] <devslash> ok
[03:17:20] <devslash> im still setting it up
[03:17:25] <Celelibi> You're not wrong. I was more thinking about them having to download a smaller base image.
[03:18:01] <rawtaz> Celelibi: is the different really that big? is the internet connection relevantly limited? they pretty much only have to download it once per user, perhaps two if they delete it for some reason
[03:18:07] <rawtaz> difference*
[03:19:09] <Celelibi> IIRC, yes the difference is pretty big. Intrenet connection as school sucks a lot. But this time the course will be in remote.
[03:19:41] <Celelibi> So, network quality unknown.
[03:20:50] <rawtaz> i see
[03:20:57] <rawtaz> you could set up oyur own repo :D
[03:21:36] <rawtaz> but yeah i hear you, might be best going for alpine. or you could just try it when you get there and tell them alpine or bullseye when you know the status
[03:22:14] <Celelibi> 100+MB for debian. 5.57MB for alpine. A 20x factor is quite significant. ^^
[03:23:02] *** Quits: luva (~luva@45.141.152.53) (Ping timeout: 260 seconds)
[03:23:41] <rawtaz> hah is it that much, cool
[03:23:55] <rawtaz> do you know of any common images that are in between that?
[03:24:09] <rawtaz> i just rip my hair every time i enter an alpine image, i hate them :P
[03:24:30] <Celelibi> Not really. I never had a use for anything in between.
[03:24:48] <Celelibi> Either I want a known environment with a ton of packages, whatever size it takes.
[03:25:04] <Celelibi> Or I want to optimize for size and spend the time and effort to use alpine.
[03:25:19] <rawtaz> mhm
[03:25:58] *** Joins: luva (~luva@45.141.152.54)
[03:26:47] <Celelibi> I even went all the way to create my own alpine packages when it didn't have them in order to have a clean installation (that doesn't have build files and all) afterwards.
[03:43:15] *** Quits: Latrina (~Latrina@user/latrina) (Ping timeout: 260 seconds)
[03:43:57] *** Quits: lemonsnicks (~lemonsnic@cpc159519-perr18-2-0-cust114.19-1.cable.virginm.net) (Ping timeout: 268 seconds)
[03:44:03] *** Joins: Latrina (~Latrina@user/latrina)
[03:44:07] *** Quits: ses (uid38151@id-38151.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[03:44:33] *** Quits: adhawkins (~adhawkins@user/adhawkins) (Ping timeout: 268 seconds)
[03:44:40] *** Joins: adhawkins_ (~adhawkins@user/adhawkins)
[03:45:09] *** Joins: lemonsnicks (~lemonsnic@cpc159519-perr18-2-0-cust114.19-1.cable.virginm.net)
[03:46:12] *** adhawkins_ is now known as adhawkins
[03:48:10] *** Joins: monoxane0 (~monoxane@user/monoxane)
[03:50:10] *** Quits: monoxane (~monoxane@user/monoxane) (Ping timeout: 260 seconds)
[03:50:11] *** monoxane0 is now known as monoxane
[03:53:00] *** Quits: TomTom (uid45892@id-45892.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[03:54:24] *** Joins: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:81c2:8ea9:b0a1:7e99)
[04:36:07] *** Quits: jaykelly450 (~vagrant@c-73-82-49-38.hsd1.ga.comcast.net) (Quit: WeeChat 3.0)
[04:53:15] *** Quits: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970:81c2:8ea9:b0a1:7e99) (Quit: So as you can see from this flowchSQUIRREL!!)
[05:03:58] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Remote host closed the connection)
[05:05:08] *** Quits: trevors_ (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[05:13:56] *** Joins: lenswipe (~lenswipe@pool-173-48-154-44.bstnma.fios.verizon.net)
[05:13:58] <lenswipe> hey folks
[05:14:21] <rawtaz> loo
[05:15:11] <wez> werd
[05:16:03] <lenswipe> got a weird issue with my docker swarm manager
[05:16:14] <lenswipe> it won't schedule any services except portainer_agent
[05:16:34] <lenswipe> it _WAS_ working and then I tried to disconnect portainer web GUI from the ingress network and now traefik and everything else won't start
[05:17:09] <lenswipe> I keep seeing failed to deactivate service binding for container portainer_web_gui.1.x4sth5kw476npfj0t22pt7phn" error="No such container: portainer_web_gui.1.x4sth5kw476npfj0t22pt7phn"  in the logs
[05:19:01] <lenswipe> I've now shut down portainer_agent and those errors aren't appearing anymore, but I do see Error (Unable to complete atomic operation, key modified) deleting object [endpoint qkvq52tg1hz1eb1pmmayh1d4t df8fa4785ab68783e7ee3bdaad6036c9e5ecf055fe2b4b23fb889441098343af], retrying.... in there
[05:20:46] *** Quits: junktext_ (~junktext@gateway/vpn/pia/junktext) (Ping timeout: 268 seconds)
[05:23:10] *** Joins: lilgopher (~textual@2601:241:8000:38f0:28f2:fbc4:3935:1d8b)
[05:25:04] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 268 seconds)
[05:27:29] <Celelibi> Damn, so frustrating. How am I supposed to fill 15 hours of course on Docker?
[05:28:12] <rawtaz> things always take longer than you expect
[05:28:27] <rawtaz> will they have docker installed at all or do you need to do that too?
[05:29:55] <lenswipe> Anyone?
[05:30:13] <lenswipe> Docker is refusing to start new containers but complaining that a container that no longer exists doesn't exist.
[05:30:35] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:30:44] <Celelibi> rawtaz, Actually, we already spent 3 hours of the course. I explained the basics, they installed it and play with the run, start, exec and ps commands.
[05:31:24] <rawtaz> ok
[05:31:45] <lenswipe> docker is currently throwing the toys out of the pram and refusing to start a service which it then complains doesn't exist
[05:31:51] <lenswipe> does that make _ANY_ sense to anyone?
[05:32:24] <Celelibi> So, 12 hours to go. How long can it take to talk about image creation and make them practice, and talk about composition and thow in some practice too?
[05:33:00] <Celelibi> That would be some quite long exercises. :D
[05:33:13] <lenswipe> fuck it - I'm reimaging this machine
[05:33:29] <Celelibi> lenswipe, sorry for not helping, but I have no clue.
[05:33:37] <lenswipe> Celelibi, that's okay
[05:33:47] *** Quits: leitz (~LeamHall@cpe-173-172-58-72.tx.res.rr.com) (Quit: nappy time)
[05:33:56] <lenswipe> I've just had it up to here with weird and zany behaviour from docker swarm in the last 24 hours
[05:34:03] <rawtaz> :<
[05:34:20] <rawtaz> what is actually giving those error messages though? it's not something i recognize
[05:34:30] <lenswipe> rawtaz, dockerd
[05:34:37] <lenswipe> dockerd itself is actually throwing those errors
[05:35:21] <Celelibi> Well, one of my students couldn't their container. Some weird permission errors, it appears. No solution worked. She's on windows, has admin permissions, but probably not system admin permissions.
[05:35:21] <rawtaz> cant trick it by creating a container with that exact name? :D
[05:35:30] <lenswipe> rawtaz, it's complaining about the container id
[05:35:32] <Celelibi> Weird MS stuff. I hate it.
[05:35:40] <lenswipe> and it doesn't matter anyway now - the machine is gone, I just wiped the card
[05:35:50] <rawtaz> ok good. what card though?
[05:35:57] <lenswipe> Celelibi, don't talk to me about MS stuff - I just wasted an entire F***ING day debugging some weird SSIS shit.
[05:36:01] <lenswipe> rawtaz, SD card
[05:36:13] <rawtaz> hm the machine runs off an sd card? what machine is that? :D
[05:36:21] <lenswipe> rawtaz, raspberry pi
[05:36:29] <lenswipe> ...though some servers do run off SD cards
[05:36:32] <rawtaz> i C
[05:37:03] <lenswipe> actually that's not quite accurate, I think those servers have a tiny OS on the card or something and then they netboot...i forget
[05:38:33] <Celelibi> Is there another more advanced topic on docker I could add to the course after composing?
[05:39:12] <lenswipe> Celelibi, orchestration maybe?
[05:39:25] <rawtaz> it would be nice setting up a reverse proxy with automatic lets encryot, e.g. with traefik or caddy
[05:39:47] <Celelibi> lenswipe, Probably too advanced for me since I'm not sure what it is. ^^
[05:40:07] <rawtaz> accept my speling..
[05:40:50] <Celelibi> rawtaz, you mean like a project where they have to build some stuff on their own?
[05:41:51] <rawtaz> not sure how you mean, im mostly thinking of a docker-compose solution again, but one that has a reverse proxy with lets encrypt, fronting e.g. two separate other services (docker-compose solutions) by listening on labels from those other containers
[05:43:07] <lenswipe> Celelibi, oh, i thought you were designing a course for others
[05:43:36] *** Quits: emerent (~quassel@p200300cd57485527ba27ebfffed28a59.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[05:43:37] <Celelibi> rawtaz, Yes, I was thinking, maybe first a very guided set of exercises with very simple apps for them to learn docker compose. Then a less guided project where they have more freedom of form.
[05:43:43] <Celelibi> lenswipe, I am.
[05:44:02] *** Quits: wasd (~wasd@user/axis) (Remote host closed the connection)
[05:44:12] <Celelibi> Therefore I can't explain something I'm not used to manipulate. ^^
[05:44:16] <rawtaz> i think that once youre beyond the basics, giong for some real world applicable examples is good
[05:44:49] *** Joins: emerent (~quassel@p200300cd57485527ba27ebfffed28a59.dip0.t-ipconnect.de)
[05:50:17] <Celelibi> Hm. Maybe before docker compose I can make them configure the network manually and spin up the containers one at a time.
[05:53:02] *** Quits: ajfriesen (~ajfriesen@cable-78-35-98-50.nc.de) (Quit: Ping timeout (120 seconds))
[05:53:18] *** Joins: ajfriesen (~ajfriesen@cable-78-35-98-50.nc.de)
[05:54:32] *** Quits: Bebef (sbreit@phobos.bebef.de) (Quit: Ping timeout (120 seconds))
[05:55:14] *** Joins: Bebef (sbreit@phobos.bebef.de)
[05:57:57] *** Joins: Bebef9 (sbreit@phobos.bebef.de)
[05:58:02] *** Quits: churnd (~churnd@user/churnd) (Ping timeout: 260 seconds)
[05:58:37] *** Joins: TheFatherMind- (~TheFather@user/thefathermind)
[05:58:47] *** Joins: PrinceAMD (~PrinceAMD@user/princeamd)
[05:59:18] *** Joins: deni_ (~deni@user/deni)
[05:59:20] *** Quits: Bebef (sbreit@phobos.bebef.de) (Client Quit)
[05:59:20] *** Bebef9 is now known as Bebef
[05:59:24] *** Joins: factor1 (~factor@c-66-30-67-217.hsd1.ma.comcast.net)
[05:59:26] *** Quits: eyJhb (~eyJhb@user/eyjhb) (Ping timeout: 260 seconds)
[05:59:33] *** Joins: churnd (~churnd@user/churnd)
[05:59:39] *** Quits: deni (~deni@user/deni) (Read error: Connection reset by peer)
[05:59:45] *** Joins: eyJhb (~eyJhb@user/eyjhb)
[05:59:47] *** Quits: TheFatherMind (~TheFather@user/thefathermind) (Ping timeout: 264 seconds)
[05:59:48] *** TheFatherMind- is now known as TheFathermInd
[05:59:52] *** Quits: brooks7 (~bswinnert@23.157.160.131) (Quit: Ping timeout (120 seconds))
[06:00:25] <PrinceAMD> Hi, I have a docker-compose file with 3 service, [echo, queue, web]. is it possible to get the container name that docker-compose generates on "docker-compose up" of 'echo' and save it in an env variable in the service 'web'?
[06:01:13] <PrinceAMD> 'web' needs to know 'echo' hostname.
[06:02:42] *** Quits: factor (~factor@c-66-30-67-217.hsd1.ma.comcast.net) (Ping timeout: 260 seconds)
[06:02:42] *** factor1 is now known as factor
[06:07:45] <rawtaz> PrinceAMD: perhaps docker inspect
[06:08:13] <rawtaz> ok never mind i guess you want to get it from compose
[06:08:34] <PrinceAMD> i'd like to set it within the compose file.
[06:08:37] *** Joins: i64 (i64@gateway/vpn/protonvpn/i64)
[06:10:03] <PrinceAMD> is there a variable to get the basename / parent folder that the docker-compose.yml ?
[06:11:41] <rawtaz> `dirname $PWD` or `dirname /path/to/the/docker-compose-file`
[06:22:25] *** Quits: A17 (~deejayh@71-36-110-208.ptld.qwest.net) (Ping timeout: 268 seconds)
[06:23:21] <Celelibi> God, I should have never accepted to teach docker. I feel like I lack quite some experience to give them meaningful exercises. :(
[06:24:31] <Celelibi> Well, I'll get paid anyway.
[06:25:03] *** Quits: lenswipe (~lenswipe@pool-173-48-154-44.bstnma.fios.verizon.net) (Quit: Leaving)
[06:26:47] <PrinceAMD> @Celelibi, once it's in a container, you're winning!
[06:27:36] <Celelibi> Once what is in a container? The money? ^^
[06:29:01] *** Quits: ajfriesen (~ajfriesen@cable-78-35-98-50.nc.de) (Ping timeout: 256 seconds)
[06:29:07] <PrinceAMD> the hello world script
[06:29:32] *** Joins: ajfriesen (~ajfriesen@cable-78-35-98-50.nc.de)
[06:29:35] *** Quits: AsenMx (~AsenMx@78.90.248.234) (Ping timeout: 256 seconds)
[06:29:59] *** Joins: AsenMx (~AsenMx@78.90.248.234)
[06:30:37] *** Quits: SpeakerToMeat (~Speaker@user/speakertomeat) (Read error: Connection reset by peer)
[06:35:28] <rawtaz> Celelibi: hand it over to me then, i have tons of ideas on how to set up a very useful course for them
[06:35:50] <rawtaz> but i guess youre not in the south of sweden :P
[06:36:24] <Celelibi> I'm in france. And most of the time the course is IRL. Not in remote.
[06:36:42] <Celelibi> And I guess you don't speak french. ^^
[06:37:03] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[06:37:11] <rawtaz> yeah
[06:37:15] <rawtaz> oh no i dont
[06:41:37] *** Quits: PrinceAMD (~PrinceAMD@user/princeamd) (Remote host closed the connection)
[06:47:58] *** Joins: SpeakerToMeat (~Speaker@user/speakertomeat)
[06:49:17] *** Joins: gooble_gobble (~gooble_go@bba183229.alshamil.net.ae)
[06:58:51] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) ()
[07:01:51] *** Quits: lilgopher (~textual@2601:241:8000:38f0:28f2:fbc4:3935:1d8b) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[07:10:31] *** Quits: i64 (i64@gateway/vpn/protonvpn/i64) (Ping timeout: 268 seconds)
[07:15:59] *** Joins: DogHackit (~nathanren@c-76-27-57-63.hsd1.ut.comcast.net)
[07:16:10] <DogHackit> Does anyone know of a way to authenticate to a private regitry from within a Dockerfile?
[07:16:15] <DogHackit> What I mean by that is one of my stages is FROM an image on a private registry, so I am getting a 401 when I try to build.
[07:17:04] *** Joins: nickdiazswag209 (~bjpenn_@98.42.87.100)
[07:17:27] <nickdiazswag209> hey guys, i have a docker image my_image that uses a base image (foo), and that uses a base image bar, which is using a really old version of ubuntu (trusty). There's a lot of CVEs that are only available in Xenial. What are my options to resolve them without touching foo and bar
[07:21:37] <rawtaz> modify the my_image such that it updates the system
[07:22:43] <nickdiazswag209> well right now my_image is running trusty, so to get it to xenial, it would need some changes to /etc/apt/sources.list, and then an apt-get upgrade -y, but isn't this bad practice?
[07:22:48] <nickdiazswag209> or could seriously fubar it :P
[07:23:34] <nickdiazswag209> well i meanm every solution may seriously fubar, but isn't it bad practice 
[07:25:21] <rawtaz> nickdiazswag209: if you have images A - B - C - D where the higher letter depends on the lower letter, and the security issues is in A, then of course it's best to change A for something more up to date. but if you dont want to do that and cant modify B and C, then you're only left with modifying D. running those ocmmands you mentioend in there should be doable i suppose, its like any other system you have and need to upgrade
[07:26:43] <nickdiazswag209> yah, thats my thought as well, just wanted to see if there was a miracle :)
[07:27:41] <rawtaz> DogHackit: not finding anything on it, so i dont know. but if you stay tuned a day or so others might
[07:27:51] <rawtaz> there are some professionals in here :P
[07:28:19] <DogHackit> rawtaz: lol. Thanks! I didn;t find anything either, that is why I am here :D
[07:28:42] <rawtaz> yeah :<
[07:28:47] <rawtaz> hard to google that
[07:28:59] <rawtaz> seems everything points to setting up authentication for repos
[07:29:15] <nickdiazswag209> thats exactly the issue now... A - B - C (where higher depends on lower letter), A has vulnerabilities, B is unsupported... and C which i manage needs to be fixed. I guess my options are to rebuild completely on a base that i completely manage
[07:29:26] <nickdiazswag209> or do the apt-get upgrade -y
[07:29:30] <DogHackit> I think the answer might be envars in a compose file, but I wanted to ask before barking up that tree.
[07:29:33] <rawtaz> nickdiazswag209: what needs to be fixed?
[07:29:46] <nickdiazswag209> a bunch of CVEs, that requires apt-get upgrade
[07:30:01] <rawtaz> nickdiazswag209: i really dont see what youre hesitant about. just do what needs doing? :)
[07:30:14] <nickdiazswag209> but the image is running on an old distro release... the fixes are in higher releases
[07:30:37] <nickdiazswag209> rawtaz: i suppose :)
[07:30:53] <rawtaz> yeah and hte obvious normal way to deal with that is to update the image to a newer version.
[07:31:28] <rawtaz> if B is unsupported i gues you might run into trouble there, but it shouldnt matter much if you update A or C - B will/should still run in the same environment after that
[07:31:51] <nickdiazswag209> yeah, the "normal" (best practice) way, and what i'd like to do, is just  alot fo work. Forking A, B, basing those on a higher version, etc
[07:32:50] <nickdiazswag209> of course with my luck, the version in A is probably required for stuff done in B, which in turn stuff in B is required for stuff done in C :)
[07:33:06] <devslash> has anyone here used Authelia
[07:35:36] <rawtaz> nickdiazswag209: yeah
[07:36:04] <rawtaz> DogHackit: i havent still but is there anything in particular youre curious about?
[07:36:22] *** Joins: lilgopher (~textual@2601:241:8000:38f0:28f2:fbc4:3935:1d8b)
[07:39:25] *** Joins: mir3g (~mir3g@64.212.218.241)
[07:39:53] <mir3g> hello. I don't understand why anyone would want to add a regular user to the docker group?
[07:40:20] <mir3g> if adding to the docker group is the same as having root access then why not just use root?
[07:40:21] <rawtaz> so that the regular user can run docker commands, which they normally cant
[07:40:29] <rawtaz> its not the same as having root access
[07:40:38] <mir3g> how is it not the same
[07:40:50] <rawtaz> with root, you can do anything in the system. being a member of docker, you can run docker stuff. you cant do everything else root cando
[07:41:17] <mir3g> I can use it to rewrite anything on the system including something that will change root password
[07:41:49] <mir3g> so maybe I should make a special docker user? and consider is semi root?
[07:41:53] <rawtaz> you mean because you run docker daemon as root?
[07:41:54] <mir3g> it*
[07:42:15] <rawtaz> well isnt that basically what youre doing with your regular user when you make them part of the docker group?
[07:42:27] <mir3g> I mean I can mount /bin as a volume and write whatever the heck I want to it
[07:42:53] <DogHackit> rawtaz: Still haven't what? Was that a miss tag?
[07:43:09] <mir3g> rawtaz, yes it is but I am not running my web browser using the special docker user
[07:43:13] <rawtaz> DogHackit: yeah sorry for disturbing your idling!
[07:43:31] <rawtaz> devslash: i havent still but is there anything in particular youre curious about?
[07:43:43] <DogHackit> lol. Just thought you might have some more insight. No problem.
[07:48:13] <mir3g> rawtaz, does docker let me mount /bin as a volume and write to it?
[07:48:18] <mir3g> as root
[07:49:25] <rawtaz> i never tried that, but i was guessing thats what you meant (you never answered my question so i wasnt sure)
[07:49:41] <rawtaz> might be something to try :)
[07:50:14] <mir3g> which question haven't I answered?
[07:50:34] <rawtaz> < mir3g> I can use it to rewrite anything on the system including something that will change root password
[07:50:37] <rawtaz> < rawtaz> you mean because you run docker daemon as root?
[07:50:44] <rawtaz> i wasnt sure in what way you meant
[07:52:18] <mir3g> mir3g 23:12:27
[07:52:18] <mir3g> I mean I can mount /bin as a volume and write whatever the heck I want to it
[07:52:30] <mir3g> answered in an unrefined way
[07:52:36] <mir3g> I am not a security expert
[07:53:00] <rawtaz> so you know that you can do that? i never tried it so i cant verify
[07:53:07] <rawtaz> i presume that in some way you can
[07:53:13] <rawtaz> if it runs as root
[07:53:19] <rawtaz> which it does i think :o
[07:53:28] <mir3g> you can
[07:53:38] <rawtaz> theres instructions on how to make it run less privileged
[07:54:00] <mir3g> that should be the default
[07:54:08] <rawtaz> anyway. in general i think its a bit like using sudo instead of root :)
[07:54:11] <rawtaz> yeah
[07:54:28] <mir3g> sudo prompts for a password
[07:55:03] <mir3g> something can't just execute in the background and get root without password prompt
[07:55:15] <mir3g> even windows understood this
[07:55:37] <mir3g> when they made prompting for admin access into a special screen
[07:55:40] <Celelibi> God, I'm so out of energy to write the exercises for image creation. The course start in 4 hours. I don't think I've slept for more than a few hours since monday.
[07:57:02] <rawtaz> Celelibi: then just go sleep and take what you have and improvise! dont worry about ut. have a discussion with them, let them help you lead towards experiments ad-hoc, and youll figure out tasks as you go
[07:57:08] <rawtaz> let them throw up the ideas
[07:57:36] <rawtaz> mir3g: of course, theres a difference. i was referring to the old "why use sudo instead of just being root"
[07:57:56] <Celelibi> Well, not this time. They need to have two grades. I think this part is a good one to grade.
[07:58:32] <Celelibi> Also, they're very passive. It's hard to have a talk with them.
[07:59:33] <rawtaz> even if thats the case, ask them questions that leads to some suggestions. surely youll come up with something to turn into images as you go. just use whatever s common. web services. dbs. compose. etc.
[07:59:34] <Celelibi> Hm. If I create an image with docker commit, is there a way to set an entrypoint and cmd?
[07:59:59] <mir3g> rawtaz, even docker docs end with "Finally, if you run Docker on a server, it is recommended to run exclusively Docker on the server, and move all other services within containers controlled by Docker. "
[08:00:00] <rawtaz> i think its more important that you go sleep for three hours (thats two deep sleep cycles, mind you) than that you try to push this planning further, it's just futile
[08:00:33] <Celelibi> I'll have a whole week to sleep after that. ^^
[08:00:37] <mir3g> I think it is reckless to be telling noob users to install docker on their personal machines and add their main user to the docker group
[08:01:00] <rawtaz> mir3g: what do you suggest should be done instead?
[08:01:29] <Celelibi> What should be done is a better UID/GID handling for bind mounts. :)
[08:01:59] <rawtaz> i always use bind mounts and never have problems with the UID/GID. i dont see what people are complaining about
[08:02:08] <rawtaz> but i think thats due to running it quite stand-alone
[08:02:19] <Celelibi> Because it gives root access to anyone who can run a container.
[08:02:20] *** Quits: DogHackit (~nathanren@c-76-27-57-63.hsd1.ut.comcast.net) (Ping timeout: 268 seconds)
[08:02:26] <Celelibi> root access on the host
[08:02:39] <rawtaz> Celelibi: hm can you explain how that works?
[08:03:23] <Celelibi> Mount /etc, add yourself to the sudoers. Mount /boot, put a backdoor into the kernel. Mount any directory, write a suid root file that just pops a root shell.
[08:04:07] <Celelibi> Basically, being in the docker group gives the user root access on the host.
[08:04:46] <mir3g> exactly
[08:05:07] <rawtaz> yeah but what about someone that is only inside the container, they cant just mount the host's /etc can they?
[08:05:36] <rawtaz> e.g. if you have a vulnerable web service container that someone completely owned the inside of
[08:05:38] <Celelibi> Indeed it doesn't allow escaping the container.
[08:05:46] <mir3g> should at least require sudo to run docker so end users realize that they are executing something with root privileges
[08:06:16] <rawtaz> you could set sudo up to allow that and have them use that instead of just adding them to the group i guess
[08:06:20] <mir3g> Celelibi, emm
[08:06:40] <mir3g> if the container has access to the docker-compose.yml file they can edit it
[08:06:48] <mir3g> cause the container to crash
[08:07:03] <mir3g> and have it auto restart with their attack
[08:07:19] <Celelibi> mir3g, I'd rather see an explicit mapping of the UIDs and GIDs. So that when a file is written as root into a bind mounted directory it could be mapped to any other uid.
[08:08:13] <mir3g> the only reason root is needed is to open ports?
[08:08:52] <Celelibi> That's for writing files, for reading... we would need some more involved checks that remember the uid of the user that started the container.
[08:09:49] <rawtaz> mir3g: a container should never have access to that file, if it does then the solution was badly configured :o
[08:10:16] <rawtaz> but shit happens, thats true
[08:10:36] <Celelibi> mir3g, indeed if your container has access to many files, they can do stuff. Accessing $HOME is very easily done.
[08:10:44] <Celelibi> And it provide access to ~/.ssh
[08:12:20] <Celelibi> Anyway, any idea if there's a equivalent of ENTRYPOINT for docker commit?
[08:12:47] <rawtaz> nite
[08:12:50] * rawtaz &
[08:14:00] <Celelibi> Good night
[08:22:51] <mir3g> docker run -it --rm -v /:/host alpine cat /host/etc/shadow
[08:23:26] <mir3g> why the heck can this be done with the default recommended config??
[08:25:46] <mir3g> honestly I don't get why any documentation is telling anyone to add a user to docker group
[08:26:14] <mir3g> docker should be used with sudo so the user knows they are executing privileged commands
[08:30:16] *** Quits: sudoforge (~sudoforge@wireguard/tunneler/sudoforge) (Ping timeout: 256 seconds)
[08:38:11] *** Quits: David- (~none@51.148.182.203) (Ping timeout: 264 seconds)
[08:38:34] *** Joins: David- (~none@51.146.48.36)
[08:39:42] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Quit: The Lounge - https://thelounge.chat)
[08:41:02] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[08:43:20] *** Joins: Zelec95645 (~Zelec@user/zelec)
[08:44:50] *** Quits: lilgopher (~textual@2601:241:8000:38f0:28f2:fbc4:3935:1d8b) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[08:45:29] *** Quits: Zelec9564 (~Zelec@user/zelec) (Ping timeout: 268 seconds)
[08:45:30] *** Zelec95645 is now known as Zelec9564
[08:58:55] *** Quits: fusta (~fusta@178.251.43.26) (Quit: Leaving)
[09:09:58] *** Joins: Tas-sos (~Tas-sos@ppp046176200077.access.hol.gr)
[09:13:41] *** Quits: mir3g (~mir3g@64.212.218.241) (Quit: Client closed)
[09:14:05] *** Quits: Tas-sos (~Tas-sos@ppp046176200077.access.hol.gr) (Client Quit)
[09:14:23] *** Joins: Tas-sos (~Tas-sos@ppp046176200077.access.hol.gr)
[09:14:26] *** Quits: David- (~none@51.146.48.36) (Ping timeout: 260 seconds)
[09:15:52] *** Joins: David- (~none@51.146.48.36)
[09:23:30] *** Joins: onizu (uid373383@2a03:5180:f:5::5:b287)
[09:24:20] *** Quits: David- (~none@51.146.48.36) (Ping timeout: 268 seconds)
[09:24:25] *** Joins: forgotmynick (uid24625@2a03:5180:f:4::6031)
[09:36:10] *** Joins: David- (~none@51.146.51.152)
[09:41:14] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Remote host closed the connection)
[09:42:19] *** Joins: Sven_vB (~sven@user/sven-vb/x-2094958)
[09:58:16] *** Joins: Atque (~Atque@user/atque)
[10:02:24] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-25e6-a83c-568d-3ca5.res6.spectrum.com) (Quit: jarthur)
[10:08:09] *** Quits: Bebef (sbreit@phobos.bebef.de) (Quit: bye)
[10:08:59] *** Joins: Bebef (sbreit@phobos.bebef.de)
[10:14:55] <Celelibi> Meh. Would be very annoying to only be able to run docker as root when the only issue is some specific case of mount bind.
[10:15:24] <Celelibi> Well, maybe some network-related stuff as well.
[10:23:34] *** Quits: zuQe8 (~zuQe8@cpc105068-sgyl40-2-0-cust196.18-2.cable.virginm.net) (Ping timeout: 260 seconds)
[10:30:10] *** Joins: ExeciN (~ExeciN@user/nicexe)
[10:41:02] *** Joins: zuQe8 (~zuQe8@cpc105068-sgyl40-2-0-cust196.18-2.cable.virginm.net)
[10:57:48] *** Joins: memoryleak (~memorylea@77-58-142-250.dclient.hispeed.ch)
[10:59:56] *** Quits: mickey8 (~user@user/mickey) (Remote host closed the connection)
[11:00:14] *** Joins: mickey8 (~user@user/mickey)
[11:05:25] *** Joins: lithium (~lithium@user/lithium)
[11:20:52] *** Joins: n1ceAF (~n1ceAF@84.237.231.8)
[11:22:42] *** Joins: TomTom (uid45892@id-45892.ilkley.irccloud.com)
[11:27:23] *** Joins: _ganapathi_ (~ganapathi@115.99.26.203)
[11:30:26] <_ganapathi_> am trying to execute "/usr/bin/docker exec container-name apt-get build-dep -yq -t bullseye /home/app". but getting error as "The value 'bullseye' is invalid for APT::Default-Release as such a release is not available in the sources"
[11:31:05] <_ganapathi_> its not working on custom image
[11:34:10] *** Quits: forgotmynick (uid24625@2a03:5180:f:4::6031) (Quit: Connection closed for inactivity)
[11:35:21] <zoredache> do you need to do an `apt-get update` first? most images delete the package lists cache
[11:36:06] <_ganapathi_> ooh. ok. thanks. let me check
[11:36:26] <riv> https://miro.medium.com/max/2400/0*Q_XUb_sb8PuEoirm is this real?
[11:37:28] <zoredache> riv: is what real?
[11:38:37] <_ganapathi_> thanks. its working. i was wasting time for so long without executing apt-get update. b
[11:40:43] *** Joins: jazzy2 (~jaziz@user/jaziz)
[11:43:35] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 264 seconds)
[11:43:41] *** jazzy2 is now known as jazzy
[11:58:14] *** Joins: denningsrogue0 (~denningsr@206.214.225.174)
[12:00:38] *** Quits: denningsrogue (~denningsr@206.214.235.175) (Ping timeout: 260 seconds)
[12:00:38] *** denningsrogue0 is now known as denningsrogue
[12:03:26] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 268 seconds)
[12:15:13] *** Joins: LordKalma (~LordKalma@server.ruilvo.com)
[12:24:16] *** Joins: akik (akik@dsl-tkubng22-58c1e2-116.dhcp.inet.fi)
[12:24:19] *** Joins: SmokenatorZ62 (~Smokenato@189.78.241.111)
[12:24:54] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Ping timeout: 260 seconds)
[12:24:55] <akik> is docker service create a swarm command? i thought i needed stack deploy for swarm
[12:25:59] <akik> or is stack deploy only for using compose file to define the services?
[12:26:21] *** Quits: SmokenatorZ6 (~Smokenato@201-1-180-241.dsl.telesp.net.br) (Ping timeout: 245 seconds)
[12:26:21] *** SmokenatorZ62 is now known as SmokenatorZ6
[12:28:18] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[12:29:16] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[12:33:45] *** Joins: BenjiProd (~BenjiProd@user/benjiprod)
[12:35:34] *** Joins: fibsifan (~quassel@dynamic-089-014-082-131.89.14.pool.telefonica.de)
[12:37:17] <akik> "This command works with the Swarm orchestrator."
[12:43:07] *** Joins: mikeliuk (~mikeliuk@213.205.198.227)
[12:49:00] <LordKalma> Hello there. I could use some help
[12:49:10] <LordKalma> I have this docker-compose file:
[12:49:11] <LordKalma> https://github.com/ruilvo/radioamadorismo-website/blob/feature-docker/docker-compose.dev.yaml
[12:49:21] <LordKalma> But I have this error:
[12:49:25] <LordKalma> time="2021-11-05T09:17:54Z" level=warning msg="The \"DJANGO_ALLOWED_HOSTS\" variable is not set. Defaulting to a blank string."
[12:49:29] <LordKalma> (same for the others=
[12:49:38] <LordKalma> And in the python file:
[12:49:39] <LordKalma> #11 0.673     ALLOWED_HOSTS = os.environ.get("DJANGO_ALLOWED_HOSTS").split(" ")
[12:49:39] <LordKalma> #11 0.673 AttributeError: 'NoneType' object has no attribute 'split'
[12:49:39] *** Joins: rsx (~dummy@ppp-188-174-137-236.dynamic.mnet-online.de)
[12:49:47] <LordKalma> so the environment isn't getting registered
[12:49:53] <LordKalma> am I doing something completely dumb?
[12:49:55] *** Quits: greatgatsby (~greatgats@bras-base-toroon0411w-grc-52-142-114-106-7.dsl.bell.ca) (Remote host closed the connection)
[12:50:10] *** Joins: greatgatsby (~greatgats@bras-base-toroon0411w-grc-52-142-114-106-7.dsl.bell.ca)
[12:54:42] *** Quits: onizu (uid373383@2a03:5180:f:5::5:b287) (Ping timeout: 260 seconds)
[12:56:37] *** Joins: acovrig7 (~acovrig@host-173-247-7-127.JENOLT2.epbfi.com)
[12:57:11] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[12:57:58] *** Quits: acovrig (~acovrig@host-173-247-7-127.JENOLT2.epbfi.com) (Ping timeout: 260 seconds)
[12:57:58] *** acovrig7 is now known as acovrig
[12:58:16] *** Joins: onizu (uid373383@id-373383.uxbridge.irccloud.com)
[13:15:18] *** Joins: johnny_sitar (~artur@078088015209.bialystok.vectranet.pl)
[13:23:22] <Tabmow> LordKalma: What does your Dockerfile look like? Where is DJANGO_ALLOWED_HOSTS being defined?
[13:24:03] <LordKalma> I have DJANGO_ALLOWED_HOSTS in the .env file
[13:24:05] *** Joins: vidbina (~vid@2a02:3032:4:58:4f9c:8db4:bcbc:ae82)
[13:24:22] <LordKalma> Relevant files:
[13:24:23] <LordKalma> https://github.com/ruilvo/radioamadorismo-website/blob/1d4cd60ad7f3468e3bc16ab193603f90fad1a896/docker-compose.dev.yaml
[13:24:26] <LordKalma> https://github.com/ruilvo/radioamadorismo-website/blob/1d4cd60ad7f3468e3bc16ab193603f90fad1a896/dev.env
[13:24:30] <LordKalma> https://github.com/ruilvo/radioamadorismo-website/blob/1d4cd60ad7f3468e3bc16ab193603f90fad1a896/backend/Dockerfile
[13:26:11] *** Quits: _ganapathi_ (~ganapathi@115.99.26.203) (Quit: Leaving.)
[13:38:10] *** Quits: monoxane (~monoxane@user/monoxane) (Remote host closed the connection)
[13:40:05] *** Joins: monoxane (~monoxane@user/monoxane)
[13:40:36] *** Joins: weedmic (~weedmic@109-186-1-92.bb.netvision.net.il)
[13:44:44] <LordKalma> I'm honestly so puzzled haha. I did the same as a tutorial... Interesting
[13:47:09] <ikke> When does this error happen?
[13:48:28] <LordKalma> building the backend image. When it runs the `python manage.py migrate` is when it fails because the env variables weren't available
[13:48:43] <LordKalma> oh wait.... the environment variables aren't available during build?
[13:49:00] <ikke> correct
[13:49:02] <LordKalma> I have to move that command to "runtime" 
[13:49:08] <ikke> you need to provide them as build arguments
[13:49:22] <LordKalma> or move the migration to runtime, right?
[13:49:24] <ikke> yes
[13:49:35] <LordKalma> thanks
[13:50:42] *** Quits: johnny_sitar (~artur@078088015209.bialystok.vectranet.pl) (Ping timeout: 260 seconds)
[13:51:55] <LordKalma> followup question: What's the better way to do it? Other than adding lots of && to "command:"
[13:52:18] <ikke> Have a script in the image that you run
[13:52:41] <LordKalma> lemme try
[13:53:58] <ikke> typically you have an entrypoint script that does some initialization and then runs the actuall command (exec python manage.py runserver 0.0.0.0:8000
[13:54:20] <LordKalma> and the "entrypoint: " thing runs *after* build?
[13:54:34] <ikke> It runs at runtime
[13:54:39] <ikke> when you start the container
[13:54:39] <LordKalma> great, thanks
[13:55:04] <ikke> Note that if you specify an entrypoint, the command will be passed as arguments to your entrypoint
[13:57:41] *** Joins: denningsrogue2 (~denningsr@206.214.225.174)
[13:59:55] *** Quits: vidbina (~vid@2a02:3032:4:58:4f9c:8db4:bcbc:ae82) (Remote host closed the connection)
[13:59:59] *** Quits: denningsrogue (~denningsr@206.214.225.174) (Ping timeout: 268 seconds)
[14:00:00] *** denningsrogue2 is now known as denningsrogue
[14:00:13] *** Joins: vidbina (~vid@2a02:3032:4:58:da94:edcb:94d4:abb0)
[14:00:33] <LordKalma> okay, it works now, thanks
[14:00:42] <LordKalma> I tested with a "command: ./start.dev.sh"
[14:00:58] <LordKalma> rather than an entry point. It's just so I don't have to write two Dockerfiles, only two docker-compose's 
[14:01:07] <LordKalma> django's deployment setup is a bit different 
[14:01:17] <LordKalma> so I can just shove it on another scipt
[14:01:20] <LordKalma> *script
[14:02:06] *** Joins: i64 (i64@gateway/vpn/protonvpn/i64)
[14:04:12] <ikke> You would not need 2 dockerfiles, nore 2 docker-compose files for this
[14:04:15] <ikke> nor*
[14:04:31] <LordKalma> I need separate deployment a development environments
[14:04:36] <LordKalma> with totally different commands running
[14:04:52] <LordKalma> like runserver is completely replaced with another stuff
[14:06:38] *** Quits: fibsifan (~quassel@dynamic-089-014-082-131.89.14.pool.telefonica.de) (Quit: https://quassel-irc.org)
[14:10:25] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[14:11:18] *** Quits: weedmic (~weedmic@109-186-1-92.bb.netvision.net.il) (Quit: Konversation terminated!)
[14:12:42] *** Joins: masber (~masber@vpn-89.cscs.ch)
[14:17:28] *** Joins: incognito (~relativit@user/incognito)
[14:18:42] *** Quits: AsenMx (~AsenMx@78.90.248.234) (Ping timeout: 260 seconds)
[14:24:46] *** Quits: vidbina (~vid@2a02:3032:4:58:da94:edcb:94d4:abb0) (Ping timeout: 260 seconds)
[14:25:53] *** Quits: gooble_gobble (~gooble_go@bba183229.alshamil.net.ae) (Ping timeout: 268 seconds)
[14:26:53] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[14:27:52] *** Joins: mickey8 (~user@user/mickey)
[14:28:33] *** Joins: weedmic (~weedmic@109-186-1-92.bb.netvision.net.il)
[14:37:56] *** Joins: johnny_sitar (~artur@ip-89-161-55-249.tel.tkb.net.pl)
[14:42:23] *** Quits: johnny_sitar (~artur@ip-89-161-55-249.tel.tkb.net.pl) (Ping timeout: 264 seconds)
[14:43:38] *** Joins: bouncy (~ben@user/benoit)
[14:53:36] *** Joins: A17 (~deejayh@71-36-110-208.ptld.qwest.net)
[14:58:34] *** Joins: johnny_sitar (~artur@user-5-173-132-197.play-internet.pl)
[15:02:14] *** Quits: weedmic (~weedmic@109-186-1-92.bb.netvision.net.il) (Quit: Konversation terminated!)
[15:03:08] *** Joins: gooble_gobble (~gooble_go@bba183229.alshamil.net.ae)
[15:03:33] *** Quits: i64 (i64@gateway/vpn/protonvpn/i64) (Ping timeout: 256 seconds)
[15:06:08] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[15:10:15] *** Joins: ses (uid38151@id-38151.hampstead.irccloud.com)
[15:19:25] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Killed (NickServ (GHOST command used by Sven_vB_)))
[15:19:28] *** Joins: Sven_vB_ (~sven@user/sven-vb/x-2094958)
[15:20:43] *** Joins: Xalphor (~hil@193.203.2.244)
[15:23:13] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[15:23:29] *** Joins: mickey8 (~user@user/mickey)
[15:26:12] *** Joins: AsenMx (~AsenMx@78.90.248.234)
[15:34:13] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[15:34:30] *** Joins: mickey8 (~user@user/mickey)
[15:42:04] *** Joins: vidbina (~vid@ip5b40c2e4.dynamic.kabel-deutschland.de)
[15:43:16] *** Quits: onizu (uid373383@id-373383.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[15:44:21] *** Quits: AsenMx (~AsenMx@78.90.248.234) (Ping timeout: 256 seconds)
[15:46:38] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[15:46:55] *** Joins: mickey8 (~user@user/mickey)
[15:48:41] *** Joins: AsenMx (~AsenMx@78.90.248.234)
[15:52:10] *** Joins: pyrrhus (~pyrrhus@user/pyrrhus)
[15:52:18] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Quit: A lol made me boom.)
[15:52:30] *** Quits: Keridos (~Keridos@ironhide.de) (Remote host closed the connection)
[15:52:43] *** Joins: Keridos (~Keridos@ironhide.de)
[15:54:41] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[15:54:51] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 276 seconds)
[15:55:31] *** Joins: CombatVet (~c4@user/combatvet)
[15:55:36] *** Quits: pyrrhus (~pyrrhus@user/pyrrhus) (Client Quit)
[15:56:16] *** Joins: HeavyPodda (~max-m@chrono.xqk7.com)
[15:59:19] *** Quits: max-m (~max-m@2a01:4f8:150:6153:beef::6667) (Ping timeout: 268 seconds)
[15:59:38] *** Joins: thiras (~thiras@user/thiras)
[16:00:52] *** Joins: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[16:04:33] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 268 seconds)
[16:05:11] *** Quits: blackwood821 (~blackwood@user/blackwood821) (Ping timeout: 268 seconds)
[16:06:44] *** Joins: blackwood821 (~blackwood@user/blackwood821)
[16:07:48] *** Joins: AnselmoCampanas (~AnselmoCa@190.99.69.41)
[16:08:35] *** Quits: AsenMx (~AsenMx@78.90.248.234) (Quit: Leaving)
[16:08:52] *** Joins: AsenMx (~AsenMx@78.90.248.234)
[16:10:53] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[16:11:09] *** Joins: mickey8 (~user@user/mickey)
[16:11:51] *** Quits: AsenMx (~AsenMx@78.90.248.234) (Client Quit)
[16:12:12] *** Joins: AsenMx (~AsenMx@78.90.248.234)
[16:13:51] *** Quits: AsenMx (~AsenMx@78.90.248.234) (Changing host)
[16:13:51] *** Joins: AsenMx (~AsenMx@user/asenmx)
[16:14:14] *** Quits: AsenMx (~AsenMx@user/asenmx) (Remote host closed the connection)
[16:14:33] *** Joins: AsenMx (~AsenMx@user/asenmx)
[16:24:56] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[16:25:20] *** Joins: onizu (uid373383@id-373383.uxbridge.irccloud.com)
[16:36:38] *** Quits: l4yer (~l4yer@159.48.55.8) (Ping timeout: 268 seconds)
[16:41:47] *** Joins: l4yer (~l4yer@159.48.55.8)
[16:42:03] *** Quits: Sven_vB_ (~sven@user/sven-vb/x-2094958) (Remote host closed the connection)
[16:42:18] *** Joins: Sven_vB (~sven@user/sven-vb/x-2094958)
[16:42:47] *** Quits: vidbina (~vid@ip5b40c2e4.dynamic.kabel-deutschland.de) (Ping timeout: 268 seconds)
[16:43:19] *** Quits: Leonarbro (~Leonet@user/leonarbro) (Quit: Bye)
[16:48:57] *** Quits: memoryleak (~memorylea@77-58-142-250.dclient.hispeed.ch) (Remote host closed the connection)
[16:49:26] *** Quits: SpeakerToMeat (~Speaker@user/speakertomeat) (Read error: Connection reset by peer)
[16:50:44] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Quit: bye)
[16:53:37] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[16:54:12] <Tas-sos> Hello Docker community o/
[16:55:08] <Tas-sos> I'd like to be able to run a specific docker-composer isolated environment for multiple times in the same time in the same machine
[16:55:16] <Tas-sos> I read this :
[16:55:18] <Tas-sos> https://docs.docker.com/compose/#multiple-isolated-environments-on-a-single-host
[16:55:51] <Tas-sos> which seems very helpfullly, but now I have problem with the container names.. :-/
[16:56:26] <Tas-sos> Creating app-backend ... error
[16:56:32] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Client Quit)
[16:57:03] <Tas-sos> ERROR: for app-backend  Cannot create container for service backend: Conflict. The container name "/app-backend" is already in use by container "13a19..3c". You have to remove (or rename) that container to be able to reuse that name.
[16:57:09] <Tas-sos> what can I do about that ?
[16:57:48] <Tas-sos> I need container names because the different containers ( in this docker-composer environment ) communitcated each other by the name 
[16:58:15] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[16:58:23] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[17:02:32] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 268 seconds)
[17:03:10] <Tas-sos> now I am going to delete all oldest images and containers and run again the following :
[17:03:45] <Tas-sos> docker-compose -f docker-compose.yml --project-name "dev-test"  up --build --abort-on-container-exit --exit-code-from selenium-python-tests
[17:06:42] *** Quits: johnny_sitar (~artur@user-5-173-132-197.play-internet.pl) (Ping timeout: 260 seconds)
[17:07:18] *** Joins: SpeakerToMeat (~Speaker@user/speakertomeat)
[17:18:10] *** Quits: nrg (~NRG@user/nrg) (Quit: ZNC - https://znc.in)
[17:21:34] *** Joins: nrg (~NRG@user/nrg)
[17:22:52] *** Joins: sudoforge (~sudoforge@wireguard/tunneler/sudoforge)
[17:24:31] *** Joins: leitz (~LeamHall@cpe-173-172-58-72.tx.res.rr.com)
[17:27:28] *** Joins: incognito (~relativit@user/incognito)
[17:31:13] <rawtaz> Tas-sos: i dont get the problem. as long as the docker compose project name differs between your "copies" of this docker compose solution, it should be fine. presumably you have the same project name for all of them.
[17:32:03] <rawtaz> either put them in folders with different names, or set the COMPOSE_PROJECT_NAME to different values in each copy of the solution
[17:33:44] *** Joins: Trieste_ (T@user/pilgrim)
[17:34:36] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 268 seconds)
[17:41:32] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[17:42:07] *** Joins: mickey8 (~user@user/mickey)
[17:45:29] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[17:48:38] *** Joins: DoofusCanadensis (~DoofusCan@207.229.38.10)
[17:51:05] *** Joins: minimal (~minimal@user/minimal)
[17:52:45] <leitz> Is there a cleaner, simpler way to make this sample Dockerfile? I'm new to Docker, and trying to write my docs as I go.   https://gist.github.com/LeamHall/bc6e195e08493ebdcd107c7569d9b40f
[18:03:48] *** Quits: AnselmoCampanas (~AnselmoCa@190.99.69.41) (Ping timeout: 256 seconds)
[18:13:02] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[18:13:25] *** Joins: mickey8 (~user@user/mickey)
[18:14:55] *** Quits: SirScott (~SirScott@c-67-176-100-163.hsd1.co.comcast.net) (Quit: The Lounge - https://thelounge.chat)
[18:21:29] *** Joins: SirScott (~SirScott@c-67-176-100-163.hsd1.co.comcast.net)
[18:22:55] <Tas-sos> but I don't know why I'm getting this ==>
[18:22:56] <Tas-sos> https://pastebin.com/raw/P2pjn1gi
[18:23:15] <LordKalma> Is there a way to see what RUN  commands are outputing while the image builds?
[18:23:49] <ikke> The output should just be visible
[18:24:33] *** Quits: nickdiazswag209 (~bjpenn_@98.42.87.100) (Ping timeout: 268 seconds)
[18:25:01] <Tas-sos> rawtaz: `COMPOSE_PROJECT_NAME`  and   `--project-name=something`   it isn't the same ?
[18:26:25] <LordKalma> Like I had this in the log: [2/8] RUN apt-get update && apt-get upgrade -y     && apt-get install -y libpq-dev python3-dev gcc
[18:26:30] <LordKalma> and it didn't output anything
[18:26:34] <LordKalma> (no, not cached)
[18:28:22] <rawtaz> Tas-sos: i havent verified in the docs but i would expect that it results in the same yes
[18:30:07] <Tas-sos> yes.. I read it again.. its the same
[18:30:07] <Tas-sos> The default project name is the basename of the project directory. You can set a custom project name by using the -p command line option or the COMPOSE_PROJECT_NAME environment variable.
[18:30:16] <rawtaz> yes
[18:30:23] <rawtaz> so do that and it should solve your problem
[18:30:33] <Tas-sos> but.. why I have this conflict with container names ?
[18:30:51] <rawtaz> i already answered that the first thing i wrote to you
[18:31:06] <Tas-sos> I try to execute it like that
[18:31:18] <ada_> LordKalma: if you're using buildkit, add a --progress=plain flag to your build command
[18:31:18] <Tas-sos> docker-compose -f docker-compose.yml --project-name "test-1"  up --build --abort-on-container-exit --exit-code-from selenium-python-tests
[18:31:24] <Tas-sos> docker-compose -f docker-compose.yml --project-name "test-2"  up --build --abort-on-container-exit --exit-code-from selenium-python-tests
[18:31:32] <LordKalma> thanks ada_ 
[18:31:33] <Tas-sos> but I get the confict error.. :-/
[18:32:14] <rawtaz> Tas-sos: please run `docker ps` and pastebin the output at kopy.io or similar, then save it and give us the url
[18:32:19] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[18:32:39] <ada_> docker ps -a in case that container exists but is exited
[18:32:59] <rawtaz> Tas-sos: please run `docker ps -a` and pastebin the output at kopy.io or similar, then save it and give us the url
[18:33:03] <rawtaz> :)
[18:33:06] <ada_> :)
[18:33:39] <rawtaz> ada_: i have a question i just cant get my head around, if you dont mind me asking.
[18:33:46] <Tas-sos> I update this ===>  https://pastebin.com/raw/P2pjn1gi
[18:34:20] <ada_> Tas-sos: another thing I see is that container name startrs with a / and thats not valid
[18:34:23] <ada_> share your compose files, too
[18:34:39] <rawtaz> i dont get how https://github.com/mcuadros/ofelia#docker-labels-configurations can run the equivalent of `docker-compose exec` on another container when all it gets is a *read-only* /var/run/docker.sock. it's using https://github.com/fsouza/go-dockerclient but from what i can tell that one uses the socket to communicate REST. so how the heck can it do that if the socket is ready-only? :/
[18:35:03] <LordKalma> Another question, sorry, is there a way to *not* have to duplicate these variables? SQL_DATABASE and POSTGRES_DB: https://github.com/ruilvo/radioamadorismo-website/blob/feature-docker/dev.env
[18:35:37] <rawtaz> LordKalma: you cant modify the files that make use of the vars?
[18:35:48] <ada_> LordKalma: use YAML anchors https://docs.docker.com/compose/compose-file/compose-file-v3/#extension-fields
[18:36:22] <ada_> not really sure what you mean by "duplicate" but I'm assuming you have several services that use the same variables and you want to avoid repeating yourself
[18:36:31] <Tas-sos> this is the actually docker-composer file :
[18:36:31] <Tas-sos> https://raw.githubusercontent.com/grnet/agora-sp/master/docker-compose.yml
[18:36:42] <LordKalma> ada_, I have two services that want the same data with two different variable names
[18:36:43] <rawtaz> Tas-sos: as you can see you already have a container running with that name app-backend, see the last line in https://pastebin.com/raw/P2pjn1gi . i think as ada_ said we need to see your complete compose files
[18:36:45] <ada_> so you could make an extension field containing those variables and re-use the extension field
[18:36:46] <LordKalma> thanks on the tip btw
[18:36:54] <ada_> LordKalma: yeah that is my assumption
[18:36:57] <LordKalma> rawtaz, yes, on one of them, but it would change the semantics
[18:37:14] <ada_> Tas-sos: yes, both compose files since I noticed you're using -f to extend a compose file with another one
[18:38:22] <ada_> oh wait
[18:38:40] <ada_> misread the command line - you're just using -f but not actually extending anytthing
[18:39:27] <ada_> yeah container db2ee7777 just exists
[18:39:29] <ada_> remove it
[18:39:36] <Tas-sos> yes yes sorry guys the other one is for Jenkins pipeline 
[18:40:08] <LordKalma> I tried the yaml equivalent of {"env_file": "dev.env", "environment": ["POSTGRES_DB":"${SQL_DATABASE}"]} but it complains that doesn't exist at that moment... 
[18:40:21] <ada_> LordKalma: you'd have to show me your yaml
[18:40:35] <Tas-sos> sorry sorry, this is the actully docker-compose file that I try to run now locally :
[18:40:38] <Tas-sos> https://raw.githubusercontent.com/grnet/agora-sp/master/docker-compose.yml
[18:40:54] <LordKalma> ada_, feel free to explore at will: https://github.com/ruilvo/radioamadorismo-website/blob/feature-docker/docker-compose.dev.yaml
[18:40:54] <rawtaz> Tas-sos: you simply have to make the names unique - the names are based on the compose project name and the service names. so if you already have other containers with that name, you must change hte name on that or this one.
[18:41:15] <ada_> Tas-sos: yeah the error message says specifically "a container already exists with that name" and gives you teh container id
[18:41:22] <ada_> you can see from docker ps -a that container with that ID exists
[18:41:23] <ada_> delete it
[18:41:32] <ada_> and then you won't hit the error on "docker-compose up" anymore
[18:41:34] <rawtaz> LordKalma: FWIW here's about extension fields: https://docs.docker.com/compose/compose-file/compose-file-v3/#extension-fields
[18:41:36] <LordKalma> I wanted to avoid repeating myself, but if I cana't do it, that's fine
[18:41:52] <Tas-sos> and with this command I specifically choose to run this one
[18:42:12] <LordKalma> interesting, thanks
[18:42:13] <ada_> LordKalma: what do you want this to look like instead?
[18:42:21] <ada_> LordKalma: I don't see a problem with extension fields in this yaml
[18:42:37] <LordKalma> ada_, the discussion started with me asking about now being redundant here: https://github.com/ruilvo/radioamadorismo-website/blob/feature-docker/dev.env
[18:42:39] <ada_> LordKalma: I do see that you have env-file set twice, to the same file;  is this what you're trying to refactor?
[18:42:50] <LordKalma> SQL_DATABASE == POSTGRES_DB and etc
[18:43:03] <ada_> ohhhh
[18:43:06] <Tas-sos> docker-compose -f docker-compose.yml --project-name example1  up --build
[18:43:09] <Tas-sos> docker-compose -f docker-compose.yml --project-name example2  up --build
[18:43:14] <LordKalma> might refactor it out anyway 
[18:43:16] <ada_> there's no real "elegant" way around that, since both containers have different vars
[18:43:24] <Tas-sos> ( sorry for confusing )
[18:43:32] <LordKalma> yeah, guess not, thanks, sorry for the confusion, ada_ 
[18:43:39] <ada_> no worries
[18:43:53] <ada_> Tas-sos: you can't have container_name set and ALSO use project names
[18:44:07] <ada_> iirc, container_name overrides what would be set by prefixing the project name to the container
[18:44:19] <ada_> so if you want to "up" the stack 2 times with different project names, take out your container_name: keyts
[18:44:24] <ada_> that way they will get prefixed correctly
[18:45:42] <Tas-sos> and this is the actually output when I run in the same time
[18:45:43] <Tas-sos> https://pastebin.com/raw/UcH7RiTN
[18:45:48] <Tas-sos> https://pastebin.com/raw/MP2rSP06
[18:47:01] <Tas-sos> ada_: but containers communicate each other with their names.. 
[18:47:09] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[18:47:32] <programmerq> you can use the service name without overriding the container_name
[18:47:35] <rawtaz> Tas-sos: yes, their *service* names. but the *project* part of the container names can be whatever you want
[18:47:35] <ada_> ^
[18:47:44] <Tas-sos> for example : 1 set up a web site and another container run selenium tests for this website by container name
[18:48:09] <rawtaz> Tas-sos: do you or do you not understand that the problem you are having is that you have a container already running with the same name that you are trying to start a new container?
[18:48:33] <Tas-sos> hmm... yes!
[18:48:50] <Tas-sos> yes I understand fully the ERROR but I cannot understant the reason
[18:48:57] <Tas-sos> so.. Can I also define service name ?
[18:48:58] <ada_> because you have container_name set 
[18:49:01] <programmerq> Tas-sos just drop the container_name and access it by the service name.
[18:49:15] <Tas-sos> I didn't knewn that..
[18:50:56] <LordKalma> thanks all btw, for the friendly support
[18:51:27] <Tas-sos> oh.. my god! 
[18:52:05] <LordKalma> db:4532 :D is all it takes
[18:52:20] <LordKalma> (the service names being hostnames is soooo cool)
[18:55:04] <Tas-sos> Now I think that understand!! I was so confused about the service name   and  contanainer_name
[18:55:07] <Tas-sos> sorry
[18:56:26] <rawtaz> :)
[18:56:31] <rawtaz> learn something new every day
[18:56:41] <rawtaz> LordKalma: yeah thats really nice.
[18:57:14] <Tas-sos> Oh!! Yeah! Yes!! Now works perfect!!! Oh! My GOD! I was so confused about that!
[18:57:25] <rawtaz> haha
[18:57:49] <rawtaz> service names for president
[18:58:39] *** Joins: AnselmoCampanas (~AnselmoCa@190.99.69.41)
[18:59:37] <Tas-sos> Thank you all of them!! I really appriciate your help!! Thank you!! :-)
[18:59:39] <tabakhase> contanainer_name is the devil...
[18:59:44] <rawtaz> yw Tas-sos 
[18:59:55] <tabakhase> only use if absolutely needed cause you need a predictable name from external...
[19:00:26] *** Quits: leitz (~LeamHall@cpe-173-172-58-72.tx.res.rr.com) (Quit: nappy time)
[19:00:42] <rawtaz> ada_: i dont want to be a douche and hog you as a personal support agent, but did you possibly see my question abouve regarding the docker socket being read only and how something can execute stuff?
[19:01:03] <ada_> I did see it but I'm not sure what to think
[19:01:07] <ada_> I mean yeah it makes sense what you said
[19:01:15] <ada_> maybe chalk it up to bad documentation?
[19:01:25] <Tas-sos> this is the changes that I do : https://pastebin.com/raw/7uuNEsvA
[19:01:31] <Tas-sos> and now running in parallel! :-)
[19:01:51] <ada_> rawtaz: also I'd never think you were a douche for asking for help :)
[19:02:07] <rawtaz> cool, thanks. hm not sure how you mean. i mean, the socket is really read only, so presumably the dockerclient there must tell the docker server or daemon to "exec" some other way :O
[19:02:13] *** Quits: Xalphor (~hil@193.203.2.244) (Quit: Konversation terminated!)
[19:02:28] <rawtaz> ada_: haha thanks a lot. i just know how it's good manner to not ask for personal help - if anyone wants to help and can do so they will chime in
[19:02:37] <rawtaz> programmerq: i dont supose you have an idea?
[19:02:48] <devslash> rawtaz, hey
[19:02:52] <rawtaz> it just so weird. ive accepted that it is what it is but i dont get how it works lol
[19:02:53] <devslash> I set up autheli
[19:02:59] <ada_> I guess I don't understand the problem completely; are you looking at a live setup where that's the case?  or was it during readin documentation/instructions?
[19:03:00] <devslash> authelia
[19:03:02] <rawtaz> cant let it go *-*
[19:03:06] <ada_> and you were like, these instructions dont make sense ...
[19:03:17] <tabakhase> rawtaz where from do you pull "when all it gets is a *read-only* /var/run/docker.sock" ?
[19:03:20] <rawtaz> ada_: ive just read the instructions, i will try it shortly, probably today. you think it might not work like that?
[19:03:40] <rawtaz> ada_: you may be right. if it turns out that it doesnt work with :ro but without it, then it might be just a doc issue
[19:03:40] <ada_> I have a hunch it wouldn't, like maybe the author just made a mistake in writing it up
[19:03:51] <rawtaz> i'll try it later :)
[19:04:02] <rawtaz> tabakhase: sorry about that.. here:
[19:04:12] <rawtaz> (wait for it)
[19:04:14] <rawtaz> (drumroll)
[19:04:22] <rawtaz> devslash: cool, what do you think?
[19:04:28] <devslash> I really like it 
[19:04:31] <ada_> rawtaz: https://www.reddit.com/r/Traefik/comments/g46lhh/does_binding_the_docker_socket_in_readonly_mode/
[19:04:31] <rawtaz> tabakhase: i dont get how https://github.com/mcuadros/ofelia#docker-labels-configurations can run the equivalent of `docker-compose exec` on another container when all it gets is a *read-only* /var/run/docker.sock. it's using https://github.com/fsouza/go-dockerclient but from what i can tell that one uses the socket to communicate REST. so how the heck can it do that if the socket is ready-only? :/
[19:04:47] *** Joins: DogHackit (~nathanren@c-76-27-57-63.hsd1.ut.comcast.net)
[19:04:53] <rawtaz> devslash: are you going to try pomerium as well? :D
[19:05:04] <devslash> I use Traefik and add a middleware rule for my web app so you visit mycoolwebapp.mydomain.com and if you arent authenticated, it will redirect you to the login page
[19:05:07] <devslash> no
[19:05:29] <ada_> rawtaz: I suppose the way I understand this is because it's a socket, there's no real way to prevent writing into it, you just aren't able to modify the socket "file" istelf?
[19:05:43] <ada_> so :ro doesn't prevent you from sending HTTP requests just from deleting or modifying the socket file itself?
[19:06:00] <tabakhase> rawtaz i scrolled and saw that message - hence the particular qustion what makes you even think its read-only cause "sockets" and ":ro" is not really a thing, obviously as you need to write to the socket to initiate any communication
[19:06:04] <rawtaz> ada_: oh. my. god. TIL.
[19:06:10] <ada_> yeah I never really thought about that either
[19:06:17] <rawtaz> tabakhase: yeah youre right. i didnt know that :(
[19:06:37] <rawtaz> that changes stuff. i have traefik running with the socket as :ro and would have this crony thing as well that way. hmm
[19:06:44] <tabakhase> rawtaz there are some "docker-socket-proxy" projects that actually filter - for using to let traefik read and such =)
[19:07:58] <rawtaz> so e.g. https://github.com/Tecnativa/docker-socket-proxy, or do you knwo a better one?
[19:08:20] <rawtaz> devslash: you're sold then :-)
[19:08:41] <devslash> Yea. its easy enough to set up and add to existing web apps
[19:08:49] <devslash> and it has built in traefik support
[19:09:13] <rawtaz> tabakhase, ada_ do you guys know some best practice must read article or similar on the basic security measures one should take with docker? i mean, e.g. this proxy would be one such thing that people should know about. i have looked at the docker docs now and then but never caught this.
[19:09:38] <rawtaz> FWIW regarding traefik i think it only needs to read from the socket
[19:10:00] <rawtaz> devslash: sounds good. any idea if it's been audited for security or something like that?
[19:10:42] <tabakhase> rawtaz "Docker Inc.Â´s" answer would be to upgrade to enterprise and use rbac in some paid cluster or so i guess xD
[19:10:48] <rawtaz> hehe
[19:11:11] <ada_> docker, inc's not in the biz anymore :)
[19:11:21] <ada_> mirantis bought the enterprise 
[19:11:40] <tabakhase> to some extend thats the point ;-) 
[19:11:50] <ada_> im not still salty :|
[19:12:10] <devslash> im not sure. id have to check. 
[19:12:42] <tabakhase> almost felt bad reading that HN thread on hatashicorp (vault/vagrant/consul) S-1 - people comparing how they went stellar while docker took a dive m(
[19:12:51] *** Quits: nrg (~NRG@user/nrg) (Quit: ZNC - https://znc.in)
[19:12:58] <rawtaz> im actually quite baffled by how docker thinks "ro" still means writeable..
[19:13:15] <ada_> I don't think its really a docker thing
[19:13:24] <ada_> I think thats something more to do with sockets, let me see here
[19:13:39] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[19:13:54] *** Joins: nrg (~NRG@user/nrg)
[19:14:09] <tabakhase> ye docker isnt rly to fault there - unless youd expect it to throw some "unsupported mode on special bind-mount XY.sock" error or such - whats surely quite a outside-ask
[19:14:39] <devslash> I thought :ro is readonly
[19:14:44] <devslash> and :rw is read write
[19:15:06] <rawtaz> devslash: it is for the actual file. but it doesnt have anything to do with whether or not a process can write to that file or not, unfortunately
[19:15:22] <rawtaz> tabakhase: gotha
[19:15:22] <rawtaz> +c
[19:15:24] *** Joins: johnny_sitar (~artur@078088015209.bialystok.vectranet.pl)
[19:15:25] <ada_> yeah there must be something going on under the hood
[19:15:33] <ada_> read/write filesystem permissions are required to connect to a socket
[19:15:38] <ada_> it doesn't even make sense to be "read" only
[19:15:46] <ada_> because an HTTP GET to list containers is still a write to the socket
[19:15:59] <tabakhase> "read only socket" would be like UDP :P
[19:16:08] <ada_> lol yeah consuming a stream of output 
[19:16:39] <rawtaz> ada_: in this context you are right. but in general terms, i dont see why one couldnt have a socket that's read-only and that a process just ingests data from when some other end writes to it
[19:16:45] <ada_> agree
[19:17:08] <rawtaz> quite interesting nonetheless. i should read all those old unix programming and unix internals books..
[19:17:26] <ada_> I still have my oreilly unix books on the bookshelf
[19:17:31] <rawtaz> nice :)
[19:17:34] <ada_> haven't busted those open in a LONG time
[19:17:49] <tabakhase> im not 1000% how it works in the back, but deal is basically that "you only need read to open the socket" - but actual writing does not happen into that file, but into a stream that the filesystem doesnt even know exists now - dont quote me on that tho...
[19:18:17] <rawtaz> oh, sorry. i just put that on twitter as a quote by you
[19:18:20] <LordKalma> sounds about right
[19:18:25] <ada_> I was reading hte linux manpages and it says te writing process must have rw on the dir containing the socket and a proc must have rw on the socket file itself
[19:18:37] <LordKalma> rawtaz, watch out, you might bet tabakhase CANCELED
[19:18:38] <ada_> the writing process (toi create the socket) ... 
[19:18:48] <rawtaz> LordKalma: O.O
[19:18:56] <tabakhase> LordKalma starting a twitlonger right now o.O
[19:19:13] <LordKalma> *you might get
[19:19:54] * LordKalma inserts some copy-pasta about how he graduated top of his military class or something
[19:19:58] *** Joins: lenswipe (~lenswipe@pool-173-48-154-44.bstnma.fios.verizon.net)
[19:20:18] <rawtaz> in the case of using https://github.com/mcuadros/ofelia#docker-labels-configurations for doing some cron-type work, i think the risk might be acceptable because the container isnt facing anything external, it just runs there all by itself. so it'd be quite some malware in that code for it to do something bad. but for e.g. traefik that faces the internet and has a looot of complexity, its a different matter, might be a good idea to use a socket proxy there.
[19:20:50] <rawtaz> hey it's Len Swipe again!
[19:20:52] <rawtaz> welcome bck
[19:21:33] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[19:22:18] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[19:22:19] <LordKalma> Lens Swipe is glasses cleaning material
[19:22:30] <LordKalma> *Lens Wipe... I can't even make a joke right today
[19:23:12] <ada_> lol Len Swipe
[19:23:52] * DoofusCanadensis swipes at Len
[19:26:51] <lenswipe> Got a weird issue with traefik. It's saying "level=error msg="service \"pihole-pihole\" error: port is missing" container=pihole-pihole-4qvbwm". 
[19:27:10] <lenswipe> That suggests to me that for some reason it can't find the exposed port on that relevant container
[19:27:20] <rawtaz> LordKalma: is that container actually having any listening ports inside it? you can inspect with docker inspect.
[19:27:31] <lenswipe> rawtaz, yeah, it listens on on port 80
[19:27:33] <LordKalma> uh?
[19:27:35] <rawtaz> you could either investigate, which id recomend, or you can force-set the port in the load balancer in traefik
[19:27:35] <lenswipe> that's not even the weirdest thing
[19:27:38] <LordKalma> ah
[19:27:41] <rawtaz> lenswipe: *
[19:28:00] <lenswipe> So, a couple of things here - one I have labels to set the port. That was working fine until I added a secret to the service definition. 
[19:28:04] <LordKalma> I have to learn traefik enventually to setup my django prod environment....
[19:28:09] <LordKalma> that's going to be fun... /s
[19:28:21] <lenswipe> Two, I attached to the traefik container and tried pinging the pihole container and got an IP that according to docker doesn't exist
[19:29:10] <lenswipe> rawtaz, "ping pihole" inside the traefik container gives me:  172.10.0.8
[19:29:39] <lenswipe> my traefik_net network is on the 172.10.42.0/16 network 
[19:29:47] <rawtaz> LordKalma: it's really pretty simple once you fiddled a bit, when the stuff starts falling into place you get most of it right away :) let me know if you need help
[19:29:55] <lenswipe> NONE of the hosts on that network have that IP.
[19:30:16] <lenswipe> LordKalma, same here (ironically) - I've kind of finagled my way around traefik enough now to know how to do most things. 
[19:30:35] <rawtaz> lenswipe: did you restart it all? :D
[19:30:35] <LordKalma> thanks, when I decide to take on the endeavour of setting up gunicorn, and traefik I'll let you know haha
[19:30:37] <lenswipe> so to summarize, it looks like traefik is trying to proxy to an IP that doesn't exist (but responds to pings) and then complaining when it can't 
[19:30:46] <lenswipe> rawtaz, restart what? traefik? pihole? my docker host?
[19:30:51] <rawtaz> lenswipe: also can you find that ip in any docker ps output?
[19:30:56] <lenswipe> good point
[19:31:01] <LordKalma> in my VPS I have apache and all "services" I have on it with apache reverse proxies
[19:31:08] <LordKalma> apache syntax is more human readable
[19:31:09] <rawtaz> lenswipe: i guess im suggesting the entire docker setup including the daemon/service
[19:31:13] <lenswipe> rawtaz, i don't see _any_ IPs in docker ps
[19:31:23] <lenswipe> ports, yes.
[19:31:23] <rawtaz> lenswipe: sorry i meant docker inspect i guess
[19:31:24] <lenswipe> IPs, no.
[19:31:25] <lenswipe> oh
[19:31:27] <rawtaz> the one that outputs a ton of cool info
[19:31:29] <lenswipe> what am i inspecting?
[19:31:32] <lenswipe> the network?
[19:31:45] <rawtaz> anything that can have an ip
[19:32:15] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[19:32:30] <LordKalma> related note: on my VPS I set up portainer and it's so cool to see that sort of info
[19:32:34] <LordKalma> ips and ports and etc
[19:33:15] *** Joins: bouncy (~ben@user/benoit)
[19:33:30] <rawtaz> that portainer thing, i have tried their online demo. it strikes me as a gui to docker-compose basically, it's very 1:1 it seems. that makes me think it's not worth having it, it adds complexity and if you start relying on it for daily tasks you depend on it when it breaks too, it just doesnt seem worth the gain?
[19:33:49] <LordKalma> I mostly use it to look at
[19:33:51] <ada_> lenswipe: do you have traefik's dashboard enabled?
[19:33:51] <lenswipe> rawtaz, docker network inspect traefik_net | jq '.[].Containers' | nc termbin.com 9999
[19:33:53] <rawtaz> if one use it as just like a dashboard perhaps.. but i dont see really a point in using it for managing
[19:33:54] *** Quits: AnselmoCampanas (~AnselmoCa@190.99.69.41) (Ping timeout: 256 seconds)
[19:33:54] <LordKalma> not really to perform admin tasks
[19:34:00] <LordKalma> yes, that's how I use it
[19:34:01] <lenswipe> ada_, I do and pihole doesn't show up on there (it did previously)
[19:34:04] <ada_> ok
[19:34:08] <lenswipe> rawtaz, https://termbin.com/wb9x
[19:34:11] <ada_> trying to catch up, I was afk for a bit
[19:34:24] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[19:34:28] <lenswipe> LordKalma, i dont think you _can_ use it for admin tasks can you? I just use it as a sanity check
[19:34:47] <lenswipe> LordKalma, i.e: does the label I just applied do what I'm expecting.
[19:34:48] <LordKalma> I have virtualmin, openvpn, znc, apache, docker on the real machine. Portainer dockerized, with a reverse proxy address, had Matrix at some point. Have wordpress on a container as well, and now I want to shove this thing I'm writing
[19:34:56] <LordKalma> lenswipe, you can actually
[19:34:57] <lenswipe> holy hell
[19:35:01] <lenswipe> LordKalma, you can?
[19:35:03] <lenswipe> how so?
[19:35:22] <LordKalma> want a screenshot or something?
[19:35:43] <lenswipe> I'd love one
[19:35:50] <rawtaz> lenswipe: it just seems like something got stuck. have you tried simply restarting the traefik stuff?
[19:36:00] <rawtaz> and even the docker service
[19:36:20] <lenswipe> rawtaz, i have not - I'll try that.
[19:36:30] <LordKalma> This is the page you get when you open a container: https://i.gyazo.com/c980f83f086c51581c125a3e41cf6338.png
[19:36:41] <lenswipe> rawtaz, i had this problem last night and ended up wiping the machine because it was repeatedly trying to contact a container that didn't exist
[19:36:51] <lenswipe> LordKalma, that's portainer, not traefik.
[19:36:59] <rawtaz> lenswipe: odd
[19:37:01] <LordKalma> yes, and I was talking about portainer
[19:37:15] <lenswipe> LordKalma, oh lol - i thought you were saying you could use the traefik dashboard for admin
[19:37:22] <LordKalma> hahahah sorry :D
[19:37:29] <lenswipe> rawtaz, well, im restarting docker now - let's see how that goes.
[19:37:36] <lenswipe> LordKalma, np :P 
[19:37:40] <lenswipe> btw, "jq" is awesome <3
[19:38:24] <DogHackit> Does anyone have any suggestions about how to pull an image as a stage from a private regestry from within a Dockerfile?
[19:38:54] <lenswipe> rawtaz, same deal, it's STILL trying to talk to a nonexistant container
[19:40:07] <lenswipe> rawtaz, what the actual hell -
[19:40:23] <lenswipe> https://termbin.com/t36o
[19:41:08] <lenswipe> ....did....did I just assign some public IP space for an overlay network? ðŸ¤¡
[19:41:26] <rawtaz> lenswipe: have you enabled full debug logs in case that helps?
[19:41:35] <lenswipe> no but like...look at that
[19:41:42] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 260 seconds)
[19:42:06] <rawtaz> yeah lol
[19:42:18] <rawtaz> 172.16-31 is private
[19:42:29] <lenswipe> i guess 172.16/16 isn't.
[19:42:46] <lenswipe> h
[19:42:49] <lenswipe> 172.10
[19:43:01] <rawtaz> yeah 172.10 isnt. but 172.16 is
[19:43:31] *** Joins: vidbina (~vid@dynamic-078-054-071-088.78.54.pool.telefonica.de)
[19:43:32] *** Joins: imp (~imp@192-141-191-227.alternativaip.net.br)
[19:43:35] <lenswipe> gotcha
[19:43:42] <lenswipe> well I'll trash and re-create my network
[19:43:51] <rawtaz> https://en.wikipedia.org/wiki/Private_network#Private_IPv4_addresses
[19:44:00] <lenswipe> btw, can i re-create my traefik network from the stack?
[19:44:02] <lenswipe> stack file*
[19:44:03] <ada_> DogHackit: FROM private.regsitry.com/doghackit/foo:v1
[19:44:33] <DogHackit> ada_: How would I handle authentication, though?
[19:44:48] <DogHackit> I get a 401 when I just do that.
[19:44:54] <ada_> your docker client would be set up for authentication before that build
[19:45:01] <ada_> docker login private.registry.com and store an auth token
[19:46:37] *** Joins: jkwnki1 (~jkwnki@p4fedba9d.dip0.t-ipconnect.de)
[19:46:38] <rawtaz> lenswipe: uh is that a swarm question? otherwise, can you just delete the network using `docker network rm` or such?
[19:46:39] *** Joins: jkwnki2 (~jkwnki@p4fedba9d.dip0.t-ipconnect.de)
[19:47:04] <DogHackit> I am creating a dev enviroment...for devs. They just run docker-compose up. I guess I could store an ENV_VAR in the docker-compose.yml somehow?
[19:47:19] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[19:48:17] <lenswipe> rawtaz, you can't delete a network that has services attached.
[19:48:30] <programmerq> DogHackit: an env_var in the docker-compose.yaml won't get registry credentials. you'll still need to have them run the docker login or populate their ~/.docker/config.json with the credentials.
[19:48:41] <lenswipe> im wondering if i can define the network in the actual compose file for the traefik stack so I'm not farting around with docker network create blah blah blah
[19:49:02] <programmerq> lenswipeâ–¸ you can 100% define networks in a compose file.
[19:49:13] <rawtaz> lenswipe: of course youll just down the services first
[19:49:31] <DogHackit> If this done once for each developer, would that be all they needed to configure?
[19:49:48] <programmerq> anyone who wants to access a registry with credentials would need those credentials
[19:49:52] <lenswipe> rawtaz, yeah
[19:49:54] <rawtaz> lenswipe: im sorry i probalby dont know the stuff youre talking about. i just list my networks in my compose files, i never fiddle with docker commands
[19:49:57] <rawtaz> i mean to run services
[19:49:58] <lenswipe> im wondering why I didn't
[19:50:16] <lenswipe> rawtaz, yeah i set this network up with docker commands and I'm really not sure why
[19:50:21] <rawtaz> :D
[19:50:29] <DogHackit> OK, thanks. It is just GitHub Packages, so they all have creds already.
[19:51:25] *** Quits: jkwnki2 (~jkwnki@p4fedba9d.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[19:51:30] *** Quits: jkwnki1 (~jkwnki@p4fedba9d.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[19:52:21] <devslash> does anyone here use portainer
[19:53:48] <rawtaz> yes, LordKalma does
[19:54:10] <LordKalma> I use portainer to look at it
[19:54:15] <LordKalma> I always admin via cli
[19:54:22] <devslash> I need to disable the options force https because it causes portainer to not load
[19:54:31] <devslash> same here
[19:54:39] <LordKalma> portainer is my cleanup tool to see the old images hahah
[19:54:41] <devslash> I create all my containers at the CLI too
[19:54:52] <LordKalma> I never had to deal with http and portainer...
[19:55:02] <devslash> right... its much easier to select all unused images then to do docker system prune -a 
[19:55:23] <LordKalma> hahahah hey, I didn't know much about docker, ok?
[19:56:09] *** Quits: rsx (~dummy@ppp-188-174-137-236.dynamic.mnet-online.de) (Quit: rsx)
[19:56:54] <LordKalma> anyway, I have portainer behind an apache reverse proxy that has https
[19:57:00] <LordKalma> portainer itself is bound to localhost
[19:57:26] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Quit: Good Bye! My bouncer has probably crashed or lost connection to the internet...)
[19:58:44] <lenswipe> rawtaz, ah this is why i used the docker commands
[19:59:20] <rawtaz> lenswipe: what is?
[19:59:21] <lenswipe> https://termbin.com/tpp5
[19:59:48] <devslash> lenswipe, I use the docker commands but dont you find it annoying to type them out all the time
[19:59:57] *** Joins: CodeSpelunker (~CodeSpelu@user/codespelunker)
[20:00:01] <lenswipe> awhttps://termbin.com/13y2
[20:00:02] <lenswipe> rawtaz, https://termbin.com/13y2
[20:00:07] <lenswipe> devslash, yes, i do.
[20:00:25] <lenswipe> devslash, especially when you scale out to other swarm hosts and realize the networks you created were all local and have thus not propogated
[20:01:16] <devslash> I wrote a python script to help me with that ....
[20:01:53] <rawtaz> lenswipe: i dont get it :)
[20:02:05] <devslash> I keep all of my compose files in a single directory with each compose file in its own yml so my script parses the YML and lets you create, delete, stop or stop,delete & recreate a container
[20:02:43] <lenswipe> rawtaz, me either.
[20:02:48] *** Joins: junktext_ (~junktext@gateway/vpn/pia/junktext)
[20:02:56] <lenswipe> rawtaz, i defined the network, docker accepted the update and then creates...that.
[20:02:59] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[20:03:04] *** Joins: fibsifan (~quassel@89.14.82.131)
[20:03:13] <lenswipe> even weirder is that it apparently ignored by IPAM settings :|
[20:03:19] <rawtaz> lenswipe: whate ver you expecting to see in there?
[20:03:23] <rawtaz> were*
[20:04:06] *** Joins: lilgopher (~textual@c-24-12-183-227.hsd1.il.comcast.net)
[20:04:19] <rawtaz> for anyone interested in the docker socket security discussion and/or traefik relating to it, here's actually a very good summary in the traefik docs: https://doc.traefik.io/traefik/providers/docker/#docker-api-access
[20:04:36] <devslash> lenswipe, if you're interested, I can pm you the script
[20:05:23] *** Joins: mickey8 (~user@user/mickey)
[20:05:27] <lenswipe> devslash, nah, thats okay thanks
[20:05:31] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[20:05:39] <lenswipe> rawtaz, well, in my YAML i told it to use 172.16.0.0/16
[20:06:10] <lenswipe> rawtaz, i also told it to use the overlay driver and some other stuff....all of which it ignored.
[20:06:55] <lenswipe> actually, thats not true - i told it to use 172.16.42.0/
[20:06:57] <lenswipe> 24
[20:09:45] <rawtaz> lenswipe: ok. im not sure what your config files look like, i guess theres something wrong somewhere. but then again i never used swarm, i only use compose
[20:09:46] *** Parts: mickey8 (~user@user/mickey) ()
[20:10:17] <lenswipe> oh
[20:10:35] <lenswipe> rawtaz, https://termbin.com/13y2 <--- that's my config
[20:10:38] <lenswipe> and it's in a compose file
[20:11:27] <rawtaz> did you just bitchslap me with a compose file? cool
[20:12:24] <lenswipe> ?
[20:12:49] <lenswipe> i showed you it earlier, but I think it got lost in the mess up thre ^
[20:12:50] <lenswipe> there*
[20:14:50] *** Quits: Forkk (~forkk@li926-228.members.linode.com) (Ping timeout: 260 seconds)
[20:15:32] *** Joins: Forkk (~forkk@li926-228.members.linode.com)
[20:18:06] *** Quits: masber (~masber@vpn-89.cscs.ch) (Ping timeout: 256 seconds)
[20:23:06] <lenswipe> rawtaz, interesting. So apparently it doesn't work if I try to create 172.16.42.0/26. But 172.10.42.0/16 works just fine.
[20:29:10] *** Joins: vagrant1 (~vagrant@c-73-82-49-38.hsd1.ga.comcast.net)
[20:31:02] *** Quits: fibsifan (~quassel@89.14.82.131) (Quit: https://quassel-irc.org)
[20:35:52] *** Quits: zitter (~danilodim@93-57-35-194.ip162.fastwebnet.it) (Read error: Connection reset by peer)
[20:39:16] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[20:40:57] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Killed (NickServ (GHOST command used by Sven_vB_)))
[20:41:00] *** Joins: Sven_vB_ (~sven@user/sven-vb/x-2094958)
[20:49:39] *** vagrant1 is now known as jaykelly450
[20:53:10] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[20:53:29] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[20:54:01] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[20:59:18] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[21:01:53] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[21:02:08] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[21:02:15] *** Quits: CodeSpelunker (~CodeSpelu@user/codespelunker) (Ping timeout: 256 seconds)
[21:08:47] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[21:15:57] *** Quits: n1ceAF (~n1ceAF@84.237.231.8) (Quit: Client closed)
[21:19:59] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[21:20:39] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[21:21:01] <rawtaz> sorry i got stuck on the phone.
[21:21:19] <rawtaz> lenswipe: oh realy? thats interesting
[21:23:46] *** Quits: rowbots (~dirgeable@h96-60-60-73.arvdco.broadband.dynamic.tds.net) (Quit: Leaving)
[21:24:36] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 268 seconds)
[21:24:45] *** Joins: crazymax (~crazymax@user/crazymax)
[21:27:42] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Ping timeout: 268 seconds)
[21:27:55] *** Joins: CodeSpelunker (~CodeSpelu@user/codespelunker)
[21:30:09] *** Quits: bieb (~Bieb@50.228.142.186) (Ping timeout: 268 seconds)
[21:30:26] *** Quits: vidbina (~vid@dynamic-078-054-071-088.78.54.pool.telefonica.de) (Ping timeout: 260 seconds)
[21:40:39] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 276 seconds)
[21:41:11] *** Quits: nrg (~NRG@user/nrg) (Quit: ZNC - https://znc.in)
[21:42:17] *** Joins: nrg (~NRG@user/nrg)
[21:42:36] *** Quits: Buggys (Buggys@Buggy.shelltalk.net) (Ping timeout: 245 seconds)
[21:44:03] <lenswipe> rawtaz, yea
[21:45:09] <riv> is there a way to pass device: /full/path/to/converse-nginx/ this in as a parameter to my docker compose file?
[21:45:15] <riv> instead of hard coding it in the compose file
[21:45:33] <ada_> you could use variable expansion and shell exports
[21:45:58] <riv> cool thanks!
[21:48:56] <riv> docker-compose up -d  im doing this and it's using the old config somehow.. but docker-compose ps shows nothing
[21:52:08] <riv> https://docs.tibco.com/pub/mash-local/4.3.0/doc/html/docker/GUID-BD850566-5B79-4915-987E-430FC38DAAE4.html probably overkill but worked
[21:55:03] *** Quits: mikeliuk (~mikeliuk@213.205.198.227) (Quit: Connection closed)
[21:57:24] *** Quits: imp (~imp@192-141-191-227.alternativaip.net.br) (Read error: Connection reset by peer)
[21:57:58] *** Joins: imp (~imp@192-141-191-227.alternativaip.net.br)
[22:06:23] *** Quits: gooble_gobble (~gooble_go@bba183229.alshamil.net.ae) (Ping timeout: 264 seconds)
[22:07:17] *** Quits: ihaveamac (~ihaveamac@ihaveahax.net) (Ping timeout: 264 seconds)
[22:07:36] *** Joins: ihaveamac (~ihaveamac@ihaveahax.net)
[22:15:08] *** Joins: i64 (i64@gateway/vpn/protonvpn/i64)
[22:16:38] *** Quits: BenjiProd (~BenjiProd@user/benjiprod) (Remote host closed the connection)
[22:28:46] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi) (Ping timeout: 260 seconds)
[22:33:16] *** Quits: onizu (uid373383@id-373383.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[22:33:17] *** Quits: thanas (~thanas@user/thanas) (Quit: ZNC - https://znc.in)
[22:34:43] *** Joins: fedenix_ (~fedenix@gateway/tor-sasl/fedenix)
[22:34:48] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[22:35:13] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Quit: The Lounge - https://thelounge.chat)
[22:35:29] *** Joins: guns (~guns@192-063-030-012.res.spectrum.com)
[22:35:36] *** Joins: thanas (~thanas@user/thanas)
[22:42:57] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[22:47:45] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[22:50:31] *** Joins: Sven_vB (~sven@user/sven-vb/x-2094958)
[22:51:30] *** Quits: Sven_vB_ (~sven@user/sven-vb/x-2094958) (Ping timeout: 276 seconds)
[22:51:45] *** Quits: libcat (~quassel@2a01:4f8:c2c:2b3a::1) (Ping timeout: 265 seconds)
[22:51:59] *** Quits: Flyer (~flyer@lol.flyer.org) (Ping timeout: 252 seconds)
[22:52:01] *** Joins: flynn0 (~mcbloch@user/flynn)
[22:52:13] *** Joins: Flyer (~flyer@lol.flyer.org)
[22:53:24] *** Quits: dostoyevsky2 (~sck@user/dostoyevsky2) (Ping timeout: 268 seconds)
[22:53:26] *** Quits: flynn (~mcbloch@user/flynn) (Ping timeout: 245 seconds)
[22:53:26] *** flynn0 is now known as flynn
[22:54:55] *** Joins: dostoyevsky2 (~sck@user/dostoyevsky2)
[23:00:11] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi)
[23:02:03] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Remote host closed the connection)
[23:09:22] *** Joins: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[23:15:33] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[23:16:50] *** Quits: i64 (i64@gateway/vpn/protonvpn/i64) (Ping timeout: 268 seconds)
[23:16:58] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[23:17:18] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Quit: The Lounge - https://thelounge.chat)
[23:18:03] *** Quits: lenswipe (~lenswipe@pool-173-48-154-44.bstnma.fios.verizon.net) (Quit: Leaving)
[23:18:46] *** Joins: incognito (~relativit@user/incognito)
[23:24:35] *** Joins: lenswipe (~lenswipe@pool-173-48-154-44.bstnma.fios.verizon.net)
[23:24:47] <lenswipe> anyone know what the correct syntax is for config only networks in compose?
[23:26:38] <rawtaz> what does that mean?
[23:26:51] <rawtaz> whats a "config only" network
[23:28:40] <lenswipe> docker network create --config-only --subnet=xxx.xxx.xxx.xxxx/24 --gateway=xxx.xxx.xxx.xxx --ip-range=xxx.xxx.xxx.120/27 -o parent=eth0 native-net
[23:28:48] <lenswipe> You can create a network that's basically a config template
[23:30:05] <rawtaz> for what use?
[23:33:10] *** Quits: flynn (~mcbloch@user/flynn) (Quit: Ping timeout (120 seconds))
[23:33:35] *** Joins: flynn (~mcbloch@user/flynn)
[23:33:40] *** Joins: caverton8 (~caverton@ercro.tech)
[23:33:57] *** Joins: jazzy3 (~jaziz@user/jaziz)
[23:34:03] *** Quits: caverton (~caverton@ercro.tech) (Read error: Connection reset by peer)
[23:34:03] *** caverton8 is now known as caverton
[23:34:17] <rawtaz> i gotta hit the gym. ttyl :)
[23:34:41] *** Quits: lenswipe (~lenswipe@pool-173-48-154-44.bstnma.fios.verizon.net) (Ping timeout: 256 seconds)
[23:35:01] *** Quits: yaalon (~yaalon@cpe-70-121-160-255.satx.res.rr.com) (Read error: Connection reset by peer)
[23:35:02] *** Joins: yaalon_ (~yaalon@cpe-70-121-160-255.satx.res.rr.com)
[23:35:58] *** Quits: CodeSpelunker (~CodeSpelu@user/codespelunker) (Ping timeout: 260 seconds)
[23:38:42] *** Joins: lenswipe (~lenswipe@pool-173-48-154-44.bstnma.fios.verizon.net)
[23:38:42] <lenswipe> r
[23:38:57] <lenswipe> rawtaz, it's the only way to get macvlan networks to work properly.
[23:39:40] <lenswipe> rawtaz, you have to create a config only network and then create another network that you use as the actual macvlan network
[23:39:58] <lenswipe> for reasons i don't understand, it doesn't work if you just straight up create a macvlan network and do it that way.
[23:41:46] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Quit: A lol made me boom.)
[23:42:13] *** jazzy3 is now known as jazzy
[23:43:04] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[23:44:26] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-ed99-7195-2785-ff6d.res6.spectrum.com)
[23:44:33] *** Joins: AnselmoCampanas (~AnselmoCa@190.99.69.41)
[23:46:36] *** Joins: jazzy4 (~jaziz@user/jaziz)
[23:48:02] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[23:49:35] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 264 seconds)
[23:49:44] *** jazzy4 is now known as jazzy
[23:52:13] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[23:54:07] *** Quits: AnselmoCampanas (~AnselmoCa@190.99.69.41) (Quit: Client closed)
