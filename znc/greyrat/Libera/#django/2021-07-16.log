[00:02:53] *** Joins: bilb_ono (~alexmarsh@12.190.239.194)
[00:11:47] *** Joins: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com)
[00:16:54] *** Quits: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com) (Ping timeout: 272 seconds)
[00:20:33] *** Quits: READ10 (~weechat@user/read10) (Quit: WeeChat 3.0.1)
[00:24:38] *** Joins: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75)
[00:27:29] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[00:35:03] *** Joins: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com)
[00:44:51] *** Quits: szymon (~ugh@staticline-31-183-187-232.toya.net.pl) (Remote host closed the connection)
[00:46:15] *** Joins: Steve-Dusty (~Steve-Dus@75-32-236-135.lightspeed.rnpsca.sbcglobal.net)
[00:46:19] <Steve-Dusty> Yo
[00:46:21] <Steve-Dusty> anyone alive
[00:49:59] *** Quits: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com) (Remote host closed the connection)
[00:50:46] *** Joins: fakegermano (~user@2804:431:e7cd:c7c3:e7ed:cff9:4074:d12d)
[00:53:32] *** Quits: bilb_ono (~alexmarsh@12.190.239.194) (Quit: bilb_ono)
[00:58:14] *** Joins: bilb_ono (~alexmarsh@12.190.239.194)
[00:58:29] <shangxiao> yep
[00:58:39] <shangxiao> but I have to go now xD
[00:58:41] *** Quits: shangxiao (~davids@101.181.108.207) (Quit: WeeChat 3.2)
[00:59:59] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:03:35] <ktosiek> Steve-Dusty: to redirect to the "panel" URL you need to provide the room_code - that's what the error is telling you
[01:03:53] <Steve-Dusty> ohh
[01:04:56] <Steve-Dusty> I don't know how I should do that?
[01:04:59] <Steve-Dusty> Do I parse the URL?
[01:06:02] <ktosiek> why would you need to parse the URL?
[01:06:17] <Steve-Dusty> To find the code that the room is
[01:06:19] <Steve-Dusty> so
[01:06:26] <Steve-Dusty> http://127.0.0.1/room/123456
[01:06:29] <Steve-Dusty> I'd parse 123456
[01:06:35] <Steve-Dusty> i dont know any other way
[01:06:43] <ktosiek> let's take a step back - do you know where in your code the error happens?
[01:06:51] <ktosiek> I mean, on which line?
[01:08:34] <Steve-Dusty> 46
[01:08:38] <Steve-Dusty> on the redirect function
[01:09:11] *** Joins: GinFuyou (~GinFuyou@reya.cloud.tilaa.com)
[01:10:31] <ktosiek> Ok. And the URL you want to redirect too looks like "/room/<room_code>" - you need to tell the redirect() function what value to put in room_code
[01:10:35] <Steve-Dusty> Hello GinFuyou
[01:10:41] *** Joins: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com)
[01:10:53] <ktosiek> You already have a room_code available - the one from the url
[01:10:57] *** Quits: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75) (Ping timeout: 245 seconds)
[01:11:01] <Steve-Dusty> yes
[01:11:34] <Steve-Dusty> how? Can I input another argument in redirect?
[01:12:04] <GinFuyou> Evening
[01:12:24] <Steve-Dusty> evening
[01:12:27] <Steve-Dusty> afternoon for m
[01:19:30] <Steve-Dusty> but ktosiek how can I tell what value to put for room_code? Do I not put the NAME in urls.py for redirect?
[01:19:35] <ktosiek> Yes, you can. See here, there's an example of passing a "foo" argument: https://docs.djangoproject.com/en/3.2/topics/http/shortcuts/#redirect
[01:20:33] <ktosiek> name is important, but you can't construct that URL without knowing the room_code - that's why the code failed.
[01:22:15] *** Quits: slav0nic (slav0nic@python.su) (Remote host closed the connection)
[01:22:51] <Steve-Dusty> it worked
[01:22:54] <Steve-Dusty> thank you
[01:28:49] *** Joins: pbrunier (~pbrunier@84-24-22-131.cable.dynamic.v4.ziggo.nl)
[01:29:30] *** Joins: djapo (~archangel@user/djapo)
[01:29:32] *** Quits: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com) (Remote host closed the connection)
[01:39:47] *** Quits: pbrunier (~pbrunier@84-24-22-131.cable.dynamic.v4.ziggo.nl) (Remote host closed the connection)
[01:57:13] *** Joins: Thanatos (~Thanatos@197.210.54.4)
[02:04:10] *** Quits: lxsameer (~lxsameer@109.255.73.218) (Ping timeout: 258 seconds)
[02:07:02] *** Joins: rsiemens (~rsiemens@108.60.175.6)
[02:11:04] *** Quits: tm007 (uid287041@id-287041.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[02:11:17] *** Quits: knbk_ (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl) (Ping timeout: 255 seconds)
[02:12:48] *** Quits: ubernostrum (~jbennett@75-37-202-116.lightspeed.snmtca.sbcglobal.net) (Read error: Connection reset by peer)
[02:12:55] *** Quits: ChOcO-Bn (~choco@user/choco-bn) (Quit: bye)
[02:13:49] *** Joins: ChOcO-Bn (~choco@user/choco-bn)
[02:15:39] *** Joins: TranquilEcho (~grom@user/tranquilecho)
[02:15:58] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 272 seconds)
[02:17:06] *** Joins: ubernostrum (~jbennett@75-37-202-116.lightspeed.snmtca.sbcglobal.net)
[02:18:28] *** Quits: rsiemens (~rsiemens@108.60.175.6) (Quit: Leaving...)
[02:21:09] *** Quits: bilb_ono (~alexmarsh@12.190.239.194) (Quit: bilb_ono)
[02:25:36] *** Joins: bilb_ono (~alexmarsh@12.190.239.194)
[02:28:23] *** Quits: Rikem (~mike@user/rikem) (Ping timeout: 255 seconds)
[02:28:30] *** Joins: rannnn8888 (~rannnn888@bzq-79-182-123-214.red.bezeqint.net)
[02:31:41] *** Quits: ChOcO-Bn (~choco@user/choco-bn) (Quit: bye)
[02:32:18] *** Joins: ChOcO-Bn (~choco@user/choco-bn)
[02:33:02] *** Joins: chowmeined (~chowmeine@user/chowmeined)
[02:35:50] *** Joins: dre (~dre@2001:8003:c932:c301:5158:163a:41f3:cc10)
[02:36:51] *** Quits: ChOcO-Bn (~choco@user/choco-bn) (Ping timeout: 268 seconds)
[02:37:19] *** Joins: ChOcO-Bn (~choco@user/choco-bn)
[02:42:24] *** Quits: ChOcO-Bn (~choco@user/choco-bn) (Ping timeout: 268 seconds)
[02:42:49] *** Joins: ChOcO-Bn (~choco@user/choco-bn)
[02:43:20] *** Joins: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl)
[02:47:10] *** Quits: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl) (Client Quit)
[02:47:35] *** Joins: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl)
[02:53:43] *** Joins: fros (~user@158.140.192.124)
[02:56:37] *** Quits: clawh (~clawh@185.244.214.60) (Remote host closed the connection)
[02:59:16] *** Joins: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com)
[03:02:19] *** Quits: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[03:08:53] *** Joins: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl)
[03:09:49] *** Quits: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl) (Client Quit)
[03:11:33] *** Quits: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com) (Remote host closed the connection)
[03:13:00] *** Joins: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl)
[03:19:07] *** Joins: lxsameer (~lxsameer@109.255.73.218)
[03:31:39] *** Quits: rpkilby (~rpkilby@ec2-34-252-84-235.eu-west-1.compute.amazonaws.com) (Read error: Connection reset by peer)
[03:31:48] *** Joins: rpkilby_ (~rpkilby@ec2-34-252-84-235.eu-west-1.compute.amazonaws.com)
[03:32:09] *** Quits: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[03:32:36] *** Joins: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl)
[03:42:03] *** Joins: clawh (~clawh@185.244.214.60)
[03:45:55] *** Quits: clemente (~Daniel@balticom-142-72-136.balticom.lv) (Ping timeout: 268 seconds)
[03:50:44] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 255 seconds)
[03:52:09] *** Joins: clemente (~Daniel@balticom-142-72-136.balticom.lv)
[03:53:19] *** Joins: jef79m (~jef79m@124-149-93-236.dyn.iinet.net.au)
[04:02:10] *** Joins: bitdex (~bitdex@gateway/tor-sasl/bitdex)
[04:02:27] *** Quits: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[04:03:52] *** Joins: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl)
[04:06:20] *** Quits: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl) (Client Quit)
[04:09:54] *** Joins: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl)
[04:10:36] *** Quits: lxsameer (~lxsameer@109.255.73.218) (Ping timeout: 272 seconds)
[04:13:46] *** Quits: serghei (~egrep@user/serghei) (Ping timeout: 272 seconds)
[04:20:00] <Steve-Dusty> https://dpaste.org/Lsr0
[04:20:06] <Steve-Dusty> I was given a template error here
[04:20:13] <Steve-Dusty> I don't know what I did wrong
[04:22:12] <Steve-Dusty> Do I need to provide context of form?
[04:22:14] <Steve-Dusty> in views
[04:24:04] <Steve-Dusty> But I'm building my own not using {{ form }}
[04:25:59] *** Quits: bilb_ono (~alexmarsh@12.190.239.194) (Quit: bilb_ono)
[04:26:14] *** Joins: bilb_ono (~alexmarsh@12.190.239.194)
[04:28:53] <schinckel> What was the template error?
[04:33:24] *** Quits: fros (~user@158.140.192.124) (Ping timeout: 272 seconds)
[04:33:33] <Steve-Dusty> https://dpaste.org/35bG
[04:33:41] <Steve-Dusty> schinckel here's the full traceback
[04:34:43] *** Quits: bilb_ono (~alexmarsh@12.190.239.194) (Quit: bilb_ono)
[04:38:31] <Steve-Dusty> Fixed it
[04:38:34] <Steve-Dusty> I just added space
[04:38:44] <Steve-Dusty> weird though
[04:39:08] <Steve-Dusty> Nevermind, it just redirects somewhere else
[04:46:00] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[04:52:24] *** Quits: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi) (Ping timeout: 272 seconds)
[04:54:06] *** Joins: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi)
[04:58:31] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:59:22] *** Joins: ovnicraft (~ovnicraft@179.49.44.28)
[05:07:49] *** Joins: mihael (~mihael@2001:4454:2ab:8000:3db6:6432:dc74:7ffe)
[05:09:25] *** Quits: rpkilby_ (~rpkilby@ec2-34-252-84-235.eu-west-1.compute.amazonaws.com) (Remote host closed the connection)
[05:12:38] *** Joins: bilb_ono (~alexmarsh@12.190.239.194)
[05:14:36] *** Quits: bilb_ono (~alexmarsh@12.190.239.194) (Client Quit)
[05:21:20] *** Quits: PantelicGR (~PantelicG@user/pantelicgr) (Quit: Leaving)
[05:28:45] *** kevr is now known as GaKu666
[05:30:04] *** GaKu666 is now known as kevr
[05:30:10] *** Joins: bilb_ono (~alexmarsh@12.190.239.194)
[05:37:16] *** Quits: mihael (~mihael@2001:4454:2ab:8000:3db6:6432:dc74:7ffe) (Quit: Client closed)
[05:38:49] *** Quits: bilb_ono (~alexmarsh@12.190.239.194) (Quit: bilb_ono)
[05:48:19] *** Quits: clemente (~Daniel@balticom-142-72-136.balticom.lv) (Ping timeout: 265 seconds)
[05:51:49] *** Joins: djapo (~archangel@user/djapo)
[05:53:18] *** Quits: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[05:54:43] *** Joins: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com)
[05:54:56] *** Quits: Thanatos (~Thanatos@197.210.54.4) (Ping timeout: 258 seconds)
[05:55:58] *** Joins: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl)
[05:59:44] *** Quits: audiocat (~audio@2603-8081-1800-00ad-4a1d-22ed-5c41-e626.res6.spectrum.com) (Ping timeout: 250 seconds)
[06:02:49] *** Quits: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com) (Ping timeout: 268 seconds)
[06:03:54] *** Quits: tone0 (~tone@071-011-252-111.res.spectrum.com) (Ping timeout: 276 seconds)
[06:06:28] <djapo> how do I make a boolean field default to null
[06:06:31] <djapo> ?
[06:06:33] *** Joins: tone0 (~tone@071-011-252-111.res.spectrum.com)
[06:07:19] <FunkyBob> is there still a separate NullableBooleanField ?
[06:07:42] <FunkyBob> djapo: I would assume once you've set null=True, blank=True... you also set default=None
[06:07:49] <FunkyBob> djapo: what did you try?
[06:08:33] *** Joins: tm007 (uid287041@id-287041.highgate.irccloud.com)
[06:08:46] *** Joins: audiocat (~audio@2603-8081-1800-00ad-02c9-9ca2-5a4a-00f9.res6.spectrum.com)
[06:11:37] *** Joins: twomoon (~twomoon@ip72-199-58-150.sd.sd.cox.net)
[06:13:25] *** Quits: ovnicraft (~ovnicraft@179.49.44.28) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:15:30] <schinckel> I think NullableBooleanField went away.
[06:15:39] <schinckel> Seem to recall a deprecation message about that at some point.
[06:22:22] <FunkyBob> yeah, i had vague memories of a discussion about dropping it
[06:25:59] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 255 seconds)
[07:06:21] *** Joins: fros (~user@158.140.192.124)
[07:07:39] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[07:10:10] <tm007> The NullBooleanField model field is deprecated in favor of BooleanField(null=True).
[07:10:22] <tm007> https://docs.djangoproject.com/en/3.2/releases/3.1/
[07:10:39] <tm007> In Django 3.1
[07:11:03] *** Quits: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[07:14:17] *** Quits: ST47 (~ST47@wikimedia/st47) (Ping timeout: 245 seconds)
[07:22:38] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:24:09] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[07:34:37] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:35:23] *** Joins: ST47 (~ST47@wikimedia/st47)
[07:37:18] *** Joins: guy_frm_yogaland (~gourab@2409:4062:238a:b172:2fad:104f:b1f2:ce09)
[07:39:35] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[07:43:38] *** Joins: Safa_[A_Boy] (~Safa@89.148.5.204)
[07:52:17] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:57:05] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[08:03:36] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:10:38] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[08:12:35] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Client Quit)
[08:31:06] <Safa_[A_Boy]> schinckel, Hey! I'm trying your fork of django-closure-tree and it says: AttributeError: 'ClosureManyToManyField' object has no attribute 'model'
[08:33:09] *** Joins: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com)
[08:37:25] <schinckel> On the phone, give me a bit.
[08:37:39] *** Quits: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com) (Ping timeout: 255 seconds)
[08:38:25] *** Quits: Safa_[A_Boy] (~Safa@89.148.5.204) (Ping timeout: 245 seconds)
[08:42:05] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[08:42:06] *** Joins: Safa_[A_Boy] (~Safa@89.148.5.204)
[08:50:18] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:50:45] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[08:53:26] <FunkyBob> Safa_[A_Boy]: show what code you used, and the full error/traceback
[08:54:17] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Client Quit)
[08:59:04] <Safa_[A_Boy]> https://dpaste.org/6teT I lost the traceback as I faced issues that I don't have time to figure out for postgre. But it was erroring at this line https://github.com/schinckel/django-closure-tree/blob/master/closure_tree/fields.py#L36
[08:59:35] <Safa_[A_Boy]> I changed it to cls._meta.apps and it worked. Perhaps because Django changed internals? I'm using 3.1
[09:00:42] <Safa_[A_Boy]> I had also to add CreateTreeClosure manually. Not sure if that's how it goes though
[09:00:48] <Safa_[A_Boy]> also had*
[09:02:23] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 258 seconds)
[09:02:35] <FunkyBob> what do the docs say? :)
[09:03:03] <Safa_[A_Boy]> Ok, I have to add manually :)
[09:03:06] *** Quits: fros (~user@158.140.192.124) (Ping timeout: 265 seconds)
[09:03:22] <schinckel> Yeah, I'm not sure why that uses self.model._meta and everywhere else uses cls._meta
[09:05:25] <FunkyBob> habit, maybe? :P
[09:05:47] <schinckel> Probably. Not sure why it doesn't work though, because I would have thought self.model was == cls
[09:06:01] <FunkyBob> the original author is a bit of a whacko, after all :P
[09:07:18] <Safa_[A_Boy]> I then faced issues (with schinckel's fork) that Django was saying "repeated" parameters (to, related_name, symmetrical). So I had to remove the __init__ method in the m2m and write it normally in the model
[09:10:04] <Steve-Dusty> I need help with bootstrap
[09:10:11] <Steve-Dusty> ```
[09:10:12] <schinckel> My fork is not up to date?
[09:10:15] <Steve-Dusty>     <div class="input-group">
[09:10:15] <Steve-Dusty>         <input type="text" class="form-control" placeholder="Room code here...">
[09:10:16] <Steve-Dusty>         <span>
[09:10:16] <Steve-Dusty>             <button class="btn btn-success" href="NONE">
[09:10:17] <Steve-Dusty>                 <i class="fas fa-chevron-right"></i>
[09:10:17] <Steve-Dusty>             </button>
[09:10:18] <Steve-Dusty>         </span>
[09:10:18] <Steve-Dusty>       </div>
[09:10:24] <schinckel> Steve-Dusty: Don't paste here.
[09:10:27] <Steve-Dusty> okay
[09:10:38] <FunkyBob> Steve-Dusty: please read the tpoic
[09:10:39] <FunkyBob> topic
[09:10:43] <Steve-Dusty> ok
[09:10:45] <Safa_[A_Boy]> schinckel, Seems not :)
[09:11:01] <Safa_[A_Boy]> (had to copy paste some files, setup and __version__)
[09:11:27] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[09:12:00] <Safa_[A_Boy]> But I believe that you should get your changes in the main repo instead :D
[09:15:07] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Client Quit)
[09:18:32] <schinckel> Safa_[A_Boy]: Are you talking about the generic-field-names branch? Because that is the only bit that isn't upstream.
[09:19:51] <Safa_[A_Boy]> Yes. The primary key in my case is also UUID, so that is something else to consider adding support for (or to not)
[09:22:27] <FunkyBob> one day I might understand why people do that to themselves
[09:22:48] <Safa_[A_Boy]> XD why?
[09:23:23] <FunkyBob> replacing the auto field with a uuid just makes life more difficult... easier to add a uuid field with an unique constraint, instead, imho
[09:23:30] <Safa_[A_Boy]> You mean having an integer to be the primary, and a uuid to be the "communication primary"
[09:23:47] <FunkyBob> it's ok for a table to have multiple candidate keys
[09:24:02] <schinckel> Yeah, and then you can use the uuid field whenever you are exposing a key.
[09:26:11] <schinckel> FunkyBob: So, I have addressed those comments, and pushed a change, but it seems that the PR is not picking it up.
[09:27:49] *** Joins: Vohveli (vohveli@user/vohveli)
[09:28:13] <schinckel> I think it's related to the master->main thing, but I'm not sure. Trying to figure it out.
[09:32:04] <schinckel> Nope, it won't pick up my extra commits.
[09:35:12] *** Quits: TranquilEcho (~grom@user/tranquilecho) (Quit: WeeChat 2.8)
[09:35:36] <schinckel> Okay, think that's better, maybe.
[09:36:55] <schinckel> Okay, so I'm not seeing anything that should _not_ work with a UUIDField as pk... we don't cast anything to integer or anynthing.
[09:37:15] <FunkyBob> "This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.
[09:37:18] <FunkyBob> "
[09:38:10] <FunkyBob> perhaps you need a "git fetch --all" and then a rebase?
[09:38:59] <schinckel> `$ git rebase upstream/main` -> `Current branch generic-field-names is up to date.`
[09:39:04] <schinckel> (That's after a git pull --all)
[09:39:05] <Safa_[A_Boy]> schinckel, The path uses an IntegerField, isn't that the primary key of the items? (I'm also considering moving to integer as you both (and many) suggested)
[09:39:28] <FunkyBob> schinckel: hrm... and a push --force ?
[09:40:02] <schinckel> Everything up-to-date
[09:40:33] <schinckel> Safa_[A_Boy]: It uses that if you are using Node(), but with that branch you should be able to use an existing model.
[09:42:51] *** Joins: serghei (~egrep@user/serghei)
[09:44:26] *** Quits: jgee (~jgee@186.80.49.20) (Ping timeout: 255 seconds)
[09:50:55] <Safa_[A_Boy]> Now I have a question. How would I query the nodes I have with depth and path?
[09:51:09] <Safa_[A_Boy]> Very noob question O:)
[09:51:58] <serafeim> hello friends
[09:52:20] *** Quits: Steve-Dusty (~Steve-Dus@75-32-236-135.lightspeed.rnpsca.sbcglobal.net) (Quit: Client closed)
[10:02:09] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[10:02:40] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Client Quit)
[10:02:51] *** Joins: jgee (~jgee@186.80.49.20)
[10:13:44] <FunkyBob> Safa_[A_Boy]: filter(parent__name=X, parent__parent__name=Y, ....)
[10:14:13] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[10:15:35] <schinckel> I'm not sure we expose the depth, or the path actually.
[10:16:20] <schinckel> I think we probably could on the through model though.
[10:16:42] <schinckel> Oh wait, we do.
[10:16:44] <schinckel> Hahaha.
[10:17:22] <schinckel> I think you'd need to do something like:
[10:17:33] <schinckel> MyModel.descendants.through.objects.filter(
[10:17:37] <schinckel> Gah.
[10:18:12] <schinckel> MyModel.objects.filter(pk__in=MyModel.descendants.through.objects.filter(ancestor=X, depth=Y).values('node'))
[10:18:30] <schinckel> Oh, that last 'node' should be a 'descendant'.
[10:18:41] <schinckel> That will give you all descendants of X at depth Y.
[10:18:42] <schinckel> I think.
[10:18:54] <schinckel> I HAVE NOT TRIED THAT
[10:23:44] <glik22> should images be base64 encoded when returned as part of an api response?
[10:24:24] *** Joins: bilb_ono (~alexmarsh@12.190.239.194)
[10:24:41] <schinckel> You could do that, or just return the URL of the image.
[10:29:57] *** Joins: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl)
[10:31:00] *** Joins: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com)
[10:42:12] <Safa_[A_Boy]> schinckel, I mean that I want to have depth and path as attributes on the node so that I can show it in frontend
[10:42:38] <Safa_[A_Boy]> But filtering based on them is also something I need, so thanks!
[10:43:17] <Safa_[A_Boy]> Should have used "include depth and path" instead of "query by"
[10:45:00] <Safa_[A_Boy]> It is also useful to check if x is a descendant of y, or x is an ascendant of y, etc
[10:47:45] <Safa_[A_Boy]> (that without doing additional queries since I have the path of both)
[10:54:48] <schinckel> Safa_[A_Boy]: It's a bit tricky because they are attributes of the through model (the Many-To-Many table).
[10:55:31] <Safa_[A_Boy]> Perhaps? Dunno if it works or if it's performant even
[10:55:31] <Safa_[A_Boy]> MyModel.objects.annotate(path=Subquery(MyModel.descendants.through.objects.filter(descendant=OuterRef('pk')).values('path')[:1]))
[10:55:45] <schinckel> You could probably annotate them on, but that only makes sense if you have something to refer to - I'm assuming you want the full path/max-depth.
[10:55:56] <schinckel> You probably need to order by -depth to get that.
[10:59:37] <Safa_[A_Boy]> This could work but Django will never understand how to reverse the results (model then through attributes): MyModel.descendants.through.objects.select_related('descendant')
[11:02:35] *** Joins: doev (~doev@mobile.bpv-consult.net)
[11:07:57] *** Quits: jgee (~jgee@186.80.49.20) (Ping timeout: 255 seconds)
[11:08:09] *** Joins: jgee (~jgee@186.80.49.20)
[11:12:47] *** Quits: bambanxx (~bambanx@181-163-43-244.baf.movistar.cl) (Remote host closed the connection)
[11:32:46] *** Joins: IceMichael (~IceMichae@dynamic-046-114-152-026.46.114.pool.telefonica.de)
[11:32:49] <IceMichael> hi guys
[11:33:39] <IceMichael> what do you think about having one model class per file? I see our huge project exploding with some big files, some of which have many models...
[11:34:09] <FunkyBob> make more apps?
[11:34:29] <IceMichael> no, they all belong to one app
[11:34:31] <FunkyBob> i've seem people who split models.py into models/__init__.py and import stuff...
[11:34:35] <FunkyBob> IceMichael: yes, but they don't have to
[11:34:48] <FunkyBob> if you logically split your project into many apps, inside one project...
[11:34:53] <FunkyBob> it's easier to keep organised
[11:35:05] <IceMichael> yeah, but it makes logically sense because for me, an app should be coupled enough
[11:35:18] <IceMichael> but even for 5 models it makes sense for me to split them into multiple files
[11:35:24] <IceMichael> you search for a model: you have a file with the name
[11:35:35] <IceMichael> in other frameworks/programming languages you would do it, is django for some reason an exception?
[11:35:47] <IceMichael> I mean, we have many apps anyways
[11:36:02] <IceMichael> but within one app it's even too many models
[11:36:49] <IceMichael> we could split up into more apps and so on, of course, but was thinking, why this agreement to have multiple classes in one file?
[11:37:14] <FunkyBob> django's use of the term 'app' is... idiomatic
[11:37:23] <IceMichael> as said, we have many already
[11:37:28] <FunkyBob> if you want to go all Java on it, and put one class per file... you can
[11:37:47] <IceMichael> I personally hate Java, but yeah, in C# or C++ it would be the same
[11:37:49] <FunkyBob> so long as the models are imported into models/__init__.py  so auto-discovery finds them
[11:38:05] <IceMichael> yeah, technically it's possible, but are there any cons?
[11:40:04] <FunkyBob> nothing significant, no
[11:42:30] <IceMichael> okay I see!
[11:42:50] <IceMichael> and any experience with splitting domain/data more or anyways splitting more than with classic Django approach?
[11:46:39] <FunkyBob> sorry?
[12:05:17] *** Joins: sandeepk (~sandeepk@223.130.30.149)
[12:16:21] *** Quits: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com) (Read error: Connection reset by peer)
[12:19:17] *** Quits: dre (~dre@2001:8003:c932:c301:5158:163a:41f3:cc10) (Quit: Leaving)
[12:19:49] <jor> I agree with FunkyBob, split it into apps. Splittling models soon results in splitting managers, then views, etc etc. Then you want to group those... and you reinvented django apps :p
[12:19:56] *** Quits: IceMichael (~IceMichae@dynamic-046-114-152-026.46.114.pool.telefonica.de) (Read error: Connection reset by peer)
[12:23:13] *** Quits: deepy (deepy@user/deepy) (Read error: Connection reset by peer)
[12:24:10] *** Quits: b-rex (~b@v.dropswitch.net) (Ping timeout: 252 seconds)
[12:24:24] *** Joins: deepy (deepy@user/deepy)
[12:25:39] <schinckel> At some point I'll often split models into submodules, just because I have so much business logic in the model class.
[12:27:00] <schinckel> I'm about to move this new feature (which is already in a sub-module of an existing app) because there's a bunch of models and I think maybe moving it to a new app could be useful.
[12:27:09] <schinckel> ...and it's better to do that before releasing it...
[12:28:14] <schinckel> 750 lines in a single models/<thing>.py is too much.
[12:28:50] <serafeim> i've got a 1411 lines in models.py in a rather big project
[12:29:31] <serafeim> along with 2045 lines in views.py in the same app... it needs refactoring but who will do it ?
[12:30:22] <schinckel> You can do it in more than one step.
[12:30:49] <schinckel> I'll often do "models.py -> models/__init__.py", and then put new models in new files in that folder.
[12:31:17] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[12:36:33] *** Joins: lxsameer (~lxsameer@109.255.73.218)
[12:43:43] *** Quits: twomoon (~twomoon@ip72-199-58-150.sd.sd.cox.net) (Quit: Leaving)
[12:46:46] *** Joins: rpkilby (~rpkilby@ec2-34-252-84-235.eu-west-1.compute.amazonaws.com)
[12:52:00] *** Quits: rddd (~rdd@c-407ce255.012-81-73746f39.cust.ownit.se) (Ping timeout: 258 seconds)
[12:56:08] *** Quits: audiocat (~audio@2603-8081-1800-00ad-02c9-9ca2-5a4a-00f9.res6.spectrum.com) (Ping timeout: 255 seconds)
[13:06:33] <serafeim> yes but won't some of my imports break this way ?
[13:10:09] <FunkyBob> not if they're still importable from app.models
[13:11:41] <schinckel> Damn, sum((set(x) for x in y), set()) doesn't work.
[13:11:59] <schinckel> Anyone got a neat expression for the union of an unknown number of sets?
[13:14:32] <schinckel> ah: set().union(*[set(x) for x in y])
[13:14:39] <FunkyBob> map?
[13:15:02] *** Joins: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com)
[13:15:03] <schinckel> Could possibly have map/reduced it, but turns out set.union takes *args
[13:16:16] <FunkyBob> hmm
[13:16:16] *** Joins: Rikem (~mike@user/rikem)
[13:16:48] <FunkyBob> why make each x a set/  iirc set just consumes iterables
[13:17:14] <schinckel> Oh, I think maybe I had a dict that I just needed the keys from, but let me check.
[13:18:57] <schinckel> Turns out I don't think I needed it anyway...
[13:26:16] *** Joins: Crassus (~Crassus@user/crassus)
[13:28:56] *** Joins: slav0nic (slav0nic@python.su)
[13:39:45] *** Joins: Thanatos (~Thanatos@197.210.76.175)
[13:51:32] *** Quits: Thanatos (~Thanatos@197.210.76.175) (Read error: Connection reset by peer)
[13:51:43] <serafeim> the proper way would be to use reduce for the set union operation: `functools.reduce(lambda acc, el: acc.union(el), sets, set())`
[13:53:48] *** Quits: bitdex (~bitdex@gateway/tor-sasl/bitdex) (Quit: = "")
[13:54:08] *** Joins: Thanatos (~Thanatos@197.210.54.252)
[13:58:15] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.0.1)
[13:59:22] *** Joins: clemente (~Daniel@balticom-142-72-136.balticom.lv)
[14:17:28] *** Joins: Kalov (~Thunderbi@179.56.117.154)
[14:18:57] *** Joins: pycode1 (~pycode@2001:b07:5d28:551:f02f:cbf7:4060:786c)
[14:28:02] *** Quits: GinFuyou (~GinFuyou@reya.cloud.tilaa.com) (Remote host closed the connection)
[14:29:00] *** Joins: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl)
[14:29:31] <serafeim> what's your opinion on github forcing us to use the Main branch instead of master
[14:29:47] <serafeim> seems really crazy to me i keep using master to avoid having to update my shortcuts
[14:30:10] *** Quits: guy_frm_yogaland (~gourab@2409:4062:238a:b172:2fad:104f:b1f2:ce09) (Remote host closed the connection)
[14:30:37] <nedbat> serafeim: github isn't forcing you. it's just a default
[14:30:58] <serafeim> yes i'm just getting bugged each time i create a new repo
[14:31:10] <nedbat> serafeim: why is master a better name?
[14:32:06] <serafeim> nedbat: because i've got some shortcuts in various projects that use master
[14:32:12] <serafeim> and because it's what git creates by default
[14:32:41] <serafeim> f.e i've got this alias in my .gitconfig  `pom = push origin master`
[14:33:04] <nedbat> serafeim: yeah, i've had to complicate some aliases to deal with the differences across repos
[14:33:04] <serafeim> similar mom = merge origin/master
[14:33:17] <serafeim> nedbat: ha ha i'd rather avoid thatt :)
[14:34:04] <nedbat> git checkout $(git branch -a | sed -n -E -e '/remotes.origin.ma(in|ster)/s@remotes/origin/@@p'); git pull;
[14:34:13] <serafeim> ha ha nice
[14:34:18] <nedbat> that's "git ma"
[14:34:56] <serafeim> but its simpler for me since i set the policies here to just use master :)
[14:39:00] <nedbat> serafeim: not sure why, but i used a different approach in another command:   "git fetch --all; git checkout \$(git remote show origin | awk '/HEAD branch/ {print \$NF}'); git pull"
[14:39:19] <serafeim> ha ha ha crazy to use awk for this
[14:39:42] *** Quits: Kalov (~Thunderbi@179.56.117.154) (Quit: Kalov)
[14:41:49] <nedbat> serafeim: crazy smart!! :)
[14:42:38] <serafeim> the git remote show origin is slow in my pc
[14:42:43] <serafeim> takes 1-2 seconds
[14:42:48] <serafeim> so this makes everything slower
[14:44:27] *** Joins: thiras (~thiras@user/thiras)
[14:44:57] <nedbat> serafeim: now i am wondering why this one is like this
[14:45:38] <serafeim> also you can do it like this `git remote show origin | grep HEAD | cut -d ' ' -f 5`
[14:46:32] <serafeim> i don't like the -f 5 though. it is needed because the line starts with space... it should have been able to properly trim the line but to trim a line you need to use sed/awk ! so...
[14:52:56] *** Joins: GiLgAmEzH (~gilgamezh@a210077.upc-a.chello.nl)
[14:56:19] *** Joins: Tas-sos (~Tas-sos@78-159-56.adsl.cyta.gr)
[14:57:14] <nedbat> serafeim: better?   git branch -a | sed -n -E '/remotes\/origin\/ma(in|ster)/s/.*\///p'
[14:57:56] <serafeim> yes i guess git branch -a is faster
[14:58:27] <nedbat> serafeim: the advantage of "remote show" is that it doesn't assume "main or master", but that's probably not important
[14:59:59] <serafeim> this is the better one because it avoids sed: `git branch -a| grep origin | cut -f 3 -d \/`
[15:00:17] <nedbat> serafeim: maybe we could compromise by naming the branch "mainster" ?
[15:00:22] <serafeim> i am never able to remember the sed syntax
[15:12:44] *** Joins: serghei1 (~serghei@user/serghei)
[15:22:45] *** Quits: Crassus (~Crassus@user/crassus) (Ping timeout: 268 seconds)
[15:25:26] *** Joins: iomari891 (~iomari891@105.112.138.38)
[15:28:51] <serafeim> i've published this package for anybody interested https://github.com/spapas/django-groups2/
[15:34:01] *** Quits: pycode1 (~pycode@2001:b07:5d28:551:f02f:cbf7:4060:786c) (Ping timeout: 246 seconds)
[15:44:10] *** Quits: doev (~doev@mobile.bpv-consult.net) (Ping timeout: 246 seconds)
[15:47:24] <serafeim> hello i'm trying to use django guardian. after i have done everything (including the AUTHENTICATION_BACKENDS configuration) I get this warning: ?: (guardian.W001) Guardian authentication backend is not hooked. You can add this in settings as eg: `AUTHENTICATION_BACKENDS = ('django.contrib.auth.backends.ModelBackend', 'guardian.backends.ObjectPermissionBackend')`.
[15:48:11] <serafeim> however my setting has this: AUTHENTICATION_BACKENDS = (    "django_auth_ldap.backend.LDAPBackend",    "django.contrib.auth.backends.ModelBackend"  , 'guardian.backends.ObjectPermissionBackend',)
[15:48:15] <serafeim> why do i get the warn ?
[15:48:38] *** Joins: GinFuyou (~GinFuyou@reya.cloud.tilaa.com)
[15:48:54] <serafeim> ah yes
[15:48:56] <serafeim> i saw it now
[15:49:10] <serafeim> here's my backends: `('django_auth_ldap.backend.LDAPBackend', 'django.contrib.auth.backends.ModelBackendguardian.backends.ObjectPermissionBackend')`
[15:49:12] <serafeim> yey for missing commas
[15:50:03] *** Joins: gitly (~gitly@85.255.233.176)
[16:02:42] *** Quits: clemente (~Daniel@balticom-142-72-136.balticom.lv) (Ping timeout: 252 seconds)
[16:04:52] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.0.1)
[16:18:49] *** Joins: IceMichael (~IceMichae@dynamic-046-114-152-026.46.114.pool.telefonica.de)
[16:18:54] <IceMichael> sorry, dropped out
[16:18:55] *** Joins: iomari891 (~iomari891@105.112.138.38)
[16:19:02] <IceMichael> jor, yeah, but... we already have apps and now are within apps
[16:19:58] <IceMichael> but what bothers me more, I think, is that we have code changing/retrieving objects intertwined with code doing domain logic
[16:20:40] <IceMichael> like some 4-5 line "queries" (of course using django.models logic) together with some business logic
[16:20:48] <IceMichael> I think, code could be clarified more by splitting these
[16:21:29] <IceMichael> (this has nothing to do with apps/model splitting now, of course)
[16:30:34] <apollo13> IceMichael: there are also interesting approaches like https://www.b-list.org/weblog/2020/mar/16/no-service/
[16:34:07] <IceMichael> yeah, I would not use it like in C# or something. It makes sense to put more methods into the Model or into a custom Queryset
[16:34:24] <IceMichael> this is probably one big problem: everything is outside models and outside the QuerySet in one big file
[16:34:52] <IceMichael> also multiple classes, free functions etc. Many people seem to use Django by just having 1k+ files that do everything :/
[16:35:15] <IceMichael> For me, a file like "models.py" is a complete antipattern (it has plural in its name even) unless the models are really tiny
[16:35:40] <IceMichael> but when we start to put more methods into it, it gets even more pressing to move it to some extra file (potentially behind some model folder)
[16:36:08] <IceMichael> not sure why Django should be so much different from other frameworks/languages here? I want to find a model, I have the file with the same name. At the moment, I find models rather by string search. Fast enough, but not nice
[16:38:09] <IceMichael> thanks for the article anyways, has many nice points :)
[16:41:05] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[16:42:50] *** Joins: clemente (~Daniel@balticom-142-72-136.balticom.lv)
[16:46:27] *** Joins: Matthias1 (~Matthias1@cpe-76-170-236-166.socal.res.rr.com)
[16:48:13] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[16:49:06] *** Joins: doev (~doev@82.115.100.62)
[16:49:45] <thiras> does manytomanyfield has db_index enabled by default or should I explicitly enable it?
[16:52:39] *** Joins: pycode1 (~pycode@2001:b07:5d28:551:35db:5f4c:1a3f:8b1c)
[16:54:13] <fakegermano> the manytomanyfield is a table that auto-creates indexes for the foreign keys if thats what you are asking
[16:54:43] <fakegermano> have a look at https://code.djangoproject.com/ticket/2350
[16:56:50] <GinFuyou> iirc all relational fields have indices?
[17:01:14] *** Joins: Elzington (~Elzington@68.235.43.172)
[17:02:21] <thiras> fakegermano, yeah I know but there will be a lot of queries on the field and it also has intermediary model
[17:02:46] <thiras> i'm not sure if I explicitly enable db_index on the field
[17:06:18] *** Joins: Diemuzi (~Diemuzi@ip68-106-203-17.pn.at.cox.net)
[17:17:08] <fakegermano> the field is not exactly a field, its a intermediary table so the queries you do on that field are actually a join so there isn't much indexing to be made (except indexing the foreign keys the many to many field relates to
[17:20:54] <fakegermano> if you do set db_index = True on the ManyToManyField it will "work" but won't have your desired result
[17:23:03] <fakegermano> on the background when you create a ManyToManyField django create an intermediary model with 2 foreign keys pointed each pointed at each side of the relationship
[17:26:16] <fakegermano> so if you have a Article model with a ManyToManyField with a Author model, django on the background will create a <ArticleAuthorM2M> model with id (pk), article_id (fk) and author_id (fk)
[17:26:55] <fakegermano> check out https://docs.djangoproject.com/en/3.2/ref/models/fields/#manytomanyfield for more info (I know it says nothing about setting db_index but it explains the intermediary table a bit better)
[17:29:10] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 268 seconds)
[17:31:53] *** Joins: zBeeble42 (~zBeeble@107-179-205-94.cpe.teksavvy.com)
[17:33:52] *** Quits: rannnn8888 (~rannnn888@bzq-79-182-123-214.red.bezeqint.net) (Quit: Client closed)
[17:34:14] *** Quits: zBeeble (~zBeeble@2001:1928:1::35) (Ping timeout: 255 seconds)
[17:35:10] *** Joins: thiras (~thiras@user/thiras)
[17:36:52] *** Quits: zBeeble42 (~zBeeble@107-179-205-94.cpe.teksavvy.com) (Remote host closed the connection)
[17:37:01] *** Joins: zBeeble42 (~zBeeble@107-179-205-94.cpe.teksavvy.com)
[17:37:03] *** Quits: zBeeble42 (~zBeeble@107-179-205-94.cpe.teksavvy.com) (Read error: Connection reset by peer)
[17:37:24] *** Joins: zBeeble42 (~zBeeble@2001:1928:1::35)
[17:39:04] *** Joins: ThanatosJ (~Thanatos@197.210.227.212)
[17:40:20] *** Joins: pycode (~pycode@93-40-5-81.ip36.fastwebnet.it)
[17:41:15] *** Joins: chowmein__ (~chowmeine@user/chowmeined)
[17:41:31] <thiras> fakegermano, that's what i thought too so i'm leaving as it is. thank you for your explanation
[17:42:20] *** Quits: pycode1 (~pycode@2001:b07:5d28:551:35db:5f4c:1a3f:8b1c) (Ping timeout: 255 seconds)
[17:42:34] *** Joins: strudl- (~strudl@user/strudl)
[17:42:34] *** Quits: strudl- (~strudl@user/strudl) (Excess Flood)
[17:43:05] *** Joins: strudl- (~strudl@user/strudl)
[17:43:05] *** Quits: strudl- (~strudl@user/strudl) (Excess Flood)
[17:43:28] *** Joins: doc|home (~doc@user/doc)
[17:43:33] *** Joins: puckoh (~pucko@static.244.198.216.95.clients.your-server.de)
[17:43:36] *** Joins: strudl- (~strudl@user/strudl)
[17:43:36] *** Quits: strudl- (~strudl@user/strudl) (Excess Flood)
[17:44:05] *** Joins: strudl- (~strudl@user/strudl)
[17:44:05] *** Quits: strudl- (~strudl@user/strudl) (Excess Flood)
[17:44:17] *** Joins: jjhoo_ (~jahakala@dsl-trebng21-58c18f-56.dhcp.inet.fi)
[17:44:36] *** Joins: strudl- (~strudl@user/strudl)
[17:44:36] *** Quits: strudl- (~strudl@user/strudl) (Excess Flood)
[17:44:37] *** Joins: henbruas_ (~henbruas@ti0003a400-3211.bb.online.no)
[17:45:11] *** Joins: xavierdarkness_ (~xavierdar@user/xavierdarkness)
[17:45:30] *** Joins: knbk_ (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl)
[17:46:20] *** Quits: sandeepk (~sandeepk@223.130.30.149) (Read error: Connection reset by peer)
[17:46:23] *** Joins: mxp_ (~mxp@82.98.30.69)
[17:48:48] *** Quits: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl) (*.net *.split)
[17:48:48] *** Quits: Thanatos (~Thanatos@197.210.54.252) (*.net *.split)
[17:48:48] *** Quits: chowmeined (~chowmeine@user/chowmeined) (*.net *.split)
[17:48:48] *** Quits: henbruas (~henbruas@ti0003a400-3211.bb.online.no) (*.net *.split)
[17:48:48] *** Quits: pucko (~pucko@static.244.198.216.95.clients.your-server.de) (*.net *.split)
[17:48:49] *** Quits: strudl (~strudl@user/strudl) (*.net *.split)
[17:48:49] *** Quits: Wooble (~Wooble@107.170.27.240) (*.net *.split)
[17:48:49] *** Quits: Vohveli (vohveli@user/vohveli) (*.net *.split)
[17:48:49] *** Quits: mxp (~mxp@82.98.30.69) (*.net *.split)
[17:48:49] *** Quits: Xavierdarkness (~xavierdar@user/xavierdarkness) (*.net *.split)
[17:48:49] *** Quits: NeuroWinter (~NeuroWint@107.172.219.233) (*.net *.split)
[17:48:49] *** Quits: jjhoo (~jahakala@dsl-trebng21-58c18f-56.dhcp.inet.fi) (*.net *.split)
[17:48:49] *** Quits: doc (~doc@user/doc) (*.net *.split)
[17:48:49] *** Quits: eN_Joy (~eN_Joy@wsip-72-213-93-155.ok.ok.cox.net) (*.net *.split)
[17:48:50] *** xavierdarkness_ is now known as xavierdarkness
[17:48:53] *** henbruas_ is now known as henbruas
[17:53:52] *** Byteflux is now known as Bitflux
[17:54:09] *** Bitflux is now known as Byteflux
[17:55:21] *** Joins: Wooble (~Wooble@107.170.27.240)
[17:58:25] *** Quits: Safa_[A_Boy] (~Safa@89.148.5.204) (Ping timeout: 245 seconds)
[18:00:12] *** Quits: django-ticketbot (~django-ti@django/ops/ticketbot) (Remote host closed the connection)
[18:00:30] *** Joins: django-ticketbot (~django-ti@django/ops/ticketbot)
[18:01:32] *** Joins: b-rex (~b@v.dropswitch.net)
[18:07:18] *** Quits: ThanatosJ (~Thanatos@197.210.227.212) (Ping timeout: 250 seconds)
[18:13:58] *** Quits: doev (~doev@82.115.100.62) (Ping timeout: 246 seconds)
[18:14:56] *** Joins: dbedrenko (~dbedrenko@host-92-2-61-21.as13285.net)
[18:17:35] <dbedrenko> Hello, I'm trying to get the performance boost of `QuerySet.values()` but can't achieve it because my model has a `@property` that must also be fetched. If I have a QuerySet, I can get the properties via a list comprehension, then do .values() to get dicts, and add the property results to those dicts
[18:18:04] <dbedrenko> My question is: will the order of records be the same when I do the list comp and then afterwards do `.values()` on the same QuerySet
[18:19:14] <GinFuyou> If you do that it will probably completely obliterate benefit of .values()
[18:19:17] <fakegermano> I know it's a dumb suggestion, but have you considered storing the @property inside the DB itself? how often does it change in order to be "dynamic"?
[18:19:51] <knbk_> if you can express the property as a db expression you can annotate it and use .values() without the list comprehension
[18:20:01] <GinFuyou> ^ that
[18:20:27] <dbedrenko> fakegermano: The @property is not simple, it asks an ACL manager whether that Model object has certain permissions or not
[18:21:22] <GinFuyou> Does it have to be a property?
[18:21:29] <dbedrenko> GinFuyou, why would it obliterate benefit of .values() ? The list comp doesn't access all those fields of the model, only the property. Does Django fetch the fields' data even if I'm not accessing them?
[18:21:51] <fakegermano> it doesnt seem like it need to be a property yeah
[18:22:12] <dbedrenko> GinFuyou, I'm not sure what else it can be, but I will say it cannot be stored in the DB as that is too much work to change
[18:23:16] <GinFuyou> values() do 2 things of what I know: limit what fields django fetches and prevents instantiating models. if you do list comprehension and then values it will most likely drop performance notably
[18:23:18] <fakegermano> a @property is just a nice way of getting something from the model without having to put () in front of the name and leverages some caching, but if it really is that complex, you will lose the main vantage points of it being a property
[18:23:34] <dbedrenko> The property does `ACLManager.is_writable(self)`, i.e. where `self` is the Django object
[18:24:43] <GinFuyou> If manager can work with just a PK\id you probably should do that on result of values()
[18:24:50] <dbedrenko> I see, yes the list comp will instantiate the model, that's the performance hit...
[18:25:12] <dbedrenko> That's a nice suggestion GinFuyou, thank you I will think about if that's possible...
[18:26:12] <GinFuyou> There is also method to limit what model instance fetch from db. But I think docs suggest it as a last resort
[18:26:32] <GinFuyou> depends where performance suffers
[18:27:21] <dbedrenko> Could you tell me where I can read more about that? The performance suffers due to instantiating the models. I tested and accessing the property is not the bottleneck
[18:27:55] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[18:29:31] <GinFuyou> https://docs.djangoproject.com/en/3.2/ref/models/querysets/#defer and #only But if issues is making instances, yeah, you probably want .values() and standalone function for ACL
[18:29:57] <GinFuyou> or queryset method perhaps?
[18:30:28] *** Quits: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com) (Ping timeout: 252 seconds)
[18:30:57] <fakegermano> maybe set the property to be lazy?
[18:31:04] *** Quits: tm007 (uid287041@id-287041.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[18:33:03] <GinFuyou> even if it's lazy it won't make into values(), right?
[18:33:12] <dbedrenko> Problem is the ACL Manager that the @property calls uses the `FieldTracker` of the model. I can't fetch that via `values()`
[18:33:59] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:34:57] <dbedrenko> Therefore I don't see how I can write a standalone permission function without having to instantiate the model
[18:36:44] <dbedrenko> I don't know why it's so slow to instantiate the models. It's only 3000 objects, each with a dozen fields, and I stick `defer('big_field_I_dont_want')`, and stick `select_related()` and `iterator()` on top of that, but it takes 4 seconds
[18:37:17] *** Joins: PantelicGR (~PantelicG@user/pantelicgr)
[18:38:07] <dbedrenko> *6000 objects
[18:38:32] *** Quits: pycode (~pycode@93-40-5-81.ip36.fastwebnet.it) (Ping timeout: 258 seconds)
[18:38:52] <GinFuyou> Well, that's not too few from python viewpoint I guess
[18:38:58] <fakegermano> what do you use the .values() for?
[18:41:18] <dbedrenko> fakegermano, they are used to create objects that are eventually returned with GraphQL. But I experimented putting the values in a simple dict, and after profiling saw that that doesn't help performance, i.e. the performance hit is not due to creating those GQL objects
[18:42:06] *** Joins: zcheng3 (~zcheng3@d198-53-38-251.abhsia.telus.net)
[18:44:46] <dbedrenko> I found a lib that allows one to query properties as if they are fields. I wonder if this will solve my performance problem. Have had a lot of trouble getting it to work though: https://django-queryable-properties.readthedocs.io/en/stable/index.html
[18:49:14] *** Joins: ThanatosJ (~Thanatos@197.210.227.97)
[18:53:53] <fakegermano> you could try to rollout a custom implementation of this writable permission manager that just uses the DB to store that field and doesn't rely on in-memory structures as the FieldTracker does but that would be quite a hassle
[18:57:42] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[19:08:16] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:10:17] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[19:10:49] *** Quits: Tas-sos (~Tas-sos@78-159-56.adsl.cyta.gr) (Quit: Lost terminal)
[19:11:04] <schinckel> FWIW, I implemented something similar to this, https://github.com/schinckel/django-shared-property
[19:16:26] <schinckel> https://schinckel.net/2020/09/15/django-properties-from-expressions%2C-or-computedfield-part-2/
[19:27:29] *** Joins: greenhood (~sharan@122.179.127.4)
[19:27:49] *** Parts: greenhood (~sharan@122.179.127.4) ()
[19:31:14] *** xavierdarkness is now known as Xavierdarkness
[19:31:28] *** Joins: Steve-Dusty (~Steve-Dus@75-32-236-135.lightspeed.rnpsca.sbcglobal.net)
[19:31:31] <Steve-Dusty> Guys
[19:31:37] <Steve-Dusty> I've been stuck on this FOREVER
[19:31:45] <Steve-Dusty> I kept getting a "invalid block tag template error"
[19:32:07] <Steve-Dusty> https://dpaste.org/APCa here's my paste
[19:32:50] <Steve-Dusty> https://dpaste.org/YCmf here's the error
[19:33:00] <GinFuyou> pretty clear it's line 16
[19:33:25] <Steve-Dusty> I know and I quadruple checked it
[19:33:36] <Steve-Dusty> maybe it's from somewhere else
[19:34:12] <Steve-Dusty> another cause not because of my brackets
[19:34:16] <GinFuyou> Not many tags in paste and only line 16 looks wrong
[19:35:02] <hemebond> Invalid block tag on line 16: ''joinRoom'', expected 'endblock'.
[19:35:07] <hemebond> What's the question?
[19:35:22] *** Joins: guy_frm_yogaland (~gourab@2409:4062:4e92:4108:fc37:d8a1:78ff:5f90)
[19:35:29] <Steve-Dusty> I added an endblock though..
[19:35:35] <hemebond> I don't see you loading the tags.
[19:35:39] <hemebond> This is a custom templatetag?
[19:35:42] <Steve-Dusty> it's in the bottom of the file
[19:36:00] <hemebond> Did you forget to register or load this tag?
[19:36:04] <GinFuyou> Steve-Dusty, problem is not endblock. Problem is this exact tag on line 16
[19:36:09] <hemebond> {% load mytemplatetags %}
[19:36:21] <Steve-Dusty> oh...
[19:36:23] <Steve-Dusty> I forgot to add url
[19:36:39] <hemebond> So it's not even a custom tag, just a url reverse.
[19:37:03] <Steve-Dusty> yes, I want the button to call a function
[19:37:36] <GinFuyou> Debugging templates is not as clear as for plain code
[19:38:02] <Steve-Dusty> How did I forget...
[19:39:59] *** Quits: clawh (~clawh@185.244.214.60) (Remote host closed the connection)
[19:43:03] *** Joins: clawh (~clawh@185.244.214.60)
[19:43:07] *** Quits: javawolfpack (~javawolfp@c-73-116-78-73.hsd1.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:43:07] <Steve-Dusty> If I don't need to render my form would I still need to put context?
[19:43:13] <Steve-Dusty> {"form": form}
[19:44:10] <Steve-Dusty> so I don't want to put {{ form }} in my HTML. just a input tag that have a name of my corresponding model field
[19:44:51] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 258 seconds)
[19:46:12] <GinFuyou> no, you only need what is required for rendering in the context
[19:46:34] <GinFuyou> why rendering input manually though?
[19:47:11] <Steve-Dusty> I just thought it's an easier shortcut to django's way of styling
[19:47:13] <Steve-Dusty> I'll just use CSS
[19:47:28] *** Quits: serghei1 (~serghei@user/serghei) (Ping timeout: 252 seconds)
[19:47:41] *** Joins: kostkon (~androirc@2a02:1388:95:fc85:d372:22db:f46c:2d15)
[19:48:21] <GinFuyou> you can render form fields more granular-ish
[19:48:55] <GinFuyou> not using form completely unlikely to be more efficient
[19:49:06] <GinFuyou> (but you may if you wish)
[19:49:16] <Steve-Dusty> okay. while we're at it, how can I make sure my  ` <input type="text" class="input-room-code" name="input-room-code" placeholder="Room code here...">`
[19:49:27] <Steve-Dusty> goes into my form?
[19:49:58] <Steve-Dusty> every time when I render form it automatically inputs it for me. This time I'm not using {{ form }}
[19:50:05] <GinFuyou> it matches fields by 'name' attribute
[19:50:31] <GinFuyou> https://docs.djangoproject.com/en/3.2/topics/forms/#rendering-fields-manually
[19:53:55] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:55:27] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[20:12:38] *** Quits: kostkon (~androirc@2a02:1388:95:fc85:d372:22db:f46c:2d15) (Ping timeout: 255 seconds)
[20:14:14] *** Joins: serghei1 (~serghei@user/serghei)
[20:15:05] *** Joins: Snaffu (Snaffu@gateway/vpn/protonvpn/snaffu)
[20:18:45] *** Quits: serghei1 (~serghei@user/serghei) (Ping timeout: 255 seconds)
[20:23:52] *** Quits: IceMichael (~IceMichae@dynamic-046-114-152-026.46.114.pool.telefonica.de) (Ping timeout: 245 seconds)
[20:31:33] *** Joins: serghei1 (~serghei@user/serghei)
[20:36:38] *** Quits: serghei1 (~serghei@user/serghei) (Ping timeout: 268 seconds)
[20:39:08] <Steve-Dusty> https://dpaste.org/3L1b
[20:39:09] <Steve-Dusty> guys
[20:39:29] <Steve-Dusty> I got a `ModuleNotFoundError: No module named 'whitenoise.runserver_nostaticdjango'` error even after installing whitenoise
[20:40:28] <Steve-Dusty> https://dpaste.org/wRgV
[20:40:29] <Steve-Dusty> error
[20:43:22] <Steve-Dusty> fikxed it
[20:43:24] <Steve-Dusty> typo
[20:44:18] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 252 seconds)
[20:44:52] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:46:24] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[20:47:07] *** Quits: ThanatosJ (~Thanatos@197.210.227.97) (Ping timeout: 268 seconds)
[20:47:55] *** Joins: molyvius (~molyvius@user/molyvius)
[20:51:07] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 246 seconds)
[20:54:18] *** Quits: GiLgAmEzH (~gilgamezh@a210077.upc-a.chello.nl) (Ping timeout: 255 seconds)
[20:55:35] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[20:55:40] *** Quits: clemente (~Daniel@balticom-142-72-136.balticom.lv) (Ping timeout: 252 seconds)
[20:59:27] *** Quits: bilb_ono (~alexmarsh@12.190.239.194) (Quit: bilb_ono)
[21:00:36] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 255 seconds)
[21:04:39] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[21:04:41] <Steve-Dusty> I need help with deploying Heroku
[21:04:52] <Steve-Dusty> Pip isn't sautomatically installed
[21:05:05] <Steve-Dusty> do I install pip on the heroku server?
[21:05:44] *** Joins: bilb_ono (~alexmarsh@12.190.239.194)
[21:08:43] <Steve-Dusty> how do you guys do it?
[21:10:16] <fakegermano> https://devcenter.heroku.com/articles/python-gunicorn and https://devcenter.heroku.com/categories/working-with-django
[21:22:36] *** Quits: clawh (~clawh@185.244.214.60) (Remote host closed the connection)
[21:24:45] *** Joins: clawh (~clawh@185.244.214.60)
[21:30:54] *** Joins: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com)
[21:32:29] *** Quits: explore (uid233125@id-233125.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[21:35:15] *** Quits: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com) (Ping timeout: 255 seconds)
[21:40:23] *** Joins: clemente (~Daniel@balticom-142-72-136.balticom.lv)
[21:43:58] <Steve-Dusty> I'm following my book "django for beginners" and is reading the deployment part
[21:44:10] <Steve-Dusty> I was thrown with millions of errors while his whole thing worked
[21:44:12] <Steve-Dusty> https://dpaste.org/w8bC
[21:44:46] <Steve-Dusty> I tried `heroku run pip install dj-database-url` but still wouldn't work and same error when I do `heroku run python manage.py migrate`
[21:45:45] *** Joins: strudl (~strudl@user/strudl)
[21:45:45] *** Quits: strudl (~strudl@user/strudl) (Excess Flood)
[21:46:16] *** Joins: strudl (~strudl@user/strudl)
[21:46:16] *** Quits: strudl (~strudl@user/strudl) (Excess Flood)
[21:46:46] *** Joins: strudl (~strudl@user/strudl)
[21:46:46] *** Quits: strudl (~strudl@user/strudl) (Excess Flood)
[21:47:16] *** Joins: strudl (~strudl@user/strudl)
[21:47:16] *** Quits: strudl (~strudl@user/strudl) (Excess Flood)
[21:47:48] *** Joins: strudl (~strudl@user/strudl)
[21:47:48] *** Quits: strudl (~strudl@user/strudl) (Excess Flood)
[21:48:10] <fakegermano> can't help much with heroku unfortunately, what I did normally was pretty straightforward, maybe try some heroku specific channel?
[21:49:10] *** Joins: domhnall (~developer@user/domhnall/x-2887755)
[21:49:13] <Steve-Dusty> is there one?
[21:50:42] <fakegermano> there is #heroku but it seems really empty
[21:56:14] <wallbroken> {% if not shoe|getUserState:user  == "in service" AND shoe|getUserState:user  == "just finished" %}
[21:56:18] <wallbroken> is this correct?
[22:09:00] *** Quits: dbedrenko (~dbedrenko@host-92-2-61-21.as13285.net) (Ping timeout: 265 seconds)
[22:11:30] *** Joins: pycode (~pycode@2001:b07:5d28:551:9921:511e:1596:d8f8)
[22:12:07] *** Quits: pycode (~pycode@2001:b07:5d28:551:9921:511e:1596:d8f8) (Remote host closed the connection)
[22:32:16] *** Joins: serghei1 (~serghei@user/serghei)
[22:37:02] *** Quits: serghei1 (~serghei@user/serghei) (Ping timeout: 265 seconds)
[22:43:39] *** Quits: guy_frm_yogaland (~gourab@2409:4062:4e92:4108:fc37:d8a1:78ff:5f90) (Ping timeout: 255 seconds)
[22:47:09] *** Quits: PantelicGR (~PantelicG@user/pantelicgr) (Read error: Connection reset by peer)
[22:47:24] *** Joins: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com)
[22:50:27] *** Quits: gitly (~gitly@85.255.233.176) (Ping timeout: 268 seconds)
[22:52:18] *** Quits: HoaxKey (~HoaxKey@79-68-114-140.dynamic.dsl.as9105.com) (Ping timeout: 268 seconds)
[22:54:32] *** Joins: ThanatosJ (~Thanatos@197.210.55.212)
[22:57:30] <wallbroken> https://dpaste.org/f3Xc
[22:57:39] <wallbroken> does anybody of you know the reason of this error?
[22:58:11] <wallbroken> https://dpaste.org/WHtU
[22:59:21] <fakegermano> your POST request doesn't seem to have a 'message' object in it's context
[23:03:13] *** Joins: explore (uid233125@id-233125.stonehaven.irccloud.com)
[23:08:10] <wallbroken> fakegermano: how to check if it has it or not?
[23:08:14] *** Quits: ThanatosJ (~Thanatos@197.210.55.212) (Read error: Connection reset by peer)
[23:08:48] *** Joins: ThanatosJ (~Thanatos@197.210.55.212)
[23:12:37] *** Joins: gitly (~gitly@85.255.233.176)
[23:21:38] *** Joins: PantelicGR (~PantelicG@user/pantelicgr)
[23:31:05] *** Quits: Snaffu (Snaffu@gateway/vpn/protonvpn/snaffu) (Ping timeout: 255 seconds)
[23:31:08] *** Quits: serghei (~egrep@user/serghei) (Ping timeout: 252 seconds)
[23:35:55] <djacobs> Any pointers on moving your application towards a kubernetes environment? or is this too depending on the application?
[23:37:12] <dodo> pointers? anything specific?
[23:38:34] <hylje> djacobs: i think you want your app "containerized" which means making a docker image that can run the app.. other things you want to think about is how you store files (use a storage backend that puts stuff outside the container)
[23:38:38] <fakegermano> if you can run your django app in a docker container it should just work
[23:39:21] <fakegermano> also your storage configuration should be "customizable" in order for you to at "runtime" change where the storage should be pointed
[23:39:24] <fakegermano> as hlje said
[23:40:04] <hylje> yeah you want to have just one container image that doesn't change
[23:40:35] <hylje> so you can configure it "from the outside" and not rely on modifying or saving files in its filesystem
[23:41:05] <fakegermano> env variables and outside-in configuration files should do the work
[23:41:26] *** Quits: molyvius (~molyvius@user/molyvius) (Ping timeout: 255 seconds)
[23:42:48] <fakegermano> basically your app should also be configured to be easily "horizontally scalable" (meaning you can have multiple copies of it running in parallel without running into racing or other issues
[23:43:12] <fakegermano> your DB should live outside the container, and your static/media file storage should also live outside
[23:43:40] *** Joins: humbertowoody (~humbertow@2806:107e:f:5f24:fcd4:fb8f:355f:2c84)
[23:45:58] *** Joins: szunami (~szunami@69.5.120.124)
[23:46:16] <szunami> hello everyone
[23:47:06] <szunami> i'm interested in picking up the fix here: https://github.com/django/django/commit/f51a792c414166c8745657856cb50ed8a134e2b0
[23:48:08] <szunami> does anyone know if there is a 3.2.6 release scheduled? would that commit get picked up?
[23:50:28] *** Joins: serghei (~egrep@user/serghei)
[23:52:44] *** Quits: zcheng3 (~zcheng3@d198-53-38-251.abhsia.telus.net) (Ping timeout: 268 seconds)
[23:55:51] *** Joins: Snaffu (Snaffu@gateway/vpn/protonvpn/snaffu)
