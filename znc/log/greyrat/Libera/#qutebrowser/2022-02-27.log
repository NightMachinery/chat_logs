[00:17:22] <toofar> Dieterbe: I think that means it's just gone and if you don't have a backup you've gotta go back through your history to find out what you had open
[00:17:57] <toofar> a flaw of the current workaround to make loading sessions work at all is that there are some error cases which it doesn't handle so good
[00:24:54] *** Quits: steils (~quassel@gentoo/developer/steils) (Remote host closed the connection)
[00:25:14] <Dieterbe> toofar: ah ok. looking at the history, seems this won't be a big issue. it looks like most/all of my tabs are in the history. i wonder if they are recorded in the history even when you just open the browser and it restores a session, e.g. without explicitly opening that particular tab
[00:27:46] <toofar> if you don't have lazy load turned on then yeah, I think it loads them fresh every time
[00:29:04] <Dieterbe> cool i have lazy-restore False, that seems to be the default
[00:29:51] <Dieterbe> bedtime here, thanks for the tip toofar and have a nice weekend
[00:40:30] *** Joins: steils (~quassel@steils.org)
[00:40:30] *** Quits: steils (~quassel@steils.org) (Changing host)
[00:40:30] *** Joins: steils (~quassel@gentoo/developer/steils)
[01:38:31] *** Quits: emagex (~user@user/emagex) (Quit: ERC (IRC client for Emacs 27.1))
[02:09:03] *** Quits: alpha_Aquilae (~ircII@user/alpha-aquilae/x-1057823) (Quit: client irssi quit)
[02:18:41] *** Quits: guido (~weechat@host-95-234-254-60.retail.telecomitalia.it) (Quit: WeeChat 3.4)
[02:41:54] *** Quits: topcat001 (~topcat001@user/topcat001) (Ping timeout: 272 seconds)
[02:43:39] *** Joins: topcat001 (~topcat001@user/topcat001)
[03:05:15] *** Quits: topcat001 (~topcat001@user/topcat001) (Quit: WeeChat 3.3)
[04:20:11] *** Quits: brabrax (~brabrax@user/brabrax) (Quit: ZNC 1.8.2 - https://znc.in)
[04:21:03] *** Joins: brabrax (~brabrax@user/brabrax)
[04:22:14] *** Quits: brabrax (~brabrax@user/brabrax) (Client Quit)
[04:23:05] *** Joins: brabrax (~brabrax@user/brabrax)
[04:42:54] *** Joins: marcello42 (~mp@p200300dfaf10fe015baf6eed7f4ef68f.dip0.t-ipconnect.de)
[04:43:16] *** Quits: noex (~null@user/noex) (Ping timeout: 245 seconds)
[04:48:12] *** Joins: noex (~null@user/noex)
[05:33:02] *** Quits: marcello42 (~mp@p200300dfaf10fe015baf6eed7f4ef68f.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[05:35:02] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 240 seconds)
[06:56:14] *** Quits: arkurious (~arkurious@user/arkurious) (Quit: Leaving)
[07:28:49] *** Joins: gast0n (~g4570n@user/gast0n)
[08:30:11] *** Joins: anginapectoris2 (~anginapec@user/anginapectoris)
[08:31:48] *** Quits: anginapectoris (~anginapec@user/anginapectoris) (Ping timeout: 240 seconds)
[08:31:48] *** anginapectoris2 is now known as anginapectoris
[09:19:24] *** Quits: gast0n (~g4570n@user/gast0n) (Quit: Bye, see you soon! ðŸ‘‹)
[09:52:49] *** Joins: guido (~weechat@host-87-11-250-236.retail.telecomitalia.it)
[10:31:21] *** Joins: scara (~user@user/scara)
[10:32:36] <scara> Can I make qutebrowser save cookies in a containerized way like firefox does and then automaticly delete all cookies when I close the browser? Some websites sadly require cookies to function properly :(
[10:34:35] *** Joins: saufa (~saufa@m91-129-111-250.cust.tele2.ee)
[10:43:57] <scara> Annoying issue: Links in marquee tag don't line up since the position of the links keeps changeing and also the keycombo seems to change everytime? https://craftplacer.moe/
[10:51:02] * mornfall checks the calendar
[10:51:43] *** Quits: saufa (~saufa@m91-129-111-250.cust.tele2.ee) (Remote host closed the connection)
[10:53:23] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 256 seconds)
[10:54:34] *** Joins: saufa (~saufa@m91-129-111-250.cust.tele2.ee)
[10:56:42] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[11:47:55] <guido> nimaje: I updated the dump-cookies script https://gist.github.com/guidocella/a272b6e68f9c44532b011f6596e95c61 when we started using expires_utc / 1000000 - 11644473600 to get the correct unix timestamp, it broke cookies that expire with the session because they have expires_utc = 0, so they were exported with a negative value. I haven't been able to download from gofile.io with aria2 for the
[11:47:57] <guido> last month and a half and only now understood this was the cause 
[11:51:02] *** Quits: saufa (~saufa@m91-129-111-250.cust.tele2.ee) (Remote host closed the connection)
[12:09:56] *** Joins: saufa (~saufa@m91-129-111-250.cust.tele2.ee)
[12:26:48] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[12:32:55] *** Quits: mys (~mys@gateway/tor-sasl/mys) (Ping timeout: 240 seconds)
[12:34:58] *** Joins: mys (~mys@gateway/tor-sasl/mys)
[12:46:47] <nimaje> guido: ah, nice, I got rid of the copying of the db, I think it should be enough to open it as readonly and that is possible by giving sqlite a file: url with the ?mode=ro query so now my version is https://0x0.st/oKGj.sh
[12:51:34] <guido> nimaje: nice
[12:52:08] <guido> it just worked without copying in previous qutebrowser versions
[12:54:36] *** Quits: saufa (~saufa@m91-129-111-250.cust.tele2.ee) (Remote host closed the connection)
[12:57:42] <guido> nimaje: you put a comment that $1 should be url encoded but it works fine without escaping spaces or Japanese characters
[13:08:53] <nimaje> I would guess sqlite only has problems if ? or %xx appear not encoded, maybe # or + as well, afaik other stuff can just be treated as "someone forgot to encode it, so it is already decoded"
[13:11:34] <guido> nimaje: why did you change the handling of subdomains?
[13:15:27] <nimaje> it seemed to me that chrome doesn't have a extra field for allowing cookies for subdomains and instead encodes that by having host_key starting with a . or not, but sadly I couldn't find some docs for the db design
[13:20:41] <guido> nimaje: https://github.com/dandv/convert-chrome-cookies-to-netscape-format/blob/master/convert-cookies.js this also prepends . to domain and hardcodes the second field to true
[13:23:13] <guido> https://svn.python.org/projects/python/trunk/Lib/_MozillaCookieJar.py however this doesn't modfiy domain and sets the second field to true only if domain starts with .
[13:23:38] <guido> Â¯\_à² _à² _/Â¯
[13:51:35] <nimaje> ok, after reading rfcs some more I'm completely confused, is it even possible to restrict cookies to only exact domain matches (according to the rfcs)? (that is what this second field means "allows subdomain matching") (as I currently understand it no as you should ignore a leading dot in the domain attribute and it matches if there is a postfix match and the last nonmatching char is a dot)
[13:52:49] <nimaje> so it seemed to my like chrome encodes that "allows subdomain matching" with the domain starting with a dot, but not sure if that is a thing anymore or ever was (see ^)
[13:57:02] <guido> why shouldn't it be possible?
[13:57:15] <guido> the leading dot seems to mean include subdomains
[13:57:52] <guido> if you go to https://www.ebay.com/ and go to application > developers > cookies there are cookes for the .ebay.com domain that appear under both www.ebay.com and pages.ebay.com
[13:58:14] <guido> if you modify a cookie's domain to ebay.com without the leading ., it disappears
[13:59:28] <guido> so IIF(host_key LIKE ".%", "TRUE", "FALSE") for the include subdomains field should be correct
[13:59:49] <guido> anyway, that ?ro url doesn't work for me, I get Error: in prepare, database is locked (5)
[14:00:00] <guido> it works if I open qutebrowser on a blank page but once I visit a website it errors
[14:05:03] <nimaje> ok, didn't test it much, mostly hoped that opening the db in readonly mode wouldn't need the lock (it works for me even with some tabs open), as the comment says you could try the nolock parameter, but really no idea what consequences that could have
[14:07:07] <nimaje> yeah, I think that IIF should be correct for what chrome is doing, but no idea if such behaviour should be possible according to the rfcs
[14:08:30] <guido> nolock works
[14:09:13] <guido> it should be fine to use it only for reading
[14:09:43] <guido> nolock: The nolock parameter is a boolean query parameter which if set disables file locking in rollback journal modes. This is useful for accessing a database on a filesystem that does not support locking. Caution: Database corruption might result if two or more processes write to the same database and any one of those processes uses nolock=1.
[14:12:36] <guido> updated the gist
[15:04:45] *** Joins: cotko (~cotko@155.pool85-49-78.dynamic.orange.es)
[15:13:39] *** Joins: saufa (~saufa@m91-129-111-250.cust.tele2.ee)
[15:17:39] *** Joins: alpha_Aquilae (~ircII@user/alpha-aquilae/x-1057823)
[15:19:06] *** Joins: marcello42 (~mp@p200300dfaf10fe015baf6eed7f4ef68f.dip0.t-ipconnect.de)
[15:50:57] *** Quits: cotko (~cotko@155.pool85-49-78.dynamic.orange.es) (Ping timeout: 240 seconds)
[16:47:51] *** Quits: saufa (~saufa@m91-129-111-250.cust.tele2.ee) (Remote host closed the connection)
[17:41:03] *** Quits: guido (~weechat@host-87-11-250-236.retail.telecomitalia.it) (Ping timeout: 256 seconds)
[17:43:03] *** Joins: guido (~weechat@87.13.246.235)
[17:57:51] *** Joins: arkurious (~arkurious@user/arkurious)
[18:30:23] *** Joins: gast0n (~g4570n@user/gast0n)
[18:44:27] *** Joins: sudoforge (~sudoforge@wireguard/tunneler/sudoforge)
[19:10:23] *** Joins: blaub (~blaub@194-208-201-025.tele.net)
[19:29:50] *** Joins: cotko (~cotko@155.pool85-49-78.dynamic.orange.es)
[19:30:06] *** Quits: philipp[m] (~philippxn@2001:470:69fc:105::dee) (Quit: You have been kicked for being idle)
[19:58:05] *** Joins: saufa (~saufa@m91-129-111-250.cust.tele2.ee)
[20:06:32] *** Quits: cotko (~cotko@155.pool85-49-78.dynamic.orange.es) (Ping timeout: 252 seconds)
[20:21:47] *** Joins: mohab (~mohab@45.243.51.195)
[20:44:19] *** Joins: ktprogra1s (~ktprogram@113.211.209.51)
[20:47:12] *** Quits: ktprograms (~ktprogram@14.192.220.226) (Ping timeout: 265 seconds)
[21:16:42] *** Quits: mohab (~mohab@45.243.51.195) (Quit: WeeChat 3.4)
[21:25:05] *** Quits: saufa (~saufa@m91-129-111-250.cust.tele2.ee) (Remote host closed the connection)
[22:05:35] *** Quits: marcello42 (~mp@p200300dfaf10fe015baf6eed7f4ef68f.dip0.t-ipconnect.de) (Quit: WeeChat 3.4)
[22:17:30] *** Quits: noex (~null@user/noex) (Ping timeout: 250 seconds)
[22:34:10] *** Joins: mord0d_ (~mord0d@gateway/tor-sasl/mord0d)
[23:26:04] *** Joins: lothar_m (~lothar_m@user/lothar-m/x-8875873)
[23:27:52] *** Joins: saufa (~saufa@m91-129-111-250.cust.tele2.ee)
[23:33:57] *** Quits: ktprogra1s (~ktprogram@113.211.209.51) (Ping timeout: 265 seconds)
[23:36:03] *** Joins: ktprograms (~ktprogram@113.211.208.18)
