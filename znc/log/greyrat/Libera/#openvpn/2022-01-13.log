[00:04:03] *** Quits: RypPn (~RypPn@user/ryppn) (Quit: Real-time updating is paused. (Resume))
[00:05:42] *** Joins: RypPn (~RypPn@user/ryppn)
[00:16:42] *** Quits: Kruppt (~Kruppt@50.111.24.186) (Quit: Leaving)
[00:57:11] *** Quits: becm (~becm@55d4ffdb.access.ecotel.net) (Quit: quit)
[01:32:38] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Quit: Ex-Chat)
[03:05:17] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[04:40:55] *** Joins: gast0n (~g4570n@user/gast0n)
[05:17:27] *** Joins: plaisthos (~arne@openvpn/developer/plaisthos)
[06:06:51] *** Quits: gast0n (~g4570n@user/gast0n) (Ping timeout: 256 seconds)
[06:58:20] *** Joins: gast0n (~g4570n@user/gast0n)
[07:20:06] *** Joins: adeliktas5 (~adeliktas@i59F52CD4.versanet.de)
[07:21:49] *** Quits: adeliktas (~adeliktas@i59F4DFBF.versanet.de) (Ping timeout: 240 seconds)
[07:21:49] *** adeliktas5 is now known as adeliktas
[07:33:37] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Quit: Ex-Chat)
[09:10:09] *** Quits: gast0n (~g4570n@user/gast0n) (Quit: Bye, see you soon! ðŸ‘‹)
[09:55:13] *** Quits: SSLbits (~SSLbits@user/sslbits) (Quit: Quit.)
[09:55:50] *** Joins: SSLbits (~SSLbits@user/sslbits)
[11:23:53] <pagios> hello, can i create 2 vpn tunnels at the same time ? for examplee connect to openvpn and then on top connect to anyconnect cisco? it is giving me an error when trying that and would like to know if this is possible 
[11:24:32] *** Joins: nerozero (~nerozero@87.253.63.54)
[11:31:17] <pagios> i get this The VPN client was unable to successfully verify the IP forwarding table modifications.  A VPN connection will not be established.
[11:34:35] <ordex> pagios: technically, yes. practically you need to fine tune what each VPN wants to do to avoid conflicts
[11:34:40] <ordex> i.e. do both want to take over the default route?
[11:34:48] <ordex> do both want to route to the same subnet, etc
[11:35:00] <pagios> ordex: i would like the cisco one to take the default route in this case
[11:35:05] <ordex> because they don't know about each other
[11:35:19] <pagios> or route all 10.20.x.x to the cisco one and the default route to openvpn
[11:35:31] <ordex> then you need to configure the "external" VPN to not install a default route *BUT* it has to install a route to the cisco VPN server
[11:35:44] <ordex> so that connections to cisco go through the first tunnel
[11:35:52] <ordex> on top of that, you may want the cisco vpn to have a smaller mtu
[11:35:58] <ordex> as it will be double encapsulated
[11:36:41] <pagios> external vpn as openvpn you mean
[11:36:42] <pagios> ?
[11:38:40] <ordex> yap
[11:38:58] <ordex> you are building two nested tunnels bascially
[11:39:04] <ordex> basically*
[11:44:29] *** Quits: DmanT (~snooky@2001:41d0:a:f55c::1) (Ping timeout: 252 seconds)
[11:45:41] <pagios> ordex: i am thinking of an alternative, on openvpn server can i create a cisco anyconnect client and have openvpn route traffic to it ? main goal is to hide my ip, and have cisco vpn see my openvpn ip
[11:46:04] <ordex> pagios: sure you can do it, just do it right :p
[11:46:20] <ordex> often all these questions have a 'yes' answer
[11:46:24] <pagios> not sure if cisco anyconnect has any headless vpn client
[11:46:27] <ordex> it's just a matter of making sure the routing is right
[11:46:32] <ordex> no clue - never used
[11:46:50] <ordex> can't anyconnect use a proxy ?
[11:47:08] <pagios> on the client side you mean ?
[11:47:43] <ordex> yap
[11:47:49] <ordex> like an HTTP proxy
[11:47:53] <ordex> so you just need that
[11:47:57] <ordex> instead of another VPN tunnel
[11:48:17] <pagios> in this case i put the HTTP proxy to be the openvpn server?
[11:48:23] <ordex> no
[11:48:27] <pagios> i didnt get it 
[11:48:28] <ordex> you need a HTTP proxy
[11:48:34] <ordex> insteasd of an openvpn server
[11:48:41] <ordex> might jus be easier to setup
[11:48:47] <ordex> *just
[11:48:54] <pagios> ok but the initial authentication of my computer toward the anyconnect server will expose my ip
[11:49:02] <pagios> or not ?
[11:49:11] <ordex> no, if the anyconnect is going through the proxy
[11:49:15] <pagios> nice
[11:49:23] <ordex> assuming anyconnect supports that
[11:49:35] <pagios> so authentication goes from anyconnect  client -> trasparent http rpoxu -> any connect server
[11:49:45] <ordex> if the anyconnect clients supports that, yes
[11:49:49] <pagios> let me check
[11:49:54] <ordex> btw on linux I see there is this client for anyconnect http://www.infradead.org/openconnect.html
[11:50:02] <ordex> maybe it is better than the original one ;p
[11:50:17] <pagios> the advantage of the anyconnect on openvpn is that i can then serve many clients
[11:50:41] <ordex> true
[11:50:45] <ordex> the proxy can do the same though
[11:52:47] <pagios> seems it does not support proxy
[11:52:54] <pagios> i am using the opensource license
[11:53:46] <ordex> well :)
[11:53:49] <ordex> then go with openvpn
[11:55:12] <pagios> ordex: the trick will be to create a route to that anyconnect from openvpn server
[11:55:44] <ordex> right
[11:55:52] <ordex> I think with some policy routing
[11:56:12] <ordex> you basically have to instruct the server to: "route all traffic from the VPN network to the Cisco tunnel"
[12:31:52] *** Quits: Bebef (sbreit@phobos.bebef.de) (Quit: bye)
[12:34:05] *** Joins: Bebef (sbreit@phobos.bebef.de)
[12:39:52] *** Joins: DmanT (~DmanT@dmant.ovh)
[13:48:55] *** Joins: petan (~g@wikimedia/petrb)
[14:10:45] *** Quits: funkymonkey (~funky@6-173-177-143.ftth.glasoperator.nl) (Quit: leaving)
[14:30:13] *** Quits: csrf (~csrf@user/csrf) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[14:30:58] *** Joins: csrf (~csrf@user/csrf)
[14:36:41] <pagios> hey i am having hard time installing the  anyconnect on vpn server, it needs. a system contract from cisco which i dont have... so i am thinkg inf an alterntive, if i install on my mac a system wide http proxy will anyconnect be able to connect to it without supplying. proxy setting int it 
[14:41:57] *** Quits: BOWnbERTHA (~BOWnbERTH@178.239.165.204) (Read error: Connection reset by peer)
[14:42:18] *** Joins: BOWnbERTHA (~BOWnbERTH@178.239.165.204)
[14:42:22] *** Joins: gryffus (~gryffus@81.19.2.214)
[14:43:46] <gryffus> Hey all, i am trying the "OpenVPN Connect" Client on MacOS and i have trouble importing profile. It seems it cannot find my certificates - is there anything special i need to do on MacOS for the import being able to find my certs?
[14:44:44] <gryffus> The certificates are in the same directory as the profile i am trying to import, and i have verified that the paths in "ca" , "cert" and "key" variables are correct.
[14:53:59] <gryffus> Hmm strange is that if i embed certificates to the profile file. It seems that the OpenVPN Connect has just trouble finding certificate files on the filesystem. Any clues? Thanks
[14:54:41] <gryffus> s/to the profile file/to the profile file, it works./
[15:35:06] *** Joins: trace987 (~trace@ip5b42976d.dynamic.kabel-deutschland.de)
[15:59:01] <Tuvix> gryffus: you should contact the commercial support for that since it's not open-source or community supported
[16:00:50] <Tuvix> or perhaps ask the admin of your commercial server operator for assistance
[16:15:59] *** Quits: SSLbits (~SSLbits@user/sslbits) (Quit: Quit.)
[16:18:42] *** Joins: SSLbits (~SSLbits@user/sslbits)
[17:32:13] *** Quits: fling (~fling@user/fling) (Ping timeout: 240 seconds)
[17:52:02] <gryffus> Tuvix: I am admin and we are using the open source version of the server. Also, this has apparently nothing to do with server, since the _client_ fails to import profile. It does not fail to connect to server.
[17:54:05] <Tuvix> regardless openvpn connect is a commercial product and unsupported by the opensource community. that is designed to import profiles created with the commercial server product
[17:55:04] <Tuvix> in theory it might also work to speak to the open source product but the community cannot really offer guidance for such a proprietary product
[17:55:36] <gryffus> Tuvix: wait, do you mean that the certificate generated from commercial (non-open)vpn server is not in a standard PEM or PKCS12 format or what? 
[17:55:42] <Tuvix> that would be a bit like asking the libre office people to help you with your office 365 problems
[17:55:46] <ordex> Connect should just import a generic openvpn config just fine
[17:56:13] <gryffus> "that is designed to import profiles created with the commercial server product" what this sentence even means? :Dd
[17:57:14] <Tuvix> openvpn connect pairs with openvpn access server which are both commercial offerings. they overlap to the point that the protocol is the same but not the software or the ways you obtain support for them
[17:57:37] <gryffus> Tuvix: why you keep mentioning the server, when this is _client import_ problem?
[17:57:42] *** Joins: gast0n (~g4570n@user/gast0n)
[17:57:56] <Tuvix> openvpn connect != openvpn gpl client
[17:58:23] <gryffus> Tuvix: is it forbidden to speak here about openvpn connect or what?
[17:59:08] <gryffus> i don't want any commercial support, i'm wondering just about experiences of people present here
[17:59:10] <Tuvix> the community is not keen on supporting a commercial enterprise product, though you had one other offer above who is probably better able to help instead of continuing this like of questioning
[17:59:26] <Tuvix> line of questioning
[17:59:36] <gryffus> I do support commercial products on IRC all the time
[18:00:01] <gryffus> do you think you can find only commercial support in #vmware channel for example or what?
[18:00:10] <Tuvix> channels in irc are typically topical, and this one even says 'openvpn community support channel'
[18:00:13] * Tuvix shrugs
[18:00:35] <Tuvix> i clearly have no interst in helping and have not used the product so its unclear what badgering me further will gain you
[18:01:06] <gryffus> Yeah, i'm asking openvpn community about their experiences about openvpn connect commercial client. I still don't see a prblem here.... And this starting to be a little OT now...
[18:01:33] <gryffus> Tuvix: ignore my messages about software you have no experiences with, then. Thanks.
[18:02:31] <Tuvix> this is really not the venue to seek support from a vendor that supplies it for their own offerings. this comes up not infrequently here and is typically the answer you would expect, but someone above probably had more useful advice for you if you would rather engage them instead of continuing to engage me knowing full well what my responses will be
[18:02:45] <ordex> btw, Connect should just import a generic openvpn config just fine
[18:03:08] <ordex> in case anybody cares :p
[18:03:14] <gryffus> ordex: When i omit any certificate setting (comment out "ca", "cert" and "key" parameters) from the .ovpn config file, it imports OK. But with the certificate options present, i get an error that it's unable to find it... have you experienced this? How do you import certs there?
[18:04:05] <gryffus> I have tried full and relative paths, none work (MacOS)
[18:04:46] <ordex> gryffus: normally I just embed those things, as it makes it much easier to carry around key material
[18:04:50] <ordex> rather than having multiple files
[18:04:57] <ordex> however importing from files should just work
[18:05:04] <ordex> do you actually get file not found ?
[18:05:09] <ordex> or what error exactly?
[18:05:20] <gryffus> ordex: yeah, but this way i can have the client private keys on secure storage... And not in plaintext stored locally :(
[18:06:46] <ordex> gryffus: it needs to be accessible in plaintext anyway when connecting no? if that's your fear, just encrypt the private key - so it'll require a passphrase to be accessed
[18:06:51] <Tuvix> in terms of key material safety perhaps either or both of encrypted keys with a passphrase to unlock on use or drive encryption would be preferable? mac should support partition encryption
[18:06:51] <ordex> anyway, accessing keys from file should work
[18:06:52] *** Joins: fling (~fling@user/fling)
[18:07:00] *** Joins: funkymonkey (~funky@6-173-177-143.ftth.glasoperator.nl)
[18:07:07] <ordex> probably there is something obviously wrong that is being overlooked
[18:08:19] <gryffus> ordex: well, best would be to use MacOS keychain, but that is not implementedd AFAIK. But this way, i can have it stored at least on encrypted flashdisk or such. Or at least setup proper access rights so the key is not readable by everyone...
[18:08:59] <Tuvix> it appears apple has apfs volumes that can be encrypted if you want this
[18:09:26] <ordex> gryffus: encrypting the key is not an option?
[18:09:29] <gryffus> ordex: i have tried with the embedded keys in coonfig file and it works... But that's really not the thing i want to do for my clients from security standpoint
[18:09:33] <ordex> anyway, really, reading from file should not be a problem at all
[18:09:59] <gryffus> ordex: oh, the client supports DES-encrypted keys?
[18:10:02] <gryffus> that would be nice!
[18:10:17] <ordex> not sure DES is used anymore to encrypt keys, but yes, encrypted keys should be supported
[18:10:27] <Tuvix> you should consider modern fips standards instead of triple-des. aes would be a better choice
[18:10:56] <gryffus> ordex: well, openssl does use it (not sure how else would i encrypt PEM-based key file)
[18:11:27] <Tuvix> openssl or your preferred interface should be able to convert your private component to an encrypted format. openssl is very willing to support aes encryption of your rsa or ecc keys
[18:12:49] <gryffus> openssl encrypts by defaault with "3DES-CBC" ... seems secure enough for me
[18:13:13] <gryffus> question is, which ones do the client support, i guess i just have to try
[18:13:15] <plaisthos> I think the defualt is even wrose
[18:13:23] <plaisthos> for openssl 1.1 it is rc4 or something
[18:13:32] <ordex> as you wish, but you can easily pass "aes" if you want
[18:13:56] <gryffus> ordex: i will, if the client supports it
[18:14:38] <gryffus> this way, i would be OK with the key embedded in .ovpn config file... Even when keychain would be even better
[18:16:02] <ordex> it seems tunneblick does
[18:16:13] <ordex> have you tried that? (if you really want this feature)
[18:16:18] <Tuvix> tunnelblick can save the passphrase in the keychain, yes
[18:16:34] <gryffus> plaisthos: https://github.com/openssl/openssl/blob/master/apps/req.c :     cipher = (EVP_CIPHER *)EVP_des_ede3_cbc();    --- default is DES-EDE3-CBC :)
[18:16:46] <gryffus> line 266
[18:16:58] <Tuvix> des3 is not recommended for use in new applications per fips and most crypto experts
[18:17:17] <Tuvix> use whatever you want though as its your security framework and presumably you have a minimum standard to adhere to
[18:17:30] <gryffus> Tuvix: tunnelblick is the reason we moved to openvpn connect. Tunnelblick connects about 1 minute. OpenVPN connect connects after about 5 seconds
[18:18:04] <Tuvix> you may want to identify why then. i use tunnelblick often and do not have this problem
[18:18:08] <gryffus> AES be it, then :) thanks. Now lets try it
[18:19:31] <plaisthos> gryffus: ah for that, I think for pkcs12 it was rc2
[18:19:44] <gryffus> Tuvix: it could be anything like some missing reverse DNS or such... But if i remember correctly, the most time it was waiting for "getting config from server" or something like that
[18:20:01] <gryffus> plaisthos: ewwww pkcs
[18:24:26] <gryffus> Yeah that seems to work... On, embedding keys in encrypted form to the config... _
[18:36:43] *** Quits: fling (~fling@user/fling) (Ping timeout: 256 seconds)
[18:50:37] *** Quits: gryffus (~gryffus@81.19.2.214) (Remote host closed the connection)
[19:20:48] *** Joins: becm (~becm@55d4fea1.access.ecotel.net)
[19:26:17] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[19:30:18] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Client Quit)
[19:54:37] *** Quits: Poster (~poster@75.188.0.55) (Quit: ZNC - https://znc.in)
[19:56:17] *** Joins: Poster (~poster@75.188.0.55)
[20:14:40] *** Joins: indy (~indy@dsl-static-104.213-160-167.telecom.sk)
[20:25:55] *** Joins: mannequin (uid453465@id-453465.helmsley.irccloud.com)
[20:26:23] <mannequin> can someone helpo me configurng openvpn3?
[20:26:29] <mannequin> i'm trying to ue th shield
[20:30:02] <ordex> the shield ?
[20:34:12] <ordex> mannequin: what is the shield ?
[20:34:30] <ordex> mannequin: you mean Cyber Shield?
[20:36:18] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 250 seconds)
[20:44:21] <mannequin> ordex: i got the .ovpn file, what should i do with it?
[20:44:35] <mannequin> i got connector installed and running, i got tun0 with a local address
[20:44:52] <ordex> then it sounds like you are already using the .ovpn
[20:45:15] <ordex> mannequin: however this is a cyber shield specific question. i doubt anybody here can help - how about reaching out to openvpn inc. support?
[20:45:31] <ordex> mannequin: open a ticket here: https://support.openvpn.com/hc/en-us
[20:45:55] <mannequin> well i want to route all the traffic via thew vpn that's all  i want
[20:46:35] <ordex> isn't this configurable from your panel?
[20:46:54] <ordex> I think the panel should generate the right config for you, after you have selected the right options
[20:47:05] <ordex> but really - reaching out to support might just be the fastest option
[20:47:12] <mannequin> yeah but still it's not happening
[20:47:27] <ordex> well, I have no clue sorry - I never used cyber shield
[20:47:42] <ordex> I would really recommend to open a ticket on https://support.openvpn.com/hc/en-us
[20:47:44] <plaisthos> mannequin: I think a connector does have a default route
[20:48:05] <mannequin> it has
[20:48:06] <plaisthos> mannequin: that is something you use to *provide* Internet access for your other clients
[20:48:15] <mannequin> but i'm still not routing via the vpn
[20:48:28] <plaisthos> mannequin: either it has a default route and routes via the vpn
[20:48:31] <plaisthos> or it doesn't
[20:49:13] <mannequin> http://paste.debian.net/1227002/
[20:49:20] <mannequin> this is how my routing table looks like
[20:49:29] <plaisthos> yeah no default route to the VPN
[20:50:04] <plaisthos> mannequin: just a question, what is your setup?
[20:50:16] <mannequin> what you mean by that
[20:50:21] <plaisthos> clinet on your PC and connector on a router/other PC?
[20:50:38] <mannequin> conector is on the client pc
[20:51:15] <plaisthos> mannequin: you realise that OpenVPN cloud does *NOT* provide you with Internet access?
[21:00:39] *** Quits: gast0n (~g4570n@user/gast0n) (Ping timeout: 256 seconds)
[21:06:36] <mannequin> plaisthos: i didn't realize
[21:06:41] <mannequin> so all of my effort for nothing
[21:07:14] <mannequin> if i pay them, will they?
[21:12:45] <plaisthos> no
[21:13:03] <plaisthos> https://openvpn.net/cloud-docs/openvpn-cloud-vpn-egress/
[21:13:15] <plaisthos> read that
[21:14:50] *** Joins: fling (~fling@user/fling)
[21:15:06] <kaipee> what is CID and KID ?
[21:15:23] <kaipee> I'm trying to deny a client using management interface
[21:15:34] <plaisthos> client id and key id
[21:15:44] <kaipee> `client-deny` requires CID and KID but I don;t know where to get those
[21:15:54] <plaisthos> you get those from the CONNECT message 
[21:16:16] <kaipee> how to I filter for CONNECT message for a specific client?
[21:16:21] <kaipee> there are 100s of clients
[21:16:44] <plaisthos> I think one of the status outputs also has ids you can use for kicking
[21:17:05] <plaisthos> kaipee: it is more useful for a management software that constantly listens to that interface
[21:17:49] <kaipee> ok..
[21:17:59] <kaipee> so is `client-deny` not useful?
[21:29:59] <kaipee> where do I get the CONNECT message?
[21:36:15] <becm> kaipee: in the management connection, *if* it's set to handle client authentication. (https://openvpn.net/community-resources/management-interface)
[21:37:02] <kaipee> becm: I'm looking through that documentation, but cannot see anywhere it mentions how to get the required CID and KID
[21:37:37] <kaipee> I'm now investigating the use of a clien config directory with the work 'disable' in it as a means to deny a rogue client
[21:43:18] <becm> This document states these values are supplied as part of the client:connect notification line.
[21:43:36] <kaipee> and where do I see such a line?
[21:45:53] <becm> In a managment process connected to the openvpn management interface when configured to handle clientt authentication.
[21:45:53] <kaipee> this is the client connecting immediately after a kill command : https://pastebin.com/61f2KyeA
[21:46:04] <kaipee> I see no Client ID nor Key ID details
[21:47:05] <becm> so did you start openvpn with --management-client-auth (or set that parameter in server config)?
[21:48:31] <becm> (since there are no ">CLIENT:CONNECT,..." messages at all)
[21:48:37] <kaipee> No. would that require explicit/manual authorisation using the management interface?
[21:49:41] <becm> yes, for every client. until openvpn gets the get-go from management interface, connections should be stalled.
[21:50:44] <becm> if you do not (have the need for) a long running process handling client setups, the script way should be easier.
[21:51:53] <kaipee> I need long running connections, but the ability to block/deny a rogue client where CRL hasn't been implemented
[21:55:29] <kaipee> client-config-directory with a file named as the CN, containing 'disable' seems to do the trick. Connection attempts still seem to be made but connection looks to be refused
[21:56:24] <plaisthos> >CLIENT:ESTABLISHED,589677
[21:56:30] <plaisthos> iirc that id is also the cid
[21:56:46] <kaipee> what about KID ?
[22:04:34] <plaisthos> that is key id
[22:04:54] <plaisthos> just try all seven :P
[22:05:16] <plaisthos> I don't you need kid to kill a connection
[22:05:34] <plaisthos> kaipee: also kill can use the CN or IP
[22:06:04] <plaisthos> and status shows the ids anyway
[22:06:54] <plaisthos> kaipee: I am not sure if client-deny even work without managent-auth option
[22:07:15] <plaisthos> the server is supposed to respond with either client-deny or client-auth after a >CONNECT message
[22:07:25] <plaisthos> and in that conext you need the client id
[22:07:44] <plaisthos> kaipee: if you really read management.txt it would also told you that ....
[22:58:17] *** Joins: Bebef0 (sbreit@phobos.bebef.de)
[22:59:39] *** Quits: Bebef (sbreit@phobos.bebef.de) (Ping timeout: 256 seconds)
[22:59:39] *** Bebef0 is now known as Bebef
[23:41:25] *** Quits: NllPtr (~NllPtr@186-78-254-187.baf.movistar.cl) (Ping timeout: 240 seconds)
[23:43:46] *** Joins: NllPtr (~NllPtr@186-78-254-187.baf.movistar.cl)
[23:49:51] *** Joins: vlm (~vlm@user/vlm)
