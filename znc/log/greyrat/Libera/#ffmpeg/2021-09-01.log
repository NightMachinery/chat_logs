[00:00:27] *** Quits: Drek45 (~jrept371@129.59.122.18) (Ping timeout: 245 seconds)
[00:01:00] *** Joins: arcatech (~arcatech@user/arcatech)
[00:01:19] *** Joins: linjie_ (~linjie@58.247.209.118)
[00:05:40] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 256 seconds)
[00:06:51] *** Joins: jess (~jess@libera/staff/jess)
[00:12:11] *** microchip__ is now known as microchip_
[00:29:14] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[00:29:51] *** Quits: Blacker47 (~Blacker47@user/blacker47) (Quit: Life is short. Get a V.90 modem fast!)
[00:30:41] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[00:39:17] *** Joins: arcatech (~arcatech@user/arcatech)
[00:43:34] *** Quits: arcatech (~arcatech@user/arcatech) (Ping timeout: 252 seconds)
[00:56:31] *** Quits: haihao (~haihao@192.55.46.52) (Remote host closed the connection)
[00:58:02] *** Joins: haihao (~haihao@192.102.204.51)
[01:03:28] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[01:06:33] *** Joins: dreamon (~dreamon@p57a4c28d.dip0.t-ipconnect.de)
[01:26:23] *** Joins: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net)
[01:27:12] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[01:29:30] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[01:41:06] *** Quits: mickey (~user@user/mickey) (Remote host closed the connection)
[01:41:27] *** Joins: mickey (~user@user/mickey)
[01:42:38] *** Quits: Flabb (~Flabb@89.169.50.87) (Quit: Leaving)
[01:44:42] *** Quits: dreamon (~dreamon@p57a4c28d.dip0.t-ipconnect.de) (Ping timeout: 244 seconds)
[02:04:59] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[02:07:42] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[02:28:04] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Ping timeout: 252 seconds)
[02:29:37] *** Quits: haihao (~haihao@192.102.204.51) (Remote host closed the connection)
[02:30:00] *** Joins: haihao (~haihao@192.102.204.53)
[02:35:43] *** Quits: furrymcgee (~devuan@31.179.186.66) (Ping timeout: 252 seconds)
[02:45:31] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[02:47:39] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[03:06:16] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[03:13:56] *** Joins: ddubya (~ddubbya@172.93.207.81)
[03:14:38] <ddubya> should utf8 path with with avformat_open_input on windows? If not, is my only solution do do io wrappers?
[03:20:21] *** Quits: der_richter (~Akemi@p4fde4e3e.dip0.t-ipconnect.de) (Quit: Leaving.)
[03:23:39] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3-dev)
[03:24:20] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[03:26:22] *** Quits: nillyhan (~00000000@user/nillyhan) (Ping timeout: 252 seconds)
[03:27:09] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[03:27:26] *** Joins: metamadness (~metamadne@125.red-2-138-22.dynamicip.rima-tde.net)
[03:28:18] *** Quits: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net) (Quit: Leaving)
[03:31:07] <metamadness> question: when re-encoding AC3 to AC3 audio. DRC metadata is lost. Any way to keep it?
[03:31:49] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Ping timeout: 252 seconds)
[03:34:03] <metamadness> If not here... where could I ask this?
[03:35:37] <ddubya> metamadness, no idea, did you read ffmpeg -h encoder=ac3 ?
[03:36:40] *** Joins: TanoMarcelo (~TanoMarce@179.63.242.111)
[03:38:42] *** Joins: nillyhan (~00000000@user/nillyhan)
[03:40:14] <metamadness> yes, I've read it. Apparently some metadata can be set... but no way to tell the encoder to keep what's already present in the stream.
[03:44:01] <metamadness> no way to set DRC profile, though. lisht film, standard film, etc
[03:44:13] <metamadness> And even then, it would be guessing.
[03:44:34] <metamadness> So... I'm looking for a way to keep what's in the input stream.
[03:44:59] <metamadness> *light film, standard film, etc
[03:45:27] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[03:46:40] *** Quits: Buster_ (~Buster@buster-net.ru) (Ping timeout: 240 seconds)
[03:47:25] <ddubya> yes, it appears ac3 => ac3 will apply the drc and thus drop the metadata
[03:47:43] <ddubya> unless you put -drc_scale = 0
[03:48:46] <metamadness> yep, that's what it does. Or it applies DRC (-drc_scale 1) by default.
[03:49:27] <ddubya> so you are transcoding it to save space?
[03:50:06] <metamadness> yes. 640kbps to 384kbps or something along that way.
[03:50:26] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[03:50:29] <ddubya> is this to save space or the playback device doesn't work?
[03:51:06] <ddubya> what I'm getting at is, maybe having multiple audio streams is an option (the original, and one with drc pre-applied)
[03:51:31] <metamadness> space, but also also some streams need joining, cropping, repairing... once I do anything with the stream apart from cutting it, metadata is gone.
[03:52:36] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[03:52:41] <metamadness> Well, it is an option, but then I'd have to keep doble streams for every language and the file becomes too big
[03:53:22] <metamadness> and even then it wouldn't always be a solution
[03:54:45] <metamadness> That's why I found weird some metadata can be set but ffmpeg don't bother with any 'keep metadata' option... and now I'm trying to figure a way to solve it.
[03:55:18] <ddubya> its probably because its a metadata stream and not a per-stream constant data
[03:55:32] <ddubya> or it technically isn't metadata
[03:56:26] <metamadness> not sure about that, bitstream-wise
[03:57:26] <ddubya> oh, does it show an additional stream for the metadata?
[03:58:02] <metamadness> nope
[04:02:46] <metamadness> it is metadata in the sense that it is data about the data: a profile to tell decoders what to do with the audio signal
[04:03:17] *** Joins: Fohsap (~Muimi@60.20.217.6)
[04:03:17] <ddubya> true
[04:03:22] *** Joins: linjie_ (~linjie@58.247.209.118)
[04:03:41] <ddubya> but it might not be severable from the original data
[04:03:53] <ddubya> i'm just spitballing here
[04:06:07] <metamadness> for all I know its embedded in the audio frame, but that's just guessing, my technical knowledge doesn't reac that far
[04:06:16] <metamadness> *reach
[04:07:49] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 244 seconds)
[04:21:32] *** Quits: linetrace (~linetrace@c-76-19-81-84.hsd1.vt.comcast.net) (Read error: Connection reset by peer)
[04:22:27] *** Joins: Arokh (~MoveAlong@ip-88-153-209-30.hsi04.unitymediagroup.de)
[04:23:15] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[04:23:41] <metamadness> thanks for the help, dduyba. bye!
[04:23:52] *** Quits: metamadness (~metamadne@125.red-2-138-22.dynamicip.rima-tde.net) (Quit: Connection closed)
[04:24:17] <ddubya> cya
[04:30:03] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[04:30:26] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[04:54:19] *** Quits: MrZeus_ (~MrZeus@185.248.85.26) (Ping timeout: 244 seconds)
[04:57:04] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 252 seconds)
[05:11:00] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[05:11:42] *** Quits: TanoMarcelo (~TanoMarce@179.63.242.111) (Quit: WeeChat 3.1)
[05:13:37] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[05:28:50] *** Quits: mickey (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[05:29:13] *** Joins: mickey (~user@user/mickey)
[05:30:30] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:30:36] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Quit: Konversation terminated!)
[05:34:28] *** Joins: vlm (~vlm@user/vlm)
[05:40:55] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[05:43:01] *** Joins: igor-cologne (~igor@2a0a-a546-865f-0-171-9a14-ee8c-d5f2.ipv6dyn.netcologne.de)
[05:46:37] *** Quits: igor-cgn (~igor@2a0a-a546-f507-0-171-9a14-ee8c-d5f2.ipv6dyn.netcologne.de) (Ping timeout: 252 seconds)
[05:49:29] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[05:49:36] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[05:50:22] *** meinside_ is now known as meinside
[05:53:13] *** Joins: TanoMarcelo (~TanoMarce@179.63.242.111)
[06:09:18] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Ping timeout: 250 seconds)
[06:17:35] *** Joins: selve (~selve@bas2-montreal28-70-53-241-238.dsl.bell.ca)
[06:17:55] *** crmur__ is now known as orthoplex64
[06:30:11] *** Quits: jerome- (~jerome@78.193.84.130) (Remote host closed the connection)
[06:31:54] *** Joins: jerome- (~jerome@78.193.84.130)
[06:40:32] *** Joins: arcatech (~arcatech@user/arcatech)
[06:40:33] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[06:41:06] *** Joins: gnoo (~gnoo@user/gnoo)
[06:45:10] *** Quits: arcatech (~arcatech@user/arcatech) (Ping timeout: 240 seconds)
[06:45:29] *** Quits: BUSY (~BUSY@user/busy) (Read error: Connection reset by peer)
[06:46:02] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[06:48:43] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Ping timeout: 252 seconds)
[06:48:43] *** shokohsc8 is now known as shokohsc
[06:54:03] *** Quits: jos1 (~jos3@dyndsl-095-033-174-102.ewe-ip-backbone.de) (Ping timeout: 250 seconds)
[07:03:20] *** Joins: apteryx (~maxim@dsl-153-61.b2b2c.ca)
[07:03:47] <apteryx> hello!  I've been battling with this problem for weeks, on an off: /usr/bin/ld: /jami/work/daemon/contrib/x86_64-linux-gnu/lib/libswscale.a(swscale.o): relocation R_X86_64_PC32 against symbol `ff_M24A' can not be used when making a shared object; recompile with -fPIC
[07:05:50] *** Parts: selve (~selve@bas2-montreal28-70-53-241-238.dsl.bell.ca) ()
[07:07:14] *** Joins: jos1 (~jos3@dyndsl-178-142-070-022.ewe-ip-backbone.de)
[07:10:15] *** Quits: igor-cologne (~igor@2a0a-a546-865f-0-171-9a14-ee8c-d5f2.ipv6dyn.netcologne.de) (Read error: Permission denied)
[07:10:32] *** Joins: igor-cologne (~igor@2a0a-a546-865f-0-171-9a14-ee8c-d5f2.ipv6dyn.netcologne.de)
[07:11:43] <apteryx> the static archive is supposed to be built with --enable-pic and --extra-ldexeflags (GNU/Linux -- Ubuntu 20.04 for example)
[07:12:26] <apteryx> and the application that fails to link has -DCMAKE_SHARED_LINKER_FLAGS=-Wl,-Bsymbolic (CMake), as recommended per https://ffmpeg.org/platform.html#Advanced-linking-configuration
[07:12:45] <apteryx> (ffmpeg is built statically while the application is linked dynamically)
[07:21:49] <apteryx> here's the ffmpeg build log: https://paste.centos.org/view/8deb38e0
[07:23:42] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 256 seconds)
[07:35:22] *** Joins: arcatech (~arcatech@user/arcatech)
[07:38:13] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Ping timeout: 252 seconds)
[07:38:46] *** Joins: GenTooMan (~cyberman@c-73-214-106-63.hsd1.pa.comcast.net)
[07:40:40] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[07:42:42] *** Joins: arcatech (~arcatech@user/arcatech)
[07:43:53] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[07:44:18] *** Quits: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com) (Ping timeout: 244 seconds)
[07:47:33] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[07:49:54] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[07:54:25] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[07:55:02] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[08:04:58] *** Joins: linjie_ (~linjie@58.247.209.118)
[08:06:03] *** Joins: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com)
[08:09:37] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 252 seconds)
[08:23:01] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[08:29:22] *** Joins: selve (~selve@bras-base-mtrlpq2848w-grc-42-70-53-241-238.dsl.bell.ca)
[08:31:37] *** Quits: realies (~realies@user/realies) (Quit: ~)
[08:39:57] *** Joins: realies (~realies@user/realies)
[09:20:15] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:26:30] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[09:46:14] *** Quits: zsoltiv_ (~zsoltiv@fibhost-67-12-35.fibernet.hu) (Ping timeout: 244 seconds)
[10:05:16] *** Joins: der_richter (~Akemi@p4fde4e3e.dip0.t-ipconnect.de)
[10:08:07] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[10:08:33] *** Joins: troyt (troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e)
[10:27:07] *** Quits: pntaylor (~quassel@2405:6e00:113b:6400::a) (Ping timeout: 252 seconds)
[10:27:25] *** Joins: pntaylor (~quassel@101.114.60.148)
[10:28:37] *** Joins: totenkoph (~scythe@user/totenkoph)
[10:28:43] *** Joins: pntaylor_ (~quassel@120.17.186.144)
[10:28:57] <totenkoph> is there no volume flag in ffplay 3.2.4?
[10:32:40] *** Quits: pntaylor (~quassel@101.114.60.148) (Ping timeout: 240 seconds)
[10:33:43] *** Quits: pntaylor_ (~quassel@120.17.186.144) (Ping timeout: 252 seconds)
[10:33:53] *** Joins: pntaylor (~quassel@101.114.60.148)
[10:46:41] *** Joins: Flabb (~Flabb@89.169.50.87)
[10:47:02] *** Joins: dbal_ (~dbal@2603:300c:b04:b100:4074:f6ba:5718:bc96)
[10:51:05] *** Quits: dbal (~dbal@2603:300c:b04:b100:ac89:3f9d:e508:da8) (Ping timeout: 250 seconds)
[10:51:54] *** Joins: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de)
[11:03:45] <aphysically> totenkoph: well, I suppose you can change the volume with filters
[11:04:09] <totenkoph> what filters? 0 & 9 keys?
[11:05:09] <aphysically> fwiw there is a volume flag (it's -volume)
[11:05:55] <aphysically> accepts numbers that are clipped to [0,100]
[11:06:33] <totenkoph> no..ffplay says -volume option not found..not found in page as well
[11:06:37] <totenkoph> man page
[11:12:22] <aphysically> I'm just reading from here https://ffmpeg.org/ffplay.html
[11:13:18] <totenkoph> that's the recent documentation for the latest release..im on an old distro with ffmpeg 3
[11:16:35] *** Joins: furrymcgee (~devuan@31.179.186.66)
[11:17:34] *** Joins: linjie_ (~linjie@58.247.209.118)
[11:19:23] <aphysically> you can look at whatever the audio filters were available in 3.2.4
[11:19:34] <aphysically> there's (probably) one that can change the volume with -af
[11:21:49] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 244 seconds)
[11:25:51] *** Quits: kurosu (uid342582@stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[11:32:07] *** Joins: palasso (~palasso@user/palasso)
[11:34:37] *** Joins: igor-cgn2 (~igor@xdsl-87-79-223-59.nc.de)
[11:37:32] *** Quits: igor-cologne (~igor@2a0a-a546-865f-0-171-9a14-ee8c-d5f2.ipv6dyn.netcologne.de) (Ping timeout: 245 seconds)
[11:46:59] *** Quits: AMM (~AMM@user/amm) (Ping timeout: 250 seconds)
[11:47:33] *** Joins: AMM (~AMM@user/amm)
[11:51:34] *** Joins: drscream (~drscream@coconut.frubar.net)
[11:52:40] <drscream> Hello, it might be a bit strange question but I wasn't 100% sure based on the website information. Are the ffmpeg version 3.x and 2.x still maintained or somehow EOL? I couldn't find any information in trac so far. Thanks!
[12:08:32] <galad> the latest commit on 3.x was almost an year ago, seems pretty EOL to me
[12:16:24] <JEEB> it's really hard to get a grasp of what is still "supported" and what not. the best you can get is whether some distro that is supported is still utilizing some branch of FFmpeg, and it /might/ in that case point be still supported
[12:16:39] <JEEB> "supported" in quotations is probably better
[12:20:22] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[12:24:45] <drscream> the reason why I'm asking is basically some libav CVE which I'm not 100% sure is also part of ffmpeg. In pkgsrc for example there is still ffmpeg 2 and 3 available but if there might be no commits or releases in the future my plan was to set it maybe EOL from security point of view.
[12:26:15] <JEEB> http://git.videolan.org/?p=ffmpeg.git;a=heads
[12:26:45] <JEEB> http://trac.ffmpeg.org/wiki/Downstreams
[12:28:04] <JEEB> but yea it's an unclear mess :P
[12:28:09] <drscream> so might be a good idea to set ffmpeg2 to eol, and maybe ffmpeg3 in 2022/2023
[12:28:23] <JEEB> even as a developer I don't know where the backport fixes
[12:28:34] <JEEB> "how far does it apply without conflicts"
[12:28:39] <JEEB> is the only response I usually get
[12:28:51] <JEEB> *where to
[12:28:52] <drscream> fully understandable
[12:30:04] <drscream> thanks a lot!
[12:30:19] <JEEB> np
[12:30:45] <JEEB> also do note that each release is separate
[12:30:49] <JEEB> so it's not just 3.x
[12:31:00] <JEEB> 3.2 and 3.4 are completely different releases; kind of like lua
[12:31:17] <JEEB> branched out at different times from master etc
[12:31:29] <JEEB> so there is no single 3.x
[12:31:31] <JEEB> release
[12:31:49] <drscream> ohh
[12:31:52] <drscream> good to know :-D
[12:32:58] <JEEB> yea each of those release/ heads is a release branch
[12:34:34] <drscream> because than it might be wrong reflected in pkgsrc, because the "selection" is based on major version, so 2,3,4
[12:35:12] <JEEB> yup
[12:36:29] <drscream> thanks a lot for all the details, really helpful to understand it better.
[12:40:11] *** Joins: Blacker47 (~Blacker47@user/blacker47)
[13:01:37] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[13:13:25] *** Joins: luni-4 (uid453292@id-453292.charlton.irccloud.com)
[13:14:52] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Ping timeout: 252 seconds)
[13:18:47] *** Quits: palasso (~palasso@user/palasso) (Ping timeout: 245 seconds)
[13:19:17] *** Joins: palasso (~palasso@user/palasso)
[13:23:47] *** Quits: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com) (Ping timeout: 245 seconds)
[13:42:30] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[13:57:19] *** Joins: LRN_ (~LRN@broadband-95-84-200-6.ip.moscow.rt.ru)
[13:57:39] *** Quits: LRN (~LRN@broadband-95-84-200-6.ip.moscow.rt.ru) (Read error: Connection reset by peer)
[14:01:17] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[14:28:50] *** Joins: cosimone (~user@93-47-228-143.ip115.fastwebnet.it)
[14:30:43] *** Quits: nillyhan (~00000000@user/nillyhan) (Ping timeout: 252 seconds)
[14:37:35] *** Joins: brigand (~brigand@user/brigand)
[14:38:36] <brigand> hi. is there an option to say "convert to at least this quality"? i want to convert wavs to oggs and it seems to choose bitrate at random
[14:39:04] <totenkoph> -ab
[14:41:07] <brigand> i set -b:a 100k but it converts to 82.8 kb/s (according to mediainfo)
[14:41:12] <brigand> i guess that's ogg
[14:41:46] <furq> that's normal for opus
[14:42:02] <brigand> ok, thanks!
[14:42:07] <totenkoph> it won't be exact
[14:42:30] <furq> it'll happen sometimes with vorbis as well but you should probably use -q:a for vorbis anyway
[14:42:38] <furq> but also you should use opus
[14:44:08] <brigand> -b:a or -q:a with opus?
[14:52:07] <furq> -b:a
[14:52:26] <brigand> thanks
[14:53:43] <sfan5> opus doesn't have quality levels does it?
[14:53:54] <furq> kind of
[14:54:01] <furq> opus -b:a is more or less the same as opus -q:a
[14:54:04] <furq> er
[14:54:08] <furq> opus -b:a is more or less the same as vorbis -q:a
[14:54:26] <furq> you just set the nominal bitrate instead of remembering what the corresponding quality number is
[14:55:02] <furq> you can set opus to do actual abr but unless you're streaming it you normally don't want to
[15:14:03] *** Quits: TanoMarcelo (~TanoMarce@179.63.242.111) (Quit: WeeChat 3.1)
[15:19:16] *** Joins: linjie_ (~linjie@58.247.209.118)
[15:23:22] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 245 seconds)
[15:25:20] *** Quits: cosimone (~user@93-47-228-143.ip115.fastwebnet.it) (Read error: Connection reset by peer)
[15:28:51] *** Parts: brigand (~brigand@user/brigand) (Leaving.)
[15:33:43] *** Joins: zsoltiv_ (~zsoltiv@fibhost-67-12-35.fibernet.hu)
[15:36:59] *** Joins: milkt_ (~debian@gateway/tor-sasl/milkt)
[15:37:48] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[15:40:24] *** Quits: Fohsap (~Muimi@60.20.217.6) (Quit: Going offline, see ya! (www.adiirc.com))
[15:47:15] *** Joins: nillyhan (~00000000@user/nillyhan)
[16:17:21] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[16:18:56] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[16:29:31] *** Quits: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de) (Ping timeout: 252 seconds)
[16:36:49] *** Joins: minimal (~minimal@user/minimal)
[16:41:39] *** Joins: vqueiroz (uid340368@id-340368.stonehaven.irccloud.com)
[16:43:30] <vqueiroz> How can I create an .opus file using FFmpeg C API? currently I'm using avcodec_find_encoder(OPUS), create the codec context with correct parameters (sample rate, channel layout, channels, bit rate, sample format etc.). But the result is an invalid .opus file. It can't be played. MP3 works.
[16:45:23] <JEEB> you hopefully are writing the packets out with an AVFormatContext? :D
[16:47:22] <vqueiroz> JEEB: Yes. Indeed. I can generate a valid MP3 file, with some weird glitches I can discuss later, but I cannot generate a valid .opus file. Using AV_CODEC_ID_OPUS
[16:47:47] <JEEB> that is encoding only
[16:47:57] <JEEB> mp3 files just happen to be raw MPEG-1 Layer 3
[16:48:38] <JEEB> so please note that I said AVFormatContext
[16:48:42] <JEEB> not AVCodecContext
[16:48:55] <JEEB> encoding with lavc, writing with lavf
[16:49:28] <vqueiroz> JEEB: Hm. Indeed I'm not using AVFormatContext. How can I use it for encoding? I'm simply writing packets to .mp3 or .opus =)
[16:49:51] <JEEB> see the transcoding example under docs/examples
[16:49:52] <BtbN> It's for muxing, not encoding.
[16:49:54] <JEEB> in the FFmpeg git repo
[16:50:07] <JEEB> you first encode like you're doing
[16:50:10] <BtbN> also, ideally you select an explicit encoder, not just generic "opus"
[16:50:11] <JEEB> then write those packets into a format
[16:50:24] <JEEB> for the writing bits you utilize libavformat
[16:50:47] *** Joins: ddubya_ (~ddubbya@94.140.9.195)
[16:53:13] *** Quits: ddubya (~ddubbya@172.93.207.81) (Ping timeout: 252 seconds)
[16:55:26] <vqueiroz> How could I let this slide? Thank you so much, guys. I wonder if this information you're telling me it's available somewhere else?
[16:55:57] <vqueiroz> Can I use `avformat_free_context` to free context allocated through avformat_open_input?
[16:56:09] <JEEB> that's for reading stuff
[16:56:19] <JEEB> site:ffmpeg.org doxygen trunk KEYWORD
[16:56:29] <JEEB> is probably a good way for you to find the built doxygen
[16:56:39] <JEEB> specifically for an example there's the transcoding example
[16:56:48] <JEEB> there's a general one plus I think an audio one
[16:57:48] *** Joins: ddubya__ (~ddubbya@94.140.9.153)
[16:59:01] <vqueiroz> Don'I'm not trying to be lazy
[16:59:45] <vqueiroz> Don't get me wrong, I'm not trying to be lazy. I'm just wondering if there's a guy out there that will walk you through this process. I got the point, though.
[16:59:56] <vqueiroz> guide*
[17:00:22] *** Quits: ddubya_ (~ddubbya@94.140.9.195) (Ping timeout: 252 seconds)
[17:02:47] *** Quits: ddubya__ (~ddubbya@94.140.9.153) (Read error: Connection reset by peer)
[17:07:36] <BtbN> There's the examples in the docs dir
[17:09:04] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[17:21:52] *** Joins: sgon (~sgon@199.193.126.5.16clouds.com)
[17:23:08] *** Parts: sgon (~sgon@199.193.126.5.16clouds.com) ()
[17:27:57] *** Quits: milkt_ (~debian@gateway/tor-sasl/milkt) (Quit: leaving)
[17:28:21] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[17:48:13] *** Joins: bluemonk (~bluemonk@2a01:4b00:8823:ad00:6042:15d:6983:b49e)
[17:57:55] *** Joins: clarkk (~clarkk@host86-165-65-63.range86-165.btcentralplus.com)
[17:59:43] <clarkk> When I split a video using this command, the output file has the same length as the input file, and when I play it, the progress bar is immediately at the end of the file, although I can watch the video and forward/reverse through it. Does anyone know why?  ffmpeg -ss 0:58:15 -i 'input.mp4' -c copy -copyts -avoid_negative_ts 1 output.mp4
[18:00:12] *** Joins: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com)
[18:03:23] <clarkk> Please ignore - fixed it
[18:03:28] *** Quits: clarkk (~clarkk@host86-165-65-63.range86-165.btcentralplus.com) (Quit: Leaving)
[18:03:59] *** Quits: koolazer (~koo@user/koolazer) (Ping timeout: 250 seconds)
[18:04:24] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 276 seconds)
[18:09:14] *** Joins: gnoo (~gnoo@user/gnoo)
[18:25:30] *** Joins: roosterphant (~roosterph@user/roosterphant)
[18:25:30] <apteryx> is it known that swscale cannot be fully built with position independent code (-fPIC) when --asm-assembly is used?
[18:26:18] <apteryx> I'm trying to link the static swscale.a into a shared library and it fails with this kind of error: https://stackoverflow.com/a/57707863/2896799
[18:26:30] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[18:26:51] <apteryx> only on some older platforms though, so perhaps a bug in the assembler or GCC?
[18:29:17] *** Quits: mickey (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[18:29:34] *** Joins: mickey (~user@user/mickey)
[18:30:08] *** Quits: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com) (Ping timeout: 244 seconds)
[18:33:45] <roosterphant> hello
[18:34:13] <roosterphant> anyone have a clue how to salvage a file giving this error (from an aborted yt-dl livestream download)
[18:34:23] <roosterphant> <roosterphant> [mov,mp4,m4a,3gp,3g2,mj2 @ 0000000000630600] moov atom not found
[18:34:27] <roosterphant> <roosterphant> J:\de\badfile.mp4: Invalid data found when processing output
[18:35:37] <roosterphant> ive tried ffmpeg -i file.mp4 -c copy file.mkv, tried the same but TS output, fixing with recover_mp4 1.92 and mp4repair but it all errors out
[18:40:29] *** Quits: auser0 (~user@41.44.116.27) (Read error: Connection reset by peer)
[18:44:42] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 245 seconds)
[18:46:46] *** Joins: waleee (~waleee@h-98-128-228-119.NA.cust.bahnhof.se)
[18:47:42] *** Quits: qwedfg (~qwedfg@user/qwedfg) (Ping timeout: 244 seconds)
[18:50:43] *** Joins: kurosu (uid342582@id-342582.stonehaven.irccloud.com)
[18:53:04] *** Joins: someuser (~user@41.239.243.83)
[19:12:38] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[19:13:55] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[19:20:02] *** Joins: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com)
[19:20:05] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[19:20:47] *** Joins: linjie_ (~linjie@58.247.209.118)
[19:25:04] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 256 seconds)
[19:30:28] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Quit: Konversation terminated!)
[19:39:44] *** Joins: arcatech (~arcatech@user/arcatech)
[19:57:56] *** Joins: MrZeus_ (~MrZeus@185.248.85.26)
[19:58:24] *** Joins: Flabb_ (~Flabb@89.169.50.87)
[19:58:49] *** Quits: Flabb (~Flabb@89.169.50.87) (Read error: Connection reset by peer)
[20:00:46] *** Quits: LeoNice1981 (~LeoNice19@cpe-173-175-126-71.satx.res.rr.com) (Ping timeout: 252 seconds)
[20:13:24] <kepstin> roosterphant: ouch. If you can find another *correct* mp4 file made with the same encoder & settings (maybe try to grab another live stream - not vod - from the same channel…) then you might be able to use the 'untrunc' tool.
[20:15:19] *** Joins: linjie_ (~linjie@58.247.209.118)
[20:15:23] *** Quits: linjie_ (~linjie@58.247.209.118) (Remote host closed the connection)
[20:16:01] *** Joins: linjie_ (~linjie@58.247.209.118)
[20:18:19] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[20:19:12] <kepstin> hmm. the original livestream should have been mp4 dash, which i think requires a fragmented file. I guess youtube-dl must have been remuxing it on the fly to normal mp4
[20:19:26] <kepstin> that's kind of annoying, i wonder if you can turn that off or if other tools don't do it
[20:20:10] <kepstin> er, actually HLS not dash? huh.
[20:21:07] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 252 seconds)
[20:22:07] *** Joins: nik (~nik777@vpn-users-dip-pool164.dip.cf.ac.uk)
[20:26:07] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[20:26:57] *** Joins: arcatech (~arcatech@user/arcatech)
[20:28:25] <kepstin> yeah, youtube-dl is doing remuxing to mp4 on the fly for those. that's really annoying :(
[20:31:27] <kepstin> doesn't look like there's any way to turn that off, so at this point I do not recommend using youtube-dl for youtube live streams
[20:31:57] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 276 seconds)
[20:38:07] *** Quits: bluemonk (~bluemonk@2a01:4b00:8823:ad00:6042:15d:6983:b49e) (Ping timeout: 256 seconds)
[20:40:20] *** Joins: gnoo (~gnoo@user/gnoo)
[20:46:51] <apteryx> arg, I found the source of my problem!  Ubuntu uses -Bsymbolic-functions by default, which breaks linking a shared object with ffmpeg's static objects (swscale.a for example).
[20:46:55] <apteryx> Is this known/documented?
[20:51:13] *** Joins: qwedfg (~qwedfg@user/qwedfg)
[20:59:21] <Hello71> kepstin: if it's produced by ffmpeg shouldn't you know the moov format
[20:59:43] <kepstin> ffmpeg's only remuxing, not encoding in this case
[20:59:44] <Hello71> more precisely, shouldn't it be reasonably easy to find the moov format
[20:59:47] <kepstin> the moov is produced by the video encoder
[20:59:57] <Hello71> uh
[21:00:00] <kepstin> or, the moov contains data produced by the video encoder
[21:00:04] <kepstin> to be more specific
[21:00:08] <Hello71> mm.
[21:00:45] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[21:02:54] <kepstin> the video encoder when it starts encoding the video creates some initialization data that has to be stored in the file. The mp4 file is annoyingly designed, and the place where that data gets stored is alongside some other information whose size isn't known in advance. So the muxer hangs on to the initialization data until it reaches the end of the file - and writes it at the end.
[21:03:24] <kepstin> so if there's an interruption/crash where the muxer isn't able to write this data, then the file is unplayable.
[21:05:51] <kepstin> in other words - please do not use mp4 files for recording live media. It happens all the time that people are using OBS to stream and archive to an mp4 file, but get a power cut or crash or something, and the result is unreadable :( mkv is a reasonable alternative.
[21:09:24] <furq> you probably want --hls-use-mpegts with youtube-dl
[21:14:18] *** Quits: haihao (~haihao@192.102.204.53) (Remote host closed the connection)
[21:14:41] *** Joins: haihao (~haihao@192.102.204.51)
[21:18:31] *** Quits: Zucca (~Zucca@user/zucca) (Remote host closed the connection)
[21:19:36] *** Joins: Zucca (~Zucca@user/zucca)
[21:27:55] *** Joins: arcatech (~arcatech@user/arcatech)
[21:28:14] *** Joins: linjie_ (~linjie@58.247.209.118)
[21:32:31] *** Quits: linjie_ (~linjie@58.247.209.118) (Ping timeout: 244 seconds)
[21:32:47] <realies> eh... [png @ 0x55904bceb400] Invalid PNG signature 0xFFD8FFE000104A46. Error while decoding stream #0:1: Invalid data found when processing input
[21:32:58] <realies> i just wanted to use the volumedetect filter...
[21:33:40] <realies> can I ignore it somehow?
[21:34:06] <kepstin> you can tell ffmpeg not to process video at all by using the -vn option
[21:34:47] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[21:39:59] *** Joins: arcatech (~arcatech@user/arcatech)
[21:42:11] *** Joins: dreamon (~dreamon@p57a4c28d.dip0.t-ipconnect.de)
[21:48:00] *** Joins: pedalo (~pedalo@2a01:cb10:83bc:c700:e432:de81:632f:e70d)
[22:00:14] <realies> kepstin, <3
[22:01:05] <sfan5> I wonder if ffmpeg should really not just add a workaround to detect jpeg incorrectly marked as png
[22:01:16] <sfan5> I see this warning quite often when probing music files
[22:03:01] <AMM> hmm
[22:03:24] <AMM> I've got a bunch of random files but I've never happened to ffprobe such a file
[22:04:02] <AMM> Like, while sitting at the computer
[22:04:10] <AMM> I'm sure I have some, but dunno if I can spot them from ffprobe json dumps I've stored
[22:04:27] <AMM> Multimedia is hell
[22:04:32] *** Quits: pedalo (~pedalo@2a01:cb10:83bc:c700:e432:de81:632f:e70d) (Quit: Leaving)
[22:06:43] *** Quits: igor-cgn2 (~igor@xdsl-87-79-223-59.nc.de) (Ping timeout: 252 seconds)
[22:15:06] *** Quits: qwedfg (~qwedfg@user/qwedfg) (Read error: Connection reset by peer)
[22:15:19] *** Joins: igor-cgn (~igor@2a0a-a546-865f-0-6d82-fe3-7407-5f94.ipv6dyn.netcologne.de)
[22:15:29] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[22:17:48] *** Joins: qwedfg (~qwedfg@user/qwedfg)
[22:20:40] *** Quits: keypusher (keypusher@user/keypusher) (Remote host closed the connection)
[22:22:09] *** Joins: keypusher (keypusher@user/keypusher)
[22:28:06] *** Quits: qwedfg (~qwedfg@user/qwedfg) (Read error: Connection reset by peer)
[22:28:46] *** Quits: keypusher (keypusher@user/keypusher) (Remote host closed the connection)
[22:29:06] *** Quits: selve (~selve@bras-base-mtrlpq2848w-grc-42-70-53-241-238.dsl.bell.ca) (Quit: leaving)
[22:31:34] *** Joins: qwedfg (~qwedfg@user/qwedfg)
[22:31:57] *** Joins: keypusher (keypusher@user/keypusher)
[22:37:40] *** Quits: igor-cgn (~igor@2a0a-a546-865f-0-6d82-fe3-7407-5f94.ipv6dyn.netcologne.de) (Ping timeout: 240 seconds)
[22:41:18] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 276 seconds)
[22:43:13] *** Quits: luni-4 (uid453292@id-453292.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[22:44:35] *** Joins: Buster_ (~Buster@buster-net.ru)
[22:45:54] *** Quits: microchip_ (~neutrino@user/microchip/x-0766185) (Quit: There is no spoon!)
[22:46:32] *** Joins: microchip_ (~neutrino@user/microchip/x-0766185)
[22:48:01] *** Joins: jcx (~Guest32@188.210.211.100)
[22:49:13] <jcx> I've written a script to split an mkv file into its invidual streams without transcoding (just using `-c copy`). How can I re-assemble these streams without transcoding? I get `Timestamps are unset in a packet for stream 0.` and `Can't write packet with unknown timestamp` when trying to just use `ffmpeg -i file1 -i file2 -c copy out.mkv`.
[22:50:44] <jcx> Seems like I get that error if I just pass the video stream in actually. It's a HEVC (10-bit in this case) stream.
[22:53:14] *** Joins: wyatt8750 (~wyatt8740@192.145.119.155)
[22:53:38] *** Quits: wyatt8740 (wyatt8740@gateway/vpn/nordvpn/wyatt8740) (Ping timeout: 244 seconds)
[22:54:11] <another|> did you mux the video into anything or just a raw stream?
[22:54:42] *** Quits: MrZeus_ (~MrZeus@185.248.85.26) (Ping timeout: 245 seconds)
[22:56:06] <jcx> another|, I believe I just extracted it as a raw stream - `file out.hevc` tells me it's just `data`. I guess I need to extract the video stream into a container to keep timing data? To extract it, I pretty much did `ffmpeg -i file -map 0:0 -c copy out.hevc`.
[22:56:36] <Hello71> have you considered using mkvtoolnix instead
[22:57:10] <another|> some codecs require packaging. you might want to use nut or mkv
[22:57:27] <another|> I believe mkvtoolnix outputs raw streams
[23:00:02] <jcx> Hello71, I've not used mkvtoolnix before, ffmpeg has just been my go-to as I'm pretty familiar with it.
[23:00:14] <jcx> another|, I've never heard of the nut container but it seems to work perfectly :)  thanks!
[23:00:39] <Hello71> pretty sure mkvtoolnix supports all modes
[23:00:42] <jcx> I guess it makes sense I need to put the video stream into a file which also has other metadata, instead of just the raw HEVC stream.
[23:01:52] <Hello71> theoretically you could also use -vf setpts if the video is cfr
[23:06:18] <jcx> Is there a way for me to use all of the streams from my inputs in order (each input only contains one stream) without needing a -map N:0 for each input?
[23:06:56] <jcx> Seems like if I omit the -map, only the first stream of any type ends up in the output.
[23:08:19] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 252 seconds)
[23:13:37] *** Joins: Narrat (~omnius@p200300df5f00d3ea06ea56fffe2e7cdc.dip0.t-ipconnect.de)
[23:18:40] *** Quits: jcx (~Guest32@188.210.211.100) (Quit: Client closed)
[23:20:02] <roosterphant> kepstin, furq: thanks!
[23:20:56] <roosterphant> got a usable file with untrunc, i still have to sync up audio and video but nice! i was gonna give up and delete it
[23:38:43] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
