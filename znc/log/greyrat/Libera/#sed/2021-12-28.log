[00:34:24] <e36freak> erm, yeah, whatever
[00:35:30] <e36freak> tarzeau: so than you want to replace the mac with what, exactly?
[00:35:48] <e36freak> and the whole mac or just the first half?
[00:37:45] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[00:39:48] <tarzeau> e36freak: just the first half, and maybe even keep the full mac just prepend it with the text in (Apple, Inc.)
[00:50:03] *** Quits: tangy (~tangy@user/tangy) (Remote host closed the connection)
[01:34:39] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[01:36:42] <e36freak> here's something to get you started, formatting could use some work http://ix.io/3JHZ
[02:06:37] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Ping timeout: 240 seconds)
[02:11:53] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[02:40:28] *** Joins: ferdna (~ferdna@user/ferdna)
[03:24:15] *** Joins: tangy (~tangy@user/tangy)
[03:34:38] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[04:03:21] *** Joins: totenkoph (~scythe@user/totenkoph)
[04:20:19] *** Joins: yuesbeez (uid458354@id-458354.tinside.irccloud.com)
[04:39:33] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[04:41:24] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[05:43:39] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 256 seconds)
[06:40:48] *** Joins: mw__ (~mw@catv-80-98-128-161.catv.broadband.hu)
[06:40:49] *** Quits: mw_ (~mw@catv-80-98-128-161.catv.broadband.hu) (Read error: Connection reset by peer)
[07:10:03] *** Quits: yuesbeez (uid458354@id-458354.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[07:19:35] *** Joins: adeliktas8 (~adeliktas@i59F4A2E7.versanet.de)
[07:21:17] *** Quits: adeliktas (~adeliktas@i59F52E80.versanet.de) (Ping timeout: 240 seconds)
[07:21:17] *** adeliktas8 is now known as adeliktas
[08:00:08] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[08:47:51] *** Quits: fcr (~fran@r167-60-97-89.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[08:55:34] *** Joins: fcr (~fran@r186-48-107-184.dialup.adsl.anteldata.net.uy)
[09:22:42] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[09:37:22] *** Quits: edlou (uid413273@id-413273.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[09:47:32] *** Joins: nerozero (~nerozero@87.253.63.54)
[10:36:27] *** Joins: karhunkynsi (~karhu@user/karhunkynsi)
[10:52:03] *** Joins: ztx (~ztx@user/ztx)
[12:39:54] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[12:48:11] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[12:49:54] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[13:32:01] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[13:34:49] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[14:12:11] *** Joins: earnestly (~earnest@user/earnestly)
[14:18:53] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[14:20:49] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[14:24:19] *** Joins: mokulus (~mokulus@user/mokulus)
[14:25:29] *** Quits: mokulus (~mokulus@user/mokulus) (Client Quit)
[14:34:03] *** Joins: seninha (~seninha@user/seninha)
[14:44:45] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[14:46:36] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[16:08:31] <tarzeau> e36freak: thanks!
[16:08:47] *** Quits: tangy (~tangy@user/tangy) (Remote host closed the connection)
[16:28:11] *** Joins: pagios (~pagios@life.is-a.beauty)
[16:28:15] <pagios> hello, i  have a file that  has a certain pattern,  i am greeing on smbPassword:      and want to get that line and the line+5 underneath it , how can i easily do that  tried grep -A5 it takes lineX,2,3,4,5 , i need only LineX and Line 5 to be printed out
[16:29:55] <lopid> sed -n '/sndPassword:/,+5{//d;p}'
[16:30:13] <pagios> awk 'c&&!--c;/pattern/{c=N}'
[16:30:33] <pagios> hey lopid thanks!
[16:31:38] <lopid> oh wait i think that's wrong
[16:37:00] <karhunkynsi> # printf '%s\n' line{1..8} | sed -n '/line3/{p;n;n;n;n;n;p}'
[16:37:01] <shbot> karhunkynsi: line3
[16:37:01] <shbot> karhunkynsi: line8
[16:37:30] <emanuele6> N
[16:38:15] <pagios> lopid: i think i want to change my question, i want to print lineX and the NEXT LINE that starts with  liney: 
[16:38:36] <pagios> print linex:     and the first marching only liney:
[16:40:19] <emanuele6> if you are going to keep crossposting, at least fix the typos :(
[16:41:01] <pagios> i am not sure where to ask emanuele6
[16:42:52] <emanuele6> yeah, but i don't understand the question like this :/
[16:43:10] <emanuele6>   sed '/sndPassword:/,/mail:/!d //d'
[16:43:15] <emanuele6> is this what you are asking?
[16:43:21] <emanuele6> oops forgot a ;
[16:43:25] <emanuele6>   sed '/sndPassword:/,/mail:/!d; //d'
[16:43:56] <emanuele6> # printf '%s\n' line{1..8} | sed '/line3/,/line5/!d;//d'
[16:43:57] <shbot> emanuele6: line4
[16:44:01] <emanuele6> # printf '%s\n' line{1..8} | sed '/line3/,/line6/!d;//d'
[16:44:02] <shbot> emanuele6: line4
[16:44:02] <shbot> emanuele6: line5
[16:44:39] <pagios> emanuele6: ok so i have a huge file and its an ldap file, all lines start with x:    y: z: etc,       i want to extract only data that starts with smbPassword:    and the line after that smbPassword that matches mail: 
[16:45:40] <emanuele6> so, from the line that says smbPassword to the line that says mail?
[16:46:02] <emanuele6> that is easy:   sed -n '/^smbPassword:/,/^mail:/p'
[16:46:21] <emanuele6> same in awk:   awk '/^smbPassword:/,/^mail:/'
[16:47:06] <pagios> emanuele6: no mainly only the 2 lines not the range of lines
[16:47:14] <pagios> let me give an example on pastebin
[16:50:21] <emanuele6>   sed -n -e '/^smbPassword:/ { p' -e :x -e '/^mail:/!{ n' -e bx -e '}; p; q; }'
[16:50:27] <emanuele6> i think you mean something like this
[16:50:40] <emanuele6> a bit esoteric to do in sed, would be easier in awk
[16:50:47] <emanuele6> but still
[16:52:17] <emanuele6> could also be written like so:
[16:52:46] <emanuele6>   sed -n -e '/^smbPassword:/!d; p' -e :x -e '/^mail:/!{ n' -e bx -e '}; p; q'
[16:52:59] <emanuele6> "early return"
[16:54:22] <pagios> emanuele6: https://pastebin.com/fw3rDUeL so here i need to print the first 4 and line 19 
[16:54:30] <pagios> i have around 100 record like this one 
[16:54:41] <pagios> some  have more mail: mail: lines some have only 1 
[16:54:45] <pagios> i need to get the first line 
[16:55:52] <emanuele6> so "up to the first /^mail:/" and the /^smbPassword:/ after?
[16:56:16] <pagios> yes
[16:56:26] <pagios> that would be great
[16:56:36] <emanuele6> sed -e '/^mail:/!b; p' -e :x -e '/^smbPassword:/!{ n' -e bx -e '}; p; q'
[16:56:39] <pagios> first mail: ,   ignore the rest mail:  and get to the smbPass
[16:57:47] <emanuele6> err, not quite that
[16:57:48] <pagios> thats outputting not matching stuff
[16:59:14] <emanuele6> actually, the only problem was that you don't need the extra p's
[16:59:21] <emanuele6> sed -e '/^mail:/!b' -e :x -e '/^smbPassword:/!{ n' -e bx -e '}; q'
[16:59:31] <pagios> let me try it 
[16:59:50] <emanuele6> pagios: you said "the first 4" and line 19
[17:00:00] <emanuele6> i.e. line1, line2, line3, line4 and line19
[17:00:07] <emanuele6> right?
[17:00:08] <pagios> no :)
[17:00:12] <pagios> sorry for confusing you
[17:00:34] <pagios> i mean first find line 19, and then find the first line above it that is the first mail: 
[17:00:45] <pagios> or find the first mail: and find the next smbPassword
[17:01:00] <pagios> i only need those 2 lines not the range
[17:01:34] <emanuele6> that is very complex to do in sed
[17:01:36] <emanuele6> use awk
[17:02:21] <fcr> hmmm, I just was thinking that using sed addresses is probably not enough to support "and want to get that line and the line+5 underneath it", since the program needs to remember what lines matched the expression, if let's say it matches lines 1 and 3 we would need also 6 and 8, right?
[17:02:41] <fcr> how about something like this: sed '/smbPassword:/{x;s/\(.\{,5\}\).*/Y\1/;bE;};x;s/\(.\{,5\}\).*/N\1/;:E;/^Y/bY;/.\{5\}Y/bY;x;d;:Y;x'
[17:02:47] <emanuele6> i didn't mean to put the very
[17:02:52] <emanuele6> just complex
[17:03:45] <pagios> WOW
[17:04:03] <pagios> thats an eye test
[17:16:20] <emanuele6> (sorry for out of context message; pagios is crossposting)
[17:16:26] <emanuele6>   sed -e '/^mail:/!d' -e :x -e '/^smbPassword:/!{ n' -e bx -e '}'
[17:16:44] <emanuele6> pagios: basically what i sent before, but without `q' at the end 
[17:17:27] <pagios> thank you! you are a ninga sed/awk
[17:17:52] <emanuele6> you are welcome
[17:18:12] <emanuele6> just avoid crossposting
[17:18:19] <emanuele6> and try to explain your problems better
[17:25:22] <emanuele6> pagios: if you want to avoid printing an extra /^mail:/ at the end if there is no matching /^smbPassword:/, use:
[17:25:29] <emanuele6>   sed -n -e '/^mail:/!d; h' -e :x -e '/^smbPassword:/!{ n' -e bx -e '}; x; G; p'
[17:27:54] <emanuele6> there are many ways to do `x; G; p': `H; g; p', `x; p; x; p', ...
[17:28:01] <emanuele6> interesting
[17:35:02] <emanuele6> pagios: in case you don't understand sed
[17:35:07] <emanuele6> `/^mail:/!d' skip lines until you find a line that starts with "mail:"
[17:35:32] <emanuele6> `h' save the current line (the one that starts with "mail:") to the hold space
[17:35:40] <emanuele6> `:x' a label named "x"
[17:35:47] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[17:36:48] <emanuele6> `/^smbPassword:/!{ n' `bx' `}' if the current line does not start with "smbPassword:", read the next line and jump ("branch") back to label "x"
[17:37:14] <emanuele6> so basically: skip all lines until one matches "smbPassword:"
[17:38:08] <emanuele6> `x' exchange the current line with the hold space (the current line is now the one that starts with "mail:" and the hold space contains the one that starts with "smbPassword:")
[17:38:26] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[17:38:52] <emanuele6> `G' append what is in the hold space to the current line: now the pattern space ("current line") is "mail:....\nsmbPassword:...."
[17:38:59] <emanuele6> `p' print the pattern space
[17:39:13] <emanuele6> and then it goes back to the start if there is something else to read
[17:39:55] <emanuele6> the reason why it does not print "mail:..." if there is no matching smbPassword at the end is that `n' terminates execution if there is nothing more to read
[17:40:08] <emanuele6> so the final `p' never gets called
[17:50:44] <pagios> emanuele6: i have a challenge :) , sometimes  in a record i have userPassword that comes before mailDeliveryAddress , and sometimes mailDeliveryAddress comes after userPassword, so it is not matching the right records.    Is there any way of handling that?
[17:51:26] <pagios> a record always starts with dn:     and then i have sometimes userPassword first than deliveryAddress and sometimes i have deliveryAddres and then userPassword
[17:51:51] <pagios> it is not always userPassword and then mailDeliveryAddress, which is not nice from openldap
[17:52:29] <pagios> so i need a way to extract the mail delivery address and userPassword for the right DN, no matter what the order is , the delimitier needs to be the dn
[18:15:03] <emanuele6> i don't get it
[18:15:39] <emanuele6> so a record starts with "dn:", but then there are multiple "mail:" and "userPassword:" in that record?
[18:16:25] <emanuele6> and you arbitrarily decide to pair the first "mail:" and the first  "userPassword:"?
[18:23:42] *** Joins: malina (~malina@user/malina)
[18:24:32] *** Quits: malina (~malina@user/malina) (Remote host closed the connection)
[19:14:10] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[19:22:13] <pagios> emanuele6: i will do it programaticallt i guess
[19:22:49] <emanuele6> i mean, you can do it, if that is what you want to do
[19:22:51] <pagios> a record starts with a dn:  ,   inside the recod i need to search for a userPassword: ( add it ocne found) and search for deliveryAddress ( add it once found) then move to the next record.
[19:23:01] <emanuele6> but i am not even sure i understand what you want to do
[19:23:01] <pagios> the delimiter is the dn
[19:23:12] <pagios> i am trying my best to explain sorry
[19:24:09] <emanuele6> so you grab the first deliveryAddress and the first userPassword if there are multiple
[19:24:37] <pagios> you have one deliveryAddress and one userPassword but they come unordered
[19:24:44] <pagios> one can come before the other, its random
[19:25:12] <emanuele6> oh, so you can assume there will only be one deliveryAddress and one userPassword per record?
[19:25:17] <pagios> yes
[19:25:33] <pagios> when you reach the next dn , it means you should hae finished the previous record
[19:25:50] <emanuele6> huh?
[19:26:08] <emanuele6> is dn a terminator or a header?
[19:26:16] <pagios> header
[19:26:33] <pagios> if i reach a dn it means the previous dn is done
[19:26:49] <emanuele6> you make it sound like it is a terminator..
[19:27:00] <emanuele6> don't overcomplicate things
[19:27:38] <emanuele6> well this is easy in awk, but complex in sed
[19:28:29] <pagios> if ( readline('dn:" ) {.    current++;   if (deliveryAddress: ) array[current].deliveryAddress = currentLine;    if (userPassword:) array[current].userPassword = currentLine 
[19:28:32] <pagios> something like this
[19:30:14] <emanuele6> are you sure you want to do it in sed
[19:32:26] <pagios> no whatever is easy
[19:33:10] <emanuele6> also not sure what that code is supposed you wrote is supposed to mean: if (rl("dn:")) { c++; if (delivery...) ... if (user..) ...
[19:33:18] <emanuele6> just looks like gibberish
[19:33:26] <emanuele6> pagios: it is easy in awk
[19:33:58] <pagios> psuedo code i mean
[19:34:06] <emanuele6> even if it is pseudo code
[19:34:07] <pagios> trying my best trust me ! :)
[19:35:45] <emanuele6> awk '/^dn:/ { in_dn = 1 } in_dn && /^deliveryAddress:/ { mail = $0 } in_dn && /^userPassword:/ { pass = $0 } mail && pass && in_dn { print mail; print pass; mail = pass = in_dn = 0 }'
[19:40:44] <pagios> beautiful!
[19:40:55] <pagios> it works i guess
[19:42:23] <pagios> emanuele6: thank you mr ninja! how long have you been awking/sedding ? amazing man
[19:55:15] *** Joins: bn_work (uid268505@id-268505.uxbridge.irccloud.com)
[20:30:13] *** Quits: mozgalom (~mozgalom@194.144.47.113) (Quit: SO LONG SUCKERS!)
[20:48:53] *** Quits: fcr (~fran@r186-48-107-184.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[20:52:33] *** Quits: treble (~treble@user/treble) (Quit: WeeChat 3.3)
[20:56:58] *** Joins: fcr (~fran@r186-48-127-73.dialup.adsl.anteldata.net.uy)
[21:05:36] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[21:11:39] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Read error: Connection reset by peer)
[21:12:37] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 240 seconds)
[21:46:12] *** Joins: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net)
[21:52:35] *** Joins: treble (~treble@user/treble)
[22:10:44] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[22:13:12] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[22:34:02] *** Quits: epony (epony@user/epony) (Ping timeout: 240 seconds)
[22:35:44] *** Joins: epony (epony@user/epony)
[22:38:04] *** Quits: ztx (~ztx@user/ztx) (Quit: ztx)
[22:52:33] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[22:54:11] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[23:14:42] *** Joins: malina (~malina@user/malina)
[23:32:51] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
