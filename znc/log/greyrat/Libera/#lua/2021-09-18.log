[00:25:43] *** Quits: khoa (~khoa@user/khoa) (Quit: leaving)
[00:36:40] *** Joins: besnn (~besnn@user/besnn)
[00:42:37] *** Quits: Elw3 (~Elw3@x59cc9b46.dyn.telefonica.de) (Quit: Leaving)
[00:54:36] *** Quits: magla (~gelignite@55d4cb04.access.ecotel.net) (Quit: Stay safe!)
[01:20:50] *** Joins: r3m (~launch@user/r3m)
[01:42:08] *** Joins: keir (~keir@user/keir)
[01:55:02] *** Quits: unclutter (~gentoo@60.81-166-246.customer.lyse.net) (Ping timeout: 256 seconds)
[01:55:16] *** Joins: unclutter (~gentoo@60.81-166-246.customer.lyse.net)
[02:10:30] *** Joins: Elw3 (~Elw3@x59cc9a83.dyn.telefonica.de)
[03:04:27] *** Joins: nmz1 (~nmz@adsl-72-50-4-46.prtc.net)
[03:33:00] *** Quits: pizdets_ (~pizdets@183.182.110.72) (Ping timeout: 250 seconds)
[03:34:03] *** Joins: pizdets (~pizdets@183.182.114.179)
[03:43:10] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Ping timeout: 260 seconds)
[04:30:57] *** Joins: aquanight (~aquanight@174-126-159-166.cpe.sparklight.net)
[05:01:29] *** Joins: ttmrichter (~ttmrichte@user/ttmrichter)
[05:01:32] *** Joins: nmz (nmz@brought.to.you.by.bnc4free.com)
[05:20:54] *** Quits: besnn (~besnn@user/besnn) (Read error: Connection reset by peer)
[05:21:42] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Read error: Connection reset by peer)
[05:22:04] *** Joins: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469)
[06:18:46] *** Joins: Yorlik_ (~Yorlik___@ip6-2a03-7500-05b9-1b00-7c01-b709-80d9-5494.dyn.netcomnetz.de)
[06:21:52] *** Quits: Yorlik (~Yorlik___@ip6-2a03-7500-0555-3f00-7c01-b709-80d9-5494.dyn.netcomnetz.de) (Ping timeout: 252 seconds)
[06:42:31] *** Quits: Elw3 (~Elw3@x59cc9a83.dyn.telefonica.de) (Quit: Leaving)
[06:49:31] *** Joins: penguino (~mrpenguin@user/mrpenguin)
[08:11:51] *** Joins: mahmutov (~mahmutov@37.155.45.157)
[08:32:45] *** Joins: Carp (~rue@1-162-44-126.dynamic-ip.hinet.net)
[08:33:25] *** Quits: Vornicus (~Vornicus@2603-8000-5d07-7ef0-2c88-3fbc-a273-9e1b.res6.spectrum.com) (Read error: Connection reset by peer)
[09:17:44] *** Quits: ratchet_freak (~ratchetfr@d8D8779D9.access.telenet.be) (Ping timeout: 268 seconds)
[09:22:43] *** Quits: ratchetfreak (~ratchetfr@d8d8779d9.access.telenet.be) (Read error: Connection reset by peer)
[09:36:04] *** Quits: fcr (~fran@r167-56-61-234.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[09:36:33] *** Quits: mountaingoat (~mountaing@user/mountaingoat) (Ping timeout: 265 seconds)
[09:42:13] *** Joins: cp- (~cp-@b157153.ppp.asahi-net.or.jp)
[09:44:08] *** Joins: sginsberg (~sginsberg@81-233-9-19-no42.tbcn.telia.com)
[09:48:35] *** Joins: fcr (~fran@r186-48-68-132.dialup.adsl.anteldata.net.uy)
[09:50:10] *** Quits: aquanight (~aquanight@174-126-159-166.cpe.sparklight.net) (Ping timeout: 252 seconds)
[09:50:28] *** Joins: mountaingoat (~mountaing@user/mountaingoat)
[10:29:19] *** Quits: Rue (~rue@2001-b011-1000-14bd-efa8-0fa0-585c-8500.dynamic-ip6.hinet.net) (Quit: WeeChat 3.2)
[10:29:43] *** Joins: Rue (~rue@2001-b011-1000-14bd-efa8-0fa0-585c-8500.dynamic-ip6.hinet.net)
[10:36:09] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Read error: Connection reset by peer)
[10:40:42] *** Joins: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469)
[10:40:46] *** Joins: svm_invictvs_ (~svm_invic@user/svm-invictvs/x-6696469)
[10:46:09] *** Quits: mountaingoat (~mountaing@user/mountaingoat) (Ping timeout: 265 seconds)
[10:58:55] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 252 seconds)
[11:00:25] *** Joins: mountaingoat (~mountaing@user/mountaingoat)
[11:09:33] *** Joins: pony (~ed@101.100.135.79)
[11:09:38] <pony> this chair is not comfortable
[11:09:51] <pony> I need a more comfortable chair
[11:13:05] *** Joins: Lemniscate (~sauvin@about/linux/staff/sauvin)
[11:13:13] *** Quits: Sauvin (~sauvin@about/linux/staff/sauvin) (Ping timeout: 265 seconds)
[11:13:24] *** Quits: Lemniscate (~sauvin@about/linux/staff/sauvin) (Remote host closed the connection)
[11:20:03] *** Joins: Sauvin (~sauvin@about/linux/staff/sauvin)
[11:20:08] *** Yorlik_ is now known as Yorlik
[11:29:05] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 268 seconds)
[11:33:55] <sginsberg> get a sofa
[11:34:02] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[11:34:32] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[11:39:12] *** Quits: Carp (~rue@1-162-44-126.dynamic-ip.hinet.net) (Quit: WeeChat 3.2.1)
[11:41:12] *** Quits: penguino (~mrpenguin@user/mrpenguin) (Ping timeout: 276 seconds)
[11:44:22] *** Joins: Carp (~rue@1-162-44-126.dynamic-ip.hinet.net)
[11:45:21] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[12:30:32] *** Quits: c0pycat (~copycat@dslb-188-107-132-153.188.107.pools.vodafone-ip.de) (Ping timeout: 268 seconds)
[12:35:30] *** Joins: hendursa1 (~weechat@user/hendursaga)
[12:37:08] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Read error: Connection reset by peer)
[12:38:24] *** Quits: hendursaga (~weechat@user/hendursaga) (Ping timeout: 276 seconds)
[12:42:21] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[12:59:44] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 268 seconds)
[13:07:02] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[13:08:42] *** Quits: Carp (~rue@1-162-44-126.dynamic-ip.hinet.net) (Quit: WeeChat 3.2.1)
[13:12:40] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 240 seconds)
[13:14:15] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[13:19:45] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 260 seconds)
[13:20:13] *** Joins: Carp (~rue@1-162-44-126.dynamic-ip.hinet.net)
[13:20:51] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[13:22:14] *** Quits: svm_invictvs_ (~svm_invic@user/svm-invictvs/x-6696469) (Quit: Leaving)
[13:25:25] *** Quits: Yorlik (~Yorlik___@ip6-2a03-7500-05b9-1b00-7c01-b709-80d9-5494.dyn.netcomnetz.de) (Ping timeout: 268 seconds)
[13:26:37] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 265 seconds)
[13:26:58] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[13:27:09] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[13:51:02] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[13:53:00] *** Joins: Yorlik (~Yorlik___@ip6-2a03-7500-05b9-1b00-f848-b282-6cb7-753e.dyn.netcomnetz.de)
[13:56:06] *** Quits: Carp (~rue@1-162-44-126.dynamic-ip.hinet.net) (Quit: WeeChat 3.2.1)
[13:56:32] *** Quits: ttmrichter (~ttmrichte@user/ttmrichter) (Quit: Client closed)
[13:57:11] *** Joins: Carp (~rue@1-162-44-126.dynamic-ip.hinet.net)
[13:58:26] *** Quits: Yorlik (~Yorlik___@ip6-2a03-7500-05b9-1b00-f848-b282-6cb7-753e.dyn.netcomnetz.de) (Remote host closed the connection)
[13:58:37] *** Joins: Yorlik (~Yorlik___@ip6-2a03-7500-05b9-1b00-5561-0260-f828-4451.dyn.netcomnetz.de)
[14:50:45] *** Quits: Yorlik (~Yorlik___@ip6-2a03-7500-05b9-1b00-5561-0260-f828-4451.dyn.netcomnetz.de) (Ping timeout: 260 seconds)
[15:10:34] *** Quits: sginsberg (~sginsberg@81-233-9-19-no42.tbcn.telia.com) (Ping timeout: 260 seconds)
[15:49:32] *** Joins: besnn (~besnn@user/besnn)
[15:58:26] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.2.1)
[16:01:18] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[16:13:31] *** Quits: besnn (~besnn@user/besnn) (Ping timeout: 252 seconds)
[16:22:02] *** Joins: besnn (~besnn@user/besnn)
[16:24:05] *** Joins: netlynx (~jan@94-226-69-15.access.telenet.be)
[16:32:06] *** Joins: Yorlik (~Yorlik___@ip6-2a03-7500-05b9-1b00-ad0a-75bc-0356-6e54.dyn.netcomnetz.de)
[16:34:21] *** Joins: sm2n_ (~sm2n@user/sm2n)
[16:34:57] *** Quits: sm2n (~sm2n@user/sm2n) (Ping timeout: 268 seconds)
[17:17:33] *** Quits: pony (~ed@101.100.135.79) (Quit: WeeChat 2.8)
[17:27:25] *** Quits: besnn (~besnn@user/besnn) (Read error: Connection reset by peer)
[17:32:36] *** Joins: ratchetfreak (~ratchetfr@d8d8779d9.access.telenet.be)
[17:47:49] <andreyorst> sofa is bad for your back
[18:00:49] *** Quits: hendursa1 (~weechat@user/hendursaga) (Quit: hendursa1)
[18:01:17] *** Joins: ratchet_freak (~ratchetfr@d8d8779d9.access.telenet.be)
[18:05:34] *** Quits: Yorlik (~Yorlik___@ip6-2a03-7500-05b9-1b00-ad0a-75bc-0356-6e54.dyn.netcomnetz.de) (Ping timeout: 260 seconds)
[18:08:03] *** Joins: hendursaga (~weechat@user/hendursaga)
[18:10:20] *** Quits: mahmutov (~mahmutov@37.155.45.157) (Ping timeout: 265 seconds)
[18:15:53] *** Joins: aquanight (~aquanight@174-126-159-166.cpe.sparklight.net)
[18:34:56] *** Joins: Elw3 (~Elw3@x59cc9a56.dyn.telefonica.de)
[18:41:36] *** Joins: Vornicus (~Vornicus@2603-8000-5d07-7ef0-75b6-b217-124b-0862.res6.spectrum.com)
[18:43:50] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 268 seconds)
[18:50:15] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[18:53:14] *** Joins: mahmutov (~mahmutov@37.155.45.157)
[19:00:50] *** Joins: Yorlik (~Yorlik___@ip6-2a03-7500-05b9-1b00-d889-3036-8dc2-87b9.dyn.netcomnetz.de)
[19:36:23] *** Quits: Carp (~rue@1-162-44-126.dynamic-ip.hinet.net) (Quit: WeeChat 3.2.1)
[19:41:14] *** Joins: Carp (~rue@1-162-44-126.dynamic-ip.hinet.net)
[20:04:03] *** Quits: Elw3 (~Elw3@x59cc9a56.dyn.telefonica.de) (Quit: Leaving)
[20:17:18] *** Quits: hendursaga (~weechat@user/hendursaga) (Ping timeout: 276 seconds)
[20:18:28] *** Joins: hendursaga (~weechat@user/hendursaga)
[20:50:40] *** Quits: GNUHacker (~gnu@fsf/member/GNUHacker) (Ping timeout: 240 seconds)
[21:16:24] *** Quits: r3m (~launch@user/r3m) (Quit: WeeChat 3.3-dev)
[21:20:31] *** Joins: r3m (~launch@user/r3m)
[21:36:30] *** Joins: GNUHacker (~gnu@fsf/member/GNUHacker)
[21:36:59] *** Quits: GNUHacker (~gnu@fsf/member/GNUHacker) (Remote host closed the connection)
[21:37:22] *** Joins: GNUHacker (~gnu@fsf/member/GNUHacker)
[21:39:37] *** Quits: fcr (~fran@r186-48-68-132.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[21:47:19] *** Joins: fcr (~fran@r167-60-13-23.dialup.adsl.anteldata.net.uy)
[21:57:16] *** Quits: Songro (~songro@184-23-230-118.dedicated.static.sonic.net) (Ping timeout: 252 seconds)
[22:04:46] *** Joins: Songro (~songro@184-23-230-118.dedicated.static.sonic.net)
[22:07:19] *** Quits: Yorlik (~Yorlik___@ip6-2a03-7500-05b9-1b00-d889-3036-8dc2-87b9.dyn.netcomnetz.de) (Ping timeout: 252 seconds)
[22:18:23] *** Parts: dstein64 (~dstein64@dannyadam.com) ()
[22:19:37] *** Joins: sginsberg (~sginsberg@81-233-9-19-no42.tbcn.telia.com)
[22:20:46] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:c5b6:d9a5:bec9:882)
[22:20:46] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:c5b6:d9a5:bec9:882) (Changing host)
[22:20:46] *** Joins: skapata (~Skapata@user/skapata)
[22:30:56] *** Joins: dstein64 (~dstein64@dannyadam.com)
[22:32:15] *** Parts: dstein64 (~dstein64@dannyadam.com) ()
[22:58:20] *** Quits: sginsberg (~sginsberg@81-233-9-19-no42.tbcn.telia.com) (Remote host closed the connection)
[23:03:04] *** Joins: dstein64 (~dstein64@dannyadam.com)
[23:12:02] *** Quits: Carp (~rue@1-162-44-126.dynamic-ip.hinet.net) (Quit: WeeChat 3.2.1)
[23:19:54] <clever> funcnamefromcode(0xc413192c, 0x0, 0xc41b8edc)
[23:19:54] <clever> panic (caller 0xc400c2f6): DEBUG ASSERT FAILED at (external/lua/upstream/src/ldebug.c:600): ci
[23:20:10] <clever> i added some printf's and asserts around https://github.com/lua/lua/blob/master/ldebug.c#L587-L595
[23:20:37] <clever> is it expected that ci will be null, if you try to parse `5*5` (yes, that is a syntax error)
[23:31:27] <RhodiumToad> nothing should be able to reach funcnamefromcode with a null value of ci
[23:32:18] <clever> RhodiumToad: that confirms my guess that somethng is wrong there, i'll keep throwing more asserts up the call chain
[23:32:45] <RhodiumToad> what's the backtrace from the error you have?
[23:32:57] <clever> i cant get a backtrace out of this kernel
[23:33:00] <RhodiumToad> oh
[23:33:09] <clever> so ive just been adding print statements, to every function that can reference X
[23:33:15] <clever> and once i find the right one, repeat
[23:33:26] <RhodiumToad> funcnamefromcode is only called from 2 places afaik
[23:33:37] <clever> yeah, so that step of iteration is easy
[23:33:46] <clever> i just wasnt sure if that null was to blame or not
[23:34:23] <RhodiumToad> note that not only should ci not be null, but isLua(ci) should also have already been tested to be true
[23:36:08] <clever> booting...
[23:39:26] <clever> luaG_callerror(0xc4131b2c, 0xc4131e9c), caller = 0xc400d326
[23:39:44] <clever> ci = 0x0
[23:39:58] <clever> RhodiumToad: within luaG_callerror. the L->ci pointer was null already
[23:40:10] <RhodiumToad> I believe that shouldn't happen, let me check
[23:40:49] <clever> and the caller addr, points to luaD_poscall
[23:42:08] <RhodiumToad> L->ci is initialized to a non-null value when creating the thread
[23:42:20] <RhodiumToad> and from there I believe it should never become null
[23:43:01] <clever> it only fails if i eval `5*5`
[23:43:11] <clever> if i instead eval `return 5*5`, it correctly returns 25
[23:43:16] <RhodiumToad> what exact C code are you using?
[23:44:50] <clever> RhodiumToad: https://gist.github.com/cleverca22/d7fdc7dbfd98a22e20e33d2931535d26
[23:46:00] <RhodiumToad> and the error is where? in lua_load?
[23:46:28] <clever> without the extra asserts, it crashes the cpu
[23:49:27] <clever> added more printf's in lua, and one between load and pcall
[23:52:12] <RhodiumToad> btw, passing "text" as the mode string is wrong (but harmlessly so), the correct value is "t"
[23:52:25] <clever> ah
[23:52:40] <clever> i initially just gave it "mode", then followed the errors to see what it was supposed to be
[23:53:19] <clever> its failing during lua_load, it never reaches pcall
[23:53:19] <RhodiumToad> it's tested with strchr(mode, 't') or strchr(mode, 'b')
[23:53:38] <clever> luaD_tryfuncTM(0xc4131b2c, func), caller = 0xc400d926
[23:53:38] <clever> luaG_callerror(0xc4131b2c, 0xc4131e9c), caller = 0xc400d344
[23:53:38] <clever> ci = 0x0
[23:53:38] <clever> funcnamefromcode(0xc4131b2c, 0x0, 0xc41b90dc)
[23:54:15] <clever> as expected, the L pointer is a constant thru each step
[23:54:54] <clever> and L->ci is null when it hits luaG_callerror
[23:56:02] <RhodiumToad> something is quite wrong here
[23:56:28] <RhodiumToad> lua_load should not execute any Lua code or any user-supplied code unless the passed-in reader function does so
[23:56:37] <clever> my guess is either a problem with this gcc fork, or my setjmp implementation
[23:56:47] <RhodiumToad> so there should be no way to get to luaD_tryfuncTM
[23:57:02] <RhodiumToad> where did it call that from?
[23:57:02] <clever> i'll keep chasing the backtrace then
[23:57:23] <clever> luaD_precall()
[23:58:24] <clever> printf("luaD_precall(%p, func, %d), caller=%p\n", L, nresults, __GET_CALLER());
[23:58:29] <clever> added this in at the top of that func
[23:59:10] <clever> the cpu uses a link register, so getting one function up in the callstack is trivial
[23:59:18] <clever> but i dont have any tools for unwinding a stack
