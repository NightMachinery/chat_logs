[00:00:36] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[00:00:57] *** Joins: fcr (~fran@r167-60-106-201.dialup.adsl.anteldata.net.uy)
[00:02:44] *** Joins: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04)
[00:03:46] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[00:03:56] *** Quits: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04) (Client Quit)
[00:05:17] <ilmari_> concrete-houses: columns that aren't mentioned in INSERT or COPY FROM get their default value or NULL if none is defined. That's the whole point. If you want a random UUID by default, define that as the default value for the column.
[00:07:55] <charly> ??paste
[00:07:55] <pg_docbot> https://explain.depesz.com/ :: https://www.db-fiddle.com/
[00:07:56] <pg_docbot> https://paste.depesz.com/ :: https://dpaste.org
[00:08:14] *** Joins: otisolsen70_ (~otisolsen@xd4ed80b5.cust.hiper.dk)
[00:09:51] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[00:09:57] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[00:12:15] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Ping timeout: 256 seconds)
[00:12:19] *** Joins: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04)
[00:13:05] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 252 seconds)
[00:13:13] *** Joins: immae (~immae@2a01:4f8:141:53e7::)
[00:13:20] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[00:17:18] *** Quits: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:17:57] *** Quits: uncleyear (~ian@178.176.77.39) (Remote host closed the connection)
[00:18:58] *** Joins: uncleyear (~ian@178.176.77.39)
[00:22:01] *** Joins: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04)
[00:22:11] <charly> Hello,  if a C master has some time, I'm trying to debug a segfault in initdb on an armv7 / netbsd and I have a hard time : https://paste.depesz.com/s/j2T
[00:22:20] <concrete-houses> awesome
[00:22:54] <concrete-houses> this might be easier than I thought..
[00:23:51] *** Quits: shiranaihito_ (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[00:25:51] *** Quits: zzing (~zzing@d24-57-14-115.home.cgocable.net) (Ping timeout: 256 seconds)
[00:35:57] *** Quits: mizi (~mizi@user/mizi) (Ping timeout: 240 seconds)
[00:37:45] *** Quits: pglife_bot (~pglife@momjian.us) (Remote host closed the connection)
[00:38:17] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[00:38:24] *** Quits: Junxter (~Junxter@121.237.63.222) (Ping timeout: 252 seconds)
[00:38:45] <concrete-houses> oops I spoke too soon
[00:38:55] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[00:39:09] *** Joins: pglife_bot (~pglife@momjian.us)
[00:39:36] <concrete-houses> so THe import data in debaver sees the existing columns   and the ones I left out have defaults except for one which is in4 type   and all null in staging....   I thought COPY would leave it null by default? if I didn't mention its name
[00:40:03] <concrete-houses> instead it complains a uuid is not data type compatibe so its somehow trying to put a uuid in there.....
[00:40:11] <concrete-houses> maybe I have to set default for that column?
[00:40:25] <concrete-houses> its int(4) type in staging
[00:40:46] <concrete-houses> or should I not use copy (bulk load) in dbeaver and let transaction style do it
[00:42:15] *** Quits: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon) (Ping timeout: 240 seconds)
[00:43:53] *** Quits: magla (~gelignite@55d4c150.access.ecotel.net) (Quit: Stay safe!)
[00:44:12] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Remote host closed the connection)
[00:45:33] <ilmari> the default value expression needs to be of a type that's compatible with the type of the column
[00:46:25] <ilmari> int(4) is not a postgres type, did you mean int or int4 (which are both aliases for "integer")
[00:47:32] *** Quits: shka (~herr@109.231.3.55) (Ping timeout: 240 seconds)
[00:48:05] *** Quits: dre (~dre@2001:8003:c932:c301:efa8:3ab4:6d9d:737a) (Quit: Leaving)
[00:48:39] <ilmari> it would be easier to help if you could show the table definition (\d table_name in psql), the first few lines of the file, the COPY command, and the error message
[00:48:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[00:49:08] <ilmari> and by show I mean copy/paste the complete, exact input/output to a pastebin, not vaguely describe them
[00:49:54] <ilmari> and by a pastebin I mean something sensible like dpaste.org, _not_ pastebin dot com
[00:50:04] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[00:54:17] *** Joins: alioui (~medeva293@197.238.215.234)
[00:56:25] *** sehrope__ is now known as sehrope
[00:56:37] *** Joins: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[00:56:38] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[00:57:06] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[00:57:11] *** Joins: segfaultfizzbuzz (~segfaultf@2602:306:cd3c:9350:858e:7e41:d70b:a4a)
[00:57:28] <concrete-houses> ok
[00:57:35] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 256 seconds)
[00:57:42] <segfaultfizzbuzz> a lot of folks use redis to store server side token or token hashes to check against on each query
[00:57:45] <concrete-houses> see I have dbeaver sql command line I dont ahve psql access.... let me see
[00:58:03] <segfaultfizzbuzz> i am wondering whether in most cases redis is not really necessary and i could do this same thing wholly in postgres (maybe being careful to index on the token or somesuch)
[00:58:05] <concrete-houses> I put null as the default let me see if that works
[00:58:58] <concrete-houses> I will put all those deatils in the dpaste.org if this fails.... thank you ilmari
[00:59:35] *** Quits: otisolsen70_ (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[01:01:24] *** Quits: ekathva_ (~ekathva@n16izluvk39q3lx3y-1.v6.elisa-mobile.fi) (Remote host closed the connection)
[01:01:42] *** Joins: ekathva_ (~ekathva@n16j0a7g3xklok7dy-1.v6.elisa-mobile.fi)
[01:05:56] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[01:07:37] *** Joins: funhouse (~funhouse@user/funhouse)
[01:10:59] *** Joins: k8yun_ (~k8yun@user/k8yun)
[01:11:24] *** Quits: k8yun (~k8yun@user/k8yun) (Ping timeout: 252 seconds)
[01:14:00] <concrete-houses> when inserting data   if the columns are in a different order...but the table is already there.... will postgresql keep all that straight?
[01:14:16] <concrete-houses> like I think the csv is out of order but has column headers
[01:14:32] <concrete-houses> so dbeaver maps them to existing, minus my 5 that dont exist
[01:14:52] <concrete-houses> and dbeaver wont let me edit the column list
[01:14:55] <concrete-houses> heh
[01:15:03] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[01:15:06] <concrete-houses> so I might have to modify the csv
[01:15:30] <concrete-houses> in excel to add 5 blanks column
[01:15:57] <concrete-houses> then see if the column defaults work
[01:16:10] <concrete-houses> oh it was in8
[01:16:14] <concrete-houses> er int8
[01:16:54] <concrete-houses> the next column after the first missing column is uuid so the copy says hey uuid not compatible with int8
[01:16:56] *** Joins: Amadiro__ (~Amadiro@45.154.138.41)
[01:17:13] <concrete-houses> if onyl dbeaver let me edit the import column list
[01:19:41] *** Quits: Amadiro_ (~Amadiro@45.154.138.91) (Ping timeout: 256 seconds)
[01:20:46] *** Joins: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon)
[01:21:18] *** Quits: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net) (Ping timeout: 260 seconds)
[01:23:25] <concrete-houses> If you insert and leave out a column, should it not fill with default?
[01:23:31] <concrete-houses> maybe I need to not use copy
[01:23:37] <concrete-houses> but regular transaction
[01:23:41] <concrete-houses> to let that happen?
[01:25:24] <Myon> concrete-houses: can you try not to produce walls of text all the time?
[01:26:43] <segfaultfizzbuzz> any thoughts on using postgres only (rather than postgres+redis) for a workload which involves a high volume of read only queries?
[01:27:05] <Myon> sure, PostgreSQL is good at handling data
[01:28:06] *** Quits: nyov (~nyov@user/nyov) (Ping timeout: 250 seconds)
[01:29:24] *** Joins: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[01:29:58] *** Joins: nyov (~nyov@user/nyov)
[01:30:01] <segfaultfizzbuzz> is it possible that redis is an artifact of the spinning-disk era?
[01:30:13] <segfaultfizzbuzz> (for most applications)
[01:30:26] *** Quits: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Client Quit)
[01:30:38] *** Joins: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[01:35:30] *** Parts: alioui (~medeva293@197.238.215.234) ()
[01:36:42] *** Quits: nyov (~nyov@user/nyov) (Ping timeout: 252 seconds)
[01:38:22] *** Joins: nyov (~nyov@user/nyov)
[01:40:08] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[01:43:14] *** Quits: manti7 (~manti7@176.10.104.94) (Quit: WeeChat 3.4)
[01:45:11] *** Quits: nyov (~nyov@user/nyov) (Ping timeout: 256 seconds)
[01:45:38] *** Quits: k8yun_ (~k8yun@user/k8yun) (Quit: Leaving)
[01:46:47] *** Joins: nyov (~nyov@user/nyov)
[01:47:02] *** Quits: uncleyear (~ian@178.176.77.39) (Ping timeout: 240 seconds)
[01:47:34] <concrete-houses> for a columnof int8 type, what can I put as a value so it will default to null when insering from a csv file which skips it
[01:47:49] *** Joins: cliluw (~cliluw@47.147.77.43)
[01:49:34] *** Quits: ekathva_ (~ekathva@n16j0a7g3xklok7dy-1.v6.elisa-mobile.fi) (Quit: Leaving)
[01:55:37] *** Quits: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: jdavfsxd)
[02:00:00] *** Joins: rafael_ (~rafael@200.49.50.237)
[02:00:58] *** Joins: jmarsac (~jmarsac@2a01:cb1d:1f5:ca00:40a4:28e1:7407:d2e8)
[02:01:33] <rafael_> hello everyone, in postgres.conf if I repeat some parameter which one is choosed? first or second?
[02:03:05] *** Quits: jmarsac (~jmarsac@2a01:cb1d:1f5:ca00:40a4:28e1:7407:d2e8) (Client Quit)
[02:03:28] <xocolatl> last one wins
[02:03:53] <rafael_> tkx
[02:04:18] <StuckMojo> rafael_: don't forget about postgresql.conf.auto, which is usually included last
[02:04:35] <xocolatl> s/usually/always/
[02:04:38] <StuckMojo> sorry, postgresql.auto.conf
[02:05:10] <StuckMojo> xocolatl: i couldn't remember if there was a specific #include "dir"
[02:05:57] <rafael_> as far as I know postgres.auto.conf is not editable, and I wont change configurations after start, I believe this will not afect me
[02:07:07] *** Quits: Guest7375 (~vit@chello085216193138.chello.sk) (Ping timeout: 272 seconds)
[02:07:30] *** Quits: segfaultfizzbuzz (~segfaultf@2602:306:cd3c:9350:858e:7e41:d70b:a4a) (Ping timeout: 260 seconds)
[02:10:20] <StuckMojo> rafael_: it's edited using ALTER SYSTEM, so you must always check it
[02:10:23] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[02:10:45] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 250 seconds)
[02:11:04] <StuckMojo> i.e. if someone has ever reset work_mem using ALTER SYSTEM, no matter how much you change work_mem in postgresql.conf, it'll always use the value in postgresql.auto.conf
[02:11:09] *** Quits: SwK_ (~SwK_@45.18.197.35) (Read error: Connection reset by peer)
[02:12:39] *** Quits: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:12:39] *** Quits: pedja (~pedja@user/deus-ex/x-7934090) (Quit: Leaving)
[02:13:03] <StuckMojo> another gotcha related to your question: tools like puppet will often just tack their new conf value to the bottom of postgresql.conf, so when checking a value in the conf, it's good practice to shoot down to the bottom and make sure the setting in the usual area isn't being overwitten at the end
[02:13:33] *** Joins: randir (~randir@95-25-111-216.broadband.corbina.ru)
[02:14:37] *** Quits: Klinda (~superleag@user/klinda) (Quit: Konversation terminated!)
[02:16:15] *** Joins: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[02:16:29] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:16:32] <rafael_> I am working in a middleware wich use Postgresql as lower level SGBD, during tests I need to manipulate configurations by script and the easiest is to append at the end of the file, anyway the environment of test is very controled, and neither ALTER SYSTEM or nothing will change configurations
[02:16:42] <concrete-houses> If I insert data I have to put default into the values like for the column to be filled by the default value?
[02:16:54] <concrete-houses> ANy know know how to coax dbeaver into doing that?
[02:17:16] <concrete-houses> even when I ship the column it complains
[02:17:39] <xocolatl> this is not a dbeaver support group
[02:17:57] *** Quits: randir (~randir@95-25-111-216.broadband.corbina.ru) (Ping timeout: 252 seconds)
[02:18:26] <concrete-houses> when you do say 400k row insert from a csv, do you massage it using linux command line tools like bash or awk? then run the insert from the psql?
[02:18:30] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[02:20:42] *** Quits: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net) (Ping timeout: 252 seconds)
[02:21:22] <rafael_> sorry, SGBD = DBMS, diferent languages
[02:21:31] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[02:22:11] *** Joins: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[02:22:32] *** Quits: alch3mist (~alch3mist@199.169.204.182) (Quit: Client closed)
[02:30:51] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[02:31:06] *** Joins: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29)
[02:31:18] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:32:40] *** Quits: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net) (Ping timeout: 250 seconds)
[02:35:03] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 256 seconds)
[02:35:37] *** Quits: Reiner_Unsinn (~quassel@p5dd47daa.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[02:36:25] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[02:40:10] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[02:44:27] *** Quits: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt) (Quit: Lost terminal)
[02:44:43] *** Quits: KombuchaKip (~kip@192.252.230.5) (Quit: Leaving.)
[02:45:26] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Ping timeout: 252 seconds)
[02:46:22] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[02:49:06] *** Quits: rafael_ (~rafael@200.49.50.237) (Quit: Leaving)
[02:51:55] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:b921:6822:fa0e:e017) (Ping timeout: 250 seconds)
[02:55:12] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[02:55:26] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Remote host closed the connection)
[02:55:49] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[02:56:43] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[02:57:11] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[03:00:44] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[03:01:23] *** Quits: TomTom (uid45892@id-45892.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[03:02:40] *** Joins: tozhu (~tozhu@125.69.99.189)
[03:05:15] <sobel> concrete-houses: i use \COPY whenever i can because it's the easiest way to get a fast import
[03:05:19] *** Quits: michalz (~michalz@185.246.204.93) (Remote host closed the connection)
[03:05:54] <sobel> concrete-houses: so yes to running the insert from psql. if the data is bunk i fix it at the source. sed/awk are not suitable for editing csv.
[03:07:07] <concrete-houses> I ws given 400k line csv
[03:08:27] <concrete-houses> Can I insert from a temp table... I am pretty sure I can read the data into temp table.... then maybe I can do the insert and specify the values for the missing colmns there
[03:09:12] <sobel> yes
[03:09:38] <concrete-houses> how would I add back in the missing 5 columns
[03:10:01] * sobel shrugs
[03:10:08] <sobel> use a constant?
[03:10:21] <concrete-houses> I am not even sure how to do an insert from a temp table...do you select from it in a subselect and feed that to insert
[03:10:25] <sobel> do you know INSERT...SELECT syntax?
[03:10:30] <concrete-houses> barely
[03:10:39] <concrete-houses> no is truth
[03:10:44] <sobel> that's what you'll be doing, it's not hard
[03:10:58] <concrete-houses> where can I find an example?
[03:11:08] <sobel> instead of VALUES (...) you put SELECT ...
[03:11:16] <sobel> ??insert
[03:11:17] <pg_docbot> http://archives.postgresql.org/pgsql-php/2005-03/msg00057.php :: http://www.depesz.com/2007/07/05/how-to-insert-data-to-database-as-fast-as-possible/
[03:11:17] <pg_docbot> https://www.postgresql.org/docs/current/static/sql-insert.html
[03:11:35] <sobel> it's pretty well documented on that last link
[03:11:38] <concrete-houses> ah ha!! now for some missing colmns is there a way to add them to mix?  or do I instead massage the temp table?
[03:11:53] *** Joins: ianthrive (~ianthrive@166.70.191.9)
[03:11:55] *** Quits: ianthrive (~ianthrive@166.70.191.9) (Client Quit)
[03:12:45] *** Joins: ianthrive (~ianthrive@166.70.191.9)
[03:12:51] <sobel> it's up to you. put a constant in your SELECT list where you need to supply missing data.
[03:14:12] <sobel> i have a little regime where a script creates a 'sandbox' table of all text columns just to ensure every column imports without type inference
[03:15:18] <sobel> then it looks for a post-import script that contains the INSERT...SELECT that imports from the sandbox table to a table(s) with real types
[03:16:54] <funhouse> i have  id SERIAL PRIMARY KEY, just wondering why it doesnt reset when i truncate?
[03:17:31] <concrete-houses> could I pastebin a little example scanrio?
[03:22:06] <concrete-houses> ok so the column order left to right must be perfect for insert?
[03:24:25] <sobel> concrete-houses: column order is how it matches column names to values
[03:24:41] <sobel> where you say perfect, we usually say matching
[03:25:17] <concrete-houses> ok
[03:28:19] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 256 seconds)
[03:28:47] <ilmari_> funhouse: because that's the default unless you specify RESTART IDENTITY, as documented in https://www.postgresql.org/docs/current/sql-truncate.html
[03:29:08] <funhouse> ahh ilmari_ thank you
[03:32:39] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 250 seconds)
[03:33:18] *** Quits: pateh (~pateh@81-197-66-239.elisa-laajakaista.fi) (Ping timeout: 252 seconds)
[03:33:43] *** Joins: pateh (~pateh@81-197-66-239.elisa-laajakaista.fi)
[03:33:46] <concrete-houses> ok so say table has 4 columns and temp_table 3      how do I do the insert such that the default value is generated for table missing column?
[03:35:07] *** Quits: Yen (~Yen@user/yen) (Ping timeout: 256 seconds)
[03:39:15] <concrete-houses> insert into table AS t id, name, date, log_id=default  VALUES ( select id, name, date from temp_table as e)
[03:39:42] <concrete-houses> something like that?
[03:42:28] <concrete-houses> insert into table( id, name, date, log_id=default)   select id, name, date from temp_table
[03:44:37] *** Quits: pateh (~pateh@81-197-66-239.elisa-laajakaista.fi) (Ping timeout: 240 seconds)
[03:47:02] *** Joins: pateh (~pateh@81-197-66-239.elisa-laajakaista.fi)
[03:47:14] *** Joins: MrZeus__ (~MrZeus@89.238.143.231)
[03:48:29] <maciek_> concrete-houses, something like "insert into table(id, name, date, log_id) select id, name, date, 'the default value literal' from temp_table" if i understand what you're asking correctly
[03:50:02] *** Quits: MrZeus_ (~MrZeus@86.106.136.215) (Ping timeout: 240 seconds)
[03:52:32] <concrete-houses> ok
[03:52:36] *** Joins: victori (~victori@cpe-76-89-139-69.socal.res.rr.com)
[03:53:03] <concrete-houses> now say log_id is bigserial seq in table
[03:53:32] <concrete-houses> is there a way to say give that column the default value when I insert?
[03:53:40] <concrete-houses> oh wait
[03:53:48] <concrete-houses> doesn't postgres default to that?
[03:54:21] <concrete-houses> or is there a way to call the uuidv4 function or something?
[03:54:57] <concrete-houses> I want to say insert but any column missing put THIS   is there a way like update to do that?
[03:55:57] *** Quits: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8) (Ping timeout: 240 seconds)
[03:57:57] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Remote host closed the connection)
[03:58:16] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[04:00:54] *** Joins: Yen (~Yen@user/yen)
[04:02:06] *** Quits: epolanski (uid312403@id-312403.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[04:02:34] *** Joins: Sammitch (~Jerkface@user/sammitch)
[04:04:14] <Sammitch> I'm looking through my indexes in datagrip, and I'm seeing what looks like foreign keys that point at nothing? is this a thing that can happen, eg: if the referenced table/column has been removed? what's the term for this?
[04:06:32] *** Quits: AndreasKarlsson[ (~kandreasm@2001:470:69fc:105::707) (Ping timeout: 240 seconds)
[04:06:32] *** Quits: graham (~gchristen@user/gchristensen) (Ping timeout: 240 seconds)
[04:06:41] *** Joins: Kamilion|ZNC (kamilion@copper.sllabs.com)
[04:06:42] *** Joins: shangxiao (~davids@101.165.217.11)
[04:07:02] *** Quits: ptman[m] (~ptmanm]@2001:470:69fc:105::34) (Ping timeout: 240 seconds)
[04:07:02] *** Quits: Kamilion (kamilion@copper.sllabs.com) (Ping timeout: 240 seconds)
[04:08:56] *** Kamilion|ZNC is now known as Kamilion
[04:10:12] <concrete-houses> insert into table(id, name, date) select id, name, date from temp_table
[04:10:24] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[04:10:32] <concrete-houses> would this cause log_id to autogenerate if the column has default?
[04:11:02] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[04:11:21] <concrete-houses> Each column not present in the explicit or implicit column list will be filled with a default value, either its declared default value or null if there is none.
[04:11:43] <concrete-houses> https://www.postgresql.org/docs/10/sql-insert.html this is good it can maybe save me
[04:12:24] <concrete-houses> bugger who ave the csv has columns out of order but I can insert select them in order
[04:12:39] <concrete-houses> ok now to test
[04:17:47] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:b921:6822:fa0e:e017)
[04:19:43] *** Joins: AndreasKarlsson[ (~kandreasm@2001:470:69fc:105::707)
[04:20:34] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 250 seconds)
[04:20:53] *** Joins: graham (~gchristen@user/gchristensen)
[04:24:05] *** Joins: ptman[m] (~ptmanm]@2001:470:69fc:105::34)
[04:29:00] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 240 seconds)
[04:29:32] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[04:32:07] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 256 seconds)
[04:33:34] <Sammitch> sooo yeah, joining table_constraints, key_column_usage, and constraint_column_usage shows that I seem to have 177 "orphaned" FKs. o_o
[04:33:34] *** Quits: bmomjian (~bruce@momjian.us) (Read error: Connection reset by peer)
[04:33:41] *** Joins: bmomjian (~bruce@momjian.us)
[04:33:44] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[04:42:52] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[04:44:18] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[04:44:41] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[04:44:56] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[04:46:47] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[04:47:10] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[04:48:26] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[04:49:31] *** Quits: kakashiA1 (~kakashi@41.143.246.221) (Ping timeout: 245 seconds)
[04:51:07] <concrete-houses> if the column names are different in an insert..select   where the table1 has few more columns that the temp_table    it knows to det default or null for columns not named?
[04:56:27] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[04:56:49] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[04:57:20] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[04:59:06] <xocolatl> postgres will use the default value if a column is not included the the insert.  I don't know what your database does.
[05:08:08] <concrete-houses> insert into table("Id", "Name", "Date") select id, name, date  from temp_table
[05:08:15] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Ping timeout: 240 seconds)
[05:08:52] <concrete-houses> that will work? and give default to 4th colun load_id? if that column has default set?  even thogh names in temp_table are different?
[05:09:03] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:b921:6822:fa0e:e017) (Remote host closed the connection)
[05:09:17] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:b921:6822:fa0e:e017)
[05:09:21] <xocolatl> yes
[05:09:27] <concrete-houses> ah ok awesome
[05:10:28] <concrete-houses> can I put a limit 5 on that select if I just want to see if the first 5 work? (400k line csv file)
[05:10:38] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Remote host closed the connection)
[05:10:52] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Quit: Leaving)
[05:10:58] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[05:11:05] <xocolatl> yes of course
[05:11:10] *** Joins: kitsunenokenja (~kitsunech@68.91.220.96)
[05:11:11] *** Joins: phantomcircuit_ (~phantomci@192.241.205.97)
[05:11:17] *** Quits: bluejaypop2 (~7f000001@72.52.80.246) (Quit: Ping timeout (120 seconds))
[05:11:18] <xocolatl> there is no magic here
[05:11:19] *** Joins: cleric_ (~cleric@2604:a880:2:d0::53b2:f001)
[05:11:29] *** Quits: axsuul (~axsuul@138.68.30.232) (Quit: 👋)
[05:11:30] *** Joins: bluejaypop2 (~7f000001@72.52.80.246)
[05:11:36] *** Quits: foo (~foo@user/foo/x-8763512) (Ping timeout: 245 seconds)
[05:11:38] *** Quits: phantomcircuit (~phantomci@2604:a880:1:20::f2:c001) (Quit: ZNC - https://znc.in)
[05:11:49] *** Joins: axsuul (~axsuul@138.68.30.232)
[05:12:19] *** Quits: jim (~jim@about/linux/staff/jim) (Ping timeout: 250 seconds)
[05:12:51] *** Quits: wgrant (~wgrant@ubuntu/member/wgrant) (Ping timeout: 252 seconds)
[05:13:03] *** Quits: ihaveamac (~ihaveamac@ihaveahax.net) (Quit: fail)
[05:13:22] *** Joins: ihaveamac (~ihaveamac@ihaveahax.net)
[05:13:36] *** Joins: wgrant (~wgrant@ubuntu/member/wgrant)
[05:13:37] *** Quits: otherj (~j@user/otherj) (Ping timeout: 250 seconds)
[05:13:41] *** Joins: foo (~foo@user/foo/x-8763512)
[05:13:56] *** Quits: Auron (Auron956@user/auron) (Remote host closed the connection)
[05:14:06] *** Quits: dre^ (andre@youbeill.in) (Ping timeout: 245 seconds)
[05:14:07] *** Joins: otherj (~j@fano.forth.com)
[05:14:07] *** Quits: otherj (~j@fano.forth.com) (Changing host)
[05:14:07] *** Joins: otherj (~j@user/otherj)
[05:14:30] *** Quits: cleric (~cleric@2604:a880:2:d0::53b2:f001) (Ping timeout: 252 seconds)
[05:15:25] *** Quits: Lightsword (~Lightswor@user/lightsword) (Quit: ZNC)
[05:15:38] *** Joins: Lightsword_ (~Lightswor@user/lightsword)
[05:15:47] *** Joins: jim (~jim@about/linux/staff/jim)
[05:16:48] *** Lightsword_ is now known as Lightsword
[05:18:12] *** Joins: dre^ (andre@youbeill.in)
[05:20:18] *** Joins: zmt00 (~zmt00@user/zmt00)
[05:22:46] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[05:24:14] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[05:24:39] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[05:24:42] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[05:26:07] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[05:27:42] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 252 seconds)
[05:30:12] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 240 seconds)
[05:31:13] <concrete-houses> I can't import from a csv because a column has type uuid but the csv has NULL in that column...... what is suggestion ?
[05:31:39] <concrete-houses> Is the csv data needed or is there some way to let a null into a uuid column?
[05:32:25] <concrete-houses> WHats awesome is that production has uuid as the column type and its tons of nulls in there    at least for the select bblah limit 30 I did
[05:32:45] <concrete-houses> I can't even get a temp table to accept my csv lol
[05:32:58] <concrete-houses> because I told the import the data types of the columns
[05:33:05] <concrete-houses> in dbeaver
[05:33:33] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 256 seconds)
[05:38:38] *** Quits: f3f3lix (~weechat@55d434fc.access.ecotel.net) (Ping timeout: 272 seconds)
[05:38:39] *** Quits: concrete-houses (~g@209.6.150.53) (Ping timeout: 256 seconds)
[05:38:59] *** Quits: MrZeus__ (~MrZeus@89.238.143.231) (Ping timeout: 256 seconds)
[05:40:14] *** Joins: concrete-houses (~g@209.6.150.53)
[05:40:16] *** Joins: f3f3lix (~weechat@55d43204.access.ecotel.net)
[05:45:20] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[05:49:08] *** Quits: Su-Shee (~Susanne@4-110-142-46.pool.kielnet.net) (Ping timeout: 252 seconds)
[05:50:42] *** Joins: Su-Shee (~Susanne@110-110-142-46.pool.kielnet.net)
[06:04:50] *** Joins: zmt00 (~zmt00@user/zmt00)
[06:10:50] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[06:11:51] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 256 seconds)
[06:12:29] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[06:17:34] *** Joins: zeden (~zeden@user/zeden)
[06:19:09] *** Joins: schinckel (uid38120@user/schinckel)
[06:20:37] *** Quits: concrete-houses (~g@209.6.150.53) (Remote host closed the connection)
[06:22:18] *** Quits: maciek_ (~maciek@2600:1700:a412:1c00:3426:21b7:936:2565) (Ping timeout: 260 seconds)
[06:23:02] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[06:32:58] *** Joins: Junxter (~Junxter@121.237.63.222)
[06:34:31] *** Quits: Junxter (~Junxter@121.237.63.222) (Max SendQ exceeded)
[06:35:05] *** Joins: Junxter (~Junxter@121.237.63.222)
[06:35:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[06:39:54] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[06:40:59] *** Quits: rawgreaze_ (~rawgreaze@c-24-91-94-184.hsd1.ma.comcast.net) (Ping timeout: 256 seconds)
[06:41:26] *** Joins: rawgreaze (~rawgreaze@c-24-91-94-184.hsd1.ma.comcast.net)
[06:41:26] *** Quits: rawgreaze (~rawgreaze@c-24-91-94-184.hsd1.ma.comcast.net) (Changing host)
[06:41:26] *** Joins: rawgreaze (~rawgreaze@user/rawgreaze)
[06:44:08] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[06:44:17] *** Quits: Gunni (~gunni@user/gunni) (Ping timeout: 268 seconds)
[06:44:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[06:56:16] *** Joins: Gunni (~gunni@user/gunni)
[06:56:37] *** Quits: Su-Shee (~Susanne@110-110-142-46.pool.kielnet.net) (Ping timeout: 256 seconds)
[06:56:40] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[06:57:21] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[06:57:29] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[06:57:48] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[06:58:02] *** Joins: Su-Shee (~Susanne@i5E861393.versanet.de)
[06:58:46] *** Joins: xisop (~xisop@bnull.net)
[06:59:23] *** Joins: zzing (~zzing@d24-57-14-115.home.cgocable.net)
[07:01:57] *** Quits: mahlon (~mahlon@martini.nu) (Ping timeout: 250 seconds)
[07:04:50] *** Joins: mahlon (~mahlon@martini.nu)
[07:07:14] *** Quits: n0fun_ (~jack@i577BC050.versanet.de) (Ping timeout: 252 seconds)
[07:07:19] *** Joins: n0fun (~jack@i577BC075.versanet.de)
[07:10:24] *** Joins: k8yun (~k8yun@user/k8yun)
[07:10:52] *** Quits: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br) (Ping timeout: 250 seconds)
[07:12:00] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[07:14:19] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:15:30] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[07:21:52] *** Quits: Vacuity (~Vacuity@user/vovo) (Ping timeout: 272 seconds)
[07:23:12] *** Joins: Vacuity (~Vacuity@user/vovo)
[07:24:37] *** Quits: Su-Shee (~Susanne@i5E861393.versanet.de) (Ping timeout: 240 seconds)
[07:26:30] *** Joins: Su-Shee (~Susanne@88-125-142-46.pool.kielnet.net)
[07:26:35] *** Joins: ged (~ged@deveiate.org)
[07:32:37] *** Quits: n0fun (~jack@i577BC075.versanet.de) (Ping timeout: 240 seconds)
[07:33:35] *** Quits: rudi_s (~simon@user/rudi-s/x-7673890) (Ping timeout: 250 seconds)
[07:34:35] *** Joins: rudi_s (~simon@user/rudi-s/x-7673890)
[07:35:23] *** Quits: sreve_ (~quassel@p549d73b1.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[07:35:26] *** Quits: Slade (uid128877@user/slade) (Quit: Connection closed for inactivity)
[07:35:42] *** Joins: sreve (~quassel@p549d7184.dip0.t-ipconnect.de)
[07:36:57] *** Quits: v3ga (~v3ga@cpe-98-25-21-91.sc.res.rr.com) (Ping timeout: 252 seconds)
[07:37:46] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[07:39:03] *** Joins: v3ga (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com)
[07:45:12] *** Quits: jochum (~quassel@user/jochum) (Ping timeout: 252 seconds)
[07:46:12] *** Joins: jochum (~quassel@user/jochum)
[07:58:19] *** Quits: shangxiao (~davids@101.165.217.11) (Quit: WeeChat 3.4)
[07:58:57] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 252 seconds)
[08:01:53] *** Quits: Sellerie (~Sellerie@user/sellerie) (Quit: Ping timeout (120 seconds))
[08:02:13] *** Joins: Sellerie (~Sellerie@user/sellerie)
[08:02:35] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 256 seconds)
[08:03:55] *** Quits: _xor (~xor@dsl-50-5-233-169.fuse.net) (Read error: Connection reset by peer)
[08:07:48] *** Joins: _xor (~xor@dsl-50-5-233-169.fuse.net)
[08:11:18] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[08:11:32] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 250 seconds)
[08:13:02] *** Joins: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw)
[08:15:48] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:b921:6822:fa0e:e017) (Ping timeout: 240 seconds)
[08:17:39] *** Joins: zz (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp)
[08:19:26] *** Joins: ekathva (~ekathva@n16j1oo707h05v16j-1.v6.elisa-mobile.fi)
[08:20:32] *** zz is now known as Guest5793
[08:22:03] *** Quits: Guest5793 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp) (Ping timeout: 252 seconds)
[08:24:48] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 252 seconds)
[08:28:51] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[08:29:11] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[08:31:57] *** Quits: xisop (~xisop@bnull.net) (Quit: leaving)
[08:33:03] *** Quits: sreve (~quassel@p549d7184.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[08:33:13] *** Quits: Giovanni (~Giovanni@176.55.166.222) (Remote host closed the connection)
[08:33:23] *** Joins: sreve (~quassel@p4ff44c9d.dip0.t-ipconnect.de)
[08:34:36] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Ping timeout: 240 seconds)
[08:35:07] *** Joins: childlikempress (~moon-chil@cardinal.elronnd.net)
[08:36:01] *** Quits: moon-child (~moon-chil@cardinal.elronnd.net) (Ping timeout: 256 seconds)
[08:43:57] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[08:43:58] *** Joins: CanuteTheGreat (~CanuteThe@user/canutethegreat)
[08:45:44] *** Quits: rvalue (~rvalue@user/rvalue) (Read error: Connection reset by peer)
[08:45:57] *** Joins: rvalue (~rvalue@user/rvalue)
[08:48:29] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 256 seconds)
[08:49:01] *** childlikempress is now known as moon-child
[08:51:21] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Quit: Leaving...)
[08:56:34] *** Joins: danielgee (~danielgee@static-n49-176-150-200.meb4.vic.optusnet.com.au)
[08:59:11] <danielgee> I have this query, it takes a few seconds to get 9000 results. when I add in LIMIT 10 the query just keeps running. shouldn't the limit return quicker.
[09:02:24] *** Quits: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net) (Quit: Leaving)
[09:03:42] *** Joins: Slade (uid128877@user/slade)
[09:04:08] *** Joins: mexen (uid495612@user/mexen)
[09:22:00] *** Joins: shka (~herr@109.231.3.55)
[09:23:14] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[09:23:59] *** Quits: tozhu (~tozhu@125.69.99.189) (Quit: tozhu)
[09:24:15] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[09:24:44] *** Joins: tozhu (~tozhu@125.69.99.189)
[09:25:40] *** Joins: kakashiA1 (~kakashi@41.143.246.221)
[09:36:18] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 252 seconds)
[09:40:14] *** Joins: Reiner_Unsinn (~quassel@p5dd47daa.dip0.t-ipconnect.de)
[09:43:24] *** Joins: the_lanetly_052 (~the_lanet@185.30.91.206)
[09:43:35] *** Joins: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net)
[09:44:42] *** Quits: the_lanetly_052 (~the_lanet@185.30.91.206) (Max SendQ exceeded)
[09:45:11] *** Joins: the_lanetly_052 (~the_lanet@194.135.155.254)
[09:47:28] *** Quits: tozhu (~tozhu@125.69.99.189) (Ping timeout: 265 seconds)
[09:49:23] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[09:49:48] <rk4> keeps running...for hours?
[09:49:50] <rk4> forever?
[09:50:51] <rk4> was EXPLAIN insightful?
[09:57:57] *** Joins: tozhu (~tozhu@218.89.253.200)
[09:58:14] *** Joins: uncleyear (~ian@178.176.77.39)
[10:00:44] *** Quits: the_lanetly_052 (~the_lanet@194.135.155.254) (Ping timeout: 250 seconds)
[10:01:32] *** Joins: Guest7375 (~vit@chello085216193138.chello.sk)
[10:03:55] *** Quits: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon) (Ping timeout: 240 seconds)
[10:04:05] *** Quits: zzing (~zzing@d24-57-14-115.home.cgocable.net) (Ping timeout: 268 seconds)
[10:05:01] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Remote host closed the connection)
[10:05:15] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[10:06:51] *** Joins: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi)
[10:06:52] *** Quits: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:06:52] *** Joins: manti7 (~manti7@176.10.104.94)
[10:07:06] *** Joins: mattil (~mattil@87-95-64-207.bb.dnainternet.fi)
[10:07:20] *** Quits: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[10:07:56] *** Joins: mattil_ (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi)
[10:11:34] *** Quits: mattil (~mattil@87-95-64-207.bb.dnainternet.fi) (Ping timeout: 250 seconds)
[10:12:07] *** Quits: tozhu (~tozhu@218.89.253.200) (Ping timeout: 265 seconds)
[10:12:21] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 256 seconds)
[10:14:49] *** Joins: jazzy (~jaziz@user/jaziz)
[10:15:11] *** Quits: k8yun (~k8yun@user/k8yun) (Ping timeout: 256 seconds)
[10:23:59] *** Joins: tozhu (~tozhu@218.89.253.208)
[10:24:04] *** Quits: mattil_ (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:24:30] *** Joins: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi)
[10:29:06] *** Quits: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi) (Ping timeout: 252 seconds)
[10:31:05] *** Joins: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi)
[10:33:00] *** Joins: TomTom (uid45892@id-45892.ilkley.irccloud.com)
[10:34:23] *** Quits: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi) (Remote host closed the connection)
[10:34:51] *** Joins: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi)
[10:39:33] *** Quits: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi) (Ping timeout: 252 seconds)
[10:40:36] *** Quits: Snow-Man (~sfrost@tamriel.snowman.net) (Ping timeout: 240 seconds)
[10:41:04] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[10:42:42] *** Joins: ekathva_ (~ekathva@86.114.187.171)
[10:43:49] *** Joins: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi)
[10:44:43] *** Joins: ba|ch (~user@p200300f3a7089c7413b710b9535bcae5.dip0.t-ipconnect.de)
[10:44:49] *** Quits: ekathva_ (~ekathva@86.114.187.171) (Read error: Connection reset by peer)
[10:44:56] *** Joins: mattil_ (~mattil@helsinki.portalify.com)
[10:44:57] *** Joins: shiranaihito (~textual@111-249-210-215.dynamic-ip.hinet.net)
[10:45:22] *** Quits: ekathva (~ekathva@n16j1oo707h05v16j-1.v6.elisa-mobile.fi) (Ping timeout: 250 seconds)
[10:46:07] *** Joins: ekathva_ (~ekathva@n16iyde4bmj9ireof-1.v6.elisa-mobile.fi)
[10:46:09] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[10:46:21] *** Joins: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon)
[10:47:47] *** Quits: Komzpa (~kom@212.58.119.213) (Ping timeout: 252 seconds)
[10:48:21] *** Quits: mattil (~mattil@d4cskbms70zgqd40lgt-4.rev.dnainternet.fi) (Ping timeout: 252 seconds)
[10:51:01] *** Quits: mattil_ (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[10:51:48] *** Joins: mattil (~mattil@helsinki.portalify.com)
[10:54:21] *** Joins: mrwick (~mrwick@user/mrwick)
[10:54:36] *** Joins: Snow-Man (~sfrost@tamriel.snowman.net)
[10:55:33] *** Joins: RLa (~RLa@85.253.187.184.cable.starman.ee)
[10:56:38] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[10:57:08] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[10:57:13] *** Joins: ekathva__ (~ekathva@mobile-access-5672d1-126.dhcp.inet.fi)
[10:59:40] *** Quits: ekathva_ (~ekathva@n16iyde4bmj9ireof-1.v6.elisa-mobile.fi) (Ping timeout: 250 seconds)
[11:00:55] *** Joins: michalz (~michalz@185.246.204.43)
[11:01:05] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 256 seconds)
[11:06:20] *** Joins: jazzy2 (~jaziz@user/jaziz)
[11:08:06] *** Joins: dfee (~dfee@162-227-164-101.lightspeed.sntcca.sbcglobal.net)
[11:09:35] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 256 seconds)
[11:13:48] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Ping timeout: 260 seconds)
[11:15:49] <dfee> having trouble aggregating a left join into an array of objects: https://www.db-fiddle.com/f/8Ts8BD1ZHqnnLtAPiRyHAh/0
[11:19:15] *** Joins: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8)
[11:22:36] *** Quits: ekathva__ (~ekathva@mobile-access-5672d1-126.dhcp.inet.fi) (Read error: Connection reset by peer)
[11:24:05] *** Joins: ekathva__ (~ekathva@n16j14urzyjc7uwzq-1.v6.elisa-mobile.fi)
[11:25:45] *** Quits: shka (~herr@109.231.3.55) (Ping timeout: 252 seconds)
[11:25:55] *** Joins: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de)
[11:26:57] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Ping timeout: 240 seconds)
[11:27:45] *** Joins: Komzpa (~kom@212.58.119.213)
[11:29:32] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[11:31:16] *** Joins: mattil (~mattil@helsinki.portalify.com)
[11:33:17] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[11:35:04] *** Quits: shiranaihito (~textual@111-249-210-215.dynamic-ip.hinet.net) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[11:39:50] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[11:42:20] *** Joins: palasso (~palasso@user/palasso)
[11:47:32] *** Joins: darutoko (~darutoko@37.21.208.231)
[11:50:34] *** Joins: shiranaihito (~textual@125-228-188-231.hinet-ip.hinet.net)
[11:52:18] *** Quits: fcr (~fran@r167-60-106-201.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[11:53:58] *** Quits: dfee (~dfee@162-227-164-101.lightspeed.sntcca.sbcglobal.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:57:19] *** Joins: zmt01 (~zmt00@user/zmt00)
[11:57:22] *** Joins: mattil (~mattil@helsinki.portalify.com)
[11:58:12] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 240 seconds)
[12:00:30] *** Joins: fcr (~fran@r186-48-83-127.dialup.adsl.anteldata.net.uy)
[12:01:31] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[12:06:49] *** Quits: Guest7375 (~vit@chello085216193138.chello.sk) (Ping timeout: 256 seconds)
[12:08:46] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[12:11:35] *** Quits: bindu (~bindu@user/bindu) (Ping timeout: 240 seconds)
[12:13:06] *** Joins: vladoski (~vladoski@2001:b07:add:d406:f809:685c:190e:d2eb)
[12:14:27] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[12:17:06] *** Joins: bindu (~bindu@user/bindu)
[12:18:36] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Ping timeout: 240 seconds)
[12:19:50] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[12:24:55] *** Joins: Guest7375 (~vit@chello085216193138.chello.sk)
[12:27:43] *** Joins: Auron (Auron956@user/auron)
[12:27:45] *** Joins: AceSlash (~slash@2a01:e0a:432:c050:cd12:393c:3664:2a6e)
[12:28:16] *** Joins: antaresgades (~antaresga@ieocadiz.cd.ieo.es)
[12:29:25] *** jazzy2 is now known as jazzy
[12:30:57] *** Quits: robinsmidsrod (~robin@25.51-174-133.customer.lyse.net) (Read error: Connection reset by peer)
[12:31:44] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[12:33:38] <antaresgades> Good morning. I have a table in which I want to create a foreign key that references to another table two fields. The problem is that I have rows in my table that doesn't have the correspondant value in the foreign table. For instance the pair ('A',12) is not in the foreign table.
[12:34:01] <antaresgades> Is it possible to use MATCH SIMPLE to get rid of this?
[12:34:25] *** Joins: robinsmidsrod (~robin@25.51-174-133.customer.lyse.net)
[12:35:00] *** Quits: indy (~indy@dsl-static-104.213-160-167.telecom.sk) (Ping timeout: 240 seconds)
[12:36:18] *** Quits: Kyros (~kyros@user/kyros) (Quit: ZNC 1.8.2 - https://znc.in)
[12:36:37] *** Joins: Kyros (~kyros@user/kyros)
[12:36:45] *** Joins: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[12:38:21] <Myon> antaresgades: simply cleaning up or inserting the values is really the best option
[12:38:27] <Myon> everything else will be a pita to use later
[12:39:57] <antaresgades> You mean to put whatever values are needed in the foreign table, isn't it?
[12:40:41] <Myon> that, or deleting the rows that don't have a partner
[12:41:25] <Myon> MATCH SIMPLE is iirc only relevant for multi-column FKs where one of the fields is NULL. Don't go there, there are dragons
[12:45:37] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[12:46:41] *** Joins: fruity_tomato (~fruity_to@user/fruity-tomato/x-3541336)
[12:47:34] <antaresgades> "Don't go there, there are dragons" LOL I see, thank you very much!!!
[12:48:06] <ne2k> antaresgades, well, given that the entire point of a foreign key constraint is to ensure that table a can only contain values that are in table b, you obviously need to either 1. put the values that are in a that aren't in b into b or 2. take the rows that have values that aren't in b out of a
[12:49:55] <ne2k> or, well, 3. not have a foreign key constraint
[12:50:10] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 250 seconds)
[12:51:20] <ne2k> also, be careful with talking about "foreign table", because that means something else (foreign data wrappers)
[12:52:16] <ne2k> it is a little confusing that foreign keys and foreign tables share the word "foreign" but aren't connected
[12:58:42] *** Joins: rendar (~rendar@user/rendar)
[13:00:02] <antaresgades> OK. Say table OPERATIONS stores SURVEY and TRANSECT (among other things) . The referenced table TRANSECTS has also a SURVEY and a TRANSECT but not all surveys have transects defined. However, We must ensure that IF an OPERATIONS row has a transect assigned the combination of SURVEY and TRANSECT must exist in transects... Maybe it is not matter of a
[13:00:02] <antaresgades> FK but there is another way of perform this?
[13:02:33] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 252 seconds)
[13:08:35] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 256 seconds)
[13:11:49] *** Joins: ponsfrilus (~Thunderbi@adsl-178-39-226-100.adslplus.ch)
[13:13:17] *** Quits: redgloboli (~redglobol@user/redgloboli) (Quit: ...enter the matrix...)
[13:13:34] *** Joins: pedja (~pedja@user/deus-ex/x-7934090)
[13:13:42] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[13:14:00] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 250 seconds)
[13:14:07] *** Joins: redgloboli (~redglobol@user/redgloboli)
[13:14:41] *** Quits: ponsfrilus (~Thunderbi@adsl-178-39-226-100.adslplus.ch) (Client Quit)
[13:18:57] *** Joins: c2main (~quassel@82.66.25.238)
[13:18:57] *** Quits: c2main (~quassel@82.66.25.238) (Changing host)
[13:18:57] *** Joins: c2main (~quassel@user/c2main)
[13:19:24] *** Quits: redgloboli (~redglobol@user/redgloboli) (Remote host closed the connection)
[13:20:49] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[13:26:36] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[13:26:57] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[13:27:17] *** Quits: tykling (~tykling@irc.tyknet.dk) (Ping timeout: 256 seconds)
[13:28:46] *** Joins: enoq (~enoq@194-208-178-35.lampert.tv)
[13:29:38] *** Joins: DNH (~DNH@2a02:8108:1100:16d8:2015:9361:6306:3ac4)
[13:30:44] *** Joins: tykling (~tykling@irc.tyknet.dk)
[13:31:42] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 252 seconds)
[13:32:17] *** Quits: phylaz (~phylaz@82.51-174-55.customer.lyse.net) (Ping timeout: 240 seconds)
[13:35:00] *** Quits: heldchen (~heldchen@user/held) (Ping timeout: 252 seconds)
[13:40:03] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[13:40:32] <ne2k> antaresgades, do you have a survey table?
[13:44:42] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 260 seconds)
[13:48:36] *** Joins: monstar (~monstar@gateway/tor-sasl/monstar)
[13:50:16] <antaresgades> ne2k: yes
[13:52:12] *** Joins: heldchen (~heldchen@user/held)
[13:52:49] <ne2k> antaresgades, put some sample data in dbfiddle.uk and show us what you mean
[13:53:05] <antaresgades> Ok
[13:53:44] <antaresgades> Just let me some time for get used to dbfiddle
[14:02:31] *** Joins: cation21 (cation@user/cation)
[14:03:59] *** Quits: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: jdavfsxd)
[14:04:09] *** Quits: cation (cation@user/cation) (Ping timeout: 252 seconds)
[14:05:48] *** Quits: kakashiA1 (~kakashi@41.143.246.221) (Ping timeout: 252 seconds)
[14:05:55] *** cation21 is now known as cation
[14:16:19] *** Quits: mogad0n (~mogad0n@user/mogad0n) (Quit: mogad0n)
[14:16:55] *** Quits: zmt01 (~zmt00@user/zmt00) (Ping timeout: 256 seconds)
[14:22:50] *** Joins: darkbit (~db@136.158.8.67)
[14:23:00] <antaresgades> OK, here it is, it is simplified to the essential
[14:23:01] <antaresgades> https://dbfiddle.uk/?rdbms=postgres_12&fiddle=1ad3c162f17c13a31d82f8545d4443af
[14:24:14] *** Joins: TomyWork (~TomyLobo@p200300e80f15820040d7f921142b8d51.dip0.t-ipconnect.de)
[14:26:39] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[14:26:52] *** Joins: lifeboy (~lifeboy@197.214.119.150)
[14:32:25] *** Quits: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29) (Quit: Leaving.)
[14:36:07] *** Joins: Klinda (~superleag@user/klinda)
[14:45:09] *** Joins: indy (~indy@dsl-static-104.213-160-167.telecom.sk)
[14:45:42] <ne2k> antaresgades, so let me get this straight. you have operations on a survey, which are defined by the survey and the operation code. each has a date and optionally a transect. if the transect is defined then there must be corresponding transect for that survey
[14:47:24] *** Joins: henrydance777 (~henrydanc@static-n49-176-146-220.meb4.vic.optusnet.com.au)
[14:48:12] <ne2k> antaresgades, it seems that you are right that match simple on survey,transect into transects would give you what you want. I think Myon may have more input on why this is a bad idea
[14:48:57] <ne2k> well, I mean... match simple is the default
[14:49:13] <ne2k> so... I think that should be fine. afaics.
[14:50:08] *** Quits: econo (uid147250@user/econo) (Quit: Connection closed for inactivity)
[14:53:23] <ne2k> antaresgades, https://dbfiddle.uk/?rdbms=postgres_12&fiddle=52e0f3683ccc45eedb67ddd6cb0cb582 I'm confused. is acoustic_transect in operations meant to reference acoustic_transect_code in acoustic_transects? they are of different tyeps
[14:54:16] <ne2k> https://dbfiddle.uk/?rdbms=postgres_12&fiddle=244454ee9a7b2ea91ac63d30aa01b014 make them both int and it works
[14:54:58] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 250 seconds)
[14:55:10] <RLa> what the heck is a transect?
[14:55:32] <ne2k> RLa, a line or area along which you collect samples
[14:56:49] *** Quits: Teraii (~teraii@185.219.206.44) (Read error: Connection reset by peer)
[14:56:51] *** Quits: DNH (~DNH@2a02:8108:1100:16d8:2015:9361:6306:3ac4) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:56:58] <ne2k> or something of that ilk
[14:57:02] *** Joins: Teraii (~teraii@juraii-s1-1.teraii.net)
[14:58:36] <RLa> ne2k, but then what is an acoustic transect?
[14:59:00] <ne2k> RLa, they're not different, I was just abbreviating (as did the OP when first asking the question)
[14:59:38] <ne2k> I presume an acoustic transect is one in which acoustic measurement are made (and perhaps some other types exist. or maybe not. I don't know what this actually is)
[15:00:33] <RLa> hm, that makes some sense
[15:02:26] *** Quits: pizza (~pizzaiolo@user/pizzaiolo) (Quit: Goodbye)
[15:03:48] *** Joins: pizzaiolo (~pizzaiolo@user/pizzaiolo)
[15:04:44] <antaresgades> Oh yes, sorry I didn't simplified the table. An acoustic transect is the a transect in which fish echoes are recorded.
[15:05:00] <antaresgades> But transect is ok
[15:05:29] *** Joins: DNH (~DNH@2a02:8108:1100:16d8:2015:9361:6306:3ac4)
[15:06:25] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[15:06:58] <ne2k> antaresgades, no worries. did you see my latest fiddle
[15:08:12] <antaresgades> No, I'm not used to dbfiddle... ¿how should I do that?
[15:08:47] <antaresgades> Ah ok, wait a second, I got my screen scrolled too far
[15:09:02] <ne2k> antaresgades, you posted a fiddle; I updated it and sent a new link
[15:09:07] <ne2k> and asked some things
[15:10:15] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[15:12:04] *** Joins: Mike3P (~mhoh1@2001:638:208:fd49:ca:1cff:fe25:b35f)
[15:12:18] <antaresgades> Yes, I see. Sorry sorry in may fiddle I posted the the acoustic_transect code as integer but it is varchar (in both tables). (MY BIGGEST APOLOGIES HERE)
[15:12:36] <antaresgades> Anyway, it should work if the two columns are the same type, shouldn't it?
[15:13:35] <Mike3P> Hi, question. If I wanted to modify postgres indexing behavior, where would I start? I am slightly overwhelmed by the source code and could need some help.
[15:14:50] <Mike3P> First thing I'd like to be able to see If I can get the indexed data of a table out into a log in a readable format.
[15:17:59] <depesz> Mike3P: what exactly are you trying to achieve, at the end of the road?
[15:18:23] <depesz> Mike3P: you can inspect what's in index files by using pageinspect module
[15:19:39] <Mike3P> depesz: I would like to implement a custom index, working of the B-Tree implementation.
[15:20:32] *** Quits: nyov (~nyov@user/nyov) (Ping timeout: 250 seconds)
[15:20:46] <Mike3P> More specifically I want to implement the progressive inedxing proposed here: https://dl.acm.org/doi/10.14778/3358701.3358705
[15:20:51] <Mike3P> *indexing
[15:22:19] <antaresgades> ne2k: Well. The problem was that I tried to create the FK having missing values in TRANSECTS for the current values in OPERATIONS.
[15:22:26] *** Joins: nyov (~nyov@user/nyov)
[15:23:35] <antaresgades> I've filled TRANSECTS with the missing values and after that the FK can be added to OPERATIONS and subsequently new valeus of operation (with the column ACOUSTIC_TRANSECT null) can be added
[15:25:58] <antaresgades> And that makes possible to insert a OPERATION with null TRANSECT but no an operation with a transect not defined in transects. So, until dragons appear, this is ok. THANK YOU VERY MUCH
[15:28:56] *** Quits: schinckel (uid38120@user/schinckel) (Quit: Connection closed for inactivity)
[15:32:03] *** Joins: zeden (~zeden@user/zeden)
[15:32:46] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[15:38:55] *** Quits: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de) (Quit: Connection closed)
[15:45:22] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:49:47] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[15:54:07] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[15:57:27] *** Quits: Junxter (~Junxter@121.237.63.222) (Ping timeout: 256 seconds)
[15:58:35] *** Quits: Guest7375 (~vit@chello085216193138.chello.sk) (Ping timeout: 256 seconds)
[16:05:36] *** Joins: antaresgades94 (~antaresga@ieocadiz.cd.ieo.es)
[16:05:37] *** Quits: antaresgades94 (~antaresga@ieocadiz.cd.ieo.es) (Client Quit)
[16:09:40] *** Joins: Guest7375 (~vit@chello085216193138.chello.sk)
[16:11:45] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 252 seconds)
[16:15:03] *** Joins: zmt00 (~zmt00@user/zmt00)
[16:23:01] *** Quits: henrydance777 (~henrydanc@static-n49-176-146-220.meb4.vic.optusnet.com.au) (Ping timeout: 240 seconds)
[16:28:27] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[16:29:12] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Remote host closed the connection)
[16:30:00] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[16:33:36] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[16:34:15] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Client Quit)
[16:34:43] *** Joins: ekathva_ (~ekathva@193.210.171.118)
[16:34:52] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[16:35:23] *** Joins: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br)
[16:36:59] *** Quits: ekathva__ (~ekathva@n16j14urzyjc7uwzq-1.v6.elisa-mobile.fi) (Ping timeout: 250 seconds)
[16:39:51] *** Quits: ekathva_ (~ekathva@193.210.171.118) (Read error: Connection reset by peer)
[16:41:00] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[16:41:06] *** Joins: ekathva_ (~ekathva@n16j1b0fzs8z4jskb-1.v6.elisa-mobile.fi)
[16:48:53] *** Joins: krismatrix (~krismatri@c-73-212-30-17.hsd1.md.comcast.net)
[16:49:27] <ns12> Hello, what is the minimum number of servers for achieving high availability and automatic failover? Is it 2 servers, or 3 servers?
[16:51:14] <Myon> 3
[16:51:23] <Myon> or any odd number > 1
[16:52:49] <dim> ns12: that's discussed over at https://pg-auto-failover.readthedocs.io/en/master/intro.html ; failover is possible with 2 nodes, HA requires at least 3 with Postgres.
[16:55:21] <ns12> dim: "failover is possible with 2 nodes" - How? This doesn't appear to be discussed in the linked webpage?
[16:55:23] *** Joins: vlado (~vladoski@93-47-225-67.ip114.fastwebnet.it)
[16:55:31] <ns12> s/webpage?/webpage./
[16:55:42] *** Joins: k8yun (~k8yun@user/k8yun)
[16:56:03] *** Quits: vlado (~vladoski@93-47-225-67.ip114.fastwebnet.it) (Client Quit)
[16:56:22] *** Joins: vlado (~vladoski@93-47-225-67.ip114.fastwebnet.it)
[16:57:25] <ns12> Myon: Are these features included in vanilla PostgreSQL, or will I need to use third-party extensions?
[16:57:49] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 240 seconds)
[16:57:52] <Myon> 3rd party (patroni, pg_auto_failover, others)
[16:58:02] *** Quits: vladoski (~vladoski@2001:b07:add:d406:f809:685c:190e:d2eb) (Ping timeout: 250 seconds)
[16:58:06] <Myon> I think that's manual failover with 2 nodes
[16:59:51] <ns12> Myon: "3rd party (patroni, pg_auto_failover, others)" - Does "others" include repmgr too?
[17:00:26] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[17:01:26] <Myon> yes but that has HA only added later in the design
[17:01:35] *** Joins: n0fun (~jack@i577BC075.versanet.de)
[17:02:09] <dim> the first diagram of the docs for pg_auto_failover shows how to have automated failover with 2 Postgres nodes only (and a monitor of course)
[17:02:46] <dim> if you want HA, you need at least 3 Postgres nodes as Myon sayth
[17:02:52] <ns12> dim: Ah, okay. That's 3 servers: 2 PostgreSQL + 1 monitor.
[17:03:04] <dim> yes, as written in the page ;-)
[17:03:58] <ns12> Why is it impossible with 2 servers only?
[17:06:22] <Myon> because if you just cut the cable between the two nodes while both are still alive, they both won't know if they should take over
[17:09:13] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[17:11:13] *** Quits: fruity_tomato (~fruity_to@user/fruity-tomato/x-3541336) (Quit: Client closed)
[17:12:54] *** Joins: kakashiA1 (~kakashi@41.143.4.33)
[17:13:56] *** Quits: mattil (~mattil@helsinki.portalify.com) (Read error: Connection reset by peer)
[17:14:28] *** Joins: mattil (~mattil@helsinki.portalify.com)
[17:19:23] <Myon> you can make it work using fencing, but that's another can of worms
[17:19:24] *** Joins: R2Racoon (~R2Racoon@181.62.52.196)
[17:19:44] *** Quits: kvn_ (~weechat@user/kvn) (Quit: WeeChat 3.1)
[17:21:57] *** Quits: k8yun (~k8yun@user/k8yun) (Read error: Connection reset by peer)
[17:22:40] *** Joins: fruity_tomato (~fruity_to@user/fruity-tomato/x-3541336)
[17:23:59] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[17:24:11] *** Joins: mattil (~mattil@helsinki.portalify.com)
[17:25:23] <ns12> Myon: How do I do manual failover with only 2 PostgreSQL nodes?
[17:25:47] <Myon> ssh node2 failover.sh
[17:26:18] <Myon> perhaps simply `pg_ctl promote`
[17:29:13] <ns12> Thank you for the information.
[17:29:32] *** Joins: peteyboy1 (~peteyboy1@199.157.133.37.dynamic.jazztel.es)
[17:29:33] *** Quits: peteyboy1 (~peteyboy1@199.157.133.37.dynamic.jazztel.es) (Remote host closed the connection)
[17:30:26] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[17:32:21] *** Joins: mattil (~mattil@helsinki.portalify.com)
[17:33:08] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[17:33:56] <mbanck> ns12: note that you also need to make sure the other node is no longer accepting writes in this case
[17:36:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[17:38:21] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[17:41:51] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[17:42:39] *** Joins: randir (~randir@93.159.239.42)
[17:42:43] *** Joins: ekathva__ (~ekathva@mobile-access-5672f9-202.dhcp.inet.fi)
[17:44:54] *** Joins: shka (~herr@109.231.3.55)
[17:44:59] *** Joins: mattil (~mattil@d4cskbgd7zj50pv25b4-4.rev.dnainternet.fi)
[17:45:16] *** Quits: ekathva_ (~ekathva@n16j1b0fzs8z4jskb-1.v6.elisa-mobile.fi) (Ping timeout: 250 seconds)
[17:46:04] *** Quits: randir (~randir@93.159.239.42) (Remote host closed the connection)
[17:49:39] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 256 seconds)
[17:49:42] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[17:50:37] *** Quits: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se) (Read error: Connection reset by peer)
[17:51:18] *** Joins: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se)
[17:55:20] *** Quits: mattil (~mattil@d4cskbgd7zj50pv25b4-4.rev.dnainternet.fi) (Remote host closed the connection)
[17:55:32] *** Joins: k8yun (~k8yun@user/k8yun)
[17:55:46] *** Joins: mattil (~mattil@d4cskbgd7zj50pv25b4-4.rev.dnainternet.fi)
[17:58:06] *** Joins: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com)
[17:58:56] *** Joins: phylaz (~phylaz@82.51-174-55.customer.lyse.net)
[17:59:56] *** Quits: mattil (~mattil@d4cskbgd7zj50pv25b4-4.rev.dnainternet.fi) (Ping timeout: 245 seconds)
[18:00:59] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 256 seconds)
[18:01:33] *** Quits: ekathva__ (~ekathva@mobile-access-5672f9-202.dhcp.inet.fi) (Ping timeout: 256 seconds)
[18:08:16] *** Quits: Amadiro__ (~Amadiro@45.154.138.41) (Ping timeout: 245 seconds)
[18:09:20] *** Parts: Mike3P (~mhoh1@2001:638:208:fd49:ca:1cff:fe25:b35f) ()
[18:09:33] *** Joins: mattil (~mattil@d4cskbgd7zj50pv25b4-4.rev.dnainternet.fi)
[18:09:51] <kakashiA1> if you use serial as id, it starts at 1, is it okay to insert data with the id 0?
[18:10:06] *** Joins: Haudegen (~quassel@91.114.49.10)
[18:14:06] *** Quits: n0fun (~jack@i577BC075.versanet.de) (Ping timeout: 245 seconds)
[18:14:12] *** Joins: mav`rik (~unknown@ec2-54-171-126-99.eu-west-1.compute.amazonaws.com)
[18:15:30] *** Quits: eroux (~eroux@102-65-85-242.ftth.web.africa) (Ping timeout: 252 seconds)
[18:18:12] *** Quits: ba|ch (~user@p200300f3a7089c7413b710b9535bcae5.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[18:18:13] *** Joins: zzing (~zzing@d24-57-14-115.home.cgocable.net)
[18:20:02] <depesz> kakashiA1: you can insert with *any* id, as long as you will change sequence not to give this id.
[18:20:24] <depesz> kakashiA1: so, yeah, you can insert id = 0. or you can make the sequence start with 1000, and treat everything < 1000 as "reserved"
[18:22:00] *** Joins: mithnae (~maintenan@89-65-32-154.dynamic.chello.pl)
[18:22:11] *** Joins: dfee (~dfee@162-227-164-101.lightspeed.sntcca.sbcglobal.net)
[18:22:16] *** Quits: dfee (~dfee@162-227-164-101.lightspeed.sntcca.sbcglobal.net) (Client Quit)
[18:26:40] *** Quits: antaresgades (~antaresga@ieocadiz.cd.ieo.es) (Quit: Client closed)
[18:26:58] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[18:28:55] *** Quits: mattil (~mattil@d4cskbgd7zj50pv25b4-4.rev.dnainternet.fi) (Remote host closed the connection)
[18:29:22] *** Joins: mattil (~mattil@d4cskbgd7zj50pv25b4-4.rev.dnainternet.fi)
[18:30:42] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[18:32:58] *** Joins: maciek_ (~maciek@2600:1700:a412:1c00:b550:8a97:3530:997b)
[18:33:02] *** Quits: HumanG33k (~HumanG33k@2a01:e0a:95:5d90:215:c5ff:fe68:fb04) (Ping timeout: 240 seconds)
[18:34:11] *** Quits: mattil (~mattil@d4cskbgd7zj50pv25b4-4.rev.dnainternet.fi) (Ping timeout: 256 seconds)
[18:35:24] *** Joins: HumanG33k (~HumanG33k@dau94-2-82-66-65-160.fbx.proxad.net)
[18:35:46] *** Joins: Giovanni (~Giovanni@176.219.119.243)
[18:42:51] *** Joins: EGH (~EGH@185.25.195.104)
[18:44:37] *** Quits: fruity_tomato (~fruity_to@user/fruity-tomato/x-3541336) (Ping timeout: 256 seconds)
[18:49:21] *** Joins: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de)
[18:50:27] *** Joins: shiranaihito_ (~textual@123-192-192-149.dynamic.kbronet.com.tw)
[18:52:53] *** Quits: shiranaihito (~textual@125-228-188-231.hinet-ip.hinet.net) (Ping timeout: 252 seconds)
[18:55:56] *** Joins: randir (~randir@93.159.239.42)
[18:56:20] *** Quits: randir (~randir@93.159.239.42) (Remote host closed the connection)
[19:00:33] *** Joins: dfee (~dfee@162-227-164-101.lightspeed.sntcca.sbcglobal.net)
[19:03:01] <kakashiA1> depesz: thanks, I just wanted to use id = 0, for the company that you own, and every id > 0 its companies that you do not own
[19:08:51] *** Quits: veesh (~veesh@89.237.101.15) (Ping timeout: 252 seconds)
[19:14:59] *** Joins: mizi (~mizi@user/mizi)
[19:18:06] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Quit: Leaving)
[19:26:26] <dim> ns12: when using pg_auto_failover you can set the candidate priority of the nodes to 0 (not a candidate for failover) and then have a fully automated process with manual decision making
[19:26:49] <dim> ns12: then failover is implemented with `pg_autoctl perform promotion --name node2` or such
[19:27:02] *** Quits: Giovanni (~Giovanni@176.219.119.243) (Read error: Connection reset by peer)
[19:28:52] *** Joins: Giovanni (~Giovanni@176.219.119.243)
[19:32:30] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[19:33:42] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[19:34:16] *** pizzaiolo is now known as pizza
[19:35:06] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Remote host closed the connection)
[19:38:42] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Quit: Leaving...)
[19:40:12] *** Quits: enoq (~enoq@194-208-178-35.lampert.tv) (Quit: enoq)
[19:41:09] *** Quits: Giovanni (~Giovanni@176.219.119.243) (Read error: Connection reset by peer)
[19:41:37] *** Joins: veesh (~veesh@89.237.98.198)
[19:42:05] *** Quits: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr) (Quit: WeeChat 3.4)
[19:43:35] *** Joins: Giovanni (~Giovanni@176.219.119.243)
[19:43:45] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[19:45:35] *** Quits: mrwick (~mrwick@user/mrwick) (Ping timeout: 256 seconds)
[19:48:11] *** Quits: krismatrix (~krismatri@c-73-212-30-17.hsd1.md.comcast.net) (Quit: Leaving)
[19:48:20] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Ping timeout: 250 seconds)
[19:50:53] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[19:52:11] *** Joins: Amadiro (~Amadiro@45.154.138.41)
[19:56:05] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 268 seconds)
[19:57:01] *** Joins: carragom (~textual@201.204.94.76)
[20:00:21] *** Joins: kvn_ (~weechat@user/kvn)
[20:01:44] *** Joins: gambl0re (~gambl0re@2607:fea8:a59f:c360::4f67)
[20:02:05] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[20:02:56] <gambl0re> if i restore a backup a table, will it overwrite existing data?
[20:03:59] <ilmari> how was the backup created and how are you (planning to be) restoring it?
[20:06:18] <gambl0re> i created the backup using pgadmin4
[20:06:26] <gambl0re> and restoring the file using \i command
[20:06:55] <gambl0re> \t pathnam/backup_file
[20:07:00] <gambl0re> \i not \t
[20:07:13] <gambl0re> ilmari:
[20:07:59] <ilmari> so that's just an SQL script. that will do what the commands in the script say to do
[20:08:24] <ilmari> which is probably just a bunch of CREATE TABLE (which will error, but not abort the script) and COPY commands
[20:08:42] <ilmari> so that will not overwrite any data, but may fail if you have unique constraints
[20:08:47] <ilmari> look at the file. it's just text
[20:09:09] <gambl0re> i know but its pretty confusing to look at. do i have to delete the table first and then restore it?
[20:09:26] <gambl0re> or can i just restore the table and it will overwrite any existing data and add the new data at the same time?
[20:09:34] <ilmari> what's confusing about a sequence of SQL commands?
[20:09:49] <gambl0re> ...
[20:09:52] <gambl0re> nevermind then
[20:09:54] <gambl0re> thanks
[20:10:26] <ilmari> if it has CREATE TABLE as well as COPY (or INSERT), you start a transaction drop the table (assuming there are no foreign keys) and then import the file and commit the transaction
[20:10:56] *** Joins: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net)
[20:11:00] *** Quits: darkbit (~db@136.158.8.67) (Ping timeout: 252 seconds)
[20:11:53] <gambl0re> what if i added new columns locally and i want to add those new columns to my production table
[20:12:05] <gambl0re> how would i go about doing that?
[20:12:25] <dive> Anybody here using Crunchy Bridge w/ GCP? (yes I know they have support, I'm just curious)
[20:13:04] <ilmari> ALTER TABLE … ADD COLUMN …;?
[20:13:40] <gambl0re> i already created the column locally
[20:14:00] <gambl0re> but i want to update my production tables with the new columns that i've created locally
[20:14:19] <ilmari> run the same ALTER TABLE command that you did locally
[20:14:30] <ilmari> on the production table.
[20:15:05] <gambl0re> i didnt use sql to create the columns, i did it via the pgadmin gui
[20:15:46] <ilmari> ??alter table
[20:15:47] <pg_docbot> https://www.postgresql.org/docs/current/static/sql-altertable.html :: https://www.postgresql.org/docs/current/static/sql-alterforeigntable.html
[20:15:47] <pg_docbot> https://www.postgresql.org/docs/current/static/sql-altermaterializedview.html :: https://www.postgresql.org/docs/current/static/sql-alterview.html
[20:16:13] <mithnae> can you connect to your production with pgadmin?
[20:16:32] <gambl0re> i know about the alter table command. i was just wondering if i can just backup and restore the updated columns
[20:16:39] <gambl0re> it would be much easier
[20:16:52] *** Joins: FreeBDSM (~FreeBDSM@user/freebdsm)
[20:18:23] *** Joins: aLeSD (~aLeSD@91.126.33.194)
[20:18:36] <mithnae> Not without droping  the production table first
[20:19:09] *** Quits: dfee (~dfee@162-227-164-101.lightspeed.sntcca.sbcglobal.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:19:30] <mithnae> logical backup you've taken cannot modify the schema.
[20:19:37] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[20:20:03] <ilmari> have you populated the columns locally with data that you would like to copy to production?
[20:20:22] <ilmari> in some non-programmatic (i.e. repeatable using SQL) manner?
[20:20:45] <gambl0re> mithnae: so is the best way to to just add the columns on the production table just by adding the columns via sql directly?
[20:21:15] <ilmari> yes. note that if you specify a volatile default value it will rewrite the entire table and block all updates while it does so
[20:21:27] <FreeBDSM> hi. I got stuck on a bit of a trivial task: I need to migrate a schema from 1 server to another. On src server it is in DB1/SCHEMA1, but on dst server it needs to be DB2/SCHEMA2. I tried pg_dump, but it produces either non-editable file, or when I use plain text format and use vim to mass replace strings - I get issues upon import (the issue is with unexpected \N (afaiu - that's null, but why psql fails to parse it?)
[20:22:19] <gambl0re> what about postgrse functions? i made a bunch of changes to my pg functions locally that i would now like to use in my production db
[20:22:39] <gambl0re> do i just modify my production pg functions directly?
[20:23:22] <mithnae> gaml0re: you can use CREATE OR REPLACE
[20:23:36] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[20:23:41] <mbanck> gambl0re: pgadmin has (or had?) an sql tab where you could see which command it would run for your schema changes
[20:24:28] *** Joins: berkhan (~berkhan@159.146.41.107)
[20:24:29] <gambl0re> mbanck: pgadmin is pretty clunky to be honest. im trying to find something better
[20:24:52] <mithnae> gambl0re: but remember the signature (number and type of arguments) must be the same — otherwise you must drop and create new.
[20:25:27] *** Quits: Haudegen (~quassel@91.114.49.10) (Quit: Bin weg.)
[20:26:41] <ilmari> mithnae: if the number/type of arguments are different, it's a different function, and callers (e.g. views) have to be updated, then you can drop the old one
[20:27:31] *** Quits: heldchen (~heldchen@user/held) (Ping timeout: 256 seconds)
[20:28:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[20:30:41] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[20:31:30] <gambl0re> thats the thing im worried about
[20:31:54] *** Quits: joepie91 (~joepie91@user/joepie91) (Quit: Bridge terminating on SIGTERM)
[20:32:00] <gambl0re> i made quite a bit of changes to my functions locally and im worried that i'll forget something when i update my functions on my live db
[20:32:16] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[20:33:03] <ilmari> you shuould do your updates locally by writing version-controlled SQL scripts for each change, and then have some kind of managed process for applying the same changes on production after testing
[20:33:15] <ilmari> ??sqitch
[20:33:16] <pg_docbot> http://sqitch.org/ :: https://speakerdeck.com/theory/sane-database-change-management-with-sqitch
[20:33:18] *** Joins: dfee (~dfee@12.207.156.194)
[20:33:21] <ilmari> ^^ is one such tool
[20:33:23] <ilmari> ??migrations
[20:33:23] <pg_docbot> https://wiki.postgresql.org/wiki/Change_management_tools_and_techniques
[20:33:31] *** Joins: joepie91 (~joepie91@user/joepie91)
[20:34:53] <ilmari> ??liquibase
[20:34:54] <pg_docbot> Nothing found
[20:35:08] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 250 seconds)
[20:35:10] <ilmari> https://liquibase.org/ is another alternative
[20:35:17] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[20:36:26] <gambl0re> what exactly is sqlitch?
[20:36:55] <mbanck> check out the pointers above
[20:37:44] <ilmari> gambl0re: read the links
[20:37:58] <ilmari> they are tools for managing database schema changes
[20:38:03] <gambl0re> version control for database i guess
[20:38:45] <gambl0re> is it just me or is this page not loading?
[20:38:47] <gambl0re> https://docs.liquibase.com/workflows/database-setup-tutorials/home.html
[20:39:02] *** Joins: magla (~gelignite@d536591f.access.ecotel.net)
[20:39:03] <gambl0re> not a good sign already
[20:41:21] *** Quits: R2Racoon (~R2Racoon@181.62.52.196) (Ping timeout: 256 seconds)
[20:41:57] <FreeBDSM> so it turns out, the issue was due to a prior error, not about \N not being parseable
[20:42:07] *** Joins: heldchen (~heldchen@user/held)
[20:42:38] <FreeBDSM> how come upon dumping and restoring - postgres first imports data into tables only then creates indexes? shouldn't the order be the opposite?
[20:42:53] <ilmari> gambl0re: that page is indeed blank
[20:43:00] <ilmari> FreeBDSM: no, creating indexes afterwards is significantly faster
[20:43:17] <ilmari> and the indexes end up less fragmented
[20:43:36] *** Joins: csd (~csd@c-73-22-175-211.hsd1.il.comcast.net)
[20:44:57] *** Joins: immibis_ (~hexchat@2a02:3032:a:4f76:b82c:396f:6558:3779)
[20:45:10] <csd> I've got two tables, X and Y. There is a 1:n relationship between a row in X and Y. How can I join X with Y so that the result has only count(X) rows, i.e. such that x is joined to some arbitrary y?
[20:45:52] <FreeBDSM> ilmari, got it, thanks. What about uuids generated by uuid-ossp extension? I see uuids in the dumped .sql, but since I'm importing from a different DB (that had just 1 that schema) to a new DB (with lots of pre-existing schemas) - won't there be any conflicts?
[20:45:55] <Zr40> you just want exactly one y for each x?
[20:46:04] <csd> Zr40: yes
[20:46:51] <ilmari> FreeBDSM: if you import the same table multiple times into different schemas, each table will have the same data
[20:47:01] <Zr40> csd: that could be something like: select ... from x inner join lateral (select ... from y where y.id = x.y_id limit 1) as y
[20:47:16] <Zr40> err, cross, not inner
[20:47:21] <ilmari> where that data came from (a default function, an explicit value, whatever) makes no difference
[20:47:35] *** Joins: held (~heldchen@user/held)
[20:47:35] *** Quits: immibis (~hexchat@62.156.144.218) (Ping timeout: 256 seconds)
[20:47:48] *** Quits: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net) (Quit: Leaving)
[20:47:50] *** Quits: heldchen (~heldchen@user/held) (Ping timeout: 252 seconds)
[20:48:09] *** Quits: aLeSD (~aLeSD@91.126.33.194) (Remote host closed the connection)
[20:48:39] <csd> Zr40: thanks i'll give that a shot
[20:48:51] <FreeBDSM> ilmari, no, I mean my DST DB is quite pre-populated with schemas from other projects and afaiu uuids are per DB, not per schema and thus upon import there could be a collision with a value from some existing value in some existing table from another schema
[20:49:51] *** Quits: zzing (~zzing@d24-57-14-115.home.cgocable.net) (Ping timeout: 256 seconds)
[20:49:56] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Remote host closed the connection)
[20:51:13] *** Quits: Giovanni (~Giovanni@176.219.119.243) (Remote host closed the connection)
[20:51:15] <ilmari> FreeBDSM: UUIDs aren't "per" anything. the various algorightms for generating them are designed to make it _extremely_ unlikely that the same value gets generated twice
[20:51:27] *** Joins: the_lanetly_052 (~the_lanet@185.30.91.206)
[20:51:38] *** Joins: Giovanni (~Giovanni@176.67.166.45)
[20:52:15] <mithnae> FreeBDSM: uuid is just string of bytes, the moment you generate them they are set. if you copy a string of bytes you have two identical strings of bytes. there is no thing magical about it, no mechanism assuring uniqueness
[20:52:46] <mithnae> on any level: DB, schema table.
[20:52:52] <FreeBDSM> got it, thanks, I suppose this shouldn't be a problem then
[20:53:37] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[20:55:54] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[20:55:54] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Read error: Connection reset by peer)
[20:56:23] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[20:56:27] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Remote host closed the connection)
[20:57:13] *** Quits: berkhan (~berkhan@159.146.41.107) (Ping timeout: 256 seconds)
[20:58:17] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 250 seconds)
[20:58:17] *** Quits: Giovanni (~Giovanni@176.67.166.45) (Ping timeout: 250 seconds)
[20:58:58] *** Joins: Giovanni (~Giovanni@176.219.119.243)
[20:59:03] *** Quits: mexen (uid495612@user/mexen) (Quit: Connection closed for inactivity)
[20:59:39] *** Quits: _xor (~xor@dsl-50-5-233-169.fuse.net) (Read error: Connection reset by peer)
[21:00:02] *** Joins: _xor (~xor@dsl-50-5-233-169.fuse.net)
[21:02:14] <FreeBDSM> still, I find it quite sub-optimal to manually mass-edit dumps, is there a better solution for my task?
[21:04:34] <StuckMojo> ??pg_stat_statements
[21:04:34] <pg_docbot> http://www.craigkerstiens.com/2013/01/10/more-on-postgres-performance/ :: https://www.postgresql.org/docs/current/static/pgstatstatements.html
[21:05:24] *** Quits: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de) (Ping timeout: 240 seconds)
[21:07:44] *** Quits: nullheroes (~nullheroe@168.235.66.22) (Ping timeout: 272 seconds)
[21:09:17] *** Joins: nullheroes (~nullheroe@168.235.66.22)
[21:10:28] <StuckMojo> pgbench question: if you choose to run in the mode of # of transactions, rather than time, there's no exact output of how long it took to complete that # ?
[21:10:39] <StuckMojo> looks like the output is still tps based
[21:10:46] <mithnae> FreeBDSM: That tepends on what do you want to achieve. Are those UUIDs used for ref integrity? How the app treats them
[21:11:18] <StuckMojo> i'm asking because i wanted to compare sync vs async replication, for say 1M txns and see how much longer sync takes
[21:11:49] <StuckMojo> i realize i could time() the runs of pgbench...but that seems less precise
[21:11:51] <mithnae> StuckMojo: no, it eill take time neede to complete the number of transactions, since you a re measuring unknown performance, you can only roughy expect how long would it take to complete.
[21:12:49] <StuckMojo> i don't want to expect, i want to measure
[21:13:13] <StuckMojo> "run 1M txns, tell me how long it took"
[21:14:08] <StuckMojo> but i guess i get what the issue is: there's all sorts of variability introduced by many clients / jobs
[21:15:07] <mithnae> StuckMojo: But in both of those scenarios (sync vs async) final tps should be a good measure. esp since the momentary TPS can vary quite a lot. So final, averaged number is better.
[21:15:23] *** Quits: Klinda (~superleag@user/klinda) (Quit: Konversation terminated!)
[21:15:44] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[21:16:27] *** Joins: econo (uid147250@user/econo)
[21:16:33] <StuckMojo> well, of course i'd run it mulitple times and average the result, same as i normally do with time-based pgbench runs
[21:16:34] <mithnae> StuckMojo: also, pre-warm the tables and give the benchmark enought time. 10 minutes should be ok for moderate datasets
[21:16:59] <mithnae> Then just one sufficiently long run should be enough.
[21:18:32] <mithnae> but observe variability, esp in your usecases. Since final average performance might not mean much for user hitting a rough spot and wainting for transaction to complete for 100s of seconds.
[21:18:34] <StuckMojo> this is for a client, they're going to want more than one run
[21:19:19] *** Quits: Sellerie (~Sellerie@user/sellerie) (Ping timeout: 256 seconds)
[21:19:24] <StuckMojo> the question they want answered is: how much of a performance penelty am i going to pay for the "auto-failover w/ sync rep" rollout you just announced"
[21:20:53] *** Joins: Sellerie (~Sellerie@user/sellerie)
[21:21:04] *** Quits: v3ga (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com) (Ping timeout: 250 seconds)
[21:21:40] <mithnae> StuckMojo: if you want a comprehensive report you might want to have a look at https://github.com/gregs1104/pgbench-tools
[21:22:01] *** Joins: v3ga (~v3ga@cpe-98-25-21-91.sc.res.rr.com)
[21:22:23] <StuckMojo> i've already got my own tool written, but it does time based loops
[21:22:37] <StuckMojo> in this case i was thinking #txn based might be better
[21:22:56] <StuckMojo> but tps will be fine
[21:23:00] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 240 seconds)
[21:23:03] <StuckMojo> mithnae: thanks
[21:23:17] <mithnae> StuckMojo: :-)
[21:27:08] *** Quits: dfee (~dfee@12.207.156.194) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:27:38] *** Quits: immibis_ (~hexchat@2a02:3032:a:4f76:b82c:396f:6558:3779) (Remote host closed the connection)
[21:28:10] *** Joins: immibis_ (~hexchat@2a02:3032:a:4f76:b82c:396f:6558:3779)
[21:28:18] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[21:28:54] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[21:30:18] *** Joins: MrZeus__ (~MrZeus@194.37.96.103)
[21:31:32] *** Joins: dfee (~dfee@12.207.156.194)
[21:31:37] *** Quits: RLa (~RLa@85.253.187.184.cable.starman.ee) (Quit: Client closed)
[21:31:44] *** Quits: immibis_ (~hexchat@2a02:3032:a:4f76:b82c:396f:6558:3779) (Read error: Connection reset by peer)
[21:31:58] *** Joins: immibis_ (~hexchat@2a02:3032:a:4f76:b82c:396f:6558:3779)
[21:35:42] *** Joins: Sellerie3 (~Sellerie@user/sellerie)
[21:37:06] *** Quits: _xor (~xor@dsl-50-5-233-169.fuse.net) (Read error: Connection reset by peer)
[21:37:27] *** Quits: Sellerie (~Sellerie@user/sellerie) (Ping timeout: 256 seconds)
[21:37:27] *** Sellerie3 is now known as Sellerie
[21:38:08] *** Quits: op2 (~op2@user/op2) (Ping timeout: 272 seconds)
[21:38:41] *** Joins: Intelo (~Intelo@user/Intelo)
[21:38:43] <Intelo> Hi, is database date time different than system/OS date time? I am talking about mysql and postgres in specific. I am syncing data from mysql to pg on remote servers based on datetime of row updated
[21:39:41] <ilmari> postgres gets it timestamps using gettimeofday(), but now() (and current_timestamp) is the start time of the transaction
[21:42:13] <Zr40> postgres doesn't have a built-in notion of when a row was last updated
[21:42:22] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[21:42:35] <Zr40> you can of course make a trigger that does this
[21:42:35] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[21:42:40] *** Joins: _xor (~xor@dsl-50-5-233-169.fuse.net)
[21:43:16] *** Joins: Rashad (~textual@2a01:9700:129a:7b00:b3:703e:c4ef:6337)
[21:44:26] <Intelo> ilmari Zr40 so the OS time can be different from db time?
[21:44:37] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[21:45:20] <ilmari> Intelo: the time returned by now() is the OS time at the point when the transaction started
[21:46:28] <Intelo> ilmari ok and the db can have a different timezone than OS?
[21:46:50] <ilmari> if you're using timestamptz (which you should) the time zone is only used for display
[21:47:01] <Intelo> ilmari so for example, my OS would have PKT and db could have UTC?
[21:47:42] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 268 seconds)
[21:48:03] *** Joins: rsrx (~rsrx@79-101-167-192.dynamic.isp.telekom.rs)
[21:48:11] <Zr40> this is going in a direction that only matters when you're already doing things wrong
[21:48:29] <Zr40> please don't guess at possible causes of your actual problem. Describe your actual problem instead
[21:48:50] *** Joins: n0fun (~jack@i577BC075.versanet.de)
[21:49:08] <Intelo> ilmari "only for display"? means?
[21:49:23] <Intelo> Zr40 I am syncing data from mysql to pg on remote servers based on datetime of row updated
[21:51:15] <ilmari> Intelo: timestamptz values are returned to the client with the timezone offset specified by the TimeZone configuration setting
[21:51:41] *** Joins: concrete-houses (~g@209.6.150.53)
[21:51:42] <Intelo> ilmari ok..
[21:51:49] <Intelo> ilmari but I have same timezone UTC and GMT (both are same) in mysql and postgres respectively but I mostly get a difference of 40 seconds or 1 minute when i query now() / timestamp from both databases. The db time and system time on both servers is  same. Why is that?
[21:51:50] <Intelo> 220 people here
[21:51:50] <Intelo> Filter users in channel
[21:51:51] <Intelo> [sr]
[21:51:51] <Intelo> acidsys
[21:51:52] <Intelo> adas
[21:51:52] <Intelo> aesthetik
[21:51:53] <Intelo> agrosant
[21:51:53] <Intelo> alex88
[21:51:54] <Intelo> Alexer
[21:51:54] <Intelo> AllenJB
[21:51:55] <Intelo> amosbird
[21:51:55] <Intelo> arash
[21:51:56] <Intelo> Avago_Broadqual
[21:51:56] <Intelo> Azundris
[21:51:57] <Intelo> benl90
[21:51:57] <Intelo> Bitflux
[21:51:58] <Intelo> BLZbubba
[21:52:16] <Intelo> ilmari but t I have same timezone UTC and GMT (both are same) in mysql and postgres respectively but I mostly get a difference of 40 seconds or 1 minute when i query now() / timestamp from both databases. The db time and system time on both servers is  same. Why is that?
[21:52:33] *** Quits: rsrx (~rsrx@79-101-167-192.dynamic.isp.telekom.rs) (Client Quit)
[21:53:39] <ilmari> do you have autocommit off, or something else implicitly starting transactions for you?
[21:54:01] <ilmari> try `rollback; begin; select now(); rollback;`
[21:54:10] *** Quits: vlado (~vladoski@93-47-225-67.ip114.fastwebnet.it) (Remote host closed the connection)
[21:54:23] <Intelo> even though, there should not be a 40+ second delay
[21:55:03] *** Joins: immibis (~hexchat@2a02:3032:a:4f76:b82c:396f:6558:3779)
[21:55:07] <concrete-houses> Cloud engineer is saying any db objects created should be usible by main app user and every other user......  I see a page alter default priviledges and public  but how to pros handle this? I am like why even have permission ssytem
[21:55:13] *** Quits: immibis_ (~hexchat@2a02:3032:a:4f76:b82c:396f:6558:3779) (Read error: Connection reset by peer)
[21:55:18] <Intelo> ilmari correct?
[21:55:38] <concrete-houses> its because another team has users and they run cleanup scripts as thier own user but should not have the main app user login
[21:55:58] <ilmari> Intelo: there should not, no.
[21:55:59] *** jjhoo_ is now known as jjhoo
[21:56:44] *** Joins: zzing (~zzing@d24-57-14-115.home.cgocable.net)
[21:57:37] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Ping timeout: 240 seconds)
[21:57:38] *** Joins: funhouse (~funhouse@user/funhouse)
[21:57:52] <ilmari> Intelo: try this: rollback; begin; create temporary table datetest (value text) on commit drop; copy datetest from program 'date'; select now(), value from datetest;  rollback;`
[21:58:28] <Intelo> ok
[21:58:29] <ilmari> as a single line in psql
[22:00:18] *** Quits: _xor (~xor@dsl-50-5-233-169.fuse.net) (Read error: Connection reset by peer)
[22:03:40] *** Joins: zmt00 (~zmt00@user/zmt00)
[22:04:42] *** Joins: _xor (~xor@dsl-50-5-233-169.fuse.net)
[22:05:33] *** Quits: zzing (~zzing@d24-57-14-115.home.cgocable.net) (Ping timeout: 256 seconds)
[22:08:05] *** Quits: darutoko (~darutoko@37.21.208.231) (Quit: Leaving)
[22:11:29] <sobel> concrete-houses: the permission system is mutable because policies vary widely. it's just a fact of organizations. not sure what you're realling getting at.
[22:12:21] *** Joins: op2 (~op2@user/op2)
[22:13:09] <sobel> i wouldn't get to hung up on who has what login, so much as who has what privileges. most apps do not get very privileged logins.
[22:13:50] <sobel> engineer logins are frequently way more privileged than apps, because trust models typically prioritize humans over apps
[22:14:23] *** Quits: dfee (~dfee@12.207.156.194) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:18:25] *** Joins: dfee (~dfee@12.207.156.194)
[22:18:37] *** Quits: the_lanetly_052 (~the_lanet@185.30.91.206) (Ping timeout: 240 seconds)
[22:19:09] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 252 seconds)
[22:19:19] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[22:19:31] *** Quits: Rashad (~textual@2a01:9700:129a:7b00:b3:703e:c4ef:6337) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[22:19:46] *** Quits: dfee (~dfee@12.207.156.194) (Client Quit)
[22:20:36] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[22:22:59] *** Quits: immibis (~hexchat@2a02:3032:a:4f76:b82c:396f:6558:3779) (Quit: HexChat)
[22:24:37] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[22:32:56] *** Joins: jazzy (~jaziz@user/jaziz)
[22:34:36] *** Joins: dfee (~dfee@12.207.156.194)
[22:34:40] *** Quits: dfee (~dfee@12.207.156.194) (Client Quit)
[22:41:02] *** Joins: MrZeus_ (~MrZeus@89.238.143.231)
[22:44:12] *** Quits: MrZeus__ (~MrZeus@194.37.96.103) (Ping timeout: 240 seconds)
[22:51:12] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[22:53:03] *** Joins: lenarhoyt (~lenarhoyt@p2e5cf9dd.dip0.t-ipconnect.de)
[22:54:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[22:56:34] *** Joins: lilgopher (~ubuntu@2601:241:8000:38f0::1bb1)
[22:57:39] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[22:58:28] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:59:46] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[23:07:32] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[23:10:22] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[23:12:11] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 268 seconds)
[23:12:26] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 250 seconds)
[23:15:19] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[23:16:23] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[23:18:11] *** Joins: zmt01 (~zmt00@user/zmt00)
[23:20:12] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 252 seconds)
[23:23:34] <csd> is there any way to do a table-wide update without locking the table to writes?
[23:25:26] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[23:25:46] <n0fun> csd: What are you trying to do exactly? Each row can only be modified by one transaction at each moment.
[23:26:03] *** Joins: intray (~intray@user/intray)
[23:26:14] *** Joins: Atque (~Atque@user/atque)
[23:26:15] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Ping timeout: 240 seconds)
[23:27:03] <n0fun> You need an atomic update of the entire table while setting columns to complex expressions?
[23:27:15] <fcr> csd: to update a given row it needs to be locked, so if you update all the rows then it will lock all the rows
[23:27:34] *** Joins: monstar (~monstar@gateway/tor-sasl/monstar)
[23:27:57] <csd> n0fun: i have a query of the form `update T set field = foo.field from ... join ... as foo where T.pk = foo.pk`, and I want to minimize how many rows get locked as the query runs
[23:28:25] <csd> it's going to involve updating each row in the table
[23:28:42] <fcr> how about doing it by batches in multiple transactions?
[23:29:46] *** Quits: csd (~csd@c-73-22-175-211.hsd1.il.comcast.net) (Quit: Client closed)
[23:29:57] *** Joins: csd (~csd@c-73-22-175-211.hsd1.il.comcast.net)
[23:30:05] *** Quits: jrjsmrtn_ (~jrjsmrtn@ip-83-134-41-224.dsl.scarlet.be) (Quit: ZNC 1.8.2 - https://znc.in)
[23:30:10] <csd> fcr: debating between that vs. creating a temporary table
[23:30:16] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::4f67) (Quit: WeeChat 3.4)
[23:30:25] <csd> assuming that there's no other better way
[23:31:08] <johto> not sure how a temporary table would help you?
[23:31:10] *** Joins: mauz (~mauz@2a01:e0a:994:7ed0:d42e:54ce:ab14:af5e)
[23:32:16] *** hernan604 is now known as hernan
[23:32:16] <csd> johto: new inserts don't need to be updated, so i would add a trigger to add new writes to the temporary table, update the temporary table, then atomically delete the old table and rename the temporary one
[23:32:55] *** Joins: jrjsmrtn (~jrjsmrtn@ip-83-134-41-224.dsl.scarlet.be)
[23:33:03] <johto> OK, so more like a shadow table rather than a temporary one
[23:33:12] <csd> I don't know the term but I guess
[23:33:30] *** hernan is now known as hernan604
[23:33:34] <csd> the downside of batching as i see it is it's on me to guarantee that each batch isn't too large, which would involve more manual work than i might want
[23:33:52] <csd> i.e. guessing based upon `creationDate` ranges or something
[23:34:01] <johto> temporary tables are literally temporary; they go away once the session which created them disconnects
[23:34:18] <johto> batching is the most common way of doing this IME
[23:34:42] <csd> and manually guestimating the batching ranges?
[23:34:43] <johto> but rebuilding the table is not unheard of. you'll have to mind foreign keys, though
[23:35:02] <johto> ¯\_(ツ)_/¯
[23:35:07] <johto> pick something, see if it works, adjust appropriately
[23:35:10] <csd> yeah
[23:35:12] <csd> thx
[23:36:35] *** Quits: shiranaihito_ (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[23:37:10] *** Joins: SwK (~SwK_@45.18.197.35)
[23:37:10] *** Quits: SwK (~SwK_@45.18.197.35) (Changing host)
[23:37:10] *** Joins: SwK (~SwK_@user/swk)
[23:39:23] *** Quits: lenarhoyt (~lenarhoyt@p2e5cf9dd.dip0.t-ipconnect.de) (Quit: Client closed)
[23:41:48] *** Joins: funhouse (~funhouse@user/funhouse)
[23:44:37] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[23:44:57] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 256 seconds)
[23:47:51] *** Quits: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[23:49:18] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[23:51:33] *** Quits: jrjsmrtn (~jrjsmrtn@ip-83-134-41-224.dsl.scarlet.be) (Ping timeout: 252 seconds)
[23:52:45] *** Parts: fizzizist1 (~fizzizist@72.53.248.15) (WeeChat 2.8)
[23:52:54] *** Nekomander is now known as BadAdviceCat
[23:53:44] *** Quits: fcr (~fran@r186-48-83-127.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[23:55:03] *** Joins: jrjsmrtn (~jrjsmrtn@ip-83-134-41-224.dsl.scarlet.be)
[23:56:35] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[23:58:30] *** Joins: davidfetter_work (~davidfett@c-73-252-148-184.hsd1.ca.comcast.net)
[23:58:59] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
