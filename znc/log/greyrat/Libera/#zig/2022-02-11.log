[00:01:30] *** Quits: phaleth (~user@user/phaleth) (Quit: WeeChat 2.8)
[00:04:23] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Quit: Leaving...)
[00:18:16] *** Quits: wavemode (~wavemode@2601:241:0:fc90:2892:d0:a7ec:bc11) (Quit: Client closed)
[00:21:35] *** Joins: wavemode (~wavemode@2601:241:0:fc90:12bc:6a75:8601:ea04)
[00:40:17] *** Quits: ravella (~ravella@user/ryanavella) (Ping timeout: 240 seconds)
[00:40:50] *** Joins: neurocyte0917090 (~neurocyte@user/neurocyte)
[00:44:44] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[00:50:30] *** Quits: Guest4576 (~Guest45@94-255-196-136.cust.bredband2.com) (Quit: Client closed)
[00:50:52] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:f1e5:db7b:1d69:5e00)
[01:09:32] *** Quits: notapenguin (~ryu@2804:14d:5685:96c7::4) (Quit: WeeChat 3.4)
[01:11:36] *** Joins: cols (~cols@artemis.spensley.net)
[01:19:36] *** Joins: axeldevel (~axeldevel@cpc76144-clif11-2-0-cust733.12-4.cable.virginm.net)
[01:24:17] *** Quits: NickH (~hastings@aj158235.dynamic.ppp.asahi-net.or.jp) (Ping timeout: 240 seconds)
[01:30:17] *** Joins: NickH (~hastings@aj158235.dynamic.ppp.asahi-net.or.jp)
[01:36:06] *** Quits: NickH (~hastings@aj158235.dynamic.ppp.asahi-net.or.jp) (Ping timeout: 250 seconds)
[01:46:42] *** Joins: NickH (~hastings@aj158235.dynamic.ppp.asahi-net.or.jp)
[01:53:51] *** Quits: wavemode (~wavemode@2601:241:0:fc90:12bc:6a75:8601:ea04) (Quit: Client closed)
[01:55:19] *** Joins: wavemode (~wavemode@2601:241:0:fc90:12bc:6a75:8601:ea04)
[01:55:54] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:f1e5:db7b:1d69:5e00) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:58:51] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:f1e5:db7b:1d69:5e00)
[02:06:26] *** Joins: SebastianKeller (~Sebastian@ip1f126a97.dynamic.kabel-deutschland.de)
[02:07:31] <SebastianKeller> Is there a flag for `zig test` to ignore the cache and re run all the tests?
[02:08:22] <andrewrk> it will always re-run all the tests
[02:08:50] <SebastianKeller> alright, thank you! 
[02:14:17] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:655c:94b:918d:9e34) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[02:15:59] *** Quits: wavemode (~wavemode@2601:241:0:fc90:12bc:6a75:8601:ea04) (Quit: Client closed)
[02:21:21] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:f1e5:db7b:1d69:5e00) (Ping timeout: 250 seconds)
[02:25:34] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[02:26:07] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[02:30:59] *** Joins: wavemode (~wavemode@2601:241:0:fc90:12bc:6a75:8601:ea04)
[02:31:04] *** Quits: jemius (~imperator@200116b82d43190009627f64cbfd8911.dip.versatel-1u1.de) (Quit: Leaving)
[02:31:37] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:e5ab:a286:27f1:6ff2)
[02:36:17] *** Joins: ravella (~ravella@user/ryanavella)
[02:38:53] *** Quits: axeldevel (~axeldevel@cpc76144-clif11-2-0-cust733.12-4.cable.virginm.net) (Quit: Client closed)
[02:48:16] *** Quits: xackus (~xackus@185.15.0.3) (Ping timeout: 245 seconds)
[03:03:54] *** Quits: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se) (Ping timeout: 260 seconds)
[03:14:05] *** Joins: rgrinberg (~textual@187.223.115.137)
[03:14:16] *** Quits: rgrinberg (~textual@187.223.115.137) (Read error: Connection reset by peer)
[03:23:34] *** Quits: frmdstryr (~jrm@172.58.206.207) (Ping timeout: 250 seconds)
[03:30:44] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[03:31:41] *** Joins: frmdstryr (~jrm@172.58.203.10)
[03:31:51] *** Quits: Arnavion (arnavion@user/arnavion) (Ping timeout: 256 seconds)
[03:31:57] *** Quits: ur5us (~ur5us@2406:e002:6d58:d101:23b2:b738:8a21:f7ed) (Ping timeout: 240 seconds)
[03:32:10] *** Joins: Arnavion (arnavion@user/arnavion)
[04:12:19] *** Quits: factor (~factor@c-73-68-120-166.hsd1.ma.comcast.net) (Read error: Connection reset by peer)
[04:17:42] *** Joins: factor (~factor@c-73-68-120-166.hsd1.ma.comcast.net)
[04:20:20] *** Quits: arkurious (~arkurious@user/arkurious) (Quit: Leaving)
[04:23:32] *** Quits: SebastianKeller (~Sebastian@ip1f126a97.dynamic.kabel-deutschland.de) (Quit: leaving)
[04:23:39] *** Quits: kron (~weechat@user/qaph) (Remote host closed the connection)
[04:23:57] *** Joins: kron (~weechat@user/qaph)
[04:25:06] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:e5ab:a286:27f1:6ff2) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[04:30:10] *** Joins: Guest37 (~Guest37@2001:470:b509:1c3:6991:81dc:cd11:7850)
[04:38:11] *** Quits: Guest37 (~Guest37@2001:470:b509:1c3:6991:81dc:cd11:7850) (Quit: Client closed)
[04:38:31] *** Joins: AGuest37 (~AGuest37@2001:470:b509:1c3:6991:81dc:cd11:7850)
[04:39:44] <AGuest37> Hi. I'm trying to iterate over C's extern char* array[]. I start by @ptrCasting it to [*:null]?[*:0] but I don't get how to iterate over it using "for" (type '[*:null]?[*:0]const u8' does not support field access); while (array[i] != null) : (i += 1) works fine. Which type should I cast c.array?
[04:41:47] *** Quits: NickH (~hastings@aj158235.dynamic.ppp.asahi-net.or.jp) (Remote host closed the connection)
[04:44:08] *** Joins: ur5us (~ur5us@2406:e002:6d58:d101:2b70:9bf7:d290:b791)
[04:45:38] <andrewrk> AGuest37, while (array[i]) |elem| : (i += 1) { ... }
[04:45:41] <andrewrk> then you can use elem inside the loop
[04:47:32] <AGuest37> Then I misunderstand how sentinel pointers work. Shouldn't [*:null].len work like C's strlen by implicitly walking over the array to find the sentinel value?
[04:48:32] <tsmanner> AGuest37 if you want that behavior I think you have to use `std.mem.sliceTo` to get zig to look up the sentinel and produce a slice with the len
[04:48:43] <tsmanner> https://github.com/ziglang/zig/blob/master/lib/std/mem.zig#L730
[04:50:09] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Quit: WeeChat 3.4)
[04:51:23] <AGuest37> tsmanner, thank you, it is exactly I was looking for.
[04:52:30] <tsmanner> Glad I could help!
[05:05:42] *** Joins: NickH (~hastings@aj158235.dynamic.ppp.asahi-net.or.jp)
[05:06:13] *** Quits: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se) (Ping timeout: 240 seconds)
[05:10:53] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[05:16:51] *** Quits: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se) (Ping timeout: 250 seconds)
[05:17:31] *** Quits: nyah (~nyah@05453449.skybroadband.com) (Quit: leaving)
[05:22:12] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[05:27:35] *** Quits: keyehzh (~keyehzh@user/keyehzh) (Remote host closed the connection)
[05:33:57] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:a9d7:c052:4356:1941)
[05:39:17] *** Quits: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se) (Ping timeout: 240 seconds)
[05:39:17] *** Quits: neurocyte0917090 (~neurocyte@user/neurocyte) (Ping timeout: 240 seconds)
[05:49:36] *** Quits: notzmv (~zmv@user/notzmv) (Ping timeout: 268 seconds)
[05:51:51] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[05:55:27] *** Quits: AGuest37 (~AGuest37@2001:470:b509:1c3:6991:81dc:cd11:7850) (Ping timeout: 256 seconds)
[06:01:07] *** Joins: livoreno (~livoreno@user/notzmv)
[06:10:23] *** Quits: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se) (Ping timeout: 250 seconds)
[06:16:12] *** Joins: notzmv (~zmv@user/notzmv)
[06:18:18] *** Quits: meinside (uid24933@id-24933.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[06:55:49] *** Quits: frmdstryr (~jrm@172.58.203.10) (Ping timeout: 240 seconds)
[07:13:10] *** Joins: dyeplexer (~dyeplexer@user/dyeplexer)
[07:33:14] *** Joins: frmdstryr (~jrm@172.58.203.10)
[07:39:29] *** Quits: ur5us (~ur5us@2406:e002:6d58:d101:2b70:9bf7:d290:b791) (Ping timeout: 256 seconds)
[07:59:46] *** Joins: factor6 (~factor@c-73-68-120-166.hsd1.ma.comcast.net)
[08:03:01] *** Quits: factor (~factor@c-73-68-120-166.hsd1.ma.comcast.net) (Ping timeout: 240 seconds)
[08:03:01] *** factor6 is now known as factor
[08:14:04] *** Quits: factor (~factor@c-73-68-120-166.hsd1.ma.comcast.net) (Read error: Connection reset by peer)
[08:14:56] *** Joins: MadcapJake (~MadcapJak@2600:6c44:257f:ade8::1a29)
[08:30:28] *** Joins: ur5us (~ur5us@2406:e002:6d58:d101:23b2:b738:8a21:f7ed)
[08:39:17] *** Quits: codingcampbell (~codingcam@user/codingcampbell) (Ping timeout: 240 seconds)
[08:39:45] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[08:42:17] *** Quits: ur5us (~ur5us@2406:e002:6d58:d101:23b2:b738:8a21:f7ed) (Ping timeout: 240 seconds)
[08:45:47] *** Quits: frmdstryr (~jrm@172.58.203.10) (Ping timeout: 256 seconds)
[08:51:54] *** Quits: mikezackles (~mikezackl@gateway/tor-sasl/mikezackles) (Ping timeout: 276 seconds)
[09:11:07] *** Joins: ur5us (~ur5us@2406:e002:6d58:d101:23b2:b738:8a21:f7ed)
[09:18:57] *** Joins: ajs_ (~ajs@40.130.206.23)
[09:23:48] *** Joins: Guest45 (~Guest45@94-255-196-136.cust.bredband2.com)
[09:24:16] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:a9d7:c052:4356:1941) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:33:58] *** Quits: MadcapJake (~MadcapJak@2600:6c44:257f:ade8::1a29) (Quit: MadcapJake)
[09:34:23] *** Joins: MadcapJake (~MadcapJak@2600:6c44:257f:ade8::1a29)
[09:48:55] *** Quits: tomku (~tomku@user/tomku) (Ping timeout: 256 seconds)
[09:55:36] *** Joins: tomku (~tomku@user/tomku)
[09:55:41] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Remote host closed the connection)
[09:56:22] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[09:57:11] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Remote host closed the connection)
[09:57:39] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[09:58:30] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Max SendQ exceeded)
[10:16:02] *** Quits: Guest45 (~Guest45@94-255-196-136.cust.bredband2.com) (Quit: Guest45)
[10:16:13] *** Joins: Guest45999 (~Guest4599@94-255-196-136.cust.bredband2.com)
[10:27:25] *** Quits: ajs_ (~ajs@40.130.206.23) (Ping timeout: 240 seconds)
[10:29:22] *** Joins: ehammarstrom_ (~ehammarst@62-20-203-39-no182.tbcn.telia.com)
[10:30:18] *** Joins: nektro (~meg@71-34-85-231.ptld.qwest.net)
[11:07:11] *** Joins: jemius (~imperator@200116b82d84c90044f28f95290de34c.dip.versatel-1u1.de)
[11:26:44] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[11:28:51] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[11:34:35] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[11:45:57] *** Quits: ur5us (~ur5us@2406:e002:6d58:d101:23b2:b738:8a21:f7ed) (Ping timeout: 240 seconds)
[11:50:45] *** Quits: Arnavion (arnavion@user/arnavion) (Ping timeout: 256 seconds)
[11:51:18] *** Joins: Arnavion (arnavion@user/arnavion)
[11:53:55] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[12:08:19] *** Quits: dyeplexer (~dyeplexer@user/dyeplexer) (Ping timeout: 250 seconds)
[12:17:25] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[12:51:44] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:e5ab:a286:27f1:6ff2)
[13:15:29] *** Joins: MajorBiscuit (~MajorBisc@wlan-145-94-218-48.wlan.tudelft.nl)
[14:02:35] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:e5ab:a286:27f1:6ff2) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[14:05:38] *** Quits: nektro (~meg@71-34-85-231.ptld.qwest.net) (Quit: WeeChat 3.1)
[14:06:09] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[14:08:01] *** Joins: qaph (~weechat@user/qaph)
[14:08:35] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Remote host closed the connection)
[14:10:13] *** Quits: kron (~weechat@user/qaph) (Ping timeout: 240 seconds)
[14:10:15] *** qaph is now known as kron
[14:11:03] *** Quits: MajorBiscuit (~MajorBisc@wlan-145-94-218-48.wlan.tudelft.nl) (Ping timeout: 256 seconds)
[14:11:32] *** Joins: MajorBiscuit (~MajorBisc@wlan-145-94-218-48.wlan.tudelft.nl)
[14:21:21] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[14:29:48] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:e5ab:a286:27f1:6ff2)
[14:35:25] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[14:55:27] *** Joins: notapenguin (~ryu@2804:14d:5685:96c7:8b7a:60f:54fc:4777)
[14:59:07] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[15:04:40] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[15:11:25] *** Quits: kron (~weechat@user/qaph) (Remote host closed the connection)
[15:11:43] *** Joins: kron (~weechat@user/qaph)
[15:30:45] *** Quits: MadcapJake (~MadcapJak@2600:6c44:257f:ade8::1a29) (Quit: MadcapJake)
[15:35:29] *** Quits: Guest45999 (~Guest4599@94-255-196-136.cust.bredband2.com) (Quit: Client closed)
[15:42:31] *** Quits: wavemode (~wavemode@2601:241:0:fc90:12bc:6a75:8601:ea04) (Ping timeout: 256 seconds)
[15:57:35] *** Joins: nyah (~nyah@05453449.skybroadband.com)
[16:04:33] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[16:12:37] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[16:22:17] *** Quits: jemius (~imperator@200116b82d84c90044f28f95290de34c.dip.versatel-1u1.de) (Quit: Leaving)
[16:23:10] *** Joins: keyehzh (~keyehzh@user/keyehzh)
[16:53:00] *** Joins: mts001 (~mts001@pool-100-4-73-252.nrflva.fios.verizon.net)
[16:54:02] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[16:56:14] *** Joins: arkurious (~arkurious@user/arkurious)
[16:58:56] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[17:10:21] *** Joins: jemius (~imperator@200116b82d84c90044f28f95290de34c.dip.versatel-1u1.de)
[17:11:58] *** Joins: frmdstryr (~jrm@172.58.203.10)
[17:14:52] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:e5ab:a286:27f1:6ff2) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[17:16:56] *** Quits: frmdstryr (~jrm@172.58.203.10) (Remote host closed the connection)
[17:30:43] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[17:33:06] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[17:36:03] *** Joins: frmdstryr (~jrm@172.58.203.10)
[17:48:57] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[17:53:19] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Remote host closed the connection)
[17:55:38] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[17:58:53] *** Quits: ehammarstrom_ (~ehammarst@62-20-203-39-no182.tbcn.telia.com) (Ping timeout: 250 seconds)
[18:04:17] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[18:08:10] *** Quits: Techcable (~Techcable@168.235.93.147) (Remote host closed the connection)
[18:08:18] *** Joins: Techcable (~Techcable@168.235.93.147)
[18:16:45] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[18:17:25] *** Joins: factor6 (~factor@c-73-68-120-166.hsd1.ma.comcast.net)
[18:24:11] *** Quits: notapenguin (~ryu@2804:14d:5685:96c7:8b7a:60f:54fc:4777) (Quit: WeeChat 3.4)
[18:24:51] *** factor6 is now known as factor
[18:25:06] *** Joins: notapenguin (~ryu@2804:14d:5685:96c7:8b7a:60f:54fc:4777)
[18:25:06] *** Quits: factor (~factor@c-73-68-120-166.hsd1.ma.comcast.net) (Quit: The Lounge - https://thelounge.chat)
[18:25:36] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:e5ab:a286:27f1:6ff2)
[18:25:42] *** Joins: factor (~factor@c-73-68-120-166.hsd1.ma.comcast.net)
[18:29:52] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:e5ab:a286:27f1:6ff2) (Client Quit)
[18:39:00] *** Joins: neurocyte0917090 (~neurocyte@user/neurocyte)
[18:41:15] *** Quits: neurocyte0917090 (~neurocyte@user/neurocyte) (Read error: Connection reset by peer)
[18:42:05] *** Joins: neurocyte0917090 (~neurocyte@user/neurocyte)
[18:48:13] *** Quits: neurocyte0917090 (~neurocyte@user/neurocyte) (Ping timeout: 240 seconds)
[18:51:25] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[19:10:42] *** Joins: mikezackles (~mikezackl@gateway/tor-sasl/mikezackles)
[19:12:11] *** Quits: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se) (Ping timeout: 256 seconds)
[19:40:12] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[19:54:45] <marler8997_> on Windows, have we considered calling the syscalls directly instead of going through ntdll?
[20:24:18] *** Quits: MajorBiscuit (~MajorBisc@wlan-145-94-218-48.wlan.tudelft.nl) (Quit: WeeChat 3.4)
[20:27:03] *** Quits: mikezackles (~mikezackl@gateway/tor-sasl/mikezackles) (Remote host closed the connection)
[20:28:37] <marler8997_> cr1901 has gotten his zig-cache into an invalid state. The build_runner cache directory contains a "build.pdb" and "build.obj" but no "build.exe", so Zig tries to execute "build.exe" and it fails
[20:28:52] *** Joins: mikezackles (~mikezackl@gateway/tor-sasl/mikezackles)
[20:29:22] <marler8997_> However, I'm a bit surprised by this, I would have thought that Zig would have build build.* into a tmp directory, then renamed that directory, in which case how could it be missing build.exe?  Is my understanding correct or does Zig actually generate the build binaries in place?
[20:30:28] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[20:30:51] *** Quits: jemius (~imperator@200116b82d84c90044f28f95290de34c.dip.versatel-1u1.de) (Quit: Leaving)
[20:33:13] *** Joins: gwizon (~gwizon@72.80.10.119)
[20:36:13] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:3400:dfe7:fd4b:441c)
[20:38:49] <marler8997_> I created an issue here for now: https://github.com/ziglang/zig/issues/10865
[20:49:52] *** Quits: gwizon (~gwizon@72.80.10.119) (Quit: Lost terminal)
[21:07:03] *** Joins: MadcapJake (~MadcapJak@2600:6c44:257f:ade8::1a29)
[21:10:33] *** Joins: rv1sr (~rv1sr@user/rv1sr)
[21:17:25] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:3400:dfe7:fd4b:441c) (Ping timeout: 240 seconds)
[21:27:13] *** Joins: Guest3539 (~Guest35@2E8B32E9.catv.pool.telekom.hu)
[21:32:49] *** Quits: Guest3539 (~Guest35@2E8B32E9.catv.pool.telekom.hu) (Quit: Client closed)
[21:37:33] *** Joins: phaleth (~user@user/phaleth)
[21:40:25] *** Quits: MadcapJake (~MadcapJak@2600:6c44:257f:ade8::1a29) (Quit: MadcapJake)
[21:50:46] *** Quits: notzmv (~zmv@user/notzmv) (Ping timeout: 245 seconds)
[21:51:22] *** Joins: ur5us (~ur5us@2406:e002:6d58:d101:23b2:b738:8a21:f7ed)
[22:00:50] *** Quits: mikezackles (~mikezackl@gateway/tor-sasl/mikezackles) (Remote host closed the connection)
[22:01:14] *** Joins: mikezackles (~mikezackl@gateway/tor-sasl/mikezackles)
[22:05:07] *** Quits: tsmanner (~tsmanner@pool-100-40-199-193.pghkny.fios.verizon.net) (Quit: tsmanner)
[22:20:19] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:e5ab:a286:27f1:6ff2)
[22:25:45] *** Quits: Sawzall (~Sawzall@96-82-249-149-static.hfc.comcastbusiness.net) (Read error: Connection reset by peer)
[22:26:36] *** Quits: ur5us (~ur5us@2406:e002:6d58:d101:23b2:b738:8a21:f7ed) (Remote host closed the connection)
[22:26:51] *** Joins: ur5us (~ur5us@2406:e002:6d58:d101:23b2:b738:8a21:f7ed)
[22:27:26] *** Joins: Sawzall (~Sawzall@96-82-249-149-static.hfc.comcastbusiness.net)
[22:32:21] *** Joins: notzmv (~zmv@user/notzmv)
[22:36:22] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[22:38:38] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:e5ab:a286:27f1:6ff2) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[22:47:22] *** Quits: ofelas (~ofelas@ti0071a400-5198.bb.online.no) (Remote host closed the connection)
[22:50:00] *** Joins: MadcapJake (~MadcapJak@2600:6c44:257f:ade8::1a29)
[22:53:26] <marler8997_> filesystems should never allow non-atomic changes, when you're writing to a file, it should be private to your process until you close it
[22:53:57] <tleydxdy[m]> well, pipes?
[22:54:45] *** Joins: ofelas (~ofelas@ti0071a400-5198.bb.online.no)
[22:59:41] <andrewrk> marler8997_, it creates the build binary in place but it does not write the cache manifest until the operation succeeds. so it will be a cache miss, causing the build to be overwritten next time 
[23:00:27] <marler8997_> andrewrk, interesting, so then I'm guess it failed to build the exe for some reason but still wrote to the cache manifest somehow
[23:00:36] <freshcoffee> marler8997_: re child proc close-but-not-closed issue, the child process could be told to perform the rename. Terrible that this needs to be done, but that might work?
[23:00:38] <andrewrk> the steps are: 1. obtain exclusive lock on cache manifest, 2. write build exe in place, 3. write "success" to the cache manifest and release the lock
[23:00:59] <companion_cube> 4. use sqlite
[23:01:26] <andrewrk> sqlite has access to the same Windows APIs that zig has. if it has found a way to do this correctly then we can too
[23:02:22] <companion_cube> sure, it might mean a journal, btree, and all that though
[23:02:23] <andrewrk> zig's cache system uses the cross platform file system API. so if the API guarantees are being broken, that means we need to fix the std lib, not give up and depend on a third party library
[23:02:25] <marler8997_> andrewrk I have cr1901's zig-cache in the invalid state, where is the cache manifest stored?
[23:02:42] <andrewrk> zig-cache/h/*
[23:02:59] <andrewrk> the 'h' stands for "hash" I guess
[23:05:42] *** Joins: rgrinberg (~textual@187.194.14.9)
[23:05:44] <marler8997_> https://gist.github.com/marler8997/1e5d1af2efb65d6755a0cd7b837d39a0
[23:05:59] <marler8997_> I included the only file in "h" that had the word "build" in it
[23:06:56] <marler8997_> I'm unsure if that file in "h" is related to the build binaries in zig-cache/o/381cb091fd25ec81b5b2b629a42fb3b6
[23:07:17] *** Quits: ur5us (~ur5us@2406:e002:6d58:d101:23b2:b738:8a21:f7ed) (Ping timeout: 240 seconds)
[23:08:15] <marler8997_> I had cr1901 manually add a build.exe file in zig-cache/o/381cb091fd25ec81b5b2b629a42fb3b6 that just printed "hello world" and running "zig build" caused it to print hello world
[23:08:29] <marler8997_> so the cache things "build.exe" is built, but there is no "build.exe" even though there is a build.pdb and build.obj
[23:11:38] <marler8997_> what's your best guess as to how this could happen?
[23:12:17] <andrewrk> best guess: zig worked perfectly and then the user ran a command to delete build.exe
[23:13:00] *** Joins: siematos (~siematos@dslb-178-001-059-198.178.001.pools.vodafone-ip.de)
[23:13:55] *** Quits: siematos (~siematos@dslb-178-001-059-198.178.001.pools.vodafone-ip.de) (Client Quit)
[23:14:19] <plumeus> oh yeah, andrewrk, I kind of wanted to ask your opinion on https://github.com/ziglang/zig/issues/10800#issuecomment-1030611649
[23:14:39] <marler8997_> lol, I hope that's a joke :)
[23:14:49] <marler8997_> cr1901, did you delete "build.exe" from the cache?
[23:15:58] <andrewrk> plumeus, we can't turn on -Werror for default for C code
[23:16:20] <andrewrk> ok I said that but now I'm reconsidering
[23:16:46] <marler8997_> it actually took a bit of triage to realize that's what was going on
[23:16:51] <plumeus> That comment was totally different from the issue itself, so I was initially considering opening a second issue.
[23:17:13] <plumeus> But I figured I could ask your opinion first.
[23:17:23] <marler8997_> the Event in ProcMon said the error was an "INAVLID NAME" because CreateProcess was trying to open the "build.exe" file with a very weird name, but I found out that was a red herring, the build.exe was just missing
[23:17:51] <andrewrk> marler8997_, I worked 14 hours yesterday. I'm going to take the rest of the day off today. I'm interested in troubleshooting this with you but tbh I just don't have the energy today
[23:18:07] <marler8997_> shoot that's a long one
[23:18:27] <andrewrk> godspeed
[23:18:33] * andrewrk goes afk
[23:29:47] *** Quits: rgrinberg (~textual@187.194.14.9) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:34:30] *** Joins: neurocyte0917090 (~neurocyte@user/neurocyte)
[23:41:25] *** Quits: phaleth (~user@user/phaleth) (Quit: WeeChat 2.8)
