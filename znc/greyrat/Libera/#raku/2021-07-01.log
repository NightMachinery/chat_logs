[00:00:56] <MasterDuke> yeah
[00:10:45] *** Joins: rassoc (~rassoc@139.174.228.245)
[00:26:34] *** Quits: melezhik (~melezhik@c-98-198-98-197.hsd1.tx.comcast.net) (Quit: Connection closed)
[00:26:44] <perlbot> nirnam pasted a new file at https://l.perl.bot/p/16zsu2 - 
[00:26:57] <nirnam> it does run slower with the patch
[00:27:16] <nirnam> when it get to one million there's about 1 minute difference
[00:28:34] <nirnam> I also used 3 lock in there, one for each time %cache is being access in your original patch
[00:29:00] <rassoc> interesting how much slower cached vs manual memoization via state var is; almost 3x
[00:31:03] *** Joins: sono (~sono@107-209-210-210.lightspeed.sntcca.sbcglobal.net)
[00:32:07] <nirnam> I don't know if I did the manual cache right, but it about the same to me
[00:32:30] <rassoc> gimme a sec, will create a gist
[00:34:05] <nirnam> I can see small difference, in small input set, I can see how that could scale when there's more and more input
[00:36:13] <nirnam> woo, you're right, it is about 3 times faster
[00:36:39] <rassoc> https://gist.github.com/rassoc/7cc2d9b853fd2164dbdd0b98e9da3ab9
[00:36:53] <rassoc> just the non-hyper variants
[00:37:31] <rassoc> and there's a huge gap to ruby :(
[00:38:07] <nirnam> and astronomical gap to C, but we don't talk about C
[00:38:33] <nirnam> I tried it in C, it took .5 second for one million chain
[00:38:59] <rassoc> yeah, same deal in crystal; virtually the same ruby code
[00:40:18] *** Quits: Doc_Holliwood (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de) (Ping timeout: 240 seconds)
[01:05:45] *** Joins: _ed (~ed@ip98-186-104-214.ks.ks.cox.net)
[01:10:16] *** Quits: _ed (~ed@ip98-186-104-214.ks.ks.cox.net) (Ping timeout: 272 seconds)
[01:24:12] *** Quits: nirnam (~nirnam@1.47.138.32) (Ping timeout: 272 seconds)
[01:43:30] *** Joins: nirnam (~nirnam@1.46.30.59)
[02:08:56] *** Quits: stoned75 (~seb@pop.92-184-112-54.mobile.abo.orange.fr) (Ping timeout: 252 seconds)
[02:13:55] *** Parts: nirnam (~nirnam@1.46.30.59) ()
[02:23:39] *** Joins: nirnam (~nirnam@1.46.30.59)
[02:24:07] *** Quits: nirnam (~nirnam@1.46.30.59) (Client Quit)
[02:27:19] <moon-child> tried cl (http://ix.io/3rBo/lisp), it's 0.7s for a million
[02:28:01] <moon-child> (that's with >/dev/null; doing i/o, the terminal slows it down)
[02:33:27] *** Joins: avar (avar@vm.nix.is)
[02:35:20] <rassoc> sbcl? can't reproduce, way slower for me
[02:36:17] <moon-child> yeah, sbcl
[02:37:47] <moon-child> http://ix.io/3rBx
[02:37:48] <rassoc> but it might just be the slowpoke toaster i'm running this on
[02:38:24] *** Quits: littlebenlittle[ (~littleben@2001:470:69fc:105::1eca) (Write error: Connection reset by peer)
[02:38:24] *** Quits: demostanis[m] (~demostani@2001:470:69fc:105::2c2) (Read error: Connection reset by peer)
[02:38:25] *** Quits: juanfra (~juanfra@user/juanfra) (Write error: Connection reset by peer)
[02:38:27] *** Quits: CIAvash (~ciavash@2001:470:69fc:105::264) (Read error: Connection reset by peer)
[02:38:27] *** Quits: AlexDaniel (~alexdanie@2001:470:69fc:105::15e1) (Read error: Connection reset by peer)
[02:38:27] *** Quits: ComplYue[m] (~complyuem@2001:470:69fc:105::9b0) (Read error: Connection reset by peer)
[02:38:27] *** Quits: tyil[m] (~tyilmatri@2001:470:69fc:105::9a1) (Read error: Connection reset by peer)
[02:38:34] *** Quits: cnx (~cnxhaloge@2001:470:69fc:105::61f) (Read error: Connection reset by peer)
[02:38:37] <rassoc> yeah, that's what i'm doing; 1.81 s, 228660 kb
[02:39:04] <moon-child> I get similar times on my old crappy laptop
[02:39:11] *** Joins: juanfra (~juanfra@user/juanfra)
[02:39:16] <moon-child> rassoc: note the cl is going up to a million, raku just doing 100k
[02:39:28] *** Joins: tyil[m] (~tyilmatri@2001:470:69fc:105::9a1)
[02:39:42] *** Joins: CIAvash (~ciavash@2001:470:69fc:105::264)
[02:39:54] *** Joins: ComplYue[m] (~complyuem@2001:470:69fc:105::9b0)
[02:39:54] *** Joins: demostanis[m] (~demostani@2001:470:69fc:105::2c2)
[02:39:54] *** Joins: AlexDaniel (~alexdanie@2001:470:69fc:105::15e1)
[02:40:06] *** Joins: cnx (~cnxhaloge@2001:470:69fc:105::61f)
[02:40:07] <rassoc> sure, and this is ruby with 1mil: 2.11 s, 169560 kb
[02:40:11] <rassoc> not THAT bad
[02:40:18] *** Joins: littlebenlittle[ (~littleben@2001:470:69fc:105::1eca)
[02:40:41] <rassoc> raku is still crunching ;)
[02:41:07] <moon-child> heh, that one took me 1-2 minutes
[02:42:25] <rassoc> typing didn't help at all. was curious whether uint annotations would help, but those aren't implemented for hashes just yet
[02:52:07] *** Joins: Doc_Holliwood (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de)
[02:59:47] <moon-child> I would try using a buf32 instead of a hash, and just falling back if it's out of range
[03:03:36] <rassoc> try it, hehe. raku did swap like crazy for me :)
[03:03:59] <moon-child> oh it'll autoexpand
[03:04:25] <rassoc> yeah, max key is 1570824736 for 100k
[03:09:09] <japhb> Commented with a micro-opt
[03:09:39] *** Quits: cognominal (~cognomina@lfbn-idf1-1-1374-85.w90-79.abo.wanadoo.fr) (Ping timeout: 258 seconds)
[03:10:56] <japhb> BTW, https://gist.github.com/rassoc/7cc2d9b853fd2164dbdd0b98e9da3ab9#file-initial-raku-L12 forces constant type coersions from Num to Int.
[03:11:10] <japhb> (Because 1E5 is a Num, not an Int)
[03:11:19] *** Joins: cognominal (~cognomina@lfbn-idf1-1-1364-90.w90-79.abo.wanadoo.fr)
[03:12:47] <rassoc> initial solution isn't mine
[03:12:56] <rassoc> seeing 2.19 s, 154772 kb for yours; slick
[03:13:22] <rassoc> that's ruby's runtime for a 1mil seq
[03:13:23] <japhb> Err, wasn't claiming it was, just explaining for those who wondered why that variant was so slow.
[03:14:28] <rassoc> 1.7s even; system had load
[03:14:46] <rassoc> welcome to the club of crappy i3 machines ;)
[03:16:34] <japhb> Heh
[03:32:12] *** Joins: _ed (~ed@ip98-186-104-214.ks.ks.cox.net)
[03:36:41] *** Quits: _ed (~ed@ip98-186-104-214.ks.ks.cox.net) (Ping timeout: 265 seconds)
[04:31:47] *** Joins: _ed (~ed@ip98-186-104-214.ks.ks.cox.net)
[04:32:36] *** Quits: reportable6 (rep-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[04:33:49] *** Joins: reportable6 (~rep-able@ns306169.ip-94-23-219.eu)
[04:39:54] *** Quits: _ed (~ed@ip98-186-104-214.ks.ks.cox.net) (Ping timeout: 272 seconds)
[04:48:31] <m6locks> how do I typecheck an array as an argument to a method that sometimes has zero, one, or several instances of a class? I tried passing Nil, but then I get an error expected Positional[Array] but got Nil (Nil)
[04:48:52] <m6locks> Nil is the case when there's no values
[04:55:27] <japhb> m6locks: What are you actually trying to check?  What would be correct or incorrect ways to call your function?  (I ask because "Positional[Array]" as an expected type often indicates a mistake in the typing.)
[04:56:36] *** Quits: dogbert12 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 258 seconds)
[05:09:48] <rassoc> m: class C { has $.x }; sub foo(C @arr) { say @arr }; my C @cs = C.new(x => 10); foo @cs # m6locks
[05:09:49] <camelia> rakudo-moar eab780f38: OUTPUT: «[C.new(x => 10)]␤»
[05:10:24] *** Joins: _ed (~ed@ip98-186-104-214.ks.ks.cox.net)
[05:10:54] <rassoc> Had trouble with that as well when starting out. Type @arr already is an array of Type; no need to specify Array[Type]
[05:14:17] <rassoc> m: class C { has $.x }; sub foo(C @arr) { say @arr }; my C @cs; foo @cs # zero instances
[05:14:17] <camelia> rakudo-moar eab780f38: OUTPUT: «[]␤»
[05:45:39] *** Joins: dogbert12 (~dogbert@c83-251-249-247.bredband.tele2.se)
[05:50:16] *** Quits: dogbert12 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 258 seconds)
[05:52:29] *** Joins: dogbert12 (~dogbert@c83-251-249-247.bredband.tele2.se)
[05:53:17] <m6locks> ok, so Nil won't do
[05:53:52] <m6locks> confused because in java you can just say instance.method(null) and it works
[05:55:36] <m6locks> now there's Array @a in the method arguments list, calling the method with Nil produces that error 
[05:56:02] <m6locks> but I'll just replace all Nils with []'s
[06:02:47] *** Quits: solitario (~adrian@www3.kiess.onl) (Ping timeout: 268 seconds)
[06:03:02] *** Joins: solitario (~adrian@www3.kiess.onl)
[06:08:05] <kybr> does anyone know a good resource for working with Date? i want to ask things like "how many week days between 2021-01-01 and 2021-03-31?"
[06:10:28] *** Quits: dogbert12 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 272 seconds)
[06:23:33] *** Joins: frost (~frost@59.71.241.179)
[06:24:29] <rassoc> other than the official docs and test suite? not really, no.
[06:24:42] <rassoc> m: ('2021-01-01'.Date .. '2021-03-31'.Date).grep(*.day-of-week <= 5).elems.say
[06:24:42] <camelia> rakudo-moar eab780f38: OUTPUT: «64␤»
[06:49:32] *** Quits: rassoc (~rassoc@139.174.228.245) (Ping timeout: 265 seconds)
[07:01:08] *** Quits: Tirifto (~Tirifto@47-186-111-21.dlls.tx.frontiernet.net) (Quit: Ĝis revido!)
[07:02:10] *** Joins: Tirifto (~Tirifto@47-186-111-21.dlls.tx.frontiernet.net)
[07:19:01] *** Quits: _ed (~ed@ip98-186-104-214.ks.ks.cox.net) (Ping timeout: 265 seconds)
[07:46:22] *** Quits: neshpion (~neshpion@gateway/tor-sasl/neshpion) (Quit: neshpion)
[07:49:15] *** Joins: dogbert12 (~dogbert@c83-251-249-247.bredband.tele2.se)
[07:52:24] *** Joins: dogbert17 (~dogbert@c83-251-249-247.bredband.tele2.se)
[07:54:03] *** Quits: dogbert12 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 256 seconds)
[07:58:17] *** Joins: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se)
[07:59:50] *** Quits: dogbert17 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 258 seconds)
[08:03:30] *** Quits: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 252 seconds)
[08:06:00] *** Joins: Doc_Holliwould (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de)
[08:06:05] *** Joins: sono_ (~sono@107-209-210-210.lightspeed.sntcca.sbcglobal.net)
[08:07:29] *** Quits: frost (~frost@59.71.241.179) (Quit: Ping timeout (120 seconds))
[08:07:30] *** Quits: jrjsmrtn (~jrjsmrtn@ip-193-121-123-176.dsl.scarlet.be) (Ping timeout: 240 seconds)
[08:08:18] *** Quits: vodkra (~vodkra@user/vodkra) (Ping timeout: 240 seconds)
[08:08:27] *** Joins: vodkra (~vodkra@user/vodkra)
[08:08:50] *** Joins: jrjsmrtn (~jrjsmrtn@ip-193-121-123-176.dsl.scarlet.be)
[08:09:06] *** Quits: Doc_Holliwood (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de) (Ping timeout: 240 seconds)
[08:09:06] *** Quits: sono (~sono@107-209-210-210.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 240 seconds)
[08:42:26] *** Joins: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se)
[08:47:30] *** Quits: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 240 seconds)
[09:06:04] <moon-child> til 'sub f of T'
[09:06:10] <moon-child> is there a difference between that and the 'returns' syntax?
[09:10:09] <cnx> from the docs it seems so: https://docs.raku.org/language/functions#Return_type_constraints
[09:13:11] <moon-child> hmm, nice
[09:13:22] <moon-child> shorter than -->, and more consistent (for subs that take no parameters)
[09:21:18] <moon-child> I guess it's not actually shorter, because you can leave out the space at the end of -->
[09:21:29] <moon-child> m: sub f(-->Int) {}; sub g of int {}
[09:21:29] <camelia> rakudo-moar eab780f38: ( no output )
[09:43:43] *** Joins: stoned75 (~seb@pop.92-184-102-124.mobile.abo.orange.fr)
[09:46:46] *** Joins: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se)
[09:50:36] *** Joins: dogbert17 (~dogbert@c83-251-249-247.bredband.tele2.se)
[09:52:14] *** Quits: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 265 seconds)
[10:17:04] *** Quits: jmcgnh (~jmcgnh@c-98-229-233-252.hsd1.nh.comcast.net) (Ping timeout: 258 seconds)
[10:21:58] *** Joins: jmcgnh (~jmcgnh@c-98-229-233-252.hsd1.nh.comcast.net)
[10:23:43] *** Joins: ufobat (~martin@dynamic-095-115-067-222.95.115.pool.telefonica.de)
[10:28:14] *** Quits: dogbert17 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 272 seconds)
[10:32:43] *** Quits: reportable6 (~rep-able@ns306169.ip-94-23-219.eu) (Remote host closed the connection)
[10:33:12] *** Quits: Sgeo (~Sgeo@user/sgeo) (Read error: Connection reset by peer)
[10:33:38] *** Joins: reportable6 (~rep-able@ns306169.ip-94-23-219.eu)
[10:46:35] *** Joins: dogbert17 (~dogbert@c83-251-249-247.bredband.tele2.se)
[10:50:09] *** Joins: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se)
[10:50:09] *** Quits: dogbert17 (~dogbert@c83-251-249-247.bredband.tele2.se) (Read error: Connection reset by peer)
[10:56:44] *** Quits: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 272 seconds)
[11:11:08] *** Joins: patrickb (~patrickb@55d4982e.access.ecotel.net)
[11:22:02] *** Quits: patrickb (~patrickb@55d4982e.access.ecotel.net) (Remote host closed the connection)
[11:22:12] *** Joins: patrickb (~patrickb@55d4982e.access.ecotel.net)
[11:39:33] <CIAvash> patrickb: Is it possible for you to provide a checksum file or something like that for rakudo download tarballs?
[11:47:03] <moon-child> CIAvash: there's a signature, is that not sufficient?
[11:55:04] *** Joins: _ed (~ed@ip98-186-104-214.ks.ks.cox.net)
[11:57:27] *** Joins: holli__ (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de)
[11:58:10] *** Quits: Doc_Holliwould (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de) (Ping timeout: 272 seconds)
[11:59:25] *** Quits: _ed (~ed@ip98-186-104-214.ks.ks.cox.net) (Ping timeout: 258 seconds)
[12:00:11] *** Joins: dakkar (~dakkar@home.thenautilus.net)
[12:05:49] *** Joins: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se)
[12:08:43] *** Quits: patrickb (~patrickb@55d4982e.access.ecotel.net) (Remote host closed the connection)
[12:08:58] *** Joins: patrickb (~patrickb@85-22-61-234.ip.dokom21.de)
[12:10:38] *** Quits: patrickb (~patrickb@85-22-61-234.ip.dokom21.de) (Remote host closed the connection)
[12:10:57] *** Joins: patrickb (~patrickb@85-22-61-234.ip.dokom21.de)
[12:12:37] *** Quits: patrickb (~patrickb@85-22-61-234.ip.dokom21.de) (Remote host closed the connection)
[12:12:56] *** Joins: patrickb (~patrickb@85-22-61-234.ip.dokom21.de)
[12:13:00] *** Quits: patrickb (~patrickb@85-22-61-234.ip.dokom21.de) (Remote host closed the connection)
[12:13:10] *** Joins: patrickb (~patrickb@85-22-61-234.ip.dokom21.de)
[12:15:22] <patrickb> CIAvash: Can you elaborate on your usecase? I'm more than willing to provide sha-1 and or md5 sums should there be a need. So, why is the signature insufficient?
[12:23:11] *** Quits: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 258 seconds)
[12:31:28] *** Joins: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se)
[12:40:30] *** Joins: AntonOks (~AntonOks@217.10.52.10)
[12:42:30] *** Joins: MoC (~moc@user/moc)
[13:00:42] *** Quits: holli__ (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de) (Ping timeout: 240 seconds)
[13:05:27] *** Joins: frost14 (~frost@59.71.241.179)
[13:11:51] *** Quits: frost14 (~frost@59.71.241.179) (Quit: Connection closed)
[13:12:07] *** Joins: frost46 (~frost@59.71.241.179)
[13:13:18] *** Quits: frost46 (~frost@59.71.241.179) (Client Quit)
[13:13:34] *** Joins: frost24 (~frost@59.71.241.179)
[13:13:54] <CIAvash> patrickb:  It's probably sufficient, it's just that in the Arch Linux wiki, it says, add checksums and additionally signatures. I am generating sha256sum for the rakudo-bin AUR package, I just wanted to use checksums from source, instead of generating them from the packages I downloaded. It's not a big problem. https://wiki.archlinux.org/title/PKGBUILD#Integrity
[13:14:26] *** Quits: ComplYue[m] (~complyuem@2001:470:69fc:105::9b0) (Quit: node-irc says goodbye)
[13:15:16] <patrickb> CIAvash: Sounds sensible. Which checksums would be good to have? Only sha256?
[13:15:21] *** Quits: frost24 (~frost@59.71.241.179) (Client Quit)
[13:16:08] <CIAvash> Yeah
[13:17:24] <patrickb> CIAvash: OK. Thanks for the input! I'll see what I can do!
[13:17:50] <CIAvash> patrickb++
[13:24:16] *** Joins: Doc_Holliwood (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de)
[13:27:48] *** Joins: frost (~frost@59.71.241.179)
[14:27:51] *** Quits: coverable6 (~cov-able@ns306169.ip-94-23-219.eu) (Remote host closed the connection)
[14:27:51] *** Quits: shareable6 (~sha-able@ns306169.ip-94-23-219.eu) (Remote host closed the connection)
[14:27:51] *** Quits: reportable6 (~rep-able@ns306169.ip-94-23-219.eu) (Remote host closed the connection)
[14:27:51] *** Quits: unicodable6 (~uni-able@ns306169.ip-94-23-219.eu) (Remote host closed the connection)
[14:27:51] *** Quits: notable6 (~not-able@ns306169.ip-94-23-219.eu) (Remote host closed the connection)
[14:27:51] *** Quits: committable6 (~com-able@ns306169.ip-94-23-219.eu) (Remote host closed the connection)
[14:27:51] *** Quits: bloatable6 (~blo-able@ns306169.ip-94-23-219.eu) (Read error: Connection reset by peer)
[14:27:51] *** Quits: quotable6 (~quo-able@ns306169.ip-94-23-219.eu) (Read error: Connection reset by peer)
[14:27:51] *** Quits: linkable6 (~lin-able@ns306169.ip-94-23-219.eu) (Read error: Connection reset by peer)
[14:27:51] *** Quits: nativecallable6 (nat-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[14:27:51] *** Quits: tellable6 (~tel-able@ns306169.ip-94-23-219.eu) (Read error: Connection reset by peer)
[14:27:52] *** Quits: sourceable6 (sou-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[14:27:52] *** Quits: squashable6 (squ-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[14:27:52] *** Quits: statisfiable6 (sta-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[14:27:52] *** Quits: benchable6 (ben-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[14:27:52] *** Quits: bisectable6 (bis-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[14:27:52] *** Quits: releasable6 (rel-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[14:27:52] *** Quits: evalable6 (eva-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[14:27:52] *** Quits: greppable6 (gre-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[14:28:13] *** Joins: sourceable6 (sou-able@2001:41d0:2:5eb5::)
[14:28:21] *** Joins: shareable6 (~sha-able@ns306169.ip-94-23-219.eu)
[14:28:22] *** Joins: linkable6 (lin-able@2001:41d0:2:5eb5::)
[14:28:54] *** Joins: releasable6 (rel-able@2001:41d0:2:5eb5::)
[14:29:00] *** Joins: notable6 (~not-able@ns306169.ip-94-23-219.eu)
[14:29:10] *** Joins: unicodable6 (uni-able@2001:41d0:2:5eb5::)
[14:29:11] *** Joins: tellable6 (tel-able@2001:41d0:2:5eb5::)
[14:29:21] *** Joins: reportable6 (rep-able@2001:41d0:2:5eb5::)
[14:29:25] *** Joins: benchable6 (~ben-able@ns306169.ip-94-23-219.eu)
[14:29:32] *** Joins: bloatable6 (blo-able@2001:41d0:2:5eb5::)
[14:29:40] *** Joins: statisfiable6 (~sta-able@ns306169.ip-94-23-219.eu)
[14:29:43] *** Joins: bisectable6 (bis-able@2001:41d0:2:5eb5::)
[14:29:59] *** Joins: squashable6 (~squ-able@ns306169.ip-94-23-219.eu)
[14:30:04] *** Joins: nativecallable6 (nat-able@2001:41d0:2:5eb5::)
[14:30:12] *** Joins: evalable6 (~eva-able@ns306169.ip-94-23-219.eu)
[14:30:18] *** Joins: quotable6 (quo-able@2001:41d0:2:5eb5::)
[14:30:22] *** Joins: greppable6 (~gre-able@ns306169.ip-94-23-219.eu)
[14:30:42] *** Joins: coverable6 (~cov-able@ns306169.ip-94-23-219.eu)
[14:30:43] *** Joins: committable6 (com-able@2001:41d0:2:5eb5::)
[14:39:32] *** Joins: rassoc (~rassoc@139.174.228.245)
[14:51:04] *** Quits: Doc_Holliwood (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de) (Ping timeout: 272 seconds)
[15:17:31] *** Joins: RandalSchwartz (~Adium@c-73-221-215-233.hsd1.wa.comcast.net)
[15:21:40] *** Quits: squashable6 (~squ-able@ns306169.ip-94-23-219.eu) (Remote host closed the connection)
[15:23:00] *** Joins: squashable6 (~squ-able@ns306169.ip-94-23-219.eu)
[15:24:01] *** Quits: sono_ (~sono@107-209-210-210.lightspeed.sntcca.sbcglobal.net) (Quit: When You're Taught Through Feelings~♪)
[15:54:16] *** Joins: _ed (~ed@ip98-186-104-214.ks.ks.cox.net)
[15:58:50] *** Quits: _ed (~ed@ip98-186-104-214.ks.ks.cox.net) (Ping timeout: 272 seconds)
[16:00:46] * lizmat wonders what she should be working on first from the pile of unfinished things
[16:01:43] <moritz> lizmat: start something new :-)
[16:01:58] <lizmat> well, that's a thought  :-)
[16:02:21] <lizmat> but I guess we first want to get Geth up and running again
[16:02:38] <lizmat> and since nobody has volunteered just yet...
[16:07:44] *** Parts: chronon (~chronon@user/chronon) ()
[16:13:45] *** Joins: Geth (~zofbot-ge@ipv4-wenzperl.connected.by.freedominter.net)
[16:14:06] <lizmat> I guess that's step one
[16:14:33] *** Quits: Geth (~zofbot-ge@ipv4-wenzperl.connected.by.freedominter.net) (Remote host closed the connection)
[16:15:17] *** Joins: Geth (~LizBot@ipv4-wenzperl.connected.by.freedominter.net)
[16:32:55] *** Quits: reportable6 (rep-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[16:35:36] *** Joins: reportable6 (rep-able@2001:41d0:2:5eb5::)
[16:48:26] *** Joins: algorev (~algorev@178.197.237.101)
[16:48:47] <algorev> Hello
[16:49:13] *** Quits: Geth (~LizBot@ipv4-wenzperl.connected.by.freedominter.net) (Remote host closed the connection)
[16:49:17] <algorev> I've been getting started with raku in the past few days and it's awesome
[16:49:42] <algorev> I've just got a few questions that... wel i think i'm not the first one to ask them by far
[16:50:42] <algorev> My first question is: how ready is raku yet? I know some parts of the spec are not implemented yet, but to what extent?
[16:52:15] *** Joins: Geth (~LizBot@ipv4-wenzperl.connected.by.freedominter.net)
[16:52:33] <algorev> And my other question is much more general: i've seen that there aren't many modules available for raku on the archive yet. and it doesn't seem to be very popular yet. It's a language that i wanna see grow. Are there ways i can help?
[16:53:20] <patrickb> algorev: From a extent of implementation point of view, Raku is perfectly usable. It provides a feature set surpassing about every other language there is.
[16:53:39] *** Quits: Geth (~LizBot@ipv4-wenzperl.connected.by.freedominter.net) (Remote host closed the connection)
[16:53:51] <patrickb> algorev: As you already said, the ecosystem isn't as big, as it could be.
[16:53:51] *** Joins: Geth (~LizBot@ipv4-wenzperl.connected.by.freedominter.net)
[16:54:31] <algorev> I'm not too sure what raku would need to get used more, maybe it's just in the same situation as Haxe, nifty features but not enough people to push for it. Maybe it needs just more time, but waiting's not my favorite strategy
[16:54:41] <patrickb> Performance is the other thing, where Raku still has to improve.
[16:55:00] <MasterDuke> for the original specifications, i believe the POD related ones have the most not-yet-implemented parts
[16:55:02] <patrickb> I personally just use it anyways ;-)
[16:55:14] <algorev> I'm new to perl stuff, so i don't really know how raku is seen in the wider perl world, maybe that's something too
[16:55:24] *** Joins: Kaipi (~Kaiepi@nwcsnbsc03w-47-54-173-93.dhcp-dynamic.fibreop.nb.bellaliant.net)
[16:55:24] *** Quits: Kaiepi (~Kaiepi@nwcsnbsc03w-47-54-173-93.dhcp-dynamic.fibreop.nb.bellaliant.net) (Remote host closed the connection)
[16:55:37] <algorev> But yeah i've been trying out raku and i love it
[16:55:58] <algorev> I'm not a good coder but i'll be doing what i can
[16:56:34] <patrickb> Are there specific modules you are missing?
[16:56:49] *** Quits: Kaipi (~Kaiepi@nwcsnbsc03w-47-54-173-93.dhcp-dynamic.fibreop.nb.bellaliant.net) (Read error: Connection reset by peer)
[16:56:58] *** Joins: Kaipi (~Kaiepi@nwcsnbsc03w-47-54-173-93.dhcp-dynamic.fibreop.nb.bellaliant.net)
[16:57:01] <algorev> For the time being i'm looking around to see what i can easily do
[16:57:18] <algorev> I might try to write an image module that doesn't rely on ffi
[16:57:58] <lizmat> that sounds... pretty cool and pretty advanced ?
[16:58:04] <algorev> For the rest and as a start it'll be awesome as a powershell replacement
[16:58:22] <algorev> I'm not going to try and make it big yet
[16:58:26] <algorev> Just what i need
[16:58:38] <algorev> I don't have the level to write pillow ahah
[16:58:56] <lizmat> please feel free to ask any questions here, and/or on https://stackoverflow.com/questions/tagged/raku
[16:59:08] <algorev> Thanks!
[16:59:54] *** Quits: algorev (~algorev@178.197.237.101) (Quit: Connection closed)
[17:16:24] *** Joins: neula (~user@vpnext-2001-638-505-918-1006.vpn.skim.th-owl.de)
[17:40:14] *** Quits: Geth (~LizBot@ipv4-wenzperl.connected.by.freedominter.net) (Ping timeout: 268 seconds)
[17:40:51] *** Quits: LizBot_ (~RakuIRC@ipv4-wenzperl.connected.by.freedominter.net) (Ping timeout: 268 seconds)
[17:41:04] *** Quits: RakuIRCLogger (~RakuIRC@ipv4-wenzperl.connected.by.freedominter.net) (Ping timeout: 265 seconds)
[17:44:46] *** Joins: RakuIRCLogger (~RakuIRC@ipv4-wenzperl.connected.by.freedominter.net)
[17:45:04] *** Joins: Geth (~LizBot@ipv4-wenzperl.connected.by.freedominter.net)
[17:47:51] *** Quits: frost (~frost@59.71.241.179) (Quit: Connection closed)
[18:03:58] *** Joins: Doc_Holliwood (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de)
[18:49:06] *** Quits: stoned75 (~seb@pop.92-184-102-124.mobile.abo.orange.fr) (Ping timeout: 240 seconds)
[18:51:02] *** Joins: stoned75 (~seb@pop.92-184-112-243.mobile.abo.orange.fr)
[18:52:35] *** Joins: melezhik (~melezhik@c-98-198-98-197.hsd1.tx.comcast.net)
[18:52:42] <melezhik> .
[18:54:20] <melezhik> patrickb:  I'd like to bring our reddit/r3 discussion here, if you don't mind ...
[18:54:39] *** Joins: Sgeo (~Sgeo@user/sgeo)
[18:55:02] <melezhik> r3 installation is very simple - just git clone and zef install dependencies ... I am not sure what external site you're talking about
[18:56:13] <melezhik> also the idea - to let users run tests on their local environments / rakudo branches straight away and be actively involved in tests writting
[19:01:02] *** Quits: Doc_Holliwood (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de) (Ping timeout: 268 seconds)
[19:01:03] *** Quits: RandalSchwartz (~Adium@c-73-221-215-233.hsd1.wa.comcast.net) (Quit: Leaving.)
[19:10:41] *** Joins: RandalSchwartz (~Adium@c-73-221-215-233.hsd1.wa.comcast.net)
[19:10:42] *** Parts: RandalSchwartz (~Adium@c-73-221-215-233.hsd1.wa.comcast.net) ()
[19:22:34] <tonyo> is raku in production anywhere?
[19:24:04] <jdv> i think it is for at least all the places we got logos from?...
[19:24:27] <jdv> (at the bottom of https://raku.org/)
[19:24:41] *** Joins: _ed (~ed@ip98-186-104-214.ks.ks.cox.net)
[19:28:12] <tonyo> what's it doing in prod at any of those places?
[19:30:49] <jdv> idk - maybe the person that did the recent push for those logos might know...
[19:31:16] *** Quits: _ed (~ed@ip98-186-104-214.ks.ks.cox.net) (Ping timeout: 265 seconds)
[19:31:20] <jdv> could be a fun article to put together for someone that has time and interest:)
[19:42:30] * patrickb is back
[19:43:21] <patrickb> the logo guy would be me
[19:45:42] *** Joins: _ed (~ed@ip98-186-104-214.ks.ks.cox.net)
[19:45:50] <patrickb> I can only speak for my company. We use Raku for several webservices consumed by internal tools. One interfaces a CRM to a mobile app another generates shiny PDFs and E-Mails for a configuration tool.
[19:50:30] <patrickb> melezhik: Did I understand right, that r3 is exclusively an offline tool where each user creates their own bug-test database?
[19:52:43] <melezhik> good question. yes it's offline tool. however user may want to commit their tests back to "mainstream" repo using PRs , so we have centralized database for bugs . but I am not yet sure ... right now it's only me who create those tests
[19:53:09] <melezhik> but regardless of this question, the main idea - yeah - it's offline tool
[19:53:13] *** Quits: _ed (~ed@ip98-186-104-214.ks.ks.cox.net) (Ping timeout: 258 seconds)
[19:59:33] <nine> tonyo: most importantly our customer self-service application at https://mein.atikon.com/ is written in Raku and with Cro. On the backend it uses another Cro application providing a REST API to our central database. We've also used Raku for an assortment of internal services and scripts.
[20:00:02] <nine> There's a reason why I've worked mostly on Rakudo's reliability in the past year or two :)
[20:00:44] <patrickb> melezhik: But given that issues are a public shared thing, wouldn't it make sense for the issue test tool database to also be shared?
[20:02:07] <tonyo> interesting, right now it sounds like it's mostly used for cro
[20:02:29] <tonyo> i was looking at writing a datalog slang that could be integrated instead of ORM garbage
[20:02:30] <melezhik> of course. by saying "but I am not yet sure" I meant I am not sure what is the best way to propagate users tests back to  mainstream repo, but probably GH PRs should be enough. Sorry for being   ambiguous 
[20:02:41] <patrickb> And then a service to run these tests server side would be quite nice. :-)
[20:02:49] <nine> The internal stuff was pretty much "wherever asynchronicity or parallelization were important topics"
[20:03:28] <tonyo> what are the pain points of using it in prod?
[20:04:10] <patrickb> I have recently written prototype of a client side graphical configuration tool in Raku. That's non Cro.
[20:04:22] <melezhik> sure )) thus the workflow is following 1) a user post a rakudo bug to GH 2) fork r3 repo 3) create a test for the bug 4) reproduce bug against any given version of rakudo (branch/whatreverrable/etc) 5) make PRs for a test/bug to r3 main repo 
[20:05:00] <SmokeMachine> tonyo: before writing it, take a look at Red…
[20:05:14] <nine> Oh, and Grammars were the other thing. We have used Raku to compile our 4 million line Apache virtual hosts configuration to nginx and continue to use the code to automate changes to nginx config
[20:05:40] <tonyo> i've seen red
[20:06:01] <tonyo> nine: do you have a write up on that? i'd like to know more about that
[20:06:53] <nine> Pain point used to be segfaults or other crashes. But nowadays it is pretty stable, so I'd say most important topic is memory usage. We do see (presumably) unbounded memory growth in the long running applications. But that may actually be because of Inline::Perl5, or maybe Cro or its underlying modules.
[20:07:14] <nine> tonyo: you mean the web server config stuff?
[20:07:53] <tonyo> nine: yea
[20:07:58] <patrickb> tonyo: Re pain points. I wouldn't say there is a single major pain point. Sometimes there is a rakudo bug that is annoying and needs to be worked around, sometimes it's some library one would wish to use, but doesn't exist yet.
[20:07:58] <melezhik> patrickb also for releases managers one of the workflow is to routinely run regression tests against recently closed issues against the latest rakudo commit , see this - https://gist.github.com/melezhik/0b65ac1b3011ab242344ffd19c2f22d7
[20:08:27] <tonyo> SmokeMachine: red, to me, glues together the worst parts of ORMs and confusingly uses the meta method operator for normal actions.
[20:10:26] <SmokeMachine> tonyo: what’s the worst parts of ORMs, and what do you thinking is confusing on Red’s meta method usage?
[20:10:36] <patrickb> tonyo: A limiting factor for us is definitely the poor Windows support. Writing a native Windows GUI with Raku isn't possible today. But we have and will have many of those.
[20:11:51] <patrickb> melezhik: Wouldn't it be possible to run the tests on a centralized server?
[20:12:32] <melezhik> like I said, this is not main focus for em right now, but yes, r3 itself only requires a few Raku modules and that is it
[20:12:50] <melezhik> it's dead easy to deploy
[20:14:04] <melezhik> the more difficult part is to install whateverbale  versions but I already taken care about this ))) , this task is also integrated into r3 - https://gist.github.com/melezhik/0b65ac1b3011ab242344ffd19c2f22d7#gistcomment-3799472
[20:14:17] <patrickb> melezhik: Because then most of the other stuff I said makes more sense (i.e. automatically creating these issues via GH comments).
[20:16:09] <melezhik> patrickb not sure if understand how GH comments are relevant here ... my view is users would create tests
[20:18:04] <SmokeMachine> tonyo: if you don’t like using `Model.^all.grep` you can, on your model definition, say: `model Model is handling<map grep> { …` and use `Model.grep` (that’s a experimental feature)
[20:18:08] <tonyo> SmokeMachine: the .^ method calls is used for meta methods, red uses them for normal things an ORM should do and it does it everywhere.  the worst part of ORMs is writing all of the boiler plate, `this is what my table looks like, this is what relationships it has` etc.  that stuff is already documented in the db with relationships. the verbosity of the code i need is equal to the sql i'd have to write and 
[20:18:14] <tonyo> it's far less powerful.  the documentation is poor.  how do i run red against postgres (the link is either broken or doesn't exist in the docs).  how do i run aggregate queries? how do i run this against six databases in the same file?  does RED prefetch? why do the docs advocate .^all.first:*.name eq 'xyz', why are you doing something in code that a db was designed to handle?  there's a lot of _why_ 
[20:18:20] <tonyo> questions they raise that generally don't have good answers, if i had to learn a technology to get data from a db why wouldn't i just learn sql, etc 
[20:18:31] <tonyo> patrickb: what kind of windows guis are you trying to make?
[20:19:38] <patrickb> melezhik: I guess I have a bit of a different vision of how one could use r3. Given the explicit aim is creating tests corresponding to GH issues it makes a lot of sense to be able to create those tests right there on the ticket. I totally agree that that is impossible as long as r3 is exclusively a local tool.
[20:21:10] <tonyo> .^all.grep seems so backwards in the calls, shouldn't the filter come first so it's obvious what order those things are happening in?
[20:22:16] <SmokeMachine> tonyo: the usage of the .^ on Red is because the ORM runs on the meta class, not at your class, that way you can do whatever you want with your class without conflicts
[20:22:31] <patrickb> tonyo: In most cases medium sized pieces of software (the type one can write up in a months time) aimed at one specific task. Some upload tool to transfer data, a tool to provide access to some webservice, some configuration utility that writes its results to an Excel file...
[20:23:44] <tonyo> what's the meta class?
[20:23:52] <SmokeMachine> tonyo: about the schema already being described on the database: that’s why I’ve been writing the red CLI, one of its features is read the database and generate Red code
[20:24:30] <tonyo> why not just load it from the database?  generating boilerplate isn't making the code less densely boring
[20:24:55] *** Quits: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se) (Ping timeout: 265 seconds)
[20:25:23] <tonyo> if i do class A { } ... A.new.^WHAT <- that runs against my A object .. are you saying in red that if i do Person.^all <- this isn't running against Person?
[20:26:19] <SmokeMachine> tonyo: about the verbosity: I disagree with you, many queries are much shorter with Red. The idea is to mimic Raku’s syntax. And many possible sql are niy, it’s a wip project
[20:26:30] <patrickb> We have quite a set of tools interfacing and extending MS Excel. I guess those have little chance to be doable in Raku any time soon. (An Excel COM or XLL API is probably not going to happen any time soon.)
[20:28:44] <SmokeMachine> tonyo: Dynamically loading crib db and running it is the next step after the code generation is done… many people is helping… but not enough to do so many stuff in parallel
[20:29:20] <tonyo> SmokeMachine: having CREATE statements for managing sql table migrations in tools explicitly designed for it and then also having to describe those structures in a language capable of creating those things dynamically is verbose.  the queries aren't shorter either.. Person.^all.grep: *.name eq 'SmokeMachine' vs 'select * from person where name = "SmokeMachine"' saves you six characters
[20:30:01] <tonyo> in only one of those at quick glance do you know where the filtering is actually happening
[20:30:19] <SmokeMachine> tonyo: no, if you do A.^meth, it will call the method ‘meth’ on the meta object of the class A… and that’s exactly what also happens with Red
[20:30:45] <tonyo> so, it does run on my class in Red too, then
[20:31:22] <SmokeMachine> Passing the class A as first parameter
[20:31:29] <tonyo> Person.^all <- runs against Person
[20:32:41] <SmokeMachine> No, Person.^all class MetamodelX::Red::Model’s all passing Person as first parameter
[20:32:58] <SmokeMachine> s/class/calls/
[20:33:48] <SmokeMachine> It’s equivalent of: MetamodelX::Red::Model.all(Person)
[20:34:05] <melezhik> patrickb I get this. well, the focus is on creating tests FOR issues. I find it hard to automate this via GH comments. I would personally consider GH issues only as text descriptions rather then tests. So tests are created after an issue is described  in GH
[20:34:09] <SmokeMachine> And you can do that that way if you want
[20:34:42] <SmokeMachine> I mean: Person.WHAT.all(Person)
[20:34:50] <tonyo> right so when i have trouble with .^all.grep: *.name.^count > 5  i can debug that down into something needlessly complex or i can just use 'select * from x where count(name) > 5'
[20:35:02] <jdv> i used raku at $work for a crawler and ran into the same issue(s) mr. steven lembark did with his project he talked about maybe a year ago.
[20:35:39] <jdv> it *can* have unbounded mem usage if it gets bogged down - couldn't track it down
[20:35:54] *** Quits: xinming_ (~xinming@115.219.38.38) (Ping timeout: 240 seconds)
[20:35:55] <jdv> but 99% of the time it finishes before that becomes a problem
[20:35:57] <tonyo> does moar hoard memory like p5 or does it release?
[20:36:17] *** Joins: xinming_ (~xinming@115.219.38.38)
[20:36:19] <jdv> no idea.  time and lembark and i spent some time on it and it wasn't obvious
[20:36:24] <jdv> *timo 
[20:36:36] <tonyo> been so long since i looked at that code
[20:37:11] <jdv> i think that's the only majorish issue ive found in prod so far
[20:37:20] <jdv> the others were work-around able and relatively minor
[20:37:28] <jdv> maybe half a dozen or so of those
[20:37:30] *** Quits: ufobat (~martin@dynamic-095-115-067-222.95.115.pool.telefonica.de) (Ping timeout: 240 seconds)
[20:37:45] <SmokeMachine> `.^all.grep: *.name.elems > 5`… it’s just Raku code… pretend .^all returns an array and you’ll see that makes sense… and if you want to debug, setting my $*RED-DEBUG = True will show you the SQL
[20:38:58] <jdv> the worst parts of orms are...orms, ime;)
[20:39:08] <tonyo> jdv: agreed
[20:39:54] <SmokeMachine> The best part of Red is that’s just Raku…
[20:40:06] <tonyo> that's not a glowing review of your own module
[20:40:48] <SmokeMachine> That’s just my opinion…
[20:40:54] <El_Che> SmokeMachine: are you in the uk nowadays?
[20:41:00] <SmokeMachine> Yes
[20:41:07] <El_Che> family as well?
[20:41:13] <tonyo> SmokeMachine: so is .^all.grep getting everything and then .grepping the results?  the docs indicate no and if not, why are the calls .^all.grep ?
[20:41:35] <SmokeMachine> Yes living here since February 2019
[20:41:59] <El_Che> nice
[20:42:09] <El_Che> can they adjust? big change
[20:42:37] <SmokeMachine> tonyo: no, it’s generating the SQL and running everything on db… but with Raku’s syntax
[20:43:37] <patrickb> melezhik: But wouldn't it be possible to put the test text in a comment of a preexisting issue? A bot then sees that text and imports the test into a separate r3 website which then performs the testing. That same bot could even add another comment to the issue linking to that separate r3 website. That r3 website would be the central store for all issue tests.
[20:43:43] <SmokeMachine> El_Che: my 2 daughters are already sounding like the queen (at least for my non native ears)
[20:43:57] <El_Che> SmokeMachine: glad to hear it
[20:44:14] <tonyo> never do i chain two calls together and expect the right most to happen first in raku .. @a.grep({ $_<name> eq "abc" }).map({ $_<found> = 1 }) <- never do i expect the .map to run first 
[20:44:26] <tonyo> m: my @a = ({ name => "abc" }, { name => "xyz" }); @a.grep(*<name> eq "abc").map({$_<found> = 1}); dd @a;
[20:44:26] <camelia> rakudo-moar afab892db: OUTPUT: «Array @a = [{:found(1), :name("abc")}, {:name("xyz")}]␤»
[20:44:43] <tonyo> but, in red, i should expect .^all.grep to happen in the order of grep, ^all 
[20:45:04] <tonyo> which is aiming to be similar to raku in syntax?
[20:47:46] <SmokeMachine> tonyo: it’s just like Raku, you can do Model.^all.grep(…).map(…), or if you prefer: `my @a := Model.^all; my @b := @a.grep(…); my @c := @b.map(…); .say for @c`
[20:48:13] <tonyo> that's missing the point
[20:49:15] <tonyo> and also, you're saying those two code paths are not equivalent .. is .^all.grep fetching every row from the DB and then actually calling .grep on them?
[20:49:40] <patrickb> Have to leave. o/
[20:49:45] *** Quits: patrickb (~patrickb@85-22-61-234.ip.dokom21.de) (Remote host closed the connection)
[20:49:55] <SmokeMachine> no it isn't, it will only call the database on `.say for @c` on my example
[20:50:39] <tonyo> then what, exactly, is in @b ?
[20:50:53] <SmokeMachine> it's a lazy list
[20:51:03] <tonyo> of?
[20:51:25] <SmokeMachine> it's an Red::ResultSeq object
[20:52:11] <tonyo> right
[20:55:08] <SmokeMachine> tonyo: https://www.irccloud.com/pastebin/QfJwDv6s/
[20:55:55] <tonyo> the SQL in that is much clearer
[20:56:25] <SmokeMachine>  raku -I. -MRed -e '
[20:56:25] <SmokeMachine> model Bla { has $.id is serial }
[20:56:25] <SmokeMachine> red-defaults "SQLite";
[20:56:26] <SmokeMachine> schema(Bla).create;
[20:56:27] <SmokeMachine> my $*RED-DEBUG = True;
[20:56:27] <SmokeMachine> my @a := Bla.^all;
[20:56:28] <SmokeMachine> my @b := @a.grep: *.id > 2;
[20:56:28] <SmokeMachine> my @c := @b.map: *.id;
[20:56:29] <SmokeMachine> say @b.^name;
[20:56:30] <SmokeMachine> dd @b;
[20:56:30] <SmokeMachine> '
[20:56:31] <SmokeMachine> Bla::ResultSeq
[20:56:31] <SmokeMachine> Bla::ResultSeq.new(update => Array[Pair].new(), comments => Array[Red::AST::Comment].new(Red::AST::Comment.new(msg => "method 'grep' called at: -e #10"), Red::AST::Comment.new(msg => "method 'map' called at: -e #11")), with => Red::Driver, obj => Any, chain => Red::AST::Chained.new(filter => Red::AST::Gt.new(op => ">", returns => Bool, left => Red::AST::Cast.new(type => "num", value => Red::Column.new(attr => bla.id, attr-name => "id", 
[20:56:32] <SmokeMachine> auto-increment => Bool::True, id => Bool::True, name => "id", name-alias => "id", nullable => Bool::False), bind => Bool), right => Red::AST::Value.new(value => 2, column => Red::Column, type => Int), bind-left => Bool::False, bind-right => Bool::False), limit => Int, offset => Int, post => Callable, order => Array[Red::AST].new(), group => Array[Red::AST].new(), table-list => [], next => Red::AST::Chained))
[20:56:34] <SmokeMachine> sorry, wrong button...
[20:56:45] <SmokeMachine> ttonyo: https://www.irccloud.com/pastebin/H11acPYA/
[20:57:06] <tonyo> that makes @b looks like it should be a scalar
[20:57:12] <tonyo> rather than a list of one item
[20:57:27] <SmokeMachine> why? @ accepts any Positional...
[20:57:39] <SmokeMachine> Bla::ResultSeq does Positional...
[20:57:39] <tonyo> it also, obfuscates the fact that the db is doing the filtering and not the code
[20:58:19] <tonyo> which is still the point
[20:58:27] <SmokeMachine> no, because you are using Red just because of that...
[20:58:58] <tonyo> saying `no` doesn't make it untrue
[20:59:09] *** Quits: xinming_ (~xinming@115.219.38.38) (Ping timeout: 258 seconds)
[20:59:30] <SmokeMachine> maybe not, but the sentence after that does :)
[20:59:32] *** Joins: xinming_ (~xinming@115.219.38.38)
[21:00:01] <tonyo> the sentence after that lacks enough nouns to make any sense
[21:00:33] <SmokeMachine> tonyo: but of course you have all the right to not like that and not use that... but other people also have the right to like and use it...
[21:00:49] <tonyo> so, again, Red is obfuscating where the line of what's being done by the DB and what's being done in code is happening
[21:01:28] <SmokeMachine> it does not make sense, because Red is being used for doing that
[21:01:43] <SmokeMachine> that's it's main reason
[21:02:04] <tonyo> i didn't say other people can't use it or like it.  i said i didn't like it, you asked why, and now you're just saying `no` to the reasons i'm giving you.
[21:02:40] <SmokeMachine> I'm explaining why I disagree with what you said
[21:03:08] *** Quits: dakkar (~dakkar@home.thenautilus.net) (Ping timeout: 268 seconds)
[21:03:13] <SmokeMachine> maybe my English isn't helping... but that's what I'm trying to do...
[21:03:55] <tonyo> i don't care why you disagree, you're not attempting to explain or to have a discussion or even try to see the points, it's to make sure nothing of red can be of critique
[21:04:50] *** Quits: AntonOks (~AntonOks@217.10.52.10) (Quit: Connection closed)
[21:04:56] <tonyo> ah, that could be it too (and probably more likely)
[21:05:04] <tonyo> what is your native language?
[21:06:43] <SmokeMachine> tonyo: of course not! many things in Red was already critiqued and many I've changed. But what are your suggestions to fix those issues?
[21:06:56] <SmokeMachine> tonyo: Portuguese
[21:09:27] <tonyo> ahh, sorry dude, i can't bridge that gap.  i'd get away from the .^all.grep.map thing, .find(*.name eq 'abc').fold({ $_<xyz> = 1 }).^all makes it clearer whether the db is doing the filtering or if the code itself is doing the filtering, there's a distinction between the steps .. is .^all grabbing everything from the db and putting it in the resultseq ?
[21:09:41] <SmokeMachine> would you like to go to #red channel and discuss about that there?
[21:12:16] <SmokeMachine> isn't that enough having the possibility to add `is handling ( find => grep, fold => map )`to have that behaviour?
[21:13:04] <SmokeMachine> and no, .^all is not grabbing anything from the DB, that triggers the query is trying to access the individual values
[21:14:28] <SmokeMachine> so, for example, `.say for @my-result-seq` would trigger the query, `@my-reqult-seq.grep: *.column > 10` wouldn't
[21:19:30] *** Quits: sena_kun (~sena_kun_@94.142.239.45) (Quit: Leaving)
[21:19:49] *** Joins: jess (~jess@libera/staff/jess)
[21:20:05] *** Joins: nirnam (~nirnam@1.46.30.59)
[21:34:02] *** Quits: MoC (~moc@user/moc) (Quit: Konversation terminated!)
[21:40:07] *** Quits: xinming_ (~xinming@115.219.38.38) (Ping timeout: 268 seconds)
[21:40:32] *** Joins: xinming_ (~xinming@115.219.38.38)
[21:41:24] *** Joins: dogbert11 (~dogbert@c83-251-249-247.bredband.tele2.se)
[21:42:35] <SmokeMachine> tonyo: about the name of the methods, by this (https://github.com/FCO/Red/issues/406) I think the majority preferes grep and map (but I could be seeing that wrong)
[21:53:01] <tonyo> i agree with xliff, those aliases would make the code more clear as to what is doing the filtering (code vs db)
[21:53:28] <tonyo> the thunk-y searching isn't apparent in the code and a source of confusion
[21:59:46] *** Quits: squashable6 (~squ-able@ns306169.ip-94-23-219.eu) (Remote host closed the connection)
[22:01:07] *** Joins: squashable6 (squ-able@2001:41d0:2:5eb5::)
[22:03:11] *** Quits: nirnam (~nirnam@1.46.30.59) (Quit: leaving)
[22:05:37] *** Joins: _ed (~ed@ip98-186-104-214.ks.ks.cox.net)
[22:10:04] *** Quits: _ed (~ed@ip98-186-104-214.ks.ks.cox.net) (Ping timeout: 258 seconds)
[22:21:09] *** Joins: _ed (~ed@ip98-186-104-214.ks.ks.cox.net)
[22:26:26] *** Quits: _ed (~ed@ip98-186-104-214.ks.ks.cox.net) (Ping timeout: 272 seconds)
[22:32:24] *** Quits: Geth (~LizBot@ipv4-wenzperl.connected.by.freedominter.net) (Remote host closed the connection)
[22:32:35] *** Joins: Geth (~LizBot@ipv4-wenzperl.connected.by.freedominter.net)
[22:32:44] *** Quits: reportable6 (rep-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[22:32:58] *** Joins: reportable6 (rep-able@2001:41d0:2:5eb5::)
[22:46:39] <nine> tonyo: to be fair in Raku .grep(...).map does not run the grep first and then the map. It sets up a processing pipeline and then processes the list one element at a time
[22:47:32] <lizmat> fwiw, I don't understand why anyone would do .grep.map rather than just .map
[22:47:35] <melezhik> .tell @patrickb  - this is not how I see this. I'd rather want people actively create/run tests rather then passively write comments and wait till some system would handle this  ... Also text based approach is limited in what kind of tests people   would want to write. With an offline tool one has all the  freedom to express ones . 
[22:47:36] <tellable6> melezhik, I cannot recognize this command. See wiki for some examples: https://github.com/Raku/whateverable/wiki/Tellable
[22:47:46] <melezhik> .tell patrickb:  - this is not how I see this. I'd rather want people actively create/run tests rather then passively write comments and wait till some system would handle this  ... Also text based approach is limited in what kind of tests people   would want to write. With an offline tool one has all the  freedom to express ones . 
[22:47:47] <tellable6> melezhik, I'll pass your message to patrickb
[22:48:21] <lizmat> afk&
[22:48:25] <tonyo> nine: yes but it still does those in an ordered fashion
[22:49:04] <tonyo> lizmat: can map filter things now?
[22:49:39] <moon-child> lizmat: the former might be a clearer expression of intent, even if anything can be expressed via the latter
[22:49:44] <moon-child> tonyo: you can return a slip from a map
[22:53:12] <moon-child> m: say ^10 .grep(* %% 2).map(-*)
[22:53:12] <camelia> rakudo-moar afab892db: OUTPUT: «(0 -2 -4 -6 -8)␤»
[22:53:32] <moon-child> m: say ^10 .map({$_ %% 2 ?? -$_ !! Empty})
[22:53:32] <camelia> rakudo-moar afab892db: OUTPUT: «(0 -2 -4 -6 -8)␤»
[22:54:28] <moon-child> m: say ^10 .map({-$_ if $_ %% 2}) #even
[22:54:28] <camelia> rakudo-moar afab892db: OUTPUT: «(0 -2 -4 -6 -8)␤»
[23:07:44] <tonyo> nice
[23:07:56] *** Joins: MoC (~moc@user/moc)
[23:19:29] <rassoc> last one is unintuitive as hell, might be worth documenting that. any other language that just drops mapped values?
[23:24:02] <leont> I think that's not a map behavior, but an if behavior
[23:24:13] <leont> A false if returns Empty?
[23:24:28] <leont> s/returns/evaluates as/
[23:25:34] <rassoc> interesting
[23:25:39] *** Joins: Doc_Holliwood (~holli@dslb-092-076-011-142.092.076.pools.vodafone-ip.de)
[23:30:59] *** Quits: MoC (~moc@user/moc) (Quit: Konversation terminated!)
[23:37:17] <Geth> ¦ doc: 33ca775f06 | (Stoned Elipot)++ | util/github-action-test.sh
[23:37:18] <Geth> ¦ doc: Add script overview in comment. ref #3906
[23:37:18] <Geth> ¦ doc: review: https://github.com/Raku/doc/commit/33ca775f06
[23:37:26] <moon-child> rassoc: s7 scheme has effectively the same behaviour as raku, you can return multiple values (or no values) from a mapper
[23:37:36] <moon-child> and yeah, it's Empty
[23:37:44] <moon-child> m: say (0 if False), (0 if False).WHAT
[23:37:44] <camelia> rakudo-moar afab892db: OUTPUT: «()(Slip)␤»
[23:38:03] *** Quits: linkable6 (lin-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[23:40:53] *** Joins: linkable6 (~lin-able@ns306169.ip-94-23-219.eu)
[23:45:34] <rassoc> s7? niche within a niche ;)
[23:49:01] <nine> Perl does it too: > perl -E 'say map { $_ % 2 == 1 ? $_ : ()} (1,2,3,4)'
[23:49:02] <nine> 13
[23:51:27] <rassoc> interesting, thanks for that. never really used perl, only the parts that ruby stole from it
[23:52:33] <moon-child> same.  (Well, substituting raku for ruby.)  I feel like I should learn perl properly but never have
[23:57:50] <rassoc> never quite liked what i saw when comparing perl and raku solutions for the perl weekly challenge. highly subjective, but the later always feels cleaner
[23:58:28] <moon-child> well, I guess there's a reason they didn't stop at perl 5 :)
