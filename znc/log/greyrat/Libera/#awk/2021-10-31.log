[00:46:35] *** Quits: eblip (~eb0t@90.211.41.180) (Ping timeout: 264 seconds)
[00:48:27] *** Joins: eblip (~eb0t@90.196.142.2)
[00:56:22] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[02:09:16] *** Quits: jess (~jess@libera/staff/jess) ()
[02:23:29] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Ping timeout: 264 seconds)
[02:37:28] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[02:56:57] *** Joins: X-Scale` (~ARM@50.77.166.178.rev.vodafone.pt)
[02:57:23] *** Quits: X-Scale (~ARM@83.223.251.139) (Ping timeout: 264 seconds)
[02:58:55] *** X-Scale` is now known as X-Scale
[03:19:14] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[03:23:13] *** Joins: roarde (~roarde@user/roarde)
[03:30:11] *** Quits: mingdao (~mingdao@wireguard/tunneler/mingdao) (Remote host closed the connection)
[03:40:09] *** Quits: Torr (~Torr@user/torr) ()
[03:40:21] *** Joins: Torr (~Torr@user/torr)
[04:20:44] *** Quits: neightchan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Quit: WeeChat 2.9)
[04:25:56] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 245 seconds)
[05:06:05] *** Quits: Meli (~meli@user/meli) (Ping timeout: 264 seconds)
[05:08:36] *** Joins: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[05:13:42] *** Joins: Meli (~meli@user/meli)
[05:14:30] *** Quits: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Quit: WeeChat 2.9)
[05:31:23] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[06:06:21] *** Quits: Meli (~meli@user/meli) (Ping timeout: 245 seconds)
[06:14:01] *** Joins: Meli (~meli@user/meli)
[06:14:32] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[07:45:42] *** Joins: jetchisel (jetchisel@user/jetchisel)
[07:45:54] *** Joins: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[08:57:16] *** Joins: mingdao (~mingdao@wireguard/tunneler/mingdao)
[09:04:37] *** Quits: Torr (~Torr@user/torr) (Remote host closed the connection)
[09:28:22] *** Quits: jle (~jle@user/jle) (Ping timeout: 252 seconds)
[10:20:02] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 260 seconds)
[10:22:15] *** Joins: jetchisel (jetchisel@user/jetchisel)
[10:39:42] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 260 seconds)
[10:41:35] *** Joins: jetchisel (jetchisel@user/jetchisel)
[10:42:39] *** Joins: extern (~archer@80.246.137.246)
[10:48:28] *** Joins: lavaball (felix@31.204.155.215)
[11:08:11] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 264 seconds)
[11:26:30] *** Joins: earnestly (~earnest@user/earnestly)
[11:53:38] *** Joins: vlm (~vlm@user/vlm)
[12:09:29] *** shbot8 is now known as shbot
[12:20:00] *** Quits: e0 (ec@user/e0) (Remote host closed the connection)
[12:52:42] <dngray[m]1> so if i am doing:
[12:52:43] <dngray[m]1> lsblk -o FSTYPE,UUID | awk '/^crypto_LUKS/ { printf $NF; exit }'
[12:52:53] <dngray[m]1> is it possible to do this inside awk and not pipe it in?
[13:05:36] <emanuele6> yes?
[13:06:16] <emanuele6> awk 'BEGIN { while ("lsblk -o FSTYPE,UUID" | getline line > 0) if (line ~ /^crypto_LUKS/) { split(line, a); print a[length(a)] } }'
[13:06:29] <emanuele6> but since you are going to run it from a shell, what's the point?
[13:08:49] <emanuele6> ah, forgot about exit i guess
[13:09:24] <emanuele6> awk 'BEGIN { while ("lsblk -o FSTYPE,UUID" | getline line > 0) if (line ~ /^crypto_LUKS/) { split(line, a); print a[length(a)]; break } }'
[13:10:29] <emanuele6> to be clean you should close it
[13:11:00] *** Joins: jetchisel (jetchisel@user/jetchisel)
[13:11:44] <emanuele6> awk -vcmd='lsblk -o FSTYPE,UUID' 'BEGIN { while (cmd | getline line > 0) if (line ~ /^crypto_LUKS/) { split(line, a); print a[length(a)]; break } close(cmd) }'
[13:13:25] *** Quits: roarde (~roarde@user/roarde) (Quit: Leaving)
[13:13:28] <dngray[m]1> that might be a much better ida
[13:13:40] <emanuele6> what might be much better?
[13:13:49] <dngray[m]1> than piping it into awk
[13:14:02] <dngray[m]1> efficiency wise it probably is
[13:15:25] <dngray[m]1> emanuele6: any chance i can remove the \n beforehand
[13:15:54] <emanuele6> the what?
[13:16:06] <dngray[m]1> awk -vcmd='lsblk -o FSTYPE,UUID' 'BEGIN { while (cmd | getline line > 0) if (line ~ /^crypto_LUKS/) { split(line, a); printf a[length(a)]; break } close(cmd) }'
[13:16:09] <dngray[m]1> puts a \n beforehand
[13:16:24] <emanuele6> that is a pattern injection
[13:16:26] <dngray[m]1> lsblk -o FSTYPE,UUID | awk '/^crypto_LUKS/ { printf $NF; exit }'
[13:16:28] <dngray[m]1> does not
[13:16:30] <dngray[m]1> oh
[13:16:32] <emanuele6> err format injection
[13:16:41] <emanuele6> why did you introduce a format injection?
[13:16:43] <emanuele6> what for?
[13:17:09] <emanuele6> also i don't see how this would be more performant
[13:17:28] <dngray[m]1> well it probably isn't.
[13:17:44] <emanuele6> but you said it probably was just before...
[13:17:53] <emanuele6> why do you even care about it's performance?
[13:18:00] <emanuele6> s/'//
[13:18:41] <emanuele6> # echo '%s' | awk '{ printf $0 }'
[13:18:43] <shbot> emanuele6: awk: not enough args in printf(%s)
[13:18:43] <shbot> emanuele6:  input record number 1, file 
[13:18:43] <shbot> emanuele6:  source line number 1
[13:18:56] <emanuele6> see, you added a format injection to my code
[13:19:17] <emanuele6> # echo 'a' | awk '{ printf $0 }'
[13:19:18] <shbot> emanuele6: a
[13:19:35] <emanuele6> now it will crash or at least have undefined behaviour on some inputs
[13:23:59] <emanuele6> i don't understand what was your intent :/
[13:24:05] <emanuele6> > puts a \n beforehand
[13:24:13] <emanuele6> i don't understand
[13:27:05] <dngray[m]1> right.
[13:27:25] <emanuele6> i am about to leave and i will be out the whole afternoon
[13:27:27] <dngray[m]1> i thought i could avoid the pipe character... i'm doing it in a go template
[13:27:34] <dngray[m]1> $lvmroot = (output "lsblk" "-o" "FSTYPE,UUID|awk" "/^crypto_LUKS/ { printf $NF; exit }" ) -}}
[13:27:36] <emanuele6> do you need something quick?
[13:27:42] <dngray[m]1> which causes an error
[13:28:05] <emanuele6> maybe try #go-nuts for go questions
[13:28:05] <dngray[m]1> i think i'm going to have to figure out why i get: at <output>: wrong number of args for output: want at least 1 got 0
[13:28:12] <dngray[m]1> which is a go error, likely because of the pipe
[13:28:19] <dngray[m]1> rather than try change the command to not have a pipe haha
[13:29:19] <dngray[m]1> emanuele6: yeah i did ask in there, but heh. it seems dead
[13:29:28] <dngray[m]1> either that or my message through the matrix bridge didn't come through
[13:41:57] *** Quits: Norkle (~norkle@admin.nasa-g0v.com) (Quit: Changing server)
[13:42:03] *** Joins: norkle (~norkle@admin.nasa-g0v.com)
[13:43:19] *** norkle is now known as Norkle
[13:57:08] *** Quits: extern (~archer@80.246.137.246) (Quit: GL with getting graphics help in here)
[15:15:40] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.2-dev)
[15:49:58] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 260 seconds)
[16:04:18] *** Joins: seninha (~seninha@user/seninha)
[17:01:13] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[17:27:06] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 260 seconds)
[17:29:01] *** Joins: earnestly (~earnest@user/earnestly)
[17:36:13] *** Joins: seninha (~seninha@user/seninha)
[17:55:35] *** Joins: m4n_ (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de)
[17:58:03] *** Quits: m4n (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de) (Ping timeout: 260 seconds)
[18:52:52] *** Joins: seninha_ (~seninha@user/seninha)
[18:55:14] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 260 seconds)
[19:06:09] *** Quits: seninha_ (~seninha@user/seninha) (Quit: Leaving)
[19:06:36] *** Joins: seninha (~seninha@user/seninha)
[19:11:09] *** Quits: sunny93 (~sunny93@wireguard/tunneler/sunny93) (Quit: Ping timeout (120 seconds))
[19:11:23] *** Joins: sunny93 (~sunny93@wireguard/tunneler/sunny93)
[19:36:04] *** Joins: Torr (~Torr@user/torr)
[19:36:28] *** Quits: Torr (~Torr@user/torr) (Client Quit)
[19:39:43] <nmz> beware of printf
[19:41:31] <nmz> echo %s\t%i hello 432 | awk '{printf($1,$2,$3)}'
[19:41:37] <nmz> # echo %s\t%i hello 432 | awk '{printf($1,$2,$3)}'
[19:41:39] <shbot> nmz: hellot432
[19:42:25] <nmz> # echo %s\t%i hello 432 | awk '{printf $1}'
[19:42:27] <shbot> nmz: awk: not enough args in printf(%st%i)
[19:42:27] <shbot> nmz:  input record number 1, file 
[19:42:27] <shbot> nmz:  source line number 1
[19:42:43] <nmz> always put %s in your printf's
[21:04:58] <e36freak> well, sometimes it's %d, or whatever
[21:05:11] <e36freak> but yeah use a format string
[21:32:15] *** Joins: X-Scale` (~ARM@31.22.147.35)
[21:33:02] *** Quits: X-Scale (~ARM@50.77.166.178.rev.vodafone.pt) (Ping timeout: 260 seconds)
[21:34:23] *** X-Scale` is now known as X-Scale
[22:05:52] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[22:11:47] *** Quits: euandreh (~euandreh@2804:14c:33:9fe5:eba7:95bb:d099:a7d8) (Ping timeout: 264 seconds)
[23:07:29] *** Quits: chasmo77 (~chas77@71.63.241.168) (Quit: It's just that easy)
