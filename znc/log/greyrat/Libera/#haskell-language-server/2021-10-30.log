[01:29:44] *** Quits: shapr (~user@pool-100-36-247-68.washdc.fios.verizon.net) (Remote host closed the connection)
[03:19:23] *** Joins: drsooch (~drsooch@cpe-45-46-39-116.maine.res.rr.com)
[03:30:03] *** Quits: terrorjack (~terrorjac@static.3.200.12.49.clients.your-server.de) (*.net *.split)
[03:30:03] *** Quits: jneira[m] (~jneiramat@2001:470:69fc:105::d729) (*.net *.split)
[03:30:03] *** Quits: michaelpj[m] (~michaelpj@2001:470:69fc:105::86e) (*.net *.split)
[03:32:16] *** Joins: jneira[m] (~jneiramat@2001:470:69fc:105::d729)
[03:33:25] *** Joins: terrorjack (~terrorjac@static.3.200.12.49.clients.your-server.de)
[03:34:46] *** Joins: michaelpj[m] (~michaelpj@2001:470:69fc:105::86e)
[03:37:03] <drsooch> Hi all, I reached out yesterday looking for help trying to find a way to find Numeric Literals in Haskell Source. Still unsuccessful, I'm new to HLS development so I still am trying to figure out the ins and outs.
[03:40:01] *** Quits: fendor (~fendor@178.115.69.81.wireless.dyn.drei.com) (Remote host closed the connection)
[05:36:43] *** Quits: myShoggoth (~myShoggot@97-120-85-195.ptld.qwest.net) (Quit: Leaving)
[05:38:39] *** Quits: drsooch (~drsooch@cpe-45-46-39-116.maine.res.rr.com) (Ping timeout: 256 seconds)
[05:52:59] *** Joins: drsooch (~drsooch@cpe-45-46-39-116.maine.res.rr.com)
[07:29:09] *** Quits: drsooch (~drsooch@cpe-45-46-39-116.maine.res.rr.com) (Ping timeout: 256 seconds)
[09:35:57] *** Joins: arrowd (~arr@2.93.55.66)
[10:56:52] *** Quits: arrowd (~arr@2.93.55.66) ()
[10:58:51] *** Joins: arrowd (~arr@2.93.55.66)
[13:10:02] <maerwald> hls ignores cabal.project.local?
[13:10:41] <maerwald> I have to use `-fobject-code` for my package due to some FFI stuff. I put it in cabal.project.local and hls fails
[13:10:46] <maerwald> but `cabal repl` succeeds
[13:16:05] <maerwald> yeah, it definitely doesn't behave like cabal repl
[13:27:24] *** Joins: konstantine (~konstanti@ppp046177045195.access.hol.gr)
[13:32:32] <wz1000> pepeiborra: not sure if you already know this but, most of the diff on #2316 is your garbage collection PR. The actual change itself is only about +400/-300
[13:41:46] <pepeiborra> wz1000: that's ok, it probably still makes sense to split out the VFS changes at least
[13:42:03] <wz1000> alright, I'll do that
[13:42:03] <pepeiborra> wz1000: how are you building ghcide with 9.2? Did you work around the retrie dep.?
[13:42:25] <wz1000> No, I'm building with a modified version of 8.10
[13:42:41] <pepeiborra> oh, ok
[13:43:05] *** Joins: fendor (~fendor@178.115.69.81.wireless.dyn.drei.com)
[13:46:37] <wz1000> pepeiborra: this bit about consulting the values map for `GetModificationTime` in defineEarlyCutoff' seems iffy to me, but I don't think I made it any worse that it was
[13:46:52] <wz1000> do you have any better ideas?
[13:49:56] *** Quits: konstantine (~konstanti@ppp046177045195.access.hol.gr) (Quit: konstantine)
[13:56:01] *** Joins: konstantine (~konstanti@ppp046177045195.access.hol.gr)
[14:13:24] <jneira[m]> <maerwald> "yeah, it definitely doesn't..." <- hmm it should, hls via hie-bios uses cabal repl underneath to collect ghc arguments
[14:14:16] <maerwald> I don't know, sometimes it works, sometimes it doesn't. It did report "plase add -fobject-code" at one point, but that was definitely in cabal.project.local at that time
[14:14:23] <maerwald> maybe there's some caching issues
[14:14:36] <jneira[m]> maybe it worths to debug hie-bios: `cabal install hie-bios && hie-bios debug path/to/file.hs`
[14:15:25] <mpickering> probably because hls doesn't ever use object code for TH?
[14:15:30] <jneira[m]> hls has a dedicated cabal build dir inside ~/.cache/hie-bios
[14:16:28] <wz1000> maerwald: you can enable -XUnboxedTuples to get object code
[14:16:30] <wz1000> I think
[14:17:12] <maerwald> I'm not even sure why I need it, but some of my FFI code seems to break cabal repl
[14:17:24] <wz1000> Do you also have TH?
[14:17:28] <wz1000> in the same project?
[14:17:30] <maerwald> sure
[14:18:10] <wz1000> ok, do you use any modules which have FFI in then with TH?
[14:18:17] <jneira[m]> https://github.com/haskell/haskell-language-server/issues/1813
[14:18:41] <wz1000> You can try https://github.com/haskell/haskell-language-server/pull/2316 it just might improve the situation
[14:19:11] <maerwald> I wonder why I need object code in the first place
[14:19:54] <jneira[m]> #771 by michaelpj might be related too
[14:42:38] <michaelpj[m]> Possibly dumb question, but is there a way we could at least fail more gracefully than a segfault when we have the TH issue? Part of the problem is it's especially confusing for users since they just get crashes ...
[15:08:58] *** Quits: konstantine (~konstanti@ppp046177045195.access.hol.gr) (Quit: konstantine)
[15:32:39] <maerwald> it seems `{-# OPTIONS_GHC -fobject-code #-}` for the offending module is enough, maybe that will contain the problems
[16:47:25] *** Quits: arrowd (~arr@2.93.55.66) ()
[19:23:16] *** Joins: fendor_ (~fendor@178.115.79.50.wireless.dyn.drei.com)
[19:25:32] *** Quits: fendor (~fendor@178.115.69.81.wireless.dyn.drei.com) (Ping timeout: 246 seconds)
[19:28:14] *** fendor_ is now known as fendor
[20:10:58] *** Joins: konstantine (~konstanti@ppp046177045195.access.hol.gr)
[20:44:03] *** Quits: konstantine (~konstanti@ppp046177045195.access.hol.gr) (Ping timeout: 260 seconds)
[21:06:02] *** Quits: fendor (~fendor@178.115.79.50.wireless.dyn.drei.com) (Remote host closed the connection)
[21:12:36] *** Joins: fendor (~fendor@178.115.79.50.wireless.dyn.drei.com)
[21:52:20] *** Joins: shapr (~user@pool-100-36-247-68.washdc.fios.verizon.net)
[22:31:56] *** Joins: drsooch (~drsooch@cpe-45-46-39-116.maine.res.rr.com)
[23:24:37] *** Joins: konstantine (~konstanti@ppp046177045195.access.hol.gr)
[23:35:19] *** Quits: juhp (~juhp@128.106.188.220) (Ping timeout: 260 seconds)
[23:38:13] *** Joins: juhp (~juhp@128.106.188.220)
[23:42:46] *** Quits: fendor (~fendor@178.115.79.50.wireless.dyn.drei.com) (Read error: Connection reset by peer)
[23:46:30] *** Joins: fendor (~fendor@178.115.79.50.wireless.dyn.drei.com)
