[00:08:55] *** Joins: Guest54 (~Guest54@2620:10d:c092:400::4:3275)
[00:11:30] *** Quits: weyhmueller (~weyhmuell@blofeld.nc.w9r.de) (Quit: ZNC 1.8.2 - https://znc.in)
[00:12:30] *** Joins: weyhmueller (~weyhmuell@blofeld.nc.w9r.de)
[00:28:37] *** Joins: quhar (~quhar@staticline-31-182-241-146.toya.net.pl)
[00:35:11] *** Quits: Guest54 (~Guest54@2620:10d:c092:400::4:3275) (Ping timeout: 256 seconds)
[00:57:27] *** Quits: nb (~nb@fedora/ansible.user.nb) (Quit: The Lounge - https://thelounge.chat)
[01:01:01] *** Joins: nb (~nb@fedora/ansible.user.nb)
[01:13:22] *** Quits: mthall (~quassel@mail.thalliman.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[01:14:33] *** Joins: mthall (~quassel@mail.thalliman.com)
[01:44:19] *** Quits: mthall (~quassel@mail.thalliman.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[01:46:12] *** Quits: ice9 (~ice9@user/ice9) (Ping timeout: 250 seconds)
[01:49:35] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[01:50:49] *** Joins: Niklas__E (~Niklas__E@176.10.248.196)
[01:51:15] *** Joins: mthall (~quassel@mail.thalliman.com)
[01:57:26] *** Parts: Niklas__E (~Niklas__E@176.10.248.196) ()
[02:08:33] *** Quits: quhar (~quhar@staticline-31-182-241-146.toya.net.pl) (Quit: WeeChat 3.4)
[02:19:29] *** Joins: saint_ (~saint42@user/saint/x-0207335)
[02:21:14] *** Joins: xMopx (~xMopx-lib@192.95.23.134)
[02:23:15] *** Joins: ferdna (~ferdna@user/ferdna)
[02:43:38] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Quit: shibboleth)
[02:57:56] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[03:06:50] *** Quits: saint_ (~saint42@user/saint/x-0207335) (Quit: UNIVERSE CORRUPTED. REBOOT (Y/N) ?)
[03:38:24] *** Joins: saint_ (~saint42@user/saint/x-0207335)
[04:01:29] <znf> What am I doing wrong here with this query? https://dbfiddle.uk/?rdbms=mysql_5.7&fiddle=ef3e4ed08c6e64b7cc13fb6fb7945c7f
[04:02:08] <znf> I'm trying to get count of how many users are on serverX on streamY
[04:29:30] <thumbs> znf: what do you not like about the results?
[04:38:33] <znf> thumbs, stream 1 is only 3 times on server 2
[04:38:42] <znf> oh
[04:38:47] <znf> wait, I think that's correct
[04:38:55] <znf> should have used different numbers, it's doing a number on my eyes
[04:39:22] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[04:55:18] <thumbs> /21/21
[05:39:58] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Read error: Connection reset by peer)
[05:41:27] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[05:59:11] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Read error: Connection reset by peer)
[05:59:31] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[06:20:03] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Read error: Connection reset by peer)
[06:20:20] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[06:21:59] *** Joins: jrenken_ (~jrenken@user/jrenken)
[06:23:24] *** Quits: jrenken (~jrenken@user/jrenken) (Ping timeout: 240 seconds)
[06:49:44] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[07:08:07] *** jrenken_ is now known as jrenken
[07:19:13] *** Quits: Vacuity (~Vacuity@user/vovo) (Ping timeout: 256 seconds)
[07:20:39] *** Joins: Vacuity (~Vacuity@user/vovo)
[08:15:02] *** Quits: alex88 (~alex88@ip72-207-140-105.lv.lv.cox.net) (Ping timeout: 272 seconds)
[09:08:13] *** Quits: weyhmueller (~weyhmuell@blofeld.nc.w9r.de) (Quit: ZNC 1.8.2 - https://znc.in)
[09:38:07] *** Joins: weyhmueller (~weyhmuell@blofeld.nc.w9r.de)
[09:41:58] *** Quits: adas (adas@adas.shelltalk.net) (Ping timeout: 260 seconds)
[09:48:42] *** Joins: adas (adas@adas.shelltalk.net)
[09:54:49] *** Quits: SleePy (SleePy@simplemachines/siteteam/SleePy) (Ping timeout: 256 seconds)
[09:55:56] *** Joins: SleePy (~SleePy@simplemachines/siteteam/SleePy)
[10:00:40] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[10:09:14] *** Quits: bodiccea (~bodiccea@user/bodiccea) (*.net *.split)
[10:09:14] *** Quits: defn (~n0b0dy@user/defn) (*.net *.split)
[10:09:14] *** Quits: jwash (~jwash@c-73-254-46-148.hsd1.wa.comcast.net) (*.net *.split)
[10:09:14] *** Quits: Spitfire (~spitfire@user/Spitfire) (*.net *.split)
[10:09:15] *** Quits: Phil-Work (~phil@62.3.100.20) (*.net *.split)
[10:14:34] *** Joins: bodiccea (~bodiccea@user/bodiccea)
[10:14:34] *** Joins: defn (~n0b0dy@user/defn)
[10:14:34] *** Joins: jwash (~jwash@c-73-254-46-148.hsd1.wa.comcast.net)
[10:14:34] *** Joins: Spitfire (~spitfire@user/Spitfire)
[10:14:34] *** Joins: Phil-Work (~phil@62.3.100.20)
[11:23:54] *** Joins: palasso (~palasso@user/palasso)
[12:29:32] *** Quits: nickodd (~nickodd@user/nickodd) (Ping timeout: 240 seconds)
[12:38:34] *** Quits: spacefrog (uid388336@id-388336.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[12:39:08] *** Joins: quhar (~quhar@192.162.148.48)
[12:40:45] *** Joins: ice9 (~ice9@user/ice9)
[12:51:00] *** Joins: ice99 (~ice9@user/ice9)
[12:53:58] *** Quits: DJ-ArcAngel (arcangel@2a02:c206:2082:112::1) (Quit: ZNC - https://znc.in)
[12:54:08] *** Joins: DJ-ArcAngel (arcangel@grid.nixsec.org)
[12:54:29] *** Quits: ice9 (~ice9@user/ice9) (Read error: Connection reset by peer)
[12:55:29] *** Joins: ice9 (~ice9@user/ice9)
[12:56:17] *** Quits: ice99 (~ice9@user/ice9) (Ping timeout: 240 seconds)
[13:31:49] *** Joins: mav`rik (~unknown@ec2-54-171-126-99.eu-west-1.compute.amazonaws.com)
[14:04:30] *** Joins: ice99 (~ice9@user/ice9)
[14:06:37] *** Quits: ice9 (~ice9@user/ice9) (Ping timeout: 240 seconds)
[14:19:16] *** Joins: ice9 (~ice9@user/ice9)
[14:21:02] *** Quits: ice99 (~ice9@user/ice9) (Ping timeout: 240 seconds)
[14:27:03] *** Joins: masber (~masber@213.55.226.32)
[14:28:40] *** Joins: carwash (~jwash@c-73-254-46-148.hsd1.wa.comcast.net)
[14:29:06] *** Quits: jwash (~jwash@c-73-254-46-148.hsd1.wa.comcast.net) (Ping timeout: 256 seconds)
[14:41:37] *** Quits: ice9 (~ice9@user/ice9) (Ping timeout: 240 seconds)
[15:01:51] *** Quits: bytestream (~bytestrea@user/bytestream) (Remote host closed the connection)
[15:02:43] *** Joins: ice9 (~ice9@user/ice9)
[15:30:41] *** Quits: masber (~masber@213.55.226.32) (Quit: Client closed)
[15:41:46] *** Quits: mjh4386_ (~mjh4386@165.22.53.231) (Ping timeout: 268 seconds)
[15:43:36] *** Joins: mjh4386 (~mjh4386@165.22.53.231)
[15:59:10] *** Joins: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861)
[16:10:59] <DF32> Hey, I saw this in the MySQL docs: "The length of a CHAR column is fixed to the length that you declare when you create the table. The length can be any value from 0 to 255. When CHAR values are stored, they are right-padded with spaces to the specified length. When CHAR values are retrieved, trailing spaces are removed unless the
[16:10:59] <DF32> PAD_CHAR_TO_FULL_LENGTH SQL mode is enabled. ". Does this mean that when we have fixed size (e.g. 50), if we store null it will still take 4 bytes?
[16:11:49] *** Joins: happycandy (~happycand@tmpgestion.clg.qc.ca)
[16:13:02] *** Quits: happycandy (~happycand@tmpgestion.clg.qc.ca) (Client Quit)
[16:13:11] <Naktibalda> NULL takes extra space :)
[16:13:29] <Xgc> DF32: NULL isn't 'NULL'
[16:13:54] <Naktibalda> it will take 51 byte
[16:14:43] <DF32> ups, I made a mistake. I don't know why I said 4 bytes, yes each char takes 1 byte depending on the encoding...
[16:15:06] <DF32> So the NULL (not 'NULL') wil ltake 51 bytes?
[16:15:25] <Naktibalda> that column will take 51 byte in every row
[16:15:56] <Naktibalda> NULL flag takes 1 bit, so if you have multiple nullable fields, up to 8 fields will be stored in 1 extra byte
[16:18:28] <Naktibalda> just use VARCHAR instead
[16:18:30] *** Joins: bytestream (~bytestrea@user/bytestream)
[16:20:11] <DF32> Hmm, so it will take 50 bytes either way +1 extra byte way to indicate if it is NULL or not. Didn't understand the "up to 8 fields" could you explain please
[16:23:07] <DF32> I'm just analyzing one database to suggest a few changes. They are storing the gender by writing the gender, I think they could do it with a tiny int
[16:23:16] <Naktibalda> if you have a few other fields nullable, they don't take extra byte to store NULL value each
[16:24:09] <Naktibalda> you can use tiny int if it is a foreign key to gender table
[16:25:08] <DF32> They have the gender stored in the users table
[16:25:20] <DF32> still, it could be tiny int there I think
[16:25:24] <DF32> *I think it could
[16:25:34] <Naktibalda> there are more than 2 genders
[16:25:52] <DF32> tiny int can have more than 2 numbers
[16:26:10] <Naktibalda> so you must store mapping from number to text somewhere
[16:27:11] <DF32> I was think right in the code, if we were storing in the database I don't thing I was making any significant change?
[16:27:18] <DF32> *I was thinking
[16:27:58] <DF32> *if we keep storing in the database
[16:30:16] <DF32> Oh I mean, some sort of pivot table and foreign key would definitly be better than having tons of text for gender for each user.
[16:31:34] <DF32> But having some sort of cast directly in the model would be nice as well... I don't know. This is not really my job, the db part, but I like to know a little of everything
[16:31:46] <DF32> Thanks for help
[16:31:51] *** Joins: masber (~masber@213.55.226.32)
[16:45:44] *** Joins: Sheilong (uid293653@id-293653.ilkley.irccloud.com)
[16:47:04] *** Quits: quhar (~quhar@192.162.148.48) (Quit: WeeChat 3.3)
[16:53:50] *** Quits: muley (~muley@76-245-68-99.lightspeed.iplsin.sbcglobal.net) (Remote host closed the connection)
[16:54:20] <Isotopp> DF32: mysql stores NULl values as bits (flags) in the row. The first nullable column will allocate a byte additionally per row, the next 7 nullable columns in that table are free, the 9th nullabble column will allocate a second byte per row
[16:55:01] <Isotopp> DF32: in general, when using innodb, specifying a thing as CHAR or BINARY is useless. innodb does not really have fixed length types. always use VARCHAR, VARBINARY instead.
[16:55:24] *** Joins: muley (~muley@76-245-68-99.lightspeed.iplsin.sbcglobal.net)
[16:55:36] <Isotopp> DF32: a low cardinality column such as gender can be encoded as an ENUM type, or as a tinyint with a lookup table.
[16:56:07] <Isotopp> DF32: the ENUM type is convenient if the value list is immutable, but in general in our work guidelines we suggest the tinyint into a lookup table.
[16:56:43] <Isotopp> DF32: be generous if the size, for 10 or fewer values use a tinyint, for things that you think fit into a byte provide a shortint (2 bytes), for everything else an int or even bigint.
[16:56:59] <Isotopp> DF32: extending a data type that runs out of space is annoying and for large tables very time consuming.
[16:57:56] <Isotopp> the article https://blog.koehntopp.info/2020/09/18/mysql-encoding-fields-for-great-profit.html describes how to migrate a repetetive freetext column into an int-based table with lookup.
[17:13:26] <Sheilong> I have three tables with relationships one to many. Say, A -> B -> C.  I want to sum a common value across the three tables. With two joins and a group by I have a new table, now I just need to sum those values, however due to grouping two tables together, the values of A and B are repeating. Hence I don't know how to sum the values from these tables this way.
[17:17:15] <Naktibalda> use separate queries
[17:20:05] <Sheilong> How do I mix them up later?
[17:24:39] <Naktibalda> in the app code
[17:29:10] <Naktibalda> or using subqueries
[17:30:08] <Naktibalda> SELECT FROM a LEFT JOIN (SELECT a_id, SUM(field) AS b_sum FROM b GROUP BY a_id) AS b_sub ON a.id = b_sub.a_id LEFT JOIN (SELECT b_id, SUM(field) AS c_sum FROM c GROUP BY b_id) AS c_sub ON b.id = c_sub.b_id
[17:48:17] *** Quits: treefrob (~treefrob@pd9e2dc5a.dip0.t-ipconnect.de) (Remote host closed the connection)
[17:48:45] *** Joins: treefrob (~treefrob@pd9e2dc5a.dip0.t-ipconnect.de)
[17:55:33] *** Quits: sunarch (sid526836@user/sunarch) (Ping timeout: 250 seconds)
[17:56:03] *** Quits: mifritscher (~mifritsch@mifritscher.de) (Quit: Quit)
[17:56:12] *** Joins: mifritscher (~mifritsch@mifritscher.de)
[17:56:52] *** Joins: sunarch (sid526836@user/sunarch)
[18:13:48] *** Quits: ice9 (~ice9@user/ice9) (Ping timeout: 240 seconds)
[18:16:49] <DF32> Isotopp Got it, thanks for the detailed explanation. I just didn't understand this part "be generous if the size, for 10 or fewer values use a tinyint, for things that you think fit into a byte provide a shortint (2 bytes), for everything else an int or even bigint". Why would I use sortint(2 bytes) for things that I know will take 1 byte? For
[18:16:50] <DF32> example the gender, I know I will only need 1 byte (3 numbers  that represent Male, Female, Other)
[18:38:05] *** Quits: gde33 (~gde33@84-106-154-98.cable.dynamic.v4.ziggo.nl) (Ping timeout: 256 seconds)
[18:46:08] *** Joins: gde33 (~gde33@84-106-154-98.cable.dynamic.v4.ziggo.nl)
[18:47:58] *** Quits: gde33 (~gde33@84-106-154-98.cable.dynamic.v4.ziggo.nl) (Client Quit)
[18:51:12] *** Quits: saba (~foo@31.192.227.241) (Quit: leaving)
[19:12:05] *** Joins: Guest54 (~Guest54@2620:10d:c092:400::4:d360)
[19:21:34] *** Joins: spacefrog (uid388336@id-388336.lymington.irccloud.com)
[19:29:14] *** Joins: Artea (~Lufia@artea.com.pt)
[19:47:05] *** Joins: nickodd (~nickodd@user/nickodd)
[20:06:29] *** Quits: Guest54 (~Guest54@2620:10d:c092:400::4:d360) (Ping timeout: 256 seconds)
[20:20:25] *** Quits: mav`rik (~unknown@ec2-54-171-126-99.eu-west-1.compute.amazonaws.com) (Quit: leaving)
[20:27:11] <Isotopp> DF32: a tinyint will take you from -128 to 127, an unsigned tinyint from 0 to 255.
[20:27:30] <Isotopp> so you expect to represent 10 values or less, use a tinyint.
[20:27:53] <Isotopp> because that gives you 20x runway or so, also the table with the lookup values will not be large
[20:28:40] <Isotopp> if you expect say, 250 values, use a shortint, if you expect even more (1000 values or more), use an int.
[20:28:52] <Isotopp> that provides you with sufficient runway for a table change fore you run out of values.
[20:29:42] <Isotopp> I had a customer last month who exhausted a signed int, more than 2 billion values, as primary key. this was events in a chat events table.
[20:30:08] <Isotopp> that happened -- unmonitored - on a saturday, and on wednesday they escalated that to me (already!). chat was down all the time
[20:30:58] <Isotopp> table change on their 2.5 TB of useless, mostly no longer needed chat events took several days, because of a confluence of unfavorable circumstances, bad design and operational stupidity.
[20:31:09] <Isotopp> so all in all about one week of downtime for that chat
[20:31:16] <Isotopp> well, probably wasn't important then
[20:46:43] *** Quits: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861) (Ping timeout: 256 seconds)
[20:48:30] *** Joins: coder7of9 (~coder7of9@user/coder7of9)
[21:01:00] *** Joins: loganrun (~quantum@45.131.192.74)
[21:03:21] *** Quits: kevr (~kevr@user/kevr) (Remote host closed the connection)
[21:03:39] *** Joins: kevr (~kevr@user/kevr)
[21:04:47] *** Joins: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861)
[21:06:20] <DF32> Isotopp Ahmm, got it, have some extra space to prevent future needs. Thanks
[21:06:26] <DF32> what did you do to solve your problem?
[21:07:07] <DF32> I answer earlier but apparently I wasn't logged in. If I send it twice, sorry
[21:27:47] *** Quits: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861) (Quit: Client closed)
[21:35:36] *** Quits: weyhmueller (~weyhmuell@blofeld.nc.w9r.de) (Quit: ZNC 1.8.2 - https://znc.in)
[21:36:34] <loganrun> on ubuntu 20.04 I tried service mysql start, but it fails. when I check status mysql.service it says. mysql.service: Start request repeated too quickly.
[21:39:03] <loganrun> Mar 18 14:06:57 mycomputer mysql-systemd-start[420783]: MySQL has been frozen to prevent damage to your system. Please see /etc/mysql/FROZEN for help
[21:39:25] <loganrun> Not sure if that is related but it is in the journalctl -xe output somewhere
[21:39:52] <loganrun> Is there a way to fix this, or does it just not work on this version of Ubuntu
[21:40:16] <thumbs> loganrun: do you have means to start MySQL manually without systemd?
[21:40:47] <loganrun> yes, how should I do that
[21:41:16] <loganrun> just running mysqld at the command line
[21:44:03] <thumbs> typically, via mysql_safe
[21:44:32] <loganrun> ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)
[21:44:51] <loganrun> isn't that just saying mysqld isn't running
[21:44:58] *** Joins: gamara (~gamara@cpe9050cade20e3-cm9050cade20e0.cpe.net.cable.rogers.com)
[21:50:19] *** Joins: weyhmueller (~weyhmuell@blofeld.nc.w9r.de)
[22:09:07] <loganrun> mysqld safe gives: https://dpaste.com/59KVT2WXR
[22:10:50] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[22:12:04] *** Quits: coder7of9 (~coder7of9@user/coder7of9) (Quit: Client closed)
[22:14:10] *** Joins: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861)
[22:17:08] <loganrun> what file permissions should /var/mysql have
[22:18:38] <loganrun> looks like 755
[22:30:54] <Terlisimo> says there you don't have /var/lib/mysql-files
[22:31:21] <Terlisimo> it should exist and (commonly) be owned by mysql.mysql
[22:32:46] <loganrun> I still can't figure out what the heck is going on. I installed removed and installed stuff. now if I run mysqld it seems to do nothing at all, no error even, but I don't think it is running
[22:33:02] <loganrun> systemctrl start mysql just hangs for a while and then errors out
[22:33:54] <loganrun> how can it be so freeking hard to get this to run.
[22:35:36] <loganrun> I did apt-get remove mariadb-server and it didn't like that
[22:35:53] <loganrun> why the heck do I need mariadb-server, I thought mysql was a server
[22:36:36] <loganrun> this is truly insane, there is no way to debug it and figure out what is going wrong it seems
[22:38:20] <loganrun> wonder if I need to remove mysql all together and try mariadb
[22:40:43] <loganrun> shrug
[22:40:49] *** Quits: loganrun (~quantum@45.131.192.74) (Quit: Leaving)
[23:07:41] *** Quits: masber (~masber@213.55.226.32) (Quit: Client closed)
[23:22:00] <Isotopp> loganrun is gone. too bad.
[23:22:53] <Isotopp> if you put invalid options into an ubuntu 20.04 mysql config -- any of the zillion files that are being searched for -- it will stop the way they describe. the error message can by found by grepping /var/log/syslog for mysqld
[23:23:33] <Isotopp> # grep mysql /var/log/syslog  | grep ERROR | tail -2
[23:23:41] <Isotopp> Mar 18 20:53:11 localhost mysqld[3404642]: 2022-03-18T19:53:11.510828Z 0 [ERROR] [MY-000068] [Server] unknown option '--hjsdhdhd'.
[23:23:44] <Isotopp> Mar 18 20:53:11 localhost mysqld[3404642]: 2022-03-18T19:53:11.511112Z 0 [ERROR] [MY-010119] [Server] Aborting
[23:26:56] <Isotopp> the crash is too early to register in /var/log/mysql/error.log btw
[23:36:45] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: A fine is a tax for doing wrong. A tax is a fine for doing well.)
[23:57:22] *** Quits: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861) (Quit: Client closed)
