[00:12:43] *** Quits: mumixam (~m@user/mumixam) (Ping timeout: 268 seconds)
[00:44:24] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Ping timeout: 250 seconds)
[00:49:35] *** Joins: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de)
[01:00:18] *** Quits: realies (~realies@user/realies) (Ping timeout: 260 seconds)
[01:01:15] *** Joins: realies (~realies@user/realies)
[01:05:04] *** Quits: axsuul (uid525261@2a03:5180:f:2::8:3cd) (Quit: Connection closed for inactivity)
[01:36:12] *** Quits: realies (~realies@user/realies) (Quit: Ping timeout (120 seconds))
[01:36:38] *** Joins: realies (~realies@user/realies)
[02:03:38] *** Quits: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8) (Ping timeout: 246 seconds)
[02:04:31] *** Joins: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8)
[02:19:02] *** Quits: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8) (Ping timeout: 240 seconds)
[02:29:04] *** Joins: Starfoxxes (~Starfoxxe@2a02:8070:53c9:cd00:12bf:48ff:feb8:38c8)
[03:42:29] *** Quits: gast0n (~g4570n@user/gast0n) (Ping timeout: 250 seconds)
[04:16:20] *** Quits: jkhsjdhjs (jkhsjdhjs@totally.rip) (Quit: Error: Leaving not permitted)
[04:16:32] *** Joins: jkhsjdhjs (jkhsjdhjs@totally.rip)
[05:30:37] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:43:55] *** Quits: indy (~indy@dsl-static-104.213-160-167.telecom.sk) (Quit: ZNC 1.8.2 - https://znc.in)
[05:45:52] *** Joins: indy (~indy@dsl-static-104.213-160-167.telecom.sk)
[05:49:29] *** Quits: indy (~indy@dsl-static-104.213-160-167.telecom.sk) (Client Quit)
[05:50:44] *** Joins: indy (~indy@dsl-static-104.213-160-167.telecom.sk)
[05:55:19] *** Quits: indy (~indy@dsl-static-104.213-160-167.telecom.sk) (Ping timeout: 244 seconds)
[06:00:02] *** Quits: moldorcoder7 (~moldorcod@37.120.143.30) (Ping timeout: 240 seconds)
[06:02:53] *** Quits: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de) (Ping timeout: 250 seconds)
[06:06:50] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[06:07:20] *** Joins: indy (~indy@dsl-static-104.213-160-167.telecom.sk)
[06:07:40] *** Joins: moldorcoder7 (~moldorcod@37.120.143.29)
[06:08:34] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[06:37:04] *** Joins: gast0n (~g4570n@user/gast0n)
[06:45:21] *** Quits: xx (~xx@user/xx) (Ping timeout: 250 seconds)
[06:59:06] *** Joins: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de)
[07:13:31] *** Quits: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de) (Ping timeout: 250 seconds)
[07:42:04] *** Joins: mumixam (~m@user/mumixam)
[08:14:24] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (*.net *.split)
[08:14:24] *** Quits: _quaddamage (~quaddamag@222.87.206.35.bc.googleusercontent.com) (*.net *.split)
[08:14:24] *** Quits: funkymonkey (~funky@6-173-177-143.ftth.glasoperator.nl) (*.net *.split)
[08:14:24] *** Quits: mete (~mete@static.201.165.216.95.clients.your-server.de) (*.net *.split)
[08:14:24] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (*.net *.split)
[08:14:24] *** Quits: lev__ (sid383991@ilkley.irccloud.com) (*.net *.split)
[08:14:24] *** Quits: wolfshappen (~waff@irc.furworks.de) (*.net *.split)
[08:15:12] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[08:15:12] *** Joins: _quaddamage (~quaddamag@222.87.206.35.bc.googleusercontent.com)
[08:15:12] *** Joins: lev__ (sid383991@ilkley.irccloud.com)
[08:15:12] *** Joins: mete (~mete@static.201.165.216.95.clients.your-server.de)
[08:15:12] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[08:15:12] *** Joins: wolfshappen (~waff@irc.furworks.de)
[08:17:07] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Max SendQ exceeded)
[08:17:07] *** Quits: wolfshappen (~waff@irc.furworks.de) (Max SendQ exceeded)
[08:17:07] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Max SendQ exceeded)
[08:17:36] *** Joins: wolfshappen (~waff@irc.furworks.de)
[08:17:40] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[08:18:35] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[08:32:42] *** Joins: vlm (~vlm@user/vlm)
[08:57:01] *** Quits: gast0n (~g4570n@user/gast0n) (Quit: Bye, see you soon! ðŸ‘‹)
[09:10:01] *** Joins: trace987 (~trace@91.66.153.65)
[09:13:32] *** Quits: lorimer (~lorimer@user/lorimer) (Ping timeout: 268 seconds)
[09:14:11] *** Joins: lorimer (~lorimer@user/lorimer)
[09:24:51] *** Quits: trace987 (~trace@91.66.153.65) (Ping timeout: 256 seconds)
[09:30:45] *** Joins: nerozero (~nerozero@87.253.63.54)
[09:41:55] *** Quits: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au) (Quit: coding || tired || sleepy)
[10:22:20] *** Joins: voltron (~voltrin_@ip5f599415.dynamic.kabel-deutschland.de)
[10:32:39] *** Quits: voltron (~voltrin_@ip5f599415.dynamic.kabel-deutschland.de) (Remote host closed the connection)
[11:21:50] *** Quits: mthall (~quassel@mail.thalliman.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[11:23:24] *** Joins: mthall (~quassel@mail.thalliman.com)
[11:34:00] *** Joins: realies3 (~realies@user/realies)
[11:34:23] *** Quits: FuraiTHD (~Furai@cookiehoster.furai.pl) (Quit: WeeChat 3.3)
[11:34:32] *** Quits: realies (~realies@user/realies) (Ping timeout: 240 seconds)
[11:34:32] *** realies3 is now known as realies
[11:37:46] *** Joins: Furai (~Furai@cookiehoster.furai.pl)
[11:41:45] *** Quits: Furai (~Furai@cookiehoster.furai.pl) (Client Quit)
[11:41:53] *** Joins: Furai (~Furai@cookiehoster.furai.pl)
[11:58:37] *** Joins: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au)
[11:59:48] *** Quits: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au) (Client Quit)
[12:04:14] *** Joins: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au)
[12:04:40] *** Quits: realies (~realies@user/realies) (Quit: Ping timeout (120 seconds))
[12:05:08] *** Joins: realies (~realies@user/realies)
[12:21:25] *** Joins: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de)
[12:35:49] *** Quits: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[12:42:01] *** Quits: phalanx7 (~thelounge@user/phalanx) (Quit: The Lounge - https://thelounge.chat)
[12:43:02] *** Joins: phalanx7 (~thelounge@user/phalanx)
[12:45:48] *** phalanx7 is now known as phalanx
[13:09:51] *** Quits: mthall (~quassel@mail.thalliman.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[13:10:50] *** Joins: mthall (~quassel@mail.thalliman.com)
[13:48:32] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Ping timeout: 240 seconds)
[14:30:16] *** Quits: csrf (~csrf@user/csrf) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[14:31:01] *** Joins: csrf (~csrf@user/csrf)
[15:04:33] *** Joins: shokohsc8 (~shokohsc@17.245.204.77.rev.sfr.net)
[15:24:22] *** Joins: xx (~xx@user/xx)
[16:31:48] *** Joins: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de)
[16:46:01] *** Joins: roxlu (~roxlu@2a01:7c8:aac0:286:8c3a:b01c:3830:245b)
[16:46:05] <roxlu> hi!
[16:47:20] <roxlu> I'm trying to connect to a VPN but I'm running into an error where the `route add` command seems to fail. I'm running on Linux (arch), using openvpn 2.5.4. 
[16:47:58] <roxlu> I think these are the relevant lines from the log: https://gist.github.com/roxlu/a782297f93b1cd28e0b41d6fd61b333a#file-error-log-L40-L44 anyone around who can explain me what the problem is?
[16:57:32] <BtbN> You seem to be trying to push routes to an IP that's not on the VPNs network
[17:04:52] <BtbN> "2021-11-09 12:41:54 Options error: Unrecognized option or missing or extra parameter(s) in [PUSH-OPTIONS]:5: register-dns (2.5.4)" is the actual error
[17:14:02] <roxlu> BtbN: hey, thanks! 
[17:14:23] <roxlu> BtbN: strangely I'm seeing the same error when I connect to another server which does work
[17:15:40] <roxlu> what I noticed is that the one which fails has `net_route_v4_add: 0.0.0.0/1 via 192.168.128.1 dev [NULL] table 0 metric -1` and the one which works has ` net_route_v4_best_gw result: via 192.168.178.1 dev enp0s31f6` the NULL seems a bit odd 
[17:16:06] <BtbN> well, obviously the route addition to keep the VPN server reachable via your original network works
[17:16:14] <BtbN> it is bound to see that network
[17:16:19] <BtbN> it does not see the .128. one
[17:16:50] <BtbN> I don't actually think I see it ever adding an address to the VPN interface at all?
[17:17:03] <roxlu> BtbN: yeah exactly that's the issue indeed
[17:17:31] <roxlu> one difference btw is that the one which works creates a `tun0` (with ip) and the one that doesn't work `tap0` (without ip)
[17:17:31] <BtbN> It just immediately starts pushing options and DNS
[17:28:29] <roxlu> BtbN: from my current understanding, the vpn server tries to traffic all my network via their server, is that what the 0.0.0.1/.. is used for?
[17:28:35] <nuala> following arch's wiki about easy-rsa I ended up running `init-pki` 3 times. (for the CA, for the server cert+key and then for the clients cert+key). Is there any harm to create all of these in a single "pki directory", sign the certs and distribute the keys as I see fit?
[17:32:33] <xx> nuala: normally you'd only run init-pki once
[17:33:39] <nuala> xx: thx!
[17:43:40] *** Quits: jmcgnh (~jmcgnh@wikipedia/jmcgnh) (Remote host closed the connection)
[17:51:14] <nuala> (( re-reading https://wiki.archlinux.org/title/Easy-RSA#CA_public_certificate indeed only suggested 2 init runs, for the CA and to create cert/key on the server. I missed the 'If the pki is not initialized....' part under OpenVPN client files ))
[17:51:20] *** Joins: jmcgnh (~jmcgnh@wikipedia/jmcgnh)
[18:07:05] <rob0> roxlu: you probably do not want to use tap/bridging.  And yes, a 0.0.0.0/1 route is a sign of a "--redirect-gateway def1" configuration setting (normally pushed from the server.)
[18:14:04] *** Joins: Pippin_ (Pippin_@openvpn/community/Pippin)
[18:14:04] *** ChanServ sets mode: +o Pippin_
[18:14:24] *** Quits: [diablo] (~diablo]@user/diablo/x-9068044) (Quit: The Lounge - https://thelounge.chat)
[18:22:14] <roxlu> rob0: thanks! is the tap/tun a client setting? or does this depend on how the server is configured?
[18:24:41] <rob0> it's both, but they have to be the same.
[18:25:53] <roxlu> ah ok thanks
[18:34:19] *** Quits: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de) (Quit: Leaving)
[18:34:39] *** Joins: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de)
[18:37:20] <roxlu> rob0: is there a way to somehow still allow the server to use `--redirect-gateway def1` but use a custom route so I can access the vpn network?
[18:53:32] <rob0> There is --route, which can also be pushed.  But why can't you access the VPN network?  Sounds like firewall.
[18:55:50] <rob0> you already have a route to the VPN network
[18:57:55] <roxlu> rob0: tbh I'm not sure why I can't access the network. what I see is that it fails to create a route: https://gist.github.com/roxlu/9c0cca98b76a20921a137c29d3459db9#file-production-txt-L5-L10 
[19:00:53] <rob0> tap0
[19:01:29] <roxlu> yes, I see that device is created but it has no ip
[19:02:39] <rob0> Why do you think you want tap?
[19:02:59] <roxlu> oh sorry that's not what I meant 
[19:03:05] <rob0> the second file is tun
[19:03:13] <rob0> fix that
[19:03:20] <rob0> BOTH must be tun
[19:03:41] <rob0> server and all clients
[19:03:45] <roxlu> the second one is working, where it says "staging". I got a openvpn config and I see that one uses tun the other (not-working) uses tap
[19:04:55] <roxlu> the first line of the non-working config has `dev tap`, the other (staging) has `dev tun`. Do you suggest that I shoul duse `dev tun` for the one which doesn't work?
[19:10:43] <rob0> BOTH endpoints of any tunnel absolutely must be the same, tun or tap, this is not negotiable.  Same driver, but layer 2 interfaces cannot connect to layer 3, and vice versa.
[19:12:08] <roxlu> ok, then I must use tap with one and tun for the other
[19:12:32] <rob0> how so
[19:12:39] <roxlu> I cannot configure the server
[19:12:43] <rob0> and why do you think you want tap at all?
[19:13:01] <roxlu> I think that I must use tap because that's in the config I got
[19:13:32] <rob0> oh, if you don't control both ends, you will have to talk to the server admin to be able to connect.  We can't help you much, if at al.
[19:14:04] <rob0> Also, it's insane to be connecting to two redirecting VPNs at the same time.
[19:14:20] <roxlu> ah ok thanks, yeah I won't be connected to two at the same time
[19:14:53] <roxlu> I was trying to find a solution while trying to connect to the tap version.. It's still not clear why it can't create the routes
[19:15:01] <rob0> Personally, I have little use for --redirect-gateway anyway.
[19:15:20] <rob0> tap is virtual ethernet
[19:15:55] <rob0> you'd normally get your IP address the same way an ethernet device would, DHCP
[19:16:22] <roxlu> is that for tap? or tun? 
[19:16:29] <roxlu> or both :^) 
[19:16:29] <rob0> if your server isn't giving you an IP address, only the server admin can help you
[19:16:35] <rob0> tap is virtual ethernet
[19:17:30] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Quit: Quiting)
[19:17:31] <rob0> layer 2.  tun is layer 3, virtual IP interface.
[19:18:20] <roxlu> why/when would you use tap?
[19:21:38] <rob0> if/when you need a bridge, such as for broadcast or non-IP protocols.  And most use of broadcast (such as Windows SMB/CIFS filesharing) can be fixed.
[19:23:42] <roxlu> ah ok thanks for explaining! 
[19:24:05] <roxlu> and does this mean that with tap it works differently when assigning an IP to the device compared to TUN?
[19:29:57] <ordex> it depends what you mean wih "works". but yeah, they are quite different as tap is layer2 and tun is layer3
[19:30:30] <roxlu> thanks ordex, i
[19:31:10] <roxlu> i'm trying to get an understanding why adding the routes via my tap based client config won't work ... and what I have to do to get this working
[19:31:29] <roxlu> .. with working I mean, that I want to be able to access the vpn network / ips
[19:31:33] <rob0> You have to have an IP address before you can do anything with IP.
[19:32:23] <roxlu> rob0: yeah, so I would guess/assume that the openvpn handles that, then sets up a route
[19:32:39] <roxlu> .. at least I see it's trying to setup routes which means it would also need an ip 
[19:34:35] <rob0> usually with tap you'd use DHCP
[19:35:15] <rob0> I have to confess, not sure how to do it with openvpn, because I have never needed tap.
[19:35:57] <rob0> You could connect to your tap server and try running a DHCP client.
[19:36:07] <roxlu> no probs, thanks for explaining things so far, I've got a way better understanding already
[19:36:28] <rob0> Hopefully that client won't try to mess aith your existing default route
[19:36:40] <roxlu> rob0: yep, I was thinking about that. I think I tried something like: `systemctl start dhcpcd@tap0` before but that resulted in an error.
[19:37:23] <roxlu> yeah so this is the error which I got when trying dhcpcd https://gist.github.com/roxlu/e8d53f1ad7df8f9f77d9efc9c930edd3 
[19:37:27] <rob0> yeah, I'd try with something like dhclient(8) or dhcpcd(8), not systemd.
[19:38:13] <roxlu> ah I see
[19:39:16] <rob0> any DHCP client will have to run as root
[19:41:42] <rob0> plaisthos: android client, can it use --user/--group?  I'd guess no, since it's not running as root anyway.
[19:46:40] <plaisthos> no
[19:46:54] <plaisthos> the app is running in its own process/user anyway
[19:47:01] <plaisthos> so it is already separated
[19:48:11] <rob0> gotcha, thanks
[19:57:18] *** Quits: shokohsc8 (~shokohsc@17.245.204.77.rev.sfr.net) (Read error: Connection reset by peer)
[19:59:48] <rob0> hmm, the android client parser seems to have removed my ifconfig line
[20:00:45] *** Joins: shokohsc8 (~shokohsc@17.245.204.77.rev.sfr.net)
[20:01:04] <plaisthos> rob0: hm, might be :)
[20:01:09] <rob0> I'm trying to do a p2p mode with TLS, the connection succeeded, but no IP address (I guess, not doing any adb or whatever yet.)
[20:01:30] <plaisthos> rob0: but it should put it into ip config tab
[20:01:37] <plaisthos> rob0: you are trying my app with openvpn2, right?
[20:01:42] <rob0> yes
[20:01:46] <plaisthos> openvpn3 does not support p2p at all
[20:02:23] <rob0> The OpenVPN 3 Core checkbox is not selected
[20:03:28] <rob0> yes, it put the right IP in the "IPv4 Address" setting
[20:03:38] <plaisthos> hm so that sounds good
[20:05:07] *** Joins: Pippin_ (Pippin_@openvpn/community/Pippin)
[20:05:07] *** ChanServ sets mode: +o Pippin_
[20:06:52] <rob0> ah, I guess it worked, just need to test wht I can do with the remote IP
[20:10:31] <plaisthos> rob0: Android does not care about the remote ip
[20:11:20] <plaisthos> (if you mean the remote ip on the tunnel interface)
[20:22:49] *** Quits: shokohsc8 (~shokohsc@17.245.204.77.rev.sfr.net) (Quit: Ping timeout (120 seconds))
[20:24:28] *** Joins: shokohsc8 (~shokohsc@17.245.204.77.rev.sfr.net)
[20:26:05] *** Quits: trace987 (~trace@ip5b429941.dynamic.kabel-deutschland.de) (Remote host closed the connection)
[20:30:25] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 250 seconds)
[20:32:32] *** Quits: shokohsc8 (~shokohsc@17.245.204.77.rev.sfr.net) (Ping timeout: 240 seconds)
[20:36:04] <rob0> oh, I should have started by telling you my goal :)
[20:36:58] <rob0> What I want to do with this p2p tunnel is to connect to a ircd running on the "server" side, using an android IRC client.
[20:37:47] <rob0> Going in and out of wifi/cell-data connections is very noisy and annoying in the IRC channels.
[20:38:25] <rob0> I guess an IRC bouncer might be another way to deal with the problem.
[20:45:14] <Pippin_> :) /join #znc
[20:54:24] <plaisthos> rob0: yeah should work
[21:04:04] <rob0> I tried http and https to the "server" peer.  Didn't work.  Maybe I should do a /30 for the IP address?  Server host is .1 and phone is .2
[21:04:24] <plaisthos> rob0: you might just need to add a route
[21:04:29] <rob0> lol, /30 raises its ugly head again :)
[21:04:36] <rob0> oh ok
[21:04:49] <plaisthos> the android API does not even require the gateway/peer IP to be routed via the tun
[21:07:53] <rob0> WORKS :)
[22:05:41] *** Joins: shokohsc8 (~shokohsc@227.245.204.77.rev.sfr.net)
[22:12:33] *** Quits: xx (~xx@user/xx) (Read error: Connection reset by peer)
[22:45:07] *** Quits: Haxxa (~Haxxa@122.199.46.64) (Quit: Haxxa flies away.)
[22:45:34] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[22:47:26] *** Joins: Haxxa (~Haxxa@122.199.46.64)
[23:21:12] *** Joins: remirol (~lorimer@user/lorimer)
[23:21:13] *** Quits: lorimer (~lorimer@user/lorimer) (Killed (NickServ (GHOST command used by remirol)))
[23:21:15] *** Joins: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[23:21:22] *** remirol is now known as lorimer
[23:23:14] *** Joins: vlm_ (~vlm@user/vlm)
[23:23:25] *** Joins: moldorcoder7_ (~moldorcod@37.120.143.29)
[23:24:52] *** Joins: phenom_ (~primus@user/phenom)
[23:25:33] *** Joins: jca2 (~jca@fma.wxcvbn.org)
[23:30:46] *** Quits: vlm (~vlm@user/vlm) (*.net *.split)
[23:30:46] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (*.net *.split)
[23:30:46] *** Quits: moldorcoder7 (~moldorcod@37.120.143.29) (*.net *.split)
[23:30:46] *** Quits: phenom (~primus@user/phenom) (*.net *.split)
[23:30:46] *** Quits: jca (~jca@fma.wxcvbn.org) (*.net *.split)
[23:30:47] *** vlm_ is now known as vlm
[23:43:11] *** Joins: shokohsc86 (~shokohsc@244.106.204.77.rev.sfr.net)
[23:43:32] *** Quits: shokohsc8 (~shokohsc@227.245.204.77.rev.sfr.net) (Ping timeout: 240 seconds)
[23:43:41] *** shokohsc86 is now known as shokohsc8
[23:47:58] *** Quits: shokohsc8 (~shokohsc@244.106.204.77.rev.sfr.net) (Quit: The Lounge - https://thelounge.chat)
