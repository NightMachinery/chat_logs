[01:26:30] *** Quits: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au) (Quit: coding || tired || sleepy)
[01:30:34] *** Joins: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au)
[02:40:36] *** Joins: mirko (~mirko@217.115.15.30)
[02:41:47] <mirko> 'lo, when providing static addresses via ccd (in topology subnet mode) and associate certain allowance/security/routing profiles given the IP addresses - can clients just alter their IP address / spoof one with higher privileges?
[02:51:29] *** Joins: skotos (~skotos@91.33.233.220.static.exetel.com.au)
[03:05:05] *** Quits: skotos (~skotos@91.33.233.220.static.exetel.com.au) (Quit: Leaving)
[04:30:26] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:50:38] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[04:57:04] *** Joins: vlm (~vlm@user/vlm)
[05:12:47] <rob0> I think openvpn will log and fail to forward packets with an unknown source address.
[05:21:21] *** Joins: realies (~realies@user/realies)
[06:07:36] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Quit: Ex-Chat)
[07:44:25] *** Quits: indy (~indy@dsl-static-104.213-160-167.telecom.sk) (Read error: Connection reset by peer)
[07:48:44] *** Joins: indy (~indy@dsl-static-104.213-160-167.telecom.sk)
[08:19:58] *** Quits: gast0n (~g4570n@user/gast0n) (Quit: Bye, see you soon! ðŸ‘‹)
[08:30:25] *** Quits: glcox (gcox@user/glcox) (*.net *.split)
[08:31:34] *** Joins: glcox (~gcox@user/glcox)
[08:33:36] *** Joins: nerozero (~nerozero@87.253.63.54)
[09:15:56] *** Joins: dd_ (dd_@gateway/vpn/protonvpn/dd/x-95652672)
[09:37:36] *** Quits: dd_ (dd_@gateway/vpn/protonvpn/dd/x-95652672) (Ping timeout: 245 seconds)
[09:52:58] *** Joins: dd_ (dd_@gateway/vpn/protonvpn/dd/x-95652672)
[09:57:54] *** Joins: remanifest (~remanifes@gateway/tor-sasl/remanifest)
[09:58:49] <remanifest> Hey all, I'm using OpenVPN 2.5.4 on Arch Linux. When I connect to the VPN from NetworkManager, the connection is successful, but once the connection is active, none of my traffic is routed to the internet. This same connection (using the same ovpn config file) is working successfully on macOS, so I know the connection itself is fine. Any tips on where I can start with troubleshooting?
[09:59:36] <remanifest> When I connect via openvpn3, the connection is also successful, but in that case, my "main" connection still works - the tunnel just isn't getting picked up.
[09:59:49] <remanifest> I'd prefer to use openvpn3 fwiw
[10:20:50] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[10:31:26] *** Joins: jonthesnow (~xizhendu@240e:404:8510:f62f:dadc::30c0)
[11:32:27] *** Quits: RypPn (~RypPn@user/ryppn) (Quit: Real-time updating is paused. (Resume))
[11:32:32] <peder> the output of 'ip r' should give you some info
[11:34:05] <ordex> remanifest: also note that NM takes your config, parses it and creates a new one for openvpn. therefore it's possible that this leads to a different behaviour compared to running "openvpn config.conf"
[11:43:26] <ordex> mirko: in tun mode that's not possible, because the server associates the IP with the client. sending data with a spoofed IP will result in the server rejecting the packets
[11:46:21] *** Quits: jonthesnow (~xizhendu@240e:404:8510:f62f:dadc::30c0) (Ping timeout: 245 seconds)
[11:57:32] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Quit: Leaving)
[11:57:53] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[12:00:16] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Client Quit)
[12:01:15] <remanifest> peder: thank you, ip r shows 172.0.0.0/8 via 172.27.252.1 dev tun0 and 192.168.251.0/24 via 172.27.252.1 dev tun0
[12:10:41] *** Joins: RypPn (~RypPn@user/ryppn)
[12:20:33] *** Quits: RypPn (~RypPn@user/ryppn) (Quit: Real-time updating is paused. (Resume))
[12:24:49] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[12:30:13] *** Joins: RypPn (~RypPn@user/ryppn)
[13:13:43] <peder> 172/8 is a bit wrong... 172.16.0.0/12 is the correct one
[13:20:55] *** Joins: Koopz (~Koopz@koopz.rocks)
[13:30:17] *** Quits: csrf (~csrf@user/csrf) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[13:30:37] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Quit: Leaving)
[13:31:01] *** Joins: csrf (~csrf@user/csrf)
[13:45:30] <Koopz> so i got an ovpn config from a customer and whenever i'm connected to their VPN their firewall get's in my way when i try to access resources outside of their network
[13:45:55] <Koopz> especially annoying when trying to access our own companie's intranet
[13:46:42] *** Parts: Oliber (~Oliber@user/oliber) (WeeChat 3.0.1)
[13:48:06] *** Quits: dd_ (dd_@gateway/vpn/protonvpn/dd/x-95652672) (Ping timeout: 244 seconds)
[13:48:15] <Koopz> as an absolute noob i don't see any obvious option that could lead to this problem though
[13:48:19] <Koopz> route remote_host 255.255.255.255 net_gateway
[13:48:35] <Koopz> which... should be a single route pointing to their vpn server
[13:50:52] <Koopz> i have no access to their VPN server configuration but i'm assuming they might push a redirect-gateway onto me?
[13:55:20] <ordex> Koopz: possible - just check the log and/or the routing table after connection
[13:55:25] <Koopz> according to the status window they actually push a route for the IP i'm having problems with
[13:56:35] <Koopz> thing is i can't even ping whatever THEIR 192.168.1.3 server might be
[13:57:20] <Koopz> can i remove routes pushed from the server on the client side?
[13:58:10] <ordex> yes, using --pull-filter
[13:58:19] <Koopz> oooh... neat
[13:59:02] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[14:03:02] *** Joins: dd_ (dd_@gateway/vpn/protonvpn/dd/x-95652672)
[14:03:45] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Client Quit)
[14:04:39] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[14:18:37] <Koopz> now if only i had a client newer than 2.7
[14:18:51] *** Joins: clarkk1 (~clarkk@45.12.223.85)
[14:19:19] *** Quits: clarkk1 (~clarkk@45.12.223.85) (Client Quit)
[14:19:48] <Koopz> i have "OpenVPN Connect V2" installed but this thing apparently doesn't check it's installation folder anymore for the presence of a "config" folder
[14:20:06] <Koopz> neither does it seem to care about the "OpenVPN" folder in my user dir
[14:20:53] <Koopz> this .ovpn file comes with certs so it's not just a matter of "importing this thing and be done with it"
[14:21:39] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Ping timeout: 260 seconds)
[14:23:06] <Koopz> alright let's try out the "OpenVPN GUI 2.5.4" which apparently is... an open source client?
[14:29:32] <Koopz> https://koopz.rocks/s/2021-10-25_12-59-26.png
[14:29:44] <Koopz> log file is empty
[14:57:22] <mirko> rob0: ordex: thanks!
[14:59:08] <mirko> maybe rather a openssl question, but when looking at the output of `openvpn --show-tls` i see "new" tlsv1.3 ciphers: e.g. TLS_CHACHA20_POLY1305_SHA256 and TLS_AES_128_GCM_SHA256. They don't include DHE or DHCE within their names. Are they therewith /not/ suited for PFS?
[15:23:44] *** Joins: Pippin_ (Pippin_@openvpn/community/Pippin)
[15:23:44] *** ChanServ sets mode: +o Pippin_
[16:01:49] *** Joins: realies3 (~realies@user/realies)
[16:02:26] *** Quits: realies (~realies@user/realies) (Ping timeout: 244 seconds)
[16:02:26] *** realies3 is now known as realies
[16:30:44] *** Joins: shiriru (~shiriru@user/shiriru)
[16:31:11] *** Quits: shiriru (~shiriru@user/shiriru) (Remote host closed the connection)
[16:48:18] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[16:59:29] <plaisthos> mirko: TLS 1.3 always has PFS
[17:00:23] <plaisthos> mirko: and the mechanism is different from ealier TLS versions. It is no longer tied to the cipher suite itself
[17:00:52] <plaisthos> so TLS 1.3 libraries will negotiate what they use for the ephermal keys
[17:03:04] <mirko> plaisthos: ok, they negogiate either DHE or ECDHE which makes it - after negotiation - one of the TLSv1.2?
[17:03:44] <mirko> also, does it mean, the only way to choose which kind of DH-variant for PFS to use is to explicitly select a TLSv1.2 one?
[17:06:49] *** Joins: Pippin__ (Pippin_@openvpn/community/Pippin)
[17:06:49] *** ChanServ sets mode: +o Pippin__
[17:06:49] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Killed (zirconium.libera.chat (Nickname regained by services)))
[17:06:49] *** Pippin__ is now known as Pippin_
[17:15:50] <plaisthos> mirko: neither
[17:15:56] <plaisthos> TLS 1.3 works a bit different
[17:17:18] <plaisthos> TLS 1.3 will use DHE, ECDHE but it is not tied to the ciphersuites anymore
[17:17:40] <plaisthos> mirko: you probably need accept that as it or read more up on how TLS 1.3 actually works :)
[17:17:54] <plaisthos> TLS 1.3 is more a TLS 2.0 than 1.3
[17:23:31] *** Quits: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au) (Ping timeout: 252 seconds)
[17:24:20] <remanifest> peder: Do you know how I might be able to solve that? I'm just a client in this case.
[17:25:49] <peder> remanifest: i guess those probably come via options pushed from the server, if so, someone needs to fix the config on the server
[17:28:04] <remanifest> Makes sense, but it works on macOS & (ostensibly) Windows.
[17:29:06] <peder> remanifest: yes, it probably will work, it will just route some of the public internet through your vpn 
[17:30:06] <peder> it is just 172.16.0.0 to 172.31.255.255 that are private adresses, the rest of it is public
[17:31:30] <peder> all 172. below 172.16 is AT&T for instance :)
[17:32:09] <peder> T-Moblie has 172.32-63
[17:32:46] <peder> then cloudflare, .64-71
[17:35:46] <peder> but anyways, those routes you showed seems ok enough, unless some of the other routes has precedence
[17:48:08] <mirko> plaisthos: fair enough and thanks a lot for elaboration and input :)
[17:49:20] *** Pippin_ is now known as Guest3527
[17:49:20] *** Joins: Pippin__ (Pippin_@openvpn/community/Pippin)
[17:49:20] *** ChanServ sets mode: +o Pippin__
[17:49:20] *** Quits: Guest3527 (Pippin_@openvpn/community/Pippin) (Killed (cadmium.libera.chat (Nickname regained by services)))
[17:49:20] *** Pippin__ is now known as Pippin_
[17:54:29] *** Joins: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au)
[18:58:01] *** Quits: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8) (Ping timeout: 245 seconds)
[19:11:30] *** Joins: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8)
[19:15:47] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 258 seconds)
[21:04:24] *** Joins: gast0n (~g4570n@user/gast0n)
[21:27:06] *** Quits: BOWnbERTHA (~BOWnbERTH@178.239.165.202) (Quit: Bye Bye)
[21:28:04] *** Joins: BOWnbERTHA (~BOWnbERTH@178.239.165.202)
[21:33:02] *** Joins: zerocool (~runcmd@user/zerocool-ng)
[21:33:04] <zerocool> hi there
[21:34:06] <zerocool> can someone tell me what directive in openvpn config controls how ip addresses are distributed? basically i don't want people to get a inet/peer ip without a ccd file.
[21:34:30] <zerocool> or, i'd like to stick these people in a specific scope that has no permit ACL's, basically jail
[21:42:52] <Pippin_> see --ccd-exclusive in manual 2.5: https://build.openvpn.net/man/openvpn-2.5/openvpn.8.html
[21:45:42] <zerocool> thank you Pippin_ i appreciate you.
[21:46:33] <Pippin_> yw
[21:50:14] <zerocool> im on version 2.4.7, i see this option in 2.4 docs so I should be okay. added to server.conf, should work when reloaded. without that option are people dhcp'd ip's in the server's main network?
[21:51:00] <zerocool> for instance in server.conf, `server 192.168.1.1 255.255.255.0`
[22:26:38] <Pippin_> no, they are assigned an ip in the tunnel network, 192.168.1.1 255.255.255.0
[22:45:07] *** Quits: Haxxa (~Haxxa@89nnjg0xckz9ggn6r5xm.ip6.superloop.com) (Quit: Haxxa flies away.)
[22:47:28] *** Joins: Haxxa (~Haxxa@89nnjg0xckz9ggn6r5xm.ip6.superloop.com)
[23:31:07] *** Quits: Pippin_ (Pippin_@openvpn/community/Pippin) (Quit: Quiting)
[23:40:39] *** Parts: Koopz (~Koopz@koopz.rocks) (The Lounge - https://thelounge.chat)
