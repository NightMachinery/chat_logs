[00:39:35] <rob0> colo, right.  They would like to exterminate all small mail hosters.
[00:39:39] *** Quits: jotik (~J@user/jotik) ()
[00:41:08] *** Joins: jotik (~J@user/jotik)
[00:51:49] <dob1> returning to List-Unsubscribe, so havint it as header, List-Unsubscribe: <mailto:foo@example.com>   (there is a real address in mailto),  in gmail an unsubscribe button near the sender email has to appear, or am I wrong?
[01:10:20] <dob1> for example from a spam email List-Unsubscribe: <http://something.com/Services/Interaccion.svc/DesuscribirContactoEnvio?datos=5f6dk-R-ixfxyrxBKuwfjc5p4c-R-6g6gm>  works
[01:30:05] *** Quits: CyberTailor (~cyber@gateway/tor-sasl/cybertailor) (Quit: Konversation terminated!)
[02:05:08] <dob1> ok, I found that the link button for unsubscribe in gmail appears based on the reputation of the sender
[02:12:29] <thumbs> sm: terrific
[02:12:32] *** Quits: tmberg (tmberg@idlerpg/player/tmberg) (Ping timeout: 240 seconds)
[02:12:44] <thumbs> sm: you're welcome
[02:13:50] *** Joins: tmberg (tmberg@idlerpg/player/tmberg)
[02:41:42] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[03:07:29] *** Quits: peer (peer@fosshost/techops/peer) (Quit: Ping timeout (120 seconds))
[03:07:44] *** Joins: peer (peer@fosshost/techops/peer)
[03:11:09] *** Quits: Guest7375 (~vit@chello085216193138.chello.sk) (Quit: Konversation terminated!)
[03:11:27] *** Joins: vit (~vit@chello085216193138.chello.sk)
[03:11:51] *** vit is now known as freeworld
[03:18:03] *** Quits: freeworld (~vit@chello085216193138.chello.sk) (Quit: Konversation terminated!)
[03:18:21] *** Joins: freeworld (~vit@chello085216193138.chello.sk)
[03:20:05] *** Quits: freeworld (~vit@chello085216193138.chello.sk) (Client Quit)
[03:20:26] *** Joins: freeworld (~vit@chello085216193138.chello.sk)
[03:21:47] *** Quits: freeworld (~vit@chello085216193138.chello.sk) (Client Quit)
[03:22:06] *** Joins: freeworld (~freeworld@chello085216193138.chello.sk)
[04:15:49] *** Quits: freeworld (~freeworld@chello085216193138.chello.sk) (Ping timeout: 240 seconds)
[05:30:31] *** Quits: john122 (~john122@115.red-83-52-125.dynamicip.rima-tde.net) (Ping timeout: 256 seconds)
[05:36:56] *** Joins: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net)
[07:02:05] *** Quits: SallyAhaj_ (~SallyAhaj@user/sallyahaj) (Read error: Connection reset by peer)
[08:38:15] *** Joins: freeworld (~freeworld@chello085216193138.chello.sk)
[08:52:48] *** Quits: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net) (Quit: Leaving)
[10:45:29] *** Joins: Atque (~Atque@user/atque)
[12:27:35] *** Quits: freeworld (~freeworld@chello085216193138.chello.sk) (Ping timeout: 256 seconds)
[12:30:54] *** Joins: SallyAhaj (~SallyAhaj@user/sallyahaj)
[12:43:52] *** Quits: bitblit (~bitblit@gateway/tor-sasl/bitblit) (Remote host closed the connection)
[12:46:14] *** Joins: bitblit (~bitblit@gateway/tor-sasl/bitblit)
[13:04:30] *** Joins: freeworld (~freeworld@chello085216193138.chello.sk)
[13:27:54] <merpaderp> woo, configured dovecot to handle mail from postfix with pgsql virtual maps
[13:28:09] <merpaderp> by following some weird guide and fixin things 3 times over
[13:28:14] <merpaderp> incredibly hard to get right
[13:28:33] <merpaderp> and so far I see my domain is still hardcoded into couple of places, so no way this can easily be extended to handle multiple domains
[13:28:38] <merpaderp> probably due to trash guide I followed
[13:29:15] <merpaderp> are there alternatives to dovecot?
[13:29:46] <Khepra> it's hard to figure it out until you finally do it, and then it looks trivial, in hindsight :)
[13:30:30] <Khepra> cyrus is one (the?) alternative to dovecot
[13:32:18] <jelly> I'm not sure mappings for some random sql schema are dovecot's fault
[13:50:34] *** Joins: john122 (~john122@115.red-83-52-125.dynamicip.rima-tde.net)
[14:09:07] *** Quits: acagastya (~acagastya@wikinews/acagastya) (Remote host closed the connection)
[14:09:12] *** Quits: SallyAhaj (~SallyAhaj@user/sallyahaj) (Read error: Connection reset by peer)
[14:11:37] *** Joins: acagastya (~acagastya@wikinews/acagastya)
[14:18:19] *** Parts: acagastya (~acagastya@wikinews/acagastya) ()
[14:49:03] *** Quits: freeworld (~freeworld@chello085216193138.chello.sk) (Ping timeout: 252 seconds)
[14:53:36] *** Joins: SallyAhaj (~SallyAhaj@user/sallyahaj)
[15:06:19] <merpaderp> the SQL part was the working part
[15:06:26] <merpaderp> me copy pasting config was at fault
[15:28:40] *** Joins: freeworld (~freeworld@chello085216193138.chello.sk)
[15:34:01] *** Quits: freeworld (~freeworld@chello085216193138.chello.sk) (Ping timeout: 256 seconds)
[15:34:26] *** Joins: freeworld (~freeworld@chello085216193138.chello.sk)
[16:46:14] <merpaderp> okay, modified dovecot so domain is not hardcoded into query but instead split from user@domain part
[16:47:46] <merpaderp> its not clear wether dovecot finds maildir by using query or from, idk, mail_location config line
[16:52:48] <Khepra> merpaderp: mail_location, overrideable via userdb{}'s override_fields, and "home" field
[16:53:18] <Khepra> (which btw, can use variables with localpart and domain components)
[16:53:21] <merpaderp> thanks for this piece of valuable info
[16:53:49] <merpaderp> so in theory, ima just INSERT a new domain into virtual_domains and add a user for it, and dovecot should be happy to serve it
[16:55:08] <Khepra> depends on your config.  I have it set up that way, yes.  userdb{ ....;   override_fields = home=/srv/vmail/%d/%n uid=... gid=... }  so the maildir path is taken from the lmtp recipient
[16:56:02] <Khepra> coulda have static mail_location set like that yes, but I have different userdbs so I like the consistency of defining home maildirs via userdb
[17:01:25] <rob0> Before the rise of Dovecot, courier-imap was a popular choice.  But I don't know if it ever added in LMTP and other advanced features that Dovecot has.
[17:01:39] <merpaderp> it works!
[17:02:08] <merpaderp> sent an email between two domains on same dovecot and all I did was just INSERT it into virtual_domains
[17:02:11] <merpaderp> so cool
[17:02:31] <rob0> Cyrus IMAP was ahead of Dovecot in such things, but it never seemed to catch on much, at least when judging by IRC questions/answers.
[17:03:06] <rob0> Dovecot's definitely the one with best IRC support.
[17:03:19] <rob0> as is Postfix for MTA
[17:05:41] <merpaderp> I guess some kind of load balancer has to be set in front of Dovecot, like HAproxy which will handle out diff certificates based on TLS SNI
[17:06:39] <merpaderp> or I just configure correct imaps domain address in email client 
[17:07:28] <merpaderp> is there a change this can be setup accross multiple servers? I understand DB part has no issues in that regard with replications
[17:07:43] <merpaderp> but dovecot stores everything still on disk, so that disk has to be network shared, ex NFS
[17:09:23] <rob0> look at director
[17:09:41] <rob0> I set up a director cluster some years ago
[17:12:36] <rob0> I don't know about SNI.  That addresses a problem which I am not interested to try to fix.
[17:13:55] <rob0> Like all the big hosters, if I am hosting your email, I tell you the hostnames to use for it, and you pay me substantially more if you want me to set it up on your own hostnames.
[17:16:40] <merpaderp> the other extreme would be to put dovecot into... drum roll... kubernetes!
[17:16:59] <merpaderp> in hindsight it would totally work, I think
[17:17:53] <rob0> I'd still make them pay.
[17:18:13] <merpaderp> with blood
[17:18:27] <rob0> No major hosting services that I have seen do the SNI thing.
[17:19:03] <Khepra> xcept all the cpanel ones :)
[17:19:10] <rob0> $dayjob uses a hoster and our webmail is their domain name.
[17:19:25] <rob0> cpanel != professional hosting :)
[17:19:31] <merpaderp> so if I understand it right there are no issues with two instances of dovecots using same maildir
[17:19:50] <Khepra> rob0: eh not sure what you mean by that, but cPanel is the cornerstone of professional (shared) hosting.
[17:20:19] <Khepra> from original sellers, to resellers, and resellers of resellers,  through small time DIY installations 
[17:20:41] <rob0> sure.  The whole point of maildir is that no locking is necessary.  Any number of imapd instances should be able to read/write the same maildirs.
[17:20:46] <rob0> merpaderp: ^^
[17:21:00] <merpaderp> thanks
[17:21:34] <rob0> Khepra: the likes of Microsoft and Google and many other large hosters are not using cpanel.
[17:21:43] <Khepra> except there's the question of dovecot.* files, indexes..... not sure those are threadsafe
[17:22:23] <Khepra> rob0: sure, they don't. but you can't discount many large (with tens of thousands of customers) shared hosting mega enterprises based on cpanel
[17:22:25] <merpaderp> my question was more like about two dovecots on two different servers, using same DB for user auth and shared disk for maildir
[17:22:58] <Khepra> I'm not sure that would work due to dovecot specific files in maildirs
[17:23:41] <merpaderp> you are right, there is bunch of files in there by dovecot
[17:24:34] <rob0> The maildir standard was supposed to be agnostic of implementation.
[17:27:48] <merpaderp> I guess it is, but still dovecot keeps some index files in same dir which will be used by another dovecot and possible collide
[17:27:49] <bookworm> for the mail files, yes. Not so much additional index files
[17:28:31] <rob0> you definitely should not keep index files in a maildir
[17:28:51] <merpaderp> I didn't ask it to!
[17:28:54] <rob0> Dovecot documents that you should have $HOME directories for all users.
[17:29:02] <rob0> you must not have done that
[17:30:48] <merpaderp> that is like a dir to store dovecot files for each user separate from users mail?
[17:31:21] <rob0> yes, look it up on the wiki
[17:33:28] <merpaderp> yeap, it's exactly that. will configure those now.
[17:34:34] <Khepra> wait wait wait wait... where does dovecot wiki say that
[17:35:02] <merpaderp> wiki.dovecot.org/VirtualUsers/Home
[17:36:02] <Khepra> oh this just wonderful...
[17:37:13] *** Joins: CyberTailor (~cyber@gateway/tor-sasl/cybertailor)
[17:37:46] <merpaderp> what is?
[17:38:19] <Khepra> my misunderstanding of home vs home where home isn't $HOME but its home in another context and they're both homes just depending on which one you mean and then yeah.
[17:38:45] <merpaderp> it has nothing to do with /home/$user/ on system or so I figured from that wiki
[17:38:50] <rob0> home my gosh!
[17:38:53] <merpaderp> I configured mail_home and dovecot didnt create anything in there
[17:42:43] <lunaphyte> the short version is that dovecot can be configured to keep all of its special files outside of the maildir directory structure
[17:42:59] <lunaphyte> that's just what i do, for exactly that reason
[17:43:18] <merpaderp> that's exactly what I am trying to configure now, mail_home is not that variable.
[17:45:13] <rob0> mail_home is a global thing, but iirc it can use variables
[17:45:31] *** Joins: inak (~akD1@209-112-220-139-radius.dynamic.acsalaska.net)
[17:45:50] <Khepra> so I've set up my dovecot systems over a decade ago. I've been dragging the config files since then. There was that 1.x to 2.x transition, but in genral, every software update is like this:   > run the tests!  > email is coming, pop3 works, imap works.   > k, leave it, it's done; off to the pub!    ; so what if my emailing setup is held by duct tape and sheer luck. that's part of the reason I'm telling 
[17:45:56] <Khepra> everyone to gtfo to o365 or gmail.
[17:46:23] <merpaderp> lol
[17:46:26] <superkuh> Yeah. The upgrade after a decade is certainly tedious.
[17:46:43] <superkuh> Or porting, I should say.
[17:47:10] <merpaderp> mail_home = /var/mail/home/%d/%n is what I have setup
[17:48:11] <lunaphyte> i'd have to look back at how i configured things, to refresh my memory, but my directory structure looks like this: https://dpaste.com/2BT2EUK37
[17:49:08] <merpaderp> right.
[17:49:25] <merpaderp> it's separated from maildir as it should be
[17:51:33] <lunaphyte> oh, i did this, for passdb:
[17:51:36] <lunaphyte> user_attrs = uid=home=/home/%$/mail, uidnumber=uid, gidnumber=gid, homedirectory=mail=maildir:%$/mail/Maildir:CONTROL=%$/mail/control:INDEX=%$/mail/index
[17:52:06] <Khepra> uid=home=  ?
[17:52:13] <lunaphyte> and userdb too, of course
[17:52:42] *** Joins: minimal (~minimal@user/minimal)
[17:53:43] <merpaderp> interesting
[17:53:57] <merpaderp> I did this and it seems to have worked: mail_location = maildir:/var/mail/vhosts/%d/%n:INDEX=/var/mail/home/%d/%u:VOLATILEDIR=/var/mail/home/%d/%u
[17:54:21] <merpaderp> your version overrides mail_location, right?
[17:55:14] <lunaphyte> it's been so long.  i don't recall the specifics of the mechanics
[17:55:32] <merpaderp> okay, important part that it got separated afterall
[17:55:44] <merpaderp> now maildir can be distributed and multiple dovecots shouldnt setp on each other toes
[17:56:02] <merpaderp> will write ansible playbook and test this thing out... sometime.
[17:56:12] <merpaderp> f in mail stands for fun
[17:59:54] <rob0> lol, indeed
[18:10:03] *** Quits: john122 (~john122@115.red-83-52-125.dynamicip.rima-tde.net) (Read error: Connection reset by peer)
[18:12:42] *** Joins: john122 (~john122@185.198.243.156)
[18:19:32] *** Quits: john122 (~john122@185.198.243.156) (Ping timeout: 240 seconds)
[18:19:54] *** Joins: ecdhe (~ecdhe@user/ecdhe)
[18:30:59] *** Joins: john122 (~john122@185.192.69.89)
[19:12:32] *** Quits: john122 (~john122@185.192.69.89) (Ping timeout: 240 seconds)
[19:15:40] *** Joins: labrador (~labrador@user/labrador)
[19:25:52] *** Quits: tmberg (tmberg@idlerpg/player/tmberg) (Quit: tmberg)
[19:38:15] *** Quits: inak (~akD1@209-112-220-139-radius.dynamic.acsalaska.net) (Ping timeout: 256 seconds)
[19:59:51] *** Joins: inak (~akD1@209-112-220-139-radius.dynamic.acsalaska.net)
[20:06:03] *** Quits: labrador (~labrador@user/labrador) (Quit: Leaving)
[20:37:30] *** Quits: jimpop (~jimpop@user/jimpop) (Quit: leaving)
[20:39:51] *** Joins: jimpop (~jimpop@user/jimpop)
[21:50:40] *** Joins: john122 (~john122@115.red-83-52-125.dynamicip.rima-tde.net)
[22:03:31] *** Joins: rela (~x@p200300cba718da0051c60011dbb734ca.dip0.t-ipconnect.de)
[22:26:51] *** Quits: inak (~akD1@209-112-220-139-radius.dynamic.acsalaska.net) (Quit: IceChat - It's what Cool People use)
[22:32:24] *** Joins: tmberg (tmberg@idlerpg/player/tmberg)
[22:36:21] *** Quits: rela (~x@p200300cba718da0051c60011dbb734ca.dip0.t-ipconnect.de) (Quit: Leaving)
[22:45:26] *** Quits: Duchess (~Duchess@2604:3d08:1:1b:c189:b6ab:68c1:858f) (Quit: Client closed)
[22:48:46] *** Joins: Duchess (~Duchess@2604:3d08:1:1b:c189:b6ab:68c1:858f)
[22:49:41] *** Joins: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net)
