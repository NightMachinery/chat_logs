[00:19:02] <ke4nhw> Any ideas?
[00:29:29] <ke4nhw> I'll brb I'm gonna try a restart...
[00:29:35] *** Quits: ke4nhw (~ke4nhw@user/ke4nhw) (Remote host closed the connection)
[00:32:54] *** Joins: becm (~becm@55d42579.access.ecotel.net)
[00:43:17] *** Quits: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[00:44:42] *** Joins: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de)
[00:46:16] *** Joins: ke4nhw (~ke4nhw@user/ke4nhw)
[00:47:35] <ke4nhw> Okay I'm back, and back in business. It's connected. I guess I just needed to restart the Windows client. I would say odd but, hey, it is Windows
[00:52:21] *** Quits: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[00:55:57] *** Joins: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de)
[00:56:36] *** Quits: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de) (Read error: Connection reset by peer)
[01:06:11] <rob0> ke4nhw: Connect is the proprietary client designed for Access Server and the Cloud service, which provide inline client config files.  But it should be able to connect to a community openvpn server also.  Were the keys in place before you tried to import the config?
[01:09:45] *** Joins: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de)
[01:09:58] <ke4nhw> There was no config folder for me to place the config file and keys.
[01:12:07] <ke4nhw> I had no idea as to where to place my config file and keys, and it was adamant about me having an account on their cloud service.
[01:15:03] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Read error: Connection reset by peer)
[01:16:42] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[01:23:45] *** Quits: structoha (~structoha@gateway/tor-sasl/structoha) (Ping timeout: 276 seconds)
[01:32:32] <rob0> no, there is no config folder.  You open the config where it may be, Connect imports it.
[01:33:06] <rob0> anyway, probably best to use the community client anyway.
[01:33:22] <rob0> with two anyways!
[01:33:37] <ke4nhw> with two?
[01:38:17] <ke4nhw> If you're talking about clients, I'm going to have more than two. Not talking about a hundred or something, but I'm already generating keys for 11 remote users.
[01:40:40] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Remote host closed the connection)
[01:40:57] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[01:41:30] <rob0> Started and finished a line with "anyway", "two anyways".
[01:41:53] <ke4nhw> As for the clients, is there any difference in the level of security provided by the community client or the Connect client? Or does that come down to the keys being used?
[01:42:51] <rob0> well, crypto is rarely the weakest point if you're trying to break a vpn
[01:43:45] <ke4nhw> usually either the host/client machine or the server or client software, true?
[01:44:44] <rob0> usually users with sloppy practices
[01:45:32] <ke4nhw> Yep that too.
[01:48:17] <ke4nhw> I'm not perfect, but I do try to be careful. Keeping a tight reign on the keys, invalidating any keys that are no longer in use or may have been compromised, distributing keys/configs physically and in person, and I only use one flash drive for key distribution which I delete after each use and occasionally wipe/format, and that flash stays locked in my safe when I'm not distributing keys.
[01:51:59] <ke4nhw> I also try to keep the server protected against remote or physical abuse as best I can, and I encourage my users to protect their computers and their keys, and to tell me if there's even a potential compromise. Aside of that I keep a close eye on logs to look for anything oddball that doesn't match a particular user's usual activity.
[01:54:32] <BtbN> CentOS7 is probably also so old that it doesn't support modern Crypto
[01:54:52] <ke4nhw> Then the standard stuff: Keep up with updates, monitor system logs, look for anything out of the ordinary, Having users employ best practices (strong passwords, not leaving unlocked system unattended, etc), and I use a "least access" policy (some users are configured with /sbin/nologin shell because they only need access to services not requiring a system login)
[01:55:15] *** Joins: bgpepi (~bgpepi@ip-212-239-173-106.dsl.scarlet.be)
[01:56:35] <ke4nhw> Yep, and that's the reason for my building the RHEL 8 vm. Once I get it built (almost done) I will use that build to wipe/reinstall the host with RHEL 8, with RHEL 8 vm clients.
[01:57:12] <ke4nhw> So everything will be RHEL 8, until such time as RHEL 9 releases.
[01:57:34] <ke4nhw> Like I say, I'm not perfect, but I do try. 
[02:00:36] <ke4nhw> I'm also not a business or company, and the sensitivity of the files and data on the servers aren't exactly Top Secret. The highest thing I have is in the UNCLAS-FOUO (those are buried deeply and encrypted heavily though), and the rest there are some files I consider confidential, but the most part it's just regular data where the integrity and availability are the primary focus.
[02:01:05] <ke4nhw> All the sensitive files are not located on the host.
[02:04:50] <ke4nhw> My wife has a lot of graphics files on the file server that are either irreplaceable pictures or documents (backed up offline of course) or graphics for the home business she's doing (she makes stuff like vinyl decals to go on your car, wall, etc, designs on clothing or other fabric, engraving, stuff like that, which availability and integrity is the important factors.
[02:07:32] <ke4nhw> Given this kind of setup, do you have any good recommendations as far as my security, especially relating to the OpenVPN since literally all remote access (and even the systems on the local network) will be connecting to the various servers/services through VPN?
[02:11:12] <BtbN> You sound like you're being targeted by the CIA or someone lol
[02:17:52] <ke4nhw> I hope not, but if so it's not like they're gonna find anything worth a crap. Nothing there that I have to worry about on a legal level. You think I'm going overkill?
[02:19:05] <ke4nhw> It may be overkill for what I have running and stored, but I feel like if I do things this way now with less sensitive data then I will develop/maintain good habits.
[02:20:46] <ke4nhw> That way, in the future, if I do deal with more sensitive data, then I will already be doing things up to a standard so to speak.
[02:21:47] <ke4nhw> The way I feel about it, the precautions I am taking are not overly intrusive and terribly hard to maintain, so if I have the tools and the ability then it doesn't hurt to go the extra mile.
[02:22:36] <BtbN> monitoring your users sounds very intrusive to me, and not a good practics.
[02:24:09] *** Quits: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[02:30:09] *** Joins: mannequin (uid453465@id-453465.helmsley.irccloud.com)
[02:44:37] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Quit: Ex-Chat)
[02:47:53] *** Joins: trace987 (~trace@ip5b42976d.dynamic.kabel-deutschland.de)
[03:00:57] <ke4nhw> I'm not reading their emails or thumbing through their files. I'm simply asking them to not be careless. As for monitoring their connection to the VPN, I'm looking for stuff that doesn't violate their privacy, it just allows me to see if their key might have been compromised and is being used by unauthorized persons. 
[03:04:09] <ke4nhw> The VPN isn't being used as a proxy, it's only being used by them to access specific services, such as a file server. So I have no idea who emails them or what websites they're visiting. But if I start seeing their key being associated with an IP in Estonia or somewhere way off base that catches my eye.
[03:05:55] <ke4nhw> They know exactly what monitoring I do, and I do respect their privacy. But I do keep an eye on things, which is as much for their protection as my own.
[03:44:16] *** Quits: bgpepi (~bgpepi@ip-212-239-173-106.dsl.scarlet.be) (Remote host closed the connection)
[03:48:31] <ke4nhw> As far as OpenVPN itself, in the server config what is the best value for 'cipher'?
[04:06:06] *** Joins: gast0n (~g4570n@user/gast0n)
[04:08:44] <ke4nhw> Do you know which of the cipher options is strongest?
[04:12:03] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[04:12:15] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Remote host closed the connection)
[04:12:40] <plaisthos> the aead ciphers chacha20-poly1305 and aes-gcm are the recommended cipher
[04:12:49] <plaisthos> OpenVPN will automatically select those
[04:15:38] <rob0> --data-ciphers is the replacement for --cipher, more or less.  The latter is deprecated.  See the manual, https://build.openvpn.net/man/openvpn-2.5/openvpn.8.html
[04:22:44] <ke4nhw> The only version I'm seeing in the repos is 2.4.11, not seeing 2.5. Do I have to get the 2.5 server rpm and client msi from the community website, or do I have to junk it all and go OpenVPN Access server/client?
[05:30:19] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:54:04] *** Quits: becm (~becm@55d42579.access.ecotel.net) (Ping timeout: 250 seconds)
[05:54:33] *** Joins: becm (~becm@55d42637.access.ecotel.net)
[05:55:07] *** Joins: vlm (~vlm@user/vlm)
[06:13:35] <plaisthos> ke4nhw: even 2.4.11 will use aes-gcm when both client and server are able to do it
[06:19:01] <ke4nhw> I'll have to check the client. I couldn't get OpenVPN Access (or Connect) client to play nice so I installed an older OpenVPN client (2.4.1 I think) for testing to see if I could even get the connection to work. Where can I find a newer version of OpenVPN (not the Access one) for Windows 10?
[06:19:47] <rob0> Note that Access Server is only available for a small subset of Linux distros.
[06:19:53] <ke4nhw> So the aes-gcm is stronger than AES-256-CBC?
[06:20:05] <plaisthos> https://openvpn.net/community-downloads/
[06:20:14] <plaisthos> that are the open source clients
[06:20:24] <rob0> what OS?
[06:20:40] <plaisthos> OpenVPN access server client is something you probably do not have :D
[06:20:52] <ke4nhw> Running RHEL 8 but still I'd prefer to stay with regular OpenVPN. Unless there's some serious advantage the Access has that the other doesn't
[06:21:09] <ke4nhw> RHEL 8 for server
[06:21:14] <plaisthos> ke4nhw: AS does the user and certificate magement for you and gives you a web ui
[06:21:28] <plaisthos> https://openvpn.net/access-server/
[06:22:00] <rob0> AS is more convenient for the admin, but not necessarily "better".
[06:22:39] <rob0> and RHEL 8 is one of the OS
[06:23:16] <ke4nhw> I'll look into it, I've got another RHEL 8 vm I can use to experiment, create another vpn for testing.
[06:24:20] <ke4nhw> And the client for AS is available online, the OpenVPN Connect?
[06:24:38] <ke4nhw> I assume that provides more convenience for the end user?
[06:24:40] <Tuvix> Surely compiling openvpn on a decently modern Linux is also an option. Provided you can meet the run-time deps, you can also build it on any other system you want if you'd rather not have compiler toolchain bits on a prod host.
[06:24:52] *** Joins: remirol (~lorimer@user/lorimer)
[06:24:52] *** Quits: lorimer (~lorimer@user/lorimer) (Killed (NickServ (GHOST command used by remirol)))
[06:25:01] *** remirol is now known as lorimer
[06:25:37] <Tuvix> It's been years since I've worked on CentOS/RHEL distros, but I certainly did my share of compiled software builds & deployments into production systems then.
[06:26:32] <rob0> Any openvpn client can connect to AS.
[06:27:14] <rob0> I connect to the company AS with the open source openvpn 2.5
[06:29:13] <rob0> Connect has one difference, that it's designed to stay connected / reconnect when connection is lost.  I don't see it as more convenient.
[06:29:48] <rob0> (you can make community clients, through the OS, do that also, if desired.)
[06:30:16] <ke4nhw> Okay since the laptop already has the older version running, if I download and install 2.5 from the community website, will it simply install over it and upgrade it, or do I need to do a complete uninstall first then install the newer version?
[06:30:59] <rob0> why do you need to upgrade, again?  2.4 is still supported and works.
[06:31:36] <ke4nhw> Will 2.4.1 support the aes-gcm?
[06:32:06] <rob0> that depends on your system openssl library, which in RHEL8, does
[06:32:47] <rob0> I would go for the latest 2.4.x in your yum repo
[06:35:49] <ke4nhw> server is running 2.4.11, latest in the repo
[06:56:41] *** Joins: adeliktas9 (~adeliktas@i59F5F08B.versanet.de)
[06:57:04] <plaisthos> 03:43:35 <plaisthos> ke4nhw: even 2.4.11 will use aes-gcm when both client and server are able to do it
[06:58:17] *** Quits: adeliktas (~adeliktas@i59F52850.versanet.de) (Ping timeout: 240 seconds)
[06:58:17] *** adeliktas9 is now known as adeliktas
[06:58:28] <ke4nhw> and that's what I need to look into is the client. Remember the client I loaded to test with is 2.4.1
[06:58:50] <ke4nhw> So we know the server is capable, now to see about the client.
[06:59:14] <ke4nhw> If not, then I can of course upgrade to the 2.5 client.
[07:00:24] <ke4nhw> Either way, aes-gcm looks the better way to go. The way I see it, if I'm gonna take the time and do the work for this, I might as well have it running the highest levels of encryption/security possible, especially when it's already available.
[07:01:41] <plaisthos> unless you follow a crappy guide to setup OpenVPN you will end up with aes-256-gcm
[07:01:56] <ke4nhw> Speaking of which, just curious, you said AS has a webUI admin; what web server backend does it use? That's also a security concern should I decide to experiment with it in a vm
[07:02:15] <plaisthos> its own web server
[07:02:19] <ke4nhw> Okay
[07:03:50] <ke4nhw> Not sure I want Apache running on my vpn server... not saying it's a bad web server, it's the industry standard, but it takes a LOT of work to keep it well-secured. If you don't know what you're doing (and truth be told with Apache I'm not so fluent) it becomes a liability rather than an asset.
[07:06:10] <ke4nhw> brb in a couple of minutes...
[07:15:20] <thumbs> it really does not take that much work to keep httpd secure, no
[07:15:41] <thumbs> a secure configuration is good for a while, and you just need to apply updates when available
[07:16:03] <thumbs> someone that is clueless will struggle to secure any public service, really
[07:23:35] <ke4nhw> Yep, true. Personally, I prefer to not open ports that I don't absolutely need.
[07:27:38] <ke4nhw> In fact, (off topic sorta) I'm trying to determine if Spice Server through kvm is essential, if it's not, I'm disabling it (close the port and free up resources). It's not open through the host machine firewall (iptables) or the front-end firewall, but I don't even want the port listening on the localhost unless necessary. 
[07:49:45] *** Quits: DmanT (~DmanT@dmant.ovh) (Ping timeout: 256 seconds)
[07:50:21] *** Joins: DmanT (~DmanT@2001:41d0:a:f55c::1)
[08:09:17] *** Quits: becm (~becm@55d42637.access.ecotel.net) (Quit: quit)
[08:31:46] *** Quits: ke4nhw (~ke4nhw@user/ke4nhw) (Remote host closed the connection)
[08:33:32] *** Quits: EyeOfJupiter (~EyeOfJ@user/eyeofjupiter) (Ping timeout: 250 seconds)
[08:35:26] *** Joins: EyeOfJupiter (~EyeOfJ@user/eyeofjupiter)
[08:47:00] *** Joins: structoha (~structoha@gateway/tor-sasl/structoha)
[09:13:43] *** Joins: hB7drf (~hB7drf@user/hB7drf)
[09:24:57] *** Quits: hB7drf (~hB7drf@user/hB7drf) (Ping timeout: 256 seconds)
[09:28:00] *** Quits: structoha (~structoha@gateway/tor-sasl/structoha) (Ping timeout: 276 seconds)
[09:41:29] *** Quits: gast0n (~g4570n@user/gast0n) (Quit: Bye, see you soon! 👋)
[09:51:02] *** Joins: nerozero (~nerozero@87.253.63.54)
[10:04:58] *** Quits: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au) (Remote host closed the connection)
[10:09:45] *** Joins: zulutango (~zulutango@static-n58-105-160-58.mas4.nsw.optusnet.com.au)
[10:10:08] *** Joins: nerozero_ (~nerozero@87.253.63.54)
[10:10:28] *** Quits: nerozero (~nerozero@87.253.63.54) (Read error: Connection reset by peer)
[10:33:58] *** fling is now known as swing
[10:58:12] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[11:19:38] *** Joins: structoha (~structoha@gateway/tor-sasl/structoha)
[11:23:32] *** Joins: Snegodick (~ne@user/Snegodick)
[12:25:49] *** Joins: clarkk (~clarkk@2a00:23c7:d106:2600:941:80d2:e315:5046)
[13:48:15] *** Joins: structoha1 (~structoha@gateway/tor-sasl/structoha)
[13:51:15] *** Quits: structoha (~structoha@gateway/tor-sasl/structoha) (Ping timeout: 276 seconds)
[13:54:11] *** Quits: ikwyl6 (~ikwyl6@5.254.48.61) (Ping timeout: 250 seconds)
[13:56:26] *** Joins: ikwyl6 (~ikwyl6@5.254.48.58)
[15:23:50] *** Joins: absolutemoron (~absolutem@user/absolutemoron)
[15:30:17] *** Quits: csrf (~csrf@user/csrf) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[15:30:43] *** Quits: clarkk (~clarkk@2a00:23c7:d106:2600:941:80d2:e315:5046) (Quit: Leaving)
[15:31:02] *** Joins: csrf (~csrf@user/csrf)
[15:37:01] *** Joins: mircsicz (~mircsicz@189.176.51.62)
[15:58:38] *** swing is now known as fling
[16:15:22] *** Quits: trace987 (~trace@ip5b42976d.dynamic.kabel-deutschland.de) (Remote host closed the connection)
[16:17:22] *** Joins: trace987 (~trace@ip5b42976d.dynamic.kabel-deutschland.de)
[16:38:44] *** Quits: Snegodick (~ne@user/Snegodick) (Quit: Going offline, see ya! (www.adiirc.com))
[16:45:49] *** Joins: becm (~becm@55d42637.access.ecotel.net)
[17:09:44] *** Joins: structoha (~structoha@gateway/tor-sasl/structoha)
[17:12:45] *** Quits: structoha1 (~structoha@gateway/tor-sasl/structoha) (Ping timeout: 276 seconds)
[17:26:50] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Quit: shibboleth)
[17:39:13] *** Quits: absolutemoron (~absolutem@user/absolutemoron) (Quit: Client closed)
[17:45:18] *** Joins: absolutemoron (~absolutem@user/absolutemoron)
[19:18:48] *** Quits: mircsicz (~mircsicz@189.176.51.62) (Quit: Textual IRC)
[19:39:29] *** Joins: remanifest (~remanifes@user/remanifest)
[19:43:33] <remanifest> Hi everybody, I'm attempting to use an OpenVPN client connection for work. Right now, it's the only thing that keeps me going back to macOS (and I'd love to stop doing that). Basically, I can connect to the VPN through NetworkManager, but when I attempt to connect to anything that should pick up the VPN connection, it looks like my main connection is superseding it, and the hosts cannot be found. I see that the topic mentions firewall is probably 
[19:43:34] <remanifest> my issue, but I'm not sure where to start. Hoping for a bit of guidance, please?
[19:47:07] <ordex> remanifest: have you tried connecting without using NM, but rather directly with systemd or even from the terminal (as a test)
[19:47:35] <remanifest> ordex: I've tried with openvpn3 on the terminal, with the same result (connection is made, but not routing appropriately).
[19:47:51] <remanifest> but not from systemd
[19:47:59] <ordex> well, openvpn3 is already a good test
[19:48:12] <ordex> when you say "routing" is because you are trying to connect to a specific IP?
[19:48:36] <remanifest> Yeah, I'm trying to connect a public-facing test server that my company uses (which I know "works" when I use OpenVPN in macOS)
[19:48:56] <remanifest> Also trying to connect to some non-public servers in our VPC
[19:49:09] <ordex> well, if you are connecting to an IP, then the issue should be simple: that IP is not routed over the tun interface
[19:49:23] <ordex> you should check if a route for that is installed or not
[19:49:24] <rob0> I would suggest not using NM.
[19:49:32] <remanifest> I'm happy to not use NM
[19:49:42] <remanifest> ordex: I'm lost on how to do that
[19:49:43] <ordex> remanifest: maybe on macOS you added it to the config file and forgot about it (?)
[19:49:57] <remanifest> Added what to the config file?
[19:49:59] <ordex> remanifest: type "ip r" in a terminal after connecting and look at the routing table
[19:50:04] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[19:50:12] <ordex> remanifest: a specific "route" directive for your network or IP
[19:50:13] <rob0> ^^ pastebin if you want
[19:50:25] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Remote host closed the connection)
[19:50:51] <ordex> remanifest: alternatively, if you are using different credentials, it could be that the server if pushing those directive to your macOS user, but not to the linux one
[19:50:52] <remanifest> 100% positive I didn't do that
[19:51:01] <ordex> if/is
[19:51:21] <ordex> remanifest: you could pastebin our routing table and we look at that if you want
[19:51:25] <ordex> *your
[19:52:07] <remanifest> https://pastebin.com/njUKxNee
[19:52:46] <ordex> what's the IP you are trying to reach?
[19:53:36] <ordex> remanifest: you route 172.0.0.0/8 over the tun interface
[19:53:43] <ordex> anything in that network will go to the tunnel
[19:53:54] <ordex> oh and also 192.168.251.0/24
[19:54:24] <mzar>  172.0.0.0/8 is risky
[19:54:33] <ordex> yeah
[19:54:39] <mzar> 172.16.0.0/12 looks better
[19:54:45] <remanifest> I'm not sure the IP... I just have a URL
[19:55:04] <ordex> well, extract the hostname :)
[19:55:06] <remanifest> And since it's not resolving, I can't get the IP
[19:55:11] <ordex> aah
[19:55:16] <ordex> then the problem is not *routing*
[19:55:37] <mzar> remanifest: if it's intranet only DNS service, you have to use this recursive nameserververs, push them to client
[19:55:49] <ordex> your client is probably not configuring the VPN DNS properly and therefore you don't use therm. which result sin the hostname not being sent to the VPN DNS for resolution
[19:56:37] <remanifest> How can I change the routing from 172.0.0.0/8 172.16.0.0/12? I want to have a "sane" setup that's not exposing too much risk.
[19:56:48] <remanifest> And also, how do I get the client to configure the VPN DNS properly?
[19:57:43] <remanifest> It "just works" on macOS, so that's why I'm so lost. I figured out how to get openvpn3 working on Linux, made a nice script to simplify connections and disconnections - was quite pleased with that, then I'm stuck... lol
[20:00:07] <remanifest> I'm taking a look at this now: https://wiki.archlinux.org/title/OpenVPN#DNS
[20:01:55] <mzar> https://openvpn.net/community-resources/pushing-dhcp-options-to-clients/
[20:02:57] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[20:12:35] <ordex> dazo: shouldn't openvpn3 integrate with systemd for what concerns DNS?
[20:12:54] <ordex> remanifest: it's also possible that your distro openvpn simply integrates as well
[20:13:08] <ordex> but dunno for sure
[20:13:45] *** Quits: remanifest (~remanifes@user/remanifest) ()
[20:24:01] <rob0> bah, I have been dealing with a support ticket of someone who doesn't get RFC 1918, thinks he can use 192.0.0.0/8!
[20:24:29] <rob0> "Hasn't given me trouble yet," so I am wrong. :(
[20:24:37] *** Quits: ikwyl6 (~ikwyl6@5.254.48.58) (Ping timeout: 250 seconds)
[20:25:07] <mzar> rob0: is it paid support or a volunteer ?
[20:25:40] <plaisthos> people that are that entitled are mostly paying people
[20:25:44] <rob0> not sure actually.  Says he's planning to buy licenses.
[20:25:44] <plaisthos> I pay, so I am right!
[20:27:09] <rob0> I'm going to gripe about this in the weekly Support meeting.  We should not tolerate IP address thievery.
[20:27:23] *** Joins: ikwyl6 (~ikwyl6@5.254.48.60)
[20:27:47] <rob0> Last one I had was oh-so-close to 1918: 172.15!
[20:27:59] <rob0> but he refused to change also
[20:31:06] <rob0> I tell them in no uncertain terms, they MUST change this, but "it works, we don't care."
[20:54:14] *** Joins: Pippin_ (Pippin_@openvpn/community/Pippin)
[20:54:14] *** ChanServ sets mode: +o Pippin_
[21:25:45] *** Quits: absolutemoron (~absolutem@user/absolutemoron) (Ping timeout: 256 seconds)
[22:17:53] *** Quits: nerozero_ (~nerozero@87.253.63.54) (Ping timeout: 256 seconds)
[22:33:47] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[22:33:59] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Remote host closed the connection)
[22:35:48] *** Quits: structoha (~structoha@gateway/tor-sasl/structoha) (Ping timeout: 276 seconds)
[22:36:12] *** Joins: structoha (~structoha@gateway/tor-sasl/structoha)
[22:38:21] *** Joins: ke4nhw (~ke4nhw@user/ke4nhw)
[22:40:39] <ke4nhw> I have a question. In OpenVPN Server 2.4.11, it has a management console (currently I have it disabled after some very brief tests because of security concerns) that uses telnet on port 7505 (by default). Does this version of the server have the same management console available via ssh? <cont>
[22:42:45] <ke4nhw> As it stands, during testing, I explicitly blocked the telnet port both on the front end firewall and in iptables for the server, and allowed the telnet port to be accessible only by the localhost. I would ssh into the server machine, then use the 'telnet localhost 7505' to access this. <cont>
[22:45:07] *** Quits: Haxxa (~Haxxa@125-253-30-213.ip4.superloop.com) (Quit: Haxxa flies away.)
[22:46:00] <ke4nhw> I'm not a fan of having telnet running at all (as Aragon put it, One does not simply telnet into Mordor) but I do like the convenience of the management console for a few tasks. Would someone give me some insight into how to handle this without having telnet open the door wide open and put invitations on billboards across the country?
[22:46:06] <rob0> what you could do, put the port on 127.0.0.1, right
[22:47:05] <rob0> Not sure who/what "default" that 7505 is
[22:47:35] <rob0> openvpn (upstream) has no "default" configuration
[22:47:52] <ke4nhw> In iptables, I accepted telnet from -s 127.0.0.1, and the very next rule following that explicitly blocks all telnet, even though the default rule is DROP
[22:48:31] *** Joins: Haxxa (~Haxxa@125-253-30-213.ip4.superloop.com)
[22:49:20] <ke4nhw> 7505 is the default port for the management console, it can be changed. Which means that I also had a pair of rules in iptables just like the above rule, except for port 7505.
[22:51:17] <ke4nhw> That's what was in the sample config I believe so I assume it was the default management console port. 
[22:54:48] <ke4nhw> So as long as I restrict both port 23 and 7505 to 127.0.0.1 and explicitly block them from the outside world, then that should keep the ports secure enough to allow me to comfortably have telnet running on the server and access the management console by ssh'ing into the server then 'telnet localhost 7505'?
[23:00:35] <rob0> 23 is used by telnet only when no port is given, it is not used in your openvpn unless configured.
[23:01:02] <rob0> just bind the management service on 127.0.0.1
[23:01:21] <rob0> then it cannot be reached from outside
[23:01:43] <rob0> and you can use -m owner rules to restrict it if you want
[23:02:09] *** Joins: cirdan_ (~cirdan@valinor.mid-earth.net)
[23:04:39] *** cirdan_ is now known as cirdan__
[23:05:55] *** Joins: structoha1 (~structoha@gateway/tor-sasl/structoha)
[23:07:52] *** Quits: avril (av@user/avril) (*.net *.split)
[23:07:52] *** Quits: nyuszika7h (nyuszika7h@lykos/dev/nyuszika7h) (*.net *.split)
[23:07:52] *** Quits: rudi_s (~simon@user/rudi-s/x-7673890) (*.net *.split)
[23:07:52] *** Quits: cirdan (~cirdan@valinor.mid-earth.net) (*.net *.split)
[23:07:52] *** Quits: thumbs (1000@apache/committer/thumbs) (*.net *.split)
[23:07:52] *** Quits: n-st (~n-st@user/n-st) (*.net *.split)
[23:07:53] *** Quits: Champi (Champi@damn.e-leet.be) (*.net *.split)
[23:07:55] <ke4nhw> Thank you rob0, I'm not sure exactly what you mean by binding the management service to that address. Are you talking about in the server config file or by iptables rules?
[23:08:23] *** Joins: structoh1 (~structoha@gateway/tor-sasl/structoha)
[23:08:25] <rob0> in the openvpn config, see --management in the manual
[23:08:53] *** cirdan__ is now known as cirdan
[23:08:56] *** Joins: thumbs (1000@apache/committer/thumbs)
[23:08:57] *** Quits: structoha (~structoha@gateway/tor-sasl/structoha) (Ping timeout: 276 seconds)
[23:09:45] <rob0> oh, it can also be done with a Unix socket
[23:10:15] <Pippin_> yup, pfsense uses socket...
[23:11:33] *** Quits: structoha1 (~structoha@gateway/tor-sasl/structoha) (Ping timeout: 276 seconds)
[23:11:53] <ke4nhw> You happen to have a URL for the server manual handy? And I'm not familiar with how to work directly with the sockets, so I'll certainly need a link for that. 
[23:12:25] *** Joins: avril (av@user/avril)
[23:12:25] *** Joins: nyuszika7h (nyuszika7h@lykos/dev/nyuszika7h)
[23:12:25] *** Joins: rudi_s (~simon@user/rudi-s/x-7673890)
[23:12:25] *** Joins: n-st (~n-st@user/n-st)
[23:12:25] *** Joins: Champi (Champi@damn.e-leet.be)
[23:13:41] <rob0> I keep the 2.5 manual URL on hand, https://build.openvpn.net/man/openvpn-2.5/openvpn.8.html , not the one for 2.4, which can be had through community.openvpn.net wiki.
[23:14:05] <rob0> and it's one manual, not server.
[23:17:26] <rob0> openvpn documents how to create the socket.  You control access thereto using filesystem permissions.
[23:23:07] <ke4nhw> Okay, but I'm having a time locating the system managers manual for 2.4 through the Community webpage under Documentation, or even with Google. All I can find are the online reference manuals. Can you give me a URL to the page where I can view all these system managers manuals, the ones similar to what you sent me?
[23:25:17] <mzar> Pippin_: are you involved with pfsense ? any plans to implement dco there ?
[23:43:03] <Pippin_> mzar: i'm not involved but use it. knowing them a bit i think netgate will wait till dco is in kernel
[23:53:03] <ke4nhw> Okay I am viewing the man page for 2.4.11 and it briefly mentions the --management flag, then tell me to look at management notes txt file in the source distribution. Does this mean I need to find and download the source distribution for 2.4.11?
[23:55:34] <ke4nhw> And if I remember correctly the syntax for the --management flag and the management line in the config file are the same?
[23:55:53] <plaisthos> config parser is the same for command line and config 
[23:56:02] <plaisthos> so that is true for almost all options
[23:57:28] <plaisthos> ke4nhw: on a system you can always do man openvpn
[23:59:38] *** Quits: trace987 (~trace@ip5b42976d.dynamic.kabel-deutschland.de) (Remote host closed the connection)
