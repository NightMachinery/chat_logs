[00:13:10] *** Quits: Steeve (~steve@user/steeve) (Quit: end)
[00:37:03] *** Quits: harrow (~harrow@static.38.6.217.95.clients.your-server.de) (Quit: Leaving)
[00:37:35] *** Joins: harrow (~harrow@static.38.6.217.95.clients.your-server.de)
[01:08:06] *** Quits: wallymathieu (~wallymath@81-234-151-21-no94.tbcn.telia.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:08:32] *** Quits: mind (~mind@user/mind) (Ping timeout: 252 seconds)
[01:08:34] *** Quits: jaawerth (~jaawerth@104.131.115.202) (Ping timeout: 240 seconds)
[01:08:53] *** Quits: krjst (~krjst@2604:a880:800:c1::16b:8001) (Ping timeout: 250 seconds)
[01:11:30] *** Joins: krjst (~krjst@2604:a880:800:c1::16b:8001)
[01:13:21] *** Quits: op2 (~op@user/op2) (Quit: rcirc on GNU Emacs 28.0.50)
[01:17:46] *** Joins: jaawerth (~jaawerth@104.131.115.202)
[01:21:28] *** Joins: mind (~mind@user/mind)
[01:39:26] *** Quits: uncleyear (~ian@pppoe.178-66-157-195.dynamic.avangarddsl.ru) (Quit: Lost terminal)
[01:43:36] *** Joins: uncleyear (~ian@pppoe.178-66-157-195.dynamic.avangarddsl.ru)
[02:11:32] *** Joins: libertyprime (~libertypr@124.197.60.232)
[02:23:46] *** Quits: uncleyear (~ian@pppoe.178-66-157-195.dynamic.avangarddsl.ru) (Remote host closed the connection)
[02:24:46] *** Joins: uncleyear (~ian@pppoe.178-66-157-195.dynamic.avangarddsl.ru)
[02:46:01] *** Quits: uncleyear (~ian@pppoe.178-66-157-195.dynamic.avangarddsl.ru) (Ping timeout: 248 seconds)
[03:10:10] *** Quits: flynn (~mcbloch@user/flynn) (Read error: Connection reset by peer)
[03:11:08] *** Joins: flynn (~mcbloch@user/flynn)
[03:35:16] *** Quits: seschwar (~seschwar@user/seschwar) (Quit: :wq)
[03:50:01] *** Joins: Cathrinus (~meow@vyos/developer/Lulu)
[03:50:10] *** Joins: cache (~cache@user/cacheyourdreams)
[03:50:47] *** Quits: cacheyourdreams (~cache@user/cacheyourdreams) (Quit: left)
[03:50:47] *** Quits: Lulu (~meow@vyos/developer/Lulu) (Quit: Ouch! Got SIGIRL, dying...)
[03:53:03] *** Joins: iAmDecim (~cyberocto@c-73-39-172-34.hsd1.md.comcast.net)
[03:53:12] *** iAmDecim is now known as v3ga
[03:53:56] <v3ga> can someone tell me what I'm messing up here with my 'delete-book' interceptor? https://gist.github.com/v3gal0g/8ab5c5620f84aba1fd0456bb5a88e774
[03:56:02] <jeaye> v3ga: Shouldn't your `where` be using a vector?
[03:56:13] <jeaye> v3ga: i.e. https://github.com/seancorfield/honeysql#vanilla-sql-clause-helpers
[03:56:23] <jeaye> (where [:= :f.a "baz"])
[03:57:24] <v3ga> jeaye: hmm i suppose it should. thats interesting because the raw delete-book! function works... you are right though. lets see
[03:57:41] <jeaye> Also, I would separate your query building from your actual querying.
[03:58:06] <jeaye> That way you can have pure fns which build up your queries and you can test them, compose them, etc. Then have a generic fn for running queries.
[03:58:36] <jeaye> Also, (let [id id] doesn't do anything. :P
[04:00:25] <selfsymmetric-mu> (let [bygones bygones])
[04:00:30] <v3ga> jeaye: hmm 'delete-book!' does delete records though
[04:00:40] <jeaye> selfsymmetric-mu: HAH
[04:01:05] <jeaye> v3ga: That's not the data-oriented way of thinking about it.
[04:01:22] <jeaye> v3ga: It'
[04:01:25] <jeaye> woops
[04:01:56] <v3ga> its when i try to create my interceptor that all goes to hell. =( 
[04:02:31] <jeaye> v3ga: It's a very common idiom in Clojure to build your "effects" as just pure data which describes what needs to be done. Then have a single fn which takes in that data and actually does it. This is exactly what honeysql allows you to do with your queries. You can build up that command in a pure way and then query it in a generic way.
[04:07:01] <v3ga> Hmm
[04:07:01] <jeaye> v3ga: Check this out: https://gist.github.com/jeaye/0b2247cc74988a46574b68baf8f3cfdb
[04:07:56] <v3ga> jeaye: oh! i see what you mean now....
[04:09:11] <v3ga> baby steps.... I'll do some refactoring as suggested. that is a hell of a lot cleaner
[04:09:16] <jeaye> In Clojure, we do this all the time. We often call it "pushing effects to the edge". In short, we separate data manipulation from actual effects where possible. Here, we only need a single effecting fn that just takes in some data. Every other part of the code around that one effect can be pure.
[04:10:53] <v3ga> I see. I'd started reading grokking simplicity but I wouldn't have thought to separate in that manner.
[04:11:33] <v3ga> so any clue on whats causing my casting issue as well while I fix my db code?
[04:11:50] <jeaye> The vector in your where.
[04:12:01] <jeaye> Or, lack thereof.
[04:14:57] <v3ga> hmm that kicked out a new error. clojure.lang.ExceptionInfo: java.lang.ClassCastException in Interceptor :oasisxd.origin/delete-book - class java.lang.String cannot be cast to class java.lang.Character (java.lang.String and java.lang.Character are in module java.base of loader 'bootstrap')
[04:15:13] <jeaye> Use your repl to build the query up bit by bit.
[04:15:15] <v3ga> Hmm let me clean up the rest of which you suggested and maybe that'll make things clear for me.
[04:15:27] <jeaye> You're working with too much right now. This is why we work using the repl.
[04:15:47] <v3ga> well yeah I am using the repl...
[04:16:25] <jeaye> Ok, so remove the idea of hitting the db. Build the query using honeysql and then look at the data. Then format it and look at the data.
[04:16:36] <jeaye> The data is wrong in at least one of those steps.
[04:16:53] <v3ga> so in db.clj I can in fact use the 'delete-book 9' and get the desired request. yet when it comes to calling that function from my interceptor in origin.clj i run into my cluster fug
[04:17:05] <v3ga> ok, i'll be back...cleaning things up as suggested
[04:20:02] *** Quits: DasBrain (~DasBrain@user/dasbrain) (Ping timeout: 252 seconds)
[04:22:24] *** Quits: libertyprime (~libertypr@124.197.60.232) (Ping timeout: 268 seconds)
[04:23:18] *** Joins: libertyprime (~libertypr@124.197.60.232)
[04:38:30] <v3ga> jeaye: so with what you did. I've been trying to get into the train of thought of breaking things up into actions, calculations and data. When you split the actual query action apart from the queries how would you define 'delete-book' 'find-book' etc?
[04:44:40] *** Joins: DasBrain (~DasBrain@user/dasbrain)
[04:51:21] *** Quits: DasBrain (~DasBrain@user/dasbrain) (Ping timeout: 248 seconds)
[04:51:45] *** Joins: DasBrain (~DasBrain@user/dasbrain)
[04:57:50] *** Quits: DasBrain (~DasBrain@user/dasbrain) (Ping timeout: 258 seconds)
[04:58:16] *** Joins: DasBrain (~DasBrain@user/dasbrain)
[04:58:23] *** Quits: libertyprime (~libertypr@124.197.60.232) (Quit: leaving)
[04:58:26] *** Quits: selfsymmetric-mu (~matt@c-73-10-148-139.hsd1.nj.comcast.net) (Remote host closed the connection)
[05:04:41] *** Joins: selfsymmetric-mu (~matt@c-73-10-148-139.hsd1.nj.comcast.net)
[05:34:54] *** Joins: xulfer (uid452788@id-452788.charlton.irccloud.com)
[05:35:22] <jeaye> v3ga: I think of "functions", "data", and "effects".
[05:36:11] <jeaye> In general, when I think "function", it's pure. Data in, data out. Data is anything EDN. Easy to serialize/deserialize. Effects are all of the other scary shit.
[05:37:05] <jeaye> So, to me, find-book and delete-book would just be typical functions in the code base. Pure, like most everything else. They're a a bit unique in that they return data which describes an effect to do, but that's it.
[05:38:08] <jeaye> You can make this easier by focusing more on "what do I want to do" rather than "how do I do it". The "what" can be described with data. Then you can leave the "how" to a small effect you keep separated from everything else.
[05:44:15] <v3ga> jeaye: hmm, ok. makes sense
[05:46:38] <v3ga> still working on my first issue though the casting error is different. I see also :context {:reponse nil...} so of course i'm not sending a response map back yet. Working with pedestal, before I should tackle it basically.
[06:07:46] *** Joins: nivekuil (~nivekuilc@2001:470:69fc:105::d57e)
[06:23:30] <v3ga> ha... now i'm close.
[06:37:20] *** Quits: mwnaylor (~user@2601:5ce:4300:5fa0::2483) (Ping timeout: 256 seconds)
[06:49:05] *** Quits: hendursaga (~weechat@user/hendursaga) (Ping timeout: 244 seconds)
[06:51:37] *** Joins: hendursaga (~weechat@user/hendursaga)
[06:53:23] *** Quits: hendursaga (~weechat@user/hendursaga) (Client Quit)
[07:02:40] *** Joins: hendursaga (~weechat@user/hendursaga)
[07:34:12] *** Quits: harrigan (~harrigan@176.116.124.143) (Ping timeout: 268 seconds)
[07:36:10] *** Joins: harrigan (~harrigan@176.116.124.143)
[08:02:25] <v3ga> the issue was parsing the id to an integer  (.. (Integer/parseInt id)) =P 
[10:05:29] *** Quits: v3ga (~cyberocto@c-73-39-172-34.hsd1.md.comcast.net) (Ping timeout: 248 seconds)
[10:19:53] *** Quits: lad (~lad@user/lad) (Ping timeout: 248 seconds)
[10:35:56] *** Quits: alnr (~alnr@38.125.204.99) (Ping timeout: 258 seconds)
[10:39:19] *** Quits: flynn (~mcbloch@user/flynn) (Read error: Connection reset by peer)
[10:40:08] *** Joins: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi)
[10:40:18] *** Joins: flynn (~mcbloch@user/flynn)
[10:41:13] *** Quits: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi) (Remote host closed the connection)
[10:41:37] *** Joins: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi)
[10:42:43] *** Quits: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi) (Remote host closed the connection)
[10:43:09] *** Joins: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi)
[10:44:13] *** Quits: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi) (Remote host closed the connection)
[10:44:36] *** Joins: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi)
[10:48:53] *** Joins: alnr (~alnr@38.125.204.99)
[11:29:13] *** Joins: uncleyear (~ian@pppoe.178-66-157-195.dynamic.avangarddsl.ru)
[12:07:38] *** Quits: uncleyear (~ian@pppoe.178-66-157-195.dynamic.avangarddsl.ru) (Remote host closed the connection)
[12:09:01] *** Joins: uncleyear (~ian@pppoe.178-66-157-195.dynamic.avangarddsl.ru)
[12:35:36] *** Joins: hendursa1 (~weechat@user/hendursaga)
[12:38:52] *** Quits: hendursaga (~weechat@user/hendursaga) (Ping timeout: 244 seconds)
[12:47:02] *** Quits: sailorCa` (~user@p200300f6a70697d09dfe8f084984c06d.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[12:49:05] *** Joins: sailorCa` (~user@p200300f6a70697814463f98966049df0.dip0.t-ipconnect.de)
[12:54:27] *** Joins: elf_fortrez (~elf_fortr@adsl-72-50-6-221.prtc.net)
[13:00:31] *** Quits: shredder (~user@user/shredder) (Quit: quitting)
[13:01:21] *** Joins: shredder (~user@user/shredder)
[13:06:48] *** Joins: seschwar (~seschwar@user/seschwar)
[13:36:26] *** Joins: yoonkn (~user@175.197.208.79)
[14:04:11] *** Quits: olavfosse (~Guest67@2001:464c:73bf:0:fe02:6050:e273:28a7) (Quit: Client closed)
[15:04:05] *** Joins: skykanin (~skykanin@115.81-166-221.customer.lyse.net)
[15:04:41] *** Quits: MetaYan_ (~MetaYan@c-7b5d235c.07-84-7462671.bbcust.telenor.se) (Ping timeout: 248 seconds)
[15:06:43] *** Joins: op2 (~op@user/op2)
[15:11:30] *** Joins: MetaYan (~MetaYan@c-7b5d235c.07-84-7462671.bbcust.telenor.se)
[15:58:34] *** Quits: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi) (Remote host closed the connection)
[16:06:38] *** Quits: shredder (~user@user/shredder) (Ping timeout: 268 seconds)
[16:11:35] *** Joins: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi)
[16:27:51] *** Joins: shredder (~user@user/shredder)
[16:46:14] *** Quits: shredder (~user@user/shredder) (Quit: quitting)
[16:47:35] *** Joins: shredder (~user@user/shredder)
[17:58:35] *** Joins: v3ga (~cyberocto@c-73-39-172-34.hsd1.md.comcast.net)
[18:57:58] *** Quits: elf_fortrez (~elf_fortr@adsl-72-50-6-221.prtc.net) (Ping timeout: 246 seconds)
[19:07:57] *** Quits: uncleyear (~ian@pppoe.178-66-157-195.dynamic.avangarddsl.ru) (Ping timeout: 268 seconds)
[19:13:06] *** Quits: cross (~cross@spitfire.i.gajendra.net) (Ping timeout: 240 seconds)
[19:13:41] *** Joins: cmiles74_ (~miles@068-184-030-013.res.spectrum.com)
[19:14:35] *** Joins: uncleyear (~ian@pppoe.178-66-157-38.dynamic.avangarddsl.ru)
[19:14:39] *** Quits: xulfer (uid452788@id-452788.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[19:14:49] *** Joins: cross (~cross@spitfire.i.gajendra.net)
[19:16:06] *** Joins: cmiles741 (~miles@068-184-030-013.res.spectrum.com)
[19:17:12] *** Quits: cmiles74 (~miles@068-184-030-013.res.spectrum.com) (Ping timeout: 268 seconds)
[19:19:08] *** Quits: cmiles74_ (~miles@068-184-030-013.res.spectrum.com) (Ping timeout: 272 seconds)
[19:21:15] *** Joins: gethuen (uid502979@id-502979.stonehaven.irccloud.com)
[19:35:11] *** Quits: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi) (Read error: Connection reset by peer)
[19:39:56] *** Joins: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi)
[19:40:45] *** Quits: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi) (Remote host closed the connection)
[19:41:08] *** Joins: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi)
[19:42:16] *** Quits: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi) (Remote host closed the connection)
[19:42:40] *** Joins: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi)
[19:43:45] *** Quits: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi) (Remote host closed the connection)
[19:44:08] *** Joins: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi)
[19:45:15] *** Quits: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi) (Remote host closed the connection)
[19:45:40] *** Joins: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi)
[19:46:45] *** Quits: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi) (Remote host closed the connection)
[19:47:10] *** Joins: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi)
[19:48:15] *** Quits: mattil (~mattilinn@84-253-224-16.bb.dnainternet.fi) (Remote host closed the connection)
[20:06:49] *** Quits: yoonkn (~user@175.197.208.79) (Remote host closed the connection)
[21:00:32] *** Quits: manicennui (uid349235@tinside.irccloud.com) (Ping timeout: 272 seconds)
[21:01:08] *** Joins: manicennui (uid349235@id-349235.tinside.irccloud.com)
[21:10:57] *** Joins: lad (~lad@user/lad)
[21:16:36] *** Joins: olavfosse (~olavfosse@2001:464c:73bf:0:10ef:a636:70a4:bde4)
[21:16:47] *** Joins: wallymathieu (~wallymath@81-234-151-21-no94.tbcn.telia.com)
[21:41:30] *** Quits: wonko (~wjc@62.115.229.50) (Ping timeout: 268 seconds)
[21:41:56] *** Joins: wonko (~wjc@62.115.229.50)
[21:45:00] *** Quits: wallymathieu (~wallymath@81-234-151-21-no94.tbcn.telia.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:48:18] *** Quits: wonko (~wjc@62.115.229.50) (Ping timeout: 258 seconds)
[21:50:37] *** Quits: gethuen (uid502979@id-502979.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[22:06:01] *** Quits: ToxicFrog (~ToxicFrog@198-200-100-178.cpe.distributel.net) (Ping timeout: 248 seconds)
[22:11:08] *** Quits: hexology (~hexology@user/hexology) (Quit: hex on you ...)
[22:15:35] *** Joins: wonko (~wjc@62.115.229.50)
[22:20:57] *** Quits: wonko (~wjc@62.115.229.50) (Ping timeout: 248 seconds)
[22:33:01] *** Joins: ToxicFrog (~ToxicFrog@198-200-100-178.cpe.distributel.net)
[22:36:26] *** Joins: wallymathieu (~wallymath@81-234-151-21-no94.tbcn.telia.com)
[22:39:18] *** Joins: xulfer (uid452788@id-452788.charlton.irccloud.com)
[22:41:22] *** Quits: wallymathieu (~wallymath@81-234-151-21-no94.tbcn.telia.com) (Quit: Textual IRC Client: www.textualapp.com)
[23:16:17] *** Joins: mwnaylor (~user@2601:5ce:4300:5fa0::2483)
[23:23:52] *** Quits: gendl (sid100083@id-100083.stonehaven.irccloud.com) (Ping timeout: 245 seconds)
[23:24:18] *** Quits: theruran (uid11305@id-11305.stonehaven.irccloud.com) (Ping timeout: 272 seconds)
[23:24:35] *** Quits: cespare (sid330206@id-330206.stonehaven.irccloud.com) (Ping timeout: 252 seconds)
[23:24:56] *** Quits: IUSR (sid348938@id-348938.stonehaven.irccloud.com) (Ping timeout: 272 seconds)
[23:25:32] *** Quits: bbz (sid62109@id-62109.charlton.irccloud.com) (Ping timeout: 245 seconds)
[23:26:03] *** Quits: conjunctive (sid433686@id-433686.brockwell.irccloud.com) (Ping timeout: 258 seconds)
[23:26:42] *** Quits: dunc (sid16@id-16.highgate.irccloud.com) (Ping timeout: 240 seconds)
[23:26:55] *** Quits: mp (sid298319@id-298319.tooting.irccloud.com) (Read error: Connection reset by peer)
[23:27:57] *** Joins: conjunctive (sid433686@brockwell.irccloud.com)
[23:28:42] *** Quits: davdunc (sid93271@id-93271.charlton.irccloud.com) (Ping timeout: 240 seconds)
[23:28:44] *** Quits: xulfer (uid452788@id-452788.charlton.irccloud.com) (Ping timeout: 272 seconds)
[23:29:40] *** Joins: dunc (sid16@highgate.irccloud.com)
[23:29:54] *** Quits: parisienne (sid383587@id-383587.brockwell.irccloud.com) (Ping timeout: 240 seconds)
[23:30:13] *** Joins: bbz (sid62109@id-62109.charlton.irccloud.com)
[23:30:18] *** Quits: gaustin (sid356092@id-356092.brockwell.irccloud.com) (Ping timeout: 240 seconds)
[23:30:25] *** Joins: xulfer (uid452788@charlton.irccloud.com)
[23:30:28] *** Joins: mp (sid298319@id-298319.tooting.irccloud.com)
[23:30:32] *** Joins: davdunc (sid93271@id-93271.charlton.irccloud.com)
[23:31:11] *** Joins: theruran (uid11305@stonehaven.irccloud.com)
[23:31:45] *** Joins: parisienne (sid383587@id-383587.brockwell.irccloud.com)
[23:32:28] *** Joins: gaustin (sid356092@id-356092.brockwell.irccloud.com)
[23:32:47] *** Quits: hendursa1 (~weechat@user/hendursaga) (Remote host closed the connection)
[23:33:13] *** Joins: hendursa1 (~weechat@user/hendursaga)
[23:35:59] *** Joins: IUSR (sid348938@id-348938.stonehaven.irccloud.com)
[23:36:47] *** Joins: cespare (sid330206@id-330206.stonehaven.irccloud.com)
[23:37:40] *** Joins: gendl (sid100083@id-100083.stonehaven.irccloud.com)
[23:53:10] *** Quits: DasBrain (~DasBrain@user/dasbrain) (Killed (NickServ (GHOST command used by DasBrain_)))
[23:53:16] *** Joins: DasBrain_ (~DasBrain@user/dasbrain)
[23:53:36] *** DasBrain_ is now known as DasBrain
