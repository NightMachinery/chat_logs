[00:15:41] *** Joins: rockcavera (~rc@192.12.113.200)
[00:15:41] *** Quits: rockcavera (~rc@192.12.113.200) (Changing host)
[00:15:41] *** Joins: rockcavera (~rc@user/rockcavera)
[00:29:36] <FromDiscord> <auxym> In reply to @System64 "So it should be": I don't think PATH is used for dll resolution. See: https://docs.microsoft.com/en-us/windows/win32/dlls/dynamic-link-library-search-order#search-order-for-desktop-applications
[00:33:31] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @auxym "I don't think PATH": It's for installing a module (Futhark), and it needs a dll for compiling the module
[00:34:27] <FromDiscord> <Phil> Oh lord... what command can I use to update nim again? Seems the arch repos have it on 1.4.8
[00:36:42] <FromDiscord> <auxym> consider using https://github.com/dom96/choosenim
[00:39:15] <FromDiscord> <enthus1ast> choosenim
[00:39:15] <FromDiscord> <enthus1ast> (if it supports arch)
[00:42:43] <FromDiscord> <Phil> There we go, I was being an idiot and didn't have the right things set in the classpath
[00:42:46] <FromDiscord> <Phil> It does support arch
[00:44:35] <FromDiscord> <enthus1ast> path(es?) are such a madness on "real system" like clusters etc that one needs special tools for handling them.... ( http://modules.sourceforge.net/ )
[00:45:30] <FromDiscord> <enthus1ast> "how do i compile with THIS exact compiler, THAT linker, THIS exact lib, THAT exact aux stuff...
[00:45:31] <FromDiscord> <enthus1ast> "
[00:50:41] <FromDiscord> <System64 ~ Flandre Scarlet> FINALLY!!!!! https://media.discordapp.net/attachments/371759389889003532/949053723559223416/unknown.png
[00:52:24] <FromDiscord> <Phil> Got to say, gnome40 looks pretty dang nice if not tainted by ubuntu
[00:52:37] <FromDiscord> <Phil> Or maybe that's just the 8 years younger CPU
[01:03:23] <PMunch> @System64_~_Flandre_Scarlet, hooray!
[01:04:15] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @PMunch "@System64_~_Flandre_Scarlet, hooray!": But I have a problem
[01:05:05] <FromDiscord> <System64 ~ Flandre Scarlet>  https://media.discordapp.net/attachments/371759389889003532/949057349115605002/unknown.png
[01:05:06] <PMunch> Haha, of course, what's the problem?
[01:05:15] <FromDiscord> <System64 ~ Flandre Scarlet> just posted the screen
[01:05:30] <PMunch> Ah, you're not supposed to call Øpir yourself
[01:05:33] <PMunch> Futhark does that for you
[01:05:53] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @PMunch "Futhark does that for": it didn't generated a Futhark executablz
[01:05:54] <FromDiscord> <System64 ~ Flandre Scarlet> (edit) "executablz" => "executable"
[01:06:04] <PMunch> Nah Futhark is a macro
[01:06:16] <FromDiscord> <System64 ~ Flandre Scarlet> How does it work?
[01:06:47] <PMunch> `import futhark; importc: sysPath "/path/to/clang/includes"; "Tilengine.h"`
[01:06:50] <PMunch> Something like that
[01:07:21] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @PMunch "`import futhark; importc: sysPath": ah alright↵But it uses a DLL, is it a problem?
[01:07:32] <PMunch> Nope
[01:07:41] <PMunch> Just link the DLL with passL like you normally would
[01:07:51] <FromDiscord> <System64 ~ Flandre Scarlet> okay so I'll try a simple thing to start
[01:08:01] <PMunch> Or dynlib, or whatever mechanism you used with your c2nim library
[01:08:37] <FromDiscord> <System64 ~ Flandre Scarlet> it's a dll so, a dynamic library
[01:12:15] *** Quits: wyrd (~wyrd@gateway/tor-sasl/wyrd) (Ping timeout: 240 seconds)
[01:12:56] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @PMunch "`import futhark; importc: sysPath": Like that? https://media.discordapp.net/attachments/371759389889003532/949059326864146432/unknown.png
[01:14:16] <FromDiscord> <System64 ~ Flandre Scarlet>  https://media.discordapp.net/attachments/371759389889003532/949059664090378300/unknown.png
[01:14:51] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 256 seconds)
[01:19:16] *** Joins: wyrd (~wyrd@gateway/tor-sasl/wyrd)
[01:26:37] <FromDiscord> <System64 ~ Flandre Scarlet> I also had this error https://media.discordapp.net/attachments/371759389889003532/949062768676466718/unknown.png
[01:29:14] <PMunch> You're supposed to put them on multiple lines
[01:29:23] <PMunch> Like it's done in the Futhark readme
[01:29:31] <PMunch> But I've gotta go shovel snow now
[01:29:32] *** Quits: PMunch (~PMunch@user/pmunch) (Quit: leaving)
[01:30:16] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[01:35:19] <FromDiscord> <pmunch> You might need a \`path "."\` or something as well to let clang know where to find Tilengine.h
[01:36:58] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "You might need a":  https://media.discordapp.net/attachments/371759389889003532/949065373725114469/unknown.png
[01:37:59] <FromDiscord> <pmunch> You shouldn't need lines 7-12
[01:38:15] <FromDiscord> <pmunch> Not quite sure about that error though
[01:38:38] <FromDiscord> <System64 ~ Flandre Scarlet> will try without
[01:40:28] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "You shouldn't need lines": Still errors https://media.discordapp.net/attachments/371759389889003532/949066253866250330/unknown.png
[01:46:38] <FromDiscord> <pmunch> Oh yeah that error didn't have anything to do with those lines
[01:47:34] <FromDiscord> <pmunch> Hmm, in your cache folder, what's the content of the opir\_\<somehash\>.json file?
[01:47:34] <FromDiscord> <System64 ~ Flandre Scarlet> did I do something wrong?
[01:48:17] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "Hmm, in your cache": where is this cache?
[01:49:00] <FromDiscord> <pmunch> The normal Nim cache
[01:51:18] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "The normal Nim cache": that? https://media.discordapp.net/attachments/371759389889003532/949068981900296242/opir.json
[01:53:18] <FromDiscord> <pmunch> Hmm, don't think so, but I can't open the file on my phone.
[01:54:18] <FromDiscord> <pmunch> There's supposed to be an opir\_\<bunch of letters and numbers\>.json file in your projects nimcache folder. Not the Futhark/Opir folder
[01:54:47] <FromDiscord> <System64 ~ Flandre Scarlet> here? https://media.discordapp.net/attachments/371759389889003532/949069857943601242/unknown.png
[01:55:06] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "here?": 😱 W11 😱
[01:55:09] <FromDiscord> <System64 ~ Flandre Scarlet> yeah
[01:55:54] <FromDiscord> <Elegantbeef> No it's clearly linux "nouveau" is in the top left, showing the gpu drivers in the file browser, and not just being french for "new"
[01:56:15] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Elegantbeef "No it's clearly linux": No it's W11
[01:56:28] <FromDiscord> <Elegantbeef> it was a joke
[01:56:37] <FromDiscord> <Evrensel Kişilik> In reply to @Elegantbeef "No it's clearly linux": i want you beeeeef
[01:56:50] <FromDiscord> <Evrensel Kişilik> cook yourself pls
[01:57:10] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "There's supposed to be": I don't have it I think
[01:58:19] <FromDiscord> <Evrensel Kişilik> @System64 ~ Flandre Scarlet what are you doing with Nim??
[01:58:34] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Evrensel Kişilik "<@!380360389377916939> what are you": I try to make a game, but I want a specific library
[01:58:50] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "I try to make": oh damn
[01:59:07] <FromDiscord> <Evrensel Kişilik> what game?
[01:59:23] <FromDiscord> <System64 ~ Flandre Scarlet> platformer↵But I want Tilengine working first
[01:59:41] <FromDiscord> <Evrensel Kişilik> why don't use use Godot or Unity?? 😱
[01:59:54] <FromDiscord> <Evrensel Kişilik> you could deploy your game to different platforms easily
[02:00:01] <FromDiscord> <Evrensel Kişilik> you can still use Nim with Godot
[02:00:15] <FromDiscord> <System64 ~ Flandre Scarlet> yeah true but I like the graphics capabilities of Tilengine
[02:03:18] *** Quits: greyrat_ (~greyrat@ip202.ip-51-178-215.eu) (Bye)
[02:03:38] *** Joins: greyrat (~greyrat@ip202.ip-51-178-215.eu)
[02:03:38] <FromDiscord> <pmunch> Strange
[02:04:09] <FromDiscord> <System64 ~ Flandre Scarlet> I don't understand why
[02:05:13] <FromDiscord> <pmunch> You should see the Øpir command in your compilation output, could you try to run that in a normal terminal?
[02:06:37] <FromDiscord> <System64 ~ Flandre Scarlet>  https://media.discordapp.net/attachments/371759389889003532/949072833248632842/unknown.png
[02:06:56] *** Server sets mode: +nt 
[02:08:58] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "": is the library built?
[02:09:08] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Evrensel Kişilik "is the library built?": yeah I have the DLL
[02:09:19] <FromDiscord> <Evrensel Kişilik> oh damn
[02:09:32] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[02:09:34] <FromDiscord> <Evrensel Kişilik> send the code that loads the DLL
[02:10:07] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Evrensel Kişilik "send the code that": the old binding was made with C2nim
[02:10:24] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "the old binding was": soooooo
[02:10:37] <FromDiscord> <Evrensel Kişilik> can you send your code?
[02:10:49] <FromDiscord> <Evrensel Kişilik> testTileengine.nim
[02:10:52] <FromDiscord> <pmunch> Yeah you see that third hint?
[02:11:03] <FromDiscord> <pmunch> Try copying that command and run it in your terminal
[02:11:08] <FromDiscord> <System64 ~ Flandre Scarlet> alright
[02:11:15] <FromDiscord> <pmunch> Running\: \<Øpir command\>
[02:11:23] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3RhS
[02:12:10] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "Running\: \<Øpir command\>":  https://media.discordapp.net/attachments/371759389889003532/949074233273774130/unknown.png
[02:12:29] <FromDiscord> <Evrensel Kişilik> sent a code paste, see https://play.nim-lang.org/#ix=3RhU
[02:14:01] <FromDiscord> <pmunch> Ah, it seems like Windows messes up on the path..
[02:14:17] <FromDiscord> <Recruit_main707> classic
[02:14:21] <FromDiscord> <pmunch> As you can see it tries to split that Clang path at the .
[02:14:35] <FromDiscord> <Evrensel Kişilik> sent a code paste, see https://play.nim-lang.org/#ix=3RhV
[02:14:40] <FromDiscord> <Evrensel Kişilik> (edit) "https://play.nim-lang.org/#ix=3RhV" => "https://play.nim-lang.org/#ix=3RhW"
[02:14:51] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Evrensel Kişilik "sooo where are you": The same folder as the nim code
[02:14:55] <FromDiscord> <pmunch> I really need someone who runs Windows to give Futhark a little brushup to make sure everything works..
[02:15:47] <FromDiscord> <pmunch> @Evrensel Kişilik\: he's not loading the DLL in that code. You just tell Nim to link against the DLL when you compile your project
[02:16:19] <FromDiscord> <System64 ~ Flandre Scarlet> okay so I'll try something
[02:18:24] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "I really need someone": I did that and... https://media.discordapp.net/attachments/371759389889003532/949075796620873738/unknown.png
[02:19:00] <FromDiscord> <Evrensel Kişilik> https://futhark.readthedocs.io/en/latest/index.html
[02:19:23] <FromDiscord> <Evrensel Kişilik> this library
[02:20:06] <FromDiscord> <Evrensel Kişilik> do you need this library?
[02:20:19] <FromDiscord> <System64 ~ Flandre Scarlet> No I think no
[02:20:19] <FromDiscord> <Evrensel Kişilik> or it is required by tilengine library?
[02:20:33] <FromDiscord> <System64 ~ Flandre Scarlet> Tilengine requires SDL
[02:20:48] <FromDiscord> <Evrensel Kişilik> what is the requirement of this library coming from? 😱
[02:21:46] <FromDiscord> <System64 ~ Flandre Scarlet> Tilengine only requires SDL2
[02:23:49] *** Quits: rockcavera (~rc@user/rockcavera) (Remote host closed the connection)
[02:24:16] *** Joins: rockcavera (~rc@192.12.113.200)
[02:24:16] *** Quits: rockcavera (~rc@192.12.113.200) (Changing host)
[02:24:16] *** Joins: rockcavera (~rc@user/rockcavera)
[02:24:33] <FromDiscord> <Evrensel Kişilik> do you have source of tilengine?
[02:25:53] <FromDiscord> <System64 ~ Flandre Scarlet> https://github.com/megamarc/Tilengine/
[02:26:05] <FromDiscord> <System64 ~ Flandre Scarlet> (not my code)
[02:27:17] <FromDiscord> <Evrensel Kişilik> 😱 damn
[02:27:30] <FromDiscord> <Evrensel Kişilik> where is this futhark library's requirement coming from?
[02:27:32] <FromDiscord> <Evrensel Kişilik> interesting
[02:27:42] <FromDiscord> <Evrensel Kişilik> and what is opir command?
[02:28:22] <FromDiscord> <Elegantbeef> Futhark is a C binding generator
[02:30:51] <FromDiscord> <Evrensel Kişilik> In reply to @Elegantbeef "Futhark is a C": oh i thought that
[02:31:04] <FromDiscord> <Evrensel Kişilik> otherwise why would that be there 😱
[02:37:19] <FromDiscord> <Evrensel Kişilik> isn't there an interface to call dynamic library functions in Nim?
[02:37:33] <FromDiscord> <Elegantbeef> There are
[02:37:37] <FromDiscord> <Evrensel Kişilik> 😱
[02:37:45] <FromDiscord> <mratsim> dynamic function written in C or in Nim?
[02:37:48] <FromDiscord> <mratsim> there are for both
[02:37:54] <FromDiscord> <Elegantbeef> https://nim-lang.org/docs/dynlib.html an entire module for it
[02:37:59] <FromDiscord> <Evrensel Kişilik> @System64 ~ Flandre Scarlet
[02:38:06] <FromDiscord> <mratsim> or you can just use {.exportpy.} for example if you want t o use from Python 😉
[02:38:12] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Elegantbeef "https://nim-lang.org/docs/dynlib.html an entire mod": But I need the header too
[02:38:16] <FromDiscord> <Evrensel Kişilik> sooooooo why does he need a binding creator thingy?? 😱
[02:38:36] <FromDiscord> <mratsim> less lines of code to type.
[02:38:48] <FromDiscord> <mratsim> and OS abstractions?
[02:38:54] <FromDiscord> <mratsim> who knows
[02:38:57] <FromDiscord> <Evrensel Kişilik> oh i never like writing less lines
[02:39:24] <FromDiscord> <mratsim> I assume the C of all C devs and their {{{{{}}}}}
[02:39:34] <FromDiscord> <mratsim> same
[02:40:53] <FromDiscord> <Elegantbeef> Less code is generally better since there is less to go wrong 😛
[02:44:34] *** Quits: rockcavera (~rc@user/rockcavera) (Remote host closed the connection)
[02:44:59] *** Joins: rockcavera (~rc@192.12.113.200)
[02:45:00] *** Quits: rockcavera (~rc@192.12.113.200) (Changing host)
[02:45:00] *** Joins: rockcavera (~rc@user/rockcavera)
[02:45:27] <FromDiscord> <pmunch> @Evrensel Kişilik\: with dynamic libraries you still need to tell Nim what kind of stuff is in the DLL. Normally that means writing all the procedure signatures and type definitions yourself. With Futhark you just give it your header files and it creates all the Nim definitions for you automatically
[02:46:05] <FromDiscord> <Evrensel Kişilik> In reply to @pmunch "<@359071052397281280>\: with dynamic libraries": yess buuuut maybe an interface to interact
[02:46:12] <FromDiscord> <pmunch> @System64 ~ Flandre Scarlet\: that looks correct, now you should be able to compile your code and Futhark should be able to get the output of Øpir \:)
[02:46:47] <FromDiscord> <Evrensel Kişilik> you could interpret DLL things and interact them
[02:46:48] <FromDiscord> <pmunch> @Evrensel Kişilik\: what do you mean?
[02:47:26] <FromDiscord> <demotomohiro> If you want to use a few functions from a C library, manually write binding is fine. But If you want to use many functions in C library or you need to create a Nim binding for a C library that exports many functions, manually write binding is hard.
[02:47:36] <FromDiscord> <pmunch> Futhark translates the header files to Nim definitions. Then you link in your dynamic library and Nim is now able to call everything in the DLL as if it was written in Nim
[02:47:47] <FromDiscord> <Evrensel Kişilik> there is an interface for `dlopen()`/`LoadLibrary()` right?
[02:48:35] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "<@380360389377916939>\: that looks correct,": But why it doesn't work?
[02:48:51] <FromDiscord> <Evrensel Kişilik> @System64 ~ Flandre Scarlet oh you can already do `LoadLibrary()` in Nim on Windows 😱
[02:48:58] <FromDiscord> <pmunch> @demotomohiro\: even with few definitions it's easy to get them slightly wrong and break something. Now that I'm used to using Futhark the overhead of using a C library is barely even there anymore. Just import and start coding
[02:49:14] <FromDiscord> <pmunch> I even get completions in my editor \:)
[02:49:35] <FromDiscord> <pmunch> @Evrensel Kişilik\: that's the easy part. Nim does that for you
[02:49:45] *** Quits: vicecea (~vicecea@gateway/vpn/pia/vicecea) (Ping timeout: 256 seconds)
[02:49:54] <FromDiscord> <pmunch> @System64 ~ Flandre Scarlet\: it still doesn't work after you fixed the path?
[02:50:16] <FromDiscord> <pmunch> Remember to update sysPath \:)
[02:50:43] <FromDiscord> <System64 ~ Flandre Scarlet> even, it doesn't work
[02:50:52] *** Joins: vicecea (~vicecea@gateway/vpn/pia/vicecea)
[02:51:24] <FromDiscord> <System64 ~ Flandre Scarlet> ah wait
[02:51:34] *** Quits: ssiyad (~ssiyad@user/ssiyad) (Read error: Connection reset by peer)
[02:51:42] *** Joins: ssiyad (~ssiyad@user/ssiyad)
[02:51:57] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3Ri8
[02:52:34] <FromDiscord> <Evrensel Kişilik> sent a code paste, see https://play.nim-lang.org/#ix=3Ri9
[02:52:46] <FromDiscord> <System64 ~ Flandre Scarlet>  https://media.discordapp.net/attachments/371759389889003532/949084446991200306/unknown.png
[02:53:49] *** Quits: rockcavera (~rc@user/rockcavera) (Remote host closed the connection)
[02:54:10] <FromDiscord> <pmunch> Yes, that is the JSON output of Øpir. Futhark automatically calls Øpir, and dumps that output in a file (the file I asked you to find in the cache folder earlier). Then it reads that file in the Futhark macro and generates Nim code from it
[02:54:35] <FromDiscord> <System64 ~ Flandre Scarlet> and where is this Nim code?
[02:54:44] *** Joins: rockcavera (~rc@192.12.113.200)
[02:54:45] *** Quits: rockcavera (~rc@192.12.113.200) (Changing host)
[02:54:45] *** Joins: rockcavera (~rc@user/rockcavera)
[02:54:46] <FromDiscord> <demotomohiro> In reply to @Evrensel Kişilik "there is an interface": Here:↵https://nim-lang.org/docs/manual.html#foreign-function-interface-dynlib-pragma-for-import↵https://nim-lang.org/docs/dynlib.html
[02:55:38] <FromDiscord> <pmunch> It's in a futhark\_\<hash\>.nim file in your cache. But Futhark will automatically import it for you with that importc statement
[02:55:50] <FromDiscord> <pmunch> So if you manage to get Futhark to call Øpir with those arguments it should work \:)
[02:56:22] <FromDiscord> <System64 ~ Flandre Scarlet> I still only have that https://media.discordapp.net/attachments/371759389889003532/949085358409269279/unknown.png
[02:56:39] <FromDiscord> <pmunch> Yup
[02:56:52] <FromDiscord> <pmunch> That's all you should need
[02:57:04] <FromDiscord> <System64 ~ Flandre Scarlet> and I can interact with the Tilengine library now?
[02:57:11] <FromDiscord> <pmunch> Yup
[02:57:27] <FromDiscord> <System64 ~ Flandre Scarlet> How?
[02:57:40] <FromDiscord> <pmunch> Call a function?
[02:57:57] <FromDiscord> <pmunch> Idk, I don't know how Tilengine works
[02:58:26] <FromDiscord> <pmunch> But you should now be able to call procedures from Tilengine
[02:58:36] <FromDiscord> <System64 ~ Flandre Scarlet> Autocompletion doesn't work
[02:59:04] <FromDiscord> <pmunch> Not all editors are too happy with that macro
[02:59:19] <FromDiscord> <demotomohiro> In reply to @pmunch "<@288750616510201856>\: even with few": That is true. But if I write a Nim library that use C library with futhark, everyone using the library also need to install futhark and clang, isn't it?
[02:59:38] <FromDiscord> <pmunch> Not necessarily, you could ship the cached file
[03:01:06] <FromDiscord> <pmunch> I've seen someone do a \`when defined(useFuthark)\` switch to determine if they should use Futhark or just import the cached file that had been copied into the repo
[03:01:18] <FromDiscord> <demotomohiro> In reply to @pmunch "Not necessarily, you could": That nice!
[03:02:52] <FromDiscord> <System64 ~ Flandre Scarlet> Still doesn't work https://media.discordapp.net/attachments/371759389889003532/949086987497922570/unknown.png
[03:03:04] <FromDiscord> <System64 ~ Flandre Scarlet> I tried to look for the cached file, I don't find it
[03:03:45] <FromDiscord> <VVX7> oh wow futhark looks awesome
[03:04:05] <FromDiscord> <Evrensel Kişilik> In reply to @VVX7 "oh wow futhark looks": really?
[03:05:22] <NimEventer> New thread by Mardiyah: How to delete and reset runtime array ?, see https://forum.nim-lang.org/t/8973
[03:05:41] <FromDiscord> <pmunch> @System64 ~ Flandre Scarlet\: and those Øpir commands work when you copy them into a terminal?
[03:06:16] <FromDiscord> <System64 ~ Flandre Scarlet> yeah, it doesn't display an error at least↵but not the nim compile
[03:11:50] <FromDiscord> <pmunch> So when you run that exact command you get a bunch of JSON? But when you compile that program it doesn't work and there is no opir file in your cache?
[03:12:55] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "So when you run": exact
[03:13:32] <FromDiscord> <pmunch> Hmm, that is very strange..
[03:14:07] <FromDiscord> <pmunch> Unfortunately I can't really think of anything else. And I really need to get some sleep
[03:15:10] <FromDiscord> <System64 ~ Flandre Scarlet> I understand
[03:15:22] <FromDiscord> <System64 ~ Flandre Scarlet> I think I'll stick with the old Tilengine version for now
[03:15:50] <FromDiscord> <pmunch> Wait, what's the content of the futhark-includes.h file?
[03:15:59] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "Wait, what's the content": ah lemme see
[03:16:04] <FromDiscord> <System64 ~ Flandre Scarlet>  https://media.discordapp.net/attachments/371759389889003532/949090311957798932/futhark-includes.h
[03:16:40] <FromDiscord> <pmunch> Hmm, yeah that's correct
[03:16:47] <FromDiscord> <System64 ~ Flandre Scarlet> that's good?
[03:16:58] <FromDiscord> <pmunch> And those exact Øpir commands really do spit out JSON now?
[03:17:06] <FromDiscord> <pmunch> Yeah that's fine
[03:17:17] <FromDiscord> <System64 ~ Flandre Scarlet> I don't have any json
[03:17:58] <FromDiscord> <pmunch> Huh? You told me the commands gave you JSON?
[03:18:46] <FromDiscord> <System64 ~ Flandre Scarlet> yeah but no file
[03:19:34] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3Rid
[03:20:38] <FromDiscord> <pmunch> And that gave you JSON? But no opir file in C\:\\Users\\nicol\\nimcache\\testTilengine\_d\\
[03:21:25] <FromDiscord> <System64 ~ Flandre Scarlet> That, but not any file https://media.discordapp.net/attachments/371759389889003532/949091657322745886/unknown.png
[03:24:00] <FromDiscord> <pmunch> Hmm, very strange
[03:24:36] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 240 seconds)
[03:25:01] <FromDiscord> <System64 ~ Flandre Scarlet> but I can print it to a JSON
[03:25:12] <FromDiscord> <System64 ~ Flandre Scarlet> with the ``>`` operator
[03:26:47] <FromDiscord> <pmunch> Yeah the problem is just figuring out what file to pipe it to..
[03:27:04] <FromDiscord> <System64 ~ Flandre Scarlet> output.json?
[03:27:06] <FromDiscord> <pmunch> The it needs to be the correct hash for Futhark no pick it up
[03:27:23] <FromDiscord> <System64 ~ Flandre Scarlet> seems complex
[03:27:47] <FromDiscord> <pmunch> Yup
[03:28:13] <FromDiscord> <System64 ~ Flandre Scarlet> I feel like I'm stuck :/
[03:29:02] <FromDiscord> <pmunch> I mean you could try to manually throw an \`echo opirCache\` in here\: https://github.com/PMunch/futhark/blob/master/src/futhark.nim#L484
[03:29:21] <FromDiscord> <pmunch> That should tell you the file it would open
[03:31:44] <FromDiscord> <pmunch> Then simply put the JSON in there and it should work..
[03:32:38] <FromDiscord> <System64 ~ Flandre Scarlet> Play I have the JSON
[03:32:50] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[03:32:51] <FromDiscord> <Evrensel Kişilik> oh damn
[03:32:58] <FromDiscord> <Evrensel Kişilik> still couldn't solve 😭
[03:33:08] <FromDiscord> <Evrensel Kişilik> where are deeeevss???
[03:33:32] <FromDiscord> <Evrensel Kişilik> im just your debugger hero im not familiar with Nim 😱
[03:33:52] <FromDiscord> <Elegantbeef> What?
[03:34:05] <FromDiscord> <Evrensel Kişilik> In reply to @Elegantbeef "What?": beeeeef help this person
[03:34:06] <FromDiscord> <Evrensel Kişilik> pls
[03:34:19] <FromDiscord> <Evrensel Kişilik> be a delicious beef
[03:34:22] <FromDiscord> <Elegantbeef> The author of the tool they're using is helping
[03:34:29] <FromDiscord> <Elegantbeef> Why would i attempt to help
[03:35:11] <FromDiscord> <Evrensel Kişilik> i knew you are not a kobe beef
[03:35:32] <FromDiscord> <pmunch> Because this author is going to sleep now \:P
[03:35:46] <FromDiscord> <Evrensel Kişilik> who is that
[03:35:47] <FromDiscord> <System64 ~ Flandre Scarlet> Progress https://media.discordapp.net/attachments/371759389889003532/949095275203543080/unknown.png
[03:35:58] <FromDiscord> <Elegantbeef> Damn it pmunch, tagging me in now
[03:37:00] <FromDiscord> <pmunch> Hooray! Now you should just have to figure out how to link the DLL. That is the missing symbol error
[03:37:12] <FromDiscord> <pmunch> Good night
[03:37:25] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "Hooray! Now you should": Undefined reference to something : My WORST ENNEMY in programming
[03:37:43] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "Progress": isn't there a Nim thing like a header after creating binding?
[03:37:49] <FromDiscord> <Evrensel Kişilik> you are using C header
[03:38:03] <FromDiscord> <System64 ~ Flandre Scarlet> and I did it!
[03:38:19] <FromDiscord> <System64 ~ Flandre Scarlet> let's create a window now
[03:38:24] <FromDiscord> <demotomohiro> Did you link all libraries your C library depends?
[03:38:30] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "and I did it!": congratulations
[03:38:32] <FromDiscord> <System64 ~ Flandre Scarlet> yeah
[03:38:35] <FromDiscord> <System64 ~ Flandre Scarlet> thanks!
[03:41:31] <FromDiscord> <demotomohiro> In reply to @Evrensel Kişilik "you are using C": I think nim files that contains type, const definitions and procedure declaresions with `importc` pragma  is similar to C's header file.
[03:42:00] <FromDiscord> <System64 ~ Flandre Scarlet> OMFG! https://media.discordapp.net/attachments/371759389889003532/949096841822216192/unknown.png
[03:42:04] <FromDiscord> <System64 ~ Flandre Scarlet> IT WORKS!
[03:42:13] <FromDiscord> <Evrensel Kişilik> 😱
[03:42:15] <FromDiscord> <Evrensel Kişilik> all i can say
[03:42:17] <FromDiscord> <demotomohiro> Congrats!
[03:42:17] <FromDiscord> <Evrensel Kişilik> MEOW
[03:42:27] <FromDiscord> <System64 ~ Flandre Scarlet> Thanks!
[03:43:46] <FromDiscord> <Evrensel Kişilik> i want to write a driver for my mouse
[03:43:57] <FromDiscord> <Evrensel Kişilik> because Logitech's software is actually a garbage
[03:44:31] <FromDiscord> <System64 ~ Flandre Scarlet> But OOF it says errors https://media.discordapp.net/attachments/371759389889003532/949097471546634320/unknown.png
[03:44:43] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "But OOF it says": 😭
[03:44:49] <FromDiscord> <Elegantbeef> Make sure you have your editor setup properly
[03:44:58] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Elegantbeef "Make sure you have": yeah
[03:45:01] <FromDiscord> <System64 ~ Flandre Scarlet> It is
[03:45:04] <FromDiscord> <Evrensel Kişilik> you could finish the game in Godot in this time
[03:45:10] <FromDiscord> <Elegantbeef> You set a project file?
[03:45:26] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Elegantbeef "You set a project": wdym?
[03:45:46] <FromDiscord> <Evrensel Kişilik> what is the error?
[03:46:02] <FromDiscord> <Elegantbeef> inside your workspace settins you should have `nim.project: ["testTileEngine.nim"]`
[03:46:06] <FromDiscord> <System64 ~ Flandre Scarlet> false positive
[03:46:14] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Elegantbeef "inside your workspace settins": Ah, I don't :/
[03:46:58] <FromDiscord> <Elegantbeef> That should fix it, assuming you're using saem's extension
[03:47:00] <FromDiscord> <Evrensel Kişilik> OMG
[03:47:01] <FromDiscord> <Evrensel Kişilik> https://store.azeron.eu/
[03:47:04] <FromDiscord> <Evrensel Kişilik> what is this?
[03:47:47] <FromDiscord> <Elegantbeef> 3D printed concept hardware
[03:48:04] <FromDiscord> <Evrensel Kişilik> In reply to @Elegantbeef "3D printed concept hardware": it says it is a keyboard
[03:48:06] <FromDiscord> <Evrensel Kişilik> 😱
[03:48:16] <FromDiscord> <Elegantbeef> keypad\
[03:48:19] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Elegantbeef "That should fix it,": How can I do this?
[03:49:05] <FromDiscord> <Elegantbeef> `ctrl + shift + p` workspace settings, add it
[03:50:18] <FromDiscord> <Evrensel Kişilik> umm i think he means adding `"nim.project": ["testTileEngine.nim"]` to `.code-workspace` file in your project directory
[03:50:50] <FromDiscord> <Elegantbeef> Yes, like i explained how to do it
[04:05:40] <FromDiscord> <Patitotective> sent a code paste, see https://play.nim-lang.org/#ix=3Rik
[04:06:27] <FromDiscord> <Patitotective> (edit) "https://play.nim-lang.org/#ix=3Rik" => "https://play.nim-lang.org/#ix=3Ril"
[04:07:00] <FromDiscord> <Patitotective> Or should I have two `foo` procs, one for `varargs[string]` and the other for `openArray[string]`? 😕
[04:07:28] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Elegantbeef "Yes, like i explained": Well I don't really understand
[04:09:03] <FromDiscord> <demotomohiro> What happens when you pass `seq[string]` to `varargs[string]`?
[04:09:57] *** Quits: ltriant (~ltriant@194-223-10-27.tpgi.com.au) (Ping timeout: 256 seconds)
[04:10:20] <FromDiscord> <Patitotective> In reply to @demotomohiro "What happens when you": :o
[04:10:51] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "Well I don't really": did you do Ctrl + Shift + P and Save Workspace As?
[04:10:53] <FromDiscord> <huantian> In reply to @Evrensel Kişilik "umm i think he": I always liked `.vscode/settings.json`
[04:11:19] <FromDiscord> <Evrensel Kişilik> In reply to @huantian "I always liked `.vscode/settings.json`": oh it affects only that directory
[04:11:21] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Evrensel Kişilik "did you do Ctrl": done
[04:11:31] <FromDiscord> <Evrensel Kişilik> but workspaces can include more than one directory
[04:11:38] <FromDiscord> <demotomohiro> In reply to @Patitotective "How do I convert": Nim manual says:↵A varargs parameter is an openarray parameter that additionally allows to pass a variable number of arguments to a procedure. The compiler converts the list of arguments to an array implicitly:↵https://nim-lang.org/docs/manual.html#types-varargs
[04:12:13] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "done": ok then open `[workspace_name].code-workspace` file
[04:12:19] <FromDiscord> <Patitotective> In reply to @demotomohiro "Nim manual says: A": hehe i was doing something wrong thanks 🙃
[04:12:34] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Evrensel Kişilik "ok then open `[workspace_name].code-workspace`": done
[04:12:39] <FromDiscord> <cvv.tracy> How to start a procedure in a new thread?
[04:13:05] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "done": ok now add `"nim.project": ["testTileEngine.nim"]` to `"settings"` key
[04:13:18] <FromDiscord> <Evrensel Kişilik>  https://media.discordapp.net/attachments/371759389889003532/949104714333696051/unknown.png
[04:13:19] <FromDiscord> <Evrensel Kişilik> like this
[04:13:35] <FromDiscord> <System64 ~ Flandre Scarlet> done
[04:13:45] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "done": sooo ok better restart it
[04:13:45] <FromDiscord> <Evrensel Kişilik> lol
[04:15:07] <FromDiscord> <System64 ~ Flandre Scarlet> well no error it seems, but no suggestions
[04:16:09] <FromDiscord> <Evrensel Kişilik> what should be done?
[04:17:12] <FromDiscord> <System64 ~ Flandre Scarlet> Loading :/ https://media.discordapp.net/attachments/371759389889003532/949105697105256508/unknown.png
[04:20:10] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "Loading :/": oh what theme is that?
[04:20:33] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Evrensel Kişilik "oh what theme is": Dracula + Remilia Scarlet as background
[04:20:48] <FromDiscord> <System64 ~ Flandre Scarlet> This is the background I use https://media.discordapp.net/attachments/371759389889003532/949106603305611325/48212642_p0.png
[04:21:18] <FromDiscord> <System64 ~ Flandre Scarlet> yeah I know it is badass
[04:21:28] <FromDiscord> <cvv.tracy> how do i multithread broaaaa
[04:21:39] <FromDiscord> <huantian> broaaaaaa?
[04:21:45] <FromDiscord> <cvv.tracy> didnt mean to put a
[04:21:48] <FromDiscord> <cvv.tracy> just meant bro
[04:22:14] <FromDiscord> <Elegantbeef> Depends what you're doing, there are taskpools, weave, then the stdlib threads
[04:22:29] <FromDiscord> <demotomohiro> In reply to @cvv.tracy "how do i multithread": https://nim-lang.org/docs/threads.html
[04:22:50] <FromDiscord> <Elegantbeef> sent a code paste, see https://play.nim-lang.org/#ix=3Rim
[04:22:53] <FromDiscord> <cvv.tracy> oh alr
[04:22:55] <FromDiscord> <cvv.tracy> thanks
[04:23:25] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "Dracula + Remilia Scarlet": this is my VSCode https://media.discordapp.net/attachments/371759389889003532/949107260372697099/unknown.png
[04:23:32] <FromDiscord> <Evrensel Kişilik> what are you using for changing background?
[04:23:36] <FromDiscord> <cvv.tracy> sent a code paste, see https://play.nim-lang.org/#ix=3Rin
[04:23:42] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Evrensel Kişilik "what are you using": Backgrounds, and you?
[04:23:59] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "Backgrounds, and you?": backgrounds? 😱 im just using Doki Theme for VSCode
[04:24:02] <FromDiscord> <demotomohiro> In reply to @cvv.tracy "oh alr": As @Elegantbeef said, higher level multithreading library might better.
[04:24:11] <FromDiscord> <huantian> why do yall change your vscode background lmao↵is it not distracting
[04:24:24] <FromDiscord> <Elegantbeef> use a tuple for parameters and then you do `Thread[(Arg1, Arg2, aRg3)]` and do `createThread(thread, (10, 20, 30))` for instance
[04:24:34] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Evrensel Kişilik "backgrounds? 😱 im just": https://marketplace.visualstudio.com/items?itemName=shalldie.background
[04:24:52] <FromDiscord> <Evrensel Kişilik> In reply to @System64 "https://marketplace.visualstudio.com/items?itemName": oh damn
[04:24:54] <FromDiscord> <Evrensel Kişilik> looooks good
[04:25:52] <FromDiscord> <System64 ~ Flandre Scarlet> yeah!
[04:27:08] <FromDiscord> <Evrensel Kişilik> did you upgrade to new version of VSCode?
[04:27:30] <FromDiscord> <Evrensel Kişilik>  https://media.discordapp.net/attachments/371759389889003532/949108286534332506/unknown.png
[04:31:53] <FromDiscord> <System64 ~ Flandre Scarlet> I think it's updated automatically
[04:49:09] <FromDiscord> <mattrb> Is there a way to define a proc that accepts and calls operators like `+`, `/`, etc, or is that something I need a template for?
[04:49:41] <FromDiscord> <mattrb> I'm currently just using `template binaryOp(operator: untyped): untyped`, but I'm wondering if there's a way to do it without templates
[04:49:59] <FromDiscord> <mattrb> I can't seem to get the compiler to be happy about calling `+` a proc :p
[04:50:27] <FromDiscord> <mattrb> I found a post on the forum that seems vaguely related that implies it's not possible, but I figure it doesn't hurt to confirm here
[04:52:11] <FromDiscord> <Elegantbeef> think it's still right, though i'd do `template binaryOp(operator: proc)`
[04:52:27] *** Quits: vicfred (~vicfred@user/vicfred) (Quit: Leaving)
[04:52:55] <FromDiscord> <System64 ~ Flandre Scarlet> How can I link to a dll already?
[04:53:28] <FromDiscord> <Elegantbeef> sent a code paste, see https://play.nim-lang.org/#ix=3Riq
[04:53:29] <FromDiscord> <Elegantbeef> Though it's not the most eloquent
[04:53:46] <FromDiscord> <Elegantbeef> `in` in this case is the module name
[04:55:01] <NimEventer> New question by itil memek cantik: Must have Nim function default argument as a mutable variable, see https://stackoverflow.com/questions/71345632/must-have-nim-function-default-argument-as-a-mutable-variable
[04:55:19] <FromDiscord> <mattrb> Thank you!
[04:55:20] <FromDiscord> <demotomohiro> In reply to @System64 "How can I link": Do you mean you want to link a libray to exising dll? I don't think it is possible without rebuilding the dll.
[04:55:42] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @demotomohiro "Do you mean you": It is but I forgot the command
[04:56:47] <FromDiscord> <Elegantbeef> https://nim-lang.org/docs/nimc.html#dynliboverride ?
[04:57:08] <FromDiscord> <System64 ~ Flandre Scarlet> I think it was with --passL
[04:57:09] <FromDiscord> <Elegantbeef> Oh do you mean the version numbering?
[04:57:36] <FromDiscord> <System64 ~ Flandre Scarlet> No, linking to DLL
[05:01:32] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Elegantbeef "Oh do you mean": I have undefined references to...
[05:02:36] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 240 seconds)
[05:03:14] <FromDiscord> <demotomohiro> Just adding libraries to `--passL` to fix undefined reference error doesn't work?
[05:03:47] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @demotomohiro "Just adding libraries to":  https://media.discordapp.net/attachments/371759389889003532/949117420675674232/unknown.png
[05:05:55] <FromDiscord> <demotomohiro> In reply to @System64 "": https://docs.microsoft.com/en-us/troubleshoot/windows-client/deployment/dynamic-link-library#load-time-dynamic-linking
[05:06:36] <FromDiscord> <demotomohiro> You need to pass `tileengine.lib` or `-ltiteengine`.
[05:07:33] <FromDiscord> <demotomohiro> On windows, .dll is not a file to pass linker. You pass .lib to linker.
[05:10:46] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @demotomohiro "On windows, *.dll is": it's static link then
[05:11:31] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[05:12:41] <FromDiscord> <System64 ~ Flandre Scarlet> okay so I don't understand
[05:13:35] <FromDiscord> <demotomohiro> There are 2 types of .lib file.↵.lib files for static linking and for Load-time dynamic linking.
[05:13:58] <FromDiscord> <System64 ~ Flandre Scarlet> okay now it's fixed
[05:14:22] <FromDiscord> <demotomohiro> There are 2 types of .lib file.↵.lib files for static linking and for Load-time dynamic linking.↵How static/dynamic lib works on linux and windows is different.
[05:14:51] <FromDiscord> <System64 ~ Flandre Scarlet> Windows is weir
[05:14:53] <FromDiscord> <System64 ~ Flandre Scarlet> (edit) "weir" => "weird"
[05:16:05] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3Riv
[05:17:13] <FromDiscord> <Elegantbeef> In what way?
[05:19:20] <FromDiscord> <System64 ~ Flandre Scarlet> like encapsulation or that kind of stuff
[05:20:01] <FromDiscord> <Elegantbeef> You make modules that hold the logic you want
[05:20:15] <FromDiscord> <Elegantbeef> Nothing here makes sense to wrap with an object
[05:20:59] <FromDiscord> <System64 ~ Flandre Scarlet> ah alright↵'cause I was thinking to that :↵https://github.com/megamarc/PyTilengine/blob/master/src/tilengine.py
[05:21:41] <FromDiscord> <demotomohiro> `createWindow`, don't take `TLN_ENGINE` and `processWindow` doesn't take window object. That looks hard to make OOP.
[05:21:54] <FromDiscord> <Elegantbeef> Well Nim isnt python, you can make the flags enums in Nim
[05:22:40] <FromDiscord> <Elegantbeef> sent a code paste, see https://play.nim-lang.org/#ix=3Rix
[05:22:55] <FromDiscord> <Elegantbeef> then you can take in `set[WindowFlags]` and do `cast[cint](flags)`
[05:23:08] <FromDiscord> <Elegantbeef> It's more idiomatic
[05:23:39] <FromDiscord> <System64 ~ Flandre Scarlet> oof seems more complex
[05:24:08] <FromDiscord> <Elegantbeef> Sets are better than `int`
[05:24:44] <FromDiscord> <Elegantbeef> No one wants to do `FullScreen or Vsync or S1` we want `{Fullscreen, Vsync, S1}` or even `{FullScreen .. S1}`
[05:25:41] <FromDiscord> <System64 ~ Flandre Scarlet> ah yeah, sounds cool!
[05:29:13] <FromDiscord> <huantian> In reply to @System64 "ah alright 'cause I": smh they aren't even using IntEnum!
[05:32:02] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Elegantbeef "No one wants to":  https://media.discordapp.net/attachments/371759389889003532/949124528519393330/unknown.png
[05:37:05] <FromDiscord> <Patitotective> How can I make `varargs` to require at least one element?
[05:37:38] <FromDiscord> <Elegantbeef> `assert myArgs.len > 0`
[05:37:57] <FromDiscord> <System64 ~ Flandre Scarlet> The sets method doesn't really work
[05:38:03] <FromDiscord> <Elegantbeef> It does
[05:38:09] <FromDiscord> <System64 ~ Flandre Scarlet> I have an error
[05:38:16] <FromDiscord> <Elegantbeef> Well fix it 😛
[05:38:20] <FromDiscord> <Rika> what is it
[05:38:26] <FromDiscord> <Rika> beef wtf smh rude
[05:40:30] <FromDiscord> <System64 ~ Flandre Scarlet> ah maybe I didn't tell what type was the set
[05:41:47] <FromDiscord> <System64 ~ Flandre Scarlet> and yeah it was that
[05:41:50] <FromDiscord> <System64 ~ Flandre Scarlet> I'm dumb lol
[05:43:31] <FromDiscord> <System64 ~ Flandre Scarlet> but is ``cast[cint](flags)`` doing a bitwise OR operation?
[05:43:51] <FromDiscord> <Rika> no
[05:44:00] <FromDiscord> <Rika> its doing a cast of the bitset to an integer
[05:44:07] <FromDiscord> <Rika> the or operation is putting elements into the set
[05:44:26] <FromDiscord> <System64 ~ Flandre Scarlet> I need to do an or operation through all elements
[05:44:41] <FromDiscord> <Rika> just put all elements into the set then
[05:44:55] <FromDiscord> <System64 ~ Flandre Scarlet> this is what I did
[05:45:06] <FromDiscord> <demotomohiro> https://nim-lang.org/docs/manual.html#set-type-bit-fields
[05:45:29] <FromDiscord> <Rika> what is the problem then
[05:45:40] <FromDiscord> <Rika> what does your enum look like
[05:45:59] <FromDiscord> <Rika> your enum values should correspond to the exponent of 2 you would `or` an integer with
[05:46:01] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3Riz
[05:46:18] <FromDiscord> <Rika> so enum val 1 would be `0b1` or'ed
[05:46:36] <FromDiscord> <Rika> 1 will be `0b10` or'ed
[05:46:43] <FromDiscord> <Rika> 0 would be 0b1 i think
[05:46:52] <FromDiscord> <Rika> then 2 will be 100 etc
[05:47:19] <FromDiscord> <Rika> sent a code paste, see https://paste.rs/em6
[05:47:45] <FromDiscord> <Rika> ~~i think its dumb to mix integers with a bitset... oh well that's their fault~~
[05:49:18] <FromDiscord> <Rika> you can probably still use a set here, but it wont be as simple to do `cast` to convert between int and set anymore
[05:49:30] <FromDiscord> <Rika> i still recommend the set but eh
[05:49:45] <FromDiscord> <System64 ~ Flandre Scarlet> Okay fixed
[05:49:57] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 240 seconds)
[05:50:10] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3RiA
[05:50:17] <FromDiscord> <Rika> that works i guess
[05:50:20] <FromDiscord> <demotomohiro> sent a code paste, see https://play.nim-lang.org/#ix=3RiB
[05:50:43] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3RiC
[05:51:00] <FromDiscord> <Rika> sent a code paste, see https://paste.rs/NQw
[05:51:10] <FromDiscord> <Rika> well, i think THAT specific case would
[05:51:18] <FromDiscord> <Rika> but when you add S3 it would break
[05:52:57] <FromDiscord> <System64 ~ Flandre Scarlet> the For loops are beautiful
[05:55:19] <FromDiscord> <Elegantbeef> `sizeof(cint)` might be wrong
[05:57:04] <FromDiscord> <demotomohiro> Nim's `set[EnumType]` works like bit flags in C.
[05:57:05] <FromDiscord> <demotomohiro> https://play.nim-lang.org/#ix=3RiF
[05:57:37] <FromDiscord> <Traveler> sent a long message, see https://paste.rs/EBC
[05:57:56] <FromDiscord> <Traveler> both conversions for b an d c don't run
[05:58:19] <FromDiscord> <Traveler> (edit) "long message," => "code paste," | "http://ix.io/3RiH" => "https://play.nim-lang.org/#ix=3RiG"
[05:58:36] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[05:59:04] <FromDiscord> <Elegantbeef> `sizeof(TestSet)` is 1 so it really doesnt matter to use cint
[05:59:17] <FromDiscord> <Rika> In reply to @demotomohiro "Nim's `set[EnumType]` works like": yes and a portion of the api they are trying to recreate has an integer in the middle of the bitset
[06:00:48] <FromDiscord> <Traveler> Fixed it. PyObjects have a to method 😄
[06:02:40] <FromDiscord> <System64 ~ Flandre Scarlet> so I can't have "none" twice? https://media.discordapp.net/attachments/371759389889003532/949132239449509908/unknown.png
[06:03:29] <FromDiscord> <Elegantbeef> `BlendFlags {.pure.}` or use overloadable enums
[06:05:09] <FromDiscord> <System64 ~ Flandre Scarlet> WTF is that https://media.discordapp.net/attachments/371759389889003532/949132863553560686/unknown.png
[06:05:26] <FromDiscord> <Rika> a union
[06:05:34] <FromDiscord> <System64 ~ Flandre Scarlet> I don't know what it is
[06:05:51] <FromDiscord> <Elegantbeef> A type that can be two types but has no type information
[06:06:12] <FromDiscord> <System64 ~ Flandre Scarlet> and is it possible to translate that to nim?
[06:06:13] <FromDiscord> <demotomohiro> I think you can use this: https://nim-lang.org/docs/manual.html#foreign-function-interface-union-pragma
[06:10:05] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3RiK
[06:10:51] <FromDiscord> <Elegantbeef> sent a code paste, see https://play.nim-lang.org/#ix=3RiL
[06:11:07] <FromDiscord> <Elegantbeef> Nim doesnt have anonymous object syntax
[06:11:09] *** Quits: arkurious (~arkurious@user/arkurious) (Quit: Leaving)
[06:11:33] <FromDiscord> <Elegantbeef> you could also do `a: tuple[index: uint16, flags: uint16]`
[06:11:46] <FromDiscord> <System64 ~ Flandre Scarlet> tuples can work too yeah
[06:16:42] <FromDiscord> <System64 ~ Flandre Scarlet> and is it possible to limit the size of a string?
[06:17:01] <FromDiscord> <Rika> no
[06:17:28] <FromDiscord> <Rika> i mean i guess if you want to treat `array[N, char]` as a string (even then, its cursed since its essentially a cstring
[06:17:35] <FromDiscord> <Rika> unless you also manually manage capacity
[06:17:38] <FromDiscord> <Rika> at length
[06:17:40] <FromDiscord> <Rika> (edit) 04removed "at"
[06:17:50] <FromDiscord> <System64 ~ Flandre Scarlet> I can do that during treatments yeah
[06:17:55] <FromDiscord> <Rika> at that point you've adhoc'ed a string
[06:18:09] <FromDiscord> <Rika> maybe just check the length
[06:18:17] <FromDiscord> <Rika> and limit it if its over
[06:18:25] <FromDiscord> <retkid> is there a partial read function in the stdlib?↵↵I only need to read the header
[06:18:44] <FromDiscord> <retkid> (edit) "is there a partial read function in the stdlib?↵↵I only need to read the header ... " 03added "of a file"
[06:18:48] <FromDiscord> <Rika> https://nim-lang.org/docs/io.html#readBytes%2CFile%2CopenArray%5B%5D%2CNatural%2CNatural
[06:19:20] <FromDiscord> <retkid> this returns a byte sequence like (00, AA, FF)?
[06:19:26] <FromDiscord> <retkid> or the characters
[06:19:45] <FromDiscord> <Rika> bytes for readbytes chars for readchars
[06:19:48] <FromDiscord> <Rika> lol
[06:20:06] <FromDiscord> <retkid> AH
[06:20:08] <FromDiscord> <retkid> thank you <3
[06:20:10] <FromDiscord> <Rika> lol
[06:25:26] <FromDiscord> <Patitotective> In reply to @Elegantbeef "`assert myArgs.len > 0`": but will it fix ambiguity errors?
[06:26:19] <FromDiscord> <retkid> SO i give it a file and an empty sequence of int8
[06:26:31] <FromDiscord> <retkid> start and a total number of bytes
[06:27:35] <FromDiscord> <Elegantbeef> It will not
[06:30:45] <FromDiscord> <retkid> NGL
[06:31:02] <FromDiscord> <retkid> its kinda strange that you provide the function with a list of the same size as you want to read
[06:31:15] <FromDiscord> <retkid> it doesn't make much sense to me, why cant it just do that in the procs
[06:31:22] <FromDiscord> <Elegantbeef> What?
[06:31:23] <FromDiscord> <retkid> but im sure theres a good reason
[06:31:28] <FromDiscord> <retkid> lemme show youuu
[06:31:33] <FromDiscord> <Elegantbeef> Those are the low level read operations
[06:31:47] <FromDiscord> <retkid> sent a code paste, see https://play.nim-lang.org/#ix=3RiO
[06:31:50] <FromDiscord> <retkid> it works fine
[06:32:04] <FromDiscord> <retkid> but its just a bit strange i gotta put a mutable array in to get an output
[06:32:33] <FromDiscord> <Elegantbeef> you dont have to
[06:32:50] <FromDiscord> <Elegantbeef> God damn it
[06:32:53] <FromDiscord> <Elegantbeef> sent a code paste, see https://play.nim-lang.org/#ix=3RiP
[06:32:58] <FromDiscord> <retkid> it needs to be mutable
[06:33:36] <FromDiscord> <Elegantbeef> There no mutable array
[06:33:38] <FromDiscord> <Elegantbeef> sent a code paste, see https://play.nim-lang.org/#ix=3RiQ
[06:34:37] <FromDiscord> <retkid> where is read from?
[06:34:46] <FromDiscord> <Elegantbeef> Whatever the function for reading is
[06:34:58] <FromDiscord> <retkid> ah
[06:36:05] <FromDiscord> <retkid> There should be some kinda data type right, where you have an int linked with an arbitrary type, and you can like, assign it to anything
[06:36:09] <FromDiscord> <retkid> like [3] = "X"
[06:36:14] <FromDiscord> <retkid> like i dunno we can call it a table
[06:36:39] <FromDiscord> <Elegantbeef> That doesnt make much sense generally since you dont have the type information to make a type, but yes you can use a union
[06:37:34] <FromDiscord> <Rika> what?
[06:37:37] <FromDiscord> <Rika> im not sure what you're thinking
[06:38:28] <FromDiscord> <Elegantbeef> From why i understood it seemed they wanted a type that you can link an int to and just assign it to anything
[06:39:12] <FromDiscord> <Rika> ? a global table/array
[06:39:41] <FromDiscord> <Elegantbeef> Perhaps i dont know wasnt clear what they were saying
[06:39:44] <FromDiscord> <Elegantbeef> Atleast not clear to me
[06:46:06] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[07:36:02] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.4)
[07:36:32] *** Joins: supakeen (~user@python/site-packages/supakeen)
[07:50:46] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Ping timeout: 245 seconds)
[07:54:59] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[08:01:09] *** Quits: rockcavera (~rc@user/rockcavera) (Remote host closed the connection)
[08:29:09] *** Quits: slowButPresent (~slowButPr@user/slowbutpresent) (Quit: leaving)
[08:39:16] <FromDiscord> <surajvb> IMG-20220304-WA0006.jpg https://media.discordapp.net/attachments/371759389889003532/949171648878239744/IMG-20220304-WA0006.jpg
[08:39:19] <FromDiscord> <surajvb> It would be nice if we can resolve this issue while accessing nim-lang.org
[08:40:22] <FromDiscord> <Elegantbeef> https://github.com/nim-lang/website/issues
[08:43:05] <FromDiscord> <Rika> i am not getting the cert issue
[08:43:10] <FromDiscord> <Rika> it may be a geo thing
[09:23:37] <FromDiscord> <demotomohiro> I also dont get that error.
[09:31:55] <FromDiscord> <Rika> ~~we're both in japan so it still doesnt tell if its a location thing or not lol~~
[09:32:06] <FromDiscord> <Elegantbeef> Fine in Canada here
[09:32:19] <FromDiscord> <Elegantbeef> That's like the entire globe
[09:32:24] <FromDiscord> <Elegantbeef> eh
[09:33:55] <FromDiscord> <Rika> strange then
[09:34:01] <FromDiscord> <Rika> might be their browser then
[09:34:26] <FromDiscord> <Elegantbeef> Could also possibly locally expired certs on their PC, no?
[09:35:47] *** Quits: ltriant (~ltriant@194-223-10-27.tpgi.com.au) (Ping timeout: 256 seconds)
[09:57:45] <FromDiscord> <pmunch> @System64 ~ Flandre Scarlet\: Futhark should've wrapped your union as well. It knows how to handle them
[10:04:17] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[10:41:51] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:e4e8:d997:3422:7c95)
[10:55:07] *** Quits: ltriant (~ltriant@194-223-10-27.tpgi.com.au) (Ping timeout: 256 seconds)
[10:59:20] *** Joins: PMunch (~PMunch@user/pmunch)
[11:28:26] <PMunch> Damn, Futhark to the rescue once again. The librdkafka bindings where missing some of the newer procedures, replaced the import rdkafka with four lines of Futhark imports and voila!
[11:32:38] <FromDiscord> <dilawar (Dilawar Singh)> Is there a libray that can help in locating various executable in Win32 platform e.g. if I say `locateExe("msbuild.exe")`, it can return the path of `MSBuild.exe`. Optionally I can pass list of directories to search into recursively?
[11:33:03] <FromDiscord> <Elegantbeef> https://nim-lang.org/docs/os.html#findExe%2Cstring%2Cbool%2CopenArray%5Bstring%5D
[11:37:23] <FromDiscord> <dilawar (Dilawar Singh)> It searches in `PATH`. Unfortunately, `choco install foo` may not add foo to `PATH`on Win32. I need to pass some locations to search into. Something like `cmake`'s `find_executable` https://cmake.org/cmake/help/v3.8/command/find_program.html?highlight=i
[11:39:02] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[11:40:24] <FromDiscord> <Rika> Well where should it search if not the PATH ?
[11:42:05] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Quit: Leaving)
[11:45:40] *** Quits: ltriant (~ltriant@194-223-10-27.tpgi.com.au) (Ping timeout: 272 seconds)
[11:45:53] <FromDiscord> <Elegantbeef> Recursively search the entire drive 😛
[11:46:52] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:e4e8:d997:3422:7c95) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[11:50:30] <FromDiscord> <dilawar (Dilawar Singh)> I may have to before declaring failure in CI pipeline 🤔. `walkDirRec` looks promising.
[11:51:58] <FromDiscord> <dilawar (Dilawar Singh)> I hope people at chocolatey and Microsoft pay attention to `PATH`. But thats what it is. They sometimes put the executable into versioned folder that changes after every update!↵(@Rika)
[11:54:26] <FromDiscord> <Elegantbeef> MS be like "what's a path"
[11:54:33] <FromDiscord> <Elegantbeef> There's a few stones outside, use that
[12:01:36] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[12:02:08] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[12:07:08] <PMunch> Haha :P
[12:07:46] <PMunch> I guess they would put it in the path, but then again since you don't often use the terminal in Windows they might just add an icon to the start menu and call it the day
[12:15:05] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[12:19:49] *** Quits: ltriant (~ltriant@194-223-10-27.tpgi.com.au) (Ping timeout: 256 seconds)
[13:17:49] *** Quits: om3ga (~oz@46.49.41.80) (Ping timeout: 240 seconds)
[13:50:15] <FromDiscord> <fbpyr> [dilawar (Dilawar Singh)](https://matrix.to/#/@dilawar-599aa234d73408ce4f7246bd:gitter.im)\: did chocolatey no add it's bin path to `PATH`? it looks like it did over here.
[13:51:55] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @pmunch "<@380360389377916939>\: Futhark should've wrapped": Ah alright↵But is it possible to share my library with others?
[13:52:55] <PMunch> You can share the futhark_<hash>.nim file
[13:53:34] <PMunch> I've seen people add that to their repo and then use `when defined(useFuthark): <futhark stuff> else: import futhark_<hash>.nim`
[13:54:10] <PMunch> That way people can build against the actual C library, or trust that your bindings are for the same version and use those
[13:55:30] <FromDiscord> <System64 ~ Flandre Scarlet> ah alright
[13:55:36] <FromDiscord> <System64 ~ Flandre Scarlet> and can I rename the file?
[13:56:11] <PMunch> Sure, as long as you manually `import` it you can name it whatever you want
[13:56:25] <FromDiscord> <System64 ~ Flandre Scarlet> Oh alright, it's nice
[13:56:29] <PMunch> The hash is just there so that I can check whether the cache exists or not
[13:57:12] <PMunch> I basically just hash all the arguments you pass in and use that, this way if you change anything in the `importc` block it will detect if it needs to build a new file or just use the old one
[13:57:33] <FromDiscord> <System64 ~ Flandre Scarlet> ah I understand now↵But now I try to make the interaction with the library higher level
[14:00:03] <FromDiscord> <System64 ~ Flandre Scarlet> Btw does Nim supports something like Class method?
[14:00:16] <PMunch> Class method?
[14:00:17] <FromDiscord> <Elegantbeef> Oh pmunch you might be interested, started toying with macros that use distinct Nimnodes to expand functionality. Quite nice so far https://github.com/beef331/micros/blob/master/tests/test1.nim
[14:00:36] <FromDiscord> <Elegantbeef> No Nim doesnt have Classes, if you want a type bound procedure you do `proc myProcName(_: typedesc[MyType])`
[14:01:22] <FromDiscord> <Elegantbeef> `proc doThing(_: typedesc[int]) = echo "hello"` is invokable `int.doThing()`
[14:01:50] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Elegantbeef "No Nim doesnt have": Ah alright so I can do myObject.doSomething()?
[14:02:17] <FromDiscord> <Elegantbeef> Nim allows you to do `doSomething(myObject)` or `doSomething(myObject)` with all procedures
[14:02:38] <FromDiscord> <Elegantbeef> It's called "Method Call Syntax" in the manual and "Uniform Function Calling Syntax" everywhere else
[14:02:45] <FromDiscord> <Elegantbeef> Damn it i'm tired
[14:02:46] <FromDiscord> <enthus1ast> myObject.doSomething()  beef means ;)
[14:02:54] <FromDiscord> <Elegantbeef> Thanks
[14:03:06] <FromDiscord> <System64 ~ Flandre Scarlet> aah alright, thanks
[14:03:17] <FromDiscord> <Elegantbeef> I say tired but i was just typing and not proofreading, but tired is easier
[14:04:14] <FromDiscord> <Elegantbeef> Also that's not a Class method in other languages, that'd be a member function
[14:04:23] <FromDiscord> <Elegantbeef> Or instance function
[14:04:36] <FromDiscord> <Elegantbeef> Atleast in C#/Java i guess
[14:04:44] <FromDiscord> <Elegantbeef> Anyway i go sleep now
[14:05:29] <FromDiscord> <System64 ~ Flandre Scarlet> and does it have the Self keywordN
[14:05:31] <FromDiscord> <System64 ~ Flandre Scarlet> (edit) "keywordN" => "keyword?"
[14:09:34] <FromDiscord> <Rika> there is no concept of "self" or "this" in nim, you can just call the first param. that
[14:10:34] <FromDiscord> <Rika> so idk `proc takeString(self: StringyThing): string = return self.thingyString`
[14:11:06] <FromDiscord> <Rika> called `aStringyThing.takeString()` or the other variants as eluded to above
[14:11:13] <FromDiscord> <Rika> its just a parameter name
[14:14:49] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Rika "so idk `proc takeString(self:": Ah alright so I have to pass the first parameter anyway then?
[14:14:54] *** Joins: Guest2 (~Guest2@2001:ce8:131:5f61:e103:cf94:5e10:2214)
[14:15:13] <FromDiscord> <Rika> yeah there is no concept of classes and procs bound to types here
[14:15:26] <FromDiscord> <Rika> its a strange language if you consider that
[14:15:46] <FromDiscord> <System64 ~ Flandre Scarlet> Ah I see↵so doing myObject.doSomething() is useless, right?
[14:15:47] *** Quits: Guest2 (~Guest2@2001:ce8:131:5f61:e103:cf94:5e10:2214) (Client Quit)
[14:15:54] <FromDiscord> <Rika> why would it be?
[14:16:05] <FromDiscord> <Rika> i mean sure it could be useless if you make the proc useless but huh?
[14:16:35] <FromDiscord> <System64 ~ Flandre Scarlet> it would be↵↵myObject.doSomething(myObject, a, b, c)
[14:19:12] <FromDiscord> <Rika> ? no, when you do `myObject.doSomething()` it is equivalent to `doSomething(myObject)` so myObject is the first param
[14:20:15] <FromDiscord> <System64 ~ Flandre Scarlet> ah alright
[14:23:28] <FromDiscord> <Rika> 👌
[14:25:33] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://paste.rs/Jz2
[14:26:14] <FromDiscord> <Rika> in this case, it is `discard TLN_ENGINE.deleteEngine()`, and `self` is a type not an object
[14:26:25] <FromDiscord> <Rika> i think what you want is `self: TLN_ENGINE`
[14:27:47] <FromDiscord> <System64 ~ Flandre Scarlet> TLN_Engine is a struct in C, so it's an object on nim↵But I want this proc to be called only on a TLN_Engine object
[14:28:45] <FromDiscord> <Rika> so do you want `self` to be the struct, or the type of the struct
[14:29:00] <FromDiscord> <Rika> In reply to @Rika "i think what you": do you want to access the fields of the struct? if so, you want this
[14:29:16] <FromDiscord> <demotomohiro> sent a code paste, see https://paste.rs/Rnr
[14:29:22] <FromDiscord> <System64 ~ Flandre Scarlet> ah wait
[14:29:28] <FromDiscord> <System64 ~ Flandre Scarlet> TLN_Engine is a pointer
[14:29:32] <FromDiscord> <System64 ~ Flandre Scarlet> (edit) "TLN_Engine is a pointer ... " 03added "to a struct"
[14:29:40] <FromDiscord> <Rika> yes okay
[14:29:46] <FromDiscord> <Rika> my question still applies
[14:30:01] <FromDiscord> <System64 ~ Flandre Scarlet> I don't want to access the fields
[14:30:15] <FromDiscord> <Rika> ok wait let me read up on the context
[14:30:36] <FromDiscord> <demotomohiro> How `TLN_ENGINE` is defined in your Nim code?
[14:30:41] <FromDiscord> <Rika> sent a code paste, see https://play.nim-lang.org/#ix=3RjV
[14:31:15] <FromDiscord> <Rika> In reply to @System64 "I don't want to": do you need the pointer of the struct as a value in the proc
[14:31:28] <FromDiscord> <Rika> if you need to pass the value, use `self: TLN_Engine`
[14:32:10] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[14:33:45] <FromDiscord> <System64 ~ Flandre Scarlet> ah thanks, it works
[14:38:23] *** Quits: ltriant (~ltriant@194-223-10-27.tpgi.com.au) (Ping timeout: 256 seconds)
[15:03:51] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://paste.rs/QpU
[15:13:40] *** Joins: ltriant (~ltriant@194-223-10-27.tpgi.com.au)
[15:13:50] <FromDiscord> <System64 ~ Flandre Scarlet> I should be able to access the fields https://media.discordapp.net/attachments/371759389889003532/949270944743047229/unknown.png
[15:18:28] <NimEventer> New thread by Mardiyah: To prepend binary operation like binary append, see https://forum.nim-lang.org/t/8974
[15:28:02] <FromDiscord> <demotomohiro> In reply to @System64 "I should be able": How type of `color` is defined?
[15:28:29] <NimEventer> New thread by Drkameleon: ReadLineFromStdin & Windows, see https://forum.nim-lang.org/t/8975
[15:28:38] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3Rk0
[15:29:31] <FromDiscord> <vindaar> @System64 ~ Flandre Scarlet\: you write `color.r` instead of `self.r` etc.
[15:29:42] <FromDiscord> <System64 ~ Flandre Scarlet> ah yeah I'm dumb lol
[15:30:05] <FromDiscord> <System64 ~ Flandre Scarlet> but thanks
[15:32:10] <PMunch> @Elegantbeef, that sounds like it would require a lot of casting back and forth though
[15:32:14] <PMunch> I considered it for macroutils
[15:35:43] <PMunch> @System64_~_Flandre_Scarlet, why have you marked your object as pure?
[15:36:02] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.4)
[15:36:32] *** Joins: supakeen (~user@python/site-packages/supakeen)
[15:40:03] <FromDiscord> <demotomohiro> It seems using pure pragma to object type without inheritable pragma do nothing.↵Non-inheritable object types dont have runtime type info.↵https://internet-of-tomohiro.netlify.app/nim/faq.en.html#type-how-pure-pragma-dotpuredot-work-to-object-typeqmark
[15:42:26] <FromDiscord> <demotomohiro> But Nim in future version can add runtime type info to Non-inheritable object types?
[15:42:39] <FromDiscord> <Rika> can but i doubt they will
[15:48:52] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @PMunch "@System64_~_Flandre_Scarlet, why have you": To avoid variable name conflict
[15:49:24] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @System64 "so I can't have": To avoid this problem
[15:49:27] <PMunch> @demotomohiro, exactly `pure` is only used for `inheritable` to remove the runtime type information from the object
[15:49:51] <PMunch> @System64_~_Flandre_Scarlet, that pragma doesn't do anything at all
[15:50:06] <PMunch> (when not combined with `{.inheritable.}`
[15:50:08] <PMunch> )
[15:50:09] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @PMunch "@System64_~_Flandre_Scarlet, that pragma doesn't": Ah! And why does it work with enums?
[15:50:39] <PMunch> Because enums are something else than objects, and the `pure` pragma for enums is different from the one for objects
[15:50:45] <PMunch> They really shouldn't be called the same..
[15:51:30] <FromDiscord> <System64 ~ Flandre Scarlet> Woops, that's confusing!
[15:51:58] <FromDiscord> <demotomohiro> Yes. they should be different name.
[15:52:47] <PMunch> Haha, yeah you're the second person in just a week or so which have tried to use pure in this way
[15:57:33] <FromDiscord> <fbpyr> hmm.. 🤔↵trying to port a tiny (14sloc) C++ hello world plugin to nim\:  https://play.nim-lang.org/#ix=3Rk7↵how would I import ControllerFactory from the header file?↵nim compiler complains about `undeclared identifier: 'ControllerFactory'`
[15:59:28] <PMunch> @fbpyr, you seem to have a misunderstanding in how wrapping works
[16:00:57] <FromDiscord> <demotomohiro> You need to define `ControllerFactory` type in Nim code somehow.
[16:01:00] <PMunch> Nowhere in your code do you define ControllerFactory, which is what the error message is about. That `importc` tells Nim that the procedure `plugin_x64_init` is called `ControllerFactory` in the C++ code.
[16:02:08] <PMunch> If you define `type ControllerFactory = distinct object` and then just do `{.importc, header: "CwAPI3D.h".}` on the procedure (assuming it is called `plugin_x64_init` in the C code) it should work.
[16:02:20] <FromDiscord> <demotomohiro> This section in Nim manual would help you: https://nim-lang.org/docs/manual.html#implementation-specific-pragmas-importcpp-pragma
[16:02:25] <FromDiscord> <fbpyr> yes the error is very clear. I was under the impression maybe that .importc. would somehow introduce it, but it already  felt like I was an import..
[16:02:41] <FromDiscord> <fbpyr> ah thanks for the pointer!! 😌
[16:03:17] <PMunch> Ah wait, since you actually try to use aFactory you need to have the type definition for it in Nim.
[16:03:26] <PMunch> So you can't just call it a distinct object
[16:04:46] <PMunch> Nah importc only tells Nim how to import the current symbol. So e.g. you could do `proc init(aFactory: ptr ControllerFactory): bool {.importc: "plugin_x64_init".}` to have it be called `init` in Nim code, but still resolve to `plugin_x64_init` in C code.
[16:05:54] <FromDiscord> <fbpyr> I see - I will try that and read up in the importcpp pragma..
[16:06:43] <FromDiscord> <fbpyr> my understanding was, that the function in cpp was called `plugin_x64_init` as the expected name for the entrypoint of the plugin.
[16:08:23] <FromDiscord> <fbpyr> bummer, that c2nim had troubles with the snippet, when I tried it..
[16:11:01] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 256 seconds)
[16:12:10] <FromDiscord> <fbpyr> thx for the explanation - now I understand the .importc pragma a little better. ↵yes then what I had in the snippet just makes no sense..
[16:42:31] <PMunch> If the function in C++ is called plugin_x64_init then you can simply do `proc plugin_x64_init(args): returntype {.importc.}`
[16:43:11] <PMunch> But you can't do e.g. `proc pluginx64Init(args): returntype {.importc.}`, it has to be verbatim otherwise you need to give a string value to `importc`
[16:47:36] <FromDiscord> <fbpyr> in their example the plugin\_x64\_init seems to be the entry point. the `ControllerFactory` is leading to a class called `ICwAPI3DControllerFactory` so I assume I have to somehow introduce it to nim.. it seems like there is also a way way nimterop, but ideally I would love to understand the basics first..
[16:49:48] <FromDiscord> <fbpyr> aha so the returntype of bool would need the  `{.importc.}`
[16:50:04] <PMunch> If you figure out how C++ <=> Nim interop should work you could make a PR to Futhark so you never have to think about it again :P
[16:50:34] <PMunch> @fbpyr, no the pragma is attached to the proc, not the returntype
[16:50:52] <PMunch> I just typed returntype because I couldn't remember what the actual return type was :P
[16:50:57] <FromDiscord> <fbpyr> oh ok.
[16:51:18] <FromDiscord> <fbpyr> ok, was simple bool..
[16:56:01] *** Joins: slowButPresent (~slowButPr@user/slowbutpresent)
[17:01:48] *** Quits: PMunch (~PMunch@user/pmunch) (Quit: Leaving)
[17:22:37] <FromDiscord> <fbpyr> ..so after reading the `ImportCpp pragma` I am using the ControllerFactory via `importcpp`\:↵https://play.nim-lang.org/#ix=3Rkt↵now compiler errors at line 15 with `Error: attempting to call undeclared routine: 'getUtilityController'`↵does that mean I would need to introduce each class method individually, additionally to the class itself? 🤔
[17:25:34] <FromDiscord> <demotomohiro> If you want to use it, Nim need to know about class method.
[17:28:09] <FromDiscord> <fbpyr> I see, so it does not come with the class.. 🙁
[17:28:41] <FromDiscord> <fbpyr> I hoped it would get the class with its methods.. 😉
[17:30:37] <FromDiscord> <demotomohiro> Nim compiler doesn't try to read C/C++ files and understand C/C++ code. You need to tell Nim about types/constants/functions in C/C++ library so that Nim can generate C or C++ code that correctly use the library.
[17:32:57] <FromDiscord> <demotomohiro> It seems nimterop or futhark read and understand C code and generates Nim type definitions and procedure declarations with proper pragma.
[17:33:27] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @demotomohiro "It seems nimterop or": And it works well!
[17:33:54] <FromDiscord> <System64 ~ Flandre Scarlet> Btw, is it a good start? https://media.discordapp.net/attachments/371759389889003532/949306195590660126/tilengine.nim
[17:39:21] <FromDiscord> <fbpyr> thank you @demotomohiro  . I guess I should check out nimterop then.. 🙂
[17:44:47] <FromDiscord> <demotomohiro> @System64 ~ Flandre Scarlet you should use `cint` instead of `int` if it is passed to C function.↵https://internet-of-tomohiro.netlify.app/nim/faq.en.html#type-what-is-the-difference-between-cintslashcfloat-and-intslashfloatqmark
[17:46:09] <FromDiscord> <demotomohiro> !eval echo sizeof(int), ", ", sizeof(cint)
[17:46:12] <NimBot> 8, 4
[17:46:51] *** Joins: arkurious (~arkurious@user/arkurious)
[17:47:35] <FromDiscord> <demotomohiro> That means sizeof(int) in Nim and sizeof(int) in C is different in NimBot's machine.
[17:47:47] <FromDiscord> <System64 ~ Flandre Scarlet> Ah I see! good to know
[17:47:53] <FromDiscord> <System64 ~ Flandre Scarlet> and is there C variants for uint8?
[17:48:31] <FromDiscord> <demotomohiro> `uint8_t`?
[17:48:56] <FromDiscord> <System64 ~ Flandre Scarlet> it's the C version of uint8_t?
[17:49:10] <FromDiscord> <System64 ~ Flandre Scarlet> !eval echo sizeof(uint8), ", ", sizeof(uint8_t)
[17:49:13] <NimBot> Compile failed: /usercode/in.nim(1, 34) Error: undeclared identifier: 'uint8_t'
[17:50:34] <FromDiscord> <demotomohiro> `uint8_t` is a type in C, not Nim. Nim has uint8.
[17:51:23] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @demotomohiro "`uint8_t` is a type": and the size is the same?
[17:51:34] <Amun-Ra> yes
[17:51:39] <FromDiscord> <System64 ~ Flandre Scarlet> ah alright
[17:51:53] <FromDiscord> <System64 ~ Flandre Scarlet> only ints are differents it seems
[17:52:10] <Amun-Ra> only those without fixed width
[17:52:11] <FromDiscord> <System64 ~ Flandre Scarlet> !eval echo sizeof(short), ", ", sizeof(cshort)
[17:52:14] <NimBot> Compile failed: /usercode/in.nim(1, 13) Error: undeclared identifier: 'short'
[17:52:23] <FromDiscord> <System64 ~ Flandre Scarlet> ah wait
[17:52:32] <FromDiscord> <System64 ~ Flandre Scarlet> !eval echo sizeof(int16), ", ", sizeof(cshort)
[17:52:36] <NimBot> 2, 2
[17:53:19] <FromDiscord> <System64 ~ Flandre Scarlet> ah alright, shorts have the same size
[17:53:22] <Amun-Ra> it's not that those have different size, it's just they are not interchangeable when doing interop
[17:54:30] <FromDiscord> <System64 ~ Flandre Scarlet> Ah alright
[17:54:51] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3RkF
[17:55:17] <Amun-Ra> it's be done automagically
[17:55:27] <FromDiscord> <System64 ~ Flandre Scarlet> ah alright
[17:55:46] <Amun-Ra> you have to use `$` when returning cstring to nim string
[17:55:58] <FromDiscord> <System64 ~ Flandre Scarlet> good to know
[17:56:42] <FromDiscord> <System64 ~ Flandre Scarlet> Fixed I think https://media.discordapp.net/attachments/371759389889003532/949311928671547442/tilengine.nim
[18:03:18] <FromDiscord> <demotomohiro> I hope it works. I'm sleepy. Good night.
[18:06:35] <FromDiscord> <System64 ~ Flandre Scarlet> Good night and it runs at least
[18:06:58] <FromDiscord> <System64 ~ Flandre Scarlet> is it possible to divide the module in submodules but keeping one file?
[18:19:19] <FromDiscord> <retkid> whats the ultimate for iterable object
[18:19:30] <FromDiscord> <retkid> (edit) "whats the ultimate ... for" 03added "generic"
[18:22:40] *** Quits: greyrat (~greyrat@ip202.ip-51-178-215.eu) (Bye)
[18:23:01] *** Joins: greyrat_ (~greyrat@ip202.ip-51-178-215.eu)
[18:24:10] *** Joins: [RMS] (~rs@genoce.org)
[18:25:36] *** Joins: lumidify_ (~lumidify@user/lumidify)
[18:26:19] *** Server sets mode: +nt 
[18:29:52] *** Quits: greyrat (~greyrat@ip202.ip-51-178-215.eu) (*.net *.split)
[18:29:52] *** Quits: lumidify (~lumidify@user/lumidify) (*.net *.split)
[18:29:53] *** Quits: flynn (~mcbloch@user/flynn) (*.net *.split)
[18:29:53] *** Quits: xet7 (~xet7@user/xet7) (*.net *.split)
[18:29:53] *** Quits: oisota (~oisota@user/oisota) (*.net *.split)
[18:29:53] *** Quits: arkanoid (~arkanoid@2-238-151-49.ip244.fastwebnet.it) (*.net *.split)
[18:29:53] *** Quits: [R] (~rs@genoce.org) (*.net *.split)
[18:29:53] *** oisota6 is now known as oisota
[18:29:57] *** flynn4 is now known as flynn
[18:30:39] *** Joins: arkanoid (~arkanoid@2-238-151-49.ip244.fastwebnet.it)
[18:36:53] *** Joins: xet7 (~xet7@user/xet7)
[18:48:55] <FromDiscord> <System64 ~ Flandre Scarlet> Should I turn my objects into reference type?
[18:54:35] *** Joins: neurocyte0917090 (~neurocyte@user/neurocyte)
[19:00:10] <FromDiscord> <auxym> problably not, unless you need reference semantics: multiple references to a single object
[19:15:22] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @auxym "problably not, unless you": But if I have to pass an object to a function?
[19:15:41] <FromDiscord> <System64 ~ Flandre Scarlet> it would be slower to pass it as value than as ref
[19:16:26] *** Joins: kayabaNerve_ (~kayabaNer@user/kayabanerve)
[19:16:46] <FromDiscord> <auxym> nim optimizes this automatically: is the object is "large enough", nim  passes it as a reference. If it's small, the cost of a copy is smaller than a dereference so it is passed by value (copy)
[19:17:06] <FromDiscord> <auxym> (var arguments are always passed by ref, somewhat obviously)
[19:17:47] <FromDiscord> <System64 ~ Flandre Scarlet> Aaah alright, so I'll let Nim doing this for me
[19:17:59] <FromDiscord> <System64 ~ Flandre Scarlet> still pretty clever
[19:18:33] <FromDiscord> <System64 ~ Flandre Scarlet> since if I had to write C code, I'd pass every struct by pointer
[19:19:39] <NimEventer> New question by itil memek cantik: Nim&amp;#39;s way to clear empty character variable, see https://stackoverflow.com/questions/71353852/nim39s-way-to-clear-empty-character-variable
[19:49:28] *** Joins: TechAspirer (~kayabaNer@user/kayabanerve)
[19:51:45] *** Quits: kayabaNerve_ (~kayabaNer@user/kayabanerve) (Ping timeout: 252 seconds)
[20:05:19] <NimEventer> New thread by Mardiyah: Nim's way to clear empty character variable, see https://forum.nim-lang.org/t/8977
[20:06:16] *** Joins: vicfred (~vicfred@user/vicfred)
[20:07:52] <NimEventer> New post on r/nim by Familiar_Ad_8919: what exactly does this error mean?, see https://reddit.com/r/nim/comments/t6mzwv/what_exactly_does_this_error_mean/
[20:10:22] *** Quits: icebattle (~wayne@S010600fc8ddfd2b3.vc.shawcable.net) (Ping timeout: 250 seconds)
[20:11:02] *** Quits: TechAspirer (~kayabaNer@user/kayabanerve) (Ping timeout: 260 seconds)
[20:12:48] *** Joins: Gustavo6046 (~Gustavo60@user/gustavo6046)
[20:22:12] *** Joins: icebattle (~wayne@S010600fc8ddfd2b3.vc.shawcable.net)
[21:10:21] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:e4e8:d997:3422:7c95)
[21:27:46] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:e4e8:d997:3422:7c95) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[21:28:40] <FromDiscord> <haoliang> why IndexDefect was designed to be `defect`? i used to use `try: dict[key] except IndexError:` pattern, i was thought that pattern is common.
[21:32:31] <FromDiscord> <michaelb> In reply to @haoliang "why IndexDefect was designed": `IndexError` is documented as deprecated, not sure how recent that is
[21:32:42] <FromDiscord> <michaelb> https://nim-lang.org/1.6.4/system.html#IndexError
[21:34:24] <FromDiscord> <michaelb> seems in 1.4 `IndexError` was a simple alias for `IndexError`, which was not great since "defect" in Nim is supposed to means an uncatchable error
[21:34:32] <FromDiscord> <michaelb> (edit) "means" => "mean"
[21:34:58] <FromDiscord> <michaelb> and therefore referring to it as `IndexError` could give a wrong impression those reading the code
[21:35:17] <FromDiscord> <michaelb> (edit) "and therefore referring to it as `IndexError` could give a wrong impression ... thosesome" 03added "to" | "the" => "some" | "those readingsomecode ... " 03added "using that alias"
[21:36:18] <FromDiscord> <michaelb> (edit) "`IndexError`," => "`IndexDefect`,"
[21:36:54] <FromDiscord> <auxym> In reply to @haoliang "why IndexDefect was designed": what is `dict`? If it's a `Table`, then an unknown key should raise `KeyError`, not `IndexError`. `KeyError` is catchable.
[21:37:17] <FromDiscord> <auxym> https://nim-lang.org/docs/tables.html#%5B%5D%2CTable%5BA%2CB%5D%2CA
[21:39:49] *** Joins: rockcavera (~rc@192.12.112.199)
[21:39:49] *** Quits: rockcavera (~rc@192.12.112.199) (Changing host)
[21:39:49] *** Joins: rockcavera (~rc@user/rockcavera)
[21:42:39] <FromDiscord> <haoliang> In reply to @auxym "what is `dict`? If": good point, i am trying to find that use case back
[21:49:28] <FromDiscord> <haoliang> sent a code paste, see https://play.nim-lang.org/#ix=3RlC
[21:49:35] <FromDiscord> <haoliang> (edit) 
[21:53:52] <FromDiscord> <dom96> why don't you do a length check?
[21:54:32] <FromDiscord> <System64 ~ Flandre Scarlet> Why??? https://media.discordapp.net/attachments/371759389889003532/949371784371793970/unknown.png
[21:54:56] <FromDiscord> <haoliang> i sure can, but i prefer this way
[21:56:00] *** Quits: vicfred (~vicfred@user/vicfred) (Quit: Leaving)
[21:59:26] <FromDiscord> <konsumlamm> In reply to @System64 "Why???": i think you meant to write `spriteData.y`? i.e. lowercase s
[22:00:31] <FromDiscord> <System64 ~ Flandre Scarlet> oooh god I'm dumb lol
[22:01:10] <FromDiscord> <System64 ~ Flandre Scarlet> okay pointer problem now https://media.discordapp.net/attachments/371759389889003532/949373453092413510/unknown.png
[22:03:12] <FromDiscord> <haoliang> sent a code paste, see https://play.nim-lang.org/#ix=3RlE
[22:03:16] *** Joins: jjido (~Denis@2a02:c7f:5c91:e700:9479:a856:8538:8810)
[22:15:34] <FromDiscord> <Waldecir Santos> Is the result of a proc always `var/immutable`  or do I need to add var ?
[22:20:23] <FromDiscord> <konsumlamm> what?
[22:20:39] <FromDiscord> <konsumlamm> the result of a proc isn't a variable in the first place
[22:21:42] <FromDiscord> <System64 ~ Flandre Scarlet> @konsumlamm is my error normal? I converted to pointer
[22:22:20] <FromDiscord> <Waldecir Santos> In reply to @konsumlamm "the result of a": I mean if a proc returns a object, this object is immutable ?
[22:22:41] <FromDiscord> <konsumlamm> immutability is not a property of a value but of a variable
[22:22:47] <FromDiscord> <konsumlamm> in Nim
[22:23:00] <FromDiscord> <konsumlamm> In reply to @System64 "<@!312654963694108674> is my error": idk, i've never worked with `pointer`
[22:23:10] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[22:26:12] *** Joins: vicfred (~vicfred@user/vicfred)
[22:29:34] <FromDiscord> <hmmm> sent a code paste, see https://play.nim-lang.org/#ix=3RlL
[22:30:09] <FromDiscord> <Waldecir Santos> You can probably overload `` for it, but no we don't have it right now
[22:30:13] <FromDiscord> <Elegantbeef> `import std/strutils; let x = repeat("A", 10)`
[22:30:21] <FromDiscord> <Waldecir Santos> (edit) "``" => "``` `"
[22:30:27] <FromDiscord> <hmmm> ty wakd and ty beefzor
[22:32:15] <FromDiscord> <Waldecir Santos> I'm trying to "chain" calls but the second call keep saying that the value is immutable, but works if I create a var first, not sure what to do to make proc return an "var/muttable"  object
[22:33:02] <FromDiscord> <Elegantbeef> You can either use `sugar.dup` or if the proc takes a `var T` return a `var T`
[22:33:58] <FromDiscord> <Elegantbeef> For the dup method
[22:34:01] <FromDiscord> <Elegantbeef> sent a code paste, see https://play.nim-lang.org/#ix=3RlO
[22:34:11] <FromDiscord> <Waldecir Santos> you mean `proc myproc(obj; var Obj[T[) var Obj[t]` adding var to the return ?
[22:34:24] *** Quits: jjido (~Denis@2a02:c7f:5c91:e700:9479:a856:8538:8810) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[22:34:29] <FromDiscord> <Waldecir Santos> (edit) "Obj[T[)" => "Obj[T]):" | "Obj[t]`" => "Obj[t] =`"
[22:35:42] <FromDiscord> <Elegantbeef> sent a code paste, see https://play.nim-lang.org/#ix=3RlP
[22:36:15] <FromDiscord> <Elegantbeef> In Nim `var T` is a mutable reference that is ensured does not outlive the place of borrow
[22:36:19] <FromDiscord> <Waldecir Santos> Oh nice so `var` is valid in the return portion, not sure why this is failing for me, let me play with your example thank you !
[22:36:36] <FromDiscord> <Elegantbeef> The borrow site has to come from a parameter
[22:36:59] <FromDiscord> <Elegantbeef> sent a code paste, see https://play.nim-lang.org/#ix=3RlQ
[22:39:24] <FromDiscord> <Waldecir Santos> So it cannot be an object, it needs to be a property of an object, right ?
[22:39:35] <FromDiscord> <Elegantbeef> It can be an object
[22:40:46] <FromDiscord> <Elegantbeef> sent a code paste, see https://play.nim-lang.org/#ix=3RlS
[22:40:58] <FromDiscord> <Waldecir Santos> Got it, let me play around with your example , thank you !
[22:44:09] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3RlT
[22:44:16] <FromDiscord> <Elegantbeef> `s.addr`
[22:53:36] <FromDiscord> <System64 ~ Flandre Scarlet> ah thanks
[22:54:34] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3RlX
[22:56:39] <FromDiscord> <Elegantbeef> Not in that case since you're taking a pointer to the stack
[22:57:09] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @Elegantbeef "Not in that case": ah alright so I'm still safe I guess?
[22:57:15] *** Quits: xet7 (~xet7@user/xet7) (Quit: Leaving)
[22:57:46] <FromDiscord> <Waldecir Santos> I think I've found the issue @ElegantBeef https://nim-lang.github.io/Nim/var_t_return.html this is exactly what I'm trying to do, the first call creates the chain-able object and it creates this error `Error: 'qs``gensym1' escapes its stack frame; context:`  there is anyway around this ?
[22:58:45] *** Joins: xet7 (~xet7@user/xet7)
[23:00:12] <FromDiscord> <Waldecir Santos> seems like I'll need to use ptr instead of var and that is scary  https://forum.nim-lang.org/t/7561
[23:04:19] <FromDiscord> <System64 ~ Flandre Scarlet> and is the GC watch the stack too?
[23:07:43] <FromDiscord> <auxym> no. the stack is popped when the proc returns, no need to GC it
[23:08:16] <FromDiscord> <System64 ~ Flandre Scarlet> sent a code paste, see https://play.nim-lang.org/#ix=3RlY
[23:08:31] <FromDiscord> <System64 ~ Flandre Scarlet> I create an object in the stack and pass a pointer to it
[23:08:39] <FromDiscord> <System64 ~ Flandre Scarlet> (edit) "it" => "another function"
[23:09:01] <FromDiscord> <auxym> yes, there is a problem. Unless TLN_SpriteData is `ref`, but then you need to `new` it
[23:09:10] <FromDiscord> <auxym> so it gets allocated on the heap
[23:09:31] <FromDiscord> <System64 ~ Flandre Scarlet> But Elegant said there is no problem
[23:10:52] <FromDiscord> <auxym> depends, what does TLN_CreateSpriteset do? Do it keep the pointer around or just does something with it and is done when it returns?
[23:11:09] <FromDiscord> <auxym> and we don't know if TLN_SpriteData is ref or value
[23:11:34] <FromDiscord> <auxym> if it's ref it's OK
[23:11:51] *** Joins: pro (~pro@user/pro)
[23:13:46] <FromDiscord> <auxym> (but you need to call new on it, otherwise it's nil)
[23:15:02] <FromDiscord> <auxym> I think what @ElegantBeef  was saying: as long as you're in that proc, the pointer will not be null. But when the proc returns, it definitely will be null.
[23:18:59] *** Quits: vicfred (~vicfred@user/vicfred) (Quit: Leaving)
[23:24:10] <FromDiscord> <System64 ~ Flandre Scarlet> In reply to @auxym "and we don't know": It's a réf but I convert a nim Sprite Data to Tilengine Sprite Data, so it's not thé same spriteData
[23:31:38] *** Quits: pro (~pro@user/pro) (Quit: pro)
[23:59:29] *** Quits: Gustavo6046 (~Gustavo60@user/gustavo6046) (Read error: Connection reset by peer)
