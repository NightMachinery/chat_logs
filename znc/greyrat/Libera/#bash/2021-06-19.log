[00:00:27] *** Quits: Night-Shade (~Tim@ip5b401e42.dynamic.kabel-deutschland.de) (Ping timeout: 244 seconds)
[00:01:34] <DJ`Catlady> visit http://www.desertheatradio.com join our chat and stop spamming MY server
[00:01:37] *** Parts: DJ`Catlady (~DJCatlady@107.126.51.175) ()
[00:04:18] *** Joins: lavaball (felix@31.204.155.215)
[00:06:43] *** Joins: FreeBDSM (~uzer@user/freebdsm)
[00:07:58] <FreeBDSM> Hi. How to use printf like it works in some PLs where one can specify a template with a placeholder + value to apply against that template?
[00:08:19] *** Joins: Night-Shade (~Tim@ip5b401e42.dynamic.kabel-deutschland.de)
[00:09:18] <FreeBDSM> I need `printf 'PATH="${PATH}:/opy/mssql-tools/bin:/home/simpleton/kafka_${kafver}/bin/"\n' >> /etc/profile`, but I want ${kafver} to be resolved at printf time, because later on it won't be set
[00:10:33] <larryv> er
[00:10:45] <phy1729> # printf 'foo%baz\n' bar
[00:10:46] <shbot> phy1729: foobaraz
[00:10:49] <larryv> printf 'blah blah %s blah' "$foo"   ?
[00:10:59] <phy1729> er should be %s
[00:11:42] <FreeBDSM> thanks, will try that
[00:11:48] *** Quits: chrysanthematic (~chrysanth@109.70.150.245) (Quit: chrysanthematic)
[00:12:44] *** Joins: audiocat (~audio@2603-8081-1800-0062-0dee-d686-c170-63c0.res6.spectrum.com)
[00:13:58] *** Quits: uc50ic4more (~uc50ic4mo@216.8.148.58) (Quit: uc50ic4more)
[00:18:44] *** Quits: Night-Shade (~Tim@ip5b401e42.dynamic.kabel-deutschland.de) (Ping timeout: 244 seconds)
[00:19:52] *** Joins: Toninho (~monkey@a213-22-50-56.cpe.netcabo.pt)
[00:22:21] *** Quits: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431) (Remote host closed the connection)
[00:22:50] *** Joins: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431)
[00:23:56] *** Quits: LuksNuke (~LuksNuke@94.242.245.63) (Ping timeout: 268 seconds)
[00:24:14] *** A_Dragon is now known as AAAAAA_Dragon
[00:27:07] *** Quits: L3 (~L3@user/l3) (Quit: o/)
[00:27:13] *** Quits: tkazi (~tkazi@user/tkazi) (Quit: Disconnected)
[00:27:52] *** Joins: chrysanthematic (~chrysanth@89.38.69.171)
[00:28:22] *** Quits: Lunatrius` (~Lunatrius@77.38.22.128) (Ping timeout: 272 seconds)
[00:29:06] *** Quits: iomari892 (~iomari891@102.91.5.169) (Ping timeout: 240 seconds)
[00:30:03] *** Joins: Lunatrius (~Lunatrius@77.38.22.128)
[00:30:19] *** Joins: tkazi (~tkazi@user/tkazi)
[00:30:23] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[00:31:32] *** Joins: iomari892 (~iomari891@105.112.138.38)
[00:33:01] *** Quits: chrysanthematic (~chrysanth@89.38.69.171) (Changing host)
[00:33:01] *** Joins: chrysanthematic (~chrysanth@user/chrysanthematic)
[00:33:23] *** Quits: chrysanthematic (~chrysanth@user/chrysanthematic) (Quit: chrysanthematic)
[00:34:23] *** Joins: drtelnet (~bbishop@159.182.1.4)
[00:35:15] *** Joins: chrysanthematic (~chrysanth@user/chrysanthematic)
[00:36:10] *** Joins: brcolow (~brcolow@ip68-0-136-132.tc.ph.cox.net)
[00:36:47] <FreeBDSM> that worked just fine, thank you larryv and phy1729
[00:38:50] *** Quits: pieguy128 (~pieguy128@bras-base-mtrlpq5031w-grc-57-65-92-163-194.dsl.bell.ca) (Quit: ZNC 1.8.2 - https://znc.in)
[00:41:28] *** Joins: arinov_ (~arinov@213.194.126.155)
[00:41:30] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[00:45:16] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:45:55] *** Joins: laris (undead@37.221.209.36)
[00:47:44] *** Quits: julius_c (~julius_c@178.red-88-0-61.dynamicip.rima-tde.net) (Quit: Leaving)
[00:47:44] *** Quits: src (~src@user/src) (Quit: leaving)
[00:47:50] *** Joins: thiras (~thiras@user/thiras)
[00:47:59] *** Quits: arinov_ (~arinov@213.194.126.155) (Ping timeout: 268 seconds)
[00:50:42] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.2)
[00:51:02] *** Joins: pieguy128 (~pieguy128@bas1-montreal02-65-92-163-194.dsl.bell.ca)
[00:52:43] *** Joins: Crescendo (~Crescendo@user/crescendo)
[00:52:44] *** Joins: rememberYou (~someone@12.151-66-87.adsl-dyn.isp.belgacom.be)
[00:57:28] *** Joins: greycat (~greg@209.142.155.49)
[01:02:17] *** Quits: strobelight (~quassel@c-69-180-7-202.hsd1.ga.comcast.net) (Ping timeout: 252 seconds)
[01:02:48] *** Joins: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com)
[01:04:25] *** Quits: erich_zann (andi@gateway/vpn/protonvpn/erichzann/x-13280780) (Quit: WeeChat 3.0)
[01:06:52] *** Joins: cliluw (~cliluw@47.147.80.149)
[01:10:31] *** Quits: laris (undead@37.221.209.36) (*.net *.split)
[01:11:29] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Read error: Connection reset by peer)
[01:11:54] *** Quits: flommi (~flommi@puck942.startdedicated.de) (Quit: Quit)
[01:12:05] *** Joins: flommi (~flommi@puck942.startdedicated.de)
[01:12:18] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[01:14:51] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[01:24:16] *** Joins: laris (undead@37.221.209.36)
[01:26:44] *** Quits: laris (undead@37.221.209.36) (*.net *.split)
[01:27:57] *** Quits: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431) (Ping timeout: 272 seconds)
[01:30:20] *** Quits: furrymcgee (~devuan@31.179.186.66) (Quit: leaving)
[01:30:32] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:31:01] *** Joins: laris (undead@37.221.209.36)
[01:33:13] *** Quits: rememberYou (~someone@12.151-66-87.adsl-dyn.isp.belgacom.be) (Remote host closed the connection)
[01:33:35] *** Joins: LuksNuke (~LuksNuke@94.242.245.63)
[01:34:04] *** Joins: Inline (~Inline@aftr-37-201-241-126.unity-media.net)
[01:34:21] *** Quits: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie) (Ping timeout: 268 seconds)
[01:34:59] *** Quits: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net) (Ping timeout: 268 seconds)
[01:36:40] *** Joins: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net)
[01:40:37] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:2132:cd52:1e4a:f46a) (Ping timeout: 272 seconds)
[01:41:30] *** Quits: kj (~kj@beta.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:44:33] *** Quits: magla (~gelignite@55d440eb.access.ecotel.net) (Quit: Stay safe!)
[01:45:22] *** Quits: Adoi (~Adoi@user/adoi) (Quit: Leaving)
[01:45:38] *** Joins: supersecant (~mareksh@83.216.136.233)
[01:46:22] *** Quits: LuksNuke (~LuksNuke@94.242.245.63) (Quit: Leaving)
[01:46:30] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 264 seconds)
[01:46:39] *** Joins: LuksNuke (~LuksNuke@94.242.245.63)
[01:46:51] *** Joins: dman777 (~dman777@76-253-74-225.lightspeed.austtx.sbcglobal.net)
[01:47:50] <dman777> I need to run curl once every 15 seconds untill curl returns a web page. It's for bringing a web app on line and checking when it is ready. Where can I read about loops based on a timer?
[01:48:07] <greycat> while ! curl whatever; do sleep 15; done
[01:48:27] <greycat> or if you want to get fancy:  until curl whatever; do sleep 15; done
[01:48:46] <dman777> ok, thank you
[01:50:10] <FreeBDSM> bash is weird in that it is not really suitable for running inside containers
[01:50:25] <transhumanist> e36freak:  you around by chance?
[01:50:40] <FreeBDSM> by default it is run as non-login interactive shell when someone does `docker run -it ... bash`
[01:50:41] <koollman> FreeBDSM: how so ?
[01:51:11] <koollman> FreeBDSM: well ... yeah. Why would that be non suitable ?
[01:51:14] <greycat> There is a #docker channel here.  They may be able to help you.
[01:51:15] <FreeBDSM> koollman: https://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html this basically says that there is no file to be executed in this case other than relative to ~
[01:51:46] <FreeBDSM> it ignores /etc/profile, it ignores /etc/bash.bashrc, it even ignores BASH_ENV env...
[01:51:50] <greycat> "bash runs as an interactive non-login shell when I type bash" is not a surprise.  At least, it shouldn't be.
[01:52:21] <FreeBDSM> pure docker is not dominant anymore when working with containers
[01:52:56] *** Quits: mknod (~mknod@user/mknod) (Quit: mknod)
[01:52:58] *** Joins: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de)
[01:53:04] <FreeBDSM> I run containers in OpenShift, it by default uses runAsUser with some random uid
[01:53:17] <FreeBDSM> so my ~ then defaults to /
[01:53:19] *** Joins: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie)
[01:53:19] <koollman> FreeBDSM: well, yes. if you want a login shell, run bash -l. Why would that be unsuitable ? docker also doesn't run login or getty or ssh by default
[01:53:32] <FreeBDSM> and that sucks to put stuff that belongs to ~ to the damn root of fs
[01:53:45] *** Joins: gordonfish- (~gordonfis@user/gordonfish)
[01:54:25] <FreeBDSM> koollman: I don't choose what to run. The program runs /bin/sh automatically. I can alias it to /bin/bash to run bash, but other than that - there's no way to affect WHAT gets executed
[01:54:55] <koollman> I fail to see the problem
[01:55:18] <FreeBDSM> and it's also weird that bash ran as sh behaves differently
[01:55:28] <koollman> nope
[01:55:31] <FreeBDSM> yes
[01:55:32] <FreeBDSM> it then does source ENV
[01:55:33] <larryv> lol no
[01:55:37] <larryv> it's 100% not weird
[01:55:39] <larryv> what are you going on about
[01:55:49] *** Quits: gordonfish (~gordonfis@user/gordonfish) (Ping timeout: 268 seconds)
[01:56:02] <FreeBDSM> well, weird is subjective, it's weird for me
[01:56:30] *** Joins: jaggz (~jaggz@user/jaggz)
[01:56:48] <jaggz> is there a way to copy part of a commandline to a "bash clipboard"?
[01:56:59] <greycat> bash has no clipboard, but X11 does
[01:57:10] <jaggz> I'm trying to make a hotkey in my x11 which, in bash, will let me copy a whole commandline to the clipboard
[01:57:13] <greycat> if you're running bash in an X terminal emulator, look into xclip and friends
[01:57:22] <jaggz> but the issue is it might have some mix of quotes or other unknown stuff
[01:57:40] *** Quits: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[01:57:44] <jaggz> I use xclip (actually xsel) .. but getting the bash line into it is another issue
[01:57:46] <greycat> so you want a magic alias that invokes xclip
[01:58:51] <greycat> http://wooledge.org/~greg/sprunge-magic-alias 
[01:58:52] <jaggz> so I was thinking, if I could have my hotkey jump to the start of the line, insert the xsel/xclip command with an <<EOT thing...
[01:59:16] <FreeBDSM> what is login shell vs non-login shell? why can I run `bash` vs `bash --login` to get different behavior? what was the idea behind that?
[01:59:38] <greycat> or, possibly, you want to bind a key to a function that uses internal readline stuff, but I have no idea how that works
[01:59:51] <greycat> I know the *reverse*
[01:59:54] <greycat> !stuff
[01:59:54] <greybot> To stuff a string into the bash interactive line-being-edited: stuff() { local pre="${READLINE_LINE:0:$READLINE_POINT}"; local suf="${READLINE_LINE:$READLINE_POINT}"; local stuff="my string"; READLINE_LINE="${pre}$stuff$suf"; ((READLINE_POINT += ${#stuff})); }; bind -x '"\e^": stuff'
[02:00:11] <greycat> maybe you can read from those variables to retrieve the line-being-typed, I have no idea
[02:00:34] <larryv> !login > FreeBDSM
[02:00:34] <greybot> FreeBDSM: A login shell reads /etc/profile and one of ~/.bash_profile or ~/.bash_login or ~/.profile. You get a login shell by running bash with the --login (or -l) option, or by running bash with a leading - in argv[0]. The latter is the traditional way login(1) indicates that it wants a login shell.
[02:00:46] <jaggz> or a bound key that will, maybe, paste the prior commandline from within the EOT block interactively
[02:01:22] <greycat> if you want the *prior* command, then it can simply be a function that pulls the previous command from history
[02:01:25] <koollman> I had to lookup the difference in ENV / running config file handling in bash. it appeared in bash 2.0 in 1996. I would say it is not too surprising anymore ;)
[02:01:34] <FreeBDSM> greybot: that's it? the whole idea was to introduce a flag to source extra files on startup?
[02:01:39] <larryv> FreeBDSM: you generally want to run a login shell at the beginning of a session. since it sources some files automatically, you can set environment variables and other such things
[02:02:02] <larryv> behavior that you might not want if you're just running a shell script
[02:02:03] <FreeBDSM> larryv: when would I want NOT to do that?
[02:02:08] <FreeBDSM> oh
[02:02:15] <larryv> remember that bash is not just an interactive user-facing shell.
[02:02:21] <jaggz> greycat, probably it'd be one I arrow up to so it might not be the true timeline-last one
[02:02:24] <jaggz> hmm
[02:02:26] <FreeBDSM> I always keep forgetting that
[02:02:35] <koollman> FreeBDSM: the first bash you start for a session, you want to setup more stuff than the next bash you run from that session, for example. or when running an init script, or cron, or anything out of a session
[02:03:44] <jaggz> greycat, okay, got a sequence of strokes that'll work
[02:03:50] <jaggz> would make anybody's body happy
[02:04:11] <jaggz> so if I arrow up to the command, it can insert a # at the start of the line, {ENTER}
[02:04:15] <FreeBDSM> koollman: IMO 'they' chose a stupid solution for that. I'd rather introduce some 'levels'. When running bash with no nothing - it is run with level 0, max stuff gets sourced. You want to source less stuff on startup? use bash --level1 or --level2 and so on...
[02:04:31] <jaggz> then xsel -i -b <<__EOT__{enter}
[02:04:51] <larryv> FreeBDSM: i think your priorities are backwards
[02:04:58] <FreeBDSM> how so?
[02:04:59] <jaggz> then up-arrow twice works from within the __EOT__ reading area
[02:05:01] <koollman> FreeBDSM: well, apparently they've been wrong for 25 years without anyone pushing such a patch. But, you can try
[02:05:01] <supersecant> When creating files using mktemp in a bash script, I heard there was a trick to make these get automatically deleted when the script fails by opening a file and then immediately deleting it without closing the descriptor. Is this possible?
[02:05:04] <jaggz> etc. etc.
[02:05:25] <FreeBDSM> koollman: it is too late to try now. De-facto standard is de-facto standard.
[02:05:32] <larryv> FreeBDSM: i expect that bash is executed way more often as a noninteractive interpreter
[02:05:33] <jaggz> now I need to strip the newline off it though.  how do I strip a newline off my:  cmd <<EOT block 
[02:05:41] <greycat> supersecant: that will not work very well for most scripts, because most of the time, what you want to do with a temp file name is pass it as an argument to some external program.
[02:05:51] <FreeBDSM> larryv: me too
[02:05:51] <larryv> seems backward to me to require an extra option for the common case
[02:06:03] <FreeBDSM> you'd get used for that pretty fast
[02:06:09] <koollman> FreeBDSM: most scripts calling bash would require modification
[02:06:16] <FreeBDSM> that'd make you have it explicit, not implicit
[02:06:17] <koollman> FreeBDSM: source files is the special case, you see
[02:06:18] <larryv> so every script needs bash --level1
[02:06:32] <FreeBDSM> larryv: imagine if that'd be the norm
[02:06:42] <larryv> i see no benefit to this
[02:06:48] <larryv> just so your interactive session, which is generally handled automatically by emulators, doesn't need an option
[02:06:57] <FreeBDSM> or even some alias like /bin/bash1 which'd mean `/bin/bash --level1` would ~universally standard
[02:06:59] * greycat waits for the rest of the people to catch on that this guy's either a troll or a halfwit, and stop engaging with him
[02:07:12] <jaggz> larryv, alias bah='bash --login'
[02:07:17] <FreeBDSM> unfortunately, a half-wit
[02:07:28] <koollman> FreeBDSM: well, that one you can already implement, then. make bash-bdsm, a script executing bash -l :)
[02:07:38] <FreeBDSM> jaggz: that's a recipe to shoot yourself in the face
[02:07:42] <koollman> then link /bin/sh to that, maybe
[02:07:53] <greycat> !oracle
[02:07:53] <greybot> Oracle poisoning: the fallacy popularized by Oracle (among others) that a service should be configured by an interactive shell's dot files. Symptoms include su - oracle -c 'start my database' in service scripts. No known cure.
[02:07:54] <FreeBDSM> because now all your scripts are executed as --login shells
[02:07:58] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[02:07:59] <greycat> Good case of that going on here, it sounds like.
[02:08:13] <jaggz> okay, so how do I pipe something with a heredoc in a way that I can strip its newline?
[02:08:21] <jaggz> hey, does sed | destination <<EOT   work?
[02:08:21] *** Joins: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net)
[02:08:35] <greycat> jaggz: *sigh*  I gave three answers, and you chucked all of them away and started down your own special path
[02:08:44] * larryv ponders greycat's counsel
[02:09:43] *** Joins: elastic_dog (~elastic_d@ary207.neoplus.adsl.tpnet.pl)
[02:09:55] *** Quits: thnee (~thnee@h-85-24-144-199.A328.priv.bahnhof.se) (Read error: Connection reset by peer)
[02:09:57] <greycat> jaggz: I'm fairly sure that what you *actually* want is to bind a key to a function which uses readline internal variables to grab data out of memory.
[02:10:16] <greycat> which was one of the three answers I gave earlier
[02:10:52] <FreeBDSM> tl;dr, I will just end up adding a /.bashrc, as I am just forced to do so :-/
[02:11:00] <FreeBDSM> and I don't like shitting in the root at all
[02:11:08] <koollman> FreeBDSM: who's forcing you ?
[02:11:15] *** Joins: Crescendo (~Crescendo@user/crescendo)
[02:11:18] <FreeBDSM> koollman: modern techs, lol
[02:11:22] <larryv> FreeBDSM: does `docker -it ... bash -l` not do what you want
[02:11:35] <FreeBDSM> larryv: there is no docker command used anymore
[02:11:38] <FreeBDSM> that's 2010
[02:11:48] <koollman> FreeBDSM: why is bash invoked, then ?
[02:11:52] *** Quits: tejr (~tejr@user/tejr) (Ping timeout: 252 seconds)
[02:12:10] <FreeBDSM> because that's an image/container for diagnostics
[02:12:14] <supersecant> greycat Oh ok. Are you saying that if I delete the file I can't then use the file for another program? e.g. I couldn't cat is or something?
[02:12:29] <koollman> FreeBDSM: why can't it be configured properly ?
[02:12:41] <greycat> supersecant: that's correct, you can't cat a file whose name has been unlinked from the file system
[02:12:48] <koollman> FreeBDSM: what's missing that you want to add anything to some bashrc ?
[02:12:53] <FreeBDSM> koollman: because such are the defaults (due to security), and no one is going to change that (because that'd be insecure)
[02:13:05] *** Quits: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net) (Ping timeout: 268 seconds)
[02:13:07] *** Joins: tejr (~tejr@user/tejr)
[02:13:13] <greycat> the "delete but keep it open" trick generally applies only in programs that can rewind (lseek) within an open file and do their own reading and writing
[02:13:25] <greycat> shell scripts... generally can't do that
[02:13:52] <koollman> FreeBDSM: that's a contradiction
[02:14:18] <supersecant> Ah ok, so I guess the best way is to use trap?
[02:14:37] <greycat> yes
[02:14:45] <FreeBDSM> koollman: I install extra stuff. 1. mssql client gets installed in such a way that its binaries don't get into PATH, which I don't like 2. I 'install' (download and unpack an archive) of kafka shell scripts (well + dependent java b/s) and again, they don't get to PATH
[02:14:46] *** Joins: Quot_ (~Quot@2601:3c4:300:6a0:ddf5:f5dc:4514:fa70)
[02:15:09] <koollman> FreeBDSM: Why not make a working diagnostic image ?
[02:15:20] <jaggz> greycat, thanks for the friendly reminder :)
[02:15:25] <jaggz> cp_cmd_to_cb () { printf '%s' "$READLINE_LINE" | xsel -i -b; }
[02:15:25] <jaggz> bind -x '"\e<": cp_cmd_to_cb'
[02:15:30] *** Quits: marlinc (~marlinc@user/marlinc) (Ping timeout: 244 seconds)
[02:15:35] <FreeBDSM> koollman: that's not a contradiction. That's the usual explanation of 'why', the real reasons don't even matter anymore, no one is going to change defaults.
[02:15:40] <jaggz> or I guess I could just <<<"$READLINE_LINE"
[02:15:45] <FreeBDSM> koollman: this is what I am doing
[02:15:51] <greycat> that would add a newline
[02:16:19] <FreeBDSM> and that diagnostic image contains these 2 cases of utils that get 'installed' in such a way that it's my problem now to put them to PATH
[02:16:22] <koollman> FreeBDSM: but it does matter. You were arguing about changing the way bash has worked for 25 years, to somehow avoid some possible default you think exist, probably for less than 5 years
[02:16:26] *** Joins: marlinc (~marlinc@user/marlinc)
[02:16:46] <jaggz> cp_cmd_to_cb () { xsel -i -b <<<"$READLINE_LINE"; echo "Commandline copied" >&2; }
[02:16:46] <jaggz> bind -x '"\e<": cp_cmd_to_cb'
[02:17:02] <jaggz> hrm?  it works
[02:17:19] <jaggz> oh, no it doesn't.  damn.  I thought I tested it :)
[02:17:24] <FreeBDSM> koollman: well, IMO bash was wrong all those 25 years and I'm not so sure about OpenShift being wrong with it's defaults...
[02:17:26] <koollman> FreeBDSM: Then add them to PATH ? Why care about bash at all ? PATH is an environment variable, you can set those in a dockerfile
[02:17:45] <jaggz> (I went back, questioning myself after being in disbelief, and realized, of course, I was wrong)
[02:17:47] *** Joins: thnee (~thnee@h-85-24-144-199.A328.priv.bahnhof.se)
[02:18:54] <jaggz> it's interesting that the binding also evaluates if you output something and will re-display the prompt if you do
[02:19:47] *** Joins: lemurp (~lemurp@cm-84.214.104.84.getinternet.no)
[02:20:10] <FreeBDSM> koollman: because that doesn't really work for all cases
[02:20:12] <larryv> koollman: the Bourne shell had a similar notion of login vs. nonlogin. so more like 40 years ;)
[02:22:30] *** Quits: elastic_dog (~elastic_d@ary207.neoplus.adsl.tpnet.pl) (Ping timeout: 264 seconds)
[02:22:31] <greycat> jaggz: I *kinda* got it to work, but it's weird as fuck.  I use vi mode, which is probably why.  For the function to execute, I have to be in *insert* mode, not in command mode.  Also, putting ESC in the key binding is a very very bad idea here, because it interferes with being in insert mode in vi mode.
[02:22:33] <koollman> larryv: right. I mean just for the age of bash 2.0 :)
[02:22:37] <koollman> FreeBDSM: why ?
[02:22:58] <greycat> So I got it working with C-n as the key, after doing ESC k to move up to the desired line, and then i to go into insert mode, and then Ctrl-N to run it.
[02:23:06] *** Quits: odoood (~odoood@2601:c8:c003:a550::2) (Ping timeout: 264 seconds)
[02:23:08] <koollman> FreeBDSM: maybe if you need something to set the environment ... use it as an entrypoint ?
[02:24:00] <jaggz> greycat, I use vi mode too
[02:24:01] <FreeBDSM> koollman: actually, I just figured why it didn't work... thanks! `ENV ... USER ...` discards ENV
[02:24:20] <greycat> The "stuff" factoid which inserts content into the editing buffer is naturally going to run while you're in insert mode, because you're inserting text, so there's less clumsiness there.
[02:24:51] <FreeBDSM> I just coped the ENV directive after USER directive and now it works for both users
[02:24:59] <koollman> FreeBDSM: yep. USER makes a new env. finished ranting on bash ? :)
[02:25:23] <FreeBDSM> koollman: see? it was worth it :)
[02:25:28] <FreeBDSM> thank you, man
[02:25:53] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[02:26:11] *** Joins: jmcantrell (~weechat@86.106.143.110)
[02:26:23] <FreeBDSM> well, it's even weirder... so I've removed 1st ENV and left just `USER ... ENV ...` and it still works even if I don user override to root
[02:26:34] <FreeBDSM> well, that's o/t here
[02:26:51] <FreeBDSM> greycat: see? I'm halfwit, not a troll
[02:27:31] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:2132:cd52:1e4a:f46a)
[02:27:52] <koollman> (Never attribute to malice that which is adequately explained by stupidity ? ;) )
[02:28:02] <FreeBDSM> exactly
[02:28:50] *** Joins: Loki39 (~Loki@37.19.197.157)
[02:30:20] <jaggz> greycat, hmmm.. having the same insert vs command mode issue
[02:30:30] <jaggz> how are you preventing the newline at the end?
[02:30:38] <jaggz> cp_cmd_to_cb () { printf '%s' "$READLINE_LINE" | perl -pe 'chomp if eof' | xsel -i -b; echo "Commandline copied" >&2; }
[02:30:55] <greycat> I told you, <<< adds a newline.  I actually tested with  foo() { x=$READLINE_LINE; echo "foo was invoked"; }
[02:30:57] <jaggz> I was thinking I could do command substitution in there too
[02:31:01] <greycat> then just inspected "$x"
[02:31:17] <jaggz> instead of perl
[02:31:30] <greycat> printf %s doesn't add a newline
[02:32:51] *** Quits: fedenix_ (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:34:04] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Quit: WeeChat 3.1)
[02:34:19] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[02:34:37] <jaggz> I know that but somehow I was getting a newline in .. :(  
[02:34:45] <jaggz> must have been another variation on the command :/
[02:35:01] <jaggz> okay so anyway, it's back to that.  Now about this bind only working in insert mode...
[02:35:22] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[02:36:31] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Remote host closed the connection)
[02:36:44] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[02:38:02] *** Quits: drtelnet (~bbishop@159.182.1.4) (Ping timeout: 244 seconds)
[02:41:51] <jaggz> greycat, bind -m vi-command -x '"\e<": cp_cmd_to_cb'
[02:41:51] <jaggz> bind -x '"\e<": cp_cmd_to_cb'
[02:42:04] *** Quits: jmcantrell (~weechat@86.106.143.110) (Ping timeout: 268 seconds)
[02:42:34] <jaggz> can work on the awkwardness of esc later :)
[02:43:06] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 240 seconds)
[02:43:27] *** Joins: jmcantrell (~weechat@86.106.143.84)
[02:44:02] <jaggz> (we really need some standardized additional keyboard keys)
[02:44:04] <jaggz> modifier keys
[02:44:17] <jaggz> no.. not modifiers.  additional symbols
[02:44:27] <jaggz> vi and blender eat all my usable keys :)
[02:44:54] <wedgie> get some foot pedals (queue the emacs jokes here)
[02:45:02] <Friithian> :argh
[02:47:38] *** Joins: Crescendo (~Crescendo@user/crescendo)
[02:49:06] *** Quits: lemurp (~lemurp@cm-84.214.104.84.getinternet.no) (Ping timeout: 240 seconds)
[02:52:08] *** Quits: troyt (troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e) (Ping timeout: 272 seconds)
[02:53:01] *** Quits: noarb (~noarb@user/noarb) (Ping timeout: 272 seconds)
[02:53:06] *** Quits: chrysanthematic (~chrysanth@user/chrysanthematic) (Ping timeout: 264 seconds)
[02:53:41] *** Joins: Loki420 (~toor@37.19.197.157)
[02:53:48] *** Joins: downunder (~downunder@110.151.120.49)
[02:56:44] *** Joins: The_Loko (~The_Loko@86.127.244.52)
[02:57:08] *** Joins: troyt (troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e)
[02:57:59] <Loki420> Hey all, noob here trying to hack together a simple script. I want to create a function that takes a input string and returns a modified string. But I'm also a noob and need to debug the function and I do that by echo'ing stuff. But when I call the function it also returns the debug echo's. This is the code I'm using https://ghostbin.co/paste/bz8kze
[02:58:12] <Loki420> In java I'd do something like: https://ghostbin.co/paste/qo9s
[02:58:46] *** Quits: Loki39 (~Loki@37.19.197.157) (Quit: Client closed)
[03:00:13] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[03:02:06] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[03:02:36] *** Quits: cronolio (~alex@user/cronolio) (Read error: Connection reset by peer)
[03:02:42] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[03:03:10] <wedgie> Loki420: bash doesn't "return" strings in the sense that you are used to with java. Your function just has to write to stdout and get collected with $() like you're doing on line 9. Easy way to hide the debug output is to redirect it to stderr. Just add >&2 to the debug lines
[03:03:16] <larryv> Loki420: $(getSomeString foo bar) captures the standard output from that command. you can prevent your debug statements from being captured by sending them to standard error instead
[03:03:29] *** Joins: noarb (~noarb@user/noarb)
[03:03:49] <larryv> i.e., echo foo >&2
[03:04:06] <e36freak> transhumanist: hm?
[03:05:56] <Loki420> wedgie, larryv Hmm ok, thanks! I am never going to remember to add >&2 to the end of the line haha. Was hoping for like a echoDebug "" command. Oh well!
[03:06:08] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 244 seconds)
[03:06:31] *** Joins: Starmina_ (~Starmina@212.170.25.93.rev.sfr.net)
[03:06:35] *** Quits: Starmina (~Starmina@2a03:1b20:9:f011::a01e) (Ping timeout: 252 seconds)
[03:06:36] *** Starmina_ is now known as Starmina
[03:07:03] <Loki420> That does indeed do the trick. Thanks again!
[03:07:04] <wedgie> Loki420: for debugging there's also set -x. Might be more helpful than just debug statements in some cases
[03:07:15] <wedgie> !set-x
[03:07:15] <greybot> set -x (or ''bash -x myscript'') makes bash output the exact command that it will run after parsing and expansion. You can put ''set -x'' just before the code you want to debug (turn off with ''set +x''). To add more information, change PS4 first: eg. PS4='+($?) $BASH_SOURCE:$FUNCNAME:$LINENO:'
[03:07:58] *** Quits: supersecant (~mareksh@83.216.136.233) (Ping timeout: 268 seconds)
[03:08:36] <Loki420> wedgie, Ah, I had seen some mentioning of set x from google but was not sure if it was good for a simple script. I'll look into it more.
[03:09:29] *** Quits: rendar (~rendar@user/rendar) ()
[03:11:45] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[03:13:42] *** Parts: Toninho (~monkey@a213-22-50-56.cpe.netcabo.pt) ()
[03:13:56] *** Joins: chrysanthematic (~chrysanth@user/chrysanthematic)
[03:14:53] *** Joins: masoudd_ (~masoudd@user/masoudd)
[03:16:17] <transhumanist> hi e36freak : let me start by saying thanks again. Its greatly appreciated. The script has one problem, in each csv file there is a header row, when the column is added instead of putting the first line as a header row with 'uniqid' for the heade row it, it just starts numbering. Do you think you might be able to dream up a fix? My offer to send you some cash still stands
[03:17:23] *** Quits: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net) (Quit: Client closed)
[03:17:59] *** Joins: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net)
[03:18:47] *** Joins: opv (~opv@methodsofcontrol.com)
[03:18:47] *** Quits: masoudd (~masoudd@user/masoudd) (Ping timeout: 272 seconds)
[03:19:41] *** ormaaj[m] is now known as ormaaj
[03:21:17] *** Joins: sn1tch3r (~sn1tch3r@177.54.145.230)
[03:21:18] <opv> Good evening everyone. I am struggling in making sense of an issue with docker, bash, and rsync. An rsync command runs fine manually, but when ran via script in a container, rsync complains about invalid options.
[03:21:46] <opv> I've tried all sorts of quoting and not quoting, but the result doesn't change, and I don't see where the issue lies. Would greatly appreciate some insight
[03:21:54] <opv> Here's the command in question: https://pastebin.com/7t8yyLQk
[03:21:54] <pasteban> Paste is available without ads on https://pastebin.com/raw/7t8yyLQk
[03:21:55] <opv> Thank you
[03:21:57] <Friithian> are they running the same version of rsync?
[03:22:07] *** Parts: jmcantrell (~weechat@86.106.143.84) (WeeChat 3.2)
[03:22:41] <Friithian> what is actually being run? use set -x to see/show what those variables are expanded to
[03:23:20] <opv> check
[03:24:19] <opv> the way i put it together in the paste is correct tho?
[03:24:37] <Friithian> !check
[03:24:38] <checkbot> opv: Line 5: args is referenced but not assigned. Line 5: src is referenced but not assigned. Line 5: dest is referenced but not assigned. See https://shellcheck.net/?id=cb56878 for all 5 issues.
[03:24:46] <Friithian> well that isn't that useful
[03:25:00] <opv> apparently not, but I don't understand why. it shows as `rsync '-aivzlch --delete' src/ [etc]`
[03:25:03] <larryv> opv: if args is "-aivzlch --delete", then no
[03:25:06] <opv> why are only these in a single-quote
[03:25:19] <larryv> because the space is part of that word
[03:25:29] <opv> oh snap
[03:25:39] <larryv> !faq complex > opv
[03:25:39] <greybot> opv: https://mywiki.wooledge.org/BashFAQ/050 -- I'm trying to put a command in a variable, but the complex cases always fail!
[03:27:01] *** Joins: Steeve (~steve@user/steeve)
[03:29:03] *** Quits: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr) (Ping timeout: 268 seconds)
[03:29:33] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 268 seconds)
[03:30:09] *** Joins: jfcaron (~jfcaron@ip-24-140-242-177.user.start.ca)
[03:31:20] <opv> thank you!
[03:31:45] *** Quits: jsrnop (~mark@pool-72-66-97-117.washdc.fios.verizon.net) (Quit: The Lounge - https://thelounge.chat)
[03:32:11] *** Joins: jsrnop (~mark@pool-72-66-97-117.washdc.fios.verizon.net)
[03:32:22] *** Quits: Steeve (~steve@user/steeve) (Quit: end)
[03:32:43] *** Quits: yanmaani (~yanmaani@gateway/tor-sasl/yanmaani) (Ping timeout: 252 seconds)
[03:33:01] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@2a01:e0a:5ea:1c10:1ac0:4dff:fe82:78e3)
[03:33:30] *** Joins: FuriousGeorge (~FuriousGe@pool-100-1-104-109.nwrknj.fios.verizon.net)
[03:37:08] *** Joins: odoood (~odoood@c-73-184-143-53.hsd1.ga.comcast.net)
[03:38:33] *** Quits: masoudd_ (~masoudd@user/masoudd) (Quit: Leaving)
[03:40:32] *** Quits: Krail (~Krail@user/alexdelarge) (Quit: Krail)
[03:40:56] *** Joins: alzgh (~alzgh@216.155.158.214)
[03:44:43] *** Joins: Krail (~Krail@user/alexdelarge)
[03:45:24] *** Quits: kurahaupo (~kurahaupo@14-203-145-223.static.tpgi.com.au) (Ping timeout: 244 seconds)
[03:46:55] *** Joins: kurahaupo (~kurahaupo@pa49-180-24-7.pa.nsw.optusnet.com.au)
[03:48:02] *** Joins: jmcantrell (~weechat@86.106.143.84)
[03:49:28] *** Joins: jsrnop1 (~mark@pool-72-66-97-117.washdc.fios.verizon.net)
[03:50:22] *** Quits: chrysanthematic (~chrysanth@user/chrysanthematic) (Quit: chrysanthematic)
[03:50:34] *** Quits: jsrnop (~mark@pool-72-66-97-117.washdc.fios.verizon.net) (Ping timeout: 244 seconds)
[03:50:34] *** jsrnop1 is now known as jsrnop
[03:50:59] *** Joins: sn1tch3r_ (~sn1tch3r@23.82.137.231)
[03:52:03] <e36freak> transhumanist: i don't even remember what i gave you before
[03:54:30] *** Joins: sn1tch3r__ (~sn1tch3r@201-27-147-42.dsl.telesp.net.br)
[03:54:43] <uplime> probably bash code
[03:54:54] *** Quits: sn1tch3r (~sn1tch3r@177.54.145.230) (Ping timeout: 264 seconds)
[03:57:18] *** Quits: sn1tch3r_ (~sn1tch3r@23.82.137.231) (Ping timeout: 268 seconds)
[03:57:43] *** Joins: sn1tch3r (~sn1tch3r@185.153.176.212)
[03:58:44] *** Joins: chrysanthematic (~chrysanth@user/chrysanthematic)
[03:59:53] *** Quits: sn1tch3r__ (~sn1tch3r@201-27-147-42.dsl.telesp.net.br) (Ping timeout: 268 seconds)
[04:03:03] <transhumanist> e36freak:  here it is id=0; while IFS= read -rd '' f; do id=$(awk '{print ++id "," $0} END {print id > "/dev/stderr"}' id="$id" "$f" 2>&1 > "$f.new"); done < <(find . -type f -name '*.csv' -print0)
[04:04:06] *** Quits: chrysanthematic (~chrysanth@user/chrysanthematic) (Ping timeout: 268 seconds)
[04:05:29] *** Joins: sn1tch3r_ (~sn1tch3r@5.154.174.84)
[04:06:11] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@2a01:e0a:5ea:1c10:1ac0:4dff:fe82:78e3) (Quit: YuGiOhJCJ)
[04:06:58] <e36freak> awk 'NR==1 {print "uniqid," $0; next}  {print ++id "," $0} END ...'
[04:07:59] *** Joins: sn1tch3r__ (sn1tch3r@gateway/vpn/nordvpn/sn1tch3r)
[04:08:24] *** Quits: sn1tch3r (~sn1tch3r@185.153.176.212) (Ping timeout: 268 seconds)
[04:08:51] <transhumanist> thank you! let me know if you want that twenty bucks!
[04:10:18] *** Quits: sn1tch3r_ (~sn1tch3r@5.154.174.84) (Ping timeout: 240 seconds)
[04:10:42] *** Joins: sn1tch3r (sn1tch3r@gateway/vpn/nordvpn/sn1tch3r)
[04:10:48] *** Quits: FuriousGeorge (~FuriousGe@pool-100-1-104-109.nwrknj.fios.verizon.net) (Ping timeout: 250 seconds)
[04:12:10] *** Quits: downunder (~downunder@110.151.120.49) (Quit: WeeChat 3.2)
[04:12:35] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 252 seconds)
[04:12:57] *** Quits: Burrr (~Burrr@urmomma-fux0rs-with.burrr.nl) (Quit: Bye!)
[04:13:14] *** AAAAAA_Dragon is now known as A_Dragon
[04:13:15] *** Quits: sn1tch3r__ (sn1tch3r@gateway/vpn/nordvpn/sn1tch3r) (Ping timeout: 272 seconds)
[04:14:13] <transhumanist> e36freak:  if you set up a fiverr gig , and pass on the infromation to me I am sure I will have future questions!
[04:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:16] *** Joins: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr)
[04:15:35] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[04:15:38] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:18:28] *** Quits: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie) (Ping timeout: 244 seconds)
[04:19:31] *** Quits: Inline (~Inline@aftr-37-201-241-126.unity-media.net) (Ping timeout: 268 seconds)
[04:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:21:03] *** Joins: grovershor_ (~groversho@193.36.225.100)
[04:21:22] *** Quits: grovershor (~groversho@193.36.225.35) (Ping timeout: 268 seconds)
[04:21:23] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 252 seconds)
[04:22:02] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:22:02] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[04:22:10] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:22:29] *** Joins: mcnalu[m]9 (~mcnalum]@182.52.161.33)
[04:22:30] *** Quits: mcnalu[m]9 (~mcnalum]@182.52.161.33) (K-Lined)
[04:28:39] *** Joins: cronolio (~alex@user/cronolio)
[04:28:46] *** Quits: tex (~super@user/dix) (Ping timeout: 268 seconds)
[04:29:06] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 264 seconds)
[04:29:56] *** Quits: split-horizon (~split-hor@65.100.74.75) (Quit: Textual IRC Client: www.textualapp.com)
[04:30:29] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:32:26] *** Quits: The_Loko (~The_Loko@86.127.244.52) (Quit: Leaving)
[04:33:30] *** Joins: sn1tch3r_ (~sn1tch3r@201-27-147-42.dsl.telesp.net.br)
[04:33:39] *** Joins: jess (~jess@libera/staff/jess)
[04:33:53] *** Quits: sn1tch3r (sn1tch3r@gateway/vpn/nordvpn/sn1tch3r) (Read error: Connection reset by peer)
[04:35:00] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[04:35:25] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:36:32] <OMGOMG> e36freak only accepts dogecoin
[04:37:19] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[04:37:40] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[04:39:42] *** Joins: nate1 (~nate@156.39.10.47)
[04:41:45] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[04:43:23] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[04:46:34] *** Parts: opv (~opv@methodsofcontrol.com) ()
[04:46:41] *** Quits: hegstal (~hegstal@2a02:c7f:7604:8a00:f9a1:6a30:5a54:d88f) (Ping timeout: 252 seconds)
[04:47:58] *** Joins: uc50ic4more (~uc50ic4mo@216.8.148.58)
[04:50:44] *** Joins: __jmcantrell__ (~weechat@86.106.121.214)
[04:50:47] *** Quits: jmcantrell (~weechat@86.106.143.84) (Killed (iridium.libera.chat (Nickname regained by services)))
[04:50:47] *** __jmcantrell__ is now known as jmcantrell
[04:51:16] *** Quits: goldfish (~goldfish@user/goldfish) (Remote host closed the connection)
[04:51:34] *** Quits: nate1 (~nate@156.39.10.47) (Ping timeout: 268 seconds)
[04:54:00] *** Joins: __jmcantrell__ (~weechat@89.45.224.240)
[04:54:00] *** jmcantrell is now known as Guest3518
[04:54:00] *** Quits: Guest3518 (~weechat@86.106.121.214) (Killed (zirconium.libera.chat (Nickname regained by services)))
[04:54:00] *** __jmcantrell__ is now known as jmcantrell
[04:55:09] *** Quits: odoood (~odoood@c-73-184-143-53.hsd1.ga.comcast.net) (Ping timeout: 244 seconds)
[04:57:08] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[04:58:02] *** Quits: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net) (Ping timeout: 250 seconds)
[04:59:00] *** Joins: iteratee (~iteratee@2602:61:74b4:1300::bca)
[05:01:33] *** Parts: uplime (uplime@offtopia/nomad) (/me scurries away)
[05:03:24] *** Joins: kktt007 (~kktt007@140.174.6.57)
[05:04:09] *** iteratee is now known as ormaaj2
[05:04:41] *** Quits: LuksNuke (~LuksNuke@94.242.245.63) (Quit: Leaving)
[05:05:06] *** Joins: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net)
[05:05:09] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:64e9:342f:6744:7cb0)
[05:06:45] *** Quits: cliluw (~cliluw@47.147.80.149) (Remote host closed the connection)
[05:06:59] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Quit: Leaving)
[05:07:09] *** Joins: cliluw (~cliluw@47.147.80.149)
[05:08:42] *** Quits: mikeputnam (~mikeputna@wilug/mikeputnam) (Quit: WeeChat 2.8)
[05:09:28] *** Quits: howdoi (uid224@id-224.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[05:12:25] *** Joins: kktt00716 (~kktt007@140.174.6.57)
[05:12:33] *** Quits: cliluw (~cliluw@47.147.80.149) (Ping timeout: 268 seconds)
[05:12:34] *** grovershor_ is now known as grovershor
[05:13:59] *** Quits: Krail (~Krail@user/alexdelarge) (Quit: Krail)
[05:15:01] *** Quits: kktt00716 (~kktt007@140.174.6.57) (Client Quit)
[05:15:18] *** Quits: betelgeuse (~john2gb@94-225-47-8.access.telenet.be) (Quit: The Lounge - https://thelounge.chat)
[05:15:48] *** Quits: kktt007 (~kktt007@140.174.6.57) (Ping timeout: 250 seconds)
[05:16:09] *** Quits: yitz (~nick@exercism/yitz) (Quit:  )
[05:16:53] *** Joins: yitz (~nick@exercism/yitz)
[05:18:15] *** Joins: curdlesnoot (~curdlesno@2a03:1b20:1:e011::a19d)
[05:21:40] *** Quits: ano (~weechat@user/ano) (Remote host closed the connection)
[05:23:35] *** Joins: ano (~weechat@user/ano)
[05:27:37] *** Quits: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66) (Remote host closed the connection)
[05:29:41] *** Parts: transhumanist (~hiken@2601:196:8800:35f0:7421:bafd:df5f:9185) ()
[05:30:25] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:32:18] *** Joins: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66)
[05:32:40] *** Parts: jaggz (~jaggz@user/jaggz) (Leaving)
[05:33:02] *** Quits: alzgh (~alzgh@216.155.158.214) (Quit: Client closed)
[05:33:36] *** Quits: ano (~weechat@user/ano) (Remote host closed the connection)
[05:34:34] *** Joins: vlm (~vlm@user/vlm)
[05:35:04] *** Joins: ano (~weechat@user/ano)
[05:37:33] *** Quits: phillbush (~phillbush@user/phillbush) (Quit: Leaving)
[05:38:45] *** Quits: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr) (Ping timeout: 272 seconds)
[05:38:49] *** Quits: uc50ic4more (~uc50ic4mo@216.8.148.58) (Quit: uc50ic4more)
[05:38:54] *** Joins: phillbush (~phillbush@user/phillbush)
[05:44:39] *** Joins: ferdna (~ferdna@user/ferdna)
[05:49:35] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[05:49:38] *** Joins: downunder (~downunder@110.151.120.49)
[05:50:28] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.2)
[05:50:37] *** Quits: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66) (Remote host closed the connection)
[05:52:15] *** Joins: transhumanist (~hiken@2601:196:8800:35f0:f089:4d19:cb2e:59f5)
[05:52:37] *** Quits: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[05:53:56] *** Joins: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de)
[05:55:23] *** Joins: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66)
[05:56:06] *** sn1tch3r_ is now known as sn1tch3r
[05:58:11] *** Quits: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de) (Ping timeout: 244 seconds)
[06:06:39] *** Quits: omegatron (~some@p5b056bc7.dip0.t-ipconnect.de) (Quit: What happened? You quit!)
[06:07:36] *** Quits: Quot_ (~Quot@2601:3c4:300:6a0:ddf5:f5dc:4514:fa70) (Quit: Leaving)
[06:09:43] *** Joins: cliluw (~cliluw@47.147.80.149)
[06:10:55] *** Joins: seL4 (~seL4@gateway/tor-sasl/sel4)
[06:12:07] *** Quits: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66) (Remote host closed the connection)
[06:13:37] *** Joins: FuriousGeorge (~FuriousGe@pool-100-1-104-109.nwrknj.fios.verizon.net)
[06:15:18] *** Quits: cliluw (~cliluw@47.147.80.149) (Ping timeout: 264 seconds)
[06:16:46] *** Joins: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66)
[06:17:24] *** Quits: kurahaupo (~kurahaupo@pa49-180-24-7.pa.nsw.optusnet.com.au) (Ping timeout: 268 seconds)
[06:18:02] *** Quits: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66) (Remote host closed the connection)
[06:23:32] *** Quits: phillbush (~phillbush@user/phillbush) (Quit: Leaving)
[06:23:50] *** Joins: phillbush (~phillbush@user/phillbush)
[06:24:19] *** Quits: seL4 (~seL4@gateway/tor-sasl/sel4) (Ping timeout: 252 seconds)
[06:31:49] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[06:36:45] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:64e9:342f:6744:7cb0) (Read error: Connection reset by peer)
[06:36:58] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[06:38:15] *** Joins: notnone (~notnone@gw1.4wx.net)
[06:41:05] *** Quits: macodra (~quassel@user/macodra) (Ping timeout: 252 seconds)
[06:41:21] *** Joins: macodra (~quassel@p5b2b60d5.dip0.t-ipconnect.de)
[06:41:21] *** Quits: macodra (~quassel@p5b2b60d5.dip0.t-ipconnect.de) (Changing host)
[06:41:21] *** Joins: macodra (~quassel@user/macodra)
[06:42:30] *** Joins: sublim20 (~sublim20@user/sublim20)
[06:45:48] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[06:49:47] *** Joins: sjohnson (sjohnson@cow.sj.rfc1459.net)
[06:54:02] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Read error: Connection reset by peer)
[06:58:35] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[06:58:38] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 244 seconds)
[07:02:25] *** Quits: k-man (~jason@user/k-man) (Remote host closed the connection)
[07:03:08] *** Joins: k-man (~jason@user/k-man)
[07:03:14] *** Joins: Burrr (~Burrr@urmomma-fux0rs-with.burrr.nl)
[07:04:47] *** Quits: simbioz (~simbioz@user/simbioz) (Remote host closed the connection)
[07:05:30] *** Quits: macodra (~quassel@user/macodra) (Ping timeout: 268 seconds)
[07:05:43] *** Joins: simbioz (~simbioz@user/simbioz)
[07:10:32] *** Quits: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net) (Quit: Client closed)
[07:15:03] *** Quits: phillbush (~phillbush@user/phillbush) (Remote host closed the connection)
[07:15:59] *** Quits: Spawns_Carpeting (~pi@user/spawns-carpeting/x-6969421) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[07:16:48] *** Joins: Spawns_Carpeting (~pi@user/spawns-carpeting/x-6969421)
[07:22:16] *** Joins: jos2 (~jos3@dyndsl-091-096-036-192.ewe-ip-backbone.de)
[07:22:18] *** Quits: Gerula (~Gerula@user/gerula) (Ping timeout: 240 seconds)
[07:26:28] *** Quits: jos1 (~jos3@host-091-097-184-234.ewe-ip-backbone.de) (Ping timeout: 268 seconds)
[07:30:31] *** Joins: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net)
[07:30:52] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 252 seconds)
[07:36:55] *** Joins: theglass (~glass@user/theglass)
[07:39:37] *** Quits: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net) (Quit: Client closed)
[07:45:26] *** Quits: qub411 (~user@118.208.135.161) (Quit: WeeChat 2.3)
[07:46:10] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[07:47:12] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 244 seconds)
[07:49:38] *** Joins: Pimpsy (~Pimpsy@2806:2f0:92c0:aa44:35b2:d399:5ddb:428a)
[07:51:38] *** Quits: sublim20 (~sublim20@user/sublim20) (Ping timeout: 268 seconds)
[07:51:44] *** Joins: willyg_cos (~joeuser@user/willyg-cos/x-4994202)
[07:52:24] *** Quits: Pimpsy (~Pimpsy@2806:2f0:92c0:aa44:35b2:d399:5ddb:428a) (Client Quit)
[07:55:36] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[07:56:57] *** Joins: lautre[m] (~lautremat@2001:470:69fc:105::311f)
[07:57:50] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[08:00:29] *** Quits: willyg_cos (~joeuser@user/willyg-cos/x-4994202) (Quit: Gone to sleep.)
[08:02:20] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Quit: WeeChat 3.1)
[08:02:34] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[08:04:23] *** Joins: Gerula (~Gerula@user/gerula)
[08:05:05] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[08:05:17] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 244 seconds)
[08:06:18] *** Lord_of_Life_ is now known as Lord_of_Life
[08:06:56] *** Joins: GrandMoffTarkin (~GrandMoff@user/grandmofftarkin)
[08:11:25] <GrandMoffTarkin> hi, I am trying to clean up(delete) some images on a websites, the images are in a /var/www/html/images dir, I need a script that can get the image file names recursively from that dir and then delete any that are not in any php/html/css/js files in the /var/www/html dir
[08:13:28] <Friithian> use find's -delete 
[08:15:56] <e36freak> with grep i guess?
[08:16:12] <e36freak> GrandMoffTarkin: how many files are we talking? does it need to be efficient or fast?
[08:16:20] <e36freak> the quick dirty way is not that but would work
[08:19:21] *** Joins: nikodijev (~nikodijev@109-93-203-16.dynamic.isp.telekom.rs)
[08:20:14] *** Quits: nikodijev (~nikodijev@109-93-203-16.dynamic.isp.telekom.rs) (Client Quit)
[08:21:19] *** Joins: willyg_cos (~joeuser@user/willyg-cos/x-4994202)
[08:24:56] *** Parts: combinare (~Eric@129.146.172.252) (Leaving)
[08:34:36] <GrandMoffTarkin> e36freak:  about 20gb of files, so a lot
[08:35:09] *** Quits: willyg_cos (~joeuser@user/willyg-cos/x-4994202) (Quit: Gone to sleep.)
[08:35:42] <GrandMoffTarkin> basically dev's started working on the site for years, and just backing up images without removing them
[08:39:07] *** Joins: kj (~kj@kj.aerisnetwork.net)
[08:43:40] *** Joins: momonster (~mo@ip1f106750.dynamic.kabel-deutschland.de)
[08:44:19] *** Joins: sublim20 (~sublim20@user/sublim20)
[08:46:13] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 252 seconds)
[08:49:17] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Remote host closed the connection)
[08:49:31] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[08:51:59] *** Quits: pooby (~pooby@167.99.100.8) (Ping timeout: 252 seconds)
[08:52:49] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 244 seconds)
[08:53:08] *** Joins: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net)
[08:53:24] *** Joins: blue_penquin (~blue_penq@gateway/tor-sasl/bluepenquin/x-11613850)
[08:58:07] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Read error: Connection reset by peer)
[08:58:25] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[08:58:31] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[08:58:39] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[09:00:13] *** Joins: vishal (~vishal@fedora/vishal)
[09:02:46] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[09:08:31] <e36freak> GrandMoffTarkin: so create a list of all the image files, provide it to grep -Ff and get a list of all files that exist in the source code, and then do a set subtraction of the two and what you end up with is a list of files to delete
[09:08:33] *** Quits: tkazi (~tkazi@user/tkazi) (Quit: Disconnected)
[09:08:52] <e36freak> part of the problem is how they're linked to in the source files though. relative paths? absolute?
[09:08:52] *** Joins: tkazi (~tkazi@user/tkazi)
[09:08:57] <e36freak> a mix?
[09:09:18] <GrandMoffTarkin> need to check file name
[09:09:31] <GrandMoffTarkin> incase mix
[09:10:17] <e36freak> all file names are definitely unique? then you'll have to strip any path and get basenames to pass to grep and to do your set subtraction
[09:10:29] <GrandMoffTarkin> yes
[09:10:38] <e36freak> and i guess keep track of basename -> path, probably with an associative array
[09:10:48] *** Quits: sublim20 (~sublim20@user/sublim20) (Read error: Connection reset by peer)
[09:10:49] <e36freak> shouldn't be too hard
[09:10:59] *** Quits: sn1tch3r (~sn1tch3r@201-27-147-42.dsl.telesp.net.br) (Quit: Leaving)
[09:11:28] <GrandMoffTarkin> sorry I don't really know bash, was looking for some help
[09:13:15] *** Quits: ormaaj2 (~iteratee@2602:61:74b4:1300::bca) (Quit: Client closed)
[09:13:46] *** Quits: blue_penquin (~blue_penq@gateway/tor-sasl/bluepenquin/x-11613850) ()
[09:14:09] *** Joins: blue_penquin (~blue_penq@gateway/tor-sasl/bluepenquin/x-11613850)
[09:14:19] *** Joins: iteratee (~iteratee@2602:61:74b4:1300::bca)
[09:14:34] *** Quits: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net) (Ping timeout: 250 seconds)
[09:14:57] *** Quits: iteratee (~iteratee@2602:61:74b4:1300::bca) (Client Quit)
[09:15:59] *** Joins: ormaaj2 (~ormaaj2@2602:61:74b4:1300::bca)
[09:16:09] *** Joins: tijuco (~tijuco@user/tijuco)
[09:16:47] *** tijuco is now known as costaht
[09:17:23] *** Quits: jfcaron (~jfcaron@ip-24-140-242-177.user.start.ca) (Quit: jfcaron)
[09:19:33] *** Quits: ttys000 (~ttys000@user/ttys000) (Quit: Textual IRC Client: www.textualapp.com)
[09:20:10] <e36freak> completely untested, you're welcome to play with it and debug if needed http://ix.io/3qpj
[09:20:28] <e36freak> doesn't currently delete anything, just prints a list, has a commented line to actually delete
[09:27:03] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[09:27:11] <GrandMoffTarkin> sweet, thank you so much, it is a good start , i will test this out and make changes as required
[09:30:18] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 268 seconds)
[09:30:54] <GrandMoffTarkin> thanks again e36freak appriciate you taking time to provide this, later
[09:30:59] *** Quits: GrandMoffTarkin (~GrandMoff@user/grandmofftarkin) (Quit: Out!)
[09:31:05] *** Quits: anton (~anton@antonmcclure.com) (Quit: anton)
[09:34:15] *** Quits: momonster (~mo@ip1f106750.dynamic.kabel-deutschland.de) (Quit: Konversation terminated!)
[09:37:09] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[09:38:45] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[09:41:31] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Client Quit)
[09:41:54] *** Joins: nikodijev (~nikodijev@109-93-203-16.dynamic.isp.telekom.rs)
[09:43:55] *** costaht is now known as tijuco
[09:48:41] *** Joins: src (~src@user/src)
[09:51:24] *** Quits: wwalker (~wwalker@platinum.solid-constructs.com) (Remote host closed the connection)
[09:51:54] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 240 seconds)
[09:53:59] *** Quits: nikodijev (~nikodijev@109-93-203-16.dynamic.isp.telekom.rs) (Quit: Quit)
[09:56:29] *** Joins: Liblx (~Alex@ip4d15ff03.dynamic.kabel-deutschland.de)
[10:00:11] *** Joins: howdoi (uid224@id-224.tooting.irccloud.com)
[10:06:23] *** Quits: ormaaj2 (~ormaaj2@2602:61:74b4:1300::bca) (Quit: Client closed)
[10:06:38] *** Joins: ormaaj2 (~ormaaj2@2602:61:74b4:1300::bca)
[10:08:15] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 244 seconds)
[10:15:30] *** Quits: blue_penquin (~blue_penq@gateway/tor-sasl/bluepenquin/x-11613850) ()
[10:18:28] *** Quits: ormaaj2 (~ormaaj2@2602:61:74b4:1300::bca) (Quit: Client closed)
[10:18:43] *** Joins: ormaaj2 (~ormaaj2@2602:61:74b4:1300::bca)
[10:23:58] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[10:25:05] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Read error: Connection reset by peer)
[10:25:53] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[10:29:05] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[10:34:37] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[10:35:04] *** Quits: ThorMojito (~Adium@modemcable212.77-202-24.mc.videotron.ca) (Ping timeout: 268 seconds)
[10:35:23] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[10:35:53] *** Joins: wwalker (~wwalker@platinum.solid-constructs.com)
[10:41:31] *** Quits: wwalker (~wwalker@platinum.solid-constructs.com) (Quit: leaving)
[10:43:48] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[10:43:53] *** Quits: ormaaj2 (~ormaaj2@2602:61:74b4:1300::bca) (Quit: Client closed)
[10:44:09] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[10:51:12] *** Quits: FuriousGeorge (~FuriousGe@pool-100-1-104-109.nwrknj.fios.verizon.net) (Ping timeout: 250 seconds)
[10:55:01] *** Joins: tex (~super@user/dix)
[10:55:06] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[10:55:14] *** Joins: wwalker (~wwalker@platinum.solid-constructs.com)
[10:56:58] *** Joins: karakedi (~eAC53C340@user/karakedi)
[10:57:28] *** Joins: malina (~malina@user/malina)
[10:59:05] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Client Quit)
[11:00:07] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[11:04:36] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Client Quit)
[11:04:58] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[11:05:44] *** Joins: kurahaupo (~kurahaupo@pa49-180-48-165.pa.nsw.optusnet.com.au)
[11:06:48] *** Joins: kurahaupo_ (~kurahaupo@pa49-180-105-71.pa.nsw.optusnet.com.au)
[11:07:45] *** Quits: pj (~pj@ghettoforge/pj) (Read error: Connection reset by peer)
[11:07:52] *** Joins: pajamian (~pj@ghettoforge/pj)
[11:08:35] *** pajamian is now known as pj
[11:10:13] *** Quits: kurahaupo (~kurahaupo@pa49-180-48-165.pa.nsw.optusnet.com.au) (Ping timeout: 268 seconds)
[11:19:05] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[11:20:42] *** Quits: richardm75 (~richardm7@2600:8801:c50b:3800:6c82:4ab4:5e4f:bcf3) (Ping timeout: 264 seconds)
[11:28:04] *** Quits: cmc (~methos@gateway/tor-sasl/cmc) (Remote host closed the connection)
[11:28:35] *** Joins: cmc (~methos@gateway/tor-sasl/cmc)
[11:30:03] *** Quits: af (~af@awalgarg.me) (Ping timeout: 268 seconds)
[11:37:20] *** Quits: setesat4 (~setesat@054340f9.skybroadband.com) (Quit: The Lounge - https://thelounge.chat)
[11:39:28] *** Joins: setesat4 (~setesat@054340f9.skybroadband.com)
[11:46:05] *** Quits: LiftLeft (~LiftLeft@154.21.28.215) (Ping timeout: 272 seconds)
[11:52:47] <zsoltiv_> is there a way to split a string into an array using a delimiter? for instance an ip address, like 192.168.0.100 -> ("192" "168" "0" "100")
[11:54:57] *** Joins: rendar (~rendar@user/rendar)
[11:59:39] *** Quits: tex (~super@user/dix) (Ping timeout: 268 seconds)
[12:02:25] *** Joins: t0kie (~t0kie@user/t0kie)
[12:03:58] <llua> # IFS=. read -ra octets <<<192.168.0.100;typeset -p octets 
[12:04:00] <shbot> llua: declare -a octets=([0]="192" [1]="168" [2]="0" [3]="100")
[12:06:02] <pj> !split
[12:06:03] <greybot> split(1): POSIX command to break a file into multiple pieces by lines or bytes; or, to split a string into an array of substrings: IFS=: read -ra array <<< "foo:bar:baz" (but see !pf47)
[12:06:20] *** Quits: t0kie (~t0kie@user/t0kie) (Client Quit)
[12:07:23] <pj> llua: typeset is considered obsolete
[12:07:33] <llua> its not
[12:09:13] <pj> # help typeset | grep obsolete
[12:09:14] <shbot> pj: no output
[12:09:17] <pj> hrmmmm
[12:09:28] <pj> oh
[12:09:32] <pj> # help typeset | grep -i obsolete
[12:09:33] <shbot> pj: no output
[12:10:10] <pj> hrmmmm, it says it's obsolete in 4.2
[12:10:16] <pj> 42# help typeset | grep -i obsolete
[12:10:17] <shbot> pj:     Obsolete.  See `help declare'.
[12:10:20] <pj> there
[12:10:36] <pj> I wonder why it's considered obsolete in 4.2 but not in the current version of bash?
[12:11:52] <llua> because https://lists.gnu.org/archive/html/bug-bash/2016-02/msg00145.html
[12:14:14] <pj> interesting, so that implies taht there's differences between typeset and declare?
[12:14:18] <pj> what are the differences?
[12:15:25] <llua> none in bash
[12:15:38] *** Joins: cliluw (~cliluw@47.147.80.149)
[12:16:05] <pj> okay
[12:16:40] <zsoltiv_> alright thanks for the tip
[12:16:46] <pj> and local and declare are *almost* identical (but with one subtle difference)
[12:16:56] *** Quits: bn_work (uid268505@id-268505.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[12:17:48] <llua> i am just used to using typeset due to the shell i use.
[12:17:54] <pj> ahhhh, okay
[12:18:03] *** Joins: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net)
[12:18:16] *** Joins: sublim20 (~sublim20@user/sublim20)
[12:18:48] <pj> btw, I find it interesting (and somewhat confusing) that both local and declare localize variables inside a function by default.
[12:20:04] <pj> ...and just as confusing that local can be used to declare a global variable.
[12:21:08] *** Quits: cliluw (~cliluw@47.147.80.149) (Ping timeout: 268 seconds)
[12:21:40] <pj> almost makes you want to do this for clarity: global () { declare -g "$@"; }
[12:26:18] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[12:27:36] *** Joins: sokle_68 (~sokle_68@78-204-176.adsl.cyta.gr)
[12:33:54] *** Quits: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net) (Quit: Leaving)
[12:33:54] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Remote host closed the connection)
[12:34:12] *** Joins: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net)
[12:34:14] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[12:34:45] *** Joins: grovershor_ (~groversho@193.36.225.165)
[12:35:06] *** Quits: grovershor (~groversho@193.36.225.100) (Ping timeout: 264 seconds)
[12:41:00] *** Quits: milosz (~milosz@user/milosz) (Quit: Leaving)
[12:41:20] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 252 seconds)
[12:48:59] *** Quits: howdoi (uid224@id-224.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[12:51:24] *** Joins: kurahaupo (~kurahaupo@14-203-145-223.static.tpgi.com.au)
[12:53:51] *** Quits: kurahaupo_ (~kurahaupo@pa49-180-105-71.pa.nsw.optusnet.com.au) (Ping timeout: 272 seconds)
[12:56:10] *** Joins: dub_a (~dub_a@2601:1c2:4e00:3b3::cb2)
[12:57:08] *** Joins: lavaball (felix@31.204.155.215)
[13:01:57] *** Joins: af (~af@awalgarg.me)
[13:06:59] *** Joins: ByteSlayer (~byteslaye@user/byteslayer)
[13:08:05] *** Quits: Gerula (~Gerula@user/gerula) (Quit: Leaving)
[13:09:31] *** Joins: __jmcantrell__ (~weechat@83.143.246.109)
[13:09:31] *** jmcantrell is now known as Guest5197
[13:09:31] *** Quits: Guest5197 (~weechat@89.45.224.240) (Killed (silver.libera.chat (Nickname regained by services)))
[13:09:31] *** __jmcantrell__ is now known as jmcantrell
[13:12:16] *** Joins: alterjsive (~jeroen@82-217-106-119.cable.dynamic.v4.ziggo.nl)
[13:17:42] <kurahaupo> # global(){ declare -g "$@";}; f() { global A; echo in f A=$A; A=77; }; g(){ local A=44; f; echo in g A=$A;}; A=99 ; g ; echo in main A=$A
[13:17:43] <shbot> kurahaupo: in f A=44
[13:17:43] <shbot> kurahaupo: in g A=77
[13:17:43] <shbot> kurahaupo: in main A=99
[13:18:10] <kurahaupo> pj: ^^ that doesn't look very global-like
[13:19:03] <kurahaupo> # global(){ declare -g "$@";}; f() { global A=42; echo in f A=$A; A=77; }; g(){ local A=44; f; echo in g A=$A;}; A=99 ; g ; echo in main A=$A
[13:19:04] <shbot> kurahaupo: in f A=44
[13:19:04] <shbot> kurahaupo: in g A=77
[13:19:04] <shbot> kurahaupo: in main A=42
[13:20:37] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[13:21:43] *** Quits: dub_a (~dub_a@2601:1c2:4e00:3b3::cb2) (Ping timeout: 272 seconds)
[13:23:23] *** Joins: dub_a (~dub_a@192.252.212.47)
[13:24:22] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[13:25:01] *** Joins: apos (~apos@gateway/tor-sasl/apos)
[13:25:30] *** Quits: Loki420 (~toor@37.19.197.157) (Ping timeout: 240 seconds)
[13:25:31] <pj> kurahaupo: that just about does my head in.
[13:25:57] <pj> I have to wonder what difference there would be if global were an alias instead of a function...
[13:26:54] <pj> # alias global='declare -g ';  f() { global A=42; echo in f A=$A; A=77; }; g(){ local A=44; f; echo in g A=$A;}; A=99 ; g ; echo in main A=$A
[13:27:02] <shbot> pj: bash: global: command not found
[13:27:03] <shbot> pj: in f A=44
[13:27:03] <shbot> pj: etc... ( http://ix.io/3qqd )
[13:30:33] *** Joins: Gerula (~Gerula@user/gerula)
[13:32:09] *** Quits: s1b1 (~s1b1@user/s1b1) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[13:33:02] *** Parts: sokle_68 (~sokle_68@78-204-176.adsl.cyta.gr) ()
[13:36:18] *** Quits: downtrip (~downtrip@188.166.151.198) (Ping timeout: 264 seconds)
[13:36:28] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 244 seconds)
[13:37:41] *** Joins: downtrip (~downtrip@188.166.151.198)
[13:39:00] *** Quits: Betal (~Beta@user/betal) (Quit: WeeChat 3.2)
[13:39:08] *** Joins: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net)
[13:39:51] *** Quits: downtrip (~downtrip@188.166.151.198) (Client Quit)
[13:40:12] *** Joins: downtrip (~downtrip@188.166.151.198)
[13:44:59] *** Joins: s1b1 (~s1b1@user/s1b1)
[13:45:04] *** Quits: ByteSlayer (~byteslaye@user/byteslayer) (Quit: That's about it, see ya)
[13:45:37] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[13:50:19] *** Joins: ByteSlayer (~byteslaye@user/byteslayer)
[13:50:51] *** Quits: themachine (~themachin@user/themachine) (*.net *.split)
[13:50:51] *** Quits: mingdao (~mingdao@wireguard/tunneler/mingdao) (*.net *.split)
[13:50:58] *** Joins: mingdao_ (~mingdao@107-146-172-064.res.spectrum.com)
[13:51:07] *** Joins: themachine (~themachin@user/themachine)
[13:54:52] <birkoff> how would you sort a command output only from the second line ? preferably with pipes and not with awk 
[13:55:44] <kurahaupo> greycat: I'm not clear why you said that Bash doesn't have a clipboard in the command line; in Emacs mode ^Y "yank" is what most users think of as "paste", and each of the "erase" functions works as "cut". (If you want "copy", just cut and immediately paste.)
[13:55:51] <ByteSlayer> command | tail -n +2 | sort
[13:55:57] <ByteSlayer> birkoff
[13:56:40] <ByteSlayer> tail -n +2 starts processing from the second line of output, then you do whatever you want
[13:57:20] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 268 seconds)
[13:57:57] *** Quits: dub_a (~dub_a@192.252.212.47) (Ping timeout: 268 seconds)
[13:58:34] <kurahaupo> birkoff: How did you think anyone would solve that *without99,99* pipes?
[13:58:42] <ormaaj> I almost never use it because it's too easy to overwrite the buffer (i use vi mode though)
[13:59:18] *** Joins: lemurp (~lemurp@cm-84.214.104.84.getinternet.no)
[13:59:36] *** Joins: dub_a (~dub_a@2601:1c2:4e00:3b3::cb2)
[14:00:26] <birkoff> ByteSlayer: you misunderstood my question. I want to keep the first line as a header and run 'sort' on the rest
[14:00:38] <kurahaupo> ormaaj: Yeah I rarely use for much the same reason. But sometimes it's useful to go ESC 23 ^Y to get the same text repeated 23 times
[14:01:30] *** Quits: ByteSlayer (~byteslaye@user/byteslayer) (Ping timeout: 264 seconds)
[14:01:32] <birkoff> or maybe i didnt write the full question well
[14:02:17] <birkoff> anyway, if one could do   :  somecmd | (line1 : process) | (line2-end : process)    it was cool
[14:02:23] <ormaaj> birkoff: cmd | { head -n 1; sort; }
[14:04:31] <kurahaupo> cmd | { read ; sort ;}
[14:04:35] * ormaaj read the question to mean what ByteSlayer said
[14:05:13] *** Joins: nikodijev (~nikodijev@109-93-203-16.dynamic.isp.telekom.rs)
[14:07:05] <birkoff> ormaaj: that only shows few lines out of the whole output
[14:08:08] <kurahaupo> oh yeah, keep the header
[14:08:09] <kurahaupo> cmd | { read && printf %s\\n "$REPLY" ; sort ;}
[14:09:07] *** Joins: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr)
[14:09:50] <kurahaupo> I wouldn't trust "head" not to buffer its input,  which means for a pipe that it consumes more than it shows
[14:10:46] <pj> if you want to do that route you're better off with tail...
[14:11:00] *** jmcantrell is now known as __jmcantrell__
[14:11:26] <kurahaupo> cmd | sed 's/^/2/; 1s/^2/1/' | sort | cut -c2-
[14:11:50] <pj> I guess technically that's not with awk.
[14:11:56] *** __jmcantrell__ is now known as jmcantrell
[14:13:27] *** Quits: jmcantrell (~weechat@83.143.246.109) (Changing host)
[14:13:27] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[14:13:32] <kurahaupo> cmd | perl -e ' @x = <>; print shift(@x), sort(@x)'
[14:13:49] <kurahaupo>  (still not AWK)
[14:14:06] <pj> lol
[14:14:06] *** Quits: nikodijev (~nikodijev@109-93-203-16.dynamic.isp.telekom.rs) (Quit: Quit)
[14:14:56] <ormaaj> why does head buffer? totally defeats the purpose of head
[14:15:05] *** Quits: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net) (*.net *.split)
[14:15:22] <kurahaupo> The purpose of head is to SHOW the head, not to discard it
[14:16:00] *** Joins: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net)
[14:16:16] <pj> at least in some instances head has to read the entire file before it can display anything.
[14:16:20] <ormaaj> the purpose is to read exactly n lines
[14:16:24] <kurahaupo> Head isn't to know that some other process is reading from the same input fd
[14:16:44] <kurahaupo> no, it's purpose is to OUTPUT exactly n lines 
[14:16:51] <ormaaj> it doesn't need to know
[14:16:51] <pj> eg: head -n -10
[14:17:04] <pj> it has to read the whole file just so it knows where the end is.
[14:17:20] *** Joins: neostanniy (~neostanni@host-176-37-141-14.b025.la.net.ua)
[14:17:35] <kurahaupo> Otherwise it would have to read a byte at a time looking for a newline, which would be horribly inefficient
[14:17:38] <ormaaj> why use head as tail
[14:18:06] <pj> even if it read a byte at a time, it can't identify how far to go to get "ten lines from the end" without reading all the way to the end.
[14:18:14] <ormaaj> read has to do the same
[14:18:28] <pj> ormaaj: nope, read just has to read to the delimiter.
[14:18:37] <kurahaupo> Ordinary stdio will use block buffered input from a pipe. If you want something else you need to say so
[14:18:42] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 240 seconds)
[14:19:25] <kurahaupo> The point is, head is for controlling output, not for consuming input
[14:19:37] <birkoff> how then to consume specific number of lines without buffering everything
[14:19:46] <ormaaj> the delimiter is the line ending but yeah it still has to read a byte at a time to find it
[14:19:46] <kurahaupo> The latter is just an (unreliable) side effect of the former
[14:20:50] *** Joins: goldfish (~goldfish@user/goldfish)
[14:21:02] <kurahaupo> birkoff: Don't try to split the input into different paths part way through reading. See my "sed" version for an alternative
[14:21:06] *** Joins: ByteSlayer (~byteslaye@user/byteslayer)
[14:21:57] <birkoff> i dont understand your sed version
[14:21:59] *** Quits: neostanniy (~neostanni@host-176-37-141-14.b025.la.net.ua) (Client Quit)
[14:22:08] <kurahaupo> birkoff: or be prepared for the exorbitant cost of reading byte-by-byte
[14:22:34] *** Joins: LuksNuke (~LuksNuke@94.242.245.63)
[14:22:44] <kurahaupo> birkoff: Preface each line with 1 or 2, then sort everything, then cut off the preface
[14:22:56] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[14:23:14] <kurahaupo> birkoff: What's hard to understand about it?
[14:23:26] <birkoff> you mean line number the output ? you can use 'nl'
[14:23:49] <kurahaupo> no I don't mean line number
[14:24:01] <kurahaupo> I mean exactly 1 or 2. 
[14:24:26] <kurahaupo> 1 for the heading line, and 2 for everything else
[14:24:44] <pj> cmd | { for (( l=0; l<5; l++ )); do read; done; sort; }
[14:24:47] <kurahaupo> If you numbered the lines, that would defeat the sort
[14:24:49] <pj> that's one way
[14:24:52] <birkoff> and then what ? I'm running sort on a certain field
[14:25:00] <pj> or you can just read; read for two lines
[14:25:26] <birkoff> pj: yeah probably so
[14:25:47] <birkoff> there isn't a utliity where you can tell it how much lines to consume without it buffering everything ? 
[14:26:00] <pj> or you can use tail, like someone said earlier: cmd | tail -n +3 | ...
[14:26:02] <kurahaupo> read will probably play nicely (and slowly) reading one byte at a time.
[14:26:03] <birkoff> I guessed 'ed' could do it
[14:26:18] <kurahaupo> pj: except that would discard the header
[14:26:24] <pj> kurahaupo: true
[14:26:28] <birkoff> pj: but tail buffers ? 
[14:26:31] <pj> so you probably need read anyways.
[14:26:54] <pj> it will be just one byte at a time, but for just two lines I doubt it would be anything other than a negligible hit.
[14:26:57] *** Quits: ByteSlayer (~byteslaye@user/byteslayer) (Ping timeout: 272 seconds)
[14:27:02] <ormaaj> ah right the builtin head doesn't have that issue
[14:27:03] <kurahaupo> True
[14:27:16] <kurahaupo> there's a built-in head?!?
[14:27:21] <pj> so I would jsut go with read
[14:27:36] <ormaaj> yes
[14:27:49] <kurahaupo> read && printf %s\\n "$REPLY" # 
[14:28:18] <ormaaj> also i'm pretty sure head -c doesn't consume more input than you tell it
[14:28:18] <kurahaupo> err, read -r
[14:28:28] <birkoff> or just echo "$REPLY" ? or echo -e ?
[14:28:40] <kurahaupo> ormaaj: that's true, but only because there's an obvious optimisation
[14:28:55] <kurahaupo> !echo > birkoff 
[14:28:55] <greybot> birkoff: echo outputs a string. echo has many portability problems, and should never be used with option flags. Consider printf instead: printf 'name: %s\n' "$name". http://wiki.bash-hackers.org/commands/builtin/echo | http://cfajohnson.com/shell/cus-faq.html#Q0b | http://www.in-ulm.de/~mascheck/various/echo+printf
[14:28:57] <pj> cmd | { read -r line1; read -r line2; printf '%s\n' "$line1" "$line2"; sort }
[14:29:37] <kurahaupo> # help mapfile 
[14:29:38] <birkoff> yeah but who writes for more than linux? 
[14:29:38] <shbot> kurahaupo: mapfile: mapfile [-n count] [-O origin] [-s count] [-t] [-u fd] [-C callback] [-c quantum] [array] -- http://ix.io/aQ7
[14:29:41] *** Quits: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr) (Ping timeout: 252 seconds)
[14:29:52] <birkoff> i barely write for more than my own usage
[14:30:08] <kurahaupo> birkoff: echo is still a bad idea, ESPECIALLY for this use case
[14:30:09] <birkoff> most of my scripts stay in house 
[14:30:49] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Quit: WeeChat 3.1)
[14:31:03] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[14:31:05] <kurahaupo> birkoff: Consider what happens when the first line is, say "-n".
[14:32:15] <kurahaupo> birkoff: And echo with -e would completely wrong. Read would take "\t" as 2 bytes of input and echo would NOT output those two bytes
[14:32:50] <birkoff> -n ?
[14:33:22] <birkoff> echo -e would turn \t to a tab char
[14:33:43] <kurahaupo> birkoff: of course, which would be wrong
[14:34:21] <pj> # printf 'Line: %s\n' {1..9} | { mapfile -n 2 headers; printf '%s' "${headers[@]/#Line:/Head:}"; sort; }
[14:34:28] <shbot> pj: Head: 1
[14:34:28] <shbot> pj: Head: 2
[14:34:28] <shbot> pj: etc... ( http://ix.io/3qqL )
[14:34:37] <pj> this ^^^^
[14:34:43] <kurahaupo> (Your initial problem statement was that you wanted the first line of input output first, not some reinterpreted version of it)
[14:35:04] <birkoff> right so no -e
[14:35:21] <birkoff> it seems like colors are interpreted well with 'echo' alone
[14:35:31] <pj> birkoff: just get into the habit of using printf and stop using echo
[14:35:37] <pj> echo has a lot of problems.
[14:36:27] <ormaaj> # strace -fe read -- bash -c 'shopt -s lastpipe; { echo {1..5}; echo {1..5}; } | IFS= read -r'
[14:36:29] <kurahaupo> That cookie-cutter reflex to use "echo -e" without even considering whether -e was necessary or appropriate, that alone is a good reason to adopt a personal policy of "avoid echo"
[14:36:34] <shbot> ormaaj: read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\220\311\0\0\0\0\0\0"..., 832) = 832
[14:36:34] <shbot> ormaaj: read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0P\16\0\0\0\0\0\0"..., 832) = 832
[14:36:34] <shbot> ormaaj: etc... ( http://ix.io/3qqN )
[14:36:59] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[14:37:37] *** Joins: ByteSlayer (~byteslaye@user/byteslayer)
[14:40:16] <birkoff> I thought -e was necessary for color codes, alas
[14:40:54] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[14:43:51] <birkoff> function readl() { max=$1 ; [[ ! -v 1 ]] && max=1; for ((l=0; l<$max; l++)); do read ; printf "%s\n" "$REPLY" ; done }
[14:45:24] <birkoff> now I can : somecmd | { readl ; echo blah blah ; readl4 ; echo blah blah; cat}
[14:45:25] <birkoff> and so on 
[14:45:34] <birkoff> s/readl4/readl 4/
[14:45:58] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[14:46:39] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[14:47:41] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[14:48:52] *** Joins: Hackerpcs (~user@user/hackerpcs)
[14:49:56] <pj> if you think you need -e for color codes you're likely doing the color codes wrong.
[14:50:05] <pj> !tput > birkoff 
[14:50:05] <greybot> birkoff: Do NOT hardcode terminal escape sequences. Use tput with the sequence names from man terminfo to get the right code for your terminal. Eg. red=$(tput setaf 1); echo "Hello ${red}world!" # Variables example: http://to.lhunath.com/bashlib#L210 more info at http://www.gnu.org/software/termutils/
[14:50:07] *** Joins: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431)
[14:50:19] <birkoff> i meant ls --color
[14:50:40] <pj> why would you need echo for ls output?
[14:50:52] <birkoff> ?
[14:50:55] <ormaaj> printf %b replaces echo -e. It's not commonly needed either though.
[14:50:57] <birkoff> for { read...
[14:51:14] <pj> are you trying to parse ls output in your script?
[14:51:25] <birkoff> no i was just using ls to test something
[14:51:34] <pj> !ls
[14:51:34] <greybot> DO NOT USE ls' output for anything. ls is a tool for interactively looking at directory metadata. Any attempts at parsing ls' output with code are broken. Globs are much more simple AND correct: ''for file in *.txt''. Read http://mywiki.wooledge.org/ParsingLs
[14:51:38] *** Joins: julius_c (~julius_c@178.red-88-0-61.dynamicip.rima-tde.net)
[14:51:43] <pj> and, ummmm
[14:51:45] <pj> !xy
[14:51:45] <greybot> http://mywiki.wooledge.org/XyProblem -- "I want to do X, but I'm asking how to do Y..."
[14:52:52] <pj> and anyways, you said you thought you need echo -e for color codes, then you say you mean ls --color, so what on earth does ls output have to do with echo -e?
[14:53:19] <pj> that makes zero sense
[14:53:38] *** Joins: wwilly_ (~wwilly@217.140.99.251)
[14:53:43] <birkoff> i was trying to see if ls colors would pass to { read ; echo "$REPLY" } 
[14:53:56] *** Joins: situ (~situ@ip-89-176-251-11.net.upcbroadband.cz)
[14:55:58] *** Joins: apos382 (~apos@gateway/tor-sasl/apos)
[14:56:19] <pj> they will if ls actually outputs the colors, but really, don't do that.
[14:56:36] *** Joins: supersecant (~superseca@83.216.136.233)
[14:57:04] *** Quits: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net) (Ping timeout: 244 seconds)
[14:59:06] *** Quits: peterrooney (~peter@2604:3d08:1580:fe00:222:4dff:fe69:d6ed) (Ping timeout: 264 seconds)
[14:59:07] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Ping timeout: 252 seconds)
[14:59:08] *** Joins: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr)
[15:01:10] *** Joins: omegatron (~some@p5b056bc7.dip0.t-ipconnect.de)
[15:02:17] <geirha> so you've realized now that echo -e does not have anything to do with colours? It's just that to tell the terminal to change colour, You need to pass a sequence of bytes beginning with an ESC, and typing a literal ESC is cumbersome
[15:03:50] <geirha> so instead you write \e, and use echo -e to translate \e to an ESC, but echo has other problems, so you should use printf instead for that. Or better, use tput to generate the right escape sequences based on the terminfo database
[15:03:57] *** apos382 is now known as apos
[15:04:40] <birkoff> i would think it would help if the ESCAPE sent by ls (or any other colorful app) got sent with \033 or similar (IIRC)
[15:05:26] *** Quits: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr) (Ping timeout: 252 seconds)
[15:06:03] *** Quits: supersecant (~superseca@83.216.136.233) (Quit: Connection closed)
[15:06:55] <Patsie> birkoff: why are you saying the same thing? Escape and \033 are the same thing. just a different way of saying the exact same character
[15:07:37] <birkoff> no. \033 is the escaped version, if i type CTRL-Q followed by ESCAPE I get ^[
[15:07:40] *** Joins: supersecant (~superseca@83.216.136.233)
[15:08:12] *** Quits: supersecant (~superseca@83.216.136.233) (Client Quit)
[15:08:14] <birkoff> since i'm dealing with incoming strings ... I thought
[15:09:41] <Patsie> no, \033 is not an 'escaped version', it represents an octal representation of the escape character, just like ^[ respresents a version of the escape character
[15:10:42] *** Quits: audiocat (~audio@2603-8081-1800-0062-0dee-d686-c170-63c0.res6.spectrum.com) (Ping timeout: 240 seconds)
[15:11:06] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Quit: Leaving)
[15:11:19] <birkoff> but follow the context, i was asking about reading lines off an output
[15:11:29] *** Joins: audiocat (~audio@2603-8081-1800-0062-418b-325a-12a0-29e3.res6.spectrum.com)
[15:11:29] *** Joins: peterrooney (~peter@2604:3d08:1583:5600:222:4dff:fe69:d6ed)
[15:11:31] <Patsie> the escape character is a non printable character, so we have to represent it somehow
[15:11:44] <birkoff> that's why i thought echo -e was needed to display it !!!
[15:13:24] <Patsie> well, your question makes no sense. plus you got a ton of replies on how to handle color codes already
[15:14:00] <Patsie> so yeah: tput is your friend and don't parse ls output
[15:15:26] *** Joins: supersecant (~Srain@83.216.136.233)
[15:17:20] *** Joins: apos (~apos@gateway/tor-sasl/apos)
[15:19:35] *** Joins: apos382 (~apos@gateway/tor-sasl/apos)
[15:21:12] *** Quits: alterjsive (~jeroen@82-217-106-119.cable.dynamic.v4.ziggo.nl) (Ping timeout: 268 seconds)
[15:21:20] *** Quits: supersecant (~Srain@83.216.136.233) (Remote host closed the connection)
[15:22:13] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Ping timeout: 252 seconds)
[15:22:21] *** apos382 is now known as apos
[15:24:34] *** wwilly_ is now known as wwilly
[15:28:04] *** Quits: brcolow (~brcolow@ip68-0-136-132.tc.ph.cox.net) ()
[15:29:19] *** Quits: curdlesnoot (~curdlesno@2a03:1b20:1:e011::a19d) (Ping timeout: 268 seconds)
[15:31:48] *** Joins: Adoi (~Adoi@user/adoi)
[15:32:35] *** Joins: Adois (~Adoi@user/adoi)
[15:36:37] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Quit: Leaving)
[15:37:00] *** Joins: apos (~apos@gateway/tor-sasl/apos)
[15:37:17] *** Quits: fstd (~fstd@xdsl-87-79-153-206.nc.de) (Remote host closed the connection)
[15:39:10] *** Quits: Liblx (~Alex@ip4d15ff03.dynamic.kabel-deutschland.de) (Quit: WeeChat 3.1)
[15:47:31] *** Joins: chrysanthematic (~chrysanth@user/chrysanthematic)
[15:48:54] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 264 seconds)
[15:50:42] *** Quits: audiocat (~audio@2603-8081-1800-0062-418b-325a-12a0-29e3.res6.spectrum.com) (Ping timeout: 264 seconds)
[15:52:24] *** Joins: lucifer (sid308373@id-308373.brockwell.irccloud.com)
[15:53:12] *** Joins: keypusher (keypusher@user/keypusher)
[15:53:32] <lucifer> hi all! can someone help me understand how to use $@ as part of a bigger string? for eg: i have `bash -c "PYTHONDONTWRITEBYTECODE=1 python -m pytest -c pytest.spark.ini "$@""`.
[15:54:05] <lucifer> shellcheck warns `Argument mixes string and array. Use * or separate argument`.
[15:56:43] <lopid> what you think are inner quotes are just ending and starting new strings
[15:57:02] *** Joins: betelgeuse (~john2gb@94-225-47-8.access.telenet.be)
[15:57:12] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[15:57:13] <lopid> !$*
[15:57:13] <greybot> The difference between $@ and $*: "$@" (quoted) expands to each positional parameter as its own argument: "$1" "$2" ... while "$*" expands to the single argument "$1c$2c..." where c is the first character of IFS. You almost always want "$@". The same goes for arrays: "${array[@]}" or "${array[*]}". Unquoted $* and $@ are undefined; DO NOT use.
[15:58:16] <lopid> you can escape the intended inner quotes, and use $*, but you will word split each element
[15:59:49] <lucifer> oh ok!
[15:59:50] <Soliton> bash -c '...' bash "$@"
[16:00:04] <Soliton> just don't do code injection.
[16:00:16] <lopid> # set -- 'foo bar' baz; bash -c 'args=("$@"); declare -p args' _ "$@"
[16:00:18] <shbot> lopid: declare -a args=([0]="foo bar" [1]="baz")
[16:00:28] <Soliton> what's the bash -c for anyway?
[16:01:58] <lucifer> i am passing this command to `dockerize` program. it tries to execute the `PYTHONDONTWRITEBYTECODE=1` as the program but if i do bash -c then it works.
[16:02:18] <Soliton> !docker
[16:02:18] <greybot> https://xkcd.com/1988/ The fad of the month (as of June 2018) is Docker. It's always Docker. Why are they doing it THAT WAY? Because Docker.
[16:02:35] <lucifer> lol
[16:02:43] <lopid> does it even need to be bash?
[16:02:45] *** Joins: hegstal (~hegstal@2a02:c7f:7604:8a00:1e4a:1cd5:4170:e3e0)
[16:03:10] <lucifer> no, bash is not compulsory.
[16:03:13] <Soliton> so PYTHONDONTWRITEBYTECODE=1 dockerize python ...  doesn't work?
[16:03:33] *** Joins: phillbush (~phillbush@user/phillbush)
[16:04:47] <lucifer> no that doesn't work. but i might be able to get away with setting the environment variable in docker instead of trying to set it this way for the particular command.
[16:05:36] *** Quits: LuksNuke (~LuksNuke@94.242.245.63) (Ping timeout: 268 seconds)
[16:05:52] *** Joins: sokle_68 (~sokle_68@78-204-176.adsl.cyta.gr)
[16:06:49] <lucifer> in `"$*" expands to the single argument "$1c$2c..." where c is the first character of IFS`, what does IFS mean? (sorry, i am a noob)
[16:07:00] <Soliton> !ifs
[16:07:00] <greybot> Internal Field Separator (or Input Field Separator), used to break things into words. See http://mywiki.wooledge.org/IFS and http://mywiki.wooledge.org/BashFAQ/001 and http://bash-hackers.org/wiki/doku.php/syntax/words
[16:07:01] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Remote host closed the connection)
[16:07:41] <lucifer> ah makes sense.
[16:07:47] <lucifer> thanks lopid and Soliton!
[16:07:52] <Soliton> $* is only useful if you actually want a single string. if you want to pass on arguments you do not want to mangle them.
[16:08:21] <Soliton> it's useful when you want to print stuff or so.
[16:09:19] <lucifer> i'll remember that, i'll try to set the env variable just globally in docker instead should not need to use "$*" then.
[16:17:10] <kurahaupo> I've spent 30 years advocating for tput over hard-coded sequences, and basically given up and gone over to the other side. Firstly, everything is now an upgrsded VT-100; there's nothing else left. Secondly, $( tput setaf 1 ) is even less informative than $'\e[31m'. 
[16:17:10] <kurahaupo> Thirdly, tput simply isn't expressive enough: it has nothing that is equivalent to $'\e[39m' or to $'\e[22m, let alone "enable mouse tracking" or "set window title". Fourthly, why tf is "use UTF-8 encoding" encoded in LANG instead of TERM where it belongs?
[16:19:01] *** Quits: zsoltiv_ (~zsoltiv@fibhost-67-12-35.fibernet.hu) (Ping timeout: 244 seconds)
[16:19:41] *** Joins: LuksNuke (~LuksNuke@94.242.245.63)
[16:23:07] *** Joins: audiocat (~audio@2603-8081-1800-0062-ecd4-8032-b7c7-1227.res6.spectrum.com)
[16:26:08] *** Joins: mongy (~mongy@user/mongy)
[16:26:18] <lopid> "tput set a foreground" less informative than what looks like a random sequence?
[16:27:43] <kurahaupo> I still advocate keeping escape in variables so you can (a) turn them off when the output isn't a terminal, and (b) change the colour theme without having to edit every line of code. (Which means I DON'T advocate calling the variables "red" and "bold", but rather "warning", "error", "emphasis", etc)
[16:28:14] <earnestly> Also consider defining functions conditionally
[16:28:17] <kurahaupo> lopid: what colour is "1"? 
[16:28:22] <earnestly> (Instead of variables, necessarily)
[16:28:24] <kurahaupo> earnestly: agreed
[16:29:10] <lopid> i don't care what colour it is, i care that i know what the command does
[16:29:16] <kurahaupo> earnestly: especially for things that need parameters, line block scrolling or cursor positioning
[16:29:35] <earnestly> I.e. if [ "$NOCOLOR" ]; then err() { printf ... >&2; exit 1; }; else err() { printf \033[1;30m... >&2; exit 1; }; fi
[16:30:15] <earnestly> NO_COLOR* sorry, https://no-color.org/
[16:30:37] *** Joins: przemoc (~przemoc@user/przemoc)
[16:30:52] <kurahaupo> lopid: Compare c_warning=$'\e[33m' vs c_warning=$( tput setaf 3 )
[16:31:56] <earnestly> kurahaupo: (Also, tput isn't portable)
[16:32:13] <lopid> \e[33m tells me nothing. setaf does
[16:33:45] <earnestly> lopid: It's a shame tput can't compose, such as tput setaf 1 bold to produce \e[1;30m.  Instead it would be \e[1m\e[30m
[16:34:11] <kurahaupo> lopid: but then consider: printf %s\\n "$start_warning""There is a problem in the $start_emphasis$thingy$end_emphasis, please check the log.$end_warning"
[16:34:13] <lopid> "tput setaf red" would be nice
[16:34:42] <earnestly> lopid: You could implement that perhaps, tput isn't portable outside of 'clear, init and reset'
[16:35:19] <earnestly> zsh has named variables for this too
[16:35:46] <kurahaupo> let's see how you set the value of end_emphasis so that it will work properly in that context, using tput (or indeed anything based on termcap or terminfo)
[16:35:56] *** Parts: lucifer (sid308373@id-308373.brockwell.irccloud.com) ()
[16:36:06] <earnestly> If you enable parsing of prompt escapes then %F{cyan}%f works
[16:36:29] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[16:36:52] <kurahaupo> earnestly: just as long as I can write $colour_for_foo instead of cyan
[16:37:05] <lopid> just saying that the syntax of a command that is a form of english is more informative to me than one that's just a sequence of hitherto unknown characters
[16:37:16] <earnestly> kurahaupo: printf %s\\n "$(warning There is a problem in "$(emph "$thingy")", please ...)" :p
[16:37:30] <kurahaupo> Arg, subshells
[16:37:45] <earnestly> Yeah but I don't mind it for this as it's typically not a hot path
[16:37:54] <kurahaupo> Thats literally 100× slower
[16:38:11] <earnestly> And I don't disregard making sure the hot paths are fast, and they can be
[16:39:09] <earnestly> The warning wouldn't need to be printf'd of course, it would be warn() { ... printf ... >&2; }
[16:39:30] <kurahaupo> earnestly: but even assuming I didn't mind the cost, you still can't write THOSE functions by using tput
[16:39:59] *** Joins: sol-86 (~pc@2a02:c7f:44e3:8e00:c26a:ebe7:aea:417e)
[16:40:08] <earnestly> And what I like to do is expose printf's DSL inside my error and warn functions so that I could do warm 'Message \033[...m%s\033[0m ...\n' "$message"
[16:40:19] <earnestly> Ah yeah, I wouldn't use tput
[16:40:30] *** Quits: node1 (~node1@user/node1) (Read error: No route to host)
[16:40:49] *** Joins: node1 (~node1@user/node1)
[16:41:06] *** Quits: audiocat (~audio@2603-8081-1800-0062-ecd4-8032-b7c7-1227.res6.spectrum.com) (Ping timeout: 240 seconds)
[16:42:03] *** Quits: downunder (~downunder@110.151.120.49) (Quit: WeeChat 3.2)
[16:42:29] <twkm> ewww.  but anyway, bash's %b?
[16:48:50] *** Quits: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970) (Ping timeout: 252 seconds)
[16:49:43] <kurahaupo> Terminfo (and therefore tput) has no concept of attributes that can be independently turned on and off, only attributes that can be accumulated, and then all turned off at once.
[16:49:44] <kurahaupo> That just such a bad mismatch when everything else we do has bracketed open+close, that I think it's high time we abandoned the pretense that it's still useful. We should reserve using TERM just for telling the differences between Xterm & Konsole, and quit trying to use it where it doesn't improve portability.
[16:50:27] <kurahaupo> (two terminals picked as random examples, not an exhaustive list)
[16:51:19] <kurahaupo> That would cover every terminal built since 1982 as long as it's placed into ANSI mode.
[16:51:27] *** Quits: ByteSlayer (~byteslaye@user/byteslayer) (Quit: That's about it, see ya)
[16:53:06] *** Joins: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie)
[16:54:21] *** Quits: paruh (~paruh@92.60.39.18) (Quit: paruh)
[16:56:57] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 265 seconds)
[16:57:39] *** Joins: thiras (~thiras@user/thiras)
[17:03:54] *** Quits: iconz (~iconz@2a02:c7d:f45b:2100:8e8d:28ff:fe2c:403e) (Ping timeout: 264 seconds)
[17:07:37] <pj> just to verify that this should work properly, I want all stdout and stderr output to get copied to a particular log file, but I also want to be able to explicitly just output to stdout or stderr without having it go to the log file.  Should this work?  exec 3>&1 4>&2 > >(tee -a /path/to/log/file) 2> >(tee -a /path/to/log/file >&2)
[17:09:13] <geirha> yes, though the output may not be in sync
[17:09:36] <pj> yeah, I get that, due to tee being backgrounded, though I doubt it will have very much effect.
[17:12:01] <kurahaupo> I think I would do something more like: exec 3>>logfile 4>&1 5>&2 > >( tee /dev/fd/3 >&4 ) 2> >( tee /dev/fd/3 >&5 )
[17:12:38] <twkm> due to the change in destination causing an almost certain change in buffering.
[17:13:05] <kurahaupo> oh wait. Stupid Linux /dev/fd doesn't honour the flags that the original fd's were opened with. Scrub that
[17:13:23] <pj> oh, I kind fo like that, then I can explicitly output to 3 if I want it to just go to the log file as well?
[17:13:31] <pj> oh
[17:13:59] *** Joins: mikeputnam (~mikeputna@wilug/mikeputnam)
[17:14:02] <kurahaupo> I think I would do something more like: exec 3>>logfile 4>&1 5>&2 > >( tee /dev/fd/4 >&3 ) 2> >( tee /dev/fd/5 >&3 ) # fixed
[17:14:24] <kurahaupo> hmm no wait. That's still broken
[17:15:03] <pj> too bad, I like the concept
[17:15:06] <kurahaupo> If stdout of this script was redirected to append to a file, that tee would truncate it. Geeze
[17:15:15] <pj> oh, tee -a
[17:15:32] <pj> if you want it truncated then just do a truncate before the exec
[17:15:34] <twkm> it isn't like tee can tell what you're using.
[17:16:05] <kurahaupo> That would be broken the other way - forcing append when the output wasn't redirected that way. Not that most people would notice, but still technically wrong
[17:16:06] <twkm> the flags aren't on the fd so much as they are set by tee's internal fd's based on whether -a is an argument.
[17:16:16] <pj> oh
[17:16:44] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[17:17:22] <kurahaupo> Like I said, /dev/fd (and /proc/*/fd) is broken on Linux
[17:17:31] <twkm> i.e., tee doesn't care about existing "flags".
[17:18:00] <kurahaupo> twkm: Nothing99,99 cares about the existing flags of stuff in /dev/fd 
[17:18:25] <twkm> indeed.
[17:18:30] <pj> hrmmmm
[17:19:51] <pj> I guess I'll stick with my original, then
[17:21:27] <twkm> tee w/o -a open(filename[i],O_CREAT|O_TRUNC) vs w/ -a open(filename[i],O_CREAT).  doesn't matter at all that the existing "file" is another process' fd that was in append mode so what's linux to make of process b says to truncate the file even though the original process (a) said to append.
[17:23:08] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[17:23:21] <pj> so you need to be consistent and say append all around?
[17:23:21] <kurahaupo> exec 3> >( cat ) 4> >( cat >&2 ) 5>> logfile > >( tee /dev/fd/3 >&5 ) 2> >( tee /dev/fd/4 >&5 ) # finally solved it
[17:24:06] <kurahaupo> pj: Append mode will screw up if you actually want to write into the middle of a file, such as a database
[17:24:22] <pj> it's a log file, I just want to append
[17:24:46] <kurahaupo> pj: Append mode doesn't just mean "start writing at the end of a file", it means "always write at the end of the file"
[17:25:20] <kurahaupo> pj: it wasnt the log file I was worried about. It was your original stdout & stderr
[17:26:45] <kurahaupo> using cats forces all the fd's to be fifos and so insensitive to whether they're opened for append or truncate
[17:26:48] <pj> so it can cause issues if I have a command that does something like: cmd | parsing_cmd | do_something_with_output ?
[17:26:59] *** Joins: cdown_ (~cdown@89.32.122.5)
[17:27:24] *** Quits: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie) (Ping timeout: 265 seconds)
[17:28:05] *** Quits: przemoc (~przemoc@user/przemoc) (Ping timeout: 272 seconds)
[17:28:36] <kurahaupo> It causes issues if you've literally redirected to a file, NOT in append mode, and the program assumes it can rewind() and start writing over the beginning of that output. (Not overwrite your log, just the processed output file.)
[17:28:47] *** Quits: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net) (Quit: Client closed)
[17:29:03] <kurahaupo> I imagine something that generates ZIP files would be troubled by this
[17:29:17] <kurahaupo> since those have to be written out of order
[17:30:19] *** Quits: lucerne (~lucerne@ip202.ip-51-178-215.eu) (Quit: Bye)
[17:30:52] *** Quits: chrysanthematic (~chrysanth@user/chrysanthematic) (Quit: chrysanthematic)
[17:31:18] *** Joins: lucerne (~lucerne@ip202.ip-51-178-215.eu)
[17:31:41] <kurahaupo> Imagine the case where your script is called by another program that generates a ZIP file, and arranges for stdout to be positioned in the output zip file at the right location. If your script magically switches to append mode, it's going to write to the wrong part of the zip file
[17:31:43] <pj> well, tbh I'm completely lost here ... why would stdout affect zip file writing at all?  The program that writes the zip file is either going to open a completely separate fd for it or it will send to it's stdout and that will be redirected right away to a different fd, or is that the case where it can get mucked up?
[17:32:03] <pj> oh, I see
[17:32:16] <pj> you're saying if my program's output is sent to zip?
[17:32:23] <kurahaupo> yes
[17:32:52] <kurahaupo> I'll admit that's pretty farfetched, but possible in theory
[17:33:04] *** Joins: cliluw (~cliluw@47.147.80.149)
[17:33:32] <pj> yeah, i would say so, especially since my script is writing it's own log and the only way I could see someone doing that is if they want to write to a log file themselves...
[17:33:33] <pj> but ...
[17:33:35] <kurahaupo> For a start, The zip builder would have to be operating in "no compression" mode for such pass-through to make any sense
[17:33:58] <pj> what about if my script is run remotely via ssh, could ssh cause problems with that?
[17:34:27] *** Quits: lemurp (~lemurp@cm-84.214.104.84.getinternet.no) (Ping timeout: 244 seconds)
[17:34:35] <pj> if so, that's not as far fetched.
[17:34:48] <kurahaupo> sockets & ptys  are like pipes, insensitive to both truncation and appending
[17:34:55] <pj> okay
[17:36:35] <pj> honestly, I don't think it will ever be a problem because the only reason I could see someone wanting to redirect the output of my script into zip (or anything similar) would be to save it into a log file, and my program is already doing that for them so they literally have no reason to redirect the output.
[17:37:20] <kurahaupo> quite true
[17:37:47] <pj> but your solution is using cat to break the append to stdout and stderr, so that flag doesn't get set on the output of the script.
[17:38:02] <pj> that makes sense, it just rubs me the wrong way because it *looks* like UUOC
[17:38:17] <kurahaupo> In practice this "please write you stuff into this file I've opened for you" entails a lot of trust between applications, so it's not something you're likely to encounter
[17:38:32] *** Quits: cliluw (~cliluw@47.147.80.149) (Ping timeout: 252 seconds)
[17:38:49] <kurahaupo> Sure does look like UUOC
[17:39:07] *** Quits: hegstal (~hegstal@2a02:c7f:7604:8a00:1e4a:1cd5:4170:e3e0) (Remote host closed the connection)
[17:39:47] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[17:41:11] <pj> but I'm mucking with it now anyways, so may as well do it right.
[17:43:44] <pj> ...and it works, output to 1 and 2 go to the console and the logfile, output to 3 and 4 just go to the console and output to 5 just goes to the logfile.
[17:45:41] *** Joins: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net)
[17:47:21] *** Joins: blue_penquin (~blue_penq@gateway/tor-sasl/bluepenquin/x-11613850)
[17:48:22] *** Joins: zebrag (~chris@user/zebrag)
[17:53:17] *** Quits: Nefertiti (~unscripte@user/unscripted) (Quit: Quitz)
[17:55:58] *** Joins: rigid (~rigid@ip4d169c7e.dynamic.kabel-deutschland.de)
[17:57:18] <rigid> does anyone have an idea why "(exec 1<>my_fifo ; ./my_reader <&1 >&2) | hexdump" ignores SIGINT? I can only SIGKILL it to quit
[17:58:06] <rigid> what i'm actually trying is piping from a fifo without exiting after EOF and no buffering
[17:59:40] <rigid> the problem is when i "cat myfile >> my_fifo" then my pipe "./my_reader < my_fifo | hexdump" just outputs the first 16 bytes of several kb. It's just when I fill the buffer that the remaining bytes are output. The above trick solves that, but blocks nastily
[18:00:59] <kurahaupo> pj: really I would go back to your version with two tees, it's just as correct
[18:03:25] <kurahaupo> rigid: Opening a FIFO for both read and write is asking to encounter a kernel bug. One end of a FIFO can be either read OR write, not both 
[18:04:17] <rigid> kurahaupo: i think it's a trick to keep the fifo open. i got it from https://unix.stackexchange.com/questions/496810/using-exec-3-to-keep-a-named-pipe-open
[18:04:30] <kurahaupo> Even if it could be satisfied, the FIFO reader would never register EOF since there was always at least one writer (itself)
[18:04:33] <rigid> i doubt it would trigger a kernel bug
[18:04:45] <rigid> yeah, that's the plan
[18:04:52] <kurahaupo> !google
[18:04:52] <greybot> Google is NOT a preferred source for learning bash, because almost all the "tutorials" and scripts out there are JUNK. Instead, ask a good question here or refer to the Guide and FAQ (see topic)
[18:04:55] <rigid> EOF quits ./my_reader otherwise
[18:05:29] <rigid> kurahaupo: so what you're saying is that the block is caused by a kernel bug?
[18:05:36] <kurahaupo> no
[18:06:04] <rigid> how else would I keep my fifo open AND disable buffering? i tried everything from tail -f to stdbuf to unbuffer... nothing works as expected
[18:06:14] <rigid> (for various raisins)
[18:07:23] <kurahaupo> More likely, the shell always catches SIGINT and then cleans up and dies. But the subshells is stuck waiting for your program to stop, while at the same time holding the open FD that prevents it from stopping
[18:07:59] <rigid> shouldn't the subshell also receive SIGINT as a subprocess?
[18:08:06] <kurahaupo> You want the exec to hold the fifo open in the "main" script, not in a transient subshell
[18:08:10] <twkm> the source is buffering since stdout is not to a terminal.  you say you tried x, y, and z but you didn't say where you tried them.
[18:08:20] <rigid> an open FD shouldn't cause SIGINT to be ignored
[18:08:35] <kurahaupo> that's my point. It gets SIGINT, and then gets stuck during the cleanup
[18:08:58] <rigid> twkm: what do you mean with "where"?
[18:09:17] <twkm> did you unbuffer cat?
[18:09:28] <twkm> did you stdbuf cat?
[18:09:30] <kurahaupo> Btw, why are you opening fd 1 as the fifo? fd 0 would seem more useful
[18:09:35] *** Quits: lavaball (felix@31.204.155.215) (Quit: lavaball)
[18:09:57] <rigid> ah, i basically tried every combination. yes, i used stdbuf and unbuffer on every element of my pipe (and every single one in all possible combinations)
[18:10:13] <rigid> stdbuf -i0 -o0 -e0 to be exact
[18:10:43] <twkm> then later you have my_reader that'll be buffering because it is writing to a pipe.  so did you use stdbuf or unbuffer with it too?
[18:12:21] <kurahaupo> You need to be really careful that ONLY the shell holds both ends of the fifo open, and that other processes get just one end and not the other
[18:12:34] <kurahaupo> Including subshells
[18:12:49] <twkm> you effectively have ''src | filt | sink'' where both src and filt will buffer since their stdout isn't the terminal, so both need to be faked into thinking the pipe is actually a terminal such that they stop buffering.
[18:13:00] <rigid> I tried without my_reader as well. One basic example I tried that didn't work but should: "stdbuf -o0 tail -q -z -f my_fifo | stdbuf -i0 hexdump" and "cat multi_kb_file >> my_fifo"
[18:13:13] <twkm> you failed to unbuffer cat.
[18:13:32] <rigid> but cat is exiting? the buffer is flushed upon exit
[18:13:35] <rigid> or isn't it?
[18:13:40] *** Joins: metal_egg (~the_egg@pool-72-94-145-43.phlapa.fios.verizon.net)
[18:13:44] <ormaaj> I have a FIFO I'm looking at right now and it isn
[18:13:55] <twkm> when it manages to exit, yes.
[18:13:58] <ormaaj> 't having any of those problems. RTFM https://www.teledynedefenseelectronics.com/e2vhrel/Signal%20Chain%20Datasheets/Documents/CYP_7C419_21_25_29_33.pdf
[18:14:33] <ormaaj> never a kernel bug
[18:14:33] <rigid> yes, cat exits just fine. Only hexdump just outputs the first 16 bytes (instead of all of multi_kb_file)
[18:15:01] *** Quits: metal_egg (~the_egg@pool-72-94-145-43.phlapa.fios.verizon.net) (Client Quit)
[18:16:02] <rigid> ormaaj: are you saying hexdump outputs the full file?
[18:16:22] <kurahaupo> a long time ago, there were things called STREAMS™ (in capital letters) that includes such things as bidirectional pipes when opening a named fifo. For a while, Linux tried to emulate this by replacing it with an AF_LOCAL socket under the hood, but it depended on a special version of libc which eventually became unsupported
[18:17:05] *** Quits: julius_c (~julius_c@178.red-88-0-61.dynamicip.rima-tde.net) (Quit: Leaving)
[18:17:33] <kurahaupo> For those, opening for read-and-write have sense, but you still only had one end of the connection. So I'm puzzled by what exec <> fifo is supposed to achieve
[18:17:36] <twkm> and streams died.  (marked obscolescent in current posix)
[18:17:41] <kurahaupo> yep
[18:19:18] <ormaaj> rigid:  I dont think my literal physical FIFO has a hexdump
[18:22:01] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[18:24:19] <ormaaj> 🙃
[18:25:42] *** Quits: node1 (~node1@user/node1) (Quit: Leaving)
[18:26:05] *** Quits: malina (~malina@user/malina) (Quit: malina)
[18:26:34] *** Joins: Nefertiti (~unscripte@user/unscripted)
[18:28:31] *** Joins: howdoi (uid224@id-224.tooting.irccloud.com)
[18:28:58] *** Joins: anton (~anton@antonmcclure.com)
[18:31:33] *** Parts: sokle_68 (~sokle_68@78-204-176.adsl.cyta.gr) ()
[18:33:51] *** Joins: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie)
[18:34:27] *** Joins: cliluw (~cliluw@47.147.80.149)
[18:34:39] <kurahaupo> ormaaj:  ɹəpun uʍop ɰoɹɟ sɓuı̣təəɹɓ
[18:36:32] *** notnone is now known as at_work
[18:36:34] *** Joins: LiftLeft (~LiftLeft@154.21.114.224)
[18:38:58] *** Quits: Church (~aleph@pool-98-116-232-112.nycmny.fios.verizon.net) (Ping timeout: 272 seconds)
[18:39:21] *** Joins: lavaball (~Melissa@31.204.155.215)
[18:43:19] *** Joins: apos382 (~apos@gateway/tor-sasl/apos)
[18:44:44] *** Joins: timvisher (~user@pool-71-185-46-228.phlapa.fios.verizon.net)
[18:45:22] *** Quits: cliluw (~cliluw@47.147.80.149) (Read error: Connection reset by peer)
[18:46:16] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Ping timeout: 252 seconds)
[18:46:24] *** apos382 is now known as apos
[18:48:35] *** Joins: apos382 (~apos@gateway/tor-sasl/apos)
[18:51:26] *** Parts: sol-86 (~pc@2a02:c7f:44e3:8e00:c26a:ebe7:aea:417e) ()
[18:51:46] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Ping timeout: 252 seconds)
[18:53:31] *** Joins: zeden (~zeden@user/zeden)
[18:53:34] *** Quits: blue_penquin (~blue_penq@gateway/tor-sasl/bluepenquin/x-11613850) (Remote host closed the connection)
[18:54:10] *** Quits: LuKaRo (~LuKaRo@p4fc3397d.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[18:54:11] <ormaaj> http://wiki.zeromq.org/bindings:bash
[18:55:31] <twkm> "binding"
[18:55:36] *** Joins: apos123 (~apos@gateway/tor-sasl/apos)
[18:55:37] *** Quits: apos382 (~apos@gateway/tor-sasl/apos) (Ping timeout: 252 seconds)
[18:55:44] <ormaaj> yeah pretty crap
[18:55:47] *** Joins: ByteSlayer (~byteslaye@user/byteslayer)
[18:55:47] *** apos123 is now known as apos
[18:58:38] *** Joins: apos382 (~apos@gateway/tor-sasl/apos)
[18:58:53] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 268 seconds)
[18:59:27] *** Quits: apos382 (~apos@gateway/tor-sasl/apos) (Client Quit)
[19:00:31] *** Joins: blue_penquin (~blue_penq@gateway/tor-sasl/bluepenquin/x-11613850)
[19:01:40] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Ping timeout: 252 seconds)
[19:02:09] *** Quits: blue_penquin (~blue_penq@gateway/tor-sasl/bluepenquin/x-11613850) (Client Quit)
[19:04:37] *** Joins: jfcaron (~jfcaron@ip-24-140-242-177.user.start.ca)
[19:05:10] *** Quits: mikeputnam (~mikeputna@wilug/mikeputnam) (Quit: WeeChat 2.8)
[19:06:11] *** Joins: przemoc (~przemoc@user/przemoc)
[19:11:43] *** Joins: ChmEarl (~chmearl@user/chmearl)
[19:15:40] *** Quits: mingdao_ (~mingdao@107-146-172-064.res.spectrum.com) (Quit: leaving)
[19:15:55] *** Joins: mingdao (~mingdao@wireguard/tunneler/mingdao)
[19:16:13] *** Joins: LuKaRo (~LuKaRo@p4fc323e9.dip0.t-ipconnect.de)
[19:21:55] *** Quits: LuKaRo (~LuKaRo@p4fc323e9.dip0.t-ipconnect.de) (Ping timeout: 265 seconds)
[19:22:26] *** Joins: LuKaRo_ (~LuKaRo@p4fc32257.dip0.t-ipconnect.de)
[19:23:12] *** Joins: ferdna (~ferdna@user/ferdna)
[19:26:35] *** Quits: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net) (Quit: Client closed)
[19:27:19] *** Joins: reset (~reset@user/reset)
[19:27:46] *** Joins: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net)
[19:27:46] *** Quits: Adois (~Adoi@user/adoi) (Quit: Leaving)
[19:28:41] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Remote host closed the connection)
[19:29:20] *** Joins: Liblx (~Alex@ip4d15ff03.dynamic.kabel-deutschland.de)
[19:29:24] *** Joins: malina (~malina@user/malina)
[19:29:32] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[19:31:03] *** Quits: Liblx (~Alex@ip4d15ff03.dynamic.kabel-deutschland.de) (Client Quit)
[19:34:37] *** Joins: karakedi (~eAC53C340@user/karakedi)
[19:36:12] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[19:38:58] <mingdao> test
[19:39:10] *** Quits: LuKaRo_ (~LuKaRo@p4fc32257.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[19:39:15] *** Joins: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr)
[19:39:25] <twkm> fail.
[19:39:30] *** Joins: Distemper (harry@2a01:7e00::f03c:91ff:fe6c:8379)
[19:40:14] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[19:40:31] *** Joins: thib (~thib@wikimedia/Thibaut120094)
[19:40:37] <mingdao> Sometime overnight there must have been some netsplit and I was mingdao_  When I issued /nick mingdao   I got a message in Status that I couldn't change nicks while banned from #bash, so I just /quit an ran irssi again.
[19:41:00] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Remote host closed the connection)
[19:41:03] <mingdao> twkm: I query you for help and you didn't reply, so I /quit and started irssi again.
[19:41:21] <mingdao> I guess there's something in #bash that banned me because I'm a bad nick when I have a tail?
[19:41:39] <mingdao> This never happened on FreeNode.
[19:41:52] <pj> kurahaupo: thanks
[19:42:22] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 252 seconds)
[19:42:40] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[19:43:41] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Remote host closed the connection)
[19:43:42] *** Joins: Nact (~l@host-85-27-121-83.dynamic.voo.be)
[19:43:52] *** Joins: LuKaRo (~LuKaRo@p4fc322c8.dip0.t-ipconnect.de)
[19:44:07] <twkm> i see no message from you.  "banned" can also mean you are in a channel with cmode +q $~a (like this one) -- identify or part until you are done.
[19:45:05] <mingdao> I'll query you the log.
[19:45:16] <twkm> in general people "group" their alternative nicknames so they can identify as themself.
[19:45:36] <Distemper> Hey all, just catching up with the latest. I was a regular on here before but when I realised I couldn't connect to irc.freenode.net I'm pretty confused on what's been happening
[19:45:54] <mingdao> Yes, I had several in FreeNode; just didn't maintain that with the change.  Thanks, I'll look into it when I get a round tuit.
[19:46:25] <mingdao> twkm: Do you not see the msg now?
[19:46:40] <mingdao> 10:15:17 ::: Irssi: Starting query in liberachat with twkm
[19:46:41] <twkm> i did not see any of that.  hmm, i seem to be +R which i think blocks non-identified messages.
[19:46:48] <mingdao> You probably have me blocked.
[19:46:56] <mingdao> mingdao (+RZi)
[19:47:04] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[19:47:22] <mingdao> What does "non-identified messages" mean?
[19:47:46] <Soliton> messages from non-identified clients.
[19:47:57] <twkm> you probably had not identified to nickserv, thus the ircd didn't forward your msg.
[19:48:06] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Remote host closed the connection)
[19:48:26] <Soliton> Distemper: freenode was taken over. this is what freenode used to be.
[19:48:36] <mingdao> I am identified now and you don't seem to see them.  Think that might not be it.
[19:48:39] <mingdao> mingdao [~mingdao@wireguard/tunneler/mingdao]
[19:48:51] <twkm> i see it.  i feel it is pointless though.
[19:49:45] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[19:50:09] <Distemper> Soliton: thanks for explaining
[19:50:10] <twkm> reply privately and publically, yes it does seem pointless.
[19:50:32] *** Quits: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr) (Ping timeout: 244 seconds)
[19:52:58] <mingdao> I see the gaslighting and gateguarding transferred from FreeNode easily.
[19:53:04] <twkm> i've no idea why you can't connect to freenode Distemper, as the network accepts connections.
[19:53:10] *** Joins: yupeak (~yupeak@S010664777dacc633.vc.shawcable.net)
[19:53:37] <Distemper> Tried to connect to irc.freenode.net but no luck
[19:53:50] <Distemper> Then my friend said everything got moved over to irc.libera.chat
[19:53:59] <Distemper> So here I am
[19:54:10] <twkm> not true, but there's a #bash here so all turns out fine.
[19:54:22] *** Joins: richardm75 (~richardm7@2600:8801:c502:c800:b9a0:150f:241c:9cdc)
[19:55:01] *** Quits: richardm75 (~richardm7@2600:8801:c502:c800:b9a0:150f:241c:9cdc) (Client Quit)
[19:55:06] *** Joins: agentgasmask_ (~agentgasm@user/superboot)
[19:55:07] <Distemper> Any input from greycat though? I assume this is where he prefers to split to
[19:55:50] <ormaaj> s/moved/recreated . The only thing that moved are (some of) the people.
[19:56:16] <Distemper> So this is still the freenode networ
[19:56:18] <Distemper> k
[19:56:28] <ormaaj> no
[19:56:32] <Distemper> >_<
[19:56:41] <Soliton> this is run by former freenode staff.
[19:57:03] <ormaaj> new network. same staff
[19:57:05] *** Joins: Church (~aleph@pool-98-116-232-112.nycmny.fios.verizon.net)
[19:57:15] <Distemper> Got it
[19:57:18] <twkm> and greycat and greybot are here, yes.
[19:57:24] <Distemper> Thank you twkm 
[19:57:30] <Distemper> Is ##c still here too?
[19:57:33] <mingdao> Distemper: https://libera.chat/
[19:58:11] <ormaaj> most channels aren't using ##
[19:58:13] <mingdao> There are posts all over the www about Andrew Lee and FreeNode.
[20:00:06] *** Joins: eqw (~eqw@31.134.178.99)
[20:01:46] <Distemper> I have a short attention span :P 
[20:01:50] <Distemper> Anyway, sorry, I'll read up on it
[20:02:16] *** Quits: rigid (~rigid@ip4d169c7e.dynamic.kabel-deutschland.de) (Changing host)
[20:02:16] *** Joins: rigid (~rigid@user/rigid)
[20:02:56] *** Quits: dub_a (~dub_a@2601:1c2:4e00:3b3::cb2) (Ping timeout: 244 seconds)
[20:03:00] *** Quits: timvisher (~user@pool-71-185-46-228.phlapa.fios.verizon.net) (Ping timeout: 252 seconds)
[20:04:09] <Distemper> !b1
[20:04:09] <greybot> bashphorism 1: the questioner's first description of the problem/question will be misleading.
[20:04:18] <Distemper> !xy
[20:04:18] <greybot> http://mywiki.wooledge.org/XyProblem -- "I want to do X, but I'm asking how to do Y..."
[20:07:47] *** Joins: julius_c (~julius_c@178.red-88-0-61.dynamicip.rima-tde.net)
[20:08:05] <twkm> as usual, keep a measure of salt (skepticism) handy.
[20:16:40] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[20:17:06] *** Joins: eoc (~pc@user/eoc)
[20:20:20] <eoc> if tehre a posix way to check if file1 has any content that file2 doesnt have? i only want to be warned if content is changed or deleted, not added
[20:20:48] <eoc> s/if tehre/is there/
[20:20:49] <geirha> cmp(1)
[20:21:31] <geirha> and combined with dd, probably, for detecting the added case
[20:22:42] *** Quits: andrzejv (~andrzejv@78-56-77-187.static.zebra.lt) (Remote host closed the connection)
[20:23:04] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[20:23:10] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[20:24:24] <twkm> added is changed.  how do you mean changed but not added?
[20:24:37] *** Joins: andrzejv (~andrzejv@78-56-77-187.static.zebra.lt)
[20:26:46] <eoc> only _added_ lines, not changed/deleted lines
[20:26:59] <eoc> guess i have to hack it
[20:27:16] <geirha> oh, line based, then perhaps awk
[20:27:40] <twkm> cmp is good for "exactly the same".  not for a\nb\nc ==~ a\nc\nb.
[20:27:49] *** Quits: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie) (Ping timeout: 258 seconds)
[20:28:38] <twkm> (the same even if reordered)
[20:28:59] <mingdao> diff won't do it?
[20:29:18] <twkm> not in a true/false way.
[20:29:22] <mingdao> diff -Naur file1 file2
[20:29:47] <geirha> They wanted POSIX
[20:30:02] <mingdao> diff is not?
[20:30:13] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Remote host closed the connection)
[20:30:17] <geirha> it is, but not -N and -a
[20:30:21] <geirha> also not sure why you'd include -r
[20:30:40] <twkm> check if suggests sie wants: if somecheck file1 file2; then : nothing added; else : stuff added; fi
[20:30:47] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[20:32:23] <earnestly> geirha: Naur is aux
[20:32:45] <mingdao> good point old habit
[20:32:56] <geirha> ah
[20:33:32] <mingdao> I was taught 20 years ago to use -Naur for a unified diff and never questioned it.
[20:34:17] <twkm> the -u provides that, and is posix.
[20:34:26] <mingdao> That's actually exactly what `svn diff` in our company repo uses, so I use it many times a day.
[20:37:31] *** Joins: bn_work (uid268505@id-268505.highgate.irccloud.com)
[20:39:45] <mingdao> `svn help diff` is quite enlightening; never read it before
[20:42:42] *** Joins: timvisher (~user@pool-71-185-46-228.phlapa.fios.verizon.net)
[20:43:55] <Distemper> twkm: are you not on the C channel anymore? I thought you were a regular there as well as good C programmer
[20:44:05] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[20:44:46] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[20:44:47] <twkm> i am there.
[20:45:16] <Distemper> My bad, I was on ##c 
[20:47:59] *** Quits: timvisher (~user@pool-71-185-46-228.phlapa.fios.verizon.net) (Ping timeout: 265 seconds)
[20:48:17] *** Quits: livinskull (~livinskul@ircb.hackthe.codes) (Quit: 418 I'm a teapot)
[20:48:32] *** Joins: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970)
[20:48:45] *** Joins: chrysanthematic (~chrysanth@user/chrysanthematic)
[20:49:57] *** Quits: chrysanthematic (~chrysanth@user/chrysanthematic) (Client Quit)
[20:50:10] *** Joins: particleflux_ (~particlef@ircb.hackthe.codes)
[20:52:01] *** particleflux_ is now known as particleflux
[20:52:30] *** particleflux is now known as Guest7886
[20:53:54] *** Joins: chrysanthematic (~chrysanth@user/chrysanthematic)
[20:53:57] *** Guest7886 is now known as particleflux
[21:00:05] <agentgasmask_> Is there a way to have bash concatinate a script? Much like "cat script.sh", but include the contents of any sourced (or dot-included) scripts refferenced inside the main one?
[21:00:32] *** Joins: dub_a (~dub_a@2601:1c2:4e00:3b3::cb2)
[21:01:38] <twkm> any way, sure.  easy way, no.
[21:02:23] *** Joins: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie)
[21:04:41] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[21:04:43] *** Quits: adhd_viking (~vikking@70-59-200-104.clsp.qwest.net) (Remote host closed the connection)
[21:05:09] *** Joins: Cleverness (~clevernes@pool-100-2-45-18.nycmny.fios.verizon.net)
[21:07:35] *** Quits: phillbush (~phillbush@user/phillbush) (Quit: Leaving)
[21:09:13] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 258 seconds)
[21:11:11] *** Quits: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431) (Ping timeout: 252 seconds)
[21:13:58] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[21:28:07] *** Quits: mesaboogie (mesaboogie@user/mesaboogie) (Ping timeout: 272 seconds)
[21:34:03] *** Joins: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431)
[21:40:26] *** Joins: mesaboogie (~mesaboogi@user/mesaboogie)
[21:41:49] *** Joins: mesa (mesaboogie@user/mesaboogie)
[21:44:07] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[21:44:27] *** Quits: rendar (~rendar@user/rendar) ()
[21:44:52] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 268 seconds)
[21:45:31] *** Quits: mesaboogie (~mesaboogi@user/mesaboogie) (Killed (NickServ (GHOST command used by mesa!mesaboogie@user/mesaboogie)))
[21:46:40] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Client Quit)
[21:47:04] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[21:49:06] *** Quits: superboot (~agentgasm@user/superboot) (Killed (zinc.libera.chat (Nickname regained by services)))
[21:49:06] *** agentgasmask_ is now known as superboot
[21:49:24] *** Joins: agentgasmask_ (~agentgasm@user/superboot)
[21:55:34] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Read error: Connection reset by peer)
[21:56:27] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[21:57:43] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 268 seconds)
[21:59:34] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[22:03:58] *** Joins: thiras (~thiras@user/thiras)
[22:05:50] *** Joins: t0kie (~t0kie@user/t0kie)
[22:09:27] <superboot> Is there a way to return two levels, like break 2 does for loops?
[22:09:27] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:09:36] <superboot> (so, for functions?)
[22:09:47] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Ping timeout: 258 seconds)
[22:09:49] <twkm> nope.
[22:11:00] *** Quits: chrysanthematic (~chrysanth@user/chrysanthematic) (Quit: chrysanthematic)
[22:12:58] *** Quits: agentgasmask_ (~agentgasm@user/superboot) (Quit: leaving)
[22:14:53] *** Quits: Cleverness (~clevernes@pool-100-2-45-18.nycmny.fios.verizon.net) (Quit: Leaving)
[22:18:27] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[22:18:34] *** Quits: t0kie (~t0kie@user/t0kie) (Quit: Leaving)
[22:20:48] <superboot> Ok, thanks.
[22:21:22] <twkm> sure.
[22:21:33] <superboot> I saw someone say the other day that if [ $? == 0 ]; then ...   is bad. How about [[ $? == 0 ]]?
[22:21:43] <superboot> aka, [ vs [[
[22:23:42] <superboot> Seems legit to me. 
[22:24:26] <Soliton> either is useless since if already checks $?.
[22:24:26] <geirha> ![$?
[22:24:27] <greybot> Don't do this: ``mycommand; if [ $? -eq 0 ]'' -- You're running the [ command and checking its exit code to test whether "mycommand"'s exit code is 0. That's a pointless operation, test mycommand directly: ``if mycommand''
[22:28:14] <twkm> now if you were testing for different values i'd suggest you use (( rather than [ or [[, though some would use case.
[22:28:59] <superboot> geirha: Yes, that was it. Thank you. 
[22:29:36] <superboot> twkm: I have something like ssh HOST command-to-run; if [[ $? == 0 ]]; then ...; else ...; fi 
[22:29:42] <superboot> Any warnings?
[22:29:55] <twkm> if ssh host command; then ...
[22:30:58] <twkm> (just like the factoid geirha triggered shows)
[22:32:19] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 252 seconds)
[22:36:41] *** Joins: aj_ (~aj@195.181.174.89)
[22:39:24] *** Quits: kurahaupo (~kurahaupo@14-203-145-223.static.tpgi.com.au) (Read error: Connection reset by peer)
[22:40:04] *** Joins: kurahaupo (~kurahaupo@14-203-145-223.static.tpgi.com.au)
[22:43:09] *** Joins: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr)
[22:43:58] *** Joins: timvisher (~user@pool-71-185-46-228.phlapa.fios.verizon.net)
[22:46:28] *** mesa is now known as mesaboogie
[22:47:49] *** Joins: wootehfoot (~wootehfoo@c-772e524e.032-69-6762675.bbcust.telenor.se)
[22:48:07] *** Quits: howdoi (uid224@id-224.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[22:48:44] *** Quits: timvisher (~user@pool-71-185-46-228.phlapa.fios.verizon.net) (Ping timeout: 252 seconds)
[22:49:47] *** Quits: Enissay (~Enissay@user/enissay) (Quit: WeeChat 3.0)
[22:50:57] *** Joins: Enissay (~Enissay@user/enissay)
[22:51:18] *** Joins: wwilly_ (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net)
[22:53:42] *** Quits: Gamma (~Gamma@zsh/user/Gamma) (Remote host closed the connection)
[22:54:06] *** Joins: Gamma (~Gamma@zsh/user/Gamma)
[22:54:39] *** Quits: wootehfoot (~wootehfoo@c-772e524e.032-69-6762675.bbcust.telenor.se) (Quit: Leaving)
[22:54:59] *** Quits: wwilly (~wwilly@217.140.99.251) (Ping timeout: 244 seconds)
[22:58:34] *** Joins: wootehfoot (~wootehfoo@c-772e524e.032-69-6762675.bbcust.telenor.se)
[22:59:56] *** Quits: wootehfoot (~wootehfoo@c-772e524e.032-69-6762675.bbcust.telenor.se) (Changing host)
[22:59:56] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[23:04:24] *** Joins: ormaaj2 (~ormaaj2@2602:61:74b4:1300::bca)
[23:05:04] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[23:08:06] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[23:11:07] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 258 seconds)
[23:12:18] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[23:14:59] *** Joins: Adoi (~Adoi@user/adoi)
[23:15:37] *** Joins: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[23:16:37] *** Quits: elf_fortrez (~elf_fortr@adsl-64-237-239-58.prtc.net) (Ping timeout: 246 seconds)
[23:19:33] *** Joins: timvisher (~user@pool-71-185-46-228.phlapa.fios.verizon.net)
[23:19:36] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[23:22:54] *** Joins: chrysanthematic (~chrysanth@user/chrysanthematic)
[23:24:35] *** Quits: timvisher (~user@pool-71-185-46-228.phlapa.fios.verizon.net) (Ping timeout: 265 seconds)
[23:26:42] *** Joins: willyg_cos (~joeuser@user/willyg-cos/x-4994202)
[23:27:25] *** Quits: malina (~malina@user/malina) (Quit: malina)
[23:28:44] *** Joins: aramtsamtsam (~Thunderbi@2001:861:388a:5600:a00:5cff:ee34:76b)
[23:30:08] *** Joins: pooby (~pooby@167.99.100.8)
[23:31:28] *** Quits: aramtsamtsam (~Thunderbi@2001:861:388a:5600:a00:5cff:ee34:76b) (Client Quit)
[23:33:34] *** Joins: magla (~gelignite@55d45fb8.access.ecotel.net)
[23:39:07] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[23:42:09] *** Joins: xad213 (~xad213@2a02:560:4129:c300:6f9b:cb6:6949:c79c)
[23:45:35] *** Quits: willyg_cos (~joeuser@user/willyg-cos/x-4994202) (Quit: Gone.)
[23:45:54] *** Quits: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr) (Ping timeout: 264 seconds)
[23:47:46] *** Joins: sol-86 (~pc@2a02:c7f:44e3:8e00:c26a:ebe7:aea:417e)
[23:48:02] *** Parts: sol-86 (~pc@2a02:c7f:44e3:8e00:c26a:ebe7:aea:417e) ()
[23:51:48] *** Quits: simbioz (~simbioz@user/simbioz) (Ping timeout: 268 seconds)
[23:52:28] *** Joins: simbioz (~simbioz@user/simbioz)
[23:57:56] *** Quits: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie) (Ping timeout: 265 seconds)
[23:58:33] *** Joins: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie)
[23:59:14] *** Quits: samhain (~samhain@user/samhain) (Quit: ZNC - https://znc.in)
[23:59:56] *** Quits: dorp (~dorp@93-172-1-206.bb.netvision.net.il) (Read error: Connection reset by peer)
