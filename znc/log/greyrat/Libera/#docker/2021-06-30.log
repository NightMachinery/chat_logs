[00:11:25] *** Quits: vincent- (~vincent-@cpc87559-seve28-2-0-cust94.13-3.cable.virginm.net) (Quit: Leaving)
[00:15:43] *** Quits: arinov_ (~arinov@95.70.154.214) (Ping timeout: 256 seconds)
[00:22:49] *** Quits: mihael (~mihael@2001:4454:2ac:7100:e03e:3b80:2599:eced) (Ping timeout: 246 seconds)
[00:28:31] <Lutin> artok any results ?
[00:32:09] *** Parts: nedbat (~nedbat@python/psf/nedbat) (Textual IRC Client: www.textualapp.com)
[00:34:37] *** Joins: lithium (~lithium@user/lithium)
[00:36:30] *** Quits: neilhwatson (~neilhwats@2001:470:b34d:0:7e06:1e8f:5e96:e4eb) (Quit: Client closed)
[00:45:13] *** Quits: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com) (Quit: Haxxa flies away.)
[00:46:37] *** Joins: adept (~adept@cpc86002-ware7-2-0-cust162.9-1.cable.virginm.net)
[00:46:46] *** Joins: Ryu945 (~Ryu945@154.3.251.91)
[00:47:36] *** Joins: Haxxa (~Haxxa@122-199-59-136.ip4.superloop.com)
[00:47:45] <artok> pinging docker container wireguard peer right now 
[00:48:11] <adept> hi! If I am faced with a docker setup on the linux host with btrfs filesystem, and a path like btrfs/subvolumes/2068a0725626b011019dc8ef529f169764394f7974d18adacd3d1c0bf211a856/usr/lib/inkscape/libinkscape_base.so - how can I figure out, which image, container or volume this corresponds to?
[00:48:39] <adept> file got corrupted, and I want to redownload the image/recreate the affected container
[00:50:42] *** Quits: lithium (~lithium@user/lithium) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:55:07] <Lutin> artok peer ? as in the IP of the client subnet on the WG side ? so client GW ?
[00:59:55] *** Joins: liefer (~liefer@user/liefer)
[01:00:02] <devslash> has anyone here used the mailinabox image ?
[01:02:03] <Lutin> devslash to be honest... non of them is good, only mailu is professional
[01:02:39] <devslash> is that free 
[01:04:05] <Lutin> yes
[01:04:54] <devslash> is https://hub.docker.com/r/mailu/postfix the right image to use ?
[01:07:11] *** Quits: ottobackwards (~Otto@pool-100-0-215-24.bstnma.fios.verizon.net) (Ping timeout: 268 seconds)
[01:08:34] *** Joins: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au)
[01:17:43] <Lutin> devslash no mailu needs all... just go to their website mailuio
[01:17:51] <Lutin> *mailu.io
[01:18:17] <devslash> ok but you can install it as a docker image right ?
[01:18:38] <Lutin> artok if you see this: RTNETLINK answers: Operation not permitted" I think we need privileged mode
[01:18:48] <Lutin> devslash compose
[01:20:40] <artok> --cap-add=NET_ADMIN
[01:21:25] <devslash> Lutin, can i PM you
[01:21:43] <Lutin> devslash nope, everyone here can help you
[01:22:03] <Lutin> artok that's default in the compose example but I still have that error
[01:22:06] <devslash> for the ipv4 address can i use a FQDN or does it have to be an ip address
[01:23:08] <Lutin> devslash everything is in their docs
[01:23:21] <devslash> that doesnt answer my question....
[01:23:37] <Lutin> did you read their docs ?
[01:23:41] <devslash> yea
[01:23:46] <Lutin> do you know how mail works ?
[01:23:59] <devslash> yes
[01:25:16] *** Quits: liefer (~liefer@user/liefer) (Quit: liefer)
[01:25:24] <Lutin> so, then I don't understand your question
[01:28:34] <tabakhase> emails and docker dont rly fit in the same picture... - and if, in hostmode :/
[01:33:12] <artok> emails, where data is handled with stdout/stdin =)
[01:33:27] <Lutin> tabakhase they do... stateless services
[01:33:48] <Lutin> artok so what can you do now and what can't you ?
[01:35:05] *** Quits: Brainium (~brainium@user/brainium) (Quit: Konversation terminated!)
[01:35:10] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Ping timeout: 246 seconds)
[01:38:32] *** Quits: metah4ck3r (~meta@user/metah4ck3r) (Quit: WeeChat 3.2)
[01:42:37] *** Joins: metah4ck3r (~meta@user/metah4ck3r)
[01:46:02] <Lutin> artok can you paste the log of your container ?
[01:47:38] <devslash> lutin ok ive got mailu set up but i cannot access the admin interface
[01:48:16] <devslash> docker logs mailu_admin shows this:  Listening at: http://0.0.0.0:80 (11)
[01:48:53] *** Joins: goddard (~goddard@user/goddard)
[01:48:55] <Lutin> devslash congrats!
[01:51:06] <devslash> congrats on what exactly ? 
[01:51:14] <devslash> congrats on it not working ?
[01:57:25] <Lutin> yes ? I suppose ? I don't know what you need... pretty straight forward
[01:57:58] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[01:59:09] <devslash> ok i go to mydomain.com/admin and I am getting a 404
[02:04:52] *** Quits: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net) (Quit: -a- Connection Timed Out)
[02:16:08] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[02:19:13] <Lutin> artok you can ping containers (yet)?
[02:26:05] <Lutin> I think we lost connection with artok... his wireguard routes might be not that good as expected :D
[02:26:27] *** Joins: arinov_ (~arinov@178.240.158.75)
[02:29:22] <artok> naah
[02:30:01] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Remote host closed the connection)
[02:30:28] *** Joins: Sven_vB (~sven@user/sven-vb/x-2094958)
[02:35:21] <Lutin> artok so what can you ping ?
[02:36:54] <Lutin> also, does it start well ? What do the logs show
[02:37:31] <artok> nothing yet because I'm testing things running commands manually, dockerfile and entrypoint later on
[02:37:35] *** Quits: Ryu945 (~Ryu945@154.3.251.91) (Quit: Leaving)
[02:38:08] *** Quits: thc202 (~thc202@user/thc202) (Quit: thc202)
[02:38:31] *** Quits: jazzy (~jaziz@2600:380:8753:52bc:5137:4898:53f7:15de) (Ping timeout: 256 seconds)
[02:39:37] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[02:39:39] *** Joins: jazzy (~jaziz@2600:380:4542:186:7559:22d0:b16b:3c20)
[02:39:55] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[02:40:47] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 256 seconds)
[02:41:30] <Lutin> artok but that image should be pretty straight forward... why entrypoint ?
[02:41:45] <Lutin> why don't you run the image itself ?
[02:41:50] <Lutin> to see what happens
[02:43:06] *** Quits: vidbina (~vid@dynamic-078-054-004-137.78.54.pool.telefonica.de) (Ping timeout: 240 seconds)
[02:46:54] *** Joins: vidbina (~vid@dynamic-078-054-004-137.78.54.pool.telefonica.de)
[02:58:57] <artok> entrypoint will be the one that does configs if needed
[03:00:09] <Lutin> artok yes true but why not first check if the image works @ your end ?
[03:01:18] *** Quits: Hans-Martin (~ignore@user/hans-martin) (Quit: I'm not an expert but I play one on IRC.)
[03:04:51] <artok> eh?
[03:05:43] <Lutin> yeah just compose up it
[03:06:07] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[03:11:57] <realies> can you do multi stage builds on docker hub from a github push trigger?
[03:16:10] *** Joins: bookworm (~bookworm@neomutt/bookworm)
[03:16:59] <blaklistd> How do I forward lounge's docker to caddy's docker 443?
[03:17:09] *** Parts: bookworm (~bookworm@neomutt/bookworm) ("")
[03:17:20] <blaklistd> Public 443 > caddy docker > lounge docker 9000
[03:17:36] <Lutin> blaklistd caddy does that itself ?
[03:18:04] <blaklistd> tried, only works if caddy is installed as a service 
[03:18:14] <blaklistd> but cannot get it to work as a docker 
[03:18:38] <blaklistd> caddy as 443:443 and lounge as 9000:9000
[03:18:45] <blaklistd> compose btw
[03:18:55] <Lutin> just nope, just create an upstream
[03:19:00] <Lutin> it's in the cady readme
[03:19:03] <Lutin> caddy
[03:19:30] <blaklistd> oh
[03:19:32] <Lutin> blaklistd caddy is ment to be as a sevice
[03:19:34] <blaklistd> so not a reverse proxy?
[03:19:36] <Lutin> service
[03:19:38] <Lutin> it is
[03:19:53] <blaklistd> yea docker container as a service 
[03:20:20] <blaklistd> ok yep i did specify the upstream 
[03:20:27] <blaklistd> http://127.0.0.1:9000
[03:20:54] <blaklistd> reverse_proxy http://127.0.0.1:9000
[03:21:17] <Lutin> no need for the 127.0.0.1
[03:21:26] <Lutin> just make a label
[03:21:45] <Lutin> caddy.reverse_proxy: "{{upstreams 9000}}"
[03:22:07] <Lutin> and also caddy: host.domain.tld
[03:22:30] <blaklistd> in the compose yml?
[03:22:53] <blaklistd> or caddyfile?
[03:23:10] <blaklistd> excuse me please, I'm noob
[03:24:05] <Lutin> no compose
[03:24:11] <Lutin> read the whoami example
[03:24:17] <blaklistd> ok thanks 
[03:24:41] <Lutin> artok I don't get why cap_add: - NET_ADMIN is ignored
[03:25:02] <Lutin> BlackIkeEagle and swarm the hell out that thing!
[03:29:58] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Quit: bye)
[03:32:58] <Lutin> artok I have it running :)
[03:33:26] *** Quits: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl) (Quit: Leaving)
[03:40:41] <Lutin> is there a tool like portainer but then for cli ? I want to see some more formatted info instead of inspect
[03:42:24] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[03:42:45] <Lutin> blaklistd portainer is not that stable lately if you ask me
[03:42:46] <akik> Lutin: are you running the containers in swarm?
[03:42:53] <Lutin> akik yap
[03:43:07] <akik> Lutin: swarm doesn't support capabilities last time i checked
[03:43:28] <Lutin> akik which capabillities ?
[03:43:42] <akik> any i think. i'll try to find the info
[03:43:45] <blaklistd> Lutin: yay it worked 
[03:43:48] <blaklistd> https://github.com/lucaslorentz/caddy-docker-proxy#basic-usage-example-using-docker-compose
[03:44:09] <Lutin> blaklistd yap nice! Much better tehen traefik
[03:44:13] <Lutin> *then
[03:44:21] <akik>     Note when using docker stack deploy
[03:44:22] <akik>     The cap_add and cap_drop options are ignored when deploying a stack in swarm mode
[03:44:23] <Lutin> akik any ? 
[03:44:32] <blaklistd> but can this also proxy non docker apps?
[03:44:32] <Lutin> oh for that!
[03:44:32] <akik> that's from here: https://docs.docker.com/compose/compose-file/compose-file-v3/
[03:44:59] <Lutin> akik yes it seems so but when I deploy the stack as root, no issue
[03:45:14] <Lutin> I think portainer wasn't doing it as root, I read people had issues with that as well
[03:45:28] <Lutin> akik good one, thanks!
[03:45:32] <blaklistd> i have to look into portainer 
[03:45:40] <akik> Lutin: you can check in the container which capabilities it has
[03:45:49] <Lutin> I can sec
[03:45:59] <akik> capsh --print
[03:46:57] <akik> i meant changing the capabilities, not having them at all
[03:47:03] <Lutin>             "CapAdd": [
[03:47:03] <Lutin>                 "CAP_NET_ADMIN",
[03:47:03] <Lutin>                 "CAP_SYS_MODULE"
[03:47:03] <Lutin>             ],
[03:47:55] <Lutin> akik do you know a good tool for cli to manage swarm ? 
[03:48:05] <Lutin> I see only dry I think
[03:48:17] <akik> Lutin: not any tui kind of thing
[03:48:47] <Lutin> akik ok... I need some lazy thing... portainer is nice but not nice enough when you do cli
[03:48:56] <Lutin> but inspect is not always a thing
[03:50:05] <akik> there seems to be something for it: https://github.com/jesseduffield/lazydocker/
[03:50:47] <Lutin> I like the word lazy atm on 1:20am :D
[03:50:49] <akik> also https://github.com/skanehira/docui
[03:51:21] <akik> also https://github.com/skanehira/docker.vim
[03:51:37] <akik> no idea how they work or if they work
[03:52:17] <Lutin> akik cool thanks for looking :)
[03:53:24] *** Parts: adept (~adept@cpc86002-ware7-2-0-cust162.9-1.cable.virginm.net) (The Lounge - https://thelounge.chat)
[03:56:05] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Quit: bye)
[03:56:27] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[04:03:56] * Lutin kicks artok
[04:04:53] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 272 seconds)
[04:06:24] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[04:13:54] *** Quits: arinov_ (~arinov@178.240.158.75) (Ping timeout: 240 seconds)
[04:16:21] *** Joins: mihael (~mihael@2001:4454:2a8:9f00:c5b0:6b32:cbfe:292e)
[04:18:12] *** Joins: keypusher (keypusher@user/keypusher)
[04:21:41] *** Quits: Atum_ (~IRC@user/atum/x-2392232) (Quit: Atum_)
[04:31:05] *** Joins: iffraff (~quassel@2605:a601:aae0:4a00:db87:4fd6:ad97:495)
[04:32:52] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 244 seconds)
[04:36:18] *** Quits: iffraff (~quassel@2605:a601:aae0:4a00:db87:4fd6:ad97:495) (Ping timeout: 240 seconds)
[04:41:06] *** Joins: CombatVet (~c4@user/combatvet)
[04:42:18] *** Quits: incognito (~relativit@user/incognito) (Remote host closed the connection)
[04:47:20] *** Quits: Code_Bleu (~Code_Bleu@user/code-bleu/x-6939963) (Ping timeout: 268 seconds)
[04:50:07] *** Quits: jkwnki (~jkwnki@p4fedb101.dip0.t-ipconnect.de) (Ping timeout: 246 seconds)
[04:51:35] *** Joins: sed (~sed@pool-100-7-38-116.rcmdva.fios.verizon.net)
[04:52:42] <sed> is it normal when building an image to have multiple <none> images also?
[05:02:41] *** Joins: candyman1 (~candyman@user/candyman)
[05:04:20] *** Joins: Code_Bleu (~Code_Bleu@user/code-bleu/x-6939963)
[05:06:31] *** Quits: Sasazuka (~Sasazuka@user/sasazuka) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:13:24] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[05:14:11] *** Joins: Cleverness (~clevernes@pool-108-46-145-4.nycmny.fios.verizon.net)
[05:24:10] *** Quits: sed (~sed@pool-100-7-38-116.rcmdva.fios.verizon.net) (Quit: Leaving)
[05:29:26] <Lutin> artok ok I can't ping hosts where my wg is connected to, I think I need routes to add @ client side or so
[05:30:23] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:32:18] <Lutin> artok on WG container I can ping the host tho
[05:34:32] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Remote host closed the connection)
[05:34:40] *** Joins: vlm (~vlm@user/vlm)
[05:39:29] *** Quits: Cleverness (~clevernes@pool-108-46-145-4.nycmny.fios.verizon.net) (Quit: Leaving)
[05:44:02] *** Quits: candyman1 (~candyman@user/candyman) (Quit: No Ping reply in 180 seconds.)
[05:46:56] *** Joins: candyman1 (~candyman@user/candyman)
[05:49:04] <Lutin> artok let me know if you can figure that out :)
[05:52:41] *** Joins: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net)
[05:52:43] *** Quits: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net) (Excess Flood)
[05:56:43] *** Joins: pete443_ (~pete@user/pete443)
[05:58:16] *** Joins: vidbina_ (~vid@x4db7e147.dyn.telefonica.de)
[05:58:56] *** Quits: pete443 (~pete@user/pete443) (Ping timeout: 252 seconds)
[06:00:40] *** Quits: treethought (treethou@138.68.49.251) (Remote host closed the connection)
[06:00:48] *** Joins: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net)
[06:00:50] *** Quits: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net) (Excess Flood)
[06:01:06] *** Quits: vidbina (~vid@dynamic-078-054-004-137.78.54.pool.telefonica.de) (Ping timeout: 240 seconds)
[06:01:28] *** Joins: treethought (treethou@138.68.49.251)
[06:01:51] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Quit: bye)
[06:02:19] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[06:04:50] *** Joins: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net)
[06:04:52] *** Quits: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net) (Excess Flood)
[06:08:53] *** Joins: ctrypoph (~ctrypoph@2600:1702:3000:9090:6d7f:1c9d:1aea:24aa)
[06:08:55] *** Quits: ctrypoph (~ctrypoph@2600:1702:3000:9090:6d7f:1c9d:1aea:24aa) (Excess Flood)
[06:14:19] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Quit: bye)
[06:14:57] *** Joins: ctrypoph (~ctrypoph@2600:1702:3000:9090:6d7f:1c9d:1aea:24aa)
[06:14:59] *** Quits: ctrypoph (~ctrypoph@2600:1702:3000:9090:6d7f:1c9d:1aea:24aa) (Excess Flood)
[06:18:58] *** Joins: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net)
[06:18:59] *** Quits: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net) (Excess Flood)
[06:21:13] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[06:23:05] *** Joins: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net)
[06:23:07] *** Quits: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net) (Excess Flood)
[06:24:44] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Client Quit)
[06:26:22] *** pizza is now known as pizzaiolo
[06:26:50] *** Joins: daniel-k3 (~daniel-k@192.241.135.211)
[06:27:13] *** daniel-k3 is now known as daniel-k
[06:33:57] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[06:35:03] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Client Quit)
[06:35:42] *** Joins: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net)
[06:35:45] *** Quits: ctrypoph (~ctrypoph@99-51-11-77.lightspeed.brhmmi.sbcglobal.net) (Excess Flood)
[06:36:10] *** Joins: ctrypoph (~ctrypoph@2600:1702:3000:9090:6d7f:1c9d:1aea:24aa)
[06:36:41] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[06:37:37] *** Quits: Lutin (~Lutin@user/lutin) (Ping timeout: 258 seconds)
[06:39:44] <kevr> i'm running an external script that has package install information for my linux OS in a Dockerfile (for docker build), but it's not caching whenever I make a change somewhere else.
[06:40:18] *** Quits: ctrypoph (~ctrypoph@2600:1702:3000:9090:6d7f:1c9d:1aea:24aa) (Ping timeout: 240 seconds)
[06:43:40] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Quit: bye)
[06:44:16] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[06:46:54] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Client Quit)
[06:48:51] *** Joins: oxum (~oxum@136.185.148.86)
[06:50:27] <Tabmow> kevr: what do you mean?
[06:53:31] *** Quits: oxum (~oxum@136.185.148.86) (Ping timeout: 256 seconds)
[06:54:03] *** Quits: mihael (~mihael@2001:4454:2a8:9f00:c5b0:6b32:cbfe:292e) (Quit: Client closed)
[06:55:12] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[06:56:26] *** Joins: versageek (~versageek@wikimedia/Versageek)
[06:56:28] *** Joins: versa_gone (~versageek@32.215.132.28)
[06:56:41] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Client Quit)
[06:56:44] *** Quits: versa_gone (~versageek@32.215.132.28) (Remote host closed the connection)
[06:58:42] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[06:59:23] *** Joins: Batzy (~uberyb@user/batzy)
[07:01:18] <Batzy> https://bpa.st/EA3A hi all, i recently installed faasd and it completely broken docker. I can't connecto docker daemon anymore. I've attached a journalctl
[07:03:07] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Client Quit)
[07:03:54] <Batzy> anyway i can like...reset this
[07:04:05] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[07:05:00] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Client Quit)
[07:05:30] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[07:07:54] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Client Quit)
[07:09:07] <Batzy> ay i fixed it
[07:09:43] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[07:09:46] *** Quits: Batzy (~uberyb@user/batzy) (Quit: WeeChat 3.2)
[07:10:08] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Client Quit)
[07:11:08] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[07:11:50] *** Joins: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net)
[07:15:37] *** Quits: jazzy (~jaziz@2600:380:4542:186:7559:22d0:b16b:3c20) (Ping timeout: 256 seconds)
[07:19:00] *** Joins: jazzy (~jaziz@2600:380:4542:186:d4b:fa38:d4e3:e7e5)
[07:20:59] *** Quits: daniel-k (~daniel-k@192.241.135.211) (Remote host closed the connection)
[07:32:30] *** Quits: candyman1 (~candyman@user/candyman) (Quit: No Ping reply in 180 seconds.)
[07:34:04] *** Joins: candyman1 (~candyman@user/candyman)
[07:35:04] *** Quits: thanas (~thanas@user/thanas) (Ping timeout: 268 seconds)
[07:42:25] *** Joins: Guest79 (~Guest79@pool-100-7-38-116.rcmdva.fios.verizon.net)
[07:42:45] <Guest79> is anyone having problems with the build command lately?
[07:42:55] <Guest79> alpine updated?
[07:49:30] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Ping timeout: 240 seconds)
[07:49:59] *** pizzaiolo is now known as pizza
[07:51:07] *** candyman1 is now known as candyman
[07:51:38] *** Joins: thanas (~thanas@user/thanas)
[07:52:15] *** Quits: candyman (~candyman@user/candyman) (Quit: candyman)
[07:53:29] *** Joins: candyman (~candyman@user/candyman)
[08:04:37] *** Quits: jstoker (~jstoker@user/jstoker) (Read error: Connection reset by peer)
[08:07:57] *** Joins: jstoker (jstoker@user/jstoker)
[08:09:16] *** Quits: svm_invictvs (~svm_invic@ip72-220-162-92.sd.sd.cox.net) (Remote host closed the connection)
[08:30:53] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[08:43:41] *** Joins: setesat40 (~setesat@054340f9.skybroadband.com)
[08:44:43] *** Quits: d33cee (~decent@ip68-10-104-81.hr.hr.cox.net) (Ping timeout: 265 seconds)
[08:45:39] *** Quits: setesat4 (~setesat@054340f9.skybroadband.com) (Ping timeout: 258 seconds)
[08:45:39] *** setesat40 is now known as setesat4
[08:48:32] *** Joins: mihael (~mihael@2001:4454:2a8:9f00:c5b0:6b32:cbfe:292e)
[08:51:08] *** Quits: treethought (treethou@138.68.49.251) (Ping timeout: 272 seconds)
[09:01:24] *** Joins: treethought (treethou@138.68.49.251)
[09:11:26] *** Quits: useful_idiot (~useful_id@154.3.40.22) (Ping timeout: 252 seconds)
[09:14:34] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Ping timeout: 272 seconds)
[09:16:42] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[09:21:59] *** Quits: candyman (~candyman@user/candyman) (Ping timeout: 256 seconds)
[09:26:35] *** Joins: useful_idiot (~useful_id@154.3.42.32)
[09:27:55] *** Quits: thanas (~thanas@user/thanas) (Quit: ZNC - https://znc.in)
[09:28:50] *** Parts: mihael (~mihael@2001:4454:2a8:9f00:c5b0:6b32:cbfe:292e) ()
[09:29:51] *** Joins: thanas (~thanas@user/thanas)
[09:30:26] *** Joins: candyman (~candyman@user/candyman)
[09:37:50] *** Quits: yjftsjthsd (~yjftsjths@162.127.123.34.bc.googleusercontent.com) (Ping timeout: 252 seconds)
[09:39:15] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[09:47:22] *** Quits: Guest79 (~Guest79@pool-100-7-38-116.rcmdva.fios.verizon.net) (Ping timeout: 246 seconds)
[10:01:11] *** Joins: d33cee (~decent@ip68-10-104-81.hr.hr.cox.net)
[10:09:59] *** Joins: lithium (~lithium@user/lithium)
[10:21:42] *** Quits: RV06 (~RV@lfbn-nic-1-430-119.w90-116.abo.wanadoo.fr) (Ping timeout: 272 seconds)
[10:23:24] *** Joins: yaalon (~yaalon@189.202.78.228.cable.dyn.cableonline.com.mx)
[10:23:40] *** Quits: candyman (~candyman@user/candyman) (Ping timeout: 252 seconds)
[10:25:34] *** Quits: sebastianos (~sebastian@user/sebastianos) (Ping timeout: 268 seconds)
[10:26:33] *** Joins: sebastianos (~sebastian@user/sebastianos)
[10:31:07] *** Quits: foka (~foka@162.208.172.172) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[10:32:57] *** Joins: foka (~foka@162.208.172.172)
[10:33:45] *** Quits: sebastianos (~sebastian@user/sebastianos) (Ping timeout: 258 seconds)
[10:36:58] *** Joins: sebastianos (~sebastian@user/sebastianos)
[10:38:50] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Ping timeout: 268 seconds)
[10:39:26] *** Quits: artok (~azo@mobile-access-b0484d-108.dhcp.inet.fi) (Ping timeout: 272 seconds)
[10:43:43] *** Quits: yaalon (~yaalon@189.202.78.228.cable.dyn.cableonline.com.mx) (Remote host closed the connection)
[10:48:24] *** Joins: HaMsTeRs (~mx@14-0-158-085.static.pccw-hkt.com)
[10:53:09] *** Joins: lemonzest (~lemonzest@user/lemonzest)
[10:54:40] *** Joins: incognito (~relativit@user/incognito)
[10:55:41] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[11:02:59] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[11:03:32] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[11:08:55] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[11:09:00] *** Joins: yjftsjthsd (~yjftsjths@162.127.123.34.bc.googleusercontent.com)
[11:10:17] *** Quits: mthall (~quassel@2a01:4f9:4a:2f4d:ecb0:6aff:fed2:c9a1) (Ping timeout: 268 seconds)
[11:15:12] *** Joins: TheBigK (~quassel@user/thebigk)
[11:21:50] *** Joins: artok (~azo@mobile-access-b0484d-108.dhcp.inet.fi)
[11:24:12] *** Joins: RV06 (~RV@92.173.180.89)
[11:28:41] *** Joins: nakilon (~nakilon@user/nakilon)
[11:35:14] <nakilon> hello, I can't make docker work as in https://docs.docker.com/engine/security/userns-remap/#user-namespace-known-limitations
[11:35:45] <nakilon> I follow the instructions but it results in folder by root anyway: https://dpaste.org/bqOM/slim
[11:49:23] *** Bebef_ is now known as Bebef
[11:51:40] <nakilon> after "sudo usermod -aG docker $USER", "newgrp docker", "sudo rm -rf /var/lib/docker/165536.165536/", "sudo systemctl restart docker", "docker run hello-world" is still created this folder as root
[11:58:21] <[twisti]> why would it create the docker files as anyone else ?
[11:58:31] <[twisti]> are you trying to run the docker daemon without root ?
[12:09:59] *** Joins: thc202 (~thc202@user/thc202)
[12:15:38] <nakilon> no, not rootless but within isolated namespace
[12:17:13] <nakilon> it should create as dockremap because that's what docs say
[12:17:50] *** Quits: calaz (~calaz@user/calaz) (Quit: ZNC - https://znc.in)
[12:18:09] <[twisti]> ah, not sure i can help you with that. but surely the docker daemon wouldnt randomly rescan the systems groups/users and go 'oh, theres a new group, i guess ill start using it', i would expect you at the very least would have to restart the docker daemon
[12:18:18] <[twisti]> oh wait, you did
[12:18:23] <[twisti]> wow, not my day, sorry
[12:27:39] <nakilon> np
[12:48:11] *** Joins: jonifen (~jonifen@user/jonifen)
[12:48:36] <nakilon> "sudo rm /etc/docker/daemon.json ", "dockerd --userns-remap="dockremap:dockremap" didn't help -- the /var/lib/docker/165536.165536 dir isn't being created at all
[12:49:32] *** Joins: wattux (~wattux@212.51.23.106)
[12:49:32] *** Joins: oxum (~oxum@136.185.148.86)
[12:54:29] *** Quits: oxum (~oxum@136.185.148.86) (Ping timeout: 256 seconds)
[12:58:20] *** Joins: vincent- (~vincent-@31.221.37.8)
[13:01:06] *** Joins: AnapodoPsalidaki (~AnapodoPs@2a02:587:2917:ae32:c13a:34fe:54b3:1366)
[13:01:37] *** Quits: Helikoptere (~Helikopte@infracloud.lcnaud.fr) (Ping timeout: 244 seconds)
[13:02:08] *** Joins: varaindemian (~varaindem@86.124.78.162)
[13:02:25] *** Joins: Helikoptere (~Helikopte@infracloud.lcnaud.fr)
[13:02:49] *** Quits: HaMsTeRs (~mx@14-0-158-085.static.pccw-hkt.com) (Quit: Konversation terminated!)
[13:04:38] *** Joins: arinov_ (~arinov@95.70.154.195)
[13:09:34] *** Quits: acid (~acid@user/acid) (Ping timeout: 246 seconds)
[13:11:19] *** Joins: acid (~acid@user/acid)
[13:25:32] *** Quits: arinov_ (~arinov@95.70.154.195) (Ping timeout: 265 seconds)
[13:28:56] *** Quits: wattux (~wattux@212.51.23.106) (Quit: Client closed)
[13:36:10] *** Quits: andrzejv (~andrzejv@78-56-77-187.static.zebra.lt) (Ping timeout: 252 seconds)
[13:39:01] *** Joins: andrzejv (~andrzejv@78-56-77-187.static.zebra.lt)
[13:39:17] *** Joins: thiras (~thiras@user/thiras)
[13:43:17] *** Joins: jkwnki (~jkwnki@p4fedb101.dip0.t-ipconnect.de)
[13:45:25] *** Joins: SomeWeirdAnon (~shwn@2a02:8109:abf:ffb4:e4d7:c4d:9c1f:dab)
[13:52:17] *** Quits: jkwnki (~jkwnki@p4fedb101.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[13:53:44] *** Joins: jkwnki (~jkwnki@p4fedb445.dip0.t-ipconnect.de)
[14:03:35] *** Joins: wattux (~wattux@212.51.23.106)
[14:04:46] *** Joins: arinov_ (~arinov@95.70.154.195)
[14:06:08] *** Joins: Lutin (~Lutin@user/lutin)
[14:08:49] *** Joins: Crassus (~Crassus@user/crassus)
[14:09:10] *** Joins: liefer6 (~liefer@user/liefer)
[14:09:12] <Lutin> What could cause that one node in a swarm shows all network info about IPAM IP's and the other one doesn't ?
[14:09:26] <Lutin> yeah I need to add the 3rd node... but I'm migrating :)
[14:13:16] *** liefer6 is now known as liefer
[14:13:19] <artok> Lutin: what kind of vpn topology you're having ?
[14:15:21] <Lutin> artok how do you mean topology ? I route only LAN subnets to it
[14:17:10] <Lutin> at least that is the idea but as my swarm does weird it now routes over the host as PIA (so something works at least) with a subnet that I never told docker to hand out
[14:17:19] <Lutin> ... when I create a network
[14:17:46] <Lutin> and I can't ping those
[14:18:09] <Lutin> so it does a 0.0.0.0 route to the outside world which shoud be my wg0
[14:20:49] <nakilon> shouldn't I see the dockremap user here? ps aux | grep docker
[14:40:23] *** Joins: jkwnki1 (~jkwnki@p4fedb375.dip0.t-ipconnect.de)
[14:41:04] *** Quits: arinov_ (~arinov@95.70.154.195) (Ping timeout: 252 seconds)
[14:43:16] *** Quits: jkwnki (~jkwnki@p4fedb445.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[14:43:30] *** Joins: arinov_ (~arinov@178.240.158.75)
[14:56:00] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[15:08:11] *** Joins: ablutor (~sander@wasscher.com)
[15:20:41] <nakilon> hmmm, weird, so the folder is owned by root
[15:21:11] <nakilon> but the sleep test from this article https://dreamlab.net/en/blog/post/user-namespace-remapping-an-advanced-feature-to-protect-your-docker-environments/ shows that the process uses the user
[15:31:36] *** Quits: Lutin (~Lutin@user/lutin) (Quit: Lutin)
[15:32:18] *** Quits: jazzy (~jaziz@2600:380:4542:186:d4b:fa38:d4e3:e7e5) (Ping timeout: 240 seconds)
[15:47:09] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[15:47:40] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[15:49:07] *** Joins: Lutin (~Lutin@user/lutin)
[16:00:59] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Quit: WeeChat 3.1)
[16:03:04] *** Joins: lithium-- (~lithium@user/lithium)
[16:05:28] *** Quits: lithium (~lithium@user/lithium) (Ping timeout: 256 seconds)
[16:05:33] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[16:07:39] *** Quits: lithium-- (~lithium@user/lithium) (Client Quit)
[16:21:07] *** Quits: wattux (~wattux@212.51.23.106) (Ping timeout: 246 seconds)
[16:28:18] *** Quits: Code_Bleu (~Code_Bleu@user/code-bleu/x-6939963) (Ping timeout: 240 seconds)
[16:31:10] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Quit: WeeChat 3.1)
[16:31:21] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[16:33:31] *** Joins: churnd (~churnd@user/churnd)
[16:39:10] *** Joins: s0ullight (~s0ullight@143.169.223.186)
[16:39:22] *** Joins: candyman (~candyman@user/candyman)
[16:42:19] *** Joins: Code_Bleu (~Code_Bleu@user/code-bleu/x-6939963)
[16:45:06] *** Quits: candyman (~candyman@user/candyman) (Ping timeout: 240 seconds)
[16:45:09] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Ping timeout: 265 seconds)
[16:49:18] *** Quits: RV06 (~RV@92.173.180.89) (Ping timeout: 272 seconds)
[16:57:34] <Lutin> artok can you check if each swarm node gives the same info back about a network inspect ?
[17:02:46] *** Quits: Crassus (~Crassus@user/crassus) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:18:56] *** Joins: RV06 (~RV@lfbn-nic-1-430-119.w90-116.abo.wanadoo.fr)
[17:22:55] *** Quits: arinov_ (~arinov@178.240.158.75) (Quit: Konversation terminated!)
[17:23:10] *** Joins: arinov_ (~arinov@178.240.158.75)
[17:33:11] <Lutin> artok ping
[17:34:30] *** Quits: arinov_ (~arinov@178.240.158.75) (Ping timeout: 252 seconds)
[17:37:15] *** Quits: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au) (Remote host closed the connection)
[17:41:04] <Lutin> artok how could wireguard know about the host it needs to route over on when eth0 is an internal subnet. Is that "how docker works" ?
[17:41:19] <Lutin> I mean, I also see my internal network on the same interface with route
[17:42:58] *** Joins: iauc (~iauc@ti0061a400-1478.bb.online.no)
[17:46:09] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[17:46:44] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[17:50:11] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 268 seconds)
[17:53:18] *** Joins: ayrus (~ayrus@user/ayrus)
[17:54:18] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 240 seconds)
[17:54:32] *** Joins: dudek (~dudek@185.150.236.112)
[17:55:28] *** Quits: ayrus (~ayrus@user/ayrus) (Quit: Textual IRC Client: www.textualapp.com)
[18:07:16] *** Quits: kenoba (~kenoba@ip68-0-248-40.ri.ri.cox.net) (Quit: The Lounge - https://thelounge.chat)
[18:08:36] *** Joins: kenoba (~kenoba@ip68-0-248-40.ri.ri.cox.net)
[18:08:39] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[18:09:00] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[18:10:13] *** Joins: PonyBlocks (ponyblocks@user/ponyblocks)
[18:21:19] *** Joins: keypusher (keypusher@user/keypusher)
[18:25:50] *** Joins: rocktop (~rocktop@41.143.68.152)
[18:45:47] *** daemon is now known as daimon
[18:46:35] *** Joins: rsx (~dummy@ppp-188-174-150-120.dynamic.mnet-online.de)
[19:06:45] *** Joins: dexbot (uid506545@id-506545.charlton.irccloud.com)
[19:14:55] *** Joins: lilgopher (~textual@c-73-51-174-246.hsd1.il.comcast.net)
[19:17:23] *** Joins: jwr (~jwr@pool-71-182-194-5.pitbpa.fios.verizon.net)
[19:29:17] *** Joins: m1n10n (georgecloo@cpe-76-184-204-251.tx.res.rr.com)
[19:31:48] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[19:32:49] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[19:33:19] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[19:34:52] *** Quits: s0ullight (~s0ullight@143.169.223.186) (Quit: Client closed)
[19:41:34] *** Quits: kenoba (~kenoba@ip68-0-248-40.ri.ri.cox.net) (Quit: The Lounge - https://thelounge.chat)
[19:42:34] *** Joins: kenoba (~kenoba@ip68-0-248-40.ri.ri.cox.net)
[19:42:45] *** Joins: yaalon (~yaalon@189.202.78.228.cable.dyn.cableonline.com.mx)
[19:46:40] *** Joins: vincent-- (~vincent-@31.221.37.8)
[19:47:16] *** Quits: vincent- (~vincent-@31.221.37.8) (Ping timeout: 272 seconds)
[19:48:24] <jwr> I'm using docker compose and I've got an app in one container listening on 0.0.0.0:3000. In another container I can curl that app using http://172.20.0.9:3000 but not using http://0.0.0.0:3000 (connection refused). What am I missing?
[19:49:09] <programmerq> 0.0.0.0 isn't a real ip. it's the "any address"
[19:49:21] <programmerq> if you listen on 0.0.0.0 it just means it's listening on all available ipv4 interfaces
[19:49:24] <programmerq> https://en.wikipedia.org/wiki/0.0.0.0
[19:49:45] <programmerq> just connect to the container using the service name from the compose file. docker has a built in resolver.
[19:59:54] *** Joins: dolor_avis (~dolor_avi@user-5-173-10-119.play-internet.pl)
[20:01:06] *** Quits: Mindi (~Mindi@mindinet.org) (Remote host closed the connection)
[20:01:51] *** Quits: dreamer (~dreamer@user/dreamer) (Ping timeout: 258 seconds)
[20:02:07] *** Quits: dolor_avis (~dolor_avi@user-5-173-10-119.play-internet.pl) (Client Quit)
[20:02:32] *** Joins: vincent--- (~vincent-@31.221.37.8)
[20:03:28] *** Quits: yaalon (~yaalon@189.202.78.228.cable.dyn.cableonline.com.mx) (Remote host closed the connection)
[20:04:26] *** Joins: dreamer (~dreamer@user/dreamer)
[20:05:38] *** Quits: vincent-- (~vincent-@31.221.37.8) (Ping timeout: 272 seconds)
[20:07:22] *** Joins: Atum_ (~IRC@user/atum/x-2392232)
[20:07:42] *** Quits: jkwnki1 (~jkwnki@p4fedb375.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[20:09:26] *** Quits: vidbina_ (~vid@x4db7e147.dyn.telefonica.de) (Ping timeout: 272 seconds)
[20:10:10] *** Parts: nakilon (~nakilon@user/nakilon) (The Lounge - https://thelounge.chat)
[20:13:04] *** Quits: dalan (~dalan@118.102.85.89) (Ping timeout: 246 seconds)
[20:28:07] *** Joins: yaalon (~yaalon@189.202.78.228.cable.dyn.cableonline.com.mx)
[20:29:44] *** Joins: candyman (~candyman@user/candyman)
[20:31:57] *** Joins: jkwnki1 (~jkwnki@p2e579b3d.dip0.t-ipconnect.de)
[20:34:38] *** Joins: Nukien (~Nukien@162.250.233.55)
[20:35:31] *** Joins: neilhwatson (~neilhwats@2001:470:b34d:0:8514:e8dc:8490:8499)
[20:37:53] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Remote host closed the connection)
[20:39:08] <Lutin> is it try that an internal network does not even allow routing through a container to another network ? it's that isolated ? But how ?
[20:41:23] <programmerq> Lutin when a network is created with the --internal flag, it simply doesn't have a working gateway, so any containers on that network can only contact other containers on the same network.
[20:41:53] <programmerq> there is a gateway in the route, but docker simply doesn't actually set up any forwarding rules for that gateway ip, so the packets end up having nowhere to go
[20:41:53] <Lutin> programmerq aha! because it still has a GW it seems but doesn't work!
[20:42:00] <Lutin> indeed :)
[20:42:04] <Lutin> good to know
[20:44:41] <Lutin> programmerq that is not in the docs is it ?
[20:45:58] *** Joins: Ellipsis753 (~shanee@193.138.218.216)
[20:46:07] <programmerq> --internal is in the docs, but it doesn't go into the details about the non-working gateway. it just says "restricts external access"
[20:46:17] <programmerq> see also: docker network create --help | grep internal
[20:46:45] <Lutin> yes I know but the nonworking GW would be nice to know as you "see" it
[20:46:48] *** Quits: jkwnki1 (~jkwnki@p2e579b3d.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[20:47:25] <Lutin> programmerq if you inspect a network and it has hosts on it... should you see that info on any host in a swarm setup or only where local containers run ?
[20:47:35] <Lutin> s/hosts/containers
[20:48:00] *** Joins: daniel-k (~daniel-k@192.241.135.211)
[20:50:45] <Ellipsis753> Hi. My Dockerfile has "EXPOSE 8888/tcp". If I ssh to it in Fargate AWS I can see "tcp6 0 0 :::8888 :::* LISTEN -". The process is "-" (while running as root) which makes me think it's probably something docker is doing? Any idea what it could be?
[20:52:03] <Ellipsis753> It's like docker is listening on my exposed ports on ipv6?
[20:52:19] *** Joins: candyman1 (~candyman@user/candyman)
[20:52:50] *** Quits: sebastianos (~sebastian@user/sebastianos) (Ping timeout: 258 seconds)
[20:53:20] *** Quits: candyman (~candyman@user/candyman) (Ping timeout: 268 seconds)
[20:56:21] *** Quits: candyman1 (~candyman@user/candyman) (Remote host closed the connection)
[20:56:52] <programmerq> EXPOSE is just metadata. If your container is actually publishing a port at runtime, then docker-proxy will listen on the host. If your process is listening inside a container, then it'll be listening on the container. tcp6 really means ipv4 and/or ipv6 due to how the tcp6 socket is implemented in the linux kernel.
[20:57:39] *** Joins: candyman (~candyman@user/candyman)
[20:59:04] <programmerq> for example, on a linux host you can fire up 'socat - tcp6-listen:8999,fork,reuseaddr' in one terminal. 'netstat -nlp | grep socat' will show 'tcp6       0      0 :::8999                 :::*                    LISTEN      2112/socat' but you can connect to 8999 on any address on that host-- 127.0.0.1, the eth0 ipv4 interface, any ipv6 interface, etc...
[20:59:34] <programmerq> some programs that are configured to listen on all interfaces use that tcp6 interface so it'll be all interfaces for ipv4 and ipv6
[21:01:24] *** Quits: jonifen (~jonifen@user/jonifen) (Quit: Leaving)
[21:03:49] *** Quits: candyman (~candyman@user/candyman) (Remote host closed the connection)
[21:04:07] *** Joins: candyman (~candyman@user/candyman)
[21:04:17] *** Quits: candyman (~candyman@user/candyman) (Remote host closed the connection)
[21:04:18] <Lutin> whoops yes it should when being overlay
[21:04:36] *** Quits: nvmd (~nvmd@user/nvmd) (Quit: Later, nerds.)
[21:06:43] *** Joins: candyman (~candyman@user/candyman)
[21:06:51] <Ellipsis753> programmerq: Thank you for the answer. But I'm struggling to understand it. Why can't the container see the process name in netstat? Is it the host outside the container that's listening on port 8888?
[21:07:10] <programmerq> sudo netstat ought to be able to see the process name.
[21:07:42] *** Quits: candyman (~candyman@user/candyman) (Remote host closed the connection)
[21:07:50] *** Joins: Hans-Martin (~ignore@user/hans-martin)
[21:07:54] <Ellipsis753> programmerq: I was root (within the container) and the process name was still "-"
[21:08:22] <programmerq> share the full context, the exact commands you were running, and indicate which commands are on the host and which are on the container.
[21:08:22] *** Joins: candyman (~candyman@user/candyman)
[21:08:35] <programmerq> use a paste service
[21:11:03] *** Quits: candyman (~candyman@user/candyman) (Read error: Connection reset by peer)
[21:12:09] *** Joins: candyman (~candyman@user/candyman)
[21:16:59] <Ellipsis753> programmerq: Thank you. But I haven't really got a MVP to replicate it yet. I suspect it might be to do with how AWS bridges together multiple containers, so might be more of an AWS thing than a docker thing. Thank you for your help.
[21:18:37] *** Joins: oxum (~oxum@136.185.148.86)
[21:20:28] *** Quits: candyman (~candyman@user/candyman) (Ping timeout: 268 seconds)
[21:23:33] *** Quits: oxum (~oxum@136.185.148.86) (Ping timeout: 268 seconds)
[21:27:20] *** Joins: svm_invictvs (~svm_invic@2600:8801:9300:5d:9e3a:fb8b:5401:927f)
[21:28:51] *** Joins: candyman (~candyman@user/candyman)
[21:29:07] *** Quits: Hans-Martin (~ignore@user/hans-martin) (Quit: I'm not an expert but I play one on IRC.)
[21:30:13] *** Quits: peder (4822@nidur.ifi.uio.no) (Ping timeout: 244 seconds)
[21:31:24] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[21:32:11] *** Joins: peder (4822@nidur.ifi.uio.no)
[21:33:38] *** Quits: yaalon (~yaalon@189.202.78.228.cable.dyn.cableonline.com.mx) (Remote host closed the connection)
[21:35:48] *** Joins: jkwnki1 (~jkwnki@p2e579b3d.dip0.t-ipconnect.de)
[21:37:45] *** Quits: candyman (~candyman@user/candyman) (Remote host closed the connection)
[21:39:03] <Lutin> why does an overlay network still get an lb-* ip adress when you don't set ingress when creating it ?
[21:40:48] <programmerq> --ingress says "this particular network will be the ingress network for the entire swarm"
[21:43:20] *** Joins: yaalon (~yaalon@201.171.82.74.dsl.dyn.telnor.net)
[21:43:48] <Lutin> ok, the reason why I ask is because I try to put wireguard into a service... you get too much nics so you have an issue...
[21:44:25] *** Quits: rsx (~dummy@ppp-188-174-150-120.dynamic.mnet-online.de) (Quit: rsx)
[21:49:24] <Lutin> programmerq do you have a docker way do I can make sure a container doesn't route "outside" using it's attached network ? nope... --internal is not usable because it's a VON server so needs routes
[21:51:39] <Lutin> I think I can't...
[21:51:52] <Lutin> yeah give it a FW rule in it's command
[21:52:54] *** Quits: yaalon (~yaalon@201.171.82.74.dsl.dyn.telnor.net) (Remote host closed the connection)
[21:53:27] <Lutin> swarm is not possible for wireguard because of ingress on eth0. So that is not an issue as I can run locals attached to an overlay network. As eth0 is then my attached network. But in some strange way there is also a eth1 with a 10.1.2.x/24 address which I cannot figure out where it comes from and why
[21:56:18] *** Joins: yaalon (~yaalon@201.171.82.74.dsl.dyn.telnor.net)
[22:02:37] *** Joins: tang^ (~doofus@2604:3d09:47c:f970:e9cd:28e8:f352:cb41)
[22:04:18] *** Quits: yaalon (~yaalon@201.171.82.74.dsl.dyn.telnor.net) ()
[22:05:56] *** Joins: Sasazuka (~Sasazuka@user/sasazuka)
[22:07:08] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Read error: Connection reset by peer)
[22:19:11] *** Quits: thegodsquirrel (~thegodsqu@ec2-54-173-208-76.compute-1.amazonaws.com) (Quit: ZNC - https://znc.in)
[22:23:20] *** Quits: Ellipsis753 (~shanee@193.138.218.216) (Quit: Leaving)
[22:23:26] *** Joins: thegodsquirrel (~thegodsqu@ec2-54-173-208-76.compute-1.amazonaws.com)
[22:25:14] *** Joins: SigHunter (~SigHunter@2a02:810d:8b80:2ea4:904a:7229:6f2:dbc)
[22:27:16] *** Quits: thegodsquirrel (~thegodsqu@ec2-54-173-208-76.compute-1.amazonaws.com) (Client Quit)
[22:29:51] <SigHunter> one of my containers can't reach the internet and I don't understand why. I see it's dns request in the dns server logs.  unfortunately the container has no ping or ifconfig. how can I troubleshoot this?
[22:29:53] *** Quits: SigHunter (~SigHunter@2a02:810d:8b80:2ea4:904a:7229:6f2:dbc) (Quit: Ping timeout (120 seconds))
[22:31:27] *** Joins: SigHunter (~SigHunter@2a02:810d:8b80:2ea4:904a:7229:6f2:dbc)
[22:31:38] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[22:31:40] <Lutin> soit seems that docker scaling pretty nice works when you have services/tasks running over mutiple nodes and you just restart docker on one of the nodes... the services are restarted on another node... but how to scale them back when the other node comes back ?
[22:32:03] *** Quits: vincent--- (~vincent-@31.221.37.8) (Remote host closed the connection)
[22:32:27] *** Joins: vincent--- (~vincent-@31.221.37.8)
[22:32:47] <programmerq> you can 'docker service update --force' on some services and those specific services will get new tasks that'll get scheduled on the unloaded node.
[22:33:38] <programmerq> swarm doesn't do it for you because any time swarm kills a task, that's a possible interruption, depending on how the service in question was implemented.
[22:35:22] <Lutin> yes that is what I read as well. So... something for in the books :)
[22:35:26] <Lutin> thanks programmerq :)
[22:38:04] <Lutin> programmerq where does a overlay attached local container get "some extra" ethX from and also some subnet which I can't place ? I would think there is no need for it as well
[22:39:50] *** Quits: vincent--- (~vincent-@31.221.37.8) (Remote host closed the connection)
[22:40:53] <Lutin> maybe local scope ? looks like it
[22:43:03] <Lutin> yeah it's own bridge
[22:43:28] <Lutin> can we avoid that ?
[22:45:39] <programmerq> that's the gwbridge network for egress.
[22:46:06] <programmerq> let me take a look
[22:46:12] *** Quits: AltReality (~altrealit@99-57-74-231.lightspeed.frokca.sbcglobal.net) (Read error: Connection reset by peer)
[22:46:24] <programmerq> I feel like there's a way to turn that off, but I'm not certain.
[22:46:52] <Lutin> yeah would be nice because I think it needs it to be able to do anything at all to the outside world if needed your "standard network overlay whatever" won't help there I would say
[22:47:17] <Lutin> programmerq let me know when it pops up, I would like to know... curious :)
[22:47:37] <programmerq> create the network like this: docker network create -d overlay --internal --attachable mynet
[22:47:46] <programmerq> then it won't attach it to the gwbridge network
[22:48:11] <programmerq> so containers that would be attached to that overlay network would need a second network if you want some other way to route out.
[22:48:52] <programmerq> that gives the effect of the attached container only has a route for the subnet of the overlay, but no default gateway
[22:49:17] <Lutin> programmerq true I tried that with wireguard but then you can't route to that subnet when you attach wireguard to it
[22:49:33] <Lutin> without the --internal you can
[22:49:43] <Lutin> because you need that non-working GW :)
[22:49:56] <programmerq> yup, you'd have to deal with other ways to route with your wireguard thing. overlay networks were never designed to be a routed network-- they were only ever meant to pass container-to-container traffic
[22:50:17] <Lutin> yap but without --internal it works :)
[22:50:20] <programmerq> that's why there's that automatic gwbridge network so traffic has a way to egress directly on the node.
[22:50:31] <Lutin> yes indeed!
[22:50:52] <programmerq> so if you want your wireguard container to be on that overlay and have an egress, attach it to two networks.
[22:50:58] <Lutin> ingress is only incoming traffic I woud say ? It floats out over a node
[22:50:58] <programmerq> one for egress and then the internal overlay
[22:51:06] <programmerq> gwbridge is for egress
[22:51:14] <programmerq> ingress is for ingress (the swarm routing mesh stuff)
[22:51:25] *** Quits: SigHunter (~SigHunter@2a02:810d:8b80:2ea4:904a:7229:6f2:dbc) (Quit: Ping timeout (120 seconds))
[22:51:38] <Lutin> yeah between the services but that lb-* address is ingress wasn't it ?
[22:51:59] *** Joins: cheesemid (~cheesemid@user/cheesemid)
[22:52:07] <Lutin> programmerq my overlay network is very nicely eth0 and eth1 is the egress so I'm very fine :)
[22:52:16] <Lutin> maybe nice to know when you need it!
[22:52:38] <Lutin> artok I figured it out... of you need to know just ping or yell!
[22:52:59] <Lutin> this was a nice puzzle ;)
[22:54:06] <Lutin> programmerq then docker is fun... you don't need rancher/k8s with overhead for smaller setups then
[22:55:46] *** Quits: Tabmow (~tabmow@user/tabmow) (Ping timeout: 272 seconds)
[22:56:09] *** Quits: cheesemid (~cheesemid@user/cheesemid) (Client Quit)
[22:59:25] *** Joins: Tabmow (~tabmow@user/tabmow)
[22:59:50] *** Quits: tang^ (~doofus@2604:3d09:47c:f970:e9cd:28e8:f352:cb41) (Quit: So as I was sayinSQUIRREL)
[23:02:02] *** Joins: tang^ (~doofus@2604:3d09:47c:f970:3d97:e4e8:25ea:6de8)
[23:10:42] <artok> Lutin: you did what?
[23:11:23] <Lutin> artok using linuxserver.io wireguard I have working VPN internall and externally if you want :D
[23:11:33] <Lutin> over swarm ;)
[23:12:21] <artok> well what is your configuration then? =)
[23:21:55] <artok> I do have wireguard connection from my raspberry pi to my swarm stack also
[23:23:54] <artok> working on docker image for it now, around 17M (_WITH_ userspace wireguard-go) and linuxserver.io image is 400M
[23:23:54] <Lutin> artok ok what do you want, internal or also internet over it ?
[23:24:17] <Lutin> artok yeah for now it's fine, let me know what you build :)
[23:25:49] <Lutin> artok what can you and what can't you ?
[23:27:02] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 272 seconds)
[23:27:54] *** Quits: notevil (~notevil@user/notevil) (Quit: ZNC - http://znc.in)
[23:28:08] *** Joins: notevil (notevil@user/notevil)
[23:28:28] *** Joins: bouncy (~ben@user/benoit)
[23:32:06] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Ping timeout: 272 seconds)
[23:38:19] *** Quits: notevil (notevil@user/notevil) (Quit: ZNC - http://znc.in)
[23:38:37] *** Joins: notevil (notevil@user/notevil)
[23:39:34] *** Joins: thiras (~thiras@user/thiras)
[23:42:15] *** Joins: fabienwang (~fabienwan@user/fabienwang)
[23:48:38] *** Joins: jazzy (~jaziz@2600:380:4542:186:d4b:fa38:d4e3:e7e5)
[23:57:22] *** Quits: lemonzest (~lemonzest@user/lemonzest) (Quit: Quitting)
[23:57:43] <artok> well I can connect to service from my rpi that is not routed outside
[23:57:48] *** Joins: noarb (~noarb@user/noarb)
[23:59:26] *** Joins: tyson2 (~user@cpe44d9e795a64f-cm688f2e2dfaa0.cpe.net.cable.rogers.com)
