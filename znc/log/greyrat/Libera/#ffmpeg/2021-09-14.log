[00:01:36] *** Joins: Nact (~l@2a02:a03f:c0b0:f600:3253:5994:1b4f:e854)
[00:02:50] *** Joins: tnewman1 (~travnewma@1-171-98-105.dynamic-ip.hinet.net)
[00:05:52] *** Quits: tnewman (~travnewma@1-171-249-109.dynamic-ip.hinet.net) (Ping timeout: 245 seconds)
[00:05:53] *** tnewman1 is now known as tnewman
[00:22:17] *** Joins: ZekeMX (~ZekeMX@189.201.171.237)
[00:22:43] <ZekeMX> Hello Everyone
[00:26:54] *** Joins: someuser (~user@41.43.46.6)
[00:29:36] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Read error: Connection reset by peer)
[00:29:58] *** Joins: jkwnki (~jkwnki@p2e5791bd.dip0.t-ipconnect.de)
[00:31:44] *** Joins: luni-4 (uid453292@id-453292.ilkley.irccloud.com)
[00:33:41] *** Quits: Flabb (~Flabb@89.169.42.92) (Ping timeout: 268 seconds)
[00:44:02] *** Joins: Flabb (~Flabb@89.169.42.92)
[00:44:25] *** Quits: jkwnki (~jkwnki@p2e5791bd.dip0.t-ipconnect.de) (Remote host closed the connection)
[00:45:39] *** Joins: jkwnki (~jkwnki@p2e5791bd.dip0.t-ipconnect.de)
[00:45:41] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[00:52:40] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[00:53:01] *** Quits: dreamon (~dreamon@pd9503bf3.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[00:54:09] *** Joins: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3)
[00:54:11] *** Quits: jkwnki (~jkwnki@p2e5791bd.dip0.t-ipconnect.de) (Ping timeout: 265 seconds)
[00:58:04] *** Quits: Flabb (~Flabb@89.169.42.92) (Quit: Leaving)
[01:02:43] *** Quits: pyre (~pyre@crimeboss.nillas-power.com) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[01:11:35] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Quit: WeeChat 3.2)
[01:20:30] *** Joins: pyre (~pyre@crimeboss.nillas-power.com)
[01:24:03] *** Quits: Blacker47 (~Blacker47@user/blacker47) (Quit: Life is short. Get a V.90 modem fast!)
[01:34:18] *** Quits: wyatt8740 (~wyatt8740@185.240.244.20) (Ping timeout: 260 seconds)
[01:37:05] *** Joins: wyatt8740 (~wyatt8740@185.187.243.249)
[01:56:32] *** Quits: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3) (Ping timeout: 268 seconds)
[02:12:36] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Quit: shibboleth)
[02:12:45] *** Quits: atxq (~server@c-73-199-156-83.hsd1.nj.comcast.net) (Quit: Lost terminal)
[02:18:47] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[02:28:22] *** Quits: ___Myst___ (~Myst@net-93-65-240-160.cust.vodafonedsl.it) (Quit: ZNC - https://znc.in)
[02:29:09] *** Joins: __Myst__ (~Myst@net-93-65-240-160.cust.vodafonedsl.it)
[02:33:39] *** Joins: jkwnki (~jkwnki@p2e5791bd.dip0.t-ipconnect.de)
[02:34:27] *** Quits: darkapex (~darkapex@user/darkapex) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[02:34:46] *** Joins: darkapex (~darkapex@user/darkapex)
[02:35:23] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Ping timeout: 268 seconds)
[02:45:39] *** Quits: Jan\ (~kvirc@104.204.200.116) (Ping timeout: 268 seconds)
[02:50:39] *** Joins: Jan\ (~kvirc@104.243.43.122)
[02:54:41] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[03:03:17] <aphysically> wow I found some ass files ffconcat will turn into something that's not even valid utf-8
[03:03:38] <aphysically> not sure who's at fault (bad file?)
[03:04:04] <aphysically> ffmpeg and mpv don't choke on that file's embedded ass individually, but they combine to make garbage for some reason
[03:04:22] <BtbN> subtitles are entirely disconnected from much of anything, and barely in working condition
[03:04:25] <BtbN> so don't expect too much
[03:06:07] <aphysically> file -bi at least thinks it's utf-8 but python chokes on it
[03:07:43] <aphysically> UnicodeDecodeError: 'utf-8' codec can't decode byte 0xbf in position 499069: invalid start byte
[03:08:05] <BtbN> file will only read the first bit
[03:09:14] <znf> isn't 0xBF part of the BOM ?
[03:09:45] <znf> ie: you have a subtitle with BOM?
[03:10:24] <aphysically> I haven't extracted the problematic file itself yet
[03:10:36] <aphysically> this is a subtitle track output by ffmpeg extract
[03:10:40] <aphysically> via ffconcat
[03:10:49] <aphysically> but probably the original file had it in it?
[03:11:05] <aphysically> extracted the (subtitles) from the problematic file itself yet
[03:11:09] *** Quits: jkwnki (~jkwnki@p2e5791bd.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[03:12:37] *** Quits: AMM (~AMM@user/amm) (Remote host closed the connection)
[03:13:52] *** Joins: AMM (~AMM@user/amm)
[03:23:07] *** Quits: pyre (~pyre@crimeboss.nillas-power.com) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[03:25:01] *** Quits: cryptic (~cryptic@142-196-139-017.res.spectrum.com) (Ping timeout: 252 seconds)
[03:25:07] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[03:25:40] *** Quits: honza_c (~honza_c@dynamic-194-228-11-248.ipv4.broadband.iol.cz) (Ping timeout: 240 seconds)
[03:30:18] *** Joins: cryptic (~cryptic@142-196-139-017.res.spectrum.com)
[03:34:21] *** Joins: pyre (~pyre@crimeboss.nillas-power.com)
[04:02:50] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 260 seconds)
[04:08:24] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:10:38] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[04:11:11] *** Quits: xx (~xx@user/xx) (Quit: xx)
[04:23:54] *** Joins: scoobydoo_ (~scooby@user/scoobydoo)
[04:23:55] *** Quits: scoobydoo_ (~scooby@user/scoobydoo) (Excess Flood)
[04:24:15] *** Joins: scoobydoo_ (~scooby@user/scoobydoo)
[04:25:52] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Ping timeout: 245 seconds)
[04:25:56] *** scoobydoo_ is now known as scoobydoo
[04:30:05] *** Joins: scoobydoo_ (~scooby@user/scoobydoo)
[04:30:06] *** Quits: scoobydoo_ (~scooby@user/scoobydoo) (Excess Flood)
[04:30:26] *** Joins: scoobydoo_ (~scooby@user/scoobydoo)
[04:30:27] *** Quits: scoobydoo_ (~scooby@user/scoobydoo) (Excess Flood)
[04:32:26] *** Joins: scoobydoo_ (~scooby@user/scoobydoo)
[04:32:27] *** Quits: scoobydoo_ (~scooby@user/scoobydoo) (Excess Flood)
[04:32:39] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Ping timeout: 265 seconds)
[04:32:48] *** Joins: scoobydoo_ (~scooby@user/scoobydoo)
[04:32:48] *** scoobydoo_ is now known as scoobydoo
[04:32:49] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Excess Flood)
[04:39:25] *** Quits: nillyhan (~00000000@user/nillyhan) (Ping timeout: 252 seconds)
[04:44:40] *** Quits: MrZeus_ (~MrZeus@141.98.252.252) (Ping timeout: 268 seconds)
[04:53:46] *** Joins: Fohsap (~Muimi@60.20.216.124)
[05:00:01] *** Quits: luni-4 (uid453292@id-453292.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[05:01:45] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 260 seconds)
[05:08:13] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[05:09:33] *** Quits: Jan\ (~kvirc@104.243.43.122) (Ping timeout: 268 seconds)
[05:11:19] *** Quits: wyatt8740 (~wyatt8740@185.187.243.249) (Ping timeout: 265 seconds)
[05:14:30] *** Joins: Jan\ (~kvirc@104.204.200.116)
[05:30:26] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:34:53] *** Joins: vlm (~vlm@user/vlm)
[05:40:54] *** Joins: wyatt8740 (~wyatt8740@149.164.111.65)
[06:03:12] *** Quits: omegatron (~some@p54849842.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[06:09:46] *** Joins: wyatt8750 (~wyatt8740@149.164.111.65)
[06:10:01] *** Quits: wyatt8740 (~wyatt8740@149.164.111.65) (Ping timeout: 252 seconds)
[06:11:14] *** Joins: minimal (~minimal@user/minimal)
[06:20:23] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[06:39:30] *** Quits: ZekeMX (~ZekeMX@189.201.171.237) (Quit: Connection closed)
[06:43:34] *** Quits: jos2 (~jos3@dyndsl-091-096-041-221.ewe-ip-backbone.de) (Ping timeout: 252 seconds)
[06:51:39] *** Joins: gnoo (~gnoo@user/gnoo)
[06:55:08] *** Joins: jos2 (~jos3@dyndsl-091-096-036-018.ewe-ip-backbone.de)
[07:03:45] *** Joins: iloveffmpeg (~iloveffmp@14.180.241.184)
[07:04:20] *** Quits: iloveffmpeg (~iloveffmp@14.180.241.184) (Client Quit)
[07:05:34] *** Quits: TheSashmo (~TheSashmo@158.106.77.7) (Ping timeout: 252 seconds)
[07:09:00] <rcombs> oh openssl 3.0.0 released, time to write up a configure patch to mark v3 and later as not-nonfree
[07:09:08] <rcombs> (but require [l]gplv3)
[07:43:01] *** Quits: someuser (~user@41.43.46.6) (Read error: Connection reset by peer)
[08:01:49] *** Quits: sebbu (~sebbu@user/sebbu) (Ping timeout: 252 seconds)
[08:02:13] *** Joins: sebbu (~sebbu@user/sebbu)
[08:11:26] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 260 seconds)
[08:21:45] *** Quits: wyatt8750 (~wyatt8740@149.164.111.65) (Ping timeout: 265 seconds)
[08:22:28] *** Joins: wyatt8740 (~wyatt8740@185.240.244.21)
[09:43:16] *** Joins: honza_c (~honza_c@dynamic-194-228-11-6.ipv4.broadband.iol.cz)
[09:45:33] *** Joins: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3)
[10:07:24] *** Quits: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3) (Ping timeout: 268 seconds)
[10:24:32] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[10:35:43] *** Quits: Nact (~l@2a02:a03f:c0b0:f600:3253:5994:1b4f:e854) (Quit: Konversation terminated!)
[10:44:03] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[11:06:32] *** Joins: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de)
[11:13:35] <JEEB> rcombs: I think someone already did a patch for that
[11:14:48] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[11:16:39] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[11:23:26] *** Joins: nillyhan (~00000000@user/nillyhan)
[11:26:20] *** Joins: palasso (~palasso@user/palasso)
[11:49:50] *** Quits: sfan5 (~sfan5@user/sfan5) (Ping timeout: 260 seconds)
[11:52:46] *** Joins: sfan5 (~sfan5@user/sfan5)
[11:57:07] *** Joins: rsx (~dummy@ppp-188-174-128-104.dynamic.mnet-online.de)
[12:01:38] <rcombs> oh nice
[12:11:21] *** Quits: nillyhan (~00000000@user/nillyhan) (Ping timeout: 268 seconds)
[12:17:36] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[12:20:29] *** Joins: nillyhan (~00000000@user/nillyhan)
[12:22:11] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[12:31:31] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[12:32:40] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[12:41:17] *** Joins: xx (~xx@user/xx)
[12:44:39] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[13:08:51] *** Joins: Flabb (~Flabb@89.169.42.92)
[13:11:34] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[13:18:34] *** Joins: Blacker47 (~Blacker47@user/blacker47)
[13:19:40] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[13:23:23] *** Joins: darkapex_ (~darkapex@user/darkapex)
[13:24:31] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 268 seconds)
[13:26:07] *** Quits: sagax (~sagax_nb@user/sagax) (Read error: Connection reset by peer)
[14:03:00] *** Quits: hpkn (~hpkn@gateway/tor-sasl/hpkn) (Remote host closed the connection)
[14:04:03] *** Joins: hpkn (~hpkn@gateway/tor-sasl/hpkn)
[14:09:21] *** Parts: tnewman (~travnewma@1-171-98-105.dynamic-ip.hinet.net) (The Lounge - https://thelounge.chat)
[14:10:46] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Ping timeout: 268 seconds)
[14:13:44] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[14:45:31] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Remote host closed the connection)
[14:45:55] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[14:48:46] *** Joins: GuiToris (~GuiToris@user/guitoris)
[14:54:34] <GuiToris> hello, can I calculate the encoding time by using benchmarks? My machine (i3) encodes at a speed of 0.0163x. I found this benchmark https://cpu.userbenchmark.com/Compare/Intel-Core-i7-6700-vs-Intel-Core-i3-2350M/3515vsm934
[14:54:56] <GuiToris> do cores matter this case?
[14:55:16] *** Quits: nillyhan (~00000000@user/nillyhan) (Ping timeout: 252 seconds)
[14:56:26] <GuiToris> the site says: 	Hugely faster single-core speed +111%
[14:57:39] <GuiToris> what am I supposed to do with this number? 0.0163*111=1.8  <- I guess I'm wrong
[15:00:35] *** Joins: eoc (~pc@user/eoc)
[15:01:47] <eoc> trying to make this movie smaller, but losing subtitle, getting "Subtitle encoding currently only possible from text to text or bitmap to bitmap":'ffmpeg -y -i in.mkv -vcodec libx265 -acodec libopus -ab 128k -af "channelmap=channel_layout=5.1" -scodec srt out.mkv'
[15:06:30] *** Quits: Flabb (~Flabb@89.169.42.92) (Quit: Leaving)
[15:10:22] *** beaver_ is now known as pong
[15:12:38] <JEEB> eoc: check the input subtitle format?
[15:12:44] <JEEB> probably either PGS or DVD
[15:12:47] <JEEB> which are image based
[15:13:01] <JEEB> which you should just copy in that case, the subtitles generally aren't large streams
[15:14:13] <eoc> JEEB: yes dvd "codec_name": "dvd_subtitle"
[15:14:40] <eoc> ah nice, will see if it works :]
[15:16:31] <eoc> are subtitles not copied by default?
[15:16:54] <furq> nothing is copied by default but especially not if you explicitly ask for -scodec src
[15:16:57] <furq> t
[15:17:18] <eoc> i tried without and option for subs first
[15:17:26] <furq> replace that with -c:s copy
[15:17:48] <furq> dvd subtitles work fine in mkv
[15:17:49] <eoc> i replaced it with '-scodec copy'
[15:17:56] <furq> yeah that's the same thing
[15:18:05] <eoc> oh good :]
[15:18:18] <furq> -scodec is deprecated but it's been deprecated for years and it's still there
[15:18:33] <eoc> i like to include subs, but maybe i have lost some subs then...
[15:18:42] <eoc> even in langauged i know they are nice to have sometimes
[15:32:07] *** Quits: Fohsap (~Muimi@60.20.216.124) (Ping timeout: 245 seconds)
[15:39:15] *** Joins: nillyhan (~00000000@user/nillyhan)
[15:44:47] <GuiToris> can ffmpeg use more than one cores?
[15:45:23] <furq> yes
[15:45:59] <GuiToris> could you direct me to its wiki page?
[15:46:49] <GuiToris> I'm reading this, but I'm not sure if this is the right page : https://trac.ffmpeg.org/wiki/HWAccelIntro
[15:46:54] *** Quits: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de) (Ping timeout: 265 seconds)
[15:47:39] <GuiToris> I found an option here -threads   but I don't know if this is what I'm looking for
[15:48:01] <GuiToris> and if so, why wouldn't it be the maximum by default?!
[15:48:53] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[15:49:02] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 268 seconds)
[15:56:03] <BtbN> It's "auto" by default, so however many threads your system has.
[15:58:34] <JEEB> hwaccel & threads is kind of an oxymoron
[16:01:30] <GuiToris> thank you :)
[16:02:15] <JEEB> ffmpeg.c itself is not threaded so each output is not separate
[16:02:47] <JEEB> so if you are feeding a thing into X encoders or writers, it will do it (then the underlying API may take time) and then go for the next
[16:03:01] <JEEB> there were attempts at improving this, but unfortunately not really in a good way (too bad ffmpeg.c is so complex)
[16:03:41] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Quit: No Ping reply in 180 seconds.)
[16:07:49] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[16:08:22] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[16:10:04] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[16:11:00] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[16:21:57] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[16:30:52] *** Joins: cmp21 (~cmp@lputeaux-658-1-177-87.w92-154.abo.wanadoo.fr)
[16:31:45] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Quit: No Ping reply in 180 seconds.)
[16:47:04] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[16:49:18] *** Joins: zumba_addict (~zumba_add@2601:240:4500:8320:fd82:3732:1352:1f64)
[16:51:09] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[16:53:39] *** Joins: Atsuko_ (~x@94.242.250.86)
[16:54:22] *** Quits: Atsuko_ (~x@94.242.250.86) (Remote host closed the connection)
[16:55:38] *** Quits: nillyhan (~00000000@user/nillyhan) (Ping timeout: 268 seconds)
[16:56:54] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 260 seconds)
[17:05:34] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[17:06:03] *** Joins: nillyhan (~00000000@user/nillyhan)
[17:06:06] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[17:08:54] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[17:09:10] *** Joins: Vonter (~Vonter@user/vonter)
[17:18:16] *** Joins: Guest65 (~Guest65@ec2-18-142-145-86.ap-southeast-1.compute.amazonaws.com)
[17:22:40] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[17:24:22] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[17:24:32] <Guest65> Could someone with write permission backport this fix about HLS encoding into the upcoming 4.4.1 release? The bug was introduced in 4.4 release. Thanks. https://git.ffmpeg.org/gitweb/ffmpeg.git/commit/59032494e81a1a65c0b960aaae7ec4c2cc9db35a
[17:24:59] <JEEB> 4.4.1 I think got already made
[17:25:16] <JEEB> or well, not tagged
[17:25:36] <JEEB> but yes for better or worse the author of the patch usually has to back-port things
[17:25:37] *** Joins: minimal (~minimal@user/minimal)
[17:26:38] <JEEB> I could back-port it but I haven't looked into hlsenc in a while
[17:26:48] <JEEB> so I would have to check the history of the file since etc
[17:34:40] <JEEB> Guest65: also ooff you can litearlly see the author of that patch leaving during the same minute you posted that message
[17:34:47] <JEEB> so you got a bit unlucky there
[17:34:48] <JEEB> :)
[17:35:13] <JEEB> anyways, I will go out for a while to get my head unbroken, and then look if that seems simple enough to push into release/4.4
[17:39:36] <Guest65> Thank you. It only affects a few lines.
[17:39:37] <Guest65> ```
[17:39:38] <Guest65> --- a/libavformat/hlsenc.c
[17:39:38] <Guest65> +++ b/libavformat/hlsenc.c
[17:39:39] <Guest65> @@ -2650,14 +2650,13 @@ static int hls_write_packet(AVFormatContext *s, AVPacket *pkt)
[17:39:39] <Guest65>      vs->packets_written++;
[17:39:40] <Guest65>      if (oc->pb) {
[17:39:40] <Guest65> -        int64_t keyframe_pre_pos = avio_tell(oc->pb);
[17:39:41] <Guest65>          ret = ff_write_chained(oc, stream_index, pkt, s, 0);
[17:39:41] <Guest65> -        if ((st->codecpar->codec_type == AVMEDIA_TYPE_VIDEO) &&
[17:39:42] <Guest65> -            (pkt->flags & AV_PKT_FLAG_KEY) && !keyframe_pre_pos) {
[17:39:42] <Guest65> -            av_write_frame(oc, NULL); /* Flush any buffered data */
[17:39:43] <Guest65> -            vs->video_keyframe_size = avio_tell(oc->pb) - keyframe_pre_pos;
[17:39:43] <Guest65> +        vs->video_keyframe_size += pkt->size;
[17:39:44] <Guest65> +        if ((st->codecpar->codec_type == AVMEDIA_TYPE_VIDEO) && (pkt->flags & AV_PKT_FLAG_KEY)) {
[17:39:44] <Guest65> +            vs->video_keyframe_size = avio_tell(oc->pb);
[17:39:45] <Guest65> +        } else {
[17:39:45] <Guest65> +            vs->video_keyframe_pos = avio_tell(vs->out);
[17:47:07] *** Joins: luni-4 (uid453292@id-453292.ilkley.irccloud.com)
[17:57:00] *** Quits: pntaylor (~quassel@101.113.71.216) (Ping timeout: 260 seconds)
[18:00:40] *** Joins: pntaylor (~quassel@2405:6e00:48f:8eb0::2)
[18:04:18] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[18:06:03] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[18:08:22] *** Quits: pntaylor (~quassel@2405:6e00:48f:8eb0::2) (Ping timeout: 252 seconds)
[18:08:25] *** Joins: pntaylor_ (~quassel@101.113.235.43)
[18:09:15] *** Quits: pong (~beaver@user/pong) (Remote host closed the connection)
[18:22:35] *** Joins: someuser (~user@41.43.46.6)
[18:27:52] *** Joins: pong (~beaver@user/pong)
[18:30:39] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[18:47:30] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[18:50:57] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 268 seconds)
[19:00:55] *** Joins: omegatron (~some@p54849842.dip0.t-ipconnect.de)
[19:01:39] <another|> GuiToris: If you're encoding audio to opus with more than 2 channel, be sure to set -mapping_family 1
[19:07:18] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[19:16:03] *** Joins: vqueiroz (uid340368@id-340368.hampstead.irccloud.com)
[19:17:28] *** Quits: GuiToris (~GuiToris@user/guitoris) (Ping timeout: 268 seconds)
[19:21:02] *** Joins: GuiToris (~GuiToris@user/guitoris)
[19:21:02] <GuiToris> thank you another|, it's not the case now :)
[19:21:05] <GuiToris> thank you another|, it's not the case now :)
[19:37:27] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[19:44:09] *** Joins: Guest38 (~Guest38@5.29.38.146)
[19:45:34] <Guest38> Hello all, I try to merge multiple images to a single video using xfade filter. However, starting at about 10 images, memory consumption skies to more than 4GB, then the process gets killed
[19:45:53] <Guest38> I tried looking up how can I limit memory usage, but to no avail
[19:46:08] <Guest38> Perhaps anyone here can shed some light on this?
[19:47:03] *** Quits: GuiToris (~GuiToris@user/guitoris) (Quit: Sieben Acht Gute Nacht!)
[19:49:06] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Ping timeout: 260 seconds)
[19:58:29] <znf> Guest38, when asking for help, it's usually very useful to post the full command you are trying
[19:58:40] <znf> or at least the filter part
[19:59:26] *** Joins: MrZeus_ (~MrZeus@141.98.252.252)
[20:02:11] <Guest38> Sorry, here it is
[20:02:44] <Guest38> '/usr/local/bin/ffmpeg' '-y' '-i' '/var/www/storage/app/temporary/61406a1cccbf5132421787a2_0.mp4' '-i' '/var/www/storage/app/temporary/61406a1cccbf5132421787a2_1.mp4' '-i' '/var/www/storage/app/temporary/61406a1cccbf5132421787a2_2.mp4' '-i' '/var/www/storage/app/temporary/61406a1cccbf5132421787a2_3.mp4' '-i'
[20:02:44] <Guest38> '/var/www/storage/app/temporary/61406a1cccbf5132421787a2_4.mp4' '-i' '/var/www/storage/app/temporary/61406a1cccbf5132421787a2_5.mp4' '-i' '/var/www/storage/app/temporary/61406a1cccbf5132421787a2_6.mp4' '-i' '/var/www/storage/app/temporary/61406a1cccbf5132421787a2_7.mp4' '-i' '/var/www/storage/app/temporary/61406a1cccbf5132421787a2_8.mp4' '-i'
[20:02:45] <Guest38> '/var/www/storage/app/temporary/61406a1cccbf5132421787a2_9.mp4' '-i' '/var/www/storage/app/temporary/61406a1cccbf5132421787a2_10.mp4' '-filter_complex' '[0][1]xfade=transition=fade:duration=1.0:offset=2.0[s0];[s0][2]xfade=transition=fade:duration=1.0:offset=4.0[s1];[s1][3]xfade=transition=fade:duration=1.0:offset=6.0[s2];[s2][4]xfade=transition=fad
[20:02:45] <Guest38> e:duration=1.0:offset=8.0[s3];[s3][5]xfade=transition=fade:duration=1.0:offset=10.0[s4];[s4][6]xfade=transition=fade:duration=1.0:offset=12.0[s5];[s5][7]xfade=transition=fade:duration=1.0:offset=14.0[s6];[s6][8]xfade=transition=fade:duration=1.0:offset=16.0[s7];[s7][9]xfade=transition=fade:duration=1.0:offset=18.0[s8];[s8][10]xfade=transition=fade:
[20:02:46] <Guest38> duration=1.0:offset=20.0[s9];[s9]format=yuv420p[video]' '-map' '[video]' '-crf' '17' '-preset' 'fast' '-x264-params' 'sliced_threads=1' '-threads' '1' '-vcodec' 'libx264' -an '/shared_videos/61406a1cccbf5132421787a2_part1.mp4'
[20:02:56] *** Parts: eoc (~pc@user/eoc) ()
[20:26:49] *** Joins: GenTooMan (~cyberman@c-73-214-106-63.hsd1.pa.comcast.net)
[20:32:51] *** Quits: Guest65 (~Guest65@ec2-18-142-145-86.ap-southeast-1.compute.amazonaws.com) (Ping timeout: 256 seconds)
[20:33:14] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[20:33:31] *** Quits: GenTooMan (~cyberman@c-73-214-106-63.hsd1.pa.comcast.net) (Ping timeout: 265 seconds)
[20:36:24] *** Joins: Guest65 (~Guest65@ec2-18-142-145-86.ap-southeast-1.compute.amazonaws.com)
[20:55:05] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[20:56:19] *** Quits: rsx (~dummy@ppp-188-174-128-104.dynamic.mnet-online.de) (Quit: rsx)
[20:57:00] *** Joins: GenTooMan (~cyberman@c-73-214-106-63.hsd1.pa.comcast.net)
[20:58:56] *** Quits: Guest38 (~Guest38@5.29.38.146) (Quit: Connection closed)
[20:59:25] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[21:14:05] <znf> !paste
[21:15:34] *** Quits: GenTooMan (~cyberman@c-73-214-106-63.hsd1.pa.comcast.net) (Ping timeout: 265 seconds)
[21:19:15] *** Quits: gnoo (~gnoo@user/gnoo) (Quit: gnoo)
[21:28:26] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[21:51:18] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[21:58:12] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[21:59:19] *** Joins: jess (~jess@libera/staff/jess)
[22:00:21] *** Quits: OsteHovel (~OsteHovel@ti0056a400-6574.bb.online.no) (Read error: Connection reset by peer)
[22:10:52] *** Joins: Guest6569 (~Guest65@ec2-13-212-159-205.ap-southeast-1.compute.amazonaws.com)
[22:11:21] *** Quits: Guest6569 (~Guest65@ec2-13-212-159-205.ap-southeast-1.compute.amazonaws.com) (Client Quit)
[22:13:43] *** Quits: Guest65 (~Guest65@ec2-18-142-145-86.ap-southeast-1.compute.amazonaws.com) (Ping timeout: 256 seconds)
[22:14:45] *** Joins: ChocolateArmpits (~Chocolate@88.223.218.222)
[22:25:31] *** Quits: ChocolateArmpits (~Chocolate@88.223.218.222) (Quit: Leaving)
[22:27:11] *** Joins: ChocolateArmpits (~Chocolate@88.223.218.222)
[22:27:36] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Remote host closed the connection)
[22:27:53] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[22:30:00] *** Quits: ChocolateArmpits (~Chocolate@88.223.218.222) (Client Quit)
[22:30:50] *** Joins: ChocolateArmpits (~Chocolate@88.223.218.222)
[22:32:16] *** Quits: zumba_addict (~zumba_add@2601:240:4500:8320:fd82:3732:1352:1f64) (Quit: Client closed)
[22:45:30] *** Joins: blaze (~blaze@user/blaze)
[23:01:39] *** Joins: emcodem (uid483343@id-483343.helmsley.irccloud.com)
[23:01:49] <emcodem> good evening ladies and gentlemen
[23:13:54] <emcodem> i am fighting with x264 at the moment: trying to wrap a raw h264 stream to ts, getting this error
[23:13:54] <emcodem> [mpegts @ 000001c1f67dec80] Timestamps are unset in a packet for stream 0. This is deprecated and will stop working in the future. Fix your code to set the timestamps properly
[23:14:42] <emcodem> first i thought it is about a missing h264_mp4toannexb bsf but it don't seem to be related
[23:15:06] <emcodem> what it do is:
[23:15:10] <emcodem> first encode to x264:
[23:15:10] <emcodem> ffmpeg -f lavfi -i smptebars=duration=10:size=1920x1080:rate=50 -c:v libx264 -preset:v medium -profile:v main -level 4.2 -refs 4 -b:v 6000k -bufsize 9000k -maxrate 6000k -minrate 6000k  -g 50 -bf 3 -x264opts "b-adapt=2:no-weightb=1:nal-hrd=cbr:aud" -r 50 -muxrate 20M  c:\temp\out.mts
[23:15:18] *** Joins: dreamon (~dreamon@p54b14bd8.dip0.t-ipconnect.de)
[23:15:29] <emcodem> then demux the raw stream
[23:15:29] <emcodem> ffmpeg -i C:\temp\out.mts -codec copy c:\temp\unmux.h264
[23:15:34] <emcodem> then mux it again:
[23:15:38] <BtbN> Why?
[23:15:51] <BtbN> a raw .h264 file has no container, no timestamps. Naturally that makes a mess.
[23:16:10] <emcodem> ffmpeg -i C:\temp\unmux.h264 -codec copy  c:\temp\remux.ts
[23:16:42] <emcodem> hey BtbN, well the whole thing comes from me trying to get the h264 stream working on a special playout system
[23:17:22] <emcodem> i recognized that working files (mainconcept) can be unwrapped from ts to h264 raw and then re-wrapped without any problem
[23:17:34] <emcodem> now i am trying to recreate this with a x264
[23:17:36] <BtbN> If you open a raw .h264 file, you at the very least have to manually specify the framerate. Otherwise it will just default to 25 fps or something
[23:17:58] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 268 seconds)
[23:18:05] <BtbN> And there's a whole bunch of other info you lose in the process. There is not really any reason to do that.
[23:18:31] <emcodem> yeah the only reason why i do it is because i have a working file that i want to recreate
[23:19:43] <emcodem> the mainconcept stuff raw h264 can be muxed with -codec copy without any error messages about missing dts/pts
[23:20:07] <emcodem> so i wonder what is missing in my x264 raw stream compared to mainconcept
[23:21:10] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Ping timeout: 240 seconds)
[23:22:03] <BtbN> Probably it's in an actual container and they just decided to name it .h264
[23:22:23] <BtbN> There is never a good reason to use raw files. It only breaks stuff
[23:23:59] <emcodem> nah, i first wrap the mainconcept stuff using ffmpeg to ts (codec copy)
[23:24:06] <emcodem> it works on playout
[23:24:22] <emcodem> sorry, one step missing
[23:24:53] <emcodem> first i wrap from mainconcept mp4 to ffmpeg to ts
[23:24:59] <BtbN> it working without complaining or messing up the framerate strongly suggests it's already in a somewhat capable container
[23:25:21] *** Quits: pit (~quassel@v22016102921539034.goodsrv.de) (Quit: https://quassel-irc.org - Komfortabler Chat. Überall.)
[23:25:37] *** Joins: pit (~quassel@v22016102921539034.goodsrv.de)
[23:25:50] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[23:26:06] <emcodem> then i unwrap from ts  to h264 raw video and wrap to ts again - the mainconcept file, no problems regarding timestamps or such
[23:26:30] <emcodem> i'd just like to reproduce this with an x264 encoded file
[23:30:48] <emcodem> honestly, i tried to analyze the differences in the h264 syntax for some time already but i was not able to find out what could make THIS difference
[23:35:51] <emcodem> this is the raw mainconcept h264
[23:35:52] <emcodem> https://wetransfer.com/downloads/dd8b696e975890c934694912bfa1807120210914190503/d7f6c2d2c7df3169f2901e3ad6e474bc20210914190522/933065
[23:36:09] <emcodem> framerate, all seems to be there
[23:37:46] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Ping timeout: 260 seconds)
[23:41:29] <BtbN> Please use a sane pastebin service oO
[23:41:35] <emcodem> oh sorry
[23:41:36] <BtbN> that site is even worse than pastebin.com
[23:41:58] <emcodem> hehe
[23:43:52] <emcodem> https://pastebin.com/FKwf0NJ1
[23:44:02] <emcodem> not sure if i can upload binary files on pastebin
[23:44:59] <BtbN> I still think the file you're looking at is in a container, given all the info it manages to extract.
[23:45:01] <emcodem> anyway, above is the mainconcept version, fps and such is there, no errors/warnings when doing ffmpeg -i mainconcept.h264 -codec copy c:\temp\mainconcept.ts
[23:45:18] <emcodem> well i just created the file
[23:45:18] <emcodem> ffmpeg -i "C:\Users\emcod\Downloads\Bars_50p_cbr-TS (2).mpg" -codec copy c:\temp\mainconcept.h264
[23:45:37] <BtbN> What does file say about the file?
[23:45:44] <emcodem> linux file?
[23:46:06] <BtbN> the "file" command
[23:46:24] <emcodem> mainconcept.h264: data
[23:46:39] <emcodem> using wsl ubuntu on win 10
[23:47:51] *** Joins: thebombzen (~thebombze@587232703.guest.umich.net)
[23:48:11] <another|> maybe custom metadata
[23:48:17] <emcodem> first bytes in mainconcept.h264 in hex editor: 00 00 00 01 09
[23:48:33] <BtbN> that's just an h264 start code
[23:48:37] <emcodem> i guess so, but which could it be
[23:48:49] <emcodem> and how to insert it using x264
[23:49:00] <BtbN> Don't think you do. And why?
[23:49:04] <another|> SEIß
[23:49:08] <another|> SEI?
[23:49:13] <BtbN> There is never a sane reason to use raw .h264, so info like that is wasted space
[23:50:06] <emcodem> yeah i am with you BtbN, as said, i am just trying to create the same filetype as mainconcept does... i already analyzed and inserted the "aud" NAl
[23:50:13] <emcodem> which helped but it is still not working
[23:50:24] <emcodem> ok, SEI:
[23:54:13] <emcodem> Working:
[23:54:14] <emcodem> https://pastebin.com/G55vhKRi
[23:54:56] <emcodem> Not working:
[23:54:57] <emcodem> https://pastebin.com/HCNz4FQV
[23:56:55] <emcodem> the "working is from the mainconcept file of course, the non working from the x264
