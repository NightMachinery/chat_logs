[00:16:46] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[00:19:07] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[00:33:04] *** Joins: lgc (~lgc@user/lgc)
[00:39:03] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Quit: ZNC 1.8.2 - https://znc.in)
[00:41:22] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[00:41:42] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.6-dev)
[01:33:22] *** Joins: jensen (~jensen@65.78.100.184)
[01:49:59] *** Quits: fcr (~fran@r167-56-83-23.dialup.adsl.anteldata.net.uy) (Ping timeout: 246 seconds)
[01:50:42] <jensen> how to use the q command gnu extension for this command to exit 1 if no substitution is performed: sed -e "/^youtube ${id}\$/d" "$archive"
[01:53:39] <Riviera> you don't have a substitution in your script
[01:55:11] <jensen> i mean deletion
[01:55:41] *** Joins: e36freak (~e36freak@user/e36freak)
[01:56:15] <Riviera> it'd be annoying to script this, you'd have to keep state and to check the state on exit,
[01:56:20] <Riviera> if your script is really what you want,
[01:56:24] <Riviera> then simply use grep
[01:56:36] <Riviera> or, wait, sorry.
[01:57:00] *** Joins: fcr (~fran@r167-60-68-84.dialup.adsl.anteldata.net.uy)
[01:57:46] <jensen> https://stackoverflow.com/a/15965681 but i don't know the syntax or maybe my command is in double quotes
[01:57:54] <jensen> i am super noob
[01:58:50] <Riviera> jensen: so, you have multiple lines of input,
[01:59:14] <Riviera> jensen: and if there is, amongst all these lines, a line like "youtube <some id>", then you want this line to be removed from the output,
[01:59:20] <Riviera> jensen: while all other lines should still be printed,
[01:59:39] <Riviera> jensen: and you want sed to exit with an exit code of 1, if such line was found?
[02:00:17] <jensen> yea. i don't want to grep -q or diff before/after the sed command to run, i want to use sed q command
[02:00:29] <Riviera> ok
[02:02:21] <Riviera> jensen: i'll try, give me a few minutes; can't promise anything though :)
[02:02:44] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[02:06:34] <Riviera> jensen: sed -n "/^youtube $id$/"'!p;//h;$!d;g;//q1'
[02:06:50] <Riviera> jensen: two caveats though: this requires GNU sed, other seds won't work,
[02:06:56] <Riviera> jensen: and
[02:07:19] <Riviera> jensen: this allows code injection, with malicious values of id you can execute arbitrary code.
[02:08:08] <Riviera> # id=123; { echo test; echo youtube 123; } | sed -n "/^youtube $id$/"'!p;//h;$!d;g;//q1'; echo "Exit code: $?"
[02:08:09] <shbot> Riviera: test
[02:08:09] <shbot> Riviera: Exit code: 1
[02:08:20] <Riviera> # id=123; { echo test; echo youtube different_id; } | sed -n "/^youtube $id$/"'!p;//h;$!d;g;//q1'; echo "Exit code: $?"
[02:08:21] <shbot> Riviera: test
[02:08:21] <shbot> Riviera: youtube different_id
[02:08:21] <shbot> Riviera: Exit code: 0
[02:09:35] *** Joins: maret_ (~maret@nat-88-212-37-89.antik.sk)
[02:10:24] *** Quits: maret_ (~maret@nat-88-212-37-89.antik.sk) (Client Quit)
[02:15:48] <jensen> ooo thanks, that works. how would i inverse the exit code (exit code 1 if no deletion performed, 0 otherwise)? 
[02:17:02] <e36freak> easy answer? put a ! in front of the command
[02:17:12] <e36freak> ! sed -n ....
[02:17:32] <jensen> ok i'll just do that, thanks
[02:18:10] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[02:34:22] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[03:41:27] <Riviera> jensen: sorry, was / am not around anymore, but i was looking for a quick fix, and coincidentally i would also simply add a ! to the command, like this:
[03:41:36] <Riviera> jensen: sed -n "/^youtube $id$/"'!p;//h;$!d;g;//!q1'
[03:42:07] <jensen> perfect, thanks!
[03:42:22] <Riviera> :)
[03:43:58] *** Quits: [diablo] (~diablo]@user/diablo/x-9068044) (Ping timeout: 260 seconds)
[03:47:00] *** Quits: bomb-on (~bomb-on@user/bomb-on) (Quit: aллилѹіа!)
[04:14:21] *** Quits: wurstwasser_2 (~frank.hol@2001:a61:35fd:e401:3008:a2d9:aa74:6e5d) (Remote host closed the connection)
[05:01:34] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[07:02:34] *** Joins: adeliktas3 (~adeliktas@i59F5F92F.versanet.de)
[07:04:17] *** Quits: adeliktas (~adeliktas@i59F4D7EF.versanet.de) (Ping timeout: 246 seconds)
[07:04:17] *** adeliktas3 is now known as adeliktas
[07:07:35] *** Joins: vlm (~vlm@user/vlm)
[07:09:31] *** Quits: nitro_ (~nitro_@c-73-165-183-88.hsd1.pa.comcast.net) (Ping timeout: 250 seconds)
[07:10:00] *** Joins: nitro_ (~nitro_@c-73-165-183-88.hsd1.pa.comcast.net)
[09:22:53] *** Joins: malina (~malina@user/malina)
[10:04:17] *** Joins: [diablo] (~diablo]@user/diablo/x-9068044)
[10:12:24] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[10:21:35] *** Quits: jensen (~jensen@65.78.100.184) (Quit: WeeChat 3.5)
[10:23:41] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[10:26:19] *** Quits: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net) (Quit: It's just that easy)
[11:09:27] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (*.net *.split)
[11:09:27] *** Quits: jle (~jle@user/jle) (*.net *.split)
[11:09:27] *** Quits: sunny93 (~sunny93@wireguard/tunneler/sunny93) (*.net *.split)
[11:09:27] *** Quits: _val_ (~valentin@82-169-14-137.biz.kpn.net) (*.net *.split)
[11:09:27] *** Quits: pyre (~pyre@crimeboss.nillas-power.com) (*.net *.split)
[11:09:28] *** Quits: mingdao (~mingdao@wireguard/tunneler/mingdao) (*.net *.split)
[11:09:55] *** Joins: mingdao (~mingdao@107-146-172-064.res.spectrum.com)
[11:10:06] *** Joins: pyre (~pyre@crimeboss.nillas-power.com)
[11:10:12] *** Quits: mingdao (~mingdao@107-146-172-064.res.spectrum.com) (Changing host)
[11:10:12] *** Joins: mingdao (~mingdao@wireguard/tunneler/mingdao)
[11:10:15] *** Joins: sunny93 (~sunny93@wireguard/tunneler/sunny93)
[11:12:01] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[11:13:12] *** Quits: eqw (~eqw@31.134.178.99) (*.net *.split)
[11:13:24] *** Joins: eqw (~eqw@31.134.178.99)
[11:15:00] *** Joins: _val_ (~valentin@82-169-14-137.biz.kpn.net)
[11:17:10] *** Joins: nerozero (~nerozero@87.253.63.54)
[12:57:06] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Read error: Connection reset by peer)
[12:57:33] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[13:17:50] *** Quits: malina (~malina@user/malina) (Ping timeout: 272 seconds)
[13:20:03] *** Joins: malina (~malina@user/malina)
[13:26:43] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 260 seconds)
[13:49:33] *** Quits: fcr (~fran@r167-60-68-84.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[13:58:18] *** Joins: fcr (~fran@r186-48-46-24.dialup.adsl.anteldata.net.uy)
[15:27:47] *** Joins: ychaouche (~ychaouche@user/ychaouche)
[15:28:02] <ychaouche> o/
[15:36:58] <ychaouche> ok I'am a bit lost here. I'd like to match 5 digits. Is \d{5} ok ?
[15:37:11] <ychaouche> sorry, I have to test it
[15:37:26] <ychaouche> I have to simplify my regex until it works
[15:39:02] <geirha> [0-9]\{5\}
[15:39:44] <geirha> or [[:digit:]]\{5\}
[15:40:46] <ychaouche> so \d is neither basic nor extended regex ? 
[15:41:09] <ychaouche> I am using gnu sed, with and without the -r flag (extended)
[15:41:40] <geirha> indeed, \d is a perl-ism
[15:43:33] <ychaouche> Good to know. Thanks geirha
[15:49:28] <ychaouche> s/[[:digit:]]// doesn't seem to be understood either
[15:50:04] <ychaouche> https://gist.github.com/ychaouche/7e5f05b2654bc6a3846746713ec16f38
[15:51:49] <geirha> sure it is, it removed the 1 in 127
[15:57:17] <ychaouche> oh, silly me :)
[15:58:21] <ychaouche> it seems I need the extended flag in order for the {5} part to work
[15:58:59] <ychaouche> https://gist.github.com/ychaouche/22c0d1e65af72956bc14d7ac7aa04eaa
[15:59:39] <ychaouche> and that "\" are optionnal in case of the extended version
[16:06:40] <geirha> no
[16:07:10] <geirha> in BRE, it's   [[:digit:]]\{5\}   in ERE it's  [[:digit:]]{5}
[16:07:39] <geirha> if you use \{5\} in ERE, it will match literal braces
[16:12:19] <geirha> in your paste you forgot shell quotes around the sed scripts, so \{ became { before sed got it
[16:12:58] <ychaouche> oh, thanks geirha
[16:13:00] <geirha> # echo LOCAL [127.0.0.1]:43504 | sed 's/[[:digit:]]\{5\}//'
[16:13:01] <shbot> geirha: LOCAL [127.0.0.1]:
[16:13:34] <ychaouche> duh!
[16:50:42] *** Joins: Atque (~Atque@user/atque)
[16:56:24] *** Joins: FH_thecat (~FH_thecat@75.11.25.212.ftth.as8758.net)
[17:29:08] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[17:30:06] *** Joins: Atque (~Atque@user/atque)
[17:50:44] *** Quits: ikwyl6 (~ikwyl6@195.206.105.22) (Read error: Connection reset by peer)
[17:55:44] *** Joins: ikwyl6 (~ikwyl6@195.206.105.22)
[18:14:16] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[18:39:35] *** Parts: ychaouche (~ychaouche@user/ychaouche) (Konversation terminated!)
[18:41:55] *** Quits: FH_thecat (~FH_thecat@75.11.25.212.ftth.as8758.net) (Quit: Leaving)
[18:49:28] *** Joins: wataru (~wataru@p59010-mobac01.tokyo.ocn.ne.jp)
[18:51:39] *** Quits: wataru (~wataru@p59010-mobac01.tokyo.ocn.ne.jp) (Client Quit)
[19:19:54] *** Joins: lgc (~lgc@user/lgc)
[19:21:55] *** Quits: chiselfuse (~chiselfus@user/chiselfuse) (Ping timeout: 240 seconds)
[19:23:24] *** Quits: lgc (~lgc@user/lgc) (Client Quit)
[19:24:05] *** Joins: chiselfuse (~chiselfus@user/chiselfuse)
[19:47:15] *** Quits: Mehavoid (~XXX@176.195.255.137) (Remote host closed the connection)
[19:48:14] *** Joins: Mehavoid (~XXX@176.195.255.137)
[19:54:21] <malina> he's my fave ircer i think ,p.
[19:56:50] *** Quits: malina (~malina@user/malina) (Remote host closed the connection)
[20:13:09] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[20:32:32] *** Joins: YaoNai (~YaoNai@user/yaonai)
[20:39:25] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[20:50:10] *** Joins: malina (~malina@user/malina)
[21:42:21] *** Joins: nvmd (~weechat@user/nvmd)
[22:28:17] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 246 seconds)
[23:04:19] *** Joins: seninha (~seninha@user/seninha)
[23:05:36] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[23:10:29] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[23:49:53] *** Joins: bomb-on (~bomb-on@user/bomb-on)
[23:49:57] *** Joins: [diablo]8 (~diablo]@user/diablo/x-9068044)
[23:51:14] *** Quits: [diablo] (~diablo]@user/diablo/x-9068044) (Ping timeout: 246 seconds)
[23:51:14] *** [diablo]8 is now known as [diablo]
