[00:02:22] <rdbeni0> so my implementation will be like that : only one tag: +BIN (easy one to remember). And all files with that tag will be mv into ./Bin , and ./Bin folder will be automatically purged after 3 days
[00:05:00] <bremner> you might (or might not) want to add BIN to search.exclude_tags
[00:06:17] <rdbeni0> yes, good idea
[00:09:05] <rdbeni0> bremner: you are the main developer? you are very active on this chanell
[00:45:43] *** Joins: yeled (~yeled@host-79-77-55-168.static.as9105.com)
[00:48:08] *** Quits: geyaeb (~geyaeb@gateway/tor-sasl/geyaeb) (Remote host closed the connection)
[00:48:32] *** Joins: geyaeb (~geyaeb@gateway/tor-sasl/geyaeb)
[00:49:19] *** Quits: rgrinberg (~textual@2806:101e:7:8d89:ad31:8328:5a08:79cc) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[00:50:31] *** Quits: yeled (~yeled@host-79-77-55-168.static.as9105.com) (Client Quit)
[00:53:37] *** Joins: yeled (~yeled@host-79-77-55-168.static.as9105.com)
[01:09:12] *** Quits: kzak (~kzak@nat-37.starnet.cz) (Ping timeout: 272 seconds)
[01:16:17] *** Quits: nyah (~nyah@05453449.skybroadband.com) (Ping timeout: 256 seconds)
[02:06:50] *** Quits: seschwar (~seschwar@user/seschwar) (Quit: :wq)
[02:14:05] *** Joins: rgrinberg (~textual@2806:101e:7:70b6:953a:f456:a95e:2f9f)
[02:40:38] *** Quits: bluejaypop (~7f000001@user/josefig) (Ping timeout: 268 seconds)
[02:43:28] *** Joins: bluejaypop (~7f000001@user/josefig)
[02:59:24] *** Quits: cworth (~cworth@arlo.cworth.org) (Ping timeout: 240 seconds)
[03:12:49] *** Joins: cworth (~cworth@arlo.cworth.org)
[03:38:03] *** Quits: rdbeni0 (~rdbeni0@public-gprs368795.centertel.pl) (Quit: Leaving.)
[03:44:47] *** Quits: bdale (~bdale@209-248-100-20.falconbroadband.net) (Ping timeout: 256 seconds)
[03:44:54] *** Joins: bdale (~bdale@209-248-100-20.falconbroadband.net)
[03:45:00] *** Quits: cworth (~cworth@arlo.cworth.org) (Ping timeout: 240 seconds)
[03:58:24] *** Joins: cworth (~cworth@arlo.cworth.org)
[04:59:48] *** Quits: pazz (~pazz@0x7fffffff.net) (Ping timeout: 240 seconds)
[05:11:53] *** Joins: pazz (~pazz@0x7fffffff.net)
[05:19:22] *** Quits: jao (~jao@cpc103048-sgyl39-2-0-cust502.18-2.cable.virginm.net) (Ping timeout: 272 seconds)
[05:23:57] *** Joins: kenny (~kenny@user/kenny)
[05:30:17] *** Quits: bindu (~bindu@user/bindu) (Remote host closed the connection)
[05:30:36] *** Joins: bindu (~bindu@user/bindu)
[05:58:31] *** Quits: rgrinberg (~textual@2806:101e:7:70b6:953a:f456:a95e:2f9f) (Ping timeout: 256 seconds)
[07:52:48] *** Quits: gast0n (~g4570n@user/gast0n) (Quit: Bye, see you soon! ðŸ‘‹)
[07:56:58] *** Joins: rgrinberg (~textual@2806:101e:7:70b6:ec92:fad1:5a31:6c82)
[08:59:56] *** Quits: pazz (~pazz@0x7fffffff.net) (Ping timeout: 245 seconds)
[09:05:51] *** Joins: pazz (~pazz@0x7fffffff.net)
[09:13:42] *** Quits: geyaeb (~geyaeb@gateway/tor-sasl/geyaeb) (Read error: Connection reset by peer)
[09:13:42] *** Quits: bindu (~bindu@user/bindu) (Read error: Connection reset by peer)
[09:16:33] *** Joins: bindu (~bindu@user/bindu)
[09:16:37] *** Joins: geyaeb (~geyaeb@gateway/tor-sasl/geyaeb)
[09:50:37] *** Quits: geyaeb (~geyaeb@gateway/tor-sasl/geyaeb) (Read error: Connection reset by peer)
[09:50:37] *** Quits: bindu (~bindu@user/bindu) (Read error: Connection reset by peer)
[09:50:51] *** Joins: bindu (~bindu@user/bindu)
[09:51:02] *** Joins: geyaeb (~geyaeb@gateway/tor-sasl/geyaeb)
[09:51:52] *** Quits: bindu (~bindu@user/bindu) (Remote host closed the connection)
[09:52:36] *** Joins: bindu (~bindu@user/bindu)
[10:23:30] *** Quits: rgrinberg (~textual@2806:101e:7:70b6:ec92:fad1:5a31:6c82) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[10:34:02] *** Joins: rgrinberg (~textual@2806:101e:7:70b6:ec92:fad1:5a31:6c82)
[10:34:34] *** Quits: rgrinberg (~textual@2806:101e:7:70b6:ec92:fad1:5a31:6c82) (Client Quit)
[11:00:38] *** Joins: kzak (~kzak@nat-37.starnet.cz)
[11:56:49] <inwit> Since the last few days, notmuch is having trouble showing some email messages (mainly in html) with accents and other special characters. I get things like "S\355" instead of "SÃ­", and I can solve it with recode-region only when I'm replying to those messages, but not when showing them. This didn't happen before, does anyone know what could be the cause?
[12:56:07] *** Quits: pazz (~pazz@0x7fffffff.net) (Ping timeout: 256 seconds)
[13:09:49] *** Joins: pazz (~pazz@0x7fffffff.net)
[13:41:28] <Domo> first that comes in mind is incorrect charset
[13:45:26] <inwit> Thanks, Domo! But it's happening with senders that haven't changed their system and their mails are shown incorrectly now. How can I tell notmuch-show to correctly identify charsets?
[13:55:32] *** Quits: cworth (~cworth@arlo.cworth.org) (Ping timeout: 272 seconds)
[14:09:41] *** Joins: cworth (~cworth@arlo.cworth.org)
[14:25:57] <inwit> I've found mail-parse-charset, but it's a variable that should not be set manually.
[14:50:51] <inwit> I'm starting to think this might be related to mailcap.
[15:18:31] <Domo> use 'V' in notmuch-show buffer to investigate headers...
[15:37:36] <bremner> those issues are devilishly hard to track down in my experience. If it's _every_ html mail it should be possible to share a sample though.
[16:08:30] <inwit> bremner: you mean sharing an affected message to see if the problem it's there?
[16:08:40] <bremner> inwit: yes
[16:09:11] <bremner> although encodings and locales tend to be user specific, it's worth a shot
[16:10:13] <inwit> Domo: html messages affected have "Content-Type: text/html; charset="iso-8859-1" Content-Transfer-Encoding: quoted-printable" in the headers.
[16:15:35] <inwit> Here's a (spam) message affected. It is not in iso-8859-1 but in utf-8: https://paste.sr.ht/~inwit/52017281552963a3e8a2843b5fbee4451ff856a4
[16:17:15] <bremner> spam is often pretty malformed, but I'll have a look.
[16:18:26] <bremner> hmm. actually, afaict that renders OK for me. So maybe try in a minimal emacs config and a utf8 locale (if not already)
[16:19:18] *** Joins: jao (~jao@cpc103048-sgyl39-2-0-cust502.18-2.cable.virginm.net)
[16:24:12] <inwit> Here's another non spam: https://paste.sr.ht/~inwit/609ebee215ce43076d8c6efaaf95844e6b5ab596
[16:24:24] <inwit> bremner: thanks, I'll do that.
[16:41:23] <inwit> It renders pefectly in vanilla emacs, indeed, bremner.
[16:42:49] <bremner> inwit: hmm. I guess look for anything gnus related in your (spacemacs?) config
[16:45:48] <inwit> bremner: spacemacs, yes. Nightmare when it breaks. Pretty cool when it doesn't. No gnus in my config, afaics.
[16:51:00] <bremner> yeah, but is there some spacemacs tweeks to gnus?
[17:01:08] <inwit> bremner: emacs indeed knows many gnus- prefixed variables under C-h v. :-S
[17:01:55] <bremner> it's a just a vague guess at a debugging strategy, sorry
[17:02:32] <inwit> It makes sense. I guess I need to learn the basics of gnus.
[17:23:07] *** Joins: dme (~dme@2001:8b0:bb71:7140:64::1)
[17:42:48] *** Quits: dme (~dme@2001:8b0:bb71:7140:64::1) (Ping timeout: 252 seconds)
[17:58:07] *** Joins: dme (~dme@2001:8b0:bb71:7140:64::1)
[18:05:54] <inwit> bremner: I found it: mm-text-html-renderer was set to lynx.
[18:06:19] <bremner> aha. yes, that's the kind of gnus thing I was thinking of.
[18:06:30] <bremner> I should have been more specific I guess
[18:13:34] <inwit> I should have dig deeper, myself. :)
[18:30:59] *** Joins: seschwar (~seschwar@user/seschwar)
[18:31:04] <inwit> s/dig/dug/
[19:26:49] *** Joins: acdw (~case@user/acdw)
[20:48:17] *** Quits: andi- (~andi-@user/andi-) (Ping timeout: 240 seconds)
[20:54:13] *** Joins: rgrinberg (~textual@2806:101e:7:8d89:1802:de9a:e357:e4e3)
[21:01:17] *** Joins: andi- (~andi-@user/andi-)
[21:30:30] *** Joins: rdbeni0 (~rdbeni0@public-gprs368795.centertel.pl)
[21:30:55] <rdbeni0> hi all, i am still configuring notmuch
[21:31:19] <rdbeni0> for bash pre/post scripts i found function like that:
[21:31:22] <rdbeni0> function safeMove { s=${1##*/}; s=${s%%,*}; mv -f $1 $2/$s; }
[21:31:52] <rdbeni0> basically that function is dedicated for moving files between maildir directories
[21:32:16] <rdbeni0> and my question, can i use it without any issues? i am not specialist with maildir
[21:32:33] <rdbeni0> i am asking because that function is truncating filename
[21:32:49] <rdbeni0> and as we know, maildir filenames are very sensitive
[21:33:16] <bremner> rdbeni0: do you intend to synch these files back to an imap server?
[21:33:43] <rdbeni0> yes, sync will be in two ways
[21:33:57] <bremner> then I guess you need to keep your sync tool happy
[21:36:02] <rdbeni0> yes, it seems someone  used that function with mbsync/isync : https://notmuchmail.org/pipermail/notmuch/2019/028956.html
[21:36:11] <acdw> anybody here use Fastmail? There's a new feature that will tag messages, I'm guessing Gmail-style?, instead of using folders. I was wondering if anyone here had used that feature and seen how well it worked with Notmuch.  If not, I spose I could work with it this weekend and see if it breaks anything.. gulp
[21:36:13] <rdbeni0> ok anyway i will try
[21:37:00] <bremner> acdw: unless it actually uses the gmail pseudo-IMAP api, I'm not sure what "gmail style" means in practice
[21:37:25] <acdw> yeah i have no idea.
[21:38:27] <acdw> this article might help, lol: https://docs.google.com/document/d/1HdFYnLQzxbyqn_qkOMMmgEJIQQW4E-PAnYicGm7cCII/edit
[21:38:31] <acdw> shit, not that one
[21:38:35] <acdw> https://www.fastmail.help/hc/en-us/articles/360058753554-Setting-up-and-using-labels <- this one
[21:39:34] <acdw> oh, and https://www.fastmail.help/hc/en-us/articles/1500000278282 <- here
[21:39:38] <acdw> nevermind, i spose!
[21:41:24] <acdw> i might have to ask fastmail support
[21:42:19] <bremner> Maybe they have an API, like gmail does.
[21:43:00] <acdw> i'
[21:43:17] <acdw> i'd hope so tbh... then i could ask lieer dev to also support fastmail or soemthing
[21:43:25] <acdw> or... learn python and write my own -_-
[21:43:50] <acdw> i mean, could also set up some complicated notmuch rules... that might be too much. i'm keeping them as folders for now
[22:03:51] *** Quits: rgrinberg (~textual@2806:101e:7:8d89:1802:de9a:e357:e4e3) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:05:36] <olly> I'm amused that a "safeMove" function doesn't quote the arguments it passes to mv
[22:10:33] *** Joins: rgrinberg (~textual@2806:101e:7:8d89:1802:de9a:e357:e4e3)
[22:12:06] <rdbeni0> what do you mean? it will work
[22:12:27] <rdbeni0> i am writing bash script now and wrapper for that function
[22:12:27] <bremner> do you have spaces or other tricky characters in your file names?
[22:12:32] <rdbeni0> no
[22:12:54] <rdbeni0> mbsync does not use that
[22:13:10] <bremner> well, folder names also. "Sent Mail" is common, e.g.
[22:13:23] <rdbeni0> you are right
[22:13:25] <rdbeni0> Sent Mail
[22:14:05] <rdbeni0> omg
[22:28:15] <acdw> always quote your variables kids
[22:31:00] <olly> Even if you don't think there are such characters it's better to not rely on that if it isn't you that picks the names
[22:31:48] <rdbeni0> https://imgur.com/xFhouVp.png
[22:32:28] <rdbeni0> hmm, i am not sure how can i escape potencial spaces here
[22:40:11] <olly> Put " around the arguments to mv and where you call safeMove
[22:40:20] <inwit> I have had problems with that "safeMove" function, rdbeni0.
[22:40:38] <olly> Around each argument that is
[22:40:54] <inwit> The issue is that when you remove the uid part of the file, you get rid of the flags too. You don't really want that.
[22:41:43] <inwit> I came up with this alternative:
[22:41:43] <olly> Oh though the for needs attention too and that's harder
[22:42:28] <inwit> ```function safeMove2 { f=${1##*/}; flags=${f##*:}; sf=${f%%,*}; mv -f "$1" "$2"/$sf:$flags; }```
[22:43:10] <inwit> Variable naming is clearly not the best.
[22:44:32] <inwit> But I believe it works.
[22:53:52] <rdbeni0> "The issue is that when you remove the uid part of the file, you get rid of the flags too. You don't really want that.", ok, but i want only use to BIN/TRASH
[22:54:00] <rdbeni0> hmm
[22:56:35] <bremner> I guess never understood why you can just move the file to a different directory, but I'm not using mbsync.
[23:00:46] <inwit> rdbeni0, if you're only trashing, i guess you don't really care about flags.
[23:00:53] <rdbeni0> ok
[23:01:21] <inwit> My usecase is different, I keep folders and tags simultaneously so I can access my mail structure both from imap and using notmuch.
[23:01:47] <acdw> ooh inwit, please tell me more
[23:03:56] *** Quits: rgrinberg (~textual@2806:101e:7:8d89:1802:de9a:e357:e4e3) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[23:14:28] <inwit> acdw: see if this works: https://paste.sr.ht/~inwit/018642e5c1cae1e57ae449006b6ed5087ae964d0
[23:18:04] <rdbeni0> https://imgur.com/iLJ6Z9a.png i did some tests, and its good to add : IFS=$'\n'
[23:18:06] <rdbeni0> and also
[23:18:11] <rdbeni0> "'"$1"'"
[23:18:30] <rdbeni0> for i in $(...); do
[23:18:38] <rdbeni0> is also dangerous without correct IFS
[23:24:34] <rdbeni0> ok i implemented safeMove2
[23:34:22] *** Joins: xaltsc (~xaltsc@user/xaltsc)
[23:43:58] <rdbeni0> move to folder Bin - it should be in "pre new" hook i think
[23:44:07] <rdbeni0> not post new
