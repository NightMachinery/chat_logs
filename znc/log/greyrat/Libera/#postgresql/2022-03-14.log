[00:12:27] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[00:16:52] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[00:17:11] *** Joins: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr)
[00:24:23] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[00:25:40] *** Quits: odnes__ (~odnes@5-203-219-67.pat.nym.cosmote.net) (Quit: Leaving)
[00:25:56] *** Joins: odnes (~odnes@5-203-219-67.pat.nym.cosmote.net)
[00:26:46] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Client Quit)
[00:27:22] *** Quits: odnes (~odnes@5-203-219-67.pat.nym.cosmote.net) (Client Quit)
[00:27:41] *** Joins: odnes (~odnes@5-203-219-67.pat.nym.cosmote.net)
[00:28:39] *** Quits: odnes (~odnes@5-203-219-67.pat.nym.cosmote.net) (Client Quit)
[00:32:14] *** Quits: mizi (~mizi@user/mizi) (Ping timeout: 250 seconds)
[00:40:15] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[00:42:23] *** Quits: libsys (~libsys@186.105.157.179) (Ping timeout: 256 seconds)
[00:42:36] *** Joins: libsys (~libsys@186.105.148.117)
[00:43:26] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[00:43:50] *** Joins: zzing (~zzing@d24-57-14-115.home.cgocable.net)
[00:44:53] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[00:49:18] *** Quits: dob1 (~dob1@user/dob1) (Quit: quit)
[00:49:37] *** Quits: tehenderz (~tehenderz@ti0018a400-9192.bb.online.no) (Ping timeout: 240 seconds)
[00:50:28] *** Joins: tehenderz (~tehenderz@ti0018a400-10618.bb.online.no)
[00:57:42] *** Quits: csileeeeeeeeeeoe (~csileeeee@50.232.121.75) (Remote host closed the connection)
[00:57:54] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[01:05:11] *** Quits: michalz (~michalz@185.246.204.93) (Remote host closed the connection)
[01:12:44] *** Joins: kakashiA1 (~kakashi@41.251.27.58)
[01:15:50] *** Joins: dob1 (~dob1@user/dob1)
[01:18:36] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 250 seconds)
[01:20:41] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Ping timeout: 272 seconds)
[01:21:13] *** Quits: ysch (~ysch@91.211.93.148) (Read error: Connection reset by peer)
[01:21:52] *** Joins: ysch (~ysch@91.211.93.148)
[01:23:53] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[01:24:28] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 272 seconds)
[01:24:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[01:25:48] *** Quits: dob1 (~dob1@user/dob1) (Ping timeout: 252 seconds)
[01:25:50] *** Joins: dob1_ (~dob1@user/dob1)
[01:27:50] *** Quits: PeGaSuS (WeeChat@user/pegasus) (Quit: Goodbye! - WeeChat 3.4)
[01:28:53] *** Joins: PeGaSuS (WeeChat@user/pegasus)
[01:31:52] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[01:32:06] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[01:39:23] *** Quits: merzo (~Thunderbi@46.96.183.69) (Quit: merzo)
[01:43:47] *** Quits: magla (~gelignite@55d47190.access.ecotel.net) (Quit: Stay safe!)
[01:44:11] *** Quits: PeGaSuS (WeeChat@user/pegasus) (Remote host closed the connection)
[01:44:50] *** Joins: PeGaSuS (WeeChat@user/pegasus)
[01:45:41] *** Quits: manti7 (~manti7@176.10.104.94) (Quit: WeeChat 3.4)
[01:50:14] *** Quits: bmomjian (~bruce@momjian.us) (Ping timeout: 250 seconds)
[01:51:44] *** dob1_ is now known as dob1
[01:51:54] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Read error: Connection reset by peer)
[01:51:58] *** Joins: ur5us_ (~ur5us@203.86.198.200)
[01:52:45] *** Quits: kakashiA1 (~kakashi@41.251.27.58) (Ping timeout: 252 seconds)
[02:00:09] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[02:05:20] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Remote host closed the connection)
[02:05:39] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[02:06:49] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Ping timeout: 256 seconds)
[02:07:12] *** Quits: PeGaSuS (WeeChat@user/pegasus) (Remote host closed the connection)
[02:07:51] *** Joins: PeGaSuS (WeeChat@user/pegasus)
[02:08:31] *** Quits: realies (~realies@user/realies) (Ping timeout: 256 seconds)
[02:08:42] *** Quits: shka (~herr@109.231.3.55) (Ping timeout: 252 seconds)
[02:10:59] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[02:11:20] *** Quits: Reiner_Unsinn_ (~quassel@p5dd47daa.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[02:13:20] *** Quits: pedja (~pedja@user/deus-ex/x-7934090) (Quit: Leaving)
[02:15:16] *** Quits: gambl0re (~gambl0re@2607:fea8:a59f:c360::4f67) (Quit: WeeChat 3.4)
[02:19:36] *** Quits: PeGaSuS (WeeChat@user/pegasus) (Quit: Goodbye! - WeeChat 3.4.1)
[02:21:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[02:24:32] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[02:25:24] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 240 seconds)
[02:25:34] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[02:27:10] *** Joins: vit (~vit@chello085216193138.chello.sk)
[02:27:34] *** vit is now known as Guest8508
[02:28:29] *** Quits: Guest8508 (~vit@chello085216193138.chello.sk) (Client Quit)
[02:28:48] *** Joins: vit (~vit@chello085216193138.chello.sk)
[02:29:12] *** vit is now known as Guest7375
[02:30:17] *** Quits: rdunklau (~rdunklau@static-176-158-121-96.ftth.abo.bbox.fr) (Quit: ZNC 1.8.2 - https://znc.in)
[02:30:40] *** Joins: rdunklau (~rdunklau@static-176-158-121-96.ftth.abo.bbox.fr)
[02:31:52] *** Quits: Petruchio (~ray@dynamic-acs-24-154-115-19.zoominternet.net) (Read error: No route to host)
[02:31:57] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[02:32:22] *** Joins: MrZeus_ (~MrZeus@194.37.96.119)
[02:32:51] *** Joins: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[02:34:19] *** Joins: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br)
[02:34:53] *** Joins: Exuma (~Exuma@47-208-155-156.erkacmtk03.res.dyn.suddenlink.net)
[02:35:24] *** Quits: MrZeus__ (~MrZeus@81.92.206.10) (Ping timeout: 240 seconds)
[02:35:34] *** Quits: Klinda (~superleag@user/klinda) (Quit: Konversation terminated!)
[02:35:39] <Exuma> *is it possible to conditionally load multiple columns at once? For example I have thousands of json records with some varying columns. depending on the vendor_id i want to map the fields in one go, in some kind of case
[02:35:57] <Exuma> but i have to do the case for every single column instead of doing the case once per row and then loading the multipel columns
[02:39:12] *** Quits: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net) (Ping timeout: 250 seconds)
[02:39:25] *** Joins: bindu_ (~bindu@user/bindu)
[02:39:54] *** Joins: Giovanni (~Giovanni@176.55.166.222)
[02:39:55] *** Quits: bindu (~bindu@user/bindu) (Ping timeout: 240 seconds)
[02:40:38] *** Guest7375 is now known as freeworld
[02:41:22] *** bindu_ is now known as bindu
[02:42:17] *** Quits: ur5us_ (~ur5us@203.86.198.200) (Ping timeout: 240 seconds)
[02:42:46] *** freeworld is now known as Guest7375
[02:43:43] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[02:47:51] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[02:52:58] *** Quits: Exuma (~Exuma@47-208-155-156.erkacmtk03.res.dyn.suddenlink.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:53:09] *** Joins: PeGaSuS (WeeChat@user/pegasus)
[02:53:54] *** Joins: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[02:54:36] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 240 seconds)
[02:55:40] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Ping timeout: 272 seconds)
[02:56:18] *** Quits: uncleyear (~ian@178.176.78.75) (Ping timeout: 272 seconds)
[02:57:36] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[02:58:48] *** Quits: DNH (~DNH@2a02:8108:1100:16d8:2846:6042:d084:be62) (Read error: Connection reset by peer)
[02:59:32] *** Joins: bmomjian (~bruce@momjian.us)
[02:59:41] *** Joins: ur5us_ (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[03:02:53] *** Joins: uncleyear (~ian@178.176.77.39)
[03:02:53] *** Quits: spacenautx (~spacenaut@user/spacenautx) (Quit: WeeChat 3.4)
[03:04:33] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Remote host closed the connection)
[03:04:55] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[03:10:15] *** Joins: hojasuelta (~hojasuelt@66-90-137-4.dyn.grandenetworks.net)
[03:15:35] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[03:16:15] *** Quits: rufito (~phil@186-79-3-31.baf.movistar.cl) (Quit: Leaving)
[03:18:05] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[03:23:06] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Read error: Connection reset by peer)
[03:23:25] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[03:24:16] *** Quits: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net) (Ping timeout: 250 seconds)
[03:24:48] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 272 seconds)
[03:25:22] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[03:26:04] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 272 seconds)
[03:26:28] *** Quits: ivii (~ivan@user/ivii) (Remote host closed the connection)
[03:29:14] *** Joins: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[03:32:17] *** Quits: merpaderp (~ircuser@89.111.36.243) (Ping timeout: 252 seconds)
[03:32:43] *** Joins: merpaderp (~ircuser@89.111.36.243)
[03:32:51] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 252 seconds)
[03:35:54] *** Joins: zz (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp)
[03:38:48] *** zz is now known as Guest775
[03:42:28] *** Quits: uncleyear (~ian@178.176.77.39) (Ping timeout: 250 seconds)
[03:49:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[03:49:42] *** Joins: realies (~realies@user/realies)
[03:51:24] *** Quits: Guest775 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp) (Ping timeout: 272 seconds)
[03:53:10] *** Quits: realies (~realies@user/realies) (Client Quit)
[03:55:40] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[03:55:57] *** Quits: Guest7375 (~vit@chello085216193138.chello.sk) (Ping timeout: 256 seconds)
[03:57:05] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[03:58:56] *** Quits: Auron (~Auron956@user/auron) (Ping timeout: 250 seconds)
[04:00:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[04:05:22] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[04:05:39] *** Joins: zz (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp)
[04:08:32] *** zz is now known as Guest6505
[04:16:32] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[04:20:37] *** Joins: runlab (~runlab@176-22-28-171-dynamic.dk.customer.tdc.net)
[04:20:42] *** Quits: Guest6505 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp) (Ping timeout: 252 seconds)
[04:24:29] *** Joins: dsrt^ (~dsrt@50.232.121.75)
[04:27:24] *** Joins: MrZeus__ (~MrZeus@89.238.143.231)
[04:28:44] *** Joins: zz (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp)
[04:30:38] *** Joins: tehenderz_ (~tehenderz@ti0018a400-10730.bb.online.no)
[04:30:40] *** Quits: tehenderz (~tehenderz@ti0018a400-10618.bb.online.no) (Ping timeout: 272 seconds)
[04:30:45] *** Quits: MrZeus_ (~MrZeus@194.37.96.119) (Ping timeout: 256 seconds)
[04:31:38] *** zz is now known as Guest3903
[04:37:28] *** Joins: Maxattax97 (~max@174.131.224.89)
[04:39:35] *** Quits: hojasuelta (~hojasuelt@66-90-137-4.dyn.grandenetworks.net) (Remote host closed the connection)
[04:41:36] *** Quits: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net) (Ping timeout: 252 seconds)
[04:42:42] *** Quits: Maxattax97 (~max@174.131.224.89) (Ping timeout: 252 seconds)
[04:46:23] *** Joins: axisys (~axisys@ec2-52-207-123-244.compute-1.amazonaws.com)
[04:47:03] *** Parts: axisys (~axisys@ec2-52-207-123-244.compute-1.amazonaws.com) ()
[04:47:47] *** Joins: Junxter (~Junxter@121.237.63.222)
[04:48:52] *** Joins: hojasuelta (~hojasuelt@66-90-137-4.dyn.grandenetworks.net)
[04:54:24] *** Joins: Maxattax97 (~max@174.131.224.89)
[04:54:54] *** Quits: hojasuelta (~hojasuelt@66-90-137-4.dyn.grandenetworks.net) ()
[04:55:05] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Remote host closed the connection)
[04:55:30] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[04:56:08] *** Quits: Guest3903 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp) (Ping timeout: 250 seconds)
[04:58:31] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Ping timeout: 256 seconds)
[04:58:35] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Read error: Connection reset by peer)
[05:05:15] *** Joins: ur5us__ (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[05:05:37] *** Quits: ur5us_ (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Read error: Connection reset by peer)
[05:09:06] *** Quits: Maxattax97 (~max@174.131.224.89) (Ping timeout: 252 seconds)
[05:10:47] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[05:18:42] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[05:23:00] *** Quits: dsrt^ (~dsrt@50.232.121.75) (Ping timeout: 250 seconds)
[05:23:27] *** Joins: Petruchio (~ray@dynamic-acs-24-154-115-19.zoominternet.net)
[05:24:49] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[05:26:24] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 272 seconds)
[05:30:53] *** Joins: realies (~realies@user/realies)
[05:39:21] *** Quits: f3f3lix (~weechat@55d4223c.access.ecotel.net) (Ping timeout: 252 seconds)
[05:40:15] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Ping timeout: 240 seconds)
[05:41:04] *** Joins: f3f3lix (~weechat@55d434fc.access.ecotel.net)
[05:44:28] *** Joins: robbie (~rob@124.187.41.12)
[05:48:51] <robbie> Just looking for advice regarding Day of Week, I can go isodow or dow in my logic, I take it I just choose one and go with it. Are there any gotchas or recommendations regarding which way to go?
[06:01:08] *** Quits: MrZeus__ (~MrZeus@89.238.143.231) (Ping timeout: 250 seconds)
[06:11:37] *** Joins: Maxattax97 (~max@h89.224.131.174.dynamic.ip.windstream.net)
[06:15:11] *** Joins: kitsunenokenja (~kitsunech@68.91.220.96)
[06:18:34] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[06:19:29] *** Joins: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw)
[06:26:34] *** Quits: Su-Shee (~Susanne@140-110-142-46.pool.kielnet.net) (Ping timeout: 272 seconds)
[06:27:59] *** Joins: Su-Shee (~Susanne@198-110-142-46.pool.kielnet.net)
[06:30:17] *** Quits: CodeMouse92 (~CodeMouse@user/codemouse92) (Quit: Oh freddled gruntbuggly | Thy micturations are to me | As plurdled gabbleblotchits | On a lurgid bee)
[06:31:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[06:32:28] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[06:36:42] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 272 seconds)
[06:42:03] *** Quits: n0fun_ (~jack@mue-88-130-48-076.dsl.tropolys.de) (Ping timeout: 252 seconds)
[06:52:48] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[06:54:41] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[06:56:39] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[06:57:05] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[06:59:59] *** Joins: jazzy (~jaziz@user/jaziz)
[07:07:21] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 252 seconds)
[07:11:58] *** Quits: ur5us__ (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Remote host closed the connection)
[07:13:58] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[07:14:45] *** Joins: funhouse (~funhouse@user/funhouse)
[07:17:50] *** Joins: alch3mist (~alch3mist@199.169.204.182)
[07:18:50] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[07:23:18] *** Quits: Vacuity (~Vacuity@user/vovo) (Ping timeout: 252 seconds)
[07:23:21] <alch3mist> hello all, I have an issue with mssql I know this is the wrong channel but I thought I might get help here, I'm importing data into my tables, and I have this one column that's set to be DECIMAL(20,10) but I get a "Arithmetic overflow error converting numeric to data type numeric." if that column contains numbers larger than 100,000. I thought
[07:23:22] <alch3mist> based on the definition this should take up to 9,999,999,999.9999999999. any idea why?
[07:24:45] *** Joins: Vacuity (~Vacuity@user/vovo)
[07:25:01] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[07:25:48] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[07:25:57] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[07:30:45] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[07:33:24] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 240 seconds)
[07:35:00] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Ping timeout: 240 seconds)
[07:36:52] *** Quits: sreve (~quassel@p54a71a79.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[07:37:02] *** Joins: sreve_ (~quassel@p549d73b1.dip0.t-ipconnect.de)
[07:40:41] *** Joins: zz (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp)
[07:40:51] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[07:43:01] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 240 seconds)
[07:43:35] *** zz is now known as Guest3652
[07:45:08] *** Quits: Guest3652 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp) (Ping timeout: 250 seconds)
[07:49:11] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[07:49:13] *** Joins: waxoo0o (~waxo@37.252.189.165)
[07:49:19] *** Quits: waxo (~waxo@2a00:63c1:e:165::2) (Read error: Connection reset by peer)
[07:50:41] *** Quits: runlab (~runlab@176-22-28-171-dynamic.dk.customer.tdc.net) (Remote host closed the connection)
[08:00:07] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Remote host closed the connection)
[08:00:27] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[08:04:06] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 272 seconds)
[08:05:47] *** Joins: Atque (~Atque@user/atque)
[08:08:01] *** Joins: ekathva (~ekathva@n16iytldzw0rbah2i-1.v6.elisa-mobile.fi)
[08:09:44] *** Quits: zmt01 (~zmt00@user/zmt00) (Quit: Leaving)
[08:10:55] *** Joins: zmt00 (~zmt00@user/zmt00)
[08:12:19] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 256 seconds)
[08:13:12] *** Quits: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[08:13:55] *** Quits: HenryG (~quassel@2607:5300:201:3000::f63) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[08:15:42] *** Joins: HenryG (~quassel@2607:5300:201:3000::f63)
[08:20:37] *** Quits: liriel (~liriel@user/liriel) (Ping timeout: 240 seconds)
[08:22:31] *** Quits: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br) (Ping timeout: 256 seconds)
[08:26:37] *** Joins: kakashiA1 (~kakashi@41.251.27.58)
[08:30:31] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[08:34:53] *** Quits: Giovanni (~Giovanni@176.55.166.222) (Remote host closed the connection)
[08:36:21] *** Quits: alch3mist (~alch3mist@199.169.204.182) (Quit: Client closed)
[08:38:43] *** Joins: alch3mist (~alch3mist@199.169.204.182)
[08:38:59] *** Quits: alch3mist (~alch3mist@199.169.204.182) (Client Quit)
[08:43:03] *** Quits: tehenderz_ (~tehenderz@ti0018a400-10730.bb.online.no) (Ping timeout: 252 seconds)
[08:43:18] *** Joins: tehenderz (~tehenderz@ti0018a400-10889.bb.online.no)
[08:44:11] *** Joins: shiranaihito (~textual@219.85.3.209)
[08:58:37] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Remote host closed the connection)
[09:00:21] *** Quits: victori (~victori@cpe-76-89-139-69.socal.res.rr.com) (Quit: ZNC 1.8.2 - https://znc.in)
[09:01:49] *** Joins: liriel (~liriel@185.21.217.6)
[09:01:51] *** Quits: liriel (~liriel@185.21.217.6) (Changing host)
[09:01:51] *** Joins: liriel (~liriel@user/liriel)
[09:02:18] *** Quits: nillyhan0 (~7f000001@user/nillyhan) (Ping timeout: 252 seconds)
[09:14:19] *** Joins: darkbit (~db@136.158.8.67)
[09:20:27] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 252 seconds)
[09:23:39] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[09:27:04] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 272 seconds)
[09:29:24] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[09:31:49] *** Joins: ba|ch (~user@p200300f0b71d71bd9803d8b91a81c938.dip0.t-ipconnect.de)
[09:32:03] *** Joins: Reiner_Unsinn (~quassel@p5dd47daa.dip0.t-ipconnect.de)
[09:32:48] *** Joins: mexen (uid495612@user/mexen)
[09:36:45] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Ping timeout: 256 seconds)
[09:42:01] *** Quits: shiranaihito (~textual@219.85.3.209) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[09:45:15] *** Quits: kakashiA1 (~kakashi@41.251.27.58) (Ping timeout: 256 seconds)
[09:46:11] *** Joins: kakashiA1 (~kakashi@41.143.3.136)
[09:46:17] *** Joins: SteveR (~SteveR@2600:6000:ff7e:cdef::1f4)
[09:46:48] *** Joins: mattil (~mattil@d12cn6pspkf63-4rd64-4.rev.dnainternet.fi)
[09:47:49] *** Joins: uncleyear (~ian@178.176.77.39)
[09:49:44] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[09:49:53] *** Quits: unyu (~pyon@user/pyon) (Quit: WeeChat 3.4)
[09:51:14] *** Quits: mattil (~mattil@d12cn6pspkf63-4rd64-4.rev.dnainternet.fi) (Ping timeout: 250 seconds)
[09:52:55] *** Joins: shiranaihito (~textual@2001-b011-4011-1456-c1b3-c1be-e9e9-4766.dynamic-ip6.hinet.net)
[09:55:34] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Ping timeout: 272 seconds)
[10:02:18] *** Joins: manti7 (~manti7@176.10.104.94)
[10:02:29] *** Joins: ksynwa (~ksynwa@5.45.111.57)
[10:02:39] *** Joins: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29)
[10:03:05] <ksynwa> Is it possible to write triggers for `BEFORE/AFTER INSERT OR UPDATE OR DELETE`? I have only seen INSERT OR UPDATE so that got me wondering.
[10:03:20] <ksynwa> I mean I have only seen `INSERT OR UPDATE` or `DELETE`.
[10:10:57] *** Quits: ba|ch (~user@p200300f0b71d71bd9803d8b91a81c938.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[10:14:15] *** Quits: newdimension (~newdimens@user/newdimension) (Quit: Ping timeout (120 seconds))
[10:14:34] *** Quits: kakashiA1 (~kakashi@41.143.3.136) (Ping timeout: 272 seconds)
[10:18:34] *** Joins: Rashad (~textual@2a01:9700:1aac:7d00:4d3b:b452:81a9:3836)
[10:18:38] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[10:20:05] *** Joins: mattil (~mattil@helsinki.portalify.com)
[10:23:34] *** Joins: Atque (~Atque@user/atque)
[10:29:40] *** Joins: michalz (~michalz@185.246.204.93)
[10:29:58] *** Joins: TomTom (uid45892@id-45892.ilkley.irccloud.com)
[10:30:28] *** Joins: kakashiA1 (~kakashi@41.143.3.136)
[10:32:12] *** Joins: darutoko (~darutoko@37.21.214.41)
[10:34:19] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[10:36:20] *** Joins: ekathva_ (~ekathva@mobile-access-5672f9-153.dhcp.inet.fi)
[10:37:50] *** Joins: randir (~randir@93.159.239.42)
[10:38:15] *** Joins: fraxamo (~fraxamo@bexl-11-b2-v4wan-163006-cust259.vm4.cable.virginm.net)
[10:38:36] *** Quits: ekathva (~ekathva@n16iytldzw0rbah2i-1.v6.elisa-mobile.fi) (Ping timeout: 240 seconds)
[10:38:46] *** Joins: mrwick (~mrwick@user/mrwick)
[10:39:52] *** Quits: rdunklau (~rdunklau@static-176-158-121-96.ftth.abo.bbox.fr) (Quit: ZNC 1.8.2 - https://znc.in)
[10:42:24] *** Quits: randir (~randir@93.159.239.42) (Ping timeout: 252 seconds)
[10:42:28] *** Joins: rdunklau (~rdunklau@static-176-158-121-96.ftth.abo.bbox.fr)
[10:46:17] *** Quits: Rashad (~textual@2a01:9700:1aac:7d00:4d3b:b452:81a9:3836) (Killed (NickServ (GHOST command used by Rashad_!~textual@91.186.243.244)))
[10:47:08] *** Joins: Rashad (~textual@2a01:9700:129a:7b00:b3:703e:c4ef:6337)
[10:54:57] *** Quits: ekathva_ (~ekathva@mobile-access-5672f9-153.dhcp.inet.fi) (Read error: Connection reset by peer)
[10:56:13] *** Joins: ekathva_ (~ekathva@n16izluvk39q3lx3y-1.v6.elisa-mobile.fi)
[10:56:39] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[10:57:14] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[10:57:48] *** Joins: Guest7375 (~vit@chello085216193138.chello.sk)
[10:59:17] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[11:00:22] *** Joins: mattil (~mattil@helsinki.portalify.com)
[11:02:11] *** Quits: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29) (Quit: Leaving.)
[11:02:22] *** Joins: fruity_tomato (~fruity_to@user/fruity-tomato/x-3541336)
[11:07:54] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[11:08:33] *** Quits: SteveR (~SteveR@2600:6000:ff7e:cdef::1f4) (Ping timeout: 256 seconds)
[11:09:02] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 272 seconds)
[11:09:56] *** Joins: mattil (~mattil@helsinki.portalify.com)
[11:11:36] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[11:12:12] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[11:12:40] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[11:12:58] *** Joins: Komzpa (~kom@212.58.119.213)
[11:15:35] *** Quits: fruity_tomato (~fruity_to@user/fruity-tomato/x-3541336) (Quit: Client closed)
[11:18:42] <Gibheer> ksynwa: you can write one trigger for all use cases, yes
[11:20:12] *** Joins: fruity_tomato (~fruity_to@user/fruity-tomato/x-3541336)
[11:20:32] <Gibheer> ksynwa: there are variables with which you can figure out what kind of trigger called your function - https://www.postgresql.org/docs/current/plpgsql-trigger.html
[11:24:47] *** Joins: dirtwash (~dirtwash@user/dirtwash)
[11:25:02] *** Quits: lithamme- (~lithammer@arch-vps.cloud.tilaa.com) (Quit: ZNC - http://znc.in)
[11:25:11] <dirtwash> the wal segmets for replication are in pg_wal right? I  just wonder where the 16MB default comes from, because i set wal_min_size to 2G...
[11:25:24] *** Joins: lithammer (~lithammer@arch-vps.cloud.tilaa.com)
[11:25:57] <Zr40> 16MB is just the size of individual segments
[11:26:09] *** Quits: robbie (~rob@124.187.41.12) (Quit: robbie)
[11:26:22] <Zr40> 2GB would correspond to 128 segments
[11:26:27] <dirtwash> Zr40: ok..so i have to raise amount of segments to keep, since I ran out of time before
[11:26:39] <Zr40> out of time to do what?
[11:27:15] <dirtwash> replication to catch up
[11:27:24] <Zr40> you should use a slot for that
[11:27:40] <Zr40> a slot will make sure WAL is never deleted when the user of the slot hasn't obtained it yet
[11:27:46] <dirtwash> i am using replication slot, still managed to get a "requested wal seggmnet was removed"
[11:27:53] <dirtwash> hm
[11:29:28] <dirtwash> what does this mean exactly : Error message from server: ERROR:  canceling statement due to conflict with recovery
[11:29:30] <dirtwash> DETAIL:  User query might have needed to see row versions that must be removed
[11:29:36] *** Quits: kakashiA1 (~kakashi@41.143.3.136) (Ping timeout: 250 seconds)
[11:29:38] <dirtwash> i try to dump backup from the replica
[11:32:10] <dirtwash> or is it better to dump from primary?
[11:33:25] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[11:33:31] *** Joins: dege (~dege@user/dege)
[11:33:57] *** Joins: mattil (~mattil@helsinki.portalify.com)
[11:34:26] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[11:34:38] *** Joins: mattil (~mattil@helsinki.portalify.com)
[11:39:08] *** Joins: palasso (~palasso@user/palasso)
[11:39:38] *** Joins: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de)
[11:39:44] *** Joins: kakashiA1 (~kakashi@41.143.3.136)
[11:40:14] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[11:40:16] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[11:42:41] *** Joins: randir (~randir@93.159.239.42)
[11:43:49] *** Quits: randir (~randir@93.159.239.42) (Remote host closed the connection)
[11:43:51] *** Joins: shka (~herr@109.231.3.55)
[11:44:01] *** Joins: randir (~randir@93.159.239.42)
[11:45:06] *** Quits: sakasama (~sakasama@user/sakasama) (Remote host closed the connection)
[11:47:46] *** Quits: fcr (~fran@r167-60-51-212.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[11:48:57] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[11:49:32] *** Quits: EvanCarroll (~ecarroll@68-78-105-35.lightspeed.hstntx.sbcglobal.net) (Ping timeout: 250 seconds)
[11:50:59] *** Joins: trafficjam (~qubes@119-12-218-129.dynamic.ipstaraus.com)
[11:51:03] <trafficjam> you around peerce?
[11:53:19] *** Joins: mattil (~mattil@helsinki.portalify.com)
[11:53:22] <trafficjam> guess not
[11:53:28] *** Joins: ponsfrilus (~Thunderbi@adsl-178-39-226-100.adslplus.ch)
[11:53:39] <trafficjam> anyone else good with schema design?
[11:56:27] *** Joins: fcr (~fran@r186-48-155-243.dialup.adsl.anteldata.net.uy)
[11:58:18] *** Joins: Shadur (~Rens@2001:981:9a5e:1:5965:9baa:b67f:225a)
[12:00:47] <depesz> dirtwash: too long queries on replica will conflict with recovery.
[12:00:58] <depesz> dirtwash: you can make pg pause recovery for however long it needs.
[12:01:05] <depesz> but for backups - it's better to use pg_basebackup
[12:01:28] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[12:01:31] *** Quits: Rashad (~textual@2a01:9700:129a:7b00:b3:703e:c4ef:6337) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[12:03:48] *** Joins: ponsfrilus1 (~Thunderbi@vpn-254-095.epfl.ch)
[12:04:57] <trafficjam> basically i need a schema design for an iot event category system
[12:05:24] *** Quits: ponsfrilus (~Thunderbi@adsl-178-39-226-100.adslplus.ch) (Ping timeout: 272 seconds)
[12:05:25] *** ponsfrilus1 is now known as ponsfrilus
[12:05:32] <trafficjam> i.e. users can sign up to this platform with their own IoT devices, and create their own event categories
[12:06:03] *** Joins: irionr (~irionr@net-93-145-27-202.cust.vodafonedsl.it)
[12:06:48] <trafficjam> but i don't want it to be a simple hierarchical category tree, i want to allow for a bit more specificity
[12:08:04] *** Quits: econo (uid147250@user/econo) (Quit: Connection closed for inactivity)
[12:08:15] <trafficjam> in other words, i want to create an event category system that is as flexible as possible, while still preserving some useful general structure
[12:09:50] *** Quits: ChkDigit (~u388mw@207-195-34-73.prna.static.sasknet.sk.ca) (Ping timeout: 272 seconds)
[12:10:39] *** Joins: gleu (~guillaume@2a01cb0c0e54b8007e39e75cb4390e1c.ipv6.abo.wanadoo.fr)
[12:11:35] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[12:12:52] <dirtwash> depesz: hmm so i pull backup from secondary still?
[12:12:59] <dirtwash> depesz: how do I pause replication
[12:13:09] <depesz> dirtwash: you should be able to to.
[12:13:36] <depesz> dirtwash: set max_standby_streaming_delay to something that will work for you.
[12:14:17] *** Quits: zzing (~zzing@d24-57-14-115.home.cgocable.net) (Ping timeout: 256 seconds)
[12:15:03] <dirtwash> thank you
[12:16:33] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 256 seconds)
[12:18:33] <trafficjam> any suggestions
[12:18:38] <trafficjam> *?
[12:19:52] *** Joins: jpa (~jpa@2a01:e0a:5cb:6b80:9dd8:d715:f031:d21c)
[12:19:52] *** Joins: Guest87 (~Guest87@202-90-244-107.ca5af4.per.static.aussiebb.net)
[12:20:08] <Guest87> Is there a better way to make fks on existing tables when to make it invalid and then run a check ?
[12:22:55] *** Joins: ChkDigit (~u388mw@207-195-34-73.prna.static.sasknet.sk.ca)
[12:27:35] <Shadur> Hokay, I've inherited a somewhat /unorthodox/ setup, in which every day I have to download a compressed dump file via sftp, which contains a trio of .psql files that have to be run in sequence on an empty database to fill it with the data my customer needs. Because of the way the dumps are generated (and I have no control over this; I've asked and am getting zero cooperation from the other endpoint) the psql files won't do DROP IF
[12:27:35] <Shadur> EXISTS and I can't add it myself (for one, the dump files are about 30-45 gigs uncompressed) but since deleting and recreating the entire database requires superuser privileges my options are to make a separate script and run only that as superuser or give superuser permissions to a script made by people whose practices already make me want to smack them. Is there a way to drop all tables, indexes, functions and assorted as the db
[12:27:36] <Shadur> owner rather than superuser?
[12:30:08] *** Quits: sfkeller[m] (~sfkellerm@2001:470:69fc:105::31a2) (Quit: You have been kicked for being idle)
[12:30:10] *** Quits: justAstache (~justache@user/justache) (Read error: Connection reset by peer)
[12:31:21] *** Joins: justAstache (~justache@user/justache)
[12:36:16] *** Joins: lifeboy (~lifeboy@197.214.119.150)
[12:36:50] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[12:37:44] *** Joins: the_lanetly_052 (~the_lanet@194.135.155.189)
[12:37:55] <lifeboy> Does any have an odbc driver for Windows ARM 64 bit?
[12:39:02] <lifeboy> Sorry, does anyone have or know of an odbc driver for windows ARM 64bit (for Windows II in parallels on a Mac M1)
[12:39:46] <lifeboy> Is it may just a matter of compiling one on the ARM platform or won't that do it?
[12:39:48] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[12:40:48] <Myon> Shadur: alter user Shadur createdb;
[12:41:53] <Shadur> Myon: Given that this is an isolated server that's a viable option. That'll allow me to drop it as well?
[12:42:35] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[12:43:21] *** Joins: mattil (~mattil@helsinki.portalify.com)
[12:47:01] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Ping timeout: 240 seconds)
[12:50:43] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[12:51:16] *** Quits: dmvrtx (~dmvrtx@znc.dmvrtx.me) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[12:52:12] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 252 seconds)
[12:52:13] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[12:52:35] *** Joins: dmvrtx (~dmvrtx@znc.dmvrtx.me)
[12:56:55] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[12:57:21] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[12:59:28] *** Quits: ponsfrilus (~Thunderbi@vpn-254-095.epfl.ch) (Quit: ponsfrilus)
[12:59:54] *** Joins: ponsfrilus (~Thunderbi@vpn-254-095.epfl.ch)
[13:00:15] *** Joins: mattil (~mattil@helsinki.portalify.com)
[13:01:17] *** Quits: ponsfrilus (~Thunderbi@vpn-254-095.epfl.ch) (Client Quit)
[13:03:08] *** Joins: vladoski (~vladoski@2001:b07:add:d406:9201:e4b2:bc64:d922)
[13:04:14] *** Quits: irionr (~irionr@net-93-145-27-202.cust.vodafonedsl.it) (Quit: Connection closed)
[13:06:36] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[13:07:06] *** Joins: AceSlash (~slash@cosium-fo-152-18.fib.nerim.net)
[13:08:31] <trafficjam> any suggestions?
[13:13:47] *** Joins: fercell (~ferr@185.65.50.39)
[13:15:00] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Ping timeout: 240 seconds)
[13:19:00] *** Quits: rvalue (~rvalue@user/rvalue) (Quit: ZNC - https://znc.in)
[13:19:41] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[13:20:14] *** Joins: mattil (~mattil@helsinki.portalify.com)
[13:20:40] <depesz> Guest87: define "better"
[13:21:39] <depesz> Shadur: you can easily drop all schema/tables with some creative psql scripting
[13:23:48] *** Joins: n0fun_ (~jack@i577BC050.versanet.de)
[13:25:51] <Guest87> depesz a way with no locks :)
[13:26:49] <depesz> Guest87: the "make invalid, and then make valid" is as "without locks" as possible.
[13:26:54] <depesz> unless you run both things in transaction.
[13:27:03] <Guest87> alert table add fk seems to require a access exclusive lock, but if I add the fk invalid and use check it only requires a rowshare lock
[13:27:04] <depesz> which defeats the purpose of splitting it.
[13:28:04] <trafficjam> any suggestions?
[13:28:05] <depesz> Guest87: so, sorry, but I don't understand what is your problem then. do you run adding fkey in two queries? are they in separate transactions? what is the problem then? you are *NOT* getting "access exclusive lock", so what is the issue?
[13:29:07] <Guest87> depesz sorry im terrible at explaining, has the alter table add fk been changed to not require an access exclusive lock ?
[13:29:18] <Guest87> In a later version of psql
[13:30:05] <depesz> i doubt that. but the add invalid fkey lock takes a fraction of second. so what is the problem?
[13:30:39] *** Joins: odnes (~odnes@5-203-128-88.pat.nym.cosmote.net)
[13:31:36] <ksynwa> Gibheer: Thanks
[13:32:22] <Guest87> no problem with that method it's just the migrations the developers use doesn't support that out of the box
[13:32:40] <depesz> sorry, i don't understand.
[13:32:53] <Guest87> so if they add fks to existing tables with the default syntax it can grind the database to a halt
[13:33:18] *** Quits: odnes (~odnes@5-203-128-88.pat.nym.cosmote.net) (Client Quit)
[13:33:43] <Guest87> the tooling the developers use will alter the table and add the fk constraint
[13:33:51] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[13:34:03] <depesz> if my migration you mean some "domain-specific-language" that is supposed to hide sql from developers, and instead make them learn new thing with "commands" like "add_fkey" which then gets translated to proper sql - well, you're out of luck. generally - this is what you get from avoiding sql.
[13:34:18] <depesz> if something else - sorry, but I really don't understand.
[13:34:46] <Guest87> It's exactly what you said, an ORM handling migrations
[13:34:51] *** Joins: odnes (~odnes@5-203-128-88.pat.nym.cosmote.net)
[13:35:23] <depesz> can't this orm be made to use provided sql?
[13:35:39] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 252 seconds)
[13:35:45] <depesz> rails, for example, has its own thing, but they do have a way to provide migrations with normal sql
[13:36:59] *** Quits: odnes (~odnes@5-203-128-88.pat.nym.cosmote.net) (Client Quit)
[13:38:21] <buu> Augh, orms
[13:43:19] *** mage_ is now known as mage
[13:49:43] *** Joins: ne2k (~andy@212.250.187.98)
[14:03:08] <trafficjam> any suggestions?
[14:06:00] <ksynwa> I want to compare two timestamps, t1 < t2, but t1 can be null, in which case I want this comparison to return TRUE. Is COALESCE(t1 < t2, TRUE) the best way to do this?
[14:07:53] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[14:08:39] <ne2k> ksynwa, seems very reasonable to me
[14:09:00] <ksynwa> thanks ne2k
[14:09:32] *** Quits: kakashiA1 (~kakashi@41.143.3.136) (Ping timeout: 240 seconds)
[14:10:13] *** Joins: realies (~realies@user/realies)
[14:10:46] *** Joins: walterwhip (~walterwhi@user/walterwhip)
[14:11:00] *** Joins: mattil (~mattil@helsinki.portalify.com)
[14:15:34] *** Quits: tehenderz (~tehenderz@ti0018a400-10889.bb.online.no) (Ping timeout: 250 seconds)
[14:15:58] *** Joins: tehenderz (~tehenderz@ti0018a400-11144.bb.online.no)
[14:20:32] *** Quits: gleu (~guillaume@2a01cb0c0e54b8007e39e75cb4390e1c.ipv6.abo.wanadoo.fr) (Quit: Leaving.)
[14:23:42] *** Joins: monstar (~monstar@gateway/tor-sasl/monstar)
[14:29:48] *** Joins: sakasama (~sakasama@user/sakasama)
[14:30:16] *** Quits: pg_docbot (~docbot_li@donatu.postgresql.org) (Quit: Signal received: INT - shutting down)
[14:30:58] *** Joins: pg_docbot (~docbot_li@donatu.postgresql.org)
[14:32:00] *** Quits: stan_man_can (~stanley@d66-183-88-69.bchsia.telus.net) (Quit: ZNC - https://znc.in)
[14:32:12] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[14:35:36] *** Quits: tehenderz (~tehenderz@ti0018a400-11144.bb.online.no) (Ping timeout: 252 seconds)
[14:36:09] *** Joins: tehenderz (~tehenderz@ti0018a400-11158.bb.online.no)
[14:36:57] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[14:37:55] *** Joins: mattil (~mattil@helsinki.portalify.com)
[14:42:00] *** Joins: kakashiA1 (~kakashi@41.143.3.136)
[14:42:54] *** Quits: ekathva_ (~ekathva@n16izluvk39q3lx3y-1.v6.elisa-mobile.fi) (Remote host closed the connection)
[14:43:12] *** Joins: ekathva_ (~ekathva@n16izluvk39q3lx3y-1.v6.elisa-mobile.fi)
[14:45:43] <Walex2> ksynwa: that will work, but hints that the query or the schema "could be improved".
[14:46:17] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 240 seconds)
[14:46:35] *** Quits: kakashiA1 (~kakashi@41.143.3.136) (Ping timeout: 252 seconds)
[14:47:55] *** Joins: Amadiro_ (~Amadiro@45.154.138.91)
[14:49:43] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[14:50:03] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[14:50:27] *** Quits: Amadiro (~Amadiro@45.154.138.40) (Ping timeout: 252 seconds)
[14:51:26] *** Joins: mattil (~mattil@helsinki.portalify.com)
[14:54:05] *** Quits: nyov (~nyov@user/nyov) (Ping timeout: 256 seconds)
[14:55:57] *** Quits: rj1 (~rj1@i.dont.know.how.com.puters.work) (Ping timeout: 240 seconds)
[14:55:58] *** Joins: nyov (~nyov@user/nyov)
[14:56:14] *** Joins: rj1 (~rj1@i.dont.know.how.com.puters.work)
[14:56:24] <lifeboy> Does anyone have or know of an odbc driver for windows ARM 64bit (for Windows 11 in parallels on a Mac M1)?
[14:56:36] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[14:56:41] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[14:56:47] <lifeboy> Is it maybe just a matter of compiling one on the ARM platform or won't that do it?
[14:56:51] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[14:57:01] <Myon> psqlodbc should support that I'd think
[14:57:09] <lifeboy> Of course I mean a postgresql odbc driver!
[14:57:25] <Myon> at least I think that source is also used on windows
[14:57:26] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[14:57:58] <lifeboy> The installation says it can't continue: error 193
[14:58:42] *** Quits: mahlon_ (~mahlon@martini.nu) (Ping timeout: 252 seconds)
[14:58:44] <Myon> "support" as in "compiling" :)
[14:58:49] <lifeboy> Apparently windows 11 can do AMD64 emulation on the ARM version, but not for driver
[14:58:51] <lifeboy> drivers
[14:58:57] *** Quits: ged (~ged@deveiate.org) (Ping timeout: 256 seconds)
[14:59:56] <lifeboy> The binary 64bit installation doesn't run, so yes, my question is will it run if I compile it on the ARM platform?
[15:03:00] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[15:03:03] *** Joins: Stanley (~stanley@d66-183-88-69.bchsia.telus.net)
[15:05:40] <depesz> ksynwa: what if t2 is null, but not t1?
[15:05:44] *** Joins: eroux (~eroux@102-65-85-242.ftth.web.africa)
[15:06:45] <ilmari> ksynwa: coalesce(ts1, '-infinity') < ts2
[15:06:45] <ksynwa> depesz: True in that case too which is why coalesce is working here
[15:07:13] <depesz> ok. i asked because of another use of coalesce, the one that ilmari just showed.
[15:07:30] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Ping timeout: 252 seconds)
[15:07:48] <ilmari> ksynwa: or coalesce(ts1, '-infinity') < coalesce(ts2, 'infinity') -- strangely '+infinity' is not valid
[15:08:17] <ksynwa> That is good to know because I might use in the future.
[15:08:58] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[15:09:07] <ksynwa> have use for it*
[15:09:28] <Myon> at least "infinity" is case-insensitive, since timestamp(tz) and numeric spell it differently...
[15:10:23] <ilmari> numeric accepts 'inf' too, but timestamp(tz) does not
[15:11:02] *** Joins: rvalue (~rvalue@user/rvalue)
[15:11:46] *** Joins: awmv (~awmv@mob-194-230-148-95.cgn.sunrise.net)
[15:12:32] <trafficjam> any suggestions?
[15:13:03] *** Quits: Maxattax97 (~max@h89.224.131.174.dynamic.ip.windstream.net) (Remote host closed the connection)
[15:13:13] <Myon> trafficjam: you are annoying
[15:13:44] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 268 seconds)
[15:13:55] <trafficjam> is that a suggestion?
[15:14:22] <Myon> it's a suggestion not to ask the same thing 7 times
[15:15:00] <ne2k> Myon, he hasn't even repeated the question. I wasn't here for the original question so have no suggestion to offer
[15:15:45] <trafficjam> did you just assume my gender?
[15:15:55] <ne2k> trafficjam, yep. it's right 90% of the time on IRC
[15:16:31] <trafficjam> based and red pilled
[15:16:49] <Myon> are you even interested in an answer, or just meta trolling?
[15:17:04] <ne2k> trafficjam, I have no idea what you're talking about. if you want to repeat your original question I might be able to offer something, otherwise shoosh
[15:18:04] <trafficjam> so the original query was in regards to creating a flexible schema relationship for categorizing user event types
[15:18:12] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[15:18:32] <kjetilho> https://paste.debian.net/1234123/
[15:18:37] *** Quits: sakasama (~sakasama@user/sakasama) (Remote host closed the connection)
[15:18:42] <kjetilho> there's the log
[15:19:10] <trafficjam> thanks kjetilho
[15:19:27] <ne2k> trafficjam, too vague, sorry
[15:19:50] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[15:20:25] <ne2k> trafficjam, I would suggest you create a couple of different sample schemas as ask questions about the pros and cons of them. that might get you some feedback
[15:20:37] <ne2k> and* ask
[15:20:48] <kjetilho> my best suggestion is to actually collect data from a varied set of IoT devices and get a feel for what is in common and what needs to be flexible
[15:21:06] <ne2k> trafficjam, I smell inner platform effect in your question
[15:22:33] <ne2k> trafficjam, I wouldn't say it's bad per se to make multiple API requests for a single page. you can of course create views (or use resource embedding with PostgREST) to aggregate stuff, but whether it's required or not is rather dependent on what you're doing
[15:23:31] <ne2k> trafficjam, if you don't want a tree of categories, you might want to look instead at tags
[15:23:40] *** Joins: pedja (~pedja@user/deus-ex/x-7934090)
[15:24:06] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[15:24:07] <ne2k> trafficjam, there's nothing to stop you having both hierarchical categories /and/ tags
[15:24:36] <Myon> I spot "01:32 <trafficjam> hey guys" in the log
[15:24:53] *** Joins: mattil (~mattil@helsinki.portalify.com)
[15:25:54] <trafficjam> ne2k: yeah i thought about using tags as well, i'm just struggling to work out how all the "categorization" systems (categories, tags, 'groups', etc) would work together
[15:26:11] *** Quits: awmv (~awmv@mob-194-230-148-95.cgn.sunrise.net) (Ping timeout: 245 seconds)
[15:26:44] <ne2k> trafficjam, "complicatedly", I guess...
[15:27:21] <sobel> i just read the log, and have this feedback: what you're designing sounds common but your implementation is specific to your set of constraints and requirements. this is a pretty common condition for database design.
[15:27:44] <sobel> an ordinary design customized to a fairly specific set of needs
[15:28:05] *** Joins: unyu (~pyon@user/pyon)
[15:28:41] <sobel> whatever you know is required for your events, categories, devices, users, etc, you can go ahead and encode into a schema now and i would encourage you to start there
[15:29:06] <sobel> if you know you have 8 event types, put them in a table so they have ids.
[15:29:41] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[15:29:57] <trafficjam> sobel: i'm just worried that i'll implement it in a way that won't be flexible enough later down the track
[15:30:00] <sobel> are you going to be reading or writing to this schema more?
[15:30:17] <trafficjam> reading
[15:30:24] <sobel> trafficjam: oh, worry away, it won't do you any good. you are definitely going to implement something that won't be flexible enough later. that's a definite.
[15:30:37] *** Joins: fandre1986 (~fandre198@78.10.85.96)
[15:30:45] <sobel> start planning for your first structure change now =)
[15:31:14] <sobel> design a schema that supports the SELECT (read) queries you eventually plan to use
[15:31:19] *** Joins: awmv (~awmv@mob-194-230-148-95.cgn.sunrise.net)
[15:32:07] <sobel> do you have anything that would imply/specify your read patterns now? usually this would be use cases or something like that, from which you could figure out what data is required and work backward to the queries
[15:32:18] *** Joins: tehenderz_ (~tehenderz@ti0018a400-11197.bb.online.no)
[15:32:30] *** Quits: tehenderz (~tehenderz@ti0018a400-11158.bb.online.no) (Ping timeout: 272 seconds)
[15:33:19] <sobel> i see you have included a fundamental pattern in database design i know as "inventory management"
[15:34:13] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 240 seconds)
[15:34:20] <sobel> that one is pretty open-ended, beware the potential for design creep there
[15:35:00] <trafficjam> oh which pattern, you mean the "category/tag/group" part?
[15:35:08] <sobel> no, inventory management
[15:35:16] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[15:35:22] <trafficjam> sorry, i meant where did i include the pattern
[15:35:45] <sobel> product list data, recently sold product data
[15:35:46] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[15:35:48] <sobel> maybe that's already built
[15:38:04] <trafficjam> sobel: maybe it would help to use a different analogy, take something like https://cal.com (a scheduling service). How would you go about defining a general, flexible category schema design so that users could sufficiently categorize their event data to their liking?
[15:38:54] <trafficjam> specifically what tables would you define to support it
[15:39:17] <trafficjam> e.g. you would have a general "events" table, which is the base unit of any particular event
[15:39:50] <trafficjam> and i suppose a nested "categories" table, in which the user could define their own custom categories
[15:40:56] <trafficjam> but any further level categorization i get stuck at, things like grouping events into an arbitrary group, giving events particular tags, it's a bit unclear to me
[15:43:30] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[15:44:50] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 250 seconds)
[15:45:59] *** Quits: marco44 (~marco44@82-64-126-208.subs.proxad.net) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[15:46:51] *** Joins: marco44 (~marco44@82-64-126-208.subs.proxad.net)
[15:47:03] <ne2k> trafficjam, many a day/week/month has been wasted trying to make an all-encompassing schema that will allow for all future changes. hence why I mentioned the inner platform effect. I think YAGNI applies here. pick something. accept that you'll have to change it.
[15:47:04] <moe[m]> hrm. i need a bigint column that serializes to a string when converted to json.
[15:47:05] <moe[m]> (because browsers quietly corrupt >58bit integers during json deserialization...)
[15:47:05] <moe[m]> thought it might be doable with a custom type/domain/cast but my first stab doesn't want to work: https://paste.debian.net/1234124/
[15:47:05] <moe[m]> any guru around who knows whether this is possible at all and how to do it?
[15:47:44] *** Quits: TMM_ (hp@amanda.tmm.cx) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[15:47:50] *** Joins: TMM_ (hp@amanda.tmm.cx)
[15:49:37] <trafficjam> ne2k: interesting hadn't heard of the inner platform effect, maybe you're right and i just need to pick something and accept i'll probably have to change it in the future. I've spent a long time trying to come up with a schema that is general/flexible enough for every use case, but as of yet have not been successful
[15:50:44] <Myon> moe[m]: select foo::text from tbl; ?
[15:51:38] *** Quits: randir (~randir@93.159.239.42) (Remote host closed the connection)
[15:52:57] <moe[m]> Myon: using postgrest here as the client, so unfortunately don't have control over the queries. they do hint that custom casts may be the way to go: https://postgrest.org/en/v9.0/how-tos/casting-type-to-custom-json.html
[15:52:57] <moe[m]> but their example is for a range-type and tbh, it's all greek to me.
[15:53:10] <ne2k> moe[m], https://dbfiddle.uk/?rdbms=postgres_14&fiddle=3a57b1f91bb6586d8b397eac77148a82 this appears to be telling
[15:53:26] *** Joins: zeden (~zeden@user/zeden)
[15:53:35] <Myon> moe[m]: wrap it in a view?
[15:53:47] <Myon> though that might break INSERT
[15:54:11] <Myon> or simply add a DOMAIN that insists bigints are < 2^52?
[15:54:55] <ne2k> I've heard of domain types but haven't used them or create cast before, so I'm not sure why that's failing, but it does seem to be the crux of the problem, if I'm not mistaken
[15:55:18] <moe[m]> Myon: yea, i don't really want to pollute my schema/queries. nor do i want to constrain the id's. 64bit is already small'ish. my alternative would be to switch to uuid id's, but i don't like how they bloat everything (both in the db and in URLs/display)
[15:55:21] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 252 seconds)
[15:55:57] <moe[m]> ne2k: thx, that's indeed an interesting one. hmm.
[15:56:25] *** Joins: ponsfrilus (~Thunderbi@vpn-254-095.epfl.ch)
[15:56:35] <Myon> of if postgrest is the problem, fix that
[15:56:45] *** Joins: mattil (~mattil@helsinki.portalify.com)
[15:57:08] <moe[m]> well, json is the problem. i'm afraid my changes of fixing that are slim.
[15:57:13] <moe[m]> s/changes/chances/
[15:57:35] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[15:57:56] <ne2k> moe[m], my worry would be what you hope to do with it when you get a string in the browser
[15:58:55] <moe[m]> ne2k: nothing. just pass it around. it's the id.
[15:59:33] <ne2k> do you really need a surrogate integer key at all? is there not a natural key?
[16:00:05] *** Joins: doev (~doev@mobile.bpv-consult.net)
[16:00:13] <moe[m]> yes and yes
[16:01:23] *** Joins: kakashiA1 (~kakashi@41.143.3.136)
[16:01:39] <kjetilho> since 64 bits is on the small side, I take it you are not using a sequence, but a randomly generated ID and rely on size to avoid collisions?
[16:02:51] <moe[m]> yup, aiming for instagram style id's https://instagram-engineering.tumblr.com/post/10853187575/sharding-ids-at-instagram
[16:03:33] <moe[m]> (well, actually that's a nope - they use size, time and sequence to avoid collisions)
[16:05:03] <ne2k> moe[m], https://dbfiddle.uk/?rdbms=postgres_14&fiddle=d1a606f15d4766b4a71c03690b45453e well I'm still getting very confused
[16:05:19] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[16:05:48] <moe[m]> ehm...
[16:05:52] <ne2k> yeah
[16:05:53] <ne2k> I know
[16:05:55] <moe[m]> lol, yes, that last one confuses me too
[16:06:04] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Client Quit)
[16:06:05] <moe[m]> wth
[16:06:35] *** Joins: peteyboy1 (~peteyboy1@199.157.133.37.dynamic.jazztel.es)
[16:06:36] <ne2k> moe[m], the second-to-last one was what confused me. which is why I did the last one, and then changed your function to add "". but it still fails. I am veh confuge
[16:09:05] *** Quits: pjs (~pjs@user/pjs) (Ping timeout: 252 seconds)
[16:10:11] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[16:10:45] <moe[m]> hmm. my first hunch was that `domain` may not be enough, that a full blown `type` may be needed (that it internally still treats the domain as bigint).
[16:11:02] *** Quits: ponsfrilus (~Thunderbi@vpn-254-095.epfl.ch) (Quit: ponsfrilus)
[16:11:57] <moe[m]> but...  yea. right now i'm just confused. none of that output matches what i would've naively expected. hmm.
[16:12:40] *** Quits: Zertrin (~zertrin@user/zertrin) (Quit: 0096 2251 2110 8105)
[16:13:11] <ne2k> moe[m], https://dbfiddle.uk/?rdbms=postgres_14&fiddle=c004d41fde5e51bb8e18425f7c81002b
[16:14:18] <ne2k> I am SO confused now
[16:14:43] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Client Quit)
[16:14:58] <moe[m]> it seems to do something weird with quotes
[16:14:58] *** Joins: Zertrin (~zertrin@user/zertrin)
[16:15:23] <moe[m]> `select json_agg(('1234'::text)::json);` => `[1234]`
[16:15:27] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[16:15:27] <ne2k> exactly
[16:15:38] <moe[m]> even though you explicitly tell it ::text, it still serializes to an integer...hm
[16:15:50] *** Joins: alioui (~medeva293@197.238.215.234)
[16:16:04] <ne2k> but... even if that weirdness was to be expected, explicitly putting the quotes and then casting it works interactively, but NOT in a fuction. where everything seems identical afaicas
[16:16:56] <ne2k> Myon, would the error "cannot cast type" be given both if the cast were being applied, but there was an error in the function, and if the cast weren't being applied?
[16:16:57] <Myon> you want to_json() instead
[16:17:04] <Myon> select json_agg(to_json('1234'::text));
[16:17:16] <ne2k> that's waht we started with
[16:17:58] <Myon> ::json is invoking the json parser where 1234 is an int
[16:18:30] <Myon> alternatively, select json_agg(('"1234"'::text)::json);
[16:18:47] <sobel> trafficjam: thing is, until you know what you're building, you should be content to build the wrong thing that is THE BEST YOU CAN DO but know that it will have to change. so focus on what you know, and be receptive to the changes that become obvious through the design/build process.
[16:19:33] <Myon> ne2k: I don't have enough context for that question
[16:19:51] <ne2k> Myon, did you look at any of my fiddles?
[16:20:05] <sobel> trafficjam: as you start to grow a bigger and bigger piece of verified-useful schema, the parts fall into place faster.
[16:20:23] <Myon> no
[16:20:27] <ne2k> Myon, the cast just says it can't do it. but it doesn't say whether it's because there's an error in the function, or because it's been declared wrongly so isn't working
[16:21:52] <mbanck> AVh./Rr
[16:22:07] <mbanck> hrmpf
[16:22:39] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:22:43] <trafficjam> sobel: is that the general mentality i should always have? Too often i get stuck because i don't know how to implement a schema, because i want to define it *perfectly* and never have to re-define it again
[16:23:06] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[16:23:14] <trafficjam> sometimes i spend weeks trying to come up with the right schema design
[16:23:26] *** Quits: awmv (~awmv@mob-194-230-148-95.cgn.sunrise.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:24:15] <sobel> trafficjam: yeah, that's the development mindset. until you are shipping a schema+code you will not be able to touch, plan on schema changes in each dev cycle
[16:26:18] <kjetilho> sobel++
[16:27:31] <kjetilho> also implement an independent client to use of your API, to discover what's inconvenient as you go along.  writing test cases may have the same effect.
[16:28:44] <sobel> i have a REST API that is 1:1 with the core queries that my schema needs to support. I've been using checks on the data via the REST API to verify my schema at the same time as my server.
[16:29:22] <sobel> a slightly ambitious pattern (e.g. i hope your internal dispatch is really clean) but sure potent
[16:29:25] *** Quits: dege (~dege@user/dege) (Quit: Textual IRC Client: www.textualapp.com)
[16:29:30] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[16:29:57] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[16:30:13] <sobel> otherwise pg_tap is a good way to verify the critical bits of a schema
[16:30:54] *** Quits: walterwhip (~walterwhi@user/walterwhip) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[16:32:14] *** Joins: walterwhip (~walterwhi@user/walterwhip)
[16:32:34] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[16:34:14] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[16:37:49] *** Quits: walterwhip (~walterwhi@user/walterwhip) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[16:38:34] <trafficjam> sobel: "until you are shipping a schema+code you will not be able to touch", when would this happen?
[16:38:37] *** Quits: adept (~adept@cpc86002-ware7-2-0-cust162.9-1.cable.virginm.net) (Ping timeout: 240 seconds)
[16:38:42] *** Joins: MrZeus__ (~MrZeus@81.92.205.23)
[16:38:52] <trafficjam> when you first launch you mean?
[16:39:51] <trafficjam> my main issue with the idea of "moving fast" (i.e. changing schema designs often) is that i have no idea how to migrate a production database to a new schema easily
[16:39:52] *** Quits: lifeboy (~lifeboy@197.214.119.150) (Remote host closed the connection)
[16:40:46] <trafficjam> like if i have 10,000 users using my category schema design (with however many tables), and then i do a full rewrite, migrating production to use that new design i would think to be possibly fairly complex
[16:41:19] <trafficjam> i would need to save the data from the old schema design, put it into some temporary data structures, and then migrate it to a new design
[16:41:50] <moe[m]> ne2k: thx for your efforts! 🙇 - i've now also asked the guys in #postgrest. maybe they have an idea, i assume they've probably gone through quite a bit of this casting magic while building their thing.
[16:42:49] <sobel> trafficjam: i don't know your product. lots of databases are behind sites that never go out of development phase until the company or product folds.
[16:43:07] <sobel> trafficjam: don't work in hypotheticals, for starts
[16:43:14] <sobel> trafficjam: do you have 10k users now?
[16:43:25] <trafficjam> lol i haven't launched yet
[16:43:34] *** Quits: rvalue (~rvalue@user/rvalue) (Quit: ZNC - https://znc.in)
[16:43:42] <sobel> from what i can tell you don't even have a product yet. focus on the database you need today.
[16:43:46] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 268 seconds)
[16:43:50] <sobel> it's just more code
[16:43:55] <sobel> it's going to change
[16:44:58] <trafficjam> i think the issue is i'm always building as if i have a huge user base, rather than just doing whatever is fastest
[16:45:04] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Quit: au revoir)
[16:45:12] <trafficjam> logically i know i should be doing the latter, but it's hard
[16:45:29] <sobel> build something that is accurate first
[16:45:50] <sobel> databases are really fast. build into your first performance problem honestly.
[16:46:11] *** Joins: adept (~adept@cpc86002-ware7-2-0-cust162.9-1.cable.virginm.net)
[16:46:23] <sobel> if you are that worried about performance, get a real data set to integrate performance into your testing
[16:46:44] <sobel> like, if you know you have to work with OSM or some other generally-huge dataset from the start, well, start there
[16:46:51] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[16:47:05] <sobel> or generate a fake dataset of appropriate scale for testing
[16:47:17] <moe[m]> letsencrypt manages the certs for 235M sites using a single MySQL server
[16:47:30] <trafficjam> i guess it's not necessarily performance i'm concerned about, it's about designing a schema, and then figuring out later that it needs to be redesigned, i think that's my biggest fear
[16:48:05] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Ping timeout: 268 seconds)
[16:48:23] <sobel> all schemas need ongoing refactoring as the problem domain wanders around (thanks, business analysts!) as well as your understanding of the same
[16:48:23] <ilmari> you are not going to be able to avoid ever having to change your schema. design schema changes into your process.
[16:49:07] <sobel> trafficjam: solve problems you have. if you don't have a performance problem now, don't spend cycles solving one.
[16:49:29] <trafficjam> is there an easy way to handle schema changes/migrations? specifically of the sort where you're rewriting large sections of the schema, and which require you to export data (to e.g. JSON), and then import it again to the new updated schema
[16:49:44] <sobel> if your biggest fear is having to redesign a schema, then build a schema with the intent of throwing it away
[16:50:19] <trafficjam> lol fair enough, never thought about doing it that way
[16:50:26] *** Joins: rvalue (~rvalue@user/rvalue)
[16:50:46] <sobel> trafficjam: you're in luck with postgresql, as DDL is transactional. that means you can write an all-or-nothing transaction that makes multiple table changes or rolls all of them back.
[16:51:06] <sobel> multiple table/schema changes *successfully* or rolls all of them back
[16:52:02] <sobel> so generally, put your changes into a transaction (BEGIN; ... COMMIT;) is a great way to begin keeping track of your schema changes.
[16:52:12] <ilmari> and thanks to things like ALTER TABLE … ALTER COLUMN … USING …; and INSERT INTO … SELECT …; and ALTER TABLE … RENAME …; there's very rarely any need to take the data out of the database while modifying the schema
[16:52:50] <trafficjam> do postgres migrations have the functionality to move data from one table to another? (e.g. say i want to move data from my Product table to my ProductVersion table)
[16:53:33] <sobel> when you need to support delivering migration scripts to multiple users/databases and versioning is important, there are tools to support the process
[16:54:01] <sobel> trafficjam: sure, that's an ordinary INSERT..SELECT type statement
[16:54:25] <trafficjam> ah ok, i'll have to research that, because for the migrations i've used, i've only ever done stuff like add/remove/rename a table/table column/etc
[16:54:32] <sobel> however if you have a normalized design there shouldn't be any data from Product to copy into ProductVersion
[16:54:58] *** Quits: tc__ (~tc@103-140-203-11.vic.as139284.net.au) (Remote host closed the connection)
[16:55:02] <sobel> i hope we're really talking about product and product_version
[16:55:08] <trafficjam> Yeah that example is for example when i didn't define my schema properly initially
[16:55:14] <sobel> gotcha
[16:55:23] *** Joins: tc__ (~tc@103-140-203-11.vic.as139284.net.au)
[16:56:03] <sobel> start with facts. what fact is asserted by a row's existence in a table. that's a question you should have a good answer for each table.
[16:56:40] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[16:57:03] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[16:57:10] <pedja> the whole schema change management/migration is the subject I rarely see mentioned in talks/tutorials/whatever I've seen so far
[16:57:24] *** Joins: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br)
[16:57:30] <sobel> i have a small number of fact tables with interesting data, but several tables where the 'fact' is ids from other tables and nothing but.
[16:57:30] <Xgc> trafficjam: Sometimes the big trap is trying to avoid defining an initial clear requirement.  For instance, your product owner states: "we need something easy to use and that can handle any future requests".  You can't build anything with that requirement.
[16:57:44] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[16:58:50] <sobel> ^^^
[16:59:23] <trafficjam> Xgc: the issue im having at the moment is i don't have the data to make that initial clear requirement, because i haven't launched yet so i don't know how my users would use my category schema
[17:00:02] <trafficjam> but like sobel said, i guess i need to figure this out as i go along, and make the necessary changes when they become clear
[17:00:03] <sobel> launch time is a shade late to have some clear requirements
[17:00:23] <sobel> if someone else is giving you requirements that won't materialize until launch, quit now
[17:00:35] <sobel> or go sit on someone's desk until they relent
[17:00:40] <Xgc> trafficjam: In that description, you avoided any requirement at all, which is the worst of all cases.
[17:01:17] <sobel> i can't say this strongly enough without resorting to caps. if you can't get a requirement that you can build a straw man schema from, give up.
[17:02:01] <sobel> or if you're startup-level motivated, write the requirements as far as you understand them, push those up to your supposed design team, and then implement them in your database.
[17:02:12] <Xgc> trafficjam: It's a very important part of the process.  Don't skip that step, even if it hurts to try.
[17:02:15] <avemestr> pedja: I might very well be wrong, but I think the migration-stuff comes from "modern programming habits"... e.g. people are writing apps using an ORM. So they want to do code changes and simply use the database to persist their application classes.
[17:02:54] <sobel> it's truly a waste of everyone's time if there's just not going to be a requirement. i always know what my goal is if i'm building or modifying my schema.
[17:03:12] *** Quits: doev (~doev@mobile.bpv-consult.net) (Quit: Client closed)
[17:03:25] <avemestr> pedja: So instead of the "traditional way" where you designed a database to hold some data and then multiple different apps was using that database, you're now seeing people "linking" their OOP classes to the database structure. Sadly.
[17:03:49] <trafficjam> Xgc, sobel: i mean i'm trying to do that, the requirement is "build a category schema that is as general/flexible as possible so that most users can implement their own custom heirarchy"
[17:03:50] *** Quits: kakashiA1 (~kakashi@41.143.3.136) (Ping timeout: 260 seconds)
[17:03:55] <sobel> avemestr: i'm not using an ORM. it's just obvious to me to have a well defined change control process for data/schema as critical parts of my application
[17:04:19] *** Quits: Xelnor (xelnor@2a01:e34:ec7b:5e70::2) (Remote host closed the connection)
[17:04:19] <trafficjam> my own requirement, for a side project
[17:04:57] <Xgc> trafficjam: If you think that's clear, create a few test cases that are representative of the requirement.  Now try to design something to house that structure.
[17:05:17] <sobel> trafficjam: oh, ok. so this is just like any code. build what you can, analyze, decide whether you can build extend the implementation to continue or need to change/start over
[17:05:52] <sobel> trafficjam: and your aim will get better with time and practice, same as any language
[17:05:58] <trafficjam> Xgc: yeah in the process of doing that, only done a few examples but so far not too many issues
[17:06:28] <sobel> you can write functions that provide the interface you want, and start doing TDD around those
[17:06:35] <trafficjam> sobel: basically just do the best i can at the time, launch, and then iterate as i gather more data?
[17:07:04] <sobel> i don't know what launch means to you, but some goal-related testing would seem like a good chokepoint in your development cycle
[17:07:50] <sobel> to me, launch means send out a bunch of emails to users. =)
[17:07:54] *** Joins: tozhu (~tozhu@125.69.99.189)
[17:08:19] *** Joins: Atque (~Atque@user/atque)
[17:09:40] <trafficjam> launch is where i have a domain name, and start to share the site with people i guess
[17:10:16] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[17:12:05] <sobel> do you need all that to figure out if your schema does what you want it to?
[17:12:41] <sobel> if you know what you want them to do with it, those are your use cases
[17:13:00] <sobel> i would suggest writing those down, and starting off by implementing the simplest one first
[17:13:09] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[17:13:23] <trafficjam> yeah fair point, currently im writing down some examples and trying to map them to my schema design
[17:13:24] <sobel> this is how i build a real app, with a team that doesn't really know what they're building
[17:13:40] <Xgc> trafficjam: I've got this idea of a database that will be sent to and used on the space station.  Should I wait to build the rocket and send my initial guess to the space station?
[17:13:52] <sobel> heh
[17:14:31] <pedja> avemestr, interesting take on this. thanks :)
[17:14:40] <sobel> many "designers" need help coming up with use cases, but once they're on that track they can critique and modify and fork the major use cases almost endlessly
[17:14:47] <trafficjam> i mean yeah you probably would want the database to be "done" beforey ou send it on your rocket
[17:15:25] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Ping timeout: 240 seconds)
[17:15:26] <sobel> i'd want that database to successfully serve a lot of simulated missions first, too
[17:15:29] <Xgc> trafficjam: It's more about understanding how to build/test the subsystem without the need for any web site, rocket or space station.
[17:15:43] <sobel> ^^^
[17:15:54] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[17:16:17] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[17:16:43] *** Joins: doev (~doev@mobile.bpv-consult.net)
[17:16:45] <sobel> a table is an object you can test
[17:16:49] <pedja> ISS has Internet, so you can always do db tweaks live, right?
[17:17:17] <sobel> snrk
[17:17:19] *** Joins: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29)
[17:18:06] <sobel> i'm sure NASA connects to their db to play around with indexes and tweak role privileges
[17:18:24] <sobel> maybe an off-schedule backup for grins
[17:19:02] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Remote host closed the connection)
[17:19:45] <Xgc> trafficjam: Do all your initial testing for direct create, insert, update, merge, delete statements.  No need for any html, web apps, http servers, or rocket fuel.
[17:20:36] *** Quits: Su-Shee (~Susanne@198-110-142-46.pool.kielnet.net) (Ping timeout: 250 seconds)
[17:20:39] <trafficjam> Xgc: the problem is not the correctness of my schemas in the sense that an error might occur, but in the actual structure of them
[17:20:53] *** Quits: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29) (Client Quit)
[17:20:57] <Xgc> trafficjam: Exactly.  No need for any fluff to test structure.
[17:21:27] <Xgc> Don't waste your time with anything that's not SQL.
[17:21:47] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[17:21:47] *** Joins: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29)
[17:22:30] *** Joins: Su-Shee (~Susanne@4-110-142-46.pool.kielnet.net)
[17:22:46] <Xgc> or some model, if you wish to use general modeling software.
[17:24:16] <trafficjam> yeah trying not to. Alright, i guess i'll continue writing out those example use-cases and seeing if that fit with my current schema, and go from there
[17:24:39] <trafficjam> sobel, Xgc: thank you guys for your advice, definitely helpful
[17:25:37] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[17:28:27] <sobel> good luck
[17:28:32] <depesz> Hi. I have logical replication from 12 to 14. On both sides, I have max_wal_senders = 50 and max_worker_processes = 50, and max_sync_workers_per_subscription = 2. there is just one publication and one subscrption. but when I do select * from pg_replication_slots on source shows 50 slots. one named the way I named my sub, but the orther 489 are pg_*_sync_*
[17:28:40] <depesz> why do I have so many of initial-sync slots?
[17:30:19] <depesz> aditionally in logs i get MANY "ERROR,53400,"all replication slots are in use",,"Free one or increase max_replication_slots.",,,,"
[17:30:29] *** Quits: fruity_tomato (~fruity_to@user/fruity-tomato/x-3541336) (Ping timeout: 256 seconds)
[17:47:21] *** Joins: Xelnor (xelnor@2a01:e34:ec7b:5e70::2)
[17:48:47] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[17:49:20] *** Joins: mattil (~mattil@helsinki.portalify.com)
[17:53:13] *** Parts: alioui (~medeva293@197.238.215.234) ()
[17:53:48] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 240 seconds)
[17:54:19] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[17:55:38] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 260 seconds)
[17:55:51] <trafficjam> quick question: if i have 3 tables, "users", "foo", "bar", where users have many foos and foos have many bars, should i define a user_id column on bar?
[17:56:02] <trafficjam> or should i not? or does it not really matter?
[17:56:27] *** Joins: Shells (~michelle@2407:8800:bc20:200a:3c57:fb8b:2003:7337)
[17:58:18] *** Quits: Michelle (~michelle@203.206.128.220) (Ping timeout: 250 seconds)
[18:01:04] *** Joins: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi)
[18:04:41] *** Quits: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi) (Remote host closed the connection)
[18:05:09] *** Joins: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi)
[18:07:01] <ilmari> trafficjam: if you frequently query for bars belonging to a user and the extra join to get the user ID is a measurable bottleneck, it can make sense to denormalise it into bar
[18:07:24] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 250 seconds)
[18:08:12] <ilmari> "measurable bottleneck" as in your service is not performing adequately, and you've identified that the join is a significant portion of the time taken during the requests thate are too slow
[18:09:08] <ilmari> the first rule of optimisation is "don't". the second rule of performance optimisation (for experts only) is "don't yet".
[18:09:34] *** Quits: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi) (Ping timeout: 250 seconds)
[18:10:04] *** Quits: ne2k (~andy@212.250.187.98) (Quit: Ex-Chat)
[18:10:31] *** Joins: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com)
[18:10:34] *** Joins: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi)
[18:10:34] *** Joins: ne2k (~andy@212.250.187.98)
[18:10:35] <ne2k> red
[18:10:38] <ne2k> wut
[18:10:44] *** Quits: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi) (Remote host closed the connection)
[18:11:10] *** Joins: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi)
[18:13:40] *** Quits: fandre1986 (~fandre198@78.10.85.96) (Quit: Connection closed)
[18:14:34] *** Quits: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi) (Remote host closed the connection)
[18:14:46] *** Joins: pjs (~pjs@user/pjs)
[18:15:01] *** Joins: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi)
[18:15:12] *** Quits: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi) (Remote host closed the connection)
[18:15:20] *** Joins: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi)
[18:17:31] *** Quits: funhouse (~funhouse@user/funhouse) (Ping timeout: 256 seconds)
[18:18:14] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Remote host closed the connection)
[18:19:16] <trafficjam> ilmari: great, thanks
[18:20:31] *** Joins: monstar (~monstar@gateway/tor-sasl/monstar)
[18:21:49] *** Quits: michele (~eraser@user/michele) (Read error: Connection reset by peer)
[18:22:07] *** Joins: Klinda (~superleag@user/klinda)
[18:23:28] *** Joins: michelle_ (~michelle@2407:8800:bc20:200a:3c57:fb8b:2003:7337)
[18:24:12] *** Quits: Shells (~michelle@2407:8800:bc20:200a:3c57:fb8b:2003:7337) (Ping timeout: 240 seconds)
[18:24:14] *** Joins: michele (~eraser@user/michele)
[18:26:10] *** Joins: EvanCarroll (~ecarroll@68-78-105-35.lightspeed.hstntx.sbcglobal.net)
[18:26:39] *** Quits: zer0def (~zer0def@user/zer0def) (Remote host closed the connection)
[18:27:20] *** Joins: zer0def (~zer0def@user/zer0def)
[18:30:55] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[18:31:17] *** Quits: lechner (~lechner@debian/lechner) (Ping timeout: 240 seconds)
[18:32:33] *** Joins: lechner (~lechner@debian/lechner)
[18:32:53] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Remote host closed the connection)
[18:35:03] *** Joins: monstar (~monstar@gateway/tor-sasl/monstar)
[18:35:14] *** Quits: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29) (Quit: Leaving.)
[18:35:57] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[18:36:32] *** Joins: maciek_ (~maciek@2600:1700:a412:1c00:b36f:2929:5532:156a)
[18:37:55] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 256 seconds)
[18:38:16] *** Quits: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi) (Remote host closed the connection)
[18:38:21] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[18:38:25] *** Joins: Haudegen (~quassel@91.114.49.10)
[18:38:41] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[18:38:43] *** Joins: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi)
[18:39:03] *** Quits: Guest87 (~Guest87@202-90-244-107.ca5af4.per.static.aussiebb.net) (Ping timeout: 256 seconds)
[18:42:37] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[18:42:40] *** Joins: shiranaihito_ (~textual@123-192-192-149.dynamic.kbronet.com.tw)
[18:43:01] *** Quits: mattil (~mattil@d5tmyz4sdbr1s-7-w18-4.rev.dnainternet.fi) (Ping timeout: 240 seconds)
[18:43:57] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Remote host closed the connection)
[18:44:25] *** Joins: monstar (~monstar@gateway/tor-sasl/monstar)
[18:45:42] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:45:56] *** Joins: mizi (~mizi@user/mizi)
[18:45:58] *** Quits: shiranaihito (~textual@2001-b011-4011-1456-c1b3-c1be-e9e9-4766.dynamic-ip6.hinet.net) (Ping timeout: 250 seconds)
[18:49:06] *** Quits: peteyboy1 (~peteyboy1@199.157.133.37.dynamic.jazztel.es) (Read error: Connection reset by peer)
[18:50:42] *** Quits: zer0def (~zer0def@user/zer0def) (Remote host closed the connection)
[18:51:14] *** Joins: zer0def (~zer0def@user/zer0def)
[18:51:40] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[18:56:40] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[18:56:46] <sobel> trafficjam: https://jaybs.medium.com/the-hardest-thing-about-engineering-is-requirements-28a6a70c4db4
[18:57:01] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 240 seconds)
[18:57:11] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[18:57:51] *** Joins: bsd4me (~usingbsd@user/bsd4me)
[18:58:17] <trafficjam> thanks, reading now
[18:58:18] *** Quits: bsd4me (~usingbsd@user/bsd4me) (Read error: Connection reset by peer)
[19:00:10] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[19:01:31] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[19:08:19] *** Joins: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net)
[19:09:27] *** Quits: pingr (~hruske@89-212-52-175.static.t-2.net) (Quit: leaving)
[19:09:55] *** Quits: trafficjam (~qubes@119-12-218-129.dynamic.ipstaraus.com) (Read error: Connection reset by peer)
[19:12:13] *** Quits: akelly (24aca7a63b@2604:bf00:561:2000::152) (Remote host closed the connection)
[19:12:13] *** Quits: jplock (bde7fdb223@user/jplock) (Remote host closed the connection)
[19:12:13] *** Quits: sm2n (ae95cb1267@user/sm2n) (Write error: Broken pipe)
[19:12:13] *** Quits: ddevault (e7b4bb6755@sourcehut/staff/ddevault) (Write error: Broken pipe)
[19:12:13] *** Quits: raiaq (0a41c94ab1@user/raiaq) (Remote host closed the connection)
[19:12:13] *** Quits: hwrd (aa272caead@2604:bf00:561:2000::137) (Remote host closed the connection)
[19:12:13] *** Quits: Ankhers (e99e97ef8e@2604:bf00:561:2000::2a2) (Remote host closed the connection)
[19:12:13] *** Quits: psw (2b13331353@user/psw) (Remote host closed the connection)
[19:12:13] *** Quits: ggb (a62ffbaf4f@2604:bf00:561:2000::3ac) (Remote host closed the connection)
[19:12:13] *** Quits: fmac (bf93f83905@2604:bf00:561:2000::26) (Remote host closed the connection)
[19:12:14] *** Quits: johnhamelink (3ae947b049@2604:bf00:561:2000::1b) (Remote host closed the connection)
[19:12:15] *** Quits: akspecs (00cc8321af@sourcehut/user/akspecs) (Remote host closed the connection)
[19:12:19] *** Quits: shrysr (4e0b42ae98@user/shrysr) (Remote host closed the connection)
[19:12:34] *** Joins: johnhamelink (3ae947b049@2604:bf00:561:2000::1b)
[19:12:40] *** Joins: ggb (a62ffbaf4f@2604:bf00:561:2000::3ac)
[19:12:41] *** Joins: fmac (bf93f83905@2604:bf00:561:2000::26)
[19:12:41] *** Joins: raiaq (0a41c94ab1@user/raiaq)
[19:12:48] *** Joins: hwrd (aa272caead@2604:bf00:561:2000::137)
[19:12:50] *** Joins: sm2n (ae95cb1267@user/sm2n)
[19:12:50] *** Joins: akspecs (00cc8321af@sourcehut/user/akspecs)
[19:12:53] *** Joins: ddevault (e7b4bb6755@sourcehut/staff/ddevault)
[19:12:53] *** Joins: akelly (24aca7a63b@2604:bf00:561:2000::152)
[19:13:03] *** Joins: jplock (bde7fdb223@user/jplock)
[19:13:03] *** Joins: Ankhers (e99e97ef8e@2604:bf00:561:2000::2a2)
[19:13:03] *** Joins: psw (2b13331353@user/psw)
[19:13:03] *** Joins: shrysr (4e0b42ae98@user/shrysr)
[19:13:17] *** Quits: Komzpa (~kom@212.58.119.213) (Ping timeout: 240 seconds)
[19:17:09] *** Quits: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net) (Quit: Leaving)
[19:17:23] *** Joins: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net)
[19:17:29] *** Joins: mattil (~mattil@helsinki.portalify.com)
[19:18:12] *** Quits: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net) (Read error: Connection reset by peer)
[19:18:39] *** Joins: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net)
[19:19:20] *** Joins: mahlon (~mahlon@martini.nu)
[19:22:41] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 256 seconds)
[19:25:24] *** Quits: tozhu (~tozhu@125.69.99.189) (Quit: tozhu)
[19:33:28] *** Quits: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se) (Remote host closed the connection)
[19:34:12] *** Joins: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se)
[19:39:12] *** Quits: mrwick (~mrwick@user/mrwick) (Ping timeout: 252 seconds)
[19:40:04] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[19:41:23] *** Quits: doev (~doev@mobile.bpv-consult.net) (Ping timeout: 256 seconds)
[19:44:28] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 250 seconds)
[19:45:52] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[19:48:29] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[19:50:06] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 250 seconds)
[19:53:50] *** Joins: funhouse (~funhouse@user/funhouse)
[19:54:00] *** Quits: koo5_ (~quassel@51.140.155.227) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[19:54:55] *** Joins: koo5_ (~quassel@51.140.155.227)
[19:55:54] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:57:39] *** Joins: magla (~gelignite@55d4c150.access.ecotel.net)
[19:59:55] *** Joins: Giovanni (~Giovanni@176.55.166.222)
[20:06:26] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[20:09:15] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[20:09:23] *** Quits: Shadur (~Rens@2001:981:9a5e:1:5965:9baa:b67f:225a) (Quit: Leaving)
[20:11:45] *** Joins: Atque (~Atque@user/atque)
[20:18:02] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 240 seconds)
[20:22:07] <dirtwash> depesz: if I create backup on a secondary..how do I restoer the backup in a way that id esont try to become a standby node trying to connect to primary? i cant get the backup working basically
[20:27:35] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[20:29:45] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[20:31:20] *** Joins: alch3mist (~alch3mist@199.169.204.182)
[20:31:52] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[20:31:54] *** Joins: mattil (~mattil@helsinki.portalify.com)
[20:32:16] *** Quits: Haudegen (~quassel@91.114.49.10) (Quit: Bin weg.)
[20:36:10] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 260 seconds)
[20:37:58] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Read error: Connection reset by peer)
[20:38:03] *** Quits: uncleyear (~ian@178.176.77.39) (Ping timeout: 252 seconds)
[20:39:22] *** Quits: mexen (uid495612@user/mexen) (Quit: Connection closed for inactivity)
[20:41:45] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[20:42:02] *** Quits: tehenderz_ (~tehenderz@ti0018a400-11197.bb.online.no) (Ping timeout: 240 seconds)
[20:42:27] *** Joins: tehenderz (~tehenderz@ti0018a400-8221.bb.online.no)
[20:44:16] *** Quits: _xor (~xor@dsl-50-5-233-169.fuse.net) (Ping timeout: 250 seconds)
[20:45:25] *** Joins: _xor (~xor@dsl-50-5-233-169.fuse.net)
[20:46:33] *** Joins: mattil_ (~mattil@87-92-25-179.bb.dnainternet.fi)
[20:46:34] *** Quits: mattil_ (~mattil@87-92-25-179.bb.dnainternet.fi) (Remote host closed the connection)
[20:46:57] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 240 seconds)
[20:46:59] *** Joins: mattil_ (~mattil@87-92-25-179.bb.dnainternet.fi)
[20:47:58] *** Joins: mattil (~mattil@helsinki.portalify.com)
[20:48:01] *** Joins: Guest5114 (~Guest51@94.231.133.170)
[20:50:28] *** Joins: econo (uid147250@user/econo)
[20:51:25] *** Quits: mattil_ (~mattil@87-92-25-179.bb.dnainternet.fi) (Ping timeout: 256 seconds)
[20:54:23] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[20:54:36] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[20:54:50] *** Quits: Guest5114 (~Guest51@94.231.133.170) (Quit: Client closed)
[20:56:39] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[20:57:20] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[21:08:01] *** Joins: alioui (~medeva293@197.238.215.234)
[21:09:34] *** Joins: kakashiA1 (~kakashi@41.143.246.221)
[21:12:07] *** Joins: krismatrix (~krismatri@c-73-212-30-17.hsd1.md.comcast.net)
[21:15:23] *** Parts: jpa (~jpa@2a01:e0a:5cb:6b80:9dd8:d715:f031:d21c) ()
[21:15:25] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[21:15:28] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Ping timeout: 250 seconds)
[21:17:32] *** Joins: jazzy (~jaziz@user/jaziz)
[21:19:03] *** Joins: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04)
[21:26:27] *** Quits: the_lanetly_052 (~the_lanet@194.135.155.189) (Ping timeout: 252 seconds)
[21:26:50] *** Joins: Exuma (~Exuma@47-208-155-156.erkacmtk03.res.dyn.suddenlink.net)
[21:26:50] <Exuma> ??paste
[21:26:51] <pg_docbot> https://explain.depesz.com/ :: https://www.db-fiddle.com/
[21:26:51] <pg_docbot> https://paste.depesz.com/ :: https://dpaste.org
[21:27:01] *** Quits: jazzy (~jaziz@user/jaziz) (Quit: Beddie bye-bye)
[21:27:10] <Exuma> https://dpaste.org/4TNv
[21:27:29] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[21:27:34] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[21:27:40] <Exuma> how do I get this query to work? im doing 2 things primarily... 1) using a "field map" JSONB to dynamically decide the column key names within the "data" blob
[21:28:23] <Exuma> 2) trying to take one blob with the title "segment", and take this string and split it, and then create rows out of it (the string value is like "id1,id2" and i want it as 2 separate rows, duplicating all the other columns)
[21:29:12] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 252 seconds)
[21:33:49] *** Quits: AceSlash (~slash@cosium-fo-152-18.fib.nerim.net) (Quit: Leaving)
[21:34:05] *** Joins: pramsky (~pramz@23.252.62.194)
[21:34:24] *** Joins: Komzpa (~kom@212.58.119.213)
[21:34:57] *** Quits: maciek_ (~maciek@2600:1700:a412:1c00:b36f:2929:5532:156a) (Ping timeout: 240 seconds)
[21:37:18] *** Quits: vladoski (~vladoski@2001:b07:add:d406:9201:e4b2:bc64:d922) (Remote host closed the connection)
[21:39:18] <ne2k> Exuma, can you paste some example data? I can't quite follow what you're donig with the json
[21:39:21] <ne2k> ??fiddle
[21:39:22] <pg_docbot> https://dbfiddle.uk/ :: https://www.db-fiddle.com/
[21:39:37] <Exuma> ne2k ok sure
[21:40:07] *** Joins: uncleyear (~ian@178.176.77.39)
[21:40:38] <ne2k> Exuma, the unnest(string_to_array(string, ',')) looks correct for turning a comma-separated list into rows
[21:41:00] <Exuma> ne2k would you let me know why a "cross join lateral" is required when unnest seems to work without it?
[21:41:03] <Exuma> i got it from this SO answer:
[21:41:16] <Exuma> https://stackoverflow.com/a/29420035/794481
[21:44:11] <ne2k> https://dbfiddle.uk/?rdbms=postgres_14&fiddle=7b90d3f4ecb6d21ea081398f0b10f619
[21:44:40] <ne2k> Exuma, I believe ^ that is not standard SQL, but works in pg
[21:44:44] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[21:45:17] <ne2k> Exuma, are you trying to use the unnested values to index keys in an object? like an object slice?
[21:45:31] <Exuma> @ne2k i will paste my demo in 1 sec
[21:45:33] <Exuma> almost done
[21:45:39] *** Joins: mattil (~mattil@87-92-25-179.bb.dnainternet.fi)
[21:46:34] *** Joins: mattil_ (~mattil@helsinki.portalify.com)
[21:47:10] *** Joins: nulixes1 (~Thunderbi@gateway/vpn/pia/nulixes)
[21:47:22] <Exuma> ne2k https://dba.stackexchange.com/questions/308712/left-outer-join-with-a-cross-join-lateral
[21:47:27] <Exuma> i tried to include samples of what im doing
[21:47:48] <Exuma> wait WTF now it works
[21:48:40] <Exuma> dude thats just nuts, i tried getting it working forever... then i go to type a demo query
[21:48:41] <Exuma> and it works
[21:48:45] <modin> Exuma: "s.segment" vs "s.segments"
[21:49:01] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 240 seconds)
[21:49:01] *** nulixes1 is now known as nulixes
[21:49:12] <Exuma> modin i think it was that youre rigth. What does s(column) mean
[21:49:17] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[21:49:18] <Exuma> thats creating a table called s with a single column?
[21:49:49] *** Quits: mattil (~mattil@87-92-25-179.bb.dnainternet.fi) (Ping timeout: 240 seconds)
[21:49:54] <modin> yes, but your error is that it searches for "segments", but you named the  column "segment"
[21:50:24] *** Joins: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt)
[21:50:39] <ne2k> Exuma, sometimes taking the time to create a minimal failing example is all that is required to direct you to where your problem was
[21:50:47] *** Quits: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt) (Client Quit)
[21:52:17] *** Quits: heldchen (~heldchen@user/held) (Ping timeout: 240 seconds)
[21:53:04] *** Joins: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt)
[21:53:44] <Exuma> ok I do have one final part of this question, how do I make it where if the key isnt in the map, or its set with "", it still includes the row but just uses NULL for the segment
[21:53:57] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 268 seconds)
[21:55:37] <ne2k> Exuma, worst case you could do a case when?
[21:56:37] <ne2k> g2g, sorry, good luck
[21:57:01] *** Quits: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de) (Ping timeout: 245 seconds)
[21:57:29] *** Joins: heldchen (~heldchen@user/held)
[21:57:44] <Exuma> thanks!!
[21:59:56] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[22:02:30] *** Quits: Exuma (~Exuma@47-208-155-156.erkacmtk03.res.dyn.suddenlink.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:07:35] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Ping timeout: 240 seconds)
[22:07:52] *** Joins: Auron (Auron956@user/auron)
[22:09:53] *** Joins: monstar (~monstar@gateway/tor-sasl/monstar)
[22:10:13] *** Joins: MrZeus_ (~MrZeus@86.106.136.215)
[22:10:19] *** Quits: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[22:13:45] *** Quits: nyov (~nyov@user/nyov) (Ping timeout: 252 seconds)
[22:13:49] *** Quits: MrZeus__ (~MrZeus@81.92.205.23) (Ping timeout: 256 seconds)
[22:15:30] *** Joins: nyov (~nyov@user/nyov)
[22:16:00] *** Joins: jazzy (~jaziz@user/jaziz)
[22:16:39] *** Joins: ivii (~ivan@user/ivii)
[22:17:59] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.a189.priv.bahnhof.se) (Read error: Connection reset by peer)
[22:18:13] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[22:28:49] *** Joins: Atque (~Atque@user/atque)
[22:32:28] *** Joins: epolanski (uid312403@id-312403.helmsley.irccloud.com)
[22:35:13] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[22:37:57] <ianthrive> i'm wondering if there is anything i can do to improve this query, it's taking about 45 min, where as a very similar query without the join in the sub query takes about 2 min     https://explain.depesz.com/s/ecR5#html
[22:38:04] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[22:38:09] *** Quits: darutoko (~darutoko@37.21.214.41) (Quit: Leaving)
[22:40:56] *** Joins: discmuc (~discmuc@ip1f13d7b0.dynamic.kabel-deutschland.de)
[22:44:11] *** Quits: discmuc (~discmuc@ip1f13d7b0.dynamic.kabel-deutschland.de) (Client Quit)
[22:46:58] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[22:52:41] <Zr40> how many mail_box rows do you expect one customer to have?
[22:53:16] <ilmari> ianthrive: does mail_box not have a customer_id?
[22:54:10] <ianthrive> each customer in the given 60 days would be expected to have 0-8 rows
[22:54:20] <ianthrive> mail_box does not have customer_id
[22:54:27] <Zr40> why is journeys_customers_nodes inside the subquery rather than outside?
[22:54:35] *** Quits: zer0def (~zer0def@user/zer0def) (Quit: zer0def)
[22:55:27] *** Quits: mattil_ (~mattil@helsinki.portalify.com) (Quit: Leaving...)
[22:56:11] <ianthrive> the sub query is one of several similar sub queries, those are removed to isolate the issue
[22:56:23] <Zr40> according to the plan, for each iteration over a transactions row, that subquery is reading 181894 mail_box rows
[22:56:34] <Zr40> 181894 is just slightly more than 0-8
[22:56:38] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Remote host closed the connection)
[22:57:29] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[22:58:34] *** Joins: maciek_ (~maciek@2600:1700:a412:1c00:3426:21b7:936:2565)
[22:58:56] *** Quits: krismatrix (~krismatri@c-73-212-30-17.hsd1.md.comcast.net) (Quit: Leaving)
[22:59:02] *** Parts: alioui (~medeva293@197.238.215.234) ()
[23:00:16] <Zr40> if you could add customer_id to mail_box, then you can remove that join to journeys_customers_nodes and use an index on mail_box (customer_id, created_when)
[23:00:52] <ilmari> yeah, that was going to be my suggestion. why the indirection?
[23:01:15] *** Joins: kitsunenokenja (~kitsunech@68.91.220.96)
[23:03:23] <ianthrive> that's my thinking too at this point, denormalize that table to include customer_id and remove the join
[23:03:39] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[23:04:19] <ilmari> what does journeys_customer_nodes contain/represent, besides the user ID?
[23:07:12] <ianthrive> it represents customer activity at a point in a "journey", and mail_box is a result of that activity
[23:09:20] <ianthrive> for each journey_customer_node there could be multiple mail_box rows
[23:09:56] <ilmari> having denormalising that into the mail_box (e.g. as created_by_customer_id) and making it part of the FK makes sense for this type of queries
[23:10:06] <ilmari> -having
[23:10:45] <ilmari> normalise until it hurts, denormalise until it's fast (enough). you've clearly reached the point where it hurts
[23:11:42] <Myon> just claim the PK is (customer, mailbox) and it's not even denormalized... sort of
[23:14:11] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[23:14:11] *** Joins: iliv (~iliv@user/iliv)
[23:14:13] *** Joins: cerill (~cerill@h-155-4-198-153.A785.priv.bahnhof.se)
[23:17:07] *** Joins: mattil (~mattil@87-92-25-179.bb.dnainternet.fi)
[23:18:42] *** Quits: mattil (~mattil@87-92-25-179.bb.dnainternet.fi) (Remote host closed the connection)
[23:19:14] *** Joins: mattil (~mattil@87-92-25-179.bb.dnainternet.fi)
[23:20:23] *** Joins: zer0def (~zer0def@user/zer0def)
[23:20:24] <ianthrive> thanks all for taking a look
[23:22:58] *** Quits: cerill (~cerill@h-155-4-198-153.A785.priv.bahnhof.se) (Quit: Client closed)
[23:23:02] *** Joins: concrete-houses (~g@209.6.150.53)
[23:23:03] *** Quits: lilgopher (~ubuntu@2601:241:8000:38f0::342c) (Ping timeout: 250 seconds)
[23:23:59] <concrete-houses> I have a task to insert some data into a table liek 400k rows... problem is the production table has 5 more columns than the csv
[23:24:12] *** Quits: darkbit (~db@136.158.8.67) (Ping timeout: 240 seconds)
[23:24:19] <concrete-houses> one is bigserial  so I think if I leave that out of the insert it will autoincrement ?
[23:24:48] <concrete-houses> one is null and reast are uuid v4
[23:25:47] *** Joins: k8yun (~k8yun@user/k8yun)
[23:25:55] <concrete-houses> during the insert I can call uuid_generate_v4() to populate each row with those 3 cumns?
[23:26:13] <ilmari> if the columns have default values, you can COPY the_table (list,of,columns,actually,in,the,csv) FROM …
[23:26:16] <concrete-houses> I am kinda trynig to walk becaus eI cant run in postgresql yet
[23:26:27] <concrete-houses> !
[23:26:36] *** Joins: Guest64 (~Guest64@cpc95222-derb16-2-0-cust362.8-3.cable.virginm.net)
[23:26:45] <Guest64> Hi everyone
[23:26:52] <Guest64> new to the Postgres world
[23:26:52] *** Quits: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se) (Read error: Connection reset by peer)
[23:27:30] *** Joins: idontneedanick (~idontneed@h-85-24-184-105.A189.priv.bahnhof.se)
[23:27:32] <concrete-houses> I have dbeaver and am connecting in such a way that I usually don't have psql command line.....  can I do COPY from the SQL commandline?
[23:27:32] *** Quits: mattil (~mattil@87-92-25-179.bb.dnainternet.fi) (Ping timeout: 240 seconds)
[23:27:44] <concrete-houses> its a cloud aws aurora setup ( heh )
[23:27:50] <Guest64> i use Prisma with nodejs express , and i have to query the database, a table have a daterange column, how do you query the daterange ?
[23:28:13] <concrete-houses> dbeaver does have 'cuk load' option in one data import screen uses copy I think, maybe thats the way
[23:29:04] <concrete-houses> I am able to load the csv into a temp table.....
[23:29:32] <concrete-houses> but its 5 columns mising as the temp table is created using the column names in the csv
[23:29:37] *** Joins: mattil (~mattil@87-92-25-179.bb.dnainternet.fi)
[23:30:13] <concrete-houses> I usually run an update to staging_table from the csv-temp-table
[23:30:27] *** Joins: agrosant (~agrosant@46.12.50.59.dsl.dyn.forthnet.gr)
[23:30:36] *** Joins: mattil_ (~mattil@helsinki.portalify.com)
[23:32:46] <concrete-houses> ilmari: would I leave out the solumn that is a bigserial? would it auto increment?
[23:33:00] <concrete-houses> column that is
[23:33:58] *** Joins: walterwhip (~walterwhi@user/walterwhip)
[23:34:01] *** Quits: mattil (~mattil@87-92-25-179.bb.dnainternet.fi) (Read error: Connection reset by peer)
[23:37:42] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:38:10] *** Quits: mattil_ (~mattil@helsinki.portalify.com) (Ping timeout: 260 seconds)
[23:38:48] *** Quits: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:41:23] <concrete-houses> that bigserial column has a default of nextval('myschema."Mytable_Mycolumn_seq"'::regclass)
[23:41:27] *** Quits: walterwhip (~walterwhi@user/walterwhip) (Quit: Textual IRC Client: www.textualapp.com)
[23:41:28] <concrete-houses> rest no defaults
[23:42:07] *** Joins: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04)
[23:43:18] <concrete-houses> How do I do a copy or insert such that that bigserial column gets called and the rows get squenced?
[23:44:33] <concrete-houses> if I leave that column out does it just happen(tm)?
[23:46:25] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[23:47:37] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[23:50:54] *** Quits: immae (~immae@2a01:4f8:141:53e7::) (Quit: WeeChat 2.9)
[23:51:37] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[23:52:00] *** Quits: Guest64 (~Guest64@cpc95222-derb16-2-0-cust362.8-3.cable.virginm.net) (Quit: Connection closed)
[23:52:21] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Client Quit)
[23:53:06] *** Quits: fcr (~fran@r186-48-155-243.dialup.adsl.anteldata.net.uy) (Ping timeout: 260 seconds)
[23:53:22] *** Quits: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:54:01] *** Joins: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04)
[23:54:21] *** Joins: zzing (~zzing@d24-57-14-115.home.cgocable.net)
[23:54:36] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[23:56:31] *** Quits: ianthrive (~ianthrive@2603:3026:56d:e100:1535:eb2:8824:c04) (Client Quit)
[23:57:41] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[23:58:26] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Client Quit)
[23:59:19] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:b921:6822:fa0e:e017)
