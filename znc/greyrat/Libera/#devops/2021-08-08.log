[00:25:26] *** Quits: mattil (~mattilinn@87-92-57-75.bb.dnainternet.fi) (Quit: Leaving)
[00:52:52] *** Joins: Brainium (~brainium@user/brainium)
[01:39:42] *** Quits: zigsphere (~zigsphere@c-98-210-112-39.hsd1.ca.comcast.net) (Ping timeout: 258 seconds)
[01:41:06] *** Joins: zigsphere (~zigsphere@2607:fb90:463:7e67:38ca:a58a:da79:621)
[01:48:18] *** Quits: zigsphere (~zigsphere@2607:fb90:463:7e67:38ca:a58a:da79:621) (Read error: Connection reset by peer)
[01:50:02] *** Joins: zigsphere (~zigsphere@2607:fb90:463:7e67:38ca:a58a:da79:621)
[01:59:08] *** Joins: humky (~humky@user/humky)
[02:10:06] *** Quits: zigsphere (~zigsphere@2607:fb90:463:7e67:38ca:a58a:da79:621) (Ping timeout: 272 seconds)
[02:10:35] *** Joins: zigsphere (~zigsphere@2607:fb90:22dd:55dd:2d2d:b338:25b2:2855)
[02:38:07] *** Quits: predmijat (~predmijat@mail.strogopro.com) (Quit: bye)
[02:39:41] *** Joins: predmijat (~predmijat@mail.strogopro.com)
[02:56:59] *** Quits: danisztls (~weechat@user/danisztls) (Ping timeout: 250 seconds)
[03:19:03] *** Quits: Eloygn (~Eloygn@109.77.119.129) (Remote host closed the connection)
[03:20:10] *** Joins: Eloygn (~Eloygn@109.77.119.129)
[04:27:13] *** Quits: zigsphere (~zigsphere@2607:fb90:22dd:55dd:2d2d:b338:25b2:2855) (Ping timeout: 258 seconds)
[04:29:23] *** Joins: zigsphere (~zigsphere@2607:fb90:468:afed:a4e5:dfc4:6901:a073)
[04:39:57] *** Quits: zigsphere (~zigsphere@2607:fb90:468:afed:a4e5:dfc4:6901:a073) (Quit: Quit)
[04:46:02] *** Quits: predmijat (~predmijat@mail.strogopro.com) (Quit: bye)
[04:47:38] *** Joins: predmijat (~predmijat@mail.strogopro.com)
[05:54:28] *** Joins: danisztls (~weechat@user/danisztls)
[06:14:32] *** Quits: Eloygn (~Eloygn@109.77.119.129) (Quit: Leaving)
[07:10:55] *** Quits: DefiantX (~DefiantN@user/defiantn) (Ping timeout: 250 seconds)
[07:15:44] *** Quits: Brainium (~brainium@user/brainium) (Quit: Konversation terminated!)
[07:17:36] *** Joins: DefiantX (~DefiantN@user/defiantn)
[07:43:25] *** Quits: uvolmer (~uvolmer@2001-4dd0-212c-82-e069-f5f7-ab7b-8443.ipv6dyn.netcologne.de) (Ping timeout: 250 seconds)
[09:14:33] *** Quits: danisztls (~weechat@user/danisztls) (Quit: I will return...)
[10:29:53] *** Joins: zigsphere (~zig@c-98-210-112-39.hsd1.ca.comcast.net)
[10:31:55] *** Quits: zigsphere (~zig@c-98-210-112-39.hsd1.ca.comcast.net) (Client Quit)
[10:32:22] *** Joins: zigsphere (~zig@nothanks.noneofyourbusiness.tk)
[11:27:09] *** Quits: zigsphere (~zig@nothanks.noneofyourbusiness.tk) (Quit: leaving)
[11:27:30] *** Joins: zigsphere (~zig@nothanks.noneofyourbusiness.tk)
[11:28:59] *** Quits: zigsphere (~zig@nothanks.noneofyourbusiness.tk) (Client Quit)
[11:29:52] *** Joins: zigsphere (~zig@nothanks.noneofyourbusiness.tk)
[11:35:08] *** Quits: zigsphere (~zig@nothanks.noneofyourbusiness.tk) (Quit: leaving)
[11:35:28] *** Joins: zigsphere (~zig@nothanks.noneofyourbusiness.tk)
[11:42:42] *** Joins: mattil (~mattilinn@87-92-149-13.rev.dnainternet.fi)
[11:45:30] *** Quits: zigsphere (~zig@nothanks.noneofyourbusiness.tk) (Quit: leaving)
[11:45:53] *** Joins: zigsphere (~zig@nothanks.noneofyourbusiness.tk)
[11:54:18] *** Quits: zigsphere (~zig@nothanks.noneofyourbusiness.tk) (Ping timeout: 240 seconds)
[11:56:23] *** Joins: zigsphere (~zig@23.82.33.99)
[12:38:09] *** Joins: hendursa1 (~weechat@user/hendursaga)
[12:40:43] *** Quits: hendursaga (~weechat@user/hendursaga) (Ping timeout: 244 seconds)
[13:37:02] *** Joins: menace (~someone@2001:a61:34ed:d601:3969:a1d4:9377:6c28)
[13:37:38] *** Quits: zigsphere (~zig@23.82.33.99) (Remote host closed the connection)
[13:40:16] *** Quits: menace (~someone@2001:a61:34ed:d601:3969:a1d4:9377:6c28) (Changing host)
[13:40:16] *** Joins: menace (~someone@user/menace)
[13:40:20] *** menace is now known as Deknos
[14:15:45] *** Quits: regis (~r@user/regis) (Read error: Connection reset by peer)
[14:15:57] *** Quits: mattil (~mattilinn@87-92-149-13.rev.dnainternet.fi) (Read error: Connection reset by peer)
[14:16:00] *** Joins: regis (~r@user/regis)
[14:16:15] *** Joins: mattil (~mattilinn@87-92-149-13.rev.dnainternet.fi)
[14:16:19] *** Joins: canuck2 (~canuck@bras-base-btfdon1718w-grc-38-76-67-53-178.dsl.bell.ca)
[14:16:28] *** Quits: kwilczynski (sid379192@user/kwilczynski) (Ping timeout: 272 seconds)
[14:16:47] *** Quits: themachine (~themachin@user/themachine) (Ping timeout: 245 seconds)
[14:16:47] *** Quits: Joel (~jjshoe@user/joel) (Ping timeout: 245 seconds)
[14:17:19] *** Quits: canuck (~canuck@user/canuck) (Ping timeout: 250 seconds)
[14:17:30] *** Joins: themachine (~themachin@user/themachine)
[14:19:16] *** Quits: DerpGusta (~quassel@user/derpgusta) (Quit: No Ping reply in 180 seconds.)
[14:19:23] *** Joins: kwilczynski (sid379192@user/kwilczynski)
[14:19:46] *** Quits: Alina-malina (~Alina-mal@user/alina-malina) (Ping timeout: 256 seconds)
[14:20:54] *** Quits: lantech19446 (sid237550@id-237550.brockwell.irccloud.com) (Ping timeout: 272 seconds)
[14:22:14] *** Quits: Dieterbe_ (~Dieterbe@user/dieterbe) (Ping timeout: 252 seconds)
[14:28:50] *** Quits: Nahra (~user@static.161.95.99.88.clients.your-server.de) (Ping timeout: 256 seconds)
[14:31:39] *** Joins: lantech19446 (sid237550@id-237550.brockwell.irccloud.com)
[14:33:42] *** Joins: Joel (~jjshoe@user/joel)
[14:33:53] *** Joins: Alina-malina (~Alina-mal@user/alina-malina)
[14:35:25] *** Joins: DerpGusta (~quassel@user/derpgusta)
[14:40:07] *** Quits: lantech19446 (sid237550@id-237550.brockwell.irccloud.com) (Ping timeout: 245 seconds)
[14:41:54] *** Joins: lantech19446 (sid237550@id-237550.brockwell.irccloud.com)
[14:50:39] *** Quits: Deknos (~someone@user/menace) (Read error: Connection reset by peer)
[14:51:00] *** Joins: Deknos (~someone@2001:a61:34ed:d601:3969:a1d4:9377:6c28)
[14:51:59] *** Quits: Deknos (~someone@2001:a61:34ed:d601:3969:a1d4:9377:6c28) (Read error: Connection reset by peer)
[14:52:14] *** Joins: Deknos (~someone@2001:a61:34ed:d601:3969:a1d4:9377:6c28)
[14:52:50] *** Joins: Dieterbe (~Dieterbe@user/dieterbe)
[15:52:15] <CuriousErnestBro> anything I'm doing wrong here? http://0x0.st/-Jrc.png
[15:52:35] <CuriousErnestBro> I get curl: (7) Failed to connect to example.com port 80: Connection refused
[15:53:35] <CuriousErnestBro> I can ssh into example.com just fine
[15:57:27] <kwilczynski> CuriousErnestBro: This means that connect() worked, so it has nothing to do with the firewall.
[15:57:45] <CuriousErnestBro> okay
[15:57:51] <kwilczynski> CuriousErnestBro: It's failing because there most likely isn't anything listening on port TCP/80 at the IP you are trying to connect to.
[15:58:07] <kwilczynski> Make sure you aren't listening on lo on the remote machine.
[16:00:38] <CuriousErnestBro> nginx     26562            root    6u  IPv4  68681      0t0  TCP *:80 (LISTEN)
[16:00:50] <CuriousErnestBro> kwilczynski what do you mean by listening on lo?
[16:01:06] <kwilczynski> Sometimes people accidentally listen on loopback only.
[16:02:11] <kwilczynski> CuriousErnestBro: Try some troubleshooting - nc on both ports. Check if you can connect to this IP from internal VPC/network.
[16:03:09] <kwilczynski> CuriousErnestBro: You can also pop another terminal and tcpdump/Wireshark is going on, what ICMP is coming back.
[16:03:55] <kwilczynski> CuriousErnestBro: But I suppose, you don't have any firewall rules upstream (network above your subnet) to reject things that don't match?
[16:04:52] <kwilczynski> CuriousErnestBro: You can also try to compare apples to apples, and block TCP/80 and then try to connect to see the hopeful change in response/behaviour.
[16:08:24] <CuriousErnestBro> kwilczynski ok it's fixed, I needed to execute some firewalld commands
[16:08:25] <CuriousErnestBro> :D
[16:08:32] <kwilczynski> :)
[16:08:33] <CuriousErnestBro> sudo firewall-cmd --permanent --zone=public --add-service=http 
[16:08:52] <kwilczynski> Nice.
[16:09:10] <kwilczynski> Just needed to trace how things suppose to work, isn't it?
[16:10:02] <kwilczynski> I'd also recommend using HTTPS there rather than not encrypted HTTP, unless you have specific reasons.
[16:10:26] <CuriousErnestBro> yeah first step was to get http working
[16:10:32] <CuriousErnestBro> now I'll configure https
[16:10:44] <CuriousErnestBro> then set up a "reverse proxy" I think that's what it's called
[16:11:03] <CuriousErnestBro> I point my app to localhost, and let nginx route traffic to internal port 8000 from 443
[16:14:51] <CuriousErnestBro> kwilczynski where do I place my server binary? /var/www/myappname?
[16:15:36] <kwilczynski> I don't know. Where do you want/need to put it?
[16:29:34] <CuriousErnestBro> ok I put it in /var/api/appname
[16:34:38] <CuriousErnestBro> https working!
[16:49:57] *** Quits: Deknos (~someone@2001:a61:34ed:d601:3969:a1d4:9377:6c28) (Changing host)
[16:49:57] *** Joins: Deknos (~someone@user/menace)
[16:56:51] <rawtaz> and not running nginx as root.. lel
[17:02:33] *** Joins: uvolmer (~uvolmer@2001-4dd0-212c-82-e069-f5f7-ab7b-8443.ipv6dyn.netcologne.de)
[17:20:37] <kwilczynski> rawtaz: Oh yes. I missed that.
[17:20:49] <kwilczynski> CuriousErnestBro: I think you need to read upon some good practices.
[17:27:36] <CuriousErnestBro> kwilczynski why do you say that?
[17:29:12] <rawtaz> because you have no idea what you're doing :D
[17:32:23] <rawtaz> CuriousErnestBro: there's also traefik that you can use if you are setting up a reverse proxy. it has a lot of nice things such as lets encrypt integration etc
[17:32:45] <CuriousErnestBro> well that's why I'm here right
[17:34:14] <rawtaz> yeah
[17:34:40] <rawtaz> but what kwilczynski said is still true, make sure you do your research
[17:34:50] <rawtaz> i cant imagine that any place suggested you run nginx as root for example
[17:34:59] <rawtaz> in general - run stuff with the least privileges
[17:35:33] <rawtaz> normally you'd just install nginx from your system's packages and it should configure it properly, including users etc
[17:36:28] <kwilczynski> rawtaz: That might be some poorly made container.
[17:36:58] <CuriousErnestBro> the main nginx is run as root
[17:37:11] <CuriousErnestBro> the actual programs are run as the nginx user
[17:37:47] <CuriousErnestBro> rsync isn't working, I copied my ssh key's contents to KEY in github secrets
[17:41:02] <kwilczynski> Ah. It's just the master from Nginx. Got it.
[17:41:16] <rawtaz> good good
[17:49:07] <CuriousErnestBro> so in gh actions, actions can't be re-ran individually
[17:49:13] <CuriousErnestBro> do I create multiple yaml files then?
[17:49:25] <CuriousErnestBro> I mean "jobs" can't be re-ran individually
[17:59:09] <rawtaz> if that works, i dont know
[17:59:17] <rawtaz> did you look in the github documentation?
[17:59:38] <rawtaz> why do you even need to re-run individual jobs?
[18:01:33] <CuriousErnestBro> rawtaz I have jobs for lint, check, test, and build+deploy
[18:01:47] <CuriousErnestBro> I don't need to. re-run the first three if the last fails 
[18:02:02] <CuriousErnestBro> rsync isn't working and my ssh key is good because I use it to ssh into the server
[18:02:22] <CuriousErnestBro> stop using ssh?
[18:02:36] <CuriousErnestBro> the RSA text file I mean
[18:02:41] <CuriousErnestBro> and use password instead
[18:03:15] <rawtaz> you are not making sense
[18:03:23] <rawtaz> why do you ask "stop using ssh?"
[18:03:34] <rawtaz> in a discussion about rerunning jobs
[18:03:39] <rawtaz> zero connection
[18:04:16] <rawtaz> if rsync isnt working, determine why its not working
[18:07:16] <CuriousErnestBro> I'm trying
[18:08:22] <CuriousErnestBro> I'm using rsync in my job
[18:08:35] <rawtaz> rsync probably has debug switches you can enable, e.g. -vvv or something, try that to see if it spits out more specific info :)
[18:08:39] <rawtaz> man rsync
[18:15:34] <CuriousErnestBro> ok, rsync works on my local machine, I had to give 777 to the user
[18:15:47] <CuriousErnestBro> write permissions for the folder
[18:16:03] <CuriousErnestBro> now let's see if it works over gh actions
[18:18:32] <rawtaz> CuriousErnestBro: youre doing it wrong. you should not have to give 777 permissions to something.
[18:18:48] <rawtaz> again, you are just trying to solve problems without bothering with how to solve them the right way
[18:19:27] <rawtaz> setting 777 very temporarily just for a quick isolation test is fine, but that should be very briefly, and once you know it helped and thereby isolated it to permission issues you should remove the 777 and configure proper permissions
[18:20:33] <CuriousErnestBro> this link says you need 777 for folders 
[18:20:34] <CuriousErnestBro> https://askubuntu.com/a/402990
[18:21:47] <CuriousErnestBro> the link says 666 won't work for folders
[18:22:50] <CuriousErnestBro> I need the folder to be owned by the nginx user because it runs it
[18:23:07] <CuriousErnestBro> but I need to be able to put a binary in there as user ubuntu
[18:27:36] <rawtaz> bad advice that you should follow
[18:27:44] <rawtaz> no wonder though since it comes from ubuntu caps
[18:27:46] <rawtaz> camps*
[18:28:38] <rawtaz> if you need multiple users to read/write to a folder, you should use groups and group permissions
[18:28:52] <rawtaz> err i meant that you SHOULDNT follow, four lines up
[18:31:47] <CuriousErnestBro> in any case
[18:32:04] <CuriousErnestBro> saying that I am trying to solve problems without bothering with how to solve them was uncalled for
[18:33:07] *** Quits: uvolmer (~uvolmer@2001-4dd0-212c-82-e069-f5f7-ab7b-8443.ipv6dyn.netcologne.de) (Remote host closed the connection)
[18:33:28] <rawtaz> if you say so. but thats kind of how it seems. you seem to blindly follow advice just to get things working, without paying much attention to whats good practice or how things actually work.
[18:33:38] <rawtaz> if thats not the case, fine. it's your problems anyway
[18:33:53] <rawtaz> i guess im just trying to make you wake up and realize that you should perhaps approach things differently
[18:34:02] <CuriousErnestBro> how?
[18:34:12] *** Joins: uvolmer (~uvolmer@2001-4dd0-212c-82-e069-f5f7-ab7b-8443.ipv6dyn.netcologne.de)
[18:34:30] <rawtaz> by trying to understand things a bit more instead of just running commands that makes things work
[18:34:43] <rawtaz> that said, i could be wrong.
[18:35:14] <CuriousErnestBro> there's a limit to that
[18:35:46] <CuriousErnestBro> above someone recommended I read up on some good practices
[18:36:38] <rawtaz> yeah i understand theres a limit to how much effort one can put in when trying to make something work
[18:40:20] <rawtaz> its good that youre here
[18:47:15] <CuriousErnestBro> ok I created a group and added ubuntu and nginx
[18:47:31] <CuriousErnestBro> gave r-x to the group 
[18:47:35] <CuriousErnestBro> and ran chmod g+s
[18:49:18] *** Quits: humky (~humky@user/humky) (Quit: Leaving)
[18:49:23] <rawtaz> nice :)
[18:49:50] <CuriousErnestBro> but will files now be +x too?
[18:49:55] <CuriousErnestBro> if I move a binary in
[18:50:25] <rawtaz> im not sure what youre doing with that binary
[18:50:32] <CuriousErnestBro> answer: yes
[18:53:55] <CuriousErnestBro> ok, rsync works locally, but not this; https://github.com/Burnett01/rsync-deployments
[18:57:08] <rawtaz> if something doesnt work, establish symptoms and act accordingly
[18:57:52] <CuriousErnestBro> it says Permission denied (publickey).
[18:58:05] <CuriousErnestBro> i'm using the same ssh key 
[18:58:12] <CuriousErnestBro> and same user
[18:58:44] <CuriousErnestBro> I just copy pasted my IdentityFile's contents over to github secrets
[18:59:37] <CuriousErnestBro> it does say: cmd=ssh -o StrictHostKeyChecking=no -p 22  machine=*** user= path=***
[18:59:48] <CuriousErnestBro> so the user isn't being inserted?
[19:00:04] <rawtaz> hm odd
[19:08:28] <rawtaz> have you ever seen the user populated?
[19:08:37] <rawtaz> i never used that stuff so i dont even know how you specify if
[19:08:38] <rawtaz> it*
[19:08:52] *** DefiantX is now known as DefiantN
[19:09:00] *** Quits: DefiantN (~DefiantN@user/defiantn) (Quit: Leaving)
[19:09:15] *** Joins: DefiantN (~DefiantN@user/defiantn)
[19:09:23] *** Joins: danisztls (~weechat@user/danisztls)
[19:10:23] <CuriousErnestBro> what do you mean by populated?
[19:11:01] *** Joins: humky (~humky@user/humky)
[19:11:21] <rawtaz> i mean if you ever saw that user= have a value in the log there
[19:15:45] <CuriousErnestBro> no I haven't
[19:16:09] <CuriousErnestBro> I'm now trying just - uses: actions/checkout@v2 instead of it inside a - name block
[19:29:55] <rawtaz> ok
[19:47:52] <CuriousErnestBro> I've added the host name, user name and server path manually
[19:48:00] <CuriousErnestBro> it seemed to work in the test
[19:48:03] <CuriousErnestBro> now let's run it for real
[19:51:40] <rawtaz> nice
[19:53:17] <CuriousErnestBro> didn't work :(
[19:53:32] <CuriousErnestBro> rsync: change_dir "/github/workspace/target/release" failed: No such file or directory (2)
[19:53:37] <CuriousErnestBro> well now we know that
[19:53:44] <rawtaz> yep :>
[19:55:01] <CuriousErnestBro> now let's run after the build
[19:55:04] <CuriousErnestBro> ls
[19:55:09] <rawtaz> .
[19:55:10] <rawtaz> ..
[19:55:12] <rawtaz> porn/
[19:55:53] <rawtaz> love_letter_to_kwilczynski-draft.txt
[19:56:25] <CuriousErnestBro> >.>
[19:57:13] <CuriousErnestBro> alias ls="ls -lah"
[19:57:19] <CuriousErnestBro> I'm going to do that
[19:57:53] <rawtaz> yeah
[19:59:52] <CuriousErnestBro> let's gooooooo
[19:59:56] <CuriousErnestBro> it works
[20:00:19] <CuriousErnestBro> wtf tho
[20:00:25] <CuriousErnestBro> adding ls before it fixed it
[20:03:39] <rawtaz> before *what*?
[20:08:11] <CuriousErnestBro> before executing rsync
[20:08:21] <CuriousErnestBro> weird... or I changed something else too and forgot 
[20:08:58] <CuriousErnestBro> having the api at http://127.0.0.1:8000/api/v1/account is good right
[20:09:22] *** Joins: sniperwolf (~sniperwol@91.230.98.1)
[20:14:05] <rawtaz> if thats where it should be
[20:58:02] *** Quits: danisztls (~weechat@user/danisztls) (Ping timeout: 245 seconds)
[22:08:41] *** Quits: predmijat (~predmijat@mail.strogopro.com) (Quit: bye)
[22:10:15] *** Joins: predmijat (~predmijat@mail.strogopro.com)
[22:33:54] *** Quits: humky (~humky@user/humky) (Quit: Leaving)
[22:49:02] *** Quits: hendursa1 (~weechat@user/hendursaga) (Quit: hendursa1)
[22:49:26] *** Joins: hendursaga (~weechat@user/hendursaga)
[23:59:44] *** Joins: molt (~molt@79.140.150.21)
