[00:00:27] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Remote host closed the connection)
[00:09:51] *** Joins: Erutuon (~Erutuon@user/erutuon)
[00:25:16] *** Quits: J_Darnley (~J_Darnley@d51A44418.access.telenet.be) (Ping timeout: 256 seconds)
[00:25:52] *** Quits: r3m (~launch@user/r3m) (Quit: WeeChat 3.5-dev)
[00:26:12] *** Joins: r3m (~launch@user/r3m)
[00:27:21] *** Joins: J_Darnley (~J_Darnley@d51A44418.access.telenet.be)
[00:37:01] *** Quits: penguino (~mrpenguin@user/mrpenguin) (Quit: penguino)
[00:37:31] *** Joins: cartnecklace (~cartneckl@78.164.51.1)
[00:47:22] *** Quits: Moosadee (~Moosadee@136.32.155.193) (Ping timeout: 256 seconds)
[01:08:17] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 240 seconds)
[01:28:39] *** Quits: magla (~gelignite@55d4f325.access.ecotel.net) (Quit: Stay safe!)
[01:31:05] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:b145:6efe:44b7:516c) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:40:49] *** Joins: Froovins (~Froovins@user/Froovins)
[01:52:07] *** Joins: Froovins_ (~Froovins@user/Froovins)
[01:54:35] *** Quits: Froovins (~Froovins@user/Froovins) (Ping timeout: 256 seconds)
[02:01:03] *** Parts: cartnecklace (~cartneckl@78.164.51.1) ()
[02:11:51] *** Joins: asdflkj_sh (asdflkj@bsdforall.org)
[02:32:48] *** Quits: pizdets (~pizdets@183.182.115.245) (Ping timeout: 250 seconds)
[02:33:57] *** Joins: pizdets (~pizdets@183.182.111.130)
[02:40:58] *** Quits: aead (~aead@user/aead) (Ping timeout: 260 seconds)
[03:14:00] *** Joins: rgrinberg (~textual@187.223.115.137)
[03:20:37] *** Quits: r3m (~launch@user/r3m) (Quit: WeeChat 3.5-dev)
[03:23:08] *** Joins: r3m (~launch@user/r3m)
[03:33:54] *** Quits: Soni (~quassel@autistic.space) (Ping timeout: 250 seconds)
[03:48:13] *** Joins: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469)
[03:51:18] *** Quits: Vornotron (~Vornicus@2603-8000-5d07-7ef0-1d92-2c67-f1a3-6a1d.res6.spectrum.com) (Quit: Leaving)
[03:53:29] *** Joins: Moosadee (~Moosadee@136.32.155.193)
[04:03:20] *** Joins: Soni (~quassel@autistic.space)
[04:06:38] *** Joins: ratchetfreak (~ratchetfr@d8d8779d9.access.telenet.be)
[04:09:52] *** Quits: ratchetfreak_ (~ratchetfr@ptr-82rtos32vmsq0gce3q3.18120a2.ip6.access.telenet.be) (Ping timeout: 250 seconds)
[04:10:21] *** Quits: Moosadee (~Moosadee@136.32.155.193) (Ping timeout: 245 seconds)
[04:44:24] *** Quits: vnogueira (~vnogueira@user/vnogueira) (Ping timeout: 276 seconds)
[04:45:36] *** Joins: vnogueira (~vnogueira@user/vnogueira)
[04:50:35] *** Quits: Elw3 (~Elw3@dynamic-002-247-240-106.2.247.pool.telefonica.de) (Ping timeout: 250 seconds)
[04:50:48] *** Joins: Psyraven (~Psyraven@p79032f3f.tokynt01.ap.so-net.ne.jp)
[04:52:36] *** Joins: Elw3 (~Elw3@dynamic-002-247-240-106.2.247.pool.telefonica.de)
[05:11:14] *** Quits: splud (~noneya.bi@user/splud) (Ping timeout: 260 seconds)
[05:18:58] *** Joins: R2robot (~R2robot@user/r2robot)
[05:38:53] *** Quits: Elw3 (~Elw3@dynamic-002-247-240-106.2.247.pool.telefonica.de) (Ping timeout: 250 seconds)
[05:41:06] *** Joins: Elw3 (~Elw3@dynamic-002-247-243-194.2.247.pool.telefonica.de)
[05:43:31] *** Quits: rgrinberg (~textual@187.223.115.137) (Read error: Connection reset by peer)
[05:44:20] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b)
[05:47:12] *** Joins: Chipzz (chipzz@safehex.be)
[06:00:17] *** Quits: Vornicus (~Vornicus@2603-8000-5d07-7ef0-6169-56e1-da72-4cb0.res6.spectrum.com) (Read error: Connection reset by peer)
[06:00:39] *** Quits: svm_invictvs (~svm_invic@user/svm-invictvs/x-6696469) (Remote host closed the connection)
[06:06:03] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:16:46] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b)
[06:21:08] *** Quits: Erutuon (~Erutuon@user/erutuon) (Ping timeout: 256 seconds)
[06:32:21] *** Quits: ratchetfreak (~ratchetfr@d8d8779d9.access.telenet.be) (Read error: Connection reset by peer)
[06:54:38] *** Quits: Elw3 (~Elw3@dynamic-002-247-243-194.2.247.pool.telefonica.de) (Remote host closed the connection)
[07:10:53] *** Joins: Erutuon (~Erutuon@user/erutuon)
[07:33:21] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[07:39:51] *** Joins: Darkcoal (~user@139.64.3.35)
[08:12:17] *** Quits: foul_owl (~kerry@174-21-143-101.tukw.qwest.net) (Ping timeout: 250 seconds)
[08:19:32] <technomancy> so ... why did debian package luasocket such that installing it puts it in /usr/share/lua for 5.1, 5.2, and 5.3, but not 5.4?
[08:19:32] *** Joins: tochigi (~tochigi@user/tochigi)
[08:19:32] *** Joins: spanwysm[m] (~spanwysm@2001:470:69fc:105::e0a)
[08:19:46] *** Joins: lnxw37d4[m] (~lnxw37d4m@2001:470:69fc:105::15fc)
[08:19:46] *** Joins: kakolainen[m] (~kakolaine@2001:470:69fc:105::34f9)
[08:19:46] *** Joins: canardo (~canardo@2001:470:69fc:105::e110)
[08:19:46] *** Joins: saltrocklamp[m] (~hexology@user/hexology)
[08:19:46] *** Joins: YourOnlyOne[m] (~laibcoms@user/laibcoms)
[08:19:46] *** Joins: magicalegg[m] (~magicaleg@2001:470:69fc:105::1:52e9)
[08:20:06] <technomancy> thought I was losing it there for a minute
[08:20:33] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:26:19] *** Joins: foul_owl (~kerry@94.140.8.108)
[08:27:03] <nmz> its like 5.4 doesn't exist
[08:27:11] <nmz> lunix doesn't work with it either. so.
[08:28:52] <technomancy> nmz: like from debian's perspective, or is it a wider problem?
[08:29:09] <nmz> wider problem
[08:29:36] *** Quits: furq (~furq@b23.be) (Read error: Connection reset by peer)
[08:29:45] *** Joins: furq (~furq@b23.be)
[08:29:56] <technomancy> huh
[08:30:02] *** Quits: fcr (~fran@r167-60-91-123.dialup.adsl.anteldata.net.uy) (Ping timeout: 260 seconds)
[08:32:02] *** Quits: foul_owl (~kerry@94.140.8.108) (Ping timeout: 256 seconds)
[08:32:32] <nmz> a lot of rocks need to indicate they support 5.4
[08:32:39] <nmz> lots of repos that need an update
[08:32:46] <nmz> stdlib is also one
[08:34:06] <technomancy> stdlib?
[08:34:50] *** Joins: fcr (~fran@r167-60-41-76.dialup.adsl.anteldata.net.uy)
[08:38:58] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b)
[08:46:20] *** Joins: foul_owl (~kerry@94.140.8.107)
[08:58:13] *** Joins: MaX (~MaX@94.196.69.73.threembb.co.uk)
[08:58:37] *** MaX is now known as Guest9295
[09:10:27] *** Joins: Overkill (~overkill9@69-165-200-34.cable.teksavvy.com)
[09:35:17] *** Quits: SOMBRIO (~mtm49@177.137.119.134) (Ping timeout: 256 seconds)
[09:40:37] *** Quits: ubq323 (~ubq323@user/ubq323) (Ping timeout: 240 seconds)
[09:43:06] *** Quits: sudoforge (~sudoforge@wireguard/tunneler/sudoforge) (Ping timeout: 250 seconds)
[09:57:46] *** Joins: vnogueir- (~vnogueira@user/vnogueira)
[09:58:42] *** Quits: vnogueira (~vnogueira@user/vnogueira) (Quit: ZNC 1.8.2 - https://znc.in)
[10:03:36] *** Joins: dvx (~dvx@5.181.92.64)
[10:06:40] *** Quits: Guest9295 (~MaX@94.196.69.73.threembb.co.uk) (Ping timeout: 256 seconds)
[10:16:30] *** Joins: splud (~noneya.bi@user/splud)
[10:18:09] *** Joins: password (~password@user/password2)
[10:31:50] *** Quits: vnogueir- (~vnogueira@user/vnogueira) (Remote host closed the connection)
[10:32:05] *** Joins: vnogueira (~vnogueira@user/vnogueira)
[10:42:22] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Read error: Connection reset by peer)
[10:43:41] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[10:47:51] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:34:16] *** Joins: ratchetfreak (~ratchetfr@d8D8779D9.access.telenet.be)
[11:37:17] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Ping timeout: 240 seconds)
[11:43:44] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[12:06:04] *** Quits: |smlckz| (smlckz@user/smlckz) (Ping timeout: 268 seconds)
[12:08:55] *** Joins: Overkilll (~overkill9@69-165-200-34.cable.teksavvy.com)
[12:09:25] *** Quits: Overkill (~overkill9@69-165-200-34.cable.teksavvy.com) (Killed (NickServ (GHOST command used by Overkilll)))
[12:11:25] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[12:18:34] *** Joins: |smlckz| (~smlckz@user/smlckz)
[12:31:06] *** Joins: Asgaroth (~Asgaroth@93.107.191.92)
[12:44:17] *** Joins: chomwitt (~chomwitt@2a02:587:dc03:8900:12c3:7bff:fe6d:d374)
[12:53:47] *** Joins: kipras (~kipras@78-57-120-254.static.zebra.lt)
[12:53:59] *** Quits: kipras (~kipras@78-57-120-254.static.zebra.lt) (Remote host closed the connection)
[13:09:34] *** Quits: no-n (sid524992@smol/hors) (Ping timeout: 260 seconds)
[13:11:31] *** Joins: no-n (sid524992@smol/hors)
[13:15:52] *** Joins: fling (~fling@user/fling)
[13:48:35] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 256 seconds)
[13:50:06] *** Joins: netlynx (~jan@94-226-69-15.access.telenet.be)
[13:52:40] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[14:05:39] <MattJ> technomancy, we (specifically Zash) from the Prosody side have been pushing for 5.4 in many Debian Lua packages, but unfortunately it's going to be a second-class citizen until Debian 12
[14:06:01] <MattJ> Most of the important ones have 5.4 support now, but not in the latest release
[14:06:33] <MattJ> It's quite unfortunate
[14:07:34] <MattJ> Our focus has been on dependencies of Prosody, busted and some others, but it's worth checking if there are any libs you care about with upstream 5.4 support that haven't been enabled for 5.4 in Debian yet
[14:09:51] <MattJ> See for example https://salsa.debian.org/lua-team/lua-busted/-/merge_requests/2
[14:16:57] *** Quits: Erutuon (~Erutuon@user/erutuon) (Ping timeout: 240 seconds)
[14:17:26] *** Quits: J_Darnley (~J_Darnley@d51A44418.access.telenet.be) (Ping timeout: 245 seconds)
[14:25:44] *** Joins: J_Darnley (~J_Darnley@d51A44418.access.telenet.be)
[14:32:42] *** Quits: cursey (~cursey@user/cursey) (Quit: bye)
[14:34:37] *** Joins: h53u3 (~Froovins@user/Froovins)
[14:37:53] *** Quits: Froovins_ (~Froovins@user/Froovins) (Ping timeout: 256 seconds)
[14:45:42] *** Joins: cursey (~cursey@user/cursey)
[15:01:01] *** Joins: Erutuon (~Erutuon@user/erutuon)
[15:13:49] *** Joins: jdarnley (~J_Darnley@d51a44418.access.telenet.be)
[15:14:09] *** Quits: J_Darnley (~J_Darnley@d51A44418.access.telenet.be) (Ping timeout: 268 seconds)
[15:30:57] *** Quits: vnogueira (~vnogueira@user/vnogueira) (Remote host closed the connection)
[15:31:12] *** Joins: vnogueira (~vnogueira@user/vnogueira)
[15:37:36] *** Quits: Erutuon (~Erutuon@user/erutuon) (Ping timeout: 256 seconds)
[16:30:57] <daurn> MattJ: have you heard anything about luasocket lately?
[16:31:18] <MattJ> No
[16:31:47] <daurn> damn :(
[16:32:15] <MattJ> Not having a release for so long is quite a pain
[16:32:50] <daurn> yeah the breakage with 5,4 is causing problems
[16:32:54] <MattJ> But right now Prosody continuing with luasocket or going with something radically different are probably equal options right now
[16:33:59] <daurn> does the old cqueues backend still work in prosody?
[16:34:45] <MattJ> Just about, I think. I recall there was an issue when we tried to use it for something, I can't remember if Zash found a fix.
[16:35:15] <MattJ> Looks like he may have done: https://hg.prosody.im/trunk/log/tip/net/cqueues.lua (not sure if there were other issues after that)
[16:36:26] <daurn> cqueues.lua was just the thing to use cqueues inside of server_select wasn't it?
[16:36:37] <daurn> wasn't there a server_cqueues.lua? or am I misremembering
[16:38:09] <daurn> apparently unmerged. https://github.com/wahern/cqueues/wiki/Integrations-with-other-main-loops#using-cqueues-as-your-main-loop
[16:40:03] <MattJ> Ah, yeah, I don't know about that
[16:40:21] <MattJ> We've made a few changes to the API, but nothing too major
[16:40:46] <daurn> googling, I found my own gist, lol: https://gist.github.com/daurnimator/275c8d9f6ef3e13f457b
[16:42:19] <MattJ> Might be worth a try :)
[16:44:15] <MattJ> My problem with cqueues is that it's quite an all-or-nothing move. I'm pretty sure that lot of stuff would have to become aware of it that is currently backend-agnostic.
[16:44:39] <daurn> I don't think it has to be or is by default
[16:44:43] <MattJ> It also brings its own opinions on how async would work, but we already have our own API for async stuff
[16:47:47] <fullstop> I have added a remote console to my application which allows me to inspect things, evaluate expressions, stuff like that.  https://i.imgur.com/n7CNrE7.png
[16:48:34] <fullstop> When any Lua code is executed, "print" is temporarily defined to something which will send the message out over a socket instead of to stdout.
[16:49:20] <fullstop> If I define a global function with a reference to this "print", though, I assume that it will be tied to my temporary function which has a reference to some lightuserdata which will be destroyed when the connection is closed.
[16:49:28] <fullstop> How do I avoid this?
[17:22:20] <fullstop> I think that I will create a wrapper around the upvalue and free / null the internals, and then let this guy get cleaned up in __gc.
[17:27:35] <aquanight> alternatively: from the application side: replace the C stdout handle with your socket (and you can switch it back later if you really need to)
[17:27:41] <aquanight> then you don't have to replace print() at all
[18:00:57] *** Quits: Darkcoal (~user@139.64.3.35) (Ping timeout: 240 seconds)
[18:01:32] *** Quits: jdarnley (~J_Darnley@d51a44418.access.telenet.be) (Ping timeout: 256 seconds)
[18:03:27] *** Joins: J_Darnley (~J_Darnley@d51A44418.access.telenet.be)
[18:04:54] *** Joins: Elw3 (~Elw3@dynamic-002-247-243-155.2.247.pool.telefonica.de)
[18:28:45] *** Joins: Vornicus (~Vornicus@2603-8000-5d07-7ef0-8574-14f1-3c77-025b.res6.spectrum.com)
[18:38:18] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:bcaa:50e0:8519:fbfe)
[18:38:18] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:bcaa:50e0:8519:fbfe) (Changing host)
[18:38:18] *** Joins: skapata (~Skapata@user/skapata)
[18:48:54] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Quit: taupiqueur)
[19:08:20] <fullstop> aquanight: this is a little more complicated than that -- the output goes into some libevent stuff.  I have the __gc stuff in flight right now, and it looks to be clean.
[19:10:13] *** Joins: Moosadee (~Moosadee@136.32.155.193)
[19:18:19] *** Quits: password (~password@user/password2) (Ping timeout: 250 seconds)
[19:21:46] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[20:07:18] *** Joins: orthoplex64 (~crm@70.120.0.94)
[20:09:32] *** Quits: crm (~crm@70.120.0.94) (Ping timeout: 268 seconds)
[20:25:18] *** Quits: chomwitt (~chomwitt@2a02:587:dc03:8900:12c3:7bff:fe6d:d374) (Ping timeout: 250 seconds)
[20:26:05] *** Joins: chomwitt (~chomwitt@2a02:587:dc03:8900:12c3:7bff:fe6d:d374)
[20:28:10] *** Joins: sudoforge (~sudoforge@wireguard/tunneler/sudoforge)
[20:32:37] *** Quits: fcr (~fran@r167-60-41-76.dialup.adsl.anteldata.net.uy) (Ping timeout: 256 seconds)
[20:37:21] *** Joins: fcr (~fran@r167-60-61-152.dialup.adsl.anteldata.net.uy)
[20:47:47] *** Joins: ratchetfreak_ (~ratchetfr@ptr-82rtos32vmsq0gce3q3.18120a2.ip6.access.telenet.be)
[20:57:07] *** Quits: Psyraven (~Psyraven@p79032f3f.tokynt01.ap.so-net.ne.jp) (Ping timeout: 250 seconds)
[20:57:49] *** Joins: sagax (~sagax_nb@user/sagax)
[21:07:16] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b)
[21:11:08] *** Joins: Tricycle (~CGI273@lfbn-idf1-1-1376-196.w90-79.abo.wanadoo.fr)
[21:20:26] *** Quits: ratchetfreak (~ratchetfr@d8D8779D9.access.telenet.be) (Ping timeout: 256 seconds)
[21:46:31] *** Joins: magla (~gelignite@55d4be51.access.ecotel.net)
[21:54:21] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:8181:21e:c7e4:e748)
[21:54:21] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:8181:21e:c7e4:e748) (Changing host)
[21:54:21] *** Joins: skapata (~Skapata@user/skapata)
[21:56:51] *** Joins: dstein64- (~dstein64@dannyadam.com)
[21:59:40] *** Quits: dvx (~dvx@5.181.92.64) (Remote host closed the connection)
[22:00:40] *** Quits: dstein64 (~dstein64@dannyadam.com) (Ping timeout: 256 seconds)
[22:00:40] *** dstein64- is now known as dstein64
[22:00:45] *** Quits: dstein64 (~dstein64@dannyadam.com) (Client Quit)
[22:01:01] *** Quits: Moosadee (~Moosadee@136.32.155.193) (Ping timeout: 256 seconds)
[22:01:18] *** Joins: dstein64 (~dstein64@dannyadam.com)
[22:01:34] *** Joins: ubq323 (~ubq323@130.88.226.27)
[22:01:34] *** Quits: ubq323 (~ubq323@130.88.226.27) (Changing host)
[22:01:34] *** Joins: ubq323 (~ubq323@user/ubq323)
[22:40:57] <no-n> what's the 'right' way to require a module in the same directory as the requiring script?
[22:48:43] <no-n> should I just edit package.path first?
[22:53:04] *** Quits: Sauvin (~sauvin@about/linux/staff/sauvin) (Ping timeout: 250 seconds)
[22:53:29] <Elw3> why that?
[22:53:44] <Elw3> Do you want to save the tiniest bit of loading time?
[22:54:41] <Elw3> You can actually swap the oder in which the package loaders run.
[22:54:45] <Elw3> like package.searchers[1]=package.searchers[3]
[22:55:38] <Elw3> That makes only sense if your code requires a package every milisecond tho.
[23:12:43] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:18:37] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.4)
[23:22:27] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[23:42:56] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[23:56:32] *** Joins: euphrates[m] (~euphrates@2001:470:69fc:105::fbb5)
