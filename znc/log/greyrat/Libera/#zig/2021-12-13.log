[00:01:16] *** Joins: neurocyte0132889 (~neurocyte@user/neurocyte)
[00:03:33] *** Joins: frmdstryr (~jrm@172.58.206.153)
[00:06:47] *** Quits: neurocyte0132889 (~neurocyte@user/neurocyte) (Ping timeout: 268 seconds)
[00:12:13] *** Joins: Felischtroumpf (~Thunderbi@rev-105-47.legacytubes.illyse.net)
[00:19:25] *** Quits: rgrinberg (~textual@187.223.209.106) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:19:32] *** Quits: phaleth (~phaleth@user/phaleth) (Quit: phaleth)
[00:28:02] *** Joins: Arnavion (arnavion@user/arnavion)
[00:31:44] *** Quits: fengshaun (~fengshaun@S010680615f0c2c0a.cg.shawcable.net) (Ping timeout: 256 seconds)
[00:32:42] *** Joins: xackus_ (~xackus@218x.knc.pl)
[00:40:08] *** Quits: terminalpusher (~terminalp@2a01:586:1f85:1:5063:4755:1e14:fcec) (Remote host closed the connection)
[00:48:06] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Ping timeout: 268 seconds)
[00:51:11] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Ping timeout: 268 seconds)
[00:51:19] *** Quits: tane (~tane@user/tane) (Quit: Leaving)
[00:52:39] *** Quits: oisota (~oisota@user/oisota) (Quit: The Lounge - https://thelounge.chat)
[00:58:18] *** Quits: Arnavion (arnavion@user/arnavion) (Ping timeout: 260 seconds)
[00:58:41] *** Joins: Arnavion (arnavion@user/arnavion)
[01:01:20] *** Joins: jjido (~Denis@90.213.58.125)
[01:04:30] *** Joins: oisota (~oisota@user/oisota)
[01:11:36] *** Quits: oisota (~oisota@user/oisota) (Quit: The Lounge - https://thelounge.chat)
[01:12:11] *** Joins: oisota (~oisota@user/oisota)
[01:13:36] *** Joins: rgrinberg (~textual@2806:101e:7:6946:301f:4093:a99:4144)
[01:14:10] *** Quits: jjido (~Denis@90.213.58.125) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[01:18:56] *** Quits: frmdstryr (~jrm@172.58.206.153) (Ping timeout: 268 seconds)
[01:30:07] *** Joins: Arw (~Arwalk@lfbn-dij-1-1321-197.w92-141.abo.wanadoo.fr)
[01:34:52] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[01:39:10] *** Quits: xackus_ (~xackus@218x.knc.pl) (Ping timeout: 256 seconds)
[01:42:59] *** Quits: livoreno (~livoreno@user/notzmv) (Ping timeout: 268 seconds)
[02:08:16] *** Quits: frett27 (~frett27@2a01:e0a:58a:6c00:67fa:3923:5dd6:4325) (Ping timeout: 268 seconds)
[02:10:44] *** Quits: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Ping timeout: 268 seconds)
[02:11:26] *** Joins: freshcoffee (~fresh@user/freshcoffee)
[02:12:44] *** Joins: fwg (~fwg@user/fwg)
[02:13:29] *** Joins: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[02:30:19] *** Quits: yrlf (~yrlf@omnath.yrlf.at) (Quit: The Lounge - https://thelounge.chat)
[02:31:19] *** Joins: yrlf (~yrlf@omnath.yrlf.at)
[02:42:24] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[03:00:56] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[03:01:30] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[03:12:42] *** Quits: fwg (~fwg@user/fwg) (Quit: .oO( zzZzZzz ...)
[03:26:06] *** Joins: km_ (znc@user/km)
[03:26:14] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[03:27:05] *** Quits: km (znc@user/km) (Ping timeout: 252 seconds)
[03:28:23] *** Quits: okx (~okx@84.66.62.115) (Quit: Client closed)
[03:28:52] *** Joins: haze (~haze@2603-7000-a300-1741-b96b-ace4-c5c2-3765.res6.spectrum.com)
[03:30:01] *** Quits: Felischtroumpf (~Thunderbi@rev-105-47.legacytubes.illyse.net) (Ping timeout: 252 seconds)
[03:37:58] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Quit: WeeChat 3.3)
[03:43:35] *** Quits: freshcoffee (~fresh@user/freshcoffee) (Quit: WeeChat 3.0.1)
[04:01:39] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[04:02:01] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[04:04:00] *** Quits: rgrinberg (~textual@2806:101e:7:6946:301f:4093:a99:4144) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:26:23] <mischief> is there any way to do https://man.openbsd.org/bcrypt_pbkdf.3 in zig currently?
[04:26:43] *** Joins: meinside (uid24933@id-24933.helmsley.irccloud.com)
[04:33:40] *** Joins: paulgrmn__ (~paulgrmn@user/paulgrmn)
[04:38:56] *** Quits: cr1901 (~cr1901@2601:8d:8600:911:2041:fb8e:e9e8:4651) (Remote host closed the connection)
[04:39:19] *** Joins: cr1901 (~cr1901@2601:8d:8600:911:30b0:7c10:cd6d:8e6e)
[05:10:55] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Read error: Connection reset by peer)
[05:11:14] *** Joins: paulgrmn__ (~paulgrmn@user/paulgrmn)
[05:14:56] *** Joins: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6)
[05:16:10] *** Joins: rgrinberg (~textual@2806:101e:7:6946:301f:4093:a99:4144)
[05:20:45] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[05:27:44] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[05:31:13] <andrewrk> mischief, I'm not the resident crypto expert but I see both bcrypt and pbkdf in the std lib
[05:38:53] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Read error: Connection reset by peer)
[05:39:41] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[05:52:03] <mischief> andrewrk: not clear to me how to combine them. however, i started builting the C source with zig, which mostly works.
[05:53:06] <mischief> i am confused by this error though: http://ix.io/3HVt . is there something extra i need to do to access libc functions?
[05:56:21] <andrewrk> hm this looks related to the bug I am actively in the middle of solving right now
[05:56:33] <andrewrk> I suggest as a workaround to use musl
[05:56:40] <andrewrk> e.g. -target native-native-musl
[05:58:55] <mischief> is the issue https://github.com/ziglang/zig/issues/5882 ?
[05:59:02] *** Quits: nyah (~nyah@94.6.71.219) (Ping timeout: 240 seconds)
[05:59:48] <mischief> using musl works, but also a specific libc version seems to work too.
[05:59:53] <mischief> mischief@abacus:~/code/zig/zignify $ zig build -Dtarget=native-native-gnu.2.28                     
[05:59:55] <mischief> mischief@abacus:~/code/zig/zignify $ zig build -Dtarget=native-native-musl                                                  
[05:59:57] <mischief> mischief@abacus:~/code/zig/zignify $ zig build                                                     
[05:59:59] <mischief> ld.lld: error: undefined symbol: getentropy
[06:00:42] *** Quits: arkurious (~arkurious@user/arkurious) (Quit: Leaving)
[06:01:10] <andrewrk> yeah this is what I'm working on solving right now
[06:01:19] <andrewrk> with https://github.com/ziglang/glibc-abi-tool
[06:01:46] <andrewrk> I got it generally working yesterday but a couple kinks to work out 
[06:04:16] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[06:04:43] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[06:04:50] <andrewrk> mischief, btw keep in mind that getentropy was added in glibc 2.25. so if you're targeting older than that, the error is correct
[06:05:04] <andrewrk> could it be that zig is perhaps not correctly determining your native glibc version?
[06:06:57] <mischief> my computer seems to have glibc 2.31
[06:07:44] <mischief> $ apt-cache show libc6 | grep Ver
[06:07:46] <mischief> Version: 2.31-13+deb11u2
[06:08:10] <mischief> `zig build -Dtarget=native-native-gnu.2.31` works without error
[06:09:37] <mischief> can i print detected libc?
[06:10:49] <mischief> oh.. zig build-exe --show-builtin. it says 2.17.0
[06:27:08] *** Quits: justicefries (sid26447@id-26447.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[06:35:18] *** Quits: outfox (~outfox@user/outfox) (Ping timeout: 268 seconds)
[06:36:30] *** Joins: outfox (~outfox@213.144.147.16)
[06:36:30] *** Quits: outfox (~outfox@213.144.147.16) (Changing host)
[06:36:30] *** Joins: outfox (~outfox@user/outfox)
[06:43:14] <andrewrk> mischief, that's definitely a bug. let me find the issue for it...
[06:43:41] <andrewrk> https://github.com/ziglang/zig/issues/6469
[06:44:31] <andrewrk> that's another one I plan to address this week before the 0.9.0 release (1 week from tomorrow)
[06:44:41] <mischief> where is the detector code?
[06:46:09] <andrewrk> https://github.com/ziglang/zig/blob/master/lib/std/zig/system/NativeTargetInfo.zig
[06:55:16] <mischief> wild
[07:01:15] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Quit: Leaving...)
[07:04:57] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[07:05:32] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[07:10:14] *** Quits: marler8997 (~marler899@96-19-96-19-162-162.cpe.sparklight.net) (Ping timeout: 260 seconds)
[07:11:32] <andrewrk> should be pretty easy to fix I think. just need to examine what's different on the system where it's picking up the wrong answer
[07:11:32] *** Joins: squeek502_ (~squeek502@user/squeek502)
[07:11:35] *** Quits: squeek502 (~squeek502@user/squeek502) (Remote host closed the connection)
[07:16:46] *** Joins: ISO-4683-1 (~ISO-4683-@user/isodt)
[07:30:58] *** Joins: lumo_e (~enrico@151.29.48.90)
[07:31:25] *** Quits: cr1901 (~cr1901@2601:8d:8600:911:30b0:7c10:cd6d:8e6e) (Remote host closed the connection)
[07:31:44] *** Joins: cr1901 (~cr1901@2601:8d:8600:911:30b0:7c10:cd6d:8e6e)
[07:32:07] *** Quits: outfox (~outfox@user/outfox) (Ping timeout: 250 seconds)
[07:32:58] *** Quits: cr1901 (~cr1901@2601:8d:8600:911:30b0:7c10:cd6d:8e6e) (Remote host closed the connection)
[07:33:04] *** Joins: outfox (~outfox@213.144.147.16)
[07:33:04] *** Quits: outfox (~outfox@213.144.147.16) (Changing host)
[07:33:04] *** Joins: outfox (~outfox@user/outfox)
[07:33:14] *** Joins: cr1901 (~cr1901@2601:8d:8600:911:30b0:7c10:cd6d:8e6e)
[07:34:15] *** Quits: cr1901 (~cr1901@2601:8d:8600:911:30b0:7c10:cd6d:8e6e) (Read error: Connection reset by peer)
[07:34:43] *** Joins: binarycat (~binarycat@35.24.192.117)
[07:35:07] *** Joins: cr1901 (~cr1901@2601:8d:8600:911:30b0:7c10:cd6d:8e6e)
[07:36:01] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.3)
[07:36:30] *** Joins: supakeen (~user@python/site-packages/supakeen)
[07:37:18] *** Joins: cr1901_ (~cr1901@2601:8d:8600:911:30b0:7c10:cd6d:8e6e)
[07:37:42] *** Quits: cr1901_ (~cr1901@2601:8d:8600:911:30b0:7c10:cd6d:8e6e) (Client Quit)
[07:37:42] *** Quits: cr1901 (~cr1901@2601:8d:8600:911:30b0:7c10:cd6d:8e6e) (Client Quit)
[07:38:19] *** Joins: cr1901 (~cr1901@2601:8d:8600:911:30b0:7c10:cd6d:8e6e)
[07:38:49] *** Quits: moog (~moog@107.126.53.217) (Remote host closed the connection)
[07:43:49] *** Joins: livoreno (~livoreno@user/notzmv)
[07:52:33] *** Quits: lumo_e (~enrico@151.29.48.90) (Ping timeout: 252 seconds)
[07:53:52] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Quit: noeontheend)
[07:54:54] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[08:00:38] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 260 seconds)
[08:05:47] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[08:06:16] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[08:07:39] *** Quits: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6) (Ping timeout: 250 seconds)
[08:27:43] *** Quits: livoreno (~livoreno@user/notzmv) (Read error: Connection reset by peer)
[08:47:40] <andrewrk> I guess the code looks complicated? but it's just loading an ELF file from disk and looking at some info about it and looking for a libc file path with a version number in it
[09:03:01] <mischief> what is the right way to pass a byte slice or array to a C function expecting char *?
[09:04:35] <mischief> derp. .ptr works, just had to read the docs
[09:06:30] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[09:07:07] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[09:23:55] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Ping timeout: 250 seconds)
[09:39:15] *** Quits: perro (~perro@072-191-245-069.res.spectrum.com) (Ping timeout: 252 seconds)
[09:41:31] *** Joins: breavyn_ (~breavyn@user/breavyn)
[09:41:54] *** Quits: breavyn (~breavyn@user/breavyn) (Ping timeout: 260 seconds)
[09:45:06] *** Joins: Felischtroumpf (~Thunderbi@rev-105-47.legacytubes.illyse.net)
[09:46:52] *** Quits: Felischtroumpf (~Thunderbi@rev-105-47.legacytubes.illyse.net) (Client Quit)
[09:56:58] <mischief> is there a way to make tcsetattr work when linking libc? http://ix.io/3I4P gives me "error: container 'std.c' has no member called 'TCSA'"
[09:57:12] <mischief> when not linking libc, it compiles.
[10:00:03] *** Quits: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Remote host closed the connection)
[10:00:17] *** Joins: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[10:06:48] *** Quits: binarycat (~binarycat@35.24.192.117) (Ping timeout: 268 seconds)
[10:07:21] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[10:08:01] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[10:18:27] *** km_ is now known as km
[10:30:59] *** Joins: freshcoffee (~fresh@user/freshcoffee)
[10:37:14] *** Joins: Vexu (~Thunderbi@188.117.20.105)
[10:41:27] *** Quits: rgrinberg (~textual@2806:101e:7:6946:301f:4093:a99:4144) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:51:01] *** Joins: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4)
[10:58:47] *** Joins: ewintr (sid512156@id-512156.hampstead.irccloud.com)
[11:08:47] *** breavyn_ is now known as breavyn
[11:19:26] *** Joins: rgrinberg (~textual@187.223.209.106)
[11:20:32] *** Joins: jonas_ (~textual@55867b35.cust.multi.fi)
[11:24:08] *** Joins: chgr (~ek@nat-91-137-16-17.net.encoline.de)
[11:25:22] *** Joins: fwg (~fwg@user/fwg)
[11:26:06] <andrewrk> sounds like a little bug in the std lib that should be fixed
[11:30:19] *** Quits: chgr (~ek@nat-91-137-16-17.net.encoline.de) (Quit: WeeChat 3.3)
[11:36:17] *** Quits: hspak (~hspak@user/hspak) (Remote host closed the connection)
[11:36:40] *** Joins: hspak (~hspak@user/hspak)
[11:46:16] <luuk> mischief: Are you on master? This should be fixed by PR 10051 (merged).
[11:51:10] *** Quits: IsaiahG (~Isaiah6@69.59.80.251) (Ping timeout: 256 seconds)
[12:10:16] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[12:10:55] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[12:23:12] *** Quits: ewintr (sid512156@id-512156.hampstead.irccloud.com) ()
[12:25:41] <mischief> luuk: hm. i do not think. 0.9.0-dev.1936+77836e08a
[12:26:17] *** Joins: jjido (~Denis@90.213.58.125)
[12:30:50] *** Joins: isolier39 (~isolier@174.31.3.60)
[12:30:58] *** Quits: isolier3 (~isolier@174.31.3.60) (Read error: Connection reset by peer)
[12:31:43] *** Quits: jjido (~Denis@90.213.58.125) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[12:32:09] *** Joins: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[12:32:49] *** Quits: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Remote host closed the connection)
[12:33:21] <mischief> what is the type of a Writer for the purposes of writing a function signature and passing it as an argument?
[12:39:23] *** Quits: rgrinberg (~textual@187.223.209.106) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:55:08] <luuk> mischief: Typically you'd use `anytype` as to allow any Writer to be passed.
[13:00:29] <mischief> i see
[13:05:18] *** Joins: schmee (~schmee@84-55-67-43.customers.ownit.se)
[13:11:09] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[13:11:40] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[13:14:00] <andrewrk> mischief, what linux distro are you on where the incorrect glibc version detection is happening?
[13:18:22] <mischief> andrewrk: i use debain 11/bullseye, and i have zig 0.9.0-dev.1936+77836e08a
[13:18:36] <andrewrk> thanks, I'll poke around and see what's going wrong
[13:19:26] <andrewrk> btw I finished my work fixing some of those other glibc-related issues: https://github.com/ziglang/zig/pull/10330
[13:19:38] <andrewrk> will be worth upgrading after this is merged I think
[13:21:01] *** Joins: earnestly (~earnest@user/earnestly)
[13:21:02] <mischief> removing 60k lines is always a nice thing to see
[13:21:52] <andrewrk> well to be fair it is 60K lines of text files replaced by a 165 KB binary file
[13:24:21] <mischief> today i learned a lot and got roughly half of OpenBSD signify written in Zig: http://ix.io/3I74
[13:24:45] *** Quits: fwg (~fwg@user/fwg) (Quit: .oO( zzZzZzz ...)
[13:25:38] <mischief> i had to build the bcrypt pbkdf from the upstream source as i didn't see a direct way to do it in zig, but it is neat that i can just build C inside of my zig program.
[13:39:54] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[13:40:23] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Client Quit)
[13:41:20] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[13:41:24] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Client Quit)
[13:42:24] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[14:11:02] *** Quits: notzmv (~zmv@user/notzmv) (Ping timeout: 240 seconds)
[14:11:55] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[14:12:35] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[14:14:32] *** Joins: dyeplexer (~dyeplexer@user/dyeplexer)
[14:19:34] <andrewrk> I can reproduce the bad glibc version detection
[14:32:45] *** Quits: cursey (~cursey@user/cursey) (Quit: bye)
[14:46:04] *** Joins: cursey (~cursey@user/cursey)
[14:53:12] *** Joins: notapenguin (~ryu@179.222.242.20)
[14:59:10] <daurnimator> mischief: share the code? what are the issues you get with our bcrypt?
[14:59:50] *** Quits: schmee (~schmee@84-55-67-43.customers.ownit.se) (Quit: Client closed)
[15:01:32] <mischief> daurnimator: i want to do this in Zig, but i didn't see any directly callable implementation in the standard library, so i just compiled it from C with zig. https://github.com/openbsd/src/blob/master/lib/libutil/bcrypt_pbkdf.c#L98
[15:02:37] <mischief> now that my program kind of works and i have a test case and a way to check the output vs the upstream code, maybe i can revisit implementing it in zig instead of c in my program.
[15:04:15] <Franciman> hi everyone
[15:06:58] <daurnimator> mischief: so first make sure you can implement the C `bcrypt_hash` using zig's `std.crypto.pwhash.bcrypt.bcrypt`
[15:09:33] <daurnimator> mischief: though it looks like that C you linked use a different seed ciphertext (OrpheanBeholderScryDoubt vs OxychromaticBlowfishSwatDynamite)
[15:11:34] <daurnimator> annoyingly std.crypto.pwhash.bcrypt.State isn't public, might be worth making a PR
[15:12:43] <mischief> yes, std does not expose the internal blowfish code, so i could not reimplement bcrypt_pbkdf as it stands.
[15:12:50] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[15:13:31] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[15:15:36] <daurnimator> mischief: you've nerd sniped me a little; so I might have a go at implementing it
[15:15:49] <daurnimator> Happy to stream it...
[15:19:13] <mischief> if State was pub, i don't think it would take long to do. i would be happy to watch, but it is 4 am on a monday and i will certainly be sleeping shortly. save the video :-)
[15:19:53] *** Joins: lumo_e (~enrico@151.29.48.90)
[15:22:27] *** Quits: Arnavion (arnavion@user/arnavion) (Ping timeout: 252 seconds)
[15:36:01] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.3)
[15:36:31] *** Joins: supakeen (~user@python/site-packages/supakeen)
[15:51:08] *** Joins: schmee (~schmee@84-55-67-43.customers.ownit.se)
[16:15:41] *** Quits: jonas_ (~textual@55867b35.cust.multi.fi) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:15:44] *** Quits: schmee (~schmee@84-55-67-43.customers.ownit.se) (Ping timeout: 256 seconds)
[16:21:00] *** Joins: notzmv (~zmv@user/notzmv)
[16:25:55] *** Joins: perro (~perro@072-191-245-069.res.spectrum.com)
[16:29:32] *** Joins: jonas_ (~textual@55867b35.cust.multi.fi)
[16:30:48] *** Quits: dyeplexer (~dyeplexer@user/dyeplexer) (Read error: Connection timed out)
[16:33:37] *** Quits: dbuckley (~dbuckley@2601:182:c77f:c13b:16d6:c957:1b1b:4658) (Read error: Connection reset by peer)
[16:33:51] *** Joins: dbuckley (~dbuckley@2601:182:c77f:c13b:ae1f:6bff:fe6c:d455)
[16:34:47] *** Joins: schmee (~schmee@84-55-67-43.customers.ownit.se)
[16:34:55] *** Quits: schmee (~schmee@84-55-67-43.customers.ownit.se) (Client Quit)
[16:37:31] *** Joins: frmdstryr (~jrm@172.58.203.119)
[16:52:29] <daurnimator> mischief: done :)
[17:12:01] <daurnimator> mischief: https://github.com/ziglang/zig/pull/10331
[17:13:08] <Franciman> are you all familiar with any LR parser generator in zig?
[17:33:15] *** Joins: Colt (~Colt@user/colt)
[17:35:59] *** Joins: jjido (~Denis@90.213.58.125)
[17:47:30] *** Quits: Vexu (~Thunderbi@188.117.20.105) (Quit: Vexu)
[17:50:52] *** Joins: dyeplexer (~dyeplexer@user/dyeplexer)
[17:54:38] *** Joins: arkurious (~arkurious@user/arkurious)
[18:05:50] *** Joins: moog (~moog@107.77.244.121)
[18:07:52] *** Joins: marler8997 (~marler899@96-19-96-19-162-162.cpe.sparklight.net)
[18:15:42] *** Quits: jjido (~Denis@90.213.58.125) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[18:21:11] *** Quits: terinjokes (~terinjoke@2604:a880:2:d0::227b:f001) (Quit: ZNC 1.8.2 - https://znc.in)
[18:27:42] *** Joins: terinjokes (~terinjoke@2604:a880:2:d0::227b:f001)
[18:39:52] *** Quits: raghavgururajan (9fd51d1ea8@user/raghavgururajan) (Ping timeout: 268 seconds)
[18:42:38] *** Joins: raghavgururajan (9fd51d1ea8@user/raghavgururajan)
[18:47:25] *** Quits: lumo_e (~enrico@151.29.48.90) (Ping timeout: 252 seconds)
[18:53:18] *** Joins: IsaiahG (~Isaiah6@69.59.80.251)
[18:54:51] *** Joins: KetanR (~KetanR@102-65-114-160.ftth.web.africa)
[18:57:58] *** Quits: KetanR (~KetanR@102-65-114-160.ftth.web.africa) (Client Quit)
[19:16:32] *** Joins: phaleth (~phaleth@user/phaleth)
[19:21:03] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 250 seconds)
[19:22:57] <tgschultz> conclusion of rewriting a complicated state machine into a coroutine using suspend/rsume: ~20% reduction in lines of code and about 1000x easier to read and reason about.
[19:26:55] <ifreund> tgschultz: nice, does the code happen to be open source/online somewhere?
[19:36:32] *** Quits: meinside (uid24933@id-24933.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[19:37:13] *** Quits: notapenguin (~ryu@179.222.242.20) (Quit: WeeChat 3.3)
[19:41:56] *** Joins: terminalpusher (~terminalp@2a01:586:9b10:1:fdf9:d5e5:78b7:60e0)
[19:44:47] <tgschultz> It is in a private github repo currently. I have to clean some stuff up before I make it public.
[19:58:02] *** Joins: chgr (~ek@nat-91-137-16-17.net.encoline.de)
[20:04:56] *** Quits: chgr (~ek@nat-91-137-16-17.net.encoline.de) (Quit: WeeChat 3.3)
[20:29:02] *** Joins: xackus_ (~xackus@218x.knc.pl)
[20:35:07] *** Joins: lumo_e (~enrico@151.29.48.90)
[21:04:59] *** Quits: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Remote host closed the connection)
[21:06:25] *** Joins: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[21:10:45] *** Joins: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[21:10:59] *** Quits: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Read error: Connection reset by peer)
[21:11:19] *** Joins: livoreno (~livoreno@user/notzmv)
[21:11:51] *** Quits: notzmv (~zmv@user/notzmv) (Remote host closed the connection)
[21:12:45] *** Joins: notzmv (~zmv@user/notzmv)
[21:20:18] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[21:33:52] *** Quits: Sawzall (~Sawzall@96-82-249-149-static.hfc.comcastbusiness.net) (Read error: Connection reset by peer)
[21:36:05] *** Joins: Sawzall (~Sawzall@96-82-249-149-static.hfc.comcastbusiness.net)
[21:43:42] *** Quits: jonas_ (~textual@55867b35.cust.multi.fi) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:47:30] *** Joins: nvmd (~nvmd@user/nvmd)
[21:58:59] *** Joins: [deleted] (~livoreno@user/notzmv)
[22:01:49] *** Quits: livoreno (~livoreno@user/notzmv) (Ping timeout: 250 seconds)
[22:06:34] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[22:06:38] *** Quits: dyeplexer (~dyeplexer@user/dyeplexer) (Remote host closed the connection)
[22:11:13] *** Joins: Arnavion (arnavion@user/arnavion)
[22:11:32] *** Joins: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4)
[22:19:26] *** Quits: terminalpusher (~terminalp@2a01:586:9b10:1:fdf9:d5e5:78b7:60e0) (Remote host closed the connection)
[22:19:50] *** Joins: terminalpusher (~terminalp@2a01:586:9b10:1:fdf9:d5e5:78b7:60e0)
[22:40:15] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Ping timeout: 252 seconds)
[22:44:01] *** Joins: ur5us (~ur5us@2406:e002:6c7b:2301:f812:b76c:617f:99d7)
[22:46:58] <marler8997> andrewrk, what do you think about also versioning the glibc headers?
[22:54:14] *** Joins: tane (~tane@dslb-002-201-234-166.002.201.pools.vodafone-ip.de)
[22:54:14] *** Quits: tane (~tane@dslb-002-201-234-166.002.201.pools.vodafone-ip.de) (Changing host)
[22:54:14] *** Joins: tane (~tane@user/tane)
[22:55:10] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[22:59:29] *** Joins: notapenguin (~ryu@2804:14d:5680:8a2c:75cf:7f59:516a:b801)
[23:12:05] <slowjo> the compiler is yelling at me telling me a function cannot be async
[23:12:29] <slowjo> i'm trying the new way of interfaces (what std.random has now)
[23:12:55] <slowjo> and basically used the same implementation
[23:13:33] <slowjo> it's yelling about a function in a closure
[23:15:56] <slowjo> i'm trying to hide some functionality that may suspend behind an interface. is this not possible?
[23:18:57] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Ping timeout: 250 seconds)
[23:19:10] *** Quits: terminalpusher (~terminalp@2a01:586:9b10:1:fdf9:d5e5:78b7:60e0) (Remote host closed the connection)
[23:19:31] *** Joins: terminalpusher (~terminalp@2a01:586:9b10:1:fdf9:d5e5:78b7:60e0)
[23:21:32] <andrewrk> marler8997, I'd like to explore solving the problem with preprocessor defines first
[23:21:33] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[23:21:51] <andrewrk> this way the compiler would not have to create temporary directories with processed files in them
[23:23:32] <marler8997> andrewrk, so you mean try patching the latest glibc headers to work with any version?
[23:25:56] <andrewrk> that would be one approach to produce the my proposed result, but I haven't explored the full possibility space yet
[23:34:15] <andrewrk> marler8997, we do something like this for macos: https://github.com/ziglang/fetch-them-macos-headers
[23:34:18] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Read error: Connection reset by peer)
[23:34:30] <andrewrk> in this case it only figures diffs at a file granularity
[23:34:54] <marler8997> oh yeah, ok that makes sense
[23:35:22] <andrewrk> you can see the output if you look at zig/lib/libc/include/*macos* 
[23:35:58] <andrewrk> I think a different approach may be warranted for glibc
[23:36:41] <marler8997> oh? what are you thinking?
[23:39:24] <andrewrk> just that there are a lot of versions and I don't want the installation size of zig to balloon for this feature
[23:41:51] *** Quits: notapenguin (~ryu@2804:14d:5680:8a2c:75cf:7f59:516a:b801) (Quit: WeeChat 3.3)
[23:42:57] *** Quits: ur5us (~ur5us@2406:e002:6c7b:2301:f812:b76c:617f:99d7) (Ping timeout: 252 seconds)
[23:43:33] <andrewrk> damn it would have been really convenient if glibc devs maintained their own headers in a multi-version manner
[23:44:00] <ifreund> isn't musl so much nicer?
[23:44:59] <ifreund> I've been wondering a bit about the use case for these stubs tbh, it seems like if you link system libraries you need to link the system libc instead and if you don't you can just use musl and statically link
[23:45:46] <marler8997> https://www.youtube.com/watch?v=Pzl1B7nB9Kc
[23:45:52] <ifreund> which leaves the use-case of what, wanting to dynamically link the system libc for whatever reason but not system libraries?
[23:46:10] <marler8997> Linus mentions how glibc just updates and breaks everyone and doesn't seem to care
[23:46:36] <ikskuh> ifreund: cross-compilation for graphics apps?
[23:46:39] <ikskuh> cannot link statically there
[23:46:59] <ifreund> ikskuh: if you link system libraries you need to link the system libc as well
[23:48:23] <ifreund> otherwise you end up trying to link system libraries against a different glibc version than they were built against
[23:48:26] <ikskuh> i mean, isn't that what the stubs do?
[23:49:23] <ifreund> if you want to cross compile and dynamically link you need the system libraries you want to link against built for the target as well
[23:49:53] <ifreund> so you would need stubs for mesa or whatever I suppose
[23:50:27] <ifreund> see also https://github.com/ziglang/zig/pull/8737 and https://github.com/ziglang/zig/pull/8816
[23:51:38] *** Joins: frett27 (~frett27@2a01:e0a:58a:6c00:3f63:dcad:3ee9:c238)
[23:52:17] <ifreund> I guess you vendor mesa's source (ew, that would be ugly) and use zig to cross compile mesa for the target then combine those binaries with glibc stubs
[23:53:34] <mischief> daurnimator: does this also do the 'mixing' that openbsd's pbkdf does?
[23:53:42] <ikskuh> yeah i have stubs for SDL2
[23:56:37] <ikskuh> imho we should provide a generic purpose interface for this
[23:56:49] <ikskuh> similar to what we have for windows (user32.def for example)
[23:58:47] *** Joins: ur5us (~ur5us@203.86.198.200)
