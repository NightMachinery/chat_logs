[00:21:30] *** Quits: jayray (~jayray@user/jayray) (Ping timeout: 250 seconds)
[00:24:16] *** Joins: jayray (~jayray@user/jayray)
[00:37:05] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[01:01:14] *** Quits: becm (~becm@55d44cfb.access.ecotel.net) (Quit: quit)
[01:32:57] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Quit: shibboleth)
[01:41:37] *** Quits: Nitrousoxide (~msdos@user/nitrousoxide) (Ping timeout: 240 seconds)
[01:42:30] *** Joins: Nitrousoxide (~msdos@user/nitrousoxide)
[01:45:08] *** Quits: avril (av@user/avril) (Quit: later skater)
[01:59:37] *** Joins: avril (av@user/avril)
[02:04:27] *** Quits: avril (av@user/avril) (Client Quit)
[02:08:40] *** Joins: avril (~avril@user/avril)
[02:11:57] *** Quits: DoucheEnrique (~quassel@i5C7571F4.versanet.de) (Read error: Connection reset by peer)
[02:15:16] *** Quits: avril (~avril@user/avril) (Quit: later skater)
[03:25:07] *** Joins: TonyStone31 (~TonyStone@2603-7080-8607-c36a-cdff-5348-04ff-b4e2.res6.spectrum.com)
[03:25:08] *** Quits: TonyStone (~TonyStone@cpe-74-76-51-197.nycap.res.rr.com) (Quit: Leaving)
[03:25:11] *** Quits: TonyStone31 (~TonyStone@2603-7080-8607-c36a-cdff-5348-04ff-b4e2.res6.spectrum.com) (Remote host closed the connection)
[03:25:37] *** Joins: TonyStone (~TonyStone@2603-7080-8607-c36a-cdff-5348-04ff-b4e2.res6.spectrum.com)
[03:36:37] *** Joins: DoucheEnrique (~quassel@i5C7568AC.versanet.de)
[03:40:33] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Quit: Ex-Chat)
[04:34:59] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Quit: bye)
[04:35:51] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[05:11:14] *** Quits: splud (~noneya.bi@user/splud) (Ping timeout: 260 seconds)
[05:30:17] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[07:02:03] *** Quits: adeliktas (~adeliktas@i59F52D68.versanet.de) (Read error: Connection reset by peer)
[07:04:32] *** Joins: adeliktas (~adeliktas@i59F4D64A.versanet.de)
[07:18:33] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[07:28:44] *** Quits: mannequin (uid453465@id-453465.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[08:26:08] *** Joins: nerozero (~nerozero@87.253.63.54)
[08:26:46] *** Joins: vlm (~vlm@user/vlm)
[08:30:37] *** Quits: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net) (Quit: Ex-Chat)
[09:23:25] *** Quits: jkotra (~jkotra@122.169.225.205) (Ping timeout: 240 seconds)
[09:25:34] *** Joins: jkotra (~jkotra@117.98.154.56)
[09:36:25] *** Quits: jkotra (~jkotra@117.98.154.56) (Ping timeout: 256 seconds)
[10:02:54] *** Quits: BOWnbERTHA (~BOWnbERTH@178.239.165.205) (Quit: *)
[10:03:34] *** Joins: BOWnbERTHA (~BOWnbERTH@178.239.165.205)
[10:09:00] *** Joins: Snegodick (~ne@user/Snegodick)
[10:16:30] *** Joins: splud (~noneya.bi@user/splud)
[10:16:32] *** Joins: hqdruxn08 (~hqdruxn08@user/hqdruxn08)
[10:18:46] *** Quits: hqdruxn08_ (~hqdruxn08@user/hqdruxn08) (Ping timeout: 260 seconds)
[10:18:54] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Read error: Connection reset by peer)
[10:19:47] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[10:55:49] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Quit: bye)
[10:56:55] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[11:07:26] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Quit: bye)
[11:09:26] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[11:18:42] *** Joins: tasoseng (~tasos@kronos.eng.auth.gr)
[11:46:11] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Ping timeout: 256 seconds)
[11:46:57] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[12:04:06] *** Joins: jkotra (~jkotra@223.230.91.108)
[12:04:13] *** Quits: BtbN (btbn@ffmpeg/developer/btbn) (Ping timeout: 268 seconds)
[12:04:43] *** Joins: BtbN (btbn@ffmpeg/developer/btbn)
[12:05:28] *** Quits: DmanT (~DmanT@2001:41d0:a:f55c::1) (Ping timeout: 268 seconds)
[12:06:04] *** Quits: oj_ (oj@user/oj) (Ping timeout: 268 seconds)
[12:06:04] *** Quits: ender (~ender1@2a01:260:4094:1:6045:6fff:fedd:cbf3) (Ping timeout: 268 seconds)
[12:06:04] *** Quits: petan (~g@wikimedia/petrb) (Ping timeout: 268 seconds)
[12:06:05] *** Joins: oj (oj@user/oj)
[12:09:20] *** Joins: BtbN_ (btbn@ffmpeg/developer/btbn)
[12:10:33] *** Quits: BtbN (btbn@ffmpeg/developer/btbn) (Ping timeout: 256 seconds)
[12:10:33] *** BtbN_ is now known as BtbN
[12:11:11] *** Joins: DmanT (~DmanT@2001:41d0:a:f55c::1)
[12:17:17] *** Quits: Hobbyboy (Hobbyboy@hobbyboy.co.uk) (Quit: The BNC has broken!)
[12:20:33] *** Joins: ender (~ender1@2a01:260:4094:1:6045:6fff:fedd:cbf3)
[12:37:17] *** Joins: weq (~weq@powershell/staff/weq)
[12:56:45] *** Joins: Hobbyboy (Hobbyboy@hobbyboy.co.uk)
[13:04:15] <weq> Question, We have a /24 net configured for openvpn clients now. How can I best increase that network? Can I simply change it to a /16 then restart the server e.g. ? And the clients will be fine or do I need to do some additional changes on all my clients?
[13:15:52] *** Joins: fling (~fling@user/fling)
[13:16:06] *** Quits: phenom (~primus@user/phenom) (Ping timeout: 260 seconds)
[13:16:25] *** Joins: phenom (~primus@user/phenom)
[13:22:09] <mzar> weq: what's current network ?
[13:23:07] <weq> 10.8.0.0/24
[13:24:25] <weq> Would the clients just drop and reconnect? then get a random address in the larger scope? And could I also change the a different subnet all in all... ? Let's say 10.92.0.0/16  ?
[13:24:54] <mzar> 10.8.0.0/16 will work, but it's way too much, probably something like 10.8.0.0/22 will be better 
[13:25:46] <weq> So basically I can increment just fine without any expected issues. But I understand that things might also happen ofc.
[13:27:22] <mzar> weq: yes, you need to restart, the clients' transmission will be disrupted, but the clients should get the same addresses, which are now stored in ipp.txt
[13:28:11] <weq> I'm not all that familiar with openvpn personally, and I've recently inherited this server configuration. So trying to read documentation as best as I can.
[13:28:50] <mzar> weq: what is your "topology" setting in openvpn.conf ?
[13:29:19] <weq> nothing set in the server.conf so whatever is default.
[13:30:33] <weq> We have a fairly simple solution configured, only to allow us ssh back into some HW we have place around the world. To maintain the applications running on these boxes. No complex routing and/or bridging etc.
[13:32:26] <mzar> it probaly still defaults to "net30" (maybe I am wrong), changing to "subnet" will double or even tripe currently available addres space for clients IIRC
[13:33:55] <weq> We don't even have a ipp.txt present on the server so I guess I need to read tons today. As well as what you just wrote, no idea how it relates as of now :P
[13:34:20] *** Quits: RypPn (~RypPn@user/ryppn) (Quit: Real-time updating is paused. (Resume))
[13:34:23] <colo> weq, do you need clients to have "constant"/stable IP addresses assigned?
[13:34:47] <weq> We want that instead of what happens now yeah. At random intervals they get new addresses so.
[13:35:08] <weq> It would be nice if they could just get a random one upon first connect, and then keep that until we retire the HW.
[13:35:42] <weq> I recon the ipp is basically a way to assign address more static...?
[13:36:02] <mzar> weq: so you need "ifconfig-pool-persist /var/db/openvpn/ipp.txt" 
[13:36:10] <weq> ty ty :)
[13:36:58] <mzar> then add "topology subnet"
[13:37:46] <mzar> now in 10.8.0.0/24 you have 253 addresses for clients, sufficient amount ?
[13:38:28] <weq> We'll scale up pretty soon so no :P We need to go up 10k~ as "start2.
[13:38:31] <weq> We'll scale up pretty soon so no :P We need to go up 10k~ as "start".*
[13:38:49] <colo> 10k is quite a lot of clients.
[13:39:12] <mzar> that's impressive setup
[13:39:25] <mzar> good luck with this
[13:39:27] <colo> I"ve never tried to scale OpenVPN to anything even close to this. pretty sure you want to handle that by more than one server instance.
[13:39:44] <weq> I'm considering switching to Azure VPN for a simpler SaaS in the future.
[13:39:59] <weq> First step is roughly 3k clients and then we move on. :|
[13:40:19] <weq> I'm pretty sure that we need multiple instances as well.
[13:40:39] <weq> There is not a whole bunch of traffic though, it is very little.
[13:41:00] <weq> "Nothing" almost.
[13:41:16] *** Joins: RypPn (~RypPn@user/ryppn)
[13:41:47] <weq> The clients typically use a different network to deliver data. This is just a maintainence backdoor for us maintaining certain things.
[13:51:34] <ultramage> I wonder how openvpn server process scales. any worker threads in there? if not, I imagine you could just start additional instances on additional ports, or something.
[13:52:30] <ultramage> with minimal workload that shouldn't matter anyway, even a single thread can handle that with <1ms latency
[13:57:24] <colo> strace tells me my openvpn server here uses poll() on its server fd(s); not epoll().
[14:00:09] <mzar> no worries, devs at some point will make a transition to epoll and kqueue
[14:03:20] <colo> yeah, but will that happen soon enough for weq's upcoming 10k clients scenario to benefit from? ;)
[14:06:39] <mzar> hm... maybe sponsoring the development will make the transition even faster
[14:08:11] <colo> with 10k endpoints on the line, for something business ciritcal, I would surely engage with the vendor for quotes on impl. support
[14:08:43] <colo> probably still a lot cheaper than soaking up some cloud vendor's absurd traffic costs
[14:08:57] *** Quits: RypPn (~RypPn@user/ryppn) (Quit: Real-time updating is paused. (Resume))
[14:10:10] *** Joins: mannequin (uid453465@id-453465.helmsley.irccloud.com)
[14:10:19] *** Joins: moldorcoder7_ (~moldorcod@37.120.143.30)
[14:10:20] *** Quits: moldorcoder7 (~moldorcod@37.120.143.28) (Ping timeout: 256 seconds)
[14:10:42] *** Joins: RypPn (~RypPn@user/ryppn)
[14:24:38] *** Joins: Silicium (~Silicium@95.216.156.84)
[14:24:40] <Silicium> hi there
[14:25:22] <Silicium> how can i renew a server certificate using easy-rsa 3 without recreating the server.key? i dont want to recreate all the client certs
[14:30:18] *** Quits: cation (cation@user/cation) (Quit: Leaving)
[14:38:25] <Silicium> thanks god, client certs are signed by the ca not the server :D
[14:38:57] <weq> it seems like I have an ipp.txt file, but how come certain hosts are listed twice with different ips? Any clue as to why this might have happened...?
[14:39:57] *** Parts: Silicium (~Silicium@95.216.156.84) ()
[14:41:59] <ultramage> weq: I also had some stale records in there, it's possible they never expire. if the hostname is the same, maybe they crashed/rolled back and requested a new ip without releasing the old one
[14:42:32] <ultramage> I never gave it much thought, but maybe there's procedures and settings for handling this 
[14:44:31] <ultramage> oh yea, my clients use certificates now, so the file stores their CN. I don't remember if before it stored their hostname and mac address, or just hostname
[14:45:41] <weq> what do you mean? that it must hostname must match the CN to more reliabile ensure that it gets the same IP...?
[14:46:43] <ultramage> couldn't find anything good on the web
[14:47:27] <ultramage> er... clients identify to the server via certificate, it then uses their CN in the ipp file to remember them. If they don't identify via CN, I think they identify via windows pc name. 
[14:49:13] <ultramage> I don't really know why the file has duplicates. Only explanation I can think of is that ... well, idk. If the client with the same name connects, it should get the same ip... so did they run the openvpn client twice, the server saw that the first address was still in use on a live connection, and so it gave them a second one?
[14:50:00] <ultramage> or maybe the client had a network outage, reconnected and asked for an ip, and the server still thought the first connection was still alive and the ip was taken, so it gave out a new one?
[14:50:14] <weq> It is just weird. It must be related to some timeout of sorts.
[14:51:07] <weq> The clients gets network outages often, like several times a day possibly and has high latency typically always.
[14:51:07] <ultramage> how long have you been operating the server? it might be remains of old buggy behavior that's been fixed since
[14:51:39] <weq> A year and it has happened atleast 5-6 times the last year on different clients.
[14:59:40] <ultramage> oh, I'm using 'persist-tun', that's why soft restarts don't do a full reset on the interface
[15:00:03] <ultramage> I wonder if that has something to do with pushed routes not being reinstated after resuming from (very brief) hibernation
[15:08:56] <plaisthos> ultramage: openvpn does not use the windows pc name for anything
[15:09:36] <plaisthos> i think in the ipp file the username might be used instead
[15:10:05] <plaisthos> also if you enable duplicate-cn on the server, you can get duplicate client names
[15:10:31] *** Parts: wigums (~wigums@user/wigums) (Leaving)
[15:30:17] *** Quits: csrf (~csrf@user/csrf) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[15:31:02] *** Joins: csrf (~csrf@user/csrf)
[15:58:24] *** Quits: valdikss (~valdikss@95.215.45.33) (Quit: Bye!)
[15:58:52] *** Joins: valdikss (~valdikss@2a02:7aa0:1619::2c32:9c23)
[17:39:07] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[17:49:39] *** Joins: eelstrebor (~eelstrebo@198-178-29-136.scb.ne.static.allophone.net)
[17:58:46] *** Joins: cation (cation@user/cation)
[18:22:36] *** Joins: gast0n (~g4570n@user/gast0n)
[18:25:51] *** Quits: moffa (~quassel@2607:fea8:a340:7f2:329c:23ff:fe45:6567) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[18:28:43] *** Joins: moffa (~quassel@2607:fea8:a340:7f2:329c:23ff:fe45:6567)
[18:50:00] *** Quits: DoucheEnrique (~quassel@i5C7568AC.versanet.de) (Quit: No Ping reply in 180 seconds.)
[19:15:35] *** Quits: Snegodick (~ne@user/Snegodick) (Quit: Going offline, see ya! (www.adiirc.com))
[19:17:12] *** Joins: DoucheEnrique (~quassel@i5C7568AC.versanet.de)
[19:55:26] *** Quits: gast0n (~g4570n@user/gast0n) (Ping timeout: 256 seconds)
[19:57:06] *** Joins: gast0n (~g4570n@user/gast0n)
[20:10:12] *** Quits: gast0n (~g4570n@user/gast0n) (Read error: Connection reset by peer)
[20:17:42] *** Joins: jmark (~jmark@laguna07.dericnet.com)
[20:27:05] <embargo> ordex: Update: I got drunk on saturday, changed the interface name from tap-trunk to tap_trunk and it magically started working. I need to verify this on another unit running OpenWrt but I guess it is something in owrt.
[20:36:09] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Quit: shibboleth)
[21:24:24] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 256 seconds)
[21:45:26] <ordex> :D
[21:58:27] *** Quits: colo (~colo@user/colo) (Quit: Bye.)
[21:58:41] *** Joins: colo_ (~colo@user/colo)
[22:05:16] *** Joins: Snegodick (~ne@user/Snegodick)
[22:35:05] *** Quits: nyuszika7h (nyuszika7h@lykos/dev/nyuszika7h) (Read error: Connection reset by peer)
[22:35:53] *** Joins: nyuszika7h (nyuszika7h@lykos/dev/nyuszika7h)
[22:45:05] *** Quits: Haxxa (~Haxxa@125-253-30-213.ip4.superloop.com) (Quit: Haxxa flies away.)
[22:47:55] *** Joins: Haxxa (~Haxxa@125-253-30-213.ip4.superloop.com)
[23:03:30] *** Joins: hqdruxn08_ (~hqdruxn08@user/hqdruxn08)
[23:04:42] *** Quits: hqdruxn08 (~hqdruxn08@user/hqdruxn08) (Ping timeout: 256 seconds)
[23:10:21] *** Joins: petan (~g@wikimedia/petrb)
[23:15:00] *** Joins: becm (~becm@55d455a4.access.ecotel.net)
[23:21:02] *** Joins: gast0n (~g4570n@user/gast0n)
[23:43:01] *** Quits: DoucheEnrique (~quassel@i5C7568AC.versanet.de) (Quit: I'm quitting.)
[23:45:51] *** Joins: DoucheEnrique (~quassel@i5C7568AC.versanet.de)
[23:53:56] <DArqueBishop> embargo: ... you didn't rename it to tap_drunk? Son, I am disappoint.
