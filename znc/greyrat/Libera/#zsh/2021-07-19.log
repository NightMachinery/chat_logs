[00:05:25] *** Joins: frm (~frm@user/frm)
[00:06:41] *** Quits: frm (~frm@user/frm) (Client Quit)
[00:12:14] *** Joins: arcatech (~arcatech@user/arcatech)
[00:14:04] *** Quits: arcatech (~arcatech@user/arcatech) (Client Quit)
[00:16:17] *** Joins: arcatech (~arcatech@user/arcatech)
[00:18:52] *** Joins: Julian (~tos9@python/site-packages/Julian)
[00:22:51] *** Joins: mlk0 (~mlk@85.203.187.17)
[00:24:01] *** Quits: Julian (~tos9@python/site-packages/Julian) (Ping timeout: 268 seconds)
[00:24:38] *** Quits: bartholin (~bartholin@109.53.3.231) (Ping timeout: 268 seconds)
[00:24:59] *** Quits: mlk (~mlk@85.203.187.17) (Ping timeout: 265 seconds)
[00:24:59] *** mlk0 is now known as mlk
[00:26:52] *** Joins: dza (~dza@user/dza)
[00:41:39] *** Joins: cdown (~cdown@89.32.122.5)
[00:43:55] *** Quits: lemonzest (~lemonzest@user/lemonzest) (Quit: Quitting)
[00:45:32] *** Quits: mali (~rambot@user/malina) (Quit: WeeChat 3.1)
[00:46:32] *** Quits: Brainium (~brainium@user/brainium) (Quit: Konversation terminated!)
[00:47:14] *** Joins: Julian (~tos9@python/site-packages/Julian)
[00:47:19] *** Joins: Brainium (~brainium@user/brainium)
[00:50:17] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[00:52:23] *** Quits: Julian (~tos9@python/site-packages/Julian) (Ping timeout: 268 seconds)
[00:52:31] *** Joins: Brainium_ (~brainium@user/brainium)
[00:53:07] *** Quits: Brainium (~brainium@user/brainium) (Read error: Connection reset by peer)
[00:55:55] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 265 seconds)
[01:01:53] *** Quits: skylite (~skylite@2E6B2CD6.catv.pool.telekom.hu) (Quit: bye...)
[01:02:36] *** Joins: skylite (~skylite@2E6B2CD6.catv.pool.telekom.hu)
[01:04:02] *** Joins: Julian (~tos9@python/site-packages/Julian)
[01:09:02] *** Quits: Julian (~tos9@python/site-packages/Julian) (Ping timeout: 268 seconds)
[01:18:34] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[01:20:30] *** Joins: Julian (~tos9@python/site-packages/Julian)
[01:22:10] *** Joins: mlk6 (~mlk@85.203.187.17)
[01:23:55] *** Quits: mlk (~mlk@85.203.187.17) (Ping timeout: 246 seconds)
[01:23:55] *** mlk6 is now known as mlk
[01:25:38] *** Quits: Julian (~tos9@python/site-packages/Julian) (Ping timeout: 255 seconds)
[01:29:22] *** Joins: jetchisel (jetchisel@user/jetchisel)
[01:31:27] *** Joins: arcatech (~arcatech@user/arcatech)
[01:37:22] *** Joins: mlk5 (~mlk@85.203.187.17)
[01:39:24] *** Quits: mlk (~mlk@85.203.187.17) (Ping timeout: 258 seconds)
[01:39:25] *** mlk5 is now known as mlk
[01:46:53] *** Joins: andril (~andril@2601:586:8400:113::1000)
[01:52:49] *** Joins: Julian (~tos9@python/site-packages/Julian)
[01:55:43] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[01:58:22] *** Quits: Julian (~tos9@python/site-packages/Julian) (Ping timeout: 268 seconds)
[01:58:49] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[01:59:46] *** Joins: arcatech (~arcatech@user/arcatech)
[02:00:59] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[02:04:11] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 252 seconds)
[02:04:20] *** Quits: ahmedelgabri (~ahmedelga@2a02-a446-d88a-1-157f-d77e-910-b9e8.fixed6.kpn.net) (Quit: WeeChat 3.2)
[02:04:58] *** Joins: Pseudocrat (~sudo@user/pseudocrat)
[02:05:55] *** Quits: rkta (~kt@62.113.246.111) (Remote host closed the connection)
[02:06:07] *** Joins: rkta_ (~kt@62.113.246.111)
[02:06:16] *** rkta_ is now known as rkta
[02:06:20] *** Quits: __jmcantrell__ (~weechat@user/jmcantrell) (Ping timeout: 255 seconds)
[02:09:47] *** Joins: Julian (~tos9@python/site-packages/Julian)
[02:15:11] *** Quits: Julian (~tos9@python/site-packages/Julian) (Ping timeout: 265 seconds)
[02:30:01] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[02:35:22] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 268 seconds)
[02:40:18] *** Quits: _xor (~xor@74.215.232.67) (Ping timeout: 268 seconds)
[02:40:43] *** Joins: Julian (~tos9@python/site-packages/Julian)
[02:44:39] *** Quits: Julian (~tos9@python/site-packages/Julian) (Client Quit)
[02:51:03] *** Quits: andril (~andril@2601:586:8400:113::1000) (Ping timeout: 246 seconds)
[03:00:48] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[03:05:39] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 258 seconds)
[03:08:11] *** Joins: carlos (~pum@user/carlos)
[03:13:11] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 265 seconds)
[03:16:14] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:17:27] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[03:26:14] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 255 seconds)
[03:28:43] *** Quits: acid (~acid@user/acid) (Read error: Connection reset by peer)
[03:28:51] *** Joins: acid (~acid@2a01:4f9:c010:898a::1)
[03:29:15] *** acid is now known as Guest152
[03:34:33] *** Quits: carlos (~pum@user/carlos) (Remote host closed the connection)
[03:34:57] *** Quits: catman (~catman@user/catman370) (Quit: WeeChat 3.2)
[03:36:40] *** Joins: trevors (~trevors@catv-89-132-207-129.catv.broadband.hu)
[03:44:03] *** Quits: mkoskar (~mkoskar@user/mkoskar) (Quit: mkoskar)
[03:44:55] *** Joins: catman (~catman@user/catman370)
[03:45:08] *** Quits: catman (~catman@user/catman370) (Client Quit)
[03:57:57] *** Joins: mkoskar (~mkoskar@user/mkoskar)
[04:00:17] *** Joins: catman (~catman@user/catman370)
[04:12:41] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:15:59] *** moon is now known as cd
[04:25:30] *** Joins: _xor (~xor@74.215.232.67)
[04:28:58] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[04:36:50] *** Quits: __jmcantrell__ (~weechat@user/jmcantrell) (Ping timeout: 268 seconds)
[04:38:16] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[04:45:34] *** Joins: downunder (~downunder@110.151.19.142)
[04:46:05] *** Quits: trevors (~trevors@catv-89-132-207-129.catv.broadband.hu) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:01:45] *** __jmcantrell__ is now known as jmcantrell
[05:19:08] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[05:22:14] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 265 seconds)
[05:32:41] *** Quits: maetthew (~maetthew@user/maetthew) (Quit: ZNC 1.8.2 - https://znc.in)
[05:38:32] *** Joins: maetthew (~maetthew@c188-150-100-85.bredband.tele2.se)
[05:38:32] *** Quits: maetthew (~maetthew@c188-150-100-85.bredband.tele2.se) (Changing host)
[05:38:32] *** Joins: maetthew (~maetthew@user/maetthew)
[05:39:39] *** Quits: catman (~catman@user/catman370) (Quit: WeeChat 3.2)
[05:40:31] *** Quits: syscomet (~syscomet@user/syscomet) (Ping timeout: 258 seconds)
[05:48:59] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 268 seconds)
[05:57:08] *** Joins: catman (~catman@user/catman370)
[06:14:14] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[06:19:13] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 255 seconds)
[06:22:29] *** Joins: thegrif (~thegrif@109.201.152.168)
[06:31:23] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[06:33:44] *** Quits: catman (~catman@user/catman370) (Quit: WeeChat 3.2)
[06:36:19] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 255 seconds)
[06:43:51] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[06:44:09] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[06:49:12] *** Joins: catman (~catman@user/catman370)
[07:08:40] *** Quits: zephros (~zephros@2603-6010-0f00-1498-0000-0000-0000-0055.res6.spectrum.com) (Quit: WeeChat 3.2)
[07:15:16] *** Joins: CodeSpelunker (~CodeSpelu@user/codespelunker)
[07:20:31] *** Quits: catman (~catman@user/catman370) (Quit: WeeChat 3.2)
[07:22:35] *** Quits: bin101 (~bin101@user/bin101) (Ping timeout: 265 seconds)
[07:28:41] *** Quits: lacrymology (~lacrymolo@static-95-102-25-46.ipcom.comunitel.net) (Ping timeout: 252 seconds)
[07:30:29] *** Joins: catman (~catman@user/catman370)
[07:31:59] *** Joins: bin101 (~bin101@user/bin101)
[07:40:36] *** Joins: lacrymology (~lacrymolo@static-5-62-25-46.ipcom.comunitel.net)
[07:45:22] *** Quits: catman (~catman@user/catman370) (Quit: WeeChat 3.2)
[07:47:19] *** Quits: discipulus (~discipulu@user/discipulus) (Quit: discipulus)
[07:48:29] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 252 seconds)
[07:49:59] *** Joins: trevors (~trevors@catv-89-132-207-129.catv.broadband.hu)
[07:53:51] *** Joins: discipulus (~discipulu@user/discipulus)
[07:54:00] *** Quits: Guest152 (~acid@2a01:4f9:c010:898a::1) (Changing host)
[07:54:00] *** Joins: Guest152 (~acid@user/acid)
[07:54:12] *** Guest152 is now known as acid
[07:59:43] *** Joins: catman (~catman@user/catman370)
[08:04:51] *** Quits: micr0 (~micr0@user/micr0) (Remote host closed the connection)
[08:05:41] *** Joins: hejux (~hejux@104.224.190.144.16clouds.com)
[08:12:22] *** Joins: guidoc (~guido@host-87-11-251-168.retail.telecomitalia.it)
[08:17:12] *** Quits: trevors (~trevors@catv-89-132-207-129.catv.broadband.hu) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:18:20] *** Quits: CodeSpelunker (~CodeSpelu@user/codespelunker) (Quit: CodeSpelunker)
[08:21:09] *** Quits: Brainium_ (~brainium@user/brainium) (Quit: Konversation terminated!)
[09:01:50] *** Quits: discipulus (~discipulu@user/discipulus) (Quit: dail-up)
[09:09:29] *** Joins: arcatech (~arcatech@user/arcatech)
[09:12:10] *** Joins: heoyea (~heoyea@cpe-76-178-65-151.natsow.res.rr.com)
[09:25:47] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[10:13:15] *** Joins: t0kie (~t0kie@user/t0kie)
[10:31:54] *** Joins: lemonzest (~lemonzest@user/lemonzest)
[11:04:04] *** Quits: t0kie (~t0kie@user/t0kie) (Quit: Leaving)
[11:13:22] *** Quits: guidoc (~guido@host-87-11-251-168.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[11:14:56] *** Joins: xcm_ (~xcm@user/xcm)
[11:16:30] *** Quits: xcm (~xcm@user/xcm) (Read error: Connection reset by peer)
[11:28:49] *** Joins: kdudka (~kdudka@nat-pool-brq-t.redhat.com)
[11:41:13] *** Joins: guidoc (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f)
[11:43:39] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Quit: Ping timeout (120 seconds))
[11:45:46] *** Joins: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net)
[11:50:06] *** Joins: trevors (~trevors@79.120.223.86)
[12:02:24] *** Quits: trevors (~trevors@79.120.223.86) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:06:41] *** Joins: trevors (~trevors@79.120.223.86)
[12:18:45] *** Quits: trevors (~trevors@79.120.223.86) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:19:38] *** Joins: trevors (~trevors@79.120.223.86)
[12:35:26] *** Joins: m43cap (~user@host31-54-88-20.range31-54.btcentralplus.com)
[12:35:45] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[12:36:22] *** Joins: Julian (~tos9@python/site-packages/Julian)
[12:37:54] *** Parts: m43cap (~user@host31-54-88-20.range31-54.btcentralplus.com) ()
[12:41:33] *** Joins: iomari891 (~iomari891@105.112.138.38)
[12:55:04] <otisolsen70> I have this script that goes through a (large) photo collection and generates a mirror copy with lower resolution instances of each image file (using imagemagick) as well as a hardlink to each video file. Each converted file gets the same filename as the original. I would like to have the script treat .heic files differently: ie. produce output files named .jpg instaed of .heic. How do I do this? Full zsh script: https://paste.yt/p15616.html
[12:56:21] <Mikachu> if [[ $x == $.heic ]]; then; out=${x%heic}.jpg; else; out=$x; fi; convert $x $dst/$out
[12:56:24] <otisolsen70> One approach I am considering: Put an "if" around this line: "nice convert -quiet -quality $quality -resize $resolution $x $dest_folder/$x" to check if the extension of $x is .heic. And if it is, then treat that differently.
[12:56:25] <Mikachu> or so
[12:56:47] <Mikachu> you can probably write something incomprehensible that's shorter, but why bother, it's pretty obvious to do it it this way
[12:57:38] <Mikachu> i guess add HEIC to that if that's possible too
[12:57:46] <Mikachu> oops, *.heic, not $.heic of course
[12:59:27] <guidoc> might wanna compare lowercase $x so it recognizes *.HEIC
[12:59:37] <guidoc> [[ $x:l:e = heic ]]
[13:00:54] <guidoc> but then ${x%heic} won't work, but you can use $x:r.jpg
[13:03:35] <otisolsen70> Is this right? $.heic
[13:03:42] <otisolsen70> What is $.?
[13:03:49] <Mikachu> 10:27:47 <Mikachu> oops, *.heic, not $.heic of course
[13:04:49] <Mikachu> but do what guidoc said instead, it's probably a bit more reliable
[13:04:54] <otisolsen70> Sorry did not see that
[13:05:20] <otisolsen70>  $x:l:e what does :l:e mean here?
[13:05:41] <guidoc> lowercase, extension
[13:05:51] <guidoc> :r is root (removes the extension)
[13:06:35] *** Joins: Szadek_ (~Szadek@193.27.14.141)
[13:06:38] <guidoc> I guess you can use $x:e:l for micro-optimization, so it only lower cases the extension
[13:09:59] <otisolsen70> guidoc, Mikachu : did I get this right? https://paste.yt/p15617.html
[13:10:20] <otisolsen70> I added some quotes aroung some of the stuff where I felt it was missing. But not sure if needed or recommended.
[13:10:32] <otisolsen70> I also added == instead of = in the $x:l:e comparison
[13:11:02] <Mikachu> it looks good enough to be worth trying ;)
[13:11:37] <guidoc> looks fine
[13:11:38] <otisolsen70> Mikachu, yeah I will try it. Source folder is several hundreds GB. So it will take some time... Any other suggestions to improvements I should add?
[13:11:53] <Mikachu> i guess you don't really need the if check, :r.jpg is harmless if $x is already .jpg
[13:12:31] <otisolsen70> Mikachu, yeah, I thought about that as well. But I was considering adding .png to the source file list. But then I dont want to convert PNGs to jpg. 
[13:12:46] <Mikachu> ah, indeed
[13:13:01] <otisolsen70> Mikachu, but it would make it much simpler.
[13:13:04] <Mikachu> you could save possibly a miniscule amount of time by renicing the script process instead of running nice for every convert process
[13:13:36] <otisolsen70> Mikachu, renice $$ ??
[13:13:44] <Mikachu> yeah
[13:13:50] <otisolsen70> Great idea
[13:14:12] <Mikachu> ( repeat 1000; do; nice /bin/true; done; )  1.07s user 0.36s system 53% cpu 2.656 total
[13:14:15] <Mikachu> ( repeat 1000; do; /bin/true; done; )  0.37s user 0.40s system 44% cpu 1.722 total
[13:18:08] *** Quits: trevors (~trevors@79.120.223.86) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:18:40] <otisolsen70> significant
[13:20:10] <guidoc> I would remove the duplicated convert command with: ext=$x:e; [[ $ext:l = heic ]] && ext=jpg; convert -quiet -quality $quality -resize $resolution "$x" "$dest_folder/$x:r.$ext"
[13:21:13] <otisolsen70> I just ran it. It terminated very quickly. No .jpg files were output int he dest folder for the heic files
[13:21:31] *** Joins: bartholin (~bartholin@158.110.154.82)
[13:23:48] <otisolsen70> I think I have a problem where I check if the dest folder contains an existing file with same name as source that is newer. PRoblem here is: I do not check filename.jpg when source is filename.heic
[13:24:19] *** Joins: trevors (~trevors@79.120.223.86)
[13:28:33] <otisolsen70> Should I restructure this to maintain $infile $outfile $inextension $outextension or something like that?
[13:29:51] <otisolsen70> If I manually delete one of the existing .heic files in the $dest_folder and rerun the script. Then the script successfully generates a jpg file for that image. So I could just clean the $dest_folder completely for .heic files. But then the script would regenrate the .heic files on every run whcih would take forever.
[13:31:21] <guidoc> ext=$x:e; [[ $ext:l = heic ]] && ext=jpg; if [[ ! -e "$dest_folder/$x:r.$ext" ]] || [[ "$x" -nt "$dest_folder/$x:r.$ext" ]]
[13:31:39] <guidoc> convert -quiet -quality $quality -resize $resolution "$x" "$dest_folder/$x:r.$ext"
[13:33:19] *** Quits: trevors (~trevors@79.120.223.86) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:34:06] *** Joins: trevors (~trevors@79.120.223.86)
[13:35:30] <otisolsen70> What do you call :l, :e, :x etc?
[13:35:36] <otisolsen70> What is this mechanism called in zsh?
[13:35:47] <otisolsen70> File modifiers?
[13:37:48] <guidoc> modifiers
[13:37:55] <guidoc> man zshexpn
[13:38:12] <Mikachu> they work in multiple contexts, history expansion, parameter expanison, globs
[13:38:34] <otisolsen70> guidoc, is this what you mean?  https://paste.yt/p15618.html
[13:39:01] <guidoc> yes
[13:44:26] *** Quits: __jmcantrell__ (~weechat@user/jmcantrell) (Ping timeout: 268 seconds)
[13:46:08] <otisolsen70> guidoc, now nothing is generated for the .heic images.
[13:46:12] <otisolsen70> Not sure what went wrong.
[13:47:35] <otisolsen70> Oh. Got a parse error. Missing "; then"
[13:48:02] *** Quits: trevors (~trevors@79.120.223.86) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:48:23] <otisolsen70> Seems to work...
[13:48:54] *** Quits: Julian (~tos9@python/site-packages/Julian) (Ping timeout: 252 seconds)
[13:50:30] <guidoc> some tips
[13:50:35] <guidoc> (private|privat) => privat(e|)
[13:50:36] *** Joins: trevors (~trevors@79.120.223.86)
[13:50:42] *** Joins: Julian (~tos9@python/site-packages/Julian)
[13:50:57] <guidoc> setopt NO_CASE_GLOB so you don't have to specify upper case versions of extensions
[13:51:50] <guidoc> $year/2*/(^($~private_folders)/)#/*.($~photo_extensions)(N) $year/in/(^($~private_folders)/)#/*.($~photo_extensions)(N) => $year/{2*,in}/(^($~private_folders)/)#/*.($~photo_extensions)(N)
[13:52:14] <Mikachu> why not (2*|in)
[13:52:42] <guidoc> I remember timing it once and it was slower
[13:52:47] <guidoc> probably depends on the circumstances
[13:52:48] <guidoc> either is fine
[13:55:30] <guidoc> actually they take identical time
[13:55:51] <Mikachu> generally using {,} with globs is more confusing since it will textually expand to two separate globs
[13:56:11] <Mikachu> mostly a problem when not using (N) though
[13:57:09] <guidoc> yeah (2*|in) is good
[14:10:43] *** Joins: mali (~rambot@user/malina)
[14:15:25] *** Parts: nickjj (~nickjj@user/nickjj) (Leaving)
[14:26:26] *** Joins: m43cap (~user@host109-150-84-161.range109-150.btcentralplus.com)
[14:30:13] <otisolsen70> guidoc, Mikachu : Thanks to both of you. I've learned quite a bit. 
[14:30:37] <otisolsen70> guidoc, I will take your tips into consideration when the script has finised. It takes a while due to the shere amount of data
[14:39:22] *** Quits: trevors (~trevors@79.120.223.86) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:40:27] *** Quits: Julian (~tos9@python/site-packages/Julian) (Quit: leaving)
[14:42:42] *** Parts: m43cap (~user@host109-150-84-161.range109-150.btcentralplus.com) (ERC (IRC client for Emacs 28.0.50))
[14:45:15] *** Joins: trevors (~trevors@79.120.223.86)
[14:48:02] *** Joins: zephros (~zephros@2603-6010-0f00-1498-0000-0000-0000-0055.res6.spectrum.com)
[14:54:51] *** Quits: trevors (~trevors@79.120.223.86) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:55:39] *** Joins: trevors (~trevors@79.120.223.86)
[15:06:30] *** Quits: trevors (~trevors@79.120.223.86) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:12:22] *** Joins: trevors (~trevors@79.120.223.86)
[15:15:23] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[15:17:52] *** Joins: jklfds (~jklfds@user/jklfds)
[15:23:45] *** Quits: trevors (~trevors@79.120.223.86) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:27:59] *** Joins: kdudka_ (~kdudka@nat-pool-brq-t.redhat.com)
[15:30:52] *** Quits: kdudka (~kdudka@nat-pool-brq-t.redhat.com) (Ping timeout: 256 seconds)
[15:36:07] *** Quits: downunder (~downunder@110.151.19.142) (Quit: WeeChat 3.2)
[15:36:47] *** Quits: maledictium (~crux@bl10-83-37.dsl.telepac.pt) (Remote host closed the connection)
[15:42:41] *** Joins: trevors (~trevors@79.120.223.86)
[15:43:10] *** Quits: trevors (~trevors@79.120.223.86) (Client Quit)
[15:44:21] *** Joins: trevors (~trevors@79.120.223.86)
[15:46:22] *** Quits: guidoc (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f) (Quit: WeeChat 3.2)
[16:03:15] *** Quits: Kvothe (~weechat@user/elodin) (Ping timeout: 250 seconds)
[16:08:19] *** Joins: Elodin (~weechat@user/elodin)
[16:12:06] *** Joins: guidoc (~guido@host-87-11-251-168.retail.telecomitalia.it)
[16:12:18] *** Joins: ahmedelgabri (~ahmedelga@2a02-a446-d88a-1-e58e-50dd-ae02-6b90.fixed6.kpn.net)
[16:13:45] *** Quits: Elodin (~weechat@user/elodin) (Ping timeout: 265 seconds)
[16:15:10] *** Joins: Elodin (~weechat@user/elodin)
[16:21:25] *** Quits: MatrixTravelerbo (~voyagert2@2001:470:69fc:105::22) (Quit: Bridge terminating on SIGTERM)
[16:21:25] *** Quits: happy-dude (~happy-dud@2001:470:69fc:105::b4d7) (Quit: Bridge terminating on SIGTERM)
[16:21:25] *** Quits: jo-so (~jo-so@2001:470:69fc:105::176) (Quit: Bridge terminating on SIGTERM)
[16:21:26] *** Quits: anodae[m] (~anodaemat@2001:470:69fc:105::400a) (Quit: Bridge terminating on SIGTERM)
[16:21:26] *** Quits: hsiktas[m] (~hsiktasma@2001:470:69fc:105::30d4) (Quit: Bridge terminating on SIGTERM)
[16:21:26] *** Quits: xyy (~xyy@2001:470:69fc:105::f2d) (Quit: Bridge terminating on SIGTERM)
[16:21:27] *** Quits: eliasy[m] (~eliasymat@2001:470:69fc:105::3ff3) (Quit: Bridge terminating on SIGTERM)
[16:21:27] *** Quits: Delta[m] (~arjvikmat@2001:470:69fc:105::eeb) (Quit: Bridge terminating on SIGTERM)
[16:21:27] *** Quits: nicoulaj[m] (~nicoulajm@2001:470:69fc:105::c7c) (Quit: Bridge terminating on SIGTERM)
[16:21:30] *** Quits: Gamma[m] (~gamma@2001:470:69fc:105::97) (Quit: Bridge terminating on SIGTERM)
[16:21:37] *** Quits: Vipul[m] (~vipkrmatr@2001:470:69fc:105::b48) (Quit: Bridge terminating on SIGTERM)
[16:23:50] *** Joins: MatrixTravelerbo (~voyagert2@2001:470:69fc:105::22)
[16:27:06] *** Joins: Delta[m] (~arjvikmat@2001:470:69fc:105::eeb)
[16:27:06] *** Joins: jo-so (~jo-so@2001:470:69fc:105::176)
[16:27:06] *** Joins: anodae[m] (~anodaemat@2001:470:69fc:105::400a)
[16:27:06] *** Joins: hsiktas[m] (~hsiktasma@2001:470:69fc:105::30d4)
[16:27:06] *** Joins: eliasy[m] (~eliasymat@2001:470:69fc:105::3ff3)
[16:27:06] *** Joins: happy-dude (~happy-dud@2001:470:69fc:105::b4d7)
[16:27:06] *** Joins: xyy (~xyy@2001:470:69fc:105::f2d)
[16:27:17] *** Joins: Gamma[m] (~gamma@2001:470:69fc:105::97)
[16:27:18] *** Joins: Vipul[m] (~vipkrmatr@2001:470:69fc:105::b48)
[16:27:19] *** Joins: nicoulaj[m] (~nicoulajm@2001:470:69fc:105::c7c)
[16:31:57] *** Joins: cdown_ (~cdown@163.114.131.1)
[16:33:57] *** Joins: andril (~andril@2601:586:8400:113::1000)
[16:34:29] *** Joins: Guest1385 (~mold@2607:fea8:ff01:48aa:54d0:6126:aef2:4b6d)
[16:34:49] *** Quits: cdown (~cdown@89.32.122.5) (Ping timeout: 255 seconds)
[16:35:30] *** Quits: preisi (~preisi@prei.si) (Quit: WeeChat 2.3)
[16:35:42] *** Joins: preisi (~preisi@prei.si)
[16:36:31] *** Parts: Guest1385 (~mold@2607:fea8:ff01:48aa:54d0:6126:aef2:4b6d) ()
[16:36:46] *** Quits: Elodin (~weechat@user/elodin) (Ping timeout: 258 seconds)
[16:37:36] *** Joins: MoldyBread (~mold@2607:fea8:ff01:48aa:54d0:6126:aef2:4b6d)
[16:40:03] *** Quits: MoldyBread (~mold@2607:fea8:ff01:48aa:54d0:6126:aef2:4b6d) (Remote host closed the connection)
[16:42:09] *** Joins: mixfix41 (~user@user/mixfix41)
[16:50:12] *** Joins: Elodin (~weechat@user/elodin)
[16:53:55] *** Joins: Julian (~tos9@python/site-packages/Julian)
[16:58:04] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 268 seconds)
[17:11:06] *** Quits: andril (~andril@2601:586:8400:113::1000) (Read error: Connection reset by peer)
[17:17:10] *** Joins: iomari891 (~iomari891@105.112.138.38)
[17:20:09] <otisolsen70> guidoc, it looks like the test to see if $dest_folder contains a .jpg file already that is newer than the source .heic file does not seem to work. It seems to re-generate jpegs for *all* .heic files even if they did not change in source and already exist in dest. Any idea why?
[17:21:41] <guidoc> otisolsen70: can you paste the script again? it expired
[17:22:35] *** Joins: zeden (~zeden@user/zeden)
[17:25:35] *** qsx` is now known as qsx
[17:32:01] <otisolsen70> guidoc, sure: https://paste.yt/p15619.html
[17:35:55] *** Joins: maledictium (~crux@bl10-83-37.dsl.telepac.pt)
[17:39:52] *** Joins: ahmedelg1 (~ahmedelga@77-164-236-89.fixed.kpn.net)
[17:42:30] *** Quits: ahmedelgabri (~ahmedelga@2a02-a446-d88a-1-e58e-50dd-ae02-6b90.fixed6.kpn.net) (Ping timeout: 246 seconds)
[17:43:58] <Mikachu> otisolsen70: isn't that because you're deleting them before comparing the timestamps?
[17:45:21] <otisolsen70> Mikachu, am I?
[17:46:14] <Mikachu> the "# Delete files in destination that do not exist in the source" seems to delete all jpg files generated from heic files
[17:46:22] <otisolsen70> Mikachu, ah!
[17:46:35] <otisolsen70> Mikachu, yes, because those do not exist in source, obviously.
[17:46:47] <otisolsen70> Mikachu, well spotted!
[17:47:13] <otisolsen70> Mikachu, so I guess I have to change my check somehow to see if a jpg OR a heic file exists for each file in dest?
[17:49:20] <Mikachu> assuming you won't have a file with the same name other than the extension, you can just add :r on both sides
[17:49:29] <Mikachu> oh
[17:49:35] <Mikachu> you're not comparing the filenames directly there at all
[17:50:08] <Mikachu> then yeah, you have to change it somehow :)
[17:52:18] <guidoc> you can use [[ -e $orig || -e $orig:r.jpg || -e $orig:r.JPG ]]
[17:54:27] *** Quits: maledictium (~crux@bl10-83-37.dsl.telepac.pt) (Ping timeout: 255 seconds)
[17:54:41] <guidoc> and I would just convert all the media extensions you have to lower case (if you're not worried about new upper case files)
[17:55:03] <guidoc> noglob zmv -W **/*.JPG **/*.jpg
[17:58:40] <guidoc> after autoload -U zmv
[18:01:15] *** Quits: Julian (~tos9@python/site-packages/Julian) (Quit: leaving)
[18:02:25] *** Quits: dza (~dza@user/dza) (Read error: Connection reset by peer)
[18:05:09] <otisolsen70> guidoc, there might exist files with upper case filenames.
[18:05:34] <otisolsen70> guidoc, great tip with the zmv tip. I did not know that. I normally use the 'rename' util for this.
[18:07:13] <otisolsen70> guidoc, so just to make sure I understand correctly. I should change "[[ -e $orig  || -e $orig:r.jpg || -e $orig:r.JPG ]] || delete_candidates+=($x)" into: "[[ -e $orig ]] || delete_candidates+=($x)", yeah?
[18:07:28] <guidoc> rename is similar but more limited. vidir is another useful option
[18:08:05] <guidoc> yes
[18:08:58] *** Joins: carlos (~pum@user/carlos)
[18:13:06] <guidoc> I don't understand why you're calling rmdir on regular files
[18:20:48] <otisolsen70> guidoc, I just want to remove any existing folders. I guess I should just add (/)
[18:21:35] <otisolsen70> I probably cannot do that since it is in a variable..
[18:22:12] <otisolsen70> Anyway, rmdir does not do anything bad if given a file. It just does not delete it.
[18:22:41] <otisolsen70> Just like rm -vf does not do anything bad if given a folder. It just does not delete it.
[18:23:04] <otisolsen70> I think I could split the variable up into two lists: one with files + one with folders. And then first delete the files. Then the folders.
[18:23:10] <otisolsen70> I guess I just was a bit lazy.
[18:23:22] <guidoc> yeah but $dest_folder/**/*(.) will never contain directories
[18:23:51] <otisolsen70> guidoc, you're right.
[18:24:07] <otisolsen70> I guess I could just remove that line altogether.
[18:24:13] <otisolsen70> It is in two places actually.
[18:24:17] <guidoc> what's wrong with just for x in $dest_folder/**/*; do ...   rm -r $delete_canditates
[18:24:59] <otisolsen70> guidoc, I guess I dont want to delete any non-empty folders.
[18:28:11] *** Joins: arcatech (~arcatech@user/arcatech)
[18:30:28] <guidoc> if there wasn't the jpg extension difference, this could be done elegantly by calculating the difference of the arrays with the files in the original and backup directories
[18:30:33] <guidoc> original_files=(**)
[18:30:35] <guidoc> destination_files=($dest_folder/**/*)
[18:30:37] <guidoc> destination_files=${destination_files#$dest_folder/}
[18:30:39] <guidoc> rm -r ${destination_files:|original_files}
[18:30:41] *** Joins: maledictium (~crux@bl10-83-37.dsl.telepac.pt)
[18:30:58] <otisolsen70> Oh yeah, that is nice.
[18:43:10] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Quit: john_johnk)
[18:43:28] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[18:48:08] *** Quits: ahmedelg1 (~ahmedelga@77-164-236-89.fixed.kpn.net) (Ping timeout: 240 seconds)
[18:52:22] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Quit: john_johnk)
[18:52:52] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[18:57:33] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[19:15:11] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-e58e-50dd-ae02-6b90.fixed6.kpn.net)
[19:16:10] *** Quits: mali (~rambot@user/malina) (Quit: WeeChat 3.1)
[19:33:08] *** Joins: malina (~malina@user/malina)
[19:38:13] *** Quits: malina (~malina@user/malina) (Quit: malina)
[19:45:32] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-e58e-50dd-ae02-6b90.fixed6.kpn.net) (Quit: WeeChat 3.2)
[19:51:27] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 255 seconds)
[20:04:33] *** Quits: trevors (~trevors@79.120.223.86) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:05:43] *** Joins: trevors (~trevors@79.120.223.86)
[20:15:53] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[20:18:17] *** Joins: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net)
[20:20:50] *** Quits: trevors (~trevors@79.120.223.86) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:22:50] *** Joins: trevors (~trevors@79.120.223.86)
[20:23:40] *** Quits: trevors (~trevors@79.120.223.86) (Client Quit)
[20:45:48] *** Joins: BT (~BT@user/lightstalker)
[20:46:19] *** Quits: lightstalker (~BT@user/lightstalker) (Ping timeout: 258 seconds)
[20:49:42] *** Joins: Julian (~tos9@python/site-packages/Julian)
[20:51:50] *** Joins: trevors (~trevors@catv-89-132-207-129.catv.broadband.hu)
[20:52:03] *** Quits: catman (~catman@user/catman370) (Remote host closed the connection)
[21:03:51] *** Quits: kdudka_ (~kdudka@nat-pool-brq-t.redhat.com) (Quit: Leaving)
[21:17:13] *** Quits: ablutor (~quassel@wasscher.com) (Quit: going for vitamine d)
[21:18:08] *** Joins: ablutor (~quassel@wasscher.com)
[21:18:10] *** Joins: e1f (~user@141.117.1.144)
[21:28:40] *** Quits: Julian (~tos9@python/site-packages/Julian) (Quit: leaving)
[21:31:48] *** Quits: trevors (~trevors@catv-89-132-207-129.catv.broadband.hu) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:32:26] *** Quits: bartholin (~bartholin@158.110.154.82) (Quit: Leaving)
[21:41:50] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Quit: john_johnk)
[21:44:17] *** Joins: Sasazuka (~Sasazuka@user/sasazuka)
[21:46:10] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[21:50:31] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[21:57:47] *** Quits: Pseudocrat (~sudo@user/pseudocrat) (Quit: WeeChat 3.3-dev)
[22:03:28] *** Joins: Pseudocrat (~sudo@user/pseudocrat)
[22:19:43] <Exa> Hi, let's say I have a directory foobar, which is matched by foo*.  I want to create a file foobar/baz while using pattern matching for the foobar directory.  Trying "foo*/baz" will say no matches found, of course.  Is there a workaround (for interactive use)?  The current one I have in mind is using cd in the directory first.  Thanks.
[22:20:18] <llua> () { ... $^@/baz } foo*
[22:21:13] <Exa> llua: nice, I didn't think about it
[22:21:57] <guidoc> just press tab after*?
[22:23:15] <Exa> guidoc: ah right, it even works on default config, this is what I was looking for, thanks
[22:23:34] <guidoc> you don't even need to type * actually
[22:23:45] <guidoc> just complete the directory name
[22:24:01] <Exa> just for the record, what is $^@ compared to $@?
[22:24:39] <llua> sets RC_EXPAND_PARAM
[22:24:54] <llua> since foo* can expand to multiple files
[22:25:40] <Exa> thanks, I see the difference
[22:25:44] *** Quits: lemonzest (~lemonzest@user/lemonzest) (Quit: Quitting)
[22:27:10] *** Quits: zephros (~zephros@2603-6010-0f00-1498-0000-0000-0000-0055.res6.spectrum.com) (Quit: WeeChat 3.2)
[22:34:36] *** Joins: dza (~dza@user/dza)
[22:51:56] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 252 seconds)
[22:54:17] *** Joins: vortoe (~vortoe@87-95-73-173.bb.dnainternet.fi)
[22:58:53] *** Quits: vortoe (~vortoe@87-95-73-173.bb.dnainternet.fi) (Client Quit)
[23:21:17] *** Joins: ahmedelgabri (~ahmedelga@2a02-a446-d88a-1-991b-80f1-b4ec-6d21.fixed6.kpn.net)
[23:30:00] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3-dev)
[23:32:35] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Remote host closed the connection)
[23:33:34] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[23:39:10] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.0.1)
[23:39:40] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[23:42:10] *** Quits: Szadek_ (~Szadek@193.27.14.141) (Ping timeout: 256 seconds)
[23:42:30] *** Quits: guidoc (~guido@host-87-11-251-168.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[23:56:03] *** Joins: ixqqwx (~ixqqwx@185.65.135.179)
[23:58:19] *** Joins: xantam (~xantam@p200300cd871a020065ed167baa31869c.dip0.t-ipconnect.de)
