[00:01:39] *** Joins: ExeciN (~ExeciN@user/nicexe)
[00:12:03] *** Joins: XATRIX (~xatrix@176.108.186.2)
[00:12:27] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[00:17:11] *** Joins: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr)
[00:24:27] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[00:24:32] *** Quits: XATRIX (~xatrix@176.108.186.2) (Quit: Goodbye and wish you luck!)
[00:24:55] *** Joins: XATRIX (~xatrix@176.108.186.2)
[00:26:46] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Client Quit)
[00:32:29] *** Quits: gproto23 (~gproto23@user/gproto23) (Remote host closed the connection)
[00:32:52] *** Quits: jushur (~human@user/jushur) (Quit:  ¯\_(ツ)_/¯)
[00:39:55] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[00:40:48] *** Joins: docmax (~docmax@dynamic-077-001-191-041.77.1.pool.telefonica.de)
[00:41:14] <docmax> is the expose port not for letting other containers see that port?
[00:42:44] <rawtaz> which setting are you talking about? the EXPOSE directive in a Dockerfile, or the ports: section in a Docker Compose file?
[00:49:18] *** Quits: dob1 (~dob1@user/dob1) (Quit: quit)
[00:51:07] *** Quits: Aavar (~aavar@111.92-221-61.customer.lyse.net) (Quit: Haddebrah!)
[00:52:02] *** Joins: Aavar (~aavar@111.92-221-61.customer.lyse.net)
[00:58:07] *** Joins: itsalexjones (~itsalexjo@82.4.99.241)
[01:03:28] <tabakhase> docmax EXPOSE was used with --link, and is sued when you "-P" (publish all on random ports) --- its not needed for container<->container, and also not for "actually publsihed ports" - link is dead, but you still see EXPOSE around these days as its a neat little way to document what port to use to the user :P (((and some things abuse that as healtprobe - looking at you gitlab-ci...)))
[01:07:52] <docmax> rawtaz, docker compose or stacks in portainer
[01:08:08] <docmax> how can i reach exposed port from one to another container?
[01:08:49] <docmax> if i expose port 3000 on container1
[01:09:02] <docmax> in container2, can i do a localhost:3000?
[01:09:13] <docmax> or is it container1:3000?
[01:11:04] <akik> docmax: localhost is internal for each container
[01:12:01] <docmax> ok, then how can i reach the other container? the hostname?
[01:13:01] <rawtaz> docmax: if you have multiple containers in the same compose solution, simply use the other container's service name as the hostname
[01:13:12] <rawtaz> assuming they are accessible over the same docker network of course
[01:13:39] <rawtaz> so in your case container1 on port 3000
[01:13:43] <rawtaz> or well, no
[01:13:51] <rawtaz> container1 on whatever port the service inside that container is listening on
[01:14:04] <rawtaz> this has nothing to do with what port you publish on the host
[01:15:50] *** Joins: dob1 (~dob1@user/dob1)
[01:16:03] *** Joins: luc4 (~manjaro-u@host-87-8-234-44.retail.telecomitalia.it)
[01:25:48] *** Quits: dob1 (~dob1@user/dob1) (Ping timeout: 252 seconds)
[01:25:50] *** Joins: dob1_ (~dob1@user/dob1)
[01:27:50] *** Quits: PeGaSuS (WeeChat@user/pegasus) (Quit: Goodbye! - WeeChat 3.4)
[01:28:53] *** Joins: PeGaSuS (WeeChat@user/pegasus)
[01:32:06] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[01:40:44] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[01:44:11] *** Quits: PeGaSuS (WeeChat@user/pegasus) (Remote host closed the connection)
[01:44:50] *** Joins: PeGaSuS (WeeChat@user/pegasus)
[01:46:34] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[01:50:51] *** Joins: trevors (~trevors@user/trevors)
[01:51:44] *** dob1_ is now known as dob1
[02:00:34] *** Quits: cotko (~cotko@188-230-251-153.dynamic.t-2.net) (Ping timeout: 272 seconds)
[02:05:13] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[02:06:49] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Ping timeout: 256 seconds)
[02:07:12] *** Quits: PeGaSuS (WeeChat@user/pegasus) (Remote host closed the connection)
[02:07:37] *** Joins: gormenghast (~gormengha@2a01:e0a:1fb:3af0:1c6:c007:3b2:44b6)
[02:07:51] *** Joins: PeGaSuS (WeeChat@user/pegasus)
[02:08:22] *** Joins: trevors (~trevors@user/trevors)
[02:08:31] *** Quits: realies (~realies@user/realies) (Ping timeout: 256 seconds)
[02:11:03] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[02:12:22] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[02:18:27] *** Quits: Czernobog (~Czernobog@user/czernobog) (Quit: ZNC 1.8.2 - https://znc.in)
[02:19:36] *** Quits: PeGaSuS (WeeChat@user/pegasus) (Quit: Goodbye! - WeeChat 3.4.1)
[02:19:55] *** Joins: Czernobog (~Czernobog@user/czernobog)
[02:21:00] *** Quits: XATRIX (~xatrix@176.108.186.2) (Ping timeout: 250 seconds)
[02:23:01] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[02:23:02] *** Joins: XATRIX (~xatrix@176.108.186.2)
[02:23:15] *** Joins: epicout (~epicout@user/epicout)
[02:24:39] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[02:25:58] *** Quits: XATRIX (~xatrix@176.108.186.2) (Client Quit)
[02:29:10] <docmax> is it possible in portainer to put an apt-get install packagage somewhere after container build?
[02:30:02] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Remote host closed the connection)
[02:30:29] *** Joins: Sven_vB (~sven@user/sven-vb/x-2094958)
[02:33:04] *** Quits: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net) (Quit: Bye)
[02:39:25] *** Joins: bindu_ (~bindu@user/bindu)
[02:39:55] *** Quits: bindu (~bindu@user/bindu) (Ping timeout: 240 seconds)
[02:41:22] *** bindu_ is now known as bindu
[02:43:43] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[02:49:52] *** Quits: gormenghast (~gormengha@2a01:e0a:1fb:3af0:1c6:c007:3b2:44b6) (Quit: Quit)
[02:52:34] *** Quits: rv1sr (~rv1sr@user/rv1sr) ()
[02:53:09] *** Joins: PeGaSuS (WeeChat@user/pegasus)
[02:55:10] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:57:07] <rawtaz> docmax: doesnt make sense. if you want that installation to be done in that same docker image, put it in its Dockerfile. if you want to build another image that contains just the first docker image as the base and then a second image with just the install in it, you can do that too with a second Dockerfile
[02:57:17] <rawtaz> please epxlain the X in XY instead :)
[02:58:53] *** Joins: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net)
[03:02:53] *** Quits: spacenautx (~spacenaut@user/spacenautx) (Quit: WeeChat 3.4)
[03:04:32] *** Joins: luckiswithme (~luckiswit@149.167.161.64)
[03:08:03] *** Joins: ExeciN (~ExeciN@user/nicexe)
[03:08:08] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[03:10:15] *** Joins: hojasuelta (~hojasuelt@66-90-137-4.dyn.grandenetworks.net)
[03:11:13] *** Quits: luc4 (~manjaro-u@host-87-8-234-44.retail.telecomitalia.it) (Quit: Konversation terminated!)
[03:17:47] *** Joins: trevors (~trevors@user/trevors)
[03:26:28] *** Quits: ivii (~ivan@user/ivii) (Remote host closed the connection)
[03:28:41] *** Joins: Tacoder (~Tacoder@2806:264:5482:9e0:41a9:db03:a62f:f2fb)
[03:44:17] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[03:48:48] *** Quits: tex (~dix@user/dix) (Ping timeout: 252 seconds)
[03:49:30] *** Joins: realies (~realies@user/realies)
[03:53:10] *** Quits: realies (~realies@user/realies) (Client Quit)
[03:57:02] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[03:59:27] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca)
[04:16:32] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[04:17:34] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 250 seconds)
[04:33:14] *** Joins: trevors (~trevors@user/trevors)
[04:36:39] *** Quits: Tacoder (~Tacoder@2806:264:5482:9e0:41a9:db03:a62f:f2fb) (Ping timeout: 252 seconds)
[04:39:35] *** Quits: hojasuelta (~hojasuelt@66-90-137-4.dyn.grandenetworks.net) (Remote host closed the connection)
[04:43:52] *** Joins: junktext (~junktext@gateway/vpn/pia/junktext)
[04:46:23] *** Joins: axisys (~axisys@ec2-52-207-123-244.compute-1.amazonaws.com)
[04:47:20] *** Parts: axisys (~axisys@ec2-52-207-123-244.compute-1.amazonaws.com) ()
[04:48:52] *** Joins: hojasuelta (~hojasuelt@66-90-137-4.dyn.grandenetworks.net)
[04:49:39] *** Joins: Tacoder (~Tacoder@2806:264:5482:9e0:bc19:1ff6:d503:1de0)
[04:54:54] *** Quits: hojasuelta (~hojasuelt@66-90-137-4.dyn.grandenetworks.net) ()
[04:58:31] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Ping timeout: 256 seconds)
[05:20:19] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[05:30:42] *** Joins: realies (~realies@user/realies)
[05:30:55] *** Quits: itsalexjones (~itsalexjo@82.4.99.241) (Read error: Connection reset by peer)
[05:39:23] *** Joins: docmax_ (~docmax@dynamic-095-116-006-210.95.116.pool.telefonica.de)
[05:41:00] *** Quits: docmax (~docmax@dynamic-077-001-191-041.77.1.pool.telefonica.de) (Ping timeout: 240 seconds)
[05:43:45] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[05:44:47] *** Joins: gamara (~gamara@cpe9050cade20e3-cm9050cade20e0.cpe.net.cable.rogers.com)
[05:52:47] <gamara> Hey I am trying to run a docker-compose in production and its giving me an error on line 16 https://pastebin.com/CvZJrfJf I want my webserver to forward php requests to 127.0.0.1:9000 I have tried setting and unsetting the environment variable this works in development so I odnt know whats going on. My Docker Version is : Docker version
[05:52:47] <gamara> 20.10.5+dfsg1, build 55c4c88 and docker-compose is docker-compose version 1.25.0, build unknown
[05:59:50] *** Quits: emerent (~quassel@p200300cd5743c31aba27ebfffed28a59.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[05:59:50] <rawtaz> gamara: not sure how you mean there. your webserver is the one running in the container, right? you dont have THAT forward to your host's 127.0.0.1 - you generally would forward traffic coming in on the host onwards into the container.
[06:00:18] <rawtaz> regardless, the problem doesnt have anything to do with line 16 i believe, it seems that compose is a bit confused about your services there
[06:00:49] <rawtaz> if you run `docker compose config` what do you get?
[06:00:53] *** Joins: emerent (~quassel@p200300cd5743c32cba27ebfffed28a59.dip0.t-ipconnect.de)
[06:01:54] *** Quits: tsal (~tsal@user/tsal) (Ping timeout: 252 seconds)
[06:02:53] <gamara> I have my webserver running on VPS
[06:03:40] <gamara> ERROR: Invalid interpolation format for "front" option in service "services": "${DOCKER_FRONT_PORT_FORWARD:-127.0.0.1:9000}:9000"
[06:05:30] <gamara> is what I get when I run `docker compose config`  I have my nginx webserver running on the host machine, I am forwarding traffic from port 443 to http://localhost:9000
[06:06:01] <rawtaz> ok, figures
[06:06:25] *** Quits: luckiswithme (~luckiswit@149.167.161.64) (Remote host closed the connection)
[06:06:30] <rawtaz> hm can you try just commenting out that line and the ports: line above it, and then see what that config command says again?
[06:06:38] <gamara> sure
[06:06:47] <rawtaz> im curious how docker compose sees this config, cuz it seems wrong that it thinks your service is named "services"
[06:07:10] <gamara> ERROR: The Compose file './docker-compose.yml' is invalid because:
[06:07:10] <gamara> Unsupported config option for services: 'front'
[06:07:40] <rawtaz> i'd presume theres something wrong with your yaml syntax
[06:07:42] <gamara> weird I have run this in development and done test runs running prod on this file
[06:07:55] *** Joins: tsal (~tsal@user/tsal)
[06:08:18] <gamara> thanks for hte help btw I really appreciate it
[06:09:01] <rawtaz> try this: completely delete the empty line after the services: line. then put marker after services: and press enter to create a new line. then try again
[06:09:04] <rawtaz> np
[06:09:07] <rawtaz> yaml is finicky
[06:09:10] <rawtaz> so is docker :P
[06:23:16] <gamara> Figures now my github connection is completely broken -_-
[06:25:21] *** Quits: jaysicks (~jaysicks@178-164-134-178.pool.digikabel.hu) (Remote host closed the connection)
[06:27:12] <rawtaz> :O
[06:33:59] *** Quits: lemonsnicks (~lemonsnic@cpc159519-perr18-2-0-cust114.19-1.cable.virginm.net) (Quit: ZNC 1.8.2 - https://znc.in)
[06:40:33] <rawtaz> did you try what i suggested?
[06:42:14] <gamara> I want to but everything is now broken ;_;
[06:46:57] <JohnDoe1> lol this is insane, out of the blue my lxc container lost ipv4 address. I switched to manual IP assignment, restarted it, restarted the host, but no matter what I do I cannot get to portainer again except from within the lxc container. When I try to curl the address from any other computer on the network or the host itself I get a connection reset by peer
[06:47:12] <tabakhase> that looks like some broken break or other char indeed...
[06:47:21] <rawtaz> but you had the compose file there, if you just changed that one thing then it shouldnt be different
[06:47:42] <rawtaz> tabakhase: yeah. also notice how in the paste that specific empty line i mentioned has a fishy indent in the frame on the pastebin..
[06:47:50] *** Joins: oops (~oops@user/oops)
[06:48:17] <rawtaz> gamara: try this: https://kopy.io/vii4n
[06:48:29] <rawtaz> it the same as you pasted, just repasted, and it works fine here for me
[06:48:51] <oops> my docker engine version is 20.10.12, which docker-compose ought to be selected ?
[06:48:57] <tabakhase> and hunt for something like this in your editor https://i.imgur.com/PNT1pE2.png
[06:50:16] <rawtaz> oops: the newest one, version 2.x
[06:50:34] <rawtaz> oops: the non-python one, Go based
[06:50:41] <tabakhase> no version: tag in that compose file either?
[06:50:52] <rawtaz> nope, thats for pussies :P
[06:51:07] <tabakhase> (its never 100% clear if people just post a cutout of there compose, or actually the whole file :P)
[06:51:46] <rawtaz> heh true
[06:52:15] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[06:52:24] *** Joins: lemonsnicks (~lemonsnic@cpc159519-perr18-2-0-cust114.19-1.cable.virginm.net)
[06:52:35] <rawtaz> gamara: so does that file i gave you work?
[06:52:46] <rawtaz> can you run `docker compose config` with it without errors?
[06:53:14] <gamara> I just tried it
[06:53:18] <gamara> still giving the same error
[06:53:55] <rawtaz> did you literally copy paste thestuff from my paste there into a new file and named that docker-compose.yaml or .yml after renaming the other one to something else?
[06:54:02] <gamara> yes
[06:54:05] <rawtaz> i mean, it works here. not sure why it wouldnt work for you
[06:54:11] <rawtaz> what exact compose command are you running?
[06:54:46] <gamara> im using the one in debian-buster repo
[06:54:58] <gamara> docker-compose version 1.25.0, build unknown
[06:55:02] <rawtaz> ok
[06:55:08] <rawtaz> might be an old version issue then
[06:55:15] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 240 seconds)
[06:55:20] <gamara> yeah I was thinking that might be the case too ;_;
[06:55:29] *** Quits: nobiz (~nobiz@user/nobiz) (Ping timeout: 250 seconds)
[06:55:38] <rawtaz> but even if i try it with docker-compose, docker-compose version 1.29.2, build 5becea4c, it works fine here
[06:55:54] *** Quits: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net) (Quit: Bye)
[06:55:55] *** Joins: trevors (~trevors@user/trevors)
[06:56:28] <rawtaz> well im sure you can figure this out sooner or later. i have to go sleep though, past 4am
[06:57:12] <tabakhase> just tried what raw. had pasted back with a old compose - also works just fine
[06:57:31] <gamara> yeah I tested both on my local dev and they are fine lol
[06:57:32] <tabakhase>  1.28 specifically
[06:57:39] <gamara> I think its just that version is old
[06:58:01] <tabakhase> and "debian repo" is pretty wrong for docker - for docker itself, but even more so for tooling
[06:58:19] <tabakhase> uninstall that, and download the binary directly from github
[06:59:55] *** Quits: steerpike (~echelon@gateway/tor-sasl/steerpike) (Ping timeout: 240 seconds)
[06:59:56] *** Joins: hackers (~self@user/hackers)
[06:59:59] *** hackers is now known as remote
[06:59:59] *** Joins: jazzy (~jaziz@user/jaziz)
[07:00:19] <tabakhase> just a `curl -L https://github.com/docker/compose/releases/download/v2.3.3/docker-compose-$(uname -s)-$(uname -m) -o /usr/local/bin/docker-compose && chmod +x /usr/local/bin/docker-compose` or such should be all thats needed
[07:00:59] <gamara> thanks so much for the help I really appreciate it
[07:01:38] <gamara> also was wondering if I could get clarification the {$ENVIRONMENT_VARIABLE:-9000} in docker just defaults to 9000 if there is not ENVIRONMENT_VARIABLE environment variable right?
[07:02:10] <tabakhase> twisted the $ {, but yep
[07:02:54] <gamara> thanks again :)  I really appreciate the help
[07:03:02] <tabakhase> `docker-compose config` is rly nice to verify such things ;-)
[07:03:03] <rawtaz> there is also :? which means that if it isnt defined at all OR is empty, use the default
[07:04:57] <rawtaz> oh sorry i mixed that up, with :? you set an error message instead of a default.
[07:05:01] <rawtaz> all explained here: https://docs.docker.com/compose/environment-variables/#substitute-environment-variables-in-compose-files
[07:05:13] <gamara> Thanks so much this is super helpful :)
[07:05:23] <tabakhase> gamara now asside from that --- "you are using env_file wrong" - ".env" is what docker-compose shall consume, you may use those in compose, or "flag them to be transmitted" by just repeating the name in environment: -- while the whole "env_file" is more "this whoooooole list of things shall go to this container"
[07:05:28] <rawtaz> so for required vars i recommend :? and for defaults i recommend :- like youre already using
[07:05:30] *** Quits: oops (~oops@user/oops) (Quit: Leaving)
[07:06:13] <tabakhase> so, you may see things like "env_file: - db.env" as random example
[07:06:43] <gamara> so the env_file only exists to move environment variables inside the container?
[07:07:05] <tabakhase> putting this to multiple containers is also totally fine ofc -- key is that "the main .env" is for compose only
[07:09:17] <tabakhase> technically may not rly make a difference for you right there right now --- BUT, .env has your sql PW, so this should not go in git
[07:09:22] <rawtaz> gamara: docker compose will read a .env file automatically, no need to configure that. but if you want to specify specific files it should read env vars from, you can use env_file.
[07:10:05] <gamara> I have my .env file in .gitignore, oh so env_file isn't even necessary I think I read that
[07:10:26] <rawtaz> not as long as you use a .env file in the same dir
[07:11:31] *** Quits: DoofusCanadensis (~DoofusCan@2604:3d09:47c:f970::fb) (Quit: So long, suckers)
[07:11:52] <tabakhase> one goes "to composer" (who can then ofc use those vars to send further to the container again) - while the other goes _directly_ to the container (and in full!)
[07:12:50] * rawtaz &
[07:13:09] <tabakhase> if you find yourself with a compoose-file that has a 20 line long hardcoded environment: block then env_file helps :P
[07:13:45] <tabakhase> (and it makes even more sense with "docker-cli" rather then compose tbh^^ :p)
[07:19:59] *** Joins: CombatVet (~c4@user/combatvet)
[07:20:26] *** Joins: catbehemoth (~vasyl@bras-base-lnglpq6100w-grc-16-206-172-248-192.dsl.bell.ca)
[07:23:19] *** Joins: nobiz (~nobiz@user/nobiz)
[07:23:49] *** Joins: luckiswithme (~luckiswit@2405:6e00:b29:3b00:4df5:c62e:6ed6:770c)
[07:25:45] *** Joins: steerpike (~echelon@gateway/tor-sasl/steerpike)
[07:26:35] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca) (Read error: Connection reset by peer)
[07:27:42] *** Quits: Tacoder (~Tacoder@2806:264:5482:9e0:bc19:1ff6:d503:1de0) (Ping timeout: 252 seconds)
[07:31:45] *** Joins: Tacoder (~Tacoder@2806:264:5482:9e0:bc19:1ff6:d503:1de0)
[07:34:58] *** Quits: notsponsible (~notsponsi@185.202.220.71) ()
[07:35:16] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[07:43:01] *** Joins: notsponsible (~notsponsi@185.202.220.71)
[07:49:34] *** Quits: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net) (Remote host closed the connection)
[07:52:25] *** Joins: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net)
[07:55:37] *** Quits: luckiswithme (~luckiswit@2405:6e00:b29:3b00:4df5:c62e:6ed6:770c) (Ping timeout: 240 seconds)
[08:05:25] *** Joins: Atque (~Atque@user/atque)
[08:08:01] *** Joins: ekathva (~ekathva@n16iytldzw0rbah2i-1.v6.elisa-mobile.fi)
[08:11:11] *** Quits: gamara (~gamara@cpe9050cade20e3-cm9050cade20e0.cpe.net.cable.rogers.com) (Ping timeout: 256 seconds)
[08:17:08] *** Joins: luckiswithme (~luckiswit@2405:6e00:b29:3b00:4df5:c62e:6ed6:770c)
[08:26:12] *** Quits: burrows (burrows@user/burrows) (Quit: Probably rebooting)
[08:27:40] *** Joins: burrows (burrows@user/burrows)
[08:38:29] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Remote host closed the connection)
[08:38:46] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[08:44:12] *** Quits: luckiswithme (~luckiswit@2405:6e00:b29:3b00:4df5:c62e:6ed6:770c) (Ping timeout: 240 seconds)
[08:56:02] *** Joins: monoxane0 (~monoxane@user/monoxane)
[08:58:13] *** Quits: monoxane (~monoxane@user/monoxane) (Ping timeout: 256 seconds)
[08:58:25] *** Joins: monoxane8 (~monoxane@user/monoxane)
[09:00:21] *** Quits: victori (~victori@cpe-76-89-139-69.socal.res.rr.com) (Quit: ZNC 1.8.2 - https://znc.in)
[09:00:29] *** Quits: monoxane0 (~monoxane@user/monoxane) (Ping timeout: 256 seconds)
[09:08:57] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[09:23:30] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[09:26:58] *** Quits: martums59 (~martums@user/martums) (Ping timeout: 250 seconds)
[09:30:05] *** Quits: polymorphic (~polymorph@user/polymorphic) (Quit: polymorphic)
[09:31:16] *** Joins: polymorphic (~polymorph@user/polymorphic)
[09:35:42] *** Quits: Tacoder (~Tacoder@2806:264:5482:9e0:bc19:1ff6:d503:1de0) (Read error: Connection reset by peer)
[09:36:06] *** Joins: Tacoder (~Tacoder@2806:264:5482:9e0:bc19:1ff6:d503:1de0)
[09:55:28] *** Joins: zingos (~zingos@143.198.48.220)
[09:57:06] <zingos> Hello, I've been trying for a while to get an answer for this without success, would appreciate hearing something about it. I want to be able to somehow create an instance of Docker that is one time only, practically that means while it's running, the same instance and its data cannot be re-opened concurrently. Is this possible?
[10:18:38] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[10:18:41] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 256 seconds)
[10:20:56] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[10:22:41] *** Joins: Atque (~Atque@user/atque)
[10:25:48] *** Quits: remote (~self@user/hackers) (Ping timeout: 240 seconds)
[10:27:16] *** Joins: remote (~self@user/hackers)
[10:32:28] *** Quits: notsponsible (~notsponsi@185.202.220.71) ()
[10:36:20] *** Joins: ekathva_ (~ekathva@mobile-access-5672f9-153.dhcp.inet.fi)
[10:38:36] *** Quits: ekathva (~ekathva@n16iytldzw0rbah2i-1.v6.elisa-mobile.fi) (Ping timeout: 240 seconds)
[10:46:52] *** OPK_ is now known as OPK2
[10:49:03] *** Joins: notsponsible (~notsponsi@185.202.220.71)
[10:52:34] *** Joins: iomari891 (~iomari891@102.91.5.46)
[10:54:57] *** Quits: ekathva_ (~ekathva@mobile-access-5672f9-153.dhcp.inet.fi) (Read error: Connection reset by peer)
[10:56:13] *** Joins: ekathva_ (~ekathva@n16izluvk39q3lx3y-1.v6.elisa-mobile.fi)
[11:07:21] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[11:08:15] *** Joins: tex (~dix@user/dix)
[11:09:46] *** Quits: Czernobog (~Czernobog@user/czernobog) (Quit: ZNC 1.8.2 - https://znc.in)
[11:11:36] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[11:13:21] *** Quits: toulene (~toulene@user/toulene) (Quit: Ping timeout (120 seconds))
[11:14:16] *** Joins: toulene (~toulene@user/toulene)
[11:16:40] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[11:17:49] *** Joins: asdf__ (~slashasdf@030-245-128-083.dynamic.caiway.nl)
[11:22:23] *** Joins: ExeciN (~ExeciN@user/nicexe)
[11:23:37] *** Quits: toulene (~toulene@user/toulene) (Ping timeout: 272 seconds)
[11:24:24] *** Joins: Czernobog (~Czernobog@user/czernobog)
[11:25:13] *** Joins: toulene (~toulene@user/toulene)
[11:26:09] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Ping timeout: 272 seconds)
[11:30:15] *** Quits: Tacoder (~Tacoder@2806:264:5482:9e0:bc19:1ff6:d503:1de0) (Ping timeout: 252 seconds)
[11:31:00] *** Joins: nwulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[11:34:39] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 252 seconds)
[11:35:51] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[11:39:08] *** Quits: nwulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 250 seconds)
[11:53:37] *** Quits: Leonarbro (~Leonet@user/leonarbro) (Read error: Connection reset by peer)
[11:59:42] *** Joins: luckiswithme (~luckiswit@149.167.160.80)
[12:03:41] *** Quits: toulene (~toulene@user/toulene) (Quit: The Lounge - https://thelounge.chat)
[12:05:42] *** Joins: nemexis (~nemexis@193-62-201-31.ftth.glasoperator.nl)
[12:06:52] *** Quits: cim (~cim@205.185.117.110) (Quit: Ping timeout (120 seconds))
[12:07:04] *** Joins: cim (~cim@205.185.117.110)
[12:08:11] *** Quits: luckiswithme (~luckiswit@149.167.160.80) (Read error: Connection reset by peer)
[12:09:51] *** Joins: lithium (~lithium@user/lithium)
[12:13:09] *** Quits: Furai (~Furai@furai.pl) (Remote host closed the connection)
[12:13:35] *** Joins: Furai (~Furai@furai.pl)
[12:13:36] *** Joins: toulene (~toulene@user/toulene)
[12:21:00] *** Quits: kostkon_ (~androirc@athedsl-393845.home.otenet.gr) (Ping timeout: 240 seconds)
[12:22:54] *** Joins: luckiswithme (~luckiswit@149.167.160.80)
[12:29:55] *** Joins: kostkon_ (~androirc@2.142.66.94.static.otenet.gr)
[12:30:10] *** Quits: justAstache (~justache@user/justache) (Read error: Connection reset by peer)
[12:31:33] *** Joins: justAstache (~justache@user/justache)
[12:46:24] *** Joins: KpuCko (~KpuCko@37-143-213-227.sf.ddns.bulsat.com)
[12:51:16] *** Quits: dmvrtx (~dmvrtx@znc.dmvrtx.me) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[12:53:04] *** Joins: gproto23 (~gproto23@user/gproto23)
[13:06:01] *** Quits: Czernobog (~Czernobog@user/czernobog) (Quit: ZNC 1.8.2 - https://znc.in)
[13:06:36] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[13:07:58] *** Joins: rsx (~dummy@ppp-188-174-137-205.dynamic.mnet-online.de)
[13:13:47] *** Joins: fercell (~ferr@185.65.50.39)
[13:17:40] *** Joins: Czernobog (~Czernobog@user/czernobog)
[13:19:00] *** Quits: rvalue (~rvalue@user/rvalue) (Quit: ZNC - https://znc.in)
[13:27:57] <[twisti]> i am having the strangest problem
[13:28:53] <[twisti]> ls -a <dir> shows 20 files, `docker run -it --rm <dir>:/bla:ro ls -a /bla` shows like 3
[13:29:23] <[twisti]> how can that be ? ignore files shouldnt affect it, and arent there anyways, im at a total loss as to whats going on
[13:29:45] *** Joins: itsalexjones (~itsalexjo@82.4.99.241)
[13:30:03] <[twisti]> aaaaand rubber duck'd. disregard me. trying to mount local volume to remote docker host = not a good idea :D
[13:33:37] <ikke> zingos: don't think docker itself offers something for that. You could probably use some sort of lockfile that is being checked
[13:42:07] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 256 seconds)
[13:43:08] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[13:45:34] *** Quits: luckiswithme (~luckiswit@149.167.160.80) (Read error: Connection reset by peer)
[13:45:58] *** Joins: bouncy (~ben@user/benoit)
[13:53:35] *** Quits: iomari891 (~iomari891@102.91.5.46) (Quit: WeeChat 3.3)
[14:07:53] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[14:10:02] *** Joins: realies (~realies@user/realies)
[14:23:18] *** Joins: jaysicks (~jaysicks@178-164-134-178.pool.digikabel.hu)
[14:29:47] *** Joins: cotko (~cotko@188-230-251-153.dynamic.t-2.net)
[14:36:31] *** Quits: junktext (~junktext@gateway/vpn/pia/junktext) (Ping timeout: 256 seconds)
[14:42:54] *** Quits: ekathva_ (~ekathva@n16izluvk39q3lx3y-1.v6.elisa-mobile.fi) (Remote host closed the connection)
[14:43:12] *** Joins: ekathva_ (~ekathva@n16izluvk39q3lx3y-1.v6.elisa-mobile.fi)
[14:54:42] *** Joins: pvdp40 (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au)
[14:56:12] *** Quits: leonardo (leonardo@user/leonardo) (Ping timeout: 240 seconds)
[14:56:36] *** Quits: pvdp4 (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au) (Ping timeout: 240 seconds)
[14:56:37] *** pvdp40 is now known as pvdp4
[14:57:14] *** Joins: leonardo (~leonardo@user/leonardo)
[15:05:31] *** Joins: eroux (~eroux@102-65-85-242.ftth.web.africa)
[15:06:51] *** Joins: isflavior (~isflavior@2001:8a0:5dd8:4100:9064:d69:f6a4:2495)
[15:11:02] *** Joins: rvalue (~rvalue@user/rvalue)
[15:11:10] *** Quits: millido (~millido@84.210.150.128) (Quit: ZNC 1.8.2 - https://znc.in)
[15:15:05] *** Joins: Brainium (~brainium@user/brainium)
[15:17:21] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca)
[15:27:47] *** Joins: millido (~millido@84.210.150.128)
[15:30:34] *** Joins: fandre1986 (~fandre198@78.10.85.96)
[15:35:04] *** Joins: Leonarbro (~Leonet@user/leonarbro)
[15:42:03] *** Quits: Brainium (~brainium@user/brainium) (Quit: Konversation terminated!)
[15:58:54] *** Joins: trevors (~trevors@user/trevors)
[15:59:45] *** Quits: hydracat (~hydracat_@pool-96-230-188-202.prvdri.fios.verizon.net) (Ping timeout: 252 seconds)
[15:59:48] *** Joins: luckiswithme (~luckiswit@149.167.160.80)
[16:00:56] <arkanoid> I've just installed win11 + wsl2 + docker windows. "docker-compose up" from wsl resulted in failed to solve: rpc error: code = Unknown desc = failed to solve with frontend dockerfile.v0: failed to create LLB definition: rpc error: code = Unknown desc = error getting credentials - err: exit status 1, out: ``
[16:03:10] <rvalue> arkanoid: something similar, https://programmerah.com/error-reported-when-windows-builds-docker-image-failed-to-create-llb-definition-403-forbidden-42622/
[16:11:42] <arkanoid> rvalue: thanks. I've disabled buildkit, but I'm receiving different errors
[16:14:17] <arkanoid> rvalue: this "error listing credentials - err: exit status 1, out: ``"
[16:14:36] <rvalue> arkanoid: i am on macos so cant help more but out of curiousity, is it failed for any docker image?
[16:14:57] <rvalue> ing*
[16:18:15] <arkanoid> rvalue: no, docker run hello-world works
[16:19:17] <arkanoid> I'm using docker-compose + my own Dockerfile, but it's a very simple python app and image is based on python:3.10.2-slim-buster
[16:19:45] <arkanoid> so were's still in the land of official images
[16:21:15] <rvalue> on windows you would probably need windows images
[16:21:34] <rvalue> try changing to 3.10.2-windowsservercore-ltsc2022
[16:24:16] <rvalue> arkanoid: that worked?
[16:25:02] <arkanoid> rvalue: no, linux images works on windows
[16:25:16] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[16:25:18] <arkanoid> docker installation itself requires wsl2
[16:29:20] <arkanoid> rvalue: https://github.com/docker/for-win/issues/11261
[16:29:34] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[16:31:02] <arkanoid> basically docker doesn't test on non-english windows
[16:33:00] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[16:33:39] *** Joins: trevors (~trevors@user/trevors)
[16:36:34] <arkanoid> dear, also "docker logout" hangs forever
[16:36:45] <arkanoid> sure docker or windows is not NOT win11 ready
[16:38:22] <arkanoid> https://index.docker.io/v1/: error erasing credentials - err: exit status 1, out: ``
[16:39:44] <arkanoid> solved running logout with sudo
[16:40:39] *** Joins: DrowningElysium (uid190788@user/drowningelysium)
[16:43:34] *** Quits: rvalue (~rvalue@user/rvalue) (Quit: ZNC - https://znc.in)
[16:50:26] *** Joins: rvalue (~rvalue@user/rvalue)
[16:52:18] *** Joins: toulene7 (~toulene@user/toulene)
[16:53:04] *** Quits: toulene (~toulene@user/toulene) (Read error: Connection reset by peer)
[16:53:05] *** toulene7 is now known as toulene
[17:07:08] *** Quits: luckiswithme (~luckiswit@149.167.160.80) (Remote host closed the connection)
[17:08:54] *** Joins: Atque (~Atque@user/atque)
[17:09:44] *** Joins: luckiswithme (~luckiswit@149.167.160.80)
[17:16:24] *** Quits: luckiswithme (~luckiswit@149.167.160.80) (Remote host closed the connection)
[17:30:55] *** Quits: millido (~millido@84.210.150.128) (Quit: ZNC 1.8.2 - https://znc.in)
[17:30:55] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca) (Remote host closed the connection)
[17:41:19] <ash_worksi> how do I find out what server a node is running on?
[17:41:57] *** Joins: pertho (~pertho@pertho.net)
[17:44:31] <pertho> Hi.. on a Linux host I've got this in a Dockerfile: volumes:  (next line) - "~/.ssh:/root/.ssh:ro"  so that I can mount the user's .ssh directory into /root/.ssh on the container.. however the container sets the owner to the uid and gid of the user on the host (1000:1000 in this case) instead of root:root. I want it to be root:root.. how do I fix this?
[17:45:12] <ash_worksi> I guess `docker node inspect -f '{{ .Status.Addr }}' will tell me what address it's using
[17:45:50] <rawtaz> pertho: thats how it works. the file/folder is bind mounted, but of course still has its actual UID and GID.
[17:46:16] <ash_worksi> pertho: you can bake it in with a dockerfile, but I would imagine that defeats the purpose for you
[17:46:48] <ash_worksi> I am trying to think of the best way to pin a database to a swarm node
[17:46:57] <pertho> basically the container's meant to run composer install but use the user's ssh key.. but it has to be owned by root.. or ssh won't work
[17:47:09] *** Joins: The_Czernobog (~Czernobog@user/czernobog)
[17:47:33] *** Quits: Czernobog (~Czernobog@user/czernobog) (Ping timeout: 252 seconds)
[17:47:33] <rawtaz> maybe check if userns can do that for you, but i really dont know
[17:47:34] <pertho> and it does some git clone'ing but yeah needs ssh and it won't work if the root's ~/.ssh/* files are not owned by root
[17:47:40] *** The_Czernobog is now known as Czernobog
[17:47:55] <rawtaz> you could probably make the container chown the files though? :)
[17:48:08] <rawtaz> hm but not with :ro on it
[17:48:36] <pertho> if the container chowns the files.. won't they be owned by root in the users home dir then?
[17:48:46] <ash_worksi> pertho: are you unable to use the keys as they are (outside of a container)?
[17:49:06] <rawtaz> pertho: yes they will. its the same file.
[17:49:20] <pertho> ash_worksi: yeah they are outside of the container. 
[17:49:36] <rawtaz> pertho: just copy them into the container instead
[17:49:47] <ash_worksi> I was going to suggest that perhaps
[17:49:55] <ash_worksi> pertho: use an entrypoint.sh script
[17:50:20] *** Quits: ypszilon (~ypszilon@user/ypszilon) (Quit: ᮮ)
[17:50:36] <ash_worksi> pertho: what are package repository are you connecting to? Satis?
[17:50:47] *** Joins: ypszilon (~ypszilon@user/ypszilon)
[17:51:30] <pertho> ash_worksi: composer install is git clone'ing some stuff off Atlassian bitbucket
[17:52:06] <ash_worksi> okay
[17:53:36] <tabakhase> pertho "dont run it as root then"
[17:53:49] <pertho> container's only got root in there
[17:54:23] <tabakhase> if your container supports it, a simple --user may do it -- "for more complicated things" https://github.com/boxboat/fixuid ((the readme is a good read in general to understand a bit more on the whereabouts)
[17:55:47] <tabakhase> (a plain --user may drop you in a annon user without existing $HOME and such what can break things - so thats where extra tooling comes in to "make a dummy during image-build, and then mod that to match the actual env when creating/starting a container via entrypoint)
[17:55:56] <pertho> strange thing is.. this seems to work fine in the Mac OS X host docker (and if something chowns the files in the container, docker for mac 'helpfully' sets an extended attribute you can remove).. but.. Docker on Linux Host doesn't behave the same way
[17:58:27] <tabakhase> also note that "to run composer" you may not even need to use "your thing" --- but you can use the official compose image what should cope with --user just fine for example
[17:59:19] <pertho> or maybe just run composer on the host.. because the file system it operates on does get shared with the container
[17:59:32] <tabakhase> https://hub.docker.com/_/composer has plenty of examples -- 
[18:00:08] *** Joins: millido (~millido@84.210.150.128)
[18:00:28] <programmerq> yes, the docker for mac has a file sharing mechanism that gets files visible in the VM and it has some extra help around file ownership to make problems like this easier. so when you do a bind mount with docker-for-mac, you're bind mounting the shared filesystem mount and not the hfs+ mount on your actual mac.
[18:00:51] <programmerq> whereas on linux, you're bind mounting literally the same file since there's no extra sharing mechanism in place.
[18:02:54] <ash_worksi> so, is there a recommended constraint I should use to make sure my database respawns on the same server (if it needs to)?
[18:05:02] <pertho> programmerq: ahh! That makes sense! Thanks for the info!
[18:05:04] <ada_> ash_worksi: you can label your node and then use the constraint label=<label>
[18:05:16] <pertho> I guess we'll have to find some way of a workaround.. thanks!
[18:05:29] <ash_worksi> ada_: so, to label a node, I need to update an existing one, right?
[18:05:45] <ada_> https://docs.docker.com/engine/swarm/services/#placement-constraints
[18:05:53] <ada_> @ash_worksi sí
[18:06:39] <ash_worksi> okay, I was about to say I feel like I missed something
[18:08:24] <ash_worksi> there's no way to label a node when joining or init'ing ?
[18:08:40] <ash_worksi> like `docker swarm join ... --label=...` 
[18:08:54] <ada_> not in the same action afaik
[18:08:59] <ash_worksi> okay
[18:09:08] <ash_worksi> it's just 1 more command, so who cares really, but I was curoius
[18:09:10] <ash_worksi> curious*
[18:09:26] *** Quits: trevors (~trevors@user/trevors) (Quit: trevors)
[18:09:33] <ash_worksi> am I wildly behind using compose 3.7 right now?
[18:09:54] <ash_worksi> (I know 3.9 is out, but am I greatly nerfing myself not updating?)
[18:09:59] *** Joins: tyson2 (~user@cpe688f2ec1f9b3-cm688f2ec1f9b0.sdns.net.rogers.com)
[18:10:31] *** Joins: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com)
[18:12:27] *** Quits: emberquill (~emberquil@user/emberquill) (Quit: The Lounge - https://thelounge.chat)
[18:13:12] *** Joins: emberquill (~emberquil@user/emberquill)
[18:13:23] *** Quits: tyson2 (~user@cpe688f2ec1f9b3-cm688f2ec1f9b0.sdns.net.rogers.com) (Remote host closed the connection)
[18:13:40] *** Quits: fandre1986 (~fandre198@78.10.85.96) (Quit: Connection closed)
[18:18:18] *** Joins: tyson2 (~user@cpe688f2ec1f9b3-cm688f2ec1f9b0.sdns.net.rogers.com)
[18:18:51] *** Joins: luckiswithme (~luckiswit@149.167.160.80)
[18:21:49] *** Quits: michele (~eraser@user/michele) (Read error: Connection reset by peer)
[18:24:09] *** Joins: stenno (~stenno@user/stenno)
[18:24:14] *** Joins: michele (~eraser@user/michele)
[18:24:30] *** Joins: trevors (~trevors@user/trevors)
[18:24:44] *** Quits: clueminati (~clueminat@gateway/tor-sasl/clueminati) (Quit: clueminati)
[18:24:52] <stenno> good day, how can i make a CMD return an interactive shell? e.g. my CMD does `ssh user@host`, i want my cmd to return the remote SSH shell instead of immediately exiting
[18:27:12] <tabakhase> stenno CMD is just a setting, so if anything it be up to how you use/run it?
[18:27:15] *** Joins: clueminati (~clueminat@gateway/tor-sasl/clueminati)
[18:27:39] <tabakhase> and then -it or so on a docker run MAY just do it...
[18:30:23] *** Joins: thiras (~thiras@user/thiras)
[18:38:45] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[18:40:53] <stenno> ...er, ok?
[18:42:42] <tabakhase> if that doesnt make sense, feel free to make your Q more specific -> include an example (pastebin of your terminal or so) of what you did, what it does, and what it should do instead
[18:43:47] <pertho> cheers all o/
[18:43:49] *** Parts: pertho (~pertho@pertho.net) ()
[18:46:54] <stenno> tabakhase: in my Dockerfile, my last line is CMD ['ssh foo@bar']. When i run `docker run -it ...`, it starts the ssh connection but immediately closes it again. I want to have the remote shell of the user foo of the machine bar.
[18:47:52] <ash_worksi> this probably is pretty meaningless, but do y'all use `node.labels.{something} = database` or just `node.labels.database = ""` ?
[18:53:31] <ash_worksi> in fact, I can probably just tie this to the hostname
[18:53:46] <stenno> hm maybe i am thinking about this in the wrong way
[18:54:26] <ash_worksi> I guess node.labels.placement_group would be if I wanted to have multiple machines responsible for placement
[18:54:52] <ash_worksi> would it cause a conflict of somekind if the hostname of your node is the same as the hostname for the machine?
[18:56:29] <ash_worksi> some kind*
[18:56:50] <hosk> i have a stupid best-practices question--if i'm using a reverse proxy to proxy to other containers, i should still map them to a specific host port so they don't change on every restart, right?
[18:58:42] <larsks> hosk: if you're using a proxy you should not be mapping container ports to host ports (presumably you want them only to be accessible through the proxy). Nothing should be changing on every restart (you should be accessing containers by name, not by address).
[18:59:17] <ikke> hosk: Is the reverse proxy in a container?
[18:59:48] <tabakhase> stenno hence asking for more details -- cause "in itself" this works just fine: `echo -e "FROM debian\nRUN apt-get update && apt-get install -y ssh" | docker build -t debian:ssh -` and then `docker run --rm -it debian:ssh ssh root@remote.tld` lets me accept hostkey, type password and then throws me right in the prompt
[19:00:26] <hosk> ikke: yes
[19:00:31] <tabakhase> (that docker run is effectively the same as setting the CMD during build)
[19:01:23] <ikke> hosk: then you do not need to publish any ports on those containers
[19:01:31] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[19:01:38] <ikke> hosk: just make sure the proxy and other containers share a network, and they can directly communicate
[19:02:18] <hosk> ok, that makes sense to me so i must have gotten this to work through a super goofy way
[19:02:34] <hosk> so i shouldn't need "ports:" in my docker-composes at all?
[19:02:41] <hosk> except for the proxy?
[19:02:44] <ikke> correct
[19:03:09] <hosk> ok thanks ikke and larsks 
[19:03:10] <ash_worksi> --restart-policy is not really clear to me
[19:04:02] <ash_worksi> I guess `none` means it wont restart?
[19:04:03] <tabakhase> stenno one other chance is that your CMD gets set oddly? do you actually set it as ['one string thing']?  - this will break, but then with a pretty clear "command not found-Error" so i kinda dont expect that to be the case...., "CMD ssh blablub" will do just fine
[19:04:35] <hosk> actually one last question, if i'm accessing those containers by name i STILL have to point it to the non-standard port that's exposed in THAT network, right, so :8080 or :4040 or something?
[19:04:46] <ash_worksi> hosk: correct
[19:05:07] <tabakhase> hosk that sounds wrong no... 
[19:05:12] <ash_worksi> so in your config `some_container:8080`
[19:05:20] <ikke> The port the the service is listening on
[19:05:24] <tabakhase> container to container is just lan-host to lan-host, so "whatever port it is"
[19:05:33] <hosk> yeah
[19:06:02] <hosk> getting a secure reverse proxy working inside docker has been a... journey
[19:06:21] <ash_worksi> so you all typically name your nodes after the machine hostname or do you need to be more inventive than that?
[19:06:27] *** Joins: Enitin (~Enitin@82.180.145.228)
[19:07:42] <ash_worksi> actually, a more prudent question is, "would you put your database data dir in a docker volume"?
[19:08:03] *** Joins: leitz (~LeamHall@072-182-158-027.res.spectrum.com)
[19:08:23] <hosk> is the volume for a database container?
[19:08:23] <tabakhase> hosk what are ya using? traefik is fairly compfortable once you got the gist -- while other things (say nginx) arent soooo container friendly...
[19:08:33] <ash_worksi> hosk: yes
[19:08:34] <hosk> oh i'm using nginx because i like pain
[19:08:51] <hosk> i hear good things about traefik though
[19:08:54] <ikke> ash_worksi: I would not, way to easy to loose data and way to difficult to migrate it
[19:08:57] <ash_worksi> nginx is not container friendly?
[19:09:05] <ikke> ash_worksi: nginx works perfect in a container
[19:09:14] <ash_worksi> oh, right, migration
[19:09:30] <ikke> traefik is nice because it can automatically route traffic based on container lables
[19:09:33] <stenno> oh damn i made an error
[19:09:52] <stenno> i thought i could run a command like `CMD ['/mycommand']` but its `CMD '/mycommand'`
[19:09:59] *** Joins: zitter (~danilodim@93-57-35-194.ip162.fastwebnet.it)
[19:10:04] <tabakhase> hosk also note the fun starts again when "one host shall have two compose projects" or so ;-)  --- so having a traefik infront ot the "project nginx" isnt unseen
[19:10:10] <ikke> stenno: that syntax is for the entrypoint
[19:10:29] <stenno> ikke: yeah i got irritated by https://docs.docker.com/engine/reference/builder/#cmd
[19:10:35] <stenno> which says something totally different
[19:10:39] <tabakhase> stenno i was hoping that was just a typo or so as this SHOULD give you a pretty distinct error message ratehr than "just not work" as you initally reported :P
[19:10:39] <stenno> i assume its not up to date
[19:10:41] <hosk> tabakhase: oh all of my containers are compose projects, so i have like 10 of them
[19:10:56] <stenno> CMD ["executable","param1","param2"] (exec form, this is the preferred form)
[19:11:00] <stenno> ^ this fails 
[19:11:05] <stenno> docs need to updated
[19:11:06] <ash_worksi> stenno: you.... should be able to run CMD [...]
[19:11:17] <ash_worksi> stenno: but they need to be double quotes for some reason
[19:11:23] <ash_worksi> iirc
[19:11:24] <stenno> ........
[19:11:26] <stenno> ok.
[19:11:26] <ikke> It's json syntax
[19:11:30] <ikke> not obvious
[19:11:33] <ash_worksi> oh ^
[19:11:42] <stenno> no, not obvious, as so many things regarding docker
[19:11:45] <ash_worksi> ikke: that's always bothered me
[19:11:51] <hosk> tabakhase: i know the linuxserver nextcloud stack uses traefik and it works well so i'll consider it
[19:12:01] <stenno> well, thanks
[19:12:13] *** Quits: akelly (24aca7a63b@2604:bf00:561:2000::152) (Remote host closed the connection)
[19:12:13] *** Quits: hwrd (aa272caead@2604:bf00:561:2000::137) (Remote host closed the connection)
[19:12:13] *** Quits: eein (35f97d3dbd@2604:bf00:561:2000::2a6) (Remote host closed the connection)
[19:12:19] *** Quits: shrysr (4e0b42ae98@user/shrysr) (Remote host closed the connection)
[19:12:28] <ash_worksi> ikke: I mean to say, thanks for saying that, it's always driven me nuts that I would screw up CMD periodically
[19:12:48] *** Joins: hwrd (aa272caead@2604:bf00:561:2000::137)
[19:12:50] <ash_worksi> ikke: now I have a reason for that headache
[19:12:51] <ikke> ash_worksi: np
[19:12:53] *** Joins: akelly (24aca7a63b@2604:bf00:561:2000::152)
[19:12:56] <stenno> oh so if i wrongly do CMD ['mycommand'] it assumes that the command is `['mycommand']` because it cannot parse JSON
[19:13:01] <tabakhase> hosk then you run a "ingress" as 11th project, with a network with a "fixed name" -- and then hook your other composes "into this" by also declaring the same network with fixed name as external:true combined with "labels" that traefik can use for routing (domains, subdirectorys and so on) -- this can be done "outside git" too as compose can "merge multiple yamls" ((docker-compose.override.yml 
[19:13:02] <tabakhase> is consumed automagically if it exists for example))
[19:13:03] *** Joins: eein (35f97d3dbd@2604:bf00:561:2000::2a6)
[19:13:03] *** Joins: shrysr (4e0b42ae98@user/shrysr)
[19:13:16] <stenno> cannot parse that as json*
[19:13:26] <stenno> thats wild
[19:14:15] <stenno> standard_init_linux.go:228: exec user process caused: exec format error
[19:14:48] <stenno> oh bleh
[19:14:54] <stenno> forgot #!/bin/bash
[19:15:00] <tabakhase> stenno that got nothing todo with json... `echo -e "FROM debian\nRUN apt-get update && apt-get install -y ssh\nCMD ['ssh root@host.tld']" | docker build -t debian:ssh-fail - && docker run --rm -it debian:ssh-fail` is a pretty clean "/bin/sh: 1: [ssh root@host.tld]: not found"
[19:15:27] *** Joins: nuala (~nuala@user/nuala)
[19:15:53] <stenno> maybe i got 'command not found' because i forgot the shebang (is that what its called)
[19:15:59] <stenno> nope
[19:16:10] <ash_worksi> stenno: #! = shebang yeah
[19:16:17] <stenno> tabakhase: i really get 'command not found' when using single quotes
[19:16:45] <stenno> and it works when i use double quote
[19:16:51] <ash_worksi> ikke: I am trying to think through what's involved in migrating a database over between machines.... I mean I think you generally have to use a backup utility for that no?
[19:17:38] <ikke> ash_worksi: that's the easiest way
[19:17:40] <stenno> tabakhase: i am copying a shell script file which has `ssh ...` in it instead of 'directly' calling it from CMD
[19:17:53] <stenno> tabakhase: lemme gist it up and then you can try it yourself
[19:18:06] <ash_worksi> ikke: why do you say named volumes are too easy to loose data?
[19:18:19] <ikke> docker down -v -> poof
[19:18:21] *** Joins: minimal (~minimal@user/minimal)
[19:18:28] <ikke> docker-compose down -v*
[19:18:33] <ash_worksi> I was about to type that
[19:18:45] * ash_worksi researching
[19:19:00] <stenno> tabakhase: https://gist.github.com/stenno/c69d7954f1faa9384cbd507754bd9a5a
[19:19:25] <ash_worksi> ikke: ah, yes, well, that is quite right
[19:20:00] <tabakhase> stop with those [" everywhere :D
[19:20:15] <ash_worksi> ikke: so do you go through and make a database user home like you would without a container for your datadir to live in?
[19:20:59] <ikke> some directory on the host that is bind mounted
[19:20:59] <stenno> tabakhase: so does that give you 'command not found' too?
[19:21:16] <stenno> if you comment in the commented out line
[19:21:42] <ash_worksi> ikke: so just `mkdir /var/lib/<db>/` then
[19:21:57] <tabakhase> "The exec form is parsed as a JSON array, which means that you must use double-quotes (“) around words not single-quotes (‘)."
[19:22:01] <tabakhase> say the docs
[19:22:03] *** Parts: tasty (~mew@user/tasty) ()
[19:22:13] <stenno> tabakhase: ah yes
[19:22:30] <stenno> tabakhase: i wondered why you said:
[19:22:31] <stenno>  <tabakhase> stenno that got nothing todo with json...
[19:22:40] <ash_worksi> stenno: because you had another error
[19:22:43] <stenno> in fact it actually has to do with json
[19:22:59] <ash_worksi> stenno: the error that tabakhase was pointing out had nothing to do with JSON
[19:23:05] <stenno> so if i use single quotes, i get command not found
[19:23:12] <stenno> which error was that?
[19:23:13] <ash_worksi> correct
[19:23:20] <ash_worksi> same error, but for a different reason
[19:23:32] <ash_worksi> it must be double quotes and separate words
[19:23:32] <stenno> oh wow man
[19:23:47] <stenno> and what was the te different reason?
[19:24:12] <tabakhase> stenno see here "correct json" but still error - and ALSO still a clean "fiel not found" error -> `echo -e "FROM debian\nRUN apt-get update && apt-get install -y ssh\nCMD [\"ssh root@host.tld\"]" | docker build -t debian:ssh-fail - && docker run --rm -it debian:ssh-fail`
[19:24:40] <tabakhase> opposed to `echo -e "FROM debian\nRUN apt-get update && apt-get install -y ssh\nCMD [\"ssh\", \"root@host.tld\"]" # | docker build -t debian:ssh-ok - && docker run --rm -it debian:ssh-ok` - what works just fine again
[19:24:42] <ash_worksi> I was going to say something far less intellegent
[19:24:57] <stenno> oh 'seperate words'
[19:25:03] *** Quits: luckiswithme (~luckiswit@149.167.160.80) (Remote host closed the connection)
[19:25:03] <tabakhase> yep
[19:25:06] <stenno> ooh
[19:25:11] <stenno> thanks so much everyone
[19:25:15] <stenno> that is super confusing 
[19:25:27] *** Quits: tyson2 (~user@cpe688f2ec1f9b3-cm688f2ec1f9b0.sdns.net.rogers.com) (Remote host closed the connection)
[19:25:28] <stenno> that was*
[19:25:34] <tabakhase> once you have that set -- my initial "add a -it" is also still true btw :P
[19:25:52] <stenno> my adventure to subjugate docker might continue
[19:26:28] <ash_worksi> tabakhase: I missed that part; I've only be 1/2 listening tbh ^ ^;
[19:26:54] <ikke> stenno: I think the context you might be missing is what exec form refers to
[19:27:07] <stenno> i am looking at https://docs.docker.com/engine/reference/builder/#cmd
[19:27:20] <ikke> stenno: do you know the exec* family of syscalls?
[19:27:32] <stenno> hmm no
[19:27:59] <ash_worksi> I guess I'll give it one more go: would you set your swarm node hostnames to their respective machine hostnames or is that a bad idea?
[19:28:11] <stenno> i ran `exec "$@"` in one of my entrypoints and it did what i wanted to do but i didn't question it or research it
[19:28:14] *** Joins: luckiswithme (~luckiswit@149.167.160.80)
[19:28:37] <stenno> hm i see
[19:28:44] <ikke> stenno: When you normally start programms, it's the shell that parses what you enter
[19:28:53] <ikke> cmd arg1 "arg2 with spaces"
[19:28:56] <stenno> right
[19:29:11] <ikke> the shell in turn splits this into separate arguments
[19:29:15] *** Joins: tyson2 (~user@cpe688f2ec1f9b3-cm688f2ec1f9b0.sdns.net.rogers.com)
[19:29:31] <ikke> ["arg1", "arg2 with spaces"]
[19:29:43] <ikke> ["cmd", "arg1", "arg2 with spaces"]
[19:29:53] <ikke> and passes that to a exec* syscall
[19:30:14] <stenno> is that what `char** argv`  of C is?
[19:30:15] <ikke> (note that this would be a c-style array)
[19:30:20] <stenno> right
[19:30:25] <ikke> yes
[19:30:28] <stenno> gotcha
[19:30:45] <ikke> so, when docker calls this the exec form, it means there is no shell parsing it
[19:30:59] <ikke> instead, you specify each component manually
[19:31:17] *** Joins: Zelec95645041152 (~Zelec@user/zelec)
[19:31:58] <tabakhase> i think "for a single command" (((CMD ./script -arg; vs. CMD ["./script", "-arg"]))) this "should not rly make a difference" - afaik shell have some selffixing inside that "get close to exec´ing in the first place" -- but dont quote me on that...
[19:32:34] <tabakhase> this may also be all smoke if combined with an entrypoint^^
[19:33:47] <stenno> thanks again everyone for your explanations and patience
[19:33:48] *** Quits: Zelec9564504115 (~Zelec@user/zelec) (Ping timeout: 272 seconds)
[19:33:49] *** Zelec95645041152 is now known as Zelec9564504115
[19:34:40] *** Joins: DoofusCanadensis (~DoofusCan@node-1w7jr9yercvgfo0ajai388avv.ipv6.telus.net)
[19:35:09] *** Quits: Enitin (~Enitin@82.180.145.228) (Ping timeout: 256 seconds)
[19:35:29] <stenno> so i don't need a shell to execute a command in exec form if the only job of the shell would be to split my arguments properly?
[19:38:27] <stenno> and the reason exec form is preferred is because docker containers are not supposed to be kept alive unless its a long-running bg process like a http server, so you don't need interactive input anyway
[19:39:12] <stenno> does that sound somehwat right at least :x
[19:43:04] <stenno> ...i will do some more research v_v
[19:48:26] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[19:51:17] *** Quits: jimmyb (~jimmyb@user/jimmyb) (Quit: The Lounge - https://thelounge.chat)
[19:52:48] *** Joins: jimmyb (~jimmyb@user/jimmyb)
[19:53:44] *** Quits: jimmyb (~jimmyb@user/jimmyb) (Client Quit)
[19:57:35] *** Quits: pvdp4 (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au) (Remote host closed the connection)
[20:06:20] *** Joins: redbrass (~shawn@S01065c7695fa1e56.cg.shawcable.net)
[20:07:35] *** Joins: jimmyb (~jimmyb@user/jimmyb)
[20:09:07] *** Joins: nwulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[20:11:48] *** Joins: Atque (~Atque@user/atque)
[20:12:12] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 252 seconds)
[20:12:26] *** Quits: marcmance (~mmance@c-68-58-249-13.hsd1.mi.comcast.net) (Quit: WeeChat 3.0)
[20:13:10] *** Quits: tyson2 (~user@cpe688f2ec1f9b3-cm688f2ec1f9b0.sdns.net.rogers.com) (Remote host closed the connection)
[20:17:23] *** Joins: gproto23_ (~gproto23@user/gproto23)
[20:19:54] *** Quits: gproto23 (~gproto23@user/gproto23) (Ping timeout: 252 seconds)
[20:22:12] <redbrass> Confusion regarding docker licensing.  Am I understanding correctly that "Docker CE" is free to use on my commercial servers?  Whereas "Docker Desktop" for commercial use requires a license/subscription.  (Our company revenues exceed the free tier guidelines.)
[20:22:53] <DoofusCanadensis> yes
[20:22:57] <redbrass> (I'm off to dig up the license file for docker CE... today I get to pretend I might understand legal speak)
[20:23:08] <DoofusCanadensis> Docker Desktop is only required on Windows and macOS
[20:23:33] <redbrass> and only if docker CE is not manually installed.  Correct?
[20:23:58] <DoofusCanadensis> if you're running your own VM with docker CE, go nuts
[20:24:17] <rawtaz> this is not something i know off the top of my head. what does the license say? it should be pretty clear i suppose
[20:24:39] <DoofusCanadensis> as docker requires linux, desktop is required on the two non-linux platforms which runs linux in a vm
[20:25:28] <koollman> docker desktop isn't required on windows/mac, but it is an easy way to run docker
[20:25:48] <DoofusCanadensis> if you want to run locally, it's the easiest way to get going
[20:25:53] *** Joins: Enitin (~Enitin@82.102.22.85)
[20:26:04] <koollman> yes. Just arguing the 'required' part
[20:26:13] <DoofusCanadensis> that's fair
[20:26:32] <redbrass> Thanks for the feedback.  I'm the sacrifial lamb for determining if we need to get a Docker license... sighs..
[20:26:47] <koollman> you can use any other way to run docker in a linux vm, maybe with some tool managing that vm and giving a reasonable interface to it :)
[20:26:48] <DoofusCanadensis> yeah, it all depends on how you plan to be doing local development
[20:26:57] <stenno> will you get fired if you are wrong?
[20:27:05] <DoofusCanadensis> I use WSL with just the docker client
[20:27:15] <DoofusCanadensis> my docker host is on another computer in the lab
[20:27:31] <redbrass> @stenno - perhaps - but really my recommendation is whether or not we need to involve the legal team...
[20:27:46] <stenno> maybe the answer is just 'yes'
[20:27:59] <koollman> you can use this fair and exhaustive comparison https://www.docker.com/products/docker-desktop/alternatives ;) (maybe not quite exhaustive though :) )
[20:28:02] <DoofusCanadensis> it's only about Docker Desktop
[20:28:08] <redbrass> that was my initial response.  They wanted me to back it up.. lol
[20:28:22] <stenno> blep
[20:28:32] <stenno> there is some circular logic in there
[20:29:06] <koollman> redbrass: to back it up:  "this is legal text and I do not speak legalese" ? ;) 
[20:29:08] <DoofusCanadensis> yeah you can totally run your own VMs on Windows 
[20:29:26] <redbrass> My google foo came through:  https://github.com/docker/docker-ce/blob/master/components/cli/LICENSE
[20:29:43] <redbrass> that makes things much clearer and easier to explain.
[20:29:43] <DoofusCanadensis> I'm looking at the licensing as well since we're just getting into developing for docker and kubernetes
[20:29:53] <stenno> 'do we need to involve the legal team?' 'yes, IANAL' 'can you back that up?' '...'
[20:30:12] <DoofusCanadensis> heh
[20:30:30] <DoofusCanadensis> and for the developers here? docker desktop is going to make their lives way easier
[20:30:35] <DoofusCanadensis> so, licensing
[20:30:36] <koollman> "here's an empty rectangle where my lawyer diploma is absent" :)
[20:30:41] *** Quits: kostkon_ (~androirc@2.142.66.94.static.otenet.gr) (Ping timeout: 256 seconds)
[20:31:02] <redbrass> So my definition to management is "Docker CE is open source under an Apache license.  Docker Desktop is NOT open source and will need a license."
[20:31:54] <redbrass> which means there will be a push to avoid using Docker Desktop... for our office - most of us devs use Linux anyway, so it should be a non-issue.
[20:32:24] <luckiswithme> I want to dockerize a python application but, don't know where to start
[20:32:31] <luckiswithme> any resources?
[20:33:08] <koollman> redbrass:  rancher desktop could be an easy enough alternative (free and opensource), if you want to sidetrack the question
[20:33:26] <DoofusCanadensis> redbrass: yeah and I did see a lot of uptick on people searching for podman following that docker desktop license change
[20:33:37] <DoofusCanadensis> rancher has a desktop? 
[20:33:41] * DoofusCanadensis goes to look
[20:34:07] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca)
[20:34:15] <koollman> well, docker desktop change created a void place for alternatives, so some do pop up :)
[20:35:43] *** Quits: zitter (~danilodim@93-57-35-194.ip162.fastwebnet.it) (Quit: Leaving)
[20:35:56] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-e0e2-ce57-d3ad-b362.res6.spectrum.com)
[20:36:05] <koollman> and 'docker cli + a linux vm, maybe running through wsl2' is a generic enough solution, too
[20:38:36] *** Quits: asdf__ (~slashasdf@030-245-128-083.dynamic.caiway.nl) (Ping timeout: 240 seconds)
[20:40:50] *** Joins: kostkon_ (~androirc@athedsl-393845.home.otenet.gr)
[20:41:45] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[20:42:22] <redbrass> DoofusCanadensis: we explored podman (and docker) for one specific use case.  Neither were suitable because we needed to a) alter the networking config on the fly, from inside the container, and b) needed to create loop devices as part of our process.
[20:42:45] <redbrass> But, that is an edge case beyond "running a service".
[20:43:26] <DoofusCanadensis> yeah
[20:52:52] *** Joins: RougeR (~rougex250@user/rouger)
[21:04:17] *** Quits: luckiswithme (~luckiswit@149.167.160.80) (Remote host closed the connection)
[21:11:58] *** Quits: nrg (~NRG@user/nrg) (Ping timeout: 272 seconds)
[21:12:57] *** Joins: nrg (~NRG@user/nrg)
[21:15:45] *** Quits: thiras (~thiras@user/thiras) (Read error: Connection reset by peer)
[21:17:32] *** Joins: jazzy (~jaziz@user/jaziz)
[21:20:54] *** Quits: rsx (~dummy@ppp-188-174-137-205.dynamic.mnet-online.de) (Quit: rsx)
[21:27:01] *** Quits: jazzy (~jaziz@user/jaziz) (Quit: Beddie bye-bye)
[21:27:06] <stenno> hmm docker-compose.override.yml is nifty
[21:34:10] *** Quits: isflavior (~isflavior@2001:8a0:5dd8:4100:9064:d69:f6a4:2495) (Quit: isflavior)
[21:47:20] *** Parts: Sven_vB (~sven@user/sven-vb/x-2094958) (Leaving)
[21:47:32] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-08-70-29-36-27.dsl.bell.ca) (Remote host closed the connection)
[21:47:55] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[21:52:27] *** Joins: dan01 (~dan01@2a02:2f09:3805:0:b44a:f768:9ead:27f)
[21:59:56] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[22:01:25] *** Quits: justsomeguy (~justsomeg@user/justsomeguy) (Ping timeout: 240 seconds)
[22:07:33] *** Joins: tyson2 (~user@bras-base-toroon0628w-grc-46-142-112-141-177.dsl.bell.ca)
[22:10:19] *** Quits: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[22:11:50] *** Quits: dan01 (~dan01@2a02:2f09:3805:0:b44a:f768:9ead:27f) (Ping timeout: 268 seconds)
[22:16:00] *** Joins: jazzy (~jaziz@user/jaziz)
[22:16:39] *** Joins: ivii (~ivan@user/ivii)
[22:25:54] <ash_worksi> what does it mean if when you try to `docker stack deploy` it doesn't give you an error but replicas are 0/1 ?
[22:25:59] <ash_worksi> how do I debug that?
[22:28:19] *** Joins: Atque (~Atque@user/atque)
[22:28:21] <ash_worksi> ah, `ps`
[22:32:36] <ash_worksi> specifically, `docker service ps --no-trunc --format '{{.Error}}'
[22:32:54] <ash_worksi>  ... <service_name>`
[22:35:41] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[22:38:04] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[22:45:04] *** Quits: Haxxa (~Haxxa@202-130-210-100.ip4.superloop.com) (Quit: Haxxa flies away.)
[22:48:07] *** Joins: Haxxa (~Haxxa@202-130-210-100.ip4.superloop.com)
[22:53:17] *** Quits: justsomeguy (~justsomeg@user/justsomeguy) (Quit: WeeChat 3.4)
[22:56:37] *** Quits: tyson2 (~user@bras-base-toroon0628w-grc-46-142-112-141-177.dsl.bell.ca) (Ping timeout: 240 seconds)
[23:15:21] <ash_worksi> ikke: do you tag your images with git hashes?
[23:15:28] <ikke> no
[23:15:43] *** Quits: lithium (~lithium@user/lithium) (Quit: Textual IRC Client: www.textualapp.com)
[23:15:53] <ash_worksi> oh, how do you typically tag your images
[23:15:54] <ash_worksi> ?
[23:16:00] <ikke> either I use latest, or I use a git tag
[23:16:08] *** Joins: dmvrtx (~dmvrtx@znc.dmvrtx.me)
[23:16:10] <ikke> or sometimes also a branch name
[23:16:14] *** Joins: tyson2 (~user@bras-base-toroon0628w-grc-46-142-112-141-177.dsl.bell.ca)
[23:16:15] <ash_worksi> I don't really understand git tags
[23:16:23] <ash_worksi> --> #git
[23:22:14] *** Joins: junktext (~junktext@gateway/vpn/pia/junktext)
[23:22:46] <njka> woah
[23:23:03] *** Quits: lilgopher (~ubuntu@2601:241:8000:38f0::342c) (Ping timeout: 250 seconds)
[23:25:47] *** Joins: k8yun (~k8yun@user/k8yun)
[23:27:39] <programmerq> a git tag is just an arbitrary immutable label that can point to a specific commit/sha/treeish in git. It's typically used to denote the application release version. In the context of docker, whatever tag naming strategy works for your application is usually applicable to both docker image tags and git tags.
[23:29:18] <ash_worksi> programmerq: well, I was going to use the commit hash to tag images, but I decided to move my git repository 1 level up so that it gets all my dummy services, and the docker-compose file
[23:29:53] <ash_worksi> programmerq: incidentally that means, if I target the hash in docker-compose then that changes the commit hash
[23:30:11] <ash_worksi> I guess I could tag a change as latest and use that
[23:30:33] <ash_worksi> but do people use latest in their stack/compose files?
[23:30:55] <DoofusCanadensis> some do
[23:31:01] <ash_worksi> actually, that's not an important question
[23:31:16] <DoofusCanadensis> but having an explicit version plus latest is super useful
[23:31:22] *** Joins: gproto23 (~gproto23@user/gproto23)
[23:31:26] *** Quits: gproto23_ (~gproto23@user/gproto23) (Read error: Connection reset by peer)
[23:31:44] <ash_worksi> an important question is; when I normally run compose; if a local directory is missing, compose will make it
[23:31:59] *** Quits: nemexis (~nemexis@193-62-201-31.ftth.glasoperator.nl) (Remote host closed the connection)
[23:32:00] <ash_worksi> when I try and stack deploy under the same circumstances, it complains that the directory is missing
[23:32:47] *** Joins: agrosant (~agrosant@46.12.50.59.dsl.dyn.forthnet.gr)
[23:38:47] <DoofusCanadensis> docker swarm might need volumes instead of bind mounts
[23:44:27] *** Joins: drillbyt (drillbyt@user/drillbyt)
[23:46:43] <ash_worksi> I was kind of signing on to bind mounts for a database
[23:49:21] <ash_worksi> I mean, I can abondon swarm or I could use a named volume.... suggestions?
[23:54:40] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[23:56:36] *** Joins: drillbyt_ (drillbyt@user/drillbyt)
[23:58:57] *** Quits: drillbyt (drillbyt@user/drillbyt) (Ping timeout: 240 seconds)
[23:59:51] *** Quits: gedulis12 (~gedulis12@46.251.49.174) (Read error: Connection reset by peer)
