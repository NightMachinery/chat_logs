[00:00:04] <raxor2k> (programming life =
[00:11:15] *** Quits: rpthms (~rpthms@user/rpthms) (Remote host closed the connection)
[00:18:17] *** Joins: rpthms (~rpthms@user/rpthms)
[00:24:40] *** Quits: raxor2k (~raxor2k@78.158.233.120) ()
[00:27:36] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Read error: Connection reset by peer)
[00:32:43] *** Quits: Brainium (~brainium@user/brainium) (Quit: Konversation terminated!)
[00:33:47] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[00:48:06] *** Joins: AnselmoCampanas (~AnselmoCa@190.99.69.41)
[00:50:11] *** Quits: emerent (~quassel@p200300cd574855b5ba27ebfffed28a59.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[00:50:19] *** Joins: emerent (~quassel@p200300cd57485529ba27ebfffed28a59.dip0.t-ipconnect.de)
[01:00:06] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 245 seconds)
[01:02:51] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 276 seconds)
[01:05:51] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi) (Read error: Connection reset by peer)
[01:10:42] *** Joins: incognito (~relativit@user/incognito)
[01:18:17] *** Joins: weedmic (~weedmic@109-186-1-92.bb.netvision.net.il)
[01:19:27] *** Joins: schangg (~schangg@lputeaux-656-1-124-218.w92-154.abo.wanadoo.fr)
[01:19:41] <schangg> Hello
[01:19:49] <schangg> I am in the following situation
[01:20:28] <schangg> I have a server that hosts a few bridged VMs running on virtualbox as well as a series of containers running on the docker engine of that server
[01:20:41] <schangg> I want the containers to see the VMs and vice versa
[01:20:54] <schangg> to achieve that, I have used macvlan
[01:21:16] *** Joins: jazzy (~jaziz@user/jaziz)
[01:21:21] <BtbN> define "see"
[01:21:23] <schangg> my server can see the containers (which are on the same broadcast network as my server's ethernet interface)
[01:21:33] <schangg> see = can ping, tcp etc
[01:21:49] <BtbN> You don't need macvlan or anything for that. Just need to enable ip forwarding on the host
[01:21:51] <schangg> my server can see the VMs (I had nothing to od for that to work)
[01:22:01] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[01:22:04] <schangg> I did this
[01:22:18] <schangg> echo 1 >/proc/sys/net/ipv4/ip_forward
[01:22:24] <schangg> that did not help
[01:22:33] <schangg> or maybe I missed something
[01:22:44] <schangg> the thing is that I had the setup working 6 months ago
[01:22:44] <BtbN> You probably have some iptables rules configured that prevent it or something
[01:23:15] <schangg> I believe (but not 100% sure) that I did save the setup scripts that worked before moving everything to a new server (after which nothing worked anymore)
[01:23:28] <schangg> I have not set any iptables rules either
[01:23:40] <BtbN> I see no reason why it wouldn't just work then
[01:23:56] <schangg> when I tcpdump the mac interface that I have created I can see ARP coming fro either side
[01:24:13] <schangg> e.g., a container requesting the MAC of the VMs 
[01:24:18] <schangg> but nothing back
[01:24:21] <schangg> and vice versa
[01:24:59] <schangg> so basically what you are saying is that if I just use default docker network then containers will see VMs and vice versa just by enabling ip_forward ?
[01:25:41] <schangg> because in that case the containers will have a 172 IP which is like NAted behing the host and as such the VMs wont see these containers
[01:25:58] *** Joins: vlm (~vlm@user/vlm)
[01:25:59] <schangg> and aside from that I would like all (VMs and containers) to be on the same broadcast network
[01:26:22] <schangg> I am doing that setup for education purposes where certains activities rely on having all on the same broadcast network
[01:27:33] <schangg> BtbN when you mention iptables rules : aside from those created by the docker engine (and there are quite a lot) I have absolutely not added any rule by myself
[01:28:18] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[01:29:14] <BtbN> No idea why it doesn't work then. The host should just route between the two
[01:30:01] <schangg> yes exactly
[01:30:42] <schangg> to have the host reach the containers I have used sudo ip link add mac0 link enp0s25 type macvlan mode bridge
[01:31:01] *** Quits: weedmic (~weedmic@109-186-1-92.bb.netvision.net.il) (Quit: Konversation terminated!)
[01:31:13] <schangg> and when I tcpdump the mac0 interface I do see ARP trafic coming from both ends but not going through
[01:31:19] *** Joins: jmartin (~jmartin@user/jmartin)
[01:31:45] <BtbN> I also see no reason to mess with macvlan for this to work
[01:31:49] <BtbN> it should just work by default
[01:32:55] <schangg> can I achieve havng containers and VMs on the same broadcast network without macvlan ?
[01:33:24] <BtbN> No. Hence I asked how you define "see"...
[01:33:37] <BtbN> Cause to ping and make tcp connections, you don't need that.
[01:34:21] <schangg> indeed
[01:34:49] <schangg> but in the setup I want, I need to have all on the same broadcast network
[01:35:01] <schangg> and what's annoying is that it did work at some point
[01:35:10] <Flash> stupid suggestion ... I ran into the default docker0 IP address conflicting with an address range in use on my network. This isn't that?
[01:35:13] <schangg> but I must have saved the wrong conf
[01:35:43] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[01:36:01] <schangg> docker0 has 172.17.0.1
[01:36:11] <schangg> my network is 192.168.42.0/24
[01:36:45] <schangg> so my containers are on a macvlan network 192.168.42.0/24 with ip range starting at 129
[01:37:13] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Read error: Connection reset by peer)
[01:39:09] <schangg> another interesting thing
[01:39:16] <schangg> if from a VM I ping a container
[01:39:22] <schangg> and from the container I tcpdump
[01:39:30] *** Quits: lithium (~lithium@user/lithium) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[01:39:43] <schangg> then I see the broadcasr ARP requests coming from the VM
[01:39:58] <schangg> but it is like the containers wont bother replying to it
[01:40:58] <schangg> are there any default network isolation config in docker that could cause that ?
[01:41:43] <evon> I'd like to use Traefik as a reverse proxy but I am not sure how to it up.  Can someone check out my files please? https://susepaste.org/64256827, https://susepaste.org/42866683, https://susepaste.org/47550161. I'd like for traffick coming through port 4443 to be forward to port 443 inside my vm located at 192.168.1.64
[01:43:01] <schangg> the other that I could suspect when I run iptables -L is this https://www.toptal.com/developers/hastebin/ofahizatab.sql
[01:43:11] <schangg> Chain DOCKER-ISOLATION-STAGE-2
[01:43:13] *** Joins: awmv_name_taken (~awmv@2a02:21b0:644f:c181:857a:5389:752a:c37b)
[01:43:19] <schangg> where I see that stuff are being dropped
[01:43:37] *** Quits: awmv (~awmv@2a02:21b0:644f:c181:348a:489a:7bb8:7b4a) (Read error: Connection reset by peer)
[01:44:19] <tabakhase> evon and what is it doing?
[01:44:52] <evon> tabakhase: page not found error
[01:45:25] <evon> tabakhase: When I navigate to myhostip:4443 i get a page not found error
[01:45:25] *** Joins: TheSilentLink_ (~TheSilent@user/thesilentlink)
[01:45:31] <tabakhase> is that backend http reachable? or just https? -> url = "http://192.168.1.64"
[01:45:52] <evon> tabakhase: 192.168.1.64 is reachable
[01:46:07] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 244 seconds)
[01:46:51] <tabakhase> http = 80, 443 = https
[01:47:14] <tabakhase> you say you want 443, but the config says 80
[01:47:36] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[01:47:37] <evon> which file?
[01:48:53] <evon> i see now
[01:48:53] <tabakhase> that said, if that were the error i would expect that to throw a different error msg.. - you sure that the rule is hitting? cause i see none
[01:50:03] <tabakhase> best check you docker exec into your traefik and ping/curl/wget it :P
[01:51:02] <evon> Now you just speaking another language to me.  I changed the http to https and now going to myhostip:4443 takes me to the traefik dashboard
[01:51:55] <tabakhase> > speaking another language to me. < on what part exactly?
[01:51:56] *** Quits: TheSilentLink_ (~TheSilent@user/thesilentlink) (Ping timeout: 258 seconds)
[01:52:15] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 260 seconds)
[01:52:53] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[01:53:07] <tabakhase> docker exec -it traefik sh -- gives you a terminal inside the container
[01:54:57] <tabakhase> if there is no wget/culr/apt/apk in it, you can even "hook another container into it" like `docker run --rm -it --net container:traefik curlimages/curl sh`
[01:55:22] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Quit: bye)
[01:55:52] *** Quits: TomTom (uid45892@id-45892.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[01:57:22] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[01:57:27] <evon> tabakhase: :-/ can you explain a little how that helps me here and i am supposed to use it? I understand how to run commands in the container though
[01:58:01] <tabakhase> to eliminate/verify "traefik/the config" beeing the issue, and not networking itself
[02:00:59] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[02:01:52] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Client Quit)
[02:02:05] <ash_worksi> can I just ask the room, how do you like to name your containers? like if you have a database container running postgres for an app called my_app, would you tend to name it my_app_db or my_app_postgresql ? 
[02:02:16] *** Quits: DoofusCanadensis (~DoofusCan@207.229.38.10) (Quit: So as you can see from this flowchSQUIRREL!!)
[02:02:34] <ash_worksi> or even more specifically, s/app/service/
[02:02:49] <tabakhase> ash_worksi containers dont deserve names :P
[02:02:57] <ash_worksi> tabakhase: do elaborate
[02:03:03] <tabakhase> and in a compose or "bare" docker?
[02:03:12] <ash_worksi> well, either I guess
[02:04:34] <cim> tabakhase: all of my containers have names ;(
[02:04:35] <tabakhase> compose call it app & db - compose will attach parent dir as projectname (can also be set with -P or a env-var or inside .env)
[02:04:38] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[02:05:07] <tabakhase> if that ends up beeing "my_app_db" - who cares, YOU only ever interact with "docker-compose ... db" anyhow
[02:05:16] <ash_worksi> I generally find it helpful to reference container hostnames, which is why I name them; but when I have to name a db container, I tend to name it blah_db; 
[02:05:33] <ash_worksi> but now I have to add a redis store for session management
[02:05:44] <ash_worksi> I guess I could call that "session:"
[02:06:07] <ash_worksi> though, that almost sounds TOO specific
[02:06:29] <ash_worksi> unless people generally run more than 1 instance of a redis container for different things
[02:06:37] <ash_worksi> I would guess not though
[02:06:37] <tabakhase> can always just call it what it is :P redis
[02:06:59] <tabakhase> if youd run multiple, there prob be a specific name for it automatically...
[02:07:01] <ash_worksi> tabakhase: is that what you would do?
[02:07:30] <tabakhase> like, i could imagine seeing "redis" AND "sessionstore" (whats also a redis) :P
[02:07:47] <ash_worksi> "whats also a redis" ?
[02:07:55] <ash_worksi> you mean, "also, what's a redis" ?
[02:08:21] <tabakhase> redis: image: redis + sessionstore: image: redis
[02:08:55] <ash_worksi> can you write that in json for legibility for me?
[02:09:13] *** Joins: bouncy (~ben@user/benoit)
[02:09:26] <ash_worksi> { redis: { image: redis }, sessionstore: { image: redis } } ... ?
[02:10:11] <tabakhase> the redis-called-redis-instance may be general purpose cache, with evict by age --- where as the sessionstore-called-redis-instance writes to disk
[02:10:41] <tabakhase> but yea, "naming things" literally hardest thing in IT .P
[02:11:55] <ash_worksi> tabakhase: it warrants most of my time on IRC
[02:12:05] <ash_worksi> tabakhase: I ask quite a few questions in ##English
[02:12:29] <ash_worksi> also, 'evict by age' is a global setting for all or redis?
[02:12:47] <ash_worksi> ie would you want to run 2 redis containers to have different evict by age parameters?
[02:13:22] <ash_worksi> and lastly, are you saying the "general purpose cache" would *not* write to disk?
[02:13:53] <ash_worksi> and lastly lastly, are you suggesting a sessionstore *should* write to disk?
[02:23:00] *** Joins: jazzy2 (~jaziz@user/jaziz)
[02:23:04] *** Quits: jazzy (~jaziz@user/jaziz) (Read error: Connection reset by peer)
[02:24:20] <tabakhase> ash_worksi dont put to much meaning on any of this, its entirely made up
[02:24:32] *** Joins: vlt (~dm@157.230.21.14)
[02:24:36] <tabakhase> sr if that wasnt clear :D
[02:28:01] <vlt> Hello. I have a broken kubernetes installation and am trying to get data from a docker image. I have the complete file system of docker/registry/v2/...  Using this, is there a way to create a mountable image file?
[02:29:50] <ash_worksi> sr ?
[02:37:38] *** Quits: AnselmoCampanas (~AnselmoCa@190.99.69.41) (Quit: Client closed)
[02:39:51] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 260 seconds)
[02:40:51] <vlt> In repositories/manifests/ I found the hash of my_image:latest, in blobs/ I found a JSON file describing image layers. The hashes in there point to pieces of a file system. Any idea how to compose this?
[02:41:57] *** Quits: greatgatsby_ (~greatgats@bras-base-toroon0411w-grc-52-142-114-106-7.dsl.bell.ca) (Remote host closed the connection)
[02:45:34] *** Quits: mickey8 (~user@user/mickey) (Remote host closed the connection)
[02:46:35] *** Joins: mickey8 (~user@user/mickey)
[02:54:20] *** Quits: awmv_name_taken (~awmv@2a02:21b0:644f:c181:857a:5389:752a:c37b) (Quit: awmv_name_taken)
[02:56:03] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Quit: The Lounge - https://thelounge.chat)
[02:56:12] <programmerq> vltâ–¸ fire up a registry with that directory and then pull the image.
[02:58:30] *** Quits: schangg (~schangg@lputeaux-656-1-124-218.w92-154.abo.wanadoo.fr) (Quit: Client closed)
[03:04:27] *** Quits: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-121.dsl.bell.ca) (Quit: Client closed)
[03:05:06] *** Joins: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-121.dsl.bell.ca)
[03:23:15] *** Quits: jazzy2 (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[03:25:56] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[03:26:44] *** Joins: xMopx (~xMopx-lib@192.95.23.134)
[03:26:52] *** Quits: dostoyevsky2 (~sck@user/dostoyevsky2) (Ping timeout: 244 seconds)
[03:27:18] *** Quits: David- (~none@51.148.182.203) (Quit: Going, going, gone...)
[03:27:40] *** Joins: dostoyevsky2 (~sck@user/dostoyevsky2)
[03:27:44] *** Joins: David- (~none@51.148.182.203)
[03:29:33] <xMopx> how can i convince `docker-compose up` not to try to pull images? 
[03:32:33] *** Quits: jmartin (~jmartin@user/jmartin) (Remote host closed the connection)
[03:32:57] *** Joins: jmartin (~jmartin@user/jmartin)
[03:34:35] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 264 seconds)
[03:36:55] *** Quits: terrorjack (~terrorjac@static.3.200.12.49.clients.your-server.de) (Quit: Ping timeout (120 seconds))
[03:37:40] *** Joins: terrorjack (~terrorjac@static.3.200.12.49.clients.your-server.de)
[03:38:31] *** Quits: matthewcroughan (~quassel@static.211.38.12.49.clients.your-server.de) (Remote host closed the connection)
[03:38:44] *** Quits: prime (~prime@user/prime) (Ping timeout: 244 seconds)
[03:38:50] *** Joins: matthewcroughan (~quassel@static.211.38.12.49.clients.your-server.de)
[03:39:49] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[03:41:05] *** Joins: prime (~prime@user/prime)
[03:43:46] *** Joins: AnselmoCampanas (~AnselmoCa@190.99.69.41)
[03:51:14] *** Joins: Tabmow (~tabmow@user/tabmow)
[03:56:40] *** Quits: Tabmow (~tabmow@user/tabmow) (Ping timeout: 260 seconds)
[03:57:41] *** Joins: Tabmow (~tabmow@user/tabmow)
[04:01:22] *** Quits: RougeR (~rougex250@user/rouger) (Quit: Leaving)
[04:03:42] <jmartin> hi, i have a docker-compose with 2 containers, one is the main service and the other is only waiting for the first to boot to setup and provision data. Can i self remove the second one once is done?
[04:07:32] *** Joins: rtpg (sid443069@ilkley.irccloud.com)
[04:08:35] <jmartin> wow, the alpine is really small, i used alpine+curl and is less than 8Mb; so not a big deal in the end
[04:08:45] <rtpg> Does anyone know what is the currently blessed strategy for dealing with Docker for Mac's abyssmal disk perf, especially if I don't need exact mirroring of disk (just the standard "when I save a file on the host volume, I would like for it to eventually sync over")?
[04:10:25] *** Joins: incognito (~relativit@user/incognito)
[04:11:30] *** Quits: jmartin (~jmartin@user/jmartin) (Remote host closed the connection)
[04:22:39] <tabakhase> rtpg the delegation thing? think thats kinda all there is...
[04:22:51] <tabakhase> asside from sticking into volumes whatever you can
[04:23:44] <rtpg> I'm fine using volumes as much as possible, but like even just "install a python virtual env" or "install node_modules" _even in a volume_  seems to take 10x more time
[04:24:14] <rtpg> been banging away at trying to get docker-sync to do my bidding and am optimistic though
[04:24:30] <tabakhase> also "moving this out of dockers hands entirely" and tooling like sshfs ive heard, no clue how reasonable that actually works tho - no mac user, just relaying what ive picked up here sorry :/
[04:24:59] <rtpg> yeah I'm not a Mac user either actually, but coworkers are and if I don't fix this they won't get off their half-broken setups 
[04:25:01] <tabakhase> and if youre that far - using a remote docker-daemon is pretty seamless too asside from bind-mounts
[04:26:41] <rtpg> I understand this is a hard problem, I don't understand how people are dealing with (for example) all the packages required to even just run React storybook, in this sort of perf environment. My stuff is more complicated but I can't figure out if there's just something deeply wrong with my setup or something 
[04:28:07] <tabakhase> it beeing "slow" is expected... HOW slow slow should be tho - idk... (+js is obvs one of the worst offenders in that regard too ;D)
[04:28:53] <tabakhase> if even volumes are slow - idk where the limits on (hyperkit? its called i think) are, it may just be "bad" - and afaik the only direct option
[04:29:27] <rtpg> It's not about JS being slow, it's about JS being _slower_. Though I guess on mac this is also running in a VM?? Not 100% sure, thought Docker 4 Mac did some tricks 
[04:29:53] <rtpg> slower in the container.. I'll try to isolate a bit more though. Maybe we're doing something silly in our container that also makes things worse
[04:30:12] <tabakhase> (i mean cause js (esp node_modules) is known to contain about 64526587645584256 different 0.5kb files for a "hello-world" :D)
[04:30:25] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:30:46] <rtpg> ah right, you're talking about it being a bit of an edge case in terms of files per bit. Yeah I can understand that point
[04:33:21] *** Joins: OPK (~OPK@user/opk)
[04:33:52] <tabakhase> and i didnt fully catch if youre using delegatin already or not, if not have a read https://tkacz.pro/docker-volumes-cached-vs-delegated/ - basically "allows to define a master" for more speed, but a more-sloppy-sinc in each direction as a tradeoff
[04:34:43] *** Joins: vlm (~vlm@user/vlm)
[04:35:00] <tabakhase> but if even volumes suck (as in named-volumes, just to be extra clear) that likely doesnt go much further...
[04:35:46] <rtpg> yeah, we're talking about named volumes instead of just binding to an existing folder yeah? 
[04:36:29] <rtpg> Though I'm honestly getting a lot of stuff mixed up at this point, not super scientific method. I might retry some of the older stuff. Especially given that for the node_modules stuff or virtual env in particular I don't need the two way sync
[04:36:44] *** Quits: OPK (~OPK@user/opk) (Read error: Connection reset by peer)
[04:37:31] <rtpg> like I mainly want to use the volumes to hold the installed artifacts so we're not installing from scratch every time we boot up our images (This is for development). Though I guess if the perf were better this wouldn't be as big of a deal, we just have a lot of stuff that is getting installed
[04:41:23] <tabakhase> > instead of just binding to an existing folder < - correct, while those also go in volumes: / -v generally refeered to as "bind-mounts" (also the underlaying linux feature thats used)
[04:41:39] *** Quits: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-121.dsl.bell.ca) (Quit: Client closed)
[04:42:11] *** Joins: OPK (~OPK@user/opk)
[04:45:14] <tabakhase> on "native linux" bind-mounts are even a tad faster than named-volumes - but i have no clue what youd need todo to reach those (and not have docker attempt to bend that path from the mac-filesystem) - but no clue how that works there...
[04:46:47] <tabakhase> (as, your host is likely in some /mnt/hostdisk dir in the docker-vm and any "-v /some/path" you issue gets bend to /mnt/hostdisk//some/path -- at least thats kinda what old docker-toolbox did, rly no clue on docker-for-mac :| )
[04:48:01] <rtpg> I wonder if I could make a volume that doesn't even store the data on the mac FS somehow..
[04:51:49] *** Joins: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-121.dsl.bell.ca)
[04:52:28] *** Quits: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-121.dsl.bell.ca) (Client Quit)
[04:52:49] *** Joins: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-121.dsl.bell.ca)
[04:55:39] *** Quits: OPK (~OPK@user/opk) (Ping timeout: 260 seconds)
[04:56:04] *** Joins: The_Jag_ (~The_Jag@host-87-14-224-44.retail.telecomitalia.it)
[04:56:08] *** Joins: OPK (~OPK@user/opk)
[04:57:28] *** Quits: ada_ (uid242135@user/ada/x-9065485) (Quit: Connection closed for inactivity)
[04:57:42] *** Quits: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-121.dsl.bell.ca) (Quit: Client closed)
[04:58:30] *** Quits: The_Jag (~The_Jag@host-95-252-5-94.retail.telecomitalia.it) (Ping timeout: 260 seconds)
[05:00:53] *** Joins: jazzy (~jaziz@user/jaziz)
[05:01:01] *** Joins: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-121.dsl.bell.ca)
[05:07:36] *** Quits: OPK (~OPK@user/opk) (Ping timeout: 245 seconds)
[05:11:11] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 264 seconds)
[05:13:02] *** Quits: jkovac1 (~jkovac1@user/jkovac1) (Quit: The Lounge - https://thelounge.chat)
[05:20:13] *** Joins: jkovac1 (~jkovac1@user/jkovac1)
[05:25:32] *** Joins: OPK (~OPK@user/opk)
[05:27:52] *** Quits: jazzy (~jaziz@user/jaziz) (Quit: Beddie bye-bye)
[05:34:47] *** Joins: keypusher (keypusher@user/keypusher)
[05:39:54] *** Quits: OPK (~OPK@user/opk) (Read error: Connection reset by peer)
[05:43:29] *** Joins: OPK (~OPK@user/opk)
[05:50:41] *** Quits: leitz (~LeamHall@cpe-173-172-58-72.tx.res.rr.com) (Quit: nappy time)
[06:05:57] *** Quits: AnselmoCampanas (~AnselmoCa@190.99.69.41) (Ping timeout: 256 seconds)
[06:06:03] *** Quits: w4ld0 (w4ld0@gateway/vpn/protonvpn/w4ld0) (Ping timeout: 268 seconds)
[06:08:45] *** Joins: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net)
[06:09:07] *** Quits: OPK (~OPK@user/opk) (Read error: Connection reset by peer)
[07:00:56] *** Quits: junktext (~junktext@gateway/vpn/pia/junktext) (Ping timeout: 268 seconds)
[07:39:05] *** Joins: OPK (~OPK@user/opk)
[07:41:19] *** Quits: tkazi (~tkazi@user/tkazi) (Quit: Disconnected)
[07:41:58] *** Joins: tkazi (~tkazi@user/tkazi)
[07:42:03] *** Quits: tkazi (~tkazi@user/tkazi) (Remote host closed the connection)
[07:42:22] *** Joins: tkazi (~tkazi@user/tkazi)
[07:46:20] *** Quits: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net) (Quit: andydude)
[07:49:27] *** Quits: A17_ (~DeeJayh@97-120-22-216.ptld.qwest.net) (Quit: Quit.)
[07:52:19] *** Joins: A17 (~DeeJayh@97-120-22-216.ptld.qwest.net)
[08:10:34] <evon> tabakhase: So what exactly should i be checking in the container and how?
[08:24:31] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[08:40:58] *** Joins: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net)
[08:53:39] *** Joins: OsteHovel (~OsteHovel@ti0056a400-6574.bb.online.no)
[08:54:31] *** Joins: i64 (i64@gateway/vpn/protonvpn/i64)
[08:54:38] *** Joins: vidbina (~vid@dynamic-077-011-072-251.77.11.pool.telefonica.de)
[08:55:11] *** Quits: waldo323__ (~waldo323@d14-69-96-170.try.wideopenwest.com) (Remote host closed the connection)
[08:55:33] *** Joins: waldo323__ (~waldo323@d14-69-96-170.try.wideopenwest.com)
[08:55:52] *** Quits: evon (~evon@216.181.83.12) (Remote host closed the connection)
[08:56:49] *** Quits: nirojan (sid365686@user/nirojan) (Read error: Connection reset by peer)
[08:56:57] *** Quits: Pingerfowder (~Pingerfow@2404:9400:3:0:216:3eff:fee1:1151) (Remote host closed the connection)
[08:57:08] *** Joins: nirojan (sid365686@user/nirojan)
[08:57:11] *** Joins: Pingerfowder (~Pingerfow@bishibosh.stronk.xyz)
[08:57:23] *** Quits: rtpg (sid443069@ilkley.irccloud.com) (Ping timeout: 264 seconds)
[08:57:23] *** Quits: ThothCastel (sid78195@tinside.irccloud.com) (Ping timeout: 264 seconds)
[08:57:23] *** Quits: ikiryo (sid109660@user/ikiryo) (Ping timeout: 264 seconds)
[08:57:59] *** Quits: gajus (sid202456@tinside.irccloud.com) (Ping timeout: 264 seconds)
[08:58:16] *** Joins: rtpg (sid443069@id-443069.ilkley.irccloud.com)
[08:58:20] *** Joins: gajus (sid202456@id-202456.tinside.irccloud.com)
[08:58:35] *** Quits: lhtseng (sid15322@helmsley.irccloud.com) (Ping timeout: 264 seconds)
[08:58:59] *** Joins: lhtseng (sid15322@id-15322.helmsley.irccloud.com)
[09:00:16] *** Joins: ikiryo (sid109660@user/ikiryo)
[09:00:23] *** Quits: holbrode (sid339826@tinside.irccloud.com) (Ping timeout: 264 seconds)
[09:01:20] *** Joins: ThothCastel (sid78195@id-78195.tinside.irccloud.com)
[09:02:47] *** Quits: liquid-silence (sid522629@uxbridge.irccloud.com) (Ping timeout: 264 seconds)
[09:03:19] *** Joins: liquid-silence (sid522629@id-522629.uxbridge.irccloud.com)
[09:03:31] *** Joins: holbrode (sid339826@id-339826.tinside.irccloud.com)
[09:19:35] *** Joins: ferr_ (~ferr@185.65.50.144)
[09:20:11] *** Quits: fercell (~ferr@185.65.50.159) (Ping timeout: 264 seconds)
[09:26:46] *** Quits: vidbina (~vid@dynamic-077-011-072-251.77.11.pool.telefonica.de) (Ping timeout: 245 seconds)
[09:41:16] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[09:46:52] *** Quits: kapil (~kapil@2a01:4f9:c010:c9c3::1) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[09:47:41] *** Quits: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net) (Quit: andydude)
[09:48:53] *** Joins: kapil (~kapil@o-k.website)
[09:49:35] *** Joins: Atque (~Atque@user/atque)
[09:51:59] *** Quits: i64 (i64@gateway/vpn/protonvpn/i64) (Ping timeout: 260 seconds)
[09:53:17] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[09:54:56] *** Quits: kapil (~kapil@o-k.website) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[09:57:32] *** Joins: ExeciN (~ExeciN@user/nicexe)
[09:58:17] *** Joins: lithium (~lithium@user/lithium)
[09:59:46] *** Joins: vidbina (~vid@dynamic-077-011-072-251.77.11.pool.telefonica.de)
[10:01:10] *** Joins: kapil (~kapil@o-k.website)
[10:02:15] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[10:03:28] *** Joins: momomo (~momomo@user/momomo)
[10:03:48] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[10:10:43] <vlt> programmerq: Hello and thank you! I created a registry container on a docker machine, bind mounted my old registry/docker/ file system and could then pull my_image:latest from that container. That worked so far.
[10:11:11] <vlt> But where is that image now? Physically or in a mounted file system state?
[10:13:24] *** Joins: robink (~quassel@user/robink)
[10:14:35] <vlt> "I could pull" means "I ran `docker pull localhost:5000/my_image:latest` and it finished successfully" but where do pulled images go?
[10:15:02] *** Quits: Joel (~jjshoe@user/joel) (Ping timeout: 244 seconds)
[10:16:06] *** Joins: Joel (~jjshoe@user/joel)
[10:18:12] *** Joins: TomTom (uid45892@id-45892.ilkley.irccloud.com)
[10:20:49] <vlt> `docker info` says "Storage Driver: overlay2"
[10:23:54] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[10:25:54] <vlt> From `docker image inspect my_image` I got '"WorkDir": "/var/lib/docker/overlay2/be...55/work"' but that is empty. 
[10:34:34] *** Quits: artok (~azo@mobile-access-bcee2b-18.dhcp.inet.fi) (Quit: worrk)
[10:39:25] *** Joins: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[10:42:59] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 264 seconds)
[10:45:41] *** Quits: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 264 seconds)
[10:52:25] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[10:55:59] *** Quits: lithium (~lithium@user/lithium) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[11:05:18] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-3400-d181-a553-020d.res6.spectrum.com) (Quit: jarthur)
[11:10:19] *** Joins: lithium (~lithium@user/lithium)
[11:25:13] *** Joins: jazzy (~jaziz@user/jaziz)
[11:27:46] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[11:43:17] *** Quits: sudoforge (~sudoforge@wireguard/tunneler/sudoforge) (Ping timeout: 246 seconds)
[11:46:57] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[11:47:53] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[11:49:55] *** Joins: Atque (~Atque@user/atque)
[11:52:40] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[11:54:36] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[12:01:02] *** Joins: Proxysna (~Proxysna@62.119.254.142)
[12:05:29] *** Joins: goldfish (~goldfish@user/goldfish)
[12:12:50] *** Joins: incognito (~relativit@user/incognito)
[12:13:37] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[12:13:40] *** Joins: zamba (~marius@5.226.162.54)
[12:14:12] *** Joins: dexterfoo (dexter@2a01:7e00::f03c:91ff:fe86:59ec)
[12:15:17] <dexterfoo> How do I make "free" command inside container report the memory total of the container, and not of the host? I found an article that explains the problem, but it doesn't give the solution: https://ops.tips/blog/why-top-inside-container-wrong-memory/
[12:15:23] *** Quits: gooble_gobble (~gooble_go@c-76-16-103-215.hsd1.il.comcast.net) (Ping timeout: 264 seconds)
[12:19:31] <zamba> hi.. i want to make a nfs share available inside a docker container
[12:20:10] <zamba> is it best to do this per container or can this be done "globally" in the docker engine? especially since this is an nfs share that will be used across different containers across different docker-composer environments
[12:26:55] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 260 seconds)
[12:34:29] *** Quits: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-121.dsl.bell.ca) (Quit: Client closed)
[12:34:44] *** Joins: vd (~vd@bras-base-mtrlpq2848w-grc-41-70-53-240-121.dsl.bell.ca)
[12:36:44] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[12:39:09] *** Quits: dthpulse (~quassel@podciarou.sk) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[12:41:13] *** Joins: dthpulse (~quassel@podciarou.sk)
[12:44:11] *** Joins: dthpulse_ (~quassel@podciarou.sk)
[12:44:49] *** Quits: dthpulse (~quassel@podciarou.sk) (Read error: Connection reset by peer)
[13:02:33] *** Joins: mohabaks_ (~mohabaks@gateway/tor-sasl/mohabaks)
[13:04:21] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 276 seconds)
[13:10:12] *** Quits: mohabaks_ (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 276 seconds)
[13:11:53] *** Joins: mohabaks_ (~mohabaks@gateway/tor-sasl/mohabaks)
[13:12:19] *** Joins: awmv (~awmv@2a02:21b0:644f:c181:857a:5389:752a:c37b)
[13:14:14] <Furai> Is it possible to bind 2 folders inside the same container? Something like bindfs with fuse? 
[13:14:59] <Furai> Though I can't allow my docker container to run privileged and access fuse.
[13:18:26] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Ping timeout: 245 seconds)
[13:23:41] *** Joins: BenjiProd (~BenjiProd@user/benjiprod)
[13:29:03] *** Quits: mohabaks_ (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 276 seconds)
[13:29:13] *** Quits: sebastianos (~sebastian@user/sebastianos) (Ping timeout: 258 seconds)
[13:31:42] *** Joins: sebastianos (~sebastian@user/sebastianos)
[13:32:43] *** Quits: OPK (~OPK@user/opk) (Quit: Textual IRC Client: www.textualapp.com)
[13:39:26] *** Joins: mohabaks_ (~mohabaks@gateway/tor-sasl/mohabaks)
[13:41:11] *** Quits: sebastianos (~sebastian@user/sebastianos) (Ping timeout: 264 seconds)
[13:42:20] *** Joins: sebastianos (~sebastian@user/sebastianos)
[13:43:26] *** Quits: tianon (~tianon@user/tianon) (Ping timeout: 245 seconds)
[13:49:02] *** Quits: dthpulse_ (~quassel@podciarou.sk) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[13:57:19] *** Joins: tianon (~tianon@user/tianon)
[14:25:31] *** Joins: Bruners (lasseb@178.16.67.227)
[14:32:32] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Remote host closed the connection)
[14:33:17] *** Quits: mohabaks_ (~mohabaks@gateway/tor-sasl/mohabaks) (Quit: WeeChat 3.3)
[14:33:50] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[14:35:55] *** Joins: withered_wolf (~withered_@2600:1008:b148:3218:7994:c364:67e7:f354)
[14:37:26] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Read error: Connection reset by peer)
[14:40:06] *** Quits: withered_wolf (~withered_@2600:1008:b148:3218:7994:c364:67e7:f354) (Ping timeout: 245 seconds)
[14:41:32] *** Joins: Fjord (~Fjord@c-73-14-198-35.hsd1.co.comcast.net)
[14:44:05] *** Joins: memoryleak (~memorylea@77-58-142-250.dclient.hispeed.ch)
[14:49:53] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[14:52:05] <Tach> Has anyone experience with CoreDNS ? I don't see any value when it forwards to the local resolv.conf in a container
[14:55:10] *** nickjj_ is now known as nickjj
[14:57:07] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[15:19:45] *** Joins: withered_wolf (~withered_@2600:1008:b148:3218:2042:e451:a66b:3072)
[15:19:49] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Quit: WeeChat 3.3)
[15:20:43] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[15:35:50] *** Quits: incognito (~relativit@user/incognito) (Remote host closed the connection)
[15:36:40] *** Joins: ExeciN (~ExeciN@user/nicexe)
[15:37:48] *** Joins: minimal (~minimal@user/minimal)
[15:41:07] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[15:41:40] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Quit: WeeChat 3.3)
[15:42:37] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[15:46:32] <tabakhase> vlt images live "deep down in /var/lib/docker" so to say - if you want it as "a thing to hold in hands" - "docker save/load"
[15:56:32] *** Joins: dinowilliam (~quassel@138.204.26.93)
[16:04:09] *** Joins: AnselmoCampanas (~AnselmoCa@190.99.69.41)
[16:05:11] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Ping timeout: 264 seconds)
[16:09:08] *** Joins: inductiveload (~inductive@user/inductiveload)
[16:10:05] <inductiveload> hi! I have a service running in one container (with docker-compose) that I can see on localhost:8080, how can i make a completely separate service have access to that?
[16:10:43] <inductiveload> as in, a whole other docker-compose
[16:14:02] <BtbN> expose the port
[16:14:22] <inductiveload> on which one?
[16:14:34] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[16:14:35] <BtbN> Each container has its own localhost, so something listing on localhost in a container is not accessible
[16:14:36] <inductiveload> the 8080 service?
[16:14:48] <inductiveload> sure, I get that
[16:15:02] <BtbN> So either don't listen only on localhost, or do port forwarding via docker
[16:15:17] <BtbN> And I'm not sure if the later even works if you listen explicitly on localhost
[16:18:05] *** Quits: c10l0 (~c10l@user/c10l) (Ping timeout: 260 seconds)
[16:18:33] <inductiveload> how does one do that port forwarding?
[16:18:34] *** Joins: realies (~realies@user/realies)
[16:19:35] <BtbN> -p
[16:20:25] <inductiveload> is that not just `ports` in docker-compose?
[16:21:13] <BtbN> No idea about compose. But I'd be surprised if it can't do it.
[16:22:09] <inductiveload> i mean, i'm already forwarding the server in the container to the host 8080
[16:22:34] <BtbN> You should be able to just connect to that then
[16:22:42] <inductiveload> from the other container?
[16:23:02] <inductiveload> i can see localhost:8080, the other container obviously cannot
[16:23:22] <inductiveload> but I can't just do ports: 8080:8080, because 8080 is already bound
[16:23:28] <BtbN> Like I said, don't bind to localhost then.
[16:23:37] <BtbN> Use a different port then?
[16:23:38] <inductiveload> so bind to my local IP?
[16:24:07] <BtbN> To something the other container network can reach at least
[16:24:34] <inductiveload> whatever port I run it on will be bound already?
[16:24:45] <inductiveload> the first container will bind it
[16:25:07] <BtbN> What do you mean?
[16:25:16] *** Joins: c10l (~c10l@user/c10l)
[16:25:18] <BtbN> The network inside of the container is completely separate
[16:25:27] <BtbN> you can have something bind to 8080 in 100 containers in parallel.
[16:25:35] <inductiveload> container one: (server:80 -> host:8080)
[16:25:40] <inductiveload> container two (I want to read from host:8080)
[16:26:38] *** Quits: withered_wolf (~withered_@2600:1008:b148:3218:2042:e451:a66b:3072) (Remote host closed the connection)
[16:26:55] *** Joins: withered_wolf (~withered_@2600:1008:b148:3218:2042:e451:a66b:3072)
[16:29:02] <BtbN> There's nothing stopping that container from talking to host:8080. Unless you completely isolated it somehow, without a way out to the host and the internet.
[16:29:08] <BtbN> Just don't bind to localhost on the host.
[16:30:31] <realies> trying to dun a docker stack on apple silicon and it dies with failed to solve: rpc error... authorization failed
[16:30:34] <realies> *run
[16:31:05] <inductiveload> so how do i connect container two's 8080 to the host 8080 then?
[16:31:08] <realies> the stack contains 2 images that are built from dockerfiles, and the second depends on the first one 
[16:34:58] <BtbN> What do you mean, connect "container two's 8080 to host 8080"?
[16:35:07] <BtbN> You can't "connect" two servers
[16:35:28] <BtbN> You just connect to hosts ip/hostname on port 8080 from the other container.
[16:35:38] <inductiveload> when container two reads "localhost:8080", that's it's _own_ localhost
[16:36:15] <inductiveload> i want it to read the host localhost (which is actually container one's port 80)
[16:36:24] *** Quits: withered_wolf (~withered_@2600:1008:b148:3218:2042:e451:a66b:3072) (Remote host closed the connection)
[16:36:38] <BtbN> You can't access the hosts localhost.
[16:36:47] <BtbN> Hence you need to listen on something that's not localhost.
[16:37:04] <inductiveload> who needs to listen?
[16:37:14] <inductiveload> the server in container one?
[16:37:29] <BtbN> The port on the host
[16:38:02] <inductiveload> which is the server in container one
[16:38:16] <BtbN> No, it's not.
[16:38:18] *** Joins: INeedAHandle_ (~INeedAHan@39.124.72.106)
[16:38:21] <BtbN> It's dockers port forward
[16:38:44] *** Quits: INeedAHandle (~INeedAHan@39.124.72.106) (Read error: Connection reset by peer)
[16:39:06] <inductiveload> so how do I set that up then?
[16:39:23] <BtbN> Don't configure it to listen on localhost, but on some proper routeable IP.
[16:39:37] <inductiveload> configure what?
[16:39:39] <tabakhase> inductiveload may wanne clearly restate what you wanne do... im getting a little lost on whos who ;-)
[16:39:47] <BtbN> If you don't want the outside to be able to reach it, the IP of the hosts interface of containers network comes to mind
[16:40:15] <inductiveload> i have mediawiki in a container, which i can access on localhost:8080
[16:40:26] <minimal> inductiveload: configure your app running inside the container to listen on 0.0.0.0 rather than 127.0.0.1
[16:40:49] <[twisti]> i could have sworn ive read this exact discussion here yesterday
[16:40:57] <BtbN> I'd assume that's already working. Otherwise accessing it wouldn't work.
[16:41:35] <inductiveload> and I want another container to be able to access that server (to download some data)
[16:42:01] <inductiveload> they're two completely separate things, not in the same project
[16:42:16] <tabakhase> inductiveload "container to container" networking is to be done without your host - stick them together in a network and they can resolve another "ba name"
[16:42:30] <BtbN> So, like I said multiple times, make your port forward listen on anything but only localhost, and it'll work just fine from any other local container.
[16:42:45] <tabakhase> if those are separate compose files, you still do just that same thing, but mark the network as "external: true" on one side
[16:43:04] <BtbN> Don't even need to do that if the port is exposed on the host anyway
[16:43:10] <inductiveload> BtbN: you never said how tho
[16:43:10] <BtbN> just connect to host:exposed_port
[16:43:29] <BtbN> You literally just don't specify 127.0.0.1, but any other local Ip that's routeable...
[16:43:50] <BtbN> Or no IP at all, if you are fine with the outside potentially reaching that port
[16:44:52] <tabakhase> and to "stick your extra network into compose-files you dont want to change" - you can use either docker-compose.override.yml or "-f ... -f ..." or COMPOSE_FILE env-Var
[16:46:29] <tabakhase> hairpinnign over the host - what BtbN seems to suggest - is rather meh, if it even works at all... - docker-networks are the only 'sollution' by design
[16:47:15] <BtbN> Why would it not work? If the port is exposed on the host (and it's not limited to localhost), anything that routes through the host will be able to reach it.l
[16:48:27] <BtbN> Like, if your wiki-containers network is on for example 10.20.30.0/24, and your host has 10.20.30.1 there, you just connect to 10.20.30.1:8080 from any random container that's not isolated.
[16:49:36] <inductiveload> righto, so networks: default: external: name: "somename"?
[16:49:45] <inductiveload> (imagine the nesting)
[16:50:43] <tabakhase> inductiveload pretty much yea - the external is rly "just there so on 'down' it doesnt try to remove the network" ((what would fail as the container from the OTHER stack is still alive in it))
[16:52:01] <inductiveload> and then what's the address container two "sees" container one's server on?
[16:52:02] <tabakhase> so youd have say your nginx/traefik/ingress compose file with the "ingress" network -- and then in 3 other folders compose stacks that all get a override file to "tap into the network ingress as external" and become reachable to the nginx/traefik
[16:53:36] <tabakhase> no adress - names, the "service name" in a compose file, container name, or network aliases can be added as well -- so kinda by whatever you like rly
[16:54:04] <tabakhase> just dont use raw ip addresses ever :P
[16:55:06] <inductiveload> hmm docker network ls still has *_default entries
[16:55:14] <inductiveload> (and also my "mediawiki" network)
[16:55:38] <inductiveload> oh wait, prune
[16:56:17] *** Quits: INeedAHandle_ (~INeedAHan@39.124.72.106) (Quit: My MacBook Air has gone to sleep. ZZZzzzâ€¦)
[16:57:44] *** Joins: INeedAHandle (~INeedAHan@39.124.72.106)
[17:00:45] *** Quits: wolfdale (~wolfdale@ec2-3-1-90-26.ap-southeast-1.compute.amazonaws.com) (Read error: Connection reset by peer)
[17:01:03] *** Joins: wolfdale (~wolfdale@ec2-3-1-90-26.ap-southeast-1.compute.amazonaws.com)
[17:02:39] <inductiveload> re: "no address", but what do I put in, say "wget"?
[17:03:00] *** Joins: withered_wolf (~withered_@2600:1008:b148:3218:2042:e451:a66b:3072)
[17:03:04] *** Quits: withered_wolf (~withered_@2600:1008:b148:3218:2042:e451:a66b:3072) (Remote host closed the connection)
[17:03:11] <inductiveload> `servicename:8080` doesn't seem to be it?
[17:03:32] <BtbN> The name of the container you want to talk to.
[17:03:37] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[17:03:51] <BtbN> If you haven't set one in the compose file, it'll be something random. So, you should set one.
[17:04:22] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[17:07:28] <inductiveload> aha!
[17:10:01] <inductiveload> ok cool, that all makes sense now
[17:11:17] <BtbN> I still don't understand why you can't just connect to the port you are exposing on the host anyway.
[17:13:03] <inductiveload> i.e. connect to 192.168.xxx.xxx:8080?
[17:14:12] <BtbN> You'd probably use the hostname of your host, rather than an IP (unless it's sure to never change), but yes
[17:25:40] *** Joins: kajiryoji (~kajiryoji@180.160.56.140)
[17:26:07] <kajiryoji> Hi guys, can I balance my applications with persistent data using docker swarm?
[17:29:24] <wez> kajiryoji: Can gurls help too? What about non-binary genders? 
[17:29:54] <kajiryoji> wez what do you mean? I'm not sure I follow you
[17:31:58] <wez> kajiryoji: Your salution to guys only
[17:32:04] <wez> salutation
[17:32:37] <kajiryoji> wez lol sry I meant Hi all. Of course any help is welcome.
[17:32:46] <wez> :D
[17:32:52] <wez> Good to know
[17:35:00] <wez> and you can use docker swarm to mount the same remote shares in all instances
[17:35:08] <wez> but you need to host them somewhere
[17:35:27] <wez> Docker supports a number of them, I believe k8s support even more
[17:37:00] <kajiryoji> wez thanks for your info :) Would you perhaps be able to share a link to the doc?
[17:37:24] <kajiryoji> Also I was thinking more in the lines of migration rather than mounting
[17:37:50] <wez> kajiryoji: I am sure Google works the same for you as it does for me
[17:38:01] <wez> Ah OK
[18:00:47] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi)
[18:03:46] *** Joins: Atque (~Atque@user/atque)
[18:10:30] *** Joins: rightisleft (~rightisle@12.38.141.131)
[18:11:20] <rightisleft> Howdy - has anyone enccountered this error when using generic resources in docker swarm? msg="failed to deactivate service binding for container nightly_core_metamorph.1.7syc32uyege6dbk
[18:11:23] *** Joins: bouncy (~ben@user/benoit)
[18:11:24] <rightisleft> https://github.com/moby/moby/issues/42975
[18:18:05] *** Quits: AnselmoCampanas (~AnselmoCa@190.99.69.41) (Ping timeout: 256 seconds)
[18:19:43] *** Quits: linsux (~metbsd@user/linsux) (Ping timeout: 260 seconds)
[18:22:06] *** Quits: mikeputnam2 (~mikeputna@wilug/mikeputnam) (Quit: WeeChat 2.3)
[18:28:27] *** Quits: rightisleft (~rightisle@12.38.141.131) (Quit: rightisleft)
[18:29:19] *** Joins: fedenix_ (~fedenix@gateway/tor-sasl/fedenix)
[18:29:42] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[18:36:49] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[18:39:32] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[18:45:04] *** Joins: useful_idiot (~useful_id@gateway/vpn/pia/usefulidiot/x-43226899)
[18:48:29] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[18:50:10] *** Joins: vlm (~vlm@user/vlm)
[18:54:04] *** Joins: Atque (~Atque@user/atque)
[18:54:12] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[18:56:39] *** Joins: mickey8 (~user@user/mickey)
[19:02:24] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[19:13:33] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[19:13:54] *** Joins: mickey8 (~user@user/mickey)
[19:15:56] *** Quits: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius) (Ping timeout: 245 seconds)
[19:17:35] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi) (Ping timeout: 260 seconds)
[19:20:13] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[19:20:34] *** Joins: mickey8 (~user@user/mickey)
[19:26:08] *** Joins: almostdvs (~almostdvs@162.154.206.233)
[19:26:38] *** Joins: mikeputnam (~mikeputna@wilug/mikeputnam)
[19:29:00] *** Joins: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius)
[19:29:21] <almostdvs> I keep getting file permissions issues when trying to use docker-compose and the node image.
[19:30:03] <almostdvs> solutions I have encountered are to change the COPY command in dockerfile (which I am not using) or to 777 my working directory which is not really an option in this use case
[19:30:09] *** Quits: securethemews (~securethe@2001:470:69fc:105::9b6d) (Quit: You have been kicked for being idle)
[19:30:15] <almostdvs> Is there some other way I can get around this?
[19:30:26] *** Joins: securethemews (~securethe@2001:470:69fc:105::9b6d)
[19:30:40] *** Parts: securethemews (~securethe@2001:470:69fc:105::9b6d) ()
[19:32:35] *** Joins: waldo323_ (~waldo323@d14-69-96-170.try.wideopenwest.com)
[19:35:19] *** Quits: waldo323__ (~waldo323@d14-69-96-170.try.wideopenwest.com) (Ping timeout: 260 seconds)
[19:39:37] *** Joins: ExeciN (~ExeciN@user/nicexe)
[19:44:13] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[19:45:02] *** Joins: igghibu (~igghibu@37.120.201.125)
[19:47:27] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Ping timeout: 260 seconds)
[19:48:06] *** Joins: me-sudoer-dentne (~me-sudoer@2409:4071:2281:6748:766d:ae06:6724:cf09)
[19:50:52] *** Joins: ExeciN (~ExeciN@user/nicexe)
[19:51:00] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[19:51:21] *** Joins: mickey8 (~user@user/mickey)
[19:53:08] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[19:53:11] *** Quits: igghibu (~igghibu@37.120.201.125) (Quit: Textual IRC Client: www.textualapp.com)
[19:55:33] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[19:58:18] *** Quits: TheSilentLink (~TheSilent@user/thesilentlink) (Ping timeout: 258 seconds)
[19:59:39] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[20:01:08] *** Joins: ExeciN (~ExeciN@user/nicexe)
[20:01:30] *** Joins: TheSilentLink (~TheSilent@user/thesilentlink)
[20:05:45] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[20:13:18] <programmerq> almostdvsâ–¸ if you want to bind mount files from your host to the container, pay attention to the numeric uid/gid of the running process in the container. some folks prefer firing up the container with the same uid/gid of their user on the host to make bind mount access work.
[20:14:26] <programmerq> if you're using an image that does other stuff that expects to be whatever the uid/gid is in the image, then you may run into issues with that. For example, if something tries to run a command as root in the entrypoint script before executing your command, that could fail if you make the container start as something else.
[20:14:53] <programmerq> docker run -u `id -u`:`id -g` -v /path/on/host:/path/on/container ...
[20:15:10] *** Quits: vidbina (~vid@dynamic-077-011-072-251.77.11.pool.telefonica.de) (Ping timeout: 258 seconds)
[20:15:18] *** Joins: ExeciN (~ExeciN@user/nicexe)
[20:18:49] <almostdvs> thank you programmerq.  I am not sure what that command is supposed to achieve.   How do I determine the uid of the user in my docker-compose image?
[20:19:55] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[20:20:31] <programmerq> oh, you'd just need to take your actual uid:gid and put that into the compose file.
[20:21:31] *** Quits: yac (~user@user/yac) (Ping timeout: 260 seconds)
[20:22:53] <tabakhase> almostdvs some recommended reading https://github.com/boxboat/fixuid -- note that "you likely dont need this", there are like 3 different methods to attack this problem with different pros/cons, so if "simple --user" on the docker run works the better
[20:23:08] <almostdvs> I'm not trying to be dense.  my actual uid as in the user that owns the bind mounts so if i am 1001 I need to adjust docker-compose user line to user: 1001:1001
[20:23:24] <almostdvs> I'm not trying to be dense.  my actual uid as in the user that owns the bind mounts?
[20:24:01] <tabakhase> pretty much
[20:24:17] <almostdvs> ok, cool
[20:25:16] <tabakhase> (with this goes one further extra note, when bind-mounitng into a nonexistent-older on the host docker-daemon creates it, therefor its owned by root <- this is a pretty common trap to fall in)
[20:28:05] <almostdvs> is that only for mounts it needs to make on container creation?
[20:28:27] *** Joins: junktext (~junktext@gateway/vpn/pia/junktext)
[20:28:28] <almostdvs> but would not apply to a non-existent subdirectory that node creates as part of its scripts?
[20:29:45] <programmerq> the subdirectory in the mount isn't the mount itself, so it'll be created with the uid of the process creating the directory.
[20:31:14] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 268 seconds)
[20:32:10] <almostdvs> That's what I figured just didn't want it to bite me later on.  Thank you so much programmerq and tabakhase 
[20:34:58] *** Joins: ajfriesen8 (~ajfriesen@cable-78-35-98-50.nc.de)
[20:35:02] *** Joins: BigShip6 (~BigShip@user/bigship)
[20:35:55] *** Joins: ethrl_ (uid524335@user/doforlove33)
[20:36:04] *** Joins: particleflux_ (~particlef@ircb.hackthe.codes)
[20:37:17] *** Joins: kold_ (~quassel@S0106b0e4d5642fb6.cg.shawcable.net)
[20:43:19] *** Quits: bieb (~Bieb@50.228.142.186) (*.net *.split)
[20:43:19] *** Quits: Mmike (~mario@user/mmike) (*.net *.split)
[20:43:19] *** Quits: ethrl (uid524335@user/doforlove33) (*.net *.split)
[20:43:19] *** Quits: kold (~quassel@s0106b0e4d5642fb6.cg.shawcable.net) (*.net *.split)
[20:43:19] *** Quits: ajfriesen (~ajfriesen@cable-78-35-98-50.nc.de) (*.net *.split)
[20:43:19] *** Quits: BigShip (~BigShip@user/bigship) (*.net *.split)
[20:43:20] *** Quits: particleflux (~particlef@ircb.hackthe.codes) (*.net *.split)
[20:43:20] *** BigShip6 is now known as BigShip
[20:43:20] *** ajfriesen8 is now known as ajfriesen
[20:43:20] *** ethrl_ is now known as ethrl
[20:44:02] <awmv> How to use persistant data that will not be remove when I use docker system prune? 
[20:47:21] <programmerq> 'docker system prune' doesn't remove volumes unless you opt in with 'docker system prune --volumes'
[20:47:35] <programmerq> as long as your persistent data is in volumes, you can 'docker system prune'
[20:47:57] <programmerq> 'docker volume prune' will remove unused volumes (any volume not attached to any container)
[20:48:19] *** Joins: incognito (~relativit@user/incognito)
[20:49:12] <awmv> I see
[20:49:29] <awmv> What is the difference to using volumes compared to something like thishttps://github.com/MatchbookLab/local-persist
[20:51:39] <programmerq> basically, a named volume is a volume that docker puts in its own directory structure so you don't have to mess with deciding where things should go on a host because you only care about where it appears in your container(s). if you have data on the host that you want available to a container, you can do a bind mount. in the latter, you won't see it in 'docker volume ls' at all.
[20:52:02] <programmerq> that project appears to have a named volume so it shows up in 'docker volume ls' that is backed by a location on the host.
[20:52:22] <programmerq> it doesn't seem to be solving a problem that people tend to ask about.
[20:52:31] <programmerq> named volumes are fine. bind mounts are fine.
[20:53:19] <programmerq> you can achieve something similar without that project. It's possible to create a volume with the 'local' driver but also tell it to be a bind mount. again, it's not a major thing that comes up often. I think I have a SO answer about that.
[20:53:31] *** Quits: ueberall (ueberall_l@user/ueberall) (Quit: ZNC)
[20:53:49] <programmerq> https://stackoverflow.com/questions/47784863/how-to-store-a-specific-named-docker-volume-at-a-specific-location-without-chang/47795951#47795951
[20:54:06] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[20:54:25] *** Joins: mickey8 (~user@user/mickey)
[20:54:29] <programmerq> goodness, I wrote that in 2017, lol.
[21:01:04] *** Joins: ueberall (ueberall_l@user/ueberall)
[21:03:29] *** Quits: me-sudoer-dentne (~me-sudoer@2409:4071:2281:6748:766d:ae06:6724:cf09) (Quit: Leaving)
[21:04:11] *** Joins: jazzy (~jaziz@user/jaziz)
[21:08:39] *** Joins: bieb (~Bieb@50.228.142.186)
[21:09:58] *** Quits: BenjiProd (~BenjiProd@user/benjiprod) (Remote host closed the connection)
[21:10:11] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.3)
[21:11:08] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 258 seconds)
[21:13:11] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[21:23:37] *** Joins: jazzy (~jaziz@user/jaziz)
[21:26:56] *** Quits: mickey8 (~user@user/mickey) (Remote host closed the connection)
[21:27:21] *** Joins: mickey8 (~user@user/mickey)
[21:28:43] *** Quits: jimmyb (~jimmyb@user/jimmyb) (Ping timeout: 260 seconds)
[21:30:23] *** Joins: GailWynand (~GailWynan@195.216.219.4)
[21:33:46] *** Quits: GailWynand (~GailWynan@195.216.219.4) (Client Quit)
[21:34:41] *** Quits: ueberall (ueberall_l@user/ueberall) (Quit: ZNC)
[21:37:57] *** Joins: ueberall (ueberall_l@user/ueberall)
[21:42:59] *** Joins: jimmyb (~jimmyb@user/jimmyb)
[21:44:10] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[21:52:56] *** Joins: DoofusCanadensis (~DoofusCan@207.229.38.10)
[21:55:56] *** Joins: Ryu945 (Ryu945@gateway/vpn/protonvpn/ryu945)
[22:06:04] *** Joins: GailWynand (~GailWynan@195.216.219.4)
[22:12:54] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[22:18:28] <almostdvs> now to get node-sass to correctly install in the container when using docker-compose
[22:27:51] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[22:29:05] *** Quits: GailWynand (~GailWynan@195.216.219.4) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:35:43] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[22:37:06] *** Joins: Null_A (~null_a@2601:645:8700:2290:19ff:7d99:67c6:79e3)
[22:39:36] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 276 seconds)
[22:41:40] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[22:47:45] *** Quits: awmv (~awmv@2a02:21b0:644f:c181:857a:5389:752a:c37b) (Ping timeout: 260 seconds)
[22:55:06] *** Joins: awmv (~awmv@2a02:21b0:644f:c181:6df8:3b72:5c4f:46fd)
[22:59:20] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[22:59:51] *** Quits: DoofusCanadensis (~DoofusCan@207.229.38.10) (Read error: Connection reset by peer)
[23:00:36] *** Joins: DoofusCanadensis (~DoofusCan@207.229.38.10)
[23:03:18] *** Joins: gooble_gobble (~gooble_go@c-76-16-103-215.hsd1.il.comcast.net)
[23:05:16] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[23:07:11] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Ping timeout: 246 seconds)
[23:08:29] *** Quits: DoofusCanadensis (~DoofusCan@207.229.38.10) (Ping timeout: 264 seconds)
[23:17:19] *** Quits: memoryleak (~memorylea@77-58-142-250.dclient.hispeed.ch) ()
[23:17:42] *** Joins: DoofusCanadensis (~DoofusCan@207.229.38.10)
[23:28:35] *** Quits: moldorcoder7 (~moldorcod@37.120.143.28) (Ping timeout: 264 seconds)
[23:31:18] *** Quits: Joel (~jjshoe@user/joel) (Ping timeout: 268 seconds)
[23:32:38] *** Joins: moldorcoder7 (~moldorcod@37.120.143.29)
[23:36:30] *** Quits: incognito (~relativit@user/incognito) (Quit: Going offline, see ya! (www.adiirc.com))
[23:36:47] *** Joins: bouncy (~ben@user/benoit)
[23:37:05] *** Joins: Joel (~jjshoe@user/joel)
[23:39:02] *** Joins: incognito (~relativit@user/incognito)
[23:42:56] *** Quits: moldorcoder7 (~moldorcod@37.120.143.29) (Ping timeout: 258 seconds)
[23:43:08] *** Joins: yac (~user@user/yac)
[23:44:28] *** Joins: ExeciN (~ExeciN@user/nicexe)
[23:48:47] *** Joins: moldorcoder7 (~moldorcod@37.120.143.29)
[23:49:01] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 256 seconds)
[23:49:11] *** Quits: bouncy (~ben@user/benoit) (Read error: Connection reset by peer)
[23:56:40] *** Joins: evon__ (~evon@216.181.83.12)
[23:57:41] *** Joins: Atque (~Atque@user/atque)
[23:58:26] *** Quits: c10l (~c10l@user/c10l) (Ping timeout: 268 seconds)
