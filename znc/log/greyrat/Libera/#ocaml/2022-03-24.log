[00:14:17] *** Joins: priime (~priime@155.33.133.40)
[00:21:29] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Ping timeout: 256 seconds)
[00:21:47] *** Joins: neilthereildeil (~neilthere@pool-71-191-164-234.washdc.fios.verizon.net)
[00:21:49] *** Parts: neilthereildeil (~neilthere@pool-71-191-164-234.washdc.fios.verizon.net) ()
[00:25:57] *** Quits: priime (~priime@155.33.133.40) (Quit: priime)
[00:32:18] *** Joins: priime (~priime@155.33.133.40)
[00:44:22] *** Quits: Techcable (~Techcable@user/Techcable) (Remote host closed the connection)
[00:44:29] *** Joins: Techcable (~Techcable@user/Techcable)
[00:52:06] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[00:59:55] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[01:25:58] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[01:32:05] *** Quits: unyu (~pyon@user/pyon) (Ping timeout: 250 seconds)
[02:12:15] *** Quits: wyrd (~wyrd@gateway/tor-sasl/wyrd) (Ping timeout: 240 seconds)
[02:19:24] *** Joins: wyrd (~wyrd@gateway/tor-sasl/wyrd)
[02:26:10] *** Joins: jlrnick (~josephler@2a01cb040a159400997cd14fa0ae8ad9.ipv6.abo.wanadoo.fr)
[02:44:18] *** Joins: unyu (~pyon@user/pyon)
[03:06:15] *** Quits: priime (~priime@155.33.133.40) (Quit: priime)
[03:47:24] *** Quits: leah2 (~leah@vuxu.org) (Ping timeout: 240 seconds)
[04:02:37] *** Joins: leah2 (~leah@vuxu.org)
[04:02:59] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[04:14:29] *** Quits: Tuplanolla (~Tuplanoll@91-159-69-98.elisa-laajakaista.fi) (Quit: Leaving.)
[04:15:23] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[04:16:37] *** Joins: Everything (~Everythin@37.115.210.35)
[04:18:41] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 256 seconds)
[04:19:46] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[04:37:31] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[04:55:32] *** Quits: epony (epony@user/epony) (Ping timeout: 240 seconds)
[05:03:59] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[05:17:51] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[05:18:03] *** Quits: jlrnick (~josephler@2a01cb040a159400997cd14fa0ae8ad9.ipv6.abo.wanadoo.fr) (Ping timeout: 252 seconds)
[05:23:29] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[05:34:38] *** Joins: epony (epony@user/epony)
[05:53:52] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[07:52:08] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[08:12:57] *** Quits: terrorjack (~terrorjac@static.3.200.12.49.clients.your-server.de) (Quit: The Lounge - https://thelounge.chat)
[08:15:00] *** Joins: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1)
[08:29:59] *** Quits: waleee (~waleee@2001:9b0:213:7200:cc36:a556:b1e8:b340) (Ping timeout: 252 seconds)
[08:48:13] *** Quits: spip (~bobo@37.171.30.120) (Ping timeout: 240 seconds)
[08:48:33] *** Joins: spip (~bobo@37.166.9.205)
[09:06:35] *** Joins: gravicappa (~gravicapp@46.191.232.8)
[09:23:51] *** Quits: kaph (~kaph@net-109-116-124-149.cust.vodafonedsl.it) (Remote host closed the connection)
[09:24:16] *** Joins: kaph (~kaph@net-109-116-124-149.cust.vodafonedsl.it)
[09:26:13] *** Joins: mbuf (~Shakthi@223.178.127.254)
[09:39:54] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[10:27:24] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[11:11:31] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[11:19:04] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[11:33:58] *** Joins: mro (~mro@port-92-195-208-184.dynamic.as20676.net)
[12:31:32] *** Joins: xd1le (~xd1le@user/xd1le)
[12:52:43] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[12:59:45] *** Quits: kakadu (~kakadu@195.19.236.234) (Remote host closed the connection)
[13:03:50] *** Joins: kakadu (~kakadu@195.19.236.234)
[13:17:57] *** Quits: mro (~mro@port-92-195-208-184.dynamic.as20676.net) (Remote host closed the connection)
[13:20:59] *** Joins: mro (~mro@port-92-195-208-184.dynamic.as20676.net)
[13:24:30] *** Quits: kaph (~kaph@net-109-116-124-149.cust.vodafonedsl.it) (Ping timeout: 272 seconds)
[13:24:50] *** Quits: mro (~mro@port-92-195-208-184.dynamic.as20676.net) (Remote host closed the connection)
[13:26:28] *** Joins: mro (~mro@port-92-195-208-184.dynamic.as20676.net)
[13:28:53] *** Quits: mro (~mro@port-92-195-208-184.dynamic.as20676.net) (Remote host closed the connection)
[13:39:35] *** Joins: mro (~mro@port-92-195-208-184.dynamic.as20676.net)
[13:42:54] *** Quits: hsw (~hsw@112-104-141-52.adsl.dynamic.seed.net.tw) (Remote host closed the connection)
[13:43:24] *** Joins: hsw (~hsw@2001-b030-2303-0104-0172-0025-0012-0132.hinet-ip6.hinet.net)
[13:44:39] *** Quits: hsw (~hsw@2001-b030-2303-0104-0172-0025-0012-0132.hinet-ip6.hinet.net) (Client Quit)
[13:44:51] *** Joins: hsw (~hsw@2001-b030-2303-0104-0172-0025-0012-0132.hinet-ip6.hinet.net)
[13:53:46] *** Joins: kaph (~kaph@net-109-116-124-149.cust.vodafonedsl.it)
[14:01:14] *** Quits: kaph (~kaph@net-109-116-124-149.cust.vodafonedsl.it) (Quit: Leaving)
[14:04:47] *** Joins: kaph (~kaph@net-109-116-124-149.cust.vodafonedsl.it)
[14:06:49] *** Quits: xd1le (~xd1le@user/xd1le) (Quit: xd1le)
[14:14:07] *** Quits: mro (~mro@port-92-195-208-184.dynamic.as20676.net) (Remote host closed the connection)
[14:15:01] *** Joins: mro (~mro@2002:5cc3:d0b8:0:793e:ce2a:511:4290)
[14:24:28] *** Joins: olle (~olle@h-217-31-188-54.NA.cust.bahnhof.se)
[14:29:16] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[14:31:16] <d_bot> <joris> Hi, anyone aware of a mmap binding for ocaml that is more flexible than Unix.map_file ? for some reason Unix version does not even support using PROT_READ only
[14:33:41] *** Quits: mro (~mro@2002:5cc3:d0b8:0:793e:ce2a:511:4290) (Remote host closed the connection)
[14:42:33] *** Joins: bartholin (~bartholin@158.110.71.61)
[14:49:19] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[14:52:45] *** Parts: Everything (~Everythin@37.115.210.35) ()
[15:05:11] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[15:17:56] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[15:33:24] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[16:01:14] *** Joins: bobo (~bobo@37.166.28.200)
[16:02:12] *** Quits: spip (~bobo@37.166.9.205) (Ping timeout: 272 seconds)
[18:09:05] *** Quits: gravicappa (~gravicapp@46.191.232.8) (Ping timeout: 256 seconds)
[18:42:49] *** Joins: mro (~mro@185.178.59.13)
[18:55:25] *** Quits: mro (~mro@185.178.59.13) (Remote host closed the connection)
[18:57:34] *** Joins: dextaa_ (~dextaa@user/dextaa)
[19:20:16] *** Joins: gravicappa (~gravicapp@46.191.232.8)
[19:26:45] *** Quits: bartholin (~bartholin@158.110.71.61) (Remote host closed the connection)
[19:26:58] *** Joins: bartholin (~bartholin@158.110.71.61)
[19:27:25] *** Quits: bartholin (~bartholin@158.110.71.61) (Remote host closed the connection)
[19:27:36] *** Joins: bartholin (~bartholin@158.110.71.61)
[19:42:48] *** Quits: kaph (~kaph@net-109-116-124-149.cust.vodafonedsl.it) (Read error: Connection reset by peer)
[19:46:28] *** Joins: waleee (~waleee@2001:9b0:213:7200:cc36:a556:b1e8:b340)
[19:46:53] *** Joins: kaph (~kaph@net-109-116-124-149.cust.vodafonedsl.it)
[20:06:04] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[20:16:44] *** Quits: olle (~olle@h-217-31-188-54.NA.cust.bahnhof.se) (Remote host closed the connection)
[20:21:56] <d_bot> <nave01314> Whatâ€™s everyoneâ€™s favorite OCaml RPC library?
[20:22:35] <companion_cube> that's far too vague :)
[20:27:25] <d_bot> <nave01314> I am coming from Go and I want to write a paxos implementation using RPCs to send messages. Is there a single library for RPCs people recommend (if so, why not, what are the options/trade offs)?
[20:27:45] <companion_cube> ah well, I think not, then
[20:28:22] <d_bot> <nave01314> (RPCs are built into the STL of go)
[20:28:44] <d_bot> <nave01314> Huh, what are my best options then?
[20:33:27] <companion_cube> rolling out your own with protobuf probably?
[20:33:35] <companion_cube> Go is optimized for networking, OCamlâ€¦ not so much
[20:36:02] <d_bot> <nave01314> this will be an experience sounds good ðŸ¤ 
[20:36:15] *** Joins: mro (~mro@port-92-195-208-184.dynamic.as20676.net)
[20:36:23] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[20:38:06] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[20:40:14] <d_bot> <nave01314> What are my concurrency options in Ocaml (or thread-like things, although let me know if this is an XY problem where I am looking for the wrong tool)
[20:40:24] <d_bot> <nave01314> Eg, I want to do two things concurrently
[20:40:25] <companion_cube> there's Lwt
[20:40:51] <companion_cube> it's a hot space actually, OCaml 5, with multicore, is going to happen this year, and it'll change a lot of things
[20:40:52] *** Quits: mro (~mro@port-92-195-208-184.dynamic.as20676.net) (Ping timeout: 272 seconds)
[20:42:53] <d_bot> <nave01314> Actually, interesting q, does ocaml support parallelism at all rn?
[20:45:02] <companion_cube> no
[20:45:08] <companion_cube> you need multiple processes :)
[20:45:18] <companion_cube> but that's about to change, after 10y of waiting, literally
[20:48:38] <d_bot> <nave01314> How sad would I be if I tried building on it before GA?
[20:49:11] <d_bot> <nave01314> Like, is it stable and waiting for rubber stamp or is it actively getting worked on
[20:55:37] <companion_cube> hmmm it's still being worked on, but you can try it
[20:55:49] <companion_cube> there's a concurrency library for it: https://github.com/ocaml-multicore/eio
[21:04:22] <d_bot> <octachron> We are not yet at the rubber stamp point, I am hoping for an alpha version of OCaml 5.0 around the end of April.
[21:04:24] <d_bot> <octachron> But http://check.ocamllabs.io/?comp=4.13&comp=5.0&available=4.13&available=5.0&show-diff-only=true&show-latest-only=true&sort-by-revdeps=true shows that a significant part of the ecosystem does not work with the current development version of OCaml 5.
[21:05:17] <companion_cube> ha, i need to release containersâ€¦
[21:07:06] <companion_cube> seems like removing the Format `tag` functions kill a lot of things
[21:08:09] <octachron> Yeah, I will probably write that compatibility library that I mentionned.
[21:12:38] <dmbaturin> Anyone knows anything about homebrew's OCaml packaging process? Is there a reason it's still at 4.12, or it's just that no one sent them a PR to update it yet and I should do it?
[21:13:48] <octachron> I would expect the later
[21:15:41] *** Joins: jtm (~jtm@user/jtm)
[21:16:46] <d_bot> <nave01314> thanks! it looks like this means that 5.0 broke compatibility with 4.13 libraries (so developing on 5.0 is not likely to be a great experience rn)?
[21:17:52] <d_bot> <joris> @companion_cube did you get a chance to work on buffer ? worked on something related to your recent interests today. A simple read-only KV db in ocaml, had to write kind of a bigstring based buffer implementation, it is very dumb though
[21:19:33] <companion_cube> @joris I have a non-bigstring one in containers now
[21:19:37] <companion_cube> soon to be released
[21:19:44] <companion_cube> look at src/core/CCByte_buf
[21:19:53] <d_bot> <joris> nice ! thanks i'll have a look
[21:20:05] <companion_cube> and https://github.com/c-cube/ocaml-containers/pull/404
[21:21:06] <companion_cube> also I fixed CCFormat so it builds on 5.0
[21:21:25] <d_bot> <joris> I also realized for this kind of simple code, dropping lwt or not using new abstractions like eio brings a massive perf gain. When you write c-style ocaml, with very basic state machine for the coroutines, it really performs well. Simple kv storage using memory index, read the block, decompress and return the data based on the amazing uring bindings from the eio team, this is able to serve 50k requests per second (i realize the dat
[21:22:09] <d_bot> <octachron> @nave01314  right now developping on 5.0 will not be a painless experience indeed. Backward compatibility has been mostly preserved between OCaml 4 and 5. However, since few deprecated functions has been removed, some core libraries need to be updated.
[21:23:02] <d_bot> <joris> @companion_cube i'll see if i can make a bigstring version out of that, but not sure it belongs to containers
[21:23:18] <companion_cube> maybe not indeed, or a in sub-library
[21:23:21] <companion_cube> containers.bigstring or whatever
[21:23:29] <companion_cube> you need bigstring for the uring interop>
[21:23:31] <companion_cube> ?
[21:23:44] <d_bot> <octachron> (There is also a handful of libraries that were using advanced features (ephemerons) that were interacting in complex way with the GC and whose API has been slightly reworked.)
[21:24:58] <d_bot> <joris> @companion_cube it's not that it is needed, but it is a big sell of uring yes. As you can register a memory buffer that is shared with kernel, and use it for io. Which lifted the requirement of copying data across kernel/user space
[21:25:27] <d_bot> <joris> but uring can also work with strings
[21:25:40] <companion_cube> slices, hopefully
[21:25:54] <d_bot> <joris> slices ?
[21:27:22] <companion_cube> ie it takes `bytes -> int -> int -> â€¦`
[21:28:00] <d_bot> <joris> ah yes. Well since the bindings are written by mirage folks as i understand, it is based on cstruct, so you can do Cstruct.of_string yep
[21:28:58] <companion_cube> lol that must copy though
[21:29:21] <companion_cube> I mean, it makes sense, I'm sure.
[21:29:33] <companion_cube> you coudl do a buffer that uses bigstringaf and put that on opam, @joris, I think.
[21:29:44] <companion_cube> feel free to use what's in bytes_buf as a basis :p
[21:29:48] <d_bot> <joris> yeah i'll still your code and keep the copyright ðŸ™‚
[21:30:00] <d_bot> <joris> steal*
[21:31:38] <d_bot> <joris> hm right you are right of_string is a deep copy it allocates a bigarray and blit. Well then, no string for uring ðŸ™‚
[21:32:11] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Read error: Connection reset by peer)
[21:32:11] <d_bot> <joris> but actually it kind of make sense, uring being async, if a compaction occur you are bound for random crash
[21:33:09] <d_bot> <joris> string can move while io is queued
[21:33:17] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[21:34:10] <companion_cube> yeah
[21:34:24] <companion_cube> even classic blocking IOs have tricks for that, sadly :(
[21:34:35] <companion_cube> OCaml kind of lacks an API to pin a value
[21:35:06] <d_bot> <joris> ah yes because syscall release runtime lock
[21:36:29] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Client Quit)
[21:39:17] *** Quits: mbuf (~Shakthi@223.178.127.254) (Quit: Leaving)
[21:39:52] <companion_cube> yeah, some do
[21:40:26] <companion_cube> apparently stuff like `Unix.read` allocate a C buffer on the stack to do the IO, and then copy from C to the parameter string
[21:40:29] <companion_cube> (which might have moved)
[21:40:46] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[21:42:50] <d_bot> <joris> makes sense. Afaik lwt_io uses bigstring though, it probably goes directly (but Lwt_unix is bytes so same issue)
[21:43:13] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Client Quit)
[21:43:37] *** Joins: mro (~mro@port-92-195-208-184.dynamic.as20676.net)
[21:56:25] <companion_cube> (come back to IRC!)
[22:00:00] *** Quits: bartholin (~bartholin@158.110.71.61) (Quit: Leaving)
[22:07:26] *** Quits: mro (~mro@port-92-195-208-184.dynamic.as20676.net) (Remote host closed the connection)
[22:33:29] *** Joins: vicfred (~vicfred@user/vicfred)
[22:39:50] *** Joins: zebrag (~chris@user/zebrag)
[22:44:18] *** Joins: Tuplanolla (~Tuplanoll@91-159-69-98.elisa-laajakaista.fi)
[22:46:33] *** Joins: cedric (~cedric@2a01:cb11:821:7c00:33b1:b6a3:4ba7:6567)
[23:04:41] *** Joins: mro (~mro@2002:5cc3:d0b8:0:61f7:9b6:17b8:c9ad)
[23:24:40] *** Quits: mro (~mro@2002:5cc3:d0b8:0:61f7:9b6:17b8:c9ad) (Remote host closed the connection)
[23:44:06] *** Quits: ralu (~ralu@static.211.245.203.116.clients.your-server.de) (Ping timeout: 252 seconds)
[23:47:28] *** Joins: mro (~mro@port-92-195-208-184.dynamic.as20676.net)
