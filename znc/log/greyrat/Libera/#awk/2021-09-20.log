[00:03:42] *** Quits: Everything (~Everythin@37.115.210.35) (Quit: leaving)
[00:08:53] *** Joins: kensanata (~user@user/kensanata)
[01:15:41] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:36:15] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.2-dev)
[01:44:26] *** Quits: eblip (~eb0t@90.199.241.57) (Ping timeout: 260 seconds)
[01:48:07] *** Quits: kensanata (~user@user/kensanata) (Remote host closed the connection)
[02:08:14] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 260 seconds)
[02:12:55] *** Joins: seninha (~seninha@user/seninha)
[02:14:11] *** Joins: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[02:43:43] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Ping timeout: 252 seconds)
[03:01:21] *** Joins: defjam (~eb0t@90.196.142.47)
[03:16:46] *** Quits: src (~src@user/src) (Ping timeout: 252 seconds)
[03:47:33] *** Joins: emanuele6 (~emanuele6@37.163.134.222)
[03:47:57] *** Quits: emanuele6 (~emanuele6@37.163.134.222) (Changing host)
[03:47:57] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[04:43:21] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[05:30:25] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:50:03] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 265 seconds)
[06:12:11] *** Joins: vlm (~vlm@user/vlm)
[06:29:28] *** Joins: seninha (~seninha@user/seninha)
[07:45:04] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[08:02:26] *** Joins: seninha (~seninha@user/seninha)
[08:05:24] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Quit: WeeChat 3.2)
[08:05:40] *** Joins: emanuele6 (~emanuele6@37.163.134.222)
[08:05:40] *** Quits: emanuele6 (~emanuele6@37.163.134.222) (Changing host)
[08:05:40] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[08:31:01] *** Quits: fford (~fford@p200300c6ff465f00681ca379c8d20773.dip0.t-ipconnect.de) (Quit: WeeChat 1.5)
[08:32:32] *** Joins: waldo323_ (~waldo323@d14-69-96-170.try.wideopenwest.com)
[08:33:14] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[08:35:25] *** Quits: waldo323__ (~waldo323@d14-69-96-170.try.wideopenwest.com) (Ping timeout: 268 seconds)
[08:59:58] *** Quits: psydroid (~psydroid@user/psydroid) (*.net *.split)
[08:59:58] *** Quits: uplime (uplime@offtopia/nomad) (*.net *.split)
[09:07:57] *** Joins: psydroid (~psydroid@user/psydroid)
[09:11:39] *** Quits: ccx_ (~ccx@82.142.125.46) (*.net *.split)
[09:13:18] *** Joins: ccx_ (~ccx@82.142.125.46)
[09:13:49] *** Quits: eruditass (uid248673@id-248673.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[09:37:02] *** Quits: roarde (~roarde@user/roarde) (Quit: Leaving)
[09:39:17] *** Joins: eruditass (uid248673@id-248673.uxbridge.irccloud.com)
[09:46:22] *** Quits: eruditass (uid248673@id-248673.uxbridge.irccloud.com) ()
[09:47:59] *** Joins: eruditass (uid248673@id-248673.uxbridge.irccloud.com)
[10:21:47] *** Joins: user51 (~user51@176.228.90.248)
[11:00:24] *** Joins: lavaball (felix@31.204.155.215)
[11:08:22] *** Quits: lavaball (felix@31.204.155.215) (Quit: lavaball)
[11:08:58] *** Joins: lavaball (felix@31.204.155.215)
[11:38:53] *** Joins: earnestly (~earnest@user/earnestly)
[11:59:46] *** Quits: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 252 seconds)
[12:03:33] *** Joins: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[12:48:27] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[14:26:31] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Ping timeout: 268 seconds)
[15:00:27] *** Joins: Everything (~Everythin@37.115.210.35)
[15:04:55] *** Joins: lavaball (felix@31.204.155.215)
[15:15:04] *** Joins: besnn (~besnn@user/besnn)
[15:21:11] *** Quits: besnn (~besnn@user/besnn) (Ping timeout: 246 seconds)
[15:46:01] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[16:19:20] *** Joins: seninha (~seninha@user/seninha)
[17:17:20] *** Joins: lgc (~lgc@user/lgc)
[17:20:01] *** Joins: cloud (~cloud@user/ansible)
[17:21:07] *** Quits: dextaa (~DV@user/dextaa) (Ping timeout: 252 seconds)
[17:22:52] *** Joins: ychaouche (~ychaouche@user/ychaouche)
[17:22:56] <ychaouche> hello #awk
[17:23:22] <ychaouche> I have some regex variables declared in my bash that i'd like to pass as variables to my awk script
[17:23:46] <ychaouche> I read in the man page that -v var=val will only make var available in the BEGIN block
[17:24:00] <ychaouche> but I'd like the variable to be available everywhere
[17:24:05] <geirha> no, it will be available throughout
[17:24:42] <geirha> # awk -v foo=bar '{print $1, foo}' <<< xyz
[17:24:44] <shbot> geirha: xyz bar
[17:24:51] <ychaouche> oh ok
[17:25:10] <ychaouche> I may have misread the documentation
[17:25:12] <ychaouche> https://gist.githubusercontent.com/ychaouche/2d116b0840b607bb59fea48d7cc6f04f/raw/eee32bb346897836c19a6c23f83653fe2aef3a78/gistfile1.txt
[17:25:39] <ychaouche> it doesn't it's aviable to the BEGIN block "only", so...
[17:25:43] <ychaouche> say*
[17:26:07] <ychaouche> but maybe that's how I interpreted it
[17:26:55] <ychaouche> argh
[17:27:03] <ychaouche> it's no use
[17:27:04] <geirha> though the hard part here is that the value will be interpreted as a string literal, meaning that any \t will be treated as TAB and similar, so you may need to double some backslashes
[17:27:16] <ychaouche> exactly what I was going to say
[17:27:22] <ychaouche> \. is treated as .
[17:27:44] <geirha> if you pass them via environment or arguments, they will be passed unmodified
[17:27:46] <ychaouche> the bash regx I was using for egrep, but it's incompatible with awk
[17:28:09] <geirha> FOO='\.' awk ' ... ENVIRON["FOO"] ...'
[17:28:12] <ychaouche> oh, so there's still hope
[17:29:03] <geirha> and the multimatch function here is an example on how to use ARGV: https://mywiki.wooledge.org/BashFAQ/079
[18:13:17] *** Joins: dextaa (~DV@user/dextaa)
[18:14:32] *** Joins: X-Scale` (~ARM@50.77.166.178.rev.vodafone.pt)
[18:16:48] *** Quits: X-Scale (~ARM@46.50.5.115) (Ping timeout: 265 seconds)
[18:16:48] *** X-Scale` is now known as X-Scale
[18:25:20] *** Quits: cloud (~cloud@user/ansible) (Ping timeout: 256 seconds)
[18:42:08] *** Joins: src (~src@user/src)
[18:42:19] <ychaouche> suppose I look for lines matching the "removed" keyword, if I do /remove/ awk finds them, but if I do /$REGX/ and pass REGX as an env variable, it won't match
[18:42:51] <ychaouche> https://clbin.com/4vFnT
[18:43:39] <ychaouche> oops, no, this : https://clbin.com/HVnH4
[18:44:54] <ychaouche> I call it like this : REGX_EMAIL=removed gawk  -f SCRIPTS/MAIL/mailreport.gawk /var/log/mail.log
[18:47:16] *** Quits: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net) (Remote host closed the connection)
[18:47:38] <tirnanog> $0 ~ REGX_EMAIL
[18:47:47] <tirnanog> or whatever it is that you're trying to match against.
[18:48:34] *** Quits: nvmd (~nvmd@user/nvmd) (Ping timeout: 252 seconds)
[18:49:13] *** Joins: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net)
[18:50:18] <tirnanog> ok, yeah, it's $0.
[18:51:05] <geirha> /foo\.bar/   is a short-hand for   $0 ~ /foo\.bar/   you can also pass the regex as a string with  $0 ~ "foo\\.bar".  When you have the regex in a variable, you have to use the latter syntax
[18:53:24] <earnestly> Hmm, I am always concerned with exposing regex to user arguments unless that is intentional
[18:54:19] <earnestly> Also because of the potential need for escaping
[18:56:27] *** Quits: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net) (Remote host closed the connection)
[18:58:18] *** Joins: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net)
[18:59:15] <ychaouche> ah ok
[18:59:21] <ychaouche> thanks for mentioning it
[18:59:45] <ychaouche> so any time my regex is in a variable and I want to match lines against it I do $0 ~ REGX_VAR
[19:00:09] <ychaouche> the /regex/ syntax is only used with litteral regexes
[19:03:42] <ychaouche> what if I want to compose a regular expression out of smaller ones used in variables ?
[19:03:57] <ychaouche> for example : "$REGX1 \d+ $REGX2" 
[19:04:30] <ychaouche> $0 ~ "$REGX1 \d+ $REGX2" didn't seem to work
[19:05:12] <ychaouche> but I think I'm mixing bash paradigms here (string substitutions)
[19:05:24] <tirnanog> you should read up on ERE because \d isn't that.
[19:08:09] <ychaouche> ok found the problem, I wasn't concatenating my strings right... Apparently concatenation is done with spaces
[19:08:23] <ychaouche> I wanted this : $0 ~ "<"REGX_EMAIL"> -> <"REGX_EMAIL">" {print $0}
[19:08:57] <ychaouche> matches line like this : [...] <mail@address.com> -> <mail@otheraddress.com>  [...]
[19:10:08] <geirha> to concatenate literal strings and variables in awk, you to  new_regex = regex1 "\\d+" regex2
[19:10:25] <tirnanog> # printf 'foo %s bar\n' abc 123 | awk -v pat1='f..' -v pat2='b..' '$0 ~ pat1 " [0-9]+ " pat2'
[19:10:27] <shbot> tirnanog: foo 123 bar
[19:10:58] <geirha> err sorry, you already found that out, missed the last couple lines
[19:12:49] <ychaouche> tirnanog: what happened to abc ? 
[19:12:59] <tirnanog> it doesn't match [0-9]+ ...
[19:13:29] <ychaouche> so the default action is to print only the matching pattern ? 
[19:13:39] <ychaouche> I thought the default action was to print the whole line
[19:13:58] <ychaouche> whole line is foo abc 123 bar, right ? 
[19:14:15] <ychaouche> or were there two lines ? 
[19:14:16] <tirnanog> no, there are two lines worth of input there.
[19:14:20] <ychaouche> ah ok
[19:14:27] <geirha> # printf 'foo %s bar\n' abc 123
[19:14:28] <shbot> geirha: foo abc bar
[19:14:28] <shbot> geirha: foo 123 bar
[19:14:31] <tirnanog> otherwise, you're right. the default action applies.
[19:14:33] <ychaouche> didn't know printf behaved like that
[19:14:49] <tirnanog> yeah, it's a bit different to C and the like.
[19:20:53] <ychaouche> it's very helpful, no need for a loop
[19:28:12] *** Joins: knstn (~knstn@ppp-94-66-57-40.home.otenet.gr)
[19:36:31] *** Joins: emanuele6 (~emanuele6@37.160.138.20)
[19:36:31] *** Quits: emanuele6 (~emanuele6@37.160.138.20) (Changing host)
[19:36:31] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[19:40:45] *** Parts: ychaouche (~ychaouche@user/ychaouche) (Konversation terminated!)
[20:03:43] *** Joins: neightchan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[20:03:46] *** Quits: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 252 seconds)
[20:32:32] *** Joins: waldo323__ (~waldo323@d14-69-96-170.try.wideopenwest.com)
[20:34:01] *** Quits: user51 (~user51@176.228.90.248) (Ping timeout: 252 seconds)
[20:35:31] *** Quits: waldo323_ (~waldo323@d14-69-96-170.try.wideopenwest.com) (Ping timeout: 265 seconds)
[21:01:04] *** Joins: asdflkj_sh (asdflkj@bsdforall.org)
[22:08:10] *** Joins: cloud (~cloud@user/ansible)
[22:31:44] *** Joins: kensanata (~user@user/kensanata)
[22:35:49] *** Joins: roarde (~roarde@user/roarde)
[22:39:30] *** Joins: besnn (~besnn@user/besnn)
[22:50:06] *** Joins: nvmd (~nvmd@user/nvmd)
[22:53:27] *** Quits: kensanata (~user@user/kensanata) (Remote host closed the connection)
[23:19:55] *** Parts: emanuele6 (~emanuele6@user/emanuele6) (WeeChat 3.2)
[23:34:57] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[23:55:17] *** Quits: dionys (dionys@user/dionys) (Quit: dionys)
[23:55:28] *** Joins: dionys (dionys@user/dionys)
[23:56:16] *** Quits: cloud (~cloud@user/ansible) (Ping timeout: 256 seconds)
