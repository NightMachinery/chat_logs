[00:08:43] <b-rex> Civilian Climate Corp. Ur papers plz? I see you threw away an extra plastic bag from Walmart, citizen. GET ON THE GROUND NOW!!!
[00:12:21] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[00:15:38] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[00:15:52] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[00:18:07] *** Quits: brsc2909 (~Thunderbi@109.255.244.60) (Quit: brsc2909)
[00:20:29] *** Quits: argento (~argent0@168-227-97-29.ptr.westnet.com.ar) (Quit: leaving)
[00:21:05] *** Joins: brsc2909 (~Thunderbi@109.255.244.60)
[00:24:01] *** Quits: CodenameTim (~CodenameT@154.21.28.206) (Ping timeout: 246 seconds)
[00:31:40] *** Quits: domhnall (~developer@user/domhnall/x-2887755) (Quit: leaving)
[00:41:19] *** Quits: brsc2909 (~Thunderbi@109.255.244.60) (Read error: Connection reset by peer)
[00:43:09] *** Joins: Kalov (~Thunderbi@179.56.117.154)
[00:54:19] *** Joins: ovnicraft (~ovnicraft@45.70.237.20)
[01:01:29] *** Quits: ovnicraft (~ovnicraft@45.70.237.20) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:01:37] *** Quits: Kalov (~Thunderbi@179.56.117.154) (Quit: Kalov)
[01:03:07] *** Joins: ovnicraft (~ovnicraft@45.70.237.20)
[01:05:45] *** Quits: ovnicraft (~ovnicraft@45.70.237.20) (Client Quit)
[01:05:47] *** Joins: brsc2909 (~Thunderbi@109.255.244.60)
[01:07:12] *** Joins: ovnicraft (~ovnicraft@45.70.237.20)
[01:13:27] *** Quits: ovnicraft (~ovnicraft@45.70.237.20) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:17:08] *** Joins: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75)
[01:17:12] *** Joins: ovnicraft (~ovnicraft@45.70.237.20)
[01:21:46] *** Joins: rannnn8888 (~rannnn888@bzq-79-182-123-214.red.bezeqint.net)
[01:22:12] *** Joins: GinFuyou (~GinFuyou@reya.cloud.tilaa.com)
[01:22:46] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 256 seconds)
[01:23:11] *** Quits: ovnicraft (~ovnicraft@45.70.237.20) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:23:17] <rannnn8888> help i make new porject in server ubuntu but the site dont find the static folder this my setting https://dpaste.org/KVDb
[01:24:16] *** Joins: Diemuzi (~Diemuzi@ip68-106-203-17.pn.at.cox.net)
[01:24:52] <rannnn8888> https://dpaste.org/ftQ3#
[01:26:55] <GinFuyou> don't name STATIC_ROOT "static/", it's sanity murder
[01:27:30] <rannnn8888> GinFuyou so what name ?
[01:27:35] <GinFuyou> anyway, what exactly happens
[01:28:18] <rannnn8888> GinFuyou not happens nothing when i open the page i get in the network this
[01:28:30] <rannnn8888> Refused to apply style from 'http://xxxx/static/css/style.css' because its MIME type ('text/html') is not a supported stylesheet MIME type, and strict MIME checking is enabled.
[01:28:31] <GinFuyou> rannnn8888, pretty much any other. "static_root" or "static/" *but* outside of project dir
[01:28:57] <rannnn8888> its same to the admin page
[01:29:27] <rannnn8888> Refused to apply style from 'http://xxxx/static/admin/css/responsive.css' because its MIME type ('text/html') is not a supported stylesheet MIME type, and strict MIME checking is enabled.
[01:29:40] *** Quits: gkr (~gkr@78.199.13.26) (Read error: Connection reset by peer)
[01:29:44] <GinFuyou> set correct mime type in link tag?
[01:30:10] <GinFuyou> unless you hit 404 of your server which makes it text\html
[01:30:20] *** Joins: gkr (~gkr@78.199.13.26)
[01:30:21] <GinFuyou> How do you run?
[01:30:26] <GinFuyou> *it
[01:30:42] <rannnn8888> GinFuyou apache2
[01:31:13] <GinFuyou> So, apache should handle static, have you configured it and run collectstatic?
[01:31:45] <rannnn8888> yes i run collectstatic no error and add this to the conf
[01:31:58] <rannnn8888> <Directory /home/ubuntu/myproject/static>
[01:31:58] <rannnn8888>              Require all granted
[01:31:59] <rannnn8888>         </Directory>
[01:33:10] <GinFuyou> It probably needs "static/" prefix. What is you STATIC_URL is set to
[01:33:24] <GinFuyou> Follow any static link and see what happens
[01:35:53] <rannnn8888> GinFuyou you mean like this ? i try get 404 http://xxxxx/static/NEWSSUND.mp3
[01:36:18] <GinFuyou> 404 from apache or django?
[01:36:49] <rannnn8888> Using the URLconf defined in myproject.urls, Django tried these URL patterns, in this order:
[01:36:52] <rannnn8888> django
[01:37:17] <rannnn8888> The current path, static/NEWSSUND.mp3, didn’t match any of these.
[01:37:34] <GinFuyou> Ok, so apache is clearly not configured properly to serve static and doesn't even catch path for static
[01:38:28] <rannnn8888> you know what i need to do :x ?
[01:38:54] <GinFuyou> No, I don't use apache, haven't touched in a about 7 years
[01:39:11] <GinFuyou> Try apache channel if there is one?
[01:40:43] <GinFuyou> But if you don't know how to use apache I don't really see reason to use it. Nginx is more popular generally now, and always was way more popular with django.
[01:41:18] <GinFuyou> Nginx doesn't come with wsgi though, but mod_wsgi of apache is not best solution anyway
[01:41:48] *** Joins: Guddu (~Guddu@117.222.80.5)
[01:43:25] <rannnn8888> when i try make again ./manage.py collectstatic
[01:43:35] <rannnn8888> i get this https://dpaste.org/XMzR what i mean
[01:44:55] <GinFuyou> files may be in the correct place. Currently there is a clear problem with apache conf
[01:45:08] *** Quits: Diemuzi (~Diemuzi@ip68-106-203-17.pn.at.cox.net) (Quit: See you on the flip side.)
[01:45:26] <GinFuyou> could have others but at least you should not hit django
[01:47:16] <rannnn8888> GinFuyou i slove this thx i forgot write the alise
[01:47:26] <rannnn8888> Alias /static /home/user/myproject/static
[01:50:01] *** Joins: lithammer (~lithammer@2a02:2770::21a:4aff:fe88:c18d)
[01:56:50] *** Quits: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl) (Ping timeout: 252 seconds)
[01:58:56] *** Joins: humbertowoody (~humbertow@187.202.209.227)
[02:08:16] *** Joins: blackout69 (~blackout6@net-109-116-208-45.cust.vodafonedsl.it)
[02:08:46] *** Joins: explore (uid233125@id-233125.stonehaven.irccloud.com)
[02:15:03] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Remote host closed the connection)
[02:15:49] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[02:19:28] *** audio is now known as audiocat
[02:20:31] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 268 seconds)
[02:20:55] <glik22> i'm having a difficult time determining when to use a classmethod, manager, or simple function to do what i want. here's an example https://dpaste.org/vm6n
[02:21:34] *** Joins: bambanxx (~bambanx@pc-223-49-214-201.cm.vtr.net)
[02:22:27] <FunkyBob> glik22: is it something that relates to a query? then queryset.  is it something you might want to ask as a whole? manager. is it someting related to a specific instance? method
[02:22:32] <FunkyBob> not sure when you'd write a classmethod
[02:24:28] <glik22> i suppose it's twofold: i want to get something, then i want to do something with it. the doing something with it i can put in a model method. in this case maybe it's something i want to do as a whole..
[02:26:33] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:29:37] *** Quits: gkr (~gkr@78.199.13.26) (Read error: Connection reset by peer)
[02:30:02] *** Joins: gkr (~gkr@78.199.13.26)
[02:33:57] *** Parts: blackout69 (~blackout6@net-109-116-208-45.cust.vodafonedsl.it) ()
[02:39:16] *** Joins: xkuru (~xkuru@user/xkuru)
[02:40:09] *** Quits: xkuru (~xkuru@user/xkuru) (Client Quit)
[02:45:38] * bambanxx django radio is online https://www.youtube.com/watch?v=FxYw0XPEoKE&ab_channel=whitneyhoustonVEVO
[02:46:26] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[02:54:42] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 245 seconds)
[02:56:50] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[03:02:28] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:05:46] *** Joins: ovnicraft (~ovnicraft@179.49.44.28)
[03:10:04] *** Quits: ovnicraft (~ovnicraft@179.49.44.28) (Client Quit)
[03:12:08] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 256 seconds)
[03:14:19] *** Joins: dre (~dre@2001:8003:c932:c301:e8e8:61dd:d08f:b129)
[03:17:52] *** Quits: TuringSystem (~Turing@lfbn-idf1-1-1910-81.w90-91.abo.wanadoo.fr) (Quit: Connection closed)
[03:18:22] *** Quits: slav0nic (slav0nic@python.su) (Ping timeout: 256 seconds)
[03:24:00] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[03:25:32] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Client Quit)
[03:26:49] *** Joins: thiras (~thiras@user/thiras)
[03:27:32] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[03:28:42] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Client Quit)
[03:37:14] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[03:38:43] <moldy> glik22: the fact that the example code uses the term "class" for two different things doesn't help with understanding ;)
[03:39:19] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Remote host closed the connection)
[03:39:26] <moldy> glik22: but it looks like you want to change a single instance, so an instance method (a normal method) would be appropriate
[03:40:16] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[03:40:37] <moldy> do you want to modify a single rows or multiple rows?
[03:41:40] <Steve-Dusty> django is django
[03:44:44] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 258 seconds)
[03:45:52] <Steve-Dusty> yo
[03:45:54] <Steve-Dusty> I need welp
[03:46:06] <Steve-Dusty> I finished my "accounts" app
[03:46:16] <Steve-Dusty> it handles login n signup
[03:46:31] <FunkyBob> i'm sure login was no struggle, since it's entirely built in :P
[03:46:39] <Steve-Dusty> but every time user creates a question I want it to
[03:46:44] <Steve-Dusty> I want it to put it in databasze
[03:46:51] <Steve-Dusty> idk what to do
[03:47:11] <Steve-Dusty> what should I put for foreignkey author?
[03:47:20] <FunkyBob> didn't we go over this week... using ModelForm and InlineModelFormSet
[03:47:30] <FunkyBob> oh, you want to record _who_ created it?
[03:47:41] <FunkyBob> use request.user to reference the current user for this request
[03:48:26] <FunkyBob> https://docs.djangoproject.com/en/3.2/topics/auth/default/#authentication-in-web-requests
[03:48:34] <Steve-Dusty> yes
[03:48:43] <Steve-Dusty> isn't it get_user_model or something
[03:48:57] <FunkyBob> you want the current instance, not the model class.
[03:49:06] <glik22> moldy: sorry, just seeing this. yea, my bad with the example :). i want to fetch a single instance and then modify it. now i'm thinking that both options 1 and 3 are not good
[03:49:09] <FunkyBob> the current logged in user for a request is request.user
[03:49:14] <Steve-Dusty> ok
[03:49:17] <FunkyBob> it's an instance of your user model
[03:49:57] <moldy> glik22: option 1 doesn't make sense
[03:49:59] <Steve-Dusty> how :(
[03:50:03] <glik22> i say that because i feel like Managers/QuerySets should only return instances/querysets and not call some business logic. so now i'm leaning towards option 2
[03:50:08] <moldy> glik22: neither does option 3 :)
[03:50:11] <Steve-Dusty> i've only done it in CBV
[03:50:17] <Steve-Dusty> with test_obj func
[03:50:42] <glik22> moldy: does option 2 or is that crap too :)
[03:50:54] <moldy> glik22: if it's for a single instance: ``def do_complete(self): self.status = complete; self.save()``
[03:51:17] <moldy> glik22: or even just put those 2 lines where you need them
[03:51:57] <glik22> moldy: yea, that's what i plan on having as a method on the model itself. the question now is what coordinates the fetching of the object and calling of obj.do_complete()?
[03:52:19] <Steve-Dusty> FunkyBob why do I see people put get_user_model in their Author field in models.py?
[03:52:39] <glik22> this is a trivial enough example and the view _could_ do it.
[03:53:09] <FunkyBob> Steve-Dusty: because the User model is pluggable.. you can configure your project to not use the default one
[03:53:17] <moldy> glik22: you're overthinking this, if you ask me. ``MyModel.objects.filter(class_id=class_id).update(status="complete")`` is one line and one DB query ;)
[03:53:18] <Steve-Dusty> what should I put as first argument for the author field?
[03:53:25] <FunkyBob> Steve-Dusty: are you asking what to pass to your ForeignKey declaration?
[03:53:25] <Steve-Dusty> what should I import?
[03:53:28] <Steve-Dusty> yes
[03:53:31] <FunkyBob> or what to set the value on a Qusetion instance to?
[03:53:41] <Steve-Dusty> `    author = models.ForeignKey(
[03:53:41] <Steve-Dusty>         on_delete=models.CASCADE)`
[03:53:43] <FunkyBob> for your ForeignKey I would pass settings.AUTH_USER_MODEL
[03:53:53] <Steve-Dusty> imported from django.conf?
[03:54:09] <FunkyBob> https://docs.djangoproject.com/en/3.2/topics/auth/customizing/#referencing-the-user-model
[03:54:19] <FunkyBob> look!  a perfect example... in the docs!
[03:54:32] <Steve-Dusty> yes
[03:55:00] <glik22> moldy: yea, it's just a bad example. there's actually quite a bit of logic that happens after updating something. say, an instance of another class is created and/or a task is added to celery
[03:55:03] <Steve-Dusty> https://dpaste.org/GAsf
[03:55:09] <Steve-Dusty> and like this in the view saving?
[03:55:28] <FunkyBob> ooh,,, context free code samples.... yay :/
[03:55:39] <FunkyBob> in your view you would be using a ModelForm
[03:55:40] <moldy> glik22: ok. then you either make an instance method and let the caller fetch the instance, or you make a plain function.
[03:55:55] <moldy> glik22: note that the former is more flexible
[03:56:22] <moldy> (you may want to query the instance by something other than class_id)
[03:56:26] <FunkyBob> Steve-Dusty: then look here for the use of .save(commit=False) https://docs.djangoproject.com/en/3.2/topics/forms/modelforms/#the-save-method
[03:56:36] <Steve-Dusty> i always put it directly in the model..
[03:56:51] <Steve-Dusty> is that wrong?
[03:56:53] <FunkyBob> Steve-Dusty: rule #1 of the web -- NEVER trust user input. EVER
[03:56:54] <FunkyBob> EVER
[03:57:05] <FunkyBob> anything in request is user input
[03:57:17] <Steve-Dusty> ok
[03:57:19] <glik22> moldy: the former is option 2 right, where additional logic is added to the function (and i could probably remove the simple my_class.complete())
[03:57:19] <FunkyBob> pass it through a ModelForm to sanitise and validate it
[03:57:31] <Steve-Dusty> so my todo app is easily hackable :(
[03:57:40] <FunkyBob> Steve-Dusty: well... maybe
[03:57:58] <Steve-Dusty> would you know how to hack it?
[03:57:59] <FunkyBob> but generally you will find that - except for trivial cases - it's simpler to use a ModelForm
[03:58:17] <Steve-Dusty> https://dpaste.org/X0cx just so you can see the whole view...
[03:58:21] <moldy> glik22: the former is ``def do_complete(self): # all the logic here``
[03:58:36] *** Quits: Guddu (~Guddu@117.222.80.5) (Quit: Leaving)
[03:58:42] <FunkyBob> Steve-Dusty: so... you already have the QusetionForm... why not use it?
[03:58:58] <FunkyBob> it creates the model instance for you, and updates its fields
[03:59:19] *** Quits: beanzilla (~beanzilla@user/beanzilla) (Quit: ZNC 1.8.2 - https://znc.in)
[03:59:38] <FunkyBob> so instead of manually creating the model instance and plucking out its value... the form will do that for you
[04:00:17] <Steve-Dusty> idk
[04:00:21] <Steve-Dusty> i think i saw a tutorial
[04:01:54] <Steve-Dusty> https://dpaste.org/zhmW improvised version
[04:02:20] <FunkyBob> https://dpaste.org/4Gaz
[04:02:30] <FunkyBob> snap!
[04:05:11] <Steve-Dusty> oh
[04:05:14] <Steve-Dusty> you changed it to obj
[04:05:30] <Steve-Dusty> one stack overflow answer showed the name of obj instance
[04:05:40] <FunkyBob> it really doesn't matter
[04:05:45] <FunkyBob> it's a variable name
[04:05:57] <Steve-Dusty> I added a new field to my models.py
[04:06:03] <Steve-Dusty> do I need to delete my models and migrate again
[04:06:07] <Steve-Dusty> i'd lose everything
[04:06:13] <glik22> moldy: i _think_ you are describing scenario 1 in this new, hopefully better, snippet https://dpaste.org/vozb
[04:06:32] *** Joins: beanzilla (~beanzilla@user/beanzilla)
[04:06:57] <FunkyBob> Steve-Dusty: why on earth would you delete anything?
[04:07:07] <FunkyBob> migrations exist so you can migrate from one schema to the new one
[04:07:36] <moldy> glik22: there is little difference between option 1 and 2 here
[04:07:56] <moldy> glik22: i usually go with option 1, but option 2 is also fine
[04:08:37] <Steve-Dusty> ok
[04:08:40] <Steve-Dusty> I created  a new field
[04:08:41] <Steve-Dusty> what should I do?
[04:08:43] <Steve-Dusty> Migrate?
[04:08:51] <FunkyBob> makemigration
[04:09:15] <glik22> moldy: and why is the original option with the classmethod not ok? it _works_ but just feels wrong to me. i'm not sure if it's because of the fetching + modifying at the same time or what.
[04:09:23] <FunkyBob> +s
[04:09:34] <moldy> glik22: the code operates on an instance, not on the class
[04:10:42] <moldy> ultimately it's a matter of taste
[04:11:15] <moldy> but again: option 1 is more flexible, because the caller can decide how to get the instance
[04:11:22] <moldy> you may already have it and save a DB query
[04:11:41] <glik22> ah good point
[04:19:31] <FunkyBob> Steve-Dusty: when you change your models, you 'makemigrations' so django generates a migration script...
[04:19:39] <FunkyBob> Steve-Dusty: then you run 'migrate' to apply those changes
[04:22:13] <Steve-Dusty> yeah ik i kinda forget about that when one time it said "select 1 or 2 default thingy"
[04:22:22] *** Quits: django-ticketbot (~django-ti@django/ops/ticketbot) (Remote host closed the connection)
[04:22:40] *** Joins: django-ticketbot (~django-ti@django/ops/ticketbot)
[04:26:33] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[04:30:50] *** Quits: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net) (Ping timeout: 252 seconds)
[04:31:44] <Steve-Dusty> `questions = Question.choice_set(filter=not None)` I want it to display only Questions with choices
[04:31:47] <Steve-Dusty> is this how you do it?
[04:32:16] <Steve-Dusty> cuz I got ReverseManyToOne Typeerror object is not callable
[04:32:34] *** Quits: bambanxx (~bambanx@pc-223-49-214-201.cm.vtr.net) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[04:39:41] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[04:42:19] <dodobrain> FunkyBob, umm.. this is interesting.. if i turn on DEBUG, everything int he project works. if i turn it off, my entrypoint redirects (302) to /auth/login/?next=/ which ends up being a 500 !
[04:42:39] <schinckel> Steve-Dusty: You access a reverse relation from an instance.
[04:42:47] <schinckel> instance = Question.objects.get(pk=...)
[04:43:31] <schinckel> choices = instance.choice_set.exclude(<column>=None)
[04:44:09] <Steve-Dusty> oh bruh
[04:49:28] <Steve-Dusty> but..
[04:51:40] <Steve-Dusty> https://dpaste.org/tEnE I got a "  File "/home/stevek/Projects/Python/django/polls/polling/views.py", line 15, in home
[04:51:41] <Steve-Dusty>     questions = instance.choice_set.exclude(choice_text=None)
[04:51:41] <Steve-Dusty> AttributeError: 'QuerySet' object has no attribute 'choice_set'"
[04:51:47] <FunkyBob> yes
[04:51:51] <FunkyBob> as you were told
[04:51:57] <FunkyBob> you need a model _instance_ to get that
[04:52:12] <FunkyBob> show your code
[04:52:39] <Steve-Dusty> https://dpaste.org/tEnE
[04:52:49] <FunkyBob>     instance = Question.objects.all()
[04:52:53] <FunkyBob> all() returns a queryset
[04:53:17] <FunkyBob> you need a single model instance
[04:53:24] <FunkyBob> like you get from calling get()
[04:54:13] <Steve-Dusty> oh
[04:54:22] <Steve-Dusty> then what should I get -_-
[04:55:00] <FunkyBob> what is this view trying to display?
[04:55:23] <FunkyBob> "a question and its choices"?  or "all questions"?  or...?
[04:55:52] <FunkyBob> [also, (a) is your choice_text really nullable??   and (b) why do you want those choices only?]
[04:56:54] <Steve-Dusty> I only want to display polls with choices
[04:57:13] <Steve-Dusty> because I can't stop people from not clicking "next" to to "create choices" view page
[04:57:30] <Steve-Dusty> and then their half-done polls will be displayed with no options to select
[04:57:35] <FunkyBob> ah... so you've given up on creating Question+Choices in one go?
[04:57:42] <FunkyBob> [understandable for a beginning]
[04:58:02] <FunkyBob> so what you probably want it Question.objects.filter(question__isnull=False)
[04:58:10] <FunkyBob> oops
[04:58:18] <FunkyBob> that should be filter(choice__isnull=False)
[04:58:24] <FunkyBob> to get only questions with related choices
[04:58:31] <Steve-Dusty> yes
[04:58:47] <Steve-Dusty> cuz im beginner and i want to become intermediate :(
[04:58:59] <FunkyBob> accessing choices_set only makes sense on a specific question
[04:59:16] <FunkyBob> it's saying "get me a queryset of only the choices whose fkey poitns to this question"
[05:00:04] <Steve-Dusty> https://dpaste.org/sV98 I got the same error agan...
[05:00:25] <Steve-Dusty> WAIT
[05:00:29] <Steve-Dusty> so I don't need choices_set
[05:00:30] <FunkyBob> yes... ditch the second line
[05:00:48] <FunkyBob> so... clear case of x-y problem :)
[05:00:57] <Steve-Dusty> btw
[05:01:05] <Steve-Dusty> would you be able to Question + choices in one go?
[05:01:09] <FunkyBob> yes
[05:01:12] <Steve-Dusty> how difficult would you rate it?
[05:01:14] <Steve-Dusty> 1-10
[05:01:16] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[05:01:16] <FunkyBob> 1
[05:01:19] <Steve-Dusty> :(
[05:01:29] <Steve-Dusty> if that's 1, then give an example of 10
[05:01:33] <FunkyBob> .prefetch_related('question_set')
[05:01:37] <FunkyBob> of a 10?  hmm
[05:01:52] <FunkyBob> well, schinckel's been helping someone with a really really hairy query
[05:02:04] <FunkyBob> that involves OuterRef(OuterRef(something))
[05:02:16] <FunkyBob> which is something i didn't even come clos to considering if it was even possible
[05:02:21] <FunkyBob> let alone know it was
[05:02:24] <Steve-Dusty> wut's that
[05:03:02] <Steve-Dusty> btw how long would it take you to finish a form that lets users combine choice + question at the same time?
[05:03:27] <FunkyBob> you mean the inline formset stuff we were discussing earlier this week?
[05:03:39] <Steve-Dusty> im still going to use inline formset..
[05:03:44] <Steve-Dusty> for the choices
[05:03:47] <FunkyBob> oh
[05:03:53] <FunkyBob> i thought you'd split it to two pages?
[05:03:58] <Steve-Dusty> i would
[05:03:59] <FunkyBob> so there's no need for an _inline- formset... just a formset
[05:04:07] <Steve-Dusty> model formset?
[05:04:18] <FunkyBob> yes
[05:05:02] <Steve-Dusty> would I be seen as a django dev who cuts corners by splitting it into 2 pages?
[05:05:15] <Steve-Dusty> or just another way of doing something
[05:05:18] <FunkyBob> that's more of a UX question
[05:05:47] *** Quits: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75) (Ping timeout: 250 seconds)
[05:06:17] <Steve-Dusty> https://imgur.com/a/Ly6gzrJ
[05:06:23] <Steve-Dusty> i've decided to add a progress bar
[05:07:42] <FunkyBob> pretty sure I said this the other day
[05:07:48] <FunkyBob> make it work, _then_ make it pretty
[05:08:25] <Steve-Dusty> i like to finish hard things first for some reason
[05:08:58] <FunkyBob> sure, but yhou might have to throw away all that design work when you realise you need to do the functional bit differently
[05:09:10] *** Joins: stats4647 (~stats4647@ip174-67-220-13.oc.oc.cox.net)
[05:09:40] *** Joins: djapo (~archangel@user/djapo)
[05:10:36] *** Quits: PantelicGR (~PantelicG@user/pantelicgr) (Quit: Leaving)
[05:12:23] <Steve-Dusty> funky since it has a difficulty level of <1 in a scale from 1-10, can you make a really quick form that demonstrate how inline formsets would work while combining Multiple choices and question together? or is there any example on the internet that demonstrates this because i really want to know how I promise no skid
[05:13:28] <FunkyBob> oh, wait, I misunderstood the question if you mean the inline formset for 1-10 scale
[05:13:37] <FunkyBob> I thought you mean retrieving questions and choices from the Db at once
[05:13:56] <Steve-Dusty> oh
[05:14:22] <Steve-Dusty> then how hard would this task be?
[05:14:29] <FunkyBob> to do an inline formset with a fixed number of choices, might take me a day
[05:14:47] <FunkyBob> to add a variable number of choices, longer because it can get really fiddly
[05:15:05] <Steve-Dusty> ok
[05:15:08] <Steve-Dusty> nvm about that request
[05:15:13] <Steve-Dusty> cuz it's hardy hard
[05:15:23] <Steve-Dusty> so Im not worried about being bad
[05:15:41] <FunkyBob> the dynamic formset stuff requires javascript..
[05:15:54] <FunkyBob> and i have a blog post covering how to do it... but the code isn't final, it's a WIP
[05:17:41] *** Joins: domhnall (~developer@user/domhnall/x-2887755)
[05:18:43] <Steve-Dusty> `    questions = Question.objects.filter(choice__isnull=False)` just for clarification.. how does this work..
[05:18:45] <Steve-Dusty> it doesn't use _set
[05:21:43] *** Quits: Rikem (~mike@user/rikem) (Ping timeout: 258 seconds)
[05:31:35] <FunkyBob> Steve-Dusty: filtering through relations?
[05:31:44] <FunkyBob> no... the _set is for accessing related records ON AN INSTANCE
[05:31:53] <FunkyBob> this is defining a query filter... a WHERE clause in SQL
[05:32:11] <FunkyBob> "give me all the questions WHERE ... the related choice is not blank"
[05:32:50] <FunkyBob> https://docs.djangoproject.com/en/3.2/topics/db/queries/#lookups-that-span-relationships
[05:39:59] *** Quits: Steve-Dusty (~Steve-Dus@user/steve-dusty) (Quit: Client closed)
[05:50:05] <dre> Morning all
[05:50:12] <dre> hope we're feeling good for a friday
[05:50:46] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 252 seconds)
[05:54:17] *** Joins: vdamewood (~vdamewood@fedora/vdamewood)
[06:00:26] <FunkyBob> well, I just finished breakfast
[06:00:29] <FunkyBob> tends to help my mood :P
[06:16:51] <Kipe_> FunkyBob: just going to bed, good morning :D
[06:18:34] <FunkyBob> :)
[06:20:39] *** Quits: svedrin (~quassel@tiamat.funzt-halt.net) (Quit: https://quassel-irc.org - Komfortabler Chat. Überall.)
[06:20:57] *** Joins: svedrin (~quassel@tiamat.funzt-halt.net)
[06:26:51] <dre> FunkyBob, I've been trying to do intermittent fasting. but the most conveient time to do it is breakfast, and I /LOVE/ breakfast :(
[06:28:09] <FunkyBob> dre: that's why I have my breakfast at about 10am
[06:29:02] <FunkyBob> no food within 4 hours of waking
[06:29:08] <FunkyBob> 8 hour window in which to eat
[06:29:15] <FunkyBob> typically only 2 meals / day now, too
[06:29:39] <FunkyBob> (that last bit just sort of happened on its own)
[06:29:45] <dre> ye
[06:35:39] <FunkyBob> now if only this lockdown would end so I could go back to the gym :/
[06:43:37] <dang`r`us> same
[07:01:07] <schinckel> dre: Assuming you are in AU too then?
[07:20:07] <dre> ye
[07:30:05] <dodobrain> all of us are down under in the hidden place?
[07:34:05] <dre> ye
[07:36:26] *** Quits: tone0 (~tone@071-011-252-111.res.spectrum.com) (Read error: Connection reset by peer)
[07:37:05] *** Joins: tone0 (~tone@071-011-252-111.res.spectrum.com)
[07:49:35] *** Quits: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net) (Quit: Bye.)
[07:57:43] *** Joins: Guest4638 (~Steve-Dus@user/steve-dusty)
[07:57:47] <Guest4638> hello
[07:57:57] <Guest4638> i am coder god
[07:58:27] *** Joins: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75)
[07:58:57] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[08:01:30] *** Joins: dodobrain_ (~dodobrain@user/dodobrain)
[08:04:59] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Ping timeout: 255 seconds)
[08:34:31] *** Quits: Guest4638 (~Steve-Dus@user/steve-dusty) (Quit: Client closed)
[08:49:30] *** Quits: audiocat (~audio@2603-8081-1800-00ad-3736-d60e-b265-76c0.res6.spectrum.com) (Ping timeout: 240 seconds)
[08:59:38] *** Joins: dodobrain__ (~dodobrain@user/dodobrain)
[09:03:29] *** Quits: dodobrain_ (~dodobrain@user/dodobrain) (Ping timeout: 255 seconds)
[09:09:31] *** Joins: zcheng3 (~zcheng3@d198-53-38-251.abhsia.telus.net)
[09:11:22] *** Joins: doev (~doev@p549d7641.dip0.t-ipconnect.de)
[09:30:02] *** Quits: doev (~doev@p549d7641.dip0.t-ipconnect.de) (Quit: Client closed)
[09:39:25] <serafeim> hello friends
[09:40:07] <PaulWay[w]> Hi.
[09:42:55] *** Quits: vdamewood (~vdamewood@fedora/vdamewood) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:46:57] *** Joins: vdamewood (~vdamewood@fedora/vdamewood)
[09:48:31] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:49:05] *** Joins: ovnicraft (~ovnicraft@201.238.128.18)
[09:51:05] *** Quits: ovnicraft (~ovnicraft@201.238.128.18) (Client Quit)
[09:53:45] *** Joins: doev (~doev@p549d7641.dip0.t-ipconnect.de)
[09:53:54] *** Joins: djapo (~archangel@user/djapo)
[09:57:11] <PaulWay[w]> FunkyBob: have you heard of HTMX?
[09:57:19] <PaulWay[w]> https://htmx.org/docs/#introduction
[10:04:24] <serafeim> it's more or less the same as intercooler.js
[10:05:04] <serafeim> it's useful if you need to have some SPA like functionality but without the SPA fuss
[10:09:52] *** Quits: humbertowoody (~humbertow@187.202.209.227) (Quit: WeeChat 3.2)
[10:21:22] *** Quits: vdamewood (~vdamewood@fedora/vdamewood) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:21:34] <dre> :o
[10:21:41] <dre> wow that actually looks really cool PaulWay[w]
[10:22:08] <dre> like, for a nice ez way to add basic interactivity
[10:25:50] <PaulWay[w]> It's an advance on intercooler I believe.
[10:57:45] *** Quits: himcesjf (uid409730@id-409730.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[10:58:12] <serafeim> well yes it's by the same author :)
[10:59:40] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[10:59:40] *** ChanServ sets mode: +v EvilDMP
[11:02:28] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 256 seconds)
[11:21:57] *** Quits: zcheng3 (~zcheng3@d198-53-38-251.abhsia.telus.net) (Ping timeout: 268 seconds)
[11:26:08] *** Joins: Tas-sos (~Tas-sos@78-153-134.adsl.cyta.gr)
[11:29:31] *** Quits: eramirez (~eramirez@2001:4453:367:0:7e13:9779:9980:5d72) (Remote host closed the connection)
[11:29:31] *** Quits: gkr (~gkr@78.199.13.26) (Read error: Connection reset by peer)
[11:30:14] *** Joins: gkr (~gkr@78.199.13.26)
[11:30:55] *** Quits: Tas-sos (~Tas-sos@78-153-134.adsl.cyta.gr) (Ping timeout: 265 seconds)
[11:31:34] *** Joins: Tas-sos (~Tas-sos@ppp079167195025.access.hol.gr)
[11:31:53] *** Quits: Tas-sos (~Tas-sos@ppp079167195025.access.hol.gr) (Client Quit)
[11:32:09] *** Joins: Tas-sos (~Tas-sos@ppp079167195025.access.hol.gr)
[11:38:02] *** Quits: Tas-sos (~Tas-sos@ppp079167195025.access.hol.gr) (Ping timeout: 245 seconds)
[11:39:11] *** Joins: Tas-sos (~Tas-sos@ppp079167214230.access.hol.gr)
[11:42:43] *** Joins: ianthrive (~ianthrive@166.70.94.161)
[11:44:37] *** Joins: GiLgAmEzH (~gilgamezh@a210077.upc-a.chello.nl)
[11:44:38] *** Joins: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl)
[11:45:20] *** Quits: Tas-sos (~Tas-sos@ppp079167214230.access.hol.gr) (Ping timeout: 252 seconds)
[11:45:38] *** Joins: Tas-sos (~Tas-sos@ppp079167208097.access.hol.gr)
[11:48:59] *** Joins: Kalov (~Thunderbi@179.56.117.154)
[11:55:10] *** Joins: TuringSystem (~TuringSys@lfbn-idf1-1-1910-81.w90-91.abo.wanadoo.fr)
[11:55:36] <TuringSystem> Hi
[11:56:22] *** Joins: slav0nic (slav0nic@python.su)
[11:58:59] *** Quits: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75) (Ping timeout: 255 seconds)
[12:00:55] *** Quits: dre (~dre@2001:8003:c932:c301:e8e8:61dd:d08f:b129) (Quit: Leaving)
[12:06:03] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:09:35] *** Quits: gkr (~gkr@78.199.13.26) (Ping timeout: 265 seconds)
[12:10:17] *** Joins: gkr (~gkr@37.171.237.87)
[12:12:15] <TuringSystem> I got a case where I'm doing a migration to modify permissions to Django groups. Inside the migration, all fine, Perms are found, Group take the perms and if I `group.refresh_from_db()` and look at perms, all fines. But after that, the database didn't change, perms didn't update, that I check directly in the database, and in the Django admin. Does
[12:12:15] <TuringSystem> there is specifics operation to modify groups' permissions ?
[12:12:22] <TuringSystem> https://dpaste.org/K5D9
[12:16:22] <jor> TuringSystem: well, for one, you are modifying group_name_default twice (and not _moderator)
[12:17:03] *** Joins: Ergo^ (~ergo@91.238.59.144)
[12:18:23] *** Joins: Atque (~Atque@user/atque)
[12:18:27] <TuringSystem> line 43 and 44 ? Indeed, it's for remove perms related to my model without touch to other perms attached to the group. So I remove all know permissions related to the model then add the exclusiv list I need
[12:19:29] <TuringSystem> Logs show wanted values in both groups. But no impact in the database
[12:19:30] <jor> TuringSystem: no, L63, you are 'getting' the same group again
[12:19:49] <TuringSystem> Ah, indeed
[12:20:21] <jor> splitting off a separate function usually avoids this typo problems ;)
[12:22:06] <TuringSystem> And it works well, thanks you very much
[12:22:50] <TuringSystem> Indeed, nice idea
[12:24:12] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[12:24:13] *** ChanServ sets mode: +v EvilDMP
[12:24:39] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[12:26:47] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[12:36:46] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:43:34] *** Joins: lazerlapin (~lazerlapi@2405:6580:b0c0:4200:b5ae:407e:7ce1:43be)
[12:47:09] *** Joins: Atque (~Atque@user/atque)
[12:48:49] *** Joins: awin (~awin@171.49.201.182)
[12:50:03] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[12:50:03] *** ChanServ sets mode: +v EvilDMP
[12:50:11] <lazerlapin> Let's say I want to return a queryset of objects in a particular order. An arbitrary order, like first items that are type=A, then type=C, then items that are type=B. What would be the way to go?
[12:51:01] <lazerlapin> I have a solution but it really feels there should be something cleaner
[12:51:36] <lazerlapin> I genuinely thought preparing 3 different querysets, one for each type, and then .union() them would do the job but apparently not
[12:53:50] <GinFuyou> annotate Case on type and order_by it?
[12:54:09] <lazerlapin> alright that's what I was doing
[12:54:44] <lazerlapin> crazy that we have no other option
[12:55:35] <GinFuyou> Well, I'm just not sure if there is other
[12:57:09] <lazerlapin> do you happen to know why joining querysets (qs1 | qs3 | qs2) as well as union() (qs1.union(qs3, qs2) don't work as expected?
[13:02:28] *** Quits: dodobrain__ (~dodobrain@user/dodobrain) (Ping timeout: 268 seconds)
[13:02:28] *** Quits: ianthrive (~ianthrive@166.70.94.161) (Quit: Textual IRC Client: www.textualapp.com)
[13:02:50] *** Joins: Rikem (~mike@user/rikem)
[13:03:29] <FunkyBob> lazerlapin: what is "works as expected" to you?
[13:04:44] <lazerlapin> FunkyBob, well I mean like in my first message: items in queryset being returned in an arbitrary order. So by not working as expected I mean order is not respected with other solutions than annotating Case + order_by
[13:05:38] <lazerlapin> well they surely do work as expected, tho not as I would have expected lol
[13:09:37] <FunkyBob> did you check the sql it's producing?
[13:12:44] *** Quits: awin (~awin@171.49.201.182) (Remote host closed the connection)
[13:37:19] <schinckel> IIRC you need to apply the ordering _after_ you have performed the union.
[13:37:36] <schinckel> Which works as SQL works, right?
[13:39:21] <lazerlapin> FunkyBob well I didnt go that far... I was just asking in case it was on top of somebody's mind
[13:39:46] <lazerlapin> schinckel but we can't order_by or type=B then type=A right?
[13:40:01] <lazerlapin> or -> on
[13:41:09] <schinckel> You can order by arbitrary expressions.
[13:41:58] <schinckel> (qs1 | qs2 | qs3).order_by(Case(When(type='A', then=Value(1)), When(type='B', then=Value(2)), ...))
[13:42:47] <schinckel> And you could use a different column for ordering based on the When clause, I think.
[13:42:47] <lazerlapin> wow, never saw that before
[13:43:13] <lazerlapin> are you sure Case() would not be to be used with annotate?
[13:43:31] <schinckel> Absolutely.
[13:43:47] <schinckel> You can even directly filter using a Case(When()) that returns a BooleanField
[13:43:53] *** Quits: ChOcO-Bn (~choco@user/choco-bn) (Ping timeout: 258 seconds)
[13:44:08] <lazerlapin> crazy!
[13:44:15] <lazerlapin> wow I'm not sure many ppl know that one
[13:44:21] *** Joins: ChOcO-Bn (~choco@user/choco-bn)
[13:44:23] <schinckel> (Or any expression that returns a BooleanField, actually. That's pretty new, we only put that in maybe the previous version)
[13:45:11] <hylje> but using annotate is nice because it gives a name to your big-ass conditional statement
[13:45:26] <schinckel> https://github.com/django/django/pull/8119
[13:45:42] <schinckel> hylje: Yeah, but if you don't use the value it can cause significantly worse database performance.
[13:45:52] <schinckel> (ie, don't need the value in Python)
[13:46:07] <schinckel> See https://github.com/django/django/pull/8119#issuecomment-306099431
[13:46:13] <hylje> wild
[13:46:46] <schinckel> That's around 4x worse performance with the EXISTS() also in the SELECT clause.
[13:46:59] <lazerlapin> wow, I'm digging into your links right now, thank you for the references
[13:50:05] <schinckel> (Subquery/Exists was my baby a couple of years ago, and I worked on that PR but was unable to finish it - luckily felixxm jumped on it and finished it)
[13:51:35] <lazerlapin> Yeah I was just figuring out the PR author had the same nickname as you lol
[13:53:52] *** Joins: stabler (~stabler@0x3ec7b3b0.osd.customer.dk.telia.net)
[13:59:10] *** Quits: diverdude (~user@176-21-102-230-cable.dk.customer.tdc.net) (Ping timeout: 252 seconds)
[14:07:10] *** Quits: enkrypt (~enkrypt@user/enkrypt) (Quit: WeeChat 3.0)
[14:10:52] *** Joins: aplainzetakind (~johndoe@captainludd.powered.by.lunarbnc.net)
[14:16:07] *** Quits: gkr (~gkr@37.171.237.87) (Ping timeout: 250 seconds)
[14:16:33] *** Joins: gkr (~gkr@37.171.237.87)
[14:17:03] *** Joins: enkrypt (~enkrypt@user/enkrypt)
[14:27:44] *** Joins: vdamewood (~vdamewood@fedora/vdamewood)
[14:32:40] *** Joins: thiras (~thiras@user/thiras)
[14:35:54] *** Quits: vdamewood (~vdamewood@fedora/vdamewood) (Ping timeout: 240 seconds)
[14:37:02] *** Joins: vdamewood (~vdamewood@fedora/vdamewood)
[14:46:06] *** Quits: ChOcO-Bn (~choco@user/choco-bn) (Ping timeout: 252 seconds)
[14:46:51] *** Quits: Kalov (~Thunderbi@179.56.117.154) (Quit: Kalov)
[14:46:56] *** Joins: ChOcO-Bn (~choco@user/choco-bn)
[15:02:18] <lazerlapin> schinckel I understood that EXISTS used in WHERE instead of SELECT has better performance
[15:02:37] <lazerlapin> however regarding using Case(When()) directly inside order_by, instead of annotating and THEN order_by on the annotate field, would not result in EXISTS being used in SQL
[15:02:55] <lazerlapin> So does that really make a difference in terms of performance?
[15:03:40] <lazerlapin> meaning Case(When()) in order_by() VS order_by(annotated_field)
[15:22:09] <stabler> In my project, my user model has a foreignkey field of recipes which the user owns. I also wish to store the user (i.e. creator) of each recipe inside the recipe. Which field should I use for this, and how can I avoid a circular import?
[15:24:22] *** Quits: ChOcO-Bn (~choco@user/choco-bn) (Ping timeout: 265 seconds)
[15:24:30] *** Joins: ChOcO-Bn (~choco@user/choco-bn)
[15:39:10] <lazerlapin> stabler I would say do not declare recipes in User model and just use a ForeignKey on Receipt model to your user model which a creator field
[15:41:28] <lazerlapin> which -> with
[15:46:50] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[15:49:41] <stabler> lazerlapin, thank you. I will give that a go.
[15:50:24] *** Joins: Atque (~Atque@user/atque)
[15:58:16] *** Joins: carlio (~carlio@88.198.149.110)
[15:58:33] *** Quits: explore (uid233125@id-233125.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[16:05:17] *** Joins: kostkon_ (~androirc@ob21aa.static.otenet.gr)
[16:06:28] *** Joins: zibby15 (~androirc@user/zibby15)
[16:15:07] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[16:15:21] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:16:42] <GinFuyou> stabler, there is no need for import to declare relationship fields, it support dotted string for model reference
[16:17:19] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[16:17:45] *** Joins: Harlin (~DonQixote@2603:300b:663:e800:98ff:d1ab:5789:5085)
[16:18:13] <GinFuyou> also, can recipe belong to several users? that's may be many-to-many then. Depends on what user can do with a recipe
[16:19:36] *** Quits: gkr (~gkr@37.171.237.87) (Ping timeout: 252 seconds)
[16:27:35] *** Joins: Atque (~Atque@user/atque)
[16:30:59] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[16:30:59] *** ChanServ sets mode: +v EvilDMP
[16:40:39] <stabler> @GinFuyou, Oh, that's pretty cool. It's one user per recipe
[16:41:12] <GinFuyou> Ok, then it's probably recipe with FK to user
[16:41:36] <stabler> creator on recipe, thanks
[16:46:36] <stabler> How will that influence the db performance when many users makes a request to get all recipes by a specific user? That's linear search for each query. Can that be avoided?
[16:48:35] <GinFuyou> No, it's not a linear search
[16:51:03] *** Grauwolf_ is now known as Grauwolf
[17:04:02] *** Joins: blackout69 (~blackout6@net-109-116-208-45.cust.vodafonedsl.it)
[17:10:06] *** Joins: zcheng3 (~zcheng3@d198-53-38-251.abhsia.telus.net)
[17:13:25] *** Quits: vdamewood (~vdamewood@fedora/vdamewood) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:14:53] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 255 seconds)
[17:15:30] *** Quits: blackout69 (~blackout6@net-109-116-208-45.cust.vodafonedsl.it) (Quit: Leaving.)
[17:23:14] *** Joins: Diemuzi (~Diemuzi@ip68-106-203-17.pn.at.cox.net)
[17:24:02] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[17:26:33] *** Joins: CodenameTim (~CodenameT@154.21.114.220)
[17:29:26] *** Quits: rannnn8888 (~rannnn888@bzq-79-182-123-214.red.bezeqint.net) (Quit: Client closed)
[17:31:28] *** Quits: domhnall (~developer@user/domhnall/x-2887755) (Ping timeout: 252 seconds)
[17:32:51] *** Joins: IceMichael (~IceMichae@dynamic-046-114-155-193.46.114.pool.telefonica.de)
[17:36:50] *** Joins: Atque (~Atque@user/atque)
[17:52:14] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[17:57:28] *** Joins: Atque (~Atque@user/atque)
[18:12:38] *** Joins: coregonus (~adam@PPPoE-216-183-148-140.bmts.com)
[18:34:30] <IceMichael> How many of you use type hints by the way? I often find myself struggling with return types because they are implicit, doing it almost always wrong the first time because it's not properly shown
[18:34:36] <IceMichael> or do you solve this by documenting the functions?
[18:34:40] <IceMichael> wondering what best practice could be
[18:36:45] *** Joins: READ10 (~weechat@user/read10)
[18:39:05] <CodenameTim> I try to use them as much as I can on function signatures, but don't beat myself up over it. I particularly like to use them in service type logic and defining class members.
[18:41:33] <IceMichael> yeah, service is such thing. One function does something and returns some kind of handler/identifier for a request
[18:41:56] <IceMichael> it is not a request function though but a service function using a request, which is why it will take items, process them, and put them into a result
[18:42:23] <IceMichael> how the process output should be... no clue. Could be a dict, could be a list, many things would make sense
[18:43:09] <CodenameTim> Without having context, can you refactor that function to be more straightforward?
[18:43:47] <IceMichael> I was hoping to do that but well... the problem is, we are calling against Apple API
[18:43:56] <IceMichael> for some requests, they return a dict with many fields, the data itself
[18:44:12] <IceMichael> for others, they process something and return an eventId and we can poll on that with another API call to see progress
[18:44:34] <IceMichael> our function signatures more or less mirror Apple's API
[18:45:08] <IceMichael> hm, actually, it is closer to being a normal request than really processing the data. There is only an aggregator for multiple requests around it
[18:49:40] *** Quits: doev (~doev@p549d7641.dip0.t-ipconnect.de) (Ping timeout: 246 seconds)
[19:00:57] <IceMichael> I have to say, for refactoring Python is a gruesome language :/
[19:01:04] <IceMichael> I use it most at the moment but...
[19:01:44] <CodenameTim> What's making refactoring difficult?
[19:02:22] <IceMichael> it is not compiled against type errors
[19:03:14] <IceMichael> if I pass a cow to a parameter that should be a chicken, it will sometimes work because of duck-typing. If I tell my "cow" to run, it will. It's just the chicken that will run and I will wonder why it is so slow
[19:04:49] <IceMichael> and then there are feathers which I actually expected because of my duck that was also somehow involved. But it's too many feathers and I blame the duck, but it was my "cow" which is a chicken and I missed it
[19:06:24] <CodenameTim> That's a fair statement. Though in that hypothetical perhaps it'd be better for to pass the values needed from the animal instance rather than the entire instance.
[19:07:01] *** Joins: himcesjf (uid409730@id-409730.tinside.irccloud.com)
[19:07:50] <IceMichael> yeah, that's the common way to just pass in what you really need. But oftentimes it's just one dict and I expected the other
[19:08:07] <IceMichael> I mean... type hints (best if checked) solve much of this
[19:08:11] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[19:08:39] <IceMichael> but actually Python's non-type-system is what makes it strong for many cases :) but the larger our application gets, the more I would love to have real checked types
[19:09:20] *** Quits: kostkon_ (~androirc@ob21aa.static.otenet.gr) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[19:09:45] <CodenameTim> Are you using mypy?
[19:09:52] <IceMichael> probably not
[19:09:59] <IceMichael> I mean types + linter should help, what is mypy? googling
[19:10:07] <CodenameTim> http://mypy-lang.org/
[19:10:22] <IceMichael> okay, sounds like something that could work
[19:10:23] <CodenameTim> It'll do some of the compile time type checking for you.
[19:10:32] <IceMichael> then again, our technical debt will probably not allow this at the moment
[19:10:44] <IceMichael> or does it just ignore non-type-hinted parameters/functions?
[19:10:59] <IceMichael> ah yes
[19:11:03] <CodenameTim> It should ignore the non-typed functions.
[19:11:11] <IceMichael> nice, thank you, will discuss this maybe with colleagues
[19:11:16] <CodenameTim> Or at least be configurable.
[19:11:32] <CodenameTim> You're welcome.
[19:22:29] *** Quits: Tas-sos (~Tas-sos@ppp079167208097.access.hol.gr) (Quit: Lost terminal)
[19:23:30] *** Quits: zibby15 (~androirc@user/zibby15) (Quit: leaving.)
[19:41:26] <lazerlapin> When excluding on many relationships, to achieve Not(A and B), the only way possible according to the doc is to use, .exclude(fieldname__in=MyModel.objects.filter()) syntax, which produces SQL that obviously uses IN SELECT
[19:42:07] <lazerlapin> But in pure SQL we can actually achieve the same result without IN SELECT
[19:42:43] <lazerlapin> Using LEFT JOIN and WHERE foreignobject.id IS NULL on both conditions
[19:43:09] <lazerlapin> That's a common trick among SQL OGs
[19:43:23] <lazerlapin> Is there a way to produce that syntax using Django ORM?
[19:45:44] <CodenameTim> You can use ~Q(field1=1, field2=2) as not ( field1 == 1 and field2 == 2). If that doesn't produce the SQL you're looking for, then take a look at using `~Exists()` in a filter statement: https://docs.djangoproject.com/en/3.2/ref/models/expressions/#filtering-on-a-subquery-or-exists-expressions
[19:46:40] <CodenameTim> Though using Exists will generate a subquery and not a left join.
[19:50:28] *** Joins: knbk_ (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl)
[19:51:27] *** Joins: audiocat (~audio@2603-8081-1800-00ad-8216-d195-8c28-472e.res6.spectrum.com)
[19:54:00] *** Quits: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl) (Ping timeout: 272 seconds)
[19:58:37] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[19:59:13] *** Joins: rpkilby (~rpkilby@ec2-34-252-84-235.eu-west-1.compute.amazonaws.com)
[19:59:42] *** Quits: GiLgAmEzH (~gilgamezh@a210077.upc-a.chello.nl) (Ping timeout: 272 seconds)
[20:06:14] <bmbouter[m]> I'm using `django-test` and in between runs it's not resetting the DB. I see this note in the docs https://docs.djangoproject.com/en/3.2/topics/testing/overview/#the-test-database our app does customize the ready() but not resetting the db is very unexpected to me
[20:06:26] <bmbouter[m]> how can I learn how to have django reset our DB between each `django-test` run?
[20:07:04] *** Quits: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi) (Ping timeout: 268 seconds)
[20:08:29] *** Joins: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi)
[20:15:14] *** Joins: Steve-Dusty (~Steve-Dus@user/steve-dusty)
[20:22:09] *** Joins: Quacc (~youbuntoe@user/quacc)
[20:22:11] <Quacc> steve!
[20:31:02] <Steve-Dusty> quacc!
[20:33:01] <b-rex> from steve.dusty import quacc as django
[20:37:26] <Steve-Dusty> https://dpaste.org/NEAt
[20:37:27] <Steve-Dusty> why error?
[20:39:29] *** Quits: zcheng3 (~zcheng3@d198-53-38-251.abhsia.telus.net) (Ping timeout: 252 seconds)
[20:39:53] *** Joins: gkr (~gkr@2a01:e34:ec70:d1a0:5cc8:6ab3:6914:3343)
[20:39:55] <CodenameTim> Steve-Dusty, `redirect` accepts a string. You need to call `reverse` with the name createchoice and the arguments and pass the result into `redirect`
[20:41:22] <Steve-Dusty> oh
[20:42:08] <knbk_> Steve-Dusty: the error is in your template. You have a url tag for 'createchoice' where you don't pass a question_id as argument
[20:42:23] <Steve-Dusty> do I need to implement what codename tim said?
[20:42:24] <knbk_> CodenameTim: redirect actually reverses the url for you if you pass a url name and args
[20:42:28] <Steve-Dusty> ok
[20:43:52] <knbk_> it's in your createchoice.html template, btw
[20:44:29] <CodenameTim> Oh shoot, really?
[20:44:29] <Steve-Dusty> k
[20:45:30] <Steve-Dusty> I still get error with this.. https://dpaste.org/Zig5
[20:45:35] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 268 seconds)
[20:45:37] <Steve-Dusty> `{% url 'createchoice' question_id %}`
[20:45:51] <Steve-Dusty> I need to pass in context?
[20:46:31] *** Joins: PantelicGR (~PantelicG@user/pantelicgr)
[20:46:33] *** Quits: audiocat (~audio@2603-8081-1800-00ad-8216-d195-8c28-472e.res6.spectrum.com) (Ping timeout: 250 seconds)
[20:47:53] <knbk_> I guess it's now saying "with arguments ('',)" in the error message instead of "with no arguments"? Yes, you should pass the question_id in the context
[20:49:02] <Steve-Dusty> it worky
[20:50:52] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[20:52:34] *** Quits: coregonus (~adam@PPPoE-216-183-148-140.bmts.com) (Ping timeout: 240 seconds)
[20:54:36] *** Quits: slavfox (~slavfox@ipv4-93-158-232-111.net.internetunion.pl) (Quit: ZNC 1.8.2 - https://znc.in)
[20:55:28] *** Joins: rpkilby_ (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[20:55:42] *** Quits: stabler (~stabler@0x3ec7b3b0.osd.customer.dk.telia.net) (Ping timeout: 252 seconds)
[20:56:57] *** Joins: slavfox (~slavfox@93.158.232.111)
[20:58:50] *** Quits: rpkilby (~rpkilby@ec2-34-252-84-235.eu-west-1.compute.amazonaws.com) (Ping timeout: 265 seconds)
[21:02:40] *** Quits: TuringSystem (~TuringSys@lfbn-idf1-1-1910-81.w90-91.abo.wanadoo.fr) (Quit: Connection closed)
[21:03:32] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Remote host closed the connection)
[21:04:03] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[21:10:00] *** Quits: Quacc (~youbuntoe@user/quacc) (Quit: WeeChat 3.2)
[21:10:27] *** Quits: brsc2909 (~Thunderbi@109.255.244.60) (Quit: brsc2909)
[21:14:53] *** Quits: lazerlapin (~lazerlapi@2405:6580:b0c0:4200:b5ae:407e:7ce1:43be) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:19:07] *** Quits: CodenameTim (~CodenameT@154.21.114.220) (Ping timeout: 246 seconds)
[21:38:15] *** Joins: stabler (~stabler@0x3ec7b3b0.osd.customer.dk.telia.net)
[21:42:27] *** Joins: explore (uid233125@id-233125.stonehaven.irccloud.com)
[21:48:03] <Steve-Dusty> how do I customize formsets
[21:51:17] *** Joins: davegarath (~davegarat@net-93-66-97-252.cust.vodafonedsl.it)
[22:03:54] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[22:10:00] <bmbouter[m]> an idea on my question about `django-test` not resetting my db on each run even though I'm not using `--keepdb` ?
[22:12:20] *** Quits: knbk_ (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl) (Ping timeout: 252 seconds)
[22:19:59] *** Joins: CodenameTim (~CodenameT@154.21.114.6)
[22:22:12] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:23:06] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[22:23:07] *** ChanServ sets mode: +v EvilDMP
[22:24:15] *** Quits: READ10 (~weechat@user/read10) (Quit: WeeChat 3.2)
[22:28:31] *** Joins: Quacc (~youbuntoe@user/quacc)
[22:32:15] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:34:48] *** Quits: Quacc (~youbuntoe@user/quacc) (Quit: WeeChat 3.2)
[22:46:53] *** Joins: Quacc (~youbuntoe@user/quacc)
[22:52:44] *** Joins: Matthias1 (~Matthias1@cpe-76-170-236-166.socal.res.rr.com)
[22:55:04] *** Quits: Quacc (~youbuntoe@user/quacc) (Quit: WeeChat 3.2)
[22:56:04] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[22:56:04] *** ChanServ sets mode: +v EvilDMP
[23:20:55] <Steve-Dusty> https://dpaste.org/sw97
[23:21:05] <Steve-Dusty> how do I check if the user creating is actually the user
[23:21:07] <Steve-Dusty> signed in
[23:21:17] <Steve-Dusty> don't want ppl runnin' around editing forms
[23:23:20] <Steve-Dusty> should I use modelformsets or inline formsets? What's the difference?
[23:27:24] <bparker> >how do I check <- you don't really give enough information or code
[23:27:33] <bparker> but the currently logged-in user is available as request.user
[23:27:53] <Steve-Dusty> bparker ik how to do with regular forms.py
[23:28:24] <Steve-Dusty> https://dpaste.org/9tSg
[23:28:26] <Steve-Dusty> you do it like this
[23:28:32] <Steve-Dusty> but im doing formsets and don't know how that'll work
[23:28:37] <Steve-Dusty> the implementation
[23:30:25] *** Quits: Matthias1 (~Matthias1@cpe-76-170-236-166.socal.res.rr.com) (Remote host closed the connection)
[23:30:30] *** Joins: Quacc (~youbuntoe@user/quacc)
[23:30:34] <Quacc> steve!
[23:31:07] <Steve-Dusty> wacco!
[23:31:23] *** Joins: Matthias1 (~Matthias1@cpe-76-170-236-166.socal.res.rr.com)
[23:31:48] *** Quits: duoi (~duoi@user/duoi) (Ping timeout: 268 seconds)
[23:33:53] <bparker> Steve-Dusty: just like at the django code and see how e.g. the admin does it
[23:34:15] <bparker> I think you need to iterate over each form in the set and save them all
[23:34:22] <bparker> in addition to the formset itself
[23:34:23] <bparker> IIRC
[23:34:59] *** Joins: duoi (~duoi@user/duoi)
[23:36:28] <Steve-Dusty> im confuzzled
[23:36:35] <Steve-Dusty> let me try
[23:46:09] <bparker> did you look at the source?
[23:46:10] <Steve-Dusty> idk how
[23:46:12] <Steve-Dusty> wait
[23:46:20] *** Joins: thiras (~thiras@user/thiras)
[23:46:32] <bparker> you don't know how to look at the source?
[23:46:46] <Steve-Dusty> no
[23:46:57] *** Joins: bambanxx (~bambanx@pc-223-49-214-201.cm.vtr.net)
[23:47:27] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[23:47:35] <bparker> it's on your machine
[23:47:40] <bparker> or you can go to github
[23:48:05] <bparker> how does one even use django without knowing where the source is
[23:48:10] <bparker> no offense
[23:48:59] <CodenameTim> That is a bit offensive. Try to avoid language like that.
[23:50:02] <bparker> ...
[23:50:34] <bparker> you come out of hiding to say that? after I said I didn't mean any offense? you should see what the regulars around here say to people constantly.
[23:50:46] <bparker> I'm an angel in comparison
[23:51:07] <bparker> anyways
[23:51:09] <bparker> Steve-Dusty: https://github.com/django/django/blob/main/django/contrib/admin/options.py#L1773
[23:51:18] <bparker> you can see they save each form in the formset individually
[23:52:11] <Steve-Dusty> okay
[23:52:26] <Steve-Dusty> bparker Sorry, I was on Discord
[23:52:39] <Steve-Dusty> I know where Django github is, I just don't know the directory
[23:52:58] <Steve-Dusty> how the django file structure works
[23:53:00] <Steve-Dusty> in github
[23:54:26] <Steve-Dusty> I know where the source is :joy: . It's in  /usr/local/lib/python3.9./dist-packages
[23:57:01] <Steve-Dusty> gtg eat some pop eyes
[23:57:08] *** Joins: thiras (~thiras@user/thiras)
[23:57:17] <CodenameTim> Steve-Dusty, the file structure maps with the imports you see. https://github.com/django/django/blob/stable/3.2.x/django/contrib/auth/models.py would be the code available from`django.contrib.auth.models`. To find the file bparker linked to on your local machine, it should be at
[23:57:17] <CodenameTim> /usr/local/lib/python3.9./dist-packages/django/contrib/admin/options.py
[23:57:36] *** Quits: dodo (~dodo@user/dodo) (Quit: dodo)
[23:59:01] *** Joins: dodo (~dodo@user/dodo)
