[00:35:25] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[00:45:38] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[00:47:51] *** Joins: acidjnk (~acidjnk@p200300d0c70d8c985c6dbece2fe5bbc5.dip0.t-ipconnect.de)
[00:55:54] *** Quits: millido (~millido@84.210.150.128) (Quit: ZNC 1.8.2 - https://znc.in)
[01:10:06] *** Joins: millido (~millido@84.210.150.128)
[01:34:03] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Remote host closed the connection)
[02:02:44] *** Quits: MrZeus_ (~MrZeus@194.37.96.103) (Ping timeout: 256 seconds)
[02:03:37] *** Joins: Haroon18 (~Haroon@206.84.147.11)
[02:03:44] *** Haroon18 is now known as HaroonRaja
[02:04:05] <HaroonRaja> Hello everyone!
[02:04:26] <thumbs> you made it, good
[02:05:28] <HaroonRaja> First time here...just learned about this network :)
[02:05:37] <HaroonRaja> I want to delete all tables from a database that are named like something_abc_something while not deleting tables named like abc_something
[02:05:53] <thumbs> HaroonRaja: what rdbms?
[02:06:01] <HaroonRaja> So if the prefix starts with abc_ they shouldn't be deleted, but if the prefix is anything_abc_, then they should be deleted
[02:06:04] <HaroonRaja> mysql
[02:06:31] <thumbs> so essentially anything with _abc_ in the name?
[02:06:57] <HaroonRaja> Yes
[02:07:07] <HaroonRaja> While not deleting those without anything before abc_
[02:07:18] <HaroonRaja> And sorry it's MariaDB
[02:07:24] <HaroonRaja> Latest stable version I think
[02:07:25] <thumbs> same deal, it's fine.
[02:07:28] <HaroonRaja> Thanks
[02:07:36] <thumbs> are you familiar with the information_schema?
[02:07:48] <HaroonRaja> Unfortunately not
[02:08:17] <HaroonRaja> I can SSH into the server and use the sql commandline with the right username and password with access to the DB
[02:08:21] <HaroonRaja> But from there onward, I'm blank
[02:08:48] <HaroonRaja> Would have done it with a GUI but it's taking forever to load because of some rogue script having created thousands of these unwanted tables with different prefixes
[02:09:11] <thumbs> https://dev.mysql.com/doc/refman/8.0/en/information-schema-tables-table.html
[02:09:25] <HaroonRaja> Thank you...taking a look
[02:10:18] <thumbs> mysql -BNe "SELECT CONCAT('DELETE FROM ', TABLE_NAME) FROM INFORMATION_SCHEMA WHERE TABLE_NAME LIKE '%_abc_%'" | mysql
[02:10:42] <thumbs> remove the pipe to | mysql first to see what it does
[02:12:17] <thumbs> could even add AND TABLE_NAME NOT LIKE .... to the mix
[02:12:48] <HaroonRaja> Thank you...this should help.
[02:13:12] <HaroonRaja> If I'm already at the mysql prompt, I don't need to use mysql -BNe and | mysql, correct?
[02:13:15] <HaroonRaja> Just the query itself
[02:13:17] <thumbs> wait, you want to drop the table, not delete from them
[02:13:24] <HaroonRaja> Yes
[02:13:29] <thumbs> so use DROP TABLE TABLE_SCHEMA ...
[02:13:50] <thumbs> HaroonRaja: it's easier if you run the script from outside the mysql client
[02:14:27] <thumbs> CONCAT('DROP TABLE ', TABLE_SCHEMA, '.', TABLE_NAME)
[02:14:34] <HaroonRaja> Then how would I specify the database name, username and password?
[02:14:50] <thumbs> HaroonRaja: with -u and -p, as you normally do
[02:14:57] <HaroonRaja> Because I don't see mention of those in the command you provided
[02:15:01] <HaroonRaja> Oh OK
[02:15:06] <thumbs> it was ommitted on purpose
[02:17:30] <HaroonRaja> Before I run it, would this be correct? mysql -BNe "CONCAT('DROP TABLE ', TABLE_SCHEMA, '.', TABLE_NAME) FROM INFORMATION_SCHEMA WHERE TABLE_NAME LIKE '%_abc_%'" | mysql -uusername -p dbname
[02:18:06] <thumbs> no
[02:18:22] <thumbs> don't pipe it back to mysql until you are 100% sure of what it does
[02:18:39] <thumbs> also, specify -u and -p in the first mysql instance
[02:19:07] <thumbs> there is no "undo" with this. Be careful
[02:19:19] <HaroonRaja> Thanks.
[02:19:52] <HaroonRaja> So this? mysql -BNe -uuser -p dbname "CONCAT('DROP TABLE ', TABLE_SCHEMA, '.', TABLE_NAME) FROM INFORMATION_SCHEMA WHERE TABLE_NAME LIKE '%_abc_%'"
[02:20:10] <HaroonRaja> And afterwards, this? mysql -BNe -uuser -p dbname "CONCAT('DROP TABLE ', TABLE_SCHEMA, '.', TABLE_NAME) FROM INFORMATION_SCHEMA WHERE TABLE_NAME LIKE '%_abc_%'" | mysql
[02:20:56] <thumbs> no need for dbname for the first call
[02:21:10] <HaroonRaja> Got it
[02:21:14] <thumbs> you will be qualifying the tables with the schema name
[02:21:21] <HaroonRaja> So the first call will be a dry-run, correct?
[02:21:34] <thumbs> yes. Always do a dry run
[02:21:45] <thumbs> or learn how to backup and restore
[02:22:02] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[02:22:09] <HaroonRaja> Got it, thanks. And yes, there is a backup from yesterday, with no changes since.
[02:22:32] <thumbs> I do not want you to lose data, so practice safe approaches
[02:22:46] <HaroonRaja> Much appreciated
[02:25:17] <HaroonRaja> Seems I do have to specify the database name, since dry-running it gave this error: ERROR 1102 (42000): Incorrect database name 'CONCAT('DROP TABLE ', TABLE_SCHEMA, '.', TABLE_NAME) FROM INFORMATION_SCHEMA WHERE TABLE_NAME LIK...'
[02:25:37] <thumbs> you forgot SELECT
[02:26:14] <thumbs> CONCAT() is a function, use SELECT CONCAT(...)
[02:26:21] <HaroonRaja> Oh OK
[02:26:52] <thumbs> this is why you can't blindly run a command, you have to fully understand what is being produced before you run it
[02:27:06] <HaroonRaja> Agreed
[02:27:12] <HaroonRaja> Same error even with SELECT
[02:27:13] <HaroonRaja> ERROR 1102 (42000): Incorrect database name 'SELECT CONCAT('DROP TABLE ', TABLE_SCHEMA, '.', TABLE_NAME) FROM INFORMATION_SCHEMA WHERE TABLE_N...'
[02:27:34] <HaroonRaja> PS: I don't have mysql root credentials to specify
[02:27:45] <HaroonRaja> Only the user credentials that has access to the db in question
[02:28:07] <HaroonRaja> This user does have full access to the db though
[02:28:13] <thumbs> well, with USAGE, you can select from your db
[02:28:48] <thumbs> you forgot -BNe too
[02:29:01] <HaroonRaja> I did specify BNE
[02:29:05] <HaroonRaja> No idea about USAGE
[02:29:06] <thumbs> mysql -BNe "SELECT ..."
[02:29:26] <HaroonRaja> Here's the exact command I used:
[02:29:28] <thumbs> -u user -p -BNe "SELECT "
[02:29:34] <thumbs> use -BNe last.
[02:29:37] <HaroonRaja> mysql -BNe -u5f576523c1ac180394b7bf14 -p "SELECT CONCAT('DROP TABLE ', TABLE_SCHEMA, '.', TABLE_NAME) FROM INFORMATION_SCHEMA WHERE TABLE_NAME LIKE '%_wpcp_%'"
[02:29:38] <HaroonRaja> Oh OK
[02:29:41] <thumbs> wrong order.
[02:30:55] <HaroonRaja> Used it in correct order now and getting this error:
[02:30:56] <HaroonRaja> ERROR 1146 (42S02) at line 1: Table '5f576523c1ac180394b7bf14.INFORMATION_SCHEMA' doesn't exist
[02:31:13] <HaroonRaja> 5f576523c1ac180394b7bf14 is both the db name and the username
[02:31:32] <thumbs> the db name is irrelevant here. You can authenticate without selecting a database
[02:31:43] <HaroonRaja> Yes I didn't specify the DB name
[02:31:47] <HaroonRaja> But I got this error
[02:34:54] <thumbs> ah, I see, one moment
[02:35:42] <thumbs> FROM INFORMATION_SCHEMA.TABLES is the fix
[02:36:03] <thumbs> INFORMATION_SCHEMA is the schema, TABLES is the table name. Sorry.
[02:37:23] <thumbs> a bit too much multitasking here, sorry
[02:42:08] <HaroonRaja> No worries
[02:42:12] <HaroonRaja> Lemme try again
[02:44:37] <HaroonRaja> This time it does show the correct query to run, it seems
[02:44:43] <HaroonRaja> Lots of DROP TABLE queries
[02:44:58] <HaroonRaja> Too many in fact, to show in my console...I can't scroll to the very top ones
[02:45:21] <HaroonRaja> Now I just pipe it to mysql without providing any further info to the second mysql command that's after the pipe?
[02:45:35] <HaroonRaja> Or do I need to provide username and password to that one as well?
[02:49:15] <thumbs> pipe the output to | less if you want to review, or > to a file
[02:49:33] <thumbs> and for the final part, | mysql -u username -ppasswordhere
[02:50:22] <HaroonRaja> Thanks...I used > to output to a file to review
[02:50:25] <HaroonRaja> And it looks correct
[02:50:30] <HaroonRaja> Going to run it now
[02:52:32] <thumbs> good, you learned a few new tricks
[02:54:00] <HaroonRaja> ERROR 1064 (42000) at line 1: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'DROP TABLE 5f576523c1ac180394b7bf14.bklhzl_wpcp_posts
[02:54:01] <HaroonRaja> DROP TABLE 5f576523c1ac...' at line 2
[02:54:09] <HaroonRaja> Still getting an error
[02:54:48] <thumbs> might need a ;
[02:55:05] <HaroonRaja> Ah yes
[02:55:18] <HaroonRaja> Where do I add it in the command?
[02:55:25] <HaroonRaja> After TABLE_NAME ?
[02:55:31] <thumbs> yes
[02:55:47] <thumbs> try dropping one by hand to see - DROP TABLE 5f576523c1ac180394b7bf14.bklhzl_wpcp_posts;
[02:56:18] <thumbs> presumably, your pattern was '%_wpcp_%'
[02:56:26] <HaroonRaja> Yes that was the pattern
[02:56:47] <HaroonRaja> Would this be correct?
[02:56:48] <HaroonRaja> SELECT CONCAT('DROP TABLE ', TABLE_SCHEMA, '.', TABLE_NAME, ';')
[02:57:08] <thumbs> looks fine
[02:57:11] <HaroonRaja> Thanks
[02:57:17] <HaroonRaja> Gonna drop one by hand first, and then use this
[03:01:09] <HaroonRaja> Query OK, 0 rows affected (0.081 sec)
[03:01:12] <HaroonRaja> Seems to have worked
[03:01:18] <HaroonRaja> Now gonna run the full command
[03:40:41] *** Joins: rgrinberg (~textual@2806:101e:7:134:4c27:f276:4d75:f0f0)
[03:42:02] *** Quits: acidjnk (~acidjnk@p200300d0c70d8c985c6dbece2fe5bbc5.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[03:45:01] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[03:45:56] <HaroonRaja> It worked perfectly
[03:46:02] <HaroonRaja> Thanks thumbs
[03:46:04] <HaroonRaja> Much appreciated
[03:48:59] *** Joins: MrZeus_ (~MrZeus@81.92.206.10)
[03:49:34] <HaroonRaja> Have an awesome day!
[03:49:37] *** Joins: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp)
[03:49:40] *** Quits: HaroonRaja (~Haroon@206.84.147.11) (Quit: HaroonRaja)
[03:52:24] <thumbs> awesome.
[03:59:33] *** Quits: rgrinberg (~textual@2806:101e:7:134:4c27:f276:4d75:f0f0) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:16:13] *** Joins: rgrinberg (~textual@2806:101e:7:134:4c27:f276:4d75:f0f0)
[04:16:19] *** Quits: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[05:43:48] *** Quits: MrZeus_ (~MrZeus@81.92.206.10) (Ping timeout: 240 seconds)
[08:03:51] *** Quits: lechner_ (~lechner@debian/lechner) (Quit: WeeChat 3.0)
[08:04:31] *** Joins: lechner (~lechner@debian/lechner)
[08:19:42] *** Quits: rvalue (~rvalue@user/rvalue) (Read error: Connection reset by peer)
[08:19:56] *** Joins: rvalue (~rvalue@user/rvalue)
[09:03:32] *** Quits: rgrinberg (~textual@2806:101e:7:134:4c27:f276:4d75:f0f0) (Ping timeout: 252 seconds)
[09:39:01] *** Joins: password (~password@user/password2)
[09:46:57] *** Joins: rgrinberg (~textual@2806:101e:7:134:b8e9:103c:7bf9:67b)
[09:47:50] *** Quits: rgrinberg (~textual@2806:101e:7:134:b8e9:103c:7bf9:67b) (Client Quit)
[10:01:26] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[10:11:07] *** Joins: rgrinberg (~textual@2806:101e:7:134:b8e9:103c:7bf9:67b)
[10:16:20] *** Joins: FH_thecat (~FH_thecat@75.11.25.212.ftth.as8758.net)
[11:26:41] *** Joins: varaindemian (uid73404@id-73404.ilkley.irccloud.com)
[11:28:31] *** Joins: palasso (~palasso@user/palasso)
[11:29:06] *** Quits: rgrinberg (~textual@2806:101e:7:134:b8e9:103c:7bf9:67b) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:45:11] *** Joins: acidjnk (~acidjnk@p200300d0c7049f37592e4ec9ecef3fab.dip0.t-ipconnect.de)
[12:04:56] *** Quits: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com) (Ping timeout: 245 seconds)
[12:34:33] *** Quits: FH_thecat (~FH_thecat@75.11.25.212.ftth.as8758.net) (Quit: Leaving)
[12:48:35] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[13:09:31] *** Joins: MrZeus_ (~MrZeus@86.106.136.215)
[13:13:18] *** Joins: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp)
[13:15:05] *** Joins: MrZeus__ (~MrZeus@194.37.96.119)
[13:18:27] *** Quits: MrZeus_ (~MrZeus@86.106.136.215) (Ping timeout: 256 seconds)
[14:33:55] *** Joins: Amadiro_ (~Amadiro@45.154.138.75)
[14:36:39] *** Quits: Amadiro (~Amadiro@45.154.138.40) (Ping timeout: 256 seconds)
[15:11:48] *** Quits: Sleepy63 (~Sleepy63@user/sleepy63) (Ping timeout: 240 seconds)
[15:13:07] *** Joins: Sleepy63 (~Sleepy63@user/sleepy63)
[15:47:38] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[15:48:22] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 256 seconds)
[15:52:01] *** Quits: rvalue (~rvalue@user/rvalue) (Read error: Connection reset by peer)
[15:52:13] *** Joins: rvalue (~rvalue@user/rvalue)
[16:09:02] *** Quits: acidjnk (~acidjnk@p200300d0c7049f37592e4ec9ecef3fab.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[16:12:15] *** Joins: internecine (~interneci@ip68-98-149-5.dc.dc.cox.net)
[16:21:44] *** waveform_ is now known as waveform
[16:22:24] *** Quits: Tobbi_ (~Thunderbi@31.209.188.226) (Quit: Tobbi_)
[16:24:01] *** Joins: Tobbi_ (~Thunderbi@31.209.188.226)
[16:38:52] *** Quits: password (~password@user/password2) (Quit: Connection closed)
[17:10:08] *** Quits: rvalue (~rvalue@user/rvalue) (Remote host closed the connection)
[17:10:20] *** Joins: rvalue (~rvalue@user/rvalue)
[17:23:47] *** Quits: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:27:17] *** Quits: internecine (~interneci@ip68-98-149-5.dc.dc.cox.net) (Quit: Leaving)
[17:34:36] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 272 seconds)
[17:47:42] *** Quits: lechner (~lechner@debian/lechner) (Ping timeout: 252 seconds)
[17:52:07] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[17:55:40] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[18:07:16] *** Joins: lechner (~lechner@debian/lechner)
[18:13:11] *** Joins: internecine (~interneci@ip68-98-149-5.dc.dc.cox.net)
[18:21:48] *** Joins: ejjfunky (~ejjfunky@125.164.16.115)
[18:34:04] *** Joins: PTNapivoski (~PTNapivos@2804:60:15f:cc00:e502:8baa:a0c4:74f)
[19:16:31] *** Quits: PTNapivoski (~PTNapivos@2804:60:15f:cc00:e502:8baa:a0c4:74f) (Quit: Leaving)
[19:37:06] *** Joins: PTNapivoski (~PTNapivos@2804:60:15f:cc00:bc36:5d73:8f35:46e)
[19:54:43] *** Joins: FastZ (~FastZ@pool-96-231-49-241.washdc.fios.verizon.net)
[20:19:51] <betterOn1> hi
[20:20:52] <betterOn1> can i use "amount" term for quantity of a product and also price of a product or another price value?
[20:21:14] <betterOn1> as column name :)
[20:27:44] <thumbs> betterOn1: we would need more details about your schema to comment
[20:30:43] *** Joins: AmR (~AmREiSa@156.199.236.198)
[20:52:19] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[20:53:34] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[21:00:02] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 240 seconds)
[21:01:29] *** Joins: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com)
[21:01:36] *** Joins: k8yun (~k8yun@user/k8yun)
[21:03:04] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[21:05:25] <Xgc> betterOn1: I like quantity to represent quantity.
[21:17:22] *** Quits: karakedi (~eAC53C340@user/karakedi) (Remote host closed the connection)
[21:20:27] *** Quits: FastZ (~FastZ@pool-96-231-49-241.washdc.fios.verizon.net) (Quit: Bye now!)
[21:23:41] *** Joins: karakedi (~eAC53C340@user/karakedi)
[21:40:22] <Gizmokid2005> betterOn1: "can I" is a subjective question. You can even use reserved keywords for object names, it's just generally not a good practice. I tend to use descriptive columns. "Quantity" for ...quantity and "Price" or "UnitPrice" or something for price. Then things like "DiscountAmount" etc for other elements.
[21:47:55] *** Quits: ejjfunky (~ejjfunky@125.164.16.115) (Read error: Connection reset by peer)
[21:52:44] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 256 seconds)
[22:02:29] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[22:10:21] *** Joins: bitblit (~bitblit@gateway/tor-sasl/bitblit)
[22:18:51] *** Joins: rgrinberg (~textual@2806:101e:7:5086:c127:9b59:bd2c:b6b3)
[22:28:14] *** Quits: varaindemian (uid73404@id-73404.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[22:40:32] <betterOn1> What if it is not a Price but difference of two Prices..  or just a distributed amount of price for an item.. 
[22:43:01] <thumbs> betterOn1: in that case, explain your real use case
[22:47:39] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[22:48:44] *** Quits: ckdCreations (~ckdCreati@c-73-140-151-116.hsd1.wa.comcast.net) (Ping timeout: 272 seconds)
[22:49:02] *** Joins: ckdCreations (~ckdCreati@147.55.130.35)
[23:00:31] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[23:04:27] *** robertparkerx is now known as Knowsin
[23:09:42] *** Quits: rgrinberg (~textual@2806:101e:7:5086:c127:9b59:bd2c:b6b3) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:32:52] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Remote host closed the connection)
[23:33:16] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[23:40:08] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Remote host closed the connection)
[23:43:13] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[23:43:46] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Remote host closed the connection)
[23:45:12] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[23:53:09] *** Quits: PTNapivoski (~PTNapivos@2804:60:15f:cc00:bc36:5d73:8f35:46e) (Quit: Leaving)
