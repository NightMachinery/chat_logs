[00:24:05] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[01:51:24] *** Quits: fcr (~fran@r167-56-63-10.dialup.adsl.anteldata.net.uy) (Ping timeout: 240 seconds)
[01:54:43] *** Quits: wurstwasser (~frank.hol@2001:a61:34a7:b001:d6cc:cf2e:b4b5:78ac) (Remote host closed the connection)
[01:54:55] *** Joins: wurstwasser (~frank.hol@2001:a61:34a7:b001:7e97:3ba7:84cb:953b)
[01:55:06] *** Joins: fcr (~fran@r186-48-86-60.dialup.adsl.anteldata.net.uy)
[01:57:13] *** Quits: wurstwasser (~frank.hol@2001:a61:34a7:b001:7e97:3ba7:84cb:953b) (Remote host closed the connection)
[02:31:23] *** Joins: abf (~abf@user/abf)
[02:37:02] *** Joins: simpl_e (~user@user/simpl-e/x-8589812)
[02:51:28] *** Quits: bomb-on (~bomb-on@194.144.47.113) (*.net *.split)
[02:51:28] *** Quits: defjam (~eb0t@90.196.141.185) (*.net *.split)
[02:51:28] *** Quits: itu (~wp@wikipedia/itu) (*.net *.split)
[02:51:28] *** Quits: hendry (~hendry@210.23.22.2) (*.net *.split)
[02:51:28] *** Quits: mixfix41 (~sdenyninn@user/mixfix41) (*.net *.split)
[02:51:28] *** Quits: rkta (~rkta@2001:4ba0:cafe:eaf::1) (*.net *.split)
[02:51:28] *** Quits: dzho (~dzho@user/dzho) (*.net *.split)
[02:51:28] *** Quits: tarzeau (~alex@mail.aiei.ch) (*.net *.split)
[02:53:47] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[02:53:47] *** Joins: hendry (~hendry@210.23.22.2)
[02:53:47] *** Joins: defjam (~eb0t@90.196.141.185)
[02:53:47] *** Joins: itu (~wp@wikipedia/itu)
[02:53:47] *** Joins: mixfix41 (~sdenyninn@user/mixfix41)
[02:53:47] *** Joins: rkta (~rkta@2001:4ba0:cafe:eaf::1)
[02:53:47] *** Joins: dzho (~dzho@user/dzho)
[02:53:47] *** Joins: tarzeau (~alex@mail.aiei.ch)
[02:53:47] *** Quits: mixfix41 (~sdenyninn@user/mixfix41) (Max SendQ exceeded)
[02:58:41] *** Quits: hendry (~hendry@210.23.22.2) (Ping timeout: 250 seconds)
[02:59:29] *** Joins: hendry (~hendry@210.23.22.2)
[03:35:14] *** Quits: edlou (uid413273@id-413273.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[03:52:09] *** Joins: ferdna (~ferdna@user/ferdna)
[04:41:39] *** Quits: abf (~abf@user/abf) (Quit: Leaving)
[04:58:57] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[05:01:12] *** Joins: Hackerpcs (~user@user/hackerpcs)
[05:01:28] *** Quits: Hackerpcs (~user@user/hackerpcs) (Max SendQ exceeded)
[05:02:35] *** Joins: Hackerpcs (~user@user/hackerpcs)
[05:04:58] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[05:12:08] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[05:30:18] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:33:13] *** Joins: vlm (~vlm@user/vlm)
[05:35:52] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[06:47:30] *** Joins: adeliktas6 (~adeliktas@i59F52959.versanet.de)
[06:49:03] *** Quits: adeliktas (~adeliktas@i59F5FF2F.versanet.de) (Ping timeout: 252 seconds)
[06:49:03] *** adeliktas6 is now known as adeliktas
[06:55:24] *** Joins: lgc (~lgc@user/lgc)
[06:57:24] *** Quits: lgc (~lgc@user/lgc) (Client Quit)
[08:26:07] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[08:29:37] *** Joins: Atque (~Atque@user/atque)
[08:47:04] *** Joins: nerozero (~nerozero@87.253.63.54)
[09:37:18] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[11:23:29] *** Joins: PaulePanter (~paul@mail.gw90.de)
[11:25:04] <PaulePanter> Hi. I want to get the last entry of `NUMA node0 CPU(s)` entry in the output of `lscpu`. If the numbers are consecutive, lscpu collapses them though.
[11:25:12] <PaulePanter> NUMA node0 CPU(s):               0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76
[11:25:36] <PaulePanter> NUMA node0 CPU(s):               0-79
[11:25:53] <PaulePanter> These are the two formats. Linux’ rcutorture scripts only consider the first case:
[11:26:09] <PaulePanter> lscpu | grep '^NUMA node0' | sed -e 's/^[^,]*,\([0-9]*\),.*$/\1/'
[11:26:19] <PaulePanter> Look for the last comma, and capture the number.
[11:27:03] <PaulePanter> Any idea how to include the second case too?
[11:31:18] <tirnanog> it's broken for the first case too.
[11:32:41] <PaulePanter> tirnanog: Oh. Didn’t notice this yet.
[11:33:43] <tirnanog> lscpu | sed -n '/^NUMA node0 CPU(s):/s/.*[,-]//p'
[11:34:29] <tirnanog> lscpu | sed -n 's/^NUMA node0 CPU(s):.*[,-]//p'
[11:36:32] <PaulePanter> tirnanog: Thank you!
[11:38:02] <tirnanog> might make more sense to do: sed -e 's/.*[,-]//' /sys/devices/system/cpu/cpu0/node0/cpulist
[11:38:13] <PaulePanter> Oh, it looks like the original takes the second number?
[11:38:25] <tirnanog> yes. is it supposed to?
[11:39:07] <PaulePanter> No idea. I have to ask the Linux developers.
[11:39:12] <PaulePanter> tirnanog: Thank you for your help.
[11:50:01] <tirnanog> PaulePanter: I found the code in question. so it would take 4 as meaning the number of threads in the first case. it then wants to divide the number of cpus - as passed in as a function parameter - by this thread count. so if the parameter was 80, it would produce something like -smp cores=20,threads=4.
[11:50:23] <tirnanog> taking 4 in that capacity makes no sense to me at all.
[11:50:35] <tirnanog> yes, you should probably ask them what the intent is.
[11:51:23] <PaulePanter> tirnanog: Sorry for letting you search for the code. Thank you for checking, I am going to ask them.
[11:52:38] <tirnanog> ergo, in what way would the second logical CPU number in a comma-separated list of those affined with the first node constitute a thread count? but perhaps there's something we don't know.
[11:52:50] <tirnanog> I certainly can't make sense of it.
[11:56:36] <PaulePanter> tirnanog: Why would your first explanation resulting in `-smp cores=20,threads=4` not make sense?
[11:56:53] <PaulePanter> QEMU would use all threads then?
[11:58:46] <PaulePanter> lscpu contains `Thread(s) per core` which might be more useful.
[12:00:20] <PaulePanter> Oh, you probably mean: -cores=`expr \( $3 + $nt - 1 \) / $nt`
[12:07:14] <tirnanog> PaulePanter: ok, but it's not consulting Thread(s) per core at all.
[12:07:25] <tirnanog> anyway, I need to go.
[12:07:32] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[13:56:24] *** Quits: fcr (~fran@r186-48-86-60.dialup.adsl.anteldata.net.uy) (Ping timeout: 252 seconds)
[14:01:13] *** Joins: fcr (~fran@r167-60-22-5.dialup.adsl.anteldata.net.uy)
[14:19:21] *** Joins: seninha (~seninha@user/seninha)
[15:25:34] *** Joins: timm (~timm@user/timm)
[15:33:45] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 252 seconds)
[15:33:59] *** Joins: seninha (~seninha@user/seninha)
[15:49:54] *** Joins: lgc (~lgc@user/lgc)
[15:50:13] *** Quits: lgc (~lgc@user/lgc) (Client Quit)
[16:24:12] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[16:39:55] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[16:51:59] *** Joins: seninha_ (~seninha@user/seninha)
[16:52:11] *** Quits: seninha_ (~seninha@user/seninha) (Remote host closed the connection)
[16:54:49] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 256 seconds)
[16:57:54] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 252 seconds)
[17:33:20] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[17:34:41] *** Joins: Atque (~Atque@user/atque)
[18:08:36] *** Quits: edlou (uid413273@id-413273.helmsley.irccloud.com) (Ping timeout: 240 seconds)
[18:10:40] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[18:16:23] *** Joins: f00 (~timm@user/timm)
[18:18:00] *** Quits: timm (~timm@user/timm) (Read error: Connection reset by peer)
[19:31:08] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 272 seconds)
[20:14:22] *** Joins: seninha (~seninha@user/seninha)
[20:30:19] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[20:36:12] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[20:37:29] *** Joins: seninha (~chatzilla@user/seninha)
[21:00:43] *** Quits: seninha (~chatzilla@user/seninha) (Quit: ChatZilla 0.9.93 [SeaMonkey 2.53.10.2/20220211225827])
[21:01:34] *** Joins: seninha (~chatzilla@user/seninha)
[21:03:26] *** Quits: seninha (~chatzilla@user/seninha) (Client Quit)
[21:04:42] *** Joins: seninha (~chatzilla@user/seninha)
[21:08:11] *** Quits: seninha (~chatzilla@user/seninha) (Client Quit)
[21:08:42] *** Quits: f00 (~timm@user/timm) (Ping timeout: 252 seconds)
[21:08:48] *** Joins: seninha (~chatzilla@user/seninha)
[21:10:13] *** Joins: f00 (~timm@user/timm)
[21:20:37] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[21:23:52] *** Quits: seninha (~chatzilla@user/seninha) (Ping timeout: 272 seconds)
[21:55:32] *** Joins: [diablo]0 (~diablo]@user/diablo/x-9068044)
[21:56:55] *** Quits: [diablo] (~diablo]@user/diablo/x-9068044) (Ping timeout: 256 seconds)
[21:56:55] *** [diablo]0 is now known as [diablo]
[22:12:44] *** Joins: seninha (~seninha@user/seninha)
[23:47:45] *** Joins: wurstwasser (~frank.hol@2001:a61:34a7:b001:6131:a1f2:6740:4dab)
