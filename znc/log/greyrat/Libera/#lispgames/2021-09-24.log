[00:22:08] <dto> borodust: i'm home
[00:22:20] <dto> if you h ave any new binaries for me to try, drop me a link
[00:22:55] <borodust> dto: welcome back home :)
[00:23:04] <dto> thanks! :)
[00:23:11] <dto> i was in a rural area with not good signal
[00:23:18] <dto> and more importantly, no computer
[00:23:54] <borodust> dto: here's the link https://github.com/borodust/alien-works-demo/releases/tag/v1
[00:24:21] <dto> *instaclick*
[00:24:30] <borodust> ;p
[00:25:06] <borodust> it works quite well on various linux-based platforms - the only problem so far is unsupported CPU (AVX required for now)
[00:26:33] <dthompson> borodust: it works for me. nice damaged helmet. :)
[00:26:36] <dto> https://usercontent.irccloud-cdn.com/file/Gj8nYL5J/Screenshot_2021-09-23_16-56-16.png
[00:26:51] <dto> hi dthompson whats shakin
[00:26:57] <dthompson> borodust: I used the appimage
[00:27:01] <dthompson> don't have a CL dev env
[00:27:43] <dthompson> I've also been using that model and Humus' skyboxes :)
[00:29:00] <borodust> dthompson: thanks for checking!
[00:29:03] <technomancy> ok man ... it took me longer than I'd like to admit to realize dto and d thompson weren't the same person
[00:29:07] <borodust> dto: welp, wait what
[00:29:35] <dto> am i missing libs or something
[00:29:40] <dto> hello technomancy 
[00:29:54] <technomancy> hi hi d not-thompson.
[00:29:57] <dthompson> ;)
[00:30:08] <dto> we DO live in the same town
[00:30:19] <dthompson> to make it all the more confusing :)
[00:30:32] <borodust> dto: you shouldn't miss libs though.. from the error it seems symbols wasn't loaded but that's weird 
[00:30:50] <dthompson> 2 members of a very niche group both named dave that live in the same town
[00:30:55] <dthompson> how could anyone possibly get confused???
[00:31:25] <technomancy> at least my IRC client colors your nicks differently
[00:31:27] <dthompson> borodust: it's kinda funny how similar our projects are, despite the language differences. :)
[00:32:10] <dto> Not only that, my middle name is Thomas thus the T in DTO
[00:32:32] <dto> By the way Dave you are invited to my Halloween birthday party
[00:32:43] <dthompson> oooh spooky
[00:33:15] <dthompson> send me the details sometime :)
[00:34:45] <dthompson> time to go cook dinner.
[00:34:50] <borodust> dthompson: similar but different, i remember you do everything natively in scheme, i'm stealing c/c++ peepol work :D
[00:35:49] <dthompson> borodust: I also use some libraries, but not for the 3D model stuff.
[00:36:41] <dthompson> but yeah very neat stuff borodust looking forward to seeing what you make with it
[00:36:59] <dthompson> maybe I should learn to use appimage for shipping my game this time.
[00:37:08] <borodust> dthompson: thanks! I'm planning to release a jam game with alien-works
[00:37:13] <borodust> for starters)
[00:38:18] <dthompson> I've been furiously trying to add some polish and a lot more docs to chickadee. hopefully it shows when I make the next release. once I do that I'll advertise it in the jam community section.
[00:38:21] <borodust> dto: what's md5 for appimage? should be bcb61ad9ee27438ea697347683e4e428
[00:38:27] <borodust> md5sum ~/Downloads/alien-works-demo-x86_64.AppImage
[00:41:32] <borodust> i wonder if maybe local sdl got picked up (though shouldn't), but SDL_RWread should be since forever anyway
[00:46:11] <borodust> i think i actually forgot to add sdl in demo v0, but v1 should have everything included :)
[00:46:40] <borodust> dto: is there a chance it's an v0 demo appimage?
[00:47:36] <dto> borodust: that is indeed the md5
[00:47:44] <borodust> dayum
[00:49:11] <borodust> dto: what's your `uname -a`?
[00:49:33] <dto> Linux nomad 5.0.0-32-generic #34~18.04.2-Ubuntu SMP Thu Oct 10 10:36:02 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
[00:50:05] <borodust> hmm, everything looks fine
[01:16:49] <borodust> dto: okay, my guess is that some dependency is actually missing, as you mentioned earlier
[01:16:54] <borodust> now which one ;p
[01:17:33] <borodust> dto: extract an appimage with ~/Downloads/alien-works-demo-x86_64.AppImage --appimage-extract
[01:17:47] <borodust> it should extract in CWD squashfs-root
[01:18:08] <borodust> invoke this:
[01:18:35] <borodust> ldd squashfs-root/usr/lib/libSDL2-2.0.so.0
[01:18:47] <borodust> are there any libraries missing?
[01:30:44] <borodust> actually, if something was missing and library wasn't loaded it shouldn't be able to get up to there (post rendering engine init) xD 
[01:31:03] <dto> ~/sessions/freakstyle.mosaic $ ldd squashfs-root/usr/lib/libSDL2-2.0.so.0
[01:31:03] <dto> 	linux-vdso.so.1 (0x00007ffc44b3a000)
[01:31:03] <dto> 	libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f6937fd1000)
[01:31:03] <dto> 	libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f6937dcd000)
[01:31:03] <dto> 	libdbus-1.so.3 => /lib/x86_64-linux-gnu/libdbus-1.so.3 (0x00007f6937b80000)
[01:31:03] *** Quits: dto (sid344636@user/dto) (Excess Flood)
[01:31:12] *** Joins: dto (sid344636@user/dto)
[01:31:12] *** ChanServ sets mode: +o dto
[01:31:19] <dto> oops
[01:31:23] <dto> no errors there
[01:31:31] <dto> not that i could see
[01:32:00] <dto> https://usercontent.irccloud-cdn.com/file/jKwlpedb/Screenshot_2021-09-23_18-01-49.png
[01:41:30] *** Quits: zap (~zap@gateway/tor-sasl/zap) (Ping timeout: 276 seconds)
[02:35:08] <dthompson> borodust: do you have a script or something that you use to generate your appimage?
[03:42:50] *** Joins: CrashTestDummy (~CrashTest@ool-ad02813b.dyn.optonline.net)
[03:45:32] *** Quits: CrashTestDummy3 (~CrashTest@ool-ad02813b.dyn.optonline.net) (Ping timeout: 252 seconds)
[03:45:52] *** Quits: dthompson (~user@pool-96-230-58-118.bstnma.fios.verizon.net) (Quit: Later)
[04:45:44] *** Quits: gxt (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[04:46:04] *** Joins: gxt (~gxt@gateway/tor-sasl/gxt)
[05:31:54] *** Joins: CrashTestDummy2 (~CrashTest@ool-ad02813b.dyn.optonline.net)
[05:34:52] *** Quits: CrashTestDummy (~CrashTest@ool-ad02813b.dyn.optonline.net) (Ping timeout: 252 seconds)
[08:13:40] *** Quits: Oddity (Oddity@user/oddity) (Remote host closed the connection)
[08:46:32] *** Quits: rtypo (~alex@user/rtypo) (Ping timeout: 246 seconds)
[09:19:57] *** Joins: CrashTestDummy3 (~CrashTest@ool-ad02813b.dyn.optonline.net)
[09:23:07] *** Quits: CrashTestDummy2 (~CrashTest@ool-ad02813b.dyn.optonline.net) (Ping timeout: 252 seconds)
[09:36:52] <borodust> .memo dthompson kinda yes and no - i use CL system to generate appimage, and it's complex. try linuxdeploy tool
[09:36:52] <plexi> Memo left for dthompson.
[09:37:54] <borodust> dto: yup, looks good
[09:38:08] *** Joins: CrashTestDummy (~CrashTest@ool-ad02813b.dyn.optonline.net)
[09:38:13] <borodust> not sure what's happening
[09:40:43] *** Quits: CrashTestDummy3 (~CrashTest@ool-ad02813b.dyn.optonline.net) (Ping timeout: 252 seconds)
[11:41:50] *** Joins: ConstantDesc (~textual@195.224.201.178)
[11:50:17] *** Joins: X-Scale` (~ARM@31.22.200.105)
[11:50:26] *** Quits: X-Scale (~ARM@50.77.166.178.rev.vodafone.pt) (Ping timeout: 265 seconds)
[11:51:34] *** X-Scale` is now known as X-Scale
[11:59:13] *** Joins: treflip (~user@95.79.32.99)
[12:00:32] *** Quits: ConstantDesc (~textual@195.224.201.178) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:19:39] *** Joins: ConstantDesc (~textual@195.224.201.178)
[12:53:00] *** Joins: notzmv (~zmv@user/notzmv)
[13:51:23] *** Quits: ConstantDesc (~textual@195.224.201.178) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:52:03] *** Joins: ConstantDesc (~textual@195.224.201.178)
[14:17:43] *** Joins: selwyn (~selwyn@user/selwyn)
[14:17:59] *** Quits: selwyn (~selwyn@user/selwyn) (Remote host closed the connection)
[14:18:24] *** Joins: selwyn (~selwyn@user/selwyn)
[14:25:44] *** Joins: zap (~zap@gateway/tor-sasl/zap)
[14:29:03] *** Quits: selwyn (~selwyn@user/selwyn) (Read error: Connection reset by peer)
[14:49:10] *** Joins: selwyn (~selwyn@user/selwyn)
[14:49:56] *** Quits: selwyn (~selwyn@user/selwyn) (Remote host closed the connection)
[14:50:20] *** Joins: selwyn (~selwyn@user/selwyn)
[15:14:53] *** Joins: dthompson (~user@pool-96-230-58-118.bstnma.fios.verizon.net)
[15:14:53] *** ChanServ sets mode: +o dthompson
[15:26:44] *** Quits: treflip (~user@95.79.32.99) (Quit: ERC (IRC client for Emacs 27.2))
[15:27:57] *** Quits: ConstantDesc (~textual@195.224.201.178) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:00:09] *** Quits: azimut (~azimut@gateway/tor-sasl/azimut) (Ping timeout: 276 seconds)
[16:26:24] *** Joins: ConstantDesc (~textual@195.224.201.178)
[16:30:59] <borodust> dto: i think i know what happened: most likely your local libSDL got loaded
[16:31:05] <borodust> gonna fix that :)
[16:35:17] *** Quits: zap (~zap@gateway/tor-sasl/zap) (Remote host closed the connection)
[16:35:37] *** Joins: zap (~zap@gateway/tor-sasl/zap)
[16:40:54] * dthompson writes a script to generate linux binary bundles
[16:41:08] <dthompson> pretty much just automating what I made by hand during the last jam
[16:44:29] <borodust> yeah, AppImage is quite simple to work with - i liked it very much
[16:44:58] <borodust> linuxdeploy didn't work for me, cuz it strips bindaries by default, and corrupts lisp image by doing that ;p
[16:45:18] <borodust> but just using appimagetool is easy and straightforward enough
[16:46:15] <borodust> appimage is also compressed, highly customizable and upgradable, very nice for shipping games ;p
[16:46:40] <borodust> or applications in general
[16:47:15] <borodust> dthompson: actually, it should be pretty late at your place D:
[16:47:27] <borodust> or early, for that matter)
[16:50:07] <dthompson> borodust: I'm actually not using appimage. just a simple tarball with all the libs and executables.
[16:50:11] <dthompson> it's 9:20am here.
[16:52:29] <borodust> dthompson: ah, i see, to both :)
[17:02:04] <dthompson> trying to see if I can make this generic enough that I can share it with other people that want may want to make games with chickadee.
[17:02:44] <dthompson> kinda difficult because you have to make some assumptions about the base system.  I'm on ubuntu, so that's what I wrote the script to handle.
[17:05:30] <borodust> dthompson: yeah, i think flatpak kinda resolves that problem
[17:05:44] <borodust> it has sort of base systems one can target
[17:06:38] <dthompson> it's a different issue.
[17:06:59] <borodust> they call it runtime
[17:07:03] <borodust> ah, okay
[17:07:03] <dthompson> it's not about targets that the bundle will be run on. that part is fine. as long as the user's system libc isn't too old, it works.
[17:07:11] <dthompson> it's about the system that builds the bundle.
[17:07:25] <dthompson> if I want a tool that could potentially work on someone else's machine, I have to address some assumptions.
[17:07:29] <dthompson> which I might be able to do.
[17:07:31] <borodust> roger
[17:11:16] <dthompson> trying to see if I can enable people that aren't me to ship games with this library lol
[17:13:26] <borodust> dthompson: if you link me to how-to i can try later today :) i use manjaro
[17:14:22] <dthompson> borodust: it would probably be a lot since you don't do guile dev at all.  I'll just let the guile community report bugs to me.  I will share some links to bundles, though, when I have them.
[17:16:05] <borodust> dthompson: makes sense, ping me anytime :)
[17:16:26] <dthompson> will do!
[17:16:35] <dthompson> I can also test any future appimages
[17:17:27] *** Quits: gxt (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[17:17:56] *** Joins: gxt (~gxt@gateway/tor-sasl/gxt)
[17:18:08] <borodust> dthompson: thanks much! btw, you can run appimages with firejail - it has special support for them
[17:18:20] <dthompson> ah didn't know that
[17:18:21] <dthompson> cool
[17:18:28] <dthompson> never used firejail but have heard of it
[17:18:30] <borodust> i'm not gonna ship malware, but just a neat additional feature :D
[17:18:34] <dthompson> yeah
[17:32:27] *** Quits: ConstantDesc (~textual@195.224.201.178) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:17:18] *** Quits: zap (~zap@gateway/tor-sasl/zap) (Ping timeout: 276 seconds)
[18:20:14] *** Joins: zap (~zap@gateway/tor-sasl/zap)
[18:27:39] *** Joins: rtypo (~alex@user/rtypo)
[18:28:21] *** Quits: zap (~zap@gateway/tor-sasl/zap) (Ping timeout: 276 seconds)
[18:32:44] *** Joins: azimut (~azimut@gateway/tor-sasl/azimut)
[18:33:18] *** Quits: plexi (~orcabot@digital.sanctuary.org) (Quit: Don't panic!)
[18:35:08] *** Joins: plexi (~orcabot@digital.sanctuary.org)
[18:35:45] *** Joins: thrig (~thrig@65.113.153.50)
[18:37:55] <borodust> plexi: welcome front
[18:37:55] <plexi> Perv.
[18:37:57] <borodust> :>
[19:12:22] *** Joins: ConstantDesc (~textual@195.224.201.178)
[19:45:34] *** Quits: ConstantDesc (~textual@195.224.201.178) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:52:24] *** Quits: chiselfuse (~chiselfus@user/chiselfuse) (Remote host closed the connection)
[19:52:54] *** Joins: chiselfuse (~chiselfus@user/chiselfuse)
[19:57:16] <dthompson> borodust: here's a test bundle. extract and run the launch-game script. https://files.dthompson.us/chickadee-bundle-test.tar.gz
[19:58:31] <dthompson> anyone else is welcoem to try, too. you should see a small window open with suzanne, the blender monkey, in it.
[20:01:42] <thrig> ./bin/guile[4]: syntax error: `H$ID$^H1H^D${$?$?$?H$EtoH$I' unexpected
[20:02:02] <dthompson> lol well that sure is cryptic
[20:03:15] <dthompson> thrig: what distro and version are you using?
[20:06:02] <thrig> OpenBSD
[20:06:16] <dthompson> thrig: oh well that explains things! this is a linux executable
[20:09:41] *** Quits: selwyn (~selwyn@user/selwyn) (Read error: Connection reset by peer)
[20:10:21] *** Joins: retropikzel (~retropikz@2001:999:20e:11a2:d95a:1793:c4fd:e091)
[21:02:42] <dthompson> dto: if you feel like testing a build for me :) https://files.dthompson.us/chickadee-bundle-test.tar.gz
[21:04:13] <dto> bin/guile: /lib/x86_64-linux-gnu/libcrypt.so.1: version `XCRYPT_2.0' not found (required by /home/dto/Downloads/chickadee-bundle/lib/libguile-3.0.so.1)
[21:04:13] <dto> bin/guile: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.29' not found (required by /home/dto/Downloads/chickadee-bundle/lib/libguile-3.0.so.1)
[21:04:17] <dto> dthompson: :/
[21:04:35] <thrig> softare is teh hard
[21:04:51] <dthompson> the bundle is good. that's expected if you are using an old distro.
[21:04:56] <dthompson> glibc < 2.29
[21:05:02] <dthompson> dto: what distro do you use?
[21:05:06] <dthompson> and version?
[21:05:17] <dto> linux mint mate from last year
[21:05:21] <dthompson> I'd have to install an old ubuntu or something and build on that.
[21:05:31] <dthompson> I'm on ubuntu 20.04.
[21:05:53] <dthompson> maybe I can make an 18.04 vm or something.
[21:06:05] <borodust> 18.04 is the way these days
[21:06:11] <dthompson> I always feel like I'm on old technology by using ubuntu lts
[21:06:18] <dthompson> but alas
[21:06:20] <dthompson> there is older
[21:06:46] <dthompson> borodust: are you on a new enough system?
[21:06:54] <borodust> although recently I received an issue that one of my projects didn't properly work on 12.04 (no typo)
[21:07:03] <borodust> dthompson: yup, downlading
[21:07:35] <thrig> I recall finding a running linux 2.0.34 system at some corporation...
[21:07:42] <dthompson> borodust: lol wow. that's a "won't fix" in my book
[21:08:21] <dthompson> dto: thanks for testing
[21:08:36] <dthompson> I'll try to get an 18.04 vm setup before the jam.
[21:08:49] <technomancy> it's bizarre to me how hard it is to compile things on modern systems to target an old glibc
[21:08:50] <technomancy> like
[21:09:06] <technomancy> how is this not an extremely common desire
[21:09:13] <thrig> I have a redhat 7.3 virt for a reason
[21:09:28] <borodust> hehe, well, yeah, that's too much, who knows though, i gave a few suggestions, maybe updating required packages partially, ngl won't be easy
[21:09:33] <dthompson> I think the difficulty is that you have to compile *everything* against that libc
[21:09:43] <dthompson> very doable in guix actually ;)
[21:09:57] <technomancy> dthompson: right, how shit are the tools if that's not an easy thing to do?
[21:10:15] <technomancy> C builds just mystify me in terms of like "How do people live in such abject squalor"
[21:10:40] <dthompson> because the 70s happened and now we have to live with it
[21:10:47] * technomancy sobs
[21:10:51] <borodust> _at least_ we can compile against oldish stuff and will work today ;p
[21:10:53] <borodust> thanks for that
[21:11:05] <borodust> *it will
[21:11:18] <thrig> cmake + a shell script that only works on linux and macos is a 2020s problem, though
[21:11:30] <dthompson> I mean, the idea of shipping binaries around like this is bad.
[21:11:39] <dthompson> so it's fine to me that it's not well supported.
[21:11:42] <borodust> thrig: akchooali, cmake + shell is possible on windows too (msys2+mingw)
[21:11:48] <borodust> fairly simple too
[21:12:17] <technomancy> dthompson: but like ... I want people to play my games?? is that bad?
[21:12:29] <dthompson> technomancy: well me too, that's why I'm doing this.
[21:12:32] <dthompson> but it's bad.
[21:12:38] <technomancy> it's bad to want people to play your games?
[21:12:40] <thrig> cmake + a shell script is broken on OpenBSD. so you're less portable than autotools.
[21:12:53] <borodust> thrig: woops
[21:12:56] <dthompson> technomancy: it's bad that there's no better way
[21:13:03] <Menchers> cmake's broken?
[21:13:10] <dthompson> here's this big ol' bundle of junk! have fun.
[21:13:11] <technomancy> dthompson: careful, I suspect that road will take you to "well, run everything in the browser then if that's what you want" if you follow it all the way down
[21:13:18] <thrig> more the shell script that only works on linux or macos
[21:13:24] <dthompson> nah i'm a distro guy
[21:13:35] <dthompson> if the tools were better on mainstream distros it wouldn't be so bad
[21:13:56] <technomancy> feels like the better way is just "avoid glibc and the C ecosystem at all costs"
[21:13:56] <dthompson> but now we're getting philosophical
[21:14:06] <technomancy> which means "run in the browser" or "build everything from scratch like forth"
[21:14:12] <dthompson> you can't escape it
[21:14:22] <dthompson> and the problem is more general
[21:15:17] <technomancy> lisp machines, I guess
[21:15:29] <dthompson> would be nice to have widespread popularity like love2d because then you just ship your little game archive and the player just uses their distro package manager to get the love2d runtime.
[21:15:38] <dthompson> that's a much better situation.
[21:16:34] <dto> welcome dthompson 
[21:17:20] <technomancy> it's nice to make it someone else's problem, for sure. I just fantasize about a world where we aren't paying for the mistakes of our ancestors and their PDP-based nonsense.
[21:17:33] <dthompson> sure me too
[21:17:47] <technomancy> this is the main appeal of forth for me tbh
[21:17:51] <technomancy> escaping the dystopia
[21:18:03] <dthompson> every C library I can avoid/drop is a victory.
[21:18:16] <thrig> 18-bit char is less of a thing, with POSIX...
[21:18:37] <dthompson> I try very hard to make relying on a C library a last resort with my projects.
[21:18:55] <dthompson> but I still depend on several of them that I can't avoid... yet.
[21:20:11] <dthompson> most of my C dependencies are things like audio/image decoders. hard to replace.
[21:20:44] <thrig> or SDL, which now makes clang version assumptions that fail on certain platforms
[21:20:57] <technomancy> every so often I think to myself "I should learn how FFI works" and then I come to my senses and I'm like https://p.hagelb.org/nope-badger.gif when I realize that moves me towards caring *more* about C libraries
[21:21:38] <dthompson> I find FFI to be a necessity, but it's the last thing I reach for. if I can implement it in Scheme myself, I do that.
[21:25:00] <dthompson> I feel like eliminating SDL2 as a dependency is within the realm on possibilties.
[21:26:46] <borodust> FFI is doable sorta thing
[21:26:54] <dthompson> I don't use a lot of what it provides, but the window and input event stuff is not exactly easy to replace.
[21:27:06] <borodust> boostrapping takes away braincells, but once done it works pretty much
[21:27:22] <borodust> like ppl still run gamekit and i didn't touch its runtime 3 smth years
[21:27:36] <dthompson> yeah, I won't write C code but I will use FFIs.
[21:32:41] <borodust> dthompson: hmm, i have same error about libcrypt missing, gonna install
[21:33:46] <borodust> weird, because ldd actually shows it, i'll investigate
[21:34:48] <borodust> also `chdir: command not found`
[21:34:52] <borodust> D:
[21:35:00] <dthompson> lol
[21:35:06] <dthompson> that's a typo from me
[21:35:18] <dthompson> the guile procedure for changing directory is chdir
[21:35:23] <dthompson> meant to type cd
[21:35:37] <borodust> okay, gonna patch quickly
[21:35:46] <dthompson> and it looks like I will need to add libgcrypt into the bundle
[21:36:09] <dthompson> I'll upload a new version
[21:37:16] <dthompson> borodust: new build uploaded to same url
[21:37:30] <borodust> looking
[21:37:30] <borodust>  
[21:40:29] <borodust> hmm
[21:41:20] <borodust> libguile-3.0.so.1 picks up /usr/lib/libcrypt.so.1
[21:41:33] <borodust> and seems to ignore libgcrypt.so
[21:42:03] <dthompson> I guess it's a libc thing then
[21:42:09] <dthompson> that's handled specially
[21:42:18] <dthompson> gotta see if there's anything I can do about that
[21:42:23] <dthompson> thanks for the info
[21:42:28] <borodust> https://gist.github.com/borodust/1d02bc4cb92c762405cf5ac1d3c70ca0
[21:42:35] <thrig> nixos has some elf-patching utilities
[21:43:03] <borodust> it actually picks everything from the system
[21:43:16] <borodust> you might need ${ORIGIN} as rpath
[21:43:25] <borodust> for all of the shipped libs
[21:43:30] <dthompson> shouldn't need that
[21:43:37] <dthompson> LD_LIBRARY_PATH handles it
[21:43:55] <borodust> ahh, okay, yeh, wait a minute
[21:44:04] <borodust> i'll run ldd with it
[21:44:14] <dthompson> thrig: I've used patchelf but that's not a place I want to go here
[21:44:56] <dthompson> borodust: you'll need to run ldd with LD_LIBRARY_PATH set to the lib directory in the bundle
[21:45:00] <borodust> https://gist.github.com/borodust/1d02bc4cb92c762405cf5ac1d3c70ca0#gistcomment-3904167
[21:45:12] <thrig> I usually use rpath foo instead of LD_LIBRARY_PATH
[21:45:18] <dthompson> that's how the launcher script does things.
[21:45:47] <dthompson> thrig: but that requires recompiling all dependencies or elf patching
[21:46:41] <dthompson> borodust: yeah I think gcrypt is a glibc thing. it's always going to use the system provided one.
[21:46:54] <dthompson> so this is likely another case of building on a system that is too new.
[21:47:14] <borodust> dthompson: btw, no recompiling required, patchelf solves that
[21:47:21] <dthompson> borodust: I know that
[21:47:25] <dthompson> I don't want to do it
[21:47:26] <borodust> but LD_LIBRARY_PATH might be just simpler
[21:47:34] <borodust> understandable
[21:47:37] <dthompson> I've been down the patchelf road before
[21:48:50] <borodust> and i apologize, missed your message about patchelf :)
[21:48:54] <dthompson> no worries
[21:49:55] <dthompson> I think it's possible to hardcode the library search path inside all the elf files so that it can use a bundled libc, libm, etc.
[21:50:14] <borodust> bundled libc is dangerous too
[21:50:29] <dthompson> yeah
[21:50:33] <dthompson> it's all dangerout
[21:50:37] <dthompson> dangerous*
[21:50:37] <borodust> cuz it might be interwined with the specific kernel it was built for/wiht
[21:50:50] <dthompson> though guix does this with success.
[21:50:57] <borodust> oh
[21:51:06] <dthompson> when I ldd something built with guix I see stuff like this:
[21:51:08] <dthompson> libc.so.6 => /gnu/store/fa6wj5bxkj5ll1d7292a70knmyl7a0cr-glibc-2.31/lib/libc.so.6 (0x00007fb8daf86000)
[21:51:24] <dthompson> that's a newer libc than I'm running on the base ubuntu system!
[21:51:33] <borodust> wait, i mean, yes, that's possible, cuz care was taken to run on supported kernels or smth
[21:52:32] *** Joins: zap (~zap@gateway/tor-sasl/zap)
[21:52:49] <borodust> but that might transfer well onto random kernel ;p
[21:52:54] <borodust> *might not
[21:54:02] <dthompson> not sure of all the details but people use the guix package manager on a wide variety of other distros with success
[21:54:09] <dthompson> so whatever's being done is very reliable
[22:00:04] <dthompson> looks like I screwed something up, though. when I ldd it's not finding my bundled libraries. gotta investigate that.
[22:00:58] <borodust> did you not forget LD_LIBRARY_PATH?)
[22:01:21] <dthompson> oh wait nvm it's fine I just accidentally trashed my build directory ;)
[22:01:22] <borodust> just like this guy borodust ;p
[22:01:28] <borodust> ah, okay
[22:02:27] <thrig> I love build systems that rm -rf the lib directory for you
[22:07:56] <dthompson> I introduced an error in my build script so it cleared out everything, then failed at some point. had an empty lib directory that I thought had stuff in it.
[22:08:32] <thrig> (GNU radio used to nuke the lib directory where you might have installed other libs first)
[22:12:15] *** Quits: thrig (~thrig@65.113.153.50) (Remote host closed the connection)
[22:54:02] *** Joins: selwyn (~selwyn@user/selwyn)
[23:24:54] *** Quits: retropikzel (~retropikz@2001:999:20e:11a2:d95a:1793:c4fd:e091) (Quit: Leaving)
