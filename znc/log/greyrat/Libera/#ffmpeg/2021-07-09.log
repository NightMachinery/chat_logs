[00:07:39] *** Joins: imuo (~imuo@cpe-174-100-53-99.neo.res.rr.com)
[00:08:23] *** Joins: arcatech (~arcatech@user/arcatech)
[00:31:01] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[00:35:18] *** Quits: Blacker47 (~Blacker47@user/blacker47) (Quit: Life is short. Get a V.90 modem fast!)
[00:38:10] *** Joins: s0berage (~s0berage@135-23-213-77.cpe.pppoe.ca)
[00:41:14] *** Quits: thebombzen (~thebombze@71.73.92.220) (Quit: attack.c:4: main: Assertion `I_can_beat_that_monster' failed. Aborted (core dumped))
[00:53:39] *** Joins: Terrence (~Terrence@097-085-185-009.biz.spectrum.com)
[00:54:28] <Terrence> Hi, anyone think they can help me with creating an encoder to produce a new audio file? kepstin I remember you helped last time but we were unable to finish our conversation
[00:58:54] *** Joins: arcatech (~arcatech@user/arcatech)
[01:03:10] *** Quits: arcatech (~arcatech@user/arcatech) (Client Quit)
[01:03:55] *** Quits: Flabb (~Flabb@89.169.84.117) (Quit: Leaving)
[01:59:24] *** Quits: Narrat (~omnius@p200300df5f11252206ea56fffe2e7cdc.dip0.t-ipconnect.de) (Quit: They say a little knowledge is a dangerous thing, but it's not one half so bad as a lot of ignorance.)
[01:59:55] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Read error: Connection reset by peer)
[02:00:22] *** Quits: Buster_ (~Buster@46.160.36.66) ()
[02:03:22] *** Joins: arcatech (~arcatech@user/arcatech)
[02:08:44] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[02:13:05] *** Quits: haihao (~haihao@192.55.46.52) (Ping timeout: 255 seconds)
[02:13:47] *** Joins: haihao (~haihao@192.55.46.52)
[02:17:45] *** Joins: LanDi (~landi@187.19.139.206)
[02:21:24] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 268 seconds)
[02:23:54] *** Quits: LanDi (~landi@187.19.139.206) (Remote host closed the connection)
[02:27:50] *** Joins: TanoMarcelo (~TanoMarce@179.63.242.126)
[02:31:31] *** Joins: arcatech (~arcatech@user/arcatech)
[02:33:38] *** Joins: LanDi (~landi@187.19.139.206)
[02:48:32] *** Quits: s0berage (~s0berage@135-23-213-77.cpe.pppoe.ca) (Ping timeout: 268 seconds)
[02:49:01] *** Joins: s0berage (~s0berage@135-23-213-77.cpe.pppoe.ca)
[02:50:31] *** Quits: s0berage (~s0berage@135-23-213-77.cpe.pppoe.ca) (Client Quit)
[02:51:24] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[02:55:50] *** Joins: arcatech (~arcatech@user/arcatech)
[02:58:34] *** Quits: haihao (~haihao@192.55.46.52) (Ping timeout: 240 seconds)
[02:58:57] *** Joins: haihao (~haihao@192.102.204.53)
[02:59:52] *** Quits: Trieste (~T@user/pilgrim) (Ping timeout: 246 seconds)
[03:01:27] *** Joins: ByteMe666 (~ByteMe666@2a01:c22:8dae:3a00:5450:ce96:a018:7658)
[03:01:32] *** Joins: Trieste (T@user/pilgrim)
[03:02:12] <ByteMe666> Hello ? Never used Libera IRC before, no clue how this works '=D
[03:02:23] <ByteMe666> do I just start asking a question ?
[03:02:58] <furq> sure
[03:04:21] <ByteMe666> Alright then here I go, I have a very naive question: I recently discovered how great filtergraphs are in ffmpeg and have been trying out everything that does audio processing. EQs, compressor, compander... and then I found the ladspa plugins
[03:06:18] <ByteMe666> and then I wondered: why doesn't ffmpeg also support VST ? Is there something blocking that ? Technical ? Legal ? Political ? I think the VST SDK has a Linux command line VST host you can compile for testing VST plugin compliance with the API. You could discard the compliance tests and then maybe hook up the audio in and outs of that host into
[03:06:19] <ByteMe666> ffmpeg somewhere right ? Or am I just too naive ? '=D
[03:10:15] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[03:10:53] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[03:13:03] <kepstin> it's probably mostly that nobody has put the work into contributing such a thing. ffmpeg can already load ladspa and lv2 audio processing plugins.
[03:17:16] *** Quits: ByteMe666 (~ByteMe666@2a01:c22:8dae:3a00:5450:ce96:a018:7658) (Ping timeout: 246 seconds)
[03:21:59] <BtbN> I think VST is also under a non-free license
[03:22:22] <BtbN> so unless someone can vouch for having never looked at any nonfree code to implement it, it can't be implemented into (L)GPL software
[03:35:59] *** Quits: phisch (~phisch@ip1f10fb97.dynamic.kabel-deutschland.de) (Read error: Connection reset by peer)
[03:36:04] *** Joins: phisch3 (~phisch@ip1f10fb97.dynamic.kabel-deutschland.de)
[03:46:04] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[03:47:24] *** Joins: Hackerpcs (~user@user/hackerpcs)
[03:47:44] *** Joins: Fohsap (~Muimi@119.112.254.166)
[03:48:24] *** Joins: linjie (~linjie@58.247.210.251)
[03:52:59] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 255 seconds)
[03:55:30] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[03:59:25] *** Joins: JesseH (~3252f234@ircip2.mibbit.com)
[04:00:21] <JesseH> How should I go about rotating a video but keeping a specific width/height? I need to rotate a video but fill in with black in the edges so that the output is a specific width and height.
[04:00:43] *** Joins: arcatech (~arcatech@user/arcatech)
[04:06:43] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 246 seconds)
[04:08:06] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[04:15:36] <blerd> transpose filter to rotate and then scale filter to add the black bars. I've seen serveral implementations of the black bars piece depending on what effect you are going for.
[04:16:50] *** Quits: justache (~justache@user/justache) (Read error: Connection reset by peer)
[04:16:57] <BtbN> You will need a separate filter to add black bars, pretty sure the scale filter does not add any
[04:17:43] <BtbN> transpose for 90Â° rotations. scale to... scale and pad to add black bars
[04:17:50] <blerd> yup that is it
[04:17:56] *** Joins: justache (~justache@user/justache)
[04:20:55] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Ping timeout: 265 seconds)
[04:21:06] *** Joins: Mister_Magister_ (~Mister_Ma@user/mister-magister/x-2636733)
[04:21:13] <blerd> This goes over it pretty nicely. https://superuser.com/questions/547296/resizing-videos-with-ffmpeg-avconv-to-fit-into-static-sized-player Although I ended up using a different scale parameters when I implemented it. I cant remember why exactly. I think it has something with having to account for the image being both larger and smaller than the target size.
[04:23:26] *** Mister_Magister_ is now known as Mister_Magister
[04:24:49] <blerd> Actually wiki is probably a better resource as it links back to that answer. https://trac.ffmpeg.org/wiki/Scaling . Although personally had issues because I didnt want to have to add additional logic for the force_original_aspect_ratio=decrease and increase depending on size of original image.  Trying to dig up the line I used.
[04:43:46] *** Quits: Manni__ (~Flole@ip4d169d3a.dynamic.kabel-deutschland.de) (Ping timeout: 240 seconds)
[04:47:03] *** Joins: Flole (~Flole@94.31.96.37)
[04:55:18] *** Quits: dittid[m] (~dittidmat@2001:470:69fc:105::789d) (Quit: issued !quit command)
[04:59:34] *** Quits: MrZeus_ (~MrZeus@185.195.232.146) (Ping timeout: 246 seconds)
[05:28:50] *** Joins: dittid[m] (~dittidmat@2001:470:69fc:105::789d)
[05:30:21] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:30:58] *** Quits: Terrence (~Terrence@097-085-185-009.biz.spectrum.com) (Ping timeout: 240 seconds)
[05:31:11] *** Joins: arcatech (~arcatech@user/arcatech)
[05:33:46] *** Joins: pntaylor_ (~quassel@124-171-105-253.dyn.iinet.net.au)
[05:34:11] *** Joins: vlm (~vlm@user/vlm)
[05:35:21] *** Quits: pntaylor (~quassel@ppp121-45-196-59.cbr-trn-nor-bras38.tpg.internode.on.net) (Ping timeout: 265 seconds)
[05:50:09] *** pntaylor_ is now known as pntaylor
[05:55:22] *** Quits: dreamon (~dreamon@p57a4c41a.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[06:04:05] *** Quits: der_richter (~Akemi@p4fde4faf.dip0.t-ipconnect.de) (Quit: Leaving.)
[06:21:26] *** Quits: TanoMarcelo (~TanoMarce@179.63.242.126) (Quit: WeeChat 3.1)
[06:25:46] *** Quits: i`m_out (~beaver@user/pong) (Remote host closed the connection)
[06:26:24] *** Joins: i`m_out (~beaver@user/pong)
[06:29:04] *** Quits: blerd (~blerd@71.182.169.24) (Quit: Going offline, see ya! (www.adiirc.com))
[06:55:25] *** Quits: i`m_out (~beaver@user/pong) (Remote host closed the connection)
[06:59:43] *** Joins: jos2 (~jos3@dyndsl-091-096-034-011.ewe-ip-backbone.de)
[07:03:48] *** Quits: jos1 (~jos3@dyndsl-178-142-067-217.ewe-ip-backbone.de) (Ping timeout: 265 seconds)
[07:24:34] *** Quits: LanDi (~landi@187.19.139.206) (Remote host closed the connection)
[07:27:55] *** Joins: fannagoganna (uid110488@id-110488.tinside.irccloud.com)
[07:28:31] *** Joins: thebombzen (~thebombze@71.73.92.220)
[07:28:50] *** Joins: Terrence (~Terrence@097-085-185-009.biz.spectrum.com)
[07:30:07] *** Quits: Arwalk (~Arwalk@lfbn-dij-1-263-107.w86-235.abo.wanadoo.fr) (Quit: The Lounge - https://thelounge.chat)
[07:30:46] *** Joins: Arwalk (~Arwalk@lfbn-dij-1-263-107.w86-235.abo.wanadoo.fr)
[07:40:29] *** Joins: pong (~beaver@user/pong)
[07:50:00] *** Joins: linjie (~linjie@58.247.210.251)
[07:54:24] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 258 seconds)
[08:04:13] *** Joins: demon__ (~user@45.130.86.4)
[08:07:10] *** Quits: anotheruser (~user@41.238.161.8) (Ping timeout: 246 seconds)
[08:08:16] *** Joins: anotheruser (~user@41.238.161.8)
[08:11:47] *** Quits: demon__ (~user@45.130.86.4) (Ping timeout: 252 seconds)
[08:12:34] *** Quits: anotheruser (~user@41.238.161.8) (Ping timeout: 240 seconds)
[08:44:59] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[09:10:36] *** Quits: Atsuko (~x@94.242.250.86) (Remote host closed the connection)
[09:23:14] *** Joins: Atsuko (~x@94.242.250.86)
[09:23:44] *** Quits: microchip_ (~neutrino@user/microchip/x-0766185) (Quit: There is no spoon!)
[09:24:52] *** Joins: microchip_ (~neutrino@user/microchip/x-0766185)
[09:34:23] *** Quits: imuo (~imuo@cpe-174-100-53-99.neo.res.rr.com) (Ping timeout: 252 seconds)
[09:34:33] *** Joins: someuser (~user@41.238.161.8)
[09:47:56] *** Quits: xqq (uid506777@id-506777.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[09:51:33] *** Joins: linjie (~linjie@58.247.210.251)
[09:55:40] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 246 seconds)
[10:11:01] *** Joins: Terrence90 (~Terrence@097-085-185-009.biz.spectrum.com)
[10:11:53] *** Quits: Terrence (~Terrence@097-085-185-009.biz.spectrum.com) (Ping timeout: 255 seconds)
[10:20:44] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Quit: WeeChat 3.1)
[10:28:46] <Terrence90> does anyone know how to use the encoder API to create a new audio file from AVFrames?
[10:54:23] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[11:01:31] <Terrence90> Anyone at all? Been using encoder.c as a reference along with muxing but I seem to be having trouble
[11:13:17] *** Quits: haihao (~haihao@192.102.204.53) (Ping timeout: 252 seconds)
[11:13:45] *** Joins: haihao (~haihao@192.102.204.51)
[11:19:42] *** Joins: TanoMarcelo (~TanoMarce@179.63.242.126)
[11:21:46] *** Quits: haihao (~haihao@192.102.204.51) (Ping timeout: 240 seconds)
[11:22:09] *** Joins: haihao (~haihao@192.55.46.52)
[11:35:13] *** Joins: luni-4 (uid453292@id-453292.charlton.irccloud.com)
[11:40:45] *** Joins: dreamon (~dreamon@ppp-88-217-71-147.dynamic.mnet-online.de)
[11:42:21] *** Joins: Flabb (~Flabb@89.169.84.117)
[11:57:45] *** Joins: rhett (Username@174-126-122-77.cpe.sparklight.net)
[11:57:54] *** Quits: rhett (Username@174-126-122-77.cpe.sparklight.net) (Excess Flood)
[12:04:53] <elenril> Terrence90: maybe you'd get more answers if you ask more specific questions
[12:05:27] <elenril> "please solve my problem for me" is not a question that's likely to get you anywhere
[12:05:27] <Terrence90> Ah okay
[12:05:37] <Terrence90> yeah very true
[12:05:51] <elenril> if you tried things and they didn't work, then describe what you tried and how it failed
[12:06:10] *** Quits: pyre (~pyre@crimeboss.nillas-power.com) (Ping timeout: 240 seconds)
[12:06:23] <elenril> otherwise it looks like you just want somebody else to do your homework for you, which is not exactly motivating
[12:06:34] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[12:07:58] *** Joins: aphysically (~aphysical@user/aphysically)
[12:08:15] <Terrence90> So I have been working on using a filter to apply on an audio file. Using references from filtering_audio.c found on the FFmpeg site. After applying the filtergraph on it, I want to only encode the frames that meet a certain criteria. However, I'm having trouble setting up the encoder
[12:08:43] <aphysically> nice there's an option to seek within subtitles on the mailing list; although I already had a workaround for this where if I'm rendering subtitles I completely extract them to a separate mkv
[12:08:47] <Terrence90> My goal is to use the input audio's format, WAV, to produce another WAV file that doesn't contain certain frames
[12:08:58] <aphysically> for seeking but also because it doesn't really work with SRT if you don't do it
[12:09:40] <aphysically> (it starts trying to stream it while reading out the subtitle which can take a minute or two, enough to confuse things)
[12:10:07] <Terrence90> I think where my first issue comes into place is the defining which is the right encoder to use
[12:10:17] <Terrence90> codec = avcodec_find_encoder(AV_CODEC_ID_MP2); is what I have been using right now
[12:10:35] <Terrence90> But whenever I pass the frame to the encoder I run into an issue
[12:11:35] <Terrence90> Someone mentioned to me to use formatContext->streams[streamIndex]->codecpar->codec_id for the parameter but that didn't seem to work either
[12:12:44] <elenril> the codec id depends on what you want to do with the output
[12:13:03] <elenril> typically if our output is the WAV container, you want to put PCM (uncompressed audio) into it
[12:13:14] <elenril> there's rarely a reason to use MP2 for it
[12:13:25] <elenril> or for anything
[12:14:09] <elenril> and you're not sayying what was the issue you run into
[12:16:22] <elenril> also note that there is AVOutputFormat.audio_codec, where every muxer declares its "recommended/default" audio codec
[12:17:47] *** Quits: TanoMarcelo (~TanoMarce@179.63.242.126) (Quit: WeeChat 3.1)
[12:19:39] *** Joins: pyre (~pyre@crimeboss.nillas-power.com)
[12:21:05] *** Joins: Pinchiukas (~keps@128.29.231.35.bc.googleusercontent.com)
[12:21:31] <aphysically> I still need to figure out a workaround for concat demuxing ASS subtitles not really working
[12:21:38] <Pinchiukas> Can anyone help me understand what the -r parameter actually does?
[12:22:01] <aphysically> I thought at first i could extract them all and combine with an external program then remux into an mkv, but it's messier than I thought because it's common to attach fonts to the original mkv directly
[12:22:12] <aphysically> so some automated handling of that is a real mess
[12:25:51] <Terrence90> elenril quick question, so if I am able to use PCM for the encoder, do I need to still mux the packet to create the audio file or is that already taken care of the the encoder?
[12:26:03] <elenril> the encoder does no IO
[12:26:08] <elenril> it knows nothing about files
[12:26:26] <Terrence90> https://github.com/FFmpeg/FFmpeg/blob/master/doc/examples/encode_audio.c
[12:26:29] <elenril> the encoder takes in raw data in frames, and turns them into packets
[12:26:33] <Terrence90> But if you look here isn't it making one?
[12:26:50] <Terrence90> when calling encode()
[12:27:02] <elenril> that code is writing raw encoded data into a file as-is
[12:27:04] <Terrence90> and when I ran this same program locally it produced an audio file that was a tone
[12:27:07] <elenril> without a container
[12:27:09] <Terrence90> ohh
[12:27:12] <Terrence90> Oh okay
[12:27:33] <elenril> you can certainly do that, but then the program that reads the output needs to be told what's in the file
[12:27:41] <elenril> because there is no header or anything, it's just raw data
[12:28:37] <Terrence90> Okay so the first thing I need to do first in order to achieve what I'm trying to do is encode the frames into a packet and then pass the packet to a muxer creating a new WAVE file ? elenril
[12:28:44] <elenril> see line 118, it just dumps the packet contents into a file descriptor
[12:29:06] <Terrence90> Yeah I see
[12:29:17] <Terrence90> So I wouldn't need to include that in my own code I see
[12:30:05] <elenril> yes, if you want a properly containerized file then you should create a muxer and send packets to it
[12:30:25] <elenril> see e.g. https://github.com/FFmpeg/FFmpeg/blob/master/doc/examples/transcode_aac.c#L139
[12:31:39] <Terrence90> Hmm ...
[12:32:12] <Terrence90> elenril I think for what I'm doing this file would be wayy much better
[12:32:31] <Terrence90> It looks like it already incorporates an encoder and produces the output file
[12:38:55] <Terrence90> Is there a way to find the current bit rate from my own formatcontext?
[12:39:07] <Terrence90> It doesn't seem to be a part of its struct
[12:40:00] <elenril> not in general
[12:40:03] <elenril> not all formats provide it
[12:40:26] <elenril> if you're dealing with uncompressed audio it's pretty trivial
[12:41:05] <Terrence90> geez
[12:42:03] <Terrence90> Hopefully 9600 doesn't give me any problems
[12:43:39] <elenril> if you are encoding PCM, then setting bit_rate does nothing
[12:43:45] <elenril> because it's uncompressed
[12:45:48] <Terrence90> Okay thank you
[12:48:36] <Terrence90> But there is still some confusion I have before I begin coding
[12:49:59] <Terrence90> https://pastebin.com/ixG2ZwCT
[12:50:06] <Terrence90> Here's a quick snippet of my code here
[12:50:34] <Terrence90> and you can see the comment is where I would want to encode the filt_frame if the flag is equal to 0
[12:50:55] <Terrence90> However, which encoding function should I be using if I am trying to essentially just make one big packet
[12:51:13] <Terrence90> transcode_aac.c and encode.c seem to have different ones
[12:51:44] <Terrence90> But for the goal that I have described to you I'm not sure which one would best suit this situation
[12:54:28] <elenril> the encoder gives you one output packet for one input frame
[12:54:38] <elenril> then what you do with those packets is up to you
[12:54:55] <elenril> you can copy their contents to a memory buffer if that's what you want
[12:55:06] <elenril> not sure why you'd want that though
[12:57:07] *** Joins: test (~test@119.4.240.125)
[12:57:09] <Terrence90> Sorry but I'm still confused
[12:57:31] *** test is now known as Guest5378
[12:58:04] <Terrence90> Okay, so in the code that I've shared with you, you notice how the (!flag) indicates whether or not I want to encode a frame right?
[12:59:12] <Terrence90> elenril
[13:01:32] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 255 seconds)
[13:02:19] <qwedfg> I cant get to work on haswell, but the same installation works elsewhere even sandy bridge :(
[13:02:45] <elenril> Terrence90: yes, and?
[13:02:45] <qwedfg> but I can live with it as I dont think I would be using it as I like quality but for quick jobs it would be useful
[13:03:01] <elenril> I'm also confused about what is it you want to achieve and what the problem is
[13:03:02] <qwedfg> qsv I mean
[13:03:14] <qwedfg> :)
[13:03:32] <Terrence90> Okay my apologies for the poor explanation, but let me make it simpler
[13:03:45] <Terrence90> 1. I run a filter an audio file
[13:04:13] <Terrence90> 2. Create a NEW audio file that doesn't contain segments marked by the filter
[13:04:22] <Terrence90> And that's honestly it
[13:05:12] <Terrence90> So in the code snippet that I shared with you, that is essentially me running the filter and determining whether or not that segment of audio was marked by the filter or not
[13:05:17] <Terrence90> Working successfully
[13:05:49] <Terrence90> But my next step is to just only produce a COPY of the audio file that DOESNT contain segments marked by it
[13:06:00] <Terrence90> Does that make sense? elenril
[13:06:08] <elenril> yeah, but what's the problem?
[13:06:15] <Terrence90> Creating the new audio file
[13:06:18] <elenril> just....don't send the marked frames to the encoder?
[13:06:39] <Terrence90> My problem is using the encoder
[13:07:09] <Terrence90> I'm just confused with the process
[13:07:35] *** Joins: darkapex (~darkapex@user/darkapex)
[13:07:47] <Terrence90> So correct me if I'm wrong, but this is how I have interpreted the process from what you've shared with me
[13:08:13] <Terrence90> 1. Pass the frames to the encoder (which produces a new packet for each one (?))
[13:08:37] <Terrence90> 2. Pass each packet to be muxed
[13:08:45] <Terrence90> 3. Write to the new audio file
[13:09:02] <Terrence90> This is what I'm confused about and open to learning
[13:10:07] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Ping timeout: 244 seconds)
[13:10:23] <elenril> the muxer writes the data to the file
[13:10:35] <elenril> OR you do it manually without a muxer
[13:10:39] <elenril> so:
[13:10:45] <elenril> 1. get frames from your filter
[13:10:57] <elenril> 2. pass the frames you want to encoder, discard those you don't want
[13:11:07] <elenril> 3. encoder gives you packets, you pass packets to muxer
[13:13:17] <Terrence90> Ah okay
[13:13:30] <Terrence90> I think I'm starting to visually see what's happening
[13:14:16] <Terrence90> This is all happening sychronously
[13:15:01] <Terrence90> So I get the frame -> pass the frame to encoder -> encoder passes it to muxer -> muxer writes to audio file, and this process repeats itself for every frame?
[13:15:08] <Terrence90> elenril
[13:15:35] <elenril> your code must pass the packets from encoder to the muxer
[13:15:43] <elenril> the encoder has no direct communication with the muxer
[13:16:58] <Terrence90> Oh okay, so in that case it's just, get the frame -> pass the frame to encoder -> encoder returns a packer -> pass packet to muxer which THEN writes to the file
[13:17:10] <Terrence90> and repeat
[13:17:20] <elenril> yes
[13:17:32] <Terrence90> https://github.com/FFmpeg/FFmpeg/blob/master/doc/examples/transcode_aac.c#L139
[13:17:46] <Terrence90> And that's the process that's happening here ^ ?
[13:18:06] <Terrence90> Because as I was reading through it I was confused but now I feel i have a stronger understanding
[13:18:18] *** Quits: Guest5378 (~test@119.4.240.125) (Ping timeout: 272 seconds)
[13:18:35] <elenril> that specific function just does the setup
[13:18:51] <elenril> you need to create the encoder and the muxer before you can use them
[13:19:29] <Terrence90> Oh okay
[13:19:50] <Terrence90> So that where, https://github.com/FFmpeg/FFmpeg/blob/master/doc/examples/encode_audio.c and https://github.com/FFmpeg/FFmpeg/blob/master/doc/examples/muxing.c
[13:19:56] <Terrence90> come into play
[13:22:33] *** Joins: Guest5378 (~test@119.4.240.125)
[13:27:30] <Terrence90> https://github.com/FFmpeg/FFmpeg/blob/40ce7aec09e0fd69702543e5bac7a4b09eb401cb/doc/examples/encode_audio.c#L95
[13:28:28] <Terrence90> Okay and I'm assuming this is the encoder that I will and I have to do is remove fwrite and un_ref until i get to the next packet
[13:49:29] *** Quits: gpeskens (~gpeskens@2001:985:7aa4:1:f1b0:e710:2007:a6b0) (Remote host closed the connection)
[13:49:48] *** Joins: gpeskens (~gpeskens@2001:985:7aa4:1:a4f9:1ed4:72e7:ab29)
[13:52:12] *** Parts: Pinchiukas (~keps@128.29.231.35.bc.googleusercontent.com) (WeeChat 2.8)
[13:52:23] *** Quits: Terrence90 (~Terrence@097-085-185-009.biz.spectrum.com) (Ping timeout: 255 seconds)
[13:53:20] *** Joins: linjie (~linjie@58.247.210.251)
[13:57:22] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 240 seconds)
[14:20:48] *** Quits: woohoiV5_ (~woohoiV5@46-117-154-242.bb.netvision.net.il) (Ping timeout: 258 seconds)
[14:23:14] *** Joins: woohoiV5 (~woohoiV5@46-117-186-112.bb.netvision.net.il)
[14:27:27] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[14:27:34] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[14:28:05] *** Quits: dittid[m] (~dittidmat@2001:470:69fc:105::789d) (Ping timeout: 252 seconds)
[14:31:54] *** Joins: der_richter (~Akemi@p4fde4faf.dip0.t-ipconnect.de)
[14:41:46] *** Joins: HumanG33k (~HumanG33k@2a01:e0a:95:5d90:215:c5ff:fe68:fb04)
[14:45:53] *** Quits: Guest5378 (~test@119.4.240.125) (Remote host closed the connection)
[14:53:36] *** Quits: Atsuko (~x@94.242.250.86) (Remote host closed the connection)
[15:03:31] *** Joins: dittid[m] (~dittidmat@2001:470:69fc:105::789d)
[15:27:05] *** Joins: Keshl_ (~Purple@207.44.70.214.res-cmts.gld.ptd.net)
[15:27:49] *** Quits: Keshl (~Purple@user/Keshl) (Read error: Connection reset by peer)
[15:38:02] *** Joins: Atsuko (~x@94.242.250.86)
[15:39:56] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 255 seconds)
[15:53:11] *** Joins: TanoMarcelo (~TanoMarce@179.63.242.126)
[16:17:17] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[16:19:38] *** Joins: Blacker47 (~Blacker47@user/blacker47)
[16:59:56] *** Joins: rsx (~dummy@ppp-188-174-132-81.dynamic.mnet-online.de)
[17:13:16] *** Quits: LRN (~LRN@broadband-95-84-200-6.ip.moscow.rt.ru) (Quit: Leaving)
[17:18:22] *** Joins: LRN (~LRN@broadband-95-84-200-6.ip.moscow.rt.ru)
[17:26:17] *** Joins: blerd (~blerd@71.182.169.24)
[17:32:44] *** Joins: Trieste (~T@user/pilgrim)
[17:40:02] *** Quits: Trieste (~T@user/pilgrim) (Ping timeout: 252 seconds)
[17:43:50] *** Joins: Trieste (T@user/pilgrim)
[17:52:16] *** Joins: darkapex_ (~darkapex@user/darkapex)
[17:52:47] *** Joins: bencc1_ (~bencc1@2a00:a040:197:3af:1bb0:1690:89bc:54d5)
[17:53:08] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 255 seconds)
[17:53:08] *** Quits: aquijoule__ (~richbridg@213-225-7-126.nat.highway.a1.net) (Remote host closed the connection)
[17:53:33] *** Joins: aquijoule__ (~richbridg@213-225-7-126.nat.highway.a1.net)
[17:54:01] *** Quits: KyleSiefring (~quassel@ec2-35-174-255-234.compute-1.amazonaws.com) (Quit: No Ping reply in 180 seconds.)
[17:54:55] *** Joins: linjie (~linjie@58.247.210.251)
[17:55:17] *** Quits: blerd (~blerd@71.182.169.24) (Read error: Connection reset by peer)
[17:55:27] *** Joins: KyleSiefring (~quassel@ec2-35-174-255-234.compute-1.amazonaws.com)
[17:55:36] *** Joins: blerd (~blerd@71.182.169.24)
[17:55:48] *** Quits: galad (~galad@2605:6400:30:fb0b:56b5:20c1:fdb5:df37) (Quit: ZNC 1.9.x-git-111-f2cdc3db - https://znc.in)
[17:55:59] *** Quits: mixfix41 (~homefame@user/mixfix41) (Ping timeout: 252 seconds)
[17:56:08] *** Joins: galad (~galad@104.244.73.90)
[17:56:34] *** Joins: mixfix41 (~homefame@user/mixfix41)
[17:57:05] *** Quits: bencc1 (~bencc1@2a00:a040:197:3af:644d:5125:764d:a964) (Ping timeout: 252 seconds)
[17:58:06] *** Quits: darkapex_ (~darkapex@user/darkapex) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[17:59:11] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 252 seconds)
[18:00:00] *** Quits: TanoMarcelo (~TanoMarce@179.63.242.126) (Quit: WeeChat 3.1)
[18:00:43] *** Joins: darkapex (~darkapex@user/darkapex)
[18:12:29] *** Quits: brontosaurusrex (~woot@user/brontosaurusrex) (Ping timeout: 252 seconds)
[18:27:21] *** Quits: finsternis (~X@23.226.237.192) (Remote host closed the connection)
[18:32:43] *** Joins: arcatech (~arcatech@user/arcatech)
[18:39:40] *** Joins: brontosaurusrex (~woot@user/brontosaurusrex)
[18:43:39] *** Joins: darkapex_ (~darkapex@user/darkapex)
[18:44:22] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 268 seconds)
[18:45:07] *** darkapex_ is now known as darkapex
[18:58:33] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[18:59:07] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[19:07:31] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[19:07:50] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 255 seconds)
[19:08:44] *** Joins: arcatech (~arcatech@user/arcatech)
[19:12:11] *** Joins: Lantizia__ (~fonet@user/lantizia)
[19:12:22] <Lantizia__> hey - anyone got any experience with RTSP 'redirect' ?
[19:12:58] <Lantizia__> i.e. how I could go about **not** restreaming an rtsp feed (like a proxy)... but instead have something running which just issues the simple command to the rtsp client... that they should use an alternate URL ?
[19:16:58] *** Quits: pyre (~pyre@crimeboss.nillas-power.com) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[19:17:10] *** Joins: pyre (~pyre@crimeboss.nillas-power.com)
[19:17:58] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[19:21:51] *** Quits: Flabb (~Flabb@89.169.84.117) (Quit: Leaving)
[19:24:21] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Quit: WeeChat 3.2)
[19:26:46] *** Joins: Flabb (~Flabb@89.169.84.117)
[19:27:25] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[19:31:16] *** Joins: linjie (~linjie@58.247.210.251)
[19:36:29] <aphysically> actually now that the subtitles filter is getting seek support a way to fix my concat demuxing problem is if it accepted playlists like ffmpeg too
[19:37:39] <aphysically> looks like it doesn't though :(
[19:48:30] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[20:01:17] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 252 seconds)
[20:02:30] *** Joins: Aelius_ (~Aelius@user/aelius)
[20:03:29] *** Quits: Aelius (~Aelius@user/aelius) (Ping timeout: 252 seconds)
[20:29:41] *** Joins: arcatech (~arcatech@user/arcatech)
[20:34:00] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 252 seconds)
[20:35:10] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[20:36:34] *** Quits: JesseH (~3252f234@ircip2.mibbit.com) (Quit: https://mibbit.com Online IRC Client)
[20:38:28] *** Quits: dreamon (~dreamon@ppp-88-217-71-147.dynamic.mnet-online.de) (Ping timeout: 272 seconds)
[20:42:12] *** Quits: Fohsap (~Muimi@119.112.254.166) (Remote host closed the connection)
[20:51:09] *** Quits: darkapex (~darkapex@user/darkapex) (Read error: Connection reset by peer)
[20:53:08] *** Joins: Trieste (~T@user/pilgrim)
[20:53:49] *** Joins: darkapex (~darkapex@user/darkapex)
[20:57:09] *** Joins: Trieste_ (T@user/pilgrim)
[20:57:38] *** Quits: Trieste (~T@user/pilgrim) (Ping timeout: 255 seconds)
[21:03:07] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 246 seconds)
[21:05:02] *** Joins: MrZeus_ (~MrZeus@185.195.232.146)
[21:07:13] *** Joins: arcatech (~arcatech@user/arcatech)
[21:12:43] *** Joins: JesseH (3252f234@ircip1.mibbit.com)
[21:14:27] <JesseH> Wanted to let the community know that Ameelio (https://ameelio.org) is looking for a contractor familiar with ffmpeg to help us finalize our video processing service. The core work is done but having a contractor come in and help us finalize things would be incredibly helpful. If anyone is interested, feel free to reach out.
[21:15:29] *** Joins: Terrence (~Terrence@097-085-185-009.biz.spectrum.com)
[21:28:04] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[21:29:00] <blerd> there are a lot of good resources for command line stuff. API stuff not so much.
[21:34:05] *** Quits: rsx (~dummy@ppp-188-174-132-81.dynamic.mnet-online.de) (Quit: rsx)
[21:34:48] <blerd> I successfully got to the same bum video state with avfilter_graph_parse_ptr and avfilter_graph_parse2 . So I know that my parse2 code wasn't flawed
[21:37:38] *** Quits: Aelius_ (~Aelius@user/aelius) (Ping timeout: 252 seconds)
[21:41:04] *** Joins: darkapex (~darkapex@user/darkapex)
[21:50:50] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 252 seconds)
[22:13:59] *** Joins: dreamon (~dreamon@pd95038fb.dip0.t-ipconnect.de)
[22:18:14] *** Quits: arcatech (~arcatech@user/arcatech) (Ping timeout: 252 seconds)
[22:18:15] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[22:18:53] *** Joins: TheAMM (~AMM@user/amm)
[22:18:53] *** Quits: AMM (~AMM@user/amm) (Killed (NickServ (GHOST command used by TheAMM)))
[22:19:11] *** TheAMM is now known as AMM
[22:21:21] *** Joins: arcatech (~arcatech@user/arcatech)
[22:25:40] *** Quits: arcatech (~arcatech@user/arcatech) (Read error: Connection reset by peer)
[22:26:17] *** Joins: arcatech (~arcatech@user/arcatech)
[22:30:58] *** Joins: linjie (~linjie@58.247.210.251)
[22:35:23] *** Quits: linjie (~linjie@58.247.210.251) (Ping timeout: 252 seconds)
[22:41:33] *** Joins: sweb (~sweb@static.187.181.76.144.clients.your-server.de)
[22:41:43] <sweb> why my overlay not working?
[22:41:58] <sweb> https://paste.ubuntu.com/p/qXYvncQQkw/
[22:43:24] <sweb> ffmpeg run without any error but overlay filter not applied
[22:50:47] *** Quits: ossifrage (~ossifrage@pool-72-78-189-30.phlapa.fios.verizon.net) (Read error: Connection reset by peer)
[22:51:01] *** Joins: ossifrage (~ossifrage@pool-72-78-189-30.phlapa.fios.verizon.net)
[22:54:19] *** Joins: Aelius (~Aelius@user/aelius)
[23:02:37] <znf> sweb, use filter_complex
[23:02:46] <znf> -vf only works with 1 input, afaik
[23:02:59] *** Quits: HumanG33k (~HumanG33k@2a01:e0a:95:5d90:215:c5ff:fe68:fb04) (Quit: WeeChat 2.3)
[23:03:19] <Terrence> Does anyone know a fix for when when av_frame_get_buffer() doesn't allow you to produce enough space for an audio buffer?
[23:04:17] <Terrence> Does it mean that my program is out of memory?
[23:04:31] *** Joins: Buster_ (~Buster@buster-net.ru)
[23:05:55] <roxlu> JEEB: I got it working!
[23:06:07] <Terrence> https://pastebin.com/hUeFhuhF
[23:06:18] <Terrence> This is a code sample and it fails on the last line
[23:06:25] *** Joins: HumanG33k (~HumanG33k@2a01:e0a:95:5d90:215:c5ff:fe68:fb04)
[23:07:12] <roxlu> I created a bare bones experiment where I used the output of a AVAssetReader and I inspected the data it used. ..and my hunch was correct; you have to combine all nals that make up an frame/picture and feed that.
[23:10:00] <Terrence> I'm working on creating an encoder by the way if that makes things more clear
[23:21:30] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[23:30:50] *** Quits: LuKaRo (~LuKaRo@p200300dfa714f1881c4e96891ae58782.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[23:34:50] *** Joins: LuKaRo (~LuKaRo@p57b15425.dip0.t-ipconnect.de)
[23:38:07] *** Joins: zumba_addict (~zumba_add@2601:240:4500:8320:893a:9830:2905:12a4)
[23:46:18] <Terrence> Does anyone know any other resources I can look at for encoding audio from a filter?
[23:48:34] <blerd> I typically just search github for similar code as mine and go from there.
