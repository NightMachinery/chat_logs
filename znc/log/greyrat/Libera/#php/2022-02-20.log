[00:00:44] <Thanatermesis> well, there's the main nginx conf, then the nginx conf to the individual websites, and then there, there's an "include" for a nginx local conf file directly located in the website wordpress directory (sometimes used by plugins, just like htaccess)
[00:00:45] *** Parts: velix (~velix@user/velix) (Leaving)
[00:03:08] <Thanatermesis> on it, i had an entry for the location admin pages which disabled logs, this entry required to add all the fastcgi lines too, but then it didnt included the line with fastcgi_read_timeout and this was the cause (so this fastcgi was used instead of the main one in /etc)
[00:07:24] *** Quits: filename (~kilitary@185.193.143.131) (Ping timeout: 250 seconds)
[00:14:44] *** Quits: Junxter (~Junxter@222.95.164.193) (Read error: Connection reset by peer)
[00:16:34] *** Joins: filename (~kilitary@185.193.143.131)
[00:35:39] *** Joins: onichomp (~onichomp@2806:264:4408:12a:f498:a927:1536:8581)
[00:35:58] *** Quits: onichomp (~onichomp@2806:264:4408:12a:f498:a927:1536:8581) (Read error: Connection reset by peer)
[00:36:36] *** Joins: onichomp (~onichomp@2806:264:4408:12a:f498:a927:1536:8581)
[00:43:37] *** Quits: newwebdev13 (~newwebdev@78.135.91.153) (Read error: Connection reset by peer)
[00:43:50] *** Joins: newwebdev13 (~newwebdev@78.135.91.153)
[00:44:18] *** Quits: newwebdev13 (~newwebdev@78.135.91.153) (Read error: Connection reset by peer)
[00:44:27] *** Joins: newwebdev13 (~newwebdev@78.135.91.153)
[00:54:16] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Quit: ɯlɐɔ uı ʞɹoʍ oʇ ƃuıoƃ)
[00:56:19] <relipse> hi
[00:57:22] *** Joins: Dr-007 (~Dr-007@92-108-90-26.cable.dynamic.v4.ziggo.nl)
[01:02:48] <relipse> gotta love jetbrains: https://blog.jetbrains.com/phpstorm/2022/02/phpstorm-2022-1-eap-3/
[01:13:49] *** Quits: LuKaRo (~LuKaRo@p4fc3264a.dip0.t-ipconnect.de) (Quit: ZNC 1.8.2 - https://znc.in)
[01:19:01] *** Joins: LuKaRo (~LuKaRo@p200300dfa72f4b9400000000000001f9.dip0.t-ipconnect.de)
[01:22:10] *** Joins: Atlas (~atlas@user/atlas)
[01:24:33] *** Joins: PTNapivoski (~PTNapivos@2804:60:400b:2600:af:410d:42e4:642)
[01:25:00] *** Quits: filename (~kilitary@185.193.143.131) (Ping timeout: 240 seconds)
[01:30:52] *** Quits: hh (~g@37.214.44.190) (Remote host closed the connection)
[01:36:22] *** chao is now known as stenno
[01:37:23] *** Quits: Atlas (~atlas@user/atlas) (Quit: Textual IRC Client: www.textualapp.com)
[01:51:21] *** Joins: Atlas (~atlas@user/atlas)
[01:54:55] *** Joins: filename (~kilitary@185.193.143.131)
[01:59:10] *** Quits: guido (~weechat@host-95-247-93-147.retail.telecomitalia.it) (Quit: WeeChat 3.4)
[02:03:00] *** Quits: filename (~kilitary@185.193.143.131) (Ping timeout: 240 seconds)
[02:18:39] *** Joins: filename (~kilitary@185.193.143.131)
[02:21:42] *** Quits: PTNapivoski (~PTNapivos@2804:60:400b:2600:af:410d:42e4:642) (Quit: Leaving)
[02:23:28] *** Quits: filename (~kilitary@185.193.143.131) (Ping timeout: 256 seconds)
[02:29:24] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[02:32:30] *** Quits: DrowningElysium (uid190788@user/drowningelysium) (Quit: Connection closed for inactivity)
[03:22:36] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[03:24:18] *** Joins: filename (~kilitary@185.193.143.131)
[03:30:16] *** Quits: sarandom (~sarandom@gateway/tor-sasl/sarandom) (Remote host closed the connection)
[03:30:55] *** Joins: sarandom (~sarandom@gateway/tor-sasl/sarandom)
[03:33:01] *** Quits: bewees (~bewees@user/bewees) (Quit: Leaving)
[03:42:17] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 240 seconds)
[03:45:07] *** Quits: filename (~kilitary@185.193.143.131) (Ping timeout: 272 seconds)
[03:45:22] *** Joins: harpia (~harpia@2804:fc:8d49:1000:da73:f433:48dd:31be)
[03:47:28] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[03:55:52] *** Quits: freeworld (~vit@chello085216193138.chello.sk) (Ping timeout: 272 seconds)
[03:56:15] *** Joins: ferdna (~ferdna@user/ferdna)
[04:28:05] *** Quits: sfields (~sfields@2605:a601:adea:7a00:cc70:40a7:c352:463e) (Remote host closed the connection)
[04:28:27] *** Joins: filename (~kilitary@185.193.143.131)
[04:28:29] *** Joins: sfields (~sfields@2605:a601:adea:7a00:8850:ca55:81b:20fd)
[04:32:34] *** Quits: sfields (~sfields@2605:a601:adea:7a00:8850:ca55:81b:20fd) (Remote host closed the connection)
[04:39:23] *** Quits: ms49434 (~ms49434@user/ms49434) (Quit: Leaving)
[04:43:23] *** Quits: filename (~kilitary@185.193.143.131) (Ping timeout: 272 seconds)
[05:12:10] *** Joins: filename (~kilitary@kilitary.xyz)
[05:13:43] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[05:15:13] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[05:20:33] *** Quits: doubleplusuncool (~doubleplu@user/doubleplusuncool) (Quit: Lost terminal)
[05:26:21] *** Quits: harpia (~harpia@2804:fc:8d49:1000:da73:f433:48dd:31be) (Quit: harpia)
[05:26:36] *** Joins: harpia (~harpia@187.49.85.200)
[05:28:37] *** Quits: harpia (~harpia@187.49.85.200) (Client Quit)
[05:28:58] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 272 seconds)
[05:30:49] *** Joins: B3k (~B3k@b3k.pl)
[05:32:01] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:34:52] *** Joins: vlm (~vlm@user/vlm)
[05:41:13] *** Joins: harpia (~harpia@2804:fc:8d49:1000:b62e:99ff:fee9:cc51)
[05:54:07] *** Joins: jamesmartinez (~pepsi@2a02:4780:1:1::1:a856)
[05:57:46] *** Joins: filename (~kilitary@kilitary.xyz)
[06:04:59] *** Quits: lord_daemon (~lord_daem@187.36.203.244) (Read error: Connection reset by peer)
[06:08:48] *** Joins: lord_daemon (~lord_daem@187.36.203.244)
[06:20:19] *** Quits: oztunan (~oztunan@oztunan.org) (Quit: In the morning!)
[06:21:18] *** Joins: oztunan (~oztunan@oztunan.org)
[06:30:51] *** Quits: sarandom (~sarandom@gateway/tor-sasl/sarandom) (Quit: WeeChat 2.3)
[06:34:56] *** Quits: Dr-007 (~Dr-007@92-108-90-26.cable.dynamic.v4.ziggo.nl) (Remote host closed the connection)
[06:42:55] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[06:53:11] *** Quits: harpia (~harpia@2804:fc:8d49:1000:b62e:99ff:fee9:cc51) (Quit: harpia)
[07:09:07] *** Joins: filename (~kilitary@kilitary.xyz)
[07:13:58] *** Joins: Rockwood (~Rocky@user/rocky)
[07:40:50] *** Quits: newwebdev13 (~newwebdev@78.135.91.153) (Quit: Leaving)
[07:58:52] *** Quits: onichomp (~onichomp@2806:264:4408:12a:f498:a927:1536:8581) (Read error: Connection reset by peer)
[07:59:29] *** Joins: onichomp (~onichomp@2806:264:4408:12a:f498:a927:1536:8581)
[08:07:18] *** Quits: d3sync (~d3sync@193.92.209.51.dsl.dyn.forthnet.gr) (Ping timeout: 252 seconds)
[08:10:07] *** Joins: d3sync (~d3sync@212.251.16.252.dsl.dyn.forthnet.gr)
[08:28:54] <Rockwood> what is the name php channel on discord?
[08:31:03] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[08:38:02] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[08:40:23] *** Joins: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de)
[08:45:18] *** Quits: bkkk (~bkkk@dslb-088-070-030-097.088.070.pools.vodafone-ip.de) (Ping timeout: 272 seconds)
[08:46:05] *** Joins: filename (~kilitary@kilitary.xyz)
[09:11:26] *** Quits: ham5 (~iamfive@user/ham5) (Read error: Connection reset by peer)
[09:11:45] *** Joins: ham5 (iamfive@user/ham5)
[09:20:27] *** Joins: mr_gant (~mr_gant@144.48.37.132)
[09:50:42] <Rockwood> any active?
[09:51:02] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[09:51:10] <Rockwood> if (! $token && $header = $request->header('X-XSRF-TOKEN')) {  its mean (not && not)??
[09:51:37] <Rockwood> i wanna oops 3v is good for this
[09:53:30] <Rockwood> https://3v4l.org/HFPbZ
[09:53:41] <Rockwood> yeah its that is
[09:54:15] *** Joins: guido (~weechat@host-87-11-12-246.retail.telecomitalia.it)
[10:15:32] *** Joins: inoas (~ionas@ip-037-201-194-167.um10.pools.vodafone-ip.de)
[10:16:19] *** Joins: Junxter (~Junxter@222.95.164.193)
[10:22:54] *** Quits: tercaL (~tercaL@user/tercal) (Quit: enter the Tekken!)
[10:29:30] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Remote host closed the connection)
[10:29:55] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[10:32:02] *** Joins: filename (~kilitary@kilitary.xyz)
[10:34:52] *** Joins: myq (~user@c-73-67-223-145.hsd1.or.comcast.net)
[10:43:25] *** Joins: Northwoods (~Northwood@202.14.122.68)
[10:47:15] *** Quits: Northwoods (~Northwood@202.14.122.68) (Client Quit)
[10:49:22] <mishehu> at work we have a rather important script that gets called up sometimes 1000's of times per minute, but it's currently written the "standard" way and handled by apache httpd via mod_php.  as the script queries the database every time it runs, I'd rather have it simply run for a long time, keeping those db connections open and those prep statements in a prepared state for reuse.  what would be the preferred
[10:49:28] <mishehu> method to implement this in php 7.4+ ?
[10:56:49] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[11:01:27] <Blondie101010> a job queue would allow that
[11:01:51] <Blondie101010> but it's likely premature micro-optimization
[11:02:58] <mishehu> that it may be, because I'm not even at the point where I have a long running "daemon like" script.
[11:04:54] <mishehu> (I am presuming that would be necessary to keep all those prepared statements prepared through multiple http queries)
[11:09:46] <Blondie101010> why does that script get called 1000 times a minute?
[11:10:28] <Blondie101010> is it simply regular requests?
[11:11:30] <mishehu> Blondie101010: call comes into the VoIP server, and the VoIP server app then queries the php script over http to get the call handling instructions for that specific call.
[11:12:14] <Blondie101010> how long does the script currently take to run?
[11:12:53] <Blondie101010> I'd test it with and without load to get a good idea
[11:13:40] <mishehu> well, we have a 2 second timeout on the VoIP server side, so it's def less than 2 seconds.  My educated guess is on the order of 250-500 ms when under load.
[11:14:17] <mishehu> the script has to be totally rewritten anyway, since it was originally written with mysql_ api, and we want to move it to PDO so we can be more db agnostic.
[11:15:30] <Blondie101010> that doesn't answer the question
[11:15:45] <Blondie101010> does it take 10ms or 2 minutes?
[11:15:54] <Blondie101010> it makes a huge difference in the solution
[11:18:41] <Blondie101010> tbh, having a prepared query on a preconnected DB handle won't save you more than 10ms
[11:18:44] <mishehu> 2 minutes is allotted for the query to return something, and if that timer expires, the call gets dropped in error.  the 250-500 ms execution time of the script when that server is under load is more like what we see.
[11:18:49] <Blondie101010> not for this
[11:18:56] <Blondie101010> if it were to run in a loop, sure
[11:19:29] <Blondie101010> ok so your script takes too long
[11:19:37] <Blondie101010> now what is taking long?
[11:19:47] <mishehu> that is true, but 10 ms can add up when there's 100's of calls per second coming in.  but the bigger issue is the mysql_connect() that happens on ever run of the script.  that, as I understand, is costlier.
[11:19:48] <Blondie101010> is it exclusively the queries?
[11:20:06] <Blondie101010> I just think you could be focusing on the wrong thing
[11:21:15] <mishehu> nah, I'm pretty sure I'm not.  it's highly repetitive in the queries that are performed.  whole thing needs to be rewritten from scratch.  I even considered doing it in c or c++, but I think the boss would be against that just because it's too large of a change.
[11:21:30] <Blondie101010> what takes time?
[11:21:31] *** Quits: filename (~kilitary@kilitary.xyz) (Ping timeout: 256 seconds)
[11:21:57] <Blondie101010> 2 minutes vs the 10s prepare time proves that's NOT the bottleneck
[11:22:14] <Blondie101010> *10ms
[11:22:20] <mishehu> calling up mysql_connect() every time that script runs is among the costlier calls.
[11:22:28] <Blondie101010> what takes 2 minutes?
[11:23:01] <Blondie101010> finding that is called "profiling", btw
[11:23:17] <Rockwood> websocket isn't good idea for this thing?
[11:23:38] <Blondie101010> perhaps but it's unclear what the real problem is
[11:24:02] <Blondie101010> you don't try to save less than 1s when the script is close to its 2 minute limit
[11:24:02] <Rockwood> mishehu, make sure you have to clear reason for everything
[11:24:04] <Blondie101010> come on!
[11:24:06] <mishehu> 2 seconds.  sorry I meant seconds.  2 seconds is allowed from when the call hits the VoIP server until it gets a response from apache httpd from the php script, otherwise we have to drop the call.  I cannot go into further details about this script, I'm highly confident in my design that having it be running for a long time to handle call after call after call would be ultimately more efficient.
[11:24:09] <Blondie101010> that's ridiculous
[11:24:14] <Blondie101010> ahhh
[11:24:29] <Blondie101010> ok 2s changes the perspective a lot
[11:25:03] <mishehu> yeah, our customers get pissy if their calls aren't routed in a timely fashioni
[11:25:05] <Blondie101010> but however you do it, you'll still need to connect somewhere
[11:25:19] <Blondie101010> you should still find out exactly what takes most of the 2s
[11:25:44] <Rockwood> me too facing issue in package
[11:26:00] <Rockwood> csrf not matching issue from api
[11:26:11] <mishehu> sure, but 1 connect for a scripit running, let's say, 24 hours, is a lot cheaper than connecting to db's (it's multiple db servers in fact) 1000's of times in a minute.
[11:26:47] <Naktibalda> have you discussed using persistent connections?
[11:27:00] <Blondie101010> no, not yet mentioned
[11:27:15] <Blondie101010> but I'd bet it won't be noticeable
[11:28:06] <Naktibalda> the main downside with mod_php was that mysql connection could be tied up to process that is serving static resources too.
[11:28:30] <mishehu> I'd have to poke into the php.ini, I don't recall.  but the point remains:  we're stuck on php 5.6 with the script because it's using legacy mysql api.
[11:28:58] <Blondie101010> moving to a supported PHP version with PDO is definitely the right approach
[11:29:30] <Blondie101010> and you could actually get a significant performance increase just by doing that
[11:29:49] <mishehu> yep.  and if I'm goign to gut it out in the way it needs to be gutted out, I figure doing this might be a bit better.  sure, php-fpm is an option too.
[11:30:31] <mishehu> but before I make the determination, I've never written a long running php script that runs in an apache httpd context.  (I got them running under systemd for system management or data analysis)
[11:30:37] <Blondie101010> are you the programmer or sysadmin here?
[11:31:08] <mishehu> mostly the programmer.  I do have some ancillary sysadmin tasks at time.
[11:31:10] <mishehu> times.
[11:31:23] <Blondie101010> hmm ok
[11:32:02] <mishehu> we're a small company so the 5 of us wear a couple hats every day :-)
[11:34:54] <mishehu> but before I make a decision on the direction to go, I need to weigh the options.  and as I said, haven't written a long-running php script that runs in an apache httpd context before, so I don't know what is involved in that.
[11:36:09] <Blondie101010> no that would not be an option described that way :)
[11:36:40] <Blondie101010> you either run a socket server or a job queue
[11:37:22] <mishehu> or run it as a standard php web script executed either by mod_php or php-fpm
[11:37:47] <mishehu> ok.  you have answered the question of "how do you do that" by telling me "you don't do that" hahaha
[11:37:48] <Blondie101010> definitely
[11:38:33] <Blondie101010> if your code is minimally structured, you just write it linear and move it to a service if it becomes a requirement
[11:39:58] <Blondie101010> but again you should start by finding out EXACTLY what takes the most time
[11:40:42] <Blondie101010> it's likely the queries themselves, but either way, the part you find that's slow should be what you focus on
[11:40:47] *** Quits: inoas (~ionas@ip-037-201-194-167.um10.pools.vodafone-ip.de) (Quit: Leaving...)
[11:41:48] <Rockwood> bye cya '
[11:41:51] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[11:42:10] <mishehu> well the queries are themselves optimized, but we connect to between 2 and 3 separate database servers on every call.  the transition to PDO will allow us to also switch from mysql to postgres instead, and the goal is then to reduce that to between 1 and 2 server connections in that case.
[11:42:51] <Naktibalda> isn't mysql had to beat on connection time?
[11:42:55] <Naktibalda> hard ^
[11:44:46] <mishehu> I don't know about that - haven't measured it or looked it up recently to compare the two.  but mysql isn't all it's cracked up to be.
[11:45:59] <Naktibalda> because it is catching up with postgres :)
[11:47:01] <mishehu> if you want a query to match on, say, a DNIS (the destination phone number), in MySQL you'd have to do one of two things:  do a string comparison match, or convert it to some sort of an integer (probably would require bigint).  postgres has GIS indexing, that can reduce the query execution on the same string input.
[11:47:51] <Naktibalda> mysql has indexes too
[11:48:33] <mishehu> that's like saying cars and bicycles are the same because both have wheels.
[11:48:36] *** Quits: wolfshappen (~waff@irc.furworks.de) (Ping timeout: 240 seconds)
[11:49:08] <Naktibalda> are you sure that the GIS is? how does it relate to phone numbers?
[11:49:10] <mishehu> both have index types, but they don't necessarily have the same TYPES of index types between them.
[11:49:17] *** Joins: wolfshappen (~waff@irc.furworks.de)
[11:49:26] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[11:49:51] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 256 seconds)
[11:49:52] <mishehu> phone numbers can be treated like map cells.
[11:49:55] <mishehu> think about it.
[11:50:15] <Naktibalda> do some benchmarking before you migrate
[11:50:25] <mishehu> I assure you, we have.
[12:01:26] *** Joins: freeworld (~vit@chello085216193138.chello.sk)
[12:04:10] *** Joins: hh (~g@37.214.44.190)
[12:11:43] *** Joins: inoas (~ionas@ip-037-201-194-167.um10.pools.vodafone-ip.de)
[12:13:46] *** Quits: inoas (~ionas@ip-037-201-194-167.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[12:26:49] *** Quits: Tempesta (~Tempesta@user/tempesta) (Quit: See ya!)
[12:28:01] *** Joins: LucaTM (~LucaTM@user/lucatm)
[12:31:06] *** Joins: Tempesta (~Tempesta@user/tempesta)
[12:43:24] *** Quits: onichomp (~onichomp@2806:264:4408:12a:f498:a927:1536:8581) (Read error: Connection reset by peer)
[12:44:03] *** Joins: onichomp (~onichomp@2806:264:4408:12a:f498:a927:1536:8581)
[12:44:24] *** Quits: onichomp (~onichomp@2806:264:4408:12a:f498:a927:1536:8581) (Read error: Connection reset by peer)
[12:45:03] *** Joins: onichomp (~onichomp@2806:264:4408:12a:f498:a927:1536:8581)
[12:53:49] *** Quits: onichomp (~onichomp@2806:264:4408:12a:f498:a927:1536:8581) (Quit: onichomp)
[13:06:18] *** Joins: inoas (~ionas@ip-037-201-194-167.um10.pools.vodafone-ip.de)
[13:07:49] *** Joins: pycode (~pycode3@2001:b07:5d28:551:1fe6:b677:2755:3dbd)
[13:20:39] *** shinbeth is now known as shinbet
[13:28:43] *** Joins: ms49434 (~ms49434@user/ms49434)
[13:32:21] <shinbet> mishehu, must you be annoying on every channel ?
[13:32:55] <mishehu> shinbet: I do my best.
[13:39:13] *** Quits: myq (~user@c-73-67-223-145.hsd1.or.comcast.net) (Ping timeout: 256 seconds)
[13:42:36] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[13:51:12] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 272 seconds)
[14:19:30] *** Joins: ProfSimm (~ProfSimm@176-12-60-137.pon.spectrumnet.bg)
[14:23:56] *** Joins: magla (~gelignite@55d46ecf.access.ecotel.net)
[14:34:18] *** Joins: filename (~kilitary@kilitary.xyz)
[15:00:05] *** Quits: remolej (~kenoba@user/kenoba) (Quit: The Lounge - https://thelounge.chat)
[15:00:48] *** Joins: remolej (~kenoba@user/kenoba)
[15:21:02] *** Quits: pycode (~pycode3@2001:b07:5d28:551:1fe6:b677:2755:3dbd) (Ping timeout: 260 seconds)
[15:37:18] *** Reinhilde is now known as AmyMalik
[15:38:07] *** Quits: ProfSimm (~ProfSimm@176-12-60-137.pon.spectrumnet.bg) (Remote host closed the connection)
[15:38:09] *** Quits: Warped (~Warped@user/warped) (Quit: We Gone! Bye Bye)
[15:40:46] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Ping timeout: 256 seconds)
[15:44:13] *** Quits: LuKaRo (~LuKaRo@p200300dfa72f4b9400000000000001f9.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[15:45:35] *** Joins: LuKaRo_ (~LuKaRo@p4fc3264a.dip0.t-ipconnect.de)
[16:18:40] *** Quits: inoas (~ionas@ip-037-201-194-167.um10.pools.vodafone-ip.de) (Quit: Leaving...)
[16:30:10] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[16:30:45] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:edd4:c3b9:5c9d:f319)
[16:34:57] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:edd4:c3b9:5c9d:f319) (Ping timeout: 240 seconds)
[16:37:09] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Ping timeout: 272 seconds)
[16:49:37] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[16:52:37] *** Joins: Hiccup (cHoy@user/hiccup)
[16:55:30] *** Joins: MetroConductor (~MetroCond@user/MetroConductor)
[16:58:25] *** Joins: ProfSimm (~ProfSimm@176-12-60-137.pon.spectrumnet.bg)
[17:12:04] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[17:12:51] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 256 seconds)
[17:14:28] *** Quits: ProfSimm (~ProfSimm@176-12-60-137.pon.spectrumnet.bg) (Remote host closed the connection)
[17:14:47] *** Joins: ProfSimm (~ProfSimm@176-12-60-137.pon.spectrumnet.bg)
[17:15:18] *** Quits: Hiccup (cHoy@user/hiccup) (Ping timeout: 250 seconds)
[17:16:32] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Quit: elastic_dog)
[17:17:00] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[17:19:05] *** Quits: ProfSimm (~ProfSimm@176-12-60-137.pon.spectrumnet.bg) (Ping timeout: 256 seconds)
[17:22:08] *** Joins: ProfSimm (~ProfSimm@176-12-60-137.pon.spectrumnet.bg)
[17:26:33] *** Joins: tercaL (~tercaL@user/tercal)
[17:26:42] *** Joins: thiras (~thiras@user/thiras)
[17:28:46] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[17:30:02] *** Quits: ProfSimm (~ProfSimm@176-12-60-137.pon.spectrumnet.bg) (Remote host closed the connection)
[17:30:20] *** Joins: ProfSimm (~ProfSimm@176-12-60-137.pon.spectrumnet.bg)
[17:33:46] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[17:34:57] *** Quits: ProfSimm (~ProfSimm@176-12-60-137.pon.spectrumnet.bg) (Remote host closed the connection)
[17:40:56] *** Joins: newwebdev13 (~newwebdev@78.135.91.153)
[17:51:52] *** Quits: lembron (~admin@user/lembron) (Remote host closed the connection)
[18:04:36] *** Quits: guido (~weechat@host-87-11-12-246.retail.telecomitalia.it) (Ping timeout: 240 seconds)
[18:07:33] *** Joins: guido (~weechat@host-87-10-17-140.retail.telecomitalia.it)
[18:10:59] *** Quits: Inspiral (~inspiral@user/inspiral) (Ping timeout: 256 seconds)
[18:11:24] *** Quits: newwebdev13 (~newwebdev@78.135.91.153) (Read error: Connection reset by peer)
[18:11:38] *** Joins: newwebdev13 (~newwebdev@78.135.91.153)
[18:22:21] *** Joins: bodiccea_ (~bodiccea@user/bodiccea)
[18:24:57] *** Quits: bodiccea (~bodiccea@user/bodiccea) (Ping timeout: 252 seconds)
[18:29:04] *** Quits: Junxter (~Junxter@222.95.164.193) (Quit: Leaving)
[18:29:21] *** Joins: Junxter (~Junxter@222.95.164.193)
[18:30:46] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 256 seconds)
[18:31:07] *** Quits: Junxter (~Junxter@222.95.164.193) (Remote host closed the connection)
[18:31:31] *** Joins: Junxter (~Junxter@222.95.164.193)
[18:32:29] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[18:53:37] *** Joins: sumthing1980 (~sumthing1@94.54.64.154)
[18:54:34] *** Joins: OnkelTem (~OnkelTem@user/onkeltem)
[19:24:49] *** Joins: Rockwood (~Rocky@user/rocky)
[19:28:57] *** Quits: Rockwood (~Rocky@user/rocky) (Ping timeout: 240 seconds)
[19:31:27] *** Joins: harpia (~harpia@2804:fc:8d49:1000:b62e:99ff:fee9:cc51)
[19:32:03] *** Quits: harpia (~harpia@2804:fc:8d49:1000:b62e:99ff:fee9:cc51) (Client Quit)
[19:32:23] *** Joins: harpia (~harpia@2804:fc:8d49:1000:b62e:99ff:fee9:cc51)
[19:33:40] *** Quits: konrados (~konrados@user-94-254-225-58.play-internet.pl) (Remote host closed the connection)
[19:34:06] *** Joins: konrados (~konrados@user-94-254-225-58.play-internet.pl)
[19:41:30] *** Joins: JohnBeales (~JohnBeale@dsl-173-206-19-55.tor.primus.ca)
[19:43:52] *** Joins: Rockwood (~Rocky@user/rocky)
[19:48:07] *** Quits: hh (~g@37.214.44.190) (Ping timeout: 256 seconds)
[19:48:43] *** Joins: filename (~kilitary@kilitary.xyz)
[19:55:00] *** Joins: Rockwood_ (~Rocky@user/rocky)
[19:57:46] *** Quits: Rockwood (~Rocky@user/rocky) (Ping timeout: 260 seconds)
[19:58:30] *** Joins: Rockwood (~Rocky@user/rocky)
[20:01:02] *** Quits: Rockwood_ (~Rocky@user/rocky) (Ping timeout: 260 seconds)
[20:03:33] *** Joins: Rockwood_ (~Rocky@user/rocky)
[20:04:31] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[20:04:37] *** Quits: Rockwood (~Rocky@user/rocky) (Ping timeout: 240 seconds)
[20:08:07] *** Joins: lall- (~alek@2403:6200:8862:eb0e:7177:e1bb:bb0b:69f6)
[20:11:17] *** Quits: Rockwood_ (~Rocky@user/rocky) (Ping timeout: 240 seconds)
[20:11:21] *** Joins: filename (~kilitary@kilitary.xyz)
[20:15:35] *** Quits: JohnBeales (~JohnBeale@dsl-173-206-19-55.tor.primus.ca) (Read error: Connection reset by peer)
[20:16:00] *** Joins: Rockwood (~Rocky@user/rocky)
[20:27:01] *** Joins: Warped (~Warped@user/warped)
[20:37:06] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[20:37:37] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[20:38:55] *** Quits: gxt (~gxt@gateway/tor-sasl/gxt) (Ping timeout: 240 seconds)
[20:39:15] *** Quits: de-facto (~de-facto@user/de-facto) (Ping timeout: 240 seconds)
[20:41:30] *** Joins: PTNapivoski (~PTNapivos@2804:60:15d:fd00:a826:bcbb:bcec:7bab)
[20:45:36] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[20:54:02] *** Joins: de-facto (~de-facto@user/de-facto)
[20:56:30] *** Joins: gxt (~gxt@gateway/tor-sasl/gxt)
[20:58:39] *** Joins: filename (~kilitary@kilitary.xyz)
[21:00:11] *** Quits: tercaL (~tercaL@user/tercal) (Quit: halt -p)
[21:00:29] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[21:07:34] *** Joins: filename (~kilitary@kilitary.xyz)
[21:07:53] *** Joins: jeffrey (~jeffrey@217-120-53-119.cable.dynamic.v4.ziggo.nl)
[21:24:26] *** Quits: sumthing1980 (~sumthing1@94.54.64.154) (Quit: Leaving)
[21:34:22] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Ping timeout: 256 seconds)
[22:11:48] *** Quits: jeffrey (~jeffrey@217-120-53-119.cable.dynamic.v4.ziggo.nl) (Ping timeout: 240 seconds)
[22:15:20] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[22:19:17] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[22:19:52] *** Joins: onichomp (~onichomp@2806:264:4408:1f2:5550:1ec2:7947:17fa)
[22:20:41] *** Quits: onichomp (~onichomp@2806:264:4408:1f2:5550:1ec2:7947:17fa) (Read error: Connection reset by peer)
[22:21:04] *** Joins: varrg (~varrg@h-176-10-198-245.A351.priv.bahnhof.se)
[22:22:29] *** Joins: onichomp (~onichomp@2806:264:4408:1f2:5550:1ec2:7947:17fa)
[22:26:21] *** Quits: harpia (~harpia@2804:fc:8d49:1000:b62e:99ff:fee9:cc51) (Quit: harpia)
[22:28:32] *** Quits: epony (epony@user/epony) (Ping timeout: 240 seconds)
[22:31:34] *** Quits: shinbet (~shinbet@user/shinbet) (Remote host closed the connection)
[22:31:50] *** Joins: shinbet (~shinbet@user/shinbet)
[22:34:31] *** Joins: epony (epony@user/epony)
[22:36:59] *** Quits: Junxter (~Junxter@222.95.164.193) (Read error: Connection reset by peer)
[22:37:22] *** Joins: Junxter (~Junxter@222.95.164.193)
[23:02:24] *** Joins: Lebela (~Lebela@85.187.219.215)
[23:02:28] <Lebela> hello & help!
[23:03:00] <Lebela> my PHP script is behaving weirdly... a variable gets assigned a new value every time the script loops through the loop
[23:03:07] <Lebela> but, the old value still gets remembered somehow
[23:03:09] <Lebela> https://dpaste.org/3nVs
[23:03:29] <Lebela> I get the very same length of the videos each time,  even though the length differs
[23:03:40] <Lebela> there are 3 test videos in my directory
[23:05:43] <__adrian> after line :10,  var_dump($foo);
[23:06:59] <Lebela> oh dear
[23:07:02] <Lebela> I see the problem
[23:07:09] <Lebela> __adrian, can I avoid that?
[23:07:32] <__adrian> https://php.net/function.exec ← read "Parameters: output"   your assumption "a variable gets assigned a new value every time the script loops" is not correct. the new values are _appended_.
[23:07:46] <__adrian> of course - pass an empty array as $foo each time.
[23:08:11] <__adrian> $foo = []; exec(..., $foo);
[23:08:34] <Lebela> $foo = []  deletes the entire array?!
[23:08:42] <Lebela> I thought that would append a new, empty element
[23:08:42] <__adrian> it assigns a new (empty) array
[23:08:48] <Lebela> thank you __adrian
[23:08:55] <Lebela> you are a such an angel!
[23:08:58] <__adrian> why would you think that?  https://php.net/array
[23:09:14] <__adrian> you might be thinking of  $array[] = something
[23:09:23] <__adrian> welcome
[23:09:32] <Lebela> yes, that's where the confusion came from
[23:09:48] <Lebela> There is one more thing I wanted to ask:
[23:10:09] <Lebela> I like coding in PHP,  but I am, forgive me, kind of a "spaghetti code" kind of person.
[23:10:24] <__adrian> i don't see how those two are related, but ok
[23:10:26] <Lebela> So, I don't feel like using a fance Model-Viewer-Controller based Framework
[23:10:30] <__adrian> don't
[23:10:32] <Lebela> they're not related at all
[23:10:37] <Lebela> but you seem to know a lot :)
[23:11:16] <Lebela> So, I was thinking about my PHP code, and figured, I only have 2 problems:
[23:11:28] <Lebela> a) making sure, the logins / user sessions are really secure
[23:11:51] <Lebela> b) checking user input of all sorts  (validating but also making sure nobody injects malicious stuff into my DB)
[23:12:13] <Lebela> I am doing "okay" when it comes to coding PHP.... I am _not_ good,  but "okay"
[23:12:21] <Lebela> however, these 2 things, I can't.
[23:12:30] <Lebela> What do you suggest _without_ making me use a Framework?
[23:12:54] <Lebela> all these frameworks don't look like PHP any more, their logic is totally different and "weird" to me
[23:13:31] <__adrian> sorry, when you said you were "a "spaghetti code" kind of person" i assumed that was the problem you wanted to solve. how do you make large/complicated/secure systems with spaghetti code?  Answer: you DON'T.
[23:13:56] <__adrian> you write your code in a more organized way instead.
[23:14:44] <Lebela> I am using templates,  have my functions separate, and keep the logic away from the output
[23:14:58] <__adrian> then you're partway there
[23:15:01] <Lebela> but, I am not using frameworks (yet).  Is my only way forward a framework?
[23:15:15] <__adrian> now, don't look for "MVC" specifically, but you should absolutely be looking at libraries and frameworks and how large apps are designed
[23:15:43] <__adrian> note, plural, on all counts.
[23:15:50] <__adrian> don't pick one and ignore everything else.
[23:16:24] <Lebela> Could you suggest something I should start with?
[23:16:30] <Lebela> Laravel scared me a bit
[23:16:46] <Lebela> no, I take it back.  It did not scare me a bit.  It scared me big times!
[23:17:20] <__adrian> especially for complex/nuanced/critical components (like user auth), definitely don't roll your own to learn. you won't learn much/well that way. look at the industry-accepted ways these problems are solved.
[23:17:38] <void09> Anyone know what's the best consumer CPU for latest php ?
[23:17:52] <Lebela> thank you, __adrian
[23:17:56] <__adrian> don't be scared. programming has many big, complex topics, but take it slow and learn how to learn.
[23:17:59] <__adrian> welcome.
[23:18:14] <Lebela> You are such a nice person!  Thank you!
[23:18:18] <__adrian> void09: that's not really on topic here and depends more on the application you're making than the language you choose
[23:18:19] <Lebela> I wish you all the best!
[23:18:23] <__adrian> thanks
[23:18:25] *** Quits: Lebela (~Lebela@85.187.219.215) (Quit: Leaving)
[23:18:26] <__adrian> you too
[23:18:41] *** Joins: Azrael_- (~aweoi@51.154.62.124)
[23:18:43] <Azrael_-> hi
[23:18:52] <void09> __adrian: I just want to self host a woocommerce instance that will get hit hard, I wanna get something that can go a long way
[23:19:32] <__adrian> in general, web applications tend to favor fast cores. and more cores = more concurrency
[23:19:48] <void09> I found this : https://openbenchmarking.org/test/pts/phpbench&eval=946f5e0360cf178c425ab9080de3597a148b632b#metrics
[23:19:52] <__adrian> but also note "self-host woo" is not a decision to take lightly  ;)
[23:19:55] <void09> but it's missing some important cpus like ryzen 5950x
[23:20:25] <__adrian> ...why would you want to put a "woocommerce instance that will get hit hard" on _desktop_ hardware?
[23:20:31] <void09> __adrian: I evaluated all the possible solutions and this is the most practical/economical one. I got cheap power and fast internets
[23:20:44] <__adrian> heh. ok
[23:21:12] <void09> __adrian: I've been running servers on random PCs, on archlinux, for years.. no issues except the occasional hdd fault that is to be expected
[23:21:26] <Azrael_-> i've got a small problem. i've written a billing program and everything worked just fine for some time. until now i've shown the prices of every article including taxes and calculated everything according to it (everything rounded to two digits). now the customer wants the billing program to show the article prices without taxes. now this changes the calculation of the bill by a few cents which
[23:21:26] <Azrael_-> isn't acceptable for the existing bills. any suggestions how i could cope this best?
[23:21:31] <void09> but of course I'll be running this on nvme raid, not a hdd
[23:21:49] <__adrian> seems silly to me, but your choice.
[23:21:51] <__adrian> bbl
[23:24:01] <void09> dedicated hosting is expensive, and you can't really custom build it to your desire
[23:27:24] <Nekomander> Hello.
[23:29:57] <shinbet> mishehu, maybe we should continue here if so, someone might get angry about offtopic there
[23:31:23] <mishehu> shinbet: well in the other channel we're not too strict about being off-topic.  but yes, when you get to try / catch blocks, they may be a little weird to you.  but overall, they are FAR less of a headache for error handling than constantly having to check immediate return values from function calls.
[23:35:28] <shinbet> mishehu, https://github.com/kabalas2/il6_php_basics/blob/master/oop/app/code/Helper/DBHelper.php
[23:35:36] <shinbet> $this->conn->setAttribute(\PDO::ATTR_ERRMODE, \PDO::ERRMODE_EXCEPTION);
[23:35:46] <shinbet> they are touching that PDO you mentioned
[23:38:44] <mishehu> shinbet: just so you know - I don't recommend ever using that DBHelper class in production code.
[23:38:54] <mishehu> only use for a learning tool.
[23:39:38] *** Quits: akspecs (00cc8321af@sourcehut/user/akspecs) (Ping timeout: 250 seconds)
[23:39:41] <shinbet> oh no thats pure for learning purposes demonstration, he said he will teach us how to write proper code later, currently hes teaching how to write code that works
[23:41:16] *** Joins: akspecs (00cc8321af@sourcehut/user/akspecs)
[23:43:19] <shinbet> mishehu, my current code is turning this dysfunctional idea into class, that would take RSS feed, extract and store URLs and thats it, https://dpaste.com/BYK2UTF4T
[23:43:40] <shinbet> so writing to files was bad idea gonna do this to use database
[23:44:08] <shinbet> as I want to make myself RSS crawler and article scrapper that send me news text that I want to something like telegram
[23:45:58] <shinbet> I've done similar bot in trashy procedural manner that is working for a month now, business intelligence one, but wasnt for me
[23:53:16] *** Joins: myq (~user@c-73-67-223-145.hsd1.or.comcast.net)
[23:54:49] <shinbet> nite
[23:55:18] *** Quits: shinbet (~shinbet@user/shinbet) (Remote host closed the connection)
[23:55:36] <__adrian> "shinbet> oh no thats pure for learning purposes demonstration, he said he will teach us how to write proper code later, currently hes teaching how to write code that works"
[23:55:50] <__adrian> just for anyone who was listening, that's complete BS, go find a different teacher  ;)
[23:56:31] <__adrian> there's lots of reasons that class is "improper," most of which involve "not working well"
[23:58:23] <__adrian> void09:  * i didn't suggest dedicated hosting (though i assumed that's what you'd be looking at)  * "expensive" is a relative thing  * "can't custom build" is just not true
[23:59:05] <__adrian> but even if you were rolling your own home-hosting (ignoring other problems with that), i'd buy server hardware long before i bought nvme drives
[23:59:13] <void09> well, when you have $8 gbit internets.. and much hardware available already..
[23:59:49] <__adrian> "available already" might be a thing. but sounded more like you're choosing things to buy.
