[00:02:00] *** Quits: imp (~imp@192-141-191-234.alternativaip.net.br) (Ping timeout: 256 seconds)
[00:07:16] *** Joins: imp (~imp@192-141-191-233.alternativaip.net.br)
[00:14:37] *** Joins: BenjiProd (~BenjiProd@user/benjiprod)
[00:16:55] *** Quits: Mikaela- (~mikaela-@Feneas/Mikaela-) (Ping timeout: 268 seconds)
[00:17:01] *** Quits: imp (~imp@192-141-191-233.alternativaip.net.br) (Ping timeout: 240 seconds)
[00:17:32] *** Quits: inductiveload (~inductive@user/inductiveload) (Ping timeout: 240 seconds)
[00:17:47] *** Quits: louis-lau (~louis-lau@2001:470:69fc:105::d9c9) (Ping timeout: 260 seconds)
[00:18:22] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:19:02] *** Quits: sn3w[m] (~sn3w@2001:470:69fc:105::1:2d0b) (Ping timeout: 240 seconds)
[00:19:05] *** Quits: cparker[m] (~cparker@2001:470:69fc:105::1973) (Ping timeout: 250 seconds)
[00:19:19] *** Quits: DX099 (~dx099@2001:470:69fc:105::21ce) (Ping timeout: 250 seconds)
[00:19:28] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[00:19:49] *** Quits: boris[m] (~borisruna@2001:470:69fc:105::32f3) (Ping timeout: 240 seconds)
[00:20:02] *** Quits: isabellafan2offi (~isabellaf@2001:470:69fc:105::1:432e) (Ping timeout: 240 seconds)
[00:21:23] *** Quits: Windy (~windy@user/windy) (Quit: stay fresh cheese bags)
[00:21:51] *** Quits: repo[m] (~repo@user/repo) (Ping timeout: 268 seconds)
[00:21:51] *** Quits: merit (~merit@2001:470:69fc:105::5ae) (Ping timeout: 268 seconds)
[00:24:12] *** Quits: lithium (~lithium@user/lithium) (Quit: Textual IRC Client: www.textualapp.com)
[00:26:02] *** Joins: repo[m] (~repo@user/repo)
[00:28:42] *** Joins: merit (~merit@2001:470:69fc:105::5ae)
[00:28:54] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[00:30:08] *** Quits: BtbN (btbn@ffmpeg/developer/btbn) (Remote host closed the connection)
[00:30:49] *** Joins: Thete (~thete@user/thete)
[00:30:52] *** Parts: Thete (~thete@user/thete) ()
[00:33:34] *** Joins: BtbN (btbn@ffmpeg/developer/btbn)
[00:34:58] *** Joins: boris[m] (~borisruna@2001:470:69fc:105::32f3)
[00:40:48] *** Joins: hackers (~remote@user/hackers)
[00:41:08] *** Joins: Mikaela- (~mikaela-@Feneas/Mikaela-)
[00:42:45] *** Joins: Ryu945 (Ryu945@gateway/vpn/protonvpn/ryu945)
[00:43:06] *** Quits: jochum_ (~quassel@user/jochum) (Quit: No Ping reply in 180 seconds.)
[00:44:31] *** Joins: jochum (~quassel@user/jochum)
[00:45:52] *** Joins: imp (~imp@192-141-191-232.alternativaip.net.br)
[00:48:12] *** Quits: jarthur (~jarthur@cpe-70-114-198-37.austin.res.rr.com) (Read error: Connection reset by peer)
[00:48:27] *** Joins: louis-lau (~louis-lau@2001:470:69fc:105::d9c9)
[00:49:50] *** Joins: inductiveload (~inductive@user/inductiveload)
[00:50:46] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-e987-051e-5e5c-2913.res6.spectrum.com)
[01:04:39] <cluelessperson_> I'm getting manifest unknown trying to pull docker images
[01:04:44] <cluelessperson_> a specific one apparently
[01:04:56] <cluelessperson_> https://hub.docker.com/r/linuxserver/readarr/tags
[01:05:03] <cluelessperson_> there are images though
[01:05:20] <programmerq> what specific image are you pulling?
[01:05:31] <cluelessperson_> oh, there's no latest tag
[01:06:04] <programmerq> that'd do it. if you don't put a tag explicitly, it's equivalent of putting :latest
[01:06:10] <programmerq> that's the only special thing about "latest"
[01:06:16] <cluelessperson_> yeah
[01:06:29] <cluelessperson_> probably just some cicd oversight
[01:08:01] <programmerq> there's no reason to publish :latest if you don't want to (as an image publisher). it forces any users of the image to consider which tag is appropriate.
[01:11:53] <sudomann_> Installing python packages is failing on image openjdk:8-slim-buster with the messages like "protobuf-3.19.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl is not a supported wheel on this platform."
[01:12:02] <bencc1> "docker stats" shows 300 PIDS while "ps -ef" inside the container show only 27 processes
[01:12:11] <bencc1> where are the rest of the processes?
[01:12:17] <sudomann_> Whereas the same steps work fine if i change image to python:3.7-buster
[01:12:33] <sudomann_> Same hardware - how could this be?
[01:13:32] <ada_> wtf is a wheel
[01:14:01] <sudomann_> A convenient archive of a python package for installing without recompiling from source
[01:14:46] <ada_> so, you have 2 images with ostensibly 2 different package sources PLUS python is using its own sources
[01:14:54] <ada_> I don't know of the comparison between the two is valuable
[01:15:21] <ada_> either way, show some work, probably the dockerfile and any commands you ran the build the thing, and the build log output
[01:15:24] <ada_> bencc1: show your work
[01:15:37] <bencc1> ada_: what do you mean?
[01:15:39] <ada_> bencc1: can you pastebin your docker stats output and your ps output together
[01:16:22] *** Joins: jarthur_ (~jarthur@2603-8080-1540-002d-71f8-eb14-0c59-711a.res6.spectrum.com)
[01:16:46] *** Quits: BSaboia (~bsaboia@177.37.198.179) (Quit: This computer has gone to sleep)
[01:17:04] <bencc1> just asking if the PIDS column in docker stats show the currently active processes inside the container
[01:17:12] <bencc1> and if it should much "ps -ef" or "ps aux"
[01:17:33] <programmerq> sudomann_▸ yeah, normally you'd want to have your java stuff in one container, and your python stuff in another-- barring a case where your java code is directly calling python code, or if you're trying to do jython I guess? That protobuf package indicates it's a cypthon extension, which wouldn't be a jython thing. Can you share your usecase a little more too?
[01:17:39] <ada_> bencc1: right, I understand the question;  I'm also asking to see what you saw
[01:18:40] <ada_> when I ps, i ps aux
[01:18:53] *** Quits: sgt_chuckles (~sgt_chuck@pool-71-190-209-205.nycmny.fios.verizon.net) (Quit: Client closed)
[01:18:54] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-e987-051e-5e5c-2913.res6.spectrum.com) (Ping timeout: 260 seconds)
[01:19:16] <ada_> maybe the # of pids that you see has nothing to do with your app, maybe they're leftovers from health check calls since those start a new process in your container
[01:19:44] <ada_> either way, I don't know if a simple answer to "yes, the pids column should show you the # of processes in teh container" is actually going to answer your REAL question which is "why do these numbers disagree"
[01:19:54] *** Joins: BSaboia (~bsaboia@177.37.198.179)
[01:20:39] <ada_> PIDs column counts processes and threads
[01:20:47] <ada_> maybe you're not looking at the right form of "ps" ?
[01:21:23] <sudomann_> https://bpa.st/ZCUA Building on the same hardware, the failing dockerfile shows the message "protobuf-3.19.1-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl is not a supported wheel on this platform.". Such a message suggests I am trying to install a python package which is not supported on my os/hardware. But the hardware is the same machine, and I dont understand what makes the base images 
[01:21:29] <sudomann_> fundamentally different
[01:21:59] <bencc1> ada_: maybe the difference is processes vs threads as you said. I'll check
[01:22:22] <bencc1> in the dockerfile I have CMD, ENTRYPOINT and I'm using docker --init
[01:22:28] <ada_> sudomann_: what part of this dockerfile is installing that package
[01:23:03] <sudomann_> "poetry install"
[01:23:07] <Tach> So if Im right all nodes in a swarm cluster can have the same local subnet ?
[01:23:10] <bencc1> CMD point a python file which has two processes. does it means it run twice?
[01:23:34] <ada_> Tach: I think I answered this earlier
[01:23:47] <programmerq> sudomann_▸ the python image you pointed at is a debian bullseye base. the openjdk image is a debian buster slim base
[01:23:55] <ada_> Tach: this question is complicated
[01:24:08] <programmerq> it doesn't have to do with the hardware, the platform in a python wheel is related to what things are in a given userspace
[01:24:11] <Tach> ada_ no you said something about it cannot overlap the local network, which is for sure
[01:24:20] <Tach> ada_why is it ?
[01:24:21] <ada_> I said a bunch of things about it, I remember typing them
[01:24:26] <ada_> Tach: there are lots of container networks
[01:24:34] <ada_> Tach: there's not a single one
[01:24:35] <programmerq> manylinux2014 is a "platform" that has a small number of explicitly defined components that are present (like a specific version of glibc, for example)
[01:24:55] <ada_> Tach: for swarm scoped networks, the subnet on the docker network *will* be the same across all docker hosts.  docker manages this for you
[01:24:55] <programmerq> so if you try to install a manylinux2014 wheel on a python platform that doesn't meet those requirements, you'll get that type of error
[01:25:03] <ada_> Tach: one network cannot overlap with any other network
[01:25:15] <programmerq> but that still doesn't necessarily explain what is prompting you to install python and python packages into a java language base image?
[01:25:21] *** Joins: sn3w[m] (~sn3w@2001:470:69fc:105::1:2d0b)
[01:25:37] <ada_> Tach: for local scoped networks (bridge driver) a network on host A could have the same subnet as host B without problems, because the scope is local only
[01:25:43] <Tach> ada_ for sure but can I give every node a local subnet like 192.168.10.0/24?
[01:25:58] <Tach> that is what I wanted to know, thanks!
[01:26:35] <Tach> ada_ but any created docker network cannot overlap the local (and swarm) one
[01:26:43] <programmerq> Tach▸ are those local subnets all going to be just regular local subnets? or are you trying to do something like a macvlan or ipvlan with those local scope networks?
[01:26:50] <sudomann_> programmerq: that makes perfect sense, thanks
[01:27:02] *** Quits: walkr (~walkr@177-7-165-171.user3p.brasiltelecom.net.br) (Quit: Leaving)
[01:27:34] <programmerq> I'm guessing that poetry curlpipe install is the step that is failing?
[01:28:23] <sudomann_> The guys over at #python had the same question lol. pyspark is one of the python packages installed in the image, and our guys use pyspark 2.4 or something close. That version of pyspark only works with java 8  -_-
[01:28:59] <sudomann_> Rather than start with base python image and build openjdk from source, I opted to start with a built openjdk and install python3.7 with apt
[01:29:39] <sudomann_> Looks like I have no choice but to build from source, if the underlying platform is too old (im guessing is the reason for the mismatch)
[01:30:32] <sudomann_> The failing step is the `poetry install` part, which succeeded with some packages and then failed at protobuf
[01:32:07] *** Joins: kevgao (~kevgao@user/kevgao)
[01:32:49] *** Joins: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net)
[01:33:28] <programmerq> There's also openjdk:8-slim-bullseye and openjdk:8-bullseye
[01:36:56] <sudomann_> Yep but those dont have python 3.7 avalable via apt... I suppose i can build it, since thats faster than building openjdk. Cant budge from 3.7 at the moment.
[01:39:18] <programmerq> ah
[01:40:19] *** Quits: kevgao (~kevgao@user/kevgao) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:49:33] *** Joins: cparker[m] (~cparker@2001:470:69fc:105::1973)
[01:50:18] *** Quits: BenjiProd (~BenjiProd@user/benjiprod) (Remote host closed the connection)
[01:51:06] *** Quits: ferr_ (~ferr@78-63-4-13.static.zebra.lt) (Read error: Connection reset by peer)
[01:52:04] *** Quits: cparker[m] (~cparker@2001:470:69fc:105::1973) (Write error: Connection reset by peer)
[01:52:05] *** Quits: inductiveload (~inductive@user/inductiveload) (Read error: Connection reset by peer)
[01:52:06] *** Quits: boris[m] (~borisruna@2001:470:69fc:105::32f3) (Write error: Connection reset by peer)
[01:52:06] *** Quits: Mikaela- (~mikaela-@Feneas/Mikaela-) (Read error: Connection reset by peer)
[01:52:07] *** Quits: louis-lau (~louis-lau@2001:470:69fc:105::d9c9) (Read error: Connection reset by peer)
[01:52:08] *** Quits: repo[m] (~repo@user/repo) (Read error: Connection reset by peer)
[01:52:08] *** Quits: sn3w[m] (~sn3w@2001:470:69fc:105::1:2d0b) (Read error: Connection reset by peer)
[01:52:10] *** Quits: merit (~merit@2001:470:69fc:105::5ae) (Read error: Connection reset by peer)
[01:52:56] *** Joins: fercell (~ferr@78-63-4-13.static.zebra.lt)
[01:54:15] *** Joins: DX099 (~dx099@2001:470:69fc:105::21ce)
[01:54:37] *** Quits: frittro (~frittro@user/frittro) (Ping timeout: 252 seconds)
[01:59:18] *** Quits: BSaboia (~bsaboia@177.37.198.179) (Quit: This computer has gone to sleep)
[02:02:48] *** Quits: Ryu945 (Ryu945@gateway/vpn/protonvpn/ryu945) (Quit: Leaving)
[02:02:48] *** Joins: frittro (~frittro@user/frittro)
[02:07:23] *** Joins: Mikaela- (~mikaela-@Feneas/Mikaela-)
[02:07:23] *** Joins: boris[m] (~borisruna@2001:470:69fc:105::32f3)
[02:07:23] *** Joins: louis-lau (~louis-lau@2001:470:69fc:105::d9c9)
[02:07:23] *** Joins: cparker[m] (~cparker@2001:470:69fc:105::1973)
[02:07:23] *** Joins: inductiveload (~inductive@user/inductiveload)
[02:07:23] *** Joins: merit (~merit@2001:470:69fc:105::5ae)
[02:07:23] *** Joins: sn3w[m] (~sn3w@2001:470:69fc:105::1:2d0b)
[02:07:24] *** Joins: repo[m] (~repo@user/repo)
[02:08:52] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[02:09:50] *** Quits: sudomann_ (~sudomann@98.219.211.182) (Ping timeout: 252 seconds)
[02:10:27] *** Joins: Hackerpcs (~user@user/hackerpcs)
[02:11:12] *** Joins: sudomann_ (~sudomann@98.219.211.182)
[02:11:49] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:14:30] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) ()
[02:16:36] *** Quits: Mikaela- (~mikaela-@Feneas/Mikaela-) (Quit: Client limit exceeded: 20000)
[02:16:46] *** Quits: merit (~merit@2001:470:69fc:105::5ae) (Quit: Client limit exceeded: 20000)
[02:17:20] *** Quits: inductiveload (~inductive@user/inductiveload) (Quit: Client limit exceeded: 20000)
[02:17:46] *** Quits: repo[m] (~repo@user/repo) (Quit: Client limit exceeded: 20000)
[02:17:55] *** Quits: cparker[m] (~cparker@2001:470:69fc:105::1973) (Quit: Client limit exceeded: 20000)
[02:18:14] *** Quits: DX099 (~dx099@2001:470:69fc:105::21ce) (Quit: Client limit exceeded: 20000)
[02:19:03] *** Quits: boris[m] (~borisruna@2001:470:69fc:105::32f3) (Quit: Client limit exceeded: 20000)
[02:19:28] *** Joins: BSaboia (~bsaboia@177.37.198.179)
[02:30:02] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Remote host closed the connection)
[02:30:31] *** Joins: Sven_vB (~sven@user/sven-vb/x-2094958)
[02:31:34] *** Quits: calm-steam (~calm-stea@2a02:810a:980:1400::7d86) (Remote host closed the connection)
[02:31:53] *** Joins: calm-steam (~calm-stea@2a02:810a:980:1400:5f98:3a66:b46d:598d)
[02:32:05] *** Joins: Atque (~Atque@user/atque)
[02:38:02] <sudomann_> Why is it that docker does not cache RUN instructions
[02:38:04] *** Joins: DX099 (~dx099@2001:470:69fc:105::21ce)
[02:38:04] *** Joins: Mikaela- (~mikaela-@Feneas/Mikaela-)
[02:38:10] <ada_> it do
[02:38:14] <cim> it does
[02:38:18] *** Joins: repo[m] (~repo@user/repo)
[02:38:18] *** Joins: boris[m] (~borisruna@2001:470:69fc:105::32f3)
[02:38:19] *** Joins: cparker[m] (~cparker@2001:470:69fc:105::1973)
[02:38:19] *** Joins: inductiveload (~inductive@user/inductiveload)
[02:38:19] *** Joins: merit (~merit@2001:470:69fc:105::5ae)
[02:38:33] <ada_> thats why we do apt update && apt install in one line, cuz otherwise the package caches would get ... cached
[02:38:42] <ada_> and they will eventually be old
[02:39:20] <ada_> I suspect something in your RUN is busting the cache every time it runs, or some file in your COPY is changing
[02:40:05] <sudomann_> This is so odd, today I'm noticing yet another Dockerfile where i can build over and over and it redoes a certain RUN step.
[02:40:10] <sudomann_> Today its: `RUN ./configure  --enable-optimizations && make && make install`
[02:40:29] *** Joins: kevgao (~kevgao@user/kevgao)
[02:40:46] <BtbN> As long as the line in the Dockerfile does not change, and it completed successfully before, it'll be cached.
[02:43:58] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[02:48:04] *** Quits: BSaboia (~bsaboia@177.37.198.179) (Quit: This computer has gone to sleep)
[02:59:08] *** jarthur_ is now known as jarthur
[02:59:46] *** Joins: cliluw (~cliluw@47.147.73.223)
[03:00:13] *** Quits: remolej (~kenoba@user/kenoba) (Ping timeout: 240 seconds)
[03:03:37] *** Joins: remolej (~kenoba@user/kenoba)
[03:18:13] *** Joins: remolej5 (~kenoba@user/kenoba)
[03:19:21] *** Quits: remolej (~kenoba@user/kenoba) (Ping timeout: 250 seconds)
[03:19:22] *** remolej5 is now known as remolej
[03:23:57] *** Quits: Eclipse2212 (~Eclipse22@user/eclipse2212) (Read error: Connection reset by peer)
[03:42:11] *** Joins: Djoobstil (~djoobstil@144.91.111.212)
[03:43:51] *** Quits: rardiol (~quassel@user/rardiol) (Ping timeout: 265 seconds)
[03:48:15] <arkanoid> what does it mean if a docker-compose service section has both a "build" and an "image"?
[03:57:45] <tabakhase> arkanoid it will tag "as this" after building
[03:57:58] <arkanoid> ok thanks
[03:58:05] <tabakhase> and a up would try to pull before building too i think
[03:58:28] *** Quits: kevgao (~kevgao@user/kevgao) (Quit: Textual IRC Client: www.textualapp.com)
[03:58:55] <tabakhase> but not 1000% sure if it pulls or builds with higher prio tbh ;D
[03:59:42] *** Quits: netx (~netx@23-24-2-197-static.hfc.comcastbusiness.net) (Quit: Bye)
[04:03:51] <arkanoid> actually it does both somehow
[04:04:33] <arkanoid> this fails if build section is not commented and docker-file and whole github repo is not pulled https://github.com/matrix-org/synapse/blob/develop/contrib/docker/docker-compose.yml
[04:13:50] *** Joins: rardiol (~quassel@user/rardiol)
[04:18:57] *** Quits: mickey8 (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[04:19:21] *** Joins: mickey8 (~user@user/mickey)
[04:20:34] <tabakhase> arkanoid are you saying "up fails cause it wants to build sooo hard - but fails cause you plan on deploying just the compose file, not clone the git repo"? -- think you could use docker-compose pull then to kinda bypass that build-attempt...
[04:21:23] <arkanoid> sure, I've already solved the problem by commenting the build section, I was just pointing out that it's not just a tag
[04:24:52] *** Quits: dostoyevsky2 (~sck@user/dostoyevsky2) (Quit: leaving)
[04:25:05] *** Joins: dostoyevsky2 (~sck@user/dostoyevsky2)
[04:25:33] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 276 seconds)
[04:26:01] *** Joins: CombatVet (~c4@user/combatvet)
[04:34:32] *** Joins: axisys (~axisys@ec2-34-225-151-46.compute-1.amazonaws.com)
[04:37:38] *** Quits: imp (~imp@192-141-191-232.alternativaip.net.br) (Quit: imp)
[04:38:53] *** Quits: mickey8 (~user@user/mickey) (Remote host closed the connection)
[04:39:00] *** Quits: hackers (~remote@user/hackers) (Ping timeout: 268 seconds)
[04:39:05] *** Joins: mickey8 (~user@user/mickey)
[04:43:17] *** Quits: David- (~none@51.146.51.152) (Ping timeout: 252 seconds)
[04:56:25] *** Quits: sudomann_ (~sudomann@98.219.211.182) (Ping timeout: 250 seconds)
[05:10:02] *** Joins: sudomann_ (~sudomann@98.219.211.182)
[05:14:48] *** Quits: sudomann_ (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[05:15:18] *** Joins: sudomann_ (~sudomann@98.219.211.182)
[05:20:29] *** Joins: David- (~none@90.210.237.164)
[05:21:39] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Remote host closed the connection)
[05:23:10] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[05:27:09] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Remote host closed the connection)
[05:28:19] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[05:30:59] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Client Quit)
[05:45:00] *** Joins: veracioux (~user@cable-77-77-232-51.dynamic.telemach.ba)
[05:48:48] *** Quits: David- (~none@90.210.237.164) (Ping timeout: 256 seconds)
[05:58:11] <veracioux> Hi, I'm wondering if there is a way to keep 'RUN sleep 9999 &' from a build running so that when I run 'docker run myimage pgrep sleep' from the CLI, it prints a pid
[05:59:05] <rawtaz> `sleep infinity`
[05:59:18] <rawtaz> but what on *earth* are you even doing? what problem are you trying to solve??
[06:00:17] *** Quits: sudomann_ (~sudomann@98.219.211.182) (Ping timeout: 252 seconds)
[06:01:30] *** Joins: David- (~none@2.217.16.143)
[06:01:49] <rawtaz> veracioux: the RUN command is only applicable during the build. so youre effectively creating a build that never finished. hence, you will never be able to actually run that image..
[06:02:13] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Ping timeout: 240 seconds)
[06:02:47] *** Joins: sudomann (~sudomann@98.219.211.182)
[06:04:59] <veracioux> rawtaz: But I tested it. The build does finish, and I'm able to run it.
[06:07:48] <rawtaz> hmm i guess thats because it goes into the background then, presumably that makes the command "complete"
[06:07:59] <rawtaz> regardless, it shouldnt be in your running container afterwards
[06:08:49] <rawtaz> the build step is for building the image, that does not include running processes.
[06:09:05] <rawtaz> again; what actual practical problem are you trying to solve by wanting to do what we talk about here?
[06:09:07] <veracioux> rawtaz: I am deploying a web app to heroku, using a docker container. Inside the container I am using pipenv to manage my dependencies. So I have to run 'pipenv sync' before running any python command. But heroku uses an ephemeral filesystem, so the environment 'pipenv sync' created inside the build is not valid at runtime. So I am trying to run the pipenv'ed commands during the build so they persist at runtime. This is just a long-s
[06:09:08] <veracioux> experiment, but I was genuinely interested in this as well.
[06:09:18] <veracioux> Sorry, it took me a while to type that out
[06:09:22] <rawtaz> np :D
[06:10:33] <rawtaz> you should probably just write an entrypoint.sh script that you set as the entrypoint. make the script investigate whether the initialization has been done or not. if it has, carry on running the real thing, if it hasnt run the init and then run the real thing.
[06:10:37] <rawtaz> this is super common to do
[06:10:50] <rawtaz> e.g. the postgres image has an entryscript
[06:13:34] <veracioux> rawtaz: yeah, but then it takes a long time for the container to start up. And it does restart after every 30min of no-incoming-requests to my webapp
[06:14:06] <veracioux> I mean, it was a long shot but I would have asked this question even if I didn't have a use case for it
[06:14:12] *** Quits: lilgopher (~textual@2601:241:8000:38f0:fc6d:baa:b0b5:9af8) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:14:28] <rawtaz> well, if you cannot find a way to run the initialization during the build phase (in other words, a way to make that stuff valid, or at least run it so it's almost complete and then run the rest of it when the container starts), you dont have much of a choice.
[06:14:50] <veracioux> I thought maybe docker preserved a RAM image after build, but I was wrong :)
[06:15:01] <rawtaz> either you can run it and produce working/valid result in the build step, or you cant and if so you have to do it when the container starts :)
[06:15:07] <rawtaz> yeah sorry it doesnt
[06:15:25] <rawtaz> but why isnt the stuff done during build valid in runtime?
[06:15:40] <veracioux> because the filesystem doesn't persist
[06:15:46] <rawtaz> and cant you do like some of it so that the rest at runtime is quicker?
[06:15:55] <rawtaz> which filesystem doesnt persist? the one you build does
[06:16:15] <veracioux> so the ~/.virtualenvs/... or whatever that pipenv created don't exist
[06:16:18] <rawtaz> hm wait are you building it on heroku or something
[06:16:41] <veracioux> rawtaz: not sure, maybe /usr/ persists but some other directories don't
[06:16:41] <veracioux>  
[06:16:51] <veracioux> heroku is the one
[06:17:13] <rawtaz> so you are doing the docker build over at heroku? i thought you built it locally and then deploy it to heroku
[06:17:33] *** Joins: boON (~boON@user/boon)
[06:17:40] <veracioux> rawtaz: the build is done locally and then pushed to heroku
[06:18:13] <rawtaz> then what do you mean it's not persisted? the entire point of the build step in docker is to build the image's "filesystem". in what way does that not persist?
[06:18:20] <veracioux> it seems heroku does some preprocessing of the docker image or container
[06:18:41] <rawtaz> if you do e.g. RUN echo foo > /bar.txt  then /bar.txt will persist in that image
[06:19:12] <rawtaz> perhaps they build their own image, only picking out certain parts from yours
[06:20:01] <veracioux> I think 'foo > /bar.txt' does persist, but the virtualenv doesn't
[06:20:22] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 260 seconds)
[06:20:38] <veracioux> but I think I have a workaround. I'm going to try running 'pipenv run pip freeze -r /requirements.txt && pip install -r /requirements.txt'
[06:21:13] <veracioux> so that the container doesn't have to rely on pipenv
[06:23:21] <veracioux> I do have a tendency to end up with contrived hacky niche edge-cases in my projects :)
[06:23:45] <veracioux> but it does cause for some nice ideas from time to time
[06:24:09] <veracioux> rawtaz: anyway, thank you very much for bearing with me and for your help
[06:25:01] <rawtaz> heh i didnt do much, np
[06:25:17] *** Quits: tsal (~tsal@user/tsal) (Ping timeout: 265 seconds)
[06:25:21] <rawtaz> i dont understand why your stuff would do work and not product any artifacts but meh, i dont use it :L)
[06:25:43] <rawtaz> (personally i consider python to be a lovely language, but the ecosystem to be a huge mess)
[06:26:00] <veracioux> I agree completely
[06:26:05] <rawtaz> s/product/produce/
[06:26:34] *** Joins: jenhsun (uid342237@id-342237.hampstead.irccloud.com)
[06:26:43] <rawtaz> night!
[06:26:48] * rawtaz &
[06:29:00] <wez> fg
[06:29:50] *** Joins: tsal (~tsal@user/tsal)
[06:42:45] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[06:43:04] *** Joins: sudomann (~sudomann@98.219.211.182)
[06:43:35] <artok> bg
[06:47:26] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 260 seconds)
[06:49:15] *** Joins: hub (~hub@user/hub)
[06:50:29] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[07:02:51] *** Parts: veracioux (~user@cable-77-77-232-51.dynamic.telemach.ba) (ERC (IRC client for Emacs 27.2))
[07:03:23] *** Quits: rardiol (~quassel@user/rardiol) (Ping timeout: 250 seconds)
[07:05:11] *** Quits: TheCoffeMaker (~TheCoffeM@user/thecoffemaker) (Ping timeout: 252 seconds)
[07:05:45] *** Quits: jenhsun (uid342237@id-342237.hampstead.irccloud.com) ()
[07:06:09] *** Joins: jenhsun (uid342237@id-342237.hampstead.irccloud.com)
[07:09:20] *** Joins: TheCoffeMaker (~TheCoffeM@user/thecoffemaker)
[07:11:48] *** Joins: BSaboia (~bsaboia@177.37.198.179)
[07:12:58] *** Quits: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1) (Quit: The Lounge - https://thelounge.chat)
[07:13:58] *** Joins: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1)
[07:14:30] *** Quits: BSaboia (~bsaboia@177.37.198.179) (Client Quit)
[07:16:06] *** Quits: hub (~hub@user/hub) (Quit: WeeChat 2.8)
[07:29:27] *** Joins: sudomann (~sudomann@98.219.211.182)
[07:35:53] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 250 seconds)
[07:36:07] *** Quits: jenhsun (uid342237@id-342237.hampstead.irccloud.com) ()
[07:41:52] *** Joins: sudomann (~sudomann@98.219.211.182)
[07:47:14] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[07:57:16] *** Joins: vidbina (~vid@2001:fb1:70:2103:96f9:25f2:9a3e:9fc6)
[08:06:30] *** Joins: jazzy (~jaziz@user/jaziz)
[08:23:59] *** Joins: Xeroine (~Xeroine@user/xeroine)
[08:30:05] <Xeroine> hello, https://bpa.st/UMRA this is the output of "docker stats", it always shows that no memory is being used, I tried this with a debian image as well. is there somethig wrong or is it really not using any memory?
[08:33:11] *** Quits: vidbina (~vid@2001:fb1:70:2103:96f9:25f2:9a3e:9fc6) (Ping timeout: 252 seconds)
[08:45:02] *** Quits: junktext_ (~junktext@gateway/vpn/pia/junktext) (Ping timeout: 260 seconds)
[08:49:12] <tabakhase> Xeroine for just busybox with just a shell runnning or so - that may be in rounding-error scale ;D
[08:49:43] <tabakhase> the the 0B limit looks kinda odd
[08:53:54] <Xeroine> yeah but i tried debian as well
[08:53:57] <Xeroine> same thing
[08:54:00] <tabakhase> check if "docker info" complains with a warning, then shuld be some GRUB_CMDLINE_LINUX="cgroup_enable=memory" switch idk (hit the googles)
[08:54:15] <Xeroine> oh
[08:54:24] <tabakhase> and you say debian.... what arch? most results google spit are about arm...
[08:54:40] <Xeroine> arm64
[08:56:00] <tabakhase> https://github.com/docker/for-linux/issues/1112#issuecomment-699512425 seems kinda bang on then i guess
[08:56:37] <Xeroine> thanks
[08:57:03] *** Quits: L0j1k (~L0j1k@user/l0j1k) (Ping timeout: 265 seconds)
[08:58:57] *** Quits: Xeroine (~Xeroine@user/xeroine) (Quit: leaving)
[09:00:55] *** Quits: AtomicElephants (~AtomicEle@user/atomicelephants) (Quit: Leaving)
[09:01:02] *** Joins: Xeroine (~Xeroine@user/xeroine)
[09:01:18] *** Joins: L0j1k (~L0j1k@user/l0j1k)
[09:01:18] *** ChanServ sets mode: +o L0j1k
[09:02:09] <Xeroine> thanks it works
[09:09:14] *** Joins: jkent3 (~john@66.44.44.108)
[09:11:20] *** Quits: jkent3 (~john@66.44.44.108) (Client Quit)
[09:13:10] *** Joins: jkent3 (~john@66.44.44.108)
[09:13:10] *** Quits: jkent3 (~john@66.44.44.108) (Client Quit)
[09:14:35] *** Joins: jkent3 (~john@66.44.44.108)
[09:15:52] *** Quits: L0j1k (~L0j1k@user/l0j1k) (Ping timeout: 268 seconds)
[09:16:51] *** Quits: leonardo (~leonardo@user/leonardo) (Quit: WeeChat 3.3)
[09:18:47] *** Joins: L0j1k (~L0j1k@user/l0j1k)
[09:18:47] *** ChanServ sets mode: +o L0j1k
[09:22:02] *** Quits: jkent3 (~john@66.44.44.108) (Ping timeout: 268 seconds)
[09:24:18] *** Quits: divine (~divine@2001:470:8247:1::31) (Read error: Connection reset by peer)
[09:28:50] *** Joins: divine (~divine@2001:470:8247:1::31)
[09:29:49] *** Quits: SquirrelMan5k (~SquirrelM@user/squirrelman5k) (Ping timeout: 240 seconds)
[09:41:20] *** Quits: andycooper (uid246432@id-246432.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[09:44:04] *** Joins: zumdar (~zumdar@75-48-42-91.lightspeed.tukrga.sbcglobal.net)
[09:53:32] *** Quits: ses (uid38151@id-38151.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[09:57:33] *** Joins: mkopriva (~mkopriva@ip-78-45-72-123.net.upcbroadband.cz)
[10:06:41] *** Quits: Enitin (~Enitin@82.102.22.84) (Ping timeout: 252 seconds)
[10:07:27] *** Quits: A17 (~DeeJayh@97-120-30-129.ptld.qwest.net) (Quit: Quit.)
[10:07:40] *** Joins: Enitin (~Enitin@82.102.22.86)
[10:10:43] <zumdar> ive gotten myself into a little pickle with a docker-compose container running wordpress on a subdomain
[10:11:04] <zumdar> i cant figure out how to get everything to work.. and i really dont know where to start troubleshooting
[10:12:27] *** Joins: jkent3 (~john@66.44.44.108)
[10:18:47] *** Quits: jkent3 (~john@66.44.44.108) (Ping timeout: 252 seconds)
[10:20:11] *** Quits: sudoforge (~sudoforge@wireguard/tunneler/sudoforge) (Ping timeout: 265 seconds)
[10:27:14] *** Quits: Enitin (~Enitin@82.102.22.86) (Ping timeout: 260 seconds)
[10:31:57] *** Quits: martums (~martums@user/martums) (Read error: Connection reset by peer)
[10:32:32] *** Joins: martums (~martums@user/martums)
[10:34:51] *** Quits: divine (~divine@2001:470:8247:1::31) (Ping timeout: 250 seconds)
[10:35:36] *** Joins: divine (~divine@2001:470:8247:1::31)
[10:37:39] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[10:38:51] *** Joins: Enitin (~Enitin@82.102.22.86)
[10:46:41] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[10:50:56] *** Joins: sehrope_ (~sehrope@23-24-81-162-static.hfc.comcastbusiness.net)
[10:51:03] *** Joins: Deknos (~someone@user/menace)
[10:52:26] *** Quits: Enitin (~Enitin@82.102.22.86) (Ping timeout: 260 seconds)
[10:52:51] *** Quits: sehrope (~sehrope@23-24-81-162-static.hfc.comcastbusiness.net) (Ping timeout: 250 seconds)
[10:56:18] *** Quits: mkopriva (~mkopriva@ip-78-45-72-123.net.upcbroadband.cz) ()
[11:00:09] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:01:15] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[11:06:34] *** Joins: RV (~RV@92.173.180.89)
[11:09:20] *** Joins: Enitin (~Enitin@82.102.22.84)
[11:12:36] *** Joins: lithium (~lithium@user/lithium)
[11:14:16] *** Quits: Enitin (~Enitin@82.102.22.84) (Ping timeout: 268 seconds)
[11:17:27] *** Quits: artok (~azo@mobile-access-5672c9-83.dhcp.inet.fi) (Ping timeout: 252 seconds)
[11:18:18] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:19:55] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[11:21:04] *** Joins: reenix (~reenix@2a01:238:420e:ae00:1c37:63c1:24c0:ff75)
[11:25:38] *** Quits: L0j1k (~L0j1k@user/l0j1k) (Quit: heaven is a place on earth)
[11:27:06] *** Joins: mcpackey (~pm0001@p5dc1cb61.dip0.t-ipconnect.de)
[11:27:54] *** Joins: jazzy2 (~jaziz@user/jaziz)
[11:28:05] *** Joins: vidbina (~vid@ppp-49-237-32-229.revip6.asianet.co.th)
[11:29:02] *** Joins: jazzy3 (~jaziz@user/jaziz)
[11:30:42] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[11:32:34] *** Quits: jazzy2 (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[11:36:03] *** Joins: L0j1k (~L0j1k@user/l0j1k)
[11:36:03] *** ChanServ sets mode: +o L0j1k
[11:37:48] *** Quits: zumdar (~zumdar@75-48-42-91.lightspeed.tukrga.sbcglobal.net) (Ping timeout: 256 seconds)
[11:41:47] *** Joins: artok (~azo@mobile-access-5672c9-83.dhcp.inet.fi)
[11:42:07] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:42:50] *** Joins: leonardo (~leonardo@user/leonardo)
[11:51:13] *** Quits: vidbina (~vid@ppp-49-237-32-229.revip6.asianet.co.th) (Read error: Connection reset by peer)
[12:02:39] *** Joins: Enitin (~Enitin@82.102.22.86)
[12:14:43] *** Quits: Enitin (~Enitin@82.102.22.86) (Ping timeout: 268 seconds)
[12:14:44] *** Joins: vidbina (~vid@ppp-49-237-32-229.revip6.asianet.co.th)
[12:14:53] *** Joins: Enitin (~Enitin@82.102.22.85)
[12:19:05] *** Quits: Enitin (~Enitin@82.102.22.85) (Ping timeout: 250 seconds)
[12:21:59] *** Quits: ajfriesen (~ajfriesen@cable-78-35-98-50.nc.de) (Ping timeout: 256 seconds)
[12:22:45] *** Joins: ajfriesen (~ajfriesen@cable-78-35-98-50.nc.de)
[12:47:08] *** Joins: vidbina_ (~vid@ppp-49-237-5-102.revip6.asianet.co.th)
[12:47:25] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[12:50:02] *** Quits: vidbina (~vid@ppp-49-237-32-229.revip6.asianet.co.th) (Ping timeout: 260 seconds)
[12:50:40] *** Joins: jazzy2 (~jaziz@user/jaziz)
[12:52:58] *** Joins: bittin (~bittin@fedora/bittin)
[12:53:16] *** Joins: Atque (~Atque@user/atque)
[12:54:47] *** Joins: OZ8AAZ (~OZ8AAZ@77.240.70.168)
[12:55:10] *** Quits: jazzy3 (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[12:55:49] *** Quits: denningsrogue (~denningsr@98.97.131.238) (Ping timeout: 265 seconds)
[12:58:25] *** Parts: mickey8 (~user@user/mickey) ()
[13:02:50] *** Joins: denningsrogue (~denningsr@98.97.131.238)
[13:03:24] *** Joins: jkent3 (~john@66.44.44.108)
[13:08:32] *** Quits: jkent3 (~john@66.44.44.108) (Ping timeout: 256 seconds)
[13:09:01] *** Quits: adhawkins (~adhawkins@user/adhawkins) (Ping timeout: 256 seconds)
[13:09:10] *** Quits: RV (~RV@92.173.180.89) (Ping timeout: 260 seconds)
[13:11:36] *** Joins: adhawkins (~adhawkins@user/adhawkins)
[13:14:25] *** Joins: liefer (~liefer@user/liefer)
[13:20:35] *** Quits: bittin (~bittin@fedora/bittin) (Remote host closed the connection)
[13:23:35] *** Quits: vidbina_ (~vid@ppp-49-237-5-102.revip6.asianet.co.th) (Ping timeout: 252 seconds)
[13:26:26] *** Joins: Enitin (~Enitin@82.102.22.86)
[13:26:56] *** Joins: AnapodoPsalidaki (~AnapodoPs@2a02:587:291b:fbb7:962f:db6:a3a9:6a67)
[13:28:37] *** Quits: AnapodoPsalidi (~AnapodoPs@154.57.4.229) (Ping timeout: 240 seconds)
[13:34:57] *** Quits: Enitin (~Enitin@82.102.22.86) (Ping timeout: 252 seconds)
[13:36:24] *** Joins: vidbina_ (~vid@mx-ll-180.183.134-48.dynamic.3bb.co.th)
[13:47:06] *** Joins: rardiol (~quassel@user/rardiol)
[13:48:13] *** Joins: AnapodoPsalidi (~AnapodoPs@154.57.4.229)
[13:50:43] *** Quits: AnapodoPsalidaki (~AnapodoPs@2a02:587:291b:fbb7:962f:db6:a3a9:6a67) (Ping timeout: 252 seconds)
[13:56:32] *** Quits: vidbina_ (~vid@mx-ll-180.183.134-48.dynamic.3bb.co.th) (Ping timeout: 240 seconds)
[14:01:58] *** Quits: rardiol (~quassel@user/rardiol) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[14:03:44] *** Joins: vidbina_ (~vid@mx-ll-180.183.134-48.dynamic.3bb.co.th)
[14:05:44] *** Joins: jkent3 (~john@66.44.44.108)
[14:11:57] *** Quits: vidbina_ (~vid@mx-ll-180.183.134-48.dynamic.3bb.co.th) (Ping timeout: 250 seconds)
[14:12:21] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-71f8-eb14-0c59-711a.res6.spectrum.com) (Quit: jarthur)
[14:13:05] *** Quits: jkent3 (~john@66.44.44.108) (Ping timeout: 252 seconds)
[14:45:38] *** Joins: jkent3 (~john@66.44.44.108)
[14:50:43] *** Quits: jkent3 (~john@66.44.44.108) (Ping timeout: 268 seconds)
[14:58:32] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:03:22] *** Joins: dinowilliam (~dinowilli@168.194.162.233)
[15:03:56] *** Joins: luigibu (~luigi@80.30.201.209)
[15:04:22] <luigibu> hi there! im getting this error: /.docker/ca.pem: no such file or directory
[15:04:25] <luigibu> any clues?
[15:04:48] <luigibu> runninc on arch linux
[15:04:51] <ikke> That files does apparently not exist
[15:05:02] *** Joins: leitz (~LeamHall@cpe-173-172-58-72.tx.res.rr.com)
[15:05:08] <luigibu> exact.. 
[15:05:17] <ikke> More I cannot tell without more details
[15:05:54] <luigibu> im just trying to run docker-compose. new project.. nothing to fancy
[15:06:16] *** Joins: Enitin (~Enitin@82.102.22.84)
[15:06:42] <simplicity> Are you able to run any docker commands on that host?
[15:06:52] <ikke> I suspect it's something in the docker-compose project that return that error?
[15:06:53] <luigibu> yes
[15:07:13] <simplicity> Well, then it would be likely something is wrong in your compose file. We are not able to tell.
[15:08:03] <luigibu> ok.. i will try adding stuff, step by step
[15:08:56] <simplicity> Try removing stuff until it works, then figure out why removing that fixed your issue.
[15:09:38] <luigibu> will try that
[15:09:46] <luigibu> thanks
[15:13:17] *** Quits: Enitin (~Enitin@82.102.22.84) (Ping timeout: 250 seconds)
[15:14:12] *** Joins: Enitin (~Enitin@82.102.22.85)
[15:16:12] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[15:34:35] <boON> hello :)
[15:36:41] <boON> https://docs.docker.com/desktop/mac/networking/
[15:36:41] <boON> I want to connect to a container from the Mac
[15:36:41] <boON> --publish 8000:80
[15:36:41] <boON> I want to connect from a container to a service on the host
[15:36:41] <boON> every mac host port is totally exposed to every shitty docker container that runs???
[15:36:59] <boON> have i misunderstood something? 
[15:37:42] <boON> if not that would be complete madness, right?
[15:44:33] <boON> in other words: does docker desktop for mac comes standard with exposing every single open mac host port to all the containers?
[15:44:37] *** sehrope_ is now known as sehrope
[15:44:48] <boON> localhost, too?
[16:06:53] <null23> boON: i think you need to provide more information. but if you havnt setup network on your docker setup, im not sure your can access your container.
[16:07:51] <boON> https://docs.docker.com/desktop/mac/networking/
[16:07:52] <boON> have you read the example at : I want to connect from a container to a service on the host
[16:07:54] <boON> https://docs.docker.com/desktop/mac/networking/
[16:09:02] <null23> i'm curious.. i think my docker setup is final but all my .yaml filese to setup in case of emergency i forgot to make a note for... can i use Docker setup to give me the setup scheme for all my containers?
[16:09:24] <null23> how *
[16:13:41] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[16:15:17] <rawtaz> null23: please clarify what you mean?
[16:15:37] <rawtaz> if you have your compose files arent they already a clear documentation and specification of your container setup?
[16:17:10] *** Quits: mcpackey (~pm0001@p5dc1cb61.dip0.t-ipconnect.de) (Remote host closed the connection)
[16:19:11] *** Joins: Brainium (~brainium@user/brainium)
[16:21:55] <null23> rawtaz: im new to docker so i used a example .yaml and deployed the container using portainer gui to fix everything for me. But forgot to save to compose files i deployed.... so they are stored in the setup? where? :D
[16:22:10] *** Joins: ses (uid38151@id-38151.hampstead.irccloud.com)
[16:22:25] <null23> forgot to save the compose file to my ICE folder *
[16:25:00] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[16:25:23] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Client Quit)
[16:31:57] *** Quits: irrgit (~irrgit@192.241.175.183) (Remote host closed the connection)
[16:33:15] <rawtaz> oh
[16:34:08] *** Joins: jkent3 (~john@66.44.44.108)
[16:34:10] <rawtaz> hmm. i really dont know since i dont use portainer. if it doesnt have somewhere that you can see the compose file it used you might be out of luck. but if i were you i'd try to see if it stores the file somewhere, i wouldnt be surprised if it does, since its just a frontend for docker so i imagine it saves the file somewhere and then runs docker-compose behind the sceenes
[16:35:42] *** Quits: jkent3 (~john@66.44.44.108) (Client Quit)
[16:35:46] *** Joins: irrgit (~irrgit@192.241.175.183)
[16:36:31] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[16:37:13] *** Joins: jkent3 (~john@66.44.44.108)
[16:38:31] <null23> rawtaz: ok... And i cannot use docker setup to create a yaml file for me while its running? 
[16:39:51] *** Quits: jkent3 (~john@66.44.44.108) (Client Quit)
[16:40:39] <null23> rawtaz: seems to get what i need via stacks in portainer :)
[16:41:02] *** Quits: jazzy2 (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[16:45:20] <rawtaz> null23: no, theres no way to produce the command or file that started a container. forget that :P
[16:45:33] <rawtaz> ah, does stacks contian the yaml you gave portainer?
[16:46:39] <tabakhase> yes&no... there is http://github.com/nexdrew/rekcod and then technically https://www.composerize.com/ -- its no clean cut, but it can help a lot :P
[16:47:57] <rawtaz> haha i see what they did with that name
[16:48:50] <rawtaz> i truly wonder what the author of that software has been doing, that makes them feel it's worth the time to write that software
[16:48:59] <tabakhase> and not a portainer user either... but i think i remember seeing screenshots of it where one was editing a compose file in a web-editor window or so...
[16:49:07] <rawtaz> yeah
[16:49:24] <rawtaz> and dont you think it makes sense that it would put the yaml as a file smoewhere and then fire off docker-compose?
[16:49:37] <rawtaz> unless it just runs docker of course
[17:00:39] <null23> i wasnt able to move container to stacks via portainer for the moment... but portainer community pointed me to ptruman/dockerconfi/getdockerconfig.sh and it it pulled out everything.. when i redeploy the containers i will put them into stacks... BUT IM LAZY FOR NOW :)
[17:02:06] <null23> Im working under DTI and KIS ;)
[17:05:18] *** Quits: remolej (~kenoba@user/kenoba) (Ping timeout: 260 seconds)
[17:07:53] <rawtaz> what is DTI?
[17:07:58] <rawtaz> i presume KIS is keep it simple
[17:15:13] <null23> dont touch it! ;)
[17:17:18] *** Quits: cheeseee (~irrgit@37.120.141.114) (Ping timeout: 256 seconds)
[17:18:15] <rawtaz> oh
[17:18:34] <rawtaz> some people would need to learn that dicipline
[17:19:47] *** Joins: kostkon_ (~androirc@2.142.66.94.static.otenet.gr)
[17:31:01] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[17:32:06] *** Quits: Czernobog (~Czernobog@user/czernobog) (Read error: Connection reset by peer)
[17:32:47] *** Joins: minimal (~minimal@user/minimal)
[17:33:21] *** Joins: remolej (~kenoba@user/kenoba)
[17:43:51] *** Joins: andycooper (uid246432@id-246432.helmsley.irccloud.com)
[17:45:44] *** Quits: cornduck (~cornduck@gateway/tor-sasl/cornduck) (Remote host closed the connection)
[17:45:58] *** Joins: cornduck (~cornduck@gateway/tor-sasl/cornduck)
[17:54:11] *** Quits: Helikoptere (~Helikopte@infracloud.lcnaud.fr) (Quit: WeeChat 2.8)
[17:59:21] *** Joins: goldfish (~goldfish@user/goldfish)
[17:59:26] *** Joins: vidbina_ (~vid@2001:fb1:73:54f9:648f:52a2:c009:12a7)
[18:06:36] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 265 seconds)
[18:13:56] *** Joins: Helikoptere (~Helikopte@infracloud.lcnaud.fr)
[18:14:20] *** Joins: Czernobog (~Czernobog@user/czernobog)
[18:16:34] *** Joins: thiras_ (~thiras@user/thiras)
[18:20:13] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 240 seconds)
[18:21:50] *** Quits: artok (~azo@mobile-access-5672c9-83.dhcp.inet.fi) (Ping timeout: 260 seconds)
[18:24:30] <Tach> OK, figured out my network stuff for docker
[18:25:07] *** Quits: Czernobog (~Czernobog@user/czernobog) (Quit: ZNC 1.8.2 - https://znc.in)
[18:28:46] <rawtaz> what was the cause/solution?
[18:29:00] <bn_work> So is Docker `ENV` parameter expansion really just limited to `${foo:-word}` and `${foo:+word}` https://docs.docker.com/engine/reference/builder/#environment-replacement ?  Needed to use suffix pattern removal `${foo%-word}` for a variety of potential inputs so creating alternate ENVs for each input case isn't practical... any suggestions?  besides having to dynamically generate `Dockerfile` for each case?
[18:39:40] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Quit: WeeChat 3.3)
[18:42:12] *** Joins: rardiol (~quassel@user/rardiol)
[18:43:06] <tabakhase> bn_work i dont think %- is even a thing
[18:45:27] <rawtaz> %-)
[18:47:08] <bn_work> tabakhase: %- isn't but % is, - is part of the word that I wanted to do suffix pattern removal on, sorry, could have made that clearer
[18:47:39] <bn_work> (at least in bash)
[18:48:49] <tabakhase> so  ${foo%"-word"} then kk - guess that doesnt strictly need quoting, but help on readability
[18:50:00] <tabakhase> "variety of potential inputs" sounds a tad odd tho...
[18:51:17] <tabakhase> but given its like day 3, and we still havent seen your dockerfile, im not commenting any further on that rly...
[18:52:36] <rawtaz> i use ${FOO-defaultvalue} and ${FOO?} to set default values and required vars (theres also :- and :? , both described in the docs)
[18:53:00] <rawtaz> tabakhase: want a copy of my ignore list? or a snippet of it.. ;)
[18:56:53] *** Quits: ph88 (~ph88@ip5f5af068.dynamic.kabel-deutschland.de) (Quit: Leaving)
[18:59:47] <Tach> is it possible to run a docker wireguard container so I can access my host locally over VPN ?
[19:00:39] <Tach> for any running service and visa versa /
[19:02:51] *** Joins: AnapodoPsalidaki (~AnapodoPs@2a02:587:291b:fbb7:2d45:5cf7:6d6f:e3e2)
[19:04:18] *** Quits: AnapodoPsalidi (~AnapodoPs@154.57.4.229) (Ping timeout: 260 seconds)
[19:05:21] *** Joins: lilgopher (~textual@2601:241:8000:38f0:fc6d:baa:b0b5:9af8)
[19:06:35] <bn_work> tabakhase: "day 3"?  
[19:07:13] *** Joins: naicam|ne (~naicam|ne@wireguard/tunneler/naicamne)
[19:08:40] <tabakhase> bn_work might only be day 2, but doesnt matter all too much given your very first message should kinda include it ;-)
[19:09:45] <tabakhase> Tach as in "use docker just to run it"? "docker run --net host ..." will disable the networking-issolation part of docker for a single container
[19:10:05] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 252 seconds)
[19:10:38] <bn_work> tabakhase: if you're implying this has something to do with my question yesterday, it's completely unrelated
[19:16:19] <Tach> tabakhase true, I need to test that I think
[19:16:58] <Tach> every docker network is routable by the docker host itself as it's in the routing table or not
[19:18:01] <tabakhase> Tach "that you can access docker0 is a accident", if one wants to get to a container, one shall use published ports
[19:18:53] <tabakhase> and then "docker&vpn" becomes a whole nother level of quirkiness...
[19:20:57] <tabakhase> just spanning up a tunnel is ezpz, where as "running your nordvpn in docker to torrent" you can likely write 2-3 books about
[19:22:28] <Santzes> I'm new to docker and I've been fighting with compose for hours
[19:23:25] <Santzes> docker run .... --net=container:wireguard  works, compose file with network_mode: "container:wireguard" blurts out Unsupported config option for sonarr: 'network_mode'
[19:24:36] <tabakhase> Santzes that sounds like something is read into some other param... see what "docker-compose config" spits out?
[19:25:18] <Santzes> network_mode: bridge...
[19:25:18] <rawtaz> Santzes: what makes you think that the network_mode setting is supported in that compose file and in that place in the compose file?
[19:26:08] <tabakhase> Santzes version: ?
[19:26:10] <Santzes> like I said I'm quite new to docker, I thought that would be similar to the --net argument and it works with docker run so I thought it would work there :P
[19:26:13] <tabakhase> (in the file, not the cli)
[19:26:49] <rawtaz> Santzes: question still stands though
[19:26:50] <tabakhase> and yea most arguments map back&forth 1:1
[19:27:20] <Santzes> lol I thought the version was just made-up argument for my file, so it's 0.1
[19:27:38] <programmerq> nah, that's how you tell compose what compose syntax version you are using.
[19:27:42] <tabakhase> yea thats 1990 docker :D
[19:28:04] <rawtaz> haha thats super old :)
[19:28:06] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:28:11] <rawtaz> try 2.4 instead
[19:28:25] <tabakhase> the docs for 1 dont even seem to exist anymore on the web lol :D
[19:28:55] <Santzes> ahhhh now the problem has changed, hahah that's funny I'd never have  thought the problem was that
[19:28:56] <tabakhase> https://docs.docker.com/compose/compose-file/compose-file-v1/ just redirects to "you want 2 or 3 hm?"
[19:29:24] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[19:29:32] <rawtaz> https://docs.docker.com/compose/compose-file/compose-versioning/#version-1-to-2x mentions that net was renamed to network_mode
[19:29:57] <Santzes> yep and now it works. thanks :P
[19:30:05] <rawtaz> yw
[19:30:31] <rawtaz> FWIW if you dont have a reason to go version 3.x i suggest you stay on 2.x . reasons for going 3.x is if you use swarm mostly
[19:33:09] *** Quits: thiras_ (~thiras@user/thiras) (Ping timeout: 268 seconds)
[19:36:30] <Santzes> yeah I'll do that, it's quite an upgrade from 0.1 already
[19:36:59] *** Quits: Tach (~Tach@user/tach) (Ping timeout: 265 seconds)
[19:37:15] *** Joins: DoofusCanadensis (~DoofusCan@207.229.38.10)
[19:42:10] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[19:42:57] *** Joins: rsx (~dummy@ppp-188-174-159-54.dynamic.mnet-online.de)
[19:43:22] *** Joins: Tach (~Tach@user/tach)
[19:43:38] *** Quits: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:44:05] *** Quits: cornduck (~cornduck@gateway/tor-sasl/cornduck) (Remote host closed the connection)
[19:44:17] *** Joins: cornduck (~cornduck@gateway/tor-sasl/cornduck)
[19:49:05] *** Joins: sudoforge (~sudoforge@wireguard/tunneler/sudoforge)
[19:51:41] *** Joins: nabidev (~nabidev@user/nabidev)
[20:00:27] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[20:03:36] *** Joins: sudomann (~sudomann@98.219.211.182)
[20:03:43] *** Quits: nabidev (~nabidev@user/nabidev) (Quit: Leaving)
[20:26:41] *** Quits: luigibu (~luigi@80.30.201.209) (Quit: WeeChat 3.3)
[20:28:45] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 250 seconds)
[20:28:50] <bn_work> ok, I think I remember this being confusing when I read https://docs.docker.com/storage/volumes/ previously but when creating a volume, can one use the options discussed in https://docs.docker.com/storage/volumes/#choose-the--v-or---mount-flag when using `docker volume create ...` to set the src, dst, etc? 
[20:28:57] <bn_work> Despite being introduced first, https://docs.docker.com/storage/volumes/#create-and-manage-volumes oddly doesn't even show any usage of it... is this because one can only set that at container runtime?
[20:31:13] *** Joins: akelly (24aca7a63b@2604:bf00:561:2000::152)
[20:32:05] *** Joins: nexgen (~nexgen@li614-178.members.linode.com)
[20:33:08] *** Joins: sudomann (~sudomann@98.219.211.182)
[20:33:19] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:33:47] *** Joins: gschanuel21 (~gschanuel@user/gschanuel)
[20:37:43] *** Joins: AnapodoPsalidi (~AnapodoPs@154.57.4.229)
[20:40:17] *** Quits: AnapodoPsalidaki (~AnapodoPs@2a02:587:291b:fbb7:2d45:5cf7:6d6f:e3e2) (Ping timeout: 252 seconds)
[20:46:30] <programmerq> 'docker volume create' just creates a volume. the attachment stuff is specified at container runtime "attach volume foo to this container at /data"
[20:47:10] <programmerq> the --mount interface was created because the original volume spec wasn't super great for stuff like swarm mode.
[20:47:36] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[20:53:47] *** Quits: nexgen (~nexgen@li614-178.members.linode.com) (Quit: Leaving)
[20:56:52] *** Quits: rsx (~dummy@ppp-188-174-159-54.dynamic.mnet-online.de) (Quit: rsx)
[21:00:07] *** Joins: nvmd (~nvmd@user/nvmd)
[21:02:56] *** Joins: sgt_chuckles (~sgt_chuck@pool-71-190-209-205.nycmny.fios.verizon.net)
[21:05:09] *** Joins: keypusher (keypusher@user/keypusher)
[21:06:28] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[21:09:00] <bn_work> thanks for clarifying, programmerq.  I was kind of afraid of that :/  I'm trying to mount a non-persistent volume for use during build-time (this is an internal Dockerfile not for public consumption), it seems the only way to do so is via BuildKit in Docker v18.09+, is this correct?  https://stackoverflow.com/questions/26050899/how-to-mount-host-volumes-into-docker-containers-in-dockerfile-during-build  If so, what version of 
[21:09:00] <bn_work> Docker Desktop was BuildKit introduced in?  I don't seem to have it in my current version (v3.X) and https://github.com/docker/buildx#docker doesn't really say?
[21:09:58] <programmerq> yes, the RUN --mount option is buildkit specific. the buildx extension has been shipped with docker desktop for a long time
[21:23:05] *** Joins: nexgen (~nexgen@li614-178.members.linode.com)
[21:26:10] *** Joins: AnapodoPsalidaki (~AnapodoPs@2a02:587:291b:fbb7:b2d6:2c91:bf3f:91b4)
[21:28:02] *** Quits: AnapodoPsalidi (~AnapodoPs@154.57.4.229) (Ping timeout: 260 seconds)
[21:29:18] *** Quits: martums (~martums@user/martums) (Read error: Connection reset by peer)
[21:29:21] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbfb-173.dhcp.inet.fi)
[21:29:50] *** Joins: martums (~martums@user/martums)
[21:29:50] *** Quits: nexgen (~nexgen@li614-178.members.linode.com) (Remote host closed the connection)
[21:30:17] *** Joins: nexgen (~nexgen@li614-178.members.linode.com)
[21:34:13] *** Joins: iomari891 (~iomari891@197.210.53.147)
[21:34:34] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[21:35:29] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:41:41] *** Quits: darkstardevx (~darkstard@50.39.115.145) (Read error: Connection reset by peer)
[21:44:35] *** Quits: kostkon_ (~androirc@2.142.66.94.static.otenet.gr) (Read error: Connection reset by peer)
[21:44:51] *** Joins: kostkon_ (~androirc@2a02:1388:182:bc03:7507:8245:10c:674e)
[21:45:57] *** Joins: BSaboia (~bsaboia@177.37.198.59)
[21:46:48] *** Joins: sudomann (~sudomann@98.219.211.182)
[21:53:00] *** Quits: vidbina_ (~vid@2001:fb1:73:54f9:648f:52a2:c009:12a7) (Quit: vidbina_)
[21:53:16] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[21:53:36] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:55:16] *** Quits: BSaboia (~bsaboia@177.37.198.59) (Quit: This computer has gone to sleep)
[21:57:04] *** Joins: sudomann (~sudomann@98.219.211.182)
[21:57:29] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[22:00:00] *** Quits: cX1n (~cX1n@107.159.97.244) (Remote host closed the connection)
[22:07:21] *** Joins: cX1n (~cX1n@107.159.97.244)
[22:07:46] *** Quits: jlamoree (~jlamoree@cpe-172-117-188-2.socal.res.rr.com) (Remote host closed the connection)
[22:12:16] *** Quits: kostkon_ (~androirc@2a02:1388:182:bc03:7507:8245:10c:674e) (Ping timeout: 268 seconds)
[22:15:17] <boON> any actual docker devs around?
[22:15:30] <boON> does docker desktop for mac comes standard with exposing every single open mac host port to all the containers?
[22:16:43] <boON> https://docs.docker.com/desktop/mac/networking/
[22:19:13] <tabakhase> boON i know/use neither but... yesno? its a vm that should have his own nic with your host, whatever is on there is open just like your LAN -- that is, unless they added some extra black magic on top
[22:19:39] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 252 seconds)
[22:21:12] <rawtaz> boON: uh no
[22:21:50] <rawtaz> how would that even work? would macOS forward by default all the ports its listening on both to the process thats listening on it and then also to each and every container? lol no
[22:21:59] <rawtaz> what makes you ask? are you observing something?
[22:22:13] <boON> please open the link i posted
[22:22:28] <boON> read: I want to connect to a container from the Mac
[22:22:28] <boON> --publish 8000:80
[22:22:33] <boON> and than read:
[22:22:34] <rawtaz> boON: you have pasted that link i think three times now. what part in that article is it you want us to read, and why?
[22:22:35] *** Joins: sudomann (~sudomann@98.219.211.182)
[22:22:40] <rawtaz> ok listening
[22:23:16] <boON> and than read the part about : I want to connect from a container to a service on the host
[22:23:54] *** Quits: lithium (~lithium@user/lithium) (Quit: Textual IRC Client: www.textualapp.com)
[22:24:23] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[22:24:34] <boON> i don't get it
[22:24:43] <boON> one has to publish ports the one direction
[22:25:03] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Client Quit)
[22:25:09] <boON> and everything is open and accessible the other direction???  
[22:26:12] <boON> most containers shared around are installed with root
[22:26:41] <tabakhase> hence "docker is not a security product" - but its about the same exposed as to anyone else on your WiFi
[22:27:00] <boON> what a mess!
[22:27:15] *** Quits: nexgen (~nexgen@li614-178.members.linode.com) (Quit: Leaving)
[22:27:33] *** Joins: nexgen (~nexgen@li614-178.members.linode.com)
[22:27:34] <boON> since the docker for mac is a VM and could do it 
[22:27:49] <tabakhase> not rly... if smth is local its listening on 127.0.0.1, and there still noone gets to - when you bound something to 0.0.0.0 you usually do that so that others can connect on it ;D
[22:29:02] <programmerq> boON▸ any VM that you run on your mac will likely be able to access things on your mac. That isn't specific to the VM that docker for mac runs. virtualbox in user-mode networking? You can connect to the host no problem. virtualbox in host-only? same story. virtualbox in bridge mode? same story.
[22:29:25] <programmerq> docker for mac runs networking that is similar to how the virtualbox user-mode networking works.
[22:30:19] *** Joins: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se)
[22:30:55] <programmerq> in both cases there's a gateway ip address that the VM is configured to use as a default route, and that gets handled by the software networking NAT stuff which turns around and does egress from there like any other egress traffic originating from another application on your mac would be done.
[22:32:26] <programmerq> docker desktop came about to address specific pain points that folks would regularly run into when trying to run docker in a virtualbox (or similar) vm on their mac-- like automatically setting up published ports as port forwards into the guest vm, and doing some file sharing magic so bind mounts are less painful (but still similarly slow compared to other shared folder solutions)
[22:36:09] *** Quits: boON (~boON@user/boon) (Ping timeout: 250 seconds)
[22:38:06] *** Joins: boON (~boON@user/boon)
[22:38:41] <boON> sorry child crashed over powerchord
[22:38:45] <boON> still dont get it
[22:39:36] <boON> it is no problem to have a host sharing internet connection with VM without exposing all services to the VM
[22:40:17] <boON> the absolute normal way to set this up
[22:40:32] <boON> you can think of any way to fix this?
[22:41:12] <boON> i really dont want to share my webserver with a container that is set up by some guy !!
[22:41:34] <boON> with root privileges 
[22:41:44] <boON> and backdoors
[22:42:13] <boON> just for testing something 
[22:42:23] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Ping timeout: 252 seconds)
[22:45:33] <programmerq> boON▸ did you get any of my messages?
[22:45:59] <programmerq> or were those missed in the power cord crash?
[22:46:07] <rawtaz> boON: its pretty simple. in the "I want to connect from a container to a service on the host" its like your compute rhaving access to the internet - you can connect to any port - same here, you can connect from a container to any port on the internet or other systems. egress is free and open unless you configure that differently.
[22:46:23] <programmerq> I'll just repeat it here
[22:46:24] <programmerq> boON▸ any VM that you run on your mac will likely be able to access things on your mac. That isn't specific to the VM that docker for mac runs. virtualbox in user-mode networking? You can connect to the host no problem. virtualbox in host-only? same story. virtualbox in bridge mode? same story.
[22:46:32] <programmerq> docker for mac runs networking that is similar to how the virtualbox user-mode networking works.
[22:46:33] <rawtaz> boON: while in the other example, "I want to connect to a container from the Mac" you have to publish ports - this is just like when you have a NATing router and want to connect to something behind it - you have to forward a port.
[22:46:38] <rawtaz> boON: does that make sense?
[22:46:39] <programmerq> in both cases there's a gateway ip address that the VM is configured to use as a default route, and that gets handled by the software networking NAT stuff which turns around and does egress from there like any other egress traffic originating from another application on your mac would be done.
[22:46:45] <programmerq> docker desktop came about to address specific pain points that folks would regularly run into when trying to run docker in a virtualbox (or similar) vm on their mac-- like automatically setting up published ports as port forwards into the guest vm, and doing some file sharing magic so bind mounts are less painful (but still similarly slow compared to other shared folder solutions)
[22:47:43] <programmerq> if you want a different networking model, then run a vm you provide yourself that has something that meets your requirements.
[22:51:50] *** Parts: Tach (~Tach@user/tach) (Closing Window)
[22:52:09] *** Joins: Tach (~Tach@user/tach)
[22:54:34] *** Joins: darkstarx (~darkstard@50.39.115.145)
[22:55:40] *** Quits: darkstarx (~darkstard@50.39.115.145) (Remote host closed the connection)
[22:55:41] *** Quits: TomyWork (~TomyLobo@p200300e80f0f270021cc4c8858dbfb07.dip0.t-ipconnect.de) (Remote host closed the connection)
[22:56:06] *** Joins: darkstarx (~darkstard@50.39.115.145)
[22:56:10] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 256 seconds)
[22:57:44] <boON> sorry for being slow and noob
[22:57:50] *** Quits: Mattiaslndstrm (~Mattiasln@c213-103-137-235.bredband.tele2.se) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:57:51] <boON> but i really still dont get it
[22:58:00] <boON> my VM can access my server
[22:58:22] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-71f8-eb14-0c59-711a.res6.spectrum.com)
[22:58:34] <boON> thats the way it should be standard
[22:59:10] <boON> lets say host and VM are on 10.210.50.* network
[22:59:32] *** Joins: sudomann (~sudomann@98.219.211.182)
[22:59:50] <boON> my http server runs on my lan on 192.168.1.1 
[23:00:07] <boON> there should be no access right?
[23:00:39] <rawtaz> if there is routing there is access.
[23:00:50] <boON> the other way round we need to publish ports
[23:01:06] <rawtaz> did you read the two things i wrote?
[23:01:07] <boON> thats done with iptables or pf i guess?
[23:01:25] <boON> could we not have this build in for the other direction too
[23:01:55] <boON> i mean just one thing that is better on docker for mac than on docker running on linux :D
[23:02:28] <boON> i read but probably dont get it rawtaz ;)
[23:03:00] <minimal> boON: it is docker running on linux - that's what Docker Desktop is: its a Linux VM running dockerd, all on a Mac
[23:03:22] <boON> my VM can'T access my server
[23:03:26] <boON> *can NOT 
[23:03:29] <boON> ;)
[23:04:40] *** Quits: beenao (~beenao@user/beenao) (Quit: quit)
[23:04:40] <boON> mac version is missing a lot of feature minimal
[23:04:46] <rawtaz> boON: if someone gives you a proposed explanation and you dont get it, the systematic approach is to explain what part of that explanation it is you dont understand.
[23:05:06] <rawtaz> docker for mac will never be as good as the regular docker for linux as it looks now.
[23:05:09] <rawtaz> just forget about it :P
[23:05:10] <minimal> or to go raise an Issue with the people who create Docker Desktop...
[23:07:50] <boON> rawtaz ok: my host and my VM are on a completely different network than the http server on my host
[23:08:00] <boON> thats how i set my VMs
[23:08:26] <rawtaz> boON: what VM are you talking about? i thought we were talking about your docker host and the containers running in/under docker?
[23:08:44] <boON> so why should docker for mac has unrestricted uncontrolled access to my http server or other services
[23:08:49] <boON> its a flaw IMO
[23:09:35] <boON> yes rawtaz thats the problem
[23:09:56] <boON> it is possible IMO to strictly split 
[23:10:03] <boON> but not with docker for mac
[23:10:25] <rawtaz> boON: how did any of what you just said answer my question?
[23:10:29] <boON> at least i cant see it how atm
[23:10:48] <rawtaz> which VM are you talking about?
[23:11:11] <rawtaz> if you are talking about the VM that docker for mac runs in order to work, why are you even caring about that VM?
[23:11:38] *** Joins: beenao (~beenao@user/beenao)
[23:11:39] <rawtaz> again; your containers has access to whatever is on the host just like they have access to whatever else they can route to
[23:12:01] <rawtaz> ask yourself this; if a container can access www.google.com, why would it not be able to access the external services on your host?
[23:12:06] <boON> i try again
[23:12:20] <rawtaz> as far as the container is concerned, both of those are on external/other networks than itself
[23:12:30] <programmerq> boON▸ the docker desktop application is just another application. If my mac is running nginx, I expect any applications I run can access nginx on my mac.
[23:12:31] <boON> it is possible in other vm apps to strictly split those networks IMO
[23:12:47] <boON> and no it is not possible with docker for mac
[23:12:53] <programmerq> the docker destkop setup was built for a very specific usecase
[23:12:57] <rawtaz> docker isnt about a VM. and for fucks sake why dont you answer questions.
[23:13:07] <minimal> boON: which VM and which VM apps are you talking about?
[23:13:09] <programmerq> and if your usecase doesn't line up? use a different vm
[23:13:20] <programmerq> fire up virtualbox or whatever you like
[23:13:26] <rawtaz> virtualbox <3
[23:13:30] <boON> why are you talking about www.google.com
[23:13:36] <boON> have you read the link
[23:13:40] <boON> it is internal routing
[23:13:46] *** Joins: fossdd (~fossdd@sourcehut/user/fossdd)
[23:13:53] <boON> https://docs.docker.com/desktop/mac/networking/
[23:14:01] <minimal> boON: why don't you answer the question about which VM?
[23:14:02] <rawtaz> boON: obviously i haev, since my initial answer to you *explicitly* talked about the two parts in that article that you asked about.
[23:15:14] <boON> i paste the thing:
[23:15:19] <boON> I want to connect from a container to a service on the host
[23:15:19] <boON> The host has a changing IP address (or none if you have no network access). We recommend that you connect to the special DNS name host.docker.internal which resolves to the internal IP address used by the host. This is for development purpose and will not work in a production environment outside of Docker Desktop for Mac.
[23:15:20] <boON> You can also reach the gateway using gateway.docker.internal.
[23:15:20] <boON> If you have installed Python on your machine, use the following instructions as an example to connect from a container to a service on the host:
[23:15:20] <boON>     Run the following command to start a simple HTTP server on port 8000.
[23:15:20] <boON>     python -m http.server 8000
[23:15:20] <boON>     If you have installed Python 2.x, run python -m SimpleHTTPServer 8000.
[23:15:21] <boON>     Now, run a container, install curl, and try to connect to the host using the following commands:
[23:15:21] <boON>  docker run --rm -it alpine sh
[23:15:22] <boON>  apk add curl
[23:15:22] <boON>  curl http://host.docker.internal:8000
[23:15:23] <boON>  exit
[23:16:05] <rawtaz> yes. there is absolutely *nothing* unclear about that.
[23:16:11] <programmerq> do not paste in the channel please.
[23:16:28] <boON> internal routing has nothing to do with google.com, right?
[23:16:39] <programmerq> boON do you have a question? So far you just seem to be complaining about long established and documented behavior that is useful and desirable.
[23:16:49] <rawtaz> of course not. you are not listening to what were telling you.
[23:17:12] <rawtaz> and you are not answering questions that we ask you to clarify and get you on the right track here, in order to help you understand.
[23:17:28] <rawtaz> not sure how you expect us to be able to help you then :)
[23:17:48] <boON> it is not problem when the container is able to access from outside (my URL)
[23:18:03] <boON> but it sould not be able to access wieh host.docker.internal gateway.docker.internal
[23:18:17] <rawtaz> boON: why do you not answer the questions we ask *you*?
[23:18:19] <boON> or an subnet it is not even on
[23:18:31] <boON> that could be changed i sure
[23:18:37] <minimal> boON: if Docker Desktop does not behave the way you want it to then why do you not just stop using it?
[23:19:29] * rawtaz bet it's because Docker is irresistable :-)
[23:20:09] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 252 seconds)
[23:20:10] <boON> no i think it is trash at least on mac
[23:20:15] <boON> not usable for production
[23:20:28] <boON> thanks for your time good people
[23:20:33] <programmerq> docker desktop is not a production thing-- it's specifically for developer workflows.
[23:20:34] <boON> have a nice day
[23:20:38] <minimal> boON: you would run a production service on a Mac laptop?
[23:20:40] <rawtaz> boON: why do you not answer the questions we ask *you*?
[23:20:41] <programmerq> run a production vm/machine for production
[23:21:12] <notevil> boON: did you not read what you pasted into the channel? "This is for development purpose and will not work in a production environment".  at least read what you paste.
[23:22:09] *** Quits: fossdd (~fossdd@sourcehut/user/fossdd) (Remote host closed the connection)
[23:22:14] <rawtaz> some people just dont want to understand or get helped understanding. and some people are in addition completely respectless and ignore people who are wasting their time trying to help. apparently boON is one of those horrible people.
[23:22:18] <rawtaz> useless.
[23:31:11] *** Joins: atrigent (~atrigent@c-73-69-68-26.hsd1.ma.comcast.net)
[23:31:28] *** Quits: DoofusCanadensis (~DoofusCan@207.229.38.10) (Quit: So as you can see from this flowchSQUIRREL!!)
[23:32:15] <rawtaz> someone has a lot of squirrels around their daily life :o
[23:43:33] <gebbione> :)
[23:47:30] *** Joins: AtomicElephants (~AtomicEle@user/atomicelephants)
[23:47:38] <rawtaz> the horde!
[23:48:01] *** Joins: sudomann (~sudomann@98.219.211.182)
[23:49:26] *** Quits: sgt_chuckles (~sgt_chuck@pool-71-190-209-205.nycmny.fios.verizon.net) (Quit: Client closed)
[23:54:15] *** Quits: sudomann (~sudomann@98.219.211.182) (Ping timeout: 252 seconds)
[23:55:16] *** Joins: Agrius (uid483993@id-483993.ilkley.irccloud.com)
[23:56:11] *** Joins: sudomann (~sudomann@98.219.211.182)
