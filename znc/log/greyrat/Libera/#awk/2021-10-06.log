[00:03:07] *** Joins: mute (m@crx.fan)
[00:36:40] *** Quits: isutoshi (~isu@c-7ec7e255.03-53-67626713.bbcust.telenor.se) (Remote host closed the connection)
[01:06:37] *** Joins: mknod (~mknod@user/mknod)
[01:08:55] *** Quits: mknod (~mknod@user/mknod) (Remote host closed the connection)
[01:09:26] *** Joins: mknod (~mknod@user/mknod)
[01:22:55] *** Quits: NeoCron (~NeoCron@p200300c4cf1c96002e5e9f24316d1b2a.dip0.t-ipconnect.de) (Quit: Leaving)
[01:28:08] <cornfeedhobo> okay, what about using a // twice? how does one "pipe" the first results to the second without invoking awk twice?
[01:31:54] *** Joins: Torr (~Torr@user/torr)
[01:33:09] <mknod> cornfeedhobo, what's up?
[01:36:22] <geirha> an awk script is a series of   condition {action}  pairs. A condition can be anything you could use in an if (). Including /.../ to do regex matching.  for each line awk reads, it will go through the conditions, and run the corresponding {action} if a given condition is evaluated to true
[01:38:03] <geirha> So by "pipe" perhaps you want two individual regexes to match the same line before doing something with it?  if so, perhaps you're after   /foo/ && /bar/ { something... }
[01:58:06] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[02:04:02] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.2-dev)
[02:35:16] *** Joins: src (~src@user/src)
[03:34:10] <cornfeedhobo> interesting. thanks.
[04:17:29] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 264 seconds)
[04:19:25] *** Quits: wuseman (wuseman@user/wuseman) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[04:27:45] *** Quits: src (~src@user/src) (Quit: Leaving)
[04:30:24] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:34:53] *** Joins: vlm (~vlm@user/vlm)
[04:38:32] *** Joins: earnestly (~earnest@user/earnestly)
[05:56:21] *** Joins: seninha (~seninha@user/seninha)
[06:42:49] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 245 seconds)
[06:48:38] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (Ping timeout: 265 seconds)
[06:48:38] *** Quits: psydroid (~psydroid@user/psydroid) (Ping timeout: 265 seconds)
[06:51:45] *** Joins: psydroid (~psydroid@user/psydroid)
[06:55:39] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[07:06:39] *** Joins: jmcantrell (~jmcantrel@user/jmcantrell)
[07:19:22] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Remote host closed the connection)
[07:21:12] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[07:42:05] *** Joins: wuseman (~wuseman@81-234-120-192-no68.tbcn.telia.com)
[07:42:05] *** Quits: wuseman (~wuseman@81-234-120-192-no68.tbcn.telia.com) (Changing host)
[07:42:05] *** Joins: wuseman (~wuseman@user/wuseman)
[08:05:15] *** Joins: ^wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com)
[08:05:15] *** Quits: ^wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com) (Changing host)
[08:05:15] *** Joins: ^wuseman (wuseman@user/wuseman/x-1147134)
[08:06:47] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 265 seconds)
[08:11:52] *** Quits: ^wuseman (wuseman@user/wuseman/x-1147134) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[08:15:09] *** Joins: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com)
[08:15:09] *** Quits: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com) (Changing host)
[08:15:09] *** Joins: wuseman (wuseman@user/wuseman)
[08:28:31] *** Quits: wuseman (wuseman@user/wuseman) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[08:32:42] *** Joins: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com)
[08:32:42] *** Quits: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com) (Changing host)
[08:32:42] *** Joins: wuseman (wuseman@user/wuseman)
[09:04:14] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 246 seconds)
[09:06:25] *** Joins: jetchisel (jetchisel@user/jetchisel)
[10:11:59] *** Quits: wuseman (wuseman@user/wuseman) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[10:12:47] *** Joins: lavaball (felix@31.204.155.215)
[10:16:01] *** Joins: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com)
[10:16:01] *** Quits: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com) (Changing host)
[10:16:01] *** Joins: wuseman (wuseman@user/wuseman)
[10:44:34] *** Joins: lgc (~lgc@user/lgc)
[10:48:25] *** Quits: wuseman (wuseman@user/wuseman) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[10:52:40] *** Joins: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com)
[10:52:40] *** Quits: wuseman (wuseman@81-234-120-217-no68.tbcn.telia.com) (Changing host)
[10:52:40] *** Joins: wuseman (wuseman@user/wuseman)
[11:03:57] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[11:12:27] *** Quits: dextaa (~DV@user/dextaa) (Ping timeout: 240 seconds)
[11:19:53] *** Joins: jetchisel (~jetchisel@user/jetchisel)
[11:29:20] *** Joins: earnestly (~earnest@user/earnestly)
[11:35:56] *** Quits: jetchisel (~jetchisel@user/jetchisel) (Ping timeout: 245 seconds)
[11:40:49] *** Joins: extern (~archer@141.226.63.102)
[11:56:55] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.2-dev)
[12:07:00] *** Quits: wuseman (wuseman@user/wuseman) (Ping timeout: 265 seconds)
[12:31:04] *** Joins: jetchisel (jetchisel@user/jetchisel)
[12:38:30] *** Quits: roarde (~roarde@user/roarde) (Quit: Leaving)
[12:57:37] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[13:05:23] *** Quits: extern (~archer@141.226.63.102) (Quit: WeeChat 3.2.1)
[13:14:39] *** Quits: loki_val (~crabbedha@user/crabbedhaloablut) (Ping timeout: 276 seconds)
[13:17:18] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[13:35:23] *** Joins: extern (~archer@141.226.63.102)
[13:54:09] *** Joins: lavaball (felix@31.204.155.215)
[14:41:30] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[14:44:30] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[14:51:42] *** Joins: seninha (~seninha@user/seninha)
[15:12:53] *** Quits: Everything (~Everythin@37.115.210.35) (Ping timeout: 268 seconds)
[15:14:22] *** Joins: Everything (~Everythin@37.115.210.35)
[15:42:13] *** Quits: extern (~archer@141.226.63.102) (Quit: WeeChat 3.2.1)
[15:42:23] *** Joins: wuseman (~wuseman@81-234-120-192-no68.tbcn.telia.com)
[15:42:24] *** Quits: wuseman (~wuseman@81-234-120-192-no68.tbcn.telia.com) (Changing host)
[15:42:24] *** Joins: wuseman (~wuseman@user/wuseman)
[16:04:56] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 246 seconds)
[16:10:37] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[16:36:48] *** Joins: NeoCron (~NeoCron@p200300c4cf16e40089f16fffa0577f49.dip0.t-ipconnect.de)
[17:04:24] *** Joins: TRS (~stephensu@bras-base-otwaon0916w-grc-40-70-27-65-206.dsl.bell.ca)
[17:06:11] <TRS> Morning. Does anyone have a free moment? I was looking for help with an awk command
[17:07:39] <geirha> just ask the question/explain the problem
[17:07:44] <TRS> It's a text file  with (hitcnt=#)   example; (hitcnt=122)  I want to add all the numbers after the (hitcnt= within the file and output the total sum.
[17:08:26] <TRS> one instance per line
[17:09:16] <geirha> your file contains only lines with hitcnt=### enclosed in parenthesis? or are they part of longer lines?
[17:10:27] <TRS> access-list outside_access_in line 1 extended deny ip object-group GeoFilter any log disable (hitcnt=12) 0x9a8d642b
[17:10:36] <TRS> THe lines look like that
[17:11:36] <geirha> so always second-last field?
[17:12:08] <TRS> There is other non related lines in the files as well..but yes for those lines its always the secon last
[17:12:50] <TRS> What the URL to the site we use to paste code etc again?
[17:13:15] <TRS> I'll post a larger portion of the input file
[17:13:27] <TRS> so you can see it
[17:15:32] <geirha> # awk 'NF > 1 && $(NF-1) ~ /^\(hitcnt=[0-9]+\)$/{ split($(NF-1), a, /=/); sum += a[2] } END { print sum }' <<< $'bla bla\nlog disable (hitcnt=12) 0xc0ffee\nmoar (hitcnt=30) 0x000000'
[17:15:33] <shbot> geirha: 42
[17:16:24] <TRS> I need to input the .txt file
[17:16:42] <geirha> ix.io, sprunge.us, paste.debian.org  are fine
[17:16:57] <geirha> err, paste.debian.net (not .org)
[17:17:28] <TRS> https://paste.debian.net/1214479/
[17:17:48] <TRS> this is what the input text file looks like
[17:18:47] <TRS> awk 'NF > 1 && $(NF-1) ~ /^\(hitcnt=[0-9]+\)$/{ split($(NF-1), a, /=/); sum += a[2] } END { print sum }' < Filterhits.txt
[17:18:51] <TRS> so like this?
[17:19:05] <emanuele6> no, geirha misunderstood your problem
[17:19:49] <TRS> oh, perhaps I didn't explain it well. 
[17:20:00] <geirha> $ curl -s 'https://paste.debian.net/plain/1214479' | awk 'NF > 1 && $(NF-1) ~ /^\(hitcnt=[0-9]+\)$/{ split($(NF-1), a, /=/); sum += a[2] } END { print sum }'
[17:20:02] <geirha> 40081
[17:20:10] <geirha> it outputs a sum though
[17:20:15] <TRS> yup
[17:20:20] <TRS> I just tested on the entire file
[17:20:23] <TRS> I got a number
[17:20:30] <TRS> I assume it's accurate
[17:21:09] <emanuele6> oh, nevermind. i misunderstood
[17:21:29] <TRS> thanks for trying :)
[17:23:08] <TRS> The number is so high.....Can I pasts the entire file and see if you guys get the same numbers?
[17:24:30] <TRS> https://paste.debian.net/1214480/
[17:25:27] <emanuele6> 84409910
[17:26:56] <geirha> I see many entries in 1-5M range, so 84M looks reasonable
[17:29:20] <emanuele6> if you replace `sum += a[2]` with `print NR, a[2]+0' and pipe to sort -nk2, you can see that there are many big numbers
[17:29:27] <emanuele6> 244 5117247
[17:29:29] <emanuele6> 391 5509112
[17:29:31] <emanuele6> 573 9345766
[17:32:08] <TRS> I got 84409910 as well
[17:32:18] <TRS> yup
[17:32:29] <TRS> doing an eyeball check as well
[17:32:34] <TRS> I see many in the millions
[17:32:42] <TRS> so 84mill seems accurate
[17:40:39] *** Joins: extern (~archer@141.226.61.136)
[18:33:47] *** Quits: extern (~archer@141.226.61.136) (Quit: ta ta H.)
[18:38:51] *** Joins: nmz (~nmz@adsl-72-50-4-42.prtc.net)
[18:45:35] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[19:20:22] *** Quits: mknod (~mknod@user/mknod) (Quit: mknod)
[20:25:06] *** Joins: lgc (~lgc@user/lgc)
[20:47:41] *** Quits: Everything (~Everythin@37.115.210.35) (Quit: leaving)
[21:09:35] *** Joins: lavaball (felix@31.204.155.215)
[21:10:32] *** Joins: extern (~archer@141.226.61.136)
[21:17:37] *** Quits: extern (~archer@141.226.61.136) (Quit: WeeChat 3.2.1)
[22:43:39] *** Quits: unmanbearpig (~unmanbear@user/unmanbearpig) (Ping timeout: 245 seconds)
[22:45:41] *** Quits: snappy (~snappy@user/snappy) (Ping timeout: 264 seconds)
[22:50:26] *** Joins: simpl_e (~user@user/simpl-e/x-8589812)
[23:00:02] *** Quits: Andrew (~andrew@user/andrewyu) (Remote host closed the connection)
[23:03:42] *** Joins: extern (~archer@141.226.61.136)
[23:09:04] *** Joins: snappy (~snappy@user/snappy)
[23:10:32] *** Joins: AndrewYu (~andrew@user/andrewyu)
[23:16:45] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[23:17:25] *** Joins: unmanbearpig (~unmanbear@user/unmanbearpig)
[23:23:42] *** Joins: seninha (~seninha@user/seninha)
[23:50:41] *** extern is now known as jj_larosch
[23:51:03] *** jj_larosch is now known as extern
[23:51:39] *** Quits: extern (~archer@141.226.61.136) (Quit: WeeChat 3.2.1)
[23:51:48] *** Joins: kensanata (~user@user/kensanata)
[23:58:02] *** Joins: roarde (~roarde@user/roarde)
