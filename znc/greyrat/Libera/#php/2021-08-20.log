[00:00:24] <__adrian> if they make you use windows and subversion and wordpress then it's probably not
[00:00:50] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[00:01:00] <__adrian> also compare "kind of low" to averages in the area
[00:01:21] <__adrian> and, of course, compare to what you can actually survive on.
[00:01:38] *** Quits: onizu (uid373383@id-373383.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[00:04:31] *** Quits: gxt_ (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[00:05:25] *** Joins: gxt_ (~gxt@gateway/tor-sasl/gxt)
[00:06:14] <Byteflux> If your resume is weak (lack of experience or very few skills) then sometimes it's worth toughing it out for a bit while you learn transferrable skills and move on to another job. Really depends at what stage of your career you are in.
[00:06:28] <__adrian> key word being "move on"
[00:06:42] <__adrian> this strategy doesn't work if you're wanting to stay with the same job long term
[00:07:42] <da_wunder> and the salary isn't the only thing - co-workers are huge part of that imho
[00:08:03] <Byteflux> File that under a more general "culture" category.
[00:13:08] <relipse> I get that salary is not the only thing but is it worth taking a pay cut?
[00:13:35] <Byteflux> Nobody here can really tell you.
[00:18:57] <TinoDidriksen> Salary is not private in US (or anywhere, really). It's actually protected by law to publicly discuss salary, because that's cause for union building. Which is exactly why companies heavily discourage people from doing it - but they legally cannot prevent it.
[00:20:51] <relipse> so how do you look up someone's salary?
[00:21:10] <TinoDidriksen> You don't. I didn't say public - I said not private.
[00:21:13] <Byteflux> You can't. It's private information. You have the right to refuse to disclose your salary. The employer has the right not to hire you.
[00:21:49] <relipse> oh i get it , not private, not public, but "protected"!
[00:21:51] <relipse> php joke!
[00:22:13] <TinoDidriksen> Pretty much, which is silly. Fully public is so much better, but companies fear that.
[00:22:33] *** Joins: dimbag (~Couture@pppoe247h3.ppp.kmv.ru)
[00:24:17] <Byteflux> Maybe, as long as companies were also required to disclose the minimum base salary. I think Colorado actually has a law that requires they do that.
[00:24:18] <celphi> If a company whitelists all the authorized programmers and suddenly that programmer's ip changes, is there an effective way to keep that person's access without having to manually add their new ip?
[00:25:10] <TinoDidriksen> Could tie in a auth+2FA service to add/update the IP.
[00:25:55] <__adrian> celphi: don't whitelist by ip
[00:26:01] <__adrian> ip â‰  person
[00:26:15] <__adrian> use a VPN
[00:28:24] <celphi> __adrian: you have an article for that
[00:28:36] <__adrian> for what
[00:28:45] <__adrian> using a vpn? no
[00:29:00] <Byteflux> Presumably this is for developers to access an internal company network?
[00:29:07] <__adrian> not hard to find, but you should have someone that already knows what they're doing, do it
[00:29:51] <celphi> yeah i just wanted to research it myself before presenting the idea
[00:30:29] <Byteflux> VPN is one of those things almost every tech company uses, you can find abundant material on it online.
[00:30:40] <Byteflux> Another possible option is a zero trust based network
[00:30:44] <__adrian> idea is your developers would log onto the VPN, and all the restricted access things would be on that network
[00:32:42] <__adrian> re: IPs: ip â‰  1 person, person â‰  1 ip
[00:33:41] <Byteflux> OpenVPN can get a bit complicated for the uninitiated, but there are plenty of easier-to-use solutions like Pritunl (they also have a Zero Trust solution too)
[00:34:21] <celphi> so what about ExpressVPN
[00:34:43] <__adrian> most branded solutions are a gui that uses openvpn
[00:35:24] <Byteflux> ExpressVPN is a consumer VPN that connects you to *their* network.
[00:35:44] <Byteflux> You want a VPN that gives people access to the *company's* network.
[00:36:21] <celphi> k
[00:36:35] <celphi> So OpenVPN is what i need to research?
[00:37:07] <Byteflux> Like adrian said most commercial VPN technologies that businesses use are just fancy wrappers around OpenVPN
[00:37:23] <Byteflux> Understanding what OpenVPN is and how it works might be a good starting point
[00:37:37] <Byteflux> You don't have to use OpenVPN directly, but it is the basis for what you are trying to accomplish.
[00:38:34] *** Joins: Junxter (~Junxter@121.237.62.55)
[00:38:52] <celphi> np - aws apparently offers it for free so ill look into that
[00:39:00] <celphi> thnx peeps!
[00:40:07] <Byteflux> AWS VPN is definitely not free, but it's probably not expensive.
[00:45:27] *** Quits: Exile (~Exilef@c-75-70-224-46.hsd1.co.comcast.net) (Ping timeout: 245 seconds)
[00:53:25] *** Quits: Poboy (~Poboy@user/poboy) (Ping timeout: 246 seconds)
[00:54:25] *** Joins: Poboy (~Poboy@user/poboy)
[01:04:38] <ordos> it's so cheap it may as well be free; if you trust AWS that is
[01:05:02] <ordos> we're too small for them to care about us, but I'd trust them regardless
[01:05:35] <ordos> they're the least untrustworthy of the lot in my humble opinion
[01:06:57] <Sammitch> Byteflux: aws vpn is licensed per-user and might be reasonable for a single user, but good lord does it add up if you're trying to cover a department, or god forbid a company
[01:19:51] <Byteflux> Sammitch: I kinda figured it would scale the other way around
[01:20:09] <Byteflux> Becoming more cost prohibitive as you scale doesn't make a lot of sense >_>
[01:20:28] <Sammitch> yeah AWS _rarely_ scales their prices at all, it's almost always linear
[01:20:29] <__adrian> it gets cheaper per user but it doesn't get cheaper
[01:20:51] <Sammitch> does it?
[01:20:59] <__adrian> it *can
[01:21:08] <__adrian> i don't know about aws vpn specifically
[01:21:22] <__adrian> never looked
[01:21:39] <Byteflux> At the end of the day though it is a managed service which is going to place the cost above running your own thing in-house that doesn't come with support.
[01:22:03] <Byteflux> So can't really see the appeal to AWS VPN except easier access to AWS resources I guess
[01:22:12] <Sammitch> https://aws.amazon.com/vpn/pricing/#AWS_Client_VPN_pricing seems fixed
[01:22:55] <Sammitch> and that's $72/mo just for the endpoint, $0.05/hr/client to connect
[01:23:09] <__adrian> looks like hourly + bw + connected client charges.
[01:23:22] <__adrian> :D
[01:24:08] <Sammitch> if you know how to manage linux and openvpn you can probably spin up your own box within the AWS free tier :P
[01:24:43] <__adrian> i just have a vps from work  :p  at some point I'll send a server out there, i get one colo free, and new policy doesn't specify that it has to be only 1u
[01:24:43] <celphi> the free teir only gives 2 clients
[01:25:10] <Byteflux> Throw a a couple of Pritunl instances on a couple of AWS Lightsail VPSs :P
[01:25:21] <Byteflux> $3.5/mo per VPS
[01:26:28] * Sammitch is one of those greybeards that refuses to use anything beyond EC2/EBS/S3/ELB and writes all his own automations. :P
[01:27:21] <Byteflux> Yeah, that is the way to go. AWS Lightsail's offerings are mini-AWS and are nicely priced for smaller deployments that want to scale slowly and cheaply
[01:27:22] <__adrian> ISFC look at what i built  vs.  ISFC look at what i bought  :p
[01:27:32] <Sammitch> ISFC?
[01:27:46] <__adrian> i'm so f***** cool
[01:28:04] <Sammitch> I am sofa king cool
[01:28:48] <Sammitch> hrmm I should do another cost comparison to make sure that my salary is still cheaper than movign to RDS/EKS/etc :P
[01:29:45] <Sammitch> also, going back to the point of cloud providers that scale their pricing down as your usage goes up: Google Cloud does that a lot
[01:30:01] <Byteflux> Their prices also start out much higher than AWS though, IIRC.
[01:30:25] <Sammitch> they're about even for the bedrock compute/storage/etc, IIRC
[01:31:10] <Sammitch> but I recally their sales team _repeatedly_ saying "just keep scaling up until it's free!" despite my eye-rolling
[01:31:34] <Byteflux> But they do give you $300 credit to play with which is nice
[01:32:35] <Sammitch> personally I'm a big fan of GCP's UI and APIs.
[01:33:03] <Sammitch> the APIs are beautifuylly consistent across the board, and they even have an API endpoint that describes all of their API endpoints
[01:35:30] *** Joins: sumthing1980 (~sumthing1@94.54.64.154)
[01:35:45] <sumthing1980> hello so Im trying to load xml
[01:35:49] <sumthing1980> new SimpleXMLElement($xml);
[01:35:53] <sumthing1980> doesnt work class not found
[01:35:56] <__adrian> !+simplexml
[01:35:56] <php-bot> DonÂ´t use SimpleXML, SimpleXML is not simple. Use DOM: http://php.net/manual/en/book.dom.php
[01:36:03] <sumthing1980> do I need to edit php.ini
[01:36:16] <__adrian> no, you probably need to install xml packages
[01:36:28] <sumthing1980> with apt?
[01:36:40] <Byteflux> with whatever you used to install php
[01:36:42] <__adrian> assuming that's how you installed php, yes
[01:36:52] <sumthing1980> okay
[01:37:09] <Byteflux> if you installed php with `apt install php` then you probably want `apt install php-xml`
[01:37:16] <sumthing1980> yea thanks
[01:41:03] <Byteflux> $dom = new DOMDocument(); $dom->load('file.xml'); // or $dom->loadXML($xmlString);
[01:41:04] <Byteflux> https://www.php.net/class.domdocument
[01:41:14] <Byteflux> This is what you *should* use instead of SimpleXML
[01:42:02] <Sammitch> RFC to rename SimpleXML to OvercomplicatedXML
[01:44:39] <__adrian> rfc to kill it or gtfo
[01:45:03] <Byteflux> Oh, neat. Class method signatures have been updated to reflect 8.1 in the PHP function docs
[01:45:09] <Byteflux> I see `readonly` properties now
[01:45:42] <Byteflux> Pretty excited for fibers :D
[01:47:10] *** Quits: molt (~molt@79.140.150.21) (Ping timeout: 240 seconds)
[01:53:45] <Blondie101010> what are read-only properties?  does it mean you can only set them statically?
[01:54:30] <Byteflux> Seems like they are essentially `final` properties if you're familiar with Java.
[01:54:50] <Byteflux> So immutable properties... (ofc Java final properties can be mutated with reflection but we don't talk about that)
[01:56:13] <Byteflux> Since PHP 8.1 will introduce readonly properties, they should also add records (or data classes) too like Java has
[01:57:30] <Byteflux> I guess the constructor property promotion in PHP 8 is already basically like records/dataclasses.
[01:58:50] <Blondie101010> but will it be possible to do something like: $this->property = someFunctionCall();
[01:59:19] <Byteflux> Yes I believe 8.1 is adding that
[01:59:21] <Blondie101010> I'm mostly looking to see where/when it becomes read only
[01:59:46] <Byteflux> So you can initialize properties in the class declaration or as part of the constructor promotion to a non-literal.
[02:00:43] <Byteflux> It becomes read only after it's been initialized
[02:03:35] <sumthing1980> Byteflux: __adrian
[02:03:41] <sumthing1980> so why not simplexml?
[02:07:28] <Blondie101010> XMl is a crappy format that has been abused over and again, so no tool does a great job with it
[02:07:44] <sumthing1980> ok
[02:07:57] <Sammitch> some decent commentary here: https://stackoverflow.com/questions/4803063/whats-the-difference-between-phps-dom-and-simplexml-extensions
[02:08:05] <Albright> sumthing1980: Because the regular DOMDocument stuff isn't actually harder to use (especially if you're already familiar with using it in other langs like JS)
[02:08:08] <sumthing1980> thanks
[02:08:23] <Albright> and because it's very easy to hit a wall where you need to do something in SimpleXML but you just can't.
[02:08:46] <sumthing1980> I tried both now, simplexml gives the proper array dom does not
[02:08:49] <Byteflux> SimpleXML is just a half-assed XML parser
[02:08:56] <Sammitch> OversimplifiedXML
[02:09:01] <sumthing1980> just using 	$dom = new DOMDocument();
[02:09:01] <sumthing1980> 	$dom->loadXML($c);
[02:09:09] <Byteflux> Use DOMDocument if you want a full-assed XML parser :)
[02:09:14] <sumthing1980> I just need it for simple sitemaps.xml
[02:09:33] <Albright> sumthing1980: No, DOMDocument won't give you an array of elements, but it's still simple to iterate through a list of nodes.
[02:09:42] <sumthing1980> ok
[02:10:06] <Albright> You just have to use (gasp) a standard for loop.
[02:10:24] <Albright> I can hack up some examples for you if you'd like.
[02:10:37] <sumthing1980> ah thanks no need
[02:10:53] <sumthing1980> Im gonna use it for very simple sitemaps simplexml works
[02:11:25] *** Joins: pmercado (~pmercado@190.22.89.183)
[02:11:28] <sumthing1980> https://www.sitemaps.org/protocol.html
[02:29:28] *** Quits: genomc (uid245282@id-245282.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[02:32:26] *** Joins: bibble (~uid@2001:bc8:2117:100::)
[02:33:32] <bibble> What's the method to return HTML only if a web browser, else JSON? Need to create a list manually...? https://www.php.net/manual/en/function.get-browser.php
[02:34:21] <Albright> bibble: You want a request to the same URL to be able to return either HTML or JSON?
[02:35:06] <bibble> Yeah. Used some APIs that do it, just not sure of their method; best way.
[02:35:33] <Byteflux> bibble: Why not use the Accept header?
[02:35:34] <da_wunder> use request headers
[02:35:40] <Albright> bibble: Check the "Accept" request header. If the client is just a â€¦ yeah, others beat me to it.
[02:35:47] <Albright> If it contains "text/html", send HTML.
[02:36:01] <bibble> Ah, very nice :)
[02:36:02] <Byteflux> Browsers will default to text/html, or should IIRC
[02:36:08] <da_wunder> and if "application/json" then return json
[02:36:19] <Byteflux> Other clients can explicitly set the header to indicate the content type they want for their response
[02:36:20] <Albright> Note that it might contain other things too like "text/html; image/png" etc so you'll want to do some parsing and matching instead of just ===
[02:37:32] <Albright> Here's a library to help out with that: http://williamdurand.fr/Negotiation/ - there's probably many others
[02:37:47] <bibble> Thank you.
[02:37:52] <Albright> I remember writing one in Swift for Kitura (RIP)
[02:37:53] <Byteflux> Most frameworks should also have this feature built-in, like Laravel or Symfony
[02:38:03] <Byteflux> Any routing library worth its salt will be capable of it too
[02:38:30] <Albright> Does FastRoute support it? I don't remember seeing that.
[02:42:04] *** Quits: AMG (ghebo@user/amg) (Quit: Quit)
[02:45:17] <Byteflux> Would be a little disappointing if it didn't :(
[02:45:40] <Byteflux> I know Symfony's router component has it without needing to tie into everything else
[02:48:00] <Byteflux> Ah but it's not based on Accept so nevermind. Too much to expect this behavior from the router I guess lol
[02:48:02] <Albright> Yeah, I looked again at the README.md and don't see any mention of it.
[02:48:51] <Byteflux> Symfony's is based on the actual extension in the URI. If you set _format = 'json' on the route, then it expects the path in the URI to be .json
[02:49:07] <Byteflux> So not even Accept-based, lame.
[02:49:15] <Albright> But there is https://github.com/middlewares/negotiation
[02:49:30] <Albright> Ah, lulz
[02:50:06] <Byteflux> Yeah there you go, PSR-15 middleware so you can use it with basically every good router.
[02:50:11] <Albright>  ah, looks like these middleware are based on that same library I linked above
[02:50:40] <Byteflux> And it implements negotiation for anything that is negotiable.
[02:50:53] <Byteflux> Not just Accept
[02:51:30] <Albright> Yeah, I've been spending a lot of time recently looking at the non-framework PSR-X approach of site building. Interesting ideas but it's not easy to wrap one's head around all the numbers sometimes. Kind of a naming problem.
[02:51:55] <Albright> PSR-4, PSR-7, PSR-15, PSR-1
[02:52:01] <Albright> *PSR-17
[02:53:50] <Byteflux> PHP-FIG's standardization of basically everything makes kind of makes frameworks obsolete :P
[02:53:57] <Byteflux> Just pick and choose your components and you're good to go
[02:54:02] <Byteflux> They all have interoperability with each other
[02:55:01] *** Joins: Warped (~Warped@user/warped)
[02:55:41] <Albright> It almost kind of seems they're basically creating a new global framework. Which is fine, but I think there may still be a place for more lightweight frameworks than all this stuff.
[02:56:25] <Albright> Certainly I pity any newbie who's coming on board and trying to learn all this stuff. I've been a professional PHP dev since 2007 and it all still feels well over my head sometimes
[02:57:13] <Albright> But I do feel like I'm making some progress figuring it out. Just wish I could be doing so in the context of paid client work. :)
[02:57:26] *** Quits: WarpedAI (~Warped@user/warped) (Ping timeout: 256 seconds)
[02:57:36] <Byteflux> Frameworks that are highly opinionated are still relevant because their opinionated approach is desirable for some. There's a "proper way" to accomplish things in such frameworks.
[02:58:28] <Byteflux> Stitching together PSR components is nice too, because you can build your own opinionated framework
[03:03:36] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[03:18:43] *** Quits: freeworld (~vit@chello085216193138.chello.sk) (Ping timeout: 252 seconds)
[03:26:47] *** Joins: norkle (~norkle@admin.nasa-g0v.com)
[03:27:50] *** Joins: mutandis (~mut@c-73-129-211-144.hsd1.va.comcast.net)
[03:29:10] *** Quits: junktext (~junktext@77.247.181.210) (Ping timeout: 252 seconds)
[03:41:29] *** Quits: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi) (Read error: Connection reset by peer)
[03:44:22] *** Joins: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi)
[03:49:54] *** Joins: ferdna (~ferdna@user/ferdna)
[04:03:28] *** Quits: Poboy (~Poboy@user/poboy) (Ping timeout: 246 seconds)
[04:08:05] *** Joins: Poboy (~Poboy@user/poboy)
[04:12:03] <Poboy> Can anybody explain Data Transfer Objects to me like I'm 5?
[04:13:30] <Sammitch> put the data in an object and then transfer it over like NNNNYYYYOOOOOOOMM~
[04:15:28] <Sammitch> DTOs are a pretty general concept, do you have a more specific context for your question?
[04:21:19] <ordos> Sammitch, https://www.youtube.com/watch?v=Kj5IGSb-W18
[04:27:18] <Blondie101010> not only general, it basically just means it holds data, which is the case of many objects
[04:28:44] <da_wunder> term itself - DTO - is saying that quite well - Data Transfer Object
[04:34:03] *** Joins: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[04:35:28] <Blondie101010> I think many people use term to allow the use of public properties and other design flaws
[04:35:43] *** Quits: freeman_h (~freeman_h@2a02:c7f:fc54:ba00:302d:31fb:8cf9:9946) (Read error: Connection reset by peer)
[04:36:49] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 252 seconds)
[04:38:51] *** Joins: harpia (~harpia@58.148.205.168.dynamic.vibefibra.com.br)
[04:49:31] *** Quits: harpia (~harpia@58.148.205.168.dynamic.vibefibra.com.br) (Quit: Leaving)
[05:04:28] *** Quits: bibble (~uid@2001:bc8:2117:100::) (Quit: bibberly bobberly)
[05:05:25] <Poboy> so nobody
[05:06:15] <__adrian> what part do you not understand?
[05:06:22] <Poboy> $data['foo', 'balls']; is an array I can send from one method to another.  Is that a DTO, what would be the purpose of having a DTO class, what does that even mean?  It's just really strange trying to understand abstracting away so much logic that you have no clue what is actually going on
[05:06:45] <__adrian> that might be called a "data transfer array" if that's how you used it
[05:07:03] <__adrian> you use a DTO to send data from one place to another.
[05:09:34] <da_wunder> and with classes you get autocomplete, real types and so on
[05:10:35] <da_wunder> and with objects you could easily validate those dto's just by using some generic validation library
[05:15:49] <Poboy> So you have $remit, ok this new RemitData, let me go look at that.  RemitData extends DTO and kind of looks like an interface I guess but with properties instead of methods?  Let's go to DTO and see what's happening.  Yeah, this doesn't make much sense to me.  What is the purpose of doing this?  https://kopy.io/xG0wd#line-258
[05:16:57] <__adrian> you get a real schema
[05:17:17] <__adrian> when you have $array, you have nothing. you have to validate it everywhere you use it.
[05:17:49] <__adrian> with a dto, you get properties, types, ease of validation. all those things mentioned above.
[05:18:15] <Poboy> ok, that definitely helps.  Thanks.  I know I can be absurdly dense at times
[05:18:29] <__adrian> np
[05:19:21] <da_wunder> eg. if you've an arrays like `['foo', 123']` and `[123, true]` and those both should present the same "thing" you cannot do that with arrays - with objects you get those types there - and you will see if dto is created by invalid data
[05:20:24] <da_wunder> + you can really validate those objects a lot of easier than just arrays
[05:20:44] <Poboy> (y)
[05:30:34] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:34:32] *** Joins: vlm (~vlm@user/vlm)
[05:39:00] *** Quits: shailangsa (~shailangs@host86-145-14-24.range86-145.btcentralplus.com) (Ping timeout: 268 seconds)
[05:52:58] *** Quits: sumthing1980 (~sumthing1@94.54.64.154) (Remote host closed the connection)
[06:20:18] <Junxter> hello internet, is php still the best language in the universe in 2001
[06:20:33] *** dyCrazyEd is now known as CrazyEddy
[06:21:08] <__adrian> yes. you should now go ask for confirmation of this indisputable fact on #javascript, #python, #go, and #c.
[06:22:08] <Byteflux> it's #go-nuts
[06:22:11] <Byteflux> yeah, they're weird.
[06:22:18] <Byteflux> their*
[06:22:22] <Byteflux> nvm it's they're lol
[06:22:27] <Junxter> what about #c# ?
[06:22:31] <Byteflux> #csharp
[06:22:48] <Byteflux> #c++, #java, #ruby, #node.js
[06:22:53] <Byteflux> spread the love? (don't actually)
[06:22:58] <__adrian> #c# looks more like a tie fighter (Â¾ view)
[06:24:06] <Byteflux> i wish i got offers from companies directly on linkedin instead of dumb staffing agencies
[06:24:59] *** Joins: impliednude (~impliednu@104.232.118.176)
[06:25:56] <Junxter> just move along .. #tatooine
[06:33:17] <Junxter> #python must be home to the Sarlacc
[06:37:26] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[06:38:18] *** Joins: guy_frm_yogaland (~guy_frm_y@2409:4062:2084:b2bf:e5c2:3342:1936:834e)
[06:38:26] <guy_frm_yogaland> hello
[06:38:35] <guy_frm_yogaland> can anybody tell me
[06:39:13] <guy_frm_yogaland> how to do loop every item in a php array and turn that to be an object of some class?
[06:39:31] <__adrian> "a php array and turn that to be an object"  do you mean, it's not an array?
[06:39:58] <guy_frm_yogaland> associative array it is, done using json_decode()
[06:40:11] <Byteflux> we can't know that without knowing how the object is created
[06:40:12] <guy_frm_yogaland> with the true parameter set on
[06:40:18] <__adrian> if you decode json as an array, then it's not an object
[06:40:32] <guy_frm_yogaland> yeah
[06:40:38] <__adrian> no, you cannot turn an array into an object.
[06:40:39] *** Quits: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 268 seconds)
[06:41:02] <__adrian> you might have a function or class that takes that data and creates an object of a given class using it.
[06:41:11] <guy_frm_yogaland> and I want to loop over the array and turn each array item into an object like new Class()
[06:41:28] <__adrian> see above
[06:41:28] <Byteflux> so do that, pass the data into the class
[06:42:06] <Junxter> turn an array of items into array of objects, can do this in-place
[06:42:33] <guy_frm_yogaland> Junxter: this is what I want to do
[06:42:36] <__adrian> ...again, no.
[06:42:43] <__adrian> you might have a function or class that takes that data and creates an object of a given class using it.
[06:42:47] <Byteflux> we don't know what your class looks like or how it relates to your decoded json data, but it could be as simple as $obj = new Class($item); or $obj = Class::createFromData($item);
[06:43:08] <__adrian> (but it's probably not; most classes aren't designed with that in mind)
[06:43:54] <guy_frm_yogaland> I am using slim framework and it works fine but I am new to the json way of doing data exchange with the frontend
[06:44:03] <guy_frm_yogaland> so stuck in this
[06:44:56] <__adrian> using json is no different than any other transfer mechanism, in that regard. once decoded you have the same data as you would with (for example) urlencoded data
[06:45:28] <__adrian> well, you can do typing better  :)  but there's nothing fundamentally different/special about it
[06:45:38] <Byteflux> using json has no impact on how you create objects or populate objects with information.
[06:45:48] <__adrian> what exactly are you "stuck on"?
[06:46:12] <guy_frm_yogaland> So, I do these steps: 1. fetch file from path, 2. get file contents, 3. json_decode() it, and 4. make it as a array of class objects
[06:46:27] <__adrian> ok...?
[06:46:31] <__adrian> what exactly are you "stuck on"?
[06:47:08] <Byteflux> are you asking how to loop over the json data? o.o
[06:47:19] <guy_frm_yogaland> yeah
[06:47:23] <__adrian> foreach()
[06:47:45] <Byteflux> if it's an array, you loop over like any other array. foreach ($array as $key => $value) { ... }
[06:48:14] <__adrian> e.g.,  foreach (json_decode($json, true) as $data) { make_your_object($data); do_whatever(); }
[06:48:38] <guy_frm_yogaland> ok, let me try this
[06:49:04] *** Quits: Forza (~Forza@user/forza) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[06:49:10] <__adrian> once you json_decode($json, true) it's no longer json. it's an array.
[06:49:16] *** Joins: Forza (~Forza@user/forza)
[06:49:17] <Junxter> foreach($a as $k=>$v) $a[$k]= item_2_obj($v);
[06:49:40] <__adrian> Junxter: use { braces }
[06:50:00] <Junxter> no need if just oneline
[06:50:30] <Byteflux> not a matter of "need"
[06:50:44] <guy_frm_yogaland> the object sseks 6 arguments while creating an object because it needs 6 parameters
[06:50:55] <__adrian> Junxter: use { braces }. omitting them makes for error-prone code
[06:51:21] <__adrian> guy_frm_yogaland: for each item in your array of data, your function would need to validate that the appropriate values exist
[06:51:34] <Junxter> in real code i would actually do    foreach($a as $k=>$v) $a[$k] = call_user_func(function () use ($v){   ......      });
[06:51:39] <Junxter> omitted for illustration purpose
[06:51:47] <__adrian> can't just blindly assume it's there and correct.
[06:54:08] <Byteflux> if this is for a class you don't control, then you could just make a function which takes as its input an "item" of JSON data and does stuff to validate (and/or sanitize) the item contents which you can then pass as arguments to the class you want to instanciate
[06:54:21] <__adrian> ^
[06:54:28] <__adrian> s/(and/or sanitize)//
[06:54:47] <guy_frm_yogaland> can I paste the code here ?
[06:54:54] <__adrian> use a paste site
[06:55:35] <__adrian> e.g., gist.github.com or 3v4l.org if you want to run code
[06:56:24] <guy_frm_yogaland> here is the json data inside the file
[06:56:31] <guy_frm_yogaland> and the code is here, see this:
[06:57:25] <guy_frm_yogaland> https://paste.ofcode.org/3v9qZ2DVG2q5LLgLPwTa2p
[06:57:48] <__adrian> > call_user_func(function () ... )   wth
[06:58:20] <guy_frm_yogaland> json data file is: https://paste.ofcode.org/t9aNyuykj5SpEmqtCwSAjN
[06:59:02] <Byteflux> so this will depend on how `Parser` needs to be created, as mentioned earlier. you need to feed it the right arguments from your JSON data
[06:59:06] <__adrian> ok?  (i don't see the need for $key, it's a plain list)
[06:59:10] <__adrian> but what's your question?
[06:59:39] <__adrian> and ...after all that, you're returning the original array?
[06:59:59] <guy_frm_yogaland> array of objects
[07:00:02] <__adrian> oh - nvm.  but yeah, do it less confusing
[07:00:02] <Byteflux> looks like they're mapping the array and returning the mapped result
[07:00:15] <Byteflux> this could all be simplified with array_map() later :P
[07:00:17] <__adrian> what's your question?
[07:02:20] <impliednude> netsuite restlets. should I post the json I am using or "get" using the json
[07:02:34] *** Quits: fstd (~fstd@xdsl-78-35-72-109.nc.de) (Ping timeout: 272 seconds)
[07:02:43] <Junxter> mos espa dealer would like to turn array of items into objects at local json swapmeet
[07:13:34] *** Quits: pmercado (~pmercado@190.22.89.183) (Ping timeout: 252 seconds)
[07:30:37] *** Quits: jeffrey (~jeffrey@80-115-60-193.cable.dynamic.v4.ziggo.nl) (Ping timeout: 252 seconds)
[07:43:04] <guy_frm_yogaland> if I have this array :
[07:43:05] <guy_frm_yogaland> $a = [
[07:43:06] <guy_frm_yogaland>   ['left'  => 1, 'middle' => 2, 'right' => 3],
[07:43:06] <guy_frm_yogaland>   ['left'  => 2, 'middle' => 4, 'right' => 6],
[07:43:07] <guy_frm_yogaland>   ['left'  => 3, 'middle' => 6, 'right' => 9],
[07:43:07] <guy_frm_yogaland> ];
[07:43:24] <__adrian> guy_frm_yogaland: do not paste a bunch of code here
[07:44:24] <guy_frm_yogaland> ok
[07:50:00] <__adrian> please go ahead and ask your question - just use a paste site if it's more than a quick line of code
[07:51:14] *** Quits: de-facto (~de-facto@user/de-facto) (Quit: See you around. ðŸ’¤)
[07:51:24] <guy_frm_yogaland> https://paste.ofcode.org/wt8TgQtppnRAcbJBLcVFRB
[07:51:56] *** Joins: de-facto (~de-facto@user/de-facto)
[07:52:26] <guy_frm_yogaland> my code is pasted in the above link
[07:53:34] <__adrian> assuming the array is consistent, just loop and echo
[07:54:49] <__adrian> foreach ($a as ["left" => $l, "middle" => $m, "right" => $r]) { echo " {$l} | {$m} | {$r} |\n"; }
[07:55:48] <guy_frm_yogaland> is there any other way possible?
[07:55:51] <guy_frm_yogaland> like
[07:56:01] <__adrian> what's wrong with this?
[07:56:28] <guy_frm_yogaland> I need to use $key=>$value
[07:56:34] <guy_frm_yogaland> and use $value['left']
[07:56:38] <__adrian> why?
[07:57:09] <__adrian> is the array structure not always the same?
[07:57:46] <Byteflux> neat, didn't know you could unpack keyed values like that
[07:57:56] <__adrian> :)
[07:59:48] <__adrian> guy_frm_yogaland, this is a sincere question, not being critical. why do you need to do that? what do you need that the above doesn't do?
[08:00:00] <guy_frm_yogaland> its too complicated
[08:00:09] <guy_frm_yogaland> need something simple
[08:00:22] <__adrian> ho is it complicated?
[08:00:25] <__adrian> *how
[08:00:33] <__adrian> do you mean, the list()?
[08:00:48] <Byteflux> if you dont understand something you could just ask
[08:00:51] <__adrian> ^
[08:00:56] <__adrian> https://php.net/list
[08:00:58] <Byteflux> not knowing does not mean it's complicated
[08:01:16] <__adrian> it's a basic construct. a good thing to know about.
[08:01:45] <__adrian> even aside from that,  why would you need  $key=>$value  in order to do  $value["left"]  ?
[08:01:56] <__adrian> you're not using the $key at all, why assign it?
[08:02:25] <__adrian> why *do you want to
[08:03:11] <Byteflux> if you do foreach ($a as $key=>$value) { ... } then $key is just going to be 0, 1, 2, etc.
[08:03:21] <__adrian> formatting might help it seem less complicated also  https://paste.ofcode.org/35bxUxBByjg4YHFF2BfxWQm
[08:04:02] <__adrian> ah, there's the highlighting  https://paste.ofcode.org/XeXTY94sLBZef4Wt9Z5GMp
[08:04:05] <Byteflux> also syntax highlighting and actually running the code to demonstrate it: https://3v4l.org/B6UI1
[08:06:52] <guy_frm_yogaland> why would not this work: https://paste.ofcode.org/TBndbHLN5BaXunQGd5CSwJ?
[08:07:08] <__adrian> your array has no keys 0, 1, 2
[08:07:12] <Byteflux> because 0, 1 and 2 aren't the keys
[08:07:19] <Byteflux> the keys are 'left', 'middle' and 'right'
[08:07:30] <Byteflux> if you have control over the array's structure, you can restructure it to make that work
[08:07:52] <Byteflux> $a = [[1, 2, 3], [2, 4, 6], [3, 6, 9]];
[08:08:00] <__adrian> ^ easy ^
[08:08:19] <guy_frm_yogaland> this works fine:
[08:08:21] <guy_frm_yogaland> https://paste.ofcode.org/pSxX6Usrt2Wj5pVXmLGLDg
[08:08:28] <__adrian> yes
[08:08:32] <__adrian> those are your keys
[08:09:22] <Byteflux> if you have $arr = ['key' => 'value']; then $arr['key'] is NOT the same as $arr[0]
[08:09:47] <__adrian> foreach ($a as $row) { var_dump($row); }  // this will show you the structure of each array, including its keys
[08:12:50] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[08:18:13] <guy_frm_yogaland> instead of the echo ""; can i use a function like this:
[08:18:14] <guy_frm_yogaland> function printLine($left, $middle, $right)
[08:18:14] <guy_frm_yogaland>   {
[08:18:15] <guy_frm_yogaland>     echo $left . " | " . $middle . " | " . $right . "\n";
[08:18:15] <guy_frm_yogaland>   }
[08:18:42] <__adrian> guy_frm_yogaland: you will be muted if you continue pasting code on the channel. please use a paste site and share the link here.
[08:18:55] <guy_frm_yogaland> ok
[08:19:10] <__adrian> yes, you could. but there's not much advantage.
[08:19:25] <guy_frm_yogaland> https://paste.ofcode.org/DuZvdL3ryWfQJkjUj6UpG4
[08:19:47] <__adrian> that's not how functions work
[08:20:06] <__adrian> you define the function once. you'd _call_ the function in the loop, passing the data to it.
[08:20:38] <__adrian> https://php.net/language.functions
[08:21:15] <__adrian> what are you trying to solve by using this function?
[08:21:53] <guy_frm_yogaland> doing the earlier output in many ways
[08:22:02] <__adrian> k
[08:22:04] <guy_frm_yogaland> that is my task
[08:22:22] <guy_frm_yogaland> using function print the left, middle, and right values
[08:22:35] <__adrian> so learn how to define the function correctly, and learn how to call it and pass the arguments you want
[08:22:38] <Blondie101010> what is supposed to go faster?
[08:23:05] <Blondie101010> calling a function to call echo does not go faster than calling echo
[08:23:18] <__adrian> don't think anyone mentioned "faster"
[08:37:25] *** Joins: genomc (uid245282@id-245282.stonehaven.irccloud.com)
[08:43:38] <mishehu> yo dawg herd you like to pound your stack, so I put a function call to your function call within your function call so you can stack while you stack while you stack
[08:44:35] <mishehu> (assuming php even has a stack for php scripts...  maybe it's all heap...)
[08:46:33] <Blondie101010> the call stack is not stored in a static memory structure
[08:47:12] <mishehu> Blondie101010: I figured you'd know :-)  but the meme reference is still funny, at least I think :-)
[08:47:44] <Blondie101010> but your flawed recursion was interesting
[09:05:10] <Blondie101010> but there is no concept of stack overflow in PHP
[09:05:27] <Blondie101010> it will go as high as memory allows
[09:07:56] *** Joins: guidoc (~guido@151.35.249.125)
[09:11:31] *** Joins: Akimb (~Akimb@86.100.13.100)
[09:12:15] *** Joins: shailangsa (~shailangs@host86-186-136-25.range86-186.btcentralplus.com)
[09:16:01] *** Quits: Poboy (~Poboy@user/poboy) (Quit: Client closed)
[09:20:34] *** Quits: Akimb (~Akimb@86.100.13.100) (Read error: Connection reset by peer)
[09:30:00] *** Quits: robotkittenscat (~robotkitt@user/robotkittenscat) (Quit: Bridge terminating on SIGTERM)
[09:30:52] *** Joins: robotkittenscat (~robotkitt@user/robotkittenscat)
[09:41:10] *** Joins: Akimb (~Akimb@82-135-197-171.static.zebra.lt)
[09:45:38] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[09:52:53] *** Joins: night_wulfe_ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[09:54:40] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 240 seconds)
[10:09:49] <Junxter> don't new zvals sit on stack now ?
[10:10:24] <Junxter>  z stack is z new heap dawg
[10:38:32] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[10:42:47] *** Joins: jetchisel (jetchisel@user/jetchisel)
[11:09:39] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Quit: bye)
[11:14:20] *** Quits: guy_frm_yogaland (~guy_frm_y@2409:4062:2084:b2bf:e5c2:3342:1936:834e) (Quit: Client closed)
[11:21:28] *** Joins: fstd (~fstd@xdsl-78-35-86-208.nc.de)
[11:24:04] *** Joins: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::7845)
[11:24:40] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[12:01:13] *** Quits: Warped (~Warped@user/warped) (Quit: We Gone! Bye Bye)
[12:02:51] *** Quits: gxt_ (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[12:03:16] *** Joins: gxt_ (~gxt@gateway/tor-sasl/gxt)
[12:08:47] *** Joins: Warped (~Warped@user/warped)
[12:09:02] *** Joins: ParseError (~Parse_Err@2a01cb0807b805008982921db73973dc.ipv6.abo.wanadoo.fr)
[12:11:14] *** Joins: DevAntoine (~DevAntoin@78.196.234.32)
[12:26:52] *** Joins: Eugen80 (~eugen@ipb21aaf4f.dynamic.kabel-deutschland.de)
[12:27:18] <Eugen80> I have preg_replace question
[12:28:58] <Naktibalda> don't wait for permission, just ask the question
[12:32:28] <Eugen80> my pattern consists of 4 groups, I want add some to second group
[12:33:00] <Eugen80> how would $replacement look like?
[12:33:28] <TinoDidriksen> What pattern and replacement do you have now?
[12:35:48] <Eugen80> pattern: '/<a\s[^>]*href=([\"\']??)(\/[^\" >]*?)\\1[^>]*>(.*)<\/a>/siU' not sure how to build replacement to add "/test" only on beginning of third (not second) group
[12:36:24] <Junxter> break into two patterns ?
[12:37:37] <TML> Eugen80: if you want to _only_ change the second group, you're going to need to adapt your expression to capture everything you _don't_ want to alter
[12:37:45] <TinoDidriksen> If you use another delimiter you won't need \/. And you don't need \" regardless. And what's with double ??
[12:37:51] <Eugen80> i need to replace href="/some/link" with href="/test/some/link"
[12:37:51] <Naktibalda> Eugen80: you have to build a replacement for entire matching string, so either take parts from match that you want to keep or turn parts that you don't want to replace to assertions
[12:38:39] <Eugen80> all href values not beginning with / should be ignored
[12:38:53] <TML> this expression is a giant mess anyway, no reason of it to be that complex
[12:40:23] *** Joins: Fedorasan (~fedorasan@user/fedorasan)
[12:41:47] <TML> honestly, you'd be better of _not_ parsing markup with regex; use the DOM API.
[12:41:52] <TML> s/of/off/
[12:42:52] <Eugen80> TML I'll read about dom api
[12:44:13] <Eugen80> I have only parts of html as $subject, can I still use dom api?
[12:46:33] <TML> as long as the markup in $subject is well-formed
[12:51:40] *** Quits: fstd (~fstd@xdsl-78-35-86-208.nc.de) (Ping timeout: 240 seconds)
[12:52:40] <Eugen80> TML: what means well formed?
[12:53:32] <TML> Eugen80: https://3v4l.org/mgGnW
[12:54:35] <TML> Eugen80: > A well-formed document in XML is a document that "adheres to the syntax rules specified by the XML 1.0 specification in that it must satisfy both physical and logical structures".
[12:55:16] <TML> So '<a href="foo">bar</a>' is well-formed, but '<a href="foo"></bar></baz></bat>' is not
[12:58:11] *** Joins: AMG (ghebo@user/amg)
[13:04:38] <Eugen80> TML, I'm trying your example with my data
[13:04:44] *** Quits: guidoc (~guido@151.35.249.125) (Read error: Connection reset by peer)
[13:08:27] *** Joins: guidoc (~guido@151.37.252.19)
[13:14:39] *** Quits: Junxter (~Junxter@121.237.62.55) (Read error: Connection reset by peer)
[13:21:40] *** Quits: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 240 seconds)
[13:22:01] *** Joins: freeworld (~vit@chello085216193138.chello.sk)
[13:26:09] *** Joins: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net)
[13:34:06] <Eugen80> TML: well.. it seems $dom->loadXML() cannot load my piece of html. I'm not sure why.. it containes some <script> tags with some js code
[13:35:57] <Naktibalda> try loadHTML() method
[13:38:44] *** Quits: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::7845) (Ping timeout: 258 seconds)
[13:40:44] <TinoDidriksen> Definitely use loadHTML with HTML, because HTML is not valid XML.
[13:41:46] *** Joins: LucaTM (~LucaTM@user/lucatm)
[13:43:00] *** Quits: guidoc (~guido@151.37.252.19) (Quit: WeeChat 3.2)
[13:43:42] *** Joins: guidoc (~guido@151.37.252.19)
[13:45:35] *** Joins: olle (~olle@i577bc814.versanet.de)
[13:50:15] <Eugen80> alright, it is working, but how can I get the result?
[13:50:57] <Eugen80> $dom->saveHTML() gives me not the original (+replaces) but something new
[13:55:22] <Eugen80> now it has DOCTYPE, html, body tags..
[13:56:54] <TinoDidriksen> Oh, you're using it on a fragment? Then you want to only save that node.
[13:58:12] <TinoDidriksen> But if it's a fragment, then it should be valid XML.
[13:58:27] <TinoDidriksen> What exactly are you trying to feed it?
[13:59:34] <Eugen80> TinoDidriksen: my fragment has also some JS
[13:59:53] <TinoDidriksen> Inside a <a> tag? Why?
[13:59:58] <Eugen80> no
[14:00:58] <Eugen80> i try to load with $dom->loadHTML() piece of html (with JS), find all <a> and modify hrefs
[14:01:43] <TinoDidriksen> But the example code only loaded exactly the <a> tag that you wanted to modify, which is why loadXML() worked.
[14:02:01] <TinoDidriksen> If you have larger fragments, it's a whole other story.
[14:02:28] <Eugen80> yes.. it is quite large fragment
[14:02:52] <TinoDidriksen> Personally, I would still use preg_replace, just with a simpler regex.
[14:04:11] <TinoDidriksen> There's also preg_replace_callback() which lets you do more logic regarding when/what to replace.
[14:05:56] <Eugen80> yes.. I was not sure if preg_replace would be enough
[14:08:32] *** Joins: guy_frm_yogaland (~guy_frm_y@2409:4062:2084:b2bf:7e2d:9ed5:bccb:6261)
[14:12:32] <TinoDidriksen> preg_replace() is enough for your case.
[14:12:56] <TinoDidriksen> But it's generally bad code to use regex for XML/HTML. Only use regex if you know your markup.
[14:13:19] *** Joins: onizu (uid373383@id-373383.highgate.irccloud.com)
[14:13:25] <TinoDidriksen> E.g., you shouldn't need to check for ' or " - you should know which is used because it comes from a trusted source.
[14:18:30] <guy_frm_yogaland> hi all
[14:21:38] <olle> Kind of browser related question, but are <input> tags guaranteed to be sent in-order from the browser to the server?
[14:24:54] <TinoDidriksen> olle, https://dev.w3.org/html5/spec-LC/association-of-controls-and-forms.html#constructing-form-data-set - order is strictly defined.
[14:25:32] <guy_frm_yogaland> I have a variable that holds array of objects and I need to filter the variable according to some data inside of it and then return the object form of the who data, how to do that
[14:27:20] <guy_frm_yogaland> suppose say, I have an array of objects in json format and there is id field like id=1, id=2, id=3 ,etc for each object, and I need to filter the data array against the id=1 (say), then return the object format of data having id=1
[14:27:31] <guy_frm_yogaland> how to do that?
[14:34:48] <Forza> Hello. I want to change upload_tmp_dir value to different for each of my fpm pools. I tried to add php_admin_value[upload_tmp_dir] in the <pool>.conf but it doesn't seem to work.
[14:35:01] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[14:35:21] <olle> TinoDidriksen: Thanks :)
[14:53:14] *** Joins: Fangzhen (~Fangzhen@49.7.47.139)
[14:54:01] *** Quits: Fangzhen (~Fangzhen@49.7.47.139) (Client Quit)
[14:59:07] <guy_frm_yogaland> is this a valid route pattern?  $group->POST('/{id}', UpdateParserAction::class);
[15:00:33] <guy_frm_yogaland> here's the full route pattern: https://bpa.st/HXOA
[15:01:17] <guy_frm_yogaland> I am using the slim framework, it does not have a channel on this server that is why asking it here
[15:04:24] <guy_frm_yogaland> I am getting error like this: https://bpa.st/ERHQ
[15:10:04] *** Joins: bibble (~uid@2001:bc8:2117:100::)
[15:11:20] <AllenJB> Ignoring the method case, which I don't think matters in PHP those routes look valid to me. Be aware that trailing slashes on the URL (in the client) can matter (there's a middleware for that).
[15:11:22] *** Quits: norkle (~norkle@admin.nasa-g0v.com) (Quit: Lost terminal)
[15:12:10] <AllenJB> Beyond that check the classes are actually invokable and autoloading is configured correctly.
[15:12:51] <AllenJB> You could set up a route that just uses a function for testing - that will tell you if that routing file is being correctly loaded.
[15:12:56] <guy_frm_yogaland> in the index.php page inside the public directory autoloading is ok
[15:13:15] <guy_frm_yogaland> ok
[15:22:01] <AllenJB> You may also want to try the Slim support forums: https://discourse.slimframework.com/
[15:24:31] <guy_frm_yogaland> yeah I am looking at that right now
[15:24:53] <guy_frm_yogaland> but it's kind of problematic for me
[15:32:49] *** Joins: Jonny[5] (~Jonny5]@185.26.194.49)
[15:42:58] *** Joins: WishBoy (~WishBoy@user/wishboy)
[15:43:17] *** Joins: tccki_ (~tccki@box.webslate.co.nz)
[15:45:11] *** Quits: tccki (~tccki@box.webslate.co.nz) (Ping timeout: 268 seconds)
[15:45:11] *** tccki_ is now known as tccki
[16:35:37] *** Quits: guy_frm_yogaland (~guy_frm_y@2409:4062:2084:b2bf:7e2d:9ed5:bccb:6261) (Ping timeout: 246 seconds)
[16:46:23] *** Joins: freeman_h (~Ume@80.209.149.171)
[16:52:52] <freeman_h> Hi all I have a search funvtionality, you can do a search using 1 or 3 / 2 or 3 / 3 or 3 Options. However in the select statement and php https://3v4l.org/PmZ1u
[16:53:10] *** Quits: mutandis (~mut@c-73-129-211-144.hsd1.va.comcast.net) (Quit: meow)
[16:53:25] <freeman_h> without having to write 8 different possibilies of the query
[16:53:37] <freeman_h> if they a way to write just one?
[16:54:45] <da_wunder> in query?
[16:56:32] <Naktibalda> add conditions to array and use  if (!empty ($where)) { $sql .= ' WHERE ' . implode(' AND ', $where); }
[17:00:06] *** Joins: Poboy (~Poboy@user/poboy)
[17:01:16] <freeman_h> da_wunder: this is what i mean. https://3v4l.org/mQcac
[17:01:51] <da_wunder> freeman_h: ok, then use that what Naktibalda recommend
[17:04:16] <freeman_h> Naktibalda: thought of that but i guess the way to make the array if to still add a if condition to see if the thing was passed it and if yes add to the array
[17:05:51] <da_wunder> freeman_h: so something like this - https://3v4l.org/SfQYT
[17:06:36] <freeman_h> da_wunder: yeah
[17:06:47] <freeman_h> Naktibalda: and da_wunder thank you
[17:07:41] <jaguart> freeman_h dont forget to cover the case where there are no request args :o
[17:07:48] *** Quits: guidoc (~guido@151.37.252.19) (Ping timeout: 268 seconds)
[17:08:30] <freeman_h> jaguart: thanks for the heads up
[17:09:21] *** Joins: guidoc (~guido@151.57.235.167)
[17:32:32] *** Quits: Jonny[5] (~Jonny5]@185.26.194.49) (Read error: Connection reset by peer)
[17:41:25] *** Joins: pmercado (~pmercado@190.22.89.183)
[17:49:12] *** Quits: Akimb (~Akimb@82-135-197-171.static.zebra.lt) (Read error: Connection reset by peer)
[17:56:07] <freeman_h> Hi again, when doing this https://3v4l.org/SfQYT which is basically a search is it possible to do only return 10 results and then get the next set of result when needed? Basically I dont want to query the db for all the results at once
[17:57:18] <Naktibalda> you mean "pagination", right?
[17:57:27] <freeman_h> Naktibalda: yes
[17:58:07] <Naktibalda> yes, if you return all of them in the same request, no - if you have to make new HTTP request to load the next page.
[17:58:36] <freeman_h> Naktibalda: yes how can i do this in pdo please
[17:59:19] <Naktibalda> LIMIT 0, 10 first time,   LIMIT 10,10 second time and so one
[18:04:50] <g0z> hm I didn't know about that format for LIMIT I use OFFSET instead
[18:05:43] <Byteflux> `LIMIT offset, length` is specific to MySQL, if I remember.
[18:06:27] <g0z> good to know.
[18:09:05] <Byteflux> `LIMIT limit OFFSET offset` also works in MySQL but will also work in some others like Postgres.
[18:09:36] <Byteflux> So probably a better choice if you need compatibility or want to minimize how much implementation-specific SQL you have to write.
[18:12:50] <Byteflux> Also note that offsetting gets progressively slower the larger it gets, because the database has to still manually count and skip that many rows. So not ideal for situations where you might have more than a thousand pages or so depending on how many results per page you show.
[18:14:34] <Naktibalda> !t freeman_h offsets
[18:14:56] <Byteflux> What do you think this is? #mysql?! :)
[18:15:15] <Naktibalda> yeah, why do you talk sql in here?
[18:15:17] <Naktibalda>  The major problem with offset for pagination is that LIMIT has to read all the rows in order to get to the offset and then select up to the limit. With id > $last_max_id LIMIT x (used within the app) it only has to scan/order those rows > than the id's already passed.
[18:16:32] <Byteflux> ^ Yep, this is the way to go when you need to start paginating large tables.
[18:19:43] *** night_wulfe_ is now known as night_wulfe
[18:26:11] *** Quits: Eugen80 (~eugen@ipb21aaf4f.dynamic.kabel-deutschland.de) (Quit: Konversation terminated!)
[18:31:51] *** Quits: impliednude (~impliednu@104.232.118.176) ()
[18:36:09] *** Quits: freeman_h (~Ume@80.209.149.171) (Quit: Konversation terminated!)
[18:38:36] *** Joins: Akimb (~Akimb@86.100.13.100)
[18:50:02] *** Quits: Brion (~Brion@gateway/tor-sasl/brion) (Remote host closed the connection)
[18:50:12] *** Joins: Junxter (~Junxter@121.237.62.55)
[18:50:46] *** Quits: MalMen (~MalMen@2001:8a0:f017:9400:250:56ff:fe96:782d) (Ping timeout: 258 seconds)
[18:50:51] *** Joins: Brion (~Brion@gateway/tor-sasl/brion)
[19:00:58] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[19:02:15] *** Joins: ramsey[m] (~ramsey@phpc/ramsey)
[19:44:12] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 245 seconds)
[19:45:36] *** Joins: junktext (~junktext@77.247.181.209)
[19:54:20] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 250 seconds)
[19:56:30] *** Quits: onizu (uid373383@id-373383.highgate.irccloud.com) (Ping timeout: 250 seconds)
[19:57:16] *** Quits: MrTrick (uid181961@id-181961.highgate.irccloud.com) (Read error: Connection reset by peer)
[19:58:00] *** Quits: Pixi (~Pixi@user/pixi) (Quit: Leaving)
[20:00:51] *** Joins: MrTrick (uid181961@highgate.irccloud.com)
[20:00:51] *** Joins: onizu (uid373383@highgate.irccloud.com)
[20:00:56] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[20:06:27] *** Joins: Pixi (~Pixi@user/pixi)
[20:12:47] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: When the chips are down, the buffalo is empty)
[20:21:24] *** Quits: DevAntoine (~DevAntoin@78.196.234.32) (Remote host closed the connection)
[20:21:59] *** Joins: DevAntoine (~DevAntoin@78.196.234.32)
[20:24:08] *** Joins: genom (~g@37.214.56.150)
[20:25:23] *** Joins: jeffrey (~jeffrey@80-115-60-193.cable.dynamic.v4.ziggo.nl)
[20:27:57] *** Quits: Pixi (~Pixi@user/pixi) (Read error: Connection reset by peer)
[20:28:23] *** Joins: Pixi (~Pixi@user/pixi)
[20:29:52] *** Quits: DevAntoine (~DevAntoin@78.196.234.32) (Ping timeout: 250 seconds)
[20:41:44] *** Joins: physikoi (~physikoi@user/physikoi)
[20:56:38] *** Joins: Aryan (Aryan@user/aryan)
[20:56:53] *** Parts: Aryan (Aryan@user/aryan) ()
[21:07:22] *** Quits: guidoc (~guido@151.57.235.167) (Ping timeout: 252 seconds)
[21:09:05] *** Joins: guidoc (~guido@151.57.245.183)
[21:15:02] *** Joins: magla (~gelignite@55d4beb4.access.ecotel.net)
[21:19:38] *** Quits: physikoi (~physikoi@user/physikoi) (Quit: leaving)
[21:19:59] *** Joins: skyfaller (~skyfaller@pool-108-52-124-2.phlapa.fios.verizon.net)
[21:20:24] <skyfaller> has anyone here successfully used php-fpm, or more specifically php8-fpm, on Alpine Linux?
[21:20:33] *** Joins: Rockwood (~Rocky@user/rocky)
[21:23:38] <AllenJB> skyfaller: If you detail your problem, someone may be able to help. php-fpm problems are not usually particularly distro specific.
[21:24:05] <da_wunder> haven't tried that alpine image, but I've been using php:8.0.9-fpm without problems - maybe you should explain your actual issue a bit more
[21:24:59] <skyfaller> I just don't know what I'm doing. I have it working on Ubuntu and Arch Linux with a unix socket, but on Alpine it has listen = 127.0.0.1:9000 by default, and when I tell my Caddy web server to look there, it doesn't seem to do anything, I just get a 404
[21:25:37] <da_wunder> do you expose that 9000 port?
[21:26:02] <skyfaller> ok, that's probably the problem. I guess the firewall needs to be open even if the request is coming from the same machine
[21:26:18] *** Joins: DevAntoine (~DevAntoin@78.196.234.32)
[21:26:30] <skyfaller> can I just change it to look for an arbitrary unix socket? I don't really understand what a unix socket is, but if it means i don't have to open my firewall, that seems good
[21:26:32] <Rockwood> you should chk port too
[21:27:15] <Byteflux> Docker containers within the same bridged network can talk to each other without needing to expose ports.
[21:28:03] <skyfaller> this isn't a Docker container, in this case
[21:29:27] <Byteflux> I may have missed some earlier discussion (not seeing my scrollback for some reason) but you're running php-fpm in a Docker container or something else?
[21:29:57] <skyfaller> I'm just running it on a Linode virtual machine, not containerized
[21:30:08] <Byteflux> Oh I see.
[21:30:14] <Byteflux> Does Linode have private networking?
[21:30:20] <da_wunder> I though that skyfaller was using docker container there, just by that naming :D
[21:30:52] <Byteflux> Well I guess I don't fully understand the issue either.
[21:30:57] <Byteflux> But I think I missed a lot of context.
[21:31:01] *** Quits: DevAntoine (~DevAntoin@78.196.234.32) (Ping timeout: 252 seconds)
[21:36:14] <Byteflux> If Caddy and php-fpm are both on the same machine, I don't see why it wouldn't work. I'd check Caddy's logs to see what's actually going on.
[21:37:53] <Byteflux> But if they're on the same machine, then you could simply configure php-fpm to listen over a unix socket like your other instances.
[21:45:28] *** Quits: Junxter (~Junxter@121.237.62.55) (Remote host closed the connection)
[21:51:30] *** Joins: goddard (~goddard@user/goddard)
[21:59:16] <skyfaller> good news, there were two problems, both now fixed: php-fpm service wasn't enabled, and the directory I was asking it to serve was empty (forgot to put the files there)
[21:59:24] <skyfaller> now everything works as expected
[22:14:12] <AllenJB> Tip of the day: Check your assumptions.
[22:16:37] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Quit: Quitting)
[22:16:42] <da_wunder> I call those sanity checks - most of those are just "dummy" to do, but at least _you_ know that part is working correctly
[22:17:59] *** Quits: Akimb (~Akimb@86.100.13.100) (Read error: Connection reset by peer)
[22:33:06] *** Quits: Brion (~Brion@gateway/tor-sasl/brion) (Remote host closed the connection)
[22:33:46] *** Joins: Brion (~Brion@gateway/tor-sasl/brion)
[22:56:20] <g0z> I cann those insecurity checks because I don't trust myself.
[22:56:28] <g0z> cann. see? can't be trusted.
[23:01:19] *** Joins: pmercado_ (~pmercado@186.107.57.118)
[23:05:29] *** Quits: pmercado (~pmercado@190.22.89.183) (Ping timeout: 268 seconds)
[23:24:31] *** pmercado_ is now known as pmercado
[23:47:53] *** Joins: DevAntoine (~DevAntoin@78.196.234.32)
[23:50:58] *** Joins: Anonamy (~Anonamy@node-1w7jr9qgfucx13fyrpxrlwog9.ipv6.telus.net)
[23:52:22] *** Quits: DevAntoine (~DevAntoin@78.196.234.32) (Ping timeout: 252 seconds)
[23:55:30] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
