[00:01:17] <d_bot> <cemerick> well, my objective is to use off-the-shelf JS libraries that have no OCaml equivalent. The code in the snippets being evaluated should be quite terse; implicating jsoo at that level feels quite extravagant
[00:04:06] <d_bot> <rgrinberg> I guess it's a matter of taste. To me, jsoo is the goto for JS integration.
[00:07:50] <d_bot> <rgrinberg> I'll sketch out what I have in mind a little more:
[00:07:50] <d_bot> <rgrinberg> 1. Create a module interface containing all the functions to foreign js libs you might make.
[00:07:51] <d_bot> <rgrinberg> 2. Implement this module interface in jsoo using the ffi + marshalling over stdin/stdout.
[00:07:52] <d_bot> <rgrinberg> 3. Implement the same module interface in native OCaml by running a node process and making calls over stdin/stdout.
[00:07:59] <d_bot> <rgrinberg> Haven't thought about it too much, but that's what seems sane to me.
[00:08:55] <d_bot> <rgrinberg> Anyway, this is just food for thought. I'm not really familiar with your problem
[00:09:11] <d_bot> <cemerick> it's certainly a more formal approach
[00:10:47] <d_bot> <cemerick> feels like a lot of work though; typical workflow I'm aiming for is (a) add js library to my local package.json, (b) (often) copy/paste the necessary JS into where I'll be calling out to that library from OCaml, (c) sanitize the return value(s) to ground them in my canonical types
[00:11:06] <d_bot> <cemerick> coming up with module interfaces for random JS libraries can be very un-fun
[00:11:36] <d_bot> <cemerick> anyway, we'll see how it all shakes out in short order here
[00:11:49] *** Parts: cemerick (sid54985@uxbridge.irccloud.com) ()
[00:12:56] <d_bot> <cemerick> actually, that ts2ocaml project might help a lot there
[00:12:57] <d_bot> <rgrinberg> You can always start with this module interface `val call : name:string -> args:Json.t list -> Json.t` ðŸ™‚
[00:13:26] <d_bot> <rgrinberg> Yeah, for step (c).
[00:16:47] *** Joins: mro (~mro@2002:5cc3:e989:0:c4df:c81:c4fe:d8a3)
[00:23:05] *** Quits: mro (~mro@2002:5cc3:e989:0:c4df:c81:c4fe:d8a3) (Remote host closed the connection)
[00:23:15] *** Joins: mro (~mro@port-92-195-233-137.dynamic.as20676.net)
[00:23:23] *** Quits: mro (~mro@port-92-195-233-137.dynamic.as20676.net) (Remote host closed the connection)
[00:24:51] *** Quits: rgrinberg (~textual@200.5.63.76) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[00:33:09] *** Joins: Tuplanolla (~Tuplanoll@91-159-69-50.elisa-laajakaista.fi)
[01:01:39] *** Joins: average (uid473595@user/average)
[01:28:15] *** Quits: ansiwen (~sanders@vm1.a6n.de) (Quit: ZNC 1.7.1 - https://znc.in)
[01:30:33] *** Joins: zebrag (~chris@user/zebrag)
[01:31:55] *** Joins: ansiwen (~sanders@vm1.a6n.de)
[01:39:42] *** Quits: infinity0 (~infinity0@occupy.ecodis.net) (Remote host closed the connection)
[02:01:26] *** Joins: infinity0 (~infinity0@occupy.ecodis.net)
[02:13:52] <d_bot> <Chris Armstrong> AWS have been working on a related tool that acts a way for arbitrary languages to call JS code via marshalling - it's very primitive though because it's only one way (x language => JS) and does not garbage collect the stuff it marshalls. They used for AWS-CDK to create bindings for other languages
[02:13:53] <d_bot> <Chris Armstrong>
[02:13:54] <d_bot> <Chris Armstrong> https://github.com/aws/jsii
[02:35:36] *** Joins: rgrinberg (~textual@190.113.102.153)
[02:42:22] *** Quits: Techcable_ (~Techcable@168.235.93.147) (Quit: ZNC - https://znc.in)
[02:44:26] *** Joins: Techcable (~Techcable@168.235.93.147)
[02:49:14] *** Quits: sagax (~sagax_nb@user/sagax) (Excess Flood)
[03:07:40] *** Joins: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71)
[03:17:12] *** Quits: rgrinberg (~textual@190.113.102.153) (Read error: Connection reset by peer)
[03:18:01] *** Joins: rgrinberg (~textual@190.113.102.153)
[03:22:07] *** Quits: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71) (Ping timeout: 250 seconds)
[03:23:10] *** Joins: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71)
[03:28:50] *** Quits: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71) (Ping timeout: 268 seconds)
[03:29:41] *** Joins: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71)
[03:40:19] *** Quits: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71) (Ping timeout: 250 seconds)
[03:43:14] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 260 seconds)
[03:52:52] *** Joins: bobo_ (~bobo@37.166.231.2)
[03:52:53] *** Quits: spip (~bobo@37.164.191.129) (Ping timeout: 250 seconds)
[04:06:04] *** Joins: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71)
[04:10:22] *** Quits: average (uid473595@user/average) (Quit: Connection closed for inactivity)
[04:11:11] *** Quits: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71) (Ping timeout: 264 seconds)
[04:23:08] *** Joins: sagax (~sagax_nb@user/sagax)
[04:24:57] *** Quits: waleee (~waleee@h-98-128-228-119.NA.cust.bahnhof.se) (Ping timeout: 268 seconds)
[04:34:41] *** Quits: rgrinberg (~textual@190.113.102.153) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[04:35:06] *** Joins: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71)
[04:39:41] *** Quits: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71) (Ping timeout: 250 seconds)
[04:57:23] *** Joins: rgrinberg (~textual@190.113.102.153)
[04:58:52] *** Quits: olle (~olle@i5E866D93.versanet.de) (Ping timeout: 268 seconds)
[05:00:17] *** Joins: olle (~olle@i5E866D9B.versanet.de)
[05:24:28] *** Quits: Tuplanolla (~Tuplanoll@91-159-69-50.elisa-laajakaista.fi) (Quit: Leaving.)
[05:55:11] *** Joins: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71)
[06:05:28] *** Quits: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71) (Ping timeout: 268 seconds)
[06:14:37] *** Joins: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71)
[06:19:16] *** Quits: chrisz (j5tmms781z@55d4b321.access.ecotel.net) (Ping timeout: 260 seconds)
[06:19:47] *** Quits: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71) (Ping timeout: 250 seconds)
[06:20:57] *** Joins: chrisz (as240r8zq7@55d40075.access.ecotel.net)
[06:43:13] *** Joins: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71)
[06:49:41] *** Quits: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71) (Ping timeout: 250 seconds)
[07:14:25] *** Joins: motherfsck (~motherfsc@user/motherfsck)
[07:15:17] *** Joins: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71)
[07:16:17] *** Joins: mbuf (~Shakthi@223.178.89.16)
[07:19:35] *** Quits: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71) (Ping timeout: 250 seconds)
[07:53:09] *** Joins: shawnw (~shawn_w@152.44.212.188)
[08:02:11] *** Quits: ralu (~ralu@static.211.245.203.116.clients.your-server.de) (Ping timeout: 264 seconds)
[08:06:20] *** Quits: welterde (welterde@thinkbase.srv.welterde.de) (Ping timeout: 268 seconds)
[08:17:16] *** Joins: welterde (welterde@thinkbase.srv.welterde.de)
[08:20:58] *** Joins: ralu (~ralu@static.211.245.203.116.clients.your-server.de)
[08:49:52] <d_bot> <cemerick> thanks for that, that's super interesting
[08:52:17] *** Quits: jonasbits (~quassel@2a00:66c0:1:1::58) (Ping timeout: 264 seconds)
[08:53:00] <d_bot> <cemerick> I don't think it'll fit what I'm aiming for (it looks like "source" libraries must be written in typescript and satisfy certain additional criteria, so interop with arbitrary wooly JS libs is off the table), but it feels like a way more principled approach
[08:53:25] <d_bot> <cemerick> will definitely cite it in the README, etc
[08:53:38] *** Joins: jonasbits (~quassel@2a00:66c0:1:1::58)
[09:13:16] *** Quits: rgrinberg (~textual@190.113.102.153) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[09:50:00] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[10:55:43] *** Joins: mro (~mro@port-92-195-158-180.dynamic.as20676.net)
[11:30:51] *** Joins: Everything (~Everythin@37.115.210.35)
[11:37:05] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[12:24:43] *** Joins: rgrinberg (~textual@190.113.102.153)
[12:45:46] *** Quits: shawnw (~shawn_w@152.44.212.188) (Ping timeout: 265 seconds)
[12:48:34] *** Joins: shawnw (~shawn_w@152.44.212.188)
[12:53:30] *** Quits: shawnw (~shawn_w@152.44.212.188) (Ping timeout: 265 seconds)
[13:00:30] *** Joins: bartholin (~bartholin@158.110.155.0)
[13:04:58] *** Joins: shawnw (~shawn_w@152.44.212.188)
[13:17:08] *** Quits: rgrinberg (~textual@190.113.102.153) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[14:42:44] *** Quits: mro (~mro@port-92-195-158-180.dynamic.as20676.net) (Remote host closed the connection)
[14:54:03] *** Joins: mro (~mro@port-92-195-158-180.dynamic.as20676.net)
[15:00:53] *** Joins: xenu_ (~xenu@carychium-tridentatum.xenu.pl)
[15:01:41] *** Quits: xenu (~xenu@carychium-tridentatum.xenu.pl) (Read error: Connection reset by peer)
[15:13:01] *** Joins: average (uid473595@user/average)
[15:47:23] *** Joins: spip (~bobo@37.165.179.198)
[15:47:48] *** Quits: bobo_ (~bobo@37.166.231.2) (Ping timeout: 256 seconds)
[15:50:20] *** Quits: mro (~mro@port-92-195-158-180.dynamic.as20676.net) (Remote host closed the connection)
[16:04:02] *** Joins: mro (~mro@2002:5cc3:9eb4:0:10f6:176f:a415:9a4c)
[16:04:44] *** Joins: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71)
[16:08:41] *** Quits: mro (~mro@2002:5cc3:9eb4:0:10f6:176f:a415:9a4c) (Ping timeout: 250 seconds)
[16:09:44] *** Quits: sleeping_papaya (~sleeping_@2601:14f:4500:33a1:7db1:fd5d:9fec:ab71) (Ping timeout: 265 seconds)
[16:17:39] *** Joins: mro (~mro@2002:5cc3:9eb4:0:10f6:176f:a415:9a4c)
[16:26:39] *** Joins: bartholin_ (~bartholin@158.110.155.0)
[16:27:54] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[16:30:18] *** Quits: bartholin (~bartholin@158.110.155.0) (Ping timeout: 256 seconds)
[16:34:35] *** Quits: mro (~mro@2002:5cc3:9eb4:0:10f6:176f:a415:9a4c) (Ping timeout: 264 seconds)
[16:56:47] *** Quits: olle (~olle@i5E866D9B.versanet.de) (Ping timeout: 250 seconds)
[16:58:26] *** Joins: olle (~olle@i5E866D89.versanet.de)
[17:09:36] *** Joins: mro (~mro@2002:5cc3:9eb4:0:6d43:ded4:7afd:6cf0)
[17:16:16] <d_bot> <Jean Issou> OKALM
[17:16:43] *** Quits: bartholin_ (~bartholin@158.110.155.0) (Ping timeout: 250 seconds)
[17:18:26] *** Joins: bartholin_ (~bartholin@158.110.155.0)
[17:20:15] <olle> CALM
[17:22:10] *** Joins: hyphen (~hyphen@41.40.178.71)
[17:32:23] *** Quits: bartholin_ (~bartholin@158.110.155.0) (Ping timeout: 265 seconds)
[17:33:42] *** Joins: xiongxin (~Thunderbi@113.116.33.34)
[17:42:45] *** Quits: average (uid473595@user/average) (Quit: Connection closed for inactivity)
[17:51:49] *** Joins: bartholin_ (~bartholin@158.110.155.0)
[17:59:11] *** Quits: bartholin_ (~bartholin@158.110.155.0) (Ping timeout: 250 seconds)
[17:59:34] *** Joins: bartholin_ (~bartholin@158.110.155.0)
[18:12:24] *** Joins: Haudegen (~quassel@91.114.49.10)
[18:16:52] *** Quits: asm (~alexander@burner.asm89.io) (Changing host)
[18:16:52] *** Joins: asm (~alexander@user/asm)
[18:24:14] <d_bot> <VPhantom> Keep OCaml and Curry On
[18:42:00] *** Quits: richbridger (~richbridg@089144202142.atnat0011.highway.a1.net) (Remote host closed the connection)
[18:42:26] *** Joins: richbridger (~richbridg@089144202142.atnat0011.highway.a1.net)
[18:57:17] *** xenu_ is now known as xenu
[18:58:39] *** Quits: mro (~mro@2002:5cc3:9eb4:0:6d43:ded4:7afd:6cf0) (Remote host closed the connection)
[19:10:56] *** Joins: gareppa (~gareppa@user/gareppa)
[19:15:41] *** Joins: mro (~mro@port-92-195-158-180.dynamic.as20676.net)
[19:18:35] *** Quits: gareppa (~gareppa@user/gareppa) (Quit: Leaving)
[19:20:52] *** Quits: mro (~mro@port-92-195-158-180.dynamic.as20676.net) (Ping timeout: 256 seconds)
[19:21:12] *** Quits: xiongxin (~Thunderbi@113.116.33.34) (Remote host closed the connection)
[19:22:00] *** Joins: bobo_ (~bobo@37.165.179.198)
[19:22:23] *** Quits: spip (~bobo@37.165.179.198) (Ping timeout: 250 seconds)
[19:24:02] *** Joins: rgrinberg (~textual@190.113.102.153)
[19:31:04] *** Joins: mro (~mro@port-92-195-158-180.dynamic.as20676.net)
[19:33:15] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[19:34:02] <theblatte> rgrinberg:
[19:35:08] <theblatte> oops, sorry :)
[19:37:02] <theblatte> rgrinberg: is there going to be a dune 2.9.2 and would it include https://github.com/ocaml/dune/pull/4857 ? this is causing some pain for infer users/hackers at the moment wrt ocamlformat checking its version and complaining that it's not the same just because `git describe` is different on different machines
[19:37:37] *** Joins: zebrag (~chris@user/zebrag)
[19:38:30] <rgrinberg> ejgallego is managning the the 2.9.x point releases. It's best to ask him in that PR
[19:38:41] <theblatte> thank you, will do!
[19:49:48] *** Quits: rgrinberg (~textual@190.113.102.153) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[19:58:24] *** Joins: spip (~bobo@37.165.179.198)
[19:58:50] *** Quits: bobo_ (~bobo@37.165.179.198) (Ping timeout: 256 seconds)
[20:19:29] *** Quits: Haudegen (~quassel@91.114.49.10) (Quit: Bin weg.)
[20:29:49] *** Joins: rgrinberg (~textual@201.192.183.100)
[20:45:39] *** Quits: mbuf (~Shakthi@223.178.89.16) (Quit: Leaving)
[20:45:48] *** Quits: rgrinberg (~textual@201.192.183.100) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[20:47:34] *** Quits: bartholin_ (~bartholin@158.110.155.0) (Quit: Leaving)
[20:52:01] *** Quits: mro (~mro@port-92-195-158-180.dynamic.as20676.net) (Remote host closed the connection)
[20:53:53] *** Joins: rgrinberg (~textual@201.192.183.100)
[21:01:04] <companion_cube> is there a way to disable some specific alerts?
[21:01:13] <companion_cube> likeâ€¦ deprecation alerts
[21:04:56] <octachron> en ligne de commande: -alert -deprecated
[21:05:11] <companion_cube> c'est pas dans la doc de ocamlc :3
[21:05:34] <octachron> or [@@@alert "-deprecated"]
[21:06:28] <octachron> It is described in `-help` but not in the man page, true
[21:06:32] <companion_cube> yep
[21:08:11] *** Joins: mro (~mro@port-92-195-158-180.dynamic.as20676.net)
[21:13:45] *** Quits: mro (~mro@port-92-195-158-180.dynamic.as20676.net) (Ping timeout: 265 seconds)
[21:22:02] *** Joins: mro (~mro@port-92-195-158-180.dynamic.as20676.net)
[21:25:42] *** Quits: rgrinberg (~textual@201.192.183.100) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[21:28:55] *** Quits: mro (~mro@port-92-195-158-180.dynamic.as20676.net) (Remote host closed the connection)
[21:29:05] *** Joins: rgrinberg (~textual@201.192.183.100)
[21:29:58] *** Quits: rgrinberg (~textual@201.192.183.100) (Client Quit)
[21:31:52] *** Joins: rgrinberg (~textual@201.192.183.100)
[21:39:58] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[21:48:50] *** Quits: drewolson (~drewolson@user/drewolson) (Quit: Ping timeout (120 seconds))
[21:49:01] *** Joins: drewolson (~drewolson@user/drewolson)
[22:12:23] *** Quits: Everything (~Everythin@37.115.210.35) (Quit: leaving)
[22:12:49] *** Joins: mro (~mro@port-92-195-158-180.dynamic.as20676.net)
[22:17:06] *** Quits: rgrinberg (~textual@201.192.183.100) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:18:30] *** Quits: mro (~mro@port-92-195-158-180.dynamic.as20676.net) (Remote host closed the connection)
[22:19:00] *** Quits: saltrocklamp[m] (~elementio@2001:470:69fc:105::5065) (Changing host)
[22:19:00] *** Joins: saltrocklamp[m] (~elementio@user/hexology)
[22:21:01] *** Quits: saltrocklamp[m] (~elementio@user/hexology) (Quit: Reconnecting)
[22:21:20] *** Joins: saltrocklamp[m] (~hexology@user/hexology)
[23:40:29] *** Quits: chrisz (as240r8zq7@55d40075.access.ecotel.net) (Quit: leaving)
[23:44:22] *** Quits: vb (~vb@lfbn-idf2-1-1364-212.w92-169.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[23:45:44] *** Joins: vb (~vb@lfbn-idf2-1-1364-212.w92-169.abo.wanadoo.fr)
[23:53:11] *** Quits: v0idpwn (sid483136@helmsley.irccloud.com) (Ping timeout: 264 seconds)
[23:56:35] *** Joins: v0idpwn (sid483136@helmsley.irccloud.com)
[23:58:52] *** Joins: Tuplanolla (~Tuplanoll@91-159-69-50.elisa-laajakaista.fi)
