[00:00:36] <hentai> tessio, When?
[00:00:48] <tessio> hentai: just a thought
[00:01:12] <geirha> linux' initramfs use cpio only afaik
[00:01:14] <hentai> Are my cpio ramdisks no longer the most modern technology humans ever had?
[00:02:21] <earnest> geirha: It's a little tricky because pax is quite rarely available, even here it comes from a mirbsd port
[00:03:05] <geirha> yes, it's annoying that you have to install it everywhere, and the GNU implementation of pax is garbage
[00:03:06] <hentai> I have long ago abandoned tar, pax, zip, rar, cpio and etc in favor of ext4 images
[00:03:14] <hentai> (Where I have a choice)
[00:03:58] <earnest> I wasn't aware gnu even had one
[00:04:11] <earnest> paxutils, hm
[00:04:13] <geirha> I think they've discontinued it
[00:04:17] <hentai> Great at preserving all xattr, times, permissions.
[00:04:45] <hentai> Tar is good at... tape drives?
[00:05:03] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Ping timeout: 252 seconds)
[00:07:03] *** Quits: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net) (Quit: andydude)
[00:08:28] *** Joins: drd (~drd@93-42-69-115.ip85.fastwebnet.it)
[00:13:05] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
[00:13:17] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[00:13:51] *** Quits: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Ping timeout: 252 seconds)
[00:14:13] *** Joins: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[00:14:39] *** Quits: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Read error: Connection reset by peer)
[00:15:04] *** Joins: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[00:17:17] *** Quits: bliminse (~bliminse@host86-162-147-196.range86-162.btcentralplus.com) (Quit: leaving)
[00:20:12] <unixman> ... and tarball files, which can be found all over the 'net.
[00:20:43] <xx> yeah but nobody cares about permissions, times, etc. inside those
[00:21:07] *** Joins: axisys (~axisys@ec2-34-225-151-46.compute-1.amazonaws.com)
[00:21:18] <unixman> My tarball backups here at work disagree with you, xx. ;)
[00:21:37] <xx> in fact, we need a new archival format, that doesn't store any permissions, file times, or other attributes, and only contains the desired files, optionally compressed
[00:21:54] <xx> unixman: thought you meant sourcecodes and other stuff distributed as tarballs
[00:21:59] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 256 seconds)
[00:22:09] <unixman> Those too, but not just those.
[00:22:52] *** Quits: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970) (Quit: WeeChat 3.3)
[00:22:58] <xx> who wants to start a new archival format and tool? Call it '.sa' for Simple Archive
[00:23:02] *** Joins: n4dir (~user@i5E86C57E.versanet.de)
[00:23:31] * unixman facepalms (no. please no.)
[00:23:42] <xx> yes, oh yes!
[00:24:06] <xx> there definitely is a market for 'just the files, and nothing more'
[00:24:09] *** Joins: wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com)
[00:24:09] *** Quits: wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com) (Changing host)
[00:24:09] *** Joins: wuseman (~wuseman@user/wuseman)
[00:24:26] <xx> no danger of metadata leaks from the archival tool, etc.
[00:24:55] <xx> fully reproducible archives by default
[00:24:56] *** Joins: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net)
[00:25:06] <unixman> I'm thinking #bash isn't really the place to discuss developing a new archive tool. But I could be incorrect.
[00:25:21] <xx> because who wants to do `tar --mtime='1970-01-01 00:00:00Z' --sort=name --owner=0 --group=0 --numeric-owner -cvf archive.tar thefiles`
[00:25:24] * unixman wanders off into the Ethernet
[00:26:00] * noord looking at https://xkcd.com/927/
[00:26:35] <xx> or pax-style: `tar --format=posix --pax-option=exthdr.name=%d/PaxHeaders/%f,delete=atime,delete=ctime,delete=mtime --mtime='1970-01-01 00:00:00Z' --sort=name --owner=0 --group=0 --numeric-owner -cvf archive.tar thefiles`
[00:26:42] <xx> horrible, horrible stuff
[00:27:14] <xx> and even then it leaks info through filemodes, might need to reset them too `--mode=go-rwx,u-rw` or something
[00:27:32] * xx ends ranting
[00:29:31] <llua> ty
[00:31:05] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 252 seconds)
[00:31:37] *** Quits: Inline (~Inline@aftr-37-201-240-100.unity-media.net) (Ping timeout: 256 seconds)
[00:31:40] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:6442:8ff7:5284:391f)
[00:32:18] <earnest> xx: I made a tar-like thing which kept an uncompressed index for fast lookup and called it wax as a poc/joke
[00:33:33] *** Joins: narendraj9 (~user@2a02:8109:b63f:ff7c::57b2)
[00:36:13] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:6442:8ff7:5284:391f) (Ping timeout: 252 seconds)
[00:36:57] *** Quits: dermoth (~dermoth@user/dermoth) (Ping timeout: 252 seconds)
[00:37:03] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Quit: Leaving)
[00:37:15] *** Joins: rgrinberg (~textual@200.5.63.76)
[00:40:52] *** Joins: wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com)
[00:40:52] *** Quits: wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com) (Changing host)
[00:40:52] *** Joins: wuseman (~wuseman@user/wuseman)
[00:43:42] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[00:43:56] *** Joins: Codaraxis__ (~Codaraxis@user/codaraxis)
[00:45:11] *** Joins: Knaxius (~Knaxius@herzlichweise.de)
[00:47:35] *** Quits: Codaraxis_ (~Codaraxis@user/codaraxis) (Ping timeout: 252 seconds)
[00:48:36] *** Joins: dermoth (~dermoth@user/dermoth)
[00:49:39] *** Joins: Fausto (~dante@gateway/tor-sasl/filohuhum)
[00:50:52] *** Quits: Feuermagier_ (~Feuermagi@2a02:2488:4211:3400:b6fd:ec18:acf6:f1a8) (Ping timeout: 268 seconds)
[00:51:15] *** Quits: odoood (~odoood@pool-71-251-227-104.rcmdva.fios.verizon.net) (Ping timeout: 252 seconds)
[00:52:13] *** Joins: Feuermagier_ (~Feuermagi@2a02:2488:4211:3400:b6fd:ec18:acf6:f1a8)
[00:52:19] *** Joins: rcernin (~rcernin@124.190.136.148)
[00:56:00] *** Quits: YaoNai (~YaoNai@user/yaonai) (Quit: leaving)
[00:57:10] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Read error: Connection reset by peer)
[00:57:22] *** Quits: narendraj9 (~user@2a02:8109:b63f:ff7c::57b2) (Remote host closed the connection)
[00:57:27] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[00:59:28] *** Joins: Filystyn (~piotr@user/filystyn)
[01:01:39] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[01:03:32] *** Quits: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[01:03:50] <hentai> fallocate -l 2G backups.ext4.img; mkfs.ext4 backups.ext4.img; mkdir tmp.$$; mount backups.ext4.img tmp.$$; mv filestobackup/* tmp.$$/; umount tmp.$$; sync;
[01:04:37] <hentai> zstd --ultra -22 --rm -o backups.ext4.img
[01:04:46] <hentai> This is the archival for the people
[01:05:11] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Remote host closed the connection)
[01:05:55] <xx> the $$ should be quoted
[01:06:06] <hentai> Ah, pardon my manners! rmdir tmp.$$
[01:06:35] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[01:06:44] <xx> # echo $$; IFS=4; echo $$
[01:06:45] <shbot> xx: 44
[01:06:54] *** Joins: kyr (~kyr@167.71.50.12)
[01:07:05] <hentai> xx, despite the qefs, $$ can only provide a single number.
[01:07:13] <xx> hentai: see my above example
[01:07:30] <xx> there's a reason why it is qefs
[01:08:48] *** Quits: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23) (Remote host closed the connection)
[01:08:49] <hentai> 1. This is a practical example of how to do it in a live interactive shell - memorability is very much in priority. When doing scripts, one can do whatever of whatever complexity
[01:09:15] *** Joins: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23)
[01:09:32] <hentai> 2. Still, despite sounding very wrong, I see nothing what can be broken with a sane bash environment in the example above
[01:10:47] <hentai> Wait... I think I got your point :(
[01:10:50] <phy1729> I'd argue it's important for people to memorize and put into muscle memory qefs regardless of the situation
[01:11:38] *** Joins: rcernin_ (~rcernin@124.190.136.148)
[01:11:43] *** Quits: marw (4988ea31b1@knopi.disroot.org) (Read error: Connection reset by peer)
[01:12:22] <hentai> I am a fool, and I am embarrassed. Thank you. Possibly fortunate for me, it is not the first time happening to me
[01:12:54] <xx> don't be embarrassed, you're not the first person to think "It always returns a single number, I don't need to quote that"
[01:13:06] *** Quits: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net) (Quit: andydude)
[01:13:26] <xx> or "the string will never contain a space"
[01:13:46] <xx> and that's how we ended up with steam deleting all of /
[01:13:57] *** Quits: wuseman (~wuseman@user/wuseman) (Read error: Connection reset by peer)
[01:14:18] *** Quits: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23) (Ping timeout: 268 seconds)
[01:15:24] *** Joins: wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com)
[01:15:25] *** Quits: wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com) (Changing host)
[01:15:25] *** Joins: wuseman (~wuseman@user/wuseman)
[01:15:32] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[01:16:20] <NRK[m]> what exactly is going on in that example?
[01:17:43] <xx> shbot will always return 44 for $$, and so if IFS is set to 4, it will just think that 44 is two separators and show no output
[01:17:45] <xx> # echo $$
[01:17:46] <shbot> xx: 44
[01:17:52] <xx> # IFS=4; echo $$
[01:17:53] <shbot> xx: no output
[01:18:30] <NRK[m]> hmm
[01:19:01] <xx> there probably is a better way of demonstrating what I mean, but I'm no expert
[01:23:31] *** Quits: chomwitt (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374) (Ping timeout: 252 seconds)
[01:27:46] <xx> oh, I should also show this I guess:
[01:27:51] <xx> # IFS=4; echo "$$"
[01:27:52] <shbot> xx: 44
[01:27:58] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: see you tomorrow)
[01:28:01] <xx> to demonstrate that quoting protects it
[01:28:04] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[01:32:31] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:33:24] *** Joins: ^wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com)
[01:33:24] *** Quits: ^wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com) (Changing host)
[01:33:24] *** Joins: ^wuseman (~wuseman@user/wuseman/x-1147134)
[01:34:00] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 256 seconds)
[01:35:13] *** Quits: sazawal (~sazawal@223.190.82.88) (Quit: Leaving)
[01:37:32] *** Quits: Filystyn (~piotr@user/filystyn) (Quit: Lost terminal)
[01:39:50] *** Joins: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23)
[01:42:16] *** Joins: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft)
[01:44:12] *** Quits: abip20 (~abdullah@user/abip20) (Ping timeout: 256 seconds)
[01:44:25] *** Quits: rcernin (~rcernin@124.190.136.148) (Ping timeout: 252 seconds)
[01:45:47] *** Joins: rcernin (~rcernin@124.190.136.148)
[01:45:54] <joerg> when I got a dir with a two million files, how do I "ls" the first N files without waiting eternities for reading and buffering and sorting all inodes? a `find out/ | head -n10` took 10s to abort after I hit ^C 3 minutes after starting it
[01:46:42] *** Joins: smeeagle (~smeeagle@2a00:23c8:9611:e600:1401:22a5:674e:d69b)
[01:46:43] <joerg> any sorting irrelevant, I just want a few filenames, no matter which sorting
[01:47:33] <xx> that's a lot of files to have in 1 dir
[01:47:51] <joerg> yes, alas it's what I have to deal with, thanks mailman
[01:48:10] *** Quits: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft) (Ping timeout: 256 seconds)
[01:48:21] <xx> probably best to just run `ls` or some other tool once, save output to a file, and then use that file for whatever else you need doing in the future
[01:48:38] *** Quits: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23) (Ping timeout: 252 seconds)
[01:48:47] <xx> have a coffee in the meantime
[01:48:55] <joerg> yeah, that at least avoids multiple times waiting a 30min for the result
[01:49:16] <xx> well, a lunch break then
[01:49:30] <joerg> I pondered reading out the inode raw :->
[01:50:30] <joerg> hey! maybe strace ls ?
[01:51:30] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[01:52:08] *** Quits: martinus__ (~martin@96.19.201.77.rev.sfr.net) (Ping timeout: 256 seconds)
[01:53:47] *** Quits: rcernin_ (~rcernin@124.190.136.148) (Ping timeout: 256 seconds)
[02:01:33] *** Joins: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft)
[02:02:56] *** Joins: sukotai (~sukotai@11.75.89.92.rev.sfr.net)
[02:02:58] <joshbaptiste> joerg: http://be-n.com/spw/you-can-list-a-million-files-in-a-directory-but-not-with-ls.html
[02:03:45] *** Joins: stevensaus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[02:06:19] <e36freak> sounds like someone needs a database
[02:06:35] *** Joins: abip20 (~manjaro-u@103.66.177.186)
[02:06:39] <xx> e36freak: didn't you hear? Filesystems are the new databases
[02:07:35] *** Joins: ejjdhfjsu (~ejjdhfjsu@cmcust2a-84.174.nulinkdigital.com)
[02:08:37] *** Quits: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft) (Ping timeout: 252 seconds)
[02:11:07] *** Quits: eqw (~eqw@31.134.178.99) (Read error: Connection reset by peer)
[02:11:17] *** Joins: alzgh (~alzgh@user/alzgh)
[02:11:47] <llua> mapfile -td '' files < <(zsh -c 'files=(*(Y10)); print -Nr -- $files')
[02:12:23] <llua> mapfile -td '' files < <(zsh -c 'print -Nr -- *(Y10)')
[02:13:19] <alzgh> hello, I want to make a couple of programs startup on login. Is it a good practice to add the to `bash_profile`. Also, if the name of the executable is `program` and its full path is `/usr/bin/program` is it better to add the exec name only or the full path? O course after the PATH is set.
[02:14:47] *** Joins: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23)
[02:17:21] *** Quits: n4dir (~user@i5E86C57E.versanet.de) (Remote host closed the connection)
[02:17:23] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:5c71:3789:3fa4:15a9)
[02:18:20] *** Quits: nvmd (~nvmd@user/nvmd) (Ping timeout: 252 seconds)
[02:20:03] *** Joins: nvmd (~nvmd@user/nvmd)
[02:20:41] *** Quits: Knaxius (~Knaxius@herzlichweise.de) (Quit: bye)
[02:21:06] *** Quits: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66) (Remote host closed the connection)
[02:21:19] <joerg> thanks all! https://termbin.com/eg16
[02:21:20] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[02:21:35] *** Joins: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66)
[02:23:17] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:5c71:3789:3fa4:15a9) (Ping timeout: 252 seconds)
[02:23:26] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[02:23:39] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[02:24:24] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[02:24:36] *** Quits: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23) (Ping timeout: 268 seconds)
[02:24:57] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[02:25:30] <joerg> and https://termbin.com/v1yx
[02:25:31] *** Quits: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Ping timeout: 256 seconds)
[02:30:59] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 252 seconds)
[02:31:54] *** Joins: loganlee (~Thunderbi@user/loganlee)
[02:32:42] *** Joins: saki- (~saki@gateway/tor-sasl/saki)
[02:32:50] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Quit: Quitting)
[02:33:01] *** saki- is now known as saki
[02:35:11] <e36freak> alzgh: that's a fine place, and it doesn't matter as long as it's in PATH
[02:35:31] *** Quits: dermoth (~dermoth@user/dermoth) (Quit: Leaving)
[02:38:20] *** Quits: sukotai (~sukotai@11.75.89.92.rev.sfr.net) (Remote host closed the connection)
[02:40:08] *** Joins: dermoth (~dermoth@user/dermoth)
[02:40:10] *** Joins: arinov (~arinov@213.194.126.155)
[02:40:15] *** Joins: rcernin_ (~rcernin@124.190.136.148)
[02:41:44] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[02:41:47] *** Joins: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au)
[02:44:44] *** Quits: rcernin_ (~rcernin@124.190.136.148) (Ping timeout: 252 seconds)
[02:48:18] *** Joins: kj (~kj@kj.aerisnetwork.net)
[02:49:16] *** Quits: nvmd (~nvmd@user/nvmd) (Quit: Later, nerds.)
[02:49:19] *** Quits: ejjdhfjsu (~ejjdhfjsu@cmcust2a-84.174.nulinkdigital.com) (Ping timeout: 256 seconds)
[02:50:10] *** Joins: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23)
[02:50:13] *** Quits: dermoth (~dermoth@user/dermoth) (Quit: Leaving)
[02:54:18] *** Joins: dermoth (~dermoth@user/dermoth)
[02:54:30] *** Joins: Codaraxis_ (~Codaraxis@user/codaraxis)
[02:58:26] *** Quits: Codaraxis__ (~Codaraxis@user/codaraxis) (Ping timeout: 256 seconds)
[02:59:34] *** Quits: drd (~drd@93-42-69-115.ip85.fastwebnet.it) (Ping timeout: 256 seconds)
[02:59:35] *** Quits: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23) (Ping timeout: 252 seconds)
[03:00:39] *** Quits: podeni (~podeni@188.27.129.74) (Ping timeout: 256 seconds)
[03:02:37] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Remote host closed the connection)
[03:08:14] *** Quits: rgrinberg (~textual@200.5.63.76) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:12:51] *** Quits: The_Jag (~The_Jag@host-79-36-38-58.retail.telecomitalia.it) (Quit: The_Jag)
[03:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:15:39] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:17:14] *** Joins: vysn (~vysn@user/vysn)
[03:18:15] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[03:18:39] *** Quits: xayto (~xayto@cpc69403-oxfd27-2-0-cust296.4-3.cable.virginm.net) (Ping timeout: 252 seconds)
[03:19:36] *** Joins: igemnace (~ian@user/igemnace)
[03:20:02] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:39] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:20:56] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[03:21:42] *** Joins: xayto (~xayto@cpc69403-oxfd27-2-0-cust296.4-3.cable.virginm.net)
[03:24:46] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3)
[03:24:56] *** Quits: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net) (Remote host closed the connection)
[03:25:02] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:5c71:3789:3fa4:15a9)
[03:25:17] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[03:26:19] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng32-54fbfb-173.dhcp.inet.fi) (Read error: Connection reset by peer)
[03:27:44] *** Joins: iconoclasthero (~quassel@pool-68-238-241-198.phlapa.fios.verizon.net)
[03:30:50] *** Joins: seninha (~seninha@user/seninha)
[03:35:12] *** Joins: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net)
[03:35:14] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.3)
[03:36:00] *** Quits: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net) (Read error: Connection reset by peer)
[03:38:50] <quesker> what is going on here   if true || false && false; then echo foo;fi
[03:39:09] <quesker> posix btw
[03:39:33] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:5c71:3789:3fa4:15a9) (Ping timeout: 252 seconds)
[03:39:54] <quesker> is it left to right only?  shouldn't && bind tighter though?
[03:39:55] <xx> # if true || false && false; then echo foo;fi
[03:39:56] <shbot> xx: no output
[03:40:51] <quesker> anyway how can I group the second two then?  posix...
[03:41:04] <quesker> yes I can run the damn script thanks awesome
[03:42:02] *** Joins: odoood (~odoood@pool-71-251-227-104.rcmdva.fios.verizon.net)
[03:42:50] <xx> # if true || ( false && false ); then echo foo;fi
[03:42:51] <shbot> xx: foo
[03:43:02] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 240 seconds)
[03:43:24] <xx> creates an extra subshell though, which might be a problem depending on what you're actually running
[03:45:21] <quesker> I will just break into 2 lines I guess
[03:45:54] *** Quits: odoood (~odoood@pool-71-251-227-104.rcmdva.fios.verizon.net) (Client Quit)
[03:47:01] <quesker> oh I can reverse the order
[03:47:20] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:e1ca:8d5a:1c5d:18a6)
[03:47:20] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:e1ca:8d5a:1c5d:18a6) (Changing host)
[03:47:20] *** Joins: skapata (~Skapata@user/skapata)
[03:47:48] <twkm> { false && false; } would avoid the subshell.
[03:48:03] <quesker> ok thanks
[03:48:15] *** Quits: rcernin (~rcernin@124.190.136.148) (Ping timeout: 256 seconds)
[03:49:40] <alzgh> thanks e36freak
[03:50:59] *** Quits: iconoclasthero (~quassel@pool-68-238-241-198.phlapa.fios.verizon.net) (Remote host closed the connection)
[03:53:00] *** Joins: rcernin (~rcernin@124.190.136.148)
[03:58:27] *** Quits: luva (~luva@45.141.152.44) (Ping timeout: 256 seconds)
[03:59:40] *** Quits: howdoi (uid224@id-224.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[04:00:47] <loganlee> i did $ bash -c 'trap times EXIT; sleep 1' and it gives four values with suffix 's'
[04:00:50] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[04:01:17] *** Joins: luva (~luva@45.141.152.44)
[04:08:36] *** Joins: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net)
[04:13:03] *** Quits: led_belly (~led_belly@5.180.62.139) (Remote host closed the connection)
[04:13:50] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 252 seconds)
[04:14:31] <kurahaupo> # trap times EXIT ; sleep 0.125
[04:14:32] <shbot> kurahaupo: no output
[04:14:55] <kurahaupo> # bash -c 'trap times EXIT ; sleep 0.125'
[04:14:56] <shbot> kurahaupo: 0m0.037s 0m0.014s
[04:14:56] <shbot> kurahaupo: 0m0.015s 0m0.010s
[04:16:14] *** Quits: Libero (~Libero@130.43.23.56.dsl.dyn.forthnet.gr) (Read error: Connection reset by peer)
[04:16:24] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[04:17:27] <loganlee> not sure what they man
[04:17:29] <loganlee> mean
[04:18:03] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 252 seconds)
[04:21:30] <e36freak> user and system times for the shell, and user and system times for child processes
[04:22:26] <e36freak> that's 4
[04:22:40] <kurahaupo> loganlee: First line is the shell itself, the second line is its children, grandchildren etc (including subshells); the two times on each line are CPU time in the process, and CPU time in the kernel on its behalf
[04:23:33] *** Quits: tex (~super@user/dix) (Ping timeout: 252 seconds)
[04:23:44] <loganlee> ok thx!
[04:24:26] <kurahaupo> Compare:
[04:24:27] <kurahaupo> # bash -c 'trap "echo with brackets; times" EXIT ; ( for ((i=10000;i;--i)) do :; done )'
[04:24:27] <kurahaupo> # bash -c 'trap "echo without brackets; times" EXIT ; for ((i=10000;i;--i)) do :; done'
[04:24:29] <shbot> kurahaupo: with brackets
[04:24:30] <shbot> kurahaupo: 0m0.121s 0m0.018s
[04:24:30] <shbot> kurahaupo: 0m1.221s 0m0.010s
[04:24:30] <shbot> kurahaupo: without brackets
[04:24:30] <shbot> kurahaupo: 0m0.853s 0m0.014s
[04:24:30] <shbot> kurahaupo: 0m0.000s 0m0.000s
[04:25:40] <loganlee> ah ok so second one has no children
[04:28:59] *** Quits: eleventh (~eleventh@143.131.13.208) (Read error: Connection reset by peer)
[04:29:57] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[04:30:01] *** Quits: bertptrs (~quassel@user/bertptrs) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[04:30:37] *** Joins: bertptrs (~quassel@user/bertptrs)
[04:30:39] *** Quits: smeeagle (~smeeagle@2a00:23c8:9611:e600:1401:22a5:674e:d69b) (Quit: smeeagle)
[04:32:44] *** Joins: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft)
[04:33:58] *** Joins: asen (~asen@2408:821b:618:2ef0:ab85:814b:bf8f:a143)
[04:34:40] *** Joins: rgrinberg (~textual@200.5.63.76)
[04:35:08] *** Quits: asen (~asen@2408:821b:618:2ef0:ab85:814b:bf8f:a143) (Remote host closed the connection)
[04:35:20] *** Joins: asen (~asen@2408:821b:618:2ef0:ab85:814b:bf8f:a143)
[04:39:15] *** Quits: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft) (Ping timeout: 256 seconds)
[04:39:18] *** Quits: rcernin (~rcernin@124.190.136.148) (Ping timeout: 256 seconds)
[04:41:21] *** Joins: sublim20 (~sublim20@user/sublim20)
[04:43:55] *** Quits: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net) (Remote host closed the connection)
[04:44:19] *** Joins: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net)
[04:46:06] *** Quits: robobo7 (~robobo@c-e52c524e.015-74-6762675.bbcust.telenor.se) (Ping timeout: 256 seconds)
[04:47:10] *** Joins: rcernin (~rcernin@124.190.136.148)
[04:52:04] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[04:55:57] *** Joins: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23)
[04:56:35] *** Joins: akoana (~ah@user/akoana)
[04:59:56] *** Joins: MattMadness (~MattMadne@cpe-74-78-250-226.twcny.res.rr.com)
[05:01:51] *** Quits: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23) (Ping timeout: 268 seconds)
[05:03:09] *** Quits: DaNeenjah (~jake@adsl-74-230-8-177.hsv.bellsouth.net) (Quit: WeeChat 3.3)
[05:04:04] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:5c71:3789:3fa4:15a9)
[05:09:15] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:5c71:3789:3fa4:15a9) (Ping timeout: 268 seconds)
[05:10:58] *** Joins: cliluw (~cliluw@47.147.80.149)
[05:13:18] *** Joins: robobo7 (~robobo@c-e52c524e.015-74-6762675.bbcust.telenor.se)
[05:13:26] *** Quits: cdown (~cdown@163.114.131.1) (Quit: https://chrisdown.name)
[05:13:40] *** Joins: cdown (~cdown@163.114.131.1)
[05:14:16] *** Joins: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23)
[05:14:20] *** Quits: kold (~quassel@S0106b0e4d5642fb6.cg.shawcable.net) (Quit: kold)
[05:14:31] *** Joins: ejjdhfjsu (~ejjdhfjsu@cmcust2a-84.174.nulinkdigital.com)
[05:14:54] *** Joins: kold (~quassel@S0106b0e4d5642fb6.cg.shawcable.net)
[05:16:22] *** Quits: MattMadness (~MattMadne@cpe-74-78-250-226.twcny.res.rr.com) (Read error: Connection reset by peer)
[05:21:41] *** Joins: MattMadness (~MattMadne@cpe-74-78-250-226.twcny.res.rr.com)
[05:23:19] *** Quits: rcernin (~rcernin@124.190.136.148) (Ping timeout: 252 seconds)
[05:25:20] *** Quits: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23) (Ping timeout: 252 seconds)
[05:26:00] *** Joins: ferdna (~ferdna@user/ferdna)
[05:26:29] *** Quits: timj (~timj@user/timj) (Quit: Leaving.)
[05:26:56] *** Quits: knstn (~knstn@ppp-94-66-57-28.home.otenet.gr) (Quit: leaving)
[05:30:34] *** Quits: BSaboia (~bsaboia@177.37.198.35) (Quit: This computer has gone to sleep)
[05:36:08] *** Joins: sudomannn (~sudomann@2601:543:100:4fc8:9039:5d09:805c:b877)
[05:38:03] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Remote host closed the connection)
[05:38:11] *** Quits: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au) (Ping timeout: 256 seconds)
[05:39:49] *** Quits: sudomann (~sudomann@2601:543:100:4fc8:8838:fd4e:364:585d) (Ping timeout: 252 seconds)
[05:41:02] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:bc1c:bbc4:ad37:23e0)
[05:44:17] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[05:44:46] *** Quits: sudomannn (~sudomann@2601:543:100:4fc8:9039:5d09:805c:b877) (Quit: Leaving)
[05:44:58] *** Quits: MattMadness (~MattMadne@cpe-74-78-250-226.twcny.res.rr.com) (Read error: Connection reset by peer)
[05:46:47] *** Quits: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net) (Ping timeout: 252 seconds)
[05:48:24] *** Joins: MattMadness (~MattMadne@cpe-74-78-250-226.twcny.res.rr.com)
[05:49:11] *** Joins: rcernin_ (~rcernin@124.190.136.148)
[05:49:16] *** Quits: MattMadness (~MattMadne@cpe-74-78-250-226.twcny.res.rr.com) (Read error: Connection reset by peer)
[05:51:11] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:bc1c:bbc4:ad37:23e0) (Ping timeout: 268 seconds)
[05:51:41] *** Joins: TenochSLB (~Tenochyy@108-216-74-215.lightspeed.wchtks.sbcglobal.net)
[05:56:02] *** Joins: fatal (~0x00@user/fatal)
[05:56:53] *** Quits: earnest (~earnest@user/earnestly) (Ping timeout: 256 seconds)
[05:57:04] <hejux> can i join this to make it shorter? if [[ -n "${ref[domain]}" ]] && [[ -n "${ref[ipaddr]}" ]]
[05:57:28] <e36freak> yeah you can put the && inside [[
[05:57:34] <e36freak> just not [
[05:58:12] <hejux> if [[ -n "${ref[domain]}" && -n "${ref[ipaddr]}" ]] , like this ?
[05:58:27] <xx> yes
[05:58:28] <e36freak> !tias
[05:58:28] <greybot> Try It And See
[05:59:44] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:5c71:3789:3fa4:15a9)
[06:01:55] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Read error: error:1408F119:SSL routines:ssl3_get_record:decryption failed or bad record mac)
[06:02:09] <hejux> what about -n @(...)
[06:02:21] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[06:04:23] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:5c71:3789:3fa4:15a9) (Ping timeout: 252 seconds)
[06:05:16] <hejux> ${array[@]} = all items, ${array[0]} = first item , what is the form of a random item
[06:06:19] <hejux> or is there one?
[06:07:19] <e36freak> there is not
[06:07:21] <e36freak> !faq random
[06:07:21] <greybot> https://mywiki.wooledge.org/BashFAQ/026 -- How can I randomize (shuffle) the order of lines in a file?  Or select a random line from a file, or select a random file from a directory?
[06:07:31] *** Quits: LtL (~debian@user/ltl) (Quit:  )
[06:07:35] <e36freak> and -n does not use a pattern
[06:07:46] <e36freak> patterns need something to match against
[06:08:08] <hejux> got it
[06:08:12] <hejux> !ty
[06:08:13] <greybot> If you say plz because it's shorter than please, we'll say no because it's shorter than yes. http://yaku.dk/s/irc/dont-use-thx-sry-plz.txt
[06:08:52] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[06:08:59] <e36freak> !meta ty
[06:08:59] <greybot> e36freak 1298917351(2011-02-28) learn #redirect plz
[06:09:04] <e36freak> heh
[06:09:12] <xx> oh that's cool, I learned something new, '10x'
[06:09:19] <xx> 10x for that
[06:09:21] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[06:09:23] <e36freak> any time
[06:10:17] <hejux> greybot: that is a good joke
[06:11:36] <xx> hejux: greybot is a bot
[06:11:50] <xx> or at least we think so
[06:11:59] <e36freak> i give it 50/50
[06:12:15] <e36freak> could just be someone with a really good memory who types fast
[06:12:23] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.3)
[06:13:29] *** Joins: usr0 (~usr0@95-24-24-194.broadband.corbina.ru)
[06:13:56] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 256 seconds)
[06:16:36] *** Joins: wikan (~wikan@2a02:a31d:8541:e100:213:2ff:fed3:8291)
[06:18:56] *** Joins: sublim20 (~sublim20@user/sublim20)
[06:19:13] *** Joins: hqdruxn08__ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[06:21:50] *** Joins: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au)
[06:22:06] *** Quits: nomn (nomn@user/nomn) (Ping timeout: 260 seconds)
[06:22:40] *** Quits: Momentum (momentum@tilde.team) (Ping timeout: 265 seconds)
[06:23:27] *** Quits: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 252 seconds)
[06:24:07] *** Joins: Momentum (momentum@tilde.team)
[06:24:08] *** Joins: nomn (nomn@user/nomn)
[06:24:41] <hejux> xx: he's not. sometimes he shows up as a human
[06:25:08] <xx> hejux: that's probably a bug
[06:25:25] *** Quits: millido (~millido@84.210.150.128) (Quit: ZNC 1.8.2 - https://znc.in)
[06:26:06] <hejux> oh, sorry. i mean graycat
[06:26:20] <hejux> !greycat
[06:26:20] <greybot> greycat is neither grey, nor gray, nor a cat.
[06:27:19] <Blondie101010> greybot is an hybrid
[06:28:00] *** Quits: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net) (Remote host closed the connection)
[06:31:02] <Blondie101010> hmmm, I could also be confusing greybot with greycat actually
[06:31:29] <sublim20> !greybot
[06:31:29] <greybot> I'm a bot. I'm written in perl. My source, factoids, and stats are at http://wooledge.org/~greybot/ . See !help for a list of my commands. git mirror https://github.com/im14/greybot
[06:31:34] *** Joins: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23)
[06:32:04] *** Joins: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net)
[06:32:43] *** Quits: wikan (~wikan@2a02:a31d:8541:e100:213:2ff:fed3:8291) (Quit: Client closed)
[06:32:59] *** Quits: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[06:35:31] *** Joins: millido (~millido@84.210.150.128)
[06:35:49] <xx> !heirloom
[06:35:50] <greybot> The Heirloom Bourne Shell is an implementation of the classic (pre-Posix) Bourne shell. http://heirloom.sourceforge.net/sh.html
[06:37:07] *** Quits: rcernin_ (~rcernin@124.190.136.148) (Ping timeout: 256 seconds)
[06:39:07] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[06:39:35] *** Quits: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net) (Ping timeout: 252 seconds)
[06:42:53] *** Quits: roadie (~user@2a02:8108:ec0:1427:8597:c3df:61b8:2b23) (Ping timeout: 252 seconds)
[06:45:05] *** Joins: randomxusr (~randomusr@c-73-242-70-183.hsd1.mn.comcast.net)
[06:46:06] *** Joins: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net)
[06:54:21] *** Quits: ialokin (znc@user/ialokin) (Ping timeout: 250 seconds)
[06:54:39] *** Quits: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net) (Remote host closed the connection)
[06:54:42] *** Joins: roadie (~user@2a02:8108:ec0:1427:8c53:6835:48eb:d9cf)
[06:54:56] *** Joins: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net)
[06:56:37] *** Joins: ialokin (znc@user/ialokin)
[06:59:29] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[07:07:05] *** Quits: jos1 (~jos3@dyndsl-091-248-052-174.ewe-ip-backbone.de) (Ping timeout: 252 seconds)
[07:13:26] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 256 seconds)
[07:18:26] *** Joins: gschanuel27 (~gschanuel@user/gschanuel)
[07:20:00] *** Joins: jos1 (~jos3@dyndsl-178-142-070-050.ewe-ip-backbone.de)
[07:21:45] *** Quits: gschanuel2 (~gschanuel@user/gschanuel) (Ping timeout: 252 seconds)
[07:21:45] *** gschanuel27 is now known as gschanuel2
[07:26:15] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Read error: error:1408F119:SSL routines:ssl3_get_record:decryption failed or bad record mac)
[07:26:41] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[07:27:38] *** Joins: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net)
[07:28:31] *** Joins: on^ (~on@68.101.58.90)
[07:29:55] *** Quits: usr0 (~usr0@95-24-24-194.broadband.corbina.ru) (Remote host closed the connection)
[07:30:39] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:32:08] *** Quits: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[07:33:29] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 252 seconds)
[07:40:01] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.3)
[07:40:17] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:47:52] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:5c71:3789:3fa4:15a9)
[07:50:56] *** Quits: hejux (~hejux@146.56.136.247) (Quit: WeeChat 3.0)
[07:51:05] *** Quits: roadie (~user@2a02:8108:ec0:1427:8c53:6835:48eb:d9cf) (Ping timeout: 252 seconds)
[07:51:28] *** Joins: hejux (~hejux@104.224.190.144.16clouds.com)
[07:51:38] <hejux> yo yo
[07:51:42] *** Joins: fstd_ (~fstd@xdsl-81-173-139-70.nc.de)
[07:52:44] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:5c71:3789:3fa4:15a9) (Ping timeout: 252 seconds)
[07:53:43] *** Quits: hejux (~hejux@104.224.190.144.16clouds.com) (Client Quit)
[07:54:12] *** Joins: hejux (~hejux@104.224.190.144.16clouds.com)
[07:54:59] *** Quits: fstd (~fstd@xdsl-87-79-98-69.nc.de) (Ping timeout: 265 seconds)
[07:56:53] <hejux> is it a good idea? `for ; do cmd && break ; done || logerror`
[07:58:29] <hejux> # ls
[07:58:30] <shbot> hejux: no output
[07:58:37] <hejux> # ls /bin
[07:58:39] <shbot> hejux: [         bsh       dd       gencat    locale     nice     sed      tr
[07:58:39] <shbot> hejux: adu       bunzip2   df       getconf   localedef  nl       seq      true
[07:58:39] <shbot> hejux: etc... ( http://ix.io/2WSZ )
[08:00:28] *** Quits: ejjdhfjsu (~ejjdhfjsu@cmcust2a-84.174.nulinkdigital.com) (Ping timeout: 256 seconds)
[08:00:29] *** Joins: karstensrage (~karstensr@user/karstensrage)
[08:00:45] <hejux> # for i in "nothing" "/bin/dd" ; do ls "$i" &>/dev/null && break ; done || printf "%s\n" "nothing is there"
[08:00:46] <shbot> hejux: no output
[08:00:53] <hejux> # for i in "nothing" "nofile" ; do ls "$i" &>/dev/null && break ; done || printf "%s\n" "nothing is there"
[08:00:54] <shbot> hejux: nothing is there
[08:01:08] <hejux> ok, it works
[08:02:21] <hejux> in this case the exit status of for loop is actually commamnd `ls`'s
[08:03:58] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[08:04:05] <hejux> # break ; echo $?
[08:04:06] <shbot> hejux: bash: break: only meaningful in a `for', `while', or `until' loop
[08:04:06] <shbot> hejux: 0
[08:05:58] *** Joins: led_belly (~led_belly@5.180.62.222)
[08:06:06] <e36freak> what are you trying to do
[08:06:21] *** Joins: vishal (~vishal@fedora/vishal)
[08:06:52] <hejux> loop a ddns
[08:07:59] *** Parts: akoana (~ah@user/akoana) (Leaving)
[08:09:08] *** Joins: elongated_ferret (~enlongate@2001:470:69fc:105::1:43c8)
[08:09:40] <hejux> for i in "${urls[@]}" ; do ipaddr=(curl -sf "$i") && break ; done || { echo "tried every ${urls[@]}", no reply ; exit 1 ; } ; echo $ipaddr
[08:10:18] <hejux> :) ^^^ e36freak
[08:10:18] <llua> heh
[08:10:25] <e36freak> could work
[08:10:35] <e36freak> i'd probably set a flag variable for clarity
[08:12:24] *** Joins: overrider (~overrider@user/overrider)
[08:13:05] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Ping timeout: 252 seconds)
[08:13:09] <xx> won't that break on the first run?
[08:13:27] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 256 seconds)
[08:13:56] *** Joins: Bitters (~Bitters@37.19.211.58)
[08:14:11] <e36freak> looks to me like the goal is to set ipaddr and break on the first success
[08:14:16] <e36freak> err if none work
[08:14:34] <e36freak> if that's the case, it should work fine
[08:14:42] <xx> ah, I get the error message now
[08:14:45] <hejux> e36freak: like this ? https://paste.rs/RX2
[08:15:29] <xx> uh, should probably be "tried every ${urls[*]}"
[08:15:39] *** Quits: tessio (~weechat@141.226.73.54) (Ping timeout: 252 seconds)
[08:15:47] <Bitters> Hmmmm
[08:16:29] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[08:16:30] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.1)
[08:17:10] *** Parts: Bitters (~Bitters@37.19.211.58) (Closing Window)
[08:17:55] *** Joins: rcernin (~rcernin@124.190.136.148)
[08:18:14] *** Parts: karstensrage (~karstensr@user/karstensrage) (Leaving)
[08:18:51] <e36freak> hejux: that would be using a flag variable, yes
[08:19:21] <e36freak> i prefer using 'if' over abusing || with multiple commands afterward, but it's valid. just a style thing
[08:20:11] <e36freak> for cmd; do if ! type -P "$cmd" &>/dev/null; then infor "$cmd does not exist"; missing=1; fi; done; ((missing)) && exit 1
[08:21:33] <hejux> =1 nice
[08:22:24] <e36freak> yeah, i like to use 0/1 and ((
[08:22:46] <e36freak> also allows things like ((! flag)), ((flag1 && flag2)), etc
[08:23:07] <e36freak> ((flag = !flag)) to flip it
[08:23:18] <hejux> not (($missing)) ?
[08:23:27] <e36freak> don't need $ in an arithmetic context
[08:23:27] *** Joins: bash-libera (~bash-libe@h216-170-204-47.hrcnut.broadband.dynamic.tds.net)
[08:23:47] <e36freak> in fact it's discouraged. without the $, an empty variable is treated as 0. with, it can be a syntax error
[08:23:54] <e36freak> # (( $empty ))
[08:23:55] <shbot> e36freak: no output
[08:23:55] <hejux> don't need or both works?
[08:24:02] <e36freak> preferred without
[08:24:41] <e36freak> # ((foo = empty)); echo "$foo"
[08:24:42] <shbot> e36freak: 0
[08:24:44] <e36freak> # ((foo = $empty)); echo "$foo"
[08:24:45] <shbot> e36freak: bash: ((: foo = : syntax error: operand expected (error token is "= ")
[08:25:36] <bash-libera> Hi, I know this is a super basic question, I have been writing bash scripts without much structure for years and am finally nailing down some best practices. Can anyone link me to some of those best practices? In particular I am looking at making sure I respond to the exit codes properly
[08:25:57] <e36freak> i don't know if there's just like a list
[08:26:04] <e36freak> you can start with the documentation in the topic
[08:26:06] <e36freak> !pitfalls
[08:26:06] <greybot> http://mywiki.wooledge.org/BashPitfalls
[08:26:10] <e36freak> is a good list of what not to do
[08:26:58] <bash-libera> Ok will do
[08:28:01] <e36freak> also lurk here and see what people get yelled at for :)
[08:28:18] <e36freak> as far as handling exit codes, "if" works well
[08:28:33] *** Joins: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net)
[08:28:49] <bash-libera> haha makes sense, planning on doing that :)
[08:29:06] <bash-libera> Shellcheck has been game changing
[08:29:13] <bash-libera> Though I have been noticing it breaks on my Heredocs?
[08:29:15] <earendel> i can also spit in your face a bit.
[08:30:02] <bash-libera> gangster i like it
[08:30:03] <xx> that's a serious offense in 2021
[08:30:44] <earendel> no. just an expression of verachtung.
[08:31:10] <earendel> im sorry. i thought you want me to get paid for it.
[08:31:25] <earendel> i have no interest otherwise.
[08:32:40] <earendel> just because i push you aside, doesn't mean much.
[08:33:13] <earendel> it could. but doesn't.
[08:33:17] *** Quits: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[08:33:57] <earendel> you know. bees die when they sting.
[08:34:07] <earendel> its a final act.
[08:34:09] <earendel> immaculate.
[08:35:08] <earendel> for the genuine members of this channel. doofy banned me on some completetly dead channel to continue here.
[08:35:58] <earendel> of course.
[08:35:59] *** Quits: abip20 (~manjaro-u@103.66.177.186) (Quit: Konversation terminated!)
[08:38:19] *** Quits: on^ (~on@68.101.58.90) (Remote host closed the connection)
[08:38:31] <e36freak> wot
[08:39:03] <e36freak> bash-libera: can you create a simple script that reproduces a heredoc breaking shellcheck?
[08:39:46] <e36freak> i'm sure koala_man would appreciate it
[08:43:07] *** Joins: dlew^ (~dlew@68.101.58.90)
[08:44:51] *** Quits: funabashi (funabashi@185.52.0.236) (Ping timeout: 250 seconds)
[08:45:04] <earendel> and you?
[08:45:16] <earendel> whats your blend?
[08:45:49] *** Joins: funabashi (funabashi@185.52.0.236)
[08:46:54] *** Joins: roadie (~user@2a02:8108:ec0:1427:cd65:3dfe:5f8d:684e)
[08:50:17] *** Quits: funabashi (funabashi@185.52.0.236) (Ping timeout: 256 seconds)
[08:51:01] *** Quits: victorbrca (~victorbrc@user/victorbrca) (Quit: Ping timeout (120 seconds))
[08:51:23] *** Joins: victorbrca (~victorbrc@user/victorbrca)
[08:52:57] <earendel> tell me im beautiful.
[08:53:45] *** Quits: joerg (~saturn@user/joerg) (Ping timeout: 256 seconds)
[08:55:11] *** Joins: joerg (~saturn@user/joerg)
[08:57:38] *** Quits: roadie (~user@2a02:8108:ec0:1427:cd65:3dfe:5f8d:684e) (Ping timeout: 252 seconds)
[08:57:48] <earendel> greycat emanuele6 geirha .. damn it maybe even ormaaj  will make it into my lubilubing corps.
[08:58:22] *** Joins: funabashi (funabashi@185.52.0.236)
[08:58:37] <bash-libera> e3freak: I will try, i'm sure it will expose where i'm actually doing something but that result would be just as desireable
[09:00:22] *** Joins: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de)
[09:02:40] <earendel> moby dick is filet.
[09:04:01] <earendel> anybody here misses dick? tangy? i would pick you to meet the latest diversity standards.
[09:04:01] <earendel> lol
[09:04:47] <earendel> and because i support da youth.
[09:04:52] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[09:05:32] *** Joins: bobloblaw311 (~bobloblaw@2a00:d880:5:d4::962b)
[09:05:53] *** Joins: tessio (~weechat@141.226.73.109)
[09:07:19] *** Quits: bobloblaw (~bobloblaw@185.52.3.117) (Ping timeout: 265 seconds)
[09:08:03] *** Quits: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net) (Remote host closed the connection)
[09:10:08] *** Joins: Knaxius (~Knaxius@herzlichweise.de)
[09:11:38] *** Joins: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net)
[09:15:54] <hejux> i just found some intetesting thing e36freak
[09:17:15] <hejux> # if ((1>0)) ; then echo yes ;fi ; if $((1>0)) ; then echo yes ; fi
[09:17:16] <shbot> hejux: yes
[09:17:16] <shbot> hejux: bash: 1: command not found
[09:18:08] *** Joins: usr0 (~usr0@95-24-24-194.broadband.corbina.ru)
[09:19:05] *** Quits: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net) (Ping timeout: 252 seconds)
[09:20:11] <earendel> # echo 1 > 0
[09:20:12] <shbot> earendel: no output
[09:20:28] <earendel> # echo 1>0
[09:20:29] <shbot> earendel: no output
[09:20:59] <hejux> # if ((1>0)) ; then echo yes ;fi ; if (($((1>0)))) ; then echo yes ; fi
[09:20:59] <shbot> hejux: yes
[09:21:00] <shbot> hejux: yes
[09:21:03] *** Quits: rgrinberg (~textual@200.5.63.76) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:21:09] <hejux> # if ((1>0)) ; then echo yes ;fi ; if (($((1<0)))) ; then echo yes ; fi
[09:21:09] <shbot> hejux: yes
[09:21:34] <earendel> what u expect the operator > to be?
[09:21:57] <hejux> compare
[09:22:26] <earendel> wouldn't that be -gt or sth
[09:22:29] *** Joins: rgrinberg (~textual@200.5.63.76)
[09:22:51] <hejux> earendel: no, https://www.gnu.org/software/bash/manual/html_node/Shell-Arithmetic.html
[09:23:07] *** Quits: rgrinberg (~textual@200.5.63.76) (Client Quit)
[09:23:35] <earendel> # if [[ "1" -gt  "2" ]]; then echo yes; else echo no; fi
[09:23:36] <shbot> earendel: no
[09:23:42] <earendel> # if [[ "3" -gt  "2" ]]; then echo yes; else echo no; fi
[09:23:43] <shbot> earendel: yes
[09:24:36] <hejux> yeah, i've learnt enough about [[ , im learning ((
[09:25:45] <earendel> # if ((0)); then echo no; else echo yes; fi
[09:25:46] <shbot> earendel: yes
[09:25:53] <earendel> # if ((1)); then echo no; else echo yes; fi
[09:25:54] <shbot> earendel: no
[09:27:03] <earendel> # ((x=1>2)); echo "$x"
[09:27:04] <shbot> earendel: 0
[09:27:20] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 252 seconds)
[09:27:44] <earendel> # ((x=1<2)); echo "$x"
[09:27:45] <shbot> earendel: 1
[09:28:23] <hejux> ((0)) = false
[09:28:40] <earendel> # echo "$((1<2))";
[09:28:41] <shbot> earendel: 1
[09:28:45] *** Joins: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net)
[09:28:58] *** Quits: usr0 (~usr0@95-24-24-194.broadband.corbina.ru) (Remote host closed the connection)
[09:29:11] <e36freak> hejux: (( and $(( are two different things. (( is a test, it doesn't expand to anything, but exits according to whether the inside evaluates to 0 or !0
[09:29:36] <e36freak> $(( is an expansion, like variable expansion, it's replaced with whatever is inside evaluates to
[09:29:42] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[09:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Read error: Connection reset by peer)
[09:30:03] *** Joins: usr0 (~usr0@95-24-24-194.broadband.corbina.ru)
[09:30:17] <e36freak> ((1 > 0)), 1 > 0 is true, so it evaluates to 1. since 1 != 0, (( sees it as true and exits 0
[09:30:33] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[09:30:38] *** Parts: usr0 (~usr0@95-24-24-194.broadband.corbina.ru) ()
[09:30:41] <e36freak> $((1 > 0)), 1 > 0 is still true, and it still evaluates to 1. therefore $(( expands to "1" and is replaced with it
[09:31:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[09:31:15] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:31:45] <e36freak> same way printf("%d\n", 1 > 0); # prints 1 in C
[09:31:46] <earendel> but it will do arithmetics as well right? just passing back what ever the subshell put out stdout..
[09:31:48] <e36freak> or awk
[09:32:04] *** Joins: seninha (~seninha@user/seninha)
[09:32:06] <earendel> or ruby.
[09:32:08] <e36freak> # awk 'BEGIN {print (1 > 0)}'
[09:32:08] <shbot> e36freak: 1
[09:32:12] <e36freak> or a lot of languages
[09:32:14] <earendel> even mariolang
[09:32:29] <hejux> a=((1+2)) ; echo $a
[09:32:33] <earendel> in case somebody will implement it.
[09:32:35] <hejux> # a=((1+2)) ; echo $a
[09:32:36] <shbot> hejux: bash: syntax error near unexpected token `('
[09:32:45] <e36freak> you need the exansion there
[09:32:49] <earendel> put the a inside it
[09:32:49] <e36freak> a=$((1 + 2))
[09:32:56] <hejux> # a="((1+2))" ; echo $a
[09:32:56] <shbot> hejux: ((1+2))
[09:32:59] <e36freak> you could also write it as ((a = 1 + 2))
[09:33:03] <hejux> # a=$((1+2)) ; echo $a
[09:33:04] <shbot> hejux: 3
[09:33:12] <hejux> yeah, $ = expand
[09:33:21] *** Quits: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[09:33:42] <earendel> which was not really clear.
[09:33:56] *** Quits: ^wuseman (~wuseman@user/wuseman/x-1147134) (Ping timeout: 252 seconds)
[09:34:11] <e36freak> hence why if $((1 > 0)) # gives you 1: command not found
[09:34:20] <e36freak> it expands to "1", and then tries to run that as the command
[09:34:31] <hejux> yeah
[09:34:59] *** Joins: roadie` (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[09:35:10] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Remote host closed the connection)
[09:35:11] <earendel> i dont get why.
[09:35:36] <e36freak> what don't you get?
[09:35:59] <e36freak> just like if "$var"; then # will true to run whatever's in var as a command
[09:36:02] <hejux> i don't know any of C and this (( is from C
[09:36:03] <earendel> why is 1+2 a valid expression and 1 > 0 not?
[09:36:05] <e36freak> try to *
[09:36:09] <hejux> hence i confuse
[09:36:27] <e36freak> earendel: 1 > 0 is a valid expression
[09:36:33] *** Joins: wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com)
[09:36:33] *** Quits: wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com) (Changing host)
[09:36:33] *** Joins: wuseman (~wuseman@user/wuseman)
[09:36:34] <e36freak> # var=$((1 > 0)); echo "$var"
[09:36:35] <shbot> e36freak: 1
[09:36:52] <earendel> because of the assignment?
[09:36:53] <e36freak> hejux: (( is not from C, but arithmetic syntax is similar
[09:37:01] <e36freak> earendel: assignment has nothing to do with it
[09:37:05] <e36freak> # echo $((1 > 0))
[09:37:06] <shbot> e36freak: 1
[09:37:31] <earendel> its estranging as to my understanding the subshell would not know its value is assigned to a var
[09:37:44] <hejux> e36freak: the confuse part is : ((1>0)) returns 1 as true. but in bash test,  0 is true
[09:37:48] <e36freak> first of all, there's no subshell here
[09:37:51] *** Parts: asen (~asen@2408:821b:618:2ef0:ab85:814b:bf8f:a143) (Leaving)
[09:37:54] <emanuele6> there is no subshell there
[09:38:00] <earendel> $(( )) no sub?
[09:38:05] <e36freak> no
[09:38:10] <emanuele6> !subshell
[09:38:11] <greybot> http://mywiki.wooledge.org/SubShell
[09:38:13] <earendel> $( ) is sub
[09:38:13] <e36freak> $( yes, $(( no
[09:38:16] <earendel> ok.
[09:38:39] <e36freak> hejux: ok, so exit status and arithmetic truthiness are two separate things
[09:38:52] <e36freak> exit statuses are the same across any language. EXIT_SUCCESS is always 0
[09:39:17] <earendel> why. both are just numbers.
[09:39:20] <e36freak> arithmetic contexts use the traditional 0 is false, !0 is true, just like most languages
[09:39:47] <e36freak> with exit statuses, 0 is always EXIT_SUCCESS, and 1-255 indicate something else
[09:40:09] *** Quits: zoe (~zoe@fsf/member/zoe) (Ping timeout: 256 seconds)
[09:40:18] <e36freak> because it's much more useful to be able to give 255 reasons why something went wrong than it is to just say "something failed" and have 255 reasons nothing went wrong
[09:40:36] <earendel> # echo $((-1));
[09:40:37] <shbot> earendel: -1
[09:41:16] <emanuele6> # echo "$((-1))"; echo "$?"
[09:41:16] <shbot> emanuele6: -1
[09:41:16] <shbot> emanuele6: 0
[09:41:24] <earendel> # if ((-1)); then ok; fi
[09:41:25] <shbot> earendel: bash: ok: command not found
[09:41:44] <earendel> hm. i thought 0 is ok
[09:41:57] <earendel> and all else is error
[09:41:58] *** Joins: rgrinberg (~textual@200.5.63.76)
[09:42:10] <earendel> but its getting late here.
[09:42:41] <e36freak> so (( is its own thing
[09:42:44] <earendel> oh you said that.
[09:42:49] <earendel> pardon me.
[09:42:50] <bash-libera> I am trying to update my .bashrc file with some different settings like the kch answer here https://unix.stackexchange.com/questions/1288/preserve-bash-history-in-multiple-terminal-windows- my question is I am doing it as a root user (The script gets ran at server build time) so I need to do `sudo -u myuser -i -c "echo >> $HOME/.bashrc"` or do I do it with a heredoc `sudo -u myuser -i <<EOF lines > .bashrc` ?
[09:42:59] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 256 seconds)
[09:43:05] <e36freak> it takes the expression and evaluates it, and if the result is !0, it exits SUCCESS, or 0
[09:43:24] <e36freak> !faq losing > bash-libera
[09:43:24] <greybot> bash-libera: https://mywiki.wooledge.org/BashFAQ/088 -- How can I avoid losing any history lines?
[09:43:45] <earendel> # ((0)); echo $?
[09:43:45] <shbot> earendel: 1
[09:43:52] *** Joins: LuksNuke_ (~LuksNuke@gateway/tor-sasl/luksnuke)
[09:44:00] <earendel> that is it. so it was inverted. ok.
[09:44:10] <e36freak> yeah basically
[09:44:36] *** roadie` is now known as roadie
[09:44:47] <e36freak> you just have to think of arithmetic expressions and exit statuses as two separate concepts
[09:44:50] *** Joins: wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com)
[09:44:51] *** Quits: wuseman (~wuseman@81-234-125-157-no68.tbcn.telia.com) (Changing host)
[09:44:51] *** Joins: wuseman (~wuseman@user/wuseman)
[09:45:00] <earendel> thats fine.
[09:45:09] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:45:29] <bash-libera> I'll check that out thanks
[09:46:42] *** Quits: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke) (Ping timeout: 276 seconds)
[09:47:30] *** Joins: chomwitt (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374)
[09:48:08] <earendel> is it because equality check for a=4 and b=4 is ((a-b)) ? something in that way right?
[09:48:12] <earendel> jiz
[09:48:52] <e36freak> bash-libera: if you're already root you can just use su instead of sudo
[09:49:00] <e36freak> bash-libera: if you want to use a here doc i'd do it as follows:
[09:49:10] <earendel> hm. okay. actually all addition and substraction is boolean operations.
[09:49:50] <earendel> i remember having built the most simple calculator with transistors and lamps in school.
[09:50:04] <e36freak> su myuser -c cat <<'EOF' > /home/myuser/.bashrc
[09:50:06] <e36freak> stuff
[09:50:07] <e36freak> EOF
[09:50:54] <earendel> inventing substraction was a mistake.
[09:50:55] <earendel> :P
[09:52:51] *** Quits: rgrinberg (~textual@200.5.63.76) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:52:51] <earendel> when the ALU  multiplies .. lets say 4 x 1 .. will it add +1 each cycle?
[09:54:10] <earendel> # ((x=1<<2)); echo $x
[09:54:11] <shbot> earendel: 4
[09:55:01] <earendel> # ((x=1>>2)); echo $x
[09:55:05] <shbot> earendel: 0
[09:55:13] <earendel> wrong!
[09:55:32] <earendel> # ((x=1>>255)); echo $x
[09:55:33] <shbot> earendel: 0
[09:56:04] <earendel> # ((x=1>>256)); echo $x
[09:56:05] <shbot> earendel: 1
[09:56:24] <earendel> # ((x=1>>254)); echo $x
[09:56:25] <shbot> earendel: 0
[09:56:59] <earendel> hm. is 255 max int?
[09:57:20] <earendel> nah
[09:57:29] <e36freak> bits.
[09:58:21] <e36freak> it's a 64 bit, iirc
[09:58:25] <earendel> thats a lot
[09:58:48] <wyre> so ... I you can use math syntax without the $? I mean, I understood it's $((<math exp>))
[09:59:04] <wyre> but apparently you don't need to use $ 🤔
[09:59:13] <e36freak> wyre: POSIXly all you get is arithmetic expansion, which is $((
[09:59:21] <earendel> would make a DWORD or so right? WORD
[09:59:28] <e36freak> bash also adds ((
[09:59:37] <e36freak> there are also other arithmetic contexts, like the index of a regular array
[09:59:48] <e36freak> a[++i]=1, for example
[10:00:20] <e36freak> # a=(); i=0; a[i++]=foo; a[i++]=bar; declare -p a
[10:00:21] <shbot> e36freak: declare -a a=([0]="foo" [1]="bar")
[10:00:48] <e36freak> !((
[10:00:48] <greybot> ((...)) is an arithmetic command, which returns an exit status of 0 if the expression is nonzero, or 1 if the expression is zero. Also used as a synonym for "let", if side effects (assignments) are needed. See http://mywiki.wooledge.org/ArithmeticExpression
[10:01:00] *** Joins: sublim20 (~sublim20@user/sublim20)
[10:02:22] <e36freak> earendel: it's a signed 64 bit integer
[10:07:54] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[10:08:36] <earendel> oki. thanks
[10:09:16] <wyre> i see e36freak 😊
[10:10:58] <earendel> if you like you may then try to explain why # ((x=1>>256)); echo $x  is 1 again  .. (is going full cicle 4 times?)
[10:11:05] <earendel> # ((x=1>>64)); echo $x
[10:11:06] <shbot> earendel: 1
[10:11:20] <earendel> ok. then that will be it.
[10:11:24] *** Quits: daniel-k (~daniel-k@fsf/emeritus/daniel-k) (Remote host closed the connection)
[10:11:38] *** Joins: daniel-k (~daniel-k@fsf/emeritus/daniel-k)
[10:11:51] *** Quits: randomxusr (~randomusr@c-73-242-70-183.hsd1.mn.comcast.net) (Quit: Leaving)
[10:12:44] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Ping timeout: 265 seconds)
[10:13:05] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[10:13:23] <e36freak> yep
[10:14:23] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[10:15:50] <bash-libera> so does su change $HOME to the user i'm switching to?
[10:16:43] *** Joins: seninha (~seninha@user/seninha)
[10:18:10] <bash-libera> Is $USER going to expand because I Have 'EOF' wrapped in quotes (or rather not expand?)
[10:18:18] <bash-libera> su $USER -c cat <<'EOF' > /home/$USER/.bashrc
[10:18:18] <bash-libera>   sudo -u $USER bash -c ""
[10:18:18] <bash-libera>   export HISTCONTROL=ignoredups:erasedups  # no duplicate entries
[10:18:20] <bash-libera>   export HISTSIZE=100000                   # big big history
[10:18:22] <bash-libera>   export HISTFILESIZE=100000               # big big history
[10:18:24] <bash-libera>   shopt -s histappend                      # append to history, don't overwrite it
[10:18:26] <bash-libera> EOF
[10:19:09] <xx> !EOF
[10:19:10] <greybot> "unexpected end of file" means you are missing some expected syntactic element, such a missing closing " or ' or } or done or fi or esac or ....
[10:19:15] <xx> uh
[10:21:22] <xx> !<<
[10:21:22] <greybot> Here documents. cat <<EOF followed by several lines of text, followed by the literal string EOF on a new line, NOT indented. The portion between the EOFs is passed to the command as standard input. If 'EOF' is 'quoted', substitutions WON'T be done; otherwise they are. See <<- for the indented variety.
[10:21:30] <xx> that one ^ bash-libera
[10:25:46] <emanuele6> sudo -u $USER bash -c "" does nothing
[10:26:02] <emanuele6> apart from maybe asking you a password
[10:26:32] *** Quits: noent (~quassel@squint.a-oben.org) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[10:26:45] *** Joins: noent (~quassel@squint.a-oben.org)
[10:26:55] <xx> might be a weird way of testing if bash is in users path
[10:27:17] <xx> but there's no error handling, so who knows...
[10:27:18] <geirha> you can replace it with bash -c "" which does nothing, but without sudo
[10:27:55] *** Joins: Libero (~Libero@130.43.23.56.dsl.dyn.forthnet.gr)
[10:35:07] *** Quits: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[10:36:27] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[10:36:39] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[10:39:01] *** Quits: dre (~dre@2001:8003:c932:c301:3452:4883:fbcf:635) (Remote host closed the connection)
[10:41:06] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[10:48:48] *** Joins: Atque (~Atque@user/atque)
[10:48:54] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[10:49:17] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 252 seconds)
[10:53:49] *** Quits: rcernin (~rcernin@124.190.136.148) (Ping timeout: 256 seconds)
[10:54:38] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[10:58:22] <DPA> With open("/tmp/", O_TMPFILE|O_RDWR, 0400), on linux it is possible to create & open a file in the fs of /tmp/ but which is never linked into the file system. There is also memfd_create, which operates pretty simmilarely, except the file is in ram.
[10:58:22] <DPA> Is there some way to do this in bash?
[10:59:30] *** Joins: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net)
[11:01:52] *** Joins: sinaowolabi (~SinaOwola@41.58.228.72)
[11:02:09] *** Joins: Jong (~Jong@2620:10d:c090:400::5:d0b7)
[11:03:08] *** Joins: dre (~dre@2001:8003:c932:c301:8916:3a5f:8275:217d)
[11:03:10] *** Joins: podeni (~podeni@188.27.129.74)
[11:03:29] *** Joins: Fauto_ (~dante@gateway/tor-sasl/filohuhum)
[11:04:01] *** Quits: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[11:05:06] *** Joins: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net)
[11:06:39] *** Quits: Fausto (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 276 seconds)
[11:08:09] *** Joins: martinus__ (~martin@96.19.201.77.rev.sfr.net)
[11:08:52] *** Joins: bayman (~bayman@c-73-15-245-176.hsd1.ca.comcast.net)
[11:09:27] *** Quits: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net) (Ping timeout: 252 seconds)
[11:09:59] *** Joins: gschanuel21 (~gschanuel@user/gschanuel)
[11:11:57] *** Quits: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au) (Ping timeout: 256 seconds)
[11:13:29] *** Quits: gschanuel2 (~gschanuel@user/gschanuel) (Ping timeout: 252 seconds)
[11:13:29] *** gschanuel21 is now known as gschanuel2
[11:19:55] *** Quits: Milos (~Milos@user/milos) (Quit: ZNC 1.8.2 - https://znc.in)
[11:20:24] *** Joins: Milos (~Milos@user/milos)
[11:23:58] *** Joins: tex (~super@user/dix)
[11:25:09] *** Quits: bayman (~bayman@c-73-15-245-176.hsd1.ca.comcast.net) ()
[11:26:12] *** Joins: tobybl (~tobybl@213.31.134.21)
[11:27:23] *** Quits: karakedi (~eAC53C340@user/karakedi) (Remote host closed the connection)
[11:27:53] *** Quits: wwallace (~afernande@63.240.73.102) (Ping timeout: 268 seconds)
[11:28:10] *** Joins: wwallace (~afernande@63.240.73.102)
[11:33:24] *** Joins: rendar (~rendar@user/rendar)
[11:33:32] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[11:35:36] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[11:39:37] *** Joins: Kholuendara7 (~Kholuenda@user/kholuendara)
[11:41:01] *** Quits: Kholuendara (~Kholuenda@user/kholuendara) (Ping timeout: 265 seconds)
[11:41:01] *** Kholuendara7 is now known as Kholuendara
[11:41:21] *** Joins: tobybl_ (~tobybl@213.31.134.21)
[11:41:21] *** Quits: richardm75 (~richardm7@2600:8801:c507:b200:5463:6c28:86e0:69d4) (Ping timeout: 252 seconds)
[11:42:37] *** Joins: rcernin (~rcernin@124.190.136.148)
[11:43:06] *** Joins: BSaboia (~bsaboia@177.37.198.35)
[11:43:33] *** Quits: tobybl (~tobybl@213.31.134.21) (Ping timeout: 252 seconds)
[11:45:47] *** Joins: vysn (~vysn@user/vysn)
[11:46:23] <lopid> has the radio freq scanner youtube spammer been here yet?
[11:48:28] <emanuele6> no, i only saw him on #perl
[11:48:46] <lopid> changes nick but uses doe@184-75-138-166.resi.cgocable.ca regardless, heh
[11:48:47] *** Quits: rcernin (~rcernin@124.190.136.148) (Ping timeout: 256 seconds)
[11:49:05] <emanuele6> (and #fsf)
[11:54:21] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[11:54:26] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Read error: No route to host)
[11:54:27] *** Joins: sinaowolabi__ (~SinaOwola@102.134.114.1)
[11:55:47] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.3)
[11:57:12] <DPA> I would like to let curl exit with status 1 if any error occurred, including HTTP errors, except 404, I need to handle that differently. How can I do this?
[11:57:44] <emanuele6> DPA: -f
[11:58:12] <emanuele6> except 404?
[11:58:53] <DPA> Except 404. I try to load some jsons from a rest API, but some of the entries may not exist, that's fine.
[11:58:56] <emanuele6> that is more complex, but you will probably need to use -w and check manually the first line
[11:59:06] <emanuele6> i would move the question to #curl
[11:59:14] <DPA> Ok, thanks
[12:00:21] *** Quits: TenochSLB (~Tenochyy@108-216-74-215.lightspeed.wchtks.sbcglobal.net) (Remote host closed the connection)
[12:01:45] *** Joins: n4dir (~user@i5E86C57F.versanet.de)
[12:03:30] *** Joins: Laskolnyk (~wasyl@89-76-136-17.dynamic.chello.pl)
[12:03:48] <emanuele6> DPA: actually, i think you can do it relatively simply
[12:03:49] *** Quits: Libero (~Libero@130.43.23.56.dsl.dyn.forthnet.gr) (Quit: Leaving)
[12:05:20] <emanuele6> if http_code=$(curl -sSf -w'%{http_code}' http://example.org -o ./out.json) || [[ $http_code != 404 ]]; then do_something ./out.json; fi
[12:05:49] <emanuele6> you make curl write the output to a temporary file, and print the http code to stdout
[12:06:18] <emanuele6> then you use -f with curl and only do something with the output file if curl did not fail or if the http_code is 404
[12:06:23] *** Joins: zostj (~rue@1-162-45-89.dynamic-ip.hinet.net)
[12:06:34] <emanuele6> (i meant to write [[ $http_code == 404 ]], not !=)
[12:08:21] <DPA> Nice. Thank you.
[12:10:21] <emanuele6> DPA: err, also --fail-with-body, not -f :)
[12:10:31] <DPA> Ok
[12:10:38] <emanuele6> otherwise out.json would be empty
[12:10:47] <emanuele6> in case of an error
[12:13:22] *** Quits: tobybl_ (~tobybl@213.31.134.21) (Remote host closed the connection)
[12:15:43] <jelly> would it be possible to avoid a tempfile using some fd redirection magic, like telling curl to -o to /proc/self/fd/3 and somehow grab fd 3 into a variable?
[12:16:09] *** Joins: tobybl (~tobybl@213.31.134.21)
[12:16:10] <jelly> (assuming linux)
[12:16:27] *** Joins: TomyWork (~TomyLobo@p200300e80f0f2700a8a95710da765913.dip0.t-ipconnect.de)
[12:16:40] <emanuele6> no, jelly.
[12:18:13] <emanuele6> the file needs to be read after checking http_code and curl's exit code
[12:18:35] <emanuele6> you can't read from a pipe that is written by a process that is dead
[12:18:58] <emanuele6> also why would you want to "avoid" a temp file?
[12:20:25] *** Quits: tobybl (~tobybl@213.31.134.21) (Remote host closed the connection)
[12:20:33] <emanuele6> oh, you want to load the response in a shell variable
[12:20:41] <DPA> Actually, you can read from a pipe of a dead process. It'll consume all data left in the pipe normally. But a process will freeze if it tries to write to a pipe which is full, so trying that that could cause deadlocks.
[12:21:28] <emanuele6> most definitely will cause deadlocks
[12:22:34] <emanuele6> anyway, yes, you can load the body in shell variable, but that only adds complexity, and shell variables are also limited in the sense that they can only store non-binary data
[12:23:37] *** Joins: clime (~clime@89-24-52-165.nat.epc.tmcz.cz)
[12:26:16] <emanuele6> that was what i originally suggested, but said it would make the code too complex
[12:26:51] <emanuele6> you don't even need to /proc/self/fd/ to do that, just change the -w format
[12:27:33] <DPA> How would that look like?
[12:28:30] *** Joins: lavaball (felix@31.204.155.215)
[12:29:51] *** Quits: wuseman (~wuseman@user/wuseman) (Read error: Connection reset by peer)
[12:30:47] *** Quits: xx (~xx@user/xx) (Ping timeout: 256 seconds)
[12:30:51] <Soliton> -w gives you a fixed format so you can also get all output together and extract the error code.
[12:31:00] *** Joins: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net)
[12:31:40] <DPA> It seams to append it to the end, though.
[12:31:43] *** Joins: arinov (~arinov@213.194.126.155)
[12:32:21] <Soliton> so take the last 3 chars.
[12:33:19] *** Joins: wuseman (~wuseman@81-236-212-3-no68.tbcn.telia.com)
[12:33:20] *** Quits: wuseman (~wuseman@81-236-212-3-no68.tbcn.telia.com) (Changing host)
[12:33:20] *** Joins: wuseman (~wuseman@user/wuseman)
[12:34:44] <Soliton> output=$(curl -w %{http_code} ...) json=${output%???} hc=${output#"$json"}
[12:35:37] *** Quits: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[12:36:15] *** Joins: alzgh (~alzgh@user/alzgh)
[12:39:39] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 252 seconds)
[12:40:00] *** Quits: skapata (~Skapata@user/skapata) (Quit: Ĝis.)
[12:40:10] <DPA> Thanks. I think I'll use this.
[12:41:57] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[12:42:29] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[12:42:42] <emanuele6> !b6
[12:42:42] <greybot> When given a choice of solutions, the newbie will always choose the wrong one.
[12:42:48] *** Joins: bobloblaw (~bobloblaw@185.52.3.117)
[12:43:34] <Soliton> you'll probably have to explain which one is the wrong one and why.
[12:43:41] *** Quits: bobloblaw311 (~bobloblaw@2a00:d880:5:d4::962b) (Ping timeout: 252 seconds)
[12:46:12] <jelly> ${output#"$json"} doesn't seem to cut of all the "$json" here
[12:46:52] *** Joins: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft)
[12:46:54] <tessio> Soliter
[12:46:57] *** Joins: sinaowolabi_ (~SinaOwola@41.58.228.72)
[12:48:21] <jelly> ${output: -3} is neat tho
[12:48:53] <geirha> turn it all into json: http://ix.io/3GL5
[12:49:19] <jelly> :-D
[12:49:24] <TomyWork> what does curl -w %{http_code} ... return in case of network errors? :)
[12:50:29] <jelly> hc=000 when a nonexisting hostname is used in URL
[12:51:12] <jelly> and $? of 6
[12:51:57] <TomyWork> that is totally not what I would have expected. i guess that works, then
[12:52:27] <jelly> 000 is never a valid http status so okay I guess...
[12:52:51] <emanuele6> ah, that works if http_code is 000 when there is no response, that was my main problem with that
[12:53:57] <emanuele6> but i don't like that solution, it is too complex
[12:54:39] <Soliton> i must have missed the simple solution.
[12:55:24] <emanuele6> if http_code=$(curl -sS --fail-with-body -w'%{http_code}' -o ./out.json http://example.org) || [[ $http_code != 404 ]]; then do_something ./out.json; fi
[12:55:33] <emanuele6> err
[12:55:40] <emanuele6> if http_code=$(curl -sS --fail-with-body -w'%{http_code}' -o ./out.json http://example.org) || [[ $http_code == 404 ]]; then do_something ./out.json; fi
[12:56:18] <emanuele6> capture the http_code and write the body to a file
[12:56:25] <TomyWork> don't you mean if http_code=$(curl -sS --fail-with-body -w'%{http_code}' -o ./out.json http://example.org) && [[ $http_code != 404 ]]; then do_something ./out.json; fi
[12:56:48] <emanuele6> no, i meant ||, but ==
[12:57:19] <TomyWork> so you want to do something with the json file in case of a 404?
[12:57:35] <emanuele6> that is what DPA asked, yes
[12:57:45] <TomyWork> ok, that was before I joined
[12:58:09] <DPA> If it was somehow possible to make it print the status first, then I could just do | ( set -e; read code; [ "$code" = 404 ]; cat )
[12:58:31] <emanuele6> <emanuele6 > that is more complex, but you will probably need to use -w and check manually the first line
[12:59:53] <jelly> the thing with REST apis is they give you somewhat semantically relevant http status codes.  So if the API is like a SQL SELECT query, 200 might mean everything went ok and there're some valid results, and 404 might ALSO mean everything went ok
[12:59:56] <Soliton> what is set -e doing there?
[13:00:03] <emanuele6> DPA: that ONLY prints f the code is 404
[13:00:18] <emanuele6> s/ f / if /
[13:00:29] <jelly> so you want that json on both 200 and 404 in this case.
[13:00:41] <TomyWork> Soliton, making sure the [ exit status gets out. there are really better ways to do that though
[13:00:45] <emanuele6> you said that you wanted to make curl fail on any error except 404 before :/
[13:00:50] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[13:01:07] <emanuele6> not that you only wanted 404
[13:01:17] <DPA> Sure, but that would be easy to fix.
[13:02:12] <emanuele6> by also outputing %{errorcode} and checking to lines instead of one, and using () and `set -e' and `[]' and what else?
[13:02:53] <TomyWork> jelly, if it was an actual select, I could think of a number of conditions that are not "empty result set" that would be better suited to a 404. table not found, for instance
[13:02:58] <emanuele6> you keep making it more and more complex for no reason, if you want to use that approach just use Soliton's solution
[13:03:04] <DPA> I'd just need to adjust the [] slightly, and set -o pipefail.
[13:03:53] *** Joins: smeeagle (~smeeagle@2a00:23c8:9611:e600:1401:22a5:674e:d69b)
[13:04:19] <TomyWork> I guess it's a nice thought exercise
[13:04:41] <emanuele6> what, adding more and more complex stuff?
[13:04:55] <emanuele6> why don't we throw in an alias and shopt -s expand_aliases then?
[13:05:24] <Soliton> surely the next step is set -u.
[13:05:57] <emanuele6> then we run curl in the background and use wait
[13:06:02] <emanuele6> and set -m
[13:06:20] *** Joins: dreamon (~dreamon@ppp-88-217-67-53.dynamic.mnet-online.de)
[13:06:42] <DPA> It's always a good idea to set -e and -u. What is -m?
[13:06:48] <Soliton> good point need to abort in case curl doesn't timeout.
[13:06:48] <emanuele6> !-e
[13:06:48] <greybot> "set -e" is an inheritance of the old bourne shell, and doesn't really work well with modern shell features. You'll really have less buggy scripts if you do the error handling manually instead of relying on the unreliable "set -e"; see http://mywiki.wooledge.org/BashFAQ/105
[13:06:59] <Soliton> !pf euo
[13:06:59] <greybot> https://mywiki.wooledge.org/BashPitfalls#pf60 -- Don't do this! -- set -euo pipefail
[13:07:11] <emanuele6> -m is job management
[13:07:17] *** Joins: sbodin (~Android@188.170.198.130)
[13:07:41] <emanuele6> "monitor mode"
[13:11:27] *** Quits: BSaboia (~bsaboia@177.37.198.35) (Read error: Connection reset by peer)
[13:12:20] *** Joins: BSaboia (~bsaboia@177.37.198.35)
[13:12:52] *** Joins: hero (~quassel@176.62.187.24)
[13:13:12] *** Joins: ubique (~ubique@79.113.171.30)
[13:13:46] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[13:14:11] *** Quits: earendel (uid498179@user/earendel) (Quit: Connection closed for inactivity)
[13:14:39] *** Joins: kill (~killown@user/killown)
[13:15:18] <tessio> how to pas multiple sources (which contains spaces) to mv ?
[13:15:20] <tessio> i know it can be done with sh -c but i don't remember how
[13:15:51] <emanuele6> !quote
[13:15:52] <greybot> https://mywiki.wooledge.org/Quotes
[13:16:02] <tessio> yeah but mv
[13:16:16] <tessio> mv "$(ls -1 | tail -4)" /dest will not work
[13:16:19] <Soliton> mv "$file1" "$file2" ...
[13:16:25] <Soliton> what
[13:16:29] <emanuele6> !ls
[13:16:29] <greybot> DO NOT USE ls' output for anything. ls is a tool for interactively looking at directory metadata. Any attempts at parsing ls' output with code are broken. Globs are much more simple AND correct: ''for file in *.txt''. Read http://mywiki.wooledge.org/ParsingLs
[13:17:05] <Soliton> files=(*); mv "${files[@]:0:4}" ...
[13:17:13] <Soliton> or whatever that is supposed to do
[13:17:53] <tessio> isn't a solution with sh -c something with "$@"
[13:18:11] *** Quits: ubique (~ubique@79.113.171.30) (Quit: .)
[13:18:29] <tessio> Soliton: just for you know ls -1 is not different than working wih `find` output
[13:18:55] <emanuele6> yes, it is equally bad
[13:19:45] <tessio> lol
[13:19:58] <emanuele6> except that ls is worse because some implementations don't output the filename consistently
[13:19:59] <tessio> there are commands specificly build to work with find
[13:20:11] <tessio> emanuele6: with -1 it consistent
[13:20:26] <emanuele6> !-1
[13:20:31] <emanuele6> !ls-1
[13:20:31] <greybot> When ls's output is not a terminal, the -1 option is automatically enabled. If you see someone write ls -1 | ... or x=$(ls -1) or similar, you have your work cut out for you.
[13:21:00] <tessio> sigh
[13:21:12] <Soliton> why do you want to involve another shell layer? what is sh -c supposed to help with?
[13:21:13] <emanuele6> anyway, no
[13:21:28] <emanuele6> tessio: i just checked in my movied directory
[13:21:32] <emanuele6> ls-1 outputed
[13:21:39] <Soliton> if you want to use find then you probably want -exec.
[13:21:42] <emanuele6> 'Pulp Fiction (1994).mp4'
[13:21:43] <emanuele6> 'Soylent Green (1973).mp4'
[13:21:46] <emanuele6> with quotes
[13:21:48] *** Joins: ubique (~ubique@79.113.171.30)
[13:22:10] <emanuele6> and if there are no spaces, without quotes
[13:22:21] <emanuele6> that is not consistent across ls implementations
[13:22:52] *** Joins: tobybl (~tobybl@213.31.134.21)
[13:23:03] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[13:23:16] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[13:23:18] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[13:23:19] <tessio> btw Soliton your command `mv: missing destination operand`
[13:23:36] <Soliton> are you trolling?
[13:23:46] <tessio> no
[13:23:51] <emanuele6> if i try to `cat "$(ls -1)"' with only `File with spaces.txt' in the directory, i will get "cat: 'File with spaces.txt': No such file or directory"
[13:23:58] <Soliton> should i guess what destination you want or can you maybe replace ... with whatever you want?
[13:24:16] <tessio> mv: missing destination file operand after '/home/archer/usb/redhat_notes/kickstart/'
[13:24:17] <tessio> Try 'mv --help' for more information.
[13:24:56] <Soliton> so change the glob to pick the files you want.
[13:26:31] <emanuele6> because the quotes are passed to cat even thought they are not part of the filename because ls outputed them
[13:26:35] <emanuele6> find would not do that
[13:26:56] <tessio> Soliton i admit error on my part
[13:26:59] <tessio> it works
[13:26:59] <emanuele6> still, using cat "$(find -type f)" would be as bad
[13:27:10] <emanuele6> but less
[13:28:12] <tessio> i didn't talked about that solution
[13:28:40] <emanuele6> i am just describing you a simple example of ls-1 not having consistent output
[13:28:48] <emanuele6> (across implementations)
[13:28:54] <emanuele6> and having non parsable output
[13:30:08] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[13:30:37] <emanuele6> "$(find -type f)" would output something usable if the only file in the current directory was `File with spaces.txt', but "$(ls -1)" would not
[13:31:03] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[13:31:06] <Soliton> find . -type f
[13:31:34] <tessio> Soliton: do you remember where in the manual ${var[@]} are mentioned ?
[13:31:40] <tessio> i need to read about these more
[13:31:45] <emanuele6> !faq 5
[13:31:45] <greybot> https://mywiki.wooledge.org/BashFAQ/005 -- How can I use array variables?
[13:32:08] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Remote host closed the connection)
[13:32:23] *** Quits: smeeagle (~smeeagle@2a00:23c8:9611:e600:1401:22a5:674e:d69b) (Quit: smeeagle)
[13:32:51] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[13:34:14] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Client Quit)
[13:34:30] <emanuele6> Soliton: ah, right. omitting the starting point is a gnuism
[13:34:42] *** Joins: Libero (~Libero@130.43.23.56.dsl.dyn.forthnet.gr)
[13:34:53] <emanuele6> thank you
[13:35:00] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[13:35:14] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[13:35:19] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 256 seconds)
[13:36:28] *** Joins: shad (~shad@user/shad)
[13:36:32] *** Lord_of_Life_ is now known as Lord_of_Life
[13:37:48] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[13:39:26] *** Joins: hejux_0 (~hejux@104.224.190.144.16clouds.com)
[13:39:27] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Client Quit)
[13:39:45] <hejux_0> this is fun
[13:39:48] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[13:40:36] <hejux_0> i'm crazy optimizing my script. make it shorter faster
[13:41:11] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Client Quit)
[13:41:23] <izabera> :>script
[13:41:29] <izabera> now it runs much faster and it's shorter
[13:41:54] <hejux_0> one line hack is cool
[13:43:01] *** Quits: hejux (~hejux@104.224.190.144.16clouds.com) (Quit: WeeChat 3.3)
[13:43:25] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[13:44:21] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Remote host closed the connection)
[13:44:30] <hejux_0> that script do nothing. izabera
[13:45:17] <emanuele6> it writes nothing to a file named script in the current directory
[13:45:20] <tessio> Soliton:  is there anyway to express the LENGTH as a negative number ?
[13:45:44] <tessio> ${var[@]: -7: -4}
[13:45:45] <Soliton> "${files[@]:(-4)}"
[13:45:56] <tessio> this is the offest
[13:45:58] <Soliton> what would a negative length mean?
[13:46:02] <tessio> backwards
[13:46:03] <emanuele6> tessio: ${#var[@]}-4
[13:46:04] <geirha> negative length only works for strings
[13:46:14] <emanuele6> but that does not really make sense
[13:46:16] <geirha> (because strings can't be sparse)
[13:46:22] <emanuele6> unless you use 0 as the offset
[13:46:35] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[13:46:37] <tessio> im using -1 as the offset and now i want to count backwards
[13:46:47] <tessio> from the end toward the beginning
[13:47:11] <Soliton> so do that and use where you end up as the offset and write a positive length.
[13:47:58] <tessio> ok is just sometimes easier to count from the end
[13:48:22] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Client Quit)
[13:49:03] <geirha> and you can.  "${files[@]:(-5)}"  gives you the last five elements
[13:49:43] <tessio> thanks
[13:50:40] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[13:52:24] *** Quits: sbodin (~Android@188.170.198.130) (Quit: -a- Connection Timed Out)
[13:52:36] *** Joins: sbodin (~Android@188.170.198.130)
[13:52:37] *** Quits: sbodin (~Android@188.170.198.130) (Max SendQ exceeded)
[14:00:27] <rendar> is that normal that `if [[ -e file ..` fails if i have no permissions on that file?
[14:01:00] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Quit: ZNC 1.8.2 - https://znc.in)
[14:01:19] *** Joins: drd (~drd@93-42-69-115.ip85.fastwebnet.it)
[14:02:12] *** Quits: hero (~quassel@176.62.187.24) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[14:02:24] <geirha> no, but if you don't have permission to the containing dir, it's normal
[14:03:27] *** Quits: Fauto_ (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 276 seconds)
[14:03:45] *** Joins: potamides (~amnifiliu@2001:41b8:83c:fa01:6ccf:3460:4fec:ae63)
[14:06:22] *** Quits: extor (~xtor@192.99.217.240) (Ping timeout: 268 seconds)
[14:06:34] *** Quits: tobybl (~tobybl@213.31.134.21) (Remote host closed the connection)
[14:14:07] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Read error: Connection reset by peer)
[14:15:23] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[14:16:51] *** Quits: deetwelve (~deetwelve@user/deetwelve) (Remote host closed the connection)
[14:27:26] *** Quits: fatal (~0x00@user/fatal) (Remote host closed the connection)
[14:27:44] *** Joins: fatal (~0x00@user/fatal)
[14:32:29] *** Joins: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net)
[14:34:03] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 252 seconds)
[14:37:05] *** Quits: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[14:37:12] *** Joins: Codaraxis__ (~Codaraxis@user/codaraxis)
[14:38:25] *** Quits: Codaraxis_ (~Codaraxis@user/codaraxis) (Read error: Connection reset by peer)
[14:40:49] *** Quits: capn (~capn@user/capn) (Ping timeout: 265 seconds)
[14:42:20] *** Joins: Hax0r (~Hax0r@93.169.49.84)
[14:43:28] *** Joins: capn (~capn@user/capn)
[14:43:46] *** Joins: sbodin (~Android@188.170.198.130)
[14:43:47] *** Quits: sbodin (~Android@188.170.198.130) (Max SendQ exceeded)
[14:46:01] *** Quits: n4dir (~user@i5E86C57F.versanet.de) (Remote host closed the connection)
[14:46:44] *** Quits: alzgh (~alzgh@user/alzgh) (Ping timeout: 256 seconds)
[14:49:28] *** Joins: furrymcgee (~devuan@cgn-89-1-209-86.nc.de)
[14:51:37] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[14:53:45] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[14:53:54] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[14:56:10] *** Joins: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[14:59:47] *** Quits: p3rL (~uid0@user/p3rl) (Quit: Ping timeout: 180 seconds)
[15:00:13] *** Joins: p3rL (~uid0@user/p3rl)
[15:00:41] *** Quits: BSaboia (~bsaboia@177.37.198.35) (Quit: Leaving)
[15:05:02] *** Joins: jess (~jess@libera/staff/jess)
[15:08:17] *** Joins: bliminse (~bliminse@host86-162-147-196.range86-162.btcentralplus.com)
[15:08:17] *** Quits: Hax0r (~Hax0r@93.169.49.84) (Quit: Leaving)
[15:09:42] *** Joins: Codaraxis_ (~Codaraxis@user/codaraxis)
[15:10:37] *** Joins: timj (~timj@user/timj)
[15:11:32] *** Joins: zeden (~zeden@user/zeden)
[15:13:18] *** Joins: earnest (~earnest@user/earnestly)
[15:13:21] *** Quits: Codaraxis__ (~Codaraxis@user/codaraxis) (Ping timeout: 256 seconds)
[15:13:22] *** Joins: tobybl (~tobybl@213.31.134.21)
[15:15:15] *** Joins: Penguin666x (~Penguin66@217.138.205.135)
[15:16:36] *** Joins: sbodin (~Android@188.170.198.130)
[15:16:37] *** Quits: sbodin (~Android@188.170.198.130) (Max SendQ exceeded)
[15:17:41] *** Quits: Penguin666 (~Penguin66@217.138.205.135) (Ping timeout: 252 seconds)
[15:17:53] *** Joins: sbodin (~Android@188.170.198.130)
[15:17:54] *** Quits: sbodin (~Android@188.170.198.130) (Max SendQ exceeded)
[15:19:41] <hejux_0> rendar: add && [[ -r
[15:20:02] *** Joins: sbodin (~Android@188.170.198.130)
[15:20:12] *** Parts: GNUHacker (~foobar@fsf/member/GNUHacker) (https://gnu.org)
[15:20:22] <rendar> hejux_0, you mean `if [[ -e file ]] && [[ -r file ]]` ?
[15:20:28] <hejux_0> yep
[15:20:33] <rendar> thanks
[15:21:12] <emanuele6> are you sure you want -e and not -f?
[15:21:27] <rendar> yes, -f is better here thanks
[15:21:28] <emanuele6> or `[[ -e && ! -d'
[15:21:36] <hejux_0> -e is universal
[15:22:10] <emanuele6> -e checks the existance of any file: socket, pipe, directory, regular file, device, etc
[15:22:17] <emanuele6> -f just regular files
[15:22:20] <hejux_0> if you want to load the content ,   -e
[15:22:23] <emanuele6> and -d just directories
[15:23:20] <hejux_0> well if the file is a symlink, -f gives false
[15:23:43] <hejux_0> and you really want to load the content of the file...
[15:23:59] <hejux_0> -e /etc/resolv.conf, for instance
[15:24:13] <emanuele6> <hejux_0 > well if the file is a symlink, -f gives false
[15:24:14] <Soliton> if the symlink is to a dir, sure.
[15:24:27] <emanuele6> if it is a symlink to something that is not a regular file, yes
[15:24:31] <emanuele6> otherwise, no
[15:24:35] <Soliton> "load the content" means reading?
[15:24:43] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[15:24:51] <hejux_0> yeah
[15:25:02] <hejux_0> -f checks symlink or no?
[15:25:25] *** Joins: legola (~legola@46.235.101.65)
[15:25:40] <Soliton> # help test | grep sym
[15:25:41] <shbot> Soliton:       -h FILE        True if file is a symbolic link.
[15:25:41] <shbot> Soliton:       -L FILE        True if file is a symbolic link.
[15:25:59] <hejux_0> say if resolv.conf was linked to somewhere and you want read it, -e not -f :)
[15:26:02] <emanuele6> [[ -f symlink_to_regular_file ]] is true
[15:26:12] <emanuele6> [[ -f symlink_to_directory ]] is false
[15:26:20] <Soliton> everything else acts on the target of the symlink.
[15:26:49] <hejux_0> really? good to know.
[15:26:53] <Soliton> -r is for readability.
[15:27:07] <emanuele6> if you want to check if it not a symlink, it is a regular file and it is readable, you need to use [[ -L $file && -f $file && -r $file ]]
[15:27:23] <emanuele6> err
[15:27:27] <hejux_0> # ln -s /bin/du . ; [[ -f du ]] && echo yes
[15:27:28] <shbot> hejux_0: yes
[15:27:33] <emanuele6> i meant [[ ! -L $file && -f $file && -r $file ]]
[15:27:34] <hejux_0> ok...
[15:27:41] <hejux_0> # ln -s /bin/du . ; [[ -e du ]] && echo yes
[15:27:42] <shbot> hejux_0: yes
[15:27:52] <hejux_0> ok, -f is bettet
[15:28:05] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 256 seconds)
[15:28:11] <emanuele6> # ln -s /bin/du . ; [[ ! -L du && -e du ]] && echo yes
[15:28:12] <shbot> emanuele6: no output
[15:28:30] <emanuele6> # [[ ! -L /bin/du && -f /bin/du ]] && echo yes
[15:28:30] <shbot> emanuele6: yes
[15:30:08] <hejux_0> ok. regular file includes symlink
[15:30:15] <hejux_0> one work
[15:30:20] <hejux_0> word
[15:30:25] <Soliton> no...
[15:30:31] <emanuele6> no, regular files does not include symlinks
[15:30:48] <emanuele6> but -f follows the symlink and checks if the target is a regular file
[15:31:24] <hejux_0> -f follows... hell, why they did not write that down in man pages
[15:32:03] <hejux_0> emanuele6: follow how many levels?
[15:32:23] <emanuele6> > Unless otherwise specified, primaries that operate on files follow symbolic links and operate on the target of the link, rather than the link itself.
[15:32:35] <emanuele6> the manual says that ^
[15:32:45] <hejux_0> a -> b , b ->c , -f a checks c?
[15:33:02] <emanuele6> the target.. so c
[15:33:45] <hejux_0> damn, i was wrong all these years
[15:34:06] <emanuele6> # >> a; ln -s a b; ln -s b c; [[ -f c ]] && echo yes
[15:34:07] <shbot> emanuele6: yes
[15:34:21] <hejux_0> i use -e all the way, because i am worried about symlinks
[15:34:22] *** Joins: mongy (~mongy@user/mongy)
[15:35:18] <emanuele6> if you want to make sure that `c' is not a symlink, you can use `[[ ! -L c && -f c ]]', but if you want to check if c is a symlink to a symlink, you need to use external tools.
[15:35:53] <hejux_0> :P
[15:36:00] <hejux_0> you're the best!
[15:36:11] <hejux_0> are you a professor?
[15:36:41] <emanuele6> i am not
[15:37:59] *** Quits: tobybl (~tobybl@213.31.134.21) (Remote host closed the connection)
[15:41:47] <hejux_0> you're very good at explaining details
[15:42:56] <hejux_0> # ls -la
[15:43:02] <shbot> hejux_0: total 8
[15:43:02] <shbot> hejux_0: drwxrwxr-x  2 root root   0 Mar 21  2021 .
[15:43:02] <shbot> hejux_0: etc... ( http://ix.io/3GLA )
[15:43:26] <hejux_0> lol where is my symlink of du
[15:44:07] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[15:44:22] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[15:44:24] <Soliton> !shbot
[15:44:25] <greybot> shbot runs each session in a new VM as root. Feel free to play with the bot in #evalbot. | Original: http://www.vidarholen.net/contents/evalbot/ | geirha's fork: https://gitlab.com/geirha/shbot | current triggers: /msg shbot triggers
[15:44:44] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[15:45:30] *** Quits: ano (~ano@user/ano) (Ping timeout: 276 seconds)
[15:46:34] *** Joins: arinov (~arinov@178.240.181.140)
[15:47:54] *** Joins: tobybl (~tobybl@213.31.134.21)
[15:50:23] *** Joins: rufito (~phil@181.42.53.33)
[15:51:16] *** Joins: pc__ (~pc@41.69.129.98)
[15:51:59] <rendar> why i get this error? https://bpa.st/UARA
[15:52:45] *** Quits: pc__ (~pc@41.69.129.98) (K-Lined)
[15:52:51] <selckin> !$*
[15:52:52] <greybot> The difference between $@ and $*: "$@" (quoted) expands to each positional parameter as its own argument: "$1" "$2" ... while "$*" expands to the single argument "$1c$2c..." where c is the first character of IFS. You almost always want "$@". The same goes for arrays: "${array[@]}" or "${array[*]}". Unquoted $* and $@ are undefined; DO NOT use.
[15:53:02] <emanuele6> !quote
[15:53:02] <greybot> https://mywiki.wooledge.org/Quotes
[15:53:25] <emanuele6> oh, that
[15:53:55] <rendar> i see, so when i'm printing an array, i should use "${array[*]}" ?
[15:54:33] <emanuele6> because a=(1 2 3)     echo "a to ${a[@]/#/-O} oh"    expands to   echo "a to -O1" "-O2" "-O3 oh"
[15:55:30] <emanuele6> assuming default IFS     echo "a to ${a[*]/#/-O} oh"    expands to   echo "a to -O1 -O2 -O3 oh"
[15:55:42] <emanuele6> if IFS is empty, to    echo "a to -O1-O2-O3 oh"
[15:55:56] *** M9hs[m] is now known as anak8awan9hs[m]
[15:56:03] <emanuele6> if IFS is something else e.g. IFS=abc, to  echo "a to -O1a-O2a-O3 oh"
[15:57:07] <emanuele6> the point is that "something ${a[@]} hi" expands to "something ${a[0]}" "${a[1]}" ... "${a[2]} hi"
[15:57:14] <emanuele6> not one single string
[15:57:31] <rendar> i see
[15:58:13] *** Joins: m4n_ (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de)
[15:59:13] *** Joins: m4n__ (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de)
[15:59:52] *** Quits: sbodin (~Android@188.170.198.130) (Quit: -a- IRC for Android 2.1.59)
[16:00:35] *** Quits: m4n (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de) (Ping timeout: 252 seconds)
[16:00:44] *** Joins: ExeciN (~ExeciN@user/nicexe)
[16:01:50] <furrymcgee> may propose here documents to replace echo of multiple lines
[16:02:02] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[16:02:58] <rendar> damn, line 119: syntax error near unexpected token `else' -- i get this, but i can't find the error, there is some tool that can tell me where is the wrong syntax?
[16:03:13] *** Quits: m4n_ (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[16:03:55] <furrymcgee> editor
[16:06:09] *** Quits: tobybl (~tobybl@213.31.134.21) (Remote host closed the connection)
[16:07:04] <geirha> rendar: shellcheck
[16:08:19] *** Quits: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Ping timeout: 256 seconds)
[16:08:29] <geirha> # if true ; than echo yea ; else echo nay ; fi
[16:08:30] <shbot> geirha: bash: syntax error near unexpected token `else'
[16:08:34] <geirha> !check if true ; than echo yea ; else echo nay ; fi
[16:08:34] <checkbot> geirha: Line 1: Did you forget the 'then' for this 'if'?. Line 1: Expected 'then'. Line 1: Couldn't parse this if expression. Fix to allow more checks. See https://shellcheck.net/?id=cb48714 for all 4 issues.
[16:08:41] *** Joins: smeeagle (~smeeagle@2a00:23c8:9611:e600:2446:13de:20ec:764f)
[16:10:12] *** Joins: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[16:10:58] <jelly> what, no rude remark about mixing up than and then?
[16:11:31] <phogg> since it was for illustrative purposes it hardly seems necessary
[16:12:01] *** Quits: dlew^ (~dlew@68.101.58.90) (Remote host closed the connection)
[16:13:32] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Quit: taupiqueur)
[16:18:11] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 252 seconds)
[16:20:13] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[16:21:57] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[16:22:51] *** Joins: MattMadness (~MattMadne@2603-7080-5702-ceee-e029-0839-8ced-f934.res6.spectrum.com)
[16:34:04] *** Joins: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net)
[16:35:13] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[16:36:01] *** Joins: Atque (~Atque@user/atque)
[16:36:24] *** Quits: MattMadness (~MattMadne@2603-7080-5702-ceee-e029-0839-8ced-f934.res6.spectrum.com) (Quit: Leaving.)
[16:36:41] *** Joins: extor (~xtor@192.99.217.240)
[16:38:16] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[16:38:43] *** Quits: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[16:39:23] *** Joins: seninha (~seninha@user/seninha)
[16:47:53] *** Quits: bash-libera (~bash-libe@h216-170-204-47.hrcnut.broadband.dynamic.tds.net) (Ping timeout: 252 seconds)
[16:52:03] *** Quits: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Remote host closed the connection)
[16:52:33] *** Joins: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[16:52:54] <flower_> how do I sent the output of a curl command to /dev/null?
[16:53:11] <flower_> curl www.mywebsite.com >/dev/null
[16:53:16] <flower_> doesn't seems to work
[16:53:43] *** Quits: furrymcgee (~devuan@cgn-89-1-209-86.nc.de) (Quit: leaving)
[16:54:00] <emanuele6> flower_: that sends stdout to /dev/null, not stderr
[16:54:33] <emanuele6> if you want to send stderr to /dev/null, you can use 2>/dev/null instead, but the best way for curl is to pass the -s
[16:54:49] <emanuele6> assuming your goal is to remove the progress information output
[16:55:33] <emanuele6> and you might also want to pass -S (which makes curl output error messages when an error occurs)
[16:56:05] <earnest> With a recent curl I use: -w '%{onerror}%{stderr}curl: %{url}: %{exitcode}: %{errormsg}\n'
[16:56:17] <earnest> So that it prints the url which failed when multiple urls are provided
[16:56:41] <flower_> emanuele6, thx
[16:58:46] <flower_> -sS seems to work too
[16:59:32] <emanuele6> s/the -s$/& option/
[17:05:43] *** Quits: Milos (~Milos@user/milos) (Quit: ZNC 1.8.2 - https://znc.in)
[17:07:42] *** Quits: joo-_ (~joo-_@fsf/member/joo--) (Quit: leaving)
[17:07:49] *** Quits: sinaowolabi_ (~SinaOwola@41.58.228.72) (Ping timeout: 256 seconds)
[17:08:47] *** Joins: joo-_ (~joo-_@80-62-116-174-mobile.dk.customer.tdc.net)
[17:08:47] *** Quits: joo-_ (~joo-_@80-62-116-174-mobile.dk.customer.tdc.net) (Changing host)
[17:08:47] *** Joins: joo-_ (~joo-_@fsf/member/joo--)
[17:09:05] *** Quits: joo-_ (~joo-_@fsf/member/joo--) (Client Quit)
[17:13:15] *** Joins: joo-_ (~joo-_@80-62-116-174-mobile.dk.customer.tdc.net)
[17:13:15] *** Quits: joo-_ (~joo-_@80-62-116-174-mobile.dk.customer.tdc.net) (Changing host)
[17:13:15] *** Joins: joo-_ (~joo-_@fsf/member/joo--)
[17:13:35] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:17:03] *** Joins: zro (~zro@user/zro)
[17:21:50] *** Quits: joo-_ (~joo-_@fsf/member/joo--) (Quit: leaving)
[17:23:49] *** Quits: shad (~shad@user/shad) (Ping timeout: 252 seconds)
[17:24:08] *** Joins: eqw (~eqw@31.134.178.99)
[17:26:54] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:30:18] *** Joins: Milos (~Milos@user/milos)
[17:31:12] *** Joins: joo-_ (~joo-_@80-62-116-174-mobile.dk.customer.tdc.net)
[17:31:12] *** Quits: joo-_ (~joo-_@80-62-116-174-mobile.dk.customer.tdc.net) (Changing host)
[17:31:12] *** Joins: joo-_ (~joo-_@fsf/member/joo--)
[17:32:05] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[17:34:24] *** Quits: legola (~legola@46.235.101.65) (Remote host closed the connection)
[17:37:05] *** Joins: DaNeenjah (~jake@adsl-74-230-8-177.hsv.bellsouth.net)
[17:37:15] *** Joins: loki_val (~crabbedha@user/crabbedhaloablut)
[17:37:18] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 276 seconds)
[17:37:22] *** Joins: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net)
[17:38:17] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[17:38:33] *** Quits: reallymemorable (~reallymem@ip68-9-215-56.ri.ri.cox.net) (Remote host closed the connection)
[17:38:45] *** Joins: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net)
[17:39:26] *** Quits: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net) (Client Quit)
[17:40:15] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[17:41:21] *** Joins: sn1tch3r (~sn1tch3r@user/sn1tch3r)
[17:41:56] *** Joins: joshuamcd97 (~joshua.mc@vip-148-139-2-229.cust.service-now.com)
[17:42:27] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[17:43:04] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[17:49:03] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[17:50:25] *** Joins: legola (~legola@46.235.101.65)
[17:51:27] *** Quits: kurahaupo (~kurahaupo@pa49-180-186-164.pa.nsw.optusnet.com.au) (Ping timeout: 256 seconds)
[17:52:33] *** Joins: pantatko (~pantatko@ip-89-176-154-20.net.upcbroadband.cz)
[17:56:42] *** Quits: clime (~clime@89-24-52-165.nat.epc.tmcz.cz) (Quit: WeeChat 3.2)
[18:00:32] *** Joins: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net)
[18:03:59] *** Quits: arinov (~arinov@178.240.181.140) (Ping timeout: 256 seconds)
[18:06:11] *** Quits: Namarrgon (~Namarrgon@archlinux/op/Namarrgon) (Ping timeout: 256 seconds)
[18:08:57] *** Quits: pantatko (~pantatko@ip-89-176-154-20.net.upcbroadband.cz) (Quit: Client closed)
[18:09:59] *** Joins: nyex (~Thunderbi@177.84.107.30)
[18:15:04] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[18:15:37] *** Joins: stevenm (~stevenm@user/stevenm)
[18:15:56] <stevenm> is there anyway to have bash treat this number 22 as actually 22 and not 18? :P  (without actually removing the leading 0)
[18:15:58] <stevenm> # echo $((0+022))
[18:15:59] <shbot> stevenm: 18
[18:16:29] <stevenm> # echo $((022))
[18:16:30] <shbot> stevenm: 18
[18:17:00] <Soliton> !august
[18:17:01] <greybot> August is the month when all your scripts break because you placed $(date +%m) in a variable and tried to do arithmetic with it, without removing the leading zeros. 08 is considered octal. Use $((10#$month)) to force decimal, or strip the zero.
[18:17:09] <selckin> # echo $((022#$N))
[18:17:09] <shbot> selckin: bash: 022#: invalid number (error token is "022#")
[18:17:22] <selckin> # echo $((10#$022))
[18:17:22] <shbot> selckin: bash: 10#bash22: value too great for base (error token is "10#bash22")
[18:17:28] <stevenm> # echo $((022#))
[18:17:28] <shbot> stevenm: bash: 022#: invalid number (error token is "022#")
[18:17:36] <selckin> # echo $((10#022))
[18:17:37] <shbot> selckin: 22
[18:17:49] <stevenm> ok :)
[18:18:02] <stevenm> nothing to do with months though :P
[18:18:08] <selckin> # echo $((16#022))
[18:18:09] <shbot> selckin: 34
[18:18:27] <selckin> just when people usually run into, parsing dates
[18:18:51] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[18:18:58] <stevenm> in my case I've got $(stuff-going-on-here) which will either return a number (as a string) or blank
[18:19:28] <stevenm> and then sticking that in a... for ((i=0; i<$(stuff); i++)) do
[18:19:39] <stevenm> so whacking 0 in front helps :P
[18:20:00] * stevenm feels he's likely to get crucified for that
[18:20:26] <Soliton> var=$(stuff); for ((i=0; i<var; i++))
[18:20:53] <stevenm> but $var may be completely empty
[18:21:05] <selckin> then check for that
[18:21:07] <Soliton> then it will evaluate to 0.
[18:21:08] <emanuele6> that is why you use var, not $var
[18:21:53] <selckin> validating input is better then intentionally bricking your data
[18:22:05] *** Quits: nyex (~Thunderbi@177.84.107.30) (Quit: nyex)
[18:22:07] <emanuele6> # var=''; printf %s\\n "$((1+$var))"
[18:22:08] <shbot> emanuele6: bash: 1+: syntax error: operand expected (error token is "+")
[18:22:11] <emanuele6> # var=''; printf %s\\n "$((1+var))"
[18:22:12] <shbot> emanuele6: 1
[18:22:18] <emanuele6> # var=2; printf %s\\n "$((1+var))"
[18:22:19] <shbot> emanuele6: 3
[18:22:22] <Soliton> also in your case stuff is called each iteration.
[18:22:47] <Soliton> so better to cache the value either way.
[18:24:13] <stevenm> for ((i=0; i<((10#$(echo "$z"|grep "name='UNIT$unit-L2TP"|sort -V|tail -n1|sed 's/.*-L2TP\([^'\'']*\).*/\1/'))); i++))
[18:24:16] <stevenm> Looooovely :P
[18:24:19] * stevenm runs
[18:24:35] <stevenm> I'm generally (personal preference) against making variables that only get used once
[18:24:55] <emanuele6> # for (( i = 0; i < $(echo i am running >&2; echo 2); ++i )); do :; done
[18:24:56] <shbot> emanuele6: i am running
[18:24:56] <shbot> emanuele6: i am running
[18:24:56] <shbot> emanuele6: i am running
[18:24:56] <Soliton> i think you're missing awk.
[18:25:07] <Soliton> maybe cut
[18:25:16] *** Parts: joshuamcd97 (~joshua.mc@vip-148-139-2-229.cust.service-now.com) ()
[18:25:35] <Soliton> so why did you make variable z?
[18:27:55] *** Joins: csmiga1 (~Thunderbi@96-87-248-1-static.hfc.comcastbusiness.net)
[18:28:46] *** Joins: zoe (~zoe@fsf/member/zoe)
[18:29:21] *** Joins: shad (~shad@user/shad)
[18:32:55] <stevenm> z is populated by curl and yes I admit it has little check to see if it's empty first :P
[18:33:21] <stevenm> but it being empty is a different result (in terms of an error) to that above being empty :P
[18:33:27] <stevenm> so kind of unavoidable
[18:36:00] *** Joins: arinov (~arinov@213.194.126.155)
[18:36:21] *** Joins: thiras (~thiras@user/thiras)
[18:36:31] *** Joins: karakedi (~eAC53C340@user/karakedi)
[18:37:00] <Soliton> that is a variable i would avoid.
[18:37:44] *** Joins: kj (~kj@142.169.78.234)
[18:38:12] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[18:38:31] *** Joins: thiras (~thiras@user/thiras)
[18:39:47] *** Joins: tobybl (~tobybl@213.31.134.21)
[18:44:31] *** Joins: Inline (~Inline@aftr-37-201-240-100.unity-media.net)
[18:48:09] *** Quits: sinaowolabi (~SinaOwola@41.58.228.72) (Ping timeout: 252 seconds)
[18:49:56] *** Joins: Namarrgon (~Namarrgon@archlinux/op/Namarrgon)
[18:50:39] *** Joins: n4dir (~user@i5E86C57F.versanet.de)
[19:01:16] *** Joins: wikan (~wikan@2a02:a31d:8541:e100:213:2ff:fed3:8291)
[19:02:54] *** Joins: BSaboia (~bsaboia@177.37.198.35)
[19:03:16] *** Quits: BSaboia (~bsaboia@177.37.198.35) (Read error: Connection reset by peer)
[19:04:14] *** Quits: moldorcoder7_ (~moldorcod@37.120.143.28) (Ping timeout: 265 seconds)
[19:05:25] *** Joins: moldorcoder7 (~moldorcod@37.120.143.30)
[19:09:31] *** Quits: gschanuel2 (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[19:10:03] *** Joins: gschanuel2 (~gschanuel@user/gschanuel)
[19:10:59] *** Joins: rgrinberg (~textual@200.5.63.76)
[19:12:09] <chilversc> is the output format for "time" documented anywhere? I'm confused by how long this is actually taking "real#0110m10.162s"
[19:12:55] <chilversc> the command is clearly not taking 110 minutes to execute, so what is with that?
[19:13:05] *** Quits: Inline (~Inline@aftr-37-201-240-100.unity-media.net) (Ping timeout: 252 seconds)
[19:13:24] *** Joins: Inline (~Inline@aftr-37-201-240-100.unity-media.net)
[19:16:41] <geirha> If you mean bash's time keyword, look up TIMEFORMAT in the manual
[19:16:43] <twkm> it usually is documented.
[19:16:52] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[19:19:17] <Soliton> # TIMEFORMAT=real#011%3lR; time sleep 1
[19:19:19] <shbot> Soliton: real#0110m1.006s
[19:20:56] <chilversc> Oh, I think it must be how GCP connects the serial port up to the logging. Something in that must be translating the tab character to #011
[19:21:02] <geirha> perhaps #011 was meant to be \011 (TAB)?
[19:21:19] <chilversc> yeah, that explains the odd format
[19:21:29] <geirha> TIMEFORMAT=%R   to just get seconds
[19:21:32] *** Joins: wiscii (~tct@user/wiscii)
[19:21:53] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:6875:9d65:d898:a509)
[19:21:53] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:6875:9d65:d898:a509) (Changing host)
[19:21:53] *** Joins: skapata (~Skapata@user/skapata)
[19:22:27] <chilversc> thanks, current format is fine, I was just getting confused where this #011 had come from while trying to read it
[19:23:00] *** Joins: knstn (~knstn@ppp-94-66-57-28.home.otenet.gr)
[19:23:33] <wiscii> hi, full POSIX mode, if I want to convert a binary bitmask "1111...etc" to integer, do i literally have to teach `sh` binary maths ? because `sh` $(( )) is too limited
[19:23:36] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[19:25:06] <twkm> # echo $((2#01111110))
[19:25:07] <shbot> twkm: 126
[19:25:08] <wiscii> reading this, my results are obviously different in sh: https://mywiki.wooledge.org/BashFAQ/114
[19:25:21] <twkm> of course that's not posix.
[19:25:29] <wiscii> twkm: $((2# is bashism
[19:25:39] *** OxBADA55 is now known as BiTCHiN
[19:26:08] <wiscii> i don't wnt to know how to do it, i'm just curious if there is a way in sh that has been known of
[19:26:40] *** Quits: kj (~kj@142.169.78.234) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:28:13] <wiscii> !posix
[19:28:13] <greybot> The POSIX standard defines what any modern unix should support. Use just POSIX external commands and options to make portable scripts. See http://shellhaters.org
[19:30:06] *** Quits: hackshish[m] (~hackshish@2001:470:69fc:105::1:29e6) (Quit: You have been kicked for being idle)
[19:30:10] <emanuele6> wiscii: you can use bc
[19:30:25] *** Joins: hackshish[m] (~hackshish@2001:470:69fc:105::1:29e6)
[19:30:49] <emanuele6> # bin_num=0110101; printf '%s\n' 'obase=10' 'ibase=2' "$bin_num" | bc
[19:30:50] <shbot> emanuele6: 53
[19:31:14] <emanuele6> but if you want to do it in POSIX sh, you need to implement binary conversion yourself, yes
[19:31:50] <emanuele6> (note, it is important that you set obase before ibase otherwise obase=10 will set obase=2 with ibase=2 because 10 is 2 in binary)
[19:32:15] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[19:32:57] *** Quits: Bercik (~Redomen@user/bercik) (Ping timeout: 256 seconds)
[19:33:11] <emanuele6> that bc code is POSIX compliant though
[19:34:47] <wiscii> emanuele6: yes, i just looked on opengroup.org and POSIX only recognises hex, dec and oct ..
[19:34:50] <twkm> obase doesn't need to be set for that case.
[19:35:13] <emanuele6> well, yes
[19:35:37] <emanuele6> twkm is correct, i didn't think of that
[19:35:48] <emanuele6> # bin_num=0110101; printf '%s\n' 'ibase=2' "$bin_num" | bc
[19:35:49] <shbot> emanuele6: 53
[19:37:00] <twkm> now if other than decimal was wanted you'd need to do as you say (or supply it in ibase).
[19:40:00] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[19:40:02] *** Joins: Bercik (~Redomen@89-73-136-211.dynamic.chello.pl)
[19:40:02] *** Quits: Bercik (~Redomen@89-73-136-211.dynamic.chello.pl) (Changing host)
[19:40:02] *** Joins: Bercik (~Redomen@user/bercik)
[19:41:39] *** Joins: ChmEarl (~chmearl@user/chmearl)
[19:43:20] *** Quits: Inline (~Inline@aftr-37-201-240-100.unity-media.net) (Ping timeout: 252 seconds)
[19:44:28] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[19:45:16] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[19:45:55] *** Joins: deetwelve (~deetwelve@user/deetwelve)
[19:46:43] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[19:47:03] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Client Quit)
[19:48:11] *** Joins: BSaboia (~bsaboia@177.37.198.35)
[19:48:25] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[19:48:28] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[19:48:41] *** Joins: richardm75 (~richardm7@2600:8801:c507:b200:708a:bce8:8c8f:fddf)
[19:51:41] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[19:53:20] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: see you later)
[19:54:10] *** Quits: torresjrjr (~torresjrj@user/torresjrjr) (Ping timeout: 268 seconds)
[19:56:28] *** Joins: Lope (~lope@user/lope)
[19:56:36] <Lope> hey guys I'm having an issue with my script
[19:56:45] <Lope> it doesn't like the line that says `bd=()`
[19:57:01] <Lope> says Syntax error: "(" unexpected (expecting "}")
[19:57:20] <Lope> its inside a block of [[ ! -b $firstBdD ]] && {
[19:57:39] <twkm> you failed to use bash.
[19:57:43] <Lope> haha
[19:57:44] *** Joins: kj (~kj@beta.aerisnetwork.net)
[19:57:50] <emanuele6> i don't see `bd=()' in there
[19:58:44] <Lope> to be more explicit, I've got [[ ! -b $firstBdD ]] && { echo "blah"; foo=1; bd=(); }
[19:58:48] <Lope> something like that
[19:59:01] <emanuele6> d# [[ ! -b $firstBdD ]] && { echo "blah"; foo=1; bd=(); }
[19:59:02] <shbot> emanuele6: dash: 1: Syntax error: "(" unexpected (expecting "}")
[19:59:06] <emanuele6> failed to use bash
[19:59:31] <emanuele6> as you could see from the `dash: linenumber:' that you omitted
[19:59:40] <Lope> !qefs on $firstBdD ?
[19:59:49] <emanuele6> no
[19:59:50] <Soliton> not in bash, no.
[19:59:51] <emanuele6> use bash
[19:59:57] <emanuele6> not sh, not dash
[19:59:59] <emanuele6> bash
[20:00:00] <Lope> oh
[20:00:05] <Lope> but I have a bash shebang
[20:00:19] <emanuele6> and how are you running the script?
[20:00:20] <Soliton> so don't call it with a different shell then.
[20:00:22] <llua> did you run sh script?
[20:00:24] <twkm> too bad you ran it as sh ...
[20:00:39] *** Quits: dreamon (~dreamon@ppp-88-217-67-53.dynamic.mnet-online.de) (Ping timeout: 256 seconds)
[20:00:39] <Lope> yeah, it must have gotten sourced by dash.
[20:00:50] <Lope> So should I heredoc the fucker and bash it?
[20:01:01] <Lope> dash can't do arrays hey?
[20:01:03] <llua> just run the script with bash
[20:01:10] <emanuele6> shebangs don't matter for sourced file
[20:01:11] <Lope> it's a initramfs script
[20:01:18] <Lope> gets run automagically by the OS
[20:01:28] <Soliton> do you even have bash available?
[20:01:35] <Lope> I do yes
[20:01:41] <Lope> it's a frankenstein initramfs
[20:01:44] <emanuele6> then run the script with bash, not sh
[20:01:57] <Lope> so I guess I need to heredoc it or something.
[20:01:59] <Lope> Ok
[20:02:03] <Lope> or split it into 2 files
[20:02:09] <Lope> and just make the sh file bash the other.
[20:02:21] <Lope> ok, I'll do that.
[20:02:21] <emanuele6> either `./script' or `bash script', not `sh script' or `dash script'
[20:02:22] <Lope> thanks
[20:02:33] <Lope> emanuele6, I'm not running it. The OS is.
[20:02:51] <emanuele6> is this a profile.d file?
[20:02:52] <llua> !b6
[20:02:52] <greybot> When given a choice of solutions, the newbie will always choose the wrong one.
[20:03:09] <Lope> greybot, what's your solution?
[20:03:22] <emanuele6> !greybot
[20:03:22] <greybot> I'm a bot. I'm written in perl. My source, factoids, and stats are at http://wooledge.org/~greybot/ . See !help for a list of my commands. git mirror https://github.com/im14/greybot
[20:03:55] <p3rL> perl is shit language promote BASH
[20:04:44] <emanuele6> Lope: is this a profile.d file? if not, how does the os "run" it?
[20:06:49] <Lope> it's an initramfs script
[20:06:57] <Lope> the os runs it with sh
[20:07:02] <Lope> somehow
[20:07:11] <emanuele6> where is it saved?
[20:07:24] <Lope> I hoped that the OS would check the shebang and see that bash is available
[20:07:26] <twkm> so write for the actual language used instead of what you hope will be used.
[20:07:30] <Lope> but it probably just sources it.
[20:07:53] <emanuele6> where do you place that file to make the os run it?
[20:08:05] <Lope> twkm, yes, as I said, I'm just writing a thin sh script that runs my bash script with bash.
[20:08:26] <Lope> emanuele6, you can lookup the initramfs documentation for debian  it's a long story.
[20:08:44] <emanuele6> ok, but i didn't know you were using debian
[20:08:59] <Lope> what OS did you assume?
[20:09:12] <emanuele6> i didn't assume any os
[20:09:20] <emanuele6> that is why i asked
[20:09:23] <Lope> ok
[20:09:31] *** Joins: gas51627 (uid91066@id-91066.helmsley.irccloud.com)
[20:09:34] <dob1> in a script that is run by root (cronjob) what is the right way to run a command as another user? setpriv?
[20:10:02] <Soliton> why not put it in the user's crontab?
[20:10:32] <Soliton> you could use sudo.
[20:10:34] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[20:10:38] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[20:10:59] <dob1> because I have to access some files that only root can access
[20:12:02] <dob1> sudo -u user command
[20:12:30] *** Quits: BSaboia (~bsaboia@177.37.198.35) (Quit: This computer has gone to sleep)
[20:13:17] <hejux_0> sudo -u user? and the user can access that file?
[20:13:34] <hejux_0> that is gonna be fun
[20:14:29] <emanuele6> you can use setpriv if you don't need pam and are on linux
[20:14:30] <dob1> no, I was not thinking this, I know it can't access it even with sudo
[20:14:31] *** Joins: simpl_e (~user@user/simpl-e/x-8589812)
[20:14:41] <emanuele6> otherwise use su/runuser/sudo/doas
[20:14:41] *** Quits: Codaraxis_ (~Codaraxis@user/codaraxis) (Ping timeout: 252 seconds)
[20:15:34] *** Joins: node1 (~node1@user/node1)
[20:16:53] <Jong> Hi. I'm trying to run this in bash: rank='python3 -c "import dlrm.ubench.dlrm_ubench_comms_driver as comms \; print(comms.get_local_rank()) \; "'
[20:16:55] <Jong> $rank
[20:17:19] <Jong> I get SyntaxError: EOL while scanning string literal
[20:17:24] *** Joins: dza (~dza@user/dza)
[20:17:27] <twkm> and?
[20:17:50] <Jong> how do I fix it?
[20:17:59] <Soliton> put code in a function instead.
[20:18:19] <emanuele6> that would run: python3 -c '"import' 'dlrm.ubench.dlrm_ubench_comms_driver' 'as' 'comms' '\;' 'print(comms.get_local_rank())' '\;' \"\'
[20:18:45] <Soliton> rank() { python3 -c "import dlrm.ubench.dlrm_ubench_comms_driver as comms \; print(comms.get_local_rank()) \; "; }
[20:18:55] <Soliton> the python code looks odd.
[20:19:09] <emanuele6> yes, you should not use \;
[20:19:12] <Jong> thanks, yes I think it's crap
[20:19:13] <emanuele6> just ;
[20:19:21] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 256 seconds)
[20:22:43] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[20:22:45] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 252 seconds)
[20:23:04] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[20:27:02] *** Joins: wuseman (~wuseman@81-236-212-3-no68.tbcn.telia.com)
[20:27:02] *** Quits: wuseman (~wuseman@81-236-212-3-no68.tbcn.telia.com) (Changing host)
[20:27:02] *** Joins: wuseman (~wuseman@user/wuseman)
[20:29:25] *** Quits: tobybl (~tobybl@213.31.134.21) (Remote host closed the connection)
[20:32:32] *** Quits: mozgalom (~mozgalom@194.144.47.113) (Quit: SO LONG SUCKERS!)
[20:37:09] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7) (Quit: enoq)
[20:39:13] *** Joins: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de)
[20:40:40] *** Joins: BSaboia (~bsaboia@177.37.198.35)
[20:41:45] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[20:42:10] *** Quits: gschanuel2 (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[20:45:26] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[20:45:39] *** Joins: henko (~henko@62-178-187-35.cable.dynamic.surfer.at)
[20:46:13] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 252 seconds)
[20:46:18] *** Quits: mithrin (~mithrin@stip-static-62.213-81-207.telecom.sk) (Read error: Connection reset by peer)
[20:46:30] *** Joins: mithrin (~mithrin@stip-static-62.213-81-207.telecom.sk)
[20:46:34] *** Joins: Inline (~Inline@aftr-37-201-240-43.unity-media.net)
[20:51:43] *** Quits: Inline (~Inline@aftr-37-201-240-43.unity-media.net) (Ping timeout: 256 seconds)
[20:51:56] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[20:52:40] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[20:54:07] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[20:55:42] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[20:55:59] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[20:56:45] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[20:57:37] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[20:58:13] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[20:58:33] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[20:58:48] *** Quits: loki_val (~crabbedha@user/crabbedhaloablut) (Ping timeout: 276 seconds)
[20:59:25] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[21:02:00] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[21:03:10] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[21:03:34] *** Joins: nabaiste^ (~nabaiste@68.101.58.90)
[21:04:56] *** Joins: arinov (~arinov@46.154.79.152)
[21:05:02] *** Quits: ubique (~ubique@79.113.171.30) (Quit: .)
[21:05:25] *** Joins: ubique (~ubique@79.113.171.30)
[21:07:54] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 276 seconds)
[21:09:13] *** Quits: henko (~henko@62-178-187-35.cable.dynamic.surfer.at) (Ping timeout: 256 seconds)
[21:10:58] *** Joins: henko (~henko@62-178-187-35.cable.dynamic.surfer.at)
[21:11:02] *** Joins: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[21:11:31] *** Quits: drd (~drd@93-42-69-115.ip85.fastwebnet.it) (Ping timeout: 252 seconds)
[21:13:21] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[21:15:27] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 256 seconds)
[21:18:21] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 256 seconds)
[21:18:42] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[21:19:15] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[21:19:30] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[21:19:58] *** Quits: legola (~legola@46.235.101.65) (Remote host closed the connection)
[21:21:08] *** Quits: rgrinberg (~textual@200.5.63.76) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:28:39] *** Quits: NIXKnight (~NIXKnight@198.98.57.76) (Quit: bye)
[21:29:27] *** Joins: NIXKnight (~NIXKnight@198.98.57.76)
[21:31:05] *** Joins: greknod28 (~grek@120.88.171.98)
[21:33:05] *** Quits: chomwitt (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374) (Remote host closed the connection)
[21:33:29] *** Joins: chomwitt (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374)
[21:34:09] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 256 seconds)
[21:35:42] *** Quits: [diablo] (~diablo]@user/diablo/x-9068044) (Quit: The Lounge - https://thelounge.chat)
[21:36:59] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 256 seconds)
[21:37:02] *** Joins: reallymemorable (~reallymem@148.59.24.2)
[21:38:07] *** Joins: [diablo] (~diablo]@user/diablo/x-9068044)
[21:38:27] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[21:39:14] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[21:39:37] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 268 seconds)
[21:42:07] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[21:43:20] *** Quits: SJrX (~sjr@S0106302303dfb018.vf.shawcable.net) (Ping timeout: 268 seconds)
[21:45:35] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Read error: Connection reset by peer)
[21:46:23] *** Quits: wikan (~wikan@2a02:a31d:8541:e100:213:2ff:fed3:8291) (Quit: Client closed)
[21:46:37] *** Joins: wikan (~wikan@2a02:a31d:8541:e100:213:2ff:fed3:8291)
[21:47:05] *** Quits: Itaru (~DaSH@ro2.flokinet.is) (Ping timeout: 252 seconds)
[21:47:22] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[21:48:12] *** Quits: Knaxius (~Knaxius@herzlichweise.de) (Quit: bye)
[21:49:13] *** Joins: xetch (~xetch@173.208.77.65)
[21:50:46] *** Joins: zebrag (~chris@user/zebrag)
[21:53:11] *** Quits: potamides (~amnifiliu@2001:41b8:83c:fa01:6ccf:3460:4fec:ae63) (Ping timeout: 268 seconds)
[21:55:34] *** Joins: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net)
[21:56:31] *** Quits: arinov (~arinov@46.154.79.152) (Read error: Connection reset by peer)
[21:57:01] *** Quits: n4dir (~user@i5E86C57F.versanet.de) (Remote host closed the connection)
[21:57:14] *** Joins: arinov (~arinov@46.154.79.152)
[21:57:58] *** Quits: node1 (~node1@user/node1) (Quit: Client closed)
[22:00:08] *** Quits: hwrd (aa272caead@2604:bf00:561:2000::137) (Remote host closed the connection)
[22:00:22] *** Quits: thiras (~thiras@user/thiras) (Read error: Connection reset by peer)
[22:01:14] *** Joins: hwrd (aa272caead@2604:bf00:561:2000::137)
[22:03:29] *** Joins: chillin_penguin (~igloo@mobile-166-175-56-140.mycingular.net)
[22:03:32] *** Quits: chillin_penguin (~igloo@mobile-166-175-56-140.mycingular.net) (Max SendQ exceeded)
[22:03:49] *** Joins: chillin_penguin (~igloo@mobile-166-175-56-140.mycingular.net)
[22:03:59] *** Quits: chillin_penguin (~igloo@mobile-166-175-56-140.mycingular.net) (Max SendQ exceeded)
[22:04:18] *** Joins: chillin_penguin (~igloo@mobile-166-175-56-140.mycingular.net)
[22:04:38] *** Quits: chillin_penguin (~igloo@mobile-166-175-56-140.mycingular.net) (Max SendQ exceeded)
[22:04:46] *** Joins: xx (~xx@user/xx)
[22:05:29] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[22:10:11] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 252 seconds)
[22:10:18] *** Quits: reallymemorable (~reallymem@148.59.24.2) (Remote host closed the connection)
[22:12:18] *** Joins: reallymemorable (~reallymem@148.59.24.2)
[22:12:45] *** Quits: vanfanel64 (~vanfanel6@user/vanfanel64) (Ping timeout: 256 seconds)
[22:17:13] *** Joins: mongrel (uid508343@id-508343.ilkley.irccloud.com)
[22:18:07] *** Quits: arinov (~arinov@46.154.79.152) (Remote host closed the connection)
[22:21:01] *** Quits: zostj (~rue@1-162-45-89.dynamic-ip.hinet.net) (Quit: WeeChat 3.3)
[22:21:09] *** Quits: BSaboia (~bsaboia@177.37.198.35) (Quit: This computer has gone to sleep)
[22:21:47] *** Joins: n4dir (~user@i5E86C57F.versanet.de)
[22:28:16] *** Quits: samsmith (~samsmith@li1371-152.members.linode.com) (Quit: Ping timeout (120 seconds))
[22:30:15] *** Quits: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net) (Ping timeout: 256 seconds)
[22:32:09] *** Joins: samsmith (~samsmith@li1371-152.members.linode.com)
[22:33:43] *** Joins: ciphrCat (~ciphrCat@user/ciphrcat)
[22:34:22] <ciphrCat> i noticed that if i accidentally hit something like alt-4, the prompt changes to “(arg: 4)”.  What’s going on there?
[22:35:01] <ciphrCat> if i then hit a key, that key gets entered X number of times.  Is that all it is?
[22:36:05] <ciphrCat> i ask, because what i often want is to run a new command but to parse-and-paste the 3rd or 4th argument of the previous command.  Not sure if that's possible
[22:36:17] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[22:36:43] <ciphrCat> i’m aware of “!$” to substitute the last arg of the previous cmd, but sometimes it's not the last that I want
[22:37:15] *** Joins: hwrd-test (~hahuang65@104-50-0-249.lightspeed.sntcca.sbcglobal.net)
[22:38:53] <Soliton> you can use it with the yank-nth-arg readline command for example.
[22:39:46] *** Joins: didi (~user@user/didi)
[22:40:59] *** Quits: hwrd-test (~hahuang65@104-50-0-249.lightspeed.sntcca.sbcglobal.net) (Quit: WeeChat 3.3)
[22:41:01] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 256 seconds)
[22:41:14] *** Joins: hwrd-test (~hahuang65@104-50-0-249.lightspeed.sntcca.sbcglobal.net)
[22:43:46] <ciphrCat> not sure what you mean.  How can I yank-nth-arg?
[22:44:42] <Soliton> # bind -q yank-nth-arg
[22:44:43] <shbot> Soliton: yank-nth-arg can be invoked via "\e\C-y".
[22:46:18] <Soliton> your alt sends escape so you can use alt for the \e part there.
[22:47:19] *** Quits: henko (~henko@62-178-187-35.cable.dynamic.surfer.at) (Ping timeout: 256 seconds)
[22:49:03] *** Quits: xetch (~xetch@173.208.77.65) (Ping timeout: 252 seconds)
[22:49:05] <ciphrCat> that's cool but it always just gives the 1st argument
[22:49:18] *** Joins: henko (~henko@62-178-187-35.cable.dynamic.surfer.at)
[22:49:24] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[22:49:26] *** Quits: wuseman (~wuseman@user/wuseman) (Quit: ZNC 1.8.2+deb2build1 - https://znc.in)
[22:49:51] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[22:50:15] *** Joins: Soni (~quassel@autistic.space)
[22:50:17] <ciphrCat> ah, got it
[22:50:19] *** Joins: wuseman (~wuseman@81-236-212-3-no68.tbcn.telia.com)
[22:50:19] *** Quits: wuseman (~wuseman@81-236-212-3-no68.tbcn.telia.com) (Changing host)
[22:50:19] *** Joins: wuseman (~wuseman@user/wuseman)
[22:50:37] <ciphrCat> alt-2 alt-ctrl-y gives the 2nd arg
[22:52:01] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[22:52:02] <Soni> how to put value of HISTFILE, if it's not equal to "~/.bash_history", trimmed down if it starts with "~/.bash_history.", on PS1?
[22:53:37] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 268 seconds)
[22:55:02] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[22:55:21] <Soliton> ${HISTFILE#~/.bash_history}
[22:59:07] <Soni> also, what does "${debian_chroot:+($debian_chroot)}" do?
[22:59:21] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[22:59:40] <Soliton> !:+
[22:59:40] <greybot> ${parameter:+word} Use Alternate Value. If parameter is null or unset, nothing is substituted, otherwise the expansion of word is substituted.
[22:59:41] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 252 seconds)
[22:59:42] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[22:59:56] *** Quits: smeeagle (~smeeagle@2a00:23c8:9611:e600:2446:13de:20ec:764f) (Quit: smeeagle)
[23:00:01] *** Joins: kyr (~kyr@167.71.50.12)
[23:00:04] *** Quits: reallymemorable (~reallymem@148.59.24.2) (Remote host closed the connection)
[23:00:08] <Soni> oh hm
[23:00:28] <Soni> that seems like it's gonna be a pain to do with the HISTFILE
[23:00:47] *** Quits: wuseman (~wuseman@user/wuseman) (Ping timeout: 252 seconds)
[23:01:22] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[23:01:29] <Soni> can one use $() in PS1?
[23:01:49] <llua> sure
[23:02:19] *** Joins: wuseman (wuseman@213-67-240-49-no68.tbcn.telia.com)
[23:02:20] *** Quits: wuseman (wuseman@213-67-240-49-no68.tbcn.telia.com) (Changing host)
[23:02:20] *** Joins: wuseman (wuseman@user/wuseman)
[23:03:22] *** Quits: wikan (~wikan@2a02:a31d:8541:e100:213:2ff:fed3:8291) (Quit: Client closed)
[23:04:28] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[23:06:55] *** Joins: inkbottle[m] (~inkbottle@2001:470:69fc:105::2ff5)
[23:07:01] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[23:07:01] *** Quits: wigums (~wigums@user/wigums) (Read error: Connection reset by peer)
[23:09:32] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[23:11:51] *** Joins: wigums (~wigums@user/wigums)
[23:12:29] *** Quits: hwrd-test (~hahuang65@104-50-0-249.lightspeed.sntcca.sbcglobal.net) (Quit: WeeChat 3.3)
[23:12:34] *** Joins: greycat (~greg@209.142.155.49)
[23:13:42] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[23:15:26] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[23:15:33] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[23:16:33] *** Quits: wuseman (wuseman@user/wuseman) (Ping timeout: 252 seconds)
[23:19:47] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[23:24:26] *** Joins: wuseman (~wuseman@81-236-212-3-no68.tbcn.telia.com)
[23:24:27] *** Quits: wuseman (~wuseman@81-236-212-3-no68.tbcn.telia.com) (Changing host)
[23:24:27] *** Joins: wuseman (~wuseman@user/wuseman)
[23:27:17] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[23:27:33] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Ping timeout: 252 seconds)
[23:28:57] *** Quits: treble (~treble@user/treble) (Quit: WeeChat 3.3)
[23:30:40] *** Joins: narendraj9 (~user@2a02:8109:b63f:ff7c::57b2)
[23:33:27] *** Parts: ciphrCat (~ciphrCat@user/ciphrcat) ()
[23:33:55] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[23:36:20] *** Joins: sublim20 (~sublim20@user/sublim20)
[23:38:11] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 252 seconds)
[23:38:33] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:5d0a:d7eb:30c:e02b)
[23:38:33] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:5d0a:d7eb:30c:e02b) (Changing host)
[23:38:33] *** Joins: skapata (~Skapata@user/skapata)
[23:38:59] *** Quits: gas51627 (uid91066@id-91066.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[23:40:28] *** Joins: ciphrCat (~ciphrCat@user/ciphrcat)
[23:41:06] *** Parts: ciphrCat (~ciphrCat@user/ciphrcat) ()
[23:42:03] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[23:42:12] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[23:43:31] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[23:44:23] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[23:45:16] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[23:48:42] *** Joins: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net)
[23:49:46] *** Quits: Lope (~lope@user/lope) (Quit: Leaving)
[23:51:41] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[23:52:58] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[23:57:52] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[23:59:03] *** Quits: tessio (~weechat@141.226.73.109) (Quit: WeeChat 3.2)
[23:59:15] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[23:59:33] *** Joins: tessio (~weechat@141.226.73.109)
