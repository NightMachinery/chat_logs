[00:06:12] *** Quits: lara99 (~lara99@93-36-163-139.ip61.fastwebnet.it) (Quit: Client closed)
[00:39:04] *** Quits: `2jt (~jtomas@210.red-88-24-179.staticip.rima-tde.net) (Ping timeout: 246 seconds)
[00:45:41] *** Quits: PTNapivoski (~PTNapivos@179.189.133.33) (Quit: Leaving)
[00:57:04] *** Joins: shailangsa (~shailangs@host86-162-150-212.range86-162.btcentralplus.com)
[01:16:35] *** Quits: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net) (Remote host closed the connection)
[01:24:50] *** Joins: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net)
[01:30:48] *** Quits: vnf (~vnf@46.159.151.228) (Quit: Leaving)
[01:32:19] *** Quits: w_lehinsun__ (~lehinsun@188.113.178.220) (Remote host closed the connection)
[01:32:38] *** Joins: w_lehinsun__ (~lehinsun@188.113.178.220)
[01:37:28] *** Quits: shailangsa (~shailangs@host86-162-150-212.range86-162.btcentralplus.com) ()
[01:40:23] *** Joins: shailangsa (~shailangs@host86-162-150-212.range86-162.btcentralplus.com)
[01:48:17] *** Quits: Furai (~Furai@furai.pl) (Quit: WeeChat 3.5)
[01:51:41] *** Joins: prabha_friend (~prabha_fr@122.173.238.97)
[01:54:02] *** Quits: jamiejackson (~jamiejack@131.106.140.145) (Quit: Connection closed)
[02:04:35] *** Quits: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net) (Remote host closed the connection)
[02:05:30] *** Quits: jlc_ (~jlc@cpe-107-15-173-212.nc.res.rr.com) (Ping timeout: 272 seconds)
[02:11:25] *** Joins: vnf (~vnf@46.159.151.228)
[02:25:53] *** Quits: vnf (~vnf@46.159.151.228) (Quit: Leaving)
[02:57:05] *** Quits: prabha_friend (~prabha_fr@122.173.238.97) (Quit: Client closed)
[04:04:27] *** Quits: lamneth (~IceChat95@2607:fa49:2107:c900:61cd:846f:4a91:a68a) (Ping timeout: 260 seconds)
[04:12:51] *** Quits: w_lehinsun__ (~lehinsun@188.113.178.220) (Quit: Leaving)
[04:52:31] *** Joins: Hokedli (~lasliedv@gateway/tor-sasl/hokedli)
[05:03:57] *** Quits: Sleepy63 (~Sleepy63@user/sleepy63) (Ping timeout: 240 seconds)
[05:17:36] *** Joins: Sleepy63 (~Sleepy63@user/sleepy63)
[05:38:11] *** Quits: Terlisimo (~Terlisimo@outofband.ozna.net) (Quit: Connection reset by beer)
[05:44:10] *** Joins: Terlisimo (~Terlisimo@outofband.ozna.net)
[05:44:26] *** Quits: Hokedli (~lasliedv@gateway/tor-sasl/hokedli) (Quit: Konversation terminated!)
[06:57:04] *** Quits: Vacuity (~Vacuity@user/vovo) (Ping timeout: 246 seconds)
[06:58:51] *** Joins: Vacuity (~Vacuity@user/vovo)
[07:00:50] *** Joins: lamneth (~IceChat95@2607:fa49:2107:c900:f431:5919:c500:cb6d)
[07:44:45] *** Joins: ikwyl6 (~ikwyl6@195.206.105.2)
[08:02:09] *** Quits: travisghansen (~travisgha@192.74.130.86) (Quit: The Lounge - https://thelounge.github.io)
[08:03:49] *** Joins: travisghansen (~travisgha@192.74.130.86)
[09:34:51] *** Joins: gulzar (~gulzar@49.206.240.149)
[09:48:51] *** Quits: lamneth (~IceChat95@2607:fa49:2107:c900:f431:5919:c500:cb6d) (Ping timeout: 260 seconds)
[09:56:10] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[10:45:39] *** Quits: rvalue (~rvalue@user/rvalue) (Remote host closed the connection)
[10:46:03] *** Joins: rvalue (~rvalue@user/rvalue)
[10:48:04] *** Joins: sultand (~sultand@office.rackhosting.com)
[11:09:12] *** Joins: sultand80 (~sultand@office.rackhosting.com)
[11:09:58] *** Quits: sultand80 (~sultand@office.rackhosting.com) (Client Quit)
[11:38:02] *** Joins: palasso (~palasso@user/palasso)
[11:47:03] *** Joins: Furai (~Furai@furai.pl)
[12:58:46] *** Quits: sultand (~sultand@office.rackhosting.com) (Quit: Client closed)
[13:04:19] *** Joins: `2jt (~jtomas@210.red-88-24-179.staticip.rima-tde.net)
[14:16:10] *** Quits: yano (~yano@ircpuzzles/staff/yano) (Remote host closed the connection)
[14:16:39] *** Joins: vnf (~vnf@46.159.151.228)
[14:16:49] *** Joins: yano (~yano@ircpuzzles/staff/yano)
[14:35:22] *** Quits: ikwyl6 (~ikwyl6@195.206.105.2) (Ping timeout: 272 seconds)
[15:01:39] *** Joins: mav`rik (~unknown@ec2-54-171-126-99.eu-west-1.compute.amazonaws.com)
[15:40:47] *** Joins: moon-r-ack (~none@82-197-215-26.dsl.cambrium.nl)
[15:55:09] <moon-r-ack> Hi all. It seems that MySQL's apt repository for e.g. Ubuntu has one minor version lower of its MySQL packages for Hirsute than for e.g. Focal. Is this correct and should I therefore avoid using the Hirsute release?
[15:56:24] <Naktibalda> this is Ubuntu question
[15:57:12] <moon-r-ack> Hmmm, good point, but they have their own MySQL packages in their own repo
[15:57:25] <moon-r-ack> I expect that they would refer me back here...
[15:59:10] <Naktibalda> yes, it is the best to use the latest version of mysql
[16:01:07] <moon-r-ack> I agree, but I wondered why the repo at http://repo.mysql.com/apt/ubuntu/ might offer one minor version lower for the (newer) release Hirsute than for Focal, and if that means I should switch back to the Focal release on repo.mysql.com, but I think you're right and I should ask #ubuntu
[16:07:46] <moon-r-ack> Naktibalda: maybe you saw it too, but I went to #ubuntu and asked: It seems in [repo.mysql.com] repo, Focal has mysql-client 8.0.28 and Hirsute has 8.0.27, I don't get why
[16:08:05] <moon-r-ack> I'll wait and see if they have a response
[16:36:50] <Naktibalda> usually minor version is the second number.
[16:37:31] <moon-r-ack> I'm sorry, the revision
[16:37:43] <moon-r-ack> So far I've heard it might because Hirsute is EOL, which makes sense
[16:39:07] *** Quits: mthall (~quassel@mail.thalliman.com) (Ping timeout: 246 seconds)
[16:39:33] <Naktibalda> I use Ubuntu, but I have no idea what these names mean :)
[16:39:48] *** Joins: mthall (~quassel@mail.thalliman.com)
[16:41:21] *** Quits: gulzar (~gulzar@49.206.240.149) (Quit: gulzar)
[16:41:37] <moon-r-ack> Both Hirsute and Impish are interim releases, meaning they don't have Long Term Support. Instead, they are maintained for 9 months. Hirsute release is version 21.04 and Impish is version 21.10.
[16:42:28] <moon-r-ack> The current LTS version is Focal, 20.04. There should be a new LTS version coming up, but I don't know what it will be called yet
[16:43:57] <moon-r-ack> Hmm, this explains it pretty well: https://wiki.ubuntu.com/DevelopmentCodeNames, but since this is OT I'll stop talking about that now :)
[16:57:41] <Isotopp> moon-r-ack: hirsute is a short term release
[16:58:05] <Isotopp> moon-r-ack: wait for 22.04, and check that. it will be better supplied with updates
[16:58:21] <Isotopp> no commercial company will be seriously targeting ubuntu except for lts releases
[16:58:42] *** Joins: mungustas (~arnas@92.61.33.111)
[16:58:43] <mungustas> hi, I want to migrate percona-57 to percona-80 https://termbin.com/spd9
[16:59:28] <moon-r-ack> Isotopp: I understand, the problem is, I suppose, that our company, internally, tries to use bleeding edge technology here and there, particulary w.r.t. PHP
[16:59:48] <Isotopp> yes. if you lick the blade it will cut you
[16:59:54] <Isotopp> mungustas: 12:25:44 UTC - mysqld got signal 11 ;
[16:59:59] <Isotopp> that is a crash, sigsegv
[17:00:11] <moon-r-ack> I don't make these decisions, but I have to deal with them, as such, I have to deal with a bit of package acrobatics now and then
[17:00:16] <Isotopp> so either the innodb is corrupted, or you have found a bug
[17:00:25] <mungustas> Isotopp: aha what can I do ?
[17:00:28] <moon-r-ack> I don't mind, ultimately, but thanks for the heads up, and you are of course correct.
[17:00:36] <Isotopp> talk to your support, and let them find out which it is.
[17:00:42] <mungustas> it works perfectly fine on ps57
[17:00:48] <Isotopp> alternatively, restore from a backup and check if the innodb actually is corrupted.
[17:01:40] <Isotopp> mungustas: the stacktrace shown is tiny and contains no helpful info
[17:01:46] <Isotopp> this is an early crash
[17:02:44] <Isotopp> moon-r-ack: April 21, 2022 is the relase date for 22.04
[17:03:28] <Isotopp> if i were you, I would delay for a target date approx 2 weeks after april 21, and then upgrade to jellyfish and look out for 8.029
[17:03:45] <Isotopp> which by then will also be released.
[17:03:46] <mungustas> what I did 1) systemctl stop mysql 2) apt purge percona-server* -yq 3) percona-release setup -y ps80 4) DEBIAN_FRONTEND=noninteractive apt install percona-server-server -yq it tries to start mysql service and errors
[17:04:31] <Isotopp> mungustas: in the olden times, a mysql_upgrade would have been required, but at least in oracle mysql that is now also part of the server and happens automatically
[17:04:51] <Isotopp> oracle mysql has upgrade instructions and caveats, ie things you need to do BEFORE trying to start the new version
[17:04:59] <Isotopp> i bet percona also provides such a thing
[17:05:05] <mungustas> yeah it now appearantly is included to do it automatically
[17:05:17] <Isotopp> there appears to be https://www.percona.com/doc/percona-server/8.0/upgrading_guide.html
[17:06:00] <Isotopp> the also link to https://dev.mysql.com/doc/refman/8.0/en/upgrade-prerequisites.html on that page, it seems to apply here as well
[17:06:17] <Isotopp> that pagge in term recommends you run https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-utilities-upgrade.html before the upgrade
[17:07:16] <Isotopp> also note that mysql does not support downgrades from one major version to a lower major version, so have a 5.7 backup to go back to, unless you have replicas that can serve as data sources for older binary data
[17:08:37] <mungustas> luckily I have backups :)
[17:09:25] <mungustas> so many options and possibilities
[17:09:39] <mungustas> I wished error logs were more informative :/
[17:10:29] <Isotopp> the stacktraces are usually a lot more helpful, but this looks like an early crash to me
[17:15:21] <mungustas> yeah and it says nothing :)
[17:15:42] <mungustas> mysqld got signal 11 unless it is very meaningful
[17:15:57] <mungustas> # perror 11
[17:15:57] <mungustas> OS error code  11:  Resource temporarily unavailable
[17:16:52] <Isotopp> This is not an error code
[17:16:54] <Isotopp> it is a signal
[17:17:06] <Isotopp> 12:25:44 UTC - mysqld got signal 11 ;
[17:17:07] <Isotopp> 12:25:44 UTC - mysqld got signal 11 ;
[17:17:28] <Isotopp> kill -l tells you 11) SIGSEGV
[17:28:25] *** Quits: rvalue (~rvalue@user/rvalue) (Remote host closed the connection)
[17:29:18] *** Joins: rvalue (~rvalue@user/rvalue)
[17:43:19] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[17:43:49] <mungustas> oh
[17:43:54] <mungustas> right
[17:53:41] *** Quits: moon-r-ack (~none@82-197-215-26.dsl.cambrium.nl) (Quit: leaving)
[17:54:39] <lopid> the SELECT part of an INSERT-SELECT doesn't get cached, does it?
[18:04:59] *** Joins: lamneth (~IceChat95@2607:fa49:2107:c900:88d7:4032:3468:5ee2)
[18:07:48] <Naktibalda> lopid: by query cache?
[18:08:26] <lopid> yes
[18:10:11] <Naktibalda> query cache was disabled by default since 5.6 and removed in 8.0
[18:10:45] <lopid> sorry, mariadb 10.7. it's enabled
[18:14:07] <Naktibalda> I wouldn't expect INSERT SELECT to benefit from query cache. it requires exact match anyway.
[18:30:33] *** Quits: nickodd (~nickodd@user/nickodd) (Ping timeout: 252 seconds)
[18:51:34] *** Joins: vnf_ (~vnf@46.159.151.228)
[18:55:47] *** Quits: vnf (~vnf@46.159.151.228) (Ping timeout: 260 seconds)
[19:16:59] *** Quits: Wanderer (~wanderer@user/wanderer) (Quit: goodbye)
[19:24:17] *** Joins: Wanderer (~wanderer@user/wanderer)
[19:27:08] *** Joins: whoami (~whoami@d118-75-54-10.try.wideopenwest.com)
[19:27:19] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-974-194.w86-238.abo.wanadoo.fr) (Read error: Connection reset by peer)
[19:27:32] <whoami> Hey, I am wondering how a "FOR UPDATE" lock affects a SELECT that JOINS on a second table. Are all rows found on either side of the JOIN locked?
[19:27:36] <whoami> https://dev.mysql.com/doc/refman/5.7/en/innodb-locking-reads.html
[19:28:46] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-974-194.w86-238.abo.wanadoo.fr)
[19:29:31] <Naktibalda> whoami: how would it know which table to lock?
[19:30:00] <whoami> Err, right. So reasonable solutions IMO are to lock all tables in the join, or to refuse the query.
[19:30:11] <whoami> Hence the Q :)
[19:30:38] <whoami> (Another possible reasonable answer is to say "it'll only lock the table in the FROM clause")
[19:31:27] <Naktibalda> unlikely, when JOIN is used, both tables are equal
[19:41:59] *** Quits: treefrob (~treefrob@p2e542993.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[19:52:38] *** Joins: gutts (~gutts@li131-142.members.linode.com)
[19:54:06] <gutts> I just setup a fresh mariadb 10 on debian 11 and ran mysql_secure_installation etc, reset the root password, flushed privileges (even manually); now through Navicat it says root through 'localhost' (not %) doesn't work after I established a tunnel connection. I tried to do mysql -p with the password in my terminal and it worked perfectly. Any advice?
[19:54:36] *** Joins: treefrob (~treefrob@p2e542c0f.dip0.t-ipconnect.de)
[19:54:48] <gutts> Confirmed there are no spaces around the password, I'm using it as it is pasted
[19:55:19] <Naktibalda> did you execute mysql -p as debian root user?
[19:55:25] <gutts> yes
[19:55:38] <Naktibalda> try if it works without password
[19:55:38] <gutts> I'm also SSHing as root
[19:55:44] <gutts> No password didn't work
[19:56:10] <gutts> So before I ran mysql_secure_installation, "mysql" worked fine with no password but with no password in Navicat, it didn't work prompting me to reset the password.
[19:56:36] <gutts> TLDR= in the terminal it always works, just in Navicat through root/ssh tunnel and hostname is 'localhost' it doesnt
[19:58:45] <Naktibalda> !t gutts root as root
[19:58:45] <ubiquity_bot> gutts: If "mysql -u root" only works as the system root user, you might be using the auth_socket plugin. SELECT user, host, plugin FROM mysql.user; and see https://dev.mysql.com/doc/refman/5.7/en/socket-pluggable-authentication.html
[19:58:54] <Naktibalda> create different user for navicat
[19:59:09] <gutts> that's what I thought... thanks
[19:59:27] <gutts> (I always had made a new user if running into this problem but for once wanted to see what it was)
[20:07:43] *** Quits: mav`rik (~unknown@ec2-54-171-126-99.eu-west-1.compute.amazonaws.com) (Quit: leaving)
[20:12:50] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[20:28:12] *** Quits: lamneth (~IceChat95@2607:fa49:2107:c900:88d7:4032:3468:5ee2) (Ping timeout: 240 seconds)
[20:34:26] *** Joins: lamneth (~IceChat95@2607:fa49:2107:c900:88d7:4032:3468:5ee2)
[20:53:59] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: IceChat - It's what Cool People use)
[21:08:37] *** Joins: lamneth_ (~IceChat95@2607:fa49:2107:c900:88d7:4032:3468:5ee2)
[21:09:22] *** Quits: lamneth (~IceChat95@2607:fa49:2107:c900:88d7:4032:3468:5ee2) (Ping timeout: 260 seconds)
[21:09:50] *** Quits: FightingFalcon (~none@user/fightingfalcon) (Ping timeout: 260 seconds)
[21:10:22] *** Quits: zitter (~danilodim@93-57-35-194.ip162.fastwebnet.it) (Ping timeout: 260 seconds)
[21:10:57] *** Joins: FightingFalcon (~none@2a01:4f8:1c17:6cd5::1)
[21:18:34] *** Joins: zitter (~danilodim@93-57-35-194.ip162.fastwebnet.it)
[21:28:35] *** Quits: palasso (~palasso@user/palasso) (Read error: Connection reset by peer)
[21:30:13] *** Quits: zitter (~danilodim@93-57-35-194.ip162.fastwebnet.it) (Ping timeout: 256 seconds)
[21:37:56] *** Joins: zitter (~danilodim@93-57-35-194.ip162.fastwebnet.it)
[22:04:51] <Isotopp> whoami: the recommendation is to get a set of primary keys you are interested in in a non-locking query and then select id, other data from single_table where id in ( .... )
[22:05:47] <Isotopp> whoami: read-modify-write in https://blog.koehntopp.info/2020/07/30/mysql-transactions---writing-data.html, deadlocks in the following articles in the #mysqldev tag
[22:06:04] <Isotopp> whoami: database as a queue, with FOR UPDATE and SKIP LOCKED in https://blog.koehntopp.info/2021/01/28/database-as-a-queue.html
[22:06:57] <Isotopp> gutts: localhost is special and means a unix domain socket
[22:07:16] <Isotopp> gutts: if you are trying via ssh tunnel, it is almost surely a 127.0.0.1 (INET socket) connection to localhost
[22:07:28] <Isotopp> gutts: to grant for that, you would need to use the ip, 127.0.0.1 instead of localhost
[22:07:55] <Isotopp> gutts: the word localhost is magical, in the c library libmysqlclient.so there is a special strcmp() forit.
[22:08:16] <whoami> Isotopp: yeah, i was trying to save a roundtrip by grabbing some data i need from a related table on top of the table i'm using for the lock to prevent two processes simultaneously trying to create new, associated rows
[22:08:25] <whoami> i'll just take the extra roundtrip and use two queries
[22:08:47] <Isotopp> yes, that is usually way more efficent. I have some benchmark for that in the #mysqldev tag in the blog as well.
[22:08:58] <Isotopp> the second round trip is usually not very expensive
[22:15:43] <Isotopp> gutts: i believe the code is here https://github.com/mysql/mysql-server/blob/8.0/sql/auth/acl_table_user.cc#L1441
[22:19:46] <Isotopp> no, wrong place, but still.
[22:46:46] *** Quits: defn (~n0b0dy@user/defn) (Quit: ZNC 1.8.2 - https://znc.in)
[22:48:09] *** Joins: defn (~n0b0dy@user/defn)
[22:54:27] *** Quits: defn (~n0b0dy@user/defn) (Remote host closed the connection)
[22:59:24] *** Joins: defn (~n0b0dy@user/defn)
[23:11:07] *** Joins: PTNapivoski (~PTNapivos@2804:60:1e8:a000:973:87dc:1d1b:321)
[23:13:40] *** Joins: nickodd (~nickodd@user/nickodd)
[23:20:45] *** Joins: DrowningElysium (uid190788@user/drowningelysium)
