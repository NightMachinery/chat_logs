[00:06:29] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[00:09:56] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[00:32:21] *** Joins: Leonard (~Administr@114.55.127.80)
[00:34:43] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[00:36:40] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[00:39:57] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[00:44:09] *** Joins: Leonard (~Administr@114.55.127.80)
[00:46:46] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[00:49:37] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:55a0:8f60:aba0:28c4) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:56:26] *** Joins: jfuller (~jimfuller@ip-85-160-2-104.eurotel.cz)
[01:05:59] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[01:09:17] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[01:12:08] *** Quits: jfuller (~jimfuller@ip-85-160-2-104.eurotel.cz) (Quit: leaving)
[01:22:00] <bagder> my debian unstable now rocks curl 7.81.0
[01:37:20] *** Joins: Leonard (~Administr@114.55.127.80)
[01:39:01] *** Joins: spare (~pj7svgall@user/spareproject)
[01:39:01] *** Quits: gryffus_ (~gryffus@150.254.broadband2.iol.cz) (Read error: Connection reset by peer)
[01:39:07] *** Joins: gryffus (~gryffus@150.254.broadband2.iol.cz)
[01:39:17] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[01:40:07] *** Joins: rgrinberg (~textual@2806:101e:7:78bb:3c80:c601:b69c:eb4)
[01:47:02] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[02:08:00] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[02:10:57] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[02:16:17] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[02:16:28] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[02:21:05] *** Quits: rgrinberg (~textual@2806:101e:7:78bb:3c80:c601:b69c:eb4) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:39:20] *** Joins: Leonard (~Administr@114.55.127.80)
[02:41:48] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[02:57:03] *** Joins: dka (~code-is-a@193.70.33.83)
[03:09:51] *** Joins: rgrinberg (~textual@187.223.202.115)
[03:20:30] *** Quits: rgrinberg (~textual@187.223.202.115) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:27:22] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3)
[03:42:27] *** Joins: marlinc_ (~marlinc@user/marlinc)
[03:42:51] *** Quits: marlinc (~marlinc@user/marlinc) (Ping timeout: 256 seconds)
[03:46:31] *** Quits: marlinc_ (~marlinc@user/marlinc) (Read error: Connection reset by peer)
[04:07:48] *** Quits: BoatToast (~BoatToast@2600:1700:f2f0:9c90:699c:3989:b9d0:bf97) (Ping timeout: 256 seconds)
[04:19:42] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:31:55] *** Quits: spare (~pj7svgall@user/spareproject) (Remote host closed the connection)
[04:43:19] *** Quits: Leonard (~Administr@114.55.127.80) (Remote host closed the connection)
[04:43:19] *** Quits: gryffus (~gryffus@150.254.broadband2.iol.cz) (Read error: Connection reset by peer)
[04:43:42] *** Joins: Leonard (~Administr@114.55.127.80)
[05:04:02] *** Quits: epony (epony@user/epony) (Ping timeout: 240 seconds)
[05:06:37] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[05:10:07] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[05:11:09] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[05:11:32] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[05:40:44] *** Joins: Leonard (~Administr@114.55.127.80)
[05:42:37] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[06:07:03] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[06:10:20] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[06:11:25] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[06:11:42] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[06:12:02] *** Quits: pvp (~pvp@p4ff13742.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[06:12:46] *** Joins: pvp (~pvp@p4ff132a6.dip0.t-ipconnect.de)
[06:46:20] *** Joins: Vonter (~Vonter@user/vonter)
[07:31:34] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[07:33:19] *** Joins: Leonard (~Administr@114.55.127.80)
[07:33:50] *** Quits: Leonard (~Administr@114.55.127.80) (Remote host closed the connection)
[07:34:34] *** Joins: Leonard (~Administr@114.55.127.80)
[07:37:36] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[07:41:00] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[07:54:52] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e)
[08:06:54] *** Joins: Leonard (~Administr@114.55.127.80)
[08:08:57] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[08:13:50] *** Quits: Leonard (~Administr@114.55.127.80) (Remote host closed the connection)
[08:14:13] *** Joins: Leonard (~Administr@114.55.127.80)
[08:41:02] *** Quits: Leonard (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[08:41:07] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[08:45:36] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3)
[08:50:54] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[08:51:02] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[08:52:32] *** Joins: epony (~epony@user/epony)
[09:06:21] *** Joins: Leonard (~Administr@114.55.127.80)
[09:08:41] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[09:36:04] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[09:38:50] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[09:38:57] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[09:39:41] *** Joins: Leonard (~Administr@114.55.127.80)
[09:42:39] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e) (Read error: Connection reset by peer)
[09:43:36] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e)
[09:51:33] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[09:54:37] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[10:06:51] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[10:07:02] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[10:31:51] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[10:32:01] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[10:37:00] *** Joins: Leonard (~Administr@114.55.127.80)
[10:39:30] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[10:43:04] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[10:45:57] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[10:53:59] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e) (Read error: Connection reset by peer)
[10:55:35] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e)
[11:11:27] *** Quits: nmollerup (~nmollerup@customer-2a00-7660-1612-0168-fdd8-467a-d6e1-5c28.ip6.gigabit.dk) (Remote host closed the connection)
[11:11:47] *** Joins: nmollerup (~nmollerup@customer-2a00-7660-1612-0168-cfa8-be86-5a22-ee27.ip6.gigabit.dk)
[11:12:11] *** Joins: Leonard (~Administr@114.55.127.80)
[11:12:28] *** Quits: rewby1 (~rewby@do-it-for.science) (Remote host closed the connection)
[11:12:56] *** Joins: rewby1 (~rewby@do-it-for.science)
[11:14:29] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[11:16:47] *** Joins: mollerup (~nmollerup@customer-2a00-7660-1612-0168-cfa8-be86-5a22-ee27.ip6.gigabit.dk)
[11:19:01] *** Quits: nmollerup (~nmollerup@customer-2a00-7660-1612-0168-cfa8-be86-5a22-ee27.ip6.gigabit.dk) (Ping timeout: 240 seconds)
[11:19:44] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 256 seconds)
[11:20:56] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[11:21:51] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Remote host closed the connection)
[11:22:18] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[11:23:01] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e) (Ping timeout: 240 seconds)
[11:23:55] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e)
[11:24:37] *** Joins: otisolsen70_ (~otisolsen@xd4ed80b5.cust.hiper.dk)
[11:28:05] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Ping timeout: 256 seconds)
[11:37:30] *** Quits: Leonard (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[11:37:35] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[11:38:50] *** Joins: Vonter (~Vonter@user/vonter)
[11:39:57] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 240 seconds)
[11:46:13] *** Quits: Vonter (~Vonter@user/vonter) (Read error: Connection reset by peer)
[11:48:03] *** Joins: Vonter (~Vonter@user/vonter)
[11:52:03] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[12:14:36] *** Joins: Leonard (~Administr@114.55.127.80)
[12:16:37] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[12:32:36] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:19d9:50ff:7928:95e) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:40:10] *** Quits: x88x88x (~x88x88x@2001:19f0:5:39a8:5400:3ff:feb6:73cb) (Remote host closed the connection)
[12:40:55] *** Joins: x88x88x (~x88x88x@149.28.53.172)
[12:44:05] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[12:47:01] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[12:52:51] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[12:53:05] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[13:01:13] *** Quits: troyt_ (troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e) (Ping timeout: 250 seconds)
[13:05:29] *** Joins: troyt (troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e)
[13:06:05] *** Joins: Leonard (~Administr@114.55.127.80)
[13:09:06] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[13:26:05] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[13:29:30] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[13:38:47] *** Joins: Leonard (~Administr@114.55.127.80)
[13:41:01] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[13:41:53] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[13:44:05] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[13:44:51] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[13:44:57] *** Quits: moparisthebest (~moparisth@user/mopar) (Ping timeout: 240 seconds)
[13:45:50] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[13:47:29] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[13:59:57] *** Quits: mcf (~mforney@netbsd/developer/mcf) (Ping timeout: 240 seconds)
[14:08:45] *** Quits: tap73 (~tap73@185.236.203.99) (Quit: WeeChat 3.3)
[14:36:08] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[14:37:15] *** Joins: Leonard (~Administr@114.55.127.80)
[14:42:27] *** Joins: mcf (~mforney@netbsd/developer/mcf)
[14:55:01] *** Quits: apollo13 (apollo13@django/moderator/apollo13) (Quit: ZNC - http://znc.in)
[14:57:12] *** Joins: apollo13 (apollo13@django/moderator/apollo13)
[15:07:38] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[15:10:56] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[15:11:16] *** Joins: tap73 (~tap73@185.236.203.99)
[15:37:42] *** Joins: Jaxx (~Jaxx@user/jaxx)
[15:39:24] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[15:39:37] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[15:40:17] *** Quits: vicecea (~vicecea@gateway/vpn/pia/vicecea) (Remote host closed the connection)
[15:40:37] *** Joins: vicecea (~vicecea@gateway/vpn/pia/vicecea)
[15:47:09] *** Joins: spare (~izmepttwa@user/spareproject)
[16:04:13] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 240 seconds)
[16:07:35] *** Joins: Vonter (~Vonter@user/vonter)
[16:07:49] *** Joins: Leonard (~Administr@114.55.127.80)
[16:09:39] *** Quits: Leonard (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[16:09:52] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[16:10:38] *** Joins: Leonard (~Administr@114.55.127.80)
[16:20:55] *** Quits: Leonard (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[16:21:06] *** Joins: Leonard (~Administr@114.55.127.80)
[16:41:25] *** Quits: Leonard (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[16:41:37] *** Joins: Leonard (~Administr@114.55.127.80)
[16:50:29] *** Quits: pvp (~pvp@p4ff132a6.dip0.t-ipconnect.de) (Quit: The Lounge - https://thelounge.chat)
[16:54:55] *** Joins: pvp (~pvp@p4ff132a6.dip0.t-ipconnect.de)
[17:05:56] *** Quits: Leonard (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[17:06:09] *** Joins: Leonard (~Administr@114.55.127.80)
[17:36:40] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[17:37:54] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[17:38:05] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[17:38:57] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[17:39:58] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[17:45:27] *** Joins: Leonard (~Administr@114.55.127.80)
[17:47:45] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[18:07:38] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[18:10:37] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[18:27:21] *** Joins: Everything (~Everythin@37.115.210.35)
[18:31:54] *** Joins: icing (~stefan@i59F63540.versanet.de)
[18:31:54] *** Quits: icing (~stefan@i59F63540.versanet.de) (Changing host)
[18:31:54] *** Joins: icing (~stefan@user/icing)
[18:32:26] * icing sends his thought waves out to bagder so he does not feel alone.
[18:32:42] <bagder> thanks
[18:33:04] <icing> start of the year is sometimes tricky, I found.
[18:34:44] <bagder> I think that can also go for other parts of the year =)
[18:35:01] <icing> everything is possible!
[18:35:25] <bagder> yay!
[18:37:07] <icing> well, when I am between priojects, I sometimes sympathise with Sisyhpos who is walking down the hill and thinking to maybe do sth else before rolling the boulder again.
[18:37:33] <Everything> icing: so true
[18:39:17] *** Joins: Leonard (~Administr@114.55.127.80)
[18:40:37] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 240 seconds)
[18:41:35] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[18:43:04] <icing> So, h3 is considering adding certificate validation? =)
[18:43:34] <bagder> h3 doesn't, but quic on the other hand... =)
[18:44:24] <bagder> the protocol always had it, just not curl
[18:44:36] <icing> nice, if you can avoid doing it in curl
[18:44:55] <bagder> one interesting thing it brings btw
[18:45:10] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[18:45:14] <bagder> is that when trying happy eyeballs or multiple IPs per host name, we might do multiple cert checks
[18:45:44] <bagder> as they're now more or less part of the connect, and not post-connect as with tcp
[18:46:12] <icing> you mean, you'd do the same verify again when the connection happens on another ip?
[18:46:49] <bagder> a failed cert check is a failed connect, so it might try to connect to the next ip 
[18:47:02] <bagder> and check again
[18:47:16] <bagder> of course it might also be a bit on how we decide to do it, but it seems unavoidable
[18:47:49] <icing> ah, hmm, so you have to make up your mind if that is a good thing or not.
[18:47:51] <bagder> curl.se has 8 IP addresses, and if the cert doesn't match, curl will basically try all 8 before it gives up
[18:48:01] <bagder> yeah
[18:48:12] <bagder> I might need to check how others do it 
[18:48:29] <icing> so, if one was wrongly configured / old record, it might be good
[18:48:32] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[18:48:54] <bagder> yeah, I think ultimately this is actually how the protocol is designed to work
[18:49:21] <bagder> since there's no guarantee that they serve the same cert
[18:50:10] <icing> otoh, something is wrong when the first cert fails and maybe signalling that is good. hmm...
[18:50:38] <bagder> yeah maybe
[18:51:37] <bagder> possibly the first failed cert check should just be more final and curl should stop trying at that point
[18:51:51] <Piru> I guess there has to be some kind of arbitraty upper limit
[18:52:20] *** Joins: Vonter (~Vonter@user/vonter)
[18:52:27] <bagder> I think we'll have reasons to ponder on this
[18:52:52] <icing> I smell a command line / CURL_OPT
[18:53:14] <bagder> yeah, depending a little how big/small of a problem it ends up 
[18:54:17] <icing> well, you could try all ip addresses in the world to find a matching cert.
[18:55:10] <bagder> that reminds me of the old idea of trying all the resolved ones at once
[18:55:33] <icing> always try 1.1.1.1 and 8.8.8.8 first
[18:57:56] <icing> do you get the reason back from quic why a connect failed?
[18:58:35] <icing> I guess, if no one is listening, you get a timeout?
[18:59:32] <bagder> I suppose "the reason" mostly depends on what API/error the lib provides
[18:59:49] <bagder> the cert verification is done by curl code so I know well when that fails
[19:01:02] <icing> my gut feeling is, when you get an answer back and the cert check fails, that should abort the request. Unless some "persevere" flag is set.
[19:01:21] <Piru> speaking of, I guess I mentioned earlier already how slow openssl really is? it calls X509_load_cert_crl_file_ex on the certificate bundle for each connection
[19:01:36] <Piru> so it loads and parses the cert bundle every time
[19:01:44] <bagder> yeah we talked about that
[19:01:52] <icing> urgs
[19:01:52] <bagder> which then for multiple checks is even worse
[19:01:57] <Piru> on lower end systems it's amazingly slow
[19:02:39] <icing> so, SSL_CTX just keeps the file and SSL* loads it when needed?
[19:03:33] <Piru> I ended up hacking kind of internal caching for it to openssl. it checks file st_dev, st_ino and st_mtime and if the same as earlier it uses memory cached version and doesn't load anything
[19:03:46] <Piru> (and also path of course)
[19:04:05] <Piru> massive speedup when tons of connections are created
[19:04:50] <Piru> helps a lot with browsers for example
[19:04:51] <icing> interesting, should also apply when servers check client cert revocation
[19:06:52] <Piru> no way this is a generic solution though as it has a big CRYPTO_THREAD_write_lock on it
[19:06:54] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Remote host closed the connection)
[19:07:18] <Piru> and it results in ping-pong loading if two or more threads use a different path
[19:07:19] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[19:07:59] <Piru> in our use cases this never happens so we get away with it. but with other apps I can easily see it happening
[19:09:33] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[19:09:57] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[19:10:00] <Piru> this is of course one of those issues that don't "exist" if I/O, RAM and CPU are fast
[19:10:15] <Piru> so I understand why it's easy to miss this
[19:10:39] <Piru> we only saw this when we started to profile the browser
[19:12:39] <fgeek> rautaa rajalle
[19:13:26] <icing> apache httpd does X509_STORE_load_file/path() when initializing the SSL_CTXs for the virtual host. So this is during start up time and then available during traffic
[19:13:29] <Piru> I know that's a joke but there cases where openssl runs on low end systems
[19:13:52] <Piru> ^fgeek
[19:14:37] <icing> looks to me that if your client shares a SSL_CTX for its connections, you could do that too
[19:14:49] <Piru> I dunno if libcurl could somehow do this itself. perhaps. but the issue is that libcurl is unfortunately only passed a path to the file
[19:15:05] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Remote host closed the connection)
[19:15:18] <Piru> it has no concept of "use the same certs for these connections" as far as I can tell
[19:15:18] <fgeek> Piru, definitely. I've touched some of those by myself using famous Kädet Savessa -method
[19:15:29] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[19:15:53] <icing> hmm, bagder, that might be a concept to think about in curl: set up a kind of ctx instance to share in several handles
[19:16:03] <bagder> yeah, like with a share object
[19:16:11] <Piru> oh yes
[19:16:23] <Piru> that'd help
[19:17:19] <icing> maybe also populate that with curl options to share unless overridden at the handle
[19:17:45] <Piru> I dunno if there is some kind of a simulator that penalizes I/O access but say if you made each file operation pause a bit you'd easily see how badly this hits the performance
[19:18:01] <icing> or via a clone() of an existing handle as template
[19:20:20] <fgeek> Piru, http://jagt.github.io/clumsy/ heh. not 1:1 for your use case, but useful software sometimes
[19:21:54] <fgeek> I'm sure there is a tool for I/O also already
[19:24:13] <Piru> probably is
[19:25:31] <Piru> this just reminded me of nice efforts in curl to reduce the amount of memory usage. reducing disk I/O would also help in low end systems, at least performance
[19:26:46] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[19:27:49] *** Joins: Leonard (~Administr@114.55.127.80)
[19:30:36] <bagder> I suppose an application can also opt to load the cert into mem and set it with CURLOPT_CAINFO_BLOB
[19:31:41] <fgeek> what kind of automated fuzzing curl is receiving per every commit or bigger change? sorry for probably noob question :)
[19:33:08] <bagder> the primary fuzz per commit/PR is done with "cifuzz"
[19:33:25] <bagder> which is the oss-fuzz engine running on curl for a limited amount of time
[19:33:39] <fgeek> okey, cool
[19:33:45] <bagder> oss-fuzz runs on curl master non-stop
[19:34:01] <fgeek> yeah I know oss-fuzz :)
[19:35:13] <bagder> generally speaking, the fuzzers don't find a lot of problems these days
[19:35:52] <bagder> with the exception of oss-fuzz having had their own problems recently, leading to numerous false positives
[19:35:54] *** Quits: Leonard (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[19:36:16] <fgeek> okay :)
[19:36:17] *** Joins: Leonard (~Administr@114.55.127.80)
[19:37:11] <bagder> I would say that our "torture tests" often helps to find issues before the fuzzer does
[19:37:31] <fgeek> how do you execute those?
[19:38:03] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[19:38:14] <bagder> in a regular debug build you'd just "make test-torture"
[19:38:52] <bagder> they can be very slow though
[19:40:17] <bagder> in the CI builds we have them setup to only fail X% of the calls, where X is somewhere around 30-40
[19:41:39] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[19:43:27] *** Joins: zmt00 (~zmt00@user/zmt00)
[19:47:41] *** Joins: Leonard (~Administr@114.55.127.80)
[19:50:43] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[20:08:49] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[20:10:09] <Piru> fgeek: good read https://daniel.haxx.se/blog/2021/12/13/keeping-curl-safe/ but I guess you already saw it earlier
[20:12:49] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[20:13:52] <fgeek> maybe :)
[20:14:27] *** Quits: spare (~izmepttwa@user/spareproject) (Ping timeout: 276 seconds)
[20:15:49] <fgeek> 10/10 post
[20:16:30] <bagder> you'll like the URL parser report that comes Monday
[20:16:41] <bagder> "EXPLOITING URL PARSERS: THE GOOD, BAD, AND INCONSISTENT" if the name sticks
[20:17:20] <fgeek> after all the years starts to feel like vulns come and go :)
[20:17:29] <bagder> different URL parsers behaving differently => fun side-effects
[20:17:45] <bagder> this is certainly like a rerun of previous ones
[20:18:06] <fgeek> and not the last
[20:18:12] <bagder> indeed not
[20:29:08] *** Quits: {4144} (~{4144}@46.56.70.224) (Ping timeout: 252 seconds)
[20:29:33] *** Joins: {4144} (~{4144}@46.56.70.224)
[20:36:36] *** Joins: Leonard (~Administr@114.55.127.80)
[20:38:53] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[20:40:49] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[20:40:54] *** Quits: Leonard (~Administr@114.55.127.80) (Read error: Connection reset by peer)
[20:48:29] *** Joins: Leonard (~Administr@114.55.127.80)
[20:51:21] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[20:53:27] *** Quits: Everything (~Everythin@37.115.210.35) (Quit: leaving)
[21:06:19] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[21:09:38] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[21:12:41] *** Joins: Leonard (~Administr@114.55.127.80)
[21:15:09] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[21:31:13] *** Joins: spare (~q6jw4om3n@user/spareproject)
[21:36:23] *** Joins: magla (~gelignite@55d41183.access.ecotel.net)
[21:37:19] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[21:40:39] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[22:08:13] *** Joins: Leonard (~Administr@114.55.127.80)
[22:10:50] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[22:15:19] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[22:18:13] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 240 seconds)
[22:22:23] *** Joins: Leonard (~Administr@114.55.127.80)
[22:24:51] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[22:37:05] *** Quits: icing (~stefan@user/icing) (Quit: Leaving...)
[22:38:49] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[22:42:25] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[23:02:03] *** Quits: Jaxx (~Jaxx@user/jaxx) (Quit: Leaving)
[23:04:40] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 256 seconds)
[23:09:02] *** Joins: Leonard (~Administr@114.55.127.80)
[23:10:54] *** Quits: Leonardzzz (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[23:36:20] *** Joins: Leonardzzz (~Administr@114.55.127.80)
[23:39:48] *** Quits: Leonard (~Administr@114.55.127.80) (Ping timeout: 256 seconds)
[23:43:27] *** Joins: rgrinberg (~textual@187.223.248.37)
[23:48:18] *** Quits: rgrinberg (~textual@187.223.248.37) (Ping timeout: 256 seconds)
[23:50:56] *** Joins: rgrinberg (~textual@187.223.248.37)
[23:56:50] *** Quits: rgrinberg (~textual@187.223.248.37) (Quit: My MacBook has gone to sleep. ZZZzzz…)
