[00:03:09] *** Quits: kzak (~kzak@nat-37.starnet.cz) (Ping timeout: 256 seconds)
[00:36:35] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Ping timeout: 240 seconds)
[00:37:12] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[00:49:47] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[01:04:08] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Read error: Connection reset by peer)
[01:08:15] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Ping timeout: 240 seconds)
[01:09:20] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[01:12:15] *** Quits: todd (~todd@gateway/tor-sasl/toddf) (Ping timeout: 240 seconds)
[01:14:12] *** Joins: todd (~todd@gateway/tor-sasl/toddf)
[01:18:02] *** Joins: vysn (~vysn@user/vysn)
[01:54:35] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Ping timeout: 240 seconds)
[01:55:30] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[02:01:48] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 240 seconds)
[02:02:35] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Ping timeout: 240 seconds)
[02:12:32] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[02:14:13] *** Quits: eblake (~eblake@redhat/eblake) (Ping timeout: 240 seconds)
[02:19:24] *** Joins: eblake (~eblake@172-125-7-16.lightspeed.rcsntx.sbcglobal.net)
[02:19:24] *** Quits: eblake (~eblake@172-125-7-16.lightspeed.rcsntx.sbcglobal.net) (Changing host)
[02:19:24] *** Joins: eblake (~eblake@redhat/eblake)
[02:19:35] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Ping timeout: 240 seconds)
[02:25:27] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[02:31:42] *** Quits: strajder (~strajder@user/strajder) (Quit: leaving)
[02:39:35] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Ping timeout: 240 seconds)
[02:40:23] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[02:45:35] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Ping timeout: 240 seconds)
[02:46:27] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[03:46:55] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Ping timeout: 240 seconds)
[03:47:52] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[03:50:57] *** Quits: eblake (~eblake@redhat/eblake) (Ping timeout: 256 seconds)
[04:13:40] *** Quits: finsternis (~X@23.226.237.192) (Read error: Connection reset by peer)
[04:35:29] *** Quits: Pali (~pali@user/pali) (Ping timeout: 256 seconds)
[04:48:36] *** Quits: sammelweis (~quassel@2601:401:8200:2d4c:bd9:d04c:7f69:eb10) (Ping timeout: 240 seconds)
[04:48:49] *** Quits: ngortheone (~ngortheon@199.36.90.74) (Remote host closed the connection)
[04:49:35] *** Joins: sammelweis (~quassel@2601:401:8200:2d4c:bd9:d04c:7f69:eb10)
[04:50:11] *** Joins: adray (~araymatri@2001:470:69fc:105::1873)
[04:58:07] *** Quits: adray (~araymatri@2001:470:69fc:105::1873) (Quit: Reconnecting)
[04:58:20] *** Joins: adray (~araymatri@2001:470:69fc:105::1873)
[04:59:54] *** Quits: rogeliodh (~rogeliodh@rogeliodh.dev) (Quit: The Lounge - https://thelounge.chat)
[05:00:24] *** Joins: rogeliodh (~rogeliodh@rogeliodh.dev)
[05:04:55] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Ping timeout: 240 seconds)
[05:06:22] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[05:24:35] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Ping timeout: 240 seconds)
[05:26:36] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[05:41:27] *** Quits: reset (~reset@user/reset) (Quit: reset)
[06:01:37] *** Joins: kusoneko (~kusoneko@137.220.55.93)
[06:02:50] *** Quits: nyah (~nyah@05453449.skybroadband.com) (Ping timeout: 272 seconds)
[06:32:18] *** Quits: maetthew (~maetthew@user/maetthew) (Quit: ZNC 1.8.2 - https://znc.in)
[06:34:55] *** Joins: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se)
[06:34:55] *** Quits: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se) (Changing host)
[06:34:55] *** Joins: maetthew (~maetthew@user/maetthew)
[06:39:15] *** Quits: haniaF (~haniaF@83.24.44.138.ipv4.supernova.orange.pl) (Ping timeout: 252 seconds)
[06:39:29] *** Joins: haniaF (~haniaF@79.191.93.146.ipv4.supernova.orange.pl)
[06:52:11] <mfiano> Is there a setting that hides the "Key is not bound" status message?
[06:56:15] <flatcap> no.  I suppose you could bind all the unused keys to `noop`
[06:59:09] <mfiano> Ok. One more question. What is the color group for the marks in the index view? I mean the 3 characters like " s+"
[06:59:21] <mfiano> I don't know the proper terminology
[06:59:51] <flatcap> the something chars... er
[07:00:46] <mfiano> N for new, D for deleted, O for unread; those things
[07:01:10] <flatcap> the new/old are $flag_chars
[07:01:27] <mfiano> https://img.mfiano.net/ICRFpa.png
[07:01:32] <mfiano> I don't see that in the docs
[07:01:45] <flatcap> there's also $from_chars - User-configurable index flags: to address, cc address, etc
[07:02:46] <mfiano> I want to color that column differently
[07:04:04] <flatcap> color index_flags default red .
[07:04:17] <flatcap> the '.' is a regex to match every line
[07:04:43] <mfiano> Oh, should this be added to the 'Simple Index Colours' section of the docs?
[07:05:10] <flatcap> https://neomutt.org/feature/index-color
[07:05:28] <flatcap> I'm just wondering why our docs don't match
[07:05:38] <mfiano> https://neomutt.org/guide/configuration.html#color
[07:05:44] <flatcap> that feature hasn't changed in forever
[07:06:01] <mfiano> Table 3.7
[07:06:06] <flatcap> ah!
[07:06:45] <mfiano> I guess the guide is a less complete version of all configuration
[07:06:51] <mfiano> I wasn't aware of the other link
[07:07:00] *** Quits: plastico (~plastico@neomutt/plastico) (Quit: WeeChat 3.4)
[07:07:18] <flatcap> ah, they're the (simple) colours that don't take a pattern
[07:07:50] <flatcap> further down Table 3.11 shows the ones you want
[07:08:22] <mfiano> Ok, I guess I just didn't read far enough. Sorry for the noise
[07:08:26] <flatcap> np
[07:10:52] <mfiano> I actually haven't used mutt in about 20 years, and I don't remember it being this nice, which it probably wasn't, both due to feature set and neomutt's additions. But, wow, I'm just impressed.
[07:11:59] <flatcap> thanks, it's a labour of love :-)
[07:12:34] <flatcap> we've nearly managed to undo the twenty years of poor design
[07:12:54] <flatcap> and it's starting to look like a modern app
[07:13:12] <mfiano> That's great. I like how vim-like the configuration and UX is
[07:13:40] <flatcap> yeah, that's what attracted me too
[07:14:32] <flatcap> gotta go, it's late here.  night!
[07:14:37] <mfiano> Night!
[08:12:35] *** Joins: dcpurton (~dcpurton@2001:44b8:217:9e00:36f6:27b3:77f1:f65c)
[08:13:26] *** Quits: andi- (~andi-@user/andi-) (Remote host closed the connection)
[08:15:21] *** Joins: andi- (~andi-@user/andi-)
[09:15:27] *** Quits: dcpurton (~dcpurton@2001:44b8:217:9e00:36f6:27b3:77f1:f65c) (Ping timeout: 252 seconds)
[09:32:35] *** Quits: inak (~justme@228-134-237-24.gci.net) (Quit: Leaving)
[09:34:16] *** Joins: vysn (~vysn@user/vysn)
[09:40:01] *** Quits: sudoforge (~sudoforge@wireguard/tunneler/sudoforge) (Ping timeout: 256 seconds)
[10:06:07] *** Joins: cdman (~dcm@user/dmc/x-4369397)
[10:39:13] *** Quits: sbach (~sbach@user/sbach) (Read error: Connection reset by peer)
[10:41:33] *** Joins: sbach (~sbach@user/sbach)
[10:52:42] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Remote host closed the connection)
[10:53:02] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[11:22:02] *** Quits: cdman (~dcm@user/dmc/x-4369397) (Ping timeout: 272 seconds)
[11:37:35] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Ping timeout: 240 seconds)
[11:38:15] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[11:49:00] *** Joins: cdman (~dcm@user/dmc/x-4369397)
[11:57:26] *** Joins: dcpurton (~dcpurton@2001:44b8:217:9e00:36f6:27b3:77f1:f65c)
[12:00:02] *** Quits: BrunoFontes (~bruno@2a02:c207:2026:6264::1) (Quit: WeeChat 2.8)
[12:00:16] *** Joins: _dmc_ (~dcm@27.2.216.148)
[12:00:33] *** Quits: cdman (~dcm@user/dmc/x-4369397) (Ping timeout: 256 seconds)
[12:10:33] *** Quits: _dmc_ (~dcm@27.2.216.148) (Quit: Leaving)
[12:10:51] *** Joins: cdman (~dcm@user/dmc/x-4369397)
[13:26:59] *** Joins: strajder (~strajder@user/strajder)
[13:43:25] *** Quits: dcpurton (~dcpurton@2001:44b8:217:9e00:36f6:27b3:77f1:f65c) (Ping timeout: 240 seconds)
[13:47:32] *** Joins: reset (~reset@user/reset)
[13:59:09] *** Joins: Pali (~pali@user/pali)
[14:55:32] <mfiano> What color group are the thread line drawing characters under?
[14:56:40] *** Joins: TheMaker (~nbert@user/nejc)
[15:35:00] *** Joins: nyah (~nyah@05453449.skybroadband.com)
[15:52:33] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 252 seconds)
[15:55:49] <flatcap> morning all
[15:56:28] <flatcap> mfiano: color tree fg bg
[15:59:55] <mfiano> Thanks
[16:00:10] <mfiano> I have a problem with one of the examples in the features link
[16:00:35] <mfiano> custom-tags feature:
[16:00:40] <mfiano> macro index,pager tt "<modify-labels>!todo\n" "Toggle the 'todo' tag"
[16:01:07] <mfiano> With that I get an: sh: line 1: todo: command not found
[16:02:07] <flatcap> hmm...
[16:06:13] <flatcap> ah, is your mail local? Maildir?
[16:06:37] <mfiano> Yes, I use mbsync
[16:07:03] <flatcap> ah, ok.  that sort of label only works with IMAP and Notmuch
[16:07:15] <flatcap> there's another function...
[16:07:16] <mfiano> Well, I have a notmuch database in there.
[16:07:30] <mfiano> THat's actually what I'm trying to set up now; notmuch
[16:07:35] <mfiano> and the tagging featurs for it
[16:08:57] <flatcap> ok, you'll need to be looking at a notmuch "virtual" folder
[16:09:14] <mfiano> Ok
[16:09:40] <flatcap> people have asked if we can "magically" apply notmuch tags to a plain maildir, but we haven't figured out how, yet
[16:12:18] <mfiano> Will $HOME get expanded in a notmuch:// uri?
[16:12:58] <flatcap> I _think_ so, but there's a config variable to set the notmuch db location
[16:13:13] <flatcap> so you can abbreviate everything to notmuch://?query
[16:13:21] <mfiano> $nm_default_url ?
[16:14:06] <flatcap> er, sounds right (I don't use notmuch yet)
[16:14:19] <mfiano> Oh ok. I'm asking if I can use $HOME in that variable, so I can copy my config to other machines with different a user.
[16:15:10] <flatcap> yes, *setting* should be fine:  set nm_default_url = "notmuch:///$HOME/XXX"
[16:15:21] <mfiano> Ok cool.
[16:15:32] <mfiano> By the way, what time zone are you in?
[16:16:00] <flatcap> finally got my notmuch setup working.  your macro works correctly
[16:16:20] <flatcap> and altering $index_format to include %g shows the tags
[16:16:45] <flatcap> technically, I'm in UTC: Oxford, England, but I'm a bit of a night owl
[16:17:07] <mfiano> Ah ok. I noticed you use European spellings, but your activity seems to be closer to my time zone (US) :)
[16:17:14] <flatcap> indeed :-)
[16:18:51] <mfiano> I'm hoping I can contribute to the project some time. The only problem is, C is not my language of choice, and I'm not very good with it. I use wht some would consider a niche language :)
[16:20:34] <mfiano> That gives me a feature request idea though.
[16:20:53] <flatcap> ooh! what do you have in mind?
[16:21:08] <flatcap> (and which arcane language _do_ you program in?)
[16:21:12] <mfiano> We should have an RPC to script it in other languages that implement the protocol, sort of like how neovim doesn't allow configs to be written in vimscript
[16:21:45] <flatcap> we have lua integrated (it was an easy fit)...
[16:21:50] <mfiano> I'll give you a hint: It's the language with tons of parentheses
[16:22:04] <flatcap> (((urgh!)))
[16:22:09] <mfiano> :)
[16:22:14] *** Quits: holgersson (~quassel@user/holgersson) (Quit: “Format C:........[Done]“)
[16:22:30] <flatcap> lua can set vars and run functions
[16:23:11] <flatcap> recently, though, we've exposed a lot of functions in a useful way, so lua could start becoming powerful
[16:23:16] <mfiano> I like Common Lisp. I use it pretty much exclusively, because it can be as fast as C, and is ANSI standardized.
[16:24:11] <flatcap> Kevin (upstream Mutt) added a basic Lisp interpreter, but I think it's pretty basic (I haven't had time to integrate it here)
[16:24:52] <mfiano> IF we had an RPC any language could be used, theoretically.
[16:25:29] <mfiano> Which would offload the burden on you, and give me lots of work to do :)
[16:26:10] <flatcap> yes, someone recently tried that.  @ckardaris in branch [devel/ipc]
[16:26:10] *** Joins: holgersson (~quassel@user/holgersson)
[16:26:26] <mfiano> Ah cool. I might heave a peek
[16:26:37] <flatcap> unfortunately, neomutt's code is still a mess and still single-threaded
[16:26:54] <flatcap> taking random external commands needs to be done with great care :-)
[16:27:19] <mfiano> I see. Well there's always 2.0 :)
[16:27:24] <flatcap> :-)
[16:29:37] <mfiano> Err, could I do notmuch://$folder or do I need some escaping to not pass it to the shell?
[16:30:34] <mfiano> Also how do I test out the expansion of these things in the ":" editor?
[16:31:36] <flatcap> inside neomutt, it'll try to match $X against neomutt config vars first, then ENV vars
[16:31:48] <mfiano> ahh :echo
[16:32:19] <flatcap> oh yes!  I was going to say there wasn't a way, but 'echo' will do it
[16:32:45] <flatcap> that's going on a top tips list :-)
[16:32:50] <mfiano> :)
[16:36:20] <mfiano> Ok, so it looks like virtual-mailboxes isn't located anywhere in neomutt(1) or neomuttrc(5)
[16:42:37] <flatcap> ah, but named-mailboxes *is* (which is its successor)
[16:43:02] <flatcap> virtual-mailboxes only apply to notmuch, but named-mailboxes can be used on any mailbox type
[16:43:24] <mfiano> even notmuch?
[16:43:36] <flatcap> yes
[16:43:48] <mfiano> Oh I had a question about named-mailboxes actually
[16:44:35] <mfiano> I have: named-mailboxes "Inbox" "+INBOX"
[16:44:46] <mfiano> and the rest I use just "mailboxes"
[16:45:36] <mfiano> I have this macro:
[16:45:42] <mfiano> macro index,pager Mi <save-message>+INBOX<enter><sync-mailbox>
[16:46:08] <mfiano> Which does not work with the aliased "Inbox" name. It asks me if I want to create it first.
[16:46:43] <flatcap> hmm.. that looks fine
[16:47:02] <mfiano> THat works, but the macro doesn't honor the aliased mailbox names
[16:47:23] <flatcap> oh, ok
[16:47:45] <mfiano> Not sure if this is a macro issue or save-message issue
[16:48:00] <flatcap> or a not-implement issue
[16:48:03] <mfiano> :)
[16:48:29] <flatcap> the names are used in display situations, but I'm not sure if anywhere accepts them as input
[16:48:55] <mfiano> Yeah, I mean it's not really a problem. Just found it mildly confusing
[16:49:16] <mfiano> WONTFIX is a valid response here :)
[16:49:34] <flatcap> :=)
[16:52:41] <mfiano> I'm a bit confused
[16:53:00] <flatcap> again ;-)
[16:53:05] <mfiano> I set the notmuch default url
[16:53:29] <mfiano> and I already had named-mailboxes for my inbox. But that tag macro still says todo is not a shell command
[16:53:49] <mfiano> I can post my whole config if it helps
[16:54:54] <flatcap> <modify-labels> only works if the current folder is virtual
[16:55:13] <mfiano> and you said named-mailboxes supersedes virtual-mailboxes
[16:55:24] <mfiano> Unless I misunderstood
[16:55:48] <flatcap> if not, it gets ignored and '!' is the key for <shell-escape> and todo is given as an arg
[16:56:17] <flatcap> ah ok.  yes and no
[16:56:31] * flatcap checks before saying...
[16:58:28] <flatcap> you can named-mailboxes anything, but the underlying mailbox needs to be notmuch:// for <modify-labels> to work
[16:58:57] <mfiano> Ok. I've only partially read the website's documentation. I've been following the manuals mostly, and virtual-mailboxes is unlisted there.
[16:58:58] *** Quits: Pali (~pali@user/pali) (Ping timeout: 272 seconds)
[16:59:14] <flatcap> `$folder = /xyz; named-mailboxes Inbox +INBOX` is a named, but ordinary maildir mailbox
[16:59:35] <flatcap> some day, we'll get around to updating the docs
[16:59:49] <mfiano> So can named-mailboxes accept a notmuch:// url?
[17:00:48] <flatcap> yes
[17:00:56] <mfiano> These mailbox functions are very confusing, because I'm unsure what will happen to my original Maildir folders
[17:01:20] <flatcap> things have evolved a bit since the commands were first introduced
[17:01:31] <mfiano> For example
[17:01:50] <mfiano> I have named-mailboxes "Inbox" "+INBOX" right now
[17:02:21] <mfiano> If I change "+INBOX+ to a notmuch url, is my spool file going to detect new incoming mail?
[17:02:36] <mfiano> I hope you can see my confusion with this mess :)
[17:02:52] <flatcap> yes, but you're getting to the limit of my knowledge
[17:03:40] <mfiano> Ok. Let me bug you with one more question that you can probably answer.
[17:03:53] <flatcap> sure
[17:04:46] <mfiano> When I save-message something to another folder, The sidebar counts don't update until I switch to that folder. Is there a way to force the sidebar numbers to update?
[17:05:33] <flatcap> do you have `set mail_check_stats = yes` ?
[17:05:37] <mfiano> Yes
[17:05:48] <mfiano> With a very low mail_check number
[17:05:56] <flatcap> ok
[17:06:28] <flatcap> what's   :set timeout?
[17:06:30] <mfiano> I think maybe neomutt is only checking my +INBOX
[17:06:41] <mfiano> 0
[17:07:22] <flatcap> oh
[17:07:40] <flatcap> I'd try setting that to 1 (second)
[17:07:53] <flatcap> I'm not sure of the effects of timeout=0
[17:08:13] <mfiano> THat's the default, and it makes some Alt key bindings slow because they are confused with ANSI escapes presumably
[17:08:18] <flatcap> when I save messages, then recipient folder numbers update nearly immediately
[17:08:29] <mfiano> I'll try 1 though
[17:08:50] <flatcap> the default's 600
[17:09:05] <mfiano> Oh I must be thinking of another variable. One sec, let me try
[17:09:51] <mfiano> Nope, still not updating
[17:10:17] <mfiano> I tried moving something from +INBOX to +Junk, and its count remains 0 until I switch to that folder
[17:11:09] <mfiano> My move macro even does a sync-mailbox after save-message
[17:11:41] <flatcap> sorry, I don't know what I'm missing
[17:11:50] <mfiano> I'll post my config so far
[17:12:21] <mfiano> https://gist.github.com/mfiano/acfe524e82be93cd43d3f3da50c01244
[17:14:16] <flatcap> try adding: set mail_check_stats_interval = 1
[17:15:06] <mfiano> That worked!
[17:15:38] <flatcap> great!
[17:16:04] <mfiano> Thank you for all the help. I will keep hacking now :)
[17:16:09] <flatcap> you're welcome
[17:27:29] <mfiano> Well the only issue now is that virtual mailboxes don't merge with non-virtual, so I have 2 "Inbox"'s
[17:27:38] <mfiano> But tagging works in the new inbox
[17:28:05] <flatcap> good
[17:29:16] <mfiano> I don't suppose there is a "hide mailboxes" feature?
[17:29:31] <mfiano> (from the sidebar)
[17:30:17] <flatcap> you don't need to `mailboxes` everything; you can still reach them
[17:34:03] *** Joins: plastico (~plastico@neomutt/plastico)
[17:34:37] *** Joins: dcpurton (~dcpurton@2001:44b8:217:9e00:36f6:27b3:77f1:f65c)
[17:35:01] <mfiano> Is there a hook for mail_check?
[17:35:21] <mfiano> I want to run `notmuch new` automatically since I only see the virtual mailbox now
[17:36:34] <mfiano> timeout-hook I suppose would be the closest thing
[17:36:40] <flatcap> yes
[17:37:21] <flatcap> you'll want to set timeout a bit higher, though.  that shouldn't affect the mail checking (I think)
[17:37:37] <mfiano> Right
[17:38:17] <bremner> mfiano: depending how mail is delivered, you can also use notmuch insert or a hook with e.g. mbsync
[17:38:38] <mfiano> bremner: I am using mbsync (local Maildir)
[17:39:41] <mfiano> I kind of want my notmuch configuration to be fully contained within neomuttrc
[17:40:03] <mfiano> Since my Maildir is sshfs mounted from my backup server
[17:40:14] <mfiano> (mbsync there, without notmuch)
[17:45:25] <mfiano> Interesting. timeout-hook is behaving strangely
[17:45:51] <mfiano> timeout-hook 'echo `notmuch new`'
[17:46:21] <mfiano> I get notmuch output and things are working, but at the bottom of neomutt I see this every timeout interval: 4: unknown command
[17:47:46] <flatcap> try quoting the ``s  timeout-hook 'echo "`notmuch new`"'
[17:48:10] <flatcap> neomutt will try to run   echo [output of notmuch]
[17:48:25] <flatcap> (or redirect the output to a file)
[17:49:27] <mfiano> Now I see: "Processed 4 total files in almost no time." and it garbles neomutt's display. Seems I need to add the --quiet flag to notmuch new
[17:51:24] <mfiano> --quiet wasn't enough. Had to redirect stderr to null
[17:55:51] <mfiano> So this is what I was afraid of. The virtual inbox is not receiving new mail updates
[17:57:22] <dcpurton> flatcap: what was the name of your function to show the body structure in the message line?
[17:59:50] <flatcap> dump_body() in debug/email.c 
[17:59:52] <flatcap> ?
[18:00:39] <flatcap> that logs the structure, or the dump_graphviz_body() for diagram goodness
[18:01:38] <dcpurton> yes, that one I think
[18:02:35] <flatcap> it's fairly low-tech, so adjust it if you need to
[18:02:40] *** Quits: todd (~todd@gateway/tor-sasl/toddf) (Remote host closed the connection)
[18:02:40] *** Quits: rittchen (~rittchen@gateway/tor-sasl/rittchen) (Remote host closed the connection)
[18:03:05] *** Joins: rittchen (~rittchen@gateway/tor-sasl/rittchen)
[18:04:21] <dcpurton> hmmm linker error
[18:05:17] <flatcap> ./configure --graphviz ?
[18:05:20] <dcpurton> yep
[18:05:27] <dcpurton> dump_graphviz_email works
[18:06:38] <flatcap> just a sec... it's possible I've broken something
[18:07:58] <dcpurton> I think it's missing from the Makefile
[18:08:13] <dcpurton> it only builds debug.o, not any of the other files in debug/
[18:08:21] <dcpurton> I mean graphiv.o
[18:08:30] *** Joins: weirdsmiley (~weirdsmil@103.25.231.102)
[18:08:31] *** Joins: todd (~todd@gateway/tor-sasl/toddf)
[18:08:33] * flatcap builds ...
[18:09:13] <flatcap> success
[18:11:00] <flatcap> the makefile looks fine
[18:11:45] <flatcap> I just added `dump_graphviz_body(shared->email->body);` to `op_attachment_print()` (and a #include) and it worked cleanly
[18:12:03] <dcpurton> But dump_body()?
[18:12:15] <flatcap> oh that...
[18:12:17] <dcpurton> that's in debug/email.c
[18:12:24] <dcpurton> and debug/email.o is never built
[18:13:09] <flatcap> ah, you'll need --debug-email too
[18:13:15] <dcpurton> ahhh!
[18:17:51] <mfiano> What setting controls which folder is selected at startup?
[18:19:11] <flatcap> set spool_file = "+x"
[18:19:26] <mfiano> flatcap: It's actually trying to select my INBOX, and since I don't have a "mailboxes" for that because I am using the virtual one, nothing is selected in the sidebar, because spool_file needs to be the physical folder.
[18:19:58] <mfiano> So I am dropped into the physical Inbox, and not my virtual inbox
[18:20:12] <mfiano> and it doesn't show it selected, because it isn't listed in my sidebar
[18:20:30] <flatcap> try setting spool_file to your notmuch folder
[18:20:36] <mfiano> I did. It errors
[18:21:29] <flatcap> ok, I don't know
[18:21:37] <dcpurton> ok, that links! But this is not the function I'm looking for. Remember you wrote something that outputs "<&<a,b>,c>" kind of thing the message window?
[18:22:08] <mfiano> notmuch support seems to be an afterthought with lots of weird things happening. I'll probably get rid of it
[18:23:33] <flatcap> mfiano: yes, notmuch was a late addition to neomutt.  it was maintained out-of-tree for a long time, so it's integration isn't perfect yet
[18:23:50] <flatcap> dcpurton: er...  where did I dump that?
[18:24:00] <mfiano> Is there any way to hide the spool file mailbox from the sidebar?
[18:24:04] <dcpurton> I dunno...
[18:24:08] <dcpurton> ooo, actually
[18:24:18] <dcpurton> I think you just put it at the top of compose/functions.c
[18:24:34] <dcpurton> but never meant to be permanent maybe
[18:25:24] <dcpurton> I was quicker than converting the gv files to something and then looking at them to just get a quick look at the structure
[18:26:05] <dcpurton> I don't know how to find the code now, though
[18:27:40] <flatcap> aha!
[18:30:15] <mfiano> So, reading up a bit on what other people are doing, it seems to be recommended to create 1 virtual mailbox per notmuch tag. That's acceptable I guess, but it means I would still want regular mailboxes for Inbox etc, which means I must remember not to change-label from there or I get that shell error.
[18:30:34] <mfiano> I'm still up in the air as to whether I want notmuch because of this
[18:31:09] <dcpurton> never mind now - I probably need to go to bed. And I can find it by going back through the force pushes of the original multipart PR
[18:31:15] <dcpurton> in fact!
[18:31:31] <flatcap> dcpurton: the code you want is in debug/compose
[18:31:44] <flatcap> I'll rebase it when I get a second
[18:32:23] <flatcap> mfiano: notmuch is worth the effort, but I'm not the best advocate...
[18:32:47] <flatcap> during the week, there are more neomutt notmuch users, they'll be able to answer all your questions
[18:33:16] <dcpurton> ooo! no rush, my bed time here
[18:34:24] <dcpurton> night
[18:34:27] <dcpurton> ./quit
[18:34:30] *** Quits: dcpurton (~dcpurton@2001:44b8:217:9e00:36f6:27b3:77f1:f65c) (Quit: WeeChat 3.4)
[18:34:57] <flatcap> night
[18:35:44] <mfiano> I also get a status area message every notmuch update that says my mailbox was externally changed
[18:36:06] <mfiano> That's fine. I'm just exploring the idea. I'm not completely sold on it yet.
[18:39:04] <flatcap> ok
[18:40:22] <mfiano> It seems though that notmuch could replace built in tags, flagging, etc
[18:40:44] <mfiano> I just have to find a setup that works good
[18:41:16] <mfiano> I see a lot of people using msmtp over the builtin smtp client. Is there something I'm missing here?
[18:41:40] <mfiano> Like nearly every config online I see does that. Is there something it does better?
[18:42:13] <flatcap> hmm... possibly for queueing outgoing mail, if you have an intermittant connection
[18:43:17] <mfiano> One guide I read said it doesn't do that, to use postfix instead :)
[18:44:44] <flatcap> hehe, that's heavier, but it'd work
[18:45:29] <mfiano> Yeah, and it was a bit of a pain to setup on my actual mailserver.
[18:53:23] <mfiano> Hmm, I guess there's no reason to have more than one Maildir folder, like Trash etc with notmuch.
[18:53:49] *** Joins: sudoforge (~sudoforge@wireguard/tunneler/sudoforge)
[18:53:57] <mfiano> I like the idea a lot. I am a long-time opponent of hierarchies for organization purposes. Tags are much more flexible
[18:55:26] <mfiano> Probably still needed though, for mutts $record, $postpone, etc
[18:55:52] <mfiano> Ignore me. I'm just thinking out loud on how this should all be set up. Some stuff seems to conflict with neomutt
[19:05:17] <flatcap> sure :-)
[19:08:59] *** Quits: tel (tel@envs.net) (Quit: the lounge - https://webirc.envs.net)
[19:09:27] *** Joins: tel (tel@envs.net)
[19:21:46] <mfiano> How do I quit out of the notmuch search window?
[19:21:51] <mfiano> q exits neomutt :)
[19:24:08] <flatcap> if you <vfolder-from-query> (a notmuch search), then you're in a temporary virtual folder
[19:24:25] <flatcap> you leave by switching to another folder, or doing another query
[19:24:52] <mfiano> Ok do they persist if I do lots of searches, or is 1 temporary folder shared for all searches?
[19:25:06] <mfiano> I am just curious about garbage collection over a long running process
[19:25:35] <flatcap> it dies when you leave it, so effectively one shared for all searches
[19:25:42] <mfiano> Nice
[19:49:32] *** Joins: saki- (~saki@gateway/tor-sasl/saki)
[19:50:35] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Ping timeout: 240 seconds)
[19:50:36] *** saki- is now known as saki
[19:53:53] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[19:54:09] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[19:54:33] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[19:55:01] *** Joins: vysn (~vysn@user/vysn)
[20:02:32] *** Joins: BrunoFontes (~bruno@2a02:c207:2026:6264::1)
[20:03:23] *** Quits: wolfshappen (~waff@irc.furworks.de) (Quit: later)
[20:07:00] *** Joins: wolfshappen (~waff@irc.furworks.de)
[20:07:19] <mfiano> So my only confusion now, is, if I can't call modify-labels from a non-virtual-mailbox, how can I tag mail for notmuch that hasn't been tagged yet?
[20:08:03] *** Joins: bsd4me (~usingbsd@user/bsd4me)
[20:08:07] <mfiano> This is the only deal-breaker for me to keep notmuch around
[20:16:22] *** Quits: cdman (~dcm@user/dmc/x-4369397) (Quit: Leaving)
[20:30:34] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Remote host closed the connection)
[20:32:11] *** Joins: gabriel1 (~gabriel1@user/gabriel1)
[20:34:13] *** Quits: TheMaker (~nbert@user/nejc) (Quit: Konversation terminated!)
[20:44:16] <BrunoFontes> You can run that by cmd script
[20:45:42] <BrunoFontes> `notmuch tag -inbox +myTag -- folder:"/^.*/MyTag$/"` for example
[20:46:13] <BrunoFontes> That will tag as "myTag" all e-mails from the "MyTag" folder.
[20:46:50] <BrunoFontes> `notmuch help tag` will help you to understand it better.
[20:54:27] <mfiano> Currently I'm facing too many problems with neomutt/notmuch integration
[20:55:29] <mfiano> I'm very familiar with notmuch already.
[20:58:53] *** Joins: gabriel1_ (~gabriel1@37.164.203.18)
[21:01:30] *** Quits: redgloboli (~redglobol@user/redgloboli) (Quit: ...enter the matrix...)
[21:01:32] *** Quits: gabriel1 (~gabriel1@user/gabriel1) (Ping timeout: 272 seconds)
[21:02:27] *** Joins: redgloboli (~redglobol@user/redgloboli)
[21:06:12] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 240 seconds)
[21:07:50] <mfiano> The most annoying thing is I get this message every time I run `notmuch new`, whether I have new mail or not: Mailbox was externally modified
[21:08:06] <mfiano> A message in neomutt's status area that is.
[21:08:33] <mfiano> And since I have `notmuch new` called frequently as part of my mail checking, it happens every few seconds
[21:12:23] *** Joins: gabriel1__ (~gabriel1@37.166.36.213)
[21:15:19] *** Quits: gabriel1_ (~gabriel1@37.164.203.18) (Ping timeout: 256 seconds)
[21:15:45] *** Quits: gabriel1__ (~gabriel1@37.166.36.213) (Remote host closed the connection)
[21:26:10] *** Quits: redgloboli (~redglobol@user/redgloboli) (Remote host closed the connection)
[21:26:52] *** Joins: redgloboli (~redglobol@user/redgloboli)
[21:28:38] *** Quits: strajder (~strajder@user/strajder) (Quit: leaving)
[21:54:08] *** Joins: strajder (~strajder@user/strajder)
[21:54:47] <mfiano> Is there a way to show labels and subjects for thread children?
[21:54:54] <mfiano> Both columns are empty for me
[21:57:11] <flatcap> the subject is suppressed if it's the same as the parent (excluding re:)
[21:57:26] <flatcap> that can be controlled by...
[21:57:52] <flatcap> set hide_thread_subject = yes/no
[21:58:06] <mfiano> Ok anything for labels?
[21:58:17] <flatcap> I _think_ there's some similar magic for labels.  only show the difference in children
[21:58:34] <flatcap> iirc, there's a separate expando (%-thing)
[21:58:59] <mfiano> I'll check
[21:59:53] <mfiano> Ok perfect
[22:00:00] <flatcap> I see %y vs %Y for X-Label, try %g vs %G
[22:00:00] <mfiano> I was using %J instead of %g
[22:00:08] <flatcap> aha
[22:00:43] <mfiano> %G is for the transformed tags
[22:00:49] <mfiano> I don't use those anymore
[22:01:42] <flatcap> oh yes, them, very clever but I need the manual to remember how they work
[22:01:51] <mfiano> My notmuch integration is slowly getting to be usable
[22:02:31] <mfiano> The only thing I haven't been able to solve is the above warning printed every few seconds
[22:03:07] <mfiano> I redirect notmuch to /dev/null, so seems to be something coming from neomutt
[22:03:20] *** Quits: ska (~ska@user/ska) (Quit: Leaving)
[22:03:36] <flatcap> yes, but I don't know what notmuch users do about it
[22:04:51] <mfiano> Nothing apparently
[22:04:58] <mfiano> This was resurrected not long ago https://github.com/neomutt/neomutt/issues/1793
[22:05:38] <mfiano> It seems to not be an issue with upstream mutt
[22:06:48] <flatcap> they don't have notmuch
[22:07:16] <mfiano> THe last message
[22:07:31] <mfiano> It happens in the same siutation as me: when they run mbsync and then notmuch new
[22:08:34] <flatcap> ok, there's your itch to scratch
[22:09:13] <mfiano> Fair enough :)
[22:10:14] <mfiano> Oh interesting. It doesn't occur if I change my spool file to use a virtual-mailbox description and remove the real inbox mailbox
[22:10:56] <flatcap> oh good
[22:12:00] <mfiano> This is a bit of work. Things behave weirdly when you have a combination of mailboxes _and_ virtuals
[22:12:08] <mfiano> SLowly getting there...
[22:14:21] <BrunoFontes> Really? To use only the virtual-mailboxes instead of the real ones makes it better? I use a long list of different e-mail addresses with their own configurations. So chaning all of them to virtual would be paintfull.
[22:14:54] <BrunoFontes> The issue I have Today is only notmuch stays extremely slow in one of my laptops.
[22:37:03] <mfiano> Ah but this won't do.
[22:37:18] <mfiano> This seems like a bug actually.
[22:38:45] <mfiano> With $spool_file set to a virtual mailbox, $beep_new = yes will only notify me if that mailbox is selected. If any other mailbox is selected, it never sends a terminal bell, even though when I switch to that terminal, I see the new message count in the virtual mailbox the spool file points to.
[22:39:53] <mfiano> If there isn't an easy fix for this, I think I'm just going to avoid virtual mailboxes/notmuch. It isn't the end of the world.
[22:42:43] <zsw> I think twice it's been mentioned to you to wait until Monday for support.
[22:43:38] <mfiano> I'm not looking for support. I'm just noting all the integration issues with notmuch.
[22:43:52] <mfiano> I have decided it isn't worth the trouble. Running into too many edge cases.
[22:58:14] *** Joins: rgrinberg (~textual@fixed-186-96-30-153.totalplay.net)
[23:00:48] *** Joins: jjf1 (~jjf@user/jjf)
[23:02:37] *** Quits: rgrinberg (~textual@fixed-186-96-30-153.totalplay.net) (Ping timeout: 240 seconds)
[23:25:55] *** Quits: jjf1 (~jjf@user/jjf) (Quit: WeeChat 3.3)
