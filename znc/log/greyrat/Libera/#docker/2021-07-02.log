[00:00:01] *** Quits: vincent- (~vincent-@cpc87559-seve28-2-0-cust94.13-3.cable.virginm.net) (Quit: Leaving)
[00:02:44] *** Joins: vidbina_ (~vid@dynamic-089-014-195-241.89.14.pool.telefonica.de)
[00:07:30] <artok> my proxy isn't listening on all addresses and things
[00:07:41] <artok> could it be something related
[00:13:04] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 268 seconds)
[00:13:21] *** Joins: bouncy (~ben@user/benoit)
[00:17:06] *** Quits: lemonzest (~lemonzest@user/lemonzest) (Quit: Quitting)
[00:21:42] *** Joins: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au)
[00:45:37] *** Joins: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net)
[00:50:15] <Lutin> artok in which way, can ou elaborate ? I think I know what you mean but not sure
[00:50:59] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Ping timeout: 268 seconds)
[00:55:10] *** Joins: Ivyy (~Ivyy@2001:a62:41d:fa01:f36:8479:4134:98c8)
[00:57:05] <artok> what is caddy listening and forwarding for you? 0.0.0.0 ? 
[00:57:55] <artok> I have name based forwarding
[01:07:07] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[01:11:31] *** Joins: arinov_ (~arinov@178.240.158.75)
[01:12:58] *** Joins: jazzy (~jaziz@2600:380:4542:186:f862:a412:d266:3c8e)
[01:23:26] *** Quits: arinov_ (~arinov@178.240.158.75) (Read error: Connection reset by peer)
[01:23:43] *** Joins: arinov_ (~arinov@178.240.158.75)
[01:27:51] *** Joins: ablutor (~sander@wasscher.com)
[01:28:13] *** Quits: goddard (~goddard@user/goddard) (Quit: The Lounge - https://thelounge.chat)
[01:28:24] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[01:28:30] *** Joins: goddard (~goddard@user/goddard)
[01:28:35] *** Quits: goddard (~goddard@user/goddard) (Client Quit)
[01:28:42] *** Joins: calaz (~calaz@user/calaz)
[01:28:52] *** Joins: goddard (~goddard@user/goddard)
[01:29:45] *** Quits: arinov_ (~arinov@178.240.158.75) (Ping timeout: 256 seconds)
[01:30:23] *** Joins: ph88 (~ph88@ip5f5af6fd.dynamic.kabel-deutschland.de)
[01:30:39] <ph88> should i add a tag to an image before pushing it to the registry or afterwards ?
[01:31:26] *** Joins: arinov_ (~arinov@178.240.158.75)
[01:31:30] *** Quits: calaz (~calaz@user/calaz) (Client Quit)
[01:32:42] <programmerq> a push always has a tag included. if you type an image reference and omit a tag, it's the same as specifying :latest for a tag
[01:32:55] <programmerq> an empty repository just doesn't have any images/tags
[01:33:19] *** Joins: calaz (~calaz@user/calaz)
[01:36:12] <Lutin> artok to the service or a direct container ?
[01:36:15] <ph88> how can i add a tag to it before and afterwards ?
[01:36:55] *** daimon is now known as TradeBoy
[01:37:05] *** TradeBoy is now known as CryptoBot
[01:37:18] *** CryptoBot is now known as daemon
[01:38:55] <programmerq> ph88â–¸ when you build an image, you specify the tag
[01:39:02] <programmerq> you can retag an existing image with 'docker tag'
[01:39:10] <programmerq> when you push or pull an image, you also specify one
[01:39:17] <programmerq> not sure what you mean by "before or afterwards"
[01:39:28] <ph88> before and after push when i didn't specify a tag
[01:42:37] *** Joins: versageek (~versageek@wikimedia/Versageek)
[01:43:46] *** Quits: ihaveamac (~ihaveamac@ihaveahax.net) (Quit: fail)
[01:45:09] *** Quits: calaz (~calaz@user/calaz) (Quit: bye)
[01:46:55] *** Joins: ihaveamac (~ihaveamac@ihaveahax.net)
[01:47:08] <artok> Lutin: direct container works 
[01:48:34] *** Joins: lilgopher (~textual@c-73-51-174-246.hsd1.il.comcast.net)
[01:48:56] <artok> aand also direct to service
[01:49:06] <Lutin> artok with nginx ?
[01:49:08] <Lutin> mhh
[01:49:19] <artok> to nginx yeah
[01:49:33] *** Quits: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net) (Quit: andydude)
[01:49:51] <Lutin> which proxy ? traefik ?
[01:50:00] <artok> yeah
[01:50:57] *** Quits: aminvakil (~aminvakil@2a01:4f8:120:336b:4::1) (Quit: Ping timeout (120 seconds))
[01:51:28] *** Quits: acid (~acid@user/acid) (Read error: Connection reset by peer)
[01:51:36] *** Joins: acid (~acid@user/acid)
[01:51:57] *** Quits: BtbN (btbn@ffmpeg/developer/btbn) (Remote host closed the connection)
[01:52:00] *** Quits: thc202 (~thc202@user/thc202) (Quit: thc202)
[01:52:13] *** Joins: BtbN (btbn@ffmpeg/developer/btbn)
[01:52:21] *** Joins: calaz (~calaz@user/calaz)
[01:53:38] *** Joins: aminvakil (~aminvakil@2a01:4f8:120:336b:4::1)
[01:53:58] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[01:58:32] *** Quits: SomeWeirdAnon (~shwn@2a02:8109:abf:ffb4:ec8e:146:e5e:cc24) ()
[02:01:09] <Lutin> artok can you give caddy a try ?
[02:01:50] <artok> no =)
[02:02:01] <artok> don't have time for it right now
[02:02:28] <Lutin> artok it also happens with nginx/nginx so no real test needed
[02:02:52] <Lutin> hehe, caddy is a 2 min setup :P I wouln't touch traefik as well :P
[02:03:37] <artok> but still another stack
[02:07:42] <Lutin> artok namespace :P
[02:08:09] <aab_> nginx ftw
[02:08:31] <Lutin> I don't put groups of containers in stacks, it annoys me for a lot of services
[02:09:02] <Lutin> aab_ nah you are trolling :P
[02:09:30] <aab_> not
[02:10:50] <artok> 23M for a webserver, not bad thingie that =)
[02:11:25] <artok> could try to squeeze some modules out of it and do smaller 
[02:11:42] *** Quits: calaz (~calaz@user/calaz) (Quit: ZNC - https://znc.in)
[02:11:59] *** Quits: vidbina_ (~vid@dynamic-089-014-195-241.89.14.pool.telefonica.de) (Quit: vidbina_)
[02:16:12] <Lutin> artok yeah mine are also very small
[02:16:37] <Lutin> issue is, it's another proces you don't need. Just map your config folder :)
[02:16:59] <Lutin> aab_ oh... now you are joking :P
[02:18:21] <Lutin> artok size matters :P
[02:19:18] <Lutin> artok but size is not the issue anymore with al those disks these days, yes for a Pi it is
[02:30:02] *** Quits: Sven_vB (~sven@user/sven-vb/x-2094958) (Remote host closed the connection)
[02:30:28] *** Joins: Sven_vB (~sven@user/sven-vb/x-2094958)
[02:35:44] *** Quits: Cameron (~Cameron@user/cameron) (Ping timeout: 272 seconds)
[02:42:29] <Bossi> size still matters for some companies
[02:43:16] *** Quits: The_Loko (~The_Loko@86.127.244.52) (Quit: Leaving)
[03:08:42] *** Quits: arinov_ (~arinov@178.240.158.75) (Ping timeout: 240 seconds)
[03:10:13] *** Joins: tachoknight (~tachoknig@2600:1700:3060:3ee0:9d49:dff0:63a6:b2f)
[03:13:12] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[03:20:26] *** Quits: Shariff (~UserNick@starbase26.connected.by.freedominter.net) (Quit: Going offline, see ya! (www.adiirc.com))
[03:21:48] *** Quits: trevors_ (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Ping timeout: 252 seconds)
[03:24:03] <Lutin> Bossi never do business with your pants down :P
[03:24:27] <Bossi> :D i meant disk size not dick
[03:25:15] <Bossi> my customer can provide me tons of RAM and CPU in  a box, but almost no storage ... too expensive
[03:26:55] <Lutin> Bossi I'm wearing short pants now... no need to pull them down to keep temperatures low :P
[03:27:24] <Lutin> yeah I'm also working on such images, but he... an 1TB SSD is cheap
[03:31:51] *** Quits: Ivyy (~Ivyy@2001:a62:41d:fa01:f36:8479:4134:98c8) (Remote host closed the connection)
[03:33:41] <Lutin> Bossi but dickpics is a thing... maybe they eat size indeed these days :)
[03:34:11] <Lutin> Bossi read about this... kinda weird: https://github.com/nginxinc/docker-nginx/issues/559 
[03:35:14] <Bossi> my biggest amount of storage atm connected to a system is >300TB
[03:36:18] *** Joins: Crassus (~Crassus@user/crassus)
[03:36:56] <Lutin> Bossi that is a lot of pics :P
[03:37:24] <Bossi> strange problems with proxies, my reverse proxy is running on the host itself
[03:38:54] <Bossi> and i am still using Apache for almost everything, since it is not just a proxy
[03:39:43] <Lutin> yeah I like apache as well but nginx is simple for what I need
[03:40:22] <Lutin> the workers for apacke is pretty nice
[03:40:23] <Bossi> i also had nginx for different use cases
[03:40:45] <Bossi> but my main webserver ... port 80 cant be shared on a single IP :D
[03:41:00] <Lutin> why not?
[03:41:13] <Lutin> I think nginx is not realy faster then nginx
[03:41:23] <Lutin> read a lot about it 
[03:41:34] <Bossi> it does not just depends on speed
[03:42:43] <Lutin> not only
[03:42:53] <Lutin> it was my last concern
[03:43:05] <Lutin> Bossi caddy itself as webserver looks nice tho
[03:44:12] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 244 seconds)
[03:44:16] <Bossi> and i need a second machine to try to migrate the setup from apache to nginx, cause i run a lot of different services directly with the apache, or as reverse proxy, like several nextcloud instances in containers
[03:44:32] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 252 seconds)
[03:44:54] <Lutin> ah yeah
[03:45:06] <Lutin> but you are going to migrate ?
[03:45:16] <Bossi> no time ...
[03:45:38] <Bossi> its more at the end of my todo/wish list :D
[03:45:41] *** Joins: andydude (~arobbins@static-108-31-40-2.washdc.fios.verizon.net)
[03:45:46] *** Quits: andydude (~arobbins@static-108-31-40-2.washdc.fios.verizon.net) (Client Quit)
[03:47:02] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[03:47:26] <Bossi> and last year i was forced to migrate the old server very quick, due to disk errors, it took me 3 days to backup all stuff, and build some things from scratch while others i just migrated
[03:48:26] <Bossi> at least the blocks with failures did not contain any valuable data
[03:48:53] *** Joins: Brainium (~brainium@user/brainium)
[03:50:32] <Lutin> hehe
[03:50:38] <Lutin> I depend on such things
[03:50:45] <Lutin> need to have the most optimal solution
[03:52:20] <Lutin> Bossi but caddy is cool!
[03:53:05] *** Joins: trashbird (~trashbird@user/trashbird)
[03:54:08] <Lutin> Bossi you host multiple vhosts on your apache or just one per container ?
[03:56:12] <Bossi> i make heavy use of vhosts on the apache, having more than 50 letsencrypt certs meanwhile, still procrastinating to switch to wildcard certificates
[03:57:49] <Lutin> yeah I wanted to do the same with nginx... I don't see why you always need to spawn a new container for a host... yes for bigger sites it's nice in stacks
[03:58:17] <Lutin> Bossi wildcard... don't... they are somewhat unsafe if you start to use them on mutiple services
[03:58:32] *** Quits: PeGaSuS (BlackHole@user/pegasus) (Remote host closed the connection)
[03:59:17] *** Joins: CombatVet (~c4@user/combatvet)
[03:59:38] <Bossi> can you elaborate why they are unsafe?
[03:59:56] *** Quits: trashbird (~trashbird@user/trashbird) (Ping timeout: 252 seconds)
[04:00:14] *** Joins: bouncy (~ben@user/benoit)
[04:01:52] <Lutin> Bossi if it gets compromized on like *.domain.tld using a vhost and you use it for your mailserver, vpn, whatever as well. go figure
[04:03:04] <Bossi> what do you mean by compromized? private key gets stolen?
[04:04:58] *** Joins: PeGaSuS (BlackHole@user/pegasus)
[04:05:08] <Lutin> yes 
[04:05:41] <Bossi> when i actual request a cert from any public CA, my subject and altnames get published on Certificate Transparency Logs, easily searchable, so ppl see what hostnames are available, and figure potential targets, while dns does not allow hostname searches, just guesses
[04:05:50] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Remote host closed the connection)
[04:06:32] <Bossi> a wildcard certificate will easily prevent this "social hacking" because you just see "*.domain" and you get no idea what names are in use
[04:07:00] <Bossi> if you not just use it for standard names like www and such
[04:08:18] <Bossi> and got advice is, use a separate wildcard-certificate on different hosts, which will reduce the impact if one key gets stolen, since also letsencrypt provides wildcard certs its no longer a matter of money
[04:09:06] <Lutin> Bossi just use caddy, it handles all your certificates by labels ;)
[04:09:40] <Bossi> and, the issued certs can be found on Certificate transparency logs?
[04:10:01] <Lutin> how do you mean ?
[04:10:49] <zoredache> if you request the cert supersecretsite.example.org, people can see see the site exists on the transparency logs
[04:10:51] <Bossi> the cert issued to you is published on those logs, so everyone can find them if the know the domain and can see which hostnames they include
[04:11:27] <Bossi> zoredache: this is what i meant, working atm on a project to search such big mess
[04:11:48] *** Quits: PaulFranz (~pfranz@c-73-187-178-34.hsd1.pa.comcast.net) (Quit: leaving)
[04:12:30] <Bossi> use of wildcards will not just put a cloak on my supersecret services, it will also reduce the amount of certs i need to deal with
[04:13:13] <Bossi> some of the certificate transparency logs contain billions of entries, on one i cant keep up downloading them all
[04:13:59] <Bossi> and since letsencrypt forces you to refresh certs after 60-90 days tons of data gets generated
[04:14:04] <zoredache> course there is a halfway point.  You could get a wildcard for *.private.example.org, and have per-service keys for everything directly under example.org, and if you have some LE client setup, it isn't like you really have to mess with the keys.
[04:15:00] <Bossi> acme.sh does the work, but i can reduce the count of certs
[04:16:17] <Bossi> and wildcards need to have access to the dns-providers API to enter automated records for verification
[04:17:31] <akik> Bossi: is it easy to move from certbot to acme.sh ?
[04:17:32] <Bossi> i work in the security department for several years, there is sometimes not an easy answer.
[04:17:57] <Bossi> dont know certbot, since i started using LE right away with acme.sh
[04:18:04] <zoredache> Anyway, on an unrelated topic, docker desktop isn't showing the tray icon on my windows system, but docker is running fine. Is there some trick to get the tray app to start?
[04:19:20] <Bossi> but imho acme.sh ist very easy to tweak, maybe you can "migrate" your current certs from certbot to it
[04:20:14] <Bossi> i created the setup early last year, since then i only need to interact with acme.sh when i need a new cert
[04:20:22] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 244 seconds)
[04:20:35] *** Joins: trashbird (~trashbird@user/trashbird)
[04:22:16] *** Joins: CombatVet (~c4@user/combatvet)
[04:23:45] <Lutin> zoredache which logs where ? and also... what does it matter ?
[04:24:04] <Bossi> and it is a standalone bash script, no dependency mess like what i heard with other certtools
[04:24:17] <Lutin> ayways... I have just a cert per host/service and let caddy do the rest :)
[04:24:35] <Bossi> if it works for you, everything is fine
[04:24:49] <zoredache> Lutin: you might want to read up here https://certificate.transparency.dev/howctworks/ and here https://en.wikipedia.org/wiki/Certificate_Transparency
[04:25:26] <Bossi> i have more than 20TB of CT-data on my disks
[04:26:10] <Lutin> that is just cert management, I do it differently :)
[04:26:14] <Lutin> but same idea
[04:26:23] <Lutin> also... my internal network is trusted so...
[04:26:32] <Bossi> its not management it is recording and logging for verification
[04:26:51] <Lutin> yeah but ? caddy cerificates enough for me
[04:27:15] <Bossi> so, your certs are from you own CA?
[04:28:12] <Lutin> I have an own CA as well
[04:28:32] <Lutin> but public shit is just LE, I'm fine with it
[04:28:34] <Lutin> no hassle
[04:29:28] <Bossi> i c, ok than you have a separation of certs for services, private certs dont get disclosed by "accident" through CT
[04:29:42] <Lutin> LOL FB has also 3 months valid certs, but then paid 
[04:30:07] <Bossi> yes, a lot of cert spam fills those logs
[04:30:20] <Lutin> that sucks :)
[04:30:25] <Bossi> not only they contain the issued cert but also the precerts
[04:32:09] <Bossi> i deal with this mess to find things like needles in the haystack
[04:32:38] *** Quits: jkwnki1 (~jkwnki@p2e579dbb.dip0.t-ipconnect.de) (Ping timeout: 258 seconds)
[04:33:17] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 244 seconds)
[04:40:01] *** Quits: andycooper (uid246432@id-246432.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[04:42:22] <Lutin> don't do it then :P
[04:43:39] <Bossi> its a customer project
[04:43:55] <Bossi> the biggest log contains atm 1108123943 entries
[04:45:32] <Bossi> at the beginning i thought, fine i can then request big chunks of data at once ... like say 10000 records per request ...
[04:46:56] <Bossi> it happened that the biggest chunk i get is 1024, while google only returns 32 entries, they have the biggest logs and it will require much more requests to get them all
[04:48:08] *** Joins: CombatVet (~c4@user/combatvet)
[04:49:43] <Lutin> hehe why don't put them into soething like couchbase?
[04:49:49] <Lutin> *something
[04:51:28] <Bossi> ppl do put such data in RDBMs and then cry about resource usage and such, it is lots of binary blob data put in json, so to make use of it you need to read them all, decode the data, then you can use it
[04:52:55] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 244 seconds)
[04:54:47] *** Quits: Sasazuka (~Sasazuka@user/sasazuka) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[04:56:47] *** Quits: tachoknight (~tachoknig@2600:1700:3060:3ee0:9d49:dff0:63a6:b2f) (Quit: Some random bits)
[04:58:18] *** Joins: CombatVet (~c4@user/combatvet)
[04:58:28] *** Quits: trashbird (~trashbird@user/trashbird) (Ping timeout: 272 seconds)
[05:05:21] *** Quits: goddard (~goddard@user/goddard) (Quit: The Lounge - https://thelounge.chat)
[05:07:05] *** Joins: candyman (~candyman@user/candyman)
[05:08:55] *** Quits: OPK (~OPK@user/opk) (Read error: Connection reset by peer)
[05:11:32] *** Joins: OPK (~OPK@user/opk)
[05:20:42] *** Quits: candyman (~candyman@user/candyman) (Quit: candyman)
[05:29:06] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[05:32:11] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 244 seconds)
[05:35:50] *** Quits: treethought (~treethoug@138.68.49.251) (Remote host closed the connection)
[05:36:48] *** Joins: treethought (treethou@138.68.49.251)
[05:37:22] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[05:37:30] *** Joins: gschanuel1 (~gschanuel@user/gschanuel)
[05:38:03] *** Joins: CombatVet (~c4@user/combatvet)
[05:43:16] *** Quits: treethought (treethou@138.68.49.251) (Remote host closed the connection)
[05:44:08] *** Joins: treethought (treethou@138.68.49.251)
[05:49:37] *** Quits: treethought (treethou@138.68.49.251) (Remote host closed the connection)
[05:50:28] *** Joins: treethought (treethou@138.68.49.251)
[05:54:12] *** Joins: pete443_ (~pete@user/pete443)
[05:54:42] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 268 seconds)
[05:55:44] *** Quits: pete443 (~pete@user/pete443) (Ping timeout: 265 seconds)
[05:58:53] *** Quits: treethought (treethou@138.68.49.251) (Remote host closed the connection)
[06:01:07] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 244 seconds)
[06:04:17] *** Joins: CombatVet (~c4@user/combatvet)
[06:05:19] *** Quits: Lutin (~Lutin@user/lutin) (Quit: Lutin)
[06:05:43] *** Joins: treethought (treethou@138.68.49.251)
[06:14:38] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Remote host closed the connection)
[06:33:40] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 244 seconds)
[06:34:33] *** Quits: Brainium (~brainium@user/brainium) (Quit: Konversation terminated!)
[06:38:23] *** Joins: CombatVet (~c4@user/combatvet)
[06:46:15] *** Quits: Crassus (~Crassus@user/crassus) (Quit: Textual IRC Client: www.textualapp.com)
[06:50:37] *** Quits: lilgopher (~textual@c-73-51-174-246.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[07:10:52] *** Quits: woohoiV5 (~woohoiV5@89-139-19-40.bb.netvision.net.il) (Quit: ZNC 1.8.2 - https://znc.in)
[07:21:28] *** Quits: OPK (~OPK@user/opk) (Quit: Textual IRC Client: www.textualapp.com)
[07:26:19] *** Quits: svm_invictvs (~svm_invic@2600:8801:9300:5d:8a8e:84c:64bb:e254) (Read error: Connection reset by peer)
[07:27:41] *** Joins: svm_invictvs (~svm_invic@2600:8801:9300:5d:1146:70c5:57e3:1b3a)
[07:44:27] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 244 seconds)
[07:48:02] *** Joins: CombatVet (~c4@user/combatvet)
[08:05:57] *** Quits: ph88 (~ph88@ip5f5af6fd.dynamic.kabel-deutschland.de) (Read error: Connection reset by peer)
[08:06:20] *** Joins: ph88 (~ph88@2a02:8109:9e00:7e5c:60eb:9cdc:e9d8:37e4)
[08:25:46] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[08:46:18] *** Quits: bouncy (~ben@user/benoit) (Ping timeout: 240 seconds)
[08:48:27] *** Joins: bouncy (~ben@user/benoit)
[08:54:04] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Read error: Connection reset by peer)
[09:22:21] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[09:35:07] *** Joins: dalan6 (~dalan@59-102-28-124.tpgi.com.au)
[09:37:30] *** Quits: dalan (~dalan@118.102.85.89) (Ping timeout: 240 seconds)
[09:37:30] *** dalan6 is now known as dalan
[09:37:56] *** Quits: gschanuel1 (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[09:38:05] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[10:12:55] *** Joins: sord937 (~sord937@gateway/tor-sasl/sord937)
[10:22:11] *** Joins: OPK (~OPK@user/opk)
[10:37:58] *** Quits: TheFatherMind (~TheFather@user/thefathermind) (Quit: I am NOT a QUITTER!)
[10:38:19] *** Joins: TheFatherMind (~TheFather@user/thefathermind)
[10:38:36] *** Joins: Hans-Martin (~ignore@user/hans-martin)
[10:58:12] *** Quits: CombatVet (~c4@user/combatvet) (Ping timeout: 244 seconds)
[11:00:16] *** Joins: CombatVet (~c4@user/combatvet)
[11:16:58] *** Quits: Hans-Martin (~ignore@user/hans-martin) (Quit: I'm not an expert but I play one on IRC.)
[11:24:40] *** Quits: ablutor (~sander@wasscher.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[11:24:58] *** Joins: ablutor (~quassel@wasscher.com)
[11:30:58] *** Joins: calaz (~calaz@user/calaz)
[11:36:35] *** Joins: arinov_ (~arinov@31.142.27.189)
[11:36:48] *** Quits: ablutor (~quassel@wasscher.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[11:37:06] *** Joins: ablutor (~quassel@wasscher.com)
[11:44:08] *** Joins: TomyWork (~TomyLobo@p200300e80f133c001cd51b25e8d89679.dip0.t-ipconnect.de)
[11:46:58] *** Joins: lemonzest (~lemonzest@user/lemonzest)
[11:57:37] *** Joins: oxum (~oxum@136.185.148.86)
[12:00:52] *** Joins: goldfish (~goldfish@user/goldfish)
[12:02:31] *** Quits: oxum (~oxum@136.185.148.86) (Ping timeout: 246 seconds)
[12:07:14] *** Quits: ablutor (~quassel@wasscher.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[12:07:32] *** Joins: ablutor (~quassel@wasscher.com)
[12:08:28] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 246 seconds)
[12:08:41] *** Joins: thc202 (~thc202@user/thc202)
[12:17:13] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[12:17:43] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[12:27:10] *** Joins: varaindemian (~varaindem@86.124.78.162)
[12:27:35] *** Quits: arinov_ (~arinov@31.142.27.189) (Ping timeout: 258 seconds)
[12:50:06] *** Joins: vincent- (~vincent-@cpc87559-seve28-2-0-cust94.13-3.cable.virginm.net)
[12:52:18] *** Quits: ph88 (~ph88@2a02:8109:9e00:7e5c:60eb:9cdc:e9d8:37e4) (Ping timeout: 240 seconds)
[12:52:19] *** Joins: Crassus (~Crassus@user/crassus)
[12:55:13] *** Joins: jonifen (~jonifen@user/jonifen)
[12:58:33] *** Joins: Lutin (~Lutin@user/lutin)
[12:58:41] *** Joins: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl)
[13:14:53] *** Quits: ablutor (~quassel@wasscher.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[13:15:11] *** Joins: ablutor (~quassel@wasscher.com)
[13:22:44] *** Joins: arinov_ (~arinov@178.240.158.75)
[13:36:23] *** Quits: arinov_ (~arinov@178.240.158.75) (Read error: Connection reset by peer)
[13:36:45] *** Joins: arinov_ (~arinov@178.240.158.75)
[13:37:37] *** Quits: aminvakil (~aminvakil@2a01:4f8:120:336b:4::1) (Quit: The Lounge - https://thelounge.chat)
[13:38:13] *** Joins: aminvakil (~aminvakil@2a01:4f8:120:336b:4::1)
[13:41:28] *** Quits: sord937 (~sord937@gateway/tor-sasl/sord937) (Ping timeout: 244 seconds)
[13:44:45] *** Joins: sord937 (~sord937@gateway/tor-sasl/sord937)
[13:45:21] <Lutin> morning all!
[13:45:45] *** Quits: rpthms (~rpthms@user/rpthms) (Remote host closed the connection)
[13:47:07] <aab_> Morning Nginx lover
[13:50:13] *** Joins: rpthms (~rpthms@user/rpthms)
[13:56:44] *** Joins: thiras (~thiras@user/thiras)
[13:56:50] *** Joins: agowa338 (~agowa338@p200300fb0f07d9003de8be56829b3479.dip0.t-ipconnect.de)
[13:57:24] *** Joins: jkwnki1 (~jkwnki@p2e579dbb.dip0.t-ipconnect.de)
[14:01:03] *** Joins: candyman (~candyman@user/candyman)
[14:03:58] <Lutin> aab_ is there something wrong with nginx ?
[14:05:03] <aab_> Not at all 
[14:07:01] *** Quits: arinov_ (~arinov@178.240.158.75) (Quit: Konversation terminated!)
[14:07:15] *** Joins: arinov_ (~arinov@178.240.158.75)
[14:09:05] *** Joins: s0ullight (~s0ullight@ip-62-235-51-95.dsl.scarlet.be)
[14:12:42] *** Quits: brooks (~bswinnert@containers.neptunenetworks.org) (Ping timeout: 240 seconds)
[14:13:05] *** Quits: candyman (~candyman@user/candyman) (Ping timeout: 265 seconds)
[14:13:19] <Lutin> artok can you share a workin traefik config for a webserver so offloaded traffic ?
[14:16:37] <aab_> Ewww traefik lol
[14:17:18] *** Joins: rsx (~dummy@ppp-188-174-136-209.dynamic.mnet-online.de)
[14:17:43] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[14:17:50] *** Joins: gschanuel5 (~gschanuel@user/gschanuel)
[14:18:49] <artok> nothing fancy here, just basic routing
[14:20:14] <artok> entrypoints and certresolver set as in document and then router rule on nginx label Host(`www.domain.com`) 
[14:24:28] <Lutin> artok which image do you use ? their own ?
[14:24:36] <Lutin> I had lots of trouble with it
[14:25:55] <gordonjcp> Lutin: I already gave you a fully-working config and demonstrated it working to you...
[14:26:04] <Lutin> sometimes the dash wasn't even able to be accessed
[14:26:21] <Lutin> gordonjcp can't remember sorry :)
[14:26:33] *** Joins: usr123 (~usr123@124.253.2.78)
[14:26:44] <Lutin> gordonjcp oh indeed, nope... same issues
[14:27:26] <usr123> Hello. When I add a file or folder using the ADD directive to my docker image and build it. When I push it, does the file or folder that I ADDed get pushed too to docker hub?
[14:27:53] <selckin> yes
[14:28:42] <artok> Lutin: yeah
[14:28:50] <usr123> selckin: So that means if I want to deploy my company's private app using docker. And I try to save the image to docker hub, the code would get pushed too?
[14:28:51] <gordonjcp> Lutin: what were the issues?
[14:29:03] <gordonjcp> Lutin: I mean, that was a perfectly working config, that I am using in production
[14:29:45] <selckin> usr123: it does what you tell it to do, if you don't want to share code only compiled output for example you can set that up
[14:30:18] <Lutin> gordonjcp can you repost them, they are not in my logs it seems dunno why
[14:30:20] <usr123> selckin: Oh, I could compile the app on my host and then add that to the container.
[14:30:55] <Lutin> gordonjcp want to retest... caddy worked directly, that's why and I saw so many people with issues
[14:31:10] <usr123> Also is setting up my own docker registry a good solution? How about we just use one of our own systems to store images?
[14:32:04] *** Joins: arinov (~arinov@178.240.158.75)
[14:36:00] *** Quits: arinov_ (~arinov@178.240.158.75) (Ping timeout: 258 seconds)
[14:36:28] <Lutin> sure! your own registry is easy
[14:40:52] *** Quits: agowa338 (~agowa338@p200300fb0f07d9003de8be56829b3479.dip0.t-ipconnect.de) (Quit: Leaving)
[14:44:00] *** Quits: usr123 (~usr123@124.253.2.78) (Quit: Client closed)
[14:44:38] <gordonjcp> Lutin: https://rangerovers.pub/static/docker-compose.example.yml.txt
[14:45:04] <gordonjcp> ^ that, with the traefik hostname and username/password combo anonymised, is literally the config that is running the traefik server that file is served through
[14:46:16] <Lutin> gordonjcp yeah just found them on mincraft URL :)
[14:46:35] <Lutin> and the container itself only needed the domain label wasn't it ?
[14:46:45] <gordonjcp> not much more
[14:46:48] *** Joins: candyman (~candyman@user/candyman)
[14:47:03] <Lutin> OK,good,brb... need to walk with my dog... am aleady late :)
[14:48:16] <gordonjcp> Lutin: specify the host rule, the entrypoint as "websecure", and traefik.enable as true for your web containER
[14:49:06] <Lutin> gordonjcp entrypoint ? mhh need to look that up... need food as well for clear thinking :)
[14:49:23] <Lutin> thanks! bbiab
[14:49:50] *** Quits: candyman (~candyman@user/candyman) (Client Quit)
[14:52:05] <Lutin> gordonjcp LOL so you like mincraft AND landrovers for sure ;)
[14:52:06] *** Quits: setesat4 (~setesat@054340f9.skybroadband.com) (Quit: The Lounge - https://thelounge.chat)
[14:52:40] <Lutin> I hope it still brings you everywhere, but I'm sure about that!
[14:52:42] <Lutin> bbl!
[14:54:43] *** Joins: setesat40 (~setesat@054340f9.skybroadband.com)
[15:18:49] *** Quits: arinov (~arinov@178.240.158.75) (Quit: Konversation terminated!)
[15:19:04] *** Joins: arinov (~arinov@178.240.158.75)
[15:20:48] *** Quits: incognito (~relativit@user/incognito) (Remote host closed the connection)
[15:32:39] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[15:45:06] *** Quits: arinov (~arinov@178.240.158.75) (Ping timeout: 272 seconds)
[15:48:44] *** Quits: mei (~mei@user/mei) (Quit: Client closed)
[15:48:58] *** Joins: mei (~mei@user/mei)
[15:53:40] *** Joins: goldfish (~goldfish@user/goldfish)
[15:54:06] *** Quits: gschanuel5 (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[15:54:25] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[15:54:58] *** Joins: Repox (~Repox@85.203.136.146)
[16:00:45] <Lutin> back :)
[16:01:39] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[16:01:50] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 265 seconds)
[16:09:16] *** Quits: Joel (~jjshoe@user/joel) (Ping timeout: 246 seconds)
[16:13:15] *** Joins: ph88_ (~ph88@2a02:8109:9e00:7e5c:6036:8c69:37b7:47cf)
[16:14:16] <Repox> I have an odd question, that might not be Docker specific. But I'm trying to setup AWS ECS with a PHP application I've made. And I'm struggling to figure out where to copy my sourcecode to. I've made two images, one from php:7.3-alpine and one from nginx:alpine - and I need to run PHP composer to install package dependencies. I guess I should copy my sourcecode to the Nginx container as it only uses the PHP-FPM container to parse the PHP files? Or should
[16:14:16] <Repox>  the code be on both?
[16:15:45] <artok> php-fpm is the one that runs your code, nginx alpine is only for redirecting and doing static files (if needed)
[16:18:13] *** Joins: sudomannn (~sudomann@c-73-133-131-19.hsd1.md.comcast.net)
[16:20:18] <sudomannn> I have a multistage dockerfile where I copy some util source files in, install from them, and at a later stage copy my main app source
[16:20:23] <Repox> artok Alright, that makes sense. Thank you very much.
[16:20:53] <sudomannn> In the output image, it turns out the source files from the first stage have been trimmed
[16:21:14] <sudomannn> well, just one file. The last function in it is missing and I cant understand why/how
[16:22:04] <sudomannn> This is a python utility package, so the source files that i initially copy are supposed to be identical to the files produced by the install process
[16:22:49] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Ping timeout: 256 seconds)
[16:34:21] *** Joins: rewrit3 (~rewrit3@user/rewrit3)
[16:34:46] *** Joins: sehrope_ (~sehrope@23-24-81-162-static.hfc.comcastbusiness.net)
[16:35:11] *** Joins: daniel-k8 (~daniel-k@192.241.135.211)
[16:37:40] *** Quits: sehrope__ (~sehrope@23-24-81-162-static.hfc.comcastbusiness.net) (Ping timeout: 272 seconds)
[16:37:40] *** Quits: daniel-k (~daniel-k@192.241.135.211) (Ping timeout: 272 seconds)
[16:37:40] *** daniel-k8 is now known as daniel-k
[16:44:42] *** Quits: jazzy (~jaziz@2600:380:4542:186:f862:a412:d266:3c8e) (Ping timeout: 240 seconds)
[16:47:39] *** Joins: tyson2 (~user@cpe44d9e795a64f-cm688f2e2dfaa0.cpe.net.cable.rogers.com)
[17:11:15] *** Quits: setesat40 (~setesat@054340f9.skybroadband.com) (Quit: The Lounge - https://thelounge.chat)
[17:14:33] *** Joins: setesat40 (~setesat@054340f9.skybroadband.com)
[17:25:16] *** Joins: arinov (~arinov@85.104.57.247)
[17:26:26] *** Quits: mossman93 (~quassel@user/mossman93) (Ping timeout: 272 seconds)
[17:26:56] *** Joins: mossman93 (~quassel@user/mossman93)
[17:37:02] *** Joins: thegodsquirrel (~thegodsqu@ec2-100-26-175-134.compute-1.amazonaws.com)
[17:42:53] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[17:45:17] *** Joins: NeoCron (~NeoCron@ip4-45-158-175-19.dyn.netcomnetz.de)
[17:52:24] <gordonjcp> Lutin: right
[17:52:39] <Lutin> gordonjcp left!
[17:52:54] <gordonjcp> Lutin: docker-compose.override.yml
[17:53:02] *** Quits: arinov (~arinov@85.104.57.247) (Ping timeout: 272 seconds)
[17:53:08] <gordonjcp> this will add in extra options to what's defined in docker-compose.yml
[17:53:31] <gordonjcp> so if you've got a "complex" web app with a database and stuff on its own default network, you'll want something like this
[17:54:49] <gordonjcp> https://rangerovers.pub/static/docker-compose.override.yml.txt
[17:55:08] <gordonjcp> in this case the web server that proxies the Python app and serves the static content is a service called "web"
[17:55:33] <Lutin> yap I see taht
[17:55:34] <Lutin> that
[17:55:37] <gordonjcp> the "proxy" network is the one that we defined for Traefik to talk on, and "default" is the docker-compose default network for that project
[17:55:42] <Lutin> yes
[17:55:59] <gordonjcp> Lutin: I haven't fully anonymised that, where you see "rrpub" that's the name of the Traefik service
[17:56:16] <Lutin> gordonjcp oh yeah, no worries :)
[17:56:34] <gordonjcp> Lutin: so
[17:56:41] <gordonjcp> Lutin: sorry, router not service
[17:57:00] <gordonjcp> that'll show up in http routers in traefik as "rrpub@docker"
[17:57:40] <gordonjcp> the actual http service will show up as "web-flaskbb-docker@docker" because that's the name of that service and docker-compose project
[17:58:05] <Lutin> yes I see
[17:58:10] <Lutin> going to test it now
[17:58:16] <gordonjcp> you can set that though with container-name
[17:58:19] <gordonjcp> container_name
[18:01:18] *** Quits: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au) (Remote host closed the connection)
[18:03:18] *** Joins: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au)
[18:07:28] *** Joins: varaindemian (~varaindem@86.124.78.162)
[18:08:42] *** Quits: tyson2 (~user@cpe44d9e795a64f-cm688f2e2dfaa0.cpe.net.cable.rogers.com) (Ping timeout: 240 seconds)
[18:10:03] *** Joins: Atum_ (~IRC@user/atum/x-2392232)
[18:14:21] *** Quits: jaskal (jaskal@user/jaskal) (Quit: leaving)
[18:17:09] <Lutin> gordonjcp yap
[18:17:44] <Lutin> gordonjcp as it can do smtp/imap/whatever I don't need the need of having the certs/keys themselves anymore
[18:17:44] *** Joins: jaskal (jaskal@user/jaskal)
[18:25:47] *** Quits: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au) (Ping timeout: 256 seconds)
[18:27:13] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[18:27:32] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[18:34:46] *** Joins: goddard (~goddard@user/goddard)
[18:38:46] <Lutin> gordonjcp does treafik support like foo.tld and www.foo.tld on the same service /
[18:38:48] <Lutin> ?
[18:43:36] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[18:44:58] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[18:45:15] *** Quits: twiclo (~twiclo@2604:7b80:2000:1069:52fc:cedd:fbeb:10c) (Quit: WeeChat 2.9)
[18:47:20] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[18:47:29] *** Quits: goddard (~goddard@user/goddard) (Quit: The Lounge - https://thelounge.chat)
[18:49:05] <artok> yes
[18:49:24] <Lutin> gordonjcp my domain now gets a invalid cert: TRAEFIK DEFAULT CERT and a page 404 not found. I had the same earlier
[18:49:27] <artok> i have host.com and www.host.com on same service
[18:50:13] <Lutin> artok yes but how in your labels ?
[18:53:56] <artok> Host(`host.com`) || Host(`www.host.com`)
[18:54:32] <artok> rule can have boolean thingies
[18:56:45] <Lutin> services.nginx.deploy.labels.traefik.enable must be a string, number or null
[18:56:49] <Lutin> are you sure ?
[18:59:57] *** Joins: Joel (~jjshoe@user/joel)
[19:00:30] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Remote host closed the connection)
[19:00:46] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[19:02:30] <artok> https://termbin.com/6kkh
[19:04:31] <Lutin> artok ok, checking that... why is your service www instead of www_www or dont you deploy a stack ?
[19:04:46] <artok> eh?
[19:06:00] <artok> it's internal name for the traefik route
[19:06:07] <Lutin> yes... if you deploy a stack you get stack_servicename or so... tried to look it up a couple of times but it's not clear
[19:06:23] <Lutin> yes I understand
[19:09:59] *** Quits: Joel (~jjshoe@user/joel) (Ping timeout: 256 seconds)
[19:10:18] <Lutin> artok ok quotes :)
[19:11:17] *** Joins: Joel (~jjshoe@user/joel)
[19:12:39] *** Quits: Helikoptere (~Helikopte@infracloud.lcnaud.fr) (Quit: WeeChat 2.8)
[19:15:51] *** Joins: Helikoptere (~Helikopte@infracloud.lcnaud.fr)
[19:16:17] *** Joins: xheimlich (~xheimlich@179.218.1.150)
[19:17:05] <xheimlich> I have a fairly naive question. Like full newbie. We have a deployperson in charge of these things, I'm just trying to understand them better.
[19:17:58] <xheimlich> Deployperson runs docker from a shell script with a number of options: multiple -e containing env vars that have passwords/user keys, for example. 
[19:19:16] <xheimlich> Also -v source:target because the project depends on a very large binary file that doesn't change and isn't in the image itself (which changes frequently as we run through the MVP sysiphean thing).
[19:20:09] <xheimlich> Now: I know that in principle (and if it weren't for security reasons) I could declare environment variables in my Dockerfile. with an ENV declaration.
[19:20:50] <xheimlich> how can I map a host directory to an in-container directory (which seems to be what -v does) in the Dockerfile as well?
[19:25:11] *** Joins: shad (~shad@user/shad)
[19:26:14] <shad> Hi, is it possible to mount a volume listed by `docker volume ls` in my host ?
[19:26:32] <shad> I've just created a volume that's supposedly empty, postgres complains it is not and won't start because of it
[19:26:52] <shad> `initdb: directory "/var/lib/postgresql/data" exists but is not empty`
[19:28:27] *** Joins: dolor_avis (~dolor_avi@user-5-173-11-113.play-internet.pl)
[19:37:28] *** Joins: neilhwatson (~neilhwats@2001:470:b34d:0:d491:a3ad:cf08:f40d)
[19:37:54] *** Quits: Helikoptere (~Helikopte@infracloud.lcnaud.fr) (Ping timeout: 240 seconds)
[19:41:26] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[19:43:59] <programmerq> xheimlichâ–¸ no, you can't specify a bind mount src location in an image. That must be a runtime option only. I would also highly recommend against putting sensitive information like secrets into a docker image too. you *can* but it's best practice to supply runtime secrets at runtime, not at build time.
[20:03:32] *** Quits: dolor_avis (~dolor_avi@user-5-173-11-113.play-internet.pl) (Quit: dolor_avis)
[20:12:32] *** Quits: treethought (treethou@138.68.49.251) (Remote host closed the connection)
[20:13:34] *** Joins: treethought (treethou@138.68.49.251)
[20:15:20] *** Joins: Brainium (~brainium@user/brainium)
[20:17:36] <Lutin> artok so... what happens when you access the IP of traefik, or a domain that has been pointed to it which does not exist in a container ?
[20:19:21] *** Quits: iauc (~iauc@ti0061a400-1478.bb.online.no) (Quit: Client closed)
[20:20:45] *** Joins: Helikoptere (~Helikopte@infracloud.lcnaud.fr)
[20:22:42] *** Joins: tang^ (~doofus@2604:3d09:47c:f970:b118:8282:9629:1846)
[20:28:42] *** Quits: neilhwatson (~neilhwats@2001:470:b34d:0:d491:a3ad:cf08:f40d) (Quit: Client closed)
[20:33:54] *** Joins: neilhwatson (~neilhwats@2001:470:b34d:0:d491:a3ad:cf08:f40d)
[20:35:55] *** Quits: NeoCron (~NeoCron@ip4-45-158-175-19.dyn.netcomnetz.de) (Ping timeout: 268 seconds)
[20:36:17] *** Joins: dolor_avis (~dolor_avi@user-5-173-11-113.play-internet.pl)
[20:37:28] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 2.3)
[20:38:23] *** Quits: Helikoptere (~Helikopte@infracloud.lcnaud.fr) (Ping timeout: 256 seconds)
[20:44:23] <sudomannn> With docker-compose deployments, is better for a service to use `http://host.docker.internal:xxxx` to reach other services, or use `servicename.local`
[20:52:01] <Lutin> just servicename
[20:53:24] *** Quits: TomyWork (~TomyLobo@p200300e80f133c001cd51b25e8d89679.dip0.t-ipconnect.de) (Remote host closed the connection)
[20:53:49] *** Quits: gearnode (~gearnode@2a01cb000ce2c100b0b4e37bd756bdb4.ipv6.abo.wanadoo.fr) (Ping timeout: 246 seconds)
[20:54:04] *** Joins: oxum (~oxum@136.185.148.86)
[20:58:54] *** Quits: oxum (~oxum@136.185.148.86) (Ping timeout: 252 seconds)
[21:08:27] <Lutin> what a mess traefik
[21:10:13] *** Quits: jonifen (~jonifen@user/jonifen) (Quit: Leaving)
[21:11:41] *** Quits: Crassus (~Crassus@user/crassus) (Ping timeout: 268 seconds)
[21:15:42] *** Quits: Brainium (~brainium@user/brainium) (Quit: Konversation terminated!)
[21:18:16] *** Quits: neilhwatson (~neilhwats@2001:470:b34d:0:d491:a3ad:cf08:f40d) (Quit: Client closed)
[21:21:30] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[21:22:10] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[21:24:51] <artok> Lutin: eh?
[21:25:26] <artok> if I access ip of traefik, it basically does not respond if there is no route configured
[21:26:48] <Lutin> artok and you don't get a 404 page with an invalid cert ?
[21:33:22] <Lutin> artok can you give me a full worinking example (with servicename) ?
[21:33:40] <Lutin> so also how you start the service ? sounds weird, but I'm in need of it :)
[21:33:47] <Lutin> just a simple whoami or so
[21:33:54] <artok> actually yeah, there is traefik default cert
[21:34:03] <Lutin> indeed
[21:34:09] <artok> aand then that 404 because no route
[21:34:19] <Lutin> yeah indeed, I hate such shit
[21:34:34] <Lutin> unprofessional
[21:34:43] <artok> well you need to create that redirection
[21:35:13] <artok> when Host matches ip then redirect to named host
[21:35:49] <artok> it should not be traefik work to guess which service you want it to direct
[21:38:25] <Lutin> yeah could do
[21:38:40] <Lutin> I would like to run dashboard only on internal IP as well
[21:38:54] *** Joins: ph88 (~ph88@2a02:8109:9e00:7e5c:d5c6:b6d7:546c:7e33)
[21:39:10] <Lutin> artok but if you can give that example as well would be nice... I have issues :P personal ones but also this one :D
[21:40:17] <artok> if you do Host(traefik.localdomain) || Host(192.168.xx.xx)
[21:40:44] <Lutin> idea!
[21:40:57] <Lutin> but, about the servicename, do you deploy traefik as stack ?
[21:41:21] <artok> it is one of services on compose.yml that will be fed to docker stack deploy yeah
[21:42:12] *** Quits: ph88_ (~ph88@2a02:8109:9e00:7e5c:6036:8c69:37b7:47cf) (Ping timeout: 268 seconds)
[21:43:21] *** Joins: gearnode (~gearnode@2a01cb080c23e70060809114fe70ff52.ipv6.abo.wanadoo.fr)
[21:43:29] <artok> my configuration is like gordonjcp's examples
[21:43:40] <Lutin> ok, but your traefik service is called "www" ?
[21:43:50] <artok> no, it is called traefik
[21:44:02] <Lutin> the service or the stack ?
[21:44:08] <artok> service
[21:44:27] <Lutin> as the service becomes at my place traefik_traefik
[21:45:32] <Lutin> artok why do you use www here then ?https://termbin.com/6kkh
[21:45:45] *** Quits: s0ullight (~s0ullight@ip-62-235-51-95.dsl.scarlet.be) (Quit: Client closed)
[21:51:25] <artok> I gave that name for the route
[21:52:39] <Lutin> ok but then I don't get that... didn't it need to match the traefik servicename ?
[21:52:53] <artok> no, it is on service labels
[21:53:45] <Lutin> eh ?
[21:56:07] <artok> that route is configured by adding route configs on that service labels, so there I added nginx service and told traefik that "call this route with name www, and route by this rule to this service where I've given the route rule"
[21:56:30] *** Joins: Sasazuka (~Sasazuka@user/sasazuka)
[21:57:12] <Lutin> ok so match everthing on WWW for this route
[21:57:24] <Lutin> like every lavel
[21:57:29] <Lutin> *label
[22:03:02] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Quit: The Lounge - https://thelounge.chat)
[22:08:59] *** Joins: gschanuel5 (~gschanuel@user/gschanuel)
[22:09:01] *** Quits: rsx (~dummy@ppp-188-174-136-209.dynamic.mnet-online.de) (Quit: rsx)
[22:12:36] <artok> https://doc.traefik.io/traefik/routing/overview/
[22:25:02] *** Joins: candyman (~candyman@user/candyman)
[22:26:13] *** Joins: Crell (~Crell@24.148.30.77)
[22:27:12] *** Joins: andycooper (uid246432@id-246432.brockwell.irccloud.com)
[22:30:31] <Crell> Hi folks. I'm having an issue with a tiny Docker Compose setup not mounting files.  I run docker run in a directory with a whole lot of files, and ls still reports that it's empty.
[22:30:45] <Crell> https://gist.github.com/Crell/911b1bcae369bb3c74c6e6ac8f55679b - My Dockerfile and docker-compose.yml files.  What am I missing here?
[22:34:12] <programmerq> 'docker run' doesn't look at the compose file. use docker-compose to utilize a compose file.
[22:35:09] <programmerq> you can bind mount with docker run too: docker run --rm -v $(pwd):/usr/src/myapp dummy
[22:35:13] <artok> docker run --mount type=bind,source=$(pwd),target=/usr/src/myapp dummy
[22:35:19] <Crell> Ahso.  Duh.  
[22:35:20] <artok> aaand I was slow
[22:35:21] <artok> =D
[22:35:46] <artok> that is because I use long format --mount and not -v ;)
[22:36:16] <Crell> Now this is interesting.  If I run `docker-compose run $service_from_the_yml`, it... runs my unit test command.  Which is NOT the command I currently have setup as a CMD!  (It's commented out for testing.)
[22:37:08] <programmerq> it'll use whatever command is in the image. commenting out something in the Dockerfile won't take effect until you rebuild the image explicitly.
[22:38:16] <Crell> I did rebuild it, though.  `docker built . -t php8`
[22:38:23] <Crell> er, build, not built.
[22:38:38] <programmerq> and is 'php8' the image that you have set in your compose file?
[22:38:58] <Crell> I... think so.  (See the gist above.)
[22:39:19] <Crell> (I'm very novice at docker still, so please bear with me.  Rarely needed it at the last job.)
[22:39:20] <artok> there is no image: under php
[22:39:23] <programmerq> nope, your compose in the gist doesn't have an image: key
[22:39:25] <artok> that service itself
[22:40:43] <Crell> Hm.  Wouldn't the `build` directive tell it to build from the cwd for that image?  
[22:41:04] <Crell> (I had this working a few months ago on another project, but haven't touched it since and forgot most of it, apparently.)
[22:42:23] *** Quits: dolor_avis (~dolor_avi@user-5-173-11-113.play-internet.pl) (Quit: dolor_avis)
[22:45:59] <Crell> Ah ha!  I think I got it now.
[22:46:52] *** Quits: mei (~mei@user/mei) (Quit: Client closed)
[22:49:28] <programmerq> Crellâ–¸ yes, the 'build' key tells compose to do the build, but 'docker build' isn't compose.
[22:49:45] *** Joins: mei (~mei@user/mei)
[22:50:11] <Crell> I feel like I had this down to a single command in the past.  Right now I'm doing this: ` docker build . -t dummy && docker-compose run php8` - And it does seem to work.
[22:50:27] <programmerq> 'docker-compose build'
[22:50:56] <Crell> So still 2 steps, but both from the compose command?
[22:51:58] <Crell> Ah, and then it seems I don't need the image key.
[22:54:29] *** Quits: tang^ (~doofus@2604:3d09:47c:f970:b118:8282:9629:1846) (Quit: So as I was sayinSQUIRREL)
[23:04:14] *** Quits: yjftsjthsd (~yjftsjths@162.127.123.34.bc.googleusercontent.com) (Read error: Connection reset by peer)
[23:04:59] *** Joins: yjftsjthsd (~yjftsjths@162.127.123.34.bc.googleusercontent.com)
[23:16:33] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca) (Read error: Connection reset by peer)
[23:16:47] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-10-70-54-112-49.dsl.bell.ca)
[23:16:54] *** Quits: candyman (~candyman@user/candyman) (Remote host closed the connection)
[23:17:40] *** Joins: tga_ (~tga@user/tga)
[23:18:15] <tga_> greetings. is there a good way for many users to run the same stack separately on the same machine?
[23:18:58] <tga_> I don't care about security, only keeping containers fully separate for each user
[23:20:16] <Lutin> artok but how do you start your traefik service ? I'm curious about the name when you deploy a stack as I do
[23:21:23] <tga_> can I simply deploy a stack multiple times, without any changes?
[23:28:57] <artok> Lutin: 20:11 < artok> it is one of services on compose.yml that will be fed to docker stack deploy yeah
[23:31:14] *** Quits: ph88 (~ph88@2a02:8109:9e00:7e5c:d5c6:b6d7:546c:7e33) (Ping timeout: 256 seconds)
[23:33:57] *** Joins: Bideford (AdiIRC@dsl-217-155-169-214.zen.co.uk)
[23:35:45] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 256 seconds)
[23:38:01] *** Joins: keypusher (keypusher@user/keypusher)
[23:39:33] *** Quits: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net) (Ping timeout: 265 seconds)
[23:40:15] *** Quits: gschanuel5 (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[23:40:36] *** Joins: gschanuel5 (~gschanuel@user/gschanuel)
[23:41:39] <Lutin> artok but WHY do I get stack_service then as servicename ?
[23:41:59] *** Joins: trevors (~trevors@c-65-96-171-157.hsd1.ma.comcast.net)
[23:42:19] <Lutin> artok in other words... why do you get servicename only ?
[23:42:52] *** Quits: sord937 (~sord937@gateway/tor-sasl/sord937) (Ping timeout: 244 seconds)
[23:43:45] <artok> eh?
[23:44:16] *** Joins: sord937 (~sord937@gateway/tor-sasl/sord937)
[23:44:33] <artok> I have all services with stack prefix
[23:45:57] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 256 seconds)
[23:50:46] <Lutin> artok ok..
[23:51:10] <Lutin> then you maybe was drinking beer when I asked earlier :D
[23:51:38] *** Quits: Crell (~Crell@24.148.30.77) (Quit: Client closed)
[23:52:35] *** Joins: vlm (~vlm@user/vlm)
[23:55:07] <Lutin> artok nice some progress.... it redirects from www to non-www but still no route :)
[23:55:20] <Lutin> also... default TRAEFIK cert
