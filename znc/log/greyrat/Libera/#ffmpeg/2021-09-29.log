[00:00:07] *** Quits: dumbo (~dumbo@185.202.32.197) (Quit: Connection closed)
[00:01:17] *** Joins: arbitercoin (~Rheanna@218.78.43.189)
[00:01:56] *** Joins: durandal_1707 (~computer@95.168.121.9)
[00:02:16] *** Quits: tar_xvf (~tar_xvf@c-76-116-112-52.hsd1.nj.comcast.net) (Quit: Leaving...)
[00:05:53] *** Joins: tar_xvf (~tar_xvf@c-76-116-112-52.hsd1.nj.comcast.net)
[00:17:41] *** Parts: GuiToris (~GuiToris@user/guitoris) (Sieben Acht Gute Nacht!)
[00:20:17] *** Quits: tar_xvf (~tar_xvf@c-76-116-112-52.hsd1.nj.comcast.net) (Quit: Leaving...)
[00:22:13] *** Quits: gpeskens_ (~gpeskens@62.251.31.165) (Quit: Leaving)
[00:22:30] *** Joins: tar_xvf (~tar_xvf@c-76-116-112-52.hsd1.nj.comcast.net)
[00:26:00] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[00:27:33] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[00:29:38] *** Quits: InTheWings (~InTheWing@videolan/developer/inthewings) (Ping timeout: 265 seconds)
[00:47:03] *** Quits: a0z (~a0z@87.75.186.171) (Quit: Leaving)
[00:48:27] *** Joins: DeHackEd (~dehacked@216.75.170.33)
[00:53:55] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 252 seconds)
[01:00:09] *** Quits: hombrelaser (~luis@user/hombrelaser) (Quit: Leaving.)
[01:00:38] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[01:05:06] *** Quits: durandal_1707 (~computer@95.168.121.9) (Read error: Connection reset by peer)
[01:17:20] *** Quits: cosimone (~user@93-44-187-87.ip98.fastwebnet.it) (Ping timeout: 246 seconds)
[01:23:15] *** Quits: Narrat (~omnius@p200300df5f13e70206ea56fffe2e7cdc.dip0.t-ipconnect.de) (Quit: They say a little knowledge is a dangerous thing, but it's not one half so bad as a lot of ignorance.)
[01:36:28] *** Quits: DmanT (~dmant@2a02:908:416:a6e1:8777:a39f:3f17:b754) (Remote host closed the connection)
[01:36:41] *** Joins: DmanT (~dmant@2a02:908:416:a6e1:8777:a39f:3f17:b754)
[01:38:00] *** Joins: milkt_ (~debian@gateway/tor-sasl/milkt)
[01:38:28] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[01:44:23] *** Joins: jkwnki (~jkwnki@p4ff31b54.dip0.t-ipconnect.de)
[01:52:23] <aphysically> softworkz: oh hey
[01:52:41] <softworkz> hi
[01:52:51] <aphysically> I've been following your subtitle patches
[01:53:06] <softworkz> glad to hear :-)
[01:53:21] <aphysically> were there any plans to combine the regular text/video rendering filter for subtitles or is there a need to keep them separate?
[01:54:01] <softworkz> what do you mean by regular t/v rendering filters?
[01:54:16] *** Joins: s0berage (~s0berage@135-23-213-77.cpe.pppoe.ca)
[01:55:12] <aphysically> there's overlay_textsubs and overlay_graphicsubs
[01:55:22] <aphysically> if there's an overlay_subs as well that only takes S->V
[01:55:32] <aphysically> then you can use it without caring the type of subtitles it is
[01:55:48] <softworkz> no, these are way too different
[01:56:20] <aphysically> I think Lynne had mentioned this in a comment too but it got lost in the ML
[01:56:36] <aphysically> ah okay then
[01:56:37] <softworkz> just look at this example: https://streams.videolan.org/samples/sub/SSA/subtitle_testing_complex.mkv
[01:56:45] <softworkz> to see what ass subtitles can do
[01:57:12] <softworkz> look at the note bar animation at the bottom
[01:57:25] <aphysically> yes I actually do a lot of nonsense for ass subtitles in my rendering code right now
[01:58:13] <softworkz> depending on the OS, you need to provide proper paths to fonts etc to make subtitle rendering work
[01:58:31] <aphysically> I also need to read what kind of scaling (if any) the overlay_graphicsubs does or if I need to subs2video first
[01:58:34] <softworkz> so you need to be prepared for it
[01:58:50] <softworkz> sub2video doesn't exist anymore
[01:59:10] <aphysically> well then it's relevant, does it scale to the video you're overlaying?
[01:59:11] <softworkz> it is substituted by auto-inserting graphicsub2video
[01:59:43] <softworkz> With graphicsub2video, you can scale manually, but then you have the same disadvantage like all the time before:
[01:59:47] <softworkz> performance
[01:59:53] <aphysically> oh I thought you meant graphicsub2video doesn't exist anymore
[02:00:03] <softworkz> as you need to scale the whole overlay image
[02:00:09] <softworkz> graphicsub2video is new
[02:00:18] <aphysically> does the regular overlay one scale at all?
[02:00:19] <softworkz> It's the replacement for sub2video
[02:00:30] <softworkz> Wait
[02:00:53] <softworkz> the best performance is achieved by overlaying only the individual subtitle bitmaps
[02:01:05] <softworkz> that reduces the work to those small regions
[02:01:15] <softworkz> the filter for this is overlay_graphicsubs
[02:01:23] <softworkz> And you are right:
[02:01:33] <softworkz> there's one bit missing in that game
[02:01:50] <softworkz> scaling of graphic subtitle bitmaps (individually)
[02:02:10] <aphysically> yeah, so in my code right now I do it with scale2ref: https://github.com/GBeauregard/pyffstream/blob/c64671cb5dbac7796304dda8960eb482527bc48d/src/pyffstream/encode.py#L1181
[02:02:14] <softworkz> and this is the very last piece of the puzzle on which I'm working right now
[02:03:22] <softworkz> scaling 2 ref is not something I've planned, though (yet)
[02:03:43] <softworkz> because in our use cases, we always do probing first, so we know the target video sizes
[02:04:18] <aphysically> if this is implemented as part of the overlay filter you already have the ref
[02:04:45] <aphysically> well, I use it where I may or may not be overlaying after an autodetected crop fitler
[02:04:46] <softworkz> yes, but then it's too late
[02:05:10] <aphysically> I can read the size from the crop filter in advance I guess
[02:05:27] <softworkz> meaning that the sub bitmaps will need to be scaled each time when doing overlay
[02:06:13] <softworkz> the new subscale filter will also have a number of operation modes
[02:06:31] <softworkz> not only scale, but also something like 'fit' or 'rearrange'
[02:06:56] <aphysically> ah okay you're doing an entire subscale filter that's nice
[02:07:02] <softworkz> ..to move subtitle bitmaps to fit into a certain target frame and scale only when necessary
[02:07:03] *** Joins: jess (~jess@libera/staff/jess)
[02:07:14] <aphysically> yeah actually very often when cropping if it's HDMV subtitles sometimes they're designed to be placed on the video already
[02:07:26] <aphysically> so it's wrong to scale it to the video after cropping
[02:07:44] <aphysically> I actually handle this right now by just manually having an option to crop *after* subtitles are rendered if I know this is the case in advance
[02:07:53] <softworkz> sometimes there bitmap subs for 16:9  but the video is like 22:10
[02:08:08] <softworkz> and it's sufficient to move them up and down
[02:08:23] *** Quits: SpeakerToMeat__ (~Speaker@user/speakertomeat) (Read error: Connection reset by peer)
[02:08:31] <aphysically> yes, then you don't have to scale them smaller anymore
[02:08:59] <aphysically> this is very nice :)
[02:09:08] *** Joins: SpeakerToMeat__ (~Speaker@user/speakertomeat)
[02:09:16] <softworkz> I've taken quite some effort during the past days to scale those fonts smoothly, though, when scaling is needed
[02:09:20] <softworkz> thx
[02:09:25] <aphysically> actually exceeds my expectation
[02:09:35] <softworkz> :-)
[02:10:11] <softworkz> I'm having practical use cases, it's not an academic effort
[02:11:26] <aphysically> I'm also glad seeking to a timestamp with -t shouldn't be completely broken anymore
[02:11:59] <aphysically> right now I unconditionally extract any textsubs to a separate file if I have any intent to use them, since it's really the only way that isn't broken in *some* way (timestamp seeking or otherwise)
[02:12:20] <softworkz> let me know when you come across an example that doesn't work
[02:12:56] <aphysically> with your patches, you mean?
[02:13:10] <softworkz> the original motivation for this way about ass overlay with vf_subttitles, because vf_subtitles reads the entire video a second time
[02:13:19] <softworkz> yes, with my patches
[02:13:31] <aphysically> ^^^^^ this is another reason I unconditionally extracted it
[02:13:38] <softworkz> exactly
[02:13:54] <aphysically> my problem was when I'm using vf_subtitles with SRT streaming the reading of the entire video took long enough that the SRT times out and disconnects
[02:14:10] <aphysically> so vf_subtitles was just unusable with SRT output protocol
[02:14:11] <softworkz> ;-)
[02:14:23] <softworkz> we had the same problems
[02:15:10] <softworkz> especially, when users were storing content on nas devices with bad SMB implementations
[02:15:52] <softworkz> and when the source is a stream from somewhere, it doesn't work at all
[02:16:14] <aphysically> if I'm not unconditionally extracting anymore the startup time will be a lot faster
[02:16:36] <aphysically> although the code won't be in vain, I actually use the extracting to fix some bugs with ffconcat and ass
[02:17:37] <aphysically> https://trac.ffmpeg.org/ticket/9001
[02:17:49] <softworkz> I might not be able to solve all problems, but at least a few big ones
[02:18:22] <aphysically> yeah this is unrelated to your (great!)
[02:18:23] <aphysically> work
[02:18:51] <softworkz> note the following regarding ass:
[02:19:10] <softworkz> it doesn't matter at all in which frames the ass subs are contained
[02:19:39] <softworkz> the only thing that matters is the timing within the ass events
[02:20:02] <aphysically> yeah this all was a bit confusing when I originally was debugging this
[02:20:16] <aphysically> the mkvtoolnix dev finally helped figure it out and fixed the same bug in mkvmerge
[02:20:48] <softworkz> a file could even have the complete ass subtitles at the beginning
[02:21:07] <softworkz> which would be unfortunate when seeking,
[02:21:25] <softworkz> but it would still work otherwise
[02:21:59] *** Quits: kib (~kib@user/kib) (Quit: WeeChat 3.2.1)
[02:22:34] <aphysically> https://gitlab.com/mbunkus/mkvtoolnix/-/commit/95361a8cc6aaf1c1a7b2785843f341b5a68f3135 <- mkvtoolnix fix of the bug
[02:23:42] <softworkz> if you have a test file for reproducing, I could check whether/how it would work with my filters
[02:24:06] <aphysically> oh, yeah, there's test files attached to the trac bug
[02:24:27] <aphysically> should be drop in I think https://trac.ffmpeg.org/ticket/9001
[02:25:48] <aphysically> the bug is in the mkv muxer of ffmpeg, but depending on how the new subtitle filters work it may not even run into it
[02:26:23] <softworkz> it will still run into it, at least without filtering
[02:26:44] <softworkz> with filtering, I can't say, but probably still
[02:26:56] <aphysically> and/or in the ffconcat demuxer or whatever
[02:27:23] <aphysically> mpv doesn't choke on the dupe frame number files and still renders okay, so I'm not sure what they're doing different
[02:27:41] *** Quits: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua) (Quit: Konversation terminated!)
[02:28:04] <softworkz> I'm afraid, I can't say much without having taken a closer look
[02:28:26] <aphysically> this isn't directly related to your work anyway so don't feel obligated
[02:28:39] *** Joins: kib (~kib@user/kib)
[02:28:45] <aphysically> anyway glad to touch base and I'm looking forward to the progress ^_^
[02:28:53] *** Quits: arbitercoin (~Rheanna@218.78.43.189) (Remote host closed the connection)
[02:28:55] *** Quits: kib (~kib@user/kib) (Client Quit)
[02:29:06] <softworkz> thanks a lot for your feedback!
[02:29:29] <softworkz> always good to hear
[02:30:02] *** Quits: Buster_ (~Buster@46.160.36.66) (Ping timeout: 268 seconds)
[02:30:37] *** Joins: arbitercoin (~Rheanna@218.78.43.189)
[02:41:52] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[02:43:48] *** pong is now known as beaver
[02:48:53] <tar_xvf> Hey, I'm wondering if you guys know the best way to have dynamic zoom and cropping?
[02:49:11] <tar_xvf> i know that the crop filter calculates x and y for every frame
[02:49:31] <tar_xvf> but is the only way by making a complicated mathematical formula for the position over time or is there another filter than can handle this, as well as zooming in and out?
[02:50:26] *** Quits: jkwnki (~jkwnki@p4ff31b54.dip0.t-ipconnect.de) (Ping timeout: 246 seconds)
[02:55:15] <furq> https://ffmpeg.org/ffmpeg-filters.html#zoompan
[02:56:16] *** Joins: anotheruser (~user@154.6.26.15)
[02:56:36] <tar_xvf> thank you
[02:56:36] *** Joins: demon__ (~user@192.121.82.27)
[02:58:27] *** Quits: Aelius (~Aelius@user/aelius) (Quit: quit)
[02:59:25] *** Joins: Aelius (~Aelius@user/aelius)
[03:00:06] *** Quits: someuser (~user@192.121.82.27) (Ping timeout: 250 seconds)
[03:00:32] *** Quits: anotheruser (~user@154.6.26.15) (Ping timeout: 250 seconds)
[03:02:06] *** Quits: Aelius (~Aelius@user/aelius) (Client Quit)
[03:03:04] *** Joins: Aelius (~Aelius@user/aelius)
[03:25:37] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[03:39:55] *** Joins: bpmedley (~bpmedley@69-174-155-1.bltnilaa.metronetinc.net)
[03:44:35] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.2)
[03:44:58] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:15:36] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[04:19:20] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 246 seconds)
[04:19:42] *** Quits: MrZeus__ (~MrZeus@185.248.85.56) (Ping timeout: 265 seconds)
[04:22:25] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[04:23:44] *** Joins: white5moke (~pi0xxdmqj@ip72-219-109-30.oc.oc.cox.net)
[04:23:56] *** Quits: SpeakerToMeat__ (~Speaker@user/speakertomeat) (Read error: Connection reset by peer)
[04:30:26] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:35:01] *** Joins: vlm (~vlm@user/vlm)
[04:40:01] *** Quits: mickey (~user@user/mickey) (Remote host closed the connection)
[04:40:20] *** Joins: mickey (~user@user/mickey)
[04:42:00] *** Joins: SpeakerToMeat__ (~Speaker@user/speakertomeat)
[04:58:51] *** Quits: witchcraft (~witch@user/witch) (Ping timeout: 265 seconds)
[04:58:51] *** Quits: arbitercoin (~Rheanna@218.78.43.189) (Remote host closed the connection)
[05:00:00] *** Quits: DmanT (~dmant@2a02:908:416:a6e1:8777:a39f:3f17:b754) (Remote host closed the connection)
[05:01:09] *** Joins: arbitercoin (~Rheanna@101.89.197.243)
[05:08:12] *** Quits: white5moke (~pi0xxdmqj@ip72-219-109-30.oc.oc.cox.net) (Remote host closed the connection)
[05:16:22] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[05:18:24] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[05:20:31] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 245 seconds)
[05:25:27] *** Quits: s0berage (~s0berage@135-23-213-77.cpe.pppoe.ca) (Read error: Connection reset by peer)
[05:25:45] *** Joins: s0berage (~s0berage@135-23-213-77.cpe.pppoe.ca)
[05:25:54] *** Quits: s0berage (~s0berage@135-23-213-77.cpe.pppoe.ca) (Read error: Connection reset by peer)
[05:28:31] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[05:38:48] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[05:49:40] *** Quits: arbitercoin (~Rheanna@101.89.197.243) (Remote host closed the connection)
[05:51:45] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[06:02:46] *** Joins: witchcraft (~witch@88-106-213-156.dynamic.dsl.as9105.com)
[06:02:46] *** Quits: witchcraft (~witch@88-106-213-156.dynamic.dsl.as9105.com) (Changing host)
[06:02:46] *** Joins: witchcraft (~witch@user/witch)
[06:14:54] *** Quits: milkt_ (~debian@gateway/tor-sasl/milkt) (Quit: leaving)
[06:15:31] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[06:29:16] *** Quits: jos1 (~jos3@dyndsl-178-142-070-171.ewe-ip-backbone.de) (Ping timeout: 245 seconds)
[06:39:25] *** Quits: arbitercoin (~Rheanna@101.91.240.201) (Remote host closed the connection)
[06:40:37] *** Joins: arbitercoin (~Rheanna@101.91.192.124)
[06:42:35] *** Joins: jos1 (~jos3@dyndsl-091-096-040-098.ewe-ip-backbone.de)
[06:51:49] *** Quits: tar_xvf (~tar_xvf@c-76-116-112-52.hsd1.nj.comcast.net) (Quit: buh bye)
[07:29:24] *** Quits: arbitercoin (~Rheanna@101.91.192.124) (Remote host closed the connection)
[07:30:59] *** Joins: arbitercoin (~Rheanna@101.91.180.110)
[07:59:39] <fling> so things don't build with recent ffmpeg
[07:59:47] <fling> av_registe_all was not declared in this scope
[07:59:50] <fling> lots of similar errors
[07:59:59] <fling> in ffmpeg_audio_reader.h
[08:00:02] <fling> how to fix this properly?
[08:08:14] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 246 seconds)
[08:09:05] *** Quits: SnakesAndStuff (~bob@2601:381:8100:b97a::409) (Quit: leaving)
[08:15:25] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[08:22:07] *** Joins: Buster_ (~Buster@46.160.36.66)
[08:30:23] *** Parts: jaggz (~jaggz@user/jaggz) (Leaving)
[08:56:30] *** Quits: arbitercoin (~Rheanna@101.91.180.110) (Remote host closed the connection)
[08:57:36] *** Joins: arbitercoin (~Rheanna@218.78.27.29)
[09:02:08] *** Quits: Buster_ (~Buster@46.160.36.66) (Ping timeout: 246 seconds)
[09:14:39] *** Quits: SpeakerToMeat__ (~Speaker@user/speakertomeat) (Read error: Connection reset by peer)
[09:32:22] *** Joins: SpeakerToMeat__ (~Speaker@user/speakertomeat)
[09:42:21] <JEEB> fling: doc/APIchanges should give hints. basically the gist is that av_register_all was made not required
[09:42:44] <JEEB> and finally then I think last year removed?
[09:43:06] <JEEB> so it would first warn that it is deprecated for ~2 years
[09:45:20] <aphysically> holy crud filtering by -show_entries packet and looking for flags=K is so much faster than filtering frames
[09:45:33] <aphysically> is the frame one also decoding or something?
[09:46:24] <JEEB> yes
[09:46:36] <JEEB> -show_packet is demuxing, -show_frames is decoding
[09:55:53] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 268 seconds)
[09:56:33] *** Joins: softworkz (~softworkz@user/softworkz)
[09:59:11] *** Quits: arbitercoin (~Rheanna@218.78.27.29) (Remote host closed the connection)
[10:01:37] *** Joins: arbitercoin (~Rheanna@101.91.197.175)
[10:05:01] <aphysically> ah
[10:13:30] *** Joins: JeSCaLis23-F (~rizon@188.119.22.153)
[10:15:56] *** Joins: InTheWings (~InTheWing@videolan/developer/inthewings)
[10:16:04] *** Quits: JeSCaLis23-F (~rizon@188.119.22.153) (Client Quit)
[10:16:32] *** Quits: arbitercoin (~Rheanna@101.91.197.175) (Remote host closed the connection)
[10:20:31] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 245 seconds)
[10:21:42] *** Joins: softworkz (~softworkz@user/softworkz)
[10:26:44] *** Quits: ocrete6 (~ocrete@23.88.108.134) (Quit: The Lounge - https://thelounge.chat)
[10:28:59] *** Joins: durandal_1707 (~computer@95.168.121.89)
[10:29:05] *** Joins: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3)
[10:35:00] *** Joins: Guest92 (~Guest92@192.140.221.130)
[10:36:09] *** Joins: Huitzilopochtli (~ronnie@45.64.220.161)
[10:37:02] *** Quits: w1kl4s (~w1kl4s@user/w1kl4s) (Quit: Ping timeout (120 seconds))
[10:37:34] *** Joins: w1kl4s (~w1kl4s@user/w1kl4s)
[10:49:21] *** Quits: ocrete (~ocrete@halloumi.collabora.co.uk) (Quit: The Lounge - https://thelounge.chat)
[10:49:26] *** Joins: ocrete5 (~ocrete@23.88.108.134)
[10:49:35] *** Quits: ocrete5 (~ocrete@23.88.108.134) (Remote host closed the connection)
[10:50:17] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[10:50:17] *** Joins: ocrete (~ocrete@23.88.108.134)
[10:50:24] *** Quits: ocrete (~ocrete@23.88.108.134) (Remote host closed the connection)
[10:50:43] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[10:51:06] *** Joins: ocrete (~ocrete@23.88.108.134)
[10:51:09] *** Quits: ocrete (~ocrete@23.88.108.134) (Remote host closed the connection)
[10:51:52] *** Joins: ocrete (~ocrete@23.88.108.134)
[10:51:53] *** Quits: ocrete (~ocrete@23.88.108.134) (Remote host closed the connection)
[10:52:35] *** Joins: ocrete (~ocrete@23.88.108.134)
[10:52:35] *** Quits: ocrete (~ocrete@23.88.108.134) (Read error: Connection reset by peer)
[10:53:33] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[10:53:40] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[11:03:56] *** Joins: ocrete (~ocrete@23.88.108.134)
[11:05:48] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[11:06:14] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[11:08:01] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[11:08:11] *** Joins: arbitercoin (~Rheanna@101.91.192.124)
[11:10:38] *** Joins: jkwnki (~jkwnki@p4ff31b54.dip0.t-ipconnect.de)
[11:19:22] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 265 seconds)
[11:19:41] *** Joins: softworkz (~softworkz@user/softworkz)
[11:20:43] *** Joins: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua)
[11:23:43] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 265 seconds)
[11:24:01] *** Quits: softworkz (~softworkz@user/softworkz) (Read error: Connection reset by peer)
[11:24:25] *** Joins: softworkz (~softworkz@user/softworkz)
[11:24:41] *** Quits: Huitzilopochtli (~ronnie@45.64.220.161) (Ping timeout: 264 seconds)
[11:37:52] *** Joins: mickey8 (~user@user/mickey)
[11:38:50] *** Quits: arbitercoin (~Rheanna@101.91.192.124) (Remote host closed the connection)
[11:40:50] *** Joins: arbitercoin (~Rheanna@101.89.207.55)
[11:42:09] *** Quits: mickey (~user@user/mickey) (Ping timeout: 276 seconds)
[11:42:10] *** mickey8 is now known as mickey
[11:46:26] <aphysically> huh when I copy video but not audio and time seek I end up with the audio out of sync (looks like file has positive start_time)
[11:49:01] <aphysically> looks like the timing is okay if I slowseek instead of fastseek
[11:51:51] <aphysically> I guess I can just always enable slow seeking when trying to copy the video stream
[11:52:17] *** Quits: MatrixTravelerbo (~voyagert2@2001:470:69fc:105::22) (Quit: Bridge terminating on SIGTERM)
[11:52:18] *** Quits: kepstin (~kepstin@user/kepstin) (Quit: Bridge terminating on SIGTERM)
[11:52:18] *** Quits: speakertomeat[m] (~speakerto@user/speakertomeat) (Quit: Bridge terminating on SIGTERM)
[11:52:18] *** Quits: msmith12[m] (~msmith12m@2001:470:69fc:105::bdfc) (Quit: Bridge terminating on SIGTERM)
[11:52:18] *** Quits: YakoYoku (~yakoyoku@2001:470:69fc:105::780) (Quit: Bridge terminating on SIGTERM)
[11:52:18] *** Quits: spanwysm[m] (~spanwysm@2001:470:69fc:105::e0a) (Quit: Bridge terminating on SIGTERM)
[11:52:18] *** Quits: volgar1x (~volgar1xm@2001:470:69fc:105::e61d) (Quit: Bridge terminating on SIGTERM)
[11:52:18] *** Quits: luc65r (~luc65r@2001:470:69fc:105::ee1) (Quit: Bridge terminating on SIGTERM)
[11:52:18] *** Quits: memst[m] (~memst@2001:470:69fc:105::716) (Quit: Bridge terminating on SIGTERM)
[11:52:19] *** Quits: idesmi[m] (~idesmitch@2001:470:69fc:105::f2b) (Quit: Bridge terminating on SIGTERM)
[11:52:27] *** Quits: singlerider[m] (~singlerid@2001:470:69fc:105::2fd2) (Quit: Bridge terminating on SIGTERM)
[11:52:28] *** Quits: igh4st[m] (~igh4stmat@2001:470:69fc:105::35ce) (Quit: Bridge terminating on SIGTERM)
[11:52:28] *** Quits: gnurou (~gnurou@2001:470:69fc:105::c23b) (Quit: Bridge terminating on SIGTERM)
[11:52:29] *** Quits: gonewest818[m] (~gonewest8@2001:470:69fc:105::f38b) (Quit: Bridge terminating on SIGTERM)
[11:52:29] *** Quits: yuu[m] (~yuumatrix@2001:470:69fc:105::8a6) (Quit: Bridge terminating on SIGTERM)
[11:52:29] *** Quits: sixecho (~sixecho@2001:470:69fc:105::32) (Quit: Bridge terminating on SIGTERM)
[11:52:32] *** Quits: EmanuelLoos[m] (~emanuel-l@2001:470:69fc:105::6260) (Quit: Bridge terminating on SIGTERM)
[11:52:33] *** Quits: ytg (~ytg@2001:470:69fc:105::3001) (Quit: Bridge terminating on SIGTERM)
[11:52:34] *** Quits: jemershaw[m] (~jemershaw@2001:470:69fc:105::b904) (Quit: Bridge terminating on SIGTERM)
[11:52:34] *** Quits: Helmholtz (~leibnizma@2001:470:69fc:105::3124) (Quit: Bridge terminating on SIGTERM)
[11:55:03] *** Joins: kepstin (~kepstin@user/kepstin)
[11:57:04] *** Joins: spanwysm[m] (~spanwysm@2001:470:69fc:105::e0a)
[11:57:04] *** Joins: MatrixTravelerbo (~voyagert2@2001:470:69fc:105::22)
[11:57:04] *** Joins: sixecho (~sixecho@2001:470:69fc:105::32)
[11:57:04] *** Joins: EmanuelLoos[m] (~emanuel-l@2001:470:69fc:105::6260)
[11:57:04] *** Joins: singlerider[m] (~singlerid@2001:470:69fc:105::2fd2)
[11:57:04] *** Joins: msmith12[m] (~msmith12m@2001:470:69fc:105::bdfc)
[11:57:04] *** Joins: Helmholtz (~leibnizma@2001:470:69fc:105::3124)
[11:57:04] *** Joins: YakoYoku (~yakoyoku@2001:470:69fc:105::780)
[11:57:04] *** Joins: volgar1x (~volgar1xm@2001:470:69fc:105::e61d)
[11:57:04] *** Joins: speakertomeat[m] (~speakerto@user/speakertomeat)
[11:57:05] *** Joins: yuu[m] (~yuumatrix@2001:470:69fc:105::8a6)
[11:57:16] *** Joins: igh4st[m] (~igh4stmat@2001:470:69fc:105::35ce)
[11:57:16] *** Joins: jemershaw[m] (~jemershaw@2001:470:69fc:105::b904)
[11:57:16] *** Joins: gonewest818[m] (~gonewest8@2001:470:69fc:105::f38b)
[11:57:17] *** Joins: memst[m] (~memst@2001:470:69fc:105::716)
[11:57:17] *** Joins: luc65r (~luc65r@2001:470:69fc:105::ee1)
[11:57:18] *** Joins: idesmi[m] (~idesmitch@2001:470:69fc:105::f2b)
[11:57:18] *** Joins: gnurou (~gnurou@2001:470:69fc:105::c23b)
[11:57:18] *** Joins: ytg (~ytg@2001:470:69fc:105::3001)
[12:22:43] *** Joins: aleek (~aleeksand@user-5-173-0-46.play-internet.pl)
[12:25:23] *** Joins: darkapex (~darkapex@user/darkapex)
[12:28:29] <aleek> hello! we are using ffmpeg to transcode live channels. We have a problem with couple of channels. I checked the input packets (mpegts), and it seems like there's a packet loss and out of ordering, like this: AAAAAAAAAABABABABABBBBBBBBBB. This results in incorrect output stream. I can see, that ffmpeg is conducting its internal clock with input video stream. Is there a way to set ffmpeg to create
[12:28:31] <aleek> output clock by itself, so it can recover from this?
[12:28:54] <aleek> I suspect that it could result in audio/video desync, bo we wanna try this anyway
[12:28:54] *** Quits: arbitercoin (~Rheanna@101.89.207.55) (Remote host closed the connection)
[12:30:32] *** Joins: arbitercoin (~Rheanna@101.91.232.94)
[12:45:05] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 264 seconds)
[13:07:41] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 252 seconds)
[13:10:36] *** Parts: anchovy (~anchovy@58.164.24.254) ()
[13:11:19] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[13:13:26] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 246 seconds)
[13:13:40] *** Joins: darkapex (~darkapex@user/darkapex)
[13:19:01] *** Quits: arbitercoin (~Rheanna@101.91.232.94) (Remote host closed the connection)
[13:20:23] *** Joins: darkapex_ (~darkapex@user/darkapex)
[13:21:05] *** Joins: arbitercoin (~Rheanna@101.91.193.123)
[13:24:04] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 252 seconds)
[13:27:58] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 252 seconds)
[13:32:10] *** Quits: JGod-P666-0 (~JGod-P666@87.72.62.74) (Quit: Connection closed)
[13:33:26] *** Joins: JGod-P666-46 (~JGod-P666@87.72.62.74)
[13:34:14] *** Quits: JGod-P666-46 (~JGod-P666@87.72.62.74) (Client Quit)
[13:34:27] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[13:34:33] *** Quits: JesusGod-Pope666 (~JesusGod-@87.72.62.74) (Quit: Connection closed)
[13:48:05] *** Quits: jkwnki (~jkwnki@p4ff31b54.dip0.t-ipconnect.de) (Ping timeout: 246 seconds)
[14:07:52] *** Joins: rsx (~dummy@ppp-188-174-134-72.dynamic.mnet-online.de)
[14:19:07] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 252 seconds)
[14:25:35] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[14:31:56] *** Joins: thebombzen (~thebombze@587232355.guest.umich.net)
[14:32:53] <roxlu> hey, now that I've got my VAAPI based filter working, I'm cleaning up my code a bit. I'm wondering about this usage of av_buffer_ref(): https://github.com/FFmpeg/FFmpeg/blob/release/4.4/fftools/ffmpeg_hw.c#L544  Why is it used here? And how do I know when/if I need to unref?
[14:39:06] *** Quits: witchcraft (~witch@user/witch) (Read error: Connection reset by peer)
[14:39:16] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 245 seconds)
[15:09:00] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[15:12:37] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[15:14:25] *** Joins: softworkz (~softworkz@user/softworkz)
[15:30:54] *** Quits: cmp49 (~cmp@lputeaux-658-1-177-87.w92-154.abo.wanadoo.fr) (Quit: Ping timeout (120 seconds))
[15:31:38] *** Joins: cmp51 (~cmp@lputeaux-658-1-177-87.w92-154.abo.wanadoo.fr)
[15:40:52] *** Joins: Retr0id1 (~Retr0id@user/retr0id)
[15:42:10] *** Quits: Retr0id (~Retr0id@user/retr0id) (Ping timeout: 265 seconds)
[15:42:10] *** Retr0id1 is now known as Retr0id
[15:43:12] *** Joins: jkwnki (~jkwnki@p4ff31b54.dip0.t-ipconnect.de)
[15:46:13] *** Quits: arbitercoin (~Rheanna@101.91.193.123) (Remote host closed the connection)
[15:46:58] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[15:57:42] *** Quits: softworkz (~softworkz@user/softworkz) (Remote host closed the connection)
[15:58:06] *** Joins: softworkz (~softworkz@user/softworkz)
[16:00:49] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[16:02:42] *** Quits: iconoclasthero (~quassel@pool-68-238-241-198.phlapa.fios.verizon.net) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[16:19:44] *** Joins: minimal (~minimal@user/minimal)
[16:27:01] *** Joins: PaulePanter (~paul@mail.gw90.de)
[16:27:37] <PaulePanter> Hi. We are trying to convert a video conference stream (BigBlueButton) and stream it with
[16:27:40] <PaulePanter> ffmpeg -hide_banner -nostats -f x11grab -draw_mouse 0 -framerate 24 -video_size {w}x{h} -i {display} -f alsa -ac 2 -i pulse -c:a aac -b:a 128k -ar 44100 -af aresample=async=1000 -c:v libx264 -pix_fmt yuv420p -crf 23 -profile:v baseline -preset:v veryfast -r 24 -f flv '{target}'
[16:27:56] <PaulePanter> Unfortunately, audio and video is often not in sync, and video lags a little behind.
[16:28:01] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 245 seconds)
[16:30:45] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[16:36:46] *** Quits: pntaylor (~quassel@2405:6e00:28d:71fa::4) (Ping timeout: 245 seconds)
[16:36:51] *** Joins: pntaylor_ (~quassel@101.113.230.249)
[16:40:50] *** Quits: sixecho (~sixecho@2001:470:69fc:105::32) (Ping timeout: 250 seconds)
[16:41:02] *** Quits: bpmedley (~bpmedley@69-174-155-1.bltnilaa.metronetinc.net) (Ping timeout: 268 seconds)
[16:55:16] *** Joins: furrymcgee (~devuan@cgn-213-196-210-161.nc.de)
[16:58:49] *** Quits: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua) (Read error: Connection reset by peer)
[16:59:02] *** Joins: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua)
[17:06:56] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 252 seconds)
[17:07:10] *** Joins: softworkz (~softworkz@user/softworkz)
[17:10:56] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[17:11:27] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[17:11:43] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[17:12:02] *** Quits: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3) (Remote host closed the connection)
[17:12:16] *** Joins: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3)
[17:15:31] <Hello71> are you converting it *to* bigbluebutton?
[17:15:46] <Hello71> why are you stuffing x264 in flv in 2021? flash player doesn't even work anymore
[17:15:46] *** Joins: sixecho (~sixecho@2001:470:69fc:105::32)
[17:16:12] <Hello71> if you are converting it *from* bigbluebutton then don't do some crappy screen grab, just download the stream directly
[17:18:43] <PaulePanter> Hello71: BBB does not support that to my knowledge.
[17:18:57] <Hello71> support what
[17:22:08] <PaulePanter> Hello71: To grab a stream. It only creates some files and has some internal Web player or so.
[17:22:44] <PaulePanter> Hello71: In this case, itâ€™s a headless Firefox which shows the HTML5 page (WebRTC) and then we grab it and try to convert it with the command above.
[17:23:02] <Hello71> if you just want to download a single clip it seems that you can just right click and save
[17:23:16] <Hello71> if you want with the slides and chat and whatnot then https://github.com/plugorgau/bbb-render seems to be suitable
[17:23:49] <Hello71> oh, you want it to be *live*
[17:24:05] <Hello71> sorry, i didn't understand correctly. you still shouldn't use flv but that explains where you copied it from
[17:24:10] <PaulePanter> Hello71: Yes. ;-) Sorry for the misunderstanding.
[17:24:22] <PaulePanter> Hello71: rtmp:// is used.
[17:26:19] <Hello71> you put -f flv
[17:26:43] *** Quits: unmanbearpig (~unmanbear@user/unmanbearpig) (Quit: unmanbearpig)
[17:27:12] *** Joins: unmanbearpig (~unmanbear@45.76.95.141)
[17:27:36] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 245 seconds)
[17:28:06] <Hello71> first, kmsgrab normally has better performance than x11grab
[17:28:26] *** Joins: softworkz (~softworkz@user/softworkz)
[17:28:32] *** Joins: cosimone` (~user@93-47-228-163.ip115.fastwebnet.it)
[17:28:51] *** Quits: arbitercoin (~Rheanna@101.91.240.201) (Remote host closed the connection)
[17:30:06] *** Quits: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3) (Ping timeout: 245 seconds)
[17:30:23] *** Joins: arbitercoin (~Rheanna@101.91.192.124)
[17:30:50] <Hello71> oh, right, it's flv because rtmp grumblegrumble
[17:33:38] <Hello71> i bet your problem can be solved by switching to kmsgrab and -f pulse
[17:37:47] <Hello71> iirc x11grab has no synchronization at all, it just copies out a frame roughly every 1/fps seconds
[17:42:07] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[17:44:27] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Quit: WeeChat 3.3)
[17:47:29] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Ping timeout: 264 seconds)
[17:51:42] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 265 seconds)
[17:52:36] *** Joins: softworkz (~softworkz@user/softworkz)
[17:57:29] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[17:57:52] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[18:01:06] *** Joins: MrZeus__ (~MrZeus@185.248.85.56)
[18:03:53] *** Quits: cosimone` (~user@93-47-228-163.ip115.fastwebnet.it) (Remote host closed the connection)
[18:04:13] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[18:15:24] *** Quits: Hello71 (~Hello71@wireguard/contributor/hello71) (Ping timeout: 276 seconds)
[18:15:56] *** Joins: Hello71 (~Hello71@wireguard/contributor/hello71)
[18:16:29] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[18:17:39] *** Joins: fannagoganna (uid110488@id-110488.tinside.irccloud.com)
[18:29:06] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[18:33:43] *** Quits: darkapex_ (~darkapex@user/darkapex) (Read error: Connection reset by peer)
[18:34:14] *** Joins: darkapex (~darkapex@user/darkapex)
[18:34:16] *** Quits: jkwnki (~jkwnki@p4ff31b54.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[18:41:31] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[18:46:58] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[18:50:47] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[18:51:42] *** Quits: Guest92 (~Guest92@192.140.221.130) (Ping timeout: 256 seconds)
[19:04:17] *** Joins: Guest92 (~Guest92@192.140.221.130)
[19:08:27] *** Joins: wavecommander (~wavecomma@142.163.117.221)
[19:24:46] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[19:27:58] *** Quits: Guest92 (~Guest92@192.140.221.130) (Ping timeout: 256 seconds)
[19:31:29] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[19:42:57] *** Joins: Guest92 (~Guest92@192.140.221.130)
[19:53:15] *** Quits: rsx (~dummy@ppp-188-174-134-72.dynamic.mnet-online.de) (Quit: rsx)
[19:54:57] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 265 seconds)
[19:55:13] *** Joins: softworkz (~softworkz@user/softworkz)
[20:01:49] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[20:03:25] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[20:07:11] *** Quits: InTheWings (~InTheWing@videolan/developer/inthewings) (Ping timeout: 245 seconds)
[20:10:00] *** Quits: mickey (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[20:10:20] *** Joins: mickey (~user@user/mickey)
[20:18:51] *** Quits: Keshl (~Purple@user/Keshl) (Read error: Connection reset by peer)
[20:19:13] *** Joins: Keshl (~Purple@user/Keshl)
[20:19:23] *** Joins: anotheruser (~user@192.121.82.27)
[20:21:48] *** Quits: Guest92 (~Guest92@192.140.221.130) (Quit: Client closed)
[20:22:16] *** Quits: demon__ (~user@192.121.82.27) (Ping timeout: 250 seconds)
[20:22:56] *** Joins: Narrat (~omnius@p200300df5f13e77906ea56fffe2e7cdc.dip0.t-ipconnect.de)
[20:35:06] *** Quits: nate_ (~natethegr@2600:1700:8c28:28c0:ecba:1d9d:47:b828) (Ping timeout: 245 seconds)
[20:35:54] *** Quits: rpthms (~rpthms@user/rpthms) (Remote host closed the connection)
[20:36:22] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[20:37:41] *** Joins: rpthms (~rpthms@user/rpthms)
[20:40:10] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[20:40:59] *** Joins: swimm3r (~pi@user/swimm3r)
[20:44:14] *** Joins: tar_xvf (~tar_xvf@c-76-116-112-52.hsd1.nj.comcast.net)
[20:44:27] <swimm3r> Hello. I am trying to convert a stream from an online radio (format mp3) and convert it to wav, and send the data to stdout (done that), but I do not know how to read the metadata of the stream when it is changed. The metadata is read only at the begining. Can anyone help me? Thanks.
[20:45:18] <JEEB> sounds like you want an API client since I'm pretty sure there was some side data or flag that happens when metadata gets updated
[20:45:36] <JEEB> ffmpeg.c is very static so probably not going to do that
[20:46:10] <tar_xvf> i don't know if or how you can do that with ffmpeg but you could periodically run ffprobe periodically to read the metadata
[20:47:38] *** Quits: softworkz (~softworkz@user/softworkz) (Remote host closed the connection)
[20:48:40] *** Joins: softworkz (~softworkz@user/softworkz)
[20:49:00] <swimm3r> JEEB, tar_xvf: thank you for your answers
[20:49:00] *** Quits: arbitercoin (~Rheanna@101.91.192.124) (Remote host closed the connection)
[20:50:28] *** Joins: arbitercoin (~Rheanna@101.91.193.123)
[20:52:30] <tar_xvf> Hello all, I'm wondering if it's possible to use the zoompan filter with video. All the examples I have tried just do the effect on the first frame as a screenshot, or in slow-motion
[20:54:03] <durandal_1707> yes, its possible
[20:54:34] <durandal_1707> following examples without understanding is like walking blind
[20:57:23] *** Quits: fannagoganna (uid110488@id-110488.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[21:01:04] <tar_xvf> lol, i just realized why it is on slow motion is because you have to set fps to the same fps as the video.
[21:01:07] <tar_xvf> thanks durandal_1707
[21:02:48] <Gaboradon> hello
[21:03:39] <Gaboradon> Is it normal for audio convertion to be off by the marked -ss -to time slices?
[21:04:06] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Read error: Connection reset by peer)
[21:04:53] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[21:07:07] <durandal_1707> off by how much?
[21:09:40] <Gaboradon> Because my AV1/OPUS MKV file (youtube) converted to audio codec pcm_s24le is not respecting the start field accurately, the extracted audio starts too early by 3 seconds and 2 frames (Davinci Resolve Timeline 30FPS, but video is 29.7)
[21:10:37] <Gaboradon> Well, actually, now that I said it, i didn't check if perhaps the video starts too late by same 3 s amount, audio is longer the video, thankfully AV Sync is okay and the -to end times are correct and match perfectly
[21:11:28] <Gaboradon> Video was converted from AV1 to H264, for some reason Davinci Resolve doesn't support AV1 in MKV (even tho it added MKV and AV1 support a while ago, i guess it's still WIP)
[21:13:15] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[21:13:36] <Gaboradon> Oh guys, sorry, I think ... the clip I'm converting/extracting from was separately copied by ffmpeg before
[21:14:38] <Gaboradon> So I made a -ss -to copy all streams in a separate step before, I can see in MPV player it starts at 3 seconds where the video starts, won't let me go below 3s where the audio starts
[21:15:51] <tar_xvf> sometimes using the -c copy option will not start and stop at the exact moment you intend, especially with video.
[21:16:39] <Gaboradon> I think I did separately, ffmpeg -i source.mp4 -ss -to -vcodec copy -acodec copy -f matroska out.mkv
[21:17:33] <tar_xvf> no, it is still the case.
[21:18:01] *** Quits: aleek (~aleeksand@user-5-173-0-46.play-internet.pl) (Ping timeout: 245 seconds)
[21:18:06] <tar_xvf> if it is possible, try running the same command that you did previously but instead of copy use a coden to re-encode the video, and see if there's any chance that alleviates things for you
[21:18:09] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[21:20:07] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 240 seconds)
[21:20:58] *** Joins: softworkz (~softworkz@user/softworkz)
[21:21:14] <aphysically> huh, I guess I can't enable slowseek always for copying video
[21:21:48] <aphysically> it seems to get stuck in a loop of cur_dts is invalid sometimes
[21:21:52] *** Quits: tar_xvf (~tar_xvf@c-76-116-112-52.hsd1.nj.comcast.net) (Quit: buh bye)
[21:23:33] *** Joins: tar_xvf (~tar_xvf@c-76-116-112-52.hsd1.nj.comcast.net)
[21:24:36] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.2)
[21:25:49] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 265 seconds)
[21:25:55] <aphysically> oh wait, I think it's just really slow to seek because i'm using -re, so if I specify -t before -i then it takes the full time
[21:26:18] <aphysically> huh, I don't know if there's a workaround for this?
[21:26:58] *** Joins: softworkz (~softworkz@user/softworkz)
[21:28:06] <aphysically> I think the root of this problem is the starttime-doesn't-work-with-mpegts problem
[21:29:29] *** Quits: tar_xvf (~tar_xvf@c-76-116-112-52.hsd1.nj.comcast.net) (Quit: buh bye)
[21:29:36] <aphysically> but if a stream is being copied I'm not sure what to do, it's complicated in general
[21:30:13] <aphysically> ideally mpegts could figure this out since then I could remove a lot of seeking code that fixes this for files that have streams with start_times set
[21:32:12] <aphysically> for now maybe I need code that always snaps video seek to nearest keyframe if the video stream is being copied?
[21:33:06] *** Joins: tar_xvf (~tar_xvf@c-76-116-112-52.hsd1.nj.comcast.net)
[21:33:38] *** Quits: tar_xvf (~tar_xvf@c-76-116-112-52.hsd1.nj.comcast.net) (Client Quit)
[21:34:01] *** Joins: aleek (~aleeksand@user-5-173-0-46.play-internet.pl)
[21:35:42] *** Joins: tar_xvf (~tar@c-76-116-112-52.hsd1.nj.comcast.net)
[21:36:26] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 252 seconds)
[21:36:51] *** Joins: softworkz (~softworkz@user/softworkz)
[21:37:28] <aphysically> noaccurate_seek works, I guess it's only enabled when it's an input option and not an output option
[21:37:39] <aphysically> well it's easy enough to enable manually
[21:37:47] *** Quits: tar_xvf (~tar@c-76-116-112-52.hsd1.nj.comcast.net) (Client Quit)
[21:38:31] *** Joins: tar_xvf (~tar@c-76-116-112-52.hsd1.nj.comcast.net)
[21:43:24] *** Quits: softworkz (~softworkz@user/softworkz) (Remote host closed the connection)
[21:43:43] *** Joins: softworkz (~softworkz@user/softworkz)
[21:44:59] *** Quits: tar_xvf (~tar@c-76-116-112-52.hsd1.nj.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[21:45:45] *** Joins: tar_xvf (~tar@c-76-116-112-52.hsd1.nj.comcast.net)
[21:47:21] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[21:52:50] *** Joins: a0z (~a0z@87.75.186.171)
[21:53:26] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 245 seconds)
[21:56:21] *** Joins: jkwnki (~jkwnki@p4ff31b54.dip0.t-ipconnect.de)
[21:57:38] <aphysically> I guess noaccurate_seek is only ever relevant for video (at least with aac and opus?)
[21:57:53] *** Joins: Flabb (~Flabb@89.169.42.92)
[22:02:23] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[22:03:40] *** Quits: tar_xvf (~tar@c-76-116-112-52.hsd1.nj.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:04:16] *** Joins: witchcraft (~witch@88-106-213-156.dynamic.dsl.as9105.com)
[22:04:16] *** Quits: witchcraft (~witch@88-106-213-156.dynamic.dsl.as9105.com) (Changing host)
[22:04:16] *** Joins: witchcraft (~witch@user/witch)
[22:04:19] *** Joins: tar_xvf (~tar@c-76-116-112-52.hsd1.nj.comcast.net)
[22:07:08] *** witchcraft is now known as ff
[22:07:09] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[22:07:14] *** ff is now known as ff`
[22:11:25] <aphysically> I guess I need to figure out how to adjust the time for progress monitoring if noaccurate_seek was used, probably ffmpeg outputs where it actually seeked to somewhere
[22:13:44] <aphysically> I don't know if there's an easy way to find out in advance where -noaccurate_seek will seek to in order to use with other stuff?
[22:14:48] *** Quits: Hello71 (~Hello71@wireguard/contributor/hello71) (Remote host closed the connection)
[22:16:23] *** Quits: wavecommander (~wavecomma@142.163.117.221) (Quit: Connection closed)
[22:18:00] *** Quits: Narrat (~omnius@p200300df5f13e77906ea56fffe2e7cdc.dip0.t-ipconnect.de) (Quit: They say a little knowledge is a dangerous thing, but it's not one half so bad as a lot of ignorance.)
[22:18:16] *** Joins: Hello71 (~Hello71@wireguard/contributor/hello71)
[22:21:15] *** Quits: Flabb (~Flabb@89.169.42.92) (Quit: Leaving)
[22:25:57] <aphysically> I guess it's not a big deal since this is only used for printed output anyway
[22:29:11] *** Quits: arbitercoin (~Rheanna@101.91.193.123) (Remote host closed the connection)
[22:30:55] *** Joins: arbitercoin (~Rheanna@101.91.232.94)
[22:32:59] *** Quits: furrymcgee (~devuan@cgn-213-196-210-161.nc.de) (Remote host closed the connection)
[22:48:06] *** Joins: andai (~andai@ip26-92-214-87.adsl2.static.versatel.nl)
[22:49:16] <andai> hi, i'm trying to loop a video seamlessly. The source has a tiny delay at the end (tried removing it from the source but it keeps being reinserted?), so I'm wondering if i can use -t to specify the source video duration instead of just the looped duration?
[22:49:30] <andai> ffmpeg -stream_loop -1 -i tornado_sirens_crossfaded_cut.mp4 -t 3600 -c copy hour.mp4
[22:52:12] *** Quits: Jan\ (~kvirc@104.204.200.116) (Ping timeout: 250 seconds)
[22:52:23] <tar_xvf> using -c copy (-c:v copy) will not work for that. you will need to re-encode
[22:52:39] <tar_xvf> Also, there's a video filter called loop that would be better suited for your purpose, let me read up on it
[22:53:05] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[22:53:07] <tar_xvf> https://www.ffmpeg.org/ffmpeg-filters.html#loop you can find it here andai
[22:53:43] <tar_xvf> note this is for the video only, there's another filter called aloop for audio
[22:55:09] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[22:55:33] *** Parts: slackbot (~RogerBell@108.180.67.193) (The Lounge - https://thelounge.chat)
[22:56:08] *** Joins: Buster_ (~Buster@46.160.36.66)
[22:57:35] <andai> ah, so i find out at which frame of the video the audio stream ends (for some reason the video ends up slightly longer than the audio) and loop based on that?
[22:57:54] *** Joins: Jan\ (~kvirc@198.12.68.162)
[23:00:33] *** Joins: arcatech (~arcatech@user/arcatech)
[23:02:12] <andai> say, you wouldn't happen to know a convenient way to find the right number of frames and audio samples based on time?
[23:07:21] <andai> ahh, you were right the loop filter cannot be used with copy codec, that is a shame. In that case i might as well just do it in a video editor
[23:07:30] <andai> (It will take ten hours to render)
[23:08:15] <tar_xvf> andai if you are gonna try with ffmpeg further, i would suggest re-encode the video with the following filter: `-vf "drawtext=fontfile=Arial.ttf: text='%{frame_num}': start_number=0: x=(w-tw)/2: y=h-(2*lh): fontcolor=black: fontsize=20: box=1: boxcolor=white: boxborderw=5"`, so that you can see the frame-number, for the loop command
[23:10:51] <andai> oh thank you :)  that is very useful knowledge
[23:13:21] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[23:18:48] <tar_xvf> I'm wondering if anyone else has problems using ffmpeg on macos, and streaming via flv format to an endpoint (like youtube rmtp) while using videotoolbox inputs (such as from the webcam, or internal microphone). For me it always has stutters in the audio and desyncs the video and audio. unfortunately I do not know how to do a lot of debugging for this
[23:18:48] *** Quits: arbitercoin (~Rheanna@101.91.232.94) (Remote host closed the connection)
[23:21:33] *** Joins: arbitercoin (~Rheanna@101.89.207.55)
[23:25:34] <andai> looks like the gap at the end of the audio stream is created by the aac encoder, it goes away when i specify -c:a pcm_s16le
[23:25:40] <andai> very promising
[23:29:40] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Ping timeout: 252 seconds)
[23:38:00] *** Joins: tofran (~tofran@37.189.158.134)
[23:38:59] *** Quits: Ronalds_Mazitis_ (~Ronalds_M@46.109.76.104) (Quit: Connection closed)
[23:40:11] *** Quits: nillyhan (~c0a80067@user/nillyhan) (Ping timeout: 265 seconds)
[23:43:26] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 245 seconds)
[23:47:11] *** Quits: rhys (~rhys@mill.in.net) (Quit: See you later alligator)
[23:47:11] *** Rhvs is now known as Rhys
[23:47:56] *** Joins: rhys- (~rhys@mill.in.net)
[23:50:31] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 245 seconds)
[23:52:47] *** Joins: softworkz (~softworkz@user/softworkz)
[23:53:36] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[23:58:01] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 245 seconds)
