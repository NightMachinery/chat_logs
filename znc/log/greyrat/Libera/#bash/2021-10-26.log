[00:07:15] *** Quits: jdltouraine_ (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[00:11:51] *** Joins: p3hz (~p3hz@96.44.142.75.adsl.inet-telecom.org)
[00:16:38] *** Quits: Inline (~Inline@2a02:908:1252:7a80:89dc:6a58:9f2a:ff3d) (Remote host closed the connection)
[00:17:37] *** Joins: Alxlight (~Alxlight@user/alxlight)
[00:17:37] *** Joins: Inline (~Inline@2a02:908:1252:7a80:aa94:ac75:d11d:97b0)
[00:20:09] <Friithian> someone I'm sorta helping is trying to send mail via curl with attachments and wants to try it before using something like, idk, GNU mail or sendmail or any actual thing built to work with mail
[00:20:39] <greycat> #curl sounds like a good place to ask about sending mail with curl
[00:21:27] <Filystyn> cmail
[00:22:50] <Friithian> never used it but it'd be better than just curl
[00:26:10] *** Quits: Filystyn (~piotr@user/filystyn) (Quit: Lost terminal)
[00:28:13] *** Quits: Alxlight (~Alxlight@user/alxlight) (Quit: Leaving)
[00:28:53] *** Joins: FIlystyn (~piotr@user/filystyn)
[00:29:56] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[00:30:33] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[00:35:14] *** Quits: FIlystyn (~piotr@user/filystyn) (Quit: leaving)
[00:40:19] *** Parts: bancroft (~bancroft@bras-base-mtrlpq02hsy-grc-06-174-93-254-50.dsl.bell.ca) (WeeChat 3.2)
[00:41:57] <ormaaj> (see also: mailx)
[00:43:02] <greycat> But that wouldn't be challenging enough!
[00:43:26] <greycat> Clearly you've gotta send mail with a goddamned CLI web client or you just aren't cool.
[00:43:55] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Quit: leaving)
[00:43:56] <Friithian> I suggested sendmail, mail, and mailx, everything I could think of that wasn't curl and could send emails
[00:44:39] *** Joins: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za)
[00:46:24] <ormaaj> Apparently curl does know something about SMTP. You'll have to upgrade to socat for a challenge.
[00:47:35] *** Quits: brelod (~me@90.244.150.142) (Quit: leaving)
[00:48:03] *** Joins: artemon` (~user@p200300d627133a0014e18db83b9d37df.dip0.t-ipconnect.de)
[00:48:38] <Friithian> I have sent mail via telnet
[00:49:02] <Friithian> but that was because I was testing things
[00:49:04] <greycat> Sure, most real mail admins have done that, for testing purposes if nothing else.
[00:51:08] *** Joins: furrymcgee (~devuan@cgn-89-1-210-103.nc.de)
[00:52:40] <ormaaj> Never tried mail. I did IRC once. Lots of PONG.
[00:55:23] *** Quits: aniruddha (uid340443@id-340443.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[00:59:57] *** Quits: artemon` (~user@p200300d627133a0014e18db83b9d37df.dip0.t-ipconnect.de) (Quit: ERC (IRC client for Emacs 27.2))
[01:02:00] <phogg> mail via telnet is harder to do these days (too much handshaking)
[01:04:21] <ormaaj> I would suspect getting DKIM / DANE / SFP / whatever else that isn't just passively workIng through DNS might be tricky.
[01:05:53] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[01:06:43] *** Quits: motherr (~motherr@user/motherr) (Quit: zzz)
[01:09:29] <ormaaj> s/sfp/spf/ ...That one's pretty automatic.
[01:10:47] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 260 seconds)
[01:11:10] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[01:13:42] *** Quits: tex (~super@user/dix) (Ping timeout: 244 seconds)
[01:13:51] *** Quits: cparker (~cparker@c-76-127-239-113.hsd1.ma.comcast.net) (Ping timeout: 256 seconds)
[01:15:21] *** Joins: nitro_ (~nitro@c-73-165-183-88.hsd1.pa.comcast.net)
[01:23:20] <Friithian> ormaaj: well the whole point is I wanted DKIM and SFP to fail
[01:29:06] *** Joins: rcernin (~rcernin@124.190.139.235)
[01:31:04] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[01:32:04] *** Quits: dlss^ (~dlss@wsip-68-227-92-38.mc.at.cox.net) (Remote host closed the connection)
[01:32:19] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 244 seconds)
[01:33:18] <twkm> dkim failure can be simulated via providing no signature.
[01:35:04] *** Joins: kj (~kj@kj.aerisnetwork.net)
[01:36:55] *** Quits: SuperLag (~akulbe@user/superlag) (Ping timeout: 260 seconds)
[01:38:17] *** Joins: mr-red (~drd@93-42-69-115.ip85.fastwebnet.it)
[01:38:26] *** Quits: davidl (~quassel@217-64-148-119.pool.ovpn.com) (Ping timeout: 245 seconds)
[01:38:26] *** Joins: SuperLag (~akulbe@user/superlag)
[01:38:40] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:c147:ffa9:831e:1edb) (Read error: Connection reset by peer)
[01:38:47] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[01:39:08] *** Joins: davidl (~quassel@217-64-148-107.pool.ovpn.com)
[01:39:43] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 260 seconds)
[01:40:40] *** Joins: Crescendo (~Crescendo@user/crescendo)
[01:40:42] *** Quits: nitro_ (~nitro@c-73-165-183-88.hsd1.pa.comcast.net) (Read error: Connection reset by peer)
[01:41:02] *** Joins: nitro_ (~nitro@c-73-165-183-88.hsd1.pa.comcast.net)
[01:42:44] *** Joins: jaggz (~jaggz@user/jaggz)
[01:42:59] *** Quits: mr-red (~drd@93-42-69-115.ip85.fastwebnet.it) (Ping timeout: 260 seconds)
[01:43:13] <jaggz> https://paste.debian.net/1216873/
[01:43:31] <jaggz> how do I get my h2m function callable from $(h2m ...) ?
[01:44:09] <greycat> # h2m() { echo h2m; }; x=$(h2m args here); echo "<$x>"
[01:44:11] <shbot> greycat: <h2m>
[01:44:22] *** Quits: karstensrage (~karstensr@nibbler.warped.com) (Changing host)
[01:44:22] *** Joins: karstensrage (~karstensr@user/karstensrage)
[01:45:22] <jaggz> hrm.. is there some other problem in my script?  I'm getting: (standard_in) 1: syntax error
[01:45:33] <jaggz> maybe that's bc unhappy
[01:45:52] <greycat> # echo ' * 3' | bc
[01:45:55] <shbot> greycat: (standard_in) 1: syntax error
[01:46:02] <jaggz> that was it.. it's bc
[01:46:05] <geirha> bc is unhappy that you didn't provide a newline
[01:46:08] <jaggz> works with a \n I think
[01:46:14] <jaggz> heh
[01:46:18] <geirha> printf '60 * 60 * %s\n' "$1" | bc
[01:46:36] *** Quits: rgrinberg (~textual@ip152-195-159-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[01:46:37] <geirha> also avoid injecting data into printf's format string
[01:46:48] *** Quits: rufito (~phil@181.42.48.73) (Quit: Leaving)
[01:47:36] *** Quits: zeraphel (~daddy@2a00:a040:196:56d:96de:80ff:fefa:44a) (Ping timeout: 245 seconds)
[01:48:06] *** Joins: juhop (~anon@192.3.81.147)
[01:48:08] <jaggz> oh good call, thanks
[01:48:08] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[01:48:11] <jaggz> # echo 'scale=0; 5*.33' | bc
[01:48:13] <shbot> jaggz: 1.65
[01:48:24] <jaggz> i wonder why bc's ignoring my scale.
[01:48:38] *** Quits: pa_ (~smuxi@86-95-132-61.fixed.kpn.net) (Remote host closed the connection)
[01:48:41] <greycat> Do NOT use bc's scale to truncate or round the final result.
[01:48:48] *** Joins: zeraphel (~daddy@2a00:a040:196:56d:96de:80ff:fefa:44a)
[01:49:00] <greycat> If you care about that, you really want awk instead of bc, so you can use awk's printf to round the answer.
[01:49:52] *** Quits: csm3105 (~csm3105@static-26-27-230-77.ipcom.comunitel.net) (Ping timeout: 244 seconds)
[01:50:42] <Friithian> twkm: I was spoofing mail from a domain in order to make sure my milter was working correctly
[01:51:17] <greycat> https://lists.gnu.org/archive/html/help-bash/2021-09/msg00103.html
[01:51:56] *** Quits: juhop (~anon@192.3.81.147) (Client Quit)
[01:52:18] <greycat> !forget bcscale
[01:52:19] <greybot> OK, greycat
[01:52:20] <greycat> !learn bcscale # echo "scale=1; e(1.4*l(500))" | bc -l ; echo "scale=5; e(1.4*l(500))" | bc -l ## Never use a small scale= in bc. If you want to round the result, let printf do it instead. See <https://lists.gnu.org/archive/html/help-bash/2021-09/msg00103.html>
[01:52:20] <greybot> OK, greycat
[01:54:30] <jaggz> okay, I made a ~/bin/round function
[01:54:34] *** Joins: juhop (~anon@192.3.81.147)
[01:54:38] <jaggz> uh.. script
[01:55:19] <twkm> Friithian: failure to validate a signature means ignoring it.
[01:55:44] <greycat> # printf %.3f\\n "$(bc -l <<< '1/19')"
[01:55:45] <shbot> greycat: 0.053
[01:55:51] <greycat> You don't need a whole script.
[01:55:58] <jaggz> it's handy
[01:56:14] <jaggz> currently it accepts an arg, or will take from stdin
[01:56:34] <twkm> the dmarc might say that you shouldn't accept signature-less messages, which includes signature validation failures.
[01:56:57] <jaggz> although I useless use cat
[01:57:21] <jaggz> https://paste.debian.net/1216877/
[01:57:46] <Friithian> twkm: that was the point, I was having issues with postfix correctly denying the mail
[01:58:15] <jaggz> oh, actually, I just removed cat.. it's worse than useless use
[01:58:16] <Friithian> well, still having, it is still accepting mail which fails but the domain doens't have reject policy
[01:58:26] *** Joins: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66)
[01:58:27] <jaggz> anyway.. done
[01:58:27] <twkm> so no signature needed, just dmarc.
[01:58:32] <jaggz> danke
[01:59:51] <jaggz> there.. now I have my alarm-sleep script so I can just type "alarm-sleep 3.5"
[02:00:11] <jaggz> it'll delay 3.5 hours then play a guitar chord twice, every 5m
[02:00:38] <jaggz> play -n synth pl G2 pl B2 pl D3 pl G3 pl D4 pl G4  delay 0 .05 .1 .15 .2 .25 remix - fade 0 4 .1 norm -1
[02:00:43] <greycat> sleep "$1"h; while true; do play sound.wav; sleep 5m; done
[02:01:08] <jaggz> I did not know that!
[02:01:10] <jaggz> thanks :)
[02:01:29] <greycat> GNU sleep accepts arguments with unit suffix.  It's not portable.
[02:01:32] *** Quits: jess (~jess@libera/staff/jess) ()
[02:01:49] <jaggz> it's ok cuz my linux desktop is not portable. haw haw.
[02:03:13] <akoana> jaggz: I think you can even use   sleep 3h 30m   with GNU sleep
[02:04:00] <akoana> or  sleep 3.5h
[02:04:16] *** Quits: hyrcanus (~hyrcanus@p57bbe46a.dip0.t-ipconnect.de) (Quit: Lost terminal)
[02:04:34] <jaggz> kewl
[02:04:41] <jaggz> i'm testing sleep 1m 1m right now
[02:05:08] *** Joins: hyrcanus (~hyrcanus@p57bbe46a.dip0.t-ipconnect.de)
[02:05:38] *** Joins: prifici (~patri@user/prifici)
[02:05:43] <akoana> try   date ; sleep 0.1s ; date  # faster ;)
[02:05:53] <jaggz> that's an eaiser test if I do 5s 5s :)
[02:06:01] <akoana> sorry, meant  date ; sleep 0.1m ; date
[02:06:01] <jaggz> yeah
[02:06:12] <jaggz> well, time sleep 2s 3s
[02:06:12] <akoana> (should be 6 seconds)
[02:06:19] <jaggz> we have time now :)
[02:06:24] <akoana> hehe, yes
[02:06:34] <jaggz> such a beautiful world
[02:06:51] <jaggz> as I fall behind in blender knowledge: [off topic] https://www.youtube.com/watch?v=UqRVxosrnGc
[02:07:40] *** Quits: YaoNai (~YaoNai@user/yaonai) (Quit: leaving)
[02:07:49] <e36freak> but will it blend?
[02:08:59] <jaggz> like a frog
[02:09:22] <e36freak> frogs should blend pretty well
[02:10:03] *** Quits: horribleprogram (~user@user/horribleprogram) (Read error: Connection reset by peer)
[02:10:11] <jaggz> and easier to swallow than geometry nodes
[02:10:20] <jaggz> i think a spider just crawled down my back
[02:11:07] <akoana> that's a side effect as time goes by
[02:11:16] <jaggz> ugh.. it was..
[02:11:25] <jaggz> i rubbed/rolled back and forth
[02:11:36] <jaggz> couldn't find it.. then saw it crawling up the wall
[02:11:39] <jaggz> anyway.. ugh..
[02:12:51] *** Quits: hyrcanus (~hyrcanus@p57bbe46a.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[02:13:52] <akoana> a pity that chance is gone, you could have been right in the center of your own web :)
[02:13:53] <vanfanel64> jaggz, hopefully it did not make it to your butt
[02:14:07] <jaggz> what the heck.. I just listened to a test run of a neural net I was working on last month, that I uploaded.. I just randomly tested while my family had the tv on in the other room, and I was training it from its mic.. https://www.youtube.com/watch?v=YsRfDFyZd5A
[02:14:11] <vanfanel64> Oh it went up the wall
[02:14:50] <jaggz> that's quite an awkward recording, giving an odd impression of me, to publish on my yt channel :/
[02:15:25] <jaggz> I'm sure I listened to it before uploading it too, but don't recall it being *that* weird.
[02:15:25] *** Joins: hyrcanus (~hyrcanus@p57bbe46a.dip0.t-ipconnect.de)
[02:19:00] *** Joins: motherr (~motherr@user/motherr)
[02:19:05] *** Quits: DeaDSouL (~DeaDSouL@194.195.91.4) (Ping timeout: 260 seconds)
[02:20:44] *** Joins: DeaDSouL (~DeaDSouL@45.86.203.25)
[02:21:27] <jaggz> (the network's actually designed to handle a bunch of sound classifications, like coughing, different individuals talking, time when patient is eating food, etc.)
[02:22:18] <jaggz> but I simplified the classes (categories), for the time being, to just get its initial purpose done: Listen for patient, repeat what they say a bit louder and slowed down for their mother to understand them better
[02:22:30] <jaggz> so, way off topic.. will stop now.  and nap.
[02:22:56] *** Joins: arinov (~arinov@213.194.126.155)
[02:33:09] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[02:34:34] *** Joins: rairden (~rairden@2603:9000:de04:9613::1a20)
[02:36:39] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 260 seconds)
[02:37:14] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[02:42:50] *** Quits: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za) (Ping timeout: 265 seconds)
[02:43:25] *** Quits: joo-_ (~joo-_@fsf/member/joo--) (Ping timeout: 252 seconds)
[02:43:54] *** Quits: joo-__ (~joo-_@fsf/member/joo--) (Ping timeout: 258 seconds)
[02:44:08] *** Quits: joo-___ (~joo-_@fsf/member/joo--) (Ping timeout: 244 seconds)
[02:45:24] *** Joins: joo-_ (~joo-_@87-49-146-56-mobile.dk.customer.tdc.net)
[02:45:24] *** Quits: joo-_ (~joo-_@87-49-146-56-mobile.dk.customer.tdc.net) (Changing host)
[02:45:24] *** Joins: joo-_ (~joo-_@fsf/member/joo--)
[02:45:29] *** Joins: joo-__ (~joo-_@87-49-146-56-mobile.dk.customer.tdc.net)
[02:45:29] *** Quits: joo-__ (~joo-_@87-49-146-56-mobile.dk.customer.tdc.net) (Changing host)
[02:45:29] *** Joins: joo-__ (~joo-_@fsf/member/joo--)
[02:45:58] *** Joins: joo-___ (~joo-_@fsf/member/joo--)
[02:46:23] *** Quits: The_Jag (~The_Jag@host-79-13-46-237.retail.telecomitalia.it) (Quit: The_Jag)
[02:46:46] *** Quits: zebrag (~chris@user/zebrag) (Ping timeout: 245 seconds)
[02:49:43] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[02:54:11] *** Joins: igemnace (~ian@user/igemnace)
[02:55:13] *** Quits: graudre (~graudre@2607:fea8:560:7f20:642f:259d:2306:4605) (Quit: graudre)
[03:00:54] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[03:03:37] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 265 seconds)
[03:09:33] *** Joins: zeden (~zeden@user/zeden)
[03:14:19] *** Joins: docmax_ (~docmax@dynamic-095-116-093-020.95.116.pool.telefonica.de)
[03:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:15:09] *** Joins: The_Jag (~The_Jag@host-79-13-46-237.retail.telecomitalia.it)
[03:15:38] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:16:52] *** Quits: docmax (~docmax@dynamic-077-008-104-064.77.8.pool.telefonica.de) (Ping timeout: 258 seconds)
[03:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:21:19] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Read error: Connection reset by peer)
[03:21:27] *** Joins: kurahaupo_ (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[03:23:40] *** Joins: jonthesnow (~xizhendu@240e:404:8510:f62f:dadc::30c0)
[03:26:30] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 244 seconds)
[03:27:40] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[03:28:18] *** Joins: rgrinberg (~textual@ip152-195-159-186.ct.co.cr)
[03:29:43] *** Quits: voices (~voices_@84.238.197.28) (Remote host closed the connection)
[03:30:06] *** Quits: deadk (edk@libera/staff/edk) (Read error: Connection reset by peer)
[03:31:41] *** Joins: edk (edk@libera/staff/edk)
[03:32:40] *** edk is now known as deadk
[03:34:43] *** Joins: voices (~voices_@84.238.197.28)
[03:38:59] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Remote host closed the connection)
[03:40:43] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[03:41:14] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Remote host closed the connection)
[03:41:21] *** Quits: BSaboia (~bsaboia@177.37.198.218) (Quit: This computer has gone to sleep)
[03:41:31] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[03:45:55] *** Quits: thebombzen_ (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[03:46:11] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[03:47:02] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[03:47:41] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 244 seconds)
[03:48:15] *** Quits: motherr (~motherr@user/motherr) (Quit: zzz)
[03:48:22] *** Lord_of_Life_ is now known as Lord_of_Life
[03:51:46] *** Joins: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za)
[03:52:52] *** Quits: Anton (anton@tloks.com) (Quit: Anton)
[03:54:04] *** Joins: Anton (anton@tloks.com)
[03:54:45] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 260 seconds)
[03:57:29] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 244 seconds)
[03:58:17] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:59:37] *** Quits: superboot (~agentgasm@user/superboot) (Quit: leaving)
[04:02:06] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[04:04:35] *** Quits: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net) (Ping timeout: 264 seconds)
[04:08:35] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 260 seconds)
[04:10:44] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:15:07] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 260 seconds)
[04:15:54] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:16:12] *** Quits: voices (~voices_@84.238.197.28) ()
[04:16:54] *** Joins: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft)
[04:22:40] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[04:23:40] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:24:05] *** Quits: Delf (Delf@user/delf) (Ping timeout: 264 seconds)
[04:26:15] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[04:26:26] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:28:16] *** Joins: A|an (~Alan@173.216.51.200)
[04:30:41] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:31:06] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 265 seconds)
[04:31:55] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:34:31] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[04:34:42] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[04:34:50] *** Joins: vlm (~vlm@user/vlm)
[04:36:33] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[04:37:19] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[04:38:35] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[04:41:01] *** Quits: Anton (anton@tloks.com) (Quit: Anton)
[04:41:10] *** Joins: Anton (anton@tloks.com)
[04:44:23] *** Joins: ferdna (~ferdna@user/ferdna)
[04:48:25] *** Joins: Delf (Delf@user/delf)
[04:49:20] *** Joins: BSaboia (~bsaboia@177.37.198.218)
[04:56:49] *** Joins: prifici_ (~patri@user/prifici)
[04:57:26] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[04:57:31] *** Parts: pragma- (~chaos@user/pragmatic-chaos) (Bye!)
[04:58:57] *** Joins: The_Jag_ (~The_Jag@host-87-19-40-26.retail.telecomitalia.it)
[05:00:51] *** Quits: prifici (~patri@user/prifici) (Ping timeout: 260 seconds)
[05:01:33] *** Quits: The_Jag (~The_Jag@host-79-13-46-237.retail.telecomitalia.it) (Ping timeout: 265 seconds)
[05:02:20] *** Parts: jaggz (~jaggz@user/jaggz) (Leaving)
[05:03:39] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[05:06:11] *** Quits: lq (~lq@2400:dd02:100b:8001:ed7b:9c13:6128:2057) (Remote host closed the connection)
[05:08:12] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[05:11:05] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[05:16:35] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Remote host closed the connection)
[05:17:12] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[05:19:46] *** Quits: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za) (Remote host closed the connection)
[05:21:58] <mcint> almost asked, but i figured out how to join a bash array with IFS char. Nice way to append and prepend many paths at once
[05:22:08] <mcint> # declare -ap A=(1 2 3); IFS=/; echo "${A[*]}";
[05:22:10] <shbot> mcint: declare -a A=([0]="1" [1]="2" [2]="3")
[05:22:10] <shbot> mcint: 1/2/3
[05:22:49] *** Quits: mags (~mags@097-090-237-145.res.spectrum.com) (Ping timeout: 265 seconds)
[05:24:18] *** Joins: mags (~mags@097-090-237-145.res.spectrum.com)
[05:25:33] <greycat> !join
[05:25:34] <greybot> You can "join" an array (write it with a single character of your choice between elements) using: IFS='|'; echo "${array[*]}"; unset IFS
[05:26:21] <greycat> You can avoid needing to save/unset IFS afterward by wrapping it in a function where IFS is local.
[05:26:34] <jetchisel> or use a subshell
[05:27:16] <greycat> (ewww)
[05:27:54] *** Quits: cluelessperson (~cluelessp@user/cluelessperson) (Quit: ZNC - https://znc.in)
[05:28:00] <jetchisel> yeah, that is a subshell ^^
[05:28:32] *** Joins: cluelessperson (~cluelessp@user/cluelessperson)
[05:29:45] <Blondie101010> no
[05:29:50] *** Quits: mags (~mags@097-090-237-145.res.spectrum.com) (Ping timeout: 260 seconds)
[05:30:05] <Blondie101010> or actually, is it?
[05:31:07] *** Joins: mags (~mags@097-090-237-145.res.spectrum.com)
[05:31:22] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[05:31:30] *** Joins: Crescendo (~Crescendo@user/crescendo)
[05:33:31] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Ping timeout: 260 seconds)
[05:33:54] *** Joins: xizhendu_ (~xizhendu@36.112.178.189)
[05:34:14] <Blondie101010> just did a quick test and I don't see a new process
[05:34:22] <greycat> !$$
[05:34:22] <greybot> $$ expands to the PID of the shell. In a ( ) subshell, it expands to the process ID of the original shell, not the subshell. (Bash 4.0 and above have BASHPID for that.)
[05:34:36] <greycat> !subshell
[05:34:36] <greybot> http://mywiki.wooledge.org/SubShell
[05:35:24] *** Joins: igemnace (~ian@user/igemnace)
[05:35:46] <Blondie101010> that's not how I checked
[05:36:23] *** Quits: jonthesnow (~xizhendu@240e:404:8510:f62f:dadc::30c0) (Ping timeout: 264 seconds)
[05:36:26] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[05:36:59] <greycat> # echo "Main: $BASHPID"; (echo "Subshell: $BASHPID")
[05:37:00] <shbot> greycat: Main: 44
[05:37:01] <shbot> greycat: Subshell: 51
[05:37:30] <quazimodo> question
[05:38:15] <quazimodo> how do I match (, ), [ or ] in a regex like `if [[ "$mystring" =~ ^<in here>$ ]]; then`
[05:38:26] <quazimodo> i can match { & } easily using [\{\}]
[05:38:39] <quazimodo> i can match { & } easily using [\{\}\[\]] appears not to work
[05:38:45] <quazimodo> similarly for [\(\)]
[05:39:04] <quazimodo> actually ignore the \(\)
[05:39:50] <greycat> You don't need a regex for this.  You can use a simple glob.
[05:39:59] *** Joins: n4dir (~user@i577BC928.versanet.de)
[05:40:16] <greycat> if [[ $mystring = []()] ]]; then ...
[05:40:31] <greycat> oh wait, you wanted the left [ also
[05:40:53] <greycat> if [[ $mystring = [][()] ]]; then ...  # I think
[05:41:18] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[05:41:20] <quazimodo> greycat: actually my real regex is this
[05:41:24] <greycat> AJshdfjkashdkhaskjldhjklasd
[05:41:27] <quazimodo> subject_re="[a-z0-9\ \.\"\`'-_\!\@\#\$\%\^\&\*\{\}\(\)]+[^\.]"
[05:41:34] *** Joins: seninha (~seninha@user/seninha)
[05:41:39] * greycat goes back to other things
[05:41:45] <quazimodo> apparently you can't drop \[, \\[ in there
[05:42:24] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[05:43:40] <quazimodo> fixed it
[05:43:44] <quazimodo> holy cow bash is weird
[05:43:46] <quazimodo> subject_re="[][a-z0-9\ \.\"\`'-_\!\@\#\$\%\^\&\*\{\}\(\)]+[^\.]"
[05:45:27] <jcbjoe2021> Iâ€™m trying to find all .patch files and cp them to a directory. Is it find . -type f -iname â€˜*.patchâ€™ -exec cp directory {} \; ?
[05:45:44] <jetchisel> [()[]]!find > jcbjoe2021
[05:45:49] <jetchisel> woops ^^
[05:45:53] <jetchisel> !find > jcbjoe2021
[05:45:53] <greybot> jcbjoe2021: http://mywiki.wooledge.org/UsingFind
[05:46:41] <jetchisel> -exec sh -c 'cp -- "$@" /destination' _ {} +
[05:47:28] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 265 seconds)
[05:49:11] *** Quits: R035N3R (~phobos@user/r035n3r) (Remote host closed the connection)
[05:51:07] <jcbjoe2021> Hmm
[05:51:39] <jcbjoe2021> Iâ€™m new what does cp â€” â€œ$@â€œ do ?
[05:51:45] <jcbjoe2021> Noob*
[05:51:57] <jetchisel> !$@
[05:51:58] <greybot> The difference between $@ and $*: "$@" (quoted) expands to each positional parameter as its own argument: "$1" "$2" ... while "$*" expands to the single argument "$1c$2c..." where c is the first character of IFS. You almost always want "$@". The same goes for arrays: "${array[@]}" or "${array[*]}". Unquoted $* and $@ are undefined; DO NOT use.
[05:52:43] <jetchisel> add an echo before the cp,
[05:52:47] <jetchisel> -exec sh -c 'echo cp -- "$@" /destination' _ {} +
[05:53:02] <jcbjoe2021> Ok
[05:56:33] <greycat> jcbjoe2021: either your IRC client, or something else, replaced what I'm guessing was two hyphens -- with a UTF-8 dash of some kind.  You'll want to turn that off in programming channels if you can.
[05:58:29] <greycat> It also turned what should have been ordinary ASCII quotes "..." into UTF-8 curly quotes.  Again, programming languages do NOT play well with that crap.
[05:59:30] *** Quits: makara (~makara@196.214.171.83) (Ping timeout: 260 seconds)
[05:59:47] *** Quits: makara1 (~makara@196.214.171.83) (Ping timeout: 258 seconds)
[06:00:52] *** Quits: jos1 (~jos3@dyndsl-091-248-054-108.ewe-ip-backbone.de) (Ping timeout: 252 seconds)
[06:01:03] *** Quits: xizhendu_ (~xizhendu@36.112.178.189) (Ping timeout: 260 seconds)
[06:02:12] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[06:03:41] *** Quits: Enissay (~Enissay@user/enissay) (Quit: WeeChat 3.0)
[06:05:23] *** Joins: Enissay (~Enissay@user/enissay)
[06:06:23] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 264 seconds)
[06:06:59] *** Joins: __dez__ (~dez@199.58.83.9)
[06:08:44] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[06:09:22] <jcbjoe2021> My irc client greycat
[06:10:17] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[06:12:31] <jcbjoe2021> So find . -type f -iname â€˜*.patchâ€™  -exec sh -c â€˜echo cp â€” â€œ$@â€œ destinationâ€™ _ {} +
[06:12:34] *** Quits: __dez__ (~dez@199.58.83.9) (Changing host)
[06:12:34] *** Joins: __dez__ (~dez@user/dez/x-0922551)
[06:14:39] *** Joins: jos1 (~jos3@dyndsl-178-142-071-042.ewe-ip-backbone.de)
[06:20:17] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.3)
[06:21:31] *** Joins: jensen (~jensen@65.78.100.184)
[06:22:22] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[06:22:42] <mcint> # mapfile paths <(printenv PATH | tr : \\n | awk '!seen[$0]++')
[06:22:50] <shbot> mcint: no output within the time limit
[06:23:16] <mcint> What am i not quite understanding here. Can I not do input redirection to a builtin?
[06:23:28] <emanuele6> that is not a redirection
[06:23:51] <emanuele6> # echo <(ls)
[06:23:52] <shbot> emanuele6: /dev/fd/63
[06:24:10] <mcint> ty, what do i mean??
[06:24:23] <emanuele6> that is not a redirection, you are passing an argument
[06:24:31] <emanuele6> # set -x; mapfile paths <(printenv PATH | tr : \\n | awk '!seen[$0]++')
[06:24:43] <shbot> emanuele6: + mapfile paths /dev/fd/63
[06:24:44] <shbot> emanuele6: ++ printenv PATH
[06:24:44] <shbot> emanuele6: etc... ( http://ix.io/3CTj )
[06:24:45] *** Quits: jensen (~jensen@65.78.100.184) (Client Quit)
[06:24:50] <emanuele6> >  + mapfile paths /dev/fd/63
[06:25:10] <emanuele6> what do you think you are missing to do a redirection?
[06:25:29] <emanuele6> if /dev/fd/63 is a filename
[06:26:19] <e36freak> process substitution expands to a filename
[06:26:31] <e36freak> if you want to redirect that like you would any other filename, you need a little more syntax
[06:26:50] <mcint> I don't know, mapfile does expect stdin (even though you can't use it after pipe (without changing defaults))
[06:26:55] <e36freak> < <(foo)
[06:27:05] <emanuele6> ^
[06:27:20] *** Quits: hejux (~hejux@104.224.190.144.16clouds.com) (Ping timeout: 244 seconds)
[06:27:25] <e36freak> just like you would use mapfile < filename
[06:27:28] <e36freak> mapfile < <(command)
[06:27:34] <mcint> ah, ty. hmm,
[06:27:44] <mcint> ah, ok ok, thank you, that does help coonect the dots
[06:28:04] *** Quits: erhandsome (~erhandsom@user/erhandsome) (Ping timeout: 265 seconds)
[06:28:41] <emanuele6> by the way: printenv PATH | tr : \\n | awk '!seen[$0]++'
[06:28:59] <emanuele6> can be: <<< "$PATH" awk -vRS=: '!seen[$0]++'
[06:29:10] <e36freak> or just use read
[06:29:13] <mcint> expands (in-line) as filename, I...cool this helps me.  it'd be nice to visualize the passes that bash does like compiler passes.
[06:29:14] <mcint> I don't remember the order declaratiely
[06:29:21] <e36freak> IFS=: read -ra paths <<<"$PATH"
[06:29:35] <e36freak> maybe -d '' if you're worried about a newline in your PATH
[06:29:58] <emanuele6> e36freak: that would include a \n in the last filename
[06:30:07] <e36freak> ah, fair
[06:30:18] <mcint> sweet, yeah. wanting to deduplicate, and prepare joining with an array of other paths, as my first thing an hour or so ago demonstrated
[06:30:23] <e36freak> the original wouldn't handle a newline in the filename either so
[06:30:52] <e36freak> you could do the deduplication in bash the same way as awk if you want, but that's the easiest way to get it in an array
[06:31:09] <e36freak> i'd probably deduplicate and join at the same time in bash with a loop, but that's me
[06:32:20] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[06:32:45] <mcint> I'm trying to integrate it with shell functions so i can quickly add/remove/promote path(s). And value syntax as-compact-as-I-understand
[06:33:24] <e36freak> whatever works
[06:33:31] <e36freak> different ways to skin a cat or whatever
[06:33:39] <greycat> You shouldn't be forking three external programs to split a PATH variable into a list of directories.
[06:33:44] <e36freak> just don't skin a greycat
[06:33:52] <mcint> debian has a nice /etc/bashrc that does the dedup in a loop
[06:33:56] <e36freak> greycat: that was my initial thought but yeah
[06:33:58] <emanuele6> by the way you probably want -t with that mapfile
[06:34:11] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 260 seconds)
[06:34:24] <greycat> Either use IFS=: read -ra <<<, or use ${copyofpath%%:*} and friends in a loop.
[06:34:46] *** Parts: ash_worksi (~ash_m@user/ash-m/x-3292451) ()
[06:34:49] *** Joins: bae (~ben@49.145.172.236)
[06:35:12] <bae> I have some general questions.
[06:35:18] <emanuele6> or, at least, use a single awk: <<< "$PATH" awk -vRS=: '!seen[$0]++'
[06:35:28] <greycat> mcint: Debian does not have /etc/bashrc at all; it has /etc/bash.bashrc.  And I don't see PATH in it.
[06:36:00] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[06:36:01] <bae> Is it a good idea to add my home folder to my PATH variable if I am writing scripts a lot?
[06:36:13] <e36freak> i would not
[06:36:18] <greycat> Most people use $HOME/bin/ or $HOME/.local/bin or something like that.
[06:36:18] <emanuele6> i don't do it and i write a lot of scripts
[06:36:18] <e36freak> you can have a $HOME/bin
[06:36:33] <bae> OK.
[06:36:37] <emanuele6> i have a $HOME/bin as well
[06:36:59] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[06:40:01] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Client Quit)
[06:40:15] *** Quits: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[06:40:18] <mcint> mm, I spoke really imprecisely. it was some package, I don't remember which. Something I read in the last few days
[06:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[06:41:53] <bae> If I write a script to be invoked interactively, should I place it in /usr/bin?
[06:42:37] <greycat> If you write a script that you like, and you want to use it yourself, you generally put it in $HOME/bin where only you can use it.  If you are on a multi-user system and you want all the users to be able to see it, you put it in /usr/local/bin.
[06:42:56] <greycat> /usr/bin is reserved for the OS vendor.
[06:43:52] <greycat> # p=$PATH; paths=(); while [[ $p = *:* ]]; do paths+=( "${p%%:*}" ); p=${p#*:}; done; declare -p PATH paths
[06:43:54] <shbot> greycat: declare -x PATH="/usr/bin:/bin"
[06:43:54] <shbot> greycat: declare -a paths=([0]="/usr/bin")
[06:43:59] <greycat> damn it
[06:44:22] <greycat> # p=$PATH; paths=(); while [[ $p = *:* ]]; do paths+=( "${p%%:*}" ); p=${p#*:}; done; paths+=("$p"); declare -p PATH paths
[06:44:24] <shbot> greycat: declare -x PATH="/usr/bin:/bin"
[06:44:24] <shbot> greycat: declare -a paths=([0]="/usr/bin" [1]="/bin")
[06:44:43] *** Joins: sinaowolabi (~SinaOwola@160.152.132.165)
[06:45:29] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[06:45:38] <bae> OK. so create /home/<username>/bin, add that to my PATH, then put personal scripts in there.
[06:46:38] <emanuele6> it doesn't have to be named /bin, but that how it is usually done
[06:46:59] <bae> emanuele6: Ok. Makes sense.
[06:47:07] <mcint> yes, that's the idea. i tuck mine in a hidden directory ~/.config/bin ... /home/<user>/.config/bin (or my OS's user page)
[06:47:17] <e36freak> if you want anything in it to take precedence over an existing command with the same name, put it in the front of PATH. if you don't, put it at the end
[06:47:23] <mcint> user equivalent*
[06:48:10] <bae> e36freak: OK. makes sense.
[06:49:14] <bae> Is there a good source online for sample scripts to study?
[06:49:32] <e36freak> !crap
[06:49:33] <greybot> The overwhelming majority of bash scripts, code, tutorials, and guides on the Internet are crap. Sturgeon was an optimist.
[06:49:39] <e36freak> see the info in the topic
[06:50:50] *** Joins: hejux (~hejux@104.224.190.144.16clouds.com)
[06:50:50] <emanuele6> i add directories to my PATH with this pattern: [[ $PATH == ?(*:)$HOME/bin?(:*) ]] || PATH="$HOME/bin${PATH:+:$PATH}"
[06:51:05] <emanuele6> to avoid adding the same directory twice
[06:52:25] <bae> emanuele6: That's over my head at this point LOL
[06:52:43] *** Joins: erhandsome (~erhandsom@user/erhandsome)
[06:52:45] <emanuele6> bae: no, that is unrelated to your problem
[06:52:59] <bae> Oh, ok :-)
[06:53:38] <jetchisel> if [[ :$PATH: != *:$HOME/bin:* ]]; then PATH=$HOME/bin:$PATH; fi ##: That is how I do it
[06:54:04] *** Quits: bae (~ben@49.145.172.236) (Quit: leaving)
[06:54:06] <e36freak> yeah, that one's simpler
[06:54:10] <emanuele6> jetchisel: i just noticed i a missing "s for $HOME, you do too
[06:54:55] <jetchisel> ok
[06:54:58] <emanuele6> s/a/&m/
[06:55:26] <e36freak> i don't think you can have glob characters in HOME anyway
[06:55:29] <e36freak> but definitely won't hurt
[07:00:55] *** Quits: sdu (~doo@185.44.146.22) (Ping timeout: 244 seconds)
[07:03:00] *** Joins: sdu (~doo@185.44.146.22)
[07:05:20] <hejux> any thoughts ? https://paste.rs/WD0 a script to test server ping
[07:05:39] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[07:07:00] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[07:07:55] <emanuele6> !check
[07:08:01] <checkbot> hejux: Line 5: Double quote to prevent globbing and word splitting. See https://shellcheck.net/?id=cb19481
[07:08:46] <hejux> emanuele6: well, syntax is fine, i mean logic or better logic
[07:09:17] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[07:21:41] <Blondie101010> yeah, if it's a list of hostnames, it should not contain any separator
[07:22:26] <Blondie101010> but " is not expensive
[07:22:38] <hejux> sure
[07:22:43] <hejux> i'll add ""
[07:24:35] *** Quits: rcernin (~rcernin@124.190.139.235) (Ping timeout: 260 seconds)
[07:24:51] *** Joins: roger (~rogerx@h20.83.17.98.dynamic.ip.windstream.net)
[07:25:15] *** Parts: roger (~rogerx@h20.83.17.98.dynamic.ip.windstream.net) ()
[07:25:33] *** Joins: roger (~rogerx@h20.83.17.98.dynamic.ip.windstream.net)
[07:25:39] *** Quits: roger (~rogerx@h20.83.17.98.dynamic.ip.windstream.net) (Client Quit)
[07:26:18] *** Quits: dermato (~dermatobr@cpe-70-114-219-76.austin.res.rr.com) (Ping timeout: 260 seconds)
[07:26:33] <emanuele6> actually, not quoting is more expensive
[07:26:50] <emanuele6> hejux: then the logic doesn't make sense
[07:27:41] <emanuele6> you are stopping your program until the receive a successful ping reply from the host
[07:28:05] *** Joins: dermato (~dermatobr@cpe-70-114-219-76.austin.res.rr.com)
[07:28:25] <emanuele6> is that really what you want?
[07:28:52] <emanuele6> s/the receive/it receives/
[07:29:52] *** Joins: rcernin (~rcernin@124.190.139.235)
[07:30:58] <emanuele6> it seems a little silly
[07:32:36] <emanuele6> anyway, since you have -w2, the sleep seems unnecessary
[07:33:18] <emanuele6> you are always going to do a single successful ping, so adding `sleep 1' is basically the same as using `-w3'
[07:34:06] <emanuele6> and you have option injection problems: `ping $name -c1 -w2 &>/dev/null' -> `ping -c1 -w2 &>/dev/null -- "$name"'
[07:35:45] <emanuele6> i meant to write `ping -c1 -w2 -- "$name" &> /dev/null', but it doesn't really matter: works either way
[07:36:25] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aÐ»Ð»Ð¸Ð»Ñ¹Ñ–Ð°!)
[07:36:42] <emanuele6> but this seems very very silly
[07:36:58] <emanuele6> what if you pass an hostname that doesn't even exit? you just hang forever?
[07:38:07] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 244 seconds)
[07:39:16] <emanuele6> s/exit/exist/
[07:40:08] *** Joins: analoq (~yashi@user/dies)
[07:40:14] *** Joins: prifici (~patri@user/prifici)
[07:40:31] <hejux> emanuele6: yeah, that is a problem, hang forever, have to ctrl + c
[07:40:42] *** Joins: dsrt^ (~dsrt@wsip-68-227-92-38.mc.at.cox.net)
[07:40:55] * jetchisel points at nmap
[07:41:36] <emanuele6> almost any hostname you can pass is potentially valid, there is no way to prevent that
[07:41:41] <emanuele6> that is why this is silly
[07:42:18] <emanuele6> just do a fixed number of attempts and `continue' if you are not able to ping the host
[07:43:55] <emanuele6> or even just one attempt to be honest
[07:44:11] *** Quits: prifici_ (~patri@user/prifici) (Ping timeout: 260 seconds)
[07:45:40] *** Joins: xizhendu_ (~xizhendu@240e:404:8510:f62f:dadc::30c0)
[07:49:49] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[07:52:11] *** Joins: vishal (~vishal@fedora/vishal)
[07:53:52] <hejux> very good points thank you
[07:54:41] *** Joins: z8z (~x@ac255238.ppp.asahi-net.or.jp)
[07:55:42] *** Quits: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft) (Ping timeout: 260 seconds)
[07:59:52] *** Quits: w0ng (~w0ng@103.212.224.228) (Ping timeout: 260 seconds)
[08:01:54] *** Quits: rairden (~rairden@2603:9000:de04:9613::1a20) (Remote host closed the connection)
[08:03:42] *** Joins: superboot (~agentgasm@user/superboot)
[08:05:58] *** Joins: loganlee (~Thunderbi@user/loganlee)
[08:09:29] *** Quits: A|an (~Alan@173.216.51.200) (Quit: A|an)
[08:15:35] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[08:16:11] *** Joins: zebrag (~chris@user/zebrag)
[08:19:27] *** Quits: timj (~timj@user/timj) (Ping timeout: 244 seconds)
[08:20:08] *** Joins: zostj (~rue@1-162-40-226.dynamic-ip.hinet.net)
[08:22:26] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[08:26:57] *** Joins: aniruddha (uid340443@id-340443.ilkley.irccloud.com)
[08:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[08:31:01] *** Quits: jinsun (~quassel@user/jinsun) (Read error: Connection reset by peer)
[08:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[08:31:16] *** Joins: jinsun (~quassel@user/jinsun)
[08:34:00] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[08:34:37] *** Joins: timj (~timj@user/timj)
[08:39:03] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 265 seconds)
[08:39:34] *** Quits: sinaowolabi (~SinaOwola@160.152.132.165) (Ping timeout: 260 seconds)
[08:42:43] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[08:43:20] *** Parts: akoana (~ah@user/akoana) ()
[08:47:58] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 260 seconds)
[08:50:52] *** Joins: WinterStar (~IceLight@user/icelight)
[08:52:19] *** Quits: xx (~xx@user/xx) (Ping timeout: 260 seconds)
[08:52:26] *** Joins: csm3105 (~csm3105@31.4.136.62)
[08:53:05] *** Quits: tsp (~tsp@allinaccess.com) (Quit: ZNC - http://znc.in)
[08:53:12] *** Joins: sinaowolabi (~SinaOwola@169.159.122.224)
[08:53:17] *** Joins: Dunce (~Dunce@gateway/tor-sasl/dunce)
[08:53:50] *** Quits: csm3105 (~csm3105@31.4.136.62) (Read error: Connection reset by peer)
[08:54:34] *** Quits: jle (~jle@aftr-88-152-185-251.unity-media.net) (Changing host)
[08:54:34] *** Joins: jle (~jle@user/jle)
[08:55:14] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[08:58:06] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[08:58:50] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[08:59:08] *** Joins: extern (~archer@80.246.130.141)
[09:01:01] *** Quits: Dunce (~Dunce@gateway/tor-sasl/dunce) (Remote host closed the connection)
[09:03:51] *** Quits: prifici (~patri@user/prifici) (Quit: Off to work or bed.)
[09:04:03] *** Quits: __dez__ (~dez@user/dez/x-0922551) (Quit: Leaving)
[09:06:47] *** Quits: infernix (nix@2a02:22a0:bbb1:d500::2) (Ping timeout: 246 seconds)
[09:09:15] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:6403:b890:94ac:4253)
[09:18:37] *** Joins: w0ng (~w0ng@185.218.127.39)
[09:22:27] *** Quits: setesat (~setesat@94.4.156.220) (Quit: The Lounge - https://thelounge.chat)
[09:22:49] *** Joins: setesat (~setesat@94.4.156.220)
[09:30:01] *** Quits: extern (~archer@80.246.130.141) (Quit: WeeChat 3.3)
[09:30:01] *** Joins: tex (~super@user/dix)
[09:30:33] *** Quits: TMan459 (~TMan459@068-187-099-141.res.spectrum.com) (Quit: ZNC 1.8.2 - https://znc.in)
[09:31:32] *** Joins: TMan459 (~TMan459@068-187-099-141.res.spectrum.com)
[09:33:50] *** Quits: Lunatrius (~Lunatrius@77.38.77.136) (Ping timeout: 244 seconds)
[09:35:47] *** Joins: mei (~mei@user/mei)
[09:36:47] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[09:37:26] *** Quits: axisys (~axisys@ec2-34-225-151-46.compute-1.amazonaws.com) (Ping timeout: 260 seconds)
[09:38:29] *** Joins: infernix (nix@spirit.infernix.net)
[09:39:42] *** Joins: Nact (~l@host-85-27-120-251.dynamic.voo.be)
[09:40:37] *** Joins: makara (~makara@196.214.171.83)
[09:41:08] *** Joins: makara1 (~makara@196.214.171.83)
[09:41:47] *** Quits: makara (~makara@196.214.171.83) (Read error: Connection reset by peer)
[09:41:47] *** Quits: makara1 (~makara@196.214.171.83) (Read error: Connection reset by peer)
[09:42:46] *** Quits: rgrinberg (~textual@ip152-195-159-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[09:43:35] *** Joins: axisys (~axisys@ec2-34-225-151-46.compute-1.amazonaws.com)
[09:44:57] *** Joins: makara (~makara@196.214.171.83)
[09:45:28] *** Joins: makara1 (~makara@196.214.171.83)
[09:53:27] *** Quits: sinaowolabi (~SinaOwola@169.159.122.224) (Ping timeout: 260 seconds)
[09:58:31] *** Joins: ravan (~ravan@user/ravan)
[10:00:21] <loganlee> hi guys i want to return the whole json object after changing name field of one item.
[10:00:23] <loganlee> # echo '[ { "name": "kiwi" }, {"name": "pear"}, {"name": "banana"} ]'  | jq '.[1] | .name="zzzz"'
[10:00:25] <shbot> loganlee: {"name":"zzzz"}
[10:00:48] <geirha> change | to |=
[10:01:03] <geirha> or just .[1].name = "zzzz"
[10:01:29] <geirha> also, there's #jq
[10:02:06] <loganlee> geirha: thx a lot
[10:02:10] *** Joins: extern (~archer@80.246.130.141)
[10:02:22] <geirha> much dolby
[10:03:22] *** Joins: bluehoney (bluehoney@gateway/vpn/protonvpn/bluehoney)
[10:03:28] <extern> geirha: hi
[10:05:33] *** Joins: rendar (~rendar@user/rendar)
[10:08:18] *** Quits: zeraphel (~daddy@2a00:a040:196:56d:96de:80ff:fefa:44a) (Quit: zeraphel)
[10:09:58] *** Joins: tobybl (~tobybl@213.31.135.91)
[10:10:24] *** Joins: zeraphel (~daddy@2a00:a040:196:56d:96de:80ff:fefa:44a)
[10:23:34] *** Joins: pylong_ (~bluehoney@cpe-75-81-204-188.mi.res.rr.com)
[10:25:52] *** Quits: timj (~timj@user/timj) (Ping timeout: 265 seconds)
[10:26:26] *** Quits: bluehoney (bluehoney@gateway/vpn/protonvpn/bluehoney) (Ping timeout: 260 seconds)
[10:29:03] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[10:29:20] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[10:30:28] *** Quits: extern (~archer@80.246.130.141) (Quit: WeeChat 3.3)
[10:30:55] *** Quits: rafspiny (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Ping timeout: 252 seconds)
[10:35:37] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[10:36:03] *** Quits: pylong_ (~bluehoney@cpe-75-81-204-188.mi.res.rr.com) (Quit: Leaving)
[10:38:11] *** Quits: richardm75_ (~richardm7@2600:8801:c50a:9f00:b81a:cfd3:342d:46d0) (Ping timeout: 264 seconds)
[10:40:35] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[10:40:57] *** Joins: timj (~timj@user/timj)
[10:44:24] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[10:51:36] *** Quits: travisghansen (~travisgha@192.74.130.86) (Quit: The Lounge - https://thelounge.github.io)
[10:52:27] *** Joins: travisghansen (~travisgha@192.74.130.86)
[10:55:38] *** Joins: Payam (~Payam@138.106.57.131)
[10:57:23] *** Quits: xizhendu_ (~xizhendu@240e:404:8510:f62f:dadc::30c0) (Ping timeout: 264 seconds)
[11:02:05] *** Joins: pa (~smuxi@86-95-132-61.fixed.kpn.net)
[11:02:56] <Payam> Hi
[11:07:03] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[11:08:25] *** Quits: Gerula (~Gerula@user/gerula) (Read error: Connection reset by peer)
[11:08:49] *** Joins: Gerula (~Gerula@user/gerula)
[11:11:51] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[11:16:22] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[11:19:50] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[11:21:33] *** Quits: n4dir (~user@i577BC928.versanet.de) (Remote host closed the connection)
[11:26:13] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[11:28:18] *** Quits: juhop (~anon@192.3.81.147) (Quit: leaving)
[11:28:55] *** Quits: docmax_ (~docmax@dynamic-095-116-093-020.95.116.pool.telefonica.de) (Remote host closed the connection)
[11:38:05] *** Joins: aramtsamtsam (~Thunderbi@2001:861:388a:5600:1710:c3dc:c776:df35)
[11:40:24] *** Joins: brelod (~me@90.244.150.142)
[11:41:55] *** Joins: Guest21 (~Guest21@113.101.88.205)
[11:42:30] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[11:42:43] *** Parts: Guest21 (~Guest21@113.101.88.205) ()
[11:43:12] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[11:44:44] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[11:50:24] *** Quits: drogas (~drogas@jump2.jet.uk) (Quit: Connection closed)
[11:51:20] *** Quits: rcernin (~rcernin@124.190.139.235) (Ping timeout: 260 seconds)
[11:52:47] *** Quits: vaio (~gary@user/ghost) (Remote host closed the connection)
[11:53:13] *** Joins: vaio (~gary@user/ghost)
[11:59:09] *** Quits: ravan (~ravan@user/ravan) (Remote host closed the connection)
[12:01:30] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:bd72:c244:ea8f:27b7)
[12:01:39] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[12:01:46] *** Quits: timj (~timj@user/timj) (Ping timeout: 245 seconds)
[12:05:04] *** Joins: Bhavuk (~BTaneja@103.132.28.60)
[12:10:59] *** Joins: tsp (~tsp@srv1.xen.prgmr.com)
[12:13:25] *** Joins: Blondie101010_ (~Blondie10@user/blondie101010)
[12:14:03] *** Joins: rcernin_ (~rcernin@124.190.139.235)
[12:14:14] *** Quits: Blondie101010 (~Blondie10@user/blondie101010) (Ping timeout: 268 seconds)
[12:14:20] *** Blondie101010_ is now known as Blondie101010
[12:17:16] *** Joins: timj (~timj@user/timj)
[12:17:56] *** Joins: arinov (~arinov@213.194.126.155)
[12:18:23] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:bd72:c244:ea8f:27b7) (Ping timeout: 264 seconds)
[12:18:31] *** Quits: OMGOMG (~bobrobert@poppy.ifi.uio.no) (Ping timeout: 258 seconds)
[12:20:19] *** Joins: prifici (~patri@user/prifici)
[12:23:41] *** Joins: mr-red (~drd@93-42-69-115.ip85.fastwebnet.it)
[12:24:39] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 258 seconds)
[12:25:42] *** Quits: Gerula (~Gerula@user/gerula) (Quit: Leaving)
[12:25:57] *** Joins: drogas (~drogas@jump2.jet.uk)
[12:27:12] *** Joins: mtk_ (~mtk@2601:185:200:72:44aa:53fe:886b:bee9)
[12:27:24] *** Quits: mtk (~mtk@2601:185:200:72:44aa:53fe:886b:bee9) (Remote host closed the connection)
[12:29:20] *** Quits: mr-red (~drd@93-42-69-115.ip85.fastwebnet.it) (Quit: ZNC 1.8.2 - https://znc.in)
[12:31:30] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[12:31:39] *** Quits: rcernin_ (~rcernin@124.190.139.235) (Ping timeout: 260 seconds)
[12:34:37] *** Quits: furrymcgee (~devuan@cgn-89-1-210-103.nc.de) (Quit: leaving)
[12:34:58] *** Joins: Bhavuk_ (~BTaneja@103.132.28.60)
[12:36:17] *** Quits: rendar (~rendar@user/rendar) (Remote host closed the connection)
[12:37:44] *** Joins: rendar (~rendar@user/rendar)
[12:38:11] *** Quits: Bhavuk (~BTaneja@103.132.28.60) (Ping timeout: 260 seconds)
[12:40:30] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.3)
[12:40:34] *** Quits: vaio (~gary@user/ghost) (Remote host closed the connection)
[12:41:08] *** Joins: vaio (~gary@user/ghost)
[12:42:46] *** Joins: xiao (~xiao@37.170.223.196)
[12:43:58] *** Joins: rcernin (~rcernin@124.190.139.235)
[12:44:29] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[12:46:50] *** Joins: shad (~shad@user/shad)
[12:53:06] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[12:57:53] *** Joins: jrofd (~test@185.217.117.156)
[12:58:06] *** Joins: frostwork (~frostwork@user/frostwork)
[12:58:55] *** Joins: sublim20 (~sublim20@user/sublim20)
[13:02:31] *** Quits: jrofd (~test@185.217.117.156) (Client Quit)
[13:03:57] *** Joins: jrofd (~crombie@185.217.117.156)
[13:05:41] *** Joins: joo (~joo@87-49-146-56-mobile.dk.customer.tdc.net)
[13:05:41] *** Quits: joo (~joo@87-49-146-56-mobile.dk.customer.tdc.net) (Changing host)
[13:05:41] *** Joins: joo (~joo@fsf/member/joo--)
[13:10:43] *** Quits: MenschZwoNull (~MenschZwo@p200300c8571ac600bfdcfbcfe806c4fc.dip0.t-ipconnect.de) (Remote host closed the connection)
[13:11:57] *** Joins: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net)
[13:13:26] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[13:14:29] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Read error: Connection reset by peer)
[13:14:45] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[13:17:31] *** Joins: MenschZwoNull (~MenschZwo@p200300c8571ac600bfdcfbcfe806c4fc.dip0.t-ipconnect.de)
[13:18:10] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[13:21:17] *** Joins: mr-red (~drd@93-42-69-115.ip85.fastwebnet.it)
[13:21:59] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 264 seconds)
[13:28:43] *** Joins: hyrcanus_ (~hyrcanus@p57bbe46a.dip0.t-ipconnect.de)
[13:28:45] *** Quits: hyrcanus (~hyrcanus@p57bbe46a.dip0.t-ipconnect.de) (Quit: leaving)
[13:29:20] *** Quits: LuKaRo_ (~LuKaRo@p4fc32190.dip0.t-ipconnect.de) (Quit: ZNC 1.8.2 - https://znc.in)
[13:29:36] *** tinytoast is now known as tinystoat
[13:33:59] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[13:34:04] *** Joins: LuKaRo (~LuKaRo@p4fc32190.dip0.t-ipconnect.de)
[13:34:29] *** Joins: lavaball (felix@31.204.155.215)
[13:35:56] *** Quits: Nact (~l@host-85-27-120-251.dynamic.voo.be) (Quit: Konversation terminated!)
[13:36:08] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[13:38:01] *** Quits: timj (~timj@user/timj) (Ping timeout: 245 seconds)
[13:42:07] *** Quits: dsrt^ (~dsrt@wsip-68-227-92-38.mc.at.cox.net) (Ping timeout: 260 seconds)
[13:43:16] *** Joins: CaCode (~Cas@user/cacode)
[13:47:34] *** Joins: chomwitt (~chomwitt@2a02:587:dc12:b600:12c3:7bff:fe6d:d374)
[13:49:27] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Read error: Connection reset by peer)
[13:49:35] *** Quits: aramtsamtsam (~Thunderbi@2001:861:388a:5600:1710:c3dc:c776:df35) (Ping timeout: 260 seconds)
[13:49:52] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[13:51:55] *** pa is now known as Guest3327
[13:53:00] *** Joins: legola (~legola@46.235.101.181)
[13:53:40] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Read error: Connection reset by peer)
[13:53:46] *** Joins: timj (~timj@user/timj)
[13:53:57] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[14:02:24] *** Quits: shad (~shad@user/shad) (Ping timeout: 258 seconds)
[14:04:39] *** Quits: The_Jag_ (~The_Jag@host-87-19-40-26.retail.telecomitalia.it) (Read error: Connection reset by peer)
[14:05:14] *** Joins: The_Jag (~The_Jag@host-87-19-40-26.retail.telecomitalia.it)
[14:06:52] <redgloboli> hi, maybe a stupid question as im new to bash scripting, but is it possible to have a variable DISK=$(virsh domblklist vm-TEST | grep raw) which outputs something like sda sdb vda and use this output as input for a command like virsh snapshot --diskspec sda,... --diskspec sdb,... --diskspec vda,...? where the ouutput of the first command should get filled in as sda,sdb,vda. also there could be 2 outputs
[14:06:58] <redgloboli> or, let's say up to 7.
[14:07:25] <djph> redgloboli: so ... an array?
[14:08:31] <redgloboli> djph: yeah that would be the right term i guess, would have made my google search a bit more successful i think.
[14:08:40] <Soliton> !faq 1
[14:08:41] <greybot> https://mywiki.wooledge.org/BashFAQ/001 -- How can I read a file (data stream, variable) line-by-line (and/or field-by-field)?
[14:09:30] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 260 seconds)
[14:09:50] <Soliton> while read -r disk; do opts+=(--diskspec "$disk,..."); done; cmd ... "${opts[@]}"
[14:10:21] <Soliton> virsh domblklist vm-TEST | while read -r disk; do opts+=(--diskspec "$disk,..."); done; cmd ... "${opts[@]}"
[14:10:34] *** Joins: aramtsamtsam (~Thunderbi@94.239.102.102)
[14:10:54] *** Joins: analoq (~yashi@user/dies)
[14:11:06] <Soliton> assuming the disks are output one per line.
[14:11:09] *** Joins: dsrt^ (~dsrt@wsip-68-227-92-38.mc.at.cox.net)
[14:11:55] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[14:12:00] <redgloboli> Soliton: thanks a lot, i an work with that. that definitely pointed me into the right direction. yep that's a per line output.
[14:12:48] <Soliton> wait, i added the pipeline wrong...
[14:12:54] *** Quits: BSaboia (~bsaboia@177.37.198.218) (Quit: This computer has gone to sleep)
[14:12:57] <Soliton> virsh domblklist vm-TEST | { while read -r disk; do opts+=(--diskspec "$disk,..."); done; cmd ... "${opts[@]}"; }
[14:13:09] <Soliton> or use a process substitution instead.
[14:14:30] <redgloboli> thanks again, will do some reading/testing how this works. maybe i'll be back later :)
[14:14:36] *** Joins: shad (~shad@user/shad)
[14:17:23] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 265 seconds)
[14:17:33] <Soliton> the while read loop reads each line of output from virsh and adds to the opts array. after the loop you can use the opts array to call whatever. since this is in a pipeline you need to extend the subshell until you use the opts array since after the pipeline (and its subshells) terminates it's gone.
[14:18:01] *** Joins: analoq (~yashi@user/dies)
[14:18:50] *** Quits: mr-red (~drd@93-42-69-115.ip85.fastwebnet.it) (Ping timeout: 265 seconds)
[14:21:48] *** Joins: seninha (~seninha@user/seninha)
[14:24:28] *** Quits: xiao (~xiao@37.170.223.196) (Remote host closed the connection)
[14:27:51] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[14:37:32] *** Quits: tangy (~tangy@user/tangy) (Remote host closed the connection)
[14:40:14] *** Joins: tangy (~tangy@user/tangy)
[14:40:54] *** Joins: ekathva (~ekathva@88-114-118-220.elisa-laajakaista.fi)
[14:40:55] *** Quits: shad (~shad@user/shad) (Ping timeout: 260 seconds)
[14:48:34] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[14:51:54] *** Joins: shad (~shad@user/shad)
[14:52:00] *** Joins: jkwnki1 (~jkwnki@p2e57991b.dip0.t-ipconnect.de)
[14:52:02] *** Joins: jkwnki2 (~jkwnki@p2e57991b.dip0.t-ipconnect.de)
[14:52:27] *** Joins: n4dir (~user@i577BC928.versanet.de)
[14:54:07] *** Quits: rcernin (~rcernin@124.190.139.235) (Ping timeout: 265 seconds)
[14:54:16] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[14:57:32] *** Joins: meator (~meator@user/meator)
[14:59:32] <Payam> hi, I would like to turn the top json to the bottom https://bpa.st/XTMA I have done `jq {name:.name, path:.path, child: [ child[].uri]} but it does not give the same result
[15:00:54] <meator> Hello. How can I remove a specific suffix if it is present? Example (suffix is -musl): aarch64-musl -> aarch64, armv5tel -> armv5tel.
[15:01:42] <Soliton> "${var%-musl}"
[15:01:43] *** Joins: motherr (~motherr@user/motherr)
[15:02:49] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[15:04:34] <wwallace> !pe
[15:04:34] <greybot> Parameter Expansion expands parameters: "$foo", "$1". You can use it to perform string or array operations: "${file%.mp3}", "${0##*/}", "${files[@]: -4}". They should *always* be quoted. See: http://mywiki.wooledge.org/BashFAQ/073 and "Parameter Expansion" in man bash. Also see http://wiki.bash-hackers.org/syntax/pe.
[15:05:14] <meator> Soliton: Thanks!
[15:05:51] <Soliton> Payam: you should probably start with valid json.
[15:07:06] <Payam> Soliton I just need to make this work
[15:07:29] *** Joins: jdltouraine_ (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[15:11:02] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[15:11:13] <kurahaupo_> Payam: try starting the jq script with []
[15:16:40] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[15:17:21] <Payam> Sorry I realized that the pastebin I sent was wrong. This is a good representation of what I try to do: https://bpa.st/IG2Q
[15:18:43] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 260 seconds)
[15:20:45] *** Quits: jdltouraine_ (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[15:20:54] <redgloboli> Soliton: thanks again, that worked pretty well so far.
[15:21:22] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[15:21:25] *** Quits: zostj (~rue@1-162-40-226.dynamic-ip.hinet.net) (Quit: WeeChat 3.3)
[15:21:45] *** Joins: zostj (~rue@1-162-40-226.dynamic-ip.hinet.net)
[15:22:55] *** Joins: analoq (~yashi@user/dies)
[15:23:15] *** Quits: arinov (~arinov@213.194.126.155) (Quit: WeeChat 3.1)
[15:23:49] *** Joins: BSaboia (~bsaboia@177.37.198.218)
[15:24:26] *** Quits: ekathva (~ekathva@88-114-118-220.elisa-laajakaista.fi) (Read error: Connection reset by peer)
[15:24:52] *** Joins: ekathva (~ekathva@88-114-118-220.elisa-laajakaista.fi)
[15:26:00] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 260 seconds)
[15:26:48] *** Joins: Crescendo (~Crescendo@user/crescendo)
[15:27:22] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[15:28:31] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 260 seconds)
[15:28:59] *** Quits: quazimodo (~quazimodo@n1-40-235-47.bla1.nsw.optusnet.com.au) (Ping timeout: 260 seconds)
[15:29:45] <m4n> Payam, once you have a proper json, something like jq -r  '{ family: .family, child: [.child[].uri] }' should do
[15:39:45] <m4n> the only thing missing in your attempt was a dot before the child
[15:40:05] *** Joins: analoq (~yashi@user/dies)
[15:42:00] *** Joins: horrible` (~user@2607:fea8:7040:830:1431:b543:c667:1c6a)
[15:42:00] *** Quits: horrible` (~user@2607:fea8:7040:830:1431:b543:c667:1c6a) (Changing host)
[15:42:00] *** Joins: horrible` (~user@user/horribleprogram)
[15:43:10] *** horrible` is now known as horribleprogram`
[15:43:19] *** horribleprogram` is now known as horribleprogram
[15:44:23] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Remote host closed the connection)
[15:44:31] *** Quits: dsrt^ (~dsrt@wsip-68-227-92-38.mc.at.cox.net) (Remote host closed the connection)
[15:44:39] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[15:44:44] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[15:48:01] *** Quits: ekathva (~ekathva@88-114-118-220.elisa-laajakaista.fi) (Ping timeout: 245 seconds)
[15:48:10] *** Joins: situ (~situ@ip-89-176-145-74.net.upcbroadband.cz)
[15:51:57] *** Joins: arinov (~arinov@213.194.126.155)
[15:51:58] *** Quits: rkta (~kt@62.113.246.111) (Quit: leaving)
[15:52:00] *** Quits: karakedi (~eAC53C340@user/karakedi) (Read error: Connection reset by peer)
[15:52:16] *** Joins: rkta (~kt@62.113.246.111)
[15:52:19] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 260 seconds)
[15:53:18] *** Joins: MenschZwoNull_ (~MenschZwo@2a03:2260:200c:400:f5d9:8629:2a0c:2d37)
[15:56:03] *** Quits: MenschZwoNull (~MenschZwo@p200300c8571ac600bfdcfbcfe806c4fc.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[15:58:35] *** Quits: MenschZwoNull_ (~MenschZwo@2a03:2260:200c:400:f5d9:8629:2a0c:2d37) (Remote host closed the connection)
[15:59:20] <Payam> m4n I did that yes. however I want only those who have folder: true. this is my filter and what I expect and what is given : https://bpa.st/IZ5A
[15:59:26] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Read error: Connection reset by peer)
[15:59:42] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[15:59:48] <m4n> then use select() first
[16:00:49] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 265 seconds)
[16:01:08] *** Joins: MenschZwoNull (~MenschZwo@p200300c8571ac600bfdcfbcfe806c4fc.dip0.t-ipconnect.de)
[16:01:41] <Payam> {date : .date, family: .family, child: [ select(.child[].folder == false) | .child[].uri ] }
[16:01:46] <Payam> still he is there
[16:01:52] *** Joins: ekathva (~ekathva@88-114-118-220.elisa-laajakaista.fi)
[16:02:01] <Payam> I mean all the others are there
[16:02:26] <Payam> {date : .date, family: .family, child: [ select(.child[].folder == true) | .child[].uri ] } repeats the list
[16:02:40] <geirha> jq '.child |= map(select(.folder).uri)'
[16:03:42] *** Joins: zeden (~zeden@user/zeden)
[16:04:41] <Payam> {date : .date, family: .family, child: .child |= map(select(.folder).uri ) } didn't work geirha
[16:04:47] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:8c40:5e2a:640e:6bc)
[16:04:55] *** Joins: quazimodo (~quazimodo@n1-40-235-47.bla1.nsw.optusnet.com.au)
[16:05:17] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[16:05:21] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[16:05:22] *** Joins: zro (~zro@user/zro)
[16:06:32] <geirha> ok, but that's completely different from my suggestion
[16:06:46] *** Joins: MenschZwoNull_ (~MenschZwo@2a03:2260:200c:400:d883:87b8:792c:2559)
[16:07:50] <Payam> https://bpa.st/RHEA
[16:08:10] <Payam> This is the original question : https://bpa.st/RHEA
[16:08:15] <geirha> but if you insist on the longer approach, you just need to change the |= to |:  jq '{date, family, child: .child | map(select(.folder).uri)}'
[16:08:51] <Payam> ah I got it now
[16:08:52] *** Quits: MenschZwoNull_ (~MenschZwo@2a03:2260:200c:400:d883:87b8:792c:2559) (Remote host closed the connection)
[16:09:07] <Payam> how did you get that. Can you explain it to me?
[16:09:40] *** Quits: MenschZwoNull (~MenschZwo@p200300c8571ac600bfdcfbcfe806c4fc.dip0.t-ipconnect.de) (Ping timeout: 258 seconds)
[16:11:18] *** Quits: jkwnki2 (~jkwnki@p2e57991b.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[16:11:21] *** Joins: MenschZwoNull (~MenschZwo@2a03:2260:200c:400:d7b:daf5:ec10:8a5c)
[16:11:27] *** Quits: jkwnki1 (~jkwnki@p2e57991b.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[16:11:43] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[16:12:25] *** Joins: analoq (~yashi@user/dies)
[16:12:44] <geirha> map(f) expects an array and does f on each element of that array.  select(x) either returns the element if x is true, else it returns empty which means it will not be included further. Then you just call .uri on that returned non-empty element
[16:13:37] *** Quits: MenschZwoNull (~MenschZwo@2a03:2260:200c:400:d7b:daf5:ec10:8a5c) (Remote host closed the connection)
[16:14:16] <Payam> yes but you called .child but you also got other things outside .child
[16:14:58] <geirha> you mean the first one?  .child |= map(select(.folder).uri)
[16:15:14] <geirha> this just modifies the original object by assigning .child a new value
[16:16:00] *** Joins: MenschZwoNull (~MenschZwo@2a03:2260:200c:400:7c15:73de:4b1c:563a)
[16:16:21] *** Joins: alzgh (~alzgh@user/alzgh)
[16:16:53] <geirha> # jq '.x = .x + "bar"' <<< '{"x":"foo"}'
[16:16:55] <shbot> geirha: {"x":"foobar"}
[16:17:47] <geirha> # jq '.x |= . + "bar"' <<< '{"x":"foo"}'
[16:17:48] <shbot> geirha: {"x":"foobar"}
[16:18:09] <geirha> do you see the difference between = and |= from that?
[16:18:51] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 245 seconds)
[16:19:15] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:8c40:5e2a:640e:6bc) (Ping timeout: 258 seconds)
[16:20:15] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[16:20:19] *** Joins: dunz0r (~dunz0r@is.a.hax0r.se)
[16:20:19] *** Quits: ekathva (~ekathva@88-114-118-220.elisa-laajakaista.fi) (Ping timeout: 260 seconds)
[16:20:19] *** Quits: shad (~shad@user/shad) (Ping timeout: 260 seconds)
[16:20:21] *** Joins: drd (~drd@host-87-16-110-65.retail.telecomitalia.it)
[16:20:23] <dunz0r> names
[16:20:25] <dunz0r> woops
[16:20:43] *** Joins: ekathva (~ekathva@88-114-118-220.elisa-laajakaista.fi)
[16:20:55] <geirha> so  .child |= map(select(.folder).uri)  could also be written   .child = (.child | map(select(.folder).uri))
[16:21:27] *** Quits: zouhair (~zouhair@lnsm1-montreal02-142-122-74-190.internet.virginmobile.ca) (Quit: KVIrc 5.0.1 Aria http://www.kvirc.net/)
[16:21:30] *** Quits: legola (~legola@46.235.101.181) (Remote host closed the connection)
[16:21:46] <dunz0r> I want  to know the start-date of a week $X weeks ago... date -d "-$X weeks" doesn't do that. It gives me today-7 days instead... any ideas on how to get the "start date"?
[16:22:50] <dunz0r> I want to get the end/start of specific weeks, essentially, for building a query for something else.
[16:23:17] *** Bhavuk_ is now known as Bhavuk
[16:23:31] <Soliton> what is the start of a week? monday?
[16:23:38] <m4n> geirha, that is an excellent solution. :-)
[16:23:44] <dunz0r> Soliton: Yep.
[16:23:52] <Soliton> so add monday.
[16:24:15] <dunz0r> What do you mean? X number of mondays ago?
[16:24:44] <Soliton> monday -5 weeks
[16:24:56] <Soliton> or monday 5 weeks ago
[16:25:14] <dunz0r> Wooha
[16:25:26] <dunz0r> Didn't know that worked. Thank you Soliton :)
[16:25:56] <Soliton> to be clear this is all specific to GNU date.
[16:26:22] <dunz0r> Yeah, this won't run on anything that doesn't have GNU date in the foreseeable future
[16:26:41] <dunz0r> Just a little script to generate average-times for my ticketing system.
[16:30:48] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[16:30:54] *** Joins: shad (~shad@user/shad)
[16:35:04] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi)
[16:35:31] *** Quits: quazimodo (~quazimodo@n1-40-235-47.bla1.nsw.optusnet.com.au) (Ping timeout: 245 seconds)
[16:35:38] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi) (Read error: Connection reset by peer)
[16:35:49] *** Joins: analoq (~yashi@user/dies)
[16:39:15] *** Joins: furrymcgee (~devuan@cgn-89-1-210-103.nc.de)
[16:41:15] *** Quits: meator (~meator@user/meator) (Ping timeout: 260 seconds)
[16:41:44] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[16:43:19] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[16:43:30] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi)
[16:46:02] *** Joins: igemnace (~ian@user/igemnace)
[16:46:30] *** Joins: magla (~gelignite@55d4747b.access.ecotel.net)
[16:47:09] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:2111:1b2c:6ebe:efdf)
[16:47:09] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:2111:1b2c:6ebe:efdf) (Changing host)
[16:47:09] *** Joins: skapata (~Skapata@user/skapata)
[16:49:51] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[16:54:46] *** Quits: arinov (~arinov@213.194.126.155) (Quit: WeeChat 3.3)
[16:57:07] <Payam> geirha in this example https://bpa.st/IZ5A you said .child |= map(select(folder).uri) right? But in the result I also see the date. so it is not only the .child element
[16:57:51] *** Quits: drd (~drd@host-87-16-110-65.retail.telecomitalia.it) (Ping timeout: 265 seconds)
[16:57:59] <Soliton> if you change one element the rest does not change or vanish.
[16:59:49] *** Joins: humky (~humky@user/humky)
[16:59:49] *** Joins: zouhair (~zouhair@lnsm1-montreal02-142-122-74-190.internet.virginmobile.ca)
[17:02:58] <Payam> if I want to add a word into the .child except the map
[17:04:10] <Payam>  .children |= map(select(.folder).uri+.name)
[17:04:31] <Payam>  .children |= map(select(.folder).uri+.family)
[17:04:33] <Payam> sorry
[17:04:40] *** Joins: drd (~drd@host-87-16-110-65.retail.telecomitalia.it)
[17:04:52] <Payam> it look at the local .children and tries to find .family.
[17:05:03] <Payam> but elements outside .children how do you reach it
[17:05:11] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 264 seconds)
[17:06:20] <Soliton> why don't you once provide actual input and desired output instead of changing the question every 10 minutes.
[17:06:35] <Payam> Soliton You are right. Let me give you a link
[17:08:16] <Payam> https://bpa.st/BFCQ
[17:08:41] <Payam> I have the  upper one and try to get the one below it
[17:11:20] *** Joins: analoq (~yashi@user/dies)
[17:11:31] *** Quits: prifici (~patri@user/prifici) (Quit: Off to work or bed.)
[17:12:23] *** Joins: seasonedNewbie (~SeasonedN@71.233.118.255)
[17:14:43] <Soliton> jq -r '.path as $path | .child |= map(select(.folder) | "\(.uri + $path)")'
[17:15:05] *** Quits: timj (~timj@user/timj) (Ping timeout: 260 seconds)
[17:16:19] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 260 seconds)
[17:17:15] *** Quits: justsomeguy (~justsomeg@user/justsomeguy) (Ping timeout: 260 seconds)
[17:18:21] *** Joins: kj (~kj@69.70.169.78)
[17:20:05] <seasonedNewbie> jq is neat but I never get it to work right away
[17:20:56] *** Quits: Uqbar (~sandbox@user/uqbar) (Ping timeout: 268 seconds)
[17:22:28] *** Joins: analoq (~yashi@user/dies)
[17:22:37] <Payam> Soliton thank you very much
[17:25:39] *** Quits: aniruddha (uid340443@id-340443.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[17:26:52] *** Joins: ChmEarl (~chmearl@user/chmearl)
[17:27:00] *** Quits: Stotteren (~Stotteren@pool-108-20-79-41.bstnma.fios.verizon.net) (Remote host closed the connection)
[17:27:23] *** Joins: Stotteren (~Stotteren@pool-108-20-79-41.bstnma.fios.verizon.net)
[17:27:36] *** Joins: Uqbar (~sandbox@user/uqbar)
[17:30:25] *** Quits: BSaboia (~bsaboia@177.37.198.218) (Remote host closed the connection)
[17:30:33] *** Joins: timj (~timj@user/timj)
[17:35:30] *** Quits: seasonedNewbie (~SeasonedN@71.233.118.255) (Quit: Leaving)
[17:37:18] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[17:40:29] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[17:41:29] *** Quits: justHaunt (~justache@user/justache) (Read error: Connection reset by peer)
[17:42:19] *** Joins: justHaunt (~justache@user/justache)
[17:43:23] *** Joins: jdltouraine_ (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[17:43:50] *** Joins: veek (~veek@117.192.20.102)
[17:44:58] <veek> so i'm doing something like nft monitor trace|awk '/ppp/ { print $11, $12, $36, $14, $15, $39, $30 }'|sed -nr 's/111.111.111.111/foo/gp'|sed -nr 's/443/https/gp'|uniq but since it's an endless stream.. is there a way to uniq every 10 lines or there's a change
[17:45:19] *** Joins: sublim20 (~sublim20@user/sublim20)
[17:46:35] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[17:46:39] *** Joins: meator (~meator@user/meator)
[17:46:40] <Soliton> just do it all in awk.
[17:47:45] <Soliton> btw, a dot matches any character in a regex.
[17:49:57] *** Joins: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za)
[17:50:04] <veek> yep data's such..
[17:50:10] *** Joins: Lunatrius (~Lunatrius@77.38.77.136)
[17:50:23] *** Quits: jrofd (~crombie@185.217.117.156) (Ping timeout: 260 seconds)
[17:51:15] *** Quits: chomwitt (~chomwitt@2a02:587:dc12:b600:12c3:7bff:fe6d:d374) (Ping timeout: 260 seconds)
[17:54:07] *** Quits: aramtsamtsam (~Thunderbi@94.239.102.102) (Ping timeout: 260 seconds)
[17:54:10] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[17:55:13] *** Joins: aramtsamtsam (~Thunderbi@94.239.102.102)
[18:00:22] *** Joins: Burger (~burger@user/burger)
[18:01:40] *** Quits: Payam (~Payam@138.106.57.131) (Quit: Client closed)
[18:02:53] *** Joins: jrofd (~crombie@185.217.117.179)
[18:05:51] *** Quits: n4dir (~user@i577BC928.versanet.de) (Remote host closed the connection)
[18:07:17] *** Quits: magla (~gelignite@55d4747b.access.ecotel.net) (Quit: Stay safe!)
[18:11:05] *** Quits: jdltouraine_ (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[18:17:21] *** Joins: chomwitt (~chomwitt@ppp-94-68-249-8.home.otenet.gr)
[18:17:59] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Remote host closed the connection)
[18:18:37] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[18:20:34] *** Quits: meator (~meator@user/meator) (Quit: Leaving)
[18:23:22] *** Joins: relipse (sid16131@tinside.irccloud.com)
[18:23:34] <relipse> I have a bash script: find . -name '*' -exec file {} \; | grep -o -P '^.+: \w+ image'
[18:23:40] <relipse> which finds all images
[18:23:53] <relipse> but how do I tack on the file size (human readable) to the end of each image
[18:28:17] <hyrcanus_> would you accept invoking a bash script instead of file {} ?
[18:28:26] <hyrcanus_> or function
[18:28:39] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 260 seconds)
[18:28:52] <hyrcanus_> then you can piece together whatever tests and output you want
[18:28:53] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: see you later)
[18:29:25] <dunz0r> You can specify multiple -exec to find
[18:29:47] <dunz0r> But ah, you're grepping for image. Never mind,
[18:30:17] *** Joins: analoq (~yashi@user/dies)
[18:31:00] <hyrcanus_> i'd find . -type f to prevent it picking up directories
[18:31:20] <Soliton> -name '*' is useless.
[18:31:35] <dunz0r> find . -type f will find all files in a directory.
[18:32:14] <Soliton> with GNU find you have -printf to output the size.
[18:32:50] <Soliton> you'd need to run grep from find though and deal with the newline from file output.
[18:33:30] <Soliton> probably easier to not use grep.
[18:34:15] *** Joins: Guest46 (~Guest46@pool-72-82-129-201.cmdnnj.fios.verizon.net)
[18:34:19] <hyrcanus_> the find could be limited to files with image extensions, if you trust your extensions
[18:34:57] <hyrcanus_> e.g.
[18:35:01] <hyrcanus_> find . -type f  \( -iname "*.jpg" -or -iname "*.jpeg" -or -iname "*.png" -or -iname "*.tif" -or -iname "*.bmp" -or -iname "*.gif" -or -iname "*.webp" \)
[18:35:20] <Soliton> since they use file i assume they don't though.
[18:35:52] <earnestly> identify -ping -format ... # although it doesn't support \0
[18:36:38] <earnestly> file (fine free) has --mime-type and -0 which can be much better
[18:36:51] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[18:38:34] <Soliton> find . -type f -exec bash -c 'type=$(file -bi "$1"); [[ $type = image/* ]] && printf %s "$type"' bash {} \; -printf ' - size: %s\n'
[18:39:51] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 260 seconds)
[18:40:04] *** Quits: veek (~veek@117.192.20.102) (Quit: Leaving)
[18:41:25] *** Quits: shad (~shad@user/shad) (Ping timeout: 260 seconds)
[18:41:31] *** Joins: analoq (~yashi@user/dies)
[18:43:52] <hyrcanus_> that's one to study
[18:44:10] *** Joins: shad (~shad@user/shad)
[18:44:44] *** Joins: kj- (~kj@beta.aerisnetwork.net)
[18:45:41] *** Quits: Guest46 (~Guest46@pool-72-82-129-201.cmdnnj.fios.verizon.net) (Quit: Guest46)
[18:46:09] *** Quits: wedwards (~wedwards@rtr0.17.31.bogert.cyberfusion.cloud) (Quit: Textual IRC Client: www.textualapp.com)
[18:46:42] <furrymcgee> # join -t:  <(file *jpg) <(find *jpg -printf %p:%s\\\n) # you can join filesize and type
[18:46:44] <shbot> furrymcgee: find: '*jpg': No such file or directory
[18:47:10] *** Quits: kj (~kj@69.70.169.78) (Ping timeout: 260 seconds)
[18:47:46] <relipse> Soliton: is there anyway to get that into human readable filesize like 45k i'm getting ./82101543518757.png image/png; charset=binary - size: 456922
[18:47:55] <relipse> find . -type f -exec bash -c 'type=$(file -bi "$1"); [[ $type = image/* ]] && printf %s "$1 $type
[18:47:55] <relipse> "' bash {} \; -printf ' - size: %s\n'
[18:48:33] *** Joins: karakedi (~eAC53C340@user/karakedi)
[18:51:57] *** Joins: richardm75_ (~richardm7@2600:8801:c50a:9f00:c4cf:794b:1d25:cc1c)
[18:55:27] *** Joins: INeedAHandle (~INeedAHan@39.124.72.106)
[18:57:11] *** Joins: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk)
[18:59:01] *** Quits: yac (~user@user/yac) (Remote host closed the connection)
[19:01:38] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 260 seconds)
[19:01:55] *** Joins: analoq (~yashi@user/dies)
[19:02:11] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 264 seconds)
[19:07:18] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[19:11:41] *** Parts: darkxploit (~jay@32.209.19.50) ()
[19:11:41] *** Quits: horribleprogram (~user@user/horribleprogram) (Read error: Connection reset by peer)
[19:11:47] *** Joins: lavaball (felix@31.204.155.215)
[19:12:31] *** Quits: shad (~shad@user/shad) (Ping timeout: 258 seconds)
[19:14:02] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[19:15:50] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 260 seconds)
[19:16:16] *** Quits: Strom (strom@fedora/strom) ()
[19:17:52] *** Joins: Strom (strom@fedora/strom)
[19:18:07] *** Joins: hyskaru (~hyskaru@user/hyskaru)
[19:21:19] *** Joins: nbao (~nbao@187.20.156.163)
[19:21:55] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:a08e:2845:2bb:1c33)
[19:21:55] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:a08e:2845:2bb:1c33) (Changing host)
[19:21:55] *** Joins: skapata (~Skapata@user/skapata)
[19:23:21] *** Quits: p3hz (~p3hz@96.44.142.75.adsl.inet-telecom.org) (Ping timeout: 244 seconds)
[19:25:26] *** Joins: aniruddha (uid340443@id-340443.ilkley.irccloud.com)
[19:27:50] *** Joins: shad (~shad@user/shad)
[19:31:15] *** Quits: wolfgang (~wolfgang@101.174.167.116) (Remote host closed the connection)
[19:33:21] *** dob1_ is now known as dob1
[19:34:17] *** Joins: johnjay (~pi@192.142.100.50)
[19:34:37] <johnjay> what is the significance of the 'source' command? how is it different from simply running a script?
[19:34:51] <johnjay> the only difference i can see from the description is it doesn't have to be chmod +x
[19:35:14] <Soliton> it runs in the current shell. not a new process.
[19:36:10] <Soliton> so for example if you put a cd command in the sourced file then you will actually be in that dir after sourcing.
[19:36:13] <johnjay> meaning when you do ./program.exe that is always run in a new process?
[19:36:18] *** Quits: tobybl (~tobybl@213.31.135.91) (Remote host closed the connection)
[19:36:45] <Soliton> of course.
[19:36:57] <Soliton> not every command is a shell script for one.
[19:37:09] <johnjay> ok. i guess the assumptions of bash are sufficiently alien to me i need to read the wooledge guide
[19:37:12] <Soliton> certainly not one that is called program.exe.
[19:37:19] <johnjay> right now i'm using zsh. fortunately it has PATH at least
[19:37:35] <johnjay> but i have access to bash if i type 'bash' ret at the prompt
[19:37:54] <johnjay> the shebang on macos is apparently... #!/usr/bin/env bash
[19:38:13] <Soliton> sourcing is a posix feature. surely zsh has it too. (even if it's not posix)
[19:38:37] <Soliton> but portably you'd use . not source as the command.
[19:38:49] <johnjay> yeah i was just reading a tutorial that said by the way type 'source .mynewprofile <RET>'
[19:38:55] <johnjay> i see
[19:38:59] *** Quits: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za) (Remote host closed the connection)
[19:39:07] *** Quits: ekathva (~ekathva@88-114-118-220.elisa-laajakaista.fi) (Ping timeout: 260 seconds)
[19:39:09] <Soliton> !source
[19:39:09] <greybot> ''. scriptname'' (or ''source scriptname'', which is not portable) reads and executes the commands from scriptname in the current shell, as opposed to a separate instance of the shell. If scriptname does not contain a slash (/), it will be searched for in $PATH.
[19:39:11] <johnjay> portable in context meaning like for zsh or tch right?
[19:39:29] <phy1729> but if you source you have to deal with the idiosyncracies of the running shell rather than specifying the shell the script works with in the shebang
[19:39:59] <Soliton> portable often refers to what's specified by posix.
[19:40:14] <Soliton> or just what a lot of systems support.
[19:40:19] <johnjay> ok
[19:40:29] <johnjay> in normal english it means the latter
[19:40:40] <johnjay> but programming is not always consistent with normal english
[19:40:55] *** Joins: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft)
[19:49:04] *** Joins: darkxploit (~jay@32.209.19.50)
[19:50:53] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[19:57:45] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[19:59:11] *** Quits: shad (~shad@user/shad) (Ping timeout: 260 seconds)
[20:03:20] *** Parts: justsomeguy (~justsomeg@user/justsomeguy) (WeeChat 3.2)
[20:04:51] *** Joins: hyskaru1 (~hyskaru@user/hyskaru)
[20:08:45] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[20:09:20] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Client Quit)
[20:10:44] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[20:12:01] *** Quits: Bhavuk (~BTaneja@103.132.28.60) (Read error: Connection reset by peer)
[20:12:24] *** Joins: Bhavuk (~BTaneja@103.132.28.60)
[20:12:28] *** Joins: L3 (~L3@user/l3)
[20:13:18] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Read error: Connection timed out)
[20:14:51] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[20:18:00] *** Quits: Burger (~burger@user/burger) (Quit: Textual IRC Client: www.textualapp.com)
[20:18:02] *** Quits: mozgalom (~mozgalom@194.144.47.113) (Quit: SO LONG SUCKERS!)
[20:19:17] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[20:19:35] *** Quits: aramtsamtsam (~Thunderbi@94.239.102.102) (Ping timeout: 264 seconds)
[20:19:53] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[20:21:11] *** Quits: L3 (~L3@user/l3) (Quit: o/)
[20:21:21] *** Quits: zro (~zro@user/zro) (Ping timeout: 245 seconds)
[20:23:19] *** Joins: zro (~zro@user/zro)
[20:23:58] *** Quits: noarb (~noarb@user/noarb) (Read error: Connection reset by peer)
[20:24:07] *** Joins: noarb- (~noarb@user/noarb)
[20:29:45] *** Quits: hyskaru1 (~hyskaru@user/hyskaru) (Quit: hyskaru1)
[20:33:25] *** Joins: p3hz (~p3hz@89.187.181.117)
[20:35:49] *** Joins: rgrinberg (~textual@ip11-246-50-179.ct.co.cr)
[20:36:46] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[20:41:55] *** Joins: ekathva (~ekathva@88-114-118-220.elisa-laajakaista.fi)
[20:43:03] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[20:51:18] *** Quits: timj (~timj@user/timj) (Ping timeout: 265 seconds)
[20:55:06] *** Quits: mmh (~mmh@173-165-141-73-utah.hfc.comcastbusiness.net) (Quit: Leaving)
[20:55:11] *** Quits: drd (~drd@host-87-16-110-65.retail.telecomitalia.it) (Ping timeout: 260 seconds)
[20:59:26] *** Joins: magla (~gelignite@55d4747b.access.ecotel.net)
[21:00:23] *** Quits: nbao (~nbao@187.20.156.163) (Quit: Lost terminal)
[21:02:32] *** Joins: nbao (~nbao@187.20.156.163)
[21:03:07] *** Quits: p3hz (~p3hz@89.187.181.117) (Ping timeout: 260 seconds)
[21:03:54] *** Joins: timj (~timj@user/timj)
[21:04:30] *** Joins: wolfgang (~wolfgang@101.174.167.116)
[21:04:52] *** Quits: Bhavuk (~BTaneja@103.132.28.60) (Quit: Leaving)
[21:08:32] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[21:09:17] *** hyrcanus_ is now known as Joy-Unit
[21:10:19] *** Joins: extern (~archer@80.246.133.172)
[21:15:16] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[21:17:19] *** Joins: p3hz (~p3hz@89.187.181.117)
[21:21:57] *** Quits: extern (~archer@80.246.133.172) (Quit: tah tah H.)
[21:22:24] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.3)
[21:23:14] *** Joins: zeden (~zeden@user/zeden)
[21:24:28] *** Joins: tobybl (~tobybl@213.31.135.91)
[21:25:43] *** Quits: jsrnop (~mark@user/jsrnop) (Quit: The Lounge - https://thelounge.chat)
[21:27:02] *** Joins: jsrnop (~mark@user/jsrnop)
[21:31:04] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[21:32:21] *** Quits: tobybl (~tobybl@213.31.135.91) (Remote host closed the connection)
[21:32:42] *** Joins: tobybl (~tobybl@213.31.135.91)
[21:32:45] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[21:32:46] *** Quits: tobybl (~tobybl@213.31.135.91) (Remote host closed the connection)
[21:34:30] <earnestly> Soliton: (Mostly for fun I like to differentiate those two cases as portable and ported)
[21:38:40] *** Joins: eqw (~eqw@31.134.178.99)
[21:40:04] *** Joins: aramtsamtsam (~Thunderbi@94.239.102.102)
[21:40:56] *** Joins: Atque (~Atque@user/atque)
[21:41:31] *** Joins: lousiF (~lousiF@user/lousif)
[21:43:15] *** Quits: INeedAHandle (~INeedAHan@39.124.72.106) (Quit: My MacBook Air has gone to sleep. ZZZzzzâ€¦)
[21:44:20] *** Joins: ravan (~ravan@user/ravan)
[21:44:41] *** Quits: aramtsamtsam (~Thunderbi@94.239.102.102) (Client Quit)
[21:44:57] *** Quits: Scarecr0w (scarecr0w@user/scarecr0w) (Remote host closed the connection)
[21:46:45] *** Joins: zoe (~zoe@fsf/member/zoe)
[21:48:15] *** Quits: humky (~humky@user/humky) (Remote host closed the connection)
[21:48:29] *** Joins: humky (~humky@user/humky)
[21:49:01] *** Joins: INeedAHandle (~INeedAHan@39.124.72.106)
[21:50:15] *** Quits: DeaDSouL (~DeaDSouL@45.86.203.25) (Ping timeout: 260 seconds)
[21:51:55] *** Joins: DeaDSouL (~DeaDSouL@194.99.104.149)
[21:52:55] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[21:55:50] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Read error: Connection reset by peer)
[21:58:08] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Remote host closed the connection)
[21:58:36] *** Joins: millido (~millido@84.210.150.128)
[21:58:49] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[22:00:50] *** Quits: ravan (~ravan@user/ravan) (Quit: Leaving)
[22:05:28] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[22:07:50] *** Joins: Scarecr0w (scarecr0w@user/scarecr0w)
[22:08:11] *** Joins: tech_exorcist_ (txrcst@user/tech-exorcist/x-0447479)
[22:08:25] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[22:08:58] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Remote host closed the connection)
[22:09:00] *** Joins: Atque (~Atque@user/atque)
[22:09:17] *** Quits: Guest3327 (~smuxi@86-95-132-61.fixed.kpn.net) (Remote host closed the connection)
[22:11:33] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Quit: /msg NickServ IDENTIFY john_johnk Dg/ZXA'N)
[22:11:35] *** Joins: acresearch (~acresearc@user/acresearch)
[22:11:49] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[22:12:02] <acresearch> people i have a file with 201 million lines, is it possible to segment this text file into separate files each with 5 million lines?
[22:12:12] <acresearch> is there a cat command for this?
[22:12:21] *** Joins: ravan (~ravan@user/ravan)
[22:12:32] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Client Quit)
[22:12:36] <acresearch> head -n 5000000 FILENAME.txt > A.txt  ?
[22:12:47] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[22:13:06] <apathor> acresearch: there's a command called split that does exactly that
[22:13:13] <acresearch> apathor: oh
[22:14:12] <apathor> something like: split -l 5000000 "$filename" "$prefix"
[22:14:31] <acresearch> apathor:  ahh i see  ok was just searching to the syntax
[22:14:33] <acresearch> thanks
[22:18:36] *** Quits: rgrinberg (~textual@ip11-246-50-179.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:19:53] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[22:20:06] *** Joins: p3hz_ (~p3hz@89.187.181.117)
[22:20:25] *** Quits: p3hz (~p3hz@89.187.181.117) (Killed (NickServ (GHOST command used by p3hz_)))
[22:21:11] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[22:22:08] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[22:22:58] *** Quits: acresearch (~acresearc@user/acresearch) (Quit: WeeChat 2.8)
[22:23:47] *** Quits: ravan (~ravan@user/ravan) (Quit: Leaving)
[22:24:06] *** Joins: ravan (~ravan@42.201.198.151)
[22:24:06] *** Quits: ravan (~ravan@42.201.198.151) (Changing host)
[22:24:06] *** Joins: ravan (~ravan@user/ravan)
[22:24:34] *** Quits: wwallace (~afernande@63.240.73.102) (Ping timeout: 258 seconds)
[22:25:01] <peterrooney> apathor: nice. how come I've never seen this before in twenty years of shelling.
[22:25:40] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[22:25:52] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[22:26:02] *** Joins: wwallace (~afernande@63.240.73.102)
[22:26:05] *** Quits: ravan (~ravan@user/ravan) (Client Quit)
[22:26:22] *** Joins: ravan (~ravan@user/ravan)
[22:27:12] *** Quits: ravan (~ravan@user/ravan) (Remote host closed the connection)
[22:27:30] <apathor> i think it's posix so you have no excuse :P
[22:27:30] *** Joins: ravan (~ravan@42.201.198.151)
[22:27:31] *** Quits: ravan (~ravan@42.201.198.151) (Changing host)
[22:27:31] *** Joins: ravan (~ravan@user/ravan)
[22:28:11] *** Quits: zostj (~rue@1-162-40-226.dynamic-ip.hinet.net) (Quit: WeeChat 3.3)
[22:29:50] *** Joins: njitramii (~njitramii@144-027-180-159.dynamic.caiway.nl)
[22:29:57] <ljharb> is there any way to rewrite `echo 123 > file.txt` so that malicious code running before that line can't break it?
[22:30:17] *** Quits: ravan (~ravan@user/ravan) (Client Quit)
[22:30:56] *** Joins: ravan (~ravan@user/ravan)
[22:32:07] *** Quits: ravan (~ravan@user/ravan) (Read error: Connection reset by peer)
[22:32:10] <Joy-Unit> no
[22:33:08] *** Joins: extern (~archer@80.246.133.172)
[22:33:12] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Ping timeout: 276 seconds)
[22:33:32] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi) (Read error: Connection reset by peer)
[22:35:14] <ljharb> Joy-Unit: because of `echo`, or because of `>`?
[22:35:33] *** Joins: ravan (~ravan@user/ravan)
[22:37:19] <phy1729> aliases can screw up any command
[22:38:11] <phy1729> oh huh aliases can't contain /
[22:39:18] *** Quits: humky (~humky@user/humky) (Remote host closed the connection)
[22:39:19] *** Quits: ravan (~ravan@user/ravan) (Quit: Leaving)
[22:39:22] <Joy-Unit> you might be in the code's facsimile of a shell when issuing subsequent commands
[22:39:36] *** Joins: humky (~humky@user/humky)
[22:40:00] *** Joins: A|an (~Alan@173.216.51.200)
[22:41:46] *** Quits: Inline (~Inline@2a02:908:1252:7a80:aa94:ac75:d11d:97b0) (Ping timeout: 245 seconds)
[22:43:29] <Soliton> what does it matter what runs after malicious code? what's the design goal?
[22:44:38] *** Joins: Crescendo (~Crescendo@user/crescendo)
[22:44:59] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[22:45:01] *** Joins: ravan (~ravan@42.201.198.151)
[22:45:02] *** Quits: ravan (~ravan@42.201.198.151) (Changing host)
[22:45:02] *** Joins: ravan (~ravan@user/ravan)
[22:45:03] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[22:45:06] *** Joins: horribleprogram (~user@2607:fea8:7040:830:1431:b543:c667:1c6a)
[22:45:17] *** Quits: horribleprogram (~user@2607:fea8:7040:830:1431:b543:c667:1c6a) (Changing host)
[22:45:17] *** Joins: horribleprogram (~user@user/horribleprogram)
[22:45:54] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[22:46:02] *** Joins: ItsColdOutside (~max@88.207.180.157)
[22:46:27] *** Quits: ravan (~ravan@user/ravan) (Client Quit)
[22:46:39] <Joy-Unit> speaking of which i still don't yet know how i'm gonna get my 'background' sparkline, while using xterm more or less normally
[22:46:53] <Joy-Unit> i can emit cursor repositioning, draw what i want, and restore cursor position
[22:47:08] *** Joins: ravan (~ravan@user/ravan)
[22:47:43] <Joy-Unit> maybe it's really only sensible to do it in something like screen/tmux
[22:50:14] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[22:51:47] <apathor> Joy-Unit: like this tool? https://github.com/holman/spark
[22:52:45] <Joy-Unit> in principle yes, but i'd like them monitoring, cpu, temp, battery and network, in 4 scrolling / updating regions on top two lines of terminal
[22:53:18] <Joy-Unit> because that would be $fun and actually kind of useful
[22:53:25] *** Quits: ItsColdOutside (~max@88.207.180.157) (Ping timeout: 260 seconds)
[22:53:53] <Joy-Unit> also low resource use, and few / no dependencies
[22:55:08] <apathor> https://github.com/nicolargo/glances check this out
[22:55:16] <Joy-Unit> i think it'd need to spawn a subshell, making all proggies think their term has two less lines
[22:55:18] <Joy-Unit> ty
[22:55:24] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[22:55:43] *** Joins: Crescendo (~Crescendo@user/crescendo)
[22:55:50] <ljharb> Joy-Unit: ah so to be clear, i can guarantee i'm not in a subshell
[22:56:01] <ljharb> Joy-Unit: but i can't guarantee anything about the PATH or the builtin binaries
[22:56:31] <ljharb> Soliton: this is for a github action on a PR, where the checkout is thus untrusted code, and i'm trying to output a file with static (interpolated from github) contents that the user can't interfere with
[22:56:42] <phy1729> ljharb: that sucks; if you don't even have POSIX to lean on, you're SOL
[22:56:58] <ljharb> iow, if i output the file before potentially running user code, they can monkey with the file; if i output it after, they could monkey with the outputting mechanism
[22:57:08] *** Joins: greycat (~greg@209.142.155.49)
[22:57:15] *** Joins: irrgit (~irrgit@192.241.175.183)
[22:57:41] <Soliton> how is checking out random stuff the same as running malicious code??
[22:58:04] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[22:58:07] <phy1729> This is why github requires review before running PRs from new users
[22:58:21] <Soliton> how about you don't run the untrusted stuff you check out. just build it or whatever you're doing.
[22:58:25] <ljharb> Soliton: the repo i check out is the PR contents
[22:58:48] <ljharb> Soliton: the build script itself is part of that
[22:59:07] <Soliton> that is not how github actions work by default.
[22:59:31] <Soliton> if you do that you're lost. not sure what you think you can do about that.
[22:59:38] *** Joins: vlm (~vlm@user/vlm)
[22:59:48] * greycat wonders when he accidentally joined #github instead of #bash
[23:00:13] <ljharb> greycat: they asked about the use case.
[23:00:15] <ljharb> Soliton: i'm quite aware of how they work
[23:00:34] <phy1729> review PRs before running actions on them
[23:00:35] <ljharb> Soliton: that is how the pull_request event works by default with the checkout action, which i need to run the build step
[23:00:46] <ljharb> phy1729: that's not actually possible to enforce on non-new-contributors
[23:01:08] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Read error: Connection reset by peer)
[23:01:15] <geirha> git can tell you if the build script(s) has been modified in the PR though, so perhaps abort and require user intervention/review if they have? (I've never used github actions)
[23:01:26] *** Joins: juhop (~anon@192.3.81.147)
[23:01:36] <geirha> or is it common for PRs to change the build scripts?
[23:01:38] <riff-IRC> hey juhop
[23:01:59] <ljharb> geirha: it's not common, but it's not a check that's easily automateable
[23:02:06] <ljharb> the goal is to be able to run the user code, and then reliably output the PR number to a text file
[23:02:24] <ljharb> (so the build output and text file can be zipped up and sent somewhere)
[23:02:48] <Soliton> that is why you use pull_request_target not pull_request.
[23:03:58] *** Quits: juhop (~anon@192.3.81.147) (Client Quit)
[23:06:14] *** Joins: juhop (~anon@192.3.81.147)
[23:07:45] *** Quits: juhop (~anon@192.3.81.147) (Client Quit)
[23:11:10] *** Joins: juhop (~anon@192.3.81.147)
[23:11:38] *** Joins: shad (~shad@user/shad)
[23:15:39] *** Quits: mags (~mags@097-090-237-145.res.spectrum.com) (Ping timeout: 260 seconds)
[23:17:19] *** Joins: mags (~mags@097-090-237-145.res.spectrum.com)
[23:21:09] *** Joins: lavaball (felix@31.204.155.215)
[23:25:03] *** Joins: YaoNai (~YaoNai@user/yaonai)
[23:25:15] *** Quits: wwalker (~wwalker@platinum.solid-constructs.com) (Quit: leaving)
[23:25:21] *** Quits: njitramii (~njitramii@144-027-180-159.dynamic.caiway.nl) (Quit: WeeChat 3.2)
[23:25:53] *** Joins: njitramii (~njitramii@144-027-180-159.dynamic.caiway.nl)
[23:28:08] *** Joins: ylx (~ylx@p200300cf8f0a7202bea8a6fffe4cff95.dip0.t-ipconnect.de)
[23:30:20] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Quit: leaving)
[23:32:42] *** Quits: extern (~archer@80.246.133.172) (Quit: WeeChat 3.3)
[23:34:47] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 260 seconds)
[23:36:03] *** Joins: wwalker (~wwalker@platinum.solid-constructs.com)
[23:38:02] *** Quits: wwalker (~wwalker@platinum.solid-constructs.com) (Client Quit)
[23:38:12] *** Joins: wwalker (~wwalker@platinum.solid-constructs.com)
[23:38:32] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[23:39:55] *** Quits: mei (~mei@user/mei) (Ping timeout: 260 seconds)
[23:40:53] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[23:48:50] *** Quits: horribleprogram (~user@user/horribleprogram) (Remote host closed the connection)
[23:50:17] *** Quits: ylx (~ylx@p200300cf8f0a7202bea8a6fffe4cff95.dip0.t-ipconnect.de) (Quit: Konversation terminated!)
[23:52:04] *** Quits: OlCe (~user@amontpellier-654-1-5-203.w109-210.abo.wanadoo.fr) (Ping timeout: 265 seconds)
[23:52:16] *** Quits: wwalker (~wwalker@platinum.solid-constructs.com) (Quit: leaving)
[23:52:27] *** Joins: wwalker (~wwalker@platinum.solid-constructs.com)
[23:54:30] *** Joins: sublim20 (~sublim20@user/sublim20)
[23:56:25] *** Quits: makara (~makara@196.214.171.83) (Ping timeout: 265 seconds)
[23:56:47] *** Quits: makara1 (~makara@196.214.171.83) (Ping timeout: 264 seconds)
[23:57:39] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:1849:4f5f:1c0b:e16f)
[23:57:39] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:1849:4f5f:1c0b:e16f) (Changing host)
[23:57:39] *** Joins: skapata (~Skapata@user/skapata)
