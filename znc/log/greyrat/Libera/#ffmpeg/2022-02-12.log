[00:00:32] *** Quits: epony (epony@user/epony) (Ping timeout: 240 seconds)
[00:01:38] *** Joins: pong (~beaver@user/pong)
[00:01:42] *** Quits: a0z (~a0z@90.244.190.0) (Quit: Leaving)
[00:03:11] *** Joins: itsalexjones (~itsalexjo@82.4.99.241)
[00:05:56] *** Quits: pong (~beaver@user/pong) (Remote host closed the connection)
[00:06:53] *** Joins: pong (~beaver@user/pong)
[00:10:55] *** Quits: pong (~beaver@user/pong) (Remote host closed the connection)
[00:18:04] *** Quits: Volgaar (~volgaar@147.94.11.43) (Ping timeout: 250 seconds)
[00:18:40] *** Joins: pong (~beaver@user/pong)
[00:25:10] <skinkie> JEEB: the original filesize is 121MB the ProRes 4444 output is 609MB
[00:26:12] *** Quits: pong (~beaver@user/pong) (Remote host closed the connection)
[00:28:47] *** Quits: aphysically (~aphysical@user/aphysically) (Quit: aphysically)
[00:30:09] *** Joins: Volgaar (~volgaar@147.94.11.43)
[00:35:22] *** Joins: aphysically (~aphysical@user/aphysically)
[00:35:51] *** Joins: pong (~beaver@user/pong)
[00:37:27] *** Quits: Volgaar (~volgaar@147.94.11.43) (Ping timeout: 256 seconds)
[00:39:51] *** Quits: zumba_addict (~zumba_add@2601:240:4500:8320:224:1dff:fec8:64f6) (Quit: Client closed)
[00:51:01] *** Quits: cosimone (~user@93-47-230-95.ip115.fastwebnet.it) (Quit: ERC (IRC client for Emacs 27.1))
[00:51:48] <kepstin> skinkie: i recall already answering you yesterday? prores and png compression work in completely different ways, so depending on video content and settings, one might be smaller than the other or vice-versa.
[00:52:55] *** Quits: morpheuz (~morpheuz@user/morpheuz) (Ping timeout: 250 seconds)
[00:56:46] <skinkie> kepstin: i didn't see any notification :(
[00:57:10] <skinkie> kepstin: is there a way to get prores 'smaller'?
[00:57:29] *** pong is now known as Guest4242
[00:57:38] *** Quits: fkaa (~fkaa@user/fkaa) (Remote host closed the connection)
[01:00:00] <kepstin> not as far as i know; you get what you get. The normal reason to use prores is for application compatibility, not compression ratio.
[01:01:16] <skinkie> kepstin: ok, clear. Is there any format that supports transparancy and compression?
[01:01:55] <kepstin> if you're using the prores_ks encoder i think there are some tuning options; you can select 4444 vs. 444xq profiles which have different target bitrates, and there's some other options that do... something, i dunno what.
[01:02:13] <kepstin> prores is compressed, so is a bunch of png files :)
[01:02:44] <another|> transparency? Is this an intermediate for editing?
[01:03:02] <skinkie> another|: yes an animation
[01:03:14] <kepstin> yeah, for an intermediate file prores is probably an appropriate format.
[01:03:21] <another|> well, what does your software support?
[01:03:31] <kepstin> but normally you'd be compositing to an opaque video before doing a final encode for distribution or use.
[01:04:24] <kepstin> afaik, the only somewhat well supported codec optimized for high compression ratios for video distribution with an alpha channel is vp9
[01:04:50] <another|> caveat: ffvp9 does not support it
[01:05:19] <skinkie> another|: my software supports everything :) Vegas does not :)
[01:05:43] <kepstin> huh, i know a bunch of web browsers can play transparent vp9, but i thought they mostly used ffvp9. i wonder how that works
[01:05:51] <kepstin> do they detect it and switch to libvpx? :/
[01:06:33] *** Joins: five6433334 (~five6@8.40.26.30)
[01:07:08] <kepstin> (i think i've seen people use vp9 videos with alpha channels for stuff like obs overlays too)
[01:08:17] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Ping timeout: 240 seconds)
[01:11:36] *** Joins: zumba_addict (~zumba_add@2601:240:4500:8320:224:1dff:fec8:64f6)
[01:13:40] <skinkie> kepstin: lets say I wouldn't have expected that prores would do worse than PNG. But I can obviously give vpx a shot :)
[01:14:22] <another|> Why do you care about the size of an intermediate so much?
[01:14:27] <kepstin> i think in your case, png just worked better than expected; its method of compression works particularly well on stuff like flat-shaded digital animations.
[01:14:41] <kepstin> and yeah, vp9's not a format i'd recommend for intermediates.
[01:14:45] <another|> vp9 is not a (good) editing formast
[01:14:55] <skinkie> another|: because 700MB for 30s of video to be send to another guy over the internet is just _too much_.
[01:15:49] *** Joins: morpheuz (~morpheuz@user/morpheuz)
[01:16:38] *** Joins: Volgaar (~volgaar@147.94.11.43)
[01:17:27] <skinkie> libvpx in ffmpeg as codec does not go transparant, by the default setting
[01:17:28] *** Quits: Volgaar (~volgaar@147.94.11.43) (Client Quit)
[01:18:17] <skinkie> mmm... or the player does not. Hard one to figure out.
[01:18:46] <kepstin> if the player is using ffmpeg's internal vp9 decoder, then it won't do transparency. need to explicitly select libvpx, i think
[01:21:25] <skinkie> I have to brush op my gstreamer skills to do so.
[01:23:32] *** Quits: lavaball (thomas@31.204.155.215) (Remote host closed the connection)
[01:23:53] <skinkie> kepstin: i guess it is not encodec in Y444, so likely it is an ffmpeg action first
[01:24:11] <skinkie> https://gstreamer.freedesktop.org/documentation/vpx/vp9dec.html?gi-language=c
[01:24:17] <kepstin> should be able to tell that from the cli output of ffmpeg
[01:24:24] <skinkie> this suggest that gstreamer also doesn't eat transparancy
[01:24:49] <skinkie> Stream #0:0: Video: vp9 (Profile 0), yuv420p(tv, progressive), 1920x1080, SAR 1:1 DAR 16:9, 60 fps, 60 tbr, 1k tbn, 1k tbc (default)
[01:25:44] <another|> which decoder did you uese?
[01:26:07] <skinkie> another|: the suggestion of that pipeline was libvpx
[01:26:27] <kepstin> skinkie: i need to see the output of your ffmpeg encoder command, i dunno what that is you pasted but it looks like input
[01:26:44] <skinkie> ffmpeg -i animatie.mkv -c:v libvpx-vp9 -pix_fmt yuva420p peter-annelies.web
[01:27:03] <kepstin> (ideally, please use a pastebin site to share the complete command output)
[01:28:13] <skinkie> The output of the action with pix_fmt still ends up in yuv420p
[01:29:25] <kepstin> does it? or does it not? i still don't know. please share the requested information.
[01:30:34] <kepstin> but i would expect the command line given (assuming you actually made a typo, and it's really ".webm" at the end) to generate a file with transparency, assuming the input had transparency.
[01:31:28] <skinkie> https://pastebin.com/M0ceCZyE
[01:32:27] <skinkie> https://pastebin.com/Kd5qKL7m
[01:32:32] *** Quits: XdaddyZX_ (uid456733@id-456733.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[01:33:14] <kepstin> ok, yes, ffmpeg correctly generated a file with transparency there (from your second paste)
[01:33:23] <skinkie> kepstin: maybe the issue is that the 'decoder' step does not in the libvpx one?
[01:33:40] <kepstin> so any issues with that would be resulting from incompatibilities in the decoder / player.
[01:34:24] <skinkie> kepstin: I would love to know which vpx tool could be used to test
[01:34:58] <kepstin> web browser should work for testing the file
[01:36:22] *** Joins: crashrep (~crashrep@user/crashrep)
[01:37:15] <skinkie> kepstin: got it. Works!
[01:51:34] <skinkie> kepstin: for your info, while it took quite some while to encode the vpx. The output is only 1712kB and is usable.
[01:53:09] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[01:53:25] *** Joins: epony (epony@user/epony)
[01:54:28] *** Joins: Hackerpcs (~user@user/hackerpcs)
[01:54:45] *** Quits: Hackerpcs (~user@user/hackerpcs) (Max SendQ exceeded)
[02:11:31] <aphysically> I wonder if I can use srt for transferring video files over net, but I'm not how (if at all?) it can all handle faster-than-realtimie
[02:11:35] *** Quits: Gaboradon (~Gaboradon@user/Gaboradon) (Ping timeout: 250 seconds)
[02:12:07] <aphysically> when I have packet loss to the destination server I get ~5-10x faster reliable SRT streaming than I get rsync transfers
[02:12:19] <aphysically> although the rsync ends up being about the same at times when I have no packet loss
[02:12:36] <TheSas___> aphysically: yup you can do that with SRT
[02:14:14] <aphysically> today is not a low/no packet loss day :^(
[02:15:00] *** Joins: Gaboradon (~Gaboradon@user/Gaboradon)
[02:18:58] *** Joins: rya (~ry@user/rya)
[02:51:35] *** Quits: crashrep (~crashrep@user/crashrep) (Remote host closed the connection)
[02:52:04] *** Joins: crashrep (~crashrep@user/crashrep)
[02:57:37] *** Quits: alban771 (~alban@37.168.89.255) (Ping timeout: 240 seconds)
[02:58:09] <skinkie> Is there any open source package that can already do multipath-srt?
[02:58:14] *** Quits: u0_a3111 (~u0_a311@37.168.89.255) (Ping timeout: 256 seconds)
[02:59:52] *** Quits: nobiz (~nobiz@user/nobiz) (Quit: The Lounge - https://thelounge.chat)
[03:08:54] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[03:12:46] *** Joins: nobiz (~nobiz@user/nobiz)
[03:27:25] *** Quits: Buster_ (~Buster@buster-net.ru) (Ping timeout: 240 seconds)
[03:30:06] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[03:30:39] *** Joins: duuude (~user@user/duuude)
[03:40:45] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-5830-81a9-b2a9-186d.res6.spectrum.com)
[03:42:55] *** Joins: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua)
[03:46:29] *** Quits: duuude (~user@user/duuude) (Ping timeout: 256 seconds)
[03:48:57] *** Quits: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua) (Quit: Konversation terminated!)
[03:54:01] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[03:57:27] *** Joins: sancanella (~sancanell@85.152.249.184)
[03:58:40] <sancanella> hey, I need some help. I am triying to execute graph2dot from windows, but It prompts "No such filter: 'nullsrc'" no matters which input I try.
[03:59:24] *** Joins: Mister_Magister_ (~Mister_Ma@user/mister-magister/x-2636733)
[03:59:36] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Read error: Connection reset by peer)
[04:04:17] *** Quits: Mister_Magister_ (~Mister_Ma@user/mister-magister/x-2636733) (Ping timeout: 240 seconds)
[04:07:06] <another|> #
[04:08:46] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[04:10:57] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[04:14:54] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Quit: bye)
[04:16:02] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[04:16:33] *** Quits: sancanella (~sancanell@85.152.249.184) (Quit: Connection closed)
[04:30:41] *** Quits: rv1sr (~rv1sr@user/rv1sr) ()
[04:33:52] *** Joins: wallbroken (wallbroken@user/wallbroken)
[04:33:58] <wallbroken> hi guys
[04:34:06] <wallbroken> do you know what "m360p" means?
[04:36:28] <BtbN> never heard of that, and google finds random stuff, so I doubt it exists
[04:38:00] <wallbroken> some video files i download have "m360p" in the title
[04:41:48] *** Joins: c7s (~c7s@user/c7s)
[04:57:53] *** Joins: novaphoenix (~quassel@163.172.98.86)
[05:00:43] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[05:16:04] *** Joins: duuude (~user@user/duuude)
[05:16:11] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 245 seconds)
[05:16:57] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.4)
[05:17:38] *** Joins: cheetahw26 (~cheetahw2@14.150-pool-xdsl-mi.sccoast.net)
[05:21:44] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[05:26:07] *** Quits: Jan\ (~kvirc@104.204.200.69) (Quit: KVIrc 5.0.1 Aria http://www.kvirc.net/)
[05:30:17] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:33:17] *** Joins: vlm (~vlm@user/vlm)
[05:41:31] *** Joins: led_belly (~led_belly@37.120.197.46)
[05:43:19] *** Quits: xkuru (~xkuru@user/xkuru) (Read error: Connection reset by peer)
[05:53:09] *** Quits: itsalexjones (~itsalexjo@82.4.99.241) (Read error: Connection reset by peer)
[06:09:53] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Quit: shibboleth)
[06:24:37] *** Quits: w1kl4s (~w1kl4s@user/w1kl4s) (Quit: Ping timeout (120 seconds))
[06:25:02] *** Joins: w1kl4s (~w1kl4s@user/w1kl4s)
[06:28:19] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[06:31:55] *** Joins: Vonter (~Vonter@user/vonter)
[06:45:13] *** Quits: jos1 (~jos3@dyndsl-091-248-048-206.ewe-ip-backbone.de) (Ping timeout: 256 seconds)
[06:46:52] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[06:57:51] *** Joins: jos1 (~jos3@dyndsl-178-142-069-187.ewe-ip-backbone.de)
[07:05:25] *** Quits: duuude (~user@user/duuude) (Ping timeout: 240 seconds)
[07:10:43] *** Quits: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se) (Ping timeout: 256 seconds)
[07:49:59] *** Joins: dreamon (~dreamon@p54b14d36.dip0.t-ipconnect.de)
[07:53:28] <kepstin> no idea what the m means, but ###p is a common way to refer to the vertical resolution (height) of video
[07:53:56] <kepstin> so someone probably just put that in the filename to tell you that the video's 360 pixels tall (a pretty low resolution)
[08:14:59] *** Joins: zumba_addict63 (~zumba_add@2601:240:4500:8320:224:1dff:fec8:64f6)
[08:18:05] <furq> probably mobile
[08:18:52] <furq> it's not a real tag though
[08:44:02] *** Quits: NaviTheFairy (~Squirrel@user/navithefairy) (Ping timeout: 268 seconds)
[09:02:19] *** Quits: zumba_addict (~zumba_add@2601:240:4500:8320:224:1dff:fec8:64f6) (Quit: Client closed)
[09:33:22] *** Quits: foul_owl (~kerry@174-21-76-71.tukw.qwest.net) (Quit: WeeChat 2.3)
[09:38:36] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Quit: bye)
[09:40:21] *** Joins: foul_owl (~kerry@174-21-76-71.tukw.qwest.net)
[09:41:03] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 276 seconds)
[09:41:16] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[09:47:36] *** Joins: Nact (~l@host-149-154-225-118.dynamic.voo.be)
[09:54:19] *** Quits: Nact (~l@host-149-154-225-118.dynamic.voo.be) (Quit: Konversation terminated!)
[09:55:22] *** Quits: therobin (~UserNick@2607:f2c0:9305:f00:615d:c7fa:731a:bb57) (Quit: Going offline, see ya! (www.adiirc.com))
[09:58:19] *** Joins: Buster_ (~Buster@buster-net.ru)
[09:59:42] *** Quits: demon__ (~user@62.114.238.173) (Remote host closed the connection)
[10:00:59] *** Joins: someuser (~user@62.114.238.173)
[10:14:58] *** Joins: crashrep (~crashrep@user/crashrep)
[10:20:03] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 276 seconds)
[10:26:18] *** Joins: anotheruser (~user@62.114.112.174)
[10:29:17] *** Quits: someuser (~user@62.114.238.173) (Ping timeout: 240 seconds)
[10:47:59] *** Joins: crashrep (~crashrep@user/crashrep)
[10:48:57] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 240 seconds)
[10:52:41] *** Quits: mven (~mven@ip68-104-39-54.lv.lv.cox.net) (Quit: Goodbye.)
[10:53:12] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 276 seconds)
[10:55:29] *** Joins: mven (~mven@ip68-104-39-54.lv.lv.cox.net)
[10:57:52] *** Joins: lavaball (thomas@31.204.155.215)
[10:59:54] *** Quits: dreamon (~dreamon@p54b14d36.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[11:02:54] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[11:15:19] *** Quits: mven (~mven@ip68-104-39-54.lv.lv.cox.net) (Quit: Goodbye.)
[11:18:07] *** Joins: mven (~mven@ip68-104-39-54.lv.lv.cox.net)
[11:18:54] *** Joins: NaviTheFairy (~Squirrel@user/navithefairy)
[11:25:42] *** Quits: OsteHovel_ (~OsteHovel@ti0056a400-0096.bb.online.no) (Quit: Leaving)
[11:25:57] *** Joins: OsteHovel_ (~OsteHovel@ti0056a400-0096.bb.online.no)
[11:25:57] *** OsteHovel_ is now known as OsteHovel
[11:26:33] *** Joins: Volgaar (~volgaar@147.94.11.43)
[11:26:41] *** Joins: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua)
[11:28:48] *** Quits: anotheruser (~user@62.114.112.174) (Ping timeout: 256 seconds)
[11:42:35] *** Joins: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de)
[12:10:57] *** Quits: Buster_ (~Buster@buster-net.ru) (Ping timeout: 240 seconds)
[12:27:34] *** Joins: palasso (~palasso@user/palasso)
[12:30:32] *** Joins: cosimone (~user@93-44-184-23.ip98.fastwebnet.it)
[12:38:03] *** Joins: Buster_ (~Buster@buster-net.ru)
[12:41:50] *** Parts: ddevault (e7b4bb6755@sourcehut/staff/ddevault) (detach #ffmpeg)
[12:48:49] *** Joins: crashrep (~crashrep@user/crashrep)
[12:50:12] *** Quits: jschwart (~quassel@2001:985:2c6e:0:b00b:32ff:fe28:5567) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[12:52:18] *** Joins: jschwart (~quassel@2001:985:2c6e:0:b00b:32ff:fe28:5567)
[12:53:34] *** Joins: duuude (~user@user/duuude)
[12:54:06] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 276 seconds)
[12:54:20] *** Quits: Volgaar (~volgaar@147.94.11.43) (Quit: WeeChat 3.4)
[13:00:55] *** Joins: alban771 (~alban@37.166.208.197)
[13:16:11] *** Joins: muji369 (~muji369@92.40.176.75.threembb.co.uk)
[13:17:30] <muji369> hi, i'm trying to encode AAC audio using libfdk_aac, but no matter what flags i pass i always get output with 700kbit/s bitrate. i've tried both with `-b 224k` and `-vbr 5`. when using `-b 224k`, the output stream shows `Stream #0:1(dan): Audio: aac ([255][0][0][0] / 0x00FF), 48000 Hz, mono, s16, 224 kb/s (default)`, but in the output file the rate is still 700kbit/s.
[13:18:33] <furq> what are you checking the bitrate with
[13:19:11] <muji369> furq: just manually, dividing the stream size by the stream length
[13:19:19] <furq> 700kbps per channel shouldn't even be possible with fdk
[13:20:07] <muji369> furq: mhm. actually i'm getting the stream size with `mediainfo`. maybe that's wrong?
[13:20:15] <furq> it shouldn't be
[13:20:22] <furq> pastebin the mediainfo output
[13:21:15] <muji369> furq: i think i know what's happening
[13:21:17] <muji369> furq: https://pastebin.com/dQcud5WE
[13:21:28] <muji369> i think the file metadata i'm converting this from stays around
[13:21:37] <furq> oh
[13:21:42] <furq> yeah that looks like the problem
[13:22:01] <muji369> furq: does ffmpeg have any facilities to obviate that?
[13:22:05] <muji369> just manually stomp the metadata?
[13:22:57] <muji369> furq: yea the "stream size" field is wrong
[13:23:33] <furq> yeah the stream size for the video is 21GB bigger than the entire file
[13:23:46] <furq> mediainfo is kind of dumb sometimes
[13:24:37] <furq> i didn't know there were even standard metadata keys for bitrate in matroska
[13:25:09] <furq> maybe take a look with mkvtoolnix
[13:25:47] <furq> if you figure out what the key is then to avoid it in future -metadata:s:a:0 keyname=
[13:26:12] <furq> but since you already have the file then mkvpropedit should be able to fix it without remuxing
[13:26:20] <muji369> furq: well, ideally i'd like to replace them with the right thing
[13:26:50] <furq> ffmpeg wouldn't generate those keys anyway
[13:27:27] <furq> the mkvtoolnix wiki claims there are no such keys
[13:27:31] <furq> so idk what mediainfo is even reading
[13:27:40] <muji369> furq: my guess is that handbrake generates those keys
[13:27:43] <furq> https://gitlab.com/mbunkus/mkvtoolnix/-/wikis/Meta-data-fields-like-bitrate-lost
[13:27:47] <muji369> since the original files were populated with handbrake
[13:29:05] <furq> Note that starting with v7.0.0 mkvmerge will create track-specific statistics and store them in tags.
[13:29:08] <furq> oh
[13:29:11] <furq> it'll be those then
[13:29:31] <furq> if you want them to be filled in correctly then just remux with mkvmerge
[13:29:54] <furq> i don't think there's any real benefit to having them though
[13:30:05] <furq> i usually disable it when using mkvmerge
[13:30:49] *** Joins: fkaa (~fkaa@user/fkaa)
[13:30:51] <muji369> furq: i've never used mvkmerge -- is there a straightforward way to remux keeping everything intact?
[13:31:24] <furq> the ffmpeg matroska muxer doesn't generate those tags
[13:32:02] <galad> stream size in media info is an approximation I guess, HandBrake uses the ffmpeg muxer and doesn't write those additional statistics
[13:32:44] <furq> those tags will have been passed through from the source
[13:32:58] <furq> hence the video stream supposedly being 22GB in a 4.5GB file
[13:33:28] <galad> handbrake doesn't pass thru such metadata anyway
[13:33:34] <furq> well something did
[13:33:37] <muji369> ah, just remuxing with mkvmerge worked! thank you!
[13:34:08] <furq> ffmpeg passes those tags through so presumably handbrake does as well
[13:34:16] <furq> but i've not used it in a long time
[13:34:34] <galad> no handbrake does not
[13:34:40] <furq> it's just global matroska metadata so i'd assume it would
[13:35:07] <furq> not like mp4 which has specific stream metadata for that
[13:35:54] <galad> mp4 doesn't have a specific metadata, but it has got a complete index so it's easy to calculate the actual size of each track
[13:36:33] <galad> actually it's fast, but only easy to calculate
[13:38:40] <furq> https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap3/qtff3.html#//apple_ref/doc/uid/TP40000939-CH205-SW120
[13:40:08] <galad> yup I forgot about that, but even without that it's easy and fast to get the bitrate and stream size
[13:41:21] <furq> that's actually part of a spec rather than just some random metadata keys that mkvmerge decided to use
[13:42:33] <furq> which is annoying because it means everything here is technically correct even though something obviously stupid happened
[13:42:55] <furq> although i guess mediainfo probably should be more rigorous
[14:02:47] *** Joins: realies3 (~realies@user/realies)
[14:03:17] *** Quits: realies (~realies@user/realies) (Ping timeout: 240 seconds)
[14:03:17] *** realies3 is now known as realies
[14:06:24] *** Joins: OsteHovel_ (~OsteHovel@ti0056a400-0096.bb.online.no)
[14:09:44] *** Quits: OsteHovel (~OsteHovel@ti0056a400-0096.bb.online.no) (Ping timeout: 256 seconds)
[14:27:44] *** Quits: Some_Person (someperson@23-118-229-174.lightspeed.hstntx.sbcglobal.net) (Quit: ZNC 1.8.2 - https://znc.in)
[14:31:09] *** Joins: Some_Person (someperson@23-118-229-174.lightspeed.hstntx.sbcglobal.net)
[14:32:52] *** Joins: guest95 (~guest@124.126.139.203)
[14:35:56] *** Joins: therobin (~UserNick@2607:f2c0:932b:7700:cd5f:d56f:ca23:d54f)
[14:39:12] *** Quits: guest95 (~guest@124.126.139.203) (Ping timeout: 256 seconds)
[14:39:38] *** Quits: cosimone (~user@93-44-184-23.ip98.fastwebnet.it) (Remote host closed the connection)
[14:40:18] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[14:49:42] *** Joins: crashrep (~crashrep@user/crashrep)
[14:55:00] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 276 seconds)
[15:00:22] *** Quits: rvalue (~rvalue@user/rvalue) (Ping timeout: 250 seconds)
[15:14:26] *** Quits: Thedarkb1-Deskto (~Thedarkb@2001:bb6:b403:e042:79b7:c08:b478:f78d) (Read error: Connection reset by peer)
[15:15:23] *** Joins: Thedarkb-Desktop (~Thedarkb@78.141.240.26)
[15:26:12] *** Joins: Loken (~Loken@108.61.163.109)
[15:36:46] *** Quits: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua) (Quit: Konversation terminated!)
[15:36:51] *** Joins: ivanich_ (~ivanich@45-140-123-239.broadband.tenet.odessa.ua)
[15:42:07] *** Quits: LuKaRo (~LuKaRo@p200300dfa72f4bb300000000000001f9.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[15:45:36] *** Joins: LuKaRo (~LuKaRo@p4fc3264a.dip0.t-ipconnect.de)
[15:46:17] <duuude> anyone online?
[15:48:01] <duuude> how to record from a capture device in ffmpeg and save it in a size-efficient manner?
[15:48:42] <dreamer> define "capture device" and "size-efficient"
[15:50:14] <duuude> dreamer: something you stick composite in, and in turn stick in USB, which records input.
[15:51:07] <dreamer> well that would greatly depend on said usb capture-device of course
[15:51:13] <AMM> Sane capture devices show up under dshow on windows, and /dev/video0 etc on linux
[15:51:29] <AMM> Some unsane ones will act as a TV tuner and I'm not touching those
[15:51:34] <duuude> it does have a /dev/video0
[15:51:44] <duuude> probably sane
[15:51:49] <dreamer> and even worse ones will require some custom software to interact/decode whatever comes out
[15:52:04] <duuude> no, vlc displays its input just fine
[15:52:05] <AMM> Just write a custom USB driver
[15:52:26] <AMM> but yeah you'll just use v4l2 in ffmpeg and now you get video
[15:52:35] <AMM> Audio is a different matter, if it matters
[15:53:12] <duuude> just recording using vlc either gobbles up all the hard-disk or breaks the video (too fast, weird visual artifacts, etc.)
[15:53:25] <duuude> so I thought ffmpeg would do it just fine
[15:53:37] <BtbN> You're aware that VLC uses ffmpeg?
[15:53:47] <duuude> can it record and then save it compressed?
[15:53:52] <AMM> You can record audio with the alsa "format", if you figure out which device you want
[15:53:55] <BtbN> It can and does, yes.
[15:54:04] <duuude> BtbN: maybe, but you can add brokenness on top of stuff
[15:54:09] <AMM> "size-efficient" is just your usual "how to libx264"
[15:54:19] <BtbN> But just grab any of the v4l examples from the Wiki, and make them work for your case.
[15:54:34] <AMM> ffmpeg -i /dev/video0 -c:v libx264 -crf 23 out.mkv
[15:54:34] <BtbN> ffmpeg doesn't overly care if it's a webcam or something else
[15:54:46] <AMM> Raise or lower crf for your needs
[15:55:17] <AMM> If you do audio you may very much want to do -vf "setpts=(PTS-STARTPTS)" -af "asetpts=(PTS-STARTPTS)" if whatever device you have has them offset (like my avermedia did)
[15:55:28] <duuude> AMM: does it record audio too?
[15:55:34] <AMM> No
[15:55:40] <duuude> how to do that?
[15:55:47] <AMM> [14:23:52] <AMM> You can record audio with the alsa "format", if you figure out which device you want
[15:55:59] <duuude> using pulseaudio microphone or whatever
[15:56:00] <NyB> out of curiosity, does ffmpeg support any of the weird SoC h.264 encoders out there? Like what some IP cameras have? I've been assuming that most of it is propretary crap, but...
[15:56:03] <AMM> -f alsa -i hw:CARD=C4K,DEV=0
[15:56:05] <AMM> etc
[15:56:20] <duuude> how to figure out which device i want? :)
[15:56:32] <NyB> duuude: trial and error, like a cat?
[15:56:37] <AMM> ask google how to enumerate alsa devices
[15:56:45] <AMM> or `man arecord` or such
[15:57:10] <fkaa> NyB, i've never encountered any IP camera stream that ffmpeg couldn't decode
[15:57:20] <duuude> does -f pulse work?
[15:57:58] <NyB> fkaa: not decode, encode. As in, running ffmpeg on the silly IoT thingie itself.
[15:58:33] <fkaa> oh right, misread that
[15:58:54] <duuude> how to record from the "pulse" input
[15:59:01] <duuude> i heard that works on VLC
[15:59:54] <duuude> I am remotely helping someone without a speaker so trial and error is not quite desirable
[16:00:37] <BtbN> There is no other way really, than trying and checking results
[16:01:47] <duuude> is there no way to get audio from that magical pulseaudio sound input thing?
[16:03:12] <duuude> sorry if i am being frustrating
[16:03:20] <duuude> AMM: ffmpeg -i /dev/video0 -c:v libx246 -crf23 out.mkv -f pulse
[16:03:37] <duuude> gave, Unrecognized option 'crf23'.
[16:04:15] *** Joins: rvalue (~rvalue@user/rvalue)
[16:05:43] <AMM> I think you should read a couple of the wiki pages or some other tutorial to understand how to use ffmpeg
[16:06:12] <AMM> The wiki pages, as mentioned, have examples for h264 (libx264) and audio encoding, and v4l2 and likely alsa/pulse input
[16:06:54] <duuude> indeed, but i am helping someone else and i am short on time right now
[16:06:55] <AMM> I get you'd rather get an answer fast but you're missing a space and skip thinking about it, instead reporting it here
[16:07:21] <AMM> Give them links to the pages, or tell them you'll figure it out and give them a command later
[16:11:02] <duuude> which wiki pages?
[16:11:50] <duuude> oh, saw the space
[16:13:29] <duuude> thanks for helping
[16:32:10] *** Joins: xkuru (~xkuru@user/xkuru)
[16:48:36] *** Quits: Loken (~Loken@108.61.163.109) (Quit: Connection closed)
[16:49:10] *** Joins: Loken2 (~233819509@120.231.13.22)
[16:49:16] *** Joins: therobin_ (~UserNick@2607:f2c0:932b:7700:5cd8:65cc:7576:c304)
[16:49:26] *** Joins: Loken (~Loken@108.61.163.109)
[16:50:15] *** Quits: Loken (~Loken@108.61.163.109) (Client Quit)
[16:50:20] *** Quits: Loken2 (~233819509@120.231.13.22) (Remote host closed the connection)
[16:50:23] *** Quits: therobin (~UserNick@2607:f2c0:932b:7700:cd5f:d56f:ca23:d54f) (Ping timeout: 250 seconds)
[16:50:31] *** Joins: crashrep (~crashrep@user/crashrep)
[16:50:32] *** therobin_ is now known as therobin
[16:50:40] *** Joins: Loken2 (~233819509@120.231.13.22)
[16:55:54] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 276 seconds)
[16:59:12] <Loken2> test
[17:06:00] *** Quits: alban771 (~alban@37.166.208.197) (Quit: WeeChat 3.4)
[17:07:39] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Read error: Connection reset by peer)
[17:08:05] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[17:08:37] *** Quits: ivanich_ (~ivanich@45-140-123-239.broadband.tenet.odessa.ua) (Ping timeout: 240 seconds)
[17:28:09] *** Quits: wolfshappen (~waff@irc.furworks.de) (Ping timeout: 256 seconds)
[17:28:45] *** Joins: wolfshappen (~waff@irc.furworks.de)
[17:35:11] *** Quits: pa (~pah@user/pah) (Ping timeout: 256 seconds)
[17:35:47] <duuude> could cpu being busy cause interruptions in the recording?
[17:37:36] *** Joins: pah (~pah@user/pah)
[17:52:45] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[17:59:33] *** Quits: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de) (Ping timeout: 256 seconds)
[18:07:29] *** Quits: pah (~pah@user/pah) (Quit: quit.)
[18:08:11] *** Joins: crashrep (~crashrep@user/crashrep)
[18:08:20] *** Joins: pah (~pah@user/pah)
[18:13:15] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 276 seconds)
[18:17:44] *** Joins: rv1sr (~rv1sr@user/rv1sr)
[18:20:57] *** Quits: dbal (~dbal@2603:300c:b04:b100:d105:4331:eefb:3b7a) (Ping timeout: 240 seconds)
[18:22:06] *** Joins: someuser (~user@197.54.81.3)
[18:24:44] *** Joins: Kruppt (~Kruppt@50-111-42-156.drhm.nc.frontiernet.net)
[18:25:42] *** Joins: ivanich_ (~ivanich@45-140-123-239.broadband.tenet.odessa.ua)
[18:26:54] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[18:27:31] *** Joins: dbal (~dbal@2603:300c:b04:b100:a539:5d64:2d7d:8a8b)
[18:28:20] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[18:35:10] *** Joins: dreamon (~dreamon@p54b14d36.dip0.t-ipconnect.de)
[18:42:07] *** Quits: pah (~pah@user/pah) (Quit: quit.)
[18:42:56] *** Joins: pah (~pah@user/pah)
[18:46:53] *** Joins: crashrep (~crashrep@user/crashrep)
[18:49:06] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Remote host closed the connection)
[18:49:58] *** Quits: dreamon (~dreamon@p54b14d36.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[18:52:07] *** Quits: Loken2 (~233819509@120.231.13.22) (Remote host closed the connection)
[18:52:30] *** Joins: Loken2 (~233819509@120.231.13.22)
[18:52:53] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[18:53:10] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[19:02:20] *** Quits: therobin (~UserNick@2607:f2c0:932b:7700:5cd8:65cc:7576:c304) (Remote host closed the connection)
[19:02:20] *** Joins: dreamon (~dreamon@p54b14d36.dip0.t-ipconnect.de)
[19:12:26] *** Joins: cosimone (~user@93-44-184-23.ip98.fastwebnet.it)
[19:32:29] *** Joins: therobin (~UserNick@2607:f2c0:932b:7700:6540:e707:6259:8403)
[19:40:00] *** Joins: Volgaar (~volgaar@anancy-654-1-89-bdcst.w90-39.abo.wanadoo.fr)
[20:15:35] *** Quits: Guest4242 (~beaver@user/pong) (Remote host closed the connection)
[20:17:49] *** Joins: minimal (~minimal@user/minimal)
[20:39:35] *** Quits: Kruppt (~Kruppt@50-111-42-156.drhm.nc.frontiernet.net) (Quit: Leaving)
[20:41:43] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[21:03:25] *** Quits: therobin (~UserNick@2607:f2c0:932b:7700:6540:e707:6259:8403) (Ping timeout: 240 seconds)
[21:12:21] *** Joins: CyberShadow (vladimir@89.28.117.31)
[21:12:43] <CyberShadow> Hello. How can I extract the subtitles from this file, please? The usual methods don't work. https://user-images.githubusercontent.com/160894/145607518-22e99267-7daf-45a4-bc09-0a9ec41c807c.mp4
[21:13:26] *** Joins: pong (~beaver@user/pong)
[21:15:08] *** Joins: itsalexjones (~itsalexjo@82.4.99.241)
[21:17:12] <BtbN> That video has no subtitles.
[21:17:23] <CyberShadow> It does!
[21:17:35] <BtbN> The h264 stream has burned in Closed Captions. But they're effectively part of the video stream.
[21:17:55] <CyberShadow> Okay, I didn't know there was a difference
[21:17:58] <BtbN> so they'll go wherever that video stream goes
[21:18:12] <CyberShadow> Can those be extracted as plain text?
[21:18:53] <CyberShadow> mpv seems to treat it as a subtitle track which is "discovered" after it played a little of the file, for what it's worth.
[21:20:22] *** Quits: Loken2 (~233819509@120.231.13.22) (Remote host closed the connection)
[21:20:27] <BtbN> They are plain text, but part of the video stream, not a separate subtitle track
[21:21:37] <BtbN> I don't think ffmpeg can do much of anything with them in that regard. There is some processing, but no "transcoding" other than putting it back into another video stream
[21:21:54] <CyberShadow> Searching online for closed captions specifically, I found https://stackoverflow.com/a/39174264/21501 , which does seem to work. Thanks!
[21:26:37] *** Quits: duuude (~user@user/duuude) (Ping timeout: 250 seconds)
[21:39:48] *** Quits: myon98 (~myon98@user/myon98) (Read error: Connection reset by peer)
[21:59:15] *** Joins: therobin (~UserNick@2607:f2c0:932b:7700:515:2d17:e6c9:a28e)
[21:59:30] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[22:07:31] *** Quits: therobin (~UserNick@2607:f2c0:932b:7700:515:2d17:e6c9:a28e) (Ping timeout: 256 seconds)
[22:17:05] <znf> if I'm getting: "No decoder surfaces left"
[22:17:55] <znf> with cuda
[22:18:14] <znf> what does that mean again? should I up the extra_hw_frames?
[22:18:37] <BtbN> if you can, yes
[22:18:42] <BtbN> the amount is fairly limited though
[22:19:07] <znf> this thing is voodoo
[22:19:24] <znf> I had ~10 streams running
[22:19:30] <znf> then I rebooted, now it bails out after 2
[22:21:23] <znf> the nvidia patch says the driver is patched
[22:21:27] <znf> wtf is going on
[22:33:22] *** Joins: tlacatlc6 (~tlacatlc6@097-101-132-062.res.spectrum.com)
[22:33:59] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[22:42:02] *** Quits: NaviTheFairy (~Squirrel@user/navithefairy) (Quit: Oh no. A thing broke.)
[22:43:43] *** Joins: NaviTheFairy (~Squirrel@user/navithefairy)
[22:46:23] <aphysically> hmm, does force_key_frames source make an idr frame iff the source keyframe is idr?
[22:53:54] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[23:11:00] *** Joins: koolazer (~koo@user/koolazer)
[23:19:17] *** Quits: ivanich_ (~ivanich@45-140-123-239.broadband.tenet.odessa.ua) (Ping timeout: 240 seconds)
[23:21:06] *** Quits: dreamon (~dreamon@p54b14d36.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[23:31:47] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[23:34:26] *** Quits: rvalue (~rvalue@user/rvalue) (Remote host closed the connection)
[23:34:39] *** Joins: rvalue (~rvalue@user/rvalue)
[23:41:52] *** Quits: crashrep (~crashrep@user/crashrep) (Quit: WeeChat 3.4)
[23:43:16] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Quit: bye)
[23:44:23] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[23:45:14] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Remote host closed the connection)
[23:51:51] *** Joins: dingdreher (~dingdrehe@2a02:aa08:401e:fff2:f4eb:6b94:5a05:6081)
[23:52:08] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[23:56:57] *** Joins: dreamon (~dreamon@p54b14d36.dip0.t-ipconnect.de)
[23:59:48] *** Quits: fkaa (~fkaa@user/fkaa) (Remote host closed the connection)
