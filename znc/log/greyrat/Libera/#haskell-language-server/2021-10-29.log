[00:54:55] *** Joins: myShoggoth (~myShoggot@97-120-85-195.ptld.qwest.net)
[00:56:55] <myShoggoth> Hi! Trying to get a locally built HLS working against VSCode on Windows and it is saying "The Haskell (haskell-language-server) server crashed 5 times in the last 3 minutes. The server will not be restarted."  What's the recommended way to figure out what's breaking?
[01:04:13] <jneira[m]> hi, taking a look to the extension log could help: https://github.com/haskell/vscode-haskell#investigating-and-reporting-problems
[01:13:22] *** jade_ is now known as jade
[01:18:23] <myShoggoth> ah, that's much better.  I now see a lot of INFO and DEBUG output, then the connection closes.  textDocument/codeLens failed
[01:39:09] <shapr> myShoggoth: are you working on a public repo?
[01:39:27] <shapr> Is there a /tmp/hls.log that gives some details on the crash?
[01:39:49] <myShoggoth> I was running it on the HLS repo itself.  I'm on Windows, which also may feature in this somehow
[01:40:03] <shapr> oh, I've not been able to get HLS working on HLS itself
[01:40:11] <shapr> Does HLS work for you on other repos?
[01:40:48] <myShoggoth> lemme try it on a simpler repo
[01:42:06] <shapr> I gave a tour of HLS yesterday using my examples repo: https://github.com/shapr/hlsexamples/
[01:42:29] <shapr> as long as you're using hls 1.4 that matches the version of the compiler you're using, it should work
[01:46:07] <shapr> for whatever repo you have handy
[01:46:27] <shapr> myShoggoth: hls even works on almost all of the codebase at simspace!
[01:47:35] <myShoggoth> Apparently I have 8.10.4 as my current system ghc, but that doesn't appear to be one of the stock stack yamls
[01:48:41] <shapr> I don't know about windows, but 8.10.7 has the best support on mac / linux, at the moment.
[01:51:52] <myShoggoth> That's really cool that is is handling (most of) the simspace codebase, tho
[02:02:12] <shapr> myShoggoth: did you get it working with a simpler repo?
[02:08:05] <myShoggoth> shapr: I have gotten it to work in general, just not my own custom built version. I want to try customizing.  I am trying to figure out how to fix my installed system GHC verison
[02:57:35] *** Quits: myShoggoth (~myShoggot@97-120-85-195.ptld.qwest.net) (Ping timeout: 260 seconds)
[03:36:55] *** Quits: terrorjack (~terrorjac@static.3.200.12.49.clients.your-server.de) (Quit: Ping timeout (120 seconds))
[03:38:08] *** Joins: terrorjack (~terrorjac@static.3.200.12.49.clients.your-server.de)
[05:25:19] *** Joins: myShoggoth (~myShoggot@97-120-85-195.ptld.qwest.net)
[06:37:02] *** Joins: drsooch (~drsooch@cpe-45-46-39-116.maine.res.rr.com)
[06:40:23] <drsooch> What's the best way to find all Literals (numbers i.e. 0x1, 1, 2_500_000 etc) within HLS? I thought this:  https://hackage.haskell.org/package/ghc-8.10.2/docs/ApiAnnotation.html#t:AnnKeywordId would be my ticket, but even looking at a small source file with int literals I can't find "AnnVal" nodes
[06:42:26] *** Quits: shapr (~user@pool-100-36-247-68.washdc.fios.verizon.net) (Ping timeout: 268 seconds)
[07:19:37] *** Quits: drsooch (~drsooch@cpe-45-46-39-116.maine.res.rr.com) (Ping timeout: 256 seconds)
[07:25:49] *** Quits: bgamari_ (~bgamari@64.223.175.225) (Ping timeout: 252 seconds)
[07:39:11] *** Joins: bgamari (~bgamari@64.223.227.106)
[08:56:41] *** Quits: idnar (sid12240@debian/mithrandi) (Read error: Connection reset by peer)
[08:56:47] *** Quits: tnks (sid412124@helmsley.irccloud.com) (Ping timeout: 264 seconds)
[08:56:50] *** Joins: idnar (sid12240@debian/mithrandi)
[08:58:35] *** Quits: alinab (sid468903@helmsley.irccloud.com) (Read error: Connection reset by peer)
[08:58:43] *** Joins: alinab (sid468903@id-468903.helmsley.irccloud.com)
[08:59:45] *** Joins: tnks (sid412124@id-412124.helmsley.irccloud.com)
[08:59:47] *** Quits: hamishmack (sid389057@hampstead.irccloud.com) (Ping timeout: 264 seconds)
[09:01:38] <jneira[m]> do you make sure you are getting the pase source with annotations using `getParsedModuleWithComments`? https://github.com/haskell/haskell-language-server/blob/229faac11a517efdd75f7d23afce9daa6345259e/ghcide/src/Development/IDE/Core/Rules.hs#L181
[09:02:59] *** Joins: hamishmack (sid389057@id-389057.hampstead.irccloud.com)
[09:22:07] *** Quits: myShoggoth (~myShoggot@97-120-85-195.ptld.qwest.net) (Ping timeout: 260 seconds)
[10:04:11] *** Quits: fendor (~fendor@178.165.166.121.wireless.dyn.drei.com) (Read error: Connection reset by peer)
[10:06:39] *** Joins: fendor (~fendor@178.165.166.121.wireless.dyn.drei.com)
[10:12:06] *** Quits: hololeap (~hololeap@user/hololeap) (Ping timeout: 276 seconds)
[10:19:34] *** Joins: lortabac (~lortabac@atoulouse-256-1-14-70.w92-136.abo.wanadoo.fr)
[10:49:10] *** Joins: hololeap (~hololeap@user/hololeap)
[11:30:45] *** Quits: fendor (~fendor@178.165.166.121.wireless.dyn.drei.com) (Remote host closed the connection)
[11:35:52] *** Joins: arrowd (~arr@2.93.55.66)
[11:46:46] *** Quits: hololeap (~hololeap@user/hololeap) (Remote host closed the connection)
[11:48:09] *** Joins: hololeap (~hololeap@user/hololeap)
[13:26:00] <fendor[m]> fyi, the vfs in HLS must have some race condition. Managed to get bogus parse errors from HLS that resolved themselves after restarting
[13:26:55] <jneira[m]> hmm we are using vfs? i thought that was a hie thing but ghcide is not using it effectively, may be wrong
[13:27:59] *** Quits: lortabac (~lortabac@atoulouse-256-1-14-70.w92-136.abo.wanadoo.fr) (Ping timeout: 264 seconds)
[13:28:15] <fendor[m]> I think vfs is a lsp thing, not hie or hls specific
[13:28:47] <jneira[m]> it is but maybe optional
[13:31:31] <fendor[m]> I don't think hls manages these openDocuments, saveDocuments and other updates itself, but that is a detail of the lsp server. hls should also work when you haven't saved the current buffer
[13:41:28] *** Joins: lortabac (~lortabac@atoulouse-256-1-14-70.w92-136.abo.wanadoo.fr)
[15:36:45] *** Joins: drsooch (~drsooch@cpe-45-46-39-116.maine.res.rr.com)
[17:04:59] *** Quits: drsooch (~drsooch@cpe-45-46-39-116.maine.res.rr.com) (Ping timeout: 256 seconds)
[17:09:17] *** Joins: fendor (~fendor@178.115.69.86.wireless.dyn.drei.com)
[17:39:32] *** Quits: lortabac (~lortabac@atoulouse-256-1-14-70.w92-136.abo.wanadoo.fr) (Quit: WeeChat 2.8)
[17:42:54] *** Joins: shapr (~user@pool-100-36-247-68.washdc.fios.verizon.net)
[18:20:58] *** Joins: myShoggoth (~myShoggot@97-120-85-195.ptld.qwest.net)
[18:25:37] <shapr> myShoggoth: did you get it all fixed?
[19:22:28] *** Joins: fendor_ (~fendor@178.115.69.81.wireless.dyn.drei.com)
[19:24:11] <myShoggoth> shapr: No, but due to Windows / mingw64 / chocolatey weirdness, nothing to do with HLS. I'm hoping to have more time this afternoon to fight it.
[19:24:39] <shapr> aw, if you have questions I'll help as much as I'm able!
[19:25:02] *** Quits: fendor (~fendor@178.115.69.86.wireless.dyn.drei.com) (Ping timeout: 268 seconds)
[19:45:00] *** Joins: igghibu (~igghibu@37.120.201.125)
[19:47:00] *** Parts: igghibu (~igghibu@37.120.201.125) ()
[20:18:28] <jneira[m]> myShoggoth i have a installation working in windows but I switched to ghcup some time ago
[20:21:18] <maerwald> ghcup has been working ok on windows I think
[20:21:35] <maerwald> some CIs use it, it's also pre-installed on github actions virtual images
[20:26:11] *** fendor_ is now known as fendor
[20:35:51] *** Joins: agander_m_ (sid407952@id-407952.tinside.irccloud.com)
[20:35:52] *** Joins: pepeiborra_ (sid443799@id-443799.ilkley.irccloud.com)
[20:37:15] *** Joins: carbolymer_ (~carbolyme@dropacid.net)
[20:43:19] *** Quits: carbolymer (~carbolyme@dropacid.net) (*.net *.split)
[20:43:19] *** Quits: pepeiborra (sid443799@ilkley.irccloud.com) (*.net *.split)
[20:43:20] *** Quits: agander_m (sid407952@tinside.irccloud.com) (*.net *.split)
[20:43:20] *** pepeiborra_ is now known as pepeiborra
[20:43:20] *** agander_m_ is now known as agander_m
[21:30:11] *** Quits: hololeap (~hololeap@user/hololeap) (Remote host closed the connection)
[21:32:30] *** Joins: hololeap (~hololeap@user/hololeap)
[21:44:14] *** Quits: hololeap (~hololeap@user/hololeap) (Read error: Connection reset by peer)
[21:45:33] *** Joins: hololeap (~hololeap@user/hololeap)
[22:21:45] *** Quits: arrowd (~arr@2.93.55.66) ()
[22:43:03] *** Quits: hololeap (~hololeap@user/hololeap) (Remote host closed the connection)
[22:44:30] *** Joins: hololeap (~hololeap@user/hololeap)
[23:35:11] *** Quits: juhp (~juhp@128.106.188.220) (Ping timeout: 264 seconds)
[23:37:31] *** Joins: juhp (~juhp@128.106.188.220)
