[01:46:03] *** Joins: linext__ (~linext@pool-108-53-128-199.nwrknj.fios.verizon.net)
[01:46:09] *** Parts: linext__ (~linext@pool-108-53-128-199.nwrknj.fios.verizon.net) (Leaving)
[01:51:59] *** Joins: linext__ (~linext@pool-108-53-128-199.nwrknj.fios.verizon.net)
[01:52:07] <linext__> can imagemagick find images within images?
[01:54:50] <ali1234> not really no
[02:00:57] <linext__> ok
[02:01:00] <linext__> i think i can write one
[02:01:29] <ali1234> it can probably do it in a very simple way, with appropriate scripting, but there are much better tools for that
[02:05:52] <linext__> my verizon tv box sometimes loses it's connection and needs a reboot
[02:06:04] <linext__> it's got a little screensaver with the verizon logo, the date, and some instructions
[02:06:20] <linext__> all the elements slowly move randomly on the screen
[02:06:49] <linext__> so, i figure i'll save a BMP with ffmpeg of the dvr stream
[02:07:04] <linext__> then find the logo, and trigger a reboot via my power relay
[02:07:24] <ali1234> how are you capturing the stream?
[02:07:38] <linext__> there's a video encoder attached to the verizon box
[02:07:49] <linext__> my server records the stream from the encoder using ffmpeg
[02:07:50] <ali1234> you might find it is easier to do by audio analysis
[02:08:06] <linext__> ah, maybe, it's completely silent
[02:08:10] <ali1234> exactly
[02:08:13] <linext__> http://jbcse.com/2021-11-25_4-00PM.mp4
[02:08:35] <linext__> i was going to match on the frame where it's completely black, but that's common in other videos
[02:08:53] <linext__> silence is a good idea
[02:09:36] <linext__> i wonder how much silence is a good amount, that other tv shows don't have
[02:10:05] <ali1234> you're unlikely to ever get more than about 10 seconds of silence on broadcast tv
[02:11:02] <linext__> i wonder if ffmpeg has a stats module that tells the average volume level for a clip
[02:11:35] <ali1234> probably. you could also look at the bitrate of the mpeg video. since the picture is hardly changing, it should be very low compared to normal tv
[02:11:48] <linext__> a separate project i was working on was identifying the first frame of commercials and cutting out the length of the commercial
[02:12:14] <ali1234> there's a lot of programs that do that, eg mythtv has one
[02:12:28] <ali1234> actually, that can also be done with audio, since ads tend to be louder than everything else
[02:13:55] <ali1234> another way to do this would be to detect that "Press any key to watch Fios TV" string. if you know the maximum box where it can appear, a simple convolution should tell you if it is present
[02:14:08] <ali1234> it looks like it doesnt move very much
[02:18:01] <ali1234> or here's another idea. make a histogram of the pixel colours. it won't matter where the pixels actually are, just how many of each colour. that should be invariant
[02:18:56] <ali1234> well, except the clock. but you can ignore small changes in that mid-grey
[02:19:39] <ali1234> or another idea: run it through an OCR program like tesseract (hint: scale the image up first, it doesn't like very small text)
[02:22:40] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: bbl)
[02:25:42] <linext__> thanks
[02:25:48] <linext__> so i asked at #ffmpeg
[02:26:01] <linext__> since the video is a stream, i can just save a 10 second mp3 file
[02:26:17] <linext__> then run a silence detection check via command line program
[02:26:28] <linext__> i bet the file size ends up being really small
[02:26:46] <linext__> near zero, or zero
[04:09:19] *** Quits: dreamon (~dreamon@pd9503939.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[10:34:16] *** Joins: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de)
[10:44:34] *** Quits: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[12:07:18] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[15:18:28] *** Quits: greyrat (~greyrat@ip202.ip-51-178-215.eu) (Bye)
[15:18:48] *** Joins: greyrat_ (~greyrat@ip202.ip-51-178-215.eu)
[15:21:07] *** Joins: foo_ (~foo@user/foo/x-8763512)
[15:21:27] *** Server sets mode: +nt 
[15:25:59] *** Quits: greyrat (~greyrat@ip202.ip-51-178-215.eu) (Ping timeout: 260 seconds)
[15:25:59] *** Quits: foo (~foo@user/foo/x-8763512) (Ping timeout: 260 seconds)
[15:26:00] *** Quits: Masklin_Gurder (~joel@h-155-4-23-152.A230.priv.bahnhof.se) (Ping timeout: 260 seconds)
[15:26:14] *** Joins: Masklin_Gurder (~joel@h-155-4-23-152.A230.priv.bahnhof.se)
[20:10:53] *** foo_ is now known as foo
[21:19:20] *** Joins: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de)
