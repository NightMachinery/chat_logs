[00:09:02] *** Joins: anotheruser (~user@45.130.86.7)
[00:12:25] *** Quits: demon__ (~user@41.238.160.73) (Ping timeout: 248 seconds)
[00:12:53] *** Quits: microchip_ (~neutrino@user/microchip/x-0766185) (Quit: There is no spoon!)
[00:14:06] *** Joins: microchip_ (~neutrino@user/microchip/x-0766185)
[00:31:03] *** Quits: Blacker47 (~Blacker47@user/blacker47) (Quit: Life is short. Get a V.90 modem fast!)
[00:57:01] *** Quits: aphysically (~aphysical@user/aphysically) (Quit: aphysically)
[00:59:07] *** Joins: aphysically (~aphysical@user/aphysically)
[01:06:38] *** Joins: Narrat (~omnius@p200300df5f0ae5b806ea56fffe2e7cdc.dip0.t-ipconnect.de)
[01:09:23] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[01:15:59] *** Quits: mickey8 (~user@user/mickey) (Ping timeout: 244 seconds)
[01:19:37] *** Quits: dreamon (~dreamon@p54b143d5.dip0.t-ipconnect.de) (Ping timeout: 248 seconds)
[01:35:33] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Ping timeout: 268 seconds)
[01:35:38] *** Quits: aphysically (~aphysical@user/aphysically) (Quit: aphysically)
[01:49:58] *** Joins: aphysically (~aphysical@user/aphysically)
[01:52:57] <aphysically> re: rc-lookahead being required for the nvenc crashes: I wonder if rc-lookhead is just broken internally in the nvidia-drivers independent of the bug
[01:53:24] <aphysically> as far as I can tell the value passed doesn't do anything, it just acts like it's enabled and produces the exact same output regardless of the passed value
[01:53:55] <aphysically> it seems at least some people have noted this online, but it seems to contradict what their nvidia codec sdk suggests it does
[01:54:06] <aphysically> the documentation
[02:02:43] *** Quits: haihao (~haihao@192.102.204.53) (Remote host closed the connection)
[02:03:09] *** Joins: haihao (~haihao@192.102.204.51)
[02:12:25] *** Quits: zsoltiv_ (~zsoltiv@fibhost-67-12-35.fibernet.hu) (Ping timeout: 248 seconds)
[02:18:53] *** Joins: tnewman69 (~travnewma@1-171-240-181.dynamic-ip.hinet.net)
[02:22:33] *** Quits: tnewman6 (~travnewma@1-171-85-161.dynamic-ip.hinet.net) (Ping timeout: 248 seconds)
[02:22:33] *** tnewman69 is now known as tnewman6
[02:24:43] *** Quits: Buster_ (~Buster@46.160.36.66) (Ping timeout: 258 seconds)
[02:31:26] *** Quits: NaviTheFairy (~Squirrel@user/navithefairy) (Quit: Oh no. A thing broke.)
[02:32:33] *** Joins: hanetzer (~hanetzer@072-176-081-243.res.spectrum.com)
[02:32:43] *** Quits: hanetzer (~hanetzer@072-176-081-243.res.spectrum.com) (Changing host)
[02:32:43] *** Joins: hanetzer (~hanetzer@user/hanetzer)
[02:33:59] *** Joins: NaviTheFairy (~Squirrel@user/navithefairy)
[02:38:56] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Read error: Connection reset by peer)
[02:39:46] *** Joins: mickey86 (~user@user/mickey)
[02:45:28] *** Quits: Arokh (~MoveAlong@ip-88-153-210-106.hsi04.unitymediagroup.de) (Ping timeout: 272 seconds)
[02:46:21] *** Joins: Arokh (~MoveAlong@ip-88-153-210-106.hsi04.unitymediagroup.de)
[02:52:32] *** Quits: hanetzer (~hanetzer@user/hanetzer) (Quit: WeeChat 3.2)
[02:59:28] *** Quits: Narrat (~omnius@p200300df5f0ae5b806ea56fffe2e7cdc.dip0.t-ipconnect.de) (Quit: They say a little knowledge is a dangerous thing, but it's not one half so bad as a lot of ignorance.)
[03:02:06] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[03:11:43] *** Quits: pong (~beaver@user/pong) (Ping timeout: 244 seconds)
[03:17:55] *** Quits: anotheruser (~user@45.130.86.7) (Ping timeout: 268 seconds)
[03:18:17] <znf> Wish there was some sort of info on the encoding/decoding performance of this https://www.theverge.com/2021/8/10/22618030/nvidia-rtx-a2000-gpu-workstation-specs-features-price
[03:24:25] *** Quits: finsternis (~X@23.226.237.192) (Remote host closed the connection)
[03:39:13] *** Quits: der_richter (~Akemi@p2e580ddd.dip0.t-ipconnect.de) (Quit: Leaving.)
[03:39:24] *** Joins: pong (~beaver@user/pong)
[03:52:17] *** Joins: someuser (~user@41.238.160.73)
[03:53:39] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Remote host closed the connection)
[03:54:44] *** Joins: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net)
[04:18:33] *** Quits: rossome (~rossome@server.likeaross.com) (Quit: WeeChat 3.0.1)
[04:19:27] *** Joins: rossome (~rossome@server.likeaross.com)
[04:25:35] *** Quits: treefrob (~treefrob@p57a9648f.dip0.t-ipconnect.de) (Quit: Leaving)
[04:25:45] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Ping timeout: 268 seconds)
[04:27:08] *** Joins: treefrob (~treefrob@p57a9648f.dip0.t-ipconnect.de)
[04:32:23] *** Joins: hanetzer (~hanetzer@072-176-081-243.res.spectrum.com)
[04:32:27] *** Quits: hanetzer (~hanetzer@072-176-081-243.res.spectrum.com) (Changing host)
[04:32:27] *** Joins: hanetzer (~hanetzer@user/hanetzer)
[04:46:03] *** Quits: hanetzer (~hanetzer@user/hanetzer) (Quit: WeeChat 3.2)
[04:53:02] *** Joins: Fohsap (~Muimi@221.201.1.228)
[05:22:00] *** Joins: hanetzer (~hanetzer@072-176-081-243.res.spectrum.com)
[05:22:01] *** Quits: hanetzer (~hanetzer@072-176-081-243.res.spectrum.com) (Changing host)
[05:22:01] *** Joins: hanetzer (~hanetzer@user/hanetzer)
[05:22:35] *** Quits: realies- (~realies@178-169-218-119.haskovo.ddns.bulsat.com) (Ping timeout: 258 seconds)
[05:30:25] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:34:20] *** Joins: vlm (~vlm@user/vlm)
[05:35:51] *** Quits: Hrmmm (~Hrmmm@198-27-172-195.fiber.dynamic.sonic.net) (Quit: Hrmmm)
[06:01:09] *** Quits: Jonno_FTW (~come@api.carswap.me) (Quit: Reconnecting)
[06:01:17] *** Joins: Jonno_FTW (~come@api.carswap.me)
[06:01:31] *** Quits: Jonno_FTW (~come@api.carswap.me) (Changing host)
[06:01:31] *** Joins: Jonno_FTW (~come@user/jonno-ftw/x-0835346)
[06:09:46] *** Quits: darkapex (~darkapex@user/darkapex) (Read error: Connection reset by peer)
[06:11:27] *** Joins: darkapex (~darkapex@user/darkapex)
[07:06:43] *** Joins: jos2 (~jos3@dyndsl-091-096-044-167.ewe-ip-backbone.de)
[07:08:12] *** Joins: realies (~realies@user/realies)
[07:08:42] *** Quits: Fohsap (~Muimi@221.201.1.228) (Remote host closed the connection)
[07:10:17] *** Joins: Fohsap (~Muimi@221.201.1.228)
[07:10:33] *** Quits: jos1 (~jos3@host-091-097-191-217.ewe-ip-backbone.de) (Ping timeout: 248 seconds)
[07:12:36] *** Quits: realies (~realies@user/realies) (Ping timeout: 258 seconds)
[07:22:07] *** Quits: haihao (~haihao@192.102.204.51) (Ping timeout: 268 seconds)
[07:22:33] *** Joins: haihao (~haihao@192.55.46.52)
[07:55:58] *** Joins: gnoo (~gnoo@user/gnoo)
[08:13:02] *** Joins: pnorman_ (~pnorman@d206-116-218-253.bchsia.telus.net)
[08:14:19] *** Quits: pnorman (~pnorman@d206-116-218-253.bchsia.telus.net) (Ping timeout: 258 seconds)
[08:42:17] *** Quits: pnorman_ (~pnorman@d206-116-218-253.bchsia.telus.net) (Ping timeout: 248 seconds)
[08:43:57] *** Joins: pnorman (~pnorman@d206-116-218-253.bchsia.telus.net)
[08:50:33] *** Quits: rossome (~rossome@server.likeaross.com) (Quit: WeeChat 3.2)
[08:55:33] *** Quits: Fohsap (~Muimi@221.201.1.228) (Remote host closed the connection)
[08:57:51] *** Joins: realies (~realies@user/realies)
[09:03:14] *** Quits: realies (~realies@user/realies) (Ping timeout: 268 seconds)
[09:05:18] *** Quits: LeoNice (~LeoNice@cpe-173-175-126-71.satx.res.rr.com) (Ping timeout: 258 seconds)
[09:23:02] *** Joins: realies (~realies@user/realies)
[09:35:37] *** Quits: Gaboradon (~Gaboradon@cpe-86-58-57-5.static.triera.net) (Quit: Shutdown)
[09:38:28] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 272 seconds)
[09:38:35] *** Quits: theracermaster (~theracerm@52.79.209.35.bc.googleusercontent.com) (Quit: The Lounge - https://thelounge.chat)
[09:40:48] *** Joins: theracermaster (~theracerm@52.79.209.35.bc.googleusercontent.com)
[09:53:11] <aphysically> I've been messing with loudnorm for web/pc consumption, I think I'm at integrated loudness -19, lra 11, and target_tp -1
[09:53:41] <aphysically> I've noticed if it's a movie I'm watching locally or something it often can't quite get the lra down which is probably fine for that type of content
[10:05:44] *** Joins: der_richter (~Akemi@p4fde4f76.dip0.t-ipconnect.de)
[10:11:02] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.2)
[10:12:19] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[10:21:26] *** Quits: darkapex (~darkapex@user/darkapex) (Read error: Connection reset by peer)
[10:22:27] *** Joins: darkapex (~darkapex@user/darkapex)
[10:24:39] *** Quits: realies (~realies@user/realies) (Ping timeout: 258 seconds)
[10:29:16] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Quit: Konversation terminated!)
[11:07:39] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.2)
[11:19:55] *** Joins: zsoltiv_ (~zsoltiv@fibhost-67-12-35.fibernet.hu)
[11:23:13] *** Joins: furrymcgee (~devuan@31.179.186.66)
[11:35:17] *** Joins: realies (~realies@user/realies)
[11:43:11] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[12:03:09] *** Quits: aphysically (~aphysical@user/aphysically) (Remote host closed the connection)
[12:03:34] *** Joins: aphysically (~aphysical@user/aphysically)
[12:15:02] *** Quits: fling (~fling@user/fling) (Ping timeout: 268 seconds)
[12:26:00] *** Joins: snapple (~apple@2603-800c-4340-d591-0000-0000-0000-1632.res6.spectrum.com)
[12:42:59] *** Joins: anotheruser (~user@41.44.147.130)
[12:46:06] *** Quits: someuser (~user@41.238.160.73) (Ping timeout: 258 seconds)
[12:49:32] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[12:54:40] *** Joins: realies- (~realies@178-169-218-119.haskovo.ddns.bulsat.com)
[12:54:53] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[13:00:07] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[13:05:13] *** Joins: XdaddyZX_ (uid456733@id-456733.tinside.irccloud.com)
[13:06:37] *** Quits: c_14 (~c_14@synchrony.c-14.de) (Quit: drop(c_14))
[13:06:53] *** Joins: c_14 (~c_14@synchrony.c-14.de)
[13:23:15] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[13:27:44] *** Quits: pyre (~pyre@crimeboss.nillas-power.com) (Ping timeout: 272 seconds)
[13:52:41] *** Quits: realies- (~realies@178-169-218-119.haskovo.ddns.bulsat.com) (Ping timeout: 248 seconds)
[13:56:26] *** Joins: realies (~realies@user/realies)
[14:01:56] *** Quits: realies (~realies@user/realies) (Ping timeout: 272 seconds)
[14:11:42] *** Joins: rsx (~dummy@ppp-188-174-141-119.dynamic.mnet-online.de)
[14:21:27] *** Joins: anyhow (~anyhow@178.113.107.134.wireless.dyn.drei.com)
[14:32:27] *** Joins: Blacker47 (~Blacker47@user/blacker47)
[14:58:56] *** Joins: gnooooo (~gnoo@user/gnoo)
[15:01:18] *** Joins: realies (~realies@user/realies)
[15:02:39] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[15:25:11] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 258 seconds)
[15:26:10] *** Quits: anyhow (~anyhow@178.113.107.134.wireless.dyn.drei.com) (Ping timeout: 240 seconds)
[15:36:04] *** Quits: realies (~realies@user/realies) (Ping timeout: 268 seconds)
[15:37:57] *** Joins: realies (~realies@user/realies)
[15:44:12] <roxlu> I'm merging a branch with release 4.4 and see that in e.g. ffmpeg.c/do_video_out, the `AVPacket` is retrieved from `OutputStream::pkt` and in <4.4 it was create/initialized in the `do_video_out` function itself. Is that correct?
[15:48:24] *** Quits: realies (~realies@user/realies) (Ping timeout: 268 seconds)
[15:53:19] *** Quits: Arsen (~arsen@managarm/dev/Arsen) (Quit: Quit.)
[15:54:12] *** Joins: Arsen (~arsen@managarm/dev/Arsen)
[15:56:47] *** Joins: realies (~realies@user/realies)
[16:07:20] *** Quits: realies (~realies@user/realies) (Ping timeout: 272 seconds)
[16:12:30] *** Joins: realies (~realies@user/realies)
[16:18:21] *** Quits: realies (~realies@user/realies) (Quit: ~)
[16:18:40] *** Joins: realies (~realies@user/realies)
[16:20:41] *** qwedfg_ is now known as qwedfg
[16:21:41] *** Joins: dreamon (~dreamon@ppp-88-217-68-227.dynamic.mnet-online.de)
[16:33:37] *** Quits: aphysically (~aphysical@user/aphysically) (Remote host closed the connection)
[16:34:21] *** Joins: aphysically (~aphysical@user/aphysically)
[16:47:39] *** Quits: sebbu (~sebbu@user/sebbu) (Read error: Connection reset by peer)
[16:48:35] *** Quits: odrling (~odrling@korone.aidoru.agency) (Quit: see you space cowboy)
[16:49:08] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 272 seconds)
[16:51:15] *** Joins: odrling (~odrling@korone.aidoru.agency)
[16:53:02] *** Joins: sebbu (~sebbu@user/sebbu)
[17:11:05] *** Quits: Atsuko (~x@94.242.250.86) (Remote host closed the connection)
[17:11:45] *** Joins: pyre (~pyre@crimeboss.nillas-power.com)
[17:18:34] *** Quits: der_richter (~Akemi@p4fde4f76.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[17:19:26] *** Joins: der_richter (~Akemi@p4fde4f76.dip0.t-ipconnect.de)
[17:22:56] *** Joins: Operator149 (~user@154.127.60.198)
[17:23:24] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Quit: WeeChat 3.2)
[17:29:56] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[17:30:46] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Client Quit)
[17:31:40] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[17:33:36] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Client Quit)
[17:34:11] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[17:35:52] *** Quits: kurosu (uid342582@id-342582.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[17:39:22] *** Quits: furrymcgee (~devuan@31.179.186.66) (Quit: leaving)
[17:44:06] *** Joins: fling (~fling@user/fling)
[17:46:10] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[17:46:58] *** Joins: realies (~realies@user/realies)
[17:55:39] *** Quits: Operator149 (~user@154.127.60.198) (Ping timeout: 276 seconds)
[18:00:53] <roxlu> I'm also wwondering if ffmpeg has support to measure the time between when I fed a new video frame into the encoder to when it was outputted/muxed ?
[18:05:40] *** Joins: Atsuko (~x@94.242.250.86)
[18:10:43] *** Joins: Operator149 (~user@154.127.50.216)
[18:14:40] *** Joins: minimal (~minimal@user/minimal)
[18:17:26] *** Quits: wyatt8740 (wyatt8740@gateway/vpn/nordvpn/wyatt8740) (Ping timeout: 252 seconds)
[18:29:37] <BtbN> define time
[18:29:44] <BtbN> Number of other frames?
[18:29:54] <BtbN> wallclock time? Which is potentially meaningless, since the encoder does not care?
[18:34:58] *** Joins: frostwork (~frostwork@user/frostwork)
[18:37:56] <frostwork> hi there. I just recorded a "dvvideo, yuv420p, 720x576 [SAR 16:15 DAR 4:3], 25000 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc" video file from an ancient mini-dv tape using dvgrab. the file partially plays (jittering, wrong fps) but has tons of "Concealing bitstream errors". Is there anything I can do to improve/fix this? The old camcorder doesn't play the sequence correctly as well though
[18:39:08] <JEEB> sounds likecorruption
[18:39:28] <frostwork> unfortunately yes
[18:40:28] <JEEB> then not sure if you cna extract more out of it without actually coding ypur own error hiding or whagevet
[18:41:44] <frostwork> I already was afraid this would be the case :(
[18:41:53] <frostwork> Thanks for your reply anyway, JEEB!
[18:43:52] <roxlu> BtbN: Lets say I feed in 10 frames, then I would like to know how long it took per frame from the point I passed it into "ffmpeg" until it was written to the output
[18:44:01] <roxlu> with time I mean millis/nanos
[18:45:11] <BtbN> I don't think ffmpeg can explicitly report that
[18:46:00] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Ping timeout: 268 seconds)
[18:46:17] *** Quits: pong (~beaver@user/pong) (Remote host closed the connection)
[18:46:23] <roxlu> ok thanks, I had a look at the code and didn't see anything indeed. But I'm curious how I would be able to add this info ... but I'm not convinced yet that it would give meaningfull info
[18:46:38] <roxlu> e.g. what I want to measure is : `video in > encode > dash out`
[18:46:57] *** Joins: pong (~beaver@user/pong)
[18:50:35] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[18:56:20] *** Quits: rsx (~dummy@ppp-188-174-141-119.dynamic.mnet-online.de) (Quit: rsx)
[19:00:07] <roxlu> but let's say I can add a timestamp to a packet that holds the encoded data of a frame, then I still would need to extract that in dashenc.
[19:00:25] <roxlu> ... and if I'm correct input frames can be reordered, right?
[19:01:09] <kepstin> indeed; frames can be reordered both on the decoder and encoder
[19:03:10] <roxlu> kepstin: is that only relevant when e.g. using h264 with B-frames?
[19:03:47] <roxlu> or can it happen that even P-frames are reordered
[19:04:35] <kepstin> h264 only has reordered frames with B frames
[19:05:28] <kepstin> (a simplified explanation: B frames are "bidirectionally" predicted, so the frame after a B frame has to be decoded before the B frame can be decoded)
[19:05:46] <roxlu> yeah exactly
[19:06:05] <roxlu> ok, thanks. so I could potentially measure the time it takes from "feed frame into encoder" .. to "packet in dash"
[19:06:10] <roxlu> when I don't use b-frames
[19:07:15] <kepstin> if you're only interested in the encoder side i'd expect that to work fine, yep.
[19:08:09] <roxlu> ... the reason I'm looking into this, is because it looks like I'm having a ~2 second difference between different encoders. And although I'm comparing a software encoder with an hardware, I wouldn't expect this difference for a stream I'm testing with.
[19:08:12] <kepstin> i'd probably recommend running some stats on the values you get back, take an average and std dev or something at a minimum :)
[19:08:23] <kepstin> which encoders, which parameters?
[19:10:46] <kepstin> x264 can be tuned down to very close to no encoding latency (only the time actually taken to encode the single frame), of course with efficiency loss compared to standard settings.
[19:11:41] <roxlu> yeah I'm using the x264 and intel via vaapi while comparing this.
[19:11:56] <roxlu> x264 uses the medium preset
[19:20:24] *** gnooooo is now known as gnoo
[19:23:45] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[19:24:14] *** Quits: haihao (~haihao@192.55.46.52) (Ping timeout: 268 seconds)
[19:27:42] *** Joins: haihao_ (~haihao@192.102.204.53)
[19:30:17] *** Quits: aphysically (~aphysical@user/aphysically) (Ping timeout: 248 seconds)
[19:32:00] *** Joins: aphysically (~aphysical@user/aphysically)
[19:38:25] *** Quits: aphysically (~aphysical@user/aphysically) (Ping timeout: 268 seconds)
[19:40:18] *** Joins: aphysically (~aphysical@user/aphysically)
[19:45:45] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 248 seconds)
[19:45:50] *** Joins: darkapex_ (~darkapex@user/darkapex)
[20:05:33] *** Quits: Operator149 (~user@154.127.50.216) (Remote host closed the connection)
[20:05:45] *** Joins: drew` (~drew@user/drew)
[20:06:39] <drew`> with two pass encoding, I can target video and audio bitrates independently, but is there a way to target a total bitrate? I am trying to spit out files that are always 3M
[20:07:06] *** Joins: zmt00 (~zmt00@user/zmt00)
[20:07:16] <drew`> so I can get the length of the clip, then do 3145728/length to get the desired total bitrate
[20:10:30] <DeHackEd> I would probably suggest ffprobe to get the bitrates of the audio stream(s) and add that to your math formula for a bitrate
[20:11:24] <AMM> You have to decide your target bitrate with size/duration, then substract the audio bitrate from that and use the rest for video
[20:12:02] <AMM> You'll want to undershoot some, because overhead and the video might still jump over the target unless you explicitly throw in max bitrate etc (maybe)
[20:12:08] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[20:12:13] <AMM> and container overhead and whatnot
[20:12:21] <DeHackEd> ffmpeg should report a "muxing overhead" which should help.
[20:12:38] <DeHackEd> also, it *is* legal to change the bitrate in the second pass, though not recommended to change it too much iirc
[20:13:29] <drew`> I saw some SO post saying you couldn't use ffprobe to get the stream sizes because ffprobe can only look at frames or something
[20:13:51] <drew`> https://superuser.com/a/1247487/347779
[20:14:33] <AMM> The comments do say you can sum up the packet sizes though
[20:15:08] <AMM> Dunno why you'd want to do that though
[20:15:32] <AMM> Like, you're reencoding it all, it doesn't matter what the original bitrates were
[20:17:13] <drew`> I figured I would calculate audio and video bitrates proportionally, so like read the existing bitrates and new_bitrate/3M = old_bitrate/old_stream_size
[20:17:45] <BtbN> use strict cbr for audio, and substract from video?
[20:18:49] <AMM> Don't do it propotionally, it makes no sense
[20:19:14] <AMM> You can easily have a file with several megabits per second for video and a hundred kilobytes for audio
[20:19:31] <AMM> Smushing that ratio to fit into 3 megabytes total is just stupid
[20:19:46] <BtbN> audio with a modern codec makes no sense to give more than like 64 or maybe 96 kbit/s per channel
[20:19:57] <AMM> ^
[20:30:22] *** Quits: aphysically (~aphysical@user/aphysically) (Remote host closed the connection)
[20:30:49] *** Joins: aphysically (~aphysical@user/aphysically)
[20:38:31] *** Joins: LeoNice (~LeoNice@cpe-173-175-126-71.satx.res.rr.com)
[20:51:47] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 258 seconds)
[20:54:42] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[21:01:16] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Remote host closed the connection)
[21:02:15] *** Quits: aphysically (~aphysical@user/aphysically) (Quit: aphysically)
[21:04:18] *** Quits: gnoo (~gnoo@user/gnoo) (Quit: gnoo)
[21:08:02] *** Quits: dreamon (~dreamon@ppp-88-217-68-227.dynamic.mnet-online.de) (Ping timeout: 268 seconds)
[21:09:16] *** Joins: Operator149 (~user@41.114.246.3)
[21:10:51] *** Joins: aphysically (~aphysical@user/aphysically)
[21:14:28] *** Joins: kurosu (uid342582@id-342582.stonehaven.irccloud.com)
[21:18:45] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[21:19:59] *** Quits: aphysically (~aphysical@user/aphysically) (Quit: aphysically)
[21:20:35] *** Joins: aphysically (~aphysical@user/aphysically)
[21:23:56] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Ping timeout: 272 seconds)
[21:24:05] <MatthewAllan93> Hey just been trying to encode a x264 file into x265 and looked at the mediainfo of it. It isn't showing the correct metadata of the MKV file but the metadata of the source file.
[21:25:03] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[21:25:12] *** Parts: frostwork (~frostwork@user/frostwork) (Leaving)
[21:28:45] *** Joins: ircseeker3 (~nodebot@108.62.52.153)
[21:30:32] <MatthewAllan93> Also sometimes showing colorprimaries, transfer characteristics and matrix coefficients. Even though they haven't been specified in the command.
[21:33:31] <BtbN> By "x264 file" do you mean a raw .h264 file, with no container?
[21:33:35] <BtbN> And same for the HEVC one?
[21:34:42] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[21:41:43] <MatthewAllan93> Sorry I mean for the source x264 file, I have tried both a mp4 and mkv container. x265 output with MKV container.
[21:42:30] <kepstin> why would you want to do that? you only lose data doing a lossy-lossy conversion
[21:42:53] <kepstin> well, i suppose if your original file is really big then it might make sense.
[21:43:47] <galad> MatthewAllan93: if the source file has colorprimaries etc set, those will be transferred to the output file too
[21:44:03] <galad> what other metadata aren't correct?
[21:47:08] <MatthewAllan93> The encoding settings section in Mediainfo was showing them from the source video file and not the parameters that I have used.
[21:48:50] *** Joins: dreamon (~dreamon@pd9503ec8.dip0.t-ipconnect.de)
[21:49:37] <BtbN> (Also, x264/5 are encoders. Not codecs)
[21:49:58] <BtbN> saying "x264 file" makes no sense in itself. It's h264. But that's unrelated to the issue. I guess.
[21:52:51] *** Quits: haihao_ (~haihao@192.102.204.53) (Ping timeout: 268 seconds)
[21:54:47] *** Joins: haihao (~haihao@192.102.204.53)
[21:54:55] *** Quits: Operator149 (~user@41.114.246.3) (Quit: Leaving.)
[21:56:43] <MatthewAllan93> Sorry forgot about that they are encoders, I meant h264 input and h265 output file with a mp4 and mkv containers.
[21:57:20] *** Joins: GuiToris (~GuiToris@user/guitoris)
[21:57:40] <GuiToris> hello, does ffmpeg tell me if the source is bt601 or bt709?
[22:02:46] <kepstin> GuiToris: it can in files that have that information, but note that a lot of files simply don't specify it
[22:03:23] <GuiToris> kepstin, I'd like to trim the file that I saved but I don't know which colorspace is should use :S
[22:03:38] <GuiToris> I created the file with ffmpeg, if it matters
[22:03:59] <kepstin> you shouldn't need to specify anything, it'll just pass through as-is?
[22:05:18] <GuiToris> Adobe asks it
[22:05:26] <aphysically> ffprobe -select_streams v -show_entries stream=color_primaries file.mkv
[22:05:33] <aphysically> something like this?
[22:05:33] <GuiToris> that's what I see; Stream #0:0: Video: utvideo (ULY2 / 0x32594C55), yuv422p(bt470bg/unknown/unknown), 720x576, 75300 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc   but there's no bt470 in adobe
[22:08:08] <GuiToris> is bt470 equivalent to either one?
[22:08:50] <GuiToris> color_primaries=unknown btw
[22:09:49] <galad> are the possible choice only bt601 and bt709 in the adobe software?
[22:10:00] <galad> then choose bt601
[22:12:08] <GuiToris> galad, https://www.dropbox.com/s/2638prpio8q2qo4/adobe.jpg?dl=0
[22:14:40] <GuiToris> I'm using adobe so I can precisely trim the clips, I don't see frames with ffmpeg, but I'm going to use ffmpeg to save them as h264 at the end
[22:14:54] <GuiToris> I'm not doing much with adobe now
[22:15:01] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[22:15:13] <GuiToris> but I can't trim the video say from 25th frame to 100th
[22:15:40] <GuiToris> or can I?
[22:30:01] <MatthewAllan93> Also elaborating on my previous message, I meant a h264 input file with either mp4 or mkv container to h265 output file with both containers.
[22:31:04] *** Quits: GuiToris (~GuiToris@user/guitoris) (Quit: Sieben Acht Gute Nacht!)
[22:46:09] *** Joins: Narrat (~omnius@p200300df5f0ae58d06ea56fffe2e7cdc.dip0.t-ipconnect.de)
[22:47:48] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[23:03:29] *** Quits: microchip_ (~neutrino@user/microchip/x-0766185) (Quit: There is no spoon!)
[23:04:42] *** Joins: microchip_ (~neutrino@user/microchip/x-0766185)
[23:21:21] *** Joins: Buster_ (~Buster@buster-net.ru)
[23:30:54] *** Quits: LeoNice (~LeoNice@cpe-173-175-126-71.satx.res.rr.com) (Ping timeout: 268 seconds)
[23:46:13] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3-dev)
