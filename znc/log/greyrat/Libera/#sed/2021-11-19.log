[00:48:06] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.2-dev)
[00:53:16] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: see you tomorrow)
[01:04:31] *** Quits: nitro_ (~nitro_@c-73-165-183-88.hsd1.pa.comcast.net) (Remote host closed the connection)
[01:04:50] *** Joins: nitro_ (~nitro_@c-73-165-183-88.hsd1.pa.comcast.net)
[01:23:36] *** Quits: Torr (~Torr@user/torr) (Remote host closed the connection)
[01:33:07] *** Joins: nvmd (~nvmd@user/nvmd)
[01:59:58] *** Quits: nvmd (~nvmd@user/nvmd) (Quit: Later, nerds.)
[02:00:17] *** Joins: nvmd (~nvmd@user/nvmd)
[02:17:33] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[02:42:36] *** Quits: chomwitt (~chomwitt@2a02:587:dc12:3f00:12c3:7bff:fe6d:d374) (Ping timeout: 265 seconds)
[02:48:00] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[02:48:58] *** Joins: chomwitt (~chomwitt@2a02:587:dc12:3f00:12c3:7bff:fe6d:d374)
[02:55:17] *** Quits: chomwitt (~chomwitt@2a02:587:dc12:3f00:12c3:7bff:fe6d:d374) (Ping timeout: 268 seconds)
[03:02:32] *** Quits: nvmd (~nvmd@user/nvmd) (Quit: Later, nerds.)
[03:02:48] *** Joins: nvmd (~nvmd@user/nvmd)
[03:13:16] *** Joins: Torr (~Torr@user/torr)
[03:24:05] *** Quits: edlou (uid413273@helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[03:55:18] *** Quits: jle (~jle@user/jle) (Ping timeout: 260 seconds)
[04:43:05] *** Joins: Atque (~Atque@user/atque)
[04:48:03] *** Quits: nvmd (~nvmd@user/nvmd) (Quit: Later, nerds.)
[04:57:19] *** Joins: totenkoph (~scythe@user/totenkoph)
[05:14:27] *** Joins: Torr_ (~Torr@user/torr)
[05:18:23] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 264 seconds)
[05:30:17] *** Quits: fcr (~fran@r167-60-12-207.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[05:30:22] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:38:19] *** Joins: fcr (~fran@r167-60-6-0.dialup.adsl.anteldata.net.uy)
[06:31:25] *** Joins: edlou (uid413273@helmsley.irccloud.com)
[06:45:03] *** Joins: ferdna (~ferdna@user/ferdna)
[08:11:54] *** Quits: X-Scale (~ARM@46.50.7.119) (Ping timeout: 256 seconds)
[08:13:25] *** Joins: X-Scale` (~ARM@165.201.137.78.rev.vodafone.pt)
[08:13:53] *** X-Scale` is now known as X-Scale
[08:16:53] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[08:19:32] *** Joins: earnestly (~earnest@user/earnestly)
[09:07:52] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[09:19:28] *** Quits: Torr_ (~Torr@user/torr) (Ping timeout: 268 seconds)
[09:42:58] *** Joins: lgc (~lgc@user/lgc)
[09:53:06] *** Joins: chomwitt (~chomwitt@2a02:587:dc12:3f00:12c3:7bff:fe6d:d374)
[09:56:10] *** Quits: chomwitt (~chomwitt@2a02:587:dc12:3f00:12c3:7bff:fe6d:d374) (Remote host closed the connection)
[10:03:36] *** Joins: sxzzsf (~sxzzsf@user/sxzzsf)
[10:18:15] *** Quits: sxzzsf (~sxzzsf@user/sxzzsf) (Quit: WeeChat 3.0)
[10:26:43] *** Joins: nerozero (~nerozero@87.253.63.54)
[10:28:00] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[10:40:13] *** Quits: ztx (~ztx@user/ztx) (Remote host closed the connection)
[10:42:28] *** Joins: ztx (~ztx@user/ztx)
[10:45:57] *** Joins: jle (~jle@user/jle)
[11:40:34] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[11:41:19] *** Joins: totenkoph (~scythe@user/totenkoph)
[12:26:31] *** Joins: eruditehermit_ (~eruditehe@50.226.189.210)
[12:27:04] <eruditehermit_> hey, can someone help me with matching multiple lines on the input side? For some reason I seem to be able to write multiple lines but not match multiple lines.
[12:28:22] <eruditehermit_> sed 's/type: omni\n    host: myhost/type: omni\n    host: newhost/g' file
[12:45:23] <emanuele6> you can't do that.
[12:46:02] <Soliton> well, at least you specifically have to read in multiple lines to do that.
[12:46:23] <Soliton> or if you use GNU sed you could use -z.
[12:47:54] <eruditehermit_> Soliton, can you give me an example?
[12:47:59] <Soliton> since you just want to change one line i'd not do it this way anyway.
[12:48:06] <eruditehermit_> thanks for the responses btw
[12:48:53] <eruditehermit_> the issue is there are many places where this host needs to NOT change so I can't do it globally
[12:49:16] <Soliton> you can use the n or N command to read in the next line.
[12:49:41] <Soliton> why are you using sed for this anyway?
[12:54:17] <eruditehermit_> Soliton, trying to modify a config in a script
[12:56:03] <Soliton> if that's yaml then a tool that understands yaml would be better. even better would be not to constantly edit a config file. just do it once. preferably by a human that understands what they're doing.
[13:04:00] <eruditehermit_> Soliton, any recommendations for yaml commandline reading/editing tools
[13:04:17] <eruditehermit_> Soliton, these are temporary changes I need to make until I can get things merged upstream
[13:05:06] <Soliton> yq does yaml
[13:05:30] <Soliton> perhaps you rather want a patch file you can apply.
[13:05:48] <emanuele6> python also does yaml, but i think it can only read yaml and output json (compatible with yaml)
[13:07:26] <eruditehermit_> the config changes so patches might not apply properly. yq is a good idea
[13:07:56] <emanuele6> you could use ex
[13:08:12] <eruditehermit_> how do you know if you hvae the go version of yq or the python version of yq
[13:10:24] <eruditehermit_> the nice thing about sed is that it's always installed
[13:14:39] <emanuele6> printf '%s\n' 'g/type: omni$/+1s/myhost/newhost/' x | ex -sc myfile
[13:14:53] <emanuele6> err without -c
[13:14:56] <emanuele6> printf '%s\n' 'g/type: omni$/+1s/myhost/newhost/' x | ex -s myfile
[13:16:58] <emanuele6> using an actual text editor instead of abusing sed
[13:19:39] <eruditehermit_> emanuele6, thanks, let me try that
[13:20:58] <emanuele6> # printf '%s\n' '- type: omni' '    host: myhost' '-type: notomni' '    host: notthathost' '- type: omni' '    host: myhost' > myfile; printf 'before: %s\n' "$(paste -s myfile)"; printf '%s\n' 'g/type: omni$/+1s/myhost/newhost/' x | ex -s myfile; printf 'after: %s\n' "$(paste -s myfile)"
[13:20:59] <shbot> emanuele6: before: - type: omni        host: myhost        -type: notomni      host: notthathost   - type: omni        host: myhost
[13:21:00] <shbot> emanuele6: after: - type: omni         host: newhost       -type: notomni      host: notthathost   - type: omni        host: newhost
[13:22:16] <emanuele6> # printf '%s\n' '- type: omni' '    host: myhost' '-type: notomni' '    host: notthathost' '- type: omni' '    host: myhost' '- type: omni' '    host: yourhost' > myfile; printf 'before: %s\n' "$(paste -sd'|' myfile)"; printf '%s\n' 'g/type: omni$/+1s/myhost/newhost/' x | ex -s myfile; printf 'after: %s\n' "$(paste -sd'|' myfile)"
[13:22:17] <shbot> emanuele6: before: - type: omni|    host: myhost|-type: notomni|    host: notthathost|- type: omni|    host: myhost|- type: omni|    host: yourhost
[13:22:17] <shbot> emanuele6: after: - type: omni|    host: newhost|-type: notomni|    host: notthathost|- type: omni|    host: newhost|- type: omni|    host: yourhost
[13:24:56] <emanuele6> # printf '%s\n' '- type: omni' '    host: myhost' '-type: notomni' '    host: myhost' '- type: omni' '    host: myhost' '- type: omni' '    host: yourhost' > myfile; printf 'before: %s\n' "$(paste -sd'|' myfile)"; printf '%s\n' 'g/type: omni$/+1s/myhost/newhost/' x | ex -s myfile; printf 'after: %s\n' "$(paste -sd'|' myfile)"
[13:24:57] <shbot> emanuele6: before: - type: omni|    host: myhost|-type: notomni|    host: myhost|- type: omni|    host: myhost|- type: omni|    host: yourhost
[13:24:58] <shbot> emanuele6: after: - type: omni|    host: newhost|-type: notomni|    host: myhost|- type: omni|    host: newhost|- type: omni|    host: yourhost
[13:25:09] <emanuele6> it works, yes
[13:35:43] <eruditehermit_> thank you all
[13:35:50] <eruditehermit_> i've learned a lot
[13:41:11] *** Quits: eruditehermit_ (~eruditehe@50.226.189.210) (Ping timeout: 264 seconds)
[14:55:39] *** Joins: vlm (~vlm@user/vlm)
[15:41:12] *** Joins: Fozzworth_ (~Fozzworth@68-123-12-205.lightspeed.sntcca.sbcglobal.net)
[15:41:32] *** Quits: n8chan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Read error: Connection reset by peer)
[15:42:11] *** Joins: n8chan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[15:44:47] *** Quits: Fozzworth (~Fozzworth@user/fozzworth) (Ping timeout: 264 seconds)
[15:56:00] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[16:05:04] *** Joins: Penguin666x (~Penguin66@217.138.205.135)
[16:08:09] *** Quits: Penguin666 (~Penguin66@217.138.205.135) (Ping timeout: 250 seconds)
[17:02:05] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Remote host closed the connection)
[17:04:25] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[17:19:23] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: see you later)
[17:35:53] *** Quits: fcr (~fran@r167-60-6-0.dialup.adsl.anteldata.net.uy) (Ping timeout: 268 seconds)
[17:40:30] *** Joins: fcr (~fran@r167-56-26-93.dialup.adsl.anteldata.net.uy)
[18:00:08] *** Joins: m4n (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de)
[18:03:10] *** Quits: Torr (~Torr@user/torr) ()
[18:03:21] *** Joins: Torr (~Torr@user/torr)
[18:07:55] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[18:08:29] *** Joins: totenkoph (~scythe@user/totenkoph)
[18:28:40] *** Joins: nvmd (~nvmd@user/nvmd)
[18:42:29] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[18:46:38] <mozgalom> Hi all! I'm trying to capture a substring, in this example (https://sed.js.org/?gist=1d30a35139de43a4d25c0b6d5e167f62) it should be a string between "<" and ">" characters, followed by "; rel=\"next\"" string. I don't understand how comes that in the third line, where no matches were found, sed returns the whole string back?
[18:53:19] <Riviera> hehe i should have taken the domain js.org as a hint that the page will only work with javascript :D
[18:53:23] <Riviera> mozgalom: that's the default.
[18:53:58] <Riviera> # echo box of matches | sed 's/box of matches/I found a box of matches!/'
[18:53:59] <shbot> Riviera: I found a box of matches!
[18:54:05] <Riviera> # echo mozgalom | sed 's/box of matches/I found a box of matches!/'
[18:54:06] <shbot> Riviera: mozgalom
[18:55:38] <Riviera> mozgalom: There are various ways to tell sed to behave differently. For example by making it execute particular commands if there are matches:  sed '/rel="next"/!d;s/.../.../'  would only print lines that contained rel="next",
[18:56:25] <Riviera> mozgalom: another way is using the -n option, telling it not to print by default, and then adding the p flag to the s command, making it only print when there were replacements:  sed -n 's/pattern/replacement/p'
[18:56:31] <Riviera> mozgalom: that said,
[18:56:41] <Riviera> do we have a bot here?
[18:56:42] <Riviera> !html
[18:56:53] <Soliton> only shbot
[18:57:00] <Riviera> mozgalom: You can't parse tag-based languages like HTML or XML using bash, grep, sed, cut, etc. See http://mywiki.wooledge.org/BashFAQ/113 instead.
[18:57:07] <Riviera> Soliton: hehe right
[18:57:16] <Riviera> considered shbot a fella :)
[19:31:17] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[19:31:33] <mozgalom> Riviera thanks for all the info, using "-n" with "the "p" flag did the trick, seems the most elegant to me for this situation.
[19:57:58] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 256 seconds)
[20:50:32] *** Quits: ztx (~ztx@user/ztx) (Quit: ztx)
[20:52:57] *** Quits: X-Scale (~ARM@165.201.137.78.rev.vodafone.pt) (Ping timeout: 256 seconds)
[20:54:01] *** Joins: X-Scale` (~ARM@83.223.248.137)
[20:54:37] *** X-Scale` is now known as X-Scale
[20:58:48] *** Quits: mozgalom (~mozgalom@194.144.47.113) (Quit: SO LONG SUCKERS!)
[21:05:24] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[21:25:11] *** Joins: ztx (~ztx@user/ztx)
[21:50:33] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[21:59:31] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Remote host closed the connection)
[21:59:56] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[22:03:56] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Remote host closed the connection)
[22:18:32] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Read error: Connection reset by peer)
[22:19:07] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[22:30:32] *** Joins: eruditehermit_ (~eruditehe@157-131-244-251.fiber.dynamic.sonic.net)
[22:31:18] *** Quits: TomyWork (~TomyLobo@p200300e80f0f27005036fe31250dbe10.dip0.t-ipconnect.de) (Quit: Leaving)
[23:09:49] *** Joins: paul424 (~tom@ip-31-0-123-63.multi.internet.cyfrowypolsat.pl)
[23:09:54] <paul424> hello hello
[23:10:05] <paul424> I have such command for sed and it doesn't work : 
[23:10:45] <paul424> sed -i   's/for(Seat* seat/for(std::unique_ptr<Seat>& seat/g' */*.cpp
[23:10:58] <paul424> which of the characters above should be quoted ? 
[23:11:00] <emanuele6> \*
[23:11:36] <Soliton> also & on the replacement side.
[23:12:17] <paul424>  sed -i   's/for(Seat\* seat/for(std::unique_ptr<Seat>\& seat/g' */*.cpp
[23:12:22] <paul424> should work ? 
[23:12:27] <emanuele6> /Seat*/ matches `Sea' or `Seat' or `Seatt' or `Seattt' ...
[23:12:36] <emanuele6> but not `Seat*'
[23:12:47] <paul424> sure
[23:13:25] <paul424> should my command now work ? 
[23:13:44] <emanuele6> paul424: assuming sed is GNU sed and that */*.cpp actually matches the files, yes
[23:15:02] <paul424> hmm I still have :      for(Seat* seat : seats)
[23:15:38] <emanuele6> -i is non standard and without arguments only works with GNU sed as i said
[23:15:51] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.2-dev)
[23:16:08] <paul424> yeah it's brand new gnu 
[23:16:32] <Soliton> # sed 's/for(Seat\* seat/for(std::unique_ptr<Seat>\& seat/g' <<< 'for(Seat* seat : seats)'
[23:16:33] <shbot> Soliton: for(std::unique_ptr<Seat>& seat : seats)
[23:16:51] <emanuele6> then perhaps */*.cpp doesn't actually match your files
[23:16:57] <emanuele6> do you have an error code?
[23:17:12] <paul424> no it quits quietly ...
[23:17:28] <emanuele6> then perhaps it does not match all of your files.
[23:17:48] <emanuele6> which file does not get the change?
[23:18:27] <emanuele6> relative to the directory in which you run the command, what is its path?
[23:18:40] <paul424> like traps/TrapManager.cpp
[23:20:02] <paul424> and ls -la */*.cpp all matches them 
[23:20:27] <emanuele6> echo */*.cpp would have been a better test, anyway it should work
[23:20:50] <emanuele6> prehaps you have `for (Seat* seat' instead of `for(Seat* seat' in the file
[23:21:21] <paul424> wait
[23:21:31] <paul424> emacs is getting warm
[23:22:29] <emanuele6> you have sent me a privmsg i think
[23:22:41] <emanuele6> with an error message
[23:22:45] <paul424> yeap
[23:23:08] <emanuele6> why?
[23:23:30] <emanuele6> anyway, i see    source/traps/TrapManager.cpp   in the error
[23:23:42] <emanuele6> are you sure you don't need  source/*/*.cpp ?
[23:24:10] <paul424> I am in the source directory ... hmmm 
[23:24:58] <emanuele6> <paul424 >  1301 |     for (Seat* seat : getSeats())
[23:25:05] <emanuele6> the issue is literally what i said.
[23:25:09] <paul424> yes this one wrong !
[23:25:54] <emanuele6> # sed 's/for[[:blank:]]*(Seat\* seat/for(std::unique_ptr<Seat>\& seat/g' <<< 'for(Seat* seat : seats) for  (Seat* seat : seats)'
[23:25:55] <shbot> emanuele6: for(std::unique_ptr<Seat>& seat : seats) for(std::unique_ptr<Seat>& seat : seats)
[23:26:19] <emanuele6> use [[:blank:]]* to allow optional vertical whitespace
[23:26:26] <emanuele6> err horizontal
[23:26:36] <emanuele6> sed is not going to guess that for you
[23:26:55] <paul424> ahh oki
[23:27:10] <paul424> without -i then  ? 
[23:27:25] <emanuele6> do you want to edit the file?
[23:27:41] <paul424> yes
[23:27:46] <emanuele6> then with -i...
[23:27:55] <emanuele6> without -i sed prints to stdout
[23:28:47] <emanuele6> sed is not really intended to edit file, that is why -i is not standard
[23:29:04] <paul424> emanuele6, anyway your analitical skills are superb, kudos to you emanuele6++
[23:30:24] <emanuele6> what you should use is something like ex or ed which are intended to be scriptable text editors, always seem to misuse sed with the nonstandard -i to edit files for some reason
[23:30:47] <emanuele6> s/always/but people &/
[23:31:16] <emanuele6> prefer misusing
[23:31:40] <paul424> because sed is famous :D
[23:32:24] <emanuele6> yes :)
[23:33:06] *** Quits: eruditehermit_ (~eruditehe@157-131-244-251.fiber.dynamic.sonic.net) (Ping timeout: 260 seconds)
[23:41:57] <paul424> -i is really non standard it doesn't work here as intended 
[23:42:15] <paul424> while without -i it prints the correct output for traps/TrapManager.cpp
[23:42:49] <paul424> for your curiosity I am using sed (GNU sed) 4.8
[23:42:52] <emanuele6> it will not work in macos for example, because macos does not use GNU sed
[23:43:29] <emanuele6> and -i without arguments is not valid in macos sed iirc
[23:43:46] <paul424> Iam on OPensuse linu\x
[23:44:44] <emanuele6> that command will work in GNU sed. if it doesn't your pattern is wrong
[23:49:54] <paul424> after going up and giving a command source/*/*.cpp seems to work 
[23:56:30] *** Quits: edlou (uid413273@helmsley.irccloud.com) (Excess Flood)
[23:56:51] *** Joins: edlou (uid413273@helmsley.irccloud.com)
