[00:00:07] *** Quits: dreamon (~dreamon@pd9503d48.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[00:12:57] *** Quits: w1kl4s (~w1kl4s@user/w1kl4s) (Quit: Bye)
[00:12:59] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Quit: WeeChat 3.2.1)
[00:37:49] *** Joins: w1kl4s (~w1kl4s@user/w1kl4s)
[00:47:02] *** Quits: MrZeus_ (~MrZeus@185.248.85.56) (Ping timeout: 246 seconds)
[00:48:07] *** Joins: MrZeus (~MrZeus@2a02:c7f:a0aa:4400:1839:8b11:ffad:9a80)
[00:48:50] *** Joins: MrZeus_ (~MrZeus@185.248.85.56)
[00:48:50] *** Quits: arbitercoin (~Rheanna@101.89.154.192) (Remote host closed the connection)
[00:50:00] *** Joins: arbitercoin (~Rheanna@218.78.77.129)
[00:52:54] *** Quits: MrZeus (~MrZeus@2a02:c7f:a0aa:4400:1839:8b11:ffad:9a80) (Ping timeout: 260 seconds)
[00:58:53] *** Quits: cosimone (~user@93-47-229-220.ip115.fastwebnet.it) (Ping timeout: 252 seconds)
[01:03:40] *** Joins: AbleBacon_ (~AbleBacon@user/AbleBacon)
[01:06:54] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Ping timeout: 260 seconds)
[01:10:59] *** Quits: InTheWings (~InTheWing@videolan/developer/inthewings) (Ping timeout: 252 seconds)
[01:12:07] *** Quits: vulpine (xfnw@tilde.team) (Remote host closed the connection)
[01:14:42] *** Joins: vulpine (xfnw@tilde.team)
[01:23:04] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 265 seconds)
[01:26:59] *** Joins: daemon (znc@about/web/TheBeardedBSDer)
[01:27:44] <daemon> hey all wonder if anyone has any idea what it means when you try this with an mp4 file: ffmpeg -i "001 - hack speedup 1.mp4" -c copy -bsf:v h264_mp4toannexb -f mpegts intermediate1.ts and receive: [h264_mp4toannexb @ 00000165084fc6c0] Codec 'hevc' (173) is not supported by the bitstream filter 'h264_mp4toannexb'. Supported codecs are: h264 (27)
[01:27:44] <daemon> Error initializing bitstream filter: h264_mp4toannexb -- the video codec is HEVC
[01:28:29] <daemon> ah use hevc_mp4toannexb
[01:28:36] <daemon> did not think it would be that simple -_-
[01:29:14] <kepstin> the error message there does do a pretty good job of explaining the problem, as far as it goes :)
[01:29:17] *** Quits: durandal_1707 (~computer@95.168.121.241) (Read error: Connection reset by peer)
[01:29:39] <daemon> perhaps not
[01:29:41] <daemon> ffmpeg -i "concat:intermediate1.ts|intermediate2.ts" -c copy -bsf:a aac_adtstoasc output.mp4
[01:29:51] <daemon> well I am doing this: https://trac.ffmpeg.org/wiki/Concatenate
[01:30:11] <daemon> however when I try to concat the intermediate files
[01:30:11] <daemon> [mpegts @ 0000027a782aae80] Packet corrupt (stream = 0, dts = 4519389).
[01:30:11] <daemon> [mpegts @ 0000027a782aae80] DTS 126000 < 4519389 out of order
[01:31:07] <daemon> the filesize it created after that command 'output.mp4' is only 125% of both files that was concatenated ... let me see if it worked just for curiosities sake
[01:31:32] <daemon> it did!
[01:31:43] <daemon> so must be an ignorable warning thank god
[01:31:45] <daemon> cheers all :)
[01:33:31] *** AbleBacon_ is now known as AbleBacon
[01:37:09] *** Quits: noarb (~noarb@user/noarb) (Quit: ZNC 1.8.2 - https://znc.in)
[01:37:28] *** Joins: keypusher (keypusher@user/keypusher)
[01:38:55] *** Quits: arbitercoin (~Rheanna@218.78.77.129) (Remote host closed the connection)
[01:40:39] *** Joins: arbitercoin (~Rheanna@119.96.171.22)
[01:42:16] *** Joins: noarb (~noarb@user/noarb)
[01:45:55] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[01:51:52] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[01:55:19] *** Quits: ivanich_ (~ivanich@45-140-123-239.broadband.tenet.odessa.ua) (Quit: Konversation terminated!)
[02:04:18] *** Joins: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua)
[02:11:58] *** Quits: kurosu (uid342582@id-342582.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[02:15:06] *** Quits: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua) (Quit: Konversation terminated!)
[02:20:43] *** Quits: bertieb (~bertieb@217.155.39.147) (Read error: Connection reset by peer)
[02:22:26] *** Joins: bertieb (~bertieb@217.155.39.147)
[02:26:02] *** Quits: Atsuko (~x@94.242.250.86) (Remote host closed the connection)
[02:32:29] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 264 seconds)
[02:40:00] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[02:44:04] *** Joins: Atsuko (~x@94.242.250.86)
[03:01:25] *** Quits: haihao (~haihao@192.102.204.51) (Ping timeout: 252 seconds)
[03:01:49] *** Joins: haihao (~haihao@192.102.204.53)
[03:08:34] *** Quits: auth (~auth@user/auth) (Ping timeout: 252 seconds)
[03:11:32] *** Quits: piku (~piku@47.202.122.99) (Quit: Leaving)
[03:18:15] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[03:19:30] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[03:19:31] *** Quits: arbitercoin (~Rheanna@119.96.171.22) (Remote host closed the connection)
[03:20:06] *** Joins: arbitercoin (~Rheanna@119.96.171.22)
[03:20:36] *** Quits: nrg (~NRG@user/nrg) (Quit: ZNC - https://znc.in)
[03:20:43] *** Quits: xlei (akans@pool-68-129-84-118.nycmny.fios.verizon.net) (Ping timeout: 252 seconds)
[03:21:45] *** Joins: nrg (~NRG@user/nrg)
[03:38:37] *** Quits: therobin (~UserNick@104.247.246.198) (Remote host closed the connection)
[03:40:49] *** Quits: Buster_ (~Buster@46.160.36.66) (Ping timeout: 265 seconds)
[03:46:51] *** Quits: thebombzen (~thebombze@587232289.guest.umich.net) (Remote host closed the connection)
[04:08:42] *** Quits: arbitercoin (~Rheanna@119.96.171.22) (Remote host closed the connection)
[04:10:14] *** Joins: arbitercoin (~Rheanna@218.78.27.29)
[04:22:26] *** Quits: arcatech (~arcatech@user/arcatech) (Ping timeout: 260 seconds)
[04:22:52] *** Quits: haihao (~haihao@192.102.204.53) (Ping timeout: 265 seconds)
[04:23:19] *** Joins: haihao (~haihao@192.55.46.54)
[04:30:22] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:34:28] *** Quits: MrZeus_ (~MrZeus@185.248.85.56) (Ping timeout: 265 seconds)
[04:34:30] *** Joins: vlm (~vlm@user/vlm)
[04:41:19] *** Quits: mickey (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[04:41:40] *** Joins: mickey (~user@user/mickey)
[04:44:20] *** Quits: arbitercoin (~Rheanna@218.78.27.29) (Remote host closed the connection)
[04:45:08] *** Joins: arbitercoin (~Rheanna@218.78.27.29)
[04:54:20] *** Quits: Zucca (~Zucca@user/zucca) (Remote host closed the connection)
[04:54:47] *** Joins: Zucca (~Zucca@user/zucca)
[04:59:55] *** Joins: darkapex_ (~darkapex@user/darkapex)
[05:00:13] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 252 seconds)
[05:02:09] *** Quits: arbitercoin (~Rheanna@218.78.27.29) (Remote host closed the connection)
[05:02:39] *** Joins: arbitercoin (~Rheanna@101.91.238.197)
[05:04:53] *** Quits: fltrz (~fltrz@94.105.111.180.dyn.edpnet.net) (Ping timeout: 264 seconds)
[05:15:19] *** Quits: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com) (Ping timeout: 268 seconds)
[05:18:42] *** Joins: darkapex (~darkapex@user/darkapex)
[05:18:48] *** Joins: paddymahoney (~paddymaho@cpe9050ca207f83-cm9050ca207f80.cpe.net.cable.rogers.com)
[05:20:34] *** Quits: darkapex_ (~darkapex@user/darkapex) (Ping timeout: 252 seconds)
[05:20:56] *** Joins: fltrz (~fltrz@109.236.138.219)
[05:35:29] *** Quits: jos1 (~jos3@dyndsl-091-248-054-037.ewe-ip-backbone.de) (Ping timeout: 264 seconds)
[05:40:55] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 252 seconds)
[05:46:26] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 260 seconds)
[05:47:42] *** Joins: keypusher (keypusher@user/keypusher)
[05:48:20] *** Joins: jos1 (~jos3@dyndsl-178-142-070-070.ewe-ip-backbone.de)
[05:48:42] *** Quits: arbitercoin (~Rheanna@101.91.238.197) (Remote host closed the connection)
[05:50:26] *** Joins: gnoo (~gnoo@user/gnoo)
[05:51:29] *** Joins: arbitercoin (~Rheanna@119.96.171.22)
[05:51:31] *** Joins: xlei (akans@pool-68-129-84-118.nycmny.fios.verizon.net)
[06:22:34] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[06:26:22] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[06:27:16] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[06:27:52] *** Joins: Guest58 (~Guest58@cpe-45-48-160-135.socal.res.rr.com)
[06:27:52] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[06:28:05] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[06:30:07] *** Quits: arbitercoin (~Rheanna@119.96.171.22) (Remote host closed the connection)
[06:31:29] <Guest58> Is it recommended to always use avformat_seek_file instead of av_seek frame?
[06:32:04] *** Joins: arbitercoin (~Rheanna@119.96.171.22)
[06:33:15] *** Joins: stevenli_ (~stevenliu@162.219.34.244)
[06:33:16] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[06:34:16] *** Quits: jos1 (~jos3@dyndsl-178-142-070-070.ewe-ip-backbone.de) (Ping timeout: 252 seconds)
[06:35:11] *** Joins: naffan_ (~naffan@223.70.168.14)
[06:35:19] *** Quits: stevenli_ (~stevenliu@162.219.34.244) (Remote host closed the connection)
[06:44:27] *** Joins: therobin (~UserNick@2607:f2c0:937c:9000:952f:fcd9:861a:2810)
[06:45:52] *** Joins: jos1 (~jos3@dyndsl-091-096-041-231.ewe-ip-backbone.de)
[06:46:09] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[06:49:58] *** Quits: tlacatlc6 (~tlacatlc6@097-101-132-062.res.spectrum.com) (Quit: Leaving)
[07:06:36] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[07:13:22] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[07:19:36] *** Joins: auth (~auth@user/auth)
[07:19:44] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[07:21:47] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[07:22:19] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[07:27:05] *** Quits: mickey (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[07:27:24] *** Joins: mickey (~user@user/mickey)
[07:28:05] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[07:28:43] *** Quits: arbitercoin (~Rheanna@119.96.171.22) (Remote host closed the connection)
[07:29:16] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[07:29:28] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[07:29:37] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[07:30:24] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[07:31:12] *** Quits: arbitercoin (~Rheanna@101.91.240.201) (Remote host closed the connection)
[07:32:34] *** Joins: kib_ (~kib@user/kib)
[07:32:44] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[07:37:38] *** Quits: Jerrk (~Jerrk@45.83.220.203) (Remote host closed the connection)
[07:53:43] *** Quits: mickey (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[07:53:58] *** Joins: mickey (~user@user/mickey)
[08:07:33] *** Joins: honza_c (~honza_c@dynamic-194-228-11-143.ipv4.broadband.iol.cz)
[08:12:23] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[08:12:55] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[08:29:31] *** Joins: pk08 (~pk08@122.170.163.139)
[08:49:25] *** Quits: arbitercoin (~Rheanna@101.91.240.201) (Remote host closed the connection)
[08:50:28] *** Joins: arbitercoin (~Rheanna@218.78.77.129)
[09:09:29] *** Quits: arbitercoin (~Rheanna@218.78.77.129) (Remote host closed the connection)
[09:11:36] *** Joins: arbitercoin (~Rheanna@101.91.238.197)
[09:12:29] *** Joins: dreamon (~dreamon@pd9503d48.dip0.t-ipconnect.de)
[09:24:50] *** Quits: dreamon (~dreamon@pd9503d48.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[09:25:19] *** Joins: root1 (root@2600:3c02::f03c:92ff:fe1a:c779)
[09:28:37] *** Quits: blinky42 (~quassel@user/blinky42) (Ping timeout: 252 seconds)
[09:28:59] *** Joins: blinky42 (~quassel@jabber.blinkylight.net)
[09:29:00] *** Quits: blinky42 (~quassel@jabber.blinkylight.net) (Changing host)
[09:29:00] *** Joins: blinky42 (~quassel@user/blinky42)
[09:35:37] *** Quits: Guest58 (~Guest58@cpe-45-48-160-135.socal.res.rr.com) (Quit: Client closed)
[09:38:51] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[09:41:24] *** Joins: OsteHovel (~OsteHovel@ti0056a400-6574.bb.online.no)
[09:44:06] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[09:50:18] *** Quits: pounce (~pounce@facebook/engineering/pounce) (Quit: bye bye!)
[10:01:11] *** Quits: gnoo (~gnoo@user/gnoo) (Quit: gnoo)
[10:01:23] *** Joins: gnoo (~gnoo@user/gnoo)
[10:02:42] *** Joins: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de)
[10:03:45] *** Quits: OsteHovel (~OsteHovel@ti0056a400-6574.bb.online.no) (Read error: Connection reset by peer)
[10:27:37] *** Joins: palasso (~palasso@user/palasso)
[10:33:30] *** Joins: InTheWings (~InTheWing@videolan/developer/inthewings)
[10:41:35] *** Quits: naffan_ (~naffan@223.70.168.14) (Quit: leaving)
[10:52:42] *** Joins: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua)
[10:56:50] *** Joins: dbal_ (~dbal@c-98-198-217-184.hsd1.tx.comcast.net)
[10:57:26] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Quit: leaving)
[10:58:17] *** Quits: dbal (~dbal@2603:300c:b04:b100:88d3:2feb:54b1:520b) (Ping timeout: 264 seconds)
[11:27:02] *** Joins: Ronalds_Mazitis_ (~Ronalds_M@46.109.76.104)
[11:28:47] <Ronalds_Mazitis_> how do I insert one video in another at some seconds
[11:29:45] *** Quits: arbitercoin (~Rheanna@101.91.238.197) (Remote host closed the connection)
[11:30:39] *** Joins: arbitercoin (~Rheanna@101.91.180.110)
[11:38:50] *** Quits: arbitercoin (~Rheanna@101.91.180.110) (Remote host closed the connection)
[11:40:00] *** Joins: arbitercoin (~Rheanna@218.78.77.129)
[11:49:04] *** Quits: MightyBOB (~MightyBOB@76.99.21.35) (Remote host closed the connection)
[11:49:26] *** Joins: gnoo_ (~gnoo@user/gnoo)
[11:49:54] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 276 seconds)
[11:52:17] *** Joins: jokoon (~eio@2a01:e0a:542:e160:4db:25aa:20c3:f4a7)
[11:52:24] <jokoon> https://trac.ffmpeg.org/wiki/Create%20a%20mosaic%20out%20of%20several%20input%20videos%20using%20xstack
[11:52:30] <jokoon> setpts=PTS-STARTPTS
[11:52:36] <jokoon> What is this supposed to do?
[11:53:17] <jokoon> (Ill google)
[11:55:25] <JEEB> see ffmpeg-filters.html, I think it defines it
[11:55:57] <JEEB> http://ffmpeg.org/ffmpeg-filters.html#setpts_002c-asetpts
[11:56:00] <jokoon> Yes but I don't understand why it's used here for xstack. I have audio desync on my xstack command, and I don't know why
[11:56:20] <jokoon> maybe I should use this setpts stuff
[11:56:38] <JEEB> basically if the stream starts at nonzero, that start offset is being removed from it. that way all streams are forced to start at timestamp zero
[11:56:44] <jokoon> the encode job takes about 10 or 15min so It's frustrating to try things
[11:56:44] <JEEB> essentially
[11:58:10] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[11:58:26] <jokoon> My xstack jobs has video that are results of cuts, as inputs... do you think those streams start at non zero? no you think I should try to use this setpts?
[12:00:02] <JEEB> I have no idea how your cuts look :) but the main thing is that those stack things I think only take in video, so essentially you're making the synchronization of audio against that stacked video something that you will now have to figure out yourself
[12:00:15] <JEEB> since you've separated the audio and video, and esp. if you're utilizing things like setpts
[12:00:47] <jokoon> Can't you tell xstack to also do the audio mixing?
[12:00:49] <JEEB> if the a/v desync is there right away, just limiting the encode to X seconds with -t X will help with testing not taking minutes
[12:01:01] <JEEB> nope
[12:01:07] <JEEB> the stack filters are video only filters
[12:01:25] *** Quits: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733) (Read error: Connection reset by peer)
[12:01:36] <jokoon> JEEB, no the audio desync seems to happens progressively, more at the end, it's something like 2s maybe on a 50min video
[12:02:04] <JEEB> and what does the audio match against :D
[12:02:11] <JEEB> also are you overriding timestamps already somewhere?
[12:02:31] <jokoon> https://stackoverflow.com/questions/69302839/ffmpegs-xstack-command-results-in-out-of-sync-sound-is-it-possible-to-mix-the
[12:02:48] *** Quits: Ronalds_Mazitis_ (~Ronalds_M@46.109.76.104) (Quit: Connection closed)
[12:02:49] <jokoon> here are the details, I've posted a log of the mix_audio stage
[12:03:10] <JEEB> unfortunately I am not able to utilize too much time right now since I have a $dayjob
[12:03:25] <jokoon> ok sorry then
[12:04:40] <jokoon> I guess there are other better places to ask my question than stackoverflow, maybe the ffmpeg trac?
[12:05:28] *** Joins: luni-4 (uid453292@id-453292.ilkley.irccloud.com)
[12:07:20] <JEEB> that is generally for bug reports
[12:07:27] <jokoon> Yes I saw
[12:07:27] <JEEB> so here or the users mailing list
[12:07:40] <jokoon> I will try it yes
[12:20:05] *** Joins: naffan (~naffan@39.155.215.236)
[12:23:23] *** Joins: minimal (~minimal@user/minimal)
[12:31:46] *** Quits: honza_c (~honza_c@dynamic-194-228-11-143.ipv4.broadband.iol.cz) (Ping timeout: 252 seconds)
[12:33:25] *** Quits: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de) (Ping timeout: 252 seconds)
[12:42:26] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[12:44:31] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[12:45:05] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[12:45:09] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[12:45:16] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[12:45:40] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[12:46:06] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[12:46:19] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[12:46:27] *** Joins: keypushe- (keypusher@user/keypusher)
[12:46:32] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[12:46:42] *** Quits: keypusher (keypusher@user/keypusher) (Remote host closed the connection)
[12:46:49] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[12:48:04] *** Joins: Blacker47 (~Blacker47@user/blacker47)
[12:49:30] *** keypushe- is now known as keypusher
[12:57:08] *** Joins: Mister_Magister (~Mister_Ma@user/mister-magister/x-2636733)
[13:05:58] *** Joins: rsx (~dummy@ppp-188-174-134-162.dynamic.mnet-online.de)
[13:16:24] *** Joins: Guest43 (~Guest43@193.37.32.242)
[13:17:12] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[13:17:32] <Guest43> hi. i am encoding a live stream with ffmpeg but i have seen that the encoding is very slow, even with crf value set to 37, encoding takes place at 0.99x and reduces to 0.9-0.8x sometimes
[13:17:51] <Guest43> is there a way to make the encoding run faster? ffmpeg is using only around 12% CPU
[13:18:13] <Guest43> can it use 50% cpu somehow and get the encoding speed faster?
[13:18:13] <JEEB> crf does not really affect speed (well, it does by affecting how much bits get written, but that's a minor part of it)
[13:18:33] <JEEB> you can see if the encoder you're using has other options like preset etc
[13:18:37] <Guest43> JEEB ok
[13:18:38] <JEEB> with -h encoder=ENCODER_NAME
[13:18:41] *** Quits: arbitercoin (~Rheanna@218.78.77.129) (Remote host closed the connection)
[13:18:48] <JEEB> also I recommend testing with null output
[13:18:58] <JEEB> `-f null -`
[13:19:13] <JEEB> that means the output "file name" is just a dash, and -f null means the encoded stuff goes poof
[13:19:25] <JEEB> that just makes sure your output I/O is not the hting blocking
[13:19:39] <JEEB> also if you have a live input, do not utilize -re
[13:19:59] <Guest43> JEEB ffmpeg  -re -i "https://privatehls/"  -c:a copy -crf 37  -s 480x300 -c:v libx264 -preset ultrafast -b:v 400k -maxrate 960k -bufsize 960k -tune zerolatency -f hls -hls_time 2 -hls_list_size 3  -hls_flags delete_segments -strftime 1 -use_localtime 1 -hls_segment_filename %H-%M-%S.ts stream.m3u8
[13:20:03] <Guest43> i am doing like this
[13:21:18] *** Joins: arbitercoin (~Rheanna@218.78.27.29)
[13:21:52] <Guest43> JEEB do you think the command is alright?
[13:22:02] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[13:22:40] <JEEB> Guest43: is the input live?
[13:22:58] <JEEB> also tune zerolatency actually makes things *slower*
[13:23:03] <Guest43> yes, its coming from a paid subscription
[13:23:08] <Guest43> ah i see
[13:23:17] <JEEB> anyways, I see -re there
[13:23:24] <JEEB> never, ever utilize -re with live inputs
[13:23:34] <Guest43> ok let me remove and check
[13:23:38] <Guest43> thanks
[13:23:43] <JEEB> it's meant for rate *emulation* for stuff like files
[13:24:22] <JEEB> otherwise test the null output and see if you're going fast enough :P
[13:24:37] <JEEB> then if you're still not, try removing the encoding as well (since -f null will default to raw video/audio)
[13:28:24] <Guest43> apparently the hls stream works without drops now, thanks very much
[13:28:35] <Guest43> i will keep seeing the vlc and let you know
[13:28:43] <Guest43> the "-re" was making it bad
[13:29:07] <JEEB> yes, it was basically sleep()ing , no idea where people get that it should be utilized for live inputs :)
[13:29:10] <Guest43> but there are still occasional drops
[13:29:42] <JEEB> I have given you ways to figure out where your bottleneck is
[13:29:49] <Guest43> hm
[13:30:00] *** Quits: pong (~beaver@user/pong) (Ping timeout: 276 seconds)
[13:30:10] <JEEB> remove the HLS writing first, and replace with `-f null -`
[13:30:19] <JEEB> that will still encode, but no I/O
[13:30:37] <JEEB> then if that still fails, you remove the encoding with x264 and keep null output
[13:30:44] <JEEB> that should pass raw video into null as-is
[13:31:02] <JEEB> aka "stream copy for audio, decoded raw video for video"
[13:31:26] <JEEB> if that is still bad, then you've got a problem with the reading/decoding side :P
[13:31:54] *** Joins: pong (~beaver@user/pong)
[13:37:26] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[13:39:39] <Guest43> JEEB you were right. the reading takes a while when new .ts streams show up in the playlist, hence the delay
[13:40:00] <Guest43> possibly a faster internet would help
[13:43:22] <Guest43> but removing the -re was useful
[13:43:28] *** Quits: Guest43 (~Guest43@193.37.32.242) (Quit: Client closed)
[13:45:38] *** Joins: cosimone (~user@93-47-228-91.ip115.fastwebnet.it)
[13:54:56] *** Quits: mthall (~quassel@mail.thalliman.com) (Ping timeout: 252 seconds)
[14:04:59] *** Joins: cmp84 (~cmp@lfbn-ren-1-1450-25.w90-27.abo.wanadoo.fr)
[14:05:15] *** Joins: gnoo (~gnoo@user/gnoo)
[14:05:45] *** Quits: gnoo_ (~gnoo@user/gnoo) (Ping timeout: 276 seconds)
[14:09:14] *** Quits: arbitercoin (~Rheanna@218.78.27.29) (Remote host closed the connection)
[14:09:49] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[14:11:31] *** Joins: arbitercoin (~Rheanna@218.78.77.129)
[14:29:35] *** Quits: kib_ (~kib@user/kib) (Quit: WeeChat 3.2.1)
[14:36:29] *** Quits: naffan (~naffan@39.155.215.236) (Ping timeout: 250 seconds)
[14:41:25] *** Joins: kib (~kib@user/kib)
[14:51:00] *** Quits: kib (~kib@user/kib) (Read error: Connection reset by peer)
[14:53:47] *** Joins: kib (~kib@user/kib)
[14:57:13] *** Joins: tlacatlc6 (~tlacatlc6@097-101-132-062.res.spectrum.com)
[14:59:25] *** Quits: arbitercoin (~Rheanna@218.78.77.129) (Remote host closed the connection)
[15:00:22] *** Quits: cosimone (~user@93-47-228-91.ip115.fastwebnet.it) (Ping timeout: 260 seconds)
[15:01:08] *** Joins: arbitercoin (~Rheanna@218.78.27.29)
[15:01:39] *** Quits: Blacker47 (~Blacker47@user/blacker47) (Quit: Life is short. Get a V.90 modem fast!)
[15:03:56] *** Joins: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de)
[15:13:39] *** Joins: Blacker47 (~Blacker47@user/blacker47)
[15:40:15] *** Joins: pointer (~pointer@122.161.79.196)
[15:41:01] <jokoon> wow, using -report, the log is already 10MB
[15:41:16] <jokoon> I don't think I can post this log online...
[15:43:26] <jokoon> I guess I need to reduce verbosity...
[15:44:58] *** Joins: Guest21 (~Guest21@nat-216-240-30-11.netapp.com)
[15:46:15] <Guest21>  Hi If I have to simulate camera feed (video stream) into a server how to I do that with ffmpeg ?  Any guidance ?
[15:48:16] <Guest21> I see that ffmpeg can take input from rtsp://IP...../onvif camera but if I have to do that without real camera .. how can I achieve the same ?  Any help
[15:49:06] <JEEB> if you specifically want RTSP input also be part of what's being tested, utilize VLC or something to output RTSP
[15:49:07] *** Quits: arbitercoin (~Rheanna@218.78.27.29) (Remote host closed the connection)
[15:49:21] <JEEB> then read that with ffmpeg.c
[15:49:33] <JEEB> usage of VLC's sout is left as an experiment for you :P
[15:49:43] <JEEB> I just know VLC is /supposed/ to have an OK RTSP output
[15:49:52] <JEEB> (Although I hear live555 might have derped their licensing)
[15:51:14] *** Joins: arbitercoin (~Rheanna@218.78.43.189)
[15:55:46] *** Joins: zsoltiv_ (~zsoltiv@fibhost-67-12-35.fibernet.hu)
[15:59:29] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Remote host closed the connection)
[15:59:48] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[16:00:49] *** Quits: zsoltiv_ (~zsoltiv@fibhost-67-12-35.fibernet.hu) (Ping timeout: 252 seconds)
[16:02:39] *** Quits: Hello71 (~Hello71@wireguard/contributor/hello71) (Remote host closed the connection)
[16:03:28] *** Joins: Hello71 (~Hello71@wireguard/contributor/hello71)
[16:15:48] *** Quits: therobin (~UserNick@2607:f2c0:937c:9000:952f:fcd9:861a:2810) (Remote host closed the connection)
[16:21:35] *** Quits: arbitercoin (~Rheanna@218.78.43.189) (Remote host closed the connection)
[16:22:32] *** Joins: arbitercoin (~Rheanna@218.78.43.189)
[16:23:00] *** Quits: rsx (~dummy@ppp-188-174-134-162.dynamic.mnet-online.de) (Quit: rsx)
[16:23:22] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 252 seconds)
[16:23:49] *** Joins: rsx (~dummy@ppp-188-174-134-162.dynamic.mnet-online.de)
[16:27:00] <jokoon> cur_dts is invalid st:0 (0) [init:1 i_done:0 finish:0] (this is harmless if it occurs once at the start per stream)
[16:28:33] <jokoon> In retrospect, I remember that I set to copy the audio stream, it's much faster, but it might the reason why it's out of sync
[16:29:49] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[16:29:51] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[16:30:32] *** Quits: Guest21 (~Guest21@nat-216-240-30-11.netapp.com) (Ping timeout: 256 seconds)
[16:32:29] *** Joins: hseg (~hseg@185.120.124.14)
[16:34:27] <hseg> Hi, trying to cut clips from larger videos. however -ss -to doesn't cut at the right spots, overestimating them to hit the keyframes. any way to avoid this?
[16:34:56] *** Quits: arbitercoin (~Rheanna@218.78.43.189) (Remote host closed the connection)
[16:35:25] <another|> what version?
[16:35:25] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Ping timeout: 252 seconds)
[16:35:28] <hseg> though it might be just an artifact of ffplay doing things differently, am using it to double-check my filter settings before batching all crops
[16:35:31] <hseg> 4.4 on mac
[16:35:54] *** Joins: arbitercoin (~Rheanna@218.78.43.189)
[16:36:06] <kepstin> hseg you must be using "-c copy" - in that case by necessity it has to cut on keyframes
[16:36:25] <hseg> -c:a copy, yes
[16:36:30] <hseg> does that impact the video?
[16:37:03] <hseg> also, in the ffplay commandline, only have the seeking+ -vf flags
[16:37:08] <hseg> no codecs
[16:38:30] *** Quits: Hello71 (~Hello71@wireguard/contributor/hello71) (Remote host closed the connection)
[16:41:55] *** Joins: Guest21 (~Guest21@nat-216-240-30-11.netapp.com)
[16:44:19] <hseg> ping?
[16:45:58] *** Joins: darkapex_ (~darkapex@user/darkapex)
[16:45:59] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 252 seconds)
[16:47:56] *** Joins: darkapex (~darkapex@user/darkapex)
[16:51:22] *** Quits: darkapex_ (~darkapex@user/darkapex) (Ping timeout: 252 seconds)
[16:53:21] <hseg> hrm. seems ffmpeg is more accurate than ffplay
[16:53:54] <hseg> brb
[16:55:22] *** Joins: Hello71 (~Hello71@wireguard/contributor/hello71)
[17:01:04] *** Joins: therobin (~UserNick@2607:f2c0:937c:9000:80be:80a1:d04b:b161)
[17:01:09] *** Joins: kurosu (uid342582@id-342582.hampstead.irccloud.com)
[17:01:18] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[17:04:03] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[17:05:47] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 252 seconds)
[17:06:39] *** Joins: cosimone (~user@93-47-228-91.ip115.fastwebnet.it)
[17:17:22] *** Joins: Guest3768 (~Guest37@nat-216-240-30-11.netapp.com)
[17:20:25] <Guest3768> Can I use ffmpeg as client and server.  Meaning one pushing out the stream and other receiving it ?
[17:21:49] <JEEB> with something like UDP multicast, yes
[17:21:56] <JEEB> generally no
[17:22:08] <JEEB> ffmpeg.c is not a server
[17:25:49] *** Joins: someuser (~user@41.46.243.175)
[17:27:04] <kepstin> you can use ffmpeg to pull from one server and push to a different server, tho.
[17:27:49] <Guest3768> JEEB .. Thanks for reply.  As I mentioned I'm trying to simulate camera feed being received by a rtsp server.  Just wondering whats the best way
[17:28:17] *** Quits: demon__ (~user@45.130.83.107) (Ping timeout: 265 seconds)
[17:29:15] *** Quits: arbitercoin (~Rheanna@218.78.43.189) (Remote host closed the connection)
[17:31:23] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[17:31:29] <Guest3768> Kepstin.. yes that makes sense.   One one linux box: ffmpeg -i local.mp4 rtsp://second-linuxbox-IP. and from second linux box ffmpeg -i rtsp://localIP. local.mp4
[17:34:44] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[17:37:19] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[17:40:27] <jokoon> so just to be sure, xstack doesn't automatically mix the audio, right?
[17:40:35] <jokoon> I must do it separately?
[17:41:56] *** Quits: Guest21 (~Guest21@nat-216-240-30-11.netapp.com) (Ping timeout: 256 seconds)
[17:42:30] *** Quits: Guest3768 (~Guest37@nat-216-240-30-11.netapp.com) (Ping timeout: 256 seconds)
[17:42:34] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[17:47:37] <another|> yes
[17:50:11] <jokoon> Im begging for clues for my script... I can attach a ffmpeg log, but the log is 220MB...
[17:50:34] *** Joins: keypusher (keypusher@user/keypusher)
[17:54:23] *** Quits: dreamon (~dreamon@ppp-88-217-77-73.dynamic.mnet-online.de) (Ping timeout: 265 seconds)
[17:54:32] *** Quits: arbitercoin (~Rheanna@101.91.240.201) (Remote host closed the connection)
[17:55:10] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[17:56:36] *** Quits: arbitercoin (~Rheanna@101.91.240.201) (Remote host closed the connection)
[17:57:05] *** Joins: Guest3785 (~Guest37@nat-216-240-30-11.netapp.com)
[17:57:32] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[18:01:07] *** Quits: mickey (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[18:01:26] *** Joins: mickey (~user@user/mickey)
[18:10:40] *** Joins: TheSashm_ (~TheSashmo@158.106.77.7)
[18:10:44] *** Quits: TheSashmo (~TheSashmo@158.106.77.7) (Read error: Connection reset by peer)
[18:10:55] *** Joins: therobin_ (~UserNick@2607:f2c0:937c:9000:80be:80a1:d04b:b161)
[18:11:21] <jokoon> it starts being desync at about mid video
[18:11:31] *** Quits: Guest3785 (~Guest37@nat-216-240-30-11.netapp.com) (Quit: Client closed)
[18:11:53] <jokoon> maybe mixing webm and mp4 is generating problems...
[18:13:34] *** Quits: therobin (~UserNick@2607:f2c0:937c:9000:80be:80a1:d04b:b161) (Ping timeout: 260 seconds)
[18:13:41] *** therobin_ is now known as therobin
[18:13:57] *** Quits: arbitercoin (~Rheanna@101.91.240.201) (Remote host closed the connection)
[18:16:09] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[18:17:47] *** Quits: mickey (~user@user/mickey) (Quit: Ping timeout (120 seconds))
[18:18:07] *** Joins: mickey (~user@user/mickey)
[18:19:25] *** Quits: arbitercoin (~Rheanna@101.91.240.201) (Remote host closed the connection)
[18:20:56] *** Joins: arbitercoin (~Rheanna@101.91.232.94)
[18:25:48] *** Quits: pong (~beaver@user/pong) (Quit: grmbl)
[18:26:15] *** Quits: hseg (~hseg@185.120.124.14) (Quit: Client closed)
[18:26:53] *** Joins: pong (~beaver@user/pong)
[18:34:11] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[18:34:17] *** Quits: meinside (uid24933@id-24933.helmsley.irccloud.com) (Ping timeout: 264 seconds)
[18:35:16] *** Joins: meinside (uid24933@id-24933.helmsley.irccloud.com)
[18:36:30] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[18:38:22] *** Quits: auth (~auth@user/auth) (Ping timeout: 265 seconds)
[18:39:45] <jokoon> If do a xstack command only for video, and then another command to mix the audio and merge with the xstack file, with -c copy for audio stream, will it generate desync? since inputs have different framerates, I guess copying is not a good idea...
[18:42:15] *** Joins: zmt01 (~zmt00@user/zmt00)
[18:46:10] *** Quits: zmt00 (~zmt00@user/zmt00) (Ping timeout: 240 seconds)
[18:48:32] *** Quits: pointer (~pointer@122.161.79.196) (Quit: Connection closed)
[18:51:53] *** Joins: fructose (~fructose@user/fructose)
[18:52:41] *** Quits: bencc1 (~bencc1@2a00:a040:197:3af:cabd:2c3f:f8f0:a6a6) (Quit: Leaving)
[19:00:49] <jokoon> seeems I FINALLY solved it by removing webm/mkv inputs
[19:00:58] <jokoon> holy SH that was annoying
[19:01:25] <jokoon> vp8 might be the source of the problem
[19:04:50] *** Quits: klotzhauer (~klotzhaue@gibtesnochklopapier.de) (Quit: ZNC 1.8.2 - https://znc.in)
[19:05:37] *** Joins: klotzhauer (~klotzhaue@gibtesnochklopapier.de)
[19:08:43] *** Joins: Flabb (~Flabb@89.169.42.92)
[19:08:44] *** Quits: arbitercoin (~Rheanna@101.91.232.94) (Remote host closed the connection)
[19:11:29] *** Joins: arbitercoin (~Rheanna@101.91.240.201)
[19:21:59] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[19:26:02] *** Joins: MrZeus_ (~MrZeus@185.248.85.56)
[19:26:35] *** Quits: cmp84 (~cmp@lfbn-ren-1-1450-25.w90-27.abo.wanadoo.fr) (Quit: Connection closed)
[19:33:32] *** Quits: jokoon (~eio@2a01:e0a:542:e160:4db:25aa:20c3:f4a7) (Read error: Connection reset by peer)
[19:39:53] *** Quits: mickey (~user@user/mickey) (Remote host closed the connection)
[19:48:29] *** Quits: pk08 (~pk08@122.170.163.139) (Quit: Leaving)
[19:55:04] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[20:01:40] *** Quits: Flabb (~Flabb@89.169.42.92) (Read error: Connection reset by peer)
[20:02:04] *** Joins: Flabb (~Flabb@89.169.42.92)
[20:07:59] *** Joins: gnoo_ (~gnoo@user/gnoo)
[20:08:27] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 276 seconds)
[20:14:18] *** Quits: palasso (~palasso@user/palasso) (Quit: I am not a quitter!)
[20:16:51] *** Joins: palasso (~palasso@user/palasso)
[20:22:55] *** Joins: Creator4983 (~root@gateway/tor-sasl/creator4983)
[20:24:22] *** Parts: Creator4983 (~root@gateway/tor-sasl/creator4983) (WeeChat 3.0.1)
[20:24:29] *** Quits: Flabb (~Flabb@89.169.42.92) (Quit: Leaving)
[20:26:12] *** Joins: Creator4983 (~root@gateway/tor-sasl/creator4983)
[20:27:24] *** Joins: Guest54 (~Guest54@host-93-124-114-202.dsl.sura.ru)
[20:27:33] <Guest54> 123
[20:27:44] *** Parts: Guest54 (~Guest54@host-93-124-114-202.dsl.sura.ru) ()
[20:28:25] *** Parts: Creator4983 (~root@gateway/tor-sasl/creator4983) (WeeChat 3.0.1)
[20:29:51] *** Joins: Guest3772 (~Guest37@nat-216-240-30-11.netapp.com)
[20:35:00] *** Joins: Guest21 (~Guest21@nat-216-240-30-11.netapp.com)
[20:35:49] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[20:35:52] *** Parts: Guest3772 (~Guest37@nat-216-240-30-11.netapp.com) ()
[20:42:43] *** Quits: kib (~kib@user/kib) (Quit: WeeChat 3.2.1)
[20:45:09] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[20:57:17] *** Quits: gnoo_ (~gnoo@user/gnoo) (Quit: gnoo_)
[21:00:32] *** Joins: MightyBOB (~MightyBOB@76.99.21.35)
[21:19:53] *** Joins: arkanoid (~arkanoid@2-238-151-49.ip244.fastwebnet.it)
[21:21:41] <arkanoid> hello! I'm using ffpeg to open multiple rtsp streams, compose them into a grid and save the video. It works, but it's not resilient to input source disconnection. How can I tell ffmpeg to keep reconnecting sources and never give up?
[21:22:33] *** Quits: pong (~beaver@user/pong) (Ping timeout: 276 seconds)
[21:22:46] *** Joins: dreamon (~dreamon@pd9503d48.dip0.t-ipconnect.de)
[21:27:32] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[21:31:45] <another|> I don't think ffmpeg.c can do that. You'd probably need to write your own API client
[21:39:41] *** Joins: sw (~softworkz@185.202.32.197)
[21:41:20] *** Quits: softworkz (~softworkz@185.202.32.197) (Ping timeout: 252 seconds)
[21:41:38] *** Joins: stevenliu (~stevenliu@ffmpeg/developer/stevenliu)
[21:42:46] *** Quits: stevenliu (~stevenliu@ffmpeg/developer/stevenliu) (Read error: Connection reset by peer)
[21:43:43] *** Quits: sw (~softworkz@185.202.32.197) (Remote host closed the connection)
[21:44:33] *** Joins: softworkz (~softworkz@185.202.32.197)
[21:47:59] *** Joins: Buster_ (~Buster@buster-net.ru)
[21:48:54] *** Joins: sw (~softworkz@tmo-097-87.customers.d1-online.com)
[21:51:14] *** Quits: softworkz (~softworkz@185.202.32.197) (Ping timeout: 252 seconds)
[21:56:46] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[21:58:58] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Client Quit)
[21:59:12] *** Quits: Guest21 (~Guest21@nat-216-240-30-11.netapp.com) (Ping timeout: 256 seconds)
[22:06:07] *** Quits: sw (~softworkz@tmo-097-87.customers.d1-online.com) (Remote host closed the connection)
[22:08:17] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[22:18:38] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[22:19:43] *** Quits: cosimone (~user@93-47-228-91.ip115.fastwebnet.it) (Ping timeout: 252 seconds)
[22:20:00] *** Joins: Hackerpcs (~user@user/hackerpcs)
[22:38:10] *** Joins: softworkz (~softworkz@tmo-097-87.customers.d1-online.com)
[22:42:05] *** Quits: rsx (~dummy@ppp-188-174-134-162.dynamic.mnet-online.de) (Quit: rsx)
[22:43:04] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[22:52:14] *** Quits: Hello71 (~Hello71@wireguard/contributor/hello71) (Remote host closed the connection)
[22:52:26] *** Joins: Hello71 (~Hello71@wireguard/contributor/hello71)
[23:10:55] <arkanoid> another|: :(
[23:11:21] <arkanoid> what about the "-reconnect 1 -reconnect_at_eof 1 -reconnect_streamed 1 -reconnect_delay_max 2" think I keep finding online?
[23:11:36] *** Quits: softworkz (~softworkz@tmo-097-87.customers.d1-online.com) (Remote host closed the connection)
[23:11:37] <JEEB> probably specific hacks for a specific protocol or format reader
[23:12:15] <JEEB> seems like HTTP: )
[23:12:18] <arkanoid> ok
[23:12:43] <arkanoid> that explains why I'm getting that reconnect does not exists
[23:12:46] *** Joins: softworkz (~softworkz@tmo-097-87.customers.d1-online.com)
[23:13:23] <JEEB> rtmp also has some sort of reconnect logic but ┐(´д｀)┌
[23:13:23] <arkanoid> well, I'm trying to solve my problem with an hammer, like launching ffmpeg in a loop, but it doesn't exit when things goes bad
[23:13:45] <JEEB> FFmpeg has a global timeout for IO called rw_timeout
[23:13:53] <JEEB> now guess how many protocols decided to ignore that one
[23:14:33] <arkanoid> :-/
[23:15:24] <arkanoid> thanks for all the answers. Not sure if learning libav or trying same thing with gstreamer
[23:15:42] <JEEB> hmm
[23:15:46] <JEEB> rw_timeout might work with RTP
[23:16:04] <JEEB> so feel free to try it out
[23:16:10] <JEEB> ffmpeg -h full |grep rw_timeout
[23:16:19] <JEEB> that should bring up the doc
[23:17:45] <arkanoid> well docs also says that there's a "timeout" option for rtsp
[23:18:15] <arkanoid> but not sure if this refers to client, server or whatever. rtsp can be very confusing on this point
[23:18:38] <JEEB> yes I think that attempts to set the same'ish value
[23:18:41] <JEEB> as rw_timeout
[23:18:42] *** Quits: arbitercoin (~Rheanna@101.91.240.201) (Remote host closed the connection)
[23:19:06] <JEEB> I know UDP even goes as far as always overwriting rw_timeout with timeout, so that even if you set rw_timeout it acts as if rw_timeout is not set
[23:19:16] <JEEB> but try rw_timeout first, then timeout if that doesn't work
[23:20:41] <arkanoid> well I'm not using udp, but tcp
[23:20:55] <arkanoid> with "-rtsp_transport tcp"
[23:21:09] <arkanoid> and I've checked with wireshark that client does indeed work with tcp
[23:21:21] <JEEB> this was just an anecdote about the underlying proto, not what you are using within rtsp
[23:21:23] *** Joins: arbitercoin (~Rheanna@101.89.207.55)
[23:21:34] <arkanoid> adding "-timeout 1000000" before or after that doesn't even start the stream
[23:21:35] <JEEB> just to illustrate how I fall into despair with such seemingly simple things
[23:22:00] <JEEB> the only placement of options that matters is before input or before output
[23:22:45] <arkanoid> sure, but adding it results in unknown error
[23:23:18] <JEEB> I'm not sure where exactly you put it or what you exact error is
[23:23:47] <JEEB> also as I've noted a few times already, start with rw_timeout, that is the global one. if that then doesn't work with an input, then you move onto looking up custom options by the input module itself
[23:24:03] <arkanoid> "ffmpeg -rtsp_transport tcp -i rtsp://...." works, "ffmpeg -timeout 1000000 -rtsp_transport tcp -i rtsp://...." unknown error. Also moving that option between tcp and -i same error
[23:25:59] <arkanoid> I keep getting "Unable to open rtsp for listening <rtsp url>"
[23:26:07] <arkanoid> wait ... I guess it's a server side thing
[23:26:27] <arkanoid> docs just says "Set socket TCP I/O timeout in microseconds."
[23:26:32] <JEEB> it really sounds like you've confused ffmpeg.c with where your inputs and outputs are
[23:26:53] *** Quits: softworkz (~softworkz@tmo-097-87.customers.d1-online.com) (Remote host closed the connection)
[23:28:00] <JEEB> arkanoid: the ffmpeg.c logging probably contains hints at where something went wrong with regards to argument parsing :P
[23:28:23] <JEEB> also I recommend -v verbose , that's the last non-spammy but still more than default logging level
[23:28:31] <arkanoid> also "option rw_timeout not found"
[23:28:52] <JEEB> that's... weird. that's a global AVFormatContext option
[23:30:01] <arkanoid> "ffmpeg -rw_timeout 1000000 -rtsp_transport tcp -i rtsp://..." correct?
[23:30:10] <arkanoid> I mean, the syntax
[23:30:37] <JEEB> that is before an input, yes. can you `-v verbose` and post the command and logs on pastebin or so, and link here?
[23:31:04] <arkanoid> I have rtsp passwords in command I have to clean it up
[23:31:54] <JEEB> well yea, credentials and private IPs etc you are free to hide (they might help in case of quoting etc being wrong, but I will expect that to not be the case)
[23:32:30] <arkanoid> dont think they are wrong. if I remove "-rw_timeout 1000000" pipeline is working again
[23:32:53] <arkanoid> wait, I'm on windows. Does rw_timeout works for windows? I do see it with ffmpeg -h full
[23:33:02] <JEEB> yes, I am on windows
[23:33:31] <JEEB> http://up-cat.net/p/03c41f6e
[23:34:46] <JEEB> E and D mean it's for both reads and writes (since it's sharing logic with encoders and decoders)
[23:36:35] <arkanoid> JEEB: https://trac.ffmpeg.org/ticket/7609
[23:37:42] <JEEB> lol, I kind of had that on the back of my head
[23:38:00] <JEEB> like, maybe if the special handling the pseudo protocol rtsp gets
[23:38:03] <JEEB> has something to do with it
[23:38:16] <JEEB> because there actually is no such protocol
[23:38:27] <arkanoid> my life is full of small edge cases
[23:38:34] *** Joins: slee (~slee@user/slee)
[23:38:49] <JEEB> because in reality you just have a "demuxer" called "rtsp"
[23:39:05] <slee> hi, i'm trying to extract metadata from an http stream, is this possible with ffmpeg?
[23:39:25] <slee> if so, can someone give me an example of usage?
[23:39:58] <JEEB> what do you mean with "metadata" :)
[23:40:26] <slee> i'm wanting to get the title of a song that is streaming over http
[23:40:47] <JEEB> what's the format that would be coming over HTTP in this case
[23:40:50] <slee> and/or whatever useful data that might be there
[23:41:02] <slee> i'm *assuming* mp3
[23:41:16] <JEEB> ffprobe -v verbose -i "http://thing"
[23:41:51] <JEEB> then if that already contains what you want, `ffprobe -of json -show_format -show_streams -i INPUT` will give you that in a machine readable way
[23:41:59] <slee> sweet, that did it, thanks
[23:45:51] <JEEB> arkanoid: also for the record, I am still confused as to how "rtsp:" leads to <some protocol> and a meta demuxer which is the actual rtsp reader
[23:46:23] <JEEB> I see there being a probing function that checks the protocol for "rtsp:" and it raises its hand and goes ME! ME!
[23:46:35] <JEEB> but you'd think that format detection is after protocol detection :D
[23:47:57] <JEEB> probably something something rtp protocol
[23:48:13] <arkanoid> JEEB: I understood what rtsp really is using gstreamer
[23:48:46] <JEEB> well it's an SDP plus 1 or more RTP streams
[23:48:58] <arkanoid> btw, it seems to like -stimeout
[23:50:39] <arkanoid> now relaunched in a batch loop with -v verbose and -stimeout
[23:51:05] <JEEB> lol, yet another timeout option. although I think since they originally had timeout which did something completely different
[23:53:24] <JEEB> I guess it's a thing due to people just not knowing about the fact that there always was rw_timeout, since it's a global AVFormatContext thing that can just be utilized. so now it's a case of trying to herd in all these sheep into a single shed
[23:54:16] <JEEB> at least I know that with rtmp and tcp and some others rw_timeout actually does work so it's not a case of "there's a global thing that doesn't work anywhere"
[23:54:42] <JEEB> in case of rtsp+tcp it's a case of layers, which is yet another "fun bit"
[23:54:57] <JEEB> so you have an rtsp "demuxer", which handles SDP reading and then opens new protocol entries within itself
[23:55:06] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[23:55:15] <JEEB> of course you then have to remember to pass options passed to you to that underlying other protocol
[23:55:37] <JEEB> I think I'll go watch some youtube because this just hurts
