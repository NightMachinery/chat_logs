[00:00:05] <adam12> Something like `alter sequence applications_id_seq restart with 2` or something.
[00:00:25] <adam12> I'd definitely ask in the postgresql IRC channel.
[00:02:52] <lembron> hm.. appears as if 1 is correct anyhow...
[00:03:49] <lembron> booted, checked prints 1, tried creating (http-500), still prints 1, tried creating again now thi magically worked
[00:16:06] <lembron> hm and that "1" seems to be fully correct - when ry the table in empty state i still get "last_value=1, start_value=1 - only viible change is log_cnt jumps to 32 and is_called goes from f to t
[00:17:23] <lembron> oh and pg9.4 (in an attempt to run it with what the readme asked for)
[00:20:14] *** Joins: random-jellyfish (~random-je@user/random-jellyfish)
[00:26:44] *** Joins: shokohsc867 (~shokohsc@38.248.23.93.rev.sfr.net)
[00:27:23] *** Quits: shokohsc86 (~shokohsc@174.197.23.93.rev.sfr.net) (Ping timeout: 264 seconds)
[00:27:23] *** shokohsc867 is now known as shokohsc86
[00:33:04] *** Quits: _ht (~quassel@82-169-194-8.biz.kpn.net) (Remote host closed the connection)
[00:59:47] <lembron> managed to fix it by manually reforcing that seuence - creepy but k :P
[01:00:42] <lembron> now on how to make Sequel spit out a: SELECT setval('apps_id_seq', (SELECT MAX(id)+1 from apps), false);
[01:01:33] <lembron> little strange that a "SELECT * from apps_id_seq" showed the same number values before and after when it wasnt functioning, but well...
[01:14:32] *** Quits: jpw (~jpw@user/jpw) (Remote host closed the connection)
[01:50:16] <lembron> Gemfile, can i do something in the line of: gem 'something', ((ruby.version>=3)? '>=2' : '<=1')
[01:54:54] <lembron> :platforms seems to get close, but i want a version only, not a platform+version
[02:00:17] *** Quits: nmollerup (~nmollerup@customer-2a00-7660-1612-0168-cfa8-be86-5a22-ee27.ip6.gigabit.dk) (Quit: Leaving)
[02:06:44] <weaksauce> lembron install_if probably can do it
[02:07:38] <lembron> well not with the syntax i tried from the docs :/
[02:07:47] <weaksauce> install_if -> { RUBY_VERSION >= 3 } do gem "something", "2" end
[02:08:27] <weaksauce> or something like that
[02:11:32] <lembron> There was an error parsing `Gemfile`: comparison of String with 3 failed. Bundler cannot continue.
[02:12:19] <weaksauce> to_i
[02:12:32] <weaksauce> perhaps
[02:15:28] <weaksauce> actually that's not something that you can do
[02:26:46] *** Quits: random-jellyfish (~random-je@user/random-jellyfish) (Ping timeout: 256 seconds)
[02:50:32] <lembron> anbd last - the thing also does `Refrigerator.freeze_core(:except=>['BasicObject']) unless dev` - trying that with production blows up with a "`require': can't modify frozen #<Class:Object>: Object (FrozenError)" --- is it kinda safe to asume that the author never made it prod-able? or i that maybe to blame on ruby-version? (script originally for 1.9, running on 3.0 right now)
[02:50:34] *** Joins: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6)
[03:10:57] *** Joins: random-jellyfish (~random-je@user/random-jellyfish)
[03:17:11] *** Quits: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6) (Ping timeout: 245 seconds)
[03:20:29] <weaksauce> i don't think frozen objects have ever been just a warning
[03:20:31] *** Quits: vit (~vit@chello085216193138.chello.sk) (Ping timeout: 245 seconds)
[03:20:36] <weaksauce> so probably a buggy gem
[03:22:04] <weaksauce> yeah looking back at object for 1.9.1 object#freeze will raise an error
[03:40:56] <lembron> kinda other way around i mean - originial author build for 1.9 (according to the readme at least) -- i have it running on 2.7 & 3.0 now - but can only run as development or test, not "production" as production tries to freeze and explodes then
[03:41:54] <lembron> so Q is - did this likely never work? author didnt build "prod" and thats just a standard config.ru file he copypasted as template?
[03:42:41] <lembron> or should i expect that to function and need some tweaking/updates to fix ((what then leads into a "do i need this?"))
[03:44:35] <weaksauce> tough to say
[03:45:40] <weaksauce> what was the gem??
[04:03:05] *** Joins: graywolf (~wolf@user/graywolf)
[04:28:16] *** Joins: parv (~quass@user/parv)
[05:32:22] *** Joins: cornett (~ben@149.28.239.26)
[05:42:16] *** Quits: random-jellyfish (~random-je@user/random-jellyfish) (Ping timeout: 256 seconds)
[06:54:59] *** Quits: Inline (~Inline@2a02:908:1252:7a80:22ee:92f9:2a07:2e7) (Ping timeout: 264 seconds)
[06:59:44] *** Quits: aeris (~aeris@user/aeris) (Remote host closed the connection)
[07:00:05] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[07:00:18] *** Joins: aeris (~aeris@user/aeris)
[07:54:19] *** Quits: cognemo (~cognemo@cpe-46-164-24-121.dynamic.amis.net) (Quit: ZNC 1.8.2 - https://znc.in)
[07:54:34] *** Joins: cognemo (~cognemo@cpe-46-164-24-121.dynamic.amis.net)
[07:55:23] *** Quits: ralu (~ralu@static.211.245.203.116.clients.your-server.de) (Ping timeout: 256 seconds)
[08:16:02] *** Joins: ralu (~ralu@static.211.245.203.116.clients.your-server.de)
[09:08:10] *** Quits: Rounin (~david@84.212.130.215) (Ping timeout: 268 seconds)
[09:25:15] *** Joins: jpw (~jpw@user/jpw)
[10:24:30] *** Joins: trillp (~trillp@69.233.98.238)
[11:12:44] *** Quits: pusewic|away_ (sid2036@lymington.irccloud.com) (Ping timeout: 268 seconds)
[11:16:07] *** Joins: pusewic|away_ (sid2036@lymington.irccloud.com)
[11:28:08] *** Joins: Inline (~Inline@2a02:908:1252:7a80:9763:cc0b:5eaf:ee4)
[11:28:40] *** Quits: Inline (~Inline@2a02:908:1252:7a80:9763:cc0b:5eaf:ee4) (Remote host closed the connection)
[11:30:14] *** Joins: Inline (~Inline@2a02:908:1252:7a80:9763:cc0b:5eaf:ee4)
[12:05:11] *** Quits: libsys (~libsys@186.105.159.91) (Remote host closed the connection)
[12:05:21] *** Joins: libsys (~libsys@186.105.159.91)
[12:08:45] <libsys> hello people... looks like I'm having a rare error on when using rack
[12:09:03] <libsys> IDK what's going on, but it breaks when I use Rack::Response
[12:11:25] <libsys> this is what I see https://freedombox.hacktivista.org/bepasty/wjduYRhx/+inline
[12:11:30] <libsys> when I run rackup
[12:16:09] <libsys> what's weird is that when I replace `Rack::Response.new("hello")` by `[200, { 'Content-Type' => 'text/html' }, ['hello']]` it works fine
[12:16:37] <libsys> I've tried with ruby 2.7.2 and 3.0 on different machines, I receive the same error
[12:20:03] *** Joins: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6)
[12:31:28] *** Joins: xyhuvud (~quassel@2001:1ba8:1424:ea00:9c72:658a:bc29:68d9)
[12:35:22] *** Quits: yxhuvud (~quassel@2001:1ba8:1424:ea00:b1ab:d50b:17b2:32c0) (Ping timeout: 268 seconds)
[12:36:55] <libsys> pfff didn't read the docs, i need to do Response#finish
[12:37:23] <libsys> seen examples of people not doing the .finish part, probably an old version?
[12:41:11] *** Quits: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6) (Ping timeout: 264 seconds)
[13:11:54] *** Quits: Inline (~Inline@2a02:908:1252:7a80:9763:cc0b:5eaf:ee4) (Quit: Leaving)
[13:19:06] *** Joins: _ht (~quassel@82-169-194-8.biz.kpn.net)
[13:23:12] *** Joins: vit (~vit@chello085216193138.chello.sk)
[13:46:03] *** Joins: Inline (~Inline@2a02:908:1252:7a80:b442:91f8:4666:206e)
[13:50:26] <ox1eef> libsys: traditionally the three element array would be returned, i think returning Rack::Response instead is a new interfacte
[13:51:00] <ox1eef> not certain thouggh.
[14:08:59] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[14:15:06] *** Joins: random-jellyfish (~random-je@user/random-jellyfish)
[14:32:01] *** Joins: gcd (~gcd@104-9-69-236.lightspeed.nsvltn.sbcglobal.net)
[14:32:09] *** Quits: dohtem (uid524096@user/dohtem) (Quit: Connection closed for inactivity)
[14:36:17] *** Joins: jetchisel (jetchisel@user/jetchisel)
[14:48:33] *** Quits: parv (~quass@user/parv) (Quit: parv)
[14:50:39] *** Quits: gcd (~gcd@104-9-69-236.lightspeed.nsvltn.sbcglobal.net) (Quit: leaving)
[14:52:57] *** Quits: robotmay (~beepboop@2001:8b0:7af0:2580:8196:39c6:8982:983) (Quit: No Ping reply in 180 seconds.)
[14:53:02] *** Quits: trillp (~trillp@69.233.98.238) (Quit: nyaa~)
[14:54:04] *** Joins: taupiqueur_ (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[14:54:09] *** Joins: robotmay (~beepboop@2001:8b0:7af0:2580:9533:d930:9f94:2ac1)
[14:55:35] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 264 seconds)
[15:24:14] *** Quits: menace (~someone@user/menace) (Quit: menace)
[15:37:42] *** Joins: berkhan (~berkhan@159.146.42.134)
[15:37:48] *** Quits: taupiqueur_ (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[16:02:08] *** Quits: graywolf (~wolf@user/graywolf) (Quit: WeeChat 3.3)
[16:11:13] *** Joins: gcd (~gcd@104-9-69-236.lightspeed.nsvltn.sbcglobal.net)
[16:24:47] *** Joins: coolnickname_ (~coolnickn@73.194.7.51.dyn.plus.net)
[16:38:53] *** Joins: Rounin (~david@84.212.130.215)
[16:46:22] *** Quits: coolnickname_ (~coolnickn@73.194.7.51.dyn.plus.net) (Ping timeout: 256 seconds)
[17:04:53] *** Quits: moldorcoder7_ (~moldorcod@37.120.143.29) (Ping timeout: 264 seconds)
[17:10:57] *** Joins: moldorcoder7 (~moldorcod@37.120.143.29)
[17:11:11] *** Quits: berkhan (~berkhan@159.146.42.134) (Ping timeout: 264 seconds)
[18:08:20] *** Joins: ikke (~kevin@alpine/developer/ikke)
[18:10:30] <ikke> What can cause 'Gem' to be unavailable? gem install rugged -v '1.1.0' --source 'https://rubygems.org/' results into "extconf.rb:49:in `<main>': uninitialized constant Gem (NameError)". This is in an ruby:alpine2.7-alpine3.13 docker image.
[18:31:30] *** Joins: coolnickname_ (~coolnickn@73.194.7.51.dyn.plus.net)
[19:04:24] <isene> What is the best/most efficient way to split a string after a certain length (to force line breaks in a curses window)?
[19:13:58] *** Quits: coolnickname_ (~coolnickn@73.194.7.51.dyn.plus.net) (Ping timeout: 260 seconds)
[19:14:04] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[19:16:13] *** Joins: dohtem (uid524096@user/dohtem)
[19:45:26] <adam12> isene: Probably need to index for whitespace and slice, since I'm not sure you want to force line break in the middle of words?
[19:49:35] *** Quits: gcd (~gcd@104-9-69-236.lightspeed.nsvltn.sbcglobal.net) (Quit: leaving)
[19:51:09] <adam12> lines = []; until string == ""; lines << string.slice!(0..string.index("\s", 70)); end
[19:51:28] <adam12> ikke: what's the exact docker image?
[19:53:58] <ikke> adam12: ruby2.7-alpine3.13
[19:54:05] <ikke> adam12: ruby:2.7-alpine3.13
[19:57:11] *** Joins: petru (petru@2a03:b0c0:3:f0::60:1000)
[19:59:09] *** Joins: menace (~someone@ppp-93-104-164-149.dynamic.mnet-online.de)
[19:59:32] *** Quits: menace (~someone@ppp-93-104-164-149.dynamic.mnet-online.de) (Changing host)
[19:59:32] *** Joins: menace (~someone@user/menace)
[20:05:40] <adam12> ikke: I can't reproduce that error, but that image needs a bunch of build deps to build anything.
[20:06:05] <adam12> ikke: Why aren't you using a normal ruby image on buster or similar?
[20:06:11] <adam12> s/normal/full
[20:07:05] *** petru is now known as legit
[20:09:50] *** Quits: random-jellyfish (~random-je@user/random-jellyfish) (Ping timeout: 256 seconds)
[20:09:52] <adam12> apk add build-base cmake libressl-dev
[20:12:24] <isene> adam12: Great. Thanks.
[20:12:53] <ikke> adam12: because we run the application on alpinelinux
[20:13:04] <ikke> In this case gitlab
[20:13:45] <ikke> We can build it without issue with gitlab 14.2, but 14.3 gives these issues
[20:15:56] <ikke> And for us, alpine is normal :)
[20:20:11] <ikke> https://gitlab.alpinelinux.org/alpine/infra/docker/gitlab/-/blob/14.2-stable/overlay/usr/local/bin/setup.sh#L56
[20:22:02] <adam12> ikke: Installing those packages allows me to install the gem. Good luck :)
[21:02:14] *** Quits: duds- (~duds-@gateway/tor-sasl/duds) (Remote host closed the connection)
[22:22:31] *** Quits: jpw (~jpw@user/jpw) (Remote host closed the connection)
[22:23:09] *** Quits: BSaboia (~bsaboia@187.19.136.126) (Quit: This computer has gone to sleep)
[22:37:11] *** Quits: Inline (~Inline@2a02:908:1252:7a80:b442:91f8:4666:206e) (Ping timeout: 245 seconds)
[22:43:54] *** Joins: frodl (uid527064@user/frodl)
[22:44:34] *** Joins: BSaboia (~bsaboia@187.19.136.126)
[22:47:30] *** Joins: fef (~thedawn@user/thedawn)
[22:48:50] *** Joins: Shubham (~Shubham@2402:8100:24da:aa81:6f60:4336:23d3:d3aa)
[22:49:09] <Shubham> Hi Everyone !
[22:49:29] *** Quits: Shubham (~Shubham@2402:8100:24da:aa81:6f60:4336:23d3:d3aa) (Client Quit)
[22:51:41] <havenwood> Shun: Hi!
[22:51:44] <havenwood> Shubham*
[23:01:34] *** Quits: fef (~thedawn@user/thedawn) (Quit: Leaving)
[23:13:23] *** Joins: random-jellyfish (~random-je@user/random-jellyfish)
[23:36:53] *** Joins: ule (~ule@user/ule)
[23:48:02] *** Joins: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6)
[23:54:11] *** Joins: graywolf (~wolf@user/graywolf)
[23:57:37] *** Joins: lunarkitty (uid501895@user/pyra)
