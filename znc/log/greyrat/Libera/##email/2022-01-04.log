[00:08:43] *** Joins: rgrinberg (~textual@2806:101e:7:b2bc:6099:a620:939f:d613)
[00:51:39] *** jelly is now known as le
[00:51:52] *** le is now known as jelly
[01:05:39] *** Quits: rgrinberg (~textual@2806:101e:7:b2bc:6099:a620:939f:d613) (Read error: Connection reset by peer)
[01:07:05] *** Joins: rgrinberg (~textual@2806:101e:7:b2bc:6099:a620:939f:d613)
[01:13:33] *** Quits: CyberTailor (~cyber@gateway/tor-sasl/cybertailor) (Quit: Konversation terminated!)
[01:30:46] *** Quits: rgrinberg (~textual@2806:101e:7:b2bc:6099:a620:939f:d613) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:38:50] *** Joins: bsd4me (~IceChat95@user/bsd4me)
[01:55:44] *** Joins: tokudan_ (~tokudan@user/tokudan)
[01:59:02] *** Quits: tokudan (~tokudan@user/tokudan) (Ping timeout: 268 seconds)
[02:03:27] *** Quits: ewwegweg (~ewwegweg@user/ewwegweg) (Ping timeout: 276 seconds)
[02:57:37] *** Quits: bsd4me (~IceChat95@user/bsd4me) (Ping timeout: 240 seconds)
[02:59:10] *** Joins: bsd4me (~IceChat95@user/bsd4me)
[03:01:33] *** Joins: kristijonas (~kristijon@m213-103-109-101.cust.tele2.lt)
[03:06:49] <kristijonas> Am  I not gonna lose part of incoming with  mail so strict cryptography settings (https://www.sidn.nl/en/news-and-blogs/hands-on-implementing-dane-in-postfix, 4.4)?
[03:16:38] *** Quits: kristijonas (~kristijon@m213-103-109-101.cust.tele2.lt) (Ping timeout: 256 seconds)
[03:17:51] *** Quits: bsd4me (~IceChat95@user/bsd4me) (Quit: He who laughs last, thinks slowest)
[04:12:52] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[04:19:55] *** Joins: bsd4me (~IceChat95@user/bsd4me)
[04:20:07] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Remote host closed the connection)
[04:21:58] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[04:25:58] *** Joins: rgrinberg (~textual@177.246.218.103)
[06:48:02] *** Quits: rgrinberg (~textual@177.246.218.103) (Read error: Connection reset by peer)
[06:48:39] *** Joins: rgrinberg (~textual@177.246.216.115)
[07:20:13] *** Quits: bsd4me (~IceChat95@user/bsd4me) (Quit: IceChat - It's what Cool People use)
[08:12:19] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Remote host closed the connection)
[08:12:46] *** Joins: gioyik (~gioyik@gateway/tor-sasl/gioyik)
[09:02:07] *** Quits: rgrinberg (~textual@177.246.216.115) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:22:30] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:e5ec:ad1d:20e8:48b1)
[09:31:03] *** Quits: SallyAhaj (~SallyAhaj@user/sallyahaj) (Remote host closed the connection)
[11:17:27] *** Joins: CyberTailor (~cyber@gateway/tor-sasl/cybertailor)
[11:47:31] *** Quits: gioyik (~gioyik@gateway/tor-sasl/gioyik) (Quit: WeeChat 3.3)
[11:51:18] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:e5ec:ad1d:20e8:48b1) (Read error: Connection reset by peer)
[11:52:52] *** Joins: rgrinberg (~textual@2806:265:5401:8cd:e5ec:ad1d:20e8:48b1)
[12:26:26] *** Joins: SallyAhaj (~SallyAhaj@user/sallyahaj)
[12:43:22] *** Joins: chuck48 (~chuck48@2a03:1b20:9:f011::a04d)
[12:45:57] *** Quits: SallyAhaj (~SallyAhaj@user/sallyahaj) (Remote host closed the connection)
[13:01:20] *** Quits: CyberTailor (~cyber@gateway/tor-sasl/cybertailor) (Remote host closed the connection)
[13:01:59] *** Joins: CyberTailor (~cyber@gateway/tor-sasl/cybertailor)
[13:15:34] *** Joins: vpan (~0@212.117.1.172)
[13:27:43] *** Joins: SallyAhaj (~SallyAhaj@user/sallyahaj)
[13:41:26] <vpan> hi folks, we're getting "554 5.7.1 <redacted_To_address>: Recipient address rejected: Blacklisted (in reply to RCPT TO command)". Email to the same "redacted_To_address" is accepted when sent from a different domain, so my best guess is that the sender's domain is in a blacklist used by the recipient's email system. However, I've checked the sender's domain against mxtoolbox.com, dnsbl.info, spamhaus.org, uceprotect.net, spamcop.net - no
[13:41:26] <vpan>  matches. Given that there have not been any recent deliverability issues with the sender's domain, no outgoing spam incidents for years I can only think of contacting the support of the recipient's domain for clarification. Before I do that - any suggestions on what else I could check on the sender's side?
[13:50:48] *** Quits: rgrinberg (~textual@2806:265:5401:8cd:e5ec:ad1d:20e8:48b1) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:23:15] <Khepra> vpan: sounds like only teh recipient can say
[14:28:20] *** Quits: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29) (Quit: Leaving.)
[14:41:17] *** Quits: vpan (~0@212.117.1.172) (Ping timeout: 256 seconds)
[15:35:33] *** Joins: ewwegweg (~ewwegweg@user/ewwegweg)
[15:35:36] *** Quits: ewwegweg (~ewwegweg@user/ewwegweg) (Remote host closed the connection)
[15:36:00] *** Joins: ewwegweg (~ewwegweg@user/ewwegweg)
[15:36:33] *** Quits: ewwegweg (~ewwegweg@user/ewwegweg) (Remote host closed the connection)
[15:38:19] *** Joins: ewwegweg (~ewwegweg@user/ewwegweg)
[16:29:26] *** Quits: ewwegweg (~ewwegweg@user/ewwegweg) (Remote host closed the connection)
[16:33:57] *** Joins: Atque (~Atque@user/atque)
[17:20:37] *** Quits: sm (~sm@plaintextaccounting/sm) (Ping timeout: 240 seconds)
[17:24:21] *** Quits: tokudan_ (~tokudan@user/tokudan) (Ping timeout: 256 seconds)
[17:24:46] *** Joins: tokudan_ (~tokudan@user/tokudan)
[17:34:16] *** Quits: dupondje (~dupondje@artemis.dupie.be) (Quit: dupondje)
[17:37:17] *** Joins: sm1 (~sm@plaintextaccounting/sm)
[18:23:39] *** Quits: bitblit (~bitblit@gateway/tor-sasl/bitblit) (Ping timeout: 276 seconds)
[19:20:57] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 240 seconds)
[19:34:08] *** Joins: pj (~pj@ghettoforge/pj)
[20:22:02] *** Joins: minimal (~minimal@user/minimal)
[20:23:30] <jaybe> Only the individual controlling the mail server and adding that precious reject response can tell you how and why that’s happening
[20:27:15] *** Quits: kilitary (~Username@188.242.187.4) (Read error: Connection reset by peer)
[20:31:31] *** Joins: kilitary (~Username@188.242.187.4)
[20:36:07] *** Quits: kilitary (~Username@188.242.187.4) (Remote host closed the connection)
[20:41:44] <tuxick> well
[20:41:50] <tuxick> unless it's exchange
[20:43:17] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 240 seconds)
[20:56:20] *** Joins: pj (~pj@ghettoforge/pj)
[21:13:38] *** Joins: kilitary (~Username@188.242.187.4)
[21:24:58] *** Quits: kilitary (~Username@188.242.187.4) (Remote host closed the connection)
[22:03:17] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 240 seconds)
[22:16:27] *** Joins: pj (~pj@ghettoforge/pj)
[22:50:17] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 240 seconds)
[22:58:03] <ttys000> is there some sort of tool that will help me decipher/decode/unobfuscate microsoft spam headers
[22:58:26] <ttys000> i would like to see why it marks my emails as spam, like what things are triggering the spam score.
[22:58:37] <ttys000> maybe they don't want to share this because its how a spammer would evade their filters
[22:58:48] <ttys000> jeeze now i sound like a spammer
[22:58:53] <ttys000> ah hell i just want to send business emails
[22:59:54] <ttys000> ah: https://mha.azurewebsites.net/
[22:59:56] <ttys000> nice
[23:03:40] *** Joins: pj (~pj@ghettoforge/pj)
[23:04:40] <ttys000> nah didn't help, still encoded. i guess its probably encrypted.
[23:04:46] <tuxick> in ye olde days there used to be a script called Demoronizer
[23:05:50] <minimal> ttys000: https://github.com/mgeeky/decode-spam-headers perhaps?
[23:06:01] <tuxick> ttys000: https://multirbl.valli.org/lookup/
[23:06:26] <tuxick> and of course the dmarc feedback you're getting
[23:06:35] <ttys000> minimal cool thanks i'll try that
[23:10:47] <ttys000> minimal thank you, very nice tool.
[23:11:28] <minimal> haven't tried it myself (yet) but it looks extensive
[23:11:42] <ttys000> just tried it, it's pretty cool
[23:15:11] <lunaphyte> which header[s]?
[23:15:37] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 240 seconds)
[23:16:04] <ttys000> X-Microsoft-Antispam-Message-Info	
[23:16:04] *** Joins: echoSMILE (uid504326@user/echosmile)
[23:16:11] <ttys000> X-Microsoft-Antispam-Mailbox-Delivery	
[23:16:25] <ttys000> X-Message-Info	
[23:16:31] <ttys000> X-Message-Delivery	
[23:17:08] <ttys000> i am surprised to discover that local (LAN) ip of sender is contained within these headers.
[23:17:31] <ttys000> seems kind of like a vulnerability to me, because that is exposed to recipient. 
[23:18:56] <tuxick> haha
[23:19:51] <tuxick> one could argue it is indeed
[23:20:01] <tuxick> but it's never been considered a big deal
[23:21:56] <minimal> that could potentially be a GDPR issue as well
[23:22:34] <tuxick> it also contains information about the mail client :)
[23:22:57] <minimal> especially if with IPv6 local addresses that embed the MAC address of the sender's computer
[23:23:08] <tuxick> yeah
[23:29:17] *** Joins: pj (~pj@ghettoforge/pj)
[23:39:09] <ttys000> so, one of the things that stands out to me in this header analysis tool is that my senders are not sending from a location which resolves to the sending domain. 
[23:39:34] <ttys000> for example i have some staff and they are in a building who's public IP resolves to building.business_name_two.com
[23:39:45] <ttys000> but they are sending emails _from_ business_name_one.com
[23:40:07] <ttys000> would this be enough to have email flagged as spam?
[23:42:08] <ttys000> or also for example, maybe sometimes my staff send emails from home (work from home situations) or from their phone while mobile. 
[23:42:14] *** Quits: chuck48 (~chuck48@2a03:1b20:9:f011::a04d) (Remote host closed the connection)
[23:42:28] <ttys000> should i be enforcing that they are also sending it via our VPN?
[23:42:42] <tuxick> "sending from" is a common misconception in mail
[23:43:31] <ttys000> not sure i follow? these headers clearly show the local ip of the sending client, plus the next hop, the building ip of the sending client office.
[23:43:32] <tuxick> they'll be using submission anyway
[23:43:37] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 240 seconds)
[23:44:00] <ttys000> and then the analysis tool complains that this does not match the sender's domain
[23:44:10] <tuxick> uhm
[23:44:29] <tuxick> it shouldn't matter where their client is
[23:44:49] <tuxick> the use submission on your server
[23:45:13] <tuxick> recipitient shouldn't care about what else is in header
[23:46:03] <ttys000> not going to both redacting this because it kind of kills what i'm trying to explain, but here: https://imgur.com/MIMB9nd
[23:47:35] <tuxick> how does that hop get in the chain?
[23:47:54] <ttys000> to explain, i have employees of storwell.com that sit and work at the office space in the rook hotel building. 
[23:48:27] <tuxick> and they're using wrong relay?
[23:48:28] <ttys000> when they send an email it goes from their local ip, next hop is the wan interface of the rook hotel building, which has a PTR record that resolves to hcc.rookhotel.com, next hop is our mail server (in cloud)
[23:48:45] <tuxick> they should use submission on your MX
[23:50:43] <lunaphyte> well, not submission on your mx - mx and submission are two different things
[23:50:49] <tuxick> well ok
[23:51:05] <tuxick> in most cases it's same system 
[23:51:06] <lunaphyte> but people sending with storwell.com email addresses should use the storwell.com email submission service
[23:51:16] <tuxick> right
[23:51:34] <tuxick> that's why "sending mail from" makes me cringe
[23:51:45] <tuxick> that hardly ever explains things to me
[23:51:52] <lunaphyte> yeah
[23:51:59] <ttys000> https://i.imgur.com/dHPpvqq.png
[23:52:41] <lunaphyte> the received headers would be more helpful there
[23:52:51] <minimal> ttys000: plus for privacy (and indeed security reasons) shouldn't you configure your email server to remove such "internal" Received headers - do you want email recipients to be potentially able to determine where individual senders where (@hotel, at home, in which of your offices etc) at the time they sent emails?
[23:53:11] <lunaphyte> if people are on the rookhotel network, but are using the storwell mail submission servers when they send email using storewell email addresses, that should generally be fine
[23:53:16] <ttys000> minimal can i?
[23:53:26] <ttys000> honestly i just learned today that it is sharing this stuff
[23:54:14] <ttys000> lunaphyte as far as i understand that is what i am doing currently.
[23:54:14] <lunaphyte> sometimes overzealous mail servers have been known to inspect received headers they shouldn't be, so it can happen, but it's not something i'd consider commonplace or widespread
[23:54:30] <lunaphyte> ttys000: it would appear so, but the received headers would validate that
[23:54:31] <minimal> if you're using something like Postfix or Exim as mail server I assume you can rewrite (including remove) email headers
[23:55:27] <lunaphyte> you can, and it can be ok to do so, but you need to be extremely careful if you are going to mess with received headers
[23:55:28] <minimal> I'd expect any org would want to remove such "internal" headers at the boundary of where emails are sent onwards to the public Internet
[23:55:38] <lunaphyte> it is very easy to break things badly and quickly
[23:56:00] <lunaphyte> minimal: on the contrary, it's rarely something of interest
[23:56:25] <minimal> lunaphyte: agreed, and I'm assume anyone doing such removal would still keep records of the "internal" headers themselves for later use in debugging any email issues
[23:56:25] *** Joins: pj (~pj@ghettoforge/pj)
[23:56:59] <tuxick> mail.storwell.com on 127.0.0.1??
[23:57:09] <tuxick> weird stuff
[23:57:39] <lunaphyte> that said, i do agree it would be generally beneficial if it were done more.  the catch is the fragility in such a configuration, and the competency required to do it responsibly and effectively
