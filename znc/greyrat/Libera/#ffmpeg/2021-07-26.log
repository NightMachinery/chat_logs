[00:15:23] *** Quits: furrymcgee (~devuan@31.179.186.66) (Quit: leaving)
[00:25:26] *** Joins: Mysteria (~Mysteria@v2202107139540158951.bestsrv.de)
[00:31:17] *** Quits: Blacker47 (~Blacker47@user/blacker47) (Quit: Life is short. Get a V.90 modem fast!)
[00:36:14] *** Quits: dreamon (~dreamon@pd9503e3a.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[00:40:36] *** Joins: dreamon (~dreamon@pd9503e3a.dip0.t-ipconnect.de)
[00:52:04] *** Quits: kurosu (uid342582@id-342582.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[01:20:22] *** Quits: someuser (~user@41.44.143.198) (Read error: Connection reset by peer)
[01:23:36] *** Joins: tofran (~tofran@37.189.158.134)
[01:29:39] *** Quits: meinside_ (uid24933@id-24933.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[01:29:47] *** Quits: microchip_ (~neutrino@user/microchip/x-0766185) (Read error: Connection reset by peer)
[01:30:11] *** Joins: microchip_ (~neutrino@user/microchip/x-0766185)
[01:32:05] *** Joins: Guest82 (~Guest82@39.red-80-32-129.staticip.rima-tde.net)
[01:33:04] <Guest82> anyone know how to generate video noise? this has been kicking my ass for 2 hours
[01:35:07] <Guest82> ive been trying variations on "geq=r=random(1)*255:g=random(1)*255:b=random(1)*255" but that gives black-and-white noise, not color. i assume it's because the seed is the same but it breaks when i try to change the seed
[01:39:51] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Ping timeout: 250 seconds)
[01:43:15] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[01:45:30] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Excess Flood)
[01:45:57] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[01:47:05] <Guest82> what's supposed to be the parameter for random?
[01:48:07] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[01:53:16] *** Quits: jos1 (~jos3@dyndsl-091-248-054-234.ewe-ip-backbone.de) ()
[01:53:59] *** Joins: jos1 (~jos3@dyndsl-091-248-054-234.ewe-ip-backbone.de)
[01:58:48] *** Joins: someuser (~user@138.199.2.51)
[02:03:37] *** Quits: dreamon (~dreamon@pd9503e3a.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[02:04:59] *** Quits: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883) (Ping timeout: 255 seconds)
[02:08:55] *** Joins: dreamon (~dreamon@p57a4cdaf.dip0.t-ipconnect.de)
[02:09:41] <Guest82> i guess i could also just use opencv. its a random number between 0 and 255 for every byte it can't be that hard
[02:19:05] *** Joins: aphysically (~aphysical@user/aphysically)
[02:20:17] <aphysically> Lynne: Are there still plans to (eventually) land libplacebo stuff? I don't see anything on the mailing list
[02:20:33] <aphysically> Is it just on the backburner or waiting on something else in particular
[02:24:51] <furq> Guest82: https://ffmpeg.org/ffmpeg-filters.html#noise
[02:25:44] *** Joins: GenTooMan (~cyberman@2601:547:437f:e5c6:21f:5bff:fefe:a883)
[02:26:01] <furq> -f lavfi -i color=white,noise=alls=50:allf=t
[02:26:03] <furq> or something
[02:33:13] *** Quits: Buster_ (~Buster@46.160.36.66) (Ping timeout: 268 seconds)
[02:35:54] *** Quits: dreamon (~dreamon@p57a4cdaf.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[02:38:28] *** Quits: Guest82 (~Guest82@39.red-80-32-129.staticip.rima-tde.net) (Quit: Connection closed)
[02:56:12] <Lynne> aphysically: yes, sorry its taking so long, I recently got back to my side project which makes use of the vulkan code, so I'm back on vulkan for now
[02:59:27] *** Quits: SnakesAndStuff (~bob@2601:381:8100:b97a::409) (Read error: Connection reset by peer)
[03:03:02] <haasn> Lynne: aphysically: re: that, should we just merge it with an explicit CPU wait to work around the missing synchronization stuff?
[03:03:12] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Quit: WeeChat 3.2)
[03:03:18] <haasn> I'm not sure why I didn't consider that as an option before but unless I'm missing something that would solve it without too much performance cost
[03:03:33] <haasn> (maybe the cpu wait stuff in libplacebo is newer than vf_libplacebo? I don't quite remember)
[03:06:22] *** Joins: ChouStars9527 (~ChouStars@27.46.169.176)
[03:15:00] <Lynne> if it took this long to hack something up, the least that can be done is to give it some justice and do it properly :)
[03:19:44] *** Joins: MarioMey (~mario@2803:9800:a090:8196:d65d:64ff:fea8:9487)
[03:23:26] <haasn> sunk cost fallacy
[03:25:27] <Lynne> that cost's going to have to be paid though, I'm not too keen on writing hwcontext_vulkan2 next week
[03:26:03] <haasn> the change would be incremental
[03:26:15] <haasn> replacing a pl_tex_poll(); loop by whatever semaphore mechanism
[03:26:21] <haasn> it's about 2 lines of redundant code
[03:26:33] <Lynne> since I think I managed to get nvidia's vulkan decode extension to work on my not at all well laptop
[03:28:19] *** Quits: iive (~iive@87.119.101.204.client.entry.bg) (Quit: They came for me...)
[03:38:21] <aphysically> ah nice that's good to hear
[03:42:02] *** Joins: bencc1_ (~bencc1@5.29.51.251)
[03:42:03] *** Quits: bencc1 (~bencc1@2a00:a040:197:3af:820b:5b1d:e4d3:222e) (Ping timeout: 250 seconds)
[03:49:23] *** Quits: blb (~blb@user/blb) (Ping timeout: 255 seconds)
[03:50:09] *** Joins: blb (~blb@user/blb)
[03:54:53] *** Parts: MarioMey (~mario@2803:9800:a090:8196:d65d:64ff:fea8:9487) ()
[03:54:53] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[04:12:56] *** Joins: betelgeuse (~john2gb@94-225-47-8.access.telenet.be)
[04:33:49] *** Quits: ChouStars9527 (~ChouStars@27.46.169.176) (Quit: Client closed)
[04:39:03] *** Quits: blinky42 (~quassel@user/blinky42) (Quit: No Ping reply in 180 seconds.)
[04:40:22] *** Joins: blinky42 (~quassel@jabber.blinkylight.net)
[04:40:22] *** Quits: blinky42 (~quassel@jabber.blinkylight.net) (Changing host)
[04:40:22] *** Joins: blinky42 (~quassel@user/blinky42)
[04:42:08] *** Quits: finsternis (~X@23.226.237.192) (Remote host closed the connection)
[04:43:53] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[04:44:58] *** Joins: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net)
[04:51:19] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[05:28:06] *** Quits: ivanich (~ivanich@45-140-123-239.broadband.tenet.odessa.ua) (Remote host closed the connection)
[05:30:31] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:36:01] *** Joins: MrZeus (~MrZeus@2a02:c7f:a0aa:4400:4c42:46ff:a794:e725)
[05:41:35] *** Quits: MrZeus (~MrZeus@2a02:c7f:a0aa:4400:4c42:46ff:a794:e725) (Ping timeout: 252 seconds)
[06:00:10] *** Quits: someuser (~user@138.199.2.51) (Ping timeout: 240 seconds)
[06:09:02] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 258 seconds)
[06:10:52] *** Joins: keypusher (keypusher@user/keypusher)
[06:15:14] *** Joins: lenswipe (~lenswipe@pool-108-26-192-136.bstnma.fios.verizon.net)
[06:15:16] <lenswipe> hey folks
[06:15:34] <lenswipe> I previously compiled an (old) version of ffmpeg with NDI support. I'm coming back to it now and I can't remember what I did....I need to somehow tell make/configure where it should look for NDI, can someone refresh my memory on how to do this?
[06:15:34] <lenswipe> i.e: does ffmpeg just expect it to be installed as a system library already, or should I explicitly give ./configure a path?
[06:17:01] <DeHackEd> usually pkg-config will provide the needed information
[06:17:58] <lenswipe> DeHackEd, how so?
[06:18:21] <lenswipe> i ran "pkg-config ffmpeg" and it returned nothing
[06:18:51] <DeHackEd> I'm reading configure and not seeing what NDI is.. so maybe I should shut up now
[06:19:59] <lenswipe> DeHackEd, it was taken out of ffmpeg a while back because *gestures vaguely* licensing stuff
[06:20:00] <lenswipe> https://www.ndi.tv/
[06:20:19] <lenswipe> I think the TL;DR is that Newtek were distributing ffmpeg binaries when they shouldn't have been or something, im not sure
[06:20:47] <lenswipe> point is, ffmpeg no longer has NDI support, I want/need NDI support so my only option is to get an old build of ffmpeg and compile it with NDI support myself
[06:21:21] *** Joins: darkapex_ (~darkapex@user/darkapex)
[06:22:17] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 252 seconds)
[06:24:14] *** Joins: kepstin_ (~kepstin@user/kepstin)
[06:25:36] *** Joins: darkapex (~darkapex@user/darkapex)
[06:26:19] *** Quits: darkapex_ (~darkapex@user/darkapex) (Ping timeout: 268 seconds)
[06:28:26] *** Quits: kepstin_ (~kepstin@user/kepstin) (Client Quit)
[06:31:54] <lenswipe> i...i think i figured it out
[06:32:14] <lenswipe> i just had to put libndi in the right place (/lib/libndi.so) and then run ldconfig and ./configure
[06:41:19] *** Parts: acagastya (~acagastya@wikinews/acagastya) ()
[06:54:21] *** Quits: lenswipe (~lenswipe@pool-108-26-192-136.bstnma.fios.verizon.net) (Quit: Leaving)
[06:56:33] *** Joins: rando25892 (~sthk@user/rando25892)
[07:19:46] *** Joins: jos2 (~jos3@host-091-097-184-026.ewe-ip-backbone.de)
[07:23:35] *** Quits: jos1 (~jos3@dyndsl-091-248-054-234.ewe-ip-backbone.de) (Ping timeout: 255 seconds)
[07:34:11] *** Joins: rainmanjam (~rainmanja@216.161.85.62)
[07:36:04] <rainmanjam> Is there a way to define all possible data points that could be shown when evaluating a file?
[07:39:57] *** Joins: admal (~admal@gateway/tor-sasl/admal)
[07:48:08] *** beaver is now known as pong
[07:53:13] *** Joins: Fohsap (~Muimi@119.113.131.224)
[07:54:13] *** Joins: gnoo (~gnoo@user/gnoo)
[08:07:04] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 256 seconds)
[08:08:04] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[08:08:37] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[08:20:28] *** Quits: mateo` (~mateo@ffmpeg/developer/mateo) (Ping timeout: 272 seconds)
[08:25:20] *** Quits: taliho (~taliho@c-73-149-98-40.hsd1.ma.comcast.net) (Ping timeout: 268 seconds)
[08:27:24] *** Quits: averne (~averne@2001:861:5102:3290:9952:d870:185e:c44c) (Quit: quit)
[08:27:43] *** Joins: averne (~averne@176-179-35-51.abo.bbox.fr)
[08:33:41] *** Joins: mateo` (~mateo@ffmpeg/developer/mateo)
[08:56:10] *** Joins: Nik- (~textual@p5b3f9413.dip0.t-ipconnect.de)
[09:28:49] *** Quits: Jonno_FTW (~come@api.carswap.me) (Quit: Reconnecting)
[09:28:56] *** Joins: Jonno_FTW (~come@api.carswap.me)
[09:30:30] *** Quits: Jonno_FTW (~come@api.carswap.me) (Changing host)
[09:30:30] *** Joins: Jonno_FTW (~come@user/jonno-ftw/x-0835346)
[09:31:54] *** Quits: arcatech (~arcatech@user/arcatech) (Ping timeout: 240 seconds)
[09:35:15] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[09:39:56] *** Joins: Flabb (~Flabb@89.169.84.117)
[09:40:25] *** Quits: Stalker (~Stalker@89.201.5.246) (*.net *.split)
[09:40:25] *** Quits: Zouppen (~joell@jkl.hacklab.fi) (*.net *.split)
[09:40:25] *** Quits: ossifrage (~ossifrage@pool-72-78-189-30.phlapa.fios.verizon.net) (*.net *.split)
[09:40:25] *** Quits: pit__ (~quassel@v22016102921539034.goodsrv.de) (*.net *.split)
[09:40:25] *** Quits: plitter (~plitter@user/plitter) (*.net *.split)
[09:40:25] *** Quits: Ekho (~Ekho@user/ekho) (*.net *.split)
[09:40:26] *** Quits: jarainf (~jarainf@citizien.eu) (*.net *.split)
[09:40:26] *** Quits: Henry151 (~bishop@user/henry151) (*.net *.split)
[09:40:26] *** Quits: spaam (johan@i19.se) (*.net *.split)
[09:40:28] *** Joins: spaam_ (johan@i19.se)
[09:40:29] *** Joins: Zouppen_ (~joell@jkl.hacklab.fi)
[09:40:30] *** Joins: jarainf- (~jarainf@2a01:4f8:191:512c::2)
[09:40:31] *** Joins: StalkerRiga_ (~Stalker@89.201.5.246)
[09:40:37] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:40:41] *** Joins: pit (~quassel@v22016102921539034.goodsrv.de)
[09:40:44] *** Joins: plitter (~plitter@78.31.86.243)
[09:41:02] *** Quits: plitter (~plitter@78.31.86.243) (Changing host)
[09:41:02] *** Joins: plitter (~plitter@user/plitter)
[09:41:13] *** Joins: ossifrage (~ossifrage@pool-72-78-189-30.phlapa.fios.verizon.net)
[09:41:25] *** Joins: Henry151 (~bishop@user/henry151)
[09:43:36] *** Quits: Hackerpcs (~user@user/hackerpcs) (*.net *.split)
[09:43:36] *** Quits: sagax (~sagax@213.138.71.146) (*.net *.split)
[09:43:37] *** Quits: spanwysm[m] (~spanwysm@2001:470:69fc:105::e0a) (*.net *.split)
[09:43:37] *** Quits: igh4st[m] (~igh4stmat@2001:470:69fc:105::35ce) (*.net *.split)
[09:44:12] *** Quits: ossifrage (~ossifrage@pool-72-78-189-30.phlapa.fios.verizon.net) (Remote host closed the connection)
[09:44:31] *** Joins: Hackerpcs (~user@user/hackerpcs)
[09:44:37] *** Joins: ossifrage (~ossifrage@pool-72-78-189-30.phlapa.fios.verizon.net)
[09:45:57] *** Joins: sagax (~sagax@213.138.71.146)
[09:49:43] *** Joins: igh4st[m] (~igh4stmat@2001:470:69fc:105::35ce)
[09:49:47] *** Joins: spanwysm[m] (~spanwysm@2001:470:69fc:105::e0a)
[09:53:47] *** Joins: Ekho (~Ekho@user/ekho)
[10:08:26] *** Quits: admal (~admal@gateway/tor-sasl/admal) (Ping timeout: 244 seconds)
[10:10:20] *** Joins: admal (~admal@gateway/tor-sasl/admal)
[10:13:22] *** Quits: KombuchaKip (~kip@192.252.230.5) (Quit: Leaving.)
[10:56:12] *** Joins: Volgaar (~volgaar@104.66.13.93.rev.sfr.net)
[11:09:39] *** Joins: Guest15 (~Guest15@bras-base-otwaon1051w-grc-04-216-209-191-117.dsl.bell.ca)
[11:10:08] <Guest15> Hey all, I'm getting a weird ffmpeg error that doesn't make sense and I was hoping for some help.
[11:10:29] <Guest15> I'm running `ffmpeg -f m4a -i ./Recording\ \(13\).m4a output.wav`
[11:10:49] <Guest15> and i get the error `output.wav: No such file or directory`
[11:11:13] <Guest15> Considering I'm wanting ffmpeg to MAKE the file output.wav, I'm pretty confused.
[11:16:08] <\> yeah that's pretty confusing
[11:16:46] <Guest15> Well, IDK what it was, but for some reason it was the directory i was in... in other directories it works it seems...
[11:17:54] <Guest15> I just moved the file out of that directory and it worked... Maybe because of some weird WSL bug, but I've done this before... frequently... so I don't know why it's a problem tonight...
[11:18:26] <Guest15> Thanks all!
[11:37:26] *** Quits: zmt01 (~zmt00@user/zmt00) (Ping timeout: 252 seconds)
[11:39:11] *** Quits: Guest15 (~Guest15@bras-base-otwaon1051w-grc-04-216-209-191-117.dsl.bell.ca) (Quit: Client closed)
[11:51:37] *** Joins: dreamon (~dreamon@ppp-88-217-93-68.dynamic.mnet-online.de)
[11:52:57] *** Quits: Nik- (~textual@p5b3f9413.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[12:16:28] *** Quits: pong (~beaver@user/pong) (Remote host closed the connection)
[12:18:24] *** Joins: pong (~beaver@user/pong)
[12:34:51] *** Joins: deadcore (~deadcore@90.152.4.230)
[12:35:27] *** Quits: deadcore (~deadcore@90.152.4.230) (Client Quit)
[12:45:13] *** Joins: fentanyl (~0xe3b7@ca1-1.azirevpn.net)
[12:51:23] *** Joins: kurosu (uid342582@id-342582.stonehaven.irccloud.com)
[13:00:54] *** Quits: pong (~beaver@user/pong) (Remote host closed the connection)
[13:06:23] *** Joins: Blacker47 (~Blacker47@user/blacker47)
[13:21:19] *** Joins: pong (~beaver@user/pong)
[13:24:37] *** Joins: meinside_ (uid24933@id-24933.brockwell.irccloud.com)
[13:38:36] *** Joins: TinoDidriksen (~TinoDidri@tinodidriksen.com)
[14:12:46] *** Quits: pong (~beaver@user/pong) (Quit: oopsie)
[14:16:04] *** Quits: Volgaar (~volgaar@104.66.13.93.rev.sfr.net) (Quit: WeeChat 3.2)
[14:19:29] *** Quits: keypusher (keypusher@user/keypusher) (Quit: bye)
[14:21:26] *** Joins: keypusher (keypusher@user/keypusher)
[14:37:47] *** Quits: admal (~admal@gateway/tor-sasl/admal) (Remote host closed the connection)
[14:38:02] *** Joins: admal (~admal@gateway/tor-sasl/admal)
[14:58:40] *** Joins: someuser (~user@41.44.143.198)
[15:08:27] *** Quits: s0berage (~s0berage@135-23-213-77.cpe.pppoe.ca) (Ping timeout: 250 seconds)
[15:14:08] *** Quits: mickey (~user@user/mickey) (Remote host closed the connection)
[15:14:27] *** Joins: mickey (~user@user/mickey)
[15:29:44] *** Quits: TanoMarcelo (~TanoMarce@179.63.242.126) (Quit: WeeChat 3.1)
[15:41:42] *** Quits: someuser (~user@41.44.143.198) (Read error: Connection reset by peer)
[15:44:01] *** Quits: zsoltiv_ (~zsoltiv@fibhost-67-12-35.fibernet.hu) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[15:44:21] *** Joins: zsoltiv_ (~zsoltiv@fibhost-67-12-35.fibernet.hu)
[16:05:19] *** Joins: neuron (~neuron@213.14.164.203)
[16:07:25] *** Joins: pong (~beaver@user/pong)
[16:10:32] *** Parts: TinoDidriksen (~TinoDidri@tinodidriksen.com) ()
[16:11:43] *** Joins: rsx (~dummy@ppp-188-174-133-15.dynamic.mnet-online.de)
[16:18:43] *** Joins: Nik- (~textual@p5b3f9413.dip0.t-ipconnect.de)
[16:19:12] <neuron> Hello,
[16:19:12] <neuron> ffmpeg(4.3.2) printing error "Segmentation Fault" with dummy sound card on armv7l.
[16:19:13] <neuron> But works with internal sound card.
[16:19:13] <neuron> I tested with arecord, both cards working.
[16:22:50] <neuron> snd_pcm_common_ioctl1+0x74c/0xd74
[16:27:19] *** Quits: neuron (~neuron@213.14.164.203) (Quit: Ping timeout (120 seconds))
[16:31:05] *** Joins: neuron (~neuron@213.14.164.203)
[16:45:27] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[16:46:47] *** Joins: Hackerpcs (~user@user/hackerpcs)
[16:48:47] *** Quits: neuron (~neuron@213.14.164.203) (Quit: Ping timeout (120 seconds))
[16:50:09] *** Joins: someuser (~user@138.199.2.51)
[16:56:25] *** Joins: taliho (~taliho@c-73-149-98-40.hsd1.ma.comcast.net)
[17:15:57] *** Joins: neuron (~neuron@213.14.164.203)
[17:22:08] *** Quits: neuron (~neuron@213.14.164.203) (Quit: Ping timeout (120 seconds))
[17:38:33] *** Quits: sosodank (~dankamong@199.185.175.96) (Remote host closed the connection)
[17:45:29] *** Joins: neuron (~neuron@213.14.164.203)
[17:52:39] *** Quits: neuron (~neuron@213.14.164.203) (Quit: Ping timeout (120 seconds))
[18:20:34] *** Joins: iive (~iive@87.119.101.204.client.entry.bg)
[18:21:22] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Ping timeout: 240 seconds)
[18:23:26] *** Joins: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net)
[18:25:52] *** Quits: Aelius (~Aelius@user/aelius) (Quit: quit)
[18:27:34] *** Joins: Aelius (~Aelius@user/aelius)
[18:55:46] *** Joins: arcatech (~arcatech@user/arcatech)
[18:59:31] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[19:16:20] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Quit: Konversation terminated!)
[19:19:33] *** Joins: vlm (~vlm@user/vlm)
[20:03:26] *** Quits: justache (~justache@user/justache) (Quit: The Lounge - https://thelounge.chat)
[20:04:29] *** Joins: justache (~justache@user/justache)
[20:23:42] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[20:24:05] *** Quits: someuser (~user@138.199.2.51) (Read error: Connection reset by peer)
[20:24:16] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[20:28:18] *** Joins: zmt01 (~zmt00@user/zmt00)
[20:28:43] *** Parts: t4nk_freenode (~Go@user/t4nk) (Leaving)
[20:33:08] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[20:46:42] *** Joins: TanoMarcelo (~TanoMarce@179.63.242.126)
[21:00:29] *** Joins: furrymcgee (~devuan@31.179.186.66)
[21:17:32] *** Quits: dreamon (~dreamon@ppp-88-217-93-68.dynamic.mnet-online.de) (Ping timeout: 258 seconds)
[21:23:24] <realies> I'm using asendcmd=c='0.0 afftdn@n sn start; 1.0 afftdn@n sn stop',afftdn@n to profile noise, but i'm not sure how i can feed parameters to afftdn when using @n
[21:23:55] <realies> tried afftdn=nr=40dB:nf=-40dB@n and afftdn@n=nr=40dB:nf=-40dB but it doesn't seem to like it
[21:24:52] <realies> ah.. has to be without 'dB' :)
[21:28:29] <realies> strange, no difference in the output
[21:33:30] * realies has never been able to achieve anything with afftdn
[21:34:30] *** Joins: KombuchaKip (~kip@192.252.230.5)
[21:51:00] *** Joins: someuser (~user@41.44.143.198)
[21:57:41] *** Quits: someuser (~user@41.44.143.198) (Read error: Connection reset by peer)
[21:57:59] *** Joins: someuser (~user@138.199.2.51)
[21:58:57] *** Joins: dreamon (~dreamon@p54b145b4.dip0.t-ipconnect.de)
[22:04:50] *** Joins: Enverex (~Enverex@31.111.79.17)
[22:05:33] <Enverex> I'm trying to encode a video and weirdly enough, in this specific setup, it seems to be ignoring my video encoder options and just copying the source video. Any obvious mistakes that would cause that?
[22:05:50] <Enverex> ffmpeg -sn -dn -async 1 -i "$inFile" -i <redacted>/${ainput}.wav -filter_complex "[1:0]<redacted>[hrirs];[0:a][hrirs]<redacted>[hf],[hf]loudnorm[hf],[0:v]yadif=0:deint=1,scale=w=min(iw\,1920):h=-2" -c:v libx264 -preset ultrafast -crf 24 -map [hf]:a -c:a libopus -sample_fmt s16 -b:a 160k "<redacted>/${fileName}.mkv" -y
[22:06:06] <Enverex> There's only one input video.
[22:16:45] <kepstin> nothing in that command that would indicate it's copying the video track; can you share the complete console output from the command (use a pastebin service)
[22:17:32] <kepstin> your filter chain is kind of funky tho, you have some "," in places where i think you should be using ";"
[22:17:38] *** Joins: TheSashmo (~TheSashmo@207.35.238.34)
[22:17:44] <kepstin> and re-used pad names
[22:18:09] <EmanuelLoos[m]> <Enverex "I'm trying to encode a video and"> I suppose your input video is "$inFile". What video codec does it use? Have you tested outputting the video in another codec than the input video so it has to be reencoded? Does it still copy the video then?
[22:19:00] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[22:19:15] <Enverex> Switching from 264 to 265 does infact cause it to reencode it.
[22:19:38] <Enverex> kepstin: To be honest I still struggle with filter_complex as it's still a bit over my head.
[22:20:01] *** Quits: TheSashm_ (~TheSashmo@158.106.77.7) (Ping timeout: 258 seconds)
[22:23:22] *** Joins: Volgaar (~volgaar@2a01:cb1d:8151:9600:3dd9:4b02:6c50:a34b)
[22:24:15] *** Quits: xantoz (~tewi_inab@c-c0bae255.013-124-73746f25.bbcust.telenor.se) (Quit: WeeChat 3.0)
[22:25:33] <EmanuelLoos[m]> <Enverex "Switching from 264 to 265 does i"> Is it also using your filters when doing that?
[22:25:34] <EmanuelLoos[m]> If yes, you could first encode to a lossless codec (yuv4mpegpipe (containers: NUT or AVI), rawvideo, ffv1, lossless h264, lossless h265) and then to h264.
[22:26:16] <furq> yuv4mpeg is a container
[22:26:44] *** Parts: Pepe_vulgaris (~sph@user/sph) (WeeChat 3.1)
[22:34:29] *** Quits: Volgaar (~volgaar@2a01:cb1d:8151:9600:3dd9:4b02:6c50:a34b) (Ping timeout: 268 seconds)
[22:35:04] <EmanuelLoos[m]> <furq "yuv4mpeg is a container"> You are right, I misstook yuv4mpeg for rawvideo.
[22:37:18] <EmanuelLoos[m]> * If yes, you could first encode to a lossless codec (rawvideo (containers: NUT, AVI or yuv4mpeg), ffv1, lossless h265) and then to h264. EDITED
[22:39:22] *** Quits: betelgeuse (~john2gb@94-225-47-8.access.telenet.be) (Quit: The Lounge - https://thelounge.chat)
[22:40:19] <Enverex> I actually have such a giant command line right now because if I try and do it in stages, it ends up completely desynced, but seems to maintain sync when doing the whole thing in one big process.
[22:40:31] <Enverex> Looks like the chain is being used when I encode to x265
[22:40:44] <Enverex> It's just not reencoding it when I use x264 for some reason.
[22:41:45] <kepstin> what makes you think it's not being re-encoded?
[22:43:30] <Enverex> CRF 24 x264 shouldn't generate 28Mb video, (which just happens to match the original bitrate). That said, maybe it is a red herring and somehow it's going crazy and generating insane bitrates.
[22:44:15] *** wyatt8750 is now known as wyatt8740
[22:45:54] <kepstin> can't really say anything about that without knowing more about your video
[22:46:13] <kepstin> but x264 with ultrafast is very fast, but not very efficient
[22:46:20] <kepstin> so it doesn't seem unreasonable
[22:47:28] <Enverex> I've had small changes in size (relative to percent) from speeds but CRF 24 and a 28Mb bitrate is crazy unless I'm encoding white noise or something. Looks like you may be right though, it IS reencoding it, but the output bitrate just happens to match the input close enough. I've done a lot of encoding over a lot of media and never seen anything
[22:47:29] <Enverex> remotely that extreme.
[22:47:33] *** Quits: darkapex (~darkapex@user/darkapex) (Read error: Connection reset by peer)
[22:50:07] <Enverex> Given the earlier constraint of needing to do this in a single pass, is there any way of doing peak normalisation in the same pass? "loudnorm"  can, but that's not really the same thing.
[22:50:08] *** Quits: admal (~admal@gateway/tor-sasl/admal) (Remote host closed the connection)
[22:50:21] *** Joins: darkapex (~darkapex@user/darkapex)
[22:50:24] <EmanuelLoos[m]> <Enverex "I've had small changes in size ("> You are inputting audio too, right? Maybe that makes it so huge?
[22:50:37] <EmanuelLoos[m]> > <@Enverex:libera.chat> I've had small changes in size (relative to percent) from speeds but CRF 24 and a 28Mb bitrate is crazy unless I'm encoding white noise or something. Looks like you may be right though, it IS reencoding it, but the output bitrate just happens to match the input close enough. I've done a lot of encoding over a lot of media and never seen anything
[22:50:37] <EmanuelLoos[m]>  * You are inputting audio too, right?Maybe that makes it so huge?
[22:50:43] <EmanuelLoos[m]>  * You are inputting audio too, right?
[22:50:43] <EmanuelLoos[m]> Maybe that makes it so huge?
[22:51:00] <Enverex> The original audio is DTS-MA, the output is 160k Opus so that should definitely be smaller. It was just the video bitrate I was focussing on though.
[22:53:48] *** Quits: arcatech (~arcatech@user/arcatech) (Quit: Bye.)
[22:57:49] <Enverex> But yeah, mystery solved now, at least sort of. I'll have to look at the source video in detail though to see why it causes CRF to allocate so much birate to it.
[22:57:51] *** Quits: rsx (~dummy@ppp-188-174-133-15.dynamic.mnet-online.de) (Quit: rsx)
[23:15:23] <kepstin> yeah, you can't normalize audio properly in a single pass without a time machine.
[23:18:58] <kepstin> the normal process is to run (almost) the same command twice, the first time with the audio filter first pass selected and video encoding disabled, and the second with the audio filter second pass data and video encoding enabled
[23:19:39] <Enverex> Ok, so that leads to having to split it again. The issue there is that it doesn't keep video and audio sync. If I split the audio and video, then remux them, they're completely out of sync. Is there a programmatical way of handling that? (I have hundreds of files to process so having to manually adjust the time on each isn't viable).
[23:19:51] <kepstin> that's not splitting anything
[23:20:11] <Enverex> Yeah your method won't work unfortunately as I need to reprocess the audio in the first pass to HRTF anyway.
[23:20:58] <kepstin> it'll duplicate some work, yes... but avoids sync issues from splitting, and should be faster than doing a full duplicate encode
[23:21:00] <Enverex> So several things need to happen: multichannel to HRTF, video to new format, audio to new format, mux to output file. It's easy enough to do all that in different files, but as I said that breaks time sync.
[23:21:14] <Enverex> Ah, I see, so keep the video attached each time.
[23:21:46] <kepstin> well, you don't even really need the video at all in the first pass; you're just running the audio transformation an analysis
[23:22:07] <kepstin> the second pass is audio transformation and applying results of analysis - in the same command as you do the video processing
[23:22:41] <Enverex> You're missing the "convert audio from multichannel to HRTF" that I mentioned, I'm not just analysing volume levels.
[23:22:52] <kepstin> i said "audio transformation"
[23:23:37] <Enverex> So after the audio transformation, how do I get that back into the original file? Surely that's a remuxing step and will result in desynced audio still?
[23:24:16] <kepstin> no? you don't keep any output from the first pass. it's just used to get the results of the audio analysis (e.g. from ebur128 or loudnorm filter)
[23:24:39] <kepstin> the second time you run the command is the full processing, same as you're running now
[23:24:54] <kepstin> except that you already know what loudness normalization parameters are needed
[23:25:04] <Enverex> The conversion to HRTF completely changes the audio volume, so the audio analysis has to be done AFTER the transformation step...
[23:25:11] <kepstin> yes...
[23:25:27] <kepstin> that's what i said. first pass you run audio transformation + analysis
[23:28:18] <Enverex> Yeah, I think I've got the process down now. I'll test it and see if it works.
[23:29:43] *** Quits: Fohsap (~Muimi@119.113.131.224) (Read error: Connection reset by peer)
[23:31:48] <kepstin> so the first command will be something like ffmpeg -i input.mp4 -filter_complex <audio_filters>,ebur128 -vn -f null -
[23:32:16] <kepstin> and the second will be something like ffmpeg -i input.mp4 -filter_complex <audio_filters>,volume=-7.9dB;<video_filters> <encoding options> output.mp4
[23:32:49] *** Quits: furrymcgee (~devuan@31.179.186.66) (Quit: leaving)
[23:33:33] <kepstin> (the -7.9dB is just an example, my test file reported an integrated loudness of -8.3 LUFS and i like to normalize to -18 LUFS to match replaygain levels)
[23:33:39] <Enverex> That wouldn't work at all. The audio needs to actually be converted, it's going from 5.1 to HRTF Stereo, doing analysis on the original audio is useless because once it's been converted, it has a completely different audio envelope and the converted audio needs to be analysed. Boosting the converted audio by the original audio's peak levels won't
[23:33:39] <Enverex> work at all unfortunately.
[23:33:59] <kepstin> please re-read my examples
[23:34:00] <Enverex> As an example, the original audio in this test was 5.6dB, the HRTF was 17.9dB (below 0)
[23:34:03] <kepstin> that's not what's happening at all
[23:34:18] <kepstin> where I wrote <audio_filters> put in your audio filters, e.g. the hrtf transformation
[23:34:25] <kepstin> so the analysis is happening after the transformation
[23:34:36] <Enverex> OH. Ok, yes, I get it now, my mistake
[23:39:36] *** Joins: s0berage (~s0berage@135-23-213-77.cpe.pppoe.ca)
[23:40:42] <Enverex> Yeah, that works well, thanks. I had a specific chain of events in my head which was why I was confusing the different paths.
[23:41:56] <kepstin> there is some duplicated work here - you have to re-do the work of the hrtf in the final encode - but audio processing is usually fairly quick compared to video, so that's probably not a big deal.
[23:42:27] <kepstin> worth it to avoid worrying about a/v sync problems :)
