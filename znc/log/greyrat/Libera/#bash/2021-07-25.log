[00:07:27] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[00:08:58] *** Quits: dza (~dza@user/dza) (Read error: Connection reset by peer)
[00:10:11] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 244 seconds)
[00:10:30] <earnestly> ormaaj: About the -c thing, incidently:
[00:10:44] *** Joins: dza (~dza@user/dza)
[00:10:46] <earnestly> # bash -c "trap 'echo xyz' EXIT; kill 0"
[00:10:47] <shbot> earnestly: Terminated
[00:10:48] <earnestly> # bash -c "trap 'echo xyz' EXIT; kill 0; wait"
[00:10:49] <shbot> earnestly: xyz
[00:10:50] <shbot> earnestly: Terminated
[00:11:00] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[00:12:36] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Ping timeout: 276 seconds)
[00:12:51] <shalok> All of the problem use cases described on https://www.cons.org/cracauer/sigint.html are related to emacs.
[00:12:54] <shalok> Is all that complexity caused just because emacs decided to reinterpret SIGINT differently from every other application?
[00:13:14] <shalok> Why didn't they just fix emacs to make it respond to SIGINT the same as other applications?
[00:16:30] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 276 seconds)
[00:19:45] *** thib_ is now known as thib
[00:20:15] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[00:24:56] *** Joins: seninha (~seninha@user/seninha)
[00:25:21] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 250 seconds)
[00:29:40] *** grettke-away is now known as grettke
[00:30:10] *** grettke is now known as grettke-away
[00:33:51] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[00:35:05] *** Joins: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net)
[00:36:18] *** Quits: p-i-_ (~Ohmu@node-mzc.pool-1-4.dynamic.totinternet.net) (Quit: Leaving...)
[00:38:47] *** Quits: marw (4988ea31b1@knopi.disroot.org) (Remote host closed the connection)
[00:41:57] *** Quits: H3dn1ng (~H3dn1ng@185.213.154.234) (Quit: leaving)
[00:44:26] <earnestly> I think that's just an example due to them probably being most familiar with it
[00:45:00] *** Quits: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net) (Quit: WeeChat 3.2)
[00:45:26] *** Joins: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1)
[00:49:08] *** Joins: aidalgol_ (~aidalgol@user/aidalgol)
[00:50:38] *** Quits: aidalgol (~aidalgol@user/aidalgol) (Ping timeout: 252 seconds)
[00:51:40] *** Joins: cmsimon (cmsimon@gateway/vpn/protonvpn/cmsimon)
[00:52:41] *** grettke-away is now known as grettke
[00:52:51] <jmcantrell> are arrays exportable?
[00:53:01] <ormaaj> nope
[00:53:09] <jmcantrell> thanks
[00:53:30] *** Joins: Elliria (~littlegir@cpe-66-24-84-219.stny.res.rr.com)
[00:54:33] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 265 seconds)
[01:02:00] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 272 seconds)
[01:05:41] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[01:06:04] *** Quits: rememberYou (~someone@user/rememberyou) (Read error: Connection reset by peer)
[01:07:18] *** Quits: Elliria (~littlegir@cpe-66-24-84-219.stny.res.rr.com) (Quit: *POOF*)
[01:11:33] *** Joins: arinov (~arinov@212.156.215.30)
[01:15:33] *** Joins: Starmina_ (~Starmina@194.110.113.89)
[01:16:18] *** Quits: Starmina (~Starmina@194.110.113.89) (Ping timeout: 265 seconds)
[01:16:18] *** Starmina_ is now known as Starmina
[01:19:10] *** Quits: rendar (~rendar@user/rendar) ()
[01:19:37] *** Joins: sn1tch3r (~sn1tch3r@201-27-147-42.dsl.telesp.net.br)
[01:24:16] *** aidalgol_ is now known as aidalgol
[01:26:57] *** Joins: Starmina_ (~Starmina@194.110.113.26)
[01:27:06] *** Quits: Starmina (~Starmina@194.110.113.89) (Ping timeout: 240 seconds)
[01:27:06] *** Starmina_ is now known as Starmina
[01:28:31] *** Joins: Elodin (~weechat@user/elodin)
[01:36:00] *** Joins: Nintendo (~weechat@user/great)
[01:36:25] *** Joins: ninjabuffet (~ninjabuff@user/ninjabuffet)
[01:40:41] *** Quits: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1) (Ping timeout: 255 seconds)
[01:40:52] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[01:45:10] *** Joins: chomwitt (~chomwitt@2a02:587:dc0e:ef00:12c3:7bff:fe6d:d374)
[01:50:24] *** Quits: cmsimon (cmsimon@gateway/vpn/protonvpn/cmsimon) (Remote host closed the connection)
[02:00:33] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[02:03:30] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[02:03:37] *** Joins: cmsimon (cmsimon@gateway/vpn/protonvpn/cmsimon)
[02:05:33] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[02:08:59] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 265 seconds)
[02:10:42] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 240 seconds)
[02:12:21] *** Quits: unclutter (~gentoo@60.81-166-246.customer.lyse.net) (Remote host closed the connection)
[02:13:27] *** Joins: ferdna (~ferdna@user/ferdna)
[02:15:56] *** Quits: yuckey2d (~yuckey2d@66.115.145.202) (Quit: The Lounge - https://thelounge.chat)
[02:16:56] *** Joins: yuckey2d (~yuckey2d@66.115.145.202)
[02:19:37] *** Quits: Strom (strom@fedora/strom) ()
[02:21:10] *** Joins: Strom (strom@fedora/strom)
[02:23:28] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[02:24:00] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[02:24:18] *** grettke is now known as grettke-away
[02:30:05] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[02:44:04] *** Quits: ano (~weechat@user/ano) (Quit: ano)
[02:44:17] *** Joins: ano (~weechat@user/ano)
[02:47:44] *** Quits: debsan (~debsan@2800:810:471:2ee::1000) (Ping timeout: 255 seconds)
[02:48:13] *** Quits: b0b (~bob@user/b0b) (Quit: o/)
[02:48:40] *** Joins: b0b (~bob@user/b0b)
[02:51:06] *** Quits: neightchan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 240 seconds)
[02:52:39] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[02:54:40] *** Quits: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[02:55:10] *** Quits: arinov (~arinov@212.156.215.30) (Quit: WeeChat 3.1)
[02:58:18] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[02:58:18] *** Quits: ttyX_ (~ttyX@182.68.164.252) (Quit: Leaving)
[03:01:04] *** Joins: n4dir (~user@mue-88-130-57-243.dsl.tropolys.de)
[03:01:56] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[03:04:55] *** Joins: unclutter (~gentoo@60.81-166-246.customer.lyse.net)
[03:05:42] *** Joins: BashTux (~BashTux@180-150-9-97.b49609.syd.static.aussiebb.net)
[03:08:15] *** Joins: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1)
[03:10:01] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 250 seconds)
[03:10:45] *** Joins: neightchan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[03:13:35] *** grettke-away is now known as grettke
[03:17:27] *** Joins: veracioux (~user@5.43.87.160)
[03:18:47] <veracioux> Can I get the value of an environment variable whose name contains invalid characters for a variable name in bash?
[03:20:32] <veracioux> I'd like to read the variable BASH_FUNC_foo%% that 'export -f' foo creates
[03:21:14] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[03:24:21] *** Joins: seninha (~seninha@user/seninha)
[03:24:47] *** Joins: debsan (~debsan@2800:810:471:2ee::1000)
[03:25:21] *** Quits: Bercik (~Redomen@user/bercik) (Ping timeout: 265 seconds)
[03:26:56] *** Quits: enoq (~enoq@194-208-179-35.lampert.tv) (Quit: enoq)
[03:28:14] *** Joins: Bercik (~Redomen@89-73-136-211.dynamic.chello.pl)
[03:28:15] *** Quits: Bercik (~Redomen@89-73-136-211.dynamic.chello.pl) (Changing host)
[03:28:15] *** Joins: Bercik (~Redomen@user/bercik)
[03:31:20] *** Quits: jsrnop (~mark@user/jsrnop) (Quit: The Lounge - https://thelounge.chat)
[03:31:42] *** Joins: jsrnop (~mark@user/jsrnop)
[03:31:48] <ormaaj> veracioux: I just use a nonstandard tool like `printenv` or `env -0`
[03:33:20] <ormaaj> export -f won't create arbitrary function names to begin with though so that shouldn't be necessary if they were generated that way to begin with.
[03:34:57] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[03:35:31] *** Quits: emg (~emg@cpe-70-93-247-186.natsow.res.rr.com) (Ping timeout: 258 seconds)
[03:35:54] <veracioux> ormaaj: I'm not sure I understand what you are saying. When I run export -f foo, then I get the env var BASH_FUNC_foo%%
[03:35:55] <ormaaj> (I mean if the variable wasn't created by running bash with `env` setting the invalid name or something like that)
[03:36:44] <ormaaj> but foo needs to first be a valid function with a valid name
[03:36:56] <veracioux> it is
[03:37:08] <veracioux> i defined it as foo() { echo; }
[03:37:32] <ormaaj> then `typeset -fp` should show it.
[03:38:28] <veracioux> great, that's what I was looking for
[03:38:31] <veracioux> thank you
[03:42:40] <ormaaj> typeset -xp might not show the corresponding environment variable though
[03:45:12] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[03:46:00] *** Joins: michigan (uid507982@id-507982.charlton.irccloud.com)
[03:49:39] *** Quits: sn1tch3r (~sn1tch3r@201-27-147-42.dsl.telesp.net.br) (Quit: Leaving)
[03:52:49] *** Joins: arinov (~arinov@213.194.126.155)
[03:57:03] *** Parts: cmsimon (cmsimon@gateway/vpn/protonvpn/cmsimon) ()
[04:02:48] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[04:04:03] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[04:04:15] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[04:05:12] *** BMCC is now known as mnrmnaugh
[04:07:05] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 252 seconds)
[04:10:07] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 268 seconds)
[04:10:39] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:12:18] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 240 seconds)
[04:12:47] *** Quits: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1) (Ping timeout: 255 seconds)
[04:13:33] *** Joins: metal_egg (~metal0egg@pool-72-94-145-43.phlapa.fios.verizon.net)
[04:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:34] *** Joins: scpxor (~scpxor@gateway/tor-sasl/scpxor)
[04:15:39] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:24:51] *** Quits: fortuno51 (~fortuno51@37.120.156.254) (Remote host closed the connection)
[04:25:05] *** Quits: humky (~humky@user/humky) (Remote host closed the connection)
[04:25:07] *** Joins: fortuno51 (~fortuno51@37.120.156.254)
[04:25:19] *** Joins: humky (~humky@user/humky)
[04:25:29] *** Joins: skapata (~Skapata@user/skapata)
[04:26:26] *** Quits: alzgh (~alzgh@216.155.158.214) (Quit: Client closed)
[04:29:46] *** Quits: akoana (~ah@user/akoana) (Remote host closed the connection)
[04:33:30] *** Quits: waxfire23 (~waxfire@65.119.2.240) (Quit: The Lounge - https://thelounge.chat)
[04:33:39] *** Joins: waxfire238 (~waxfire@65.119.2.240)
[04:36:58] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 240 seconds)
[04:37:56] *** Joins: Crescendo (~Crescendo@user/crescendo)
[04:38:20] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 265 seconds)
[04:39:14] *** Quits: chomwitt (~chomwitt@2a02:587:dc0e:ef00:12c3:7bff:fe6d:d374) (Remote host closed the connection)
[04:40:03] *** Quits: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net) (Quit: ZNC 1.8.2 - https://znc.in)
[04:40:20] *** Joins: lockywolf (~lockywolf@vultr-seoul-openbsd.lockywolf.net)
[04:42:20] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[04:45:35] *** Quits: __jmcantrell__ (~weechat@user/jmcantrell) (Ping timeout: 252 seconds)
[04:45:38] *** Quits: et (~et@user/et) (Ping timeout: 255 seconds)
[04:45:43] *** Quits: BashTux (~BashTux@180-150-9-97.b49609.syd.static.aussiebb.net) (Ping timeout: 256 seconds)
[04:46:07] *** Joins: BashTux (~BashTux@180.149.228.180)
[04:46:41] *** Joins: et (~et@user/et)
[04:48:49] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 250 seconds)
[04:49:21] *** Quits: n4dir (~user@mue-88-130-57-243.dsl.tropolys.de) (Remote host closed the connection)
[04:49:58] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 256 seconds)
[04:52:35] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[04:54:36] *** Quits: BashTux (~BashTux@180.149.228.180) (Ping timeout: 246 seconds)
[04:55:22] *** Joins: BashTux (~BashTux@180-150-9-97.b49609.syd.static.aussiebb.net)
[04:55:44] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 265 seconds)
[04:56:50] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[04:59:06] *** Joins: et_ (~et@user/et)
[05:00:05] *** Quits: __jmcantrell__ (~weechat@user/jmcantrell) (Ping timeout: 265 seconds)
[05:01:32] *** Joins: Crescendo (~Crescendo@user/crescendo)
[05:01:54] *** Quits: et (~et@user/et) (Ping timeout: 240 seconds)
[05:01:54] *** et_ is now known as et
[05:03:36] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[05:05:27] *** Joins: nate2 (~nate@2600:1010:b005:5a54:c5a2:de43:b326:7069)
[05:06:00] *** grettke is now known as grettke-away
[05:06:02] *** grettke-away is now known as grettke
[05:08:18] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 265 seconds)
[05:12:08] *** Joins: Str1x (~d14@2407:7000:89f0:de00:d11a:5058:d2b9:f21f)
[05:12:41] *** Joins: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com)
[05:14:34] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 240 seconds)
[05:15:31] *** Joins: odoood (~odoood@pool-71-251-227-104.rcmdva.fios.verizon.net)
[05:16:16] *** grettke is now known as grettke-away
[05:17:53] *** grettke-away is now known as grettke
[05:18:21] *** Joins: peterrooney (~peter@2604:3d08:1583:5600:222:4dff:fe69:d6ed)
[05:23:43] *** Joins: Guest87 (~Guest87@2600:1007:b106:c5b8:1176:ae:db39:fa79)
[05:28:18] *** Joins: akoana (~ah@user/akoana)
[05:30:48] *** grettke is now known as grettke-away
[05:31:23] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:32:10] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 240 seconds)
[05:35:03] *** Joins: vlm (~vlm@user/vlm)
[05:37:38] *** Joins: skapata (~Skapata@user/skapata)
[05:38:18] *** grettke-away is now known as grettke
[05:41:29] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Quit: Konversation terminated!)
[05:44:19] *** Quits: Starmina (~Starmina@194.110.113.26) (Ping timeout: 258 seconds)
[05:44:27] *** Joins: Starmina_ (~Starmina@194.110.113.26)
[05:44:51] *** Starmina_ is now known as Starmina
[05:45:29] *** Quits: Str1x (~d14@2407:7000:89f0:de00:d11a:5058:d2b9:f21f) (Ping timeout: 255 seconds)
[05:48:21] *** Joins: Starmina_ (~Starmina@194.110.113.26)
[05:49:32] *** Quits: Starmina (~Starmina@194.110.113.26) (Ping timeout: 255 seconds)
[05:49:32] *** Starmina_ is now known as Starmina
[05:51:15] *** Quits: sinaowolabi_ (~SinaOwola@41.190.3.14) (Ping timeout: 276 seconds)
[05:51:39] *** grettke is now known as grettke-away
[05:52:32] *** Joins: Raguile (~Raguile@user/raguile)
[05:54:18] *** Quits: veracioux (~user@5.43.87.160) (Ping timeout: 240 seconds)
[05:55:19] *** Quits: Guest87 (~Guest87@2600:1007:b106:c5b8:1176:ae:db39:fa79) (Quit: Client closed)
[05:55:50] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[06:03:42] *** Joins: nbao (~hot@2804:14c:5bb8:9720:ae9e:17ff:fedf:3e09)
[06:03:56] *** Joins: a1fa (~a1fa@user/a1fa)
[06:03:58] *** Joins: totenkoph (~scythe@user/totenkoph)
[06:04:43] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.1)
[06:04:54] <a1fa> hello.. barring systemd resources, or inittab, is there anyway to ensure process respawn it if it crashes? i have an app that wiil not fork to background, and will have to be nohupped
[06:06:23] <a1fa> currently, i am thinking nohup bash -c 'while true; ./process; done' into users cron (@reboot)
[06:07:21] *** Quits: XV8 (~XV8@2601:5cb:c001:50:7142:b3a2:6cdc:662b) (Quit: Textual IRC Client: www.textualapp.com)
[06:07:37] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 245 seconds)
[06:08:43] <llua> sure
[06:11:50] *** Quits: Lunatrius` (~Lunatrius@77.38.22.128) (Ping timeout: 252 seconds)
[06:13:10] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Read error: Connection reset by peer)
[06:13:23] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[06:15:18] *** Joins: Lunatrius (~Lunatrius@77.38.22.128)
[06:15:24] *** Joins: Guest87 (~Guest87@113.sub-174-245-50.myvzw.com)
[06:18:28] <a1fa> llua: it's ugly ;)
[06:19:38] <llua> ok
[06:19:41] <ormaaj> ... it's a loop
[06:20:01] <Nintendo> It's extra ugly without the "do".
[06:20:16] <llua> barring using an oven, or a lighter, starting a fire with two sticks is ugly too
[06:20:39] <Nintendo> Ovens can get pretty ugly in my experience.
[06:21:10] <ormaaj> set it to "clean"
[06:21:29] <Nintendo> If you want a "pretty" fire, though, consider wrapping ./process in a script and running that instead of ./process itself.
[06:21:37] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[06:21:49] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[06:22:21] *** Joins: YaoNai (~YaoNai@user/yaonai)
[06:22:43] <ormaaj> I did the oven clean thing a while ago. You could feel the radiation 10 feet away.
[06:23:01] <Nintendo> Nice.  Did it actually clean itself?
[06:23:28] <ormaaj> yeah it basically vaporizes everything
[06:23:52] <Nintendo> Like dd on a block device.
[06:24:29] <ormaaj> destroy data
[06:33:28] *** Joins: mac11 (~mac@68.235.43.108)
[06:35:45] *** Joins: leeper (leeper@gateway/vpn/nordvpn/leeper)
[06:37:03] *** Joins: loganlee (~Thunderbi@user/loganlee)
[06:37:44] *** Quits: Guest87 (~Guest87@113.sub-174-245-50.myvzw.com) (Quit: Client closed)
[06:40:42] *** Quits: mac11 (~mac@68.235.43.108) (Ping timeout: 240 seconds)
[06:42:15] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[06:42:32] *** Joins: gschanuel6 (~gschanuel@user/gschanuel)
[06:44:33] *** Joins: Str1x (~d14@103.113.205.79)
[06:46:49] *** Quits: keypusher (keypusher@user/keypusher) (Remote host closed the connection)
[06:48:03] *** Joins: keypusher (keypusher@user/keypusher)
[06:55:14] *** Quits: Str1x (~d14@103.113.205.79) (Ping timeout: 258 seconds)
[06:55:28] *** Quits: gordonfish (~gordonfis@user/gordonfish) (Read error: Connection reset by peer)
[06:55:33] *** Joins: mac11 (~mac@172.58.107.86)
[06:55:41] *** Joins: gordonfish (~gordonfis@user/gordonfish)
[06:56:48] *** Quits: YaoNai (~YaoNai@user/yaonai) (Quit: leaving)
[06:58:02] *** Joins: Str1x (~d14@103.113.205.79)
[06:59:39] *** Joins: Guest87 (~Guest87@2600:1007:b10a:1a8c:add1:1935:214:443)
[07:00:25] <a1fa> ormaaj: yeah -- something about thermal dynamics
[07:00:30] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[07:00:35] <a1fa> laws of thermal dynamics
[07:00:35] *** Quits: Raguile (~Raguile@user/raguile) (Ping timeout: 256 seconds)
[07:00:51] *** Joins: cmsimon (cmsimon@gateway/vpn/protonvpn/cmsimon)
[07:01:01] <a1fa> ovens will get to almost 600F in cleaning cycle
[07:01:25] <a1fa> i dont know if you ever noticed your oven exhaust port.. but that heat has to go somewhere -_-
[07:03:08] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[07:03:42] *** Quits: eqw (~eqw@31.134.178.99) (Ping timeout: 256 seconds)
[07:03:56] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[07:05:35] *** Joins: eqw (~eqw@31.134.178.99)
[07:09:14] *** Joins: bigmac (~mac@172.58.107.86)
[07:10:35] *** Quits: cmsimon (cmsimon@gateway/vpn/protonvpn/cmsimon) (Ping timeout: 265 seconds)
[07:11:53] *** Quits: mac11 (~mac@172.58.107.86) (Ping timeout: 252 seconds)
[07:11:58] *** Joins: cmsimon (cmsimon@gateway/vpn/protonvpn/cmsimon)
[07:13:03] *** Quits: BashTux (~BashTux@180-150-9-97.b49609.syd.static.aussiebb.net) (Ping timeout: 256 seconds)
[07:13:37] *** Joins: BashTux (~BashTux@45.125.247.110)
[07:14:44] *** Joins: nate3 (~nate@2600:1010:b014:ea44:558f:f06a:16ea:88da)
[07:16:10] *** Quits: nate2 (~nate@2600:1010:b005:5a54:c5a2:de43:b326:7069) (Ping timeout: 256 seconds)
[07:16:46] *** Quits: Guest87 (~Guest87@2600:1007:b10a:1a8c:add1:1935:214:443) (Quit: Client closed)
[07:18:16] *** Joins: igemnace (~ian@user/igemnace)
[07:18:28] *** Joins: merazi (~merazi@190.92.33.230)
[07:18:36] *** Quits: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Quit: QUIT)
[07:19:42] *** Parts: cmsimon (cmsimon@gateway/vpn/protonvpn/cmsimon) ()
[07:21:29] *** Joins: jos1 (~jos3@dyndsl-091-248-054-234.ewe-ip-backbone.de)
[07:22:41] *** Quits: BashTux (~BashTux@45.125.247.110) (Ping timeout: 256 seconds)
[07:23:07] *** Joins: BashTux (~BashTux@180-150-9-97.b49609.syd.static.aussiebb.net)
[07:24:02] *** Quits: jos2 (~jos3@dyndsl-091-096-044-236.ewe-ip-backbone.de) (Ping timeout: 255 seconds)
[07:28:00] *** Joins: darkbit (~db@152.32.99.67)
[07:30:43] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:31:10] *** Joins: Atque (~Atque@user/atque)
[07:31:35] *** Joins: gnoo (~gnoo@user/gnoo)
[07:33:34] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 258 seconds)
[07:34:44] *** Joins: cmsimon (cmsimon@gateway/vpn/protonvpn/cmsimon)
[07:37:44] *** Quits: Str1x (~d14@103.113.205.79) (Ping timeout: 252 seconds)
[07:39:06] *** Quits: leeper (leeper@gateway/vpn/nordvpn/leeper) (Quit: Leaving)
[07:40:01] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.2)
[07:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:41:04] *** Parts: cmsimon (cmsimon@gateway/vpn/protonvpn/cmsimon) ()
[07:41:06] *** Quits: nate3 (~nate@2600:1010:b014:ea44:558f:f06a:16ea:88da) (Ping timeout: 240 seconds)
[07:42:04] *** Joins: Guest87 (~Guest87@2600:1007:b10a:e912:8506:43bc:d62d:f25a)
[07:47:46] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[07:51:33] *** Joins: marw (4988ea31b1@knopi.disroot.org)
[07:55:21] *** Joins: Raguile (~Raguile@user/raguile)
[07:57:15] *** Quits: scpxor (~scpxor@gateway/tor-sasl/scpxor) (Ping timeout: 244 seconds)
[07:59:14] <acidsys> what is it called if I want to make an argument call a function?
[08:01:22] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[08:01:44] <rando25892> an alias?
[08:02:24] <rando25892> or file since you source it then it runs the function or functions as far as i know
[08:03:00] <acidsys> no not that complicated just i.e. "./myscript a" should run function a() and "./myscript b" should run function b()
[08:03:23] <acidsys> I guess I can put an if clause that checks the arguments but I kind of remotely remember there was something easier?
[08:03:37] <acidsys> I feel like it's so close but googling could not get me on the term for it
[08:03:51] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 258 seconds)
[08:03:51] *** Quits: Guest31 (~Guest31@S0106001195d728bb.cg.shawcable.net) (Quit: Client closed)
[08:04:19] <ormaaj> https://en.wikipedia.org/wiki/Higher-order_function
[08:05:01] <ormaaj> (bash doesn't have those so not sure what you're asking)
[08:05:09] *** Joins: nate3 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[08:05:16] <acidsys> oh ok sorry maybe I confused something
[08:05:18] <acidsys> thank you
[08:05:24] <ormaaj> oh the name. yeah you can do that. it doesn't really have a name.
[08:05:29] <acidsys> oh
[08:05:46] <acidsys> without an if clause?
[08:07:41] <acidsys> subroutines
[08:08:37] *** Joins: Str1x (~d14@2407:7000:89f0:de00:d11a:5058:d2b9:f21f)
[08:09:12] *** Quits: Guest87 (~Guest87@2600:1007:b10a:e912:8506:43bc:d62d:f25a) (Quit: Client closed)
[08:10:45] <Nintendo> "$1" # This runs your function.
[08:14:11] <ormaaj> # thing_doer() { "$@"; }; thing_doer echo did the thing
[08:14:12] <shbot> ormaaj: did the thing
[08:15:17] *** Joins: kalsko (~rapsu@user/jajaja)
[08:15:23] <acidsys> thank you so much
[08:15:34] <acidsys> it's been a while
[08:18:00] <kalsko> i have a program launcher that executes shell scripts it works well but it wont show the terminal window. is there a way to start a terminal windown inside a script so i could see what happens when commands in script are executed. when i launch script manually i use konsole -e scriptname.sh.
[08:24:59] *** Quits: DaNeenjah (~jake@adsl-74-230-9-66.hsv.bellsouth.net) (Quit: WeeChat 3.2)
[08:26:00] *** Parts: kalsko (~rapsu@user/jajaja) (Leaving)
[08:27:06] *** Quits: nbao (~hot@2804:14c:5bb8:9720:ae9e:17ff:fedf:3e09) (Ping timeout: 240 seconds)
[08:28:08] *** Joins: nbao (~hot@2804:14c:5bb8:9720:ae9e:17ff:fedf:3e09)
[08:28:38] *** Joins: cmsimon (~cmsimon@garza.riseup.net)
[08:28:50] *** Quits: LiftLeft (~LiftLeft@37.19.198.86) (Ping timeout: 255 seconds)
[08:30:49] *** Quits: odoood (~odoood@pool-71-251-227-104.rcmdva.fios.verizon.net) (Ping timeout: 265 seconds)
[08:32:03] *** Quits: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[08:34:03] <cmsimon> re.
[08:35:10] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[08:35:18] <emanuele6> re.
[08:35:52] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Remote host closed the connection)
[08:36:06] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[08:38:00] *** Quits: adanwan_ (~adanwan@gateway/tor-sasl/adanwan) (Remote host closed the connection)
[08:38:24] *** Quits: tejr (~tejr@user/tejr) (Quit: leaving)
[08:42:27] *** Joins: downunder (~downunder@110.151.122.76)
[08:43:15] *** Quits: JanC (~janc@user/janc) (Remote host closed the connection)
[08:45:09] *** Joins: JanC (~janc@user/janc)
[08:47:53] *** Quits: bigmac (~mac@172.58.107.86) (Remote host closed the connection)
[08:48:13] *** Joins: bigmac (~mac@172.58.107.86)
[08:51:46] <ormaaj> https://www.youtube.com/watch?v=qTksCYUgI7s
[08:51:53] *** Quits: cmsimon (~cmsimon@garza.riseup.net) (Read error: Connection reset by peer)
[08:55:53] <a1fa> hey
[08:56:21] <a1fa> so i need to pass an enviroment variable to sudo su - user -c "./dosomething.sh $variable"
[08:56:28] <a1fa> err
[08:56:40] <a1fa> ./dosmething.sh references $variable, and expect to read it from env
[08:56:56] <a1fa> in my script i exported the variable
[08:57:29] <a1fa> but when "the other" script was executed, enviroment was blank
[09:00:02] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[09:01:12] *** Joins: gline_ (~yashi@p508be17a.dip0.t-ipconnect.de)
[09:03:11] *** Quits: merazi (~merazi@190.92.33.230) (Quit: merazi)
[09:04:38] *** Quits: gline (~yashi@p508be576.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[09:05:50] <llua> sounds about right, sudo removed it
[09:08:06] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[09:10:51] *** Quits: ggoes (~gregf@user/ggoes) (Quit: WeeChat 2.3)
[09:11:28] <rwp> a1fa, "su -" initializes to a clean environment.  If you need to pass env vars through then you can't do that.
[09:12:03] *** Joins: vishal (~vishal@fedora/vishal)
[09:13:01] *** Joins: ggoes (~gregf@user/ggoes)
[09:13:20] <rwp> a1fa, You might have better luck with something more along these lines: sudo -u user env variable=$variable ./dosomething.sh
[09:15:56] *** Joins: LiftLeft (~LiftLeft@191.96.150.153)
[09:18:18] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 240 seconds)
[09:20:27] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[09:20:28] *** Joins: timj2 (~timj@236-253-142-46.pool.kielnet.net)
[09:22:09] *** Quits: timj1 (~timj@user/timj) (Ping timeout: 268 seconds)
[09:23:24] *** Quits: magyar (~magyar@user/magyar) (Read error: Connection reset by peer)
[09:24:25] *** Joins: magyar (~magyar@user/magyar)
[09:30:01] *** Quits: riff_IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:30:08] *** Joins: Cleverness (~clevernes@pool-108-54-152-186.nycmny.fios.verizon.net)
[09:30:49] *** Quits: guardian (~guardian@planet-d.net) (Remote host closed the connection)
[09:36:41] *** Quits: Cleverness (~clevernes@pool-108-54-152-186.nycmny.fios.verizon.net) (Quit: Leaving)
[09:41:44] *** Quits: magyar (~magyar@user/magyar) (Ping timeout: 255 seconds)
[09:42:10] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[09:43:16] *** Joins: Atque (~Atque@user/atque)
[09:43:22] *** Quits: Atque (~Atque@user/atque) (Client Quit)
[09:43:23] *** Joins: jetchisel (jetchisel@user/jetchisel)
[09:43:56] *** Joins: Atque (~Atque@user/atque)
[09:44:31] *** Quits: Atque (~Atque@user/atque) (Client Quit)
[09:44:55] <jmcantrell> What does [[ -R name ]] test? the manual says if name is set and is a name reference. I'm not sure what "name reference" refers to here.
[09:45:09] *** Joins: magyar (~magyar@user/magyar)
[09:45:17] *** Joins: Atque (~Atque@user/atque)
[09:45:40] *** Quits: Atque (~Atque@user/atque) (Client Quit)
[09:46:26] *** Joins: Atque (~Atque@user/atque)
[09:46:41] *** Quits: bigmac (~mac@172.58.107.86) (Ping timeout: 255 seconds)
[09:47:32] *** Quits: Atque (~Atque@user/atque) (Client Quit)
[09:48:09] <loganlee> hey guys what does echo "$((2#01110100011000010110101101))" do? thx!
[09:48:21] *** Joins: Atque (~Atque@user/atque)
[09:48:42] <ormaaj> tias
[09:48:52] <emanuele6> loganlee: coverts 01110100011000010110101101 as a binary number to decimal 
[09:48:59] <emanuele6> # echo "$((2#01110100011000010110101101))"
[09:49:00] <shbot> emanuele6: 30508461
[09:49:28] *** Quits: Atque (~Atque@user/atque) (Client Quit)
[09:50:00] <loganlee> # echo "$((2#11111111))"
[09:50:01] <shbot> loganlee: 255
[09:50:04] <loganlee> ok thx!
[09:51:43] *** Quits: Str1x (~d14@2407:7000:89f0:de00:d11a:5058:d2b9:f21f) (Remote host closed the connection)
[09:52:06] *** Joins: Str1x (~d14@2407:7000:89f0:de00:b387:d74e:7f62:7886)
[09:54:31] <loganlee> i can also use bc ;)
[09:55:08] *** Quits: grettke-away (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:55:24] <pj> unfortunately there is no native bash way to go from decimal to binary.
[09:57:04] <emanuele6> pj: that's not true
[09:57:12] <emanuele6> # printf '%b' 255
[09:57:13] <shbot> emanuele6: 255
[09:57:16] <emanuele6> wait
[09:57:44] <pj> %b is not binary
[09:57:46] <pj> %b	expand backslash escape sequences in the corresponding argument
[09:58:05] *** Quits: magyar (~magyar@user/magyar) (Read error: Connection reset by peer)
[09:58:55] *** Joins: magyar (~magyar@user/magyar)
[09:59:09] <emanuele6> there is actually no native way to do it it seems
[09:59:13] *** Joins: sokle_68 (~sokle_68@ppp079167002215.access.hol.gr)
[09:59:19] <pj> correct, that's what I just said
[09:59:31] <pj> you can write a function to do it.
[10:03:09] <emanuele6> jmcantrell: name reference is a type of variable
[10:03:34] <emanuele6> # a=hello; declare -n b=a; [[ -R b ]]; echo "$?" 
[10:03:35] <shbot> emanuele6: 0
[10:04:11] <emanuele6> # help declare |& fgrep -- -n
[10:04:12] <shbot> emanuele6: bash: fgrep: command not found
[10:04:18] <emanuele6> # help declare |& grep -F -- -n
[10:04:19] <shbot> emanuele6:       -n        make NAME a reference to the variable named by its value
[10:05:55] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[10:09:33] <emanuele6> # a=hello b=hi; declare -n ref=a; echo "$ref"; ref=b; echo "$ref"
[10:09:34] <shbot> emanuele6: hello
[10:09:35] <shbot> emanuele6: b
[10:09:48] <emanuele6> # a=hello b=hi; declare -n ref=a; echo "$ref"; declare -n ref=b; echo "$ref"
[10:09:49] <shbot> emanuele6: hello
[10:09:49] <shbot> emanuele6: hi
[10:16:53] <pj> # dec=$RANDOM; printf -v oct '%o' "$dec"; bin=; while IFS= read -r -n 1 c; do bin+="$((c/4))$((c%4/2))$((c%2))"; done < <(printf '%s' "$oct"); shopt -s extglob; echo "${bin##*(0)}"
[10:16:55] <shbot> pj: 11011011110001
[10:17:28] <pj> # dec=$RANDOM; printf -v oct '%o' "$dec"; bin=; while IFS= read -r -n 1 c; do bin+="$((c/4))$((c%4/2))$((c%2))"; done < <(printf '%s' "$oct"); shopt -s extglob; echo "decimal=$dec octal=$oct binary=${bin##*(0)}"
[10:17:29] <shbot> pj: decimal=8273 octal=20121 binary=10000001010001
[10:18:03] <pj> That's about the easiest way I can find to convert to binary natively.
[10:19:09] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[10:19:20] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[10:20:12] *** Joins: scpxor (~scpxor@gateway/tor-sasl/scpxor)
[10:22:25] *** Quits: ferdna (~ferdna@user/ferdna) (Remote host closed the connection)
[10:23:54] *** Joins: rememberYou (~someone@user/rememberyou)
[10:24:32] *** Quits: nate3 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 258 seconds)
[10:28:41] *** Joins: tejr (~tejr@user/tejr)
[10:29:09] *** Quits: scpxor (~scpxor@gateway/tor-sasl/scpxor) (Ping timeout: 244 seconds)
[10:29:31] *** Quits: PinealGlandOptic (~PinealGla@37.115.210.35) (Quit: leaving)
[10:30:23] *** Joins: gnooooo (~gnoo@user/gnoo)
[10:31:16] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Quit: leaving)
[10:32:15] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[10:33:08] *** Quits: yuckey2d (~yuckey2d@66.115.145.202) (Quit: The Lounge - https://thelounge.chat)
[10:33:48] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[10:34:37] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:37:19] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[10:40:01] <pj> so, as a function...
[10:40:05] <pj> # binary()( b=; if (( $1 == 0 )); then printf '0\n'; return; fi; while read -n 1 c; do b+="$((c/4))$((c%4/2))$((c%2))"; done < <(printf '%o' "$1"); shopt -s extglob; printf '%s\n' "${b##*(0)}"; ); binary 35565
[10:40:06] <shbot> pj: 1000101011101101
[10:40:36] <pj> the idea is converting to octal first makes it easy to process each octal digit and turn that into a series of three binary digits.
[10:45:10] *** Joins: yuckey2d (~yuckey2d@66.115.145.202)
[10:47:12] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 272 seconds)
[10:47:33] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[10:52:58] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 240 seconds)
[10:53:11] *** Joins: Adoi (~Adoi@user/adoi)
[10:55:58] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 258 seconds)
[10:57:09] *** Quits: Adoi (~Adoi@user/adoi) (Client Quit)
[10:58:46] *** Joins: easior (~easior@27.115.42.250)
[10:59:07] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 244 seconds)
[11:01:17] *** Quits: reset (~reset@user/reset) (Quit: reset)
[11:03:04] *** Joins: totenkoph (~scythe@user/totenkoph)
[11:05:42] *** Joins: cactushead (~cactus_he@61-245-149-156.3df595.adl.nbn.aussiebb.net)
[11:06:27] *** Joins: jetchisel (jetchisel@user/jetchisel)
[11:10:12] *** Quits: LiftLeft (~LiftLeft@191.96.150.153) (Ping timeout: 256 seconds)
[11:12:10] *** Parts: sokle_68 (~sokle_68@ppp079167002215.access.hol.gr) ()
[11:13:35] *** Joins: Adoi (~Adoi@user/adoi)
[11:13:41] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[11:21:30] <ormaaj> !ormaajbin
[11:21:31] <greybot> # n=117 b=0; e=0 n2b="b+=n/2**e%2*10**e,2**e++>n||n2b" let n2b; printf "%d == 2#%d\n" "$n" "$b" # convert n to binary
[11:21:32] <shbot> greybot: 117 == 2#1110101
[11:29:47] <pj> that looks nice, not sure I can follow it.
[11:30:58] <pj> on, I see
[11:33:21] <ormaaj> !forget ormaajfac
[11:33:22] <greybot> OK, ormaaj
[11:34:26] <ormaaj> !learn ormaajfac # f=n?n--*f:1 let n=10 n=f; echo "$n" # find n factorial
[11:34:26] <greybot> OK, ormaaj
[11:35:05] <pj> I didn't know you could do recursive math that way, interesting.
[11:35:37] <ormaaj> !ormaajpower
[11:35:37] <greybot> Find greatest 2**n where n < j: bash -c 'j=123 n=1 _=_[n*2\<j?n*=2,0:1] let _; echo "$n"'. About equivalent: ghc -e '(\j -> Control.Monad.Fix.fix (\x n -> if n * 2 >= j then n else x (n * 2)) 1) 123'
[11:36:02] *** Quits: debsan (~debsan@2800:810:471:2ee::1000) (Ping timeout: 255 seconds)
[11:36:13] <ormaaj> !ormaajfib
[11:36:13] <greybot> # a=a[++n%20]=a[n]+a[n-1],a a[n=2]=1; echo "${a[@]:a,a=0}"
[11:36:15] <shbot> greybot: 0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584
[11:36:18] <ormaaj> XD
[11:37:09] <ormaaj> all basically the same thing
[11:39:18] <akoana> # decto2-9(){ local q r; ((q=$1 / base, r=$1 % base)); if ((q == 0 && r < base)); then printf '%s\n' "$r$2"; return; elif ((q < base)); then printf '%s\n' "$q$r$2"; return; fi; decto2-9 "$q" "$r$2";}; n=123; base=2; decto2-9 "$n"; base=5; decto2-9 "$n"; base=9 ; decto2-9 "$n"
[11:39:19] <shbot> akoana: 1111011
[11:39:19] <shbot> akoana: 443
[11:39:19] <shbot> akoana: 146
[11:39:29] <pj> yeah, well it has some similar ideas to what I came up with, but I broke it down into octal chars and processed it one char at a time.
[11:39:55] <pj> and I had no idea you could recursively evaluate a variable like that.
[11:40:10] <akoana>  # works only for bases 2..9  ):
[11:41:25] *** Joins: frostwork (~frostwork@user/frostwork)
[11:41:35] *** Quits: Namarrgon (~Namarrgon@archlinux/op/Namarrgon) (Ping timeout: 258 seconds)
[11:41:53] <pj> yeah, well.
[11:43:25] *** Joins: kspalaiologos (~kspalaiol@user/kspalaiologos)
[11:47:49] *** Joins: Namarrgon (~Namarrgon@archlinux/op/Namarrgon)
[11:50:52] *** Joins: Guest6620 (~Guest66@223.104.65.94)
[11:51:30] *** Quits: Nintendo (~weechat@user/great) (Quit: Game over.)
[11:56:25] <ormaaj> It doesn't loopify the "tail" expressions so there's a low-ish limit for variable indirection
[11:56:35] <ormaaj> https://git.savannah.gnu.org/cgit/bash.git/tree/expr.c?h=devel#n262
[11:59:30] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 256 seconds)
[11:59:58] *** Quits: Guest6620 (~Guest66@223.104.65.94) (Ping timeout: 246 seconds)
[12:02:29] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[12:02:47] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[12:05:13] *** Joins: ferdna (~ferdna@user/ferdna)
[12:10:18] *** Joins: Guest7 (~Guest7@223.104.65.94)
[12:11:49] *** Quits: cim (~cim@205.185.117.110) (Quit: The Lounge - https://thelounge.chat)
[12:12:27] *** Joins: cim (~cim@205.185.117.110)
[12:15:04] *** Quits: cmc (~methos@gateway/tor-sasl/cmc) (Ping timeout: 244 seconds)
[12:15:41] *** Joins: ttyX (~ttyX@182.68.164.252)
[12:15:43] *** Quits: cactushead (~cactus_he@61-245-149-156.3df595.adl.nbn.aussiebb.net) (Quit: Leaving)
[12:16:21] *** Joins: cactushead (~cactus_he@61-245-149-156.3df595.adl.nbn.aussiebb.net)
[12:17:10] *** Quits: comrumino (~comrumino@li87-103.members.linode.com) (Quit: byeee)
[12:17:25] *** Joins: comrumino (~comrumino@li87-103.members.linode.com)
[12:17:41] *** Quits: cactushead (~cactus_he@61-245-149-156.3df595.adl.nbn.aussiebb.net) (Read error: Connection reset by peer)
[12:18:00] *** Joins: cactushead (~cactus_he@61-245-149-156.3df595.adl.nbn.aussiebb.net)
[12:18:07] *** Joins: cmc (~methos@gateway/tor-sasl/cmc)
[12:18:46] *** Quits: rinwa (~rinwa@141.226.14.13) (Ping timeout: 256 seconds)
[12:19:23] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[12:20:46] *** Quits: Guest7 (~Guest7@223.104.65.94) (Quit: Client closed)
[12:20:52] <akoana> ormaaj: very nice!
[12:21:27] *** Quits: mat001 (~mat001@c-73-223-64-126.hsd1.ca.comcast.net) (Ping timeout: 258 seconds)
[12:25:13] *** Joins: Guest23 (~Guest23@223.104.65.94)
[12:27:18] *** Quits: Betal (~Beta@user/betal) (Quit: WeeChat 3.2)
[12:29:19] *** Quits: easior (~easior@27.115.42.250) (Quit: Leaving)
[12:33:27] *** Joins: sjhfkdhfkjhsfjs (~sjhfkdhfk@208.131.191.55)
[12:33:49] *** Joins: foetus (~norbi@77.64.145.219)
[12:34:23] *** Quits: foetus (~norbi@77.64.145.219) (Client Quit)
[12:41:32] *** Quits: sjhfkdhfkjhsfjs (~sjhfkdhfk@208.131.191.55) (Quit: Client closed)
[12:44:36] *** Joins: rinwa (~rinwa@212-29-253-205.bb.netvision.net.il)
[12:46:12] *** Joins: rendar (~rendar@user/rendar)
[12:48:33] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[12:58:22] *** Joins: furrymcg1e (~devuan@31.179.186.66)
[12:58:58] *** Quits: ackyshake (~ackyshake@user/ackyshake) (Ping timeout: 240 seconds)
[12:59:02] *** furrymcg1e is now known as furrymcgee
[13:07:47] *** Joins: earnestly (~earnest@user/earnestly)
[13:09:10] *** Parts: Guest23 (~Guest23@223.104.65.94) ()
[13:11:43] <loganlee> # :
[13:11:44] <shbot> loganlee: no output
[13:12:51] *** mnrmnaugh is now known as ID-10-T
[13:13:03] *** ID-10-T is now known as mnrmnaugh
[13:13:54] *** mnrmnaugh is now known as BMCC
[13:15:11] *** BMCC is now known as mnrmnaugh
[13:15:28] *** Joins: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479)
[13:16:12] *** Quits: b0b (~bob@user/b0b) (Quit: o/)
[13:16:21] *** Joins: Axiomatik (~Axiomatik@83-91-97-60-cable.dk.customer.tdc.net)
[13:16:25] *** Joins: b0b (~bob@user/b0b)
[13:31:54] *** Quits: Str1x (~d14@2407:7000:89f0:de00:b387:d74e:7f62:7886) (Ping timeout: 240 seconds)
[13:40:08] *** Quits: rigid (~rigid@user/rigid) (Quit: +++ ATH)
[13:42:03] *** Joins: rigid (~rigid@ip4d169c7e.dynamic.kabel-deutschland.de)
[13:42:03] *** Quits: rigid (~rigid@ip4d169c7e.dynamic.kabel-deutschland.de) (Changing host)
[13:42:03] *** Joins: rigid (~rigid@user/rigid)
[13:43:35] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[13:46:32] *** Joins: sockets (~sockets-g@user/sockets)
[13:47:02] <loganlee> guys how to modify this getopts so that Usage msg is displayed when no args are passed? https://termbin.com/adyy
[13:51:09] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[13:52:46] <geirha> if (( $# == 0 )); then usage; exit 1; fi
[13:54:27] *** Joins: Adoi (~Adoi@user/adoi)
[13:54:35] *** Quits: cactushead (~cactus_he@61-245-149-156.3df595.adl.nbn.aussiebb.net) (Quit: Leaving)
[13:56:17] <loganlee> geirha: i was thinking there must be a way to do it in getopts
[13:56:21] *** Joins: Atque (~Atque@user/atque)
[13:56:23] *** Quits: keypusher (keypusher@user/keypusher) (Remote host closed the connection)
[13:56:47] <loganlee> tried *) case but doesn't work?
[13:56:57] *** Quits: Atque (~Atque@user/atque) (Client Quit)
[13:58:54] <geirha> I don't see how
[13:59:38] <geirha> well, I guess you can run getopts once before the loop and check its exit status
[14:00:25] <geirha> or just see if OPTIND is 1 after the loop
[14:01:30] *** Quits: tejr (~tejr@user/tejr) (Ping timeout: 244 seconds)
[14:03:37] *** Joins: tejr (~tejr@user/tejr)
[14:04:15] *** Joins: keypusher (keypusher@user/keypusher)
[14:05:39] <loganlee> i'll just add h) case for help thx
[14:09:21] *** Quits: Raguile (~Raguile@user/raguile) (Ping timeout: 246 seconds)
[14:15:06] *** Quits: Guest254 (ianmacd@faust.caliban.org) (Remote host closed the connection)
[14:18:20] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[14:20:20] <loganlee> guys https://termbin.com/4dook               if i do ./myscript -a -fc it says "option a with option arg -fc selected!". how to prevent this?
[14:20:20] *** Quits: marlinc (~marlinc@user/marlinc) (Ping timeout: 268 seconds)
[14:21:20] *** Joins: j0hnny (kadnsjkfnw@2607:5300:60:21b::1)
[14:30:30] *** Joins: Atque (~Atque@user/atque)
[14:31:35] *** Joins: marlinc (~marlinc@user/marlinc)
[14:31:36] <geirha> as expected
[14:31:58] *** Joins: veracioux (~user@5.43.87.160)
[14:32:14] <geirha> what is there to prevent? this is standard option parsing. It's how any sane command parses options
[14:32:30] <loganlee> geirha: but -f and -c are known arguements
[14:32:31] *** Joins: szutt (~szutt@116.37.2.145)
[14:32:49] <geirha> yes, but you passed them as argument to the -a option
[14:33:04] <loganlee> ok thx!
[14:33:13] <loganlee> i guess it's a normal behavior
[14:33:21] <geirha> the proper error message for that is something like  "no such host: -fc" when you try to use the hostname later on
[14:33:28] <loganlee> yep
[14:33:34] <izabera> i don't know anything that would parse -fc as options there
[14:35:14] <loganlee> izabera: -fc means -f and -c
[14:35:53] <izabera> dude
[14:36:40] *** Quits: sockets (~sockets-g@user/sockets) (Read error: Connection reset by peer)
[14:36:49] *** Joins: ianmacd (ianmacd@faust.caliban.org)
[14:36:57] <izabera> # printf %\\n foo bar baz | grep -e foo -e bar -v
[14:36:59] <shbot> izabera: bash: printf: `\': invalid format character
[14:37:04] <izabera> err
[14:37:08] <izabera> # printf %s\\n foo bar baz | grep -e foo -e bar -v
[14:37:09] <shbot> izabera: baz
[14:37:14] <izabera> vs
[14:37:15] *** ianmacd is now known as Guest282
[14:37:21] <izabera> # printf %s\\n foo bar baz | grep -e -v foo -e bar
[14:37:22] <shbot> izabera: grep: foo: No such file or directory
[14:37:46] <izabera> loganlee: stupid grep doesn't understand that -v is an option, right?
[14:38:15] <geirha> why would anyone want to search with "-v" as a regex?
[14:38:27] <izabera> ynot
[14:39:04] <izabera> loganlee: actually i do know something that parses options like you , and it's bash, and it's dumb and confusing and nobody knows that it works like that
[14:39:18] <geirha> they can just pass it through rev and grep for v- instead. e.z.
[14:39:20] <izabera> like you *want to
[14:40:10] <geirha> wait, it does?
[14:40:27] <izabera> # bash -c 'echo /!(bin)'
[14:40:28] <shbot> izabera: bash: -c: line 1: syntax error near unexpected token `('
[14:40:29] <shbot> izabera: bash: -c: line 1: `echo /!(bin)'
[14:40:38] <izabera> # bash -c -O extglob 'echo /!(bin)'
[14:40:39] <shbot> izabera: /dev /etc /init /lib /lib64 /proc /root /tmp /usr /var
[14:40:52] <pj> izabera: grep -e -v thinks you're passing -v as the pattern for -e
[14:40:54] <geirha> ah, but -c is a flag option
[14:41:06] <izabera> pj: that explains it, thanks
[14:41:24] *** Joins: The_Loko (~The_Loko@86.127.235.231)
[14:41:27] *** Joins: sockets (~sockets-g@user/sockets)
[14:41:43] <geirha> since it's usually the last option, people (including me) assumes it's   -c string   until they read the manual
[14:42:20] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 252 seconds)
[14:44:07] <izabera> # bash -c -Oao extglob errexit 'echo /!(bin); a=x; declare -p a; false; echo meow'
[14:44:09] <shbot> izabera: /dev /etc /init /lib /lib64 /proc /root /tmp /usr /var
[14:44:09] <shbot> izabera: declare -x a="x"
[14:44:21] <izabera> that's very far from standard opt parsing
[14:44:41] <izabera> and nobody likes it
[14:45:37] <izabera> get a free 1h ban from #bash by expressing support for this 
[14:45:54] *** Quits: sockets (~sockets-g@user/sockets) (Ping timeout: 240 seconds)
[14:46:52] *** Quits: kspalaiologos (~kspalaiol@user/kspalaiologos) (Quit: Leaving)
[14:47:08] *** Joins: sockets (~sockets-g@user/sockets)
[14:48:20] * ormaaj doesn't get it
[14:48:25] <izabera> what
[14:48:28] <ormaaj> random false?
[14:48:36] <izabera> what
[14:48:49] <ormaaj>  false; echo meow
[14:49:04] <izabera> meow is not printed because errexit
[14:49:17] <ormaaj> oooh missed errexit
[14:49:45] * ormaaj doesn't support this.
[14:49:47] <ormaaj> :)
[14:49:48] <izabera> right
[14:49:50] <izabera> no ban
[14:53:21] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 276 seconds)
[14:56:09] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[14:56:10] <geirha> yeah ok, THAT is weird
[14:56:36] <geirha> Let's grab the pitchforks and head on over to bug-bash
[14:57:27] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[15:01:50] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 265 seconds)
[15:03:36] *** Joins: jetchisel (jetchisel@user/jetchisel)
[15:03:43] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[15:06:18] *** Quits: darxun (sid504814@id-504814.tinside.irccloud.com) (Ping timeout: 240 seconds)
[15:07:33] *** Joins: darxun (sid504814@id-504814.tinside.irccloud.com)
[15:08:33] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[15:09:45] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[15:16:17] *** Joins: bigmac (~mac@172.58.142.128)
[15:24:17] *** Joins: Adoi (~Adoi@user/adoi)
[15:25:21] *** Joins: lavaball (felix@31.204.155.215)
[15:29:26] <emanuele6> !learn find-- `find "$dir" -- -type f': -- has no effect in find(1); it does not prevent $dir from being interpreted as an option. you can use this as a workaround `find "${dir/#-/./-}" -- -type f' (prepend './' to $dir only if $dir begins with '-')
[15:29:27] <greybot> OK, emanuele6
[15:30:09] <ormaaj> bug?
[15:30:19] <emanuele6> no, intended
[15:30:27] <ormaaj> how come?
[15:30:41] <emanuele6> search '--' in the man page for find(1)
[15:32:24] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Remote host closed the connection)
[15:32:47] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[15:33:10] <ormaaj> but find only really supports those few options that nobody ever uses anyway and they're only allowed before all the normal -something "options"
[15:34:03] <emanuele6> yeah, i also think they could've supported it
[15:34:12] <emanuele6> but it is what it is :|
[15:35:33] <ormaaj> "it would work but doesn't because the way gnu find works is ..."
[15:36:14] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[15:36:47] *** Quits: bigmac (~mac@172.58.142.128) (Ping timeout: 255 seconds)
[15:37:17] *** Joins: mac11 (~mac@172.58.142.128)
[15:40:41] *** Quits: downunder (~downunder@110.151.122.76) (Quit: WeeChat 3.2)
[15:41:17] <emanuele6> !forget find--
[15:41:17] <greybot> OK, emanuele6
[15:41:26] <emanuele6> !learn find-- `find "$dir" -- -type f': -- has no effect in find(1); it does not prevent $dir from being interpreted as an option. you can use this as a workaround `find "${dir/#-/./-}" -type f' (prepend './' to $dir only if $dir begins with '-')
[15:41:26] <greybot> OK, emanuele6
[15:43:32] *** Quits: mac11 (~mac@172.58.142.128) (Ping timeout: 255 seconds)
[15:43:50] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[15:56:04] *** Quits: sockets (~sockets-g@user/sockets) (Read error: Connection reset by peer)
[15:56:34] *** Quits: ztrawhcse (eschwartz@archlinux/bugwrangler/eschwartz) (Quit: A random quit message)
[15:57:12] *** Joins: elibrokeit (eschwartz@archlinux/bugwrangler/eschwartz)
[16:01:14] *** Joins: sockets (~sockets-g@user/sockets)
[16:02:08] *** Quits: sdu (~doo@185.44.146.64) (Quit: leaving)
[16:02:27] *** Joins: thiras (~thiras@user/thiras)
[16:05:55] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[16:11:55] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[16:12:26] *** Joins: fortuno51_ (~fortuno51@37.120.156.254)
[16:13:22] *** Quits: fortuno51 (~fortuno51@37.120.156.254) (Ping timeout: 265 seconds)
[16:15:18] *** Quits: metal_egg (~metal0egg@pool-72-94-145-43.phlapa.fios.verizon.net) (Remote host closed the connection)
[16:16:26] *** Quits: Axiomatik (~Axiomatik@83-91-97-60-cable.dk.customer.tdc.net) (Ping timeout: 258 seconds)
[16:26:07] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[16:27:07] *** Joins: seninha (~seninha@user/seninha)
[16:28:57] <geirha> -- normally ends option parsing, so putting it AFTER the argument you want to not be treated as an option defeats the purpose regardless, no?
[16:29:21] <geirha> and -type is not an option, it's an operand
[16:31:44] <ormaaj> it's just an argument that acts as an option (i think). Same way POSIX treats `echo -[ne]`
[16:34:41] <geirha> they are more like the operators of test
[16:42:11] <akoana> I agree with geirha, -- means "end-of-options" and therefore comes after 0-n options
[16:43:06] <akoana> so I really don't get what emanuele6's problem is...
[16:43:42] <emanuele6> what do you mean?
[16:44:28] <ormaaj> emanuele6 said he agreed.
[16:45:43] <geirha> the factoid implies -type is an option, which will just add more confusion in my opinion
[16:45:57] *** Joins: easior (~easior@58.247.141.31)
[16:46:05] <pj> find -- "$dir" should work, I think
[16:46:14] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[16:46:30] <akoana> no worries, I just find the !learn ... text a bit misleading/tautological as -- has no influence on preceeding "elements"
[16:47:03] <geirha> # touch ./-H; find -- -H -ls
[16:47:03] *** Joins: Str1x (~d14@2407:7000:89f0:de00:b387:d74e:7f62:7886)
[16:47:04] <shbot> geirha: find: unknown predicate `-H'
[16:47:05] <pj> # mkdir -p foo/{foo,bar,baz}; dir=foo; find -- "$dir"
[16:47:14] <shbot> pj: foo
[16:47:14] <shbot> pj: foo/baz
[16:47:14] <shbot> pj: and so forth... (but now the pastebin is sick of me)
[16:47:22] <pj> # mkdir -p -- -foo/{foo,bar,baz}; dir=foo; find -- "$dir"
[16:47:23] <shbot> pj: find: 'foo': No such file or directory
[16:47:34] <geirha> nah, it doesn't work because all the operands also start with -
[16:47:36] <pj> # mkdir -p -- -foo/{foo,bar,baz}; dir=-foo; find -- "$dir"
[16:47:37] <shbot> pj: find: unknown predicate `-foo'
[16:47:51] <pj> yeah, you get this ^^^^^^
[16:48:01] <emanuele6> !forget find--
[16:48:01] <greybot> OK, emanuele6
[16:48:08] <geirha> -- only protects against -H -P and -L being treated as options, which is meaningless
[16:49:06] <geirha> !--
[16:49:06] <greybot> The special option -- means "end of options" to every POSIX command except echo and test, and to many other commands. E.g. «mv -- *.png /somedir» (in case one of the filenames begins with "-"). See <http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap12.html#tag_12_02> and <http://wiki.bash-hackers.org/dict/terms/end_of_options>
[16:49:27] <geirha> makes more sense to just add find along with echo and test there
[16:49:47] <emanuele6> !learn find-- `find "$dir" -- -type f': -- has no effect in find(1); it does not force find(1) to treat $dir as the reference directory argument. you can use `find "${dir/#-/./-}" -type f' as a workaround (i.e. prepend './' to $dir only if $dir begins with '-')
[16:49:47] <greybot> OK, emanuele6
[16:49:49] <pj> kind of, it's technically correct
[16:50:09] <geirha> that looks better
[16:50:11] *** Joins: mat001 (~mat001@c-73-223-64-126.hsd1.ca.comcast.net)
[16:50:17] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[16:50:44] <pj> -- works for find, but the problem is it only works to stop option parsing, it doesn't stop the parsing of find "predicates".
[16:51:25] <emanuele6> !forget find--
[16:51:25] <greybot> OK, emanuele6
[16:51:40] <emanuele6> !learn find-- `find "$dir" -- -type f': the -- does not force find(1) to treat $dir as the reference directory argument. you can use `find "${dir/#-/./-}" -type f' as a workaround (i.e. prepend './' to $dir only if $dir begins with '-')
[16:51:40] <greybot> OK, emanuele6
[16:52:31] <akoana> emanuele6: why do you connect -- with the preceeding dir in that text?
[16:52:50] <pj> that rubs me the wrong way because you're purring the -- after the "$dir" which to someone who knows how "--" works would just say, "of course it doesn't work, you're putting -- in the wrong place"
[16:52:58] <pj> *putting
[16:53:53] <emanuele6> but i've seen it used that way with find :/
[16:53:59] <emanuele6> !forget find--
[16:54:00] <greybot> OK, emanuele6
[16:55:11] <emanuele6> !learn find$ `find "$dir" -- -type f': this is problematic if $dir starts with '-'; a solution is to use `find "${dir/#-/./-}" -type f' (i.e. prepend './' to $dir only if $dir begins with '-')
[16:55:11] <greybot> OK, emanuele6
[16:55:17] <pj> I would just not bother trying to explain the whole -- not working part and just say, "if you want to pass a variable as the reference directory to find you should use `find "${dir/#-/./-}" to prevent find from attempting to parse directory names that begin with "-" as a predicate."
[16:55:22] <geirha> Well -- is just completely useless for find that's all
[16:55:30] <pj> or something like that.
[16:55:34] <pj> don't even mention the --
[16:55:45] <emanuele6> !forget find
[16:55:45] <greybot> OK, emanuele6
[16:55:48] <emanuele6> oops
[16:56:00] <emanuele6> can that be undone?
[16:56:06] <emanuele6> !forget find$
[16:56:07] <greybot> OK, emanuele6
[16:56:08] <pj> just learn it again
[16:56:24] <emanuele6> !learn find$ `find "$dir" -type f' is problematic if $dir starts with '-'; a solution is to use `find "${dir/#-/./-}" -type f' (i.e. prepend './' to $dir only if $dir begins with '-')
[16:56:24] <greybot> OK, emanuele6
[16:57:37] <pj> !learn find http://mywiki.wooledge.org/UsingFind
[16:57:37] <greybot> OK, pj
[16:57:47] <pj> !find
[16:57:48] <greybot> http://mywiki.wooledge.org/UsingFind
[16:58:29] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Ping timeout (120 seconds))
[16:58:43] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[17:00:41] <pj> geirha: and yeah, I agree -- is useless for find, it technically works, but due to the way that find parses predicates it's just useless.
[17:01:40] *** Quits: easior (~easior@58.247.141.31) (Ping timeout: 258 seconds)
[17:02:08] <emanuele6> yes, it technically does work; i thought it was just a no-op initially
[17:02:42] <emanuele6> # find -- -print
[17:02:43] <shbot> emanuele6: .
[17:02:43] <shbot> emanuele6: ./.mkshrc
[17:02:43] <shbot> emanuele6: ./.bashrc
[17:02:47] <emanuele6> # find -print --
[17:02:48] <shbot> emanuele6: find: unknown predicate `--'
[17:03:01] <emanuele6> # find -- -H -print
[17:03:03] <shbot> emanuele6: find: unknown predicate `-H'
[17:03:11] <emanuele6> # find -H -- -print
[17:03:12] <shbot> emanuele6: .
[17:03:12] <shbot> emanuele6: ./.mkshrc
[17:03:12] <shbot> emanuele6: ./.bashrc
[17:04:11] *** Joins: gabriele (~gabriele@user/gabriele)
[17:04:49] *** Quits: szutt (~szutt@116.37.2.145) (Ping timeout: 246 seconds)
[17:04:51] <pj> also find * is unsafe, it should be find ./*
[17:04:52] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[17:07:20] *** Joins: szutt (~szutt@116.37.2.145)
[17:10:06] <emanuele6> what's the point of using `find ./*'?
[17:11:00] <akoana> # touch ./-minus ; find ./* find *
[17:11:01] <shbot> akoana: find: unknown predicate `-minus'
[17:11:12] <akoana> # touch ./-minus ; find ./*; find *
[17:11:13] <shbot> akoana: ./-minus
[17:11:13] <shbot> akoana: find: unknown predicate `-minus'
[17:11:35] <emanuele6> so what?
[17:11:38] *** Joins: magla (~gelignite@55d4d566.access.ecotel.net)
[17:11:46] <emanuele6> # touch ./-minus ./a ; find ./*; find *
[17:11:47] <shbot> emanuele6: ./-minus
[17:11:48] <shbot> emanuele6: ./a
[17:11:48] <shbot> emanuele6: find: unknown predicate `-minus'
[17:12:00] <akoana> ./* prevents a filename expansion to appear as predicate for find
[17:12:04] <emanuele6> oh, find can take multile references?
[17:12:23] <pj> yes
[17:12:45] <emanuele6> find's syntax feels kind of stupid
[17:14:38] <heiner> that's until you start using dd(1) ;-)
[17:15:02] *** Joins: easior (~easior@183.131.110.43)
[17:16:39] <akoana> # touch ./-{a,l}; ls ./* ; ls * # not really find specific
[17:16:48] <shbot> akoana: ./-a  ./-l
[17:16:48] <shbot> akoana: total 8
[17:16:48] <shbot> akoana: etc... ( http://ix.io/3u2E )
[17:17:06] <akoana> # touch ./-{a,l}; ls * # 
[17:17:24] <shbot> akoana: total 8
[17:17:24] <shbot> akoana: -rw-r--r--  1 root root   0 Jul 25 12:47 -a
[17:17:24] <shbot> akoana: etc... ( http://ix.io/3u2F )
[17:18:05] <akoana> filename expansion can generate fake options
[17:18:26] *** Quits: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479) (Quit: tech_exorcist)
[17:18:59] <pj> # mkdir foo; touch foo/.bar; dir=foo; ( shopt -s dotglob failglob; : "$dir"/*; ) 2>/dev/null || echo "Directory $dir is empty" # I still like this one
[17:19:01] <shbot> pj: no output
[17:19:10] <pj> # mkdir foo; dir=foo; ( shopt -s dotglob failglob; : "$dir"/*; ) 2>/dev/null || echo "Directory $dir is empty" # I still like this one
[17:19:11] <shbot> pj: Directory foo is empty
[17:21:11] <akoana> heh, nasty...
[17:21:19] <earnestly> # printf '#!/bin/sh\necho hello\n' > s; chmod +x s; mkdir -- -h; mv -- s -h; PATH=. -h/s # To fix this use: #!/bin/sh --
[17:21:21] <shbot> earnestly: /bin/sh: 0: Illegal option -h
[17:23:29] <earnestly> (This problem happened to me in a real world case, coincidently just after I learned about its existence)
[17:24:22] <earnestly> The test log output was just repeated instances of bash --help output, fortunately
[17:26:06] <akoana> lol, still not very helpful I guess...
[17:26:35] *** Joins: malina (~malina@user/malina)
[17:27:13] *** Quits: szutt (~szutt@116.37.2.145) (Ping timeout: 246 seconds)
[17:27:35] <earnestly> At least it was "invalid option" and not randomly valid...
[17:28:30] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Ping timeout: 258 seconds)
[17:29:56] <pj> akoana: nasty?  It's just a trick i use for easy detection of whether a directory is empty or not.
[17:30:05] <pj> !empty
[17:30:05] <greybot> empty is a lightweight alternative to the ''expect'' tool for automating interactive programs: http://empty.sourceforge.net/
[17:30:09] <pj> bleh
[17:30:17] <pj> !faq empty
[17:30:17] <greybot> https://mywiki.wooledge.org/BashFAQ/004 -- How can I check whether a directory is empty or not?  How do I check for any *.mpg files, or count how many there are?
[17:30:28] <pj> and it's not mentioned on this page ^^^^^
[17:31:26] <pj> why go to all the trouble of setting an array and counting array elements when you can just use failglob?
[17:31:30] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: Textual IRC Client: www.textualapp.com)
[17:32:03] *** Joins: szutt (~szutt@116.37.2.145)
[17:32:12] <earnestly> Yeah it's nice, even if a bit tricksey
[17:34:21] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[17:34:42] *** Quits: easior (~easior@183.131.110.43) (Ping timeout: 240 seconds)
[17:34:46] <akoana> pj: would be nice to add it then to the BashFAQ...
[17:35:12] *** Joins: easior (~easior@183.131.110.43)
[17:37:06] *** Joins: scpxor (~scpxor@gateway/tor-sasl/scpxor)
[17:37:33] *** Joins: docmax (~docmax@dynamic-077-003-195-147.77.3.pool.telefonica.de)
[17:37:35] <docmax> ssh zeus "for dev in $(usbip list -l | awk '/busid/ {print $3}'); do usbip unbind -b $dev; done"
[17:37:50] <docmax> this doesnt work with ""
[17:38:01] <docmax> how can i fix?
[17:38:15] *** Joins: ttyX_ (~ttyX@122.179.197.163)
[17:38:43] <earnestly> !ssh
[17:38:43] <greybot> Secure SHell (#openssh, http://mywiki.wooledge.org/CategorySsh). To run rm "$localVar" remotely, use: printf 'rm %q\n' "$localVar" | ssh user@host bash
[17:39:03] <pj> there's @Q now as well
[17:39:06] <earnestly> Hm
[17:39:07] *** Quits: szutt (~szutt@116.37.2.145) (Ping timeout: 246 seconds)
[17:39:29] <earnestly> Really want faq 96
[17:39:58] <pj> also, you're relying on word-splitting from the result of the first usbip command, so you need something more than that.
[17:39:59] <earnestly> The proper solution is in that 'q' even if the 'q' isn't exactly what they're asking
[17:40:11] <earnestly> !faq 96 > docmax 
[17:40:12] <greybot> docmax : https://mywiki.wooledge.org/BashFAQ/096 -- ssh eats my word boundaries!  I can't do ssh remotehost make CFLAGS="-g -O"!
[17:40:27] <earnestly> Not what you're asking, but see how it uses a heredoc to provide the script
[17:40:39] *** Quits: ttyX (~ttyX@182.68.164.252) (Ping timeout: 252 seconds)
[17:40:46] <earnestly> ssh is surprisingly shit at running commands remotely
[17:40:50] <pj> oh, and are you intending for usbip list -l | awk '/busid/ {print $3}' to be run on the local or remote host?
[17:41:23] <pj> ...because the way the command is written now it will be run on the local host.
[17:41:44] <docmax> yes all on remote, and its working there
[17:42:08] *** Joins: sinaowolabi_ (~SinaOwola@160.152.101.57)
[17:42:24] <pj> you have " ...$()..." the $() is interpolated on the local host, and therefore it is run on the local host.
[17:42:36] <pj> unless what you typed in channel is different from what you're actually using.
[17:42:47] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 255 seconds)
[17:42:59] <docmax> what??
[17:43:13] <docmax> i want this line executed on remote:
[17:43:15] <docmax> for dev in $(usbip list -l | awk '/busid/ {print $3}'); do usbip unbind -b $dev; done
[17:43:22] <docmax> how can i do this?
[17:43:39] <docmax> its working locally
[17:43:45] <pj> you probably want to single-quote the line, instead of double-quote it.
[17:43:47] *** Joins: szutt (~szutt@116.37.2.145)
[17:43:48] <earnestly> With a quoted heredoc
[17:43:50] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 258 seconds)
[17:43:55] <pj> yeah, or a heredoc
[17:45:10] <earnestly> E.g. https://0x0.st/-WbP.txt
[17:45:32] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
[17:46:13] <pj> that's a good one, though not sure why you're using ! for the docname
[17:46:30] <earnestly> Learned it from plan9 scripts, looks nice
[17:46:32] <docmax> but where is "for"?
[17:46:43] <pj> docmax: he's using while instead
[17:46:50] <earnestly> !faq 1 > docmax 
[17:46:50] <greybot> docmax : https://mywiki.wooledge.org/BashFAQ/001 -- How can I read a file (data stream, variable) line-by-line (and/or field-by-field)?
[17:47:17] *** Quits: sockets (~sockets-g@user/sockets) (Ping timeout: 258 seconds)
[17:47:22] <docmax> ok, but it should be possible to send my line to remote??
[17:47:49] <earnestly> Sure, it needs to be literally quoted (and the inner single quotes also escaped properly)
[17:47:55] <pj> docmax: the whole thing is run on the remote in his example.
[17:48:04] *** Joins: gabriele (~gabriele@user/gabriele)
[17:48:25] <docmax> earnestly, can you correct my line to understand please?
[17:48:30] <pj> earnestly: wouldn't you want to single-quote the heredoc?
[17:48:34] *** Quits: szutt (~szutt@116.37.2.145) (Ping timeout: 246 seconds)
[17:48:43] <earnestly> pj: The heredoc in my example is quoted, see \!
[17:48:50] <pj> oh, okay
[17:48:52] <earnestly> pj: \EOF 'EOF' same thing
[17:48:58] *** Quits: eqw (~eqw@31.134.178.99) (Remote host closed the connection)
[17:48:59] *** Joins: sockets (~sockets-g@user/sockets)
[17:49:00] <pj> ahhhh, I didn't know that
[17:49:04] <earnestly> \ = quote
[17:49:15] <akoana> heh, I like that, "much" shorter :)
[17:49:17] <earnestly> Although only for the next character
[17:50:02] <earnestly> docmax: No because I think you'll want to use your original line which is incorrect.  If you want to continue with it, then the least you can do is learn how to quote it properly
[17:50:33] *** Quits: BashTux (~BashTux@180-150-9-97.b49609.syd.static.aussiebb.net) (Ping timeout: 256 seconds)
[17:50:54] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[17:50:56] *** Parts: abrotman (~abrotman@user/abrotman) ()
[17:51:01] *** Joins: szutt (~szutt@116.37.2.145)
[17:51:06] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[17:51:54] *** Joins: tlaxkit (~hexchat@170.253.39.204)
[17:52:17] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[17:52:27] *** Quits: sze (~sze@216.250.96.102) (Ping timeout: 265 seconds)
[17:52:32] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[17:52:41] *** Quits: ttyX_ (~ttyX@122.179.197.163) (Ping timeout: 255 seconds)
[17:53:03] *** Joins: sze (~sze@216.250.96.102)
[17:53:40] *** Quits: easior (~easior@183.131.110.43) (Ping timeout: 256 seconds)
[17:54:04] <pj> docmax: there is a lot wrong with your original command, including the premise of how you're intending ot use it.  You're not quoting properly and relying on word-splitting of an unquoted expansion which can lead to unpredicatable results.  Also the fact that you're running part of the command locally even though you think you're running it remotely, and attempting to do line splitting with for, and not even correctly, but it's just the wrong tool for the job.
[17:55:28] *** Joins: easior (~easior@183.131.110.43)
[17:55:54] *** Quits: malina (~malina@user/malina) (Ping timeout: 240 seconds)
[17:56:38] *** Quits: easior (~easior@183.131.110.43) (Client Quit)
[17:59:40] *** Joins: sockets_ (~sockets-g@user/sockets)
[18:00:07] *** Quits: sockets (~sockets-g@user/sockets) (Ping timeout: 245 seconds)
[18:00:26] *** Quits: chodonne (~chodonne@ec2-3-18-56-136.us-east-2.compute.amazonaws.com) (Quit: ZNC - https://znc.in)
[18:03:29] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
[18:04:11] *** Joins: Night-Shade (~Tim@ip5b403d56.dynamic.kabel-deutschland.de)
[18:04:19] *** Joins: chodonne (~chodonne@ec2-3-18-56-136.us-east-2.compute.amazonaws.com)
[18:05:45] *** Joins: Atque (~Atque@user/atque)
[18:06:47] <akoana> earnestly: the first time I saw your heredoc quoting style in S.R Bournes book The UNIX System, his example was:  grep <<\:  ... - nice
[18:07:08] <akoana> Bourne's*
[18:09:11] <akoana> (looks a bit like good old Bourne with a beard emoticon)
[18:09:12] *** Joins: ming (~ming@2601:547:a00:7720::88e8)
[18:13:10] *** Joins: cactushead (~cactus_he@61-245-149-156.3df595.adl.nbn.aussiebb.net)
[18:13:33] *** Quits: mw__ (~mw@catv-86-101-13-145.catv.broadband.hu) (Read error: Connection reset by peer)
[18:13:45] *** Joins: mw_ (~mw@catv-86-101-13-145.catv.broadband.hu)
[18:16:06] *** Joins: erri (~meow@52.8.199.178)
[18:19:31] *** Quits: The_Loko (~The_Loko@86.127.235.231) (Ping timeout: 265 seconds)
[18:22:10] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 258 seconds)
[18:22:50] *** Joins: Crescendo (~Crescendo@user/crescendo)
[18:22:50] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[18:25:33] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[18:25:35] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[18:25:50] *** Joins: malina (~malina@user/malina)
[18:33:22] *** Quits: sockets_ (~sockets-g@user/sockets) (Ping timeout: 240 seconds)
[18:34:02] *** Quits: erri (~meow@52.8.199.178) (Quit: decisions were made)
[18:38:02] *** Joins: wwallace (~afernande@63.240.73.102)
[18:38:25] *** Quits: wwallace (~afernande@63.240.73.102) (Changing host)
[18:38:25] *** Joins: wwallace (~afernande@user/wwilliam)
[18:38:25] *** wwallace is now known as wwilliam
[18:38:35] <wwilliam> How come?
[18:38:41] <wwilliam> dt="date +%y%m%d"
[18:38:42] <wwilliam> ssh "$srvr" < bash "$sc" && ssh "$srvr" 'cat *"$1"*"$dt"*'
[18:38:53] <wwilliam> Line 4:
[18:38:54] <wwilliam> dt="date +%y%m%d"
[18:38:56] <wwilliam> ^-- SC2034: dt appears unused. Verify use (or export if used externally).
[18:39:32] <earnestly> Because you quoted its expansion literally
[18:39:43] <llua> its enclosed in '' to the local shell and the linter isn't aware that it is going to be eval'd
[18:39:43] <earnestly> So it never expands and is never used
[18:39:58] <wwilliam> ah...
[18:40:00] <wwilliam> Thanks.
[18:40:07] <earnestly> llua: Would where it is going to be evaluated even see it?
[18:40:42] <llua> the remote shell, where it isn't set
[18:40:53] <wwilliam> !ssh
[18:40:53] <greybot> Secure SHell (#openssh, http://mywiki.wooledge.org/CategorySsh). To run rm "$localVar" remotely, use: printf 'rm %q\n' "$localVar" | ssh user@host bash
[18:45:08] *** Quits: malina (~malina@user/malina) (Ping timeout: 265 seconds)
[18:46:44] *** Joins: dermoth_ (~dermoth@user/dermoth)
[18:47:00] *** Quits: dermoth (~dermoth@user/dermoth) (Killed (NickServ (GHOST command used by dermoth_)))
[18:47:02] *** dermoth_ is now known as dermoth
[18:48:26] *** Joins: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[18:50:59] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Quit: Konversation terminated!)
[18:52:55] *** Quits: chasmo77 (~chas77@71.63.241.168) (Quit: It's just that easy)
[18:56:11] *** Joins: zebrag (~chris@user/zebrag)
[18:57:57] *** Joins: debsan (~debsan@2800:810:471:2ee::1000)
[18:58:50] *** Quits: debsan (~debsan@2800:810:471:2ee::1000) (Remote host closed the connection)
[18:59:19] *** Joins: debsan (~debsan@2800:810:471:2ee::1000)
[18:59:51] *** Joins: odoood (~odoood@pool-71-251-227-104.rcmdva.fios.verizon.net)
[19:00:38] *** Quits: Starmina (~Starmina@194.110.113.26) (Ping timeout: 255 seconds)
[19:07:17] *** Quits: nf (~n@monade.li) (Quit: Fairfarren.)
[19:13:32] *** Joins: nf (~n@monade.li)
[19:13:54] *** Joins: chomwitt (~chomwitt@2a02:587:dc0e:ef00:12c3:7bff:fe6d:d374)
[19:16:04] *** Joins: ChmEarl (~chmearl@user/chmearl)
[19:19:31] *** Joins: Axiomatik (~Axiomatik@83-91-97-60-cable.dk.customer.tdc.net)
[19:22:55] *** Quits: zeraphel (~daddy@5.29.37.93) (Quit: zeraphel)
[19:24:34] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[19:25:03] *** Joins: sinaowolabi__ (~SinaOwola@169.159.97.245)
[19:26:34] *** Quits: nobody__ (~nobody@host-82-54-32-140.retail.telecomitalia.it) (Ping timeout: 240 seconds)
[19:27:37] *** Quits: sinaowolabi_ (~SinaOwola@160.152.101.57) (Ping timeout: 245 seconds)
[19:28:02] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[19:28:30] *** Joins: reset (~reset@user/reset)
[19:31:58] *** Quits: nbao (~hot@2804:14c:5bb8:9720:ae9e:17ff:fedf:3e09) (Quit: WeeChat 3.1)
[19:32:15] *** Joins: sublim20 (~sublim20@user/sublim20)
[19:32:31] <j416> why not, ssh user@host rm $localVar ?
[19:33:43] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Ping timeout: 244 seconds)
[19:33:46] *** Joins: adanwan_ (~adanwan@gateway/tor-sasl/adanwan)
[19:33:54] *** Quits: odoood (~odoood@pool-71-251-227-104.rcmdva.fios.verizon.net) (Remote host closed the connection)
[19:34:16] <twkm> as long as quoting isn't needed such works.
[19:34:17] *** Joins: odoood (~odoood@pool-71-251-227-104.rcmdva.fios.verizon.net)
[19:34:33] <j416> ah yes. with a space in the name that'd fail.
[19:34:35] <j416> thanks.
[19:35:20] <earnestly> j416: Also arbitrary code evaluation
[19:35:23] <twkm> once quoting is needed you likely want: ssh user@host rm "${localVar@Q}"
[19:36:06] <j416> ssh user@host rm \"$localVar\" ?
[19:36:16] <twkm> no.
[19:36:23] <llua> prob should stop guessing
[19:36:59] <j416> llua: was that for me or twkm
[19:37:10] *** Joins: sokle_68 (~sokle_68@ppp079167002215.access.hol.gr)
[19:37:17] <j416> oh, @Q, fancy
[19:37:26] <llua> you
[19:37:39] <j416> I'm not guessing, I'm asking to learn
[19:37:55] *** Joins: erri (~meow@52.8.199.178)
[19:38:37] <j416> earnestly: does the printf statement also evaluate the variable?
[19:39:12] <j416> s/does/doesn't/
[19:39:38] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 256 seconds)
[19:40:35] <j416> right, I suppose \"$localVar\" is bad in case it contains a "
[19:40:54] <twkm> or a space.
[19:41:04] <j416> works with space doesn't it
[19:41:08] <twkm> nope.
[19:41:12] <j416> did you try?
[19:41:18] <j416> (I tried)
[19:41:32] <twkm> then carry on.
[19:41:51] <j416> sorry?
[19:42:58] <earnestly> j416: Whatever $localVar expands to will be evaluated by the shell ssh spawns
[19:43:18] <j416> earnestly: yes. isn't that the same regardless?
[19:43:26] <j416> earnestly: does printf solve it?
[19:43:50] <earnestly> j416: Yes, because it properly quotes the content such that metacharacters aren't interpreted
[19:44:11] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[19:44:14] <earnestly> It should be `printf 'rm -- %q\n' ...' though
[19:44:18] <twkm> at a guess j416 is using zsh, not any other bourne-ish sh.
[19:44:24] <j416> bash.
[19:44:48] <twkm> # v='a b'; printf '<%s> ' \"$v\"
[19:44:49] <shbot> twkm: <"a> <b">
[19:44:54] <earnestly> This is bog standard code injection topic
[19:44:55] <j416> earnestly: ah, you mean so that there wont't be a risk of something tagging something on to the end for instance? I can vaguely picture this. thanks.
[19:44:59] <twkm> not quite wht you wanted.
[19:45:10] <twkm> # v='a b'; printf '<%s> ' "${v@Q}"
[19:45:11] <shbot> twkm: <'a b'>
[19:45:43] <j416> twkm: no, without printf
[19:46:02] <earnestly> j416: You ought to be able to understand immediately what's going on if I say the string being passed to ssh is going to be evaluated by the shell it uses
[19:46:07] <earnestly> And how this relates to code injection
[19:46:30] <j416> I'm familiar with code injection; I was just curious to see how
[19:46:31] <earnestly> j416: The printf twkm  is using is only to demonstrate the result
[19:46:34] <twkm> printf was to show what ssh receives.
[19:46:38] <j416> twkm: ah, right.
[19:46:39] <j416> thanks.
[19:46:48] <twkm> two arguments vs one that's quoted.
[19:47:00] <earnestly> j416: How?  You're exposing a shell a variable that can be anything
[19:47:03] <twkm> # v="a 'b'"; printf '<%s> ' "${v@Q}"
[19:47:04] <shbot> twkm: <'a '\''b'\'''>
[19:47:13] <twkm> # v="a 'b'"; printf '<%s> ' \"$v\"
[19:47:14] <shbot> twkm: <"a> <'b'">
[19:47:17] <j416> then why'd it work when I ran it. hm
[19:47:19] <earnestly> j416: awk "$variable".  Code injection, same thing
[19:49:00] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[19:49:43] <j416> oooh, the two arguments end up interpreted as one quoted argument in my case, that's why it works, is it not
[19:51:24] <llua> how exactly did you test
[19:52:19] *** Quits: odoood (~odoood@pool-71-251-227-104.rcmdva.fios.verizon.net) (Ping timeout: 265 seconds)
[19:53:02] <j416> I created a file called "foo bar" on a remote server, local var, export FOO="foo bar", then above-mentioned, ssh remote rm \"$FOO\"
[19:54:34] <earnestly> That would be expanded to rm "foo bar" before being sent to the remote shell
[19:54:47] *** Quits: docmax (~docmax@dynamic-077-003-195-147.77.3.pool.telefonica.de) (Quit: Leaving)
[19:54:57] <j416> I'm guessing then that it intepreted this as two args `"foo` and `bar"`, then sent that and the remote end interpreted it as one because of the quotes
[19:55:03] *** Joins: Starmina (~Starmina@194.110.113.89)
[19:55:06] <twkm> # v="foo bar"; printf '<%s> ' rm \"$v\"
[19:55:07] <shbot> twkm: <rm> <"foo> <bar">
[19:55:07] <j416> earnestly: exactly
[19:55:10] <earnestly> (And $FOO isn't quoted during its expansion)
[19:55:12] <j416> twkm: thanks
[19:55:17] <twkm> as an aside, export wasn't needed and as such the variable shouldn't be all caps.
[19:55:41] <j416> twkm: oh. right.
[19:56:07] <j416> twkm, earnestly: thanks; I learnt something.
[20:02:34] *** Joins: Starmina_ (~Starmina@194.110.113.26)
[20:04:03] *** Quits: Starmina (~Starmina@194.110.113.89) (Ping timeout: 276 seconds)
[20:04:03] *** Starmina_ is now known as Starmina
[20:04:06] *** Quits: tlaxkit (~hexchat@170.253.39.204) (Ping timeout: 268 seconds)
[20:12:01] *** Quits: szutt (~szutt@116.37.2.145) (Quit: Client closed)
[20:12:31] *** Joins: nobody__ (~nobody@host-82-54-32-140.retail.telecomitalia.it)
[20:12:38] *** Joins: ferdna (~ferdna@user/ferdna)
[20:13:24] *** Joins: LiftLeft (~LiftLeft@191.96.150.157)
[20:14:17] *** Quits: ferdna (~ferdna@user/ferdna) (Excess Flood)
[20:14:24] *** Quits: rkta (~kt@62.113.246.111) (Quit: leaving)
[20:14:54] *** Joins: ferdna (~ferdna@user/ferdna)
[20:15:01] *** Joins: sdu (~doo@185.44.146.64)
[20:15:09] *** Joins: Adoi (~Adoi@user/adoi)
[20:15:09] *** Joins: rkta (~kt@62.113.246.111)
[20:15:24] *** Joins: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[20:16:41] *** Quits: gschanuel6 (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[20:16:47] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 245 seconds)
[20:17:10] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[20:17:16] *** Quits: furrymcgee (~devuan@31.179.186.66) (Quit: leaving)
[20:18:32] *** Joins: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479)
[20:18:52] *** Joins: jetchisel (jetchisel@user/jetchisel)
[20:19:22] *** Quits: Starmina (~Starmina@194.110.113.26) (Ping timeout: 240 seconds)
[20:23:09] *** Joins: Guest43 (~Guest43@2001:a61:2b9d:201:46c5:3d5c:c8e2:5432)
[20:32:10] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[20:32:59] *** Joins: tlaxkit (~hexchat@170.253.39.204)
[20:34:18] *** Quits: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 240 seconds)
[20:35:35] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Client Quit)
[20:36:23] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[20:37:21] *** Quits: zebrag (~chris@user/zebrag) (Remote host closed the connection)
[20:40:46] *** Quits: rememberYou (~someone@user/rememberyou) (Remote host closed the connection)
[20:41:06] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 268 seconds)
[20:41:45] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[20:42:15] *** Quits: ztx (~ztx@user/ztx) (Quit: ztx)
[20:43:49] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[20:43:56] *** Joins: zebrag (~chris@user/zebrag)
[20:44:37] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[20:44:37] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Read error: Connection reset by peer)
[20:45:07] *** Joins: tejr (~tejr@user/tejr)
[20:46:30] *** Quits: zebrag (~chris@user/zebrag) (Remote host closed the connection)
[20:46:49] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[20:47:35] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Quit: elastic_dog)
[20:47:48] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[20:50:20] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[20:50:32] *** Joins: varaindemian (~varaindem@86.124.78.162)
[20:51:28] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[20:51:28] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Read error: Connection reset by peer)
[20:51:45] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[20:52:41] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Client Quit)
[20:52:45] *** Joins: Crescendo (~Crescendo@user/crescendo)
[20:53:30] *** Quits: Guest43 (~Guest43@2001:a61:2b9d:201:46c5:3d5c:c8e2:5432) (Quit: Client closed)
[20:54:47] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[20:55:30] *** Quits: darkbit (~db@152.32.99.67) (Ping timeout: 258 seconds)
[20:55:41] *** Joins: malina (~malina@user/malina)
[20:59:53] *** Quits: rinwa (~rinwa@212-29-253-205.bb.netvision.net.il) (Ping timeout: 255 seconds)
[21:00:04] *** Joins: Starmina (~Starmina@194.110.113.26)
[21:00:20] *** Quits: jlc (~jlc@cpe-107-15-173-212.nc.res.rr.com) (Ping timeout: 255 seconds)
[21:04:56] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Remote host closed the connection)
[21:05:17] *** Quits: malina (~malina@user/malina) (Remote host closed the connection)
[21:05:24] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[21:06:57] *** Joins: kZel (~kZel@90.199.182.233)
[21:17:31] *** Joins: jaggz (~jaggz@user/jaggz)
[21:17:36] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Quit: ZNC 1.8.2 - https://znc.in)
[21:17:57] <jaggz> i forgot.. wasn't there a way to see some info on the origin of a bash variable?
[21:18:00] <jaggz> what set it
[21:18:11] <jaggz> I have this 8.5k "_xspecs" var
[21:18:23] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[21:18:29] <jaggz> similar to this guy's line: https://askubuntu.com/questions/1329286/using-set-terminal-see-code-in-one-of-the-variables-what-is-it
[21:18:42] *** Quits: ming (~ming@2601:547:a00:7720::88e8) (Ping timeout: 240 seconds)
[21:19:10] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[21:19:11] *** Joins: ming (~ming@2601:547:a00:7720::88e8)
[21:19:22] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Read error: Connection reset by peer)
[21:19:24] *** Joins: Crescendo (~Crescendo@user/crescendo)
[21:19:31] *** Joins: furrymcgee (~devuan@31.179.186.66)
[21:19:58] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[21:20:12] *** Joins: sockets (~hahaha@user/sockets)
[21:20:36] *** Quits: Adoi (~Adoi@user/adoi) (Quit: Leaving)
[21:22:16] <geirha> it's being set by the bash-completion package
[21:22:39] <geirha> PS4='+ $BASH_SOURCE:$LINENO:' bash -xic ''
[21:23:34] <jaggz> https://github.com/scop/bash-completion/blob/master/bash_completion#L2156
[21:23:52] <jaggz> just found it there.  i don't yet see it in my own /etc/bash_completion* files/dir
[21:24:57] <jaggz> got it. thanks geirha :)
[21:25:19] <jaggz>  /usr/share/bash-completion/bash_completion:1928947:_xspecs[$cmd]='!*.@(sxc|stc|xls?([bmx])|xlw|xlt?([mx])|[ct]sv|?(f)ods|ots)
[21:25:25] *** Joins: Administratorte (~sq@tempest.math.colostate.edu)
[21:25:38] <jaggz> on almost the 2 millionth line.
[21:25:48] <jaggz> (kidding. I added some digits there)
[21:25:54] <geirha> *chuckle* browsed to a random spot and found:   local -a svcs=($(printf '%s\n' $xinetddir/!($_backup_glob)))
[21:26:27] <jaggz> geirha, is that a gem?
[21:27:21] <geirha> it's a step up from using $(ls glob) ... I guess
[21:27:30] *** Joins: Adoi (~Adoi@user/adoi)
[21:27:31] <jaggz> oh it's in _xinetd_services ()
[21:28:02] <geirha> bash-completion contains a lot of such reasons not to use it
[21:28:41] *** Joins: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[21:28:44] *** Quits: yuckey2d (~yuckey2d@66.115.145.202) (Quit: The Lounge - https://thelounge.chat)
[21:29:18] <ormaaj> does it contain an alternative to itself? That would persuade me.
[21:29:22] <jaggz> need a proper system where it learns which ones you use, as you use them, and drops unused stuff (looking it up when needed instead of keeping it around)
[21:29:26] *** Quits: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Client Quit)
[21:29:56] *** Joins: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[21:30:30] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 276 seconds)
[21:30:37] <jaggz> split those definitions up, somehow, into different files, and load them when the user hits tab?
[21:30:58] *** Quits: sockets (~hahaha@user/sockets) (Remote host closed the connection)
[21:30:59] <geirha> I go the other route. Use default completions for everything, and just add some custom completions for things you use often, where it's useful
[21:31:29] <jaggz> heck, have them just stay around in the session for that time, for now.. don't even bother with my (the)  "keep counts/times of command usage" idea..
[21:32:17] *** Joins: sockets (~hahaha@23.94.208.145)
[21:32:42] <jaggz> geirha, fun
[21:33:05] <jaggz> so, yeah.. a proper system wouldn't create all this stuff
[21:33:41] <jaggz> now with various things setup at bash init, popping up a new shell has about a 2-3s delay for me
[21:34:19] <jaggz> (other stuff, like python environment, etc. are involved in that slowdown)
[21:34:24] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[21:34:46] <geirha> Another stupidity here  https://github.com/scop/bash-completion/blob/master/bash_completion#L1232-L1239
[21:35:21] <geirha> instead of just making IFS local, it changes IFS globally. And if the user aborts the completion while that ps is running, it won't change it back
[21:35:22] *** Joins: CodePoint (~BitShift@2600:1700:3070:3790::29)
[21:35:28] *** Quits: rendar (~rendar@user/rendar) ()
[21:36:33] <geirha> It's a lost cause; too many problems to fix. Better to write a new one from scratch using good practices
[21:36:39] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[21:37:02] <ormaaj> I would rip completion out from every implementation and make them all interface with one system. probably something like powershell that gets completions automatically from API documentation.
[21:37:15] <jaggz> honestly it seems like using bash for the completion isn't right
[21:37:16] *** Quits: sockets (~hahaha@23.94.208.145) (Changing host)
[21:37:16] *** Joins: sockets (~hahaha@user/sockets)
[21:37:31] *** Quits: kZel (~kZel@90.199.182.233) ()
[21:37:51] <jaggz> yeah, the completions should be following some spec, with "hacked in" contributions also there
[21:37:53] *** Joins: aliosablack (~chomwitt@ppp-94-67-193-120.home.otenet.gr)
[21:37:59] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Client Quit)
[21:38:07] <jaggz> but not a huge bunch of junk loaded into the env
[21:38:11] *** Joins: useretail (~useretail@185.132.19.151)
[21:38:20] <jaggz> it's just wrong to do that to begin with
[21:38:46] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[21:39:07] *** Quits: fortuno51_ (~fortuno51@37.120.156.254) (Remote host closed the connection)
[21:39:37] <jaggz> like 99.99% of it goes unused
[21:39:39] <jaggz> anyway
[21:39:48] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[21:39:56] *** Quits: chomwitt (~chomwitt@2a02:587:dc0e:ef00:12c3:7bff:fe6d:d374) (Ping timeout: 255 seconds)
[21:40:01] *** Quits: lilalinu_ (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[21:40:15] *** Quits: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 276 seconds)
[21:40:27] <ormaaj> I think the completions do actually have an auto-loading kind of thing
[21:40:36] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[21:40:37] *** Joins: rinwa (~rinwa@141.226.14.13)
[21:40:59] <geirha> yes, but the stuff in bash-completion file is always loaded. The rest is loadewd dynamically first time you try to complete a command
[21:41:02] <jaggz> geirha, i never "got good" at making my own completion stuff.  I do tons of basic scripts with long names now, like ~/bin/git-log-graph-decorate
[21:41:51] <jaggz> in this case it displays the command it's running, but then runs it: echo 'git log --all --graph --decorate --oneline --simplify-by-decoration'
[21:42:14] <jaggz> yeah wasn't there some lazy loading support?
[21:42:45] <jaggz> anyway
[21:42:52] <geirha> for git, I just complete branch names
[21:43:11] <geirha> complete -o bashdefault -o default -W '$(git for-each-ref --format="%(refname:short)" 2>/dev/null | sed "/^origin\\//{ p; s///; }")' git
[21:43:18] <ormaaj> I replace the history loader from /etc/bashrc stuff with my version in ~/.bashrc but it does the same. Just better implementation.
[21:43:32] <geirha> falling back to default completion if no branches match
[21:44:05] <geirha> jaggz: I've aliased that as git lg
[21:44:12] <jaggz> geirha, git's completion has been pretty handy for me
[21:44:15] <jaggz> it's smart too
[21:44:44] <jaggz> git add f{tab} will list files [starting with f] that are modified or not in the repo yet
[21:44:53] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Ping timeout: 255 seconds)
[21:44:55] <geirha> never tried it, so I'm blissfully ignorant of what I'm missing
[21:45:01] <jaggz> ends up saving a few keystrokes and time here and there
[21:45:03] <jaggz> nod
[21:45:17] <jaggz> ultimately, I don't think bash_completions is hurting me more than it's helping me :)
[21:45:41] <jaggz> (but, yeah, I did notice git's seems to be handled quite well)
[21:45:48] <geirha> whenever I do git add file  I had just edited that file anyway, so I'd just type git add Alt-.
[21:46:07] <geirha> and for files that are already tracked, I just use git add -p
[21:46:31] <geirha> I would rarely if ever use those completions anyway
[21:47:04] <jaggz> gs is aliased to `git status | less -F'
[21:47:17] <jaggz> I didn't use ghostscript enough to warrant it :)
[21:47:31] *** grettke is now known as grettke-away
[21:47:31] *** Quits: grettke-away (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:47:33] <geirha> you can also configure git to add a pager for git status
[21:47:38] <jaggz> gcam is aliased to `git commit -a -m'
[21:47:49] <geirha> git config pager.status true  iirc
[21:48:04] <jaggz> i'll use -a (after examining which files are being committed)
[21:48:18] <jaggz> didn't know -p.. that might be good
[21:48:56] <geirha> allows keeping debug prints around without commiting them
[21:49:18] <jaggz> so alias gap='git add -p' hmm.
[21:49:35] <jaggz> hmm.. I might do that (the pager on status)
[21:51:05] *** Quits: aliosablack (~chomwitt@ppp-94-67-193-120.home.otenet.gr) (Ping timeout: 258 seconds)
[21:53:13] <jaggz> geirha, can you move up/down in the chunks you're reviewing (with -p)
[21:53:38] <jaggz> (i get anxious when I'm answering "stage this chunk?" and maybe I answer wrong)
[21:54:23] <geirha> if you answer y by mistake, you can just unstage that file and run git add -p again
[21:54:34] <jaggz> some fuller-term interactive thing might be nicer, but not, like, requiring editing lines in vim or anything
[21:54:50] <pragma-> you can git diff --staged to see what's being committed before you git commit
[21:55:03] <pragma-> in case you're unsure if you answered correctly
[21:55:22] <jaggz> okay, if that's as close as we can get .. :)
[21:56:06] <jaggz> full screen with the lines all defaulted on, jjjjj to go to one, toggle with space, ..
[21:56:13] <jaggz> ANYway
[21:56:16] <jaggz> thanks 
[21:56:19] *** Quits: gnooooo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[21:56:37] <jaggz> back to .. actually need to get my tea. :}
[21:57:11] *** Joins: mac11 (~mac@94.140.9.196)
[22:02:39] *** Parts: sokle_68 (~sokle_68@ppp079167002215.access.hol.gr) ()
[22:03:43] *** Joins: Anthaas (~Anthaas@user/anthaas)
[22:04:09] <Anthaas> !paste
[22:04:09] <greybot> Paste short snippets (<= 5 lines) in channel. Paste more using http://paste.debian.net/ or http://paste.wooledge.org/ or see !ix or !sprunge. Please don't use pastebin.com -- it's full of ads and mangles whitespace. NEVER upload screen shots. Don't use a site that requires Javascript, or registration to view raw.
[22:05:21] <Anthaas> Hi guys
[22:06:10] <Anthaas> What am I doing wrong here? I want to run a find command, and store the paths into an array. I want to use this array later on. Shellcheck gives no errors, but on running it (as part of a git pre-commit hook), I get "Syntax error: redirection unexpected"
[22:06:21] <Anthaas> while IFS= read -r -d $'\0'; do
[22:06:22] <Anthaas>     vault_files+=("$REPLY")
[22:06:22] <Anthaas> done < <(find . -name "vault.yml" -print0)
[22:06:56] *** Quits: ming (~ming@2601:547:a00:7720::88e8) (Remote host closed the connection)
[22:06:57] <emanuele6> use -d ''
[22:07:13] <Anthaas> The  \0 is to deal with the -print0
[22:07:22] <Anthaas> Or should I not do that?
[22:07:40] *** Quits: tlaxkit (~hexchat@170.253.39.204) (Quit: Leaving)
[22:07:47] <emanuele6> you should use: -d ''
[22:08:51] <Anthaas> Ok - it'd be good to know why though? With -print0 null separating the paths from the find command, do I not need to tell it that I have done so?
[22:09:17] <emanuele6> '' tells read to use the NIL character as delimiter
[22:09:24] <Anthaas> Ahhhh thanks
[22:10:02] *** Joins: ackyshake (~ackyshake@user/ackyshake)
[22:10:10] <jetchisel> $'\0' is a syntatic sugar of  '' 
[22:10:13] <jetchisel> ^^
[22:10:37] <jetchisel> but one might argue the $'\0' is more readable than just ''
[22:11:34] <Anthaas> In fact, I think the error was me not saving the git hook correctly. Both work.
[22:11:47] <Anthaas> Sorry for wasting your time, but thanks for the information on $'\0'
[22:11:59] <twkm> probably you aren't using bash.
[22:12:17] <Anthaas> I am - I have #!/usr/bin/env bash at the top of the script.
[22:12:57] <Anthaas> Well, I probably _wasnt_ - I think I didn't save it as I thought I had, hense the error.
[22:13:03] <twkm> immaterial if someone started it ''sh yourscript''.
[22:14:36] <twkm> if ^^ was done then the #!... is merely a comment.
[22:16:31] <Anthaas> Interesting - I don't actually know the context under which git hooks are ran.
[22:17:36] *** Quits: CodePoint (~BitShift@2600:1700:3070:3790::29) (Quit: Never gonna give you up, never gonna let you down...)
[22:18:14] *** Joins: mr-red (~drd@93-39-151-19.ip76.fastwebnet.it)
[22:19:19] <kurahaupo> !#!2 > Anthaas 
[22:19:19] <greybot> Anthaas: A script must start with a #! and the full path to its interpreter. This is usually called the hashbang or shebang line. This tells the kernel what program to run your script with. Unless you are publishing your script, just use the direct path to bash on your host, eg #!/bin/bash but if you want to make a demonstration script to publish, see !#! instead.
[22:20:03] <Anthaas> !#!
[22:20:04] <greybot> The top of a script MUST have a #! line, called 'shebang' or 'hashbang'. It tells the kernel what program to run your script with. We recommend `#!/usr/bin/env bash` (why: http://stackoverflow.com/a/733901/58803). http://mywiki.wooledge.org/BashGuide/CommandsAndArguments#Scripts http://www.in-ulm.de/~mascheck/various/shebang/
[22:20:11] <kurahaupo> Anthaas: Does your file by any chance start with a UTF BOM?
[22:20:13] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 258 seconds)
[22:20:29] *** Joins: yuckey2d (~yuckey2d@66.115.145.202)
[22:20:32] <Anthaas> I mean, it works now - I'm not sure why it wasn't. The script is intended for use beyond my machine.
[22:20:34] *** Quits: nobody__ (~nobody@host-82-54-32-140.retail.telecomitalia.it) (Ping timeout: 240 seconds)
[22:20:40] <Anthaas> UTF-8
[22:20:41] <kurahaupo> Anthaas: We *don't* always recommend env
[22:20:54] *** Quits: pyre (~pyre@crimeboss.nillas-power.com) (Read error: Connection reset by peer)
[22:21:23] <kurahaupo> Anthaas: If the first 3 bytes of your file are a BOM then the first two bytes can't be # and !
[22:21:55] *** Quits: a_west (~a_west@2a01:4f9:c010:5c49::1) (Quit: Bye!)
[22:22:13] *** Joins: a_west (~a_west@2a01:4f9:c010:5c49::1)
[22:22:56] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[22:23:08] *** Quits: mr-red (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 255 seconds)
[22:23:56] *** Quits: a_west (~a_west@2a01:4f9:c010:5c49::1) (Client Quit)
[22:24:11] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[22:24:14] *** Quits: Adoi (~Adoi@user/adoi) (Quit: Leaving)
[22:25:29] *** Joins: a_west (~a_west@cloud.westerlind.me)
[22:26:29] *** Joins: thiras (~thiras@user/thiras)
[22:27:01] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[22:28:10] <kurahaupo> Anthaas: if your file doesn't start with #! then the invoking shell will probably run it with /bin/sh, which may not be bash, which is why it doesn't understand while … done <  <( other cmd )
[22:28:11] *** Joins: pyre (~pyre@crimeboss.nillas-power.com)
[22:28:48] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Read error: Connection reset by peer)
[22:29:34] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[22:29:44] <twkm> or interpret it itself.
[22:29:51] <geirha> even if sh is bash, bash disables <() in posix mode
[22:30:01] <kurahaupo> which amounts to the same thing
[22:30:19] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[22:30:53] <Anthaas> Hmm - I run zsh locally, but figured I'd specified bash at the top...
[22:31:04] <Anthaas> Maybe the #! wasn't right, but it seems to work correctly now.
[22:31:51] <kurahaupo> #! at bytes 4 & 5 won't work
[22:32:23] <kurahaupo> (as would seemingly happen if the first three bytes are 0xEF, 0xBB, 0xBF)
[22:33:16] <twkm> and that only matters if the script is +x and run directly, not named as an argument (my guess).
[22:35:28] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Quit: ZNC 1.8.2 - https://znc.in)
[22:36:11] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[22:40:22] *** Joins: skapata (~Skapata@user/skapata)
[22:41:15] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[22:48:00] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Read error: Connection reset by peer)
[22:48:47] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[22:49:50] *** Joins: Buliarou1 (~gypsydang@185.207.166.57)
[22:50:41] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Client Quit)
[22:50:51] *** Quits: Buliarou1 (~gypsydang@185.207.166.57) (Client Quit)
[22:51:10] *** Quits: Buliarous (~gypsydang@185.207.166.57) (Remote host closed the connection)
[22:51:26] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[22:51:30] *** Joins: Buliarous (~gypsydang@185.207.166.57)
[22:54:29] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Client Quit)
[22:54:46] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[22:58:46] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[22:59:57] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Read error: Connection reset by peer)
[23:00:02] *** Joins: leeper (leeper@gateway/vpn/nordvpn/leeper)
[23:00:45] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[23:01:24] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Client Quit)
[23:01:34] *** Parts: Thoatt (~thoatt@user/thoatt) ()
[23:01:40] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[23:03:07] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Read error: Connection reset by peer)
[23:03:55] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[23:05:17] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Read error: Connection reset by peer)
[23:06:05] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[23:08:03] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Client Quit)
[23:08:50] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[23:09:29] *** Quits: ferdna (~ferdna@user/ferdna) (Ping timeout: 255 seconds)
[23:10:47] *** Quits: mac11 (~mac@94.140.9.196) (Ping timeout: 250 seconds)
[23:17:08] *** Quits: troyt (troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e) (Ping timeout: 255 seconds)
[23:19:39] *** Quits: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479) (Quit: tech_exorcist)
[23:19:41] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Quit: ZNC 1.8.2 - https://znc.in)
[23:20:11] *** Joins: troyt (~troyt@2601:681:4100:d591:44dd:acff:fe85:9c8e)
[23:20:30] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[23:22:28] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Read error: Connection reset by peer)
[23:23:13] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[23:28:13] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[23:28:17] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 244 seconds)
[23:28:27] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[23:30:41] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 268 seconds)
[23:31:26] *** Joins: nate3 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[23:35:57] *** Quits: Tabmow (~tabmow@user/tabmow) (Ping timeout: 276 seconds)
[23:37:35] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 244 seconds)
[23:38:41] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[23:38:50] *** Joins: zebrag (~chris@user/zebrag)
[23:43:08] *** Joins: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de)
[23:43:20] *** Joins: nobody__ (~nobody@host-82-54-32-140.retail.telecomitalia.it)
[23:44:49] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[23:45:00] *** Joins: Crescendo (~Crescendo@user/crescendo)
[23:47:37] *** Quits: lilalinux (~lilalinux@p549ee776.dip0.t-ipconnect.de) (Ping timeout: 258 seconds)
[23:51:47] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 252 seconds)
[23:52:39] *** Joins: Tabmow (~tabmow@user/tabmow)
[23:54:03] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[23:58:13] *** Joins: arinov (~arinov@212.156.215.30)
[23:59:26] *** Quits: sky- (~sky@user/sky-) (Quit: Leaving)
