[00:02:18] *** Joins: jetchisel (jetchisel@user/jetchisel)
[00:03:26] *** LordOfThePings is now known as Hash
[00:06:27] *** Quits: genom (~g@37.214.34.163) (Remote host closed the connection)
[00:07:12] <Sammitch> well if you're a shared host [which I'm assuming is the case] you can't stop your users from uploading awful code, and if you're really stupid you might think that disabling base64_decode() is a good idea, which is likely if you're working for a shared hosting company. :P
[00:11:56] *** Quits: Warped (~Warped@user/warped) (Ping timeout: 268 seconds)
[00:12:03] <CoJaBo_> Sammitch: The client isn't using our hosting, they went with some other company. And I thought our code/configs were bad.. =D
[00:12:52] <CoJaBo_> We're actually just deploying this code, so to use this host they're gonna have to pay us to write said base64_decode replacement, which is just hilarious
[00:13:28] <Blondie101010> I don't understand your position in this...  you work for the host they're leaving and you help them?
[00:15:11] <Sammitch> if, after sufficient warning and explanation, the client still wants to shoot themselves in the foot, just hand over the gun.
[00:15:24] <__adrian> i don't think they're the host
[00:24:20] <CoJaBo_> __adrian: I work for a company that does hosting and development; not everyone buys both
[00:27:37] <Sammitch> "we're not saying that you _have_ to host with us, but we _are_ saying that you shouldn't host with these guys specifically for these very demonstrable and money-costing reasons."
[00:31:35] <CoJaBo_> Advised client to point gun away from foot before pulling trigger; client declined due to required effort being deemed unnecessarily excessive.
[00:33:13] *** Quits: pmercado (~pmercado@186.107.62.14) (Quit: Konversation terminated!)
[00:33:15] <Sammitch> Client has opened additional work order for prosthetic toes.
[00:42:09] *** Quits: shailangsa (~shailangs@host217-39-45-200.range217-39.btcentralplus.com) ()
[00:51:13] *** Joins: WishBoy (~WishBoy@user/wishboy)
[00:59:58] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[01:01:40] *** Quits: onizu (uid373383@id-373383.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[01:09:49] <Koopz> idk if i'm extra stupid today but... i've got a script in vendor/bin/
[01:10:03] *** Joins: shailangsa (~shailangs@host217-39-45-200.range217-39.btcentralplus.com)
[01:10:09] <Koopz> and the script checks for file_exists(__DIR__.'/vendor/autoload.php')
[01:10:46] <Koopz> and... if that file doesn't exist it tries to require __DIR__.'/../../autoload.php'
[01:13:53] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Ping timeout: 264 seconds)
[01:19:18] <Blondie101010> that looks wrong
[01:19:56] <Blondie101010> `require __DIR__.'/../autoload.php'` would look better
[01:20:13] *** Quits: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi) (Ping timeout: 252 seconds)
[01:20:31] <Koopz> that's what i'm thinking as well
[01:21:38] <Blondie101010> seems like something wrong with their installer
[01:22:15] *** Joins: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi)
[01:26:26] <Koopz> ooh i think i understand now
[01:26:50] <Koopz> i actually scp'd this project from another server and the symlink broke
[01:27:03] *** Quits: wovixo (~wovixo@128.104.205.49) (Quit: Leaving)
[01:28:09] <Koopz> vendor/bin/php-script is linked to vendor/org/project/php-script, therefore justifying the /../../
[01:29:50] * Blondie101010 nods
[01:29:53] <Blondie101010> makes sense
[01:31:55] <Koopz> and the loading of __DIR__.'/vendor/autoload.php' is for when you actually work on that project
[01:34:27] <__adrian> Koopz:  const PROJECT_ROOT = __DIR__;
[01:34:54] <__adrian> (adjust for where you define)
[01:35:29] <Koopz> const BOOL_TRUE = true;
[01:48:50] *** Joins: semeion (~semeion@user/semeion)
[01:48:50] *** mnemonic is now known as Guest5568
[01:50:59] *** Quits: magla (~gelignite@55d44e8b.access.ecotel.net) (Quit: Stay safe!)
[01:52:05] *** Quits: Guest5568 (~semeion@user/semeion) (Ping timeout: 260 seconds)
[02:19:12] *** Quits: tex (~super@user/dix) (Ping timeout: 265 seconds)
[02:19:37] *** Joins: ferdna (~ferdna@user/ferdna)
[02:21:47] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[02:30:56] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[02:31:27] <ash_worksi> is there a shortcut to replacing values in an array by value?
[02:33:44] <ash_worksi> nvm
[02:34:50] <Blondie101010> next time you're asking how to get a shortcut for something, I suggest you show the long version
[02:35:12] *** Joins: bobdobbs (~user@14.137.23.74)
[02:50:42] <znf> please remind me: when using prepared statements with mysqli, if using $stmt = $db->prepare(...); does $stmt->close() close the mysql connection or just the, uhm, what's it called, statement context?
[02:52:22] *** Quits: ms49434 (~ms49434@user/ms49434) (Quit: Leaving)
[02:52:47] <__adrian> just the statement, iirc
[02:53:19] <__adrian> and pretty sure it's unnecessary if you (a) finish fetching everything  (b) are NOT using unbuffered queries
[02:54:43] <znf> wasn't sure, thanks
[02:55:46] <znf> I feel the need to hunt someone down and slap them with a fish for this: https://pastie.dev/HWPHlu.xml
[03:01:46] <Blondie101010> that's not written by a programmer
[03:01:55] <Blondie101010> but at least it doesn't echo HTML
[03:02:43] <Albright_> lol nice
[03:09:19] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 268 seconds)
[03:11:30] *** Joins: freeman_h (~freeman_h@94.5.86.162)
[03:14:59] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[03:17:58] *** Joins: iio7 (~iio7@185.65.134.232)
[03:20:16] <iio7> How is one supposed to use response headers without output buffering when often control code and conditions exist before any headers can be send? Even a single whitespace will cause output to go before the header, if output buffering isn't used. What's the best practice to avoid using the output buffer?
[03:22:54] *** Joins: night_wulfe__ (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[03:23:18] <Blondie101010> why would you output before your processing?
[03:23:25] <Blondie101010> !+php first
[03:24:04] <Blondie101010> darn bot left the channel
[03:24:13] <Blondie101010> <php-bot> your PHP code can be sorted into two categories: code which _performs work_ (processing input, controller logic, database access, error handling, etc.), and code which  _produces output_ (header(), echo, <?= $var ?>, plain ol' <html>, etc.). work goes FIRST. output goes LAST. https://gist.github.com/adrian-enspired/9ed2542a695e2ebe30aa
[03:25:07] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 252 seconds)
[03:25:32] <znf> Is there way to use similar_text on array and output a % match for a string?
[03:25:56] <znf> ie: array['foo', 'bar'], $string = 'fo';
[03:26:41] <znf> what I'm asking - is there a smarter way to do this rather than looping trough all and building a new array with matches?
[03:28:18] <iio7> Blondie101010, but how will you do this if you use a custom error handler? The custom error handler is called AFTER there is a problem somewhere in the code, which might be in the output code.
[03:28:26] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 245 seconds)
[03:28:56] <Blondie101010> iio7:  please give a concrete example of what output would cause such error
[03:29:37] <znf> actually let me rephrase: I have a list of email addresses with a relatively poor reputation, and I would like to be able to return some kind of fuzzy matches (?) based on them when someone tries to add a user to the system with a similar email address
[03:29:49] <Blondie101010> znf:  a programming language is the language that a programmer uses to describe what the code is meant to do, not a tool that magically knows how to do exactly what you want
[03:29:58] <Blondie101010> you just code it
[03:30:09] <iio7> Blondie101010, a simple typo in the output code.
[03:30:26] <Blondie101010> like a fatal error that prevent any output?
[03:30:47] <Blondie101010> *wink*
[03:31:14] <iio7> Blondie101010, yes for example. Then with a custom error handler you can provide a message to the user, but that needs to use headers.
[03:31:48] <znf> ie: $baddies = [ "mrsmith@live.com", "mrjones@hotmail.com" ], for $email = "mrsmith@hotmail.com", I'd like to make some assumption that $email address in cause is very similar to $baddies -- what's a decent way of doing this?
[03:32:11] <Blondie101010> you haven't provided a good example, but one thing to notice is that bad untested code will have bugs, so test it first
[03:32:44] <Blondie101010> znf:  that was actually pretty clear the first time
[03:33:00] <Blondie101010> and it doesn't affect my answer
[03:33:08] <Blondie101010> you code it to do what you want
[03:33:25] <znf> well, obviously - I'm asking for advice on a starting point
[03:34:00] <Blondie101010> you'll have to define your criteria, and that is done with the code you write!
[03:34:48] <Blondie101010> considering either of them to match seems totally ridiculous to me, but it's your use case, therefore YOUR business rules that YOU write in code
[03:35:20] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[03:37:39] <Blondie101010> znf:  note the accent on business rules
[03:38:09] <Blondie101010> it's not a programming challenge but a matter of knowing what rule you're trying to define, and if it really makes sense to you
[03:39:38] <znf> k, I'll split the email account from domain, and compare the user part individually and then levenstein() them and build an array based on the lowest distance.. or similar_text
[03:40:04] <Blondie101010> that could work, but seems as totally useless to me
[03:40:10] <Blondie101010> no change
[03:40:40] <Blondie101010> why would you flag someone with a similar email address?  that's probably the case of billions of addresses
[03:42:52] <Blondie101010> znf:  your use case interests me... why do you want to do that?
[03:43:10] <znf> dunno, it was requested by someone in the support staff, I said I'll take a look and if it doesn't take me more than 1 hour I'll do it
[03:43:25] <Blondie101010> it lacks the business logic
[03:43:34] <Sammitch> s/business//
[03:43:53] <Blondie101010> :)
[03:44:08] <znf> I tried to explain that is completely irrelevant as someone could just use another e-mail address anyway, but after a point I'm out of fucks to give and don't care that much to explain them why and how
[03:44:29] <Blondie101010> do you know their motivation?
[03:44:38] <Sammitch> you're going to spend more time handling false positives than you might save by blocking the few "baddies" dumb enough to use the same local portion of an email address across several different "bad" activities
[03:44:43] <Blondie101010> there could be alternate solutions that their limited brain doesn't consider
[03:45:26] <znf> Sammitch, it wasn't for a complete outright block, a warning was requested "this user has been our client in the past and bla bla bad faith, be warned"
[03:45:53] <Sammitch> protip: if some weiner makes you implement a dumb thing with consequences, make sure that you imnplement it in such a way that that same weiner is responsibnle for the consequences.
[03:45:53] <Blondie101010> that sounds like a security risk now
[03:45:55] <znf> and apparently the "clients" in case are sort of lacking imagination because they use very similar addresses on each attempt
[03:45:56] <Blondie101010> so that's even worse
[03:46:35] <Sammitch> layer 8 problem
[03:46:41] <znf> pretty much, yeah
[03:46:47] <__adrian> znf: if you have those kinds of problems, you start by blacklisting disposable email providers
[03:47:08] <Sammitch> they're all disposable :P
[03:47:21] <Sammitch> blacklist their credit card
[03:47:27] <__adrian> then you might normalize emails - e.g., with gmail, an account is lowercase, remove dots, remove any + and what follows
[03:47:32] <znf> __adrian, most that I've seen from their *gulp* spreadsheet are @gmail, @yahoo, @outlook @live
[03:47:33] <__adrian> sure, blacklist by cc
[03:47:34] *** Parts: ash_worksi (~ash_m@user/ash-m/x-3292451) ()
[03:47:56] <Blondie101010> that is a good idea
[03:48:04] <__adrian> "disposable provider" meaning those throwaway emails specifically designed to sign up once and then disappear
[03:48:05] <Sammitch> then if they try to get around that it's probably fraud and you can put your annoying customer in jail :3c
[03:49:47] <znf> we do not get the billing details of those users, as we don't exactly deal with those directly; basically "we" deal with the resellers of the service; each reseller runs their billing and whatever their own way, and some of those have sub-resellers; and sometimes getting that info down across all levels is not exactly easy
[03:49:56] <Blondie101010> __adrian:  the bot ran away again
[03:50:35] <Blondie101010> znf:  why is it a problem if they create multiple accounts then?
[03:51:16] <Blondie101010> is it to get a free promotion by any chance?
[03:51:32] <znf> yeah, pretty much, a trial specifically
[03:51:39] <Blondie101010> lol
[03:52:22] <znf> it doesn't directly affect *us* as we assign each reseller a limited number of trials, so it's their loss :P
[03:52:55] <znf> I get their motivation, but realistically I don't see a way to fully prevent it or make some sane decisions in code
[03:53:10] <znf> considering all we have to work on is literally the email address
[03:53:16] <Blondie101010> the solution needs to make sense before you think of coding it
[03:53:57] <Blondie101010> email validation can help reduce those a tiny bit, but realistically, people have went to great lengths to save a few pennies
[03:54:14] <znf> oh great, I was looking now at their spreadsheet... only the first 3-4 pages contain email addresses
[03:54:28] <znf> rest are a mix of names, social media handles etc.
[03:54:32] <znf> yeah, not gonna happen buddies
[03:55:10] <Blondie101010> a suitable approach would be to track them as much as possible
[03:55:22] <Blondie101010> not to identify similar emails and usernames
[03:56:14] <Blondie101010> another approach is to charge for a month and credit it at the end of the trial
[03:56:28] <Sammitch> make them fax in a photo of their driver's license and use mechanical turk to match up pictures from previous trials
[03:56:32] <Blondie101010> that too
[03:56:56] <Blondie101010> emails and usernames won't be useful
[03:57:08] <znf> I'll chalk it up to: "that's the resellers issues, they need to be better at it" and call it a day
[03:57:21] <znf> I can say that I tried :)
[03:57:23] <Sammitch> I'll drink to that
[03:57:36] <Blondie101010> but I'd disagree
[03:58:04] <Blondie101010> maybe it's not worth it, but offering alternatives is justified
[03:59:15] <znf> oh, in regards to that SimpleXML issue I had earlier with a script using >30GB RAM
[03:59:40] <Blondie101010> ..
[03:59:48] <znf> it kept bugging me
[04:00:03] <znf> gave me no peace :)
[04:00:16] <Blondie101010> stop blabbering and get to the point
[04:00:52] <znf> it was because it was comparing $xml->attributes()->lang == $data['epg_lang']; and epg_lang was a literal \N (not a newline, just a \N in the DB)
[04:02:08] <znf> I'm not entirely sure if the actual comparison was the issue, but once I removed the \N there was no more memory issue
[04:02:45] <Blondie101010> so you didn't find the cause and just purged data until it worked
[04:02:47] <znf> somewhere in here: https://pastie.dev/3cjIDo.php
[04:02:53] <znf> yup!
[04:05:19] <Blondie101010> I hope you guys didn't pay much for that code
[04:05:35] *** Quits: tuskkk____ (uid18470@id-18470.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[04:05:38] <Blondie101010> it was written by a very bad programmer
[04:07:10] <znf> what gave it away? the base64 encoding because whoever wrote it was too lazy to handle db collates?
[04:07:15] *** Quits: iio7 (~iio7@185.65.134.232) (Quit: Leaving)
[04:07:29] <znf> or the addslashes() for... reasons that completely escape me
[04:08:04] <Blondie101010> the first 2 I saw were the use of `global` and the retarded return
[04:08:24] <Blondie101010> then if you look at the whole function attentively, you can see the same thing being repeated
[04:09:07] <Blondie101010> therefore a lack of structure
[04:09:34] <znf> that *may* be an issue with improperly decoded file from IonCube, to be fair -- I've seen switch() statements being decoded nested if-then-else's before, I'll give them the benefit of doubt there
[04:09:50] <Blondie101010> no difference
[04:09:54] <Blondie101010> that's not it
[04:10:43] <znf> $f566700a43ee8e1f0412fe10fbdf03df is "$db" if I remember correctly, guess he was too lazy to pass a $db handle to the functions
[04:10:58] <znf> not excusing, just mentioning my observations
[04:11:04] <Blondie101010> sure
[04:14:09] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[04:29:36] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[04:30:26] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:35:08] *** Joins: vlm (~vlm@user/vlm)
[04:42:16] *** Joins: jargon (~jargon@184.101.90.124)
[04:42:27] <jargon> :'( I am having a rough day.
[04:46:52] <jargon> https://www.youtube.com/watch?v=ixskugIPSSQ
[04:47:47] <__adrian> jargon: this channel is not for video/music links
[04:48:02] <jargon> Btw, 988 is now the official American Suicide Prevention Hotline.
[04:48:49] *** Quits: guido (~guido@host-95-239-188-224.retail.telecomitalia.it) (Quit: WeeChat 3.3)
[04:48:59] <__adrian> hm. good to know
[05:11:29] *** Joins: VectorX (~sunilaiya@user/vectorx)
[05:15:44] *** Joins: Rockwood (~Rocky@user/rocky)
[05:18:55] *** Joins: _Ev (~ev@user/ev/x-8999918)
[05:28:46] *** Joins: The_Jag_ (~The_Jag@host-80-180-125-109.retail.telecomitalia.it)
[05:30:59] *** Quits: The_Jag (~The_Jag@host-79-51-167-242.retail.telecomitalia.it) (Ping timeout: 264 seconds)
[05:31:20] <dag> i have some static assets i'd like to reuse in multiple projects. like templates, css and images. how would you package these in a composer package?
[05:33:27] <dag> for templates i'd maybe do `require 'vendor/foo/bar/404.tpl'` but css though? a symlink from public/styles.css => vendor/foo/var/styles.css ?
[05:34:05] <__adrian> i'd ask on #composer but you could just stick them in the repo
[05:34:31] <__adrian> probably have an "installer" script that can copy (some of) them to public/ (or whereever)
[05:34:58] *** Quits: freeman_h (~freeman_h@94.5.86.162) (Read error: Connection reset by peer)
[05:34:58] <dag> thats a good suggestion. thanks
[05:35:03] <__adrian> np
[05:35:15] <__adrian> def ask on #composer though, there might be an existing pattern
[05:35:49] <__adrian> yeah, or symlink
[05:36:19] <_Ev> Hi, I am messing around with PHP for fun.  I have a form   name="foo"  and I want to  echo it here  value="<?php echo $foo ?>".  I am able to echo outside the form but not in the value field. Tips please?
[05:36:40] *** Quits: DrowningElysium (sid190788@user/drowningelysium) (Ping timeout: 252 seconds)
[05:36:46] *** Quits: lind{at}yahoo (uid486956@id-486956.tinside.irccloud.com) (Ping timeout: 245 seconds)
[05:36:55] *** Quits: MrTrick (uid181961@id-181961.uxbridge.irccloud.com) (Ping timeout: 268 seconds)
[05:37:04] <__adrian> (a) when you echo user input (or, _anything_ that is not meant to be html), use https://php.net/htmlspecialchars
[05:37:11] *** Quits: relipse (sid16131@id-16131.tinside.irccloud.com) (Ping timeout: 245 seconds)
[05:37:27] <__adrian> i.e.,  <?= htmlspecialchars($_GET["foo"]) ?>
[05:37:50] *** Quits: epolanski (uid312403@id-312403.helmsley.irccloud.com) (Ping timeout: 260 seconds)
[05:37:53] <__adrian> (b) there's no such thing as a "value field." do you mean, the value attribute?
[05:38:01] *** Quits: genomc (uid245282@id-245282.hampstead.irccloud.com) (Ping timeout: 245 seconds)
[05:38:04] <_Ev> Attribute**
[05:38:13] *** Quits: Beryllium (sid186414@id-186414.lymington.irccloud.com) (Ping timeout: 252 seconds)
[05:38:15] <_Ev> That was my bad.
[05:38:18] <__adrian> <input value="<?= htmlspecialchars($_GET["foo"], ENT_QUOTES) ?>">
[05:38:19] *** Quits: NiKaN (sid385034@id-385034.helmsley.irccloud.com) (Ping timeout: 252 seconds)
[05:38:30] <__adrian> **note** the flags there. it's important.
[05:38:33] *** Quits: Memory (sid459764@user/memory) (Ping timeout: 268 seconds)
[05:38:46] *** Quits: petris (sid19918@user/petris) (Ping timeout: 268 seconds)
[05:39:09] *** Joins: Beryllium (sid186414@lymington.irccloud.com)
[05:39:09] *** Joins: DrowningElysium (sid190788@user/drowningelysium)
[05:39:10] *** Joins: petris (sid19918@user/petris)
[05:39:17] *** Joins: NiKaN (sid385034@helmsley.irccloud.com)
[05:39:18] *** Joins: lind{at}yahoo (uid486956@tinside.irccloud.com)
[05:40:08] <Blondie101010> all that is exactly right, but probably doesn't answer the initial question...  why doesn't it work? :)
[05:40:09] *** Joins: genomc (uid245282@hampstead.irccloud.com)
[05:40:27] <_Ev> Think PHP hates me.  Should I be using   <form action="">  or  action='<?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>'  ?
[05:40:35] *** Joins: epolanski (uid312403@helmsley.irccloud.com)
[05:40:40] <__adrian> you should not be using PHP_SELF
[05:40:54] <_Ev> Thank goodness Blondie101010 is still around. Good to see your name pop up again. Hope you're well.
[05:40:56] <__adrian> do you want the form to submit to the same page?  action="?" is usually fine.
[05:41:24] <_Ev> Same page. Yea just tinkering. Thank you __adrian!
[05:41:52] <__adrian> and yeah, if that's not your question, then please clarify what "doesn't work" means
[05:41:55] <__adrian> welcome
[05:42:12] *** Joins: Memory (sid459764@user/memory)
[05:43:16] <Blondie101010> probably very related
[05:43:31] <Blondie101010> we'd have to see the output
[05:43:35] <_Ev> When I submit the form the value attribute is always empty.   value="".
[05:43:50] <_Ev> I'll try to slim the code down and post a sample. If I may impose of course.
[05:44:04] <Blondie101010> yes please
[05:44:23] <Blondie101010> that is actually what you should do for your own troubleshooting
[05:45:15] <Blondie101010> such tests in tiny form would test the small unit of code (unit testing :)
[05:53:01] *** Joins: MrTrick (uid181961@uxbridge.irccloud.com)
[05:59:39] <_Ev> Something trivial perhaps?:  https://bpa.st/MF2Q
[06:00:25] <_Ev> (just removed the ? from form action). Researching that now. Tried both ways but url returned "?" with it.
[06:04:51] <__adrian> well for starters, if you POST the form then the input is not in $_GET
[06:04:59] <_Ev> Ahh I get it. I'd prefer to echo for post
[06:05:19] <__adrian> https://3v4l.org/XQ1lU
[06:06:08] <__adrian> so the reason i suggested action="?" is it clears out the query string. otherwise, the browser defaults to everything in the address bar.
[06:06:39] <__adrian> this can help prevent phishing or xss attacks
[06:07:05] <__adrian> also, note you use a variable in your html ($test) that does not always exist - this is an error
[06:08:17] <__adrian> i'll give you a minute; when you're ready i have other suggestions  :p
[06:13:38] <_Ev> Maybe my PHP server is misconfigured... I can't get it to work.
[06:13:38] <_Ev> https://bpa.st/MHTQ
[06:13:47] *** Quits: epolanski (uid312403@helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[06:14:14] <_Ev> (don't mean to blame my ineptitude)
[06:14:16] <__adrian> explain how it "doesn't work." what happens?
[06:15:41] <__adrian> oh buh, it's a textarea
[06:15:44] <_Ev> After form submission the textarea is not filled variable $foo from POST
[06:15:51] <__adrian> textareas don't have a value="" attribute
[06:15:53] <_Ev> after submission its still  <textarea name="foo" cols="40" rows="10" value=""></textarea>
[06:16:05] <Blondie101010> ahhhhhhhhhhhhhhhhhhhhhhh
[06:16:07] <_Ev> Placeholder will not keep data though right...
[06:16:39] <__adrian> and it's also not a self-closing tag.  <textarea><?= htmlspecialchars($_POST["foo"]) ?></textarea>
[06:16:55] <Blondie101010> your textarea is not closed either
[06:17:23] <Blondie101010> one thing I do when I test a website is to run the output on a HTML checker
[06:17:32] <__adrian> mm
[06:17:51] <__adrian> you can do that beforehand too; just start by putting together your desired output html
[06:18:18] <__adrian> then swap out the areas that need dynamic content with <?= ?> and boom, you have a template
[06:18:40] <_Ev> Oh my goodness
[06:19:00] <_Ev> Really is no value attribute. I feel so foolish. Just wrap between the tags. Oh boy.
[06:19:08] <_Ev> You hero
[06:19:22] <__adrian> ready for the next advice?
[06:19:40] <_Ev> Indeed; please.
[06:19:51] <__adrian> stop and think about  if (isset($_POST["submimt"]))
[06:19:55] <__adrian> what is this for?
[06:20:00] <__adrian> *submit
[06:20:16] <_Ev> Supposed to be "submitted"?
[06:20:25] <_Ev> To answer though....
[06:20:28] <__adrian> but why? why do you need it? what does it tell you?
[06:20:52] <_Ev> Only perform foo if the form is submitted. Which is not needed because all posts are submitted??
[06:20:58] <Rockwood> __adrian, hi how are you sir?
[06:21:39] <__adrian> yep. it doesn't matter if "submit" exists, because you don't use it for anything. you _do_ use "foo" - so it's "foo" that you should be checking for.
[06:22:10] <__adrian> if (isset($_POST["the"], $_POST["required"], $_POST["fields"])) { /* process the form */ }
[06:23:27] <__adrian> next item: php has csv functions. DO NOT try to write csvs yourself. https://php.net/fputcsv
[06:23:46] <__adrian> if you're going to accept a CSV as plain text, then just write it to file.
[06:24:13] <__adrian> if you want specific data, then make specific fields on the form, organize them as an array, and use fputcsv().
[06:27:24] <_Ev> Very, very nice. I appreciate this/you :)
[06:29:41] <Rockwood> _Ev, if you see the logic step by step you know the facts easily
[06:30:29] <Rockwood> organize is very important key pin
[06:31:54] *** Quits: VectorX (~sunilaiya@user/vectorx) (Quit: Quit)
[06:32:48] *** Joins: VectorX (~sunilaiya@user/vectorx)
[06:48:37] *** Quits: Rockwood (~Rocky@user/rocky) (Read error: Connection reset by peer)
[06:50:17] *** Joins: Rockwood (~Rocky@user/rocky)
[07:02:48] *** Hash is now known as OpenSores
[07:20:57] *** Quits: semeion (~semeion@user/semeion) (Quit: WeeChat 3.3)
[07:48:45] *** Joins: PC_ (~deksar@user/deksar)
[07:50:07] *** Quits: deksar (~deksar@user/deksar) (Ping timeout: 268 seconds)
[07:50:15] *** PC_ is now known as deksar
[07:59:00] *** Quits: DerekTheRed (~portra400@peso.subtitled.com) (Quit: +++NO CARRIER)
[07:59:19] *** Joins: DerekTheRed (~portra400@peso.subtitled.com)
[08:02:15] *** Parts: _Ev (~ev@user/ev/x-8999918) ()
[08:02:37] <dag> im getting duplicate http response headers when using curl_setopt($ch, CURLOPT_HEADERFUNCTION. https://3v4l.org/NNgh2
[08:02:54] <dag> this happens when curl internally does follow redirects
[08:06:08] *** Quits: DaNeenjah (~jake@adsl-74-230-6-204.hsv.bellsouth.net) (Quit: WeeChat 3.3)
[08:07:38] <dag> i guess it makes sense to be able to process all headers. my goal is to only get the response headers of the last http request.
[08:08:28] <Blondie101010> isn't that the last one you get?
[08:08:28] <dag> my logic might be a bit wonky since im accepting duplicate response headers. though i think it's correct e.g. multiple set-cookie headers
[08:09:19] <dag> the provided closure is invoked for each header for all requests. so if there's 5 redirects it is invoked for the headers of all the 5 responses
[08:09:44] <Blondie101010> ok and what is the problem?
[08:09:52] <Blondie101010> if you want the last one, take the last one
[08:10:34] <dag> problem is im getting multiple content-type and date headers with incompatible values
[08:10:48] <dag> how do i "take the last one"?
[08:12:26] <Blondie101010> why do you use CURLOPT_HEADERFUNCTION?
[08:13:06] <dag> okay okay i can take the last 'date' response header that's true. but i need to keep multiple set-cookie headers. i need to keep a list of header names which are allowed to be repeated perhaps?
[08:13:18] <Blondie101010> https://stackoverflow.com/a/9183272/5207302
[08:13:39] <dag> i use CURLOPT_HEADERFUNCTION because i want to produce an array with all response headers
[08:13:55] <Blondie101010> you complained that you only wanted the last one
[08:14:07] <Blondie101010> and your parsing is bad
[08:14:18] <Blondie101010> don't do that
[08:19:10] <dag> yeah your right. i can just take the last one. whats bad with the parsing?
[08:19:29] *** Joins: Lazenca (~lazenca@user/lazenca)
[08:24:52] <Blondie101010> I was hoping to quickly find the function's source code to validate my comment but I can't seem to put my finger on it
[08:24:57] <Blondie101010> damn github
[08:25:57] <Blondie101010> hmmm it's not in php-src
[08:26:18] <Blondie101010> talking about http_parse_headers()
[08:26:46] <Blondie101010> which would be preferable even if your code was perfect
[08:26:57] <Blondie101010> but I'm sure there's something missing
[08:27:05] <dag> admittedly this is shotgun parsing and probably breaks for some cases
[09:10:32] <jargon> Is it okay if I refer to you as "Julie"?
[09:11:14] <Blondie101010> people use nicks
[09:11:27] <jargon> Ok. Sorry.
[09:11:33] <Blondie101010> no worries
[09:12:02] <jargon> I can't get my stat ripper to properly inject floatvals.
[09:13:12] <jargon> It doesn't help that I have been holding back tears for the past 2 weeks.
[09:13:39] *** OpenSores is now known as Hash
[09:13:47] *** Quits: Rockwood (~Rocky@user/rocky) (Read error: Connection reset by peer)
[09:13:50] <Blondie101010> what's the problem with the injection?
[09:14:12] <Blondie101010> preferably provide a code sample demonstrating the issue
[09:14:31] <jargon> Well here's the page output: ?http://puzzlum.net/Roe%20Web%20Builder/mk45CARDS.php
[09:14:36] <jargon> Well here's the page output: http://puzzlum.net/Roe%20Web%20Builder/mk45CARDS.php
[09:15:03] <jargon> Compare prflevad! with Combat::Evasion
[09:15:11] <jargon> See what I mean?
[09:15:33] <jargon> The sample code doesn't glitch.
[09:15:49] <jargon> The realworld code does.
[09:16:09] <Blondie101010> so you need to put traces to find where it happens
[09:16:19] <jargon> I shared the sample code yesterday.
[09:16:41] <Blondie101010> share it again then
[09:17:00] <jargon> I traced by hand, and looked at the entire script.
[09:17:09] <Blondie101010> not helpful
[09:17:23] <Blondie101010> (I mean the comment)
[09:18:44] <Blondie101010> jargon:  but cut to the chase, what's the problem?
[09:18:47] <Blondie101010> is the problem that decimal numbers don't start with a "0"?
[09:18:55] <Blondie101010> that's just a wild guess
[09:20:17] <Blondie101010> do you mean that evasion should show $prflevad ?
[09:25:16] <Blondie101010> jargon: my interest is decreasing by the second
[09:27:08] <Blondie101010> quiz question:  if my interest goes down 1% per second, how many seconds will it take to get to 0?
[09:28:16] <Blondie101010> starting at 100
[09:28:33] <Blondie101010> (want to give all elements :)
[09:29:28] <jargon> I am trimming the sample code.
[09:29:34] <Blondie101010> ok
[09:45:00] *** Quits: fkrauthan (~fkrauthan@user/fkrauthan) (Quit: ZNC - https://znc.in)
[09:46:15] *** Joins: fkrauthan (~fkrauthan@user/fkrauthan)
[09:47:27] *** Quits: fkrauthan (~fkrauthan@user/fkrauthan) (Client Quit)
[09:49:23] *** Joins: fkrauthan (~fkrauthan@user/fkrauthan)
[09:52:36] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Ping timeout: 245 seconds)
[09:58:21] <jargon> Blondie101010 I don't fell. My mom is dying. :(
[09:58:56] <jargon> I am almost done trimming the code.
[09:59:05] <Blondie101010> hmm ok
[09:59:08] <jargon> It is a tough cookie
[09:59:15] *** Joins: tex (~super@user/dix)
[10:04:06] <jargon> Blondie101010, I am exhausted. I must sleep now, ok?
[10:04:24] <Blondie101010> no sleep allowed here
[10:04:33] <Blondie101010> of course go to bed
[10:04:52] *** Parts: jargon (~jargon@184.101.90.124) ()
[10:12:31] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[10:16:46] *** Quits: CrazyEddy (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f) (Ping timeout: 245 seconds)
[10:30:28] *** Joins: CrazyEddy (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f)
[10:44:18] *** Quits: tex (~super@user/dix) (Quit: tex)
[10:53:03] *** Joins: guido (~guido@host-79-18-249-79.retail.telecomitalia.it)
[11:13:39] *** Quits: Ronalds_Mazitis_ (~Ronalds_M@46.109.76.104) (Quit: Connection closed)
[11:21:49] *** Quits: Tempesta (~Tempesta@user/tempesta) (Quit: See ya!)
[11:30:43] *** Joins: ramblebamble (ramblebamb@gateway/vpn/protonvpn/ramblebamble)
[11:49:27] *** Joins: tuskkk____ (uid18470@id-18470.tinside.irccloud.com)
[11:57:19] *** Joins: Awaru (Awaru@gateway/vpn/protonvpn/awaru)
[11:57:31] <Awaru> anyone knowledge bout the php script Net_SmartIRC?
[11:57:51] <ramblebamble> Awaru, link?
[11:58:37] *** Quits: deksar (~deksar@user/deksar) (Remote host closed the connection)
[11:59:03] <Awaru> to what?
[12:03:13] <ramblebamble> The script?
[12:03:51] *** Joins: LucaTM (~LucaTM@user/lucatm)
[12:10:06] <Awaru> idk i asked if someone has knowledge about it
[12:10:34] <Awaru> dont be mad at me but i think ure same good at googling as me
[12:11:46] <Awaru> the story is that i coded a bot with Net_SmartIRC some years ago (probably already like 10 games) and now some time ago i found it again on my disk but it doesnt work anymore... maybe cause the versions are new or something.. dont know
[12:11:58] <Awaru> (an irc bot)
[12:12:07] <Awaru> s/games/years
[12:12:14] <Awaru> *like 10 years
[12:14:37] <ramblebamble> k don't know about it, but maybe I can help non the less, how does it not work?
[12:19:19] *** Joins: deksar (~deksar@user/deksar)
[12:20:15] <Awaru> hmm hard to say now as its a bit time as i tested it the last time and dont have the log now
[12:20:27] <Awaru> and would have to install that program to connect to the server again
[12:21:08] <Awaru> and i just stood up lately and need to go soon too so thats a bit too much work now, i just thought maybe theres someone who has knowledge and can help me later
[12:21:42] *** Joins: Tempesta (~Tempesta@user/tempesta)
[12:22:03] <Awaru> i probably check it later then when im back home
[12:26:12] <ramblebamble> Awaru, look at the script/library look at the version you used last, look for breaking changes, update the usage of the script accordingly, install latest version
[12:26:27] <ramblebamble> run with appropriate version of PHP
[12:31:36] <Awaru> yea i tried that all
[12:31:41] <Awaru> as far as i remember
[12:53:23] *** Quits: ramblebamble (ramblebamb@gateway/vpn/protonvpn/ramblebamble) (Quit: WeeChat 3.2.1)
[13:06:51] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[13:16:35] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Ping timeout: 264 seconds)
[13:35:17] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[13:43:34] *** Joins: genom (~g@37.214.34.163)
[13:50:21] *** Quits: Awaru (Awaru@gateway/vpn/protonvpn/awaru) (Remote host closed the connection)
[13:50:46] *** Joins: Awaru (Awaru@gateway/vpn/protonvpn/awaru)
[13:51:23] *** Quits: Awaru (Awaru@gateway/vpn/protonvpn/awaru) (Remote host closed the connection)
[13:51:42] *** Joins: Awaru (Awaru@gateway/vpn/protonvpn/awaru)
[13:59:14] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[14:20:15] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[14:32:01] *** Quits: lind{at}yahoo (uid486956@tinside.irccloud.com) (Quit: Connection closed for inactivity)
[14:48:47] *** Quits: Lazenca (~lazenca@user/lazenca) (Remote host closed the connection)
[15:34:32] *** Joins: hans (~hans@36.84-48-255.nextgentel.com)
[15:49:46] *** Quits: bytestream (~bytestrea@user/bytestream) (Ping timeout: 252 seconds)
[15:50:47] *** Quits: hans (~hans@36.84-48-255.nextgentel.com) (Ping timeout: 264 seconds)
[16:45:36] *** Quits: jess (~jess@libera/staff/jess) (Quit: Lost terminal)
[16:46:18] *** Joins: jess (~jess@libera/staff/jess)
[16:46:23] *** Joins: WishBoy (~WishBoy@user/wishboy)
[16:48:00] *** Quits: DLange (~DLange@about/linux/staff/DLange) (Quit: \o/ CU soon)
[16:49:20] *** Joins: DLange (~DLange@about/linux/staff/DLange)
[16:57:36] *** Quits: CyberCr33p (~chris@bnc.cretaforce.gr) (Read error: Connection reset by peer)
[16:57:58] *** Joins: CyberCr33p (~chris@bnc.cretaforce.gr)
[17:17:47] *** Quits: CrazyEddy (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f) (Ping timeout: 264 seconds)
[17:30:43] *** Quits: Tempesta (~Tempesta@user/tempesta) (Quit: See ya!)
[17:33:06] *** Joins: tex (~super@user/dix)
[17:35:55] *** Joins: Tempesta (~Tempesta@user/tempesta)
[17:48:06] *** Joins: CrazyEddy (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f)
[18:03:40] *** Joins: semeion (~semeion@user/semeion)
[18:06:40] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[18:10:31] *** Quits: CrazyEddy (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f) (Ping timeout: 245 seconds)
[18:23:21] *** Joins: ms49434 (~ms49434@user/ms49434)
[18:25:51] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[18:26:08] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[18:29:45] *** Joins: CrazyEddy (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f)
[18:37:44] *** night_wulfe__ is now known as night_wulfe
[18:51:16] *** Quits: The_Jag_ (~The_Jag@host-80-180-125-109.retail.telecomitalia.it) (Ping timeout: 252 seconds)
[19:01:37] *** Quits: ms49434 (~ms49434@user/ms49434) (Remote host closed the connection)
[19:04:12] *** Joins: ramblebamble (ramblebamb@gateway/vpn/protonvpn/ramblebamble)
[19:04:37] *** Joins: The_Jag (~The_Jag@host-79-35-46-54.retail.telecomitalia.it)
[20:06:55] *** Quits: Tempesta (~Tempesta@user/tempesta) (Quit: See ya!)
[20:13:32] *** Quits: Awaru (Awaru@gateway/vpn/protonvpn/awaru) (Quit: Leaving)
[20:21:16] *** Joins: Awaru (Awaru@gateway/vpn/protonvpn/awaru)
[20:37:49] *** Joins: Tempesta (~Tempesta@user/tempesta)
[20:38:07] *** Pixi_ is now known as Pixi
[20:40:16] *** Joins: parabellum (~parabellu@p200300d3973a6000821638df25dea015.dip0.t-ipconnect.de)
[21:00:27] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[21:15:31] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[21:16:25] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[21:22:12] *** Joins: Rockwood (~Rocky@user/rocky)
[21:31:49] *** Quits: Rockwood (~Rocky@user/rocky) (Read error: Connection reset by peer)
[21:32:25] *** Quits: sfields (~sfields@2603-8090-1605-d7f3-c420-d162-78e2-1319.res6.spectrum.com) (Quit: Leaving)
[21:51:54] *** Quits: ramblebamble (ramblebamb@gateway/vpn/protonvpn/ramblebamble) (Quit: quick everyone out of the universe)
[22:27:03] *** Quits: fstd (~fstd@xdsl-78-35-82-134.nc.de) (Ping timeout: 265 seconds)
[22:28:32] *** Joins: magla (~gelignite@55d4f7e4.access.ecotel.net)
[22:39:34] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Ping timeout: 252 seconds)
[22:59:55] *** Joins: boubou (~boubou@hide.my.ip.upsidehosting.com)
[23:01:44] *** Joins: novns (~novns@user/novns)
[23:03:01] <novns> warnings are acting weird
[23:03:17] <da_wunder> ?
[23:03:20] <novns> one time I have "Warning: Undefined array key"
[23:03:23] <novns> and it's ok
[23:03:51] <novns> and if I change something not related to this line, the warning is no more
[23:04:09] <novns> and if I change back, the warning doesn't return
[23:04:10] <da_wunder> because that is warning - your application seems not to handle warnings as an errors
[23:04:39] <novns> yes, but it is being shown randomly
[23:04:46] <da_wunder> and really we don't see your screen so, create example to 3v4l.org about your problem
[23:04:52] <novns> one time it's here, another time it's not
[23:05:02] <novns> even if the code is unchanged
[23:05:27] <da_wunder> or create github repository for that where we can actually see that same issue
[23:05:38] *** Joins: jargon (~jargon@184.101.90.124)
[23:05:46] <novns> a minute
[23:06:16] <da_wunder> so it sounds like it's data related, so if your data is an array and it might have some key or not that would explain that
[23:06:22] <jargon> https://pastebin.com/nTPj1tbs This is the best I am able to slim down the example code at this time, sorry. The stats in the table perform seemingly randomly.
[23:06:30] *** Joins: fstd (~fstd@xdsl-81-173-175-11.nc.de)
[23:08:15] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[23:08:51] <novns> da_wunder, I test with an empty array and no external data
[23:09:09] <da_wunder> jargon: not related your issue, but look lines 279:280 - you're starting two <tr> there...
[23:09:34] <da_wunder> novns: please provide an example about your problem
[23:10:39] <novns> sure
[23:10:39] <novns> https://3v4l.org/PXUPn
[23:10:43] <novns> it's that simple
[23:11:23] <novns> sometimes. if I change the code, this warning disappears and doesn't come back if changes are reverted
[23:11:27] <da_wunder> and that is what should be happen - what you want to happen if that key doesn't exists?
[23:11:32] <novns> yes
[23:11:39] <novns> this shall happen
[23:11:56] <novns> the problem is this warning disappears randomly
[23:12:05] <novns> when it should stay there
[23:12:08] <stenno> its not randomly
[23:12:09] *** Joins: WishBoy (~WishBoy@user/wishboy)
[23:12:14] <stenno> its because you change other things
[23:12:14] <da_wunder> novns: then your data is the problem
[23:12:17] <stenno> yeah
[23:12:44] <novns> I don't change anything to these two lines
[23:12:50] <novns> ar related to
[23:12:53] <novns> *or
[23:13:03] <da_wunder> novns: so where is that $test coming from?
[23:13:41] <novns> da_wunder, from database, and it's not changed, I double and triple checked this
[23:13:53] <novns> it's still an empty array
[23:13:54] <da_wunder> from your 3v4l.org example, I get that error each time...
[23:14:31] <da_wunder> so that's is your error - you're expecting that your data has something - and it does not contain that and you're getting that error
[23:14:46] <novns> so something is changing behavior of warnings
[23:14:58] <novns> and I don't know what exactly
[23:15:21] <da_wunder> what you could do is to check that data before you're trying to use it - or just handle that like - https://3v4l.org/CjWF0
[23:15:39] <da_wunder> but really that is your data problem, not php problem
[23:15:44] <stenno> wonder if its something silly with references
[23:16:07] <novns> https://3v4l.org/AUAN1
[23:16:09] <jargon> Thanks for the heads up, da_wunder.
[23:16:21] <novns> look at this little script
[23:16:39] <novns> it shows one warning, and it's ok
[23:16:45] <stenno> works as expected, yeah
[23:16:53] <da_wunder> novns: and that is doing exactly what it should do
[23:16:56] <novns> yes
[23:17:03] <novns> and if I remove the second echo, the first warning disappears
[23:17:11] <novns> and no more warnings
[23:17:19] <stenno> nope
[23:17:23] <stenno> Warning: Undefined array key 0 in /in/8uYB8 on line 4
[23:17:24] <da_wunder> nope
[23:17:25] <novns> yes, it's right here
[23:17:36] <stenno> well then something else in your code is wrong
[23:17:39] <novns> local apache with the latest php
[23:17:44] <stenno> we don't know, because you don't show us the code
[23:17:49] <novns> stenno, there's nothing else
[23:17:50] <stenno> so there is nothing more we can do
[23:17:58] <novns> stenno, the link is there
[23:18:09] <novns> I have no more code in my test
[23:18:18] <novns> it's that simply
[23:18:25] <da_wunder> novns: if you remove that second echo from your latest 3v4l.org you see that same warning...
[23:18:42] <novns> da_wunder, I don't see any
[23:18:57] <novns> maybe something with opcache
[23:19:00] <da_wunder> https://3v4l.org/8uYB8
[23:19:26] <novns> da_wunder, and id doesn't work if I run php from command line
[23:19:38] <novns> *it
[23:19:53] <da_wunder> novns: so please share the actual code that you're using
[23:19:58] <novns> it works with apache+mod_php
[23:20:39] <Blondie101010> novns: considering that everyone else sees the warning on the same 3v4l link kind of tells us that you're not reading or seeing properly
[23:21:12] <novns> da_wunder, the problem exists with these small test I gave you
[23:21:22] <novns> *this
[23:21:47] <Blondie101010> maybe you should start over...  show a very short code sample demonstrating your problem please
[23:21:54] <novns> ok, I disabled the opcache extension
[23:22:06] <novns> and warnings are where they have to be
[23:22:26] <novns> and never disappear anymore
[23:23:15] <Blondie101010> what steps did you follow to disable it?
[23:23:45] <novns> Blondie101010, comment out zend_extension=opcache and restarted  apache
[23:23:52] <Blondie101010> did you try to simply restart apache?
[23:23:57] <novns> yes
[23:24:39] <novns> if opcache is there, the warning shows for the first time again
[23:25:13] <Blondie101010> and they keep showing until you change the code, right?
[23:25:16] <novns> and then disappears after the unrelated modification of code
[23:25:18] <jargon> https://pastebin.com/HFU912hP The "Stamina" stat in the generated sheet is zero and I don't understand why. I apoogize, this is the best I could slim down the sample code.
[23:25:18] <novns> yes
[23:25:56] <novns> change some unrelated code - and warning disappears
[23:26:10] <novns> and never comes back if changes are reverted
[23:26:14] <Blondie101010> certainly not unrelated or they wouldn't disappear
[23:26:29] <jargon> novns, is your computer infected with undertheweather.xyz?
[23:26:36] <novns> looks like some collision in opcache
[23:27:04] <novns> jargon, what's that?
[23:27:12] <Blondie101010> no, sounds like bad troubleshooting
[23:27:18] <jargon> Its the latest trending virus,
[23:27:21] <Blondie101010> show your exact operations if you want assistance
[23:27:46] <novns> sure
[23:27:59] <novns> start with this script https://3v4l.org/PXUPn
[23:28:28] <novns> add two lines https://3v4l.org/FMfIB
[23:28:45] <novns> remove two lines and go back to https://3v4l.org/PXUPn
[23:28:54] <novns> the warning disappears
[23:29:12] <novns> until apache+mod_php restarted
[23:29:16] <da_wunder> and those all working just as expected - as does the 3v4l.org show
[23:29:47] <novns> da_wunder, no, the warning shall stay for the first $test[1]
[23:30:12] <novns> because the array is still empty
[23:31:11] <novns> and disabling the opcache extension helps, the warning does not disappear anymore
[23:31:27] <da_wunder> novns: none of those 3v4l.org examples doesn't show that what you're telling - those all 3v4l.org  examples are doing exactly the expected
[23:31:30] <Blondie101010> novns:  so after the 2 lines, do you still have the warning?
[23:32:30] <novns> Blondie101010, it can disappear after adding 2 lines, and it could stay
[23:32:34] <novns> randomly
[23:32:51] <Blondie101010> then you're missing the real problem
[23:32:51] *** Quits: jgrim (~jgrim@d60-65-99-197.col.wideopenwest.com) (Quit: Buh bye!)
[23:33:05] <Blondie101010> not due to the operations you mention
[23:33:08] <novns> but if you remove these two lines, the warning disappears always
[23:33:37] <novns> looks like a bug in opcache
[23:33:42] *** Joins: jgrim (~jgrim@d60-65-99-197.col.wideopenwest.com)
[23:33:50] <Blondie101010> novns:  do you have any way to test this on a different host?
[23:33:55] <novns> yes, I will
[23:34:11] <novns> I will test it more and report
[23:34:58] <Blondie101010> sounds good
[23:35:19] <novns> and I will avoid using PHP :)
[23:36:28] <da_wunder> why?
[23:36:40] <novns> now I'm just helping to maintain a script for my job
[23:37:04] <novns> and it's easier to rewrite it with another language
[23:37:26] <da_wunder> so why don't you do that then?
[23:37:44] <novns> I will, just thought why not to fix it as it is
[23:38:34] <da_wunder> and the problem isn't the code itself - just buggy opacache - so I would recommend you to check if there is updates for that
[23:38:49] <novns> I have latest versions here
[23:39:08] <da_wunder> and that said, I would not complain language itself
[23:39:23] <novns> nobody complains about the language
[23:39:27] <novns> bugs happen
[23:40:01] <da_wunder> and have look if there is an issue about that in opcache?
[23:40:06] <novns> sure
[23:40:38] <jargon> It works 100% OK now! :D https://pastebin.com/Xd0LfVdV
[23:41:07] <stenno> inb4 @
[23:41:15] <novns> there was another weird behavior, but it was due to some extension installed, recommended by PHPUnit
[23:43:25] <novns> it was the uopz extension,
[23:44:19] <novns> exit() stopped exiting for example
[23:44:53] <da_wunder> first time heard that extension...
[23:46:13] <da_wunder> novns: where did you see that phpunit recommends that extension?
[23:46:29] <novns> da_wunder, composer suggests --all
[23:46:50] <novns> sebastian/global-state suggests:  - ext-uopz: *
[23:47:07] <novns> da_wunder, https://www.php.net/manual/en/book.uopz.php
[23:47:12] <da_wunder> that is different library than phpunit...
[23:47:21] <novns> and phpunit uses it
[23:47:56] <novns> so it's recommended by dependencies
[23:48:46] <da_wunder> never used that myself
[23:48:51] <novns> me too
[23:49:39] <novns> I've just installed it when asked, and removed it after debugging of some nonsense
[23:50:45] <novns> *when asked to
[23:52:00] *** Joins: ms49434 (~ms49434@user/ms49434)
