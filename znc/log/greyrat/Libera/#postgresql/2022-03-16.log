[00:03:46] *** Quits: jrjsmrtn (~jrjsmrtn@ip-83-134-41-224.dsl.scarlet.be) (Read error: Connection reset by peer)
[00:03:54] *** Joins: dfee (~dfee@12.207.156.194)
[00:03:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[00:04:26] *** Joins: fcr (~fran@r186-48-143-252.dialup.adsl.anteldata.net.uy)
[00:08:12] *** Joins: jrjsmrtn (~jrjsmrtn@ip-83-134-41-224.dsl.scarlet.be)
[00:12:21] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[00:15:54] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[00:16:28] *** Joins: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com)
[00:16:37] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Client Quit)
[00:16:50] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 252 seconds)
[00:19:18] *** Joins: kitsunenokenja (~kitsunech@68.91.220.96)
[00:21:33] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[00:21:49] *** Quits: csd (~csd@c-73-22-175-211.hsd1.il.comcast.net) (Quit: Client closed)
[00:22:28] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[00:23:12] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Client Quit)
[00:26:03] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[00:26:45] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 252 seconds)
[00:27:51] *** Joins: BSaboia (~bsaboia@2a05:f480:1400:b88:5400:3ff:fe51:575c)
[00:29:12] <BSaboia> Hello. There was a huge insertion of data  in some table or tables. How can I know where did it go?
[00:30:27] *** Joins: Dr-007 (~Dr-007@user/Dr-007)
[00:30:27] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Read error: Connection reset by peer)
[00:31:09] <Dr-007> hey guys. im having a problem. ive imported a csv file to my database table but now it seems like my auto increment value isnt up to date to the last id
[00:31:24] <Dr-007> when i try to add a row via bbeaver it tries to use one thats already in use
[00:31:34] <Dr-007> how / where should i look?
[00:32:10] *** Quits: mauz (~mauz@2a01:e0a:994:7ed0:d42e:54ce:ab14:af5e) (Quit: Leaving...)
[00:32:16] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[00:32:25] <Dr-007> id is now a bigserial with default nextval('voice_keywords_id_seq'::regclass)
[00:33:53] *** Quits: magla (~gelignite@d536591f.access.ecotel.net) (Quit: Stay safe!)
[00:34:25] *** Joins: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt)
[00:34:46] *** Quits: mizi (~mizi@user/mizi) (Ping timeout: 250 seconds)
[00:35:09] <nbjoerg> Dr-007: update the sequence to the max currently in use
[00:35:36] <Dr-007> what? how?
[00:35:46] <Dr-007> i dont get it
[00:36:07] <Dr-007> but never mind, i already truncated it
[00:36:20] <Dr-007> i figured it mightve been because of dbeaver and its csv file import
[00:36:37] <Dr-007> so i just run the sql queries that ive got laying around
[00:36:40] <Dr-007> should be fixed then
[00:36:41] <nbjoerg> SELECT setval('voice_keywords_id_seq', MAX(id), true) FROM voice_keywords ORDER BY id DESC LIMIT 1
[00:36:44] <nbjoerg> or so
[00:37:09] <Dr-007> ah, nice thanks. i will keep this for later on if i run into it again
[00:37:34] *** Joins: Fairy97 (~Fairy@2001:464a:4992:0:f470:9081:bd76:4326)
[00:40:33] <Dr-007> ive editted it to another table
[00:40:34] <Dr-007> SELECT setval('voice_functions_id_seq', MAX(id), true) FROM voice_functions ORDER BY id DESC LIMIT 1
[00:40:37] *** Quits: Fairy (~Fairy@2001:464a:4992:0:5c5f:ad85:d2cd:496f) (Ping timeout: 240 seconds)
[00:40:44] *** Quits: realies (~realies@user/realies) (Read error: Connection reset by peer)
[00:40:48] <Dr-007> SQL Error [42803]: ERROR: column "voice_functions.id" must appear in the GROUP BY clause or be used in an aggregate function
[00:40:48] <Dr-007>   Position: 86
[00:40:52] *** Joins: realies (~realies@user/realies)
[00:41:14] <nbjoerg> ah, ok. either drop everything after ORDER by or add a "GROUP BY id"
[00:41:31] <nbjoerg> it's just intended to skip a full table scan
[00:42:19] *** Quits: Giovanni (~Giovanni@176.219.119.243) (Ping timeout: 250 seconds)
[00:42:34] *** Joins: Giovanni (~Giovanni@176.54.32.122)
[00:43:06] <Dr-007> ok, that works. setval: 113
[00:43:22] <Dr-007> lets hope it takes in my php code
[00:47:23] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[00:47:27] <Dr-007> yeah, that seemed to work
[00:47:45] *** Joins: jo-so (~jo-so@2001:470:69fc:105::176)
[00:49:05] *** Quits: dfee (~dfee@12.207.156.194) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:49:35] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[00:52:03] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 252 seconds)
[00:53:01] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[00:53:04] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[00:54:19] *** Quits: shavefan4 (~ShaveFan@ns338419.ip-178-32-221.eu) (Quit: Ping timeout (120 seconds))
[00:54:39] *** Joins: shavefan4 (~ShaveFan@shavefan.com)
[00:55:21] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[01:00:13] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[01:01:57] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[01:04:27] <cliluw> When I use a server-side cursor to run a query, when is the query actually run? Is it run up front when I do the DECLARE?
[01:05:56] <StuckMojo> no
[01:06:28] <StuckMojo> not until you execute it, and even then, potentially only the part you've asked for is run
[01:06:33] <jo-so> The hstore type provides an operation to calculate the set difference (`EXCEPT`) of two records. Is there something similiar for jsonb? The best I've got is `select to_jsonb(select * from jsonb_each('{"a":1, "b":2}'::jsonb) except select * from jsonb_each('{"a":1}'::jsonb));`, but I don't know how to convert it back to jsonb.
[01:07:29] <cliluw> StuckMojo: Thanks.
[01:07:54] <jo-so> I want to use this to calculate the difference (the changed values) between OLD and NEW in a trigger.
[01:08:08] <cliluw> One more question, where can I go to read up on server-side cursors? I read the docs on https://www.postgresql.org/docs/current/sql-declare.html and it wasn't very useful.
[01:08:49] *** Quits: TomyWork (~TomyLobo@p200300e80f15820040d7f921142b8d51.dip0.t-ipconnect.de) (Remote host closed the connection)
[01:12:09] *** Quits: tofran5 (~tofran@bl15-47-228.dsl.telepac.pt) (Read error: Connection reset by peer)
[01:14:02] *** Joins: funhouse (~funhouse@user/funhouse)
[01:15:22] *** Quits: _xor (~xor@dsl-50-5-233-169.fuse.net) (Read error: Connection reset by peer)
[01:15:22] *** Quits: Dr-007 (~Dr-007@user/Dr-007) (Quit: Leaving)
[01:16:43] *** Joins: tofran55 (~tofran@bl15-47-228.dsl.telepac.pt)
[01:19:35] *** Joins: velix (~velix@user/velix)
[01:19:39] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[01:19:43] <velix> It's really interesting on my system:
[01:19:43] <velix> a) "GROUP BY first" is way quicker than DISTINCT an/or DISTINCT ON (first)
[01:19:43] <velix> b) JOIN is way quicker than WHERE EXISTS IN
[01:19:43] <velix> I guess that's because of parallel processing?!
[01:19:59] <velix> I'll provide plans later. I just wanted to share my experience :D
[01:21:34] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 250 seconds)
[01:24:07] *** Quits: Su-Shee (~Susanne@88-125-142-46.pool.kielnet.net) (Ping timeout: 256 seconds)
[01:25:46] *** Joins: Su-Shee (~Susanne@191-110-142-46.pool.kielnet.net)
[01:25:52] *** Quits: michalz (~michalz@185.246.204.43) (Remote host closed the connection)
[01:25:54] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[01:26:25] <ash_worksi> how do you manage users/passwords for deployment?
[01:26:37] *** Quits: realies (~realies@user/realies) (Ping timeout: 268 seconds)
[01:26:47] <StuckMojo> ??cursor
[01:26:47] <pg_docbot> https://www.postgresql.org/docs/current/static/plpgsql-cursors.html :: https://www.postgresql.org/docs/current/interactive/sql-declare.html
[01:26:54] <ash_worksi> I know of people that use scripts to grant users stuff that are deployed through ansible or whatever
[01:27:10] <ash_worksi> but I'm sure you don't want to commit a user/password
[01:27:40] <ash_worksi> or do you?
[01:27:43] *** Joins: realies (~realies@user/realies)
[01:27:55] <StuckMojo> cliluw: there's a bit more on the FETCH page
[01:28:28] *** Joins: michalz (~michalz@185.246.204.41)
[01:28:42] *** Quits: michalz (~michalz@185.246.204.41) (Remote host closed the connection)
[01:28:46] <ash_worksi> I guess just the password can be an environment variable
[01:28:50] <StuckMojo> cliluw: what more are you looking for that's not on the DECLARE page?
[01:29:06] <StuckMojo> DECLARE/FETCH/MOVE/CLOSE pages...
[01:29:24] <ash_worksi> but that would mean that you have to come up with a concrete way to map users and passwords
[01:30:27] <ash_worksi> or the script I guess could prompt for a password
[01:31:14] *** Joins: michalz (~michalz@185.246.204.43)
[01:31:33] *** Quits: Intelo (~Intelo@user/Intelo) (Quit: Client closed)
[01:31:53] <StuckMojo> cliluw: the concept is generically from RDBMSes, so any stuff that talks about database concepts
[01:32:03] *** Quits: shka (~herr@109.231.3.55) (Ping timeout: 256 seconds)
[01:34:20] <velix> ash_worksi: vault
[01:34:31] <ash_worksi> velix: I'll look at that
[01:34:41] <velix> ash_worksi: but that might not be suitable for you!
[01:34:53] <ash_worksi> well, I current use docker secrets
[01:35:23] <ash_worksi> but the problem is, lets say I start writing a bunch of tables for a new feature only some new worker is supposed to use
[01:35:26] <cliluw> StuckMojo: I'm looking for a bit of implementation detail that would affect usage of it. For instance, if the query takes a long time to run, I'd want to know when I will have to do that waiting when I use SSC. I also want to know how much memory the cursor will use.
[01:35:28] <velix> I'm using vault to manage encryption sevrets on user base. Each user has a different encryption password in my database :D
[01:35:31] <ash_worksi> then I need to have a script to apply privileges right?
[01:35:34] <cliluw> This person had the same question on the mailing list. https://www.postgresql.org/message-id/CAMa94Aj83Bbb_6vejcdWkVnZZEBNeuhS6-jTxgKv=ddn4od_Tg@mail.gmail.com
[01:35:52] *** Quits: electron^-892402 (~electron^@212.66.122.116) (Quit: Ping timeout (120 seconds))
[01:35:57] *** Quits: rewrit3 (~rewrit3@user/rewrit3) (Remote host closed the connection)
[01:36:04] *** Joins: electron^-892402 (~electron^@212.66.122.116)
[01:36:04] * ash_worksi reading
[01:36:23] <ash_worksi> oh that wasn't for me
[01:36:37] <ash_worksi> velix: like, do you use scripts to manage privileges?
[01:36:50] *** Quits: michalz (~michalz@185.246.204.43) (Remote host closed the connection)
[01:38:02] *** Quits: Su-Shee (~Susanne@191-110-142-46.pool.kielnet.net) (Ping timeout: 250 seconds)
[01:38:46] <StuckMojo> cliluw: memory would be totally dependant on the query result set size
[01:38:52] <velix> ash_worksi: Actually yes. That's easier for me.
[01:39:58] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Remote host closed the connection)
[01:40:00] *** Joins: Su-Shee (~Susanne@121-109-142-46.pool.kielnet.net)
[01:40:35] <ash_worksi> velix: okay, so firstly, how do you deal with this scenario: say you have a migration where you `DROP some_table ...; CREATE some_other_table` ... *if* you migrate this to production as is, you'll need to run a script to give privileges at the same time right?
[01:40:45] <StuckMojo> cliluw: re: that email question: to my uderstanding, if possible, execution is actually stopped on the server side between fetches. i.e. it only gathers what you ask for, if it can. if you've done something that requires the whole result set to be sorted after being fetched, then clearly it can't
[01:40:57] <StuckMojo> the result is not generated over an over though
[01:40:58] <ash_worksi> velix: (lest you break your application temporarily)
[01:41:06] *** Quits: mithnae (~maintenan@89-65-32-154.dynamic.chello.pl) (Quit: Konversation terminated!)
[01:41:16] <cliluw> StuckMojo: Thanks, that's what I was looking for.
[01:41:30] <StuckMojo> cliluw: the answers you seek are difinitively in the source code
[01:41:59] <StuckMojo> there's probably a big block comment above the function that starts up execution of a cursor
[01:42:34] <StuckMojo> cliluw: people really don't use them anymore, that's why you can't find much about them. they are an artifact of the 1970s
[01:43:11] * ash_worksi used cursors like a year ago 
[01:43:14] <ash_worksi> (not for any practical reason)
[01:43:17] <StuckMojo> or maybe even 80s, but were pretty much dead by the turn of the century because client memory amounts became large enough to make them obsolete
[01:44:38] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[01:45:28] <velix> ash_worksi: Oh sorry, I'm using it for access rights only :(
[01:46:38] <ash_worksi> I mean... maybe there's not a terrific way to handle this other than have the app redirect to "temporarily unavailable" until you complete the migration
[01:47:28] <StuckMojo> cliluw: also, to my knowledge, plpgsql cursors are regular cursors under the hood, so most of what you read here implicitly tells you about regular cursors: https://www.postgresql.org/docs/14/plpgsql-cursors.html
[01:47:39] *** Joins: _xor (~xor@dsl-50-5-233-169.fuse.net)
[01:48:37] <ash_worksi> wait... what is the word that differentiates statements like `CREATE ROLE`/`CREATE DATABASE` from `CREATE TABLE` ?
[01:48:46] <ash_worksi> is there a word for that? globals?
[01:51:49] <ash_worksi> I guess it doesn't matter because whatever changes you make to the application will need to be deployed in tandem with the database anyway
[01:51:55] <ash_worksi> I don't understand how people do HA
[01:52:43] <ash_worksi> probably by having a duplicate env you switch to temporarily
[01:54:21] *** Quits: manti7 (~manti7@176.10.104.94) (Quit: WeeChat 3.4)
[01:55:27] *** Joins: dfee (~dfee@12.207.156.194)
[01:58:50] *** Quits: k8yun (~k8yun@user/k8yun) (Ping timeout: 250 seconds)
[02:02:30] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 260 seconds)
[02:06:23] *** Parts: velix (~velix@user/velix) (Leaving)
[02:09:00] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 240 seconds)
[02:10:28] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[02:15:06] *** Quits: Guest7375 (~vit@chello085216193138.chello.sk) (Ping timeout: 260 seconds)
[02:15:24] *** Joins: danielgee_7 (~danielgee@static-n49-176-150-200.meb4.vic.optusnet.com.au)
[02:15:33] *** Joins: mauz (~mauz@2a01:e0a:994:7ed0:d42e:54ce:ab14:af5e)
[02:15:48] *** Quits: danielgee (~danielgee@static-n49-176-150-200.meb4.vic.optusnet.com.au) (Ping timeout: 240 seconds)
[02:18:02] *** Joins: sfkeller[m] (~sfkellerm@2001:470:69fc:105::31a2)
[02:18:45] <concrete-houses> I set the autovacuum and analyze threshold to 0.0001 on a table in staging and its still not being autovacuumed/analyzed
[02:18:50] <concrete-houses> what am I doing wrong?
[02:19:04] <concrete-houses> autovacuum and track_counts are on
[02:22:04] *** Joins: schinckel (uid38120@user/schinckel)
[02:23:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[02:23:20] *** Quits: Reiner_Unsinn (~quassel@p5dd47daa.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[02:24:04] *** Joins: aremaref_ (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[02:24:36] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Ping timeout: 240 seconds)
[02:24:47] *** Quits: DNH (~DNH@2a02:8108:1100:16d8:2015:9361:6306:3ac4) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:25:19] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 256 seconds)
[02:26:14] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Remote host closed the connection)
[02:26:43] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[02:26:59] *** Joins: podverse-mitch (~mitch-pod@2603:300a:1eba:0:ec17:4155:f92d:27b1)
[02:28:09] <StuckMojo> concrete-houses: i assume you actually wrote to it?
[02:31:06] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[02:32:52] *** Quits: dfee (~dfee@12.207.156.194) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:33:32] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[02:34:12] <StuckMojo> concrete-houses: if the table isn't changed, it won't trigger it
[02:34:24] *** Joins: dfee (~dfee@12.207.156.194)
[02:35:45] *** Quits: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt) (Quit: Lost terminal)
[02:35:50] *** Quits: dfee (~dfee@12.207.156.194) (Client Quit)
[02:36:16] *** Quits: LuxuryMode (uid91005@id-91005.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[02:46:17] *** Quits: bmomjian (~bruce@momjian.us) (Quit: Leaving.)
[02:46:21] *** Joins: bmomjian1 (~bruce@momjian.us)
[02:49:25] *** Quits: podverse-mitch (~mitch-pod@2603:300a:1eba:0:ec17:4155:f92d:27b1) (Remote host closed the connection)
[02:50:52] <concrete-houses> its working
[02:50:55] <concrete-houses> wow
[02:50:59] <concrete-houses> something worked for me!
[02:51:13] <StuckMojo> well, don't get too excited, "auto" is in the name...
[02:51:16] <StuckMojo> :P
[02:51:24] <concrete-houses> How do I learn to be very good with postgres?
[02:51:31] <StuckMojo> practice
[02:51:51] <concrete-houses> I literally copy every query I find useful to a notepad doc......
[02:52:02] *** Joins: zeden (~zeden@user/zeden)
[02:52:18] *** Joins: podverse-mitch (~mitch-pod@2603:300a:1eba:0:108e:3a31:945:35f8)
[02:52:22] <StuckMojo> practical practice helps. first get some apps working on it, like a message board or something, then graduate to writing an app yourself
[02:55:52] *** Quits: AceSlash (~slash@2a01:e0a:432:c050:cd12:393c:3664:2a6e) (Quit: Leaving)
[02:57:44] <sobel> learn how to test your schemas
[02:58:43] <sobel> treat the database and every DDL statement like code because it is
[02:58:59] <sobel> design, test, QA, versioning, etc.
[02:59:41] <sobel> most importantly, practice
[03:00:13] <sobel> try to answer all the questions here, at least to yourself
[03:01:02] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[03:02:09] *** Joins: dfee (~dfee@12.207.156.194)
[03:03:45] *** michelle_ is now known as Michelle
[03:05:23] *** Joins: funhouse (~funhouse@user/funhouse)
[03:05:34] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 250 seconds)
[03:11:59] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[03:13:41] <Sammitch> is it possible/advisable to use pg_upgrade to go from 10 straight to 14?
[03:14:20] <johto> no reason not to, as far as I know
[03:15:20] <maciek_> Sammitch, yes/yes. We just did that in prod a few days ago and it went great. You should probably review release notes of the intervening major releases, but it should just work.
[03:17:20] <Sammitch> phew, thx. thankfully we've got a few test clusters/envs to run through the mill before throwing prod under the bus
[03:20:15] *** Joins: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net)
[03:21:22] <maciek_> concrete-houses, there's a lot of blog posts about Postgres as well--it's a great way to learn. E.g., the Postgres Weekly newsletter often features good articles (full disclosure: my employer advertises in the newsletter sometimes).
[03:21:47] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[03:23:43] *** Joins: DNH (~DNH@2a02:8108:1100:16d8:2015:9361:6306:3ac4)
[03:24:38] <ario> I'm trying to figure out what indexes i need with these additional queries: https://dbfiddle.uk/?rdbms=postgres_14&fiddle=46837c7e811b09c0ee062fac7522d936
[03:25:26] <ario> is there a good way to find the most optimial indexes?
[03:25:45] <ario> i've kinda implified the table names
[03:30:29] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 256 seconds)
[03:31:56] *** Quits: dfee (~dfee@12.207.156.194) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:32:43] *** Joins: nulixes1 (~Thunderbi@gateway/vpn/pia/nulixes)
[03:33:22] *** Quits: DNH (~DNH@2a02:8108:1100:16d8:2015:9361:6306:3ac4) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:34:17] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 240 seconds)
[03:34:17] *** nulixes1 is now known as nulixes
[03:36:10] *** Quits: podverse-mitch (~mitch-pod@2603:300a:1eba:0:108e:3a31:945:35f8) (Remote host closed the connection)
[03:38:57] *** Quits: aremaref_ (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[03:39:41] *** Quits: pedja (~pedja@user/deus-ex/x-7934090) (Quit: Leaving)
[03:46:21] *** Quits: jancoow (~jancoow@user/jancoow) (Ping timeout: 256 seconds)
[03:47:37] *** Quits: Auron (Auron956@user/auron) (Remote host closed the connection)
[03:48:09] *** Joins: dfee (~dfee@162-227-164-101.lightspeed.sntcca.sbcglobal.net)
[03:48:44] <concrete-houses> awesome
[03:49:06] *** Joins: nulixes1 (~Thunderbi@gateway/vpn/pia/nulixes)
[03:49:08] <concrete-houses> How do i have postgresql show me the queries keeping it busy?
[03:49:31] <concrete-houses> How do i not have roles mess up backups? same name in each environment
[03:49:33] <concrete-houses> ?
[03:49:45] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 256 seconds)
[03:49:45] *** nulixes1 is now known as nulixes
[03:50:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[03:52:28] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[03:53:20] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[03:54:27] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[03:55:00] <concrete-houses> I have a slow queries query using pg_stat_statements but it shows compilatino from say last few months or whenever last resset.....so hard to see what query going bad in last hour
[03:58:09] *** Joins: sin1943 (~sin1943@101.207.134.13)
[03:58:49] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 256 seconds)
[03:59:16] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Remote host closed the connection)
[04:04:34] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[04:04:36] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[04:05:16] <cliluw> concrete-houses: You can run pg_stat_statements_reset to wipe the records and then wait an hour.
[04:07:42] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[04:08:18] *** Joins: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29)
[04:08:50] *** Quits: sin1943 (~sin1943@101.207.134.13) (Read error: Connection reset by peer)
[04:11:09] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[04:12:21] *** Joins: k8yun (~k8yun@user/k8yun)
[04:15:17] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[04:15:42] *** Quits: tozhu (~tozhu@218.89.253.208) (Quit: tozhu)
[04:20:16] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[04:20:51] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[04:22:12] *** Quits: wasutton (~wasutton3@75-46-236-127.lightspeed.tukrga.sbcglobal.net) (Ping timeout: 272 seconds)
[04:23:05] *** Quits: mauz (~mauz@2a01:e0a:994:7ed0:d42e:54ce:ab14:af5e) (Quit: Leaving...)
[04:27:38] *** Joins: Junxter (~Junxter@222.94.37.130)
[04:28:59] *** Joins: jazzy (~jaziz@user/jaziz)
[04:42:33] *** Quits: ivii (~ivan@user/ivii) (Remote host closed the connection)
[04:43:10] *** Joins: krismatrix (~krismatri@c-73-212-30-17.hsd1.md.comcast.net)
[04:44:27] *** Quits: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon) (Remote host closed the connection)
[04:44:50] *** Joins: GNUmoon (~GNUmoon@gateway/tor-sasl/gnumoon)
[04:45:26] *** Quits: Slade (uid128877@user/slade) (Quit: Connection closed for inactivity)
[04:45:48] *** Quits: kakashiA1 (~kakashi@41.143.4.33) (Ping timeout: 268 seconds)
[04:51:00] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[04:51:58] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 268 seconds)
[04:59:47] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 256 seconds)
[05:00:23] *** Quits: rb (~augh@alogs.space) (Remote host closed the connection)
[05:00:47] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[05:01:27] *** Quits: acidsys (~LSD@2a03:4000:55:d20::3) (Excess Flood)
[05:01:37] *** Joins: rwb (~augh@alogs.space)
[05:01:58] *** Joins: acidsys (~LSD@2a03:4000:55:d20::3)
[05:04:45] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[05:05:00] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[05:07:24] *** Quits: Faradome (~Faradome@ec2-50-19-182-22.compute-1.amazonaws.com) (Quit: Bye...)
[05:18:50] *** Joins: jazzy2 (~jaziz@user/jaziz)
[05:19:10] *** Quits: ianthrive (~ianthrive@166.70.191.9) (Quit: Textual IRC Client: www.textualapp.com)
[05:19:50] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[05:21:57] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[05:22:48] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[05:24:34] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 260 seconds)
[05:29:22] *** Quits: davidfetter_work (~davidfett@c-73-252-148-184.hsd1.ca.comcast.net) (Quit: leaving)
[05:32:02] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:32:12] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 240 seconds)
[05:37:14] *** Quits: f3f3lix (~weechat@55d43204.access.ecotel.net) (Ping timeout: 250 seconds)
[05:37:37] *** Quits: krismatrix (~krismatri@c-73-212-30-17.hsd1.md.comcast.net) (Quit: Leaving)
[05:37:49] *** jazzy2 is now known as jazzy
[05:39:11] *** Joins: f3f3lix (~weechat@55d4238c.access.ecotel.net)
[05:41:28] <ario> hmm
[05:41:35] <ario> not sure how to optimize this query
[05:42:45] *** Joins: podverse-mitch (~mitch-pod@c-67-176-209-81.hsd1.il.comcast.net)
[05:43:17] *** Quits: haniaF (~haniaF@79.191.94.234.ipv4.supernova.orange.pl) (Ping timeout: 240 seconds)
[05:44:25] *** Joins: haniaF (~haniaF@83.24.44.138.ipv4.supernova.orange.pl)
[05:46:57] *** Quits: podverse-mitch (~mitch-pod@c-67-176-209-81.hsd1.il.comcast.net) (Ping timeout: 250 seconds)
[05:51:35] *** Quits: rdunklau (~rdunklau@static-176-158-121-96.ftth.abo.bbox.fr) (Ping timeout: 256 seconds)
[05:51:36] *** Joins: rdunklau_ (~rdunklau@static-176-158-121-96.ftth.abo.bbox.fr)
[05:53:44] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Quit: WeeChat 3.0)
[05:56:07] *** Quits: Su-Shee (~Susanne@121-109-142-46.pool.kielnet.net) (Ping timeout: 256 seconds)
[05:57:40] *** Joins: Su-Shee (~Susanne@76-125-142-46.pool.kielnet.net)
[05:57:45] *** Quits: inak (~justme@209-112-220-139-radius.dynamic.acsalaska.net) (Quit: Leaving)
[05:58:12] *** Quits: MrZeus_ (~MrZeus@89.238.143.231) (Ping timeout: 240 seconds)
[05:58:57] *** Joins: zzing (~zzing@d24-57-14-115.home.cgocable.net)
[05:59:35] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[06:00:29] *** Quits: Cleverness (~Clevernes@pool-108-54-152-186.nycmny.fios.verizon.net) (Quit: Leaving)
[06:04:55] *** Joins: wasutton (~wasutton3@75-46-236-127.lightspeed.tukrga.sbcglobal.net)
[06:07:25] *** Joins: austb_ (~austb@158.104.170.238)
[06:07:42] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[06:08:57] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 240 seconds)
[06:09:23] *** jazzy is now known as chouxshiner
[06:09:28] *** chouxshiner is now known as jazzy
[06:10:10] *** Quits: n0fun (~jack@i577BC075.versanet.de) (Ping timeout: 250 seconds)
[06:11:45] *** Quits: austb_ (~austb@158.104.170.238) (Ping timeout: 256 seconds)
[06:12:08] *** Joins: kitsunenokenja (~kitsunech@68.91.220.96)
[06:12:33] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 256 seconds)
[06:13:22] *** Quits: zzing (~zzing@d24-57-14-115.home.cgocable.net) ()
[06:14:05] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[06:14:49] *** Joins: Faradome (~Faradome@129.158.252.89)
[06:15:47] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[06:16:42] *** Joins: austb_ (~austb@158.104.170.238)
[06:20:12] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 240 seconds)
[06:23:10] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[06:32:15] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[06:33:18] *** Quits: kyshoc (~kyshoc@user/kyshoc) (Quit: ZNC 1.8.2 - https://znc.in)
[06:33:33] *** Joins: kyshoc (~kyshoc@adsl-99-93-208-248.dsl.mtry01.sbcglobal.net)
[06:33:33] *** Quits: kyshoc (~kyshoc@adsl-99-93-208-248.dsl.mtry01.sbcglobal.net) (Changing host)
[06:33:33] *** Joins: kyshoc (~kyshoc@user/kyshoc)
[06:35:39] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[06:40:04] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Ping timeout: 250 seconds)
[06:40:17] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4.1)
[06:40:37] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[06:52:17] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Remote host closed the connection)
[06:52:42] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[07:02:37] *** Quits: maciek_ (~maciek@2600:1700:a412:1c00:b550:8a97:3530:997b) (Ping timeout: 240 seconds)
[07:06:45] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[07:16:53] *** Joins: krismatrix (~krismatri@c-73-212-30-17.hsd1.md.comcast.net)
[07:19:19] *** Quits: noarb (~noarb@user/noarb) (Quit: ZNC 1.8.2 - https://znc.in)
[07:19:29] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:20:10] *** Joins: noarb (~noarb@user/noarb)
[07:20:22] *** Quits: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br) (Ping timeout: 250 seconds)
[07:20:48] *** Quits: Vacuity (~Vacuity@user/vovo) (Ping timeout: 250 seconds)
[07:21:06] *** Quits: noarb (~noarb@user/noarb) (Read error: Connection reset by peer)
[07:22:38] *** Joins: Vacuity (~Vacuity@user/vovo)
[07:24:16] *** Joins: noarb (~noarb@user/noarb)
[07:24:30] *** Quits: tc__ (~tc@103-140-203-11.vic.as139284.net.au) (Read error: Connection reset by peer)
[07:24:31] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 256 seconds)
[07:35:57] *** Joins: maciek_ (~maciek@2600:1700:a412:1c00:7612:9b6a:6002:809f)
[07:39:49] *** Quits: kitsunenokenja (~kitsunech@68.91.220.96) (Ping timeout: 256 seconds)
[07:39:55] *** Quits: v3ga (~v3ga@cpe-98-25-21-91.sc.res.rr.com) (Quit: WeeChat 3.4)
[07:42:15] *** Joins: v3ga (~v3ga@2603-6080-5204-3b35-0000-0000-0000-18ad.res6.spectrum.com)
[07:47:33] *** Quits: krismatrix (~krismatri@c-73-212-30-17.hsd1.md.comcast.net) (Quit: Leaving)
[07:48:35] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[07:48:56] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[07:50:35] *** Quits: austb_ (~austb@158.104.170.238) (Ping timeout: 256 seconds)
[07:53:07] *** Joins: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[07:54:43] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[07:55:00] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 252 seconds)
[07:56:39] *** Joins: berkhan (~berkhan@159.146.41.107)
[07:59:24] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Ping timeout: 240 seconds)
[08:05:53] *** Quits: libsys (~libsys@186.105.148.117) (Ping timeout: 256 seconds)
[08:09:45] *** Quits: k8yun (~k8yun@user/k8yun) (Quit: Leaving)
[08:11:19] *** Quits: blinky42 (~quassel@user/blinky42) (Ping timeout: 256 seconds)
[08:12:21] *** Quits: concrete-houses (~g@209.6.150.53) (Remote host closed the connection)
[08:21:00] *** Joins: blinky42 (~quassel@jabber.blinkylight.net)
[08:21:00] *** Quits: blinky42 (~quassel@jabber.blinkylight.net) (Changing host)
[08:21:00] *** Joins: blinky42 (~quassel@user/blinky42)
[08:22:00] *** Joins: k8yun (~k8yun@user/k8yun)
[08:25:30] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[08:30:15] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 256 seconds)
[08:31:45] *** Joins: shiranaihito (~textual@123-192-192-149.dynamic.kbronet.com.tw)
[08:32:31] *** Quits: sreve (~quassel@p4ff44c9d.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[08:32:34] *** Joins: sreve_ (~quassel@p549d70f6.dip0.t-ipconnect.de)
[08:33:16] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[08:33:35] *** Quits: Giovanni (~Giovanni@176.54.32.122) (Remote host closed the connection)
[08:34:15] *** Joins: Giovanni (~Giovanni@176.54.32.122)
[08:38:22] *** Quits: Giovanni (~Giovanni@176.54.32.122) (Remote host closed the connection)
[08:42:32] *** Quits: holsta (~holsta@user/holsta) (Ping timeout: 240 seconds)
[08:51:50] *** Joins: holsta (~holsta@user/holsta)
[08:52:17] *** Quits: maciek_ (~maciek@2600:1700:a412:1c00:7612:9b6a:6002:809f) (Ping timeout: 240 seconds)
[08:56:39] *** Joins: Giovanni (~Giovanni@176.67.166.45)
[09:04:17] *** Quits: ncwbqcfe (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Quit: ncwbqcfe)
[09:14:52] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[09:17:42] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[09:18:21] *** Joins: Atque (~Atque@user/atque)
[09:20:21] *** Joins: ba|ch (~user@p200300f3a7089cb435dbb095126ea313.dip0.t-ipconnect.de)
[09:21:23] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[09:23:02] *** Joins: tozhu (~tozhu@118.115.108.130)
[09:24:05] *** Quits: dbs (~dan@li174-51.members.linode.com) (Ping timeout: 256 seconds)
[09:24:12] *** Joins: dbs (~dan@li174-51.members.linode.com)
[09:24:39] *** Quits: finsternis (~X@23.226.237.192) (Ping timeout: 256 seconds)
[09:25:47] *** Joins: finsternis (~X@23.226.237.192)
[09:26:18] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 252 seconds)
[09:30:13] *** Quits: tozhu (~tozhu@118.115.108.130) (Read error: Connection reset by peer)
[09:30:33] *** Joins: mattil_ (~mattil@d1232t6y5qz5w671z4y-4.rev.dnainternet.fi)
[09:30:53] *** Joins: Reiner_Unsinn_ (~quassel@p5dd47daa.dip0.t-ipconnect.de)
[09:32:14] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[09:36:15] *** Quits: k8yun (~k8yun@user/k8yun) (Quit: Leaving)
[09:37:22] *** Joins: ekathva (~ekathva@n16j1a60twipln5yk-1.v6.elisa-mobile.fi)
[09:40:07] *** Quits: mattil_ (~mattil@d1232t6y5qz5w671z4y-4.rev.dnainternet.fi) (Remote host closed the connection)
[09:40:33] *** Joins: mattil (~mattil@d1232t6y5qz5w671z4y-4.rev.dnainternet.fi)
[09:42:59] *** Joins: zz (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp)
[09:44:36] *** Quits: mattil (~mattil@d1232t6y5qz5w671z4y-4.rev.dnainternet.fi) (Ping timeout: 240 seconds)
[09:44:50] *** Joins: mjf (~mjf@cst-prg-65-7.cust.vodafone.cz)
[09:45:52] *** zz is now known as Guest5846
[09:48:03] * foo works on constructing a query that returns results if there are 2 values matching in a column ... eg. I have email_attachment being a string. If two results both have the same email attachment, I want to show both of them
[09:48:27] *** Quits: berkhan (~berkhan@159.146.41.107) (Quit: Leaving for now. See you next time.)
[09:49:07] <buu> foo: self join
[09:49:49] <buu> select * from table a join table b on a.email_attachment = b.email_attachment;
[09:51:29] <foo> buu: ohh, thank you - please excuse my poorly constructed question. Been a long day. It's all in the same table, something close to this: SELECT id, user_id, email_uid FROM smart_mailroom GROUP BY email_attachment HAVING count(*) > 1; -> eg. if there's two results with the same email_attachment, I want to show them
[09:52:03] <buu> Oh you also need where a.id != b.id
[09:52:08] *** Quits: _xor (~xor@dsl-50-5-233-169.fuse.net) (Ping timeout: 252 seconds)
[09:52:09] *** Quits: Guest5846 (~Thunderbi@p8016092-ipngn39401marunouchi.tokyo.ocn.ne.jp) (Ping timeout: 252 seconds)
[09:52:29] <buu> foo: the problem as you've noticed is that once you group by you have to group all the columns you want to display then you can't see the differences
[09:52:52] *** Joins: mattil (~mattil@helsinki.portalify.com)
[09:53:00] *** Quits: mattil (~mattil@helsinki.portalify.com) (Read error: Connection reset by peer)
[09:53:53] <foo> buu: thanks, got it.
[09:54:21] <foo> buu: Can ON have 2 values? eg. ON a.email_attachment = b.email_attachment AND a.created = b.created or such?
[09:54:37] <foo> looks like yes
[09:54:38] <buu> yup
[09:55:21] <buu> I'm not actually sure what the difference between 'on' and 'where' is
[09:56:10] <foo> buu: aha, I see. thank you, this is helpful. Unfortunately, this is many more results than I wanted to see... but this is good. :) I didn't realize uid changes when an email is moved to trash and then back out of trash
[09:58:56] <buu> Ah, that's weird
[10:00:54] *** Joins: nulixes (~Thunderbi@gateway/vpn/pia/nulixes)
[10:01:43] *** Joins: _xor (~xor@dsl-50-5-233-169.fuse.net)
[10:03:56] *** Quits: koo5_ (~quassel@51.140.155.227) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[10:04:41] *** Joins: mattil (~mattil@helsinki.portalify.com)
[10:04:44] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[10:04:52] *** Joins: koo5_ (~quassel@51.140.155.227)
[10:06:48] *** Joins: darutoko (~darutoko@92.125.59.195)
[10:07:22] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[10:08:03] *** Joins: mattil (~mattil@helsinki.portalify.com)
[10:10:02] *** Joins: turlando_ (~turlando@93-42-250-112.ip89.fastwebnet.it)
[10:10:14] *** Quits: turlando (~turlando@user/turlando) (Ping timeout: 250 seconds)
[10:11:13] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[10:11:26] *** Joins: mattil (~mattil@helsinki.portalify.com)
[10:15:01] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[10:15:24] *** Quits: mjf (~mjf@cst-prg-65-7.cust.vodafone.cz) (Ping timeout: 240 seconds)
[10:15:46] *** Joins: mattil (~mattil@helsinki.portalify.com)
[10:16:06] *** Joins: mjf (~mjf@2001:1528:1:fffd:2136:3bf0:2a7b:678d)
[10:21:18] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 252 seconds)
[10:23:39] *** Joins: ekathva_ (~ekathva@mobile-access-b0486b-34.dhcp.inet.fi)
[10:25:48] *** Quits: ekathva (~ekathva@n16j1a60twipln5yk-1.v6.elisa-mobile.fi) (Ping timeout: 240 seconds)
[10:26:48] *** Quits: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se) (Ping timeout: 252 seconds)
[10:27:07] *** Joins: ekathva__ (~ekathva@n16iyemvqyuz8dqwm-1.v6.elisa-mobile.fi)
[10:27:45] *** Joins: Guest7375 (~vit@chello085216193138.chello.sk)
[10:28:12] *** Joins: tozhu (~tozhu@118.115.108.130)
[10:28:30] *** Joins: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de)
[10:29:33] *** Quits: ekathva_ (~ekathva@mobile-access-b0486b-34.dhcp.inet.fi) (Ping timeout: 252 seconds)
[10:30:21] *** Joins: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se)
[10:31:12] *** Quits: nulixes (~Thunderbi@gateway/vpn/pia/nulixes) (Ping timeout: 252 seconds)
[10:40:45] *** Joins: vanessa (~farawayas@103.160.128.7)
[10:52:34] *** Joins: mattil (~mattil@helsinki.portalify.com)
[10:59:56] *** Quits: rvalue (~rvalue@user/rvalue) (Read error: Connection reset by peer)
[11:00:10] *** Joins: rvalue (~rvalue@user/rvalue)
[11:01:22] *** Joins: mrwick (~mrwick@user/mrwick)
[11:06:10] *** Joins: manti7 (~manti7@176.10.104.94)
[11:08:17] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[11:08:51] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[11:08:58] *** Joins: mattil (~mattil@helsinki.portalify.com)
[11:13:04] *** Joins: the_lanetly_052 (~the_lanet@194.135.169.143)
[11:14:22] *** Quits: the_lanetly_052 (~the_lanet@194.135.169.143) (Max SendQ exceeded)
[11:14:51] *** Joins: the_lanetly_052 (~the_lanet@194.135.167.23)
[11:16:03] *** Quits: the_lanetly_052 (~the_lanet@194.135.167.23) (Max SendQ exceeded)
[11:16:34] *** Joins: the_lanetly_052 (~the_lanet@194.135.169.143)
[11:16:58] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 250 seconds)
[11:21:54] *** Joins: mattil (~mattil@helsinki.portalify.com)
[11:23:52] *** Joins: shka (~herr@109.231.3.55)
[11:24:43] *** Joins: palasso (~palasso@user/palasso)
[11:30:24] *** Joins: jancoow (~jancoow@user/jancoow)
[11:35:17] *** Joins: michalz (~michalz@185.246.204.55)
[11:37:13] *** Quits: intray (~intray@user/intray) (Remote host closed the connection)
[11:38:09] *** Joins: mncheck (~mncheck@193.224.205.254)
[11:39:50] *** Quits: colo (~colo@user/colo) (Quit: Bye.)
[11:40:09] *** Joins: colo (~colo@user/colo)
[11:42:36] *** Joins: irionr (~irionr@net-93-145-27-202.cust.vodafonedsl.it)
[11:44:26] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi)
[11:49:25] *** Quits: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29) (Quit: Leaving.)
[11:50:13] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[11:53:39] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d)
[11:54:47] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[11:58:41] *** Quits: fcr (~fran@r186-48-143-252.dialup.adsl.anteldata.net.uy) (Ping timeout: 245 seconds)
[12:00:30] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[12:02:51] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[12:04:56] *** Joins: ivii (~ivan@user/ivii)
[12:05:12] *** Joins: fcr (~fran@r167-60-44-194.dialup.adsl.anteldata.net.uy)
[12:05:24] *** Quits: dharrigan (~dharrigan@user/dharrigan) (Quit: ZNC - https://znc.in)
[12:05:56] *** Joins: gleu (~guillaume@pop.92-184-112-150.mobile.abo.orange.fr)
[12:06:46] *** Joins: dharrigan (~dharrigan@user/dharrigan)
[12:11:37] *** Joins: vladoski (~vladoski@217.147.130.65)
[12:27:12] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[12:27:40] *** Joins: ekathva_ (~ekathva@mobile-access-5672fd-222.dhcp.inet.fi)
[12:29:49] *** Quits: ekathva__ (~ekathva@n16iyemvqyuz8dqwm-1.v6.elisa-mobile.fi) (Ping timeout: 240 seconds)
[12:31:41] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 250 seconds)
[12:31:42] *** Joins: AceSlash (~slash@cosium-fo-152-18.fib.nerim.net)
[12:33:37] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 240 seconds)
[12:48:06] *** Joins: ekathva__ (~ekathva@n16ixwh0drize2173-1.v6.elisa-mobile.fi)
[12:50:24] *** Joins: pingr (~hruske@89-212-52-175.static.t-2.net)
[12:50:25] *** pingr is now known as hruske
[12:50:42] *** Quits: ekathva_ (~ekathva@mobile-access-5672fd-222.dhcp.inet.fi) (Ping timeout: 260 seconds)
[12:52:04] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Remote host closed the connection)
[12:52:29] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[12:52:57] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Ping timeout: 240 seconds)
[12:56:22] *** Joins: DNH (~DNH@2a02:8108:1100:16d8:2015:9361:6306:3ac4)
[12:57:03] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[12:58:57] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Remote host closed the connection)
[12:59:21] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[13:00:32] *** Joins: leighbb (~leighbb@user/leighbb)
[13:04:01] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[13:06:31] *** Quits: hruske (~hruske@89-212-52-175.static.t-2.net) (Remote host closed the connection)
[13:07:49] *** Joins: pingr (~hruske@89-212-52-175.static.t-2.net)
[13:07:49] *** pingr is now known as hruske
[13:09:35] *** Joins: Amadiro_ (~Amadiro@45.154.138.41)
[13:10:48] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[13:10:58] *** Joins: _vanessa_ (~farawayas@103.160.128.7)
[13:11:36] *** Quits: Amadiro (~Amadiro@45.154.138.41) (Ping timeout: 245 seconds)
[13:12:46] *** Quits: Giovanni (~Giovanni@176.67.166.45) (Remote host closed the connection)
[13:13:32] *** Quits: vanessa (~farawayas@103.160.128.7) (Ping timeout: 250 seconds)
[13:16:30] *** Joins: ^vanessa^ (~farawayas@103.160.128.7)
[13:19:10] *** Quits: _vanessa_ (~farawayas@103.160.128.7) (Ping timeout: 250 seconds)
[13:20:57] *** Quits: ur5us (~ur5us@2406:e002:6845:dc01:c2e6:9f40:66a8:f76d) (Ping timeout: 240 seconds)
[13:22:15] *** Quits: uncleyear (~ian@178.176.77.39) (Ping timeout: 252 seconds)
[13:22:57] *** Quits: jazzy (~jaziz@user/jaziz) (Ping timeout: 240 seconds)
[13:26:40] *** Joins: shored1 (~shored@user/shored)
[13:26:57] *** Quits: shored (~shored@user/shored) (Ping timeout: 240 seconds)
[13:31:34] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[13:31:45] *** Joins: randir (~randir@93.159.239.42)
[13:34:19] *** Quits: bpmedley_ (~bpmedley@2600:1700:e2c:8410:90bc:849f:cece:3d6a) (Ping timeout: 256 seconds)
[13:35:24] *** Quits: Tenchi (~Tenchi@user/tenchi) (Ping timeout: 240 seconds)
[13:36:07] *** Quits: econo (uid147250@user/econo) (Quit: Connection closed for inactivity)
[13:42:28] *** Quits: irionr (~irionr@net-93-145-27-202.cust.vodafonedsl.it) (Quit: Connection closed)
[13:44:53] *** Joins: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr)
[13:48:03] *** Joins: TomyWork (~TomyLobo@p200300e80f158200e4846a37f590c886.dip0.t-ipconnect.de)
[13:48:40] *** Joins: ekathva_ (~ekathva@mobile-access-5672fd-222.dhcp.inet.fi)
[13:49:38] *** Quits: ekathva_ (~ekathva@mobile-access-5672fd-222.dhcp.inet.fi) (Read error: Connection reset by peer)
[13:50:32] *** Joins: ekathva_ (~ekathva@n16izh7ezj56pa77g-1.v6.elisa-mobile.fi)
[13:50:50] *** Quits: held (~heldchen@user/held) ()
[13:51:11] *** Quits: ekathva__ (~ekathva@n16ixwh0drize2173-1.v6.elisa-mobile.fi) (Ping timeout: 245 seconds)
[13:52:05] *** Quits: tozhu (~tozhu@118.115.108.130) (Quit: tozhu)
[13:52:37] *** Joins: held (~heldchen@user/held)
[13:58:54] *** Joins: uncleyear (~ian@178.176.77.39)
[13:59:23] *** Joins: ekathva (~ekathva@n16j00yw0t0qpnlf1-1.v6.elisa-mobile.fi)
[14:01:49] *** Quits: ekathva_ (~ekathva@n16izh7ezj56pa77g-1.v6.elisa-mobile.fi) (Ping timeout: 250 seconds)
[14:07:40] *** Joins: ekathva_ (~ekathva@mobile-access-b04849-70.dhcp.inet.fi)
[14:09:44] *** Quits: ekathva_ (~ekathva@mobile-access-b04849-70.dhcp.inet.fi) (Remote host closed the connection)
[14:10:01] *** Quits: ekathva (~ekathva@n16j00yw0t0qpnlf1-1.v6.elisa-mobile.fi) (Ping timeout: 256 seconds)
[14:10:14] *** Joins: ekathva_ (~ekathva@mobile-access-b04849-70.dhcp.inet.fi)
[14:11:13] *** Quits: ekathva_ (~ekathva@mobile-access-b04849-70.dhcp.inet.fi) (Max SendQ exceeded)
[14:11:42] *** Joins: ekathva_ (~ekathva@mobile-access-b04849-70.dhcp.inet.fi)
[14:22:29] *** Joins: _vanessa_ (~farawayas@103.160.128.7)
[14:24:56] *** Quits: ^vanessa^ (~farawayas@103.160.128.7) (Ping timeout: 252 seconds)
[14:30:52] *** Quits: ekathva_ (~ekathva@mobile-access-b04849-70.dhcp.inet.fi) (Read error: Connection reset by peer)
[14:32:03] *** Joins: ekathva_ (~ekathva@n16iza5bom6b8sh8a-1.v6.elisa-mobile.fi)
[14:41:41] *** Joins: ekathva__ (~ekathva@mobile-access-b04849-70.dhcp.inet.fi)
[14:44:06] *** Quits: ekathva_ (~ekathva@n16iza5bom6b8sh8a-1.v6.elisa-mobile.fi) (Ping timeout: 250 seconds)
[14:47:53] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[14:48:29] *** Quits: sonOfRa (sonOfRa@user/sonofra) (Remote host closed the connection)
[14:50:25] *** Joins: tradar (~tradar@user/tradar)
[14:51:26] *** Joins: sonOfRa (sonOfRa@user/sonofra)
[14:52:34] *** Joins: shkurata (~shkurata@ptr-8riebuil60vhi1zqt1v.18120a2.ip6.access.telenet.be)
[14:53:39] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 256 seconds)
[14:57:22] *** Quits: ekathva__ (~ekathva@mobile-access-b04849-70.dhcp.inet.fi) (Read error: Connection reset by peer)
[14:58:03] *** Joins: ekathva__ (~ekathva@n16j00xw327ppeeun-1.v6.elisa-mobile.fi)
[15:05:05] *** Joins: tozhu (~tozhu@218.89.253.208)
[15:10:19] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[15:12:06] *** Quits: tradar (~tradar@user/tradar) (Remote host closed the connection)
[15:16:00] *** Quits: _vanessa_ (~farawayas@103.160.128.7) (Quit: Leaving)
[15:19:23] *** Quits: nyov (~nyov@user/nyov) (Ping timeout: 250 seconds)
[15:21:20] *** Joins: nyov (~nyov@user/nyov)
[15:23:59] *** Joins: zeden (~zeden@user/zeden)
[15:24:12] *** Joins: monstar (~monstar@gateway/tor-sasl/monstar)
[15:27:26] *** Quits: glik22_ (~glik22@99-36-164-253.lightspeed.snjsca.sbcglobal.net) (Ping timeout: 245 seconds)
[15:33:30] <BSaboia> <BSaboia> Hello. There was a huge insertion of data  in some table or tables. How can I know where did it go?
[15:34:38] <ne2k> BSaboia, well, do you have any stored information on the size or row count of tables from before the insert?
[15:35:46] <ne2k> also... if you don't know where it went, how do you know it happened at all?
[15:37:07] *** Joins: n0fun (~jack@mue-88-130-48-133.dsl.tropolys.de)
[15:43:56] *** Joins: johnau (~johnau@202.172.127.116)
[15:46:57] <johnau> I'm trying to revoke access from the postgres database from a role, `REVOKE ALL ON DATABASE mydb FROM myrole;`, but `myrole` (only LOGIN attribute) still can list contents of table: mydb.test.  Could someone help me see the error in my ways?
[15:48:21] <nbjoerg> does PUBLIC have any privileges?
[15:48:46] <johnau> nbjoerg, I will check on that, thanks
[15:49:11] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[15:50:01] <johnau> yeah that was it, revoked all PUBLIC from that db
[15:50:04] <johnau> thanks again!
[15:51:17] *** Joins: furrymcgee (~devuan@cgn-213-196-210-225.nc.de)
[15:52:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[15:57:25] *** Quits: randir (~randir@93.159.239.42) (Quit: Leaving...)
[15:58:04] *** Joins: pedja (~pedja@user/deus-ex/x-7934090)
[16:00:31] *** Joins: p|q (~plq@94.54.154.86)
[16:01:45] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[16:02:25] *** Joins: Tenchi (~Tenchi@user/tenchi)
[16:02:58] *** Quits: blaklistd (~blaklistd@user/blaklistd) (Quit: Ping timeout (120 seconds))
[16:03:16] *** Joins: blaklistd (~blaklistd@user/blaklistd)
[16:04:35] *** Joins: ufk (~textual@bzq-84-108-89-219.cablep.bezeqint.net)
[16:05:03] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 252 seconds)
[16:05:41] <Myon> johnau: "on database" really only sets database level privileges, not anything on other levels
[16:15:19] *** Quits: Petruchio (~ray@dynamic-acs-24-154-115-19.zoominternet.net) (Quit: Konversation terminated!)
[16:15:47] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[16:21:07] <ufk> this query takes around 10 minutes to run. any ideas how to improve it's performance? https://explain.depesz.com/s/yjsD
[16:23:40] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[16:24:00] <johnau> Myon, yeh I'm just learning about schemas, I see now how they relate
[16:30:05] *** Joins: mrgz (~mrgz@201-42-0-191.dsl.telesp.net.br)
[16:30:05] <ne2k> ufk, are you on rotating rust?
[16:30:47] <ne2k> I haven't looked in detail but I see lots of 60-70 MB/s read rates of multi-GB data
[16:31:44] *** Quits: rvalue (~rvalue@user/rvalue) (Read error: Connection reset by peer)
[16:31:57] *** Joins: rvalue (~rvalue@user/rvalue)
[16:31:59] *** Joins: Klinda (~superleag@user/klinda)
[16:32:09] <ufk> no idea what is rotating rust.. but it's a huge table of phone calls log partitioned by month
[16:32:24] <Berge> ufk: Regular hard disk as opposed to SSD
[16:32:33] <Berge> With spinning platters.
[16:32:40] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[16:32:55] <ufk> i think the server has ssd but i'm not sure. let me check
[16:33:16] <Berge> Probably, since it also writes several hundred MB/sec, according to the explain
[16:33:21] <Berge> (I haven't looked in detail either)
[16:33:51] <Berge> …unless that hits OS buffers, though
[16:33:53] <ne2k> Berge, those writes were fairly small (a few tens of MB) so figured that could be the cache lying about the real speed
[16:33:59] <ne2k> snap
[16:34:21] <Berge> yeah (-:
[16:34:28] <Berge> ufk: Which postgres version, which OS?
[16:34:47] <ufk> ubuntu with postgres 14.2
[16:36:24] <ne2k> ufk, I'm not very good at looking at large queries like that and working out what they do. can you explain in a sentence or two what the tables are and what you're trying to get out?
[16:36:36] <Berge> Why does it need to read several GB of data to scan indexes to find single rows?
[16:36:44] <Berge> Nodes 24 to 27
[16:37:01] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[16:38:06] <ufk> i want to get unique calls from X to Y that wheren't created from specific router configuration (pt_id) and to see i have future calls with same numbers that did happen from that router configuration
[16:38:14] <ne2k> ufk, and can you put a sample schema and some sample data in dbfiddle.uk for experimentation?
[16:38:36] <ne2k> just describe it first, though
[16:38:45] <ufk> sure
[16:38:49] <Berge> ufk: Were you able to confirm what type of disk it has?
[16:38:57] <ufk> ssd
[16:39:13] <ufk> it's raid with nvme devices what are ssd
[16:39:32] <Berge> ufk: Out of curiosity, what happens if you set max_parallel_workers_per_gather = 1 ?
[16:39:57] <Berge> ah, how many devices in the RAID?
[16:40:13] <ufk> 3 devices
[16:40:16] <Berge> I would expect _much_ faster reads from a RAID of NVMe. Like several orders of magnitude faster.
[16:40:27] <ne2k> ufk, is there just the one table here, mc_cdr?
[16:40:43] <ufk> it's on production and it has quite a load so i'm guessing that's part of it
[16:40:52] <ufk> there are tons of other tables.. this is the main one
[16:41:05] <ne2k> ufk, sorry, I meant is there just one table involved in the query in question
[16:41:10] <ufk> yeah
[16:41:33] <ufk> sec.. i tried to add setup_time rules maybe it will filter it more quickly.. let me check it's explain
[16:41:34] <ne2k> so can you explain in words what is stored in it and what you're trying to get out, and what the ctes represent?
[16:42:12] *** Quits: cation (cation@user/cation) (Ping timeout: 240 seconds)
[16:42:12] *** Joins: cation21 (cation@user/cation)
[16:42:26] <ufk> nope.. made it slower :)
[16:42:50] <ufk> ok so mc_cdr contains calls
[16:42:56] <ne2k> you seem to have source_id, setup_time, caller_number, clear_number, call_id, direction, pt_id
[16:43:21] <ufk> if i create one index that contains all of these columns it may speed things up ?
[16:43:38] <ufk> i'll continue explaining
[16:44:08] <ufk> so each call is a unique call_id, each call can have 1 to 8 rows, the first row has direction=1 and the rest of direction=2 per call_id
[16:45:04] <ufk> i want to find distinct caller_number->clear_number that wheren't connected to specific source_Id and pt_id  that i mentioned in the query.. which means that didn't connect through a specific router that i have.
[16:45:35] <ufk> then i want to find out future calls, that contain any of the unique caller_number,clear_number combinations that where connected through that specific router
[16:45:39] *** cation21 is now known as cation
[16:45:40] <ne2k> so if calls have a unique call_id and the table can have 8 rows for a call, the table doesn't contain "calls", per se, does it?
[16:45:58] <ne2k> i.e. call_id is not a key for this table
[16:46:05] <ufk> it contains all the routing of each call you are correct
[16:46:12] <ufk> each call can have more then one row
[16:46:43] <ne2k> how is it determined how many rows it will have, and how do you know where the source/pt in question are? could they be in any of the rows?
[16:47:02] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 240 seconds)
[16:48:10] <ne2k> I wonder whether your subselects for your exists and not exists are searching the full thing, not just the last sixty minutes. is that as it should be? or is that perhaps causing some inefficiency?
[16:48:24] <ufk> i work with 2 companies who deliver calls... source_id 1 and source_id 2, each one of them has specific router (pt_id) that i want to check against. so in general i want to get the amount of unique caller_number,clear_number that wheren't connect through that router, and then the amount of calls that happenned after the original calls that where connected through the router, grouped by the source_id
[16:48:53] <ufk> ne2k that's what i thought! ohhh
[16:49:29] <ufk> interesting.. let me see if it changes something
[16:49:49] <ne2k> if you only care about the last sixty minutes, you could do with t1 as (select * from t where setup_time>now() - interval '60 minutes') and go from there, I've done that before
[16:50:25] <ne2k> I also wonder whether you might aggregate those rows per callId and search on the aggregate value. not sure if that's a good idea or not
[16:50:36] *** Quits: xinming (~xinming@115.221.15.7) (Ping timeout: 240 seconds)
[16:50:37] <ne2k> I still can't quite work out exactly what it is that you're tryign to do
[16:51:15] *** Quits: gleu (~guillaume@pop.92-184-112-150.mobile.abo.orange.fr) (Ping timeout: 252 seconds)
[16:51:16] <ne2k> some example data in a fiddle would really hel;
[16:51:31] <ufk> ok i'll work on it now
[16:52:53] *** Joins: xinming (~xinming@115.221.15.143)
[16:53:48] <ne2k> I'm still trying to get my head around this condition about it being number of calls that were connected through a router pair that they weren't connected through at some point.... sorry I'm not following
[16:53:52] <BSaboia> ne2k, no I don't. I know that it happened because the disk consumption
[16:54:20] *** Joins: beelinking[m] (~beelinkin@2001:470:69fc:105::1:dc4f)
[16:55:52] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Remote host closed the connection)
[16:55:52] *** Quits: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se) (Read error: Connection reset by peer)
[16:56:14] *** Joins: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se)
[16:56:20] <ne2k> https://stackoverflow.com/questions/3211769/how-to-get-last-access-modification-date-of-a-postgresql-database#:~:text=You%20can%20do%20it%20via,name%20of%20table%20%22test%22.
[16:56:23] *** Joins: randir (~randir@93.159.239.42)
[16:56:50] <ne2k> BSaboia, it's not 100%, but you could look at the mtime of the files in pgdata/base/ and compare against select relname,relfilenode from pg_class;
[16:56:55] <ufk> ok.. my router is on source_Id 1 with pt_id 1512 an source_id2 with pt_id 614. first i'm getting all the unique caller_number->clear_number combination that wheren't connected throught this router. now each call_id has first direction=1 and the rest of the rows direction=2. so to get the unique calls i check with direction=1, but in order to check if it was connected through the routers i need to check direction=2 rows
[16:58:35] <ufk> but you gave me some ideas.. that's for all your help. i need to find proper data to add to dbfiddle so it will make sense but you gave me some ideas to check that i wanna do first. i'll do the tests quickly and come back. thanks for all the tips
[17:00:06] <ne2k> ufk, I feel as though you might be better aggregating all the rows for a call into a single value and then searching on that
[17:00:19] <ne2k> I may be wrong, of course
[17:00:25] <ufk> yeah i'm checking that now :)
[17:01:20] <BSaboia> ne2k, thanks
[17:02:46] *** Quits: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se) (Ping timeout: 250 seconds)
[17:02:58] *** Joins: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se)
[17:04:31] *** Quits: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se) (Remote host closed the connection)
[17:05:08] *** Joins: jnnnnnnnnn (~jnnnnnnnn@c-2172524e.016-77-73746f43.bbcust.telenor.se)
[17:06:21] *** Joins: Ergo^ (~ergo@91.238.59.144)
[17:06:28] *** Joins: gleu (~guillaume@pop.92-184-112-66.mobile.abo.orange.fr)
[17:07:48] *** Parts: beelinking[m] (~beelinkin@2001:470:69fc:105::1:dc4f) ()
[17:11:26] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Ping timeout: 250 seconds)
[17:13:43] *** Joins: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec)
[17:18:56] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[17:19:14] *** Quits: RangerRick (~quassel@99-69-21-21.lightspeed.rlghnc.sbcglobal.net) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[17:19:34] *** Joins: darkbit (~db@136.158.8.67)
[17:21:42] *** Joins: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[17:22:48] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Remote host closed the connection)
[17:23:05] *** Joins: aLeSD (~aLeSD@91.126.33.194)
[17:23:07] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[17:24:25] *** Joins: RangerRick (~quassel@99-69-21-21.lightspeed.rlghnc.sbcglobal.net)
[17:26:10] *** Joins: Haudegen (~quassel@91.114.49.10)
[17:27:33] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 252 seconds)
[17:27:36] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[17:30:10] *** Joins: ekathva_ (~ekathva@mobile-access-b0480d-133.dhcp.inet.fi)
[17:31:27] *** Joins: [sep] (~sep@2a05:6d40:0:340:ec:24ff:fe65:d91c)
[17:32:40] *** Quits: ekathva__ (~ekathva@n16j00xw327ppeeun-1.v6.elisa-mobile.fi) (Ping timeout: 250 seconds)
[17:32:54] *** Quits: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr) (Quit: WeeChat 3.4)
[17:35:26] *** Joins: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net)
[17:38:23] *** Joins: Slade (uid128877@user/slade)
[17:39:41] *** Joins: mattil (~mattil@dy56lnv-p6zsymc7zqnft-4.rev.dnainternet.fi)
[17:40:21] *** Quits: xenoterracide (~xenoterra@99-124-139-34.lightspeed.iplsin.sbcglobal.net) (Ping timeout: 245 seconds)
[17:40:23] *** Joins: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr)
[17:41:20] *** Quits: gleu (~guillaume@pop.92-184-112-66.mobile.abo.orange.fr) (Ping timeout: 250 seconds)
[17:45:53] *** Quits: mattil (~mattil@dy56lnv-p6zsymc7zqnft-4.rev.dnainternet.fi) (Remote host closed the connection)
[17:46:22] *** Quits: ekathva_ (~ekathva@mobile-access-b0480d-133.dhcp.inet.fi) (Read error: Connection reset by peer)
[17:47:17] *** Joins: bpmedley (~bpmedley@2600:1700:e2c:8410:b53a:677:7acb:b88b)
[17:48:02] *** Joins: ekathva_ (~ekathva@n16j1dybsi8r1j93l-1.v6.elisa-mobile.fi)
[17:48:25] *** Joins: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net)
[17:49:17] *** Joins: RedShift (~RedShift@office.e-crane.com)
[17:49:44] <RedShift> hello all, is the function current_settings, parallel safe?
[17:49:48] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[17:54:30] <xocolatl> yes
[17:54:55] *** Joins: mattil (~mattil@dy56lnv-p6zsymc7zqnft-4.rev.dnainternet.fi)
[17:55:00] *** Quits: mattil (~mattil@dy56lnv-p6zsymc7zqnft-4.rev.dnainternet.fi) (Read error: Connection reset by peer)
[17:55:27] *** Joins: mattil (~mattil@dy56lnv-p6zsymc7zqnft-4.rev.dnainternet.fi)
[17:55:36] <RedShift> thanks. If I may enquire, how do you know? It's not in the docs
[17:56:11] <xocolatl> select proparallel from pg_proc where proname = 'current_setting';
[17:56:52] *** Joins: odnes (~odnes@5-203-148-114.pat.nym.cosmote.net)
[17:57:51] *** Joins: mattil_ (~mattil@dy56lnv9t2v9lr087vnnt-4.rev.dnainternet.fi)
[18:00:37] *** Quits: mattil (~mattil@dy56lnv-p6zsymc7zqnft-4.rev.dnainternet.fi) (Ping timeout: 240 seconds)
[18:02:14] *** Quits: odnes (~odnes@5-203-148-114.pat.nym.cosmote.net) (Remote host closed the connection)
[18:02:32] *** Joins: odnes (~odnes@5-203-148-114.pat.nym.cosmote.net)
[18:08:16] *** Quits: mattil_ (~mattil@dy56lnv9t2v9lr087vnnt-4.rev.dnainternet.fi) (Remote host closed the connection)
[18:08:45] *** Joins: mattil (~mattil@dy56lnv9t2v9lr087vnnt-4.rev.dnainternet.fi)
[18:13:24] *** Quits: mattil (~mattil@dy56lnv9t2v9lr087vnnt-4.rev.dnainternet.fi) (Ping timeout: 250 seconds)
[18:15:24] *** Quits: fraxamo (~fraxamo@bexl-11-b2-v4wan-163006-cust259.vm4.cable.virginm.net) (Ping timeout: 252 seconds)
[18:16:24] *** Joins: mizi (~mizi@user/mizi)
[18:19:55] *** Joins: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29)
[18:20:09] *** Quits: Guest7375 (~vit@chello085216193138.chello.sk) (Ping timeout: 256 seconds)
[18:21:08] *** Joins: mattil (~mattil@dy56lnv9t2v9lr087vnnt-4.rev.dnainternet.fi)
[18:22:21] *** Joins: fraxamo (~fraxamo@bexl-11-b2-v4wan-163006-cust259.vm4.cable.virginm.net)
[18:25:01] *** Joins: libsys (~libsys@186.105.172.242)
[18:26:09] *** Quits: veesh (~veesh@89.237.98.198) (Ping timeout: 256 seconds)
[18:28:37] *** Quits: mattil (~mattil@dy56lnv9t2v9lr087vnnt-4.rev.dnainternet.fi) (Remote host closed the connection)
[18:29:03] *** Joins: mattil (~mattil@dy56lnv9t2v9lr087vnnt-4.rev.dnainternet.fi)
[18:31:36] *** Quits: Odin- (~odin@cybernetic.anarchism.is) (Ping timeout: 245 seconds)
[18:33:11] *** Quits: richard_h (~richard@2406:e001:8:a900:6e62:6dff:fe05:ae29) (Quit: Leaving.)
[18:33:32] *** Quits: mattil (~mattil@dy56lnv9t2v9lr087vnnt-4.rev.dnainternet.fi) (Ping timeout: 252 seconds)
[18:34:03] *** Joins: richard_h (~richard@103.232.106.182)
[18:34:16] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng32-54fbf8-224.dhcp.inet.fi) (Read error: Connection reset by peer)
[18:34:53] *** Quits: mizi (~mizi@user/mizi) (Ping timeout: 256 seconds)
[18:40:32] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[18:41:10] *** Quits: mjf (~mjf@2001:1528:1:fffd:2136:3bf0:2a7b:678d) (Ping timeout: 260 seconds)
[18:42:19] *** Joins: mjf (~mjf@cst-prg-65-7.cust.vodafone.cz)
[18:43:23] *** Quits: Junxter (~Junxter@222.94.37.130) (Ping timeout: 256 seconds)
[18:44:00] *** Quits: phylaz (~phylaz@82.51-174-55.customer.lyse.net) (Ping timeout: 252 seconds)
[18:44:37] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[18:45:03] *** Joins: MrZeus_ (~MrZeus@81.92.206.10)
[18:45:39] *** Quits: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net) (Ping timeout: 256 seconds)
[18:47:28] *** Joins: james_lavin (~jameslavi@ool-457981b2.dyn.optonline.net)
[18:50:35] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Ping timeout: 240 seconds)
[18:57:41] *** Quits: fordfrog (~fordfrog@gentoo/developer/fordfrog) (Quit: Leaving)
[18:57:55] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Ping timeout: 240 seconds)
[19:00:05] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[19:01:17] *** Joins: fordfrog (~fordfrog@gentoo/developer/fordfrog)
[19:01:41] *** Joins: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp)
[19:02:43] *** Joins: spicylobster (~spicylobs@014198214166.ctinets.com)
[19:03:04] <spicylobster> can the function `array_length` take advantage of GIN indexes on arrays?
[19:04:02] *** Quits: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net) (Ping timeout: 240 seconds)
[19:04:51] *** Quits: aLeSD (~aLeSD@91.126.33.194) (Remote host closed the connection)
[19:05:41] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[19:05:42] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[19:05:43] *** Quits: mjf (~mjf@cst-prg-65-7.cust.vodafone.cz) (Remote host closed the connection)
[19:05:59] *** Joins: mjf (~mjf@cst-prg-65-7.cust.vodafone.cz)
[19:06:33] *** Quits: tozhu (~tozhu@218.89.253.208) (Ping timeout: 265 seconds)
[19:08:06] *** Joins: monstar (~monstar@gateway/tor-sasl/monstar)
[19:10:06] *** Joins: Rashad (~textual@2a01:9700:129a:7b00:b3:703e:c4ef:6337)
[19:10:12] *** Quits: Komzpa (~kom@212.58.119.213) (Ping timeout: 240 seconds)
[19:10:42] <Myon> no, these store information about elements, not the whole array
[19:10:46] *** Quits: nullheroes (~nullheroe@168.235.66.22) (Quit: WeeChat 2.8)
[19:11:33] <Myon> but indexes won't help you in any case, they generally store info "given this bit of info, where can I find that in the table"
[19:11:42] *** Quits: fraxamo (~fraxamo@bexl-11-b2-v4wan-163006-cust259.vm4.cable.virginm.net) (Quit: Leaving)
[19:12:01] <Myon> as opposed to "given this array in table foo row 123,5, which property does it have"
[19:12:46] *** Joins: veesh (~veesh@89.237.98.198)
[19:15:06] <ufk> i understood something and i want to know if i understand it correctly, if i do "with my_rows as (select * from table where setup_time>Y)" and it's about 100M rows with 30 columns, then that with is not indexed so anything else that i will do with it will be slower then selecting directly from an indexed table. correct ?
[19:15:46] <Myon> newer PostgreSQL versions can inline the CTE expression, so it will be fast
[19:16:04] <spicylobster> Myon, i meant a query that uses `array_length` like `select * from my_table where array_length(some_column, 1) > 1;`
[19:16:06] <Myon> EXPLAIN will show what it's doing, the slow case would be "CTE Scan"
[19:16:35] <Myon> spicylobster: you can create a btree on (array_length(some_column, 1))
[19:16:55] *** Quits: jdavfsxd (~rvgzuuqp@gateway/tor-sasl/rvgzuuqp) (Ping timeout: 240 seconds)
[19:18:51] *** Joins: mattil (~mattil@87-92-87-151.bb.dnainternet.fi)
[19:19:25] *** Joins: mattil_ (~mattil@helsinki.portalify.com)
[19:19:33] <ufk> i'm using latest postgresql, so i'll check that out. thanks
[19:19:40] *** Joins: sakasama (~sakasama@user/sakasama)
[19:19:51] *** Quits: odnes (~odnes@5-203-148-114.pat.nym.cosmote.net) (Read error: Connection reset by peer)
[19:19:56] *** Quits: mattil (~mattil@87-92-87-151.bb.dnainternet.fi) (Read error: Connection reset by peer)
[19:19:57] *** Joins: odnes_ (~odnes@5-203-148-114.pat.nym.cosmote.net)
[19:20:15] *** Quits: odnes_ (~odnes@5-203-148-114.pat.nym.cosmote.net) (Client Quit)
[19:21:52] *** Quits: libsys (~libsys@186.105.172.242) (Ping timeout: 250 seconds)
[19:22:11] *** Joins: libsys (~libsys@186.105.177.198)
[19:22:33] *** Quits: sakasama (~sakasama@user/sakasama) (Remote host closed the connection)
[19:22:44] *** Joins: phylaz (~phylaz@82.51-174-55.customer.lyse.net)
[19:22:51] <ne2k> ufk, is it 100 million calls in the last sixty minutes?!
[19:22:59] <ne2k> (that's quite a lot)
[19:23:08] <ufk> 100m rows in the last 60 minutes
[19:23:19] <ne2k> well, 100 million call routing entries in the last sixty minutes
[19:24:02] *** Quits: mattil_ (~mattil@helsinki.portalify.com) (Ping timeout: 240 seconds)
[19:25:52] <ufk> actually i think i'm way off.. but in a year it can go to this number and i need to be prepared
[19:27:00] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[19:31:07] <ne2k> ufk, you said this is a production system? can you \copy (select * from t where time > now() - 'x') to file, bring it to another machine and experiment on it there?
[19:31:40] <ufk> yeah.. i should really do that
[19:31:42] <ne2k> ufk, do you only care about records in the last x at all, or does your query need to scan outside of that to find certain things it uses elsewhere
[19:32:28] <ufk> i just need to work on these records.. i don't work on any other table with this query and i don't care about the rest of the records
[19:33:40] *** Joins: sakasama (~sakasama@user/sakasama)
[19:35:06] *** Joins: maciek_ (~maciek@2600:1700:a412:1c00:bcae:8891:2cde:5bf4)
[19:35:51] *** Quits: Rashad (~textual@2a01:9700:129a:7b00:b3:703e:c4ef:6337) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[19:36:32] *** Quits: veesh (~veesh@89.237.98.198) (Ping timeout: 240 seconds)
[19:38:07] *** Quits: xocolatl (~xocolatl@193.32.126.213) (Ping timeout: 256 seconds)
[19:40:04] *** Joins: xocolatl (~xocolatl@14.149.88.79.rev.sfr.net)
[19:41:58] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[19:44:56] *** Quits: cleric_ (~cleric@2604:a880:2:d0::53b2:f001) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[19:45:33] *** Joins: cleric (~cleric@2604:a880:2:d0::53b2:f001)
[19:46:57] *** Joins: mizi (~mizi@user/mizi)
[19:47:57] *** Joins: impermanence (~impermane@c-75-73-193-204.hsd1.mn.comcast.net)
[19:48:10] *** Joins: Guest7375 (~vit@chello085216193138.chello.sk)
[19:53:51] *** Quits: varioust (~varioust@gateway/tor-sasl/varioust) (Remote host closed the connection)
[19:54:06] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[19:54:17] *** Joins: varioust (~varioust@gateway/tor-sasl/varioust)
[19:56:29] *** Quits: EvanCarroll (~ecarroll@68-78-105-35.lightspeed.hstntx.sbcglobal.net) (Ping timeout: 256 seconds)
[19:57:01] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[19:57:22] *** Joins: glik22_ (~glik22@99-36-164-253.lightspeed.snjsca.sbcglobal.net)
[19:58:29] *** Quits: impermanence (~impermane@c-75-73-193-204.hsd1.mn.comcast.net) (Quit: Connection closed)
[20:03:51] *** Quits: DNH (~DNH@2a02:8108:1100:16d8:2015:9361:6306:3ac4) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:07:28] *** Joins: xocolatl_ (~xocolatl@193.32.126.213)
[20:10:32] *** Joins: veesh (~veesh@5.28.146.176)
[20:10:32] *** Quits: xocolatl (~xocolatl@14.149.88.79.rev.sfr.net) (Ping timeout: 240 seconds)
[20:12:57] *** Joins: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c)
[20:16:37] *** Quits: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net) (Ping timeout: 240 seconds)
[20:21:41] *** Joins: DNH (~DNH@2a02:8108:1100:16d8:2015:9361:6306:3ac4)
[20:23:28] *** Quits: randir (~randir@93.159.239.42) (Remote host closed the connection)
[20:26:55] *** Quits: Haudegen (~quassel@91.114.49.10) (Quit: Bin weg.)
[20:27:59] *** Joins: EvanCarroll (~ecarroll@198-0-91-126-static.hfc.comcastbusiness.net)
[20:28:12] *** Quits: mjf (~mjf@cst-prg-65-7.cust.vodafone.cz) (Ping timeout: 240 seconds)
[20:28:30] *** Joins: mjf (~mjf@cst-prg-65-7.cust.vodafone.cz)
[20:29:37] *** Joins: aremaref (~aremaref@107-198-1-161.lightspeed.irvnca.sbcglobal.net)
[20:33:05] *** Quits: uncleyear (~ian@178.176.77.39) (Ping timeout: 256 seconds)
[20:34:33] *** Quits: Reiner_Unsinn_ (~quassel@p5dd47daa.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[20:35:58] *** Quits: mrwick (~mrwick@user/mrwick) (Ping timeout: 250 seconds)
[20:44:01] *** Quits: richard_h (~richard@103.232.106.182) (Quit: Leaving.)
[20:44:56] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Remote host closed the connection)
[20:50:17] *** Joins: Komzpa (~kom@212.58.119.213)
[20:55:12] *** Quits: mncheck (~mncheck@193.224.205.254) (Ping timeout: 268 seconds)
[20:56:10] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[20:56:55] *** Joins: econo (uid147250@user/econo)
[20:58:49] *** Quits: veesh (~veesh@5.28.146.176) (Ping timeout: 256 seconds)
[21:00:31] *** Quits: vladoski (~vladoski@217.147.130.65) (Ping timeout: 256 seconds)
[21:21:29] *** Quits: n0fun (~jack@mue-88-130-48-133.dsl.tropolys.de) (Ping timeout: 256 seconds)
[21:22:29] *** Quits: mjf (~mjf@cst-prg-65-7.cust.vodafone.cz) (Quit: Good bye...)
[21:22:41] *** Joins: mjf (~mjf@cst-prg-65-7.cust.vodafone.cz)
[21:24:56] *** Quits: ovnicraft (~ovnicraft@corp-179-49-44-28.uio.puntonet.ec) (Ping timeout: 250 seconds)
[21:25:42] *** Quits: pg_docbot (~docbot_li@donatu.postgresql.org) (Quit: Signal received: INT - shutting down)
[21:27:15] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[21:30:26] *** Joins: pg_docbot (~docbot_li@donatu.postgresql.org)
[21:31:06] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[21:31:32] *** Quits: unyu (~pyon@user/pyon) (Ping timeout: 240 seconds)
[21:33:46] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[21:35:02] *** Joins: uncleyear (~ian@178.176.77.39)
[21:39:01] *** Quits: kid (~kid@user/kid) (Ping timeout: 240 seconds)
[21:39:06] *** Quits: dslegends (~dslegends@user/dslegends) (Quit: ZNC 1.8.2 - https://znc.in)
[21:39:19] *** Joins: kid (~kid@2a01:79d:432c:e000:216:3eff:feed:12b2)
[21:39:19] *** Quits: kid (~kid@2a01:79d:432c:e000:216:3eff:feed:12b2) (Changing host)
[21:39:19] *** Joins: kid (~kid@user/kid)
[21:39:51] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[21:41:19] *** Quits: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net) (Ping timeout: 256 seconds)
[21:42:25] *** Joins: veesh (~veesh@5.28.146.176)
[21:43:01] *** Quits: the_lanetly_052 (~the_lanet@194.135.169.143) (Ping timeout: 240 seconds)
[21:44:26] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 250 seconds)
[21:44:40] *** Joins: Reiner_Unsinn (~quassel@p5dd47daa.dip0.t-ipconnect.de)
[21:45:56] *** Joins: dslegends (~dslegends@user/dslegends)
[21:49:28] *** Joins: jazzy (~jaziz@user/jaziz)
[21:49:38] *** Quits: ba|ch (~user@p200300f3a7089cb435dbb095126ea313.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[21:50:58] *** Quits: gearnode (~gearnode@2a01cb000ce2c100f22f74fffedefec1.ipv6.abo.wanadoo.fr) (Quit: WeeChat 3.4)
[21:54:40] *** Joins: ekathva__ (~ekathva@mobile-access-b04815-60.dhcp.inet.fi)
[21:56:15] *** Quits: ekathva__ (~ekathva@mobile-access-b04815-60.dhcp.inet.fi) (Read error: Connection reset by peer)
[21:56:23] *** Joins: unyu (~pyon@user/pyon)
[21:57:31] *** Quits: ekathva_ (~ekathva@n16j1dybsi8r1j93l-1.v6.elisa-mobile.fi) (Ping timeout: 256 seconds)
[21:57:34] *** Joins: ekathva__ (~ekathva@n16j1jqs3l6k6baf5-1.v6.elisa-mobile.fi)
[21:57:36] *** Joins: azlev (~azlev@189.120.73.227)
[21:58:40] <azlev> Hello. How can I tell if a type change will rewrite the entire table? I know that varchar to text is ok, but how about numeric(9,2) to numeric(10,2)? Postgresql 11
[21:58:57] *** Quits: uncleyear (~ian@178.176.77.39) (Ping timeout: 240 seconds)
[22:01:20] *** Quits: AceSlash (~slash@cosium-fo-152-18.fib.nerim.net) (Quit: Leaving)
[22:01:57] *** Quits: maciek_ (~maciek@2600:1700:a412:1c00:bcae:8891:2cde:5bf4) (Ping timeout: 240 seconds)
[22:02:30] *** Quits: waxoo0o (~waxo@37.252.189.165) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[22:03:02] *** Joins: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt)
[22:04:33] *** Joins: waxo (~waxo@37.252.189.165)
[22:04:56] *** Quits: ekathva__ (~ekathva@n16j1jqs3l6k6baf5-1.v6.elisa-mobile.fi) (Quit: Leaving)
[22:05:02] *** Quits: FastJack (~fastjack@ip-078-094-022-014.um19.pools.vodafone-ip.de) (Ping timeout: 240 seconds)
[22:09:09] *** Joins: trillp (~trillp@137.220.51.190)
[22:09:29] *** Joins: kallisti5[m] (~kallisti5@2001:470:69fc:105::be5c)
[22:09:43] <kallisti5[m]> we had an app break during a migration from Postgresql 9.6 to 14.x. It looks like the app uses exclusively postgresql large objects. We are doing a pgdump to a .sql file, and piping it to psql on restore. Should that properly import postgresql large objects?
[22:10:33] *** Joins: evdubs_ (~evdubs@user/evdubs)
[22:10:35] <Snow-Man> that's.. a huge jump
[22:11:05] *** Joins: uncleyear (~ian@178.176.74.16)
[22:11:53] <Berge> Wasn't there a question here recently about large objects and pg_dump+
[22:12:00] <Berge> I've never used them, though
[22:12:22] <ilmari> kallisti5[m]: including large objects «is the default behavior except when --schema, --table, or --schema-only is specified.» - https://www.postgresql.org/docs/devel/app-pgdump.html
[22:12:28] <Berge> kallisti5[m]: Theoretically yes (but always use pg_dump binaries from your target version)
[22:12:39] <Berge> ilmari: Norwegian quote signs <3
[22:12:50] <Berge> Though perhaps somewhat confusing for others
[22:13:38] <kallisti5[m]> Thanks :-) So some issue in translation is possible, but sounds like an app issue over a db issue
[22:13:48] <kallisti5[m]> is there a way to dump / inspect a single large object from psql?
[22:13:56] <Berge> kallisti5[m]: What are the symptoms you're seeing?
[22:14:12] *** Quits: evdubs (~evdubs@user/evdubs) (Ping timeout: 240 seconds)
[22:14:27] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[22:14:31] <kallisti5[m]> It's a java app.   Everything working except for screenshots lol.  Guess the dev stored everything in the database as large psql objects (no idea why)
[22:14:45] *** Quits: darkbit (~db@136.158.8.67) (Ping timeout: 256 seconds)
[22:14:45] <Berge> And how does it fail?
[22:14:45] <kallisti5[m]> literally no tables... just large objects.  Weirdest thing
[22:14:53] <ilmari> kallisti5[m]: search for \lo_ on https://www.postgresql.org/docs/current/app-psql.html
[22:15:06] <kallisti5[m]> ilmari: thank you :-)
[22:15:19] *** Quits: psoo (~psoo@dslb-002-202-190-148.002.202.pools.vodafone-ip.de) (Ping timeout: 256 seconds)
[22:16:21] <kallisti5[m]> \lo_export 1196362 test
[22:16:21] <kallisti5[m]> ERROR:  permission denied for large object 1196362
[22:16:21] <kallisti5[m]> weird
[22:16:49] *** Quits: justAstache (~justache@user/justache) (Remote host closed the connection)
[22:16:50] <kallisti5[m]> wait.. why are all the lo owners postgresql
[22:16:54] <kallisti5[m]> hmmmm
[22:17:10] *** Joins: FastJack (~fastjack@ip-078-094-022-014.um19.pools.vodafone-ip.de)
[22:17:59] *** Joins: justAstache (~justache@user/justache)
[22:18:57] <ilmari> either you created the dump with --no-owner or the owner didn't exist when you restored it
[22:19:03] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 256 seconds)
[22:19:08] <ilmari> note that pg_dump doesn't include users, you need `pg_dumpall -g` for that
[22:19:10] <ario> do the reed things in thiis query mean bad? any way to improve it? https://explain.depesz.com/s/9Ztb
[22:19:37] <ilmari> ario: it means they are the slowest part of the query. but the total time is only 9 milliseconds
[22:19:38] <Berge> ario: Red only means slowest part
[22:19:42] <kallisti5[m]> ilmari: current dump command is  "pg_dump -C -U postgres -d ... "
[22:19:54] <ario> ah
[22:20:32] <ario> it looks like everything hit an index, right?
[22:20:43] <kallisti5[m]> ALTER LARGE OBJECT * OWNER TO 'xxx';
[22:20:43] <kallisti5[m]> ERROR:  syntax error at or near "*"
[22:20:57] <kallisti5[m]> hm
[22:21:06] <Berge> kallisti5[m]: Are you using psql?
[22:21:11] <ilmari> kallisti5[m]: you need to specify the actual large object id
[22:21:13] <kallisti5[m]> yeah
[22:21:26] <kallisti5[m]> you can't just mass change owners?
[22:21:27] <Berge> (Can the owner be quoted in single quotes?)
[22:21:30] *** Joins: randir (~randir@95-25-111-216.broadband.corbina.ru)
[22:22:43] <ilmari> it's complaining about the *
[22:23:02] <Berge> ah, of course
[22:23:07] <ilmari> select format('alter large object %s owner to someuser', oid) from pg_largeobject_metadata \gexec
[22:23:20] <Berge> Nevermind me
[22:23:20] *** Quits: monstar (~monstar@gateway/tor-sasl/monstar) (Quit: WeeChat 3.0)
[22:24:07] *** Joins: maciek_ (~maciek@2600:1700:a412:1c00:b660:5ba1:679:3e44)
[22:24:47] <kallisti5[m]> ilmari: you're a lifesaver :-)
[22:25:27] <kallisti5[m]> had to switch away from the app role to postgres role to do it... so yeah feels like something misconfigured that broke from 9.6 to 14.x
[22:25:47] *** Joins: Petruchio (~ray@dynamic-acs-24-154-115-19.zoominternet.net)
[22:26:11] *** Quits: randir (~randir@95-25-111-216.broadband.corbina.ru) (Ping timeout: 252 seconds)
[22:26:38] <ilmari> to do what? the ALTER? yes, only superuser a member of both the new and old roles can alter the owner of a large object
[22:26:45] *** Quits: mowcat (~mowcat@2a00:23c5:d190:1901:f22f:74ff:fe77:1e1c) (Ping timeout: 252 seconds)
[22:26:46] <ilmari> superuser *or*
[22:28:50] *** Joins: Auron (Auron956@user/auron)
[22:29:35] <ilmari> ario: UNION might be quicker than OR, worth testing
[22:30:32] <ario> ilmari: i'm doing a '1234' in (column_1, column_2) that is getting translated to a OR
[22:32:29] *** Joins: gleu (~guillaume@pop.92-184-100-81.mobile.abo.orange.fr)
[22:32:57] *** Quits: Petruchio (~ray@dynamic-acs-24-154-115-19.zoominternet.net) (Quit: Konversation terminated!)
[22:33:49] *** Quits: darutoko (~darutoko@92.125.59.195) (Quit: Leaving)
[22:34:21] *** Joins: Petruchio (~ray@dynamic-acs-24-154-115-19.zoominternet.net)
[22:34:50] *** Quits: Petruchio (~ray@dynamic-acs-24-154-115-19.zoominternet.net) (Client Quit)
[22:36:13] *** Joins: Petruchio (~ray@dynamic-acs-24-154-115-19.zoominternet.net)
[22:36:36] *** Quits: gleu (~guillaume@pop.92-184-100-81.mobile.abo.orange.fr) (Ping timeout: 245 seconds)
[22:37:12] *** Joins: goner (~tw@user/goner)
[22:39:50] *** Quits: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt) (Quit: Lost terminal)
[22:41:20] *** Joins: NCS_One (~NCS_One@bl11-90-133.dsl.telepac.pt)
[22:44:19] *** Quits: daftaupe (~daftaupe@82.66.95.80) (Quit: The Lounge - https://thelounge.chat)
[22:45:17] *** Quits: goner (~tw@user/goner) (Quit: WeeChat 3.4.1)
[22:46:33] <kallisti5[m]> ilmari: ok.. found the issue kinda
[22:47:11] *** Joins: daftaupe (~daftaupe@82.66.95.80)
[22:48:13] <kallisti5[m]> ilmari: https://gist.github.com/kallisti5/f838183f93f6d54b3b9fec60c5265ae6 I have no idea what's going on there
[22:48:20] <kallisti5[m]> the relations are missing which is weird
[22:48:22] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[22:48:28] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[22:48:45] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 256 seconds)
[22:49:18] *** Joins: rufito (~phil@186-79-3-19.baf.movistar.cl)
[22:50:58] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[22:52:36] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 252 seconds)
[22:55:30] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 250 seconds)
[22:55:40] *** Joins: k8yun (~k8yun@user/k8yun)
[22:55:51] *** Joins: magla (~gelignite@d5362120.access.ecotel.net)
[22:59:24] *** Joins: intray (~intray@user/intray)
[23:00:46] *** Joins: fef (~thedawn@user/thedawn)
[23:01:28] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[23:01:33] *** Quits: mav`rik (~unknown@ec2-54-171-126-99.eu-west-1.compute.amazonaws.com) (Quit: leaving)
[23:02:52] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[23:04:26] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b)
[23:06:45] *** Joins: concrete-houses (~g@209.6.150.53)
[23:07:46] <concrete-houses> alter default priviledges     if my main user is admin and role of user is jake, if I do a alter default priviledges for jake, will it not longer create the objects and grant all perms to admin?
[23:08:15] <concrete-houses> or does it keep admin having all privs and add whatever is granted to jake
[23:08:16] *** Joins: funhouse (~funhouse@user/funhouse)
[23:08:32] <Sammitch> FWIW, that "orphan FKs pointing at nothing" issue I asked about a couple days ago turned out to be a corner case of DataGrip being terrible, and the queries I wrote to confirm the issue being flawed. =_=
[23:08:32] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:350b:c577:12c5:d54b) (Ping timeout: 240 seconds)
[23:10:15] <concrete-houses> see I don't want to shoot myself in the foot..... I want the main role to own everything but would be nice for other roles to also be granted perms on futire created objects
[23:10:23] <concrete-houses> which I hope is what it does
[23:10:40] <concrete-houses> roles kicks my ass
[23:19:36] *** Joins: n0fun (~jack@mue-88-130-48-133.dsl.tropolys.de)
[23:22:03] *** Quits: shkurata (~shkurata@ptr-8riebuil60vhi1zqt1v.18120a2.ip6.access.telenet.be) (Quit: Leaving...)
[23:28:36] *** Joins: austb_ (~austb@c-73-240-245-80.hsd1.or.comcast.net)
[23:29:00] <kallisti5[m]> ilmari: ok.  figured it out.  The binary data dumped from pg 9.6 isn't properly importing to 14.x
[23:29:05] <kallisti5[m]> psql:/tmp/haikudepotserver.sql:62009: ERROR:  invalid hexadecimal data: odd number of digits  ..   CONTEXT:  COPY pkg_screenshot_image, line 1868, column data: "\x89504e47
[23:30:24] <sobel> concrete-houses: still making it harder than it has to be, eh?
[23:30:40] <sobel> concrete-houses: roles are simple, and fully documented
[23:31:13] <sobel> concrete-houses: they work as documented, and only as documented (or else please submit a bug report with minimal steps of reproduction)
[23:34:57] *** Quits: azlev (~azlev@189.120.73.227) (Ping timeout: 252 seconds)
[23:36:36] *** Quits: f3f3lix (~weechat@55d4238c.access.ecotel.net) (Ping timeout: 252 seconds)
[23:36:44] *** Joins: azlev (~azlev@189.120.73.227)
[23:38:03] *** Joins: ur5us (~ur5us@2406:e002:6845:dc01:b921:6822:fa0e:e017)
[23:38:22] *** Joins: f3f3lix (~weechat@55d4238c.access.ecotel.net)
[23:38:32] *** Quits: furrymcgee (~devuan@cgn-213-196-210-225.nc.de) (Quit: leaving)
[23:42:36] *** Quits: podverse-mitch (~mitch-pod@c-73-176-137-149.hsd1.il.comcast.net) (Read error: Connection reset by peer)
[23:43:14] *** Quits: xocolatl_ (~xocolatl@193.32.126.213) (Read error: Connection reset by peer)
[23:43:20] *** Joins: xocolatl (~xocolatl@193.32.126.213)
[23:44:51] *** Quits: c2main (~quassel@user/c2main) (Ping timeout: 252 seconds)
[23:45:15] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[23:46:52] <concrete-houses> awesome to hear
[23:46:53] <concrete-houses> ok
[23:47:41] *** Quits: xocolatl (~xocolatl@193.32.126.213) (Ping timeout: 256 seconds)
[23:47:49] *** Joins: xocolatl_ (~xocolatl@193.32.126.225)
[23:51:18] *** Quits: TomyWork (~TomyLobo@p200300e80f158200e4846a37f590c886.dip0.t-ipconnect.de) (Quit: Leaving)
[23:52:15] <maret> What are options for a case where I have a large amount of data coming from postgres for processing and it takes too much memory? One option I was thinking about is store partial computation of the data in database or maybe outside of it like filesystem?
[23:52:26] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[23:52:45] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[23:52:51] <concrete-houses> so If I have a mainuser    and I want to create an admin role    I could do 'create role admin in role mainuser'  so admin inherits the privs from maniuser   then I could do 'create role login password 'applepie' in role admin'
[23:53:20] <concrete-houses> 'c 'create role
[23:53:29] *** Joins: john_johnk (~Thunderbi@102.178.207.77.rev.sfr.net)
[23:54:14] <concrete-houses> 'create role bricky login password 'applepie' in role admin'  to setup bricky
[23:54:45] <maret> For example I have a large list of user transactions and I have to do a recursion through data to find additional one then I do some processing on application layer, but amount of data is so large that it taking a lot of memory. So I was thinking about splitting into smaller parts saving them once they are processed and then serve them from db
[23:54:48] <concrete-houses> does that sound right?
[23:55:25] <concrete-houses> I wonder why work has another role aside from mainuser  and grants all this stuff to that
[23:57:20] <concrete-houses>  sobel: if I alter default privs, does that stop the defaut bahvior of an object owner from owning the new object?  or just add the new grants to objects created? in addition to creaor having all privs?
[23:58:38] <sobel> concrete-houses: good question. what does the documentation say about that?
[23:59:41] <Profpatsch> maret: My guess is that it really depends on how your data is laid out in the database
[23:59:48] <Profpatsch> Maybe you can work with cursors?
