[00:04:07] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[00:05:12] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[00:05:33] *** Quits: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net) (Ping timeout: 268 seconds)
[00:06:40] *** Quits: thevishy (~thevishy@2405:201:f005:c007:e1d9:1da9:c11d:bf92) (Ping timeout: 256 seconds)
[00:06:50] *** Quits: Inline (~Inline@2a02:908:1252:7a80:dd3:2a50:6ae0:62a1) (Quit: Leaving)
[00:08:09] *** Quits: mat001_ (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Remote host closed the connection)
[00:08:12] *** Joins: voices- (~voices_@84.238.197.28)
[00:08:43] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[00:13:02] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 240 seconds)
[00:13:35] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 264 seconds)
[00:14:24] *** Joins: Betal (~Betal@user/betal)
[00:14:49] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[00:14:50] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 260 seconds)
[00:15:13] *** Joins: tejr (~tejr@user/tejr)
[00:16:44] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[00:18:49] *** Joins: l4yer (~l4yer@195.181.170.210)
[00:20:47] *** Joins: seninha (~seninha@user/seninha)
[00:21:25] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 256 seconds)
[00:22:49] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 268 seconds)
[00:23:48] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[00:25:16] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 268 seconds)
[00:25:52] *** Joins: ElPresidenteP (~ElPreside@2600:1700:3d10:4870:b1f5:2c76:2dd0:60b7)
[00:26:54] *** Joins: jinsun__ (~quassel@user/jinsun)
[00:27:01] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[00:27:15] *** Joins: pycurious (~Adium@user/pycurious)
[00:27:16] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[00:29:47] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:1c92:afe9:d824:4e11) (Ping timeout: 264 seconds)
[00:30:23] *** Quits: ElPresidenteP (~ElPreside@2600:1700:3d10:4870:b1f5:2c76:2dd0:60b7) (Ping timeout: 264 seconds)
[00:30:23] *** Quits: jinsun (~quassel@user/jinsun) (Ping timeout: 264 seconds)
[00:32:11] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 264 seconds)
[00:34:31] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 268 seconds)
[00:34:51] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[00:38:02] *** Joins: magla (~gelignite@55d4c767.access.ecotel.net)
[00:38:50] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 268 seconds)
[00:39:11] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[00:41:01] *** Joins: voices- (~voices_@84.238.197.28)
[00:43:30] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:41b9:c5c1:7ca6:f7e2)
[00:43:30] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:41b9:c5c1:7ca6:f7e2) (Changing host)
[00:43:30] *** Joins: skapata (~Skapata@user/skapata)
[00:44:51] *** Quits: torresjrjr (~torresjrj@user/torresjrjr) (Remote host closed the connection)
[00:44:59] *** Joins: torresjrjr (~torresjrj@2a05:f480:1000:867:c676:9168:787c:4d69)
[00:45:26] *** Joins: techzerker (~techzerke@184.151.37.52)
[00:45:31] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 250 seconds)
[00:48:57] *** Quits: torresjrjr (~torresjrj@2a05:f480:1000:867:c676:9168:787c:4d69) (Changing host)
[00:48:57] *** Joins: torresjrjr (~torresjrj@user/torresjrjr)
[00:49:22] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Quit: ZNC 1.8.2 - https://znc.in)
[00:49:42] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[00:53:45] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[00:55:24] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[00:56:18] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[00:56:44] *** Joins: Ev0l (~gabriel@191.190.199.9)
[00:59:11] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 264 seconds)
[00:59:36] *** Joins: pycurious (~Adium@user/pycurious)
[00:59:47] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 264 seconds)
[01:00:22] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[01:00:25] *** Quits: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 268 seconds)
[01:00:37] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[01:01:49] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[01:01:52] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[01:02:04] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[01:02:54] *** Quits: mei (~mei@user/mei) (Ping timeout: 260 seconds)
[01:05:33] *** Quits: techzerker (~techzerke@184.151.37.52) (Quit: Igloo IRC: https://iglooirc.com)
[01:07:32] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 240 seconds)
[01:09:33] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[01:12:29] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[01:12:48] *** Joins: kyr (~kyr@167.71.50.12)
[01:13:05] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[01:14:45] *** Quits: Ev0l (~gabriel@191.190.199.9) (Quit: leaving)
[01:15:04] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[01:15:49] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[01:17:32] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[01:18:17] *** Joins: Maxdamantus (~Maxdamant@user/maxdamantus)
[01:22:20] *** Joins: Ev0l (~gabriel@191.190.199.9)
[01:22:54] <Maxdamantus> Hmm .. I notice the man page says this, under the documentation for the `trap` command: > Signals  ignored  upon  entry  to the shell cannot be trapped or reset.
[01:23:26] *** Quits: martinus__ (~martin@95.31.201.77.rev.sfr.net) (Ping timeout: 260 seconds)
[01:23:45] <Maxdamantus> .. why is that? is there really no way to make bash just do something like `signal(SIGPIPE, SIG_DFL);`, in case some buggy parent has ignored a signal?
[01:23:52] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 268 seconds)
[01:28:26] *** Joins: rya (~ry@47.23.188.138)
[01:28:55] *** Quits: rya (~ry@47.23.188.138) (Changing host)
[01:28:55] *** Joins: rya (~ry@user/rya)
[01:33:08] *** Joins: ferdna (~ferdna@user/ferdna)
[01:38:35] <Blondie101010> hmmm hard to know if it's only by design or obligation, but having two sinal handlers for the same signal would no be very sane
[01:43:11] <Maxdamantus> Doing `signal(SIGPIPE, SIG_DFL);` would effectively result in only having one handler, which is the default one in the kernel (the handler that just kills the process)
[01:43:55] <Maxdamantus> `signal - SIGPIPE` seems to set it to what it was at the start of the process, so if that was `SIG_IGN`, it will go back to ignoring it.
[01:44:47] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[01:45:01] <emanuele6> `trap - SIGPIPE'?
[01:45:01] *** Quits: moha (uid506645@helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[01:46:18] *** Quits: Dotz0cat (~Dotz0cat@h203.195.186.173.dynamic.ip.windstream.net) (Ping timeout: 260 seconds)
[01:47:04] <Maxdamantus> That sets it to what it is at the start of the process, which due to a bug is `SIG_IGN`
[01:47:32] *** Joins: Dotz0cat (~Dotz0cat@h95.88.187.173.dynamic.ip.windstream.net)
[01:51:04] <Maxdamantus> Meh, I'll just write a wrapping program for now.
[01:51:31] <earnestly> The "default" is whatever is inherited from the parent
[01:52:38] *** Quits: Laurenceb (~Laurenceb@68.207.208.46.dyn.plus.net) (Ping timeout: 256 seconds)
[01:52:43] *** jinsun__ is now known as jinsun
[01:53:29] <earnestly> Although that doesn't make a lot of sense
[01:53:36] <Maxdamantus> Sure, but there's another concept of "default" in signal handling, meaning `SIG_DFL`, and it looks like there's no way to set it to that from bash.
[01:53:53] <earnestly> If you set SIG_IGN and execve a new process, at least on linux, that signal gets reset to the default
[01:54:03] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fabc-15.dhcp.inet.fi) (Read error: Connection reset by peer)
[01:54:10] *** Quits: defiant (~defiant@user/defiant) (Ping timeout: 260 seconds)
[01:54:26] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[01:54:36] <Maxdamantus> Right, where "default" means the handler at the start of the bash process, as opposed to the default handler in POSIX.
[01:55:30] <earnestly> Hm, actually if the signal is being caught then it passes through execve to the child
[01:55:31] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Quit: https://emailselfdefense.fsf.org)
[01:55:57] <earnestly> No nevermind, wrong way around, it isn't preserved
[01:56:11] <earnestly> Because it obviously can't be as the child won't have the handler available
[01:56:47] <Maxdamantus> Right, across execve the signal handler can only be SIG_IGN or SIG_DFL.
[01:57:08] <earnestly> So if you set the signal in question to SIG_IGN, it'll get reset
[01:57:22] <earnestly> And your new process will get whatever the default is
[01:58:06] <earnestly> Hm
[01:58:21] <earnestly> This is more involved than I suspected it to be, I thought i read about this before
[01:59:10] <earnestly> Maxdamantus: Setting the SIG_DFT should work according to this, I'm not sure why it's "reverting" back to sig_ign for you
[01:59:19] <earnestly> That is, setting DFL in the child
[01:59:49] <earnestly> (In bash/sh, trap '' SIG (SIG_IGN) and trap - SIG (SIG_DFL))
[02:00:51] <earnestly> Maxdamantus: Nevermind, > Except for SIGCHLD, signals set to be ignored (SIG_IGN) by the calling process image shall be set to be ignored by the new process image.
[02:01:11] <earnestly> Still, DFL shouldn't reset to IGN
[02:01:57] *** Quits: H3dn1ng (~H3dn1ng@2-248-149-85-no172.tbcn.telia.com) (Quit: leaving)
[02:02:49] <earnestly> # trap '' USR1; exec bash -c 'trap - USR1; trap -p'
[02:02:50] <shbot> earnestly: trap -- '' SIGUSR1
[02:02:50] <shbot> earnestly: (shell exited with 0)
[02:02:54] <earnestly> lol
[02:03:16] <earnestly> emanuele6: Welp
[02:03:26] <earnestly> Maxdamantus: You'll have to make a wrapper, yeah
[02:03:53] *** Joins: al2o3-cr (~al2o3-cr@user/gr33n7007h)
[02:04:24] <earnestly> # trap '' USR1; trap - USR1; exec bash -c 'trap - USR1; trap -p' # no output
[02:04:25] <shbot> earnestly: (shell exited with 0)
[02:05:29] *** Quits: al2o3-cr (~al2o3-cr@user/gr33n7007h) (Client Quit)
[02:05:55] *** Joins: gr33n7001 (~al2o3-cr@user/gr33n7007h)
[02:06:34] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[02:10:40] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[02:11:16] <emanuele6> # eval "$BASH_COMMAND"
[02:11:18] <shbot> emanuele6: /init: line 39:    44 Segmentation fault      LOADABLES=1 setsid bash -l
[02:11:18] <shbot> emanuele6: (shell exited with 139)
[02:12:03] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[02:12:51] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[02:14:54] *** Joins: voices- (~voices_@84.238.197.28)
[02:17:30] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[02:18:41] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 250 seconds)
[02:19:32] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 240 seconds)
[02:22:34] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[02:23:33] *** Quits: wikan (~wikan@2a02:a31d:8541:e100:213:2ff:fed3:8291) (Quit: Client closed)
[02:25:20] <Maxdamantus> sigign="$(sed 's/^SigIgn:\t/0x/; t; d' < /proc/self/status)"; ((sigign & 0x1000)) && tcc -run <(echo $'#include <unistd.h> \n #include <signal.h> \n int main(int argc, char **argv){ extern char **environ; signal(SIGPIPE, SIG_DFL); return execve(argv[1], &argv[1], environ); }') "$0" "$@"
[02:25:26] <Maxdamantus> LGTM
[02:28:44] <emanuele6> you can use `tcc -run -' and <<'C' ( or <<<$'code' ) instead of <(echo $'')
[02:29:21] <Maxdamantus> Assuming stdin is unused.
[02:30:06] <emanuele6> ah, right
[02:32:44] <emanuele6> and `tcc -run /dev/fd/3 3<<'C'' could work, but then you have to close(3) in the C code if you don't want 3 to stay open for the new process
[02:35:15] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[02:35:18] *** Quits: flying_sausages (~flying_sa@user/flying-sausages/x-2113186) (Ping timeout: 260 seconds)
[02:37:33] *** Joins: Codaraxis_ (~Codaraxis@user/codaraxis)
[02:38:39] *** Joins: roadie (~user@pd956924f.dip0.t-ipconnect.de)
[02:40:46] <Maxdamantus> Meh, I'm not too worried about a single leaked pipe. If something tries to read it, at least it will get killed by the `SIGPIPE`.
[02:41:07] *** Joins: Guest89 (~Guest89@2601:19b:800:e50:28f0:f8a0:1594:58c2)
[02:41:20] <Maxdamantus> (forgot to `exec tcc` in my above solution, but it works otherwise)
[02:41:33] *** Quits: Codaraxis__ (~Codaraxis@user/codaraxis) (Ping timeout: 268 seconds)
[02:41:33] <earnestly> emanuele6: I think ormaaj had a challenge about making bash segfault and I think that's the shortest yet
[02:41:42] *** Joins: rustyshackleford (uid236774@helmsley.irccloud.com)
[02:41:50] *** Quits: podeni (~podeni@188.27.129.177) (Ping timeout: 260 seconds)
[02:41:52] <emanuele6> earnestly: huh?
[02:42:00] *** Joins: Night-Shade (~Tim@ip5b403d56.dynamic.kabel-deutschland.de)
[02:42:07] <emanuele6> # p=${p@P};${p@P}
[02:42:07] <shbot> emanuele6: no output
[02:42:13] <emanuele6> oops
[02:42:15] <emanuele6> # p=\${p@P};${p@P}
[02:42:15] <earnestly> emanuele6: Your use of eval above
[02:42:16] <shbot> emanuele6: /init: line 39:    44 Segmentation fault      LOADABLES=1 setsid bash -l
[02:42:16] <shbot> emanuele6: (shell exited with 139)
[02:42:24] <emanuele6> this one is way shorter
[02:42:25] <earnestly> Not quite as short then
[02:42:32] <earnestly> It's not much shorter
[02:43:09] <earnestly> 15 vs 20 bytes
[02:43:21] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[02:43:51] *** Quits: magla (~gelignite@55d4c767.access.ecotel.net) (Quit: Stay safe!)
[02:44:09] <emanuele6> earnestly: 16 vs 18 bytes
[02:44:25] <emanuele6> 18 because the quotes are not needed in `eval $BASH_COMMAND'
[02:44:34] <earnestly> Fair enough, even closer then
[02:44:51] <earnestly> # . #BASH_COMMAND
[02:44:52] <shbot> earnestly: bash: .: filename argument required
[02:44:52] <shbot> earnestly: .: usage: . filename [arguments]
[02:44:55] <emanuele6> i also came up with this one
[02:44:56] <earnestly> # . $BASH_COMMAND
[02:44:57] <shbot> earnestly: bash: .: .: is a directory
[02:44:59] <earnestly> Hm
[02:45:09] <earnestly> # . <($BASH_COMMAND)
[02:45:09] <shbot> earnestly: bash: $BASH_COMMAND: command not found
[02:45:30] <emanuele6> # PS4=\${PS4@P};set -x;:
[02:45:31] <shbot> emanuele6: /init: line 39:    44 Segmentation fault      LOADABLES=1 setsid bash -l
[02:45:31] <shbot> emanuele6: (shell exited with 139)
[02:45:51] <emanuele6> but this one is 22 bytes
[02:45:54] <earnestly> Clearly @P has problems
[02:46:10] <emanuele6> i reported it, some time ago
[02:47:09] <emanuele6> and Chet just replied "Yes. If you set up and execute an infinitely recursive expansion, you're eventually going to run out of stack or data space and crash."
[02:47:14] <emanuele6> hehe
[02:47:29] <earnestly> I still can't quite get over the ACE bugs introduced by arithmetic contexts
[02:47:46] <earnestly> emanuele6: Also that's the wrong answer, because nothing should ever segfault, it should be an error
[02:48:02] <emanuele6> # a=a;((a))
[02:48:03] <shbot> emanuele6: bash: ((: a: expression recursion level exceeded (error token is "a")
[02:48:16] <earnestly> "It's fine if you overflow the stack, it'll just crash"
[02:48:36] <emanuele6> it's also weird answer because arithmetic contexts do have a recursion limit
[02:48:36] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[02:48:44] <emanuele6> so why shouldn't @P have one?
[02:50:21] *** Joins: voices- (~voices_@84.238.197.28)
[02:50:42] <earnestly> Because, probably, bash is an evolved codebase
[02:52:56] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[02:53:11] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 264 seconds)
[02:54:59] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[02:55:11] *** Joins: gamore (~gamore@101.179.132.178)
[02:55:28] *** Joins: namkeleser (~namkelese@101.179.132.178)
[02:56:32] *** Joins: Inline (~Inline@2a02:908:1252:7a80:ff0f:1149:92da:8af0)
[02:57:40] *** Joins: Codaraxis (~Codaraxis@user/codaraxis)
[02:57:52] *** Joins: vysn (~vysn@user/vysn)
[02:59:28] *** Quits: A|an (~Alan@173.216.51.200) (Quit: A|an)
[02:59:40] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[02:59:47] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[03:00:03] *** Quits: Codaraxis_ (~Codaraxis@user/codaraxis) (Ping timeout: 268 seconds)
[03:01:53] *** Quits: Guest89 (~Guest89@2601:19b:800:e50:28f0:f8a0:1594:58c2) (Quit: Client closed)
[03:02:12] *** Quits: fedenix_ (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[03:02:55] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[03:03:35] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[03:04:35] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 264 seconds)
[03:06:39] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[03:07:01] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[03:08:01] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 256 seconds)
[03:12:34] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[03:12:49] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[03:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:15:38] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:16:06] *** Quits: useretail (~useretail@185.132.19.151) (Ping timeout: 268 seconds)
[03:16:19] *** Quits: shokohsc8618 (~shokohsc@161.88.195.77.rev.sfr.net) (Quit: The Lounge - https://thelounge.chat)
[03:17:24] *** Joins: shokohsc8618 (~shokohsc@161.88.195.77.rev.sfr.net)
[03:19:36] <wiscii> !forkbomb
[03:19:36] <greybot> Explanation of :(){ :|:& } - http://mywiki.wooledge.org/BashFAQ/059 <== you do *not* want to test/run that.
[03:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:20:47] <emanuele6> that is not quite the same thing hehe
[03:21:24] <wiscii> just wanted a reminder ;-)
[03:21:30] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Remote host closed the connection)
[03:22:26] *** Joins: pycurious (~Adium@user/pycurious)
[03:22:51] *** Joins: noord (~noord@user/noord)
[03:22:56] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[03:26:40] *** Joins: flying_sausages (~flying_sa@83.149.106.219)
[03:26:40] *** Quits: flying_sausages (~flying_sa@83.149.106.219) (Changing host)
[03:26:40] *** Joins: flying_sausages (~flying_sa@user/flying-sausages/x-2113186)
[03:27:11] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 268 seconds)
[03:29:23] *** Joins: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net)
[03:30:02] *** Quits: waxfire (~waxfire@65.119.2.240) (Quit: The Lounge - https://thelounge.chat)
[03:30:07] *** Quits: shokohsc8618 (~shokohsc@161.88.195.77.rev.sfr.net) (Quit: The Lounge - https://thelounge.chat)
[03:30:12] *** Joins: waxfire (~waxfire@65.119.2.240)
[03:30:16] *** Joins: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[03:31:19] *** Joins: shokohsc8618 (~shokohsc@161.88.195.77.rev.sfr.net)
[03:31:30] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Quit: Leaving)
[03:32:09] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Remote host closed the connection)
[03:32:49] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[03:33:35] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[03:34:35] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 268 seconds)
[03:35:01] *** Quits: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk) (Read error: Connection reset by peer)
[03:36:16] *** Joins: karstensrage (~karstensr@user/karstensrage)
[03:37:10] *** Quits: dextercd (~dexter@2a02-a450-f25d-1-76d4-35ff-fefe-34c.fixed6.kpn.net) (Quit: WeeChat 3.3)
[03:39:35] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[03:39:35] *** Quits: bob_x2 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[03:40:12] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[03:40:13] *** Joins: bob_x2 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[03:40:53] *** Joins: voices- (~voices_@84.238.197.28)
[03:41:11] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Ping timeout: 264 seconds)
[03:41:33] *** Quits: ano (~ano@user/ano) (Ping timeout: 276 seconds)
[03:41:54] *** Joins: pycurious (~Adium@user/pycurious)
[03:42:46] *** Joins: ano (~ano@user/ano)
[03:45:59] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 264 seconds)
[03:47:47] *** Quits: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net) (Quit: WeeChat 3.3)
[03:51:39] *** Joins: rgrinberg (~textual@201.192.183.53)
[03:53:21] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Ping timeout: 256 seconds)
[03:54:02] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 240 seconds)
[04:02:29] *** Quits: roadie (~user@pd956924f.dip0.t-ipconnect.de) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[04:02:54] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[04:03:34] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 268 seconds)
[04:04:11] *** Lord_of_Life_ is now known as Lord_of_Life
[04:05:51] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[04:07:36] *** Joins: zeden (~zeden@user/zeden)
[04:09:38] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[04:10:35] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 264 seconds)
[04:13:11] *** Joins: voices- (~voices_@84.238.197.28)
[04:14:53] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 256 seconds)
[04:15:09] *** Joins: voices-_ (~voices_@84.238.197.28)
[04:15:09] *** Quits: voices- (~voices_@84.238.197.28) (Read error: Connection reset by peer)
[04:15:18] <ormaaj> # x=x[\${!x}];${!x}
[04:15:19] <shbot> ormaaj: /init: line 39:    44 Segmentation fault      LOADABLES=1 setsid bash -l
[04:15:19] <shbot> ormaaj: (shell exited with 139)
[04:18:32] <ormaaj> # _[\${!_}];$[_]
[04:18:33] <shbot> ormaaj: bash: _[${!_}]: command not found
[04:18:33] <shbot> ormaaj: /init: line 39:    44 Segmentation fault      LOADABLES=1 setsid bash -l
[04:18:33] <shbot> ormaaj: (shell exited with 139)
[04:19:50] *** Quits: voices-_ (~voices_@84.238.197.28) (Ping timeout: 260 seconds)
[04:23:40] *** Quits: skreech (skreech@user/skreech) (Quit: skreech)
[04:24:14] *** Joins: skreech (skreech@user/skreech)
[04:25:06] <emanuele6> oh, good idea
[04:25:18] <emanuele6> # \${_@P};${_@P}
[04:25:19] <shbot> emanuele6: bash: ${_@P}: command not found
[04:25:19] <shbot> emanuele6: /init: line 39:    44 Segmentation fault      LOADABLES=1 setsid bash -l
[04:25:19] <shbot> emanuele6: (shell exited with 139)
[04:25:21] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[04:26:10] <emanuele6> that's tied with `_[\${!_}];$[_]' 14 bytes
[04:28:28] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[04:29:47] *** Quits: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 264 seconds)
[04:34:32] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 240 seconds)
[04:35:24] <emanuele6> there is also `PS1=\${PS1@P}' that is 13 bytes, but it only works in interactive shells
[04:35:34] *** Joins: quazimodo (~quazimodo@n1-40-235-47.bla1.nsw.optusnet.com.au)
[04:36:24] *** Quits: rgrinberg (~textual@201.192.183.53) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:38:26] *** Joins: sgn (~sgn@user/sgn)
[04:43:33] *** Joins: Guest85 (~Guest85@ip24-250-184-86.ga.at.cox.net)
[04:44:40] <xx> how does one protect oneself against running that, if one wanted to run it as a test?
[04:45:02] <xx> that probably wasn't an english sentence
[04:45:23] <ormaaj> subshell
[04:45:29] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 256 seconds)
[04:46:12] <emanuele6> xx: that is not a fork bomb, it just makes bash seg fault and craash
[04:46:58] <xx> ah
[04:47:20] <xx> should bash segfault and craash?
[04:47:29] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Quit: Leaving)
[04:47:53] <ormaaj> setting FUNCNEST for tests isn't such a bad idea. Also ulimit
[04:48:18] *** Quits: Guest85 (~Guest85@ip24-250-184-86.ga.at.cox.net) (Ping timeout: 256 seconds)
[04:48:29] <xx> didn't know about FUNCNEST, thanks
[04:49:10] <emanuele6> xx: apparently yes
[04:49:11] <emanuele6> https://lists.gnu.org/archive/html/bug-bash/2021-08/msg00206.html
[04:49:25] <emanuele6> > Yes. If you set up and execute an infinitely recursive expansion, you're eventually going to run out of stack or data space and crash.
[04:49:49] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 268 seconds)
[04:49:54] *** Joins: wald0 (~Elive_use@191.92.148.122)
[04:50:11] *** Quits: zeden (~zeden@user/zeden) (Ping timeout: 264 seconds)
[04:50:30] <wald0> is there an example of running a bash script from a remote website? (like those one-line common installers using curl and a pipe)
[04:50:52] *** Quits: gr33n7001 (~al2o3-cr@user/gr33n7007h) (Quit: WeeChat 3.3)
[04:51:43] *** Quits: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net) (Ping timeout: 256 seconds)
[04:52:16] <ormaaj> it could be Implemented in such a way that just loops without stack growth for certain cases but it's rather pointless.
[04:52:47] <ormaaj> same for math evaluation
[04:53:10] <xx> wald0: so... why not look at thoe one-line common installers using curl and a pipe then?
[04:53:32] *** Joins: n4dir (~user@i5E8666EF.versanet.de)
[04:55:27] <Blondie101010> wald0:  it could be as simple as: bash <(curl -v $installerURL)
[04:55:56] <Blondie101010> but though that's easy to use, it's also easy to run things you're not aware of, so always look at the script first
[04:56:06] <emanuele6> you probably want to use -g with curl and quote the expansion.
[04:56:18] <xx> probably also -f
[04:56:30] *** Joins: voices- (~voices_@84.238.197.28)
[04:56:33] <emanuele6> -f doesn't really matter
[04:56:40] <xx> curl -fsSL "$url" | sudo bash
[04:56:53] <emanuele6> -g --
[04:57:06] <emanuele6> xx: why do you need -f?
[04:57:22] <emanuele6> -f does nothing useful in that pipeline afaict
[04:57:26] <xx> so that nothing is passed to bash in case of server herrors
[04:57:35] <xx> i.e. 404 does not go towards bash
[04:58:19] <emanuele6> oh, i though -f only made curl exit failure, not also disable output
[04:58:22] <emanuele6> good to know
[04:58:58] <emanuele6> then: curl -fsSLg -- "$url" | sudo bash
[04:59:18] * xx is still horrified at that | sudo bash
[04:59:25] *** Joins: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[04:59:43] <xx> it's so easy to serve a different document when the user agent says curl compared to firefox
[05:00:00] <emanuele6> it would be best to use   curl -fsSLg -- "$url" | sudo bash -c 'source /dev/stdin'   or   sudo bash - <(curl -fsSLg -- "$url")   though
[05:00:29] <xx> curious, what does that do?
[05:01:21] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[05:01:52] <emanuele6> say you have `IFS= read -r var' \n `printf 'you entered: %s\n' "$var"' \n `echo ok'
[05:02:19] <emanuele6> bash - <(...) will handle let the user enter input
[05:02:56] <emanuele6> |bash  will set var=$'printf \'you entered: %s\\n\' "$var"' and only print ok
[05:03:31] <emanuele6> |bash -c 'source /dev/stdin'   will make the read fail and will print "you entered: \n" and "ok"
[05:03:32] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 240 seconds)
[05:03:40] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[05:05:32] <xx> I admit, I have to think about this one
[05:05:53] *** Joins: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net)
[05:06:11] <emanuele6> # output_code () { echo $'IFS= read -r var\nprintf \'you entered: %s\\n\' "$var"\necho ok' ;}; bash - <(output_code) <<< user_input
[05:06:12] <shbot> emanuele6: you entered: user_input
[05:06:12] <shbot> emanuele6: ok
[05:06:26] *** Quits: gamore (~gamore@101.179.132.178) (Ping timeout: 256 seconds)
[05:06:30] <emanuele6> # output_code () { echo $'IFS= read -r var\nprintf \'you entered: %s\\n\' "$var"\necho ok' ;}; output_code | bash
[05:06:31] <shbot> emanuele6: ok
[05:06:42] *** Joins: binary01 (~binary01@192.110.171.216)
[05:06:48] <emanuele6> # output_code () { echo $'IFS= read -r var\nprintf \'you entered: %s\\n\' "$var"\necho ok' ;}; output_code | bash -c 'source /dev/stdin'
[05:06:49] <shbot> emanuele6: you entered:
[05:06:49] <shbot> emanuele6: ok
[05:06:56] <thebombzen> even better, how about curl -o installer.bash --url "$url"; less installer.bash; bash installer.bash
[05:07:18] <thebombzen> piping a curl into bash seems somewhat unsafe
[05:07:22] <emanuele6> that forces you to run the command.
[05:07:23] <wald0> mmh but how i can include arguments ? curl url | bash
[05:07:51] <thebombzen> "$@" expands to the argument list
[05:08:13] <emanuele6> no, you can't run a script properly using |bash
[05:08:20] <emanuele6> that is not the same thing as running a script
[05:08:32] <thebombzen> but the only way to run a script properly is to set it to be executable and run it
[05:08:40] <thebombzen> like, as a command
[05:08:45] <thebombzen> ./installer
[05:08:45] <emanuele6> bash - <(curl ...) arg1 arg2
[05:09:49] <emanuele6> wald0: don't ignore what i and xx said about -f, -g, etc
[05:10:29] <xx> well, in the ideal case you can ignore it, because you will never run `curl | sudo bash`, right? Right?
[05:10:58] <emanuele6> i would never do such things, that is just weird
[05:11:21] <xx> it's literal remote code execution with root privileges
[05:11:36] *** Quits: YHVH (~yhvh@c-98-235-30-231.hsd1.pa.comcast.net) (Quit: Leaving)
[05:11:43] <Blondie101010> that in itself is not a problem
[05:11:53] <emanuele6> though the `|bash' vs `|bash -c 'source /dev/stdin'' vs `bash - /dev/stdin' thing is good to know when sending code via ssh
[05:11:59] *** Joins: YHVH (~yhvh@2601:982:8300:8090:40e5:4fc7:87a5:29c7)
[05:12:00] <Blondie101010> as long as you know what you're running
[05:12:24] <xx> Blondie101010: probably best if some gpg verification was happening in the pipeline then
[05:13:01] <Blondie101010> xx:  I don't recommend running scripts that way, but some people *demand* simple installers :)
[05:13:34] <xx> you're right, people demand many things that are not necessarily good for them
[05:13:45] <emanuele6> !coffee
[05:13:45] <greybot> c[_]
[05:14:20] <xx> !tea
[05:14:26] * xx is sad
[05:15:15] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[05:16:32] <emanuele6> # output_code () { echo $'IFS= read -r var\nprintf \'read's exit code: %s\\n\' "$?"\ndeclare -p var' ;}; output_code | bash
[05:16:38] <shbot> emanuele6: Missing terminating quote, bracket or keyword
[05:16:42] <emanuele6> oh ,oops
[05:17:07] <emanuele6> # output_code () { echo $'IFS= read -r var\nprintf \'read exit code: %s\\n\' "$?"\ndeclare -p var' ;}; output_code | bash
[05:17:08] <shbot> emanuele6: declare -- var="printf 'read exit code: %s\\n' \"\$?\""
[05:17:19] <emanuele6> # output_code () { echo $'IFS= read -r var\nprintf \'read exit code: %s\\n\' "$?"\ndeclare -p var' ;}; output_code | bash -c 'source /dev/stdin'
[05:17:20] <shbot> emanuele6: read exit code: 1
[05:17:20] <shbot> emanuele6: declare -- var=""
[05:17:29] <emanuele6> # output_code () { echo $'IFS= read -r var\nprintf \'read exit code: %s\\n\' "$?"\ndeclare -p var' ;}; bash - <(output_code)
[05:17:36] <shbot> emanuele6: no output within the time limit
[05:17:57] <emanuele6> # output_code () { echo $'IFS= read -r var\nprintf \'read exit code: %s\\n\' "$?"\ndeclare -p var' ;}; bash - <(output_code) <<< user_input
[05:17:58] <shbot> emanuele6: read exit code: 0
[05:17:58] <shbot> emanuele6: declare -- var="user_input"
[05:18:12] <emanuele6> xx: this is probably easier to understand
[05:18:35] <xx> easier? yes. easy? no :)
[05:18:52] <emanuele6> with `|bash' stdin is the code itself
[05:18:53] <xx> thank you though, I am noting it down
[05:19:21] <emanuele6> so if a command reads from stdin in the script, it will eat a bit of code which might be problematic
[05:20:02] <emanuele6> `bash - <(output_code)' just runs the script normally as if it was a file, and stdin is just the shell's stdin
[05:20:03] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[05:21:08] <emanuele6> `|bash -c 'source /dev/stdin'' reads everything in stdin before running any code, so commands that read stdin will receive EOF when they try to read it
[05:21:08] <wald0> ok so seems like the best option is: bash - <(curl -fsSLg -- "$url") arg1 arg2
[05:21:32] *** Joins: totenkoph (~scythe@user/totenkoph)
[05:21:45] <xx> just like the best option is to get shot in the butt than in the head
[05:22:20] * xx knows nothing about the ramifications of getting shot in the butt
[05:23:51] <emanuele6> wald0: that preserves stdin (`bash - <()' technique), runs nothing is response if 404 (`-f'), and always interprets $url as an url (`-g' to disable urlglobs, `"$url"' to disable shell field splitting and pathname expansions, `--' to avoid option injection)
[05:24:16] <emanuele6> but running remote code like that is not generally a great thing
[05:24:54] <emanuele6> s/is response if/if response is a/
[05:25:01] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[05:26:21] <emanuele6> i would not use `-L' for this, but you can use it if you want (it lets curl follow redirects if a page has moved)
[05:27:07] <emanuele6> -sS are just to disable curl's download progress output and other errors
[05:27:27] <emanuele6> since you may want to get error messages, maybe don't use -S and just use -s
[05:27:38] <emanuele6> oh, nvm
[05:27:51] <emanuele6> -S does the opposite of what i said hehe
[05:28:09] <Blondie101010> in my own test I 2>/dev/null
[05:28:11] <emanuele6> -S shows errors even when -s is used
[05:28:32] <emanuele6> Blondie101010: that does not print error messages though
[05:28:37] <Blondie101010> true
[05:29:19] <emanuele6> -sS disables the download progress output, but keeps still shows errors (-S is --show-error)
[05:30:03] *** Joins: voices- (~voices_@84.238.197.28)
[05:30:11] <emanuele6> s/keeps /
[05:30:22] *** Quits: timj (~timj@user/timj) (Quit: Leaving.)
[05:31:17] *** Joins: ferdna (~ferdna@user/ferdna)
[05:31:23] *** Joins: rgrinberg (~textual@201.192.183.53)
[05:34:10] <emanuele6> i always though -S was to disable errors, hehe. and that -s by itself did what -sS actually does.
[05:34:17] <emanuele6> i need to start using -S
[05:34:58] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 260 seconds)
[05:47:16] *** Quits: yac (~user@user/yac) (Ping timeout: 260 seconds)
[05:47:25] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[05:50:02] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 240 seconds)
[05:54:17] *** Joins: cyhyraeth (~cyhyraeth@user/cyhyraeth)
[05:56:23] *** Quits: cyhyraeth (~cyhyraeth@user/cyhyraeth) (Client Quit)
[06:00:47] *** Quits: dtux (~dtux@2601:646:8f00:3f2:1f8d:523e:11a:1242) (Quit: dtux)
[06:02:23] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.3)
[06:03:02] *** Joins: voices- (~voices_@84.238.197.28)
[06:03:10] *** Joins: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net)
[06:03:35] <wald0> emanuele6, thx
[06:04:19] *** Joins: Betal (~Betal@user/betal)
[06:07:39] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[06:11:05] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[06:13:59] *** Joins: nock (~noctarium@2804:14c:8786:81c3:a10c:e0ab:fd30:1397)
[06:15:37] *** Joins: voices- (~voices_@84.238.197.28)
[06:20:43] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[06:20:47] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 264 seconds)
[06:27:29] *** Quits: n4dir (~user@i5E8666EF.versanet.de) (Ping timeout: 256 seconds)
[06:29:22] *** Joins: n4dir (~user@i5E8666F8.versanet.de)
[06:31:26] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[06:32:01] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[06:34:42] *** Quits: binary01 (~binary01@192.110.171.216) (Ping timeout: 260 seconds)
[06:36:25] *** Joins: seninha (~seninha@user/seninha)
[06:37:07] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 256 seconds)
[06:38:40] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.8.2+deb2 - https://znc.in)
[06:41:21] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[06:42:03] *** Quits: polve (~polve@twcitalia/polve) (Quit: WeeChat 2.3)
[06:42:54] *** Joins: polve (~polve@twcitalia/polve)
[06:46:17] *** Quits: Ev0l (~gabriel@191.190.199.9) (Quit: leaving)
[06:46:35] *** Quits: wald0 (~Elive_use@191.92.148.122) (Ping timeout: 264 seconds)
[06:50:39] *** Quits: omegatron (~some@p5484903d.dip0.t-ipconnect.de) (Quit: What happened? You quit!)
[06:52:26] *** Joins: zebrag (~chris@user/zebrag)
[06:58:28] *** Joins: voices- (~voices_@84.238.197.28)
[06:59:59] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[07:02:19] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.1)
[07:02:24] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 268 seconds)
[07:03:02] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 240 seconds)
[07:05:54] *** Quits: nock (~noctarium@2804:14c:8786:81c3:a10c:e0ab:fd30:1397) (Quit: Leaving)
[07:11:43] *** Quits: Nact (~l@host-85-27-120-251.dynamic.voo.be) (Quit: Konversation terminated!)
[07:14:07] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 268 seconds)
[07:16:57] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[07:17:11] *** Quits: jos1 (~jos3@dyndsl-091-248-050-207.ewe-ip-backbone.de) (Ping timeout: 264 seconds)
[07:20:21] *** Quits: vicecea (~vicecea@gateway/vpn/pia/vicecea) (Remote host closed the connection)
[07:20:40] *** Joins: vicecea (~vicecea@gateway/vpn/pia/vicecea)
[07:21:23] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[07:30:30] *** Joins: jos1 (~jos3@dyndsl-091-096-043-110.ewe-ip-backbone.de)
[07:30:40] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:32:27] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Read error: No route to host)
[07:33:58] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 260 seconds)
[07:34:37] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[07:34:38] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[07:40:02] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.2.1)
[07:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:44:34] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[07:45:25] *** Quits: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 250 seconds)
[07:48:38] *** Joins: kill (~killown@user/killown)
[07:50:30] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 268 seconds)
[07:52:52] *** Joins: loganlee (~Thunderbi@user/loganlee)
[07:55:35] *** Quits: bud (~bud@user/bud) (Quit: Leaving.)
[07:56:07] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[07:57:42] *** Quits: loganlee (~Thunderbi@user/loganlee) (Client Quit)
[08:02:32] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 240 seconds)
[08:08:23] *** Quits: dsrt^ (~dsrt@68.101.63.101) (Ping timeout: 268 seconds)
[08:10:46] *** Joins: dsrt^ (~dsrt@68.101.63.101)
[08:14:55] *** Quits: mihaiadrian (~Thunderbi@82.76.223.244) (Quit: mihaiadrian)
[08:20:44] *** Joins: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net)
[08:21:27] *** Joins: A|an (~Alan@173.216.51.200)
[08:22:02] *** Quits: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[08:22:58] *** Quits: A|an (~Alan@173.216.51.200) (Client Quit)
[08:23:27] *** Joins: yac (~user@user/yac)
[08:31:41] *** Joins: voices- (~voices_@84.238.197.28)
[08:32:26] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[08:35:15] *** Joins: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net)
[08:36:45] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 268 seconds)
[08:37:41] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[08:52:51] *** Quits: karakedi (~eAC53C340@user/karakedi) (Read error: Connection reset by peer)
[08:56:28] *** Joins: vysn (~vysn@user/vysn)
[08:56:30] *** Quits: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net) (Quit: dtux)
[08:57:13] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:06:02] *** Quits: andydude (~arobbins@c-76-111-101-250.hsd1.md.comcast.net) (Quit: andydude)
[09:08:45] *** Joins: akoana (~ah@user/akoana)
[09:11:24] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[09:12:23] *** Quits: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft) (Ping timeout: 264 seconds)
[09:13:50] *** Joins: voices- (~voices_@84.238.197.28)
[09:18:37] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[09:24:56] *** Joins: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net)
[09:25:46] *** Quits: rgrinberg (~textual@201.192.183.53) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:31:02] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[09:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:34:29] *** Quits: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net) (Ping timeout: 256 seconds)
[09:35:47] *** Joins: loganlee (~Thunderbi@user/loganlee)
[09:40:33] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:42:39] *** Quits: magyar_ (~magyar@user/magyar) (Read error: Connection reset by peer)
[09:44:38] *** Joins: magyar_ (~magyar@user/magyar)
[09:48:03] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[09:51:34] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[09:54:17] *** Joins: voices- (~voices_@84.238.197.28)
[09:55:45] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[09:58:51] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[10:00:00] *** Quits: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 268 seconds)
[10:00:40] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[10:18:30] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 268 seconds)
[10:21:49] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[10:26:16] *** Joins: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[10:29:37] *** Joins: voices- (~voices_@84.238.197.28)
[10:30:23] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 264 seconds)
[10:30:49] *** Joins: sinaowolabi (~SinaOwola@41.58.230.136)
[10:30:59] *** Joins: mei (~mei@user/mei)
[10:31:35] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[10:32:00] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[10:36:02] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 240 seconds)
[10:37:42] *** Guest2799 is now known as az
[10:38:04] *** Quits: az (az@stable.bnc.by.bnc4you.xyz) (Changing host)
[10:38:04] *** Joins: az (az@user/azz)
[10:41:21] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[10:45:31] *** Parts: akoana (~ah@user/akoana) ()
[10:45:44] *** Quits: namkeleser (~namkelese@101.179.132.178) (Quit: Client closed)
[10:47:42] *** Joins: voices- (~voices_@84.238.197.28)
[10:50:22] *** Joins: rendar (~rendar@user/rendar)
[10:52:25] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 268 seconds)
[10:54:10] *** Parts: emanuele6 (~emanuele6@user/emanuele6) (WeeChat 3.3)
[10:55:48] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[10:58:56] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.3)
[11:05:31] *** Quits: xaxas (~quassel@nebulosa.jtopia.org) (Quit: Leaving)
[11:05:47] *** Joins: xaxas (~quassel@nebulosa.jtopia.org)
[11:10:20] *** Quits: xaxas (~quassel@nebulosa.jtopia.org) (Client Quit)
[11:11:55] *** Joins: xaxas (~quassel@nebulosa.jtopia.org)
[11:15:08] *** Joins: igemnace (~ian@user/igemnace)
[11:17:42] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[11:20:19] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[11:26:32] *** Joins: voices- (~voices_@84.238.197.28)
[11:26:58] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[11:28:20] *** Quits: dre (~dre@2001:8003:c932:c301:a745:514b:948f:a168) (Ping timeout: 265 seconds)
[11:31:14] *** Joins: aniruddha (uid340443@ilkley.irccloud.com)
[11:31:35] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[11:31:35] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 264 seconds)
[11:32:00] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[11:32:32] *** Joins: useretail (~useretail@185.132.19.151)
[11:37:43] *** Parts: jaggz (~jaggz@user/jaggz) (Leaving)
[11:39:00] *** Quits: n4dir (~user@i5E8666F8.versanet.de) (Remote host closed the connection)
[11:39:02] *** Quits: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za) (Ping timeout: 240 seconds)
[11:39:17] *** Quits: mags (~mags@097-090-237-145.res.spectrum.com) (Ping timeout: 268 seconds)
[11:39:24] *** Joins: tobybl (~tobybl@213.31.134.235)
[11:40:31] *** Joins: mags (~mags@097-090-237-145.res.spectrum.com)
[11:41:25] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[11:46:47] *** Joins: dirtwash (~dirtwash@user/dirtwash)
[11:47:31] <dirtwash> can somoene give me a hint how I pass a bash variable to jq in a bash script, since jq requires it as jq '.test[$x]' but the escaping fails me...
[11:48:59] *** Quits: lovetruth (~lovetruth@188.27.142.20) (Ping timeout: 264 seconds)
[11:52:41] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[11:53:32] *** Joins: binary01 (~binary01@192.110.171.216)
[11:56:36] *** Joins: voices- (~voices_@84.238.197.28)
[11:59:02] *** Quits: xx (~xx@user/xx) (Ping timeout: 268 seconds)
[11:59:33] *** Quits: binary01 (~binary01@192.110.171.216) (Ping timeout: 256 seconds)
[12:00:34] *** Joins: chomwitt (~chomwitt@2a02:587:dc2d:ec00:12c3:7bff:fe6d:d374)
[12:01:15] <Blondie101010> dirtwash: why not simply ".test[$x]"?
[12:01:35] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 264 seconds)
[12:04:05] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[12:04:13] *** Joins: lovetruth (~lovetruth@188.27.143.159)
[12:05:44] <dirtwash> Blondie101010: hm thanks, gotta understand the results now, seems not consistent but this json is hell
[12:06:04] <Blondie101010> this may break with other things
[12:08:43] <pj> probably better off with: jq '.test[$ENV.x]'
[12:09:00] <pj> Then you don't have to worry about injection.
[12:09:25] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[12:10:19] <pj> oh, you'd have to export the variable, or do this: x=$x jq '.test[$ENV.x]'
[12:11:24] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[12:11:33] *** Joins: lavaball (felix@31.204.155.215)
[12:14:04] <pj> # x=foo; x=$x jq '.test[$ENV.x]' <<<'{"test": {"foo": "bar"}}'
[12:14:05] <shbot> pj: "bar"
[12:15:03] *** Joins: jkssodhxu[m] (~barzarian@2001:470:69fc:105::1:3a12)
[12:16:42] *** Joins: DrNostril (~DrNostril@185.236.200.171)
[12:18:03] <emanuele6> # x=foo; jq --arg x "$x" '.test[$x]' <<<'{"test": {"foo": "bar"}}'
[12:18:04] <shbot> emanuele6: "bar"
[12:18:17] <pj> that works as well
[12:21:01] *** Quits: onto (~onto@45.63.115.64) (Ping timeout: 250 seconds)
[12:22:00] <pj> you could also do this...
[12:22:04] <pj> # x=foo; jq '.test[$ARGS.positional[0]]' --args "$x" <<<'{"test": {"foo": "bar"}}'
[12:22:05] <shbot> pj: "bar"
[12:22:32] *** Quits: ialokin (znc@user/ialokin) (Ping timeout: 240 seconds)
[12:23:43] *** Joins: onto (~onto@45.63.115.64)
[12:24:24] <dirtwash> i resorted to python now, it made some things easier dealing with this monstrosity of json
[12:24:29] <dirtwash> but appreicate the help
[12:24:39] <dirtwash> i gotta learn the difference between '' and ""
[12:24:49] *** Joins: sandb0y (~pirate@user/sandb0y)
[12:24:50] <pj> dirtwash: I can understand that.  I tend to use perl a lot when i need to parse JSON.
[12:24:55] <pj> !'
[12:24:56] <greybot> EVERYTHING inside single quotes (') is taken literally by bash. If you want to embed a ' inside '...', write it as the four characters '\'' or use $'...' quoting instead.
[12:25:00] <pj> !"
[12:25:00] <greybot> "Double quote" every literal that contains spaces/metacharacters and _every_ expansion: "$var", "$(command "$var")", "${array[@]}", "a & b". Use 'single quotes' for code or literal dollar signs: 'Costs $5 US', ssh host 'echo "$HOSTNAME"'. See http://mywiki.wooledge.org/Quotes , http://mywiki.wooledge.org/Arguments and http://wiki.bash-hackers.org/syntax/words .
[12:25:09] *** Joins: ialokin (znc@user/ialokin)
[12:27:33] *** Joins: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk)
[12:28:17] <dirtwash> ok so if if do '$test' bash would not fill that var?
[12:28:42] <dirtwash> ok thanks
[12:28:44] <dirtwash> simple that is
[12:28:57] <pj> no, it would be passed verbatum to jq
[12:29:41] <pj> ...or whatever command you're running
[12:29:59] <emanuele6> you should not use a code injection for that anyway
[12:30:34] <pj> right
[12:31:19] <pj> the three above examples (two from me and one from emanuele6) will work without code injection.
[12:31:37] <emanuele6> well it depends
[12:31:54] <pj> on?
[12:32:03] <emanuele6> i think dirtwash actually wants to pass a number
[12:32:22] <pj> ahhh, right, they should work for that as well, I think...
[12:32:23] <emanuele6> so ENV won't work, but --argjson would
[12:32:31] <pj> oh, right
[12:32:47] *** Quits: sinaowolabi (~SinaOwola@41.58.230.136) (Ping timeout: 264 seconds)
[12:32:49] <dirtwash> i wanted to pass a number yes, to iterate over json array
[12:33:03] <dirtwash> just "$var" did work
[12:33:11] <dirtwash> but yea using python now, bit easier
[12:33:31] <emanuele6> iterate an array?
[12:33:39] <emanuele6> were your running jq multiple times?
[12:34:57] *** Joins: voices- (~voices_@84.238.197.28)
[12:35:07] <pj> # x=2; jq --argjson x "$x" '.test[$x]' <<<'{"test": ["one", "two", "three", "four"]}'
[12:35:08] <shbot> pj: "three"
[12:35:57] <emanuele6> # x=2; jq '.test[$ARGS.positional[]]' --jsonargs "$x"
[12:36:03] <shbot> emanuele6: no output within the time limit
[12:36:07] <emanuele6> oops
[12:36:12] <emanuele6> # x=2; jq '.test[$ARGS.positional[]]' --jsonargs "$x"  <<<'{"test": ["one", "two", "three", "four"]}'
[12:36:13] <shbot> emanuele6: "three"
[12:36:18] <pj> yep
[12:36:29] <emanuele6> but you can just load the array in bash
[12:36:31] <pj> but $ENV won't work that way
[12:36:56] <pj> well you can, but it's not a good idea.  It paves the way for code injection.
[12:36:58] <emanuele6> # mapfile -t test < <(jq '.test[]' <<<'{"test": ["one", "two", "three", "four"]}'); declare -p test
[12:36:59] <shbot> emanuele6: declare -a test=([0]="\"one\"" [1]="\"two\"" [2]="\"three\"" [3]="\"four\"")
[12:37:20] <emanuele6> err, with -r
[12:37:26] <emanuele6> # mapfile -t test < <(jq -r '.test[]' <<<'{"test": ["one", "two", "three", "four"]}'); declare -p test
[12:37:27] <shbot> emanuele6: declare -a test=([0]="one" [1]="two" [2]="three" [3]="four")
[12:37:45] <emanuele6> and now you can access, "${test[0]}" "${test[1]}" ...
[12:38:04] <dirtwash> emanuele6: yea that was a stupid idea anyway :)
[12:38:20] <pj> at the end of the day python may well be the best way to do it, or like I said perl (which I'm more comfortable with, but you likely like python better).
[12:38:37] <emanuele6> because it sounded like dirtwash was doing something like: for x in {0..2}; do something "$(jq ".test[$x]" <<< "$json")"; done
[12:38:38] <dirtwash> yea i needed taht array , but im using python dict now, since python has handy json.loads function
[12:38:40] <emanuele6> which is not idea
[12:38:44] <emanuele6> s/$/l/
[12:38:54] <dirtwash> emanuele6: I was, didnt thinkn it through
[12:39:13] <dirtwash> obviously one can map it into bash array but then you have the nesting issues still
[12:39:25] <dirtwash> because you need a new array for every level no?
[12:39:32] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 240 seconds)
[12:39:43] <emanuele6> unsure of what you mean
[12:40:00] <dirtwash> ok maybe not...since you can then use jq easily
[12:40:08] <emanuele6> anyway, if you know python, it's better if you use that over something you don't know how to use
[12:40:14] <dirtwash> well in any case i just fniished what i needed
[12:40:31] <dirtwash> although id' be curious now whats faster, bash vs python
[12:41:13] <emanuele6> well, jq is not bash
[12:41:29] <emanuele6> !jq
[12:41:30] <greybot> jq is a flexible and lightweight JSON processor: http://stedolan.github.com/jq/ . See #jq. Also, query JSON data with jshon: http://kmkeen.com/jshon/
[12:41:30] <dirtwash> well bash+jq then
[12:41:37] <dirtwash> compared to python
[12:41:47] <emanuele6> jq is a whole programming language
[12:41:57] <dirtwash> im aware, just badly phrased it
[12:42:01] *** Joins: namkeleser (~namkelese@101.179.132.178)
[12:42:28] <emanuele6> you likely can do everything you need to do in one jq call
[12:42:52] <dirtwash> plus a bunch of loops and string ops with bash yea
[12:43:24] <emanuele6> you underestimate how powerful jq is.
[12:44:17] <dirtwash> possible
[12:44:50] <dirtwash> i needed to find all urls with a specific string in a key of an array in an array in an array..
[12:45:22] <emanuele6> sounds trivial in jq
[12:47:30] <emanuele6> jq --argjson x "$x" '.test[$x]|getpath(paths(strings|select(contains("something"))))'
[12:48:18] <emanuele6> that outputs all the strings inside .test[$x] that contain "something"
[12:48:19] *** Joins: voices- (~voices_@84.238.197.28)
[12:48:41] <dirtwash> mother of god
[12:48:45] <emanuele6> that doesn't even involve looping..
[12:49:10] <emanuele6> it's totally trivial, you don't understand that jq is literally a programming language
[12:50:20] <dirtwash> well i was looking at tutorial, they dont get to such complex examples
[12:52:49] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[12:53:00] *** Joins: martinus__ (~martin@95.31.201.77.rev.sfr.net)
[12:53:45] *** Joins: guardian (~guardian@planet-d.net)
[12:54:33] *** Quits: tobybl (~tobybl@213.31.134.235) (Remote host closed the connection)
[12:56:09] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[12:58:04] *** Joins: carl-- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se)
[12:58:06] *** Quits: reset (~reset@user/reset) (Quit: reset)
[13:02:44] *** Joins: earnestly (~earnest@user/earnestly)
[13:06:23] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[13:09:18] *** Joins: bbju (~bbju@103.144.148.53)
[13:10:33] *** Quits: lovetruth (~lovetruth@188.27.143.159) (Quit: Leaving)
[13:11:18] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 260 seconds)
[13:12:15] *** Joins: podeni (~podeni@188.27.129.177)
[13:13:06] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[13:17:42] *** Joins: spiri__ (~LuksNuke@gateway/tor-sasl/luksnuke)
[13:17:54] *** Quits: LuksNuke_ (~LuksNuke@gateway/tor-sasl/luksnuke) (Remote host closed the connection)
[13:18:23] *** Quits: bbju (~bbju@103.144.148.53) (Quit: Client closed)
[13:21:12] <loganlee> # array=('hello' 'every' 'one'); echo ${!array[@]}
[13:21:13] <shbot> loganlee: 0 1 2
[13:21:21] <loganlee> i thought so
[13:27:59] *** Joins: sinaowolabi (~SinaOwola@41.58.230.136)
[13:28:41] *** Joins: voices- (~voices_@84.238.197.28)
[13:28:46] *** Joins: bbju (~bbju@103.144.148.51)
[13:30:05] *** Quits: justache (~justache@user/justache) (Read error: Connection reset by peer)
[13:30:53] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[13:30:55] *** Joins: justache (~justache@user/justache)
[13:33:32] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 240 seconds)
[13:35:00] *** Quits: ano (~ano@user/ano) (Ping timeout: 276 seconds)
[13:35:55] *** Joins: ano (~ano@user/ano)
[13:36:07] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[13:39:10] *** Joins: magla (~gelignite@55d4124a.access.ecotel.net)
[13:41:00] *** Quits: rustyshackleford (uid236774@helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[13:41:23] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 268 seconds)
[13:42:18] *** Joins: zer0bitz (~zer0bitz@2001:2003:f6bc:f00:5be:28c2:b3af:e641)
[13:42:37] *** Quits: af (~af@awalgarg.me) (Ping timeout: 268 seconds)
[13:55:31] *** Joins: af (~af@awalgarg.me)
[13:56:29] *** Quits: spiri__ (~LuksNuke@gateway/tor-sasl/luksnuke) (Remote host closed the connection)
[13:57:37] *** Joins: spiri__ (~LuksNuke@gateway/tor-sasl/luksnuke)
[13:58:17] *** Joins: sinaowolabi_ (~SinaOwola@41.58.230.136)
[13:59:17] *** Joins: jetchisel (jetchisel@user/jetchisel)
[14:00:05] <rendar> i wish to set 0644 to all files and directories, do you think it's wise?
[14:00:33] *** Quits: sinaowolabi_ (~SinaOwola@41.58.230.136) (Remote host closed the connection)
[14:01:23] <ormaaj> system wide? prolly not
[14:01:30] *** Joins: vlm (~vlm@user/vlm)
[14:02:12] *** Joins: voices- (~voices_@84.238.197.28)
[14:02:50] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.3)
[14:03:20] <phogg> all files? You could probably live with it. All directories? Everything will blow up and nothing will work.
[14:03:20] *** Joins: sinaowolabi_ (~SinaOwola@41.58.230.136)
[14:03:24] <rendar> well it's not system wide
[14:03:28] <rendar> only /data which contains files!
[14:03:34] <rendar> *regular* files
[14:03:43] <phogg> rendar: any files which are also programs will also require +x
[14:03:52] <rendar> nope
[14:03:57] <rendar> there is no program in /data
[14:05:12] <rendar> phogg, sorry, i guess directories should have 755, or drwxr-xr-x
[14:05:18] <rendar> right?
[14:05:30] <phogg> most likely yes
[14:05:37] <phogg> a directory no one can transverse is not very useful
[14:05:46] <phogg> er, traverse
[14:06:10] <rendar> yes
[14:06:31] <rendar> so, 0644 for files and 0755 for directories.. how could i apply this recursively for the entire tree?
[14:06:34] *** Quits: Strom (strom@fedora/strom) ()
[14:07:03] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[14:08:38] *** Joins: Strom (strom@fedora/strom)
[14:14:20] *** Joins: timj (~timj@user/timj)
[14:16:09] *** Quits: bob_x2 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[14:16:32] *** Joins: bob_x2 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[14:20:01] *** Quits: magla (~gelignite@55d4124a.access.ecotel.net) (Read error: Connection reset by peer)
[14:20:41] *** Joins: magla (~gelignite@55d4124a.access.ecotel.net)
[14:24:21] <colo> is there a better way than parsing `unzip -l` with e.g. awk to determine which files extraction of a zip archive will create?
[14:27:50] <phogg> if there is then I would also like to know what it is
[14:27:58] *** Quits: AsenMx (~AsenMx@user/asenmx) (Ping timeout: 265 seconds)
[14:28:16] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[14:28:31] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[14:28:32] *** Joins: voices- (~voices_@84.238.197.28)
[14:29:39] <colo> rendar, play around with  `find . -xdev -type f -exec echo chmod 0644 {} + -o -type d -exec echo chmod 0755 {} +` - if the output looks sane, remove the teo "echo"s from the command.
[14:29:43] *** Joins: AsenMx (~AsenMx@user/asenmx)
[14:29:58] <colo> better yet:   find /data/ -xdev -type f -exec echo chmod 0644 {} + -o -type d -exec echo chmod 0755 {} +
[14:30:02] <rendar> thanks
[14:30:02] <phogg> advice along those lines has been given in another channel
[14:30:15] <colo> I see.
[14:30:21] * colo shakes fist at crossposters
[14:30:42] <phogg> to be fair he was asking a different question in #linux and I provided a follow up to this one, too
[14:31:02] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Client Quit)
[14:31:09] <phogg> so if there is anyone to shake your first at it's me
[14:31:14] <colo> hehe
[14:31:25] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[14:33:48] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 268 seconds)
[14:35:59] *** Quits: cluelessperson (~cluelessp@user/cluelessperson) (Ping timeout: 250 seconds)
[14:36:09] *** Quits: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de) (Client Quit)
[14:36:24] *** Joins: cisco87 (~quassel@static.128.104.12.49.clients.your-server.de)
[14:37:16] *** Joins: cluelessperson (~cluelessp@user/cluelessperson)
[14:37:44] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[14:43:30] <ormaaj> rendar: https://gist.github.com/ormaaj/0e51bb9c55ac1d6cbf25e8ad3a94fe7c
[14:44:27] <rendar> ormaaj, thanks! i've solved with `find "${directory}" -type d -exec chmod "${dir_umask}" {} + , -type f -exec chmod "${file_umask}" {} +`
[14:46:59] *** Quits: carl-- (~carl-@c-138ee555.02-180-73746f39.bbcust.telenor.se) (Ping timeout: 265 seconds)
[14:47:25] *** Joins: semeion (~semeion@user/semeion)
[14:48:03] *** Joins: voices- (~voices_@84.238.197.28)
[14:52:55] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 268 seconds)
[14:52:57] <emanuele6> !find$
[14:52:57] <greybot> `find "$dir" -type f' is problematic if $dir starts with '-'; a solution is to use `find "${dir/#-/./-}" -type f' (i.e. prepend './' to $dir only if $dir begins with '-')
[14:53:51] <emanuele6> !-- > also this
[14:53:51] <greybot> also this: The special option -- means "end of options" to every POSIX command except echo and test, and to many other commands. E.g. «mv -- *.png /somedir» (in case one of the filenames begins with "-"). See <http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap12.html#tag_12_02> and <http://wiki.bash-hackers.org/dict/terms/end_of_options>
[14:55:49] <ormaaj> k# test --man --
[14:55:51] <shbot> ormaaj: NAME
[14:55:52] <shbot> ormaaj:   test - evaluate expression
[14:55:52] <shbot> ormaaj: etc... ( http://ix.io/16p6 )
[14:56:21] *** Quits: barjac (~quassel@94.196.120.106.threembb.co.uk) (Ping timeout: 256 seconds)
[14:58:37] *** Quits: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net) (Ping timeout: 256 seconds)
[14:58:50] *** Joins: barjac (~quassel@94.196.120.106.threembb.co.uk)
[14:59:11] *** Quits: chomwitt (~chomwitt@2a02:587:dc2d:ec00:12c3:7bff:fe6d:d374) (Ping timeout: 250 seconds)
[15:04:10] *** Joins: put_in (~put_somew@123.20.213.95)
[15:05:17] *** Joins: voices- (~voices_@84.238.197.28)
[15:07:32] *** Quits: sinaowolabi (~SinaOwola@41.58.230.136) (Ping timeout: 240 seconds)
[15:08:02] *** Quits: sinaowolabi_ (~SinaOwola@41.58.230.136) (Ping timeout: 260 seconds)
[15:09:57] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[15:13:06] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 260 seconds)
[15:13:59] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[15:14:40] *** Quits: noord (~noord@user/noord) (Quit: WeeChat 3.3)
[15:15:41] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[15:17:06] *** Quits: bbju (~bbju@103.144.148.51) (Quit: Client closed)
[15:19:24] *** Quits: grep_xtrange (~x@ac255238.ppp.asahi-net.or.jp) (Quit: Quitting)
[15:19:46] *** Joins: z8z (~x@ac255238.ppp.asahi-net.or.jp)
[15:20:16] *** Joins: Laurenceb (~Laurenceb@68.207.208.46.dyn.plus.net)
[15:20:57] *** Joins: sinaowolabi_ (~SinaOwola@169.159.109.201)
[15:23:01] *** Joins: Atque (~Atque@user/atque)
[15:24:52] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.8.2+deb2 - https://znc.in)
[15:25:26] *** Quits: DrNostril (~DrNostril@185.236.200.171) (Quit: Smell ya later~~)
[15:25:30] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[15:30:58] *** Quits: zer0bitz (~zer0bitz@2001:2003:f6bc:f00:5be:28c2:b3af:e641) (Ping timeout: 265 seconds)
[15:31:22] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng31-54fabc-15.dhcp.inet.fi)
[15:31:31] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[15:32:26] *** Quits: cebor (~cebor@user/cebor) (Quit: bye!)
[15:32:32] *** Joins: velix (~velix@user/velix)
[15:32:50] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[15:33:11] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.8.2+deb2 - https://znc.in)
[15:33:12] <velix> Hey. Is there a way to get $var into `exec 3< <(tar cf - "$var")`? I tried exporting it, but it didn't work.
[15:33:18] *** Joins: cebor (~cebor@user/cebor)
[15:35:30] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[15:36:47] *** Joins: gabriele (~gabriele@user/gabriele)
[15:37:14] *** Quits: nf (~n@monade.li) (Quit: Fairfarren.)
[15:37:26] *** Quits: aniruddha (uid340443@ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[15:39:01] *** Joins: nf (~n@monade.li)
[15:39:39] *** Quits: chiselfuse (~chiselfus@user/chiselfuse) (Remote host closed the connection)
[15:39:41] *** Quits: capn (~capn@user/capn) (Quit: Later!)
[15:40:13] *** Joins: chiselfuse (~chiselfus@user/chiselfuse)
[15:40:15] *** Joins: voices- (~voices_@84.238.197.28)
[15:40:47] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.8.2+deb2 - https://znc.in)
[15:41:26] *** Joins: Feuermagier_ (~Feuermagi@154.28.188.151)
[15:42:04] *** Joins: n4dir (~user@i5E8666F8.versanet.de)
[15:42:08] *** Quits: Feuermagier_ (~Feuermagi@154.28.188.151) (Client Quit)
[15:42:53] *** Joins: Feuermagier_ (~Feuermagi@154.28.188.151)
[15:43:23] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[15:43:29] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Remote host closed the connection)
[15:43:40] *** Quits: Feuermagier_ (~Feuermagi@154.28.188.151) (Remote host closed the connection)
[15:43:40] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Remote host closed the connection)
[15:43:41] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[15:43:52] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[15:45:20] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 268 seconds)
[15:46:41] *** Joins: razend (~razend@94.200.42.14)
[15:48:48] <razend> How do you create self-update bash script (script available on github)?
[15:49:10] <razend> https://gist.github.com/cubedtear/54434fc66439fc4e04e28bd658189701
[15:49:11] <checkbot> razend: I think the problem is on line 21. Double quote array expansions to avoid re-splitting elements. See 7 issues on https://shellcheck.net/?id=cb97151
[15:49:55] *** Joins: datatech (~specter@user/datatech)
[15:50:53] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 268 seconds)
[15:50:57] *** Quits: jan6 (jan6@tilde.team/user/jan6) (Quit: nopers)
[15:51:14] *** Joins: jan6 (jan6@tilde.team/user/jan6)
[15:52:19] *** Joins: cdown (~cdown@163.114.131.1)
[15:59:10] *** Joins: han-solo (~han-solo@user/han-solo)
[15:59:18] *** Joins: furrymcgee (~devuan@cgn-213-196-211-151.nc.de)
[16:00:58] <velix> Thanks, `exec 3< <(eval "$var")` did it
[16:05:10] *** Quits: sgn (~sgn@user/sgn) (Read error: Connection reset by peer)
[16:05:34] *** Joins: sgn (~sgn@user/sgn)
[16:06:27] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[16:06:41] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Remote host closed the connection)
[16:06:54] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[16:10:10] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[16:10:59] <velix> I thought eval is evil, but sometimes it's helpful :D
[16:11:09] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[16:15:17] *** Joins: voices- (~voices_@84.238.197.28)
[16:16:16] *** Parts: velix (~velix@user/velix) (Leaving)
[16:20:16] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 265 seconds)
[16:27:14] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[16:28:07] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[16:28:43] *** Joins: Atque (~Atque@user/atque)
[16:30:58] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Quit: Leaving)
[16:31:35] *** fling is now known as ciphersalad
[16:34:08] <lopid> blanket statements are evil
[16:34:54] *** Joins: seninha (~seninha@user/seninha)
[16:37:24] *** semeion is now known as mnemonic
[16:41:11] *** Joins: abip20 (~abdullah@103.66.177.186)
[16:44:08] <geirha> razend: Ugh, not very well written.
[16:45:27] <razend> geirha - what's your take on that?
[16:49:35] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 264 seconds)
[16:53:01] *** Quits: abip20 (~abdullah@103.66.177.186) (Quit: Konversation terminated!)
[16:53:20] *** Joins: abip20 (~abdullah@103.66.177.186)
[16:53:47] *** Quits: datatech (~specter@user/datatech) (Quit: Lost terminal)
[16:55:02] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[16:55:26] *** Joins: voices- (~voices_@84.238.197.28)
[17:00:34] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 268 seconds)
[17:02:13] *** Joins: pj (~pj@ghettoforge/pj)
[17:02:47] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[17:03:20] *** Joins: Guest68 (~Guest68@103.66.177.186)
[17:05:28] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[17:05:41] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[17:06:00] *** ciphersalad is now known as fling
[17:07:34] *** Joins: capn (~capn@user/capn)
[17:08:32] *** Quits: abip20 (~abdullah@103.66.177.186) (Changing host)
[17:08:32] *** Joins: abip20 (~abdullah@user/abip20)
[17:08:57] *** Quits: capn (~capn@user/capn) (Remote host closed the connection)
[17:09:10] *** Quits: abip20 (~abdullah@user/abip20) (Quit: Konversation terminated!)
[17:09:24] *** Joins: abip20 (~abdullah@user/abip20)
[17:10:16] *** Joins: capn (~capn@user/capn)
[17:11:14] <earnestly> I've transcended to a point where if I see uppercase vars, I dismiss it.  There is profound depth in the superficial
[17:11:48] *** Quits: Guest68 (~Guest68@103.66.177.186) (Quit: Client closed)
[17:12:48] <earnestly> (Among many other superficial markers)
[17:14:32] *** Quits: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970) (Quit: WeeChat 3.3)
[17:18:47] *** Joins: dextercd (~dexter@2a02-a450-f25d-1-76d4-35ff-fefe-34c.fixed6.kpn.net)
[17:19:10] *** Quits: abip20 (~abdullah@user/abip20) (Quit: Konversation terminated!)
[17:19:23] *** Joins: abip20 (~abdullah@user/abip20)
[17:20:33] *** Joins: voices- (~voices_@84.238.197.28)
[17:21:36] <geirha> razend: for one, [ "$VERSION" \< "$NEW_VER" ]   compares strings, not versions
[17:22:02] <razend> Should be [ "$VERSION" < "$NEW_VER" ]
[17:22:04] <razend> ?
[17:22:34] <geirha> no, point is  [[ 8.0.0 < 9.0.0 ]]  happens to be true, but [[ 9.0.0 < 10.0.0 ]] is false
[17:23:07] <geirha> # printf '%s\n' 9.0.0 10.0.0 | sort
[17:23:08] <shbot> geirha: 10.0.0
[17:23:08] <shbot> geirha: 9.0.0
[17:23:15] <geirha> because '1' sorts before '9'
[17:25:15] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[17:26:51] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[17:27:11] <earnestly> razend: That and < doesn't do what you think it does in [ (unlike [[)
[17:27:13] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
[17:28:25] <geirha> and  exec updater.sh  will search through PATH for updater.sh, but the script it wrote is in the current directory, so it's assuming the current directory is in PATH. A rather big assumption.
[17:28:43] <razend> so what's correct expression to compare the version?
[17:29:22] <earnestly> There isn't one; there are many implementations that try to support common examples
[17:29:26] <geirha> split each up into major minor patch variables, then comparse separately
[17:29:28] <seninha> I think you can use sort -V
[17:29:37] <seninha> That sort number version
[17:29:51] *** Joins: karakedi (~eAC53C340@user/karakedi)
[17:30:03] <seninha> # printf '10.0.0\n9.0.0\n' | sort -V
[17:30:04] <shbot> seninha: 9.0.0
[17:30:04] <shbot> seninha: 10.0.0
[17:30:21] *** Joins: wald0 (~Elive_use@191.92.148.122)
[17:30:22] <geirha> yes, it's already using GNUisms, so it might as well use the sort -V GNUism as well
[17:31:38] <geirha> which means it won't work on macos
[17:33:34] <earnestly> This is why I think all versions should just be a number
[17:33:36] <earnestly> That increases
[17:34:24] <earnestly> All of this nonsense about encoding information into positional meanings is largely unpracticed and useless, so it doesn't really aid anyone
[17:34:28] <seninha> oh, nice, OpenBSD have sort(1) with GNUisms, including --help and --version...
[17:34:34] *** Quits: quazimodo (~quazimodo@n1-40-235-47.bla1.nsw.optusnet.com.au) (Ping timeout: 260 seconds)
[17:34:36] <seninha> FreeBSD too, but NetBSD has not
[17:34:44] <geirha> well, semantic versioning is useful for alerting user about breaking changes, but you could use two version values; one semantic, one plain numeric
[17:35:20] <earnestly> In theory
[17:35:30] <geirha> what about the other GNUisms it uses? mktemp -p and readlink -f
[17:35:38] <earnestly> In practice that very rarely means anything and I've seen plenty of breaking api/abi on minor bumps
[17:36:30] <earnestly> One of the better projects for this is glibc, they're fairly strict about it and at least have some tooling to detect abi breakage.  I think some others were good, surprisingly, like glib and some other gnome stuff
[17:36:35] *** Quits: namkeleser (~namkelese@101.179.132.178) (Quit: Client closed)
[17:37:00] *** Quits: mnemonic (~semeion@user/semeion) (Quit: WeeChat 3.3)
[17:37:16] <earnestly> But if you're someone who looks out for version info to the extent that it's a warning about breakage then it's unlikely such a person wouldn't also be reading the changelogs, news files, commits, etc. (i.e. maintainers)
[17:38:14] <seninha> Speaking of GNUisms, my rm(1) does not have -I, but I want this functionality, so I tried to implement it as a shell function, here's the result: https://0x0.st/-7He.sh
[17:39:10] <earnestly> Doesn't ksh have local?
[17:39:39] <seninha> !check
[17:39:41] <checkbot> seninha: Line 38: Don't use variables in the printf format string. Use printf '..%s..' "$foo". Line 46: Don't use variables in the printf format string. Use printf '..%s..' "$foo". Line 50: Double quote to prevent globbing and word splitting. See https://shellcheck.net/?id=cb3780 for all 5 issues.
[17:39:59] *** Quits: abip20 (~abdullah@user/abip20) (Ping timeout: 264 seconds)
[17:40:09] <seninha> Oh, it has. As an alias to typeset.
[17:42:04] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Remote host closed the connection)
[17:43:20] <phogg> seninha: you don't unset $opts?
[17:43:28] *** Joins: zeden (~zeden@user/zeden)
[17:44:58] *** Quits: zeden (~zeden@user/zeden) (Client Quit)
[17:51:02] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[17:51:37] *** Quits: n4dir (~user@i5E8666F8.versanet.de) (Remote host closed the connection)
[17:54:41] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 250 seconds)
[17:55:58] *** Joins: sublim20 (~sublim20@user/sublim20)
[17:56:15] *** Joins: abip20 (~abdullah@user/abip20)
[18:01:20] <seninha> phogg: opts is local
[18:08:00] *** Quits: voices- (~voices_@84.238.197.28) (Remote host closed the connection)
[18:08:17] <geirha> not in ksh
[18:08:33] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[18:08:59] <geirha> k# f() { typeset var=foo; }; f; typeset -p var
[18:09:00] <shbot> geirha: var=foo
[18:10:27] <geirha> but if you use the function keyword, it will be
[18:10:37] <geirha> k# function f { typeset var=foo; }; f; typeset -p var
[18:10:38] <shbot> geirha: no output
[18:12:45] *** Quits: son0p (~ff@181.136.122.143) (Remote host closed the connection)
[18:13:02] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 240 seconds)
[18:13:33] *** Joins: xx (~xx@user/xx)
[18:13:44] <phogg> at least for my version of GNU rm -I the prompting is a bit different, too. It just asks about the number of arguments and doesn't prompt for each file. For that you need -i
[18:13:51] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 265 seconds)
[18:14:12] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Read error: Connection reset by peer)
[18:14:13] <phogg> to be perfectly accurate you would also need to inspect the arguments to make sure that nothing also says -f
[18:16:52] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[18:18:14] *** Joins: ferdna (~ferdna@user/ferdna)
[18:20:19] <seninha> I added the -f functionality, but I do not need the prompt messages to be the same: https://0x0.st/-7Hl.sh
[18:25:08] *** Joins: voices- (~voices_@84.238.197.28)
[18:25:59] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[18:28:36] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[18:29:09] *** Joins: totenkoph (~scythe@user/totenkoph)
[18:29:59] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 256 seconds)
[18:30:40] *** Joins: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970)
[18:31:07] *** Quits: han-solo (~han-solo@user/han-solo) (Ping timeout: 256 seconds)
[18:33:47] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[18:34:09] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[18:34:16] *** Quits: Laurenceb (~Laurenceb@68.207.208.46.dyn.plus.net) (Quit: Client closed)
[18:35:48] *** Quits: wald0 (~Elive_use@191.92.148.122) (Quit: I ♥ Elive Linux)
[18:36:46] *** Quits: razend (~razend@94.200.42.14) (Ping timeout: 256 seconds)
[18:39:47] <geirha> use an array to store multiple arguments, not a string
[18:40:20] <phogg> seems like he was going for POSIX compatibility, except the typeset
[18:41:11] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[18:41:17] *** sublim20 is now known as VIA
[18:41:33] *** Quits: VIA (~sublim20@user/sublim20) (Quit: Leaving)
[18:44:55] <superboot> Hi all. I'd like to extend the . command, but that doesn't work inside a function (because of local variables etc.) I thought of using an alias, but I can't see how to take any input (like a filename to source). Any ideas? Basicly I want to have . filename  act like  importsArray[filename]; . filename
[18:45:13] <superboot> s/]/]=1/g
[18:46:55] *** Quits: bob_x2 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[18:47:11] *** Joins: saki- (~saki@gateway/tor-sasl/saki)
[18:48:57] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Ping timeout: 276 seconds)
[18:52:26] *** Joins: keypusher (keypusher@user/keypusher)
[18:54:18] *** Joins: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft)
[18:57:36] *** Joins: voices- (~voices_@84.238.197.28)
[18:58:01] *** Joins: bud (~bud@user/bud)
[19:00:46] *** Joins: bob_x2 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[19:01:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[19:01:31] *** Quits: abip20 (~abdullah@user/abip20) (Quit: Konversation terminated!)
[19:02:18] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 260 seconds)
[19:02:58] <seninha> phogg: No, POSIX compatibility is not needed in my case. I only need the .kshrc to run on ksh.
[19:03:29] <seninha> I'm gonna use arrays, although I'm not used to how arrays are done in ksh. Gonna read the man.
[19:03:34] *** Quits: MercilessDeth (~brad@136.49.59.177) (Quit: Konversation terminated!)
[19:06:29] *** Quits: bob_x2 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[19:06:50] *** Joins: bob_x2 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[19:10:11] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[19:11:26] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[19:12:06] <phogg> seninha: if you have used arrays in bash it should be quite familiar
[19:12:52] *** Joins: rustyshackleford (uid236774@helmsley.irccloud.com)
[19:15:53] <seninha> Ok, this is the latest version: https://0x0.st/-7Xb.sh
[19:15:55] <seninha> !check
[19:15:56] <checkbot> seninha: Line 14: opts is referenced but not assigned. See https://shellcheck.net/?id=cb9556
[19:15:57] *** Parts: GNUHacker (~foobar@fsf/member/GNUHacker) (q)
[19:17:22] *** Quits: chasmo77 (~chas77@71.63.241.168) (Quit: It's just that easy)
[19:20:04] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.3)
[19:21:50] *** Quits: sinaowolabi_ (~SinaOwola@169.159.109.201) (Ping timeout: 260 seconds)
[19:25:44] *** Joins: rgrinberg (~textual@201.192.183.53)
[19:26:47] *** Quits: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft) (Ping timeout: 264 seconds)
[19:27:00] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[19:28:43] *** Joins: Codaraxis_ (~Codaraxis@user/codaraxis)
[19:29:11] <earnestly> Why doesn't ksh have a form of local?
[19:29:38] <earnestly> Does ksh really need $? for return?
[19:30:01] *** Joins: Nact (~l@host-85-27-120-251.dynamic.voo.be)
[19:30:29] <larryv> it does, and no
[19:30:30] *** Joins: voices- (~voices_@84.238.197.28)
[19:30:59] *** Quits: Codaraxis (~Codaraxis@user/codaraxis) (Ping timeout: 264 seconds)
[19:32:07] <earnestly> It's interesting how the -d check in the for loop handles the more subtle case of subdirectories being removed that were provided as argument
[19:32:47] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[19:33:40] <phogg> seninha: want to see mine? https://termbin.com/0392i but of course it's not quite ksh compatible, nor as simple as a function (and I implemented more than just -I). Did not test, but it's probably fine.
[19:33:41] <checkbot> phogg: I think the problem is on line 69. This printf format string has no variables. Other arguments are ignored. See 7 issues on https://shellcheck.net/?id=cb10621
[19:33:47] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.1)
[19:34:04] <phogg> well I maybe could have used shellcheck more than not at all, too
[19:36:31] <earnestly> phogg: Just a note that - in function names won't work under posix sh
[19:36:33] <earnestly> Sadly
[19:36:36] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 268 seconds)
[19:36:36] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[19:36:50] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[19:36:55] <earnestly> I love the idea that calling rm is going to compile code, potentially as root
[19:37:13] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 268 seconds)
[19:37:38] <olspookishmagus> hello, is there a way to ONLY overwrite if the SOURCE file is of bigger filesize?
[19:38:05] <earnestly> source file?
[19:38:22] <phogg> earnestly: I know, and ksh doesn't like them either
[19:38:23] <earnestly> Is there a trick question in here
[19:38:45] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[19:39:06] <phogg> earnestly: this is going into my "what if you had bash, but nothing else?" source tree. I have a few of these. It's a fun exercise to see how far you can get.
[19:39:09] <earnestly> phogg: I'm annoyed by it from not only an aesthetic point, but it means posix sh cannot override commands like youtube-dl() { command ... )
[19:39:11] *** Joins: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft)
[19:39:25] <phogg> in this case I can't actually remove files, but if I have posix rm I can
[19:39:39] <olspookishmagus> mv -n source target will never overwrite
[19:39:40] <earnestly> (Can with additional aliases though)
[19:39:54] <olspookishmagus> if there is a way to overwrite if source is of bigger filesize
[19:40:02] <earnestly> olspookishmagus: Use an if statement
[19:40:18] <phogg> this version fixes those obvious shellcheck warnings https://termbin.com/uxse but leaves in some that complain about unicode in args (can't be helped, that's what GNU rm does)
[19:40:20] <olspookishmagus> earnestly: ok
[19:40:39] <olspookishmagus> why still use youtube-dl when you can youtube-dlp?
[19:40:56] *** Joins: mongy (~mongy@user/mongy)
[19:42:47] *** Quits: joo-_ (~joo-_@fsf/member/joo--) (Quit: leaving)
[19:43:05] *** Quits: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 256 seconds)
[19:43:13] *** Joins: joo-_ (~joo-_@80-62-117-50-mobile.dk.customer.tdc.net)
[19:43:13] *** Quits: joo-_ (~joo-_@80-62-117-50-mobile.dk.customer.tdc.net) (Changing host)
[19:43:13] *** Joins: joo-_ (~joo-_@fsf/member/joo--)
[19:43:44] <phogg> it all started one day when I found myself on Solaris and wanting grep -R, so I implemented a grep function which would respect -R even if R appeared in an opt string with other things.
[19:43:50] <phogg> It's amazing how valuable such quality-of-life niceties are
[19:44:07] <seninha> phogg: why do you need realpath? why not readlink -f?
[19:44:30] <phogg> seninha: it tries readlink first
[19:44:39] <phogg> although I forgot to say -f, so it's buggy. Surprising no one
[19:45:02] <seninha> oh, I see
[19:45:38] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[19:45:39] <phogg> just because I had it on hand I included a last-resort fallback if you have neither but you do have a cc
[19:45:40] <earnestly> phogg: -e
[19:45:48] <phogg> earnestly: fair point
[19:47:07] <seninha> Nice, my rm is working as expected!
[19:47:22] <seninha> I do not need to simulate every GNUism or GNU error message, just the -I option.
[19:47:27] <phogg> indeed
[19:48:15] <seninha> (another solution would be installing gnu coreutils on my bsd and alias rm="/path/to/gnu/coreutils/bin/rm")
[19:48:34] <seninha> (but that's not as fun as creating a ksh function)
[19:48:37] <phogg> the only thing you might be interested in from mine is extracting -I from the middle of an opt string.
[19:48:52] <phogg> seninha: even then ought to use a function
[19:48:54] *** Joins: voices- (~voices_@84.238.197.28)
[19:51:13] <seninha> My implementation handles the case of less than 4 arguments, and prompts for each one of them, like GNU's. It only prompts once when passing 4 or more args.
[19:51:38] <seninha> Which is what GNU rm does as far as I understand from the manpage I read online (I'm not on a GNU system now, could not check)
[19:51:57] <phogg> I'll be honest I have never used -I so I have no idea what it does
[19:52:38] <phogg> seninha: a quick test shows that GNI rm -I with < 4 args will silently remove them
[19:53:04] <seninha> hmm
[19:53:09] <seninha> So I misread it
[19:53:27] <phogg> you can consider your implementation an added feature, then
[19:53:54] *** Quits: voices- (~voices_@84.238.197.28) (Ping timeout: 265 seconds)
[19:53:59] <phogg> there's no reason why you need to slavishly replicate every nuance of the GNU version (that's my schtick)
[19:54:06] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Ping timeout: 260 seconds)
[19:54:25] <seninha> My original problem was to not recursively prompt to every file when rm'ing a directory.
[19:54:37] <seninha> But I also want to be prompted when removing a file or two.
[19:56:00] <olspookishmagus> phogg: I'd alias 'killall' if I were you ^^
[19:56:23] <phogg> olspookishmagus: to what? And why?
[19:56:36] <seninha> btw, I just checked. realpath(1) will be in the next OpenBSD release!
[19:56:46] <phogg> woo! progress is a wonderful thing
[19:57:18] <olspookishmagus> phogg: https://xorl.wordpress.com/2011/10/19/admin-mistakes-solaris-killall/
[19:57:20] <phogg> seninha: after that are there enough implementors to get it into the standards?
[19:57:22] <seninha> Or it's just GNU influence reaching every other system.
[19:58:11] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fabc-15.dhcp.inet.fi) (Ping timeout: 250 seconds)
[19:58:16] <phogg> olspookishmagus: oh, that. Not a problem for me, I had it fixed by putting a better killall in PATH
[19:58:39] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[19:59:55] <seninha> phogg: It's being considered for next POSIX: https://www.austingroupbugs.net/view.php?id=1457
[20:00:33] <phogg> a bug report being filed isn't quite the same thing as being considered
[20:01:41] <seninha> Yeah, you're right.
[20:02:29] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Ping timeout: 268 seconds)
[20:02:54] <seninha> But I hope the holy committee will consider it.
[20:04:01] <larryv> a bug report with zero activity in the 8 months since it was opened is not particularly encouraging, but who knows
[20:04:55] <phogg> it's also asking for readlink where I think realpath has a better chance
[20:05:40] *** Quits: paruh (~paruh@92.60.39.18) (Quit: paruh)
[20:06:07] <seninha> phogg: Not all systems have realpath, compared to readlink. OpenBSD had readlink since version 2.1, and realpath is still a thing to next release.
[20:07:46] <seninha> I think POSIX 202x (if it will be a thing) will standardize common solutions rather than propose new or rare ones
[20:08:28] <seninha> I don't know, I'm only pondering.
[20:10:42] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[20:12:14] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[20:13:31] *** Joins: annomy (~annomy@103.38.199.110)
[20:16:42] *** Joins: pycurious (~Adium@user/pycurious)
[20:16:49] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[20:22:01] *** Joins: voices- (~voices_@84.238.197.28)
[20:24:26] *** Quits: spiri__ (~LuksNuke@gateway/tor-sasl/luksnuke) (Remote host closed the connection)
[20:24:44] <queue-> ok i feel like im doing something really dome here, what am i missing: alias uploadfile='curl --upload-file /home/quick/Pictures/"$1" https://transfer.sh/"$1"'
[20:25:15] <queue-> curl: (6) Could not resolve host: ss.png
[20:25:23] <queue-> really dumb*
[20:26:18] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[20:26:21] *** Quits: noarb (~noarb@user/noarb) (Ping timeout: 250 seconds)
[20:26:30] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[20:27:47] <phogg> queue-: use a function instead of an alias
[20:27:59] <larryv> aliases don't take arguments, for one thing
[20:28:42] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[20:29:47] <phogg> queue-: like this: uploadfile () { curl --upload-file /home/quick/Pictures/"$1" https://transfer.sh/"$1"; }
[20:30:07] <queue-> got it, ty i was just looking up bash functions :D
[20:30:09] *** Quits: relipse (sid16131@tinside.irccloud.com) (Remote host closed the connection)
[20:30:09] *** Quits: shush (sid21719@tinside.irccloud.com) (Remote host closed the connection)
[20:30:09] *** Quits: nem (sid113421@user/nem) (Remote host closed the connection)
[20:30:10] *** Quits: nescafe1001 (sid211018@tinside.irccloud.com) (Remote host closed the connection)
[20:30:10] *** Quits: Razva (sid17541@user/razva) (Remote host closed the connection)
[20:30:10] *** Quits: gajus (sid202456@tinside.irccloud.com) (Remote host closed the connection)
[20:30:10] *** Quits: lilalinux (sid512618@tinside.irccloud.com) (Remote host closed the connection)
[20:30:10] *** Quits: chromis (sid150893@tinside.irccloud.com) (Remote host closed the connection)
[20:30:10] *** Quits: sa (sid1055@tinside.irccloud.com) (Remote host closed the connection)
[20:30:10] *** Quits: hubvu (sid495858@user/hubvu) (Remote host closed the connection)
[20:30:10] *** Quits: holbrode (sid339826@tinside.irccloud.com) (Remote host closed the connection)
[20:30:10] *** Quits: nThCodeBender (sid516755@tinside.irccloud.com) (Remote host closed the connection)
[20:30:29] *** Quits: voices- (~voices_@84.238.197.28) (Remote host closed the connection)
[20:30:42] <queue-> works perfect phogg, thanks bro
[20:30:52] <phogg> queue-: before you were calling it like 'uploadfile ss.png' and it was creating a command line that looks like "curl --upload-file /home/quick/Pictures/ https://transfer.sh/ ss.png"
[20:31:04] <phogg> and curl tried to treat the last arg as a domain
[20:31:49] <queue-> yea i knew it was treating ss.png as the domain i just didnt know how to use string concatenation in an alias
[20:32:07] <phogg> tl;dr you can't
[20:32:10] <queue-> but to your instruction, i guess you cant
[20:32:11] <queue-> yea
[20:32:13] <queue-> lol
[20:32:58] *** Joins: totenkoph (~scythe@user/totenkoph)
[20:33:15] *** Joins: sublim20 (~sublim20@user/sublim20)
[20:35:31] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[20:37:24] *** Quits: itok_ (sid418430@ilkley.irccloud.com) (Remote host closed the connection)
[20:37:25] *** Quits: davef (sid287421@user/davef) (Remote host closed the connection)
[20:37:25] *** Quits: ullbeking (sid5364@user/ullbeking) (Remote host closed the connection)
[20:37:25] *** Quits: wangledorf (sid505185@ilkley.irccloud.com) (Remote host closed the connection)
[20:41:51] *** Quits: kenyon (sid496813@uxbridge.irccloud.com) (Remote host closed the connection)
[20:41:51] *** Quits: Exterminador (sid116151@user/pegasus) (Remote host closed the connection)
[20:41:51] *** Quits: dunc (sid16@uxbridge.irccloud.com) (Remote host closed the connection)
[20:41:51] *** Quits: Hamled (sid129388@uxbridge.irccloud.com) (Remote host closed the connection)
[20:41:51] *** Quits: eruditass (uid248673@uxbridge.irccloud.com) (Remote host closed the connection)
[20:41:51] *** Quits: terabit (sid146285@uxbridge.irccloud.com) (Remote host closed the connection)
[20:42:04] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[20:43:11] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 268 seconds)
[20:43:24] *** Lord_of_Life_ is now known as Lord_of_Life
[20:43:59] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[20:44:33] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[20:44:40] *** Quits: pycurious (~Adium@user/pycurious) (Quit: Leaving.)
[20:44:54] *** Joins: voices- (~voices_@84.238.197.28)
[20:45:18] *** Quits: rgrinberg (~textual@201.192.183.53) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:45:51] *** Joins: killown (~killown@user/killown)
[20:45:59] *** Quits: timj (~timj@user/timj) (Quit: Leaving.)
[20:46:48] *** Joins: rgrinberg (~textual@201.192.183.53)
[20:48:23] *** Quits: odc (sid197788@helmsley.irccloud.com) (Ping timeout: 246 seconds)
[20:48:23] *** Quits: jsatk (sid304796@helmsley.irccloud.com) (Ping timeout: 246 seconds)
[20:48:23] *** Quits: liam_ (sid7517@helmsley.irccloud.com) (Ping timeout: 246 seconds)
[20:48:23] *** Quits: d1rewolf (sid312924@helmsley.irccloud.com) (Ping timeout: 246 seconds)
[20:48:26] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[20:48:42] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[20:48:42] *** Quits: termos (sid18647@helmsley.irccloud.com) (Ping timeout: 260 seconds)
[20:48:44] *** Quits: kill (~killown@user/killown) (Ping timeout: 268 seconds)
[20:48:49] *** Quits: rustyshackleford (uid236774@helmsley.irccloud.com) (Ping timeout: 256 seconds)
[20:48:49] *** Quits: edlou (uid413273@helmsley.irccloud.com) (Ping timeout: 256 seconds)
[20:49:26] *** Quits: BlueShark (sid10311@user/blueshark) (Ping timeout: 246 seconds)
[20:49:26] *** Quits: Darkfoe (sid402081@helmsley.irccloud.com) (Ping timeout: 246 seconds)
[20:49:58] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[20:50:32] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[20:51:53] *** Quits: rubin55 (sid175221@hampstead.irccloud.com) (Ping timeout: 246 seconds)
[20:51:58] *** Quits: jakesyl_ (sid56879@hampstead.irccloud.com) (Ping timeout: 260 seconds)
[20:52:34] *** Quits: ljharb (sid43720@user/ljharb) (Ping timeout: 250 seconds)
[20:53:00] *** Quits: mnabid (uid448607@user/mnabid) (Ping timeout: 250 seconds)
[20:53:04] *** Quits: Manouchehri (sid384576@hampstead.irccloud.com) (Ping timeout: 260 seconds)
[20:53:32] *** Quits: pwillard (sid136981@hampstead.irccloud.com) (Ping timeout: 260 seconds)
[20:54:17] *** Quits: hwrd (sid64402@lymington.irccloud.com) (Ping timeout: 268 seconds)
[20:54:20] *** Quits: Pent (sid313808@lymington.irccloud.com) (Ping timeout: 246 seconds)
[20:54:48] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: see you tomorrow)
[20:56:13] *** Joins: nyex (~Thunderbi@177.84.107.30)
[20:57:27] *** Quits: annomy (~annomy@103.38.199.110) (Quit: WeeChat 3.3)
[20:58:32] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 246 seconds)
[20:58:47] *** Joins: han-solo (~hanish@user/han-solo)
[20:59:47] *** Quits: YHVH (~yhvh@2601:982:8300:8090:40e5:4fc7:87a5:29c7) (Ping timeout: 264 seconds)
[21:05:00] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[21:08:28] *** Joins: mihaiadrian (~Thunderbi@82.76.223.244)
[21:09:13] *** Quits: nyex (~Thunderbi@177.84.107.30) (Quit: nyex)
[21:11:21] *** Joins: YHVH (~yhvh@c-98-235-30-231.hsd1.pa.comcast.net)
[21:11:49] *** Quits: voices- (~voices_@84.238.197.28) (Remote host closed the connection)
[21:11:54] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[21:12:31] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[21:21:30] *** Joins: Soni (~quassel@autistic.space)
[21:22:24] *** Quits: rgrinberg (~textual@201.192.183.53) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:23:17] <Soni> how do you do things in interactive shells, e.g. to get the HISTFILE setup for the session so as to not conflict with other sessions etc?
[21:28:08] <lopid> !history
[21:28:09] <greybot> http://mywiki.wooledge.org/BashFAQ/088 -- How can I avoid losing any history lines?
[21:29:26] *** Joins: ChmEarl (~chmearl@user/chmearl)
[21:30:42] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.3)
[21:31:18] *** Quits: TMan459 (~TMan459@068-187-099-141.res.spectrum.com) (Quit: ZNC 1.8.2 - https://znc.in)
[21:31:31] *** Joins: Laurenceb (~Laurenceb@68.207.208.46.dyn.plus.net)
[21:33:31] *** Joins: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net)
[21:33:32] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[21:34:05] *** Joins: voices- (~voices_@84.238.197.28)
[21:34:14] <Soni> lopid: not that
[21:35:53] *** Joins: pycurious (~Adium@user/pycurious)
[21:36:06] *** Joins: noarb (~noarb@user/noarb)
[21:36:32] <geirha> history is only written to "$HISTFILE" when bash exits
[21:36:54] <lopid> or…
[21:38:17] <Soni> yes but how do you keep separate bash sessions separate?
[21:38:40] <geirha> assign empty string to HISTFILE
[21:38:47] <geirha> that way it won't store history to a file
[21:38:50] <Soni> basically how do you make it so when you start up bash, it asks you "session name" and then it uses that session name to select the appropriate HISTFILE?
[21:39:02] <Soni> but not for curl | bash
[21:40:33] <geirha> you seriously want an interactive prompt whenever you start bash interactively?
[21:40:49] <geirha> read -rp 'session: ' session && HISTFILE=~/.bash_history.$session
[21:40:55] *** Joins: TMan459 (~TMan459@068-187-099-141.res.spectrum.com)
[21:41:08] <Soni> yes >.> with an env var to override it because reasons
[21:41:39] <larryv> lol the requirements keep on coming
[21:41:51] <geirha> curl | bash  would run a non-interactive bash, so not sure what relevence that has
[21:42:11] <Soni> having a way to make desktop shortcuts for various sessions is handy
[21:43:09] <Soni> anyway just, how do you detect if bash is interactive so you can do the whole thing?
[21:44:36] <geirha> just put  [[ $- = *i* ]] || return 0   at the start of .bashrc, and it will bail out if it's being sourced by non-interactive bash
[21:52:00] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[21:53:09] *** Joins: rgrinberg (~textual@201.192.183.53)
[21:56:32] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[21:56:59] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[21:57:20] *** Quits: han-solo (~hanish@user/han-solo) (Quit: leaving)
[21:57:59] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[22:00:30] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 260 seconds)
[22:01:30] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[22:01:59] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[22:02:34] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[22:05:26] *** Joins: MercilessDeth (~brad@136.49.59.177)
[22:06:50] *** Parts: Aryan (Aryan@user/aryan) ()
[22:10:30] *** Joins: omegatron (~some@p5484903d.dip0.t-ipconnect.de)
[22:10:59] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 250 seconds)
[22:11:13] *** Quits: rgrinberg (~textual@201.192.183.53) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:11:51] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:a41f:3a8:4e54:50cd)
[22:11:52] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:a41f:3a8:4e54:50cd) (Changing host)
[22:11:52] *** Joins: skapata (~Skapata@user/skapata)
[22:12:12] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[22:12:30] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[22:13:10] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 260 seconds)
[22:13:59] *** Joins: rgrinberg (~textual@201.192.183.53)
[22:14:18] *** Quits: pycurious (~Adium@user/pycurious) (Quit: Leaving.)
[22:14:18] *** Joins: ullbeking (sid5364@user/ullbeking)
[22:14:36] *** Joins: pycurious (~Adium@user/pycurious)
[22:14:44] <Soni> so uh if * is a glob how do you use * in a regex in [[?
[22:14:44] *** Joins: y04nn (~y04nn@92.223.89.196)
[22:15:00] *** Lord_of_Life_ is now known as Lord_of_Life
[22:17:06] <phy1729> [[ is special and doesn't have normal rules (like how (( is special and * is just multiplication)
[22:18:55] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 256 seconds)
[22:19:24] *** Quits: ullbeking (sid5364@user/ullbeking) (Ping timeout: 260 seconds)
[22:20:04] *** Joins: dunc (sid16@id-16.uxbridge.irccloud.com)
[22:20:54] <Soliton> if you want regex then you use =~, obviously it's not a glob then.
[22:21:25] *** Joins: Exterminador (sid116151@user/pegasus)
[22:21:50] *** Joins: Hamled (sid129388@id-129388.uxbridge.irccloud.com)
[22:23:59] *** Joins: ullbeking_ (sid5364@id-5364.ilkley.irccloud.com)
[22:24:56] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[22:25:01] *** Joins: kenyon (sid496813@id-496813.uxbridge.irccloud.com)
[22:26:33] *** Joins: terabit (sid146285@id-146285.uxbridge.irccloud.com)
[22:27:10] *** Joins: davef (sid287421@user/davef)
[22:27:19] *** Joins: termos (sid18647@id-18647.helmsley.irccloud.com)
[22:27:19] *** Joins: eruditass (uid248673@id-248673.uxbridge.irccloud.com)
[22:27:50] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[22:28:30] *** Joins: odc (sid197788@id-197788.helmsley.irccloud.com)
[22:28:31] *** Joins: itok_ (sid418430@id-418430.ilkley.irccloud.com)
[22:29:16] *** Joins: wangledorf (sid505185@id-505185.ilkley.irccloud.com)
[22:30:42] *** Joins: jsatk (sid304796@id-304796.helmsley.irccloud.com)
[22:33:44] *** Joins: BlueShark (sid10311@user/blueshark)
[22:33:47] *** Joins: liam_ (sid7517@id-7517.helmsley.irccloud.com)
[22:33:57] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[22:34:52] *** Joins: jakesyl_ (sid56879@id-56879.hampstead.irccloud.com)
[22:35:32] *** Joins: pwillard (sid136981@id-136981.hampstead.irccloud.com)
[22:35:39] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[22:35:43] *** Joins: ljharb (sid43720@user/ljharb)
[22:35:55] *** Joins: hwrd (sid64402@id-64402.lymington.irccloud.com)
[22:36:23] *** Joins: sa (sid1055@id-1055.tinside.irccloud.com)
[22:36:31] *** Joins: rubin55 (sid175221@id-175221.hampstead.irccloud.com)
[22:37:00] *** Joins: shush (sid21719@id-21719.tinside.irccloud.com)
[22:37:02] *** Joins: d1rewolf (sid312924@id-312924.helmsley.irccloud.com)
[22:38:12] *** Joins: nem (sid113421@user/nem)
[22:38:18] *** Joins: Darkfoe (sid402081@id-402081.helmsley.irccloud.com)
[22:38:29] <Soni> how do you make ^Cing the read not kill the whole bashrc?
[22:38:36] *** Quits: jab416171 (~jab416171@c-174-52-57-117.hsd1.ut.comcast.net) (Ping timeout: 244 seconds)
[22:38:42] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[22:38:49] *** Joins: chromis (sid150893@id-150893.tinside.irccloud.com)
[22:39:00] *** Joins: Manouchehri (sid384576@id-384576.hampstead.irccloud.com)
[22:39:30] *** Joins: gajus (sid202456@id-202456.tinside.irccloud.com)
[22:39:36] *** Joins: nescafe1001 (sid211018@id-211018.tinside.irccloud.com)
[22:40:28] <llua> maybe what you are doing isn't a good idea?
[22:40:30] *** Joins: holbrode (sid339826@id-339826.tinside.irccloud.com)
[22:41:22] *** Joins: lilalinux (sid512618@id-512618.tinside.irccloud.com)
[22:41:41] *** Joins: Razva (sid17541@user/razva)
[22:41:45] *** Joins: relipse (sid16131@id-16131.tinside.irccloud.com)
[22:42:35] *** Quits: rgrinberg (~textual@201.192.183.53) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:43:49] *** Joins: Pent (sid313808@id-313808.lymington.irccloud.com)
[22:45:20] *** Joins: hubvu (sid495858@user/hubvu)
[22:45:45] *** Joins: mnabid (uid448607@user/mnabid)
[22:45:57] *** Joins: kyle_ (~kyle@ool-457887fa.dyn.optonline.net)
[22:46:08] *** Joins: nThCodeBender (sid516755@id-516755.tinside.irccloud.com)
[22:46:19] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[22:46:21] *** Quits: HelloShitty (~psysc0rpi@bl20-171-222.dsl.telepac.pt) (Ping timeout: 245 seconds)
[22:47:18] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[22:49:04] *** Joins: nattiestnate (~nate@2001:448a:20a0:4134:25e:715f:d637:5263)
[22:49:16] *** Joins: damxsa (~damx@2001:16a2:ccb7:600:d7e:3b00:4a2c:ff3c)
[22:52:05] *** Joins: njitramii (~njitramii@144-027-180-159.dynamic.caiway.nl)
[22:54:48] *** Joins: HelloShitty (~psysc0rpi@bl20-171-222.dsl.telepac.pt)
[22:56:19] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[22:56:59] *** Joins: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[22:57:29] *** Quits: davef (sid287421@user/davef) ()
[22:57:52] *** Joins: davef (sid287421@user/davef)
[22:59:22] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 260 seconds)
[23:00:32] *** Quits: damxsa (~damx@2001:16a2:ccb7:600:d7e:3b00:4a2c:ff3c) (Ping timeout: 240 seconds)
[23:01:14] *** Joins: jetchisel (jetchisel@user/jetchisel)
[23:02:25] *** Joins: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net)
[23:04:49] *** Joins: drd (~drd@93-42-69-115.ip85.fastwebnet.it)
[23:05:42] *** Quits: shailangsa (~shailangs@host86-185-98-19.range86-185.btcentralplus.com) (Remote host closed the connection)
[23:05:57] *** Quits: causa-sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 256 seconds)
[23:06:15] *** Quits: drd (~drd@93-42-69-115.ip85.fastwebnet.it) (Read error: Connection reset by peer)
[23:07:01] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[23:07:59] *** Joins: tobybl (~tobybl@213.31.134.235)
[23:09:29] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[23:17:14] *** Quits: furrymcgee (~devuan@cgn-213-196-211-151.nc.de) (Quit: leaving)
[23:18:43] *** Quits: Inline (~Inline@2a02:908:1252:7a80:ff0f:1149:92da:8af0) (Quit: Leaving)
[23:19:26] *** Joins: john1_ (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[23:20:07] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Ping timeout: 256 seconds)
[23:21:18] *** Quits: noarb (~noarb@user/noarb) (Ping timeout: 260 seconds)
[23:22:49] *** Joins: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[23:25:35] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[23:26:54] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 260 seconds)
[23:26:56] *** Quits: tobybl (~tobybl@213.31.134.235) (Remote host closed the connection)
[23:30:21] *** Quits: killown (~killown@user/killown) (Quit: Leaving)
[23:31:35] *** Quits: redgloboli_ (~redglobol@user/redgloboli) (Quit: ...enter the matrix...)
[23:31:50] *** Joins: redgloboli (~redglobol@user/redgloboli)
[23:35:24] *** Quits: Laurenceb (~Laurenceb@68.207.208.46.dyn.plus.net) (Ping timeout: 256 seconds)
[23:35:24] *** Joins: Inline (~Inline@2a02:908:1252:7a80:c1d7:63de:66b3:4892)
[23:36:16] *** Joins: arinov (~arinov@213.194.126.155)
[23:41:03] <Soni> llua: not having session management isn't a good idea
[23:44:03] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[23:45:43] *** Joins: totenkoph (~scythe@user/totenkoph)
[23:47:00] <tangy> blame Unix?
[23:47:42] *** Joins: gabriele (~gabriele@user/gabriele)
[23:52:37] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[23:53:52] *** Joins: ferdna (~ferdna@user/ferdna)
[23:57:54] *** Joins: kill (~killown@user/killown)
[23:58:04] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Read error: Connection reset by peer)
