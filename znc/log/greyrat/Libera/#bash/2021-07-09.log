[00:00:02] <jmcantrell> i thought you might want to see the context. here's the line: i3lock $i3lock_options {XSS_SLEEP_LOCK_FD}<&-
[00:00:11] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[00:00:18] <greycat> it closes the file descriptor whose number is in the variable XSS_SLEEP_LOCK_FD
[00:00:19] <wwalker> is there a way to make cd Not echo the directory it found in $CDPATH? I want it to SILENTLY chdir.
[00:00:34] <geirha> so that i3lock doesn't inherit that fd
[00:00:59] <iam8up> i have to convert an output that's covered in decimal points but i'm struggling with one stupid one that needs to stick around, can anyone give me any suggestions on how to do this better and retain that decimal for the time value? https://pastebin.com/Vzw5z1aX
[00:00:59] <pasteban> Paste is available without ads on https://pastebin.com/raw/Vzw5z1aX
[00:01:24] <geirha> cd() { builtin cd "$@" >/dev/null ; }
[00:01:45] <jmcantrell> what's the syntax with the curlies without a $? why would it matter whether i3lock inherits that fd?
[00:01:59] <greycat> it's a special thing for redirections only
[00:02:33] <dfdx> geirha: ahh, of course, /etc/bashrc
[00:02:42] <dfdx> er, /etc/bash/bashrc
[00:02:45] <geirha> iam8up: easier to do with awk than sed
[00:03:26] <geirha> awk -F= -v OFS=: '{gsub(/\./, "", $1); print}'
[00:03:44] <geirha> # awk -F= -v OFS=: '{gsub(/\./, "", $1); print}' <<< total.recursion.time.avg=0.081638
[00:03:46] <shbot> geirha: totalrecursiontimeavg:0.081638
[00:05:15] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[00:06:49] <iam8up> geirha, so that's saying before the = sign it deletes all .?  that's way above my skills at this point
[00:07:17] *** Quits: makara2 (~sol@196.61.111.63) (Quit: WeeChat 2.8)
[00:08:10] <greycat> I can understand it once he wrote it, but I couldn't have written it.
[00:08:26] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 255 seconds)
[00:08:32] *** Joins: jmcantre1 (~weechat@user/jmcantrell)
[00:08:34] <greycat> the transformation being performed here is ... interesting, and possibly an X-Y
[00:08:36] <iam8up> well good for you that's better than me (not that the bar is that high here :)
[00:08:49] <geirha> -F= tells it that fields are split by =. so $1 is then everything before the =. gsub(/\./, "", $1)  is s/\.//g  on just the first field
[00:08:51] <iam8up> but damn that's perfect thank you so much!
[00:09:00] <geirha> # sed -e :a -e 's/^\([^=]*\)\.\([^=]*=\)/\1\2/; ta' -e s/=/:/ <<< total.recursion.time.avg=0.081638
[00:09:02] <shbot> geirha: totalrecursiontimeavg:0.081638
[00:09:08] <geirha> a sed version for comparison
[00:09:13] <dfdx> sigh... I wish rlwrap handled spaces in its tab completion. I really am asking for too much.
[00:09:16] <iam8up> oh my god XD
[00:10:34] <geirha> ta means "goto :a if the last substitution matched"
[00:11:11] <geirha> removing one . at a time, looping until there are no . before = left
[00:11:35] *** Quits: __jmcantrell__ (~weechat@user/jmcantrell) (Ping timeout: 255 seconds)
[00:11:45] *** Joins: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1)
[00:12:07] <greycat> # sed -e 's/\.\([^0-9]\)/\1/g' -e s/=/:/ <<< total.recursion.time.avg=0.081638
[00:12:09] <shbot> greycat: totalrecursiontimeavg:0.081638
[00:12:27] <greycat> but I don't know whether that's safe because I don't know the full input specification
[00:12:29] <iam8up> oh i see the ta in sed not awk, still trying to break awk down
[00:12:48] <iam8up> on my pastebin it's got the output before sed
[00:13:08] <iam8up> i can't have dots in the variable name before =
[00:13:37] <greycat> can there ever be a digit (0 to 9) after a . in the "variable name" part?
[00:13:47] *** Joins: almarwaz1 (~almarwazi@49.36.191.60)
[00:14:07] <iam8up> yes
[00:14:19] <greycat> OK, then ignore my sed command.  It's not safe.
[00:14:21] <geirha> and since this is #bash:  while IFS='=' read -r key value; do printf '%s:%s\n' "${key//./}" "$value"; done
[00:14:26] <iam8up> not in my particular example, but unbound stats does use thread2.num.queries_ip_ratelimited 
[00:14:36] <greycat> that's a digit BEFORE .
[00:14:59] <phy1729> # sed -e :a -e 's/^\([^=]*\)\./\1/; ta' -e s/=/:/ <<< total.recursion.time.avg=0.081638
[00:15:01] <shbot> phy1729: totalrecursiontimeavg:0.081638
[00:15:01] <greycat> my regex looks for . followed by a non-digit to determine that it should remove this dot
[00:15:34] <geirha> ah yes, second part of the regex was pointless
[00:15:38] <phy1729> Unless there are lines without =
[00:15:47] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[00:15:48] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[00:15:56] <phy1729> (But I'd be inclined to /=/!n)
[00:15:56] <iam8up> here's a scary one:  histogram.000000.000000.to.000000.000001=1
[00:16:07] <greycat> well then.
[00:16:14] *** Joins: zro (~zro@user/zro)
[00:16:15] <greycat> my trick won't work.
[00:16:40] <iam8up> awk seems plenty right to me :)
[00:16:57] <greycat> but since this is bash, we can...  while IFS== read -r var value; do printf '%s:%s\n' "${var//./}" "$value"; done
[00:17:26] <iam8up> how would you pipe the output to that?
[00:17:37] <greycat> while ... done < inputfile > outputfile
[00:17:40] <geirha> grep ... | while ...
[00:17:50] <greycat> oh, there's a *grep* stage?!  jesus.
[00:18:22] <greycat> that shifts the balance back toward awk, since you can merge the grep into an awk /../ filter
[00:18:27] <iam8up> yes that cuts off the 95% of junk i don't want to use
[00:18:34] *** Quits: jmcantre1 (~weechat@user/jmcantrell) (Ping timeout: 240 seconds)
[00:19:46] <geirha> awk '$1 ~ /^(total\.num\.queries|total\.num\.queries_ip_ratelimited)$/ { gsub(...
[00:20:14] <iam8up> can i just keep it with egrep?
[00:20:22] <greycat> you *can*
[00:20:22] <iam8up> it's working perfectly for me
[00:20:34] <twkm> it hurts to learn another tool!
[00:20:36] <geirha> at least change it to grep -E though. egrep is deprecated
[00:21:06] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[00:21:17] <iam8up> geirha, i hadn't heard that thanks
[00:23:42] <geirha> https://pubs.opengroup.org/onlinepubs/9699919799/utilities/grep.html#tag_20_55_18
[00:24:23] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 252 seconds)
[00:25:14] <iam8up> huh interesting, hopefully that stays working for a while
[00:25:23] *** Quits: __jmcantrell__ (~weechat@user/jmcantrell) (Ping timeout: 252 seconds)
[00:25:32] <iam8up> "years to come" is already 4 years old
[00:25:50] <greycat> things change quite slowly
[00:25:55] <geirha> "years to come" is posix speak for "forever"
[00:26:03] <iam8up> good
[00:26:09] <twkm> multivendor standards aren't fast.
[00:27:01] <geirha> similar rational for echo. "don't use it, use printf instead, but we'll keep supporting it to allow existing scripts to still work"
[00:27:22] *** Quits: MenschZwoNull (~MenschZwo@p200300c8571440008a962f677ad3f14a.dip0.t-ipconnect.de) (Remote host closed the connection)
[00:27:33] <iam8up> dozens of centos boxes running software first released in the 90s work just fine....quickbooks on a windows server gives me problems monthly
[00:27:50] <iam8up> it's not as fancy or colorful but it works and lets me sleep
[00:28:19] <phogg> is there a way to get glob expansion against a list of strings I specify instead of files? I can of course roll it myself, but maybe there's an easier way.
[00:28:26] *** Quits: alex3 (~alex3@BSN-77-82-41.static.siol.net) (Ping timeout: 265 seconds)
[00:28:37] <phogg> I was thinking compgen -o something, but nothing looks likely
[00:28:42] <greycat> temp directory and touching all those strings as filenames
[00:29:01] <phogg> greycat: I had thought of that as a last resort
[00:29:23] *** Joins: alex3 (~alex3@BSN-77-82-41.static.siol.net)
[00:29:32] <llua> "how can i do filename generation without files"
[00:30:08] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[00:30:10] *** grettke is now known as grettke-away
[00:31:03] *** Joins: Guest99 (~Guest99@2601:203:c200:d6f0:b416:3104:ca76:6929)
[00:31:42] <geirha> by glob expansion, you mean pattern matching? or do you really want to match files?
[00:31:45] <phogg> I'm not generating file names, I'm generating non-file completions for use in an interactive prompt. In this case it's specifically git branch names.
[00:31:52] <phogg> geirha: pattern matching
[00:32:41] *** Quits: totenkoph (~scythe@gateway/tor-sasl/totenkoph) (Ping timeout: 244 seconds)
[00:33:19] *** Quits: Guest99 (~Guest99@2601:203:c200:d6f0:b416:3104:ca76:6929) (Client Quit)
[00:34:11] <phogg> sadly read -e is not as helpful here as I would ideally like, but for me it is sufficient to complete partial strings and globs when you hit enter. For partial strings compgen -W is most helpful, but not for globs
[00:34:18] <twkm> append a / for directories, then remove it as needed?
[00:34:20] <geirha> I use this for completing branches for git:  complete -o bashdefault -o default -W '$(git for-each-ref --format="%(refname:short)" 2>/dev/null | sed "/^origin\\//{ p; s///; }")' git
[00:34:35] *** Joins: akoana (~ah@user/akoana)
[00:35:02] <geirha> the two -o's make it fall back to standard (filename) completion if no branches match
[00:36:05] <phogg> I have something a bit like that for the easy case, but I want to support things like '*-test' to match a bunch of branches
[00:36:18] *** Quits: almarwazi (~almarwazi@49.36.191.60) (Quit: leaving)
[00:36:31] <phogg> so far files in an empty tmp dir seems like the least trouble
[00:37:46] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Read error: Connection reset by peer)
[00:38:56] <geirha> I'd do a while read loop over that git for-each-ref output and do a case or [[ to decide which ones goes into COMPREPLY
[00:41:14] *** Quits: thebombzen (~thebombze@71.73.92.220) (Quit: attack.c:4: main: Assertion `I_can_beat_that_monster' failed. Aborted (core dumped))
[00:41:58] <geirha> _git_complete() { local b; while read -r b; do [[ $b = $2 ]] && COMPREPLY+=( "$b") ; done < <(git for-each-ref --format="%(refname:short)" 2>/dev/null) ; }; complete -F _git_complete git
[00:42:19] *** Quits: testuser321 (~wandering@115.187.42.237) (Quit: Leaving)
[00:42:48] *** Quits: iam8up (~jluthman@bmu.imaginenetworksllc.com) (Quit: Leaving)
[00:43:05] <earnestly> completion tends to have a need to eek all possible performance out of the shell.  Spawning loads of subshells and pipes seems eeeh
[00:43:30] <greycat> completion seems eeeh
[00:44:40] <phogg> geirha: I am not too intimate with completion. Doesn't that only work if done from within a real completion attempt? Or rather: how do I get the completed value out of that?
[00:44:45] <geirha> default completion is good enough for most commands, but it's really useful to complete branches for git
[00:44:47] *** Parts: ash_worksi (~ash_m@user/ash-m/x-3292451) ()
[00:45:05] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[00:45:07] <phogg> yes, git branch completion is pretty essential. Saves on the RSI.
[00:45:10] *** Quits: grettke-away (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:45:29] <geirha> yes, I assumed you wanted it for tab completion
[00:45:40] <phogg> no, nothing like that
[00:46:00] <phogg> I just wanted to abuse compgen to let me access bash globbing behavior, if I could
[00:47:02] <geirha> # compgen -W 'foo bar baz' -X '!*a*'
[00:47:04] <phogg> what I'm doing is, from within a read -e prompt, allowing the user to type some strings, and then doing things when the user hits enter. Sometimes this is doing things with a set of git branches, sometimes it's matching a command prefix against a list of commands. I use compgen -W for the latter, which works quite well.
[00:47:05] <shbot> geirha: bar
[00:47:05] <shbot> geirha: baz
[00:47:40] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[00:47:46] <phogg> ah! -X is exactly what I was after!
[00:48:00] <phogg> geirha: thanks, I had read the description of "filterpat" without realizing what it implied
[00:48:42] <phogg> so glad that in this case there is something to save me from tedious string munging
[00:50:18] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[00:50:24] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[00:50:38] *** Quits: rememberYou (~someone@user/rememberyou) (Remote host closed the connection)
[00:52:54] *** Quits: almarwaz1 (~almarwazi@49.36.191.60) (Quit: leaving)
[00:53:26] *** Quits: zro (~zro@user/zro) (Ping timeout: 252 seconds)
[00:53:31] *** Quits: cronolio (~alex@user/cronolio) (Read error: Connection reset by peer)
[00:53:33] *** Quits: Asmodee[T] (~Asmodee@gateway/tor-sasl/asmodee) (Remote host closed the connection)
[00:55:36] *** Joins: zro (~zro@user/zro)
[00:55:56] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[01:01:38] *** Joins: curdlesnoot (~curdlesno@2a03:1b20:1:f410::a17d)
[01:03:29] *** Quits: N0ZYC (~N0ZYC@173-16-166-245.client.mchsi.com) (Quit: Leaving...)
[01:03:36] *** Joins: Raguile (~Raguile@user/raguile)
[01:04:08] *** Quits: magla (~gelignite@55d41815.access.ecotel.net) (Quit: Stay safe!)
[01:04:11] *** Joins: N0ZYC (~N0ZYC@173-16-166-245.client.mchsi.com)
[01:04:52] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[01:04:58] *** Quits: zro (~zro@user/zro) (Ping timeout: 240 seconds)
[01:05:05] *** Joins: cronolio (~alex@user/cronolio)
[01:05:49] *** Quits: N0ZYC (~N0ZYC@173-16-166-245.client.mchsi.com) (Client Quit)
[01:06:02] *** Joins: N0ZYC (~N0ZYC@173-16-166-245.client.mchsi.com)
[01:06:07] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[01:07:06] *** Joins: zro (~zro@user/zro)
[01:07:48] *** Joins: ormaaj2 (6174bb9b@user/ormaaj)
[01:10:07] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[01:11:40] *** Quits: absc (~absc@dynamic-adsl-94-34-217-240.clienti.tiscali.it) (Remote host closed the connection)
[01:14:13] *** Joins: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net)
[01:15:47] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Quit: Bye!)
[01:16:41] *** Parts: Soni (~quassel@autistic.space) (http://quassel-irc.org - Chat comfortably. Anywhere.)
[01:21:25] *** Joins: sublim20 (~sublim20@user/sublim20)
[01:21:44] *** hugoposca is now known as hposca
[01:22:55] *** Joins: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl)
[01:23:34] *** Quits: LuksNuke (~LuksNuke@94.242.245.63) (Quit: Leaving)
[01:24:41] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[01:26:12] *** Quits: kyr (~kyr@167.71.50.12) (Remote host closed the connection)
[01:27:13] *** Joins: kyr (~kyr@167.71.50.12)
[01:27:55] *** Quits: gpol (~gpol@135-23-207-205.cpe.pppoe.ca) (Ping timeout: 256 seconds)
[01:30:50] *** Quits: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Read error: Connection reset by peer)
[01:31:23] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[01:31:36] *** Joins: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[01:37:27] *** Quits: alzgh (~alzgh@216.155.158.214) (Quit: Client closed)
[01:39:47] *** Joins: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[01:40:14] *** Joins: alzgh (~alzgh@216.155.158.214)
[01:41:56] *** Quits: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Ping timeout: 252 seconds)
[01:43:09] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:47:14] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[01:47:25] *** Joins: user3456 (user3456@user/user3456)
[01:48:09] *** Quits: user3456 (user3456@user/user3456) (Remote host closed the connection)
[01:54:11] *** Quits: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Ping timeout: 255 seconds)
[01:54:24] *** Joins: son0p (~ff@181.136.122.143)
[01:55:18] *** Quits: twobitsprite (~twobitspr@107.13.51.62) (Ping timeout: 252 seconds)
[01:55:41] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[01:56:29] *** Joins: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[01:58:36] *** Joins: user3456 (user3456@user/user3456)
[01:59:05] *** Quits: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net) (Quit: uc50ic4more)
[01:59:55] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Read error: Connection reset by peer)
[02:01:24] *** Quits: sublim20 (~sublim20@user/sublim20) (Remote host closed the connection)
[02:01:30] *** Quits: sky- (~sky@user/sky-) (Quit: Leaving)
[02:01:34] *** Quits: Alex123 (~Adium@2603-8000-f640-d482-64e2-b956-0ec0-bac5.res6.spectrum.com) (Quit: Leaving.)
[02:03:47] *** Joins: sublim20 (~sublim20@user/sublim20)
[02:03:48] *** Joins: Kyv (~vo@user/vykyv)
[02:04:43] *** Joins: gpol (~gpol@135-23-207-205.cpe.pppoe.ca)
[02:04:54] *** Joins: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net)
[02:06:02] *** Quits: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Ping timeout: 252 seconds)
[02:06:11] *** Quits: sublim20 (~sublim20@user/sublim20) (Client Quit)
[02:06:35] *** Quits: Starmina (~Starmina@212.170.25.93.rev.sfr.net) (Ping timeout: 252 seconds)
[02:07:36] *** Quits: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net) (Remote host closed the connection)
[02:08:03] *** Joins: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[02:09:12] *** Joins: TriggerFinger (~TriggerFi@2601:203:c200:d6f0:b416:3104:ca76:6929)
[02:10:38] <kurahaupo> VSpike: Did you get an answer about your loop sometimes not stopping? (It's to do with the sending process getting killed by SIGPIPE, which is only the loop process for built-in commands)
[02:11:30] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[02:12:23] *** Joins: Alex123 (~Adium@2603-8000-f640-d482-81f3-3756-73d4-2abc.res6.spectrum.com)
[02:13:00] *** Joins: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[02:13:08] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:14:07] *** Joins: systemmessages (~systemmes@pa49-195-143-152.pa.nsw.optusnet.com.au)
[02:15:14] *** Joins: Starmina (~Starmina@194.110.113.90)
[02:16:34] *** Quits: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Ping timeout: 240 seconds)
[02:17:29] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.2)
[02:17:45] *** Joins: LanDi (~landi@187.19.139.206)
[02:19:41] *** grettke is now known as grettke-away
[02:19:41] *** Quits: grettke-away (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:20:27] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[02:23:21] *** Quits: TriggerFinger (~TriggerFi@2601:203:c200:d6f0:b416:3104:ca76:6929) (Quit: Client closed)
[02:23:33] *** Joins: TriggerFinger (~TriggerFi@2601:203:c200:d6f0:b416:3104:ca76:6929)
[02:23:54] *** Quits: LanDi (~landi@187.19.139.206) (Remote host closed the connection)
[02:25:00] *** Quits: TriggerFinger (~TriggerFi@2601:203:c200:d6f0:b416:3104:ca76:6929) (Write error: Broken pipe)
[02:26:34] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[02:26:55] <kurahaupo> twkm: I once worked for a small company doing embedded software, and the ceo/marketing guru insisted that we label the first version "2.2". Which within a week led to a customer complaint about how incompetent we were not to have fixed such obvious bugs after so many versions
[02:27:59] *** Quits: sn1tch3r (~sn1tch3r@201-27-147-42.dsl.telesp.net.br) (Quit: Leaving)
[02:29:06] <kurahaupo> twkm: I once worked for a small company doing embedded software, and the ceo/marketing guru insisted that we label the first version "2.2". Which within a week led to a customer complaint about how incompetent we were not to have fixed such obvious bugs after so many versions
[02:31:41] *** Quits: kj- (~kj@beta.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:33:38] *** Joins: LanDi (~landi@187.19.139.206)
[02:37:28] *** Quits: clawh_ (~clawh@185.244.214.60) (Ping timeout: 252 seconds)
[02:38:15] *** Quits: Alex123 (~Adium@2603-8000-f640-d482-81f3-3756-73d4-2abc.res6.spectrum.com) (Quit: Leaving.)
[02:41:21] *** Joins: Alex123 (~Adium@2603-8000-f640-d482-d835-0635-915e-f8a6.res6.spectrum.com)
[02:42:19] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[02:49:01] <akoana> kurahaupo: lol, finally a fooled guru...
[02:49:27] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[02:49:30] *** grettke is now known as grettke-away
[02:54:51] *** Joins: clawh (~clawh@185.244.214.60)
[02:56:50] *** Joins: twobitsprite (~twobitspr@107.13.51.62)
[02:56:58] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 240 seconds)
[02:59:52] *** Quits: Trieste (~T@user/pilgrim) (Ping timeout: 246 seconds)
[03:00:49] *** Joins: c705 (c705@alpine/contributor/c705)
[03:01:12] *** Quits: quesker (~idnet@mail.89vx.net) (Quit: ZNC 1.7.2 - https://znc.in)
[03:01:32] *** Joins: Trieste (T@user/pilgrim)
[03:01:38] *** Quits: smlavine (~smlavine@sourcehut/user/smlavine) (Quit: nyaa~)
[03:02:30] *** Joins: quesker (~idnet@mail.89vx.net)
[03:02:56] *** Quits: quesker (~idnet@mail.89vx.net) (Remote host closed the connection)
[03:03:44] *** Joins: quesker (idnet@2600:3c01::f03c:91ff:feac:4ce2)
[03:03:57] *** Quits: furrymcgee (~devuan@31.179.186.66) (Quit: leaving)
[03:04:23] *** Quits: grettke-away (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:05:05] *** Joins: twinsignal (~twinsigna@104.129.24.243)
[03:05:55] *** Quits: quesker (idnet@2600:3c01::f03c:91ff:feac:4ce2) (Client Quit)
[03:06:27] *** Joins: quesker (idnet@2600:3c01::f03c:91ff:feac:4ce2)
[03:08:17] *** Quits: twinsignal (~twinsigna@104.129.24.243) (Client Quit)
[03:18:34] *** Quits: Starmina (~Starmina@194.110.113.90) (Ping timeout: 240 seconds)
[03:21:06] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[03:25:38] *** Joins: kj (~kj@kj.aerisnetwork.net)
[03:27:16] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[03:27:21] *** grettke is now known as grettke-away
[03:28:53] *** Quits: kj (~kj@kj.aerisnetwork.net) (Client Quit)
[03:31:37] *** Quits: jsrnop (~mark@user/jsrnop) (Quit: The Lounge - https://thelounge.chat)
[03:31:59] *** Joins: jsrnop (~mark@user/jsrnop)
[03:35:08] *** Joins: Starmina (~Starmina@194.110.113.90)
[03:41:17] *** Quits: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1) (Ping timeout: 255 seconds)
[03:42:00] *** Quits: grettke-away (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:43:55] *** Quits: Alex123 (~Adium@2603-8000-f640-d482-d835-0635-915e-f8a6.res6.spectrum.com) (Quit: Leaving.)
[03:45:33] *** Joins: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[03:46:04] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[03:47:24] *** Joins: Hackerpcs (~user@user/hackerpcs)
[03:48:51] <kurahaupo> akoana: sorry I forgot the sarcasm quotes on "guru". 
[03:48:59] <akoana> heh
[03:50:12] *** Quits: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[03:51:11] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 252 seconds)
[03:51:36] <akoana> when a (version) name strikes back. A car company tried to introduce a new model name "nova" in South America, wasn't really a big success. "no va" means doesn't work, broken in spanish ...
[03:52:09] <akoana> named*
[03:52:31] *** Joins: howdoi (uid224@id-224.tooting.irccloud.com)
[03:54:20] *** Quits: systemmessages (~systemmes@pa49-195-143-152.pa.nsw.optusnet.com.au) (Ping timeout: 255 seconds)
[03:56:38] *** Joins: systemmessages (~systemmes@pa49-195-143-152.pa.nsw.optusnet.com.au)
[03:57:58] *** Quits: skered (~dereks@user/skered) (Quit: ircII EPIC5-2.1.5 -- Are we there yet?)
[04:00:21] *** Quits: cdown_ (~cdown@89.32.122.5) (Ping timeout: 256 seconds)
[04:01:17] <kurahaupo> akoana: What's the Spanish term that derives from the Latin novus/nova ? English has "novel" and "novelty"
[04:01:18] *** Joins: Alex123 (~Adium@cpe-76-91-121-195.socal.res.rr.com)
[04:01:44] <akoana> nuevo/nueva
[04:03:24] <akoana> o -> ue  mors(lat.) -> muerte(sp.), sors -> suerte and so on 
[04:03:25] <kurahaupo> We should have a fake Saxon version like "gnoven"
[04:03:51] <kurahaupo> that makes sense
[04:04:03] *** Joins: sinaowolabi (~SinaOwola@160.152.180.91)
[04:04:18] <akoana> a vowel shift...
[04:05:00] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.2)
[04:05:16] <kurahaupo> Italian has nuovo/nuova and French as had nouveau/nouvelle
[04:05:56] <kurahaupo> Funny how they all moved approximately in the direction of o→u
[04:07:11] <kurahaupo> English kept the "o" spelling but moved the pronunciation to /ɔ/
[04:07:42] *** Quits: Alex123 (~Adium@cpe-76-91-121-195.socal.res.rr.com) (Quit: Leaving.)
[04:07:44] <akoana> and they even mix it  mover(inf) "move", (tu) mueves
[04:07:49] <akoana> (spanish)
[04:08:21] <emanuele6> nuovo and nuova just mean "new" in italian
[04:08:41] * kurahaupo channels Obelix, taps head with "these Romans are crazy
[04:08:53] <akoana> lol
[04:09:24] <kurahaupo> emanuele6: As do the cognates in the other languages, including English
[04:09:53] <emanuele6> they don't mean novelty
[04:10:36] <kurahaupo> We seem to have meandered off topic
[04:10:53] <kurahaupo> Novelty means "a thing that's new"
[04:11:06] <emanuele6> "novità" in italian
[04:12:06] <kurahaupo> (unless you're in Sales, in which case it means "useless junk that we hope people will buy")
[04:13:49] <emanuele6> the point being that there is no u in the italian word for novelty
[04:14:18] *** Quits: _val_ (~valentin@82-169-14-137.biz.kpn.net) (Ping timeout: 240 seconds)
[04:14:18] *** Quits: Kyv (~vo@user/vykyv) (Quit: leaving)
[04:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:08] <kurahaupo> That's not surprising if they were separate adoptions from Latin at different times, with a vowel shift in between
[04:15:18] <akoana> perhaps because the o is short and à is stressed not o as in nuovo/a
[04:15:37] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:15:44] *** Quits: sdu (~doo@185.44.146.99) (Ping timeout: 252 seconds)
[04:16:26] <kurahaupo> I wasn't meant to imply that each language had only one cognate of novus/nova
[04:16:41] <akoana> if the (old latin) o is pronounced long it becomes ue, uo ...
[04:16:50] *** Quits: justache (~justache@user/justache) (Read error: Connection reset by peer)
[04:17:15] <kurahaupo> ok, thanks
[04:17:23] <Nintendo> While we're kinda on the topic, are the bash docs translated well?
[04:17:36] *** Joins: justache (~justache@user/justache)
[04:17:40] *** Joins: sdu (~doo@185.44.146.64)
[04:18:36] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[04:19:10] *** Joins: totenkoph (~scythe@gateway/tor-sasl/totenkoph)
[04:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:07] *** Joins: ferdna (~ferdna@user/ferdna)
[04:20:19] *** Quits: ionface (~ionface@user/ionface) (Quit: ionface)
[04:20:37] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:23:44] *** Parts: ash_worksi (~ash_m@user/ash-m/x-3292451) ()
[04:24:17] <Nintendo> I wonder about that sometimes, as I have encountered poor translations of software or machinery docs that make the product seem really low-quality, even though the opposite is true.
[04:25:22] <Nintendo> Then again, perhaps bash's man page plays it safe by not being translated into many languages ;)
[04:30:46] *** Quits: alzgh (~alzgh@216.155.158.214) (Ping timeout: 246 seconds)
[04:32:05] *** Quits: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Quit: WeeChat 3.0)
[04:32:13] <emanuele6> <akoana> perhaps because the o is short and à is stressed not o as in nuovo/a
[04:32:42] <Friithian> ok someone just post the IPA of these worsd
[04:32:59] <emanuele6> other words related to "new" also don't have the "u" in italian; e.g. "news" is "notizie" (or more commonly used singular "notizia")
[04:33:09] <emanuele6> "nuovo" is the exception, not the rule
[04:33:35] <akoana> but o it is stressed?
[04:33:52] <akoana> in nu-o-vo
[04:33:59] <akoana> ?
[04:34:00] <emanuele6> no
[04:34:03] <emanuele6> it's not stressed
[04:34:09] <akoana> what then?
[04:34:37] *** Joins: alzgh (~alzgh@216.155.158.214)
[04:36:13] <akoana> nuov[o] or n[u]ovo or nu[o]vo  - [] indicating the stressed vowel ?
[04:36:20] <emanuele6> "nuovo": /ˈnwɔ.vo/; "novità": /no.viˈta/
[04:36:27] *** Joins: _val_ (~valentin@82-169-14-137.biz.kpn.net)
[04:36:27] <Friithian> there's the IPA
[04:37:09] <akoana> so thats what I meant nuovo stressed on the first syllable, other words not 
[04:37:23] <emanuele6> nuo-vo
[04:37:27] <emanuele6> not nu-o-vo
[04:38:03] *** Joins: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[04:38:26] <akoana> yeah, it is not separated with an hiatus as in German i know, but the combined vowel is stressed
[04:42:32] <akoana> emanuele6: not'izie and novit'à - both are not stressed on the first syllable, therefore no "nuo" - thats what I meant
[04:43:08] *** Quits: chrish136 (~chrish@149.167.205.148) (Quit: WeeChat 3.0.1)
[04:45:01] *** Quits: alzgh (~alzgh@216.155.158.214) (Quit: Ping timeout (120 seconds))
[04:45:12] <akoana> bont'à versus b'uono is similar, there is a law... (going to stop that offtopic now)
[04:46:34] <kurahaupo> Interesting 3-way split of the latin V into the vowel U, the consonant V, and the semivowel W. (Or 4-way if you're French, with U vs OU vowels)
[04:46:46] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Read error: Connection reset by peer)
[04:47:42] <kurahaupo> English and the other Germanic languages being the ones that spell the semivowel "W"
[04:48:52] <akoana> kurahaupo: originally there was no U in Latin, they used V for both, easier to punch with a stylus...
[04:49:08] <kurahaupo> (of course, in classical Latin, the U/V semivowel pronunciation was already diverging, despite the single spelling)
[04:49:52] <kurahaupo> akoana: quite; U & V were merely homographs depending on whether you were writing with a quill or a chisel
[04:50:04] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[04:50:06] <akoana> and they had no G, only C  therefore CN as abbreviation for Gnaeus in inscriptions
[04:50:56] <litheum> wow i stay in here to watch grey-cat yell at people but i'm happy to stick around for random linguistics conversations!!
[04:51:05] <kurahaupo> Latin was ambivalent about voiced consonants generally; Regis → Regs → Recs → Rex
[04:52:14] *** Quits: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl) (Ping timeout: 252 seconds)
[04:52:25] <akoana> yeah,exactly, also they borrowed Kappa, Xi and  Gamma from the Greek, also I=J
[04:52:44] *** Joins: chrish136 (~chrish@149.167.205.148)
[04:53:20] <kurahaupo> All those "irregular" nouns I had to learn turn out to be quite regular if one takes pronunciation into account
[04:53:36] <kurahaupo> Grr, I wish I'd known that at school
[04:53:58] *** Quits: systemmessages (~systemmes@pa49-195-143-152.pa.nsw.optusnet.com.au) (Ping timeout: 246 seconds)
[04:54:06] <akoana> heh, yeah they don't tell you that, just to make things harder
[04:54:40] *** Joins: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl)
[04:55:42] <emanuele6> i think it has nothing to do with the stress of the vowels, i can't think of a single non-compound word related to "nuovo" (new) or "buono" (good) that use the "uo"; in the roman dialect, "bono" and "novo" are used instead of "nuovo", "buono"; I think that "[bn]uo" are just tuscanism that were introduced to the standard italian language
[04:55:50] *** Joins: acresearch (~acresearc@user/acresearch)
[04:56:14] <acresearch> people, if i have a string being piped and i want to slice off the first 2 charachters, how can i do that in bash?
[04:56:24] <akoana> kurahaupo: I had luck, our latin teacher told us a bit about ancient greek and etymology too, but then I didn't appreciate enough :(
[04:56:45] <emanuele6> finally a bash question!
[04:56:52] <emanuele6> acresearch: ${var#??}
[04:57:30] <emanuele6> # var='hello acresearch'; echo "${var#?}"; echo "${var#??}"
[04:57:31] <shbot> emanuele6: ello acresearch
[04:57:31] <shbot> emanuele6: llo acresearch
[04:58:00] <acresearch> what if the string is piped from grep?
[04:58:11] <kurahaupo> acresearch: You might want to read up a bit on what "pipe" means exactly. It's the thing that connects between two99,99 processes
[04:58:13] <emanuele6> piped?
[04:58:38] <acresearch> emanuele6:    grep ---> string | slice first 2 charachters
[04:58:50] <emanuele6> ah
[04:58:52] <kurahaupo> acresearch: tail -c+2
[04:58:53] <emanuele6> just use cut
[04:59:12] <emanuele6> | cut -c3-
[04:59:20] <acresearch> nice thanks this works very nicely   thanks :-)
[04:59:39] <kurahaupo> emanuele6: they only said the first 2 chars, not the first 2 of every line
[04:59:40] <emanuele6> i thought you meant variable since you said string
[04:59:47] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[05:00:15] <kurahaupo> acresearch: 2 chars per line or 2 chars in total?
[05:00:30] <emanuele6> kurahaupo: still, it should be -c+3
[05:00:59] <kurahaupo> # printf 'abcd\nwxyz\n' | cut -c3-
[05:01:00] <shbot> kurahaupo: cd
[05:01:00] <shbot> kurahaupo: 
[05:01:00] <shbot> kurahaupo: yz
[05:01:24] <kurahaupo> # printf 'abcd\nwxyz\n' | tail -c+3
[05:01:25] <shbot> kurahaupo: cd
[05:01:26] <shbot> kurahaupo: wxyz
[05:01:42] <kurahaupo> quite right. I'm too used to 0-based
[05:02:05] <kurahaupo> btw, where did that extra blank line come from?
[05:02:25] <kurahaupo> # printf 'abcd\nwxyz\n' | tail -c+3 | xxd 
[05:02:27] <shbot> kurahaupo: bash: xxd: command not found
[05:02:42] <emanuele6> # printf 'abcd\nwxyz\n' | cut -c3-
[05:02:44] <shbot> emanuele6: cd
[05:02:44] <shbot> emanuele6: 
[05:02:44] <shbot> emanuele6: yz
[05:03:09] <emanuele6> if i /msg shbot this doesn't happen
[05:03:11] <emanuele6> idk
[05:03:30] <kurahaupo> Yeah, not for you to answer, but why is there a blank line there?
[05:04:05] <emanuele6> if i run the same command in private chat with shbot, that blank line does not appear
[05:04:09] <emanuele6> i don't know why
[05:05:04] *** Quits: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Quit: WeeChat 3.0)
[05:05:49] <emanuele6> # printf 'abcd\nwxyz\n' | cut -c3-
[05:05:51] <shbot> emanuele6: cd
[05:05:51] <shbot> emanuele6: 
[05:05:51] <shbot> emanuele6: yz
[05:05:55] <emanuele6> i don't understand
[05:06:15] <emanuele6> i tried a dozen times in private chat and this never happened
[05:06:41] <larryv> # printf 'abcd\nwxyz\n' | cut -c3- | od -A n -t x1
[05:06:43] <shbot> larryv:  63 64 0a 0a 79 7a 0a 0a
[05:07:08] <emanuele6> # printf 'abcd\nwxyz\n' | cut -c3-
[05:07:09] <shbot> emanuele6: cd
[05:07:09] <shbot> emanuele6: 
[05:07:09] <shbot> emanuele6: yz
[05:07:19] <emanuele6> i typed it manually to be sure
[05:07:29] <phy1729> # printf 'abcd\nwxyz\n' | cut -c1- | od -A n -t x1
[05:07:31] <shbot> phy1729:  61 62 63 64 0a 0a 77 78 79 7a 0a 0a
[05:07:42] <phy1729> # printf 'abcd\nwxyz\n' | cut -c4- | od -A n -t x1
[05:07:44] <shbot> phy1729:  64 0a 0a 7a 0a 0a
[05:07:48] <phy1729> # printf 'abcd\nwxyz\n' | cut -c5- | od -A n -t x1
[05:07:50] <shbot> phy1729:  0a 0a 0a 0a
[05:07:54] <emanuele6> this does not happen in private chat, it's weird
[05:08:00] <phy1729> # printf 'abcd\nwxyz\n' | cut -c6- | od -A n -t x1
[05:08:02] <shbot> phy1729:  0a 0a
[05:08:31] *** Joins: steven_saus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[05:08:43] *** Quits: acresearch (~acresearc@user/acresearch) (Quit: WeeChat 2.8)
[05:08:53] <emanuele6> # printf 'abcd\nwxyz\n' | \c\u\t \-\c\3\-
[05:08:55] <shbot> emanuele6: cd
[05:08:55] <shbot> emanuele6: 
[05:08:55] <shbot> emanuele6: yz
[05:11:13] <emanuele6> d# printf 'abcd\nwxyz\n' | cut -c3-
[05:11:14] <shbot> emanuele6: cd
[05:11:14] <shbot> emanuele6: yz
[05:11:17] <emanuele6> # printf 'abcd\nwxyz\n' | \c\u\t \-\c\3\-
[05:11:18] <shbot> emanuele6: cd
[05:11:18] <shbot> emanuele6: 
[05:11:18] <shbot> emanuele6: yz
[05:11:52] <phy1729> 40# printf 'abcd\nwxyz\n' | cut -c3-
[05:11:57] <emanuele6> it's still weird that it doesn't happen on private chats though
[05:11:58] <phy1729> !triggers
[05:11:58] <greybot> /msg shbot # triggers
[05:12:01] <larryv> 5# printf 'abcd\nwxyz\n' | cut -c3- | od -A n -t x1
[05:12:02] <shbot> larryv:  63 64 0a 79 7a 0a
[05:12:08] <larryv> # type cut
[05:12:09] <shbot> larryv: cut is a shell builtin
[05:12:14] <larryv> 5# type cut
[05:12:14] <phy1729> # triggers
[05:12:16] <shbot> phy1729: Available triggers: +# bash-devel; 1# bash-1.14; 2# bash-2.05b; 32# bash-3.2; 3# bash-3.2; 42# bash-4.2; 43# bash-4.3; 44# bash-4.4; 4# bash-4.4; 50# bash-5.0; 51# bash-5.1; 5# bash-5.1; # bash-5.1; d# dash-0.5.9; sh# dash-0.5.9; k# 93u+ 2012-08-01; m# mksh R59 2021/01/24; b# bourne; j# bourne(w/job);
[05:12:16] <shbot> larryv: cut is /bin/cut
[05:12:16] <emanuele6> ah
[05:12:28] <phy1729> so the builtin has a bug?
[05:12:42] <emanuele6> but cut is a shell builtin in private chats too
[05:12:56] <phy1729> # echo $BASH_VERSION
[05:12:57] <shbot> phy1729: 5.1.8(1)-release
[05:13:45] <emanuele6> # printf 'abcd\nwxyz\n' | /bin/cut -c3-
[05:13:47] <shbot> emanuele6: cd
[05:13:47] <shbot> emanuele6: yz
[05:14:58] <emanuele6> ok, it probably is a bug in the builtin
[05:15:30] <emanuele6> but i'm a bit confused
[05:15:55] <emanuele6> because if i run `# printf 'abcd\nwxyz\n' | cut -c3-' in private chats i don't get the blank line
[05:16:23] <emanuele6> but if i run `# type cut; printf 'abcd\nwxyz\n' | cut -c3-', i do get the blank line http://ix.io/3slg
[05:19:05] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[05:20:06] *** grettke is now known as grettke-away
[05:20:06] *** Quits: grettke-away (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:20:07] <izabera> this is stupid
[05:24:47] *** Joins: systemmessages (~systemmes@pa49-195-143-152.pa.nsw.optusnet.com.au)
[05:26:21] *** Quits: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl) (Quit: Leaving)
[05:26:25] *** Quits: Raguile (~Raguile@user/raguile) (Ping timeout: 256 seconds)
[05:29:51] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Remote host closed the connection)
[05:30:21] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:31:41] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[05:34:11] *** Joins: vlm (~vlm@user/vlm)
[05:36:59] *** Joins: mcint_x (~mcint@supernova.ocf.berkeley.edu)
[05:41:29] <kurahaupo> who's minding shbot these days?
[05:42:54] <emanuele6> geirha i think
[05:43:36] <kurahaupo> izabera: haec romanes insanitis sunt?
[05:45:45] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 256 seconds)
[05:46:04] <kurahaupo> https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYskkULvEWJ-LlGmEllN5bC-Af4fsuC1ryKQ&usqp=CAU
[05:46:30] <kurahaupo> That extra newline is pretty crazy
[05:46:52] *** Quits: hegstal (~hegstal@2a02:c7f:7604:8a00:5056:66c0:d6e:186f) (Remote host closed the connection)
[05:50:37] *** grettke is now known as grettke-away
[05:50:37] *** Quits: grettke-away (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:52:36] <kurahaupo> geirha: *prod* shbot's "cut" built-in is buggy
[05:55:37] *** Joins: igemnace (~ian@user/igemnace)
[05:57:02] <scpxor> I think the cut is picking up the \n 2 times printf 'abcd\n\nwxyz\n' | cut -c3- gives same result in bash
[05:58:36] *** Joins: phillbush_ (~phillbush@user/phillbush)
[05:58:47] *** Quits: twobitsprite (~twobitspr@107.13.51.62) (Ping timeout: 252 seconds)
[06:00:47] *** Quits: hposca (~hposca@node-1w7jr9phoke2swvj0j3acea4z.ipv6.telus.net) (Ping timeout: 255 seconds)
[06:01:18] *** Quits: phillbush (~phillbush@user/phillbush) (Ping timeout: 272 seconds)
[06:01:32] <kurahaupo> printf 'abcd\nwxyz\n' | cut -c3- | tr \\n /
[06:01:41] <kurahaupo> # printf 'abcd\nwxyz\n' | cut -c3- | tr \\n / 
[06:01:43] <shbot> kurahaupo: cd//yz//
[06:01:59] <kurahaupo> # printf 'abcd\nwxyz\n' | tr \\n / 
[06:02:00] <shbot> kurahaupo: abcd/wxyz/
[06:02:10] <kurahaupo> # printf 'abcd\nwxyz\n' | cut -c3-4 | tr \\n / 
[06:02:12] <shbot> kurahaupo: cd/yz/
[06:02:53] <kurahaupo> Looks like there are some extra newlines but sometimes shbot hides them
[06:03:28] <kurahaupo> # printf 'abcd\nwxyz\n' | cut -c3-
[06:03:29] <shbot> kurahaupo: cd
[06:03:29] <shbot> kurahaupo: 
[06:03:29] <shbot> kurahaupo: yz
[06:10:33] <scpxor> # printf 'abcd\nwxyz\n' | sed -z 's/d\n/d/g'| cut -c3-
[06:10:35] <shbot> scpxor: cdwxyz
[06:11:03] <scpxor> # printf 'abcd\n\nwxyz\n' | sed -z 's/d\n/d/g'| cut -c3-
[06:11:05] <shbot> scpxor: cd
[06:11:05] <shbot> scpxor: 
[06:11:05] <shbot> scpxor: yz
[06:11:47] *** Joins: ominionx (~ominionx@38.135.235.14)
[06:13:59] <kurahaupo>  /msg shbot printf x\\n\\ny\\n\\n 
[06:14:04] <akoana> kurahaupo:  begging your pardon - hi romani insani sunt :)
[06:14:46] <akoana> (scnr)
[06:14:47] <kurahaupo> akoana: quite
[06:14:49] *** Joins: re101-bombay-13 (~re101-bom@2601:203:c200:d6f0:b416:3104:ca76:6929)
[06:14:56] <kurahaupo> # printf x\\n\\ny\\n\\n 
[06:14:58] <shbot> kurahaupo: x
[06:14:58] <shbot> kurahaupo: 
[06:14:58] <shbot> kurahaupo: y
[06:15:13] <kurahaupo> note lack of trailing blank line ^^^
[06:15:40] <akoana> hic shellbotus insanus est?
[06:16:07] <emanuele6> kurahaupo: that is just shbot trimming the output
[06:16:08] <kurahaupo> dementa est
[06:16:11] <emanuele6> # echo; echo; echo
[06:16:12] <shbot> emanuele6: no output
[06:16:30] <kurahaupo> emanuele6: try it in PM to shbot
[06:17:11] <kurahaupo> there's no middle blank line either
[06:17:31] <scpxor> python script?
[06:18:02] <larryv> what?
[06:18:19] *** Quits: re101-bombay-13 (~re101-bom@2601:203:c200:d6f0:b416:3104:ca76:6929) (Client Quit)
[06:18:22] *** Joins: re101-bombay-134 (~re101-bom@2601:203:c200:d6f0:b416:3104:ca76:6929)
[06:19:35] <kurahaupo> So there are two problems: (1) cut inserts blank lines; (2) sometimes shbot hides them
[06:19:54] *** Quits: re101-bombay-134 (~re101-bom@2601:203:c200:d6f0:b416:3104:ca76:6929) (Client Quit)
[06:20:03] *** Joins: re101-bombay-134 (~re101-bom@2601:203:c200:d6f0:b416:3104:ca76:6929)
[06:20:05] <kurahaupo> # cut -c2- <<<abcd | tr \\n /
[06:20:07] <shbot> kurahaupo: bcd//
[06:20:24] <kurahaupo> # cut -c0- <<<abcd | tr \\n /
[06:20:26] <shbot> kurahaupo: bash: cut: 0: invalid list value
[06:20:34] <kurahaupo> # cut -c-3 <<<abcd | tr \\n /
[06:20:35] <shbot> kurahaupo: abc/
[06:20:45] <kurahaupo> # cut -c-3,5- <<<abcd | tr \\n /
[06:20:46] <shbot> kurahaupo: abc//
[06:20:58] <scpxor> I think just 1 problem, the function that replies to channel and function that replies to pm are different
[06:21:25] <kurahaupo> no, with tr you see the same in PM
[06:21:33] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[06:21:36] *** grettke is now known as grettke-away
[06:24:46] <scpxor> #printf 'abcd\nwxyz\n' |  cut -c3-
[06:25:33] *** Joins: downunder (~downunder@110.151.19.142)
[06:25:34] <scpxor> you think maybe the whitespace between # and command is the issue?
[06:25:43] *** Quits: re101-bombay-134 (~re101-bom@2601:203:c200:d6f0:b416:3104:ca76:6929) (Quit: Client closed)
[06:26:39] <larryv> how would that be an issue
[06:27:52] *** Joins: easior (~easior@61.155.142.70)
[06:29:48] <scpxor> I'm not exactly sure, but I haven't seen a command before that has space between the trigger and command itself
[06:30:34] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 246 seconds)
[06:30:51] <larryv> the bot literally doesn't work without the space
[06:30:53] <larryv> #date
[06:31:06] <larryv> # date
[06:31:07] <shbot> larryv: Fri Jul  9 02:01:06 UTC 2021
[06:31:33] <scpxor> # whoami
[06:31:35] <shbot> scpxor: root
[06:31:43] <scpxor> that's not good
[06:31:53] <Church> Stupid question, does bash not allow more then 9 local variables for a function?
[06:32:03] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[06:32:17] *** Quits: easior (~easior@61.155.142.70) (Ping timeout: 255 seconds)
[06:32:20] <litheum> Church: are you confusing positional parameters with local variables?
[06:32:47] <Church> I mean I'm passing positional parameters to a function and assigning them to loca variables yes?
[06:33:01] <llua> yes
[06:33:32] <llua> # set -- {1..20}; printf %s "${15}"
[06:33:34] <shbot> llua: 15
[06:34:01] <Church> Ah braces are needed for over nine
[06:34:06] <Church> Did not know that, nifty
[06:34:12] <Church> Bit odd though, how come?
[06:35:07] *** Joins: Raguile (~Raguile@user/raguile)
[06:36:24] *** Quits: grettke-away (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:37:11] <mute> so it knows it's 15 and not 1 followed by a 5 i guess
[06:37:42] *** Joins: easior (~easior@61.155.142.70)
[06:38:16] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 246 seconds)
[06:38:42] <litheum> generally shell variables cannot start with a number, right? 
[06:38:46] <litheum> # 2foo=bar; declare 2foo=bar
[06:38:48] <shbot> litheum: bash: 2foo=bar: command not found
[06:38:48] <shbot> litheum: bash: declare: `2foo=bar': not a valid identifier
[06:38:55] <larryv> variables cannot begin with a number, no
[06:39:02] *** Quits: systemmessages (~systemmes@pa49-195-143-152.pa.nsw.optusnet.com.au) (Ping timeout: 255 seconds)
[06:39:24] <litheum> right, so the 1-9 positional parameters are extra special
[06:40:58] <larryv> b# set a b c d e f g h i j k l m n o p q r s t u v w x y z; echo "${10}"
[06:41:05] <shbot> larryv: bad substitution
[06:41:20] <larryv> ^ historical behavior, perhaps
[06:41:22] <litheum> b# set a b c d e f g h i j k l m n o p q r s t u v w x y z; echo "$10"
[06:41:23] <shbot> litheum: a0
[06:41:26] <litheum> love that, so nutty
[06:41:26] *** Joins: kj (~kj@kj.aerisnetwork.net)
[06:42:56] *** Joins: twobitsprite (~twobitspr@107.13.51.62)
[06:43:34] <larryv> scpxor: the bot is not persistent
[06:43:38] *** Joins: zeden (~zeden@user/zeden)
[06:50:49] <scpxor> # cut -c3- <<< $(printf 'abcd\nwxyz')
[06:50:51] <shbot> scpxor: cd
[06:50:51] <shbot> scpxor: 
[06:50:51] <shbot> scpxor: yz
[06:53:52] *** Quits: austin987 (~null@100.42.98.196) (Ping timeout: 272 seconds)
[06:59:17] *** Quits: easior (~easior@61.155.142.70) (Ping timeout: 255 seconds)
[06:59:43] *** Joins: jos2 (~jos3@dyndsl-091-096-034-011.ewe-ip-backbone.de)
[07:00:21] *** Quits: magicSchlingel (~RatChat@45-23-179-157.lightspeed.rcsntx.sbcglobal.net) (Quit: Life without danger is a waste of oxygen)
[07:01:53] *** Joins: easior (~easior@61.155.142.73)
[07:03:48] *** Quits: jos1 (~jos3@dyndsl-178-142-067-217.ewe-ip-backbone.de) (Ping timeout: 265 seconds)
[07:05:02] *** Quits: phillbush_ (~phillbush@user/phillbush) (Quit: Leaving)
[07:05:51] *** Joins: systemmessages (~systemmes@pa49-195-143-152.pa.nsw.optusnet.com.au)
[07:06:34] *** Quits: systemmessages (~systemmes@pa49-195-143-152.pa.nsw.optusnet.com.au) (Max SendQ exceeded)
[07:06:55] *** Joins: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com)
[07:07:05] *** Joins: systemmessages (~systemmes@pa49-195-143-152.pa.nsw.optusnet.com.au)
[07:14:30] *** Joins: gnoo (~gnoo@user/gnoo)
[07:15:19] <scpxor> # cut  -c3- <<< $(printf 'abcd\nwxyz')|od -An -tx1
[07:15:21] <shbot> scpxor:  63 64 0a 0a 79 7a 0a 0a
[07:16:14] *** Quits: easior (~easior@61.155.142.73) (Ping timeout: 252 seconds)
[07:16:41] *** Joins: easior (~easior@61.155.142.70)
[07:17:49] *** Quits: Sasazuka (~Sasazuka@user/sasazuka) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:20:54] *** Joins: calla (~calla@modemcable132.7-177-173.mc.videotron.ca)
[07:23:56] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 252 seconds)
[07:24:16] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[07:24:34] *** Quits: LanDi (~landi@187.19.139.206) (Remote host closed the connection)
[07:28:31] *** Joins: thebombzen (~thebombze@71.73.92.220)
[07:28:53] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 252 seconds)
[07:30:39] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:31:27] *** Quits: calla (~calla@modemcable132.7-177-173.mc.videotron.ca) (Remote host closed the connection)
[07:33:22] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 240 seconds)
[07:36:08] *** Quits: KindOne (kindone@user/kindone) (Ping timeout: 252 seconds)
[07:36:19] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[07:39:56] *** Joins: nbao (~nbao@2804:14c:5bb8:9720::1000)
[07:40:01] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.2)
[07:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:42:51] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[07:43:02] *** Quits: nbao (~nbao@2804:14c:5bb8:9720::1000) (Client Quit)
[07:43:42] *** Joins: nbao (~nbao@2804:14c:5bb8:9720::1000)
[07:44:41] *** Joins: KindOne (~KindOne@user/kindone)
[07:46:21] *** Joins: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[07:47:42] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 272 seconds)
[07:49:14] *** Quits: KindOne (~KindOne@user/kindone) (Ping timeout: 255 seconds)
[07:50:59] *** Quits: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[07:51:22] *** Quits: Administratorte (~sq@tempest.math.colostate.edu) (Quit: WeeChat 3.1)
[07:53:54] *** Joins: gry (~quassel@botters/gry)
[07:54:35] <gry> is there a command to listen for new appended lines in a file, and run a command (mycmd, for example) on each new line that just got added? i know there is  'tail -f' that shows things on screen, but i am interested in more programmable applications
[07:54:45] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[07:58:01] *** Joins: KindOne (kindone@user/kindone)
[07:58:59] <phy1729> could pipe tail -f to a while IFS read -r line; do ... loop
[08:00:05] <emanuele6> sounds xy
[08:00:14] <emanuele6> !xy
[08:00:14] <greybot> http://mywiki.wooledge.org/XyProblem -- "I want to do X, but I'm asking how to do Y..."
[08:00:41] <gry> i'm writing an irc bot via ii, if you find it xy, let me know how :) it listens for incoming msgs in a file
[08:01:09] *** Joins: imp (~imp@186.205.11.214)
[08:03:00] <Friithian> that's an interesting way to do an irc bot
[08:04:43] *** Quits: KindOne (kindone@user/kindone) (Ping timeout: 246 seconds)
[08:06:23] *** Quits: clawh (~clawh@185.244.214.60) (Ping timeout: 252 seconds)
[08:09:13] *** Joins: KindOne (kindone@user/kindone)
[08:11:12] *** Quits: ormaaj2 (6174bb9b@user/ormaaj) (Quit: https://mibbit.com Online IRC Client)
[08:11:23] *** Joins: almarwazi (~almarwazi@49.36.191.60)
[08:13:59] *** Quits: KindOne (kindone@user/kindone) (Ping timeout: 255 seconds)
[08:17:18] <akoana> gry: maybe the example at the end of ii's FAQ file is helpful, it even tail -f, similar to phy1729's suggestion...
[08:17:30] <akoana> it even uses*
[08:17:33] *** Joins: KindOne (kindone@user/kindone)
[08:18:55] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[08:18:59] *** grettke is now known as grettke-away
[08:19:37] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[08:21:17] *** Quits: nbao (~nbao@2804:14c:5bb8:9720::1000) (Quit: WeeChat 3.2)
[08:23:22] *** Quits: scpxor (~scpxor@gateway/tor-sasl/scpxor) (Ping timeout: 244 seconds)
[08:26:46] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 246 seconds)
[08:28:24] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[08:28:56] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Ping timeout: 252 seconds)
[08:30:30] *** Quits: easior (~easior@61.155.142.70) (Quit: Leaving)
[08:30:56] *** grettke-away is now known as grettke
[08:40:56] *** Quits: systemmessages (~systemmes@pa49-195-143-152.pa.nsw.optusnet.com.au) (Quit: Leaving)
[08:41:53] *** Quits: dibber (~dibber@c-73-14-187-235.hsd1.co.comcast.net) (Ping timeout: 255 seconds)
[08:42:29] *** Joins: akoana (~ah@user/akoana)
[08:43:07] *** Quits: karakedi (~eAC53C340@user/karakedi) (Remote host closed the connection)
[08:44:59] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[08:45:35] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[08:46:56] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[08:48:24] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:52:31] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[08:52:41] *** Quits: almarwazi (~almarwazi@49.36.191.60) (Quit: leaving)
[08:53:13] *** Joins: almarwazi (~almarwazi@49.36.191.60)
[08:59:21] *** Quits: chrish136 (~chrish@149.167.205.148) (Quit: WeeChat 3.0.1)
[09:07:10] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 268 seconds)
[09:12:31] *** Joins: deltab (~deltab@95.154.230.49)
[09:13:13] *** Joins: karakedi (~eAC53C340@user/karakedi)
[09:17:18] *** Joins: gline (~yashi@p508befdd.dip0.t-ipconnect.de)
[09:20:19] *** Quits: gline_ (~yashi@p508befd3.dip0.t-ipconnect.de) (Ping timeout: 246 seconds)
[09:20:52] *** Joins: hposca (~hposca@node-1w7jr9phoke2u2nhpnpnvkkwv.ipv6.telus.net)
[09:23:53] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[09:23:57] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[09:24:42] *** Joins: akoana (~ah@user/akoana)
[09:26:26] *** Quits: hposca (~hposca@node-1w7jr9phoke2u2nhpnpnvkkwv.ipv6.telus.net) (Ping timeout: 255 seconds)
[09:30:02] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:31:56] *** Quits: almarwazi (~almarwazi@49.36.191.60) (Quit: leaving)
[09:32:22] *** Joins: almarwazi (~almarwazi@49.36.191.60)
[09:40:35] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:44:57] *** Joins: VayuVata (~vayuvata@113.199.247.124)
[09:46:17] *** Quits: VayuVata (~vayuvata@113.199.247.124) (Client Quit)
[09:46:38] *** Joins: VayuVata (~vayuvata@113.199.247.124)
[09:48:41] *** Quits: VayuVata (~vayuvata@113.199.247.124) (Client Quit)
[09:48:41] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 252 seconds)
[09:48:58] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[09:49:05] *** Joins: VayuVata (~vayuvata@113.199.247.124)
[09:50:21] *** Quits: VayuVata (~vayuvata@113.199.247.124) (Client Quit)
[09:50:40] *** Joins: VayuVata (~vayuvata@113.199.247.124)
[09:51:36] *** Quits: VayuVata (~vayuvata@113.199.247.124) (Client Quit)
[09:54:12] *** Quits: totenkoph (~scythe@gateway/tor-sasl/totenkoph) (Quit: totenkoph)
[09:58:25] *** Joins: lonewulf1 (~lonewulf@user/lonewulf)
[09:58:37] *** Joins: totenkoph (~scythe@gateway/tor-sasl/totenkoph)
[10:00:23] *** Joins: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[10:01:19] *** Quits: eschwartz (~eschwartz@archlinux/bugwrangler/eschwartz) (Ping timeout: 256 seconds)
[10:01:44] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Ping timeout: 252 seconds)
[10:01:45] *** Joins: eschwartz (~eschwartz@archlinux/bugwrangler/eschwartz)
[10:04:00] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[10:04:25] *** Quits: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Ping timeout: 246 seconds)
[10:04:52] *** Joins: skered (~dereks@user/skered)
[10:05:25] *** Joins: ibx2496_ (~ibx2496@92.60.40.252)
[10:05:49] *** Joins: jdvr (~jdvr@user/jdvr)
[10:07:02] *** Quits: lonewulf1 (~lonewulf@user/lonewulf) (Ping timeout: 272 seconds)
[10:07:57] *** Joins: apos (~apos@gateway/tor-sasl/apos)
[10:18:10] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[10:29:03] *** Quits: karakedi (~eAC53C340@user/karakedi) (Read error: Connection reset by peer)
[10:33:34] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[10:34:45] *** Quits: debsan (~debsan@2800:810:471:2ee::1000) (Ping timeout: 256 seconds)
[10:37:03] *** Joins: hemebond (~james@240b:12:12e2:f00:5604:a6ff:fe2c:50df)
[10:37:05] *** Parts: hemebond (~james@240b:12:12e2:f00:5604:a6ff:fe2c:50df) ()
[10:37:21] *** Joins: chrish136 (~chrish@149.167.205.148)
[10:37:26] *** Joins: dre (~dre@2001:8003:c932:c301:d510:501c:e72:68e6)
[10:41:44] <dre> when writing completion functions
[10:42:06] <dre> is there a way I can "fail through" to previously defined functions?
[10:42:32] <dre> like I have py.test that I can auto-complete the params and the filenames 
[10:43:11] <dre> but I want to write a shell function that when at the end of a filename, I can tab-complete some definitions from within that file
[10:43:18] *** Quits: Betal (~Beta@user/betal) (Quit: WeeChat 3.2)
[10:43:36] <dre> for example I can `py.test -v somefile.py::ClassDefinition::otherdef 
[10:43:41] *** Quits: eschwartz (~eschwartz@archlinux/bugwrangler/eschwartz) (Ping timeout: 252 seconds)
[10:43:47] <dre> I want to tab-complete the :: part with the rest of it still working as normal 
[10:44:06] *** Joins: eschwartz (~eschwartz@archlinux/bugwrangler/eschwartz)
[10:45:26] <izabera> so what's not working?
[10:46:12] <dre> well it seems like when I write my basic function that just returns early, I lose tab-complete altogether. 
[10:47:21] <izabera> to do that, you'll want to check that the word you're on ends in ::, then you get the list of possible completions from wherever on your system and add them to COMPREPLY
[10:47:56] <dre> yep, but in my example I return early if it doesn't end in ::
[10:48:26] <dre> and that breaks, because I think i am overwritting the compl function? let me check I was working on this at 6am this morning... 
[10:49:21] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[10:49:57] <llua> go to bed
[10:54:20] *** Joins: rendar (~rendar@user/rendar)
[10:55:05] *** Quits: Nintendo (~weechat@user/great) (Quit: Game over.)
[10:57:37] *** Quits: curdlesnoot (~curdlesno@2a03:1b20:1:f410::a17d) (Quit: = "")
[10:58:11] <dre> yeah so when I load my completion funciton, I can no longer tab complete filenames
[10:59:24] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 244 seconds)
[10:59:46] *** Joins: rememberYou (~someone@user/rememberyou)
[11:00:09] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[11:01:58] <izabera> you want     complete -o bashdefault -F yourcompfunc py.test
[11:04:48] *** Joins: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[11:05:05] <dre> oh, wonderful, thanks
[11:05:13] <dre> that'll teach me for skim reading
[11:05:41] *** Quits: LiftLeft (~LiftLeft@154.21.114.118) (Ping timeout: 252 seconds)
[11:05:51] <izabera> and -o default too
[11:08:34] <dre> sorry to bug, is there a way to have the auto-completion not have a space afterwards? 
[11:08:44] <izabera> -o nospace
[11:08:48] *** Joins: makara (~sol@196.61.111.63)
[11:09:23] <dre> ... to be fair the manual is written for a different era 
[11:09:31] <izabera> you can enable these options from within the completion function, conditionally
[11:09:44] <makara> how can I redirect stdout to a file for everything that happens in a function?
[11:10:30] <izabera> as in      if foo; then compopt -o nospace; COMPREPLY=(Class Whatever); fi            and it will not append a space in that case, but it will in the default case
[11:11:22] <izabera> makara: f () { meow; moo; } > file
[11:12:19] <dre> izabera: oh right, so that the default compspec still produces a space (if need) but mine doesn't. 
[11:12:21] <dre> neat 
[11:13:06] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[11:16:54] *** Quits: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[11:17:01] *** Joins: lilali___ (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[11:17:51] *** Quits: infl00p (~infl00p@139.162.131.62) (Read error: Connection reset by peer)
[11:18:18] *** Joins: Alex123 (~Adium@2603-8000-f640-d482-6946-86e1-47ad-b958.res6.spectrum.com)
[11:18:18] *** Joins: infl00p (~infl00p@139.162.131.62)
[11:19:11] <makara> izabera: I tried `} 2>&1 > file` but there's still output coming through
[11:19:52] <izabera> >file 2>&1
[11:19:56] <izabera> order matters
[11:20:56] <izabera> !redirorder
[11:20:56] <greybot> https://wiki.bash-hackers.org/syntax/redirection?s[]=redirection or https://mywiki.wooledge.org/FileDescriptor or https://mywiki.wooledge.org/BashFAQ/055
[11:26:45] *** Joins: fourHZ (~fourHZ@80.146.191.217)
[11:27:40] <makara> what's the prefered way of setting a boolean flag, and ORing it?
[11:28:40] <makara> `FAIL=((FAIL | 0xFF))` ?
[11:29:21] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 252 seconds)
[11:31:05] <makara> i see i can do `((FAIL|=0xFF))`
[11:34:23] *** Joins: arinov (~arinov@213.194.126.155)
[11:35:34] <makara> `prepare_scripts 2>&1 | tee "$iteration/script_processing" || ((threadfail|=${PIPESTATUS[0]})) &`
[11:41:55] *** Joins: Asmodee[T] (~Asmodee@gateway/tor-sasl/asmodee)
[11:43:56] *** Quits: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net) (Ping timeout: 272 seconds)
[11:46:34] *** Quits: Starmina (~Starmina@194.110.113.90) (Ping timeout: 240 seconds)
[11:47:01] *** Joins: crawler (~crawler@user/crawler)
[11:51:20] *** Quits: lilali___ (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Remote host closed the connection)
[11:52:00] *** Joins: lilalinu_ (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[11:53:14] *** Joins: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net)
[11:55:56] <makara> im trying to manage the logs at the same time as catch the exit codes for 2 background processes
[11:56:17] *** Quits: lilalinu_ (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[11:56:23] <izabera> it's funny that each time you almost get to the right solution, but then you show the same lack of understanding that a markov chain would have
[11:56:25] *** Joins: lilalin__ (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[11:57:05] <makara> { upcontainer >"$iteration/container" 2>&1; ((threadfail|=${PIPESTATUS[0]})); } &
[11:57:14] <makara> { prepare_scripts 2>&1 | tee "$iteration/script_processing"; ((threadfail|=${PIPESTATUS[0]})); } &
[11:57:21] <makara> my sister says I think like a spider
[11:57:36] <makara> probably because years of doing my homework on the floor
[11:57:38] *** Joins: rhett (Username@174-126-122-77.cpe.sparklight.net)
[11:57:54] *** Quits: rhett (Username@174-126-122-77.cpe.sparklight.net) (Excess Flood)
[11:58:30] *** Joins: Starmina (~Starmina@194.110.113.25)
[11:58:52] *** Joins: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[11:59:47] *** Quits: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[11:59:53] *** Joins: lilalinu_ (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[12:00:31] *** Joins: furrymcgee (~devuan@31.179.186.66)
[12:00:32] *** Quits: lilalin__ (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[12:03:00] <zeraphel> makara: assigning a value in a subprocess doesn't expose it to the parent shell.  you can't `{ a=2; } &`
[12:03:25] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[12:03:28] *** Joins: fedenix_ (~fedenix@gateway/tor-sasl/fedenix)
[12:06:10] *** Quits: pyre (~pyre@crimeboss.nillas-power.com) (Ping timeout: 240 seconds)
[12:06:14] *** Quits: Asmodee[T] (~Asmodee@gateway/tor-sasl/asmodee) (Remote host closed the connection)
[12:06:38] *** Quits: Starmina (~Starmina@194.110.113.25) (Ping timeout: 255 seconds)
[12:06:41] *** Joins: Asmodee[T] (~Asmodee@gateway/tor-sasl/asmodee)
[12:11:04] *** Quits: howdoi (uid224@id-224.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[12:11:18] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[12:11:38] *** Joins: Starmina (~Starmina@212.170.25.93.rev.sfr.net)
[12:11:47] <makara> zeraphel: so the flag approach is out then?
[12:12:12] *** Joins: malina (~malina@user/malina)
[12:14:00] <makara> it seems to be working
[12:15:22] <makara> no, its not working
[12:16:25] *** Quits: malina (~malina@user/malina) (Client Quit)
[12:16:48] <zeraphel> makara: you can use coproc and wait to retrieve the return code,  i don't have my examples on this pc
[12:19:39] *** Joins: pyre (~pyre@crimeboss.nillas-power.com)
[12:20:26] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 258 seconds)
[12:28:35] <makara> zeraphel: i need global variables in the script to be available to the background procs. Will that be the case?
[12:29:06] *** Joins: sublim20 (~sublim20@user/sublim20)
[12:29:21] *** Quits: sublim20 (~sublim20@user/sublim20) (Remote host closed the connection)
[12:30:02] *** Quits: dre (~dre@2001:8003:c932:c301:d510:501c:e72:68e6) (Quit: WeeChat 2.8)
[12:31:22] *** Quits: twobitsprite (~twobitspr@107.13.51.62) (Ping timeout: 240 seconds)
[12:31:33] <zeraphel> makara: no. you will need to handle the return code in the main process.
[12:32:14] <zeraphel> makara: if you want to expose some variable to the coproccess you'll need to export it,  But any changes done to it will not affect said variable outside of the subprocess.
[12:36:53] *** Quits: sinaowolabi (~SinaOwola@160.152.180.91) (Ping timeout: 252 seconds)
[12:37:22] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Ping timeout: 240 seconds)
[12:37:23] <furrymcgee> handle return code or stdout of coproc:  source <(cat <&${COPROC[0]})
[12:38:46] *** Joins: sinaowolabi (~SinaOwola@160.152.155.49)
[12:42:12] *** Joins: lavaball (felix@31.204.155.215)
[12:43:41] <makara> ok, ill come back to the async stuff
[12:45:47] <furrymcgee> wait
[12:46:49] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[12:46:54] <makara> its a nice to have
[12:48:33] *** Quits: joo (~joo@jodb.mikjaer.com) (Quit: leaving)
[12:51:23] <makara> ive got this other problem. I populate a db array in a function, and when it returns I see its populated
[12:51:50] <makara> but when I add the "pipe to tee" and then print, its empty `prepare_scripts | tee "$iteration/script_processing" 2>&1`
[12:52:04] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[12:52:38] <makara> why should that have anything to do with it?
[12:52:58] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 240 seconds)
[12:53:17] *** Lord_of_Life_ is now known as Lord_of_Life
[12:53:43] <makara> how do i use shbot again?
[12:53:53] <izabera> # echo like this
[12:53:55] <shbot> izabera: like this
[12:54:42] <makara> thanks. that should really be in the README, and in the topic for #shbot
[12:54:47] <makara> # var=(0); does () { var=(1); }; does; echo $var
[12:54:49] <shbot> makara: 1
[12:54:57] <makara> # var=(0); does () { var=(1); }; does | tee out; echo $var
[12:54:58] <shbot> makara: 0
[12:55:32] <makara> so im not going mad
[12:56:05] <izabera> !faq disappear
[12:56:05] <greybot> https://mywiki.wooledge.org/BashFAQ/024 -- I set variables in a loop that's in a pipeline. Why do they disappear after the loop terminates? Or, why can't I pipe data to read?
[13:03:03] *** Joins: simbioz_ (~simbioz@user/simbioz)
[13:04:33] *** Joins: earnestly (~earnest@user/earnestly)
[13:05:08] *** Quits: sinaowolabi (~SinaOwola@160.152.155.49) (Ping timeout: 255 seconds)
[13:06:58] *** Quits: simbioz (~simbioz@user/simbioz) (Ping timeout: 272 seconds)
[13:09:21] *** Quits: furrymcgee (~devuan@31.179.186.66) (Quit: leaving)
[13:09:22] *** Quits: lilalinu_ (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Remote host closed the connection)
[13:09:28] *** Joins: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[13:10:00] <makara> so many options
[13:10:07] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Ping timeout: 244 seconds)
[13:10:10] <makara> they all to do with loops
[13:10:14] <makara> what do you recommend?
[13:10:40] <izabera> the point is not the loop
[13:10:57] <izabera> the point is that each side of the pipeline is its own separate subshell
[13:11:32] <izabera> any variables you assign in it are lost when the subshell exits, i.e. when the pipeline terminates
[13:11:33] <makara> i have a function and I want to see the output and save it without interering with the function's ability to alter global variables
[13:12:16] <makara> # var=(0); does () { var=(1); }; does >| tee out; echo $var
[13:12:17] <shbot> makara: 1
[13:12:41] <makara> # var=(0); does () { var=(1); }; does >| tee out; echo $var; cat out
[13:12:43] <shbot> makara: 1
[13:12:43] <shbot> makara: cat: cannot open out: No such file or directory
[13:12:45] *** Quits: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Remote host closed the connection)
[13:12:45] *** Joins: karakedi (~eAC53C340@user/karakedi)
[13:13:00] *** Joins: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[13:13:27] <izabera> you want    does > >(tee out)
[13:14:28] <makara> # var=(0); does () { var=(1); }; does > >(tee out); echo $var; cat out
[13:14:29] <shbot> makara: 1
[13:15:21] <pj> also you're actually creating var as an array, but later accessing it like a regular variable.
[13:15:33] <izabera> yeah the markov chain thing
[13:15:51] <makara> pj: sure
[13:15:56] <pj> I must have missed a chunk of conversation, then
[13:16:11] *** Joins: pgp (~pgp@a213-22-204-147.cpe.netcabo.pt)
[13:16:14] *** Joins: riddle (riddle@user/riddle)
[13:16:28] <makara> pj: my problem is out is empty
[13:16:28] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[13:16:32] <makara> # var=(0); does () { var=(1); }; does > >(tee out); cat out
[13:16:33] <shbot> makara: cat: cannot open out: No such file or directory
[13:16:42] <izabera> did you try to print something to it
[13:16:45] <pj> makara: you're not generating any output from your function
[13:16:56] <pj> so what exactly would expect to be there?
[13:17:09] <makara> oh
[13:17:36] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[13:20:45] <makara> is there a better way to do this:
[13:20:50] <makara> # dbs=(a b c d e); printf '%s' "DB list: "; printf '%s,' "${dbs[@]}"; printf '\n'
[13:20:52] <shbot> makara: DB list: a,b,c,d,e,
[13:23:05] *** Quits: Alex123 (~Adium@2603-8000-f640-d482-6946-86e1-47ad-b958.res6.spectrum.com) (Read error: Connection reset by peer)
[13:23:22] *** Joins: Alex123 (~Adium@2603-8000-f640-d482-6946-86e1-47ad-b958.res6.spectrum.com)
[13:23:27] <izabera> # dbs=({a..e}); IFS=,; echo "DB list: ${dbs[*]}"
[13:23:28] <shbot> izabera: DB list: a,b,c,d,e
[13:27:32] <makara> why do I need to quote "IFS"
[13:27:34] <makara> # IFS=,; echo "$IFS"
[13:27:35] <shbot> makara: ,
[13:27:41] <makara> # IFS=,; echo $IFS
[13:27:42] <shbot> makara: no output
[13:31:39] <pj> makara: because of this...
[13:32:18] <pj> # IFS=, test="foo,bar"; echo "$test"; echo $test
[13:32:20] <shbot> pj: foo,bar
[13:32:20] <shbot> pj: foo bar
[13:32:46] <pj> IFS becomes the separator and when a variable is unquoted that separator is used for word-splitting
[13:33:16] <pj> so if you try to echo $IFS, then no matter what is inside it becomes fodder for word-splitting, so it's only actually output if it's quoted.
[13:33:24] <izabera> someone should put like a guide or something in the topic so it's easily accessible
[13:33:34] <pj> hahaha
[13:34:15] <pj> I'm not aware if there is a FAQ that answers that specific question, although there are certainly bits that say what IFS does and what word-splitting is.
[13:34:54] *** Joins: varaindemian (~varaindem@86.124.78.162)
[13:35:42] <makara> i see you didn't appreciate my suggestion for shbot
[13:36:02] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 268 seconds)
[13:36:35] *** Quits: Raguile (~Raguile@user/raguile) (Ping timeout: 256 seconds)
[13:37:56] <izabera> what suggestion
[13:38:00] <pj> # set -x; IFS=,; echo $IFS
[13:38:02] <shbot> pj: + IFS=,
[13:38:02] <shbot> pj: + echo ''
[13:38:49] <makara> the readme should say how to use it
[13:38:55] <makara> so should the channel topic
[13:39:21] <pj> there's a limited amount of space in the /topic
[13:39:25] <pj> I can't speak for the README
[13:39:31] <izabera> the readme of what
[13:39:44] <izabera> of shbot?
[13:39:51] <izabera> of bash?
[13:39:58] <izabera> i don't understand
[13:40:01] <makara> https://gitlab.com/geirha/shbot/-/blob/master/README
[13:40:34] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 240 seconds)
[13:41:11] <izabera> it should be fairly obvious after hanging out in here for like 15 minutes
[13:41:44] <makara> oh ok
[13:41:58] <izabera> like it does one thing
[13:42:41] <selckin> poor geirha still isn't home
[13:44:43] *** Quits: fourHZ (~fourHZ@80.146.191.217) (Quit: Connection closed)
[13:44:54] *** Quits: acid (~acid@user/acid) (Ping timeout: 272 seconds)
[13:45:02] *** Joins: fourHZ (~fourHZ@80.146.191.217)
[13:45:33] <makara> if that one thing was like anything else, but it isn't
[13:45:35] *** Quits: almarwazi (~almarwazi@49.36.191.60) (Read error: Connection reset by peer)
[13:47:00] *** Joins: acid (~acid@user/acid)
[13:47:00] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[13:49:54] *** Quits: Alex123 (~Adium@2603-8000-f640-d482-6946-86e1-47ad-b958.res6.spectrum.com) (Quit: Leaving.)
[13:58:13] *** Joins: Alex123 (~Adium@2603-8000-f640-d482-958a-c9af-4962-a67e.res6.spectrum.com)
[13:58:23] *** Quits: mw_ (~mw@catv-188-142-181-228.catv.broadband.hu) (Ping timeout: 252 seconds)
[13:58:51] *** Joins: mw_ (~mw@catv-188-142-181-228.catv.broadband.hu)
[14:00:38] *** Quits: lilalinux (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Remote host closed the connection)
[14:01:18] *** Joins: lilalinu_ (~lilalinux@p549ee1f9.dip0.t-ipconnect.de)
[14:04:59] *** Quits: jdvr (~jdvr@user/jdvr) (Ping timeout: 252 seconds)
[14:05:32] *** Quits: lilalinu_ (~lilalinux@p549ee1f9.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[14:10:19] *** Joins: ormaaj2 (6174bb9b@user/ormaaj)
[14:16:03] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[14:16:14] *** Quits: Strom (strom@fedora/strom) ()
[14:17:46] *** Joins: Strom (strom@fedora/strom)
[14:17:46] *** Quits: rememberYou (~someone@user/rememberyou) (Remote host closed the connection)
[14:20:48] *** Quits: woohoiV5_ (~woohoiV5@46-117-154-242.bb.netvision.net.il) (Ping timeout: 258 seconds)
[14:21:51] *** Quits: supernovah (~supernova@mail.ijk.nz) (Remote host closed the connection)
[14:23:14] *** Joins: woohoiV5 (~woohoiV5@46-117-186-112.bb.netvision.net.il)
[14:26:53] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[14:28:05] *** Quits: AnisBarghouthi[m (~anis-barg@2001:470:69fc:105::6ebb) (Ping timeout: 252 seconds)
[14:28:23] *** Quits: b0b (~bob@user/b0b) (Quit: o/)
[14:28:43] *** Joins: xernaron_ (~xernaron@box.xernaron.ch)
[14:28:57] *** Joins: b0b (~bob@user/b0b)
[14:29:30] *** Quits: xernaron (~xernaron@box.xernaron.ch) (Ping timeout: 240 seconds)
[14:34:08] <makara> # echo $$; kill $$; echo $$
[14:34:09] <shbot> makara: 44
[14:34:09] <shbot> makara: 44
[14:35:49] <makara> # {echo $$} & kill $$; echo $$
[14:35:50] <shbot> makara: [1] 51
[14:35:50] <shbot> makara: 44
[14:35:50] <shbot> makara: bash: {echo: command not found
[14:36:28] <makara> # { echo $$; } & kill $$; echo $$
[14:36:29] <shbot> makara: [1] 51
[14:36:29] <shbot> makara: 44
[14:36:29] <shbot> makara: 44
[14:38:44] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 255 seconds)
[14:44:33] *** Joins: sublim20 (~sublim20@user/sublim20)
[14:45:38] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.2)
[14:46:43] *** Quits: crawler (~crawler@user/crawler) (Remote host closed the connection)
[14:48:24] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[14:50:33] *** Joins: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl)
[14:51:11] *** Quits: ibx2496_ (~ibx2496@92.60.40.252) (Ping timeout: 252 seconds)
[14:58:03] *** Joins: jdvr (~jdvr@user/jdvr)
[14:59:00] *** Joins: arinov (~arinov@95.12.112.154)
[15:05:28] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[15:08:04] *** Joins: crawler (~crawler@user/crawler)
[15:09:47] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Ping timeout: 252 seconds)
[15:20:52] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 252 seconds)
[15:22:07] *** Quits: Alex123 (~Adium@2603-8000-f640-d482-958a-c9af-4962-a67e.res6.spectrum.com) (Quit: Leaving.)
[15:27:03] *** Joins: Alex123 (~Adium@2603-8000-f640-d482-803e-40c5-8caf-3ade.res6.spectrum.com)
[15:30:37] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 246 seconds)
[15:31:03] *** Quits: downunder (~downunder@110.151.19.142) (Quit: WeeChat 3.2)
[15:31:33] *** Quits: fourHZ (~fourHZ@80.146.191.217) (Quit: Connection closed)
[15:35:04] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[15:39:56] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 255 seconds)
[15:40:13] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[15:45:19] <makara> how difficult/complex is it to get something like this in bash: https://user-images.githubusercontent.com/1826249/103917178-94ee4500-510d-11eb-9abb-f52dae58a544.gif
[15:45:22] *** Joins: malina (~malina@user/malina)
[15:45:40] <makara> non-rolling output iow
[15:47:24] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[15:47:42] <Patsie> it's not 'non-(sc)rolling', all lines are just printed on every update, including the top 2 lines
[15:47:58] <Patsie> so it seems that those top 2 lines don't scroll
[15:49:14] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 268 seconds)
[15:56:26] *** Quits: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Ping timeout: 265 seconds)
[15:58:22] *** Quits: jdvr (~jdvr@user/jdvr) (Read error: Connection reset by peer)
[15:59:54] <makara> Patsie: ok, so how do I do that?
[16:00:29] *** Quits: arinov (~arinov@95.12.112.154) (Ping timeout: 252 seconds)
[16:01:40] *** Joins: sinaowolabi (~SinaOwola@160.152.155.49)
[16:01:59] <Patsie> create a virtual framebuffer, store all your data in it and print it
[16:17:17] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[16:17:54] *** Joins: speckz (~speckz@2600:1700:ce0:bf00:bd34:5d6b:f76f:8f86)
[16:18:30] <makara> # sudo sh -c 'echo "hi there" > /dev/fb0'
[16:18:31] <shbot> makara: bash: sudo: command not found
[16:18:38] <makara> # sh -c 'echo "hi there" > /dev/fb0'
[16:18:39] <shbot> makara: no output
[16:24:20] *** Joins: scpxor (~scpxor@gateway/tor-sasl/scpxor)
[16:26:32] *** Quits: malina (~malina@user/malina) (Quit: malina)
[16:27:03] <geirha> kurahaupo: It's the examples/loadables/cut.c bundled with bash
[16:28:16] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[16:35:26] <useretail> is there a difference between: cmd < <(i) and cmd <<(i)
[16:35:41] <izabera> yes
[16:35:48] <izabera> one is valid syntax and the other is not
[16:35:57] <useretail> << is invalid
[16:36:05] <izabera> well spotted
[16:36:37] <useretail> is this valid: cmd << <(i)
[16:37:19] <earnestly> What does << gain you over < in this case?
[16:37:45] <useretail> no idea, trying to figure out what's the difference between << and <
[16:37:51] <izabera> !<
[16:37:51] <greybot> Redirections: http://mywiki.wooledge.org/Redirection
[16:37:53] <izabera> !<<
[16:37:53] <greybot> Here documents. cat <<EOF followed by several lines of text, followed by the literal string EOF on a new line, NOT indented. The portion between the EOFs is passed to the command as standard input. If 'EOF' is 'quoted', substitutions WON'T be done; otherwise they are. See <<- for the indented variety.
[16:38:11] <useretail> !<<
[16:38:11] <greybot> Here documents. cat <<EOF followed by several lines of text, followed by the literal string EOF on a new line, NOT indented. The portion between the EOFs is passed to the command as standard input. If 'EOF' is 'quoted', substitutions WON'T be done; otherwise they are. See <<- for the indented variety.
[16:38:23] *** Joins: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[16:40:51] <useretail> so cmd < file basically means cmd 0< file
[16:41:29] *** Joins: sinaowolabi_ (~SinaOwola@169.159.87.81)
[16:41:39] <earnestly> Yes, 0 is often left out of most redirections as it's redundant
[16:41:57] <earnestly> >&0 <&0 etc.
[16:42:05] <useretail> cool
[16:42:21] <earnestly> >&2 is the same as 0>&2
[16:42:41] <geirha> same as 1>&2 you mean
[16:43:01] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Ping timeout: 258 seconds)
[16:43:17] *** Quits: eschwartz (~eschwartz@archlinux/bugwrangler/eschwartz) (Ping timeout: 252 seconds)
[16:43:20] <earnestly> Yeah, sorry, not thinking
[16:44:11] *** Joins: zeden (~zeden@user/zeden)
[16:44:49] *** Quits: sinaowolabi (~SinaOwola@160.152.155.49) (Ping timeout: 246 seconds)
[16:45:14] <gnoo> does chpst inherit enviromental variables?
[16:46:39] *** Joins: arinov (~arinov@213.194.126.155)
[16:47:09] <earnestly> gnoo: Yeah
[16:47:12] <geirha> no idea what chpst, but processes generally inherit env vars unless the process forking and execing expclcitly pass a different env
[16:47:38] * geirha slaps keyboard
[16:48:15] <gnoo> earnestly geirha thanks! will test with this reboot
[16:48:23] *** Quits: gnoo (~gnoo@user/gnoo) (Quit: gnoo)
[16:48:54] *** Joins: eschwartz (~eschwartz@archlinux/bugwrangler/eschwartz)
[16:48:56] <earnestly> geirha: I don't get these questions because they can easily check this by doing `chpst env'
[16:51:59] *** Joins: graudre (~graudre@2607:fea8:560:7f20:c5b8:712b:3eee:154a)
[16:52:43] <geirha> there are two types of developers. Those that encounter a bug and tries to figure out what caused it in order to fix it, and those that encounter a bug and try random stuff until it works.
[16:53:38] *** Joins: phillbush (~phillbush@user/phillbush)
[16:54:45] <earnestly> I like to create small experiments, so something inbetween that heh
[16:54:58] <ormaaj2> bullshit. I do both.
[16:55:02] *** Joins: magicSchlingel (~RatChat@45-23-179-157.lightspeed.rcsntx.sbcglobal.net)
[16:55:09] <ormaaj2> :]
[16:55:13] <earnestly> !meow :3
[16:55:16] <earnestly> !meow
[16:55:20] <earnestly> Is gone
[16:55:34] <ormaaj2> !:3
[16:55:34] <greybot> # a=meow\ :3; set {a..c}\[ '_0]]]'; echo "${!*}";
[16:55:36] <shbot> greybot: meow :3
[16:55:48] <earnestly> "How to know what to know"
[16:56:02] <earnestly> I know many things without knowing how I do
[16:56:33] <geirha> the cut loadable bug is probably that zgetline includes the \n in the read buffer, but cutchars/cutbytes expect it to be stripped. https://gitlab.com/geirha/bash/-/blob/master/examples/loadables/cut.c#L417
[16:56:40] <ormaaj2> I think I knew $* did that on second thought... just weird it concatenates the string then dereferences.
[16:57:17] *** ormaaj2 is now known as jaamro
[16:57:41] <earnestly> jamora
[16:58:33] <earnestly> majora, hmm
[16:59:44] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[17:00:56] *** Joins: gnoo (~gnoo@user/gnoo)
[17:01:16] <gnoo> nope, it dosen't
[17:01:45] *** Joins: debsan (~debsan@2800:810:471:2ee::1000)
[17:02:06] <gnoo> now that i think about it, it'd be dumb for it to do so as it is used to change active user
[17:02:10] *** Joins: fourHZ (~fourHZ@80.146.191.217)
[17:03:07] *** Quits: phogg (~phogg@user/phogg) (Quit: so long, and thanks for all the fish)
[17:05:42] <geirha> I'm sure it does inherit it, but it might decide to ignore most environment variables
[17:06:01] <Ox4> hello all. I am usring curlftpfs to map ftp files on the local machine and I need to get the file from the latest (by directory number not by time) file. Is it correct if I will be using something linke this: ls -lrv --quoting-style=shell-escape | grep "8\.0\."
[17:06:38] <Ox4> here is the example of directories list: 8.0.7.0.3.1 8.0.7.0.3.0 8.0.7.0.2.1 and so on
[17:08:03] <earnestly> geirha: You're familiar with envdir?  chpst -e is that, and even documents about overwriting inheritted environments with matching files
[17:08:19] <geirha> never heard of either
[17:09:14] <earnestly> geirha: envdir comes from daemontools
[17:09:56] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 255 seconds)
[17:11:07] <earnestly> ~ FOO=bar chpst printenv FOO
[17:11:09] <earnestly> bar
[17:12:21] *** Joins: The_Blode (~Blode@92.40.180.236.threembb.co.uk)
[17:12:21] <earnestly> gnoo: It literally documents empty files that match an existing environment will be used to remove that environment
[17:12:42] <Masklin> I have two arrays filled with filenames. I want to create a third array that is the bigger array minus the smaller array. How does Bash do this?
[17:13:00] <earnestly> gnoo:  sudo env FOO=bar chpst -u 1000 printenv FOO        
[17:13:02] <earnestly> bar
[17:13:19] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[17:15:02] *** Joins: julius_c (~julius_c@229.red-83-57-77.dynamicip.rima-tde.net)
[17:17:06] <earnestly> Masklin: a=${#array1[@]} b=${#array2[@]}; if ((a > b)) then len=$((a - b)) else len=$((b - a)); fi
[17:17:42] <earnestly> Then you can use that length to create your third array.  lolwhat
[17:18:29] *** Joins: famubu (~famubu@61.0.251.1)
[17:18:58] <gnoo> earnestly: thanks, my testing must have been wrong. the command you provided works
[17:19:40] *** Quits: sgn (~sgn@user/sgn) (Ping timeout: 252 seconds)
[17:20:03] *** Joins: sgn (~sgn@user/sgn)
[17:22:13] *** Joins: twobitsprite (~twobitspr@107.13.51.62)
[17:23:07] <Masklin> earnestly: Wouldn't that assume that they're both sorted?
[17:23:32] <Masklin> I was unclear I guess. I essentially want to perform a set operation.
[17:23:46] <earnestly> I knew that was coming
[17:23:54] *** Quits: famubu (~famubu@61.0.251.1) (Changing host)
[17:23:54] *** Joins: famubu (~famubu@user/famubu)
[17:24:00] <famubu> Hi. `{a,b}-suffix` can be used to get `a-suffix b-suffix` in bash. And for `ac ad bc bd`, we can use `{a,b}-{c,d}`. Is there a way to get `ac bc ad bd` in a similar way?
[17:24:07] *** Joins: malina (~malina@user/malina)
[17:25:05] <earnestly> The former example is that, but sorted differently
[17:25:37] *** Quits: imp (~imp@186.205.11.214) (Quit: imp)
[17:25:40] <OMGOMG> # echo {d,c}{b,a} |rev
[17:25:42] <shbot> OMGOMG: bd ad bc ac
[17:25:53] <jaamro> yeah they aren't particularly powerful
[17:26:07] <earnestly> # echo {a,b}{c,d}
[17:26:09] <shbot> earnestly: ac ad bc bd
[17:26:28] <earnestly> # export LC_ALL=en_US.UTF-8; echo {a,b}{c,d}
[17:26:30] <shbot> earnestly: ac ad bc bd
[17:26:34] <earnestly> Hm
[17:26:42] <earnestly> Ah well yes, it wouldn't nevermind
[17:28:03] *** Joins: abrotman (~abrotman@user/abrotman)
[17:28:32] <abrotman> Is there a method by which I could take a numerically sorted list, and fetch lines alternating top/bottom ?
[17:30:13] <famubu> yeah.. Was hoping for sort of a generic solution. Something that would work for even {a,b,c}-{d,e,f} to get 'ad ae af bd be bf cd ce cf' as well. Wasn't sure if there was a builtin feature.
[17:30:44] <famubu> Sorry the output of the last one was wrong.
[17:31:25] <famubu> I meant 'ad bd cd ae be ce af bf cf' 
[17:31:52] *** Joins: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431)
[17:32:44] *** Joins: Trieste (~T@user/pilgrim)
[17:33:25] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[17:35:17] *** Joins: heip1ahd (~textual@217.110.227.178)
[17:36:17] *** Joins: zebrag (~chris@user/zebrag)
[17:36:54] *** Joins: varaindemian (~varaindem@86.124.78.162)
[17:37:39] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Remote host closed the connection)
[17:37:39] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[17:37:52] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[17:39:02] *** Joins: apos (~apos@gateway/tor-sasl/apos)
[17:39:29] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 252 seconds)
[17:39:35] <OMGOMG> !emgrev
[17:39:35] <greybot> # rev() { sed -e 'G;:a' -e 's/\(.\)\(.*\n\)/\2\1/;ta' -e 's/.//' "$@";}; rev <<<$'foo\nbar baz'
[17:39:37] <shbot> greybot: oof
[17:39:37] <shbot> greybot: zab rab
[17:39:57] <OMGOMG> # rev() { sed -e 'G;:a' -e 's/\(.\)\(.*\n\)/\2\1/;ta' -e 's/.//' "$@";}; # echo {f,e,d}{c,b,a}
[17:39:59] <shbot> OMGOMG: no output
[17:40:02] *** Quits: Trieste (~T@user/pilgrim) (Ping timeout: 252 seconds)
[17:43:22] *** Joins: clawh (~clawh@185.244.214.60)
[17:43:50] *** Joins: Trieste (T@user/pilgrim)
[17:46:41] <earnestly> abrotman: like https://0x0.st/-OKa.txt ?
[17:46:46] <zeraphel> Does it have to alternate specifically? mapfile it and do some math magic,  otherwise use shuf # echo {a..e}{1..3}$'\n' | shuf
[17:47:37] <earnestly> famubu: So it's really just order?  Also using - between the braces won't produce ad, but a-d
[17:48:23] <earnestly> Or are you asking really for a cartesian product?
[17:49:23] *** Quits: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Ping timeout: 252 seconds)
[17:49:35] <earnestly> # printf %s {a,b,c}{d,e,f}
[17:49:37] <shbot> earnestly: adaeafbdbebfcdcecf
[17:49:51] <earnestly> This is cartesian
[17:49:57] <earnestly> Does the order matter, why?
[17:52:06] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Remote host closed the connection)
[17:52:07] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[17:52:25] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[17:52:30] *** Quits: malina (~malina@user/malina) (Quit: malina)
[17:53:39] *** Quits: heip1ahd (~textual@217.110.227.178) (Quit: heip1ahd)
[17:53:45] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Ping timeout (120 seconds))
[17:53:59] *** Joins: heip1ahd (~heip1ahd@217.110.227.178)
[17:54:20] *** Quits: nolesswrong (~nolesswro@45.32.1.17) (Ping timeout: 252 seconds)
[17:54:24] *** Quits: pieguy128 (~pieguy128@bras-base-mtrlpq5031w-grc-57-65-92-163-194.dsl.bell.ca) (Quit: ZNC 1.8.2 - https://znc.in)
[17:54:43] *** Joins: pieguy128 (~pieguy128@bras-base-mtrlpq5031w-grc-57-65-92-163-194.dsl.bell.ca)
[17:54:57] *** Joins: Bhavuk (~BTaneja@122.173.55.84)
[17:55:01] *** Quits: debsan (~debsan@2800:810:471:2ee::1000) (Remote host closed the connection)
[17:55:03] <Masklin> if ! grep 'a' foo ; then ... ; fi           is this legit syntax or does the ! not work with commands like this?
[17:55:15] *** Joins: debsan (~debsan@2800:810:471:2ee::1000)
[17:55:19] *** Quits: cmc (~methos@gateway/tor-sasl/cmc) (Ping timeout: 244 seconds)
[17:55:22] <izabera> earnestly | abrotman: like https://0x0.st/-OKa.txt ?    <- 50 50
[17:55:23] *** Quits: silverwhitefish (~hidden@47.202.102.10) (Remote host closed the connection)
[17:55:36] <izabera> Masklin: it works with commands like those
[17:55:48] <Masklin> izabera: Amazing
[17:55:52] *** Joins: silverwhitefish (~hidden@47.202.102.10)
[17:55:53] <izabera> is it
[17:55:59] *** Quits: mixfix41 (~homefame@user/mixfix41) (Ping timeout: 252 seconds)
[17:56:17] <Masklin> Yes
[17:56:33] *** Quits: gearnode (~gearnode@2a01cb000ce2c100b0b4e37bd756bdb4.ipv6.abo.wanadoo.fr) (Ping timeout: 252 seconds)
[17:56:34] *** Joins: mixfix41 (~homefame@user/mixfix41)
[17:56:39] *** Quits: waxfire23 (~waxfire@65.119.2.240) (Quit: Ping timeout (120 seconds))
[17:56:52] *** Joins: waxfire23 (~waxfire@65.119.2.240)
[17:57:05] *** Quits: eschwartz (~eschwartz@archlinux/bugwrangler/eschwartz) (Ping timeout: 252 seconds)
[17:57:05] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 252 seconds)
[17:57:10] <earnestly> izabera: Yeah I decided to include that combo
[17:57:14] *** Joins: gearnode (~gearnode@2a01cb000ce2c100b0b4e37bd756bdb4.ipv6.abo.wanadoo.fr)
[17:57:17] *** Quits: infernix (~nix@spirit.infernix.net) (Quit: ZNC - http://znc.sourceforge.net)
[17:57:21] *** Joins: cmc (~methos@gateway/tor-sasl/cmc)
[17:57:23] <izabera> you decided wrong
[17:57:26] *** Joins: nolesswrong (~nolesswro@45.32.1.17)
[17:57:38] *** Quits: ntwk (~ntwk@user/ntwk) (Ping timeout: 252 seconds)
[17:57:44] <earnestly> Yeah I agree it's not what I'd normally use but wanted to make it obvious
[17:57:53] <earnestly> But they never replied
[17:58:00] <Masklin> !inarray
[17:58:00] <greybot> Check whether a value is in an array: inarray() { local n=$1 h; shift; for h; do [[ $n = "$h" ]] && return; done; return 1; } # Usage: inarray "$value" "${array[@]}" Or just use an associative array if possible
[17:58:08] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[17:58:11] *** Quits: sth (~seth@sys-v.net) (Ping timeout: 252 seconds)
[17:58:13] <Masklin> Does this function work for any string or just numbers?
[17:58:27] <earnestly> So much disappointment
[17:58:41] <earnestly> Masklin: Does $n = "$h" work for just numbers, or also strings?
[17:58:50] *** Quits: whaa (~whaa@c-75-67-72-65.hsd1.ma.comcast.net) (Remote host closed the connection)
[17:59:10] <Masklin> I would say strings, but I documented this function as "check for number existence in array"
[17:59:17] <Masklin> So I was confused and wanted to double-check <3
[17:59:17] *** Quits: bn_work (uid268505@id-268505.highgate.irccloud.com) (Ping timeout: 252 seconds)
[17:59:17] *** Quits: rs_ (~ubuntu@ec2-18-222-18-102.us-east-2.compute.amazonaws.com) (Ping timeout: 252 seconds)
[17:59:40] <earnestly> Using bash like a programming language, with types, to do set operations
[17:59:53] <Masklin> It's the only way to fly
[18:00:45] *** Joins: bn_work (uid268505@id-268505.highgate.irccloud.com)
[18:00:55] *** Joins: rs_ (~ubuntu@ec2-18-222-18-102.us-east-2.compute.amazonaws.com)
[18:03:01] *** Joins: sth (~seth@sys-v.net)
[18:07:56] <bakerst> technically you should be using -eq instead of = if you're really interested in numbers, because -eq is arithmetic comparison and won't care about the number format
[18:08:15] <bakerst> # if [[ 01 = 1 ]] ; then echo "[[ 01 = 1 ]]: true" ; else echo "[[ 01 = 1 ]]: false" ; fi ; if [[ 01 -eq 1 ]] ; then echo "[[ 01 -eq 1 ]]: true" ; else echo "[[ 01 -eq 1 ]]: false" ; fi
[18:08:16] <shbot> bakerst: [[ 01 = 1 ]]: false
[18:08:16] <shbot> bakerst: [[ 01 -eq 1 ]]: true
[18:10:17] *** Quits: Kruppt (~Kruppt@50.111.14.26) (Ping timeout: 252 seconds)
[18:10:36] *** Joins: AnisBarghouthi[m (~anis-barg@2001:470:69fc:105::6ebb)
[18:10:44] *** Joins: MenschZwoNull (~MenschZwo@p200300c8571440008a962f677ad3f14a.dip0.t-ipconnect.de)
[18:11:37] <abrotman> izabera: yes, roughly
[18:11:48] *** Joins: Kruppt (~Kruppt@50.111.14.26)
[18:11:52] *** Joins: infernix (nix@2a02:22a0:bbb1:d500::2)
[18:12:36] *** Joins: phogg (~phogg@static-108-51-94-2.washdc.fios.verizon.net)
[18:13:45] *** Quits: fatal (0x00@user/fatal) (Quit: leaving)
[18:14:04] *** Joins: fatal (0x00@user/fatal)
[18:14:42] *** Quits: Kruppt (~Kruppt@50.111.14.26) (Client Quit)
[18:14:44] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[18:15:16] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[18:15:21] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.0.1)
[18:16:51] *** Joins: nighcoder (~ciumbi@45.58.87.61)
[18:17:17] *** Parts: nighcoder (~ciumbi@45.58.87.61) (Leaving)
[18:17:59] *** Quits: phogg (~phogg@static-108-51-94-2.washdc.fios.verizon.net) (Ping timeout: 252 seconds)
[18:18:32] *** Quits: darkxploit (~jay@32.209.19.50) (Ping timeout: 252 seconds)
[18:18:45] *** Joins: phogg (~phogg@static-108-51-94-2.washdc.fios.verizon.net)
[18:19:30] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[18:19:42] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[18:22:20] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[18:23:52] *** Joins: eschwartz (~eschwartz@archlinux/bugwrangler/eschwartz)
[18:24:41] *** Joins: ntwk (~ntwk@user/ntwk)
[18:27:21] *** Quits: finsternis (~X@23.226.237.192) (Remote host closed the connection)
[18:28:57] <makara> how do i kill my script and any jobs i start with { whatever; } & ?
[18:29:20] <makara> i tried `pkill -P 240443` but they keep coming
[18:29:24] *** Joins: iomari891 (~iomari891@105.112.138.38)
[18:30:20] <ormaaj> you can't really do that reliably.
[18:30:41] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[18:31:00] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[18:32:06] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Quit: Bye!)
[18:32:29] <ormaaj> you can try `jobs` and if the shell kept track of them all you can kill them
[18:34:29] *** Quits: famubu (~famubu@user/famubu) (Ping timeout: 252 seconds)
[18:35:34] *** Quits: bboles (~bboles@64.94.212.195) (Quit: ZNC 1.8.2 - https://znc.in)
[18:36:35] *** Joins: bboles (~bboles@64.94.212.195)
[18:37:16] *** Joins: earendel (uid498179@user/earendel)
[18:37:56] *** Joins: varaindemian (~varaindem@86.124.78.162)
[18:39:01] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[18:40:59] *** Quits: Dotz0cat (~Dotz0cat@h164.71.213.151.dynamic.ip.windstream.net) (Ping timeout: 252 seconds)
[18:41:34] *** Joins: gschanuel59 (~gschanuel@user/gschanuel)
[18:42:42] *** Quits: gschanuel59 (~gschanuel@user/gschanuel) (Client Quit)
[18:43:04] *** Joins: gschanuel59 (~gschanuel@user/gschanuel)
[18:43:29] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Quit: Leaving)
[18:43:43] *** Joins: Dotz0cat (~Dotz0cat@h179.194.186.173.dynamic.ip.windstream.net)
[18:43:45] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[18:43:59] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Remote host closed the connection)
[18:44:44] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[18:47:24] *** Quits: bboles (~bboles@64.94.212.195) (Quit: ZNC 1.8.2 - https://znc.in)
[18:47:45] *** Quits: fourHZ (~fourHZ@80.146.191.217) (Quit: Connection closed)
[18:47:51] *** Joins: bboles (~bboles@64.94.212.195)
[18:49:41] *** Joins: supernovah (~supernova@mail.ijk.nz)
[18:53:57] *** gschanuel59 is now known as gschanuel
[18:55:04] *** Joins: tas (~tas@128.244.38.15)
[18:56:40] <makara> im beginning to think i can't do anything reliably
[18:57:01] *** Joins: filiusdeus (~sina@169.159.87.81)
[18:58:54] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:59:07] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[19:02:48] <pragma-> same
[19:04:24] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[19:04:48] <phy1729> Could try SIGSTOP'ing the script first so it stops spawning more
[19:06:46] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[19:13:43] *** Quits: wwilly_ (~wwilly@217.140.106.13) (Quit: Leaving)
[19:15:59] *** Quits: ominionx (~ominionx@38.135.235.14) (Quit: Leaving)
[19:16:58] *** Quits: pyre (~pyre@crimeboss.nillas-power.com) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[19:17:10] *** Joins: pyre (~pyre@crimeboss.nillas-power.com)
[19:17:36] *** Quits: filiusdeus (~sina@169.159.87.81) (Quit: Leaving)
[19:18:10] *** Joins: filiusdeus (~sina@169.159.87.81)
[19:19:38] *** Quits: Alex123 (~Adium@2603-8000-f640-d482-803e-40c5-8caf-3ade.res6.spectrum.com) (Quit: Leaving.)
[19:19:42] *** Joins: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net)
[19:24:39] *** Quits: PinealGlandOptic (~PinealGla@37.115.210.35) (Quit: leaving)
[19:24:55] *** Joins: filiusdeus_ (~sina@169.159.78.31)
[19:24:56] *** Joins: sinaowolabi__ (~SinaOwola@169.159.78.31)
[19:25:16] *** Quits: filiusdeus_ (~sina@169.159.78.31) (Client Quit)
[19:25:37] *** Joins: filiusdeus_ (~sina@169.159.78.31)
[19:25:46] *** Joins: LiftLeft (~LiftLeft@154.21.28.156)
[19:26:08] *** Quits: son0p (~ff@181.136.122.143) (Remote host closed the connection)
[19:26:49] *** Joins: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net)
[19:26:52] *** Joins: kj (~kj@beta.aerisnetwork.net)
[19:28:16] *** Quits: filiusdeus (~sina@169.159.87.81) (Ping timeout: 246 seconds)
[19:28:32] *** Quits: sinaowolabi_ (~SinaOwola@169.159.87.81) (Ping timeout: 255 seconds)
[19:28:34] *** Joins: son0p (~ff@181.136.122.143)
[19:28:49] *** Joins: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[19:30:05] *** Quits: son0p (~ff@181.136.122.143) (Remote host closed the connection)
[19:37:30] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[19:41:28] *** Joins: dibber (~dibber@c-73-14-187-235.hsd1.co.comcast.net)
[19:41:31] *** Quits: filiusdeus_ (~sina@169.159.78.31) (Quit: Leaving)
[19:49:17] *** Quits: speckz (~speckz@2600:1700:ce0:bf00:bd34:5d6b:f76f:8f86) (Quit: Textual IRC Client: www.textualapp.com)
[19:49:40] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[19:55:40] *** Joins: Crassus (~Crassus@user/crassus)
[19:55:41] *** Quits: JanC (~janc@user/janc) (Ping timeout: 265 seconds)
[19:58:15] *** Joins: clawh_ (~clawh@185.244.214.60)
[19:58:27] *** Joins: JanC (~janc@user/janc)
[19:59:19] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[19:59:29] *** Joins: maharg101 (~maharg101@savoy.force9.co.uk)
[19:59:44] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[19:59:54] *** Quits: clawh (~clawh@185.244.214.60) (Ping timeout: 252 seconds)
[20:00:29] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[20:01:17] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 252 seconds)
[20:01:22] *** Quits: jtmusky_ (~jtmusky@104-1-122-97.lightspeed.okcbok.sbcglobal.net) (Quit: Leaving)
[20:09:04] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[20:10:19] *** Joins: LuksNuke (~LuksNuke@94.242.245.63)
[20:11:16] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[20:12:57] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[20:13:23] *** Quits: tas (~tas@128.244.38.15) (Quit: Client closed)
[20:13:38] *** Joins: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net)
[20:14:58] *** Joins: almarwazi (~almarwazi@49.36.191.60)
[20:15:21] *** Quits: almarwazi (~almarwazi@49.36.191.60) (Client Quit)
[20:15:22] *** Quits: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net) (Quit: This computer has gone to sleep)
[20:15:37] *** Joins: almarwazi (~almarwazi@49.36.191.60)
[20:16:34] *** Joins: skapata (~Skapata@user/skapata)
[20:17:39] *** Joins: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net)
[20:18:40] *** Quits: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net) (Remote host closed the connection)
[20:19:14] *** Joins: donofrio (~donofrio@c-68-40-123-74.hsd1.mi.comcast.net)
[20:19:22] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.2)
[20:21:52] *** Quits: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net) (Quit: andydude)
[20:22:34] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Ping timeout: 240 seconds)
[20:24:41] *** Joins: Kofid (~Kofid@2601:404:d300:5a0:fcbf:c290:5998:a5c6)
[20:25:14] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[20:25:33] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[20:25:47] *** Joins: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net)
[20:26:10] *** Quits: wwilliam (~afernande@user/wwilliam) (Quit: Konversation terminated!)
[20:29:54] *** Quits: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net) (Quit: This computer has gone to sleep)
[20:32:42] *** Quits: pgp (~pgp@a213-22-204-147.cpe.netcabo.pt) (Quit: Leaving)
[20:34:51] <earnestly> makara: Send the signal to the process group
[20:34:54] *** Joins: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net)
[20:35:07] *** Quits: bodiccea_ (~bodiccea@user/bodiccea) (Ping timeout: 246 seconds)
[20:35:42] <earnestly> makara: I.e. kill -- -thepid
[20:35:48] <earnestly> makara: Of the parent
[20:36:17] *** Joins: hposca (~hposca@node-1w7jr9phoke2vlnhot95w4kak.ipv6.telus.net)
[20:36:26] *** Joins: bodiccea (~bodiccea@user/bodiccea)
[20:37:16] <earnestly> Everyone here should know about process groups, disappointed that no one mentioned it
[20:40:22] *** Quits: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net) (Ping timeout: 272 seconds)
[20:41:04] *** Joins: wwilliam (~afernande@63.240.73.102)
[20:41:04] *** Quits: wwilliam (~afernande@63.240.73.102) (Changing host)
[20:41:04] *** Joins: wwilliam (~afernande@user/wwilliam)
[20:41:10] *** Joins: famubu (~famubu@14.139.174.50)
[20:43:31] *** Joins: sky- (~sky@2a01cb0589433a0071fe48f5bdf141f5.ipv6.abo.wanadoo.fr)
[20:43:31] *** Quits: sky- (~sky@2a01cb0589433a0071fe48f5bdf141f5.ipv6.abo.wanadoo.fr) (Changing host)
[20:43:31] *** Joins: sky- (~sky@user/sky-)
[20:43:53] *** Joins: Maxattax (~max@50-195-160-193-static.hfc.comcastbusiness.net)
[20:45:26] *** Quits: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com) (Ping timeout: 272 seconds)
[20:45:26] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[20:48:05] <makara> https://www.baeldung.com/linux/kill-members-process-group
[20:48:27] *** Joins: ztx (~ztx@212.96.201.208)
[20:48:40] <ormaaj> Considered whining about how they suck but tired.
[20:48:53] <earnestly> makara: If you read kill(1) you'll see that appending - to the PID will send the signal to the entire process group
[20:49:08] <earnestly> It's not a common cargo-cult on osnix or techshit.web so few know about it
[20:49:37] <earnestly> And surprising no one that "dung" website is a pile of shit too.
[20:50:01] <earnestly> At least it doesn't use `ps aux'
[20:50:42] *** Quits: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net) (Quit: andydude)
[20:50:47] *** Quits: rinwa (~rinwa@141.226.183.131) (Ping timeout: 252 seconds)
[20:52:29] <earnestly> makara: And fwiw, it's not reliable if children double-fork or change their process group id.  This is why largely why cgroups came to exist on linux, or process tagging in general.  Even systemd's type=forking has to do a degree of guessing to capture the "mainpid" for a service/daemon
[20:52:34] *** Quits: ByteSlayer (~byteslaye@user/byteslayer) (Quit: That's about it, see ya)
[20:53:03] <earnestly> And why the djb camp tried to ban double-forking through things like fghack and such heh
[20:53:07] *** Joins: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net)
[20:53:08] *** Joins: Trieste (~T@user/pilgrim)
[20:53:45] *** Joins: saml (~saml@cpe-74-73-80-162.nyc.res.rr.com)
[20:54:42] <saml> cat file.txt  |   how can I generate a single line string where new line characters are written as \n ?
[20:54:53] *** Quits: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net) (Client Quit)
[20:54:55] <saml> oh i guess tr
[20:56:41] <phy1729> tr replaces single charcters with single other characters
[20:56:53] * phy1729 puts on ESP hat
[20:57:01] <phy1729> Are you actually putting a file in json?
[20:57:07] *** Joins: Trieste_ (T@user/pilgrim)
[20:57:38] *** Quits: Trieste (~T@user/pilgrim) (Ping timeout: 255 seconds)
[20:57:54] *** Joins: austin987 (~null@100.42.98.196)
[20:59:05] <saml> sed 's!$!\\n!' | tr -d '\n'
[20:59:24] <earnestly> saml: What are you doing this for?  There may be better approaches particular to the situation
[20:59:49] <saml> SSHKEY="$(base64 ~/.ssh/id_rsa | sed 's!$!\\n!' | tr -d '\n')"
[21:00:03] <earnestly> saml: base64 -w0
[21:00:22] *** Joins: rinwa (~rinwa@141.226.14.13)
[21:01:18] <phy1729> Wonder if this is going into an AWS userdata yaml thing
[21:01:41] *** Quits: makara (~sol@196.61.111.63) (Ping timeout: 255 seconds)
[21:02:45] <earnestly> I want to use ssh certificates more
[21:03:09] <saml> it is to recreate ~/.ssh/id_rsa  while building docker image
[21:03:41] <saml> base64 -w0 FILE | base64 -d     I wonder how this preserves newlines
[21:03:43] <phy1729> Can't you just COPY the file?
[21:03:57] <earnestly> saml: Because newlines are encoded along with every other byte
[21:04:19] <earnestly> saml: Did you read the manual to see what -w does?
[21:04:21] <saml> docker doesn't allow COPY file outside build context (directory)
[21:04:57] <saml> yeah -w0 means to disable wrapping.. so I was confused
[21:04:59] <earnestly> I wonder if zipping before base64 would be better, given base64 being fairly inefficient
[21:05:04] <phy1729> There's a #docker channel that probably has ideas about better ways to do this
[21:08:14] *** Joins: darkxploit (~jay@32.209.19.50)
[21:08:47] *** Parts: darkxploit (~jay@32.209.19.50) ()
[21:09:11] *** Quits: scaleww (~scaleww@77-41-20-31.ftth.glasoperator.nl) (Quit: Leaving)
[21:09:18] *** Quits: thiccdaddy (~OwO@thiccdaddy.sexy) (Quit: Ping timeout (120 seconds))
[21:09:44] *** Joins: thiccdaddy (~OwO@thiccdaddy.sexy)
[21:10:40] *** Joins: darkxploit (~jay@32.209.19.50)
[21:11:33] *** Parts: darkxploit (~jay@32.209.19.50) ()
[21:13:19] *** Joins: darkxploit (~jay@32.209.19.50)
[21:17:06] *** Joins: lilalinux (~lilalinux@p549ee439.dip0.t-ipconnect.de)
[21:17:38] *** Quits: Crassus (~Crassus@user/crassus) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:18:25] *** Joins: sinaowolabi_ (~SinaOwola@160.152.178.167)
[21:19:26] *** Quits: julius_c (~julius_c@229.red-83-57-77.dynamicip.rima-tde.net) (Quit: Leaving)
[21:20:46] *** Quits: liam (sid7517@id-7517.brockwell.irccloud.com) (Ping timeout: 246 seconds)
[21:20:46] *** Quits: terabit (sid146285@id-146285.highgate.irccloud.com) (Ping timeout: 246 seconds)
[21:21:28] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[21:21:31] *** Joins: terabit (sid146285@id-146285.highgate.irccloud.com)
[21:21:37] *** Joins: liam (sid7517@id-7517.brockwell.irccloud.com)
[21:21:41] *** Quits: sinaowolabi__ (~SinaOwola@169.159.78.31) (Ping timeout: 252 seconds)
[21:22:08] *** Quits: lilalinux (~lilalinux@p549ee439.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[21:22:26] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[21:23:49] *** Joins: hegstal (~hegstal@2a02:c7f:7604:8a00:7018:37c7:e025:203e)
[21:25:45] *** Quits: The_Blode (~Blode@92.40.180.236.threembb.co.uk) (Changing host)
[21:25:45] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[21:26:39] *** Quits: peterrooney (~peter@2604:3d08:1583:5600:222:4dff:fe69:d6ed) (Quit: new kernel compiled - reboot)
[21:26:52] *** Quits: almarwazi (~almarwazi@49.36.191.60) (Quit: Lost terminal)
[21:26:53] *** Quits: heip1ahd (~heip1ahd@217.110.227.178) (Ping timeout: 255 seconds)
[21:28:02] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[21:28:07] *** Joins: Betal (~Beta@user/betal)
[21:28:14] *** Quits: LuksNuke (~LuksNuke@94.242.245.63) (Ping timeout: 255 seconds)
[21:30:10] *** Joins: Helmholtz1 (Helmholtz@user/helmholtz)
[21:30:13] <Helmholtz1> https://dpaste.com/HVSEK9PFL
[21:30:23] <Helmholtz1> Why my_pid is not getting killed?
[21:30:42] <Helmholtz1> rather, why `cmd1 | cmd2` is not killed
[21:31:40] *** Joins: mongy (~mongy@user/mongy)
[21:36:17] <wwilliam> !check
[21:36:18] <checkbot> wwilliam: Looks good to me
[21:37:30] <Helmholtz1> wwilliam, turnes out my_pid is actually pid of cmd2 not cmd1
[21:38:25] *** Joins: Sasazuka (~Sasazuka@user/sasazuka)
[21:38:43] <emanuele6> Helmholtz1: that's $! expands to
[21:39:26] <emanuele6> if you want the pid of the job, you need to use $(jobs -p %-)
[21:39:37] <Helmholtz1> emanuele6, I have to dance backwards to unix gods to get pid of cmd1 jeez!
[21:39:47] <Helmholtz1> 3> and stuff
[21:40:39] <emanuele6> # sleep 10 | sleep 2; x=$!; ps | grep "$x"
[21:40:46] <shbot> emanuele6: no output within the time limit
[21:40:55] <emanuele6> # sleep 10 | sleep 2 & x=$(jobs -p %-); ps | grep "$x"
[21:40:57] <shbot> emanuele6: [1] 52
[21:40:57] <shbot> emanuele6:   51 ttyS0    00:00:00 bash
[21:41:03] <emanuele6> # sleep 10 | sleep 2 & x=$!; ps | grep "$x"
[21:41:05] <shbot> emanuele6: [1] 52
[21:41:05] <shbot> emanuele6:   52 ttyS0    00:00:00 bash
[21:41:48] <emanuele6> ah, that doesn't show the difference
[21:42:36] <twkm> ps|grep for a pid *BOGGLE*
[21:42:37] <emanuele6> anyway, $! will give you the pid of sleep 2 and $(jobs -p %-) will give you the pid of the shell that is running sleep 10 | sleep 2
[21:43:03] *** Joins: heip1ahd (~heip1ahd@2a02:8108:463f:c660:b0aa:6d0c:1bc2:1769)
[21:43:37] <emanuele6> if you don't need to store the pid (maybe that is the only background job in your script), you can use `kill %-' directly
[21:44:41] *** Joins: almarwazi (~almarwazi@49.36.191.60)
[21:45:03] <Helmholtz1> emanuele6, kill %- kills all bg processes?
[21:45:04] <Helmholtz1> nice
[21:45:15] <emanuele6> not all background processes
[21:45:22] *** Quits: almarwazi (~almarwazi@49.36.191.60) (Client Quit)
[21:45:28] <Helmholtz1> current shell?
[21:45:30] <emanuele6> %- is the most recent background process 
[21:45:35] <emanuele6> %1 is the first
[21:45:39] *** Joins: almarwazi (~almarwazi@49.36.191.60)
[21:47:13] <emanuele6> if you want to kill all the background processes (weird), you can use `jobs -p' to get all the pids of the background jobs and then use `kill' to kill them
[21:48:20] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[21:48:44] *** Quits: F0odMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net) (Quit: QUIT)
[21:50:02] <Helmholtz1> emanuele6, does it work in posix sh?
[21:50:06] <emanuele6> no
[21:50:12] <Helmholtz1> oh
[21:50:21] <emanuele6> jobs control is not defined in posix sh
[21:50:22] <Helmholtz1> this script I'm modifying was written in posix sh
[21:50:34] <Helmholtz1> So how can I do it in sh?
[21:50:44] <emanuele6> how can i do what?
[21:50:57] <emanuele6> get the pid of the background job?
[21:51:19] *** Quits: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net) (Quit: uc50ic4more)
[21:51:25] <Helmholtz1> emanuele6, yeah ..actually kill it before return
[21:54:18] *** Joins: replayer (~replayer@ec2-3-94-198-85.compute-1.amazonaws.com)
[21:54:56] *** Quits: hata (~hata@hata.moe) (Read error: Connection reset by peer)
[21:55:14] *** Joins: hata (~hata@hata.moe)
[21:55:24] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[21:55:50] *** Joins: arinov (~arinov@212.156.215.30)
[21:57:48] *** Quits: graudre (~graudre@2607:fea8:560:7f20:c5b8:712b:3eee:154a) (Quit: graudre)
[21:57:54] <emanuele6> why are you doing this?
[21:58:33] <emanuele6> Helmholtz1: you could run the pipeline as `sh -c 'cmd1 | cmd2'` and use !$ as you are doing
[21:58:34] <Helmholtz1> emanuele6, because cmd1 is long and after quitting from function, it still is running
[21:58:59] <emanuele6> killing it seems a very strange thing to do
[21:59:09] <Helmholtz1> emanuele6, what should I do then?
[21:59:10] <emanuele6> and why can't you use bash?
[21:59:20] <Helmholtz1> the upstream is using posix sh
[21:59:28] <Helmholtz1> https://github.com/pystardust/ytfzf
[21:59:32] <twkm> jobs -p %- most certainly is posix.
[22:00:38] <emanuele6> twkm: i think you are right
[22:00:48] <emanuele6> is it a recent addition?
[22:01:21] <replayer>  will a for loop like: for i in 1 2 3 4 5; do grep $i file ; done be significantly slower than no loop but instead some OR grep  like:  grep -e 1 -e 2 -e 3 -e 4 -e 5 file ?? like the latter being 5 times faster?   also how can i format code like the "sh ... " by emanuele6 ?
[22:01:50] *** Quits: clawh_ (~clawh@185.244.214.60) (Ping timeout: 252 seconds)
[22:02:16] <Helmholtz1> twkm, 289: jobs: No previous job
[22:02:34] <Helmholtz1> but the job is right above it
[22:02:36] <twkm> usually the former is slower, but for so few invocations it likely won't b noticeable.
[22:04:22] <Helmholtz1> https://dpaste.com/GQ6EGWMAA
[22:04:36] <Helmholtz1> pgrep detects it by my_pid is empty
[22:04:41] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 255 seconds)
[22:05:14] <twkm> i suspect you want to kill the process group Helmholtz1.
[22:05:41] <Helmholtz1> twkm, yeah cmd1 | cmd2 &...
[22:05:48] <Helmholtz1> isn't that a job?
[22:05:50] *** Joins: H3dn1ng (~H3dn1ng@185.213.154.234)
[22:05:54] <twkm> so kill -$pid instead of kill $pid.
[22:05:56] <replayer> it would be about a dozen invocations and it takes already some minutes, so saving some time would be great, question is if the OR grep is kind of multithreaded or also just goes through the file and first searches for "1" then "2" ... (dunno if looking for both at the same time would be faster though)
[22:06:23] <Helmholtz1> twkm, thing is, I don't have a pid...my_pid is empty
[22:06:23] <twkm> then the multiple -e would be faster.  too bad you're using sh.
[22:06:40] <replayer> when it still would be only a few percent faster i'll probably leave as is
[22:06:46] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[22:06:52] *** Quits: xx (~xx@user/xx) (Quit: xx)
[22:06:58] <twkm> foo|bar; pid=$! .... kill -$pid
[22:07:06] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[22:07:09] <twkm> grr, foo|bar& pid=$! .... kill -$pid
[22:07:51] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[22:08:32] <emanuele6> twkm: i don't think kill -$pid is posix compliant
[22:09:03] <emanuele6> s/posix compliant/required by posix/
[22:09:07] <twkm> you don't seem to know posix.
[22:09:11] *** Joins: EnNa (~steve@public-gprs229793.centertel.pl)
[22:09:31] <Helmholtz1> twkm, kill: No such process
[22:10:17] <emanuele6> twkm: If the first argument is a negative integer, it shall be interpreted as a - signal_number option, not as a negative pid operand specifying a process group. 
[22:10:18] <twkm> hmm.  set -m before the pipeline might be needed.
[22:10:35] <emanuele6> twkm: https://pubs.opengroup.org/onlinepubs/9699919799/
[22:11:17] <twkm> emanuele6: ahh, yes, indeed i presumed Helmholtz1 was naming a signal and i didn't replicate that.  you are correct, a signal name is needed so -n is a pid value not a signal value.
[22:12:45] <Helmholtz1> To get pid of current posix shell, can I use shell_pid=$$, then to kill cmd1 | cmd2& , I'll use pgrep "cmd1" --session $sell_pid
[22:12:58] <Helmholtz1> does $$ work in posix?
[22:13:17] <emanuele6> Helmholtz1: use kill -TERM "-$pid" 
[22:13:41] *** Quits: wwilliam (~afernande@user/wwilliam) (Ping timeout: 255 seconds)
[22:13:43] <Helmholtz1> emanuele6, what is pid? my new method?
[22:13:56] *** Joins: L3 (~L3@user/l3)
[22:14:31] *** Joins: wwilliam (~afernande@73.197.2.152)
[22:14:31] *** Quits: wwilliam (~afernande@73.197.2.152) (Changing host)
[22:14:31] *** Joins: wwilliam (~afernande@user/wwilliam)
[22:14:40] <emanuele6> as twkm suggested but with the -TERM
[22:14:45] <emanuele6> foo|bar& pid=$! .... kill -TERM "-$pid"
[22:15:39] *** Joins: velix (~velix@user/velix)
[22:16:05] <earnestly> emanuele6: You need to use -- to suppress the -$pid being interpreted as an argument
[22:16:28] <emanuele6> earnestly: no https://pubs.opengroup.org/onlinepubs/9699919799/
[22:16:31] *** Joins: clawh (~clawh@185.244.214.60)
[22:17:15] <earnestly> >  If the first pid operand
[22:17:17] <earnestly>                      is negative, it should be preceded by "--" to keep it from being interpreted as an option.
[22:17:57] *** Joins: sol-86 (~pc@2a02:c7f:44e3:8e00:7c8:3c0a:43f1:dda)
[22:18:30] <emanuele6> > To avoid an ambiguity of an initial negative number argument specifying either a signal number or a process group, POSIX.1-2017 mandates that it is always considered the former by implementations that support the XSI option. It also requires that conforming applications always use the "--" options terminator argument when specifying a process group, unless an option is also specified.
[22:19:03] <twkm> replayer: whether there's multithreaded operation or not isn't something that's known since there isn't just one grep.
[22:19:05] *** Quits: wwilliam (~afernande@user/wwilliam) (Ping timeout: 255 seconds)
[22:19:27] * Helmholtz1 sigh
[22:19:38] <Helmholtz1> it still doesn't work: kill -TERM -- -"$comm_pid"
[22:19:44] <Helmholtz1> where comm_pid=$!
[22:19:59] <Helmholtz1> oh typo
[22:20:04] <twkm> replayer: since you are using sh it might be easiest to launch all the grep's in the background -- make sure tostop is off.
[22:20:26] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[22:20:52] *** Joins: wwilliam (~afernande@user/wwilliam)
[22:21:06] <twkm> a'la, for ... grep stuff file & done; wait
[22:21:08] <emanuele6> earnestly: -- is not needed if *an option is also specified*
[22:21:36] <earnestly> emanuele6: Hm, these are XSI extensions
[22:22:13] <earnestly> But fair enough
[22:22:23] <earnestly> (But still wouldn't use it)
[22:22:39] <earnestly> Helmholtz1: How do you know it isn't working as compared with not doing what you expect?
[22:23:14] <Helmholtz1> earnestly, cmd1 prints to stderr...I still see it print despite returning from function (also I monitor htop)
[22:23:21] *** Parts: sol-86 (~pc@2a02:c7f:44e3:8e00:7c8:3c0a:43f1:dda) ()
[22:23:33] <Helmholtz1> neither -- and without it (with "-$comm_pid") worked :(
[22:24:00] <earnestly> Helmholtz1: Is cmd1 trapping TERM?
[22:24:10] *** Joins: clawh_ (~clawh@185.244.214.60)
[22:24:45] <Helmholtz1> earnestly, no sigterm with htop works on ti
[22:25:19] <emanuele6> since we said %- is posix, have you tried `kill %-'?
[22:25:44] <earnestly> No something isn't aligning here
[22:26:03] <earnestly> You can't claim kill some $pid is not working but it does via htop or co.
[22:26:25] <earnestly> There is obviously a misalignment in interpretation of the events
[22:26:46] *** Quits: clawh (~clawh@185.244.214.60) (Ping timeout: 272 seconds)
[22:27:06] <Helmholtz1> earnestly, $! is not pid of cmd1
[22:27:15] <Helmholtz1> when I htop, the pid is different
[22:28:03] <twkm> replayer: hopefully that made sense.
[22:28:55] <Helmholtz1> emanuele6, and kill %- doesn't work. I'm dumbfounded why pkill "yt-dlp" -s "$shell_pid" doesn't work?
[22:29:00] <Helmholtz1> shell_pid is set
[22:29:12] <Helmholtz1> yt-dlp is cmd1
[22:29:22] <emanuele6> what shell is this?
[22:29:27] <Helmholtz1> dash
[22:30:02] <Helmholtz1> F this...I'm gonna kill all cmd1 of system no matter what
[22:30:26] <twkm> pirating is so hard.
[22:31:42] <velix> Which way shall I go? No portability needed: letsencrypt-`date --utc +%Y%m%dT%H%M%SZ`.zip vs. letsencrypt-$(date --utc +%Y%m%dT%H%M%SZ).zip vs. letsencrypt-"$(date --utc +%Y%m%dT%H%M%SZ)".zip 
[22:32:01] <twkm> whatever makes you happy.
[22:33:11] *** Joins: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[22:33:13] *** Joins: gloomy (~ldorigo@host-87-6-23-121.retail.telecomitalia.it)
[22:33:53] <twkm> Helmholtz1: perhaps you want: sh -c 'cmd1 | cmd2' & pid=$! ... kill $pid
[22:34:46] <emanuele6> i suggested that too before, maybe it didn't work for him :/
[22:36:04] <Helmholtz1> last suggestion: kill "-$pid" (minus part)?
[22:36:10] <twkm> if so that suggests that cmd1 is handling the signal selected.  trying other than TERM might work, like INT or QUIT.
[22:36:39] <Helmholtz1> twkm, no when I htop sigtrem directly on cmd1, it exitst and returns null to cmd2
[22:36:46] <Helmholtz1> then cmd2 runs
[22:38:56] <twkm> returns null.  hmm.  both commands should be running concurrently, though scheduling might mean either is started later than expected.
[22:39:49] <velix> twkm: Oh no... I'm asking this myself for hours now
[22:40:54] *** Joins: howdoi (uid224@id-224.tooting.irccloud.com)
[22:41:05] <twkm> pick one and move on?
[22:41:29] <Helmholtz1> twkm, sorry no null...cmd1 is piped into cmd2. If I kill cmd1, cmd2 runs with no input
[22:41:43] <Helmholtz1>  pkill "yt-dlp" worked
[22:44:15] <twkm> velix: i'd use the " one, though -u not --utc nor a T though perhaps another dash or underscore.
[22:44:52] *** Quits: skylite (~skylite@2E6B2CD6.catv.pool.telekom.hu) (Ping timeout: 250 seconds)
[22:45:10] <velix> twkm: ya... it's a mixture of T...Z (Z=zulu). But : isn't allowed on Windows ;)
[22:45:27] <velix> twkm: so I thought before writing _...Z, I'll keep T...Z
[22:45:39] <velix> twkm: Actually `...` is shorter.
[22:45:49] <velix> And there's no space inside, so no need for "" ?
[22:45:50] *** Quits: arinov (~arinov@212.156.215.30) (Ping timeout: 252 seconds)
[22:46:11] *** Joins: xx (~xx@user/xx)
[22:46:26] *** Quits: heip1ahd (~heip1ahd@2a02:8108:463f:c660:b0aa:6d0c:1bc2:1769) (Quit: heip1ahd)
[22:47:05] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[22:47:16] <twkm> the reason i'd use quotes is in case the specifications are ever changed without making sure that no whitespace will be introduced.
[22:47:50] <velix> Sure, but something badly have to go wrong to get a whitespace into it ;)
[22:48:07] <twkm> the reason i'd use $() instead of `` is because i'm tired of ``.
[22:48:51] <emanuele6> bash has built-in date with printf
[22:49:10] <emanuele6> # printf '%(%Y%m%dT%H%M%SZ)T\n'
[22:49:12] <shbot> emanuele6: 20210709T181910Z
[22:49:13] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Quit: Leaving...)
[22:49:18] <emanuele6> for UTC:
[22:49:23] <emanuele6> # TZ= printf '%(%Y%m%dT%H%M%SZ)T\n'
[22:49:24] <shbot> emanuele6: 20210709T181923Z
[22:49:31] <earnestly> velix: If there's no need for portability use bash's printf ^
[22:49:49] <earnestly> And bash's printf -v
[22:50:11] *** Joins: ByteSlayer (~byteslaye@user/byteslayer)
[22:50:17] <emanuele6> yes, use printf -v if you are setting a variable
[22:50:26] <twkm> keeping in mind that bash's printf %T has variable portability where date's does not.
[22:50:27] <velix> I'm not setting a variable.
[22:51:01] <earendel> set a variable.
[22:51:13] <earnestly> Then $() is fine
[22:51:15] <velix> -> zip --symlinks -r letsencrypt-$(date --utc +%Y%m%dT%H%M%SZ).zip
[22:51:22] <earnestly> velix: quote it though
[22:51:30] <velix> so printf instead of date?
[22:51:48] <earnestly> $(printf ...) would work too, but it's still $()
[22:51:55] <velix> yeah sure
[22:52:10] <earnestly> Also that format
[22:52:13] <emanuele6> $(TZ= printf) for utc
[22:52:20] <velix> sure
[22:52:37] <earnestly> Exists as %FT%HZ iirc, or using GNU date's -Iseconds
[22:52:39] <earendel> iso 
[22:52:51] <earnestly> Not %H, uh
[22:53:00] <velix> TZ= printf -v foo '...%s..'; zip ... foo would also work, I know.
[22:53:07] <velix> No subshelling?
[22:53:10] <velix> $()
[22:53:21] <emanuele6> if you use printf -v, no subshell is created
[22:53:27] <earnestly> %T, that's it
[22:53:28] <velix> but when wrapping $() around?
[22:53:45] <velix> $(printf) = no subshell? Interesting, didn't know that.
[22:53:54] <earendel> for result of subshell
[22:53:58] <earnestly> velix: It does create a subshell, their point was that using variables doesn't
[22:54:01] *** Joins: julius_c (~julius_c@229.red-83-57-77.dynamicip.rima-tde.net)
[22:54:10] <earnestly> But it doesn't matter for something so trivial
[22:54:55] <velix> earnestly: ok )
[22:55:01] <earnestly> You've likely spent more cpu time considering this than it'll ever recover over the course of a week of continual usage
[22:55:09] <velix> hrhr ;)
[22:55:17] <earnestly> So hopefully something more philosophical can be derived from the effort
[22:55:28] <velix> E=mc²
[22:55:45] <earendel> theres still a week to come
[22:56:01] <velix> I've read, in the US, Sunday is the first day of the week?
[22:56:13] <velix> In Europe it's the last day of the week :D
[22:56:24] <earnestly> A month of weechat uses about 1 hour of cpu time
[22:56:45] <earnestly> velix: US is monday
[22:56:57] <earnestly> Oh hm
[22:57:14] <earnestly> Apparently not, I misread.  Canada and Japan too
[22:57:19] <earendel> your default date format doesn't sort alphabetically.
[22:57:50] <earendel> and whats the am pm thing.
[22:58:01] <earnestly> earendel: That format is iso, without the -'s
[22:58:02] <velix> earnestly: " in the United States, Canada, China, Japan and the Philippines, as well as in South America, Sunday is the first day of the week."
[22:58:12] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Read error: Connection reset by peer)
[22:58:18] <earendel> iso sorts well.
[22:58:47] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[22:58:47] <earnestly> The format was chosen to be lexicographically sortable, there's a few formats
[22:58:50] <Friithian> just use UNIX time for everything
[22:58:59] <velix> Friithian: not beyond 2038
[22:59:00] <velix> ;)
[22:59:06] <earendel> doesn't work for historical dates.
[22:59:16] <Friithian> uh, I'm pretty sure 64 bit time can last well past 2038
[22:59:55] <earendel> it won't tell u where u have been at that time.
[22:59:55] <Friithian> something like 292 billion year limit on 64 bit time_t
[22:59:56] <emanuele6> that's not unix time
[22:59:57] <earendel> :P
[23:00:02] *** Quits: debsan (~debsan@2800:810:471:2ee::1000) (Ping timeout: 255 seconds)
[23:00:06] <earnestly> I appreciate that netbsd had the guts to just say, fuck it, we're making time_t 64bit, rip your ABI
[23:00:21] <velix> earnestly: can't we just sign it?
[23:00:29] <velix> -1 = 1 sec before 1970
[23:00:33] <velix> etc.
[23:00:37] <earendel> so you can't tell if you already have birthday failing on wishing you well too soon. bad luck.
[23:00:45] <earnestly> velix: Not without breaking ABI
[23:00:47] <twkm> unix time?  as in the result of time()?  that's variable and damn hard to "read".
[23:01:00] <velix> earnestly: Even when the ABI was stupid? ;)
[23:01:18] <Friithian> https://en.wikipedia.org/wiki/Unix_time this unix time
[23:01:18] <earendel> x should be set to 1 once for all.
[23:01:22] *** Quits: Helmholtz1 (Helmholtz@user/helmholtz) (Quit: Leaving)
[23:01:36] <twkm> variable as in some unixen return a double so now you have a string with a radix point in it.
[23:01:38] <earnestly> Whadda mean, chief!?  The entire world depends on the ABI, you can't just go change it like that
[23:01:50] <earnestly> I forget what linux did to fix it
[23:02:12] <Friithian> Linux originally used a 64-bit time_t for 64-bit architectures only; the pure 32-bit ABI was not changed due to backward compatibility.[16] Starting with version 5.6, 64-bit time_t is supported on 32-bit architectures, too. This was done primarily for the sake of embedded Linux systems.[17] 
[23:02:40] <earnestly> Nothing to fix, nice
[23:03:33] <earendel> days are 0.6s longer after china built yangste dam.
[23:03:49] <earendel> patch is coming soon.
[23:03:51] *** Quits: L3 (~L3@user/l3) (Quit: o/)
[23:06:20] *** Quits: Starmina (~Starmina@212.170.25.93.rev.sfr.net) (Ping timeout: 255 seconds)
[23:06:58] *** Joins: Starmina (~Starmina@194.110.113.25)
[23:08:59] *** Joins: debsan (~debsan@2800:810:471:2ee::1000)
[23:09:13] *** Quits: EnNa (~steve@public-gprs229793.centertel.pl) (Quit: WeeChat 3.2)
[23:09:37] *** Quits: ztx (~ztx@212.96.201.208) (Quit: WeeChat 3.2)
[23:11:07] *** Joins: patiencezero (~vespeneGa@user/patiencezero)
[23:11:42] *** Quits: jaamro (6174bb9b@user/ormaaj) (Quit: https://mibbit.com Online IRC Client)
[23:12:57] *** Joins: Crassus (~Crassus@user/crassus)
[23:13:10] *** Quits: Crassus (~Crassus@user/crassus) (Client Quit)
[23:19:25] *** Joins: Alex123 (~Adium@2603-8000-f640-d482-d9ff-74ad-97b1-c6c8.res6.spectrum.com)
[23:21:30] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[23:23:36] *** Joins: furrymcgee (~devuan@31.179.186.66)
[23:24:39] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[23:25:08] <xD-> really?
[23:25:09] <xD-> xD
[23:30:09] *** Joins: andril (~andril@2601:586:8400:113:f85d:b935:8ae0:12e1)
[23:30:50] *** Quits: LuKaRo (~LuKaRo@p200300dfa714f1881c4e96891ae58782.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[23:31:18] *** Quits: almarwazi (~almarwazi@49.36.191.60) (Quit: Lost terminal)
[23:33:19] *** Joins: LuKaRo (~LuKaRo@p57b15425.dip0.t-ipconnect.de)
[23:34:32] *** Quits: cronolio (~alex@user/cronolio) (Ping timeout: 272 seconds)
[23:35:20] *** Joins: cronolio (~alex@user/cronolio)
[23:37:32] *** Quits: Starmina (~Starmina@194.110.113.25) (Quit: Bye)
[23:38:29] <emanuele6> xD-
[23:38:37] *** Joins: nickjj (~nickjj@user/nickjj)
[23:38:52] *** Quits: darkxploit (~jay@32.209.19.50) (Quit: darkxploit)
[23:41:18] <nickjj> this is a tricky one to explain but does anyone know how to implement the non-working few lines of code in this gist? https://gist.github.com/nickjj/cf1633447b3a0d56349b2a75b7094e0a , it's around dynamically creating a variable that ends up being the name of an env variable that was sourced , i know the gist doesn't work but that's the basic idea of what i'm trying to get working in bash 3.x
[23:41:51] *** Joins: Starmina (~Starmina@194.110.113.25)
[23:42:32] <twkm> ewww, macos.
[23:43:03] <nickjj> yep i'm running linux but the script needs to work on macos
[23:44:09] <twkm> you might be surprised when zsh is used instead of bash.  anyway, creating a variable probably means eval will be needed.
[23:45:10] <twkm> bash 3.2 has printf -v that can avoid that.
[23:47:04] <nickjj> the funny thing is i don't have a mac to test this on
[23:47:18] <nickjj> but do you know if ${!foo} happens to work on a mac? if so then that might work
[23:48:09] <nickjj> env_prefix="X"; somevar="${X}_IMAGE_NAME"; echo "${!somevar}" --- something like that, it's working here with bash 4
[23:48:30] <twkm> it is simple to get bash 3.2 to test with.
[23:48:42] <nickjj> oops, meant to put somevar="${env_prefix}_" instead of hard coding X there
[23:48:46] <twkm> 3# x=PATH ; echo ${!x}
[23:48:47] <shbot> twkm: /usr/bin:/bin
[23:49:33] <twkm> how you make your x doesn't matter.  fixed string, composed string, whatever.
[23:50:27] <nickjj> thanks, looks like it should work then
[23:50:28] <twkm> 3# env_prefix="X" X_IMAGE_NAME=works; somevar="${env_prefix}_IMAGE_NAME"; echo "${!somevar}"
[23:50:50] <twkm> hmm, shbot went to sleep.
[23:51:20] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[23:51:21] <twkm> $ env_prefix="X" X_IMAGE_NAME=works; somevar="${env_prefix}_IMAGE_NAME"; echo "${!somevar}"
[23:51:25] <twkm> works
[23:51:25] *** Joins: ooldirty (~ooldirty@ec2-18-224-204-126.us-east-2.compute.amazonaws.com)
[23:51:41] <twkm> that's 3.2, same as macos.
[23:51:41] <nickjj> could probably spin up a docker container with bash 3.2 as well
[23:51:49] <nickjj> awesome, thanks
[23:51:50] *** Quits: gloomy (~ldorigo@host-87-6-23-121.retail.telecomitalia.it) (Ping timeout: 252 seconds)
[23:51:55] <twkm> lots of ways, yes.
[23:53:13] <shbot> twkm: works
[23:53:22] <twkm> hahahaha.
[23:53:41] <nickjj> the bot is hosted on mars right?
[23:53:49] <twkm> apparently.
[23:55:03] <twkm> the response prior to that was slow, though not that slow.  i presume it means the vm wasn't given much runtime.
[23:57:17] *** Joins: Starmina_ (~Starmina@212.170.25.93.rev.sfr.net)
[23:57:20] *** Quits: Starmina (~Starmina@194.110.113.25) (Ping timeout: 258 seconds)
[23:57:29] *** Starmina_ is now known as Starmina
[23:58:13] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[23:58:43] <justsomeguy> I wonder if it makes sense to get a list of the variable names using a diff of "compgen -v" commands, run before and after sourcing the .env file from a subshell. Then you could use that list of names to do somethign similar to ''printf -v "$prefix_${oldnames[$i]}" $oldname''.
[23:58:58] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[23:59:35] *** Joins: joo-_ (~joo-_@jodb.mikjaer.com)
[23:59:47] <justsomeguy> oops... I pressed enter too soon.
