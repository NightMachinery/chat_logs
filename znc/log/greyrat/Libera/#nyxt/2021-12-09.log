[00:00:27] <lagash> Oh wow! Apparently emacspeak project is trying to speech-enable Nyxt! https://mail.emacspeak.org/hyperkitty/list/emacspeak@emacspeak.org/thread/NQ5NSRQFK5AYFVFBZTUSJLSWGNRR4Z2R/
[00:00:52] <lagash> drakonis: what JS library? perhaps it's in a submodule?
[00:01:21] <lagash> https://github.com/tvraman/emacspeak/tree/master/nyxttalk
[00:01:45] <drakonis> it was a js file
[00:02:32] <aartaka> drakonis: The JS library you're talking about is most probably Ace text editor. It's part of nx-ace extension, though :)
[00:02:40] <drakonis> ah
[00:02:42] <drakonis> i see
[00:02:50] <drakonis> that's the one.
[00:03:55] <drakonis> it's clearly not going to be used going forward, right?
[00:04:42] <jmercouris> yes, that is why it is not in mainline
[00:05:04] <drakonis> good.
[00:05:04] <jmercouris> drakonis: well, it's not actually the Nyxt browser, it's just Nyxt
[00:05:16] <jmercouris> we put the word "browser" at the end to clarify the common intnet
[00:05:21] <jmercouris> s/intnet/intent
[00:05:25] <jmercouris> like how people say the "Emacs editor"
[00:05:25] <drakonis> i see
[00:05:38] <drakonis> no webkit for the editor, right?
[00:05:43] <drakonis> only for web?
[00:05:50] <jmercouris> Well, probably actually webkit
[00:05:55] <jmercouris> it is our buffer concept
[00:06:08] <jmercouris> it's just a visualization of a data structure
[00:06:18] <jmercouris> the data structure is in fact a buffer...
[00:06:35] <drakonis> right
[00:10:14] <drakonis> either way, using nyxt to edit common lisp is an ongoing goal for 2022, yeah?
[00:12:47] <drakonis> having a great editing experience without needing an ungodly amount of extensions would be very great
[00:14:52] <drakonis> still very stoked to use it as my new editor
[00:14:57] <drakonis> heck, even stick an irc client in it
[00:15:37] <drakonis> jmercouris: is there any plans to resume developing the common lisp web engine?
[00:17:52] <mariari> jmercouris: is it helpful if nyxt crashes and leaves behind a file like  default-tmp319UV2V8.lisp
[00:19:34] *** Joins: tekakutli (~user@201.141.24.66)
[00:20:29] <lagash> drakonis: have you tried Lem yet?
[00:20:45] <drakonis> i have it installed but i haven't figured out how to make the most of it
[00:21:48] <jmercouris> mariari: I'm not sure I understand the question
[00:21:56] <drakonis> if i enter lem directly in the repl, i get working completion and all that
[00:21:57] <jmercouris> drakonis: and yes, that is a goal
[00:22:04] <mariari> jmercouris: nyxt seems to crash and leave behind a temp file after crashing
[00:22:12] <drakonis> but if i try to do it normally, it does not do that
[00:22:15] <jmercouris> mariari: that's odd, perhaps Pierre added that, and I don't know :-D
[00:22:16] <mariari> as if it died mid writing out a temporary file?
[00:22:24] <mariari> not sure if it's due to me maybe starting up nyxt again
[00:22:27] <mariari> let me check 1 sec
[00:22:49] <mariari> yeah it seems to be generated on crash
[00:22:52] <mariari> it's 0 bytes long
[00:23:03] <mariari> jmercouris: I've gotten other crashes where I just type in the minibuffer and it just dies hard
[00:23:45] <mariari> also did the back issue get fixed?
[00:23:56] <jmercouris> mariari: hitting back multiple times quickly?
[00:23:59] <mariari> I seem to not have to refresh the page
[00:24:01] <jmercouris> or what exactly?
[00:24:10] <mariari> yeah the one where you hit back and it says error could not load
[00:24:12] <jmercouris> ah yes
[00:24:14] <drakonis> jmercouris: reviving closure is planned as well, yeah?
[00:24:15] <jmercouris> that has gotten fixed
[00:24:21] <jmercouris> drakonis: yes, but that is years from now
[00:24:24] <drakonis> oh
[00:24:25] <mariari> yeah I figured it may have triggered a new error jmercouris well a warning
[00:24:26] <drakonis> wonderful
[00:24:29] <mariari> that can cause nyxt to freeze?
[00:24:29] <drakonis> that is very good to hear
[00:24:33] <jmercouris> I don't anticipate having a usable version of closure for at least 5-10 years
[00:24:44] <jmercouris> we'll need many millions...
[00:24:56] <drakonis> damn
[00:24:56] <jmercouris> actually, my ultimate dream is a LispOS
[00:25:03] <lagash> This thing? https://common-lisp.net/project/closure/
[00:25:09] <mariari> https://ghostbin.lain.la/paste/qrr25 jmercouris I've noticed this when I do a !g search in the minibuffer
[00:25:09] <jmercouris> well, don't think we won't get there, we are already the most popular Lisp project
[00:25:24] <jmercouris> many people thought we would have failed many times already
[00:25:32] <drakonis> most popular lisp project eh?
[00:25:32] <jmercouris> I believe our team is quite dedicated and professional
[00:25:44] <jmercouris> drakonis: unless you count Emacs
[00:25:46] <drakonis> gonna revive common lisp for the masses eh?
[00:25:51] <jmercouris> yes
[00:25:57] <jmercouris> I am actually going to do it
[00:26:10] <drakonis> to be fair, emacs is a lisp embedded inside an editor
[00:26:32] <drakonis> plus a variety of limitations due to design, age and backwards compatibility
[00:26:37] <jmercouris> indeed
[00:26:38] <jmercouris> hence our article
[00:26:46] <jmercouris> it all starts with a dream
[00:26:48] <drakonis> i'm learning common lisp because i felt like picking it up
[00:27:14] <jmercouris> mariari: I'm not certain how that is even possible, maybe there is a lock on the slot or something from another thread
[00:27:35] <mariari> huh odd. I've only noticed it from a !g search in ddg
[00:27:43] <mariari> but I've found nyxt may freeze due to this
[00:27:50] <Kabouik> Oh I know this issue mariari: https://0x0.st/-FKR.png
[00:27:52] <mariari> the repl works, but I can't get any command like spawning a window to work
[00:27:54] <drakonis> a lisp OS is a pretty big task but it seems like it'd be fun
[00:28:00] <jmercouris> yes indeed
[00:28:08] <mariari> yeah Kabouik every time you open an url it seems to generate a tmp file
[00:28:11] <drakonis> mezzano is cool
[00:28:15] <mariari> but if it crashes mid doing it, it keeps it around
[00:28:19] <jmercouris> Kabouik: did you see the new theme support?
[00:28:23] <jmercouris> it is much simpler now to write a theme
[00:28:27] <mariari> but it might be a clue on when nyxt crashes
[00:28:28] <jmercouris> you can still do things the old way of course
[00:28:45] <jmercouris> mariari: yes I see now what you are talking about
[00:28:46] <Kabouik> Not yet jmercouris, but that's great to hear. I won't have time to play with it until the end of the year though
[00:28:56] <jmercouris> this is a way to save the history in case of catastrophic failure yes
[00:29:00] <jmercouris> we write only when we are certain
[00:29:02] <drakonis> it seems to be trudging along
[00:29:11] <Kabouik> Great to hear that the new theming is backwards compatible with the old config edits too
[00:29:20] <jmercouris> drakonis: yes, but not that fast, again, to realistically make a new OS, I think we would need at least 50 million...
[00:29:26] <jmercouris> but these numbers are so far beyond my comprehension
[00:29:31] <jmercouris> I can't even imagine if I am off by magnitudes
[00:29:44] <jmercouris> Kabouik: yes, aartaka did a great job with it
[00:29:55] <drakonis> first conquer the editor world
[00:30:23] <Kabouik> One thing I noticed recently is the history-backwards http errors have been fixed (at least partly, I think I still experience it sometimes); that's great already
[00:30:27] <jmercouris> Kabouik: in case you are bored while pooping or something: https://github.com/atlas-engineer/nyxt/pull/1889
[00:30:36] <jmercouris> Kabouik: indeed, they have been
[00:31:23] <Kabouik> Now the minor annoyances I still see are the lack of text edit history (c-z/c-y in regular browsers), no cut text, no double-click to select word or triple click to select line. I think I did open an issue about that some months ago (but I mean no pressure, just chatting)
[00:31:40] <jmercouris> :-)
[00:32:11] <Kabouik> I don't do such things jmercouris, but I'll check it while painting or gardening for sure
[00:32:42] <jmercouris> You are like my girlfriend then, she claims she doesn't poop either :-D
[00:32:50] <jmercouris> she is absolutely adamant about it...
[00:33:10] <Kabouik> I was born without the gross organs.
[00:33:19] <jmercouris> lmao :-D
[00:35:17] <aartaka> mariari: The temp file is generated as an intermefiate step while creating a new verdion of history file. It does indeed happen at every request. It should be deleted automatically. In case of crashes this auto-deletion doesn't happen. Feel free to delete this file yourself, if it's there — the correct information is in original file (default.lisp or whatever you have).
[00:35:29] <aartaka> *intermediate
[00:35:37] <aartaka> *version
[00:35:57] <mariari> yeah
[00:36:06] <mariari> I'm just curious if that info is useful to knowing when nyxt crashes
[00:36:08] <aartaka> Sausage fingers (-_-;)
[00:36:18] <mariari> what phase of the new buffer function does it decide to collapse and segfault
[00:36:39] <mariari> there are a few times when I notice nyxt crash on me. Namely when I type into the minibuffer, when I open up a new buffer
[00:36:41] <mariari> are the two big ones
[00:36:54] <aartaka> mariari: No, it's just a history storage artifact, it's totally independent from buffer creation and is done on a separate thread.
[00:37:24] <mariari> shame, It would be good to know why nyxt is dying. Lately I've been getting two classes of crashes
[00:37:39] <mariari> SBCL tries to allocate but can't (why?) crashes, and webkit segfaults
[00:38:38] <jmercouris> sometimes SBCL allocates on the behalf of C Code
[00:38:39] <mariari> the heap crashes tend to look like https://ghostbin.lain.la/paste/33uaq and have useful information
[00:38:45] <aartaka> Hmmmm, maybe we should start SBCL with more --dynamic-space-size jmercouris?
[00:38:54] <jmercouris> aartaka: It is one option, yes
[00:38:58] <mariari> there are actually stack traces for this in the ghostbin
[00:39:02] <jmercouris> It is one I have considered
[00:39:10] <mariari> this is a newer type, I'm used to the other kind
[00:39:52] <mariari> https://ghostbin.lain.la/paste/dmway
[00:40:13] <jmercouris> ah
[00:40:17] <jmercouris> why does the C language exist
[00:40:26] <jmercouris> sorry, I'm just ranting
[00:40:39] <jmercouris> because these types of errors are frequently WebKitGTK+ and WebKit's fault
[00:40:45] <mariari> yeah
[00:40:51] <mariari> the first kind or the second?
[00:40:51] <jmercouris> Well, let's not say their fault
[00:40:55] <jmercouris> but the fault of their interface
[00:40:56] <jmercouris> the second
[00:40:58] <aartaka> mariari: Oh, that's interesting. Seems like history storage process takes up too much memory 0_o
[00:41:17] <mariari> aartaka: I have multiple crashes with that
[00:41:20] <aartaka> mariari: How big is your history?
[00:41:32] <jmercouris> I'm going to guess larger than Pierre's
[00:41:36] <mariari> the main crash is
[00:41:38] <mariari> Memory fault at (nil) (pc=0x7f85f1bb7b5a, fp=0x7f85d42a9390, sp=0x7f85e4e35d20) tid 968000
[00:41:47] <mariari> it is only 14.3 MB jmercouris
[00:41:59] <jmercouris> Aha, so we just need to jump into the PC and see what is the assembly at that point
[00:42:21] <jmercouris> by see I mean program counter of course
[00:42:22] <mariari> yeah it's just annoying this happens often jmercouris I'll tell you the most often times
[00:42:32] <mariari> namely when 1. typing into the mini buffer (yes not even pressing enter). 2. opening a new url
[00:42:34] <jmercouris> mariari: I understand that can be annoying :-(
[00:42:42] <mariari> nyxt crahses very often for me, multiple times a day
[00:42:45] <jmercouris> it makes sense though that the errors would be triggered then
[00:42:51] <mariari> sometimes it loses cookies and I get annoyed as well but w/e
[00:42:54] <jmercouris> perhaps our tree is not efficient enough
[00:44:08] <mariari> but yeah sometimes it doesn't even happen upon a new buffer I have this as well
[00:44:13] <aartaka> jmercouris: It's not the tree, it's the serialization algorithm. Perhaps it tries to write everything at once and exhausts the memory. Writing in batches should eork better here.
[00:44:23] <mariari> https://ghostbin.lain.la/paste/6dgwz
[00:44:45] <mariari> in this case I think I was scrolling on the page after copying it
[00:46:15] <mariari> but yeah jmercouris if there is a way to have these give stack traces before dying I think the amount of segfaults I get could be helpful
[00:46:33] <mariari> as maybe we can deduce what is the faulty way of the webkit itself
[00:49:02] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 265 seconds)
[00:49:09] *** Quits: tekakutli (~user@201.141.24.66) (Remote host closed the connection)
[00:50:08] <mariari> jmercouris: want to see another heap bust it has completely different functions?
[00:50:55] <mariari> https://ghostbin.lain.la/paste/xhu84
[00:51:01] <mariari> this one seems to be dying on a print
[00:51:45] <mariari> yeah this one has actual adresses so a different kind of heap exhasution?
[00:52:52] <mariari> https://ghostbin.lain.la/paste/83eze this one also is a different spot
[00:54:00] <mariari> so jmercouris I'm not sure if it's the history tree per say
[00:55:33] <mariari> seems I have 2 heap exhaustions from serialization? https://ghostbin.lain.la/paste/qa9c3
[00:58:59] <mariari> the interesting thing to note is how little these allocations are
[00:59:08] <mariari> 64 bytes 128 bytes, etc.
[01:02:26] *** Joins: tekakutli (~user@201.141.24.66)
[01:06:37] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[01:10:26] <mariari> aartaka: you may have missed it, but I've posted 3 more heap exhasution examples the 3 are not from serialization of history
[01:12:47] <aartaka> mariari: Yes, I did miss that. I'm not going to be really helpful, though — I'm trying to fall asleep with ideas of Nyxt improvements making me grab my phone and jot notes for tomorrow xD
[01:13:17] <mariari> Have a nice night sleep
[01:13:38] <aartaka> mariari: Thanks!
[01:18:03] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 252 seconds)
[01:55:59] *** Joins: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4)
[02:10:21] <waleee> finally, the fiber-provider fixed their ground frost cracked cables
[02:10:46] <waleee> ("only" 30+ hours downtime)
[02:17:25] *** Quits: taiju (~taiju@M014013236064.v4.enabler.ne.jp) (Ping timeout: 240 seconds)
[02:17:46] *** Joins: taiju (~taiju@M014013236064.v4.enabler.ne.jp)
[02:41:39] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 265 seconds)
[02:42:03] *** Joins: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se)
[02:45:43] <jmercouris> Lol
[02:45:50] <jmercouris> A mere 30 hours
[02:45:54] <jmercouris> No big deal right
[02:46:06] <jmercouris> waleee: I think you are sleeping on the same time zone as me
[02:48:17] <waleee> jmercouris: on this occasion it's because I noticed the flashing green light instead of the pesky red one on the router when I walked by it :)
[02:48:49] <jmercouris> Ah yes
[02:48:51] <jmercouris> Ah yes
[02:48:51] <jmercouris> The green light of hope
[02:48:52] <jmercouris> The green light of hope
[02:51:31] <waleee> the true green lantern
[03:09:08] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[03:09:45] *** Quits: sp1ff`` (~user@c-73-189-25-64.hsd1.ca.comcast.net) (Remote host closed the connection)
[03:24:34] *** Joins: karthik (~karthik@user/karthik)
[03:24:58] *** Quits: taiju (~taiju@M014013236064.v4.enabler.ne.jp) (Ping timeout: 256 seconds)
[03:57:25] *** Joins: taiju (~taiju@M014013236064.v4.enabler.ne.jp)
[03:58:37] *** Quits: tekakutli (~user@201.141.24.66) (Read error: Connection reset by peer)
[04:20:44] *** Joins: tekakutli (~user@201.141.24.66)
[04:22:24] *** Quits: tekakutli (~user@201.141.24.66) (Remote host closed the connection)
[06:57:37] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[10:42:09] *** Quits: ar1su (~arisu@gateway/tor-sasl/kitty) (Ping timeout: 276 seconds)
[10:47:34] *** Joins: ar1su (~arisu@gateway/tor-sasl/kitty)
[11:00:30] *** Joins: tekakutli (~user@201.141.24.66)
[11:03:59] *** Quits: pjb (~pjb@user/pjb) (Ping timeout: 252 seconds)
[11:04:44] *** Quits: lagash (lagash@lagash.shelltalk.net) (Quit: ZNC - https://znc.in)
[11:06:09] *** Joins: lagash (lagash@lagash.shelltalk.net)
[11:06:12] *** Quits: ano (~ano@user/ano) (Ping timeout: 276 seconds)
[11:06:53] *** Joins: ano (~ano@user/ano)
[13:38:12] *** Joins: mrvdb (~mrvdb@2001:19f0:5000:8582:5400:ff:fe07:3df5)
[13:55:06] *** Quits: Plazma (~Plazma@user/plazma) (Ping timeout: 256 seconds)
[15:13:42] *** Joins: pjb (~pjb@user/pjb)
[16:44:26] *** Quits: chaihron (~chaihron@80-110-134-207.static.upcbusiness.at) (Ping timeout: 252 seconds)
[16:45:31] <edgarvincent[m]> The caption that reads "Leónidas en las Termópilas, por Jacques-Louis David, 1814" in https://nyxt.atlas.engineer/article/why-building-nyxt-instead-of-an-emacs-package.org should be translated to English.
[16:53:34] *** Joins: Plazma (~Plazma@user/plazma)
[17:19:54] *** Joins: chaihron (~chaihron@cpe90-146-210-186.liwest.at)
[17:22:44] *** Joins: chaihron_ (~chaihron@cpe90-146-210-186.liwest.at)
[17:25:54] *** Quits: chaihron (~chaihron@cpe90-146-210-186.liwest.at) (Ping timeout: 256 seconds)
[17:42:52] *** Joins: tekakutl` (~user@201.141.24.66)
[17:50:19] *** Quits: chaihron_ (~chaihron@cpe90-146-210-186.liwest.at) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[17:53:47] *** Joins: chaihron (~chaihron@cpe90-146-210-186.liwest.at)
[18:05:49] *** Quits: tekakutli (~user@201.141.24.66) (Remote host closed the connection)
[18:05:52] *** Quits: tekakutl` (~user@201.141.24.66) (Remote host closed the connection)
[18:07:07] *** Joins: tekakutli (~user@201.141.24.66)
[18:44:43] *** Quits: taiju (~taiju@M014013236064.v4.enabler.ne.jp) (Read error: Connection reset by peer)
[18:45:30] *** Joins: taiju (~taiju@240b:253:ec40:2400:651e:f83b:5890:99a6)
[18:46:49] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[19:07:25] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 240 seconds)
[19:26:47] *** Joins: aartaka (~aartaka@176.59.202.162)
[19:27:19] *** Quits: aartaka (~aartaka@176.59.202.162) (Read error: Connection reset by peer)
[19:27:34] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[19:34:43] *** Quits: aartaka (aartaka@gateway/vpn/protonvpn/aartaka) (Ping timeout: 265 seconds)
[19:38:23] *** Joins: aartaka (aartaka@gateway/vpn/protonvpn/aartaka)
[20:23:49] *** Quits: tekakutli (~user@201.141.24.66) (Remote host closed the connection)
[20:35:35] *** Parts: pranavats (3fba1d1b34@2a00:c70:1:178:170:40:189:1) (Error from remote client)
[20:38:07] *** Joins: pranavats (3fba1d1b34@2a00:c70:1:178:170:40:189:1)
[20:54:40] <jmercouris> Yes indeed edgarvincent[m]
[20:54:47] <jmercouris> I actually translated it to French
[20:54:53] *** Quits: waleee (~waleee@h-98-128-229-110.NA.cust.bahnhof.se) (Quit: WeeChat 3.3)
[20:55:06] <jmercouris> I didn’t even realize it was in a foreign language
[20:55:12] <jmercouris> My mind just read it for what it was
[20:55:38] <jmercouris> Anyways it should be in English
[20:55:44] <jmercouris> But I prefer it in French
[20:55:50] <jmercouris> Since the painter is French and that is cool
[20:55:59] <jmercouris> I will push the French version soon
[20:57:23] *** Joins: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4)
[21:14:01] <pjb>  "Leónidas en las Termópilas, por Jacques-Louis David, 1814"  is Spanish, not French.
[21:14:49] <pjb>  "Leonidas aux Thermopyles, par Jacques-Louis David, 1814" would be French.
[21:45:06] <edgarvincent[m]> "de Jacques-Louis David", rather
[21:46:25] <edgarvincent[m]> and "Léonidas" with an accent
[21:49:54] *** Quits: chaihron (~chaihron@cpe90-146-210-186.liwest.at) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[21:53:55] *** Joins: chaihron (~chaihron@cpe90-146-210-186.liwest.at)
[22:06:36] *** Joins: sp1ff (~user@c-73-189-25-64.hsd1.ca.comcast.net)
[22:24:43] *** Joins: oats (~thomas@user/oats)
[22:45:29] *** Quits: chaihron (~chaihron@cpe90-146-210-186.liwest.at) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[23:05:17] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[23:36:22] <pjb> (incf edgarvincent[m] *french-score*)
[23:53:43] <jmercouris> Refresh le article pour le francois version
[23:54:34] <edgarvincent[m]> Very good.
[23:55:00] <waleee> the whole academie francaise spinning so fast in their chairs that France can turn off a reactor at that refresh
[23:55:02] <waleee> :P
[23:56:23] <edgarvincent[m]> I'm glad ^^
