[00:01:10] *** Quits: lazzurs8 (~lazzurs@user/lazzurs) (Quit: The Lounge - https://thelounge.chat)
[00:03:27] *** Quits: stdout (~stdout@2605:ab80:b000:7202:3e12:af82:936c:2ff6) (Quit: Leaving)
[00:03:40] *** Joins: lazzurs8 (~lazzurs@user/lazzurs)
[00:04:40] *** Quits: alex_c (~amcollie@204.236.67.52) (Ping timeout: 268 seconds)
[00:32:37] *** Joins: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it)
[00:33:56] *** Quits: Thanatos (~Thanatos@105.112.181.16) (Remote host closed the connection)
[00:34:16] *** Joins: Thanatos (~Thanatos@105.112.181.16)
[00:43:17] *** Quits: lucas_ (~lucascast@192-140-51-187.static.oncabo.net.br) (Ping timeout: 240 seconds)
[00:43:47] *** Quits: dor (~erg@78.11.12.207) (Remote host closed the connection)
[00:58:52] *** Joins: zBeeble42 (~zBeeble@repeat.dclg.ca)
[00:59:06] *** Joins: PantelicGR (~PantelicG@user/pantelicgr)
[01:00:14] *** Quits: zBeeble (~zBeeble@2001:1928:1::35) (Ping timeout: 260 seconds)
[01:08:54] *** Quits: vdamewood (~vdamewood@fedora/vdamewood) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:09:02] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[01:09:44] *** Quits: slav0nic (slav0nic@python.su) (Remote host closed the connection)
[01:11:07] *** Joins: fikran (~fikran@user/fikran)
[01:15:43] *** Quits: zBeeble42 (~zBeeble@repeat.dclg.ca) (Remote host closed the connection)
[01:17:15] *** Joins: zBeeble42 (~zBeeble@repeat.dclg.ca)
[01:24:48] *** Joins: twomanytacos (uid366386@id-366386.lymington.irccloud.com)
[01:28:46] *** Quits: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:37:46] *** Quits: Thanatos (~Thanatos@105.112.181.16) (Read error: Connection reset by peer)
[01:45:35] <hansol> guys
[01:45:53] <hansol> when i leave  putty terminal opened with jango started
[01:46:06] <hansol> its get oout after about 5-10 mins
[01:46:15] <hansol> from terminal and jdango stoppet
[01:53:23] *** Joins: Thanatos (~Thanatos@197.210.28.47)
[01:56:26] <nbjoerg> hansol: use something like putty if you want to run the debug server
[02:01:49] *** Joins: alex_c (~amcollie@204.236.67.52)
[02:04:49] <dlam> learn 'tmux' ok hansol
[02:05:32] <dlam> ...leaves your session open/alive on remote box even if you exit ssh session
[02:11:21] <nbjoerg> yeah, meant that, sorry :)
[02:11:34] <nbjoerg> that said, you don't want to use "runserver" or so in production
[02:13:28] *** Quits: blackleitus (~blackleit@189.195.195.100) (Quit: Leaving)
[02:21:29] <FunkyBob> no, absolutely not...
[02:21:43] <FunkyBob> nbjoerg: fortuunately, there's a section in the docs on how to make a proper production deploy
[02:21:57] <FunkyBob> these days the most populat solution uses nginx and gunicorn
[02:26:11] *** Joins: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it)
[02:35:25] *** Quits: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:46:51] *** Quits: pmb (~pmb@89-64-79-51.dynamic.chello.pl) (Quit: pmb)
[02:56:17] *** Quits: Ilyu (~quassel@166.215.82.79.rev.sfr.net) (Ping timeout: 240 seconds)
[02:57:03] *** Joins: Ilyu (~quassel@gateway/vpn/pia/ilyu)
[03:02:09] <nbjoerg> I'm happy with nginx and uwsgi
[03:02:21] <nbjoerg> but I have to support customers with apache and uwsgi too
[03:09:00] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[03:15:36] *** Joins: yanchai (~yanchai@115.147.17.121)
[03:18:26] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[03:18:51] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 256 seconds)
[03:20:28] *** Joins: fikran (~fikran@user/fikran)
[03:28:25] *** Joins: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net)
[03:32:57] *** Quits: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net) (Ping timeout: 240 seconds)
[03:39:39] *** Quits: cmbengue (~Thunderbi@207.191.249.160) (Quit: Thanks, see you later.)
[03:41:11] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[03:46:28] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[03:47:38] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[03:51:20] <FunkyBob> nbjoerg: nginx/uwsgi is a solid choice, indeed.
[03:58:21] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[04:01:46] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[04:02:32] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[04:02:47] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[04:02:48] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[04:14:05] *** Parts: yanchai (~yanchai@115.147.17.121) ()
[04:41:05] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[04:42:17] *** Quits: alex_c (~amcollie@204.236.67.52) (Ping timeout: 240 seconds)
[04:44:41] *** Joins: dre (~dre@2001:8003:c932:c301:8304:d78a:deb9:dfd1)
[04:46:41] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 256 seconds)
[04:58:27] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[05:02:21] *** Joins: cmbengue (~Thunderbi@207.191.249.160)
[05:17:22] *** Quits: slavfox (~slavfox@93.158.232.111) (Ping timeout: 260 seconds)
[05:18:56] *** Joins: slavfox (~slavfox@93.158.232.111)
[05:21:49] *** Quits: PantelicGR (~PantelicG@user/pantelicgr) (Quit: Leaving)
[05:23:24] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[05:27:37] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[05:29:49] *** Joins: fikran (~fikran@user/fikran)
[05:36:35] *** Quits: doc|home (~doc@user/doc) (Remote host closed the connection)
[05:36:49] *** Joins: lucas_ (~lucascast@192-140-51-187.static.oncabo.net.br)
[05:37:01] *** Joins: doc (~doc@user/doc)
[05:37:03] *** Quits: Thanatos (~Thanatos@197.210.28.47) (Read error: Connection reset by peer)
[05:38:33] *** Joins: Thanatos (~Thanatos@102.89.0.190)
[05:39:42] *** Quits: cmbengue (~Thunderbi@207.191.249.160) (Quit: Thanks, see you later.)
[05:41:55] *** Joins: Guest31 (~Guest31@pool-96-253-74-73.rcmdva.fios.verizon.net)
[05:50:00] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[05:52:40] *** Joins: thomasross (~thomasros@dyn-pppoe-142-51-227-74.vianet.ca)
[05:58:25] *** Joins: ThanatosJ (~Thanatos@102.89.0.152)
[06:01:23] *** Quits: Thanatos (~Thanatos@102.89.0.190) (Ping timeout: 250 seconds)
[06:04:10] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[06:04:53] *** Quits: ThanatosJ (~Thanatos@102.89.0.152) (Ping timeout: 256 seconds)
[06:14:49] *** Quits: sreve_ (~quassel@p4ff44d6f.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[06:15:14] *** Joins: sreve (~quassel@p54a70065.dip0.t-ipconnect.de)
[06:15:21] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[06:18:19] <Guest31> Hi I am trying to figure out why I need to do the if statement this way where I need to run the search query twice as opposed to once which is inefficient for performance. https://dpaste.org/tKLD#L11,24
[06:19:52] <nbjoerg> Guest31: in the second case you are still doing the annotate+filter that doesn't match anything
[06:20:27] <nbjoerg> Guest31: did you mean to use query in line 27?
[06:20:36] <nbjoerg> (qs = query.annotate(...) etc)
[06:22:05] <Guest31> hmm so maybe I should instead do not for the if statement
[06:22:20] <Guest31> Yes I wanted to use the line 27 query if the first query doesn't find any results
[06:22:44] <Guest31> if i use 'not' then i wouldn't need the else statement i presume
[06:23:02] <nbjoerg> just use qs = query instead of qs = qs
[06:23:03] <nbjoerg> in line 27
[06:23:35] <Guest31> you mean 25?
[06:24:07] <nbjoerg> no, in the else branch
[06:24:26] <nbjoerg> well, you can do if not and skip the "then" branch, sure
[06:24:35] <nbjoerg> but I don't think that's the real bug in your example
[06:25:06] <Guest31> what do you think the bug is?
[06:27:14] <nbjoerg> please read again what I said
[06:29:22] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[06:30:50] <Guest31> i did read it again and I am confused. I will try to make things a bit clearer with some search terms and examples of what the code does
[06:31:32] <nbjoerg> Guest31: the else branch in your second variant sets: qs = (original query that is empty).(some additional conditions)
[06:31:50] <nbjoerg> Guest31: as opposed to: qs = (base query without filters).(some additional conditions)
[06:34:51] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[06:40:05] <Guest31> the else branch in the second variant is a completely different query though? If I do qs = query then I am losing the vector that annotate has.
[06:40:06] <Guest31> https://dpaste.org/4YuB
[06:40:16] <Guest31> Here is an example with actual search results
[06:40:25] <Guest31> Basically I want to match as many results as possible
[06:41:10] <nbjoerg> try to understand what query you are actually using
[06:41:35] <Guest31> qs = qs.annotate(search=vector).filter(search=query) is the main one but if that returns no results then use the trigram one
[06:41:36] <nbjoerg> I don't see how I can be more explicit in telling you what is going wrong...
[06:41:56] <nbjoerg> you are *reusing* that query
[06:42:01] <nbjoerg> and further restricting it
[06:42:25] <Guest31> ooh now i think i understand
[06:43:07] <Guest31> it actually means qs.qs.annotate(search=vector).filter(search=query).annotate(similarity=TrigramSimilarity...
[06:43:21] <nbjoerg> without one qs., but yes
[06:43:32] <Guest31> dang
[06:46:27] <Guest31> well another thing is the qs = super() line
[06:46:42] <Guest31> I need to say qs though which refers to Model.objects() ?
[06:47:38] <nbjoerg> assuming you want to allow someone to specifiy a restricted subset as default
[06:48:05] <nbjoerg> I'm not sure what the context for this is, e.g. the form use might be fishy
[06:48:24] <Guest31> search text box
[06:48:47] <nbjoerg> going back to the original paste, you want to introduce a new variable and use that
[06:49:05] <nbjoerg> e.g. qs2 = qs.annotate(...); if not qs2.exists(): qs2 = ...
[06:50:24] <Guest31> yes but at the end I want to return qs though. Because I have other self.request.GET.get's for filters
[06:50:52] <nbjoerg> so do a qs = qs2 after that block
[06:51:09] <Guest31> ok
[06:55:37] *** Quits: Mortician (~Mortician@cpe-75-83-83-8.socal.res.rr.com) (Quit: Leaving)
[06:56:35] <Guest31> ok thank you that seems to work the same way
[06:56:59] <Guest31> as my original but it seems to be better because i am not running the query twice
[06:57:19] <nbjoerg> well
[06:57:23] <nbjoerg> querysets are lazy
[06:57:58] <Guest31> ok and is that good or bad and what does that imply then?
[06:58:05] <nbjoerg> strictly speaking, you might be better of not using exists() and just do a plain "if qs2"
[06:58:13] <Guest31> true
[06:58:29] <nbjoerg> because if you don't do any further filtering or so, the exists() does a second query
[06:58:42] <Guest31> ah good catch
[06:58:45] <nbjoerg> where as checking with if will do the query once and then cache the result
[06:59:01] <Guest31> yes
[06:59:31] <nbjoerg> so depending on how many results you expect and if you plan to do further processing:
[06:59:42] <nbjoerg> (1) run the non-annotated filter with exists
[06:59:56] <nbjoerg> (2) just evaluate the query set without exists
[07:00:02] <nbjoerg> those are likely the best options
[07:00:18] <nbjoerg> if you can avoid the search annotation
[07:00:34] <Guest31> ok cool ty and another question i have is it dangerous to do the 2 trigram similarity with the + sign on 2 different rows in the database table?
[07:00:43] *** Joins: blackleitus (~blackleit@189.195.195.100)
[07:00:48] <nbjoerg> I have no idea
[07:00:58] <Guest31> ok no worries
[07:01:22] <nbjoerg> have you looked into using fts, btw?
[07:01:37] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[07:01:40] <Guest31> that is what i am doing now full text search
[07:01:40] *** Joins: audiobirb (~audio@user/audio)
[07:01:51] <Guest31> unless i am wrong this is not fts?
[07:02:01] <nbjoerg> ah, sorry. never used the django frontend for it
[07:02:11] <Guest31> oh you used postgres only?
[07:02:41] <blackleitus> how would you handle global utils or shared libs such as exceptions.py , mail.py , throttling ( maybe not so global can be done via app ) , middleware , etc ? can it be done inside (core) or inside application?
[07:03:00] <nbjoerg> Guest31: hm. I'm not sure why you are doing separate component searching like this, btw
[07:03:24] <Guest31> when you say separate you mean 2 different rows in the db?
[07:03:43] <nbjoerg> but that's clearly beyond what I have used from django in this area
[07:03:49] <Guest31> or 1 form with multiple checkboxes/dropdowns/textboxes to do the searches?
[07:03:54] <pembo13> blackleitus, that's really up to your discretion and style
[07:04:33] <nbjoerg> Guest31: I mean I don't understand the trigram similary search here
[07:04:57] <Guest31> https://docs.djangoproject.com/en/dev/ref/contrib/postgres/search/#trigramsimilarity
[07:05:16] <Guest31> Basically in the example it tries to find other words that are similar
[07:06:11] <Guest31> i should probably use the Words one for django 4 though
[07:06:42] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[07:06:56] <Guest31> because the problem with just search and vector is it doesn't do partial word matching
[07:07:09] <Guest31> with trigram I am able to get a lot of those partial words now
[07:07:21] <Guest31> or words inside of words
[07:07:39] <nbjoerg> I'm asking because you are doing a different kind of search in that case
[07:07:47] <nbjoerg> you search for the words in either name or description
[07:08:06] <nbjoerg> as opposed to the combination of both
[07:08:22] <Guest31> yes for example a cryptocurrency article might have words in the description like bitcoin or ethereum
[07:08:37] <Guest31> and bitcoin/ethereum won't be in the article name
[07:08:56] <Guest31> but it will be in the description
[07:08:58] <nbjoerg> but as I said, not my area of expertise
[07:09:19] <Guest31> no worries i appreciate your help :)
[07:09:28] <Guest31> hopefully you learned something
[07:09:37] <blackleitus> +pembo13, how would you approach this into a real world project?
[07:09:39] <Guest31> now i need to figure out how to do postgres indexes
[07:10:37] <pembo13> blackleitus, if it's specific to the app, I put it in the app. If it's specific to the project I put it there
[07:10:51] <Guest31> what is everyone's recommendation for indexes? https://docs.djangoproject.com/en/4.0/ref/contrib/postgres/indexes/
[07:11:48] <Guest31> and I really should create a field in my database for SearchVectorField huh?
[07:14:13] <Guest31> yes i agree with pembo it depends on your preferences. But the more organization the better. Like my projects/apps are a mess I need to really create an app for a lot of specific things and try to group them together.
[07:16:09] <blackleitus> +pembo13, pretty specific error such as ?
[07:16:32] <blackleitus> we have global errors ,and app error exceptions right
[07:21:11] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[07:26:12] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[07:37:09] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 250 seconds)
[07:39:10] *** Joins: fikran (~fikran@user/fikran)
[07:44:39] *** lazzurs8 is now known as lazzurs
[07:57:44] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[08:00:42] *** Quits: pembo13 (~pembo13@47.196.95.206) (Quit: Leaving)
[08:03:15] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[08:14:32] *** Quits: sreve (~quassel@p54a70065.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[08:14:54] *** Joins: sreve (~quassel@p4ff44fbb.dip0.t-ipconnect.de)
[08:23:23] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[08:28:36] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[08:34:22] <FunkyBob> Guest31: django supports declaring indices in the model Meta...
[08:34:34] <FunkyBob> oh, and I gave a talk some time back on understanding indices in PG...
[08:35:04] <Guest31> good to know funkybob thanks! And yes I started watching that video of yours :)
[08:59:58] *** Quits: Ilyu (~quassel@gateway/vpn/pia/ilyu) (Ping timeout: 260 seconds)
[09:00:42] *** Quits: henbruas (~henbruas@ti0003a400-4203.bb.online.no) (Quit: ZNC 1.8.2 - https://znc.in)
[09:01:02] *** Joins: henbruas (~henbruas@ti0003a400-4203.bb.online.no)
[09:01:24] *** Joins: AugustusCaesar24 (~AugustusC@cpe-104-35-140-216.socal.res.rr.com)
[09:04:36] <AugustusCaesar24> I have a postgresql database and I am making a migration to switch my pk from username to uuid
[09:05:20] <AugustusCaesar24> I already made a data migration file where I add a uuid to every row in my model
[09:06:06] <AugustusCaesar24> it worked fine on sqlite but when I was testing it on postgresql I got an error
[09:06:22] <AugustusCaesar24> the error was              "django.db.utils.ProgrammingError: column "username" is in a primary key"
[09:06:42] <AugustusCaesar24> I am not sure where to begin to debug this thing or what I should even show so we can debug this together
[09:10:55] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[09:16:34] <Guest31> https://docs.djangoproject.com/en/4.0/topics/migrations/#data-migrations
[09:16:52] <Guest31> show us your data migration code and the models code
[09:19:48] <Guest31> a traceback of the error would be nice too
[09:20:51] <Guest31> https://docs.djangoproject.com/en/4.0/howto/writing-migrations/
[09:34:32] <AugustusCaesar24> here is the model, data migration, migration, and stack trace of the error:          https://dpaste.org/benR
[09:37:33] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:46:32] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[09:48:31] *** Joins: fikran (~fikran@user/fikran)
[10:01:44] <Guest31> Not sure but maybe you could instead make a function to copy old data into a new column with migrations.AddField, create the field in the migrations file (configure it just like in your model) then do  migrations.RemoveField on the old data
[10:03:42] <AugustusCaesar24> would it be a bad idea if I go into the database itself and just write raw sql to change the pk?
[10:04:04] <Guest31> Here is an example of this method with allauth even though I do not use allauth https://dpaste.org/jbgW
[10:04:38] <Guest31> I mean you could do that too I guess just be careful
[10:04:44] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) (Remote host closed the connection)
[10:10:06] <Guest31> https://stackoverflow.com/questions/69211918/django-postgres-uuid
[10:11:31] <Guest31> interesting how that answer seemed to have needed to migrate a couple of times by editing the models
[10:12:27] <AugustusCaesar24> yeah I think I saw something like that on django docs as well on uuid and they wanted a few migrations too
[10:12:34] <AugustusCaesar24> which made no sense to me
[10:14:11] <AugustusCaesar24> https://docs.djangoproject.com/en/4.0/ref/models/fields/#uuidfield
[10:14:25] <Guest31> https://code.djangoproject.com/ticket/28541
[10:14:41] <Guest31> This person has the opposite effect you are having. Works on postgres but not sqllite
[10:15:28] <Guest31> why use UUID field and not charfield for username?
[10:16:24] <AugustusCaesar24> oh I originally made username the primary key for my UserProfile model, but I did it in a Horrible way and then I fixed it
[10:16:59] <AugustusCaesar24> I was essentially creating a User and UserInformation relationship with a pk username that had no database relationship with each other
[10:17:25] <Guest31> oh interesting
[10:17:54] <AugustusCaesar24> I then fixed it and added a OneToOne relationship and the last final step was to change the primary key from username to something else because username is no longer needed
[10:18:15] <Guest31> is this in production?
[10:19:19] <AugustusCaesar24> I set username to a nullable field in case the database goes bizark and kept the username. The username at this point is just legacy code that if the database is happy with all migrations I can easily remove the username column in future migrations
[10:19:27] <AugustusCaesar24> it is currently in production
[10:19:34] <AugustusCaesar24> many lessons learned
[10:20:37] <AugustusCaesar24> but contrary to my belief migrating away from a username fake relationship to a actual OneToOne relationship was pretty easy and not hard at all. the last final part is just the changing of primary key and we are finished!
[10:21:44] <Guest31> Yea I was hoping someone else knew how to do what you are trying to do I am no expert on migrations.
[10:22:04] <Guest31> You asked your question perfectly with the dpaste though which is good
[10:22:43] <AugustusCaesar24> The closest thing that I have been able to do has been to basically migrate all the way into migration 42 and then manually do migration 43 with my own SQL, which would be this: https://dpaste.org/wHfU
[10:22:58] <AugustusCaesar24> but I dont know if I should mess with database with my own sql or not
[10:23:21] <Guest31> yea idk if you should django might not know what to do
[10:24:18] <AugustusCaesar24> yeah I thought the same, but I really dont know what to do either
[10:24:49] <Guest31> I guess you need to wait for someone else to respond on the channel maybe everybody is away or just bad timing I guess
[10:25:00] <AugustusCaesar24> part of me thinks I can back up the production database and test with that and if it works on there with my raw sql solution then it'll work everywhere, but I am not sure because this is the first time I am doing creative migrations
[10:25:17] <Guest31> or maybe make a stackoverflow/reddit question to help others it is a good question
[10:25:17] <AugustusCaesar24> I dont wanna mess it up for every migration ever after this or get problems that i dont even know exist
[10:25:42] <AugustusCaesar24> I think I'll put it on stackoverflow and see if someone else can help
[10:26:02] <Guest31> Yea backing up could work and use that db on localhost
[10:26:08] <AugustusCaesar24> funkeybob is usually the expert on everything in django. I sure wish he was here right now
[10:28:30] <Guest31> Maybe the ordering of events in your migration is wrong?
[10:28:51] *** Joins: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net)
[10:33:17] *** Quits: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net) (Ping timeout: 240 seconds)
[10:34:37] <AugustusCaesar24> maybe
[10:34:48] <AugustusCaesar24> but how would I know if that is the case or not?
[10:35:07] <Guest31> idk actually just an idea
[10:35:17] *** Quits: thomasross (~thomasros@dyn-pppoe-142-51-227-74.vianet.ca) (Ping timeout: 240 seconds)
[10:35:17] <AugustusCaesar24> because theres like 43 migrations and in the last 2 months I made 6 migrations so no idea where to begin
[10:36:00] <Guest31> hmm if username was the PK before is it a FK in other tables?
[10:36:06] *** Joins: dor (~erg@78.11.12.207)
[10:36:52] <Guest31> maybe it means username (FK) is in a PK in that sense of the word?
[10:50:55] *** Quits: Guest31 (~Guest31@pool-96-253-74-73.rcmdva.fios.verizon.net) (Ping timeout: 256 seconds)
[10:55:11] <AugustusCaesar24> the username that I have from my database is not doing anything
[10:55:38] <AugustusCaesar24> its not an fk in anywhere unless if there is a relationship that I dont know anything about that happened by django without it telling me
[10:56:01] <AugustusCaesar24> feel free to tag me because I might miss your message otherwise
[10:56:44] <AugustusCaesar24> I am thinking of deleting the last migration and creating an integer field for pk and having the uuid just be there and not do anything
[11:09:50] *** Joins: pmb (~pmb@89-64-79-51.dynamic.chello.pl)
[11:19:37] *** Quits: audiobirb (~audio@user/audio) (Ping timeout: 240 seconds)
[11:24:33] *** Quits: daniel-k (~daniel-k@fsf/emeritus/daniel-k) (Read error: Connection reset by peer)
[11:24:43] *** Joins: daniel-k (~daniel-k@fsf/emeritus/daniel-k)
[11:29:44] *** Joins: mrwick (~mrwick@user/mrwick)
[11:43:03] *** Joins: luigibu (~luigi@11.red-79-159-71.dynamicip.rima-tde.net)
[11:50:53] *** Joins: Ilyu (~quassel@gateway/vpn/pia/ilyu)
[11:55:37] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[11:57:52] *** Joins: fikran (~fikran@user/fikran)
[11:59:00] *** Joins: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net)
[12:01:48] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[12:03:35] *** Quits: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net) (Ping timeout: 256 seconds)
[12:04:28] *** Joins: idontneedanick (~idontneed@h-158-174-186-127.NA.cust.bahnhof.se)
[12:06:57] *** Quits: cyphase (~cyphase@user/cyphase) (Ping timeout: 240 seconds)
[12:16:12] *** Joins: pycode1 (~pycode3@2001:b07:5d28:551:6b78:61b2:139a:5554)
[12:17:22] *** Quits: dre (~dre@2001:8003:c932:c301:8304:d78a:deb9:dfd1) (Ping timeout: 260 seconds)
[12:17:28] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[12:18:30] *** Quits: idontneedanick (~idontneed@h-158-174-186-127.NA.cust.bahnhof.se) (Remote host closed the connection)
[12:21:21] *** Joins: SteveR (~SteveR@103.215.168.1)
[12:22:36] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[12:25:31] *** Quits: twomanytacos (uid366386@id-366386.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[12:26:37] *** Joins: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it)
[12:27:38] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[12:29:11] *** Quits: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it) (Client Quit)
[12:32:57] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 240 seconds)
[12:35:48] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[12:35:53] *** Joins: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it)
[12:40:25] *** Joins: Thanatos (~Thanatos@197.210.28.129)
[12:40:36] *** Joins: alex_c (~amcollie@204.236.67.52)
[12:40:48] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[12:58:25] *** Joins: blackout69 (~blackout6@net-109-117-245-237.cust.vodafonedsl.it)
[13:15:10] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[13:19:55] *** Quits: alex_c (~amcollie@204.236.67.52) (Quit: Konversation terminated!)
[13:21:06] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[13:25:18] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[13:30:51] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[13:45:05] *** Quits: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:49:38] *** Quits: AugustusCaesar24 (~AugustusC@cpe-104-35-140-216.socal.res.rr.com) (Quit: Going offline, see ya! (www.adiirc.com))
[13:59:44] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[14:01:05] *** Quits: pycode1 (~pycode3@2001:b07:5d28:551:6b78:61b2:139a:5554) (Ping timeout: 252 seconds)
[14:03:23] *** Joins: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it)
[14:04:31] *** Quits: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it) (Client Quit)
[14:04:57] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[14:05:18] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[14:07:13] *** Joins: fikran (~fikran@user/fikran)
[14:10:56] *** Joins: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it)
[14:14:09] *** Quits: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it) (Client Quit)
[14:14:12] *** Joins: explore (uid233125@id-233125.hampstead.irccloud.com)
[14:17:06] *** Quits: django-ticketbot (~django-ti@django/ops/ticketbot) (Remote host closed the connection)
[14:17:23] *** Joins: django-ticketbot (~django-ti@django/ops/ticketbot)
[14:19:54] *** Joins: idontneedanick (~idontneed@h-158-174-186-127.NA.cust.bahnhof.se)
[14:22:37] *** Quits: pmb (~pmb@89-64-79-51.dynamic.chello.pl) (Ping timeout: 240 seconds)
[14:23:15] <hansol> hey guys
[14:23:30] <hansol> im starting django, but when i made some changes inside files
[14:23:36] <hansol> the server stops
[14:26:42] <GinFuyou> hansol, please follow recomendations from the /topic
[14:28:28] *** Joins: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net)
[14:30:46] *** Quits: mrwick (~mrwick@user/mrwick) (Ping timeout: 245 seconds)
[14:32:50] *** Joins: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it)
[14:33:09] *** Quits: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net) (Ping timeout: 250 seconds)
[14:33:59] *** Quits: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it) (Client Quit)
[14:34:09] *** Quits: SteveR (~SteveR@103.215.168.1) (Quit: Client closed)
[14:38:36] *** Quits: bitdex (~bitdex@gateway/tor-sasl/bitdex) (Remote host closed the connection)
[14:39:25] *** Quits: Thanatos (~Thanatos@197.210.28.129) (Ping timeout: 256 seconds)
[14:39:29] *** Joins: bitdex (~bitdex@gateway/tor-sasl/bitdex)
[14:46:07] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[14:51:27] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[15:15:42] *** Joins: yanchai (~yanchai@115.147.34.99)
[15:24:27] *** Quits: dor (~erg@78.11.12.207) (Remote host closed the connection)
[15:24:39] *** Joins: dor (~erg@78.11.12.207)
[15:29:37] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[15:43:39] <GinFuyou> Offtopic: just noticed a link I've posted looks like that, I swear it's best url I've ever seen:
[15:43:54] <GinFuyou> <...>/wordpress/solutions/how-much-do-you-know/nothing-fishy-here/july-2016/february/february-2012/march-2012/august-2013/october-2012/november-2012/april-11/august-2014/july/august/january/keystone-species-charm-bracelet/what-is-a-baby-beaver-called/
[15:59:37] *** Quits: dor (~erg@78.11.12.207) (Ping timeout: 240 seconds)
[16:04:45] *** Quits: pepper (~pepper@user/pepper) (Quit: Leaving)
[16:11:27] *** Joins: xkuru (~xkuru@user/xkuru)
[16:13:33] *** Joins: pmb (~pmb@89-64-79-51.dynamic.chello.pl)
[16:14:08] *** Quits: blackout69 (~blackout6@net-109-117-245-237.cust.vodafonedsl.it) (Quit: Leaving.)
[16:14:54] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 260 seconds)
[16:16:34] *** Joins: fikran (~fikran@user/fikran)
[16:33:02] *** Quits: yanchai (~yanchai@115.147.34.99) (Ping timeout: 240 seconds)
[16:34:59] *** Joins: cmbengue (~Thunderbi@207.191.249.160)
[16:37:22] *** Quits: luigibu (~luigi@11.red-79-159-71.dynamicip.rima-tde.net) (Quit: WeeChat 3.4)
[16:37:59] *** Joins: imakestuff (~imakestuf@197.156.86.184)
[16:39:27] <imakestuff> i'm creating a custom user as class User(AbstractBaseUser, PermissionsMixin, BaseModel):
[16:39:53] <imakestuff> my BaseModel overrides save and so does AbstractBaseUser. How shall i deal with that scenario?
[17:06:54] *** Joins: dor (~erg@78.11.12.207)
[17:14:53] <GinFuyou> Start with reading about method resolution order in python
[17:15:57] *** Joins: jmd (~user@de.cellform.com)
[17:16:33] *** Joins: blackout69 (~blackout6@net-109-117-245-237.cust.vodafonedsl.it)
[17:19:20] *** Quits: imakestuff (~imakestuf@197.156.86.184) (Remote host closed the connection)
[17:20:41] *** Joins: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it)
[17:25:31] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[17:29:59] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Ping timeout: 256 seconds)
[17:52:42] *** Joins: thiras (~thiras@user/thiras)
[17:56:03] *** Quits: Ilyu (~quassel@gateway/vpn/pia/ilyu) (Ping timeout: 256 seconds)
[18:05:14] *** Joins: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net)
[18:08:33] *** Joins: Ilyu (~quassel@gateway/vpn/pia/ilyu)
[18:10:00] *** Quits: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net) (Ping timeout: 268 seconds)
[18:14:23] *** Joins: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net)
[18:15:02] *** Joins: pycode1 (~pycode3@2001:b07:5d28:551:5987:9fab:e653:f590)
[18:16:44] *** Parts: blackout69 (~blackout6@net-109-117-245-237.cust.vodafonedsl.it) ()
[18:19:15] *** Quits: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net) (Ping timeout: 268 seconds)
[18:24:11] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 268 seconds)
[18:25:55] *** Joins: fikran (~fikran@user/fikran)
[18:36:19] <gordonjcp> this is likely a daft question, but I can't figure out what to search for
[18:38:18] <gordonjcp> if I have a model with two unique_together fields that represent two parts of an ID, and a property that combines these into the complete ID, how can I do something like "Thing.objects.get(property='01234-567890')" as opposed to "Thing.objects.get(area='01236', number='567890')" ?
[18:38:37] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 240 seconds)
[18:42:17] <GinFuyou> gordonjcp, what is practical difference?
[18:43:10] <gordonjcp> GinFuyou: in every view I would have to split up the complete ID into two parts
[18:43:22] <gordonjcp> GinFuyou: it's always possible I'm going about this the wrong way, of course
[18:43:51] <gordonjcp> GinFuyou: I have a bunch of things with a unique ID, which you can think of as like a phone's area code and subscriber number
[18:43:59] <GinFuyou> Write a manager\queryset method that takes complete key and then converts it into two filters
[18:44:13] <gordonjcp> see
[18:44:21] <gordonjcp> that's probably what I needed to know what to Google for
[18:44:43] <GinFuyou> yeah, try model manager in docs
[18:45:00] <gordonjcp> GinFuyou: let me run this by you though, I've got a bunch of Things which each have a unique ID that you can think of as being like a telephone number with an area code and a subscriber number
[18:45:10] <GinFuyou> Other way is annotation, but I don't think it's a good choice for that case
[18:45:17] <gordonjcp> I want to be able to group stuff by area code and sort stuff by subscriber number
[18:45:23] <gordonjcp> or name
[18:45:56] <gordonjcp> so what I've got so far is a model with a name field, an area code field, and a subscriber number field
[18:46:24] <gordonjcp> the ID is *not* a telephone number but it'd be too complex and out there to explain what it is and what its rules are
[18:47:30] *** Joins: imakestuff (~imakestuf@197.156.86.184)
[18:47:54] <imakestuff> i'm trying to create a custom auth backend and looking at the default ModelBackend I see:
[18:47:55] <imakestuff> user = UserModel._default_manager.get_by_natural_key(username)
[18:48:32] <imakestuff> why does this call happen instead of User.objects.get ?
[18:48:59] <GinFuyou> gordonjcp, not sure what I make out of last message, but sure ordering should be simple enough?
[18:49:15] <gordonjcp> GinFuyou: yes, and with two fields for the two parts of the ID it is
[18:49:27] <gordonjcp> GinFuyou: but is there a better way to do it, with a single field for the ID?
[18:49:31] <GinFuyou> imakestuff, because you can change default manager not to be Model.objects
[18:49:52] <gordonjcp> GinFuyou: like, if I was storing a phone number is there a way I can group by area code within the phone number field?
[18:50:00] *** Joins: lucascastro (~lucascast@192-140-51-187.static.oncabo.net.br)
[18:50:09] *** Quits: lucas_ (~lucascast@192-140-51-187.static.oncabo.net.br) (Read error: Connection reset by peer)
[18:50:20] <gordonjcp> GinFuyou: probably not, I guess, and I can't really think of a sane SQL query to do that
[18:50:53] <imakestuff> GinFuyou: so it's safe for me to do UserModel.objects.get for my custom backend?
[18:50:54] <GinFuyou> gordonjcp, yes I don't think there is a better way, again some annotations, but why complicate things?
[18:50:58] <gordonjcp> yeah
[18:50:59] <gordonjcp> so
[18:51:21] <GinFuyou> imakestuff, if it's for you project only should be safe I believe
[18:51:23] <gordonjcp> define a property to return the whole ID, define a custom manager to query for the whole ID?
[18:52:26] <imakestuff> GinFuyou: thanks
[18:52:27] <GinFuyou> Or make a complex ID with annotation
[18:52:41] <GinFuyou> But that part probably doesn't matter much
[18:52:59] <imakestuff> the only reason that I am making a custom backend is because i want to use phone_number for authentication and don't want' to set it as unique until it is verified
[18:53:04] <imakestuff> is there a simpler solution for this?
[18:53:56] <GinFuyou> null is unique. Not sure if it's a better though
[18:54:33] <imakestuff> hmm considered that too
[18:54:47] <imakestuff> putting it in another field and setting it only when verified
[18:55:57] *** Quits: lucascastro (~lucascast@192-140-51-187.static.oncabo.net.br) (Ping timeout: 240 seconds)
[18:58:15] <gordonjcp> GinFuyou: thanks, that was almost distressingly straightforward
[18:58:30] <gordonjcp> GinFuyou: I'm always a bit worried when something turns out to be *that* much easier than I thought...
[19:03:55] <imakestuff> GinFuyou: looking at AbstractBaseUser i see     is_active = True  which not used
[19:04:01] <imakestuff> is there a reason it's there?
[19:10:46] <GinFuyou> So it can be used? Not sure, might be artefact of development history
[19:13:00] <imakestuff> GinFuyou: when subclassing i thought i might need to pay attention to it
[19:22:44] *** Joins: SteveR (~SteveR@103.215.168.1)
[19:28:56] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[19:30:08] *** Quits: carl0s[m] (~carl0s@2001:470:69fc:105::305b) (Quit: You have been kicked for being idle)
[19:32:37] *** Quits: SteveR (~SteveR@103.215.168.1) (Quit: Client closed)
[19:35:37] *** Quits: jmd (~user@de.cellform.com) (Ping timeout: 240 seconds)
[19:35:52] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[19:39:28] *** Quits: imakestuff (~imakestuf@197.156.86.184) (Remote host closed the connection)
[19:40:09] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) (Ping timeout: 250 seconds)
[19:42:00] *** Quits: bitdex (~bitdex@gateway/tor-sasl/bitdex) (Ping timeout: 276 seconds)
[19:43:01] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[19:46:05] *** Joins: bitdex (~bitdex@gateway/tor-sasl/bitdex)
[19:46:12] *** Quits: pycode1 (~pycode3@2001:b07:5d28:551:5987:9fab:e653:f590) (Ping timeout: 268 seconds)
[19:46:54] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[19:50:02] *** Quits: Ilyu (~quassel@gateway/vpn/pia/ilyu) (Ping timeout: 260 seconds)
[19:59:00] *** Joins: cyphase (~cyphase@user/cyphase)
[20:02:31] *** Quits: explore (uid233125@id-233125.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[20:03:47] *** Quits: jgee (~jgee@186.80.49.20) (Quit: The Lounge - https://thelounge.chat)
[20:05:22] *** Joins: jgee (~jgee@186.80.49.20)
[20:10:25] *** Joins: pembo13 (~pembo13@47.196.95.206)
[20:17:19] *** Quits: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net) (Remote host closed the connection)
[20:17:34] *** Joins: gopar (~gopar@c-67-164-79-22.hsd1.ca.comcast.net)
[20:26:53] *** Quits: vladoski (~foo@host-95-233-98-111.retail.telecomitalia.it) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:33:14] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 252 seconds)
[20:35:16] *** Joins: fikran (~fikran@user/fikran)
[21:04:23] *** Joins: vdamewood (~vdamewood@fedora/vdamewood)
[21:22:44] *** Joins: thomasross (~thomasros@dyn-pppoe-142-51-227-74.vianet.ca)
[21:48:29] *** Joins: dez (uid92154@user/dez)
[22:15:17] *** Joins: Thanatos (~Thanatos@105.112.59.160)
[22:28:26] *** Joins: pk (~pk@c-68-32-217-32.hsd1.mi.comcast.net)
[22:29:18] *** Joins: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net)
[22:29:34] *** Quits: pk (~pk@c-68-32-217-32.hsd1.mi.comcast.net) (Client Quit)
[22:33:17] *** Joins: pk (~pk@c-68-32-217-32.hsd1.mi.comcast.net)
[22:33:38] *** Joins: blackout69 (~blackout6@net-109-117-245-237.cust.vodafonedsl.it)
[22:33:41] *** Quits: luigibu1 (~luigibu@11.red-79-159-71.dynamicip.rima-tde.net) (Ping timeout: 245 seconds)
[22:42:17] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[22:44:37] *** Joins: fikran (~fikran@user/fikran)
[22:57:31] *** Joins: lucascastro (~lucascast@192-140-51-251.static.oncabo.net.br)
[23:31:26] *** Quits: blackout69 (~blackout6@net-109-117-245-237.cust.vodafonedsl.it) (Quit: Leaving.)
[23:53:45] *** Joins: PantelicGR (~PantelicG@user/pantelicgr)
[23:55:46] <PantelicGR2> Happy new year! I wish you to be well. All the best! :)
[23:57:01] *** Joins: _blackeitus (~blackleit@189.195.195.100)
[23:57:18] <_blackeitus> how do you call the folder where is stored settings.py etc?
[23:59:51] *** Quits: blackleitus (~blackleit@189.195.195.100) (Quit: Leaving)
