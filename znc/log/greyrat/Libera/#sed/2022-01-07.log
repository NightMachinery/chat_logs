[00:02:50] <Soliton> # printf "+ B='https://www.awesome.com/en/user/confirm?t=7545f404-5838-4ec7-865b-d82bb3c12cba\r'\n"
[00:02:51] <shbot> Soliton: + B='https://www.awesome.com/en/user/confirm?t=7545f404-5838-4ec7-865b-d82bb3c12cba'
[00:03:02] <Soliton> well, doesn't work on shbot.
[00:04:02] <Soliton> anyway, what you really want to do is remove the \r.
[00:06:22] <Mehavoid> Yes, I'm running script in debug mode. turn off had no effect
[00:06:53] <Soliton> well, you're reading it wrong. the quotes are how set -x output looks.
[00:07:04] <Soliton> they're shell syntax not actual data.
[00:08:17] <Soliton> the above printf command should show why the set -x output looks weird with the single quote at line start.
[00:11:39] *** Quits: samir_ (~azureuser@user/samir) (Ping timeout: 250 seconds)
[00:15:16] *** Joins: samir_ (~azureuser@user/samir)
[00:15:59] <Mehavoid> Well, I must be doing something wrong. Thanks for the reply!
[00:19:55] <Soliton> you can use  sed -n $'/^http/{s/\r//;p;}'  in bash if you want sed to remove the carriage return.
[00:20:40] <Soliton> or maybe convert the whole email/file whatever at an earlier step.
[01:06:07] *** Quits: vlm (~vlm@user/vlm) (Read error: Connection reset by peer)
[01:07:57] *** Joins: vlm (~vlm@user/vlm)
[01:11:20] *** Joins: adeliktas (~adeliktas@i59F5F686.versanet.de)
[01:44:36] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[01:46:16] <wyre> emanuele6, so... sed 's,/polybar/\.config/polybar,,;s,/\([^/]*\)\.sh,/\1/\1.sh,g' ?
[01:50:01] <emanuele6> i would also add g to the first pattern.
[01:51:55] <wyre> emanuele6, sure, I've realized of the same ðŸ˜Š ... now the problem is the original patch file is longer and it also patches .py files ðŸ¤”
[01:52:43] <wyre> but I'm not sure why it's affecting also the lines with .py files ðŸ¤”
[01:53:59] <wyre> they aren't being properly affected https://bpa.st/552Q
[01:54:00] * emanuele6 is glad rxvt-unicode does not support emoji. :)
[01:54:36] <wyre> sorry by them if you don't like :( 
[01:56:18] <wyre> anyway ... do you think could I expand the expression to affect properly the .py files? 
[01:56:45] <emanuele6> sure
[01:58:47] <emanuele6> give me a sec
[02:00:46] <emanuele6> wyre: https://bpa.st/552Q
[02:01:03] <emanuele6> do the first two lines actually start with [+-]?
[02:01:23] <emanuele6> oh, is that the diff of a patch
[02:01:28] <emanuele6> ?
[02:01:45] <wyre> emanuele6, sure, is the diff of a patch
[02:01:57] <wyre> I'm applying the sed command to the patch file
[02:02:02] <wyre> to fix the paths
[02:02:24] <wyre> I was just showing that this wasn't properly done for lines regarding to .py files
[02:02:35] <emanuele6> oh, so sed is editing a file, not a stream.
[02:02:58] <wyre> emanuele6, sure
[02:02:59] <emanuele6> well, just use    sed -e '/^[^ ]/b' -e blabla    then
[02:03:03] <wyre> I've actually used -i
[02:03:10] <emanuele6> i thought you wanted something different..
[02:03:40] <emanuele6> err
[02:03:54] <emanuele6> i meant /^[ +-]/b
[02:04:08] <wyre> I don't get your point ...
[02:04:22] <wyre> I mean ... blabla is the .patch file, right? 
[02:04:33] <emanuele6> no, the command you was using before.
[02:04:41] <emanuele6> s/was/were/
[02:05:08] <emanuele6> sed -e '/^[^ ]/b' -e 's,/polybar/\.config/polybar,,;s,/\([^/]*\)\.sh,/\1/\1.sh,g' file
[02:05:13] <emanuele6> err again
[02:05:19] <emanuele6> sed -e '/^[ +-]/b' -e 's,/polybar/\.config/polybar,,;s,/\([^/]*\)\.sh,/\1/\1.sh,g' file
[02:05:26] <emanuele6> also `g' is missing
[02:05:30] <emanuele6> sed -e '/^[ +-]/b' -e 's,/polybar/\.config/polybar,,g;s,/\([^/]*\)\.sh,/\1/\1.sh,g' file
[02:05:55] <wyre> emanuele6, and then you say to do the very same but for .py files, right? 
[02:06:54] <emanuele6> that prevents sed from editing lines that start with " " "+" or "-"
[02:07:07] <wyre> emanuele6, but some of them starts with diff
[02:07:37] <emanuele6> what are you trying to do?
[02:07:54] <wyre> for example, these three are still wrong https://bpa.st/GASQ
[02:07:55] <emanuele6> this is the input, https://bpa.st/552Q what should be the output?
[02:09:01] <wyre> emanuele6, https://bpa.st/MMNA line 31 is still wrong
[02:09:31] <wyre> because I think I should also prevent affecting lines starting with 'diff'
[02:09:41] <emanuele6> wyre: that file does not contain +diff or -diff anywhere
[02:10:00] <emanuele6> was https://bpa.st/552Q meant to represent input and output?
[02:10:08] <wyre> emanuele6, it contains 'diff --git b/polybar-scripts/info-softwarecounter.py a/polybar-scripts/info-softwarecounter.py'
[02:10:26] <emanuele6> wyre: yes, but not "+diff --git b/polybar-scripts/info-softwarecounter.py a/polybar-scripts/info-softwarecounter.py"
[02:10:45] <wyre> emanuele6, that's a diff of the patch file
[02:10:55] <emanuele6> what does that mean??
[02:10:57] <wyre> showing these changes are wrong
[02:11:13] <wyre> (after applying first suggestions you made :)
[02:14:24] <wyre> these should be the proper modifications https://bpa.st/55GA
[02:24:08] <wyre> emanuele6, I want to replace all '/polybar/.config/polybar/polybar-scripts/<whicheverscriptname>.(sh/py)' with '/polybar-scripts/<whicheverscriptname>/<whicheverscriptname>.(sh/py)'
[02:24:25] <wyre> globally
[02:28:33] <wyre> I don't know if this is more clear, I mean with .(sh/py) that I'd like to do this for both, sh and py
[02:32:41] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: Disconnecting)
[02:58:36] *** Joins: ferdna (~ferdna@user/ferdna)
[03:31:47] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aÐ»Ð»Ð¸Ð»Ñ¹Ñ–Ð°!)
[03:41:34] <emanuele6> wyre: mm
[03:43:37] <emanuele6> i am guessing you want something like this  http://0x0.st/ozEB.txt
[03:44:14] <emanuele6> (or just remove `sh' from the command you had before)
[03:47:02] <wyre> emanuele6, sure! this apparently does the work `sed -e 's,/polybar/\.config/polybar,,g;s,/\([^/]*\)\.,/\1/\1.,g'`
[03:50:45] <emanuele6> wyre: oops, i forgot to remove the code that removes @@ lines that i had for debugging
[03:50:47] <emanuele6> https://0x0.st/ozEu.txt
[03:50:49] <emanuele6> something like that
[03:53:19] <emanuele6> or more simply http://0x0.st/ozEj.txt
[03:58:05] <emanuele6> if you want to generalise this, you might want to use two separate regexes for the first and second path
[03:58:26] <emanuele6> because the format for `git rm' patches slightly different
[03:59:49] <emanuele6> i.e. diff --git a/path b/path \n .... \n --- a/path \n +++ /dev/null
[04:55:30] *** Joins: scoobydoo_ (~scooby@user/scoobydoo)
[04:57:11] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Ping timeout: 256 seconds)
[04:57:21] *** scoobydoo_ is now known as scoobydoo
[05:08:05] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[05:13:45] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Ping timeout: 256 seconds)
[05:14:11] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[05:29:22] *** Joins: yuesbeez (uid458354@id-458354.tinside.irccloud.com)
[05:30:19] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:37:01] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[05:41:01] *** Quits: n8chan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 240 seconds)
[05:43:23] *** Joins: n8chan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[07:26:00] *** Joins: adeliktas9 (~adeliktas@i59F5FD0A.versanet.de)
[07:28:03] *** Quits: adeliktas (~adeliktas@i59F5F686.versanet.de) (Ping timeout: 256 seconds)
[07:28:04] *** adeliktas9 is now known as adeliktas
[07:44:07] *** Joins: nitro_ (~nitro_@c-73-165-183-88.hsd1.pa.comcast.net)
[07:48:51] *** Quits: yuesbeez (uid458354@id-458354.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[09:07:03] *** Joins: Atque (~Atque@user/atque)
[09:19:48] *** Joins: TomyWork (~TomyLobo@p200300e80f006700e1f052f095479eb2.dip0.t-ipconnect.de)
[09:32:46] *** Joins: nerozero (~nerozero@87.253.63.54)
[09:36:13] *** Quits: fcr (~fran@r167-56-79-247.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[09:41:34] *** Quits: chiselfuse (~chiselfus@user/chiselfuse) (Remote host closed the connection)
[09:41:50] *** Joins: chiselfuse (~chiselfus@user/chiselfuse)
[09:45:14] *** Joins: fcr (~fran@r167-56-27-20.dialup.adsl.anteldata.net.uy)
[09:55:57] *** Quits: malina (~malina@user/malina) (Ping timeout: 256 seconds)
[12:46:26] *** Quits: nitro_ (~nitro_@c-73-165-183-88.hsd1.pa.comcast.net) (Remote host closed the connection)
[12:46:46] *** Joins: nitro_ (~nitro_@c-73-165-183-88.hsd1.pa.comcast.net)
[12:50:54] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[13:55:31] *** Quits: _val_ (~valentin@82-169-14-137.biz.kpn.net) (Ping timeout: 256 seconds)
[14:17:55] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[14:22:34] *** Quits: Soliton (~Soliton@wesnoth/developer/soliton) (Quit: Battle for Wesnoth: https://www.wesnoth.org/)
[14:22:49] *** Joins: Soliton (~Soliton@wesnoth/developer/soliton)
[14:33:38] *** Joins: Penguin666x (~Penguin66@217.138.205.135)
[14:36:53] *** Quits: Penguin666 (~Penguin66@217.138.205.135) (Ping timeout: 256 seconds)
[14:46:40] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[15:32:55] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aÐ»Ð»Ð¸Ð»Ñ¹Ñ–Ð°!)
[16:20:14] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[17:04:52] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[17:14:33] *** Joins: seninha (~seninha@user/seninha)
[17:16:13] *** Quits: Hackerpcs (~user@user/hackerpcs) (Read error: Connection reset by peer)
[17:41:43] *** Joins: nerozero_ (~nerozero@87.253.63.54)
[18:00:43] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: see you later)
[18:01:22] *** Quits: TomyWork (~TomyLobo@p200300e80f006700e1f052f095479eb2.dip0.t-ipconnect.de) (Remote host closed the connection)
[18:29:36] *** Joins: CyberCr33p (~chris@bnc.cretaforce.gr)
[18:29:54] <CyberCr33p> I try to replace 'members' with '`members`'  :    sed -i "" -e "s|'members' => 'm'|'`members`' => 'm'|g"  *.php
[18:30:12] <CyberCr33p> but doesn't work, any idea how to fix the command ?
[18:33:39] <Soliton> `` is command substitution so you need to escape that.
[18:33:56] <Soliton> how -i works depends on your sed variant.
[18:34:16] <CyberCr33p> oh you are right
[18:43:17] *** Quits: nerozero (~nerozero@87.253.63.54) (Ping timeout: 240 seconds)
[18:43:37] *** Quits: nerozero_ (~nerozero@87.253.63.54) (Ping timeout: 240 seconds)
[19:13:01] *** Joins: malina (~malina@user/malina)
[19:17:58] *** Quits: guru_ (~guru@S0106ec086bc3574f.mh.shawcable.net) (Quit: Leaving)
[19:29:53] <Mehavoid> "It's always easier to think in the morning"
[19:30:04] <Mehavoid> Soliton, thank you for help, I see my problem!
[19:30:53] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[19:32:45] <ash_worksi> why does `sed -n '${p}' file` prints the last line but `sed -n '${ifoo}' file` gives an error "unterminated {" 
[19:33:39] <Soliton> are you adding the parens because it looks nice?
[19:34:08] <Soliton> ifoo is a GNU extension, btw.
[19:36:29] <Soliton> perhaps state a goal.
[20:30:04] *** Quits: ccl (ccl@shell.xshellz.com) (Ping timeout: 256 seconds)
[20:38:34] *** Joins: lgc (~lgc@user/lgc)
[20:39:54] <ash_worksi> sorry
[20:39:57] <ash_worksi> distracted
[20:39:58] <ash_worksi> Soliton: because I want to do {d;ifoo} but I noticed the problem isn't with trying to combine commands 
[20:40:57] <ash_worksi> well, I wanted to "replace" a pattern, but I didn't really want to do -r '/^.*pattern.*$/' out of.... novelty? 
[20:41:37] <ash_worksi> anyway I was able to achieve it by `sed -e'/pattern/ifoo' -e'/pattern/d'`
[20:43:39] <earnest> ash_worksi: Have you considered using an editor?
[20:43:57] <earnest> Such as ed/ex
[20:44:01] <ash_worksi> yes
[20:44:30] <ash_worksi> but I am using a container that I keep changing and I just want to copy/paste a series of commands
[20:45:05] <ash_worksi> also, for the sake of knowing the capacity of sed, I don't understand the error
[20:47:25] <earnest> ash_worksi: i expects a newline before its argument
[20:47:29] <Soliton> if you have -n what is the d command for?
[20:47:49] <earnest> ash_worksi: See https://www.grymoire.com/Unix/Sed.html#uh-41
[20:48:40] <Soliton> more important in this case is the newline after the i command.
[20:48:54] <ash_worksi> Soliton: that was just to test
[20:49:23] <Soliton> sed can't just stop at any } since how are you going to insert a } then.
[20:49:42] <ash_worksi> so.... it expects a new line specifically in curlys? (ie: `sed '$ifoo' file` _does_ insert a line before last
[20:49:49] <Soliton> i and d combined still seems odd. maybe you want s instead.
[20:50:26] <Soliton> it needs a newline if you want to do more stuff. obviously if you don't that's moot.
[20:50:45] <ash_worksi> ah right, I read that after I sent my comment
[20:52:05] <Soliton> using multiple -e arguments is equivalent to newlines most of the time.
[20:52:08] <ash_worksi> thanks for helping me understand that
[20:52:17] <ash_worksi> right, I learned that recently :)
[20:52:36] <ash_worksi> from you... or gehira
[20:54:58] *** Quits: mozgalom (~mozgalom@194.144.47.113) (Quit: SO LONG SUCKERS!)
[20:56:28] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.2-dev)
[21:42:17] *** Quits: fcr (~fran@r167-56-27-20.dialup.adsl.anteldata.net.uy) (Ping timeout: 240 seconds)
[21:50:44] *** Joins: fcr (~fran@r167-60-19-178.dialup.adsl.anteldata.net.uy)
[22:03:21] *** Joins: ccl (ccl@shell.xshellz.com)
[22:12:02] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[22:15:58] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Remote host closed the connection)
[22:59:06] *** Quits: malina (~malina@user/malina) (Ping timeout: 256 seconds)
[23:10:33] *** Joins: malina (~malina@user/malina)
[23:33:37] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[23:46:36] <ash_worksi> Soliton: it was `c` I wanted really
[23:53:36] <ash_worksi> although c doesn't seem to work with `-e''` expressions as line breaks
