[03:56:48] <afontain[m]> Je viens d'essayer nushell, et, heu, je pourrais bien prendre ce shell √† l'essai. √áa a l'air assez cool en vrai. On dirait fish mais avec des donn√©es structur√©es
[04:08:50] * afontain[m] sent a code block: https://libera.ems.host/_matrix/media/r0/download/libera.chat/d9e13ccdea6f3f88829129c140581ebb52b4a806
[04:11:12] <afontain[m]> ^ those look ugly in element on my side
[04:12:06] <afontain[m]> > ps | sort-by mem --reverse | first 2 | to json
[04:12:06] <afontain[m]> [{"pid":1966,"name":"GeckoMain","status":"Sleep","cpu":0.0,"mem":885800000,"virtual":17733828608000},{"pid":4015,"name":"Web Content","status":"Sleep","cpu":0.0,"mem":507080000,"virtual":10107043840000}]
[04:12:56] <afontain[m]> also to yaml, xml, csv
[04:30:38] <afontain[m]> by default, if you type a command it doesn't know, or prefix a command with a ^, you fall back to "normal" commands 
[05:16:31] <Notkea> looks like PowerShell but without the C# and stacktraces in shell stuff. Last time I looked at nushell however, the source code was extremely messy and bad. It seems like they're now planning a full rewrite. Can't wait to see a stable version of it!
[05:21:39] <afontain[m]> there's also elvish
[05:23:25] <Notkea> I didn't know that one. Is it good?
[05:24:55] <sparrowhawk[m]> I didn't like it that much
[05:25:23] <sparrowhawk[m]> It doesn't bring much to the bargain and you can't use standard shell syntax for loops and stuff at all
[05:26:36] <afontain[m]> elvish or nushell?
[05:27:26] <afontain[m]> nushell, right?
[05:27:48] <sparrowhawk[m]> Elvish
[05:28:23] <sparrowhawk[m]> Didn't try nushell, your `ls` looks horrifying x)
[05:29:17] <sparrowhawk[m]> When I type `ls`, I expect a list of file names. Not `ls -lArthn | format2table`
[05:29:38] <sparrowhawk[m]> But why not if it works for you x)
[05:31:39] <afontain[m]> nushell is probably worse in that regard then
[05:32:32] <afontain[m]> because it's not even having `for` loops
[05:32:45] <afontain[m]> (haskell vibes)
[09:23:32] <Orbstheorem> <sparrowhawk[m]> "When I type `ls`, I expect a..." <- Does the output change if stdout is a pipe or a tty? 
[09:23:43] <Orbstheorem> @afontain ^^
[12:00:11] <afontain[m]> Roos: the output is the same I'd say
[12:00:55] <afontain[m]> well, technically, for presentation on your tty, the shell appparently implicitely calls the `table` program
[12:01:03] <afontain[m]> (if it's a table like for ls)
[12:01:47] <afontain[m]> in all case, you pass a table with named rows to the next command
[12:08:24] <afontain[m]> I don't seem to be really good at using it as of now though, I'll see how it goes
[12:08:56] <afontain[m]> sometime I type commands and I have apparently nonsensical results, and I can't say if it's me or a bug
[12:14:49] <afontain[m]> ah, it was me on this one, except it's still weird but well
[12:19:26] <afontain[m]> ooook I got it
[12:20:05] <afontain[m]> kinda feels like what haskell is to C, except for bash
[12:24:15] <Orbstheorem> Hmm...
[12:24:15] * Orbstheorem uploaded an image: (141KiB) < https://libera.ems.host/_matrix/media/r0/download/orbstheorem.ch/RSMRiEyunsvOCwJByCMxdgXn/image.png >
[12:24:33] <Orbstheorem> It feels like builtins are terminal.
[12:24:43] <Orbstheorem> There's probably a way to lift them back into shell.
[12:24:53] <Orbstheorem> This feels right.
[12:26:54] <Orbstheorem> I'm slightly concerned about how it's lifting data into nu.
[12:27:13] * Orbstheorem is interested.
[12:34:29] <afontain[m]> cat is your usual external command
[12:34:47] <afontain[m]> lifting data typically means parsing if you need to process it
[12:35:01] <afontain[m]> (and if you don't need to process it, why are you importing it?)
[12:35:25] <afontain[m]> the basic is `open|lines`
[12:37:08] <afontain[m]> then you could do `open /etc/passwd | lines | split column ":" username _ uid gid comment`
[12:37:15] <Orbstheorem> <Orbstheorem> "I'm slightly concerned about how..." <- Is it trying to guess or is it hardcoded?
[12:37:40] <afontain[m]> I don't think it's trying to guess
[12:37:51] <afontain[m]> ls is a builtin so it outputs structured data
[12:38:39] <afontain[m]> you've got many "from" and "to" commands, like `from sqlite`
[12:38:53] <afontain[m]> or `to json`
[12:39:13] <afontain[m]> you need to type that command if you want to transform it I think
[12:39:29] <Orbstheorem> Hmm...
[12:40:56] <afontain[m]> and `open` does it implicitely based on extension apparently
[12:41:01] <afontain[m]> unless you use --raw
[12:41:29] <afontain[m]> ^ infered from the fact renaming a .csv to remove the extension doesn't parse it
[12:42:44] <afontain[m]> one thing I haven't managed to do so far, is an if with an external command
[12:44:23] <afontain[m]> for example `if (test -x ~/a.out) {} {}`
[12:47:17] <afontain[m]> not gonna lie, https://www.nushell.sh/cookbook/http.html is enticing
[12:55:24] <afontain[m]> apparently the beta for 0.60 is introducing a new if command
[12:59:55] <afontain[m]> also, I can't seem to be able to run `nix run ~/nixpkgs#nushell` from within nushell
[13:00:04] <afontain[m]> 'cause apparently I can't even quote it
[13:03:09] <afontain[m]> managed to do it like this: `nix run (echo ~/nixpkgs#nushell)`
[13:11:25] <Orbstheorem> What the...
[13:11:51] <Orbstheorem> ```nix
[13:12:04] <Orbstheorem>  * ```
[13:12:04] <Orbstheorem> /home/roosemberth> nix shell 'p#hello'
[13:12:04] <Orbstheorem>  ~
[13:12:08] <Orbstheorem> This works for me.
[13:13:38] <Orbstheorem> Hmm...
[13:13:47] <Orbstheorem> homedir expansion is weird...
[13:19:28] <afontain[m]> I'd say it's the "#" that is behaving strangely
[13:20:00] <afontain[m]> also the " / ' isn't behaving like in posix, so you can't do `echo abc"$x"def`
[13:34:39] <Orbstheorem> The # is a comment prefix in standard sh.
[13:34:46] <Orbstheorem> s/standard/POSIX/
[14:05:42] <afontain[m]> Roos: ok, but POSIX sh wouldn't do that... (full message at https://libera.ems.host/_matrix/media/r0/download/libera.chat/0f9c52a5eec7f93b9191d3b7aab33f1e169f6efe)
[14:05:57] <afontain[m]> s///, s/\#/\\#/, s///
[16:51:20] <afontain[m]> bon, ben √ßa ne sera pas mon shell principal, hein
[16:51:27] <afontain[m]> mais c'est cool sinon
[19:23:48] *** Joins: toto (~toto@141.117.127.176.dynamic.wline.res.cust.swisscom.ch)
[19:25:58] <toto> Hello, j'√©tais √† la install fest hier et j'ai oubli√© mon chargeur, je suis retourn√© aujourd'hui mais je ne l'ai pas trouv√© dans la salle. Est-ce que quelqu'un l'aurait vu? merci d'avance :)
[19:26:11] *** Joins: Skeetis[m] (~widmergnu@2001:470:69fc:105::f26)
[19:26:23] *** Joins: Eurydice[m]1 (~adonnetgn@2001:470:69fc:105::1:68a)
[19:30:16] *** Quits: Skeetis[m] (~widmergnu@2001:470:69fc:105::f26) (Client Quit)
[19:30:16] *** Quits: Eurydice[m]1 (~adonnetgn@2001:470:69fc:105::1:68a) (Client Quit)
[22:09:23] *** Quits: toto (~toto@141.117.127.176.dynamic.wline.res.cust.swisscom.ch) (Ping timeout: 256 seconds)
[22:32:28] *** Joins: toto (~toto@141.117.127.176.dynamic.wline.res.cust.swisscom.ch)
[23:01:02] *** Quits: toto (~toto@141.117.127.176.dynamic.wline.res.cust.swisscom.ch) (Quit: Client closed)
[23:44:24] *** Joins: toto (~toto@141.117.127.176.dynamic.wline.res.cust.swisscom.ch)
