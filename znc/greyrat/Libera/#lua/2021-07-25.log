[00:02:21] *** Joins: Kane_ (~Kane@2a01:e34:ee89:5d90:348b:68b7:584:6256)
[00:05:44] *** Quits: Kane (~Kane@2a01:e34:ee89:5d90:348b:68b7:584:6256) (Ping timeout: 255 seconds)
[00:12:09] *** Quits: Elw3 (~Elw3@dynamic-046-114-158-031.46.114.pool.telefonica.de) (Quit: Leaving)
[00:15:05] *** Joins: monkey_ (~user@190.104.116.134)
[00:25:36] *** Quits: monkey_ (~user@190.104.116.134) (Ping timeout: 276 seconds)
[00:26:46] *** Joins: Moosadee (~Moosadee@136.32.155.193)
[01:52:23] *** Joins: Elw3 (~Elw3@dynamic-046-114-175-235.46.114.pool.telefonica.de)
[01:54:52] *** Quits: Moosadee (~Moosadee@136.32.155.193) (Quit: Leaving)
[02:12:21] *** Quits: unclutter (~gentoo@60.81-166-246.customer.lyse.net) (Remote host closed the connection)
[02:22:17] *** Quits: Kane_ (~Kane@2a01:e34:ee89:5d90:348b:68b7:584:6256) (Quit: Leaving)
[02:28:39] *** Quits: charukiewicz (~quassel@irouteince04.i.subnet.rcn.com) (Remote host closed the connection)
[02:29:50] *** Joins: charukiewicz (~quassel@irouteince04.i.subnet.rcn.com)
[02:44:04] *** Quits: ano (~weechat@user/ano) (Quit: ano)
[02:44:22] *** Joins: ano (~weechat@user/ano)
[03:04:55] *** Joins: unclutter (~gentoo@60.81-166-246.customer.lyse.net)
[04:12:18] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 240 seconds)
[04:20:33] *** Quits: entuland (~entuland@user/entuland) (Quit: Leaving)
[04:21:58] *** Quits: Vornicus (~Vornicus@2603-8000-5d07-7ef0-58ec-8d56-fa5c-3f4a.res6.spectrum.com) (Read error: Connection reset by peer)
[04:24:29] *** Joins: skapata (~Skapata@user/skapata)
[04:54:32] *** Parts: Wally (~Wally@dragonbox/forum-staff/wally) ()
[05:10:07] *** Quits: ratchet_freak (~ratchetfr@ptr-82s3g7mkgzjgrfwgspa.18120a2.ip6.access.telenet.be) (Ping timeout: 245 seconds)
[05:25:50] *** Quits: ratchetfreak (~ratchetfr@d51A4BEAF.access.telenet.be) (Read error: Connection reset by peer)
[05:32:10] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 240 seconds)
[05:37:38] *** Joins: skapata (~Skapata@user/skapata)
[05:42:16] *** Joins: Wally (~Wally@dragonbox/forum-staff/wally)
[05:47:40] *** Joins: vnogueira (~vnogueira@user/vnogueira)
[05:59:13] *** Joins: penguino (~mrpenguin@user/mrpenguin)
[06:13:13] *** Quits: penguino (~mrpenguin@user/mrpenguin) (Remote host closed the connection)
[06:14:28] <tumn> ano: that is not valid, what are you trying to do with / operator on a string?
[06:17:40] <tumn> actually I think I see what you want to do, but I don't think gsub is the correct function
[06:20:54] <tumn> this will match the pattern and return the number:
[06:21:22] <tumn> tonumber(string.match(content, "MemAvailable:%s+(%d+).*"))
[06:25:32] *** Joins: penguino (~mrpenguin@user/mrpenguin)
[06:44:33] *** Quits: StephenLynx (~StephenLy@2804:1054:3015:cdb0::e93) (Quit: Leaving)
[07:04:27] *** Quits: Elw3 (~Elw3@dynamic-046-114-175-235.46.114.pool.telefonica.de) (Ping timeout: 250 seconds)
[07:55:05] *** Joins: guidoc (~guido@host-95-235-253-53.retail.telecomitalia.it)
[08:13:50] *** Joins: Hanii (~textual@2a00:23c5:c587:6d00:b490:7230:7640:aaf5)
[08:15:40] *** Joins: TakinOver (~quassel@47.150.206.35)
[08:43:15] *** Quits: JanC (~janc@user/janc) (Remote host closed the connection)
[08:45:14] *** Joins: JanC (~janc@user/janc)
[09:40:04] *** Quits: penguino (~mrpenguin@user/mrpenguin) (Ping timeout: 244 seconds)
[10:20:30] *** Parts: low-key (~low-key@2400:6180:0:d1::6fb:1) (WeeChat 3.0.1)
[10:40:27] *** Quits: fcr (~fran@r167-60-28-45.dialup.adsl.anteldata.net.uy) (Ping timeout: 252 seconds)
[10:41:28] *** Joins: fcr (~fran@r167-60-22-196.dialup.adsl.anteldata.net.uy)
[11:01:17] *** Quits: reset (~reset@user/reset) (Quit: reset)
[11:28:25] *** Joins: ratchetfreak (~ratchetfr@d51A4BEAF.access.telenet.be)
[11:35:57] *** Joins: ratchet_freak (~ratchetfr@ptr-82s3g7mkgzjgrfwgspa.18120a2.ip6.access.telenet.be)
[12:15:38] *** Joins: ratchetfreak_ (~ratchetfr@d51a4beaf.access.telenet.be)
[12:18:57] *** Quits: ratchetfreak (~ratchetfr@d51A4BEAF.access.telenet.be) (Ping timeout: 265 seconds)
[12:33:52] *** Quits: ratchetfreak_ (~ratchetfr@d51a4beaf.access.telenet.be) (Ping timeout: 245 seconds)
[13:54:43] *** Joins: ratchetfreak (~ratchetfr@d51A4BEAF.access.telenet.be)
[13:54:57] *** Joins: entuland (~entuland@user/entuland)
[14:27:02] *** Quits: entuland (~entuland@user/entuland) (Ping timeout: 265 seconds)
[14:28:35] *** Quits: ratchet_freak (~ratchetfr@ptr-82s3g7mkgzjgrfwgspa.18120a2.ip6.access.telenet.be) (Ping timeout: 252 seconds)
[14:29:54] *** Quits: ratchetfreak (~ratchetfr@d51A4BEAF.access.telenet.be) (Ping timeout: 240 seconds)
[14:32:21] *** Joins: Kane (~Kane@2a01:e34:ee89:5d90:cdea:5b81:f953:8f32)
[14:32:27] *** Joins: szutt (~szutt@116.37.2.145)
[14:38:43] <ano> tumn: https://www.lua.org/manual/5.1/manual.html#2.2.1
[14:43:42] <ano> but yeah, seems string.match more appropriate in this case: content:match('MemAvailable:%s+(%d+)') / 1024
[14:56:09] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[14:57:28] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[15:05:14] *** Joins: StephenLynx (~StephenLy@2804:1054:3015:cdb0::e93)
[15:08:29] <tumn> ano: coercion is nice, but it's better to be explicit
[15:09:23] <tumn> especially in this case
[15:11:02] *** Joins: Kane_ (~Kane@2a01:e34:ee89:5d90:cdea:5b81:f953:8f32)
[15:11:13] <tumn> like consider that the return value won't be coerced to a number until arithmetic is done on it, which could cause confusion if the division is ever removed or the code is copied 
[15:12:08] <tumn> even from a readability perspective tonumber() wherever coercion might work is more honest about what's being returned
[15:13:30] *** Quits: Kane (~Kane@2a01:e34:ee89:5d90:cdea:5b81:f953:8f32) (Ping timeout: 240 seconds)
[15:14:09] <ano> think (%d+) obvious enough
[15:16:22] <tumn> (%d+) returns a substring that matches a sequence of digits
[15:16:26] <tumn> not a number
[15:16:33] <tumn> until it's converted to a number
[15:16:51] <tumn> so it makes sense to acknowledge in code that it's a string to avoid human error
[15:17:15] <tumn> e.g. by calling tonumber() on it before using it
[15:17:32] <tumn> even if it otherwise would be coerced
[15:17:54] <tumn> it still a mistake, calling tostring() on it will sill say "string" not "number"
[15:18:18] <tumn> type()* not tostring()
[15:19:21] <tumn> only time it doesn't matter is if it's not being assigned to a variable, but even then the code might be copied somewhere else and introduce a bug
[15:20:21] <tumn> being explicit is simply a universally good programming good habit
[15:21:42] <ano> is there a way to match beginning of the line and string?
[15:21:55] <ano> *and/or
[15:23:21] <tumn> ^ pattern matches the beginning of the string
[15:23:33] <tumn> for example: ("hello"):match("^he")
[15:24:41] <tumn> beginning of a line, not sure, maybe match for newline or use io.lines iterator if reading from a file
[15:31:36] *** Joins: Elw3 (~Elw3@dynamic-046-114-154-065.46.114.pool.telefonica.de)
[15:32:24] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Remote host closed the connection)
[15:32:47] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[15:50:49] *** Joins: Tricycle (~CGI273@lfbn-idf1-1-1830-41.w90-91.abo.wanadoo.fr)
[16:17:37] *** Joins: ratchetfreak (~ratchetfr@d51a4beaf.access.telenet.be)
[16:26:07] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[16:29:33] <ano> so it should be something like this: tonumber(content:match('^MemAvailable: +(%d+) kB\n') or content:match('\nMemAvailable: +(%d+) kB\n'))
[16:51:54] *** Quits: ratchetfreak (~ratchetfr@d51a4beaf.access.telenet.be) (Ping timeout: 256 seconds)
[17:04:49] *** Quits: szutt (~szutt@116.37.2.145) (Ping timeout: 246 seconds)
[17:04:52] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[17:07:16] *** Joins: szutt (~szutt@116.37.2.145)
[17:08:56] <tumn> tonumber(content:match("[^\n]MemAvailable: +(%d+) kB")
[17:09:05] <tumn> [^\n] should match either the beginning of the string or a newline
[17:10:01] *** Quits: Elw3 (~Elw3@dynamic-046-114-154-065.46.114.pool.telefonica.de) (Quit: Leaving)
[17:11:20] <Tricycle> beginning of sting is ^ but only as the frst char of a pattern
[17:11:38] *** Joins: magla (~gelignite@55d4d566.access.ecotel.net)
[17:11:57] <Tricycle>  [^\n]  is everything but newline
[17:12:40] <Tricycle> In lua I'd write it "[^%\\n]" because \ must be string escaped if useing ' ' or "" string, and because % is the pattern escaping character
[17:23:57] <ano> [^\n] is (everything but newline), [\n^] is (newline or caret), so as far i can see there is no way to specify (beginning of the string or newline), right?
[17:24:44] <Tricycle> you could just append a newline to the string before trying the match
[17:25:20] <Tricycle> There's also the frontier thing
[17:27:13] *** Quits: szutt (~szutt@116.37.2.145) (Ping timeout: 246 seconds)
[17:31:09] *** Joins: netlynx (~me@94-226-69-15.access.telenet.be)
[17:31:59] *** Joins: szutt (~szutt@116.37.2.145)
[17:34:32] <Tricycle> % for _,str in ipairs{"abcd","\nabcd"} do print(("\n"..str):match("()[^\n]")-1) end
[17:34:32] <yalb> Tricycle: 1; 2
[17:34:36] <Tricycle> % for _,str in ipairs{"abcd","\nabcd"} do print(str:match("%f[^\n\x00]()")) end
[17:34:36] <yalb> Tricycle: 1; 2
[17:39:07] *** Quits: szutt (~szutt@116.37.2.145) (Ping timeout: 246 seconds)
[17:41:30] <tumn> put \n? at the end instead
[17:41:35] <tumn> that should match a line
[17:43:43] *** Joins: szutt (~szutt@116.37.2.145)
[17:45:23] <tumn> % for line in ("abcd\nefgh\nijkl"):gmatch("(.+)\n?") do; print(line); end
[17:45:23] <yalb> tumn: abcd; efgh; ijkl
[17:48:34] *** Quits: szutt (~szutt@116.37.2.145) (Ping timeout: 246 seconds)
[17:50:57] *** Joins: szutt (~szutt@116.37.2.145)
[18:05:04] <ano> >malformed pattern (missing ']' on luaji-2.0.5 for second %f example
[18:05:41] <ano> *luajit
[18:09:12] *** Joins: ming (~ming@2601:547:a00:7720::88e8)
[18:10:55] <Tricycle> %f is fairly recent, like lua 5.3, and does not exist in your luaji
[18:13:53] <ano> it works in some cases, for example: string.gsub ("THE (QUICK) brOWN FOx JUMPS", "%f[%a]%u+%f[%A]", print), so probably (at least partially) exists in luajit
[18:31:52] *** Joins: aquanight (~aquanight@174-126-159-166.cpe.sparklight.net)
[18:40:06] *** Joins: Vornicus (~Vornicus@2603-8000-5d07-7ef0-1027-ab2b-cf06-1736.res6.spectrum.com)
[19:01:49] *** Joins: graywolf (~wolf@user/graywolf)
[19:19:09] *** Quits: graywolf (~wolf@user/graywolf) (Quit: WeeChat 3.2)
[19:28:30] *** Joins: reset (~reset@user/reset)
[19:40:38] *** Joins: graywolf (~wolf@user/graywolf)
[19:48:04] *** Joins: penguino (~mrpenguin@user/mrpenguin)
[20:12:01] *** Quits: szutt (~szutt@116.37.2.145) (Quit: Client closed)
[20:28:41] *** Joins: easbarbosa (~user@2804:1b2:82:e989:3335:154c:a507:9308)
[20:47:35] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Quit: elastic_dog)
[20:47:48] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[20:56:51] *** Joins: ratchetfreak (~ratchetfr@ptr-82s3g7l9r42569r41f4.18120a2.ip6.access.telenet.be)
[21:18:42] *** Quits: ming (~ming@2601:547:a00:7720::88e8) (Ping timeout: 240 seconds)
[21:19:11] *** Joins: ming (~ming@2601:547:a00:7720::88e8)
[21:31:43] *** Quits: easbarbosa (~user@2804:1b2:82:e989:3335:154c:a507:9308) (Remote host closed the connection)
[21:50:22] *** Joins: entuland (~entuland@user/entuland)
[22:06:56] *** Quits: ming (~ming@2601:547:a00:7720::88e8) (Remote host closed the connection)
[22:40:22] *** Joins: skapata (~Skapata@user/skapata)
[22:40:22] *** Quits: fcr (~fran@r167-60-22-196.dialup.adsl.anteldata.net.uy) (Read error: Connection reset by peer)
[22:41:05] *** Joins: fcr (~fran@r167-60-30-160.dialup.adsl.anteldata.net.uy)
[23:00:45] *** Quits: graywolf (~wolf@user/graywolf) (Quit: WeeChat 3.2)
[23:18:53] <nmz> https://tpaste.us/KM5n  how is it possible to do a table:reverse() ?
[23:19:16] <nmz> concat also doesn't like methods
[23:30:13] *** Quits: guidoc (~guido@host-95-235-253-53.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[23:36:47] *** Joins: Elw3 (~Elw3@dynamic-046-114-168-212.46.114.pool.telefonica.de)
[23:51:47] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 252 seconds)
