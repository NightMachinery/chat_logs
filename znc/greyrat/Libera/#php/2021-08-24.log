[00:15:56] *** Quits: freeworld (~vit@chello085216193138.chello.sk) (Quit: Konversation terminated!)
[00:18:09] *** Quits: Akimb (~Akimb@86.100.13.100) (Read error: Connection reset by peer)
[00:26:10] *** Quits: guidoc (~guido@151.57.94.116) (Ping timeout: 252 seconds)
[00:28:31] <celphi> has anyone here dealt with this problem before? https://stackoverflow.com/questions/44479681/cors-php-response-to-preflight-request-doesnt-pass-am-allowing-origin
[00:31:36] <__adrian> did you see the accepted answer there?
[00:34:15] <celphi> yah but i dont really understand it
[00:34:55] <__adrian> start studying about the parts you don't understand.  https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS might be a good place to start
[00:35:28] <__adrian> it seems pretty clear and complete, so you'd need to dive into the basics and then see what more specific questions you end up with
[00:35:29] <celphi> ok brb - thnx a
[00:36:31] <__adrian> in the end, this is not going to be a copy+paste sort of answer, and it likely won't have much/anything to do with your php code aside from "you need to set {some header}" or similar.
[00:37:14] <celphi> yeah i just dont get the setting of headers in php part. is it like something you have before echoing back to server?
[00:37:22] <__adrian> no
[00:37:31] <__adrian> do you know what a http response looks like?
[00:37:31] <celphi> but ill just read article first and ask question afterwards-
[00:37:40] <celphi> in browser yes
[00:37:51] <celphi> in network tab
[00:37:51] <__adrian> no, a raw response. a http message.
[00:38:03] <celphi> isnt it same thing?
[00:38:32] <__adrian> https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Example_session
[00:38:40] <celphi> ie content type, accept, cookie ect
[00:38:45] <__adrian> three parts: status line, headers, body.
[00:39:03] <__adrian> note the headers are (literally) _before_ the body.
[00:39:21] <__adrian> if you echo "something", that goes to the body, so it's then too late to send headers.
[00:39:22] <celphi> ok ya ive seen these before
[00:39:33] <biberu> celphi: two common causes for that is either that you're requiring credentials (and can't use wildcard origins, that you probably shouldn't anyway if you are), or that the preflight didn't return a success code (2xx)
[00:39:42] <__adrian> so you need to send any headers first, before you start output. https://php.net/header
[00:40:11] <__adrian> note also that depending on your design/needs, you might set up your webserver to do this, and not make php handle it at all.
[00:40:27] <celphi> yeah i cant really change that part
[00:40:59] <__adrian> "i cant really change that part"  // not saying it's the end of the world, but that's generally a bad sign
[00:41:13] <celphi> i cant change the server settings
[00:41:19] <__adrian> yes
[00:41:23] <__adrian> that's generally a bad sign
[00:41:26] <celphi> shrug
[00:41:37] <__adrian> e.g., it usually means "hmm maybe i need a better host"
[00:41:44] <celphi> it's my job
[00:41:53] <celphi> not my host provider
[00:42:00] <celphi> restrictions
[00:42:56] <celphi> sometimes i do stuff for my own website to get better at php
[00:43:05] <__adrian> if it's "your job" there are only three answers: *someone else changes server settings, you need to talk to them. *your job needs a better host, you need to talk to whoever decides that. *your job is an idiot, you need to find a different job.
[00:43:25] <celphi> lmao- amen
[00:43:37] <__adrian> "do this, oh but you can't do it the right way" is bad
[00:43:47] <biberu> what is your job exactly? build exactly to order, or help to make better decisions?
[00:44:26] <__adrian> ^ if your job is to do exactly what your boss tells you, then you need to say, "what exactly do you want me to do then?"
[00:44:29] <celphi> i am program a section of the site,. but i do not have control over root operations bc the settings they have affect entire site
[00:44:51] <biberu> control != influence
[00:45:03] <__adrian> tell your boss/pm/whatever that you have a problem than needs resolved
[00:45:06] <celphi> not much influece after 60days of working here
[00:45:23] <__adrian> no, you can't go do it yourself, but that doesn't mean it doesn't need done or can't be done.
[00:45:25] <biberu> anyway, what is the problem? what are your requests/responses looking like?
[00:46:11] <__adrian> that's not relevant. you're working there, you need to figure out problems. "i'm new here" doesn't mean you're not allowed to bring up issues/questions
[00:46:33] <celphi> if i send curl to server then i get the request on the server- if i send ajax to server and reply with json_encode([4]) i get an array 4 in JS,. but if i try to do json_encode($_REQUEST) from ajax, i just get an empty array
[00:46:48] <__adrian> in fact if i hired you, and you kept quiet about every problem you came across instead of bringing it up and getting clarification and solving the problem _well_, i'd fire you.
[00:47:17] <celphi> __adrian: i can bring them up , but i have a time line to finish what i have to do and my suggestions are backburner requests
[00:47:30] <__adrian> "json_encode($_REQUEST) from ajax"  // i have no idea what you mean by this
[00:47:35] <biberu> me neither
[00:47:48] <Sammitch> "
[00:47:51] <celphi> echo json_encode($_REQUEST) after sending ajax to server
[00:47:54] <biberu> request/response
[00:48:02] <__adrian> "i can bring them up , but..."  // then bring them up sooner. make clear it's a blocker for you.
[00:48:05] <Sammitch> "this issue is a blocker and is affecting my deliverables"
[00:48:05] <biberu> headers, specifically
[00:48:13] <__adrian> this (making clear) is your job  :)
[00:48:34] *** Joins: jeffrey (~jeffrey@84-107-68-141.cable.dynamic.v4.ziggo.nl)
[00:49:10] <celphi> ok then you're suggesting i suggest a server setting i dont even know myself and ive never had to use-- it always just works.
[00:49:51] <__adrian> "celphi> echo json_encode($_REQUEST) after sending ajax to server"  still not clear. *why are you trying to output the request? *what do you mean by "after sending request to server"? *are you talking about your js code making an ajax request?
[00:50:04] <biberu> celphi: are you familiar with http headers? can you see what your client is sending and what the server is responding with?
[00:50:15] <__adrian> celphi: no, i'm suggesting you TELL SOMEONE that you're having cors problems and need help understanding server settings.
[00:50:20] <celphi> __adrian: it's just a test to resend back the posted data to server back at client __adrian
[00:50:35] <__adrian> k
[00:50:59] <__adrian> so $_REQUEST is empty? is that unexpected?
[00:51:05] <celphi> yes.
[00:51:18] <__adrian> and i ahve to ask why you're looking at $_REQUEST instead of (e.g.) $_POST
[00:51:35] <celphi> i mean thats a side issue
[00:51:43] <__adrian> and since "ajax," whether it SHOULD be empty (are you sending json with your requests?
[00:51:45] <celphi> it should still have something in the global
[00:51:46] <__adrian> )
[00:52:04] <__adrian> "something"?  what do you expect?  it shouldn't be a mystery.
[00:52:09] <celphi> `body: JSON.stringify({test: 123})`
[00:52:16] <__adrian> so you're sending json?
[00:52:21] <celphi> yes
[00:52:27] <biberu> celphi: and to be clear i'm in no way suggesting that you do or suggest anything without knowing what you're doing, if you don't know then study :)
[00:52:32] <__adrian> json is not parsed into $_POST (or request or anything)
[00:52:49] <__adrian> you need to read it from input and decode it yourself
[00:53:32] <celphi> crap then that's prob my issue the
[00:53:42] <celphi> no prob biberu
[00:53:54] <__adrian> or more likely, if this is an existing system, there's something you don't know about and need to learn how it handles input
[00:53:56] <celphi> im doing a lot at once -
[00:54:28] <celphi> im going to try form object and see what happns
[00:56:17] <celphi> that was the issue
[00:56:22] <celphi> sigh all that time invested
[00:56:33] <biberu> not cors at all then? :)
[00:56:34] <celphi> had to use `$data = json_decode(file_get_contents('php://input'));`
[00:56:41] <celphi> bc it was json
[00:56:56] <celphi> i completely forgot about that
[00:56:58] *** Quits: onizu (uid373383@id-373383.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[00:57:18] <__adrian> is this an existing application you're working on?
[00:57:29] <__adrian> or is it something brand new you're creating?
[00:57:54] <celphi> existing site, but i am working on a new project that is branched off from main site
[00:58:11] <celphi> they added alias ^ my path
[00:58:16] <__adrian> then strongly recommend you go ASK about how it handles input. because it _probably does_.
[00:58:53] <celphi> it doesnt for the part of site im working on
[00:59:07] <celphi> i specifically had it route away from index.php
[01:05:38] *** Quits: lembron (~admin@user/lembron) (Remote host closed the connection)
