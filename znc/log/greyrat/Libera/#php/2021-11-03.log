[00:00:10] *** Joins: wildo (~lain6141@119.224.72.222)
[00:00:35] <Albright> freeman_h: Not entirely sure what you have in mind. If the arrays are keyed, you could fairly easily get the keys of both arrays, combine them, iterate through the list of keys and create an $array3 which contains the values for the corresponding keys from $array1 and/or $array2
[00:01:38] <Albright> $keys = array_unique(array_merge(array_keys($array1), array_keys($array2)));
[00:02:19] <Albright> foreach ($keys as $key) { $array3[$key] = array_merge($array1[$key] ?? [], $array2[$key] ?? []); }
[00:04:30] *** Quits: guido (~guido@host-79-13-249-223.retail.telecomitalia.it) (Quit: WeeChat 3.3)
[00:04:58] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 260 seconds)
[00:07:06] *** Quits: NakedKing (~NakedKing@user/nakedking) (Quit: Leaving)
[00:13:41] <freeman_h> very simple example but the issue with this one is that if you have ON clauses and then AND clause filtering it will be difference https://3v4l.org/oXVHW
[00:14:21] <freeman_h> P.S. this is the actual query I am trying to break up by the way https://kopy.io/FplHn
[00:15:11] <da_wunder> first advice - check those joins and convert all that is possible to inner joins
[00:15:51] <da_wunder> second advice - fetch those datas in separated queries and then use union to get all of those
[00:16:20] <da_wunder> third advice - use subselects to do that all
[00:17:50] <da_wunder> fourth advice - combine first three (or some of those) to get what you need
[00:18:54] <biberu> and profile your queries, check the execution plan, how your indexes are used etc
[00:18:59] <freeman_h> da_wunder, confused.com right now
[00:23:46] *** Joins: luva (~luva@146.70.62.238)
[00:25:31] <da_wunder> freeman_h: "simple" example about subselects - https://gist.github.com/tarlepp/770d40cc8f2778934e9057b4e9ec80f1
[00:26:27] *** Quits: wovixo (~wovixo@128.104.205.49) (Quit: Leaving)
[00:29:18] <freeman_h> da_wunder, I see that but your "third advice" just cancelled your "first advice"
[00:29:34] <freeman_h> which cancels your second advice
[00:29:44] <freeman_h> so which advice is valid?
[00:29:52] <biberu> da_wunder: finnish personal numbers also have the +/- thing for people older than 100?
[00:30:39] <da_wunder> biberu: that version don't have that support - I added that later on
[00:31:01] <da_wunder> freeman_h: and for those first and third advice it really depends what you want to do
[00:32:25] <da_wunder> there is another example - https://gist.github.com/tarlepp/2df53b9600e58cda5882 - that one saved like ~60s of query time - after that just like ~15ms
[00:35:17] <da_wunder> and on those "big" queries from minutes to seconds
[00:36:46] <da_wunder> the point of those advices that I shared is that you need to understand what you're trying to do and combine those for _your_ usecase - and most likely add some tweaks for your own use case
[00:41:21] *** Joins: Warped (~Warped@user/warped)
[00:44:10] *** Quits: WarpedAI (~Warped@user/warped) (Ping timeout: 260 seconds)
[00:47:46] *** Joins: onichomp (~onichomp@2806:264:4404:8200:1175:be32:9b53:3e70)
[00:48:08] *** Quits: onichomp (~onichomp@2806:264:4404:8200:1175:be32:9b53:3e70) (Read error: Connection reset by peer)
[00:48:46] *** Joins: onichomp (~onichomp@2806:264:4404:8200:1175:be32:9b53:3e70)
[00:49:05] *** Quits: onichomp (~onichomp@2806:264:4404:8200:1175:be32:9b53:3e70) (Read error: Connection reset by peer)
[00:49:15] *** Quits: magla (~gelignite@55d4b8af.access.ecotel.net) (Quit: Stay safe!)
[00:49:42] *** Joins: onichomp (~onichomp@2806:264:4404:8200:1175:be32:9b53:3e70)
[00:49:42] *** Quits: pmercado (~pmercado@190.22.183.232) (Ping timeout: 260 seconds)
[00:50:35] *** Quits: jgrim66 (~jgrim@d60-65-99-197.col.wideopenwest.com) (Read error: Connection reset by peer)
[00:50:56] *** Joins: jgrim66 (~jgrim@d60-65-99-197.col.wideopenwest.com)
[00:54:02] <freeman_h> da_wunder, thank you so much
[00:54:15] <freeman_h> will go with the subquery
[00:55:23] *** Quits: epolanski (uid312403@id-312403.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[00:56:37] <da_wunder> freeman_h: I really recommend you to try all the choices and those combinations of those
[00:57:09] <da_wunder> specially if that query is some business critical one - you want it to perform as fast as possible
[00:58:47] <da_wunder> and really don't just choose to use "subquery" before you've actually tested those out and see what is the difference
[01:01:13] *** Quits: Alex8532 (~Alex8532@user/alex8532) (Quit: Going offline, see ya! (www.adiirc.com))
[01:14:30] *** Quits: luva (~luva@146.70.62.238) (Ping timeout: 260 seconds)
[01:40:12] *** MelMalik is now known as AmyMalik
[01:42:08] *** Quits: xsx (~x@119.red-88-20-100.staticip.rima-tde.net) (Quit: leaving)
[01:48:21] <freeman_h> da_wunder, think i figure out why the query taking a life time to run and why some some reason when you run it on php you get the lock error from mysql. I will like pick your brains a little if you know much about sql has i am not too great with it. https://kopy.io/7FXIY line 74 and 76 this is added a if else if ... statement and I have a few of those querying the same table except the select column is different. line 74 is doing SELECT o.OrderDate and 75
[01:48:21] <freeman_h> is doing SELECT l.BasePriceWhenOrdered everything after that is the same. The question is, is the a way to run this has 1 query and then pull the columns names from the result instead of running it has 2 different query has it is currently
[01:48:24] *** Joins: luva (~luva@45.141.152.52)
[01:54:57] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[01:56:18] *** Joins: mr_gant (~mr_gant@103.192.80.185)
[02:06:53] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[02:14:08] *** Quits: deksar (~deksar@user/deksar) (Quit: Going offline, see ya! (www.adiirc.com))
[02:16:28] *** Joins: jetchisel (jetchisel@user/jetchisel)
[02:20:51] *** Quits: junktext (~junktext@gateway/vpn/pia/junktext) (Ping timeout: 268 seconds)
[02:25:11] *** Joins: harpia (~harpia@2804:2aec:205:1400:1a8b:e47a:9188:7f77)
[02:27:48] *** Joins: stenno (~stenno@user/stenno)
[02:30:06] *** Quits: stenno\OK (~stenno@user/stenno) (Ping timeout: 268 seconds)
[02:30:12] *** stenno is now known as stenno\OK
[02:30:17] *** Joins: deksar (~deksar@user/deksar)
[02:33:16] *** Quits: harpia (~harpia@2804:2aec:205:1400:1a8b:e47a:9188:7f77) (Quit: harpia)
[02:33:33] *** Joins: harpia (~harpia@143.208.84.235)
[02:36:53] <Blondie101010> freeman_h:  php will not affect how your query performs...  debug/optimize your SQL without PHP
[02:37:53] <Blondie101010> at first glance, that query is a report, not a live query
[02:37:56] <freeman_h> Blondie101010, query works when running it on its own
[02:38:08] <freeman_h> just seems to bug out when i php pdo runs it
[02:38:28] <Blondie101010> what does it do exactly
[02:39:26] <freeman_h> SQLSTATE[HY000]: General error: 1205 Lock wait timeout exceeded; try restarting transaction
[02:39:42] <freeman_h> its the only transaction running
[02:40:18] <Blondie101010> how long does it take to run that query in the mysql client?
[02:40:58] *** Quits: onichomp (~onichomp@2806:264:4404:8200:1175:be32:9b53:3e70) (Read error: Connection reset by peer)
[02:41:35] *** Joins: onichomp (~onichomp@2806:264:4404:8200:1175:be32:9b53:3e70)
[02:41:53] <Blondie101010> https://severalnines.com/database-blog/how-fix-lock-wait-timeout-exceeded-error-mysql should help you solve it
[02:42:23] <Blondie101010> can you show your code?
[02:44:56] *** Quits: deksar (~deksar@user/deksar) (Quit: Going offline, see ya!)
[02:46:31] <Blondie101010> it seems unlikely, but I wonder if you might have caused the problem inside a single script
[02:48:36] *** Quits: luva (~luva@45.141.152.52) (Ping timeout: 268 seconds)
[02:49:26] *** Quits: sebbu (~sebbu@user/sebbu) (Quit: restart)
[02:49:50] *** Quits: amcsi_ (~amcsi@2E8BA2D1.catv.pool.telekom.hu) (Ping timeout: 268 seconds)
[02:52:35] *** Joins: ferdna (~ferdna@user/ferdna)
[02:57:34] *** Quits: freeman_h (~freeman_h@94.5.86.162) (Ping timeout: 260 seconds)
[03:04:21] *** Joins: freeman_h (~freeman_h@2a02:c7f:fc54:ba00:78c7:896e:f5db:e5ad)
[03:19:40] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[03:23:46] *** Quits: freeman_h (~freeman_h@2a02:c7f:fc54:ba00:78c7:896e:f5db:e5ad) (Ping timeout: 268 seconds)
[03:29:29] *** Joins: sebbu (~sebbu@user/sebbu)
[03:31:46] *** Joins: freeman_h (~freeman_h@90.221.90.142)
[03:32:10] <freeman_h> back
[03:36:18] *** Quits: mr_gant (~mr_gant@103.192.80.185) (Ping timeout: 260 seconds)
[03:51:15] *** Joins: Hiccup (cHoy@user/hiccup)
[03:58:31] *** Quits: benl90 (benl90@sponsored.by.bnc4you.xyz) (Quit: Stable ZNC provider #bnc4you)
[04:04:46] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 260 seconds)
[04:04:53] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[04:07:50] *** Quits: traptrip (trip@brigaid.xs4all.nl) (Ping timeout: 260 seconds)
[04:12:28] *** Quits: vit (~vit@chello085216193138.chello.sk) (Ping timeout: 268 seconds)
[04:17:25] *** Quits: jeffrey (~jeffrey@2001:1c00:b11:8800:6035:eeff:fe81:bf1c) (Quit: Client quit)
[04:27:50] *** Quits: Albright (~Albright@2001:19f0:8001:ca4:1b5c:1bd6:918c:5122) (Quit: ZNC 1.8.2 - https://znc.in)
[04:28:03] *** Joins: Albright (~Albright@2001:19f0:8001:ca4:4d0e:ce74:c79b:d28a)
[04:32:29] *** Quits: harpia (~harpia@143.208.84.235) (Quit: harpia)
[04:32:50] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 260 seconds)
[04:38:47] *** Joins: keypusher (keypusher@user/keypusher)
[04:39:23] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[04:39:46] *** Quits: ms49434 (~ms49434@user/ms49434) (Quit: Leaving)
[05:02:01] *** Joins: WishBoy (~WishBoy@user/wishboy)
[05:04:11] *** Joins: mr_gant (~mr_gant@103.192.80.183)
[05:16:15] *** Joins: The_Jag_ (~The_Jag@host-79-52-47-230.retail.telecomitalia.it)
[05:17:51] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[05:18:58] *** Quits: The_Jag (~The_Jag@host-79-52-47-230.retail.telecomitalia.it) (Ping timeout: 260 seconds)
[05:19:50] *** Joins: jetchisel (jetchisel@user/jetchisel)
[05:27:19] *** Joins: benl90 (benl90@sponsored.by.bnc4you.xyz)
[05:30:30] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:35:09] *** Joins: vlm (~vlm@user/vlm)
[05:45:41] *** Joins: Rockwood (~Rocky@user/rocky)
[05:53:39] *** Joins: Rockwood_ (~Rocky@user/rocky)
[05:57:55] *** Quits: Rockwood (~Rocky@user/rocky) (Ping timeout: 268 seconds)
[06:13:48] *** Quits: celphi (sid97751@user/celphi) (Quit: Updating details, brb)
[06:14:01] *** Joins: celphi (sid97751@user/celphi)
[06:18:42] *** Quits: freeman_h (~freeman_h@90.221.90.142) (Read error: Connection reset by peer)
[06:18:49] *** Joins: The_Jag (~The_Jag@host-79-33-167-46.retail.telecomitalia.it)
[06:21:58] *** Quits: The_Jag_ (~The_Jag@host-79-52-47-230.retail.telecomitalia.it) (Ping timeout: 268 seconds)
[06:27:26] <gebbione> somehow phpunit is not showing much of a stack trace here ... https://paste.ubuntu.com/p/fR5Zx7m383/ . Anyone knows what to do to print it out as at the moment all the debugging should be enabled
[06:29:55] <Rockwood_> bye cya
[06:29:59] *** Quits: Rockwood_ (~Rocky@user/rocky) (Quit: The Time is Over)
[06:56:33] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[06:57:52] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[07:23:44] *** Quits: refactor_ring_ (~refactor_@142.93.146.100) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[07:24:19] *** Joins: refactor_ring (~refactor_@142.93.146.100)
[07:43:42] *** Quits: mr_gant (~mr_gant@103.192.80.183) (Ping timeout: 260 seconds)
[07:48:20] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[07:53:28] *** Quits: onichomp (~onichomp@2806:264:4404:8200:1175:be32:9b53:3e70) (Read error: Connection reset by peer)
[07:54:44] *** Quits: Hiccup (cHoy@user/hiccup) (Ping timeout: 250 seconds)
[07:57:30] *** Joins: mr_gant (~mr_gant@203-206-182-122.perm.iinet.net.au)
[08:04:46] *** Joins: WarpedAI (~Warped@user/warped)
[08:05:34] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 268 seconds)
[08:07:54] *** Quits: Warped (~Warped@user/warped) (Ping timeout: 260 seconds)
[08:19:26] *** Quits: arash (arash@thinks.life.is-a.beauty) (Quit: fBNC - https://bnc4free.com)
[08:20:02] *** Joins: Hiccup (cHoy@user/hiccup)
[08:21:40] *** Joins: arash (arash@thinks.life.is-a.beauty)
[08:26:20] *** Quits: WarpedAI (~Warped@user/warped) (Quit: We Gone! Bye Bye)
[08:27:16] *** Joins: haroldp (~haroldp@104-181-72-175.lightspeed.renonv.sbcglobal.net)
[09:18:22] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[09:23:24] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[09:34:23] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[09:38:10] *** Joins: deksar (~deksar@user/deksar)
[09:55:44] *** Joins: onizu (uid373383@id-373383.uxbridge.irccloud.com)
[09:57:13] *** Joins: onichomp (~onichomp@2806:264:4404:8200:253c:12b0:758e:5acf)
[09:59:29] *** Quits: onichomp (~onichomp@2806:264:4404:8200:253c:12b0:758e:5acf) (Read error: Connection reset by peer)
[10:00:06] *** Joins: onichomp (~onichomp@2806:264:4404:8200:253c:12b0:758e:5acf)
[10:02:32] <onizu> Hi. I'm trying to send a JSON response to a request, by simply echo'ing the JSON (result of json_encode(someArray) ).  I compared it with the response from another API. There's a difference in the way the response is received when I test on reqbin, the response-headers especially. These are the response headers in both the cases: https://paste.gg/p/anonymous/dc6b9cc27ac24ec090e937015f8f4cf1
[10:06:11] <onizu> How can I assert the content-type to be of application/json type? instead of Content-Type: text/html; charset=UTF-8
[10:06:24] <onizu> in the response
[10:08:31] <onizu> k, the header worked by adding: header('Content-Type: application/json');
[10:10:46] *** Quits: The_Jag (~The_Jag@host-79-33-167-46.retail.telecomitalia.it) (Quit: The_Jag)
[10:31:58] *** Quits: deksar (~deksar@user/deksar) (Quit: Going offline, see ya! (www.adiirc.com))
[10:32:18] *** Joins: deksar (~deksar@user/deksar)
[10:36:58] *** Joins: jetchisel (jetchisel@user/jetchisel)
[10:43:52] *** Joins: undefined_bob (~undefined@user/undefined-bob/x-5411918)
[10:57:01] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[11:02:47] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[11:06:41] *** Quits: Red (~Red@97.109-247-81.customer.lyse.net) (Ping timeout: 264 seconds)
[11:08:01] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[11:20:18] *** Joins: memoryleak (~memorylea@77-58-142-250.dclient.hispeed.ch)
[11:35:11] *** Joins: amcsi_ (~amcsi@2E8BA2D1.catv.pool.telekom.hu)
[11:41:34] *** Joins: Alex8532 (~Alex8532@user/alex8532)
[11:44:12] *** Joins: Red (~Red@97.109-247-81.customer.lyse.net)
[11:56:24] *** Joins: Deuchnord (~deuchnord@user/deuchnord)
[12:04:39] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[12:08:47] *** Joins: kerunaru (~Jmcb@202.red-79-146-100.dynamicip.rima-tde.net)
[12:12:03] *** Quits: CapitalistPunk (~Capitalis@liledevil.xs4all.nl) (Remote host closed the connection)
[12:12:21] *** Joins: CapitalistPunk (~Capitalis@liledevil.xs4all.nl)
[12:13:40] *** Joins: onichomp666 (~onichomp@2806:264:4404:8200:880c:3030:7d36:6a42)
[12:15:20] *** Quits: onichomp (~onichomp@2806:264:4404:8200:253c:12b0:758e:5acf) (Ping timeout: 268 seconds)
[12:16:09] *** Joins: DevAntoine (~DevAntoin@195.101.183.21)
[12:28:45] *** Joins: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it)
[12:32:14] *** Joins: delboy1978uk (~delboy197@202.42-132-109.adsl-dyn.isp.belgacom.be)
[12:35:35] *** Quits: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:37:01] *** Quits: delboy1978uk (~delboy197@202.42-132-109.adsl-dyn.isp.belgacom.be) (Client Quit)
[12:48:00] *** Joins: ms49434 (~ms49434@user/ms49434)
[12:48:48] *** Joins: delboy1978uk (~delboy197@109.132.42.202)
[12:51:45] *** Joins: hans (~hans@81.166.125.50.static.multigamer.no)
[12:54:56] *** Joins: LucaTM (~LucaTM@user/lucatm)
[13:03:22] *** Joins: vit (~vit@chello085216193138.chello.sk)
[13:08:56] *** Janusz_ is now known as Janusz
[13:20:42] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Ping timeout: 268 seconds)
[13:21:33] *** Joins: epolanski (uid312403@id-312403.helmsley.irccloud.com)
[13:22:42] *** Joins: wfpkhc (~wfpkhc2@user/wfpkhc)
[13:22:49] * wfpkhc wanders into the channel
[13:22:52] *** Joins: Atlas (~atlas@user/atlas)
[13:23:14] * wfpkhc waves hello
[13:23:25] <wfpkhc> i have a question
[13:24:08] * wfpkhc sits quietly
[13:26:41] <wfpkhc> i guess no one is around
[13:27:01] * wfpkhc wanders out
[13:27:05] *** Quits: wfpkhc (~wfpkhc2@user/wfpkhc) (Client Quit)
[13:30:24] <stenno\OK> if only they asked their question wtf
[13:33:38] *** Quits: molt (~molt@178-222-245-206.static.isp.telekom.rs) (Ping timeout: 268 seconds)
[13:35:25] <hans> probably a troll
[13:43:42] <Blondie101010> no, just an eternal beginner
[13:45:59] *** Joins: onichomp (~onichomp@2806:264:4404:8200:7d0b:2cb0:9706:a67c)
[13:47:23] <biberu> he's always like that
[13:48:27] *** Quits: onichomp666 (~onichomp@2806:264:4404:8200:880c:3030:7d36:6a42) (Ping timeout: 268 seconds)
[13:49:08] <stenno\OK> i see
[13:49:14] *** Quits: wildo (~lain6141@119.224.72.222) (Quit: leaving)
[13:54:06] <stenno\OK> hate that
[13:54:43] <stenno\OK> whenever somebody asks 'is anyone around' and then you answer 'yes' they take it as 'i will now be your personal support for the next half hour for any question you are having'
[13:57:30] * Blondie101010 nods
[13:57:59] <hans> is anyone around?
[14:00:10] *** Quits: onichomp (~onichomp@2806:264:4404:8200:7d0b:2cb0:9706:a67c) (Ping timeout: 268 seconds)
[14:05:46] <undefined_bob> hans: just ask your question ^^
[14:06:37] <biberu> undefined_bob is now your personal expert
[14:16:11] <Robdgreat> sucker
[14:23:51] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[14:37:06] <undefined_bob> I wouldn't be much of a help, biberu :O
[14:38:02] <hans> undefined_bob, get me a cup of coffee!
[14:38:21] <undefined_bob> that's something I can do
[14:39:03] <undefined_bob> what kind of milk would you prefer, if any? same with sweetener?
[14:39:25] <hans> just make it black. just need the caffeine right now
[14:39:46] <undefined_bob> alright let me get this started for you
[14:40:26] * undefined_bob hands over a large cup of black coffee to hans
[14:40:48] *** Quits: Hiccup (cHoy@user/hiccup) (Remote host closed the connection)
[14:40:58] <hans> ^^ (if someone actually comes for help, lets cut it out asap)
[14:42:10] <undefined_bob> I still dont see your real question, hans. Or did I miss it?
[14:44:02] <hans> oh, i don't have one, just made a little joke in response to stenno\OK 's message > hate that whenever somebody asks 'is anyone around'~~
[14:44:52] <hans> isn't there a ##php-social channel or something?
[14:45:17] <hans> used to be on freenode
[14:45:20] <Robdgreat> #phpc iirc
[14:46:26] <stenno\OK> indeed
[14:46:29] *** Atlas is now known as atlas`
[14:47:10] <Nekomander> Is anyone around? :P
[14:49:16] <Robdgreat> :(
[14:56:37] * hans is afk eating
[14:59:45] <undefined_bob> ow looks like I didnt get the joke :( that happen often to me
[15:03:26] *** Joins: ferdna (~ferdna@user/ferdna)
[15:04:14] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 260 seconds)
[15:07:22] *** Quits: ferdna (~ferdna@user/ferdna) (Remote host closed the connection)
[15:08:13] *** Joins: ferdna (~ferdna@user/ferdna)
[15:11:04] *** Quits: Deuchnord (~deuchnord@user/deuchnord) (Ping timeout: 268 seconds)
[15:11:41] *** Quits: hans (~hans@81.166.125.50.static.multigamer.no) (Ping timeout: 268 seconds)
[15:15:48] <onizu> does the routing work only when the php page is loaded in a browser? I'm trying to request a URL from another program and I'm getting a different set of response headers than I get when I load it in the browser
[15:18:17] <stenno\OK> can you be more specific? how do the headers differ?
[15:18:53] <stenno\OK> the 'routing' will be done by your webserver, and the webserver doesn't really care who makes the request
[15:20:41] <onizu> stenno\OK: https://paste.gg/p/anonymous/e8854a00a9334335a8b543d09853eb89
[15:21:35] <TinoDidriksen> Those are response headers, not request headers.
[15:22:11] *** Quits: brentaarnold (~brentaarn@32.132.115.46) (Ping timeout: 245 seconds)
[15:22:36] <onizu> TinoDidriksen: Yes, I'm talking about response headers
[15:22:45] <onizu> TinoDidriksen: btw, I got past the 404
[15:23:09] *** Joins: Deuchnord (~deuchnord@user/deuchnord)
[15:23:28] <TinoDidriksen> Response headers don't affect routing. But Content-Type differing shows there's a significant difference between the requests.
[15:23:52] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[15:23:58] <stenno\OK> wonder why set-cookie is only in one response and not the other
[15:24:18] <TinoDidriksen> If the URL and params are identical, then you need to see request headers. Maybe one is actually requesting JSON data while the other is not.
[15:24:33] <onizu> stenno\OK: I noticed it comes up when the content-type is not JSON
[15:25:07] <onizu> TinoDidriksen: ok.
[15:25:28] <stenno\OK> wait so the requests for both responses were not identical?
[15:25:36] <onizu> but in the response I have set the header content-type to be application/json
[15:25:53] <onizu> stenno\OK: I don't know
[15:25:59] <stenno\OK> :|
[15:26:09] <onizu> i mean I don't know about the request _headers_ if they were identical
[15:26:25] *** Joins: brentaarnold (~brentaarn@32.132.115.46)
[15:27:53] <Naktibalda> you can see request headers sent by browser in developer tools
[15:30:50] <onizu> I got the browser request headers
[15:31:01] <onizu> (getting the other request headers)
[15:34:08] *** atlas` is now known as Atlas
[15:34:40] *** Joins: keypusher (~keypusher@user/keypusher)
[15:38:13] *** Joins: keypushe- (keypusher@user/keypusher)
[15:38:46] <Naktibalda> onizu: anyway, this is not a PHP question, routing is application specific, so you have to look how it is implemented and read framework specific documentation
[15:39:10] *** Quits: keypusher (~keypusher@user/keypusher) (Ping timeout: 260 seconds)
[15:39:21] <Naktibalda> have you looked at response body when you got wrong result?
[15:40:24] <onizu> ok. I've set these headers in the request: https://paste.gg/p/anonymous/f5270f167b684c8f9f2eefb39ad40f15
[15:40:50] <stenno\OK> ok but the second response is text/html
[15:40:55] <onizu> I'm not able to read any non-JSON response body
[15:40:57] <stenno\OK> so you don't set your headers properly
[15:41:17] <stenno\OK> or your backend is messed up
[15:41:26] *** keypushe- is now known as keypusher
[15:41:27] <stenno\OK> what Naktibalda said
[15:41:45] <onizu> stenno\OK: I did set the request headers, still getting response with content-type text/html
[15:41:49] <stenno\OK> actually..
[15:42:31] <stenno\OK> is the response of the text/html actually an error message from the backend framework?
[15:42:57] <onizu> I think the request is not reaching the right controller.. but I don't know how to check that since I'm not requesting from the browser
[15:43:18] <onizu> stenno\OK: no, it's not an error msg
[15:43:30] <stenno\OK> its a valid response?
[15:43:34] <onizu> as the status code is 200
[15:43:38] <stenno\OK> ok
[15:43:59] <TinoDidriksen> Status code 200 can still show an error message in the body.
[15:44:01] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[15:44:09] <onizu> oh
[15:44:10] <stenno\OK> sure
[15:44:19] *** Joins: hans (~hans@81.166.125.50.static.multigamer.no)
[15:45:10] <stenno\OK> otherwise we'd need to see just how exactly you are making the two request, i.e. show the code
[15:46:57] *** Quits: hans (~hans@81.166.125.50.static.multigamer.no) (Client Quit)
[15:47:20] <onizu> one request is simply loading the url in the browser, the other is c++
[15:47:51] <stenno\OK> onizu: so what is the response body of the text/html response?
[15:48:10] <onizu> stenno\OK: not able to get the non-JSON response _body_ yet
[15:49:02] <stenno\OK> if you don't want to show your code and can't tell us anything more then i don't think we can help you much more
[15:50:37] <onizu> which code do you want to see? it's an API that I'm working with (and so a lot of the code is in it)
[15:51:16] <stenno\OK> we'd need to see just how exactly you are making the two request, i.e. show the code
[15:51:22] <Naktibalda> onizu: save that response before parsing it
[15:54:09] *** Joins: Warped (~Warped@user/warped)
[16:00:25] <onizu> stenno\OK: https://paste.gg/p/anonymous/df7c2185184a428b8d0dcfe1ae9d0544
[16:00:58] <onizu> is how the request is being made.. (you can see the headers being set in the request)
[16:02:01] *** Joins: hans (~hans@81.166.125.50.static.multigamer.no)
[16:02:17] <stenno\OK> do you need to be logged in to get the data or something?
[16:02:27] <stenno\OK> set-cookie of the browser request implies that
[16:02:53] <stenno\OK> anyway the solution will be in the body of the response lol
[16:03:04] <stenno\OK> no need to speculate any more until we get it
[16:03:25] <onizu> no login required. as I told, this request works by simply loading the url in the browser
[16:04:30] <Naktibalda> response body or GTFO
[16:04:36] <biberu> onizu: mitm the requests, compare differences
[16:05:02] <hans> could start by devtool'ing the request
[16:05:20] <Naktibalda> if request fails really badly, there could be some useful information in server logs
[16:06:40] <Naktibalda> onizu: are you making POST request without request body?
[16:06:53] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Remote host closed the connection)
[16:07:02] *** Joins: molt (~molt@178-222-245-206.static.isp.telekom.rs)
[16:07:20] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[16:19:55] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 260 seconds)
[16:23:17] *** Joins: guido (~guido@host-79-53-243-246.retail.telecomitalia.it)
[16:23:18] *** Joins: harpia (~harpia@2804:2aec:205:1400::323)
[16:27:07] <onizu> Naktibalda: yea, mistake. changed to GET
[16:27:21] <onizu> GTFO? mitm?
[16:28:13] <Naktibalda> onizu: request method is much more important than headers for routing. Does it still fail?
[16:28:51] <Naktibalda> onizu: GTFO - https://imgur.com/jacoj
[16:30:06] *** Quits: kerunaru (~Jmcb@202.red-79-146-100.dynamicip.rima-tde.net) (Ping timeout: 260 seconds)
[16:30:50] <hans> and "mitm" means "record the request in fiddler proxy" (devtools is usually sufficient, but sometimes it isn't.. like when debugging android/iOS app requests)
[16:31:24] *** Joins: deltab (~deltab@user/deltab)
[16:33:03] <stenno\OK> oh zomg
[16:33:34] <hans> ?
[16:33:34] <onizu> Naktibalda: yea still get the response as text/html
[16:34:50] *** Joins: tuskkk____ (uid18470@id-18470.tinside.irccloud.com)
[16:36:01] *** Joins: wovixo (~wovixo@128.104.205.49)
[16:37:20] *** Atlas is now known as atlas`
[16:37:52] *** Joins: freeman_h (~freeman_h@2a02:c7f:fc54:ba00:3526:2115:bf31:a7d4)
[16:38:12] <freeman_h> hi all php.net is down anyone having the same issue?
[16:38:32] <stenno\OK> wfm
[16:38:43] <Naktibalda> works for me
[16:38:55] <hans> freeman_h, works fine here. what do you get from `nslookup php.net` ?
[16:39:11] <undefined_bob> works fine here too
[16:39:28] <freeman_h> Security Check
[16:39:28] <freeman_h> Our systems have detected unusual traffic from your computer network. This page checks to see if it is really you sending the requests and not a bot.
[16:39:51] <biberu> til that freeman_h is a bot
[16:39:51] <freeman_h> not sure what traffic but I am not running vpn
[16:39:54] <hans> dafuq, cloudflare perhaps? is php.net running on cloudflare?
[16:39:59] <freeman_h> biberu, lol
[16:40:18] <freeman_h> sorted
[16:40:37] <stenno\OK> freeman_h: are you online with mobile data?
[16:40:58] <freeman_h> nope
[16:44:08] <onizu> what's the bare minimum I need to set on a php page to return a JSON response to a restful request?
[16:45:49] <biberu> <?=0?>?
[16:46:02] <Naktibalda> <?php header('Content-Type: application/json'); echo json_encode($data);
[16:46:14] <biberu> so much code Naktibalda ;)
[16:46:43] <hans> php -r '$srv=socket_create_listen(80); while($c=socket_accept($srv)){fwrite($c,"{}");socket_close($c);}'
[16:46:50] <Naktibalda> your example could be shortened to 0
[16:46:56] <biberu> :D
[16:47:10] <hans> oh, 0 is valid json? clever
[16:47:46] <onizu> i'm trying this: https://paste.gg/p/anonymous/f8b3798a296e448581b4798473aef5be
[16:48:18] * hans totally forgot http headers
[16:48:46] <onizu> and that crashes when I try to get the status code :/
[16:49:09] <hans> what the heck is header_remove() ? some wordpress api?
[16:49:26] <hans> hum no, >(PHP 5 >= 5.3.0, PHP 7, PHP 8)
[16:49:38] <onizu> should the status code not be set manually by http_response_code(200); ?
[16:49:48] <Naktibalda> 200 is default anyway
[16:50:22] <hans> that's usually not required. there are some (mis)-configurations where nginx 404_handler /index.php sets the "default" to 404 and stuff, but.. not normal
[16:50:26] <Naktibalda> what do you mean by "crashes"?
[16:51:04] <onizu> the application crashes (Exception)
[16:51:19] <hans> and what does the exception say? dadvc
[16:51:37] <hans> i don't really see ANYTHING in that code that could possibly cause an exception though.. nothing at all
[16:51:44] <Naktibalda> onizu: bare minimum code doesn't run in your framework
[16:52:00] <Naktibalda> die(); after echo
[16:52:11] <onizu> there's no framework. I created a new dir on the domain and placed an index.php in it with this code
[16:52:49] <hans> https://i.kym-cdn.com/entries/icons/original/000/023/021/e02e5ffb5f980cd8262cf7f0ae00a4a9_press-x-to-doubt-memes-memesuper-la-noire-doubt-meme_419-238.png
[16:53:14] <hans> onizu, what makes you think that code caused an exception?
[16:53:19] <Naktibalda>  onizu: what exception did you get?
[16:53:53] <onizu> "Exception has occurred: W32/0xC000041D Unhandled exception at 0x00007FFC6C364F99 (KernelBase.dll) in ARCHICAD.exe: 0xC000041D: An unhandled exception was encountered during a user callback."
[16:54:15] <hans> how to cause an exception with that code: runkit7_function_redefine(...)
[16:54:56] <hans> oh lel, that's not PHP throwing an exception.. that's a client getting an exception (the client probably didn't like your response)
[17:16:18] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[17:20:08] *** Joins: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it)
[17:21:29] *** Quits: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it) (Client Quit)
[17:22:39] *** Joins: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it)
[17:24:19] *** Quits: Warped (~Warped@user/warped) (Quit: We Gone! Bye Bye)
[17:25:54] *** Quits: delboy1978uk (~delboy197@109.132.42.202) (Quit: delboy1978uk)
[17:26:03] *** Joins: zach (~zach@66.208.32.135)
[17:26:23] *** Quits: zach (~zach@66.208.32.135) (Client Quit)
[17:26:47] <freeman_h> "Non-optimal if conditions"  if ($this->api->getResponseCode() !== 200 || empty($response)) {
[17:26:47] *** Quits: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it) (Client Quit)
[17:27:01] <freeman_h> how is this a "Non-optimal if conditions"
[17:27:19] *** Joins: bynx (~zach@66.208.32.135)
[17:27:36] *** Quits: bynx (~zach@66.208.32.135) (Client Quit)
[17:27:46] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[17:28:08] *** Joins: bynx (~bynx@66.208.32.135)
[17:28:28] *** Joins: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it)
[17:28:45] <Naktibalda> freeman_h: empty() call is estimated to be cheaper than method call
[17:29:59] *** Quits: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it) (Client Quit)
[17:33:55] *** Joins: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it)
[17:34:53] <hans> and isset() should be cheaper than empty (also empty("0")=>bool(true) )
[17:35:02] *** atlas` is now known as Atlas
[17:35:31] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Read error: Connection reset by peer)
[17:36:04] *** Quits: guido (~guido@host-79-53-243-246.retail.telecomitalia.it) (Quit: WeeChat 3.3)
[17:36:57] <onizu> got it working.  It really required an .htaccess file with some redirect rule.. otherwise it was failing
[17:37:33] <onizu> (means it won't work with my router)
[17:39:41] <freeman_h> hans, it is set just want to check if the response variable is empty
[17:39:57] <freeman_h> the variable is an array
[17:40:31] <hans> kk, nvm then, empty sounds like the fastest option (count() should be slower just because it's a function)
[17:40:40] *** Quits: Alex8532 (~Alex8532@user/alex8532) (Quit: Going offline, see ya! (www.adiirc.com))
[17:45:31] *** Joins: luva (~luva@37.120.197.46)
[17:46:42] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[17:47:33] *** Quits: bynx (~bynx@66.208.32.135) (Quit: WeeChat 2.8)
[17:51:49] <deksar> https://thecustomizewindows.com/2015/01/remove-expires-thu-19-nov-1981-php-header-ubuntu-server/
[17:52:03] <deksar> Exremely funny sentences. "He could add an X-Header : Parents-Sexually-Active"
[17:52:06] * deksar lols
[17:53:42] *** Joins: guido (~guido@host-79-53-243-246.retail.telecomitalia.it)
[17:57:38] <AllenJB> That document appears to have been run through Google Translate a few times
[17:59:55] <biberu> i think it needs more translation
[18:03:03] *** Atlas is now known as atlas`
[18:04:14] *** Quits: guido (~guido@host-79-53-243-246.retail.telecomitalia.it) (Quit: WeeChat 3.3)
[18:07:50] *** Joins: guido (~guido@host-79-53-243-246.retail.telecomitalia.it)
[18:08:05] *** atlas` is now known as Atlas
[18:12:55] *** Joins: delboy1978uk (~delboy197@109.132.42.202)
[18:16:42] *** Joins: Alex8532 (~Alex8532@user/alex8532)
[18:20:50] *** Quits: delboy1978uk (~delboy197@109.132.42.202) (Quit: delboy1978uk)
[18:21:15] *** Joins: delboy1978uk (~delboy197@202.42-132-109.adsl-dyn.isp.belgacom.be)
[18:23:54] *** Quits: Alex8532 (~Alex8532@user/alex8532) (Ping timeout: 260 seconds)
[18:24:04] *** Joins: leadgeek (~leadgeek@user/leadgeek)
[18:36:41] *** Quits: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:37:46] *** Atlas is now known as atlas`
[19:00:12] *** Joins: TheStormsOfFury (~StormsOfF@wsip-207-162-134-107.tu.ok.cox.net)
[19:04:36] *** Quits: tuskkk____ (uid18470@id-18470.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[19:11:43] *** Joins: genom (~g@37.214.40.199)
[19:14:34] *** Joins: WishBoy (~WishBoy@user/wishboy)
[19:21:57] *** Quits: harpia (~harpia@2804:2aec:205:1400::323) (Quit: harpia)
[19:22:30] *** Parts: Ionut (ionut@user/ionut) ()
[19:22:53] *** atlas` is now known as Atlas
[19:27:29] *** Quits: Deuchnord (~deuchnord@user/deuchnord) (Remote host closed the connection)
[19:35:37] *** Quits: hans (~hans@81.166.125.50.static.multigamer.no) (Ping timeout: 268 seconds)
[19:39:35] *** Quits: RonWhoCares (~ronpi@dhcp-108-170-129-12.cable.user.start.ca) (Read error: Connection reset by peer)
[19:41:16] <relipse> Is there a reason my cookie is not getting removed? I did $_COOKIE['foobar'] = ''; and setcookie("foobar", "", (time() -3600), "/");
[19:41:48] <relipse> when i browse to other page, it still display my cookie
[19:43:49] <TinoDidriksen> Check what path the cookie you're seeing was set for.
[19:49:37] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[19:55:56] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[20:06:46] *** Joins: RonWhoCares (~ronpi@dhcp-108-170-129-12.cable.user.start.ca)
[20:15:03] *** Joins: bynx (~bynx@66.208.32.135)
[20:17:04] *** Joins: harpia (~harpia@2804:2aec:205:1400::323)
[20:24:18] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: Hard work pays off in the future, laziness pays off now)
[20:25:03] *** Quits: onizu (uid373383@id-373383.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[20:36:20] *** Quits: DevAntoine (~DevAntoin@195.101.183.21) (Remote host closed the connection)
[20:39:48] *** Joins: DevAntoine (~DevAntoin@195.101.183.21)
[20:40:59] *** Quits: DevAntoine (~DevAntoin@195.101.183.21) (Remote host closed the connection)
[20:41:09] *** Joins: DevAntoine (~DevAntoin@195.101.183.21)
[20:41:16] *** Quits: DevAntoine (~DevAntoin@195.101.183.21) (Read error: Connection reset by peer)
[20:47:06] *** Parts: delboy1978uk (~delboy197@202.42-132-109.adsl-dyn.isp.belgacom.be) ()
[21:05:48] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[21:07:34] *** Quits: guido (~guido@host-79-53-243-246.retail.telecomitalia.it) (Quit: WeeChat 3.3)
[21:09:22] *** Quits: freeman_h (~freeman_h@2a02:c7f:fc54:ba00:3526:2115:bf31:a7d4) (Ping timeout: 268 seconds)
[21:10:28] *** Joins: magla (~gelignite@55d4ce3b.access.ecotel.net)
[21:17:48] *** Joins: freeman_h (~freeman_h@94.0.217.120)
[21:22:04] *** Quits: deksar (~deksar@user/deksar) (Quit: Going offline, see ya! (www.adiirc.com))
[21:22:32] *** Joins: deksar (~deksar@user/deksar)
[21:26:53] *** Quits: harpia (~harpia@2804:2aec:205:1400::323) (Remote host closed the connection)
[21:27:47] *** Quits: Atlas (~atlas@user/atlas) (Quit: Textual IRC Client: www.textualapp.com)
[21:28:30] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[21:30:16] *** Joins: onizu (uid373383@id-373383.uxbridge.irccloud.com)
[22:04:01] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[22:07:26] *** Quits: bynx (~bynx@66.208.32.135) (Quit: WeeChat 2.8)
[22:10:25] *** Quits: amcsi_ (~amcsi@2E8BA2D1.catv.pool.telekom.hu) (Ping timeout: 268 seconds)
[22:11:01] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 268 seconds)
[22:11:21] *** Joins: delboy1978uk (~delboy197@202.42-132-109.adsl-dyn.isp.belgacom.be)
[22:13:40] *** Quits: adsr (~adsr@45.58.35.250) (Quit: WeeChat 3.3)
[22:14:16] *** Joins: adsr (~adsr@45.58.35.250)
[22:14:49] *** Joins: harpia (~harpia@2804:2aec:205:1400::323)
[22:16:55] *** Quits: adsr (~adsr@45.58.35.250) (Client Quit)
[22:30:27] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[22:34:45] *** Joins: adsr (~adsr@45.58.35.250)
[22:35:19] *** Quits: RonWhoCares (~ronpi@dhcp-108-170-129-12.cable.user.start.ca) (Quit: Konversation terminated!)
[22:36:23] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 264 seconds)
[22:37:01] *** Joins: junktext (~junktext@gateway/vpn/pia/junktext)
[22:39:44] *** Quits: leadgeek (~leadgeek@user/leadgeek) (Quit: Leaving)
[22:40:56] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[22:43:31] *** Quits: epolanski (uid312403@id-312403.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[22:49:37] *** Quits: genom (~g@37.214.40.199) (Remote host closed the connection)
[22:54:43] *** Joins: guido (~guido@host-79-53-243-246.retail.telecomitalia.it)
[22:57:16] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 268 seconds)
[23:07:42] *** Quits: junktext (~junktext@gateway/vpn/pia/junktext) (Remote host closed the connection)
[23:08:52] *** Joins: junktext (~junktext@gateway/vpn/pia/junktext)
[23:13:23] *** justache is now known as justUnited
[23:41:59] *** Joins: Warped (~Warped@user/warped)
[23:44:09] *** Quits: Warped (~Warped@user/warped) (Client Quit)
[23:51:08] *** Quits: vit (~vit@chello085216193138.chello.sk) (Quit: Konversation terminated!)
