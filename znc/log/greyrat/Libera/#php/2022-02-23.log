[00:04:00] *** Joins: jasonspa (~jasonspa2@pool-71-179-49-46.bltmmd.fios.verizon.net)
[00:04:34] <jasonspa> does anybody have the 7.4.28 build for Windows?
[00:05:28] *** Quits: sudorm (~sudorm@abordeaux-654-1-103-197.w92-162.abo.wanadoo.fr) (Quit: Leaving)
[00:05:43] *** Quits: onichomp (~onichomp@2806:264:4408:55:40f3:bd5f:4b18:7f92) (Read error: Connection reset by peer)
[00:06:02] <teresko> jasonspa: why are you not using the one on the official site?
[00:06:07] <teresko> https://www.php.net/downloads.php
[00:06:13] <Albright> https://windows.php.net/download#php-7.4 specifically
[00:06:20] *** Joins: onichomp (~onichomp@2806:264:4408:55:40f3:bd5f:4b18:7f92)
[00:06:30] <teresko> ... though, you really should be using docker
[00:06:37] * Albright rolls eyes
[00:06:49] *** Quits: onichomp (~onichomp@2806:264:4408:55:40f3:bd5f:4b18:7f92) (Read error: Connection reset by peer)
[00:06:58] <teresko> ... and not use Windows as an OS for development
[00:07:01] <teresko> (my 2 cents)
[00:07:27] <__adrian> s/for development/as a development environment/
[00:07:40] <__adrian> s/Windows/your desktop OS/
[00:07:56] <teresko> true
[00:08:09] <teresko> but I think that few steps beyond him
[00:08:13] <teresko> *that's
[00:09:19] <Albright> I don't like Windows, but if that's what you got and you want to build some web sites, go ahead, have fun.
[00:09:53] *** Joins: varrg (~varrg@h-98-128-128-196.A351.priv.bahnhof.se)
[00:10:27] <jasonspa> the official site doesnt have 7.4.28 build binary
[00:10:50] <teresko> it has 4 different ones even
[00:10:56] <jasonspa> where?
[00:11:17] <teresko> https://windows.php.net/download#php-7.4
[00:11:20] <Albright> It is a bit confusing as to which one you should download
[00:11:40] <jasonspa> they are 7.4.27
[00:11:58] <Albright> …Oh. Yeah, I guess they are.
[00:12:34] <__adrian> generally x64 threadsafe
[00:12:59] <__adrian> as for the version, if it's not on windows., then there isn't one built yet
[00:13:40] <__adrian> there's only like 1-3 people that handle php on windows. so sometimes they're a bit behind
[00:14:42] <__adrian> *afaik
[00:15:03] *** Joins: FloridaMan (~FloridaMa@user/floridaman)
[00:17:06] *** Joins: thiras (~thiras@user/thiras)
[00:22:13] *** Quits: FloridaMan (~FloridaMa@user/floridaman) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[00:25:12] *** Joins: FloridaMan (~FloridaMa@user/floridaman)
[00:31:48] *** Quits: magla (~gelignite@55d4d6c3.access.ecotel.net) (Quit: Stay safe!)
[00:31:53] *** Quits: ham5 (iamfive@user/ham5) (Read error: Connection reset by peer)
[00:32:05] *** Joins: ham5 (iamfive@user/ham5)
[00:32:56] *** Parts: Mathisen (mathisen@about/windows/staff/mathisen) (Leaving)
[00:33:43] <biberu> jasonspa: why do you need such a specific version? if you're trying to recreate the environment a site runs in that should include the os (and more)
[00:38:21] <jasonspa> it's the latest release with fixes
[00:40:32] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Read error: Connection reset by peer)
[00:42:06] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[00:46:30] <biberu> jasonspa: latest is 8.1
[00:47:24] *** Quits: roadie (~user@2a02:8108:5a40:1d87:102d:d7c:48b:58f7) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[00:47:35] *** Quits: varrg (~varrg@h-98-128-128-196.A351.priv.bahnhof.se) (Quit: Leaving)
[00:47:43] <jasonspa> 8.1 break client's app
[00:47:47] <jasonspa> not an option
[00:48:02] <biberu> so you're trying to recreate an existing environment
[00:48:27] <jasonspa> updating what is working in production
[00:48:38] <biberu> are you running windows in production?
[00:48:39] <jasonspa> developer of the app is awol
[00:48:50] <jasonspa> yes, it is on win2019 server
[00:49:08] <biberu> unusual, ok
[00:49:18] *** Joins: funhouse (~funhouse@user/funhouse)
[00:49:24] <jasonspa> it works well
[00:49:39] <jasonspa> they have a security policy that says the latest patches shall be applied
[00:50:27] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:7d8d:4f3:5584:8662)
[00:50:35] <biberu> sure, it's just that a lot of people who want to get it running on windows are actually deploying to linux, and in that case it's probably better to look at vms or containers, hence the questions :)
[00:51:07] <jasonspa> this client has win2019 with apache and php!
[00:51:43] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[00:51:53] <biberu> fwiw windows has native containers too, might be useful, don't know
[00:52:26] <jasonspa> I think because of ms sql dependency, they are using this
[00:52:36] <jasonspa> I advised them to separate out that server
[00:53:37] <jasonspa> because with the mssql and iis on a separate server, the php app can run fine on linux
[00:53:57] <biberu> out of curiosity, sql server is available for linux too
[00:54:19] <jasonspa> long story, but the db admin guy is windows only
[00:54:32] <jasonspa> microsoft certified kind
[00:54:50] <biberu> whatever works :)
[00:55:04] <jasonspa> all they are doing is access some kind of api on IIS+sql
[00:55:09] <jasonspa> which could be on another server
[00:55:34] <jasonspa> of course, the easiest thing is to find another php developer and update the code to be compatible with at least 8.0
[00:55:46] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:7d8d:4f3:5584:8662) (Ping timeout: 245 seconds)
[01:03:49] *** Joins: dbal (~dbal@2603:300c:b04:b100:6cb0:dc5f:fcab:d2ea)
[01:06:23] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 256 seconds)
[01:09:48] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 240 seconds)
[01:12:20] <FightingFalcon> if (isset($wp_query->query_vars['searchfor'])) {
[01:12:34] <FightingFalcon> This should stop undefined array key "searchfor" warning?
[01:13:09] <__adrian> it would not trigger that warning, no
[01:13:39] <FightingFalcon> well, it does
[01:15:02] <FightingFalcon> https://ctxt.io/2/AABgIyP7FA
[01:15:04] <__adrian> https://3v4l.org/Jm3L8
[01:15:06] <FightingFalcon> this is the code
[01:15:21] <__adrian> if you're seeing an error, it's coming from somewhere else. likely in wordpress code.
[01:16:00] <da_wunder> ^
[01:16:19] <__adrian> i'd suspect that ->query_vars maybe isn't an array (or even a real property)
[01:16:27] <__adrian> but you'd have to look at code to find out.
[01:16:38] <__adrian> recommend you ask on #wordpress
[01:16:40] <FightingFalcon> ok
[01:16:43] <FightingFalcon> thanks
[01:16:46] <__adrian> welcome
[01:16:59] <teresko> FightingFalcon: taht looks like a pretty good way to get you server hacked
[01:17:04] <da_wunder> that 3v4l example that __adrian shared show that if that is an array it should fail
[01:17:22] <FightingFalcon> why
[01:19:20] <__adrian> don't put $variables in your sql. don't use escaping. use prepared statements.
[01:19:42] <__adrian> wp _does_ support prepared statements, but not by default afaik. another question for #wordpress
[01:19:43] <FightingFalcon> __adrian, this is not my code.
[01:20:01] <__adrian> !+not my code
[01:20:01] <php-bot> it's the code *you* are asking about. we're not blaming you for it; we're answering your question.  bob wrote it? let me go yell at bob. oh wait, bob doesn't care, and you still have an unsolved problem.
[01:20:02] <da_wunder> and realy don't use globals
[01:21:15] <da_wunder> s/realy/really
[01:21:34] <__adrian> reallyreally
[01:26:02] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:7d8d:4f3:5584:8662)
[01:27:42] <FightingFalcon> ok ok
[01:30:30] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:7d8d:4f3:5584:8662) (Ping timeout: 250 seconds)
[01:34:02] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[01:35:32] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[01:39:29] *** Quits: Tempesta (~Tempesta@user/tempesta) (*.net *.split)
[01:40:43] *** Joins: mishehu (~mishehu@mira001.eyepeeveesicks.shavedgoats.net)
[01:44:34] *** Quits: ham5 (iamfive@user/ham5) (Remote host closed the connection)
[01:47:45] *** Quits: Poboy (~Poboy@user/poboy) (Ping timeout: 256 seconds)
[02:01:17] *** Joins: luva3 (~luva@185.168.9.242)
[02:02:02] *** Quits: luva (~luva@45.141.152.52) (Ping timeout: 260 seconds)
[02:02:02] *** luva3 is now known as luva
[02:07:54] *** Joins: onichomp (~onichomp@2806:264:4408:55:40f3:bd5f:4b18:7f92)
[02:09:13] *** Quits: wovixo (~wovixo@128.104.205.49) (Quit: Leaving)
[02:21:17] *** Quits: doubleplusuncool (~doubleplu@user/doubleplusuncool) (Quit: Lost terminal)
[02:43:19] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[02:43:23] <olle> I wonder if a fluid API thingy can replace command pattern in complex cases... :d
[02:43:56] <olle> Where the run() method in the command class is growing too big.
[02:44:36] *** Quits: pmercado (~pmercado@186.107.58.161) (Ping timeout: 250 seconds)
[02:52:36] <teresko> method chaining is what you do, if you really hate your future-self
[02:53:25] *** Joins: filename (~kilitary@kilitary.xyz)
[02:55:20] *** Quits: ArtfulDodger (~ArtfulDod@81.126.81.79.rev.sfr.net) (Read error: Connection reset by peer)
[02:55:40] *** Joins: ArtfulDodger (~ArtfulDod@81.126.81.79.rev.sfr.net)
[02:57:28] *** Joins: tex (~super@user/dix)
[03:00:05] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[03:00:38] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[03:02:32] *** Joins: filename (~kilitary@kilitary.xyz)
[03:09:55] *** Quits: mishehu (~mishehu@mira001.eyepeeveesicks.shavedgoats.net) (Ping timeout: 250 seconds)
[03:10:54] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[03:13:02] *** Joins: newwebdev13 (~newwebdev@78.135.91.149)
[03:13:25] *** Quits: newwebdev132 (~newwebdev@78.135.91.153) (Ping timeout: 240 seconds)
[03:14:34] *** Joins: filename (~kilitary@kilitary.xyz)
[03:20:59] *** Quits: void09 (~void@150.230.21.57) (Quit: void09)
[03:21:40] *** Joins: void09 (~void@150.230.21.57)
[03:24:53] *** Quits: guido (~weechat@host-79-23-252-34.retail.telecomitalia.it) (Quit: WeeChat 3.4)
[03:35:24] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[03:37:45] *** Quits: jasonspa (~jasonspa2@pool-71-179-49-46.bltmmd.fios.verizon.net) (Quit: Leaving)
[03:40:14] *** Quits: bluehoney (~bluehoney@gateway/vpn/pia/bluehoney) (Ping timeout: 256 seconds)
[03:42:08] <olle> teresko: why?
[03:42:12] <olle> going to bed tho
[03:42:28] *** Quits: tex (~super@user/dix) (Quit: tex)
[03:42:31] *** Joins: pmercado (~pmercado@186.107.58.161)
[03:44:00] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:7d8d:4f3:5584:8662)
[03:48:26] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:7d8d:4f3:5584:8662) (Ping timeout: 260 seconds)
[03:53:02] *** Quits: olle (~olle@i5E866D84.versanet.de) (Ping timeout: 240 seconds)
[03:54:46] *** Joins: funhouse (~funhouse@user/funhouse)
[04:00:29] *** Quits: ms49434 (~ms49434@user/ms49434) (Quit: Leaving)
[04:01:07] *** Joins: ham5 (iamfive@user/ham5)
[04:01:41] *** Joins: mishehu (~mishehu@mira001.eyepeeveesicks.shavedgoats.net)
[04:10:34] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[04:33:18] *** Quits: Vision (~Vision@097-087-115-181.res.spectrum.com) (Read error: Connection reset by peer)
[04:35:18] *** Joins: Vision (~Vision@097-087-115-181.res.spectrum.com)
[05:03:51] *** Quits: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8) (Ping timeout: 252 seconds)
[05:04:23] *** Joins: Starfoxxes (~Starfoxxe@2a02:8070:5390:d00:12bf:48ff:feb8:38c8)
[05:24:50] *** Joins: Trancer (trancer@user/trancer)
[05:25:56] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:79d5:13cf:61dc:c362)
[05:27:19] *** Quits: mintoyatsu (~mint@user/mintoyatsu) (Remote host closed the connection)
[05:30:11] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:31:26] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:79d5:13cf:61dc:c362) (Ping timeout: 250 seconds)
[05:37:23] *** Quits: Guest6792 (~vit@chello085216193138.chello.sk) (Ping timeout: 252 seconds)
[05:38:09] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[05:38:23] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 256 seconds)
[05:41:12] *** Joins: Rockwood (~Rocky@user/rocky)
[05:50:05] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[05:59:41] *** Quits: void09 (~void@150.230.21.57) (Quit: void09)
[06:00:35] *** Joins: void09 (~void@150.230.21.57)
[06:04:37] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[06:05:03] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Killed (NickServ (GHOST command used by Nekomander)))
[06:05:09] *** Nekomander is now known as BadAdviceCat
[06:06:40] *** Quits: justAstache (~justache@user/justache) (Read error: Connection reset by peer)
[06:07:09] *** Joins: justAstache (~justache@user/justache)
[06:10:28] *** Joins: ranudwis (~ranudwis@subs16-114-142-168-4.three.co.id)
[06:12:05] <relipse> Ubuntu WSL2, apache is really slow, i've restarted it
[06:12:16] <relipse> it seems that the php built in server would be faster
[06:21:35] <BadAdviceCat> relipse, I would rather use a VM. xD
[06:21:53] <BadAdviceCat> Has it always been slow? Strange.
[06:38:27] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[06:48:25] <Blondie101010> relipse: can you show your `top` output when it's slow?
[06:48:46] <Blondie101010> also very relevant, the windows task manager
[06:54:49] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:79d5:13cf:61dc:c362)
[06:59:17] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:79d5:13cf:61dc:c362) (Ping timeout: 240 seconds)
[07:08:37] *** Quits: pmercado (~pmercado@186.107.58.161) (Ping timeout: 240 seconds)
[07:21:24] *** Joins: toastloop (~toastloop@user/toastloop)
[07:21:43] *** Quits: onichomp (~onichomp@2806:264:4408:55:40f3:bd5f:4b18:7f92) (Read error: Connection reset by peer)
[07:25:00] *** Joins: ranudwis_ (~ranudwis@subs17-114-142-169-43.three.co.id)
[07:25:12] *** Joins: filename (~kilitary@kilitary.xyz)
[07:28:00] *** Quits: ranudwis (~ranudwis@subs16-114-142-168-4.three.co.id) (Ping timeout: 272 seconds)
[07:36:01] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:79d5:13cf:61dc:c362)
[07:40:22] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:79d5:13cf:61dc:c362) (Ping timeout: 260 seconds)
[07:48:06] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:9981:2aec:efef:695f)
[07:52:32] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:9981:2aec:efef:695f) (Ping timeout: 240 seconds)
[08:00:03] *** Quits: ranudwis_ (~ranudwis@subs17-114-142-169-43.three.co.id) (Quit: Leaving)
[08:03:07] <arash> Hello, I need some good codes in order to review them and learn new things. Can anyone suggest a github page for that purpose?
[08:06:25] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Remote host closed the connection)
[08:06:40] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[08:08:43] <BadAdviceCat> arash, Try this: https://gist.github.com/adrian-enspired/434212c1ca2353f4548ff9fb0e24c383 - https://gist.github.com/adrian-enspired/2e03b01fcfff54151864 - https://gist.github.com/adrian-enspired/1ddd71511e01c1f609db - https://gist.github.com/adrian-enspired/385c6830ba2932bc36a2
[08:10:08] <BadAdviceCat> Also, https://gist.github.com/adrian-enspired/9ed2542a695e2ebe30aa - I generally follow SOME of PSR style guide. You can see plenty of examples there: https://www.php-fig.org/psr/ - WHATEVER YOU DO, pick something and BE CONSISTENT.
[08:11:54] <BadAdviceCat> arash, also, follow the S.O.L.I.D design principles: https://dev.to/evrtrabajo/solid-in-php-d8e and https://richardmiller.co.uk/2011/05/19/when-dependency-injection-goes-wrong/
[08:13:56] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 250 seconds)
[08:14:35] <arash> BadAdviceCat, thank you. those are great resources
[08:17:15] <BadAdviceCat> arash, do you by any chance use composer?
[08:17:24] <BadAdviceCat> And you're welcome. :)
[08:17:52] <arash> BadAdviceCat, not much but yes. why?
[08:19:40] <arash> I was recently hired for a job in a company. They ask me to change my coding style and they review my codes and ask for some edits. Also they ask me to read laravel basics because they want me to use laravel that I’m not very familiar with.
[08:20:11] <arash> that is why i need to improve my abilities.
[08:20:13] <BadAdviceCat> Had to ask, composer is great to expand your capabilities. Or to simply use their autoloader which is objectively the best autoloader available.
[08:20:46] *** Joins: stenno (~stenno@user/stenno)
[08:20:55] <arash> aha. i see.ok
[08:21:56] <BadAdviceCat> Following coding guidelines is rather easy, the challenge is knowing where to look if you run into problems.
[08:22:42] <arash> #php in IRC? :D
[08:22:43] <BadAdviceCat> arash, this is a good one: https://www.youtube.com/watch?v=1OX-mns8UJw I find people constantly do this part wrong. >.<
[08:23:59] <BadAdviceCat> Google, documentation, and diving into source code. Sometimes diving in source code is easy, and other times, it can be meticulously time consuming. Not for those impatient. xD
[08:24:26] <BadAdviceCat> and the googling tips in the above video that I can not stress enough the importance of.
[08:25:14] <mlu> I wonder if I should bother learning Composer and Laravel
[08:25:22] <mlu> been out of the PHP loop since PHP5
[08:25:58] <mlu> or should I wait until some sucker pays me to learn it on the job ;)
[08:27:48] <BadAdviceCat> mlu, composer, hell yes. Laravel, maybe.
[08:28:41] <BadAdviceCat> mlu, are you familiar with python's pip, or javascript's npm by any chance?
[08:30:29] <BadAdviceCat> Do you have PHP installed somewhere, and if so, which version is it?
[08:30:33] <mlu> yep, familiar enough to know that I hate using both :P
[08:30:56] <mlu> hmm, sounds like CPAN except for PHP
[08:31:45] <mlu> think I just installed a PHP-7.427 to hack on a client project
[08:32:00] <mlu> and that's when I was like: oh boy, I wonder what I missed since 2008
[08:32:07] <BadAdviceCat> Great.
[08:32:20] <mlu> hmm, phpinfo(); still works :D
[08:33:04] *** Quits: Yesmon (Yesmon@user/Yesmon) (Remote host closed the connection)
[08:34:46] <BadAdviceCat> mlu, run these commands to get composer: https://paste.gg/p/anonymous/1c5dc222b27d4c14863a19de21e8b923
[08:35:05] <mlu> hmm, and it seems like the changes between 7.4 and 8.0/8.1 is mostly the internals, right?
[08:35:39] *** Quits: newwebdev13 (~newwebdev@78.135.91.149) (Quit: Leaving)
[08:35:56] * mlu starts reading through composer-setup.php
[08:37:31] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[08:39:55] <Blondie101010> php is installed on most servers :)
[08:40:52] <mlu> most servers on a shared web host :)
[08:40:59] <Blondie101010> not my point
[08:41:00] * mlu is pretty sure php isn't part of busybox though
[08:41:30] <Blondie101010> I said "servers", not routers or gadgets
[08:41:44] <mlu> but I'm hipster
[08:41:48] <Blondie101010> :)
[08:42:17] <mlu> it's actually funny how PHP is actually lightweight and fast in the grand scheme of things these days
[08:48:56] <mlu> is PDO still the suggested way to connect to SQL databases?
[09:01:53] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[09:13:04] *** Joins: zlg (~zlg@user/zlg)
[09:20:52] *** Joins: filename (~kilitary@kilitary.xyz)
[09:22:48] *** Joins: onichomp (~onichomp@2806:264:4408:55:40f3:bd5f:4b18:7f92)
[09:44:05] <TinoDidriksen> Yes, PDO is still recommended.
[09:58:53] *** Joins: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::e3bb)
[10:06:01] *** Joins: Tempesta (Tempesta@user/tempesta)
[10:17:44] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[10:20:55] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[10:21:41] *** Joins: guido (~weechat@host-87-21-253-224.retail.telecomitalia.it)
[10:22:04] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Remote host closed the connection)
[10:22:29] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[10:23:13] *** Quits: onichomp (~onichomp@2806:264:4408:55:40f3:bd5f:4b18:7f92) (Read error: Connection reset by peer)
[10:26:08] *** Joins: ejjfunky (~ejjfunky@125.164.22.233)
[10:34:47] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[10:34:51] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:1dba:8fb7:d7e0:4473)
[10:39:32] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:1dba:8fb7:d7e0:4473) (Ping timeout: 250 seconds)
[10:43:36] *** Joins: filename (~kilitary@kilitary.xyz)
[10:46:38] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:2489:b809:811:b373)
[10:49:06] *** Quits: guido (~weechat@host-87-21-253-224.retail.telecomitalia.it) (Quit: WeeChat 3.4)
[10:51:14] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:2489:b809:811:b373) (Ping timeout: 260 seconds)
[11:03:11] *** Joins: de-facto_ (~de-facto@user/de-facto)
[11:03:55] *** Quits: de-facto (~de-facto@user/de-facto) (Ping timeout: 240 seconds)
[11:06:41] *** de-facto_ is now known as de-facto
[11:13:03] *** Joins: bluehoney (~bluehoney@gateway/vpn/pia/bluehoney)
[11:14:21] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:91af:f92e:54e4:10a3)
[11:15:31] *** Joins: guido (~weechat@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f)
[11:18:58] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:91af:f92e:54e4:10a3) (Ping timeout: 250 seconds)
[11:19:23] *** Joins: undefined_bob (~undefined@user/undefined-bob/x-5411918)
[11:19:27] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[11:20:09] *** Joins: Deuchnord (~Deuchnord@user/deuchnord)
[11:28:35] *** Quits: undefined_bob (~undefined@user/undefined-bob/x-5411918) (Ping timeout: 240 seconds)
[11:29:16] *** Joins: slashasdf (~slashasdf@030-245-128-083.dynamic.caiway.nl)
[11:30:10] *** Joins: undefined_bob (~undefined@user/undefined-bob/x-5411918)
[11:34:23] *** Joins: pycode (~pycode3@2001:b07:5d28:551:1632:2957:5a3c:8d2e)
[11:37:55] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:91af:f92e:54e4:10a3)
[11:41:17] *** Joins: asdf__ (~slashasdf@030-245-128-083.dynamic.caiway.nl)
[11:43:41] *** Quits: slashasdf (~slashasdf@030-245-128-083.dynamic.caiway.nl) (Ping timeout: 252 seconds)
[11:43:53] *** Quits: led_belly (~led_belly@37.120.197.44) (Ping timeout: 256 seconds)
[11:49:51] *** DuckThom is now known as aloy
[11:51:03] *** Joins: led_belly (~led_belly@37.120.197.44)
[11:59:11] *** Quits: Blondie101010 (~Blondie10@user/blondie101010) (Ping timeout: 256 seconds)
[12:07:00] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[12:10:47] *** AmyMalik is now known as MelMalik
[12:13:27] *** Joins: tercaL (~tercaL@user/tercal)
[12:17:22] *** Joins: Hiccup (cHoy@user/hiccup)
[12:18:49] *** Quits: toastloop (~toastloop@user/toastloop) (Quit: WeeChat 3.5-dev)
[12:21:45] *** Joins: LucaTM (~LucaTM@user/lucatm)
[12:22:14] <Koopz> anybody using phive? i kinda have trouble with it
[12:22:52] <Koopz> haven't used it in over half a year or so, just updated to 0.15.0 and tried "phive install phpunit"
[12:23:37] <Koopz> and all i get is an error saying it tried to open ~/.phive/phars/phpunit-8.1.3.phar which failed because it doesn't exist
[12:28:42] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:91af:f92e:54e4:10a3) (Remote host closed the connection)
[12:29:04] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:91af:f92e:54e4:10a3)
[12:30:07] <Koopz> i'm not getting any lines about it downloading the repository list from phar.io either
[12:30:15] <Koopz> maybe i should try deleting .phive
[12:31:30] <Koopz> yup, that did the trick
[12:31:51] <Koopz> guess the contents created by the old version were incompatible with the once i installed over it
[12:48:56] <Koopz> ah and i remember now why using phpcs as .phar was a bad idea
[12:49:46] <Koopz> i wonder if there have been any developments regarding custom rulesets like Slevomat
[12:53:49] *** Joins: cocomo (~cocomo@111.119.177.43)
[13:04:12] *** Joins: filename (~kilitary@kilitary.xyz)
[13:12:56] *** Quits: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::e3bb) (Ping timeout: 250 seconds)
[13:14:12] <Koopz> seems like there's an open PR from 2019
[13:14:47] <Koopz> and the linked issue was last updated on jun 2021
[13:18:00] <Koopz> ooooh nvm i'm just stupid
[13:18:32] <Koopz> i had to change the installed_paths in my phpcs.xml.dist from ../../slevomat to vendor/slevomat
[13:21:11] *** Joins: thiras (~thiras@user/thiras)
[13:25:13] *** Joins: ms49434 (~ms49434@user/ms49434)
[13:31:08] <Koopz> are we still using jakub-onderka/php-parallel-lint?
[13:31:35] <Koopz> oops... it's abandoned
[13:31:57] *** Joins: fef (~thedawn@user/thedawn)
[13:32:22] <AllenJB> There's a version in its own namespace that's actively maintained
[13:32:34] <Koopz> php-parallel-lint/php-parallel-lint
[13:33:05] <Koopz> hmm... any alternative that's available as phar?
[13:33:29] <Koopz> that'd be the last dev tool i currently have in my composer.json
[13:34:02] <AllenJB> That is available as a phar
[13:35:22] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[13:35:36] <Koopz> hm... no phive support yet
[13:36:46] *** Joins: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::e3bb)
[13:45:31] *** Joins: filename (~kilitary@kilitary.xyz)
[13:46:56] *** Quits: cocomo (~cocomo@111.119.177.43) (Quit: leaving)
[13:58:56] *** Quits: shailangsa (~shailangs@host86-186-127-164.range86-186.btcentralplus.com) (Remote host closed the connection)
[14:20:32] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[14:46:58] *** Quits: pycode (~pycode3@2001:b07:5d28:551:1632:2957:5a3c:8d2e) (Ping timeout: 250 seconds)
[14:55:30] *** Joins: Yesmon (Yesmon@user/Yesmon)
[14:55:30] *** Joins: ultsppi (~ultsppi@node-1w7jr9y55bod5eg3evq0rji1u.ipv6.telus.net)
[15:01:01] *** Joins: Guest6792 (~vit@chello085216193138.chello.sk)
[15:09:01] *** Joins: pycode (~pycode3@2001:b07:5d28:551:202d:df41:5a0c:e343)
[15:17:37] *** Joins: PTNapivoski (~PTNapivos@179.189.133.33)
[15:18:52] *** Quits: PTNapivoski (~PTNapivos@179.189.133.33) (Remote host closed the connection)
[15:19:17] *** Joins: PTNapivoski (~PTNapivos@179.189.133.33)
[15:19:50] *** Quits: pycode (~pycode3@2001:b07:5d28:551:202d:df41:5a0c:e343) (Ping timeout: 252 seconds)
[15:20:59] *** Joins: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861)
[15:23:30] *** Quits: Hiccup (cHoy@user/hiccup) (Remote host closed the connection)
[15:26:10] *** Quits: Deuchnord (~Deuchnord@user/deuchnord) (Ping timeout: 272 seconds)
[15:28:14] *** Joins: mintoyatsu (~mint@user/mintoyatsu)
[15:28:27] *** Quits: guido (~weechat@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f) (Quit: WeeChat 3.4)
[15:28:42] *** Quits: bluehoney (~bluehoney@gateway/vpn/pia/bluehoney) (Ping timeout: 272 seconds)
[15:29:02] *** Parts: ultsppi (~ultsppi@node-1w7jr9y55bod5eg3evq0rji1u.ipv6.telus.net) ()
[15:34:06] *** Joins: Deuchnord (~Deuchnord@user/deuchnord)
[15:35:56] *** Quits: asdf__ (~slashasdf@030-245-128-083.dynamic.caiway.nl) (Quit: Leaving)
[15:44:55] *** Joins: pmercado (~pmercado@186.107.58.161)
[15:48:18] *** Quits: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861) (Quit: Client closed)
[15:55:50] *** Joins: guido (~weechat@host-87-21-253-224.retail.telecomitalia.it)
[16:07:48] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 240 seconds)
[16:12:21] *** Quits: AnrDaemon (~ZNC@darkdragon-nln.starlink.ru) (Quit: q)
[16:14:52] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[16:15:20] *** Joins: qaluh (~noxx@p200300e6171525006245cbfffea017b6.dip0.t-ipconnect.de)
[16:19:14] *** Joins: bluehoney (~bluehoney@gateway/vpn/pia/bluehoney)
[16:30:18] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[16:36:18] *** Joins: Blondie101010 (~Blondie10@user/blondie101010)
[16:40:49] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[16:51:11] *** Joins: olle (~olle@213.61.81.133)
[16:55:53] *** Quits: Junxter (~Junxter@222.95.164.193) (Read error: Connection reset by peer)
[16:56:14] *** Joins: Junxter (~Junxter@222.95.164.193)
[17:02:35] <olle> teresko: Let's return again to fluent API vs command object
[17:03:55] <olle> My argument was then when run() method in command class gets too big, maybe it can be replaced with a fluent API instead
[17:04:19] <teresko> I was not against or for "command object", I just think that fluent interface is inviting pain and suffering
[17:04:51] <teresko> TBH, I have never seen a good practical usecase for the command pattern
[17:04:51] *** Joins: AnrDaemon (~ZNC@darkdragon-nln.starlink.ru)
[17:05:15] <olle> It's the only pattern you need ;)
[17:05:39] <olle> What's so bad with fluent interface, then?
[17:06:40] <teresko> it never stay correctly applied just for a single instance
[17:06:55] <teresko> and you loose the ability to use immutable entities
[17:07:14] <teresko> ... and it just looks ugly
[17:07:16] <__adrian> no you don't
[17:07:34] <olle> Well, you can use "with" for immutable builder patterns
[17:07:42] <olle> If you're "that" kind of person :)
[17:08:25] <__adrian> though i don't see why you'd compare a command object with a fluent api
[17:08:39] <__adrian> they're completely unrelated things
[17:08:43] <teresko> ^ that
[17:09:27] <__adrian> a fluent api is just a way to chain methods. it's like  $a = a(); b($a);  vs.  b(a());
[17:09:42] <__adrian> that's not an architectural pattern
[17:10:07] <__adrian> *arch/design/whatever
[17:10:21] <teresko> wait whait whaith
[17:10:34] <teresko> do not mix functional paradigms in this
[17:10:50] <teresko> fluent api is all about objects
[17:11:17] <olle> My run() method is like, do A, do B, do C, ...
[17:11:25] <teresko> it's basicall this is (new User)->setName('Foo')->setAge(1);
[17:11:58] <olle> so why not $obj->a()->b()->c() instead? Then I can skip step too, when needed AND I can remove constructor injection and insert needed dependencies in each method instead.
[17:12:40] <teresko> what the fuck are you talking about, olle
[17:12:47] <olle> you heard me
[17:13:14] <__adrian> olle: you're moving your implementation logic out of the object
[17:13:34] <__adrian> why should i need to know that "run" means "a, b, c"?
[17:14:21] *** Joins: pycode (~pycode3@2001:b07:5d28:551:e89:bf0d:3aee:c475)
[17:14:23] <olle> Mm
[17:14:23] <__adrian> if your run() method is too big, that speaks to the command object itself. maybe it needs more, smaller parts.
[17:14:37] <olle> Maybe
[17:15:02] <olle> The command is "install a new instance of web app on this machine", sooo
[17:15:08] <__adrian> maybe instead of being a ton of code, your run method should be doing that management of ->a->b->c
[17:15:08] <teresko> why do you whant to remove constructor dependencies?
[17:15:31] <olle> teresko: I think I did it wrong, because some of the dependencies are only used in one or two methods
[17:15:57] <teresko> then those sound al lot like "separate parts"
[17:15:57] <__adrian> the idea that all dependencies/properties must be used by all methods is nonsense
[17:16:25] <olle> Well, it makes the test code cleaner if I only inject mocks that are used
[17:16:26] <__adrian> not saying whether your design is right/wrong, but that's not how you should decide
[17:17:15] <__adrian> i think i've said this before, too - yes, good code is generally easier to test. that doesn't mean the way to make good code is to ubild it around easy tests.
[17:17:18] <__adrian> *build
[17:17:29] <teresko> olle: just because you use a test double, does not mean that you need to mock all of the methods
[17:17:43] <teresko> you just mock the methos that are actually in uses by that specific test
[17:18:04] <teresko> are you doing something stupid like having shared mocks for entire unittest class?
[17:18:07] <olle> Yes, but I end up with empty stubs that are not used at all in that particular test
[17:18:16] <olle> Nah
[17:18:25] <olle> At least I don't think so
[17:18:33] <olle> Tests should be isolated
[17:23:43] *** Joins: sgen (~sgen@2607:fea8:7ce1:c8e0:3169:1651:ead:5ffb)
[17:38:45] *** Quits: sgen (~sgen@2607:fea8:7ce1:c8e0:3169:1651:ead:5ffb) (Quit: Leaving)
[17:41:34] *** Joins: filename (~kilitary@kilitary.xyz)
[17:41:48] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Ping timeout: 240 seconds)
[17:48:06] <olle> $command::runFluidApi(); :D
[17:48:33] <teresko> no trolling, please
[17:50:11] <olle> https://discuss.ocaml.org/t/explain-like-im-5-years-old-tagless-final-pattern/
[17:50:50] <olle> If you use fluid API to build a syntax tree, you kind of get a similar result.
[17:57:17] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[17:57:42] *** Joins: thiras (~thiras@user/thiras)
[17:58:05] *** Joins: Poboy (~Poboy@user/poboy)
[17:59:07] *** Quits: yano (~yano@ircpuzzles/staff/yano) (Quit: WeeChat, the better IRC client, https://weechat.org/)
[18:02:08] *** Joins: yano (~yano@ircpuzzles/staff/yano)
[18:04:57] *** Quits: Tempesta (Tempesta@user/tempesta) (Quit: See ya!)
[18:08:37] *** Joins: Tempesta (~Tempesta@user/tempesta)
[18:11:01] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[18:11:57] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[18:35:35] *** Quits: de-facto (~de-facto@user/de-facto) (Ping timeout: 240 seconds)
[18:36:05] *** Joins: de-facto (~de-facto@user/de-facto)
[18:44:31] *** Quits: cosine (~cosine@vpn.mashio.net) (Quit: 1)
[18:44:57] *** Joins: cosine (~cosine@vpn.mashio.net)
[18:44:57] *** Quits: stenno (~stenno@user/stenno) (Ping timeout: 240 seconds)
[18:45:42] *** Joins: stenno (~stenno@user/stenno)
[18:58:59] *** Quits: filename (~kilitary@kilitary.xyz) (Remote host closed the connection)
[19:00:08] *** Quits: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::e3bb) (Remote host closed the connection)
[19:07:33] *** Joins: hh (~g@37.214.26.148)
[19:13:43] *** Joins: Rockwood (~Rocky@user/rocky)
[19:14:36] *** Quits: Rockwood (~Rocky@user/rocky) (Client Quit)
[19:15:40] *** Joins: marc-o (e23c17097e@vps71629.serveur-vps.net)
[19:19:31] *** Joins: newwebdev13 (~newwebdev@78.135.91.149)
[19:28:06] *** Joins: roadie (~user@2a02:8108:5a40:1d87:5d5e:6e26:5429:3b71)
[19:39:34] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Remote host closed the connection)
[19:39:58] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[19:42:43] *** Quits: Deuchnord (~Deuchnord@user/deuchnord) (Remote host closed the connection)
[19:43:19] *** Joins: wovixo (~wovixo@128.104.205.49)
[19:57:42] *** Joins: filename (~kilitary@kilitary.xyz)
[19:59:16] *** Joins: Rockwood (~Rocky@user/rocky)
[19:59:55] *** Quits: qaluh (~noxx@p200300e6171525006245cbfffea017b6.dip0.t-ipconnect.de) (Remote host closed the connection)
[20:05:51] *** Quits: Rockwood (~Rocky@user/rocky) (Read error: Connection reset by peer)
[20:06:03] <Albright> Got a client asking if they can use OCR to automate some data entry tasks.
[20:06:17] *** Quits: pycode (~pycode3@2001:b07:5d28:551:e89:bf0d:3aee:c475) (Ping timeout: 256 seconds)
[20:06:45] <Albright> I don't suppose anyone knows of either a PHP library that integrates with an OCR library or an external API provider for doing OCR on an image we send them?
[20:07:22] <Poboy> nah
[20:10:35] <teresko> ok, has anyone done proper pagination (without using the slow OFFSET approach) with UUID keys?
[20:12:12] <Naktibalda> how would you do it?
[20:12:26] <__adrian> not for a real project
[20:12:36] <biberu> teresko: what issue are you running into?
[20:12:45] <teresko> well, I have never used UUID for a real project, __adrian  :D
[20:12:48] <__adrian> in practice OFFSET isn't all that slow in most cases
[20:13:14] <__adrian> also note "uuid" and "not offset" don't depend on each other
[20:13:16] <Albright> I'm not sure how you'd do pagination *without* using offset.
[20:13:29] <__adrian> using >
[20:13:49] <__adrian> note, the uuid would need to be v6 (incrementing)
[20:14:04] <Naktibalda> WHERE id > LAST_ID ORDER BY id ASC LIMIT 10
[20:14:09] <__adrian> ^
[20:14:11] <Albright> Ah, okay
[20:14:32] <Albright> Surely you'd sort by date or something more predictable than UUID, right? I've never heard of an incrementing UUID.
[20:14:46] <relipse> If my server is running out of RAM during spikes in users, should I throw more ram at it?
[20:14:55] <Albright> Wouldn't that reduce the second U?
[20:14:55] <__adrian> a v6 uuid is basically a timestamp in the front, random in the back
[20:14:56] <relipse> and thus corrupting mysql tables because it is killing mysql
[20:15:14] <teresko> I think I will go with v6, that should solve my problem
[20:15:19] <Albright> __adrian: Ah, hmm. Didn't know that. It's v4 that's totally random, right?
[20:15:23] <biberu> if you're running into issues with unordered uuids perhaps you could use those as external ids, while using e.g. ints within the db
[20:15:25] <__adrian> relipse: that should not be a risk unless you've configured it very foolishly
[20:15:31] <PTNapivoski> Albright, Tesseract OCR
[20:15:38] <relipse> __adrian: well it's happening and I don't' know why
[20:15:38] <Naktibalda> relipse: is your mysql running on the same server as PHP?
[20:15:42] <__adrian> Albright: yes, v4 is random
[20:15:50] <relipse> Naktibalda: yes
[20:15:59] <__adrian> also not sure v6 is technically adopted yet
[20:16:09] <__adrian> i think they're still messing with it
[20:16:24] <biberu> and perhaps you don't want to leak the timestamp?
[20:16:39] <Naktibalda> I'm sure that it is strongly advised to move mysql to dedicated server. Mysql memory usage is much more predictable
[20:16:41] * __adrian shrugs
[20:17:01] <relipse> hmm
[20:17:40] <__adrian> relipse: whether you'd want to add more ram is another question. is it the DB or the webserver that's running out? is it a problem with your code or do you ligitimately need to scale up?
[20:17:58] <__adrian> *legitimately
[20:18:51] <Poboy> A wise man once said "I got me a hundred gigabytes of RAM"
[20:20:05] <Naktibalda> relipse: no matter what amount of memory you have you should attempt to tune settings in such way that you never run out of memory.
[20:21:29] <relipse> Naktibalda: ok I hear you but what are the steps necessary to do that
[20:22:25] <__adrian> for example, set php's memory limits and max processes so they don't exceed how much memory you actually have
[20:22:38] <biberu> relipse: do you have any monitoring in place? how much ram do you have and what did you configure php, db and whatever other services to use?
[20:22:48] <__adrian> ^
[20:22:57] *** Joins: freeman_h (~freeman_h@37.120.159.215)
[20:23:03] <__adrian> don't do things blindly
[20:23:25] <freeman_h> hi all any idea why sometimes php might not find a global define constant
[20:23:47] <__adrian> do you _know_ it's been defined?
[20:23:55] <freeman_h> __adrian, yeah
[20:24:02] <freeman_h> sometimes it find it, sometimes it does not
[20:24:13] <__adrian> what does  defined("NAME_OF_YOUR_CONST")  return?
[20:24:18] <__adrian> what do you mean by "find"?
[20:24:19] <Naktibalda> probably sometimes you don't run code that defines it
[20:24:38] <teresko> ah ... the joys global immutable state
[20:24:42] <Albright> PTNapivoski: Looking into Tesseract. This might be exactly what we need.
[20:24:55] <freeman_h> "Could not resolve host: API_URL" curl error
[20:25:07] <__adrian> fix your error reporting.
[20:25:08] <freeman_h> api_url should be an actual url
[20:25:12] <__adrian> !+error reporting
[20:25:12] <php-bot> Set `error_reporting = -1` in your php.ini (to see errors on your webpage, also set `display_errors = 1`) and be sure to restart your webserver/fastcgi-listeners. Using `ini_set()` and `error_reporting()` is less reliable - for example, in the case of parse errors. See https://php.net/errorfunc.configuration or "/msg php-bot error logging" for more.
[20:25:17] <teresko> Albright: in that a music band?
[20:25:28] <freeman_h> __adrian, cant do that on a live system :)
[20:25:36] <freeman_h> which is where the error is happening
[20:25:36] <Naktibalda> freeman_h: the answer is that it is caused by a bug in your code
[20:25:43] <__adrian> you absolutely can, and should
[20:26:39] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[20:28:50] <__adrian> https://3v4l.org/fKpQF  ← you should be seeing errors like this
[20:29:07] <__adrian> i'm assuming you're not on php 8 yet
[20:29:18] <teresko> freeman_h: as a long term solution: dont use global state for storing configuration options
[20:29:24] <__adrian> ^
[20:29:59] <__adrian> learn about _dependency injection_. when {your code} NEEDS {something}, you pass it as an argument.
[20:30:18] <__adrian> you DO NOT leave your code to go look for it on its own.
[20:31:36] <teresko> there us the correct way and the incorrect way to use constants in php
[20:32:07] <teresko> the correct way is to use them as "named values", for example `User::STATUS_ACTIVE`
[20:32:26] <teresko> the incorrect way is using them as global variables that can only be set once
[20:34:38] <freeman_h> old school html & php code mixed together in this use case lads
[20:34:57] <freeman_h> cant _dependency inject jack, lol
[20:35:11] <teresko> https://i.pinimg.com/originals/f5/d9/e1/f5d9e1f7696b347f41d616d17cec3672.jpg
[20:35:24] <__adrian> freeman_h: you say that like it's true and/or changes the nature of the problem/answer  ;)
[20:35:44] <Albright> Arial ruins it, as usual
[20:36:10] <__adrian> regardless, the likely answer to your current problem was already given above - "sometimes you don't run code that defines it"
[20:36:38] <__adrian> so you need logging on the failure cases to see how they're different (what might lead to different code paths)
[20:38:13] <teresko> Albright: you need this https://lh6.googleusercontent.com/proxy/g6RrBIk3VCWNrQ-G5UN8DktOOML1HFgGyp_TjanwpZcmivrmCEREuB6pFRYTc0SErHgorCvtlmI1ZF5W0p1PPqVSgbQFUvpiyf6dbubOJo_HaUMdei_ueWx5yTABFjDPG0L792gNioHo-X_SYk3hpcOGPdZFxDs1cLfFqZCVCb88joWcSZ7THDjTx7Zr2X_dy2qaUCIXX_aqQGtjZ4DnNJDAsP3nv_Q_Yl1zS9c=w1200-h630-p-k-no-un
[20:38:50] <Albright> teresko: 400 error for me
[20:38:58] <teresko> gimme a sec
[20:39:02] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 272 seconds)
[20:40:40] <teresko> how about this, Albright : https://cdn.discordapp.com/attachments/376041401843974145/946091615401959464/g6RrBIk3VCWNrQ-G5UN8DktOOML1HFgGyp_TjanwpZcmivrmCEREuB6pFRYTc0SErHgorCvtlmI1ZF5W0p1PPqVSgbQFUvpiyf6dbubOJo_HaUMdei_ueWx5yTABFjDPG0L792gNioHo-X_SYk3hpcOGPdZFxDs1cLfFqZCVCb88joWcSZ7THDjTx7Zr2X_dy2qaUCIXX_aqQGtjZ4DnNJDAsP3nv_Q_Yl1zS9cw1200-h630-p-k-no-nu.png
[20:40:58] <freeman_h> "the incorrect way is using them as global variables that can only be set once" teresko elaborate please
[20:41:08] <Albright> yeet
[20:41:33] *** Joins: bizolos (~bizolos@2a01:e0a:21e:50e0:d7e9:1241:ef6e:683d)
[20:41:49] <bizolos> Hi there. I'm a bit lost. https://3v4l.org/tWrIA#v8.1.3 Aren't enum values allowed in constant expressions? o_O
[20:44:13] <__adrian> freeman_h: in your case, it seems like the reason you chose to use constants is not because the value is constant, but because you wanted a "readonly" variable that was globally accessible.
[20:44:28] <teresko> freeman_h: well, constants are globally scoped and you can only define them once ... it would seem self-evident
[20:44:55] <__adrian> that's not what constants are for. and using a const as a global variable doesn't make all the "don't use globals" problems go away.
[20:45:01] <teresko> so, if you use the taht way, they are no differnt from your basic global variable, that you just happen to never change
[20:45:17] <__adrian> bizolos: enums are objects, so no.
[20:45:55] <bizolos> I'm not talking about the object (the case itself) but its value. And since enum cannot change at runtime, it would make sense to be able to use them in constants.
[20:46:55] <__adrian> how would you expect to  ->value  without accessing the case itself?
[20:48:04] <__adrian> (i agree it's unexpected given the syntax - it does seem like something that should be "like a constant")
[20:48:17] <__adrian> (but I didn't design the implementation)
[20:48:36] <teresko> is this nikiC fault?
[20:49:02] <__adrian> that is, at least, debatable
[20:49:40] <__adrian> "it does seem like  ..."  that is, at least until you get to the -> part
[20:51:07] <__adrian> bizolos: also note, whether the value can change at runtime isn't the issue: it's about _when_ the value is parsed/initialized. objects can't be initialized before runtime.
[20:51:25] <bizolos> I don't blame the nikic or others (I don't know how it would be easy/difficult to implement) but let's say it's at least confusing.
[20:51:33] <__adrian> yes, the enum's been parsed, but there's not going to be a backing object until runtime
[20:51:43] <bizolos> __adrian, mmm interesting
[20:52:15] <__adrian> like i said, definitely could be unexpected
[20:52:34] <__adrian> made me a lot less excited about it, personally.
[20:53:07] <teresko> still not Generics :(
[20:53:09] <__adrian> re: blame: i wouldn't go so far as to say it's "broken" though. but less useful than it could have been.
[20:55:23] <__adrian> bizolos: might help/interest you: https://3v4l.org/n0D6u#v8.1.3
[20:55:49] <ArtfulDodger> Hello! I'm running a script from an opensource ERP like a charm when called via its URL, but when called via Cron I get an error 500 due at the require statement (no additional detail). I have replaced the relative path by an absolute path, which works well again via the URL but not via Cron. What else could cause a require statement to fail?
[20:56:13] <__adrian> ArtfulDodger: you should set up error reporting+logging
[20:56:16] <__adrian> !+error logging
[20:56:16] <php-bot> In addition to configuring error reporting (/msg php-bot error reporting), set log_errors=1 and error_log=/path/to/your/error.log in your php.ini file. This allows you to simply tail the log to see errors, and to disable display_errors (e.g., during production).
[20:56:18] <ArtfulDodger> https://github.com/Dolibarr/dolibarr/blob/develop/htdocs/public/cron/cron_run_jobs_by_url.php#L60
[20:56:54] <__adrian> re: lien 60: i'll say you should always prefer fully qualified paths.
[20:56:57] <__adrian> *line
[20:57:13] <__adrian> i.e., what is that path _intended_ to be relative to?
[20:57:46] <__adrian> to the cwd? to the directory that file is in?
[20:57:54] <__adrian> to php's include_dir?
[20:58:01] <__adrian> (see the potential problem?)
[20:58:57] <ArtfulDodger> __adrian, Yes I undertand the problem well, but the absolute path does not work either. I have replaced it by require "/home/.../main.inc.php"; Is an absolute path fully qualified?
[20:59:11] <teresko> ooof: https://github.com/Dolibarr/dolibarr/blob/64ce13e2733fdb8b67daf68b5e5df32abf719daa/htdocs/core/lib/functions.lib.php#L929
[20:59:11] <__adrian> yes
[20:59:16] <ArtfulDodger> I'm using an OVH hosting so I can't control everything. Let's see how to activate the debug mode
[20:59:22] <__adrian> though i doubt (hope) that's the correct path either
[20:59:45] <__adrian> call OVH support and tell them you want competent hosting
[21:00:06] <bizolos> __adrian, now I'm lost ^^
[21:00:10] <teresko> ArtfulDodger: why do you have 10'000+ line "library" file ?
[21:00:11] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[21:00:13] <__adrian> bizolos: :D
[21:00:25] <__adrian> my work is done here.
[21:00:25] <ArtfulDodger> __adrian, no they're fine aha. Just that I ahven't done that so far.
[21:00:48] <teresko> ... full of global variables
[21:00:57] <__adrian> ArtfulDodger: in seriousness, do call support and figure out how to get error reporting set up properly.
[21:02:43] <teresko> oh god, what is this mess taht I am looking at !?!??
[21:02:52] <ArtfulDodger> teresko, you pointed a nice function, but if it fails even with an absolute path, is it really the right track?
[21:03:53] *** Quits: olle (~olle@213.61.81.133) (Remote host closed the connection)
[21:10:20] *** Joins: Elzington (~Elzington@68.235.43.84)
[21:10:37] *** Quits: filename (~kilitary@kilitary.xyz) (Ping timeout: 240 seconds)
[21:14:57] *** Joins: pmercado_ (~pmercado@186.107.43.179)
[21:15:46] *** Quits: pmercado (~pmercado@186.107.58.161) (Ping timeout: 272 seconds)
[21:15:47] <__adrian> ArtfulDodger: if an absolute path fails, then the path simply isn't correct. but before digging, look at me earlier comment about "what is it _supposed_ to be relative to?"
[21:18:03] <biberu> __adrian: the fs root? ;)
[21:19:54] <freeman_h> teresko, and __adrian on https://www.php.net/manual/en/function.define.php "While it is possible to define resource constants, it is not recommended and may cause unpredictable behavior.
[21:19:54] <freeman_h> " p.s. this application is running php 5
[21:20:32] <__adrian> tips: *don't use define() *don't use php 5
[21:20:50] <__adrian> biberu: the original path was an unqualified relative path
[21:20:51] *** Quits: bizolos (~bizolos@2a01:e0a:21e:50e0:d7e9:1241:ef6e:683d) (Quit: Leaving)
[21:21:01] * BadAdviceCat sets mode: +b php5!*@*
[21:21:11] <__adrian> and yes, "if an absolute path fails, then the path simply isn't correct."
[21:21:25] <freeman_h> needs some better suggestion __adrian cant just up and change shit on application that has been running for 14+ years
[21:21:32] <ArtfulDodger> __adrian, I assume it's relative to the directory of the file (browse ../.. on Github from cron_run_jobs_by_url.php and you will see main.inc.php).
[21:21:36] <ArtfulDodger> __adrian, The absolute path works well when loaded via the URL. But not via Cron. Would it be possible that the Cron environment have different file paths maybe?
[21:21:37] <biberu> __adrian: just making bad jokes :)
[21:21:53] <__adrian> ArtfulDodger: if it's supposed to be relative to the file's directory, then use  __DIR__
[21:21:53] <freeman_h> what I am working unfornately is calling by this old application, I am very limited has to what I can change on it
[21:22:18] <__adrian> freeman_h: i understand what you're saying, but it doesn't change anything
[21:22:28] <__adrian> can't change === can't fix
[21:22:30] <teresko> everyone everywhere is hunting for developers
[21:22:48] <biberu> ^ also that is how things remain bad
[21:23:35] <freeman_h>  *don't use define() *don't use php 5 dont help me. hopefully in the next 3 years this application will not exist anymore has its getting split up into microservices until then php 5 will be running it.
[21:23:45] <teresko> biberu: I looked at the "CMS/ERP" that he is unsing there - it's an "opensource" project in the same way as North Korea is open for democratic elections
[21:23:46] <freeman_h> as for dont use define
[21:23:53] <freeman_h> what is your suggestion?
[21:24:15] <biberu> teresko: ouch
[21:24:25] <freeman_h> because this application has fk tons of define contants lol
[21:25:51] <teresko> biberu: also, does this look like something you could possibly fix: https://github.com/Dolibarr/dolibarr/blob/develop/htdocs/core/lib/functions.lib.php
[21:27:01] <Albright> https://github.com/Dolibarr/dolibarr/blob/64ce13e2733fdb8b67daf68b5e5df32abf719daa/htdocs/core/lib/functions.lib.php#L116-L124 lolololo
[21:27:39] <biberu> teresko: i can't really review it now, on a phone, but if it's a third party dependency that i assume he can't change he'd have to word towards removing it, but maybe his entire app is built inside it rather than with it?
[21:27:46] <__adrian> freeman_h: the only reason to use define() over const = is that define allows you to use expressions that you decide at runtime, which means they're values that shouldn't be constants in the first place
[21:28:02] <__adrian> ofc given php5, maybe you're just using define() because const doesn't exist
[21:29:12] *** Joins: magla (~gelignite@d5360aa7.access.ecotel.net)
[21:43:38] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Ping timeout: 272 seconds)
[21:48:35] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:91af:f92e:54e4:10a3) (Remote host closed the connection)
[21:48:35] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 240 seconds)
[21:48:43] *** pmercado_ is now known as pmercado
[21:49:04] *** Joins: olle (~olle@i5E866D89.versanet.de)
[21:49:18] <olle> teresko: Did you elaborate on fluent API? All I heard was "Meeeeh"
[21:49:22] <olle> Maybe I'll google it
[21:49:38] *** Joins: filename (~kilitary@kilitary.xyz)
[21:50:18] <olle> Sorry, fluent interface, not api
[21:50:46] *** Joins: lara99 (~lara99@93-36-163-139.ip61.fastwebnet.it)
[21:52:44] <teresko> I did, you obviously did not understand
[21:53:12] <olle> I'm stupid that way
[21:53:17] <olle> No chat history either
[21:55:36] <olle> https://en.wikipedia.org/wiki/Fluent_interface'
[21:55:39] <olle> https://en.wikipedia.org/wiki/Fluent_interface
[21:55:55] <olle> "It's possible to create immutable fluent interfaces that utilise copy-on-write semantics. In this variation of the pattern, instead of modifying internal properties and returning a reference to the same object, the object is instead cloned, with properties changed on the cloned object, and that object returned. "
[22:02:36] *** Quits: entropy_ (~ent@user/entropy/x-9891564) (Ping timeout: 240 seconds)
[22:07:12] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Remote host closed the connection)
[22:07:37] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[22:13:44] <Albright> "Object of class stdClass could not be converted to float" lol what am I doing to cause that one
[22:15:00] <relipse> how many GB of ram do we have?
[22:15:12] <relipse> i mean do you guys have for your web server
[22:15:30] *** Joins: onichomp (~onichomp@2806:264:4408:1f3:5071:bc99:be1e:b5ca)
[22:15:45] <Albright> My VPS has a gigabyte.
[22:16:15] <Albright> I don't do a lot with it so that's more than sufficient.
[22:16:21] *** Quits: onichomp (~onichomp@2806:264:4408:1f3:5071:bc99:be1e:b5ca) (Read error: Connection reset by peer)
[22:18:55] *** Joins: onichomp (~onichomp@2806:264:4408:1f3:5071:bc99:be1e:b5ca)
[22:22:53] <__adrian> relipse: how much ram anyone here has on their server doesn't matter at all for making choices about yours
[22:23:09] <relipse> Just trying to get an idea
[22:23:14] <relipse> we have 8GB ram
[22:23:22] <__adrian> it's the wrong way to get an idea
[22:23:46] <__adrian> it might (by coincidence) be a good idea, but it more likely won't.
[22:24:17] <biberu> relipse: how much memory did you write your code to require in a request?
[22:25:31] <teresko> and how many concurrent users you have?
[22:28:15] <relipse> 17-50
[22:28:52] <Trancer> you should be able to stuff that in a GB easily, unless you are loading all of wikipedia into memory 5 times per request
[22:29:01] <teresko> so .. how much memory you have allowed in php.ini to proces to use?
[22:29:22] *** Quits: novns (~novns@user/novns) (Quit: ZNC - https://znc.in)
[22:29:45] *** Joins: novns (~novns@user/novns)
[22:30:39] <teresko> basically, the primitive approach is to look at what is you peak concurrent users, how much you have allocated for php process, multiply the both numbers and then you can see at least the upper-limit of what your server CAN use
[22:30:53] <teresko> will it be the optimal number - no fucking way
[22:31:18] <teresko> but it will be a number against which you can start refining your requirements
[22:31:41] <relipse> please keep language clean teresko
[22:31:43] *** Quits: Poboy (~Poboy@user/poboy) (Quit: Client closed)
[22:31:46] <relipse> see topic
[22:32:29] <teresko> ... and that's how you get ignored, have a nice life
[22:32:58] <relipse> that's nice, I get ignored for not wanting someone to use the f word
[22:33:31] <relipse> ok memory limit is 128M
[22:33:32] <biberu> might be more pragmatic to overlook that while he's helping you?
[22:34:11] <relipse> biberu, its not like it was the d word or the s word
[22:34:18] <relipse> it was like the second to worst, the f word
[22:34:24] <biberu> i don't even know what those are
[22:35:09] <relipse> i think its just the fact that people in general hate to be corrected
[22:35:30] <teresko> https://www.youtube.com/watch?v=F8XlMYe_2Lo
[22:35:39] <biberu> so if you think that, why are you doing it to someone you want help from? ^^
[22:36:06] <relipse> if he's going to use the f word, i really don't need his help, do I/
[22:36:11] <relipse> i don't care how smart you are
[22:36:27] <biberu> that's your choice
[22:36:35] <relipse> why are you taking his side?
[22:37:20] <biberu> i'm not taking any side, just observing that you successfully stopped receiving help from someone :)
[22:37:45] <relipse> its not my choice to not receive help
[22:37:49] <relipse> its his choice not to help
[22:37:55] <relipse> because he loves cuss words
[22:38:14] <relipse> and doesn't want to follow channel rules
[22:38:30] <biberu> this entire discussion isn't following channel rules
[22:42:28] *** Quits: lara99 (~lara99@93-36-163-139.ip61.fastwebnet.it) (Quit: Client closed)
[22:42:40] *** Joins: lara99 (~lara99@93-36-163-139.ip61.fastwebnet.it)
[22:43:23] *** Quits: thiras (~thiras@user/thiras) (Read error: Connection reset by peer)
[22:43:55] *** Joins: pycode (~pycode3@2001:b07:5d28:551:3cbd:a3bd:ace0:3635)
[22:44:15] *** Quits: ejjfunky (~ejjfunky@125.164.22.233) (Read error: Connection reset by peer)
[22:50:07] *** Joins: ThePhilgrim (~ThePhilgr@151.40.115.120)
[22:50:43] *** Quits: ThePhilgrim (~ThePhilgr@151.40.115.120) (Client Quit)
[22:55:23] <relipse> If PHP is set to use a max of 128MB of ram, then the number of concurrent users lets say 50 , would mean that it is attempting to use 6,400mb of ram
[22:55:51] <relipse> so if your concurrent users went up to 100 then the system would try to kill processes
[22:59:46] <AllenJB> only if all those requests are actually doing something that requires that much memory. It's a maximum limit, not an amount that's immediately reserved for each request.
[22:59:49] <Albright> That's an upper limit, though. In most cases it will be safe to assume that not every connection is using all of the memory possible.
[23:00:13] <relipse> then why did we get an out of memory error, resulting in the OS killing mysql resulting in tables being corrupted
[23:00:18] <AllenJB> And PHP's memory_limit is enforced by PHP itself - not the OS (eg. Linux's OOM-Killer)
[23:01:18] <AllenJB> OOM-Killer is a separate thing and will act based on the memory used by everything running on the OS, not just PHP
[23:03:28] <AllenJB> If OOM-Killer is kicking in, you need to look at everything on the system. The first thing I would look at is either tuning MySQL or moving it off to its own server (which will make resource management significantly easier).
[23:04:00] <relipse> ok
[23:06:04] <AllenJB> If you're using PHP-FPM, workers may retain allocated memory across multiple requests (until that worker is killed). It's possible to limit the number of workers that may use lots of memory by moving memory-intensive requests to a separate pool (with restricted number of workers and/or shorter lifetimes)
[23:07:54] <relipse> how do you know when you need a node balancer
[23:12:16] <relipse> 1. One server for MySQL. 2. Another server for PHP and code.
[23:12:19] *** Joins: WishBoy (~WishBoy@user/wishboy)
[23:12:26] <relipse> or throw more ram at it
[23:17:46] *** Quits: olle (~olle@i5E866D89.versanet.de) (Ping timeout: 256 seconds)
[23:26:39] *** Quits: hh (~g@37.214.26.148) (Remote host closed the connection)
[23:27:42] *** Quits: pycode (~pycode3@2001:b07:5d28:551:3cbd:a3bd:ace0:3635) (Ping timeout: 260 seconds)
[23:28:13] <biberu> relipse: monitoring
[23:39:17] *** Joins: shokohsc4 (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[23:40:09] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[23:40:09] *** shokohsc4 is now known as shokohsc
[23:49:45] *** Quits: PTNapivoski (~PTNapivos@179.189.133.33) (Quit: Leaving)
[23:57:41] *** Joins: cocomo (~cocomo@111.119.191.8)
