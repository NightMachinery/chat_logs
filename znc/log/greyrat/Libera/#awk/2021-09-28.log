[00:05:50] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[00:15:45] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[00:19:39] *** Joins: chasmo77 (~chas77@71.63.241.168)
[00:23:15] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[00:43:47] *** Quits: nmz (~nmz@adsl-72-50-4-176.prtc.net) (Ping timeout: 240 seconds)
[00:48:29] *** Parts: fris (sid7259@2a03:5180:f:1::1c5b) ()
[00:50:50] *** Quits: mcint (mcint@user/mcint) (Ping timeout: 268 seconds)
[01:29:04] *** Joins: mcint (mcint@user/mcint)
[01:35:08] *** Quits: pyre (~pyre@crimeboss.nillas-power.com) (Remote host closed the connection)
[01:35:08] *** Quits: AJ_Z0 (~AJ_Z0@user/aj-z0/x-3780512) (Quit: I have to return some videotapes)
[01:36:25] *** Joins: pyre (~pyre@crimeboss.nillas-power.com)
[01:39:11] *** Joins: AJ_Z0 (~AJ_Z0@user/aj-z0/x-3780512)
[01:55:57] *** Joins: X-Scale` (~ARM@50.77.166.178.rev.vodafone.pt)
[01:57:16] *** Quits: X-Scale (~ARM@31.22.162.96) (Ping timeout: 265 seconds)
[01:58:19] *** X-Scale` is now known as X-Scale
[02:38:50] *** Quits: dextaa (~DV@user/dextaa) (Ping timeout: 265 seconds)
[02:39:13] *** Joins: dextaa (~DV@user/dextaa)
[03:02:12] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (Ping timeout: 268 seconds)
[03:08:26] *** Joins: seninha (~seninha@user/seninha)
[03:27:55] *** Joins: jmcantrell (~jmcantrel@user/jmcantrell)
[03:47:43] *** Joins: roarde (~roarde@user/roarde)
[04:07:03] *** Joins: emg (~emg@cpe-70-93-247-186.natsow.res.rr.com)
[04:30:26] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:34:48] *** Joins: vlm (~vlm@user/vlm)
[04:51:24] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 265 seconds)
[05:15:11] *** Quits: Torr (~Torr@user/torr) (Remote host closed the connection)
[05:23:23] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[05:25:00] *** Joins: Everything (~Everythin@37.115.210.35)
[05:35:04] *** Joins: seninha (~seninha@user/seninha)
[05:54:45] *** Joins: Torr (~Torr@user/torr)
[06:19:26] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[07:31:37] *** Quits: lgc (~lgc@user/lgc) (Quit: WeeChat 3.2-dev)
[08:37:54] *** defjam is now known as clouding
[08:44:23] *** clouding is now known as defjam
[08:49:45] *** Joins: lavaball (~Melissa@31.204.155.215)
[09:06:51] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[09:07:11] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[09:24:33] *** Joins: earnestly (~earnest@user/earnestly)
[10:26:21] *** Quits: mcint (mcint@user/mcint) (Ping timeout: 265 seconds)
[11:06:22] *** Quits: Everything (~Everythin@37.115.210.35) (Quit: leaving)
[12:04:53] *** Quits: lavaball (~Melissa@31.204.155.215) (Remote host closed the connection)
[12:05:04] *** Quits: roarde (~roarde@user/roarde) (Quit: Leaving)
[12:05:10] *** Joins: lavaball (felix@31.204.155.215)
[12:28:26] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 245 seconds)
[12:29:16] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[15:23:45] *** Joins: seninha (~seninha@user/seninha)
[18:24:03] *** Joins: nmz (~nmz@adsl-72-50-5-17.prtc.net)
[18:50:45] *** Joins: ychaouche (~ychaouche@user/ychaouche)
[18:50:53] <ychaouche> hello awk gurus
[18:51:14] <ychaouche> quick question : is there an equivalent of tail -f in awk ? 
[18:51:50] <ychaouche> I find myself using tail -f | awk on some log files in search of specific lines and get them as they appear
[18:52:11] <ychaouche> just curious if awk could handle that for me or if it's better to keep tail -f 
[18:53:51] *** Quits: waldo323 (~waldo323@d14-69-96-170.try.wideopenwest.com) (Remote host closed the connection)
[18:54:11] *** Joins: waldo323 (~waldo323@d14-69-96-170.try.wideopenwest.com)
[18:55:56] <geirha> sure it can
[18:56:25] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[18:56:51] <yeti> o.O
[18:58:37] <yeti> starting at last 10 lines and then following?
[18:58:43] <yeti> without seeking?
[19:00:03] <geirha> If they want all existing lines in addition to new lines, then   tail -n+1 -f
[19:00:39] <yeti> I dont see awk spitting out only new lines
[19:00:55] <yeti> all preexisting ones and then incoming new ones... ok
[19:01:04] <geirha> other way around. awk will be parsing tail's output
[19:01:46] <yeti> wasnt the Q to make awk do tail's job too?
[19:02:12] <yeti> is my babelfish already so undercaffeinated again?
[19:02:57] <geirha> tail -n+1 -f logfile | awk -v red="$(tput setaf 1)" -v reset="$(tput sgr0)" '/ERROR/{ $0 = red $0 reset } {print}'
[19:03:15] <geirha> colours all lines that contain ERROR
[19:03:52] <geirha> ah, so that's me misunderstanding
[19:03:52] <ychaouche> yeti yes the question was to get rid of tail
[19:04:02] <geirha> Answer is no, then. awk can't do tail -f
[19:04:41] <yeti> ok.
[19:04:52] <yeti> I'll not fire my babelfish  :-D
[19:05:03] <ychaouche> ok thanks guys
[19:05:13] <ychaouche> gtg now maybe bring back the subject another time
[19:05:23] <ychaouche> yeti gave an interesting detail
[19:05:28] <ychaouche> ciao
[19:05:29] *** Parts: ychaouche (~ychaouche@user/ychaouche) (Konversation terminated!)
[19:06:11] <yeti> awka maybe can use libc's seek... but awka better gets an own channel...
[19:07:17] <yeti> hmmm... and combining awka with tcc might give super fast compilation
[19:07:35] *** Quits: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net) (Remote host closed the connection)
[19:07:46] <yeti> never tried... too complex for what I typically do with awk
[19:07:59] <yeti> and not omnipresent
[19:08:58] *** Joins: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net)
[19:11:34] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[19:14:19] <nmz> ruby has BEGIN {} and END {}
[19:19:17] *** Quits: nmz (~nmz@adsl-72-50-5-17.prtc.net) (Ping timeout: 246 seconds)
[19:32:12] *** Joins: waldo323_ (~waldo323@d14-69-96-170.try.wideopenwest.com)
[19:34:41] *** Quits: waldo323 (~waldo323@d14-69-96-170.try.wideopenwest.com) (Ping timeout: 246 seconds)
[19:39:02] *** Joins: seninha (~seninha@user/seninha)
[19:48:09] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[20:03:54] *** Joins: seninha (~seninha@user/seninha)
[20:14:20] *** Quits: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net) (Remote host closed the connection)
[20:24:44] *** Quits: Torr (~Torr@user/torr) (Remote host closed the connection)
[20:38:21] *** Joins: Torr (~Torr@user/torr)
[20:38:33] *** Quits: Torr (~Torr@user/torr) (Client Quit)
[20:38:44] *** Joins: Torr (~Torr@user/torr)
[20:53:18] *** Joins: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net)
[20:55:58] *** Joins: mcint (mcint@user/mcint)
[21:22:30] *** Joins: extern (~archer@141.226.60.187)
[21:32:43] <extern> im trying to feed a pathname to awk and then create a file to include dirs for rsync 
[21:33:34] <extern> for example /home/user/dir1 will create a file like
[21:33:43] <extern> + /home/
[21:33:47] <extern> + user/
[21:33:50] <extern> + dir1
[21:34:38] <extern> *** + home/
[21:34:42] <extern> + user/
[21:34:46] <extern> + dir1/
[21:39:35] *** Joins: lgc (~lgc@user/lgc)
[21:45:36] <extern> Patsie: 
[21:54:44] *** Joins: roarde (~roarde@user/roarde)
[21:58:39] <Patsie> ?
[22:00:34] <extern> i need help
[22:00:36] <extern> &
[22:00:38] <extern> ^^
[22:04:04] <extern> geirha: maybe you are in better mood today ?
[22:08:20] *** Quits: extern (~archer@141.226.60.187) (Ping timeout: 246 seconds)
[22:10:38] *** Joins: extern (~archer@80.246.138.111)
[22:13:50] <yeti> play a bit with   find Sync -type d | awk -F/ '{ for(i=1;i<NF;i++) printf "|   " ; print $NF}'   ?
[22:14:02] <yeti> Sync was the start dir in my test case
[22:15:54] <yeti> https://termbin.com/8ahq
[22:16:22] <yeti> still rough, but I'm a bit unfocussed... the day already was loooong
[22:19:27] <extern> yeti thanks im trying
[22:36:49] <extern> yeti: how for each iteration in for i do 2 actions ?
[22:36:56] <extern> printf ... print
[22:37:53] <extern> if i put semicolon the second command run after the iteration is over
[22:39:31] <extern> i need to do few action in one iteration of i
[22:40:32] <yeti> put { ... } around the printf stuff and add the other actions before or after it separated by ;
[22:41:15] <yeti> for(...) { ... ; printf ... ; ... }
[22:41:50] <yeti> that makes the for repeat the whole { ... } block
[22:42:09] <extern> thanks im close to the solution i wanted
[22:42:16] <yeti> ;-)
[22:43:29] <extern> how to omit the newline after print action ?
[22:46:50] <extern> i mean i need to print a variable $i
[22:46:53] <extern> from the iteration 
[22:47:02] <extern> echo .some/dir/tree/123 | awk -F / '{for(i=1;i<NF;i++) { printf "+ "; print $i; printf "/"}}'
[22:47:28] <extern> the new line after print $1 is disturbing
[22:47:34] <extern> * print $1
[22:47:43] <extern> ** print $i
[22:48:10] <yeti> print adds a newline, printf does not
[22:48:46] <extern> but printf does not print variables
[22:48:50] <extern> i think
[22:48:59] <extern> printf "$i" just print $i
[22:49:32] *** Quits: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net) (Remote host closed the connection)
[22:49:37] <emanuele6> extern: because you quoted it
[22:50:02] <emanuele6> don't use `printf $i' though, that is a format injection
[22:50:03] *** Joins: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net)
[22:50:10] <emanuele6> use `printf %s, $i'
[22:50:30] <emanuele6> correction: use  `printf "%s", $i'
[22:50:41] <extern> emanuele6: or just printf $i ?
[22:50:43] <extern> it works
[22:51:11] <emanuele6> # awk '{ printf $2 }' <<< 'a b' 
[22:51:11] <yeti> could make trouble if $i contains \something or %other
[22:51:13] <shbot> emanuele6: b
[22:51:18] <emanuele6> # awk '{ printf $2 }' <<< 'a %%' 
[22:51:19] <shbot> emanuele6: %
[22:51:23] <emanuele6> # awk '{ printf %s, $2 }' <<< 'a %%' 
[22:51:30] <shbot> emanuele6: awk: syntax error at source line 1
[22:51:30] <shbot> emanuele6:  context is
[22:51:30] <shbot> emanuele6: etc... ( http://ix.io/3AfZ )
[22:51:35] <emanuele6> oops
[22:51:39] <emanuele6> # awk '{ printf "%s", $2 }' <<< 'a %%' 
[22:51:41] <shbot> emanuele6: %%
[22:51:41] <extern> emanuele6: i see..
[22:51:43] <extern> thanks
[22:52:04] <emanuele6> $i is interpreted as a format
[22:52:19] <emanuele6> if you pass it to printf as the format argument
[22:52:49] <emanuele6> if you want to use printf to print a string, you should use the "%s" format and then pass the string as the second argument
[22:53:36] <yeti> printf stringconstant    is safe in a limited range of cases...
[22:53:53] <emanuele6> > { printf "+ "; print $i; printf "/"}}'
[22:54:14] <emanuele6> in this case you can just use: { print "+ "$i"/" }
[22:54:23] <extern> my ultimate goal is to build a inclusion exclusion file for rsync
[22:55:45] <emanuele6> # awk -F/ '{ for(i=1;i<NF;i++) print "+ "$i"/" }' <<< /home/emanuele6/bin
[22:55:47] <shbot> emanuele6: + /
[22:55:47] <shbot> emanuele6: + home/
[22:55:47] <shbot> emanuele6: + emanuele6/
[22:57:05] <extern> i want to get rid of the first /
[22:57:55] <emanuele6> what is the input? always an absolute path?
[22:57:59] <yeti> for(i=1;i<NF;i++) printf indentationstuff ; print dirname
[22:58:22] <emanuele6> yeti: <=NF
[22:58:32] <yeti> no
[22:58:41] <emanuele6> no?
[22:59:56] <yeti> wasnt izt meant like e tree like structure with dropped parent nodes?
[23:00:14] <yeti> https://termbin.com/tgg4
[23:01:20] <yeti> the for iteratetes over the nodes that are replaced by  |-->
[23:01:38] <extern> i meant like this:
[23:01:40] <extern> echo .some/dir/tree/123 | awk -F / '{for(i=1;i<NF;i++) { printf "+ "; printf $i; printf "/\n"}}'
[23:02:20] <extern> there is two problems with my code 1. "/" of absolute path is included 2. the last field is not printed
[23:02:36] <yeti> that turns the child nodes into a list on the same level as the parent
[23:02:42] <extern> yes
[23:03:09] *** Quits: defjam (~eb0t@90.196.142.47) (Quit: WeeChat 3.0)
[23:03:45] <yeti> I'm lost... and it is too late to refresh my caffeine level now...    :-/
[23:03:56] <emanuele6> extern: start from 2 and include NF then
[23:04:10] <emanuele6> but it's silly to use thre printfs like that
[23:04:58] <yeti> printf "+"   is sage but   printf $i might contain characters printf interpretes soecially
[23:05:02] <yeti> saFe
[23:05:40] <extern> emanuele6: my ultimate goal is to use rsync to backup files and their directories.. and then tar them
[23:05:45] <emanuele6> but you can also simply use: print "+ "$i"/"; or one printf: printf "+ %s/\n", $i 
[23:05:47] <yeti> "+ %s" $i
[23:06:16] <extern> in order to do that i need to include all the directories in the path to the files 
[23:06:48] <extern> if there is a directory i included with the same name anywhere on the path it might include the files there even if i originally meant to another file(s)
[23:07:02] <extern> that's another problem
[23:07:59] <extern> ultimately my /src/ will be ${HOME}
[23:08:10] <emanuele6> # awk -F/ '{ for(i=$1~/^ *$/?2:1;i<NF;i++) print "+ "$i"/" }' <<< /home/emanuele6/bin
[23:08:12] <shbot> emanuele6: + home/
[23:08:12] <shbot> emanuele6: + emanuele6/
[23:08:17] <emanuele6> # awk -F/ '{ for(i=$1~/^ *$/?2:1;i<=NF;i++) print "+ "$i"/" }' <<< /home/emanuele6/bin
[23:08:18] <shbot> emanuele6: + home/
[23:08:18] <shbot> emanuele6: + emanuele6/
[23:08:18] <shbot> emanuele6: + bin/
[23:08:26] *** Quits: geirha (~geirha@user/geirha) (Ping timeout: 265 seconds)
[23:08:34] <emanuele6> # awk -F/ '{ for(i=$1~/^ *$/?2:1;i<=NF;i++) print "+ "$i"/" }' <<< rel/somedir/something
[23:08:36] <shbot> emanuele6: + rel/
[23:08:36] <shbot> emanuele6: + somedir/
[23:08:36] <shbot> emanuele6: + something/
[23:08:56] <yeti> poor rsync
[23:09:12] <emanuele6> <extern > i want to get rid of the first /
[23:13:50] <emanuele6> actually, it is more correct to write i=$1==""?2:1
[23:15:32] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[23:17:33] <extern> emanuele6: im not understand the second one
[23:17:53] <extern> i do sry
[23:18:21] <extern> yeti: heh, i don't know any other way for backup
[23:19:06] <extern> i would very appreciate more sane solution though
[23:19:46] <extern> emanuele6: thank you very much
[23:20:28] <roarde> with FS=':', number of fields in ':f:' is three, correct?
[23:22:46] <yeti> rsync -avPHAXS --delete $HOME/. $DESTINATION/.  # ?
[23:23:18] <yeti> i push everything to a backup location, not using include/exclude lists
[23:24:16] <yeti> it a bit mor ecomplicated because I do that with whole systems of similar OSes and even hardlink stuff that's same between them but that above is the simplified example for home
[23:24:53] <extern> yeti: im not sure github will let me do that :D 
[23:25:01] <yeti> rsync is option hell now... probably lots can be improved or maybe -a already includes -H ... but mehr... it works
[23:25:25] <yeti> github/rsync?  no idea
[23:25:26] <extern> im trrying to save in a tar file all my config files (nvim, weechat, .bashrc etc..)
[23:25:39] <extern> and push them to git
[23:25:42] <yeti> I'd never backup to a microsoft owned place
[23:26:14] <extern> what you recommend as an alternative ?
[23:27:18] <yeti> ok... git may be ok for some configs
[23:27:35] <yeti> I was thinking of a whole home with mail and such
[23:27:49] <extern> yes that's all i upload
[23:27:58] <yeti> notabug?
[23:28:05] <yeti> SDF's gitea?
[23:28:31] <yeti> look at fossil?
[23:28:52] <yeti> that's a single-project mini-github
[23:28:58] <yeti> can be used in a p2p way
[23:29:17] <yeti> or naked git over ssh?
[23:29:35] <yeti> put miniservers at your sister's home or such and vice versa
[23:29:46] <yeti> backupping to the other one
[23:29:54] <yeti> so a fire wont kill both places at once
[23:36:05] <yeti> paperbackup
[23:36:07] <yeti> ;-)
[23:36:20] <yeti> http://ronja.twibright.com/optar/
[23:36:39] <yeti> print and send to someone
[23:36:55] <yeti> (not really serious, but a funny idea)
[23:46:13] *** Joins: geirha (~geirha@user/geirha)
[23:55:14] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
