[00:06:36] <andrewrk> ifreund, I agree with you and would be amenable to reverting that stuff
[00:06:41] <andrewrk> before 0.9.0
[00:07:48] <andrewrk> jhuntwork, are you talking about the download page? it should be statically linked
[00:08:01] <jhuntwork> yes, it doesn't seem to be
[00:08:12] <jhuntwork> you can verify by running file and ldd against it
[00:08:42] <andrewrk> it appears to be statically linked to me
[00:09:04] <jhuntwork> interesting
[00:09:18] <andrewrk> I get the same output as you with the `file` command; I believe it's a bug in file
[00:11:27] <jhuntwork> ldd also shows it as dynamic though
[00:12:24] <jhuntwork> /lib/ld-musl-x86_64.so.1 --list zig
[00:12:32] <jhuntwork>   /lib/ld-musl-x86_64.so.1 (0x7fd0438c8000)
[00:12:43] <jhuntwork> vs /lib/ld-musl-x86_64.so.1 --list /bin/busybox
[00:12:52] <jhuntwork>  /lib/ld-musl-x86_64.so.1: /bin/busybox: Not a valid dynamic program
[00:13:40] <jhuntwork> haven't actually tried running it on a system without musl though
[00:13:45] <jhuntwork> could try that next I suppose
[00:15:52] *** Quits: LostKobrakai_ (~LostKobra@2001:16b8:2daa:b00:3047:1bf8:9f65:a95f) (Quit: LostKobrakai_)
[00:15:54] <jhuntwork> interesting - ldd on a ubuntu machine shows it as statically linked and it does work
[00:17:11] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[00:22:22] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[00:24:32] *** Quits: novakane (~novakane@user/novakane) (Quit: WeeChat 3.3)
[00:26:37] *** Quits: tane (~tane@dslb-002-201-234-197.002.201.pools.vodafone-ip.de) (Quit: Leaving)
[00:32:52] *** Quits: notapenguin (~ryu@2804:14d:5680:8a2c:75cf:7f59:516a:b801) (Quit: WeeChat 3.3)
[00:38:56] *** Joins: LostKobrakai_ (~LostKobra@2001:16b8:2daa:b00:3047:1bf8:9f65:a95f)
[00:39:06] *** LostKobrakai_ is now known as LostKobrakai[awa
[00:40:06] *** Quits: LostKobrakai[awa (~LostKobra@2001:16b8:2daa:b00:3047:1bf8:9f65:a95f) (Client Quit)
[00:41:02] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[00:44:47] *** Quits: ajr (~andrew@cpe-172-91-111-232.socal.res.rr.com) (Ping timeout: 264 seconds)
[00:47:19] *** Joins: rgrinberg (~textual@ip152-195-159-186.ct.co.cr)
[00:52:09] *** Joins: ajr (~andrew@cpe-172-91-111-232.socal.res.rr.com)
[00:52:39] *** Quits: Sawzall (~Sawzall@96-82-249-149-static.hfc.comcastbusiness.net) (Read error: Connection reset by peer)
[00:52:54] *** Quits: Snetry (~snetry@dslb-188-101-114-192.188.101.pools.vodafone-ip.de) (Ping timeout: 265 seconds)
[00:53:01] *** Joins: Snetry- (~snetry@dslb-188-109-210-068.188.109.pools.vodafone-ip.de)
[00:54:18] *** Joins: Sawzall (~Sawzall@96-82-249-149-static.hfc.comcastbusiness.net)
[00:58:22] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[00:59:42] *** Quits: xackus_ (~xackus@7-24.w.knc.pl) (Ping timeout: 260 seconds)
[01:02:34] *** Quits: wnbeser (~wnbeser@91-154-216-7.elisa-laajakaista.fi) (Quit: Leaving)
[01:02:54] <jhuntwork> ok, even weirder, if I try to use the zig from the downloaded package to compile a hello world c exmple, the resulting binary segfaults on my system
[01:03:08] <jhuntwork> but if I use the zig that I compiled myself from source, it doesn't
[01:03:45] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[01:08:25] <jhuntwork> https://gist.githubusercontent.com/jhuntwork/e4bdd2cebeb012fe2400394396bccfb9/raw/eafe28324c4a0f961f57127065a968b1e3cded9e/zigtest.txt
[01:11:14] <jhuntwork> I don't see this behavior on a ubuntu machine or an alpine container, so must be something weird with mine, but no idea what yet
[01:17:43] <jhuntwork> hmm, might be a kernel bug
[01:28:42] *** Quits: poww0wmus1c (~poww0wmus@gateway/tor-sasl/poww0wmus1c) (Quit: leaving)
[01:30:03] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[01:30:09] *** Quits: rgrinberg (~textual@ip152-195-159-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:34:45] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 258 seconds)
[01:42:36] *** Joins: notapenguin (~ryu@2804:14d:5680:8a2c:75cf:7f59:516a:b801)
[01:42:37] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[01:43:53] *** Quits: kdlv (~kdlv@c83-251-237-81.bredband.tele2.se) (Ping timeout: 264 seconds)
[01:46:04] <flux_control> jhuntwork: You can also try readelf -d /path/to/zig.
[01:47:09] *** Joins: kdlv (~kdlv@c83-251-237-81.bredband.tele2.se)
[01:47:30] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[01:47:48] <flux_control> FOr me that does show that zig is dynamically linked, but not to a specific library (ie libc), only to specific libc symbols (INIT, FINI, etc).
[01:49:00] <flux_control> Whereas a fully static binary (such as /sbin/init on my Void Linux system) results in "There is no dynamic section in this file."
[01:49:30] <flux_control> andrewrk: What does readelf -d show you on your ubuntu system for the zig binary?
[01:51:30] *** Quits: kdlv (~kdlv@c83-251-237-81.bredband.tele2.se) (Ping timeout: 260 seconds)
[01:54:18] *** Quits: nyah (~nyah@bcdcb6e3.skybroadband.com) (Ping timeout: 260 seconds)
[01:56:56] *** Quits: af (~af@awalgarg.me) (Quit: WeeChat 3.2.1)
[02:03:26] <andrewrk> I'm on nixos
[02:03:48] <andrewrk> readelf would say the same thing on any system for the same binary
[02:04:21] *** Joins: kdlv (~kdlv@c83-251-237-81.bredband.tele2.se)
[02:10:15] *** Quits: Snetry- (~snetry@dslb-188-109-210-068.188.109.pools.vodafone-ip.de) (Ping timeout: 260 seconds)
[02:14:11] *** Joins: Snetry (~snetry@dslb-088-078-077-056.088.078.pools.vodafone-ip.de)
[02:15:00] *** Quits: jmiven (~vpm@pham.algeb.re) (Quit: reboot)
[02:15:44] *** Joins: jmiven (~vpm@pham.algeb.re)
[02:19:29] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[02:19:51] *** Joins: okCiel (~okCiel@softbank126126141082.bbtec.net)
[02:24:12] *** Quits: ur5us (~ur5us@2406:e002:6c33:6d01:90c2:1bd2:83db:98) (Ping timeout: 258 seconds)
[02:24:23] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 264 seconds)
[02:36:12] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[02:41:27] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 258 seconds)
[02:53:24] *** Quits: Tekk_ (~tekk@cpe-76-182-45-53.nc.res.rr.com) (Remote host closed the connection)
[03:04:16] <jhuntwork> so file must be seeing it as a dynamic binary because it has a dynamic section
[03:08:31] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[03:12:16] *** Joins: ur5us (~ur5us@2406:e002:6c33:6d01:e4a1:448d:2cb1:fbb6)
[03:13:38] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[03:14:17] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[03:19:14] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[03:19:57] *** Joins: af (~af@awalgarg.me)
[03:20:00] *** Quits: notapenguin (~ryu@2804:14d:5680:8a2c:75cf:7f59:516a:b801) (Quit: WeeChat 3.3)
[03:24:01] *** Joins: rgrinberg (~textual@201.182.226.118)
[03:38:33] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[04:07:30] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 260 seconds)
[04:09:18] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[04:14:30] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[04:18:35] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[04:19:10] *** Quits: ajr (~andrew@cpe-172-91-111-232.socal.res.rr.com) (Ping timeout: 260 seconds)
[04:31:26] *** Quits: aa (~douglasco@200.146.85.128.static.gvt.net.br) (Read error: Connection reset by peer)
[04:31:35] *** Joins: aa (~douglasco@200.146.85.128.static.gvt.net.br)
[04:36:06] *** Joins: ajr (~andrew@cpe-172-91-111-232.socal.res.rr.com)
[04:39:16] *** Quits: ibokuri (sid517924@user/ibokuri) (Ping timeout: 245 seconds)
[04:40:45] *** Quits: ajr (~andrew@cpe-172-91-111-232.socal.res.rr.com) (Ping timeout: 260 seconds)
[04:42:44] *** Joins: ibokuri (sid517924@user/ibokuri)
[04:44:36] *** Joins: ajr (~andrew@cpe-172-91-111-232.socal.res.rr.com)
[04:44:42] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[04:49:29] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 258 seconds)
[04:49:29] *** Quits: ajr (~andrew@cpe-172-91-111-232.socal.res.rr.com) (Ping timeout: 258 seconds)
[05:04:55] *** Joins: LostKobrakai_ (~LostKobra@2001:16b8:2daa:b00:3047:1bf8:9f65:a95f)
[05:05:06] *** LostKobrakai_ is now known as LostKobrakai[awa
[05:06:10] *** Quits: LostKobrakai[awa (~LostKobra@2001:16b8:2daa:b00:3047:1bf8:9f65:a95f) (Client Quit)
[05:19:32] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[05:24:12] *** Joins: freshcoffee (~fresh@user/freshcoffee)
[05:24:46] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[05:34:09] *** Quits: duck2 (~duck2@146.185.156.161) (Quit: Ping timeout (120 seconds))
[05:34:38] *** Joins: duck2 (~duck2@146.185.156.161)
[05:39:55] *** Joins: ajr (~andrew@cpe-172-91-111-232.socal.res.rr.com)
[05:42:42] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[05:45:23] *** Quits: ajr (~andrew@cpe-172-91-111-232.socal.res.rr.com) (Ping timeout: 264 seconds)
[05:47:47] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 264 seconds)
[05:53:56] *** Quits: arkurious (~arkurious@user/arkurious) (Quit: Leaving)
[06:01:41] *** Joins: shadai (~shadai@41.85.168.9)
[06:02:02] *** Quits: shadai (~shadai@41.85.168.9) (Client Quit)
[06:06:41] *** Quits: leon-p (~leon-p@2a02:8108:96c0:1810:42c:3cff:fe23:f0f8) (Remote host closed the connection)
[06:08:07] *** Joins: leon-p (~leon-p@2a02:8108:96c0:1810:30df:dbff:fe0c:30c4)
[06:16:30] *** Quits: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Ping timeout: 258 seconds)
[06:22:14] *** Quits: op_4 (~op_4@user/op-4/x-9116473) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[06:22:52] *** Quits: leon-p (~leon-p@2a02:8108:96c0:1810:30df:dbff:fe0c:30c4) (Quit: leon-p)
[06:22:54] *** Joins: op_4 (~op_4@user/op-4/x-9116473)
[06:38:01] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[06:43:15] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[07:14:58] *** Joins: LostKobrakai_ (~LostKobra@2001:16b8:2d8a:e600:8882:5368:a1b9:2867)
[07:15:09] *** LostKobrakai_ is now known as LostKobrakai[awa
[07:15:45] *** Quits: LostKobrakai[awa (~LostKobra@2001:16b8:2d8a:e600:8882:5368:a1b9:2867) (Client Quit)
[07:36:01] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.3)
[07:36:31] *** Joins: supakeen (~user@python/site-packages/supakeen)
[07:38:38] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[07:44:30] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[08:03:07] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[08:03:35] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[08:13:54] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[08:14:39] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[08:18:55] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[08:19:35] *** Quits: ur5us (~ur5us@2406:e002:6c33:6d01:e4a1:448d:2cb1:fbb6) (Ping timeout: 264 seconds)
[08:22:38] *** Joins: ajr (~andrew@cpe-172-91-111-232.socal.res.rr.com)
[08:22:49] *** Quits: ajr (~andrew@cpe-172-91-111-232.socal.res.rr.com) (Client Quit)
[08:32:22] *** Joins: ur5us (~ur5us@2406:e002:6c33:6d01:e4a1:448d:2cb1:fbb6)
[08:46:53] *** Quits: rgrinberg (~textual@201.182.226.118) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:51:51] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[08:58:02] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[09:08:56] *** Joins: novakane (~novakane@user/novakane)
[09:16:21] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[09:18:26] *** Quits: mountaingoat (~mountaing@user/mountaingoat) (Ping timeout: 245 seconds)
[09:18:32] *** Joins: LostKobrakai_ (~LostKobra@2001:16b8:2d8a:e600:8882:5368:a1b9:2867)
[09:18:41] *** LostKobrakai_ is now known as LostKobrakai[awa
[09:19:41] *** Quits: LostKobrakai[awa (~LostKobra@2001:16b8:2d8a:e600:8882:5368:a1b9:2867) (Client Quit)
[09:20:05] *** Joins: Vexu (~Thunderbi@188.117.20.105)
[09:20:56] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 245 seconds)
[09:31:51] *** Joins: mountaingoat (~mountaing@user/mountaingoat)
[09:37:04] *** Joins: kragacles_ (kragacles@2600:3c00::f03c:91ff:fe33:9278)
[09:37:11] *** Quits: kragacles (kragacles@2600:3c00::f03c:91ff:fe33:9278) (Ping timeout: 245 seconds)
[09:37:21] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[09:37:36] *** Quits: LostKobrakai (~LostKobra@dia.uberspace.de) (Ping timeout: 245 seconds)
[09:37:45] *** Joins: LostKobrakai (~LostKobra@dia.uberspace.de)
[09:48:13] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[09:52:50] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[10:17:07] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[10:29:37] *** Quits: waleee (~waleee@h-98-128-228-119.NA.cust.bahnhof.se) (Quit: WeeChat 3.3)
[10:34:13] *** Joins: LostKobrakai_ (~LostKobra@2001:16b8:2d8a:e600:8882:5368:a1b9:2867)
[10:38:50] *** Quits: ashn_ (~ashn@c-71-225-101-134.hsd1.pa.comcast.net) (Ping timeout: 260 seconds)
[10:39:16] *** Joins: ashn (~ashn@c-71-225-101-134.hsd1.pa.comcast.net)
[10:40:30] *** Joins: xd1le (~xd1le@user/xd1le)
[10:44:26] *** Joins: davidfetter_work (~davidfett@2601:640:4100:7e0:8d69:eafc:41d6:e9d4)
[10:46:18] *** Joins: qaph (~weechat@user/qaph)
[10:48:50] *** Quits: kron (~weechat@user/qaph) (Ping timeout: 260 seconds)
[10:48:52] *** qaph is now known as kron
[10:49:49] *** Quits: davidfetter_work (~davidfett@2601:640:4100:7e0:8d69:eafc:41d6:e9d4) (Ping timeout: 258 seconds)
[11:01:21] *** Joins: earnestly (~earnest@user/earnestly)
[11:15:07] *** Quits: Snetry (~snetry@dslb-088-078-077-056.088.078.pools.vodafone-ip.de) (Ping timeout: 258 seconds)
[11:17:50] *** Joins: Snetry (~snetry@dslb-092-072-121-025.092.072.pools.vodafone-ip.de)
[11:22:42] *** Quits: Snetry (~snetry@dslb-092-072-121-025.092.072.pools.vodafone-ip.de) (Ping timeout: 260 seconds)
[11:27:49] *** Joins: Snetry (~snetry@dslb-088-076-125-060.088.076.pools.vodafone-ip.de)
[11:31:05] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[11:31:33] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[11:36:40] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[11:38:11] *** Quits: ur5us (~ur5us@2406:e002:6c33:6d01:e4a1:448d:2cb1:fbb6) (Ping timeout: 264 seconds)
[11:39:56] *** Joins: fanis30 (~fanis30@adsl-234.37.6.0.tellas.gr)
[11:49:58] *** Quits: LostKobrakai_ (~LostKobra@2001:16b8:2d8a:e600:8882:5368:a1b9:2867) (Quit: LostKobrakai_)
[11:53:34] *** Joins: LostKobrakai_ (~LostKobra@2001:16b8:2d8a:e600:d98:6157:870c:7bb1)
[12:03:23] *** Quits: supakeen (~user@python/site-packages/supakeen) (Ping timeout: 264 seconds)
[12:03:23] *** Quits: duck2 (~duck2@146.185.156.161) (Ping timeout: 264 seconds)
[12:05:28] *** Quits: buhman (sid411355@user/buhman) (Ping timeout: 252 seconds)
[12:05:43] *** Joins: buhman (sid411355@user/buhman)
[12:06:14] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[12:06:39] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[12:17:20] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[12:19:15] *** Quits: Snetry (~snetry@dslb-088-076-125-060.088.076.pools.vodafone-ip.de) (Ping timeout: 260 seconds)
[12:19:46] *** Joins: duck2 (~duck2@146.185.156.161)
[12:20:10] *** Joins: supakeen (~user@python/site-packages/supakeen)
[12:21:24] *** Joins: Snetry (~snetry@dslb-188-101-124-060.188.101.pools.vodafone-ip.de)
[12:22:12] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 258 seconds)
[12:24:41] *** Joins: freshcoffee1 (~fresh@user/freshcoffee)
[12:25:40] *** Quits: freshcoffee (~fresh@user/freshcoffee) (Ping timeout: 260 seconds)
[12:28:43] *** Quits: Snetry (~snetry@dslb-188-101-124-060.188.101.pools.vodafone-ip.de) (Ping timeout: 258 seconds)
[12:32:20] *** Joins: Snetry (~snetry@dslb-188-101-124-123.188.101.pools.vodafone-ip.de)
[12:32:51] *** Joins: mps (~mps@109.72.52.77)
[12:42:30] *** Quits: novakane (~novakane@user/novakane) (Ping timeout: 260 seconds)
[12:42:36] *** Joins: novakane_ (~novakane@user/novakane)
[12:50:45] *** Quits: Vexu (~Thunderbi@188.117.20.105) (Ping timeout: 260 seconds)
[12:51:47] *** Quits: fanis30 (~fanis30@adsl-234.37.6.0.tellas.gr) (Quit: WeeChat 3.3)
[12:52:05] *** Joins: davidfetter_work (~davidfett@2601:640:4100:7e0:80ae:a40:2077:1cc9)
[12:54:59] *** Joins: neurocyte0132889 (~neurocyte@user/neurocyte)
[12:56:02] *** Quits: Snetry (~snetry@dslb-188-101-124-123.188.101.pools.vodafone-ip.de) (Ping timeout: 260 seconds)
[12:57:10] *** Quits: davidfetter_work (~davidfett@2601:640:4100:7e0:80ae:a40:2077:1cc9) (Ping timeout: 252 seconds)
[12:59:41] *** Joins: Snetry (~snetry@dslb-178-006-044-140.178.006.pools.vodafone-ip.de)
[13:04:48] <flux_control> andrewrk: I generally trust readelf more than ldd, for what it's worth, but I don't currently have a setup where I can test the zig binary without a libc to prove it. ;)
[13:05:25] <flux_control> I suppose I could trace the execution though
[13:13:57] *** Joins: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[13:15:19] <flux_control> Alright, I did a very cursory poking around with radare and it's definitely static. I guess lld just created a dynamic section by default even though there's nothing it really links to, and this confuses file.
[13:17:16] *** Joins: MY-R (~irc@user/my-r)
[13:17:36] <MY-R> mps: hi!
[13:17:42] <supakeen> Hi there.
[13:18:54] *** Parts: MY-R (~irc@user/my-r) ()
[13:19:06] <supakeen> Bye there.
[13:24:27] *** Joins: xackus_ (~xackus@7-24.w.knc.pl)
[13:41:35] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[13:45:41] *** Joins: Vexu (~Thunderbi@188.117.20.105)
[13:46:26] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[13:52:43] *** Quits: Snetry (~snetry@dslb-178-006-044-140.178.006.pools.vodafone-ip.de) (Ping timeout: 252 seconds)
[13:53:55] *** Joins: donoban (user@gateway/vpn/protonvpn/donoban)
[13:55:59] *** Quits: donoban (user@gateway/vpn/protonvpn/donoban) (Quit: WeeChat 3.0)
[13:56:42] *** Joins: Snetry (~snetry@dslb-146-060-137-203.146.060.pools.vodafone-ip.de)
[13:57:57] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[14:01:50] *** Quits: Snetry (~snetry@dslb-146-060-137-203.146.060.pools.vodafone-ip.de) (Ping timeout: 260 seconds)
[14:02:30] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[14:05:10] *** Joins: Snetry (~snetry@dslb-088-078-077-231.088.078.pools.vodafone-ip.de)
[14:10:14] *** Quits: Snetry (~snetry@dslb-088-078-077-231.088.078.pools.vodafone-ip.de) (Ping timeout: 260 seconds)
[14:15:30] *** Joins: Snetry (~snetry@dslb-088-078-070-090.088.078.pools.vodafone-ip.de)
[14:20:11] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[14:24:01] *** Quits: okCiel (~okCiel@softbank126126141082.bbtec.net) (Quit: WeeChat 2.8)
[14:45:15] *** Joins: leon-p (~leon-p@2a02:8108:96c0:1810:2448:cfff:fefe:9ff2)
[14:46:15] *** Quits: Snetry (~snetry@dslb-088-078-070-090.088.078.pools.vodafone-ip.de) (Ping timeout: 260 seconds)
[14:47:08] *** Joins: Snetry (~snetry@ipservice-092-215-003-098.092.215.pools.vodafone-ip.de)
[14:47:23] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[14:52:28] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 258 seconds)
[15:09:43] *** Quits: kron (~weechat@user/qaph) (Ping timeout: 258 seconds)
[15:09:52] *** Joins: kron (~weechat@user/qaph)
[15:14:36] *** Quits: neurocyte0132889 (~neurocyte@user/neurocyte) (Read error: Connection reset by peer)
[15:15:00] *** Joins: neurocyte0132889 (~neurocyte@user/neurocyte)
[15:34:48] *** Joins: davidfetter_work (~davidfett@2601:640:4100:7e0:3123:1d6d:580:c406)
[15:36:01] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.3)
[15:36:30] *** Joins: supakeen (~user@python/site-packages/supakeen)
[15:38:03] *** Quits: neurocyte0132889 (~neurocyte@user/neurocyte) (Quit: The Lounge - https://thelounge.chat)
[15:39:55] *** Quits: davidfetter_work (~davidfett@2601:640:4100:7e0:3123:1d6d:580:c406) (Ping timeout: 260 seconds)
[15:41:09] *** Joins: neurocyte0132889 (~neurocyte@user/neurocyte)
[15:44:02] *** Joins: shimonaga (~shimonaga@kienan.koumbit.net)
[15:44:02] *** Quits: shimonag1 (~shimonaga@kienan.koumbit.net) (Read error: Connection reset by peer)
[16:07:06] *** Joins: wib_jonas (~wib_jonas@business-37-191-60-209.business.broadband.hu)
[16:07:23] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[16:11:35] *** Joins: shimonag1 (~shimonaga@kienan.koumbit.net)
[16:11:35] *** Quits: shimonaga (~shimonaga@kienan.koumbit.net) (Read error: Connection reset by peer)
[16:12:30] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[16:14:27] *** Joins: arkurious (~arkurious@user/arkurious)
[16:14:56] *** Quits: gxt_ (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[16:15:32] *** Joins: gxt_ (~gxt@gateway/tor-sasl/gxt)
[16:17:15] *** Quits: xackus_ (~xackus@7-24.w.knc.pl) (Ping timeout: 260 seconds)
[16:19:22] *** Quits: Vexu (~Thunderbi@188.117.20.105) (Quit: Vexu)
[16:19:30] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[16:21:29] *** Quits: flyx[m] (~flyxflyxo@2a03:4000:27:3a6::1) (Quit: Bridge terminating on SIGTERM)
[16:22:50] *** Joins: flyx[m] (~flyxflyxo@mail.flyx.org)
[16:53:33] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[16:56:37] *** Joins: davidfetter_work (~davidfett@2601:640:4100:7e0:3123:1d6d:580:c406)
[17:01:22] *** Quits: davidfetter_work (~davidfett@2601:640:4100:7e0:3123:1d6d:580:c406) (Ping timeout: 252 seconds)
[17:05:12] <jhuntwork> I'm not sure what zig cc is doing differently, but I'm having trouble creating static binaries
[17:06:06] <jhuntwork> just for kicks, tested building mandoc with zig, changing the CC var to 'zig cc' and the one usage of ar to 'zig ar'
[17:06:28] <jhuntwork> here's one of the final commands for linking the mandoc executable
[17:06:37] <jhuntwork> zig cc -o mandoc -static eqn_html.o html.o man_html.o mdoc_html.o roff_html.o tbl_html.o  eqn_term.o man_term.o mdoc_term.o roff_term.o term.o term_ascii.o term_ps.o term_tab.o tbl_term.o dbm.o dbm_map.o mansearch.o dba.o dba_array.o dba_read.o dba_write.o mandocdb.o main.o manp
[17:06:41] <jhuntwork> ath.o mdoc_man.o mdoc_markdown.o out.o tag.o tree.o libmandoc.a -lz
[17:06:54] <jhuntwork> -static there at the beginning
[17:07:09] <jhuntwork> but it creates a dynamic binary that depends on libz.so, libz.a is available
[17:07:28] <jhuntwork> libz.so.1 => /usr/lib/libz.so.1 (0x7f191f146000)
[17:08:02] <jhuntwork> changing the compiler to clang (same version that zig cc was built with) results in a fully static binary
[17:08:25] <jhuntwork> I can just issue the same command as above but change 'zig cc' to 'clang'
[17:08:43] <jhuntwork> ldd: mandoc: Not a valid dynamic program
[17:09:00] <jhuntwork> mandoc: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, not stripped
[17:10:17] <jhuntwork> something in the way zig cc is calling lld maybe?
[17:17:00] *** Joins: shimonaga (~shimonaga@kienan.koumbit.net)
[17:17:01] *** Quits: shimonag1 (~shimonaga@kienan.koumbit.net) (Read error: Connection reset by peer)
[17:24:44] *** Quits: semarie (~semarie@user/semarie) (Quit: WeeChat 3.2.1)
[17:25:10] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[17:28:29] *** Quits: Snetry (~snetry@ipservice-092-215-003-098.092.215.pools.vodafone-ip.de) (Ping timeout: 258 seconds)
[17:29:03] *** Quits: xd1le (~xd1le@user/xd1le) (Ping timeout: 265 seconds)
[17:30:10] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[17:31:10] *** Quits: LostKobrakai_ (~LostKobra@2001:16b8:2d8a:e600:d98:6157:870c:7bb1) (Ping timeout: 258 seconds)
[17:31:59] *** Joins: Snetry (~snetry@dslb-094-220-208-171.094.220.pools.vodafone-ip.de)
[17:32:19] *** Joins: LostKobrakai_ (~LostKobra@2001:16b8:2d66:6600:f5c3:650a:390:63c5)
[17:32:52] *** Quits: gxt_ (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[17:33:24] *** Joins: gxt_ (~gxt@gateway/tor-sasl/gxt)
[17:44:45] *** Quits: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[17:54:01] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[17:54:14] *** Quits: freshcoffee1 (~fresh@user/freshcoffee) (Ping timeout: 260 seconds)
[17:55:59] <flux_control> jhuntwork: How are you verifying that zig cc is producing a dynamic binary? Only via ldd? Have you tried removing its access to the linked libs (chroot, rename the libraries, move the libraries to a different path not searched by the dynamic loader, etc.) and running it to verify that it fails/crashes?
[18:03:06] *** Joins: davidfetter_work (~davidfett@c-73-241-222-148.hsd1.ca.comcast.net)
[18:04:10] *** Quits: mps (~mps@109.72.52.77) (Quit: leaving)
[18:09:44] *** Joins: freshcoffee (~fresh@user/freshcoffee)
[18:10:10] *** Joins: rgrinberg (~textual@ip152-195-159-186.ct.co.cr)
[18:10:56] <jhuntwork> flux_control: let me try that
[18:11:13] <jhuntwork> I'm working in a container, so can just uninstall zlib (and even musl, actually)
[18:11:27] *** Joins: nyah (~nyah@bcdcb6e3.skybroadband.com)
[18:13:11] *** Joins: semarie (~semarie@user/semarie)
[18:13:39] <jhuntwork> yeah, definitely dynamic
[18:13:54] <jhuntwork> ./mandoc -man
[18:13:55] <jhuntwork> sh: ./mandoc: not found
[18:14:13] <jhuntwork> before was getting mandoc's error output, now sh doesn't know how to execute it
[18:14:37] <jhuntwork>  ./mandoc blah
[18:14:38] <jhuntwork> mandoc: ERROR: blah: No such file or directory
[18:14:45] <jhuntwork> was before when musl and zlib were installed
[18:15:14] <jhuntwork> strace ./mandoc
[18:15:15] <jhuntwork> execve("./mandoc", ["./mandoc"], 0x7ffcb1b93720 /* 6 vars */) = -1 ENOENT (No such file or directory)
[18:16:38] <jhuntwork> # readelf -d mandoc
[18:16:55] <jhuntwork> 0x0000000000000001 (NEEDED)   Shared library: [libz.so.1]
[18:17:00] <jhuntwork> 0x0000000000000001 (NEEDED)   Shared library: [libc.so]
[19:02:41] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[19:06:41] *** Quits: leon-p (~leon-p@2a02:8108:96c0:1810:2448:cfff:fefe:9ff2) (Remote host closed the connection)
[19:07:19] *** Joins: leon-p (~leon-p@2a02:8108:96c0:1810:a4bb:bfff:fe3c:bbda)
[19:10:02] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[19:18:02] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[19:35:22] *** Quits: Snetry (~snetry@dslb-094-220-208-171.094.220.pools.vodafone-ip.de) (Ping timeout: 258 seconds)
[19:37:14] *** Joins: Snetry (~snetry@dslb-188-101-118-075.188.101.pools.vodafone-ip.de)
[19:43:34] *** Joins: tane (~tane@dslb-002-201-234-197.002.201.pools.vodafone-ip.de)
[19:47:56] *** Joins: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl)
[19:50:47] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 264 seconds)
[19:53:37] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[19:55:55] *** Quits: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Read error: Connection reset by peer)
[19:56:33] *** Joins: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[19:58:50] *** Quits: frmdstryr (~jrm@172.58.187.49) (Ping timeout: 260 seconds)
[19:59:48] *** Joins: frmdstryr (~jrm@172.58.187.49)
[20:02:08] *** Joins: livoreno (~livoreno@user/notzmv)
[20:06:25] *** Quits: novakane_ (~novakane@user/novakane) (Quit: WeeChat 3.3)
[20:23:11] *** Quits: wib_jonas (~wib_jonas@business-37-191-60-209.business.broadband.hu) (Quit: Client closed)
[20:37:34] *** Quits: Snetry (~snetry@dslb-188-101-118-075.188.101.pools.vodafone-ip.de) (Ping timeout: 260 seconds)
[20:39:44] *** Joins: Snetry (~snetry@dslb-092-072-252-063.092.072.pools.vodafone-ip.de)
[20:45:31] *** Quits: Snetry (~snetry@dslb-092-072-252-063.092.072.pools.vodafone-ip.de) (Ping timeout: 258 seconds)
[20:47:38] *** Joins: Snetry (~snetry@dslb-178-006-046-142.178.006.pools.vodafone-ip.de)
[20:51:06] *** Quits: haliucinas (~haliucina@5.20.153.21) (Remote host closed the connection)
[20:53:50] *** Joins: haliucinas (~haliucina@5.20.153.21)
[20:55:29] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 258 seconds)
[20:56:24] *** Quits: rgrinberg (~textual@ip152-195-159-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:58:33] *** Joins: rgrinberg (~textual@201.182.226.118)
[20:58:42] *** Joins: ajr (~andrew@47.151.137.150)
[21:03:57] *** Quits: ajr (~andrew@47.151.137.150) (Quit: Reconnecting)
[21:04:09] *** Joins: ajr (~andrew@47.151.137.150)
[21:04:17] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[21:05:30] *** LostKobrakai_ is now known as LostKobrakai[awa
[21:05:30] *** Quits: LostKobrakai[awa (~LostKobra@2001:16b8:2d66:6600:f5c3:650a:390:63c5) (Quit: LostKobrakai[awa)
[21:08:39] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Client Quit)
[21:11:44] *** Joins: LostKobrakai_ (~LostKobra@2001:16b8:2d66:6600:f5c3:650a:390:63c5)
[21:11:54] *** LostKobrakai_ is now known as LostKobrakai[awa
[21:12:46] *** Quits: nyah (~nyah@bcdcb6e3.skybroadband.com) (Remote host closed the connection)
[21:12:55] *** Joins: qaph (~weechat@user/qaph)
[21:13:23] *** Quits: LostKobrakai[awa (~LostKobra@2001:16b8:2d66:6600:f5c3:650a:390:63c5) (Client Quit)
[21:15:20] *** Quits: livoreno (~livoreno@user/notzmv) (Ping timeout: 260 seconds)
[21:15:44] *** Quits: kron (~weechat@user/qaph) (Ping timeout: 265 seconds)
[21:15:46] *** qaph is now known as kron
[21:19:01] *** Joins: LostKobrakai_ (~LostKobra@2001:16b8:2d66:6600:f5c3:650a:390:63c5)
[21:24:34] *** Quits: LostKobrakai_ (~LostKobra@2001:16b8:2d66:6600:f5c3:650a:390:63c5) (Quit: LostKobrakai_)
[21:40:03] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[21:49:48] *** Joins: LostKobrakai_ (~LostKobra@2001:16b8:2d66:6600:f5c3:650a:390:63c5)
[21:50:03] <andrewrk> hmmm what's up with windows CI
[21:50:30] *** Quits: LostKobrakai_ (~LostKobra@2001:16b8:2d66:6600:f5c3:650a:390:63c5) (Client Quit)
[21:51:49] <freshcoffee> if it's severely timing out, perhaps swapping
[21:52:50] <freshcoffee> a previous green is 4h 43m
[21:53:31] <freshcoffee> then next previous green is 1h 41m
[21:54:49] <freshcoffee> oh my bad.. read those wrong. 1-green-ago for windows: 2h 33m. 2 green-ago: 1h 41m
[22:08:23] <andrewrk> hmm pretty much the only thing that has happened is additions to stage2
[22:12:36] <freshcoffee> I am only guessing, but I am not convinced azure runners are all equal in terms of RAM or CPU. But when CPU varies I have a difficult time thinking that can double or triple times. RAM diffs can engage swap and cause perf to fall off a cliff
[22:14:02] <freshcoffee> maybe we augment azure script on windows to show host-cpu and host-ram (and swap) config, if this is practical to determine from command line
[22:17:24] <andrewrk> that makes sense and maybe long-term we look into hosting our own hardware for CI so that this stuff is easier to debug
[22:18:32] * freshcoffee agrees very much about zig's own hardware for ci
[22:19:59] <freshcoffee> I'd love to help out in the config/maintainence aspect too
[22:20:05] <andrewrk> wonderful
[22:20:23] <andrewrk> I'll look into setting up something next week
[22:23:21] <andrewrk> I feel like the cheapest long term option would be just building a few machines and hosting them in my office
[22:24:18] <companion_cube> hey isn't there streaming soon?
[22:24:31] <companion_cube> andrewrk: you just want to live surrounded by computers, admit it
[22:24:44] <andrewrk> I already do haha
[22:25:50] <freshcoffee> that would be very economical, and for small number of servers, that should work
[22:25:56] <andrewrk> companion_cube, there's a compiler internals meeting on the discord in 5 minutes and then I'll break for lunch and then do some twitch streaming working towards getting self-hosted able to build & run the tetris game demo
[22:26:26] <companion_cube> alright!!
[22:26:36] <companion_cube> the twitch part, anyway
[22:26:54] <andrewrk> freshcoffee, I was thinking maybe something like 1 powerful hardware for each CPU architecture, then run VMs for each OS. thoughts?
[22:27:49] <andrewrk> companion_cube, as a teaser here's the current todo list to get tetris compiling with self-hosted: https://clbin.com/1uU3k
[22:28:26] <companion_cube> keeping your TODOs in stacktraces, original
[22:29:12] *** Quits: toxedvirus (~bentkus@78-56-238-186.static.zebra.lt) (Ping timeout: 265 seconds)
[22:29:38] <freshcoffee> initial thoughts are linux host x86_64, drone.io main and runners, usual docker for linux-x86_64, and future i386, virtualbox for windows 10 (unless qemu does windows 10 good enough?), and either qemu or virtualbox for *bsd x86_64 / i386, and if you want, qemu for non-native but it's expensive in time - 18x
[22:33:11] <andrewrk> damn I could easily build a computer with 128GB RAM
[22:34:32] <freshcoffee> re: powerful hardware, I was looking at costs, such, and given the nature of CI, I'd bias towards consumer-grade hosts . ie: if you want 16-core box, AMD has some, and memory limit would be 128 GB which today, last I checked a 12 GB per VM lets CI run so that is 8 VMs each at 12GB, avg 2-core each, plus 32GB left over for the host, caching, etc.
[22:34:54] <freshcoffee> so yeah 128 GB ram is probably a very ok limit on the box
[22:49:56] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[22:50:28] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[22:59:30] *** Quits: freshcoffee (~fresh@user/freshcoffee) (Quit: WeeChat 3.0.1)
[23:03:10] *** Quits: rgrinberg (~textual@201.182.226.118) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:22:05] *** Quits: mountaingoat (~mountaing@user/mountaingoat) (Read error: Connection reset by peer)
[23:31:15] *** Quits: andrzejku (~andrzejku@45-11-60-125.ip4.greenlan.pl) (Read error: Connection reset by peer)
[23:37:03] *** Joins: mountaingoat (~mountaing@user/mountaingoat)
[23:37:43] *** Joins: h4ze (~haze@cpe-68-174-143-88.nyc.res.rr.com)
[23:38:51] *** Quits: haze (~haze@2603-7000-a300-1741-d41d-f366-0535-b2dd.res6.spectrum.com) (Ping timeout: 245 seconds)
[23:38:51] *** h4ze is now known as haze
[23:49:20] *** Quits: ajr (~andrew@47.151.137.150) (Ping timeout: 260 seconds)
[23:50:25] *** Joins: nyah (~nyah@bcdcb6e3.skybroadband.com)
