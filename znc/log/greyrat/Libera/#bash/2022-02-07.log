[00:01:21] *** Joins: zeev (~zeev@147.161.9.150)
[00:01:30] *** Joins: dandyn (~dandyn@user/dandyn)
[00:01:50] *** Joins: LuksNuke_ (~LuksNuke@gateway/tor-sasl/luksnuke)
[00:01:58] *** Quits: LuksNuke (~LuksNuke@gateway/tor-sasl/luksnuke) (Remote host closed the connection)
[00:06:36] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[00:07:17] *** Quits: zouhair (~zouhair@lnsm1-montreal02-142-119-49-188.internet.virginmobile.ca) (Quit: KVIrc 5.0.1 Aria http://www.kvirc.net/)
[00:07:18] <dandyn> Hello! Is there any way to motify the output of uptime? I want this look:          Syetem up:  23 days,   Users: 1,  Load: 0,08 0,05 0,01
[00:07:25] <dandyn> modify*
[00:07:35] <dandyn> system*
[00:08:34] <ormaaj> dandyn: OS question really.
[00:08:34] <dandyn> it looks like this right now:     9:29em  up 1 day, 17:30, 1 user, load averages: 0,08 0,05 0,01
[00:08:39] <dandyn> ok
[00:08:49] <dandyn> I tought shellscripting :D
[00:08:59] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:d154:b93f:c8:b39) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:09:43] <ormaaj> dandyn: If you need specific values for a script don't use uptime ideally. use procfs / sysfs or other utility
[00:09:59] *** Joins: bluedust (~bluedust@89.238.143.233)
[00:11:55] *** Quits: skapata (~Skapata@user/skapata) (Read error: Connection reset by peer)
[00:11:59] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[00:12:02] <Helmholtz> can I do these in one line cleanly?
[00:12:03] <Helmholtz> https://dpaste.com/77JCQ9TBN
[00:12:09] <Helmholtz> I should change IFS and read -r right?
[00:13:18] <tirnanog> read -r wp_width wp_height < <(identify -format '%w %h' "$wp")
[00:13:37] *** Quits: bluedust_ (~bluedust@59.99.182.45) (Ping timeout: 240 seconds)
[00:14:58] <ormaaj> one command can have any number of assignments also.
[00:15:08] <ormaaj> doesn't matter much
[00:15:10] *** Joins: mat001 (~mat001@c-69-181-155-247.hsd1.ca.comcast.net)
[00:15:16] *** Joins: joilerv (~joilerv@135.129.250.144)
[00:15:48] *** Quits: wurstwasser (~frank.hol@2001:a61:34a7:b001:b99d:bc7:ff47:693e) (Remote host closed the connection)
[00:16:00] *** Joins: wurstwasser (~frank.hol@2001:a61:34a7:b001:b99d:bc7:ff47:693e)
[00:16:12] <Earnestly> tirnanog: (identify -format doesn't have %0, I tried adding it but they use cstrings quite heavily, rather than buf + lens)
[00:16:28] *** Quits: mat001 (~mat001@c-69-181-155-247.hsd1.ca.comcast.net) (Remote host closed the connection)
[00:16:29] <Earnestly> Well, adding \0 because it has \n
[00:16:42] <tirnanog> it doesn't matter in this case though, does it?
[00:16:52] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[00:16:59] <ormaaj> not really.
[00:17:02] *** Joins: mat001 (~mat001@72.28.108.216)
[00:17:19] <ormaaj> I'd set IFS=' '
[00:17:58] <Earnestly> tirnanog: No but I wanted to use it with files once
[00:18:04] <tirnanog> Earnestly: ah, right.
[00:18:09] <tirnanog> typical.
[00:18:28] <ormaaj> The thing with a \0 is you're constrained to multiple `read -d ''` calls.
[00:18:32] *** Quits: mat001 (~mat001@72.28.108.216) (Remote host closed the connection)
[00:18:53] *** Joins: mat001 (~mat001@72.28.108.216)
[00:18:59] <Earnestly> I could survive, I don't have newlines in filenames anywhere, ever.  One script which has to make such an assumption literally tests paths before for newlines and bails out if any found lol
[00:18:59] <ormaaj> i.e. without mapfile
[00:19:37] *** Joins: mat001_ (~mat001@c-69-181-155-247.hsd1.ca.comcast.net)
[00:19:46] <Earnestly> tirnanog: https://0x0.st/-vvz.txt
[00:20:21] *** Quits: mat001_ (~mat001@c-69-181-155-247.hsd1.ca.comcast.net) (Remote host closed the connection)
[00:20:42] <Helmholtz> tirnanog, it doesn't work? :\
[00:20:43] <Earnestly> (Because I use du(1) to resolve hardlink deduplication)
[00:20:56] <tirnanog> Helmholtz: can you elaborate?
[00:20:57] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 240 seconds)
[00:20:57] *** Joins: mat001_ (~mat001@72.28.108.216)
[00:21:15] <tirnanog> !doesntwork
[00:21:15] <greybot> Saying something "doesn't work" helps neither you or us. Explain the result you *want* or *expect*, what you are *doing* and *how* it is failing. Copy/paste the commands you use and the errors they produce. Consider set -x to get more information on what is happening.
[00:21:17] *** Joins: joilerv_ (~joilerv@135.129.250.144)
[00:21:17] <Helmholtz> tirnanog, it doesn't fill in the variables...exit 1
[00:21:21] <Earnestly> # read -r w h < <(printf '1440 900'); declare -p w h
[00:21:23] <shbot> Earnestly: declare -- w="1440"
[00:21:23] <shbot> Earnestly: declare -- h="900"
[00:21:23] <tirnanog> it does.
[00:22:50] <tirnanog> in the case that identify fails and prints nothing to stdout, the variables will be set, but their values will be empty. that's to be expected.
[00:23:04] <tirnanog> but that doesn't mean the code is wrong.
[00:23:25] *** Quits: joilerv (~joilerv@135.129.250.144) (Ping timeout: 250 seconds)
[00:23:26] *** Quits: mat001 (~mat001@72.28.108.216) (Ping timeout: 250 seconds)
[00:23:53] *** Parts: dandyn (~dandyn@user/dandyn) ()
[00:25:17] <tirnanog> speaking of error handling, you can get the exit status value of the <(process substitution) with the wait command. that works from bash 4.4 onwards.
[00:25:36] *** Quits: mat001_ (~mat001@72.28.108.216) (Ping timeout: 250 seconds)
[00:25:50] <tirnanog> # read -r w h < <(false); wait $! || exit; echo "never reached"
[00:25:51] <shbot> tirnanog: logout
[00:25:51] <shbot> tirnanog: (shell exited with 1)
[00:26:10] *** Joins: Hash (~Hash@hashsecurity.org)
[00:28:39] *** Joins: bluedust_ (~bluedust@59.99.182.45)
[00:31:43] *** Quits: bluedust (~bluedust@89.238.143.233) (Ping timeout: 256 seconds)
[00:33:25] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[00:34:33] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 256 seconds)
[00:34:59] *** Quits: drbeco (~beco@2804:351c:dd01:b700:1b03:6b85:20d4:ad73) (Quit: Leaving)
[00:38:37] *** Joins: qub411 (~user@118.209.243.10)
[00:38:38] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[00:39:15] *** Joins: unop (~unop@195.91.14.193)
[00:41:28] *** Joins: beco (~beco@2804:351c:dd01:b700:1b03:6b85:20d4:ad73)
[00:42:02] *** Quits: kyr (~kyr@167.71.50.12) (Remote host closed the connection)
[00:42:22] *** Joins: kyr (~kyr@167.71.50.12)
[00:42:49] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[00:44:00] *** beco is now known as drbeco
[00:44:01] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Client Quit)
[00:44:13] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[00:45:36] *** Joins: lavaball (~Melissa@31.204.155.215)
[00:46:45] *** Joins: beco (~beco@2804:351c:dd01:b700:1b03:6b85:20d4:ad73)
[00:46:49] *** Quits: beco (~beco@2804:351c:dd01:b700:1b03:6b85:20d4:ad73) (Remote host closed the connection)
[00:46:52] *** Quits: drbeco (~beco@2804:351c:dd01:b700:1b03:6b85:20d4:ad73) (Quit: Leaving)
[00:47:11] *** Joins: drbeco (~beco@2804:351c:dd01:b700:1b03:6b85:20d4:ad73)
[00:47:31] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[00:47:46] *** Joins: unop (~unop@195.91.14.193)
[00:47:53] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[00:49:30] *** Quits: magla (~gelignite@55d4c694.access.ecotel.net) (Quit: Stay safe!)
[00:50:55] *** Joins: kilitary (~kilitary@188.242.105.134)
[00:51:10] <ormaaj> # bash +O assoc_expand_once -xc 'v=foo; typeset -A a=([$v]=); unset -v "a[\$v]"'
[00:51:17] <shbot> ormaaj: + v=foo
[00:51:17] <shbot> ormaaj: + a=(['foo']='')
[00:51:17] <shbot> ormaaj: etc... ( http://ix.io/3OT7 )
[00:52:04] <ormaaj> why the crap would that be failing for me
[00:52:26] *** Quits: zeev (~zeev@147.161.9.150) (Quit: zeev)
[00:55:12] <ormaaj> # typeset -p BASH_VERSION
[00:55:13] <shbot> ormaaj: declare -- BASH_VERSION="5.1.8(1)-release"
[00:55:47] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[00:56:02] <tirnanog> other than having a version older than 5.0, I can't see any reason for it to fail.
[00:57:53] *** Quits: Night-Shade (~Tim@ip1f11e523.dynamic.kabel-deutschland.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:59:14] *** Quits: kilitary (~kilitary@188.242.105.134) (Remote host closed the connection)
[01:01:29] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:d154:b93f:c8:b39)
[01:01:36] <Earnestly> tirnanog: https://0x0.st/oXbW.txt seems to work well enough
[01:01:44] <Earnestly> hm
[01:02:02] <Earnestly> tirnanog: chopped off start: https://0x0.st/oXb4.txt
[01:02:59] <tirnanog> good to know. being able to iterate over a series of dates is useful in and as of itself.
[01:03:16] *** Joins: tangy (~tangy@user/tangy)
[01:03:37] <Earnestly> It handles the more odd dates as well
[01:04:11] *** Joins: MrMobius (~MrMobius@pool-108-31-243-125.washdc.fios.verizon.net)
[01:04:34] <Helmholtz> it's weird...I'm getting error (1) with read -r wp_width wp_height < <(printf '100 200') but the variables are set fine
[01:04:44] <Helmholtz> *exit code not error
[01:05:36] <larryv> Helmholtz: https://mywiki.wooledge.org/BashFAQ/001#My_text_files_are_broken.21__They_lack_their_final_newlines.21
[01:05:54] <Earnestly> Helmholtz: It's fine, just don't have newline
[01:06:21] <MrMobius> im trying to concatenate strings and pass the output to a program and it doesnt seem to be working. if i instead echo the output then copy and paste it into the command line, it looks as expected and does work. any ideas? https://www.toptal.com/developers/hastebin/upiwukanak.bash
[01:06:22] <Earnestly> sigpipe can do this too iirc
[01:07:14] <Earnestly> # read -r w h < <(printf '1440 900\n'); print "$?"
[01:07:16] <shbot> Earnestly: 0
[01:07:27] <Helmholtz> Earnestly, my script needs set -e
[01:07:29] <Helmholtz> how can I placate read -r?
[01:07:43] <Helmholtz> identify does not terminate with newline
[01:07:43] <Earnestly> lol
[01:08:33] <Earnestly> MrMobius: Use jq to create valid json
[01:09:07] <Earnestly> MrMobius: Sadly almost everything here is extremely wrong, and all I can suggest is that you go through the bash guide in the topic
[01:09:19] <Earnestly> And avoid google as best you can
[01:09:25] <Helmholtz> Earnestly, nvm..fixed it
[01:09:41] <Earnestly> Helmholtz: I have no pity for set -e users
[01:09:56] <MrMobius> Earnestly, could you be more specific than everything? the json for one is properly formatted and works fine at the command line and in python
[01:10:12] <Helmholtz> Earnestly, you propose error handling for each comand right?
[01:10:30] <Blondie101010> if applicable, yes
[01:10:55] <larryv> MrMobius: at a minimum you need to quote all those variable expansions
[01:11:05] <Blondie101010> you still need to account for all their return values anyways
[01:11:05] <Earnestly> MrMobius: Use shellcheck to get you started
[01:11:28] <Earnestly> Helmholtz: I don't need to check each command only the result
[01:11:54] <Earnestly> Where the result can be from a compound of commands
[01:12:35] *** Quits: zer0bitz (~zer0bitz@2001:2003:f74d:b800:90d6:f3c8:741b:677a) (Ping timeout: 250 seconds)
[01:12:58] <Earnestly> (idempotency + let-it-fail is quite nice)
[01:13:34] *** Quits: joilerv_ (~joilerv@135.129.250.144) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:14:31] <Earnestly> MrMobius: As for using jq, it will correctly format inputs so that you don't have to deal with correct interpolation
[01:14:36] <Helmholtz> so these guys who use `set -euo` everytime like it's some wise template are wrong, right?
[01:14:58] <geirha> right
[01:15:03] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Read error: Connection reset by peer)
[01:15:04] <geirha> !pf euo
[01:15:04] <greybot> https://mywiki.wooledge.org/BashPitfalls#pf60 -- Don't do this! -- set -euo pipefail
[01:15:32] <Earnestly> Helmholtz: They are https://nitter.net/pic/media%2FEVLKjbYUcAAF_3d.jpg%3Fname%3Dorig
[01:15:44] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr)
[01:15:44] <Helmholtz> lo
[01:15:44] <tirnanog> Helmholtz: the obvious answer is not to use set -e as it's an effective way of introducing subtle bugs, such as the one under discussion. you should check the exit status value of identify instead. but nobody ever listens when it comes to this topic so, if you insist, you may write $'%w %h\n', perhaps.
[01:15:50] <Helmholtz> l
[01:16:12] <Helmholtz> yeah did this
[01:16:13] <tirnanog> or maybe there's a way to persuade identify to do so (I don't know).
[01:16:32] <Earnestly> It's all over google, stackoverflow, there's dozens of blog posts extolling the virtues of "modern bash" using this cargo
[01:16:42] <Helmholtz> this room got to be the most efficient in whole of IT
[01:16:49] <Helmholtz> I wish there were similar rooms for other stuff
[01:16:55] <tirnanog> in fairness, there's not much sense in having read 'fail' unnecessarily.
[01:17:10] <tirnanog> so bunging in the newline is fair. otherwise, yes.
[01:17:16] <MrMobius> Earnestly, thanks. ill give jq a try. for non-json string concatenation in the future, what am I doing wrong other than quotes around the variable expansions?
[01:17:20] <Earnestly> (bash (and to a degree make) seems to be one of the least understood tools while also being taught by people who confidently know even less)
[01:17:46] <tirnanog> Earnestly: at least make is a more effective filter.
[01:17:51] <Earnestly> MrMobius: You can use heredocs in cases like this, it really depends.  Often you'd use arrays as that's typically what people try to do with these things
[01:17:57] <tirnanog> (somewhat)
[01:18:32] <Helmholtz> thanks for your helps. bye
[01:18:46] <Earnestly> If you literally just want to group things as a single argument, then interpolation or var+="$more" works.  It does depend
[01:19:39] *** Quits: arinov_ (~arinov@213.194.126.155) (Ping timeout: 256 seconds)
[01:22:05] *** Joins: OlCe (~user@amontsouris-156-1-23-81.w92-151.abo.wanadoo.fr)
[01:23:16] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[01:24:15] *** Quits: edlou (uid413273@id-413273.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[01:26:21] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[01:28:23] *** Quits: lavaball (~Melissa@31.204.155.215) (Remote host closed the connection)
[01:30:29] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[01:31:04] *** Joins: unop (~unop@195.91.14.193)
[01:31:42] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[01:32:51] *** Quits: LuksNuke_ (~LuksNuke@gateway/tor-sasl/luksnuke) (Ping timeout: 276 seconds)
[01:33:19] *** Joins: bash-libera (~bash-libe@h216-170-204-47.hrcnut.broadband.dynamic.tds.net)
[01:33:28] *** Joins: zouhair (~zouhair@lnsm1-montreal02-142-119-49-188.internet.virginmobile.ca)
[01:34:30] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 250 seconds)
[01:34:39] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[01:36:24] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[01:38:07] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[01:38:41] *** Quits: k-man (~jason@user/k-man) (Quit: WeeChat 3.4)
[01:39:19] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.4)
[01:40:14] *** Joins: rcernin (~rcernin@124.190.132.36)
[01:40:40] *** Quits: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith) (Remote host closed the connection)
[01:40:57] *** Joins: winstonsmith (~winstonsm@gateway/vpn/pia/winstonsmith)
[01:42:20] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Remote host closed the connection)
[01:42:44] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[01:46:00] *** Quits: _mikey (~mikey@user/mikey/x-4335048) (Quit: WeeChat 3.4)
[01:46:25] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[01:46:56] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:71fb:7a3d:845d:425d)
[01:46:56] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:71fb:7a3d:845d:425d) (Changing host)
[01:46:56] *** Joins: skapata (~Skapata@user/skapata)
[01:55:13] *** Joins: Betal (~Betal@user/betal)
[01:55:15] *** Joins: bgpepi (~bgpepi@ip-212-239-173-106.dsl.scarlet.be)
[01:55:35] *** Quits: kurahaupo_ (~kurahaupo@115.69.27.211) (Ping timeout: 256 seconds)
[01:56:16] *** Joins: k-man (~jason@user/k-man)
[01:56:24] *** Joins: idego (~idego@user/idego)
[01:56:45] *** Joins: irc_user (uid423822@id-423822.lymington.irccloud.com)
[01:57:24] *** Quits: wurstwasser (~frank.hol@2001:a61:34a7:b001:b99d:bc7:ff47:693e) (Quit: Leaving)
[02:00:32] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[02:01:30] *** Joins: kurahaupo_ (~kurahaupo@115.69.27.211)
[02:02:45] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[02:02:57] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[02:03:16] *** Joins: cityape (~cityape@user/cityape)
[02:05:03] <kurahaupo> !learn tldp TLDP is dead. https://wiki.tldp.org/RecentChanges says it all - it has not been updated since January 2016, despite numerous requests to fix serious bugs.
[02:05:04] <greybot> tldp is already defined: The TLDP bash guides are outdated, and in some cases just plain wrong. There's a reason they are not in the topic.
[02:05:25] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[02:08:01] <e36freak> rip
[02:09:56] *** Joins: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za)
[02:10:01] <emanuele6> !rip
[02:10:19] <emanuele6> hmm
[02:11:00] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[02:11:12] <emanuele6> !mantra
[02:11:12] <greybot> And just one more thing: on your way out I want you to take the time to learn the #bash mantra. "Greybot is always right. I will listen to greybot. I will not ignore greybot's recommendations. Greybot is God. And if this ever happens again, greybot will PERSONALLY rip your lungs out!"
[02:12:02] <tirnanog> somebody's been watching som Babylon 5.
[02:12:05] <tirnanog> some*
[02:12:15] *** Parts: idego (~idego@user/idego) ()
[02:19:19] <jaggz> is this cat (line 18) outputting right away?  https://paste.debian.net/hidden/4fbd673c/
[02:19:51] <jaggz> I'm using this like  "echo FOO | serial-cat /dev/ttyACM0"
[02:19:53] *** Joins: Kyuzo68 (~Kyuzo@host-79-51-191-123.retail.telecomitalia.it)
[02:20:10] <jaggz> where FOO is some command and the device on ACM0 (with a proper term program) will spit out a response
[02:20:13] <jaggz> but I get no response
[02:21:04] <kurahaupo> jaggz: does serial-cat have any options for delaying?
[02:22:18] <kurahaupo> Otherwise what about something like: ( echo FOO ; read -N10000 -t2 ; printf %s\\n "$REPLY" ) <> /dev/ttyACM0
[02:22:25] <jaggz> that's serial-cat
[02:22:35] <jaggz> it has a sleep in there.  I just changed the cat >> "$dev" into a while read loop
[02:23:00] <jaggz> while read line; do echo "User entered: $line"; echo "$line" >> "$dev"; done
[02:23:15] <jaggz> I even have it echo multiple times into dev.. no response visible
[02:23:26] <jaggz> maybe the tail -f is buffering
[02:23:32] <kurahaupo> jaggz: when dealing with devices, the number of "open"s matters. Use open("/dev/whatever", O_RDWR) in a program or <>/dev/whatever in the shell
[02:23:45] <kurahaupo> dang, I forgot >&0
[02:24:10] <jaggz> "tail -f flushes after every input line"
[02:24:22] <kurahaupo> ( echo FOO >&0 ; read -N10000 -t2 ; printf %s\\n "$REPLY" ) <> /dev/ttyACM0
[02:24:23] *** Joins: kilitary (~kilitary@188.242.105.134)
[02:24:25] <jaggz> kurahaupo, hmm.. what
[02:25:17] <jaggz> what's &0?  stdin?
[02:26:01] <kurahaupo> jaggz: Filedescriptor 0 is normally reserved for stdin, but in this case it's the fd opened by <>/dev/ttyACM0 for both input AND output
[02:26:15] <jaggz> oh, wait, I'm tailing and also echo'ing into..
[02:26:17] <Blondie101010> still stdin on 0
[02:26:26] *** Joins: AntonioPt (~puppy@51.82.63.94.rev.vodafone.pt)
[02:26:35] <AntonioPt> hello guys
[02:26:41] <AntonioPt> need small help
[02:26:55] <AntonioPt> remove html comments
[02:27:16] <AntonioPt> with multiple lines
[02:27:22] <emanuele6> html
[02:27:25] <emanuele6> oops
[02:27:25] <Blondie101010> AntonioPt:  hopefully none of the comments will look like a comment block ending
[02:27:25] <larryv> !html
[02:27:25] <greybot> You can't parse tag-based languages like HTML or XML using bash, grep, sed, cut, etc. See http://mywiki.wooledge.org/BashFAQ/113 instead.
[02:27:29] <emanuele6> ^
[02:27:37] *** Joins: Buliarous (~gypsydang@46.232.210.139)
[02:28:02] <kurahaupo> jaggz: there are some subtle differences between opening once for both read-write, vs opening twice, once for reading and once for writing. You want to avoid the latter if at all possible when dealing with a serial device.
[02:28:24] <AntonioPt> like this i can remove sigle line $(sed -e "s/<!-- .* -->//" <<< "${html}")"
[02:28:57] <AntonioPt> but my goal was sinlge or multiple lines
[02:29:00] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:29:04] <AntonioPt> so its impossible ?
[02:29:26] <OMGOMG> yes
[02:29:29] <emanuele6> you can write something like that, but it will not be correct.
[02:29:51] <AntonioPt> i see
[02:29:55] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[02:29:59] <emanuele6> it may delete "<!--" inside a javascript strings
[02:30:05] <jaggz> kurahaupo, how do I mix reading from stdin and from the device?
[02:30:06] <emanuele6> s/.$//
[02:30:07] *** Joins: mannequin (uid453465@id-453465.helmsley.irccloud.com)
[02:30:09] <jaggz> (while read line; do echo "User input: $line"; echo "$line" >&0; read -N10000 -t2; printf '%s\n' "$REPLY" ) <> "$dev"
[02:30:17] <AntonioPt> ahh yes emanuele6
[02:30:22] <emanuele6> or something like that that is not actually an html commect
[02:30:30] <AntonioPt> but for what i want dosent matter
[02:30:39] <emanuele6> it should matter.
[02:30:42] <jaggz> AntonioPt, you can do it, but it's not reliable
[02:30:46] <kurahaupo> jaggz: Choose a different FD:  exec 4<>/dev/ttyACM0 ; read <&4 ; echo >&4
[02:30:47] *** Quits: pushqrdx (~pushqrdx@102.45.31.87) (Quit: pushqrdx)
[02:31:03] *** Joins: pushqrdx (~pushqrdx@102.45.31.87)
[02:31:05] <emanuele6> writing unreliable code is not a good thing
[02:31:07] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:d154:b93f:c8:b39) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:31:14] <jaggz> AntonioPt, like, you can read the whole input as one long string and strip the stuff, but you might just want to do some proper html parsing thing with some proper html parsing program (I don't know of one)
[02:31:14] <AntonioPt> but yes i get it what you mean emanuele6 for my project i dont care if clean JS code
[02:31:31] <emanuele6> AntonioPt: that is not only thing
[02:31:35] <AntonioPt> i dont want to add js code for it so for that dosent matter
[02:31:50] <emanuele6> i am just saying <!-- could be present somewhere that is not a comment
[02:32:02] <jaggz> kurahaupo, not sure how to use exec there.. hmm
[02:32:05] <emanuele6> and you will delete from there to the next --!>
[02:32:14] <emanuele6> potentially breaking the syntax of the whole document
[02:32:30] <AntonioPt> yes yes emanuele6 i got it but for my goald at the moment i dont care
[02:32:42] <AntonioPt> oops
[02:32:48] <AntonioPt> sorry for this tags
[02:33:10] <AntonioPt> jaggz, let me read what you wrote :)
[02:33:37] *** Joins: TenochSLB (~Tenochyy@108-216-74-215.lightspeed.wchtks.sbcglobal.net)
[02:33:52] *** Quits: bodiccea (~bodiccea@user/bodiccea) (Ping timeout: 250 seconds)
[02:34:07] <jaggz> kurahaupo, (while read line; do echo "User input: $line"; echo "$line" >&4; read -N10000 -t2 <&4; printf '%s\n' "$REPLY" ) 4<> "$dev"
[02:34:12] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[02:34:22] <emanuele6> i don't think you understand AntonioPt
[02:34:38] <AntonioPt> yes i do get it what you mean
[02:34:38] <emanuele6>    <!DOCTYPE html><html><head><title>x</title><script>var x = "<!--";</script><!-- comment --></head><body><p>hi</p></body></html>
[02:34:43] <emanuele6> would become
[02:35:04] <emanuele6>    <!DOCTYPE html><html><head><title>x</title><script>var x = "</head><body><p>hi</p></body></html>
[02:35:05] <AntonioPt> but my goald aint html code
[02:35:12] <kurahaupo> jaggz: I was guessing with the args to read, since I don't know what your device produces. The -N10000 means read up to 10000 bytes; the -t2 means wait up to 2 seconds.
[02:35:17] *** Quits: nyex (~Thunderbi@177.84.107.56) (Remote host closed the connection)
[02:35:18] *** Quits: pushqrdx (~pushqrdx@102.45.31.87) (Client Quit)
[02:35:18] <jaggz> so, yeah, without a proper html parser it will NOT be a reliable software.. but you can do it
[02:35:19] <emanuele6> that doesn't just remove the javascript code
[02:35:24] <emanuele6> that breaks the whole document
[02:35:38] <AntonioPt> yes emanuele6 i got it thankyou
[02:35:49] <kurahaupo> jaggz: And you should probably nominate a variable for read, rather than relying on the default REPLY
[02:36:03] <AntonioPt> but since aint a html code but a xml but comments its the some of html
[02:36:09] <jaggz> cat file.html |  perl -e 'undef $/;  $all_input = <STDIN>;  $all_input =~ s#<!--.*?-->##g; print $all_input;'
[02:36:20] <AntonioPt> so it will work without no worries
[02:36:21] <emanuele6> AntonioPt: it doesn't matter! javascript was just an example as i said
[02:36:29] <jaggz> kurahaupo, I normally do :)
[02:36:32] <emanuele6> it could be in an attribute
[02:36:33] <AntonioPt> right right
[02:36:45] *** Joins: quazimodo (~quazimodo@n110-21-88-214.bla2.nsw.optusnet.com.au)
[02:37:31] *** Joins: cityape_ (~cityape@user/cityape)
[02:37:41] <emanuele6> jaggz: just pass the html to perl at this point
[02:38:21] <Earnestly> Hm
[02:38:34] <emanuele6> since "$html" is in a variable anyway
[02:38:43] <emanuele6> but this is dumb
[02:39:09] <emanuele6> can't you just parse the xml with an xml parser and dump it out without comments?
[02:39:17] <emanuele6> this is not even html as you said, it is just xml
[02:39:56] *** Quits: OlCe (~user@amontsouris-156-1-23-81.w92-151.abo.wanadoo.fr) (Ping timeout: 250 seconds)
[02:40:02] <AntonioPt> i want to add commant xml and then run but in puppy linux i got an issue
[02:40:21] <AntonioPt> so i need to remove the comment befor a run gui
[02:40:23] <jaggz> kurahaupo, (while read -r uline; do echo "User input: $uline"; printf '%s\n' "$uline" >&4; read -N10000 -t1 devline <&4; stdbuf -i0 -o0 printf '%s\n' "$devline"; done) 4<> "$dev"
[02:40:37] *** Quits: cityape (~cityape@user/cityape) (Ping timeout: 240 seconds)
[02:40:42] <jaggz> I wonder why the device read waits the full -t timeout
[02:40:46] <AntonioPt> thats why i wanna know how to clean comments single and multiple lines
[02:40:47] <emanuele6> AntonioPt: why are you now saying it is xml
[02:40:59] <emanuele6> if your original message had a variable named $html?
[02:41:01] <AntonioPt> i mean html comments
[02:41:12] <emanuele6> is it actually xml?
[02:41:19] <jaggz> if I do -t5 it'll wait 5 seconds before outputting the response
[02:41:19] <AntonioPt> and you thougth i was talking about html code in general
[02:41:28] <emanuele6> why didn't you say it from the start that it is xml?
[02:41:34] <AntonioPt> that is some for xml
[02:41:40] <emanuele6> AntonioPt: ...
[02:41:50] <AntonioPt> sorry emanuele6 my english aint the best
[02:41:53] <AntonioPt> my fault
[02:41:59] <emanuele6> <AntonioPt > like this i can remove sigle line $(sed -e "s/<!-- .* -->//" <<< "${html}")"
[02:42:02] <emanuele6> i didn't think it
[02:42:03] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[02:42:09] <emanuele6> your variable is named html
[02:42:10] <jaggz> my mother in law used to insult people and then say "sorry, my english isn't very good"
[02:42:12] <emanuele6> welp
[02:42:28] <emanuele6> AntonioPt: since it is xml and not html
[02:42:40] <emanuele6> you can just use xmlstarlet to remove comments
[02:42:40] <AntonioPt> yes emanuele6 ?
[02:42:45] <Earnestly> emanuele6: (hxnormalize -c '' places comments on their own line, which can then be removed, lol.  hxpipe should do this, placing '* comment' on its own line, but it's buggy and doesn't think <script> body is excluded)
[02:42:50] <emanuele6> xmlstarlet c14n --without-comments
[02:42:53] *** Joins: akoana (~ah@user/akoana)
[02:43:12] <tirnanog> or Mojo::DOM58 if going with perl. it's pretty great.
[02:43:15] <Earnestly> (handily you only have to type 'xml')
[02:43:29] <AntonioPt> but if linux puppy dont have it ? im screw no ?
[02:43:57] <AntonioPt> thats why i need it a regular expretion in bash
[02:44:11] <tirnanog> I find this assertion dubious.
[02:44:20] <Earnestly> emanuele6: for intestest: https://0x0.st/oXc-.html
[02:44:33] <emanuele6> .html :(
[02:44:33] <Earnestly> emanuele6: You'll have to download, it's not html
[02:44:35] <Earnestly> ikr
[02:44:37] <emanuele6> yeah
[02:44:44] <Earnestly> Or view source
[02:44:57] *** Quits: cityape_ (~cityape@user/cityape) (Quit: Going to sleep. ZZZzzz…)
[02:45:35] <Earnestly> hxpipe tries to produce html in a line-oriented fashion so that tools like sed can work on them
[02:45:47] <Earnestly> But it has bug here
[02:46:04] <emanuele6> yeah, that is most tools that try to do that
[02:46:10] *** Joins: short-bike (~short-bik@centos/community/short-bike)
[02:46:16] <emanuele6> even that json2tsv tool is bug filled
[02:46:20] <Earnestly> emanuele6: https://www.w3.org/Tools/HTML-XML-utils/ - clearly hxnormalize gets it right, so it could be fixed
[02:46:24] <emanuele6> it is not a great idea in general
[02:46:26] <Earnestly> If I knew how to report bugs
[02:46:56] <Earnestly> Oh there is email in changelog
[02:47:21] *** docmax_ is now known as docmax
[02:47:58] * jaggz offers kurahaupo fresh roasted coffee
[02:48:16] <emanuele6> !coffee
[02:48:16] <greybot> c[_]
[02:48:43] <jaggz> ☕
[02:49:40] *** Quits: Kyuzo68 (~Kyuzo@host-79-51-191-123.retail.telecomitalia.it) (Quit: Konversation terminated!)
[02:50:13] <jaggz> (╯°□°）╯︵ ┻━┻
[02:50:20] *** Joins: cityape (~cityape@user/cityape)
[02:50:27] * OMGOMG slaps jaggz around a bit with a large trout
[02:50:40] *** Quits: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk) (Quit: Leaving)
[02:50:49] * jaggz panics
[02:50:57] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 240 seconds)
[02:51:22] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[02:52:48] <tirnanog> AntonioPt: is xmlstarlet not available in your repos?
[02:53:37] <AntonioPt> nope
[02:53:42] <jaggz> https://paste.debian.net/hidden/4dcbe83e/
[02:53:59] <tirnanog> AntonioPt: if perl is, consider using Mojo::DOM58. that module is pure perl so you don't even need a toolchain to install it.
[02:54:04] <jaggz> for some reason read -t1 is waiting the full given timeout 'seconds' to display the output
[02:54:18] <jaggz> to return the input
[02:54:24] <tirnanog> perl -MMojo::DOM58 -0 -E '$dom = Mojo::DOM58->new->xml(1)->parse(<>); $dom->descendant_nodes->grep(sub { $_->type eq "comment" })->map("remove"); print $dom' < my.xml
[02:55:17] <AntonioPt> ok thxx
[02:56:22] <jaggz> kurahaupo, you still around for me to bug you?  I pasted the script there
[02:56:36] <jaggz> if my read has -t5 it'll wait a full 5s before it shows the device response
[02:57:04] <jaggz> it's as if the 4<> "$dev" is fully buffered
[02:57:40] <jaggz> (not sure if that's an accurate "as if")
[02:59:25] *** Quits: cityape (~cityape@user/cityape) (Quit: Part & Quit)
[02:59:51] *** Parts: MrMobius (~MrMobius@pool-108-31-243-125.washdc.fios.verizon.net) (Leaving)
[03:01:23] *** Joins: N4buc0- (~N4buc0@2804:7f4:348a:fff2:86e5:3ec1:2264:dc1)
[03:02:28] <AntonioPt> thxx all
[03:02:34] *** Quits: AntonioPt (~puppy@51.82.63.94.rev.vodafone.pt) (Quit: Leaving)
[03:04:37] *** Joins: pushqrdx (~pushqrdx@102.45.31.87)
[03:05:33] *** Parts: short-bike (~short-bik@centos/community/short-bike) (and on that note...)
[03:05:58] *** Joins: Lebela (~Lebela@85.187.219.215)
[03:06:05] *** Quits: kilitary (~kilitary@188.242.105.134) (Remote host closed the connection)
[03:06:28] <Lebela> hi :)
[03:06:56] <Lebela> I would like to do something that looks kind of like this:
[03:07:15] <Lebela> 1) a real bash script located in /usr/local/bin   that can be called from the command line
[03:07:34] <Lebela> inside said bash script is a function which is supposed to run commands
[03:07:55] <Lebela> 2) a config file which gets included in the bash script using "source"  (source configfile)
[03:08:26] <Lebela> how can I pass every line of the config file into the function?
[03:08:30] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[03:08:51] <kurahaupo> jaggz: That script looks reasonable.
[03:09:42] <Lebela> for example, the bash script could contain:    source configfile ; function foo { XXX }
[03:09:47] <kurahaupo> jaggz: If you're interacting manually with the device, it may be simpler to fork into sending & receiving processes
[03:09:58] <Lebela> XXX in this case is a placeholder (because I don't know better) for one line at a time from the config file
[03:10:22] <jaggz> kurahaupo, at this point it's just a simple thing like: echo "M105" | serial-echo-into /dev/ttyACM0
[03:10:40] <jaggz> but it forces me to wait 1 second to see the output
[03:13:43] <twkm> Lebela: why one line at a time?
[03:14:03] <Lebela> twkm, because each line will cause a lot of CPU usage
[03:14:17] <Lebela> twkm, there will be a human readable output after each command
[03:14:27] <Lebela> and I get a chance to take action with a promt
[03:14:30] <Lebela> *prompt
[03:14:43] <Lebela> twkm, I am just setting up a sample
[03:14:44] <twkm> !faq 1 > Lebela
[03:14:45] <greybot> Lebela: https://mywiki.wooledge.org/BashFAQ/001 -- How can I read a file (data stream, variable) line-by-line (and/or field-by-field)?
[03:14:56] <Lebela> thank you, twkm
[03:14:58] <larryv> your config file contains commands?
[03:15:00] <Lebela> yes
[03:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:15:07] *** Joins: malina (~malina@user/malina)
[03:15:09] <Lebela> commands to custom scripts
[03:15:15] *** Quits: zauberfisch (~Zauberfis@cm147-42.liwest.at) ()
[03:15:19] *** Joins: kilitary (~kilitary@188.242.105.134)
[03:15:21] <Lebela> twkm, https://dpaste.org/RRAK
[03:15:39] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:15:47] <larryv> all the commands will run when you source the config file
[03:15:58] <Lebela> and the config file:   https://dpaste.org/XgTg
[03:16:10] <Lebela> larryv, that is not ideal
[03:16:25] <Lebela> larryv, I want to go over them in a loop,  as there will be some more stuff in the loop
[03:16:27] <Lebela> also a sleep command
[03:16:40] <Lebela> I could write it all in the config file, but I wanted to keep the config itself clean
[03:17:13] <Lebela> actually, I just realized, I don't need to place commands in the config file
[03:17:26] <Lebela> I could just place the config params in there, and have the command inside the function!
[03:17:39] <jaggz> is my () 4<> /dev/foo   causing some block buffering or something?
[03:17:57] <twkm> perhaps.
[03:18:10] <jaggz> there a way to control that?
[03:18:11] <Lebela> twkm, I read the FAQ (001) but it does not quite help
[03:18:18] <Lebela> twkm, I must go over it line by line
[03:18:30] <Lebela> how about looping?  Instead of a function... can I loop over the file line by line?
[03:18:35] <twkm> sigh.
[03:18:54] <twkm> jaggz: change the program that is handling fd4.
[03:19:07] <larryv> Lebela: that faq discusses how to read a file line by line
[03:19:19] <Lebela> there is no for loop?
[03:19:21] <twkm> aka, i didn't actually read it.
[03:19:23] * Lebela goes back to the FAQ
[03:19:33] <jaggz> twkm, just the read command
[03:19:34] <twkm> i glaced at it then dismissed it.
[03:19:36] <Lebela> I could use the while command
[03:19:45] <jaggz> twkm, https://paste.debian.net/hidden/4dcbe83e/
[03:19:58] *** Joins: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp)
[03:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:32] <larryv> Lebela: for loops are not well-suited for this
[03:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:20:52] <larryv> see: https://mywiki.wooledge.org/DontReadLinesWithFor
[03:20:57] *** Quits: ali (~ali@ptr-99ug59141rgbz9y8km3.18120a2.ip6.access.telenet.be) (Ping timeout: 240 seconds)
[03:21:04] <Lebela> thank you larryv
[03:21:10] <Lebela> I need to get PHP out of my head for this
[03:21:35] <twkm> actually reading the faq might be useful too.
[03:21:36] <jaggz> oh.. this -N10000 from kurahaup* .. "return ONLY after reading 10000" ...
[03:21:53] <jaggz> sheesh
[03:21:55] <jaggz> :)
[03:22:41] <twkm> heh, that certainly needs buffering.
[03:23:53] <jaggz> heh
[03:23:59] <jaggz> $ printer-temp-get
[03:23:59] <jaggz> ok T:22.0 /0.0 B:22.3 /0.0 @:0 B@:0
[03:24:00] <jaggz> instant!
[03:24:02] <Lebela> I think the FAQ article might help afterall
[03:24:03] <Lebela> thank you
[03:24:24] <Lebela> I believe I must do it without the < part because I don't want to redirect the output
[03:24:27] <jaggz> Lebela, the problem with faqs is that they're only as accurate as the years of work that's gone into refining them
[03:24:33] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 250 seconds)
[03:25:04] <Lebela> If I want the output straight without redirecting it into a file,  I would do:
[03:25:06] <Lebela> done
[03:25:09] <Lebela> instead of  done < "$file"  ?
[03:25:22] <larryv> Lebela: you need the < to read the input
[03:25:37] <larryv> or some suitable alternative. it does not redirect the output
[03:26:06] <Lebela> I think I misunderstood this sentence then
[03:26:09] <Lebela> Quote:  < "$file" redirects the loop's input from a file
[03:26:14] <e36freak> *input*
[03:26:19] <e36freak> that's the file you're reading from
[03:26:20] <twkm> output?!?!?!
[03:26:29] <Lebela> sorry.
[03:26:32] <larryv> it causes the loop to read from a file, as opposed to sitting there waiting for stdin
[03:26:33] <twkm> < is reading, not writing.
[03:27:19] <e36freak> if you also wanted the output to go to a file, it would look like done < input_file > output_file
[03:28:03] *** Quits: kilitary (~kilitary@188.242.105.134) (Remote host closed the connection)
[03:28:39] *** Quits: callq_ (~callq@2409:4062:202:fb53:35cf:a4ba:9e6b:cada) (Ping timeout: 250 seconds)
[03:29:10] <Lebela> omg
[03:29:13] <Lebela> it works!
[03:29:22] <Lebela> thank you, twkm
[03:29:25] <Lebela> thank you, larryv
[03:29:28] <Lebela> and thank you, e36freak
[03:29:43] <Lebela> sorry for not properly reading the FAQ,  I was looking for a FOR loop  (my fault)
[03:29:48] <Lebela> I should have paid closer attention
[03:29:49] *** Joins: zauberfisch (~Zauberfis@cm147-42.liwest.at)
[03:29:52] <Lebela> sorry for bothering y'all
[03:29:55] <Lebela> thank you!
[03:30:03] <larryv> np
[03:30:11] *** Quits: Lebela (~Lebela@85.187.219.215) (Quit: Leaving)
[03:30:24] *** Quits: tk (~tk@ircpuzzles/staff/tk) (Quit: Well, this is unexpected.)
[03:30:49] *** Joins: tk (~tk@ircpuzzles/staff/tk)
[03:34:24] *** Joins: chenqisu1 (~chenqisu1@183.217.200.249)
[03:37:38] *** Joins: oscurochu (~oscurochu@097-096-050-227.res.spectrum.com)
[03:37:41] <oscurochu> https://codesandbox.io/s/awesome-bardeen-kv1ir?file=/src/bash.sh
[03:38:13] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[03:40:29] <oscurochu> im not sure what im doing. it might be evident by the code. by i think you might know what im trying to do if you look at it lol
[03:40:46] <tirnanog> continue does not mean exit. exit does, however. see "help continue" and "help exit", respectively.
[03:41:17] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 240 seconds)
[03:41:41] <oscurochu> its in a loop.
[03:41:53] <oscurochu> i just didnt include that in the example.
[03:41:57] <tirnanog> why not?
[03:41:59] <oscurochu> forgot
[03:42:35] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[03:42:37] *** Quits: ChmEarl (~chmearl@user/chmearl) (Ping timeout: 240 seconds)
[03:44:16] *** Quits: bgpepi (~bgpepi@ip-212-239-173-106.dsl.scarlet.be) (Remote host closed the connection)
[03:49:04] <tirnanog> can you explain what you want to do then?
[03:49:43] *** Joins: kilitary (~kilitary@188.242.105.134)
[03:50:23] *** Joins: Lebela (~Lebela@85.187.219.215)
[03:50:24] <Lebela> re
[03:50:36] <Lebela> I just figured out that I haven't figured it out yet
[03:50:49] <Lebela> looks like I need a strange cross-breed between  "source" and "while"
[03:50:49] <e36freak> oscurochu: showing broken code with no context makes it very difficult to figure out your intent
[03:51:04] <e36freak> oscurochu: it's much more helpful to explain in simple terms what you're trying to do
[03:51:26] <larryv> Lebela: what format did you settle on for the config file?
[03:51:43] <Lebela> larryv, at first, it was a plain text file... but then I figured I needed variables as well
[03:51:53] <Lebela> I am running sophisticated ffmpeg commands
[03:51:59] *** Quits: freep (~freepppp@46.246.189.172.dsl.dyn.forthnet.gr) (Read error: Connection reset by peer)
[03:52:07] <e36freak> the simplest way to create a config file is to simply make it conform to bash syntax and source it
[03:52:10] <Lebela> the config file holds a lot of information of multiple videos with different filter requirements
[03:52:12] <e36freak> and there is nothing wrong with that method
[03:52:26] <Lebela> e36freak, yeah, but there is some kind of risk involved.
[03:52:34] <Lebela> let me show you a pseudo-code-sample
[03:52:38] *** Quits: mkoskar (~mkoskar@user/mkoskar) (Quit: mkoskar)
[03:52:45] *** Joins: rgrinberg (~textual@187.223.115.137)
[03:53:11] <e36freak> anyone with permission to edit the config file could presumably run any malicious commands themselves anyway
[03:53:19] <e36freak> if you write safe code for it and document it, it's not a bad move
[03:53:31] <Lebela> yeah, it is more about me myself messing it up
[03:53:35] *** Joins: karabaja4 (~karabaja4@dh207-94-241.xnet.hr)
[03:53:35] <e36freak> what matters more is the code that uses those variables
[03:54:39] <Lebela> the config file holds information about 4-5 different video files
[03:54:51] <Lebela> but, there are about 50 lines of configuration
[03:55:01] <Lebela> because I am targeting different areas of the same videos over and over again
[03:55:09] <Lebela> so, the commands are redundant
[03:55:15] <e36freak> i see
[03:55:28] <Lebela> $file_1    $filters_of_1    $colors_of_1   $output_of_1
[03:55:41] <Lebela> imagine I mess up one number there....  make a 2 out of a 1
[03:56:00] <Lebela> so I thought I would go with  "file_1"  at the beginning of each line,  and then the right settings get pulled in
[03:56:35] *** Quits: liveacoustic (~adison@user/liveacoustic) (Read error: Connection reset by peer)
[03:57:15] <e36freak> sounds like you want some arrays
[03:57:19] *** Joins: ChmEarl (~chmearl@user/chmearl)
[03:57:27] <e36freak> but sure, you can use a different syntax, but then you need to parse it
[03:58:07] *** Quits: zouhair (~zouhair@lnsm1-montreal02-142-119-49-188.internet.virginmobile.ca) (Quit: KVIrc 5.0.1 Aria http://www.kvirc.net/)
[03:58:27] *** Joins: zouhair (~zouhair@lnsm1-montreal02-142-119-49-188.internet.virginmobile.ca)
[03:59:26] <Lebela> https://dpaste.org/toZz
[03:59:40] <Lebela> ^ here, this is the best pseudo-code I could come up with,  which is a close representation of what I am doing
[03:59:51] <Lebela> no damn i made a mistake
[03:59:53] <Lebela> sorry, wait
[03:59:54] *** Quits: malina (~malina@user/malina) (Remote host closed the connection)
[04:00:53] <Lebela> https://dpaste.org/iEVP
[04:01:21] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Quit: Leaving)
[04:01:55] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[04:02:29] <Lebela> and this is my desired format  (the goal)
[04:02:30] <Lebela> https://dpaste.org/mVjN
[04:03:06] <Lebela> so, instead of repeating the same numbers for  $FOO_1  and $BAR_1  and $XXX_1   (where I could slip up)
[04:03:17] <Lebela> I would rather have  "file_1" and "file_2"  at the front of each line
[04:03:37] <Lebela> so the script that reads it out must then see "of, this is file 1  and then apply the right variables
[04:04:03] <Lebela> with this "while" method of reading files, I can easily assign a variable to each word (blank space separated)
[04:04:52] <Lebela> I could probably also append the file number (1, 2, etc.)  to the variables
[04:05:26] <Lebela> but the variables from the config file will never become variables using while
[04:05:31] <Lebela> and using source is the wrong way for this
[04:05:46] <e36freak> why don't you have a section for each file
[04:05:47] <Lebela> well, not if I used a function inside the config file
[04:05:54] <e36freak> instead of mixing everything up
[04:05:55] <e36freak> or that
[04:06:05] <Lebela> e36freak, what kind of section?
[04:06:11] *** Joins: mkoskar (~mkoskar@user/mkoskar)
[04:06:40] <Lebela> can I put together variable names with other variable names in bash?
[04:06:47] <Lebela> how can I use the bot here?  with #, right?
[04:06:50] <Lebela> # echo "test"
[04:06:52] <shbot> Lebela: test
[04:07:05] <e36freak> use arrays?
[04:07:08] <e36freak> !faq 5
[04:07:08] <greybot> https://mywiki.wooledge.org/BashFAQ/005 -- How can I use array variables?
[04:07:27] <e36freak> design your file to be as easily parsed as possible
[04:07:31] <e36freak> regardless of language
[04:07:46] <e36freak> i don't see how everything together is productive in any way
[04:07:47] *** Joins: luckiswithme (~luckiswit@149.167.139.151)
[04:07:54] <Lebela> # FOO_1="abc" ; BAR=1 ; echo $FOO_$BAR
[04:07:56] <shbot> Lebela: 1
[04:08:00] <e36freak> oh god no
[04:08:01] <Lebela> wow, that works :))
[04:08:13] <e36freak> what works?
[04:08:22] <Lebela> oh, it doesn't
[04:08:25] <Lebela> I expected ABC
[04:08:29] <e36freak> you got the contents of "$FOO_" and "$BAR" concatenated together
[04:08:42] <Lebela> # FOO_1="abc" ; BAR=1 ; echo ${FOO}_${BAR}
[04:08:44] <shbot> Lebela: _1
[04:08:49] <e36freak> indirection isn't the way to go here. associative arrays *maybe*, but i don't even know how you're using these variables
[04:08:52] <e36freak> no, that's not how that works
[04:10:20] <Lebela> # array[1]="abc" ; $FOO=1 ; echo $array[$FOO]
[04:10:22] <shbot> Lebela: bash: =1: command not found
[04:10:22] <shbot> Lebela: []
[04:10:37] <Lebela> would have been too good to be true
[04:11:45] <Lebela> nah, I will just go with a function inside the config file
[04:11:53] <Lebela> looping through the stuff
[04:12:03] <e36freak> Lebela: "${array[FOO]}"
[04:12:17] <e36freak> also that's not how you assign to a variable
[04:12:20] <Lebela> # array[1]="abc" ; $FOO=1 ; echo "${array[FOO]}"
[04:12:21] <shbot> Lebela: bash: =1: command not found
[04:12:34] <e36freak> cemo on man
[04:12:37] <e36freak> come
[04:12:51] <Lebela> I promise you, it looks right to my brain
[04:13:01] <e36freak> FOO=1
[04:13:04] <e36freak> not $FOO=1
[04:13:07] <Lebela> god
[04:13:10] <e36freak> you know how to assign to variables
[04:13:12] <Lebela> that's why you were upset
[04:13:13] <Lebela> sorry
[04:13:21] <Lebela> # array[1]="abc" ; FOO=1 ; echo "${array[FOO]}"
[04:13:23] <shbot> Lebela: abc
[04:13:25] <Lebela> yessss
[04:13:44] <e36freak> but also if you have a list of arguments for a command they need to be in an array
[04:13:46] <e36freak> not a scalar
[04:13:50] <e36freak> !faq complex
[04:13:50] <greybot> https://mywiki.wooledge.org/BashFAQ/050 -- I'm trying to put a command in a variable, but the complex cases always fail!
[04:15:39] *** Quits: user1 (~user@95.0.240.62) ()
[04:19:01] <Lebela> I'm still coding
[04:19:04] <Lebela> will show you soon
[04:20:07] *** Joins: docmax_ (~docmax@dynamic-095-112-187-117.95.112.pool.telefonica.de)
[04:21:04] *** Joins: totenkoph (~scythe@user/totenkoph)
[04:22:55] *** Quits: docmax (~docmax@dynamic-077-010-075-169.77.10.pool.telefonica.de) (Ping timeout: 256 seconds)
[04:24:57] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 240 seconds)
[04:28:36] <Lebela> e36freak ?
[04:28:46] <Lebela> I am done... can I show you my disasterpiece?
[04:29:18] <Lebela> https://dpaste.org/1yeR
[04:29:24] <Lebela> ^ this is the basic idea
[04:30:16] *** Quits: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za) (Remote host closed the connection)
[04:30:46] <e36freak> !check
[04:30:47] <checkbot> Lebela: Line 3: Parsing stopped here. Invalid use of parentheses?. Line 3: '(' is invalid here. Did you forget to escape it?. Line 3: FOO appears unused. Verify use (or export if used externally). See https://shellcheck.net/?id=cb95647
[04:31:03] <e36freak> that's not how you declare an array
[04:31:15] <Lebela> stackoverflow made me do it!
[04:31:19] <e36freak> and there are no multidimensional arrays
[04:31:20] <e36freak> !so
[04:31:20] <greybot> Like virtually every other web site you find via Google, StackOverflow is chock full of wrong answers. Verify everything you read there before using it.
[04:32:03] <Lebela> if there are no multi dimensional arrays, I am at a loss
[04:32:32] <e36freak> hence my suggestion for using sections of some sort
[04:32:45] <Lebela> at least it's now clear _what_ I want to do
[04:32:46] <e36freak> you can have a comment line with a label for each filename, for example
[04:32:59] <e36freak> read up to the next section marker for each file, and source the buffer at that point
[04:33:02] <e36freak> run your code
[04:33:03] <e36freak> do it again
[04:33:16] <Lebela> is a "section" a separate text file for each video?
[04:33:23] <e36freak> you could also do that
[04:33:30] <e36freak> a config directory with a config file for each video
[04:33:38] <e36freak> loop over the config files and do your thing for each one
[04:33:49] <e36freak> that may be the simplest solution, and easy to edit and add/remove videos
[04:34:00] <e36freak> can even have a template config file that you can just edit when you want to add one
[04:34:09] <Lebela> thank you very much for your opinion!
[04:34:14] <Lebela> I think that's the way to go
[04:35:30] <Lebela> I need to fulfull my parental duties for a while,  will be back later
[04:35:33] <Lebela> thank you very much, e36freak !
[04:35:42] *** Quits: Lebela (~Lebela@85.187.219.215) (Quit: Leaving)
[04:35:57] *** Quits: rcernin (~rcernin@124.190.132.36) (Ping timeout: 256 seconds)
[04:40:48] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[04:44:39] *** Joins: skraito (~skraito@user/skraito)
[04:44:47] *** Quits: skraito (~skraito@user/skraito) (K-Lined)
[04:45:29] *** Joins: XV8 (~XV8@c-73-148-120-152.hsd1.va.comcast.net)
[04:46:13] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[04:47:30] *** Quits: ano (~ano@user/ano) (Quit: ano)
[04:48:09] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:3927:5d8e:f911:dad1)
[04:49:11] *** Joins: ano (~ano@user/ano)
[04:49:15] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.4)
[04:50:48] *** Quits: bash-libera (~bash-libe@h216-170-204-47.hrcnut.broadband.dynamic.tds.net) (Quit: Leaving...)
[04:51:17] *** Quits: kilitary (~kilitary@188.242.105.134) (Ping timeout: 240 seconds)
[04:53:18] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:53:25] *** Joins: N4buc0 (~N4buc0@189.58.131.84)
[04:53:31] *** Quits: N4buc0- (~N4buc0@2804:7f4:348a:fff2:86e5:3ec1:2264:dc1) (Remote host closed the connection)
[04:53:37] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:3927:5d8e:f911:dad1) (Ping timeout: 240 seconds)
[04:58:37] *** Quits: situ (~situ@ip-89-176-145-74.net.upcbroadband.cz) (Ping timeout: 256 seconds)
[05:00:33] *** Joins: Lebela (~Lebela@85.187.219.215)
[05:00:34] <Lebela> re
[05:00:53] <Lebela> e36freak, you said before,  that the correct syntax was:   "${array[FOO]}"
[05:00:58] <Lebela> so there is no $ before the FOO
[05:01:03] <Lebela> what if I wanted to use $1 ?
[05:01:08] *** Quits: oscurochu (~oscurochu@097-096-050-227.res.spectrum.com) (Remote host closed the connection)
[05:01:11] <Lebela> still 1 or $1 or ${1} ?
[05:01:16] <Lebela> https://dpaste.org/rDYq
[05:01:21] <e36freak> you can also put a $ there
[05:01:24] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[05:01:28] <e36freak> it's a numeric context, like $(( or ((
[05:01:34] <Lebela> ${FOO[$1]}"
[05:01:37] <e36freak> since it's an indexed array and that has to be a number
[05:01:41] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 256 seconds)
[05:02:03] <e36freak> also allows you to do things like "${array[i++]}" or "${array[i+j]}"
[05:02:07] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[05:02:26] <Lebela> # FOO[1]="Hello" ; FOO[2]="Bye" ; foo() { echo "$1 - $2 - $3 - ${FOO[$1]}" } ; foo 2 "aaa" "bbb"
[05:02:32] *** Joins: jiploading (~user@user/vjipac)
[05:02:33] <shbot> Lebela: Missing terminating quote, bracket or keyword
[05:02:50] <e36freak> need a ; before the } as well
[05:03:06] <Lebela> # FOO[1]="Hello" ; FOO[2]="Bye" ; foo() ; { echo "$1 - $2 - $3 - ${FOO[$1]}" } ; foo 2 "aaa" "bbb"
[05:03:08] <shbot> Lebela: bash: syntax error near unexpected token `;'
[05:03:20] <Lebela> # FOO[1]="Hello" ; FOO[2]="Bye" ; foo() { echo "$1 - $2 - $3 - ${FOO[$1]}" ; } ; foo 2 "aaa" "bbb"
[05:03:21] <shbot> Lebela: 2 - aaa - bbb - Bye
[05:03:26] <Lebela> omg
[05:03:27] <Lebela> thank you
[05:03:30] <Lebela> bye bye :)
[05:03:34] <Lebela> have a gread day!
[05:03:38] <Lebela> *great
[05:03:41] *** Quits: Lebela (~Lebela@85.187.219.215) (Client Quit)
[05:04:58] *** Quits: tnewman (~tnewman@61-216-158-211.hinet-ip.hinet.net) (Remote host closed the connection)
[05:06:10] *** Joins: Daemoen (~Daemoen@daemoen.ct-unlimited.com)
[05:11:05] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 256 seconds)
[05:13:38] *** Quits: karabaja4 (~karabaja4@dh207-94-241.xnet.hr) (Quit: leaving)
[05:16:27] *** Quits: irc_user (uid423822@id-423822.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[05:19:24] *** Quits: Dotz0cat (~Dotz0cat@h124.175.40.162.dynamic.ip.windstream.net) (Ping timeout: 250 seconds)
[05:20:45] *** Joins: aod (~a@186-89-229-60.genericrev.cantv.net)
[05:22:54] *** Joins: Dotz0cat (~Dotz0cat@173.188.34.42)
[05:24:29] *** Quits: kurahaupo_ (~kurahaupo@115.69.27.211) (Read error: Connection reset by peer)
[05:24:40] *** Joins: kurahaupo_ (~kurahaupo@115.69.27.211)
[05:26:22] *** Joins: loganlee[gnu] (~Thunderbi@user/loganlee)
[05:26:36] <ormaaj> <Earnestly> "antikythera: They are https://..." <- I mean there's space for infinite brains down there. 😁
[05:30:19] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:30:53] *** Joins: fuzzybear3965 (~fuzzybear@92.253.212.77)
[05:32:58] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:3927:5d8e:f911:dad1)
[05:33:45] *** Quits: kurahaupo_ (~kurahaupo@115.69.27.211) (Ping timeout: 256 seconds)
[05:36:53] *** Quits: drbeco (~beco@2804:351c:dd01:b700:1b03:6b85:20d4:ad73) (Quit: Leaving)
[05:37:35] *** Joins: kurahaupo_ (~kurahaupo@115.69.27.211)
[05:43:17] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[05:45:38] *** Quits: pushqrdx (~pushqrdx@102.45.31.87) (Remote host closed the connection)
[05:47:07] *** Quits: chenqisu1 (~chenqisu1@183.217.200.249) (Ping timeout: 256 seconds)
[05:47:35] <wiscii> !trigger-e
[05:47:35] <greybot> # #/bin/sh; set -e; borked () { printf "Sunday, Monday\n"; return 1; }; borked; printf "Happy days\n" # For larryv, two b one a, no Fonzerelli, and a partridge in a pear tree
[05:47:37] <shbot> greybot: no output
[05:48:26] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:3927:5d8e:f911:dad1) (Ping timeout: 250 seconds)
[05:48:57] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[05:52:24] *** Joins: totenkoph (~scythe@user/totenkoph)
[05:53:17] *** Quits: kurahaupo_ (~kurahaupo@115.69.27.211) (Ping timeout: 240 seconds)
[05:55:07] *** Joins: vlm (~vlm@user/vlm)
[05:56:01] <larryv> you know that shebang does nothing, right
[05:56:47] *** Joins: Seirdy0 (~Seirdy@sourcehut/user/seirdy)
[05:57:47] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 256 seconds)
[05:57:53] *** Quits: foul_owl (~kerry@94.140.8.107) (Ping timeout: 256 seconds)
[05:58:15] <wiscii> !forget trigger-et
[05:58:15] <greybot> I don't know what trigger-et is
[05:58:21] <wiscii> !forget trigger-e
[05:58:21] <greybot> OK, wiscii
[05:59:23] <wiscii> larryv: sure i do, it's just a comment ;)
[06:00:04] <larryv> it makes the whole thing a comment
[06:00:33] <wiscii> rofl
[06:00:47] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:3927:5d8e:f911:dad1)
[06:01:10] <wiscii> # set -e; borked () { printf "Sunday, Monday\n"; return 1; }; borked; printf "Happy days\n"
[06:01:12] <shbot> wiscii: Sunday, Monday
[06:01:12] <shbot> wiscii: (shell exited with 1)
[06:01:31] <wiscii> hah, so i had a bug too
[06:01:32] <e36freak> well, yeah?
[06:01:39] <e36freak> you're telling it to return 1?
[06:01:43] <e36freak> what did you expect?
[06:02:38] <e36freak> doctor, i shot myself in the foot and it hurts!
[06:02:38] <wiscii> bowl of rice, may be
[06:02:54] *** Joins: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net)
[06:03:35] <wiscii> e36freak: return 1 isn't the bug, larryv just pointed out the obvious one i missed
[06:04:15] <wiscii> like a stupid chump that i am
[06:04:39] *** Joins: kurahaupo_ (~kurahaupo@115.69.27.211)
[06:05:31] <wiscii> # set -e; borked () { printf "Sunday, Monday\n"; return 1; }; borked; printf "Happy days\n"
[06:05:32] <shbot> wiscii: Sunday, Monday
[06:05:32] <shbot> wiscii: (shell exited with 1)
[06:05:40] <wiscii> # set -e; borked () { printf "Sunday, Monday\n"; return 0; }; borked; printf "Happy days\n"
[06:05:42] <shbot> wiscii: Sunday, Monday
[06:05:42] <shbot> wiscii: Happy days
[06:06:04] <wiscii> # borked () { printf "Sunday, Monday\n"; return 1; }; borked; printf "Happy days\n"
[06:06:05] <shbot> wiscii: Sunday, Monday
[06:06:06] <shbot> wiscii: Happy days
[06:09:02] *** Joins: ferdna (~ferdna@user/ferdna)
[06:09:13] <wiscii> i read the -e quiz .. i will never use -e for anything ever again, not even deliberately
[06:09:33] *** Quits: FluffyMask (~masque@user/fluffymask) (Quit: WeeChat 3.4)
[06:09:41] <wiscii> the answers are staggering
[06:12:13] *** Joins: foul_owl (~kerry@23.82.193.178)
[06:15:37] *** Quits: fuzzybear3965 (~fuzzybear@92.253.212.77) (Quit: Client closed)
[06:16:31] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:3927:5d8e:f911:dad1) (Quit: WeeChat 3.4)
[06:17:31] *** Joins: rcernin (~rcernin@124.190.132.36)
[06:20:37] *** Quits: quazimodo (~quazimodo@n110-21-88-214.bla2.nsw.optusnet.com.au) (Ping timeout: 240 seconds)
[06:24:52] *** Joins: remirol (~lorimer@user/lorimer)
[06:24:52] *** Quits: lorimer (~lorimer@user/lorimer) (Killed (NickServ (GHOST command used by remirol)))
[06:25:01] *** remirol is now known as lorimer
[06:25:10] *** Joins: yagamilito (~yagamilit@2601:642:4600:34b0:d8b3:da0c:92f4:cfa8)
[06:30:45] *** Quits: rcernin (~rcernin@124.190.132.36) (Ping timeout: 256 seconds)
[06:31:01] *** Quits: zaz\ (~zaz@poneybl.eu) (Quit: bye)
[06:31:27] *** Joins: zaz\ (~zaz@poneybl.eu)
[06:33:59] *** Quits: lemonsnicks (~lemonsnic@cpc159519-perr18-2-0-cust114.19-1.cable.virginm.net) (Quit: ZNC 1.8.2 - https://znc.in)
[06:35:09] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[06:35:57] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Ping timeout: 240 seconds)
[06:35:58] *** Quits: jiploading (~user@user/vjipac) (Remote host closed the connection)
[06:38:21] *** Quits: kurahaupo_ (~kurahaupo@115.69.27.211) (Ping timeout: 256 seconds)
[06:42:19] *** Quits: foul_owl (~kerry@23.82.193.178) (Ping timeout: 256 seconds)
[06:42:32] *** Joins: karabaja4 (~karabaja4@dh207-94-241.xnet.hr)
[06:43:20] *** Quits: aod (~a@186-89-229-60.genericrev.cantv.net) (Quit: leaving)
[06:44:47] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[06:46:16] *** Joins: lemonsnicks (~lemonsnic@cpc159519-perr18-2-0-cust114.19-1.cable.virginm.net)
[06:47:25] *** Quits: xx (~xx@user/xx) (Ping timeout: 256 seconds)
[06:48:19] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:ada1:a381:cb85:1694)
[06:49:21] *** Quits: jos1 (~jos3@dyndsl-091-096-035-030.ewe-ip-backbone.de) (Ping timeout: 256 seconds)
[06:52:04] *** Joins: kurahaupo_ (~kurahaupo@115.69.27.211)
[06:55:20] *** Quits: w0ng (~w0ng@103.1.212.158) (Ping timeout: 250 seconds)
[06:55:35] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:ada1:a381:cb85:1694) (Ping timeout: 250 seconds)
[06:57:00] *** Joins: foul_owl (~kerry@23.82.193.176)
[06:58:33] *** Joins: cdown_ (~cdown@188.214.11.14)
[06:59:43] *** Quits: tatarqa (~kli@ip-89-177-122-45.net.upcbroadband.cz) (Remote host closed the connection)
[06:59:47] *** Joins: skraito (~skraito@user/skraito)
[06:59:57] *** Quits: skraito (~skraito@user/skraito) (Killed (ozone (No Spam)))
[07:00:06] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Remote host closed the connection)
[07:00:14] *** Joins: rcernin (~rcernin@124.190.132.36)
[07:01:45] *** Joins: Guest40 (~Guest40@24.144.14.177)
[07:02:06] *** Quits: Guest40 (~Guest40@24.144.14.177) (Client Quit)
[07:03:09] *** Joins: jos1 (~jos3@dyndsl-178-142-071-164.ewe-ip-backbone.de)
[07:04:21] *** Quits: cdown_ (~cdown@188.214.11.14) (Remote host closed the connection)
[07:08:29] *** Joins: jiploading (~user@user/vjipac)
[07:13:02] *** Quits: rgrinberg (~textual@187.223.115.137) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:20:37] *** Quits: kurahaupo_ (~kurahaupo@115.69.27.211) (Ping timeout: 240 seconds)
[07:27:42] *** Joins: kurahaupo_ (~kurahaupo@pa49-197-103-160.pa.qld.optusnet.com.au)
[07:33:51] *** Joins: w0ng (~w0ng@ec2-13-211-241-147.ap-southeast-2.compute.amazonaws.com)
[07:34:13] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 256 seconds)
[07:36:09] *** Quits: foul_owl (~kerry@23.82.193.176) (Ping timeout: 256 seconds)
[07:36:35] *** Quits: tangy (~tangy@user/tangy) (Remote host closed the connection)
[07:37:14] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:39:57] *** Joins: sinaowolabi (~SinaOwola@41.58.252.33)
[07:40:00] *** Joins: callq (~callq@157.41.72.120)
[07:40:01] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Client Quit)
[07:41:34] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:44:57] *** Quits: sinaowolabi (~SinaOwola@41.58.252.33) (Ping timeout: 240 seconds)
[07:48:05] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[07:50:48] *** Joins: foul_owl (~kerry@192.145.116.101)
[07:50:55] *** Joins: jiploadi` (~user@103.230.104.5)
[07:51:29] *** Quits: kurahaupo_ (~kurahaupo@pa49-197-103-160.pa.qld.optusnet.com.au) (Ping timeout: 250 seconds)
[07:51:57] *** Quits: bluedust_ (~bluedust@59.99.182.45) (Remote host closed the connection)
[07:52:17] *** Quits: jiploading (~user@user/vjipac) (Ping timeout: 240 seconds)
[07:52:35] *** Quits: TenochSLB (~Tenochyy@108-216-74-215.lightspeed.wchtks.sbcglobal.net) (Quit: Leaving)
[07:55:00] *** Seirdy0 is now known as Seirdy
[07:55:03] *** Joins: sinaowolabi (~SinaOwola@160.152.112.183)
[07:55:17] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.4)
[07:55:21] *** Joins: quazimodo (~quazimodo@n110-21-88-214.bla2.nsw.optusnet.com.au)
[07:55:29] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[07:55:33] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[07:56:35] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[07:57:19] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.1)
[07:58:39] *** Quits: w0ng (~w0ng@ec2-13-211-241-147.ap-southeast-2.compute.amazonaws.com) (Quit: w0ng)
[07:59:09] *** Joins: w0ng (~w0ng@103.212.227.166)
[08:02:01] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:540b:bd79:8d25:836)
[08:02:27] *** Quits: quazimodo (~quazimodo@n110-21-88-214.bla2.nsw.optusnet.com.au) (Ping timeout: 256 seconds)
[08:02:54] <jaggz> sudo printf 'echo Be careful\nset -e\n' >> /etc/bash.bashrc
[08:03:18] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[08:06:01] <phy1729> !sudo>
[08:06:02] <greybot> sudo echo > file -- bash operations such as redirections & glob expansions are performed by the USER's bash, not by sudo. Consider: echo | sudo tee [-a] file, or sudo bash -c 'echo > file'
[08:07:48] *** Joins: irc_user (uid423822@id-423822.lymington.irccloud.com)
[08:13:38] <wiscii> sudo printf 'echo
[08:13:54] * wiscii shudders
[08:15:20] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 250 seconds)
[08:19:19] *** Joins: fef (~thedawn@user/thedawn)
[08:20:44] *** Joins: chenqisu1 (~chenqisu1@183.217.200.249)
[08:22:01] <wiscii> jaggz: are you completely insane?
[08:22:37] * Blondie101010 nods
[08:23:02] <Blondie101010> that's unusable
[08:23:24] *** Joins: malina (~malina@user/malina)
[08:23:25] <jaggz> phy1729, oh right, thanks
[08:24:09] * wiscii foresees a reboot followed by a brick
[08:25:15] <wiscii> later jaggz :) byeee
[08:26:17] <jaggz> :)
[08:27:06] *** Quits: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[08:30:09] *** Quits: crashrep (~crashrep@user/crashrep) (Ping timeout: 276 seconds)
[08:36:22] *** Quits: fatal (~0x00@user/fatal) (Remote host closed the connection)
[08:36:39] *** Quits: szkl (uid110435@id-110435.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[08:38:45] <wiscii> # borked () { printf "Sunday, Monday\n"; return 1; }; borked || printf "Eeh.. Now with The Fonz (*applause*)"; printf "Happy days\n"
[08:38:47] <shbot> wiscii: Sunday, Monday
[08:38:47] <shbot> wiscii: Eeh.. Now with The Fonz (*applause*)Happy days
[08:39:05] <wiscii> # borked () { printf "Sunday, Monday\n"; return 1; }; borked || printf "Eeh.. Now with The Fonz (*applause*)\n"; printf "Happy days\n"
[08:39:07] <shbot> wiscii: Sunday, Monday
[08:39:07] <shbot> wiscii: Eeh.. Now with The Fonz (*applause*)
[08:39:07] <shbot> wiscii: Happy days
[08:39:38] <wiscii> # set -e; borked () { printf "Sunday, Monday\n"; return 1; }; borked || printf "Eeh.. Now with The Fonz (*applause*)\n"; printf "Happy days\n"
[08:39:40] <shbot> wiscii: Sunday, Monday
[08:39:40] <shbot> wiscii: Eeh.. Now with The Fonz (*applause*)
[08:39:40] <shbot> wiscii: Happy days
[08:39:52] <wiscii> no fkn point to -e
[08:42:13] *** Joins: fatal (~0x00@user/fatal)
[08:43:53] *** Joins: kurahaupo_ (~kurahaupo@pa49-197-103-160.pa.qld.optusnet.com.au)
[08:46:28] <wiscii> i presume, by now, that there is no effort to improve and/or save -e ?
[08:47:22] <wiscii> no .. they are srtill trying to work with it
[08:49:54] <larryv> there's nothing to save
[08:50:07] <wiscii> hey larryv :)
[08:50:21] <wiscii> i was "thinking"
[08:51:28] <wiscii> set -e and then set +e for specific functions where -e is not appropriate
[08:51:44] <wiscii> and then i thought
[08:52:03] <wiscii> i imagine you can imagine what i thought ..
[08:52:28] <wiscii> set -e
[08:52:35] *** Quits: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053) (Ping timeout: 252 seconds)
[08:53:26] *** Joins: TenochSLB (~Tenochyy@2600:1700:9780:19c0:1ebf:ceff:fe01:4aa8)
[08:55:29] *** Quits: cdown (~cdown@188.214.11.14) (Ping timeout: 256 seconds)
[08:58:22] <wiscii> Earnestly: how would cat f compare to grep * f ?
[08:59:08] <wiscii> Earnestly: how would cat f compare to grep .* f ?
[08:59:42] <wiscii> grep is going to do a compare op
[09:01:25] <TenochSLB> Hello, guys, how do you deal with files like this: https://pastebin.com/QVqa0vGs
[09:01:25] <pasteban> Paste is available without ads on https://pastebin.com/raw/QVqa0vGs
[09:01:40] <TenochSLB> i want to be able to manipulate them in terminal
[09:01:44] <TenochSLB> crop them
[09:01:54] <TenochSLB> they are in same dir
[09:02:16] <jaggz> TenochSLB, crop?
[09:02:18] <TenochSLB> but the naming makes it diffcult
[09:02:19] <e36freak> TenochSLB: imagemagick? not really a bash question though
[09:02:30] <koala_man> TenochSLB: are you asking because you wrote a loop that fails to do it because you didn't quote the variables?
[09:02:32] <e36freak> there's no issue with the naming, just use quotes properly
[09:02:42] *** Quits: fef (~thedawn@user/thedawn) (Quit: Leaving)
[09:02:43] <e36freak> "$file", never $file
[09:02:46] <jaggz> TenochSLB, use imagemagick or netpbm utilities
[09:02:58] <TenochSLB> koala_man, yes, i cant figure out how to pass them trought pipes
[09:03:02] <TenochSLB> because of the names
[09:03:10] <e36freak> why would a pipe be involved?
[09:03:16] <jaggz> rename "s/'/_/g" *.png   # :)
[09:03:19] <e36freak> for file in ./*; do imagemagick ... "$file"; done
[09:03:23] <nvz> if I want to say thumbnail or update thumbnails for a series of subdirs, what would be an effective way to check names of subdirs against names of files (regardless of extension) in the same dir? like if I had foo/ bar/ baz/ see if I have a foo.bar bar.baz or baz.quux file
[09:03:44] <TenochSLB> e36freak, thanks ill try it
[09:04:00] <nvz> I was just toying with a loop like for dir in */
[09:04:18] <e36freak> that could work
[09:04:21] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:d805:f6bc:66b1:7d9f)
[09:04:22] <nvz> but I figure I could do it with array comparisons or anything
[09:04:39] *** Joins: ElPresidenteP (~ElPreside@2600:1700:3d10:4870:d805:f6bc:66b1:7d9f)
[09:04:47] <e36freak> just loop
[09:04:55] <nvz> I ran into a problem though when I realized I wasn't just looking for a specific extension
[09:05:03] <jaggz> for i in *.png; do echo "Processing: $i"; pngtopnm "$i" | pnmcrop {options here} | pnmtopng > out/"$i"; done
[09:05:08] <nvz> I want to find files that match the dir name and ignore thier extension
[09:05:10] <jaggz> TenochSLB, ^^
[09:05:38] <nvz> foo/, bar/ and baz/ may contain jpg, png, and tiff respectively
[09:05:39] <e36freak> !faq exists
[09:05:39] <greybot> https://mywiki.wooledge.org/BashFAQ/081 -- How can I determine whether a command exists anywhere in my PATH?
[09:05:40] <jaggz> mkdir out :)
[09:05:42] <e36freak> erm
[09:05:44] <koala_man> nvz: matches=( "$dirname".* )
[09:05:53] <e36freak> !faq dir
[09:05:53] <greybot> https://mywiki.wooledge.org/BashFAQ/004 -- How can I check whether a directory is empty or not?  How do I check for any *.mpg files, or count how many there are?
[09:05:58] <nvz> ah right.. dirname
[09:06:04] <e36freak> modify that
[09:06:21] <TenochSLB> jaggz, e36freak , i was trying $i ${i} "${i}", but forgot what you guys suggested...
[09:06:23] <nvz> lemme see if I can try that
[09:06:43] <TenochSLB> e36freak, it worked, thanks.
[09:06:46] <e36freak> TenochSLB: that last one should work fine, but the braces aren't needed
[09:06:56] <e36freak> "${file}" is equivalent to "$file"
[09:07:02] <e36freak> you can use either, the quotes are the important part
[09:07:06] *** Quits: ElPresidenteP (~ElPreside@2600:1700:3d10:4870:d805:f6bc:66b1:7d9f) (Client Quit)
[09:07:06] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:d805:f6bc:66b1:7d9f) (Client Quit)
[09:07:17] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:d805:f6bc:66b1:7d9f)
[09:11:07] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 256 seconds)
[09:11:14] * nvz shrugs
[09:11:21] *** Quits: foul_owl (~kerry@192.145.116.101) (Ping timeout: 256 seconds)
[09:12:29] <nvz> I think I need find here
[09:12:48] <e36freak> if it needs to be recursive you'll either need find or globstar
[09:13:04] <e36freak> or i guess a recursive function (or iterative with a stack) but that's making it harder than it has to be
[09:14:07] <e36freak> if it's just one layer of subdirs then a for loop should be fine
[09:17:39] <mannequin> nvz: !!
[09:17:47] <mannequin> nvz: wsky here
[09:18:39] <wiscii> no
[09:19:59] *** Quits: jiploadi` (~user@103.230.104.5) (Remote host closed the connection)
[09:20:36] <nvz> find . -maxdepth 1 -type d | while IFS= read -r dir; do dirname=$(basename "$dir"); filename=$(find . -maxdepth 1 -type f -name "$dirname".*); if [[ ! "$filename" ]]; then echo "$dirname"; fi; done
[09:20:51] <nvz> idk something like that for example shows me dirs which don't have files named after them
[09:20:57] <nvz> but isn't real flexible :P
[09:21:22] <nvz> but I guess works good enough for me to get the general idea and suit to taste
[09:21:33] <phy1729> for d in */; do ...
[09:21:52] <nvz> yeah thats what I was doing initially but then was toying with find
[09:22:02] <nvz> and for some reason used it in both places
[09:22:42] *** Joins: jiploading (~user@user/vjipac)
[09:23:12] <wiscii> nvz: do you have `set -e' in there ?
[09:23:36] <phy1729> a=("$d${d%/}".*)  then test the length
[09:23:38] <e36freak> for d in */; do files=("$d/${d%/}".*); ((${#files[@]})) || printf 'No file match for dir %s\n' "$d"; done
[09:23:50] <e36freak> oh yeah i have an extra / in there but it shouldn't matter
[09:23:57] <e36freak> for d in */; do files=("$d${d%/}".*); ((${#files[@]})) || printf 'No file match for dir %s\n' "$d"; done
[09:24:06] *** Quits: _mikey (~mikey@user/mikey/x-4335048) (Ping timeout: 276 seconds)
[09:24:17] <e36freak> same method in the faq i linked...
[09:24:22] *** Joins: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053)
[09:24:45] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Ping timeout: 276 seconds)
[09:25:37] *** Joins: foul_owl (~kerry@23.82.194.141)
[09:25:37] *** Quits: timj (~timj@user/timj) (Ping timeout: 240 seconds)
[09:25:50] *** Joins: hB7drf (~hB7drf@158.51.78.121)
[09:26:40] <nvz> wiscii: nope
[09:28:13] *** Joins: k8yun (~k8yun@198-48-158-40.cpe.pppoe.ca)
[09:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:30:20] <k8yun> trying to run ssh when my bash in Docker Container starts but not sure how to do it.  I looked for the file `/etc/rc.local` but does not exist.  Also typed in `crontab -e` to register `@boot service ssh restart` but crontab is not installed.
[09:31:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[09:31:06] <k8yun> what's the cleaniest way to run ssh restart command upon container boot that will run bash?
[09:31:14] <k8yun> install crontab?
[09:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:31:17] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[09:32:05] *** Joins: apos (~apos@gateway/tor-sasl/apos)
[09:32:10] <k8yun> *@reboot
[09:32:34] <gnoo> put that in a profile file? info "(bash) Bash Startup Files"
[09:32:41] <grawity> does your docker container have an init system?
[09:32:47] <grawity> like, one that would be starting crond in the first place?
[09:32:53] <grawity> that's what starts sshd and other *d's as well.
[09:34:49] <wiscii> is `systemd' on that list ?
[09:35:09] *** Quits: hB7drf (~hB7drf@158.51.78.121) (Ping timeout: 256 seconds)
[09:35:29] *** Joins: hB7drf (~hB7drf@158.51.78.121)
[09:36:08] <k8yun> gnoo: into which user's profile? when I go `docker exec -it ubuntu bash`, it logs into root
[09:36:45] <k8yun> grawity: how do I check if I have init system?
[09:36:57] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Ping timeout: 240 seconds)
[09:37:23] <grawity> dunno, I don't docker
[09:37:23] <gnoo> root's. /root/.bash_profile. init system might be a better way tho
[09:37:35] <grawity> but yes, if it has systemd, then it's systemd's job
[09:37:36] <k8yun> sorry, this question I am asking is a bit docker related, but also bash related so I have fired the question to both #bash and #docker channels.
[09:37:40] <grawity> or similarly upstart's or openrc's
[09:37:56] <gnoo> k8yun: in the container, try ps 1
[09:38:13] <k8yun> `1 pts/0    Ss+    0:00 bash`
[09:38:17] <k8yun> (output)
[09:38:40] <gnoo> you don't, i think. so put that in the profile
[09:39:19] *** Joins: bluedust (~bluedust@59.99.182.45)
[09:39:20] <k8yun> how do I check if I have systemd? (sorry)
[09:39:38] <k8yun> gnoo: ok
[09:39:39] <gnoo> it would've been pid 1 but pid 1 is bash so you don't have it
[09:40:01] <k8yun> let me put that in the profile at `/root/.profile` then
[09:40:21] *** Quits: hB7drf (~hB7drf@158.51.78.121) (Remote host closed the connection)
[09:40:31] *** Joins: timj (~timj@user/timj)
[09:40:45] *** Joins: hB7drf (~hB7drf@158.51.78.121)
[09:41:17] <k8yun> didn't work
[09:43:01] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[09:43:04] <k8yun> works when I put it in the /root/.bashrc
[09:43:11] <k8yun> gnoo: thank you
[09:44:24] <gnoo> k8yun: better put that in /root/.bash_profile instead
[09:45:23] <grawity> why not start a full-OS container instead
[09:45:26] <gnoo> .bashrc is read everytime bash is called, .bash_profile is used only when invoked as a login shell
[09:45:31] <grawity> if you want a container to ssh into
[09:45:48] <k8yun> https://termbin.com/bnkn
[09:45:56] <k8yun> I only have .bashrc and .profile
[09:46:19] <gnoo> you can create .bash_profile
[09:46:24] <grawity> that doesn't stop you from creating new files, such as .bash_profile ... but if you have .profile already, that should do the job as well
[09:46:29] *** Quits: sinaowolabi (~SinaOwola@160.152.112.183) (Ping timeout: 256 seconds)
[09:46:30] <larryv> ".bashrc is read everytime bash is called" <- this is false
[09:46:43] <gnoo> as an interactive shell
[09:46:48] <grawity> though in your case I think bash is run in non-login mode, so it will look for bashrc rather than profile anyway?
[09:46:51] <gnoo> unless you tell it to not read it
[09:47:23] *** Quits: kurahaupo_ (~kurahaupo@pa49-197-103-160.pa.qld.optusnet.com.au) (Ping timeout: 256 seconds)
[09:47:30] <larryv> as a interactive *non-login* shell
[09:48:44] *** Joins: kurahaupo_ (~kurahaupo@115.69.27.211)
[09:49:53] *** Quits: hB7drf (~hB7drf@158.51.78.121) (Remote host closed the connection)
[09:50:07] *** Joins: hB7drf (~hB7drf@158.51.78.121)
[09:50:36] *** Quits: hB7drf (~hB7drf@158.51.78.121) (Remote host closed the connection)
[09:50:53] *** Joins: hB7drf (~hB7drf@103.107.8.207)
[09:52:23] *** Quits: hB7drf (~hB7drf@103.107.8.207) (Remote host closed the connection)
[09:55:01] *** Quits: bluedust (~bluedust@59.99.182.45) (Remote host closed the connection)
[09:59:51] *** Quits: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com) (Ping timeout: 256 seconds)
[10:00:15] *** Quits: jiploading (~user@user/vjipac) (Remote host closed the connection)
[10:00:19] *** Joins: ekathva (~ekathva@2001:999:50:cab1:b7e8:130b:c792:9fd)
[10:03:21] *** Joins: masoudd (~masoudd@user/masoudd)
[10:03:35] *** Joins: Mo (~Mo@dynamic-077-010-142-006.77.10.pool.telefonica.de)
[10:05:18] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:06:48] <kurahaupo> gnoo: It's a good idea to read .bashrc from .bash_profile, but it's not compulsory.
[10:06:57] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[10:07:40] <kurahaupo> gnoo: Unless your .profile or .bash_profile directly or indirectly reads .bashrc, the latter won't be read for a login shell.
[10:10:53] *** Quits: sandb0y (~pirate@user/sandb0y) (Quit: Time for another great escape)
[10:12:22] *** Joins: han-solo (~hanish@user/han-solo)
[10:13:02] <k8yun> Just to give more info on this (though it seems closed case), the container is set to call `bash` upon container startup.
[10:13:51] <kurahaupo> k8yun: with or without '-' (dash) at the start of argv[0] ?
[10:14:15] <k8yun> without
[10:14:43] <k8yun> `"Cmd": [ "bash" ]` is in the Config
[10:15:25] <wiscii> armmageddon
[10:16:20] <wiscii> like Y2K xb
[10:16:27] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[10:17:11] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:d805:f6bc:66b1:7d9f) (Quit: Leaving)
[10:17:27] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:d805:f6bc:66b1:7d9f)
[10:17:44] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:d805:f6bc:66b1:7d9f) (Read error: Connection reset by peer)
[10:17:57] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:d805:f6bc:66b1:7d9f)
[10:19:26] <gnoo> kurahaupo: thanks. i have that line so always forget about it :-P
[10:19:49] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[10:23:05] *** Joins: bluedust (~bluedust@59.99.182.45)
[10:23:54] *** Quits: nunggu (~q@user/nunggu) (Ping timeout: 276 seconds)
[10:26:33] *** Joins: nunggu (~q@user/nunggu)
[10:31:21] *** Joins: mat001 (~mat001@c-69-181-155-247.hsd1.ca.comcast.net)
[10:32:31] *** Joins: csm3105 (~csm3105@31.177.97.44)
[10:32:39] *** Quits: TenochSLB (~Tenochyy@2600:1700:9780:19c0:1ebf:ceff:fe01:4aa8) (Quit: Leaving)
[10:33:30] *** Quits: chasmo77 (~chas77@c-71-193-246-4.hsd1.or.comcast.net) (Quit: It's just that easy)
[10:33:58] *** fling is now known as swing
[10:35:47] *** Quits: chenqisu1 (~chenqisu1@183.217.200.249) (Ping timeout: 256 seconds)
[10:35:52] *** Quits: csm3105 (~csm3105@31.177.97.44) (Client Quit)
[10:36:51] *** Quits: mat001 (~mat001@c-69-181-155-247.hsd1.ca.comcast.net) (Remote host closed the connection)
[10:37:26] *** Joins: mat001 (~mat001@72.28.108.216)
[10:38:33] *** Quits: A|an (~Alan@173.218.175.171) (Quit: A|an)
[10:40:12] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:540b:bd79:8d25:836) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:40:34] *** Joins: mat001_ (~mat001@72.28.108.216)
[10:41:07] *** Quits: dreamon (~dreamon@p54b14d36.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[10:41:18] *** Quits: mat001 (~mat001@72.28.108.216) (Read error: Connection reset by peer)
[10:42:48] *** Quits: yagamilito (~yagamilit@2601:642:4600:34b0:d8b3:da0c:92f4:cfa8) (Quit: Client closed)
[10:45:25] *** Joins: Everything (~Everythin@37.115.210.35)
[10:45:57] <geirha> k8yun: It sounds like you want a virtual machine rather than a docker container...
[10:47:55] *** Quits: mat001_ (~mat001@72.28.108.216) (Ping timeout: 256 seconds)
[10:48:58] <k8yun> why do you say that?
[10:50:32] *** Quits: _mikey (~mikey@user/mikey/x-4335048) (Quit: WeeChat 3.4)
[10:50:57] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[10:51:27] *** Quits: kurahaupo_ (~kurahaupo@115.69.27.211) (Read error: Connection reset by peer)
[10:53:52] <geirha> You go the trouble of installing an ssh server inside it, which only makes sense if you intend to use it as some kind of server
[10:54:22] <geirha> in which case you should opt for a VM instead as that will survive an OS reboot, among other things
[10:57:18] *** Joins: fef (~thedawn@user/thedawn)
[10:58:16] *** Parts: Everything (~Everythin@37.115.210.35) ()
[11:00:00] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[11:00:15] *** Joins: unop (~unop@195.91.14.193)
[11:02:18] *** Quits: luckiswithme (~luckiswit@149.167.139.151) (Remote host closed the connection)
[11:02:45] *** Quits: rcernin (~rcernin@124.190.132.36) (Ping timeout: 256 seconds)
[11:03:13] *** Quits: w0ng (~w0ng@103.212.227.166) (Quit: w0ng)
[11:05:23] *** Joins: w0ng (~w0ng@185.218.127.62)
[11:07:46] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 260 seconds)
[11:08:02] *** Joins: sinaowolabi_ (~SinaOwola@160.152.112.183)
[11:08:11] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[11:08:51] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[11:09:08] *** Joins: rcernin (~rcernin@124.190.132.36)
[11:10:42] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[11:11:36] *** Joins: cityape (~cityape@user/cityape)
[11:12:12] *** Joins: freep (~freepppp@46.246.189.172.dsl.dyn.forthnet.gr)
[11:13:30] *** Joins: cityape_ (~cityape@user/cityape)
[11:15:02] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[11:15:25] *** Joins: totenkoph (~scythe@user/totenkoph)
[11:15:39] *** Joins: unop (~unop@195.91.14.193)
[11:16:21] *** Quits: cityape (~cityape@user/cityape) (Ping timeout: 256 seconds)
[11:17:43] *** Quits: rcernin (~rcernin@124.190.132.36) (Ping timeout: 256 seconds)
[11:20:07] *** Quits: cityape_ (~cityape@user/cityape) (Quit: Part & Quit)
[11:20:20] *** Joins: luckiswithme (~luckiswit@149.167.139.151)
[11:20:43] *** Joins: pj (~pj@ghettoforge/pj)
[11:21:08] *** Quits: luckiswithme (~luckiswit@149.167.139.151) (Remote host closed the connection)
[11:26:37] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 240 seconds)
[11:28:32] *** Joins: tobybl (~tobybl@214.242.200.146.dyn.plus.net)
[11:28:33] *** Joins: n4dir (~user@i577BC8E6.versanet.de)
[11:31:30] *** Joins: milkt_ (~debian@gateway/tor-sasl/milkt)
[11:34:06] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Ping timeout: 276 seconds)
[11:34:33] *** Joins: MajorBiscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e)
[11:37:48] <k8yun> this is a test container, not for production, just testing some stuff but to test the whole thing, I need the sshd running upon reboot, but I agree, yes, VM would be more suitable for production use.
[11:38:46] *** Quits: k8yun (~k8yun@198-48-158-40.cpe.pppoe.ca) (Quit: Leaving)
[11:39:39] *** Quits: ekathva (~ekathva@2001:999:50:cab1:b7e8:130b:c792:9fd) (Quit: Leaving)
[11:39:53] *** Joins: ekathva (~ekathva@2001:999:50:cab1:b7e8:130b:c792:9fd)
[11:40:38] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[11:40:53] *** Joins: unop (~unop@195.91.14.193)
[11:44:39] *** Joins: rendar (~rendar@user/rendar)
[11:48:20] *** Joins: yustin (~yustin@user/yustin)
[11:49:52] *** Joins: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de)
[11:52:43] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:52:50] *** Quits: loganlee[gnu] (~Thunderbi@user/loganlee) (Quit: loganlee[gnu])
[11:53:10] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[11:55:27] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:18fa:76fc:cf70:5c29)
[11:55:36] *** Joins: Kyuzo68 (~Kyuzo@host-80-116-112-98.pool80116.interbusiness.it)
[11:59:22] *** Quits: jaggz (~jaggz@user/jaggz) (Ping timeout: 250 seconds)
[12:01:57] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:18fa:76fc:cf70:5c29) (Ping timeout: 250 seconds)
[12:02:46] *** Joins: jaggz (~jaggz@user/jaggz)
[12:02:51] *** Quits: MajorBiscuit (~MajorBisc@2a02:a461:129d:1:193d:75d8:745d:e91e) (Ping timeout: 245 seconds)
[12:04:47] *** Joins: MajorBiscuit (~MajorBisc@c-001-017-058.client.tudelft.eduvpn.nl)
[12:05:54] *** Joins: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp)
[12:06:42] *** Joins: rcernin (~rcernin@124.190.132.36)
[12:07:28] *** Joins: ali (~ali@165.180-247-81.adsl-dyn.isp.belgacom.be)
[12:08:41] *** Joins: OlCe (~user@amontsouris-156-1-23-81.w92-151.abo.wanadoo.fr)
[12:10:56] *** Quits: foul_owl (~kerry@23.82.194.141) (Read error: Connection reset by peer)
[12:15:00] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Client closed)
[12:15:09] *** Joins: gabriele (~gabriele@user/gabriele)
[12:17:18] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[12:17:56] *** Joins: unop (~unop@195.91.14.193)
[12:20:39] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[12:20:55] *** Joins: unop (~unop@195.91.14.193)
[12:25:49] *** Joins: clarkk (~clarkk@2a00:23c7:d106:2600:941:80d2:e315:5046)
[12:28:43] *** Joins: foul_owl (~kerry@192.145.116.33)
[12:30:22] *** Parts: jaggz (~jaggz@user/jaggz) (Leaving)
[12:30:23] *** Quits: Kyuzo68 (~Kyuzo@host-80-116-112-98.pool80116.interbusiness.it) (Quit: Konversation terminated!)
[12:32:47] *** Joins: shad (~shad@user/shad)
[12:32:56] *** Quits: shad (~shad@user/shad) (Client Quit)
[12:33:18] *** Joins: shad (~shad@user/shad)
[12:39:26] *** Joins: lavaball (felix@31.204.155.215)
[12:40:30] *** Quits: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net) (Quit: dtux)
[12:47:57] *** Quits: bluedust (~bluedust@59.99.182.45) (Read error: Connection reset by peer)
[12:48:32] *** Joins: bluedust (~bluedust@103.160.194.110)
[12:50:39] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 256 seconds)
[12:51:12] *** Joins: iomari891 (~iomari891@105.112.138.38)
[12:52:39] *** Quits: ali (~ali@165.180-247-81.adsl-dyn.isp.belgacom.be) (Ping timeout: 250 seconds)
[12:52:46] *** Joins: taupiqueur (~taupiqueu@235.145.204.77.rev.sfr.net)
[12:53:27] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[12:55:21] *** Joins: taupiqueur_ (~taupiqueu@221.246.204.77.rev.sfr.net)
[12:55:29] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[12:57:21] *** Joins: virtx (~virtx@host-87-6-152-107.retail.telecomitalia.it)
[12:57:25] <virtx> hi
[12:57:26] *** Quits: taupiqueur (~taupiqueu@235.145.204.77.rev.sfr.net) (Ping timeout: 260 seconds)
[12:57:58] <virtx> how can I negate this regex? awk 'BEGINFILE{f=0} /XXX/{f=1} f && f{print FILENAME; nextfile}' *  , I want to print all the files that does NOT match XXX
[12:58:55] *** Quits: n4dir (~user@i577BC8E6.versanet.de) (Remote host closed the connection)
[13:00:05] <Soliton> !/XXX/
[13:00:25] <Soliton> the f flag seems useless.
[13:04:33] *** Joins: cityape (~cityape@user/cityape)
[13:06:24] *** Quits: cityape (~cityape@user/cityape) (Client Quit)
[13:08:18] <grawity> I think it does have a purpose in that example, only it doesn't seem to do what's described... it prints lines *starting with* the XXX match, not only those which matched
[13:09:06] <Soliton> the only print statement prints the filename.
[13:09:57] *** Quits: iliv (~iliv@user/iliv) (Ping timeout: 240 seconds)
[13:10:00] <Soliton> flag is set when nextfile is called only to be reset in BEGINFILE (assuming that's a thing).
[13:10:39] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[13:11:14] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[13:11:15] <grawity> ah, right
[13:11:17] <Soliton> it might be that the goal is to print the filename only if XXX does not match anywhere in the file. then you need a flag.
[13:11:31] *** Joins: iliv (~iliv@93-77-147-152.lvv.volia.net)
[13:12:21] <Soliton> since this is probably GNU awk anyway might as well use GNU grep -L then.
[13:13:18] *** Quits: taupiqueur_ (~taupiqueu@221.246.204.77.rev.sfr.net) (Ping timeout: 260 seconds)
[13:15:43] *** Joins: ali (~ali@165.180-247-81.adsl-dyn.isp.belgacom.be)
[13:16:29] <virtx> TIL: grep -L , this is what I need, list of all files that don't match the string XXX
[13:17:16] <emanuele6> if XXX is a string, then -FL
[13:19:50] *** Quits: rcernin (~rcernin@124.190.132.36) (Quit: WeeChat 3.4)
[13:22:16] *** Joins: lockywolf_ (~lockywolf@public.lockywolf.net)
[13:26:59] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Quit: taupiqueur)
[13:27:57] <geirha> This should be equivalent to grep -L, I think   awk 'BEGIN{ for (i = 1; i < ARGC; ++i) if (ARGV[i] !~ /^[[:alpha:]_][[:alnum:]_]*=/) files[ARGV[i]];} /XXX/{delete files[FILENAME]} END { for (f in files) print f }'
[13:29:42] <geirha> though needs C locale for that regex to correctly match variable assignments
[13:29:50] <Soliton> could also save FILENAME on FNR==1.
[13:30:26] <geirha> yeah, but that would miss empty files
[13:30:39] *** Joins: Adoi (~Adoi@user/adoi)
[13:30:48] <Soliton> true.
[13:34:58] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[13:37:51] *** Joins: tercaL (~tercaL@user/tercal)
[13:40:06] *** Joins: oxymoron93 (~oxymoron9@212.62.38.106)
[13:40:13] *** Joins: irl25519 (~irl25519@2a02:c7f:1ec1:4000:1aed:40af:a9c3:1445)
[13:40:17] *** Quits: masoudd (~masoudd@user/masoudd) (Ping timeout: 240 seconds)
[13:40:18] *** Quits: irl25519 (~irl25519@2a02:c7f:1ec1:4000:1aed:40af:a9c3:1445) (Remote host closed the connection)
[13:52:18] *** Joins: chenqisu1 (~chenqisu1@183.217.200.249)
[13:52:57] *** Quits: Jong (~Jong@2620:10d:c090:400::5:d8b2) (Ping timeout: 240 seconds)
[13:54:09] *** Quits: iliv (~iliv@93-77-147-152.lvv.volia.net) (Changing host)
[13:54:09] *** Joins: iliv (~iliv@user/iliv)
[14:00:52] *** Joins: thyriaen (~thyriaen@simnet-nat-pool-185-130-54-208.stargrpns.pp.ua)
[14:02:26] *** Quits: shad (~shad@user/shad) (Ping timeout: 250 seconds)
[14:02:34] *** Joins: masoudd (~masoudd@user/masoudd)
[14:03:49] *** Quits: bluedust (~bluedust@103.160.194.110) (Remote host closed the connection)
[14:05:41] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 256 seconds)
[14:06:28] *** Quits: irc_user (uid423822@id-423822.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[14:07:30] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Ping timeout: 276 seconds)
[14:08:08] *** Joins: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk)
[14:08:32] *** Joins: shad (~shad@user/shad)
[14:09:20] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[14:09:22] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.4)
[14:09:31] *** Joins: SWISSMANN (~SWISSMANN@2001-4dd2-5e3c-0-df30-62d1-7594-7534.ipv6dyn.netcologne.de)
[14:11:14] *** Joins: Jong (~Jong@2620:10d:c090:400::5:6b6c)
[14:14:14] *** Joins: hB7drf (~hB7drf@113.92.131.5)
[14:14:49] *** Joins: apos (~apos@gateway/tor-sasl/apos)
[14:15:03] *** Quits: hB7drf (~hB7drf@113.92.131.5) (Changing host)
[14:15:03] *** Joins: hB7drf (~hB7drf@user/hB7drf)
[14:18:11] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[14:19:50] *** Joins: timm (~timm@user/timm)
[14:20:25] *** Quits: hB7drf (~hB7drf@user/hB7drf) (Ping timeout: 256 seconds)
[14:20:45] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[14:20:55] *** Joins: hB7drf (~hB7drf@113.92.152.108)
[14:21:23] *** Quits: hB7drf (~hB7drf@113.92.152.108) (Changing host)
[14:21:23] *** Joins: hB7drf (~hB7drf@user/hB7drf)
[14:25:17] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[14:26:35] *** Joins: bluedust (~bluedust@103.160.194.110)
[14:26:59] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 256 seconds)
[14:28:17] *** Quits: bluedust (~bluedust@103.160.194.110) (Remote host closed the connection)
[14:28:20] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[14:29:28] *** Joins: situ (~situ@ip-89-176-145-74.net.upcbroadband.cz)
[14:30:51] *** Quits: dmvrtx (dmvrtx@2a01:7e01::f03c:92ff:fefd:6ed6) (Quit: ZNC 1.7.5+deb4 - https://znc.in)
[14:32:05] *** Quits: foul_owl (~kerry@192.145.116.33) (Ping timeout: 256 seconds)
[14:32:48] *** Quits: virtx (~virtx@host-87-6-152-107.retail.telecomitalia.it) (Quit: Client closed)
[14:32:56] *** Joins: dmvrtx (~dmvrtx@znc.dmvrtx.me)
[14:34:09] *** Joins: joilerv (~joilerv@80.169.238.242)
[14:35:09] *** Quits: hB7drf (~hB7drf@user/hB7drf) (Ping timeout: 256 seconds)
[14:35:38] *** Quits: joilerv (~joilerv@80.169.238.242) (Client Quit)
[14:36:10] *** Joins: lavaball (felix@31.204.155.215)
[14:36:59] *** Joins: bodiccea (~bodiccea@user/bodiccea)
[14:38:19] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 256 seconds)
[14:38:19] *** Quits: OlCe (~user@amontsouris-156-1-23-81.w92-151.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[14:40:15] *** Joins: joilerv (~joilerv@80.169.238.242)
[14:41:15] *** Quits: joilerv (~joilerv@80.169.238.242) (Client Quit)
[14:41:41] *** Joins: seninha (~seninha@user/seninha)
[14:42:27] *** Joins: joilerv (~joilerv@80.169.238.242)
[14:42:59] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[14:43:10] *** Quits: joilerv (~joilerv@80.169.238.242) (Client Quit)
[14:43:37] *** Joins: unop (~unop@195.91.14.193)
[14:44:36] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[14:45:41] *** Quits: polve (~polve@user/polve) (Ping timeout: 256 seconds)
[14:46:37] *** Joins: foul_owl (~kerry@23.82.194.143)
[14:48:07] *** Joins: polve (~polve@user/polve)
[14:49:19] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[14:50:31] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[14:54:06] *** Joins: thevishy (~Nishant@2405:201:f005:c007:f886:9bab:89ec:ff42)
[14:54:19] *** Joins: f00 (~timm@user/timm)
[14:55:42] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.3)
[14:59:10] *** Joins: masoudd_ (~masoudd@user/masoudd)
[14:59:46] *** Joins: libc (~archer@user/tessio)
[14:59:52] <libc> is there equivalent in posix to =~ ?
[15:00:13] <libc> i can't think of a way to accomplish this
[15:00:21] <grawity> I think `expr foo : bar` is POSIX?
[15:00:23] <emanuele6> !xy
[15:00:23] <greybot> http://mywiki.wooledge.org/XyProblem -- "I want to do X, but I'm asking how to do Y..."
[15:00:58] <emanuele6> =~ matches a ERE pattern and saves the capture in BASH_REMATCH.
[15:01:13] <depesz> hi. not sure if it's bash question, but:  `wc -c <<<''` gives 1. which is because there is \n added. is there anywhere documented why there is \n added ?
[15:01:15] <emanuele6> what do you need it for? what is the goal?
[15:01:28] <libc> thanks grawity
[15:01:51] <libc> just to know if pattern exist in a strring
[15:01:52] <izabera> depesz: "Here Strings" in man bash
[15:02:22] <izabera> well i suppose that doesn't document /why/
[15:02:27] <emanuele6> greybot: expr uses BREs, not EREs, and you might as well use grep for that, injecting strings into expr is insane
[15:02:32] <emanuele6> grawity: ^
[15:02:50] <grawity> hm, do you actually need regex or just a literal pattern?
[15:03:00] <emanuele6> that is what i was asking
[15:03:05] *** Quits: masoudd (~masoudd@user/masoudd) (Ping timeout: 250 seconds)
[15:03:47] <emanuele6> just use a case if you need check match a pattern that doesn't have to be an ERE.
[15:04:07] <emanuele6> =~ does many things so the question is weird
[15:04:14] <depesz> hmm .. did izabera answer and part? my irc no longer sees them :(
[15:04:59] <libc> i just need to match a substring
[15:05:09] <libc> if it's there or not
[15:05:12] <emanuele6> libc: see? !xy
[15:05:14] <emanuele6> use case
[15:05:28] <emanuele6> case $var in *substr*) do_something ; esac
[15:05:44] <emanuele6> or:   case $var in *"$substr"*) do_something ; esac
[15:06:14] <emanuele6> depesz: that is what <<< does, see the manual
[15:06:39] <emanuele6> depesz:    LESS='+/Here Strings' man bash
[15:07:04] <depesz> emanuele6: thanks.
[15:07:16] <emanuele6> [n]<<<word    The  result  is supplied as a single string, with a newline appended, to the command on its standard input (or file descriptor n if n is specified).
[15:07:23] *** Joins: arinov_ (~arinov@213.194.126.155)
[15:07:47] <grawity> the "why" is probably that <<< imitates what echo foo | bar does
[15:08:13] <emanuele6> it imitates   <<EOF
[15:08:15] <emanuele6> word
[15:08:17] <emanuele6> EOF
[15:08:20] *** Quits: timm (~timm@user/timm) (Quit: leaving)
[15:09:19] <emanuele6> well, <<< "$var"  imitates <<EOF    $var    EOF at least
[15:09:31] <depesz> weird. my irc sees emanuele6, but doesn't see izabera *NOR* grawity ?!
[15:09:43] <izabera> what
[15:09:45] <emanuele6> how do you know
[15:09:46] <izabera> i'm here
[15:10:09] <depesz> emanuele6: I can tab-complete your nick. but not theirs. and I see you in nicks window
[15:10:26] <emanuele6> there are 799 users in this channel..
[15:10:36] <depesz> anyway - I see it documented that it does that, it doesn't say why
[15:10:48] <depesz> my irc client sees 401 users in here. WTF ?!
[15:10:52] <emanuele6> what does that even mean?
[15:10:59] *** Joins: grawity_ (~grawity@193.219.181.219)
[15:11:05] <emanuele6> it does that because that is what it does
[15:11:05] <izabera> depesz: it's because a lot of things expect text files, which are a list of lines (all terminated by a \n)
[15:11:06] *** Quits: yitz (~yitz@exercism/yitz) (Ping timeout: 268 seconds)
[15:11:06] *** Quits: grawity_ (~grawity@193.219.181.219) (Client Quit)
[15:11:28] <izabera> am i invisible
[15:11:45] *** Quits: arinov_ (~arinov@213.194.126.155) (Ping timeout: 256 seconds)
[15:11:56] <grawity> depesz: what client are you actually using?
[15:12:17] <grawity> and does '/quote names #bash' help
[15:12:18] <emanuele6> CTCP reply from depesz: VERSION Quassel IRC v0.13.1 (dist-3778a12) (version date 2019-02-14 19:38:57Z) -- https://www.quassel-irc.org
[15:12:19] <depesz> quassel
[15:12:44] <emanuele6> now you see grawity?
[15:12:46] <depesz> it did, grawity!. thanks a lot.
[15:12:56] <depesz> i do, and i can tab-comple izabera too ...
[15:12:58] <grawity> does sound like a bug
[15:13:13] *** Parts: grawity (grawity@star.nullroute.lt) (bicycle)
[15:13:14] *** Joins: grawity (grawity@star.nullroute.lt)
[15:13:15] <emanuele6> well, the client version is 3 years old
[15:13:21] <grawity> does it still show me now?
[15:14:06] <depesz> grawity: yes, it does :)
[15:14:34] *** Quits: thyriaen (~thyriaen@simnet-nat-pool-185-130-54-208.stargrpns.pp.ua) (Quit: Leaving)
[15:15:33] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[15:15:48] *** Joins: unop (~unop@195.91.14.193)
[15:17:13] *** Quits: fatal (~0x00@user/fatal) (Remote host closed the connection)
[15:17:27] *** Joins: fatal (~0x00@user/fatal)
[15:19:17] *** Joins: Achylles (~Achylles_@2804:431:d724:1728:f3b4:d659:13ba:d509)
[15:19:45] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 250 seconds)
[15:20:37] <Achylles> is there a bash command to show words with a specific number of letters?
[15:20:59] <emanuele6> ?
[15:21:05] <geirha> Ah, today's wordle question
[15:21:07] <Achylles> I know there is a "look" command
[15:21:27] <Achylles> e.g ->  look love
[15:22:17] <Achylles> but, it gives me the love derivatives with words with various number of letters...
[15:23:13] <Achylles> I want, if possible to issue a command, telling it to show only words with 4, 5, 6, et. al., letters...
[15:23:21] <geirha> grep '^.....$'   grep -x .....   grep '^.\{5\}$'    grep -E '^.{5}$'
[15:23:37] <geirha> awk 'length == 5'
[15:23:43] <emanuele6> grep -x '.\{5\}'
[15:24:03] <Achylles> You are all wizards...
[15:24:23] <Achylles> but, awk, grep, against what?
[15:24:28] <emanuele6> look
[15:24:43] <emanuele6> or the dictionary
[15:24:46] <Achylles> with pipe?
[15:25:19] <geirha> # seq 10 | grep -x .....
[15:25:21] <emanuele6> either figure out what dictionary file look is using and run grep on that
[15:25:21] <shbot> geirha: three
[15:25:21] <shbot> geirha: seven
[15:25:21] <shbot> geirha: eight
[15:25:41] <emanuele6> or do something like   look '?' | grep -x .....
[15:26:37] <Achylles> emanuele6: do you mean that each dot is a letter?
[15:26:52] <geirha> We should invent a new competitor to regex; wordle-expressions
[15:27:18] <emanuele6> Achylles: yeah
[15:27:37] <Achylles> https://github.com/conradludgate/wordle
[15:27:43] <depesz> Achylles: are you on linux?
[15:27:53] <emanuele6> you could also use   grep '^.....$'   grep -x .....   grep '^.\{5\}$'    grep -E '^.{5}$'    awk 'length == 5'   grep -x '.\{5\}'   grep -Ex '.{5}'
[15:27:56] <depesz> Achylles: check /usr/share/dict/
[15:28:00] <emanuele6> either of the commands above
[15:28:19] <geirha> we'll borrow syntactical characters from regex, but make sure to give them completely different meanings in wordle-expressions
[15:28:34] <Achylles> of course... Yay! Debian
[15:30:07] <Achylles> I'd like to know at least 1/5 of the wizardry in this channel...
[15:30:43] *** Quits: clarkk (~clarkk@2a00:23c7:d106:2600:941:80d2:e315:5046) (Quit: Leaving)
[15:30:48] <emanuele6> same
[15:30:48] <Earnestly> Achylles: It's all in wooledge website from topic
[15:31:49] <Achylles> although I do not like the word wizard, I prefer sage...
[15:32:41] <emanuele6> sourcerer
[15:32:49] <mannequin> with a wand
[15:33:13] <emanuele6> ଘ(੭˃ᴗ˂)━☆ﾟ.*･｡ﾟ
[15:33:17] *** Quits: ali (~ali@165.180-247-81.adsl-dyn.isp.belgacom.be) (Ping timeout: 256 seconds)
[15:33:17] <Achylles> nah!
[15:33:17] *** Quits: xizhendu_ (~xizhendu@240e:305:7380:8900:395b:be7:2347:dfa7) (Ping timeout: 240 seconds)
[15:33:58] <Achylles> I will consult my Emacs to get a better word...
[15:35:38] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 260 seconds)
[15:36:07] *** Quits: shad (~shad@user/shad) (Ping timeout: 256 seconds)
[15:38:21] *** Joins: xx (~xx@user/xx)
[15:38:23] <NRK> (∩｀-´)⊃━☆ﾟ.*･｡ﾟ
[15:38:35] <depesz> Achylles: curl -s https://raw.githubusercontent.com/conradludgate/wordle/main/src/words.rs | grep -oE '"[a-z]{5}"' | cut -b 2-6 | sort -uV > wordle.list
[15:40:22] *** Quits: polve (~polve@user/polve) (Ping timeout: 250 seconds)
[15:42:39] <Achylles> depesz: this one is mind-blowing!
[15:42:57] *** Quits: callq (~callq@157.41.72.120) (Ping timeout: 240 seconds)
[15:43:05] <Earnestly> Why -V?
[15:43:09] <emanuele6> yeah
[15:43:29] <emanuele6> what's -V for?
[15:43:56] <emanuele6> default sort makes more sense
[15:44:43] <Soliton> cut -b is bytes not characters.
[15:45:24] <Achylles> now. I'd like to copy the answers I got here... Do I have to copy each one? Or there is an irc command to just copy them? I am in hexchat...
[15:45:36] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[15:45:36] <Soliton> (maybe doesn't matter for that list.)
[15:46:12] *** Joins: zeden (~zeden@user/zeden)
[15:46:22] *** Quits: zeden (~zeden@user/zeden) (Client Quit)
[15:46:27] <depesz> Earnestly: sorry, it's a thing I do. -V sorts properly lists where words are mixed with numbers.
[15:46:33] <djph> Achylles: ... highlight -> copy -> paste somewhere
[15:46:37] <depesz> not needed in here. -u also, really :)
[15:46:44] <emanuele6> depesz: also that -b thing
[15:46:59] <emanuele6> and having [a-z] instead of [[:lower:]]
[15:47:15] <depesz> emanuele6: what about -b? given the grep -b works just as fine. [a-z] is shorter than [[:lower:]]
[15:47:23] <emanuele6> no
[15:47:30] <depesz> ?
[15:47:32] <depesz> do tell
[15:47:37] <emanuele6> # locale -a | paste -s
[15:47:39] <shbot> emanuele6: C       POSIX   de_DE.utf8      en_US.utf8      et_EE.utf8      nb_NO.utf8
[15:47:43] <Achylles> djph: that turns out to be "by hand"
[15:47:54] <emanuele6> # LANG=en_US.utf8; echo '"caffè"' | grep -Eo '"[[:lower:]]{5}"'
[15:47:55] <shbot> emanuele6: no output
[15:48:02] <emanuele6> 5# export LANG=en_US.utf8; echo '"caffè"' | grep -Eo '"[[:lower:]]{5}"'
[15:48:04] <shbot> emanuele6: "caffè"
[15:48:08] <emanuele6> 5# export LANG=en_US.utf8; echo '"caffè"' | grep -Eo '"[a-z]{5}"'
[15:48:10] <shbot> emanuele6: "caffè"
[15:48:15] <Earnestly> curl -s https://raw.githubusercontent.com/conradludgate/wordle/main/src/words.rs | tr '[:punct:]' '\n' | awk '$1 == "str" {n=1; next} NF && n'
[15:48:16] <depesz> emanuele6: please note that I don't match *ANY* words - just specific things that don't contain any accents, from wordle list!
[15:48:28] <Earnestly> Hmm
[15:48:29] *** Joins: luckiswithme (~luckiswit@149.167.139.151)
[15:48:29] <djph> Achylles: yes.
[15:48:33] <emanuele6> depesz: but why are you making the code weird?
[15:48:43] <emanuele6> -b is bytes not characters
[15:48:51] <emanuele6> while [a-z] matches characters not bytes
[15:48:52] <Earnestly> -s doesn't help me too much with tr, so nevermind
[15:48:53] <depesz> emanuele6: because *FOR THIS CASE* it makes more sense.
[15:49:01] <depesz> for me.
[15:49:01] <emanuele6> but it is an inconsistency
[15:49:07] <emanuele6> you can just use -c in the cut
[15:49:08] <depesz> fine. whatever. sorry
[15:49:09] <Earnestly> (Also POSIX)
[15:49:34] <emanuele6> let's ignore [a-z] if you really don't want to talk about that
[15:49:50] *** Joins: polve (~polve@user/polve)
[15:49:53] <emanuele6> but at least -c to match characters instead of -b, i don't see why you would use -b
[15:50:16] <Earnestly> (The best solution is to just have some tool that understands rust AST and print strings from it)
[15:50:17] <depesz> dude. sorry. it was 5 second typed, one time only, one liner that worked on specific input. pleae don't kill me for using sometihng that was simply easier to type *FOR ME*
[15:50:35] <emanuele6> easier to type -b over -c?
[15:50:41] <emanuele6> i am just pointing it out
[15:50:45] <Earnestly> Hmm!
[15:51:10] <Earnestly> > error: the option `Z` is only accepted on the nightly compiler
[15:51:11] <Achylles> so, how to rephrase the curl command in a better way than depesz's?
[15:51:12] <Earnestly> wtf
[15:54:34] <depesz> Achylles: better for what? for this particular task? don't think you realistically can. it does what was needed. for general usecase - write rust code to include this, compile, and print out. to match emanuele6's  ideas: use: grep -oE '"[[:lower:]]{5}"' | cut -c 2-6 | sort
[15:55:09] <Earnestly> Achylles: This is one off, it doesn't matter
[15:56:15] <Achylles> depesz: Earnestly : et. al. thx for the wordle help
[15:56:58] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:d805:f6bc:66b1:7d9f) (Read error: Connection reset by peer)
[15:57:05] *** Quits: luva (~luva@146.70.62.252) (Ping timeout: 256 seconds)
[15:57:57] *** Joins: luva (~luva@146.70.62.238)
[15:58:30] <emanuele6> i was just pointing out that [a-z] would match character and -b bytes
[15:58:38] *** swing is now known as fling
[15:59:12] <emanuele6> well, since this is gnu grep, one thing you could do is use   grep -oP '(?<=")[[:lower:]]{5}(?=")' directly
[15:59:44] <Earnestly> curl -s https://raw.githubusercontent.com/conradludgate/wordle/main/src/words.rs | rustc -Z ast-json - 2> /dev/null | jq -r '.items[3].kind.fields[2].kind.fields[2].kind.fields[0][].kind.fields[0].token.symbol'
[15:59:46] <Earnestly> There
[15:59:59] *** Joins: callq (~callq@2409:4062:2d8d:345f:158c:2117:eab6:8c14)
[16:00:51] <Earnestly> Needed to get bloody rust nightly for -Z, what a dickmove
[16:01:28] <emanuele6> qi think you forgot a  select(utf8bytelength == 5) somewhere
[16:01:34] <emanuele6> s/q//
[16:01:50] <emanuele6> err
[16:02:01] *** Joins: igemnace (~ian@user/igemnace)
[16:02:01] <emanuele6> just   select(length == 5)
[16:02:03] <Earnestly> You would probably spend more effort in finding the correct const (FINAL) thing and only pulling strings from that
[16:02:29] <Earnestly> Checking for length is a bit less interesting because it's always going to be 54
[16:02:31] <Earnestly> 5*
[16:03:52] <Earnestly> But I prefer tr, hodge and bodge until it is dun *doom music plays*
[16:04:18] <osse> Earnestly: hacK: make rustc think it's boostrapping itself:  RUSTC_BOOTSTRAP=1 rustc -Z whatever-flag-you-want
[16:04:37] <Earnestly> rofl, that's excellent thank you
[16:08:05] *** Joins: shad (~shad@user/shad)
[16:09:46] *** Joins: ali (~ali@165.180-247-81.adsl-dyn.isp.belgacom.be)
[16:10:44] <osse> I got it from here, but no <a> tags nearby: https://fasterthanli.me/articles/why-is-my-rust-build-so-slow
[16:13:18] *** Quits: Tach (~Tach@user/tach) (Quit: Tach)
[16:14:39] *** Quits: mpagano (~quassel@gentoo/developer/mpagano) (Quit: Quitting)
[16:14:53] <Earnestly> osse: It's interesting to me how quickly json is becoming universal encoding format for pipes and other formats.  Why write tool for your format when it can be translated to json, then jq will work
[16:16:18] *** Quits: oxymoron93 (~oxymoron9@212.62.38.106) (Quit: Client closed)
[16:16:34] *** Joins: oxymoron93 (~oxymoron9@212.62.38.106)
[16:17:10] *** Joins: mpagano (~quassel@gentoo/developer/mpagano)
[16:19:07] *** Quits: depesz (~quassel@lana.depesz.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[16:19:23] *** Joins: depesz (~quassel@lana.depesz.com)
[16:25:23] *** Quits: chenqisu1 (~chenqisu1@183.217.200.249) (Quit: Leaving)
[16:27:05] *** Joins: jiploading (~user@user/vjipac)
[16:32:20] *** Quits: masoudd_ (~masoudd@user/masoudd) (Remote host closed the connection)
[16:35:21] *** Joins: FreEm1nD (~FreEm1nD@mail.guarapari.store)
[16:37:54] *** Joins: Tach (~Tach@user/tach)
[16:39:52] *** Joins: Tach_ (~Tach@lfbn-lyo-1-1120-78.w86-248.abo.wanadoo.fr)
[16:42:25] *** Quits: Tach (~Tach@user/tach) (Ping timeout: 256 seconds)
[16:42:26] *** Tach_ is now known as Tach
[16:42:57] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 240 seconds)
[16:44:55] *** Quits: ali (~ali@165.180-247-81.adsl-dyn.isp.belgacom.be) (Ping timeout: 250 seconds)
[16:45:12] *** Quits: Quack (~Quack@185.21.216.169) (Quit: Hunters spotted)
[16:45:32] *** Joins: masoudd (~masoudd@user/masoudd)
[16:46:10] *** Joins: whatsupboy (~whatsupbo@user/scobydoo)
[16:47:51] *** Joins: Knaldgas (~Per@193.235.229.50)
[16:48:41] *** Joins: Quack (~Quack@185.21.216.169)
[16:49:20] *** Quits: nunggu (~q@user/nunggu) (Remote host closed the connection)
[16:49:31] *** Parts: jiploading (~user@user/vjipac) (ERC (IRC client for Emacs 27.2))
[16:49:43] *** Joins: nunggu (~q@user/nunggu)
[16:51:46] <Knaldgas> Have a script starts a command (socat) in an end-less loop. Is it possible to have the script forwarding the signal to socat? socat is not started in background. - The end-goal is to allow the process calling the script to kill socat in a way so the script will restart it.
[16:51:52] *** Quits: Quack (~Quack@185.21.216.169) (Client Quit)
[16:52:20] *** Joins: cdown (~cdown@188.214.11.14)
[16:53:29] *** Quits: FreEm1nD (~FreEm1nD@mail.guarapari.store) (Quit: Leaving)
[16:54:40] *** Joins: Quack (~Quack@185.21.216.169)
[16:54:46] *** Quits: Achylles (~Achylles_@2804:431:d724:1728:f3b4:d659:13ba:d509) (Quit: Leaving)
[16:56:16] *** Joins: moha (uid506645@id-506645.helmsley.irccloud.com)
[16:56:18] <Soliton> write a trap and run socat in the background.
[16:58:27] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 276 seconds)
[16:58:46] <Knaldgas> Soliton, and then use 'wait $client_pid' ?
[16:59:08] <Soliton> without pid is fine unless you have more background processes.
[16:59:20] <Knaldgas> Ahh, perfect, thanks :)
[17:01:31] *** Joins: zeden (~zeden@user/zeden)
[17:02:01] *** Joins: yustin (~yustin@user/yustin)
[17:03:48] *** Quits: luckiswithme (~luckiswit@149.167.139.151) (Remote host closed the connection)
[17:03:53] <Soliton> won't the caller expect the PID it sends the signal to to die though?
[17:05:08] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[17:05:28] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[17:06:09] *** Joins: FreeBDSM (~FreeBDSM@user/freebdsm)
[17:06:26] *** Joins: luckiswithme (~luckiswit@149.167.139.151)
[17:07:03] <Knaldgas> Soliton, yes - I planned to use SIGUSR1 for reconnect (forwarded to socat). - But there is a problem, socat should keep stdin and stdout from the parent process...
[17:07:38] <Earnestly> socat is best used like inet daemon
[17:07:43] <geirha> socat ... <&0 >&1 &
[17:08:02] <FreeBDSM> hi. I have a dir with files and I need to get a part of file's name that matches the glob, how to do that? `appId=(/path/to/dir/prefix_*_suffix.txt) && echo "${appId}"` returns full path to the file, how to trim it just to the part that * captured?
[17:08:25] <Knaldgas> Earnestly, I'm using it as a test library for robotframework (integration testing)
[17:08:51] <Soliton> !faq 100 > FreeBDSM
[17:08:51] <greybot> FreeBDSM: https://mywiki.wooledge.org/BashFAQ/100 -- How do I do string manipulations in bash?
[17:08:57] <Earnestly> Knaldgas: Sure, just saying, 'exec' as second arg works nicely
[17:09:35] <Earnestly> I.e. socat tcp-listen:8080,reuseaddr,fork exec:./some-service,fdin=3,fdout=4
[17:09:48] <FreeBDSM> Soliton, do you mean there's no way to just use the glob in 'capturing' mode (in regex terms) and I need to parse the output separately?
[17:09:58] <Earnestly> No
[17:10:06] <Soliton> there is no such thing indeed.
[17:10:26] <Earnestly> Only regex and BASH_REMATCH array can do that in bash
[17:10:43] <Soliton> that has nothing to do with pathname expansion though.
[17:10:48] <Earnestly> Indeed
[17:12:51] <Knaldgas> Earnestly, then if multiple connections are attempted to socat, then multiple exec - Also, I then need to connect "some-service" to robotframework
[17:13:31] <FreeBDSM> `appId=(/path/to/dir/prefix_*_suffix.txt) && [[ "${appId} =~ /path/to/dir/prefix_(*)_suffix\.txt ]] && echo "${BASH_REMATCH[1]}"` - returns nothing :(
[17:14:06] <Knaldgas> I think I will pursue 'socat -d -d - TCP4-LISTEN:1234,reuseaddr <&0 >&1 &' and then create some trap handlers...
[17:15:29] *** Joins: drd (~drd@93-42-66-75.ip85.fastwebnet.it)
[17:16:32] <FreeBDSM> what shopt do I need to enable to make BASH_REMATCH work?
[17:16:35] <Soliton> FreeBDSM: (* matches 0 or more (.
[17:16:38] *** Quits: oxymoron93 (~oxymoron9@212.62.38.106) (Quit: Client closed)
[17:16:50] <FreeBDSM> oh
[17:16:52] <FreeBDSM> .*
[17:17:01] <Soliton> well, not even that you want to escape the parens.
[17:17:15] <Soliton> just write a proper regex if you must use them.
[17:17:19] <Soliton> !problem
[17:17:19] <greybot> Some people, when confronted with a problem, think ``I know, I'll use regular expressions.'' Now they have two problems.
[17:17:44] <Earnestly> Knaldgas: Yes, multiple executions, this is the play
[17:17:47] <FreeBDSM> `appId=(/path/to/dir/prefix_*_suffix.txt) && [[ "${appId} =~ /path/to/dir/prefix_(\w).* ]] && echo "${BASH_REMATCH[1]}"` - nothing
[17:18:03] <Soliton> a proper regex.
[17:18:21] <Earnestly> FreeBDSM: ERE iirc
[17:18:34] <Soliton> trivial with parameter expansion to remove prefix and suffix. don't need to learn regex even.
[17:18:34] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:18:40] <Earnestly> Yes
[17:18:53] <Earnestly> Having both prefix_ and _suffix.txt makes it a doddle
[17:19:29] <FreeBDSM> how to apply parameter expansion here?
[17:19:45] *** Joins: dextercd (~dexter@2a02-a450-f25d-1-76d4-35ff-fefe-34c.fixed6.kpn.net)
[17:19:51] *** Joins: Asgaroth (~Asgaroth@93.107.191.92)
[17:20:05] <FreeBDSM> using # and % inside ${}?
[17:20:39] <Earnestly> !pe
[17:20:39] <greybot> Parameter Expansion expands parameters: "$foo", "$1". You can use it to perform string or array operations: "${file%.mp3}", "${0##*/}", "${files[@]: -4}". They should *always* be quoted. See: http://mywiki.wooledge.org/BashFAQ/073 and "Parameter Expansion" in man bash. Also see http://wiki.bash-hackers.org/syntax/pe.
[17:21:04] <Earnestly> Also I'm going to make a new rule
[17:21:18] <Earnestly> If people use ${} in variables without actually needing {}, I'm going to ignore them
[17:21:25] <FreeBDSM> why?
[17:21:34] <FreeBDSM> {} never brings any harm
[17:21:42] <Earnestly> I'm not explaining anything
[17:21:43] <FreeBDSM> and it's easier to just always use them
[17:21:46] <Earnestly> Just new policy
[17:22:40] <Soliton> # appid='/path/to/dir/prefix_(123)_suffix.txt' appid=${appid#/path/to/dir/prefix_(} appid=${appid%\)_suffix.txt}; echo "$appid"
[17:22:42] <shbot> Soliton: 123
[17:24:02] <FreeBDSM> wait, so one can just give a space-separated list of substituting actions inside {}?
[17:24:21] <FreeBDSM> that's cool, I always thought I needed 2 commands to do that
[17:24:31] *** Quits: NoelFlantier3 (~Hubert@195.201.244.189) (Remote host closed the connection)
[17:24:46] <Soliton> it's just multiple assignments.
[17:24:56] *** Joins: NoelFlantier3 (~Hubert@195.201.244.189)
[17:26:03] <FreeBDSM> ah, read it incorrectly
[17:28:31] *** Joins: cdown_ (~cdown@188.214.11.14)
[17:30:40] <FreeBDSM> now I figured out what you did, thanks Soliton
[17:35:41] *** Quits: polve (~polve@user/polve) (Ping timeout: 256 seconds)
[17:38:03] *** Joins: polve (~polve@user/polve)
[17:39:50] *** Quits: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de) (Remote host closed the connection)
[17:40:28] *** Joins: JohnML (~JohnML@ip-037-201-129-030.um10.pools.vodafone-ip.de)
[17:41:55] *** Joins: cdown__ (~cdown@163.114.131.1)
[17:43:21] *** Quits: Chaser (~Chaser@user/chaser) (Quit: WeeChat 2.8)
[17:44:11] *** Quits: drd (~drd@93-42-66-75.ip85.fastwebnet.it) (Ping timeout: 256 seconds)
[17:44:23] *** Quits: vx (~f@phrixion.net) (Quit: G-line: User has been permanently banned from this network.)
[17:44:31] *** Quits: cdown (~cdown@188.214.11.14) (Ping timeout: 256 seconds)
[17:44:38] *** Joins: vx (~f@phrixion.net)
[17:44:41] *** cdown__ is now known as cdown
[17:45:14] *** Joins: N4buc0- (~N4buc0@189.26.23.153.dynamic.adsl.gvt.net.br)
[17:45:52] <Earnestly> What difference is there between: while read <&3; do ...; done 3< ... and while read -u3; do ...; done 3< ...
[17:45:55] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:d091:25a9:e1c5:1d46)
[17:45:55] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:d091:25a9:e1c5:1d46) (Changing host)
[17:45:55] *** Joins: skapata (~Skapata@user/skapata)
[17:46:27] *** Quits: N4buc0 (~N4buc0@189.58.131.84) (Ping timeout: 250 seconds)
[17:47:18] *** Joins: ali (~ali@165.180-247-81.adsl-dyn.isp.belgacom.be)
[17:48:35] *** Joins: N4buc0 (~N4buc0@2804:7f4:348a:fff2:86e5:3ec1:2264:dc1)
[17:49:06] *** Joins: blingrang (~blingrang@user/blingrang)
[17:49:51] *** Quits: N4buc0- (~N4buc0@189.26.23.153.dynamic.adsl.gvt.net.br) (Ping timeout: 256 seconds)
[17:52:15] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[17:53:14] <emanuele6> different error message in case fd is not valid?
[17:54:03] <emanuele6> makes read read directly from fd 3, instead of temporarily dup-ing 3 to 0 and running read
[17:54:30] <emanuele6> # read -u 3
[17:54:31] <shbot> emanuele6: bash: read: 3: invalid file descriptor: Bad file descriptor
[17:54:32] *** Joins: oxymoron93 (~oxymoron9@212.62.38.106)
[17:54:35] *** Joins: drbeco (~beco@2804:351c:dd01:b700:1b03:6b85:20d4:ad73)
[17:54:36] <emanuele6> # read <&3
[17:54:37] <shbot> emanuele6: bash: 3: Bad file descriptor
[17:54:55] *** Quits: milkt_ (~debian@gateway/tor-sasl/milkt) (Remote host closed the connection)
[17:56:12] *** Quits: herjazz (~herjazz@p10513117-ipngn24101marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:57:02] <emanuele6> > bash: read: 3: invalid file descriptor: Bad file descriptor
[17:57:10] <emanuele6> hehe, funny error message
[17:57:49] *** Joins: luva1 (~luva@185.168.9.233)
[17:58:23] *** Quits: daniel-k3 (~daniel-k@fsf/emeritus/daniel-k) (Quit: bye)
[17:58:35] *** Joins: daniel-k3 (~daniel-k@fsf/emeritus/daniel-k)
[18:01:42] *** Quits: luva (~luva@146.70.62.238) (Ping timeout: 260 seconds)
[18:01:42] *** luva1 is now known as luva
[18:08:26] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[18:12:10] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[18:13:00] *** Joins: luva1 (~luva@37.120.197.52)
[18:13:09] *** Joins: Kyuzo68 (~Kyuzo@host-80-116-112-98.retail.telecomitalia.it)
[18:13:32] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[18:16:13] *** Quits: luva (~luva@185.168.9.233) (Ping timeout: 240 seconds)
[18:18:32] *** Joins: kj (~kj@beta.aerisnetwork.net)
[18:18:45] *** Quits: masoudd (~masoudd@user/masoudd) (Ping timeout: 256 seconds)
[18:19:33] *** Joins: OlCe (~user@amontsouris-156-1-23-81.w92-151.abo.wanadoo.fr)
[18:20:59] <Earnestly> Hm, fair point on dup
[18:21:59] *** Quits: Muzer (~muzer@tim32.org) (Ping timeout: 250 seconds)
[18:24:43] *** Joins: drd (~drd@93-42-66-75.ip85.fastwebnet.it)
[18:25:04] *** Quits: oxymoron93 (~oxymoron9@212.62.38.106) (Quit: Client closed)
[18:25:59] *** Joins: laibach (~laibach@2404:e801:2001:579:768b:f813:63e5:a095)
[18:29:32] *** Quits: cdown_ (~cdown@188.214.11.14) (Remote host closed the connection)
[18:30:48] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[18:31:11] *** Joins: lisbeths (~user@c-73-83-140-133.hsd1.wa.comcast.net)
[18:31:21] <lisbeths> what was that command line program which can do things like photshop is that ffmpeg?
[18:32:45] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[18:33:38] <Soliton> perhaps you're talking about imagemagick.
[18:36:40] *** Joins: cdown_ (~cdown@188.214.11.14)
[18:37:34] *** Quits: cdown_ (~cdown@188.214.11.14) (Remote host closed the connection)
[18:37:44] *** Joins: Adoi (~Adoi@user/adoi)
[18:39:29] *** Quits: Dotz0cat (~Dotz0cat@173.188.34.42) (Ping timeout: 256 seconds)
[18:40:08] *** Joins: Dotz0cat (~Dotz0cat@173.187.195.128)
[18:40:13] <emanuele6> yes, i guess the main thing is that -u3 saves 3 dups and other stuff
[18:40:54] *** Quits: OlCe (~user@amontsouris-156-1-23-81.w92-151.abo.wanadoo.fr) (Ping timeout: 260 seconds)
[18:52:49] *** Quits: laibach (~laibach@2404:e801:2001:579:768b:f813:63e5:a095) (Quit: WeeChat 2.8)
[18:59:45] *** Quits: thevishy (~Nishant@2405:201:f005:c007:f886:9bab:89ec:ff42) (Quit: Leaving)
[19:00:40] *** Quits: Jong (~Jong@2620:10d:c090:400::5:6b6c) (Quit: Textual IRC Client: www.textualapp.com)
[19:00:59] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 250 seconds)
[19:01:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[19:02:44] <ouestbillie> okay ive askes this before but lost the solution
[19:03:05] <ouestbillie> how can i cat a script in my path that is a symlink to the actual script
[19:03:48] *** Joins: pyzozord (pyzozord@user/pyzozord)
[19:03:49] <Soliton> cat path/to/file
[19:04:25] *** Quits: Kyuzo68 (~Kyuzo@host-80-116-112-98.retail.telecomitalia.it) (Quit: Konversation terminated!)
[19:04:26] <ouestbillie> ive tried `cat $(realpath scrpt)` and cat $(readlink scrpt)
[19:04:27] <pyzozord> hey, how can i ${${@:4}:--I}? I mean "all arguments starting at index 4, or if empty '-I' as default"
[19:04:54] *** Joins: lmat (~Lmat@c-68-58-60-231.hsd1.in.comcast.net)
[19:05:01] * ouestbillie is nauseaous
[19:05:17] <Soliton> "${@:4}:--I"
[19:05:56] <Soliton> err, nonsense. do it in two steps.
[19:06:02] <pyzozord> I'm confused wouldn't that result in :--I at the end of the string always?
[19:06:20] <Soliton> yes, i was fooled by your nonsense.
[19:06:59] <pyzozord> yes I can do it with local args="${@:4}" and then curl ${local:--I}, but I was looking for one step solution
[19:07:14] <pyzozord> Soliton: indeed it was nonsense, but intentinally to convey what I was looking for
[19:07:51] <Soliton> that is not how you can do it. assign to an array.
[19:07:57] *** Quits: ali (~ali@165.180-247-81.adsl-dyn.isp.belgacom.be) (Ping timeout: 240 seconds)
[19:08:20] *** Joins: netpipe (~netpipe@user/netpipe)
[19:09:12] *** Joins: askall (~askall@41.217.37.141)
[19:09:19] <Soliton> maybe also respect empty arguments.
[19:09:20] *** Joins: ali (~ali@165.180-247-81.adsl-dyn.isp.belgacom.be)
[19:10:54] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[19:11:38] <pyzozord> Soliton: sorry, how would that look like? I'm not great with arrays
[19:11:47] <emanuele6> !faq 5
[19:11:47] <greybot> https://mywiki.wooledge.org/BashFAQ/005 -- How can I use array variables?
[19:12:18] <Soliton> # f() { args=("${@:4}"); printf '<%s>' "${args[@]:--I}"; }; f a b c ''
[19:12:20] <shbot> Soliton: <-I>
[19:12:51] <Soliton> seems broken to treat an empty argument as missing.
[19:12:51] <pyzozord> nice thanks
[19:13:07] *** Quits: yustin (~yustin@user/yustin) (Ping timeout: 250 seconds)
[19:13:07] <emanuele6> local args; if (( $# )); then args=( "${@:4}" ); else args=( -I ); fi    ... "${args[@]}"
[19:13:43] *** Quits: malina (~malina@user/malina) (Ping timeout: 256 seconds)
[19:13:43] <pyzozord> args=("${@:4}") seems like it would produce an array with one string, I guess that's now how it works in bash
[19:13:45] <emanuele6> err, (( $# >= 4 ))
[19:14:16] <Soliton> perhaps you're bad with arrays because you just guess how they work.
[19:14:18] *** Joins: pj (~pj@ghettoforge/pj)
[19:16:41] *** Joins: luva19 (~luva@185.168.9.236)
[19:17:09] *** Joins: fef (~thedawn@user/thedawn)
[19:18:03] *** Joins: luva196 (~luva@37.120.197.54)
[19:20:21] *** Quits: ali (~ali@165.180-247-81.adsl-dyn.isp.belgacom.be) (Ping timeout: 245 seconds)
[19:20:31] *** Quits: luva1 (~luva@37.120.197.52) (Ping timeout: 256 seconds)
[19:21:37] *** Quits: luva19 (~luva@185.168.9.236) (Ping timeout: 240 seconds)
[19:21:37] *** luva196 is now known as luva19
[19:21:37] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[19:21:55] <pyzozord> Soliton: yeah, although that goes without saying
[19:22:37] *** Parts: moha (uid506645@id-506645.helmsley.irccloud.com) ()
[19:23:27] *** Joins: samgranieri (~samgranie@user/samgranieri)
[19:24:57] *** Joins: greycat (~greg@209.142.155.49)
[19:27:04] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[19:27:07] *** Joins: masoudd (~masoudd@user/masoudd)
[19:27:49] *** Joins: bluedust (~bluedust@103.161.144.34)
[19:28:12] *** Quits: luckiswithme (~luckiswit@149.167.139.151) (Quit: Konversation terminated!)
[19:28:16] *** Joins: KBar (~KBar@213.230.114.72)
[19:30:24] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[19:31:02] *** Joins: unop (~unop@195.91.14.193)
[19:32:59] *** Quits: lmat (~Lmat@c-68-58-60-231.hsd1.in.comcast.net) (Ping timeout: 256 seconds)
[19:35:33] <KBar> I have `PS0=\t\n', but I want it to always appear in front of PS1 on the previous readline line (not row). I tried ANSI escape sequences (it deals in rows), tput promises to deal in lines but it doesn't. cuu1 or \033[A or \033[F work only for single-row lines. anyway i could force it to appear besides PS1 no matter the number of arguments or length of the command line? anyone have the same kind of with their PS0?
[19:37:11] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:540b:bd79:8d25:836)
[19:37:16] <Soliton> why do you want it next to the previous prompt? i'd put it at the end of the previous line.
[19:37:17] <emanuele6> PS0 appears before the output of the command, not before PS1.
[19:37:56] <KBar> Soliton: so that after the line is read it shows time cwd command_line
[19:37:58] *** Joins: frostwork (~frostwork@user/frostwork)
[19:38:46] <KBar> Soliton: eg before line is read and is being typed : ~ echo "Hello, World!"
[19:39:18] <greycat> There's no way you can know where the previous prompt was drawn.  It could be one line up, two lines, 10 lines, anywhere.
[19:39:19] <Soliton> why would the time a command was issued appear before the command.
[19:39:28] <KBar> Soliton after its read (currently being executed or completed): 02:02:02 ~ echo "Hello, World!"
[19:39:30] *** Joins: lmat (~Lmat@c-68-58-60-231.hsd1.in.comcast.net)
[19:39:50] <Soliton> that's just weird IMO.
[19:40:34] <KBar> Soliton because i need it.
[19:40:49] <greycat> oh... it's before the command starts running?  OK, then it might be possible.
[19:41:03] <KBar> greycan: after its read but before its run yes
[19:41:04] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[19:41:31] <Soliton> they want a timestamp when the command was issued.
[19:41:40] <greycat> Yeah.  So what's the issue?
[19:41:43] <Soliton> which to me would go after the commend. *shrug*
[19:41:50] <Soliton> command*
[19:42:01] <KBar> greycat: issue is with multi-row command lines
[19:42:17] <KBar> greycat: happening what you described
[19:42:32] <Soliton> perhaps try  PS0='\010\e[20D\e[1m\e[30m(\D{%FT%T})\e[0m\n'  instead.
[19:42:38] <KBar> greycat: cuu1 obviously works with simple commands like echo test
[19:43:23] <KBar> Soliton: as a replacement?
[19:43:30] <KBar> as an alternative i mean
[19:43:52] <KBar> ls
[19:46:56] *** Quits: skapata (~Skapata@user/skapata) (Read error: Connection reset by peer)
[19:48:24] *** Joins: reallymemorable (~reallymem@2601:180:8300:8fd0:4812:9a4c:6b8c:661c)
[19:48:33] *** Joins: LuksNuke_ (~LuksNuke@gateway/tor-sasl/luksnuke)
[19:49:48] *** Joins: k8yun (~k8yun@24.244.29.102)
[19:49:57] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 240 seconds)
[19:50:41] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[19:51:03] *** Joins: Muzer (~muzer@tim32.org)
[19:52:48] *** Joins: knstn (~knstn@ppp-94-66-57-191.home.otenet.gr)
[19:53:45] *** Joins: bluedust_ (~bluedust@59.99.182.45)
[19:57:04] <Kobaz> is there an option so that when you're using ctrl-c in history it doesn't remove the entry?
[19:57:21] *** Quits: bluedust (~bluedust@103.161.144.34) (Ping timeout: 256 seconds)
[19:58:25] <greycat> I don't know what you mean by that.  I just ran a test here.  I did "true 1", "true 2" and "true 3" as 3 commands.  Then ESC k k up to "true 2", pressed Ctrl-C.  Then ESC k k again, and true 2 is right there as expected.
[19:58:45] <greycat> What are *you* seeing?
[19:59:06] *** Joins: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net)
[19:59:12] <Kobaz> https://dpaste.com/3D5WZL34A
[19:59:16] <Kobaz> the history item gets a *
[19:59:19] <Kobaz> and the whole thing goes away
[19:59:39] <Kobaz> if i reverse search for the command that used to be there... it's no where to be found
[20:00:31] <Kobaz> i don't know how exactly to replicate it... but it happens all the time
[20:00:34] <Kobaz> my history goes missing
[20:01:01] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[20:01:04] <greycat> What version of bash, are you in emacs or vi mode, what does "in history" mean?
[20:01:17] *** Joins: unop (~unop@195.91.14.193)
[20:01:19] <Kobaz> 'in history' means .bash_history as well as 'history' command
[20:01:20] <greycat> Oh, you actually typed the command named "history"?
[20:01:32] *** Quits: N4buc0 (~N4buc0@2804:7f4:348a:fff2:86e5:3ec1:2264:dc1) (Remote host closed the connection)
[20:01:41] <Kobaz> and 'command is gone from ctrl-r'
[20:01:50] <Kobaz> and... emacs mode
[20:01:52] <greycat> Well, that doesn't persist, so pressing ctrl-C while "history" (the command) is running doesn't make any sense to me.
[20:01:54] *** Joins: N4buc0 (~N4buc0@2804:7f4:348a:fff2:86e5:3ec1:2264:dc1)
[20:02:05] <Kobaz> no... not running ctrl-c in 'history'
[20:02:11] <Kobaz> ctrl-c related to reverse search
[20:02:15] <greycat> 11:27  Kobaz> is there an option so that when you're using ctrl-c in history
[20:02:33] <Soliton> the * means you modified the history entry.
[20:02:34] <Kobaz> ctrl-r: i'll find what i think is the command... say nope... do ctrl-c.. reverse search again
[20:02:44] <Kobaz> yeah... how do i get that to not modify?
[20:03:00] <emanuele6> i don't lose history when i do that ^R something ^C
[20:03:01] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 256 seconds)
[20:03:22] <Kobaz> i think it happens when i ctrl-c, ctrl-u and then hit enter, and then
[20:03:27] <Soliton> it's not from ^C. it's from editing the history entry.
[20:03:28] <KBar> Kobaz maybe you can use ^G which aborts?
[20:03:28] <Kobaz> and then it's gone
[20:03:30] *** Joins: pj (~pj@ghettoforge/pj)
[20:03:34] <emanuele6> but using ^C to cancel the search is a little weird, it's best to use ^G
[20:03:39] <Kobaz> ah okay
[20:04:02] <Kobaz> is it possible to turn off modification of history? just leave hisoric entries as-is ?
[20:04:32] *** Quits: askall (~askall@41.217.37.141) (Quit: leaving)
[20:06:30] *** Joins: gamara (~gamara@cpe9050cade20e3-cm9050cade20e0.cpe.net.cable.rogers.com)
[20:07:38] <Soliton> you can get the entry back if you go to it and press enter.
[20:08:29] <Soliton> otherwise i'd do as emanuele6 said and use ^G instead in the future.
[20:08:36] <Kobaz> yeah sounds good
[20:08:36] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:540b:bd79:8d25:836) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:08:44] *** Joins: OlCe (~user@amontsouris-156-1-23-81.w92-151.abo.wanadoo.fr)
[20:09:09] <emanuele6> well, i don't know if ^C causes Kobaz's issue
[20:09:21] <emanuele6> as i said, i don't lose history when i do ^R something ^C
[20:09:36] <Kobaz> yeah it's hard to replicate
[20:09:39] <Kobaz> sometimes i do, sometimes i don't
[20:09:45] <Soliton> it's ^U part.
[20:09:52] <Soliton> +the
[20:09:56] <emanuele6> oh, yeah
[20:10:05] <emanuele6> if you do ^U, you delete that like of history
[20:10:37] <emanuele6> just don't use ^U, or use ^C instead of ^U
[20:10:41] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[20:11:17] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 252 seconds)
[20:11:27] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[20:13:14] <Kobaz> curious... any way to make that not modify the history?
[20:14:57] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 240 seconds)
[20:18:18] <greycat> Is this strictly an emacs-mode-and-reversi-search thing?  When I do ESC k k (in vi mode obviously) to GO to a past command, and then modify it, even going so far as using Ctrl-U to nuke it from orbit... and then press Ctrl-C... and then ESC k k again... the original command is still there.
[20:19:10] <Kobaz> i think it's specific with emacs-mode-and-reversi-search
[20:19:17] * greycat scrolls back... oh, he's hitting *ENTER* as well?  He's actually *running* the modified command?
[20:19:23] <Kobaz> correct
[20:19:29] <Kobaz> running.... nothing
[20:19:46] <Kobaz> it took a little bit to figure out the flow that reproduces it, but yeah
[20:19:57] *** Quits: apos (~apos@gateway/tor-sasl/apos) (Ping timeout: 276 seconds)
[20:20:13] <greycat> When I modify the command and then run it, it appends a new command to the in-memory history.  The new command is there, and the original command is also there, several lines earlier.
[20:20:42] <Kobaz> weird
[20:20:46] <Kobaz> somehow mine is gone completely
[20:20:55] *** Quits: lmat (~Lmat@c-68-58-60-231.hsd1.in.comcast.net) (Ping timeout: 256 seconds)
[20:21:09] <Kobaz> Debian GNU bash, version 5.0.3(1)-release (x86_64-pc-linux-gnu)
[20:21:45] *** Quits: reallymemorable (~reallymem@2601:180:8300:8fd0:4812:9a4c:6b8c:661c) (Remote host closed the connection)
[20:21:50] *** Joins: crashrep (~crashrep@user/crashrep)
[20:22:30] *** Quits: KBar (~KBar@213.230.114.72) (Quit: Leaving.)
[20:22:40] <Kobaz> https://unix.stackexchange.com/questions/131657/is-there-any-way-to-undo-a-bash-history-modification
[20:23:51] *** Joins: Jong (~Jong@2620:10d:c090:400::5:905d)
[20:24:08] *** Joins: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar)
[20:25:37] *** Joins: reallymemorable (~reallymem@2601:180:8300:8fd0:4812:9a4c:6b8c:661c)
[20:25:40] <greycat> I simply can'
[20:25:45] <greycat> I simply can't reproduce this at all.
[20:26:07] <Soliton> if you go to another history entry after modification it stays.
[20:26:14] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[20:26:29] *** Quits: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 256 seconds)
[20:26:31] <Kobaz> hmm
[20:26:36] <greycat> Ah.  Thatr'
[20:26:45] <greycat> Ah.  That's DEFINITELY missing from the SE page.
[20:26:52] *** Joins: unop (~unop@195.91.14.193)
[20:27:28] <greycat> So the reproducer should say [up][up][backspace]d[up][ctrl+c]
[20:27:41] *** Joins: apos (~apos@gateway/tor-sasl/apos)
[20:28:23] *** Joins: pj (~pj@ghettoforge/pj)
[20:28:35] *** Joins: bluedust (~bluedust@117.204.132.5)
[20:28:39] <Kobaz> i got it to go away again
[20:28:44] <Kobaz> it's some combination of ctrl-c ctrl-u
[20:28:56] *** Joins: lmat (~Lmat@c-68-58-60-231.hsd1.in.comcast.net)
[20:28:57] *** Quits: bluedust_ (~bluedust@59.99.182.45) (Ping timeout: 240 seconds)
[20:31:59] *** Joins: rgrinberg (~textual@187.223.115.137)
[20:34:37] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Ping timeout: 240 seconds)
[20:34:39] *** Joins: zer0bitz (~zer0bitz@2001:2003:f74d:b800:bc81:ba25:7a70:67f2)
[20:35:04] <greycat> The obvious workaround is to stop modifying the historical commands.  If you do modify one, either run it, or hit Ctrl-C immediately, WITHOUT going to a different command, as Soliton pointed out.
[20:35:15] <Kobaz> yeah makes sense
[20:35:23] <Kobaz> i still can't figure out how to reproduce it
[20:35:33] <greycat> So the reproducer should say [up][up][backspace]d[up][ctrl+c]
[20:36:05] *** Quits: ekathva (~ekathva@2001:999:50:cab1:b7e8:130b:c792:9fd) (Ping timeout: 250 seconds)
[20:36:25] <Kobaz> ah yeah
[20:36:27] <Kobaz> that modified
[20:37:32] <Soliton> revert-all-at-newline seems like a nice setting anyway.
[20:37:45] *** Joins: dtux (~dtux@c-98-207-149-218.hsd1.ca.comcast.net)
[20:39:48] *** Quits: tobybl (~tobybl@214.242.200.146.dyn.plus.net) (Remote host closed the connection)
[20:40:31] <Kobaz> i like it
[20:46:25] *** Joins: ChmEarl (~chmearl@user/chmearl)
[20:48:57] *** Quits: netpipe (~netpipe@user/netpipe) (Quit: Client closed)
[20:49:02] *** Joins: zoe (~zoe@fsf/member/zoe)
[20:49:14] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[20:49:32] *** Joins: cdown_ (~cdown@188.214.11.14)
[20:50:08] *** Joins: mat001 (~mat001@c-69-181-155-247.hsd1.ca.comcast.net)
[20:50:10] *** Joins: impermanence (~impermane@c-75-73-193-204.hsd1.mn.comcast.net)
[20:50:18] *** Quits: han-solo (~hanish@user/han-solo) (Quit: leaving)
[20:52:39] *** Joins: TomyWork (~TomyLobo@p200300e80f0067002834303366990370.dip0.t-ipconnect.de)
[20:53:15] *** Joins: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com)
[20:53:27] *** Quits: Lunatrius (~Lunatrius@77.38.76.5) (Ping timeout: 256 seconds)
[20:55:53] *** Quits: mat001 (~mat001@c-69-181-155-247.hsd1.ca.comcast.net) (Remote host closed the connection)
[20:56:27] *** Joins: mat001 (~mat001@72.28.108.216)
[20:56:34] *** Joins: wallsY (~wallsY@c-73-211-135-175.hsd1.il.comcast.net)
[20:58:33] *** Quits: drd (~drd@93-42-66-75.ip85.fastwebnet.it) (Ping timeout: 256 seconds)
[20:58:53] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[21:00:01] *** Quits: cdown_ (~cdown@188.214.11.14) (Remote host closed the connection)
[21:01:03] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Client Quit)
[21:01:18] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[21:01:37] *** Quits: john_johnk (~Thunderbi@232.58.140.77.rev.sfr.net) (Ping timeout: 240 seconds)
[21:03:28] *** Joins: geowiesnot (~user@5-51-190-244.abo.bbox.fr)
[21:03:32] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[21:05:03] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[21:07:25] *** Joins: Filystyn (~piotr@user/filystyn)
[21:07:26] <Filystyn> helo
[21:07:35] <Filystyn> how to cat '-' file
[21:07:42] <koala_man> cat ./-
[21:07:51] <Filystyn> rightie
[21:08:11] <Filystyn> and what is purpose of actualy existing - ?
[21:08:16] <Filystyn> like where could one use it
[21:08:33] <koala_man> a typical usage is e.g. mycommand | cat header -
[21:08:34] <Filystyn> I did cat | few times
[21:08:53] <Filystyn> aaaa
[21:08:57] *** Quits: crashrep (~crashrep@user/crashrep) (Quit: WeeChat 3.4)
[21:09:01] <Filystyn> after header take the stdin ?
[21:09:04] <koala_man> right
[21:09:08] <Filystyn> k this makes sens
[21:09:08] *** Quits: MajorBiscuit (~MajorBisc@c-001-017-058.client.tudelft.eduvpn.nl) (Quit: WeeChat 3.4)
[21:11:35] *** Quits: polve (~polve@user/polve) (Ping timeout: 256 seconds)
[21:13:10] *** Quits: dreamon (~dreamon@ppp-88-217-74-38.dynamic.mnet-online.de) (Ping timeout: 250 seconds)
[21:15:11] *** luva19 is now known as luva
[21:15:35] *** Joins: Adoi (~Adoi@user/adoi)
[21:16:55] *** Quits: masoudd (~masoudd@user/masoudd) (Ping timeout: 256 seconds)
[21:17:42] *** Joins: polve (~polve@user/polve)
[21:18:42] *** Joins: Lunatrius (~Lunatrius@77.38.76.5)
[21:19:14] *** Joins: pushqrdx (~pushqrdx@102.47.62.202)
[21:20:14] <Filystyn> ok this kind of question - simialr was ocne asked but not same
[21:20:18] <Filystyn> I have few files
[21:20:23] <Filystyn> but only one is human readable
[21:20:34] <Filystyn> how would you try to detect it ;-)
[21:20:44] <e36freak> what are the other kinds?
[21:20:51] <e36freak> file(1) may be helpful
[21:21:21] <Filystyn> indeed it shown some resoults
[21:21:49] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Ping timeout (120 seconds))
[21:22:10] *** Joins: jamiejackson (~jamiejack@131.106.140.145)
[21:22:53] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[21:22:55] *** Quits: OlCe (~user@amontsouris-156-1-23-81.w92-151.abo.wanadoo.fr) (Ping timeout: 256 seconds)
[21:25:13] <jamiejackson> i'm ultimately trying to get a unique list of all the tags used in some automated tests. a step towards that goal would be to get each tag on its own line. in order to do that, i need to know how to pipe the output from a find-exec-grep to sed, but i'm not sure how to pipe the output of a find-exec-grep. (i get 'find: 'grep' terminated by signal
[21:25:13] <jamiejackson> 13'.). how do i pipe the output of this find? https://gist.github.com/jamiejackson/2f7c2b76db1dcddeb41644ea7e6041be
[21:26:11] <greycat> Start by not using grep.  Write a filter that will extract the "tags" and nothing else, in awk or whatever language works for you.  Then use that instead of grep.
[21:27:32] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
[21:27:56] <jamiejackson> whoops, and never mind about piping the output. i had the -i flag in my sed that caused the red herring errors.
[21:28:29] <jamiejackson> in other words, my problem wasn't the pipe
[21:28:29] <greycat> if the only language you know is "pipe grep to sed", I suggest you learn awk.  Or at least learn sed *better*.
[21:29:00] <jamiejackson> i believe you, greycat. i am not good at awk.
[21:30:37] *** Quits: Mo (~Mo@dynamic-077-010-142-006.77.10.pool.telefonica.de) (Ping timeout: 256 seconds)
[21:30:40] <greycat> xyz | grep foo | sed s/a/b/  ->  xyz | sed -n '/foo/s/a/b/p'
[21:31:46] *** Quits: unop (~unop@195.91.14.193) (Remote host closed the connection)
[21:32:01] *** Joins: unop (~unop@195.91.14.193)
[21:33:17] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 240 seconds)
[21:34:45] *** Joins: emg (~emg@cpe-70-93-247-186.natsow.res.rr.com)
[21:35:30] *** Joins: ekathva (~ekathva@2001:999:50:cab1:b7e8:130b:c792:9fd)
[21:36:40] *** Quits: polve (~polve@user/polve) (Quit: WeeChat 2.3)
[21:36:45] *** Joins: Lunatrius` (~Lunatrius@77.38.99.224)
[21:37:17] *** Quits: Lunatrius (~Lunatrius@77.38.76.5) (Ping timeout: 240 seconds)
[21:37:17] *** Lunatrius` is now known as Lunatrius
[21:37:38] *** Joins: polve (~polve@user/polve)
[21:38:05] <emg> strvis.c:71:11: error: 'locale_mb_cur_max' undeclared          anyone else get that with: ./configure --without-bash-malloc --disable-multibyte && make
[21:39:01] <emg> haven't started digging yet
[21:39:32] <Filystyn> I am searching for a string in a file
[21:39:40] <Filystyn> hehehe ;-)
[21:41:40] <Filystyn> command strings ;-O
[21:42:37] *** Quits: Muzer (~muzer@tim32.org) (Ping timeout: 240 seconds)
[21:45:02] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[21:45:45] *** Quits: Masterphi (~Masterphi@user/masterphi) (Quit: Masterphi)
[21:46:37] *** Joins: Masterphi (~Masterphi@user/masterphi)
[21:48:05] *** Quits: geowiesnot (~user@5-51-190-244.abo.bbox.fr) (Ping timeout: 256 seconds)
[21:49:24] *** Parts: ash_worksi (~ash_m@user/ash-m/x-3292451) ()
[21:50:50] *** Joins: dreamon (~dreamon@p54b14d36.dip0.t-ipconnect.de)
[21:51:55] *** Joins: skapata (~Skapata@2804:14c:87b0:9d2e:6114:c56c:8a91:41ae)
[21:51:55] *** Quits: skapata (~Skapata@2804:14c:87b0:9d2e:6114:c56c:8a91:41ae) (Changing host)
[21:51:55] *** Joins: skapata (~Skapata@user/skapata)
[21:53:13] *** Parts: pyzozord (pyzozord@user/pyzozord) (AndroIRC)
[21:57:27] *** Quits: fef (~thedawn@user/thedawn) (Ping timeout: 276 seconds)
[21:58:26] *** Joins: kilobyte1 (~kbch@213.55.226.125)
[21:58:37] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[21:59:00] *** Quits: k8yun (~k8yun@24.244.29.102) (Quit: Leaving)
[21:59:38] *** Joins: omnio (~omnio@user/omnio)
[22:00:06] *** Joins: masoudd (~masoudd@user/masoudd)
[22:00:24] *** Quits: kilobyte_ch (~kbch@77.109.171.85) (Ping timeout: 250 seconds)
[22:01:22] *** Joins: FluffyMask (~masque@user/fluffymask)
[22:01:25] *** Joins: OlCe (~user@amontsouris-156-1-23-81.w92-151.abo.wanadoo.fr)
[22:02:15] *** Joins: Chaser (~Chaser@user/chaser)
[22:02:27] *** Joins: k8yun (~k8yun@24.244.29.102)
[22:06:42] *** Quits: kilobyte1 (~kbch@213.55.226.125) (Ping timeout: 260 seconds)
[22:08:49] *** Quits: samgranieri (~samgranie@user/samgranieri) (Ping timeout: 250 seconds)
[22:10:35] *** Joins: YaoNai (~YaoNai@user/yaonai)
[22:12:44] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Quit: Leaving)
[22:14:48] *** Quits: TomyWork (~TomyLobo@p200300e80f0067002834303366990370.dip0.t-ipconnect.de) (Remote host closed the connection)
[22:15:17] *** Quits: gamara (~gamara@cpe9050cade20e3-cm9050cade20e0.cpe.net.cable.rogers.com) (Quit: Client closed)
[22:15:47] *** Joins: gamara (~gamara@cpe9050cade20e3-cm9050cade20e0.cpe.net.cable.rogers.com)
[22:17:38] *** Quits: wallsY (~wallsY@c-73-211-135-175.hsd1.il.comcast.net) (Quit: Leaving)
[22:18:10] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 250 seconds)
[22:18:15] *** Joins: ali (~ali@ptr-99ug59141rgbz9y8km3.18120a2.ip6.access.telenet.be)
[22:19:16] *** Joins: Muzer (~muzer@tim32.org)
[22:21:16] *** Joins: kilobyte1 (~kbch@77.109.171.85)
[22:21:41] *** Joins: wallsY_ (~wallsY@c-73-211-135-175.hsd1.il.comcast.net)
[22:22:03] *** Quits: rgrinberg (~textual@187.223.115.137) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:23:57] *** Quits: ali (~ali@ptr-99ug59141rgbz9y8km3.18120a2.ip6.access.telenet.be) (Ping timeout: 240 seconds)
[22:24:56] *** Quits: reallymemorable (~reallymem@2601:180:8300:8fd0:4812:9a4c:6b8c:661c) (Remote host closed the connection)
[22:25:31] *** Joins: reallymemorable (~reallymem@2601:180:8300:8fd0:4812:9a4c:6b8c:661c)
[22:25:38] *** Quits: polve (~polve@user/polve) (Quit: WeeChat 2.3)
[22:26:34] *** Joins: polve (~polve@user/polve)
[22:27:08] *** Quits: pushqrdx (~pushqrdx@102.47.62.202) (Remote host closed the connection)
[22:27:52] *** Joins: yagamilito (~yagamilit@2601:642:4600:34b0:e00d:866f:e93f:4751)
[22:28:46] *** Joins: brennan (~wallsY@c-73-211-135-175.hsd1.il.comcast.net)
[22:29:21] *** brennan is now known as wallsY
[22:29:26] *** Joins: thiras (~thiras@user/thiras)
[22:31:09] *** Quits: reallymemorable (~reallymem@2601:180:8300:8fd0:4812:9a4c:6b8c:661c) (Ping timeout: 250 seconds)
[22:31:29] *** Quits: sinaowolabi_ (~SinaOwola@160.152.112.183) (Ping timeout: 256 seconds)
[22:32:20] *** Quits: bluedust (~bluedust@117.204.132.5) (Remote host closed the connection)
[22:32:58] *** Joins: skapata (~Skapata@user/skapata)
[22:34:39] *** Quits: shred00 (~brian@2001:470:b038:0:90cc:a629:cf42:5877) (Ping timeout: 256 seconds)
[22:36:21] <Filystyn> is there some hack if someone compresse dfile like  10 times as tar
[22:36:47] <Filystyn> more like  tar gzip bzip mix
[22:37:13] <Filystyn> I got idea how to write a longer answer to this but like one line? ;>
[22:37:42] *** Quits: _mikey (~mikey@user/mikey/x-4335048) (Remote host closed the connection)
[22:37:50] <djph> Filystyn: huh?
[22:38:07] <Filystyn> yes, huh
[22:38:09] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[22:38:12] <greycat> He dwells in a universe of idiocy, it appears.  And it has rubbed off on him.
[22:39:31] *** Quits: f00 (~timm@user/timm) (Ping timeout: 245 seconds)
[22:39:36] *** Joins: zebrag (~chris@user/zebrag)
[22:42:35] <emg> I also dwell in such a universe at the moment. I thought it would be fun to add a block to a script to determine the features that are available that the script needs. Similar to config tests but with a fail fast instead of workaround approach. I feel down the rabbit whole and now I'm trying to build bash 1.14.7 and 2.0
[22:43:13] <emg> and really there's no good reason, just checking bash version >= 4 would be good enough for 99+% of cases
[22:44:49] <emg> which reminds me, anyone know when process substitution was added? not on the faq 61 page or the linked bash-hackers page
[22:44:56] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 245 seconds)
[22:45:38] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[22:46:37] *** Quits: ttys000 (~ttys000@user/ttys000) (Read error: Connection reset by peer)
[22:46:51] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[22:47:23] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[22:47:24] <djph> good god why?
[22:47:33] <emg> academic curiosity?
[22:47:53] <emg> http://ix.io/3OYd
[22:48:00] <djph> OK, but why're you going to such outdated versions?
[22:48:20] <emg> so I can test how they respond when certain features are missing
[22:48:41] <emg> e.g. $'...' was added in 2.0, [[ was added in 2.02
[22:49:11] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[22:49:20] <emg> I know how e.g. dash reacts to $'...' but want to know how super old bash does
[22:49:25] *** Quits: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk) (Read error: Connection reset by peer)
[22:49:30] *** Joins: yitz (~yitz@exercism/yitz)
[22:49:32] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[22:49:39] *** Joins: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk)
[22:50:49] <larryv> 1# [ $'t' = t ]; echo "$?"
[22:50:50] <shbot> larryv: 1
[22:51:28] <greycat> Process substitution is older than bash 2.  That's why it's not in the CHANGES file.  It's prehistoric.
[22:51:34] <emg> oh snap, shbot, I'm an idiot
[22:51:39] <larryv> btw you're using += which itself only goes back to 3.1
[22:51:50] <emg> 1# echo $'t'
[22:51:51] <shbot> emg: $t
[22:52:05] <emg> larryv: work in progress, thanks for pointing that out
[22:52:18] <larryv> 1# foo=a; foo+=b
[22:52:20] <shbot> larryv: Segmentation fault
[22:52:21] <larryv> heh
[22:52:39] <greycat> 1# echo <(true)
[22:52:40] <shbot> greycat: /dev/fd/3
[22:52:51] <Earnestly> !when
[22:52:55] <Earnestly> Hm
[22:52:58] <Earnestly> !version
[22:52:58] <greybot> greybot 2021-08-23
[22:53:03] <greycat> !faq versions
[22:53:04] <greybot> https://mywiki.wooledge.org/BashFAQ/061 -- Is there a list of which features were added to specific releases (versions) of Bash?
[22:53:19] <Earnestly> This is good place to start
[22:53:24] <Earnestly> Much low hanging fruit
[22:54:43] *** Quits: Sauvin (~sauvin@about/linux/staff/sauvin) (Ping timeout: 256 seconds)
[22:55:36] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[22:57:09] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[22:57:24] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Client Quit)
[22:58:07] *** Quits: lmat (~Lmat@c-68-58-60-231.hsd1.in.comcast.net) (Ping timeout: 256 seconds)
[22:58:08] *** Joins: irc_user (uid423822@id-423822.lymington.irccloud.com)
[22:58:10] *** Joins: pj (~pj@ghettoforge/pj)
[22:58:57] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[22:58:57] *** Joins: masoudd_ (~masoudd@user/masoudd)
[23:01:59] <ormaaj2> emg: looked at this? https://github.com/modernish/modernish/tree/master/lib/modernish/cap
[23:02:40] *** Joins: sinaowolabi_ (~SinaOwola@160.152.112.183)
[23:02:54] <emg> ormaaj2: I haven not. Thanks.
[23:02:56] *** Joins: weechat (~Spawns_Ca@user/spawns-carpeting/x-6969421)
[23:02:58] *** Joins: barjac_ (~quassel@94.196.34.30.threembb.co.uk)
[23:03:30] *** Joins: xxzz_ (~xxzz@ec2-3-133-104-162.us-east-2.compute.amazonaws.com)
[23:05:47] *** Joins: Adoi (~Adoi@user/adoi)
[23:07:07] *** Joins: led_belly_ (~led_belly@83.97.23.14)
[23:07:52] *** Quits: masoudd (~masoudd@user/masoudd) (*.net *.split)
[23:07:52] *** Quits: N4buc0 (~N4buc0@2804:7f4:348a:fff2:86e5:3ec1:2264:dc1) (*.net *.split)
[23:07:52] *** Quits: WinterStar (~IceLight@user/icelight) (*.net *.split)
[23:07:52] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (*.net *.split)
[23:07:52] *** Quits: Celmor[m] (~celmor@2001:470:69fc:105::434) (*.net *.split)
[23:07:52] *** Quits: jinsun_ (~jinsun@user/jinsun) (*.net *.split)
[23:07:52] *** Quits: shroomreactionar (~shroomrea@2001:470:69fc:105::1:409e) (*.net *.split)
[23:07:52] *** Quits: ForeverNoob[m] (~foreverno@2001:470:69fc:105::8c6) (*.net *.split)
[23:07:52] *** Quits: Huy[m] (~huyngoenv@2001:470:69fc:105::dbc7) (*.net *.split)
[23:07:52] *** Quits: tamz[m] (~tamzmatri@2001:470:69fc:105::9d6d) (*.net *.split)
[23:07:52] *** Quits: led_belly (~led_belly@83.97.23.14) (*.net *.split)
[23:07:52] *** Quits: Spawns (~Spawns_Ca@user/spawns-carpeting/x-6969421) (*.net *.split)
[23:07:52] *** Quits: phr3ak (~noreply@gnet.hu) (*.net *.split)
[23:07:52] *** Quits: dirtwash (~dirtwash@user/dirtwash) (*.net *.split)
[23:07:52] *** Quits: kenyon (sid496813@id-496813.uxbridge.irccloud.com) (*.net *.split)
[23:07:52] *** Quits: thomas25 (thomas25@brought.to.you.by.bnc4free.com) (*.net *.split)
[23:07:52] *** Quits: torresjrjr (~torresjrj@user/torresjrjr) (*.net *.split)
[23:07:52] *** Quits: relipse (sid16131@id-16131.tinside.irccloud.com) (*.net *.split)
[23:07:52] *** Quits: Error (~err@user/error) (*.net *.split)
[23:07:52] *** Quits: selckin (~selckin@user/selckin) (*.net *.split)
[23:07:52] *** Quits: simpl_e (~user@user/simpl-e/x-8589812) (*.net *.split)
[23:07:52] *** Quits: DPA (~DPA@75-128-16-94.static.cable.fcom.ch) (*.net *.split)
[23:07:52] *** Quits: gothicserpent (~gothicser@2604:a880:4:1d0::176:6000) (*.net *.split)
[23:07:52] *** Quits: barjac (~quassel@94.196.34.30.threembb.co.uk) (*.net *.split)
[23:07:52] *** Quits: jelly (jelly@user/jelly) (*.net *.split)
[23:07:52] *** Quits: OMGOMG (~bobrobert@poppy.ifi.uio.no) (*.net *.split)
[23:07:52] *** Quits: tabakhase (tabakhase@user/tabakhase) (*.net *.split)
[23:07:52] *** Quits: xxzz (~xxzz@ec2-3-133-104-162.us-east-2.compute.amazonaws.com) (*.net *.split)
[23:07:52] *** Quits: BrowseMan (~BrowseMan@78.130.185.116) (*.net *.split)
[23:07:52] *** Quits: firewyre (~firewyre@pool-71-184-153-62.bstnma.fios.verizon.net) (*.net *.split)
[23:07:52] *** Quits: mschiff (~mschiff@gentoo/developer/mschiff) (*.net *.split)
[23:07:52] *** Quits: modin (~modin@user/modin) (*.net *.split)
[23:07:52] *** Quits: particleflux (~particlef@ircb.hackthe.codes) (*.net *.split)
[23:07:52] *** Quits: nickorta12 (~nickorta1@174-28-176-216.albq.qwest.net) (*.net *.split)
[23:07:52] *** Quits: bleb (~cm@user/bleb) (*.net *.split)
[23:07:52] *** Quits: n-st (~n-st@user/n-st) (*.net *.split)
[23:07:52] *** Quits: LowTax (~LowTax@arch64-iad.elecompte.info) (*.net *.split)
[23:07:52] *** Quits: mweckbecker (~matthias@weckbecker.name) (*.net *.split)
[23:07:52] *** Quits: ws2k3 (znc@vps.freegamehosting.eu) (*.net *.split)
[23:08:51] *** Joins: phr3ak (~noreply@gnet.hu)
[23:10:13] *** Joins: goldfish (~goldfish@user/goldfish)
[23:10:18] *** Joins: ttys000 (~ttys000@user/ttys000)
[23:10:24] *** Joins: nickorta12 (~nickorta1@174-28-176-216.albq.qwest.net)
[23:10:31] *** Joins: csm3105 (~csm3105@31.4.128.67)
[23:10:55] *** Quits: libc (~archer@user/tessio) (Ping timeout: 256 seconds)
[23:12:22] *** Joins: gschanuel21 (~gschanuel@user/gschanuel)
[23:12:26] *** Joins: N4buc0 (~N4buc0@2804:7f4:348a:fff2:86e5:3ec1:2264:dc1)
[23:12:26] *** Joins: WinterStar (~IceLight@user/icelight)
[23:12:26] *** Joins: jmcantrell (~jmcantrel@user/jmcantrell)
[23:12:26] *** Joins: Celmor[m] (~celmor@2001:470:69fc:105::434)
[23:12:26] *** Joins: jinsun_ (~jinsun@user/jinsun)
[23:12:26] *** Joins: shroomreactionar (~shroomrea@2001:470:69fc:105::1:409e)
[23:12:26] *** Joins: ForeverNoob[m] (~foreverno@2001:470:69fc:105::8c6)
[23:12:26] *** Joins: Huy[m] (~huyngoenv@2001:470:69fc:105::dbc7)
[23:12:26] *** Joins: tamz[m] (~tamzmatri@2001:470:69fc:105::9d6d)
[23:12:26] *** Joins: dirtwash (~dirtwash@user/dirtwash)
[23:12:26] *** Joins: kenyon (sid496813@id-496813.uxbridge.irccloud.com)
[23:12:26] *** Joins: thomas25 (thomas25@brought.to.you.by.bnc4free.com)
[23:12:26] *** Joins: relipse (sid16131@id-16131.tinside.irccloud.com)
[23:12:26] *** Joins: torresjrjr (~torresjrj@user/torresjrjr)
[23:12:26] *** Joins: Error (~err@user/error)
[23:12:26] *** Joins: selckin (~selckin@user/selckin)
[23:12:26] *** Joins: DPA (~DPA@75-128-16-94.static.cable.fcom.ch)
[23:12:26] *** Joins: jelly (jelly@user/jelly)
[23:12:26] *** Joins: gothicserpent (~gothicser@2604:a880:4:1d0::176:6000)
[23:12:26] *** Joins: tabakhase (tabakhase@user/tabakhase)
[23:12:26] *** Joins: OMGOMG (~bobrobert@poppy.ifi.uio.no)
[23:12:26] *** Joins: BrowseMan (~BrowseMan@78.130.185.116)
[23:12:26] *** Joins: firewyre (~firewyre@pool-71-184-153-62.bstnma.fios.verizon.net)
[23:12:26] *** Joins: mschiff (~mschiff@gentoo/developer/mschiff)
[23:12:26] *** Joins: modin (~modin@user/modin)
[23:12:26] *** Joins: particleflux (~particlef@ircb.hackthe.codes)
[23:12:26] *** Joins: bleb (~cm@user/bleb)
[23:12:26] *** Joins: n-st (~n-st@user/n-st)
[23:12:26] *** Joins: LowTax (~LowTax@arch64-iad.elecompte.info)
[23:12:26] *** Joins: ws2k3 (znc@vps.freegamehosting.eu)
[23:12:26] *** Joins: mweckbecker (~matthias@weckbecker.name)
[23:12:31] *** Quits: Filystyn (~piotr@user/filystyn) (Ping timeout: 256 seconds)
[23:13:10] *** Quits: csm3105 (~csm3105@31.4.128.67) (Client Quit)
[23:14:33] *** Quits: cliluw (~cliluw@47.147.73.223) (Ping timeout: 256 seconds)
[23:14:42] *** Joins: samgranieri (~samgranie@user/samgranieri)
[23:14:44] *** Joins: cliluw (~cliluw@47.147.73.223)
[23:16:02] *** Quits: bl4ackpajamas[m] (~bl4ackpaj@2001:470:69fc:105::1:73f4) (Ping timeout: 240 seconds)
[23:16:02] *** Quits: soundwave[m] (~pjconnect@2001:470:69fc:105::1:1c57) (Ping timeout: 240 seconds)
[23:16:02] *** Quits: kyle[m] (~kylematri@2001:470:69fc:105::1:73e8) (Ping timeout: 240 seconds)
[23:16:12] *** Quits: hugo[m]1 (~pumaenvsn@2001:470:69fc:105::1:5f09) (Ping timeout: 245 seconds)
[23:16:12] *** Quits: aplund (~aplundmat@2001:470:69fc:105::4146) (Ping timeout: 245 seconds)
[23:16:12] *** Quits: deekej[m] (~deekej@2001:470:69fc:105::a6c) (Ping timeout: 245 seconds)
[23:16:12] *** Quits: euphrates[m] (~euphrates@2001:470:69fc:105::fbb5) (Ping timeout: 245 seconds)
[23:16:12] *** Quits: kuhilas (~kuhilas@2001:470:69fc:105::3040) (Ping timeout: 245 seconds)
[23:16:12] *** Quits: lautre[m] (~lautreg@2001:470:69fc:105::311f) (Ping timeout: 245 seconds)
[23:16:12] *** Quits: gordonfish[m] (~gordonfis@user/gordonfish) (Ping timeout: 245 seconds)
[23:16:13] *** Quits: freshgum[m] (~freshgum_@2001:470:69fc:105::c1a5) (Ping timeout: 250 seconds)
[23:16:13] *** Quits: artemon (~artemon@2001:470:69fc:105::87c) (Ping timeout: 240 seconds)
[23:16:13] *** Quits: expipiplus1 (~expipiplu@2001:470:69fc:105::d713) (Ping timeout: 240 seconds)
[23:16:13] *** Quits: Helmholtz (~leibnizma@2001:470:69fc:105::3124) (Ping timeout: 240 seconds)
[23:16:14] *** Quits: sm (~sm@plaintextaccounting/sm) (Ping timeout: 240 seconds)
[23:16:14] *** Quits: thomasross[m] (~thomasros@2001:470:69fc:105::20bf) (Ping timeout: 240 seconds)
[23:16:26] *** Quits: anak8awan9hs[m] (~M9hsmatri@2001:470:69fc:105::1:15fc) (Ping timeout: 250 seconds)
[23:16:26] *** Quits: amber[m] (~amberamba@2001:470:69fc:105::1:59c0) (Ping timeout: 250 seconds)
[23:16:26] *** Quits: worldofgeese (~worldofge@2001:470:69fc:105::1:3cd8) (Ping timeout: 250 seconds)
[23:16:26] *** Quits: hussam (~hussam@user/hussam) (Ping timeout: 250 seconds)
[23:16:26] *** Quits: bluepenquin (~bluepenqu@user/bluepenquin) (Ping timeout: 250 seconds)
[23:16:26] *** Quits: miique (~miiquemat@2001:470:69fc:105::1:6901) (Ping timeout: 250 seconds)
[23:16:32] *** Quits: quas[m] (~quasmatri@2001:470:69fc:105::2aa5) (Ping timeout: 240 seconds)
[23:16:32] *** Quits: WannabeSorabist[ (~wannabeso@2001:470:69fc:105::1:75cd) (Ping timeout: 240 seconds)
[23:16:32] *** Quits: go4godvin (~go4godvin@user/go4godvin) (Ping timeout: 240 seconds)
[23:16:36] *** Quits: ormaaj (~ormaaj@user/ormaaj) (Ping timeout: 256 seconds)
[23:16:36] *** Quits: LiQuId[m] (~liquiddun@2001:470:69fc:105::1:66a9) (Ping timeout: 256 seconds)
[23:16:36] *** Quits: plopix[m] (~ewnzlmatr@2001:470:69fc:105::7b68) (Ping timeout: 256 seconds)
[23:16:36] *** Quits: Psi-Jack[m] (~psi-jack@user/psi-jack) (Ping timeout: 256 seconds)
[23:16:36] *** Quits: Arya[m] (~aryakmatr@2001:470:69fc:105::1:608f) (Ping timeout: 256 seconds)
[23:16:38] *** Quits: NRK (~nrkmatrix@2001:470:69fc:105::4e30) (Ping timeout: 252 seconds)
[23:16:38] *** Quits: M4[m] (~owl4cemat@2001:470:69fc:105::1:3235) (Ping timeout: 252 seconds)
[23:16:38] *** Quits: nicoty (~nicoty@user/nicoty) (Ping timeout: 252 seconds)
[23:16:38] *** Quits: mattcen (~mattcen@2001:470:69fc:105::936) (Ping timeout: 252 seconds)
[23:16:38] *** Quits: CarlFK (~carlfk@2001:470:69fc:105::5d8) (Ping timeout: 252 seconds)
[23:16:42] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (Ping timeout: 260 seconds)
[23:16:42] *** Quits: shroomreactionar (~shroomrea@2001:470:69fc:105::1:409e) (Ping timeout: 260 seconds)
[23:16:42] *** Quits: ForeverNoob[m] (~foreverno@2001:470:69fc:105::8c6) (Ping timeout: 260 seconds)
[23:16:42] *** Quits: Huy[m] (~huyngoenv@2001:470:69fc:105::dbc7) (Ping timeout: 260 seconds)
[23:16:43] *** Quits: tamz[m] (~tamzmatri@2001:470:69fc:105::9d6d) (Ping timeout: 260 seconds)
[23:17:03] *** Quits: JayDoubleu (~jdoubmatr@2001:470:69fc:105::1:3831) (Ping timeout: 268 seconds)
[23:20:26] *** Quits: jinsun_ (~jinsun@user/jinsun) (Ping timeout: 260 seconds)
[23:20:33] *** Quits: lkhn (~lkhn@user/lkhn) (Ping timeout: 250 seconds)
[23:21:21] *** Quits: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4) (Ping timeout: 268 seconds)
[23:21:22] *** Quits: Celmor[m] (~celmor@2001:470:69fc:105::434) (Ping timeout: 260 seconds)
[23:21:49] *** Joins: crashrep (~crashrep@user/crashrep)
[23:22:06] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[23:22:31] <Earnestly> That README is book wtf
[23:23:27] <Earnestly> Crazy amount of effort for nothing
[23:24:10] <Earnestly> These capability tests are a nice consequence of it though
[23:24:45] <Earnestly> Reminds me of https://github.com/avih/shcmp
[23:25:00] *** Joins: Atque (~Atque@user/atque)
[23:27:04] *** Parts: omnio (~omnio@user/omnio) (Konversation terminated!)
[23:28:22] *** Joins: lmat (~Lmat@c-68-58-60-231.hsd1.in.comcast.net)
[23:28:54] *** Joins: WannabeSorabist[ (~wannabeso@2001:470:69fc:105::1:75cd)
[23:28:55] *** Joins: anak8awan9hs[m] (~M9hsmatri@2001:470:69fc:105::1:15fc)
[23:28:55] *** Joins: hugo[m]1 (~pumaenvsn@2001:470:69fc:105::1:5f09)
[23:28:57] *** Joins: deekej[m] (~deekej@2001:470:69fc:105::a6c)
[23:29:30] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Read error: Connection reset by peer)
[23:29:52] *** Joins: magla (~gelignite@d5366c9a.access.ecotel.net)
[23:30:22] *** Quits: Adoi (~Adoi@user/adoi) (Quit: Leaving)
[23:35:31] *** Quits: masoudd_ (~masoudd@user/masoudd) (Quit: Leaving)
[23:37:05] *** Joins: jlc (~jlc@cpe-107-15-173-212.nc.res.rr.com)
[23:37:22] *** Joins: zro (~zro@user/zro)
[23:38:46] <chilversc> I need to wait until a background process outputs a specific line, do I need to use pipes for this or can I just use a custom file descriptor such as 3?
[23:39:39] <chilversc> I tried a simple; echo foo >&3 & cat <&3; but that just errors so obviously isn't working the way I was hoping
[23:39:42] <emg> chilversc: that can be difficult due to buffering, the answer depends on what you're actually trying to do, and often the answer involves: don't do that
[23:40:12] <emg> chilversc: so the bigger question: what are you actually trying to do and why?
[23:40:49] <greycat> I'm guessing "I'm implementing my own primitive process management system, and I need to launch a daemon and then wait until it reports readiness".
[23:40:50] <chilversc> I'm trying to run "gcloud start-iap-tunnel" to create a tunnel to a server with a private IP, then use "openssl s_client" to fetch a self-signed cert from said server
[23:41:12] <chilversc> but I need to wait until that tunnel is actually connected before running openssl
[23:41:52] <chilversc> ideally, the Terraform provided would tell me the certificate it just created for the server, but unfortunatly it doesn't
[23:41:55] *** Joins: ozzzo_work (~ozzzo_wor@h87.s239.verisign.com)
[23:42:15] *** Quits: ekathva (~ekathva@2001:999:50:cab1:b7e8:130b:c792:9fd) (Remote host closed the connection)
[23:42:16] *** Joins: ali (~ali@ptr-99ug59141rgbz9y8km3.18120a2.ip6.access.telenet.be)
[23:42:35] <emg> chilversc: and   gcloud start-iap-tunnel   doesn't exit once the tunnel is established? it just keeps running?
[23:42:58] <chilversc> yup, because that command is what actually maintains the tunnel
[23:43:01] <emg> chilversc: also why do you need to wait? why not run openssl and if it fails, wait a second and try again, etc.?
[23:43:12] *** Quits: tercaL (~tercaL@user/tercal) (Quit: enter the Tekken!)
[23:43:17] <znf> run openssl in a loop until it connects? :)
[23:43:36] <znf> or, heck, you might just do a check with a ping -c 1, and check return status?
[23:43:59] <chilversc> could do, I thought there would be an existing utility or something to run a command in the background and wait until it saw some text
[23:44:42] <znf> there's many ways you could do that
[23:44:53] <znf> you could just grep trough the log file until you find the match
[23:45:05] <znf> but why rely on the text when you can just check for the actual tunnel to be up
[23:45:09] <emg> maybe could do    gcloud start-iap-tunnel | while IFS= read -r line; do [[ $line == connected ]] || continue; openssl ...; break; done
[23:45:11] <emg> somethign like that
[23:45:33] <emg> assuming you want to kill the tunnel when you're done, and that it'll write something else to cause the SIGPIPE
[23:45:47] <emg> but really much easier to just run the tunnel in the background, loop on openssl, then kill the tunnel
[23:46:05] <chilversc> if I go via the polling route, I guess I combine that with "while [[ kill -0 $PID ]]" to check my background process is still running?
[23:46:47] <chilversc> ah sorry, while kill -0 $PID; no [[]]
[23:47:40] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[23:49:03] <chilversc> I'll just stick with the blind retry and hope the port I've chosen isn't in use
[23:49:51] <chilversc> normally start-iap-tunnel will pick a random unused port, but to actually know what that port is I'd need to look for "Listening on port" in the output from the background command
[23:51:44] *** Quits: crashrep (~crashrep@user/crashrep) (Quit: WeeChat 3.4)
[23:55:42] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.4)
[23:57:31] *** Quits: SuperLag (~akulbe@user/superlag) (Quit: leaving)
[23:58:30] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[23:59:06] *** Joins: wurstwasser (~frank.hol@2001:a61:34a7:b001:d0e2:a7fc:fa8e:4e1c)
