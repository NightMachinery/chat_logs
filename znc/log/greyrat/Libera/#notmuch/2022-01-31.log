[00:00:43] <cosimone> notmuch-identities seems to do the trick for multiple real names
[00:01:21] <cosimone> ironically enough, i thought i didn't work at first, but that was because my mail server went down just when i was sending a couple  test messages
[00:01:43] <cosimone> *it didn't work
[00:06:18] <bremner> mdt: hmm. I can't duplicate that here with subject:/../  . What is you failing example?
[00:08:56] <mdt> hm, indeed, subject just works fine. i added `notmuch config set index.header.Autocrypt Autocrypt`, and searched that via `notmuch search --output=files -- 'Autocrypt:/..*/'` which gave that error
[00:09:46] <bremner> ah, yeah. regex search is only available in a limited set of headers. See notmuch-search-terms(7)
[00:09:49] <mdt> an Autocrypt:/a.*/ works (and .+ too)
[00:10:01] <bremner> it might be working by mistake
[00:10:40] <bremner> do you just want non-empty Autocrypt headers?
[00:11:12] <mdt> strange: `notmuch tag +autocrypt -- 'Autocrypt:/addr=.*/'` worked
[00:11:38] *** Quits: nlhowell1 (~nlhowell@don28-11.ln.rinet.ru) (Ping timeout: 260 seconds)
[00:11:39] <mdt> yes, i wanted to see how many of those exist and auto import the keys
[00:11:57] <bremner> you can do that with sexp queries.
[00:12:17] <bremner> notmuch search --query=sexp '(Autocrypt *)' should work
[00:12:38] *** Joins: nlhowell1 (~nlhowell@don28-11.ln.rinet.ru)
[00:13:13] <bremner> if you want understand the tag case, you can try running with NOTMUCH_DEBUG_QUERY=t in the environment.
[00:14:28] <mdt> Query((Tmail AND (XUAutocrypt:addr@1 AND (AND_NOT Kautocrypt)))) is the final query
[00:14:58] <bremner> right, so it is looking for the word addr
[00:15:25] <mdt> the / ignored.. ok.
[00:18:18] <mdt> so Autocrypt:keydata would be fine, strange thing: the result using the api/bindings is empty. any idea what i did wrong?
[00:19:30] <mdt> (and the command line works fine)
[00:20:47] <bremner> Maybe when you opened you didn't pass the right config argument? Do  the go bindings support notmuch_database_open_with_config?
[00:21:54] <mdt> ah, debug works there too, so the query is completly different
[00:22:51] <mdt> no, only a pure open based on C.notmuch_database_open
[00:23:10] <bremner> then you'll need to store your header settings in the database
[00:25:39] <bremner> backstory: the query parser needs to be set up at database open time to know about your custom headers
[00:26:11] <bremner> the "old" way to do that is to store the headers in the database, with notmuch set --database
[00:28:03] <mdt> ah, ok. then i can do the tagging as i just did, that's propably simpler
[00:28:33] <mdt> because if that 's an "old" way it may disapear in the future?
[00:28:50] <bremner> it's not deprecated, just inconvenient
[00:29:40] <bremner> I'm somewhat invested in supporting config in the database, so I wouldn't worry about that too much.
[00:30:11] <mdt> :) Ok
[00:30:14] *** Joins: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius)
[00:32:19] *** Quits: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius) (Max SendQ exceeded)
[00:33:41] *** Joins: Raito_Bezarius (~Raito@wireguard/tunneler/raito-bezarius)
[00:33:56] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Remote host closed the connection)
[00:34:10] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[00:54:06] *** Quits: seschwar (~seschwar@user/seschwar) (Quit: :wq)
[01:15:45] *** Joins: seschwar (~seschwar@user/seschwar)
[01:22:08] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Remote host closed the connection)
[01:22:37] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[01:31:05] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:b145:6efe:44b7:516c) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:57:36] *** Quits: gour (~gour@77.237.114.18) (Remote host closed the connection)
[02:00:05] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Quit: ERC (IRC client for Emacs 27.1))
[02:34:31] *** Joins: nlhowell3 (~nlhowell@172.58.84.65)
[02:37:19] *** Quits: nlhowell2 (~nlhowell@172.58.84.159) (Ping timeout: 250 seconds)
[02:43:22] *** Joins: nlhowell4 (~nlhowell@172.58.84.48)
[02:43:22] *** Quits: nlhowell3 (~nlhowell@172.58.84.65) (Read error: Connection reset by peer)
[03:13:56] *** Joins: rgrinberg (~textual@187.223.115.137)
[03:40:24] *** Quits: nyah (~nyah@05453449.skybroadband.com) (Ping timeout: 250 seconds)
[03:56:04] *** Quits: seschwar (~seschwar@user/seschwar) (Quit: :wq)
[05:06:54] *** Quits: jao (~jao@68.235.43.84) (Ping timeout: 256 seconds)
[05:09:02] *** Joins: jao (~jao@cpc103048-sgyl39-2-0-cust502.18-2.cable.virginm.net)
[05:19:09] *** Quits: jao (~jao@cpc103048-sgyl39-2-0-cust502.18-2.cable.virginm.net) (Ping timeout: 256 seconds)
[05:21:03] *** Joins: jao (~jao@static-68-235-44-71.cust.tzulo.com)
[05:41:45] *** Joins: tylee (~tylee@user/tylee)
[05:43:31] *** Quits: rgrinberg (~textual@187.223.115.137) (Read error: Connection reset by peer)
[05:44:13] <tylee> Why notmuch can't search octothorpe (and some other) character properly? for example `notmuch search --output=messages tag:unread to:mail@example.org TEXT '#hashtag'` outputs all messages with word 'hashtag' not only '#hashtag' ones. What to do?
[05:44:44] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b)
[06:06:03] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:12:25] <bremner> tylee: this explained better in notmuch-search-terms(7) than I can do here. But Xapian mostly ignores punctuation
[06:16:53] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b)
[06:43:29] *** Joins: nlhowell (~nlhowell@172.58.84.48)
[06:46:38] *** Quits: nlhowell4 (~nlhowell@172.58.84.48) (Ping timeout: 256 seconds)
[07:04:32] *** Quits: jao (~jao@static-68-235-44-71.cust.tzulo.com) (Remote host closed the connection)
[07:20:38] *** Quits: nzeo (~nzeo@80.64.181.151) (Ping timeout: 256 seconds)
[07:23:33] *** Joins: jao (~jao@static-68-235-44-71.cust.tzulo.com)
[08:20:33] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:39:40] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b)
[08:47:28] *** Quits: jao (~jao@static-68-235-44-71.cust.tzulo.com) (Remote host closed the connection)
[08:58:34] *** Joins: jao (~jao@static-68-235-44-71.cust.tzulo.com)
[09:08:56] *** Quits: jao (~jao@static-68-235-44-71.cust.tzulo.com) (Remote host closed the connection)
[09:49:07] *** Joins: jao (~jao@static-68-235-44-71.cust.tzulo.com)
[10:01:30] *** Quits: bdale (~bdale@209-248-100-20.falconbroadband.net) (Ping timeout: 268 seconds)
[10:02:10] *** Joins: bdale (~bdale@209-248-100-20.falconbroadband.net)
[10:12:54] *** Quits: jao (~jao@static-68-235-44-71.cust.tzulo.com) (Ping timeout: 256 seconds)
[10:47:51] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:01:18] *** Joins: gour (~gour@77.237.114.18)
[11:28:47] *** Quits: geyaeb (~geyaeb@gateway/tor-sasl/geyaeb) (Remote host closed the connection)
[11:29:12] *** Joins: geyaeb (~geyaeb@gateway/tor-sasl/geyaeb)
[12:05:28] *** Quits: tsto (~tsto@omni.stoakes.net) (Ping timeout: 268 seconds)
[12:05:28] *** Quits: mdt (~qsecofr@emdete.de) (Ping timeout: 268 seconds)
[12:05:47] *** Joins: tsto (~tsto@omni.stoakes.net)
[12:06:04] *** Quits: Ebrahim[m] (~dearruden@2001:470:69fc:105::c1ee) (Ping timeout: 268 seconds)
[12:06:04] *** Quits: olly (~olly@2001:470:69fc:105::26f) (Ping timeout: 268 seconds)
[12:08:15] *** Joins: mdt (~qsecofr@emdete.de)
[12:10:35] *** Joins: olly (~olly@2001:470:69fc:105::26f)
[12:11:56] *** Joins: Ebrahim[m] (~dearruden@2001:470:69fc:105::c1ee)
[12:12:58] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[12:19:10] *** Quits: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20) (Ping timeout: 260 seconds)
[12:50:47] *** Joins: nzeo (~nzeo@80.64.181.151)
[12:56:57] *** Quits: nlhowell (~nlhowell@172.58.84.48) (Ping timeout: 240 seconds)
[13:48:41] *** dob1_ is now known as dob1
[15:43:31] *** Joins: nlhowell (~nlhowell@172.58.84.203)
[16:38:01] *** Quits: nlhowell (~nlhowell@172.58.84.203) (Ping timeout: 256 seconds)
[16:43:02] <tylee> thank you bremner. Another question that I didn't understand: how to combine various requests? for example, I need to check messages that has one of three words, "mail", "letter", "message" and has tag:unread, date:5M..today and to:mail@example.org.
[16:43:56] <tylee> I tried to do it with `notmuch search tag:unread to:mail@example.org date:5M..today body:mail or tag:unread to:mail@example.org date:5M..today body:letter or tag:unread to:mail@example.org date:5M..today body:message` but it shows messages even without unread tag for example.
[16:44:45] <tylee> or it's not supported? i write small shell script now and want to not to use many loops.
[16:47:53] <bremner> tylee: Maybe i don't understand the question it's just a boolean expression. You can use "and", "or" and parentheses.
[16:48:28] <bremner> each query matches a single set of messages / threads
[16:50:47] <tylee> so I should add parentheses before and after every part and add 'add' between every inside request?
[16:51:40] <bremner> there is default operators, but better to be explicit. Also not sure why you repeat the to: and date: parts.
[16:54:29] *** Joins: nyah (~nyah@05453449.skybroadband.com)
[16:59:29] <tylee> Sorry. As usual, it was my mistake in a script, I forgot --config string and it checked my main config every time. What a shame. Notmuch itself works perfectly, thank you dear devs.
[17:18:37] *** Joins: nlhowell (~nlhowell@149.160.162.223)
[18:22:36] *** Joins: gast0n (~g4570n@user/gast0n)
[18:30:40] *** Joins: seschwar (~seschwar@user/seschwar)
[18:43:28] *** Quits: nzeo (~nzeo@80.64.181.151) (Ping timeout: 256 seconds)
[18:43:51] *** Joins: nzeo (~nzeo@80.64.181.150)
[19:01:05] *** Quits: nlhowell (~nlhowell@149.160.162.223) (Ping timeout: 268 seconds)
[19:22:41] *** Joins: nlhowell (~nlhowell@149.160.162.223)
[19:55:26] *** Quits: gast0n (~g4570n@user/gast0n) (Ping timeout: 256 seconds)
[19:57:06] *** Joins: gast0n (~g4570n@user/gast0n)
[20:01:40] *** Quits: nlhowell (~nlhowell@149.160.162.223) (Ping timeout: 256 seconds)
[20:10:12] *** Quits: gast0n (~g4570n@user/gast0n) (Read error: Connection reset by peer)
[20:23:19] *** Joins: nlhowell (~nlhowell@149.160.162.223)
[20:29:47] *** Quits: nlhowell (~nlhowell@149.160.162.223) (Ping timeout: 256 seconds)
[20:37:13] *** Joins: nlhowell (~nlhowell@149.160.162.223)
[20:57:29] *** Joins: jao (~jao@static-68-235-44-23.cust.tzulo.com)
[21:08:02] *** Joins: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b)
[21:53:32] *** Joins: cosimone (~user@2001:b07:ae5:db26:c24a:d20:4d91:1e20)
[22:41:49] *** Quits: kzak (~kzak@nat-37.starnet.cz) (Ping timeout: 240 seconds)
[22:47:58] <olly> tylee: you don't need to repeat the filters for each search term - just apply them once
[23:12:43] *** Quits: rgrinberg (~textual@2806:101e:7:6bed:b45f:204a:668d:262b) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:21:02] *** Joins: gast0n (~g4570n@user/gast0n)
[23:44:09] <tylee> olly: like `notmuch search tag:unread to:mail@example.org date:5M..today body:mail or body:letter or body:message`?
[23:47:19] <olly> Yes - you can also do body:(mail or letter or message) though that'd need quoting from the shell
[23:56:30] *** Quits: tylee (~tylee@user/tylee) (Remote host closed the connection)
[23:59:15] *** Quits: gour (~gour@77.237.114.18) (Remote host closed the connection)
