[00:43:26] *** Quits: nmz1 (~nmz@adsl-72-50-6-135.prtc.net) (Quit: EXIT)
[00:48:44] *** Quits: macaw (~macaw@176.221.120.196) (Ping timeout: 256 seconds)
[00:53:02] *** Quits: besnn (~besnn@user/besnn) (Read error: Connection reset by peer)
[00:57:56] *** Joins: nmz1 (~nmz@adsl-72-50-4-46.prtc.net)
[01:15:00] *** Joins: mahmutov (~mahmutov@176.30.172.80)
[01:21:08] *** Quits: kipras (~kipras@78-57-120-254.static.zebra.lt) (Ping timeout: 265 seconds)
[01:51:53] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[02:32:43] *** Quits: Tricycle (~CGI273@lfbn-idf1-1-1830-41.w90-91.abo.wanadoo.fr) (Quit: bye)
[02:34:17] *** Quits: pizdets_ (~pizdets@183.182.111.150) (Ping timeout: 264 seconds)
[02:39:42] *** Joins: khoa (~khoa@user/khoa)
[03:05:33] *** Quits: Vornicus (~Vornicus@2603-8000-5d07-7ef0-bc4f-329b-a994-a9e5.res6.spectrum.com) (Read error: Connection reset by peer)
[03:32:10] *** Joins: dstein64- (~dstein64@dannyadam.com)
[03:34:37] *** Quits: Elw3 (~Elw3@dynamic-002-247-241-039.2.247.pool.telefonica.de) (Quit: Leaving)
[03:35:18] *** Quits: dstein64 (~dstein64@dannyadam.com) (Ping timeout: 260 seconds)
[03:35:18] *** dstein64- is now known as dstein64
[03:59:16] *** Joins: kst (~user@cpe-70-95-182-43.san.res.rr.com)
[04:00:29] *** Quits: nmz1 (~nmz@adsl-72-50-4-46.prtc.net) (Quit: EXIT)
[04:27:13] *** Quits: mahmutov (~mahmutov@176.30.172.80) (Ping timeout: 265 seconds)
[05:07:42] *** Quits: ratchet_freak (~ratchetfr@ptr-82rtos1uhakfz4xnvao.18120a2.ip6.access.telenet.be) (Ping timeout: 260 seconds)
[05:20:37] *** Joins: nmz1 (~nmz@adsl-64-237-239-111.prtc.net)
[05:21:22] *** Joins: nmz_ (~nmz@adsl-72-50-6-135.prtc.net)
[05:24:20] *** Quits: ratchetfreak (~ratchetfr@d8D8779D9.access.telenet.be) (Read error: Connection reset by peer)
[05:25:42] *** Quits: nmz1 (~nmz@adsl-64-237-239-111.prtc.net) (Ping timeout: 265 seconds)
[05:33:05] *** Quits: DixieFlatline (~soryuu@pool-173-61-70-58.cmdnnj.fios.verizon.net) (Ping timeout: 264 seconds)
[05:42:08] *** Quits: nmz_ (~nmz@adsl-72-50-6-135.prtc.net) (Ping timeout: 265 seconds)
[05:42:30] *** Joins: nmz_ (~nmz@adsl-64-237-239-111.prtc.net)
[05:44:55] *** Joins: nmz1 (~nmz@adsl-64-237-239-111.prtc.net)
[05:46:10] *** Joins: nmz__ (~nmz@adsl-72-50-4-46.prtc.net)
[05:47:31] *** Quits: nmz_ (~nmz@adsl-64-237-239-111.prtc.net) (Ping timeout: 252 seconds)
[05:49:50] *** Quits: nmz1 (~nmz@adsl-64-237-239-111.prtc.net) (Ping timeout: 252 seconds)
[06:01:57] *** Quits: Moosadee (~Moosadee@136.32.155.193) (Ping timeout: 265 seconds)
[06:06:53] *** Quits: aquanight (~aquanight@174-126-159-166.cpe.sparklight.net) (Ping timeout: 252 seconds)
[06:15:46] *** Quits: hendursaga (~weechat@user/hendursaga) (Quit: hendursaga)
[06:16:16] *** Joins: hendursaga (~weechat@user/hendursaga)
[07:08:27] *** Quits: ano (~ano@user/ano) (Ping timeout: 276 seconds)
[07:08:46] *** Joins: ano (~ano@user/ano)
[08:02:21] *** Joins: dvx (~dvx@185.63.97.64)
[08:30:28] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[08:41:01] *** Joins: Carp (~rue@1-162-40-185.dynamic-ip.hinet.net)
[08:48:59] *** Joins: Sauvin (~sauvin@about/linux/staff/sauvin)
[09:10:02] *** Quits: fcr (~fran@r167-56-82-133.dialup.adsl.anteldata.net.uy) (Ping timeout: 252 seconds)
[09:14:36] *** Joins: fcr (~fran@r167-60-56-49.dialup.adsl.anteldata.net.uy)
[09:15:12] *** Quits: vnogueir| (~vnogueira@user/vnogueira) (Ping timeout: 276 seconds)
[09:41:46] *** Joins: vnogueira (~vnogueira@user/vnogueira)
[09:45:38] *** Joins: besnn (~besnn@user/besnn)
[09:50:18] *** Quits: pounce (~pounce@facebook/engineering/pounce) (Quit: bye bye!)
[09:52:08] *** Joins: Yorlik_ (~Yorlik___@ip6-2a03-7500-040d-7700-00b7-fcfc-a10e-1f9a.dyn.netcomnetz.de)
[10:53:59] *** Quits: khoa (~khoa@user/khoa) (Ping timeout: 252 seconds)
[11:08:29] *** Quits: kiril (~kiril@85.91.153.163) (Read error: Connection reset by peer)
[11:11:22] *** Joins: kiril (~kiril@85.91.153.163)
[11:35:19] *** Joins: hendursa1 (~weechat@user/hendursaga)
[11:38:51] *** Quits: hendursaga (~weechat@user/hendursaga) (Ping timeout: 276 seconds)
[11:41:21] *** Quits: km (~km@user/km) (Quit: Leaving)
[11:41:37] *** Joins: km (~km@user/km)
[11:44:09] *** Quits: km (~km@user/km) (Client Quit)
[12:01:39] *** Joins: ratchetfreak (~ratchetfr@d8d8779d9.access.telenet.be)
[12:08:47] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Ping timeout: 252 seconds)
[12:10:35] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[12:16:29] *** Joins: pony (~ed@101.100.135.38)
[12:34:01] *** Quits: Yorlik_ (~Yorlik___@ip6-2a03-7500-040d-7700-00b7-fcfc-a10e-1f9a.dyn.netcomnetz.de) (Ping timeout: 252 seconds)
[12:42:23] *** Joins: kipras (~kipras@78-57-120-254.static.zebra.lt)
[13:03:46] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[13:19:31] *** Joins: khoa (~khoa@user/khoa)
[13:27:26] *** Quits: kiril (~kiril@85.91.153.163) (Read error: Connection reset by peer)
[13:29:11] *** Joins: macaw (~macaw@176.221.120.196)
[13:30:09] *** Joins: kiril (~kiril@85.91.153.163)
[13:32:39] *** Joins: aquanight (~aquanight@174-126-159-166.cpe.sparklight.net)
[13:38:30] *** Joins: Yorlik_ (~Yorlik___@ip4-188-74-2-139.dyn.netcomnetz.de)
[13:51:56] *** Joins: DixieFlatline (~soryuu@pool-173-61-70-58.cmdnnj.fios.verizon.net)
[14:08:03] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Quit: WeeChat 3.2)
[14:09:49] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[14:24:58] *** Yorlik_ is now known as Yorlik
[14:37:57] *** Quits: DixieFlatline (~soryuu@pool-173-61-70-58.cmdnnj.fios.verizon.net) (Remote host closed the connection)
[14:44:09] *** Joins: DixieFlatline (~soryuu@pool-173-61-70-58.cmdnnj.fios.verizon.net)
[14:54:46] *** Quits: supernovah (~supernova@mail.ijk.nz) (Ping timeout: 260 seconds)
[14:56:18] *** Joins: supernovah (~supernova@mail.ijk.nz)
[15:00:33] *** Joins: km (~km@user/km)
[15:13:21] *** Quits: kiril (~kiril@85.91.153.163) (Read error: Connection reset by peer)
[15:16:10] *** Joins: kiril (~kiril@85.91.153.163)
[15:16:20] *** Quits: Yorlik (~Yorlik___@ip4-188-74-2-139.dyn.netcomnetz.de) (Ping timeout: 265 seconds)
[15:17:17] *** Quits: DixieFlatline (~soryuu@pool-173-61-70-58.cmdnnj.fios.verizon.net) (Remote host closed the connection)
[15:26:16] *** Joins: xqt (~xqt@user/xqt)
[15:31:10] *** Quits: besnn (~besnn@user/besnn) (Ping timeout: 260 seconds)
[15:38:38] *** Joins: besnn (~besnn@user/besnn)
[15:41:34] *** Joins: DixieFlatline (~soryuu@pool-173-61-70-58.cmdnnj.fios.verizon.net)
[15:46:40] *** Joins: synthmeat (~synthmeat@user/synthmeat)
[15:51:51] *** Joins: vnogueir- (~vnogueira@user/vnogueira)
[15:53:00] *** Quits: vnogueira (~vnogueira@user/vnogueira) (Quit: ZNC 1.8.2 - https://znc.in)
[16:02:09] *** Quits: pony (~ed@101.100.135.38) (Quit: WeeChat 3.0.1)
[16:07:44] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:149b:27d3:9ff3:846a)
[16:07:44] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:149b:27d3:9ff3:846a) (Changing host)
[16:07:44] *** Joins: skapata (~Skapata@user/skapata)
[16:11:30] *** Joins: Yorlik (~Yorlik___@ip6-2a03-7500-040d-7700-10d4-62c7-a903-831c.dyn.netcomnetz.de)
[16:23:22] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 252 seconds)
[16:29:49] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[16:33:58] *** Quits: DixieFlatline (~soryuu@pool-173-61-70-58.cmdnnj.fios.verizon.net) (Remote host closed the connection)
[16:37:54] *** Quits: andreypopp (~andreypop@94.188.42.16) (Ping timeout: 260 seconds)
[16:40:16] *** Joins: andreypopp (~andreypop@94.188.42.16)
[16:51:25] *** Quits: Yorlik (~Yorlik___@ip6-2a03-7500-040d-7700-10d4-62c7-a903-831c.dyn.netcomnetz.de) (Ping timeout: 252 seconds)
[16:52:31] *** Quits: khoa (~khoa@user/khoa) (Ping timeout: 265 seconds)
[16:54:04] *** Joins: khoa (~khoa@user/khoa)
[17:03:35] *** Quits: khoa (~khoa@user/khoa) (Ping timeout: 252 seconds)
[17:05:19] *** Joins: khoa (~khoa@user/khoa)
[17:08:44] *** Joins: dmalteseknight (~dmaltesek@user/dmalteseknight)
[17:18:19] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 252 seconds)
[17:22:25] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[17:35:13] *** Joins: Vornicus (~Vornicus@2603-8000-5d07-7ef0-8db2-22ea-a950-11d1.res6.spectrum.com)
[17:45:22] *** Joins: Elw3 (~Elw3@dynamic-002-247-242-188.2.247.pool.telefonica.de)
[17:55:10] *** Quits: dmalteseknight (~dmaltesek@user/dmalteseknight) (Ping timeout: 252 seconds)
[17:56:21] *** Joins: DixieFlatline (~soryuu@pool-173-61-70-58.cmdnnj.fios.verizon.net)
[18:10:43] *** Joins: Overkill (~overkill9@69-165-200-34.cable.teksavvy.com)
[18:11:50] *** Quits: hendursa1 (~weechat@user/hendursaga) (Quit: hendursa1)
[18:12:15] *** Joins: hendursaga (~weechat@user/hendursaga)
[18:13:52] *** Quits: Overkilll (~overkill9@69-165-200-34.cable.teksavvy.com) (Ping timeout: 252 seconds)
[18:21:58] *** Quits: xqt (~xqt@user/xqt) (Ping timeout: 260 seconds)
[18:33:44] *** Quits: Elw3 (~Elw3@dynamic-002-247-242-188.2.247.pool.telefonica.de) (Quit: Leaving)
[18:34:18] *** Quits: hogarius (hogarius@id-222644.uxbridge.irccloud.com) (Ping timeout: 268 seconds)
[18:35:03] *** Joins: hogarius (hogarius@id-222644.uxbridge.irccloud.com)
[18:45:08] *** Joins: Yorlik (~Yorlik___@ip6-2a03-7500-040d-7700-50bc-6a7c-19ce-4ac1.dyn.netcomnetz.de)
[19:25:40] *** Quits: Yorlik (~Yorlik___@ip6-2a03-7500-040d-7700-50bc-6a7c-19ce-4ac1.dyn.netcomnetz.de) (Ping timeout: 250 seconds)
[19:37:52] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Quit: WeeChat 3.2.1)
[19:45:38] *** Quits: vnogueir- (~vnogueira@user/vnogueira) (Remote host closed the connection)
[19:46:00] *** Joins: Yorlik (~Yorlik___@ip6-2a03-7500-040d-7700-8005-d5e6-d50f-8480.dyn.netcomnetz.de)
[19:46:42] *** Joins: vnogueira (~vnogueira@user/vnogueira)
[20:04:56] *** Joins: vnogueir- (~vnogueira@user/vnogueira)
[20:05:51] *** Quits: vnogueira (~vnogueira@user/vnogueira) (Ping timeout: 276 seconds)
[20:07:01] *** Parts: Carp (~rue@1-162-40-185.dynamic-ip.hinet.net) (WeeChat 3.2.1)
[20:17:45] *** Quits: R2robot (~R2robot@user/r2robot) (Quit: Pull the lever, Kronk.  Wrong leverrrrrrr!)
[20:21:43] *** Joins: R2robot (~R2robot@user/r2robot)
[20:30:19] *** Joins: miasuji (~miasuji@97.118.103.149)
[20:39:32] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[20:40:30] *** Joins: Moosadee (~Moosadee@136.32.155.193)
[20:47:06] *** Quits: besnn (~besnn@user/besnn) (Ping timeout: 260 seconds)
[20:56:05] *** Joins: pizdets (~pizdets@183.182.115.95)
[21:01:02] *** Joins: besnn (~besnn@user/besnn)
[21:12:04] *** Quits: fcr (~fran@r167-60-56-49.dialup.adsl.anteldata.net.uy) (Ping timeout: 252 seconds)
[21:13:50] *** Quits: kipras (~kipras@78-57-120-254.static.zebra.lt) (Ping timeout: 252 seconds)
[21:15:27] *** Quits: Yorlik (~Yorlik___@ip6-2a03-7500-040d-7700-8005-d5e6-d50f-8480.dyn.netcomnetz.de) (Ping timeout: 240 seconds)
[21:17:32] *** Joins: fcr (~fran@r167-60-141-100.dialup.adsl.anteldata.net.uy)
[21:28:47] *** Joins: Elw3 (~Elw3@x59cc9af7.dyn.telefonica.de)
[21:47:20] *** Joins: Oni^ (oni@kapsi.fi)
[21:51:18] *** Quits: Sauvin (~sauvin@about/linux/staff/sauvin) (Remote host closed the connection)
[21:51:30] <Oni^> I have a description = { [800] = "Selkeää",[804] = "Pilvistä"} table and use it with description[response.id] how to get table return just id if its not in a table?
[21:52:15] <technomancy> Oni^: setmetatable(description, {__index=function(_, x) return x end}) or something
[21:53:00] <Elw3> description[response.id] or response.id
[21:55:51] *** Joins: ratchet_freak (~ratchetfr@ptr-82rtos1uhakfz4xnvao.18120a2.ip6.access.telenet.be)
[22:11:31] <fullstop> any idea why a copas socket would not connect in some situations on an embedded platform?  The same code works on a desktop, so something is different with respect to socket behavior or timing.
[22:12:30] *** Quits: miasuji (~miasuji@97.118.103.149) (Quit: Leaving)
[22:16:31] <fcr> fullstop: are you using the same operating system (as in using linux) in both computers?
[22:16:54] <fullstop> fcr: both are linux, although the kernel version is slightly different.
[22:17:19] <fullstop> 5.14.2 on my desktop, 5.10.22 on the device.
[22:17:48] <fullstop> changing settimeout(0) -> settimeout(0.1) _sometimes_ seems to allow it to connect.  Not every time, though.
[22:17:54] <fcr> have you tested trying to connect from the embedded device with a socket without copas?
[22:18:10] <fullstop> I can use curl successfully, so connectivity is just fine.
[22:18:26] <fcr> maybe your desktop is faster and, that could explain the settimeout behavior
[22:18:27] <fullstop> plain luasocket also works
[22:18:41] <fullstop> the desktop is significantly faster
[22:19:02] <fullstop> but even changing the timeout to multiple seconds does not help.
[22:19:28] <fcr> btw, I don't remember having to use settimeout when using copas...
[22:20:04] <fullstop> fcr: Right, I was modifying copas.lua itself in an attempt to figure out the differences.
[22:20:28] <fullstop> function copas.connect(skt, host, port) specifically
[22:20:41] <fcr> so I would guess that it works with the unmodified upstream version
[22:21:40] <fullstop> fcr: I started with that version.
[22:21:44] <fullstop> https://github.com/keplerproject/copas/blob/master/src/copas.lua#L541
[22:21:49] <fullstop> Never gets past that line.
[22:23:28] <fcr> hmmm, then I guess the problem could be either in luasocket or in copas
[22:24:35] <fullstop> I am calling copas.step() about every 100 milliseconds, perhaps that is too frequently
[22:24:48] <fcr> I've seen copas doing weird stuff, for instance on a normal use case, you can see multiple connect requests if you strace it, it's kind of weird
[22:25:13] <fcr> you could do a while true do copas.step() end and it would be ok
[22:25:28] <fullstop> Yes, it calls connect multiple times according to strace.  I've not measured the frequency.
[22:27:15] <fcr> I guess that maybe you could try to find the smallest code possible that fails, and then post that into an issue on the copas project
[22:30:50] *** Quits: pizdets (~pizdets@183.182.115.95) (Ping timeout: 252 seconds)
[22:33:01] <fullstop> I'll see what I can do.  It looks like, in my case, that it is calling connect about 4x a second.
[22:45:08] *** Quits: Rue (~rue@2001-b011-1000-1288-2af2-18b5-70e3-9f29.dynamic-ip6.hinet.net) (Ping timeout: 246 seconds)
[22:47:19] *** Joins: Rue (~rue@2001-b011-1000-1f54-7eb3-4a8c-a9e9-9ba2.dynamic-ip6.hinet.net)
[23:04:10] *** Joins: jaawerth (~jaawerth@104.131.115.202)
[23:14:19] *** Quits: dvx (~dvx@185.63.97.64) (Remote host closed the connection)
[23:19:05] *** Quits: besnn (~besnn@user/besnn) (Read error: Connection reset by peer)
[23:25:12] <fullstop> "connect" is called each time copas.step() is called.
[23:45:51] <fullstop> omg, I had an older version of copas which was being found in the path earlier because of the environment on the embedded device.
[23:46:08] <fullstop> I still need to change the settimeout to be non-zero, though.
