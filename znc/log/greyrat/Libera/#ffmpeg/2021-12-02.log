[00:10:17] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Quit: WeeChat 3.3)
[00:12:08] *** Joins: sysRPL (~sysRPL@ec2-3-131-36-133.us-east-2.compute.amazonaws.com)
[00:12:11] <sysRPL> hello
[00:12:57] <sysRPL> hello people. i am using linux and have written some graphics demos i am trying to record as video
[00:13:06] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[00:13:53] <sysRPL> i want to records the demos on my linux pc, windows, raspberry pi, mac ... and to help with that i just purchased a flint 4kp usb video capture device
[00:15:13] <sysRPL> i have it pluggedinto obs, and i can see and capture video, but when i try to record 1080p60 video after about 10 seconds the video capture rate usually turns into a slide show
[00:15:30] <sysRPL> i think this is an ffmpeg problem
[00:16:26] <sfan5> emcodem: setvbuf() usually does that but if you're already using that and it doesn't go beyond 64k you should reassess your requirements
[00:16:36] <sysRPL> i have used ffmpeg a lot in the past, but this is a bit beyond me. i tried setting up obs to use advanced recording options. i specified the mkv contain and tried using the vp9 encode with a 10000 kbps rate
[00:17:02] <furq> sysRPL: is the encoder running fast enough
[00:17:30] <sysRPL> i tried other recording settigns as well, but i always have the same problem. a bad video capture rate / quality after 10 or more seconds of recording
[00:18:32] <sysRPL> furq: i am unsure how to tell
[00:19:12] *** Quits: Volgaar (~volgaar@193.137.116.78.rev.sfr.net) (Quit: WeeChat 3.3)
[00:19:14] <sysRPL> i am usign linux mint 20.2 with a 4800MQ cpu and 16GB of ram. i have hybrid graphics with amd radeon 8790m with 2gb video ram
[00:19:44] <sysRPL> that is both a integrated and discrete gpu
[00:20:16] <sysRPL> does anone have any advice?
[00:20:53] <sysRPL> perhaps i can try a different encoder and some specific encoder settings?
[00:29:55] *** Quits: haihao (~haihao@192.55.46.56) (Ping timeout: 256 seconds)
[00:30:17] *** Joins: haihao (~haihao@192.102.204.55)
[00:30:21] *** Joins: durandal_1707 (~computer@95.168.120.76)
[00:31:01] *** Quits: durandal_1707 (~computer@95.168.120.76) (Read error: Connection reset by peer)
[00:33:22] *** Joins: durandal_1707 (~computer@95.168.121.24)
[00:33:26] *** Quits: Blacker47 (~Blacker47@user/blacker47) (Quit: Life is short. Get a V.90 modem fast!)
[00:35:56] *** Quits: teebz (~tcb@66.51.154.90) (Write error: Connection reset by peer)
[00:38:05] *** Joins: teebz (~tcb@66.51.154.90)
[00:40:09] <furq> sysRPL: if you've only tried vp9 then that's probably why
[00:40:17] <furq> libvpx is pretty slow and needs tweaking to multithread properly
[00:40:24] <furq> if you want to rule out it being the encoder then use rawvideo or something
[00:40:27] <sysRPL> maybe there i have tried several
[00:40:55] <sysRPL> okay ... can rawvideo foit inside mkv?
[00:41:04] <sysRPL> * fit
[00:41:14] <furq> sure
[00:41:22] <sysRPL> i have does raw i think and it worked
[00:41:25] <furq> this isn't a solution because it'll be enormous
[00:41:32] <sysRPL> but 1 mminute was several gigs
[00:41:33] <furq> but if that works then the problem is most likely the encoder running too slow
[00:41:49] <sysRPL> so i think the encode is running too slow
[00:41:57] *** Quits: arbitercoin (~Rheanna@218.78.104.50) (Remote host closed the connection)
[00:42:23] <furq> try encoding with x264
[00:42:24] <sysRPL> what would be a good encoder for 1080p60 if i don't mind somewhat alrge failes
[00:42:35] <sysRPL> i was using x264 before
[00:42:54] <furq> it has different speed presets you can use
[00:42:59] <furq> idk how obs exposes them
[00:43:04] <sysRPL> what arguments can i give to ffmpeg through the obs interface to say favor faster encoding?
[00:43:10] <furq> -preset superfast
[00:43:13] *** Joins: arbitercoin (~Rheanna@218.78.104.50)
[00:43:18] <sysRPL> let me check
[00:43:35] <sysRPL> what bitrate should i use?
[00:43:48] <furq> no idea, depends on the content
[00:43:55] <furq> generally you want to use a crf value instead of a fixed bitrate
[00:45:47] <sysRPL> trying right now
[00:49:05] <sysRPL> i think that may have done it
[00:49:19] <sysRPL> how can i get the framerate of this mkv?
[00:49:25] <sysRPL> it's not showing up in vlc
[00:49:37] <sysRPL> i think there is a ffinfo command
[00:50:22] <furq> ffprobe
[00:51:07] <sysRPL> yeah fgot it
[00:51:15] <sysRPL> it says 62 fps
[00:52:37] <sysRPL> i think this got it
[00:52:38] <sysRPL> thanks
[00:54:09] <sysRPL> i am going to record a test video now
[00:57:07] *** Quits: bencc1 (~bencc1@5.29.18.40) (Ping timeout: 256 seconds)
[00:59:50] <sysRPL> i tried veryfast and it failed
[00:59:59] <sysRPL> i will retry with superfast
[01:03:32] *** Quits: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[01:07:45] *** Quits: haihao (~haihao@192.102.204.55) (Ping timeout: 252 seconds)
[01:07:56] <sysRPL> nope
[01:08:03] <sysRPL> it's messing up again
[01:08:07] *** Joins: haihao (~haihao@192.55.46.56)
[01:08:09] <sysRPL> the same thing
[01:08:32] <sysRPL> it get choppy after a few seconds of recording
[01:08:58] <sysRPL> this is what i am recording -> https://www.getlazarus.org/videos/physics/synthwave/
[01:09:04] *** Quits: Guest9482 (~Buster@46.160.36.66) (Ping timeout: 256 seconds)
[01:13:14] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[01:15:29] *** Joins: bencc1 (~bencc1@5.29.18.40)
[01:17:52] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[01:25:36] *** Quits: cosimone (~user@2001:b07:ae5:db26:a7aa:8027:6b4e:2fb3) (Quit: ERC (IRC client for Emacs 27.1))
[01:32:31] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:36:05] *** Joins: tlacatlc6 (~tlacatlc6@097-101-132-062.res.spectrum.com)
[01:48:24] *** Quits: durandal_1707 (~computer@95.168.121.24) (Read error: Connection reset by peer)
[01:49:22] *** Joins: durandal_1707 (~computer@95.168.121.24)
[01:56:38] *** Quits: emcodem (uid483343@id-483343.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[02:00:55] *** Quits: MG202157 (MG2021@gateway/vpn/protonvpn/mg2021) (Quit: Client closed)
[02:12:01] *** Joins: auth (~auth@user/auth)
[02:13:03] *** Quits: jafa (~jafa@ip70-162-106-203.ph.ph.cox.net) (Ping timeout: 256 seconds)
[02:15:50] *** Quits: fkaa (~fkaa@81-226-20-99-no256.tbcn.telia.com) (Quit: Leaving)
[02:22:20] *** Quits: arbitercoin (~Rheanna@218.78.104.50) (Remote host closed the connection)
[02:23:41] *** Joins: arbitercoin (~Rheanna@218.78.94.61)
[02:41:59] *** Quits: minimal (~minimal@user/minimal) (Quit: Leaving)
[02:46:01] *** Joins: phinxy (~phinxy@78-71-229-90-no500.tbcn.telia.com)
[03:00:21] <sysRPL> i think i solved my linux usb video capture performance problem
[03:00:38] <sysRPL> the problem was ... drum roll please ...
[03:00:50] <sysRPL> the AC adapter
[03:01:34] *** Quits: phinxy (~phinxy@78-71-229-90-no500.tbcn.telia.com) (Quit: Client closed)
[03:02:11] *** Joins: phinxy (~phinxy@78-71-229-90-no500.tbcn.telia.com)
[03:02:37] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Remote host closed the connection)
[03:11:19] *** Quits: haihao (~haihao@192.55.46.56) (Ping timeout: 252 seconds)
[03:11:41] *** Joins: haihao (~haihao@192.55.46.56)
[03:12:07] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[03:12:08] *** Quits: arbitercoin (~Rheanna@218.78.94.61) (Remote host closed the connection)
[03:14:36] *** Joins: arbitercoin (~Rheanna@218.78.79.129)
[03:22:24] *** Joins: erfan (~erfch@31.14.159.28)
[03:23:29] *** Quits: erfan (~erfch@31.14.159.28) (Client Quit)
[03:24:46] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3)
[03:25:17] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[03:25:42] *** Quits: phinxy (~phinxy@78-71-229-90-no500.tbcn.telia.com) (Quit: Client closed)
[03:26:18] *** Joins: phinxy (~phinxy@78-71-229-90-no500.tbcn.telia.com)
[03:27:44] *** Joins: iconoclasthero (~quassel@pool-68-238-241-198.phlapa.fios.verizon.net)
[03:30:07] *** Joins: erfan (~erfch@31.14.159.28)
[03:31:16] *** Quits: erfan (~erfch@31.14.159.28) (Client Quit)
[03:50:59] *** Quits: iconoclasthero (~quassel@pool-68-238-241-198.phlapa.fios.verizon.net) (Remote host closed the connection)
[04:13:03] *** Quits: led_belly (~led_belly@5.180.62.139) (Remote host closed the connection)
[04:13:06] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-f5ee-2791-688d-e316.res6.spectrum.com) (Quit: jarthur)
[04:27:19] <sysRPL> okay, so with my laptop on the correct AC adapter, and using the flint 2kp usb video capture device, this is what my demo videos look like when captured running linux, to a linux capture laptop with obs using 1080p60 default settings -> https://www.youtube.com/watch?v=6ncOw81F_O0
[04:31:41] *** Joins: jarthur (~jarthur@2603-8080-1540-002d-e9e5-b5d0-98d2-cc50.res6.spectrum.com)
[04:50:45] *** Quits: MrZeus (~MrZeus@2a02:c7f:a0aa:4400:8484:944:a324:5c92) (Ping timeout: 268 seconds)
[05:09:45] *** Joins: lucaswang (~lucaswang@58.246.19.98)
[05:11:22] *** Quits: Al2O3 (~Al2O3@user/al2o3) (Quit: I'm quitting, thanks for all the sharks.)
[05:11:46] *** Joins: Al2O3 (~Al2O3@user/al2o3)
[05:12:19] *** Quits: lucaswang (~lucaswang@58.246.19.98) (Client Quit)
[05:18:09] *** Joins: darkapex (~darkapex@user/darkapex)
[05:19:17] *** Quits: darkapex_ (~darkapex@user/darkapex) (Ping timeout: 252 seconds)
[05:34:14] *** Quits: zumba_addict (~zumba_add@2601:240:4500:8320:224:1dff:fec8:64f6) (Quit: Client closed)
[05:44:21] *** Quits: auth (~auth@user/auth) (Quit: Leaving)
[05:55:25] *** Quits: Atsuko (~x@94.242.254.66) (Remote host closed the connection)
[06:19:47] *** Joins: auth (~auth@user/auth)
[06:22:26] *** Quits: vulpine (~xfnw@tilde.team) (Ping timeout: 245 seconds)
[06:23:48] *** Quits: auth (~auth@user/auth) (Client Quit)
[06:24:50] *** Joins: vulpine (xfnw@tilde.team)
[06:32:05] *** Quits: arbitercoin (~Rheanna@218.78.79.129) (Remote host closed the connection)
[06:34:16] *** Joins: arbitercoin (~Rheanna@101.89.150.168)
[06:37:22] *** Joins: MG2021 (~MG2021@91.99.82.222)
[06:39:40] *** Joins: MG202163 (~MG2021@91.99.82.222)
[06:42:14] *** Quits: MG2021 (~MG2021@91.99.82.222) (Ping timeout: 256 seconds)
[06:45:38] *** Quits: xkuru (~xkuru@user/xkuru) (Read error: Connection reset by peer)
[06:47:39] *** Joins: xkuru (~xkuru@user/xkuru)
[06:49:00] *** Quits: xkuru (~xkuru@user/xkuru) (Read error: Connection reset by peer)
[06:51:03] *** Joins: MG20216352 (~MG202163@91.99.82.222)
[06:54:08] *** Quits: MG202163 (~MG2021@91.99.82.222) (Ping timeout: 256 seconds)
[06:54:50] *** Joins: Vonter (~Vonter@user/vonter)
[07:00:07] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 252 seconds)
[07:07:05] *** Quits: jos1 (~jos3@dyndsl-091-248-052-174.ewe-ip-backbone.de) (Ping timeout: 252 seconds)
[07:07:17] *** Joins: Kei_N_ (~Kei_N@user/kei-n/x-2886111)
[07:09:37] *** Quits: MG20216352 (~MG202163@91.99.82.222) (Quit: Client closed)
[07:09:49] *** Joins: MG20216352 (~MG2021635@91.99.82.222)
[07:10:21] *** Quits: Kei_N (~Kei_N@user/kei-n/x-2886111) (Ping timeout: 265 seconds)
[07:11:57] *** Joins: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021)
[07:15:40] *** Quits: MG20216352 (~MG2021635@91.99.82.222) (Ping timeout: 256 seconds)
[07:15:42] *** Quits: phinxy (~phinxy@78-71-229-90-no500.tbcn.telia.com) (Quit: Client closed)
[07:16:31] *** Joins: phinxy (~phinxy@78-71-229-90-no500.tbcn.telia.com)
[07:20:00] *** Joins: jos1 (~jos3@dyndsl-178-142-070-050.ewe-ip-backbone.de)
[07:38:44] *** Joins: auth (~auth@user/auth)
[07:47:03] *** Quits: c7s (~c7s@user/c7s) (Ping timeout: 252 seconds)
[07:58:20] *** Quits: tlacatlc6 (~tlacatlc6@097-101-132-062.res.spectrum.com) (Quit: Leaving)
[08:00:37] *** Joins: MG202139 (MG2021@gateway/vpn/protonvpn/mg2021)
[08:02:58] *** Joins: led_belly (~led_belly@5.180.62.222)
[08:04:24] *** Quits: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021) (Ping timeout: 256 seconds)
[08:07:22] *** Joins: Vonter (~Vonter@user/vonter)
[08:13:38] *** Joins: Atsuko (~x@94.242.250.86)
[08:21:40] *** Quits: MG202139 (MG2021@gateway/vpn/protonvpn/mg2021) (Quit: Client closed)
[08:22:44] *** Quits: Vonter (~Vonter@user/vonter) (Read error: Connection reset by peer)
[08:30:48] *** Joins: Vonter (~Vonter@user/vonter)
[08:42:31] *** Quits: furq (~furq@b23.be) (Remote host closed the connection)
[08:43:22] *** Joins: furq (~furq@b23.be)
[08:48:03] *** Quits: furq (~furq@b23.be) (Remote host closed the connection)
[08:48:32] *** Joins: furq (~furq@b23.be)
[09:00:22] *** Joins: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de)
[09:01:45] *** Quits: Vonter (~Vonter@user/vonter) (Read error: Connection reset by peer)
[09:04:03] *** Joins: Vonter (~Vonter@user/vonter)
[09:45:09] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:48:03] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 252 seconds)
[09:59:24] *** Quits: AbleBacon (~AbleBacon@user/AbleBacon) (Read error: Connection reset by peer)
[09:59:32] *** Quits: nikos (~nikos@104.248.205.38) (Quit: "Quit")
[10:00:01] *** Quits: tuxd3v (~tuxd3v@93.102.33.166.rev.optimus.pt) (Remote host closed the connection)
[10:00:52] *** Joins: nikos (~nikos@104.248.205.38)
[10:12:44] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Ping timeout: 265 seconds)
[10:14:45] *** Joins: tuxd3v (~tuxd3v@93.102.33.166.rev.optimus.pt)
[10:14:49] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[10:14:57] *** Joins: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021)
[10:28:36] *** Joins: dlew^ (~dlew@68.101.58.90)
[10:33:16] *** Quits: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021) (Quit: Client closed)
[10:35:07] *** Quits: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[10:42:29] *** Quits: arbitercoin (~Rheanna@101.89.150.168) (Remote host closed the connection)
[10:44:00] *** Joins: arbitercoin (~Rheanna@101.91.232.166)
[10:44:38] *** Joins: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021)
[10:52:41] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 256 seconds)
[10:59:42] *** Joins: Vonter (~Vonter@user/vonter)
[11:00:45] *** Quits: Vonter (~Vonter@user/vonter) (Read error: Connection reset by peer)
[11:03:05] *** Joins: Vonter (~Vonter@user/vonter)
[11:18:55] *** Quits: jarthur (~jarthur@2603-8080-1540-002d-e9e5-b5d0-98d2-cc50.res6.spectrum.com) (Quit: jarthur)
[11:19:11] *** Joins: someuser (~user@217.54.73.8)
[11:20:34] *** Quits: Vonter (~Vonter@user/vonter) (Read error: Connection reset by peer)
[11:22:25] *** Joins: fkaa (~fkaa@81-226-20-99-no256.tbcn.telia.com)
[11:23:02] *** Joins: palasso (~palasso@user/palasso)
[11:23:04] *** Joins: Vonter (~Vonter@user/vonter)
[11:38:20] *** Joins: cosimone (~user@93-44-186-55.ip98.fastwebnet.it)
[11:39:36] *** Joins: Volgaar (~volgaar@nat-wifi-eduroam.reseau.univ-paris13.fr)
[11:56:30] *** Joins: rsx (~dummy@ppp-188-174-130-10.dynamic.mnet-online.de)
[12:09:13] *** Quits: Vonter (~Vonter@user/vonter) (Ping timeout: 252 seconds)
[12:10:30] *** Joins: luc4 (~luc4@pa-18-187-133.service.infuturo.it)
[12:18:17] *** Joins: MG202117 (~MG2021@91.99.83.38)
[12:19:24] *** Quits: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021) (Ping timeout: 256 seconds)
[12:22:17] *** Quits: arbitercoin (~Rheanna@101.91.232.166) (Remote host closed the connection)
[12:23:42] *** Joins: arbitercoin (~Rheanna@218.78.105.67)
[12:24:01] *** Joins: Jan\ (~kvirc@104.204.200.116)
[12:26:54] *** Joins: SegmentFault (~SegmentFa@192.55.46.56)
[12:28:13] *** Joins: lavaball (felix@31.204.155.215)
[12:29:04] *** Quits: SegmentFault (~SegmentFa@192.55.46.56) (Client Quit)
[12:30:58] *** Joins: g0d0h932 (~doe@184-75-138-166.resi.cgocable.ca)
[12:31:28] <g0d0h932> hi
[12:32:38] <g0d0h932> wow this guys bought a radio frequencies scanner and found bio tech in his body https://www.youtube.com/watch?v=E1ZqRhe4lZE
[12:32:48] <g0d0h932> oups sorry wrong chan
[12:34:38] *** Parts: g0d0h932 (~doe@184-75-138-166.resi.cgocable.ca) ()
[12:41:31] *** Joins: Homework (~Homework@host-2-103-252-102.as13285.net)
[12:42:12] *** Parts: Homework (~Homework@host-2-103-252-102.as13285.net) ()
[12:43:46] *** Quits: MG202117 (~MG2021@91.99.83.38) (Ping timeout: 256 seconds)
[12:49:09] *** Joins: jiba (~jiba@111.179.157.150)
[12:50:34] *** Quits: jiba (~jiba@111.179.157.150) (Client Quit)
[12:52:00] *** Joins: Muimi_ (~Muimi@192.248.191.237)
[13:00:50] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[13:01:02] *** Joins: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021)
[13:06:20] *** Joins: dreamon (~dreamon@ppp-88-217-67-53.dynamic.mnet-online.de)
[13:09:08] *** Quits: phinxy (~phinxy@78-71-229-90-no500.tbcn.telia.com) (Quit: Client closed)
[13:12:33] *** Quits: Kei_N_ (~Kei_N@user/kei-n/x-2886111) (Read error: Connection reset by peer)
[13:12:48] *** Joins: Kei_N (~Kei_N@user/kei-n/x-2886111)
[13:16:26] *** Joins: luni-4 (uid453292@id-453292.ilkley.irccloud.com)
[13:34:42] *** Joins: anotheruser (~user@217.54.198.231)
[13:37:57] *** Quits: someuser (~user@217.54.73.8) (Ping timeout: 252 seconds)
[13:46:24] *** Joins: minimal (~minimal@user/minimal)
[14:00:20] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[14:01:48] *** Quits: arbitercoin (~Rheanna@218.78.105.67) (Remote host closed the connection)
[14:03:30] *** Joins: arbitercoin (~Rheanna@218.78.67.149)
[14:15:34] *** Quits: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021) (Ping timeout: 256 seconds)
[14:16:51] *** Quits: deetwelve (~deetwelve@user/deetwelve) (Remote host closed the connection)
[14:18:29] *** Joins: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021)
[14:24:37] *** Quits: arbitercoin (~Rheanna@218.78.67.149) (Ping timeout: 256 seconds)
[14:24:37] *** Quits: Volgaar (~volgaar@nat-wifi-eduroam.reseau.univ-paris13.fr) (Ping timeout: 256 seconds)
[14:24:58] *** Joins: Stalker (~Stalker@89.201.5.246)
[14:27:11] *** Joins: Volgaar (~volgaar@nat-wifi-eduroam.reseau.univ-paris13.fr)
[14:49:27] *** Quits: luc4 (~luc4@pa-18-187-133.service.infuturo.it) (Read error: Connection reset by peer)
[14:50:34] *** Joins: luc4 (~luc4@ca-18-221-114.service.infuturo.it)
[15:05:05] *** Joins: jess (~jess@libera/staff/jess)
[15:18:47] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 252 seconds)
[15:42:48] *** Quits: nullheroes (~nullheroe@168.235.66.22) (Quit: WeeChat 2.3)
[15:44:07] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[15:44:44] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[15:46:12] *** Joins: nullheroes (~nullheroe@168.235.66.22)
[15:50:14] *** Joins: darkapex_ (~darkapex@user/darkapex)
[15:50:45] *** Quits: darkapex (~darkapex@user/darkapex) (Ping timeout: 256 seconds)
[16:01:03] *** Joins: waleee (~waleee@h-82-196-111-63.NA.cust.bahnhof.se)
[16:07:11] *** Quits: waleee (~waleee@h-82-196-111-63.NA.cust.bahnhof.se) (Ping timeout: 252 seconds)
[16:12:01] *** Quits: dlew^ (~dlew@68.101.58.90) (Remote host closed the connection)
[16:13:32] *** Quits: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr) (Quit: taupiqueur)
[16:43:45] *** Joins: Muimi__ (Muimi@113.235.1.217)
[16:45:14] *** Muimi__ is now known as Muimi
[16:47:09] *** Quits: Muimi_ (~Muimi@192.248.191.237) (Ping timeout: 252 seconds)
[17:07:48] *** Joins: Muimi__ (Muimi@113.235.1.217)
[17:10:39] *** Quits: Muimi (Muimi@113.235.1.217) (Ping timeout: 256 seconds)
[17:10:49] *** Muimi__ is now known as Muimi
[17:16:19] *** Quits: auth (~auth@user/auth) (Ping timeout: 256 seconds)
[17:29:12] *** Joins: softworkz (~softworkz@user/softworkz)
[17:31:46] <roxlu> hey, i think a while ago there was a discussion about the most relevant intel based encoding/decoding sdk. what's sdk/lib would be most up2date and future proof? My guess would be their media sdk.
[17:43:48] *** Quits: hpkn (~hpkn@gateway/tor-sasl/hpkn) (Ping timeout: 276 seconds)
[17:47:46] *** Quits: Volgaar (~volgaar@nat-wifi-eduroam.reseau.univ-paris13.fr) (Quit: WeeChat 3.3)
[17:56:38] *** Joins: Jerrk (~Jerrk@193.138.218.223)
[18:03:58] *** Joins: c7s (~c7s@user/c7s)
[18:15:04] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[18:18:22] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[18:29:25] *** Quits: softworkz (~softworkz@user/softworkz) (Ping timeout: 256 seconds)
[18:40:09] *** Quits: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021) (Quit: Client closed)
[18:48:06] *** Joins: Blacker47 (~Blacker47@user/blacker47)
[18:49:40] *** Quits: luc4 (~luc4@ca-18-221-114.service.infuturo.it) (Read error: Connection reset by peer)
[18:50:06] *** Joins: luc4 (~luc4@pa-18-174-91.service.infuturo.it)
[18:55:07] *** Quits: pntaylor (~quassel@101.112.93.231) (Ping timeout: 252 seconds)
[18:56:38] *** Quits: Manni__ (~Flole@ip4d1694f0.dynamic.kabel-deutschland.de) (Quit: Leaving)
[18:58:46] *** Joins: pntaylor (~quassel@101.113.74.40)
[19:10:29] *** Joins: jafa (~jafa@ip70-162-106-203.ph.ph.cox.net)
[19:25:22] *** Joins: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021)
[19:31:08] *** Quits: durandal_1707 (~computer@95.168.121.24) (Read error: No route to host)
[19:31:22] *** Joins: durandal_1707 (~computer@95.168.120.76)
[19:36:11] *** Quits: gucky-chat-laden (~gucky-cha@2a02:a00:f004:1::d6) (Ping timeout: 252 seconds)
[19:37:33] *** Quits: witchc (~witch@user/witch) (Quit: Leaving)
[19:40:00] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[19:45:06] *** Quits: luc4 (~luc4@pa-18-174-91.service.infuturo.it) (Quit: luc4)
[19:45:16] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[19:45:55] *** Joins: deetwelve (~deetwelve@user/deetwelve)
[19:46:43] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[19:47:03] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Client Quit)
[19:48:25] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[19:51:13] *** Joins: luc4 (~luc4@pa-18-174-91.service.infuturo.it)
[19:56:52] *** Quits: cmp (~cmp@lputeaux-658-1-177-87.w92-154.abo.wanadoo.fr) (Quit: Connection closed)
[19:57:57] *** Quits: rsx (~dummy@ppp-188-174-130-10.dynamic.mnet-online.de) (Quit: rsx)
[20:00:39] *** Quits: dreamon (~dreamon@ppp-88-217-67-53.dynamic.mnet-online.de) (Ping timeout: 256 seconds)
[20:02:10] *** Joins: softworkz (~softworkz@user/softworkz)
[20:31:23] <kepstin> roxlu: for most general users, https://github.com/intel/media-driver through the vaapi interface
[20:31:30] <kepstin> on linux, anyways
[20:36:14] *** Quits: luc4 (~luc4@pa-18-174-91.service.infuturo.it) (Quit: luc4)
[20:38:09] *** Joins: MrZeus (~MrZeus@2a02:c7f:a0aa:4400:b88e:2193:af60:eeea)
[20:39:13] *** Joins: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de)
[20:45:26] *** Joins: wootehfoot (~wootehfoo@user/wootehfoot)
[21:09:29] *** Joins: AbleBacon (~AbleBacon@user/AbleBacon)
[21:10:58] *** Quits: beaver (~beaver@user/pong) (Quit:  )
[21:14:44] *** Joins: beaver (~beaver@user/pong)
[21:18:30] *** Joins: Guest9482 (~Buster@buster-net.ru)
[21:20:28] *** Quits: beaver (~beaver@user/pong) (Quit:  )
[21:22:48] <Riviera> Hmmm. Are there good ways to parse ffmpeg output (in a shell script)? I am trying to use the cropdetect filter and wondering whether there are cleaner ways than parsing what's written to stderr.
[21:23:20] *** Quits: Muimi (Muimi@113.235.1.217) (Remote host closed the connection)
[21:24:31] *** Quits: SamHenderson (~SamHender@209.226.83.233) (Ping timeout: 256 seconds)
[21:29:56] *** Joins: jarthur (~jarthur@cpe-70-114-198-37.austin.res.rr.com)
[21:45:35] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Read error: Connection reset by peer)
[22:03:52] <DHE> there's a filter that pulls metadata out of frames and you should be able to pull them more cleanly using that
[22:06:12] *** Joins: softworkz_ (~softworkz@user/softworkz)
[22:06:12] *** softworkz is now known as Guest6632
[22:06:12] *** softworkz_ is now known as softworkz
[22:09:27] *** Quits: Guest6632 (~softworkz@user/softworkz) (Ping timeout: 252 seconds)
[22:13:46] *** Quits: teebz (~tcb@66.51.154.90) (Quit: The Lounge - https://thelounge.chat)
[22:16:02] *** Joins: teebz (~tcb@66.51.154.90)
[22:17:28] <JEEB> Riviera: in theory we should have an option to properly write out things from filters. we don't have that yet. with an API client you should be able to do it
[22:31:24] *** Quits: MG2021 (MG2021@gateway/vpn/protonvpn/mg2021) (Ping timeout: 256 seconds)
[22:31:41] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[22:36:36] <roxlu> kepstin: thanks, how do you know that that the most up2date atm?
[22:41:01] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 256 seconds)
[22:48:41] *** Quits: fannagoganna (uid110488@id-110488.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[22:53:14] <JEEB> &34
[23:02:33] *** Joins: dev-damianus (~dev-damia@ip-37-188-182-227.eurotel.cz)
[23:05:01] <dev-damianus> Guys pls HELP :(  i use raspberry pi zero as convector RTMP source to SRT. But if listener can not be reached the command be interupted :(  i need infinite loop.  ffmpeg -i rtmp:127.0.0.1:1935/live -c copy -f  mpegts "srt://3.22.10.98:1936?mode=caller"
[23:08:09] *** Joins: StudentSA (~StudentSA@197.91.157.200)
[23:08:34] <JEEB> dev-damianus: -rw_timeout XYZ works for timing out the rtmp side at least. then you can retry it in a normal loop or something :P
[23:08:59] <JEEB> if you need generated input which gets utilized when the input is not available, then ffmpeg.c by itself is not dynamic enough for it
[23:10:24] <dev-damianus> imput is ok, on rpi run rtmp server
[23:10:43] <dev-damianus> but it gives me error when srt canot reach the target
[23:11:12] <JEEB> I have generally utilized UDP multicast for stuff like that, since it doesn't matter if there's someone listening or not on the other side
[23:11:19] <dev-damianus> srt @ 0x4b507b0] Connection to srt://3.2.10.98:1936 failed: Input/output error
[23:11:35] <BtbN> If it's down, there's not much you can do.
[23:11:46] <BtbN> Just try again until it works
[23:12:36] <StudentSA> Hi All, Im facing an issue where a video stream is reporting the incorrect width and height. actually its swapped. VLC plays the file correctly but when I try an extract image frames from the file I get a streched image output.
[23:12:37] <dev-damianus> BtbN i know where is the problem of reach the OBS is down but i need a loop/repeat cicle
[23:12:49] <BtbN> So, put it in a loop
[23:12:59] <dev-damianus> how pls :(
[23:13:03] *** Joins: reynaldo (~reynaldo@ec2-34-200-7-37.compute-1.amazonaws.com)
[23:13:04] <BtbN> With your shell.
[23:13:26] <dev-damianus> ok how i repeat command until work? :D
[23:13:54] <JEEB> "bash eternal loop"
[23:13:56] <BtbN> Just literally put it in a loop in your shell or shell script. Maybe add in a sleep so you don't accidentally hammer the CPU or the server
[23:14:04] <JEEB> or just make a systemd service that restarts always
[23:14:19] <JEEB> so when it quits, for whatever reason, systemd starts it right back up
[23:14:20] *** Joins: Narrat (~omnius@p200300df5f14e29206ea56fffe2e7cdc.dip0.t-ipconnect.de)
[23:14:50] <BtbN> not a good idea, systemd will eventually give up
[23:15:10] <BtbN> like, if it fails for 10 times in a row, it'll not start it again
[23:15:16] <JEEB> there is a setting for that
[23:15:32] <JEEB> also how much it will wait between restarts to let things cool down
[23:15:33] <BtbN> There's still an internal safeguard you can't override
[23:15:37] <dev-damianus> you think out of the BOX thx guys im only social worker without no IT education. i really appreciate your help
[23:15:44] <BtbN> It will never indefinitely retry
[23:17:36] <StudentSA> ffprobe show: Stream #0:0: Video: h264 (Main), yuv420p(top coded first (swapped)), 480x786 [SAR 131:45 DAR 16:9], 25 fps, 25 tbr, 1k tbn, 50 tbc (default)
[23:18:17] <BtbN> StudentSA, my guess would be that it's rotated via container metadata. So if it's actually played rotated is up to the player supporting that metadata.
[23:20:01] <StudentSA> My issue is when I try to extract frames with ffmpeg using simple "ffmpeg -i thefile.mkv -r 1 out%05d.png" I get streched images
[23:20:22] <JEEB> the SAR is all over the place
[23:20:30] *** Quits: dev-damianus (~dev-damia@ip-37-188-182-227.eurotel.cz) (Quit: Connection closed)
[23:20:41] <JEEB> do try out with the current master FFmpeg's ffmpeg.c tool
[23:21:01] <JEEB> but I am not sure if matroska has rotational metadata to begin with
[23:21:23] <JEEB> ffprobe -v verbose -i INPUT should in theory show it
[23:21:50] <JEEB> yea I cannot search for "rotat" in matroskadec
[23:22:12] <JEEB> so there is no rotational metadata in that matroska input at least.
[23:22:29] <JEEB> the SAR that is making it 16:9 does stretch it quite a bit
[23:22:38] <JEEB> SAR is the aspect ratio of a single sample
[23:22:47] <JEEB> DAR is the resulting aspect ratio after the stretching
[23:22:57] *** Quits: haihao (~haihao@192.55.46.56) (Ping timeout: 256 seconds)
[23:23:05] <JEEB> (displayed aspect ratio)
[23:23:16] <StudentSA> with verbose... ffprobe shows
[23:23:19] *** Joins: haihao (~haihao@192.102.204.55)
[23:23:22] <StudentSA> [h264 @ 0x5597c1605880] Reinit context to 480x800, pix_fmt: yuv420p
[23:23:22] <StudentSA> Input #0, matroska,webm, from 'TEL023 2021-12-02 20-00-01.mkv':
[23:23:22] <StudentSA>   Metadata:
[23:23:23] <StudentSA>     ENCODER         : Lavf58.29.100
[23:23:23] <StudentSA>   Duration: 01:00:05.79, start: 0.000000, bitrate: 442 kb/s
[23:23:24] <StudentSA>     Stream #0:0: Video: h264 (Main), 1 reference frame, yuv420p(top coded first (swapped), left), 480x786 (480x800) [SAR 131:45 DAR 16:9], 25 fps, 25 tbr, 1k tbn, 50 tbc (default)
[23:23:25] <StudentSA>     Metadata:
[23:23:25] <StudentSA>       ENCODER         : Lavc58.54.100 libx264
[23:23:25] <StudentSA>       DURATION        : 01:00:05.792000000
[23:23:26] <StudentSA>     Stream #0:1(eng): Audio: aac (LC), 48000 Hz, mono, fltp (default)
[23:23:26] <StudentSA>     Metadata:
[23:23:27] <StudentSA>       ENCODER         : Lavc58.54.100 aac
[23:23:27] <StudentSA>       DURATION        : 01:00:05.717000000
[23:23:28] <StudentSA> [AVIOContext @ 0x5597c160a940] Statistics: 32768 bytes read, 0 seeks
[23:24:20] <JEEB> yea the current way of exposing rotation is in AV_PKT_DATA_DISPLAYMATRIX
[23:24:24] <JEEB> and matroska does not have that
[23:24:32] <JEEB> are you sure there is any rotational metadata in that file?
[23:24:48] <StudentSA> I dont think there is rotational metadata
[23:24:55] <StudentSA> but VLC plays the file correctly
[23:25:02] *** ChanServ changes topic to 'Welcome to the FFmpeg USER support channel | Development channel: #ffmpeg-devel | Bug reports: https://ffmpeg.org/bugreports.html | Wiki: https://trac.ffmpeg.org/ | FFmpeg 4.4.1 is released'
[23:25:05] <JEEB> ok, could be a difference between aspect ratios then
[23:25:22] <BtbN> Please use a pastebin.
[23:25:23] <JEEB> at least something in that file is telling it to get forced into 16:9
[23:25:33] <JEEB> yes, in the future please post multi-line things into a pastebin and link here :)
[23:25:52] <StudentSA> Pastebin, Noted apologies
[23:26:32] <StudentSA> is there a way when extracting frames that I tell ffmpeg to use the correct orientation?
[23:27:03] <JEEB> orientation or aspect ratio?
[23:27:30] <JEEB> is the thing rotated but there is no metadata, or is the SAR that makes it get widened to 16:9 the problem?
[23:27:44] <StudentSA> sorry the image extracted is not rotated
[23:27:51] <StudentSA> it is streched vertically
[23:27:59] <BtbN> What even IS the correct way to handle that
[23:28:06] <BtbN> Does it need to be stretched like crazy?
[23:28:19] <StudentSA> its like it got the widthxheight swapped
[23:28:21] <JEEB> it should be stretched horizontally, not vertically. to make it 16:9 from 480x786
[23:28:32] <JEEB> but in any case, it sounds like missing rotation
[23:29:13] <StudentSA> let me get a screenshot
[23:29:19] <JEEB> so just rotate with transpose filter either clock or anticlockwise
[23:29:26] <JEEB> and then set sar to 1:1 as a starting point
[23:30:27] <JEEB> -vf transpose=dir=clock,setsar=sar=1:1
[23:30:30] <JEEB> something like that
[23:30:43] <JEEB> that first turns it clockwise, and then sets a 1:1 sar
[23:31:11] <StudentSA> Uploaded file: https://uploads.kiwiirc.com/files/dc4b95a15500304f5294ff6e5cd9943d/2_00547.jpg
[23:31:48] <JEEB> uhh, that SAR should be OK then
[23:31:54] <JEEB> I guess PNG cannot save the SAR then
[23:32:28] <JEEB> so you basically need to just scale it to sar 1:1
[23:32:48] <JEEB> (which is not surprising if the image formats have no field for sample/display aspect ratio)
[23:33:11] <StudentSA> I tried jpeg as well with same issue
[23:35:11] <JEEB> well, yes. probably the same issue :P
[23:35:24] <JEEB> eitehr metadata is not there, or image viewers don't give a crap about your aspect ratio
[23:36:34] <JEEB> I would almost recommend -vf scale=w=-2:h.setsar=sar=1:1 but I think negative numbers try to do something weird like keep the same SAR when scaling, which makes no sense
[23:40:03] <StudentSA> Option 'h.setsar' not found
[23:40:30] <JEEB> comma of course and probably ih instead of h :)
[23:40:34] <StudentSA> I did try "-vf setsar=1:1,setdar=16:9" but output same
[23:40:39] <JEEB> lol
[23:40:56] <JEEB> setsar sets SAR to 1:1, then right after you set it back to the result from DAR 16:9 :P
[23:41:23] <StudentSA> lol, that would explain that
[23:41:38] <JEEB> that just adjusts the metadata of the frames anyways, your problem is that your wanted outputs have no support for aspect ratios
[23:41:41] <JEEB> be it SAR or DAR
[23:41:59] <JEEB> in the frame it's just SAR, since SAR applied to a resolution is your DAR
[23:42:22] <JEEB> pretty sure we have scale filter examples for sar 1:1 scaling
[23:42:30] <JEEB> as in, scaling to get sar to 1:1
[23:42:40] <JEEB> (or close enough, and then forcing sar to 1:1
[23:43:15] <sysRPL> is there a simple way to cut off the start and end 10 seconds of a video when re-encoding with ffmpeg?
[23:43:20] <JEEB> http://ffmpeg.org/ffmpeg-filters.html#Examples-101
[23:43:28] <StudentSA> to add a bit more, ffplay does play the file correctly
[23:43:40] <JEEB> > Make pixels square by combining scale and setsar, making sure the resulting resolution is even (required by some codecs):
[23:43:52] <JEEB> StudentSA: a player playing a video file unsurprisingly is able to read the metadata and apply it
[23:44:08] <JEEB> your issue is 100% in the fact that you're dealing with outputs that have no concept of aspect ratio fields
[23:44:24] <JEEB> so you are getting the image shown as if it's 1:1 and requires no adjustment
[23:44:38] <JEEB> (or the images contain the metadata but the viewers you're using ignore it)
[23:44:47] <JEEB> but there, linked you the example in the docs
[23:45:36] <StudentSA> could I be so bold as to trouble you for the -vf ... i might use
[23:45:59] <JEEB> open the link I linked, then look at the last example
[23:46:05] <JEEB> I quoted its name, even
[23:46:11] <JEEB> that is the filter chain
[23:46:20] <JEEB> that could be utilized in f.ex. -vf
[23:46:28] <JEEB> it has scale first, then setsar at the end
[23:46:59] *** Quits: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd) (Ping timeout: 252 seconds)
[23:47:44] <StudentSA> ffmpeg -i dimensionissue.avi -r 5 -vf scale='trunc(ih*dar/2)*2:trunc(ih/2)*2',setsar=1/1 "./test/%05d.png"
[23:47:57] <StudentSA> Works :b
[23:48:31] *** Joins: Volgaar (~volgaar@193.137.116.78.rev.sfr.net)
[23:48:58] <StudentSA> sorry I previously tried changing the container from mkv -> avi hoping it would solve the issue
[23:49:14] <StudentSA> hence why you see .avi but works on both files
[23:49:18] <JEEB> sure
[23:49:30] <StudentSA> Thank you very much for the assistance
[23:49:31] <JEEB> anyways, your issue is that your wanted outputs did not support aspect ratio (or the image viewers don't)
[23:49:42] <JEEB> not that the video wasn't being interpreted correctly
[23:50:06] <JEEB> and since there is no flag to tell an API client "this thing cannot habla espanol^Waspect ratios" it will just pass the information to the JPEG/PNG writer
[23:51:52] <StudentSA> Understood... been googling the whole day about trying to fix mkv/avi headers showing swapped width/height lol
[23:52:22] <JEEB> and actually.. in the jpeg writer there's aspect ratio logic
[23:52:33] <JEEB> so if you looked at the metadata of the JPEG image
[23:52:39] <JEEB> it might have contained aspect ratio information
[23:52:52] <JEEB> but then again, what fun is that if the viewers can't read that :P
[23:53:55] <JEEB> yea, after JFIF it puts the version 1.02 there, and then units type: 0 - aspect ratio, and puts the SAR there
[23:54:16] <JEEB> the more you know :P
[23:54:39] <JEEB> aand png has similar logic as well :D
[23:55:12] <JEEB> pHYs chunk apparently
[23:55:47] <kepstin> note that very few standalone image viewers use that metadata
[23:55:58] <JEEB> yes, that is what I have been repeating for a few times now
[23:56:03] <StudentSA> interesting, the more you dig the more there is to find.
[23:56:11] <JEEB> most image viewers just stick to showing 1:1 SAR images
[23:56:53] <kepstin> even those that support using the image physical dimensions or dpi info sometimes assume it's the same in both directions :/
[23:58:19] <kepstin> sometimes i wish that ffmpeg's scale filter had an easy "scale this image to make sar 1:1" option, heh
[23:58:41] <kepstin> (you can do it, either by precalculating values or using expressions, but it's a pain)
[23:59:11] <JEEB> yea, I wish the negative numbers would do that, but the logic for those is a bit... awkward
[23:59:21] <JEEB> seemed to keep SAR or the original image's aspect ratio
[23:59:21] *** Joins: waleee (~waleee@2001:9b0:216:8200:d457:9189:7843:1dbd)
[23:59:26] <JEEB> not the resulting DAR
