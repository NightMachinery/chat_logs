[00:04:17] *** Joins: kingjulian (~kingjulia@41.1.86.87)
[00:12:19] <dto> hi borodust sure i can do later this evening
[00:20:31] <borodust> dto: thanks!
[00:20:48] <borodust> wait, that was yst probably
[00:20:49] <dto> beep me
[00:20:52] <borodust> oh
[00:20:54] <borodust> xD
[00:20:55] <dto> yeah
[00:21:01] <dto> hihi
[00:21:11] <dto> i got a friend coming over now but in a few hours probbo
[00:21:12] <borodust> lemme upload archive somewhere reachable
[00:21:16] <dto> okay.
[00:21:19] <dto> pm me the detailz
[00:21:49] <borodust> i'll put here, maybe someone else brave will try ;p
[00:22:06] <borodust> but really, works with even with firejail
[00:22:33] <dto> okay!
[00:22:38] <dto> i don't use that but i'll see if it works plain
[00:22:58] <borodust> thanks!
[00:27:46] *** Quits: kingjulian (~kingjulia@41.1.86.87) (Ping timeout: 252 seconds)
[00:29:16] <borodust> it's a bit hefty ~136Mb - i didn't optimize for size, but here we go: alien-works-demo.AppImage https://drive.borodu.st/s/dMK5NSrtZ9JjGxG
[00:29:28] <borodust> OpenGL 4.1+ required
[00:30:17] <borodust> if anyone want to run it with firejail it goes like this:
[00:30:44] <borodust> firejail --profile=steam --appimage /path/to/alien-works-demo.AppImage
[00:31:22] <borodust> it probably can use something more restricted (no net access required), but i didn't have time to look into more restrictive profiles
[00:37:43] <borodust> later i'll also add appimage signing
[00:54:10] *** Joins: zap (~zap@gateway/tor-sasl/zap)
[01:34:41] *** Joins: wheelsucker (~wheelsuck@2607:fb90:66d9:2d3b:3095:1c38:5990:1989)
[01:36:10] *** Quits: wheelsucker (~wheelsuck@2607:fb90:66d9:2d3b:3095:1c38:5990:1989) (Client Quit)
[01:39:20] *** Quits: peterhil (~peterhil@dsl-hkibng32-54fb52-57.dhcp.inet.fi) (Ping timeout: 256 seconds)
[02:03:43] <dto> borodust: ok i'll ping you later
[02:09:00] <borodust> dto: much tanks
[02:24:27] *** Parts: pranavats (3fba1d1b34@jabberfr.org) (Disconnected: Replaced by new connection)
[02:24:44] *** Joins: pranavats (3fba1d1b34@jabberfr.org)
[02:54:44] *** borodust is now known as boro
[02:55:00] *** boro is now known as borodust
[03:14:12] *** Quits: zap (~zap@gateway/tor-sasl/zap) (Ping timeout: 276 seconds)
[03:34:55] *** Quits: VincentVega (~user@212.241.16.18) (Remote host closed the connection)
[05:21:02] *** sm2n_ is now known as sm2n
[05:59:36] *** Joins: kingjulian (~kingjulia@41.1.86.87)
[06:20:10] *** Quits: rtypo (~alex@user/rtypo) (Ping timeout: 240 seconds)
[06:21:21] *** Quits: markthom_ (~markthom_@2604:3d09:3e7e:e32e:3b:371e:5b3f:2887) (Quit: Client closed)
[06:26:26] *** Quits: kingjulian (~kingjulia@41.1.86.87) (Ping timeout: 252 seconds)
[06:40:07] <dto> borodust: downloading
[06:40:59] <dto> borodust i'm working on a witch-house remix of the Starman theme https://usercontent.irccloud-cdn.com/file/gsF6RpRn/starman-progress.mp3
[07:20:40] *** Quits: makomo (~makomo@user/makomo) (Ping timeout: 250 seconds)
[08:39:41] *** Parts: pranavats (3fba1d1b34@jabberfr.org) (Disconnected: Replaced by new connection)
[08:40:42] *** Joins: pranavats (3fba1d1b34@jabberfr.org)
[11:54:10] *** Joins: VincentVega (~user@212.241.16.210)
[13:17:03] *** Joins: peterhil (~peterhil@dsl-hkibng32-54fb52-57.dhcp.inet.fi)
[14:11:32] *** Joins: molson_ (~michael@2001-48F8-704A-CA1-0-0-75F-1007-static.midco.net)
[14:14:42] *** Quits: molson (~michael@2001-48F8-704A-CA1-0-0-75F-100B-static.midco.net) (Ping timeout: 256 seconds)
[14:20:25] *** Quits: Jach (~Jach@2601:600:8600:307:7e31:e7a7:f1f3:a96b) (Remote host closed the connection)
[14:24:51] *** Joins: Jach (~Jach@2601:600:8600:307:7e31:e7a7:f1f3:a96b)
[14:27:42] *** Joins: kingjulian (~kingjulia@41.1.86.87)
[14:30:21] <Jach> borodust: I've never run an app image before, but installed firejail (and rebuilt my kernel for squashfs/appimage support) and tried to run it. It crashes almost immediately, "fatal error encountered in SBCL pid 34 tid 34: Unhandled SIGILL at 0x7fe7377a09c8." and drops me into ldb.
[14:31:02] <Jach> I've got an old i7 9200, kernel version 5.13.14, GPU is nvidia gtx 1050 TI.
[14:51:13] *** Joins: makomo (~makomo@user/makomo)
[14:51:49] *** Quits: kingjulian (~kingjulia@41.1.86.87) (Ping timeout: 252 seconds)
[14:56:30] <borodust> damn
[14:58:38] <borodust> Jach: thanks! anything built on manjaro/arch never seem works anywhere :sigh
[14:58:51] <borodust> *to work
[14:59:07] *** Joins: zap (~zap@gateway/tor-sasl/zap)
[14:59:13] <borodust> i'll try something more LTS later
[14:59:49] <borodust> what is the backtrace in ldb?
[15:02:07] <borodust> although its weird you needed to do smth special to run appimage
[15:03:29] <borodust> anyway, thanks for the feedback, ill try to use proper build environment
[15:28:42] *** Quits: zap (~zap@gateway/tor-sasl/zap) (Ping timeout: 276 seconds)
[15:30:45] <borodust> actually
[15:31:02] <borodust> i'm not sure how that happend, but latest build is missing blobs xD
[15:32:08] <Jach> borodust: It's just something firejail told me when I installed it, I was missing CONFIG_SQUASHFS. I'm on gentoo so some things require kernel rebuilds.
[15:32:20] <borodust> ahh
[15:32:34] <borodust> i see, interesting
[15:32:38] <Jach> I'll wait for the next upload then?
[15:33:04] <borodust> so appimage devs lie just a bit about it working anywhere ;p
[15:33:18] <borodust> Jach: yes, thanks!
[15:33:19] <Jach> At least with firejail =P Is there a way to run them without firejail?
[15:33:33] <borodust> yeh, just make the file executable
[15:33:38] <borodust> and run it
[15:33:54] <borodust> sorry, no malware included
[15:34:16] <borodust> hopefully
[15:34:27] <borodust> not sure what magic appimage uses to make this blobs ;p
[15:34:38] <Jach> Nice, that works (as in hits the same error). Maybe firejail uses squashfs to do file system isolation?
[15:35:16] <borodust> Jach: it's appimage - it uses squashfs to run an app
[15:35:30] <borodust> you can do alien-works-demo.AppImage --appimage-extract and see what's there
[15:35:37] <borodust> the blob itself is an archive
[15:35:56] <Jach> I see
[15:37:13] <borodust> but yeh, firejail has special routines built in to isolate appimage
[15:44:12] <borodust> okay, i've updated the appimage blob - link is the same
[15:44:28] <borodust> at least it works on my other manjaro machine
[15:47:27] <Jach> Looks like the same issue: https://pastebin.com/AdteZLFb
[15:58:26] <Jach> https://pastebin.com/W7XXj8u1 here's a better full backtrace from gdb
[15:59:12] <Jach> So seems like the issue is in libfilament.clawed.so
[16:00:24] <borodust> hmm, i expect it is due to differences in c++ runtime versions
[16:00:48] <borodust> filament is a C++ library
[16:02:31] <borodust> actually, interestingly, according to ldd, it doesn't have references to c++ runtime wtf xD
[16:03:52] <borodust> ahhh, okay, maybe i statically linked everything
[16:04:23] <borodust> anyway, thanks much! i'll keep that in view
[16:10:27] <borodust> dto: i like witch house quite much! sample you've send sounds interesting, but i think it's a little bit _happier_ than what this genre generally sounds, more dark tones needed :D
[16:28:04] <borodust> Jach: can you plz check again one more time the appimage? same link
[16:28:24] <borodust> apparently, current alien-works still works with blobs i've built aeons ago
[16:28:46] <borodust> and those blobs are properly built on Ubuntu LTS, so should be quite portable
[16:34:16] <Jach> Same issue
[16:34:51] <borodust> woops, that's more serious than i thought then
[16:39:20] <borodust> thanks! I made an issue to track this problem
[16:51:00] <Jach> For fun I tried it in an MX Linux VM I installed several months ago, it didn't even get as far and died with "version `GLIBC_2.33' not found". I guess MX's glibc is old.
[16:51:40] <Jach> Eric Timmons' work to statically compile glibc into the sbcl binary can't be merged up soon enough...
[16:55:08] <borodust> hmm
[16:55:14] <borodust> HMM
[16:55:40] <borodust> wait, 2.33 is too recent..
[16:55:48] <borodust> ahhhh, yes
[16:56:00] <borodust> because SBCL image was built with 2.33
[17:03:13] <borodust> actually, statically linking glibc will make the whole project GPL which is not ideal
[17:11:42] <Jach> Ah right, though glibc is LGPL, so the limitation is just that there needs to be a way for the user to relink a different glibc if they want to. Still, one could use musl instead.
[17:15:17] <borodust> err, LGPL, yes
[17:21:49] *** Parts: pranavats (3fba1d1b34@jabberfr.org) ()
[17:31:30] *** Joins: pranavats (3fba1d1b34@jabberfr.org)
[17:34:09] *** Quits: azimut_ (~azimut@gateway/tor-sasl/azimut) (Ping timeout: 276 seconds)
[17:55:13] *** Joins: dra (~dra@2a04:4540:6405:600:149e:23ae:c2d3:52a7)
[19:31:57] *** Joins: thrig (~thrig@70.97.65.251)
[20:05:24] <dto> borodust: no dice. /tmp/.mount_alien-dRHvgS/usr/bin/app: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.28' not found (required by /tmp/.mount_alien-dRHvgS/usr/bin/app)
[20:05:25] <dto> /tmp/.mount_alien-dRHvgS/usr/bin/app: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.33' not found (required by /tmp/.mount_alien-dRHvgS/usr/bin/app)
[20:05:25] <dto> /tmp/.mount_alien-dRHvgS/usr/bin/app: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.32' not found (required by /tmp/.mount_alien-dRHvgS/usr/bin/app)
[20:05:42] <dto> i'm on linux mint mate
[20:07:22] <borodust> dto: thanks! yeh, my system where i built the app is too ahead
[20:07:37] <dto> this is an install from last year
[20:07:39] <dto> okay :)
[20:08:08] <borodust> i'm working on CI flow to build using some LTS environment like Ubuntu 18.04
[20:08:45] <dto> nice!
[21:15:09] *** Quits: chiselfuse (~chiselfus@user/chiselfuse) (Ping timeout: 276 seconds)
[21:16:33] *** Joins: chiselfuse (~chiselfus@user/chiselfuse)
[21:26:21] *** Quits: thrig (~thrig@70.97.65.251) (Remote host closed the connection)
[21:53:14] *** Joins: rtypo (~alex@user/rtypo)
[22:05:51] *** Joins: zap (~zap@gateway/tor-sasl/zap)
[22:55:49] *** Quits: rtypo (~alex@user/rtypo) (Ping timeout: 252 seconds)
