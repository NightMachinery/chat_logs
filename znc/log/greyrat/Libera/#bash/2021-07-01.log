[00:00:21] *** Joins: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66)
[00:00:31] <arkanoid> I have millisecond value with decimals that I need to subtract to current date. I'm already using date -d "-30 seconds", but there's no options for millis. How would you accomplish this without rewriting the whole thing in python?
[00:02:52] <greycat> unicorn:~$ date +%H:%M:%S.%N; date +%H:%M:%S.%N -d '-30.005 seconds'
[00:02:53] <greycat> 15:32:45.874541549
[00:02:53] <greycat> 15:32:15.870326804
[00:03:08] *** Quits: moonplasma (~moonplasm@154.3.40.49) (Ping timeout: 272 seconds)
[00:03:08] *** Quits: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66) (Ping timeout: 272 seconds)
[00:03:32] <arkanoid> ok, so I need to move the decimal point, or divide by 1000
[00:05:43] *** Quits: borbetomagus (~borbetoma@154.3.40.157) (Remote host closed the connection)
[00:05:55] *** Joins: borbetomagus (~borbetoma@154.3.40.157)
[00:09:28] *** Quits: Nefertiti (~unscripte@user/unscripted) (Ping timeout: 272 seconds)
[00:09:29] *** Joins: Nefertari (~unscripte@user/unscripted)
[00:13:22] *** Joins: julius_c (~julius_c@96.red-83-34-80.dynamicip.rima-tde.net)
[00:15:06] <twkm> you cannot do math on fractional numbers in bash, you'd need to use a utility like awk or bc.
[00:16:01] *** Joins: Codaraxis_ (~Codaraxis@ip68-5-90-227.oc.oc.cox.net)
[00:17:12] <greycat> or python
[00:17:13] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[00:17:42] *** Quits: Nefertari (~unscripte@user/unscripted) (Ping timeout: 272 seconds)
[00:18:01] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[00:19:24] *** Joins: Hackerpcs (~user@user/hackerpcs)
[00:19:34] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[00:20:00] *** Quits: Codaraxis (~Codaraxis@user/codaraxis) (Ping timeout: 272 seconds)
[00:20:21] *** Joins: zeden (~zeden@user/zeden)
[00:20:42] *** Quits: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5) (Read error: Connection reset by peer)
[00:21:06] *** Joins: Nefertiti (~unscripte@user/unscripted)
[00:21:10] *** Joins: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5)
[00:21:42] <Friithian> bc? bah, use dc!
[00:22:43] *** Joins: sazawal (~sazawal@106.207.226.37)
[00:23:57] <greycat> dc is not guaranteed to exist
[00:24:05] <greycat> unicorn:~$ type bc; type dc
[00:24:05] <greycat> bc is /usr/bin/bc
[00:24:05] <greycat> bash: type: dc: not found
[00:24:47] <Friithian> ok?
[00:26:18] <twkm> neither is python.  i could have given a much longer list, but it seemed to suffice mentioning just a couple.
[00:27:05] <twkm> as an aside:
[00:27:10] <twkm> # type bc dc
[00:27:11] <shbot> twkm: bc is /bin/bc
[00:27:11] <shbot> twkm: bash: type: dc: not found
[00:27:36] <Friithian> bot is useless, time to throw it out
[00:28:20] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[00:28:35] *** Joins: gschanuel9 (~gschanuel@user/gschanuel)
[00:28:50] <greycat> I only mentioned python because it was brought up by the OP in their question.
[00:28:51] *** Joins: cim (~cim@205.185.117.110)
[00:29:25] <twkm> ahh.
[00:29:28] <cim> ba$h
[00:29:48] *** Quits: Kruppt (~Kruppt@50.111.30.114) (Quit: Leaving)
[00:33:00] *** Quits: LuksNuke (~LuksNuke@94.242.245.63) (Quit: Leaving)
[00:33:57] *** Quits: garoto (~garoto@linux.is.not.uni.cx) (Quit: Leaving)
[00:34:10] *** Joins: garoto (~garoto@linux.is.not.uni.cx)
[00:37:41] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.1)
[00:38:47] *** Quits: garoto (~garoto@linux.is.not.uni.cx) (Client Quit)
[00:39:00] *** Joins: garoto (~garoto@linux.is.not.uni.cx)
[00:41:45] *** __jmcantrell__ is now known as jmcantrell
[00:46:04] *** Quits: twobitsprite (~twobitspr@107.13.51.62) (Ping timeout: 265 seconds)
[00:47:40] *** Joins: twobitsprite (~twobitspr@66.115.166.148)
[00:51:29] *** Quits: sazawal (~sazawal@106.207.226.37) (Remote host closed the connection)
[00:51:57] *** Joins: sazawal (~sazawal@106.207.226.37)
[00:54:29] <arkanoid> I insist! I want my life to be harder, let's use bc or dc
[00:55:11] <arkanoid> but before that, why the hell I got output with .... | grep foo, but I dont with "... | grep foo | while read -r line; do echo $line; done"
[00:55:25] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[00:55:30] <greycat> if you want it to be maximum difficulty, just implement fixed-point arithmetic yourself using bash string manipulation and integer arithmetic
[00:55:44] <greycat> !faq 9
[00:55:44] <greybot> https://mywiki.wooledge.org/BashFAQ/009 -- What is buffering?  Or, why does my command line produce no output: tail -f logfile | grep 'foo bar' | awk ...
[00:57:53] <arkanoid> yeah!
[00:57:56] <arkanoid> thanks
[00:58:27] *** Joins: gera (~gera@user/gera)
[00:59:18] *** Quits: sazawal (~sazawal@106.207.226.37) (Read error: Connection reset by peer)
[00:59:34] <gera> Why do tab and ctrl+i have the same key codes? Can I bind stuff to ctrl+i without breaking tab?
[00:59:51] <twkm> perhaps.  that's a terminal issue.
[00:59:54] *** Quits: jenszo (~jens@2a02:810d:9340:27af:cd62:848e:a000:4dba) (Ping timeout: 240 seconds)
[01:00:12] *** Quits: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66) (Remote host closed the connection)
[01:00:32] *** Joins: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66)
[01:00:54] <greycat> In any kind of terminal, pressing Tab sends the \011 (0x09) byte, the same as pressing Ctrl-I.  But in a windowing environment, the two are distinct.
[01:00:55] <twkm> i.e., your terminal sends the same code for both, so no you cannot bind them separately, but if you change your terminal to send different codes you can bind them to do different things.
[01:01:18] *** Joins: sazawal (~sazawal@27.62.170.20)
[01:02:48] <gera> ok thanks
[01:02:56] <greycat> Likewise, pressing Enter sends the same byte as pressing Ctrl-M does.  Those two are pretty much set in stone.  Everything else (Home, Insert, F1, and so on) vary from terminal to terminal.
[01:03:13] *** Quits: magla (~gelignite@55d49c7c.access.ecotel.net) (Quit: Stay safe!)
[01:04:40] <koala_man> gera: why? because back in the day, holding Ctrl would just clear one of the ascii bits on keyboard input. that way, you could hold ctrl and press @,A,B, etc to input ascii control characters. the tab and enter keys already had their own keys for convenience
[01:06:04] <koala_man> I don't think anything made after 1980 has had logic like that though
[01:06:18] <Friithian> time to make a keyboard with that logic
[01:06:36] <Friithian> actually, I am in the process of designing a keyboard with some uni friends so‚Ä¶
[01:08:48] *** Quits: phillbush (~phillbush@user/phillbush) (Quit: Leaving)
[01:09:42] <koala_man> but then you won't be able to play doom properly
[01:10:02] *** Joins: phillbush (~phillbush@user/phillbush)
[01:10:31] <Friithian> should be pretty simple to switch
[01:10:43] <Friithian> wonder if qmk supports that
[01:11:49] <greycat> https://en.wikipedia.org/wiki/Space-cadet_keyboard
[01:12:35] <Friithian> oh cool, I want one
[01:13:47] <clawh> if i have chroot statements in my bash script like chroot /mnt /bin/bash <<EOF cmds EOF, should I include exit at the end of command list executed in chroot environment?
[01:14:14] <greycat> only if you need to explicitly set an exit status code, or if the exit isn't at the end
[01:15:00] <greycat> it's basically the same as asking whether you need to put exit on the last line of a script
[01:15:24] <clawh> https://dpaste.com/H39Q4HBXV
[01:15:38] <clawh> so the #1 code is perfectly correct?
[01:15:39] *** Joins: Helmholtz2 (Helmholtz@user/helmholtz)
[01:15:45] <Helmholtz2> Is this good pattern? https://dpaste.com/7ALUXUVYZ
[01:18:03] *** Quits: karabaja4 (~karabaja4@dh207-94-228.xnet.hr) (Quit: leaving)
[01:18:17] <Riviera> no, use if, also write errors to stderr and consider using printf over echo (/msg greybot echo)
[01:18:47] *** grettke is now known as grettke2
[01:18:47] *** Quits: grettke2 (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[01:18:58] <Helmholtz2> Riviera, What should be inside the if clause? curl is filling the variable
[01:19:10] <Helmholtz2> like `true`?
[01:19:19] <earnestly> curl isn't filling anything
[01:19:26] <Riviera> "filling the variable"? what do you mean?
[01:19:37] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[01:19:39] <Helmholtz2> Riviera, sorry I should have said filling the file
[01:19:52] <Riviera> Helmholtz2: you are testing the exit code of curl with ||
[01:20:03] <Riviera> Helmholtz2: so you would use if to test the exit code of curl.
[01:20:13] <Helmholtz2> I just need this in rest of the code : --output "$img"
[01:20:28] <Riviera> i don't follow, in any case, you have my opinion.
[01:20:45] <Helmholtz2> Riviera, yeah first I wrote it like that, but then shouldn't if have a then?
[01:20:53] <Helmholtz2> what would be inside the then clause?
[01:21:02] <Riviera> the error message
[01:21:06] <Riviera> and the exit
[01:22:04] <Helmholtz2> Riviera, https://dpaste.com/5LFJ2763H
[01:22:11] <Helmholtz2> my problem is the true part
[01:22:17] <Helmholtz2> It would be redundant
[01:22:24] <earnestly> Helmholtz2: if ! curl hd || ! curl sd; then error; fi
[01:22:44] <Riviera> hm, would that not be an &&?
[01:22:46] <earnestly> if ! curl hd; then if ! curl sd; then error; fi; fi
[01:22:50] <greycat> !demorgan
[01:22:50] <greybot> [[ $var != a || $var != b ]] is always true. Did you forget De Morgan's Laws? [[ ! ($var = a || $var = b) ]] <=> [[ $var != a && $var != b ]]
[01:22:52] <earnestly> Riviera: Yeah
[01:22:52] <Riviera> :)
[01:22:55] <Helmholtz2> huh so if does not need a `then`
[01:23:12] <earnestly> Helmholtz2: I showed you both cases
[01:23:15] *** Joins: se-sm-ca (~sean@user/se-sm-ca)
[01:23:22] *** Quits: sazawal (~sazawal@27.62.170.20) (Quit: Leaving)
[01:23:32] <greycat> Explain want you want the code to *do*, in English, and then we can tell you how to write it.  If we have to guess what the code should do, then you get to guess whether our code does what you expect.
[01:24:10] <earnestly> Helmholtz2: Either place each condition in order in the if part or have multiple if statements.  As you don't need a "true" on the positive case so don't test for a positive case
[01:24:40] <earnestly> if true; then do nothing; else do something; fi vs. if ! true; then do something; fi
[01:24:50] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 272 seconds)
[01:25:30] <earnestly> if ! { curl hd || curl sd }; then error; fi
[01:25:59] <greycat> so it's fine if one of the curls fails, because the other one is just a backup?  or do they both have to work?  or what? what's the relationship between them?
[01:26:34] <earnestly> I read it as attempting to download a high quality version first, falling back to the low quality if it fails
[01:26:36] <Helmholtz2> earnestly, Riviera greycat üåπ
[01:26:55] <Helmholtz2> earnestly, yes its like that
[01:27:46] *** Joins: Kruppt (~Kruppt@50.111.30.114)
[01:28:36] <greycat> download_one() { curl "$1" && return; curl "$2" && return; echo "Neither one worked, sorry 'bout that" >&2; return 1; }
[01:29:13] *** Joins: andril (~andril@2601:586:8400:113:54d2:2cbd:1dba:cace)
[01:29:27] <Helmholtz2> anyway https://dpaste.com/7ALUXUVYZ didn't have logic errors, did it?
[01:29:31] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[01:29:42] <greycat> you can extend that to take an arbitrary number of URL arguments, too
[01:29:56] <earnestly> I was going to provide a function doing that but decided not to
[01:30:29] <greycat> writing it as a function lets you use "return" to short-circuit however you feel is sexiest
[01:30:40] <Helmholtz2> https://dpaste.com/HB3TERG3A
[01:30:46] <Helmholtz2> Can I combine line 1 and 2?
[01:31:25] <earnestly> You only use the hq variable once
[01:31:45] <earnestly> Since it's derived from the normal one, why store it as a variable?
[01:32:29] *** Joins: v8789 (v8789@user/blobberdene)
[01:32:42] <earnestly> Helmholtz2: It's fine though, as it is.  Without understanding its context it's difficult to suggest anything else
[01:33:13] <earnestly> Maybe it could be improved, but maybe this is good.  Premature abstraction is a curse, after all
[01:33:15] *** Joins: spacedust (~info@user/cosmicblue)
[01:33:22] <Helmholtz2> earnestly, yeah
[01:40:04] *** Quits: smlavine (~smlavine@sourcehut/user/smlavine) (Quit: zzz)
[01:41:01] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[01:43:04] *** Joins: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de)
[01:47:38] *** Quits: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[01:47:52] <Helmholtz2> help of a cli should be printed on STDOUT?
[01:48:25] <phy1729> I'd argue usage should go to stderr (and exit 1)
[01:48:40] <greycat> if the user explicitly asks for help, yes; if you're printing it as an error message, opinions differ
[01:48:52] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[01:49:15] <ljharb> i'd be curious to hear an argument that "as an error message" should go to "not the place called std err"
[01:49:29] <ljharb> but def if they're doing `foo --help` then it belongs on stdout
[01:49:50] <phy1729> why? That shouldn't get piped
[01:50:42] <ljharb> of course it should
[01:50:48] <phy1729> Standard Error - An output stream usually intended to be used for diagnostic messages.     Standard Output - An output stream usually intended to be used for primary data output.
[01:50:58] <ljharb> right. and if i asked for help, "help" is the primary data output
[01:51:18] <ljharb> if it's showing me help because i did a stupid, then the help content is a diagnostic message
[01:51:24] <Riviera> agreed
[01:51:33] <ljharb> (and thus should go to stderr, and exit nonzero)
[01:51:39] <Riviera> requested help --> stdout
[01:51:48] <earnestly> ljharb: stdout*
[01:51:50] *** mcint is now known as mci
[01:51:51] <earnestly> Because |less
[01:51:54] *** Joins: sn1tch3r (~sn1tch3r@201-27-147-42.dsl.telesp.net.br)
[01:52:03] <earnestly> To be fair, this problem is avoided by having manuals and no --help :p
[01:52:04] <neshpion> |& less :^))
[01:52:22] <earnestly> stdout is API
[01:52:22] <phy1729> What if the stupid thing was "$@" or * with no -- ?
[01:52:28] <neshpion> `case $1 in -h|--help) exec man $0;;`
[01:52:35] <earnestly> neshpion: Those are the worst
[01:52:38] <earnestly> lol
[01:52:40] <ljharb> if you want less to handle stderr content that's on you to redirect it
[01:52:56] <ljharb> phy1729: still seems like stderr output to me
[01:52:58] * greycat mumbles something about python2 --version going to stderr and python3 --version going to stdout
[01:53:09] <Riviera> oh
[01:53:16] <phy1729> ljharb: ok then --help should go to stderr :p
[01:53:20] <Riviera> so they learn from their mistakes, instead of carrying over cruft from the 70ies
[01:53:22] <ljharb> phy1729: basically, either it did the thing i explicitly asked for (printed on stdout) or it didn't ("why" goes on stderr)
[01:53:35] <ljharb> phy1729: no, because `foo --help` is a successful task
[01:53:41] <phy1729> things you ask for go to stderr too  (e.g. curl -u with no pass)
[01:53:43] <twkm> if only it were decades between 2 and 3.
[01:53:43] <ljharb> i did nothing wrong, nothing failed, i need not diagnostics
[01:53:51] *** Quits: peterrooney (~peter@2604:3d08:1583:5600:222:4dff:fe69:d6ed) (Quit: new kernel compiled - reboot)
[01:53:54] <twkm> mutating faster than yeast.
[01:54:06] <Riviera> spoken like an old man
[01:54:16] <earnestly> python 4 soon
[01:54:17] <phy1729> ljharb: I'm saying the glob could have generated --help and without -- the command doesn't know better
[01:54:53] <Riviera> phy1729: how does that make sense
[01:55:06] <twkm> cruft from the 70ish when its is didn't even exist then and was maintained until the 10's is spoken like  ... sigh.
[01:55:25] <earnestly> Helmholtz2: Here you go: https://monkey.org/~marius/unix-tools-hints.html
[01:55:27] <Riviera> phy1729: by that logics all program output should go to stderr because its successful run could really be the result of an error
[01:55:35] <ljharb> phy1729: well sure, and in that obscure case i see how conceptually it's an error, but i don't think that niche case means it should incorrectly go to stderr for the actual common case of `--help`
[01:55:53] <earnestly> Helmholtz2: And > Rule of Silence: When a program has nothing surprising to say, it should say nothing.
[01:56:00] <ljharb> phy1729: just because it's possible to out-stupid the program doesn't mean everything has to go to stderr :-p
[01:56:06] <earnestly> Helmholtz2: You already do this one: > Rule of Repair: Repair what you can ‚Äî but when you must fail, fail noisily and as soon as possible.
[01:56:22] <Riviera> twkm: whining about historical artifacts of the shell & whining about python correcting mistakes don't go together
[01:56:34] <twkm> hahahahahahahaha
[01:57:17] <phy1729> ljharb: if you think of a function, it should return a single type of thing, not randomly docs based on how you invoke it. Docs are for humans to read not pipeing, so stderr makes more sense.
[01:57:23] <Helmholtz2> earnestly, it's annoying some go and java tools accept switches like -help or -option
[01:57:28] <phy1729> In the odd case you want to pipe it, 2>&1 isn't hard
[01:57:29] <Helmholtz2> -help is the worst
[01:57:34] <earnestly> Helmholtz2: It's okay
[01:57:41] <phy1729> I _hate_ go tools for that reason
[01:57:42] <earnestly> Helmholtz2: Certainly much, much simpler
[01:57:43] <ljharb> phy1729: it could return, or throw
[01:57:46] *** Quits: ormaaj2 (61747cfd@user/ormaaj) (Ping timeout: 272 seconds)
[01:57:50] <Helmholtz2> -h or --help or help
[01:57:57] <ljharb> phy1729: and `--help` returns help output, any other thing that produces help output throws it.
[01:57:57] <phy1729> ljharb: right and throwing is like stderr
[01:58:05] <twkm> -word is the one that's what posix considered in the face of --word.
[01:58:08] <ljharb> phy1729: and `--help` doesn't throw
[01:58:16] <phy1729> but that's terrible design and makes your type system sad
[01:58:28] <earnestly> Helmholtz2: Single flag options with no requirements on -abc and -a -b -c equivalence makes option parsing effortless
[01:58:30] <phy1729> Now you have to pick the union apart downstream
[01:58:34] <ljharb> when complying with a type system makes your API worse, then your type system is bad and you should make it sad.
[01:59:04] <ljharb> sometimes untagged unions are actually better
[01:59:09] <phy1729> I'd argue this is making the API better, but I don't think either of us are budging
[01:59:17] <ljharb> lol nope
[01:59:56] <neshpion> type system? in shell...?
[02:00:04] <neshpion> text :DDDDDD
[02:00:11] <earnestly> You're almost there
[02:01:23] <ljharb> everything i make with my keyboard is a type system
[02:01:26] <neshpion> doesn't powershell return objects instead of just text?
[02:01:32] *** Quits: gera (~gera@user/gera) (Quit: gera)
[02:02:30] <twkm> ''man powershell'' might say.
[02:02:54] *** Quits: borbetomagus (~borbetoma@154.3.40.157) (Remote host closed the connection)
[02:03:21] *** Joins: borbetomagus (~borbetoma@154.3.40.157)
[02:03:59] *** Joins: Crescendo (~Crescendo@user/crescendo)
[02:05:38] *** Quits: makara (~sol@196.61.111.63) (Ping timeout: 252 seconds)
[02:05:41] *** mci is now known as ay
[02:05:47] <Helmholtz2> ok this is a first! after running script and exiting, my input prompt in the calling shell is hidden!
[02:05:48] *** ay is now known as mcint
[02:06:14] <Helmholtz2> commands like ls work but the input chars (ls) is hidden
[02:06:22] <twkm> depends how you ran it, but that's not entirely surprising.
[02:06:57] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[02:07:07] <Helmholtz2> twkm,  ./script option data.json
[02:07:32] <twkm> ''stty -echo'' (or similar) was done.  ''stty echo'' or even ''stty sane'' to "fix" it.
[02:08:14] *** Quits: borbetomagus (~borbetoma@154.3.40.157) (Ping timeout: 265 seconds)
[02:08:23] <twkm> tty settings persist even after the program that changed them exits, unlike other shell related things like variables or the cwd.
[02:10:49] <greycat> try running the "reset" command first, generally, for most terminal state issues
[02:11:15] <greycat> "stty sane" sometimes works too, but I think reset does a few extra things
[02:11:30] <earnestly> It can often happen if background processes are used without properly waiting for them
[02:11:44] <twkm> reset is horrifically destructive for some terminals.  otoh if more terrible things were done to the terminal that mere tty settings it can be the only thing that might work.
[02:11:45] <greycat> then again, I have to wonder if it was truly a *script* that you ran, or was it a function or a sourced file...
[02:13:12] <twkm> indeed, a source'd script might change PS1 to nothing and that would remain the case.
[02:13:22] <Helmholtz2> earnestly, huh you were right 
[02:13:23] <Helmholtz2> https://dpaste.com/3U24Z33MB
[02:13:38] *** Joins: chrish136 (~chrish@149.167.205.148)
[02:13:46] <Helmholtz2> I can't wait for it. I want to spawn the window, then move it
[02:14:07] <twkm> prompt is there, you just think it isn't because of output after the prompt appeared.
[02:14:37] *** Quits: magicSchlingel (~RatChat@cpe-173-172-186-158.tx.res.rr.com) (Quit: For Sale: Parachute. Only used once, never opened, small stain.)
[02:14:37] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 268 seconds)
[02:15:06] <Helmholtz2> both stty sane and reset fixes it
[02:15:41] <twkm> if earnestly was right merely pressing enter would "fix" it (your perceptions).
[02:15:59] <earnestly> Yeah
[02:16:20] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[02:16:47] <twkm> or ^Uenter^Y if you were already typing things you don't want to have to type again, and are in emacs editing mode.
[02:17:03] <twkm> ^U^J^Y
[02:18:06] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[02:18:15] <Helmholtz2> twkm, no, I have to blindly type stty sane or reset to fix it...
[02:18:29] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Ping timeout: 244 seconds)
[02:18:36] <neshpion> what does ^J do
[02:18:40] <earnestly> neshpion: enter
[02:18:51] <Helmholtz2> anyway, why this happens? (in the snippet I shared) ? what phrase to Google?
[02:19:45] <Helmholtz2> neshpion, ctrl+j? behaves like enter
[02:19:49] <earnestly> neshpion: (Specifically ^J is LF, ^M is CR)
[02:20:11] <neshpion> oh no wonder ^J doesn't do anything for me
[02:20:41] <Helmholtz2> I just had a very weird Dejavu about this conversation üòê 
[02:21:34] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[02:21:48] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Killed (tin.libera.chat (Nickname regained by services)))
[02:21:48] *** __jmcantrell__ is now known as jmcantrell
[02:22:22] <greycat> Enter sends ^M but normally a terminal is configured (at the unix level) to translate ^M to ^J upon input.  This is controlled by stty(1).
[02:22:47] <greycat> Sometimes a terminal may be left in a state where the cr->nl conversion doesn't happen, in which case you need to press Ctrl-Jstty saneCtrl-J
[02:23:23] *** Quits: maharg101 (~maharg101@savoy.force9.co.uk) (Quit: My Mac Mini has gone to sleep. ZZZzzz‚Ä¶)
[02:24:10] <neshpion> interestingly i can type a literal ^M with readline in vim mode via ^V^M but i can't type a literal ^J by any means even in neovim
[02:24:17] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:25:38] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 272 seconds)
[02:25:42] *** Quits: earendel (uid498179@user/earendel) (Quit: Connection closed for inactivity)
[02:26:05] *** Joins: keypusher (keypusher@user/keypusher)
[02:26:47] <twkm> editors are weird ...
[02:27:14] <Riviera> neshpion: hm, but a literal ^J is a newline character
[02:28:22] <Riviera> neshpion: when you type ^V^M you prevent something from happening, like preventing the terminal driver or the editor from modifying the ^M character and inserting a newline instead (which is what happens when I type ^M in vim).
[02:28:32] <neshpion> Riviera: it wouldn't bewilder me if it *behaved* like i had pressed return, but it does *nothing*
[02:29:09] <Riviera> neshpion: so, you can simply insert ^M as a character. But ^V^J would not prevent anything, ^J is inserted anyway already, in the form of a newline.
[02:30:02] <Riviera> neshpion: here (tested in vim and neovim) apparently a \0 is inserted, visualised as ^@
[02:30:03] *** Quits: furmyx (~gary@user/ghost) (Remote host closed the connection)
[02:30:28] *** Joins: furmyx (~gary@user/ghost)
[02:30:44] <neshpion> Riviera: not for me, it does nothing whether in bash nor nvim
[02:30:49] <Riviera> neshpion: i would have to guess that that's a feature, but i'm clueless about vim.
[02:30:57] <neshpion> i wonder if my terminal emulator decides not to behave
[02:31:04] <neshpion> or this is a feature of it somehow
[02:31:09] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[02:31:23] <Riviera> neshpion: here (on a mac) doing it in the terminal a ^J is shown, being newline (linefeed) character.
[02:31:59] <greycat> if we assume that a text editor stores a series of lines in an array in memory, adding a literal newline inside one of these lines might be explicitly disallowed, as it would break things
[02:32:25] <Helmholtz2> so how can I fix my script so it doesn't change stty -echo?
[02:32:33] <Helmholtz2> I've only used printf
[02:33:11] <Helmholtz2> and https://dpaste.com/3U24Z33MB is the bg part
[02:34:29] *** Joins: tlaxkit (~hexchat@170.253.43.19)
[02:36:06] *** Quits: src (~src@user/src) (Quit: leaving)
[02:36:44] <earnestly> It could be anything
[02:37:10] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:d9f9:7ba2:7c1:ca06) (Read error: Connection reset by peer)
[02:37:42] <twkm> add a wait before it terminates.
[02:38:20] *** Quits: AppAraat[m] (~apparaatm@2001:470:69fc:105::8c3) (Read error: Connection reset by peer)
[02:38:20] *** Quits: Kamui (~kamui-ren@2001:470:69fc:105::f74) (Read error: Connection reset by peer)
[02:38:20] *** Quits: anodae[m] (~anodaemat@2001:470:69fc:105::400a) (Read error: Connection reset by peer)
[02:38:21] *** Quits: lautre[m] (~lautreg@2001:470:69fc:105::311f) (Write error: Connection reset by peer)
[02:38:22] *** Quits: blue_penquin[m] (~bluepenqu@2001:470:69fc:105::829) (Read error: Connection reset by peer)
[02:38:22] *** Quits: nicoty[m] (~nicoty@user/nicoty) (Read error: Connection reset by peer)
[02:38:23] *** Quits: lkhn (~lkhn@user/lkhn) (Read error: Connection reset by peer)
[02:38:23] *** Quits: sixecho (~sixecho@2001:470:69fc:105::32) (Write error: Connection reset by peer)
[02:38:23] *** Quits: ormaaj (~ormaaj@user/ormaaj) (Read error: Connection reset by peer)
[02:38:24] *** Quits: starmina[m] (~starmina@2001:470:69fc:105::926) (Read error: Connection reset by peer)
[02:38:24] *** Quits: deekej[m] (~deekej@2001:470:69fc:105::a6c) (Read error: Connection reset by peer)
[02:38:25] *** Quits: kuhilas (~kuhilas@2001:470:69fc:105::3040) (Write error: Connection reset by peer)
[02:38:25] *** Quits: elemongw[m] (~elemongwk@2001:470:69fc:105::34ee) (Write error: Connection reset by peer)
[02:38:25] *** Quits: inkbottle[m] (~inkbottle@2001:470:69fc:105::2ff5) (Write error: Connection reset by peer)
[02:38:27] *** Quits: eliasy[m] (~eliasymat@2001:470:69fc:105::3ff3) (Write error: Connection reset by peer)
[02:38:27] *** Quits: Helmholtz (~leibnizma@2001:470:69fc:105::3124) (Write error: Connection reset by peer)
[02:38:27] *** Quits: chambln (~chambln@user/chambln) (Read error: Connection reset by peer)
[02:38:51] *** Quits: julius_c (~julius_c@96.red-83-34-80.dynamicip.rima-tde.net) (Quit: Leaving)
[02:39:06] <Helmholtz2> twkm, yeah that fixed it üòÄ
[02:39:12] *** Joins: deekej[m] (~deekej@2001:470:69fc:105::a6c)
[02:41:04] *** Joins: anodae[m] (~anodaemat@2001:470:69fc:105::400a)
[02:41:04] *** Joins: kuhilas (~kuhilas@2001:470:69fc:105::3040)
[02:41:04] *** Joins: lkhn (~lkhn@user/lkhn)
[02:41:04] *** Joins: Guest273 (~bluepenqu@2001:470:69fc:105::829)
[02:41:04] *** Joins: nicoty[m] (~nicoty@user/nicoty)
[02:41:04] *** Joins: elemongw[m] (~elemongwk@2001:470:69fc:105::34ee)
[02:41:04] *** Joins: Kamui (~kamui-ren@2001:470:69fc:105::f74)
[02:41:05] *** Joins: sixecho (~sixecho@2001:470:69fc:105::32)
[02:41:05] *** Joins: ormaaj (~ormaaj@user/ormaaj)
[02:41:05] *** Joins: inkbottle[m] (~inkbottle@2001:470:69fc:105::2ff5)
[02:41:05] *** Joins: lautre[m] (~lautreg@2001:470:69fc:105::311f)
[02:41:05] *** Joins: AppAraat[m] (~apparaatm@2001:470:69fc:105::8c3)
[02:41:16] *** Joins: Helmholtz (~leibnizma@2001:470:69fc:105::3124)
[02:41:17] *** Joins: eliasy[m] (~eliasymat@2001:470:69fc:105::3ff3)
[02:41:18] *** Joins: chambln (~chambln@user/chambln)
[02:41:19] *** Joins: starmina[m] (~starmina@2001:470:69fc:105::926)
[02:41:34] *** Quits: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431) (Quit: Leaving)
[02:44:11] *** Joins: ZucZero (~Zucca@user/zucca)
[02:44:39] *** Quits: Zucca (~Zucca@user/zucca) (Ping timeout: 256 seconds)
[02:50:12] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[02:51:14] *** Quits: se-sm-ca (~sean@user/se-sm-ca) (Quit: WeeChat 3.0.1)
[02:51:43] *** Joins: GuiToris (~GuiToris@user/guitoris)
[02:52:18] <GuiToris> hello, I'm not sure if this is a bash issue: https://bpa.st/raw/NDPA
[02:54:15] *** Joins: emacspenguin (~emacspeng@45.77.216.45)
[02:54:44] <twkm> it seems to be a url.
[02:55:25] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 256 seconds)
[02:55:36] <twkm> at any rate, it certainly doesn't appear to be a shell issue.
[02:56:04] <emacspenguin> Occasionally when I run this script http://ix.io/3rBF it returns line 24: [: : integer expression expected. Why is this happening, and how can I fix this?
[02:56:21] <greycat> set -x is your friend
[02:56:22] <twkm> you failed to quote something.
[02:56:36] <greycat> or it's properly quoted, but it's empty
[02:57:01] <GuiToris> twkm, I don't quite understand why the alias won't work, but if I copy-paste it, it does
[02:57:08] <greycat> # [ "" -gt 4 ]
[02:57:09] <GuiToris> (and it used to work)
[02:57:10] <shbot> greycat: bash: [: : integer expression expected
[02:57:28] <twkm> neither do i GuiToris, but it obviously invoked VBoxManage.
[02:57:43] *** Quits: oprypin (~irc@pryp.in) (Quit: Bye)
[02:57:50] <twkm> since you are using bash emacspenguin i suggest using (( instead.
[02:57:53] *** Joins: oprypin (~irc@pryp.in)
[02:58:14] <greycat> (( might make the message go away but if a variable is unexpectedly empty, you've still got a bug
[02:58:26] <twkm> if (( ace_state == 11 )) ...  while (( sum_of_cards <= 21 )) ...
[02:58:35] <greycat> (( will treat an empty variable as 0, which may or may not be good
[02:59:51] *** Joins: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net)
[03:00:06] <emacspenguin> ty
[03:00:16] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 252 seconds)
[03:00:18] <twkm> GuiToris: as an aside, i'd make it a function -- much easier to debug.
[03:00:39] <GuiToris> I'll give it a try, thanks :)
[03:01:03] *** Quits: tlaxkit (~hexchat@170.253.43.19) (Quit: Saliendo...)
[03:01:08] <twkm> but as greycat said, set -x is your friend.
[03:02:26] <twkm> $ set -x
[03:02:30] <twkm> $ ubuntu
[03:02:30] <twkm> + VBoxManage startvm Ubuntu
[03:03:27] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[03:03:52] <twkm> you'd see + ubuntu after the $ if it were a function, but since it is currently an alias the command line is directly changed.
[03:04:11] *** Joins: zeden (~zeden@user/zeden)
[03:04:41] <greycat> I was proposing set -x for the person who had the empty variable in a [ command, but sure, it's also the friend of other people
[03:05:25] <twkm> serendipity.
[03:05:34] <neshpion> in bash, is `while (( $# ))` better/worse/equal vs `while [ "$#" -gt 0 ]` ?
[03:06:06] <emacspenguin> could I use if (( $card == 0 )) then change the variable afterwords?  
[03:06:07] <GuiToris> twkm, umm, it's even worse https://bpa.st/raw/4XMA
[03:06:09] <greycat> $# can never be negative so they both work
[03:06:14] <twkm> i'd certainly prefer the former.  some would prefer the latter.
[03:06:14] <arkanoid> do you know if it is possible to perform date calculation with "date -r file"? I need to subtract X seconds from that
[03:06:38] *** Joins: borbetomagus (~borbetoma@154.3.42.107)
[03:07:20] <twkm> GuiToris: so it is some kind of vbox problem, where sometimes a vm exists but other times does not.
[03:07:39] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 268 seconds)
[03:07:56] <GuiToris> got it, a future update hopefully will solve it, thank you for your help :)
[03:08:10] <twkm> arkanoid: have you tried it?  (obviously gnu date since bsd date -r doesn't want a file)
[03:08:52] <greycat> they were asking about date -d earlier, so GNU date is almost certainly what they're talking about
[03:08:53] <arkanoid> yes, gnu date -d and date -r are mutually exclusive
[03:09:07] <twkm> then it seems you cannot, easily.
[03:09:21] <greycat> you could call it twice
[03:09:30] <twkm> date -d "@$(date +%s -r file) math"
[03:09:59] <arkanoid> I'm successfully using date -d "-3600 seconds" but having difficulties in chaining it
[03:10:07] <arkanoid> what is @?
[03:10:09] <greycat> use +%s on the first call, as twkm did
[03:10:15] <twkm> otoh, bash can -300 from what +%s provides.
[03:10:34] <greycat> warning: they were asking about how to subtract fractional seconds from a timestamp earlier
[03:10:35] *** Joins: ferdna (~ferdna@user/ferdna)
[03:10:41] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:48d1:c8ce:9f36:fdd8)
[03:10:47] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:48d1:c8ce:9f36:fdd8) (Read error: Connection reset by peer)
[03:11:05] <arkanoid> greycat: I've rounded to int finally
[03:11:31] <arkanoid> bc <<< "$millis / 1000"
[03:11:53] <twkm> ''man date'' will tell you about @, sort of.
[03:12:03] *** Joins: shush (sid21719@id-21719.tinside.irccloud.com)
[03:12:22] <greycat> since it's GNU date, the info page has the full docs, and the man page does not
[03:12:56] *** Quits: emacspenguin (~emacspeng@45.77.216.45) (Quit: WeeChat 3.2)
[03:13:05] *** Quits: Chex (~Chex@user/chex) (Ping timeout: 244 seconds)
[03:13:09] <greycat> my man page has @ in one example, but doesn't mention it in the -d section
[03:13:20] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Quit: WeeChat 3.2)
[03:13:31] <twkm> those that use gnu crap should know that and have already looked there, alas some get lost in the info viewer.
[03:13:32] *** Quits: shush (sid21719@id-21719.tinside.irccloud.com) (Client Quit)
[03:13:48] <arkanoid> twkm: I tried double date, but date: invalid date ‚Äò@1625092987 - 3600 seconds‚Äô
[03:14:01] *** Joins: shush (sid21719@id-21719.tinside.irccloud.com)
[03:14:13] <greycat> then do the math in bash first
[03:14:18] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:819e:d0c4:207:bb53)
[03:14:21] <arkanoid> k
[03:14:41] <twkm> then let bash ... that.
[03:14:50] *** Quits: skapata (~Skapata@user/skapata) (Read error: Connection reset by peer)
[03:14:51] <neshpion> i found information about '@' in the texinfo manual under 'Seconds since hte Epoch'
[03:14:57] <neshpion> s/hte/thje
[03:15:00] <neshpion> s/j//
[03:15:07] <twkm> says the same for the example in the man page.
[03:15:24] <neshpion> not mine
[03:15:34] <twkm> but greycat is quite right, info is where all the details are that may or may not be present in the man page.
[03:16:01] <neshpion> i use `pinfo` instead of `info` which makes navigating texinfo manuals slightly less annoying for me
[03:16:16] <twkm> but is missing some features.
[03:16:20] *** Joins: Adoi (~Adoi@user/adoi)
[03:16:20] <neshpion> :O
[03:16:22] <twkm> the one i found is: Convert seconds since the epoch (1970-01-01 UTC) to a date
[03:16:40] <twkm> then date --date=@...
[03:16:43] <greycat> some of the features that I though pinfo was missing are hidden behind a *really* weird interface
[03:16:49] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[03:17:26] <greycat> the most important being: / doesn't do a full search -- you need to use s instead
[03:18:48] <neshpion> the texinfo manual pays homage to the forgotten 1998-12-31 23:59:60 leapsecond, nice. o7
[03:20:08] *** Joins: peterrooney (~peter@2604:3d08:1583:5600:222:4dff:fe69:d6ed)
[03:20:23] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[03:23:12] <twkm> i then nothing takes you to the index in info.  i don't see how that's possible in pinfo.
[03:23:32] <neshpion> mashing 'u'
[03:23:59] <twkm> u is up, for me.
[03:24:32] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 272 seconds)
[03:24:46] <arkanoid> maybe one day I will leave gnu for bsd. I do remember the OS professor @ university saying how linux was bad compared to bsd, but somehow the first gave me multiple job opportunities somehow, but not bsd. That's sad.
[03:24:51] *** Quits: Helmholtz2 (Helmholtz@user/helmholtz) (Quit: Leaving)
[03:25:00] *** Quits: spacedust (~info@user/cosmicblue) (Quit: leaving)
[03:25:12] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 252 seconds)
[03:26:00] <twkm> they are just different.  bsd's kernels aren't as research-y as linux is.
[03:26:08] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 258 seconds)
[03:26:41] <neshpion> what does researchy mean
[03:26:43] *** Joins: Trieste (T@user/pilgrim)
[03:27:09] *** Quits: Starmina (~Starmina@212.170.25.93.rev.sfr.net) (Remote host closed the connection)
[03:28:27] *** Joins: Starmina (~Starmina@194.110.113.90)
[03:28:40] <twkm> linus is willing to completely change a kernel api sometimes without quite the sematic version change you'd expect, where bsd's tend to maintain an api as long as possible (preferrably forever).
[03:30:08] <arkanoid> my university professor used to say good things about bsd network stack
[03:30:26] *** Joins: keypusher (keypusher@user/keypusher)
[03:30:33] *** Quits: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net) (Quit: uc50ic4more)
[03:30:48] *** Joins: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net)
[03:30:58] *** Quits: jsrnop (~mark@user/jsrnop) (Quit: The Lounge - https://thelounge.chat)
[03:31:03] <greycat> (there isn't just one single "bsd")
[03:31:30] *** Joins: jsrnop (~mark@user/jsrnop)
[03:32:13] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[03:32:29] *** Joins: Wulf4 (~Wulf@user/wulf)
[03:33:02] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Client Quit)
[03:33:16] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[03:34:42] *** Quits: Wulf (~Wulf@user/wulf) (Ping timeout: 240 seconds)
[03:34:42] *** Wulf4 is now known as Wulf
[03:36:30] *** Joins: kj (~kj@kj.aerisnetwork.net)
[03:38:36] <arkanoid> yeah, not sure which one in particural he was talking about, but I logged once into his server and it was freebsd if I remember correctly
[03:39:38] <arkanoid> or maybe openbsd, actually I don't remember
[03:39:43] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Ping timeout: 268 seconds)
[03:41:24] *** Quits: smlavine (~smlavine@sourcehut/user/smlavine) (Read error: Connection reset by peer)
[03:44:54] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 265 seconds)
[03:44:57] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[03:45:53] *** Quits: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net) (Quit: uc50ic4more)
[03:47:06] *** Quits: Starmina (~Starmina@194.110.113.90) (Ping timeout: 240 seconds)
[03:51:51] *** Joins: FuriousGeorge (~FuriousGe@pool-71-125-70-201.nwrknj.east.verizon.net)
[03:52:12] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:56:27] *** Joins: venmx (~bertie@host81-155-235-58.range81-155.btcentralplus.com)
[03:58:44] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 272 seconds)
[03:59:46] *** Quits: YHVH (~yhvh@2601:982:8300:8090:90be:86fd:b5f3:32f5) (Ping timeout: 272 seconds)
[04:00:26] *** Joins: Starmina (~Starmina@2001:ac8:25:d7::a14e)
[04:05:30] *** Quits: andril (~andril@2601:586:8400:113:54d2:2cbd:1dba:cace) (Ping timeout: 240 seconds)
[04:06:46] *** Quits: GuiToris (~GuiToris@user/guitoris) (Quit: Sieben Acht Gute Nacht!)
[04:09:29] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Remote host closed the connection)
[04:13:18] *** Quits: jkwnki1 (~jkwnki@p2e579b3d.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[04:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:38] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:18:11] *** Joins: daGrevis (~daGrevis@91.123.67.60)
[04:18:26] *** Joins: Tabstar (~tabmow@user/tabmow)
[04:19:00] *** Quits: sublim20 (~sublim20@user/sublim20) (Ping timeout: 272 seconds)
[04:19:11] *** Quits: Tabmow (~tabmow@user/tabmow) (Read error: Connection reset by peer)
[04:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:09] <daGrevis> hi! can someone take a look at this bash? I changed it to comply with shellcheck, but somehow the logic got broken. http://pastie.org/p/5Bs9O1ZWOc3b3a5WcIbGUg
[04:20:11] *** Joins: arinov_ (~arinov@31.142.27.189)
[04:20:12] *** Tabstar is now known as Tabmow
[04:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:20:54] *** Quits: ham2 (~ham4@d8D8627D5.access.telenet.be) (Ping timeout: 272 seconds)
[04:20:55] <Riviera> daGrevis: 0 is success
[04:22:17] <daGrevis> arghhh, I don't need !
[04:22:24] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[04:22:36] <daGrevis> well that's dumb, I guess I shouldn't hack on my dotfiles at 3 am
[04:29:28] *** Quits: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5) (Read error: Connection reset by peer)
[04:30:02] *** Quits: zopsi (zopsi@2600:3c00::f03c:91ff:fe14:551f) (Quit: Oops)
[04:30:19] *** Joins: zopsi (zopsi@2600:3c00::f03c:91ff:fe14:551f)
[04:30:30] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[04:30:34] *** Joins: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5)
[04:31:27] *** Quits: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net) (Read error: Connection reset by peer)
[04:31:53] *** Joins: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net)
[04:33:12] *** Quits: daGrevis (~daGrevis@91.123.67.60) (Quit: Leaving)
[04:33:19] *** Quits: FuriousGeorge (~FuriousGe@pool-71-125-70-201.nwrknj.east.verizon.net) (Ping timeout: 246 seconds)
[04:35:31] *** Quits: twobitsprite (~twobitspr@66.115.166.148) (Ping timeout: 258 seconds)
[04:37:10] *** Joins: twobitsprite (~twobitspr@107.13.51.62)
[04:41:56] *** Quits: ionface (~ionface@user/ionface) (Ping timeout: 265 seconds)
[04:42:06] *** Joins: ionface (~ionface@user/ionface)
[04:42:42] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 240 seconds)
[04:43:06] *** Joins: Intruder777 (~Intruder7@user/intruder777)
[04:44:39] <Intruder777> please suggest the proper commands and piping: I need to take first 100 bytes of each *.txt file in a directory and then grep in those bytes some pattern and then, as a result, I need list of matching files names. I know I can do `head -c 100` but how do I properly pipe it to grep so I get files names as a resulting output?
[04:44:46] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:46:16] <omegatron> do head -c 100 for each file and store the result in a file named similar (such as FILE.head) then grep over those files and postprocess this output
[04:46:33] <omegatron> afterwards remove those .head files
[04:46:53] <Intruder777> no way to do it on the fly, without creating temp files?
[04:47:14] <omegatron> tell me, if you come up with a one-liner .. next year
[04:47:32] <Intruder777> why next year? because it's almost not possible?
[04:47:50] <koala_man> for f in ./*.txt; do head -c 100 "$f" | grep -q pattern && echo "Matching file: $f"; done
[04:50:48] <omegatron> because such stuff is easier and better to administrate (at least for me) to write as a small function, whether if its done with temp files or not ..   with one-liners and no accompanying documentation you might have forgotten next month, what this thing does exactly when you see it somewhere  ( unless it's for a one-time job )
[04:52:07] <Intruder777> koala_man: thanks, I run it, but looks like it either hangs, or waits for user input
[04:52:07] <omegatron> depends of course how complex it will be .. koala_man's solution is still not too complex
[04:52:13] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[04:52:51] <koala_man> Intruder777: I'm unable to reproduce that
[04:52:58] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[04:53:27] <Intruder777> probably that's because I run it in cygwin bash...
[04:56:53] *** Joins: fluter- (~fluter@user/fluter)
[04:56:55] *** Quits: arinov_ (~arinov@31.142.27.189) (Ping timeout: 265 seconds)
[04:57:30] *** Quits: venmx (~bertie@host81-155-235-58.range81-155.btcentralplus.com) (Ping timeout: 240 seconds)
[04:58:16] *** Quits: redgloboli (~redglobol@user/redgloboli) (Ping timeout: 272 seconds)
[04:59:20] *** Quits: fluter (~fluter@user/fluter) (Ping timeout: 265 seconds)
[05:01:47] *** Quits: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970) (Ping timeout: 268 seconds)
[05:02:43] *** Quits: Nact (~l@host-85-27-127-179.dynamic.voo.be) (Quit: Konversation terminated!)
[05:06:56] <Intruder777> koala_man: it was a wrong 'head' chars count, lol. Now it's working. Thanks again
[05:13:26] *** Quits: omegatron (~some@p5b056bc7.dip0.t-ipconnect.de) (Quit: What happened? You quit!)
[05:13:41] *** Joins: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970)
[05:14:28] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[05:17:16] *** Quits: hegstal (~hegstal@2a02:c7f:7604:8a00:1749:70f2:c3b4:7591) (Remote host closed the connection)
[05:18:13] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[05:21:08] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[05:25:50] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 252 seconds)
[05:30:21] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:32:54] *** Joins: Adoi (~Adoi@user/adoi)
[05:34:38] *** Quits: umair (~uhanif@50.59.87.16) (Ping timeout: 252 seconds)
[05:34:50] *** Joins: vlm (~vlm@user/vlm)
[05:35:38] *** Quits: twobitsprite (~twobitspr@107.13.51.62) (Ping timeout: 272 seconds)
[05:36:29] *** Joins: umair (~uhanif@cpe-70-122-17-187.austin.res.rr.com)
[05:39:09] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 258 seconds)
[05:39:32] *** Quits: phillbush (~phillbush@user/phillbush) (Remote host closed the connection)
[05:44:03] *** Joins: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de)
[05:47:24] *** Joins: cliluw (~cliluw@ec2-52-211-17-48.eu-west-1.compute.amazonaws.com)
[05:47:40] *** Quits: umair (~uhanif@cpe-70-122-17-187.austin.res.rr.com) (Ping timeout: 272 seconds)
[05:47:56] *** Joins: umair (~uhanif@50.59.87.16)
[05:48:15] *** Quits: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[05:51:40] *** grettke is now known as grettke2
[05:51:40] *** Quits: grettke2 (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[05:52:57] *** Quits: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie) (Ping timeout: 258 seconds)
[05:55:15] *** Joins: sublim20 (~sublim20@user/sublim20)
[05:58:54] *** Joins: emanuele6 (~emanuele6@93-35-160-28.ip55.fastwebnet.it)
[05:58:55] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[05:59:17] *** Quits: emanuele6 (~emanuele6@93-35-160-28.ip55.fastwebnet.it) (Changing host)
[05:59:17] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[06:00:44] *** Quits: Sasazuka (~Sasazuka@user/sasazuka) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[06:02:12] *** Joins: Black (~Benett@2a03:4000:1a:7aa::2)
[06:02:37] *** Quits: Benett (~Benett@xnetx.de) (Read error: Connection reset by peer)
[06:12:53] *** Joins: totenkoph (~scythe@gateway/tor-sasl/totenkoph)
[06:14:53] *** Quits: borbetomagus (~borbetoma@154.3.42.107) (Quit: Leaving...)
[06:18:06] *** grettke is now known as grettke2
[06:18:06] *** Quits: grettke2 (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[06:18:20] *** Joins: adanwan_ (~adanwan@gateway/tor-sasl/adanwan)
[06:18:42] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Remote host closed the connection)
[06:25:47] *** Joins: Guest53 (~textual@ool-43527ebe.dyn.optonline.net)
[06:27:48] *** Quits: Intruder777 (~Intruder7@user/intruder777) (Quit: Leaving)
[06:28:43] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:819e:d0c4:207:bb53) (Read error: Connection reset by peer)
[06:30:11] *** Quits: ilikeyou (~ilikeyou@ec2-18-116-114-172.us-east-2.compute.amazonaws.com) (Ping timeout: 256 seconds)
[06:33:31] *** Quits: Guest53 (~textual@ool-43527ebe.dyn.optonline.net) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[06:34:06] *** Quits: curdlesnoot (~curdlesno@2a03:1b20:1:e011::a21d) (Quit: = "")
[06:34:57] *** Quits: gschanuel9 (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[06:35:30] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Ping timeout: 240 seconds)
[06:35:42] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[06:40:29] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[06:42:32] *** Quits: finsternis (~X@23.226.237.192) (Read error: Connection reset by peer)
[06:47:56] *** Joins: Guest53 (~textual@ool-43527ebe.dyn.optonline.net)
[06:48:11] *** Joins: downunder (~downunder@110.151.120.49)
[06:48:33] *** Quits: Guest53 (~textual@ool-43527ebe.dyn.optonline.net) (Client Quit)
[06:50:35] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 256 seconds)
[06:55:24] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.2)
[06:55:39] *** Quits: sn1tch3r (~sn1tch3r@201-27-147-42.dsl.telesp.net.br) (Quit: Leaving)
[06:58:01] *** Joins: igemnace (~ian@user/igemnace)
[06:59:08] *** Quits: Kruppt (~Kruppt@50.111.30.114) (Quit: Leaving)
[07:05:23] *** Quits: cliluw (~cliluw@ec2-52-211-17-48.eu-west-1.compute.amazonaws.com) (Remote host closed the connection)
[07:07:01] *** Quits: Betal (~Beta@user/betal) (Quit: WeeChat 3.2)
[07:08:10] *** Joins: jos2 (~jos3@host-091-097-186-165.ewe-ip-backbone.de)
[07:12:32] *** Quits: jos1 (~jos3@dyndsl-091-248-048-229.ewe-ip-backbone.de) (Ping timeout: 272 seconds)
[07:13:42] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 265 seconds)
[07:15:16] *** Quits: sgn (~sgn@user/sgn) (Ping timeout: 268 seconds)
[07:15:34] *** Joins: sgn (~sgn@user/sgn)
[07:16:01] *** Joins: ilikeyou (~ilikeyou@ec2-18-116-114-172.us-east-2.compute.amazonaws.com)
[07:19:08] *** Joins: tijuco (~tijuco@user/tijuco)
[07:19:53] *** Joins: Betal (~Beta@user/betal)
[07:21:53] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[07:24:35] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[07:25:04] *** Joins: digup (~digup@58-7-236-103.dyn.iinet.net.au)
[07:26:28] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 272 seconds)
[07:29:38] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 272 seconds)
[07:33:26] *** Joins: blue_penquin (uid505269@id-505269.brockwell.irccloud.com)
[07:35:15] *** Guest273 is now known as blue_penquin[m]
[07:38:24] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[07:39:17] *** Joins: zeden (~zeden@user/zeden)
[07:40:17] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 265 seconds)
[07:41:34] *** Quits: zeden (~zeden@user/zeden) (Client Quit)
[07:43:29] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.2)
[07:46:22] *** Quits: neshpion (~neshpion@gateway/tor-sasl/neshpion) (Quit: neshpion)
[07:53:09] *** Quits: e36freak (~e36freak@user/e36freak) (Quit: burb)
[07:58:22] *** Quits: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net) (Ping timeout: 252 seconds)
[07:59:09] *** Quits: sgn (~sgn@user/sgn) (Ping timeout: 256 seconds)
[07:59:18] *** Joins: e36freak (~e36freak@user/e36freak)
[08:00:56] *** Joins: sgn (~sgn@user/sgn)
[08:01:58] *** Joins: Guest53 (~textual@ool-43527ebe.dyn.optonline.net)
[08:02:08] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[08:04:57] *** Joins: digup_ (~digup@58-7-236-103.dyn.iinet.net.au)
[08:05:28] *** Joins: tsp_ (~tsp@srv1.xen.prgmr.com)
[08:05:40] *** Joins: rkta_ (~kt@62.113.246.111)
[08:05:46] *** Joins: rocktop_ (~rocktop@41.143.68.152)
[08:05:49] *** Joins: FozzWorth_ (~FozzWorth@68-123-12-205.lightspeed.sntcca.sbcglobal.net)
[08:05:53] *** Quits: digup (~digup@58-7-236-103.dyn.iinet.net.au) (Read error: Connection reset by peer)
[08:06:11] *** Joins: lonewulf1 (~lonewulf@user/lonewulf)
[08:06:23] *** Joins: Goober_patrol66 (~Gooberpat@2603-8080-4302-67b1-0000-0000-0000-154e.res6.spectrum.com)
[08:06:29] *** Joins: debsan_ (~debsan@2800:810:471:2ee::1000)
[08:06:30] *** Joins: MenschZwoNull_ (~MenschZwo@p200300c8571440008a962f677ad3f14a.dip0.t-ipconnect.de)
[08:06:38] *** Joins: CutMeOwnThroat (~Iridos@2a02:8070:d19c:3300:bbc6:5764:1234:a74f)
[08:06:45] *** Joins: JanC_ (~janc@user/janc)
[08:06:56] *** Joins: Starmina_ (~Starmina@2001:ac8:25:d7::a14e)
[08:07:07] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 258 seconds)
[08:07:28] *** Quits: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66) (Read error: Connection reset by peer)
[08:07:28] *** Quits: Feuermagier_ (~Feuermagi@2a02:2488:4211:3400:5def:8486:9e4:b49a) (Read error: Connection reset by peer)
[08:07:28] *** Quits: tsp (~tsp@srv1.xen.prgmr.com) (Read error: Connection reset by peer)
[08:07:28] *** Quits: rocktop (~rocktop@41.143.68.152) (Read error: Connection reset by peer)
[08:07:28] *** Quits: Iridos (~Iridos@2a02:8070:d19c:3300:bbc6:5764:1234:a74f) (Read error: Connection reset by peer)
[08:07:28] *** Quits: rkta (~kt@62.113.246.111) (Read error: Connection reset by peer)
[08:07:28] *** Quits: MenschZwoNull (~MenschZwo@p200300c8571440008a962f677ad3f14a.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[08:07:29] *** Quits: Starmina (~Starmina@2001:ac8:25:d7::a14e) (Quit: Bye)
[08:07:29] *** Joins: Feuermagier_ (~Feuermagi@2a02:2488:4211:3400:5def:8486:9e4:b49a)
[08:07:29] *** Quits: justache (~justache@user/justache) (Quit: Ping timeout (120 seconds))
[08:07:29] *** Quits: debsan (~debsan@2800:810:471:2ee::1000) (Read error: Connection reset by peer)
[08:07:29] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 240 seconds)
[08:07:29] *** Starmina_ is now known as Starmina
[08:07:34] *** Quits: JanC (~janc@user/janc) (Read error: Connection reset by peer)
[08:07:35] *** rkta_ is now known as rkta
[08:07:37] *** Joins: justache (~justache@user/justache)
[08:08:42] *** Quits: Guest2469 (~FozzWorth@user/fozzworth) (Ping timeout: 240 seconds)
[08:08:42] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Ping timeout: 240 seconds)
[08:08:46] *** Joins: Crescendo (~Crescendo@user/crescendo)
[08:10:30] *** Joins: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com)
[08:10:44] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[08:11:31] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Client Quit)
[08:11:40] *** Quits: v8789 (v8789@user/blobberdene) (Quit: Quit)
[08:11:45] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[08:12:18] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 252 seconds)
[08:13:53] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[08:14:51] *** Joins: ferdna (~ferdna@user/ferdna)
[08:15:26] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[08:19:16] *** Joins: rocktop__ (~rocktop@160.176.27.194)
[08:19:21] *** Quits: adanwan_ (~adanwan@gateway/tor-sasl/adanwan) (Quit: _)
[08:19:33] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[08:22:27] *** Quits: rocktop_ (~rocktop@41.143.68.152) (Ping timeout: 258 seconds)
[08:24:48] *** Parts: Black (~Benett@2a03:4000:1a:7aa::2) ()
[08:25:22] *** Joins: Black (~Benett@2a03:4000:1a:7aa::2)
[08:26:06] *** Quits: Black (~Benett@2a03:4000:1a:7aa::2) (Quit: ¬†)
[08:26:30] *** Joins: Benett (~Benett@xnetx.de)
[08:31:00] *** Joins: jetchisel (jetchisel@user/jetchisel)
[08:34:54] *** Quits: Betal (~Beta@user/betal) (Quit: WeeChat 3.2)
[08:38:19] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[08:41:50] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[08:43:41] *** Quits: tkazi (~tkazi@user/tkazi) (Quit: Disconnected)
[08:44:37] *** Joins: vishal (~vishal@fedora/vishal)
[08:45:20] *** Joins: tkazi (~tkazi@user/tkazi)
[08:48:54] *** Quits: particleflux (~particlef@ircb.hackthe.codes) (Quit: 418 I'm a teapot)
[08:49:11] *** Joins: v8789 (v8789@user/blobberdene)
[08:49:17] *** Joins: particleflux (~particlef@ircb.hackthe.codes)
[08:50:15] *** Quits: v8789 (v8789@user/blobberdene) (Client Quit)
[08:51:16] *** Joins: sinaowolabi (~SinaOwola@160.152.125.132)
[08:52:04] *** Joins: v8789 (v8789@user/blobberdene)
[08:55:09] *** Quits: gothicserpent (~gothicser@static-198-54-129-85.cust.tzulo.com) (Ping timeout: 268 seconds)
[08:56:27] *** Joins: gothicserpent (~gothicser@198.54.129.86)
[08:59:54] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[09:11:00] *** Quits: particleflux (~particlef@ircb.hackthe.codes) (Quit: 418 I'm a teapot)
[09:11:18] *** Joins: particleflux (~particlef@ircb.hackthe.codes)
[09:14:30] *** Joins: igemnace (~ian@user/igemnace)
[09:18:53] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 265 seconds)
[09:19:06] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[09:19:37] *** Quits: tijuco (~tijuco@user/tijuco) (Quit: Leaving)
[09:21:08] *** Joins: rememberYou (~someone@user/rememberyou)
[09:29:03] *** Joins: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de)
[09:32:25] *** Joins: poponicalo (~poponical@host241-246-143-190.tigobusiness.com.ni)
[09:32:31] *** Parts: poponicalo (~poponical@host241-246-143-190.tigobusiness.com.ni) ()
[09:32:36] *** Joins: makara (~sol@196.61.111.63)
[09:33:45] *** Quits: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de) (Ping timeout: 258 seconds)
[09:36:37] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[09:40:56] *** Quits: gothicserpent (~gothicser@198.54.129.86) (Quit: Leaving)
[09:43:32] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[09:50:32] *** Quits: ryzenda (~ryzenda@pool-74-109-246-70.pitbpa.fios.verizon.net) (Read error: Connection reset by peer)
[09:53:45] *** Quits: digup_ (~digup@58-7-236-103.dyn.iinet.net.au) (Remote host closed the connection)
[09:58:17] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Quit: PROTO-IRC v0.73a (C) 1988 NetSoft - Built on 11-13-1988 on AT&T System V)
[10:00:59] *** Quits: debsan_ (~debsan@2800:810:471:2ee::1000) (Ping timeout: 256 seconds)
[10:02:48] *** Quits: Baggypants (~baggypant@cpc94362-ward12-2-0-cust376.10-2.cable.virginm.net) (Ping timeout: 244 seconds)
[10:08:36] *** Quits: v8789 (v8789@user/blobberdene) (Ping timeout: 272 seconds)
[10:09:00] *** Joins: v8789 (v8789@user/blobberdene)
[10:12:55] *** Joins: redgloboli (~redglobol@user/redgloboli)
[10:14:33] *** ronald_mcdonald is now known as vax11
[10:16:22] *** vax11 is now known as ronald_mcdonald
[10:21:37] *** Quits: umair (~uhanif@50.59.87.16) (Quit: Lost terminal)
[10:24:37] *** Quits: litheum (~kolbe@user/kolbe) (Quit: ZNC - http://znc.sourceforge.net)
[10:26:07] *** Joins: borbetomagus (~borbetoma@154.3.42.107)
[10:26:11] *** Quits: borbetomagus (~borbetoma@154.3.42.107) (Client Quit)
[10:27:08] *** JanC_ is now known as JanC
[10:27:55] *** Joins: litheum (~kolbe@user/kolbe)
[10:29:00] *** Joins: smlavine (smlavine@sourcehut/user/smlavine)
[10:29:43] *** Quits: smlavine (smlavine@sourcehut/user/smlavine) (Client Quit)
[10:31:16] *** Joins: jdvr (~jdvr@user/jdvr)
[10:36:15] *** Joins: Codaraxis__ (~Codaraxis@193.32.126.157)
[10:36:15] *** Joins: earendel (uid498179@user/earendel)
[10:38:09] *** Joins: dka (~code-is-a@ns3059207.ip-193-70-33.eu)
[10:38:38] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 265 seconds)
[10:40:54] *** Quits: Codaraxis_ (~Codaraxis@ip68-5-90-227.oc.oc.cox.net) (Ping timeout: 272 seconds)
[10:43:12] *** Joins: borbetomagus (~borbetoma@154.3.42.107)
[10:50:21] *** Quits: karakedi (~eAC53C340@user/karakedi) (Read error: Connection reset by peer)
[10:54:21] *** Quits: redgloboli (~redglobol@user/redgloboli) (Quit: ended)
[10:54:50] *** Joins: gnoo (~gnoo@user/gnoo)
[10:55:18] *** Joins: redgloboli (~redglobol@user/redgloboli)
[10:55:26] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[10:56:52] *** Parts: CutMeOwnThroat (~Iridos@2a02:8070:d19c:3300:bbc6:5764:1234:a74f) ()
[10:57:13] *** Joins: ryzenda (~ryzenda@pool-74-109-246-70.pitbpa.fios.verizon.net)
[10:58:12] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Quit: leaving)
[11:00:16] *** Joins: Iridos (~Iridos@2a02:8070:d19c:3300:bbc6:5764:1234:a74f)
[11:00:24] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[11:00:42] *** Parts: Iridos (~Iridos@2a02:8070:d19c:3300:bbc6:5764:1234:a74f) (Leaving)
[11:01:28] *** Quits: imp (~imp@186.205.11.214) (Quit: imp)
[11:08:03] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 258 seconds)
[11:09:35] *** Joins: no_gravity (~no_gravit@user/no-gravity/x-5639427)
[11:09:38] <no_gravity> Good Morning! 
[11:09:41] <no_gravity> Is there a way to grep any line that contains "hello" plus the following line?
[11:09:54] *** Quits: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[11:10:49] <no_gravity> Yay! grep hello -A2
[11:11:35] *** Joins: rendar (~rendar@user/rendar)
[11:15:25] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[11:15:44] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Ping timeout: 272 seconds)
[11:16:46] *** Joins: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de)
[11:20:48] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 272 seconds)
[11:22:07] *** Joins: emanuele6 (~emanuele6@93-35-160-28.ip55.fastwebnet.it)
[11:24:51] *** Joins: n4dir (~user@mue-88-130-57-164.dsl.tropolys.de)
[11:25:23] *** Quits: n4dir (~user@mue-88-130-57-164.dsl.tropolys.de) (Client Quit)
[11:26:08] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[11:26:46] *** Joins: maharg101 (~maharg101@savoy.force9.co.uk)
[11:28:49] *** Quits: richardm75 (~richardm7@2600:8801:c502:c800:b1ea:dbd5:bd1b:ac41) (Ping timeout: 256 seconds)
[11:31:46] *** Quits: LiftLeft (~LiftLeft@154.21.28.239) (Ping timeout: 252 seconds)
[11:42:08] *** Joins: digup (~digup@58-7-236-103.dyn.iinet.net.au)
[11:48:15] *** Joins: fourHZ (~fourHZ@80.146.191.156)
[11:48:37] *** Joins: Gooey (~gooey@2001:a62:1512:801:d441:80ec:bdc3:3131)
[11:51:04] <depesz> this shows 2 following lines :)
[11:54:25] *** Parts: gerikson (~gerikson@user/gerikson) ()
[11:55:24] *** Quits: fourHZ (~fourHZ@80.146.191.156) (Quit: Connection closed)
[11:55:54] *** Quits: alex3 (~alex3@BSN-77-82-41.static.siol.net) (Ping timeout: 240 seconds)
[11:55:54] <no_gravity> Yes :) Twice as good!
[11:56:00] *** Quits: no_gravity (~no_gravit@user/no-gravity/x-5639427) (Quit: leaving)
[11:56:30] *** Joins: fourHZ (~fourHZ@80.146.191.156)
[11:57:30] *** Quits: Goober_patrol66 (~Gooberpat@2603-8080-4302-67b1-0000-0000-0000-154e.res6.spectrum.com) (Remote host closed the connection)
[11:57:55] *** Joins: Goober_patrol66 (~Gooberpat@2603-8080-4302-67b1-0000-0000-0000-154e.res6.spectrum.com)
[11:58:12] *** Joins: karakedi (~eAC53C340@user/karakedi)
[12:01:58] *** Joins: alex3 (~alex3@BSN-77-82-41.static.siol.net)
[12:02:27] *** Quits: gnoo (~gnoo@user/gnoo) (Remote host closed the connection)
[12:02:55] *** Joins: gnoo (~gnoo@user/gnoo)
[12:03:48] *** Quits: chrish136 (~chrish@149.167.205.148) (Quit: WeeChat 3.0.1)
[12:05:36] *** Joins: t0kie (~t0kie@user/t0kie)
[12:06:24] *** Quits: digup (~digup@58-7-236-103.dyn.iinet.net.au) (Ping timeout: 272 seconds)
[12:07:59] *** Joins: earnestly (~earnest@user/earnestly)
[12:12:01] *** Joins: venmx (~bertie@host81-155-235-58.range81-155.btcentralplus.com)
[12:12:05] *** Joins: nobody_ (~nobody@host-82-60-161-222.retail.telecomitalia.it)
[12:14:27] *** Quits: t0kie (~t0kie@user/t0kie) (Quit: Leaving)
[12:19:00] *** Quits: Goober_patrol66 (~Gooberpat@2603-8080-4302-67b1-0000-0000-0000-154e.res6.spectrum.com) (Remote host closed the connection)
[12:19:24] *** Joins: Goober_patrol66 (~Gooberpat@2603-8080-4302-67b1-0000-0000-0000-154e.res6.spectrum.com)
[12:20:12] *** Joins: Helmholtz1 (Helmholtz@user/helmholtz)
[12:20:47] <Helmholtz1> I have a file with numbers from 1 to n in each line. (1\n2\n...10\n).
[12:21:14] <Helmholtz1> However some of the lines are missing : 1\n2\n4\n6\n7\n\8\n10\n
[12:21:22] <Helmholtz1> How to find out those 3, 5, and 9
[12:24:19] <pj> are the numbers already pre-sorted?
[12:24:36] <Helmholtz1> sdiff is the tool
[12:24:41] <Helmholtz1> pj yes
[12:25:27] <Helmholtz1> no sdiff is not suitable. I just want the difference. I think I have to diff and grep
[12:25:45] <geirha> !faq set intersect
[12:25:45] <greybot> https://mywiki.wooledge.org/BashFAQ/036 -- How can I get all lines that are: in both of two files (set intersection) or in only one of two files (set subtraction).
[12:26:36] <geirha> assuming you know the start and end value of the range
[12:26:37] *** Quits: _0x5fc3 (~0x5fc3@wireguard/tunneler/-0x5fc3) (Quit: The Lounge - https://thelounge.chat)
[12:27:36] *** Joins: _0x5fc3 (~0x5fc3@wireguard/tunneler/-0x5fc3)
[12:27:59] <Helmholtz1> lol what is this: comm -23 file_a file_b
[12:28:13] <Helmholtz1> oh that's what intersect is
[12:28:35] <geirha> that's subtraction
[12:28:52] *** Joins: varaindemian (~varaindem@86.124.78.162)
[12:28:55] <pj> you can generate a file that contains all the numbers to compare with.
[12:29:16] <Helmholtz1> is comm preinstalled in unixes?
[12:29:20] <Helmholtz1> Very weird name
[12:29:46] <geirha> ah well, the lines are sorted numerically, not alphabetically, so that means it must be sorted in addition
[12:30:02] <pj> it's part of gnu coreutils, so it will almost certainly be installed in just about any unix.
[12:30:24] <geirha> # printf '%s\n' 1 2 4 6 7 8 10 > file; comm -23 <(printf '%s\n' {1..10} | sort) <(sort file) | paste -s
[12:30:26] <shbot> geirha: 3       5       9
[12:30:35] <geirha> and it's POSIX
[12:30:40] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[12:31:03] <Helmholtz1> and is written in 80s?
[12:31:13] <Helmholtz1> It's like they solved everything in the 80s
[12:31:34] <Helmholtz1> coolest tool of this month probably
[12:31:46] *** Quits: fatal (0x00@user/fatal) (Killed (ozone (No Spam)))
[12:32:16] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 252 seconds)
[12:33:02] *** Joins: fatal (0x00@user/fatal)
[12:33:04] <pj> # printf '%s\n' 1 2 4 6 7 8 10 > file; end=$(tail -1 file); comm -23 <(printf '%s\n' {1..$end}) file
[12:33:06] <shbot> pj: comm: file 2 is not in sorted order
[12:33:06] <shbot> pj: {1..10}
[12:33:11] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[12:33:53] <pj> # printf '%s\n' 1 2 4 6 7 8 10 > file; end=$(tail -1 file); comm ---nocheck-order 23 <(printf '%s\n' {1..$end}) file
[12:33:55] <shbot> pj: comm: unrecognized option '---nocheck-order'
[12:33:55] <shbot> pj: Try 'comm --help' for more information.
[12:33:59] <pj> heh
[12:34:07] <pj> # printf '%s\n' 1 2 4 6 7 8 10 > file; end=$(tail -1 file); comm --nocheck-order 23 <(printf '%s\n' {1..$end}) file
[12:34:09] <shbot> pj: comm: extra operand 'file'
[12:34:09] <shbot> pj: Try 'comm --help' for more information.
[12:34:11] *** Joins: n4dir (~user@mue-88-130-57-164.dsl.tropolys.de)
[12:34:17] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[12:34:20] <pj> # printf '%s\n' 1 2 4 6 7 8 10 > file; end=$(tail -1 file); comm --nocheck-order -23 <(printf '%s\n' {1..$end}) file
[12:34:22] <shbot> pj: {1..10}
[12:34:31] <pj> bleh
[12:34:34] *** Quits: cmc (~methos@gateway/tor-sasl/cmc) (Remote host closed the connection)
[12:34:52] *** Quits: n4dir (~user@mue-88-130-57-164.dsl.tropolys.de) (Client Quit)
[12:35:02] <Helmholtz1> should it be ascending or descneding
[12:35:09] <Helmholtz1> my file is sorted but it says not
[12:35:21] *** Joins: cmc (~methos@gateway/tor-sasl/cmc)
[12:35:54] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 240 seconds)
[12:36:16] <Helmholtz1> this is b : http://ix.io/3rD1
[12:36:21] <Helmholtz1> seq 1 2482 > a
[12:37:14] <Helmholtz1> http://ix.io/3rD1
[12:37:28] <geirha> with numerical sort,  2 comes before 10.  With alphabetical/lexicographical sort, 10 comes before 2
[12:37:33] <geirha> it's expecting alphabetical sort
[12:39:59] <Helmholtz1> geirha, solved thanks
[12:40:03] *** Joins: niko (~niko@libera/staff/niko)
[12:40:52] *** Joins: Mo (~Mo@dynamic-077-008-202-051.77.8.pool.telefonica.de)
[12:41:24] <geirha> awk is another option of course. Shouldn't be too hard to write an algorithm for it
[12:41:24] *** Joins: shad (~shad@user/shad)
[12:41:30] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 240 seconds)
[12:41:35] <geirha> that would avoid the extra sorting
[12:42:41] <pj> # printf '%s\n' 1 2 4 6 7 8 10 > file; end=$(tail -1 file); cat <(for (( i=1; i<=$end; i++ )); do printf '%s\n' "$i"; done) file | sort -n | uniq -u
[12:42:42] <shbot> pj: 3
[12:42:42] <shbot> pj: 5
[12:42:42] <shbot> pj: 9
[12:43:06] *** Quits: sinaowolabi (~SinaOwola@160.152.125.132) (Ping timeout: 240 seconds)
[12:43:54] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[12:43:57] <ash_worksi> what is wrong with this? set-window-option alternate-screen on
[12:43:59] <ash_worksi> oops
[12:44:05] <ash_worksi> what is wrong with this?: FOO=bar jq -n --arg f "$FOO" '"\($f)"'
[12:44:15] *** Joins: frostwork (~frostwork@user/frostwork)
[12:45:04] <izabera> !faq FOO=bar
[12:45:05] <greybot> https://mywiki.wooledge.org/BashFAQ/104 -- Why doesn't foo=bar echo "$foo" print bar?
[12:45:21] <ash_worksi> thanks
[12:45:33] <geirha> # printf '%s\n' 1 2 4 6 7 8 10 | awk -v a=1 -v b=10 '{while (a < $1) print a++; a++} END {while (a < b) print a++}' | paste -s
[12:45:35] <shbot> geirha: 3       5       9
[12:45:49] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[12:46:18] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[12:46:30] <geirha> Hm. off-by-one. should be (a <= b) instead of (a < b)
[12:46:39] *** Joins: hegstal (~hegstal@2a02:c7f:7604:8a00:8d05:aaa6:8a87:6441)
[12:47:37] <geirha> # printf '%s\n' 2 4 6 7 8 | awk -v a=1 -v b=10 '{while (a < $1) print a++; a++} END {while (a <= b) print a++}' | paste -s
[12:47:38] <shbot> geirha: 1       3       5       9       10
[12:48:09] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 256 seconds)
[12:48:10] *** Lord_of_Life_ is now known as Lord_of_Life
[12:48:49] <izabera> is this a competition to the least elegant set difference?
[12:49:31] <geirha> my awk isn't elegant? :(
[12:49:31] *** Joins: arinov_ (~arinov@178.240.158.75)
[12:52:12] <ash_worksi> why is `command` used here: IFS=\; command eval 'JoinedVariable="${arr[*]}"'
[12:52:30] <ash_worksi> (last code block on https://mywiki.wooledge.org/BashFAQ/104)
[12:52:31] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[12:53:17] <ash_worksi> nvm
[12:53:21] <ash_worksi> there's a note at the end
[12:54:40] *** Joins: MichaelOF (~michael@p200300eb8f04b50194da4e559b780e15.dip0.t-ipconnect.de)
[12:56:58] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[12:57:08] *** Quits: reset (~reset@user/reset) (Quit: reset)
[12:57:34] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[13:00:20] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[13:07:00] *** Joins: lavaball (felix@31.204.155.215)
[13:08:57] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 265 seconds)
[13:10:15] *** fluter- is now known as fluter
[13:12:48] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[13:14:25] *** Quits: deekej[m] (~deekej@2001:470:69fc:105::a6c) (Quit: node-irc says goodbye)
[13:14:31] *** Quits: chambln (~chambln@user/chambln) (Quit: node-irc says goodbye)
[13:16:10] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[13:19:51] *** Joins: varaindemian (~varaindem@86.124.78.162)
[13:21:22] *** Quits: earendel (uid498179@user/earendel) (Quit: Connection closed for inactivity)
[13:23:02] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 272 seconds)
[13:26:25] *** Quits: Goober_patrol66 (~Gooberpat@2603-8080-4302-67b1-0000-0000-0000-154e.res6.spectrum.com) (Remote host closed the connection)
[13:26:55] *** Joins: Goober_patrol66 (~Gooberpat@2603-8080-4302-67b1-0000-0000-0000-154e.res6.spectrum.com)
[13:27:08] *** Quits: v8789 (v8789@user/blobberdene) (Remote host closed the connection)
[13:27:29] *** Joins: v8789 (v8789@user/blobberdene)
[13:28:42] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[13:29:29] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[13:31:55] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[13:43:56] *** Quits: venmx (~bertie@host81-155-235-58.range81-155.btcentralplus.com) (Ping timeout: 272 seconds)
[13:48:14] *** Joins: Thin_icE (~pgp@213.205.68.220)
[13:57:56] *** Joins: jkwnki1 (~jkwnki@p2e579b3d.dip0.t-ipconnect.de)
[13:59:58] *** Joins: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66)
[14:00:06] *** Quits: Goober_patrol66 (~Gooberpat@2603-8080-4302-67b1-0000-0000-0000-154e.res6.spectrum.com) (Remote host closed the connection)
[14:00:50] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[14:02:28] *** Quits: arinov_ (~arinov@178.240.158.75) (Ping timeout: 258 seconds)
[14:03:41] *** Joins: lesshaste (~lesshaste@82-69-126-43.dsl.in-addr.zen.co.uk)
[14:03:58] <lesshaste> how can I find the largest file in any directory below the current one?
[14:06:30] *** Quits: LuKaRo_ (~LuKaRo@p57b15697.dip0.t-ipconnect.de) (Quit: ZNC 1.8.2 - https://znc.in)
[14:06:56] <lesshaste> du -a . | sort -n -r | head -n 20  gives directories and files but I only want files
[14:08:08] <geirha> GNU find's -printf can print filesize + filename for only regular files
[14:09:11] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 256 seconds)
[14:09:21] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 268 seconds)
[14:09:40] <geirha> though disk usage and filesize are different metrics
[14:10:30] <geirha> a file with 2 TB filesize could have 4KiB disk usage
[14:11:36] *** Joins: arinov_ (~arinov@213.14.161.121)
[14:14:09] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[14:14:20] *** Joins: LuKaRo (~LuKaRo@p57b15697.dip0.t-ipconnect.de)
[14:17:04] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[14:19:46] *** Joins: aramtsamtsam (~Thunderbi@lfbn-idf2-1-498-253.w86-246.abo.wanadoo.fr)
[14:21:41] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[14:26:19] *** Joins: Helmholtz2 (~Helmholtz@user/helmholtz)
[14:27:01] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[14:27:02] *** Quits: Helmholtz1 (Helmholtz@user/helmholtz) (Remote host closed the connection)
[14:27:46] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 252 seconds)
[14:29:57] *** Joins: jetchisel (jetchisel@user/jetchisel)
[14:33:27] *** Joins: Helmholtz1 (Helmholtz@user/helmholtz)
[14:35:58] *** Quits: maharg101 (~maharg101@savoy.force9.co.uk) (Quit: Textual IRC Client: www.textualapp.com)
[14:36:12] *** Quits: Helmholtz2 (~Helmholtz@user/helmholtz) (Ping timeout: 258 seconds)
[14:36:29] *** Gooey is now known as gooey
[14:37:23] *** Quits: wintersky (uid453465@id-453465.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[14:37:29] *** Joins: venmx (~bertie@host81-155-235-58.range81-155.btcentralplus.com)
[14:38:58] <Helmholtz1> Is it possible to only catch number part of wc -l with bash substitution (not grep)?
[14:39:26] <depesz> Helmholtz1: what is your wc invocation, in full ?
[14:39:44] <depesz> Helmholtz1: is it: "wc -l some_file" ?
[14:39:57] <Helmholtz1> depesz, yes
[14:40:01] <depesz> Helmholtz1: wc -l < some_file
[14:40:27] <Helmholtz1> depesz, huh! how?
[14:40:34] <depesz> "magic"
[14:41:04] <Helmholtz1> At this point, bash programming is a collection of gotchas and entries from manpages to remember
[14:41:06] *** Quits: emanuele6 (~emanuele6@93-35-160-28.ip55.fastwebnet.it) (Ping timeout: 240 seconds)
[14:41:11] <depesz> really - you just make wc read from stdin, and not directly from file, and make bash redirect file to stdin of wc
[14:41:21] <depesz> in this way wc has no way of knowing filename, so it just prints the number
[14:42:14] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 265 seconds)
[14:42:25] <Helmholtz1> depesz, ü§Ø
[14:42:31] *** Joins: emanuele6 (~emanuele6@93-35-160-28.ip55.fastwebnet.it)
[14:43:51] *** gooey is now known as Gooey
[14:44:07] <depesz> had to install "unicode", and read this emoji description to understand what you wrote, Helmholtz1
[14:45:26] <Helmholtz1> depesz, („Å£^‚Äø^)„Å£
[14:45:39] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.2)
[14:46:14] <depesz> Helmholtz1: also, if you have: z="$( wc -l some_file )"; you can: echo "${z%% *}"
[14:46:55] <geirha> that works with GNU wc at least ^^  not BSD
[14:47:14] <depesz> geirha: what does bsd wc do?
[14:47:26] <geirha> leftpadding of the number
[14:47:50] <depesz> interesting idea. to how many characters?
[14:48:10] <geirha> $ wc -l <(printf 'a\nb\n')
[14:48:13] <geirha>        2 /dev/fd/63
[14:48:19] *** Quits: Guest53 (~textual@ool-43527ebe.dyn.optonline.net) (Quit: Textual IRC Client: www.textualapp.com)
[14:48:32] <geirha> "%8d %s\n" apparently
[14:48:34] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[14:48:50] *** Joins: bertptrs (~quassel@user/bertptrs)
[14:49:02] *** Joins: Guest53 (~textual@ool-43527ebe.dyn.optonline.net)
[14:49:13] <geirha> can use read instead of command substitution though.  read -r lines _ < <(wc -l file)
[14:49:31] *** Quits: Guest53 (~textual@ool-43527ebe.dyn.optonline.net) (Client Quit)
[14:49:38] <depesz> that's cool idea. thanks.
[14:55:55] <pj> you don't need the _ either: read -r lines < <(wc -l < files)
[14:56:08] *** Quits: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net) (Ping timeout: 272 seconds)
[14:56:21] <pj> or if you want to do command substitution: lines=$(wc -l < files)
[14:56:34] <depesz> pj: please read what was written before.
[14:56:34] *** Quits: nobody_ (~nobody@host-82-60-161-222.retail.telecomitalia.it) (Read error: Connection reset by peer)
[14:56:59] <pj> oh, rihgt
[14:57:02] <pj> bleh
[14:57:03] <pj> *right
[14:57:04] *** Joins: nobody_ (~nobody@host-82-60-161-222.retail.telecomitalia.it)
[14:57:08] *** Joins: wintersky (uid453465@id-453465.brockwell.irccloud.com)
[14:59:33] *** Gooey is now known as gooey
[15:00:15] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[15:00:30] *** Quits: Thin_icE (~pgp@213.205.68.220) (Remote host closed the connection)
[15:01:41] *** Joins: richardm75 (~richardm7@2600:8801:c502:c800:c8e7:8141:940:8f65)
[15:03:30] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 265 seconds)
[15:04:54] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[15:05:31] <pj> lines=$(( $(wc -l < file)+0 ))
[15:05:45] <pj> should get rid of the padding ^^^^^
[15:08:10] *** Joins: digup (~digup@58-7-236-103.dyn.iinet.net.au)
[15:09:26] *** Joins: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net)
[15:12:38] <earnestly> fbsd is particularly terrible due to it not implementing posix, and when it does, it uses the 2004 standard
[15:12:51] <earnestly> implementing posix properly*
[15:15:46] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 272 seconds)
[15:19:25] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[15:19:58] *** Quits: randm (~randm@user/randm) (Quit: Leaving.)
[15:20:21] *** Joins: randm (~randm@user/randm)
[15:23:21] *** Quits: alex3 (~alex3@BSN-77-82-41.static.siol.net) (Ping timeout: 258 seconds)
[15:24:08] <pj> I'm fairly sure that a lot of the freebsd utils were around before POSIX was a thing.
[15:24:36] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 252 seconds)
[15:25:17] <earnestly> pj: See cp(1) for example
[15:25:37] <earnestly> Can't use -P without -R, 2004 posix lol
[15:26:07] <earnestly> pj: macos also randomly pads od -An
[15:26:48] *** Quits: shad (~shad@user/shad) (Ping timeout: 258 seconds)
[15:26:53] *** Quits: downunder (~downunder@110.151.120.49) (Quit: WeeChat 3.2)
[15:28:16] *** Quits: arinov_ (~arinov@213.14.161.121) (Ping timeout: 252 seconds)
[15:29:18] <pj> earnestly: I don't have access to a bsd box.
[15:30:06] <earnestly> And I don't think the age, even if true, of their tools is a justified excuse anymore especially when those systems depend largely on the good will of programmers who predominately use linux to support their systems, forgoing many useful syscalls for it
[15:30:16] <earnestly> pj: Their manuals are online
[15:30:24] * pj nods
[15:30:39] *** Joins: alex3 (~alex3@BSN-77-82-41.static.siol.net)
[15:30:50] <earnestly> Having to change make install to use cp -R just for freebsd is irritating :(
[15:30:56] *** Quits: aramtsamtsam (~Thunderbi@lfbn-idf2-1-498-253.w86-246.abo.wanadoo.fr) (Quit: aramtsamtsam)
[15:31:31] *** Joins: src (~src@user/src)
[15:31:46] <earnestly> Almost no wc implements posix properly either: "%d %d %d %s\n", <newlines>, <words>, <bytes>, <file>
[15:31:48] <pj> yeah, well
[15:31:55] <earnestly> # wc < .bashrc
[15:31:56] <shbot> earnestly:  31  97 634
[15:32:19] *** Joins: arinov_ (~arinov@213.14.161.121)
[15:33:09] <earnestly> ^ random padding for no reason only to make parsing harder/more complicated for everyone else
[15:33:16] *** Quits: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de) (Remote host closed the connection)
[15:33:33] *** Joins: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de)
[15:33:40] <pj> from wc(1P): "       When any option is specified, wc shall report only the information requested by the specified options."
[15:33:59] <pj> so by rights reporting the filename when -l is specified is in violation of that.
[15:34:48] *** Joins: kspalaiologos (~kspalaiol@user/kspalaiologos)
[15:34:58] <pj> ...and yet is there any wc implementation that does not report the filename?/
[15:36:06] <earnestly> pj: Nah, the manual is pretty clear about including the filename.  It even discusses the specific case where no files are provided
[15:36:40] *** Quits: nobody_ (~nobody@host-82-60-161-222.retail.telecomitalia.it) (Ping timeout: 272 seconds)
[15:36:42] <earnestly> In that it defines -l and such as the absence of the other values
[15:36:53] <earnestly> It could be clearer though
[15:37:06] *** Quits: rememberYou (~someone@user/rememberyou) (Remote host closed the connection)
[15:37:47] <earnestly> (Ultimately I'm not a fan of posix for this reason and many others, so it's always a little enraging when defending its adherence lol)
[15:38:22] <pj> okay, yep, it does later on.
[15:38:36] <pj> but yeah, it very specifically says this...
[15:38:51] <pj>        By default, the standard output shall contain an entry for each input file of the form:
[15:38:51] <pj>               "%d %d %d %s\n", <newlines>, <words>, <bytes>, <file>
[15:39:01] <pj> note: no padding there.
[15:39:07] <earnestly> That's what I noted above
[15:39:10] <pj> yep
[15:39:22] <earnestly> In the RATIONALE it even admonishes the old system of using padding lol
[15:39:48] <earnestly> pj: du: https://0x0.st/iOwl.txt
[15:40:38] *** Joins: phillbush (~phillbush@user/phillbush)
[15:41:08] <pj> heh, at least they're all broken in the same way.
[15:43:30] *** Joins: earendel (uid498179@user/earendel)
[15:44:09] <pj> it seems like with wc, the only safe portable way to use it is with one specific option (-l -m, -w or -c) and to strip any whitespace from the beginning.
[15:48:21] *** gooey is now known as Gooey
[15:48:54] *** frojnd1 is now known as frojnd
[15:49:14] <earnestly> I find it a little hard to understand how anyone could get things like this wrong.  Posix isn't always clear but this is unambiguous
[15:49:46] <chronon> I'm curious where you all are getting the POSIX spec that you appear to have access to. Is it freely available online?
[15:49:58] <Soliton> !posix
[15:49:59] <greybot> The POSIX standard defines what any modern unix should support. Use just POSIX external commands and options to make portable scripts. See http://shellhaters.org
[15:49:59] <earnestly> "Please use a space" GNU: "Okay, I'll use tab"
[15:50:12] *** Joins: rocktop (~rocktop@160.176.27.194)
[15:50:33] <earnestly> chronon: If you're on linux you can install man-pages and have access to the 1p section (and other (n)p sections)
[15:51:49] <chronon> I am on Ubuntu, but not sure how to access man pages by section, as opposed to by command lookup.
[15:52:13] <chronon> How does one read the 1p section?
[15:52:38] <Soliton> man 1p <cmd>
[15:52:48] <chronon> Yeah, by command lookup.
[15:52:49] *** Joins: thiras (~thiras@user/thiras)
[15:53:05] <chronon> So you need to know what to lookup.
[15:53:21] <chronon> No way to read all of section 1p then?
[15:53:37] <chronon> Or even know what's in it.
[15:54:33] <Soliton> maybe there is man 1p intro.
[15:54:42] <earnestly> Nah
[15:55:01] <chronon> I do not seem to have a 1p in /usr/share/man
[15:55:05] <earnestly> Besides that wouldn't show all commands in a listing.  That's what ls is for, but chronon may not know where manuals are kept
[15:55:38] <pj> chronon: what os/distro are you on?
[15:55:46] <chronon> Where would I find setion 1p then? I'm on Ubuntu
[15:56:00] <djph> chronon: do you mean "section 1" of the manual pages?  
[15:56:06] <pj> not sure, on Fedora / RHEL it's man-pages
[15:56:08] <earnestly> djph: 1p
[15:56:15] <djph> what the hell is "1p" ?
[15:56:19] <earnestly> pj: I did tell them about man-pages
[15:56:21] <earnestly> :(
[15:56:24] <pj> djph: it's the POSIX man pages
[15:56:28] <pj> there's also 3p, btw
[15:56:30] <geirha> apt install manpages-posix
[15:56:30] <djph> AH!
[15:56:35] <pj> earnestly: yep
[15:56:44] <djph> yeah, you're not gonna have POSIX by default, I don't think 
[15:56:47] <earnestly> ubuntu apparently is different
[15:56:50] <djph> and today I learned a new section
[15:57:14] <earnestly> djph: 7 is where all the fun is
[15:57:17] <chronon> Ah, I see a package in the repo called manpages-posix so that's probably what I would need.
[15:57:20] *** Quits: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 272 seconds)
[15:57:34] <chronon> It's not installed by default.
[15:57:37] <earnestly> chronon: Yeah geirha mentioned it above ^
[15:57:39] <djph> earnestly: I like 'undocumented' the best.
[15:57:41] <pj> chronon: yeah, I would say so, also because geirha just said so.
[15:58:01] <chronon> Ah, missed it.
[15:58:19] <chronon> :)
[15:58:43] <pj> It is at the very least educational to look at the 1p version of a man page and see how it differs from 1.
[15:58:45] <chronon> I'm using tmux and switching windows to check things so I miss things. hehe
[15:59:19] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[15:59:21] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Client Quit)
[15:59:34] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[15:59:43] <pj> in my particular case I tend not to care about POSIX so much because I'm almost always coding for a specific platform.
[15:59:56] *** Quits: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66) (Remote host closed the connection)
[16:00:23] *** Joins: Gooberpatrol_66 (~Gooberpat@user/gooberpatrol66)
[16:00:26] *** Joins: wwilly_ (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net)
[16:00:39] <djph> pfft, where does debian hi... oh, non-free
[16:00:50] *** Joins: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[16:01:10] <pj> djph: the POSIX man pages are non-free in debian?
[16:02:00] *** Quits: Mo (~Mo@dynamic-077-008-202-051.77.8.pool.telefonica.de) (Ping timeout: 272 seconds)
[16:02:15] <chronon> Reading back, I seemed to have missed or misready the mention of man-pages too. Sigh..
[16:02:59] <pj> it's man-pages in Fedora/RHEL, they just combine them all into one package whereas debian separates them into regular and posix.
[16:03:45] <Soliton> "This package is not part of the Debian distribution since it comes with a non DFSG-free license."
[16:04:01] <djph> pj: yep
[16:04:04] <ormaaj> The posix man-pages were licensed by special agreement to tldp. 
[16:04:07] <pj> wow, I guess so, but man pages, really?
[16:04:17] <pj> damn
[16:04:32] *** Quits: wwilly (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net) (Ping timeout: 272 seconds)
[16:04:32] <jetchisel> tldp ftw! ^^
[16:04:43] <pj> the RHEL man-pages package has this: License     : GPL+ and GPLv2+ and BSD and MIT and Copyright only and IEEE
[16:04:50] <djph> jetchisel: not when it comes to bash :D
[16:04:59] <jetchisel> \0/
[16:05:38] <Soliton> https://metadata.ftp-master.debian.org/changelogs//non-free/m/manpages-posix/manpages-posix_2013a-2_copyright
[16:06:27] *** Joins: skapata (~Skapata@user/skapata)
[16:08:13] <pj> it's not a standard free license, but it seems "free enough" to me, but I guess not to the strict debian standards.
[16:09:38] <ormaaj> They don't just give out the source markup and document generation tools to just anyone either. Only a few people have source material. 
[16:09:59] *** Joins: Helmholtz2 (~Helmholtz@user/helmholtz)
[16:10:13] <pj> Soliton: RHEL distributes that file with man-pages as well.
[16:11:14] *** Quits: Helmholtz1 (Helmholtz@user/helmholtz) (Remote host closed the connection)
[16:13:11] *** Quits: Helmholtz2 (~Helmholtz@user/helmholtz) (Client Quit)
[16:13:50] <pj> ormaaj: they're man pages, It's not guarateed that there *is* source markup to generate them, they could just be hand-written directly in man page format.
[16:14:58] <ormaaj> In this instance they were generated
[16:15:04] <pj> okay
[16:15:23] <pj> but modification is easily done to the generated markup.
[16:16:15] <pj> but I see where you're coming from, since the source isn't distributed and there's no offer to distribute the source with the end product then it's not considered "free".
[16:17:27] <ormaaj> I was actually referring to the source used to generate the actual standards documents, but the guy that did the posix man pages apparently made a tool to create them from same
[16:17:41] <pj> okay
[16:18:25] <earnestly> pj: Some of the 1p manuals are superior to gnu manuals, which is nice.  E.g. 1p awk
[16:19:41] *** Joins: sn1tch3r (~sn1tch3r@201-27-147-42.dsl.telesp.net.br)
[16:27:31] *** Joins: quiexotic (~quiexotic@user/quiexotic)
[16:31:25] *** Quits: Codaraxis__ (~Codaraxis@193.32.126.157) (Remote host closed the connection)
[16:31:44] *** Joins: Codaraxis__ (~Codaraxis@193.32.126.157)
[16:31:59] *** Joins: AndroidDAW (~AndroidDA@cpe-172-193-72-46.qld.foxtel.net.au)
[16:32:36] *** Quits: digup (~digup@58-7-236-103.dyn.iinet.net.au) (Read error: Connection reset by peer)
[16:32:56] *** Joins: digup (~digup@58-7-236-103.dyn.iinet.net.au)
[16:34:17] *** Joins: shad (~shad@user/shad)
[16:34:23] *** Quits: rocktop__ (~rocktop@160.176.27.194) (Quit: Leaving)
[16:34:28] *** Joins: magicSchlingel (~RatChat@cpe-173-172-186-158.tx.res.rr.com)
[16:36:09] *** Parts: AndroidDAW (~AndroidDA@cpe-172-193-72-46.qld.foxtel.net.au) ()
[16:36:55] *** Joins: LuksNuke (~LuksNuke@94.242.245.63)
[16:38:20] <pj> earnestly: I'm not fond of GNU's pension for sticking the real documentation into info pages either.
[16:39:34] <pj> ... that said, info wouldn't be so bad if you didn't have to use long invocation incantations that were best found by looking in the man page.
[16:40:01] *** Quits: ionface (~ionface@user/ionface) (Read error: Connection reset by peer)
[16:40:24] *** Quits: digup (~digup@58-7-236-103.dyn.iinet.net.au) (Ping timeout: 258 seconds)
[16:40:59] *** Quits: lonewulf1 (~lonewulf@user/lonewulf) (Read error: No route to host)
[16:41:14] *** Gooey is now known as gooey
[16:41:32] <pj> ...and yeah, the POSIX awk page is longer than the gawk one by nearly 400 lines.
[16:42:16] *** Joins: ionface (~ionface@user/ionface)
[16:42:49] *** Joins: wwilly__ (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net)
[16:43:58] <ormaaj> I like info info -- a comically verbose pre-www attempt to describe the concept of hypertext.
[16:44:27] *** Joins: jenszo (~jens@ip-109-41-193-100.web.vodafone.de)
[16:45:48] <depesz> ~ 100 lines for me onlyh
[16:46:54] <pj> yeah
[16:46:56] *** Quits: wwilly_ (~wwilly@cpc92794-cmbg19-2-0-cust589.5-4.cable.virginm.net) (Ping timeout: 265 seconds)
[16:48:29] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[16:48:35] *** Quits: ryzenda (~ryzenda@pool-74-109-246-70.pitbpa.fios.verizon.net) (Read error: Connection reset by peer)
[16:50:33] *** Quits: jenszo (~jens@ip-109-41-193-100.web.vodafone.de) (Remote host closed the connection)
[16:54:16] <ormaaj> Most of it is the keys
[16:54:38] *** Quits: v8789 (v8789@user/blobberdene) (Remote host closed the connection)
[16:54:41] <earnestly> pj: The format of manuals is what I like, the way it must be documented forces a terse/concise way of explaining what things do.  info is long form, meandering, etc.  See zshall(1) for an example of bad formatting
[16:55:11] <earnestly> I.e. even though you can get around info with `info | less', it's still written badly.  latex documentation is the worst example, if you want an extreme
[16:55:32] *** Joins: jenszo (~jens@2a00:20:a029:65f6:5867:740e:50c1:6ccc)
[16:55:49] *** Joins: speckz (~speckz@2600:1700:ce0:bf00:f8ac:89ea:2c60:ff9e)
[16:56:01] *** gooey is now known as Gooey
[16:56:21] <pj> earnestly: I completely agree, and I've seen projects with well formatted man pages that pack a lot of info, ex: Perl (which is really just a POD dump into man format) and Postfix.
[16:57:00] *** Joins: v8789 (v8789@user/blobberdene)
[16:57:20] <pj> honestly I think bash could do better, the man page is very informative, but it could do with breaking up into smaller man pages rather than one massive giant one.
[16:57:41] *** Joins: gareppa (~gareppa@user/gareppa)
[16:57:51] <earnestly> That's just a tooling issue really, I don't think split manuals are nice because grep/context is broken
[16:58:12] <pj> yeah, there is that.
[16:58:13] <earnestly> pj: It's more about layout, consider how the lack of : is documented in parameter expansions
[16:58:23] <earnestly> A small single sentence note at the end of a massive list of examples
[16:58:29] *** Joins: aramtsamtsam (~Thunderbi@lfbn-idf2-1-498-253.w86-246.abo.wanadoo.fr)
[16:58:45] *** Joins: frostwork (~frostwork@user/frostwork)
[17:02:15] <pj> in mine it's at the beginning of the list of examples
[17:02:35] *** Joins: digup (~digup@58-7-236-103.dyn.iinet.net.au)
[17:02:39] <pj> "When not performing substring expansion, using the forms documented below, bash tests for a parameter that is unset or null.  Omitting the colon results in a test only for a parameter that is unset."
[17:02:59] *** Quits: aramtsamtsam (~Thunderbi@lfbn-idf2-1-498-253.w86-246.abo.wanadoo.fr) (Client Quit)
[17:03:01] <pj> but it's still just oen sentence.
[17:03:14] *** Joins: aramtsamtsam (~Thunderbi@lfbn-idf2-1-498-253.w86-246.abo.wanadoo.fr)
[17:03:34] *** Quits: shad (~shad@user/shad) (Read error: Connection reset by peer)
[17:04:10] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Read error: Connection reset by peer)
[17:05:48] *** Joins: shad (~shad@user/shad)
[17:05:59] *** Quits: richardm75 (~richardm7@2600:8801:c502:c800:c8e7:8141:940:8f65) (Ping timeout: 256 seconds)
[17:12:18] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[17:14:12] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[17:14:18] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.0.1)
[17:16:28] *** Joins: survietanime (~vnvu@mxfr2-m1.mcra.fr)
[17:18:51] *** Joins: faceface (~faceface@user/faceface)
[17:18:53] <faceface> moin moin
[17:19:12] <faceface> how do I say this: for d in $($ddir/*.bim | shuf -n 2); do ...
[17:19:42] <faceface> for d in $(ls $ddir/*.bim | shuf -n 2); do ... # is wrong I think
[17:20:12] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[17:21:03] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[17:21:05] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[17:21:11] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[17:21:49] *** Parts: survietanime (~vnvu@mxfr2-m1.mcra.fr) ()
[17:21:50] *** Joins: survietanime (~vnvu@mxfr2-m1.mcra.fr)
[17:22:35] *** Joins: zeden (~zeden@user/zeden)
[17:22:37] *** Quits: survietanime (~vnvu@mxfr2-m1.mcra.fr) (Quit: Reconnecting)
[17:22:43] *** Joins: survietamine (~vnvu@mxfr2-m1.mcra.fr)
[17:23:54] *** Quits: quiexotic (~quiexotic@user/quiexotic) (Ping timeout: 240 seconds)
[17:24:55] *** Quits: gareppa (~gareppa@user/gareppa) (Quit: Leaving)
[17:24:56] <Soliton> make an array and pick two random indexes.
[17:25:03] <Soliton> !rand
[17:25:04] <greybot> rand() { local max=$((32768 / $1 * $1)) r; while (( (r=$RANDOM) >= max )); do :; done; printf '%s\n' "$(( r % $1 ))"; } ## Returns unbiased random number from 0 to ($1-1) inclusive, $1 <= 32768
[17:25:30] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 240 seconds)
[17:27:32] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[17:27:49] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[17:29:31] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[17:29:50] <faceface> Soliton: looks complicated... I'll stick to ls I think ;-)
[17:29:51] <earnestly> Hm, shuf -z is pretty ported
[17:29:56] <earnestly> !ls > faceface 
[17:29:56] <greybot> faceface: DO NOT USE ls' output for anything. ls is a tool for interactively looking at directory metadata. Any attempts at parsing ls' output with code are broken. Globs are much more simple AND correct: ''for file in *.txt''. Read http://mywiki.wooledge.org/ParsingLs
[17:30:04] <faceface> heh
[17:30:30] *** Joins: quiexotic (~quiexotic@user/quiexotic)
[17:30:45] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Read error: Connection reset by peer)
[17:31:45] <faceface> for file in *.txt <- That's what I want to do
[17:31:52] <faceface> but not sure how to pipe it to shuff...
[17:31:54] <faceface> shuf
[17:32:03] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[17:32:10] *** Quits: sn1tch3r (~sn1tch3r@201-27-147-42.dsl.telesp.net.br) (Quit: Leaving)
[17:32:14] <earnestly> 'for d' seems like you want directories
[17:32:19] <Soliton> for ... | shuf
[17:32:20] <earnestly> But you're listing files
[17:32:21] *** Joins: debsan_ (~debsan@2800:810:471:2ee::1000)
[17:33:02] <Soliton> you're curiously convinced that showing code that does not do what you want explains what you want.
[17:33:22] *** Joins: iomari891 (~iomari891@105.112.138.38)
[17:33:23] <faceface> for d in $ddir/*.bim | shuf -n 2; do echo $d; done
[17:33:25] <faceface> Soliton: lol
[17:33:27] <faceface> sorry
[17:33:31] <faceface> That code doesn't work
[17:33:46] <Soliton> because it's nonsense.
[17:33:46] <survietamine> after the for loop
[17:33:56] <faceface> I want to select two files at random from the list of files generated by  $ddir/*.bim
[17:34:24] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[17:34:29] <faceface> Soliton: it's what I came up with based on your suggestion, "for ... | shuf"
[17:34:32] <Soliton> thus the first step is: files=("$ddir"/*.bim)
[17:34:48] <faceface> I want to assign file1 to var1 and file2 to var2
[17:34:48] <Soliton> then you pick the two random indexes. with shuf if you must.
[17:34:54] <faceface> Soliton: ah... thank you 
[17:36:07] <earnestly> Soliton: Now the problem is them using shuf twice, potentially getting the same index :p
[17:36:22] <faceface> Yeah, I can easily use shuf twice
[17:36:32] <Soliton> why would you?
[17:36:41] <faceface> Soliton: because I can't find a clean solution
[17:36:54] <Soliton> that'd be the one thing that shuf might be useful for to call it just once.
[17:37:03] <faceface> for d in $(ls $ddir/*.bim | shuf -n 2); do echo $d; done
[17:37:07] <faceface> Works perfectly
[17:37:09] <Soliton> !drlwf
[17:37:09] <greybot> https://mywiki.wooledge.org/DontReadLinesWithFor ... "for" is for iterating arguments/arrays, not strings. Never do: for x in $(cat file), or for x in $var; instead, use a glob (*.txt), an array ("${hosts[@]}") or a while-read loop. See also https://mywiki.wooledge.org/BashPitfalls#pf1
[17:37:31] <Soliton> it might happen to work with some convenient files.
[17:37:33] <geirha> !faq random
[17:37:33] <greybot> https://mywiki.wooledge.org/BashFAQ/026 -- How can I randomize (shuffle) the order of lines in a file?  Or select a random line from a file, or select a random file from a directory?
[17:37:34] <earnestly> faceface: If anything contains spaces, or if it contains newlines, your code breaks
[17:37:36] <faceface> ah... do while < $(file..)
[17:37:43] <Soliton> and convenient ddir content.
[17:37:54] <Soliton> why do you want a loop at all?
[17:38:00] <faceface> IDK
[17:38:21] <faceface> I figured if I want var1=randfile1 and var2=randfile2, I'd use my above code
[17:38:45] <faceface> earnestly: who'd put a null character in a file name? I ask you!
[17:38:50] <Soliton> var1="${files[RANDOM % ${#files[@]}]}"
[17:38:56] *** Joins: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net)
[17:38:57] <earnestly> faceface: null characters cannot exist in filenames
[17:39:01] <earnestly> nul*
[17:39:07] <Soliton> biased but i guess you don't care.
[17:39:21] <faceface> Soliton: you mean not properly random?
[17:39:30] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[17:40:06] <earnestly> Soliton: I was thinking more: mapfile -t index < <(shuf -i 1-"${#files[@]}" -n2)
[17:40:20] <Soliton> yes, that'd be how shuf would be useful.
[17:40:32] <earnestly> faceface: This answer https://stackoverflow.com/a/10984975
[17:40:43] <earnestly> Soliton: Just so that there is no chance of getting duplicate indicies
[17:41:01] <Soliton> yes.
[17:41:39] <Soliton> you could re-role the random index otherwise or remove the picked item from the array.
[17:42:06] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 268 seconds)
[17:42:41] <chronon> For the random shuffle of lines in a file, how about sort -R
[17:43:14] *** Joins: apos (~apos@gateway/tor-sasl/apos)
[17:43:52] <chronon> Ah, it's mentioned already.
[17:44:17] <geirha> I'd use the shuffle function from faq 26
[17:45:27] <faceface> geirha: how do I look that up?
[17:45:53] <chronon> Wow, I never knew about the shuf command.
[17:46:14] <geirha> !faq random
[17:46:15] <greybot> https://mywiki.wooledge.org/BashFAQ/026 -- How can I randomize (shuffle) the order of lines in a file?  Or select a random line from a file, or select a random file from a directory?
[17:46:30] *** Quits: venmx (~bertie@host81-155-235-58.range81-155.btcentralplus.com) (Ping timeout: 252 seconds)
[17:46:47] *** Joins: venmx (~bertie@host81-155-235-58.range81-155.btcentralplus.com)
[17:46:48] *** Quits: venmx (~bertie@host81-155-235-58.range81-155.btcentralplus.com) (Client Quit)
[17:46:52] <earnestly> on posix sh, none of these solutions work \o/
[17:47:06] *** Quits: jenszo (~jens@2a00:20:a029:65f6:5867:740e:50c1:6ccc) (Ping timeout: 240 seconds)
[17:47:31] *** Joins: easior (~easior@61.155.142.70)
[17:48:25] <geirha> something something awk
[17:48:51] <faceface> geirha: thanks
[17:48:53] <earnestly> geirha: I let my mind wonder into making symlinks using numbers as the target
[17:49:10] <phy1729> can't be that hard to port the arc4random_uniform wrapper to shell, but then again RANDOM isn't POSIX either
[17:49:18] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[17:49:56] *** Joins: nobody_ (~nobody@host-82-60-161-222.retail.telecomitalia.it)
[17:50:03] *** Quits: kspalaiologos (~kspalaiol@user/kspalaiologos) (Quit: Leaving)
[17:50:55] *** Joins: easior_ (~easior@61.155.142.67)
[17:52:05] <earnestly> I.e. for random numbers and files; ln -s file random-number; done.  set -- *; rand1=$1 rand2=$2 # lol
[17:52:41] <earnestly> Perhaps with some resolving
[17:52:51] <earnestly> There are many question marks, tbh
[17:53:25] *** Joins: Kruppt (~Kruppt@50.111.30.114)
[17:53:54] *** Quits: easior (~easior@61.155.142.70) (Ping timeout: 240 seconds)
[17:54:01] <chronon> But if $RANDOM isn't POSIX then what would be the simplest POSIX way to shuffle the lines in a file?
[17:54:36] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[17:54:55] <eggbean> What am I doing wrong here? Don't understand the shellcheck pages. http://sprunge.us/2l2YMK
[17:55:02] <earnestly> chronon: awk
[17:55:03] <phy1729> I guess you could try to read /dev/random or something foolish like that, but just require a shell that has RANDOM
[17:55:06] *** Joins: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431)
[17:55:26] <earnestly> awk has rand()
[17:55:30] *** Quits: easior_ (~easior@61.155.142.67) (Ping timeout: 240 seconds)
[17:55:33] <phy1729> oh so it does
[17:55:36] *** Joins: speckz_ (~speckz@2600:1700:ce0:bf00:50fb:d283:2551:bfce)
[17:55:46] <earnestly> (and srand())
[17:55:58] <Soliton> eggbean: there are just code fragments in your paste.
[17:56:13] *** Quits: MichaelOF (~michael@p200300eb8f04b50194da4e559b780e15.dip0.t-ipconnect.de) (Quit: Konversation terminated!)
[17:56:20] *** Gooey is now known as gooey
[17:56:30] <eggbean> oopsm then
[17:57:03] <Soliton> elif ...; do is wrong either way though.
[17:57:16] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 272 seconds)
[17:57:51] <chronon> I should learn awk perhaps. Never needed it until now though. sed and perl and bash seem to cover all bases.
[17:57:54] *** Quits: speckz (~speckz@2600:1700:ce0:bf00:f8ac:89ea:2c60:ff9e) (Ping timeout: 240 seconds)
[17:58:00] <eggbean> Yeah, I jusr realised that bit. New errors now
[17:58:43] <eggbean> Soliton: But what I pasted is okay in itself?
[17:58:54] <eggbean> ..apart from the 'do'?
[17:59:21] *** Joins: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie)
[18:00:55] <eggbean> Just realised that -n is not what I wanted
[18:01:08] <faceface> hmm.. shellcheck says 'use find instead of ls'
[18:01:51] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[18:03:27] <Soliton> well, it's not going to read your mind and tell you to use neither.
[18:04:20] <faceface> I want my code to be easy to read (by me) not esoteric
[18:04:54] <Soliton> probably two goals that have no overlap.
[18:05:01] <faceface> lol
[18:05:03] <faceface> indeed
[18:05:11] *** Joins: omegatron (~some@p5b056bc7.dip0.t-ipconnect.de)
[18:05:14] <faceface> thanks for suggestions though
[18:05:43] <faceface> I'm always keen to find 'the right way to do it', but usually you find that the right way is more elegant than what you had ever considered... not here (imho)
[18:05:58] <faceface> s/elegent/readable/
[18:06:40] *** Joins: jmcantrell (~weechat@user/jmcantrell)
[18:07:00] <llua> so you aren't really looking for the right way, just a subjectively readable way.
[18:07:16] <faceface> llua: I had no idea 'the right way' would be so complicated
[18:07:20] <faceface> so yes
[18:07:31] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[18:08:08] *** Joins: varaindemian (~varaindem@86.124.78.162)
[18:08:19] *** Quits: quiexotic (~quiexotic@user/quiexotic) (Ping timeout: 256 seconds)
[18:08:25] <jetchisel> beauty is in the eye of the beholder... or not ^^
[18:08:50] <Henry151> s/s\/elegent\/readable\/s\/elegant\/readable/g
[18:09:02] <Henry151> :P
[18:10:06] <faceface> thanks Henry151 
[18:10:17] <Soliton> files=("$ddir"/*.bim) n=${#files[@]}; i1=$((RANDOM % n)) i2=i1; while ((i1 == i2)); do i2=$((RANDOM % n)); done; var1=${files[i1]} var2=${files[i2]}
[18:10:45] *** mnrmnaugh is now known as i
[18:10:55] *** i is now known as mnrmnaugh
[18:11:06] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Remote host closed the connection)
[18:11:06] <faceface> Sincere thanks Soliton 
[18:11:10] <faceface> but it's not for me
[18:11:15] *** mnrmnaugh is now known as why
[18:11:18] <faceface> sorry, I'll probably get booted ;-)
[18:11:27] <faceface> I'll make a note of your solution in my code
[18:11:29] <Soliton> what's the difficult part?
[18:11:30] *** why is now known as awk
[18:11:35] <faceface> heh
[18:11:53] <faceface> Seeing the intention without knowing it first
[18:12:16] <Soliton> make a list of files to choose from. pick random index. pick another random index and make sure it's not the same as the first.
[18:12:20] *** af is now known as n
[18:12:33] <faceface> I can see it... currently
[18:12:49] *** Joins: chrish136 (~chrish@149.167.205.148)
[18:12:54] <faceface> for d in $(ls $ddir/GSM*[0-9].bim | shuf -n 2) # May be broken, but the intention is clear
[18:13:04] <faceface> anyway, thanks again
[18:13:12] <Henry151> can't you like, "pop" the item from the list, removing it? then you can't pick the same one again, because it's not in the list anymore?
[18:13:18] <Soliton> nothing is clear about broken code.
[18:13:28] <faceface> Soliton: we disagree
[18:13:30] <faceface> bie
[18:13:35] <Soliton> but i can see now how you thought you asked an understandable question.
[18:13:55] *** Quits: uc50ic4more (~uc50ic4mo@dyn216-8-151-213.ADSL.mnsi.net) (Quit: uc50ic4more)
[18:14:03] *** n is now known as af
[18:14:20] *** af is now known as afk
[18:14:45] *** Quits: speckz_ (~speckz@2600:1700:ce0:bf00:50fb:d283:2551:bfce) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[18:14:56] *** afk is now known as af
[18:15:20] *** Joins: speckz (~speckz@2600:1700:ce0:bf00:11a4:885e:58a3:a0bb)
[18:15:29] <Soliton> !goal
[18:15:29] <greybot> Making up broken examples with multiple errors in them does NOT explain your goal.
[18:16:13] <Soliton> the computer will not do what you want and a human may or may not guess the actual intention.
[18:17:00] <chronon> What exactly was the intention? To pick two random files from a directory?
[18:17:15] *** Joins: peregrinator (uid441290@id-441290.charlton.irccloud.com)
[18:18:40] <chronon> Doesn't $((RANDOM % n)) suffer from a non uniform bias?
[18:19:11] <Soliton> it's biased unless n is a multiple of 2, yes.
[18:21:11] *** Quits: arinov_ (~arinov@213.14.161.121) (Ping timeout: 265 seconds)
[18:22:17] <chronon> Iff we can be sure that the filenames never contain newlines (which wouldn't be hard to ensure) then the ls "$dir" | shuf -n 2 approach isn't too bad is it? Oh except for that for d in $() part, that won't work.
[18:22:51] <chronon> Filenames *often* contain whitespace.
[18:24:54] <Soliton> i think the core issue is that a lot of shell code out there is crap thus what people perceive as readable is often that crap. so there is no way to write non-crap code that is readable for them.
[18:25:40] *** Joins: quiexotic (~quiexotic@user/quiexotic)
[18:26:20] <chronon> Possibly true, but I think people are more influenced by other programming languages than they are by slashdot code samples.
[18:26:27] <pj> I have seen people somehow copy/paste the full pathname to a file in windows as the filename when uploading that file to a linux server, and the server accepts it, even though windows itself won't.
[18:27:11] <pj> you will find all kinds of crap filenames, and your code needs to be able to handle it.
[18:27:14] *** Joins: ChmEarl (~chmearl@user/chmearl)
[18:27:47] <chronon> Yes, I've seen that too. Always found it baffling.
[18:28:38] <chronon> What tool could possible transfer the file for them and fail to translate the filename correctly? It's a mystery.
[18:28:40] <earnestly> !evilfiles
[18:28:40] <greybot> collection of files that break your wrong assumptions about filenames https://bitbucket.org/emg/tidbits/src/master/evilfiles/
[18:29:06] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[18:29:29] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[18:29:29] *** Joins: Thin_icE (~pgp@213.205.68.220)
[18:29:48] *** Joins: zro (~zro@user/zro)
[18:30:18] *** Quits: Feuermagier_ (~Feuermagi@2a02:2488:4211:3400:5def:8486:9e4:b49a) (Ping timeout: 240 seconds)
[18:31:38] <chronon> Ouch! Some of those filenames are leaving me in a cold panic sweat.
[18:32:18] <pj> and that list is not comprehensive by any means.
[18:32:59] *** Joins: julius_c (~julius_c@183.red-83-32-6.dynamicip.rima-tde.net)
[18:33:06] *** Quits: aramtsamtsam (~Thunderbi@lfbn-idf2-1-498-253.w86-246.abo.wanadoo.fr) (Ping timeout: 258 seconds)
[18:33:20] <pj> ...and those all look malicious, but many, if not most, of those filenames can happen by accident as well.
[18:34:15] *** Joins: zebrag (~chris@user/zebrag)
[18:34:45] <pj> I don't think it includes: some_name\rother_name
[18:35:27] <chronon> Pretty hard to rename or delete some of those. Thank goodness for tab completion.
[18:37:28] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 252 seconds)
[18:38:56] <chronon> I'm scared to unpack the archive in case fileroller isn't as careful as I want to believe it would be.
[18:38:58] *** Joins: aramtsamtsam (~Thunderbi@lfbn-idf2-1-498-253.w86-246.abo.wanadoo.fr)
[18:39:29] *** Quits: caterfxo (~caterfxo@209.sub-174-253-193.myvzw.com) (Ping timeout: 256 seconds)
[18:39:48] *** Joins: caterfxo (~caterfxo@169.sub-174-214-0.myvzw.com)
[18:42:34] *** Quits: n-st (~n-st@user/n-st) (Ping timeout: 268 seconds)
[18:42:52] *** Quits: heiner (~heiner@2a00:6020:b006:a900:d250:99ff:fe34:8fd2) (Read error: Connection reset by peer)
[18:46:31] *** Quits: emanuele6 (~emanuele6@93-35-160-28.ip55.fastwebnet.it) (Changing host)
[18:46:31] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[18:47:40] <chronon> Changing the topic:
[18:48:53] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Quit: The Lounge - https://thelounge.chat)
[18:49:34] *** Quits: jkwnki1 (~jkwnki@p2e579b3d.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[18:49:35] <chronon> As a vim user I've often been intrigued by bash's (actually readline's) vi mode. However every time I've tried to enable it it is just confused me, and things like ^L to clear the screen stop working. I've never managed to get the value from it that I would have expected.
[18:49:50] *** Quits: LuksNuke (~LuksNuke@94.242.245.63) (Ping timeout: 272 seconds)
[18:49:57] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[18:49:58] *** Joins: jetchisel (jetchisel@user/jetchisel)
[18:50:08] <chronon> Has anyone here used vi mode and managed to get along with it?
[18:53:13] *** Joins: The_Loko (~The_Loko@86.127.244.52)
[18:53:15] <e36freak> i use vi mode
[18:53:19] <llua> as a vim user, what does ^L do in vi?
[18:53:40] <chronon> For me it refreshes the screen.
[18:54:14] <chronon> I also set it up to clear the search highlight but that's my own customisation. The refresh is built-in to vim.
[18:54:32] <llua> it inserts an ^L into the buffer in vi
[18:54:43] <chronon> Only in insert mode.
[18:54:51] <ormaaj> chronon: have been using vi mode for years. vi mode is the only one posix requires in fact.
[18:55:05] <chronon> Cool.
[18:55:40] <chronon> So to those of you using vi mode, is there a simple way to think about it that will open the door for me?
[18:56:02] <chronon> Get me over the initial hurdle of confusion.
[18:56:17] <llua> you default in insert mode 
[18:56:28] <chronon> It's not that I am a novice vim user, far from it, but somehow bash/readline is confusing.
[18:57:05] <chronon> Ah, so if I hit escape and then ^L things will work as expected?
[18:59:21] <ormaaj> I think understanding how the readline and bash's `bind` mechanism work in general would be the goal. The modes are just preset profiles.
[18:59:36] <chronon> If only the prompt changed to indicate the command/insert mode.
[19:00:03] <llua> i mean, if you are inserting characters by typing them one would assume that you are in insert mode
[19:00:18] <llua> but there is a way to do that
[19:00:27] <ormaaj> show-mode-in-prompt in .inputrc
[19:00:33] <chronon> I got it now llua, thanks. :)
[19:01:06] *** Joins: arinov_ (~arinov@178.240.158.75)
[19:01:14] <chronon> show-mode-in-prompt fantastic!
[19:01:45] *** Joins: welrmaron (~welrmaron@176.126.70.167)
[19:02:19] <chronon> Now I have a project that'll keep me up late, polishing that to work nicely. Hey vi-mode users, do you have a paste of any other useful settings I should consider when moving to vi mode?
[19:03:08] <ormaaj> nope. I don't really understand how to configure it myself.
[19:03:22] <chronon> But you've bee using it for years?
[19:03:43] <llua> don't even use this shell interactively, or non-interactively outside of here
[19:03:58] <chronon> Wow.
[19:04:08] <chronon> I live in the terminal.
[19:04:16] <chronon> ALL the time.
[19:04:27] <ormaaj> sure. `set -o vi` is all you need. If you want to modify key bindings and such there's more to know.
[19:04:31] <chronon> Hmm, maybe that's a reflection on my life. :(
[19:04:54] *** Quits: aramtsamtsam (~Thunderbi@lfbn-idf2-1-498-253.w86-246.abo.wanadoo.fr) (Remote host closed the connection)
[19:04:55] *** Joins: __jmcantrell__ (~weechat@user/jmcantrell)
[19:05:09] *** Joins: aramtsamtsam (~Thunderbi@lfbn-idf2-1-498-253.w86-246.abo.wanadoo.fr)
[19:05:09] <chronon> Oh ok, so I just need to read through the readline manpage and all my dreams of CLI fluency will come true?
[19:05:27] *** Quits: _0x5fc3 (~0x5fc3@wireguard/tunneler/-0x5fc3) (Quit: The Lounge - https://thelounge.chat)
[19:05:28] *** Joins: Elliria (~littlegir@cpe-66-24-84-219.stny.res.rr.com)
[19:05:31] <ormaaj> it's mostly in the bash manpage
[19:05:39] *** Joins: curdlesnoot (~curdlesno@2a03:1b20:1:e011::a21d)
[19:05:57] <chronon> Yes, I think the bash manpage is a cut&paste of most of the readline manpage.
[19:06:15] *** Joins: _0x5fc3 (~0x5fc3@wireguard/tunneler/-0x5fc3)
[19:06:52] <Elliria> There's a StackExchange question on the https://askubuntu.com/questions/938834/grep-for-text-in-odt-or-doc-files page about a way to search within LibreOffice files from the command line. The problem I'm having with the Bash script that was provided in the answer for it is that it returns ": No such file or directory" as part of its output. I've tried every variation of /dev/null and other redirects to no avail to suppress that. 
[19:06:52] <Elliria> Anybody know how that's done?
[19:07:26] *** Joins: odoood (~odoood@2601:c8:c003:a550::2)
[19:07:59] *** Quits: jmcantrell (~weechat@user/jmcantrell) (Ping timeout: 258 seconds)
[19:08:09] <Elliria> I thought I'd add that it returns that output even when it finds what you're looking for.
[19:13:24] *** Quits: v8789 (v8789@user/blobberdene) (Ping timeout: 252 seconds)
[19:14:17] *** Joins: v8789 (v8789@user/blobberdene)
[19:15:48] *** Quits: quiexotic (~quiexotic@user/quiexotic) (Ping timeout: 272 seconds)
[19:16:02] <chronon> Are you talking about the small find | while block of code?
[19:16:27] *** Quits: m0nkey_ (~quassel@user/m0nkey/x-3352227) (Quit: Quit)
[19:18:18] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[19:18:31] <Elliria> Yeah, I seem to have it working now. Strange.
[19:19:07] <chronon> :)
[19:19:08] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[19:19:33] <Elliria> Heh.
[19:19:49] *** Joins: quiexotic (~quiexotic@user/quiexotic)
[19:20:20] <chronon> Of course the purists here will point out that find without -print0 would fail on maliciously crafted filenames.
[19:20:40] <Elliria> It was user error. I've been coding in Python for a while and I had done what looked to me like a docstring (three " in a row on a line above and below a block of text) as a comment area and that threw a monkey wrench into the works. Without that, it works fine.
[19:21:05] <Elliria> That'll teach me for not paying attention.
[19:21:06] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[19:21:47] <chronon> Hmmm, you've helped me win an earlier bet. Thanks. :)
[19:21:48] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[19:21:54] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 240 seconds)
[19:22:10] <Elliria> Oh, gosh. Hopefully not about me and about something else instead.
[19:22:24] *** Joins: finsternis (~X@23.226.237.192)
[19:23:01] <Elliria> By the way, that's a sweet little script if you need to search in your LibreOffice files. I made a modified version of it that does the search recursively as well since I'm sure it will come in handy at some point.
[19:23:13] <chronon> About what most influences people to make mistakes in their bash coding, and it's being too familiar with their language of choice.
[19:23:14] *** Joins: LuksNuke (~LuksNuke@94.242.245.63)
[19:23:33] *** Joins: magla (~gelignite@55d461f0.access.ecotel.net)
[19:24:20] <Elliria> Ah, I'm not sure what it is. I've messed around in several languages and Python was my most recent one, so I'm currently "brainwashed" by all the Python training. The same could happen if I suddenly get caught up in Bash or JavaScript or whatever.
[19:24:29] *** Joins: dreinull (~dreinull@static.50.114.119.168.clients.your-server.de)
[19:24:32] <chronon> I notice that it doesn't try to understand the content of ODT, which files actually have the content, or even try to understand and remove the XML markup, so there's certainly room for improvement.
[19:25:04] <Elliria> Oh, please feel free to improve it and add to that StackExchange page. That's a necessary little script for any of us who have those files.
[19:25:46] <chronon> I thought there were indexers designed specifically for ODF formats?
[19:26:00] <chronon> If so, writing your own is probably overkill.
[19:26:27] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[19:26:29] <Elliria> No idea. You mean some sort of tool provided by the LibreOffice folks?
[19:26:36] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 252 seconds)
[19:27:09] <chronon> Yes, and something that integrates with whatever it's called in Linuxthat equivalent to Spotlight on Mac.
[19:27:10] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[19:27:44] <chronon> I'm blanking on the name.
[19:27:46] <Elliria> Ah, you mean like Recoll or some of those other search programs. Yeah, some of those may do it.
[19:27:51] *** Joins: n-st (~n-st@user/n-st)
[19:29:19] <chronon> I generally disable all that stuff, so I cannot now even remember the name. Anyone?
[19:29:40] *** Quits: fourHZ (~fourHZ@80.146.191.156) (Quit: Connection closed)
[19:29:44] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 272 seconds)
[19:30:23] <chronon> Bueller?
[19:30:24] <Elliria> The Mate search tool in Ubuntu MATE won't do it.
[19:30:29] <Elliria> Heh, Bueller.
[19:30:56] <chronon> That dates me. :(
[19:31:03] <Elliria> Such a good movie.
[19:31:34] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[19:32:22] *** Quits: _0x5fc3 (~0x5fc3@wireguard/tunneler/-0x5fc3) (Quit: The Lounge - https://thelounge.chat)
[19:32:35] *** Joins: LiftLeft (~LiftLeft@154.21.23.33)
[19:33:56] *** Quits: Thin_icE (~pgp@213.205.68.220) (Ping timeout: 252 seconds)
[19:36:51] *** Joins: sinaowolabi (~SinaOwola@41.190.31.35)
[19:37:04] *** Quits: varaindemian (~varaindem@86.124.78.162) (Quit: Client closed)
[19:38:24] *** Joins: throwinsmoke (~throwinsm@dhcp-108-168-126-214.cable.user.start.ca)
[19:39:03] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[19:39:12] <Elliria> Aw, I just did a search for block comments in Bash and apparently it doesn't offer them. I guess you have to comment out each line.
[19:39:41] <chronon> You could perhaps use a HERE doc.
[19:40:55] <caterfxo> there's probably an odt to text/pdf/postscript program haunting the repos, left over from years ago
[19:41:57] <Elliria> Those HERE docs look pretty interesting. I'll have to mess around with those.
[19:42:34] <Elliria> Yeah, thanks. I'm kind of liking this little script and its little modified sister recursive script as a quick-and-dirty solution that doesn't require indexing.
[19:42:37] <chronon> bash is full of surprises. Most of them nasty.
[19:43:05] *** Joins: goldfish (~goldfish@user/goldfish)
[19:43:31] *** Quits: quiexotic (~quiexotic@user/quiexotic) (Ping timeout: 256 seconds)
[19:44:13] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[19:44:24] <earnestly> The only people who claim that are those who know nothing about it
[19:44:29] <earnestly> This goes for just about any topic
[19:44:51] <Elliria> That's okay. The nasty surprises are often fun.
[19:46:27] <caterfxo> thx for that POSIX / vi mode tip! 
[19:46:58] *** Joins: m0nkey_ (~quassel@user/m0nkey/x-3352227)
[19:47:08] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.2)
[19:48:01] *** Quits: chrish136 (~chrish@149.167.205.148) (Quit: WeeChat 3.2)
[19:48:21] <chronon> earnestly, I'm curious why you feel the need to defend bash. Surely its many quirks are something we can both laugh at together.
[19:48:52] <Elliria> After pulling out the occasional hair.
[19:49:02] <chronon> :)
[19:49:20] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Remote host closed the connection)
[19:49:54] <Elliria> I can't tell you how many times I've argued with my screen, saying, "Yes, it IS correct. What do you MEAN [insert error code here]?!
[19:50:08] <chronon> hehe
[19:50:22] <pj> chronon: believe it or not vi mode is part of POSIX sh.
[19:50:36] *** Quits: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de) (Remote host closed the connection)
[19:50:37] <chronon> Computer's just won't bend to your outrage though. I've tried it, doesn't work.
[19:50:54] <chronon> Wow, that far back.
[19:51:17] *** Joins: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de)
[19:51:19] <pj> if you look at the sh(1p) man page, half of it is describing vi mode.
[19:51:25] <Elliria> True, and it inevitably turns out that I was to blame.
[19:51:29] <pj> anyhow, I'm off.
[19:51:37] <chronon> Thanks pj
[19:51:54] *** Quits: jdvr (~jdvr@user/jdvr) (Ping timeout: 240 seconds)
[19:52:53] *** Joins: quiexotic (~quiexotic@user/quiexotic)
[19:53:06] <earnestly> chronon: The more pertinent question is why you feel the need to attack something you don't understand especially in the context of helping others who may know even less
[19:53:30] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 265 seconds)
[19:54:05] *** Joins: reset (~reset@user/reset)
[19:54:05] <earnestly> Especially after having been told, with example, how bash is not unique in this situation
[19:54:11] <chronon> I'm just joshing around, not really attacking, but I think you're taking things personally.
[19:54:32] <earnestly> Yes, because it seems like any effort was wasted upon you
[19:54:38] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Quit: WeeChat 3.1)
[19:54:39] <chronon> ?
[19:54:51] *** Quits: Hackerpcs (~user@user/hackerpcs) (Ping timeout: 256 seconds)
[19:54:59] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[19:55:01] <chronon> ou've already helped me a great deal. Why do you say wasted? Are you confusing me with someone else?
[19:55:41] <Elliria> Please keep it friendly, earnestly.
[19:56:16] *** Joins: Hackerpcs (~user@user/hackerpcs)
[19:56:20] *** Quits: lilalinux (~lilalinux@p549ee28d.dip0.t-ipconnect.de) (Ping timeout: 272 seconds)
[20:01:24] <earnestly> Elliria: Why do you feel the need to get involved?  You could have written nothing
[20:02:35] *** Quits: awk (~mnrmnaugh@pool-96-252-87-182.bstnma.fios.verizon.net) (Read error: Connection reset by peer)
[20:03:13] *** Joins: sudomannn (~sudomann@c-73-133-131-19.hsd1.md.comcast.net)
[20:03:34] <sudomannn> difference between `FOO=bar` and `export FOO=bar`?
[20:03:58] <earnestly> sudomannn: The latter is exported if FOO isn't already an exported variable
[20:04:00] *** Joins: mnrmnaugh (~mnrmnaugh@pool-96-252-87-182.bstnma.fios.verizon.net)
[20:04:00] <Elliria> I thought about that, earnestly, but chronon helped me and I would have felt bad if I'd sat back and said nothing while that exchange was going on.
[20:05:05] <sudomannn> earnestly, thanks!
[20:06:28] <Elliria> Well, it looks like I was wrong again. I messed around with that script a bit more and it's recursive already, so only one version is needed. Nice.
[20:07:14] <earnestly> Elliria: You don't know anything about the situation; so whoever trained you to believe that you should cast moral arbitration upon others without any information, lied to you
[20:07:19] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Ping timeout: 256 seconds)
[20:08:03] <Elliria> I meant no offense, earnestly.
[20:11:16] * frostwork distributing valerian tea for everybody
[20:17:56] *** Joins: richardm75 (~richardm7@2600:8801:c502:c800:542b:626f:d7fe:256a)
[20:20:19] *** Quits: borbetomagus (~borbetoma@154.3.42.107) (Remote host closed the connection)
[20:20:46] *** Joins: borbetomagus (~borbetoma@154.3.42.107)
[20:21:46] *** Joins: yarb44 (~yarb44@c-24-218-157-214.hsd1.ma.comcast.net)
[20:22:18] *** Quits: arinov_ (~arinov@178.240.158.75) (Ping timeout: 272 seconds)
[20:25:34] *** Quits: v8789 (v8789@user/blobberdene) (Quit: Quit)
[20:26:40] *** Quits: peregrinator (uid441290@id-441290.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[20:34:29] *** Quits: quiexotic (~quiexotic@user/quiexotic) (Read error: Connection reset by peer)
[20:34:50] *** Joins: quiexotic (~quiexotic@user/quiexotic)
[20:36:47] *** Quits: odoood (~odoood@2601:c8:c003:a550::2) (Ping timeout: 256 seconds)
[20:37:04] *** Quits: Elliria (~littlegir@cpe-66-24-84-219.stny.res.rr.com) (Quit: *POOF*)
[20:38:43] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[20:39:23] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 2.3)
[20:40:25] *** Joins: malina (~malina@user/malina)
[20:43:12] *** Quits: LuksNuke (~LuksNuke@94.242.245.63) (Ping timeout: 272 seconds)
[20:44:38] <caterfxo> hey now, moral arbitration's supposed to be my thing, you... interloper!
[20:45:12] * caterfxo grabs a dictionary; looks up "interloper"
[20:46:04] *** Joins: arinov_ (~arinov@178.240.158.75)
[20:49:14] *** Quits: lmat (~lawsa@c-68-58-60-231.hsd1.in.comcast.net) (Read error: Connection reset by peer)
[20:51:59] *** Quits: malina (~malina@user/malina) (Ping timeout: 265 seconds)
[20:55:16] *** Joins: LuksNuke (~LuksNuke@94.242.245.63)
[20:56:06] *** Joins: lucf117 (~lucf117@user/lucf117)
[20:57:54] *** Quits: arinov_ (~arinov@178.240.158.75) (Ping timeout: 240 seconds)
[21:00:27] *** Joins: Betal (~Beta@user/betal)
[21:04:17] *** Quits: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5) (Read error: Connection reset by peer)
[21:04:54] *** Joins: malina (~malina@user/malina)
[21:05:14] *** Joins: Str1x (~d14@2407:7000:89f0:de00:e227:ad44:56aa:89e5)
[21:08:16] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[21:08:43] *** Quits: redgloboli (~redglobol@user/redgloboli) (Quit: ended)
[21:10:56] *** Joins: redgloboli (~redglobol@user/redgloboli)
[21:15:53] *** Quits: quiexotic (~quiexotic@user/quiexotic) (Ping timeout: 256 seconds)
[21:19:48] *** Joins: jess (~jess@libera/staff/jess)
[21:20:20] *** Joins: quiexotic (~quiexotic@user/quiexotic)
[21:23:11] *** Quits: samhain (~samhain@user/samhain) (Quit: ZNC - https://znc.in)
[21:24:42] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[21:27:07] *** Quits: aramtsamtsam (~Thunderbi@lfbn-idf2-1-498-253.w86-246.abo.wanadoo.fr) (Quit: aramtsamtsam)
[21:30:04] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 256 seconds)
[21:33:59] *** Quits: digup (~digup@58-7-236-103.dyn.iinet.net.au) (Read error: Connection reset by peer)
[21:34:18] *** Joins: digup (~digup@58-7-236-103.dyn.iinet.net.au)
[21:36:08] *** Joins: FoodMan (~FoodMan@cpc104776-belf12-2-0-cust417.2-1.cable.virginm.net)
[21:39:02] *** Joins: odoood (~odoood@2601:c8:c003:a550::2)
[21:42:10] <lopid> 42# ar=( a b ); IFS=X; s=${ar[*]}; unset IFS; declare -p s; echo :\(
[21:42:12] <shbot> lopid: declare -- s="a b"
[21:42:12] <shbot> lopid: :(
[21:43:24] *** Quits: throwinsmoke (~throwinsm@dhcp-108-168-126-214.cable.user.start.ca) (Quit: leaving)
[21:47:06] *** Quits: digup (~digup@58-7-236-103.dyn.iinet.net.au) (Remote host closed the connection)
[21:47:46] *** Joins: digup (~digup@58-7-236-103.dyn.iinet.net.au)
[21:48:22] *** Joins: demonbane (~demonbane@pool-74-108-12-105.nycmny.fios.verizon.net)
[21:52:07] *** Quits: rocktop (~rocktop@160.176.27.194) (Quit: Leaving)
[21:53:58] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[21:54:10] *** Joins: elf_fortrez (~elf_fortr@adsl-72-50-4-120.prtc.net)
[21:54:59] *** Quits: quiexotic (~quiexotic@user/quiexotic) (Ping timeout: 256 seconds)
[21:56:25] *** Joins: samhain (~samhain@user/samhain)
[22:00:13] <Soliton> 42# ar=( a b ); IFS=X; s="${ar[*]}"; unset IFS; declare -p s
[22:00:14] <shbot> Soliton: declare -- s="aXb"
[22:00:39] <lopid> oh. thanks
[22:02:55] *** Quits: odoood (~odoood@2601:c8:c003:a550::2) (Ping timeout: 256 seconds)
[22:03:16] *** Quits: rendar (~rendar@user/rendar) ()
[22:04:18] *** Joins: TomyWork (~TomyLobo@p200300e80f133c00e838f9cf8c4ed7f6.dip0.t-ipconnect.de)
[22:10:07] <furmyx> !qefs
[22:10:07] <greybot> "$Quote" "$Every" "$Fucking" "$Substitution"
[22:10:16] <furmyx> <3
[22:12:36] <emanuele6> \<3
[22:13:42] *** Joins: quiexotic (~quiexotic@user/quiexotic)
[22:13:44] *** Quits: speckz (~speckz@2600:1700:ce0:bf00:11a4:885e:58a3:a0bb) (Quit: Textual IRC Client: www.textualapp.com)
[22:14:27] <lopid> "<3"
[22:16:40] <fling> die() { echo "Error: $*" 1>&2 ; exit 1 ; }
[22:16:46] <fling> how to use return instead of exit? ^
[22:17:03] <djph> er, the whole point of "die" is to die.
[22:17:06] <fling> to return from the outside function
[22:17:07] <lopid> return 1
[22:17:38] <fling> warn_ret() { echo "Warning: $*" 1>&2 ; return 1 ; }
[22:17:51] <fling> lopid: but it returns from warn_ret() function
[22:17:55] <fling> not from the outside one
[22:17:56] <twkm> the caller of die cannot be forced to return.
[22:18:08] <fling> mkay
[22:18:10] <twkm> it can choose to return.
[22:18:10] *** Quits: nobody_ (~nobody@host-82-60-161-222.retail.telecomitalia.it) (Remote host closed the connection)
[22:18:13] <lopid> what outside one?
[22:18:20] <fling> the caller
[22:18:21] <twkm> die ... ; return 1
[22:18:29] *** Joins: nobody_ (~nobody@host-82-60-161-222.retail.telecomitalia.it)
[22:19:18] *** Quits: LuksNuke (~LuksNuke@94.242.245.63) (Ping timeout: 252 seconds)
[22:20:28] *** Joins: andril (~andril@2601:586:8400:113::1009)
[22:21:28] <twkm> thus die is named badly.  perhaps error would be a better name.  or whine, bitch, complain, ... but not die since it won't cause anything to die.  (at least the way i read "die")
[22:21:44] <fling> ok
[22:21:50] <fling> I will use more ( )
[22:21:53] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Ping timeout: 265 seconds)
[22:22:38] *** Joins: akoana (~ah@user/akoana)
[22:22:56] <lopid> "more" isn't much better
[22:23:12] <fling> like
[22:23:20] *** Quits: nobody_ (~nobody@host-82-60-161-222.retail.telecomitalia.it) (Ping timeout: 265 seconds)
[22:23:27] <fling> command || ( warn "warning!" ; return 1 )
[22:23:34] <twkm> pointless.
[22:23:50] <fling> why
[22:24:09] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[22:24:22] <lopid> you might as well just echo it there
[22:24:28] <twkm> mainly because return only works inside a function.
[22:24:44] <fling> command runs inside a function
[22:24:59] <twkm> subshells can be exited without killing the script but the parent/invoker still can't be forced to return, especially in yet another subshell.
[22:25:16] *** Quits: quiexotic (~quiexotic@user/quiexotic) (Ping timeout: 265 seconds)
[22:25:16] <fling> oh
[22:25:20] <lopid> your command is not running inside a function
[22:25:30] *** Quits: digup (~digup@58-7-236-103.dyn.iinet.net.au) (Ping timeout: 240 seconds)
[22:25:56] <fling> ok, I will use if
[22:26:47] *** Joins: greycat (~greg@209.142.155.49)
[22:27:54] <fling> if ! command ; then warn "warning!" ; return 1 ; fi
[22:28:55] *** Joins: Sasazuka (~Sasazuka@user/sasazuka)
[22:28:57] <twkm> seems okay.
[22:29:10] <fling> thanks :>
[22:29:53] *** Joins: sudomann (~sudomann@2601:155:8402:4960:9c3:ec82:5627:ff21)
[22:29:53] *** Quits: elf_fortrez (~elf_fortr@adsl-72-50-4-120.prtc.net) (Quit: Client closed)
[22:30:24] <fling> omg it works beautifylly now!
[22:30:36] *** Quits: TomyWork (~TomyLobo@p200300e80f133c00e838f9cf8c4ed7f6.dip0.t-ipconnect.de) (Remote host closed the connection)
[22:30:45] <fling> warning after warning, with an error in the end yay!
[22:30:58] <fling> I chained these returns from function to function
[22:31:04] *** Joins: LuksNuke (~LuksNuke@94.242.245.63)
[22:32:12] *** Joins: Felden (~linux@163.172.130.42)
[22:32:42] *** Quits: andril (~andril@2601:586:8400:113::1009) (Ping timeout: 240 seconds)
[22:33:29] *** Quits: sudomannn (~sudomann@c-73-133-131-19.hsd1.md.comcast.net) (Ping timeout: 265 seconds)
[22:35:02] *** Joins: sudomannn (~sudomann@c-73-133-131-19.hsd1.md.comcast.net)
[22:36:02] *** Joins: joo (~joo@87-49-45-207-mobile.dk.customer.tdc.net)
[22:36:37] <twkm> excellent.
[22:36:47] *** Quits: John_Ivan (~John_Ivan@31-187-33-75.dynamic.upc.ie) (Read error: Connection reset by peer)
[22:37:22] *** Quits: yarb44 (~yarb44@c-24-218-157-214.hsd1.ma.comcast.net) (Quit: Leaving)
[22:38:18] *** Quits: sudomann (~sudomann@2601:155:8402:4960:9c3:ec82:5627:ff21) (Ping timeout: 240 seconds)
[22:43:17] *** Joins: cdown_ (~cdown@89.32.122.5)
[22:44:05] *** Quits: kurahaupo (~kurahaupo@14-203-145-223.static.tpgi.com.au) (Read error: Connection reset by peer)
[22:44:15] *** Joins: kurahaupo (~kurahaupo@14-203-145-223.static.tpgi.com.au)
[22:45:42] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 252 seconds)
[22:46:35] *** Joins: quiexotic (~quiexotic@user/quiexotic)
[22:48:52] *** Quits: lucf117 (~lucf117@user/lucf117) (Read error: Connection reset by peer)
[22:49:33] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[22:49:58] *** Joins: H3dn1ng (~H3dn1ng@185.213.154.237)
[22:53:10] *** Quits: thebombzen (~thebombze@71.73.92.220) (Quit: attack.c:4: main: Assertion `I_can_beat_that_monster' failed. Aborted (core dumped))
[22:54:52] *** Joins: dolor_avis (~dolor_avi@user-5-173-11-128.play-internet.pl)
[22:56:08] *** Quits: dolor_avis (~dolor_avi@user-5-173-11-128.play-internet.pl) (Client Quit)
[22:56:29] *** Joins: thebombzen (~thebombze@71.73.92.220)
[22:57:54] *** Quits: thebombzen (~thebombze@71.73.92.220) (Client Quit)
[22:59:11] *** Joins: thebombzen (~thebombze@71.73.92.220)
[22:59:33] <lesshaste> how can I grep for lines that have at least one non-ascii character in them?
[23:00:48] <greycat> my first idea is LC_ALL=C grep $'[^\001-\177]' but I don't know whether that actually works
[23:01:33] *** Quits: malina (~malina@user/malina) (Quit: malina)
[23:01:51] <greycat> of course this may generate false positives in the form of "bytes that aren't part of valid characters" in a given encoding
[23:02:04] *** Quits: blue_penquin (uid505269@id-505269.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[23:02:04] <lesshaste> LC_CTYPE=C grep '[^[:print:]]' myfile readme.txt  ?
[23:02:09] <greycat> which may be what you *actually* wanted, who knows
[23:02:33] <lesshaste> I am really just looking for lines that have unicode characters in them
[23:02:41] <lesshaste> or at least one unicode character
[23:02:53] <greycat> x is a unicode character
[23:02:54] <bougyman> https://stackoverflow.com/questions/3001177/how-do-i-grep-for-all-non-ascii-characters
[23:03:08] <bougyman> that was the first hit on google. It's mostly using pcre-enabled grep.
[23:03:10] <bougyman> so ymmv
[23:03:43] <greycat> do you actually mean *multi-byte UTF-8* characters?
[23:03:49] <lesshaste> grep --color='auto' -P -n "[\x80-\xFF]" file.xml
[23:03:50] <lesshaste>  works
[23:03:53] <lesshaste> greycat, yes
[23:05:32] *** Joins: imp (~imp@186.205.11.214)
[23:05:40] <greycat> the range of bytes that can initiate a multi-byte char in UTF-8 is much narrower than x80 to xff.
[23:06:11] <fling> does not work here ^
[23:06:18] <lesshaste> oh
[23:06:29] <lesshaste> what should it be?
[23:07:26] <lesshaste> echo 'ÏÜåÎÖÄÏãúÎåÄ' | grep -P "[\x80-\xFF]"   :(
[23:07:36] <fling> I would grep -v all ascii instead
[23:07:38] <fling> yes
[23:07:46] <lesshaste> LC_ALL=C echo 'ÏÜåÎÖÄÏãúÎåÄ' | grep -P "[\x80-\xFF]" also returns nothing
[23:08:09] <fling> lesshaste: reverse it, use grep -v
[23:08:13] <fling> lesshaste: filter out ascii :>
[23:08:41] <lesshaste> fling,  ah yes :)
[23:08:42] <lesshaste> thanks
[23:09:04] <greycat> !b2
[23:09:04] <greybot> bashphorism 2: The questioner will keep changing the question until it drives the helpers in the channel insane.
[23:09:42] <fling> thanks for the idea
[23:10:05] <lesshaste> what has changed in the question?
[23:11:36] <greycat> if I re-read fling's suggestion as "filter out lines that are all-ASCII" then I suppose nothing changed, but you still need to override LC_something to force individual bytes to be looked at
[23:12:15] *** Joins: malina (~malina@user/malina)
[23:12:24] <lesshaste> thanks all
[23:12:31] <lesshaste> I have never used grep -P
[23:15:48] <greycat> unicorn:~$ printf %s\\n hola ma√±ana bueno ¬° | LC_ALL=C grep $'[^\001-\177]'
[23:15:48] <greycat> ma√±ana
[23:15:48] <greycat> ¬°
[23:17:47] <lesshaste> I wonder why my terminal doesn't render √± properly when I run that 
[23:17:54] <lesshaste> it can render it normally
[23:18:10] <lesshaste> and ¬°
[23:20:33] *** Quits: quiexotic (~quiexotic@user/quiexotic) (Ping timeout: 256 seconds)
[23:22:50] *** Joins: boreas (~heiner@2a00:6020:b006:a900:d250:99ff:fe34:8fd2)
[23:23:52] *** boreas is now known as heiner
[23:24:19] *** Joins: Nact (~l@host-85-27-123-59.dynamic.voo.be)
[23:25:30] *** Quits: clawh (~clawh@185.244.214.60) (Remote host closed the connection)
[23:26:27] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[23:26:27] *** Joins: jenszo (~jens@ipbcc2511f.dynamic.kabel-deutschland.de)
[23:27:31] *** Quits: lesshaste (~lesshaste@82-69-126-43.dsl.in-addr.zen.co.uk) (Read error: Connection reset by peer)
[23:28:10] *** Quits: malina (~malina@user/malina) (Quit: malina)
[23:31:40] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 272 seconds)
[23:31:52] <thebombzen> what's the proper way to do $0 properly?
[23:31:59] <thebombzen> in BASH specifically
[23:32:18] <phy1729> What does do mean here?
[23:32:18] <greycat> echo "usage: $0 [-abc] file [file ...]"
[23:32:25] <greycat> that's what $0 is usable for
[23:33:10] <OMGOMG> that question sounds a bit masturbatory
[23:33:26] <greycat> I'm expecting a !faq location + plonk soon
[23:34:48] <greycat> thebombzen: what are you trying to do?
[23:35:13] <thebombzen> I mean, I've been told that $0 is unreliable and doesn't always refer to the script itself
[23:35:18] <earnestly> Although don't use $0 like that
[23:35:24] <earnestly> Give your program a name, and use that string
[23:35:25] <thebombzen> and that there's some bash-specific variable that you should use intead
[23:35:32] <greycat> thebombzen: what are you trying to do?
[23:35:42] <thebombzen> I'm trying to locate the script on the filesystem
[23:35:46] <greycat> Why?
[23:35:57] <thebombzen> because I want to know where the script is located on the filesystem
[23:36:01] <greycat> !faq location
[23:36:01] <greybot> https://mywiki.wooledge.org/BashFAQ/028 -- How do I determine the location of my script?  I want to read some config files from the same place.
[23:36:03] <greycat> *plonk*
[23:36:12] <greycat> Good to know my ESP is still on traget.
[23:36:12] <twkm> what will you do if it is located 15 places?
[23:36:14] <earnestly> thebombzen: Before you get too far into this, keep in mind that the solution is for your design to not need to know where the script is run from
[23:36:43] <earnestly> thebombzen: If that means environments, arguments, etc. then fine.  But scripts in general should be agnostic to their "location" (try to forgot this concept even exists)
[23:36:44] <thebombzen> the issue in this case is I want the script to call itself to work around the lack of scoping that bash provides
[23:37:06] <thebombzen> since recursion doesn't really work well with bash's bad scoping
[23:37:11] <phy1729> Ok so backup and what's the actual problem
[23:37:32] <phy1729> Sounds like you just need to local some variables
[23:37:39] <twkm> probably better to use another language or design for the language used rather than the language you hoped it'd be.
[23:37:45] *** Quits: totenkoph (~scythe@gateway/tor-sasl/totenkoph) (Ping timeout: 244 seconds)
[23:38:22] <thebombzen> the actual problem is that I have a script that does a task on a particular kind of file, but the file could be a compound file, in which case I'd like to explode the file, call the script on each component, and then reassemble it
[23:38:32] <thebombzen> the problem with just putting that logic in a function is that it screws up my cleanup routines
[23:38:45] <phy1729> screws up how
[23:39:31] <thebombzen> because of scope issues, I'd have to rewrite all of my logic so my "original files" and "backup files" and similar things becomes arrays to restore
[23:39:49] <thebombzen> it sounds like a much simpler task to just call the script again
[23:40:22] <earnestly> The dark corner is fractal indeed
[23:40:25] <phy1729> Sounds like a function with local'd vars should work
[23:40:40] <thebombzen> well if I local them then my exit trap won't see them if the script is interrupted
[23:40:46] <thebombzen> so for that purpose they want to be global
[23:41:13] <earnestly> I think at this point there's no reasonable way forward without seeing the work
[23:41:27] <phy1729> I guess you could use a subshell instead
[23:41:48] <thebombzen> how would that work
[23:43:07] <fling> Or you can put all your variables into an array instead.
[23:43:11] <fling> And grow it as you go deeper.
[23:43:12] <phy1729> It may work to not local and run the child funcs in a subshell, but I honesly don't know how traps and subshells interact
[23:43:17] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[23:43:23] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[23:43:43] <thebombzen> that's the big issue. I was thinking I'd handle scoping by just simply calling bash again, and let the a spearate process handle that problem
[23:43:56] <thebombzen> in terms of work to reward ratio, it sounds by far the easiest way to do it
[23:43:57] *** Quits: LordRatte (~LordRatte@41.157.1.204) (Quit: Bye)
[23:44:20] *** Joins: jkwnki1 (~jkwnki@p2e579dbb.dip0.t-ipconnect.de)
[23:44:36] <phy1729> Calling the script again isn't trivial
[23:45:46] <earnestly> The rails are set, this train isn't going anywhere else
[23:46:23] <fling> you could also put the script into an array and modify it as you go
[23:46:36] *** Joins: quiexotic (~quiexotic@user/quiexotic)
[23:47:05] <thebombzen> yea, I'm just wondering what the big downside to calling it again is if I know the script is goign to be on the hard drive
[23:47:31] <thebombzen> like, the linked file says "you don't always know where the script is located" but in this case it will be on the hard drive
[23:47:37] <thebombzen> or rather, on a filesystem
[23:48:32] <fling> maybe just define it's location within itself then?
[23:48:48] *** Joins: clawh (~clawh@185.244.214.60)
[23:48:58] <thebombzen> well wouldn't that be a problem if it's located in /usr/local/bin instead of /usr/bin
[23:49:07] <thebombzen> I guess, what I"m wondering is why I can't just rely on BASH_SOURCE
[23:50:49] <greycat> Some of you are probably starting to realize why I automatically *plonk* anyone who asks this kind of question.
[23:51:08] <greycat> There is simply no possible way to win.
[23:51:09] *** Quits: quiexotic (~quiexotic@user/quiexotic) (Ping timeout: 256 seconds)
[23:52:23] <thebombzen> well I mean I was looking for the specific link you linked
[23:52:34] <thebombzen> so your plonking literally answered my question exactly as I desired
[23:52:42] *** Quits: LuksNuke (~LuksNuke@94.242.245.63) (Ping timeout: 240 seconds)
[23:52:42] <thebombzen> a bunch of people then chimed in and said "why do you want to do that"
[23:52:49] <thebombzen> who aren't you
[23:53:03] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Read error: Connection reset by peer)
[23:54:45] <e36freak> you can use a RETURN trap in the function the same way as an EXIT trap with local variables
[23:58:00] <thebombzen> huh, I didn't know that RETURN existed
[23:58:14] *** grettke is now known as grettke2
[23:58:14] *** Quits: grettke2 (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[23:59:02] *** Quits: jenszo (~jens@ipbcc2511f.dynamic.kabel-deutschland.de) (Ping timeout: 252 seconds)
