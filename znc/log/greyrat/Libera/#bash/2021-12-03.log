[00:00:20] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[00:00:34] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[00:01:20] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[00:02:01] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[00:02:17] *** Joins: Betal (~Betal@user/betal)
[00:02:35] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[00:04:19] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[00:06:32] *** Joins: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970)
[00:06:39] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Ping timeout: 256 seconds)
[00:08:22] *** Joins: vysn (~vysn@user/vysn)
[00:08:41] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:9518:b8c2:641e:46d2)
[00:10:56] *** Quits: csmiga (~Thunderbi@ec2-52-207-160-196.compute-1.amazonaws.com) (Remote host closed the connection)
[00:10:56] *** csmiga1 is now known as csmiga
[00:13:24] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[00:15:35] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 252 seconds)
[00:16:15] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: Goodbye)
[00:18:53] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[00:21:12] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[00:22:05] *** Quits: marlinc (~marlinc@user/marlinc) (Quit: ZNC 1.8.2+deb1+focal2 - https://znc.in)
[00:22:23] *** Joins: marlinc (~marlinc@user/marlinc)
[00:24:32] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[00:24:42] *** Quits: karabaja4 (~karabaja4@dh207-95-250.xnet.hr) (Remote host closed the connection)
[00:29:19] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 256 seconds)
[00:30:14] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[00:30:31] *** Joins: gr33nR10t (~greenriot@user/gr33nr10t)
[00:31:12] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:51b7:a4b5:336d:2f64)
[00:32:20] <thebombzen> is this a bash extension, or posix?
[00:32:31] <thebombzen> while read -r -d '' var_name; do something; done < <(find foo -print0)
[00:32:36] <greycat> -d '' is bash
[00:32:41] <greycat> <() is bash
[00:32:52] <greycat> -print0 is GNU/BSD
[00:33:04] <thebombzen> so, how can I do this safely without all that stuff?
[00:33:10] <greycat> C.
[00:33:22] <thebombzen> or is this where I go "screwit" and use a bash shebang
[00:33:59] <thebombzen> either way, as written, is that guaranteed to be safe? or did I forget something
[00:34:28] *** Joins: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net)
[00:34:28] <greycat> you forgot the IFS= to avoid trimming whitespace at the start/end of each pathname
[00:34:55] <greycat> (probably none at the start, but the end could have some)
[00:35:02] *** Joins: MattMadness (~MattMadne@2603-7080-5702-ceee-e029-0839-8ced-f934.res6.spectrum.com)
[00:35:16] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[00:35:19] <NRK[m]> trying to deal with all valid posix filenames is a pain
[00:35:25] *** Joins: greenriot (~greenriot@user/gr33nr10t)
[00:35:29] *** Quits: gr33nR10t (~greenriot@user/gr33nr10t) (Ping timeout: 256 seconds)
[00:35:37] *** Quits: MattMadness (~MattMadne@2603-7080-5702-ceee-e029-0839-8ced-f934.res6.spectrum.com) (Remote host closed the connection)
[00:35:56] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:51b7:a4b5:336d:2f64) (Ping timeout: 252 seconds)
[00:36:22] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[00:36:36] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[00:39:04] *** Quits: redo (~redo@193.191.4.173) (Ping timeout: 268 seconds)
[00:39:23] *** Joins: redo (~redo@193.191.4.173)
[00:39:25] *** Quits: polve (~polve@twcitalia/polve) (Ping timeout: 252 seconds)
[00:40:53] *** Quits: mags (~mags@097-090-237-145.res.spectrum.com) (Ping timeout: 252 seconds)
[00:41:47] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 256 seconds)
[00:42:46] *** Joins: mags (~mags@097-090-237-145.res.spectrum.com)
[00:46:40] *** Quits: jess (~jess@libera/staff/jess) ()
[00:48:19] *** Joins: polve (~polve@twcitalia/polve)
[00:50:13] *** Quits: john_johnk (~Thunderbi@112.54.140.77.rev.sfr.net) (Ping timeout: 256 seconds)
[00:50:59] *** Joins: SJrX (~sjr@S0106302303dfb018.vf.shawcable.net)
[00:51:09] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 252 seconds)
[00:52:46] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[00:54:15] *** Quits: wwalker (~wwalker@platinum.solid-constructs.com) (Quit: leaving)
[00:56:06] *** Joins: rcernin (~rcernin@124.190.136.148)
[00:58:29] *** Quits: rufito (~phil@181.42.53.33) (Remote host closed the connection)
[00:59:12] *** Joins: wwalker (~wwalker@platinum.solid-constructs.com)
[01:03:24] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.3)
[01:03:27] *** Joins: Hashida (~DaSH@ro2.flokinet.is)
[01:03:48] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[01:05:51] *** Quits: Hashida (~DaSH@ro2.flokinet.is) (Remote host closed the connection)
[01:06:19] *** Joins: Hashida (~DaSH@ro2.flokinet.is)
[01:06:33] *** Quits: Itaru (~DaSH@ro2.flokinet.is) (Ping timeout: 252 seconds)
[01:07:17] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Ping timeout: 252 seconds)
[01:09:51] *** Quits: mr-red (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 252 seconds)
[01:10:52] *** Quits: Hashida (~DaSH@ro2.flokinet.is) (Client Quit)
[01:12:22] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 268 seconds)
[01:13:15] *** Joins: causaui1 (~causasui@c-73-191-216-12.hsd1.mi.comcast.net)
[01:13:47] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[01:13:53] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[01:13:57] <thebombzen> which side do I not have to quote in [[]] again? is it LHS or RHS?
[01:14:04] <thebombzen> assuming it's a simple variable, I mean
[01:14:19] <greycat> !quotesoptional
[01:14:19] <greybot> "Double quotes" are optional for the word following 'case', the RHS of simple assignments (e.g. foo=$bar), or inside [[ except for the RHS of =~ or = (e.g. [[ -f $file ]])
[01:14:59] *** Quits: causa-sui (~causasui@c-73-191-216-12.hsd1.mi.comcast.net) (Ping timeout: 252 seconds)
[01:15:05] <greycat> the RHS of =~ and = are treated as globs, except that any quoted characters lose their special glob powers
[01:15:19] <greycat> err, RHS of = is treated as glob, =~ as RE
[01:16:15] *** Quits: ubique (~ubique@79.113.171.30) (Quit: .)
[01:18:03] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 256 seconds)
[01:18:17] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 252 seconds)
[01:23:06] *** Quits: wwalker (~wwalker@platinum.solid-constructs.com) (Quit: leaving)
[01:24:53] *** Quits: n4dir (~user@i5E86C57F.versanet.de) (Remote host closed the connection)
[01:27:19] *** Joins: Inline (~Inline@aftr-37-201-241-35.unity-media.net)
[01:30:06] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[01:30:56] *** Quits: martinus__ (~martin@96.19.201.77.rev.sfr.net) (Ping timeout: 252 seconds)
[01:31:01] <tessio> greycat rumors says that you are a linux guru
[01:32:13] *** Quits: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net) (Ping timeout: 256 seconds)
[01:32:13] <tessio> confirm greycat
[01:32:35] <ormaaj> hp-ux
[01:33:18] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[01:33:32] <tessio> what's the thing with linux guys and cat's.. seriously
[01:33:55] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:33:56] <tessio> nvm im getting tired and off topic
[01:34:07] <tessio> see you tomorrow
[01:34:08] *** Quits: tessio (~weechat@141.226.73.109) (Quit: WeeChat 3.2)
[01:36:46] *** Joins: wwalker (~wwalker@platinum.solid-constructs.com)
[01:38:33] *** Quits: DaNeenjah (~jake@adsl-74-230-8-177.hsv.bellsouth.net) (Quit: WeeChat 3.3)
[01:40:34] *** Joins: seninha (~seninha@user/seninha)
[01:42:53] <thebombzen> speaking of which, is there a way to create a temporary file at a file descriptor in bash rather than at a filename? something like O_TMPFILE feature provided by linux
[01:44:48] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[01:44:51] <thebombzen> either that, or the problem I'm really trying to solve, is I want to slurp a command and store its return value in a file descriptor
[01:45:13] <ormaaj> i'd use mktemp
[01:45:25] <yitz> You can write to an FD
[01:46:59] <ormaaj> <<<"$?"
[01:47:14] *** Joins: paulgrmn__ (~paulgrmn@user/paulgrmn)
[01:47:28] <ormaaj> not very useful
[01:47:40] *** Joins: igemnace (~ian@user/igemnace)
[01:48:43] <xx> you sure about $? there?
[01:50:06] <earnest> I'd probably never question ormaaj's constructions in bash
[01:50:12] <ormaaj> nope. "store x in a fd" is nonsense
[01:52:15] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[01:53:41] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 268 seconds)
[01:57:31] *** Quits: Itaru (~DaSH@ro2.flokinet.is) (Ping timeout: 252 seconds)
[01:58:04] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[01:59:54] *** Joins: smeeagle (~smeeagle@2a00:23c8:9611:e600:1401:22a5:674e:d69b)
[02:00:59] *** Joins: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au)
[02:01:06] *** Joins: BSaboia (~bsaboia@177.37.198.35)
[02:02:18] <Riviera> ormaaj's a fuzzer
[02:05:13] *** Quits: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[02:05:48] *** Quits: BUSY (~BUSY@user/busy) (Remote host closed the connection)
[02:06:17] *** Joins: blyat-73 (~hjgkjhgkj@46.235.96.249)
[02:09:16] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[02:09:40] <Soni> how do you change the default HISTFILE location? (when is HISTFILE set?)
[02:09:54] <thebombzen> ormaaj: well I was hoping I could read with <&foo or something, rather than <<<"$?"
[02:10:50] <thebombzen> I'd like to avoid mktemp if possible cause currently my code has no exit trap cleanup routines and I'd like to keep it that way for now
[02:11:27] <ormaaj> Soni: possibly in config-top.h
[02:11:49] *** Quits: rcernin (~rcernin@124.190.136.148) (Ping timeout: 252 seconds)
[02:13:11] <Soni> huh, you can inherit HISTFILE, interesting
[02:13:18] *** Joins: k1w1 (~k1w1@p200300f6d705b40090c06998a1d9ab3b.dip0.t-ipconnect.de)
[02:13:33] <llua> this is a unix system, i know this.
[02:13:42] <Soni> you can't export HISTFILE if it's unset tho
[02:14:01] *** Quits: narendraj9 (~user@2a02:8109:b63f:ff7c::57b2) (Remote host closed the connection)
[02:15:13] <Soni> so how do you check if HISTFILE is using the default value?
[02:15:17] *** Quits: led_belly (~led_belly@5.180.62.222) (Remote host closed the connection)
[02:16:25] *** Joins: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net)
[02:16:35] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Read error: error:1408F119:SSL routines:ssl3_get_record:decryption failed or bad record mac)
[02:16:56] *** Quits: rya (~ry@user/rya) (Remote host closed the connection)
[02:17:01] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[02:18:25] *** Quits: podeni (~podeni@188.27.129.74) (Ping timeout: 252 seconds)
[02:19:23] <Soni> also... is there any `set` to forbid relative HISTFILE?
[02:19:35] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[02:20:15] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[02:20:53] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:29b8:ea54:6815:6f35)
[02:22:36] *** Joins: sublim20 (~sublim20@user/sublim20)
[02:23:44] *** Joins: rcernin_ (~rcernin@124.190.136.148)
[02:23:47] *** Quits: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net) (Ping timeout: 256 seconds)
[02:25:25] *** Quits: Itaru (~DaSH@ro2.flokinet.is) (Remote host closed the connection)
[02:26:22] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:29b8:ea54:6815:6f35) (Ping timeout: 268 seconds)
[02:28:08] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 252 seconds)
[02:28:37] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[02:32:40] <flower_> http://paste.debian.net/1221767/
[02:33:24] <flower_> Strange, [[ -e "$BOEKJES_DIR/$boek" ]] evaluates true for the first two entries in the list, while the directory is empty
[02:34:54] <flower_> /home/debian/DamsterDOJO/arduino/boekjes/boek_1_led_2021_v2.pdf
[02:34:54] <flower_> TRUE
[02:35:27] <flower_> whoops, my bad!
[02:37:26] <k1w1> :-)
[02:40:31] <flower_> Bash is so ugly, that it becomes fun to work with
[02:40:33] *** Quits: chomwitt (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374) (Ping timeout: 268 seconds)
[02:47:43] <thebombzen> how do I use a multi-character '-d' in bash's -read?
[02:47:48] <thebombzen> in bash's read?
[02:48:36] <e36freak> you can't
[02:48:51] *** Quits: redo (~redo@193.191.4.173) (Ping timeout: 252 seconds)
[02:48:56] <e36freak> what are you trying to do?
[02:52:21] *** Joins: redo (~redo@193.191.4.173)
[02:53:57] <Soni> given something like ${HISTFILE#~/.bash_history.}... how can one make it so, instead of operating on HISTFILE, this operates on another ${} that adds ./ if the thing doesn't start with /?
[02:54:14] <Soni> the bash manual is pretty good but this doesn't seem immediately obvious...
[02:54:35] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[02:54:39] <greycat> use a temp variable to hold the first expansion's result
[02:54:39] <e36freak> i don't understand the question
[02:54:45] <e36freak> probably that though
[02:54:58] <e36freak> sounds like it's gonna need a two-step process
[02:55:00] <greycat> (or the same output variable, if you're assigning at the end)
[02:55:02] *** Quits: peterrooney (~peter@2604:3d08:1583:7400:dabb:c1ff:fe15:d704) (Ping timeout: 240 seconds)
[02:55:15] <Soni> PS1='${debian_chroot:+($debian_chroot)}{${HISTFILE#~/.bash_history.}}\u@\h:\w\$ '
[02:55:18] *** Joins: led_belly (~led_belly@5.180.62.219)
[02:56:06] <greycat> the ~ may not expand as you expect, there
[02:56:07] <Soni> but if HISTFILE is relative (because for some reason you hate yourself), this should show, e.g. {./foo} instead of {foo} (for HISTFILE=foo)
[02:56:38] <greycat> you can put code in PROMPT_COMMAND to set a temp variable which you then use in PS1
[02:57:09] <e36freak> or put the logic in a function you call with $(), if you prefer
[02:57:12] <Soni> greycat: it seems to expand to $HOME, no?
[02:57:44] <greycat> # FOO=~/bar; echo "${FOO#~/b}"
[02:57:45] <shbot> greycat: ar
[02:57:48] <greycat> huh, ok then
[02:57:59] <greycat> bash's rules for tilde expansion are not always intuitive
[02:58:06] <greycat> sh# FOO=~/bar; echo "${FOO#~/b}"
[02:58:07] <shbot> greycat: /root/bar
[02:58:41] <e36freak> using $HOME instead of ~ will always work
[02:59:21] <Soni> it'll be fine
[03:00:02] *** Quits: MercilessDeth (~brad@136.49.59.177) (Quit: Konversation terminated!)
[03:00:13] <thebombzen> e36freak: I'm trying to call a command a remote that itself calls stat. unfortunately, this stat is a busybox stat and doesn't support --printf so it's stating several files and appending newlines to all of the formats. I figured that I can put // at the end of every stat basic format, and then look for "//\n" as my delimiter
[03:00:18] <Soni> but yeah relative HISTFILE is just evil
[03:00:45] <Soni> maybe it's not that big of a deal tho
[03:01:20] <thebombzen> but what I figured out is I can pipe the output from the remote into: sed -Ez -e 's://\n:\x00:g' and then use the standard -r -d '' trick
[03:01:32] *** Joins: sinaowolabi_ (~SinaOwola@102.134.114.1)
[03:01:41] <e36freak> that could be an option
[03:01:51] <e36freak> if you wanted to do it with read, you just need to add some logic to the loop
[03:02:08] <e36freak> read with normal \n delimiter, check if the last characters of the string are // or whatever else you want to put there
[03:02:15] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 256 seconds)
[03:02:15] *** Quits: sinaowolabi__ (~SinaOwola@102.134.114.1) (Ping timeout: 256 seconds)
[03:02:30] <e36freak> if they are, do the normal stuff. if they're not, read another line, append that to the current line, and check again
[03:02:35] <e36freak> keep going until you see // at the end
[03:02:41] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[03:02:47] *** Quits: cliluw (~cliluw@47.147.80.149) (Ping timeout: 252 seconds)
[03:03:20] *** Joins: LtL (~debian@user/ltl)
[03:03:45] *** Joins: cliluw (~cliluw@47.147.80.149)
[03:03:53] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 252 seconds)
[03:04:50] <thebombzen> the command for retrieving info from the remote is really stupid and it can't parallelize, so I need to slurp the entire list before the next step, so that's not really ideal
[03:05:14] <e36freak> it'd be the way to do it, just an option
[03:05:22] <e36freak> not particularly difficult to implement
[03:05:48] *** Joins: namkeleser (~namkelese@101.175.102.188)
[03:06:28] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[03:07:23] <e36freak> while IFS= read -r line; do until [[ $line = *// ]]; do IFS= read -r tmp; line+=$'\n'$tmp; done; line=${line%//}; ...
[03:08:02] <Soni> hmm... close enough? {$([[ "${HISTFILE#~/.bash_history.}" != "$HISTFILE" ]] && printf "@ " || printf "/ ")${HISTFILE#~/.bash_history.}}
[03:08:05] <greycat> I'd... probably write a function to return a chunk o' lines, and call that in the while loop.
[03:08:19] <e36freak> or that
[03:08:33] <greycat> Soni: if you put code in PROMPT_COMMAND it can set a temp variable without calling $() therefore without forking
[03:09:03] *** Joins: peterrooney (~peter@2604:3d08:1583:7400:dabb:c1ff:fe15:d704)
[03:09:21] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[03:13:03] *** Joins: kj (~kj@kj.aerisnetwork.net)
[03:15:02] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:15:29] *** Quits: int (~int@0x4.cx) (Quit: see you :))
[03:15:39] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:16:29] <Soni> greycat: where's that documented?
[03:17:05] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Ping timeout: 252 seconds)
[03:17:42] *** Joins: int (~int@0x4.cx)
[03:18:11] *** Quits: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Ping timeout: 256 seconds)
[03:20:02] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:09] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[03:20:14] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[03:20:39] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:24:53] <Soni> greycat: ...what happens if PS1 fails to fork?
[03:29:22] *** Joins: ejjdhfjsu (~ejjdhfjsu@cmcust2a-84.174.nulinkdigital.com)
[03:29:47] *** Quits: namkeleser (~namkelese@101.175.102.188) (Quit: Client closed)
[03:30:02] *** Quits: Libero (~Libero@130.43.23.56.dsl.dyn.forthnet.gr) (Read error: Connection reset by peer)
[03:30:13] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[03:33:55] *** Joins: kurahaupo (~kurahaupo@pa49-180-186-164.pa.nsw.optusnet.com.au)
[03:34:05] *** Joins: BUSY (~BUSY@user/busy)
[03:39:09] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 256 seconds)
[03:39:16] *** Parts: k1w1 (~k1w1@p200300f6d705b40090c06998a1d9ab3b.dip0.t-ipconnect.de) (GN8)
[03:39:24] *** Joins: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net)
[03:40:22] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 268 seconds)
[03:42:53] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[03:43:24] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[03:48:26] *** Quits: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net) (Ping timeout: 252 seconds)
[03:51:33] *** Quits: reset (~reset@user/reset) (Quit: reset)
[03:52:41] *** Joins: anyone (~filler@a4.inai.de)
[03:54:26] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[03:55:16] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[03:56:48] *** Quits: rlankfo (~bob@bob.4kb.com) (Remote host closed the connection)
[03:57:05] *** Parts: anyone (~filler@a4.inai.de) ()
[03:58:00] *** Joins: omnigoat (~omnigoat@user/omnigoat)
[03:59:39] *** Quits: smeeagle (~smeeagle@2a00:23c8:9611:e600:1401:22a5:674e:d69b) (Quit: smeeagle)
[04:01:45] *** Quits: Inline (~Inline@aftr-37-201-241-35.unity-media.net) (Ping timeout: 256 seconds)
[04:02:00] *** Joins: Inline (~Inline@aftr-37-201-241-35.unity-media.net)
[04:02:33] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Ping timeout: 252 seconds)
[04:03:29] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[04:03:39] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[04:04:23] <e36freak> Soni: forking is not an issue for a failure thing, it's just a relatively expensive and slow thing to do. doesn't really matter for PS1, though, IMO
[04:08:26] <Soni> oh good, bash reads the HISTFILE *after* running bashrc
[04:09:47] *** Quits: Milos (~Milos@user/milos) (Quit: ZNC 1.8.2 - https://znc.in)
[04:10:33] *** Joins: Milos (~Milos@user/milos)
[04:11:12] *** Quits: BSaboia (~bsaboia@177.37.198.35) (Quit: This computer has gone to sleep)
[04:11:43] *** Quits: ejjdhfjsu (~ejjdhfjsu@cmcust2a-84.174.nulinkdigital.com) (Ping timeout: 252 seconds)
[04:14:31] <twkm> even if it didn't, clearing memory then reading the file is fairly trivial.
[04:16:29] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 252 seconds)
[04:16:43] *** Joins: ferdna (~ferdna@user/ferdna)
[04:18:23] *** Joins: torresjrjr (~torresjrj@user/torresjrjr)
[04:18:54] *** Joins: randomxusr (~randomusr@c-73-242-70-183.hsd1.mn.comcast.net)
[04:19:11] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[04:20:10] <Soni> what's history -n vs history -r and why does history -c && HISTFILE=foo && history -n not work?
[04:20:55] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[04:22:48] *** Joins: ejjdhfjsu (~ejjdhfjsu@cmcust2a-84.174.nulinkdigital.com)
[04:24:51] <Soni> and to properly handle shopt -s histappend, one should use shopt histappend && history -a || history -w? (shopt -q?)
[04:25:18] <e36freak> !faq losing
[04:25:18] <greybot> https://mywiki.wooledge.org/BashFAQ/088 -- How can I avoid losing any history lines?
[04:25:34] *** Joins: BSaboia (~bsaboia@177.37.198.35)
[04:25:37] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 256 seconds)
[04:26:19] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[04:26:55] <Soni> e36freak: for this https://bpa.st/LOHQ
[04:29:31] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[04:31:34] *** Joins: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net)
[04:32:07] <e36freak> thebombzen: since i thought it was interesting, http://ix.io/3GPu
[04:32:44] <thebombzen> oh, nice
[04:34:24] <Soni> basically, how do you implement "history saving" when you're touching history manually instead of letting the shell do it? this seems like it would require using shopt to test for histappend
[04:34:38] *** Quits: cliluw (~cliluw@47.147.80.149) (Ping timeout: 252 seconds)
[04:34:53] *** Joins: cliluw (~cliluw@47.147.80.149)
[04:35:16] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[04:38:28] <e36freak> thebombzen: ah, should be line+=$d$tmp
[04:38:28] *** Joins: qpls (~qpls@cpeb4750e67d202-cmf81d0fad5840.cpe.net.fido.ca)
[04:38:39] <e36freak> that one works but might not with a different delimiter
[04:39:52] <Soni> which of these is more correct? https://bpa.st/XDCQ or https://bpa.st/ABXQ ?
[04:40:33] <qpls> how can I read from a file until a given character is seen using only POSIX commands?
[04:41:01] <greycat> does this mean using sh instead of bash?
[04:41:03] <qpls> I suppose the brute force solution is using dd or head in a loop, but I would prefer to avoid this
[04:41:03] <Riviera> qpls: with which part of this task do you have problems
[04:41:14] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 252 seconds)
[04:41:19] <Riviera> qpls: yeah, that's your answer.
[04:41:23] <kurahaupo> Soni: history is a bit messy to deal with. I generally keep all my history sessions in separate files so that I can figure out which commands run after cd, and similar state changes
[04:41:26] <Riviera> qpls: not head though
[04:41:37] <qpls> Riviera: what is wrong with head?
[04:41:42] <Riviera> qpls: it reads too much
[04:41:45] <greycat> head reads a buffer of indeterminite size
[04:41:50] <qpls> is -c1 not posix compliant?
[04:41:55] <greycat> indeterminate?  one of those.
[04:42:04] <e36freak> close enough either way
[04:42:13] <Riviera> i stopped reading after the "in"
[04:42:20] <qpls> in either event, I would prefer to avoid having to loop using dd or head and check each char in the shell
[04:42:24] <greycat> Are you using sh?  Seriously, it matters.
[04:42:27] <qpls> I was hoping for a more efficient solution
[04:42:31] *** Quits: cliluw (~cliluw@47.147.80.149) (Ping timeout: 252 seconds)
[04:42:42] <qpls> I tried using awk, but I discovered a bug in one of the awk implementations which makes the solution unviable
[04:42:46] <greycat> ...
[04:42:53] <qpls> greycat: yes
[04:42:55] <qpls> sorry
[04:42:55] <Riviera> qpls: your question was answered though
[04:42:57] <Riviera> :)
[04:43:05] <Riviera> i mean, you can keep asking, but POSIX won't change
[04:43:05] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.3)
[04:43:13] <Soni> what's the point of asking specific questions if nobody wants to answer specific questions
[04:43:15] <Riviera> or perhaps, if you ask often and long enough, it will
[04:43:18] *** Joins: cliluw (~cliluw@47.147.80.149)
[04:43:22] <qpls> Riviera: are you sure there is no other way?
[04:43:22] <greycat> it changes very, very slowly, but I don't think POSIX sh will ever add read -d
[04:43:27] <Riviera> qpls: yes
[04:43:32] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:43:36] <e36freak> Soni: i guess the second
[04:43:40] <qpls> no sed/awk/dd solution?
[04:43:44] <Riviera> qpls: dude
[04:43:55] <Soni> you "guess"?
[04:43:59] <kurahaupo> Soni: Switching between history streams doesn't really make sense without histappend. I would just forcibly turn it on
[04:44:03] *** Joins: sublim20 (~sublim20@user/sublim20)
[04:44:08] <greycat> I guess they think that if they keep asking eventually the answer will somehow change.
[04:44:39] <kurahaupo> Soni: I am answering your specific question. It takes time
[04:44:44] <Soni> kurahaupo: yeah debian turns it on by default but like, meh
[04:45:05] <e36freak> Soni: i guess because as kurahaupo not appending doesn't really make sense, but it is more "correct" as to what i'd expect
[04:45:20] <kurahaupo> Soni: Is there a reason for not simply using a separate shell for each history session?
[04:45:50] <Soni> kurahaupo: we do. we use both.
[04:45:57] <qpls> I ask, because the answer was quick and categorical. There is actually a reasonably intuitive POSIX compliant solution involving awk but it is currently broken in one of the implementations
[04:46:04] <qpls> which I did not expect you to know off hand
[04:46:17] <qpls> I was hoping there may be other possibilities I am unaware of
[04:46:22] <Riviera> hehe
[04:46:28] <e36freak> in POSIX i'd consider just implementing the whole thing of what you want to do in awk, but
[04:46:44] <e36freak> not gonna handle NUL bytes POSIXly if that's your goal
[04:46:46] <Soni> kurahaupo: being able to pop a shell and "session foo" or "session bar" depending on what we're gonna do is muuuch more intuitive than popping a shell and then doing... what exactly?
[04:46:50] <qpls> e36freak: that is precisely what I did, unfortunately mawk suffers from a subtle input buffering bug
[04:46:58] <e36freak> ah
[04:47:01] <e36freak> which mawk version?
[04:47:02] <kurahaupo> Soni: "suspend"
[04:47:03] <qpls> the other awk implementations handle it fine
[04:47:06] <qpls> e36freak: all of them
[04:47:17] <e36freak> still there in 1.3.4? fun
[04:47:23] <e36freak> mawk always throws a wrench in things
[04:47:33] <Soni> kurahaupo: (we guess making shortcuts to pop shells with specific HISTFILE is an option but that's so much more effort and you need to repeat that effort for every new HISTFILE whereas this you just integrate into your workflow)
[04:47:35] <qpls> e36freak: see https://github.com/ThomasDickey/original-mawk/issues/12
[04:47:42] <qpls> the author believes it is a feature
[04:47:48] <e36freak> heh, that's mawk for you
[04:47:52] <qpls> :(
[04:47:55] <qpls> unfortunately mawk ships with debian
[04:48:05] <e36freak> i'm well aware
[04:48:19] <e36freak> i had to deal with a LOT of workarounds back when 1.3.3 was the norm, at least 1.3.4 is a lot better
[04:48:26] <Soni> kurahaupo: what's suspend supposed to help with?
[04:48:48] <qpls> e36freak: interesting, what sort of bugs?
[04:49:39] <kurahaupo> Soni: start a shell for each session, suspend all but one, fg the one you want to use
[04:49:42] <e36freak> aw man it's been a while
[04:49:51] <Riviera> IMHO we stopped pointing out all the old mawk idiosyncracies in #awk years ago
[04:50:04] <Riviera> got tiresome somehow
[04:50:13] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Ping timeout: 252 seconds)
[04:50:21] <xx> what awk is one supposed to use these days?
[04:50:37] <qpls> You can disable input buffering with -Wi but it causes mawk to ignore RS
[04:51:00] <Riviera> also that's not POSIX anyway
[04:51:09] <e36freak> it didn't handle POSIX character classes, that's one i can remember for sure
[04:51:18] <qpls> Riviera: indeed, but the other implementations seem to safely ignore it
[04:51:21] <Soni> kurahaupo: oh, that's useful to know for when using a login shell
[04:51:24] <qpls> so I was happy enough to use it if it worked
[04:51:41] *** Quits: cliluw (~cliluw@47.147.80.149) (Ping timeout: 252 seconds)
[04:51:44] <Riviera> what's it that you're trying to program anyway?
[04:51:47] <Soni> but we'd still want to do this session() thing. because reasons.
[04:52:02] <qpls> Riviera: I want to read some input from /dev/tty
[04:52:04] <qpls> terminated with \007
[04:52:09] <Riviera> qpls: i mean the bigger picture
[04:52:17] <Riviera> the what, not the how :)
[04:52:19] <qpls> I want to read some info from the terminal
[04:52:26] <qpls> namely the background color
[04:52:31] <Riviera> ah
[04:52:39] *** Joins: cliluw (~cliluw@47.147.80.149)
[04:53:24] <Riviera> sounds like something that should anyway not *really* be written as a shell script
[04:53:45] <Riviera> not saying you shouldn't, but sounds like more of a "fun project"?
[04:54:15] <qpls> Riviera: indeed :P
[04:54:18] <qpls> sort of
[04:54:38] <qpls> it's this https://github.com/lemnos/theme.sh
[04:55:19] <Riviera> yeah i totally understand this needs to be posix
[04:55:41] <Riviera> and "efficiency" *really* matters ;P
[04:56:06] <Soni> hmm we may also change history -d -1 for history -s "cd $PWD" at some point... that seems like it could be useful
[04:56:06] <e36freak> neat
[04:56:15] *** Joins: Gerula_ (~Gerula@user/gerula)
[04:56:15] *** Quits: Gerula (~Gerula@user/gerula) (Killed (strontium.libera.chat (Nickname regained by services)))
[04:56:15] *** Gerula_ is now known as Gerula
[04:56:21] <e36freak> qpls: can you just read a line and split at 007s
[04:56:46] <e36freak> or rather use PEs to consume up to a 007 at a time
[04:57:02] <Riviera> it probably won't be lines
[04:57:06] <qpls> e36freak: ansi sequences aren't line terminated
[04:57:16] <e36freak> i understand that
[04:57:20] <qpls> Riviera: and yes, I want it to be as efficient as possible ;)
[04:57:23] <Riviera> e36freak: i assume qpls queries the terminal
[04:57:24] <e36freak> but read up to a newline anyway, and deal with what you get in there
[04:57:35] <e36freak> i don't know too much about this stuff, but just an idea
[04:57:36] <Riviera> qpls: yup, but what i am saying is that it's silly
[04:57:47] <qpls> it potentially runs several times in th hot path as the user moves over the themes
[04:57:58] <Riviera> qpls: not to "blame" you, but to give you kind of a reality check so you can move on with your code
[04:57:58] <qpls> the ms difference makes a small but perceptible difference
[04:58:16] <qpls> Riviera: I won't dwell on it, but I would like to optimize it to the extent possible
[04:58:19] *** Joins: akoana (~ah@user/akoana)
[04:58:30] <qpls> e36freak: The newline will never get generated unless the user presses enter
[04:58:45] <qpls> the sequences are BEL terminated
[04:59:10] <Riviera> assuming terminal types but trying to be posix
[04:59:13] <Riviera> "sigh"
[04:59:34] <e36freak> ah
[04:59:36] <qpls> really I just want it to run on macos, linus and wsl term
[04:59:45] <qpls> the escape sequences are non standard
[04:59:49] <qpls> but uniformly supported
[04:59:59] <qpls> POSIX compliance ensures the script will run on OSX
[05:00:11] <Soni> anyway, thanks!
[05:00:42] *** Parts: Soni (~quassel@autistic.space) (http://quassel-irc.org - Chat comfortably. Anywhere.)
[05:01:42] *** Joins: Atque (~Atque@user/atque)
[05:02:11] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[05:04:36] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[05:04:56] <greycat> OSX has either bash or zsh or both, right?  doesn't zsh have an equivalent of read -d?
[05:05:12] *** Quits: knstn (~knstn@ppp-94-66-57-28.home.otenet.gr) (Quit: leaving)
[05:06:00] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[05:06:15] <qpls> greycat: possibly, but I see no reason not to make it posix compliant
[05:06:19] <qpls> it didn't require any additional effort
[05:06:21] *** Quits: tex (~super@user/dix) (Ping timeout: 256 seconds)
[05:06:33] <qpls> and it ensures some compatibility with the bsds
[05:06:35] <greycat> Didn't you just have a 15 minute discussion about all the reasons why making it POSIX compliant is a PAIN in the ass?
[05:06:55] <qpls> greycat: the only issue I have encountered thus far is reading until a certain char
[05:07:13] <qpls> read -d is one case in which bash helps
[05:07:28] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[05:07:57] <qpls> plus it is partly for educational curiosity :P
[05:11:43] *** Joins: mike18 (~geri@71-220-52-187.mpls.qwest.net)
[05:12:09] <mike18> hi whats the best way to check if a file exists? file_exists=$(aws s3 ls "$dir" --profile=ds | wc -l) if file_exists ...
[05:14:30] <mike18> if [ ! -f /tmp/foo.txt ]; then  ?
[05:14:37] <mike18> oh wait im using aws cli :D
[05:14:51] *** Quits: earnest (~earnest@user/earnestly) (Ping timeout: 256 seconds)
[05:15:22] <hejux_0> is there a difference? cmd1 && cmd2 ; cmd3
[05:15:26] <hejux_0> cmd1 &&
[05:15:31] <hejux_0> cmd2; cmd3
[05:16:45] <hejux_0> do i need to `cmd1 && \`
[05:16:57] <hejux_0> the second example.
[05:17:11] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 268 seconds)
[05:17:40] <xx> no difference, cmd1 && will not run until you type out the 2nd part
[05:17:57] *** Joins: earnest (~earnest@user/earnestly)
[05:18:04] <mike18> people suggest: http://biercoff.com/how-to-check-with-aws-cli-if-file-exists-in-s3/
[05:18:05] <xx> and there's no need for a \, it's implicit there
[05:20:49] <mike18> hi is there a good way to check if a file exists on aws s3? http://biercoff.com/how-to-check-with-aws-cli-if-file-exists-in-s3/
[05:21:49] <greycat> we don't know aws cli here
[05:22:11] <hejux_0> example : https://paste.rs/rMu
[05:22:29] *** Quits: rcernin_ (~rcernin@124.190.136.148) (Ping timeout: 252 seconds)
[05:22:34] <mike18> greycat: its just ls for aws s3 :)
[05:22:51] <greycat> I have doubts.
[05:23:21] <mike18> :)
[05:23:34] <greycat> For example, what happen if you pass it a quoted glob?
[05:23:49] *** qpls is now known as jk
[05:23:52] <greycat> does it do its own round of glob expansion on the argument?
[05:23:52] *** jk is now known as qpls
[05:24:00] *** qpls is now known as lemnean
[05:24:07] *** lemnean is now known as aetnaeus
[05:24:22] <hejux_0> xx: see my link, why do people sometimes add a '\' after &&
[05:24:28] <greycat> because people are dumb
[05:25:00] <xx> a very true statement
[05:25:43] <hejux_0> greycat: you're saying, that the 3 examples have no difference?
[05:25:51] <xx> they have no difference
[05:25:57] <xx> run it with set -x and see for yourself
[05:26:12] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[05:27:07] <hejux_0> holy shit
[05:27:15] <xx> hmm?
[05:27:28] <hejux_0> i see `&& \` and `|| \` all the time
[05:27:36] <e36freak> !crap
[05:27:36] <greybot> The overwhelming majority of bash scripts, code, tutorials, and guides on the Internet are crap. Sturgeon was an optimist.
[05:29:19] <hejux_0> so, "&&" "||" ";" "RETURN", those can be used to end a line?
[05:29:34] <hejux_0> what else can end a line?
[05:29:49] <xx> this might be the case where the \ is confusing you: https://0x0.st/-heY.c
[05:29:52] <greycat> The parser reads a line at a time.  If the line(s) that the parser has currently got in memory do not constitute a full command, then it'll read another.
[05:30:14] <greycat> a &&    is not a full command, so the parser will read more lines until it has a full command it can parse and execute.
[05:30:47] <greycat> ending with | has the same effect, for the same reason
[05:31:14] <hejux_0> xx: right, escape the "return", so "cmd1" and "&& cmd2" is in the same line.
[05:31:33] *** Quits: relight (~relight@user/relight) (Ping timeout: 250 seconds)
[05:31:44] *** Joins: relight (~relight@user/relight)
[05:33:08] <hejux_0> so it is '| \' is needed , while '&& \' is dumb?
[05:34:06] <e36freak> | \ is not needed
[05:34:12] <e36freak> which is why he said "has the same effect"
[05:34:27] <e36freak> any time bash sees that it needs to read more for a command to be complete, it does
[05:34:36] <hejux_0> cmd1 |
[05:34:38] <hejux_0> cmd2
[05:34:47] <e36freak> just like with for loops, or if you have a { it'll keep reading until the matching }
[05:34:52] <hejux_0> this way, cmd1 result got piped to cmd2?
[05:34:56] <e36freak> yes
[05:35:02] <e36freak> try it and see
[05:35:21] *** Joins: et_ (~et@user/et)
[05:35:43] <e36freak> you can experiment on your own shell by typing the first bit with no \ and hitting enter, if you get PS2 (which by default looks like ">") it means you didn't need a \
[05:36:14] *** Quits: et (~et@user/et) (Ping timeout: 252 seconds)
[05:36:14] *** et_ is now known as et
[05:38:01] <hejux_0> this is very good to know
[05:38:13] <hejux_0> i basically hate the '\'
[05:39:20] <xx> so don't use it when you don't need to
[05:39:40] <xx> it's always fun when there's one at the end somewhere                                             \
[05:40:07] <hejux_0> so, now we have `&&` `||` `;` `|` `&` `RETURN` , total 6 to end a line without the need of '\'
[05:40:17] <xx> end-of-file also works
[05:41:00] <xx> though posixly-correct every line would terminate with a \n
[05:41:11] *** Joins: kurahaupo_ (~kurahaupo@203-194-51-46.static.tpgi.com.au)
[05:42:37] <greycat> hejux_0: it's not about "these punctuations are special".  It's about "my command is not syntactically complete yet".
[05:43:16] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[05:43:33] <greycat> also, ; DOES terminate a command (as long as it's not the empty command), so something like "ls ;" is a complete command and will not cause the parser to continue reading before executing ls.
[05:43:59] <greycat> likewise, & acts as a command termination marker
[05:44:19] *** Quits: kurahaupo (~kurahaupo@pa49-180-186-164.pa.nsw.optusnet.com.au) (Ping timeout: 256 seconds)
[05:44:25] <hejux_0> understood.
[05:44:55] <hejux_0> thank you greycat. it is rare to see you type here
[05:45:25] *** Joins: karstensrage (~karstensr@user/karstensrage)
[05:47:53] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[05:49:47] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[05:51:09] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:d03a:d0a9:48b6:27e3)
[05:52:04] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[05:52:11] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[05:52:19] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[05:55:29] *** Quits: relight (~relight@user/relight) (Ping timeout: 252 seconds)
[05:55:55] *** Joins: relight (~relight@user/relight)
[05:57:27] <hejux_0> works! https://paste.rs/NAm
[05:58:11] <hejux_0> no need a '\' every fucking line... i removed all of them
[06:00:30] *** gr33n7007h is now known as capsaicin
[06:00:49] *** capsaicin is now known as gr33n7007h
[06:03:26] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:d03a:d0a9:48b6:27e3) (Ping timeout: 268 seconds)
[06:03:55] *** Joins: sudomann (~sudomann@2601:155:8402:4960:5040:4192:d944:6d90)
[06:05:17] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 268 seconds)
[06:10:07] *** Quits: zoe (~zoe@fsf/member/zoe) (Remote host closed the connection)
[06:10:48] *** Quits: aetnaeus (~qpls@cpeb4750e67d202-cmf81d0fad5840.cpe.net.fido.ca) (Quit: leaving)
[06:11:03] *** Joins: pj (~pj@ghettoforge/pj)
[06:11:20] *** Joins: aetnaeus (~qpls@cpeb4750e67d202-cmf81d0fad5840.cpe.net.fido.ca)
[06:17:35] *** Joins: Stotteren (~Stotteren@pool-108-20-79-41.bstnma.fios.verizon.net)
[06:17:39] *** Joins: Gestotterd (~Stotteren@pool-108-20-79-41.bstnma.fios.verizon.net)
[06:18:47] *** Parts: Gestotterd (~Stotteren@pool-108-20-79-41.bstnma.fios.verizon.net) ()
[06:18:48] *** Joins: rgrinberg (~textual@187.251.13.114)
[06:18:53] *** Quits: Inline (~Inline@aftr-37-201-241-35.unity-media.net) (Ping timeout: 256 seconds)
[06:19:05] *** Joins: namkeleser (~namkelese@101.175.102.188)
[06:21:21] *** Joins: EliveWeb_42 (~EliveWeb_@191.92.148.122)
[06:21:54] <EliveWeb_42> it is possible to insert a "heredoc" in a specific place of a file? (a comment containing an "insert here" tag)
[06:22:37] <justsomeguy> Are you trying to automate editing a config file?
[06:22:37] *** Quits: pj (~pj@ghettoforge/pj) (Ping timeout: 252 seconds)
[06:23:03] <EliveWeb_42> yes
[06:24:14] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[06:25:03] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:d03a:d0a9:48b6:27e3)
[06:25:09] <greycat> one suggestion is to generate a diff, and apply it with patch(1) on the target system
[06:25:40] <phy1729> another is to just use configuration management tools not hack things with shell scripts
[06:27:09] *** Quits: hejux_0 (~hejux@104.224.190.144.16clouds.com) (Remote host closed the connection)
[06:27:30] *** Joins: hejux_0 (~hejux@104.224.190.144.16clouds.com)
[06:27:32] <justsomeguy> I was about to suggest augeas, which is a tool that parses config files, and allows you to browse the parse tree like a file hierarchy, and then add/remove content from it.
[06:28:06] <justsomeguy> But to be honest I don't remember how to use it.
[06:30:21] *** Joins: kurahaupo (~kurahaupo@pa49-180-186-164.pa.nsw.optusnet.com.au)
[06:31:01] *** Quits: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net) (Quit: Leaving)
[06:31:32] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[06:32:29] *** Quits: kurahaupo_ (~kurahaupo@203-194-51-46.static.tpgi.com.au) (Ping timeout: 256 seconds)
[06:34:40] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[06:35:26] *** Joins: pj (~pj@ghettoforge/pj)
[06:36:31] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 256 seconds)
[06:38:26] *** Joins: MercilessDeth (~brad@136.49.59.177)
[06:39:00] *** Quits: kurahaupo (~kurahaupo@pa49-180-186-164.pa.nsw.optusnet.com.au) (Read error: Connection reset by peer)
[06:39:13] *** Joins: kurahaupo (~kurahaupo@pa49-180-186-164.pa.nsw.optusnet.com.au)
[06:40:10] <wwalker> I want to run a program, which may output 0 or more lines, as soon as it outputs a single line, I want to return that line and return, but I want a timeout to prevent waiting forever.
[06:40:22] <hejux_0> lol : 0x0 () { local file ; (($#)) && file="$1" || file="-" ; curl -F"file=@$file" https://0x0.st ; }
[06:40:31] <hejux_0> one line 0x0 post
[06:41:10] <wwalker> x=$(timeout 10 myprogram | head -n 1) # does what  I want, except it waits the entire 10 seconds even if myprogram outpus a line earlier.
[06:41:57] *** Joins: rcernin (~rcernin@124.190.136.148)
[06:42:02] <e36freak> read -t
[06:42:10] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 265 seconds)
[06:42:14] *** Parts: karstensrage (~karstensr@user/karstensrage) (Leaving)
[06:42:25] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 252 seconds)
[06:42:35] <greycat> 1) If the program writes something within the time limit, do you want to let it CONTINUE RUNNING, or KILL IT?
[06:42:36] <e36freak> read -rt 10 < <(myprogram)
[06:42:53] <greycat> 2) If the program does NOT write within the time period, do you want to let it CONTINUE RUNNING, or KILL IT?
[06:43:08] <wwalker> greycat: it can continue running, or be killed.
[06:43:13] <wwalker> either is fine
[06:43:17] *** Joins: Trieste (T@user/pilgrim)
[06:43:22] <greycat> what the actual fuck is wrong with you
[06:43:26] <e36freak> ha
[06:43:31] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:d03a:d0a9:48b6:27e3) (Ping timeout: 252 seconds)
[06:44:00] <hejux_0> even shorter : 0x0 () { local file=${1:--} ; curl -F"file=@$file" https://0x0.st ; }
[06:44:10] <thebombzen> even my weird questions never got me that from greycat, wow
[06:44:28] <thebombzen> that's an extra special achievement
[06:45:18] *** Quits: rgrinberg (~textual@187.251.13.114) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:45:52] <xx> thebombzen: there's a wiki page for that
[06:45:58] <wwalker> greycat: ROFL - the program is (timeout 10 i3-msg | jq ... | head -n 1)  if my script can continue after the first line of output, it's all good.  I expect timeout to kill it, but I want to continue early
[06:46:30] <greycat> oh, it's not even one program.  it's a complex pipeline.  And yet you somehow don't fucking care whether it lives or dies.
[06:46:58] <thebombzen> is there any negative consequence to killing i3-msg after one line?
[06:47:20] <thebombzen> if there is no negative consequence, you should have it die since there's no reason to keep it running if you have no need for it
[06:47:34] <e36freak> read -rt 10 < <(i3-msg | jq)
[06:47:45] <thebombzen> also, you could listen to what was piped earlier
[06:48:13] <thebombzen> cat <e36freak >wwalker
[06:48:30] <wwalker> e36freak: Thank you!  That solves it!
[06:48:44] <thebombzen> do keep in mind that jq is a json parser so it might slurp more than one line
[06:48:54] <e36freak> yeah buffering could be a thing
[06:49:03] <e36freak> read's only gonna grab the first line though
[06:49:07] <wwalker> greycat: I of course don't want the program to run forever, hence already using "timeout 10 ...."
[06:49:12] <thebombzen> you should also check out stdbuf, which can line buffer the output
[06:49:25] <e36freak> what i gave is probably good enough
[06:49:30] <greycat> I'm less concerned with jq reading more than one line, and more concerned with i3-msg not flushing after each chunk of JSON output, and therefore jq not receiving input within 10 seconds.
[06:49:42] <e36freak> ya
[06:49:44] <greycat> but somehow we're supposed to know how i3-msg works
[06:49:44] <thebombzen> ah, well stdbuf can solve *that*
[06:49:47] <wwalker> thebombzen: thank you.  I already had stdbuf (Thank you zeraphel) from a script I based my stuff on
[06:50:53] <greycat> (we also have to know something about jq, but a lot of people here do happen to know that)
[06:50:56] <wwalker> greycat: I started with "run a program, which may output 0 or more lines" ... I should have also said "that will never stop running"
[06:51:20] <e36freak> you don't have to run it with timeout though
[06:51:31] <e36freak> once it tries to write to a broken pipe it'll get SIGPIPE and exit
[06:51:33] <wwalker> e36freak: not now :-)
[06:51:37] *** Parts: justsomeguy (~justsomeg@user/justsomeguy) (WeeChat 3.3)
[06:51:50] <e36freak> your head -n 1 would have done that too but read is the more elegant thing
[06:52:04] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[06:52:11] <wwalker> e36freak: I thought I would get that SIGPIPE from "head", but nope
[06:52:43] <e36freak> that may be more a jq | head buffering thing
[06:52:50] <wwalker> the head didn't do it, but probably I'd need to stdbuf each piece of the pipeline.
[06:52:50] *** Joins: rgrinberg (~textual@187.251.13.114)
[06:52:52] *** Hash is now known as stoned
[06:54:10] *** Joins: kurahaupo_ (~kurahaupo@ppp122-115.static.internode.on.net)
[06:54:16] <wwalker> Thank you all!  Please accept my apologies for over-simplifying my example to the point that it was no longer actually reflected the whole problem.
[06:54:50] *** Quits: blyat-73 (~hjgkjhgkj@46.235.96.249) (Quit: Leaving)
[06:55:04] *** Quits: YHVH (~yhvh@c-98-235-30-231.hsd1.pa.comcast.net) (Quit: Leaving)
[06:55:11] <greycat> Now we just have to wait two weeks and they'll be back here asking how to avoid having 1700 never-ending i3-msg processes lurking in memory.
[06:55:29] *** Joins: YHVH (~yhvh@c-98-235-30-231.hsd1.pa.comcast.net)
[06:55:47] <e36freak> looking forward to it
[06:57:01] * greycat finds ... "i3-msg - send messages to i3 window manager"
[06:57:05] *** Quits: earnest (~earnest@user/earnestly) (Ping timeout: 252 seconds)
[06:57:13] <greycat> that is exactly the opposite of what I guessed it was doing
[06:57:24] <e36freak> hahaha, likewise
[06:57:25] *** Quits: kurahaupo (~kurahaupo@pa49-180-186-164.pa.nsw.optusnet.com.au) (Ping timeout: 256 seconds)
[06:58:22] <wwalker> greycat: I just set ulimit to fix that :-)
[06:59:29] <greycat> I don't see anything at https://build.i3wm.org/docs/i3-msg.html that says it runs forever
[07:00:03] <greycat> ... unless you use the -m option
[07:00:05] <wwalker> when you use -t subscribe -m '["window"]'
[07:00:11] <wwalker> Right.
[07:00:43] <greycat> so, uh, don't use that option
[07:02:09] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[07:02:14] <greycat> The page implies that if you omit -m, it will "exit right after receiving the first subscribed event".  Which seems to be what you want, as far as we can tell.
[07:03:27] <greycat> amusingly, they forgot to include -m in the synopsis
[07:05:53] *** Quits: xx (~xx@user/xx) (Ping timeout: 252 seconds)
[07:06:19] *** Quits: rgrinberg (~textual@187.251.13.114) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:06:26] *** Quits: jos1 (~jos3@dyndsl-178-142-070-050.ewe-ip-backbone.de) (Ping timeout: 252 seconds)
[07:07:02] <hejux_0> f () { nf () { } ; nf } ; how do i prevent nf to get exported when run f?
[07:07:03] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 256 seconds)
[07:07:25] <greycat> All functions exist in a single global namespace.  There are no "local functions".
[07:07:28] <wwalker> greycat: without the -m would work, but actually it is the first line from jq that I want:
[07:07:37] <greycat> Exported functions are a separate issue.
[07:08:23] <wwalker> read -rt 10 id < <(timeout 5 i3-msg -t subscribe -m '["window"]' | stdbuf -o0 jq -S -r "select(.change==\"new\" $class).container.window" )
[07:08:46] <greycat> why are you using -m when it doesn't do what you want?
[07:08:55] * wwalker goes to read about exported functions....
[07:08:58] *** Joins: arandomcomrade (~arandomco@user/arandomcomrade)
[07:09:33] *** Joins: rgrinberg (~textual@187.251.13.114)
[07:09:36] <wwalker> greycat: it is what I want, there may be 10s of events before the recently launched window opens and creates the new window event I am looking for.
[07:09:57] *** Quits: timj (~timj@user/timj) (Quit: Leaving.)
[07:10:07] <greycat> well then the documentation is too cryptic for me
[07:10:39] <wwalker> it is quite a bit cryptic.  :-)  Thanks again for the help...
[07:10:49] <greycat> it VERY strongly implies that without -m, it sends one message, gets the result/response from that message, and dumps it to stdout... and with -m, it keeps running and dumps ALL messages instead
[07:10:52] *** Quits: rgrinberg (~textual@187.251.13.114) (Client Quit)
[07:11:22] <wwalker> yep, I just can't be sure that the next message is the one I am looking for.
[07:11:41] <greycat> list #i3
[07:11:42] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[07:11:45] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 252 seconds)
[07:11:49] <greycat> (with /)
[07:11:58] <greycat> 22:41 #i3 46 freenode/#i3 is moving to OFTC: https://oftc.net/ -- [...]
[07:12:19] * greycat wonders why they have 46 people here, if they're "moving" and expect to "see you there"
[07:12:27] <greycat> anyway, ask those people.
[07:14:54] <thebombzen> hejux_0: how about: f() { nf () ; nf ; unset nf ; } ;
[07:16:07] *** Quits: rcernin (~rcernin@124.190.136.148) (Ping timeout: 256 seconds)
[07:16:45] *** Quits: arandomcomrade (~arandomco@user/arandomcomrade) (Quit: Leaving)
[07:18:50] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[07:19:29] *** Joins: jos1 (~jos3@dyndsl-091-096-035-031.ewe-ip-backbone.de)
[07:21:14] *** Joins: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[07:23:29] *** Quits: namkeleser (~namkelese@101.175.102.188) (Quit: Client closed)
[07:23:34] *** Joins: texasmynsted (~texasmyns@99.96.221.112)
[07:24:44] <texasmynsted> I have been looking for a nice bash logging library to simplify logging and logging levels. I have found a few in github but they all have issues when I run them through shellcheck
[07:24:52] <texasmynsted> Am I overthinking this?
[07:25:10] <texasmynsted> I have checked advanced bash script guide or whatever it is called.
[07:25:19] *** Quits: hqdruxn08__ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 252 seconds)
[07:25:53] <texasmynsted> I have made my own really simple logging functions... It just seems like I am trying to solve something that has been solved already by somebody with more experience with this sort of thing.
[07:27:04] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[07:28:17] *** Joins: Samus_Aran (~Samus_Ara@172.103.224.195.cable.tpia.cipherkey.com)
[07:30:39] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:30:51] <Samus_Aran> if I have a bunch of filenames in an array, how can I pass them to a command with prepended text?  ./command "${my_array[@]}" and I want "$dir/" before each one.
[07:31:45] *** Quits: sn1tch3r (~sn1tch3r@user/sn1tch3r) (Quit: Leaving)
[07:32:55] <emanuele6> ./command "${my_array/#/$dir/}"
[07:33:01] *** Quits: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft) (Ping timeout: 252 seconds)
[07:33:01] *** Quits: luva (~luva@45.141.152.44) (Ping timeout: 252 seconds)
[07:33:02] <emanuele6> err
[07:33:11] <emanuele6> ./command "${my_array[@]/#/$dir/}"
[07:33:45] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 256 seconds)
[07:34:04] *** Joins: luva (~luva@146.70.62.244)
[07:34:18] <Samus_Aran> emanuele6: thank you kindly
[07:34:46] <emanuele6> dir=/tmp my_array=(a b c); printf '<%s>' "${my_array[@]/#/$dir/}"
[07:34:52] *** Joins: kdc (~kdc@196.211.197.159)
[07:34:53] <emanuele6> # dir=/tmp my_array=(a b c); printf '<%s>' "${my_array[@]/#/$dir/}"
[07:34:53] <shbot> emanuele6: </tmp/a></tmp/b></tmp/c>
[07:34:59] <emanuele6> you are welcome
[07:35:40] <Samus_Aran> so it's doing a search and replace with // and the #bash matches the start of the line?  or how is that working?
[07:36:01] *** Quits: didi (~user@user/didi) (Ping timeout: 256 seconds)
[07:36:02] <Samus_Aran> the #
[07:36:07] <e36freak> yes
[07:36:09] <Samus_Aran> silly autocomplete.
[07:36:13] <gnoo> yeah, # from the start, % from the end
[07:36:19] <emanuele6> it is matching nothing at the start of the line with #, and it replaces it with $dir/
[07:36:21] <Samus_Aran> never seen those used that way
[07:36:31] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Ping timeout: 256 seconds)
[07:36:31] <emanuele6> for each element of my_array
[07:36:45] <e36freak> look up "Pattern substitution" in the man page
[07:37:13] <Samus_Aran> I have, I just tend to get confused with using it on an entire array.  also this time I was matching a blank, didn't get how that would work.
[07:37:17] <Samus_Aran> cheers
[07:38:31] *** Quits: luva (~luva@146.70.62.244) (Ping timeout: 252 seconds)
[07:38:45] *** Joins: luva (~luva@37.120.197.46)
[07:38:52] *** Joins: rgrinberg (~textual@187.251.13.114)
[07:39:43] *** Joins: rcernin (~rcernin@124.190.136.148)
[07:40:02] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.3)
[07:40:19] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:43:35] *** Quits: rgrinberg (~textual@187.251.13.114) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:44:16] *** Quits: EliveWeb_42 (~EliveWeb_@191.92.148.122) (Quit: Connection closed)
[07:48:57] <thebombzen> can you do ${var#foo} and ${var%bar} at the same time
[07:50:56] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[07:51:25] <e36freak> no
[07:51:49] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[07:52:04] <e36freak> use a temp variable
[07:52:30] <hejux_0> thebombzen: that is a good idea. i thought the same
[07:53:59] *** Quits: TMan459_ (~TMan459@068-113-237-069.res.spectrum.com) (Quit: ZNC 1.8.2 - https://znc.in)
[07:54:06] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:3d22:9afe:2c7:5576)
[07:58:24] *** Joins: LiftLeft (~LiftLeft@2603:9000:ec02:7dfd:4efc:71e9:13d9:b8b5)
[07:58:34] *** Joins: TMan459 (~TMan459@068-113-237-069.res.spectrum.com)
[07:58:41] *** Quits: kurahaupo_ (~kurahaupo@ppp122-115.static.internode.on.net) (Ping timeout: 252 seconds)
[07:59:03] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:3d22:9afe:2c7:5576) (Ping timeout: 252 seconds)
[07:59:26] *** Quits: LiftLeft (~LiftLeft@2603:9000:ec02:7dfd:4efc:71e9:13d9:b8b5) (Read error: Connection reset by peer)
[07:59:45] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 256 seconds)
[08:03:38] *** Quits: polve (~polve@twcitalia/polve) (Ping timeout: 252 seconds)
[08:07:59] *** Joins: polve (~polve@twcitalia/polve)
[08:08:02] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[08:08:37] *** Quits: TomyWork (~TomyLobo@p200300e80f0f2700a8a95710da765913.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[08:10:13] *** Joins: kurahaupo (~kurahaupo@ppp122-115.static.internode.on.net)
[08:11:33] *** Joins: l4yer (~l4yer@195.181.170.210)
[08:16:21] *** Joins: LiftLeft (~LiftLeft@2603:9000:ec02:7dfd:4efc:71e9:13d9:b8b5)
[08:17:16] *** Quits: LiftLeft (~LiftLeft@2603:9000:ec02:7dfd:4efc:71e9:13d9:b8b5) (Read error: Connection reset by peer)
[08:20:57] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[08:21:14] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[08:22:09] *** stoned is now known as Hash
[08:25:03] *** Joins: sonny (~sonny@bras-base-london1483w-grc-39-65-95-42-44.dsl.bell.ca)
[08:25:05] *** Quits: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 252 seconds)
[08:25:20] <sonny> Is this a safe way to handle the path? https://bpa.st/2WCQ
[08:28:16] <e36freak> you're missing a $
[08:28:42] <sonny> aside from that, does anything weird happen when it gets exported?
[08:28:50] <e36freak> no?
[08:28:59] <yitz> No
[08:29:13] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 256 seconds)
[08:38:43] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[08:39:45] *** Quits: hejux_0 (~hejux@104.224.190.144.16clouds.com) (Remote host closed the connection)
[08:40:07] *** Joins: hejux_0 (~hejux@104.224.190.144.16clouds.com)
[08:40:49] *** Joins: djp (~djp@107-179-223-174.cpe.teksavvy.com)
[08:42:44] *** Joins: karakedi (~eAC53C340@user/karakedi)
[08:42:48] *** Quits: djp (~djp@107-179-223-174.cpe.teksavvy.com) (Client Quit)
[08:43:53] *** Joins: djp (~djp@107-179-223-174.cpe.teksavvy.com)
[08:46:20] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[08:46:49] *** Joins: nickorta12 (~nickorta1@174-28-167-187.albq.qwest.net)
[08:47:54] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[08:48:30] *** Quits: sonny (~sonny@bras-base-london1483w-grc-39-65-95-42-44.dsl.bell.ca) (Ping timeout: 256 seconds)
[08:50:33] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 268 seconds)
[08:52:31] *** Quits: joerg (~saturn@user/joerg) (Ping timeout: 256 seconds)
[08:53:06] *** Joins: joerg (~saturn@user/joerg)
[08:54:13] *** Quits: nickorta12 (~nickorta1@174-28-167-187.albq.qwest.net) (Ping timeout: 256 seconds)
[09:02:05] *** Joins: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[09:05:20] *** Joins: Inline (~Inline@aftr-37-201-240-188.unity-media.net)
[09:05:28] *** Quits: Inline (~Inline@aftr-37-201-240-188.unity-media.net) (Remote host closed the connection)
[09:06:09] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 252 seconds)
[09:10:28] *** Joins: podeni (~podeni@188.27.129.74)
[09:12:16] *** Quits: hejux_0 (~hejux@104.224.190.144.16clouds.com) (Remote host closed the connection)
[09:12:36] *** Joins: hejux_0 (~hejux@104.224.190.144.16clouds.com)
[09:12:59] *** Joins: marw (4988ea31b1@knopi.disroot.org)
[09:19:14] *** Joins: xx (~xx@user/xx)
[09:20:17] *** Quits: libsys (~libsys@186.105.152.49) (Ping timeout: 256 seconds)
[09:21:21] *** Quits: randomxusr (~randomusr@c-73-242-70-183.hsd1.mn.comcast.net) (Ping timeout: 256 seconds)
[09:22:36] *** Joins: randomxusr (~randomusr@c-73-242-70-183.hsd1.mn.comcast.net)
[09:28:50] *** Joins: momonster (~mo@ip1f105454.dynamic.kabel-deutschland.de)
[09:29:46] *** Quits: JanC (~janc@user/janc) (Remote host closed the connection)
[09:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:30:03] *** Joins: JanC (~janc@user/janc)
[09:30:25] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[09:31:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[09:31:08] *** Joins: libsys (~libsys@186.105.152.49)
[09:31:16] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:31:27] *** Joins: bash-libera (~bash-libe@h216-170-204-47.hrcnut.broadband.dynamic.tds.net)
[09:32:45] *** Quits: mike18 (~geri@71-220-52-187.mpls.qwest.net) (Remote host closed the connection)
[09:32:59] <texasmynsted> There is no idiom for an associative array or dictionary object in Bash right?
[09:33:58] *** Quits: libsys (~libsys@186.105.152.49) (Read error: Connection reset by peer)
[09:34:12] *** Joins: libsys (~libsys@186.105.152.49)
[09:35:29] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[09:37:31] <emanuele6> !assoc
[09:37:31] <greybot> Associative Arrays map strings to strings (Bash 4): http://mywiki.wooledge.org/BashGuide/Arrays#Associative_Arrays
[09:38:11] <texasmynsted> nice, thank you!
[09:41:15] *** Joins: rcernin_ (~rcernin@2001:8003:6803:db00:3d22:9afe:2c7:5576)
[09:43:12] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[09:43:55] *** Quits: momonster (~mo@ip1f105454.dynamic.kabel-deutschland.de) (Ping timeout: 252 seconds)
[09:48:31] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[09:48:37] *** Quits: podeni (~podeni@188.27.129.74) (Ping timeout: 256 seconds)
[09:55:39] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Ping timeout: 252 seconds)
[09:55:50] *** Quits: rcernin_ (~rcernin@2001:8003:6803:db00:3d22:9afe:2c7:5576) (Ping timeout: 252 seconds)
[09:56:12] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[09:56:35] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[09:56:41] *** Joins: igemnace (~ian@user/igemnace)
[09:58:04] *** Joins: chomwitt (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374)
[10:02:42] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[10:03:17] *** Quits: scoobydoo (~scooby@user/scoobydoo) (Ping timeout: 256 seconds)
[10:03:23] *** Joins: scoobydoo (~scooby@user/scoobydoo)
[10:04:52] <hejux_0> abuse : https://0x0.st/-h_A.sh
[10:07:23] *** Quits: rcernin (~rcernin@124.190.136.148) (Ping timeout: 252 seconds)
[10:09:05] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[10:09:10] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[10:09:28] *** Joins: Libero (~Libero@130.43.23.56.dsl.dyn.forthnet.gr)
[10:11:15] *** Quits: whaa (~whaa@c-75-67-72-65.hsd1.ma.comcast.net) (Remote host closed the connection)
[10:11:55] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Read error: error:1408F119:SSL routines:ssl3_get_record:decryption failed or bad record mac)
[10:12:01] *** Joins: whaa (~whaa@c-75-67-72-65.hsd1.ma.comcast.net)
[10:12:20] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[10:12:23] <hejux_0> not perfect
[10:12:53] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[10:14:00] <hejux_0> but i'd like to have 0x0 support multiple args, if the arg is a file, send the content, if the arg is not a file, send the arg as text, if the arg is a picture ...
[10:14:07] <hejux_0> i'm sleepy
[10:14:42] <hejux_0> 'a file' -> 'a text file'
[10:18:17] <geirha> I'd just go with   tail -n+1 "$@" | curl -Ffile=@- https://0x0.st   if you really want to send a string, just pass it on stdin.   func <<< "the string"  you could combine it with files to   func file1 - file2  <<< "text between the files"
[10:19:11] *** Joins: rgrinberg (~textual@187.251.13.114)
[10:21:29] *** Joins: momonster (~mo@ip1f105454.dynamic.kabel-deutschland.de)
[10:25:29] *** Quits: momonster (~mo@ip1f105454.dynamic.kabel-deutschland.de) (Client Quit)
[10:25:48] *** Quits: kurahaupo (~kurahaupo@ppp122-115.static.internode.on.net) (Read error: Connection reset by peer)
[10:26:03] *** Joins: kurahaupo (~kurahaupo@ppp122-115.static.internode.on.net)
[10:26:49] *** Quits: l4yer (~l4yer@195.181.170.210) (Ping timeout: 252 seconds)
[10:33:58] *** Quits: rgrinberg (~textual@187.251.13.114) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:34:14] *** Quits: wigums (~wigums@user/wigums) (Quit: ZNC 1.7.5 - https://znc.in)
[10:34:34] *** Joins: wigums (~wigums@user/wigums)
[10:38:22] <hejux_0> geirha: tail -n+1 same as less?
[10:38:47] <hejux_0> and same as cat file
[10:38:57] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[10:39:06] *** Joins: smeeagle (~smeeagle@2a00:23c8:9611:e600:808e:8d9b:579e:330f)
[10:40:11] <hejux_0> cat "$@" | curl <<< "string"
[10:41:26] <geirha> similar to cat, but prints a header for each filename when there are more than one file
[10:41:28] *** Quits: Samus_Aran (~Samus_Ara@172.103.224.195.cable.tpia.cipherkey.com) (Quit: night)
[10:41:30] <geirha> It's a GNU/BSD-ism
[10:42:25] <geirha> # printf one > foo; printf two > bar; tail -n+1 foo bar
[10:42:27] <shbot> geirha: ==> foo <==
[10:42:27] <shbot> geirha: one
[10:42:27] <shbot> geirha: etc... ( http://ix.io/3GQC )
[10:43:30] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[10:46:24] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[10:47:15] *** Quits: fatal (~0x00@user/fatal) (Remote host closed the connection)
[10:47:32] *** Joins: fatal (~0x00@user/fatal)
[10:53:10] *** Quits: djp (~djp@107-179-223-174.cpe.teksavvy.com) (Ping timeout: 256 seconds)
[10:54:23] *** Joins: vishal (~vishal@fedora/vishal)
[10:57:26] *** Joins: podeni (~podeni@95.77.239.140)
[10:57:30] *** Joins: dreamon (~dreamon@ppp-88-217-67-53.dynamic.mnet-online.de)
[10:59:11] *** Joins: rgrinberg (~textual@187.251.13.114)
[11:04:33] *** Quits: kurahaupo (~kurahaupo@ppp122-115.static.internode.on.net) (Ping timeout: 256 seconds)
[11:06:36] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[11:06:45] *** Quits: podeni (~podeni@95.77.239.140) (Ping timeout: 256 seconds)
[11:06:45] *** Quits: randomxusr (~randomusr@c-73-242-70-183.hsd1.mn.comcast.net) (Ping timeout: 256 seconds)
[11:08:27] *** Quits: wigums (~wigums@user/wigums) (Ping timeout: 256 seconds)
[11:09:11] *** Quits: rgrinberg (~textual@187.251.13.114) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:11:44] *** Joins: randomxusr (~randomusr@c-73-242-70-183.hsd1.mn.comcast.net)
[11:11:55] *** Joins: wigums (~wigums@user/wigums)
[11:14:46] *** Joins: martinus__ (~martin@96.19.201.77.rev.sfr.net)
[11:15:19] *** Quits: ejjdhfjsu (~ejjdhfjsu@cmcust2a-84.174.nulinkdigital.com) (Ping timeout: 256 seconds)
[11:15:46] *** Joins: zenobit (~zen@88.103.31.15)
[11:15:48] *** Quits: zenobit (~zen@88.103.31.15) (Max SendQ exceeded)
[11:16:14] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Read error: error:1408F119:SSL routines:ssl3_get_record:decryption failed or bad record mac)
[11:16:33] <bash-libera> Best way to check if a directory exists before continuing?
[11:16:36] *** Joins: zenobit (~zen@88.103.31.15)
[11:16:39] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[11:17:29] <bash-libera> I was thinking this cd "$appdir" || { echo "Please create the appdir and try again" >&2; exit 1; }
[11:20:14] <lockywolf> how does the "lastpipe" shell option actually work?
[11:20:44] <lockywolf> I thought that it should make the following possible: shopt -s lastpipe ; echo test | readarray test1 ; echo ${test1[@]}
[11:21:00] <lockywolf> apparently not?
[11:22:38] *** Quits: kill (~killown@user/killown) (Quit: Leaving)
[11:23:06] *** Joins: rendar (~rendar@user/rendar)
[11:24:52] *** Joins: arinov (~arinov@213.194.126.155)
[11:26:59] *** Quits: randomxusr (~randomusr@c-73-242-70-183.hsd1.mn.comcast.net) (Quit: Leaving)
[11:31:04] *** Quits: BSaboia (~bsaboia@177.37.198.35) (Quit: This computer has gone to sleep)
[11:32:08] *** Joins: tobybl (~tobybl@213.31.134.21)
[11:36:20] <hejux_0> bash-libera: mkdir -p
[11:36:51] *** Quits: richardm75 (~richardm7@2600:8801:c507:b200:708a:bce8:8c8f:fddf) (Ping timeout: 252 seconds)
[11:37:02] <hejux_0> or [[ -d
[11:37:16] *** Joins: n4dir (~user@i5E86C563.versanet.de)
[11:38:49] <bash-libera> Thanks
[11:39:03] <hejux_0> just mkdir -p dir // if dir is there mkdir does nothing  if not create
[11:39:05] *** Joins: tex (~super@user/dix)
[11:39:35] <bash-libera> There was a command that was ran which showed the propery way to make sure your history is setup properly in your bashrc / bash_profile, anyone know what is was ?
[11:40:06] <hejux_0> with mkdir you do not need echo ....
[11:40:09] *** Joins: kurahaupo (~kurahaupo@ppp122-115.static.internode.on.net)
[11:41:38] <hejux_0> bash-libera:echo $HISTFILE
[11:43:49] <hejux_0> # HISTFILE=./test ; echo something > /dev/null ; history
[11:43:50] <shbot> hejux_0:     1  HISTFILE=./test ; echo something > /dev/null ; history
[11:44:11] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.3)
[11:44:37] <hejux_0> # HISTFILE=./test ; echo something > /dev/null ; cat ./test
[11:44:38] <shbot> hejux_0: cat: cannot open ./test: No such file or directory
[11:44:49] <xx> bash-libera: [[ -d $dir ]] is the right way of testing if that path is a directory
[11:45:42] <hejux_0> cat ./test
[11:45:54] <hejux_0> # cat ./test
[11:45:55] <shbot> hejux_0: cat: cannot open ./test: No such file or directory
[11:46:01] <hejux_0> why?
[11:46:08] <xx> hejux_0: why what?
[11:46:15] <Soliton> lockywolf: you need to disable monitor mode.
[11:46:54] *** Quits: mongrel (uid508343@id-508343.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[11:48:11] <hejux_0> # export HISTFILE=./test ; echo something > /dev/null ; cat ./test
[11:48:12] <shbot> hejux_0: cat: cannot open ./test: No such file or directory
[11:48:35] <hejux_0> # h
[11:48:36] <shbot> hejux_0: bash: h: command not found
[11:51:06] <xx> # export HISTFILE=./test ; echo something > /dev/null ; history -w; cat ./test
[11:51:07] <shbot> xx: export HISTFILE=./test ; echo something > /dev/null ; history -w; cat ./test
[11:51:29] <xx> what is it you're trying to do?
[11:51:30] *** Quits: smeeagle (~smeeagle@2a00:23c8:9611:e600:808e:8d9b:579e:330f) (Quit: smeeagle)
[11:58:07] *** Quits: wigums (~wigums@user/wigums) (Ping timeout: 252 seconds)
[11:58:07] *** Quits: quazimodo (~quazimodo@n1-41-223-188.bla2.nsw.optusnet.com.au) (Ping timeout: 252 seconds)
[11:59:03] *** Joins: wigums (~wigums@user/wigums)
[11:59:42] <lockywolf> What does M-p do in bash with readline?
[11:59:51] <hejux_0> xx: yours was right. history -w
[12:00:50] <hejux_0> xx: does bash right history file in real time
[12:00:57] <hejux_0> realtime
[12:01:12] <xx> by default it only writes it out to the history file on exit
[12:01:22] <xx> so you need to run `history -w` if you want to write it out before that
[12:04:39] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:9d7:d8f:4ee:f163)
[12:06:03] *** Quits: tex (~super@user/dix) (Quit: tex)
[12:06:45] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[12:06:58] *** Joins: smeeagle (~smeeagle@2a00:23c8:9611:e600:808e:8d9b:579e:330f)
[12:08:24] *** Joins: ExeciN (~ExeciN@user/nicexe)
[12:08:56] *** Joins: vysn (~vysn@user/vysn)
[12:12:23] *** Joins: tex (~super@user/dix)
[12:12:51] *** Quits: LuksNuke_ (~LuksNuke@gateway/tor-sasl/luksnuke) (Remote host closed the connection)
[12:13:12] *** Joins: LuksNuke_ (~LuksNuke@gateway/tor-sasl/luksnuke)
[12:13:41] *** Quits: af (~af@awalgarg.me) (Ping timeout: 256 seconds)
[12:14:03] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:9d7:d8f:4ee:f163) (Ping timeout: 268 seconds)
[12:14:19] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[12:16:31] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[12:18:03] *** Quits: mozgalom (~mozgalom@194.144.47.113) (Client Quit)
[12:18:38] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[12:19:31] *** Quits: smeeagle (~smeeagle@2a00:23c8:9611:e600:808e:8d9b:579e:330f) (Quit: smeeagle)
[12:20:50] <bash-libera> hey I want to look at the logs of this channel to see what information i'm looking for that someone told me last night, how would i do that?
[12:21:13] <llua> a: log the channel b: ask someone that does
[12:22:12] <bash-libera> Does anyone currently know anyone who logs the channel, or log it themselves? Let me know, I would really appreciate it :)
[12:23:26] <bash-libera> I'm looking for 12-1 around 9pm to 12-2-2021 around 3am
[12:27:03] *** Joins: seninha (~seninha@user/seninha)
[12:27:42] *** Joins: smeeagle (~smeeagle@2a00:23c8:9611:e600:808e:8d9b:579e:330f)
[12:28:38] *** Quits: smeeagle (~smeeagle@2a00:23c8:9611:e600:808e:8d9b:579e:330f) (Client Quit)
[12:28:39] *** Joins: azidhaka (~azidhaka@user/azidhaka)
[12:28:55] *** Quits: dermoth (~dermoth@user/dermoth) (Ping timeout: 252 seconds)
[12:31:16] *** Quits: tobybl (~tobybl@213.31.134.21) (Remote host closed the connection)
[12:31:22] <bash-libera> Ok since my question wasn't making sense this is what I was looking for https://unix.stackexchange.com/questions/1288/preserve-bash-history-in-multiple-terminal-windows
[12:31:47] *** Joins: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl)
[12:31:47] *** Joins: TomyWork (~TomyLobo@p200300e80f0f2700110ab689aaf6b6d7.dip0.t-ipconnect.de)
[12:31:49] *** Joins: shad (~shad@user/shad)
[12:35:01] *** Quits: itachi19 (~itachi19@46.232.210.60) (Quit: The Lounge - https://thelounge.chat)
[12:35:27] *** Joins: itachi19 (~itachi19@46.232.210.60)
[12:36:18] *** Joins: lavaball (felix@31.204.155.215)
[12:38:27] <bob_x2> btw bash manual page glossary has not so many terms . just ~20
[12:39:21] *** Joins: earnest (~earnest@user/earnestly)
[12:39:57] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 268 seconds)
[12:41:10] *** Joins: dermoth (~dermoth@user/dermoth)
[12:43:01] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[12:49:45] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[12:50:14] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Read error: Connection reset by peer)
[12:51:35] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[12:52:07] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[12:53:39] *** Joins: af (~af@awalgarg.me)
[12:54:01] *** Joins: shad (~shad@user/shad)
[12:56:13] *** Joins: bbju (~bbju@103.144.148.218)
[12:58:15] *** Joins: tobybl (~tobybl@213.31.134.21)
[12:58:26] <bbju> Hi, guys! If I have `alias ls='ls --color=auto'` and `alias ll='ls -alF'`, does `ll` expand to `ls -alF --color=auto`?
[13:02:53] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.3)
[13:03:35] <earnest> There's no way to find out
[13:03:44] <Soliton> # bash -O expand_aliases -c $'alias ls="ls --color=auto"; alias ll="ls -alF"; set -x\nll'
[13:03:50] <shbot> Soliton: + ls --color=auto -alF
[13:03:50] <shbot> Soliton: total 8
[13:03:50] <shbot> Soliton: etc... ( http://ix.io/3GRo )
[13:05:32] <bbju> Soliton: Thanks!
[13:09:13] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 256 seconds)
[13:11:26] *** Quits: bbju (~bbju@103.144.148.218) (Ping timeout: 256 seconds)
[13:11:37] *** Joins: kiryin (~kiryin@nh2zmlaepkj8hom7z-3.v6.elisa-mobile.fi)
[13:13:09] *** Quits: fatal (~0x00@user/fatal) (Ping timeout: 276 seconds)
[13:13:24] *** Joins: bbju (~bbju@203-69-187-76.hinet-ip.hinet.net)
[13:13:56] *** Quits: bbju (~bbju@203-69-187-76.hinet-ip.hinet.net) (Client Quit)
[13:14:58] *** Joins: fatal (~0x00@user/fatal)
[13:24:13] *** Quits: tobybl (~tobybl@213.31.134.21) (Remote host closed the connection)
[13:26:25] *** Joins: arinov (~arinov@178.240.181.140)
[13:27:12] *** Quits: jaskal (jaskal@user/jaskal) (Quit: Lost terminal)
[13:28:19] *** Quits: cm315 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 252 seconds)
[13:30:23] *** Quits: flower_ (~debian@217-123-218-6.cable.dynamic.v4.ziggo.nl) (Remote host closed the connection)
[13:31:20] *** Joins: jaskal (jaskal@user/jaskal)
[13:35:15] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbfb-173.dhcp.inet.fi)
[13:36:45] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 252 seconds)
[13:36:50] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[13:38:49] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[13:39:40] *** Lord_of_Life_ is now known as Lord_of_Life
[13:41:12] <Mmike> Hi, all. What is '-ef' for string comparison in bash. I have this: if [[ "${BASH_SOURCE[0]}" -ef "$0" ]];
[13:41:18] <Mmike> can't seem to find -ef in docs
[13:42:29] <Mmike> `files f1 and f2 are hard links to the same file`
[13:42:32] <Mmike> ok, got it :)
[13:48:14] <azidhaka> Hi everyone, what is the best way to check if curl/wget/etc downloaded a file successfully before moving it over existing file?
[13:48:26] <azidhaka> can i count on exit codes?
[13:50:17] <Soliton> if you can't what else are you going to do?
[13:50:20] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Read error: Connection reset by peer)
[13:52:03] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[13:52:37] <azidhaka> Soliton: i was wondering if various http error codes could be counted as 'success'
[13:53:45] <Soliton> a status of 200 usually means success.
[13:54:04] <Soliton> none of this is related to the shell, btw.
[13:54:13] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[13:54:37] <azidhaka> Soliton: yes, sorry
[13:54:38] <Soliton> if you don't trust those programs or the webserver then you need to work that out.
[13:55:33] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Remote host closed the connection)
[13:56:18] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[13:59:40] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[14:01:19] *** Quits: wamph (~wamph@ely0-08-b2-v4wan-162739-cust191.vm43.cable.virginm.net) (Ping timeout: 252 seconds)
[14:01:31] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[14:05:53] *** Quits: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net) (Ping timeout: 256 seconds)
[14:06:52] *** Joins: igemnace (~ian@user/igemnace)
[14:07:24] *** Quits: koollman (samson_t@user/koollman) (Quit: leaving)
[14:08:38] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[14:09:52] *** Joins: ano (~ano@user/ano)
[14:12:00] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[14:12:57] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[14:13:22] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[14:15:14] <rendar> best way to get the last printed line?
[14:15:30] <rendar> tail -1, i guess?
[14:15:34] <phogg> tail -n 1
[14:15:40] <rendar> ok, thanks
[14:15:54] <phogg> and I wouldn't say "best", but definitely the most common
[14:16:53] <rendar> phogg, and which method you would define best?
[14:17:12] <phogg> there is no best, there is only the best in the context of what you are doing (and what you are trying to optimize for)
[14:19:33] *** Parts: GNUHacker (~foobar@fsf/member/GNUHacker) (https://gnu.org)
[14:19:39] *** Joins: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net)
[14:20:20] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.3)
[14:22:02] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 252 seconds)
[14:24:40] *** Quits: chomwitt (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374) (Remote host closed the connection)
[14:24:59] *** Joins: chomwitt (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374)
[14:28:13] *** Quits: kyr (~kyr@167.71.50.12) (Quit: Lost terminal)
[14:28:19] <rendar> phogg, i see thanks
[14:28:30] <rendar> and what about getting all the lines, except the last 2?
[14:28:32] *** Joins: kyr (~kyr@167.71.50.12)
[14:29:39] *** Quits: m4n__ (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de) (Read error: Connection reset by peer)
[14:30:04] *** Joins: m4n__ (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de)
[14:30:50] *** Joins: tobybl (~tobybl@213.31.134.21)
[14:31:49] <phogg> rendar: that's the hardest thing to do with standard shell tools
[14:32:12] <phogg> the easiest ways I know require either reading the file twice or retaining it all in memory
[14:32:28] <rendar> i see
[14:32:35] <rendar> let's see if i can revert the order and use head -n 2
[14:32:50] <phogg> rendar: try tac
[14:33:02] <rendar> ok
[14:33:12] <phogg> this is still "reading the file twice" but might be efficient enough for you
[14:33:34] *** Quits: igemnace (~ian@user/igemnace) (Remote host closed the connection)
[14:33:36] *** Joins: ExeciN (~ExeciN@user/nicexe)
[14:37:27] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[14:38:07] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[14:40:46] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[14:41:33] *** Quits: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net) (Read error: error:1408F119:SSL routines:ssl3_get_record:decryption failed or bad record mac)
[14:41:59] *** Joins: zaden (~maddx@c-73-92-207-228.hsd1.ca.comcast.net)
[14:46:10] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[14:48:50] *** Joins: namkeleser (~namkelese@101.175.102.188)
[14:51:41] *** Joins: timj (~timj@user/timj)
[14:51:47] <rendar> can i generate some random string or numbers with bash itself?
[14:51:51] <rendar> without external commands?
[14:52:18] <Riviera> rendar: what happened when you were searching for random in the manpage?
[14:52:32] <Riviera> (also you can implement a prng in bash, so yeah, in any case.)
[14:52:36] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[14:53:48] *** Quits: hejux_0 (~hejux@104.224.190.144.16clouds.com) (Remote host closed the connection)
[14:53:50] <rendar> Riviera, happened that man opened the page of random(3)
[14:53:54] <rendar> the C function
[14:54:07] <Riviera> rendar: the manpage of bash.
[14:54:08] *** Joins: hejux_0 (~hejux@104.224.190.144.16clouds.com)
[14:55:07] *** Quits: downtrip (~downtrip@188.166.151.198) (Quit: WeeChat 3.3)
[14:57:44] *** Joins: downtrip (~downtrip@188.166.151.198)
[14:57:54] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[14:59:46] *** Joins: drd (~drd@93-42-69-115.ip85.fastwebnet.it)
[15:02:18] *** Joins: igemnace (~ian@user/igemnace)
[15:02:55] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 252 seconds)
[15:03:39] *** Quits: anaveragehuman (~anaverage@user/anaveragehuman) (Ping timeout: 276 seconds)
[15:06:45] *** Joins: BSaboia (~bsaboia@187.18.140.125)
[15:12:37] *** Joins: Trieste_ (T@user/pilgrim)
[15:13:11] *** Quits: Trieste (T@user/pilgrim) (Ping timeout: 252 seconds)
[15:13:51] *** Joins: anaveragehuman (~anaverage@user/anaveragehuman)
[15:14:00] *** Joins: legola (~legola@46.235.101.65)
[15:16:00] *** Trieste_ is now known as Trieste
[15:16:19] *** Quits: lux0r (~lux0r@65.56.68.34.bc.googleusercontent.com) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[15:17:57] *** Quits: mixfix41 (~homefame@user/mixfix41) (Read error: Connection reset by peer)
[15:22:25] *** Joins: seninha (~seninha@user/seninha)
[15:23:01] *** Joins: didi (~user@user/didi)
[15:27:19] *** Joins: Fauto_ (~dante@gateway/tor-sasl/filohuhum)
[15:27:37] *** Joins: lux0r (~lux0r@65.56.68.34.bc.googleusercontent.com)
[15:29:13] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Remote host closed the connection)
[15:29:34] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[15:29:40] *** Joins: lavaball (felix@31.204.155.215)
[15:30:04] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[15:31:09] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 252 seconds)
[15:31:35] *** Joins: furrymcgee (~devuan@cgn-89-1-209-182.nc.de)
[15:32:31] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 256 seconds)
[15:33:00] *** Joins: kurahaupo_ (~kurahaupo@pa49-180-186-164.pa.nsw.optusnet.com.au)
[15:33:05] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[15:33:43] *** Quits: kurahaupo (~kurahaupo@ppp122-115.static.internode.on.net) (Ping timeout: 252 seconds)
[15:35:33] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[15:37:01] *** Quits: shad (~shad@user/shad) (Ping timeout: 252 seconds)
[15:37:51] *** Joins: testuser321 (~wandering@115.187.42.29)
[15:39:34] *** Quits: kdc (~kdc@196.211.197.159) (Quit: Leaving)
[15:40:33] *** Joins: tessio (~weechat@141.226.73.109)
[15:40:43] *** Quits: testuser321 (~wandering@115.187.42.29) (Remote host closed the connection)
[15:41:12] *** Joins: testuser321 (~wandering@223.191.54.228)
[15:42:58] *** Joins: koollman (samson_t@sp1.kooll.org)
[15:43:43] *** Quits: rendar (~rendar@user/rendar) (Ping timeout: 268 seconds)
[15:43:51] *** Quits: cornfeedhobo (~cornfeedh@user/cornfeedhobo) (Quit: ZNC - https://znc.in)
[15:44:00] *** Quits: koollman (samson_t@sp1.kooll.org) (Changing host)
[15:44:00] *** Joins: koollman (samson_t@user/koollman)
[15:47:50] *** Joins: ExeciN (~ExeciN@user/nicexe)
[15:47:57] *** Quits: BSaboia (~bsaboia@187.18.140.125) (Quit: This computer has gone to sleep)
[15:50:12] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[15:51:06] *** Joins: cornfeedhobo (~cornfeedh@user/cornfeedhobo)
[15:51:15] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[15:52:21] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 268 seconds)
[15:55:19] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[15:55:21] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[15:56:06] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[15:56:32] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[15:58:44] *** Quits: bash-libera (~bash-libe@h216-170-204-47.hrcnut.broadband.dynamic.tds.net) (Quit: Leaving...)
[16:00:17] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Client Quit)
[16:00:49] *** Joins: kdc (~kdc@196.211.197.159)
[16:02:17] *** Joins: aliosablack (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374)
[16:02:48] *** Quits: chomwitt (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374) (Read error: Connection reset by peer)
[16:03:31] *** Joins: paulgrmn__ (~paulgrmn@user/paulgrmn)
[16:05:18] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 268 seconds)
[16:07:49] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[16:08:06] *** Joins: alzgh (~alzgh@user/alzgh)
[16:09:36] *** Quits: tobybl (~tobybl@213.31.134.21) (Remote host closed the connection)
[16:10:41] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[16:10:48] *** Joins: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf)
[16:13:44] *** Joins: sn1tch3r (~sn1tch3r@user/sn1tch3r)
[16:15:06] *** Quits: sn1tch3r (~sn1tch3r@user/sn1tch3r) (Client Quit)
[16:17:45] *** Quits: n4dir (~user@i5E86C563.versanet.de) (Remote host closed the connection)
[16:18:05] *** Quits: drd (~drd@93-42-69-115.ip85.fastwebnet.it) (Ping timeout: 252 seconds)
[16:26:49] *** Joins: tobybl (~tobybl@213.31.134.21)
[16:29:36] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Remote host closed the connection)
[16:29:38] *** Quits: tessio (~weechat@141.226.73.109) (Quit: WeeChat 3.2)
[16:29:51] *** Joins: l4yer (~l4yer@195.181.170.210)
[16:29:51] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[16:29:54] *** Quits: dre (~dre@2001:8003:c932:c301:8916:3a5f:8275:217d) (Quit: Leaving)
[16:30:03] *** Joins: shad (~shad@user/shad)
[16:30:46] *** Quits: hejux_0 (~hejux@104.224.190.144.16clouds.com) (Remote host closed the connection)
[16:30:48] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[16:31:06] *** Joins: hejux_0 (~hejux@104.224.190.144.16clouds.com)
[16:31:37] *** Joins: zeden (~zeden@user/zeden)
[16:32:35] *** Quits: tobybl (~tobybl@213.31.134.21) (Remote host closed the connection)
[16:37:10] *** Joins: riv (river@tilde.team/user/river)
[16:37:20] *** Quits: aliosablack (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374) (Ping timeout: 252 seconds)
[16:38:18] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[16:38:32] <riv> can anyone help me fix my script https://gist.github.com/rust-play/921d1232434527f03d0b32e563f9cc08 I want to start child processes, one of them "wins" and becomes a shell and all the other children should die - i don't really know how to do it. problem is the winner is still in bg so i cant use its shell
[16:39:48] <emanuele6> !check
[16:39:49] <checkbot> riv: Line 32: read without -r will mangle backslashes. Line 4: $/${} is unnecessary on arithmetic variables. Line 33: Double quote to prevent globbing and word splitting. See https://shellcheck.net/?id=cb36989
[16:40:05] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 252 seconds)
[16:41:04] *** Quits: mozgalom (~mozgalom@194.144.47.113) (Quit: SO LONG SUCKERS!)
[16:41:08] <emanuele6> riv: fg takes a job spec, not a pid
[16:41:28] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[16:42:03] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[16:42:17] *** Quits: arinov (~arinov@178.240.181.140) (Ping timeout: 252 seconds)
[16:43:46] <emanuele6> also $$ is the ppid, not the pid of the child
[16:43:51] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[16:44:06] <emanuele6> so even if fg accepted pids, it would not have worked
[16:44:18] *** Joins: BSaboia (~bsaboia@187.18.140.125)
[16:46:37] <hejux_0> this looks like assemble lang
[16:46:46] <Soliton> are you expecting the background subshell to hang around?
[16:47:28] <riv> in my terminal I run the script and then i want to use the shell inside the winning child process
[16:48:02] *** Joins: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is)
[16:48:09] <Soliton> # bash -c 'echo $$' &
[16:48:10] <shbot> Soliton: [1] 51
[16:48:15] <Soliton> # bash -c 'echo $$' & wait
[16:48:16] <shbot> Soliton: [1] 51
[16:48:16] <shbot> Soliton: 51
[16:48:16] <shbot> Soliton: [1]+  Done                    bash -c 'echo $$'
[16:48:49] <Soliton> you could use exec if you're unsure but pretty surely $$ is the right pid.
[16:48:50] *** Joins: m4n_ (~emacs@dynamic-046-114-035-036.46.114.pool.telefonica.de)
[16:49:23] <riv> i dont mind completely restructuring my code if there is a good way to do this
[16:49:28] <selckin> bash &; fg %1; at least seems to work
[16:49:38] <emanuele6> # sleep 3 & fg 51
[16:49:39] <shbot> emanuele6: [1] 51
[16:49:39] <shbot> emanuele6: bash: fg: 51: no such job
[16:49:44] <emanuele6> # sleep 3 & fg 1
[16:49:48] <shbot> emanuele6: [1] 51
[16:49:48] <shbot> emanuele6: sleep 3
[16:49:49] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[16:49:52] <Soliton> remember pid and job number and use that.
[16:50:08] <emanuele6> fg wants a job spec (e.g. the job id), not the pid of the child process
[16:50:11] *** Quits: BSaboia (~bsaboia@187.18.140.125) (Quit: This computer has gone to sleep)
[16:50:24] <riv> can child know their own job spec, so that they can communicate it over the FIFO?
[16:50:27] <emanuele6> # { echo "$$" ;
[16:50:31] <emanuele6> oops
[16:50:33] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[16:50:33] <shbot> emanuele6: Missing terminating quote, bracket or keyword
[16:50:49] <emanuele6> # { echo "$$" ;} & echo "$$"
[16:50:50] <shbot> emanuele6: [1] 51
[16:50:50] <shbot> emanuele6: 44
[16:50:50] <shbot> emanuele6: 44
[16:50:51] <Soliton> the parent knows. but you could also hand it over i suppose.
[16:51:07] <riv> i guess parent has to maintain a mapping from child pid to child job spec then
[16:51:08] <emanuele6> and what you are sending through the pipe is the ppid, not the pid of the child process
[16:51:15] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[16:51:22] <emanuele6> if you want the pid of the child, you need to use BASH_PID
[16:51:24] <Soliton> non-sense
[16:51:31] <emanuele6> # { echo "$BASH_PID" ;} & echo "$$"
[16:51:32] <shbot> emanuele6: [1] 51
[16:51:32] <shbot> emanuele6: 44
[16:51:33] <Soliton> there are no subshells involved.
[16:51:41] <Soliton> you can use exec if you're worried.
[16:51:49] <emanuele6> background processes are run in a subshell
[16:51:57] <riv> i changed it from using a function to invoking the whole script again, to avoid the BASHPID thing
[16:51:57] <emanuele6> and achild sends $$ through a pipe
[16:51:58] <Soliton> they run bash in the background.
[16:52:19] *** Joins: chomwitt (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374)
[16:52:31] <Soliton> and bash will do exec automatically but as mentioned a couple of times now you can make it explicit if you want.
[16:52:33] *** Quits: m4n__ (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de) (Ping timeout: 252 seconds)
[16:53:14] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[16:54:44] <emanuele6> oh, i see
[16:55:07] <riv> so after I do bash ok.sh FIFO &  I need to do ${jobtable[$childpid]}=$jobspec
[16:55:09] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7) (Quit: enoq)
[16:55:41] <Soliton> jobtable[$childpid]}=$jobspec
[16:55:45] <Soliton> jobtable[$childpid]=$jobspec
[16:56:18] <riv> how do I in the parent get $jobspec and $childpid?
[16:56:34] <Soliton> pid is $!
[16:56:44] <Soliton> jobspec you just count up?
[16:57:12] <riv> ah okay
[16:57:14] <riv> smart
[16:58:31] <emanuele6> or you could kill all jobs but the one you want to keep
[16:58:36] <emanuele6> and use %-
[16:58:37] <riv> i would like to do that
[16:58:43] <riv> is taht kill with negative pid
[16:59:29] <emanuele6> no, %- is "the previous job"
[16:59:30] *** Parts: didi (~user@user/didi) (O bella ciao bella ciao bella ciao, ciao, ciao.)
[16:59:52] <emanuele6> and "If there is only a single job, %+ and %- can both be used to refer to that job."
[17:00:18] <riv> this seems like a nice solution because i can avoid an associative array
[17:01:01] <riv> my attempt is not working though
[17:01:23] <riv> https://gist.github.com/rust-play/55d1220043f9a15394ce54c28e225bb0
[17:01:39] <Soliton> how are you not needing the array?
[17:01:41] <riv> it seems all jobs continue to run, and i dont fg shells
[17:01:52] *** Joins: BSaboia (~bsaboia@187.18.140.125)
[17:01:53] <emanuele6> !-e > riv
[17:01:53] <greybot> riv: "set -e" is an inheritance of the old bourne shell, and doesn't really work well with modern shell features. You'll really have less buggy scripts if you do the error handling manually instead of relying on the unreliable "set -e"; see http://mywiki.wooledge.org/BashFAQ/105
[17:02:06] <riv> since we (try to) kill all children, there should only be 1 job left over
[17:02:19] <riv> ty
[17:02:28] <Soliton> and how do you kill all children but the one you want?
[17:02:41] <riv> i tried kill -9 -$pid but that does not do it
[17:03:06] <Soliton> apart from the rude -9 no idea what that should do.
[17:03:22] <riv> I thought when you put negative it kills all children except the specified one
[17:03:35] <emanuele6> that is not how it works
[17:03:51] <riv> ok
[17:03:58] <emanuele6> - kills $pid and all of its children
[17:04:05] <riv> ill write a loop
[17:04:13] <emanuele6> and -9 is says to use SIGKILL which is clearly not needed here
[17:04:32] <emanuele6> and -9 is generally a very bad signal to send
[17:04:39] *** Quits: roadie (~user@2a02:8108:ec0:1427:884b:cb04:c0b3:35cf) (Ping timeout: 252 seconds)
[17:04:49] <riv> i always use -9 to kill
[17:05:12] <emanuele6> for what reason?
[17:05:23] <Soliton> !-9
[17:05:23] <greybot> Do NOT use SIGKILL (kill -9) to terminate processes. All processes will terminate in response to the default SIGTERM. If they don't terminate instantly, that's because they're busy cleaning up. If you interrupt them, you break them. See http://stackoverflow.com/a/690631/347411 and http://turnoff.us/geek/dont-sigkill/
[17:05:38] <emanuele6> is SIGTERM *always* not good enough for you? you *always* need SIGKILL?
[17:06:09] <Soliton> i'm also not sure what the INT TERM trap should do.
[17:06:37] <emanuele6> anyway, that set-e, might be causing your script to fail unexpectedly
[17:06:38] <riv> the traps dont really help, i wanted all children to die when the parent dies, but i dont know the right way to do it
[17:06:51] <riv> pgrep ok.sh | grep -v $it | xargs kill, seems to work for killing all children except one
[17:07:03] <Soliton> oh boy
[17:07:07] <riv> i still can't fg though
[17:07:43] <emanuele6> you know that that . is "any character" right?
[17:07:50] <emanuele6> in ok.sh
[17:07:56] <riv> haha
[17:09:04] <emanuele6> anyway, just use: jobs -p | while read -r; do [[ $REPLY != $pid ]] && kill "$REPLY"; done
[17:09:39] <emanuele6> or, if you must use grep|xargs kill for homework: jobs -p | grep -vFe "$pid" | xargs kill
[17:09:52] <riv> your way is nicer thanks
[17:10:31] <riv> oh that seems to actually put me in the child shell too
[17:11:39] <riv> tyvm!!
[17:14:07] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[17:14:12] <emanuele6> anyway, you should realise that in `pgrep ok.sh', ok.sh is a regex
[17:15:41] <emanuele6> that matches `block.shell', `ok.sh', `okashi', `blok_should_not_be_killed', etc
[17:15:44] <emanuele6> just like grep
[17:15:46] <Soliton> there is no reason to try to find the right processes by name in the first place. they are related processes. you have their pid.
[17:15:58] *** Quits: BSaboia (~bsaboia@187.18.140.125) (Quit: This computer has gone to sleep)
[17:17:44] <emanuele6> yes, bash can give you the pids of all the current jobs with jobs -p
[17:18:31] <emanuele6> or in general, you could have used `pgrep -P "$$"' without using any regex that matches the process name. since you know the pid of their parent
[17:18:42] <riv> cool!
[17:20:50] *** Joins: BSaboia (~bsaboia@187.18.140.125)
[17:21:04] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[17:25:25] <Soliton> i would switch to BASHPID and call the child function directly, btw. calling bash just seems like an unecessary complication.
[17:25:40] <riv> yes I suppose I could do that now that it's working
[17:25:42] <riv> good idea
[17:25:55] *** Joins: roadie (~user@2a02:8108:ec0:1427:9c8:430b:1f21:a60)
[17:28:10] *** Joins: Guest36_ (~textual@net-93-146-151-115.cust.vodafonedsl.it)
[17:34:11] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[17:35:39] *** Joins: aliosablack (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374)
[17:36:07] *** Quits: chomwitt (~chomwitt@2a02:587:dc0d:6d00:12c3:7bff:fe6d:d374) (Read error: Connection reset by peer)
[17:39:58] *** Quits: son0p (~ff@181.136.122.143) (Remote host closed the connection)
[17:41:08] *** Joins: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft)
[17:41:13] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 256 seconds)
[17:43:02] *** Joins: DaNeenjah (~jake@adsl-74-230-8-177.hsv.bellsouth.net)
[17:43:23] *** Joins: roadie` (~user@2a02:8108:ec0:1427:9c8:430b:1f21:a60)
[17:43:32] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[17:45:38] *** Joins: arinov (~arinov@178.240.181.140)
[17:46:05] *** Quits: roadie (~user@2a02:8108:ec0:1427:9c8:430b:1f21:a60) (Ping timeout: 252 seconds)
[17:49:54] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: see you later)
[17:52:20] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:55:19] *** Quits: arinov (~arinov@178.240.181.140) (Ping timeout: 256 seconds)
[17:55:53] *** Quits: Namarrgon (~Namarrgon@archlinux/op/Namarrgon) (Ping timeout: 256 seconds)
[17:56:59] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Read error: Connection reset by peer)
[17:59:18] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[18:03:21] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[18:05:19] *** Quits: Feuermagier_ (~Feuermagi@2a02:2488:4211:3400:b6fd:ec18:acf6:f1a8) (Quit: Leaving)
[18:05:32] *** Joins: Feuermagier (~Feuermagi@user/feuermagier)
[18:07:47] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 256 seconds)
[18:10:14] *** Quits: Libero (~Libero@130.43.23.56.dsl.dyn.forthnet.gr) (Read error: Connection reset by peer)
[18:10:31] *** Quits: timj (~timj@user/timj) (Quit: Leaving.)
[18:12:19] *** Quits: loworderbit (~dave@S0106e81cba1736ea.ss.shawcable.net) (Quit: leaving)
[18:12:24] *** Joins: smeeagle (~smeeagle@2a00:23c8:9611:e600:808e:8d9b:579e:330f)
[18:13:44] *** Joins: loworderbit (~dave@S0106e81cba1736ea.ss.shawcable.net)
[18:13:51] *** Joins: zebrag (~chris@user/zebrag)
[18:14:39] *** Joins: zro (~zro@user/zro)
[18:14:50] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[18:16:42] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Quit: see you later)
[18:20:57] *** Joins: rendar (~rendar@user/rendar)
[18:21:44] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[18:22:32] *** Joins: arinov (~arinov@212.156.215.30)
[18:23:18] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[18:25:14] *** Joins: alzgh (~alzgh@user/alzgh)
[18:25:44] *** Joins: Libero (~Libero@130.43.23.56.dsl.dyn.forthnet.gr)
[18:25:52] *** kurahaupo_ is now known as kurahaupo
[18:33:10] *** Joins: Strom (strom@fedora/strom)
[18:33:32] *** Joins: wandering_nomad1 (~wandering@115.187.42.29)
[18:36:07] *** Quits: testuser321 (~wandering@223.191.54.228) (Ping timeout: 256 seconds)
[18:36:08] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[18:37:25] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng32-54fbfb-173.dhcp.inet.fi) (Ping timeout: 252 seconds)
[18:37:38] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng32-54fbfb-173.dhcp.inet.fi)
[18:39:16] *** Joins: Namarrgon (~Namarrgon@archlinux/op/Namarrgon)
[18:39:26] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[18:39:27] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[18:40:52] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[18:41:11] *** Quits: smeeagle (~smeeagle@2a00:23c8:9611:e600:808e:8d9b:579e:330f) (Quit: smeeagle)
[18:41:23] *** Joins: alzgh (~alzgh@user/alzgh)
[18:43:04] *** Quits: tech_exorcist (txrcst@user/tech-exorcist/x-0447479) (Remote host closed the connection)
[18:43:21] *** Joins: m4n__ (~emacs@ip5f5bd1ff.dynamic.kabel-deutschland.de)
[18:46:35] *** Quits: m4n_ (~emacs@dynamic-046-114-035-036.46.114.pool.telefonica.de) (Ping timeout: 252 seconds)
[18:49:20] <kurahaupo> hejux_0: « (($#)) && file="$1" || file="-" » can be written more succinctly as « file=${1--} » since if there is a non zero number of parameters, positional parameter 1 must be set; if it's set, use it; otherwise use a dash.
[18:50:15] <kurahaupo> hejux_0: Oh you found that, never mind. Note that ${1--} and ${1:--} and not identical
[18:52:43] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[18:54:17] *** Joins: rcernin (~rcernin@124.190.136.148)
[18:54:33] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[18:56:53] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[18:56:58] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[18:57:39] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 256 seconds)
[18:57:53] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[18:58:17] *** Joins: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net)
[18:58:43] *** Quits: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is) (Quit: SO LONG SUCKERS!)
[18:59:55] *** Quits: polve (~polve@twcitalia/polve) (Ping timeout: 256 seconds)
[19:01:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[19:01:19] <kurahaupo> # set -- x '' ; echo "(${1--})" ; shift ; echo "(${1--})" ; shift ; echo "(${1--}) (${1:--})"
[19:01:20] <shbot> kurahaupo: (x)
[19:01:20] <shbot> kurahaupo: ()
[19:01:20] <shbot> kurahaupo: (-) (-)
[19:01:37] *** Quits: rcernin (~rcernin@124.190.136.148) (Ping timeout: 252 seconds)
[19:01:46] <kurahaupo> # set -- x '' ; echo "(${1:--})" ; shift ; echo "(${1:--})" ; shift ; echo "({1:--})"
[19:01:47] <shbot> kurahaupo: (x)
[19:01:47] <shbot> kurahaupo: (-)
[19:01:47] <shbot> kurahaupo: ({1:--})
[19:02:07] <kurahaupo> ugh, you get the idea
[19:03:51] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[19:03:55] *** Joins: polve (~polve@twcitalia/polve)
[19:04:10] *** Joins: richardm75 (~richardm7@2600:8801:c507:b200:1974:c4f0:817c:640f)
[19:04:29] *** Quits: legola (~legola@46.235.101.65) (Remote host closed the connection)
[19:09:00] *** Joins: n4dir (~user@i5E86C563.versanet.de)
[19:10:58] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[19:12:58] *** Quits: bertieb (~bertieb@217.155.39.147) (Quit: ZNC 1.7.5 - https://znc.in)
[19:15:22] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[19:18:20] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.3)
[19:18:36] *** Parts: linnet (~linnet@149.155.223.155) (Leaving)
[19:23:14] *** Joins: up_running (~up_runnin@cpe-98-150-242-72.hawaii.res.rr.com)
[19:23:19] *** Joins: karakedi (~eAC53C340@user/karakedi)
[19:23:38] <up_running> What's the default location for the touch cmd here:
[19:23:39] <up_running> https://imgur.com/a/LyI1S83
[19:24:40] <selckin> you want to open a terminal, not a file browser
[19:24:51] *** Quits: arinov (~arinov@212.156.215.30) (Ping timeout: 256 seconds)
[19:25:31] <up_running> selckin: What I have open in the first pic is Text Editor.
[19:25:36] *** Quits: Fauto_ (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 276 seconds)
[19:25:49] <up_running> My issue is I can't locate the script directory.
[19:26:01] <up_running> I don't see where Bash placed it.
[19:26:23] <Soliton> bash does not create any scripts directory by itself.
[19:26:40] <up_running> Soliton: Please see the second pic in the link.
[19:26:53] <selckin> /scripts/ then, type it in the top box to go to taht director, or find like 'root' or '/' on the left
[19:26:56] <up_running> The file is present; I just can't locate it.
[19:27:00] <selckin> / is like c:\
[19:27:22] <kurahaupo> up_running: I refused to view imgur because it's so awful towards people using mobile devices
[19:27:24] *** Joins: reallymemorable (~reallymem@70.107.110.8)
[19:27:26] *** Joins: knstn (~knstn@ppp-94-66-57-28.home.otenet.gr)
[19:27:48] *** Joins: RandomGuy21 (~RandomGuy@202.140.45.114)
[19:27:52] <Soliton> what does any of this have to do with this channel?
[19:28:10] <selckin> thought we were nice here
[19:28:14] <kurahaupo> up_running: It is quite abnormal to put scripts and binary programs in separate directories. Normally you put them in the same place
[19:28:25] <up_running> I thought this was a Bash issue.
[19:28:27] <Soliton> if you have trouble operating some file browser then ask somewhere where they know how that thing works.
[19:28:39] <up_running> I went to Centos and they told me to come here or ##Linux
[19:29:04] <kurahaupo> up_running: What do you mean by "where bash placed it"?
[19:29:17] <catern> is there a version of xtrace which prints invocations of the "coproc" builtin? because xtrace doesn't do that, it seems
[19:29:17] <selckin> up_running: this issue is so basic people don't want to waste their time, like going to driving school and you asking whats a car, how do i open door
[19:29:25] <rustyshackleford> I used grep to find the matching line I need
[19:29:50] <up_running> selckin: Yes, I believe it is also basic, but then I wonder why can't I find the file then.
[19:29:55] <rustyshackleford> hledger stats -f all-years.journal | grep 'Transactions span'
[19:29:55] <rustyshackleford> Transactions span        : 2015-11-13 to 2021-12-01 (2210 days)
[19:29:57] <kurahaupo> up_running: the "touch" command is a standard Posix program; it must be in one of the standard "bin" directories.
[19:30:08] <rustyshackleford> can I now extract '2015-11-13'?
[19:30:23] <selckin> up_running: running 'which touch' in terminal should give you the path, if thats the actual question
[19:30:34] *** Joins: jetchisel (jetchisel@user/jetchisel)
[19:30:46] <kurahaupo> !which
[19:30:46] <greybot> which(1) is an external program used to search PATH for an executable. It behaves differently on different systems and you can't rely on a useful exit code; use (from most to least portable) ''command -v'' or ''type -P'' (to find the path) or ''hash'' (to check) instead. See http://mywiki.wooledge.org/BashFAQ/081
[19:30:50] <Soliton> it's very unlikely to be the actual question though.
[19:31:02] <riv> what do you think about debian deprecating which?
[19:31:02] <selckin> i assumed the part on the right in the screenshot  was the problem
[19:31:08] <up_running> selckin: As to your instructions above, please see here:
[19:31:09] <up_running> https://imgur.com/nR7mxUe
[19:31:20] <kurahaupo> riv: brilliant, finally
[19:31:35] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[19:31:42] <up_running> selckin: As you can see, I'm searching for the file from / and it still is nowhere to be seen.
[19:31:42] <Soliton> up_running: open a terminal then we can help you.
[19:31:58] <kurahaupo> up_running: Searching for what file?
[19:32:03] <Soliton> maybe you don't have the dir who knows.
[19:32:05] <up_running> Soliton: I have a terminal open. Please see the second pic from the imgur link.
[19:32:11] *** Joins: arinov (~arinov@178.240.181.140)
[19:32:15] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[19:32:16] <Soliton> they have instructions with some /scripts dir.
[19:32:27] <kurahaupo> up_running: No. I can't and won't open imgur. See previous note
[19:32:36] <up_running> The location of the file is shown via the `find` cmd.
[19:32:39] <Soliton> err, which part is the terminal?
[19:32:40] <rustyshackleford> I think I need to pipe it into another tool. Sed?
[19:32:41] <rustyshackleford> idk
[19:32:48] <Soliton> your file browser is not a terminal.
[19:32:51] <up_running> kurahaupo: Oh, I was referring to Soliton.
[19:33:07] <selckin> up_running: if you have other students taking the class try talking to them
[19:33:10] <up_running> Soliton: here:
[19:33:10] <up_running> https://imgur.com/2a20b7c
[19:33:18] <kurahaupo> up_running: I'm more than willing to help if you use a nicer paste site
[19:33:41] <up_running> kurahaupo: I don't know of any others, but if you have a preferred site, I will gladly use it.
[19:34:45] <up_running> I probably should just add a dot (.) to the command and move on, but I just feel like this is a learning moment for Linux (or Bash?) behavior.
[19:34:56] <Soliton> they want help with some gui programs it seems.
[19:36:19] *** Joins: sonny (~sonny@bras-base-london1483w-grc-39-65-95-42-44.dsl.bell.ca)
[19:37:18] *** Quits: ExeciN (~ExeciN@user/nicexe) (Remote host closed the connection)
[19:37:26] <up_running> Soliton: it's not a gui program issue. It's a Bash issue (or maybe Text Editor) issue AFAIK.
[19:37:53] <Soliton> indeed the text editor you want to use is a gui program.
[19:38:10] <up_running> oh, ok. In that case, then yes, you're correct.
[19:38:28] *** Quits: alzgh (~alzgh@user/alzgh) (Ping timeout: 256 seconds)
[19:38:29] <kurahaupo> up_running: You have a directory /scripts and two files in it. What are you missing?
[19:38:47] <Soliton> they cannot navigate to it in their text editor.
[19:38:58] <up_running> Soliton: yes, this is the problem.
[19:39:01] <kurahaupo> argh
[19:39:08] <up_running> It shows up in terminal but not in Text Editor
[19:39:20] *** Quits: nabaiste^ (~nabaiste@68.101.58.90) (Remote host closed the connection)
[19:39:21] <up_running> So, I'm scratching my head wondering where is it then?
[19:39:29] <kurahaupo> up_running: Can't the text editor be started by typing its name and the full name of the file you want to edit?
[19:39:52] <Soliton> i doubt they know how to call the editor from the command line.
[19:40:02] <up_running> I tried that and the instructions on Stack Exchange that suggested using the `open` command but it didn't work.
[19:40:04] <kurahaupo> eg « gvim /scripts/* »
[19:40:09] <Soliton> the instructions just tell how to get to it in some menu.
[19:40:24] <kurahaupo> What's the name of your preferred editor?
[19:40:50] <up_running> kurahaupo: The instructions have us use the Text Editor program.
[19:41:15] <up_running> I'll show you, one sec.
[19:41:23] <kurahaupo> I'm tempted to suggest nano
[19:41:50] <up_running> https://imgur.com/RTXAlw2
[19:41:58] <OMGOMG> lol
[19:42:00] <up_running> Oh, wait, you don't like imgur.
[19:42:12] <up_running> Which site shall I upload the pic to?
[19:42:35] <Soliton> people don't want images. they want text since usually this channel is about shell scripts.
[19:42:53] <kurahaupo> Does it need to be a picture? can you copy the text into a text paste site?
[19:43:28] <up_running> kurahaupo: I don't know of another method besides pictures to solve this issue.
[19:43:36] <kurahaupo> Soliton:  do we have a !paste recommendation?
[19:43:46] <up_running> It's a GUI that I'm interacting with.
[19:44:08] <up_running> For text, I always use dpaste and for pics, imgur.
[19:45:08] <Soliton> !paste is just about text stuff.
[19:45:14] <kurahaupo> https://www.google.com/search?q=image+paste+site
[19:45:42] <emanuele6> kurahaupo: it's like the screenshot of a microsoft edge popup window that contains instructions on the right suggesting what to do and access to a linux box (running GNOME with a terminal window open) in which should run the commands in the instructions
[19:47:15] <kurahaupo> The problem with images is that my screen isn't nearly as wide as yours. And imgur makes that worse by reducing the image resolution so that when I zoom in it's a blurry mess, and 60% of  screen is full of ads
[19:47:53] *** Quits: RandomGuy21 (~RandomGuy@202.140.45.114) (Quit: Quit)
[19:49:34] <up_running> This is just such a strange issue. The file opens just fine from the terminal via Vim.
[19:49:36] *** Joins: sonny88 (~sonny@bras-base-london1483w-grc-39-65-95-42-44.dsl.bell.ca)
[19:49:36] <kurahaupo> You could search on Google and pick one at random and be fairly sure it's better. Personally I use Google photos in "full resolution" mode, but that's only useful if you already have a Google account.
[19:49:41] <kurahaupo> https://photos.app.goo.gl/P47NqZsndw4zvsmV8
[19:50:00] *** Joins: ChmEarl (~chmearl@user/chmearl)
[19:50:33] <kurahaupo> up_running: If you're comfortable using vim, then stick with it
[19:50:59] <up_running> kurahaupo: How about this:
[19:51:00] <up_running> https://ibb.co/bKvsWHd
[19:51:26] <kurahaupo> That's better, thanks
[19:51:28] <up_running> kurahaupo: I really like Vim, but I just want to figure out this issue if at all possible.
[19:51:30] *** Quits: sonny (~sonny@bras-base-london1483w-grc-39-65-95-42-44.dsl.bell.ca) (Ping timeout: 256 seconds)
[19:51:46] <up_running> I hate moving on and missing out on a learning opportunity.
[19:52:16] <kurahaupo> up_running: can you show us what it looks like when you have the editor open and try to search for & open the file?
[19:52:23] *** Joins: alzgh (alzgh@user/alzgh)
[19:52:50] *** Joins: smeeagle (~smeeagle@2a00:23c8:9611:e600:808e:8d9b:579e:330f)
[19:53:31] *** Quits: Itaru (~DaSH@ro2.flokinet.is) (Quit: Leaving)
[19:53:37] <kurahaupo> up_running: Silly question, but is "Text Editor" running on the Linux machine, or on your local PC?
[19:53:40] <up_running> kurahaupo: I can show you me searching for it in a regular directory folder outside of the text editor.
[19:53:54] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[19:54:06] <kurahaupo> Same question for the file browser
[19:54:06] <up_running> kurahaupo: What you are seeing is CompTia's lab environment for students.
[19:54:16] <up_running> So, it is their virtual machine
[19:54:26] <up_running> CentOS 7
[19:54:47] <kurahaupo> Does the GUI file search window run inside CentOS?
[19:54:57] <up_running> Yes, everything does.
[19:56:19] <up_running> kurahaupo: how's this:
[19:56:19] <up_running> https://ibb.co/6ZJH2db
[19:56:20] <kurahaupo> I assume you start "Text Editor" from a menu somewhere, and then go "open" within the editor and choose a file?
[19:56:26] *** Quits: roadie` (~user@2a02:8108:ec0:1427:9c8:430b:1f21:a60) (Ping timeout: 252 seconds)
[19:57:20] <up_running> kurahaupo: I do exactly what's listed in the instructions on the right side in the first pic link above.
[19:57:29] <kurahaupo> Is that image of the Text Editor or of a general file browser, or of the "open command" ?
[19:57:47] *** Joins: son0p (~ff@181.136.122.143)
[19:57:52] *** Joins: pantatko (~pantatko@ip-89-176-154-20.net.upcbroadband.cz)
[19:58:16] <up_running> the second link is from Text Editor
[19:58:20] <kurahaupo> If you go "run command" it will only show you programs and scripts that are executable
[19:59:21] <up_running> I'm not sure I understand your meaning there.
[19:59:40] <kurahaupo> up_running: hmm. I wonder if there's a permissions issue. How did you complete the steps for adjusting the access?
[19:59:46] *** Joins: ciupicri (~ciupicri@188.26.144.138)
[19:59:53] *** Parts: ciupicri (~ciupicri@188.26.144.138) ()
[20:01:06] <up_running> I followed the guide:
[20:01:06] <up_running> https://ibb.co/8BfrrxG
[20:01:27] <up_running> ^ see the right side above
[20:02:11] *** Joins: erts (~erts@user/erts)
[20:02:31] <kurahaupo> Did you create the /scripts directory or was that already present?
[20:02:50] <up_running> It was already present.
[20:03:43] <kurahaupo> Ok so its permissions are probably correct. (Whether a file is visible is controlled not by its own permissions, but by those of the directory in which it resides.)
[20:04:45] <up_running> Hmm, so maybe that's the issue. Isn't the chmod cmd from the instructions only applicable to the .sh file and not /scripts?
[20:05:21] <up_running> *only applicable to the .sh file and not the /scripts directory?
[20:05:31] <kurahaupo> Does the "+ Other Locations" take you anywhere useful? I ask because I'm wondering if this Text Editor only allows you to enter a relative filename, not a full path
[20:06:09] <up_running> In one of the pics I shared with you, you can see that I tried searching for the file from /.
[20:06:14] <up_running> Do you see this pic?
[20:06:20] <up_running> If not I can share it with you again.
[20:07:46] <kurahaupo> I saw that but it didn't show permissions. In the terminal please type « ls -ld /scripts » and it should output one line. Can you just write here what the first 9 symbols are? They should start with « rwx » or similar
[20:09:11] *** Quits: reallymemorable (~reallymem@70.107.110.8) (Remote host closed the connection)
[20:09:13] *** Parts: erts (~erts@user/erts) (.)
[20:10:15] *** Quits: dreamon (~dreamon@ppp-88-217-67-53.dynamic.mnet-online.de) (Ping timeout: 256 seconds)
[20:10:20] <up_running> drwxr-xr-x
[20:10:52] <kurahaupo> up_running: Ok, that confirms that it's not a permissions problem with the directory.
[20:11:00] <kurahaupo> Something simple to try, which might or might not help: In the text editor, try typing in « /scripts » and then press enter before continuing
[20:11:50] <kurahaupo> (I mean in the "open file" dialogue, not in the editing body area)
[20:12:10] <up_running> hey, it works now!
[20:12:50] <up_running> I was rummaging the OS's directory and located the directory.
[20:13:02] <kurahaupo> great!
[20:13:09] <up_running> then, it seems to have appeared in the My Computer section of Text Editor
[20:13:47] <up_running> I wish this was more instructional instead of me just randomly finding it.
[20:13:53] *** Quits: namkeleser (~namkelese@101.175.102.188) (Quit: Client closed)
[20:14:04] <kurahaupo> indeed
[20:14:11] <kurahaupo> !.sh
[20:14:12] <greybot> Don't use extensions for your scripts. Scripts define new commands that you can run, and commands are generally not given extensions. Do you run ls.elf? Also: bash scripts are *not* sh scripts (so don't use .sh) and the extension will only cause dependencies headaches if the script gets rewritten in another language. See http://www.talisman.org/~erlkonig/documents/commandname-extensions-considered-harmful
[20:14:18] <up_running> but I guess I should search OS for the file first and then try any GUI text editor from now if I run into this issue again.
[20:14:38] <kurahaupo> up_running: would you mind please sharing the URL above with your tutor
[20:15:09] <up_running> Unfortunately, I don't have a tutor.
[20:15:16] <kurahaupo> or lecturer
[20:15:24] <kurahaupo> whoever set the coursework
[20:15:24] <NRK[m]> what's a good way to append a line inside a pipe? `cmd | { cat && echo "last line"; } | morecmd`
[20:15:25] <up_running> I'd have to email it to CompTIA directly.
[20:15:37] <up_running> I'm sure they would ignore me though.
[20:16:22] <up_running> kurahaupo: Nevertheless, I have this chat saved me to PC and will read the link later to internalize your point here so at least I am properly informed.
[20:16:32] <kurahaupo> Sadly even many well funded universities have a marginal quality of coursework for shell scripting
[20:16:41] <up_running> *I have this chat saved to my PC
[20:17:04] <kurahaupo> Sorry it took so long to get to the bottom of a simple issue
[20:17:27] <up_running> No problem at all, I appreciate your patience! I'm getting better everyday.
[20:17:30] <kurahaupo> Now you can START writing your shell script
[20:18:58] <up_running> kurahaupo: Btw, here is what my official text has to say about "Script Extensions":
[20:19:01] <up_running> https://ibb.co/qNPHVzK
[20:19:32] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 252 seconds)
[20:19:35] <up_running> So, as you can see, this text encourages the use of script extensions.
[20:20:58] <kurahaupo> That's accurate as far as it goes. What it misses is the bigger picture: that good scripts become tools in their own right, which in turn get used in other scripts. Including .sh in the name is unhelpful for anything except editing the file
[20:21:54] <kurahaupo> And a good script is run a thousand times more often than its read it edited.
[20:22:01] <olspookishmagus> are type-C type-C USB3.x cables of _LENGTH_ >= 3m a delicacy or something?
[20:22:11] <olspookishmagus> most manufacturers make just 1m
[20:22:14] <kurahaupo> read or edited
[20:22:15] *** Quits: Itaru (~DaSH@ro2.flokinet.is) (Quit: Leaving)
[20:22:37] <up_running> If you don't mind and are still around later, I'll try to look this over and see if I can come up with a way to intelligently present this issue to a teacher.
[20:22:43] *** Joins: Itaru (~DaSH@ro2.flokinet.is)
[20:22:56] <up_running> for now, I'll finally start writing the script. thank you again!
[20:23:25] <kurahaupo> olspookishmagus: Long USB cables need extra electronics to compensate for the interference and signal degredation
[20:23:35] *** Parts: up_running (~up_runnin@cpe-98-150-242-72.hawaii.res.rr.com) ()
[20:24:22] <kurahaupo> olspookishmagus: If you make them long enough, the latency will be too long and the devices at each end will get out of sync
[20:26:27] <kurahaupo> olspookishmagus: At 5 GHz, there's one bit per 4-6 cm of cable, all in flight at once
[20:27:44] <rustyshackleford> bash is literally the worst language ever
[20:27:57] <olspookishmagus> rustyshackleford: do you COBOL?
[20:27:59] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[20:28:05] <rustyshackleford> hmm no
[20:28:10] <rustyshackleford> I don't
[20:28:45] <olspookishmagus> kurahaupo: in the end I'll add a cheap-o extensions to a quality cable and it's premium features will go down the drain
[20:28:51] <rustyshackleford> I struggle to write the most basic of scripts. Split a long string by newlines, discard one value, do some string interpolation and write to a file
[20:28:56] <rustyshackleford> should be easy, right? wrong
[20:29:09] <olspookishmagus> I'm trying NOT to mess up my setup for connecting my PC to my HDD enclosure
[20:29:32] <Soliton> !faq 1 > rustyshackleford
[20:29:32] <greybot> rustyshackleford: https://mywiki.wooledge.org/BashFAQ/001 -- How can I read a file (data stream, variable) line-by-line (and/or field-by-field)?
[20:29:41] <olspookishmagus> rustyshackleford: try #bash and don't do that very same intro if you want success
[20:29:50] <olspookishmagus> oh we're in #bash
[20:30:02] <olspookishmagus> why did I shoot my USB cable questions in here
[20:30:06] <rustyshackleford> its mostly a joke
[20:30:09] * olspookishmagus goes for some coffee
[20:31:01] <NRK[m]> anyone knows a better way to do what i did up there?
[20:31:31] <NRK[m]> cat-ing like that feels wrong, surely there's some unix utility to do that
[20:38:03] *** Quits: Dotz0cat (~Dotz0cat@h171.88.213.151.dynamic.ip.windstream.net) (Ping timeout: 252 seconds)
[20:40:39] *** Joins: mmh (~mmh@173-165-141-73-utah.hfc.comcastbusiness.net)
[20:41:37] <rustyshackleford> I should try to properly learn bash
[20:41:57] <rustyshackleford> the types and syntax make no sense to me. I usually go running for something else like python for the heavy lifting
[20:43:16] <yitz> The guide is good
[20:43:28] <yitz> The syntax is very ... bespoke but not that complex
[20:43:29] <rustyshackleford> I should do Advent of Code with bash
[20:43:45] <yitz> No. You shouldn't.
[20:43:56] <rustyshackleford> okay
[20:44:01] * rustyshackleford runs back to javascript
[20:47:01] *** Parts: jaggz (~jaggz@user/jaggz) (Leaving)
[20:48:13] *** Quits: Guest36_ (~textual@net-93-146-151-115.cust.vodafonedsl.it) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:51:48] <texasmynsted> is there a simple getopts/getopt alternative for needing a simple optional long flag, like --local
[20:52:21] <NRK[m]> yitz: why not?
[20:52:41] *** Joins: net0bsd (~eescobedo@189.240.28.12)
[20:53:20] <texasmynsted> hhmm. maybe this https://github.com/UrsaDK/getopts_long#source-the-library
[20:57:35] *** Joins: Guest36 (~textual@net-93-146-151-115.cust.vodafonedsl.it)
[20:57:49] <yitz> NRK[m]: the language isn't feature-full or powerful enough for it
[20:58:32] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[20:58:49] *** Quits: tex (~super@user/dix) (Quit: tex)
[21:00:20] <texasmynsted> wow, I wish I knew of getopts_long hours ago.
[21:00:32] <texasmynsted> fwiw, it was perfect for my use
[21:01:44] <gnoo> NRK[m]: cat seems like a fine choice, concatenating stdin and a file to stdout
[21:01:45] *** Quits: wigums (~wigums@user/wigums) (Ping timeout: 256 seconds)
[21:01:49] <gnoo> # printf '%s\n' a b | cat - <(printf '%s\n' c) | cat
[21:01:50] <shbot> gnoo: a
[21:01:50] <shbot> gnoo: b
[21:01:50] <shbot> gnoo: c
[21:02:31] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[21:02:37] *** Joins: han-solo (~han-solo@user/han-solo)
[21:04:00] <NRK[m]> yitz: should be fine for the first couple days at least
[21:04:34] <yitz> Probably
[21:06:00] *** Parts: sonny88 (~sonny@bras-base-london1483w-grc-39-65-95-42-44.dsl.bell.ca) ()
[21:09:35] *** Quits: arinov (~arinov@178.240.181.140) (Ping timeout: 252 seconds)
[21:11:23] <mooz> I'm writing a script to parallelize a backup task that requires the host to mount a nfs share before it starts and unmount it after it ends, and I'm wanting to use flock to achieve this. is it safe to assume that using a read lock with the parallelized nfs mount portion of the script won't cause any issues since it'll be ran with each process, and obtaining the exclusive lock will unmount only after everything
[21:11:29] <mooz> is completed? eg. http://ix.io/3GTN
[21:11:45] <mooz> is that the best way to accomplish this, or should my end function actually be at the end of the backup script
[21:12:39] *** Joins: drd (~drd@93-42-69-115.ip85.fastwebnet.it)
[21:14:45] *** Joins: dreamon (~dreamon@pd95039d2.dip0.t-ipconnect.de)
[21:15:43] *** Joins: mongrel (uid508343@id-508343.ilkley.irccloud.com)
[21:16:08] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[21:18:10] <yitz> mount; for piece in workers; do work & done; wait ; unmount
[21:19:13] *** Quits: wandering_nomad1 (~wandering@115.187.42.29) (Remote host closed the connection)
[21:19:35] *** Joins: wandering_nomad1 (~wandering@115.187.42.29)
[21:20:51] <lopid> for worker peace do work. done. unmount
[21:21:43] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[21:22:40] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[21:23:44] *** Quits: wandering_nomad1 (~wandering@115.187.42.29) (Client Quit)
[21:25:25] *** Joins: wigums (~wigums@user/wigums)
[21:26:54] *** Quits: wigums (~wigums@user/wigums) (Max SendQ exceeded)
[21:27:58] *** Joins: wigums (~wigums@user/wigums)
[21:29:59] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[21:34:29] *** Quits: maledictium (~crux@bl14-67-155.dsl.telepac.pt) (Remote host closed the connection)
[21:35:14] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[21:39:09] *** Quits: net0bsd (~eescobedo@189.240.28.12) (Ping timeout: 256 seconds)
[21:40:39] *** Joins: podeni (~podeni@95.77.239.140)
[21:47:02] *** Joins: arinov (~arinov@213.194.126.155)
[21:48:01] <wwallace> functions in .bashrc will not work in a scritpt?
[21:48:05] *** Joins: net0bsd (~eescobedo@189.240.28.12)
[21:48:06] <wwallace> !functions
[21:48:06] <greybot> To define: funcname() { your code here; } ## To use: funcname arg1 arg2 ... The "function" keyword isn't portable. ## http://mywiki.wooledge.org/BashGuide/CompoundCommands#Functions
[21:48:36] *** Joins: Gamara (~Gamara@66-203-186-197.ded.execulink.com)
[21:49:18] *** Joins: CaptBeetusMan (~wigums@user/wigums)
[21:49:25] *** Quits: wigums (~wigums@user/wigums) (Ping timeout: 256 seconds)
[21:50:09] <phy1729> "When an interactive shell that is not a login shell is started, bash reads and executes commands from ~/.bashrc, if that file exists."
[21:50:22] <phy1729> scripts are not interactive shells
[21:50:39] *** Quits: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft) (Ping timeout: 252 seconds)
[21:51:41] <wwallace> Thank you.
[21:54:09] <Gamara> Hey I keep getting zsh: command not found make when running this script https://pastebin.com/zBUyxDwh
[21:54:09] <pasteban> Paste is available without ads on https://pastebin.com/raw/zBUyxDwh
[21:54:09] *** Quits: Guest36 (~textual@net-93-146-151-115.cust.vodafonedsl.it) (Quit: Textual IRC Client: www.textualapp.com)
[21:54:28] <emanuele6> !zsh
[21:54:28] <greybot> zsh is NOT an enhanced version of bash. It's a different shell, with different features and there's a different channel for your questions: #zsh For zsh-like menu completion, bind '\C-i':menu-complete # there is nothing similar to menu selection
[21:54:30] <Gamara> make definitely exists I can run make start by just cding into those directories manually
[21:54:41] *** Quits: CaptBeetusMan (~wigums@user/wigums) (Ping timeout: 252 seconds)
[21:54:52] <Gamara> I thought the #!/bin/bash made it run as bash?
[21:54:54] *** Joins: tech_exorcist (txrcst@user/tech-exorcist/x-0447479)
[21:55:20] <emanuele6> you don't need the backslashes there in the array definition
[21:55:30] *** Joins: wigums (~wigums@user/wigums)
[21:55:57] <emanuele6> is `make' printing that message?
[21:56:14] <Gamara> make is just running a command on a makefile
[21:56:39] <phy1729> How are you running the script?
[21:56:43] <emanuele6> and how is the script being run?
[21:56:56] <Gamara> I am pressing ctr+shift+x+e then just pasting it in and saving it
[21:57:04] <phy1729> so zsh is running it
[21:57:20] <phy1729> (hence the error message starting with zsh:)
[21:57:28] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[21:57:29] <Gamara> oh so if I made it a bash script file it would work
[21:57:44] <phy1729> yes because path isn't magical in bash
[21:58:38] <Gamara> ok great to know thank you :D
[21:59:55] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[22:00:48] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[22:01:07] <Gamara> what do you mean by not magical
[22:01:21] <Gamara> I guess I can google it :P
[22:01:46] <mooz> yitz, lopid, not sure if you were just giving me something alternative or if you were implying the solution I had wasn't going to work..
[22:02:18] *** Quits: mns (~mns@c-73-119-178-157.hsd1.ma.comcast.net) (Quit: Quit)
[22:03:19] <phy1729> Gamara: in zsh the path parameter is an array for PATH, so that's why it couldn't find make, but this is firmly in #zsh terratory
[22:04:16] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[22:04:45] <yitz> mooz:  I was suggesting a simple approach
[22:05:00] <lopid> and i was being facetious
[22:05:10] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[22:05:33] <mooz> lopid: figured you might have been
[22:06:03] *** Joins: gabriele (~gabriele@user/gabriele)
[22:07:26] *** Joins: dj (~dj@162.223.44.49)
[22:07:29] *** Quits: polve (~polve@twcitalia/polve) (Ping timeout: 256 seconds)
[22:09:51] *** Joins: djp (~djp@107-179-223-174.cpe.teksavvy.com)
[22:10:36] *** Joins: polve (~polve@twcitalia/polve)
[22:10:58] *** Joins: sandb0y (~pirate@user/sandb0y)
[22:12:03] *** Joins: bongobrown (~bongobrow@cpe-76-185-215-2.satx.res.rr.com)
[22:15:14] <wwallace> why is this not working?
[22:15:15] <wwallace> https://paste.debian.net/1221850/
[22:16:22] *** Quits: kdc (~kdc@196.211.197.159) (Remote host closed the connection)
[22:18:35] <phy1729> -n      Redirects stdin from /dev/null
[22:19:15] *** Quits: net0bsd (~eescobedo@189.240.28.12) (Remote host closed the connection)
[22:19:37] <geirha> which means you explicitly told ssh to ignore that heredoc
[22:19:38] *** Joins: net0bsd (~eescobedo@189.240.28.12)
[22:19:44] <wwallace> ughhh
[22:19:55] <wwallace> Thanks works now without the -n
[22:22:22] *** Joins: timj (~timj@user/timj)
[22:25:35] *** Joins: mns (~mns@c-73-119-178-157.hsd1.ma.comcast.net)
[22:29:01] *** Quits: wiscii (~tct@user/wiscii) (Quit: WeeChat 2.8)
[22:32:15] *** Joins: zoe (~zoe@fsf/member/zoe)
[22:32:32] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.3)
[22:37:23] *** Joins: kdc (~kdc@196.211.197.159)
[22:42:07] *** Quits: bongobrown (~bongobrow@cpe-76-185-215-2.satx.res.rr.com) (Quit: Leaving)
[22:42:35] *** Joins: bongobrown (~bongobrow@cpe-76-185-215-2.satx.res.rr.com)
[22:42:42] *** Joins: legola (~legola@46.235.101.65)
[22:45:04] *** Joins: rgrinberg (~textual@187.223.248.37)
[22:45:07] *** Quits: legola (~legola@46.235.101.65) (Remote host closed the connection)
[22:47:51] *** Joins: earendel (uid498179@user/earendel)
[22:51:09] *** Quits: rgrinberg (~textual@187.223.248.37) (Ping timeout: 252 seconds)
[22:52:09] *** Joins: zeden (~zeden@user/zeden)
[22:59:00] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[22:59:09] *** Joins: rgrinberg (~textual@187.223.144.204)
[23:01:54] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[23:02:40] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[23:02:55] *** Joins: dextercd (~dexter@2a02-a450-f25d-1-76d4-35ff-fefe-34c.fixed6.kpn.net)
[23:03:33] *** Quits: bongobrown (~bongobrow@cpe-76-185-215-2.satx.res.rr.com) (Quit: Leaving)
[23:03:52] *** Joins: bongobrown (~bongobrow@cpe-76-185-215-2.satx.res.rr.com)
[23:08:05] *** Quits: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net) (Quit: Leaving)
[23:10:58] *** Joins: CaptBeetusMan (~wigums@user/wigums)
[23:11:31] *** Quits: wigums (~wigums@user/wigums) (Ping timeout: 256 seconds)
[23:11:34] *** Quits: henko (~henko@62-178-187-35.cable.dynamic.surfer.at) (Quit: WeeChat 3.3)
[23:14:00] *** Joins: H3dn1ng (~H3dn1ng@185.213.154.235)
[23:15:29] *** Quits: CaptBeetusMan (~wigums@user/wigums) (Ping timeout: 256 seconds)
[23:15:33] *** Quits: rgrinberg (~textual@187.223.144.204) (Ping timeout: 256 seconds)
[23:16:59] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Quit: Laa shay'a waqi'un moutlaq bale kouloun moumkine)
[23:19:31] *** Quits: H3dn1ng (~H3dn1ng@185.213.154.235) (Ping timeout: 256 seconds)
[23:21:11] *** Joins: H3dn1ng (~H3dn1ng@185.213.154.236)
[23:21:29] *** Quits: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4) (Remote host closed the connection)
[23:21:50] *** Quits: han-solo (~han-solo@user/han-solo) (Quit: leaving)
[23:23:03] *** Joins: nvmd (~nvmd@user/nvmd)
[23:23:23] *** Joins: wigums (~wigums@user/wigums)
[23:29:50] *** Quits: bongobrown (~bongobrow@cpe-76-185-215-2.satx.res.rr.com) (Quit: Leaving)
[23:30:20] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Remote host closed the connection)
[23:30:52] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[23:30:54] *** Joins: hellstabber (~hellstabb@178.233.16.12)
[23:32:13] *** Quits: drd (~drd@93-42-69-115.ip85.fastwebnet.it) (Ping timeout: 252 seconds)
[23:33:49] *** Quits: mmh (~mmh@173-165-141-73-utah.hfc.comcastbusiness.net) (Quit: Leaving)
[23:34:20] *** Parts: riv (river@tilde.team/user/river) (WeeChat 3.3)
[23:34:27] *** Joins: mtk (~mtk@2601:185:200:70:20c:29ff:fe3e:59e4)
[23:34:48] <cliluw> How do I assign a output of a subshell to a variable if the variable is unassigned? I think it would be something like PASSWORD=${PASSWORD:=$(command)}.
[23:35:45] <geirha> :- instead of :=
[23:35:52] <cliluw> unset or empty
[23:36:06] *** Quits: acegallagher (~Ace@71-211-247-32.hlrn.qwest.net) (Read error: No route to host)
[23:36:07] <geirha> if you only want it for unset, remove the colon
[23:36:26] <geirha> pw=${pw-$(cmd)}
[23:36:40] <phy1729> You could : "${PASSWORD:=$(command)}"
[23:36:53] *** Quits: TomyWork (~TomyLobo@p200300e80f0f2700110ab689aaf6b6d7.dip0.t-ipconnect.de) (Remote host closed the connection)
[23:37:22] *** Joins: worldof[m] (~worldofge@2001:470:69fc:105::f05d)
[23:37:29] *** Joins: acegallagher (~Ace@71-211-247-32.hlrn.qwest.net)
[23:37:45] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[23:38:07] *** Quits: NIXKnight (~NIXKnight@198.98.57.76) (Quit: bye)
[23:38:29] *** Quits: tolecnal (tolecnal@login.xiro.net) (Quit: server maintenance)
[23:38:53] <emanuele6> or: ${pw-declare pw=$(cmd)}
[23:39:03] <emanuele6> err, nevermind actually
[23:39:09] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[23:39:15] *** Joins: NIXKnight (~NIXKnight@198.98.57.76)
[23:39:15] <emanuele6> that would not work
[23:39:21] <cliluw> phy1729: That gives me "command not found" if it's already set.
[23:39:39] <emanuele6> cliluw: : "${PASSWORD:=$(command)}"
[23:39:45] <emanuele6> not just "${PASSWORD:=$(command)}"
[23:39:55] <emanuele6> !:
[23:39:55] <greybot> : is a builtin identical to the 'true' builtin; they do nothing and have an exit status of 0
[23:40:05] <cliluw> Ohhh, I see. There's a leading colon.
[23:40:05] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:ec04:5b98:87f7:9e92)
[23:40:05] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:ec04:5b98:87f7:9e92) (Changing host)
[23:40:05] *** Joins: skapata (~Skapata@user/skapata)
[23:40:11] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[23:40:27] *** Joins: sazawal (~sazawal@223.190.92.152)
[23:40:28] <cliluw> I thought that was just a typo.
[23:41:34] <cliluw> Thanks, y'all.
[23:41:45] *** Joins: tolecnal (tolecnal@login.xiro.net)
[23:42:08] *** Joins: dre (~dre@2001:8003:c932:c301:4931:2ba9:a613:d21a)
[23:42:32] <emanuele6> you can also use `true' (or `false' if you don't care about exit codes) instead of colon
[23:43:04] <emanuele6> or even   case ${PASSWORD:=$(command)} in esac
[23:43:34] *** Joins: Betal (~Betal@user/betal)
[23:43:34] <emanuele6> anything that lets you ignore the value expanded by ${PASSWORD:=$(command)}
[23:44:19] <emanuele6> that is why the : is there, so that the expanded value is ignored and bash does not attempt to run it as a command
[23:44:41] *** Quits: mags (~mags@097-090-237-145.res.spectrum.com) (Ping timeout: 252 seconds)
[23:46:10] *** Joins: mags (~mags@097-090-237-145.res.spectrum.com)
[23:47:26] *** Quits: rendar (~rendar@user/rendar) (Ping timeout: 245 seconds)
[23:47:56] *** Joins: henko (~henko@62-178-187-35.cable.dynamic.surfer.at)
[23:49:16] *** Joins: Dr-007 (~nope@92-108-90-26.cable.dynamic.v4.ziggo.nl)
[23:50:31] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng32-54fbfb-173.dhcp.inet.fi) (Read error: Connection reset by peer)
[23:51:07] *** Joins: sublim20 (~sublim20@user/sublim20)
[23:51:20] *** Quits: Dr-007 (~nope@92-108-90-26.cable.dynamic.v4.ziggo.nl) (Remote host closed the connection)
[23:51:51] *** Joins: junebug (~junebug@104-0-169-217.lightspeed.miamfl.sbcglobal.net)
[23:53:09] *** Joins: riv (river@tilde.team/user/river)
[23:53:13] <riv> my fifo is not working :(
[23:53:36] <riv> 3 children write into it, and the parent waits and waits until the 3rd.. then seems to take that message first
[23:53:38] <riv> that makes no sense
[23:54:06] *** Quits: henko (~henko@62-178-187-35.cable.dynamic.surfer.at) (Quit: WeeChat 3.3)
[23:55:10] *** Quits: hellstabber (~hellstabb@178.233.16.12) (Ping timeout: 256 seconds)
[23:57:16] *** Joins: hellstabber (~hellstabb@178.233.16.12)
[23:57:19] *** Quits: H3dn1ng (~H3dn1ng@185.213.154.236) (Quit: leaving)
[23:59:04] *** Joins: rgrinberg (~textual@187.223.144.204)
[23:59:37] <riv> fixed that
[23:59:40] <geirha> probably buffering
