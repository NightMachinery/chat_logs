[00:09:19] <da_wunder> and to upgrade those "old" hashed passwords to use `password_hash` should not be so hard - just add column for that new hash - and when user login to your application check if that is empty and if yes - ask user to change password - when you could populate that new column
[00:09:44] <da_wunder> also set that old password column to empty string or null, etc.
[00:09:49] <TinoDidriksen> Don't even need a new column. Just need to check for first char $
[00:09:59] <da_wunder> true
[00:10:36] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[00:10:57] <da_wunder> personally always used separated column for that - just to make things simplier to check
[00:16:23] <__adrian> ^ all assuming they can break from the software
[00:17:57] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[00:18:58] <ash_worksi> __adrian: as in md5(<anything>) is brute-forcible?
[00:20:05] <ash_worksi> __adrian: or by the nature that there is no forced delay between attacks?
[00:20:33] <ash_worksi> (not rhetorical in any sense)
[00:21:28] <da_wunder> ash_worksi: login process should always take some serious time, no matter if that is success or failure
[00:23:22] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Ping timeout: 260 seconds)
[00:23:26] <ash_worksi> (question still stands)
[00:25:17] <__adrian> md5 is weak. also this salt implementation (always the same salt) is basically the same as not salting.
[00:27:05] <__adrian> note also, md5, whirlpool, and sha1 are all relatively "fast" algos
[00:27:30] <ash_worksi> I didn't know that about whirlpool.
[00:27:33] <ash_worksi> Honestly, I don't see a salt
[00:28:34] <da_wunder> just use - https://www.php.net/password_hash with proper algo
[00:28:46] <ash_worksi> to me a salt is like algo($plaintext, $salt)
[00:29:15] <ash_worksi> da_wunder: the one whom is having a problem with this is non active in this channel
[00:30:52] <da_wunder> ash_worksi: but he/she is still on this channel - I'm assuming he/she is reading messages
[00:31:04] <ash_worksi> ¯\_(ツ)_/¯
[00:31:28] <__adrian> they did $password . $salt
[00:31:42] <ash_worksi> I just wanted you to know that I am digging up old conversations despite the original author
[00:31:47] <__adrian> but they problem is that $salt needs to be unique per hash, else it's useless
[00:32:05] <__adrian> *the
[00:32:41] <ash_worksi> __adrian: oh was that in the github issue? I didn't look; I only saw them put this: < mattf> md5(hash("whirlpool", sha1($password)));
[00:33:12] <__adrian> i glanced at the code but didn't really look at the issue
[00:33:34] <da_wunder> when I used salt on passwords I use two different salts like `$userSalt . $password . $systemSalt` and that `$userSalt` was always generated again when user changed password
[00:33:48] <__adrian> ash_worksi: yeah, prior step was $password .= $salt
[00:33:58] <ash_worksi> I see
[00:34:30] <__adrian> `$userSalt` was always generated  // this is good
[00:34:44] <__adrian> $systemSalt  // this still might as well not exist
[00:35:46] <ash_worksi> just out of curiosity, does salting via some algorithm that doesn't just append (I think, hmac?) help in this endeavor?
[00:36:07] <da_wunder> __adrian: that was something that our IT department wanted us to use - that was something server related stuff
[00:36:13] * ash_worksi has no idea how things like argon2 actually salts
[00:36:32] <ash_worksi> also, is a $systemSalt actually a pepper?
[00:36:43] <da_wunder> ash_worksi: those salts will just make a lot of longer string - so it's harder to compute via brute force
[00:37:49] <ash_worksi> da_wunder: "those salts" = ?
[00:39:22] <da_wunder> ash_worksi: $userSalt === 40 chars, $systemSalt === 40 chars - so total length of that password would be 80 chars + user password - that is quite _long_
[00:41:23] <ash_worksi> ah so, "those salts" = $userSalt and $systemSalt
[00:42:28] <da_wunder> in my comment "`$userSalt . $password . $systemSalt`" there isn't anything else "salt" related...
[00:44:05] <ash_worksi> :)
[00:45:32] <ash_worksi> darn, the #docker channel has gone silent and I don't know if it's possible to keep swarm containers externally accissble by the host machine only (ie 127.0.0.1)
[00:45:41] *** Quits: PTNapivoski (~PTNapivos@179.189.133.33) (Quit: Leaving)
[00:47:14] <__adrian> "does salting via some algorithm that doesn't just append (I think, hmac?) help"  no; the thing about salt is it must be unique, and cryptographically pseudorandom, per hash
[00:47:45] <__adrian> the point is so when you crack one hash, you don't automatically crack every other password that was the same
[00:48:15] <__adrian> "is a $systemSalt actually a pepper?"  if you choose to dignify the concept of "pepper," yes
[00:55:40] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[00:56:17] *** Quits: JohnBeales (~JohnBeale@dsl-173-206-92-57.tor.primus.ca) (Quit: Textual IRC Client: www.textualapp.com)
[00:58:21] *** Joins: entropy_ (~ent@user/entropy/x-9891564)
[00:59:28] <entropy_> ok so i got this working: https://3v4l.org/W2vUI
[00:59:31] <entropy_> but
[00:59:31] <relipse> Why would I get a fatal error class doesn't exist on test env but not local?
[00:59:50] <entropy_> when i try to do it in a sql loop, it returns like 52years
[00:59:52] <relipse> all i did was merge a pull request
[00:59:55] <entropy_> any ideas?
[01:00:19] <__adrian> relipse: because it's not being loaded  :)
[01:00:25] <__adrian> how are you loading your classes?
[01:00:30] <relipse> but how is that possible? it was loading fine before
[01:00:33] <relipse> on my local
[01:00:59] <__adrian> how would "local" have anything to do with "not working in test"?
[01:01:07] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Ping timeout: 250 seconds)
[01:01:14] <__adrian> (rhetorical)
[01:02:14] <relipse> https://www.irccloud.com/pastebin/0m0EeEqH/
[01:02:19] <relipse> that's my autoloader
[01:02:38] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[01:03:20] <__adrian> have you debugged?
[01:03:57] <da_wunder> entropy_: create SQL example to show your problem - http://sqlfiddle.com/ - and really your problem is not PHP related
[01:05:43] <relipse> not yet __adrian
[01:06:05] <__adrian> verify the file exists and is readable, the classname you get is correct, etc.
[01:06:38] <da_wunder> + namespace, assuming PSR autoloading is used
[01:07:14] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Ping timeout: 260 seconds)
[01:10:17] <relipse> ok found it, local was Windows , test is linux
[01:10:27] <relipse> so \ needs to be converted to /
[01:10:37] <entropy_> da_wunder https://mypastebin.com/C23d32FEJziNWu
[01:11:07] <__adrian> ?
[01:11:12] *** Quits: newwebdev13 (~newwebdev@78.135.92.89) (Read error: Connection reset by peer)
[01:11:27] <__adrian> you're already using /
[01:11:51] *** Joins: newwebdev13 (~newwebdev@78.135.92.89)
[01:13:16] <relipse> ok so i pasted the wrong autoloader file
[01:15:25] <da_wunder> entropy_: that doesn't show us the data that you have there - I'm assuming that `expires` column there is the problem - so please create sqlfiddle with example data where you can _show_ us the same problem
[01:15:50] <da_wunder> most likely your data is just "wrong"
[01:18:03] <entropy_> da_wunder here.. https://mypastebin.com/pastes.php
[01:18:18] <entropy_> the added is a time() value
[01:18:27] <entropy_> of when the paste was added
[01:18:34] <da_wunder> that is _not_ sqlfiddle example...
[01:18:50] <entropy_> how do you query a non existant sql query for sqlfiddle?
[01:18:51] <da_wunder> asked you that three times already
[01:18:55] <entropy_> sorry
[01:19:20] <da_wunder> you can create schema and insert data to sqlfiddle, that is the whole point...
[01:20:01] <teresko> oh, you guys are still at it
[01:20:02] <da_wunder> didn't you even bother to read that "Use this panel to setup your database problem (CREATE TABLE, INSERT, and whatever other statements you need to prepare a representative sample of your real database). Use "Text to DDL" to quickly build your schema objects from text." message on that site
[01:20:08] <entropy_> da_wunder SyntaxError: Unexpected token ':'
[01:20:11] <entropy_> in sqlfiddle
[01:20:37] <da_wunder> entropy_: it's SQL fiddle, not PHP fiddle
[01:20:42] <__adrian> entropy_: stop - you need to learn how to use these tools and pose a clear question
[01:21:21] <__adrian> people on this channel are not here just to do step-by-step troubleshooting for you.
[01:21:34] *** Joins: shailangsa (~shailangs@host86-162-150-212.range86-162.btcentralplus.com)
[01:21:40] <__adrian> you need to be able to ask a clear question and provide the information people ask for to help you.
[01:21:59] <entropy_> ok but i don't know how to not use php in the sql fiddle
[01:22:11] <entropy_> like use the select line?
[01:22:11] <__adrian> read first, understand what you need to do, then do it.
[01:22:29] <da_wunder> entropy_: with that sql fiddle you don't use PHP at all, it's pure SQL
[01:22:43] <__adrian> even that is not a sensible question. "i don't know how to not use php in the sql fiddle"  you just don't. no php. it's not for php.
[01:23:26] <__adrian> read the name of the site. it's an easy conclusion.
[01:23:44] <__adrian> it's named "sqlfiddle" because it's for fiddling with *sql*.
[01:23:59] <entropy_> ok when i enter the select sql query line i get: Table 'db_9_7d7b89.pastes' doesn't exist
[01:24:21] * teresko needs another beer 
[01:24:31] <entropy_> do i have to manually add values to a table?
[01:24:47] <__adrian> read the instructions. don't come back here if you haven't.
[01:26:40] <__adrian> i would expect you'd need to take ~15 minutes or so to read the instructions, try it out, and have a useful example. don't give up so quickly.
[01:28:37] <da_wunder> ^
[01:30:25] <entropy_> ok
[01:30:28] <entropy_> da_wunder http://sqlfiddle.com/#!9/3b726c
[01:31:54] <teresko> I wonder, why would you choose latin1 as your encoding
[01:32:05] <teresko> or is it that you have no idea what charsets do
[01:32:14] <entropy_> yeah basically
[01:32:19] *** Quits: w_lehinsun__ (~lehinsun@188.113.178.220) (Remote host closed the connection)
[01:32:38] *** Joins: w_lehinsun__ (~lehinsun@188.113.178.220)
[01:33:00] <teresko> you should be using utf8mb4
[01:33:10] <teresko> (in mysql)
[01:34:13] <entropy_> could that be why it's not working?
[01:34:18] <teresko> no
[01:34:52] <__adrian> i didn't see where you described what "not working" means. aslo that sqlfiddle has no query, so no way to even guess.
[01:34:56] <__adrian> *also
[01:35:52] <teresko> the reason why it is "not working" is because you have inserted in database 1583103892 timestamp with is from 2+ years ago
[01:37:07] <entropy_> 108wks 1day 21hrs 58mins 40secs
[01:37:19] <entropy_> is 1583103892
[01:37:23] <__adrian> ...
[01:37:28] *** Quits: shailangsa (~shailangs@host86-162-150-212.range86-162.btcentralplus.com) ()
[01:37:31] <entropy_> which is not a seconds offset
[01:37:33] <__adrian> you said above that was a timestamp
[01:37:40] <entropy_> yes it is
[01:37:56] <teresko> do you KNOW waht timestamp is?
[01:37:58] <__adrian> then it is NOT "108wks 1day 21hrs 58mins 40secs"
[01:38:04] <__adrian> http://sqlfiddle.com/#!9/3b726c/1
[01:38:22] <__adrian> it's a specific time.
[01:38:22] <entropy_> sweet
[01:38:33] <__adrian> not a duration.
[01:39:09] <teresko> https://en.wikipedia.org/wiki/Unix_time
[01:39:56] <entropy_> __adrian how would i alter this select line with added etc
[01:39:57] <entropy_> select distinct password,public,id,author,description,added,edited,hits,expires from pastes
[01:40:21] <entropy_> with from_unixtime()
[01:40:49] <teresko> you still dont get waht a timestamp is
[01:41:01] <entropy_> a timestamp is seconds since 1970
[01:41:11] <entropy_> or unix time
[01:41:17] <teresko> what happens when you subtract two timestamps?
[01:41:26] <entropy_> you should get seconds, am i right?
[01:41:34] <teresko> what seconds?
[01:41:50] <entropy_> https://3v4l.org/W2vUI
[01:41:52] <entropy_> ^ this
[01:42:07] <teresko> what do you get, when you subtract two timestamps
[01:42:09] <teresko> ?
[01:42:29] <entropy_> in PHP i get the right value (from the https://3v4l.org/W2vUI site)
[01:42:43] <entropy_> but when i do a SQL query, the 'added' is wrong i guess
[01:43:08] <entropy_> be right back
[01:43:35] <__adrian> again, you didn't show the query you're using
[01:48:17] *** Quits: Furai (~Furai@furai.pl) (Quit: WeeChat 3.5)
[01:49:29] <entropy_> select distinct password,public,id,author,description,added,edited,hits,expires from pastes
[01:54:30] *** Quits: guido (~weechat@host-95-247-248-192.retail.telecomitalia.it) (Quit: WeeChat 3.4.1)
[01:55:25] *** Quits: hh (~g@37.214.57.161) (Remote host closed the connection)
[01:55:53] <__adrian> why would you conclude that the math is wrong? there's no math there at all.
[01:56:24] <__adrian> this is what i was referring to above - think about the problems you see so you can know what makes sense to try to solve.
[01:56:56] <__adrian> there's no reason you had to tell us that query to know that it wasn't "adding wrong."
[01:57:20] <__adrian> (aside: why `distinct`?)
[01:59:08] <Hash> Is there anyway a php app can somehow let user select a file from pc and upload it?
[01:59:23] <Hash> I know it's to do with js or something and not php or maybe php, I don't know how to do this feature
[01:59:48] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[02:00:22] <teresko> how do you intend to get your users to install php-fpm?
[02:00:54] <Hash> I am packaging it on a php to windows app compiler that bundles php runtime, browser, and httpd in same executable.
[02:01:06] <Hash> including php-cgi.exe
[02:01:12] <Hash> I don't know if that is fpm or not.
[02:01:30] <teresko> in that case the answer is "with a HTTP client"
[02:01:38] <Hash> I'm trying to let user select a location on their computer
[02:01:51] <Sammitch> html form
[02:02:01] <Hash> one sec
[02:02:36] <Hash> https://i.imgur.com/0M5Pgyq.png This is the app as bundled in windows there.
[02:02:52] <teresko> if the php is running ON the users machine, then you can upload files from users file system using something like Guzzlle (or maybe cURL directly)
[02:02:52] <Hash> Right now, you copy paste a path into there, and program works fine.
[02:02:57] <entropy_> __adrian ok i figured out the problem
[02:03:03] <Hash> No no I'm not looking to upload the fuile
[02:03:05] <entropy_> the function secs_to_h($secs)
[02:03:06] <entropy_> https://mypastebin.com/lBw
[02:03:16] <Sammitch> oh this nightmare again
[02:03:29] <Hash> I'm only trying to make it so that in the Enter Path, (which is an html input right now), can be selected via a dialog.
[02:03:36] <Hash> I'm not actually needing nto uplaod anything via php.
[02:03:43] *** Joins: opeerateur_ (~My_user_n@178.220.220.180)
[02:03:44] <teresko> Sammitch: is that an ongoing madness?
[02:03:55] <Hash> You specify path here, and php does its own thing to process files in that path. path is local on pc
[02:04:09] <Hash> I'm just trying to make it so I don't have to manualyl copy paset the path in the input field each time for every mod
[02:04:10] <Sammitch> teresko: it's a PHP app that you download and run on windows.
[02:04:33] <Hash> Like if there is a way to let user select a location on their pc with a file open dialog box, and then don't use the file but just the directory path
[02:04:38] <Hash> If that makes sense.
[02:04:53] *** Joins: shailangsa (~shailangs@host86-162-150-212.range86-162.btcentralplus.com)
[02:05:23] <Hash> But the only way to open a OS based dialog for file open is via js/browser
[02:05:44] <Hash> And I just need to get the string to the path they select be put in there
[02:05:50] <Hash> Then they click save and it should do its thing as it does.
[02:06:16] <Hash> So this is isn't php now I htink or ever was
[02:06:19] <Sammitch> yeah PHP is not know for its UI integrations, because this is _way_ off the map for what most people would use PHP to write
[02:06:27] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Ping timeout: 260 seconds)
[02:06:28] <Hash> Np
[02:06:46] <Hash> I just have to figure out how to do a file open dialog, let user select a file, and use js to put that file path in the input box.
[02:07:00] <Hash> That'll mimic the file open, select directory feature
[02:07:08] <Hash> instead of manualy copy and pasting the path in the box.
[02:07:22] <Hash> ok thanks
[02:08:19] *** Quits: opeerateur_ (~My_user_n@178.220.220.180) (Ping timeout: 256 seconds)
[02:08:39] <Hash> https://www.youtube.com/watch?v=3dvczfwyYbM in case anyone interested, here's what it looks like and functions
[02:10:43] <teresko> I wold have made it in electron like a sane web developer ... or revived my Java/C# skill ane made a proper native app
[02:13:30] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 260 seconds)
[02:16:25] <Hash> I mean, I could. But man, refactor would take the time.
[02:16:40] <Hash> Plus, I prefer php to js anyway.
[02:16:46] <Hash> even though I suck at both
[02:18:55] *** Quits: newwebdev13 (~newwebdev@78.135.92.89) (Ping timeout: 250 seconds)
[02:20:20] <entropy_> __adrian still there?
[02:20:40] <entropy_> look at 'added' https://mypastebin.com/pastes.php
[02:20:45] <entropy_> shows the secs
[02:20:58] <entropy_> but when i use a function, it doesn't work
[02:21:56] <__adrian> !+doesn't work
[02:21:57] <php-bot> "doesn't work" or "not working" is not a useful metric to debug or solve your problem. More information is needed to address the issue you are experiencing. For example, start by: providing the code in question; describing what you expect the code to do; what it's doing that you didn't expect; and include all error information relevant to your issue (see error reporting) in a pastebin.
[02:22:15] <__adrian> that's a "bad question" - you can't get a good answer from it.
[02:22:50] <__adrian> you need to investigate and include *what you wanted to happen *what code you wrote to do that *what happened instead
[02:30:13] <entropy_> i want to use years and weeks in this function: https://mypastebin.com/7sVPOx
[02:30:15] <entropy_> any ideas?
[02:30:43] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[02:32:07] <deltab> Hash: hmm, maybe use FFI to call the Windows API to create an OpenFile dialog box, or run a powershell script
[02:34:46] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[02:35:57] <__adrian> entropy_: explain the code you wrote. for example, what do you think "@0" means?
[02:38:14] *** Quits: ms49434 (~ms49434@user/ms49434) (Quit: Leaving)
[02:38:19] <Blondie101010> it does what he expects
[02:40:07] <entropy_> i don't know
[02:40:09] <__adrian> one way or the other, he needs to explain it
[02:40:19] <__adrian> so, that's a problem.
[02:40:42] * Blondie101010 nods
[02:40:44] <__adrian> you can't know that your code is good if you don't know what it does. don't write code you don't  understand
[02:40:46] *** Joins: keypusher (keypusher@user/keypusher)
[02:40:52] <Blondie101010> btw, the function works fine when I test it
[02:41:01] <Sammitch> ughhh people using DateTime to format time...
[02:42:03] <teresko> I use it too, with DateTime::ATOM
[02:43:05] <entropy_> __adrian here is the exact problem: if i use: $added = time() - $row["added"]; it works right, but if i try to use a function, it is inacurate
[02:43:20] <entropy_> only not working in this loop though
[02:43:31] <entropy_> it works on my other sites
[02:43:35] <entropy_> so it's gotta be the SQL
[02:43:48] <__adrian> again, does your sql do ANY math at all?
[02:43:52] <entropy_> no
[02:44:01] <__adrian> then it's NOT doing any math wrong.
[02:44:08] <Sammitch> lol I just re-read that code and it's just a very roundabout way to create a DateInterval
[02:44:09] <__adrian> look at the code that you don't understand
[02:44:31] <__adrian> start with the datetime object you made with "@0"
[02:44:37] <Sammitch> new DateInterval("PT{$seconds}S"); // done
[02:44:38] <__adrian> what time do you _think_ that is?
[02:44:48] <__adrian> Sammitch: there's a reason there
[02:45:12] <__adrian> though... i guess they're not using it
[02:45:29] <__adrian> regardless, that's step 10, we're on step 0.5
[02:45:30] <Blondie101010> Sammitch:  sure, but still a nice looking solution
[02:45:56] <__adrian> entropy_: what time do you _think_ "@0" is?
[02:46:51] <__adrian> in your working example, you're doing   time() - $seconds. in your function, you're doing  @0 - @$seconds.
[02:47:10] <__adrian> do you think that "@0" makes the same time that  time()  does?
[02:49:07] <Blondie101010> well, more like: @$seconds - @0
[02:49:55] <entropy_> here
[02:49:56] <entropy_> https://3v4l.org/4b7DM
[02:49:59] <entropy_> this works
[02:50:00] <entropy_> but
[02:50:08] <__adrian> entropy_: not what i asked
[02:50:15] <entropy_> 65488200 secs_to_h(65488200)
[02:50:19] <entropy_> in php doesn't
[02:50:19] <__adrian> see my question above, and answer that first.
[02:50:40] <__adrian> entropy_: what time do you _think_ "@0" is?
[02:50:45] <__adrian> do you think that "@0" makes the same time that  time()  does?
[02:50:46] <entropy_> i have no idea
[02:50:56] <entropy_> should i replace it with time()?
[02:51:02] <__adrian> did i say that?
[02:51:04] <Blondie101010> why are you using a different function now?
[02:51:17] <__adrian> i said "don't write code you don't  understand"
[02:51:29] <entropy_> ok
[02:51:33] <__adrian> so i would certainly not tell you to go write code when you don't understand it yet.
[02:51:35] <entropy_> i copied it from google
[02:51:39] <teresko> I really hope you are doing this as a school project and do not intent seriously to become a professional developer
[02:51:48] <__adrian> you can learn by looking things up on google.
[02:51:50] <teresko> *indend
[02:51:57] <teresko> *intend
[02:51:59] <__adrian> copy+pasting from google does NOT help you at all.
[02:51:59] <teresko> FML
[02:52:12] <Blondie101010> teresko:  maybe he'll become an expert, some day
[02:52:20] <entropy_> teresko how come i can't be a professional developer?
[02:52:30] <entropy_> that's kind of rude
[02:52:33] <entropy_> :/
[02:52:51] <teresko> entropy_: you have the wrong attitude and the way you solve problems is not compatible wit programming
[02:52:55] <Blondie101010> not *that much* considering the time you spend here, but yeah a bit
[02:53:17] <Blondie101010> you should learn by digging and reading, not asking others to solve problems for you
[02:53:28] <__adrian> teresko: those things can change. entropy_: _right now_, yes, it's a blocker
[02:53:41] <entropy_> well for some reason $row["added"] is WRONG in my php
[02:53:46] <entropy_> SQL Query
[02:53:49] <__adrian> nope
[02:53:59] <teresko> __adrian: yesm people can cahnge, most never do
[02:54:00] <__adrian> look at the part you don't understand.
[02:54:21] <__adrian> teresko: so look for the opportunities  :)
[02:55:04] <__adrian> entropy_: start with the manual. see what "@" means when you create a datetime object:  https://php.net/class.datetime
[02:55:20] <__adrian> and see what time() gives you:  https://php.net/time
[02:55:43] <__adrian> then you can figure out what the difference is.
[02:56:02] <teresko> .. I really should go to sleep, but I need to finishe the /employers API endpoint :(
[02:56:24] <Blondie101010> not sure if you expect anyone to find @ in the DateTime page, but good luck for that
[02:56:50] <__adrian> you also need to spend some time thinking about how your math works (what it's doing). figure out _why_ you're starting with  time() and then subtracting the "added" timestamp.
[02:57:15] <Blondie101010> make examples up and calculate them manually
[02:57:37] <__adrian> entropy_: as blondie implied, you might have to read more than one page. follow links.
[02:58:11] <entropy_> i just don't know what %a is in DateTime
[02:58:17] <Blondie101010> I'm frankly unsure if the string date expression syntax is fully documented somewhere
[02:58:19] <entropy_> and all the other % items
[02:58:22] <__adrian> entropy_: take some time to do this. it might take an hour or so. don't give up. come back when you think you have an answer.
[02:58:30] *** Joins: Alex123 (~Adium@2600:1012:b069:6c5f:1119:4d11:4b15:864d)
[02:58:44] <__adrian> the sprint % formatting is not your problem right now, don't worry about it
[02:59:01] <entropy_> ok
[02:59:07] <__adrian> figure out what time() and new DateTime("@0")  do
[02:59:28] <Blondie101010> var_dump() can help you there
[02:59:34] <__adrian> ^
[02:59:53] <__adrian> when you think you understand something, try it out to see if you're right.
[03:01:09] <__adrian> and when you are wrong, don't give up. figure out how you were wrong and why. that's how you learn.
[03:06:47] <entropy_> __adrian this is the code...
[03:06:48] <entropy_> https://mypastebin.com/7sVPOx
[03:07:00] <entropy_> the seconds are a time() value
[03:07:06] <entropy_> unfortunatly
[03:07:11] <entropy_> and not seconds since
[03:07:29] <entropy_> https://3v4l.org/4b7DM
[03:07:31] <entropy_> wors though
[03:07:33] <entropy_> works*
[03:07:56] <entropy_> i'm thinking it has something to do with the sql query?
[03:08:58] <entropy_> it actually works good on other pages i use it on
[03:09:05] <entropy_> just not the pastes page!
[03:09:09] <teresko> ... even though everyone has told you, multiple times, that it has nothing to do with the query itself
[03:09:16] <teresko> ... you just don't like that answer
[03:09:37] <entropy_> well seconds is a time value
[03:09:47] <entropy_> and it's not working on one of my pages
[03:09:50] <Blondie101010> what is a "time value"?
[03:09:57] <entropy_> time()
[03:10:13] <teresko> what does it return?
[03:10:14] <Blondie101010> that does return a number of seconds
[03:10:36] <entropy_> not in my pages.php page, Blondie101010
[03:10:46] <Blondie101010> show that code
[03:11:18] <Blondie101010> is it the previous link?
[03:11:37] <teresko> what does `time()` return, entropy_ ?
[03:11:56] <entropy_> https://mypastebin.com/7sVPOx
[03:12:13] *** Quits: l__q (~modinfo@user/modinfo) (Ping timeout: 250 seconds)
[03:12:15] <entropy_> 1648593528
[03:12:22] <teresko> no
[03:12:30] <teresko> what does time() return IN GENERAL ?
[03:12:48] <entropy_> the seconds elapsed since 1970
[03:12:49] <entropy_> ?
[03:12:54] <Blondie101010> yes
[03:13:07] <teresko> what are those seconds called?
[03:13:16] <entropy_> unix timestamp?
[03:13:29] <Blondie101010> so if you have a start and an end, then the difference between the two is the elapsed number of seconds
[03:13:40] <entropy_> yes Blondie101010
[03:13:45] <teresko> what does the $row['added'] contain ?
[03:14:22] <entropy_> teresko 1583103892
[03:14:22] <teresko> IN GENERAL
[03:15:30] <Blondie101010> is "757 days, 23 hours, 33 minutes and 56 seconds" correct?
[03:15:37] <teresko> no, that is the exact value
[03:15:38] <__adrian> entropy_: i'm not surprised that you're still confused - i said it would probably take some time, maybe an hour or so, or your studying anmd experimenting to  figure it out
[03:15:44] <teresko> what does it contain IN GENERAL?
[03:15:54] <__adrian> it's only been 10 minutes or so.
[03:16:30] <__adrian> i'd guess you simply haven't spent enough time to learn it yet, so please go spend that time
[03:16:52] <entropy_> Blondie101010 i don't think so
[03:16:55] <__adrian> otherwise we're just talking about _more_ things you don't understand yet.
[03:17:29] <Blondie101010> entropy_:  mmmm, you do have to be absolutely sure before you reply to that
[03:17:33] <Blondie101010> so count it manually
[03:18:23] <entropy_> Blondie101010 https://3v4l.org/k1Nu1
[03:18:25] <entropy_> doesn't work
[03:18:45] *** Joins: newwebdev13 (~newwebdev@78.135.92.89)
[03:18:56] <Blondie101010> what do you mean "doesn't work"?
[03:19:12] <entropy_> it doesn't return seconds
[03:19:29] <Blondie101010> so far we all see the other function and that simple subtraction working while you apparently don't, so we can't guess what's wrong in your head
[03:19:41] <Blondie101010> of course it returns seconds
[03:20:00] <entropy_> added secs: 40753
[03:20:05] <Blondie101010> 10 seconds - 5 seconds = 5 seconds
[03:20:19] <Blondie101010> how me how you come up with that?
[03:20:24] <Blondie101010> *show
[03:21:14] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[03:21:18] <entropy_> 	$addedx = time() - $row["added"];
[03:21:51] *** Quits: Alex123 (~Adium@2600:1012:b069:6c5f:1119:4d11:4b15:864d) (Quit: Leaving.)
[03:21:52] <entropy_> and it's accurate
[03:21:52] <Blondie101010> var_dump(time(), $row["added"]);
[03:22:11] <Blondie101010> if it is, then your other numbers are wrong
[03:22:42] <entropy_> int(1648594152) string(10) "1583103892"
[03:22:57] <teresko> when you say "not accurate", what do you mean?
[03:23:23] <entropy_> sometimes it returns 52y etc
[03:23:33] <entropy_> when i put it into a function
[03:23:46] <entropy_> otherwise it echos fine
[03:24:15] <teresko> with "sometimes" you mean "with some other rows"
[03:24:22] <teresko> right?
[03:24:51] <entropy_> it only screws up when i put it in a function
[03:25:08] <entropy_> otherwise if i echo the $row["added"]
[03:25:10] <entropy_> it works
[03:25:12] <Blondie101010> stop
[03:25:22] <entropy_> ok
[03:25:51] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Ping timeout: 250 seconds)
[03:26:13] <Blondie101010> how can 1648594152 - 1583103892 = 40753
[03:27:42] *** Quits: pmercado (~pmercado@190.22.73.57) (Ping timeout: 260 seconds)
[03:28:03] <entropy_> i don't know
[03:28:11] <Blondie101010> I wish you could tell me
[03:28:16] <Blondie101010> it's sooooo far from right
[03:28:24] <Blondie101010> 65490260 is the correct answer
[03:29:13] <Blondie101010> so show me how you got that 40753 number
[03:29:50] <entropy_> it's not showing it anymore
[03:29:52] <entropy_> it's weird
[03:30:14] <Blondie101010> I'd expect something a bit different since time has passed, but not much
[03:30:23] <entropy_> me too
[03:30:39] <Blondie101010> well if it changed, it means that YOU changed something :)
[03:31:31] <entropy_> ok so now it...
[03:31:32] <entropy_> 	$addedx = time() - $row["added"];
[03:31:32] <entropy_> 	die($addedx);
[03:31:39] <entropy_> is nothing
[03:31:50] <Blondie101010> please define "nothing"
[03:32:04] <entropy_> it die's the page with nothing echoed
[03:32:14] <Blondie101010> var_dump()
[03:32:31] <Blondie101010> at least that would show some invisible things
[03:32:51] <Blondie101010> like an empty string, a null, boolean, etc
[03:32:54] <entropy_> now it echos
[03:32:55] <entropy_> int(65490858)
[03:33:16] <Blondie101010> does the data in your DB change?
[03:33:43] <entropy_> only when they update the paste or expires
[03:33:52] <entropy_> but added is always the same
[03:34:13] <Blondie101010> what do you add for that "added"?
[03:34:42] <entropy_> $time = time();
[03:34:50] <entropy_> it adds $time to the database
[03:35:01] <Blondie101010> what?
[03:35:13] <Blondie101010> can you express it as grade 5 Math?
[03:35:18] <entropy_> "added" is time()
[03:35:27] <Blondie101010> that doesn't add up
[03:35:45] <Blondie101010> I really don't follow
[03:36:14] <entropy_> hmmm
[03:36:59] <Blondie101010> today + yesterday doesn't make sense, even if you wanted to represent a time 50 years in the future
[03:37:58] <teresko> I think he is trying to tell you that "added" is the current timestamp at themoment onf insertion
[03:38:22] <Blondie101010> ah maybe, I got that
[03:38:31] <teresko> ... at least I hope it is
[03:38:54] <Blondie101010> probably not considering that the numbers don't match his expectation
[03:40:29] <Blondie101010> entropy_:  now you need to learn the basics of unit testing, and that does NOT involve a changing DB or random records
[03:40:39] <Blondie101010> be ABSOLUTELY specific
[03:42:02] *** Joins: gonogo (~gonogo@167.88.62.87)
[03:42:59] <entropy_> ok
[03:43:10] <entropy_> https://mypastebin.com/pastes.php <- see under "added" it's a seconds value
[03:43:41] <entropy_> but when i use secs_to_h($secs) <= it's wrong
[03:43:51] <teresko> why is there and entry with 5707875  for "added" ?
[03:44:21] <teresko> what does that value mean?
[03:44:56] <entropy_> i do not know
[03:45:10] <teresko> you wrote the code, didn't you?
[03:45:24] <entropy_> yes
[03:45:44] <entropy_> 	$addedx = time() - $row["added"];
[03:45:44] <entropy_> 	echo "<td>{$r}</td><td>{$row['author']}</td><td>{$row['description']}</td><td>{$addedx}</td><td>{$ed}</td><td>{$row['hits']}</td><td>{$ex}</td>\n";
[03:45:50] <entropy_> this is the code
[03:46:09] <entropy_> but it's not getting the seconds
[03:46:15] <entropy_> it looks like a time() value
[03:47:10] <entropy_> a few are working
[03:47:13] <entropy_> but all of them not
[03:47:20] <Blondie101010> stop
[03:47:21] <entropy_> all the rest*
[03:47:23] <entropy_> ok
[03:47:34] <Blondie101010> that table is not sorted and contains hundreds of records
[03:47:44] <Blondie101010> be very SPECIFIC in your query
[03:48:09] *** Joins: CapitalistPunk (~Capitalis@liledevil.xs4all.nl)
[03:48:18] <Blondie101010> I only want to see ONE record
[03:48:47] <entropy_> ok
[03:49:00] *** Quits: TheCapitalistPun (~Capitalis@liledevil.xs4all.nl) (Ping timeout: 240 seconds)
[03:49:46] <entropy_> Blondie101010 https://mypastebin.com/pastes.php
[03:49:49] <Hash> I might have to try that deltab
[03:49:51] <entropy_> it's not the latest paste
[03:50:18] <Hash> webkitRelativePath is the only thing provided by chrome and/or firefox has it's mozpath thing, but doesn't give you the full path on local disk, due to js/browser security concerns.
[03:50:19] *** Joins: l__q (~modinfo@user/modinfo)
[03:50:29] <Blondie101010> entropy_:  that 'added' field was either incorrect, or done many years ago!!!
[03:51:07] <Hash> ironman-dev/D2BuffIcons.dll
[03:51:08] <teresko> Blondie101010: taht already is his subtracted value
[03:51:17] <Hash> that's the extent of the path provided by js.
[03:51:55] * teresko AFK - sleep 
[03:53:39] <Blondie101010> you're probably right
[03:58:15] <deltab> Hash: oh, the links I found: https://devblogs.microsoft.com/scripting/hey-scripting-guy-can-i-open-a-file-dialog-box-with-windows-powershell/ https://github.com/dizcology/windows-dialog-boxes/blob/master/dialog_boxes.rb https://love2d.org/forums/viewtopic.php?t=82442
[03:58:50] <Hash> Brilliant, thanks
[04:00:31] <Albright> Love2D is fun
[04:04:32] <entropy_> Blondie101010 maybe the problem is datatables?
[04:05:12] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 272 seconds)
[04:12:51] *** Quits: w_lehinsun__ (~lehinsun@188.113.178.220) (Quit: Leaving)
[04:16:20] <entropy_> ok when i....
[04:16:21] <entropy_> 	echo "<td>{$r}</td><td>{$row['author']}</td><td>{$row['description']}</td><td>".$test." y "."</td><td>{$ed}</td><td>{$row['hits']}</td><td>{$ex}</td>\n";
[04:16:27] <entropy_> $test." y "
[04:16:30] <entropy_> screws up
[04:16:37] <entropy_> i think it is only allowed a number
[04:16:48] <entropy_> and when i add characters, it messes up
[04:20:16] <Blondie101010> what do you mean add characters?
[04:20:31] <Blondie101010> please be specific in what you say so that we don't have to guess continuously
[04:20:54] <entropy_> $test." y "
[04:21:00] <entropy_> when i add "y"
[04:21:06] <entropy_> it messes up the sql
[04:21:06] <Blondie101010> what's the problem with that?
[04:21:23] <Blondie101010> where does $test come from?\
[04:21:34] <entropy_> 	$test = time() - $row["added"];
[04:21:47] <entropy_> works unless i add a character
[04:23:16] <entropy_> it must be DataTables
[04:29:32] <Blondie101010> show me with the "add a character" part
[04:30:52] <Blondie101010> of course it would be wise to focus on the specific part you're troubleshooting without relying on a JS interface with its own bugs
[04:32:46] <entropy_> 	echo "<td>{$r}</td><td>{$row['author']}</td><td>{$row['description']}</td><td>".secs_to_h($test)."</td><td>{$ed}</td><td>{$row['hits']}</td><td>{$ex}</td>\n";
[04:32:56] <entropy_> this messes up the sql sorting
[04:33:02] <entropy_> but when i just use: $test
[04:33:03] <entropy_> it's fine
[04:33:48] <Blondie101010> why are you talking about sql after showing an HTML template?
[04:34:35] <entropy_> i don't know
[04:34:37] <entropy_> i was confused
[04:34:41] <Blondie101010> simplify your tests
[04:34:50] <Blondie101010> the output should not be HTML
[04:44:43] *** Quits: omegatron (~some@p5b056cb8.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[04:48:29] <entropy_> damnit i'm lost as to how to sort using a different value then the numeric
[04:53:22] *** Quits: Poboy (~Poboy@user/poboy) (Quit: Client closed)
[04:57:47] <entropy_> LOL!
[04:57:49] <entropy_> finally!
[04:57:50] <entropy_> it works :)
[04:58:04] <entropy_> thansk guys so much for all the help!
[04:58:12] <entropy_> as __adrian said i would learn how to do this on my own :)
[05:01:35] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:05:22] *** Joins: vlm (~vlm@user/vlm)
[05:18:22] *** Quits: l__q (~modinfo@user/modinfo) (Ping timeout: 260 seconds)
[05:19:12] *** Joins: funhouse (~funhouse@user/funhouse)
[05:22:11] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[05:26:47] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Ping timeout: 252 seconds)
[05:35:38] *** Joins: l__q (~modinfo@user/modinfo)
[05:43:06] *** Joins: eddof13 (~eddof13@2806:102e:12:64:8553:23df:507a:ff04)
[05:43:25] *** Quits: eddof13 (~eddof13@2806:102e:12:64:8553:23df:507a:ff04) (Client Quit)
[06:07:27] *** Quits: l__q (~modinfo@user/modinfo) (Ping timeout: 256 seconds)
[06:11:25] *** Quits: ProfSimm (~ProfSimm@87.227.196.109) (Remote host closed the connection)
[06:13:54] *** Joins: keypushe- (keypusher@user/keypusher)
[06:13:55] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 256 seconds)
[06:16:46] *** keypushe- is now known as keypusher
[06:30:16] *** Joins: l__q (~modinfo@user/modinfo)
[06:49:20] *** Joins: jargon (~jargon@184.101.173.186)
[07:42:19] *** Quits: genomc (uid245282@id-245282.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[07:44:47] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 260 seconds)
[08:02:09] *** Quits: travisghansen (~travisgha@192.74.130.86) (Quit: The Lounge - https://thelounge.github.io)
[08:03:54] *** Joins: travisghansen (~travisgha@192.74.130.86)
[08:13:44] *** Quits: bobdobbs (~user@2406:5a00:4456:db00:6044:fd9a:1b3c:5456) (Remote host closed the connection)
[08:16:25] *** Quits: sreve (~quassel@p4ff44dd2.dip0.t-ipconnect.de) (Ping timeout: 250 seconds)
[08:16:54] *** Joins: sreve (~quassel@p4ff44df2.dip0.t-ipconnect.de)
[08:22:23] *** Joins: haven (~haven@185.101.98.248)
[08:22:28] <haven> I have an app that has a button that pulls logs from an sql table, makes a tmp file and automatically downloads it via readfile(). All good, but now we have a site that has basically a read-only filesystem (fwrite not allowed anyway). Can I write directly to the php://ouput stream or get readfile() to accept a string that is just a string instead of a file? (it has an optional stream context parameter I do not
[08:22:34] <haven> understand)
[08:30:22] *** Quits: Numline1 (~Numline1@user/numline1) (Quit: I'll be back...)
[08:30:53] *** Joins: Numline1 (~Numline1@user/numline1)
[08:33:05] *** Quits: funhouse (~funhouse@user/funhouse) (Quit: Client closed)
[08:51:10] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[08:53:50] <Blondie101010> you don't need readfile()  ..  the name itself discards it from your need
[08:54:08] <Blondie101010> just output the contents directly
[08:57:34] <haven> Blondie101010: How can I automatically trigger the download? (that was the cool thing readfile did)
[08:57:52] <Blondie101010> that's a header thing...  no change there
[08:58:15] <Blondie101010> all readfile() does is read the file and echo it
[08:58:39] <Blondie101010> can't see why you did it that way
[08:59:44] <haven> To output 'directly' would I go for php://output (that is what I am currently trying)
[09:01:30] <Blondie101010> echo
[09:02:21] <Blondie101010> try replacing your readfile() with a test echo statement
[09:12:28] *** Quits: Awaru (Awaru@gateway/vpn/airvpn/awaru) (Quit: Awaru)
[09:16:54] <mishehu> echo .cho ..ho ...o ....
[09:19:59] *** Quits: l__q (~modinfo@user/modinfo) (Ping timeout: 252 seconds)
[09:22:57] *** Joins: l__q (~modinfo@user/modinfo)
[09:23:06] *** Quits: newwebdev13 (~newwebdev@78.135.92.89) (Quit: Leaving)
[09:24:19] *** Joins: genomc (uid245282@id-245282.hampstead.irccloud.com)
[09:25:22] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[09:28:19] *** Quits: l__q (~modinfo@user/modinfo) (Ping timeout: 260 seconds)
[09:29:03] <deltab> haven: how are you writing the file? instead of writing to the file, write to the output stream
[09:30:11] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Ping timeout: 260 seconds)
[09:31:34] *** Joins: l__q (~modinfo@user/modinfo)
[09:49:23] *** Quits: l__q (~modinfo@user/modinfo) (Read error: Connection reset by peer)
[09:50:31] *** Joins: Awaru (Awaru@gateway/vpn/airvpn/awaru)
[09:56:11] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[09:57:41] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[10:02:20] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Ping timeout: 252 seconds)
[10:13:18] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[10:16:00] *** Joins: l__q (~modinfo@user/modinfo)
[10:26:04] *** Joins: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net)
[10:28:32] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[10:33:23] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Ping timeout: 260 seconds)
[10:34:04] *** Quits: l__q (~modinfo@user/modinfo) (Ping timeout: 272 seconds)
[10:34:46] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[10:35:39] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Remote host closed the connection)
[10:36:54] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[10:46:01] *** Joins: l__q (~modinfo@user/modinfo)
[10:48:49] *** Joins: ProfSimm (~ProfSimm@87.227.196.109)
[10:49:31] *** Quits: Tempesta (~Tempesta@user/tempesta) (Quit: AdiIRC is updating to v4.2)
[10:49:53] *** Joins: Tempesta (~Tempesta@user/tempesta)
[11:00:02] *** Quits: kerunaru (~Jmcb@117.red-79-144-96.dynamicip.rima-tde.net) (Ping timeout: 272 seconds)
[11:00:11] *** Joins: luigibu (~luigi@93.176.153.88)
[11:02:51] *** Joins: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3928)
[11:10:15] *** Joins: guido (~weechat@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f)
[11:19:10] *** Quits: guido (~weechat@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f) (Quit: WeeChat 3.4.1)
[11:23:18] *** Joins: Deuchnord (~Deuchnord@user/deuchnord)
[11:28:31] *** Joins: guido (~weechat@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f)
[11:32:20] *** Joins: dimi1947 (~dimi1947@46.198.247.237)
[11:47:03] *** Joins: Furai (~Furai@furai.pl)
[11:55:37] *** Quits: wilk (~wilk@user/wilk) (Ping timeout: 256 seconds)
[12:01:47] *** Joins: novns (~novns@user/novns)
[12:02:04] *** Quits: Tempesta (~Tempesta@user/tempesta) (Ping timeout: 265 seconds)
[12:03:33] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 256 seconds)
[12:04:11] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[12:05:55] *** Joins: opeerateur_ (~My_user_n@91.143.220.230)
[12:07:47] *** Joins: richardjh (~Thunderbi@51.219.41.0)
[12:08:34] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 246 seconds)
[12:09:14] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[12:09:27] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[12:15:30] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[12:21:39] *** Joins: Tempesta (~Tempesta@user/tempesta)
[12:29:53] *** Joins: ordos (~ordos@user/ordos)
[12:37:44] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[12:41:22] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Quit: Leaving.)
[12:42:52] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[12:43:04] *** Quits: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com) (Client Quit)
[12:50:53] *** Quits: Tempesta (~Tempesta@user/tempesta) (Quit: See ya!)
[12:56:55] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 260 seconds)
[12:57:47] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[13:07:01] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 256 seconds)
[13:07:24] *** Quits: Vision (~Vision@023-084-128-214.res.spectrum.com) (Ping timeout: 240 seconds)
[13:08:39] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[13:12:03] *** Joins: olle (~olle@c-8a89e455.034-536-6d6c6d4.bbcust.telenor.se)
[13:18:44] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 272 seconds)
[13:19:57] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[13:25:04] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 272 seconds)
[13:26:05] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[13:26:22] *** Joins: retrochaos (~retrochao@2a00:23c7:820a:ab01:ff04:c29d:9adc:50f9)
[13:26:36] *** Joins: tuskkk____ (uid18470@id-18470.tinside.irccloud.com)
[13:27:02] <arash> Hello, which one is recommended in the matter of coding style/readable code? $products = wc_get_products($args); foreach ($products as $product); or foreach (wc_get_products($args) as $product);
[13:28:02] <olle> Doesn't matter much, IMO
[13:28:04] <ordos> The former is arguably more elegant and readable, the latter is (I suspect) more optimal at scale
[13:28:09] <olle> arash: Just follow your PSR-12 or other standard
[13:29:19] <retrochaos> I'll go with the middle option personally but that was just the way the seniors do it in my company.
[13:30:10] <olle> One could argue why not use array_map instead?
[13:30:11] <olle> But yeah
[13:30:22] <olle> array_map + pipe operator :D
[13:30:31] <olle> Where's that Larry guy....
[13:32:31] <Naktibalda> inlining is fine if you don't repeat it and don't exceed 120 characters line length
[13:33:18] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 272 seconds)
[13:34:27] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[13:37:05] * ordos hands Naktibalda the next stack of punch cards
[13:42:22] *** Quits: tccki (~tccki@box.webslate.co.nz) (Ping timeout: 246 seconds)
[13:43:01] *** Joins: tccki (~tccki@box.webslate.co.nz)
[13:45:10] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 246 seconds)
[13:45:39] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[13:45:42] *** Quits: dimi1947 (~dimi1947@46.198.247.237) (Quit: Leaving)
[13:51:05] *** Joins: LucaTM (~LucaTM@user/lucatm)
[13:57:01] *** Quits: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3928) (Ping timeout: 245 seconds)
[14:08:29] *** Quits: retrochaos (~retrochao@2a00:23c7:820a:ab01:ff04:c29d:9adc:50f9) (Ping timeout: 250 seconds)
[14:10:13] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 240 seconds)
[14:11:02] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[14:16:10] *** Quits: yano (~yano@ircpuzzles/staff/yano) (Remote host closed the connection)
[14:16:49] *** Joins: yano (~yano@ircpuzzles/staff/yano)
[14:22:47] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 260 seconds)
[14:23:34] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[14:25:01] *** Quits: tccki (~tccki@box.webslate.co.nz) (Ping timeout: 240 seconds)
[14:26:15] *** Joins: tccki (~tccki@box.webslate.co.nz)
[14:37:01] *** Joins: thiras (~thiras@user/thiras)
[14:37:43] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 260 seconds)
[14:38:36] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[14:44:44] *** Joins: TigerDuck (~ralf@200116b826e96f00038986f2a38902b3.dip.versatel-1u1.de)
[14:45:44] <TigerDuck> Hi there.
[14:46:27] <TigerDuck> I'm trying to work out, how to get openssl_decrypt with cipher aes-256-gcm to work
[14:47:00] <TigerDuck> I have some example code at https://extendsclass.com/php-bin/5ce041f
[14:47:57] <TigerDuck> Encrypting and immediately decrypting a secret while making use of the same variables for the key, tag, and iv works flawlessly.
[14:48:49] <TigerDuck> But when I try to decrypt something by feeding openss_decrypt with formerly saved data, it fails without an error
[14:49:13] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 246 seconds)
[14:50:07] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[14:50:14] <ordos> TigerDuck, how are you saving said data? Are you able to compare said data before saving and after lookup post-save?
[14:51:14] <TigerDuck> ordos: I tried various ways. I mostly used base64_encode to convert it to something that can be easily transfered and stored
[14:52:33] <TigerDuck> Especially the Initialization Vector normally contains unprintable chars, to prevent it from being corrupted, i. e. when stored in a DB or vault, I base64_encoded it
[14:53:00] <TigerDuck> and decoded it before feeding it back into openssl_decrypt
[14:56:37] <ordos> TigerDuck, do you have a stripped down version of the PHP code (less all the templating in your example above)
[14:57:03] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 260 seconds)
[14:57:05] <TigerDuck> I'll strip it down, hang on please
[14:57:36] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[14:58:49] *** Quits: Deuchnord (~Deuchnord@user/deuchnord) (Ping timeout: 272 seconds)
[15:03:53] *** Joins: delboy1978uk (~delboy197@d51A4773C.access.telenet.be)
[15:03:55] <ordos> TigerDuck, sure, no rush. As a precautionary measure, use base64_decode in its strict mode to test that all characters contained in the encoded string are within the base64 alphabet.
[15:04:06] <delboy1978uk> morning guys o/
[15:05:09] <TigerDuck> ordos: Good point. I'm already using STRICT in my "real" code
[15:05:36] <delboy1978uk> I'm just lolling at double negative code right now, `if (!$this->event->getEndDate() > $now) {` I mean why not ditch the ! and use < instead?
[15:05:51] <olle> <=
[15:06:04] <delboy1978uk> it's like the old $noTemplate = false; i saw in my old work :P
[15:06:16] <olle> But ! binds tighter than >, so
[15:06:31] <olle> It's bool > string or int
[15:06:43] <delboy1978uk> ah cool
[15:07:04] <olle> Types matter, people :)
[15:07:24] <delboy1978uk> $noTemplate = false though is just dumb :P
[15:08:33] <teresko> 2at
[15:08:40] <teresko> I mean: wat
[15:11:37] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 260 seconds)
[15:12:17] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[15:16:53] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 260 seconds)
[15:18:23] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[15:27:46] <TigerDuck> ordos: I cut it down somewhat, removed the HTML stuff: https://extendsclass.com/php-bin/c6d0a5c
[15:28:47] *** Quits: mintoyatsu (~mint@user/mintoyatsu) (Remote host closed the connection)
[15:29:50] <ordos> TigerDuck, ok so at first glance I'd suggest you use a multi-byte substr when working with encoded data
[15:29:56] <ordos> https://www.php.net/manual/en/function.mb-substr.php
[15:30:17] <TigerDuck> There's three parts: Encryption, Decryption which is fed the data from the encryption above, which is obviously working, and  the attempt to decrypt another secret with the same method
[15:31:36] <TigerDuck> ordos: In this case, I wouldn't expect any multibyte characters in the strings I'm taking substrings of
[15:32:14] <TigerDuck> To my knowledge, hash("sha256", $string) would always produce an ASCII string
[15:32:49] *** Joins: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3928)
[15:34:16] <TigerDuck> But I'll have a look into that
[15:35:10] *** Quits: toastloop (~toastloop@user/toastloop) (Quit: ZNC - https://znc.in)
[15:37:22] <jargon> http://puzzlum.org/repo/?prj=main&sect=ladders <-- why do some of my diskettes not display labels?
[15:37:24] *** Joins: toastloop (~toastloop@user/toastloop)
[15:37:25] <TigerDuck> I've been puzzling over this problem for 4 days now
[15:38:16] <TigerDuck> jargon: image file missing?
[15:38:25] <jargon> :/
[15:39:08] <TigerDuck> hm, they are all using floppy-overlay.png?
[15:39:26] *** Quits: guido (~weechat@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f) (Quit: WeeChat 3.4.1)
[15:39:40] <TigerDuck> Oh, I see, CSS background-image
[15:40:16] <jargon> The thumbnails  are valid, they just don't all display.
[15:40:27] <TigerDuck> The whitespaces in the directory names could cause problems
[15:40:58] <jargon> How do I fix that>
[15:41:00] <jargon> ?
[15:41:28] <TigerDuck> My first shot would be urlencode
[15:41:47] <TigerDuck> This should convert " " to %20
[15:42:10] <jargon> It is supposed to check for thumbs, then select one at random, otherwise a placeholder, and show it inset in the floppy diskette.
[15:42:16] <TigerDuck> https://www.php.net/manual/en/function.urlencode
[15:43:26] *** Joins: Northwoods (~Northwood@202.14.123.255)
[15:43:37] *** Joins: ms49434 (~ms49434@user/ms49434)
[15:43:38] <TigerDuck> That's why I never use whitespaces in directory names, file names, or URLs
[15:44:40] <jargon> I already have an html cleanup tool I wrote that automatically fixes all the oddball urls.
[15:45:01] <TigerDuck> http://puzzlum.org/repo/vault/Mind%20Realm%2097a/thumbs/Screenshot%202021-11-13%2023.10.45%204%20level%20run%20part%203%20of%204.png <-- That's how the image is displayed
[15:45:09] <ProfSimm> jargon: TigerDuck: % is not allowed in filenames on some OS
[15:45:23] <TigerDuck> ProfSimm: ACK
[15:45:31] <ProfSimm> jargon: TigerDuck: I use a custom encoder with _ for escape char
[15:45:44] <TigerDuck> ProfSimm: That's why I do not use %20 in filenames, either. I fall back to _
[15:46:30] <TigerDuck> jargon: Just run the URLs for your images through urlencode and you should be fine
[15:47:49] <Northwoods> i need to read 9470 records from an excel file and save to db , approx how much time should it take ?
[15:48:09] <TinoDidriksen> Max 1 second.
[15:48:28] <ordos> Northwoods, how many columns, what sort of data
[15:49:02] <ordos> but yeah, even at (assuming you're using MySQL) MySQL's table row size threshold, TinoDidriksen is still probably corrcet
[15:49:13] <Northwoods> ordos https://nearlynatural.app.box.com/v/dropshipdatafeed
[15:49:18] <Northwoods> TinoDidriksen, lol
[15:49:24] <Northwoods> impossible
[15:49:47] <TinoDidriksen> Why? That's honestly what I would expect. Read 10k rows, do a transaction insert, commit.
[15:50:36] <Northwoods> i had been using upload data via excel sheet 3 columns, mysql db via php it would still take me 30 secs
[15:50:46] <Northwoods> only 5k records
[15:50:49] <TinoDidriksen> The slowest part is opening the Excel document.
[15:50:58] <Northwoods> i see
[15:51:27] <Northwoods> so in all , how much time do you think for this process , ( uploading file ) and reading and insert 10k to mysql
[15:51:52] <Naktibalda> why does it matter what we think? try it and see
[15:52:12] <ordos> Northwoods, the difference will be so negligible that our opinion on how long it'll take is irrelevant
[15:52:12] <TinoDidriksen> Try it, benchmark and figure out what the bottleneck is, optimize that if possible.
[15:52:21] <jargon> This still doesn't answer my question why some images fail to display.
[15:52:34] <Naktibalda> jargon: it isn't a PHP question
[15:53:06] <Northwoods> allright , thanks all
[15:53:25] <Naktibalda> jargon: try to open image link in your browser directly and see if it works
[15:53:57] <TigerDuck> jargon: See the link I pasted further up? That's one of your images from the source code
[15:54:12] <Northwoods> Will the process also depend of up libarary which i use to open/read excel file
[15:54:15] <TigerDuck> See, how "my" link differs from the one in your source
[15:54:32] <TigerDuck> Northwoods: Most definitely
[15:54:47] <TigerDuck> Libraries differ in performance
[15:55:15] <Northwoods> i am using  $xlsx = SimpleXLSX::parse($upfile)
[15:55:18] <TinoDidriksen> I wouldn't even use a library - just zip+DOM. But that only works if the data is plain and not Excel formulae.
[15:55:41] <Northwoods> TinoDidriksen, it is indeed plain data
[15:55:50] <TinoDidriksen> But really, just time each part, see what takes time.
[15:56:16] <Northwoods> how do we time each part ?
[15:56:37] <TigerDuck> Grab the time before and after a step
[15:56:39] <TinoDidriksen> Keep some microtime(true) values around, compare at interesting points.
[15:56:50] <TigerDuck> What TinoDidriksen says
[15:57:03] <jargon> https://pastebin.com/3rbse1Ht
[15:57:58] <TigerDuck> jargon: Where does the URL in the background-image come from? Is it generated by your code?
[15:58:19] <TigerDuck> Or pulled from a list and put there by your code?
[15:58:46] <ordos> TigerDuck, I'm tring to make sense of the sequence of events in your function calls [ $a = base64_encode($iv); $b = openssl_encrypt(..., $iv, ...); $c = base64_encode($b); $d = base64_decode($a); $e = openssl_decrypt($b, ..., $d);
[15:58:46] <ordos> ]. Can you perhaps prepare an even more stripped down version that clearly demonstrates the issue with minimal output.
[15:58:53] <jargon> TigerDuck, urlencode changes my foreward slashes to %2F
[15:59:16] <TinoDidriksen> Why would you urlencode() it? It's going into HTML, not URLs.
[15:59:37] <Northwoods> TinoDidriksen, TigerDuck wouldn't it be easy to read a file from live url than to download it and then upload it to my own server to read it ?
[15:59:54] <TinoDidriksen> Northwoods, yes, if it's a public file.
[15:59:56] <Northwoods> they have live data feed , we need to sync with it once a day
[16:00:04] <TinoDidriksen> That sounds much easier, yes.
[16:00:11] <jargon> TigerDuck. would you like a copy of my repo software I am writing? It is 2MiB.
[16:00:17] <Northwoods> TinoDidriksen, perfect , thanks
[16:01:37] <jargon> nm need sleep ZZzz...
[16:07:12] *** Joins: Deuchnord (~Deuchnord@user/deuchnord)
[16:08:26] *** Joins: ArchDave (~Archdave2@user/ArchDave2)
[16:08:32] *** Joins: guido (~weechat@host-95-238-17-41.retail.telecomitalia.it)
[16:10:15] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 250 seconds)
[16:11:12] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[16:14:08] <TigerDuck> ordos: https://extendsclass.com/php-bin/ef31357 .... stripped down even further
[16:15:41] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 250 seconds)
[16:16:29] <TigerDuck> TinoDidriksen: Well, the URLs to the images containing whitespaces are obviously not loaded by the browser. Converting the URLs into something the browser understands would surely improve that
[16:16:54] *** Quits: ArchDave (~Archdave2@user/ArchDave2) (Quit: leaving)
[16:16:59] <TinoDidriksen> URLs are fine with spaces in them in HTML.
[16:17:24] *** Joins: ArchDave (~Archdave2@user/ArchDave2)
[16:17:28] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[16:17:48] <TigerDuck> TinoDidriksen: OK, I cannot explain then, why the images aren't loaded, when their paths and filenames contain whitespaces
[16:19:07] <TinoDidriksen> Potentially because it's not just HTML, but actually CSS or JS. Those may need extra escaping, and this is a common issue with embedding languages into each other. But plain HTML attributes do not.
[16:19:51] *** Joins: pmercado (~pmercado@190.22.73.57)
[16:19:53] <TigerDuck> jargon: Is the CSS generated dynamically by your code?
[16:20:54] <Blondie101010> that is a bad idea...  linking the proper css files is much better
[16:21:37] <TigerDuck> If so, try something like: $style = "background-image:url(" . urlencode($URL) . ");"
[16:21:53] *** Joins: GoldLeader87 (~GoldLeade@D57D084A.static.ziggozakelijk.nl)
[16:22:00] <TigerDuck> Blondie101010: Which is hard to do if it's dynamic
[16:22:42] <TigerDuck> Like if the background-image URLs are pulled from a DB
[16:22:56] <Blondie101010> that's unclear but in the worst case scenario do like 99% of web devs and just include EVERYTHING they ever needed :)
[16:23:05] <Blondie101010> hummmm
[16:23:13] <TigerDuck> Blondie101010: https://pastebin.com/3rbse1Ht
[16:23:16] <Blondie101010> why are images in your DB?
[16:23:24] <TigerDuck> Blondie101010: URLs, not images
[16:23:50] <TigerDuck> That's common sense, to refer to meta data in a DB, but have the meta data in a filesystem
[16:24:16] <TigerDuck> Although, I once met someone, who tried to store his CD ISOs in a MySQL DB
[16:24:19] <Blondie101010> of course..  not what I read
[16:24:27] <Blondie101010> sure
[16:24:55] <Blondie101010> ok so what's the problem with the paste?
[16:25:13] <TigerDuck> My question there: Why stop at CD ISOs, why not go all the way to Blueray ISOs? ;)
[16:25:21] <Robdgreat> TigerDuck: maybe someone threatened to harm his loved ones if he stored files in a filesystem
[16:25:35] <Robdgreat> you don't know what people have going on
[16:25:48] <TigerDuck> Blondie101010: The image URLs contain whitespaces: http://puzzlum.org/repo/?prj=main&sect=ladders <--- that's why they are missing here
[16:26:18] <TigerDuck> Robdgreat: I didn't consider that, I have to admit
[16:27:47] <Blondie101010> why the heck would you create filenames with spaces if it represents an annoyance?
[16:27:54] <Blondie101010> remove the space, solved
[16:28:06] <TigerDuck> Blondie101010: That's what I thought :)
[16:32:08] *** Quits: roadie (~user@2a02:8108:5a40:1d87:bc7a:bbe4:d21a:4cbd) (Ping timeout: 260 seconds)
[16:33:15] <TigerDuck> ordos: It's quite strange, that openssl_decrypt fails to decrypt a secret, although I feed it with the encrypted secret, the correct cipher, initialization vector, key, and tag, isn't it?
[16:52:51] <TigerDuck> ordos: I just read https://www.cryptosys.net/pki/manpki/pki_aesgcmauthencryption.html .... It appears, you wouldn't need to provide a tag for encryption, because on is create WITH the encryption
[16:53:20] <ordos> Well you could try that, see if it works?
[16:53:44] <ordos> I must confess I struggled to make sense of the code (even after I stripped out all the function calls and removed the rest). This is an odd sequence: $a = base64_encode($iv); $b = openssl_encrypt(..., $iv, ...); $c = base64_encode($b); $d = base64_decode($a); $e = openssl_decrypt($b, ..., $d);
[16:54:03] <ordos> Trying to wrap my mind around what you're trying to do there was a bit of a rabbit hole! ^_^
[16:54:05] <TigerDuck> ordos: So, my self-defined tag is not the one that is used in my first decryption attempt (which works), because it's overwritten with the encryption
[16:56:25] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 250 seconds)
[16:56:32] *** Quits: TigerDuck (~ralf@200116b826e96f00038986f2a38902b3.dip.versatel-1u1.de) (Read error: Connection reset by peer)
[16:57:00] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[16:57:26] *** Joins: TigerDuck (~ralf@200116b826e96f00038986f2a38902b3.dip.versatel-1u1.de)
[16:57:54] <TigerDuck> Ooopsie, my pidgin crashed .... That's new
[16:58:28] *** Joins: roadie (~user@2a02:8108:5a40:1d87:bc7a:bbe4:d21a:4cbd)
[16:58:33] <TigerDuck> ordos: Nevertheless ... Thanks for triggering some new thought processes here
[16:58:47] <TigerDuck> I'll amend my code and see where it get's me
[16:59:31] <ordos> TigerDuck, good luck mate
[17:00:34] *** Joins: exempt (uid500827@id-500827.ilkley.irccloud.com)
[17:03:03] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Quit: Leaving...)
[17:03:38] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[17:03:53] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 256 seconds)
[17:04:29] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[17:05:11] *** Quits: roadie (~user@2a02:8108:5a40:1d87:bc7a:bbe4:d21a:4cbd) (Ping timeout: 260 seconds)
[17:11:30] *** Joins: newwebdev13 (~newwebdev@78.135.92.89)
[17:23:50] *** Quits: Northwoods (~Northwood@202.14.123.255) (Ping timeout: 272 seconds)
[17:31:41] *** Joins: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed)
[17:35:48] <TigerDuck> ordos: Not totally surprising, but, if you do it right, it actually works
[17:37:11] <TigerDuck> The php.net documentation on openssl_encrypt and openssl_decrypt definitively needs some cleaning up. There's no way someone could apply the commands correctly following that documentation.
[17:37:51] *** Quits: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed) (Ping timeout: 245 seconds)
[17:39:31] *** Quits: GoldLeader87 (~GoldLeade@D57D084A.static.ziggozakelijk.nl) (Quit: GoldLeader87)
[17:40:29] <AllenJB> PRs welcome: https://github.com/php/doc-en/
[17:43:03] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[17:47:26] <ordos> TigerDuck, glad you got it sorted in the end. What was the solution?
[17:48:28] *** Joins: Tempesta (~Tempesta@user/tempesta)
[17:48:54] <TigerDuck> ordos: Well, there was a hint in one of the usecases and the definition in https://www.cryptosys.net/pki/manpki/pki_aesgcmauthencryption.html was very helpful
[17:49:33] <TigerDuck> The fact is: You don't pass the tag to openssl_encrypt, you COLLECT it after that
[17:50:55] <TigerDuck> So, for openssl_decrypt to work, you will need the initialization vector you fed into encrypt, the tag you received FROM encrypt, and, sure, the encrypted secret and the cipher
[17:51:52] <TigerDuck> My mistake was that I read the docu that I would need to pass the tag to encrypt and would store that one. But it is overwritten with the value created by encrypt
[17:52:12] <TigerDuck> So, I always stored a tag that was never used
[17:52:16] *** Joins: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed)
[17:52:29] *** Quits: ProfSimm (~ProfSimm@87.227.196.109) (Remote host closed the connection)
[17:57:06] *** Quits: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed) (Ping timeout: 260 seconds)
[17:59:45] <ordos> Right right, makes sense now
[17:59:50] <ordos> A bit of a puzzle that one!
[18:03:08] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 260 seconds)
[18:03:34] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[18:06:20] <TigerDuck> I added at note to the documentation, might take a while for it to show up.
[18:06:51] *** Joins: Poboy (~Poboy@user/poboy)
[18:07:04] <TigerDuck> Well, thanks for listening and hinting. Glad, I could get that of my shoulders.
[18:07:16] <TigerDuck> Take care, everyone, I'll be off
[18:07:47] *** Parts: TigerDuck (~ralf@200116b826e96f00038986f2a38902b3.dip.versatel-1u1.de) ()
[18:08:22] *** Joins: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed)
[18:10:11] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 252 seconds)
[18:11:04] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[18:12:25] <ordos> Good guy that TigerDuck
[18:12:56] *** Quits: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed) (Ping timeout: 252 seconds)
[18:21:17] <TML> The PHP langref/funcref documentation doesn't generally try very hard to explain the APIs underlying the extension, we kind of expect you to come with that knowledge. However, it wouldn't be the worst thing in the world if someone wrote an appendix on openssl_*
[18:24:48] <Naktibalda> isn't sodium prefered now?
[18:25:33] <TML> Well, when discussing preferences, you have to answer the question "preferred by whom?"
[18:25:42] <Naktibalda> sodium_crypto_aead_aes256gcm_encrypt returns cyphertext and tag concatenated.
[18:31:23] <ordos> salt, sodium... what next
[18:31:43] *** Quits: marc-o (e23c17097e@vps71629.serveur-vps.net) (Ping timeout: 256 seconds)
[18:31:52] *** Joins: marc-o (e23c17097e@vps71629.serveur-vps.net)
[18:39:38] *** Joins: bynx (~bynx@66.208.32.135)
[18:41:12] <Koopz> i say we go spicier
[18:41:25] <TML> saffron?
[18:41:25] <Koopz> we start with pepper
[18:41:39] <Koopz> then cayenne
[18:41:50] <Koopz> or black? idk what'd be the order
[18:42:03] <TML> Koopz: pepper already has a meaning in crypto
[18:44:47] <TML> but sure, I can see a cayenne library that applies pepper from an HSM to your salted hashes :)
[18:45:21] <Koopz> should we add sugar for more intense taste?
[18:45:32] <Naktibalda> https://cayenne.apache.org/
[18:46:16] <Koopz> alright then we use Habanero...
[18:46:57] *** Joins: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed)
[18:48:44] <Naktibalda> A Mexican company has launched the Agrocoin, a cryptocurrency backed by one square meter of Habanero chili crop space in Quintana Roo, Mexico
[18:49:32] <Koopz> ...fine then
[18:49:59] <Naktibalda> it died a year later :)
[18:50:17] <Koopz> the crop or the coin
[18:50:50] <Naktibalda> possibly both
[18:51:18] <Koopz> i should pitch a beercoin
[18:51:31] <Koopz> surely that won't flop
[18:52:04] <Koopz> Proof of Brewing
[18:52:44] <Naktibalda> https://coinmarketcap.com/currencies/beer-money/
[18:52:52] <Naktibalda> naming is hard
[18:54:41] <Koopz> of all the people on the world, why was it spanish ones coming up with this
[18:54:44] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 252 seconds)
[18:55:13] <Koopz> as a german i feel offended
[18:55:32] <Koopz> on the other side i despise crypto currencies
[18:55:39] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[18:55:59] <Naktibalda> buy some beer NFTs
[18:57:38] *** Joins: ProfSimm (~ProfSimm@87.227.196.109)
[19:00:58] <Koopz> nah thank you i don't want to participate in money laundering by buying pictures with monkeys on them
[19:03:32] <Koopz> so ODBC right
[19:03:47] <Koopz> not quite working like i want it to
[19:04:17] *** Quits: Tempesta (~Tempesta@user/tempesta) (Read error: Connection reset by peer)
[19:05:26] <Koopz> in theory i should be able to connect to the db after setting the needed env variables right?
[19:06:05] <Koopz> putenving right above the odbc_connect, that is
[19:10:18] *** Quits: exempt (uid500827@id-500827.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[19:12:19] <ordos> Naktibalda, https://pbs.twimg.com/media/Ex1Xr4HWgAElJeu.jpg
[19:16:59] *** Quits: glider (~glider@user/glider) (Quit: ZNC - https://znc.in)
[19:17:00] *** Quits: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3928) (Ping timeout: 240 seconds)
[19:18:22] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 246 seconds)
[19:20:12] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[19:25:19] *** Joins: hh (~g@37.214.57.161)
[19:25:51] *** Quits: luigibu (~luigi@93.176.153.88) (Quit: WeeChat 3.5)
[19:27:19] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-974-194.w86-238.abo.wanadoo.fr) (Read error: Connection reset by peer)
[19:28:38] *** Quits: Deuchnord (~Deuchnord@user/deuchnord) (Remote host closed the connection)
[19:28:52] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-974-194.w86-238.abo.wanadoo.fr)
[19:29:06] *** Joins: glider (~glider@user/glider)
[19:29:39] *** Quits: ordos (~ordos@user/ordos) (Quit: Leaving)
[19:36:27] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 260 seconds)
[19:37:14] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[19:43:34] *** Quits: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com) (Ping timeout: 246 seconds)
[19:45:32] *** Joins: night_wulfe (~wulfe@cpe-174-103-156-213.cinci.res.rr.com)
[19:53:23] *** Quits: opeerateur_ (~My_user_n@91.143.220.230) (Ping timeout: 260 seconds)
[19:55:01] <__adrian> Koopz: odbc_connect has these things called $arguments
[20:01:45] <relipse> I'm getting a "Request Timeout" when trying to upload a large file, that's fine, but how can I get back to the page with a friendlier error message "The file you have uploaded is too big, try a smaller file" ?
[20:02:00] <relipse> seems like I may ahve to do some sort of an ajax upload
[20:02:04] <relipse> to accomplish that
[20:05:33] *** Quits: l__q (~modinfo@user/modinfo) (Ping timeout: 256 seconds)
[20:06:34] <AllenJB> You can check the filesize on form submission. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file (search in page for "size" or "FileList")
[20:07:01] *** Quits: bynx (~bynx@66.208.32.135) (Quit: WeeChat 2.8)
[20:08:31] <relipse> thanks AllenJB
[20:12:24] *** Joins: dimi1947 (~dimi1947@46.198.247.237)
[20:12:50] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[20:16:23] <AllenJB> There's also the MAX_FILE_SIZE hidden input described here: https://www.php.net/manual/en/features.file-upload.post-method.php
[20:20:27] *** Joins: WishBoy (~WishBoy@user/wishboy)
[20:21:49] *** Joins: Northwoods (~Northwood@223.130.30.56)
[20:23:07] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 246 seconds)
[20:23:08] *** Quits: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net) (Remote host closed the connection)
[20:23:47] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[20:26:11] *** Quits: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed) (Ping timeout: 245 seconds)
[20:29:05] *** Joins: l__q (~modinfo@user/modinfo)
[20:36:36] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 245 seconds)
[20:38:20] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[20:43:09] *** Joins: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed)
[20:45:06] *** Joins: xep (~xep@76-210-4-7.lightspeed.sntcca.sbcglobal.net)
[20:45:59] *** Quits: Northwoods (~Northwood@223.130.30.56) (Quit: Leaving)
[20:49:31] *** Quits: l__q (~modinfo@user/modinfo) (Ping timeout: 245 seconds)
[20:53:59] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: IceChat - It's what Cool People use)
[20:58:58] *** Quits: richardjh (~Thunderbi@51.219.41.0) (Quit: richardjh)
[20:59:17] *** Quits: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed) (Ping timeout: 250 seconds)
[21:00:59] *** Quits: dimi1947 (~dimi1947@46.198.247.237) (Quit: Leaving)
[21:06:08] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 272 seconds)
[21:06:39] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[21:07:48] *** Joins: ms49434_ (~ms49434@user/ms49434)
[21:08:16] *** Quits: Learath2 (~learath2@user/learath2) (Ping timeout: 245 seconds)
[21:08:51] *** Quits: ms49434 (~ms49434@user/ms49434) (Read error: Connection reset by peer)
[21:09:50] *** Quits: FightingFalcon (~none@user/fightingfalcon) (Ping timeout: 260 seconds)
[21:10:51] *** Joins: Learath2 (~learath2@user/learath2)
[21:15:16] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Remote host closed the connection)
[21:15:47] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[21:20:27] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Ping timeout: 260 seconds)
[21:25:24] *** Quits: ArchDave (~Archdave2@user/ArchDave2) (Quit: leaving)
[21:26:04] *** Joins: ArchDave (~Archdave2@user/ArchDave2)
[21:26:06] *** Joins: funhouse (~funhouse@user/funhouse)
[21:26:36] *** Quits: delboy1978uk (~delboy197@d51A4773C.access.telenet.be) (Quit: delboy1978uk)
[21:29:39] *** Joins: delboy1978uk (~delboy197@d51A4773C.access.telenet.be)
[21:33:37] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 256 seconds)
[21:34:17] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[21:34:17] *** Quits: ArchDave (~Archdave2@user/ArchDave2) (Quit: leaving)
[21:35:50] *** Quits: delboy1978uk (~delboy197@d51A4773C.access.telenet.be) (Quit: delboy1978uk)
[21:37:16] *** Joins: ArchDave (~Archdave2@user/ArchDave2)
[21:46:32] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a)
[21:51:15] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec18:50c0:6028:512c:43b4:598a) (Ping timeout: 260 seconds)
[21:56:42] <relipse> HEy AllenJB or someone, how do I make a friendly error message for this: https://usercontent.irccloud-cdn.com/file/5ZQHOQKc/image.png
[21:56:49] <relipse> that shows up at the top of my page
[21:59:44] *** Joins: magla (~gelignite@55d42a76.access.ecotel.net)
[21:59:45] *** Joins: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed)
[22:00:26] <AllenJB> Read up on "flash messages". CSS/UI frameworks such as Bootstrap usually have a way of displaying "notices" which you can use for this. Some PHP frameworks have flash message libraries, or you can likely find standalone libraries via Packagist
[22:02:45] <relipse> AllenJB: I know but how do I capture this?
[22:02:48] <relipse> or where exactly
[22:02:54] <relipse> notice it has Unknown line 0
[22:03:35] <relipse> if i could gragb the error message on input somehow then I could display it in a friendly method
[22:04:28] <AllenJB> Have you checked the error code on the $_FILES entry?
[22:05:16] <relipse> let me check
[22:06:42] *** Quits: olle (~olle@c-8a89e455.034-536-6d6c6d4.bbcust.telenor.se) (Remote host closed the connection)
[22:08:56] *** Joins: Alhazred (~Alhazred@86.106.74.40)
[22:11:39] <Alhazred> I have a PHP code and I cannot figure out how PHP interpreter handles it. Its in a pretty popular academic PHP application (HotCRP). In the database classes (github.com/kohler/hotcrp/blob/…) the DblResult class implements an empty fetch_object() { return null; } code.
[22:11:43] <Alhazred> But the actual PHP interpreter calls fetch_object from mysqli class.
[22:11:46] <Alhazred> I cannot make the connection of how this empty implementation relates to mysqli class's builtin function. Any ideas?
[22:12:52] *** Joins: Alex123 (~Adium@cpe-76-89-231-189.socal.res.rr.com)
[22:16:48] *** Quits: guido (~weechat@host-95-238-17-41.retail.telecomitalia.it) (Quit: WeeChat 3.4.1)
[22:18:07] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[22:18:58] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 272 seconds)
[22:20:27] <relipse> Alhazred: that link doesn't work
[22:21:03] <Alhazred> https://github.com/kohler/hotcrp/blob/master/lib/dbl.php this is the library relating to the DblResult class
[22:21:14] *** Quits: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed) (Ping timeout: 260 seconds)
[22:22:23] <Alhazred> I think I've figured it out and it's a chain where the do_result function's $result parameter is a mysqli_result, thus making the call of $result->fetch_object() a mysqli call instead of a DblResult call(?)
[22:22:29] *** Joins: Tempesta (~Tempesta@user/tempesta)
[22:22:56] * relipse rubber duck
[22:24:37] *** Joins: delboy1978uk (~delboy197@d51A4773C.access.telenet.be)
[22:26:55] *** Quits: delboy1978uk (~delboy197@d51A4773C.access.telenet.be) (Client Quit)
[22:28:45] <relipse> AllenJB: ok so here is the thing, i put this in my code and it still doesn't work
[22:28:54] <relipse> https://www.irccloud.com/pastebin/87CxUPjq/
[22:29:11] <relipse> it still shows the warning message at the top of the page and doesn't show the error message
[22:30:52] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 260 seconds)
[22:31:33] *** Joins: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed)
[22:31:42] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[22:33:09] <AllenJB> Have you var_dump'd $_FILES somewhere to check what's actually in that? Could the empty check at the top of the foreach be causing the entry with the error to be skipped? (Since I'm guessing no file is stored on the server if it exceeds the max size limit)
[22:34:53] <relipse> yeah let me check thanks
[22:35:32] *** Quits: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed) (Read error: Connection reset by peer)
[22:35:56] *** Joins: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed)
[22:36:30] <relipse> Warning: POST Content-Length of 11301490 bytes exceeds the limit of 8388608 bytes in Unknown on line 0
[22:36:30] <relipse> array(0) { }
[22:36:35] <relipse> ok interesting
[22:36:39] <relipse> it stops it before it gets to files
[22:36:42] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 272 seconds)
[22:37:42] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[22:39:42] <AllenJB> Ah, rereading that message, I think that message is because post_max_size ini setting (rather the any of MAX_FILE_SIZE post or upload_max_filesize settings) has been hit. I'm guessing PHP hasn't even got to processing file uploads at that point.
[22:40:44] <AllenJB> (HTTP file uploads are POST form data, so the post_max_size limit applies in addition to the upload filesize limits)
[22:41:21] *** Quits: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed) (Read error: Connection reset by peer)
[22:41:47] *** Joins: roadie (~user@2a02:8108:5a40:1d87:445f:c015:94d4:87ed)
[22:43:06] <AllenJB> I think you can check for that by checking if $_SERVER['REQUEST_METHOD'] is "POST" and $_POST (and $_FILES) is empty
[22:46:21] <AllenJB> The manual suggests additionally passing a GET query parameter and checking for that: https://www.php.net/manual/en/ini.core.php#ini.post-max-size
[22:51:15] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 256 seconds)
[22:52:28] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[22:58:13] *** Quits: epolanski (uid312403@id-312403.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[22:58:41] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 245 seconds)
[23:00:41] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[23:09:22] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 246 seconds)
[23:10:31] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[23:11:07] *** Joins: PTNapivoski (~PTNapivos@2804:60:1e8:a000:973:87dc:1d1b:321)
[23:12:04] <relipse> AllenJB: ok so I implemetned MAX_FILE_SIZE but the upload page still spins until finally it goes to a white and black Request Timeout page which looks ugly
[23:20:45] *** Joins: DrowningElysium (uid190788@user/drowningelysium)
[23:48:54] *** Quits: vlm (~vlm@user/vlm) (Ping timeout: 272 seconds)
[23:51:45] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 250 seconds)
[23:52:49] *** Joins: oldmagic (~oldmagic@user/oldmagic)
[23:59:33] *** Quits: oldmagic (~oldmagic@user/oldmagic) (Ping timeout: 260 seconds)
