[00:26:47] *** Joins: perlbot (~perlbot@perlbot/bot/simcop2387/perlbot)
[00:29:01] *** Joins: simcop2387 (~simcop238@perlbot/patrician/simcop2387)
[00:33:19] *** Quits: squashable6 (squ-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[01:33:20] *** Quits: greppable6 (gre-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[01:33:20] *** Quits: notable6 (not-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[01:33:20] *** Quits: reportable6 (rep-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[01:33:20] *** Quits: quotable6 (quo-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[01:33:20] *** Quits: bloatable6 (blo-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[01:33:20] *** Quits: statisfiable6 (sta-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[01:33:20] *** Quits: linkable6 (lin-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[01:33:20] *** Quits: sourceable6 (sou-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[01:33:20] *** Quits: committable6 (com-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[01:33:20] *** Quits: evalable6 (eva-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[01:33:20] *** Quits: bisectable6 (bis-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[01:33:20] *** Quits: nativecallable6 (nat-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[01:33:20] *** Quits: unicodable6 (uni-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[01:33:20] *** Quits: benchable6 (ben-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[01:33:20] *** Quits: shareable6 (sha-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[01:33:20] *** Quits: releasable6 (rel-able@2001:41d0:2:5eb5::) (Write error: Connection reset by peer)
[01:33:20] *** Quits: tellable6 (tel-able@2001:41d0:2:5eb5::) (Write error: Connection reset by peer)
[01:33:21] *** Quits: coverable6 (cov-able@2001:41d0:2:5eb5::) (Write error: Connection reset by peer)
[01:33:39] *** Joins: releasable6 (rel-able@2001:41d0:2:5eb5::)
[01:33:52] <melezhik> tonyo , i see, thanks. i will probably remove my old versions from pause then ...
[01:34:22] *** Joins: sourceable6 (sou-able@2001:41d0:2:5eb5::)
[01:34:29] *** Joins: linkable6 (lin-able@2001:41d0:2:5eb5::)
[01:34:41] *** Joins: benchable6 (ben-able@2001:41d0:2:5eb5::)
[01:34:48] *** Joins: coverable6 (cov-able@2001:41d0:2:5eb5::)
[01:35:06] *** Joins: squashable6 (squ-able@2001:41d0:2:5eb5::)
[01:35:25] *** Joins: quotable6 (quo-able@2001:41d0:2:5eb5::)
[01:36:13] *** Joins: evalable6 (eva-able@2001:41d0:2:5eb5::)
[01:36:21] *** Joins: nativecallable6 (nat-able@2001:41d0:2:5eb5::)
[01:44:58] *** Quits: melezhik (~melezhik@174.128.60.162) (Quit: Connection closed)
[02:33:39] *** Joins: unicodable6 (uni-able@2001:41d0:2:5eb5::)
[02:34:25] *** Joins: tellable6 (tel-able@2001:41d0:2:5eb5::)
[02:35:03] *** Joins: greppable6 (gre-able@2001:41d0:2:5eb5::)
[02:35:34] *** Joins: notable6 (not-able@2001:41d0:2:5eb5::)
[02:36:17] *** Joins: shareable6 (sha-able@2001:41d0:2:5eb5::)
[02:36:26] *** Joins: bloatable6 (blo-able@2001:41d0:2:5eb5::)
[02:41:29] *** Joins: Xliff (~Cliff@pool-71-255-227-73.washdc.east.verizon.net)
[02:42:07] <Xliff> Is there a MetaModel call that can find a method candidate if given a capture?
[02:42:51] <Xliff> Ah! Cando
[03:12:09] *** Quits: squashable6 (squ-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[03:14:24] *** Joins: squashable6 (squ-able@2001:41d0:2:5eb5::)
[03:17:58] *** Joins: sftp_ (~sftp@188.191.126.231)
[03:18:40] *** Quits: sftp (~sftp@79.174.36.182) (Ping timeout: 240 seconds)
[03:18:40] *** sftp_ is now known as sftp
[03:34:50] *** Joins: bisectable6 (bis-able@2001:41d0:2:5eb5::)
[03:35:31] *** Joins: committable6 (com-able@2001:41d0:2:5eb5::)
[03:35:53] *** Joins: statisfiable6 (sta-able@2001:41d0:2:5eb5::)
[03:58:04] *** Joins: monkey_ (~user@190.104.116.134)
[04:10:21] *** Quits: monkey_ (~user@190.104.116.134) (Ping timeout: 268 seconds)
[04:43:26] *** Quits: lichtkind (~lichtkind@p200300d0a7115d1cac072a13f09fa777.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[04:43:41] *** Joins: MasterDuke91 (~MasterDuk@2601:14c:4201:5a20:84f9:5668:b517:c30c)
[04:45:55] *** Joins: monkey_ (~user@190.104.116.134)
[04:54:53] *** Quits: monkey_ (~user@190.104.116.134) (Ping timeout: 265 seconds)
[05:54:53] *** Quits: evalable6 (eva-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[05:54:53] *** Quits: linkable6 (lin-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[05:57:45] *** Joins: linkable6 (lin-able@2001:41d0:2:5eb5::)
[06:12:15] *** Joins: monkey_ (~user@190.104.116.134)
[06:25:58] *** Quits: kjp (~kevin@180.216.43.175) (Quit: WeeChat 2.8)
[06:26:18] *** Joins: kjp (~kevin@180.216.43.175)
[06:57:26] *** Quits: monkey_ (~user@190.104.116.134) (Quit: ERC (IRC client for Emacs 27.2))
[07:27:37] *** Quits: sftp (~sftp@188.191.126.231) (Ping timeout: 265 seconds)
[07:27:41] *** Joins: sftp_ (~sftp@79.174.36.182)
[07:28:20] *** sftp_ is now known as sftp
[07:55:44] *** Joins: evalable6 (eva-able@2001:41d0:2:5eb5::)
[08:23:07] <Geth> Â¦ doc: codesections++ created pull request #3962: Explain "list" vs "destructuring" assignment
[08:23:07] <Geth> Â¦ doc: review: https://github.com/Raku/doc/pull/3962
[08:30:21] *** Quits: MasterDuke91 (~MasterDuk@2601:14c:4201:5a20:84f9:5668:b517:c30c) (Ping timeout: 256 seconds)
[08:35:14] *** Joins: reportable6 (rep-able@2001:41d0:2:5eb5::)
[08:55:01] *** Quits: Xliff (~Cliff@pool-71-255-227-73.washdc.east.verizon.net) (Remote host closed the connection)
[09:03:27] *** Joins: keutoi (~keutoi@157.47.108.219)
[10:03:28] *** Quits: committable6 (com-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[10:03:28] *** Quits: statisfiable6 (sta-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: greppable6 (gre-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: sourceable6 (sou-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: releasable6 (rel-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: linkable6 (lin-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: evalable6 (eva-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: squashable6 (squ-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: bisectable6 (bis-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: shareable6 (sha-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: bloatable6 (blo-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: nativecallable6 (nat-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: unicodable6 (uni-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:28] *** Quits: benchable6 (ben-able@2001:41d0:2:5eb5::) (Write error: Connection reset by peer)
[10:03:28] *** Quits: notable6 (not-able@2001:41d0:2:5eb5::) (Write error: Connection reset by peer)
[10:03:28] *** Quits: coverable6 (cov-able@2001:41d0:2:5eb5::) (Write error: Connection reset by peer)
[10:03:28] *** Quits: quotable6 (quo-able@2001:41d0:2:5eb5::) (Write error: Connection reset by peer)
[10:03:28] *** Quits: tellable6 (tel-able@2001:41d0:2:5eb5::) (Write error: Connection reset by peer)
[10:03:28] *** Quits: reportable6 (rep-able@2001:41d0:2:5eb5::) (Read error: Connection reset by peer)
[10:03:49] *** Joins: unicodable6 (uni-able@2001:41d0:2:5eb5::)
[10:04:19] *** Joins: evalable6 (eva-able@2001:41d0:2:5eb5::)
[10:04:40] *** Joins: nativecallable6 (nat-able@2001:41d0:2:5eb5::)
[10:04:41] *** Joins: coverable6 (cov-able@2001:41d0:2:5eb5::)
[10:04:59] *** Joins: tellable6 (tel-able@2001:41d0:2:5eb5::)
[10:05:06] *** Joins: greppable6 (gre-able@2001:41d0:2:5eb5::)
[10:06:21] *** Joins: committable6 (com-able@2001:41d0:2:5eb5::)
[10:06:39] *** Joins: shareable6 (sha-able@2001:41d0:2:5eb5::)
[10:09:36] *** Quits: Altai-man (~koto@94.142.239.45) (Quit: Leaving)
[10:33:46] *** Joins: reportable6 (rep-able@2001:41d0:2:5eb5::)
[11:04:30] *** Joins: sourceable6 (sou-able@2001:41d0:2:5eb5::)
[11:04:51] *** Joins: linkable6 (lin-able@2001:41d0:2:5eb5::)
[11:05:17] *** Joins: quotable6 (quo-able@2001:41d0:2:5eb5::)
[11:06:00] *** Joins: benchable6 (ben-able@2001:41d0:2:5eb5::)
[11:06:10] *** Joins: notable6 (not-able@2001:41d0:2:5eb5::)
[11:06:30] *** Joins: bloatable6 (blo-able@2001:41d0:2:5eb5::)
[11:06:39] *** Joins: squashable6 (squ-able@2001:41d0:2:5eb5::)
[11:26:38] *** Joins: frost (~frost@59.71.242.61)
[11:27:14] *** Quits: codesections (2d10c979@67.205.143.82) (Quit:  )
[12:06:04] *** Joins: bisectable6 (bis-able@2001:41d0:2:5eb5::)
[12:06:40] *** Joins: statisfiable6 (sta-able@2001:41d0:2:5eb5::)
[12:12:19] *** Quits: Sgeo (~Sgeo@user/sgeo) (Read error: Connection reset by peer)
[12:40:29] *** Joins: dakkar (~dakkar@home.thenautilus.net)
[13:06:03] *** Joins: releasable6 (rel-able@2001:41d0:2:5eb5::)
[13:40:14] *** Joins: clarkema (clarkema@tilde.club)
[13:53:15] *** Joins: lichtkind (~lichtkind@p200300d0a7115de1ac072a13f09fa777.dip0.t-ipconnect.de)
[14:03:39] *** Joins: lizmat_ (~textual@ipv4-wenzperl.connected.by.freedominter.net)
[14:07:07] *** Quits: lizmat (~textual@ipv4-wenzperl.connected.by.freedominter.net) (Ping timeout: 245 seconds)
[14:07:15] *** lizmat_ is now known as lizmat
[14:07:27] *** Quits: lizmat (~textual@ipv4-wenzperl.connected.by.freedominter.net) (Client Quit)
[14:07:41] *** Joins: lizmat (~textual@ipv4-wenzperl.connected.by.freedominter.net)
[15:05:20] *** Quits: xinming (~xinming@115.219.33.88) (Ping timeout: 265 seconds)
[15:29:02] *** Quits: squashable6 (squ-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[15:35:15] *** Quits: lizmat (~textual@ipv4-wenzperl.connected.by.freedominter.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ¦)
[15:38:58] *** Quits: TempIRCLogger (~RakuIRC@ipv4-wenzperl.connected.by.freedominter.net) (Ping timeout: 260 seconds)
[15:39:42] *** Joins: lizmat (~textual@ipv4-wenzperl.connected.by.freedominter.net)
[15:40:16] *** Joins: TempIRCLogger (~RakuIRC@ipv4-wenzperl.connected.by.freedominter.net)
[16:30:50] *** Joins: squashable6 (squ-able@2001:41d0:2:5eb5::)
[16:33:17] *** Quits: reportable6 (rep-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[16:45:08] *** Joins: C0l0mb0 (~C0l0mb0@061092153159.ctinets.com)
[16:48:51] <C0l0mb0> newb question from long-time Perl programmer.  I want to convert a Perl5 script into raku to learn raku.  So my first issue is the perl code "while (<>) {  etc }".  what are the best resources to learn what the raku equivalent of <> is?
[16:50:19] <C0l0mb0> I have looked at https://docs.raku.org/language/5to6-nutshell but its not that detailed
[16:56:53] <sjn> C0l0mb0: ok? would you mind sharing with us what you feel is missing from the 5to6-nutshell page?
[16:57:57] <sjn> it covers quite a bit, but if something important is missing, that's worth fixing :-)
[16:58:55] <C0l0mb0> I'm trying to find how to write a cli that can take in piped lines or use the first parameter as a filename to read in and execute line by line
[17:00:06] <CIAvash> C0l0mb0: it's `lines()`
[17:00:14] <C0l0mb0> it would be handy if 5to6 showed some example programs like that to use as a skeleton
[17:00:38] <sjn> Ok, you may want to also look at the MAIN method, for command line flags...
[17:01:11] <sjn> s/flags/parameters/
[17:01:21] <C0l0mb0> CIAvash: yes - I found  "lines()" from the raku error message when I tried just running the old Perl 5 code,  I'm impressed with the error messages in raku
[17:01:47] <sjn> The section named "Getopt::Long" shows a short example
[17:02:43] <C0l0mb0> sjn: ah yes, that is useful, didnt see that earlier
[17:02:58] <sjn> (Yeah, some of these topics could probably be improved with some better keywords and descriptions)
[17:04:00] <C0l0mb0> I'm keen to convert some of my scripts to Raku and learn that way.  It does seem like an awesome language
[17:04:25] <sjn> converting scripts is a good way of exploring the language :)
[17:05:13] <C0l0mb0> yeah, I've been doing the REPL examples but I really want to make my first proper .raku script and start using it for real work
[17:35:45] *** Joins: reportable6 (rep-able@2001:41d0:2:5eb5::)
[17:54:36] *** Quits: frost (~frost@59.71.242.61) (Quit: Connection closed)
[17:54:55] *** Quits: C0l0mb0 (~C0l0mb0@061092153159.ctinets.com) (Quit: Connection closed)
[17:57:24] <Altreus> does Red provide something like a to-hash on its models?
[18:02:11] <SmokeMachine__> Altreus: do you mean to get a row (an object) as a hash?
[18:03:31] <kawaii_> SmokeMachine__: we do, I have an object ^load has given me like this; `Character.new(id => 35383842, tier => 1, comment => "test", date-added => DateTime.new(2016,5,10,17,20,18.674), author => 496805464491687949)` and apparently to-json doesn't like it. :(
[18:09:46] <Altreus> aye, just a naive conversion to a column => value hash
[18:10:23] <SmokeMachine__> if you want json, you can just do something like: https://usercontent.irccloud-cdn.com/file/4dZSZ4lu/image.png
[18:11:24] <Altreus> JSON::Class!
[18:11:56] <Altreus> I still think to-json is an antipattern and I'm waiting for history to agree with me, but at least it makes a prototype quick
[18:14:40] <SmokeMachine__> But if you want this to make Red objects accessible throw JSON:API interface... I've been playing with this that could be useful (but still far from completed and help needed): https://github.com/FCO/CroX-Red-JsonAPI
[18:17:51] <SmokeMachine__> but if you don't want JSON:API but just want to jsonify a ResultSeq,Jonathan Stowe has done this: https://twitter.com/gellyfish/status/1417866847882563590
[18:18:22] <SmokeMachine__> https://gist.github.com/jonathanstowe/7d2ec8d499ddb058e62669cac0792cbb
[18:54:18] *** Joins: xinming (~xinming@115.219.35.168)
[19:09:51] *** Quits: xinming (~xinming@115.219.35.168) (Ping timeout: 268 seconds)
[19:10:14] *** Joins: xinming (~xinming@115.219.35.168)
[19:18:15] <vrurg> That's interesting how things pop up close to what I was doing recently... I have a good experience JSONifying Red models with JSON::Marshall.
[19:21:17] <Altreus> I don't like the implication that every object only has one possible representation in JSON
[19:21:36] <Altreus> nor do I like the danger of accidentally outputting a password column in JSON because the computer is doing as it was told!
[19:22:09] <Altreus> to-json is a procedure that should be owned by the view class: the controller, or an adapter, or something
[19:22:11] *** Quits: lichtkind (~lichtkind@p200300d0a7115de1ac072a13f09fa777.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[19:22:21] <vrurg> Altreus: has Str $.password is password handles <check-password> is json-skip; 
[19:22:30] <Altreus> There's no reason a Red class should know how a Cro webapp wants to represent it
[19:22:39] <Altreus> You don't put to-html on it
[19:22:58] <Altreus> I don't know why JSON is so special that rendering things as JSON goes on the things and not the renderer
[19:23:07] <Altreus> It's very bad!
[19:23:42] <Altreus> It couples your JSON API to your database schema, which is already naughty
[19:23:53] <Altreus> cos it means you can't change the schema without changing the API
[19:23:58] <Altreus> and you can't change an API
[19:23:59] <vrurg> In my use JSON goes almost nowhere close to rendering. The only thing I need it for is to simplify JSON-RPC communication with the frontend.
[19:24:23] <Altreus> outputting JSON /is/ rendering
[19:24:51] <Altreus> Database models should not be directly connected to an API
[19:25:03] <Altreus> that's why MVC was so popular
[19:25:08] <Altreus> where did it go :(
[19:25:10] <vrurg> Things like user account entries are hardly something to be changed. 
[19:25:37] <Altreus> How long does software engineering have to be a discipline before people realise that what they think the future holds is rarely what the future holds?
[19:25:59] <Altreus> I've been at this company for 2 years now and most of that time has been removing assumptions like that from the code
[19:26:36] <Altreus> All for the sake of putting to-json(User) in the right place
[19:27:09] <vrurg> There are exceptions. What if your frontend is actually managing the database? Then your API is bound to it anyway.
[19:27:14] <Altreus> the problem is, of course, not that you call $user.to-json in the controller: rather, it's the fact that if to-json changes, you break your API by accident
[19:27:44] <Altreus> Telling me there are exceptions implies you agree with the rule in general, so that's enough for me
[19:29:23] <vrurg> It's hard to argue, I'd say. :)
[19:30:24] <Altreus> good cos I have citations to back me up :D
[19:30:35] <Altreus> specifically in the "Don't couple your API to your database" regard
[19:30:39] <Altreus> if only I could find the book...
[19:30:41] <SmokeMachine__> Altreus: you could `($model but JSON::Class).to-json` on your view, no?
[19:31:18] <Altreus> SmokeMachine__: that's correct, and that is where you would do that
[19:31:31] <Altreus> But then the point is you have the opportunity to amend that line without breaking the controller
[19:31:56] <vrurg> The case of user account is the kind where direct mapping of a user record to API is acceptable if you want to provide basic user info to the frontend. The other thing is when you want to provide more extended account info like personal information (kind of meta-info) as this is something more mutable and should even be kept in a separate DB table. Just as an example.
[19:31:57] <Altreus> because now if you put a password on that model, how could you possibly put json-skip on it?
[19:32:23] <Altreus> direct mapping is never appropriate because it means you can't change your mind about *anything* in the future
[19:32:37] <Altreus> What if you got the memo that "first_name" and "last_name" shouldn't be separate fields?
[19:32:53] <Altreus> now you want to update your model to live in the future by dropping those columns and just using a name field
[19:33:02] <Altreus> But you can't because that's a breaking change to the API
[19:33:27] <Altreus> If you'd just implemented a view at the start you could do a "best guess" for the old API and implement a new API with just name
[19:33:40] <Altreus> Nothing is immune to the "I did it wrong" bug
[19:34:03] <Altreus> Assuming it was written right is probably the main problem with software in the first place :P
[19:34:16] <Altreus> I recognise this applies to the very argument I'm making
[19:34:27] <vrurg> Altreus: Full name is meta. My example is about a user record which consists of: id, username, group flag (account is a goup), and password. The rest is locate somewhere else. Now, what would you change in this table? ;)
[19:34:44] <Altreus> I don't know. What changes in the future?
[19:34:55] <Altreus> I've not been there so I can't tell you
[19:35:06] <Altreus> Maybe you add a 2fa secret
[19:35:14] <Altreus> forget to put json-skip on it
[19:35:46] <vrurg> Altreus: 2fa goes as a separate service with it's own data. Miss.
[19:35:56] <Altreus> JSON::Class uses a blacklist for sensitive data, which is a bug waiting to happen
[19:36:31] <vrurg> I mean, that table is the core. It is proclaimed immutable. Period. There're things not changing ever. Ask Microsoft, they know alot about these. :D
[19:36:34] <Altreus> You're asking me to invent a future reason why your arbitrary specific instance might be bad in the future
[19:36:36] <Altreus> Why?
[19:36:36] *** Joins: lichtkind (~lichtkind@p200300d0a7115de1ac072a13f09fa777.dip0.t-ipconnect.de)
[19:36:42] <Altreus> Assume it will go wrong, and protect against it
[19:36:55] <Altreus> This discussion is already pages and pages longer than the code required to protect yourself against data leaks in future
[19:37:11] <Altreus> You're arguing against defensive coding
[19:37:15] <Altreus> Don't :P
[19:37:42] <vrurg> You fall into another trap. It's too hard to hold swampy ground. You need axioms to build theorems. 
[19:38:03] <Altreus> Saying something isn't going to happen just because you don't have enough imagination to see why it might happen is not sustainable
[19:38:16] <Altreus> If there's one thing software is great at it's undermining those assumptions
[19:38:47] <vrurg> What I'm arguing against is that I'm often loose too much time considering making code less vulnerable to future changes. Sometimes it doesn't worth time spent.
[19:39:25] <Altreus> well sure, we all come up against time constraints
[19:39:31] <Altreus> That's why it's helpful to have design patterns
[19:39:43] <vrurg> And you're discussing this with someone who is too often blamed for saying "what if this goes wrong?" :D
[19:39:49] <Altreus> So you can pre-solve this issue by always passing your models through a view adapter, even if it's thin
[19:40:00] <SmokeMachine__> on that case you should do something like`to-json %( name => "{ .first-name } { .last-name }", password => "***" ) given $model` or something like that
[19:40:03] * vrurg will be away for a while
[19:40:04] <Altreus> and then to-json might as well be to-hash
[19:40:11] <Altreus> Which is another thing!!!!
[19:40:15] <Altreus> It doesn't return JSON!
[19:40:22] <Altreus> Why is it called to-json when it doesn't return JSON?
[19:40:53] <Altreus> SmokeMachine__: right, but then someone adds more sensitive data and suddenly it's popping out on the API, even though nobody updated the API spec to include it
[19:41:09] <Altreus> no, you should ALWAYS get data via whitelist
[19:41:16] <Altreus> cos you never know what is going to show up!
[19:42:18] <SmokeMachine__> that IS a white list, isn't it? if someone change the model, it won't change anything on the generated answer...
[19:42:21] *** Joins: Sgeo (~Sgeo@user/sgeo)
[19:42:26] <Altreus> sub for-json(MyModel:D $model) { $model.to-hash<key1 key2 key3>:kv }
[19:42:38] <Altreus> oh ... I totally misread your use of to-json, sorry
[19:42:41] <Altreus> yes, like that
[19:42:56] <Altreus> got a bit carried away ^^;
[19:44:57] <vrurg> BTW, I the white list is a good thing. Wish it be how JSON::Marshall do things, use `is json-use` instead of `is json-skip`.
[19:45:10] <vrurg> s/I//
[19:45:40] <Altreus> maybe fork it and do that :)
[19:45:48] <Altreus> I think a combination is perfectly reasonable
[19:45:55] <Altreus> (except don't call it JSON because it's not JSON)
[19:46:35] <Altreus> ToHash::Simple, which provides to-hash and is hash-use
[19:46:38] <Altreus> or something
[19:47:00] <Altreus> now you can add the role to literally any class and make selected properties come out in to-hash
[19:47:15] <Altreus> I bet you can even do does ToHash::Simple[:everything]
[19:47:40] <Altreus> personally I'm always keeping in mind that not all my data models come from databases, so I want a solution that works generally
[19:47:44] <vrurg> Oh, no. I just've done sufficiently featureful Config::BINDish and need to focus on other things
[19:47:55] <Altreus> API::Discord, for example, already uses a JSON API as its data source
[19:48:12] <Altreus> So to-json means something different when I'm communicating with Discord compared to if I were to put a web API on that
[19:57:21] *** Joins: xinming_ (~xinming@115.219.35.168)
[19:59:48] *** Quits: xinming (~xinming@115.219.35.168) (Ping timeout: 268 seconds)
[20:00:32] *** Quits: abraxxa (~ahartmai@tsa-tc-flod-1.t-systems.at) (Remote host closed the connection)
[20:13:20] <SmokeMachine__> Altreus: maybe something like this? https://usercontent.irccloud-cdn.com/file/jL9b212f/image.png
[20:14:52] <Altreus> actually that's quite useful, being able to specify certain values and also have the others filled in
[20:15:54] <Altreus> SmokeMachine__: hey, you could error if it asked for an attr that isn't on the obj, even if it's given a value
[20:16:13] <Altreus> that way you're sure you're not just leaving legacy code lying around
[20:16:38] <Altreus> Say you completely removed password auth for some reason, then it would say, not gonna give you password, even though you specified a value for it
[20:17:15] <SmokeMachine__> but what id you want to change the name of it? or create a completely new one (as the :name one?)
[20:18:42] <Altreus> ah hrm, but then &value would fail if it asked for a nonexistent thing
[20:19:05] <Altreus> you could change the name of it with password => *.pass
[20:19:19] <Altreus> or such
[20:19:43] <Altreus> eh, IDK, you might be right
[20:19:47] <Altreus> Feels like overkill
[20:19:58] <Altreus> now it's almost a format-hash method :D
[20:20:22] <Altreus> also it doesn't have to be on the object, which is nice
[21:00:32] *** Quits: evalable6 (eva-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[21:00:32] *** Quits: linkable6 (lin-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[21:02:51] *** Joins: evalable6 (eva-able@2001:41d0:2:5eb5::)
[21:12:49] <SmokeMachine__> Altreus: my last version, if someone is interested: https://usercontent.irccloud-cdn.com/file/lc5Zu9w3/image.png
[21:13:05] <Altreus> hey I like lens
[21:14:34] <Altreus> SmokeMachine__: this is a fun algo but my brain is refusing to process it
[21:14:38] <Altreus> I'm gonna leave it open for later
[21:16:59] *** Joins: melezhik (~melezhik@174.128.60.162)
[21:16:59] <melezhik> .
[21:18:44] *** Quits: dakkar (~dakkar@home.thenautilus.net) (Ping timeout: 268 seconds)
[21:20:22] <Altreus> !
[21:36:48] *** xinming_ is now known as xinming
[21:37:39] <melezhik> how can I get a source code of Raku program when run `raku -e ' ...' `?
[21:39:11] <xinming> What is the official dbmopen implementation for rakudo ?
[21:40:08] <xinming> Today, I thought that, can we have a database where all keys are in memory, but all data are on the disk?
[21:40:28] <xinming> Hmm, I know it's doable, What I mean is, wether we already have the module for this. ;-)
[21:50:14] <lizmat> melezhik: there is no official interface for that
[21:51:22] <lizmat> unofficially, there is Rakudo::Internals.PROGRAM
[21:51:37] <lizmat> maybe we should expose that somehow
[21:54:11] <melezhik> lizmat++
[21:59:18] *** Joins: jess (~jess@libera/staff/jess)
[22:13:47] * lizmat clickbaits https://rakudoweekly.blog/2021/09/13/2021-37-receding/
[22:18:44] <lizmat> melezhik: %*COMPILING<%?OPTIONS><e>  might be a less brittle thing to depend on
[22:22:30] <lizmat> although that also appears to be an implementation detail
[22:24:48] <lizmat> maybe I should just make a module for it
[22:25:42] *** Joins: immediate (~immediate@37.155.237.197)
[22:27:09] <immediate> m: say [5, 12, 13]>>.WHAT
[22:27:10] <camelia> rakudo-moar 10b327292: OUTPUT: Â«(Array)â¤Â»
[22:27:32] <immediate> m: say [5, 12, 13]>>.&WHAT
[22:27:32] <camelia> rakudo-moar 10b327292: OUTPUT: Â«[(Int) (Int) (Int)]â¤Â»
[22:28:33] <immediate> Hello, why we need &? and what does it do when we don't use &?
[22:28:38] *** Quits: melezhik (~melezhik@174.128.60.162) (Ping timeout: 268 seconds)
[22:33:04] *** Quits: reportable6 (rep-able@2001:41d0:2:5eb5::) (Remote host closed the connection)
[22:34:32] <lizmat> immediate: intriguing, I guess it's because .WHAT is basically a macro
[22:35:07] <lizmat> but it feels incorrect indeed...
[22:35:09] *** Joins: patrickb (~quassel@55d4f94d.access.ecotel.net)
[22:53:31] *** Quits: keutoi (~keutoi@157.47.108.219) (Quit: leaving)
[23:00:56] *** Joins: linkable6 (lin-able@2001:41d0:2:5eb5::)
[23:35:40] *** Joins: reportable6 (rep-able@2001:41d0:2:5eb5::)
[23:42:55] <immediate> thank you
[23:45:06] <xinming> immediate: seems like a bug 
[23:48:38] <immediate> Is it specific to WHAT? WHICH gives a different result
[23:48:54] <immediate> m: say [5, 12, 13]>>.WHICH
[23:48:55] <camelia> rakudo-moar 10b327292: OUTPUT: Â«[Int|5 Int|12 Int|13]â¤Â»
[23:49:07] <immediate> m: say [5, 12, 13]>>.&WHICH
[23:49:08] <camelia> rakudo-moar 10b327292: OUTPUT: Â«5===SORRY!5=== Error while compiling <tmp>â¤Undeclared name:â¤    WHICH used at line 1â¤â¤Â»
[23:52:13] <lizmat> m: dd WHICH 42
[23:52:13] <camelia> rakudo-moar 10b327292: OUTPUT: Â«5===SORRY!5=== Error while compiling <tmp>â¤Undeclared name:â¤    WHICH used at line 1â¤â¤Â»
[23:52:30] *** Quits: patrickb (~quassel@55d4f94d.access.ecotel.net) (Quit: Quit.)
[23:54:08] <lizmat> that's because there is no sub WHICH in the core, but there not a sub WHICH
[23:54:20] <lizmat> that's because there is no sub WHICH in the core, but there *is* a sub WHAT
