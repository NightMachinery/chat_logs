[00:02:27] *** Joins: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com)
[00:04:15] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[00:05:13] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 244 seconds)
[00:08:52] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[00:10:15] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[00:12:00] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 258 seconds)
[00:12:01] *** Lord_of_Life_ is now known as Lord_of_Life
[00:13:10] *** Joins: motherr (~motherr@user/motherr)
[00:18:34] *** Quits: tmm88 (~tmm88@2001:8a0:ff48:1500:b66b:fcff:fe62:e4a9) (Quit: Client closed)
[00:19:28] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[00:21:52] *** Joins: rendar (~rendar@user/rendar)
[00:22:04] *** Quits: motherr (~motherr@user/motherr) (Ping timeout: 252 seconds)
[00:23:00] *** Quits: codebam (~codebam@user/codebam) (Ping timeout: 250 seconds)
[00:26:05] *** Joins: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66)
[00:27:23] *** Quits: pystardust (~pystardus@223.226.119.16) (Quit: nyaa~)
[00:28:48] *** Joins: goodugly (~test_user@gateway/tor-sasl/goodugly)
[00:30:10] *** Quits: darkbit (~db@152.32.99.67) (Ping timeout: 240 seconds)
[00:30:50] <goodugly> there was a variable or a mechanism of some sort by which if i did: bash -c "echo $some_var" it would print out "-c" or anything that was passed to 'bash', how did I do that?
[00:31:30] <emanuele6> i don't understand the question
[00:31:49] <emg> goodugly: you want to know the flags that were passed to bash when it started?
[00:31:55] <goodugly> emg: yes
[00:32:01] <emanuele6> like -x and such?
[00:32:07] <emg> !$-
[00:32:07] <greybot> $- expands to the current option flags as specified upon invocation, by the set builtin command, or those set by the shell itself (such as the -i option).
[00:32:48] *** Joins: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net)
[00:33:04] <goodugly> emg: if i do: bash -c "echo $-" it outputs: himBHs
[00:33:04] <emg> # bash -c 'echo $-'
[00:33:07] <shbot> emg: hBc
[00:33:12] <goodugly> yea
[00:33:29] <goodugly> on my machine it even outputs himBHs
[00:33:34] <emanuele6> !quotes > goodugly
[00:33:34] <greybot> goodugly: https://mywiki.wooledge.org/Quotes
[00:33:46] <emanuele6> if you use "", $- is expanded in the current shell
[00:33:51] <emanuele6> not in bash -c
[00:34:09] <goodugly> emanuele6: oops, i actually did it with "" on my machine
[00:34:21] <emanuele6> you need to use '' as emg did
[00:35:07] <goodugly> i got hBc, now I assume 'h' and 'B' are by default there?
[00:35:28] <kurahaupo> yes
[00:37:29] *** Quits: sudomann (~sudomann@50.238.46.18) (Ping timeout: 248 seconds)
[00:39:00] *** Quits: daniel-k (~daniel-k@192.241.135.211) (Quit: bye)
[00:39:33] *** Joins: daniel-k (~daniel-k@192.241.135.211)
[00:41:02] *** Joins: Yssk (~Yssk@85.255.237.6)
[00:41:25] *** Quits: Yssk (~Yssk@85.255.237.6) (Client Quit)
[00:48:08] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[00:48:59] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[00:49:48] <emg> goodugly: help set     to see what the h and B mean, as well as the others in your current shell if you want to know
[00:50:17] *** Joins: rendar (~rendar@user/rendar)
[00:50:38] *** Joins: nitro (~nitro@c-73-165-183-88.hsd1.pa.comcast.net)
[00:51:27] *** Quits: magla (~gelignite@55d4beb4.access.ecotel.net) (Remote host closed the connection)
[00:51:46] *** Quits: furrymcgee (~devuan@31.179.186.66) (Ping timeout: 252 seconds)
[00:54:08] *** Joins: frm (~frm@user/frm)
[00:54:37] *** Joins: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697)
[00:54:40] *** Quits: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66) (Ping timeout: 240 seconds)
[00:58:37] *** Joins: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66)
[01:01:54] *** Joins: Lope (~lope@user/lope)
[01:06:04] *** Quits: Lope (~lope@user/lope) (Ping timeout: 252 seconds)
[01:06:37] *** Quits: H3dn1ng (~H3dn1ng@2-248-149-85-no172.tbcn.telia.com) (Quit: leaving)
[01:10:03] *** Quits: ano (~weechat@user/ano) (Remote host closed the connection)
[01:12:07] *** Joins: ano (~weechat@user/ano)
[01:16:18] *** Joins: alzgh (~alzgh@user/alzgh)
[01:17:33] <alzgh> `IFS=$'\n' read -d "" -ra funcs < <(declare -F)` I'm having trouble to fully understand this line. Specifically the `-d ""` part troubles me.
[01:18:47] <alzgh> I can explain further if needed.
[01:20:01] <geirha> -d changes read's line terminator, which is newline by default
[01:20:30] <tirnanog> the empty string is taken to mean that the NUL byte should be treated as a line ending delimiter, rather than the newline. that way, it slurps up all of the input prior to field splitting by IFS. really though, it just looks like a slightly long-winded way of writing: maptfile -t funcs < <(compgen -A functions)
[01:20:35] <geirha> It uses only the first character of the argument to -d. When passing an empty string, that char becomes a NUL byte. So it will read until it hits a NUL byte (or EOF)
[01:20:54] <tirnanog> er, -A function. not -A functions.
[01:21:55] *** Pokey is now known as _Pokey_
[01:21:57] *** _Pokey_ is now known as Pokey
[01:22:18] <tirnanog> oh, never mind. misread. you're capturing each as a complete declaration.
[01:22:29] <tirnanog> but still, I don't see why one wouldn't use mapfile.
[01:22:54] <alzgh> the -a assigns the words read to an array, but how does it know how to split the text when the delimiter is the NUL at the end of the file?
[01:23:01] <geirha> # f() { :; }; declare -F
[01:23:03] <shbot> geirha: declare -f f
[01:23:12] <geirha> # f() { :; }; compgen -A function
[01:23:14] <shbot> geirha: f
[01:23:16] <tirnanog> by way of IFS. it's a laborious way of doing tit, in this case.
[01:23:20] <tirnanog> (in my view)
[01:23:34] <geirha> alzgh: it splits on IFS, which is set to newline
[01:23:46] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Quit: WeeChat 3.2)
[01:23:57] <tirnanog> mapfile -t funcs < <(declare -F) would do the same.
[01:23:58] *** Joins: YaoNai (~YaoNai@user/yaonai)
[01:24:02] <alzgh> doesn't -d "" overwrite IFS for the read?
[01:24:15] <geirha> no, -d and IFS are different things
[01:24:21] <alzgh> O
[01:24:26] <tirnanog> no. IFS is not a line/record ending delimiter.
[01:24:54] <geirha> # IFS=' ' read -ra line    <<< $'a b\nc d'; declare -p line
[01:24:55] <shbot> geirha: declare -a line=([0]="a" [1]="b")
[01:25:44] <geirha> the default is -d $'\n', so read reads until it encounters a \n, then splits that line into words based on the characters in IFS
[01:25:49] *** Joins: odoood (~odoood@2601:c8:c003:a550::8)
[01:26:26] <alzgh> O, got it.
[01:27:27] <alzgh> -d is for the chunks that are read, IFS then splits the read stuff, since we directed read to create an array from the input.
[01:27:50] <tirnanog> -d defines how a line ends.
[01:28:43] <tirnanog> whoever came up with that command chose NUL on the basis that it wouldn't be present in the input stream.
[01:28:52] <tirnanog> so the entire stream becomes the line, so to speak.
[01:29:10] *** Quits: YaoNai (~YaoNai@user/yaonai) (Quit: leaving)
[01:30:05] <tirnanog> mapfile is simpler because it's exact purpose is to read lines into an indexed array.
[01:30:05] <alzgh> thank you tirnanog geirha much appreciated
[01:30:26] <alzgh> going to swap it with mapfile to test
[01:34:07] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 252 seconds)
[01:35:21] *** Joins: greycat (~greg@209.142.155.49)
[01:35:48] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[01:36:41] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[01:36:52] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[01:40:57] *** Quits: julius_c (~julius_c@95.red-83-57-77.dynamicip.rima-tde.net) (Quit: Leaving)
[01:41:50] *** Quits: clime (~clime@ip-94-199-195-39.acvyskov.cz) (Quit: WeeChat 3.2)
[01:44:54] *** Quits: odoood (~odoood@2601:c8:c003:a550::8) (Ping timeout: 250 seconds)
[01:45:20] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 250 seconds)
[01:45:24] <alzgh> mapfile worked, had to add the -t option
[01:45:40] <tirnanog> yes.
[01:48:43] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[01:49:32] *** Joins: ferdna (~ferdna@user/ferdna)
[01:52:49] *** Joins: jetchisel (jetchisel@user/jetchisel)
[01:54:34] *** Quits: karakedi (~eAC53C340@user/karakedi) (Remote host closed the connection)
[01:56:28] *** Quits: sazawal (~sazawal@106.213.43.60) (Quit: Leaving)
[02:06:10] *** Quits: Hax0r (~Hax0r@87.101.193.195) (Quit: Leaving)
[02:08:13] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 252 seconds)
[02:09:50] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[02:09:59] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:11:46] *** Quits: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is) (Ping timeout: 250 seconds)
[02:13:20] *** Quits: daniel-k (~daniel-k@192.241.135.211) (Quit: bye)
[02:13:31] *** Joins: daniel-k (~daniel-k@192.241.135.211)
[02:14:49] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 252 seconds)
[02:15:54] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[02:16:15] *** Joins: akoana (~ah@user/akoana)
[02:19:10] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 240 seconds)
[02:21:43] *** Quits: Nact (~l@2a02:a03f:c0b0:f600:3253:5994:1b4f:e854) (Quit: Konversation terminated!)
[02:21:58] *** Quits: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net) (Ping timeout: 252 seconds)
[02:22:03] *** Joins: thurstylark (thurstylar@user/thurstylark)
[02:22:13] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[02:22:14] *** Quits: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[02:24:20] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[02:24:44] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Client Quit)
[02:24:58] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[02:27:01] *** Joins: kj (~kj@kj.aerisnetwork.net)
[02:31:05] <emanuele6> do you guys think [![:digit:]] is defined in glob patterns? i would say they are not
[02:31:07] <emanuele6> https://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_13_03
[02:31:21] <emanuele6> (defined by POSIX)
[02:34:05] <emg> yes
[02:35:16] <emanuele6> emg: why?
[02:36:02] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:36:17] <emg> emanuele6: becuase it is for regular expressions, which is where that redirects to for more info: https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html#tag_09_03_05
[02:36:59] <emg> rule 3
[02:38:09] <emanuele6> oh, i misread a paragraph. yeah, they are defined because they are defined in REs
[02:40:17] *** Quits: jaggz (~jaggz@user/jaggz) (Read error: Connection reset by peer)
[02:40:34] *** Joins: jaggz (~jaggz@user/jaggz)
[02:41:32] *** Quits: toad-x (~quassel@31.223.78.243) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[02:49:34] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[02:51:03] *** Quits: jess (~jess@libera/staff/jess) ()
[02:56:50] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 250 seconds)
[02:57:03] *** Quits: alzgh (~alzgh@user/alzgh) (Quit: WeeChat 2.8)
[02:57:36] *** Quits: son0p (~ff@181.136.122.143) (Remote host closed the connection)
[03:03:58] <FreeBDSM> !rule 3
[03:04:19] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 252 seconds)
[03:06:07] <emanuele6> !rules > FreeBDSM 
[03:06:07] <greybot> FreeBDSM: First rule of #bash, UMQ. Second rule of #bash, don't fucking ignore Riviera.
[03:06:20] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:06:25] <greycat> !meta rules
[03:06:25] <greybot> dualbus 1395066161(2014-03-17) learn First rule of #bash, UMQ. Second rule of #bash, don't fucking ignore Riviera.
[03:06:51] <FreeBDSM> Use More Quotes?
[03:06:59] <greycat> yes
[03:06:59] <emanuele6> !umq > FreeBDSM 
[03:06:59] <greybot> FreeBDSM: "$Use" "$More" "$Quotes" # see also !wordsplitting and !quotewhen
[03:07:29] <FreeBDSM> ah, a factoid to explain another factoid
[03:07:39] <emanuele6> !EPOCHREALTIMEint
[03:07:39] <greybot> the format of EPOCHREALTIME is %u%c%06u where %c is the decimal delimiter of the current locale (".", ",", ...). It can be converted to an integer using: $(( 10#${EPOCHREALTIME//[!0-9]} ))
[03:07:45] <emanuele6> !forget EPOCHREALTIMEint
[03:07:45] <greybot> OK, emanuele6
[03:08:19] <emanuele6> !learn EPOCHREALTIMEint the format of EPOCHREALTIME is %u%c%06u where %c is the decimal delimiter of the current locale (".", ",", ...). It can be converted to an integer using: $(( 10#${EPOCHREALTIME//[![:digit:]]} ))
[03:08:19] <greybot> OK, emanuele6
[03:09:32] <emanuele6> since POSIX defines it ans EPCHREALTIME depends on the locale, it makes sense to use it instead of [!0-9] maybe. i guess
[03:10:50] *** Quits: n4dir (~user@i577BC91A.versanet.de) (Remote host closed the connection)
[03:11:12] <emanuele6> ![[:digit:]]
[03:11:12] <greybot> you're a pretetious prick
[03:11:35] *** Joins: downunder (~downunder@110.151.122.76)
[03:11:36] <greycat> !meta [[:digit:]]
[03:11:36] <greybot> izabera 1551527684(2019-03-02) learn you're a pretetious prick
[03:11:39] <tirnanog> that's a rather novel factoid.
[03:11:57] *** Quits: jetchisel (jetchisel@user/jetchisel) (Remote host closed the connection)
[03:12:08] <FreeBDSM> preteNtious 
[03:12:29] <izabera> you really want [0-9] instead
[03:12:50] <FreeBDSM> also, that's what grep forces to use instead of \d
[03:12:56] <ormaaj> /d
[03:12:57] <emanuele6> because of the %u i think it makes more sense [!0-9]
[03:13:04] <emanuele6> FreeBDSM: those are not regular expressions
[03:13:19] <ormaaj> or \d whatever.
[03:13:20] <izabera> i just checked the rfc and ip addresses aren't going to contain aztec digits
[03:13:26] <izabera> very convenient
[03:13:31] <izabera> so just use [0-9]
[03:13:38] <emanuele6> !forget EPOCHREALTIMEint
[03:13:39] <greybot> OK, emanuele6
[03:13:45] <FreeBDSM> [0-9] looks regexpy to me
[03:13:51] <emanuele6> !learn EPOCHREALTIMEint the format of EPOCHREALTIME is %u%c%06u where %c is the decimal delimiter of the current locale (".", ",", ...). It can be converted to an integer using: $(( 10#${EPOCHREALTIME//[!0-9]} ))
[03:13:51] <greybot> OK, emanuele6
[03:13:55] <FreeBDSM> I demand \d
[03:14:16] <emanuele6> FreeBDSM: those ARE NOT regular expressions
[03:14:21] <izabera> using [[:digit:]] can even cause problems if you do get a weird unicode digit and you parse it as a valid one
[03:14:26] <emanuele6> and \d is not regular expression either
[03:14:27] <izabera> so don't
[03:14:29] <emanuele6> it's PCRE
[03:14:38] <tirnanog> pretetiousness averted.
[03:14:55] <izabera> yeah, that's the point of that factoid, feel free to ping me again next time for another explanation
[03:15:04] <FreeBDSM> what does RE stand for in PCRE?
[03:15:07] *** Quits: GNUHacker (~gnu@fsf/member/GNUHacker) (Remote host closed the connection)
[03:15:19] <emanuele6> \d is PCRE
[03:15:27] *** Joins: GNUHacker (~gnu@fsf/member/GNUHacker)
[03:15:39] <emanuele6> [0-9] in that context IS NOT a regular expression
[03:15:40] <ormaaj> Really Enormous
[03:15:43] <emanuele6> it's a pattern
[03:15:44] <FreeBDSM> RE == PCRE || GTFO
[03:16:05] <emanuele6> [0-9] in that context is neither a RE nor an RE
[03:16:17] *** Joins: jetchisel (~jetchisel@user/jetchisel)
[03:16:45] <FreeBDSM> I was referencing [[:digit:]]
[03:16:45] <emanuele6> * [0-9] in that context is neither a RE nor a PCRE
[03:16:46] <FreeBDSM> it's RE
[03:17:19] <emanuele6> > [0-9] looks regexpy to me
[03:17:25] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[03:17:34] <emanuele6> > I was referencing [[:digit:]]
[03:17:41] <emanuele6> *plonk*
[03:18:46] <ormaaj> [0-9] depends on LC_COLLATE like any other range. [[:digit:]] is a posix character class.
[03:19:15] <FreeBDSM> [0-9] looks regexpy too, but yeah, not always a regexp
[03:20:06] <emanuele6> !glob > FreeBDSM 
[03:20:07] <greybot> FreeBDSM: Globs are shell patterns that can be used for matching strings or expanding pathnames: [[ $name = Bob* ]]; rm -- *.txt; see http://mywiki.wooledge.org/glob
[03:20:22] <emanuele6> ormaaj: that's true
[03:20:43] <emanuele6> i guess the only way to avoid problems with crazy locales is to use [!0123456789] 
[03:21:18] <ormaaj> or set LC_COLLATE=C
[03:21:40] <emanuele6> right
[03:22:10] *** Quits: jetchisel (~jetchisel@user/jetchisel) (Ping timeout: 240 seconds)
[03:22:46] <greycat> [0-9] is a valid glob and a valid BRE and a valid ERE and a valid PCRE and valid other things as well
[03:22:51] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:22:58] <FreeBDSM> do arabs or japanese count from 9?
[03:23:22] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[03:23:27] <greycat> nein
[03:24:30] <Riviera> haha
[03:24:38] <ormaaj> you'll only see [0-9] change behavior if you've used localedef to define your own..
[03:24:43] *** Joins: sublim20 (~sublim20@user/sublim20)
[03:24:44] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[03:25:13] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:25:31] <tirnanog> # LANG=en_US.utf8; for i in {0..55295}; do printf -v hex %04x "$i"; printf -v char "\u$hex"; [[ $char == [[:digit:]] ]] && printf '%s ' "$char"; done
[03:25:38] <shbot> tirnanog: 0 1 2 3 4 5 6 7 8 9
[03:26:03] <tirnanog> # LANG=en_US.utf8; for i in {0..55295}; do printf -v hex %04x "$i"; printf -v char "\u$hex"; [[ $char == [0-9] ]] && printf '%s ' "$char"; done
[03:26:10] <shbot> tirnanog: 0 1 2 3 4 5 6 7 8 9 Ÿ† Ÿ° Ÿ¢ Ÿ£ Ÿ§ Ÿ• Ÿ¶ Ÿß Ÿ® €∞ €± €≤ €≥ €¥ €µ €∂ €∑ €∏ ‡•¶ ‡•ß ‡•® ‡•© ‡•™ ‡•´ ‡•¨ ‡•≠ ‡•Æ ‡ß¶ ‡ßß ‡ß® ‡ß© ‡ß™ ‡ß´ ‡ß¨ ‡ß≠ ‡ßÆ ‡©¶ ‡©ß ‡©® ‡©© ‡©™ ‡©´ ‡©¨ ‡©≠ ‡©Æ ‡´¶ ‡´ß ‡´® ‡´© ‡´™ ‡´´ ‡´¨ ‡´≠ ‡´Æ ‡Ø¶ ‡Øß ‡Ø® ‡Ø© ‡Ø™ ‡Ø´ ‡Ø¨ ‡Ø≠ ‡ØÆ ‡±¶ ‡±ß ‡±® ‡±© ‡±™ ‡±´ ‡±¨ ‡±≠ ‡±Æ ‡±∏ ‡±π ‡±∫ ‡±ª ‡±º ‡±Ω ‡±æ ‡≥¶ ‡≥ß ‡≥® ‡≥© ‡≥™ ‡≥´ ‡≥¨ ‡≥≠ ‡≥Æ ‡µ¶ ‡µß ‡µ® ‡µ© ‡µ™ ‡µ´ ‡µ¨ ‡µ≠ ‡µÆ ‡º° ‡º¢ ‡º£ ‡º§ ‡º• ‡º¶ ‡ºß ‡º® ‡º© ‡º™ ‡º´ ‡º¨ ‡º≠ ‡ºÆ ‡ºØ ‡º∞ ‡º± 
[03:27:06] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[03:27:12] <emanuele6> # LANG=en_US.utf8; for i in {0..55295}; do printf -v hex %04x "$i"; printf -v char "\u$hex"; [[ $char == [0-9] ]] && printf '%d|%s ' "'$char" "$char"; done
[03:27:19] <shbot> emanuele6: 48|0 49|1 50|2 51|3 52|4 53|5 54|6 55|7 56|8 57|9 1632|Ÿ† 1633|Ÿ° 1634|Ÿ¢ 1635|Ÿ£ 1636|Ÿ§ 1637|Ÿ• 1638|Ÿ¶ 1639|Ÿß 1640|Ÿ® 1776|€∞ 1777|€± 1778|€≤ 1779|€≥ 1780|€¥ 1781|€µ 1782|€∂ 1783|€∑ 1784|€∏ 2406|‡•¶ 2407|‡•ß 2408|‡•® 2409|‡•© 2410|‡•™ 2411|‡•´ 2412|‡•¨ 2413|‡•≠ 2414|‡•Æ 2534|‡ß¶ 2535|‡ßß 2536|‡ß® 2537|‡ß© 2538|‡ß™ 2539|‡ß´ 2540|‡ß¨ 2541|‡ß≠ 2542|‡ßÆ 2662|‡©¶ 2663|‡©ß 2664|‡©® 2665|‡©© 2666|‡©™ 2667|‡©´ 2668|‡©¨ 2669|‡©≠ 2670|‡©Æ 2790|‡´¶ 2791|‡´ß 27
[03:27:19] <shbot> emanuele6: 2795|‡´´ 2796|‡´¨ 2797|‡´≠ 2798|‡´Æ 3046|‡Ø¶ 3047|‡Øß 3048|‡Ø® 3049|‡Ø© 3050|‡Ø™ 3051|‡Ø´ 3052|‡Ø¨ 3053|‡Ø≠ 3054|‡ØÆ 3174|‡±¶ 3175|‡±ß 3176|‡±® 3177|‡±© 3178|‡±™ 3179|‡±´ 3180|‡±¨ 3181|‡±≠ 3182|‡±Æ 3192|‡±∏ 3193|‡±π 3194|‡±∫ 3195|‡±ª 3196|‡±º 3197|‡±Ω 3198|‡±æ 3302|‡≥¶ 3303|‡≥ß 3304|‡≥® 3305|‡≥© 3306|‡≥™ 3307|‡≥´ 3308|‡≥¨ 3309|‡≥≠ 3310|‡≥Æ 3430|‡µ¶ 3431|‡µß 3432|‡µ® 3433|‡µ© 3434|‡µ™ 3435|‡µ´ 3436|‡µ¨ 3437|‡µ≠ 3438|‡µÆ 3873|‡º° 3874|‡º¢ 3875|‡º£ 3876|‡º
[03:27:19] <shbot> emanuele6: 883|‡º´ 3884|‡º¨ 3885|‡º≠ 3886|‡ºÆ 3887|‡ºØ 3888|‡º∞ 3889|‡º± 3890|‡º≤ 8304|‚Å∞ 8308|‚Å¥ 8309|‚Åµ 8310|‚Å∂ 8311|‚Å∑ 8312|‚Å∏ 8539|‚Öõ 8540|‚Öú 8541|‚Öù 8542|‚Öû
[03:27:35] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:27:37] <Riviera> hm
[03:27:39] <tirnanog> maybe not so "pretetious" after all.
[03:28:07] *** Quits: killown (~killown@user/killown) (Quit: Leaving)
[03:28:09] <emanuele6> i hate localisation
[03:28:35] <Riviera> yeah, it'd be easier if everybody in the world would speak ascii and eat mcdonalds
[03:29:36] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[03:30:00] <emanuele6> # [[ 2 > ¬º ]]; echo "$?"
[03:30:03] <shbot> emanuele6: 1
[03:30:05] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:30:06] <tirnanog> you're basically right. [!0123456789] is the only way to be wholly certain.
[03:30:39] *** Quits: manin (~x@185.242.190.95) (Ping timeout: 268 seconds)
[03:30:39] <Riviera> i disagree, ormaaj's argument assumes a malicious system
[03:30:46] <Riviera> you cannot protect against that from within bash
[03:31:00] <emanuele6> # for i in {0..9}; do [[ $i > ¬º ]] && echo "$i"; done
[03:31:02] <shbot> emanuele6: no output
[03:31:03] <tirnanog> I didn't read ormaaj's statement.
[03:31:09] <tirnanog> I was responding to emanuele6.
[03:31:21] <Riviera> ah, that i did not read
[03:31:30] <Riviera> carry on
[03:31:31] <Riviera> :)
[03:31:51] <tirnanog> Stephane Chazelas made an interesting post some time ago, showing how deep this rabbit hole goes and came to the same conclusion.
[03:32:08] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[03:32:33] *** Joins: jsrnop1 (~mark@user/jsrnop)
[03:32:37] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:33:42] <tirnanog> in any case, I would posit that the matter is sufficiently nuanced that an edgy factoid that is bereft of information isn't particularly helpful.
[03:34:04] <emanuele6> # [[ 2 > ¬º ]] && echo foo; [[ 2 > ¬º ]] && echo bar
[03:34:06] <shbot> emanuele6: no output
[03:34:09] <emanuele6> oops
[03:34:16] <emanuele6> # [[ 2 > ¬º ]] && echo foo; [[ 2 > ‚Öõ ]] && echo bar
[03:34:17] <shbot> emanuele6: no output
[03:34:50] <emanuele6> oh, i forgot to set LANG
[03:34:52] <tirnanog> yes.
[03:35:00] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[03:35:03] <emanuele6> # LANG=en_US.utf8; [[ 2 > ¬º ]] && echo foo; [[ 2 > ‚Öõ ]] && echo bar
[03:35:05] <shbot> emanuele6: foo
[03:35:05] <shbot> emanuele6: bar
[03:35:21] <emanuele6> # LANG=en_GB.utf8; [[ 2 > ¬º ]] && echo foo; [[ 2 > ‚Öõ ]] && echo bar
[03:35:23] <shbot> emanuele6: no output
[03:35:34] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:35:35] <ormaaj> Custom locales are unusual. Localedef is pretty much an optional feature and not all libcs fully support it.
[03:35:47] <emanuele6> oh, maybe it's not compiled on shbot
[03:36:00] <emanuele6> locally, i get only bar with en_GB
[03:36:06] <ormaaj> bot only has a few locales
[03:36:19] <tirnanog> # locale -a | tr '\n' ' '
[03:36:20] <shbot> tirnanog: C POSIX de_DE.utf8 en_US.utf8 et_EE.utf8 nb_NO.utf8
[03:38:47] *** Joins: odoood (~odoood@2601:c8:c003:a550::8)
[03:39:14] <emanuele6> !forget EPOCHREALTIMEint
[03:39:14] <greybot> OK, emanuele6
[03:39:49] <emanuele6> !learn EPOCHREALTIMEint the format of EPOCHREALTIME is %u%c%06u where %c is the decimal delimiter of the current locale (".", ",", ...). It can be converted to an integer using: $(( 10#${EPOCHREALTIME//[![:digit:]]} ))
[03:39:49] <greybot> OK, emanuele6
[03:42:20] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 250 seconds)
[03:43:15] <tirnanog> right on, emanuele6. sometimes you have to stick to your guns.
[03:43:29] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:45:50] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 244 seconds)
[03:46:28] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[03:47:21] <emanuele6> [!0123456789]
[03:47:29] <emanuele6> [![:digit:]]
[03:48:00] <greycat> Y'all realize that this is a phenomenally useless operation, over which you're spending your entire Friday evenings debating.
[03:50:10] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 240 seconds)
[03:50:15] <FreeBDSM> this will save some fridays for a few clueless newbs coming for refined solutions
[03:50:16] <tirnanog> the evenings must be rather short in your neck of the woods.
[03:50:20] *** Joins: jevalideca (~jevalidec@172.83.47.99)
[03:50:32] <emanuele6> it's saturday
[03:51:40] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:52:43] *** Quits: hqdruxn08_ (~hqdruxn08@cpe-66-68-160-103.austin.res.rr.com) (Ping timeout: 252 seconds)
[03:54:02] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[03:54:02] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[03:54:36] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:56:39] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[03:57:22] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:58:50] *** Joins: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net)
[04:00:05] *** Joins: hqdruxn08 (~hqdruxn08@cpe-66-68-160-103.austin.res.rr.com)
[04:00:06] *** Quits: bn_work (uid268505@id-268505.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[04:01:40] *** Quits: odoood (~odoood@2601:c8:c003:a550::8) (Ping timeout: 240 seconds)
[04:02:51] <akoana> # LANG=en_US.utf8; for i in {0..55295}; do printf -v hex %04x "$i"; printf -v char "\u$hex"; [[ $char =~ [0-9] ]] && printf '%d|%s ' "'$char" "$char"; done
[04:02:58] <shbot> akoana: 48|0 49|1 50|2 51|3 52|4 53|5 54|6 55|7 56|8 57|9
[04:03:13] <akoana> hmm regex ...
[04:04:16] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 252 seconds)
[04:04:26] <emanuele6> regular expression are delegated to regcomp(), bash doesn't have control of the implementation details
[04:04:45] <Lutin> How can I get foo out of this line as variable ? "Name": "foo",
[04:05:07] <greycat> !jq
[04:05:07] <greybot> jq is a flexible and lightweight JSON processor: http://stedolan.github.com/jq/ . See #jq. Also, query JSON data with jshon: http://kmkeen.com/jshon/
[04:05:24] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:05:34] <emg> Lutin: what are you really doing? (is it json like greycat assumes? where does that data come from? what do you want to do with it?)
[04:11:52] <Lutin> emg exacly... comes from json output, docker inspect
[04:12:25] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 248 seconds)
[04:12:25] *** Joins: sublim20 (~sublim20@user/sublim20)
[04:12:27] <Lutin> greycat so credits for you :D
[04:12:47] <sublim20> he's not really grey
[04:12:53] <sublim20> more less black
[04:12:57] <greycat> getting there
[04:13:40] <emanuele6> Lutin: you don't even need jq then... just use: -f '{{ .Name }}' 
[04:13:54] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:13:55] <Lutin> greycat you are old, that's for sure :P
[04:14:16] <Lutin> emanuele6 -f with ?
[04:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:07] <emanuele6> with: docker inspect blabla -f '{{ .Name }}'
[04:15:39] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:15:54] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:16:46] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:16:49] <Lutin> emanuele6 are you sure ? I need to get a nodename from a network inspect it's deeper
[04:18:42] <emanuele6> then use the appropriate format to get that
[04:18:45] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:18:49] <Lutin> emanuele6 nah... I need to grep based on a prefix
[04:19:29] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:21:33] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:21:34] *** Joins: totenkoph (~scythe@user/totenkoph)
[04:22:15] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:24:22] *** Joins: sudomann (~sudomann@c-73-133-131-19.hsd1.md.comcast.net)
[04:24:38] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:25:24] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:27:26] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:28:01] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:28:10] <emg> it's always docker
[04:29:07] <emg> https://c.tenor.com/JULmscDNn8wAAAAd/cereal-hacks-useless-spoon.gif
[04:29:41] <emg> emanuele6: the number of times I've seen people refuse to read docker documentation and string together tons of docker and grep and sed etc. instead
[04:30:00] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:30:09] <e36freak> what's a documentation?
[04:30:37] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:30:42] * ormaaj refuses to read.
[04:34:15] <ormaaj> (But can be convinced.)
[04:34:15] *** Quits: entropea (~entropea@user/entropea) (Read error: Connection reset by peer)
[04:35:11] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:37:50] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:38:08] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[04:38:08] <emg> that must make IRC difficult
[04:39:08] <goodugly> I found that bash -c will exec() itself unless the command passed has a redirection, it will then fork() and exec(), is this info correct?
[04:39:53] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:40:07] <emanuele6> goodugly: it will not fork if the command is a builtin
[04:40:28] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:40:34] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 252 seconds)
[04:41:03] <goodugly> yes but how about the two cases I mentioned? are they correct?
[04:41:08] <goodugly> assuming they're not built ins
[04:41:20] <emanuele6> * and it won't exec either
[04:41:36] <emanuele6> goodugly: it's not define and you can simply use strace(1) to check
[04:41:42] <ormaaj> you mean if one single simple command is passed? Yes it optimizes the final command.
[04:41:45] <emanuele6> strace bash -c 'ls' | grep '^exec'
[04:42:05] <emanuele6> correction: strace bash -c 'ls' |& grep '^exec'
[04:42:27] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:42:28] <goodugly> !|&
[04:42:28] <greybot> If |& is used, the standard error of command is connected to command2's standard input through the pipe; it is shorthand for 2>&1 |
[04:42:44] <emanuele6> and since you also care about fork: strace bash -c 'ls' |& grep '^\(exec\|fork\)'
[04:43:28] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:43:38] *** Quits: JanC (~janc@user/janc) (Remote host closed the connection)
[04:43:45] <ormaaj> Unless it can't. redirects are one. Or an exit trap. Or anything else that needs the shell to stick around to wait on the command.
[04:43:56] *** Joins: JanC (~janc@user/janc)
[04:44:36] <goodugly> I don't get that
[04:44:47] <goodugly> i thought it just dup()'ed fds
[04:44:52] *** Quits: aead (~aead@user/aead) (Quit: aead)
[04:44:55] <goodugly> why does it need to stick around
[04:45:15] <goodugly> why doesn't it just dup them and exec itself
[04:45:31] *** Quits: JanC (~janc@user/janc) (Remote host closed the connection)
[04:45:32] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:46:02] <goodugly> "redirects are one" "exit trap" can you elaborate?
[04:46:07] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:50:16] *** Joins: zeden (~zeden@user/zeden)
[04:51:22] *** Joins: JanC (~janc@user/janc)
[04:53:17] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[04:54:22] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:56:21] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:56:54] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:57:18] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Quit: = "")
[04:58:53] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[04:59:27] *** Joins: jetchisel (jetchisel@user/jetchisel)
[05:00:08] *** Joins: michigan (uid507982@id-507982.charlton.irccloud.com)
[05:01:56] *** Quits: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[05:02:05] *** Quits: vaio (~gary@user/ghost) (Remote host closed the connection)
[05:02:31] *** Joins: vaio (~gary@user/ghost)
[05:02:32] *** Quits: lonewulf1 (~lonewulf@user/lonewulf) (Read error: Connection reset by peer)
[05:04:40] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Ping timeout: 250 seconds)
[05:06:17] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 248 seconds)
[05:06:38] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[05:07:22] *** Quits: Lutin (~Lutin@lfbn-lyo-1-1349-50.w86-207.abo.wanadoo.fr) (Quit: Lutin)
[05:07:30] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[05:08:27] *** Joins: jetchisel (jetchisel@user/jetchisel)
[05:14:19] <ormaaj> Bash maintains an FD stack of sorts. To open a new fd for a child it stashes preexisting fds into a free high-numbered fd, forks, then child closes the stashed fds, then exec. Bash for some reason evaluates the fd itself in the subshell which must close fds opened by the parent before forking. It don,  and causes the weird subshell behavior with fds..
[05:14:29] <ormaaj> *don't know why it's implemented that way.
[05:15:28] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[05:16:15] *** Joins: jetchisel (jetchisel@user/jetchisel)
[05:18:36] <ormaaj> !forget tco
[05:18:36] <greybot> OK, ormaaj
[05:19:03] <goodugly> what's that command?
[05:19:24] <goodugly> !forget help
[05:19:25] <greybot> OK, goodugly
[05:19:43] <ormaaj> !learn ormaajtco # f() if [ "$1" -ge 0 ]; then printf '%s ' "$1"; exec sh -c 'eval "${2}"; f "$(($1 - 1))" "$2"' _ "$@"; fi; f 9 "$(typeset -fp f)" # https://jeapostrophe.github.io/2012-05-28-exec-vs--post.html http://mywiki.wooledge.org/WrapperScript
[05:19:43] <greybot> OK, ormaaj
[05:20:00] *** Quits: eschwartz (~eschwartz@archlinux/bugwrangler/eschwartz) (Ping timeout: 268 seconds)
[05:20:06] <ormaaj> !learn tco #redirect ormaajtco
[05:20:06] <greybot> OK, ormaaj
[05:20:53] <goodugly> still don't get it
[05:21:10] <ormaaj> don't use forget
[05:21:26] <ormaaj> !learn help I can do: !faq {number|string}, !pf {number|string}, !learn key value, !meta key, !metaurl key, !forget key, !searchkeys string, !factstats, !faqstats, !faqpages, !date, !version. For help with Bash builtins, use "help command" in bash.
[05:21:27] <greybot> OK, ormaaj
[05:22:04] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[05:22:39] <goodugly> !version
[05:22:40] <greybot> greybot 2021-05-19
[05:23:07] *** Joins: rcernin_ (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[05:23:20] <goodugly> !help
[05:23:20] <greybot> I can do: !faq {number|string}, !pf {number|string}, !learn key value, !meta key, !metaurl key, !forget key, !searchkeys string, !factstats, !faqstats, !faqpages, !date, !version. For help with Bash builtins, use "help command" in bash.
[05:23:29] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[05:23:30] <goodugly> !help forget
[05:24:10] *** Joins: jetchisel (jetchisel@user/jetchisel)
[05:24:23] <greycat> "!help" is just a factoid, not an actual command
[05:24:43] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 268 seconds)
[05:24:58] <goodugly> what does !forget do?
[05:25:06] <ormaaj> ... that's all it can do. in the factoid.
[05:25:09] <ormaaj> forgets the factoid
[05:25:15] <ormaaj> http://wooledge.org/~greybot/
[05:25:40] <ormaaj> source is there, and some info pages
[05:25:43] <goodugly> it has its own tilde :o
[05:26:04] <greycat> yes, I made a user account for it
[05:26:13] *** Quits: jetchisel (jetchisel@user/jetchisel) (Max SendQ exceeded)
[05:26:47] *** Joins: jetchisel (jetchisel@user/jetchisel)
[05:27:00] *** Joins: aead (~aead@user/aead)
[05:27:10] <goodugly> greycat: thought you were the bot replying for a sec
[05:28:02] <goodugly> oh it's perl, is it for irssi?
[05:28:49] <greycat> *sigh* no.
[05:28:53] <greycat> you can see the entire program, right there.
[05:29:39] <goodugly> eehh
[05:29:48] <goodugly> not to savvy with perl, wouldn't notice
[05:29:58] <goodugly> too*
[05:30:35] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:33:55] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 252 seconds)
[05:35:27] *** Joins: jetchisel (jetchisel@user/jetchisel)
[05:38:30] *** Joins: igemnace (~ian@user/igemnace)
[05:41:37] <ormaaj> greycat is a much bigger perl script. We keep legacy greybot around for posterity.
[05:42:10] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 252 seconds)
[05:43:18] <tp43_> I understand exec() in C code. But in bash I am confused. 
[05:43:43] <ormaaj> how come?
[05:44:39] <tp43_> ormaaj, if I run $ls -lh. It launches ls program and that is the context. And if I run $exec ls -lh, same thing.
[05:44:41] <ormaaj> It's a builtin that makes the shell exec itself. And has a few extra features.
[05:45:56] <tp43_> ormaaj, what does it mean, 'shell exec itself'?
[05:46:01] <ormaaj> if you exec ls then the shell is gone. when ls closes it will be wait() ed on by what was the shell's parent (or pid 1)
[05:46:36] <tp43_> ormaaj, Nice, thx. I get something now.
[05:47:32] <ormaaj> exec is a system call that operates on processes. The C functions are just wrappers.
[05:48:20] <tp43_> ormaaj, bash shell is a program that interprets commands. When I run ls, it is run a a child process using fork?
[05:48:37] <greycat> Without exec, yes.
[05:49:12] <tp43_> greycat, but then most programs to be run in a shell.
[05:49:43] <greycat> Most of the things you type into a shell will cause a fork/exec.
[05:49:44] <tp43_> need to be run in a shell. ls requires a shell.
[05:50:00] <greycat> ls does not require a shell.  you can execlp() it from a C program.
[05:50:13] <tp43_> greycat, but the c program requires a shell
[05:50:21] <greycat> No, it does not.
[05:50:33] *** Quits: cark (~cark@91.110.54.120) (Ping timeout: 248 seconds)
[05:50:37] <tp43_> greycat, how can you launch it?
[05:50:45] <greycat> It could be launched by ANYTHING.
[05:50:48] <llua> heh
[05:50:55] <greycat> By systemd, for example.
[05:51:03] <tp43_> greycat, Yes I see
[05:51:09] *** Joins: cark (~cark@91.110.54.120)
[05:51:24] <tp43_> I am trying to learn linux namespaces.
[05:51:38] <tp43_> If you guys had any advice like a great blog post or other read
[05:51:40] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[05:51:46] <llua> ask ##linux
[05:53:14] <tp43_> what are some reason to use exec. I see they use it will linux namespaces for some reason. Any other use cases?
[05:54:11] <ormaaj> the namespaces do different things. just learn the namespace features you're actually going to use. Most people don't use them directly.
[05:57:09] <greycat> !wrapper > tp43_ 
[05:57:09] <greybot> tp43_: http://mywiki.wooledge.org/WrapperScript
[05:57:43] <tp43_> ormaaj, thx
[05:57:45] <tp43_> greybot, thx
[05:57:46] <ormaaj> tp43_: exec is the main way *nix processes load new code . Without exec you have a useless system running one program that can't do anything but make copies of itself.
[05:58:54] <ormaaj> I'd say it is rather more essential than namespaces.
[05:59:20] <greycat> Quite.  Trying to learn "Namespaces" when you don't even understand the basic fork/exec model seems like a wacko set of priorities.
[05:59:57] *** Quits: b0b (~bob@user/b0b) (Quit: o/)
[06:00:16] <tp43_> greycat, no man, I am learning for and exec
[06:00:26] *** Joins: b0b (~bob@user/b0b)
[06:00:34] *** Quits: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net) (Ping timeout: 250 seconds)
[06:00:40] <tp43_> How do I know I need to learn fork and exec first right/
[06:00:46] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[06:04:42] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.2)
[06:06:58] *** Quits: howdoi (uid224@id-224.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[06:07:50] *** Joins: sgn (~sgn@user/sgn)
[06:09:19] <ormaaj> Read some intoductory texts on operating systems and unix. Example good book: https://www.amazon.com/UNIX-Linux-System-Administration-Handbook/dp/0131480057 . or there's plenty on the interwebs. wooledge wiki has many informative pages and links to other good things.
[06:11:27] <ormaaj> (Also don't read random books... 99% are crap)
[06:12:22] *** Parts: akoana (~ah@user/akoana) ()
[06:12:55] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[06:13:56] <ash_worksi> I really don't get when you can use a variable before a command; `sec='...' sed "/security\./c $sec"` errors: sed: -e expression #1, char 14: expected \ after `a', `c' or `i'
[06:14:10] <greycat> !faq 104 > ash_worksi 
[06:14:10] <greybot> ash_worksi : https://mywiki.wooledge.org/BashFAQ/104 -- Why doesn't foo=bar echo "$foo" print bar?
[06:14:12] <ash_worksi> use = assign
[06:15:44] *** Quits: lq820105 (~lq@210.72.8.208) (Ping timeout: 250 seconds)
[06:16:01] *** Joins: lq (~lq@116.228.78.182)
[06:16:42] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[06:17:58] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[06:18:17] <ash_worksi> is the criteria for `var=... command` either if the command is "read" or on-going? (like nginx)
[06:18:31] <ash_worksi> rather is that a good rule of thumb?
[06:18:57] <ormaaj> https://wiki.bash-hackers.org/syntax/grammar/parser_exec
[06:21:29] *** Joins: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net)
[06:24:14] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[06:25:20] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[06:27:57] *** Joins: ackyshake (~ackyshake@user/ackyshake)
[06:29:10] *** Joins: Atque (~Atque@user/atque)
[06:30:43] *** Quits: aead (~aead@user/aead) (Quit: aead)
[06:30:54] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 250 seconds)
[06:32:15] *** Joins: sudomannn (~sudomann@86.106.143.76)
[06:32:51] *** Quits: rkta (~kt@62.113.246.111) (Remote host closed the connection)
[06:32:59] *** Joins: rkta (~kt@62.113.246.111)
[06:34:31] *** Joins: tinytoast (~squeek@user/tinystoat)
[06:34:37] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Ping timeout: 245 seconds)
[06:35:06] *** Quits: joo (~joo@fsf/member/joo--) (Ping timeout: 258 seconds)
[06:35:06] *** Quits: chemsmith (~chemsmith@user/chemsmith) (Ping timeout: 252 seconds)
[06:36:30] *** Joins: chemsmith (~chemsmith@user/chemsmith)
[06:36:30] *** Quits: sudomann (~sudomann@c-73-133-131-19.hsd1.md.comcast.net) (Ping timeout: 240 seconds)
[06:36:30] *** Quits: comrumino (~comrumino@li87-103.members.linode.com) (Ping timeout: 252 seconds)
[06:36:30] *** Quits: andreas3- (andreas303@ip227.orange.bnc4free.com) (Ping timeout: 252 seconds)
[06:36:30] *** Quits: soifou (~soifou@51.68.77.7) (Ping timeout: 252 seconds)
[06:36:30] *** Quits: simpl_e (~user@user/simpl-e/x-8589812) (Ping timeout: 245 seconds)
[06:36:30] *** Joins: soifou (~soifou@51.68.77.7)
[06:36:36] *** Joins: LiftLeft (~LiftLeft@172.83.47.105)
[06:36:38] *** Quits: LoRez (~lorez@user/lorez) (Ping timeout: 256 seconds)
[06:36:50] *** Joins: andreas303 (andreas303@ip227.orange.bnc4free.com)
[06:36:57] *** Joins: simpl_e (~user@user/simpl-e/x-8589812)
[06:37:08] *** Quits: tinystoat (~squeek@user/tinystoat) (Read error: Connection reset by peer)
[06:37:12] *** Quits: lucerne (~lucerne@ip202.ip-51-178-215.eu) (Ping timeout: 245 seconds)
[06:37:14] *** Joins: comrumino (~comrumino@li87-103.members.linode.com)
[06:37:20] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[06:37:50] *** Joins: lucerne (~lucerne@ip202.ip-51-178-215.eu)
[06:38:22] *** Joins: LoRez (~lorez@user/lorez)
[06:46:39] *** Joins: darkbit (~db@152.32.99.67)
[06:49:32] *** Joins: joo (~joo@fsf/member/joo--)
[06:52:39] <goodugly> I can force ls to output ansi escape color codes when outputting to pipe like this: ls --color=always | less    # but for the love of God I can't get a colored result out of: ssh user@host -T 'ls --color=always'
[06:53:19] <goodugly> I also tried:  ssh user@host -T "echo -e '"'I \033[0;31mlove\033[0m my mom'"'"
[06:53:37] <goodugly> On the second example it works
[06:53:39] <ormaaj> goodugly: ssh needs to be configured to pass through your TERM, and TERM needs to advertise color support.
[06:53:52] <ormaaj> (normally the former is default for openssh)
[06:54:29] <greycat> and the ls on the remote system has to have this --color option, and so on
[06:55:20] <goodugly> ormaaj: I don't think it matters at all, with -T it doesn't assign a TTY and on examining the spawned "ls" process it shows that its STDIO is connected with pipes to the sshd process
[06:55:28] <greycat> http://paste.wooledge.org/8946
[06:55:42] <greycat> -T is 100% exactly the opposite of what you want
[06:55:43] <goodugly> greycat: it does have --color
[06:55:52] *** Quits: xx (~xx@user/xx) (Ping timeout: 252 seconds)
[06:56:05] <ormaaj> or maybe it doesn't by default. I guess I had it configured and forgot.
[06:56:19] <greycat> TERM is definitely passed by default
[06:56:23] <ormaaj> ssh_config should have `SendEnv TERM LANG LC_*` or similar
[06:56:37] <ormaaj> ah don't need term? k
[06:59:04] <goodugly> ssh -T 127.0.0.1 ls --color=always test.sh | xd -c
[06:59:07] <goodugly> 0: 74 65 73 74 2E 73 68 0A                          | test.sh.
[06:59:21] <goodugly> oh
[06:59:21] *** Joins: jos2 (~jos3@dyndsl-091-096-036-140.ewe-ip-backbone.de)
[06:59:23] <goodugly> -t
[07:00:40] <goodugly> Ok, so I want to understand when I force it to NOT use a pseudo-terminal (with -T), why doesn't ls output colors then?
[07:01:03] <goodugly> ssh 127.0.0.1 -T "echo -e '"'I \033[0;31mlove\033[0m my mom'"'" 
[07:01:10] <goodugly> this does output colors
[07:01:55] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[07:01:57] <ormaaj> I've never had a problem. --color=always does what it says.
[07:02:54] *** Joins: zebrag (~chris@user/zebrag)
[07:03:16] <goodugly> If I do this: ssh -T 127.0.0.1 sleep 100     and look at FDs of "sleep 100" they're set to pipes to its parent sshd
[07:03:21] <ormaaj> you might also need LS_COLORS
[07:03:24] *** Quits: jos1 (~jos3@dyndsl-091-096-040-198.ewe-ip-backbone.de) (Ping timeout: 268 seconds)
[07:03:28] <goodugly> I assume it would be the same for ls
[07:04:21] <ormaaj> if that's not on the remote host then you'd want that in your sendenv, but it should really be configured on the remote side. (I'm assuming GNU coreutils of course)
[07:05:58] <goodugly> LS_COLORS isn't set on any of my systems and ls always works with color
[07:06:44] <goodugly> I'm also trying on my 127.0.0.1
[07:07:30] <ormaaj> normally the color stuff needs to be configured and it's generally done in the interactive shell startup scripts.
[07:07:49] *** Parts: nova (novasenco@user/nova) (‚ô•‚ò∫)
[07:08:52] <goodugly> what exactly needs to be configured? I don't have any color* env at all or any alias for ls, it still works, i can even force it with --color=always through a stdout that is a pipe
[07:09:23] <goodugly> except for this case in which it doesn't want to output colors at all
[07:10:40] <ormaaj> I get no colors from `env -i ls --color=always -alh /`
[07:11:14] <ormaaj> so you're using a different ls or something
[07:11:45] <goodugly> no you're right
[07:11:55] <goodugly> i tried it and didn't give me colors either
[07:12:18] <ormaaj> man dircolors
[07:12:18] *** Joins: aead (~aead@user/aead)
[07:13:49] <goodugly> ormaaj: but if I try to do echo $LS_COLORS in my own color-working term it outputs nothing
[07:14:08] <goodugly> maybe some other env?
[07:14:38] <kurahaupo> Perhaps TRUECOLOR
[07:14:50] <goodugly> nope
[07:15:01] <goodugly> i should list all envs
[07:15:40] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 240 seconds)
[07:15:45] <kurahaupo> Do a bisection search on your envvars to see which ones break colouring
[07:16:21] <kurahaupo> s/ones/ones' absences/
[07:17:17] <goodugly> kurahaupo: unless you already do, I think writing such a bisection searching mechanism for them would take more time than trying them 1 by 1
[07:17:20] *** Joins: kill (~killown@user/killown)
[07:18:11] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[07:18:24] <llua> typeset -p COLORTERM
[07:19:24] <llua> https://github.com/coreutils/coreutils/blob/00ea4bacf6063ccc125209d5186f8f2382c6f0d4/src/ls.c#L2701-L2704
[07:19:50] <goodugly> I can't find what '-p' means in this command
[07:20:20] <goodugly> I tried `help typeset`
[07:21:04] <emanuele6> # help typeset | tail -1 # goodugly 
[07:21:07] <shbot> emanuele6:     A synonym for `declare'.  See `help declare'.
[07:21:38] <emanuele6> # help declare | grep -- -p
[07:21:39] <shbot> emanuele6: declare: declare [-aAfFgiIlnrtux] [-p] [name[=value] ...]
[07:21:39] <shbot> emanuele6:       -p        display the attributes and value of each NAME
[07:22:02] *** Joins: thebombzen (~thebombze@64-233-244-163.static.clv.wideopenwest.com)
[07:22:14] <goodugly> it was TERM
[07:22:18] <emanuele6> # a=hi; declare -p a PWD BASH_VERSINFO
[07:22:20] <shbot> emanuele6: declare -- a="hi"
[07:22:20] <shbot> emanuele6: declare -x PWD="/root"
[07:22:20] <shbot> emanuele6: declare -ar BASH_VERSINFO=([0]="5" [1]="1" [2]="8" [3]="1" [4]="release" [5]="x86_64-pc-linux-gnu")
[07:22:54] <thebombzen> Is there ever a scenario in which ${1+x} needs to be quoted?
[07:23:16] <izabera> yes
[07:23:22] <thebombzen> for example, in something like: if [ -n "${1+x}" ] ; then..... it occurred to me that you might be able to drop the quotes
[07:23:28] <ormaaj> yes. x will be fieldsplit + globbed if unquoted
[07:23:38] <thebombzen> no, like the actual letter "x"
[07:23:43] <thebombzen> I don't mean a variable, I mean, the literal x
[07:23:51] <izabera> thebombzen: it will be field split
[07:24:11] <thebombzen> what will be fieldsplit
[07:24:11] <izabera> # IFS=x; echo ${mooo-helloxworld}
[07:24:13] <shbot> izabera: hello world
[07:24:27] <ormaaj> # IFS=x echo izabera faster
[07:24:28] <shbot> ormaaj: izabera faster
[07:24:37] <thebombzen> well, lemme rephrase, assuming I don't do something dumb like set IFS to 'x'
[07:24:51] <llua> assumptions are how vuln are created
[07:24:58] <izabera> > thebombzen | Is there ever a scenario in which...
[07:25:08] <kurahaupo> emanuele6: the format for EPOCHREALTIME is simply %.6f which is locale-sensitive as described in man 3 printf
[07:25:08] <thebombzen> and that's why I said "lemme rephrase"
[07:25:19] <ormaaj> yeah that was totally not your question
[07:25:21] <izabera> that is the only scenario
[07:25:26] <emanuele6> kurahaupo: what are you talking about...
[07:25:27] <thebombzen> it wasn't, but I decided to rephrase my question
[07:25:30] *** Quits: earendel (uid498179@user/earendel) (Quit: Connection closed for inactivity)
[07:25:56] <emanuele6> what does printf have to do with it?
[07:26:02] <emanuele6> and did you read the source code?
[07:26:40] <thebombzen> izabera: can the fieldsplitting interfere with the test command, even if I have IFS set to the default?
[07:27:05] <emanuele6> kurahaupo: https://git.savannah.gnu.org/cgit/bash.git/tree/variables.c#n1497
[07:27:06] <izabera> why don't you just quote things instead if you're not sure
[07:27:14] <llua> if you just quote it, you don't have to worry about stuff you don't understand
[07:27:24] <emanuele6> kurahaupo: snprintf (buf, sizeof (buf), "%u%c%06u", (unsigned)tv.tv_sec, locale_decpoint (), (unsigned)tv.tv_usec);
[07:27:26] <izabera> do you get paid proportional to 1/bytecount
[07:27:27] <thebombzen> cause I'm curious about the langauge and I'm wondering how it works?
[07:27:51] <thebombzen> what's with the hostility?
[07:28:26] <izabera> the only thing that will make ${1+x} expand to nothing is if IFS contains x
[07:29:00] <thebombzen> ... really?
[07:29:09] <izabera> yes
[07:29:11] <izabera> !next
[07:29:11] <greybot> Another satisfied customer! Next please!
[07:29:29] <thebombzen> the spec says "$1" is unset it'll expand to null
[07:30:03] <izabera> dude
[07:30:04] <thebombzen> I was wondering how that interacted with quoting and fieldsplitting and the like
[07:30:40] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:30:47] <izabera> if $1 is set, the only thing that will make ${1+x} expand to nothing is if IFS contains x
[07:30:57] <izabera> this is so tiring
[07:31:09] *** Joins: sudomann (~sudomann@c-73-133-131-19.hsd1.md.comcast.net)
[07:31:21] <thebombzen> uh
[07:31:34] <thebombzen> I just got exactly the same treatment
[07:31:56] <izabera> yes i know 
[07:32:29] <thebombzen> I'm trying to get into the nitty gritty details of the language and so I ask and get treated like I'm a nussaince? 
[07:32:52] <izabera> !guide > thebombzen 
[07:32:52] <greybot> thebombzen: http://mywiki.wooledge.org/BashGuide or in PDF: http://s.ntnu.no/bashguide.pdf
[07:33:00] <izabera> should have done that from the start
[07:33:09] <thebombzen> .......
[07:33:10] <izabera> my fault clearly
[07:33:16] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Ping timeout: 252 seconds)
[07:33:19] <izabera> please rtfm thanks
[07:33:22] *** Quits: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net) (Quit: Leaving)
[07:33:34] <thebombzen> ......
[07:33:36] *** Joins: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net)
[07:33:40] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 240 seconds)
[07:34:13] <thebombzen> this is so obnoxious
[07:34:40] *** Quits: sudomannn (~sudomann@86.106.143.76) (Ping timeout: 240 seconds)
[07:34:46] <emanuele6> !vuln
[07:34:46] <greybot> Yes, we know. Read the topic.
[07:34:53] <emanuele6> i don't understand this factoid
[07:35:02] <thebombzen> hm?
[07:35:04] <emanuele6> !meta vuln
[07:35:04] <greybot> [arx] 1411586776(2014-09-24) learn Yes, we know. Read the topic.
[07:35:06] <llua> from when shellshock was a thing
[07:35:07] <kurahaupo> emanuele6: strace -f -e fork,execve would be tidier than |& grep
[07:35:09] <emanuele6> ah
[07:35:31] <llua> 7 years ago, meh...
[07:35:40] <emanuele6> kurahaupo: ^exec does not just match execve...
[07:36:14] <thebombzen> kurahaupo: what does "strace -f -e fork,execve" do
[07:36:22] <izabera> execve is the only syscall in linux that matches ^exec
[07:36:26] <llua> !forget vuln
[07:36:26] <greybot> OK, llua
[07:36:37] <ormaaj> People that are determined to write fragile code and looking for excuses to do so vastly outnumber people that are "just wondering about the language for lulz".
[07:36:56] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[07:37:03] <thebombzen> ormaaj: yea that's completely understandable, but in this case I'm just curious about the language
[07:37:13] <thebombzen> and what it can do wrong
[07:37:22] <ormaaj> good!
[07:37:36] <thebombzen> like, yes I'm aware that if I'm not sure I can quote, but if I see someone else with something like
[07:37:38] <kurahaupo> emanuele6: sure, but execve isthe syscall underlying all the exec* library functions
[07:37:44] <thebombzen> input_file=$1 # unquoted
[07:37:54] <thebombzen> this is actually okay but I didn't know why until I asked here
[07:37:57] <greycat> !pitfalls > thebombzen 
[07:37:57] <greybot> thebombzen: http://mywiki.wooledge.org/BashPitfalls
[07:38:03] <izabera> not curious enough to rtfm eh?
[07:38:06] <greycat> Read that entire fucking page.  Then read CodeInjection.
[07:38:29] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[07:38:33] <thebombzen> I'm aware of most of the pitfalls. my goal here is not to write functioning code (if it was I can just quote) but rather to identify how code might break
[07:38:37] <thebombzen> which is why I asked the question the way I did
[07:39:04] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[07:39:22] *** Quits: rcernin_ (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 250 seconds)
[07:39:47] <goodugly> thebombzen: just read it, might answer your questions
[07:40:01] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.2)
[07:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:40:24] <emanuele6> you don't have to set IFS=x yourself, IFS could be set in the environment
[07:40:48] <izabera> (in sh not bash)
[07:40:59] <ormaaj> field splitting has some dark corners. search the bug-bash list if that's what you want.
[07:41:01] <emanuele6> he's using [, i assume bash
[07:41:06] <izabera> what
[07:41:07] <emanuele6> sh*
[07:41:26] <emanuele6> i meant sh
[07:41:51] <thebombzen> in this case it was shell command language, although I prefer [ even if I'm writing BASH because it makes it easier to port it to SH if it turns out I don't actually need any bash features
[07:42:08] <kurahaupo> emanuele6: Ok, point taken about the internal guts of Bash. However I would argue that that's an implementation detail that most people don't need to know. Semantically they have a single fixed-point decimal number, with a decimal point character that depends on their locale, not two separate integers with a random character in between
[07:42:38] <thebombzen> emanuele6: good point, I didn't think of that
[07:43:25] <thebombzen> (w/r/t environment)
[07:44:40] <thebombzen> and, as far as I'm aware with regard to [ it's a shell builtin on BASH itself, so it shouldn't be less performant than [[
[07:45:06] <emanuele6> kurahaupo: what are you trying to say? the format of EPOCHREALTIME is not documented, you have to look at the source code 
[07:45:28] <kurahaupo> (Hi resolution time is a mess of competing standards; "typedef double time_t" is seductive but only good for microsecond resolution)
[07:45:34] *** Quits: goodugly (~test_user@gateway/tor-sasl/goodugly) (Ping timeout: 244 seconds)
[07:46:32] <kurahaupo> emanuele6: I'm saying, having looked at the source code, please interpret it for users, not source maintainers
[07:46:57] <izabera> i hate that LC_NUMERIC is totally fixed in time and completely obsolete in some cases, e.g. in italy it mandates , as a separator, but calculators have been around for many decades now and they've always used . so most people just know that as the separator
[07:48:44] <kurahaupo> People who use Bash aren't necessarily C programmers, and even if they are, they're probably not aware of the whole struct timeval / struct timespec mess. They think of EPOCHREALTIME as one99,99 fixed point number, not two.
[07:48:45] <ormaaj> so commas were common practice there but it died out?
[07:49:41] *** Parts: thurstylark (thurstylar@user/thurstylark) (WeeChat 3.2)
[07:49:42] <emanuele6> kurahaupo: there is printf in bash..
[07:49:52] <emanuele6> !EPOCHREALTIMEint
[07:49:52] <greybot> the format of EPOCHREALTIME is %u%c%06u where %c is the decimal delimiter of the current locale (".", ",", ...). It can be converted to an integer using: $(( 10#${EPOCHREALTIME//[![:digit:]]} ))
[07:50:39] <izabera> ormaaj: i mean kinda?  technically . is supposed to be the 1000s separator i think, but that too has kind of died out, and people would maybe write   1'234'567.89  now, but that too looks a bit unusual
[07:52:48] <izabera> i know some languages (like in india i believe?) put a separator every 10000, but for some reason printf only considers the decimal separator as the only important one
[07:54:45] <izabera> ah it looks like in india you do   12,34,56,789   https://www.npr.org/sections/krulwich/2010/10/19/130674804/counting-millionaire-india
[07:55:53] <kurahaupo> emanuele6: I suggest: EPOCHREALTIME is a decimal fraction where the decimal point is specified by the current locale (".", ",", ...). It can be converted to an integer for microseconds using: $(( 10#${EPOCHREALTIME//[![:digit:]]} ))
[07:55:54] <kurahaupo> However I would advise against this, because the number of digits after the decimal point may well change in a future version of Bash. Assuming exactly 6 would be a bad idea.
[07:56:22] <llua> feels like this has been talked about for like a week
[07:56:36] *** Quits: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697) (Ping timeout: 258 seconds)
[07:57:02] *** Joins: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697)
[07:57:04] <ormaaj> people that write %e/%g format with e+n and n != mod 3 cause me much frustration
[07:57:11] <emanuele6> kurahaupo: the granularity is documented
[07:57:51] <kurahaupo> Also if I want to run my script in 1969, that would strip the minus sign
[07:58:08] <emanuele6> kurahaupo: %u%c%06u
[07:58:13] <emanuele6> how?
[07:58:18] <ormaaj> "Ok so this is ten thousand point 43 trillionths of a second, so that means... uhm"
[07:59:39] <kurahaupo> Ok, I need to file a pull request to fix that bug (%u ‚Üí %d)
[08:01:11] <izabera> https://en.wikipedia.org/wiki/Decimal_separator#Examples_of_use  it's china apparently, my bad.  also croatia looks fun
[08:01:19] *** Quits: LiftLeft (~LiftLeft@172.83.47.105) (Ping timeout: 252 seconds)
[08:02:36] <ormaaj> is there a printf format to show thousands seps? (I don't remember it)
[08:02:36] <izabera> italy has 2 apparently, one for handwriting, i had no idea, what a good system
[08:03:08] <izabera> ah!  it works!
[08:03:26] <izabera> LANG=it_IT.utf8 printf %\'f\\n 1234567,89    -> 1.234.567,890000
[08:03:28] <kurahaupo> emanuele6: I guess part of the issue is that it's broken localisation: it uses a localised decimal point but not a localised thousands separator. At which point I'm wondering "why did Chet bother" 
[08:04:07] <ormaaj> 1.234.567,89 <- that's nasty
[08:04:29] <kurahaupo> ormaaj: that's standard across much of Europe
[08:05:49] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[08:06:36] <ormaaj> oh right single quote modifier
[08:06:55] <kurahaupo> As a native English speaker, I have never liked the comma as the thousands separator. It's too heavy & ugly, and conflicts with almost every programming language ever devised
[08:07:55] *** Quits: dsrt^ (~dsrt@209.65.131.194) (Ping timeout: 252 seconds)
[08:10:35] <thebombzen> the best part of locales is when they interfere with generating of GLSL shader code
[08:11:08] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[08:11:37] <emanuele6> kurahaupo: i guess that is a bug; i wrote that expansion based on %u%c%06u
[08:12:10] <izabera> %06u would be padded on the other side
[08:12:31] <ormaaj> # typeset -i x; printf -v x "%'i" 123456789; typeset -p x
[08:12:32] <shbot> ormaaj: declare -i x="123456789"
[08:13:04] <emanuele6> since it should be %d%c%06u, there is no reliable way to remove the decimal pointer without saving EPOCHREALTIME in a temporary variable or setting LC_NUMERIC=C 
[08:13:41] <emanuele6> s/pointer/point/
[08:14:00] <emanuele6> !forget EPOCHREALTIMEint
[08:14:01] <greybot> OK, emanuele6
[08:15:21] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[08:16:55] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[08:17:18] <ormaaj> ah it verks
[08:17:43] <ormaaj> # LC_NUMERIC=en_US.utf8; typeset -i x; printf -v x "%'i" 123456789; typeset -p x
[08:17:44] <shbot> ormaaj: declare -i x="789"
[08:19:19] <izabera> actually horrifying thank you
[08:20:19] *** Joins: vlm (~vlm@user/vlm)
[08:26:00] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[08:27:55] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[08:33:56] *** Quits: smlavine (~smlavine@sourcehut/user/smlavine) (Quit: zzz)
[08:34:27] *** Quits: venue (~venue@user/venue) (Quit: adios)
[08:34:54] *** Joins: aakashi2001 (~aakashi20@103.61.255.10)
[08:34:54] *** Quits: aakashi2001 (~aakashi20@103.61.255.10) (Changing host)
[08:34:54] *** Joins: aakashi2001 (~aakashi20@user/aakashi2001)
[08:36:03] <tp43_> what does 'set 2' do?
[08:36:17] *** Quits: shush (sid21719@2a03:5180:f::54d7) ()
[08:36:24] <emanuele6> tp43_: it resets the position arguments to just $1=2
[08:36:32] *** Joins: shush (sid21719@id-21719.tinside.irccloud.com)
[08:36:46] <tp43_> emanuele6, thx
[08:37:09] <emanuele6> s/position/&al/
[08:37:16] <emanuele6> you are welcome
[08:38:32] *** Quits: shush (sid21719@id-21719.tinside.irccloud.com) (Client Quit)
[08:38:42] *** Joins: shush (sid21719@id-21719.tinside.irccloud.com)
[08:39:51] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[08:46:17] *** Joins: aakashi2009 (~aakashi20@user/aakashi2001)
[08:48:04] *** Quits: aakashi2001 (~aakashi20@user/aakashi2001) (Ping timeout: 252 seconds)
[08:51:01] *** Quits: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net) (Remote host closed the connection)
[08:54:53] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[09:04:46] *** Joins: pystardust (~pystardus@223.226.119.16)
[09:05:16] *** Joins: rcernin_ (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[09:06:41] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[09:07:39] *** Joins: dre (~dre@2001:8003:c932:c301:ef2c:1b38:ddbc:e3bd)
[09:08:59] *** Joins: vishal (~vishal@fedora/vishal)
[09:11:14] *** Quits: rcernin_ (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 250 seconds)
[09:11:40] *** Quits: pystardust (~pystardus@223.226.119.16) (Ping timeout: 240 seconds)
[09:15:56] *** Quits: auri (~admin@fsf/member/auri) (Quit: auri)
[09:16:19] *** Joins: auri (~quassel@fsf/member/auri)
[09:16:19] *** Quits: auri (~quassel@fsf/member/auri) (Client Quit)
[09:16:45] *** Joins: auri (~quassel@fsf/member/auri)
[09:19:05] *** Joins: gnoo (~gnoo@user/gnoo)
[09:19:29] *** Joins: rcernin_ (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[09:25:55] *** Joins: karakedi (~eAC53C340@user/karakedi)
[09:28:52] *** Quits: zouhair (~zouhair@lnsm1-montreal02-142-118-47-137.internet.virginmobile.ca) (Quit: KVIrc 5.0.1 Aria http://www.kvirc.net/)
[09:32:15] *** Joins: zouhair (~zouhair@lnsm1-montreal02-142-118-47-137.internet.virginmobile.ca)
[09:35:05] *** Quits: rcernin_ (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 248 seconds)
[09:35:34] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[09:44:53] *** Joins: manin (~x@185.242.190.95)
[10:01:20] <emanuele6> i just reported on bug-bash@ that $EPOCHREALTIME does not work correctly before 1970 while $EPOCHSECONDS does
[10:02:12] <emanuele6> i also noticed that gettimeofday(), the function that get_epochrealtime() uses, is deprecated by POSIX.
[10:02:14] <emanuele6> https://pubs.opengroup.org/onlinepubs/9699919799/functions/gettimeofday.html
[10:02:29] *** Joins: aakashi2021 (~aakashi20@103.215.99.8)
[10:02:29] *** Quits: aakashi2021 (~aakashi20@103.215.99.8) (Changing host)
[10:02:29] *** Joins: aakashi2021 (~aakashi20@user/aakashi2001)
[10:02:46] *** Quits: manin (~x@185.242.190.95) (Quit: Leaving)
[10:02:58] <emanuele6> so it is kind of silly to use unless the target system does not have clock_gettime()
[10:03:23] *** Joins: manin (~x@185.242.190.95)
[10:03:31] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[10:04:41] <emanuele6> s/use/& it/
[10:05:04] *** Quits: aakashi2009 (~aakashi20@user/aakashi2001) (Ping timeout: 252 seconds)
[10:05:08] *** Joins: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd)
[10:11:28] *** Quits: jevalideca (~jevalidec@172.83.47.99) (Ping timeout: 250 seconds)
[10:13:40] *** Quits: kurahaupo (~kurahaupo@pa49-195-177-144.pa.nsw.optusnet.com.au) (Ping timeout: 240 seconds)
[10:23:22] *** Quits: humky (~humky@user/humky) (Read error: Connection reset by peer)
[10:25:35] *** Joins: steam (~steam@user/steam)
[10:28:06] *** Quits: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[10:28:14] *** Joins: dsrt^ (~dsrt@209.65.131.194)
[10:28:45] *** Joins: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd)
[10:29:02] *** Quits: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd) (Remote host closed the connection)
[10:29:15] *** Quits: zouhair (~zouhair@lnsm1-montreal02-142-118-47-137.internet.virginmobile.ca) (Quit: KVIrc 5.0.1 Aria http://www.kvirc.net/)
[10:30:36] *** Joins: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd)
[10:32:12] *** Quits: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd) (Client Quit)
[10:32:46] *** Joins: palimaar (~oasd@kd113148020047.ppp-bb.dion.ne.jp)
[10:32:50] *** Joins: rendar (~rendar@user/rendar)
[10:33:17] *** Joins: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd)
[10:34:09] *** Joins: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com)
[10:39:43] *** Quits: austin987 (~null@100.42.98.196) (Ping timeout: 252 seconds)
[10:40:16] *** Quits: Atque (~Atque@user/atque) (Ping timeout: 252 seconds)
[10:43:26] *** Joins: furrymcgee (~devuan@31.179.186.66)
[10:50:50] *** Joins: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net)
[10:51:07] *** Joins: aaro (~aaro@user/aaro)
[10:52:45] *** Joins: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com)
[10:53:15] *** Quits: aaro (~aaro@user/aaro) (Client Quit)
[10:56:00] *** Joins: aaro (~aaro@user/aaro)
[10:58:44] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[10:58:50] *** Quits: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net) (Remote host closed the connection)
[10:58:56] *** Quits: aakashi2021 (~aakashi20@user/aakashi2001) (Remote host closed the connection)
[10:59:57] *** Joins: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net)
[11:04:18] *** Quits: jp11 (~jp@87-198-216-242.ptr.magnet.ie) (Ping timeout: 276 seconds)
[11:07:05] <dermoth> @emanuele6, why should $EPOCHREALTIME even work before 1970?
[11:08:27] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.2)
[11:10:15] *** Joins: aakashi2001 (~aakashi20@103.215.99.8)
[11:10:15] *** Quits: aakashi2001 (~aakashi20@103.215.99.8) (Changing host)
[11:10:15] *** Joins: aakashi2001 (~aakashi20@user/aakashi2001)
[11:10:34] *** Joins: pystardust (~pystardus@223.226.119.16)
[11:18:09] *** Joins: vysn (~vysn@user/vysn)
[11:22:10] <emanuele6> dermoth: because gettimeofday() supports it; and because $EPOCHSECONDS works correctly
[11:22:51] <emanuele6> dermoth: it should at least not lie about what date is it.
[11:22:58] <emanuele6> $ faketime '1969-12-31' bash -c 'date -d"@${EPOCHREALTIME%.*}"'
[11:23:02] <emanuele6> Sat  6 Feb 06:28:16 CET 2106
[11:23:10] *** Quits: aakashi2001 (~aakashi20@user/aakashi2001) (Ping timeout: 252 seconds)
[11:23:29] <emanuele6> s/is it/it is/
[11:24:00] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:7075:a6e1:dbff:2d89)
[11:25:28] <emanuele6> $ faketime '1969-12-31' bash -c 'date -d"@$EPOCHSECONDS"'
[11:25:30] <emanuele6> Wed 31 Dec 00:00:00 CET 1969
[11:25:31] *** Joins: fourHZ (~fourHZ@92-52-40-121.dynamic.orange.sk)
[11:28:46] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[11:31:38] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 250 seconds)
[11:33:11] *** Joins: Yssk (~Yssk@85.255.237.6)
[11:34:10] *** Quits: przemoc (~przemoc@user/przemoc) (Ping timeout: 252 seconds)
[11:34:43] *** Quits: manin (~x@185.242.190.95) (Ping timeout: 268 seconds)
[11:34:56] <pj> at a guess it has to do with precision.  EPOCHREALTIME is a float so it doesn't have as high precision on the int side.
[11:35:28] <emanuele6> pj: EPOCHREALTIME is not a float
[11:36:44] <emanuele6> it's a struct timeval { time_t tv_sec; suseconds_t tv_usec; } 
[11:37:27] <emanuele6> where time_t is int and suseconds_t is int (bound between -1 and 1000000)
[11:38:32] <emanuele6> bash is generating EPOCHREALTIME with %u%c%06u where the first %u is (unsigned)tv.tv_sec and %06u is (unsigned)tv_usec
[11:39:43] <emanuele6> it's a signed -> unsigned cast
[11:45:43] *** Quits: darkbit (~db@152.32.99.67) (Ping timeout: 252 seconds)
[11:49:34] *** Quits: palimaar (~oasd@kd113148020047.ppp-bb.dion.ne.jp) (Ping timeout: 252 seconds)
[11:50:40] <pj> ahhh, yep, and unsigned can't go less than 1970
[11:50:56] <pj> so it wraps
[11:51:33] <emanuele6> but tv_sec is signed, it should not be cast to (unsigned)
[11:51:41] <emanuele6> and that is the issue
[11:51:47] <pj> right, it should use %d instead of %u
[11:52:35] <emanuele6> also tv.tv_sec should be 999999 - tv.tv_usec if it is negative
[11:52:50] <pj> ...but the issue is that if tv_sec is negative than it ... I was about to say something like that
[11:53:40] <emanuele6> correction: also tv.tv_usec should be 999999 - tv.tv_usec if tv.tv_sec is negative
[11:54:31] <pj> tv_usec is unsigned and so always positive, but when combined as a decimal with a negative tv_sec part then it needs to be subtracted from 1.
[11:55:08] <emanuele6> tv_usec is not unsigned, it's a int, but is guaranteed to be bound between [-1,1000000]
[11:55:24] <pj> how can it be -1?
[11:55:48] <emanuele6> i'm not sure, but i think hardware errors and such
[11:55:49] <pj> I can see it being between 0 and 999999
[11:55:59] <pj> hrmmmm
[11:56:26] <emanuele6> this gettimeofday() is deprecated anyway
[11:57:11] <emanuele6> clock_gettime() is the function that should be used (it is a bit different though: it has nanosecond precision instead of microsecond precision)
[11:57:18] <pj> anyways, I think you would have to have some logic like: if tv_sec < 0 then tv_usec = 1000000 - tv_usec, but also you would have to add 1 back to tv_sec if tv_usec is > 0
[11:57:38] <pj> yeah, that's a good point
[11:57:38] <emanuele6> pj: POSIX probably defines the correct way to handle it
[11:57:41] <emanuele6> if you search
[11:58:31] <emanuele6> i have not looked that much into it
[11:58:36] * pj nods
[11:58:52] <pj> it likely doesn't matter much what I think anyways, I'm not making the change to bash.
[12:01:10] <pj> and, tbh, I can't see myself using EPOCHREALTIME anyways, and if I do it won't be for a few years at least.
[12:03:36] *** Joins: nobody_ (~nobody@host-79-50-185-199.retail.telecomitalia.it)
[12:04:45] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[12:06:37] *** Quits: Lunatrius (~Lunatrius@77.38.22.128) (Ping timeout: 252 seconds)
[12:06:52] <emanuele6> pj: i use it to show how much time the last command took to run in my prompt
[12:06:54] <emanuele6> http://paste.wooledge.org/8947
[12:08:10] *** Quits: robobo (~robobo@c-e52c524e.015-74-6762675.bbcust.telenor.se) (Quit: The Lounge - https://thelounge.chat)
[12:09:05] *** Joins: Lunatrius (~Lunatrius@77.38.22.128)
[12:09:13] *** Quits: af (~af@awalgarg.me) (Ping timeout: 248 seconds)
[12:12:20] *** Joins: Yssk_ (~Yssk@85.255.237.6)
[12:14:19] *** Quits: Yssk (~Yssk@85.255.237.6) (Ping timeout: 252 seconds)
[12:14:34] <pj> emanuele6: sure, but in my case I don't have a new enough bash to even have those on the systems I use.
[12:14:52] *** Quits: Yssk_ (~Yssk@85.255.237.6) (Client Quit)
[12:15:21] <pj> and ... in order for this bug to show up someone would have to explicitly set their system date to one older than 1970, which is not likely to happen.
[12:16:25] <emanuele6> my prompt will will work in past without problems since it's just computing the difference between two timestamps
[12:16:58] <pj> right
[12:16:59] <emanuele6> expect if you run a command between before 1970 and 1970
[12:18:26] *** Quits: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697) (Ping timeout: 250 seconds)
[12:20:27] *** Joins: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697)
[12:21:06] *** Quits: reset (~reset@user/reset) (Quit: reset)
[12:21:31] *** Joins: darkbit (~db@152.32.99.67)
[12:25:53] *** Joins: Adoi (~Adoi@user/adoi)
[12:26:00] *** Joins: sublim20 (~sublim20@user/sublim20)
[12:27:20] *** Joins: frostwork (~frostwork@user/frostwork)
[12:28:39] *** Joins: Yssk (~Yssk@85.255.237.6)
[12:35:51] *** Quits: nobody_ (~nobody@host-79-50-185-199.retail.telecomitalia.it) (Remote host closed the connection)
[12:36:32] *** Quits: Yssk (~Yssk@85.255.237.6) (Quit: Yssk)
[12:36:34] *** Joins: nobody_ (~nobody@host-79-50-185-199.retail.telecomitalia.it)
[12:38:06] *** Joins: lavaball (felix@31.204.155.215)
[12:50:24] *** Joins: earnestly (~earnest@user/earnestly)
[12:52:01] *** Joins: af (~af@awalgarg.me)
[12:54:43] *** Quits: nobody_ (~nobody@host-79-50-185-199.retail.telecomitalia.it) (Remote host closed the connection)
[12:55:32] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[12:55:51] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[12:57:19] *** Joins: nobody_ (~nobody@host-79-50-185-199.retail.telecomitalia.it)
[12:57:52] *** Joins: Lutin (~Lutin@user/lutin)
[13:01:36] *** Quits: Drek45 (~jrept371@c-67-187-120-30.hsd1.tn.comcast.net) (Quit: Leaving)
[13:02:19] *** Joins: xx (~xx@user/xx)
[13:03:31] <earnestly> emg: It would be nice to see more section 7 manuals that cover concepts, workflows, etc.  Perhaps when presented with an array of disconnected tooling documentation it leads people to bodge the gaps
[13:04:13] <earnestly> Especially considering the context of even using docker is convenience/speed
[13:05:21] *** Joins: palimaar (~oasd@KD113148020047.ppp-bb.dion.ne.jp)
[13:05:29] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.2)
[13:06:40] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:eb83:919c:c248:eabe)
[13:07:41] <pj> emanuele6: yeah, well since my time machine has been on the fritz since 1969 I don't think that will be an issue for me.
[13:09:34] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 250 seconds)
[13:13:35] *** Joins: rtjure (~rtjure@vlan-153-aitos-169.comnet.bg)
[13:19:29] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[13:20:40] *** Quits: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd) (Ping timeout: 240 seconds)
[13:21:42] *** Quits: dsrt^ (~dsrt@209.65.131.194) (Ping timeout: 250 seconds)
[13:22:32] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[13:25:04] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[13:25:36] *** Joins: sinaowolabi (~SinaOwola@160.152.162.145)
[13:28:33] *** Joins: dsrt^ (~dsrt@209.65.131.194)
[13:32:03] *** Quits: iomari891 (~iomari891@105.112.138.38) (Quit: WeeChat 3.0.1)
[13:37:10] <grondilu> how could I produce an associative array that reverses an array? That is, given x create y such that (( ${y[${x[i]}]} == i )) ?  Do I have to make a loop or is there an elegant way? 
[13:37:15] *** Joins: L3 (~L3@user/l3)
[13:38:20] <izabera> loops are elegant, pass it on
[13:42:03] *** Joins: absc (~absc@dynamic-adsl-94-34-168-146.clienti.tiscali.it)
[13:47:15] *** Joins: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd)
[13:48:08] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:eb83:919c:c248:eabe) (Ping timeout: 250 seconds)
[13:49:14] *** Joins: enoq (~enoq@194-208-178-35.lampert.tv)
[13:49:20] *** Quits: enoq (~enoq@194-208-178-35.lampert.tv) (Remote host closed the connection)
[13:49:53] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:eb83:919c:c248:eabe)
[13:51:08] *** Joins: humky (~humky@user/humky)
[13:51:13] *** Quits: humky (~humky@user/humky) (Remote host closed the connection)
[13:53:31] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:eb83:919c:c248:eabe) (Remote host closed the connection)
[13:55:04] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[13:56:04] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[14:01:11] <pj> grondilu: it would have to be a loop: for k in "${!ar[@]}"; do ar_r[${ar[$k]}]=$k; done
[14:02:07] <pj> do keep in mind that you will not get an exact reversal if there are multiple keys with the same value.
[14:03:21] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[14:04:21] *** Joins: lavaball (felix@31.204.155.215)
[14:04:23] *** Joins: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net)
[14:05:27] <grondilu> ok, loop it is
[14:06:18] <grondilu> unrelated : is there a difference between ${param^^} and ${param@U} ?
[14:07:06] <geirha> no
[14:07:22] <pj> ^^ works in older versions of bash?
[14:07:31] *** Quits: jsrnop1 (~mark@user/jsrnop) (Quit: Ping timeout (120 seconds))
[14:07:48] *** Joins: jsrnop1 (~mark@user/jsrnop)
[14:10:52] <earnestly> Although ^^ has different functionality when given arguments
[14:11:08] <earnestly> # foo=bar; echo "${foo^^a}"
[14:11:09] <shbot> earnestly: bAr
[14:11:45] <grondilu> oh I didn't know ^^ could take args
[14:12:41] <earnestly> So you can think of @U as expressing the intent to capitalise a string while ^^ is capitalising matching letters.  Functionally they do the same thing if you give ^^ nothing to capitalise
[14:13:03] <grondilu> gotcha
[14:14:38] <pj> and well, ^^ works back to 4.0 at least, and @U only works back to 5.0 (?), so if you want more portability across versions ^^ is better for that.
[14:15:24] <earnestly> I wonder why they added @U unless this notation is going to start seeing more features grow on it
[14:15:40] <earnestly> And @U was "might as well", as @'s toolkit grows
[14:16:36] <pj> earnestly: makes sense to me, but I
[14:16:51] <pj> ...but I'll just stick with ^^ for portability reasons.
[14:17:37] <pj> and at the moment the newest bash i code for is 4.4.19, so it doesn't have @U.
[14:18:02] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 250 seconds)
[14:23:23] *** Quits: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697) (Ping timeout: 258 seconds)
[14:25:50] *** Quits: rtjure (~rtjure@vlan-153-aitos-169.comnet.bg) (Ping timeout: 250 seconds)
[14:31:05] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[14:32:33] *** Joins: Yssk (~Yssk@85.255.237.6)
[14:33:24] *** Joins: codebam (~codebam@user/codebam)
[14:35:21] *** Quits: palimaar (~oasd@KD113148020047.ppp-bb.dion.ne.jp) (Ping timeout: 248 seconds)
[14:35:35] *** Quits: penthief (~penthief@user/penthief) (Quit: ZNC - https://znc.in)
[14:37:27] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[14:40:04] *** Quits: Yssk (~Yssk@85.255.237.6) (Quit: Yssk)
[14:40:32] *** Quits: fourHZ (~fourHZ@92-52-40-121.dynamic.orange.sk) (Quit: Connection closed)
[14:41:26] *** Quits: joo (~joo@fsf/member/joo--) (Ping timeout: 250 seconds)
[14:43:13] *** Quits: L3 (~L3@user/l3) (Quit: o/)
[14:45:01] *** Joins: goldfish (~goldfish@user/goldfish)
[14:45:34] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 252 seconds)
[14:46:12] <earnestly> pj: Maybe they'll add flags to convert strings to title case, snake case, etc. heh
[14:46:36] <earnestly> ${foo@T-} convert foo-bar to Foo Bar
[14:46:51] <pj> yeah, well that would be different, and I'd use it if (1) I need it, and (2) I'm working with a new enough bash at the time
[14:50:11] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:4839:83a7:6d4b:c236)
[14:50:11] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:4839:83a7:6d4b:c236) (Changing host)
[14:50:11] *** Joins: skapata (~Skapata@user/skapata)
[14:53:02] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[14:54:17] <earnestly> pj: What other things do you think @ could add which would be useful?
[14:54:22] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[14:54:31] *** Joins: joo (~joo@fsf/member/joo--)
[14:54:55] <pj> earnestly: honestly, I'm not sure.  I never really thought about it too much.
[14:54:56] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[14:55:15] <emanuele6> earnestly: i would like one that quotes strings such that they are not expanded in PS1
[14:55:39] <pj> wouldn't @Q accomplish that?
[14:55:42] <emanuele6> no
[14:55:48] <earnestly> pj: \h type things
[14:55:55] <emanuele6> that also quote *, ~, ?, etc.
[14:56:00] <emanuele6> that are not expanded
[14:56:05] <pj> oh
[14:56:10] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 250 seconds)
[14:56:15] <emanuele6> it should just quote '`' '$' and '\' i think
[14:56:34] <izabera> why were U and u needed?
[14:56:39] <izabera> @U and @u
[14:56:52] <earnestly> My working assumption is "for giggles"
[14:56:56] <izabera> # var=meow; echo ${var^^} ${var@U}
[14:56:57] <shbot> izabera: MEOW MEOW
[14:57:09] <emanuele6> izabera: Changelog says `Inspired by a discussion with Phil Smith <phil@philsmith.com> back in May, 2019'
[14:57:12] <izabera> it's not even saving a single byte
[14:57:38] <izabera> idk i don't get it, also the older method has more functionality
[14:57:39] <emanuele6> but i can't find any email from phil@philsmith.com in bug-bash@ and help-bash@
[14:57:56] <earnestly> Yeah I think U/u are essentially just there to "start" the collection of @ tools
[14:58:02] <izabera> # var=meow; echo ${var^^[mo]} ${var@U}
[14:58:03] <pj> maybe they met and discussed it over a beer.
[14:58:04] <shbot> izabera: MeOw MEOW
[14:58:05] <pj> heh
[14:58:14] <izabera> clearly the older one is better
[14:58:19] <earnestly> Yep
[14:58:32] <Lutin> any help on (jq) and looping over a docker network inspect to get all connected hostnames in a list ?
[14:58:41] <earnestly> # ps='\u@\h'; echo "${ps@E}"
[14:58:42] <shbot> earnestly: \u@\h
[14:58:48] <earnestly> # ps='\u@\n'; echo "${ps@E}"
[14:58:50] <shbot> earnestly: \u@
[14:58:54] <emanuele6> Lutin: you don't need jq, docker inspect has -f
[14:59:12] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 250 seconds)
[14:59:14] <Lutin> emanuele6 not to get a list, you need to loop
[14:59:14] <grondilu> how do I get the last positional parameter?  ${@[-1]} does not seem to work.
[14:59:29] <emanuele6> Lutin: i'm pretty sure -f supports loops, they are just go templates
[14:59:51] *** Joins: aakashi2001 (~aakashi20@103.215.99.8)
[14:59:51] *** Quits: aakashi2001 (~aakashi20@103.215.99.8) (Changing host)
[14:59:51] *** Joins: aakashi2001 (~aakashi20@user/aakashi2001)
[14:59:55] <pj> # set -- foo bar baz; echo "${-1}"
[14:59:57] <shbot> pj: bash: ${-1}: bad substitution
[15:00:00] <Lutin> emanuele6 any example? I'm trying to find any but I don't succeed
[15:00:01] <izabera> grondilu: ${@:$#}
[15:00:03] <earnestly> grondilu: "${@: -1}" or "${@:(-1)}"
[15:00:13] <pj> ahhhh, yep
[15:00:49] <grondilu> ok, thanks
[15:00:51] <izabera> by the way i totally thin that ${@[idx]} should work
[15:00:52] <emanuele6> Lutin: try #docker
[15:00:54] <izabera> think*
[15:01:02] <earnestly> All I have is shift
[15:01:17] <Lutin> emanuele6 I think I better try some go channel
[15:02:50] <emanuele6> it's also weird that there is ${var@U} (equiv ${var^^}), ${var@u} (equiv ${var^}), ${var@L} (equiv ${var,,}), but there is no ${var@l}
[15:03:09] <izabera> yes
[15:04:02] <osse> does @u do the pattern thing?
[15:04:12] <emanuele6> nope
[15:04:50] <izabera> reminds me of when the c++ standard added shared_ptr and unique_ptr, and make_shared but not make_unique
[15:04:52] <emanuele6> case 'u': ret = sh_modcase (s, 0, CASE_UPFIRST); break;
[15:05:15] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[15:05:28] *** Quits: lopid (~lopid@user/lopid) (Quit: WeeChat 3.2)
[15:05:47] <emanuele6> where 0 is NULL, it's the same that ${var,pat} calls, but with 0 instead of pat
[15:06:06] <emanuele6> s/r,p/r^p/
[15:06:41] <emanuele6> s/same/& function/
[15:06:44] <geirha> the pattern part of ^ and , is pretty useless anyway. I can't remember a single use case where it made sense
[15:06:54] *** Joins: gnoo (~gnoo@user/gnoo)
[15:06:56] <izabera> fair
[15:08:04] *** Quits: downunder (~downunder@110.151.122.76) (Quit: WeeChat 3.2)
[15:08:41] *** Joins: goodugly (~test_user@gateway/tor-sasl/goodugly)
[15:09:25] <osse> # str="it's good for making memes"; echo "${str^^[igdrfkinms]}"
[15:09:26] <shbot> osse: It'S GooD FoR MaKING MeMeS
[15:09:36] <izabera> that's not even the right format
[15:09:47] <osse> oh
[15:09:56] <osse> is it always every second letter?
[15:10:06] <izabera> i'm afraid so
[15:10:20] *** Joins: lopid (~lopid@user/lopid)
[15:10:58] <izabera> :\ it can't even match more than one character with extglobs
[15:11:01] <izabera> or i can't get it to work
[15:11:11] <emanuele6> no, it can't
[15:11:18] <izabera> # var=abcdef; echo ${var^^!(f|cd|b)}
[15:11:19] <shbot> izabera: AbCDEf
[15:11:21] <izabera> lame
[15:13:22] *** Joins: manin (~x@185.242.190.95)
[15:13:35] <izabera> # str="it's for making memes"; echo "${str^^[igdrfkims]}"  # osse 
[15:13:37] <shbot> izabera: It'S FoR MaKInG MeMeS
[15:13:52] <izabera> aw i screwed up
[15:13:58] <izabera> ignore me i'm dumb
[15:14:56] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.2)
[15:20:04] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[15:21:19] *** Quits: aakashi2001 (~aakashi20@user/aakashi2001) (Ping timeout: 252 seconds)
[15:22:02] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Remote host closed the connection)
[15:22:24] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[15:22:36] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 250 seconds)
[15:23:50] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[15:24:19] *** Joins: vysn (~vysn@user/vysn)
[15:26:16] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[15:30:05] <pystardust> # sed -E 's/(.)(.)/\u\1\2/g' <<< "memes are made like this" # the sed regex looks sexy
[15:30:07] <shbot> pystardust: MeMeS ArE MaDe lIkE ThIs
[15:32:42] *** Joins: kurahaupo (~kurahaupo@pa49-195-177-144.pa.nsw.optusnet.com.au)
[15:33:26] <osse> boobs
[15:34:03] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[15:35:37] *** Quits: nobody_ (~nobody@host-79-50-185-199.retail.telecomitalia.it) (Ping timeout: 252 seconds)
[15:37:33] *** Joins: n4dir (~user@i577BC94A.versanet.de)
[15:38:57] <lopid> wtf
[15:39:52] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[15:41:34] *** Joins: fedenix_ (~fedenix@gateway/tor-sasl/fedenix)
[15:41:40] *** Quits: codebam (~codebam@user/codebam) (Quit: WeeChat 3.2)
[15:42:21] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[15:43:27] *** Joins: codebam (~codebam@user/codebam)
[15:44:33] <pystardust> hehe
[15:50:33] *** Joins: seninha (~seninha@user/seninha)
[15:55:54] *** Joins: sublim20 (~sublim20@user/sublim20)
[16:02:02] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[16:05:19] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[16:07:26] <Soliton> sed 's/../\u&/g'
[16:09:11] *** Quits: eqw (~eqw@31.134.178.99) (Ping timeout: 258 seconds)
[16:09:18] *** Joins: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net)
[16:09:45] <osse> not as sexy
[16:09:46] *** Joins: eqw (~eqw@31.134.178.99)
[16:10:42] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 250 seconds)
[16:11:50] *** Quits: aaro (~aaro@user/aaro) (Quit: WeeChat 3.2)
[16:14:58] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[16:22:50] *** Quits: totenkoph (~scythe@user/totenkoph) (Quit: totenkoph)
[16:23:04] *** Quits: pystardust (~pystardus@223.226.119.16) (Quit: pystardust)
[16:23:16] *** Joins: totenkoph (~scythe@user/totenkoph)
[16:25:18] *** Joins: michigan (uid507982@id-507982.charlton.irccloud.com)
[16:33:39] *** Joins: aaro (~aaro@user/aaro)
[16:35:46] *** Joins: damidu (~damien@2a02:2788:834:209:7e10:c9ff:fe42:ff40)
[16:37:48] *** Quits: damidu (~damien@2a02:2788:834:209:7e10:c9ff:fe42:ff40) (Client Quit)
[16:38:14] <geirha> sed -E 's/(.)(.)/\u&/g'
[16:39:53] *** Joins: goodugly_ (~test_user@gateway/tor-sasl/goodugly)
[16:42:23] *** Quits: goodugly (~test_user@gateway/tor-sasl/goodugly) (Ping timeout: 244 seconds)
[16:43:29] *** Joins: palimaar (~oasd@KD113148020047.ppp-bb.dion.ne.jp)
[16:50:07] *** Joins: benjwadams (~benjwadam@107-136-8-58.lightspeed.hstntx.sbcglobal.net)
[16:51:07] *** Joins: benjwadams68 (~benjwadam@107-136-8-58.lightspeed.hstntx.sbcglobal.net)
[16:51:50] *** Joins: Nact (~l@2a02:a03f:c0b0:f600:3253:5994:1b4f:e854)
[16:52:44] *** Quits: codebam (~codebam@user/codebam) (Ping timeout: 250 seconds)
[16:53:28] *** Parts: jaggz (~jaggz@user/jaggz) (Leaving)
[16:54:25] *** Quits: benjwadams (~benjwadam@107-136-8-58.lightspeed.hstntx.sbcglobal.net) (Ping timeout: 246 seconds)
[17:01:15] *** Joins: julius_c (~julius_c@130.red-83-32-6.dynamicip.rima-tde.net)
[17:05:40] *** Joins: codebam (~codebam@user/codebam)
[17:06:47] *** Joins: besnn (~besnn@user/besnn)
[17:14:17] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[17:16:08] *** Quits: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd) (Ping timeout: 250 seconds)
[17:19:18] *** Quits: furrymcgee (~devuan@31.179.186.66) (Remote host closed the connection)
[17:19:27] *** Quits: fling (~fling@user/fling) (Ping timeout: 268 seconds)
[17:23:56] *** Quits: palimaar (~oasd@KD113148020047.ppp-bb.dion.ne.jp) (Ping timeout: 250 seconds)
[17:25:59] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[17:29:14] *** Joins: arinov (~arinov@178.240.152.159)
[17:29:20] *** Joins: ntwk (~ntwk@user/ntwk)
[17:29:22] *** Joins: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd)
[17:40:04] *** Quits: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[17:43:16] *** Joins: ferdna (~ferdna@user/ferdna)
[17:52:09] *** Quits: somlis (~somlis@user/somlis) (Remote host closed the connection)
[18:00:17] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[18:02:40] *** Quits: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd) (Ping timeout: 240 seconds)
[18:03:34] *** Quits: codebam (~codebam@user/codebam) (Ping timeout: 252 seconds)
[18:05:13] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 252 seconds)
[18:05:30] *** Joins: aakashi2001 (~aakashi20@103.215.99.8)
[18:05:30] *** Quits: aakashi2001 (~aakashi20@103.215.99.8) (Changing host)
[18:05:30] *** Joins: aakashi2001 (~aakashi20@user/aakashi2001)
[18:07:58] *** Quits: manin (~x@185.242.190.95) (Ping timeout: 252 seconds)
[18:08:30] *** Joins: kulernil (~kulernil@gateway/tor-sasl/kuler)
[18:09:32] *** Joins: codebam (~codebam@user/codebam)
[18:09:58] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[18:10:13] *** Quits: paulman (~kulernil@gateway/tor-sasl/kuler) (Ping timeout: 244 seconds)
[18:11:50] *** Joins: somlis (~somlis@user/somlis)
[18:12:55] *** Quits: arinov (~arinov@178.240.152.159) (Ping timeout: 252 seconds)
[18:12:57] *** Quits: mw_ (~mw@catv-86-101-13-145.catv.broadband.hu) (Ping timeout: 248 seconds)
[18:13:09] *** Joins: mw_ (~mw@catv-86-101-13-145.catv.broadband.hu)
[18:13:39] *** Joins: thiras (~thiras@user/thiras)
[18:14:15] *** Joins: zouhair (~zouhair@lnsm1-montreal02-142-118-47-137.internet.virginmobile.ca)
[18:15:34] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[18:22:51] *** Joins: jess (~jess@libera/staff/jess)
[18:25:28] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[18:29:00] *** Joins: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd)
[18:30:40] *** Quits: kulernil (~kulernil@gateway/tor-sasl/kuler) (Remote host closed the connection)
[18:31:09] *** Joins: kulernil (~kulernil@gateway/tor-sasl/kuler)
[18:32:12] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 245 seconds)
[18:36:27] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[18:37:07] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[18:37:14] *** Joins: lavaball (felix@31.204.155.215)
[18:37:53] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[18:39:25] *** Quits: benjwadams68 (~benjwadam@107-136-8-58.lightspeed.hstntx.sbcglobal.net) (Ping timeout: 246 seconds)
[18:40:41] *** Quits: codebam (~codebam@user/codebam) (Ping timeout: 248 seconds)
[18:40:58] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Ping timeout: 252 seconds)
[18:42:43] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[18:46:50] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[18:47:11] *** Joins: gnoo (~gnoo@user/gnoo)
[18:47:37] *** Quits: Kvothe (~weechat@user/elodin) (Ping timeout: 248 seconds)
[18:48:16] *** Joins: keypusher (keypusher@user/keypusher)
[18:49:41] *** Quits: keypusher (keypusher@user/keypusher) (Remote host closed the connection)
[18:52:36] *** Joins: unixman_home_ (~unixman2@216.137.241.98)
[18:52:46] *** Quits: unixman_home (~unixman2@216.137.241.98) (Remote host closed the connection)
[18:52:49] *** Joins: keypusher (keypusher@user/keypusher)
[18:56:42] *** Quits: StathisA (~StathisA@80.107.84.195) (Ping timeout: 258 seconds)
[19:01:27] *** Joins: Kvothe (~weechat@user/elodin)
[19:01:53] *** Joins: StathisA (~StathisA@ppp-94-64-72-58.home.otenet.gr)
[19:02:01] *** Quits: aakashi2001 (~aakashi20@user/aakashi2001) (Ping timeout: 248 seconds)
[19:02:07] *** Joins: iomari891 (~iomari891@105.112.138.38)
[19:04:43] *** Joins: ccl (ccl@shell.xshellz.com)
[19:06:01] *** Quits: n4dir (~user@i577BC94A.versanet.de) (Remote host closed the connection)
[19:06:54] *** Joins: ChmEarl (~chmearl@user/chmearl)
[19:15:18] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[19:16:10] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 250 seconds)
[19:18:06] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[19:18:48] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[19:19:42] *** Quits: ntwk (~ntwk@user/ntwk) (Quit: ntwk)
[19:20:46] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Quit: Laa shay'a waqi'un moutlaq bale kouloun moumkine)
[19:21:40] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[19:22:28] *** Joins: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479)
[19:23:34] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[19:23:58] *** Quits: roadie (~user@2a02:8108:ec0:1427:3441:690b:b52f:33cd) (Ping timeout: 250 seconds)
[19:34:08] *** Parts: cronolio (~alex@user/cronolio) ()
[19:38:55] *** Quits: Administratorte (~sq@tempest.math.colostate.edu) (Quit: WeeChat 3.1)
[19:39:37] *** Joins: kZel (~kZel@90.199.64.48)
[19:40:28] <earnestly> This would make my spongebob.awk a lot simpler but not portable
[19:40:37] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[19:40:49] *** Joins: dolor_avis (~dolor_avi@user-5-173-0-42.play-internet.pl)
[19:43:16] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Quit: WeeChat 3.2)
[19:44:46] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[19:45:23] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[19:51:29] *** Joins: fedenix__ (~fedenix@gateway/tor-sasl/fedenix)
[19:51:53] *** Joins: masoudd (~masoudd@user/masoudd)
[19:52:15] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[19:53:12] *** Quits: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479) (Remote host closed the connection)
[19:53:43] *** Joins: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479)
[19:55:14] *** Joins: lavaball (~Melissa@31.204.155.215)
[19:57:10] *** Quits: masoudd (~masoudd@user/masoudd) (Read error: Connection reset by peer)
[19:58:51] *** Joins: Cleverness (~clevernes@pool-108-54-152-186.nycmny.fios.verizon.net)
[20:00:10] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 252 seconds)
[20:01:13] *** Joins: alzgh (~alzgh@user/alzgh)
[20:02:48] <alzgh> hello, I'm having trouble to clearly differentiatet between [, and [[ conditionals. In this example `if [ ! -x "$APT_KEY" ]; then`, what would be the difference if we used `[[` ? If there is a better way to explain it, really appreciate it. Thanks.
[20:04:42] *** Joins: Ylli[m] (~yllimatri@2001:470:69fc:105::dea8)
[20:05:36] *** Joins: aakashi2001 (~aakashi20@103.61.255.56)
[20:05:36] *** Quits: aakashi2001 (~aakashi20@103.61.255.56) (Changing host)
[20:05:36] *** Joins: aakashi2001 (~aakashi20@user/aakashi2001)
[20:06:01] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 248 seconds)
[20:07:44] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 250 seconds)
[20:08:30] *** Quits: fedenix_ (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[20:08:45] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[20:09:33] <llua> there would be no difference
[20:09:44] <llua> outside of using [[
[20:10:16] *** Quits: aakashi2001 (~aakashi20@user/aakashi2001) (Client Quit)
[20:11:25] <alzgh> I see sometimes [ and [[ used in combination with && omitting the if then.
[20:11:31] <alzgh> Is there any difference between them?
[20:12:20] <llua> there are differences between [ and [[, in bash you usually never need the former tho.
[20:12:39] <llua> !crap keep in mind though, 
[20:12:45] <llua> !crap
[20:12:45] <greybot> The overwhelming majority of bash scripts, code, tutorials, and guides on the Internet are crap. Sturgeon was an optimist.
[20:13:28] <alzgh> I was looking at this update script of Google Chrome
[20:13:55] <alzgh> I'm happy with [[ at the moment and not quite sure between the difference of [ and [[
[20:14:11] *** Quits: dolor_avis (~dolor_avi@user-5-173-0-42.play-internet.pl) (Quit: dolor_avis)
[20:14:16] <alzgh> everytime I see [ I feel unsure and don't know quite how to deal with ti
[20:15:06] *** Joins: dolor_avis (~dolor_avi@user-5-173-0-42.play-internet.pl)
[20:18:19] *** Quits: besnn (~besnn@user/besnn) (Ping timeout: 252 seconds)
[20:20:41] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[20:21:20] <gnoo> alzgh: [ is the same as test. see `man test` for what it is. [[ is similar but is built-in to bash. 
[20:22:01] <alzgh> I looked at test but it was too much for me at the moment as the differences seem subtle.
[20:22:36] <alzgh> I was hoping to get a rule of thumb kind of thing for the moment until I have a little more experience to get things properly gnoo 
[20:22:38] <alzgh> :)
[20:23:22] <llua> if it is a bash script, use [[
[20:23:32] <alzgh> it's bash
[20:23:40] <gnoo> if you want to make your script posix compatible, like if it can be used with other shells like dash and such, use [ or test
[20:24:01] <gnoo> if you know it is bash and will only be bash then [[ is okay
[20:24:08] <alzgh> O, I see why Google Chrome had [ in their update script
[20:24:23] <alzgh> thanks
[20:27:40] *** Quits: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net) (Ping timeout: 252 seconds)
[20:28:21] *** Joins: cronolio (~alex@user/cronolio)
[20:30:17] *** Quits: kZel (~kZel@90.199.64.48) ()
[20:31:10] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[20:32:43] *** Quits: smlavine (~smlavine@sourcehut/user/smlavine) (Quit: nyaa~)
[20:35:46] *** Joins: fortuno51 (~fortuno51@78.10.204.254)
[20:36:28] *** Quits: Cleverness (~clevernes@pool-108-54-152-186.nycmny.fios.verizon.net) (Quit: Leaving)
[20:39:52] *** Joins: plitter (~plitter@78.31.86.243)
[20:39:52] *** Quits: plitter (~plitter@78.31.86.243) (Changing host)
[20:39:52] *** Joins: plitter (~plitter@user/plitter)
[20:42:12] <lockywolf> Is there something like "zip" two bash arrays?
[20:42:49] <lockywolf> zip (a b c) (1 2 3) => (a 1 b 2 c 3)
[20:43:42] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 250 seconds)
[20:44:37] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[20:44:52] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[20:45:44] *** Joins: Crescendo (~Crescendo@user/crescendo)
[20:48:52] *** Joins: tedwing (~anon@lfbn-idf3-1-1409-99.w109-221.abo.wanadoo.fr)
[20:49:24] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[20:50:46] <llua> no
[20:50:50] *** Quits: Nact (~l@2a02:a03f:c0b0:f600:3253:5994:1b4f:e854) (Quit: Konversation terminated!)
[20:51:22] *** Joins: speckz (~speckz@2600:1700:ce0:bf00:d925:c30a:b85b:b3ae)
[20:51:26] *** Quits: thebombzen (~thebombze@64-233-244-163.static.clv.wideopenwest.com) (Quit: attack.c:4: main: Assertion `I_can_beat_that_monster' failed. Aborted (core dumped))
[20:51:32] *** Joins: motherr (~motherr@user/motherr)
[20:54:40] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[20:55:09] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[20:55:42] *** Quits: GNUHacker (~gnu@fsf/member/GNUHacker) (Remote host closed the connection)
[20:56:16] *** Quits: motherr (~motherr@user/motherr) (Ping timeout: 252 seconds)
[21:02:41] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[21:03:09] *** Joins: Crescendo (~Crescendo@user/crescendo)
[21:03:21] *** Joins: manin (~x@185.242.190.95)
[21:03:38] *** Joins: fling (~fling@user/fling)
[21:03:43] *** Joins: GNUHacker (~gnu@fsf/member/GNUHacker)
[21:04:38] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[21:04:57] *** Joins: robobo (~robobo@c-e52c524e.015-74-6762675.bbcust.telenor.se)
[21:05:18] *** Joins: zro (~zro@user/zro)
[21:05:35] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[21:05:37] *** Joins: besnn (~besnn@user/besnn)
[21:07:16] *** Quits: kill (~killown@user/killown) (Ping timeout: 252 seconds)
[21:07:55] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[21:08:17] *** Quits: unixman_home_ (~unixman2@216.137.241.98) (Quit: rm -rf /)
[21:09:00] *** Joins: unixman_home (~unixman2@216.137.241.98)
[21:16:16] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[21:18:59] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[21:20:42] *** Quits: pyre (~pyre@crimeboss.nillas-power.com) (Read error: Connection reset by peer)
[21:22:07] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 252 seconds)
[21:22:43] *** Joins: Crescendo (~Crescendo@user/crescendo)
[21:24:40] *** Quits: peterrooney (~peter@2604:3d08:1583:7400:222:4dff:fe69:d6ed) (Ping timeout: 240 seconds)
[21:25:44] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Ping timeout: 250 seconds)
[21:25:54] *** Joins: vmeson (~rmacleod@23-233-84-124.cpe.pppoe.ca)
[21:26:11] *** Quits: vmeson (~rmacleod@23-233-84-124.cpe.pppoe.ca) (Client Quit)
[21:30:11] *** Quits: wolfgang (~wolfgang@101.174.6.197) (Remote host closed the connection)
[21:32:05] <tedwing> In my current profile, if I run `bind -x '"\C-xa": echo test'`, the binding gives me the error: "bash_execute_unix_command: cannot find keymap for command". If I run it without my profile, the binding works. Any advice for debugging this?
[21:32:31] <lopid> 1. use ~/.inputrc
[21:33:27] *** Joins: vmeson (~rmacleod@23-233-84-124.cpe.pppoe.ca)
[21:33:55] *** Joins: wolfgang (~wolfgang@101.174.6.197)
[21:33:59] *** Joins: peterrooney (~peter@2604:3d08:1583:7400:222:4dff:fe69:d6ed)
[21:36:15] <tedwing> Can you add -x bindings to .inputrc? I didn't think that was possible
[21:36:46] <lopid> "\C-xa": "echo test\n"
[21:36:56] <lopid> i think
[21:37:13] *** Joins: H3dn1ng (~H3dn1ng@2-248-149-85-no172.tbcn.telia.com)
[21:37:57] <lopid> yes
[21:38:21] *** Joins: paulman (~kulernil@gateway/tor-sasl/kuler)
[21:38:49] <tedwing> True, something like that would work. I guess I could do that instead. I'm curious to understand why the -x binding doesn't work, though
[21:39:24] <lopid> works here
[21:39:59] *** Quits: kulernil (~kulernil@gateway/tor-sasl/kuler) (Ping timeout: 244 seconds)
[21:40:07] <lopid> should be in your .bashrc anyway
[21:40:40] <tedwing> yes, there's something in my profile or environment that's causing it to error, but I'm not sure what that is
[21:41:19] *** Joins: Caesar-EW (~Caesar-EW@84.213.107.109)
[21:43:52] *** Joins: kill (~killown@user/killown)
[21:44:52] *** Joins: son0p (~ff@181.136.122.143)
[21:45:21] <geirha> does it work if you remove it from your .profile and it it to the end of .bashrc instead?
[21:46:34] <geirha> and does bind -X list it?
[21:46:46] *** Joins: goldfish_ (~goldfish@user/goldfish)
[21:47:20] *** Quits: goldfish (~goldfish@user/goldfish) (Read error: Connection reset by peer)
[21:48:18] <tedwing> For now I'm entering the `bind` command in a shell, I haven't added it to .profile or .bashrc. `bind -X` does list it
[21:49:29] *** Joins: mestre (~mestre@191.177.175.57)
[21:49:49] <geirha> thought you said it worked when you typed it at the prompt, but didn't when you had it in .profile
[21:51:04] *** Joins: pystardust (~pystardus@223.226.119.16)
[21:51:17] <tedwing> it works if I open a new subshell with `bash`, then enter it at the prompt, but not if I enter it in my normal prompt
[21:52:07] *** Joins: pyre (~pyre@crimeboss.nillas-power.com)
[21:52:43] *** Joins: Betal (~Betal@user/betal)
[21:52:43] <geirha> ok, so you normally use a login shell, but when you start a new (non-login) shell, which only reads bashrc, it works
[21:53:02] <geirha> that's not a subshell btw
[21:53:24] <tedwing> I see, thanks for the clarification
[21:53:43] <tedwing> that's exactly right
[21:54:54] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[21:54:57] <tedwing> I didn't have the correct terminology
[21:55:09] *** Joins: Crescendo (~Crescendo@user/crescendo)
[21:57:17] *** Joins: Adoi (~Adoi@user/adoi)
[21:59:16] *** Joins: killown (~killown@user/killown)
[22:00:57] *** Joins: codebam (~codebam@user/codebam)
[22:01:10] *** Quits: Lunatrius (~Lunatrius@77.38.22.128) (Ping timeout: 240 seconds)
[22:01:16] *** Quits: kill (~killown@user/killown) (Ping timeout: 250 seconds)
[22:01:40] <geirha> can't think of any reason for it to fail like that. I'm blank
[22:03:06] *** Joins: Lunatrius (~Lunatrius@77.38.92.228)
[22:03:43] <tedwing> no problem, thanks for thinking about it :)
[22:04:19] <grondilu> wow today I learned that I don't have to use brackets to define a function.
[22:04:34] <grondilu> any compond-command is ok
[22:05:56] <grondilu> # f() if ((RANDOM%2)); then echo foo; else echo bar; fi; f
[22:05:57] <shbot> grondilu: foo
[22:06:57] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[22:07:13] <grondilu> I need to read the manual page more often, there are so many tricks to learn
[22:07:37] *** Quits: Caesar-EW (~Caesar-EW@84.213.107.109) (Ping timeout: 248 seconds)
[22:07:46] *** Quits: Lunatrius (~Lunatrius@77.38.92.228) (Ping timeout: 252 seconds)
[22:09:36] *** Quits: julius_c (~julius_c@130.red-83-32-6.dynamicip.rima-tde.net) (Quit: Leaving)
[22:14:37] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[22:14:55] *** Quits: mw_ (~mw@catv-86-101-13-145.catv.broadband.hu) (Ping timeout: 252 seconds)
[22:17:54] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[22:18:54] *** Quits: speckz (~speckz@2600:1700:ce0:bf00:d925:c30a:b85b:b3ae) (Quit: Textual IRC Client: www.textualapp.com)
[22:19:33] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[22:20:12] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[22:21:07] *** Joins: roadie (~user@2a02:8108:ec0:1427:85e6:6b6b:2f15:bc70)
[22:21:29] *** Quits: zro (~zro@user/zro) (Ping timeout: 248 seconds)
[22:21:40] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[22:25:23] *** Joins: Lunatrius (~Lunatrius@77.38.92.228)
[22:29:41] *** Quits: lavaball (~Melissa@31.204.155.215) (Quit: lavaball)
[22:31:33] *** Joins: Nanobot567 (~Nanobot56@108-195-7-3.lightspeed.nsvltn.sbcglobal.net)
[22:35:04] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 250 seconds)
[22:39:20] *** Joins: Burger (~burger@user/burger)
[22:40:26] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[22:40:28] *** Quits: mestre (~mestre@191.177.175.57) (Quit: leaving)
[22:40:43] *** Joins: mestre (~mestre@191.177.175.57)
[22:45:02] *** Quits: codebam (~codebam@user/codebam) (Quit: WeeChat 3.2)
[22:47:33] *** Joins: sudomannn (~sudomann@86.106.143.206)
[22:47:54] *** Joins: magla (~gelignite@55d457aa.access.ecotel.net)
[22:48:05] <pystardust> yeah, brackets make simple commands into a single block, i was amazed when i realized it
[22:48:09] *** Joins: codebam (~codebam@user/codebam)
[22:51:13] *** Quits: sudomann (~sudomann@c-73-133-131-19.hsd1.md.comcast.net) (Ping timeout: 252 seconds)
[22:57:39] *** Joins: zro (~zro@user/zro)
[22:58:24] *** Joins: speckz (~speckz@2600:1700:ce0:bf00:d925:c30a:b85b:b3ae)
[22:58:39] *** Quits: Burger (~burger@user/burger) (Quit: Textual IRC Client: www.textualapp.com)
[22:59:14] *** Quits: fortuno51 (~fortuno51@78.10.204.254) (Remote host closed the connection)
[23:00:57] *** Joins: fortuno51 (~fortuno51@78.10.204.254)
[23:01:39] <tedwing> I figured out my binding problem. It turns out I have a different non "-x" binding that begins with the same prefix ("\C-xa"), but has more keys after that. Disabling that binding allowed the new one to work.
[23:02:44] *** Quits: fortuno51 (~fortuno51@78.10.204.254) (Remote host closed the connection)
[23:03:06] *** Joins: fortuno51 (~fortuno51@78.10.204.254)
[23:03:19] <geirha> ah, I did test with a non-x binding with the same sequence, but not as a subsequence
[23:03:56] *** Joins: pyre_ (~pyre@crimeboss.nillas-power.com)
[23:04:26] *** Parts: pyre_ (~pyre@crimeboss.nillas-power.com) ()
[23:04:43] <geirha> I feel like it should be possible for bash to detect overlapping sequences so it could at least print a warning
[23:06:18] <tedwing> that would be nice
[23:11:16] *** Joins: reset (~reset@user/reset)
[23:20:56] *** Quits: speckz (~speckz@2600:1700:ce0:bf00:d925:c30a:b85b:b3ae) (Quit: Textual IRC Client: www.textualapp.com)
[23:21:40] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[23:21:53] *** Quits: fortuno51 (~fortuno51@78.10.204.254) (Remote host closed the connection)
[23:23:39] *** Joins: fortuno51 (~fortuno51@78.10.204.254)
[23:24:25] *** Joins: Drek45 (~jrept371@102.129.152.109)
[23:24:28] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 250 seconds)
[23:24:49] *** Quits: magla (~gelignite@55d457aa.access.ecotel.net) (Quit: Stay safe!)
[23:29:01] *** Quits: earnestly (~earnest@user/earnestly) (Read error: Connection reset by peer)
[23:31:23] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[23:34:22] *** Joins: earnestly (~earnest@user/earnestly)
[23:34:57] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Remote host closed the connection)
[23:37:16] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[23:38:03] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[23:44:14] *** Joins: Caesar-EW (~Caesar-EW@84.213.107.109)
[23:45:36] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[23:50:14] *** Joins: mw_ (~mw@catv-86-101-13-145.catv.broadband.hu)
[23:50:43] *** Joins: rememberYou (~someone@user/rememberyou)
[23:52:15] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 258 seconds)
[23:55:46] *** Quits: rendar (~rendar@user/rendar) (Quit: Leaving)
[23:56:08] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
