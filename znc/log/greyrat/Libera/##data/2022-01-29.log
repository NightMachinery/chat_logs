[01:55:15] *** Joins: norwood (~mostlyhum@104-3-188-144.lightspeed.sntcca.sbcglobal.net)
[02:01:22] *** Parts: norwood (~mostlyhum@104-3-188-144.lightspeed.sntcca.sbcglobal.net) (Textual IRC Client: www.textualapp.com)
[02:51:31] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[05:15:58] *** Joins: Guest9036 (~Guest90@pool-96-253-74-73.rcmdva.fios.verizon.net)
[05:16:03] <Evolver> Gentlemen, never use Hetzner. It's literally the worst cloud. 
[05:16:16] <Evolver> They disabled my account without warning or explanation.
[05:16:27] <Guest9036> yikes that is the worst
[05:16:54] <Evolver> Guest9036: yeah, how are you? what's on your mind? how may I help?
[05:17:03] <Guest9036> I think the best bet today is to just buy your own servers and actually touch them in person and set them up in a data center
[05:17:51] <Guest9036> So I am trying to figure out if my database is normalized correctly
[05:17:59] <Guest9036> https://i.imgur.com/On6uDpg.png
[05:18:00] <TitlesBot> 03â¤· (image/png) (97K)
[05:18:25] <Guest9036> This is for a website similar to linkedin learning where you can buy courses either with a subscription on a monthly/yearly recurring basis or a one time and keep it forever basis
[05:18:36] <Guest9036> Course can only be ordered once by user then they own it forever
[05:18:36] <Guest9036> User can only have 1Â  recurring subscription at a time (but they can cancel and buy another membership type plan)
[05:18:37] <Guest9036> A user's recurring subscription can only have 1 membership type plan (yearly, monthly, free)
[05:18:37] <Guest9036> Orders and subscriptions can both be paid with either crypto or stripe
[05:20:10] <Guest9036> My main concern is the right side of the diagram memberships and subscriptions
[05:20:20] <Guest9036> Someone on discord told me to make a membership type table
[05:20:42] <Guest9036> But I am not sure if I need to do that
[05:21:18] <Evolver> are you doing this for university or real work
[05:21:27] <Guest9036> real work for myself
[05:21:39] <Guest9036> I am going to self host this myself too
[05:26:50] <Guest9036> This chart is on lucid chart if you need me to send it to you and make changes
[05:30:10] <Evolver> Looks nice to me. When I think of modern schemas, I try to make them such that the rows are immutable.
[05:30:45] <Evolver> so a row's data would never be modified in my schema (except to update a schema)
[05:30:53] <Guest9036> yes i don't want to have to change this if possible
[05:31:03] <Evolver> no, I'm not taking about schema immutability
[05:31:12] <Evolver> I'm talking about data immutability which is different.
[05:31:47] <Evolver> Guest9036: In your current schema, if a Lesson's Description had to be updated, you'd update it in-place.
[05:32:03] <Guest9036> oh right
[05:32:29] <Evolver> whereas I'd keep all historical rows as is for recordkeeping purposes, never mutating them
[05:32:56] <Evolver> which would require changes to the schema so as to link to or find the latest record
[05:33:25] <Evolver> It's just something idealistic to think about, not necessarily practical.
[05:33:43] <Evolver> but it has real world value as is espoused in blockchain databases and immutable databases
[05:34:18] <Guest9036> ah makes sense
[05:34:30] <Guest9036> yea blockchain databases and hosting would be ideal...
[05:34:31] <Evolver> So when after five years, somebody tells you that "you did this, you had this, now you don't, you scammed me", you've a perfect record of things.
[05:35:33] <Evolver> so then no one can say that
[05:36:07] <Guest9036> exactly
[05:36:11] <Evolver> so if you can, make a fork of this chart, and pretend you are using a database where rows are immutable (but the schema doesn't have to be)
[05:36:23] <Evolver> and then see how you'd adjust the schema for it, just as a mental exercise
[05:36:50] <Guest9036> yea part of this is a mental exercise in and of itself
[05:40:24] <Evolver> other than that, it looks well normalized to me
[05:40:41] <Guest9036> You don't think I need a Membership type table similar to payment type?
[05:40:56] <Guest9036> or a user membership table with FK of users and membership ids?
[05:52:53] <Evolver> or would it make sense to get rid of the Payment Type table?
[05:53:08] <Evolver> Guest9036: What would be the consequence of getting rid of the Payment Type table?
[05:53:33] <Evolver> Guest9036: or what are the Membership Types??
[05:58:03] <Guest9036> I have cryptocurrency and stripe as payment types
[05:58:18] <Guest9036> I need to specify which payment type was used to buy a subscription
[05:58:28] <Guest9036> membership types = free, monthly, yearly
[05:58:30] <Evolver> you'll probably have a payment processors
[05:58:39] <Evolver> which will keep certain payment records for you
[05:58:41] <Guest9036> I have stripe and btcpayserver
[05:58:44] <Guest9036> Yes both do
[05:58:51] <Guest9036> That is why I do not need transaction tables
[06:02:32] <Evolver> so if you don't have a Membership Type table, then how can you infer the type?
[06:03:25] <Evolver> Guest9036: you previously said "forever"
[06:12:31] <Guest9036> Oh because in django which is what I am using, you can hard code it which is probably a mistake
[06:13:06] <Guest9036> Subscriptions are not forever
[06:13:13] <Guest9036> One time payments are though
[06:14:27] <Guest9036> MEMBERSHIP_CHOICES = (('Yearly', 'Yearly'),('Monthly', 'Monthly'),('Free', 'Free'))
[06:14:54] <Guest9036> class Membership(models.Model): membership_type = models.CharField(choices=MEMBERSHIP_CHOICES,default='Free',max_length=30)
[06:15:06] <Guest9036> I will probably make a membership type table then
[06:17:59] <Evolver> ok, can see how it looks like with it
[06:18:43] <Guest9036> Yea I will try it
[06:20:06] <Guest9036> I think I have to do the same for course expertise
[06:20:20] <Guest9036> Because options are beginner, intermediate, advanced
[06:20:30] <Guest9036> so an expertise table with those options
[06:27:42] <Evolver> Sometimes it's ok to condense various things into a nosql JSON column or two
[06:27:51] <Evolver> although I'm not asking you to do that
[06:28:08] <Evolver> Those are the things that require tremendous flexibility in schema.
[06:40:42] <Guest9036> Yea I am going to do that for a few things
[07:12:23] <Guest9036> thank you for all the help
[07:19:42] <Evolver> good work
[07:20:16] <Guest9036> Thanks it has been about 2+ years
[10:15:43] *** Quits: Guest9036 (~Guest90@pool-96-253-74-73.rcmdva.fios.verizon.net) (Ping timeout: 256 seconds)
[11:12:44] *** Joins: palasso (~palasso@user/palasso)
[14:37:49] <FeedBot> [03r/datasets:30+] [dataset] "A Large Self-Annotated Corpus for Sarcasm", Khodak et al 2017 (1.3m Reddit comments using "/s") â†’ https://redd.it/sf6ck8
[19:09:49] *** Quits: Malvolio (~Malvolio@user/malvolio) (Ping timeout: 240 seconds)
[19:55:17] *** Joins: Malvolio (~Malvolio@user/malvolio)
[21:07:02] *** Quits: Malvolio (~Malvolio@user/malvolio) (Killed (platinum.libera.chat (Nickname regained by services)))
[21:10:45] *** Joins: Malvolio (~Malvolio@user/malvolio)
[22:51:12] *** Joins: molson__ (~molson@2001-48F8-704A-123D-0-0-75F-1033-static.midco.net)
[22:54:02] *** Quits: molson_ (~molson@2001-48F8-704A-123D-0-0-75F-102F-static.midco.net) (Ping timeout: 240 seconds)
