[00:02:59] *** Quits: michelem (~Adium@51.154.167.11) (Quit: Leaving.)
[00:03:40] *** Joins: michelem (~Adium@51.154.167.11)
[00:04:26] *** Quits: michelem (~Adium@51.154.167.11) (Client Quit)
[00:06:23] *** Quits: Ergo^ (~ergo@91.238.59.144) (Remote host closed the connection)
[00:09:54] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[00:09:54] *** ChanServ sets mode: +v EvilDMP
[00:22:47] *** Joins: koo6 (~koo6@89-24-13-235.customers.tmcz.cz)
[00:29:31] *** Joins: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:5642:78c3:490c:d48)
[00:31:34] *** Quits: serghei (~egrep@user/serghei) (Ping timeout: 268 seconds)
[00:33:14] *** Joins: serghei (~egrep@user/serghei)
[00:42:43] *** Quits: Skyz (~Skyz@user/skyz) (Quit: Client closed)
[00:43:00] *** Joins: Skyz (~Skyz@user/skyz)
[00:46:35] *** Quits: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net) (Quit: zzzz)
[00:47:15] *** Joins: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net)
[00:50:59] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Ping timeout: 268 seconds)
[00:52:14] *** Joins: diverdude (~undodre@176-21-102-230-cable.dk.customer.tdc.net)
[00:52:17] <diverdude> hi
[00:53:40] <diverdude> I have a 1:1 relationship between 2 models. I need to check if an object from 1 side has been matched with one from the other side, so i do like this: if D.measurement is not None:...    But this gives me error: Dosimeter has no measurement.    How then do i check?
[00:58:01] <ChrisWarrick> diverdude: how is your relationship defined?
[01:02:07] <diverdude> ChrisWarrick: in my class Measurement its defined as: dosimeter = models.OneToOneField(Dosimeter,models.CASCADE,related_name='measurement',null=True,blank=True)
[01:03:26] <ChrisWarrick> diverdude: what error do you get, exactly?
[01:04:19] <diverdude> ChrisWarrick: apps.dosimeters.models.Dosimeter.measurement.RelatedObjectDoesNotExist: Dosimeter has no measurement.
[01:04:25] <PaulWay[w]> BTW, OneToOneField relations will automatically do an INNER JOIN, so you will not get a NULL on the other side (so to speak).
[01:04:43] <ChrisWarrick> diverdude: https://docs.djangoproject.com/en/3.2/topics/db/examples/one_to_one/
[01:04:51] <ChrisWarrick> diverdude: the docs say you can catch this or use hasattr
[01:05:05] <ChrisWarrick> diverdude: also, are you sure you want a 1:1 relationship? Because 99% of the time, you really don’t.
[01:05:07] <PaulWay[w]> So dosimeter.measurement will never be None anyway.
[01:06:37] <PaulWay[w]> You need to do something like Measurement.objects.filter(Exists(Dosimeter.objects.filter(measurement_id=F('pk')))
[01:06:52] <PaulWay[w]> This is all from memory and guesswork.
[01:07:07] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[01:09:06] <diverdude> ChrisWarrick: yes i am 100% sure :)
[01:09:37] <ChrisWarrick> diverdude: what value does a separate table bring you?
[01:09:38] <diverdude> PaulWay[w]: how come i get RelatedObjectDoesNotExist then? if it will never be None?
[01:10:03] <diverdude> ChrisWarrick: its 2 different entities and each entity can exist without the other
[01:10:35] <PaulWay[w]> OK, well that wasn't my experience.
[01:10:59] <diverdude> PaulWay[w]: what wasn't your experience?
[01:11:17] <diverdude> ahhh to get a RelatedObjectDoesNotExist error?
[01:12:36] <PaulWay[w]> Yep.  I never found the objects without a related object at all.
[01:12:55] <PaulWay[w]> Maybe you're doing a lookup through, whereas I was just trying to filter on null.
[01:20:55] <diverdude> PaulWay[w]: i am just trying to access the related object and it does not exist
[01:24:29] *** Joins: GinFuyou (~GinFuyou@reya.cloud.tilaa.com)
[01:24:52] <diverdude> and the SO describes my exact problem: https://stackoverflow.com/questions/25944968/check-if-a-onetoone-relation-exists-in-django
[01:25:06] <diverdude> and luckily there seems to be advice :)
[01:45:38] *** Quits: tm007 (uid287041@id-287041.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[01:48:18] *** Joins: kostkon_ (~kostkon@2a02:587:a100:18e:9fe3:794:a225:7cdb)
[01:49:30] *** Quits: kostkon (~kostkon@2a02:587:a100:18e:9fe3:794:a225:7cdb) (Read error: No route to host)
[01:56:42] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 272 seconds)
[01:58:20] *** Joins: leftyfb (leftyfb@ubuntu/member/leftyfb)
[02:01:16] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:01:52] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[02:02:28] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[02:02:28] *** ChanServ sets mode: +v EvilDMP
[02:02:49] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Client Quit)
[02:03:15] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[02:03:15] *** ChanServ sets mode: +v EvilDMP
[02:03:37] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Client Quit)
[02:04:02] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[02:04:02] *** ChanServ sets mode: +v EvilDMP
[02:04:20] <leftyfb> https://docs.djangoproject.com/en/3.1/ref/django-admin/#createsuperuser  this doesn't seem to be relevant. I set DJANGO_SUPERUSER_PASSWORD in the docker container and can echo or printenv just fine, but createsuperuser doesn't seem to set any password for the user as noted by the admin panel with "No password set.". What am I doing wrong? I'm trying to automate standing up a TSD Django site that runs in docker
[02:04:24] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Client Quit)
[02:04:50] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[02:04:50] *** ChanServ sets mode: +v EvilDMP
[02:05:12] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Client Quit)
[02:05:37] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[02:05:37] *** ChanServ sets mode: +v EvilDMP
[02:05:59] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Client Quit)
[02:06:25] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[02:06:25] *** ChanServ sets mode: +v EvilDMP
[02:06:46] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Client Quit)
[02:07:12] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[02:07:12] *** ChanServ sets mode: +v EvilDMP
[02:07:34] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Client Quit)
[02:07:59] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[02:07:59] *** ChanServ sets mode: +v EvilDMP
[02:08:21] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Client Quit)
[02:15:20] *** Quits: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net) (Remote host closed the connection)
[02:15:49] *** Joins: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net)
[02:20:08] *** Quits: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl) (Ping timeout: 272 seconds)
[02:20:56] <tone0> leftyfb post your dockerfile, are you doing createsuperuser --noinput?
[02:21:09] <leftyfb> tone0: yes
[02:21:39] *** Quits: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net) (Remote host closed the connection)
[02:23:09] <leftyfb> tone0: https://pastebin.ubuntu.com/p/vnwYQmjfrs/
[02:23:45] <FunkyBob> looks like a docker-compose file, not a dockerfile...
[02:24:06] <leftyfb> FunkyBob: what is the docker file? Sorry, I'm new at both docker and django
[02:24:53] <FunkyBob> seems a lot of complexity to learn Django _and_ docker at the same time
[02:24:57] <leftyfb> FunkyBob: also, what does that have to do with manage.py not utilizing the DJANGO_SUPERUSER_PASSWORD ENV?
[02:24:58] <FunkyBob>     dockerfile: "Dockerfile${DOCKERFILE_VERSION}"
[02:25:09] <FunkyBob> should be a file there called Dockerfile ... with some version after it
[02:26:19] <leftyfb> https://pastebin.ubuntu.com/p/94j9S45wYH/
[02:26:31] *** Quits: koo6 (~koo6@89-24-13-235.customers.tmcz.cz) (Ping timeout: 258 seconds)
[02:27:31] <leftyfb> I'm trying to automate the creation of an admin user for this site
[02:27:41] <FunkyBob> so when you menationed TSD  that meant "The Spaghetti Detective"... gotcha
[02:28:11] <leftyfb> yes
[02:28:25] <FunkyBob> never heard of it... looks... curious
[02:28:36] <FunkyBob> ok... no, I don't know of a general way to setup a superuser
[02:28:39] *** Joins: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net)
[02:28:41] <FunkyBob> because it require setting a password
[02:29:28] <leftyfb> FunkyBob: according to the official Django documentation, having the DJANGO_SUPERUSER_PASSWORD ENV set should pull that information in and set it
[02:29:59] <leftyfb> "When run non-interactively, you can provide a password by setting the DJANGO_SUPERUSER_PASSWORD environment variable. "
[02:30:01] <FunkyBob> TIL
[02:30:18] <FunkyBob> django/contrib/auth/management/commands/createsuperuser.py:                    user_data[PASSWORD_FIELD] = os.environ['DJANGO_SUPERUSER_PASSWORD']
[02:30:21] <FunkyBob> indeed, so it does
[02:30:22] *** Joins: koo6 (~koo6@89-24-13-235.customers.tmcz.cz)
[02:31:02] <tone0> leftyfb I don't see anywhere where its createsuperusering?
[02:31:02] <leftyfb> q
[02:31:06] <tone0> https://github.com/TheSpaghettiDetective/TheSpaghettiDetective/blob/master/web/app/migrations/0002_seed_data_2247.py
[02:31:18] <tone0> appears that docker image contains migrations with a default username and password
[02:31:31] <tone0> where are you adding in your own?
[02:31:41] <leftyfb> tone0: I'm doing this outside of the docker deployment using ansible. At the moment I'm trying to just run it manually within the docker shell
[02:32:32] <tone0> django==2.2.10
[02:32:33] <leftyfb> the docker container is already setup and fully functional. I'm in the docker shell with the ENV set and running manage.py command manually
[02:32:39] <leftyfb> ugh
[02:32:41] <tone0> kthx
[02:32:57] <tone0> go open a feature request :p
[02:33:31] <leftyfb> I had a feeling it might be that but didn't know where to look for the version
[02:33:39] <tone0> requirements.txt
[02:34:04] *** Quits: bancroft (~bancroft@bras-base-mtrlpq02hsy-grc-09-76-68-189-147.dsl.bell.ca) (Ping timeout: 272 seconds)
[02:34:33] <leftyfb> hm, how bad do you think things would break if I changed that to 3.2.3? :)
[02:34:55] <FunkyBob> depends on which features of djang the project uses
[02:35:02] <FunkyBob> probably fairly little,
[02:35:16] <FunkyBob> the django release notes are fairly comprehensive
[02:35:35] *** Quits: haydng (~haydng@h62-81.catalyst.net.nz) (Quit: Leaving)
[02:45:06] *** Quits: slav0nic (slav0nic@python.su) (Ping timeout: 240 seconds)
[02:47:57] *** Quits: kostkon_ (~kostkon@2a02:587:a100:18e:9fe3:794:a225:7cdb) (Ping timeout: 256 seconds)
[02:49:01] *** Joins: kostkon (~kostkon@2a02:587:a100:18e:9fe3:794:a225:7cdb)
[03:01:00] *** Quits: diverdude (~undodre@176-21-102-230-cable.dk.customer.tdc.net) (Read error: Connection reset by peer)
[03:01:38] <thiras> hello
[03:02:14] <thiras> it's been quite long time since last time I worked with Django, so I'm a bit confused with the custom user model
[03:02:54] <thiras> is it possible to create a custom model through sub-classing AbstractUser and get rid of the username in favor of email?
[03:03:08] <thiras> without coding a manager
[03:05:20] <dlam> is this a still-in-date Django chat server tutorial?   https://channels.readthedocs.io/en/latest/tutorial/part_2.html
[03:06:13] <dlam> i forgot re. channels being in Django proper vs. third-party package
[03:08:40] <blathijs> thiras: In my last django project (still django 2.2, though) I subclassed AbstractBaseUser (and added PermissionsMixin) to do exactly that (lose the username field)
[03:09:32] <blathijs> thiras: https://github.com/evolution-events/Artaxerxes/blob/master/apps/people/models/artauser.py#L24
[03:14:38] <FunkyBob> thiras: not witout coding a manager...
[03:15:10] <FunkyBob> this includes a minimal "custom user model with email as identifier" https://blog.tinbrain.net/blog/django-registration-redux.html
[03:17:13] <thiras> how about this one? https://bpa.st/OG3A
[03:17:20] <thiras> wasn't enough?
[03:17:30] *** Quits: koo6 (~koo6@89-24-13-235.customers.tmcz.cz) (Ping timeout: 258 seconds)
[03:17:58] <FunkyBob> you don't want permissions?
[03:18:08] <FunkyBob> oh.. AbstractUser
[03:18:09] <FunkyBob> no
[03:18:11] <FunkyBob> won't work
[03:18:21] <FunkyBob> because you're not removing any of the fields already on AbstractUser
[03:19:09] <thiras> i do want permissions but i don't see why i lost them with this example
[03:19:13] <FunkyBob> it must have been a LOOOONG time since you used django... custom users models was... 1.5?
[03:19:31] <FunkyBob> thiras: you didn't with yours... I didn't spot that you'd used AbstractUser, not AbstractBaseUser
[03:19:35] <FunkyBob> did you see my code?
[03:20:17] <thiras> yeah you goes with the AbstractBaseUser
[03:20:26] <thiras> therefor there is a custom manager
[03:20:34] <FunkyBob> yes
[03:20:48] <thiras> what are the drawbacks with my approach?
[03:20:50] <FunkyBob> your way will still require a username for every user
[03:21:12] <FunkyBob> because the field is defined, not-nullable, and unique
[03:21:22] <thiras> how about assigning them emails
[03:21:36] <thiras> there will be data duplication but i guess it should work
[03:21:38] <thiras> right?
[03:22:03] <thiras> like username = email kind of assignment
[03:22:09] <FunkyBob> not sure why you're so adamant to avoid a little extra code to do it properly
[03:22:25] <thiras> i also need to write test that's because lol
[03:22:26] <FunkyBob> yeah, you'd want to add a save() override to copy the value
[03:22:34] <FunkyBob> you'd have to write tests either way
[03:22:43] <thiras> but you might be right
[03:23:06] <thiras> ok i'll go with the manager way. thanks
[03:23:09] <FunkyBob> you're creating work to avoid work...
[03:23:47] <thiras> yeah just figured out that
[03:26:44] <dlam> django 1.3 contrib.auth.models.User #1
[03:33:59] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 258 seconds)
[03:36:11] *** Joins: Crassus (~Crassus@user/crassus)
[03:38:02] *** Quits: serghei (~egrep@user/serghei) (Ping timeout: 272 seconds)
[03:39:38] *** Quits: django-ticketbot (~django-ti@django/ops/ticketbot) (Remote host closed the connection)
[03:39:54] *** Joins: django-ticketbot (~django-ti@django/ops/ticketbot)
[03:41:13] *** Parts: leftyfb (leftyfb@ubuntu/member/leftyfb) (Leaving)
[04:09:00] *** Quits: rje (~rje@50.54.137.153) (Quit: rje will be back)
[04:09:14] <PaulWay[w]> Hey FunkyBob - you know that 'Relationship' class you linked to a while ago from devblog.kogan.com.
[04:09:18] *** Joins: rje (~rje@65.141.156.170)
[04:09:42] <PaulWay[w]> It doesn't make any database changes to the model, does it?
[04:10:30] <PaulWay[w]> It just uses existing fields AFAICS?
[04:12:46] <PaulWay[w]> And it doesn't provide a reverse side to that - you'd just use Relationship on the other side AFAICS?
[04:17:12] *** Joins: bitdex (~bitdex@gateway/tor-sasl/bitdex)
[04:17:16] <PaulWay[w]> Hmmm - I'm experimenting with it and it looks like it _does_ supply the reverse side.
[04:28:43] <schinckel> Yeah, I think it does generate the reverse. I think I came across an issue with it, which I may have resolved, but I can't recall what it was.
[04:32:03] *** Joins: bambanxx (~bambanx@181-163-32-112.baf.movistar.cl)
[04:34:26] *** Joins: vdamewood (~vdamewood@fedora/vdamewood)
[04:39:21] *** Joins: vinleod (~vdamewood@fedora/vdamewood)
[04:40:18] *** Quits: vdamewood (~vdamewood@fedora/vdamewood) (Ping timeout: 240 seconds)
[04:43:40] *** Joins: audiocat (~audio@2603-8081-1800-eb5b-ed8a-504f-bfcd-fdff.res6.spectrum.com)
[04:44:13] *** vinleod is now known as vdamewood
[04:45:20] *** Quits: Skyz (~Skyz@user/skyz) (Quit: Client closed)
[04:46:11] *** Joins: Skyz (~Skyz@user/skyz)
[04:50:08] <schinckel> Hmm. I think I need some mechanism for marking up the differences between subsequent items in a list, but I don't get those differences until I render into HTML.
[04:50:19] <schinckel> And it's DL, rather than UL, so it's even more complex.
[04:51:14] <schinckel> (ie, I need to compare <dt> and any subsequent <dd> elements with the previous <dt> and any of it's subsequent <dd> elements.
[04:52:07] <schinckel> No wait, I only care about the DD items, because the DT will always differ.
[04:52:23] <schinckel> And I use an included template, so I should be able to leverage it.
[04:56:11] * wyoung scratches his head
[05:00:39] <schinckel> Hmm. Might be better to use JS htmldiff in this case, anyway.
[05:14:48] *** Joins: tm007 (uid287041@id-287041.highgate.irccloud.com)
[05:26:54] *** Quits: PantelicGR (~PantelicG@user/pantelicgr) (Killed (NickServ (GHOST command used by PantelicGR_!~PantelicG@pon4522.cpe.hcn.gr)))
[05:28:57] *** Joins: PantelicGR (~PantelicG@user/pantelicgr)
[05:40:45] *** Joins: dodobrain (~dodobrain@user/dodobrain)
[05:44:42] *** Quits: clemente (~Daniel@balticom-142-72-136.balticom.lv) (Ping timeout: 272 seconds)
[05:46:53] *** Joins: richbridger (~richbridg@213-225-32-103.nat.highway.a1.net)
[05:48:01] *** Quits: aquijoule_ (~richbridg@213-225-32-103.nat.highway.a1.net) (Read error: Connection reset by peer)
[05:50:52] *** Joins: djapo (~archangel@user/djapo)
[05:53:06] *** Quits: GinFuyou (~GinFuyou@reya.cloud.tilaa.com) (Ping timeout: 240 seconds)
[05:53:32] *** Joins: GinFuyou (~GinFuyou@reya.cloud.tilaa.com)
[05:57:22] *** Quits: Rikem (~mike@user/rikem) (Ping timeout: 272 seconds)
[05:59:54] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 272 seconds)
[06:02:46] *** Quits: bambanxx (~bambanx@181-163-32-112.baf.movistar.cl) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[06:03:09] *** Quits: mayhew (~jm@hlfxns017vw-47-55-124-51.dhcp-dynamic.fibreop.ns.bellaliant.net) (Quit: Konversation terminated!)
[06:10:15] *** Quits: GinFuyou (~GinFuyou@reya.cloud.tilaa.com) (Ping timeout: 256 seconds)
[06:10:19] *** Quits: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net) (Quit: Bye.)
[06:14:18] *** Joins: explore (uid233125@id-233125.stonehaven.irccloud.com)
[06:36:46] *** Joins: bancroft (~bancroft@bras-base-mtrlpq02hsy-grc-09-76-68-189-147.dsl.bell.ca)
[06:38:19] *** Quits: PantelicGR (~PantelicG@user/pantelicgr) (Quit: Leaving)
[06:46:15] *** Quits: Crassus (~Crassus@user/crassus) (Quit: Textual IRC Client: www.textualapp.com)
[06:54:33] *** Joins: summersault (~summersau@179.221.251.16)
[06:59:25] *** Quits: summersault (~summersau@179.221.251.16) (Remote host closed the connection)
[07:08:04] *** Quits: Skyz (~Skyz@user/skyz) (Quit: Client closed)
[07:10:04] *** Quits: znpy (~znpy@user/znpy) (Quit: Ping timeout (120 seconds))
[07:12:13] *** Joins: znpy (~znpy@user/znpy)
[07:13:16] *** Joins: bambanxx (~bambanx@181-163-32-112.baf.movistar.cl)
[07:19:49] *** Quits: bambanxx (~bambanx@181-163-32-112.baf.movistar.cl) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[07:30:10] *** Quits: anas (~anas@196.235.97.18) (Ping timeout: 256 seconds)
[07:40:51] *** Quits: PantelicGR2 (~pantelicg@user/pantelicgr) (Write error: Connection reset by peer)
[07:40:51] *** Quits: syphar (~syphar@2001:470:69fc:105::2ad6) (Write error: Connection reset by peer)
[07:40:54] *** Quits: theorangeone (~theorange@2001:470:69fc:105::4eb8) (Read error: Connection reset by peer)
[07:40:55] *** Quits: kenbolton (~kenbolton@2001:470:69fc:105::2d24) (Remote host closed the connection)
[07:41:05] *** Quits: mambang[m] (~mambang@user/mambang) (Write error: Connection reset by peer)
[07:41:31] *** Quits: mattcen[mx][m] (~mattcen@2001:470:69fc:105::5d1) (Remote host closed the connection)
[07:41:56] *** Joins: mattcen[mx][m] (~mattcen@2001:470:69fc:105::5d1)
[07:44:52] *** Joins: theorangeone (~theorange@2001:470:69fc:105::4eb8)
[07:44:52] *** Joins: kenbolton (~kenbolton@2001:470:69fc:105::2d24)
[07:44:52] *** Joins: PantelicGR2 (~pantelicg@user/pantelicgr)
[07:44:52] *** Joins: mambang[m] (~mambang@user/mambang)
[07:45:05] *** Joins: syphar (~syphar@2001:470:69fc:105::2ad6)
[08:00:11] *** Joins: mambang (~mambang@user/mambang)
[08:03:38] *** Quits: PantelicGR2 (~pantelicg@user/pantelicgr) (Quit: node-irc says goodbye)
[08:04:04] *** Quits: mattcen[mx][m] (~mattcen@2001:470:69fc:105::5d1) (Quit: node-irc says goodbye)
[08:05:06] *** Quits: mambang[m] (~mambang@user/mambang) (Quit: node-irc says goodbye)
[08:05:58] *** Quits: kenbolton (~kenbolton@2001:470:69fc:105::2d24) (Quit: node-irc says goodbye)
[08:06:38] *** Quits: theorangeone (~theorange@2001:470:69fc:105::4eb8) (Quit: node-irc says goodbye)
[08:09:59] *** Quits: syphar (~syphar@2001:470:69fc:105::2ad6) (Quit: node-irc says goodbye)
[08:10:01] *** Quits: vdamewood (~vdamewood@fedora/vdamewood) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:13:22] *** Quits: TranquilEcho (~grom@user/tranquilecho) (Quit: WeeChat 2.8)
[08:13:38] *** Joins: TranquilEcho (~grom@user/tranquilecho)
[08:15:42] *** Quits: TranquilEcho (~grom@user/tranquilecho) (Client Quit)
[08:15:58] *** Joins: TranquilEcho (~grom@user/tranquilecho)
[08:16:12] *** Quits: kostkon (~kostkon@2a02:587:a100:18e:9fe3:794:a225:7cdb) (Read error: Connection reset by peer)
[08:16:31] *** Joins: kostkon (~kostkon@2a02:587:a100:18e:9fe3:794:a225:7cdb)
[08:18:18] *** Quits: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:5642:78c3:490c:d48) (Ping timeout: 240 seconds)
[08:25:46] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[08:43:40] *** Quits: tbcr (~tbcr@user/tbcr) (Ping timeout: 268 seconds)
[08:52:16] *** Joins: twomoon (~twomoon@ip72-199-58-150.sd.sd.cox.net)
[08:55:46] *** Quits: TranquilEcho (~grom@user/tranquilecho) (Quit: WeeChat 2.8)
[09:08:17] *** Quits: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi) (Read error: Connection reset by peer)
[09:11:34] *** Joins: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi)
[09:25:11] *** Quits: mambang (~mambang@user/mambang) (Ping timeout: 256 seconds)
[09:30:47] *** Joins: mattil (~mattil@helsinki.portalify.com)
[09:31:08] *** Quits: mattil (~mattil@helsinki.portalify.com) (Remote host closed the connection)
[09:31:45] *** Joins: mattil (~mattil@airio.portalify.com)
[10:02:29] *** Joins: Ergo^ (~ergo@91.238.59.144)
[10:30:29] *** Quits: django-ticketbot (~django-ti@django/ops/ticketbot) (Remote host closed the connection)
[10:30:36] *** Joins: django-ticketbot (~django-ti@django/ops/ticketbot)
[10:30:52] *** Joins: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:5642:78c3:490c:d48)
[10:33:15] *** Joins: serghei (~egrep@user/serghei)
[10:37:54] *** Quits: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:5642:78c3:490c:d48) (Ping timeout: 240 seconds)
[10:44:02] *** Quits: explore (uid233125@id-233125.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[10:49:20] *** Quits: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net) (Remote host closed the connection)
[10:49:30] *** Quits: serghei (~egrep@user/serghei) (Quit: serghei)
[11:05:19] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[11:05:19] *** ChanServ sets mode: +v EvilDMP
[11:14:59] *** Joins: explore (uid233125@id-233125.stonehaven.irccloud.com)
[11:19:10] *** Joins: koo6 (~koo6@89-24-13-235.customers.tmcz.cz)
[11:21:39] <ktosiek> Can I filter by name__iexact__in=['a','b','c']?
[11:22:28] *** Quits: mattil (~mattil@airio.portalify.com) (Ping timeout: 265 seconds)
[11:31:11] *** Joins: anas (~anas@196.235.97.18)
[11:42:32] *** Joins: koperfild (~koperfild@147.161.12.25)
[11:45:58] *** Quits: koperfild (~koperfild@147.161.12.25) (Client Quit)
[11:46:14] *** Joins: serghei (~egrep@user/serghei)
[11:47:23] *** Joins: pycode (~pycode@2001:b07:5d28:551:5a84:3192:3810:e49a)
[11:48:55] *** Joins: dodobrain_ (~dodobrain@user/dodobrain)
[11:50:56] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:52:26] <jor> ktosiek: hmm, I'd either annotate and apply lower function. Or just go for a regexp
[11:52:56] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Ping timeout: 252 seconds)
[11:54:33] *** Joins: dodobrain__ (~dodobrain@user/dodobrain)
[11:55:13] *** dodobrain__ is now known as dodobrain
[11:55:25] *** Joins: mattcen[mx][m] (~mattcen@2001:470:69fc:105::5d1)
[11:57:42] *** Quits: dodobrain_ (~dodobrain@user/dodobrain) (Ping timeout: 252 seconds)
[11:58:04] *** Joins: theorangeone (~theorange@2001:470:69fc:105::4eb8)
[11:58:04] *** Joins: kenbolton (~kenbolton@2001:470:69fc:105::2d24)
[11:58:04] *** Joins: PantelicGR2 (~pantelicg@user/pantelicgr)
[11:58:04] *** Joins: mambang[m] (~mambang@user/mambang)
[11:58:18] *** Joins: syphar (~syphar@2001:470:69fc:105::2ad6)
[11:58:29] *** Joins: mambang (~mambang@user/mambang)
[12:00:37] *** Quits: mambang (~mambang@user/mambang) (Client Quit)
[12:06:42] *** Quits: jpic (~jpic@82.142.17.14) (Ping timeout: 240 seconds)
[12:07:15] *** Joins: kostkon_ (~androirc@ob21aa.static.otenet.gr)
[12:13:53] *** Joins: jpic (~jpic@82.142.17.14)
[12:15:12] <ktosiek> jor: thanks! in the end I think I'll just keep the normalized name in a separate column.
[12:16:29] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[12:16:42] *** Quits: PantelicGR2 (~pantelicg@user/pantelicgr) (Quit: Client limit exceeded: 20000)
[12:17:12] *** Quits: mattcen[mx][m] (~mattcen@2001:470:69fc:105::5d1) (Quit: Client limit exceeded: 20000)
[12:18:49] *** Joins: maharg101 (~maharg101@savoy.force9.co.uk)
[12:19:27] *** Quits: kenbolton (~kenbolton@2001:470:69fc:105::2d24) (Quit: Client limit exceeded: 20000)
[12:20:56] *** Quits: theorangeone (~theorange@2001:470:69fc:105::4eb8) (Quit: Client limit exceeded: 20000)
[12:26:09] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[12:26:09] *** ChanServ sets mode: +v EvilDMP
[12:28:42] *** Quits: mambang[m] (~mambang@user/mambang) (Write error: Connection reset by peer)
[12:28:57] *** Quits: syphar (~syphar@2001:470:69fc:105::2ad6) (Write error: Connection reset by peer)
[12:29:57] *** Joins: mattcen[mx][m] (~mattcen@2001:470:69fc:105::5d1)
[12:32:36] *** Joins: kenbolton (~kenbolton@2001:470:69fc:105::2d24)
[12:32:36] *** Joins: theorangeone (~theorange@2001:470:69fc:105::4eb8)
[12:32:36] *** Joins: PantelicGR2 (~pantelicg@user/pantelicgr)
[12:32:36] *** Joins: mambang[m] (~mambang@user/mambang)
[12:32:37] *** Joins: syphar (~syphar@2001:470:69fc:105::2ad6)
[12:35:06] *** Quits: koo6 (~koo6@89-24-13-235.customers.tmcz.cz) (Ping timeout: 240 seconds)
[12:49:51] *** Joins: slav0nic (slav0nic@python.su)
[12:51:10] *** Quits: PantelicGR2 (~pantelicg@user/pantelicgr) (Quit: Client limit exceeded: 20000)
[12:51:27] *** Quits: mattcen[mx][m] (~mattcen@2001:470:69fc:105::5d1) (Quit: Client limit exceeded: 20000)
[12:52:08] *** Joins: Crassus (~Crassus@user/crassus)
[12:52:11] *** Quits: serghei (~egrep@user/serghei) (Ping timeout: 268 seconds)
[12:52:39] *** Quits: mambang[m] (~mambang@user/mambang) (Quit: Client limit exceeded: 20000)
[12:53:36] *** Quits: kenbolton (~kenbolton@2001:470:69fc:105::2d24) (Quit: Client limit exceeded: 20000)
[12:55:05] *** Quits: theorangeone (~theorange@2001:470:69fc:105::4eb8) (Quit: Client limit exceeded: 20000)
[12:58:08] *** Quits: syphar (~syphar@2001:470:69fc:105::2ad6) (Quit: Client limit exceeded: 20000)
[12:59:12] *** Quits: WayToDoor (~WayToDoor@user/waytodoor) (Quit: See you later :))
[12:59:25] *** Joins: Rikem (~mike@user/rikem)
[13:03:17] *** Joins: mattcen[mx][m] (~mattcen@2001:470:69fc:105::5d1)
[13:05:58] *** Joins: theorangeone (~theorange@2001:470:69fc:105::4eb8)
[13:05:58] *** Joins: kenbolton (~kenbolton@2001:470:69fc:105::2d24)
[13:05:58] *** Joins: syphar (~syphar@2001:470:69fc:105::2ad6)
[13:05:58] *** Joins: PantelicGR2 (~pantelicg@user/pantelicgr)
[13:05:58] *** Joins: mambang[m] (~mambang@user/mambang)
[13:07:15] *** Joins: szymon (~ugh@staticline-31-183-187-232.toya.net.pl)
[13:10:05] <wallbroken> if is there somebody who can help me, i'll thankful
[13:10:13] <wallbroken> i want to end this issue
[13:10:24] *** Quits: syphar (~syphar@2001:470:69fc:105::2ad6) (Remote host closed the connection)
[13:10:24] *** Quits: mattcen[mx][m] (~mattcen@2001:470:69fc:105::5d1) (Read error: Connection reset by peer)
[13:10:25] *** Quits: kenbolton (~kenbolton@2001:470:69fc:105::2d24) (Remote host closed the connection)
[13:10:25] *** Quits: PantelicGR2 (~pantelicg@user/pantelicgr) (Read error: Connection reset by peer)
[13:10:25] *** Quits: theorangeone (~theorange@2001:470:69fc:105::4eb8) (Remote host closed the connection)
[13:10:26] *** Quits: mambang[m] (~mambang@user/mambang) (Read error: Connection reset by peer)
[13:21:15] *** Joins: shangxiao (~davids@101.181.108.207)
[13:35:55] *** Joins: mattcen[mx][m] (~mattcen@2001:470:69fc:105::5d1)
[13:38:36] *** Joins: kenbolton (~kenbolton@2001:470:69fc:105::2d24)
[13:38:36] *** Joins: theorangeone (~theorange@2001:470:69fc:105::4eb8)
[13:38:36] *** Joins: PantelicGR2 (~pantelicg@user/pantelicgr)
[13:38:36] *** Joins: mambang[m] (~mambang@user/mambang)
[13:38:36] *** Joins: syphar (~syphar@2001:470:69fc:105::2ad6)
[13:47:43] *** Joins: serghei (~egrep@user/serghei)
[13:52:22] *** Quits: serghei (~egrep@user/serghei) (Ping timeout: 272 seconds)
[13:52:41] *** Quits: waveclaw (~quassel@ip98-162-237-241.ok.ok.cox.net) (Ping timeout: 258 seconds)
[13:56:03] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:56:44] *** Joins: thiras (~thiras@user/thiras)
[14:06:16] *** Joins: salman (~user@user/salman)
[14:06:26] *** Quits: salman (~user@user/salman) (Remote host closed the connection)
[14:06:54] *** Quits: twomoon (~twomoon@ip72-199-58-150.sd.sd.cox.net) (Quit: Leaving)
[14:07:11] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[14:07:11] *** ChanServ sets mode: +v EvilDMP
[14:18:51] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:21:41] *** Joins: waveclaw (~quassel@ip98-162-237-241.ok.ok.cox.net)
[14:30:01] *** Joins: clemente (~Daniel@balticom-142-72-136.balticom.lv)
[14:31:53] *** Joins: HoaxKey (~HoaxKey@85.255.234.138)
[14:31:55] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[14:31:55] *** ChanServ sets mode: +v EvilDMP
[14:36:42] *** Quits: HoaxKey (~HoaxKey@85.255.234.138) (Read error: Connection reset by peer)
[14:36:51] *** Quits: dodobrain (~dodobrain@user/dodobrain) (Ping timeout: 256 seconds)
[14:47:13] *** Joins: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl)
[14:50:47] <pycode> how can i add a condition inside a left join ? i do .annotate(field=related_table)
[14:51:00] <pycode> which is cool and it correctly create a LEFT JOIN
[14:51:07] <pycode> but i also need to add a condition on that left join
[14:51:10] <pycode> is possible somehow?
[14:51:51] <pycode> i also tried FilteredRelation
[14:51:56] <pycode> but i get this error: ValueError: FilteredRelation's condition doesn't support nested relations
[14:55:57] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:57:53] <jor> pycode: upgrade to django 3.2 :)
[15:04:02] *** Quits: explore (uid233125@id-233125.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[15:07:36] <pycode> jor, really?
[15:07:51] <pycode> i mean...does the orm support it?
[15:08:08] <pycode> i am using Django==3.1.1
[15:08:10] <jor> pycode: yeah, that feature was added in 3.2
[15:08:20] <pycode> where can i read something about that?
[15:08:36] *** Quits: audiocat (~audio@2603-8081-1800-eb5b-ed8a-504f-bfcd-fdff.res6.spectrum.com) (Ping timeout: 256 seconds)
[15:08:57] <jor> pycode: https://docs.djangoproject.com/en/3.2/ref/models/querysets/#filteredrelation-objects check the 'changed in' box. Could also search the 3.2 release notes
[15:10:14] <pycode> Changed in Django 3.2:
[15:10:14] <pycode> Support for nested relations was added.
[15:10:16] <pycode> grrrrrrrrrr
[15:10:17] <pycode> :D
[15:10:18] <jor> or maybe the otherway around, check the 3.1 docs, it should mention that nested isn't supported
[15:10:43] <pycode> yes yes i know it is not supported for that reason i thought that filteredrelation is not useful to me (with 3.1 of course)
[15:10:46] <pycode> but ok i can upgrade
[15:10:50] <jor> pycode: hey, gotta upgrade sometime.... 3.2 is LTS :)
[15:11:21] <pycode> changing from 3.1 to 3.2 will broke everything? :F
[15:12:13] *** Joins: aplainzetakind (~johndoe@captainludd.powered.by.lunarbnc.net)
[15:14:29] <Trieste> Hi, I'm getting an error when I use `django-admin`, it can't find my DJANGO_SETTINGS_MODULE (which is `my_app.settings`); but if I use manage.py, it works just fine, and I can also `import my_app.settings` just fine from a python shell, what could this be caused by?
[15:14:41] <Trieste> Also, the project is set up using poetry and I'm using its venv if it makes a difference
[15:15:13] <Trieste> (and I am using django-admin from the venv, I checked using which)
[15:17:15] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[15:17:15] *** ChanServ sets mode: +v EvilDMP
[15:20:21] <pycode> jor, seems bugged
[15:20:40] <pycode> it does not join add the other models
[15:20:55] <pycode> i see a T5 in the qs.query without the T5 :O
[15:25:01] *** Quits: rje (~rje@65.141.156.170) (Ping timeout: 256 seconds)
[15:28:34] *** Joins: rje (~rje@50.54.137.153)
[15:29:27] <pycode> does not work :(
[15:29:50] <pycode> django ORM is awful sometimes.
[15:32:26] *** Quits: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl) (Ping timeout: 272 seconds)
[15:35:56] <pycode> completely bugged...it is not joing the nested tables :o
[15:37:01] <pycode> where is the join on "base_trade" ? https://bpa.st/CRMQ
[15:38:15] <pycode> jor ^^
[15:39:25] <jor> Trieste: usually a sys.path problem :/ gotta make sure it can find your my_app module
[15:43:21] <pycode> and the """""funny"""""" thing is that if i do qs = Model.bla bla    then qs.query i see the SQL...then if i execute the qs and after that i do qs.query i see a different sql :O
[15:53:01] <pycode> how can i create a model for test without having the table in PG ?
[15:53:10] <pycode> i am building a test
[15:53:13] <pycode> that i will share
[15:53:25] <pycode> tried with managed=False but no works
[15:53:37] <pycode> i get
[15:53:37] <pycode> RuntimeError: Model class builtins.B doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
[15:59:39] *** Quits: clemente (~Daniel@balticom-142-72-136.balticom.lv) (Ping timeout: 268 seconds)
[16:03:07] *** Joins: GinFuyou (~GinFuyou@reya.cloud.tilaa.com)
[16:04:32] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:06:14] *** Joins: clemente (~Daniel@balticom-142-72-136.balticom.lv)
[16:10:14] <jor> pycode: hmm, so you have a doubly nested relation... weird it's also mapping your =1 to the .._id field without complaining
[16:10:55] <pycode> i am sending the email on the mailing list
[16:11:15] <jor> pycode: can't say I ever needed this. But I suspect you need to use a FilteredRelation('tradebar__trade', Q(...))
[16:11:32] <pycode> let me test
[16:14:32] <GinFuyou> Thing that works better than the coffee in the morning: finding out that your prod server is down
[16:14:47] <pycode> jor, seems to work....BUT...
[16:15:04] <pycode> at the end i do .select_related('bla') 'bla' is the field i annotated
[16:15:17] <pycode> now the problem is... if i do tradebar__trade
[16:15:24] <pycode> i see tradebar__trade on SELECT ....
[16:15:39] <pycode> i need "tradebar" fields only
[16:15:51] <pycode> that was just a condition i need to add (the backtest=1 part)
[16:15:55] <pycode> i do not need fields
[16:16:05] <pycode> just price and tradebar fields
[16:16:05] <jor> GinFuyou: what? you should never check your notifications _before_ having you morning coffee ;p
[16:17:54] *** Joins: zcheng3 (~zcheng3@d198-53-38-251.abhsia.telus.net)
[16:18:00] *** Joins: doev (~doev@82.115.100.62)
[16:20:00] <Trieste> jor: yup, it was a `poetry` mishap, thanks though!
[16:20:25] <pycode> jor, is that possible somehow?
[16:28:38] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[16:28:38] *** ChanServ sets mode: +v EvilDMP
[16:35:48] <jor> pycode: hmm, don't think so. I suspect you might just want to query off that tradebar model, so you can select_related price? :/
[16:36:31] <pycode> jor, no because i need ALL the record on PRICE and a left join con TRADEBAR
[16:37:58] *** Joins: mayhew (~jm@hlfxns017vw-47-55-124-51.dhcp-dynamic.fibreop.ns.bellaliant.net)
[16:51:04] <thiras> hello. I have a model called Contact and 2 sub-models (currently in multi-table inheritance from Contact) called Employee and Company. Since sub-models are so thin (just 1-2 extra fields) I'm wondering if proxy model would be better choice?
[16:51:34] <thiras> also i'm planning to create a GraphQL schema wth django-graphene
[16:51:54] <GinFuyou> thiras, proxy models can't have field I think?
[16:52:09] <GinFuyou> Why MTI though?
[16:52:12] <wallbroken> GinFuyou: i'm still dealing with the checkbox problem :(
[16:52:48] <GinFuyou> wallbroken, I still don't have better answer than adding boolean field to the form =_=
[16:52:49] <thiras> GinFuyou, yeah I guess. but i guess they can be configured to behave as MTI/Relational
[16:53:22] <GinFuyou> thiras, erm, what?
[16:53:42] <wallbroken> GinFuyou: yes, but do you remember what the checkbox should be in my case?
[16:53:49] <thiras> i want to able to enable sub-class fields conditional. like Employee sub-model shouldn't have tax ID but company etc.
[16:53:53] <wallbroken> it should select the current user in the m2m field
[16:53:57] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[16:54:24] <GinFuyou> wallbroken, yes, you'd have to add this logic yourself. e.g. to the view.
[16:54:54] <wallbroken> GinFuyou: there is not a custom checkbox that does what i need in the form?
[16:55:36] <GinFuyou> thiras, you mean like proxy model "disables" field that is actually exists in database (and used by other proxy)
[16:56:00] <thiras> i think it's correct
[16:56:21] <thiras> companies can have tax id but employees shouldn't
[16:57:15] <GinFuyou> wallbroken, I'm not sure what is "custom checkbox". Anyway if you want a checkbox, add a field for it. Looks like a reasonable first step
[16:57:32] <wallbroken> GinFuyou: do you remember what my goal is?
[16:58:00] <wallbroken> my goal is that the current user can set the user in the m2m field whe checkbox is flagged
[16:58:37] <GinFuyou> thiras, well, I don't know how it will work, but may be interesting. Personally I'd probably just use one-to-one or maybe even a single model with type field\different managers \ qs methods
[16:59:27] <thiras> yeah, i've started with o2o and then migrated to MTI
[16:59:51] <thiras> still doesn't feel satisfied. but you might be right about o2o and custom manager way
[17:00:13] <GinFuyou> wallbroken, as I understand it, you want a list (formset) view, where each item has a checkbox, when submitted checked, it adds current user to some m2m field
[17:00:57] <wallbroken> yes
[17:01:00] <wallbroken> exactly
[17:01:09] <jor> thiras: from a modelling perspective, I don't really see an common base for company and employees (unless you are in the US where corporation are legally persons ;). Why don't both have a relation to some contact/adress model?
[17:01:14] <GinFuyou> thiras, well, nothing technically wrong with MTI, but I just don't see real benefit from it
[17:01:41] <jor> thiras: graphQL also doesn't really have to concept of inheritance, so gotta jump through hoops for that too :/
[17:02:23] <GinFuyou> yeah, disclaimer - i have no idea about graphQL
[17:02:39] <thiras> good to know that
[17:02:56] <wallbroken> GinFuyou: could you help me in reaching my goal please?
[17:03:18] <thiras> i think i'll go with o2o, guess i was doing overengineering again lol
[17:05:09] <GinFuyou> wallbroken, I'm not coding for you, no. And don't ask me "how I do it". I told you the first, start with a boolean field, and checkbox even if it does nothing
[17:05:39] <wallbroken> yes, i did that
[17:05:47] <wallbroken> i added a boolean field in the model
[17:05:54] <wallbroken> i don't want that you code for me
[17:06:02] <wallbroken> i want just you drive me in doing that
[17:06:11] <wallbroken> because i'm not able to do on my own
[17:06:46] *** Quits: doev (~doev@82.115.100.62) (Ping timeout: 246 seconds)
[17:07:19] <wyoung> GinFuyou: I see you are engaging with wallbroken now, did funky bob tag you in?
[17:07:33] *** Joins: mattil (~mattil@airio.portalify.com)
[17:07:56] <GinFuyou> wallbroken, I said nothing about the model
[17:08:27] <wallbroken> well, where should I add the checkbox?
[17:09:24] <GinFuyou> wyoung, nah, it was going around for weeks now. I just give up when wallbroken stops reading what I type - just like now =(
[17:11:01] <wallbroken> you want me to add the checkbox in the template?
[17:11:04] <wallbroken> tell me something...
[17:12:21] <GinFuyou> <GinFuyou> wallbroken, I still don't have better answer than adding boolean field to the form =_=
[17:12:24] <GinFuyou> ** form **
[17:12:28] <wallbroken> oh sorry
[17:12:32] <GinFuyou> Your form class
[17:12:36] <wallbroken> ok
[17:13:41] <wallbroken> terminated = BooleanField(default=False)
[17:13:49] <wallbroken> is the right way to add the it?
[17:17:53] <wallbroken> ok, done that
[17:17:54] <wallbroken> now?
[17:18:03] <wallbroken> terminated = forms.BooleanField(default=False)
[17:21:18] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:22:19] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[17:22:19] *** ChanServ sets mode: +v EvilDMP
[17:28:51] *** Quits: mattil (~mattil@airio.portalify.com) (Read error: Connection reset by peer)
[17:31:40] *** Joins: explore (uid233125@id-233125.stonehaven.irccloud.com)
[17:39:28] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 265 seconds)
[17:40:09] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[17:41:55] <GinFuyou> probably also want required=False
[17:42:41] <GinFuyou> Now depends on how you are processing form or formset. General idea is to check cleaned data for this field and do logic based on it
[17:43:05] <GinFuyou> Though it looks pretty obvious, only cleaned data is django specifics
[17:44:33] <wallbroken> terminated = forms.BooleanField(required=False)
[17:45:04] <wallbroken> GinFuyou: https://github.com/ClaudioViti/lookbook/blob/multi-user/shoes/views.py
[17:46:09] <GinFuyou> which view is it? minicartView? I don't remember all details
[17:46:55] *** Joins: HoaxKey (~HoaxKey@85.255.234.138)
[17:51:32] *** Quits: bitdex (~bitdex@gateway/tor-sasl/bitdex) (Quit: = "")
[17:51:53] *** Quits: HoaxKey (~HoaxKey@85.255.234.138) (Ping timeout: 268 seconds)
[17:54:05] <wallbroken> GinFuyou: ordersView
[18:01:17] <GinFuyou> Ok, so it just uses formset.save(), and we need request to use request.user, I guess you have to do `for form in formset:` instead. then check form cleaned_data for that field, do user code and form.save() in the end
[18:01:18] *** Joins: HoaxKey (~HoaxKey@85.255.234.138)
[18:02:33] <bancroft> is there a way to have celery on its own (i'm turning everything into microservices) without having to get django's code and deps in the celery services?
[18:03:46] <dang`r`us> celerly isn't tied to django at all
[18:03:47] <GinFuyou> Yes, but then it can't do django code
[18:03:57] <GinFuyou> like models operations
[18:03:58] <dang`r`us> well, obviously..
[18:04:42] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:05:08] <wallbroken> GinFuyou: `for form in formset:`
[18:05:14] <wallbroken> are you still talking about the view?
[18:05:33] <GinFuyou> yes, https://github.com/ClaudioViti/lookbook/blob/multi-user/shoes/views.py#L266
[18:06:18] <GinFuyou> since we need to test extra checkbox for each form we have to go through each form in formset
[18:06:45] <GinFuyou> other way would be doing it in the form.save() but then form would need request.user to be passed somewhere
[18:07:35] <wallbroken>         for form in formset:
[18:07:35] <wallbroken>             formset.save()
[18:07:38] <wallbroken> ok?
[18:07:55] <GinFuyou> form.save()
[18:08:09] <wallbroken> ok
[18:08:12] <GinFuyou> and between it, add code that does what you want
[18:08:50] <wallbroken> request.user.terminated_items.add(pk)
[18:08:56] <wallbroken> it's correct?
[18:09:10] <wallbroken> terminated_items is my m2m field
[18:10:00] <GinFuyou> where pk comes from? it probably should be something of the form
[18:10:12] <GinFuyou> result of form.save() maybe
[18:10:51] <wallbroken> so you guess form.pk ?
[18:12:01] <GinFuyou> no. Generally I expect m2m to use model instances (but I guess it _may_ work with primary keys)
[18:12:18] *** Joins: serghei (~egrep@user/serghei)
[18:12:26] <wallbroken> GinFuyou: tell me what you suggest to do
[18:12:53] <GinFuyou> if form is for that model, probably `obj = form.save()` then ...`.add(obj)`
[18:13:14] *** Quits: serghei (~egrep@user/serghei) (Client Quit)
[18:15:01] <wallbroken> GinFuyou: https://dpaste.org/WWx9
[18:15:03] <wallbroken> that's ok?
[18:15:34] <GinFuyou> At least looks like it may work, yeag
[18:15:58] <wallbroken> well
[18:16:09] <wallbroken> now let me show you what's in my forms
[18:16:33] <wallbroken> https://dpaste.org/3YJR#L6
[18:18:04] <GinFuyou> You put in the Meta instead of form class again
[18:18:32] <GinFuyou> Ah, and ofc, you wanted a test if checkbox is checked
[18:19:38] <wallbroken> " you wanted a test if checkbox is checked"
[18:19:41] <wallbroken> how?
[18:21:55] <GinFuyou> add if for cleaned_data on that field
[18:22:10] <GinFuyou> You did it a number of times in this file already
[18:23:46] <wallbroken> https://dpaste.org/YwtW
[18:24:11] <GinFuyou> doing random staff again?
[18:24:35] <wallbroken> i was reading what i did before
[18:24:40] <wallbroken> and i found that
[18:26:01] <GinFuyou> not sure where did you find it... since it's wrong
[18:27:52] *** Quits: brsc2909 (~Thunderbi@109.255.244.60) (Quit: brsc2909)
[18:27:55] <wallbroken> GinFuyou: can you point me another point where i did the right thing?
[18:28:03] <wallbroken> in the way of i can use it as a model
[18:29:01] <GinFuyou> https://github.com/ClaudioViti/lookbook/blob/4aab2c5ffde008d68a9ffa32762953cbe5ed15c7/shoes/forms.py#L56 for forms
[18:29:05] <GinFuyou> https://github.com/ClaudioViti/lookbook/blob/multi-user/shoes/views.py#L302 for views
[18:29:13] *** Joins: brsc2909 (~Thunderbi@109.255.244.60)
[18:30:40] *** Quits: kostkon_ (~androirc@ob21aa.static.otenet.gr) (Ping timeout: 246 seconds)
[18:30:53] <wallbroken> but i did not use "if for cleaned_data" there
[18:32:51] <GinFuyou> it's not what you are using now, but only difference with what you have is that you work with form in a loop. Form in a loop is just like form without a loop, but in a loop
[18:34:57] <wallbroken> sorry, but i did not get what do i need to do
[18:35:14] <wallbroken> now i have this: https://dpaste.org/DX9t
[18:39:45] *** Joins: kostkon_ (~androirc@ob21aa.static.otenet.gr)
[18:43:36] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[18:49:30] <GinFuyou> form looks OK like this
[18:51:24] <wallbroken> ok
[18:51:43] <wallbroken> now i should do the cleaned data part for views?
[18:56:22] *** Quits: jpic (~jpic@82.142.17.14) (Ping timeout: 272 seconds)
[18:57:51] *** Joins: jpic (~jpic@82.142.8.102)
[18:59:53] *** Joins: Diemuzi (~Diemuzi@ip68-106-203-17.pn.at.cox.net)
[19:07:18] <GinFuyou> Yes, get checkbox state from it and add the `if` statement
[19:09:19] *** Quits: kostkon_ (~androirc@ob21aa.static.otenet.gr) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[19:11:03] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[19:11:03] *** ChanServ sets mode: +v EvilDMP
[19:15:17] <wallbroken> GinFuyou: https://dpaste.org/AKDB
[19:16:20] <GinFuyou> bizzare
[19:16:56] <GinFuyou> what programming language actually does declaring functions in the loop?
[19:18:21] <wallbroken> https://dpaste.org/8kh4
[19:19:19] <GinFuyou> now move last line to where it makes some sense
[19:20:01] <wallbroken> https://dpaste.org/7792
[19:20:54] <GinFuyou> Ok, this does look sensible, but don't you want to save form in any case?
[19:21:38] <wallbroken> https://dpaste.org/yLSc
[19:22:50] *** Quits: HoaxKey (~HoaxKey@85.255.234.138) (Ping timeout: 252 seconds)
[19:25:08] <wallbroken> that's ok?
[19:26:26] <GinFuyou> Yeah, looks fine on itself at least
[19:26:36] <wallbroken> i have a problem on submit
[19:26:57] <wallbroken> https://dpaste.org/UT8U
[19:32:33] <wallbroken> is not working
[19:36:38] *** Joins: argento (~argent0@168-227-96-53.ptr.westnet.com.ar)
[19:43:06] <wallbroken> GinFuyou: are you still there
[19:43:10] <wallbroken> is there something wrong
[19:43:13] <wallbroken> because is not working
[19:48:50] *** Joins: utkarsh181 (~user@103.77.0.95)
[19:48:56] <utkarsh181> Hi!
[19:50:08] <utkarsh181> I just wanted to say thank you for Django.  It's 7-step tutorial is till date the most comprehensive tutorial I have ever seen.
[19:52:23] <GinFuyou> wallbroken, well, why did you add request to arguments? I ignored it first, because I thought it how your code was from the start...
[19:52:25] *** Quits: anas (~anas@196.235.97.18) (Quit: WeeChat 3.2)
[19:52:42] *** Joins: serghei (~egrep@user/serghei)
[19:52:45] <GinFuyou> either pass it, or remove the argument (or make it optional)
[19:53:15] <GinFuyou> You don't need to pass it, since it's view attribute and available in it's methods through self.
[19:53:40] <wallbroken> GinFuyou: i don't think is the only problem
[19:53:45] <maharg101> utkarsh181 I agree :)
[19:53:49] <wallbroken> because i added a print inside the if
[19:53:55] <wallbroken> and it doesn't enter at all
[19:54:22] <GinFuyou> wallbroken, it can't enter it if the calling of the methods breaks
[19:54:40] <wallbroken> so, what's the problem?
[19:56:04] *** Quits: clawh (~clawh@185.244.214.60) (Remote host closed the connection)
[19:58:45] *** Joins: clawh (~clawh@185.244.214.60)
[19:59:41] *** Joins: Skyz (~Skyz@user/skyz)
[19:59:42] *** Quits: utkarsh181 (~user@103.77.0.95) (Ping timeout: 272 seconds)
[20:00:17] *** Quits: maharg101 (~maharg101@savoy.force9.co.uk) (Quit: Textual IRC Client: www.textualapp.com)
[20:03:27] *** Quits: Skyz (~Skyz@user/skyz) (Client Quit)
[20:08:42] *** Quits: pycode (~pycode@2001:b07:5d28:551:5a84:3192:3810:e49a) (Ping timeout: 240 seconds)
[20:14:22] <wallbroken> GinFuyou:
[20:14:22] <wallbroken> def formset_valid(self, formset):
[20:14:29] <wallbroken> doesn't join inside of this method
[20:18:10] <GinFuyou> Join? You mean it doesn't enter the method? then it's probably invalid? Do you have error rendering? (if you do {{ formset }} or {{ form }} it should show errors already)
[20:18:10] *** Joins: HoaxKey (~HoaxKey@85.255.234.138)
[20:18:29] <wallbroken> GinFuyou: exactly
[20:19:19] <wallbroken> GinFuyou: https://dpaste.org/rhtr#L146
[20:19:23] <wallbroken> this is my template
[20:20:07] <GinFuyou> then could add {{ form.errors }} for now
[20:20:17] <GinFuyou> and see if there any
[20:20:23] <GinFuyou> or print them in the view
[20:20:42] <GinFuyou> but usually you want errors in the template anyway
[20:21:07] <GinFuyou> human-readable error messages I mean, ofc
[20:21:14] *** Quits: zcheng3 (~zcheng3@d198-53-38-251.abhsia.telus.net) (Ping timeout: 272 seconds)
[20:23:22] *** Joins: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl)
[20:23:47] <wallbroken> GinFuyou: in which position do i need to add {{ form.errors }} ?
[20:25:56] <GinFuyou> around this line will do for now
[20:27:51] <wallbroken> which line?
[20:28:43] <wallbroken> i added it at line 147
[20:28:47] <wallbroken> but i don't see anything
[20:29:57] *** Quits: jgee (~jgee@186.80.49.20) (Quit: Ping timeout (120 seconds))
[20:30:45] *** Quits: clawh (~clawh@185.244.214.60) (Remote host closed the connection)
[20:31:20] *** Quits: szymon (~ugh@staticline-31-183-187-232.toya.net.pl) (Quit: szymon)
[20:34:21] *** Joins: clawh (~clawh@185.244.214.60)
[20:34:44] <wallbroken> GinFuyou: still here?
[20:35:17] *** Quits: clawh (~clawh@185.244.214.60) (Remote host closed the connection)
[20:36:01] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:44:46] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 258 seconds)
[20:48:53] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[20:52:52] *** Joins: Skyz (~Skyz@user/skyz)
[20:57:28] *** Quits: serghei (~egrep@user/serghei) (Quit: serghei)
[20:59:02] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[20:59:02] *** ChanServ sets mode: +v EvilDMP
[21:10:00] *** Quits: HoaxKey (~HoaxKey@85.255.234.138) (Ping timeout: 272 seconds)
[21:11:41] *** Quits: Crassus (~Crassus@user/crassus) (Ping timeout: 268 seconds)
[21:14:36] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[21:15:06] *** Joins: simon_weber (~simon_web@c-73-64-229-165.hsd1.pa.comcast.net)
[21:16:51] <simon_weber> hi folks. I've found myself in a pickle during a django 3.1 -> 3.2 upgrade. this codebase uses an app label convention with dashes in it, which as of https://code.djangoproject.com/ticket/32285 raises an exception at startup. changing the label to something valid (eg using underscores instead) looks like a nightmare because all the previous
[21:16:52] <simon_weber> migrations reference the now-disallowed app label. Any ideas?
[21:17:41] <simon_weber> for context, the project has 100+ sub-applications and around 1k migrations, so i'd very much like to avoid changing all their names
[21:35:28] *** Joins: jerm (~jermpng@mobile-166-173-248-169.mycingular.net)
[21:47:55] *** Joins: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net)
[22:02:23] *** Joins: blackleitus (~blackleit@189.195.192.28)
[22:02:47] <blackleitus> lets say I have the following  architecture, but I want to implement acl based where trusted analyst , and crawlers, sensors pushes data to django databases, but trusted analyst will review the data from crawlers , sensors where "code" doesn't understand human context , and this is where a django admin (add, edit or delete) data with a is_released flag , but I want to also have a development / production where production data will be able to be
[22:02:48] <blackleitus> curated , and processed for end user . how can I do this in a single instance or django , and database or do I need a 2 db instances with the same data  and tables ?
[22:02:48] <blackleitus>  https://media.discordapp.net/attachments/315362036601061376/860310473412968448/image.png?width=426&height=412
[22:07:30] *** Quits: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl) (Ping timeout: 240 seconds)
[22:16:27] *** Joins: mattil (~mattil@87-92-212-252.rev.dnainternet.fi)
[22:20:42] *** Quits: mattil (~mattil@87-92-212-252.rev.dnainternet.fi) (Ping timeout: 240 seconds)
[22:28:09] *** Joins: rpkilby (~rpkilby@c-24-20-208-106.hsd1.or.comcast.net)
[22:28:23] *** Joins: twinsignal (~twinsigna@68.235.43.70)
[22:29:19] *** Quits: rje (~rje@50.54.137.153) (Quit: My computer has gone to sleep. ZZZzzz…)
[22:29:47] *** Joins: rje (~rje@50.54.137.153)
[22:52:00] *** Joins: anas (~anas@196.235.97.18)
[23:01:27] *** Quits: anas (~anas@196.235.97.18) (Quit: WeeChat 3.2)
[23:01:45] *** Joins: anas (~anas@196.235.97.18)
[23:03:22] *** Joins: finnx (~finnx@2600:1702:1ae0:930:4dd7:d879:a387:3d74)
[23:21:58] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:24:06] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[23:24:06] *** ChanServ sets mode: +v EvilDMP
[23:26:41] *** Joins: VBreton (~Guest16@82-65-166-34.subs.proxad.net)
[23:30:34] *** Joins: HoaxKey (~HoaxKey@85.255.234.138)
[23:31:07] *** Quits: shangxiao (~davids@101.181.108.207) (Quit: WeeChat 3.2)
[23:42:34] *** Quits: VBreton (~Guest16@82-65-166-34.subs.proxad.net) (Quit: Client closed)
[23:42:45] *** Quits: jess (~jess@libera/staff/jess) ()
[23:57:58] *** Quits: HoaxKey (~HoaxKey@85.255.234.138) (Ping timeout: 258 seconds)
