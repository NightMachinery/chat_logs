[00:00:12] *** Quits: joshwasanon (~joshisano@155-186-193-040.res.spectrum.com) (Quit: Leaving)
[00:00:32] *** Quits: INeedAHandle (~INeedAHan@39.124.72.106) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[00:01:16] *** Joins: nobody_ (~nobody@host-79-16-187-29.retail.telecomitalia.it)
[00:04:35] *** Quits: docmax (~docmax@dynamic-077-008-213-064.77.8.pool.telefonica.de) (Ping timeout: 264 seconds)
[00:06:17] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Remote host closed the connection)
[00:07:02] *** Joins: pushqrdx_ (~pushqrdx@156.207.202.177)
[00:07:14] *** Quits: pushqrdx (~pushqrdx@156.207.202.177) (Ping timeout: 260 seconds)
[00:07:20] *** Joins: TheHermann (~TheHerman@gateway/tor-sasl/thehermann)
[00:08:38] *** Quits: jirido (jirido@gateway/vpn/protonvpn/jirido) (Ping timeout: 260 seconds)
[00:09:45] *** Joins: ss4 (~wootehfoo@user/wootehfoot)
[00:09:56] *** Quits: extern (~archer@141.226.62.146) (Quit: see you soon)
[00:11:25] *** Quits: zeraphel (~daddy@2a00:a040:196:56d:96de:80ff:fefa:44a) (Quit: zeraphel)
[00:11:59] *** pushqrdx_ is now known as pushqrdx
[00:12:54] *** Quits: wootehfoot (~wootehfoo@user/wootehfoot) (Ping timeout: 260 seconds)
[00:14:47] *** Joins: N4buc0 (~N4buc0@2804:7f4:3487:cd22:2d3c:fba6:d65c:53d3)
[00:16:01] *** Joins: n8chan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[00:16:55] *** Quits: Inline (~Inline@2a02:908:1252:7a80:9e2e:d238:6ddc:c88f) (Ping timeout: 268 seconds)
[00:18:45] *** Quits: neightchan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 268 seconds)
[00:21:53] *** Joins: extern (~archer@141.226.62.146)
[00:23:15] *** Joins: INeedAHandle (~INeedAHan@121.155.99.135)
[00:23:18] *** Joins: jirido (~jirido@mobile-access-b04813-73.dhcp.inet.fi)
[00:23:38] *** Joins: luva (~luva@146.70.62.238)
[00:24:25] *** Quits: N4buc0 (~N4buc0@2804:7f4:3487:cd22:2d3c:fba6:d65c:53d3) (Remote host closed the connection)
[00:24:29] *** Joins: Betal (~Betal@user/betal)
[00:24:48] *** Joins: N4buc0 (~N4buc0@2804:7f4:3487:cd22:2d3c:fba6:d65c:53d3)
[00:25:32] *** Joins: sebastorama (~textual@190.83.56.68)
[00:25:32] *** Joins: locsmif (~none@user/locsmif)
[00:27:35] *** Quits: extern (~archer@141.226.62.146) (Quit: WeeChat 3.3)
[00:27:35] *** Joins: jirido_ (~jirido@mobile-access-6df001-149.dhcp.inet.fi)
[00:28:46] *** Quits: jirido (~jirido@mobile-access-b04813-73.dhcp.inet.fi) (Ping timeout: 260 seconds)
[00:30:38] *** Quits: Aguapanelo (~dma@91-149-252-230.mariposanet.es) (Ping timeout: 260 seconds)
[00:32:42] *** Parts: jirido_ (~jirido@mobile-access-6df001-149.dhcp.inet.fi) ()
[00:34:35] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 264 seconds)
[00:37:48] *** Quits: unmanbearpig (~unmanbear@45.76.95.141) (Ping timeout: 260 seconds)
[00:38:42] *** Quits: noarb (~noarb@user/noarb) (Quit: ZNC 1.8.2 - https://znc.in)
[00:43:12] *** Quits: nobody_ (~nobody@host-79-16-187-29.retail.telecomitalia.it) (Remote host closed the connection)
[00:44:28] *** Joins: killown (~killown@user/killown)
[00:45:31] *** Joins: unmanbearpig (~unmanbear@user/unmanbearpig)
[00:47:07] *** Quits: killall (~killown@user/killown) (Ping timeout: 268 seconds)
[00:47:26] *** Quits: stealth[] (~stealth]@2001:9e8:36ec:3200:1d50:6b67:9559:9543) (Read error: Connection reset by peer)
[00:49:15] *** Quits: magla (~gelignite@55d4b8af.access.ecotel.net) (Quit: Stay safe!)
[00:49:42] *** Quits: pmercado (~pmercado@190.22.183.232) (Ping timeout: 260 seconds)
[00:50:38] *** Quits: ntwk (~ntwk@user/ntwk) (Ping timeout: 260 seconds)
[00:51:07] *** Quits: ss4 (~wootehfoo@user/wootehfoot) (Read error: Connection reset by peer)
[00:51:07] *** Joins: pushqrdx_ (~pushqrdx@156.199.78.28)
[00:52:58] *** Quits: pushqrdx (~pushqrdx@156.207.202.177) (Ping timeout: 260 seconds)
[00:53:17] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 268 seconds)
[00:55:13] *** Joins: Crescendo (~Crescendo@user/crescendo)
[00:55:41] *** Joins: noarb (~noarb@user/noarb)
[00:56:57] *** pushqrdx_ is now known as pushqrdx
[00:58:43] *** Quits: INeedAHandle (~INeedAHan@121.155.99.135) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[01:00:04] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 268 seconds)
[01:01:56] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 268 seconds)
[01:02:21] *** Joins: rcernin (~rcernin@124.190.139.235)
[01:02:51] *** Quits: noarb (~noarb@user/noarb) (Quit: ZNC 1.8.2 - https://znc.in)
[01:03:25] *** Quits: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479) (Quit: see you tomorrow)
[01:03:55] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[01:04:10] *** Joins: w0ng (~w0ng@103.1.212.100)
[01:04:42] *** Joins: ntwk (~ntwk@user/ntwk)
[01:05:09] <knstn> !$'
[01:05:09] <greybot> bash has a special form of quoting, $'string' in which backslash-character combinations are expanded. For example, IFS=$' \t\n' or echo $'It\'s embedded!' http://mywiki.wooledge.org/Quotes
[01:08:25] *** Quits: Guest22 (~Guest22@87.72.105.144) (Quit: Client closed)
[01:10:54] *** Quits: pushqrdx (~pushqrdx@156.199.78.28) (Remote host closed the connection)
[01:14:30] *** Quits: luva (~luva@146.70.62.238) (Ping timeout: 260 seconds)
[01:18:37] *** Joins: noarb (~noarb@user/noarb)
[01:23:17] *** Joins: Crescendo (~Crescendo@user/crescendo)
[01:23:40] *** Joins: pushqrdx (~pushqrdx@156.199.78.28)
[01:24:23] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 264 seconds)
[01:26:44] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[01:27:00] *** Joins: INeedAHandle (~INeedAHan@39.124.72.106)
[01:34:37] *** Quits: timj (~timj@user/timj) (Ping timeout: 268 seconds)
[01:35:22] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[01:36:25] *** Quits: sebastorama (~textual@190.83.56.68) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:38:08] *** Quits: sinhue (~mithrin@188-167-233-152.dynamic.chello.sk) (Quit: Leaving)
[01:38:19] *** Joins: N4buc0- (~N4buc0@2804:7f4:3487:cd22:2d3c:fba6:d65c:53d3)
[01:38:19] *** Quits: N4buc0 (~N4buc0@2804:7f4:3487:cd22:2d3c:fba6:d65c:53d3) (Remote host closed the connection)
[01:40:09] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 268 seconds)
[01:40:56] *** Joins: Crescendo (~Crescendo@user/crescendo)
[01:44:49] *** Joins: N4buc0 (~N4buc0@186.212.203.26)
[01:45:12] *** Quits: N4buc0- (~N4buc0@2804:7f4:3487:cd22:2d3c:fba6:d65c:53d3) (Remote host closed the connection)
[01:46:04] *** Joins: Guest22 (~Guest22@87.72.105.144)
[01:47:47] *** Parts: bytestream (~bytestrea@user/bytestream) (Leaving)
[01:48:16] *** Joins: luva (~luva@45.141.152.52)
[01:48:20] *** Joins: timj (~timj@user/timj)
[01:50:16] *** Quits: goldfish (~goldfish@user/goldfish) (Remote host closed the connection)
[01:52:38] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[01:54:57] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[01:56:39] *** Joins: kj (~kj@kj.aerisnetwork.net)
[01:57:33] *** Joins: rgrinberg (~textual@ip73-183-64-186.ct.co.cr)
[01:57:44] *** Joins: pell33742 (~pelle@ip212-129-4-3.freevpn.me)
[01:58:39] *** Quits: xizhendu_ (~xizhendu@106.38.171.15) (Ping timeout: 268 seconds)
[02:00:10] *** Quits: pelle (~pelle@83-94-28-36-cable.dk.customer.tdc.net) (Ping timeout: 260 seconds)
[02:04:12] *** Quits: Guest344 (~smuxi@86-95-132-61.fixed.kpn.net) (Read error: Connection reset by peer)
[02:04:23] *** Quits: pell33742 (~pelle@ip212-129-4-3.freevpn.me) (Remote host closed the connection)
[02:06:59] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 264 seconds)
[02:08:20] *** Joins: alphasierra (~alphasier@49.36.96.61)
[02:12:03] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[02:12:55] *** Quits: locsmif (~none@user/locsmif) (Ping timeout: 260 seconds)
[02:14:38] *** Joins: locsmif (~none@h31050.upc-h.chello.nl)
[02:15:53] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[02:16:04] *** Joins: jetchisel (jetchisel@user/jetchisel)
[02:16:08] *** Joins: Crescendo (~Crescendo@user/crescendo)
[02:23:08] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[02:27:14] *** Quits: pushqrdx (~pushqrdx@156.199.78.28) (Remote host closed the connection)
[02:28:40] *** Joins: thyriaen (~thyriaen@x4dbf0bd8.dyn.telefonica.de)
[02:35:39] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Ping timeout: 268 seconds)
[02:37:14] *** Quits: loki_val (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[02:37:20] *** Quits: alphasierra (~alphasier@49.36.96.61) (Remote host closed the connection)
[02:37:35] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[02:38:51] *** Quits: dextercd (~dexter@2a02-a450-f25d-1-76d4-35ff-fefe-34c.fixed6.kpn.net) (Quit: WeeChat 3.3)
[02:39:00] *** Quits: thyriaen (~thyriaen@x4dbf0bd8.dyn.telefonica.de) (Quit: Leaving)
[02:39:38] *** Joins: jrofd (~crombie@cpc127052-lewi23-2-0-cust30.2-4.cable.virginm.net)
[02:40:26] *** Quits: CrypticSquared (~CrypticS_@user/crypticsquared) (Quit: Leaving...)
[02:40:52] *** Joins: CrypticSquared (~CrypticS_@user/crypticsquared)
[02:41:57] *** Joins: alphasierra (~alphasier@49.36.96.61)
[02:44:03] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[02:48:36] *** Quits: luva (~luva@45.141.152.52) (Ping timeout: 268 seconds)
[02:49:18] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[02:52:35] *** Joins: ferdna (~ferdna@user/ferdna)
[02:53:40] <itu> x={1..3} ; for i in $(eval echo $x) ; do echo $i ; done     #  that is the solution , which i got somewhere else , FYI ....
[02:54:53] *** Quits: rgrinberg (~textual@ip73-183-64-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:55:30] <itu> ( referring to [14:10:08]  .. ff  )
[02:55:43] *** Quits: alphasierra (~alphasier@49.36.96.61) (Remote host closed the connection)
[02:56:16] <e36freak> gross
[02:57:12] <ormaaj> 🤮
[02:58:58] *** Quits: xx (~xx@user/xx) (Ping timeout: 260 seconds)
[02:59:51] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[03:00:01] *** Joins: igemnace (~ian@user/igemnace)
[03:08:54] *** Joins: Raguile (~Raguile@user/raguile)
[03:10:45] *** Quits: zoe (~zoe@fsf/member/zoe) (Read error: Connection reset by peer)
[03:15:02] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:15:38] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:18:49] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 268 seconds)
[03:18:58] *** Joins: xizhendu_ (~xizhendu@240e:404:8511:3fc3:dadc::30c0)
[03:19:16] *** Joins: Crescendo (~Crescendo@user/crescendo)
[03:19:42] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Read error: Connection reset by peer)
[03:19:58] *** Quits: eblip (~eb0t@90.194.37.155) (Read error: Connection reset by peer)
[03:20:02] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:39] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:21:48] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[03:21:58] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[03:22:11] *** Joins: Crescendo (~Crescendo@user/crescendo)
[03:25:42] *** Joins: eblip (~eb0t@90.202.252.138)
[03:26:46] <LordOfThePings> Hello
[03:27:13] <LordOfThePings> for file in /proc/*/status ; do awk '/VmSwap|Name/{printf $2 " " $3}END{ print ""}' $file; done <- if I wanted to piep this whole output somewhere, how would I do that?
[03:27:35] <LordOfThePings> something like >> to write to a file sure
[03:27:51] <LordOfThePings> But what if I wanted to do somethingl ike |nc termbin.com 9999 . I can't do that inside the loop.
[03:28:11] <nitro_> { for... done; } | ...
[03:28:21] <llua> done >> file
[03:28:22] <LordOfThePings> Oh
[03:28:35] <LordOfThePings> Oh again
[03:29:06] <LordOfThePings> Brilliant. <3
[03:30:47] <ormaaj> for ... done | ...
[03:32:09] <nitro_> ormaaj; nope needs to be grouped; https://www.gnu.org/software/bash/manual/html_node/Command-Grouping.html
[03:32:33] <ormaaj> No.
[03:32:56] <llua> # for c in a b c; do printf '%s\n' "$c"; done | sed q
[03:32:58] <shbot> llua: a
[03:33:01] <LordOfThePings> https://termbin.com/1t96
[03:33:15] <LordOfThePings> I got it sorted thanks
[03:33:25] <ormaaj> Unless i'm missing something.
[03:36:11] <nitro_> running with w/o braces fails on my box, how bout you?
[03:36:32] *** Quits: makara_ (~makara@196.214.171.83) (Ping timeout: 260 seconds)
[03:36:56] <phy1729> nitro_: what exactly are you running and are you sure the shell is bash?
[03:37:11] *** Joins: makara_ (~makara@196.214.171.83)
[03:37:29] <nitro_> GNU bash, version 4.4.12(1)-release (x86_64-pc-linux-gnu)
[03:37:41] *** Joins: makara1 (~makara@196.214.171.83)
[03:37:52] <llua> 4# for c in "$BASH_VERSION" b c; do printf '%s\n' "$c"; done | sed q
[03:37:53] <shbot> llua: 4.4.23(1)-release
[03:38:05] *** Quits: makara (~makara@196.214.171.83) (Ping timeout: 260 seconds)
[03:38:50] <ormaaj> a command group doesn't hurt but it has no extra function as a compound command. Command groups are basically anonymous compound cmds.
[03:39:10] *** Quits: ntwk (~ntwk@user/ntwk) (Ping timeout: 260 seconds)
[03:39:51] <ormaaj> If there were a redirect it could be necessary.
[03:40:58] <nitro_> interesting, his example was outputting multiple lines so maybe thats why it failed locally w/o grouping
[03:41:20] <llua> its not
[03:42:10] *** Quits: locsmif (~none@h31050.upc-h.chello.nl) (Quit: leaving)
[03:42:21] <e36freak> nitro_: no grouping required
[03:42:26] <e36freak> a for loop is a compound command
[03:42:28] <e36freak> so is {
[03:42:34] <e36freak> they can both be treated identically
[03:42:45] <llua> how you manage to break that, is weird
[03:43:22] <nitro_> see, ya say that
[03:43:26] <nitro_> i got it
[03:43:28] <e36freak> ormaaj: i'm not sure how a redirect would require braces either
[03:43:38] <nitro_> i had a ; after done from my example
[03:43:43] <e36freak> that'll do it
[03:44:43] <nitro_> oh syntax, how i loathe thee
[03:44:46] <ormaaj> in general, i mean. Depends on situation.
[03:46:20] <e36freak> LordOfThePings: you can also pipe TO a loop if you want to, just fyi
[03:46:22] <llua> LordOfThePings: if you aren't actually doing something else in the loop, awk can open multiple files
[03:46:28] <e36freak> also that
[03:47:17] <e36freak> awk '/VmSwap|Name/ {printf("%s %s", $2, $3)} ENDFILE {print ""}' /proc/*/status
[03:47:39] <e36freak> also did you want printf there or regular print?
[03:48:55] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[03:49:28] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[03:49:40] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 268 seconds)
[03:50:29] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[03:51:31] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 268 seconds)
[03:51:47] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[03:52:42] *** Quits: StathisA (~StathisA@178-147-155-103.haap.dm.cosmote.net) (Ping timeout: 260 seconds)
[03:53:19] *** Joins: ntwk (~ntwk@user/ntwk)
[03:53:59] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 268 seconds)
[03:54:48] *** Joins: StathisA (~StathisA@178-147-172-246.haap.dm.cosmote.net)
[03:56:27] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Ping timeout: 268 seconds)
[03:58:31] *** Quits: e2 (e2@sponsored.by.bnc4you.xyz) (Quit: Stable ZNC provider #bnc4you)
[03:58:31] *** Quits: az (az@user/azz) (Quit: Stable ZNC by #bnc4you)
[03:59:29] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[04:00:52] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[04:02:05] *** Joins: igemnace (~ian@user/igemnace)
[04:02:12] *** Quits: Guest1884 (~ubuntu@ec2-3-131-133-109.us-east-2.compute.amazonaws.com) (Quit: WeeChat 3.2)
[04:02:15] *** Joins: moonman (~moonman@84.66.238.151)
[04:03:54] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[04:04:27] *** Quits: noarb (~noarb@user/noarb) (Ping timeout: 268 seconds)
[04:06:23] *** Joins: sebastorama (~sebastora@190.83.56.68)
[04:10:41] *** moonman is now known as lunarsie
[04:11:25] *** Joins: noarb (~noarb@user/noarb)
[04:15:01] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[04:16:32] *** Quits: INeedAHandle (~INeedAHan@39.124.72.106) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[04:17:10] *** Joins: Bhavuk (~BTaneja@106.210.184.24)
[04:17:35] *** Quits: TheHermann (~TheHerman@gateway/tor-sasl/thehermann) (Quit: Leaving)
[04:20:16] <leftyfb> string=usb-e-con_Systems_e-con_s_1MP_Monochrome_Camera_0C320F05-video-index0    what's the easiest way to get 0C320F05 from this? I know I can use echo ${string%-video*} to strip away before it, but ${string/#Camera_} doesn't seem to be working for me and not sure how to combine it with the former
[04:20:38] *** Quits: StathisA (~StathisA@178-147-172-246.haap.dm.cosmote.net) (Ping timeout: 260 seconds)
[04:20:39] <leftyfb> s/easiest/cleanest/
[04:21:19] *** Joins: StathisA (~StathisA@178-147-185-148.haap.dm.cosmote.net)
[04:23:02] <leftyfb> ok, it's ${string/#*Camera_}   but not sure how to combine that with ${string%-video*}
[04:23:24] <ormaaj> leftyfb store the intermediate result. BASH_REMATCH is another option.
[04:23:50] <leftyfb> I'm fine with using awk as well
[04:25:21] <ormaaj> "${string##*_}"
[04:26:13] <leftyfb> ormaaj: sorry, I don't follow
[04:27:12] <superboot> leftyfb: The ##*_ removes the beginning of the string up through the last "_".
[04:27:32] <leftyfb> ah, that's good to know
[04:27:50] <leftyfb> still need to strip the last section of it as well though
[04:29:04] <superboot> # string=usb-e-con_Systems_e-con_s_1MP_Monochrome_Camera_0C320F05-video-index0; x=${string##*_}; echo ${x%%-*}
[04:29:06] <shbot> superboot: 0C320F05
[04:29:36] <superboot> leftyfb: This answer uses and intermediat variable, x.
[04:29:58] <leftyfb> ok, so no way to do this with a single manipulation then?
[04:30:34] <superboot> not strait bash, but you can with sed or awk.
[04:30:52] <leftyfb> I'm ok with awk. How would I do both with awk?
[04:31:32] *** gordonfish- is now known as gordonfish
[04:31:35] <leftyfb> I got it down to _0C320F05- by doing -F '[a|v]' but that's just silly :)
[04:31:36] <superboot> leftyfb: You can make a function to do it. getCode() { x="${1##*_}"; echo "${x%%-*}"; }
[04:31:46] *** Quits: humky (~humky@user/humky) (Quit: Leaving)
[04:32:14] <leftyfb> superboot: I'm really trying to get this down to a single call
[04:32:50] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 260 seconds)
[04:33:03] <superboot> leftyfb: What is your -F '[a|v]' using? Awk?
[04:33:09] <leftyfb> yeah
[04:33:18] <leftyfb> not the right way, but got me part of the way
[04:33:37] <leftyfb> I would then have to strip _ and - but again, trying to get this down to a single call
[04:33:39] *** Joins: Bhavuk_ (~BTaneja@106.210.231.134)
[04:33:39] <nitro_> will it always be hex, or is the example just happenstance ?
[04:34:52] <leftyfb> nitro_: I'm not sure. I think so. They're serial numbers of the devices. But so far they look like they are within hex
[04:35:37] *** Quits: Bhavuk (~BTaneja@106.210.184.24) (Read error: Connection reset by peer)
[04:36:08] <superboot> leftyfb: echo string | egrep -o '[0-9A-F]{8}'
[04:37:04] <superboot> Where does the requirement that it be a single call come from? Just curious.
[04:38:02] <leftyfb> superboot: doing this in a loop over ssh for about 7000 devices, each with 2 cameras. Trying to limit the code/calls as much as possible
[04:38:08] <superboot> # egrep -o '[0-9A-F]{8}' <<< 'usb-e-con_Systems_e-con_s_1MP_Monochrome_Camera_0C320F05-video-index0'
[04:38:10] <shbot> superboot: bash: egrep: command not found
[04:38:15] <superboot> That is technically a single call.
[04:38:47] *** Joins: keypusher (keypusher@user/keypusher)
[04:39:15] <superboot> leftyfb: Ah, I see.
[04:39:22] <superboot> leftyfb: Does the egrep solution work for you?
[04:39:49] <leftyfb> Not preferred
[04:40:07] <leftyfb> it's making an assumption I can't guarantee
[04:42:00] <superboot> What can be guaranteed? That it begins after an _ and ends before a -? That isn't unique in the string, consider the _e-.
[04:42:17] <leftyfb> between Camera_ and -video
[04:44:11] <leftyfb> reading a few articles it seems this should work but doesn't echo $string|awk '/Camera_/,/-video/'
[04:44:34] <ormaaj> # string=usb-e-con_Systems_e-con_s_1MP_Monochrome_Camera_0C320F05-video-index; [[ $string =~ .*_([^-]+) ]]; echo "${BASH_REMATCH[1]}"
[04:44:36] <shbot> ormaaj: 0C320F05
[04:45:03] <llua> # awk 'match($0, /[[:xdigit:]]{8}/) { print substr($0, RSTART,RLENGTH) }' <<<usb-e-con_Systems_e-con_s_1MP_Monochrome_Camera_0C320F05-video-index0
[04:45:06] <shbot> llua: 0C320F05
[04:45:27] *** Joins: rgrinberg (~textual@ip73-183-64-186.ct.co.cr)
[04:45:32] <superboot> ormaaj: Nice. I was just in the middle of working out the regex for that one. Thanks.
[04:45:35] <leftyfb> damn those are complicated
[04:45:49] <llua> pretty basic
[04:46:08] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[04:47:14] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[04:47:34] <leftyfb> so that last one is only looking for 8 alpha/num characters in a row?
[04:47:47] <superboot> leftyfb: All of these suggestions are very simmilar, exicution speed wise. If you need more efficiancy, you should look to c/c++. Honestly, in your case, the SSH is going to be the buiggest bottleneck. One vs two bash calls isn't material.
[04:48:12] <superboot> xdigit is hex, iirc.
[04:48:33] <superboot> Yes, it is.
[04:48:34] *** Joins: loganlee (~Thunderbi@user/loganlee)
[04:49:06] *** Quits: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za) (Ping timeout: 260 seconds)
[04:52:04] <hentai> Can $(echo "$n" | sed s/'^.*\./'/) be replaced by a ${n/replaceme/} kind of expansion
[04:52:35] <phy1729> "${n##*.}"
[04:54:42] *** Quits: timj (~timj@user/timj) (Ping timeout: 260 seconds)
[04:55:58] <hentai> Pardon, the code I gave was a non-working draft. Sorry, actually code is $(echo "${i}"|sed s/'\/.*'//)
[04:56:30] <phy1729> describing what you want in English would be easier
[04:56:43] <hentai> For an example of some-thing/something, I want only the first half
[04:56:49] <superboot> hentai: ${i%%/*}
[04:56:50] <phy1729> "${i%%/*}"  I think
[04:56:58] <hentai> Thanks
[04:59:15] *** Quits: superboot (~agentgasm@user/superboot) (Quit: leaving)
[05:00:28] *** Joins: INeedAHandle (~INeedAHan@39.124.72.106)
[05:01:22] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.3)
[05:01:51] *** Joins: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za)
[05:04:14] *** Joins: goldfish (~goldfish@user/goldfish)
[05:05:27] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Read error: No route to host)
[05:05:51] *** Joins: twb (~twb@2403-5804-c6--add.ip6.aussiebb.net)
[05:06:52] <twb> "bash /dev/stdin <tmp.sh x y z" does what I expect, but "bash - <tmp.sh x y z" does not.  Is my memory bad, or did that change in bash 5?
[05:07:30] *** Quits: knstn (~knstn@ppp-94-66-57-119.home.otenet.gr) (Quit: leaving)
[05:07:41] *** Joins: dre__ (~dre@60.229.42.110)
[05:07:52] <twb> Seems like I was misremembering and I should use -s for clarity
[05:09:23] *** Quits: dre_ (~dre@120.156.30.159) (Ping timeout: 246 seconds)
[05:13:31] *** Quits: causaui1 (~causasui@192.241.228.169) (Ping timeout: 268 seconds)
[05:15:53] *** Joins: The_Jag_ (~The_Jag@host-79-52-47-230.retail.telecomitalia.it)
[05:16:31] <ormaaj> -s has some quirks iirc. `bash /dev/fd/*` seems to be most reliable for testing.
[05:16:52] *** Quits: wolfdale (~wolfdale@ec2-3-1-90-26.ap-southeast-1.compute.amazonaws.com) (Read error: Connection reset by peer)
[05:17:04] <twb> thanks
[05:17:11] *** Joins: wolfdale (~wolfdale@ec2-3-1-90-26.ap-southeast-1.compute.amazonaws.com)
[05:17:19] *** Joins: timj (~timj@user/timj)
[05:17:46] <twb> the use case is basically "chroot $target bash -s < payload.sh -- payload-arg1" inside an OS image build script
[05:17:51] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[05:17:59] <twb> So as long as it works there I don't hugely care about portability :P
[05:18:58] *** Quits: The_Jag (~The_Jag@host-79-52-47-230.retail.telecomitalia.it) (Ping timeout: 260 seconds)
[05:19:06] *** Joins: sublim20 (~sublim20@user/sublim20)
[05:19:25] *** Joins: jetchisel (jetchisel@user/jetchisel)
[05:20:04] *** Joins: noarb- (~noarb@user/noarb)
[05:20:19] <ormaaj> Why not pass it the file?
[05:20:55] *** Quits: noarb (~noarb@user/noarb) (Ping timeout: 268 seconds)
[05:22:01] <ormaaj> Guess i've never tried that
[05:25:06] *** Quits: goldfish (~goldfish@user/goldfish) (Ping timeout: 260 seconds)
[05:25:30] *** Quits: sgn (~sgn@user/sgn) (Ping timeout: 260 seconds)
[05:25:55] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[05:25:57] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[05:26:00] *** Joins: sgn (~sgn@user/sgn)
[05:26:20] <twb> "chroot $target bash payload.sh" would read $target/payload.sh not ./payload.sh
[05:26:38] <twb> Doing it this way avoids having to copy the payload.sh into the $target and then remove it after
[05:27:04] *** Quits: lunarsie (~moonman@84.66.238.151) (Remote host closed the connection)
[05:27:09] <twb> (Same for just chroot $target ./payload.sh)
[05:27:31] <llua> with the small vector to break out
[05:28:21] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Read error: Connection reset by peer)
[05:28:32] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[05:29:52] <ormaaj> Chroot manual doesn't bother mentioning what it does with FDs.
[05:29:57] <twb> llua: it's a build script, not a running VM.  I don't care if the script *I* wrote can break out of my own build environment
[05:30:28] <ormaaj> (gnu)
[05:30:30] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:31:31] <ormaaj> # type chroot
[05:31:33] <shbot> ormaaj: bash: type: chroot: not found
[05:34:31] *** Joins: emanuele6 (~emanuele6@net-2-36-98-113.cust.vodafonedsl.it)
[05:34:51] *** Quits: emanuele6 (~emanuele6@net-2-36-98-113.cust.vodafonedsl.it) (Changing host)
[05:34:51] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[05:35:09] *** Joins: vlm (~vlm@user/vlm)
[05:37:11] *** Quits: rgrinberg (~textual@ip73-183-64-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:39:07] *** Quits: jos1 (~jos3@dyndsl-091-096-032-187.ewe-ip-backbone.de) ()
[05:41:11] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[05:41:14] *** Joins: causaui1 (~causasui@192.241.228.169)
[05:41:44] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[05:43:43] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[05:46:07] *** Joins: rgrinberg (~textual@ip73-183-64-186.ct.co.cr)
[05:46:13] *** Quits: causaui1 (~causasui@192.241.228.169) (Ping timeout: 268 seconds)
[05:46:51] <earendel>  # arr=(-avn /source /dest --include '*/' --exclude '*'); echo "${arr[@]/#/--include=}"
[05:47:26] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 268 seconds)
[05:48:22] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[05:51:09] *** Quits: brettgilio (~brettgili@x-node.gq) (Quit: Leaving...)
[05:51:47] *** Joins: brettgilio (~brettgili@x-node.gq)
[05:58:31] *** Joins: causaui1 (~causasui@192.241.228.169)
[05:58:32] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 268 seconds)
[06:01:23] *** Joins: jos1 (~jos3@dyndsl-091-096-032-187.ewe-ip-backbone.de)
[06:03:02] *** Joins: alphasierra (~alphasier@2405:201:e:4d:9f02:dbb3:fb6b:643f)
[06:03:18] *** Quits: causaui1 (~causasui@192.241.228.169) (Ping timeout: 260 seconds)
[06:03:52] *** Quits: alphasierra (~alphasier@2405:201:e:4d:9f02:dbb3:fb6b:643f) (Remote host closed the connection)
[06:04:07] *** Joins: az (az@stable.bnc.by.bnc4you.xyz)
[06:04:31] *** az is now known as Guest5470
[06:06:39] *** Quits: volgrim (~Volgrim@156-155-224-214.ip.internet.co.za) (Remote host closed the connection)
[06:07:37] *** Joins: medard (~mithrin@stip-static-62.213-81-207.telecom.sk)
[06:08:02] *** Quits: dre__ (~dre@60.229.42.110) (Quit: Leaving)
[06:08:20] *** Joins: dre (~dre@2001:8003:c932:c301:bb14:f1af:101c:4c88)
[06:08:24] *** Quits: mithrin (~mithrin@stip-static-62.213-81-207.telecom.sk) (Ping timeout: 268 seconds)
[06:09:22] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 260 seconds)
[06:09:33] *** Joins: sublim20 (~sublim20@user/sublim20)
[06:16:51] *** Joins: akoana (~ah@user/akoana)
[06:19:16] *** Joins: The_Jag (~The_Jag@host-79-33-167-46.retail.telecomitalia.it)
[06:21:58] *** Quits: The_Jag_ (~The_Jag@host-79-52-47-230.retail.telecomitalia.it) (Ping timeout: 268 seconds)
[06:27:35] *** Quits: sublim20 (~sublim20@user/sublim20) (Read error: Connection reset by peer)
[06:28:04] *** Joins: sunyibo (~dorsch@2a04:52c0:101:443::)
[06:30:04] *** Quits: w0ng (~w0ng@103.1.212.100) (Quit: w0ng)
[06:31:10] *** Quits: fatal (~0x00@user/fatal) (Remote host closed the connection)
[06:31:25] *** Joins: fatal (~0x00@user/fatal)
[06:32:24] *** Joins: causaui1 (~causasui@192.241.228.169)
[06:34:59] *** Joins: karakedi (~eAC53C340@user/karakedi)
[06:37:22] *** Quits: causaui1 (~causasui@192.241.228.169) (Ping timeout: 260 seconds)
[06:37:35] *** Joins: damxsa (~damx@2001:16a2:ce33:4e00:3604:f881:a16d:7606)
[06:37:53] <sunyibo> https://github.com/rtorrent-community/rtorrent-docs/blob/master/docs/examples/completion-path.sh Could someone please help me to adapt this script that it works? I have to provide a path somewhere, but I don't know how
[06:38:02] <twb> Can bash talk directly to this?  connect(6, {sa_family=AF_UNIX, sun_path=@"/org/freedesktop/plymouthd"}, 29) = -1 ECONNREFUSED (Connection refused)
[06:39:15] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 268 seconds)
[06:39:15] <twb> There's /dev/tcp but I don't know about AF_UNIX
[06:43:37] *** Joins: igemnace (~ian@user/igemnace)
[06:44:10] *** Joins: e2 (e2@sponsored.by.bnc4you.xyz)
[06:49:48] *** Quits: timj (~timj@user/timj) (Quit: Leaving.)
[06:52:07] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[06:52:30] <llua> no
[06:56:33] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[06:57:17] <akoana> twb: on linux for example you could use ncat (aka netcat or nc) included in the nmap package), it has a -U option for UNIX domain sockets
[06:59:55] <twb> I got it to work with python FWIW
[07:00:07] <twb> http://ix.io/3DMZ
[07:01:25] <akoana> ah yes, python is also an option
[07:01:26] *** Quits: jos1 (~jos3@dyndsl-091-096-032-187.ewe-ip-backbone.de) (Ping timeout: 268 seconds)
[07:06:51] *** Joins: causaui1 (~causasui@192.241.228.169)
[07:12:33] *** Quits: causaui1 (~causasui@192.241.228.169) (Ping timeout: 268 seconds)
[07:14:10] *** Quits: sebastorama (~sebastora@190.83.56.68) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:14:33] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[07:14:33] *** Joins: sebastorama (~sebastora@190.83.56.68)
[07:14:53] *** Joins: jos1 (~jos3@dyndsl-095-033-175-246.ewe-ip-backbone.de)
[07:20:05] *** Joins: seninha (~seninha@user/seninha)
[07:23:38] *** Joins: w0ng (~w0ng@103.1.212.100)
[07:24:16] *** Quits: StathisA (~StathisA@178-147-185-148.haap.dm.cosmote.net) (Ping timeout: 268 seconds)
[07:24:21] *** Joins: StathisA_ (~StathisA@178-147-59-204.haap.nym.cosmote.net)
[07:30:23] *** Quits: twobitsprite (~twobitspr@107.13.51.62) (Ping timeout: 264 seconds)
[07:30:40] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:30:46] *** Quits: sebastorama (~sebastora@190.83.56.68) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:33:50] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 260 seconds)
[07:34:30] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[07:37:47] *** Joins: sebastorama (~sebastora@190.83.56.68)
[07:38:25] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[07:38:34] *** Quits: sebastorama (~sebastora@190.83.56.68) (Client Quit)
[07:40:01] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.2.1)
[07:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:43:08] *** Joins: sebastorama (~sebastora@190.83.56.68)
[07:44:17] *** Quits: sebastorama (~sebastora@190.83.56.68) (Client Quit)
[07:45:51] *** Quits: pycurious (~Adium@user/pycurious) (Quit: Leaving.)
[07:46:14] *** Joins: pycurious (~Adium@user/pycurious)
[07:48:20] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[07:50:38] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 260 seconds)
[07:58:20] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[08:00:07] *** Joins: vishal (~vishal@fedora/vishal)
[08:00:36] *** Joins: sebastorama (~sebastora@190.83.56.68)
[08:01:23] *** Quits: sebastorama (~sebastora@190.83.56.68) (Client Quit)
[08:01:57] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[08:02:04] *** Quits: rgrinberg (~textual@ip73-183-64-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:02:35] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[08:03:09] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[08:06:04] *** Joins: engest (~engest@50.126.101.161)
[08:10:43] *** Joins: zostj (~rue@1-162-47-227.dynamic-ip.hinet.net)
[08:13:22] *** Joins: pycurious (~Adium@user/pycurious)
[08:13:30] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 260 seconds)
[08:13:35] *** Quits: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft) (Ping timeout: 268 seconds)
[08:17:58] *** Quits: somlis (~somlis@user/somlis) (Read error: Connection reset by peer)
[08:19:26] *** Quits: arash (arash@thinks.life.is-a.beauty) (Quit: fBNC - https://bnc4free.com)
[08:20:56] *** Quits: mmercer (daemoen@2605:d100:0:2d:5054:ff:fef0:3953) (Ping timeout: 245 seconds)
[08:21:40] *** Joins: arash (arash@thinks.life.is-a.beauty)
[08:22:56] *** Joins: mmercer (daemoen@2605:d100:0:2d:5054:ff:fef0:3953)
[08:30:02] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[08:31:02] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[08:31:15] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[08:39:29] *** Joins: StathisA (~StathisA@80.107.87.125)
[08:40:10] *** Quits: karakedi (~eAC53C340@user/karakedi) (Remote host closed the connection)
[08:40:43] *** Quits: engest (~engest@50.126.101.161) (Ping timeout: 268 seconds)
[08:42:35] *** Quits: StathisA_ (~StathisA@178-147-59-204.haap.nym.cosmote.net) (Ping timeout: 268 seconds)
[08:46:58] *** Quits: A|an (~Alan@173.216.51.200) (Quit: A|an)
[08:50:06] *** Quits: bugtrial (bugtrial@gateway/vpn/protonvpn/bugtrial) (Ping timeout: 245 seconds)
[09:06:08] *** Joins: sebastorama (~sebastora@190.83.56.68)
[09:08:49] *** Quits: ravan (~ravan@user/ravan) (Remote host closed the connection)
[09:09:02] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 260 seconds)
[09:09:25] *** Quits: sebastorama (~sebastora@190.83.56.68) (Remote host closed the connection)
[09:10:10] *** Joins: causaui1 (~causasui@192.241.228.169)
[09:10:47] *** Joins: analoq (~yashi@user/dies)
[09:14:38] *** Quits: zostj (~rue@1-162-47-227.dynamic-ip.hinet.net) (Ping timeout: 268 seconds)
[09:15:52] *** Quits: causaui1 (~causasui@192.241.228.169) (Ping timeout: 268 seconds)
[09:16:12] *** Joins: zostj (~rue@1-162-47-227.dynamic-ip.hinet.net)
[09:17:43] *** Quits: reset (~reset@user/reset) (Quit: reset)
[09:18:22] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[09:23:10] *** Guest5470 is now known as az
[09:23:24] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[09:23:26] *** Quits: az (az@stable.bnc.by.bnc4you.xyz) (Changing host)
[09:23:26] *** Joins: az (az@user/azz)
[09:23:52] *** Joins: sebastorama (~sebastora@190.83.56.68)
[09:31:22] *** Quits: edlou (uid413273@id-413273.helmsley.irccloud.com) (Quit: Connection closed for inactivity)
[09:34:23] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[09:34:59] *** Quits: damxsa (~damx@2001:16a2:ce33:4e00:3604:f881:a16d:7606) (Ping timeout: 268 seconds)
[09:38:26] *** Quits: carlos (~pum@user/carlos) (Ping timeout: 260 seconds)
[09:38:49] *** Joins: chomwitt (~chomwitt@2a02:587:dc02:9f00:12c3:7bff:fe6d:d374)
[09:56:13] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[10:02:46] *** Quits: sebastorama (~sebastora@190.83.56.68) (Remote host closed the connection)
[10:07:28] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Read error: Connection reset by peer)
[10:08:11] *** Quits: hejux (~hejux@104.224.190.144.16clouds.com) (Quit: WeeChat 3.3)
[10:08:25] *** Joins: hejux (~hejux@104.224.190.144.16clouds.com)
[10:10:38] *** Joins: sinaowolabi (~SinaOwola@102.134.114.1)
[10:10:46] *** Quits: The_Jag (~The_Jag@host-79-33-167-46.retail.telecomitalia.it) (Quit: The_Jag)
[10:13:30] *** Quits: N4buc0 (~N4buc0@186.212.203.26) (Ping timeout: 260 seconds)
[10:24:38] *** Quits: richardm75 (~richardm7@2600:8801:c50a:9f00:9f3:3b40:5fcd:9f08) (Ping timeout: 260 seconds)
[10:29:00] *** Joins: mat001_ (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[10:32:47] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 264 seconds)
[10:32:51] *** Joins: sarantos (~sarantos@2a02:587:3431:f3d7:c8b6:681f:531e:36f)
[10:36:34] *** Joins: jetchisel (jetchisel@user/jetchisel)
[10:36:51] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Remote host closed the connection)
[10:37:08] *** Joins: saki (~saki@gateway/tor-sasl/saki)
[10:57:22] *** Joins: sublim20 (~sublim20@user/sublim20)
[11:01:55] *** Joins: rendar (~rendar@user/rendar)
[11:04:54] *** Quits: nitro_ (~nitro_@c-73-165-183-88.hsd1.pa.comcast.net) (Remote host closed the connection)
[11:05:17] *** Joins: nitro_ (~nitro_@c-73-165-183-88.hsd1.pa.comcast.net)
[11:07:24] *** Quits: Raguile (~Raguile@user/raguile) (Ping timeout: 260 seconds)
[11:09:44] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[11:10:35] *** Quits: chomwitt (~chomwitt@2a02:587:dc02:9f00:12c3:7bff:fe6d:d374) (Ping timeout: 268 seconds)
[11:11:32] *** Quits: nitro_ (~nitro_@c-73-165-183-88.hsd1.pa.comcast.net) (Remote host closed the connection)
[11:11:48] *** Joins: damxsa (~damx@2001:16a2:ce33:4e00:3604:f881:a16d:7606)
[11:12:49] *** Joins: causaui1 (~causasui@192.241.228.169)
[11:16:07] *** Quits: sinaowolabi (~SinaOwola@102.134.114.1) (Ping timeout: 268 seconds)
[11:17:59] *** Quits: causaui1 (~causasui@192.241.228.169) (Ping timeout: 268 seconds)
[11:22:34] *** Joins: tobybl (~tobybl@213.31.135.91)
[11:24:32] *** Joins: Armanzor (~Armanzor@user/armanzor)
[11:25:57] *** Quits: magyar (~magyar@user/magyar) (Read error: Connection reset by peer)
[11:26:56] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[11:29:50] *** Joins: rando25892 (~user@user/rando25892)
[11:29:58] *** Joins: magyar (~magyar@user/magyar)
[11:31:26] *** Quits: ElPresidente (~ElPreside@172-125-150-28.lightspeed.tukrga.sbcglobal.net) (Read error: Connection reset by peer)
[11:33:42] *** Quits: rcernin (~rcernin@124.190.139.235) (Ping timeout: 260 seconds)
[11:34:42] *** Quits: ano (~ano@user/ano) (Ping timeout: 276 seconds)
[11:35:21] *** Joins: ano (~ano@user/ano)
[11:36:47] *** Joins: tobybl_ (~tobybl@213.31.135.91)
[11:38:05] *** Joins: nattiestnate (~nate@2001:448a:20a0:4134:25e:715f:d637:5263)
[11:38:44] *** Joins: n4dir (~user@mue-88-130-57-203.dsl.tropolys.de)
[11:39:33] *** Quits: tobybl (~tobybl@213.31.135.91) (Ping timeout: 268 seconds)
[11:39:46] *** Quits: xizhendu_ (~xizhendu@240e:404:8511:3fc3:dadc::30c0) (Ping timeout: 260 seconds)
[11:42:38] *** Quits: mat001_ (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[11:45:47] *** Joins: chomwitt (~chomwitt@ppp-2-85-245-90.home.otenet.gr)
[11:46:40] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[11:48:43] *** Joins: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk)
[12:02:43] *** Quits: wwilly (~wwilly@217.140.99.251) (Quit: Leaving)
[12:04:30] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 260 seconds)
[12:07:18] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Ping timeout: 260 seconds)
[12:08:31] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[12:13:55] *** Quits: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks) (Remote host closed the connection)
[12:15:23] *** Joins: mei (~mei@user/mei)
[12:17:46] *** Quits: Feuermagier (~Feuermagi@user/feuermagier) (Remote host closed the connection)
[12:19:22] *** Joins: mohabaks (~mohabaks@gateway/tor-sasl/mohabaks)
[12:26:02] *** Quits: moto (~moto@user/moto) (Ping timeout: 260 seconds)
[12:26:11] *** Joins: moto (~moto@user/moto)
[12:27:59] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[12:28:53] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 268 seconds)
[12:28:54] *** Joins: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it)
[12:29:42] *** Joins: extern (~archer@141.226.62.146)
[12:30:09] *** Quits: csobot[m] (~csobotenv@2001:470:69fc:105::1:990) (Quit: You have been kicked for being idle)
[12:32:06] *** Joins: GuiToris (~GuiToris@user/guitoris)
[12:33:53] *** Quits: b_jonas (~x@catv-176-63-4-98.catv.broadband.hu) (Quit: leaving)
[12:34:22] <GuiToris> hello, if I'd like to run an application (qsynth) only if it's not already running, is this the right command to do so? [[ $(pgrep qsynth) -eq false ]] && qsynth &
[12:34:48] <emanuele6> no
[12:35:35] *** Quits: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:35:42] <lopid> ｢pgrep qsynth || qsynth &｣ unless there's a better way of asking it if it's already running (pid file, etc)
[12:35:54] <emanuele6> that basically will check in a weird what if the pid returned by `pgrep' is 0
[12:36:17] <emanuele6> s/what/way/
[12:37:13] <GuiToris> lopid, are these ｢｣ meant to be [] ?
[12:37:19] <emanuele6> no
[12:37:31] <lopid> no i'm just quoting the command
[12:37:56] <lopid> if you do want to use pgrep, -x might be good to use with it
[12:38:12] <emanuele6> either `pgrep -x qsynth' or `pidof qsynxt' depending on what you have available
[12:38:50] <GuiToris> thank you, both seem to be available, I'll choose pgrep this time
[12:38:53] <GuiToris> thanks again :)
[12:38:59] <emanuele6> and you probably want to group `qsynth &' in {}
[12:39:14] <emanuele6> otherwise bash will fork for no reason all the time
[12:39:40] <GuiToris> oh, that's a good idea ideed
[12:39:41] <emanuele6> pgrep -x qsynth || { qsynth & }
[12:41:21] *** Joins: pycurious (~Adium@user/pycurious)
[12:41:42] <emanuele6> you can use > /dev/null to make pgrep not print the pid to stdout since you don't need it
[12:41:51] <emanuele6> pgrep -x qsynth > /dev/null || { qsynth & }
[12:42:11] <GuiToris> you are reading my mind, that's what I was trying to figure out!
[12:42:27] <emanuele6> if you use pidof you can simply pass -q:   pidof -q qsynth || { qsynth & }
[12:43:16] <GuiToris> it seems to be a better alternative then, thank you!
[12:43:34] *** Joins: earnestly (~earnest@user/earnestly)
[12:44:18] <Riviera> !pm
[12:44:18] <greybot> http://mywiki.wooledge.org/ProcessManagement
[12:46:02] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 260 seconds)
[12:48:25] *** Quits: pikapika (~pikapika_@pika.powered.by.lunarbnc.net) (Quit: Free ZNC ~ Powered by LunarBNC: https://LunarBNC.net)
[12:49:14] *** Joins: pikapika (~pikapika_@pika.powered.by.lunarbnc.net)
[12:51:22] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Read error: Connection reset by peer)
[12:56:32] *** Quits: n4dir (~user@mue-88-130-57-203.dsl.tropolys.de) (Remote host closed the connection)
[12:56:38] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[12:56:48] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[12:57:22] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Read error: Connection reset by peer)
[12:57:42] <rendar> https://bpa.st/XO7Q -- apparently this code that has been suggested here to me yesterday, doesn't work: it seems that `if` checks error in the wrong way, since if i print "$?" as you can see there, it is 0, so losetup hasn't returned any error! how come?
[12:57:42] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[12:58:25] <Soliton> it works fine. just $? is not what you hope it to be.
[12:58:33] <rendar> huh?
[12:58:40] <Soliton> # ! (exit 42); echo $?
[12:58:42] <shbot> Soliton: 0
[12:58:52] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Read error: Connection reset by peer)
[12:59:06] <Soliton> if you want to use $? then switch the then and else around.
[12:59:08] *** Joins: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is)
[13:01:29] <rendar> Soliton, i don't want to use the $?, i just want that `if` goes to the correct branch, with that code i get that `if` goes to the error branch even if losetup returned successfully
[13:01:43] <emanuele6> it is going in the correct branch
[13:01:45] <rendar> i have launched the same exact losetup command, and it returns correctly and successfully
[13:01:59] <emanuele6> # if ! false; then echo then; else echo else; fi
[13:02:02] <shbot> emanuele6: then
[13:02:13] <rendar> https://bpa.st/NCBQ
[13:02:48] *** Quits: mei (~mei@user/mei) (Ping timeout: 268 seconds)
[13:03:00] *** Joins: xizhendu_ (~xizhendu@36.112.193.88)
[13:03:12] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[13:03:12] <emanuele6> $? is the result of the last command, not the exit status of the last command
[13:03:54] <Soliton> did you see that $? was 0 above?
[13:03:58] <emanuele6> the result of the negation of any non-zero result is always 0 as Soliton showed
[13:04:28] <Soliton> stop using ! if you don't want the exit status if that.
[13:04:41] *** Joins: shad (~shad@user/shad)
[13:04:52] <emanuele6> if you really want to see the exit status of losetup in that context for debugging purposes, you could use $PIPESTATUS instead of $?
[13:04:53] <rendar> `if ! command ...; then...` this is the standard way to go to an error branch, since a process returns exit code  == 0 in the case of success
[13:04:56] *** Joins: pycurious (~Adium@user/pycurious)
[13:05:23] <emanuele6> $? is not the exit code of the last command :|
[13:05:29] <Soliton> the logic works fine but $? is the result of ! cmd not cmd.
[13:05:42] <rendar> ok, that is fine
[13:05:48] <Soliton> !next
[13:05:48] <greybot> Another satisfied customer! Next please!
[13:05:52] <rendar> but i'm telling you that losetup don't fail
[13:06:09] <emanuele6> # ! (exit 42); echo "\$?=$?   \$PIPESTATUS=$PIPESTATUS"
[13:06:11] <shbot> emanuele6: $?=0   $PIPESTATUS=42
[13:06:17] <rendar> so i cannot get why it goes into the error branch
[13:06:17] <emanuele6> # ! (exit 0); echo "\$?=$?   \$PIPESTATUS=$PIPESTATUS"
[13:06:20] <shbot> emanuele6: $?=1   $PIPESTATUS=0
[13:06:28] <Soliton> well, if losetup doesn't give you a useful exit status then you need to work around that.
[13:07:36] <Soliton> no clue what exactly doesn't work like you want. you just showed some error messages. one as it seems from your error branch.
[13:07:49] <rendar> ok ok, i'll debug more, thanks for help
[13:08:11] <Soliton> who knows what "failed to set up loop device: Success" means.
[13:09:13] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[13:09:42] <rendar> it's strange, indeed
[13:09:47] <rendar> i will do more tests with losetup
[13:11:27] <emanuele6> > so i cannot get why it goes into the error branch
[13:11:40] <emanuele6> the exit code of losetup must be non-zero
[13:12:02] <emanuele6> use $PIPESTATUS to check what it is and then check if the documentation says what that exit code means
[13:12:46] *** Quits: Bhavuk_ (~BTaneja@106.210.231.134) (Quit: Leaving)
[13:13:06] *** Quits: webmariner (~james@cpc95914-rdng25-2-0-cust148.15-3.cable.virginm.net) (Ping timeout: 260 seconds)
[13:13:44] <Soliton> since there is an else case i'd just switch that around so you don't need !.
[13:14:07] <emanuele6> i would just remove the if then else to be honest
[13:14:12] *** Joins: Night-Shade (~Tim@2a00:23c4:fe82:900:ccd0:9b32:586a:24d4)
[13:14:13] <emanuele6> and use `|| {'
[13:14:26] <emanuele6> since there is an `exit' in the negative branch
[13:14:34] <Soliton> or with a die function, sure.
[13:14:40] *** Joins: causaui1 (~causasui@192.241.228.169)
[13:16:41] *** Joins: Mo (~Mo@dynamic-077-003-114-043.77.3.pool.telefonica.de)
[13:17:19] <emanuele6> # (exit 42) || { echo "fail: $?"; exit 1 ;}; echo success
[13:17:21] <shbot> emanuele6: fail: 42
[13:17:21] <shbot> emanuele6: logout
[13:17:21] <shbot> emanuele6: (shell exited with 1)
[13:17:51] <emanuele6> # if ! (exit 42); then echo "fail: $?"; exit 1; else echo success; fi
[13:17:53] <shbot> emanuele6: fail: 0
[13:17:53] <shbot> emanuele6: logout
[13:17:53] <shbot> emanuele6: (shell exited with 1)
[13:18:16] <emanuele6> # if (exit 42); then echo success; else echo "fail: $?"; exit 1; fi
[13:18:18] <shbot> emanuele6: fail: 42
[13:18:18] <shbot> emanuele6: logout
[13:18:18] <shbot> emanuele6: (shell exited with 1)
[13:19:27] *** Quits: causaui1 (~causasui@192.241.228.169) (Ping timeout: 268 seconds)
[13:19:53] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[13:20:25] *** Joins: nobody-readonly (~nobody-re@2002:25c1:ac1d:1:8c49:40d8:a27a:2806)
[13:20:43] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[13:21:19] *** Quits: xizhendu_ (~xizhendu@36.112.193.88) (Ping timeout: 268 seconds)
[13:22:26] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[13:22:37] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[13:24:30] *** Quits: stevensaus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Read error: Connection reset by peer)
[13:29:08] *** Quits: nobody-readonly (~nobody-re@2002:25c1:ac1d:1:8c49:40d8:a27a:2806) (Remote host closed the connection)
[13:30:10] *** Joins: stevensaus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[13:30:59] <rendar> emanuele6, yes, that's clear by now
[13:31:13] <rendar> i didn't know $PIPESTATUS
[13:31:20] *** Joins: nobody-readonly (~nobody-re@2002:25c1:ac1d:1:80f6:31b:baa8:b6e3)
[13:31:26] <emanuele6> that is not it's main use though
[13:31:32] <emanuele6> i would not use it like that
[13:31:34] <rendar> what is its main use?
[13:31:49] *** Quits: nobody-readonly (~nobody-re@2002:25c1:ac1d:1:80f6:31b:baa8:b6e3) (Remote host closed the connection)
[13:31:56] <emanuele6> checking the exit code of an individual command in a pipeline
[13:32:06] <emanuele6> # true | false | true | false; declare -p PIPESTATUS
[13:32:08] <shbot> emanuele6: declare -a PIPESTATUS=([0]="0" [1]="1" [2]="0" [3]="1")
[13:32:13] <emanuele6> # true | false | exit 3 | false; declare -p PIPESTATUS
[13:32:13] *** Quits: stevensaus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Read error: Connection reset by peer)
[13:32:14] <shbot> emanuele6: declare -a PIPESTATUS=([0]="0" [1]="1" [2]="3" [3]="1")
[13:32:18] <emanuele6> PIPESTATUS is an array
[13:32:43] <emanuele6> !PIPESTATUS
[13:32:44] <greybot> Bash has a PIPESTATUS array which contains all the return codes of all the commands from the most recent pipeline. sh doesn't, but see http://pipestatus.sf.net
[13:33:25] <rendar> i see, interesting
[13:33:37] <rendar> so you can see who failed in a pipeline
[13:34:07] *** Joins: nobody-readonly (~nobody-re@2002:25c1:ac1d:1:80f6:31b:baa8:b6e3)
[13:34:16] *** Quits: situ_ (~situ@ip-89-176-145-74.net.upcbroadband.cz) (Ping timeout: 268 seconds)
[13:34:21] *** Quits: nobody-readonly (~nobody-re@2002:25c1:ac1d:1:80f6:31b:baa8:b6e3) (Remote host closed the connection)
[13:35:09] *** Joins: nobody-readonly (~nobody-re@2002:25c1:ac1d:1:80f6:31b:baa8:b6e3)
[13:35:11] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[13:37:11] *** Quits: nobody-readonly (~nobody-re@2002:25c1:ac1d:1:80f6:31b:baa8:b6e3) (Remote host closed the connection)
[13:37:50] *** Quits: unmanbearpig (~unmanbear@user/unmanbearpig) (Ping timeout: 260 seconds)
[13:38:22] *** Joins: stevensaus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[13:39:25] *** Quits: sunny93 (~sunny93@wireguard/tunneler/sunny93) (Remote host closed the connection)
[13:39:39] *** Joins: sunny93 (~sunny93@wireguard/tunneler/sunny93)
[13:39:54] *** Joins: unmanbearpig (~unmanbear@user/unmanbearpig)
[13:40:51] *** Quits: GuiToris (~GuiToris@user/guitoris) (Remote host closed the connection)
[13:41:58] *** Joins: Gerula_ (~Gerula@user/gerula)
[13:41:58] *** Gerula is now known as Guest8712
[13:41:58] *** Gerula_ is now known as Gerula
[13:42:58] *** Joins: situ_ (situ@nat-pool-brq-t.redhat.com)
[13:43:31] *** Quits: Guest8712 (~Gerula@user/gerula) (Ping timeout: 268 seconds)
[13:45:46] *** Quits: noarb- (~noarb@user/noarb) (Ping timeout: 260 seconds)
[13:46:35] *** Joins: Gerula_ (~Gerula@user/gerula)
[13:46:35] *** Gerula is now known as Guest3687
[13:46:35] *** Gerula_ is now known as Gerula
[13:47:12] *** Joins: noarb (~noarb@user/noarb)
[13:47:50] *** Quits: Guest3687 (~Gerula@user/gerula) (Ping timeout: 268 seconds)
[13:50:43] *** Quits: stevensaus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Read error: Connection reset by peer)
[13:50:44] *** Joins: arinov (~arinov@178.240.160.150)
[13:51:06] *** Joins: stevensaus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[13:51:31] *** Joins: somlis (~somlis@user/somlis)
[13:51:45] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Read error: Connection reset by peer)
[13:55:20] *** Quits: przemoc (~przemoc@user/przemoc) (Ping timeout: 260 seconds)
[13:55:47] *** Joins: zeraphel (~daddy@2a00:a040:196:56d:96de:80ff:fefa:44a)
[13:56:20] *** Joins: alzgh (~alzgh@user/alzgh)
[13:56:48] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[14:00:10] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[14:01:01] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[14:08:47] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 268 seconds)
[14:11:16] *** Quits: extern (~archer@141.226.62.146) (Ping timeout: 268 seconds)
[14:11:54] *** Quits: stevensaus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Read error: Connection reset by peer)
[14:12:17] *** Joins: stevensaus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[14:14:35] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[14:15:34] *** Joins: alphasierra (~alphasier@2405:201:e:4d:9f02:dbb3:fb6b:643f)
[14:16:36] *** Quits: stevensaus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com) (Read error: Connection reset by peer)
[14:16:58] *** Joins: furrymcgee (~devuan@cgn-213-196-210-222.nc.de)
[14:18:53] *** Joins: awktest (~awktest@l37-193-172-29.novotelecom.ru)
[14:19:43] *** Quits: awktest (~awktest@l37-193-172-29.novotelecom.ru) (Remote host closed the connection)
[14:20:36] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[14:22:03] *** Joins: awktest (~awktest@l37-193-172-29.novotelecom.ru)
[14:22:29] *** Joins: stevensaus (~steven_sa@cpe-74-131-36-220.kya.res.rr.com)
[14:22:34] *** Quits: awktest (~awktest@l37-193-172-29.novotelecom.ru) (Remote host closed the connection)
[14:22:53] *** Joins: pycurious (~Adium@user/pycurious)
[14:23:06] *** Quits: arinov (~arinov@178.240.160.150) (Ping timeout: 260 seconds)
[14:25:47] *** Quits: alphasierra (~alphasier@2405:201:e:4d:9f02:dbb3:fb6b:643f) (Remote host closed the connection)
[14:26:13] *** Joins: alphasierra (~alphasier@2405:201:e:4d:9f02:dbb3:fb6b:643f)
[14:27:07] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:8d4b:a05b:14db:fa09)
[14:27:07] *** Joins: timj (~timj@user/timj)
[14:29:12] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[14:29:32] *** Joins: alzgh (~alzgh@user/alzgh)
[14:31:25] <hejux> > echo yes
[14:31:34] <hejux> # echo test
[14:31:36] <shbot> hejux: test
[14:32:02] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 260 seconds)
[14:32:38] <hejux> # [[ someword = ?*word$ ]] ; echo yes
[14:32:40] <shbot> hejux: yes
[14:32:49] <hejux> # [[ word = ?*word$ ]] ; echo yes
[14:32:50] <shbot> hejux: yes
[14:32:52] *** Quits: terrorjack (~terrorjac@static.3.200.12.49.clients.your-server.de) (Quit: The Lounge - https://thelounge.chat)
[14:33:11] <hejux> # [[ word = ?*word$ ]] &&  echo yes
[14:33:12] <shbot> hejux: no output
[14:33:20] <hejux> # [[ someword = ?*word$ ]] && echo yes
[14:33:22] <shbot> hejux: no output
[14:33:37] <Soliton> # [[ someword = ?*word ]] && echo yes
[14:33:38] <shbot> Soliton: yes
[14:33:41] *** Quits: fatal (~0x00@user/fatal) (Remote host closed the connection)
[14:33:58] *** Joins: fatal (~0x00@user/fatal)
[14:34:05] *** Joins: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1)
[14:34:08] <hejux> [[ somewords = ?*word ]] && echo yes
[14:34:34] <hejux> Soliton: $ is useless?
[14:34:46] <hejux> how to wirte this in '=~' way
[14:35:01] *** Quits: sarantos (~sarantos@2a02:587:3431:f3d7:c8b6:681f:531e:36f) (Quit: Client closed)
[14:35:14] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:8d4b:a05b:14db:fa09) (Quit: WeeChat 3.3)
[14:36:06] <hejux> # [[ someword =~ .*word$ ]] && echo yes
[14:36:08] <shbot> hejux: yes
[14:36:24] <hejux> # [[ somewords =~ .*word$ ]] && echo yes
[14:36:26] <shbot> hejux: no output
[14:36:41] <hejux> # [[ word =~ .*word$ ]] && echo yes
[14:36:43] <shbot> hejux: yes
[14:36:47] <hejux> wtf ...
[14:37:01] *** Joins: pycurious (~Adium@user/pycurious)
[14:37:16] <hejux> does '.' stands for at least one character?
[14:37:24] *** Quits: alphasierra (~alphasier@2405:201:e:4d:9f02:dbb3:fb6b:643f) (Quit: Leaving)
[14:37:49] *** Joins: sarantos (~sarantos@2a02:587:3431:f3d7:c8b6:681f:531e:36f)
[14:38:02] <jetchisel> It does
[14:38:24] <jetchisel> man 7 regex
[14:38:29] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[14:38:49] *** Joins: alzgh (~alzgh@user/alzgh)
[14:40:46] *** Joins: legola (~legola@46.235.101.181)
[14:41:02] <hejux> jetchisel: then why  word =~ .*word$ ?
[14:41:17] <jetchisel> why what?
[14:41:46] *** Quits: pycurious (~Adium@user/pycurious) (Ping timeout: 260 seconds)
[14:42:02] <hejux> # [[ "word" =~ .*word$ ]] && echo yes
[14:42:05] <shbot> hejux: yes
[14:42:10] <hejux> # [[ "word" =~ ".*word$" ]] && echo yes
[14:42:12] <shbot> hejux: no output
[14:42:12] <djph> jetchisel: he's asking why "word" matches ".*word$"
[14:42:25] <hejux> # [[ "word" =~ "word$" ]] && echo yes
[14:42:26] <shbot> hejux: no output
[14:42:41] <emanuele6> hejux: .+word$
[14:42:45] *** Joins: pycurious (~Adium@user/pycurious)
[14:42:57] <hejux> # [[ "word" =~ ".+word$" ]] && echo yes
[14:42:57] <emanuele6> that is the ERE equivalent of ?*word$
[14:43:00] <shbot> hejux: no output
[14:43:04] <emanuele6> don't quote it!
[14:43:07] <hejux> # [[ "sword" =~ ".+word$" ]] && echo yes
[14:43:08] <shbot> hejux: no output
[14:43:12] <emanuele6> don't quote it!
[14:43:17] <hejux> ok
[14:43:17] <jetchisel> :-)
[14:43:23] <hejux> # [[ "sword" =~ .+word$ ]] && echo yes
[14:43:23] <emanuele6> # [[ "word" =~ .+word$ ]] && echo yes
[14:43:26] <shbot> hejux: yes
[14:43:26] <shbot> emanuele6: no output
[14:43:30] <emanuele6> see?
[14:43:39] <hejux> never quote?
[14:43:46] <emanuele6> quoting a patter is equivalent to a literal match
[14:43:50] <jetchisel> # set -x; [[ "sword" =~ ".+word$" ]]
[14:43:51] <emanuele6> # [[ ".+word$" =~ .+word$ ]] && echo yes
[14:43:52] <hejux> ok i see.
[14:43:55] <shbot> jetchisel: + [[ sword =~ \.\+word\$ ]]
[14:43:55] <shbot> emanuele6: no output
[14:43:55] <jetchisel> hejux: ^
[14:44:01] <hejux> got it
[14:44:03] <emanuele6> # [[ ".+word$" =~ ".+word$" ]] && echo yes
[14:44:05] <shbot> emanuele6: yes
[14:44:48] <djph> I assume it's the caveat
[14:45:03] <djph> "An atom followed by * matches 0 or more instances of that atom"
[14:45:16] <jetchisel> djph: yep
[14:45:49] <djph> ugh, that took far too long to wrap my head around
[14:46:20] <jetchisel> !=~ > hejux
[14:46:20] <greybot> hejux: The =~ operator of [[ evaluates the left hand string against the right hand ERE (see <ere>, <regex>). After a successful match, the BASH_REMATCH array contains the matched string and subexpressions (if any). Any quoted characters in the ERE become literal. Best to put the whole ERE in a variable: [[ $string =~ $regex ]]
[14:47:37] <hejux> !=
[14:47:37] <greybot> To assign to a variable, use varname=value . Do not include spaces around the '=', and do not write $varname on the left hand side.
[14:48:33] <hejux> should i quote [[ "" = "" ]] ?
[14:48:41] <emanuele6> it depends
[14:48:58] <hejux> if it has .?*$
[14:49:15] <emanuele6> why `.?*$'?
[14:49:28] <hejux> iirc, '' is different than ""
[14:50:02] <hejux> ususally "" expand stuff inside while  '' does not
[14:50:10] <emanuele6> if lhs is a literal and has spaces, quote
[14:50:23] <emanuele6> same for rhs
[14:50:32] <emanuele6> if rhs is a pattern, don't quote
[14:50:46] <emanuele6> if rhs is a substitution that should be interpreted literally, quote
[14:51:19] *** Joins: arinov (~arinov@213.194.126.155)
[14:51:21] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 268 seconds)
[14:51:21] <emanuele6> !rhs
[14:51:21] <greybot> # var="[a-z]"; [[ $var = $var ]] || echo "this is false, and why you should quote the RHS of = in [[ ]]"
[14:51:24] <shbot> greybot: this is false, and why you should quote the RHS of = in [[ ]]
[14:52:10] <emanuele6> # var="[a-z]"; [[ $var = "$var" ]] && echo this is true
[14:52:12] <shbot> emanuele6: this is true
[14:52:28] *** Joins: Crescendo (~Crescendo@user/crescendo)
[14:52:43] *** Joins: dustfinger (~user@d75-159-231-192.abhsia.telus.net)
[14:53:35] <dustfinger> env FOO=BAR echo $FOO echos a blank line. What am I doing wrong?
[14:54:06] <dustfinger> I want to set a temporary environment variable before running a command. I am using echo to test that I am using env correctly.
[14:54:12] <emanuele6> i don't remember the factoid
[14:54:21] <osse> dustfinger: $FOO is expanded before env is run
[14:54:27] <emanuele6> anyway, env doesn't run the command in a shell
[14:54:44] <emanuele6> and $FOO is expanded before it is passed to env
[14:54:51] <osse> env FOO=BAR sh -c 'echo $FOO'
[14:54:58] <dustfinger> ahhh, thank you.
[14:55:03] <rendar> `sudo mkdir` from user creates a directory owned by root, is this normal?
[14:55:25] *** Quits: cebor (~cebor@user/cebor) (Quit: bye!)
[14:55:41] <emanuele6> `sudo mkdir` makes root run `mkdir` so yes
[14:55:44] <jetchisel> that is what sudo is for?
[14:55:58] *** Joins: cebor (~cebor@user/cebor)
[14:56:11] *** Quits: cebor (~cebor@user/cebor) (Remote host closed the connection)
[14:56:29] <rendar> jetchisel, well, shouldn't sudo run commands without modifying the current user stuff? e.g. $HOME directory, and so on?
[14:56:54] <emanuele6> no.
[14:57:10] <emanuele6> try     sudo sh -c 'echo "$HOME"'
[14:57:16] *** Joins: cebor (~cebor@user/cebor)
[14:57:25] <rendar> $  sudo echo $HOME      /home/rendar
[14:57:28] <rendar> you're wrong.
[14:57:33] <emanuele6> ........
[14:57:38] <jetchisel> \0/
[14:58:04] <jetchisel> Too much sudo, :-)
[14:58:37] <rendar> the point is, i'm not running `sudo sh -c 'mkdir ...'` but i'm running `sudo mkdir ...`
[14:58:51] <emanuele6> ....................................................................
[14:58:58] <rendar> in the latter case $HOME is not affected, so i thought also user weren't
[14:59:26] <osse> the sh -c is needed to make sure $HOME is not expanded before sudo is run, just as dustfinger's problem
[14:59:41] <rendar> look https://bpa.st/NYNQ
[14:59:55] <rendar> osse, but i don't use sh -c
[15:00:02] <rendar> osse i just use `sudo mkdir ...`
[15:00:12] <osse> it is only relevant for showing the value of $HOME
[15:00:15] <emanuele6> now try the same but with whoami
[15:00:31] <jetchisel> Use sudo when needed, not just sudo this, sudo that, sudo coffee, sudo banana.. :-)
[15:00:38] <rendar> emanuele6, yes right
[15:00:57] <rendar> emanuele6, i was just trying to explain my doubt, because $HOME and $USER don't change
[15:01:05] <emanuele6> THEY DO
[15:01:12] <emanuele6> try with env
[15:01:13] <rendar> look https://bpa.st/NYNQ
[15:01:32] <osse> look there yourself, it is changed
[15:01:35] <rendar> `sudo echo $USER` prints 'rendar'
[15:01:42] <emanuele6> THAT IS BEING EXPANDED BEFORE PASSING TO SUDO
[15:01:49] <rendar> oh damn, sorry
[15:01:52] <rendar> ok ok
[15:02:14] <rendar> my bad, sorry guys, didn't recognize that
[15:03:02] <emanuele6> it's exactly the problem we explained the other user less than one minute before you asked..
[15:03:26] *** Joins: ferdna (~ferdna@user/ferdna)
[15:03:32] *** Joins: xx (~xx@user/xx)
[15:03:40] <jetchisel> rendar: Remember variable expands before any commands is executed.
[15:03:47] <rendar> jetchisel, yes of course
[15:03:59] <rendar> now the error is clear, thanks
[15:04:14] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 260 seconds)
[15:05:23] <rendar> one thing, let's say i use `sudo mkdir` to create a directory, what is the proper method to reown that directory to the current user (without sudo?) e.g.: `sudo chown $USER.what? /dir?`
[15:06:17] <hejux> [[ "someword" =~ ".+word$" ]] && echo yes ; in this case how to ignore CASE on the .+word$ ?
[15:06:36] <emanuele6> you can't
[15:06:47] <hejux> [[ "someword" =~ .+word$ ]] , i mean this
[15:07:02] <emanuele6> .+[Ww][Oo][Rr][Dd]$
[15:07:08] <hejux> sho
[15:07:13] <emanuele6> using a regex for this is stupid anyway
[15:07:14] <hejux> shit
[15:07:16] *** Joins: mei (~mei@user/mei)
[15:07:22] *** Quits: ferdna (~ferdna@user/ferdna) (Remote host closed the connection)
[15:07:30] <emanuele6> just use ?
[15:07:33] <emanuele6> err
[15:07:38] <emanuele6> just use ?*word
[15:07:44] <hejux> if not using  =~ is there a simple way to ignore case
[15:08:13] *** Joins: ferdna (~ferdna@user/ferdna)
[15:08:23] <emanuele6> bash has no control on the implementation of =~ EREs and =~ is slower than == because it has to set BASH_REMATCH
[15:09:02] <emanuele6> there is no reason to use =~ over == unless you need to describe a pattern that regular globs can't describe or you want to use BASH_REMATCH
[15:09:35] <hejux> ok if i use word = ?*word, is the a way to ignore case
[15:09:45] <emanuele6> hejux: there is a setting to match case insesitively
[15:09:53] <emanuele6> but it's better to just lowercase lhs
[15:10:03] <emanuele6> [[ ${lhs,,} == ?*word ]]
[15:10:21] <emanuele6> # lhs=SoMeWorD; [[ ${lhs,,} == ?*word ]] && echo true
[15:10:22] <shbot> emanuele6: true
[15:10:31] <hejux> nice!
[15:13:06] *** Quits: OlCe (~user@lfbn-nic-1-394-237.w90-116.abo.wanadoo.fr) (Remote host closed the connection)
[15:19:53] <ormaaj> # grep -Eo '.{3}$' <<<'seems a bit iﬀy'
[15:19:54] <shbot> ormaaj: y
[15:22:56] *** Joins: xizhendu_ (~xizhendu@240e:305:7380:4300:d47:48bf:97c5:2de9)
[15:25:48] *** Joins: karakedi (~eAC53C340@user/karakedi)
[15:26:56] *** Quits: medard (~mithrin@stip-static-62.213-81-207.telecom.sk) (Read error: Connection reset by peer)
[15:27:11] *** Joins: medard (~mithrin@stip-static-62.213-81-207.telecom.sk)
[15:27:43] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 268 seconds)
[15:32:09] *** Joins: Crescendo (~Crescendo@user/crescendo)
[15:33:53] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 268 seconds)
[15:34:09] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[15:34:20] *** Joins: Crescendo (~Crescendo@user/crescendo)
[15:34:40] *** Joins: keypusher (~keypusher@user/keypusher)
[15:35:35] <emanuele6> ...$      .\{3\}$
[15:35:36] <emanuele6> :)
[15:37:26] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[15:37:45] <Soliton> # grep -Eo '.{3}$' <<<'seems a bit iﬀy' | sed -n l
[15:37:47] *** Joins: alzgh (~alzgh@user/alzgh)
[15:37:47] <shbot> Soliton: \254\200y$
[15:38:13] *** Joins: keypushe- (keypusher@user/keypusher)
[15:38:49] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 268 seconds)
[15:39:10] *** Quits: keypusher (~keypusher@user/keypusher) (Ping timeout: 260 seconds)
[15:39:39] *** Joins: Crescendo (~Crescendo@user/crescendo)
[15:41:26] *** keypushe- is now known as keypusher
[15:41:46] <emanuele6> # [[ 'seems a bit iﬀy' =~ .{3}$ ]] && declare -p BASH_REMATCH
[15:41:48] <shbot> emanuele6: declare -a BASH_REMATCH=([0]=$'\254\200y')
[15:42:18] <emanuele6> on my local bash i get  `declare -a BASH_REMATCH=([0]="iﬀy")'
[15:42:40] <emanuele6> ah, probably because shbot is using the C locale
[15:43:00] <emanuele6> yeah, i get     declare -a BASH_REMATCH=([0]=$'\254\200y')    with LANG=C
[15:44:01] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[15:44:13] *** Joins: webmariner (~james@cpc95914-rdng25-2-0-cust148.15-3.cable.virginm.net)
[15:45:43] <emanuele6> it also affect ${var:${#var}-3}
[15:45:54] <emanuele6> # var='seems a bit iﬀy'; x=${var:${#var}-3}; echo "${x@Q}"
[15:45:55] <shbot> emanuele6: $'\254\200y'
[15:46:13] <emanuele6> # LANG=en_US.UTF_8; var='seems a bit iﬀy'; x=${var:${#var}-3}; echo "${x@Q}"
[15:46:15] <shbot> emanuele6: 'iﬀy'
[15:46:34] <ormaaj> # "$(type -P head)" -c 1000 /dev/urandom | tee >(LC_CTYPE=C wc -cm >&3) | LC_CTYPE=en_US.UTF-8 wc -cm; } 3>&1
[15:46:36] <shbot> ormaaj: bash: syntax error near unexpected token `}'
[15:47:06] <emanuele6> missing a {
[15:47:14] <ormaaj> oh
[15:48:09] <ormaaj> # { "$(type -P head)" -c 1000 /dev/urandom | tee >(LC_CTYPE=C wc -cm >&3) | LC_CTYPE=en_US.UTF-8 wc -cm; } 3>&1
[15:48:12] <shbot> ormaaj:    1000    1000
[15:48:12] <shbot> ormaaj:     539    1000
[15:49:12] <ormaaj> heh on my android i get same results for both
[15:49:19] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 268 seconds)
[15:49:26] <emanuele6> try: LC_CTYPE=en_US.UTF_8
[15:49:41] <Soliton> a bit confusing that wc does not care for the order of options.
[15:54:59] *** Quits: webmariner (~james@cpc95914-rdng25-2-0-cust148.15-3.cable.virginm.net) (Ping timeout: 264 seconds)
[15:55:27] *** Joins: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479)
[15:55:29] <emanuele6> mmm, it seems that POSIX wc is only required to display either -c or -m output
[15:55:45] <emanuele6> it is not required to show both at the same time
[15:55:47] <emanuele6> odd
[15:56:06] <emanuele6> wc [-c|-m] [-lw] [file...]
[15:56:54] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 260 seconds)
[15:57:13] <Soliton> presumably there is an existing implementation that just shows one or the other then.
[16:08:08] *** Joins: CaCode (~CaCode@user/cacode)
[16:09:05] *** Joins: phao (~phao@2804:d45:8e7a:de00:307f:5c37:711f:6342)
[16:09:38] *** Joins: webmariner (~james@cpc95914-rdng25-2-0-cust148.15-3.cable.virginm.net)
[16:12:40] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[16:15:36] *** Quits: phao (~phao@2804:d45:8e7a:de00:307f:5c37:711f:6342) (Quit: Leaving)
[16:18:51] *** Joins: causaui1 (~causasui@192.241.228.169)
[16:19:44] *** Quits: webmariner (~james@cpc95914-rdng25-2-0-cust148.15-3.cable.virginm.net) (Read error: Connection reset by peer)
[16:19:46] *** Quits: situ_ (situ@nat-pool-brq-t.redhat.com) (Ping timeout: 260 seconds)
[16:19:55] *** Quits: deltab (~deltab@user/deltab) (Ping timeout: 260 seconds)
[16:20:06] *** Joins: webmariner (~james@cpc95914-rdng25-2-0-cust148.15-3.cable.virginm.net)
[16:23:16] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[16:23:50] *** Quits: causaui1 (~causasui@192.241.228.169) (Ping timeout: 268 seconds)
[16:24:27] *** Quits: mei (~mei@user/mei) (Ping timeout: 268 seconds)
[16:26:50] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[16:28:09] *** Quits: DeaDSouL (~DeaDSouL@45.130.136.10) (Ping timeout: 268 seconds)
[16:28:34] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[16:29:49] *** Joins: DeaDSouL (~DeaDSouL@45.91.20.198)
[16:31:22] *** Joins: deltab (~deltab@user/deltab)
[16:33:44] *** Joins: situ_ (~situ@ip-89-176-145-74.net.upcbroadband.cz)
[16:34:50] *** Joins: tuskkk____ (uid18470@id-18470.tinside.irccloud.com)
[16:34:54] *** Quits: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[16:35:17] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[16:35:25] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:35b5:6b52:836c:5a7)
[16:35:25] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:35b5:6b52:836c:5a7) (Changing host)
[16:35:25] *** Joins: skapata (~Skapata@user/skapata)
[16:36:13] *** Joins: drewlander (~drewlande@173-80-249-48.bklycmtk03.res.dyn.suddenlink.net)
[16:36:15] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[16:37:58] *** Quits: webmariner (~james@cpc95914-rdng25-2-0-cust148.15-3.cable.virginm.net) (Ping timeout: 260 seconds)
[16:40:05] *** Joins: seninha (~seninha@user/seninha)
[16:44:33] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.3)
[16:44:56] *** Joins: zodd (~zodd@84-106-80-107.cable.dynamic.v4.ziggo.nl)
[16:47:21] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Ping timeout: 276 seconds)
[16:47:39] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[16:47:49] *** Quits: rando25892 (~user@user/rando25892) (Excess Flood)
[16:48:07] *** Joins: rando25892 (~user@c-98-240-233-64.hsd1.mn.comcast.net)
[16:48:07] *** Quits: rando25892 (~user@c-98-240-233-64.hsd1.mn.comcast.net) (Changing host)
[16:48:07] *** Joins: rando25892 (~user@user/rando25892)
[16:48:30] *** Quits: iomari891 (~iomari891@105.112.138.38) (Ping timeout: 268 seconds)
[16:50:11] *** Quits: rando25892 (~user@user/rando25892) (Max SendQ exceeded)
[16:55:42] *** Joins: webmariner (~james@cpc95914-rdng25-2-0-cust148.15-3.cable.virginm.net)
[16:57:23] *** Quits: chomwitt (~chomwitt@ppp-2-85-245-90.home.otenet.gr) (Ping timeout: 264 seconds)
[17:00:47] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:04:05] *** Quits: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479) (Remote host closed the connection)
[17:04:37] *** Joins: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479)
[17:06:45] *** Joins: engest (~engest@50.39.227.149)
[17:08:29] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[17:08:57] *** Quits: wigums (~wigums@user/wigums) (Ping timeout: 268 seconds)
[17:09:19] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[17:13:29] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:16:00] *** Joins: han-solo (~hanish@178.248.115.25)
[17:16:04] *** Parts: han-solo (~hanish@178.248.115.25) ()
[17:16:14] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[17:16:14] *** Joins: han-solo (~hanish@user/han-solo)
[17:18:06] *** Quits: webmariner (~james@cpc95914-rdng25-2-0-cust148.15-3.cable.virginm.net) (Ping timeout: 260 seconds)
[17:19:23] *** Quits: irrgit (~irrgit@192.241.175.183) (Quit: Leaving)
[17:20:28] *** Joins: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it)
[17:21:05] *** Joins: cdown_ (~cdown@89.32.122.5)
[17:21:29] *** Quits: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it) (Client Quit)
[17:21:48] *** Joins: drd (~drd@93-42-69-115.ip85.fastwebnet.it)
[17:22:10] *** Joins: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it)
[17:22:20] *** Quits: smlavine (~smlavine@sourcehut/user/smlavine) (Quit: nyaa~)
[17:23:05] *** Joins: cdown__ (~cdown@163.114.131.1)
[17:23:51] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 245 seconds)
[17:23:51] *** cdown__ is now known as cdown
[17:24:02] *** Joins: irrgit (~irrgit@192.241.175.183)
[17:26:44] *** Quits: cdown_ (~cdown@89.32.122.5) (Ping timeout: 268 seconds)
[17:26:47] *** Quits: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it) (Client Quit)
[17:27:18] *** Quits: legola (~legola@46.235.101.181) (Remote host closed the connection)
[17:27:57] *** Joins: pa (~smuxi@86-95-132-61.fixed.kpn.net)
[17:28:48] *** Joins: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it)
[17:28:53] *** Joins: causaui1 (~causasui@192.241.228.169)
[17:29:59] *** Quits: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it) (Client Quit)
[17:30:41] *** Joins: iomari891 (~iomari891@105.112.138.38)
[17:31:22] <pa> i have a line that works: echo "wireless.radio1=wifi-device" | grep -o -P '(?<=\.).*(?=\=)' but the mechine im trying to run it on has not -P and no packages for the gnu version of grep.. it does have -E but not sure how to convict it... im trying to grab the "radio1" part.. anyone
[17:32:48] *** Quits: ted-ious (tedious@bitcoinshell.mooo.com) (Ping timeout: 260 seconds)
[17:33:29] <Soliton> why use echo|grep at all? or is it not really echo?
[17:33:54] <osse> # echo "wireless.radio1=wifi-device" | sed 's/.*\.\(.*\)=.*/\1/'
[17:33:56] <shbot> osse: radio1
[17:34:23] <Soliton> perhaps rather [^=] instead of .
[17:34:28] *** Joins: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it)
[17:34:37] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[17:34:39] *** Joins: sebastorama (~sebastora@190.83.56.68)
[17:34:56] <osse> I had that at first, but that doesn't match what grep does (I think?)
[17:34:57] <Soliton> though i guess the pcre didn't care either.
[17:35:20] <osse> can be done with IFS magic too, I suppose
[17:35:21] <Soliton> yeah, i assume that is the intention though but who knows.
[17:35:46] *** Joins: BSaboia (~bsaboia@177.37.198.98)
[17:36:56] *** Quits: han-solo (~hanish@user/han-solo) (Killed (NickServ (GHOST command used by hanish!~hanish@103.104.47.9)))
[17:37:09] *** Joins: han-solo (~hanish@user/han-solo)
[17:38:08] <dostoyevsky2> I see this line in my ~/.bashrc: `export crt=24' but no idea where this `crt' variable is being used... google found no hits either
[17:40:15] <geirha> environment variables should not be lowercase anyway. Remove it and see if anything breaks
[17:40:17] <selckin> don't think thats something commonly used, so must be for something you made or some wierd app you use, grep the rest of your scripts and delete it i guess
[17:40:18] *** Quits: causaui1 (~causasui@192.241.228.169) (Ping timeout: 268 seconds)
[17:42:15] *** Joins: causaui1 (~causasui@192.241.228.169)
[17:44:15] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[17:45:23] *** Joins: luva (~luva@37.120.197.46)
[17:45:28] <zodd> I wrote a bash hook script for dehydrated (acme/letsencrypt-client) which has issues in lines 15-25: https://paste.debian.net/1218061/
[17:45:59] <zodd> the cp lines give an error about missing destination as spaces get squashed somehow. But also: mkdir: cannot create directory ‘/var/lib/turn/certs’: Read-only file system
[17:46:27] <geirha> yeah, you messed up the quoting
[17:46:48] <zodd> the fs is writable by the user, but the DOMAIN variable is ignored, but when I enable the echo it prints the correct string
[17:47:02] <geirha> you want  cp "$srcvars" "$destvars"  not  cp "$srcvars $destvars"
[17:47:11] <Soliton> !caps
[17:47:11] <greybot> By convention, environment variables (PATH, EDITOR, SHELL, ...) and internal shell variables (BASH_VERSION, RANDOM, ...) are fully capitalized. All other variable names should be lowercase. Since variable names are case-sensitive, this convention avoids accidentally overriding environmental and internal variables. https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap08.html
[17:47:18] *** Joins: legola (~legola@46.235.101.181)
[17:47:18] <geirha> Also, lowercase the ... nevermind
[17:47:51] *** Joins: superboot (~agentgasm@user/superboot)
[17:47:51] <Soliton> the mkdir command looks fine though.
[17:48:09] <geirha> but the chown has the same problem as cp
[17:48:27] *** Joins: mongy (~mongy@user/mongy)
[17:48:33] <zodd> yes. that errors too, but complains about the command option
[17:48:51] <Soliton> well, fix the quoting and see what errors remain.
[17:48:59] *** Joins: Csm319_ (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[17:49:03] <pa> Soliton: what do you mean with not a real echo?
[17:49:04] <Soliton> and perhaps add some error handling...
[17:49:15] <geirha> Also, add set -x at the start of your function, and set +x at the end to see what's going on
[17:49:30] <pa> osse: thank you.. works like a charm..
[17:49:42] <Soliton> pa: i asked if it's really echo.
[17:49:57] <Soliton> because echo | grep is non-sense.
[17:50:10] <geirha> zodd: it's also a bit pointless to put -r on a cp that copies only a single file
[17:50:19] <zodd> true
[17:51:13] *** Joins: LiftLeft (~LiftLeft@gateway/vpn/pia/liftleft)
[17:52:38] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 260 seconds)
[17:53:16] *** Joins: AquaL1te_ (~AquaL1te@user/aqual1te)
[17:53:53] <zodd> I adapted the script to something I had before to fix the quoting (I hope). But I get the same errors/issues. https://paste.debian.net/1218066/
[17:54:10] *** Joins: dawg (dirtydawg@triton.blinkenshell.org)
[17:54:23] <pa> Soliton: ah i it alot (i learned it from online examples) :-( .. could you tell my why its wrong?
[17:54:30] <geirha> now the function is correct, but you fail to quote properly when running the function
[17:54:32] <Soliton> if mkdir complains then you need to fix that. not much to do with bash.
[17:55:04] <geirha> copy_cert "$domain" "$keyfile" ...  not   copy_cert $domain $keyfile ...
[17:55:51] *** Joins: me-sudoer-dentne (~me-sudoer@2405:204:508f:c2a8:54aa:497c:4a9a:d063)
[17:55:54] <Soliton> pa: i have still no idea if you're really using echo or what.
[17:56:39] <Soliton> if you use echo "$var" | grep ... or something then you would use parameter expansion instead.
[17:57:24] <Soliton> # var=wireless.radio1=wifi-device var=${var#*.} var=${var%=*}; echo "$var"
[17:57:26] <shbot> Soliton: radio1
[17:59:25] *** Quits: CaCode (~CaCode@user/cacode) (Ping timeout: 268 seconds)
[18:00:04] *** Joins: edlou (uid413273@id-413273.helmsley.irccloud.com)
[18:00:09] <pa> Soliton: well now i use osse solution... but in general have the string echoed to grep i definitely something i normaly would use.. or example couple of line about i do: field_cound=`echo "$var" | grep -o "\." | wc -l` ... so ya echo to grep im used to doing that.. not sure why it wrong and what would be the better way to do it...
[18:00:12] <zodd> geirha, but why does the echo work correctly?
[18:00:28] <pa> Soliton: oh see you mean no need of pipe in that case...
[18:01:01] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[18:01:28] <emanuele6> grep -o is not portable though
[18:01:53] <geirha> zodd: which echo? and echo is a terrible tool for testing anything
[18:01:57] <geirha> use set -x
[18:01:59] <geirha> !-x
[18:01:59] <greybot> set -x (or ''bash -x myscript'') makes bash output the exact command that it will run after parsing and expansion. You can put ''set -x'' just before the code you want to debug (turn off with ''set +x''). To add more information, change PS4 first: eg. PS4='+($?) $BASH_SOURCE:$FUNCNAME:$LINENO:'
[18:02:01] <lopid> potatoble
[18:02:38] <Soliton> whatever you're parsing there there is surely a better way than echo|grep|wc.
[18:03:19] <Soliton> but i guess you're parsing a config file which is questionable to begin with... and we're really far away from shell scripting.
[18:03:49] *** Joins: arinov (~arinov@213.194.126.155)
[18:05:23] <emanuele6> potable
[18:06:39] <llua> !learn grep-o grep-o() ( pat=${1?no pattern given}; shift; awk -v "pat=$pat" 'match($0, pat) { print substr($0, RSTART,RLENGTH) }' "$@" )
[18:06:39] <greybot> grep-o is already defined: similar functionality to GNU grep -o with bash and POSIX AWK: https://github.com/e36freak/ogrep
[18:06:44] <llua> rip
[18:07:04] <llua> oh he fancy fancy
[18:07:20] *** Joins: kj (~kj@beta.aerisnetwork.net)
[18:07:21] <pa> Soliton: ya true.. im trying to make a backup script for my router.. the router makes heavy use of a config tool.. but this tool is giving my nightmares.. very unpredictable output.. the general backup script works, but im now trying to patch all the whole left by the config tool..
[18:07:33] <emanuele6> oegrep
[18:07:34] <pa> anyway.. all thanks for the help..
[18:07:55] <geirha> øgrep
[18:11:43] <koollman> damn. where was that PS4 tooltip for the last ... 20 years or so :/
[18:11:48] <emanuele6> llua: that wouldn't work for   field_cound=`echo "$var" | grep -o "\." | wc -l`    though
[18:11:57] <koollman> at least I continue to learn new stuff :)
[18:13:01] *** Joins: benjwadams (~benjwadam@96.238.4.28)
[18:13:47] <emanuele6> # grep-o() ( pat=${1?no pattern given}; shift; awk -v "pat=$pat" 'match($0, pat) { print substr($0, RSTART,RLENGTH) }' "$@" ); grep-o x <<< xx | sed 's,^,grep-o: ,'; grep -o x <<< xx | sed 's,^,grep -o: ,'
[18:13:49] <shbot> emanuele6: grep-o: x
[18:13:49] <shbot> emanuele6: grep -o: x
[18:13:49] <shbot> emanuele6: grep -o: x
[18:14:05] *** Quits: wwallace (~afernande@63.240.73.102) (Quit: Konversation terminated!)
[18:16:38] <emanuele6> # awk -v "pat=$pat" '{ s = $0; while (match(s, pat)) {  print substr(s,RSTART,RLENGTH); s = substr(s,RSTART+RLENGTH) } }' <<< xaxox
[18:16:46] <shbot> emanuele6: no output within the time limit
[18:17:20] <emanuele6> oh, i forgot to set pat
[18:17:36] <emanuele6> # pat=xa; awk -v "pat=$pat" '{ s = $0; while (match(s, pat)) {  print substr(s,RSTART,RLENGTH); s = substr(s,RSTART+RLENGTH) } }' <<< xaxoxaxoxxa
[18:17:37] <shbot> emanuele6: xa
[18:17:37] <shbot> emanuele6: xa
[18:17:37] <shbot> emanuele6: xa
[18:19:39] <tangy> is there a faq on bash-completion?
[18:19:43] <emanuele6> # pat=x[ab]{1,2}; awk -v "pat=$pat" '{ s = $0; while (match(s, pat)) {  print substr(s,RSTART,RLENGTH); s = substr(s,RSTART+RLENGTH) } }' <<< xbaxaxxxbba
[18:19:45] <shbot> emanuele6: xba
[18:19:45] <shbot> emanuele6: xa
[18:19:45] <shbot> emanuele6: xbb
[18:20:23] <emanuele6> tangy: bash-completion is not a collection of bash completion scripts and their official IRC channel is on oftc.net iirc
[18:20:27] <emanuele6> err
[18:20:34] <emanuele6> s/not /
[18:20:35] *** Quits: me-sudoer-dentne (~me-sudoer@2405:204:508f:c2a8:54aa:497c:4a9a:d063) (Quit: Leaving)
[18:21:06] <tangy> okay, ty
[18:21:22] <emanuele6> !completion4
[18:21:23] <greybot> For additional information about programmable tab-completion, try #bash-completion in OFTC (irc.oftc.net) or see <http://web.archive.org/web/20200809170112/https://debian-administration.org/article/316/An_introduction_to_bash_completion_part_1>
[18:21:23] *** Joins: richardm75 (~richardm7@2600:8801:c50a:9f00:5840:6185:ab8c:d575)
[18:22:44] <geirha> remind me never to go there
[18:22:56] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Remote host closed the connection)
[18:23:31] <tangy> that bad, huh?
[18:23:53] <zodd> weird. The cp (space between source and destination is removed) and mkdir (read only fs?!?) still fail
[18:24:09] <emanuele6> tangy: a good part of bash-complition's functions are not great
[18:24:17] <geirha> it's a collection of code written by many different people with differing code quality. Some is ok-ish, some is bad
[18:25:19] <tangy> oh, alright. I'd set LC_ALL to readonly and broke some completion thing. hm, maybe i'll just remove the rpm.....
[18:25:32] <tangy> til
[18:25:42] <geirha> well, don't use readonly
[18:25:48] *** Quits: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479) (Quit: brb)
[18:25:49] *** Quits: azidhaka (~azidhaka@user/azidhaka) (Quit: azidhaka)
[18:26:13] <tangy> problem solved
[18:26:16] *** Joins: tech_exorcist (~tech_exor@user/tech-exorcist/x-0447479)
[18:26:39] <geirha> then again, the completion script could probably have sufficed with setting LC_CTYPE or LC_COLLATE instead
[18:26:52] <geirha> s/script/function
[18:28:08] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[18:28:20] <geirha> but readonly is nothing like const or final or whatever in other languages; it transcends scopes, keeping the readonly attribute even when making the variable local to a function
[18:28:43] <geirha> which makes it mostly useless for the purposes people normally use it for
[18:28:56] <emanuele6> !readonly
[18:28:56] <greybot> Variables marked readonly (declare -r) are intended to be used with a restricted shell, to stop you from trivially changing PATH to escape the restrictions (etc.). They were never intended to be widely used in scripts. If you try, you will see odd results (-r at a global scope is passed down to local scopes).
[18:28:56] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[18:29:38] <emanuele6> # readonly x=2 ; f () { local x=3; echo "$x" ;} f
[18:29:40] <shbot> emanuele6: bash: syntax error near unexpected token `f'
[18:29:44] <emanuele6> # readonly x=2 ; f () { local x=3; echo "$x" ;}; f
[18:29:46] <shbot> emanuele6: bash: local: x: readonly variable
[18:29:46] <shbot> emanuele6: 2
[18:30:01] <emanuele6> # readonly x=2 ; (x=3; echo "$x")
[18:30:04] <shbot> emanuele6: bash: x: readonly variable
[18:30:25] *** Joins: wigums (~wigums@user/wigums)
[18:30:49] <emanuele6> # readonly x=2 ; x=3 some_command
[18:30:51] <shbot> emanuele6: bash: x: readonly variable
[18:30:51] <shbot> emanuele6: bash: some_command: command not found
[18:31:02] *** Joins: n4dir (~user@mue-88-130-57-203.dsl.tropolys.de)
[18:31:03] <emanuele6> # readonly x=2 ; x=3 env | grep '^x='
[18:31:05] <shbot> emanuele6: bash: x: readonly variable
[18:31:25] <emanuele6> and the worst of all
[18:31:45] *** Quits: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca) (Read error: Connection reset by peer)
[18:31:50] <emanuele6> # x=2; f () { local -r x=3; echo "$x" ;}; f; echo "$x"
[18:31:52] <shbot> emanuele6: 3
[18:31:52] <shbot> emanuele6: 2
[18:32:12] *** Joins: vmeson (~rmacleod@198-48-226-187.cpe.pppoe.ca)
[18:32:22] <emanuele6> ah, i remembered it different
[18:32:23] <emanuele6> nevermind
[18:32:46] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[18:32:52] <emanuele6> at least a local readonly does not set readonly globally
[18:33:09] <geirha> It should, if only to seal the deal
[18:33:59] * tangy sounds like darth vader
[18:34:21] <geirha> # x=2; f () { readonly x=3; echo "$x" ;}; f; echo "$x"; x=4
[18:34:22] <shbot> geirha: 3
[18:34:22] <shbot> geirha: 3
[18:34:22] <shbot> geirha: bash: x: readonly variable
[18:36:41] *** Quits: The_Jag (~The_Jag@host-62-110-17-18.business.telecomitalia.it) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:37:54] *** Quits: damxsa (~damx@2001:16a2:ce33:4e00:3604:f881:a16d:7606) (Ping timeout: 260 seconds)
[18:40:08] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Ping timeout: 268 seconds)
[18:40:18] *** Quits: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net) (Ping timeout: 260 seconds)
[18:40:29] *** Joins: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com)
[18:43:20] *** Quits: NickMirage (~NickMirag@user/nickmirage) (Quit: -)
[18:43:40] *** Joins: NickMirage (~NickMirag@user/nickmirage)
[18:45:05] *** Joins: irc_user (uid423822@id-423822.lymington.irccloud.com)
[18:45:54] *** Joins: lalitmee (~lalitmee@42.106.36.190)
[18:46:18] *** Quits: Night-Shade (~Tim@2a00:23c4:fe82:900:ccd0:9b32:586a:24d4) (Ping timeout: 268 seconds)
[18:48:02] *** Joins: azidhaka (~azidhaka@user/azidhaka)
[18:50:12] *** Quits: sarantos (~sarantos@2a02:587:3431:f3d7:c8b6:681f:531e:36f) (Quit: Client closed)
[18:52:49] *** Quits: vicecea (~vicecea@gateway/vpn/pia/vicecea) (Remote host closed the connection)
[18:53:01] *** Quits: azidhaka (~azidhaka@user/azidhaka) (Quit: azidhaka)
[18:54:09] *** Joins: vicecea (~vicecea@gateway/vpn/pia/vicecea)
[18:56:50] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Read error: Connection reset by peer)
[18:57:07] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[18:59:13] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[19:00:12] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[19:01:19] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[19:02:47] *** Joins: thyriaen (~thyriaen@dynamic-078-055-251-028.78.55.pool.telefonica.de)
[19:03:36] *** Joins: xizhendu__ (~xizhendu@106.38.171.15)
[19:04:10] *** Quits: Mo (~Mo@dynamic-077-003-114-043.77.3.pool.telefonica.de) (Ping timeout: 268 seconds)
[19:04:36] *** Quits: tuskkk____ (uid18470@id-18470.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[19:04:38] *** Quits: xizhendu__ (~xizhendu@106.38.171.15) (Remote host closed the connection)
[19:05:21] *** Joins: xizhendu__ (~xizhendu@106.38.171.15)
[19:05:51] *** Joins: TomyWork (~TomyLobo@p200300e80f06af0024de406b2d054407.dip0.t-ipconnect.de)
[19:06:08] *** Quits: xizhendu__ (~xizhendu@106.38.171.15) (Remote host closed the connection)
[19:06:22] *** Quits: xizhendu_ (~xizhendu@240e:305:7380:4300:d47:48bf:97c5:2de9) (Ping timeout: 260 seconds)
[19:06:30] *** Joins: GNUHacker (~gnu@fsf/member/GNUHacker)
[19:07:05] *** Joins: jonthesnow (~xizhendu@106.38.171.15)
[19:08:15] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Read error: Connection reset by peer)
[19:08:32] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[19:09:58] *** Quits: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net) (Read error: Connection reset by peer)
[19:10:15] *** Joins: raffaele_ (~raffaele@ip-80-113-98-4.ip.prioritytelecom.net)
[19:10:41] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[19:11:23] *** Joins: Inline (~Inline@2a02:908:1252:7a80:edec:c289:e267:dbb7)
[19:11:35] *** Quits: sebastorama (~sebastora@190.83.56.68) (Read error: Connection reset by peer)
[19:12:46] *** Joins: ChmEarl (~chmearl@user/chmearl)
[19:13:19] *** Quits: mtk (~mtk@2601:185:200:72:44aa:53fe:886b:bee9) (Remote host closed the connection)
[19:13:32] <hejux> .i know i can add stuff to an array by  array+=( stuff ) ; but can i add stuff to a VAR?
[19:14:30] <phy1729> # foo='hello'; foo+=' world'; declare -p foo
[19:14:32] <shbot> phy1729: declare -- foo="hello world"
[19:15:21] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[19:15:31] *** Joins: mtk (~mtk@2601:185:200:72:44aa:53fe:886b:bee9)
[19:15:40] *** Joins: sebastorama (~sebastora@190.83.56.68)
[19:16:14] <hejux> a space
[19:16:16] <hejux> thanks!
[19:18:46] *** Joins: knstn (~knstn@ppp-94-66-57-119.home.otenet.gr)
[19:19:01] *** Quits: n4dir (~user@mue-88-130-57-203.dsl.tropolys.de) (Remote host closed the connection)
[19:20:27] *** Joins: reset (~reset@user/reset)
[19:20:34] *** Joins: nitro_ (~nitro_@c-73-165-183-88.hsd1.pa.comcast.net)
[19:26:18] <hejux> https://paste.rs/hAV
[19:26:26] <hejux> i really want this msg to be array
[19:26:53] *** Joins: Night-Shade (~Tim@2a00:23c4:fe82:900:f56b:1bda:23be:bcee)
[19:27:15] <hejux> because if it a string, the fist line of file will not be displayed in new line
[19:27:26] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[19:27:56] <phy1729> it just magically changes behavior if a file with that name exists?
[19:28:09] <phy1729> echo la >the
[19:28:36] <hejux> oh right...
[19:28:47] <hejux> this is another problem
[19:29:10] <hejux> see, i want this program to output what i type as well as from '-' and from a file
[19:29:15] *** wigums is now known as FartMan
[19:29:47] <Soliton> msg="$(hostname -s) :"
[19:30:09] <Soliton> msg+="$(cat)"
[19:30:16] <phy1729> while read -r line; do printf '%s%s\n' "$prefix" "$line"; done
[19:30:45] <hejux> yes, i want every message include a hostname and then new line ...
[19:30:52] <Soliton> where does the prefix come from?
[19:31:03] <Soliton> $() removes trailing newlines.
[19:31:28] <Soliton> msg="$(hostname -s) :"$'\n'
[19:31:33] *** FartMan is now known as CaptBeetusMan
[19:32:47] *** Quits: timj (~timj@user/timj) (Ping timeout: 264 seconds)
[19:33:50] *** Joins: frostwork (~frostwork@user/frostwork)
[19:35:10] <emanuele6> [[ -r $i ]] will be true if $i is a readable directory
[19:35:21] <hejux> oh god ...
[19:35:59] <emanuele6> [[ -f $i && -r $i ]]
[19:36:38] <emanuele6> or just: content=$(< "$i") && msg+=$content
[19:36:44] *** Quits: frostwork (~frostwork@user/frostwork) (Client Quit)
[19:37:39] <emanuele6> or: if content=$(< "$i"); then msg+=$content; else msg+=$i; fi
[19:37:43] <hejux> test.sh hello world yes ss
[19:37:48] <hejux> helloworldyesss
[19:37:53] <hejux> what the heck
[19:38:52] *** Quits: thyriaen (~thyriaen@dynamic-078-055-251-028.78.55.pool.telefonica.de) (Quit: Leaving)
[19:38:52] <Soliton> are the arguments strings or files?
[19:38:59] <hejux> string
[19:39:14] <hejux> right, i need a space ..
[19:39:40] <Soliton> so if you give it a string that happens to be a file you get the file content?
[19:39:45] <hejux> but no, it will display a space before " hello"
[19:39:58] <Soliton> sounds like an odd design.
[19:40:02] <hejux> Soliton: yes. that is a problem
[19:40:38] <Soliton> implement an option that decides if the arguments are strings or files.
[19:40:43] <hejux> the whole idea was wrong.. i'm gonna give up
[19:40:47] <Soliton> unless there is a reason to mix them.
[19:41:38] <hejux> i think it is just easier to do cat file | test.sh
[19:41:46] <Soliton> since you accept stdin there is not much reason for files anyway... indeed
[19:41:47] <hejux> no need test.sh to read from a file
[19:42:08] <Soliton> you'd use cat for multiple files anyway.
[19:42:31] <Soliton> so if you just want each line with a prefix do as phy1729 said.
[19:42:33] *** Joins: chomwitt (~chomwitt@2a02:587:dc02:9f00:12c3:7bff:fe6d:d374)
[19:43:08] <hejux> a prefix for a file?
[19:43:27] <Soliton> the hostname or whatever.
[19:44:34] <Soliton> prefix=$(hostname -s); while IFS= read -r line; do printf '%s :\n%s\n' "$prefix" "$line"; done
[19:46:00] <Soliton> for arguments: for line in "$@"; do printf '%s :\n%s\n' "$prefix" "$line"; done
[19:47:58] *** Joins: timj (~timj@user/timj)
[19:48:36] *** Quits: legola (~legola@46.235.101.181) (Remote host closed the connection)
[19:49:18] *** Quits: et (~et@user/et) (Ping timeout: 260 seconds)
[19:49:35] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[19:51:22] *** Quits: BSaboia (~bsaboia@177.37.198.98) (Quit: This computer has gone to sleep)
[19:55:56] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[19:56:12] <hejux> how about this MESSAGE="$(hostname -s) :
[19:56:14] <hejux> $*"
[19:56:16] <hejux> fi
[19:56:22] *** Joins: cm315 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[19:56:23] <hejux> $(printf '%s\n%s\n' "$(hostname -s) :" "$(cat)")
[19:56:33] *** Joins: odoood (~odoood@2601:c8:c003:a550::3)
[19:56:35] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 268 seconds)
[19:57:12] *** CaptBeetusMan is now known as wigums
[19:57:22] <Soliton> so do you want a prefix for every line or before some block of text?
[19:57:33] <hejux> just before, not every line
[19:57:44] <hejux> so i know where is the message from.
[19:57:46] <hejux> that is all
[19:59:03] *** Quits: Csm319_ (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 268 seconds)
[19:59:04] <hejux> for file : $(printf '%s\n%s\n' "$(hostname -s) :" "$(cat)") ; for args: $(printf '%s\n%s\n' "$(hostname -s) :" "$*")
[19:59:28] <Soliton> why is this in a command substitution?
[19:59:39] <Soliton> the trailing newline is useless then.
[19:59:49] <hejux> MESSAGE=$(printf '%s\n%s\n' "$(hostname -s) :" "$*")
[19:59:52] *** Joins: mat001 (~mat001@c-71-202-208-251.hsd1.ca.comcast.net)
[19:59:56] <hejux> ok
[20:00:08] <hejux> so '%s\n%s'
[20:01:09] <Soliton> just leave the prefix out of it and use printf in the end.
[20:01:27] <Soliton> the prefix is the same anyway.
[20:02:19] <hejux> host=$(hostname -s) ; $(printf '%s\n%s' "$host :" "$(cat)")
[20:03:09] <hejux> lgty?
[20:04:33] <Soliton> host=$(hostname -s); if (($#==0)); then msg=$(cat); else msg=$*; fi; printf '%s :\n%s\n' "$host" "$msg"
[20:05:05] <hejux> ... so simple... oneline
[20:06:05] *** Quits: fabs (~fabs@2607:fb60:2501:2805:dea6:32ff:fed8:2af3) (Ping timeout: 264 seconds)
[20:06:26] *** Joins: gabriele (~gabriele@user/gabriele)
[20:10:40] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[20:10:59] *** Joins: YaoNai (~YaoNai@user/yaonai)
[20:13:03] <emanuele6> i would write that in 6 or 7 lines excluding blanks
[20:17:55] *** Joins: docmax (~docmax@dynamic-077-001-056-077.77.1.pool.telefonica.de)
[20:18:10] *** Quits: lalitmee (~lalitmee@42.106.36.190) (Ping timeout: 268 seconds)
[20:20:38] *** Quits: killown (~killown@user/killown) (Ping timeout: 268 seconds)
[20:24:42] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Quit: leaving)
[20:24:57] *** Quits: han-solo (~hanish@user/han-solo) (Ping timeout: 268 seconds)
[20:24:58] *** Quits: cm315 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 268 seconds)
[20:27:48] *** Joins: han-solo (~hanish@103.104.47.9)
[20:27:57] *** Quits: erhandsome (~erhandsom@user/erhandsome) (Quit: ZNC 1.7.2+deb3 - https://znc.in)
[20:28:25] *** Quits: han-solo (~hanish@103.104.47.9) (Client Quit)
[20:28:46] *** Joins: han-solo (~hanish@user/han-solo)
[20:29:18] <Soliton> of course it's one line because of IRC.
[20:30:28] <superboot> What is the safest way to get the name of the most recently modified file in a dir?
[20:30:38] <superboot> aka, "don't parse ls".
[20:31:06] <han-solo> !latest
[20:31:07] <greybot> Find the latest modified file in a directory: latest() { local file latest; for file in "${1:-.}"/*; do [[ $file -nt $latest ]] && latest=$file; done; printf '%s\n' "$latest"; } ## Usage: latest [dir]
[20:31:58] <superboot> han-solo: Thanks!
[20:36:06] *** Joins: kurahaupo (~kurahaupo@125.254.29.229)
[20:36:22] *** Joins: TikityTik (~TikityTik@162.223.44.49)
[20:36:40] <TikityTik> Why does xdg-open "~/Documents/file.pdf" break where the path gets all messed up?
[20:39:12] *** Joins: frostwork (~frostwork@user/frostwork)
[20:40:21] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[20:41:13] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[20:41:16] <phy1729> You quoted ~
[20:41:20] <koala_man> is it supposed to be able to interpret literal ~?
[20:46:18] *** Joins: erhandsome (~erhandsom@user/erhandsome)
[20:46:18] <TikityTik> is there and easy way to expand it then?
[20:46:32] <Soliton> don't quote it...
[20:46:39] <Soliton> or use $HOME
[20:47:47] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 264 seconds)
[20:48:19] <TikityTik> I quote the path because it has spaces like ~/Docs/my file.pdf
[20:48:42] <Soliton> cmd ~/'foo bar'
[20:48:49] *** Joins: kj (~kj@beta.aerisnetwork.net)
[20:49:48] *** Quits: JanC (~janc@user/janc) (Remote host closed the connection)
[20:49:57] <koala_man> TikityTik: did you know you can just write ~/Do, press tab, write my, press tab again, and have it automatically completed with correct escaping?
[20:50:05] *** Joins: JanC (~janc@user/janc)
[20:50:54] *** Joins: mr-red (~drd@93-42-69-115.ip85.fastwebnet.it)
[20:50:58] *** Quits: drd (~drd@93-42-69-115.ip85.fastwebnet.it) (Ping timeout: 260 seconds)
[20:51:44] *** Quits: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is) (Quit: SO LONG SUCKERS!)
[20:54:41] *** Quits: sebastorama (~sebastora@190.83.56.68) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:55:10] *** Quits: shad (~shad@user/shad) (Ping timeout: 268 seconds)
[20:55:34] <TikityTik> not sure if that's applicable for my use case, i'm doing org-mode with shell:xdg-open "~/some dir/my file.pdf"
[20:55:55] <emanuele6> don't quote ~
[20:56:01] <lopid> you don't have to encompass the entire string in quotes
[20:56:01] *** Joins: uskerine (~uskerine@249.191.78.188.dynamic.jazztel.es)
[20:56:27] <emanuele6> ~/'some dir/my file.pdf'
[20:56:45] <TikityTik> thanks
[20:57:00] <emanuele6> # echo ~
[20:57:00] <lopid> ~/so'me d'ir/my' 'file.pdf
[20:57:03] <shbot> emanuele6: /root
[20:57:22] <emanuele6> tilde expands to $HOME when unquoted
[20:57:25] <emanuele6> # echo '~'
[20:57:27] <shbot> emanuele6: ~
[20:57:36] <emanuele6> when it's quoted, it is just a literal ~
[20:57:42] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[20:59:58] <uskerine> https://bpa.st/6HDA why I am not getting $BLOCK in $FILENAME?
[21:00:44] <emanuele6> !varcap
[21:00:44] <greybot> By convention, environment variables (PATH, EDITOR, SHELL, ...) and internal shell variables (BASH_VERSION, RANDOM, ...) are fully capitalized. All other variable names should be lowercase. Since variable names are case-sensitive, this convention avoids accidentally overriding environmental and internal variables. https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap08.html
[21:00:59] <lopid> "${BLOCK}_$DATE.csv"
[21:01:10] <emanuele6> uskerine: anyway, the issue is that bash thinks that $BLOCK_ is the variable you want to expand
[21:01:14] <emanuele6> yeah, as lopid said
[21:01:48] <uskerine> thanks
[21:03:44] *** Joins: kill (~killown@user/killown)
[21:03:57] *** Joins: iqqdq (~iqqdq@pool-108-26-241-146.bstnma.fios.verizon.net)
[21:04:23] *** Joins: ozoned (odoood@gateway/vpn/protonvpn/odoood)
[21:04:47] <iqqdq> little git function i made, thoughts? https://pastebin.com/raw/X4rXUtW6
[21:05:48] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[21:06:01] *** Quits: kill (~killown@user/killown) (Remote host closed the connection)
[21:06:07] <Soliton> *) will miss an argument.
[21:06:18] *** Joins: rgrinberg (~textual@ip73-183-64-186.ct.co.cr)
[21:06:35] *** Joins: taupiqueur (~taupiqueu@lmontsouris-659-1-2-186.w193-248.abo.wanadoo.fr)
[21:06:49] <iqqdq> where?
[21:07:14] *** Quits: odoood (~odoood@2601:c8:c003:a550::3) (Ping timeout: 260 seconds)
[21:07:15] <Soliton> on the line with *)
[21:07:36] <Soliton> you removed the first argument and don't give it back.
[21:07:52] *** Quits: vaio (~gary@user/ghost) (Remote host closed the connection)
[21:08:44] <iqqdq> my browser is converting what your saying to emoji
[21:08:45] *** Quits: chomwitt (~chomwitt@2a02:587:dc02:9f00:12c3:7bff:fe6d:d374) (Ping timeout: 268 seconds)
[21:08:59] <uskerine> doesthat apply to POSIX shells
[21:09:01] <uskerine> ?
[21:09:30] <emanuele6> Soliton is saying that you probably don't want to shift in the *) branch
[21:09:41] *** Quits: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053) (Quit: WeeChat 3.3)
[21:10:00] <lopid> maybe don't use a chat application that alters the chat messages
[21:10:16] *** Joins: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053)
[21:10:28] *** Joins: magla (~gelignite@55d4ce3b.access.ecotel.net)
[21:10:36] <Soliton> shifting is ok, but you need to give it "$arg" as well.
[21:11:32] <emanuele6> oh, i didn't notice the main *)
[21:11:38] <emanuele6> i was referring to d) *)
[21:12:11] <furrymcgee> would it be possible to write $1 to stdout with shift# arg=$(shift) ?
[21:12:35] <emanuele6> ?
[21:12:53] <Soliton> you could write your own shift function or write perl.
[21:12:55] *** Quits: saki (~saki@gateway/tor-sasl/saki) (Remote host closed the connection)
[21:13:04] <emanuele6> arg=$(shift) does nothing in bash
[21:13:12] *** Joins: saki (~saki@gateway/tor-sasl/saki)
[21:13:31] <furrymcgee> would it break scripts?
[21:13:40] <emanuele6> it does nothing
[21:13:47] <emanuele6> arg will be an empty string
[21:13:52] <Soliton> actually you probably can't write a function for that.
[21:14:05] <Soliton> you're in a subshell so you already lost.
[21:14:23] <emanuele6> # set -- a b c; arg=$(shift); declare -p arg
[21:14:24] <shbot> emanuele6: declare -- arg=""
[21:15:01] <emanuele6> # set -- a b c; arg=$(shift); declare -p arg; for a do printf '$%s=%s\n' "$((++i))" "${a@Q}"; done
[21:15:09] <shbot> emanuele6: declare -- arg=""
[21:15:10] <shbot> emanuele6: $1='a'
[21:15:10] <shbot> emanuele6: and so forth... (but now the pastebin is sick of me)
[21:15:14] <emanuele6> err
[21:15:17] <emanuele6> # set -- a b c; arg=$(shift); declare -p arg; for a do printf '$%s=%s\n' "$((++i))" "${a@Q}"; done | paste -s
[21:15:19] <shbot> emanuele6: declare -- arg=""
[21:15:19] <shbot> emanuele6: $1='a'  $2='b'  $3='c'
[21:15:38] <emanuele6> arg=$(shift) is effectively equivalent to arg=''
[21:15:56] <emanuele6> it doesn't shift args and it doesn't set arg to $1
[21:16:50] <iqqdq> ok i fugured it out and fixed it thx Soliton
[21:16:57] <iqqdq> figured*
[21:17:12] <emanuele6> iqqdq: and you want to remove the shift from the d) *) branch too
[21:17:46] <iqqdq> thats what i did
[21:18:29] <emanuele6> Soliton was saying you needed to add "$arg" to the main *) branch
[21:18:36] <emanuele6> like: git "$arg" "$@"
[21:20:13] <iqqdq> thats not how i want it to work tho, the way i have it if i type `g d s` it runs `git diff --staged`
[21:20:39] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[21:20:43] <emanuele6> `g status' should be equivalent to `git status', no?
[21:21:03] <iqqdq> no its `g s`
[21:21:20] <emanuele6> but `g status' should equivalent to `git status', no?
[21:21:32] <Soliton> they'll figure it out eventually.
[21:21:34] <iqqdq> oh no it wouldnt I see
[21:21:39] <iqqdq> lmao
[21:21:42] *** Quits: dermoth (~dermoth@dsl-216-221-59-214.mtl.aei.ca) (Ping timeout: 260 seconds)
[21:22:14] <iqqdq> ok good point but why would type g status
[21:22:18] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[21:22:29] <emanuele6> why would you add *) git "$@" ?
[21:22:43] <Soliton> g somecommandyouhavenoaliasfor
[21:23:35] <iqqdq> ok i got it now sry
[21:24:54] *** Quits: fatal (~0x00@user/fatal) (Ping timeout: 276 seconds)
[21:25:27] <iqqdq> ok here it is https://pastebin.com/raw/HFgRGQDd
[21:28:12] <emanuele6> well, `g' will be equivalent to `git ""', not `git'
[21:28:36] <emanuele6> could be fixed by using ${arg+"$arg"} instead of just "$arg"
[21:29:51] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[21:30:08] <emanuele6> err, actually no
[21:30:47] <emanuele6> you would need to use something like:    shift || { git ; return ;}   instead of just `shift'
[21:31:04] *** Quits: Armanzor (~Armanzor@user/armanzor) (Read error: Connection reset by peer)
[21:31:17] <emanuele6> honestly i wouldn't use shift
[21:31:27] <emanuele6> it makes things more complicated in this case
[21:31:29] <iqqdq> do i need to worry about it? what does git on its own do
[21:31:35] *** Quits: Jong (~Jong@2620:10d:c091:480::1:fe60) (Quit: Textual IRC Client: www.textualapp.com)
[21:31:46] <emanuele6> you can use "${@:2}" to pass everything but $1
[21:32:59] <emanuele6> get rid of shift and use "${@:2}"; then you don't need the $arg variable, `g' will be equivalent to `git' as it should, etc
[21:33:49] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[21:35:08] *** Joins: dermoth (~dermoth@dsl-66-36-158-20.mtl.aei.ca)
[21:35:12] *** Quits: tobybl_ (~tobybl@213.31.135.91) (Remote host closed the connection)
[21:35:16] *** Quits: jrofd (~crombie@cpc127052-lewi23-2-0-cust30.2-4.cable.virginm.net) (Ping timeout: 268 seconds)
[21:36:01] *** Quits: TomyWork (~TomyLobo@p200300e80f06af0024de406b2d054407.dip0.t-ipconnect.de) (Quit: Leaving)
[21:36:13] <emanuele6> iqqdq: http://paste.wooledge.org/9809
[21:36:22] <emanuele6> err, without "$arg"
[21:36:34] <emanuele6> http://paste.wooledge.org/9810
[21:37:01] *** Joins: chomwitt (~chomwitt@ppp-2-85-245-90.home.otenet.gr)
[21:37:24] <iqqdq> ya i was about to paste the same, thank you
[21:37:40] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
[21:38:24] *** Joins: seninha (~seninha@user/seninha)
[21:42:57] *** Joins: n4dir (~user@mue-88-130-57-203.dsl.tropolys.de)
[21:43:13] *** Joins: A|an (~Alan@173.216.51.200)
[21:46:19] *** Joins: damxsa (~damx@2001:16a2:ce33:4e00:152d:b032:78f3:27f0)
[21:47:12] *** Joins: jrofd (~crombie@cpc127052-lewi23-2-0-cust30.2-4.cable.virginm.net)
[21:47:50] *** Joins: damxsa_ (~damx@2001:16a2:ce33:4e00:3604:f881:a16d:7606)
[21:48:38] *** Quits: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970) (Quit: WeeChat 3.3)
[21:49:07] *** Joins: mei (~mei@user/mei)
[21:51:17] *** Quits: damxsa (~damx@2001:16a2:ce33:4e00:152d:b032:78f3:27f0) (Ping timeout: 268 seconds)
[21:51:18] *** Quits: dermoth (~dermoth@dsl-66-36-158-20.mtl.aei.ca) (Ping timeout: 268 seconds)
[21:51:40] *** Quits: damxsa_ (~damx@2001:16a2:ce33:4e00:3604:f881:a16d:7606) (Client Quit)
[21:51:54] *** Joins: damxsa (~damx@2001:16a2:ce33:4e00:3604:f881:a16d:7606)
[21:54:28] *** Joins: sebastorama (~sebastora@190.83.56.68)
[21:56:56] *** mozgalom is now known as bomb-on
[21:57:22] *** Joins: greycat (~greg@209.142.155.49)
[21:59:13] *** Quits: iqqdq (~iqqdq@pool-108-26-241-146.bstnma.fios.verizon.net) (Quit: Client closed)
[22:00:26] *** Quits: bomb-on (~mozgalom@194.144.47.113) (Quit: SO LONG SUCKERS!)
[22:00:28] *** Quits: lsrtl (~lsrtl@user/lsrtl) (Remote host closed the connection)
[22:03:15] *** Joins: alphasierra (~alphasier@2405:201:e:4d:9f02:dbb3:fb6b:643f)
[22:03:23] *** Joins: lsrtl (~lsrtl@user/lsrtl)
[22:03:46] *** Joins: dermoth (~dermoth@dsl-216-221-50-71.mtl.aei.ca)
[22:04:21] *** Joins: N4buc0 (~N4buc0@2804:7f4:3487:cd22:b916:b213:1fa6:e942)
[22:04:59] *** Quits: alphasierra (~alphasier@2405:201:e:4d:9f02:dbb3:fb6b:643f) (Client Quit)
[22:07:33] *** Joins: B4re (~l4yer@159.48.55.11)
[22:07:39] *** Joins: iqqdq (~iqqdq@pool-108-26-241-146.bstnma.fios.verizon.net)
[22:09:04] *** Quits: l4yer (~l4yer@2a02:6ea0:e102:0:1011:8d08:ca14:8f03) (Ping timeout: 260 seconds)
[22:12:14] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[22:12:15] *** Quits: B4re (~l4yer@159.48.55.11) (Ping timeout: 268 seconds)
[22:12:23] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[22:13:07] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[22:14:11] *** Quits: robobo7 (~robobo@c-e52c524e.015-74-6762675.bbcust.telenor.se) (Quit: The Lounge - https://thelounge.chat)
[22:14:31] *** Joins: alphasierra (~alphasier@2405:201:e:4d:9f02:dbb3:fb6b:643f)
[22:15:35] *** Joins: l4yer (~l4yer@159.48.55.9)
[22:17:34] *** Joins: shad (~shad@user/shad)
[22:18:38] *** Joins: robobo7 (~robobo@c-e52c524e.015-74-6762675.bbcust.telenor.se)
[22:20:26] *** Joins: Atque (~Atque@user/atque)
[22:22:57] *** Joins: webmariner (~james@cpc95914-rdng25-2-0-cust148.15-3.cable.virginm.net)
[22:22:58] *** Quits: alphasierra (~alphasier@2405:201:e:4d:9f02:dbb3:fb6b:643f) (Quit: Leaving)
[22:24:35] *** Quits: dermoth (~dermoth@dsl-216-221-50-71.mtl.aei.ca) (Ping timeout: 268 seconds)
[22:29:37] *** Quits: uskerine (~uskerine@249.191.78.188.dynamic.jazztel.es) (Remote host closed the connection)
[22:33:54] *** Joins: odoood__ (~odoood@2601:c8:c003:a550::3)
[22:35:56] *** Joins: docmax_ (~docmax@dynamic-077-010-135-089.77.10.pool.telefonica.de)
[22:36:21] *** Joins: dermoth (~dermoth@dsl-66-36-158-20.mtl.aei.ca)
[22:36:23] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 264 seconds)
[22:36:55] *** Quits: ozoned (odoood@gateway/vpn/protonvpn/odoood) (Ping timeout: 268 seconds)
[22:37:44] *** Joins: ElPresidente (~ElPreside@172-125-150-28.lightspeed.tukrga.sbcglobal.net)
[22:38:18] *** Quits: docmax (~docmax@dynamic-077-001-056-077.77.1.pool.telefonica.de) (Ping timeout: 260 seconds)
[22:38:29] *** Joins: akoana (~ah@user/akoana)
[22:39:19] *** Joins: Crescendo (~Crescendo@user/crescendo)
[22:40:56] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[22:41:12] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[22:41:43] *** Quits: zostj (~rue@1-162-47-227.dynamic-ip.hinet.net) (Quit: WeeChat 3.3)
[22:41:46] *** Quits: illuminated (~quassel@107-133-152-77.lightspeed.okcbok.sbcglobal.net) (Ping timeout: 245 seconds)
[22:42:28] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 268 seconds)
[22:44:30] *** Quits: docmax_ (~docmax@dynamic-077-010-135-089.77.10.pool.telefonica.de) (Remote host closed the connection)
[22:44:40] *** Joins: B4re (~l4yer@159.48.55.8)
[22:44:54] *** Joins: b_jonas (~x@catv-176-63-3-164.catv.broadband.hu)
[22:45:59] *** Quits: skered (~dereks@user/skered) (Ping timeout: 264 seconds)
[22:47:11] *** Quits: rgrinberg (~textual@ip73-183-64-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:47:11] *** Quits: l4yer (~l4yer@159.48.55.9) (Ping timeout: 264 seconds)
[22:48:34] <rendar> why `[[ -f /dev/zero ]]` returns 1 ? /dev/zero is a device but it is *also* a file!
[22:49:21] <phy1729> !plainfile
[22:50:25] <rendar> huh?
[22:50:36] <phy1729> there's a factoid I'm forgetting
[22:50:38] <earnestly> rendar: You'll notice the same thing with pretty much everything under /dev
[22:51:05] <rendar> earnestly, ok but why? those are still files.. there is a flag that simply tells me that it's a file?
[22:51:33] <greycat> "plain file" meaning something that satisfies test -f?
[22:51:34] <earnestly> rendar: It'll happen if you use -f on symlinks too
[22:51:44] *** Joins: et (~et@user/et)
[22:51:53] <rendar> i see
[22:51:54] <earnestly> rendar: The documentation states that -f tests for a /regular/ file
[22:51:58] <greycat> test, [ and [[ follow symlinks unless you use the -L (or its ancient cousin) optionL
[22:52:03] <earnestly> Or directory
[22:52:12] <phy1729> greycat: what's the "no plain files are plain files" factoid?
[22:52:12] <rendar> ok
[22:52:29] <greycat> I don't know what you mean, and rendar is on /ignore.
[22:52:50] <rendar> do test, [, or [[ have another flag, which is different than -f, which just tells me that file exists?
[22:52:59] <greycat> There are no factoids containing the string "plain file".
[22:53:04] <phy1729> -e is exists
[22:53:16] <rendar> phy1729, oh! thanks...
[22:53:30] <rendar> phy1729, i thought -e was for devices
[22:53:31] <greycat> test -e matches any kind of file system object (sockets, block & char devices, etc.)
[22:53:44] <sixwheeledbeast> if you do ls you will see they are not listed as files or directories
[22:53:55] <greycat> !regular
[22:53:55] <greybot> What are regular files? Regular files are regular files. Are symlinks regular files? No. Regular files are regular files. Are FIFOs regular files? No. Regular files are regular files. Are? ...No
[22:53:55] <rendar> sixwheeledbeast, i know the difference
[22:54:03] <phy1729> that it
[22:54:17] *** Joins: Filystyn (~piotr@user/filystyn)
[22:54:28] <rendar> it seems -e works also with directories
[22:54:36] <greycat> The bit about symlinks is potentially confusing there.
[22:54:52] <phy1729> well yes directories exist
[22:55:16] <rendar> if -x is for executable files, there is some flag for devices?
[22:55:16] <greycat> A regular file is anything where "ls -l" shows a - in the first column.
[22:55:41] <phy1729> -x is not for executable regular files; just things with the executable bit set
[22:55:47] <phy1729> like most directories
[22:55:48] <greycat> However, a *symlink* to a regular file will also be matched by test -f.
[22:56:24] <rendar> phy1729, ok, but is there a flag for devices file?
[22:57:16] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 268 seconds)
[22:57:43] <phy1729> man test
[22:57:51] <rendar> -b -c ok
[22:57:53] <rendar> i see
[22:58:28] <rendar> can we say that a device for some storage hardware will always be a block device?
[22:58:35] *** Joins: sazawal (~sazawal@2401:4900:55a0:3479:b83c:c11d:d807:2c3f)
[22:58:51] *** Quits: sazawal (~sazawal@2401:4900:55a0:3479:b83c:c11d:d807:2c3f) (Remote host closed the connection)
[22:59:15] *** Joins: illuminated (~quassel@107-133-152-77.lightspeed.okcbok.sbcglobal.net)
[22:59:55] <phy1729> Sounds like an OS question. (I have a raw device that's a char device and a normal one that's a block device)
[23:04:40] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[23:05:31] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[23:06:32] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Ping timeout: 268 seconds)
[23:09:23] <Filystyn> do we have like grep -v in find ??
[23:09:34] <Filystyn> with -iname
[23:09:37] <greycat> find has an -exec action
[23:09:49] <greycat> oh, you want a "not -iname".  it's spelled ! -iname
[23:10:28] * greycat wonders when people will learn to type theif stupid questions in ONE LINE instead of splitting it across two lines, the first line of which is a different question than the whole question
[23:11:13] <Filystyn> for a second I thought yoru trolling but ! worked
[23:11:35] <Filystyn> thx
[23:13:10] <Filystyn> now when looking on bottom of man I see we can express our self in find
[23:13:23] *** justache is now known as justUnited
[23:13:36] <Filystyn> what a powerful tool indeed
[23:19:01] *** Joins: fabs (~fabs@2607:fb60:2501:2805:dea6:32ff:fed8:2af3)
[23:19:16] *** Joins: sandb0y (~pirate@user/sandb0y)
[23:22:52] *** Joins: rgrinberg (~textual@ip73-183-64-186.ct.co.cr)
[23:23:13] <rendar> how come that  `cryptsetup -y luksFormat` asks me for YES in prompt, even if i have specified -y flag?
[23:24:50] *** Quits: irc_user (uid423822@id-423822.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[23:25:44] <han-solo> --verify-passphrase, -y
[23:25:44] <han-solo> query for passwords twice. Useful when creating a (regular) mapping for the first time, or when running luksFormat.
[23:25:57] <rendar> yep
[23:26:00] <rendar> nevermind! :)
[23:26:53] *** Joins: Raguile (~Raguile@user/raguile)
[23:32:00] *** Quits: iqqdq (~iqqdq@pool-108-26-241-146.bstnma.fios.verizon.net) (Quit: Client closed)
[23:34:48] <Filystyn> with find actualy what is the limit of + ( exec {} )
[23:35:01] <greycat> !arg_max
[23:35:01] <greybot> The kernel constant ARG_MAX defines the maximum number of bytes that can be passed to exec(3). On Linux since libc 2.8, this value is determined dynamically based upon the system, and is not hardcoded. # http://www.in-ulm.de/~mascheck/various/argmax/
[23:35:11] *** Quits: odoood__ (~odoood@2601:c8:c003:a550::3) (Ping timeout: 264 seconds)
[23:37:00] *** Joins: dextercd (~dexter@2a02-a450-f25d-1-76d4-35ff-fefe-34c.fixed6.kpn.net)
[23:37:45] <Filystyn> ihm
[23:42:25] <Filystyn> 524288 seems fine, I was afraid of something like '1024'
[23:44:04] <rendar> $  sudo [[ -O file ]]       sudo: [[: command not found    <- is this normal?
[23:44:20] <phy1729> yes [[ is a keyword not a command
[23:45:00] <rendar> ops, right, [ is the command, ok
[23:45:04] *** Quits: sebastorama (~sebastora@190.83.56.68) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:46:15] *** Joins: mjbatty (~mjbatty@82.2.17.205)
[23:47:27] *** Quits: benjwadams (~benjwadam@96.238.4.28) (Quit: Client closed)
[23:53:04] *** Quits: furrymcgee (~devuan@cgn-213-196-210-222.nc.de) (Quit: leaving)
[23:54:02] *** Joins: Betal (~Betal@user/betal)
[23:55:13] *** Quits: Filystyn (~piotr@user/filystyn) (Quit: Lost terminal)
[23:55:15] *** Joins: sebastorama (~sebastora@190.83.56.68)
[23:59:02] *** Quits: han-solo (~hanish@user/han-solo) (Quit: leaving)
