[00:06:03] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 256 seconds)
[00:09:57] *** Quits: pepper (~pepper@user/pepper) (Remote host closed the connection)
[00:18:54] *** Joins: pepper (~pepper@user/pepper)
[00:25:39] *** Quits: pmb (~pmb@89-64-79-51.dynamic.chello.pl) (Quit: pmb)
[00:27:17] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[00:27:36] *** Joins: thiras (~thiras@user/thiras)
[00:31:31] *** Quits: hylje (~hylje@ponie.fi) (Quit: Now offline)
[00:31:57] *** Joins: hylje (~hylje@ponie.fi)
[00:41:29] *** Joins: slav0nic (slav0nic@python.su)
[00:54:37] *** Quits: pepper (~pepper@user/pepper) (Quit: Leaving)
[01:10:37] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: No Ping reply in 180 seconds.)
[01:27:05] *** Quits: ST47 (~ST47@wikimedia/st47) (Ping timeout: 256 seconds)
[01:37:02] *** Quits: Csm319_ (~csm3105@static-90-220-24-46.ipcom.comunitel.net) (Ping timeout: 240 seconds)
[01:40:16] *** Joins: ST47 (~ST47@wikimedia/st47)
[01:44:15] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 256 seconds)
[01:46:08] *** Joins: fikran (~fikran@user/fikran)
[01:54:42] *** Joins: dre (~dre@2001:8003:c932:c301:2a14:8300:3b99:1684)
[01:59:29] <ktosiek> blackleitus: probably not, as GPLs require to offer source only if you provide executable form of the software. But it get's messy with JS parts, so I'd try asking the authors about clarification on how they apply the license.
[02:00:36] <ktosiek> oh, except if it's AGPL - that one is designed to give users the freedom to run software that they access as a service.
[02:09:33] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:10:38] *** Joins: blackout69 (~blackout6@net-109-117-245-237.cust.vodafonedsl.it)
[02:19:57] *** Quits: slav0nic (slav0nic@python.su) (Ping timeout: 240 seconds)
[02:45:29] *** Joins: yanchai (~yanchai@115.147.17.121)
[03:03:18] *** Parts: blackout69 (~blackout6@net-109-117-245-237.cust.vodafonedsl.it) ()
[03:20:16] *** Joins: PantelicGR (~PantelicG@user/pantelicgr)
[03:44:51] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[03:49:50] *** Joins: vdamewood (~vdamewood@fedora/vdamewood)
[03:51:32] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Ping timeout: 240 seconds)
[03:53:32] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[03:55:29] *** Joins: fikran (~fikran@user/fikran)
[03:58:38] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 250 seconds)
[04:05:45] *** Quits: yanchai (~yanchai@115.147.17.121) (Ping timeout: 256 seconds)
[04:15:37] *** Quits: audiobirb (~audio@user/audio) (Ping timeout: 240 seconds)
[04:32:45] *** Joins: szkl (uid110435@id-110435.uxbridge.irccloud.com)
[04:39:54] *** Quits: PantelicGR (~PantelicG@user/pantelicgr) (Quit: Leaving)
[04:55:53] *** Joins: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:c851:b3f:6686:979)
[04:55:58] <PaulWay[w]> Morning!
[05:23:44] <bparker> evening
[05:25:58] <PaulWay[w]> Well, that's covered everything.  Time will now collapse.
[06:02:34] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 250 seconds)
[06:04:50] *** Joins: fikran (~fikran@user/fikran)
[06:27:32] *** Quits: GinFuyou (~GinFuyou@reya.cloud.tilaa.com) (Ping timeout: 240 seconds)
[06:43:18] *** Quits: dez (uid92154@user/dez) (Quit: Connection closed for inactivity)
[07:01:28] *** Quits: rje (~textual@50.35.241.164) (Read error: Connection reset by peer)
[07:01:33] *** Joins: rje_ (~textual@50.35.241.164)
[07:28:03] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[08:01:26] *** Joins: djapo (~archangel@user/djapo)
[08:08:21] *** Quits: xkuru (~xkuru@user/xkuru) (Read error: Connection reset by peer)
[08:12:02] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[08:12:13] *** Quits: sreve (~quassel@p54a704b4.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[08:12:40] *** Joins: audiobirb (~audio@user/audio)
[08:12:58] *** Joins: sreve (~quassel@p4ff44efb.dip0.t-ipconnect.de)
[08:14:11] *** Joins: fikran (~fikran@user/fikran)
[08:19:02] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 240 seconds)
[08:35:55] *** Joins: djapo (~archangel@user/djapo)
[09:10:38] *** Quits: PaulWay[w] (~PaulWay@2001:44b8:1110:f800:c851:b3f:6686:979) (Ping timeout: 250 seconds)
[09:51:11] *** Joins: jtiai (~jtiai@81-197-45-202.elisa-laajakaista.fi)
[10:09:36] *** Joins: pmb (~pmb@89-64-79-51.dynamic.chello.pl)
[10:20:50] *** Quits: dre (~dre@2001:8003:c932:c301:2a14:8300:3b99:1684) (Ping timeout: 250 seconds)
[10:21:27] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 256 seconds)
[10:23:32] *** Joins: fikran (~fikran@user/fikran)
[10:31:14] *** Quits: pmb (~pmb@89-64-79-51.dynamic.chello.pl) (Read error: Connection reset by peer)
[10:43:04] *** Joins: rusrushal13 (~rusrushal@2401:4900:5d3a:7a52:1002:e7e:5883:6105)
[10:50:26] *** Joins: pepper (~pepper@user/pepper)
[10:56:06] *** Joins: pmb (~pmb@89-64-79-51.dynamic.chello.pl)
[10:56:17] *** Joins: Csm319_ (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[10:57:57] *** Quits: audiobirb (~audio@user/audio) (Ping timeout: 240 seconds)
[10:58:33] *** Joins: dor (~erg@78.11.12.207)
[11:01:34] *** Joins: mrwick (~mrwick@user/mrwick)
[11:03:57] *** Joins: cm315 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[11:05:01] *** Quits: djapo (~archangel@user/djapo) (Read error: Connection reset by peer)
[11:07:32] *** Quits: Csm319_ (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Ping timeout: 240 seconds)
[11:21:00] *** Joins: djapo (~archangel@user/djapo)
[11:25:14] *** Joins: slav0nic (slav0nic@python.su)
[11:50:06] *** Quits: rje_ (~textual@50.35.241.164) (Ping timeout: 250 seconds)
[11:52:26] *** Joins: iomari891 (~iomari891@197.210.70.203)
[11:54:30] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[11:54:30] *** ChanServ sets mode: +v EvilDMP
[11:57:15] *** Joins: rje (~textual@50.35.241.164)
[11:59:58] *** Quits: iomari891 (~iomari891@197.210.70.203) (Quit: WeeChat 3.3)
[12:01:11] *** Quits: rusrushal13 (~rusrushal@2401:4900:5d3a:7a52:1002:e7e:5883:6105) (Ping timeout: 256 seconds)
[12:01:12] *** Joins: iomari891 (~iomari891@197.210.71.129)
[12:07:20] *** Joins: xkuru (~xkuru@user/xkuru)
[12:09:03] *** Joins: thiras (~thiras@user/thiras)
[12:11:23] *** Quits: xkuru (~xkuru@user/xkuru) (Remote host closed the connection)
[12:12:17] *** Quits: slavfox (~slavfox@93.158.232.111) (Ping timeout: 240 seconds)
[12:14:18] *** Joins: slavfox (~slavfox@93.158.232.111)
[12:18:09] *** Quits: dor (~erg@78.11.12.207) (Read error: Connection reset by peer)
[12:21:18] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 250 seconds)
[12:23:39] *** Joins: DnzAtWrk (~DnzAtWrk@mobile-access-56734f-193.dhcp.inet.fi)
[12:27:43] <serafeim> hello friends! long time no see!
[12:29:18] *** moldy_ is now known as moldy
[12:30:32] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[12:32:53] *** Joins: fikran (~fikran@user/fikran)
[12:34:39] *** Joins: dre (~dre@2001:8003:c932:c301:1533:19c3:8abd:b2d5)
[12:39:48] *** Joins: blag (~blag@071-094-056-144.res.spectrum.com)
[12:45:19] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[12:51:11] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[12:51:27] <blag> Hello, the pastebin website in the channel topic, http://dpaste.de/, does not appear to be working for me. Can somebody else verify that it works for them, or is the site itself down?
[12:53:22] <blag> https://downforeveryoneorjustme.com/dpaste.de - says it's down for everybody
[12:53:22] *** Quits: gitly (~gitly@85.255.235.98) (Ping timeout: 250 seconds)
[12:55:16] <serafeim> seems to be also not working for me
[12:55:38] <serafeim> try https://dpaste.com/
[12:56:39] <blag> Awesome, thank you.
[12:58:10] *** Joins: gitly (~gitly@148.252.129.4)
[12:59:32] *** Joins: GinFuyou (~GinFuyou@reya.cloud.tilaa.com)
[13:02:32] *** Quits: gitly (~gitly@148.252.129.4) (Ping timeout: 240 seconds)
[13:02:56] *** Joins: gitly (~gitly@148.252.129.4)
[13:05:03] <blag> https://dpaste.com/9VNX8W4X7
[13:05:04] <blag> I'm trying to do some math in the DB (PostgreSQL) in the indicates lines, but Postgres is just doing integer math. Is there a way I can force Postgres to do float/double/decimal math for those two annotations?
[13:05:16] *** Joins: luigibu (~luigi@11.red-79-159-71.dynamicip.rima-tde.net)
[13:07:01] <blag> *indicated
[13:08:23] <moldy> blag: https://docs.djangoproject.com/en/4.0/ref/models/database-functions/#comparison-and-conversion-functions
[13:08:55] *** Joins: mad_moses (~mad_moses@2a02:6d40:2348:4601:c9e8:2e6e:9229:485f)
[13:09:21] <blag> moldy Thank you, I will try that. :)
[13:17:57] <blag> Yep that works, thank you for your help, I'll bookmark that page. I did it this way, which is a little wonky but it works:
[13:17:57] <blag> difficulty=1 - Cast(F('num_correct_responses'), output_field=FloatField()) / Cast(F('num_responses'), output_field=FloatField())
[13:17:57] <blag> so that num_correct_responses and num_responses would remain integers (they're both used in my template and rounding them back to integers just seems more silly than two explicit casts)
[13:18:04] <blag> Cheers!
[13:18:46] *** Quits: blag (~blag@071-094-056-144.res.spectrum.com) (Quit: Client closed)
[13:18:47] *** Joins: Ergo^ (~ergo@91.238.59.144)
[13:19:16] *** Quits: luigibu (~luigi@11.red-79-159-71.dynamicip.rima-tde.net) (Quit: WeeChat 3.4)
[13:20:10] *** Quits: Ergo^ (~ergo@91.238.59.144) (Read error: Connection reset by peer)
[13:23:17] *** Joins: luigibu (~luigi@11.red-79-159-71.dynamicip.rima-tde.net)
[13:25:40] <mad_moses> Hi, I still have troube to undestand where django generates the sessionid cookie after a user login: https://www.tangowithdjango.com/book17/_images/cookie-visits.png
[13:26:16] <mad_moses> I want to write a rest api call, which returns the sessionid key in the cookie. The user i logged in with token authentication
[13:33:09] *** Quits: duoi (~duoi@user/duoi) (Ping timeout: 256 seconds)
[13:34:27] *** Joins: duoi (~duoi@user/duoi)
[13:50:55] <serafeim> this is not something i would suggest
[13:57:50] <mad_moses> because?
[13:58:17] <serafeim> because this is not something secure
[13:58:36] <serafeim> there are other methods for authenticating api calls
[13:58:39] <serafeim> not using the session cookie
[14:00:15] <mad_moses> serafeim: I am using thoken auth to authenticate agains my rest api. And after this authentication I would like to have a method to get a session cookie returned. Why this is unsafe?
[14:00:44] <serafeim> because this is not the job of the the session cookie
[14:03:36] <mad_moses> serafeim: this is the default bevior of django? I do not undestand why it is unsafe or why it is not the job of the session cookie?
[14:05:23] <serafeim> you are doing fancy security things.
[14:05:30] <serafeim> fancy security is not something you should use
[14:07:11] <mad_moses> serafeim: can you give me a reason? Every default django website is using session authentication? Can you give me a reason why it is not safe?
[14:07:30] <serafeim> yes but you are passing the session cookie through an api call ?
[14:07:51] <serafeim> you don't use the session cookie as intended.
[14:07:54] <serafeim> that's what's fancy
[14:08:41] *** Quits: lazzurs (~lazzurs@user/lazzurs) (Ping timeout: 256 seconds)
[14:08:51] <mad_moses> serafeim: In my android app I have some sections in my application which use a webview. It is like a browser. Why not use session cookie for that? What authentication scheme should I use? token auth is not working. (At least not out of the box=
[14:09:10] <serafeim> you see.
[14:09:28] <serafeim> you have an android app./
[14:09:34] <serafeim> and you want to use session cookie for that.
[14:09:39] <serafeim> this is *not* the correct thing to do
[14:10:10] <serafeim> so either you won't be able to do it at all, or it will be too much pain to implement it, or it will be implemented but will have a security hole.
[14:10:42] <serafeim> use token authentication or jwt or even good old basic http auth through https. but use something that is *intented* for this kind of usage
[14:10:43] <mad_moses> Okay, I undestand that this is your opinion. But a lot of apps use session cookies
[14:10:58] <serafeim> mad_moses: ok then be my guest
[14:11:17] <serafeim> i don't have anything else to say about the subject nor i want to convince you otherwise
[14:13:38] <mad_moses> serafeim: even the default in DRF is session authentication: https://www.django-rest-framework.org/api-guide/authentication/#setting-the-authentication-scheme
[14:13:55] <serafeim> it's a different thing
[14:14:28] <serafeim> i am always using session authnetication for DRF. but *only* on my web apps.
[14:14:50] <serafeim> which login the user normally
[14:15:34] <ktosiek> Which is literally what the docs say it's meant for: "This authentication scheme uses Django's default session backend for authentication. Session authentication is appropriate for AJAX clients that are running in the same session context as your website"
[14:16:29] <mad_moses> If I run a webview on android it is the same as I am navigating with my browser to my website.
[14:16:47] <serafeim> mad_moses: yes. but you must login the user *through* that webview.
[14:17:04] <serafeim> and see if the session cookie is stored properly
[14:17:42] <mad_moses> But let's assume this is a security hole. I don't care :=) How can I generate this session cookie? I could also write a view and pass my token as a get paramter and login the user. Wouldn't be this the same?
[14:18:46] <serafeim> can't help you. why don't you use token authentication ?
[14:19:10] <mad_moses> serafeim: How can I use thken auth with my browser?
[14:19:46] <serafeim> https://www.django-rest-framework.org/api-guide/authentication/#tokenauthentication
[14:20:11] <serafeim> it's really simple. create tokens for your users and pass the token to an Authentication: header
[14:20:19] <serafeim> oops. Authorization header
[14:20:45] <mad_moses> serafeim: this is not working in the browser. It works only on rest endpoint.
[14:21:06] <mad_moses> serafeim: If i use curl and try to load my root page of my website with the header I am not logged in.
[14:21:19] <mad_moses> serafeim: this works only on rest calls
[14:21:26] <serafeim> yes. what did you expect ?
[14:22:13] <mad_moses> serafeim: I have a webview (Which bahaves like a browser). If I navigate to www.mywebsite.com/loginarea/ then I am not logged id.
[14:22:29] <serafeim> so the webview *does not* behave like a browser
[14:22:35] <mad_moses> serafeim: why not?
[14:22:43] <serafeim> don't even know what a webview is
[14:22:54] <mad_moses> It is a browser.
[14:22:56] <serafeim> or maybe it needs some extra configuration to keep the session
[14:23:04] <serafeim> i don't know about that thingie
[14:23:28] <ktosiek> Hmm, but WebView is a bit of a strange beast. You would probably want to use a cookie there, or use some kind of request filtering to add the token
[14:23:43] <serafeim> this https://stackoverflow.com/questions/64200301/how-to-maintain-session-in-webview-after-exiting-the-application-in-android ?
[14:24:01] <serafeim> or this https://stackoverflow.com/questions/59332294/session-not-working-in-webview-in-android ?
[14:24:10] <serafeim> it seems that the webview does not support cookies by default
[14:24:12] <serafeim> so ...
[14:24:18] <mad_moses> forget about the webview. It works perfectly with the session cookie. If I enter it manually from my normal browser everything works fine
[14:24:23] <mad_moses> I just need to create this sessiondi
[14:24:28] <mad_moses> this is my probelm
[14:24:57] <mad_moses> Lets't don't talk about the webview. This is not the problem. Just assume I use firefox
[14:25:12] <mad_moses> you can not use with firefox token auth on normal views
[14:25:15] <serafeim> if you use firefox you'd be able to login, wouldn't you ?
[14:25:57] <mad_moses> serafeim: I can, I can also use the webview to login. But I am allready logged in over token auth. I just need to create a session cookie on some point.
[14:26:02] <ktosiek> I think it's about avoiding logging in twice, once through the app and then through the WebView
[14:26:07] <mad_moses> yes
[14:26:22] <mad_moses> ktosiek: thats what i am trying to say
[14:26:44] <serafeim> mad_moses: and i've already told you that this is not the correct thing to do.
[14:27:01] <serafeim> i don't even know if it's possible but even if it *was* possible i wouldn't recommend doing it
[14:27:06] <mad_moses> serafeim: I don't care. Just want to know how to creat a session cookie.
[14:27:10] <mad_moses> serafeim: it is possible.
[14:27:18] <serafeim> well ok i can't help you.
[14:27:33] <mad_moses> ktosiek: do you have an idea?
[14:28:15] <ktosiek> I think the best way would be to intercept requests from the WebView and add some Authorization header.
[14:28:42] <ktosiek> But if you really need to know how the session cookie gets created you should look inside SessionMiddleware
[14:30:11] <mad_moses> ktosiek: I tried and hoped to get an answer here :D
[14:34:18] *** Quits: pmb (~pmb@89-64-79-51.dynamic.chello.pl) (Read error: Connection reset by peer)
[14:34:37] *** Joins: pmb (~pmb@89-64-79-51.dynamic.chello.pl)
[14:36:31] <mad_moses> ktosiek: https://dpaste.org/zeiN this is what i tried so far.
[14:37:05] <mad_moses> But get_session_auth_hash is not the correct hash. It is to long on not what I thought
[14:39:19] <ktosiek> Have you tried looking at Django's SessionMiddleware?
[14:40:25] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 256 seconds)
[14:40:43] <mad_moses> ktosiek: Do you mean reading this source file? https://github.com/django/django/blob/main/django/contrib/sessions/middleware.py
[14:41:21] <ktosiek> yup
[14:42:14] *** Joins: fikran (~fikran@user/fikran)
[14:42:52] <mad_moses> ktosiek: I do not really undestand where the magic there is happening. but i will keep trying. Do you have an idea?
[14:48:14] *** Quits: CorsairX (~CorsairX@124-170-75-118.dyn.iinet.net.au) (Quit: Leaving)
[14:50:21] <ktosiek> there's only one place there that sets a cookie, you can see how to get the right value (and cookie name) to return from your API
[14:54:03] <mad_moses> ktosiek: request.session.session_key
[14:59:07] <mad_moses> tested and it works perfectly
[14:59:07] <mad_moses> https://dpaste.org/tFky
[14:59:23] <mad_moses> ktosiek: do you think this is generating any kind of security hole?
[15:00:39] <ktosiek> that login() looks fishy, isn't there a session already available on the request?
[15:00:43] <ktosiek> oh, it's a DRF request
[15:04:23] <mad_moses> ktosiek: exactly. This was all the time my problem
[15:04:34] <mad_moses> without the login it does not wor
[15:04:35] <mad_moses> k
[15:05:23] <ktosiek> no idea about security, it looks ok as it's already an authenticated request and you're only logging in the current request.user
[15:05:25] <ktosiek> OHHH
[15:06:21] <ktosiek> nah, nevermind. But I wonder if it should be a GET
[15:06:43] <mad_moses> ktosiek: why not?
[15:07:18] <moldy> security-wise it looks ok to me, not sure about CSRF..
[15:07:25] <ktosiek> I wonder how it would work with CORS
[15:08:02] <ktosiek> this should never be available through CORS, as it would enable stealing the session cookie
[15:08:53] *** Joins: Ergo^ (~ergo@91.238.59.144)
[15:10:00] <ktosiek> (I mean, a client allowed to use authenticated CORS would be able to grab the actual session cookie - and could skip all CORS restrictions since then)
[15:12:40] <mad_moses> ktosiek: how can it skip all CORS restrictions? CORS are still available for all other normal views?
[15:12:47] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[15:14:18] <mad_moses> ktosiek: and how can it be stolen without having the token?
[15:16:02] <mad_moses> Wait, you are right. I have to disable session authentication for this view. So it can't be stolen
[15:16:03] <ktosiek> mad_moses: another site allowed by CORS to make authenticated (aka "using user's cookie for your API") requests could use this endpoint to access the actual cookie value - something that should not be available even for sites allowed by CORS
[15:16:25] <ktosiek> or at least cookie authentication, yeah
[15:17:39] <mad_moses> ktosiek: how would you implement this? I could just check if the call has cookie with a sessionid. if yesk, i will not return the sessionid
[15:21:01] <ktosiek> Good question. I'd try doing a positive check, like setting authentication_classes and permission_classes on the view
[15:23:24] <mad_moses> ktosiek: I just block all cookies. https://dpaste.org/Kdhh This view should never be run by any browser at all.
[15:24:23] <ktosiek> that might work, but you won't remember about this when you are adding a new authentication method :-P
[15:26:42] <mad_moses> ktosiek: maybe you a right. But I think in the near feature our android app will move away from token auth and will use session auth from the beginning.
[15:34:06] *** Quits: andrkavr (~any@cpe-31-15-207-213.cable.telemach.net) (Ping timeout: 245 seconds)
[15:40:33] *** Joins: toolz (toolz@daniel.ro)
[15:40:38] <toolz> unchained?!
[15:44:17] *** Parts: toolz (toolz@daniel.ro) ()
[15:49:00] *** Joins: andrkavr (~any@cpe-31-15-207-213.cable.telemach.net)
[15:51:14] *** Quits: iomari891 (~iomari891@197.210.71.129) (Quit: WeeChat 3.3)
[15:55:52] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[15:59:46] *** Quits: pmb (~pmb@89-64-79-51.dynamic.chello.pl) (Quit: pmb)
[16:00:06] *** Joins: pmb (~pmb@89-64-79-51.dynamic.chello.pl)
[16:03:08] *** Quits: lucascastro (~lucascast@192-140-51-251.static.oncabo.net.br) (Remote host closed the connection)
[16:08:52] *** Joins: lucascastro (~lucascast@192-140-51-251.static.oncabo.net.br)
[16:08:59] *** Quits: brsc2909 (~Thunderbi@109.255.244.60) (Quit: brsc2909)
[16:16:32] *** Joins: cmbengue (~Thunderbi@207.191.249.160)
[16:34:58] *** Joins: dez (uid92154@user/dez)
[16:35:36] *** Quits: bitdex_ (~bitdex@gateway/tor-sasl/bitdex) (Quit: = "")
[16:49:47] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 256 seconds)
[16:51:35] *** Joins: fikran (~fikran@user/fikran)
[16:51:59] *** Quits: fjmorazan (~quassel@user/fjmorazan) (Quit: fjmorazan)
[16:52:30] *** Joins: fjmorazan (~quassel@user/fjmorazan)
[16:58:50] *** Quits: DnzAtWrk (~DnzAtWrk@mobile-access-56734f-193.dhcp.inet.fi) (Read error: Connection reset by peer)
[17:06:17] *** Joins: DnzAtWrk (~DnzAtWrk@mobile-access-56734f-193.dhcp.inet.fi)
[17:31:10] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[17:32:59] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[17:45:49] *** Quits: jtiai (~jtiai@81-197-45-202.elisa-laajakaista.fi) (Read error: Connection reset by peer)
[17:47:06] *** Joins: blackout69 (~blackout6@net-109-117-245-237.cust.vodafonedsl.it)
[17:47:36] *** Quits: pepper (~pepper@user/pepper) (Ping timeout: 250 seconds)
[17:48:53] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[17:50:47] *** Joins: brsc2909 (~Thunderbi@109.255.244.60)
[17:53:56] *** Joins: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b)
[17:55:36] *** Joins: twinsignal (~twinsigna@static-198-54-134-43.cust.tzulo.com)
[17:56:07] *** Quits: DnzAtWrk (~DnzAtWrk@mobile-access-56734f-193.dhcp.inet.fi) (Read error: Connection reset by peer)
[17:56:58] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[17:57:47] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Ping timeout: 256 seconds)
[17:59:33] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[18:00:28] *** Quits: brsc2909 (~Thunderbi@109.255.244.60) (Remote host closed the connection)
[18:02:39] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[18:30:01] *** Joins: brsc2909 (~Thunderbi@109.255.244.60)
[18:38:01] *** Joins: lazzurs (~lazzurs@user/lazzurs)
[18:57:14] *** Quits: k_sze (~k_sze@mail2.kalunite.net) (Quit: ZNC 1.8.2 - https://znc.in)
[18:58:22] <niluje> anyone is using django-autocomplete-light with generic foreign keys?
[18:58:32] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[18:59:11] <niluje> I'm following documentation, and apparently FutureModelForm requires to set Meta.fields (which is not set in documentation or in examples)
[18:59:18] *** Joins: k_sze (~k_sze@mail2.kalunite.net)
[19:00:52] *** Joins: kclark (~kclark@rrcs-24-73-14-193.se.biz.rr.com)
[19:00:56] *** Joins: fikran (~fikran@user/fikran)
[19:01:47] *** Quits: kclark (~kclark@rrcs-24-73-14-193.se.biz.rr.com) (Quit: leaving)
[19:16:21] *** Joins: kerouac (~kerouac@2001:470:69fc:105::4e36)
[19:17:21] <kerouac> Hi! I have django project deployed on production stand. I had package celery in my project, but now I don't need it anymore. How to remove it properly? This package created it's own database tables and I want to drop them with migration.
[19:21:01] *** Joins: cybernomad (~cybernoma@165.16.112.235)
[19:30:52] *** Joins: mattil (~mattil@helsinki.portalify.com)
[19:32:39] <moldy> kerouac: removed it from INSTALLED_APPS and requirements.txt, remove code that uses it, drop the tables manually or maybe with a custom RunSQL migration
[19:36:45] <kerouac> will try, thx
[19:36:57] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 256 seconds)
[19:38:24] <GinFuyou> pretty sure celery doesn't make database tables, it must be some additional helper lib
[19:38:52] <moldy> it will if you use the django result backend i think
[19:39:13] <kerouac> result and celery beat, yes
[19:40:47] <GinFuyou> is not it a separate lib? Or was it included?
[19:43:43] <kerouac> well, in requirement.txt i have only `celery==5.1.2`
[19:43:48] <kerouac> and I have tables in db
[19:43:59] <kerouac> probably it's the only way to use celery in django
[19:45:02] <moldy> at some point they includes the django result backend in the main package, iirc
[19:46:31] <GinFuyou> Hm, ok. I might be on older versions then
[19:48:57] *** Joins: djapo (~archangel@user/djapo)
[19:50:27] <moldy> it will probably only create the tables if you have `django_celery_results` in your `INSTALLED_APPS`
[19:51:48] *** Joins: mattil (~mattil@d4sm71kyldfpr3lphdz-4.rev.dnainternet.fi)
[20:01:00] *** Quits: mattil (~mattil@d4sm71kyldfpr3lphdz-4.rev.dnainternet.fi) (Remote host closed the connection)
[20:01:06] *** Joins: Crassus (~Crassus@user/crassus)
[20:05:14] *** Quits: djapo (~archangel@user/djapo) (Remote host closed the connection)
[20:07:19] *** Quits: Crassus (~Crassus@user/crassus) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:08:00] *** Joins: djapo (~archangel@user/djapo)
[20:14:11] *** Quits: mrwick (~mrwick@user/mrwick) (Ping timeout: 256 seconds)
[20:21:14] *** Quits: brsc2909 (~Thunderbi@109.255.244.60) (Quit: brsc2909)
[20:21:43] *** Quits: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:22:55] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[20:24:03] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[20:31:01] *** Joins: JordiGH (~jordi@user/jordigh)
[20:31:50] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 250 seconds)
[20:32:13] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[20:32:31] <JordiGH> Adding a M2M related search field in the Django admin results in a SQL query that does a full outer join for with the M2M table for each search term.
[20:33:07] <JordiGH> So, search for "lol omg wtf brb bbq" -> 5 full outer joins -> size of table = numrows^5
[20:33:30] <JordiGH> What am I doing wrong, how do we avoid this?
[20:34:02] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[20:34:17] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[20:34:26] *** Quits: Ergo^ (~ergo@91.238.59.144) (Remote host closed the connection)
[20:35:45] *** Quits: luigibu (~luigi@11.red-79-159-71.dynamicip.rima-tde.net) (Quit: WeeChat 3.4)
[20:36:41] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Client Quit)
[20:37:12] *** Joins: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b)
[20:38:03] *** Quits: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b) (Client Quit)
[20:39:43] *** Joins: danimal4 (~dflesner@47-208-199-53.trckcmtc01.res.dyn.suddenlink.net)
[20:41:35] *** Quits: twinsignal (~twinsigna@static-198-54-134-43.cust.tzulo.com) (Quit: Leaving)
[20:47:07] *** Joins: Atque (~Atque@user/atque)
[20:53:13] *** Joins: beastDivision (~beastDivi@user/beastdivision)
[20:53:30] *** Joins: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b)
[20:54:24] *** Joins: markcerv (~markcerv3@52-119-125-204.PUBLIC.monkeybrains.net)
[20:54:44] *** Quits: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b) (Client Quit)
[20:56:42] *** Joins: pepper (~pepper@user/pepper)
[20:58:30] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:00:45] *** Joins: beastDiv1 (~beastDivi@user/beastdivision)
[21:02:54] *** Quits: beastDivision (~beastDivi@user/beastdivision) (Ping timeout: 276 seconds)
[21:08:11] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 256 seconds)
[21:10:17] *** Joins: fikran (~fikran@user/fikran)
[21:11:48] *** Joins: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b)
[21:12:08] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Ping timeout: 250 seconds)
[21:13:00] *** Quits: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b) (Client Quit)
[21:14:04] *** Joins: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec)
[21:14:23] *** Joins: yuesbeez (uid458354@id-458354.tinside.irccloud.com)
[21:21:52] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[21:21:52] *** ChanServ sets mode: +v EvilDMP
[21:26:22] *** Joins: xkuru (~xkuru@user/xkuru)
[21:28:56] *** Joins: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b)
[21:30:12] *** Quits: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b) (Client Quit)
[21:44:19] *** Joins: bambanxx (~bambanx@181-163-46-81.baf.movistar.cl)
[21:46:18] *** Joins: mattil (~mattil@helsinki.portalify.com)
[21:47:26] *** Joins: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b)
[21:48:12] *** Quits: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b) (Client Quit)
[21:51:34] *** Quits: mattil (~mattil@helsinki.portalify.com) (Ping timeout: 250 seconds)
[21:52:32] *** Quits: rje (~textual@50.35.241.164) (Ping timeout: 240 seconds)
[21:56:34] *** Quits: bambanxx (~bambanx@181-163-46-81.baf.movistar.cl) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[21:59:52] *** Joins: bambanxx (~bambanx@181-163-46-81.baf.movistar.cl)
[22:05:39] *** Joins: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b)
[22:06:54] *** Quits: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b) (Client Quit)
[22:09:06] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:19:43] *** Joins: rje (~textual@65.141.156.170)
[22:23:56] *** Joins: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b)
[22:25:13] *** Quits: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b) (Client Quit)
[22:27:09] *** Joins: llanhmod (~developer@user/domhnall/x-2887755)
[22:28:27] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[22:32:59] *** Quits: django-ticketbot (~django-ti@django/ops/ticketbot) (Remote host closed the connection)
[22:33:13] *** Joins: django-ticketbot (~django-ti@django/ops/ticketbot)
[22:40:51] *** Joins: vladoski (~foo@2001:b07:add:d406:41a8:f12c:281a:eb8b)
[22:57:25] *** Quits: ovnicraft (~ovnicraft@ftth-179-49-44-28.cue.celerity.ec) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:59:52] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4)
[23:01:56] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[23:02:55] *** Joins: audiobirb (~audio@user/audio)
[23:09:27] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 256 seconds)
[23:12:03] <beastDiv1> I have a long running migrations and it keeps failing because it says postgres closed the connection unexpectedly, how do I figure this out and resolve it?
[23:17:57] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 256 seconds)
[23:19:37] *** Joins: fikran (~fikran@user/fikran)
[23:19:38] <LordKalma> fix pg? hahah
[23:21:01] *** Quits: bambanxx (~bambanx@181-163-46-81.baf.movistar.cl) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[23:21:01] <beastDiv1> LordKalma: how do I even know what is wrong with pg? why would it close the connection?
[23:21:21] <beastDiv1> how do i even know it is a problem with PG and not something with the migration?
[23:21:44] *** Quits: Atque (~Atque@user/atque) (Quit: ...)
[23:22:21] *** Quits: cybernomad (~cybernoma@165.16.112.235) (Quit: Leaving)
[23:25:09] <ktosiek> beastDiv1: did the server crash? Do you have a transaction timeout set up?
[23:25:54] <ktosiek> Did a DBA kill the transaction, and your phone is ringing, but you don't respond because you're focused on fixing your migrations?
[23:32:06] *** Joins: ovnicraft (~ovnicraft@181.188.201.152)
[23:40:29] <beastDiv1> no DBA, server isn't crashed as far as I can tell. no idea about a transaction timeout, I'm gonna say no unless there is one by default, it's just a plain docker image running official pg v12 ktosiek
[23:45:29] <ktosiek> beastDiv1: can you look at PostgreSQL's logs? I don't think it closes connections without a very specific reason
[23:47:56] *** Joins: Ilyu (~quassel@gateway/vpn/pia/ilyu)
[23:49:45] <beastDiv1> ktosiek: this is what pg logs say, https://dpaste.org/sX0R
[23:50:37] *** Parts: blackout69 (~blackout6@net-109-117-245-237.cust.vodafonedsl.it) ()
[23:52:30] <ktosiek> Ok, so database blames the client, client blames the database, sounds like a network problem :-)
[23:52:43] *** Quits: mad_moses (~mad_moses@2a02:6d40:2348:4601:c9e8:2e6e:9229:485f) (Remote host closed the connection)
[23:52:58] <ktosiek> But first: what is the slow migration?
