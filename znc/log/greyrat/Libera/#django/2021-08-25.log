[00:07:09] *** Joins: routebee (~norman@103-205-28-236.dyn.launtel.net.au)
[00:09:07] *** Quits: Haudegen (~quassel@178.115.237.87.static.drei.at) (Quit: Bin weg.)
[00:25:18] *** Quits: shangxiao (~davids@124.182.71.141) (Quit: WeeChat 3.2)
[00:27:09] *** Quits: maroloccio (~marolocci@37.100.40.252) (Quit: WeeChat 3.0)
[00:33:17] *** Quits: routebee (~norman@103-205-28-236.dyn.launtel.net.au) (Ping timeout: 256 seconds)
[00:45:31] *** Quits: GiLgAmEzH (~gilgamezh@a210077.upc-a.chello.nl) (Ping timeout: 250 seconds)
[00:52:22] *** Joins: GinFuyou (~GinFuyou@reya.cloud.tilaa.com)
[00:53:56] *** Joins: GiLgAmEzH (~gilgamezh@a210077.upc-a.chello.nl)
[01:05:27] *** Quits: hyper_dave (~hyper_dav@197.156.107.98) (Ping timeout: 250 seconds)
[01:07:05] *** Joins: hyper_dave (~hyper_dav@197.156.107.98)
[01:09:31] *** Quits: Elzington (~Elzington@68.235.43.100) (Quit: Leaving)
[01:13:15] *** Joins: tm007 (uid287041@id-287041.highgate.irccloud.com)
[01:16:23] *** Bitflux is now known as Byteflux
[01:28:07] *** Quits: Kalov (~Thunderbi@179.56.117.154) (Quit: Kalov)
[01:31:45] *** Quits: fortuno51 (~fortuno51@37.120.156.254) (Quit: Leaving)
[01:45:52] *** Quits: EvilDMP (~textual@django/moderator/EvilDMP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:50:31] *** Quits: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl) (Ping timeout: 250 seconds)
[01:51:27] *** Joins: Elzington (~Elzington@68.235.43.172)
[01:51:43] *** Quits: Knyght (sid365271@id-365271.brockwell.irccloud.com) ()
[01:51:49] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 250 seconds)
[01:51:58] *** Joins: Knyght (sid365271@id-365271.helmsley.irccloud.com)
[01:53:10] *** Joins: fortuno51 (~fortuno51@37.120.156.254)
[01:53:43] *** Quits: fortuno51 (~fortuno51@37.120.156.254) (Remote host closed the connection)
[01:53:55] *** Joins: fikran (~fikran@user/fikran)
[01:55:21] *** Quits: cmbengue (~Thunderbi@207.191.249.160) (Quit: Thanks, see you later.)
[01:58:28] *** Quits: GiLgAmEzH (~gilgamezh@a210077.upc-a.chello.nl) (Ping timeout: 252 seconds)
[02:13:10] *** Joins: psam (~psam@73.red-37-10-141.dynamicip.rima-tde.net)
[02:15:24] *** Quits: psam (~psam@73.red-37-10-141.dynamicip.rima-tde.net) (Client Quit)
[02:15:37] *** Joins: psam (~psam@73.red-37-10-141.dynamicip.rima-tde.net)
[02:18:41] *** Quits: psam (~psam@73.red-37-10-141.dynamicip.rima-tde.net) (Client Quit)
[02:18:53] *** Joins: psam (~psam@73.red-37-10-141.dynamicip.rima-tde.net)
[02:20:26] *** Quits: psam (~psam@73.red-37-10-141.dynamicip.rima-tde.net) (Client Quit)
[02:30:46] *** Joins: routebee (~norman@103-205-28-236.dyn.launtel.net.au)
[02:37:23] *** Quits: routebee (~norman@103-205-28-236.dyn.launtel.net.au) (Ping timeout: 256 seconds)
[02:39:55] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 250 seconds)
[02:51:18] *** Joins: routebee (~norman@103-205-28-236.dyn.launtel.net.au)
[02:59:29] *** Quits: routebee (~norman@103-205-28-236.dyn.launtel.net.au) (Ping timeout: 256 seconds)
[03:16:12] *** Joins: djapo (~archangel@user/djapo)
[03:44:28] *** Joins: dre (~dre@2001:8003:c932:c301:f2dc:20c8:e2c8:6a40)
[03:45:30] *** Quits: flynn (~mcbloch@user/flynn) (Read error: Connection reset by peer)
[03:45:50] *** Joins: flynn (~mcbloch@user/flynn)
[03:47:21] *** Joins: bitdex (~bitdex@gateway/tor-sasl/bitdex)
[03:59:07] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 240 seconds)
[04:01:07] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 252 seconds)
[04:02:31] *** Quits: cliluw (~cliluw@47.147.80.149) (Quit: Leaving)
[04:03:17] *** Joins: fikran (~fikran@user/fikran)
[04:13:44] *** Joins: routebee (~norman@103-205-28-236.dyn.launtel.net.au)
[04:17:04] *** Quits: Elzington (~Elzington@68.235.43.172) (Ping timeout: 252 seconds)
[04:18:39] *** Joins: Elzington (~Elzington@68.235.43.172)
[04:23:55] *** Quits: Elzington (~Elzington@68.235.43.172) (Ping timeout: 250 seconds)
[04:26:54] *** Quits: PantelicGR (~PantelicG@user/pantelicgr) (Quit: Leaving)
[04:46:03] *** Quits: django-ticketbot (~django-ti@django/ops/ticketbot) (Remote host closed the connection)
[04:46:21] *** Joins: django-ticketbot (~django-ti@django/ops/ticketbot)
[04:49:50] <dre> has anyone used database routers here before?
[05:12:23] <FunkyBob> not in many years
[05:13:45] <nedbat> dre: it works better here to ask your question directly. People don't often volunteer as experts, and sometimes non-experts can help.
[05:14:13] *** Quits: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net) (Quit: Bye.)
[05:16:42] * FunkyBob offers nedbat hugs
[05:16:47] <FunkyBob> I need that line as a macro :P
[05:16:56] <FunkyBob> the experts line, that is
[05:22:59] <nedbat> :)
[05:24:08] *** Quits: Cyberg33k (~Cybergeek@2001:678:9ec:ff04:4811:692c:1801:c0f) (Quit: This computer has gone to sleep)
[05:26:36] <dre> ok well the docs here: https://docs.djangoproject.com/en/3.1/topics/db/multi-db/#an-example
[05:26:45] <dre> mentions: "It also doesn’t consider the interaction of transactions with the database utilization strategy"
[05:27:09] <dre> I'm trying to make a db router where I can read from one db and write to another, but I get stuck with a:
[05:27:20] <dre> TransactionManagementError: select_for_update cannot be used outside of a transaction.
[05:28:24] <dre> How can I get around this? also it's a bit hard to provide a minimal viable example because it's pretty in-depth sort of stuff.
[05:32:04] <FunkyBob> I mean... the "obvious" answer is... don't try to use select_for_update outside a transaction... are you trying to have a read replica and write lead instance?
[05:32:38] <dre> The database I'm connected to is read-only. so I want to be able to put every write operation onto the "local-write-db" - but I feel that maybe this whole idea won't work with the "select_for_update" which must be from the same db.
[05:32:59] <dre> perhaps I need to do something else
[05:33:11] <FunkyBob> it only makes sense on a DB you're locking from interfering writes
[05:33:30] <FunkyBob> what is your purpose in using select_for_update ?
[05:36:19] <dre> not my code. deep in the belly of the beast of a billing system... maybe I can just comment it out for now xD
[05:36:55] <FunkyBob> it's rather important to understand why it's locking the rows to know how to handle it correctly
[05:40:25] <dre> it's trying to make a lock to prevent concurrency writes, which is not our problem here, but then getting further into it I can't do many "insert or updates"
[05:40:52] <dre> I'm wondering if there's a way to say "before reading, copy from prod to local, then read off local"
[05:44:56] *** Joins: thiras (~thiras@user/thiras)
[05:55:51] <dre> Is there a way to do that? like some sort of catchall "before running this SQL command on this database" command?
[05:57:51] <FunkyBob> nothing clean
[05:58:38] <wallbroken> https://www.dropbox.com/s/vlqtx9nal7v3h7h/15.54.06.ogg?dl=0
[05:58:51] <bparker> I use db routers on one site, but for read-only
[05:58:55] <wallbroken> may I ask you which kind of country accent is it?
[05:59:41] <bparker> sounds like Scottish
[06:00:28] <wallbroken> bparker: not american at all?
[06:00:32] <bparker> nope
[06:00:38] <bparker> not even close
[06:00:40] <FunkyBob> sounds Scottish to me.
[06:01:40] <wallbroken> ok, thanks
[06:01:55] <wallbroken> it's very hard to understand what they says
[06:02:05] <wallbroken> but i need to work with him
[06:02:20] <bparker> I can understand it
[06:02:42] <wallbroken> easily?
[06:02:47] <FunkyBob> yes
[06:03:18] <FunkyBob> you should try the heavy scottish accents, or geordie... they're trickier :P
[06:03:52] <wallbroken> to me it looks like unexpressive. like they cut half of words
[06:04:01] <wallbroken> american is much more easy
[06:04:16] <FunkyBob> it's a very mild scottish accent,
[06:04:53] <FunkyBob> also... which "american" accent do you mean?
[06:05:52] <wallbroken> https://www.youtube.com/watch?v=e95qrJQOnnU
[06:06:01] <wallbroken> this is my company staff
[06:06:10] <wallbroken> they are easy to be understand
[06:06:34] <FunkyBob> sounds a bit souther to me...
[06:06:38] <FunkyBob> southern
[06:07:19] <FunkyBob> oh dear... "AI powered price optimization"....
[06:08:00] <bparker> Texas
[06:08:02] <dre> built by wallbroken himself :D
[06:08:23] <bparker> he's in Austin
[06:08:52] <bparker> I can understand that guy way better than the Scotsman
[06:09:09] <bparker> I got maybe 90% of the previous clip
[06:09:15] <bparker> but there were some terms I was unfamiliar with
[06:09:24] <bparker> might not have even been a Scottish thing
[06:09:40] <wallbroken> Scottish buddy is terrible
[06:09:50] <FunkyBob> doesn't help the recording is terrible
[06:10:03] <bparker> I mean if I was in the same room with him for example, I would be a lot more confident
[06:10:06] <bparker> yea
[06:10:27] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[06:10:59] <bparker> I know some americans really struggle with other countries' accents but I tend to listen to more of it than most
[06:11:29] <wallbroken> bparker: that clip is very easy to understand
[06:11:38] <bparker> the american guy yea
[06:12:02] <bparker> now try to understand someone like Popcorn Sutton
[06:12:22] <FunkyBob> I watch a lot of british panel shows...
[06:12:39] *** Joins: fikran (~fikran@user/fikran)
[06:12:45] <wallbroken> maybe if you try to hear some american man coming from the middle of nowhere, it could be a different experience...
[06:13:53] <wallbroken> dre: "AI" is a commercial thing, they are just algorithm to implement
[06:14:50] <FunkyBob> AI is marketing lies
[06:16:38] <wallbroken> for example a simple forecasting algorithm to know which stocks are most sell basing on the previous seasonality, they call this "AI"
[06:25:06] *** Quits: jasonbraganza (jasonbraga@user/jasonbraganza) (Quit: Au revoir …)
[06:27:10] *** Joins: jasonbraganza (jasonbraga@user/jasonbraganza)
[07:04:15] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 250 seconds)
[07:09:13] <FunkyBob> wallbroken: yes... lies.
[07:12:11] *** Parts: hemebond (~james@240b:12:12e2:f00:5604:a6ff:fe2c:50df) ()
[07:17:29] *** Joins: Utkarsh (~Utkarsh@2405:201:2:4190:a252:698b:7903:2675)
[07:22:33] *** Quits: Utkarsh (~Utkarsh@2405:201:2:4190:a252:698b:7903:2675) (Quit: Leaving)
[07:33:00] *** Joins: Elzington (~Elzington@68.235.43.172)
[07:41:55] <dang`r`us> FunkyBob's right, AI is marketing lies
[08:01:56] *** Joins: PaulWay (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75)
[08:02:35] <PaulWay> Anyone here used the Graphene-Django library to provide a GraphQL interface when you're already using DRF?
[08:18:19] *** Joins: rob4227 (~Thunderbi@136.144.35.14)
[08:19:47] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[08:19:58] *** Quits: rob4226 (~Thunderbi@136.144.35.21) (Ping timeout: 250 seconds)
[08:19:59] *** rob4227 is now known as rob4226
[08:22:01] *** Joins: fikran (~fikran@user/fikran)
[09:00:25] <CapnKernel> Hello.  I'm having problems with "coverage".  When I run coverage run ./manage.py tests, then coverage html, in the generated html I can see which lines were run and which weren't.  However if I run coverage run ./manage.py runserver, visit my web pages, then run coverage html, the html says that the code activated by the web page visits hasn't been run.  Does coverage support ./manage.py runserver, or only tests?
[09:11:08] <CapnKernel> wallbroken: Re "like they cut half of words", in that video of Mark Hafner, he cuts words all the time. t=10 "gonna be" becomes "go be", t=15 "what I'm always" becomes "wom always" t=19 "create an environment" becomes "create environment", and so on.  At t=23 he even turns "revionics into "revionx"!  No true scotsman would cut words like that!  https://en.wikipedia.org/wiki/No_true_Scotsman
[09:12:40] <CapnKernel> nedbat: LOL I think you've had the same problem: https://stackoverflow.com/questions/7051070/why-doesnt-coverage-py-properly-measure-djangos-runserver-command
[09:14:26] <PaulWay> Hi CapnKernel
[09:15:11] <PaulWay> I'd just recommend writing the unit tests :-)
[09:17:08] <CapnKernel> G'day PaulWay.  There's always that.
[09:17:55] <CapnKernel> Was really just hoping to do some quick eyeballed coverage.  The code won't be in use for long, so the RoI for writing a test case is low.
[09:18:50] <CapnKernel> And I think the answer is "run ./manage.py runserver with --noreload"
[09:29:45] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:40:41] *** Quits: routebee (~norman@103-205-28-236.dyn.launtel.net.au) (Ping timeout: 256 seconds)
[09:53:57] <PaulWay> CapnKernel: ah, now that does make sense.
[09:54:50] *** Quits: zBeeble (~zBeeble@2001:1928:1::35) (Quit: Leaving)
[10:02:16] *** Quits: GinFuyou (~GinFuyou@reya.cloud.tilaa.com) (Remote host closed the connection)
[10:12:07] *** Joins: djapo (~archangel@user/djapo)
[10:16:31] <serafeim> hello friends
[10:16:42] <serafeim> any idea why django is missing some of my translation strings ?
[10:18:19] <serafeim> and if i could debug that problem somehow
[10:20:34] *** Quits: explore (uid233125@id-233125.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[10:22:48] *** Joins: zBeeble (~zBeeble@2001:1928:1::35)
[10:27:55] <dodo> serafeim: how do you know they are missing?
[10:29:13] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 250 seconds)
[10:29:24] *** Joins: txtsd (~txtsd@user/txtsd)
[10:31:24] *** Joins: fikran (~fikran@user/fikran)
[10:35:55] *** Joins: mattil (~mattil@d46-dyfrknk2wtxymj8-4.rev.dnainternet.fi)
[10:43:50] *** Joins: Elzington_ (~Elzington@68.235.43.14)
[10:44:16] *** Quits: Elzington (~Elzington@68.235.43.172) (Ping timeout: 252 seconds)
[10:44:47] *** Quits: mattil (~mattil@d46-dyfrknk2wtxymj8-4.rev.dnainternet.fi) (Ping timeout: 240 seconds)
[10:59:45] <serafeim> dodo: they are not present in my django.js files
[11:00:16] <serafeim> other strings near them are there and get translated
[11:02:00] <serafeim> for example i've got this table: https://dpaste.org/mJNn ... for some reason, the `__("Recipients")` translation is not picked up while the `__("Sender")` just above it is
[11:02:24] <wallbroken> do you know if in github is possible to set private just some files of a public project?
[11:16:42] <PaulWay> AFAIK no wallbroken.
[11:17:09] <PaulWay> It might be possible in the filesystem permissions via git, which does record those permissions.
[11:17:28] <PaulWay> But I don't know how far those extend.
[11:18:40] <PaulWay> E.g. I don't know if it stores say the full Unix user/group/other permissions, which would be the only way I can see to have a file that the user or group or other was denied access to.
[11:19:56] <PaulWay> There might be other parts of what Github offer - e.g. wikis - that have permissions on some files.
[11:20:44] <PaulWay> However, the actual git repository firstly has to be ready by git running as that user anyway, and secondly has to be written by the user when the repository is cloned.
[11:23:25] *** Joins: gillzon_ (~gillzon@2-249-139-174-no288.tbcn.telia.com)
[11:31:37] *** Quits: PaulWay (~PaulWay@2001:44b8:1110:f800:4b79:e11c:c2f:5c75) (Ping timeout: 250 seconds)
[11:38:47] *** Quits: jack__d (~jack__d@pool-98-109-145-13.nwrknj.fios.verizon.net) (Ping timeout: 240 seconds)
[11:40:55] *** Joins: jack__d (~jack__d@pool-98-109-145-13.nwrknj.fios.verizon.net)
[11:41:05] <CapnKernel> wallbroken: What kind of info do you want to keep private?  Keys?
[11:41:35] *** Joins: sodimel (~co@31.32.214.113)
[11:42:57] <CapnKernel> wallbroken: In general, you don't store keys in files checked into git.  Here's a discussion of best practice: https://stackoverflow.com/questions/15209978/where-to-store-secret-keys-django
[11:45:13] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 248 seconds)
[11:52:01] *** Joins: EvilDMP (~textual@django/moderator/EvilDMP)
[11:52:01] *** ChanServ sets mode: +v EvilDMP
[11:58:17] *** Joins: no_gravity (~no_gravit@user/no-gravity/x-5639427)
[11:58:21] <no_gravity> Good Morning
[12:09:14] *** Quits: sodimel (~co@31.32.214.113) (Quit: Konversation terminated!)
[12:23:53] *** Quits: felixx (felixx@django/moderator/felixx) (Quit: ZNC - https://znc.in)
[12:23:53] *** Quits: apollo13 (apollo13@django/moderator/apollo13) (Quit: ZNC - http://znc.in)
[12:26:06] *** Joins: apollo13 (apollo13@django/moderator/apollo13)
[12:26:06] *** ChanServ sets mode: +v apollo13
[12:26:29] *** Joins: felixx (felixx@django/moderator/felixx)
[12:26:29] *** ChanServ sets mode: +v felixx
[12:29:49] *** Quits: svedrin (~quassel@tiamat.funzt-halt.net) (Quit: https://quassel-irc.org - Komfortabler Chat. Überall.)
[12:30:55] *** Joins: svedrin (~quassel@tiamat.funzt-halt.net)
[12:38:27] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[12:40:47] *** Joins: fikran (~fikran@user/fikran)
[12:45:52] <CapnKernel> Hello.  I'm trying to roll back an auto-generated migration, but I'm getting a db integrity error regarding a foreign key field (from accounts.models.Member.membership to main.models.Membership).  But when I look at the data, it looks ok: There's a row in main.models.Membership with an id that matches accounts.models.Member.membership_id.  https://dpaste.org/o0Uy
[12:45:57] <CapnKernel> Any thoughts on what I'm doing wrong?
[12:54:39] *** Joins: serghei (~egrep@user/serghei)
[12:54:58] *** Quits: twomoon (~twomoon@ip72-199-58-150.sd.sd.cox.net) (Quit: Leaving)
[12:59:21] *** Quits: serghei (~egrep@user/serghei) (Ping timeout: 248 seconds)
[13:00:36] <jor> CapnKernel: no, but I would guess it has nothing to do with the migrations and the database was already inconsistent
[13:01:06] <jor> should double check the foreign keys definitions in the database
[13:02:48] <CapnKernel> jor: Yes I think so.  I have some more information.  There's a consistency check in the sqlite code: https://github.com/django/django/blob/main/django/db/backends/sqlite3/base.py#L322
[13:02:56] *** Joins: Cyberg33k (~Cybergeek@2001:678:9ec:ff04:3dc0:6d53:3ba3:2d4d)
[13:03:17] <CapnKernel> That's running PRAGMA foreign_key_check on the sqlite db.
[13:03:25] <CapnKernel> https://www.sqlite.org/pragma.html#pragma_foreign_key_check
[13:03:49] <jor> yeah, sure. But that's good :)
[13:03:57] <CapnKernel> When I run PRAGMA foreign_key_check from ./manage dbshell, there's no output (just goes back to the prompt)
[13:04:34] <CapnKernel> But when the migration is unapplied, violations gets the value of "('accounts_member', 1, 'main_member', 0)
[13:04:35] <jor> but you error mentions membership_id -> main_member.id, which sounds weird
[13:04:39] *** Parts: no_gravity (~no_gravit@user/no-gravity/x-5639427) ()
[13:05:14] <CapnKernel> Yes, and that's giving me a clue about the problem.  main_member has been renamed to main_membership, but there still seems to be a reference by accounts_member to main_member.
[13:05:40] <jor> yeah, some orphan foreign key that didn't get cleaned/migrated
[13:07:07] *** Quits: txtsd (~txtsd@user/txtsd) (Ping timeout: 240 seconds)
[13:08:08] <CapnKernel> I just dumped the db, and the definition of the table in the db is this: CREATE TABLE IF NOT EXISTS "accounts_member" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, [stuff deleted]  "membership_id" integer NOT NULL UNIQUE REFERENCES "main_membership" ("id") DEFERRABLE INITIALLY DEFERRED [stuff deleted]);
[13:08:54] <CapnKernel> So it has REFERENCES "main_membership", as I'd expect.  "main_member" occurs nowhere in the dump.  So I don't know why
[13:09:03] <CapnKernel> ('accounts_member', 1, 'main_member', 0) is referring to main_member.
[13:09:19] *** Joins: txtsd (~txtsd@user/txtsd)
[13:09:58] <CapnKernel> Perhaps reversing the migration is (for some reason) renaming main_membership back to main_member.  That would explain why PRAGMA foreign_key_check returns nothing from the sqlite shell
[13:11:39] <CapnKernel> I'll explore how to find which SQL statements are run prior to that point (because I think the db is otherwise ok)
[13:13:26] <jor> well, the sqlmigrate command usually helps with that
[13:13:57] <jor> and if you happen to already have django-extensions, its sqldiff might also give some quick insight :/
[13:15:21] <CapnKernel> That's very helpful, thank you  I already have django-extensions.  I'll do some reading
[13:17:10] <CapnKernel> Holy crap https://dpaste.org/hSzX
[13:17:32] <CapnKernel> There are references to main_member, which is not going to work.
[13:19:29] <CapnKernel> The sql looks like it matches migration 0004: https://dpaste.org/5Ds6
[13:19:47] <CapnKernel> But I don't want to run migration 0004, I want to roll back 0005 to 0004.
[13:25:44] <gcbirzan> are you sure you're on 0005?
[13:26:40] <CapnKernel> Yeah, line 12: https://dpaste.org/o0Uy#L49
[13:28:01] <CapnKernel> And line 52 says it's unapplying 0005
[13:29:25] <jor> CapnKernel: need to pass --backwards to sqlmigrate command
[13:29:53] <CapnKernel> A few weeks ago I renamed accounts.models.CustomUser to accounts.models.Member, and main.models.Member to main.models.Membership.  Django gets really unhappy when you try to rename the customuser model, so I took some "liberties".  I thought I got away with it.
[13:30:22] *** Joins: tga (~tga@user/tga)
[13:30:34] <tga> greetings. what's the go-to app for in-model translations?
[13:33:41] <CapnKernel> tga: I've used this: https://github.com/ecometrica/django-vinaigrette/
[13:34:37] <CapnKernel> I had one model which stored names of states, and another model with a state field which is an fk to the state names.
[13:34:56] <CapnKernel> Vinaigrette let me translate the state names on the fly, without extra code
[13:35:13] <CapnKernel> Is that what you want to do?
[13:35:21] <CapnKernel> And I don't know if it's the go-to, but it worked for me
[13:36:13] <CapnKernel> tga: Looks like there are many other choices: https://djangopackages.org/grids/g/model-translation/
[13:43:14] <tga> right, I saw the grid but wasn't sure what to go with
[13:43:20] <tga> vinaigrette looks promising
[13:57:51] <serafeim> hello friends, for anybody interested i've writen a new article about token authentication in DRF: https://spapas.github.io/2021/08/25/django-token-rest-auth/
[14:03:10] *** Joins: rob4227 (~Thunderbi@136.144.35.51)
[14:04:10] *** Quits: rob4226 (~Thunderbi@136.144.35.14) (Ping timeout: 240 seconds)
[14:04:10] *** rob4227 is now known as rob4226
[14:04:40] *** Joins: DnzAtWrk (~DnzAtWrk@mobile-access-56739f-227.dhcp.inet.fi)
[14:07:34] *** Quits: kyern (~Thunderbi@178.72.91.102) (Read error: Connection reset by peer)
[14:28:55] *** Joins: serghei (~egrep@user/serghei)
[14:29:50] <duoi> serafeim no article about token auth in DRF is complete without suggesting rest-knox
[14:30:29] <serafeim> ha ha ha ha
[14:32:05] <serafeim> duoi: ok seems like a nice package but i don't want to update the article with that info right now
[14:33:04] *** Quits: serghei (~egrep@user/serghei) (Ping timeout: 252 seconds)
[14:33:58] <duoi> its a really nice and soemwhat underrated package. adds a lot of things that were missing in drf - at the very least introduces multiple tokens and token expiry.
[14:34:41] <serafeim> yes i saw the info it's useful in a lot of cases
[14:36:13] <duoi> serafeim one thing maybe worth giving a line to is that if someone is working with an apache web server they'd need to enable WSGIPassAuthorization in order to enable token auth
[14:36:24] *** Joins: kezabelle (~kezabelle@cpc119866-nrwh12-2-0-cust31.4-4.cable.virginm.net)
[14:36:44] <serafeim> really? i'm not using apache so i don't know anything about that :)
[14:37:18] <serafeim> are there still people using mod_wsgi ?
[14:37:26] <serafeim> i was using it like 10 years ago
[14:45:03] <kezabelle> tbf 10 years ago it was about all that was available
[14:45:21] <kezabelle> (ignoring mod_python...)
[14:45:27] <serafeim> crazy days
[14:45:28] <duoi> serafeim haha still used yes, i think it makes up something like 30% market share
[14:45:44] <serafeim> oh wel... i guess i could add a couple of lines in the end
[14:45:46] <kezabelle> also mod_wsgi is just rock solid IME, same as Apache.
[14:46:28] <duoi> https://www.similartech.com/compare/apache-vs-nginx
[14:46:32] <duoi> apparently more than nginx wow
[14:47:00] <duoi> i dont think ive touched apache for 5+ years
[14:47:21] <kezabelle> I wish I'd only touched apache in the last 5 years :p
[14:48:10] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[14:50:09] *** Joins: fikran (~fikran@user/fikran)
[14:53:35] <serafeim> i've added a couple of remarks in the end of the article to cover both the django knox and the apache situations
[14:53:52] <serafeim> i've got a couple of django 1.4 projects that are running in apache
[14:54:32] <duoi> ncie
[14:55:00] <duoi> back to my woeful UK job search :p
[14:55:41] <serafeim> are you looking for a job in the UK >?
[14:55:54] <duoi> yeah
[14:56:11] <serafeim> have you tried torchbox they are looking for a python dev https://torchbox.com/jobs/ and is a great company
[14:56:24] <duoi> mostly EU remote, dont actually want to be in the UK unless i absolutely have to
[14:56:28] <serafeim> ah
[14:56:33] <duoi> ah nice, ill take a look
[14:57:09] <serafeim> they seem to allow remote work
[14:57:21] <kezabelle> ooooh
[14:57:26] <kezabelle> race you duoi :p
[14:57:28] <serafeim> plus thhey are the creators of wagtail so it'll be mostly wagtail related work
[14:58:19] <duoi> seems to be on the very bottom end of the UK pay scale
[14:59:08] <serafeim> hmm i'm not sure about the payment but they are great people and are mainly doing work for non-profits
[14:59:57] <kezabelle> wtf even is the UK pay scale outside London? :p
[15:01:08] <kezabelle> also duoi, how long have you been looking? You describing it as woeful is worrying to me :)
[15:02:56] <duoi> kezabelle haha woeful to the extent that i don't hold a UK working visa, i'm from Australia. So the responses i get are mostly to the effect of "you're more qualified than the other candidiates, but the visa situation is a no go"
[15:03:08] <kezabelle> ah
[15:03:18] <kezabelle> phew, perhaps no need for me to panic just yet then :p
[15:03:29] <kezabelle> (selfishly, I know ;))
[15:04:22] <duoi> oh if you're after django jobs in the UK there are plenty and they pay very well. the UK government currently has a role paying 700 gbp/day. that's... a lot of money.
[15:05:00] <kezabelle> interesting, perhaps I should get off my behind and start looking.
[15:08:37] <jor> hehe, theymust be pretty desperate... but yeah, who would want to work for the UK government ;)
[15:09:00] <kezabelle> depends on the arm really.
[15:09:33] *** Joins: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl)
[15:09:50] <kezabelle> GDS I think are still decent? or were a while back. NHS might be frustrating but I mean ... it's the NHS. Literal socialism godsend, so :)
[15:27:22] *** Quits: coldmountain (sid484352@id-484352.brockwell.irccloud.com) ()
[15:27:37] *** Joins: coldmountain (sid484352@id-484352.helmsley.irccloud.com)
[15:28:00] *** Quits: vdamewood (~vdamewood@fedora/vdamewood) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:28:57] <anorthall> I have a series of BooleanFields on a model. In Django admin, I want to make them editable as one field, with a select multiple box. This is what I currently have: https://files.ilk.im/django.png . This is what I want: https://files.ilk.im/django2.png . Can anyone make a suggestion please?
[15:29:21] <kezabelle> duoi: follow up question, if you'll indulge me. Recommendations/preferences on decent websites to use for jobhunting? Last time I looked for a job we still used newspapers to find them :p
[15:29:43] <duoi> anorthall would a dropdown box work?
[15:30:10] <anorthall> duoi: as long as I can select multiple values
[15:30:21] <kezabelle> anorthall: leave it with what you have? it's vastly superior :p
[15:30:48] *** Joins: vdamewood (~vdamewood@fedora/vdamewood)
[15:30:56] <anorthall> kezabelle: but, usually you will select either all of Mon-Fri, or only Sat or Sun, so having to uncheck 5 boxes Mon-Fri to select Sat or Sun is poor UX
[15:30:57] <kezabelle> <select multiple> is such crap from an accessibility POV.
[15:31:07] <anorthall> Maybe I could have some sort of javascript to auto-do it?
[15:31:11] <kezabelle> anorthall: well, that's the job of some JS to toggle them :)
[15:31:19] <duoi> anorthall oh, i see what you mean. there is a built in SelectMultiple widget. you might have to manually parse the values if each boolean represents an individual model field.
[15:31:33] <anorthall> ahh. i feel like JS toggle might be the way forward
[15:31:42] <duoi> kezabelle linkedin and indeed seem pretty good
[15:31:48] <kezabelle> it is. it's strictly better :p
[15:32:02] <anorthall> thanks for helping me reach the conclusion duoi kezabelle
[15:32:03] <kezabelle> duoi: oh boy I guess I'll have to get a linkedin account then :o)
[15:32:06] <duoi> https://docs.djangoproject.com/en/3.2/ref/forms/widgets/#selectmultiple
[15:32:13] *** Quits: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net) (Quit: If dreams are like movies, then memories are films about ghosts.)
[15:32:20] <duoi> kezabelle yeah i made one just for this unfortunately
[15:32:25] *** Joins: withered_wolf (~withered_@1437135-v103.1561-static.stchilaa.metronetinc.net)
[15:32:41] <anorthall> duoi: ah I didn't realise there was a built in SelectMultiple
[15:32:56] <anorthall> thank you, but I think JS toggle is the way forward, now that kezabelle has pointed that out
[15:32:57] <kezabelle> anorthall: fwiw, a reason a series of checkboxes is better accessibility wise is it's always obvious which are selected and toggleable, and it's _easy_ to unselect them.
[15:33:34] <anorthall> kezabelle: that's understood
[15:33:53] <kezabelle> duoi: thx for suggestions. When I figure out how to write a CV, I'm sure they'll be useful :)
[15:33:55] <anorthall> I guess I got frustrated because I had to manually add 30 of these models and untick/tick 180 checkboxes in doing so
[15:34:03] <anorthall> can't believe I didn't think of JS before
[15:34:17] <kezabelle> lol
[15:34:42] <anorthall> <3
[15:35:05] <kezabelle> when in doubt, just use the REPL to make them ;)
[15:35:48] <anorthall> kezabelle: hmm yes, considering I will have to do this process twice a year, it might make sense to make something better to do it
[15:35:59] <anorthall> the app is early stages atm
[15:50:04] *** Quits: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl) (Ping timeout: 252 seconds)
[15:56:50] *** Quits: sa (sid1055@id-1055.tinside.irccloud.com) (Ping timeout: 272 seconds)
[15:58:44] *** Joins: sa (sid1055@id-1055.tinside.irccloud.com)
[16:03:55] *** Joins: Ergo^ (~ergo@91.238.59.144)
[16:11:11] *** Joins: shangxiao (~davids@124.182.71.141)
[16:26:31] *** Joins: warnabas (~warnabas@213.172.90.212)
[16:27:22] <warnabas> hi, how should I implement fuzzy search with levenstein algorithm in Django?
[16:28:32] <shangxiao> warnabas: against the database?
[16:28:36] <warnabas> pg
[16:29:17] <shangxiao> warnabas: postgres has a levenshtein function: https://www.postgresql.org/docs/current/fuzzystrmatch.html#id-1.11.7.24.7
[16:30:03] <warnabas> I found some staff about it, but does django has ORM implementation of it or should it be vanila PG
[16:30:24] <warnabas> thanks
[16:31:18] <shangxiao> warnabas: no need for vanilla, django has a generic function for db functions, one sec trying to find the docs page
[16:33:06] <shangxiao> warnabas: ah here: https://docs.djangoproject.com/en/3.2/ref/models/expressions/#func-expressions
[16:34:25] <warnabas> so I should link what you sent and this one https://docs.djangoproject.com/en/dev/ref/contrib/postgres/lookups/#trigram-similarity
[16:34:59] <warnabas> thanks, shangxiao
[16:35:29] *** Quits: rob4226 (~Thunderbi@136.144.35.51) (Quit: rob4226)
[16:39:47] *** Quits: Cyberg33k (~Cybergeek@2001:678:9ec:ff04:3dc0:6d53:3ba3:2d4d) (Quit: This computer has gone to sleep)
[16:39:55] *** Joins: Diemuzi (~Diemuzi@ip68-106-203-17.pn.at.cox.net)
[16:43:31] <shangxiao> warnabas: you could create a custom lookup for levenshtein, that's certainly a nice option... makes it more readable :)
[16:57:07] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 240 seconds)
[16:59:31] *** Joins: fikran (~fikran@user/fikran)
[17:12:58] *** Quits: b-rex (van@down.by.the.river.lol) (Quit: ZNC 1.8.2 - https://znc.in)
[17:14:08] *** Joins: b-rex (van@down.by.the.river.lol)
[17:19:13] *** Quits: bitdex (~bitdex@gateway/tor-sasl/bitdex) (Quit: = "")
[17:24:42] *** Joins: taihim (~taimur@115-186-141-59.nayatel.pk)
[17:25:35] *** Quits: taihim (~taimur@115-186-141-59.nayatel.pk) (Client Quit)
[17:41:18] *** Quits: deniska (~denis@user/deniska) (Remote host closed the connection)
[17:41:28] *** Joins: deniska (~denis@user/deniska)
[17:45:55] *** Joins: PantelicGR (~PantelicG@user/pantelicgr)
[17:51:41] *** Quits: warnabas (~warnabas@213.172.90.212) (Remote host closed the connection)
[17:55:07] *** Quits: jack__d (~jack__d@pool-98-109-145-13.nwrknj.fios.verizon.net) (Ping timeout: 250 seconds)
[17:57:06] *** Joins: jack__d (~jack__d@pool-98-109-145-13.nwrknj.fios.verizon.net)
[18:32:58] *** Quits: tm007 (uid287041@id-287041.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[18:35:14] *** Joins: Skyz (~Skyz@user/skyz)
[18:36:17] *** Quits: Skyz (~Skyz@user/skyz) (Client Quit)
[18:37:52] *** Quits: DnzAtWrk (~DnzAtWrk@mobile-access-56739f-227.dhcp.inet.fi) (Read error: Connection reset by peer)
[18:45:13] *** Joins: cmbengue (~Thunderbi@207.191.249.160)
[18:54:59] *** Quits: Xeago (~Xeago@user/xeago) (Ping timeout: 252 seconds)
[19:00:04] *** Joins: Xeago (~Xeago@user/xeago)
[19:00:41] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[19:02:04] *** Joins: djapo (~archangel@user/djapo)
[19:06:37] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 250 seconds)
[19:08:54] *** Joins: fikran (~fikran@user/fikran)
[19:19:01] *** Joins: explore (uid233125@id-233125.stonehaven.irccloud.com)
[19:49:16] *** Joins: twinsignal (~twinsigna@68.235.43.52)
[19:51:36] *** Joins: thiras (~thiras@user/thiras)
[19:56:33] *** Quits: gillzon_ (~gillzon@2-249-139-174-no288.tbcn.telia.com) (Remote host closed the connection)
[20:03:59] *** Joins: LuxuryMode (uid91005@id-91005.charlton.irccloud.com)
[20:09:46] *** Joins: pro_z (~pro_z@37.214.45.81)
[20:14:09] *** Quits: kezabelle (~kezabelle@cpc119866-nrwh12-2-0-cust31.4-4.cable.virginm.net) (Quit: Leaving...)
[20:18:29] *** Quits: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi) (Read error: Connection reset by peer)
[20:25:01] *** Joins: Donitz (~Donitz@85-156-203-108.elisa-laajakaista.fi)
[20:36:20] *** Joins: Skyz (~Skyz@user/skyz)
[20:36:43] *** Quits: klotzhauer (~klotzhaue@gibtesnochklopapier.de) (Quit: ZNC 1.8.2 - https://znc.in)
[20:37:32] *** Joins: klotzhauer (~klotzhaue@gibtesnochklopapier.de)
[20:41:45] <cusco> hello... if I have model Content(models.Model)  and model Video(Content) - so video is content with extra fields... I convert content to video like this: video_instance.__dict__.update(content_instance.__dict__)
[20:41:57] <cusco> and if I need to remove the vide instance, how do I do it?
[20:44:47] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 240 seconds)
[20:46:28] *** Joins: GinFuyou (~GinFuyou@reya.cloud.tilaa.com)
[20:47:03] *** Quits: twinsignal (~twinsigna@68.235.43.52) (Quit: Leaving)
[20:53:07] *** Quits: djapo (~archangel@user/djapo) (Ping timeout: 240 seconds)
[20:56:20] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[20:58:43] *** Joins: knbk (~quassel@84-24-92-123.cable.dynamic.v4.ziggo.nl)
[21:00:57] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 248 seconds)
[21:05:26] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[21:10:07] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 250 seconds)
[21:16:11] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 250 seconds)
[21:16:34] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[21:18:20] *** Joins: fikran (~fikran@user/fikran)
[21:23:44] *** Joins: bambanxx (~bambanx@pc-223-49-214-201.cm.vtr.net)
[21:28:41] *** Joins: brylie (~Thunderbi@81-197-199-179.elisa-laajakaista.fi)
[21:29:57] *** Quits: brylie (~Thunderbi@81-197-199-179.elisa-laajakaista.fi) (Client Quit)
[21:30:03] *** Quits: bambanxx (~bambanx@pc-223-49-214-201.cm.vtr.net) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[21:41:01] *** Joins: Utkarsh (~Utkarsh@2405:201:2:4190:8702:5f1d:8eee:480c)
[21:45:52] *** Quits: jochum (~jochum@user/jochum) (Ping timeout: 245 seconds)
[21:46:41] *** Joins: jochum (~jochum@user/jochum)
[21:48:27] *** Quits: Utkarsh (~Utkarsh@2405:201:2:4190:8702:5f1d:8eee:480c) (Quit: Leaving)
[21:48:41] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 250 seconds)
[21:53:47] *** Joins: Utkarsh (~Utkarsh@2405:201:2:4190:8702:5f1d:8eee:480c)
[21:55:02] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[22:17:04] *** Joins: mjacksonw (~mjacksonw@146.115.135.232)
[22:18:13] *** Quits: Ergo^ (~ergo@91.238.59.144) (Remote host closed the connection)
[22:20:12] *** Joins: Xof (~Xof@157-131-136-66.dedicated.static.sonic.net)
[22:21:52] *** Quits: Utkarsh (~Utkarsh@2405:201:2:4190:8702:5f1d:8eee:480c) (Quit: Leaving)
[22:23:35] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[22:26:52] *** Joins: thiras (~thiras@user/thiras)
[22:27:07] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 240 seconds)
[22:33:52] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[22:52:37] *** Joins: Haudegen (~quassel@178.115.237.87.static.drei.at)
[22:54:51] *** Quits: Skyz (~Skyz@user/skyz) (Quit: Client closed)
[23:06:47] *** Quits: pathos (~pathos@169-1-247-122.ip.afrihost.co.za) (Ping timeout: 240 seconds)
[23:14:32] *** Joins: pathos (~pathos@169-1-247-122.ip.afrihost.co.za)
[23:17:24] *** Quits: Batzy (~Batzy@user/batzy) (Ping timeout: 250 seconds)
[23:23:00] *** Joins: Batzy (~Batzy@user/batzy)
[23:24:41] *** Joins: rob4226 (~Thunderbi@136.144.35.51)
[23:25:29] *** Quits: fikran (~fikran@user/fikran) (Ping timeout: 248 seconds)
[23:27:43] *** Joins: fikran (~fikran@user/fikran)
[23:43:33] *** Quits: jess (~jess@libera/staff/jess) ()
[23:52:02] *** Joins: twomoon (~twomoon@ip72-199-58-150.sd.sd.cox.net)
