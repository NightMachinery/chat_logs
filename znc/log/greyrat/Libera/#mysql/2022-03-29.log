[00:41:23] *** Quits: ueberall (ueberall_l@user/ueberall) (Quit: ZNC)
[00:43:45] *** Joins: ueberall (ueberall_l@user/ueberall)
[00:56:30] *** Quits: magga (magga@ti0036a400-3577.bb.online.no) (Remote host closed the connection)
[00:59:03] *** Quits: David- (~none@5750642f.skybroadband.com) (Quit: /)
[01:00:12] *** Joins: David- (~none@host81-149-15-132.in-addr.btopenworld.com)
[01:21:45] *** Quits: vnf (~vnf@46.159.151.228) (Quit: Leaving)
[01:30:12] *** Joins: vnf (~vnf@46.159.151.228)
[01:45:16] <Caterpillar> do you know any good example of debugging MYSQL_DATA_TRUNCATED error? I am still struggling in finding out a fix for   https://stackoverflow.com/questions/71550777/c-program-cannot-get-result-value-from-mysql-procedure/71550884  (don't worry if you read MariaDB, I have been able to reproduce the same in MySQL 8.0.28   Thank you
[02:09:40] *** Quits: vnf (~vnf@46.159.151.228) (Quit: Leaving)
[02:21:38] *** Quits: DaNeenjah (~jake@adsl-74-230-4-23.hsv.bellsouth.net) (Quit: WeeChat 3.5)
[02:55:48] *** Quits: nb (~nb@fedora/ansible.user.nb) (Quit: The Lounge - https://thelounge.chat)
[02:58:58] *** Joins: nb (~nb@fedora/ansible.user.nb)
[02:59:58] *** Quits: gustik (~gustik@ip-109-42-240-163.web.vodafone.de) (Quit: Leaving)
[03:23:17] *** Joins: w_lehinsun__ (~lehinsun@188.113.178.220)
[03:26:03] *** Quits: w_lehinsun (~lehinsun@188.113.178.220) (Ping timeout: 260 seconds)
[03:34:40] *** Joins: w_lehinsun (~lehinsun@188.113.178.220)
[03:37:23] *** Quits: w_lehinsun__ (~lehinsun@188.113.178.220) (Ping timeout: 256 seconds)
[04:43:12] *** Joins: w_lehinsun__ (~lehinsun@188.113.178.220)
[04:43:21] *** Quits: w_lehinsun (~lehinsun@188.113.178.220) (Read error: Connection reset by peer)
[04:43:38] *** Quits: Avago_Broadqual (~Avago_Bro@74-194-130-160.bcstcmtk03.res.dyn.suddenlink.net) (Quit: Ping timeout (120 seconds))
[04:43:57] *** Joins: Avago_Broadqual (~Avago_Bro@74-194-130-160.bcstcmtk03.res.dyn.suddenlink.net)
[04:46:57] *** Quits: kevr (~kevr@user/kevr) (Remote host closed the connection)
[04:47:14] *** Joins: kevr (~kevr@user/kevr)
[04:47:48] *** Joins: Koopz7 (~Koopz@koopz.rocks)
[04:48:36] *** Quits: iRobbery (~iRobbery@unmetered.usa1.connectedserver.com) (Read error: Connection reset by peer)
[04:50:09] *** Quits: Koopz (~Koopz@koopz.rocks) (Quit: Ping timeout (120 seconds))
[04:50:09] *** Koopz7 is now known as Koopz
[04:51:43] *** Joins: iRobberyS (~iRobbery@2607:5300:201:3100::512c)
[04:57:57] *** Quits: relight (~relight@user/relight) (Ping timeout: 240 seconds)
[04:58:43] *** Joins: relight (~relight@user/relight)
[05:11:51] *** Quits: braxas (sid508886@id-508886.lymington.irccloud.com) (Ping timeout: 250 seconds)
[05:13:53] *** Joins: braxas (sid508886@id-508886.lymington.irccloud.com)
[05:20:43] *** Quits: relight (~relight@user/relight) (Read error: Connection reset by peer)
[05:21:14] *** Joins: relight (~relight@user/relight)
[05:40:38] *** Quits: dka (~code-is-a@ns3059207.ip-193-70-33.eu) (Ping timeout: 272 seconds)
[05:42:09] *** Joins: dka (~code-is-a@ns3059207.ip-193-70-33.eu)
[06:15:52] *** Joins: zumba_addict64 (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[06:23:14] *** Joins: Phil-Work` (~phil@62.3.100.20)
[06:25:15] *** Quits: Phil-Work (~phil@62.3.100.20) (Ping timeout: 260 seconds)
[06:58:51] *** Quits: Vacuity (~Vacuity@user/vovo) (Ping timeout: 260 seconds)
[07:00:26] *** Joins: Vacuity (~Vacuity@user/vovo)
[07:38:53] *** Joins: Buggys (~Buggys@185.149.90.52)
[07:58:53] *** Joins: frank- (1000@apache/committer/thumbs)
[08:00:28] *** frank- is now known as thumbs
[09:24:10] *** Quits: w_lehinsun__ (~lehinsun@188.113.178.220) (Ping timeout: 246 seconds)
[09:24:25] *** Joins: w_lehinsun (~lehinsun@188.113.178.220)
[09:50:14] *** synapt is now known as nate
[10:24:21] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[10:37:42] *** Joins: tercaL (~tercaL@user/tercal)
[10:49:58] *** nate is now known as Guest5365
[10:49:58] *** Quits: Guest5365 (NBishop@o.apocaleaps.com) (Killed (calcium.libera.chat (Nickname regained by services)))
[10:50:10] *** Joins: synapt (NBishop@o.apocaleaps.com)
[10:57:01] *** Quits: doug16k (~doug16k@172-97-188-4.cpe.distributel.net) (Remote host closed the connection)
[11:13:46] *** Joins: BravoSlo (BravoSlo@gateway/vpn/airvpn/bravoslo)
[11:20:52] *** Joins: vnf (~vnf@46.159.151.228)
[11:32:55] *** Joins: palasso (~palasso@user/palasso)
[11:33:05] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[12:23:22] <Caterpillar> :-(
[12:35:10] *** Joins: zitter (~danilodim@93-57-35-194.ip162.fastwebnet.it)
[12:40:53] <zitter> Hi, a question about design. With multi language app in mind, I have "phase" table with "id", "name" and "description" fields. whats best way to manage multi language? Of course I need a related table with a more "lang" field. But what with main table, "phase"? Do you think it is better to leave "name" and "description" fields there as main language (for example "english" as defualt language) and add other languages in related table?
[12:40:53] <zitter> Or have a very light main table (id, code, created_at) and ALL language in related one (phase_id, lang, name, description)?
[13:14:00] *** Quits: BravoSlo (BravoSlo@gateway/vpn/airvpn/bravoslo) (Quit: Leaving)
[14:08:50] *** Joins: gulzar (~gulzar@49.206.240.149)
[14:29:10] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[14:54:56] *** Quits: skyfall (~skyfall@user/skyfall) (Quit: Ping timeout (120 seconds))
[14:58:24] *** Quits: zumba_addict64 (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Quit: Client closed)
[15:20:52] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Remote host closed the connection)
[15:22:55] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[15:25:32] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Read error: Connection reset by peer)
[15:26:31] *** Joins: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz)
[15:39:46] *** Quits: jkavalik (~jkavalik@ip-78-102-141-139.net.upcbroadband.cz) (Ping timeout: 260 seconds)
[15:48:23] *** littlepap is now known as litpapsManager
[15:48:54] *** Joins: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861)
[15:49:01] *** litpapsManager is now known as littlepap
[15:54:21] *** Joins: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net)
[16:32:55] *** Quits: palasso (~palasso@user/palasso) (Ping timeout: 246 seconds)
[16:33:29] *** Joins: palasso (~palasso@user/palasso)
[17:04:15] <znf> A question about master and replicas. I have master > replica > replica with filter (only on a single db) > replica, in that hierarchy -- as one client wants access to his db on his premises, but we don't want to offer access to the rest of the DBs on that master.
[17:05:08] <znf> Somehow the replica with filter stopped replicating due to a structure change, with the following error message: [ERROR] [MY-010584] [Repl] Slave SQL for channel '': Error 'Table 'locations' already exists' on query. Default database: 'clientdbname'. Query: 'create table locations [...]
[17:05:47] <lopid> and did it?
[17:05:49] <znf> Is there any reason why only the replica with the filter would have stopped in this chain? Trying to understand how to avoid this in the future
[17:05:54] *** Quits: gulzar (~gulzar@49.206.240.149) (Quit: gulzar)
[17:06:14] <znf> lopid, did it already exist? or?
[17:06:19] <lopid> yes
[17:07:08] <lopid> i think with SBR it should have kept replicating. is it RBR?
[17:07:23] <znf> yes, I do believe it did
[17:07:30] <znf> let me double check, I think it's row
[17:09:12] <znf> master has binlog_format=ROW
[17:09:41] <znf> Oh. But the first replica has it commented out
[17:10:10] <znf> But it's ROW, too, checked the running var
[17:10:22] <lopid> better to query the server that assume from config file
[17:10:26] <znf> And so is the replica with the filter
[17:10:39] <znf> I did, it's ROW across all of them
[17:11:22] <lopid> do you know how it came to exist beforehand? i assume it was a CREATE TABLE that tripped it
[17:12:05] <znf> Sadly no, and it's a LONG time since it crashed. We weren't monitoring it because it wasn't part of our setup (as it was just something we quickly whipped out at the request of the client), so it's been out of sync since... August
[17:12:37] <lopid> ah, so it's not important :)
[17:12:47] <znf> Yeah, apparently it's less important that they made it out to be...
[17:13:07] <lopid> were binlogs kept?
[17:13:07] <znf> But I'm still pondering why only the one with the filter would have stopped replicating
[17:13:25] <znf> only relay-bin
[17:13:39] <znf> I mean, the replica with the filter kept all the relay bins and exhausted it's disk space
[17:13:52] <lopid> oh
[17:14:19] <znf> that's how I noticed it, if it weren't about the disk space it would have gone unnoticed
[17:14:57] <znf> the 2 replicas on our hardware are lxc containers and it caught my eye that it used all it's disk space
[17:15:19] <znf> not sure why it's kept all of them tough, I assume because it wasn't able to commit them?
[17:15:22] <lopid> could it be that the client added the table before it had a chance to be created from replication?
[17:16:10] <znf> the client has no access to our replica
[17:16:15] <lopid> if replication ceased back then, the schema on the replica should be how it was before replicating, so there should be no more other changes since then on it. if there are, suspicious…
[17:16:19] <lopid> to theirs
[17:16:35] <znf> master (ok) > full replica (ok) > filter replica (failed) > their replica (changes didn't reach there)
[17:16:37] <lopid> *how it was before replication stopped
[17:16:57] <lopid> oh, ok
[17:17:13] <lopid> the filter replica is yours
[17:17:55] <znf> yes, we host a few clients on that DB, and we didn't want them to have any kind of access to the other clients DB, so we added that filter replica in the mid-way
[17:18:01] <znf> s/DB/server/
[17:18:12] <znf> not sure if there was another way to do that
[17:19:43] <lopid> and there are no binlogs or relay logs from the filter replica to the replica? if there are, a statement that created the table might be in one
[17:20:31] <znf> we only log 4 days, I beleve? expire_logs_days = 4
[17:20:54] <znf> but I do assume the statement is around here:
[17:20:54] <lopid> i don't know…
[17:20:54] <znf> -rw-r-----  1 mysql mysql   262 Aug 10  2021  hetzner2bak-relay-bin.000170
[17:20:54] <znf> -rw-r-----  1 mysql mysql  1.1G Aug 11  2021  hetzner2bak-relay-bin.000171
[17:21:30] <lopid> mysqlbinlog shows you their content
[17:22:08] <znf> but it's only 262 bytes, so it basically contains nothing
[17:22:21] <znf> then the next one is from next day (which I believe never got commited)
[17:22:25] <znf> this is on the filter replica
[17:22:28] <lopid> that normal, i believe, when it rotates logs
[17:22:47] *** Quits: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861) (Quit: Client closed)
[17:24:10] <znf> The error log has this: https://pastie.dev/k2vO6t.yaml
[17:24:43] <znf> but that's about it
[17:25:17] <lopid> nice big logo over 1/8th of that
[17:25:32] <znf> https://pastie.dev/raw/k2vO6t sorry :)
[17:26:19] <znf> but yeah, obviously I haven't got that binlog anymore, snce it's been 6+ months
[17:26:43] <lopid> nod. and it could have been created at any point before then
[17:27:16] *** Joins: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861)
[17:27:25] <lopid> comparing the schema as it is now to how it should have looked might help shed some light. if you can
[17:27:35] <znf> I'm trying to make the app guy who run the query to actually remember what query he run
[17:27:54] <znf> I'm just puzzled as why the first replica (with no filter) picked up the changes just fine
[17:29:54] <lopid> an errored query shouldn't get logged, iirc. i'm thinking someone did something extra on the filter replica
[17:30:48] <znf> There's only 2 people that have access to that filter replica, but basically it's just me, and I haven't logged on that since June
[17:32:15] <lopid> do you have the filter replicas binlogs and relaylogs from the time?
[17:32:15] <znf> So nobody has run anything manually on it, it's not even directly accessible on the internet, as it only has a private IP address and we ssh-tunnel towards the end client
[17:33:26] <znf> no, the only relay_logs I have were the ones I listed above (and following after that, obviously)
[17:34:17] <znf> hm, actually, wait, hetzner2bak-relay-bin.000171 contains stuff rom August 10
[17:35:09] <lopid> just thinking you could have compared queries coming in to those going out, to see if there was anything new
[17:37:30] <znf> well, I can at least check to see what the relay log contains
[17:55:22] *** Joins: lamneth (~IceChat95@2607:fa49:2107:c900:61cd:846f:4a91:a68a)
[18:23:44] *** Quits: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861) (Ping timeout: 250 seconds)
[18:23:58] *** Joins: `2jt (~jtomas@210.red-88-24-179.staticip.rima-tde.net)
[18:24:51] <`2jt> Hi, https://www.toptal.com/developers/hastebin/qeluvujuxe.sql The line 3 is wrong. Why can I reference from that subquery a column called start_date from the main query, but cannot use min(end_date)? Why does not this work? I get ERROR 1111 (HY000) at line 1: Invalid use of group function
[18:33:49] <Naktibalda> `2jt: I think that it is ambiguous which start_date field you are referring too, try to give alas to min(end_date) in the man query and use that alias in the subquery
[18:33:55] *** Joins: sfields (~sfields@2605:a601:adea:7a00:b060:ab7f:958c:df55)
[18:34:35] <Naktibalda> NOT IN (subquery) used to be the worst way to find the rows not present in another table
[18:34:45] <Naktibalda> worst performing
[18:35:52] <`2jt> Naktibalda, if I use min(t2.end_date) in that subquery, the query works but in an incorrect way. I want to reference the same min(end_date) that I am selecting on line 2 (the grouped thing).
[18:36:24] *** Quits: vnf (~vnf@46.159.151.228) (Quit: Leaving)
[18:36:31] <Naktibalda> change line 2 to min(end_date) AS min_end_date    and then use min_end_date in line 3
[18:36:53] <`2jt> Naktibalda, tried that. I does not work
[18:37:04] <Naktibalda> the error should be different though
[18:37:36] <`2jt> I get `Reference 'renamed_min' not supported (reference to group function)` in that case
[18:38:08] *** Joins: vnf (~vnf@46.159.151.228)
[18:38:49] <Naktibalda> what is this query supposed to do?
[18:45:07] <`2jt> Naktibalda, I can make it work removing the line 3 and adding the `order by min(end_date) - start_date` at the end
[18:46:08] <Naktibalda> it doesn't make any sense, so it probably returns some random numbers
[18:46:20] <`2jt> however, I want to know/understand why I cannot reference that min(end_point) from main query's grouped results (the same way I reference start_date)?
[18:49:39] *** Joins: skyfall (~skyfall@user/skyfall)
[18:57:14] <`2jt> here is a minimal example: https://www.toptal.com/developers/hastebin/ameripoyas.sql
[18:58:12] <`2jt> Seeing this, it seems that it is impossible to use grouping function like this in a subquery in mysql.
[19:38:17] *** Quits: csm3105 (~csm3105@143.red-83-48-84.staticip.rima-tde.net) (Quit: Leaving)
[19:40:26] *** Quits: `2jt (~jtomas@210.red-88-24-179.staticip.rima-tde.net) (Ping timeout: 272 seconds)
[19:41:22] *** Joins: `2jt (~jtomas@210.red-88-24-179.staticip.rima-tde.net)
[19:55:34] *** Joins: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net)
[19:55:43] <autodev> Whats the difference between these two mysql dump files?  /usr/local/opt/mysql@5.6/bin/mysqldump versus /usr/local/opt/mysql-client/bin/mysqldump ?
[19:55:55] <lopid> the path
[19:55:58] <autodev> i.e. mysql-client ... points to a different mysql-dump file?
[19:56:04] <autodev> are they symbolically linked?
[19:56:24] <autodev> Which one would I point an app at, to read the db?
[19:56:29] <autodev> I assume the mysql@5.6 one
[19:56:51] <lopid> 5.6 looks 5.6 specific
[19:57:10] <autodev> yep, makes sense.  the app requires 5.6... so i better use that one
[20:05:15] <autodev> once you create a mysql user, do you typically delete the root user, for security purposes-- even on your localhost machine?
[20:06:27] <thumbs> autodev: never
[20:09:43] *** Joins: lara99 (~lara99@93-36-163-139.ip61.fastwebnet.it)
[20:11:34] *** Quits: lara99 (~lara99@93-36-163-139.ip61.fastwebnet.it) (Client Quit)
[20:18:24] <autodev> cool, thanks.  yeah. its just a dev machine anyway-- no production data
[20:35:10] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[20:37:08] <thumbs> autodev: deleting the root user does not increase your security; further, it will break things.
[20:38:43] *** Joins: jamiejackson (~jamiejack@131.106.140.145)
[20:48:11] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: Few women admit their age.  Few men act theirs.)
[20:49:59] <autodev> good to know :D
[20:55:16] *** Joins: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861)
[20:59:08] *** Quits: vnf (~vnf@46.159.151.228) (Quit: Leaving)
[21:00:11] *** Quits: k_sze (~k_sze@mail2.kalunite.net) (Quit: ZNC 1.8.2 - https://znc.in)
[21:00:41] *** Joins: k_sze (~k_sze@mail2.kalunite.net)
[21:29:12] *** Quits: `2jt (~jtomas@210.red-88-24-179.staticip.rima-tde.net) (Remote host closed the connection)
[21:29:34] *** Joins: `2jt (~jtomas@210.red-88-24-179.staticip.rima-tde.net)
[21:58:31] *** Quits: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net) (Remote host closed the connection)
[22:17:55] *** Joins: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net)
[22:20:50] *** Quits: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net) (Remote host closed the connection)
[22:25:58] *** Quits: w_lehinsun (~lehinsun@188.113.178.220) (Ping timeout: 260 seconds)
[22:34:18] *** Quits: shailangsa (~shailangs@host86-162-150-212.range86-162.btcentralplus.com) (Ping timeout: 252 seconds)
[22:42:28] *** Joins: w_lehinsun (~lehinsun@188.244.142.69)
[22:43:41] *** Joins: w_lehinsun__ (~lehinsun@188.113.178.220)
[22:46:58] *** Quits: w_lehinsun (~lehinsun@188.244.142.69) (Ping timeout: 260 seconds)
[22:51:28] *** Joins: autodev (~autodev@097-105-230-074.biz.spectrum.com)
[23:02:35] *** Quits: DF32 (~DF32@2001:8a0:f893:5c00:942a:1f12:22a1:861) (Quit: Client closed)
[23:02:51] *** Joins: PTNapivoski (~PTNapivos@179.189.133.33)
[23:16:01] *** Joins: lara99 (~lara99@93-36-163-139.ip61.fastwebnet.it)
[23:28:30] *** Quits: autodev (~autodev@097-105-230-074.biz.spectrum.com) (Remote host closed the connection)
[23:31:45] *** Joins: vnf (~vnf@46.159.151.228)
[23:39:14] *** Joins: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net)
[23:40:10] *** Quits: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net) (Remote host closed the connection)
[23:57:14] *** Joins: autodev (~autodev@67-198-118-247.dyn.grandenetworks.net)
