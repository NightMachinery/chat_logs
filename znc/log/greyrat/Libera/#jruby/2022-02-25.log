[00:54:38] *** Quits: subbu (~subbu@user/subbu) (Ping timeout: 260 seconds)
[01:41:22] *** Joins: subbu (~subbu@user/subbu)
[03:35:28] *** Quits: subbu (~subbu@user/subbu) (Quit: Leaving)
[17:46:24] <headius> good morning!
[17:52:30] <rdubya[m]> good morning!
[17:59:35] <headius> rdubya: hey there!
[18:02:59] <rdubya[m]> It's been a while, thought I'd start lurking in the channel again ðŸ™‚ 
[18:11:16] <enebo[m]> rdubya: good to see you
[18:44:31] <rdubya[m]> you too, looks like you guys are still hammering away at it, I still follow it even though I don't get to use it day to day
[20:11:45] <headius> enebo: can you show me your `man posix_spawn_file_actions_adddup2` please?
[20:12:05] <headius> I just noticed on macos there are extra file actions for chdir
[20:13:29] <enebo[m]> https://gist.github.com/enebo/89b074d2639f1f24cb80387262ff298e
[20:14:11] <headius> do you have a manpage for posix_spawn_file_actions_addchdir?
[20:14:21] <headius> looks like this was added in just the last few years
[20:14:50] <enebo[m]> nope
[20:15:30] <headius> interesting
[20:15:58] <headius> the sole remaining failure in CRuby test_rand.rb appears to be a problem in the test harness spawning a subprocess
[20:24:32] <headius> woot, got it
[20:28:19] <headius> the test harness passes a pipe fd to the child process by redirecting it to itself; if that fd is CLOEXEC it gets closed before it can be used in the child
[20:28:32] <headius> so this has been a bug in our spawn logic for a while
[20:29:01] <headius> I think it gets fixed in CRuby code we don't run because we don't use fork
[20:31:40] <enebo[m]> there is also an issue with some MRI tests because they will fork and for us they use eval (which at a minimum messes up warnings)
[20:32:13] <headius> this may fix some other spawned tests
[20:32:20] <enebo[m]> I have not worried too much about that since a) we won't support fork b) the things we fail all seem to just be from this difference in how it is run
[20:32:21] <headius> 39 tests, 813 assertions, 0 failures, 0 errors, 0 skips
[20:32:26] <headius> test_rand is green
[20:32:32] <enebo[m]> nice
[21:35:16] <headius> securerandom in CRuby 3.1 does not match the released gems
[21:35:17] <headius> sigh
