[00:00:32] *** Quits: epony (epony@user/epony) (Ping timeout: 240 seconds)
[00:01:41] *** Quits: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de) (Remote host closed the connection)
[00:01:52] *** Joins: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de)
[00:09:01] *** Quits: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de) (Remote host closed the connection)
[00:09:30] *** Joins: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de)
[00:19:47] *** Quits: xenoterracide_ (~xenoterra@2600:1700:71d4:81f:6e:2be2:8546:ba26) (Ping timeout: 250 seconds)
[00:32:53] *** Quits: zephros (~zephros@193.27.13.249) (Quit: WeeChat 3.4)
[00:51:52] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 256 seconds)
[00:54:36] *** Joins: lxsameer (~lxsameer@user/lxsameer)
[00:58:31] *** Joins: ahmedelgabri (~ahmedelga@77-164-236-89.fixed.kpn.net)
[00:59:49] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-b828-dc09-5f1a-4f6d.fixed6.kpn.net) (Ping timeout: 240 seconds)
[01:14:37] *** Quits: brentaarnold (~brentaarn@24.112.58.14) (Ping timeout: 256 seconds)
[01:18:30] *** Quits: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[01:19:08] *** moon-child is now known as bowl-of-petunias
[01:19:18] *** bowl-of-petunias is now known as moon-child
[01:19:29] *** Joins: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de)
[01:26:02] *** Joins: brentaarnold (~brentaarn@24.112.58.14)
[01:27:57] *** Quits: ahmedelgabri (~ahmedelga@77-164-236-89.fixed.kpn.net) (Ping timeout: 240 seconds)
[01:34:20] *** Joins: ahmedelgabri (~ahmedelga@2a02-a446-d88a-1-e5df-a254-3885-1bf5.fixed6.kpn.net)
[01:38:19] *** Quits: LordOfLive (uid538075@tinside.irccloud.com) (Changing host)
[01:38:19] *** Joins: LordOfLive (uid538075@user/joeroot)
[01:38:40] *** LordOfLive is now known as JOEROOT
[01:46:56] *** Quits: scaler (~scaler@95.91.205.134) (Remote host closed the connection)
[01:49:06] *** Quits: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[01:53:09] *** Quits: Hackerpcs (~user@user/hackerpcs) (Quit: Hackerpcs)
[01:53:25] *** Joins: epony (epony@user/epony)
[01:54:03] *** Joins: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de)
[01:54:28] *** Joins: Hackerpcs (~user@user/hackerpcs)
[01:54:45] *** Quits: Hackerpcs (~user@user/hackerpcs) (Max SendQ exceeded)
[01:55:22] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-c582-a826-65a9-f748.fixed6.kpn.net)
[01:55:51] *** Joins: Hackerpcs (~user@user/hackerpcs)
[01:57:17] *** Quits: ahmedelgabri (~ahmedelga@2a02-a446-d88a-1-e5df-a254-3885-1bf5.fixed6.kpn.net) (Ping timeout: 240 seconds)
[02:01:53] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[02:15:24] *** Quits: guido (~weechat@host-79-42-253-94.retail.telecomitalia.it) (Quit: WeeChat 3.4)
[02:28:32] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[02:31:21] *** Quits: salmon (~salmon@65.128.86.64) (Ping timeout: 256 seconds)
[02:33:14] *** Joins: salmon (~salmon@65.128.60.106)
[02:38:53] *** Joins: colordrops (~erahhal@2603-8001-9600-7b60-0010-0100-0001-cee7.res6.spectrum.com)
[02:43:07] *** Quits: SWISSMANN (~SWISSMANN@2001-4dd2-5e3c-0-df30-62d1-7594-7534.ipv6dyn.netcologne.de) (Quit: WeeChat 3.4)
[02:51:11] *** Quits: trace987 (~trace@ip5f5ad14d.dynamic.kabel-deutschland.de) (Ping timeout: 256 seconds)
[02:54:00] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Quit: ZNC 1.8.2 - https://znc.in)
[02:54:19] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[02:59:01] *** Quits: tibbs (~tibbs@fedora/tibbs) (Ping timeout: 240 seconds)
[03:02:44] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 250 seconds)
[03:07:02] *** Joins: tibbs (~tibbs@fedora/tibbs)
[03:14:46] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-c582-a826-65a9-f748.fixed6.kpn.net) (Ping timeout: 260 seconds)
[03:14:56] *** Parts: gl0woo_ (~gl0woozzz@phobos.whatbox.ca) ()
[03:18:22] *** Joins: trace987 (~trace@ip5b42976d.dynamic.kabel-deutschland.de)
[03:24:17] *** Joins: zephros (~zephros@static-198-54-134-137.cust.tzulo.com)
[03:36:22] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aÐ»Ð»Ð¸Ð»Ñ¹Ñ–Ð°!)
[03:50:56] *** Quits: k8yun (~k8yun@user/k8yun) (Ping timeout: 256 seconds)
[03:59:31] *** Quits: cdown (~cdown@163.114.131.1) (Ping timeout: 256 seconds)
[04:02:26] *** Joins: cdown (~cdown@188.214.11.14)
[04:03:32] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[04:14:14] *** Quits: Techcable (~Techcable@168.235.93.147) (Ping timeout: 250 seconds)
[04:37:24] *** Quits: cdown (~cdown@188.214.11.14) (Ping timeout: 256 seconds)
[04:37:24] *** Joins: ahmedelg1 (~ahmedelga@77-164-236-89.fixed.kpn.net)
[04:41:36] *** Joins: jensen (~jensen@65.78.100.184)
[04:41:37] *** Quits: ahmedelg1 (~ahmedelga@77-164-236-89.fixed.kpn.net) (Ping timeout: 240 seconds)
[04:46:38] *** Joins: skylite_ (~skylite@2E6B2CD6.catv.pool.telekom.hu)
[04:47:36] *** Quits: skylite (~skylite@2E6B2CD6.catv.pool.telekom.hu) (Ping timeout: 256 seconds)
[05:10:08] *** Joins: Techcable (~Techcable@168.235.93.147)
[05:11:24] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 256 seconds)
[05:16:57] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.4)
[05:32:17] *** Quits: maetthew (~maetthew@user/maetthew) (Quit: ZNC 1.8.2 - https://znc.in)
[05:34:48] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[05:34:52] *** Joins: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se)
[05:34:52] *** Quits: maetthew (~maetthew@c188-150-159-232.bredband.tele2.se) (Changing host)
[05:34:52] *** Joins: maetthew (~maetthew@user/maetthew)
[05:35:03] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.4)
[05:39:37] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-fce1-2786-f0fa-1c4.fixed6.kpn.net)
[05:44:21] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-fce1-2786-f0fa-1c4.fixed6.kpn.net) (Ping timeout: 250 seconds)
[05:45:02] *** Quits: reset (~reset@user/reset) (Quit: reset)
[05:53:27] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Read error: Connection reset by peer)
[05:54:09] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[05:59:19] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 256 seconds)
[06:28:19] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[06:28:51] *** Joins: k8yun (~k8yun@user/k8yun)
[06:37:17] *** Quits: lxsameer (~lxsameer@user/lxsameer) (Ping timeout: 256 seconds)
[06:41:14] *** Joins: bluestar (~bluestar@snowglobe.student.rit.edu)
[06:41:25] *** Quits: drbeco (~beco@2804:351c:dd00:9600:7e60:24d6:7e4a:7676) (Quit: Leaving)
[06:48:49] *** Quits: bluestar (~bluestar@snowglobe.student.rit.edu) (Quit: Konversation terminated!)
[06:49:04] *** Joins: snowyforest (~bluestar@snowglobe.student.rit.edu)
[06:52:07] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[07:26:30] *** Quits: _mikey (~mikey@user/mikey/x-4335048) (Ping timeout: 276 seconds)
[07:27:40] *** Quits: clarjon1 (~clarjon1@user/clarjon1) (Read error: Connection reset by peer)
[07:29:32] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[07:44:48] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-fce1-2786-f0fa-1c4.fixed6.kpn.net)
[07:46:21] *** Quits: nyah (~nyah@05453449.skybroadband.com) (Quit: leaving)
[07:50:53] *** Quits: zephros (~zephros@static-198-54-134-137.cust.tzulo.com) (Quit: WeeChat 3.4)
[07:54:57] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-fce1-2786-f0fa-1c4.fixed6.kpn.net) (Ping timeout: 240 seconds)
[07:54:57] *** Joins: malina (~malina@user/malina)
[08:29:56] *** Joins: mehwork (~mehwork@98.185.199.35.bc.googleusercontent.com)
[08:30:01] <mehwork> how come when i `source .env && npm run start` my console.log(process.env) doesn't show the env vars from .env? 
[08:30:53] <Mikachu> it doesn't set any env vars
[08:32:40] *** Quits: uuidNuniq (~weechat@222.67.14.47) (Quit: WeeChat 3.4)
[08:38:03] <mehwork> is there a way to set them at the same time?
[08:38:25] <Mikachu> i don't know what you mean by that
[08:38:33] <Mikachu> if you're not setting any in the first place, what would it be at the same time as?
[08:38:57] <mehwork> just trying to load them into process.env
[08:39:37] <mehwork> i know i can do one at a time with  FOO=123 npm run start
[08:39:51] <mehwork> i need them to somehow expand that file before the command or whatever is the right way
[08:43:38] *** Quits: uuidNuni1 (~weechat@193.123.227.17) (Quit: WeeChat 3.4)
[08:44:23] <Mikachu> mehwork: consider this
[08:44:30] <Mikachu> > foo=bar; env | grep foo
[08:44:35] <machabot> Mikachu: No output, exitstatus: 1
[08:44:35] <Mikachu> > export foo=bar; env | grep foo
[08:44:37] <machabot> Mikachu: foo=bar
[08:44:54] <Mikachu> and then look at the contents of the file you're sourcing
[08:47:58] *** Joins: uuidNuniq (~weechat@222.67.14.47)
[08:48:07] *** Joins: uuidNuni1 (~weechat@193.123.227.17)
[08:57:34] <mehwork> i'll play with it, thanks
[09:08:08] <llua> () { setopt localoptions allexport; source .env }
[09:14:15] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-b9a0-dbf5-6c31-a7ce.fixed6.kpn.net)
[09:18:51] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-b9a0-dbf5-6c31-a7ce.fixed6.kpn.net) (Ping timeout: 250 seconds)
[09:33:22] *** Quits: foul_owl (~kerry@174-21-76-71.tukw.qwest.net) (Quit: WeeChat 2.3)
[09:37:51] *** Quits: larryv (~larryv@zsh/patchmanager/larryv) (Quit: larryv)
[09:39:49] *** Joins: guido (~weechat@host-82-61-186-115.retail.telecomitalia.it)
[09:40:21] *** Joins: foul_owl (~kerry@174-21-76-71.tukw.qwest.net)
[09:49:13] <ackyshake> I have 'no_auto_menu' set, and I've bound a key to menu-complete. Is there a way to trigger menu completion _without_ the system inserting the first match? Ideally I'd like to have a key to invoke menu selection and interactive search in one go, but I can't figure out how to accomplish this from reading the docs. 
[09:50:10] <ackyshake> s/menu-complete/menu-select
[09:50:16] <Mikachu> zle -C menu-select-search menu-complete _generic
[09:50:16] <Mikachu> zstyle ':completion:menu-select-search:*' menu select search
[09:50:16] <Mikachu> zstyle ':completion:menu-select-search:*' completer _oldlist _expand _complete
[09:50:24] <Mikachu> bindkey "^[M"  menu-select-search
[09:50:52] *** Joins: sa02irc (~mbax@155-079-043-212.ip-addr.inexio.net)
[09:51:36] <Mikachu> menu selection will always have a match selected
[09:51:49] <Mikachu> otherwise why would you have gone into menu selection in the first place
[09:53:36] <ackyshake> Thanks! That
[09:55:29] *** Quits: k8yun (~k8yun@user/k8yun) (Quit: Leaving)
[09:55:31] <ackyshake> That's very close to what I want. I suppose I don't really want to have the first match included until I search for something. The only reason I ever go into menu selection is when the completion list is fairly long (and goes past $LINES). 
[09:56:12] <Mikachu> well if you abort the search the command line is restored anyway so idk why it would matter
[09:57:05] <ackyshake> It doesn't, it's just a minor annoyance, and personal preference I suppose :) 
[10:01:56] <ackyshake> Oh wow, your completer options does in fact prevent the insertion of the first match. I suppose the _oldlist controls that? The docs on that don't really hint as to that function.
[10:05:39] *** Quits: colordrops (~erahhal@2603-8001-9600-7b60-0010-0100-0001-cee7.res6.spectrum.com) (Ping timeout: 250 seconds)
[10:06:56] <ackyshake> or no, it's actually _complete that does that.
[10:09:00] *** Quits: _mikey (~mikey@user/mikey/x-4335048) (Ping timeout: 276 seconds)
[10:40:34] *** Quits: sa02irc (~mbax@155-079-043-212.ip-addr.inexio.net) (Remote host closed the connection)
[10:56:10] *** Quits: kolla (~kolla@cloudsmurf.kolla.no) (Quit: %fog relay%)
[10:56:51] *** Joins: kolla (~kolla@cloudsmurf.kolla.no)
[10:57:55] *** Quits: snowyforest (~bluestar@snowglobe.student.rit.edu) (Quit: Konversation terminated!)
[11:17:01] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-b9a0-dbf5-6c31-a7ce.fixed6.kpn.net)
[11:20:57] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-b9a0-dbf5-6c31-a7ce.fixed6.kpn.net) (Ping timeout: 240 seconds)
[11:23:04] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-b9a0-dbf5-6c31-a7ce.fixed6.kpn.net)
[11:27:45] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-b9a0-dbf5-6c31-a7ce.fixed6.kpn.net) (Ping timeout: 256 seconds)
[12:24:53] *** Joins: ahmedelg1 (~ahmedelga@77-164-236-89.fixed.kpn.net)
[12:30:53] *** Quits: ahmedelg1 (~ahmedelga@77-164-236-89.fixed.kpn.net) (Ping timeout: 256 seconds)
[12:34:13] *** Joins: cdown (~cdown@188.214.11.14)
[12:36:33] *** Quits: DerpGusta_ (~quassel@user/derpgusta) (Ping timeout: 256 seconds)
[12:45:52] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 256 seconds)
[12:46:56] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[12:54:05] *** Joins: greedom (~greedom@p200300de67361c00905302de190cf808.dip0.t-ipconnect.de)
[12:57:08] *** Joins: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-2ca3-7b68-52e1-7799.fixed6.kpn.net)
[12:57:43] *** Joins: reset (~reset@user/reset)
[13:03:31] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 256 seconds)
[13:04:44] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[13:07:47] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Remote host closed the connection)
[13:08:55] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[13:12:52] *** Quits: greedom (~greedom@p200300de67361c00905302de190cf808.dip0.t-ipconnect.de) (Remote host closed the connection)
[13:13:44] *** Joins: aniruddha (uid340443@id-340443.ilkley.irccloud.com)
[13:14:48] *** Joins: greedom (~greedom@p200300de67361c00905302de190cf808.dip0.t-ipconnect.de)
[13:27:51] *** Quits: greedom (~greedom@p200300de67361c00905302de190cf808.dip0.t-ipconnect.de) (Remote host closed the connection)
[13:28:49] *** Joins: greedom (~greedom@p200300de67361c00905302de190cf808.dip0.t-ipconnect.de)
[13:47:31] *** Joins: lxsameer (~lxsameer@user/lxsameer)
[14:04:43] *** Quits: ahmedelg1 (~ahmedelga@2a02-a446-d88a-1-2ca3-7b68-52e1-7799.fixed6.kpn.net) (Ping timeout: 256 seconds)
[14:11:02] *** Joins: sa02irc (~mbax@155-079-043-212.ip-addr.inexio.net)
[14:19:32] *** Joins: bartholin (~bartholin@109.53.7.90)
[14:21:18] *** Quits: trace987 (~trace@ip5b42976d.dynamic.kabel-deutschland.de) (Remote host closed the connection)
[14:29:52] *** Joins: trace987 (~trace@ip5b42976d.dynamic.kabel-deutschland.de)
[14:37:07] *** Quits: trace987 (~trace@ip5b42976d.dynamic.kabel-deutschland.de) (Remote host closed the connection)
[14:42:26] *** Joins: trace987 (~trace@ip5b42976d.dynamic.kabel-deutschland.de)
[14:49:22] *** Quits: reset (~reset@user/reset) (Quit: reset)
[14:50:47] *** Quits: suffer (znc@mutant.penguin.fyi) (Quit: ZNC - https://znc.in seek the truth or pay the price)
[14:51:14] *** Joins: suffer (znc@mutant.penguin.fyi)
[14:51:38] *** Joins: reset (~reset@user/reset)
[15:03:22] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[15:03:52] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Read error: Connection reset by peer)
[15:24:17] *** Quits: malina (~malina@user/malina) (Ping timeout: 240 seconds)
[15:29:38] *** Joins: malina (~malina@user/malina)
[15:34:25] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[15:39:33] *** Quits: brw (~bas@haring.bas.sh) (Remote host closed the connection)
[15:39:58] *** Quits: w0ng (~w0ng@185.218.127.62) (*.net *.split)
[15:40:15] *** Joins: brw (~bas@haring.bas.sh)
[15:44:29] *** Joins: danielsh (~danielsh@zsh/developer/danielsh)
[15:44:56] *** Quits: danielsh (~danielsh@zsh/developer/danielsh) (Client Quit)
[15:45:10] *** Joins: danielsh (~danielsh@zsh/developer/danielsh)
[15:56:53] *** Joins: nyah (~nyah@05453449.skybroadband.com)
[16:04:40] *** Joins: danielsh_ (~danielsh@zsh/developer/danielsh)
[16:05:02] *** Quits: danielsh (~danielsh@zsh/developer/danielsh) (Killed (NickServ (GHOST command used by danielsh_)))
[16:07:59] *** danielsh_ is now known as danielsh
[16:10:22] *** Quits: bartholin (~bartholin@109.53.7.90) (Ping timeout: 260 seconds)
[16:23:49] *** Joins: bartholin (~bartholin@109.53.3.249)
[16:26:34] *** Joins: SWISSMANN (~SWISSMANN@2001-4dd2-5e3c-0-df30-62d1-7594-7534.ipv6dyn.netcologne.de)
[16:37:59] *** Joins: drbeco (~beco@2804:351c:dd01:6600:e4a2:7a5d:e23f:1fd8)
[17:01:17] *** Joins: w0ng (~w0ng@185.218.127.62)
[17:24:20] *** Quits: greedom (~greedom@p200300de67361c00905302de190cf808.dip0.t-ipconnect.de) (Remote host closed the connection)
[17:28:09] *** Quits: wolfshappen (~waff@irc.furworks.de) (Ping timeout: 256 seconds)
[17:28:45] *** Joins: wolfshappen (~waff@irc.furworks.de)
[17:35:26] *** Quits: jmdaemon (~jmdaemon@user/jmdaemon) (Ping timeout: 256 seconds)
[17:42:50] *** Quits: lxsameer (~lxsameer@user/lxsameer) (Ping timeout: 250 seconds)
[18:10:20] *** Quits: bartholin (~bartholin@109.53.3.249) (Ping timeout: 252 seconds)
[18:23:59] *** Joins: bartholin (~bartholin@109.53.5.77)
[18:37:22] *** Quits: gr33nR10t (~greenriot@user/gr33nr10t) (Read error: Connection reset by peer)
[18:41:28] *** Joins: gr33nR10t (~greenriot@user/gr33nr10t)
[18:44:57] *** Quits: aniruddha (uid340443@id-340443.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[18:54:45] *** Joins: zephros (~zephros@static-198-54-128-93.cust.tzulo.com)
[19:14:01] *** Quits: zephros (~zephros@static-198-54-128-93.cust.tzulo.com) (Quit: WeeChat 3.4)
[19:14:37] *** Joins: zephros (~zephros@static-198-54-128-93.cust.tzulo.com)
[19:23:40] *** Joins: cdown_ (~cdown@163.114.131.1)
[19:26:15] *** Quits: cdown (~cdown@188.214.11.14) (Ping timeout: 256 seconds)
[19:26:19] *** cdown_ is now known as cdown
[19:27:13] *** ChanServ sets mode: +o danielsh
[19:27:37] *** danielsh changes topic to 'v5.8.1 (security release: CVE-2021-45444) | Input needed for selecting a zsh logo | https://zsh.sourceforge.io/ | https://zsh.sourceforge.io/FAQ | https://tinyurl.com/zsh-refcard-pdf | Can't talk? Register https://libera.chat/guides/registration | Just ask. | Nobody here or everybody clueless? Try the zsh-users mailinglist: https://www.zsh.org/mla/'
[19:27:44] <danielsh> we just pushed a security release
[19:27:58] <danielsh> please upgrade, especially if you use vcs_info
[19:28:18] <danielsh> bapt, leah2, ft, ^ 
[19:28:31] <Mikachu> please update the master branch too, not just tags
[19:28:39] <danielsh> dana, ^ 
[19:28:52] <dana> i know
[19:29:02] <dana> you think so little of me
[19:29:56] <Mikachu> in my defense, i would never use prompt_subst, so i probably didn't think about that when adding the recursive feature thing
[19:29:58] <danielsh> Mikachu, that _is_ in Etc/creating-a-release.txt.  I guess dana is partway through thta
[19:30:44] <dana> is it in there?
[19:31:02] <danielsh> if it isn't it should be :) 
[19:31:13] <danielsh> for reference 30496 is the commit that added this feature
[19:32:15] <danielsh> Mikachu, in your offense, there's an isset(PROMPTSUBST) right at the top of promptexpand() which you added a call to... but yeah, would be better to use  a formal parameter than to depend on a global
[19:32:25] <Mikachu> :)
[19:32:37] <Mikachu> i did post it for review before pushing also
[19:32:46] <danielsh> excuses, excuses
[19:32:49] <danielsh> :P
[19:33:18] <dana> i don't use vcs_info any more but i think i used the same method i did back then as i do now: i just set the prompt to the literal string in precmd
[19:33:20] *** Quits: markmcb (~markmcb@89.45.90.53) (Ping timeout: 250 seconds)
[19:33:36] <dana> -'i did'
[19:33:36] <danielsh> do you use prompt escapes though?
[19:33:40] <danielsh> print -P or ${(%%)} 
[19:33:51] <danielsh> did*
[19:34:02] <danielsh> oh right, never mind
[19:34:06] <dana> not on the vcs_info string, i don't think
[19:34:15] <dana> if i did it wouldn't matter because i didn't use prompt_subst :p
[19:35:07] <danielsh> anyway I wonder why you stopped using vcs_info dana
[19:35:23] <Mikachu> why is 49290 in here again?
[19:35:24] <danielsh> over here I like it, especially with stateful situations such as git rebases that stop partway through
[19:35:37] <danielsh> probably a backport that was deemed important enough since we were doing a release anyway
[19:35:54] <Mikachu> ooh, you're not releasing based on the master branch
[19:35:57] <Mikachu> i see
[19:36:02] <Mikachu> that's why i got confused earlier
[19:36:03] <dana> partly because i didn't understand how it worked, and partly because the generalised way it worked made it slower than doing it myself
[19:36:17] <dana> yeah, we haven't done it this way often
[19:36:28] <Mikachu> i see the origin/zsh-5.8-patches branch now, somehow glossed over it before
[19:36:32] <Mikachu> i take back everything
[19:37:30] <danielsh> dana, happy to discuss this further at some point.  or do you have time now? 
[19:37:42] <danielsh> Mikachu, :) 
[19:37:54] <dana> let me get these commits into master first, then i probably do
[19:38:05] <danielsh> cheers
[19:38:16] <Mikachu> should be fine to just merge the patches-branch to master
[19:38:46] <dana> got to fix a bunch of conflicts in the change log and documentation
[19:38:54] <Mikachu> ah
[19:38:58] <danielsh> (and bump Config/version.mk on master)
[19:39:03] <dana> that too
[19:39:28] <danielsh> intention is to bump it to 5.8.1.1 Mikachu 
[19:39:36] <Mikachu> the master branch?
[19:39:39] <danielsh> yeah
[19:39:48] <Mikachu> that doesn't really make sense but i also don't really care that much either way
[19:40:00] <danielsh> well, master _is_ a superset of 5.8.1 
[19:40:09] <danielsh> but ack.  just a heads up
[19:40:41] <Mikachu> i guess master will be 5.9 when it gets a release anyway
[19:40:58] <danielsh> +1
[19:41:15] <danielsh> dana, good call on asking the reporter to update MITRE... I completely forgot about that step :)
[19:42:29] <dana> 5.8.1.1 was the closest fit to the existing procedure
[19:42:48] <dana> didn't want to mess with it, i was struggling enough already
[19:42:54] <dana> we can discuss changing it if there's something better
[19:43:08] <Mikachu> it's all good, as long as it's not a release version i definitely don't care either way :)
[19:44:56] *** Joins: markmcb (~markmcb@89.45.90.53)
[19:46:32] *** Quits: jensen (~jensen@65.78.100.184) (Ping timeout: 240 seconds)
[19:51:44] <dana> danielsh: or whoever: any concerns with how i'm doing this (to be applied to master)? https://pb.dana.is/zbyB.9039/diff
[19:52:41] <Mikachu> the README says 5.8.1 not 5.8.1.1 there
[19:53:22] <danielsh> dana, yes
[19:53:25] <Mikachu> do we normally bump master after a release anyway?
[19:53:26] <dana> yeah, idk what's best there, it's not going to be called 5.8.1.1 in the end so idk
[19:53:31] <danielsh> Mikachu, yes we normally do
[19:53:32] <dana> we do yes
[19:53:33] <Mikachu> my current git zsh claims to be 5.8
[19:53:39] <danielsh> 5.8.0.2-dev
[19:53:50] <danielsh> dana, have you tried a merge, as Mikachu mentioned earlier?
[19:54:00] <dana> you were the one who said to cherry-pick :(
[19:54:01] <danielsh> git checkout master && git merge zsh-5.8.1~N
[19:54:04] <danielsh> for the right value of N
[19:54:09] <danielsh> in the other direction maybe
[19:54:10] <Mikachu> oh i looked at $ZSH_PATCHLEVEL instead of $ZSH_VERSION
[19:54:10] <danielsh> ?
[19:54:29] <Mikachu> > % echo $ZSH_PATCHLEVEL $ZSH_VERSION
[19:54:29] <Mikachu> zsh-5.8-517-g5677140 5.8.0.2-dev-mika
[19:54:30] <machabot> Mikachu: /dev/stdin:fg:1: no job control in this shell.
[19:54:36] <Mikachu> oops didn't mean to put that >
[19:54:53] <Mikachu> oh right
[19:54:58] <Mikachu> that's the git tag, not the version string, in patchlevel
[19:55:05] <Mikachu> brain not fully booted today
[19:56:15] <dana> i am merging the first four commits from 5.8.1 and then also the last one
[19:56:21] <dana> cherry-picking / whatever
[19:56:31] <danielsh> Hmm let me fetch and look 
[19:57:49] <danielsh> well... 
[19:58:07] <danielsh> in theory a 'git merge zsh-5.8.1' plus some editing (for ChangeLog and version.mk) could do it, 
[19:58:22] <danielsh> but in practice, just cherry-picking the right hashes directly will make future bisects much easier, 
[19:58:42] <danielsh> and the downside is.. well, I can't think of any, since there's already that zsh-5.8.1 tag there
[19:58:54] <danielsh> if there's a 5.8.2 we'll know how back to look for new cherries to pick
[19:58:59] <danielsh> so +1 to cherry-picking
[19:59:07] <danielsh> past me probably knew what he was talking about after all :P 
[19:59:11] *** Joins: lxsameer (~lxsameer@user/lxsameer)
[19:59:31] <dana> yeah i tried the merge, it works fine but it seems more annoying to edit the conflicts
[19:59:40] <dana> i may abuse cherry-picks though
[19:59:56] <danielsh> so, yeah
[19:59:59] <danielsh> the series as posted looks good
[20:00:08] <danielsh> + a subsequent version.mk bump as discussed
[20:00:30] <dana> i incorporated the 5.8.1.1 change into the last commit, should i separate it out?
[20:01:38] <danielsh> if you don't, then mention the extra change in the log message
[20:03:07] <Mikachu> you can do cherry picks to resolve the conflicts, then do a merge, and resolve the merge conflict by overwriting the tree with the cherry pick result :p
[20:03:16] <Mikachu> </git abuse>
[20:04:22] <Mikachu> (eg, cherry pick abc def cef; note current sha1; git checkout master; git merge 5.8.1; [conflicts]; git checkout -- earlier-sha-1; git commit)
[20:04:43] <danielsh> at this point you can forget about git-merge and just use git-commit-tree directly
[20:04:52] <Mikachu> i guess that's true
[20:05:06] <Mikachu> but then you have to update the branch head yourself
[20:05:14] <danielsh> (creates a commit with a given treeish and given parent(s))
[20:05:26] <danielsh> yeah, that's an advanced operation, not everyone who groks git-commit-tree(1) knows it
[20:05:33] <llua> hai guise whats going on here
[20:05:39] <danielsh> topic
[20:05:41] <llua> /topic
[20:05:48] <danielsh> promptsubst bug 
[20:06:01] <danielsh> cd into malicious git repo with vcs_info and promptsubst enabled can run code
[20:06:08] <Mikachu> arguably a feature
[20:06:15] <leah2> if you dont set PROMPT_SUBST, how can you get function output in a prompt?
[20:06:16] <dana> pushed to master
[20:06:29] <danielsh> leah2, see Misc/vcs_info-examples, grep for Episode
[20:06:33] <Mikachu> leah2: put it there yourself
[20:06:38] <dana> precmd() { PROMPT=$( myfunc ) }
[20:06:39] <danielsh> leah2, precmd() { vcs_info; print -rP - $vcs_info_msg_0_ } 
[20:06:46] <leah2> redefine PS1 all the time? hm
[20:06:51] <Mikachu> can also use %v and psvar
[20:06:52] <dana> or whatever
[20:07:00] <dana> escape it i guess
[20:07:21] <danielsh> (unless myfunc already does)
[20:07:57] <Mikachu> using psvar avoids that problem to some degree
[20:08:14] <leah2> ok
[20:08:27] * llua uses psvar
[20:08:39] <danielsh> random question, anyone knows of third party archives that carry our lists ? 
[20:08:44] <leah2> mine
[20:09:01] <leah2> danielsh: inbox.vuxu.org
[20:09:03] <llua> marc
[20:09:15] <llua> marc.info that is
[20:09:44] <Mikachu>   vcs_info prompt-mikachu
[20:09:44] <Mikachu>   psvar[3]=( "${vcs_info_msg_0_:-}" )
[20:09:44] <Mikachu>   psvar[4]=( "${vcs_info_msg_1_:-}" )
[20:09:46] <Mikachu> this is what i do
[20:09:49] <llua> oh not anymore(?)
[20:09:57] *** Quits: bartholin (~bartholin@109.53.5.77) (Ping timeout: 240 seconds)
[20:09:57] <danielsh> llua, marc doesn't seem to have us ? 
[20:10:12] <leah2> then i need to revamp my precmd first :p
[20:10:50] <Mikachu> using prompt_subst with $() stuff may call the function more often than is necessary too, eg even when you're at the same prompt and it just gets redrawn
[20:11:05] <leah2> but maybe the branch has changed
[20:11:05] <Mikachu> [citation needed]
[20:11:11] <danielsh> leah2, thanks.  nice tool 
[20:11:17] <leah2> yw :)
[20:11:26] <leah2> it also has nntp
[20:12:55] <danielsh> nice :) 
[20:13:01] <leah2> and imap %)
[20:13:06] <danielsh> I was about to ask :)
[20:13:17] <danielsh> so public-inbox.org doesn't even have an index.html ... ? 
[20:13:20] <leah2> only plaintext imap i think
[20:13:22] <leah2> no :p
[20:13:58] <leah2> danielsh: oh, and if you click on a patch on inbox.vuxu.org, it will hyperlink the files to git.vuxu.org
[20:14:01] <danielsh> curious why?
[20:14:13] <danielsh> no IMAP/TLS, but onion URL for cloning?
[20:14:28] <leah2> because eric wong is a terrible minimalist
[20:14:44] <leah2> erm
[20:14:46] <leah2> wtf
[20:15:36] *** Joins: snowyforest (~bluestar@snowglobe.student.rit.edu)
[20:15:43] <leah2> i guess i could glue the cert in somehow
[20:15:50] <danielsh> leah2, yeah I see the blob hashes are links; the hostname isn't git.* though
[20:16:07] <danielsh> ack
[20:16:22] <leah2> ah right, it just accesses the git repos
[20:44:23] *** Joins: bdju (~bard@user/bdju)
[20:44:52] <bdju> quick question, what is the function name or whatever for alt-d to delete forward a word? I want to add it back to the vi mode
[20:46:19] *** Quits: Hello71 (~Hello71@wireguard/contributor/hello71) (Remote host closed the connection)
[20:48:08] <bdju> there doesn't seem to be forward-delete-word despite backward-delete-word
[20:49:21] <phy1729> man zshzle   /esc-d    kill-word
[20:50:32] <bdju> I see some of my keybinds are written like "\e[5~" and so on. how would I figure out how to format alt-d this way?
[20:50:38] <bdju> (and thanks by the way)
[20:51:10] <Mikachu> bdju: ^[d
[20:51:34] *** Parts: Han (~han@user/han) ()
[20:51:49] <bdju> wow, thank you! perfect
[20:52:19] *** Joins: Hello71 (~Hello71@wireguard/contributor/hello71)
[20:52:22] <bdju> I'll have to make note of the zshzle man page for the future. I usually just find little snippets of this stuff online
[20:56:04] <danielsh> press Ctrl+V press Alt+D look what resulted 
[21:00:46] <bdju> oh, nice. I think I've done that in vim before but didn't think to do it here
[21:01:49] <llua> anything that doesn't have a line editor will show you too. eg: running `cat' and pressing it. 
[21:13:39] <danielsh> dana, the zsh-web.git Patches v. patches is because zsh-web.git has both.
[21:14:05] *** Joins: bartholin (~bartholin@158.110.71.2)
[21:14:17] <dana> oh
[21:14:23] <dana> well that won't work on macos lol
[21:15:01] <danielsh> yeah
[21:15:10] <danielsh> anyway, fixed in git, just pushing now
[21:15:20] <dana> ty
[21:15:21] <danielsh> curious that git didn't complain when you cloned
[21:15:52] <danielsh> fwiw I also updated Last-Modified on Arc/source.html
[21:15:53] <dana> may have, it's been so long, maybe i just didn't notice
[21:15:57] <danielsh> this should really be automatic
[21:16:09] <danielsh> ack
[21:16:42] <danielsh> I don't know git's behaviour here by heart but doesn't it report the behaviour on every 'status'?
[21:18:00] <danielsh> try cloning zero.zsh.org:/home/danielsh/dana-test
[21:18:24] <danielsh> (nothing confidential about that repo; it's just the easiest place I have to drop something dana can clone)
[21:19:58] <dana> seems like git automatically set core.ignorecase when you clone, maybe it did that here
[21:20:03] <dana> sets*
[21:21:20] <dana> https://pb.dana.is/x7X8.18693
[21:22:04] <dana> yeah it set core.ignorecase=true there
[21:22:22] <dana> maybe warned me when i cloned the web thing and i just didn't see it
[21:24:24] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[21:26:03] <danielsh> so just the warning, 'status' afterwards doesn't say anything?
[21:27:53] <dana> it shows the two files modified, the contents changed to the file with the case it *didn't* keep
[21:30:34] <danielsh> ack, that's reasonable
[21:30:47] <danielsh> doesn't the doc say to check for unversioned files before doing the rsync ? 
[21:31:30] <danielsh> yeah, it does
[21:31:44] <danielsh> and despite that I managed to push the .DS_Store file which I'd pulled just before.  Fixed :) 
[21:32:04] <dana> status doesn't show anything in the web repository
[21:32:39] <dana> and the files weren't changed in my commits
[21:32:41] <dana> so idk
[21:32:45] <dana> maybe i silenced it somehow
[21:32:52] <dana> don't remember doing so though
[21:33:01] <dana> and i've obviously updated the site before
[21:34:01] <danielsh> ack
[21:34:11] <danielsh> note that if you've pulled web.git, I've removed patches/ from there by now
[21:34:30] <danielsh> anyway, tyvm for the case investigation
[21:36:05] <dana> lol you guys really re-opened the 'default settings' wound
[21:38:45] <danielsh> there isn't a lot of actual constructive suggestions in that thread that I can see
[21:41:31] <dana> ray is suggesting that when you start zsh for the first time it asks you if you want oliver.defaults or bart.defaults
[21:41:36] <dana> you have to admit we didn't consider that option
[21:41:57] <danielsh> Functions/Prompts/prompt_bart_setup
[21:42:52] <dana> not really the same thing
[21:43:21] <danielsh> no?  I don't remember if it's incorporated into zsh-newuser-install, but one _can_ do 'autoload prompt; prompt bart' or something like that
[21:43:59] <danielsh> there's a number of prompt themes there for people to choose from... how is that different to {oliver,bart}.defaults ? 
[21:44:04] <dana> yeah but i think he's suggesting basically the prompt-theme system but not just for prompts
[21:44:32] <danielsh> yeah
[21:44:39] <danielsh> though I kinda lost him where he said \
[21:44:51] <danielsh> "that are considered reasonable by real users"
[21:44:55] <danielsh> I don't know how he intends to achieve that
[21:45:02] <danielsh> polls?
[21:45:17] <danielsh> because if there's a maintainer, then the maintainer is, well, a maintainer. not just a user
[21:45:41] <dana> i think the real user they're referring to is whoever's settings they are
[21:46:14] <dana> obv doesn't scale though, and 'bart's settings' doesn't really tell me anything about what i'm getting into anyway
[21:46:29] <phy1729> We already kinda have that with z4h, omz, and the like
[21:46:33] <dana> at least with prompts you can visually observe what it does
[21:46:48] <danielsh> if he suggested that then I don't see where
[21:46:57] <danielsh> his emails don't exactly have a high signal-to-noise ratio
[21:47:45] <danielsh> anyway, not important, the idea is on the table
[21:48:41] *** Quits: bartholin (~bartholin@158.110.71.2) (Ping timeout: 245 seconds)
[21:48:55] <danielsh> do we *need* multiple settings to choose from, though?
[21:48:59] <danielsh> basically nobody has that
[21:49:29] <danielsh> what people do have is a "less backwards compatible defaults" mode
[21:49:48] <danielsh> Vim defaults.vim, hg, apt(1) [v. apt-get(1)] - 
[21:49:52] <dana> i think it works for prompts, themes, whatever, but not for behavioural stuff
[21:50:02] <danielsh> I think all these are "recommended defaults that may change somewhat incompatibly over time"
[21:50:32] <danielsh> well, maybe if we find a group of related settings that people usually change in lockstep
[21:50:58] <dana> i think that is pretty much what omz is
[21:51:08] <danielsh> maybe what we need is, say, to spend 5 10-minute sessions with bash users who tried zsh and didn't like it
[21:51:41] <dana> you couldn't ask for a better idea of what people (think they) want from zsh defaults than the fact that seemingly every novice zsh user in the whole world installs omz
[21:51:43] <phy1729> Aside from enabling completion, is there anything most user's agree on?
[21:51:44] <leah2> yeah, a bash-like config file would be helpful
[21:52:05] <danielsh> dana, not sure I agree with that
[21:52:08] <leah2> phy1729: i created this once, based on preferences from our students: https://leahneukirchen.org/dotfiles/.zshrc.sensible
[21:52:23] <danielsh> dana, could be selection bias (people who don't install omz don't become known to us).  Or maybe just omz has better press
[21:53:00] <danielsh> leah2, s/screen/tmux/ ?  if only because screen doesn't have a status bar by default
[21:53:08] <leah2> well ignore that irc stuff :p
[21:53:15] <leah2> that was also used on a bouncer box
[21:53:24] <danielsh> tmux new -As
[21:53:33] <dana> yeah, i don't think most omz users even understand what it does
[21:53:46] <dana> but they think it does something for them
[21:53:50] <dana> which they seem to like
[21:53:55] *** Joins: clarjon1 (~clarjon1@user/clarjon1)
[21:54:00] <danielsh> btw, some distros ship defaults
[21:54:08] <dana> yeah
[21:54:10] <leah2> my minimal settings are at https://leahneukirchen.org/dotfiles/.zshrc.minimal but more opinionated :p
[21:54:10] <phy1729> Ok most would probably agree on extended_glob
[21:54:23] <danielsh> (I wouldn't)
[21:54:28] <phy1729> drat
[21:54:36] <danielsh> meaning I don't use it.
[21:54:36] <dana> extended_glob is cool
[21:54:41] <danielsh> not saying whether or not it should be by default
[21:54:42] <dana> i can see how it would be confusing to people who are used to bash tho
[21:54:55] <danielsh> I do use ^ not too rarely too
[21:55:02] <danielsh> git show HEAD^  for example
[21:55:10] <leah2> i disable ^ :p
[21:55:13] <phy1729> I find I usualy mean @~ anyway
[21:55:14] <leah2> but ~ i like
[21:55:30] <phy1729> and ~ is only globbing if the RHS is too
[21:55:54] <danielsh> I do sometimes enable extendedglob for something or other
[21:56:00] <danielsh> eg x# or x## operators
[21:56:53] <danielsh> leah2, grep --devices=skip ? 
[21:57:27] <leah2> i dont grep in / usually :p
[21:57:48] <danielsh> neither do I
[21:57:48] <phy1729> I think the doc issues could be addressed by having a separate doc that's pedogogical in intent rather than reference as the man pages are
[21:57:58] <danielsh> but when I (first|last) did, I added that
[21:58:01] <danielsh> it's harmless the rest of the time
[21:58:06] <leah2> yeah
[21:58:13] <danielsh> (maybe it causes an extra stat()? didn't check)
[21:58:24] <danielsh> phy1729, +1 that's what I thought when I read that thread
[21:58:24] <dana> there is a guide that's supposed to be that
[21:58:34] <dana> hasn't been updated in ages tho
[21:58:36] <phy1729> There is?
[21:58:38] <danielsh> and isn't well known
[21:58:39] <danielsh> yes
[21:58:42] <danielsh> somewhere in zsh.sf.net
[21:58:57] <dana> https://zsh.sourceforge.io/Guide/
[21:59:00] <danielsh> hmm
[21:59:04] <danielsh> wdyt of a zshoverview(1) man page
[21:59:07] <dana> 'user-friendly user guide' on the main page
[21:59:16] <danielsh> that, like, gives a high level summary of what knobs are there to be tweaked
[21:59:20] <danielsh> just overviews and pointers
[21:59:35] <danielsh> lots of ifnzman(noderef(...))ifzman(...) stuff :) 
[21:59:43] <dana> maybe
[21:59:48] <danielsh> dups the guide?
[22:00:30] <phy1729> I think people want more of a hold your hand as you learn the perks of zsh and gather options and styles you prefer to stick in your dotfiles
[22:00:53] <danielsh> so more of a tutorial ? 
[22:00:56] <leah2> maybe the wizard isnt even bad but tbh i never used it :p
[22:01:11] *** Joins: bartholin (~bartholin@158.110.71.2)
[22:01:41] <phy1729> I did, but think people prefer webpages
[22:01:58] <dana> i was overwhelmed by it from the start and i continue to think it doesn't work well, everyone i've introduced zsh to has had a similar reaction
[22:02:00] <leah2> well there could be a webpage that spits out a config file in th ened
[22:02:11] <danielsh> leah2, that's the wizard :) 
[22:02:17] <leah2> right
[22:03:01] <danielsh> how about a 'feature of the day' thing
[22:03:11] <leah2> ew
[22:03:12] <danielsh> every time you open a new interactive shell you get one short bit of manual printed 
[22:03:19] <dana> lol
[22:03:29] <phy1729> would take too long to get to a working config
[22:03:33] <leah2> :D
[22:04:08] <dana> ðŸ’¡ did you know...
[22:04:10] <danielsh> phy1729, well we could put only popular features there, or weight them ... 
[22:04:48] <phy1729> I like the idea of a blog-like guide that has options through out and some text boxes to copy paste into .zprofile and .zshrc at the end
[22:04:50] <danielsh> "Did you know that you can  setopt PRINT_EXIT_VALUE  to see the exit status of the last command, if it failed?"
[22:05:28] <danielsh> well, %(?..%?) in PS1 is probably a better idea
[22:05:40] <danielsh> printexitvalue tends to be spammy at times
[22:06:01] <phy1729> I like   %(?,,%F{red})%#%f
[22:06:13] <danielsh> actually that's (the ternary) is a good example: _combinations_ of features should be gathered somewhere
[22:06:32] <danielsh> %? is documented, $? is docmented, ternaries are documented, but the combination %(?..%?) is non obvious and useful
[22:07:34] <phy1729> You start running into O(c^n) docs rather than O(n) docs that way
[22:07:57] <danielsh> O(m) docs where m is the number of use-cases
[22:08:13] <danielsh> I'm not proposing that we invent a use-case for every combination of features, you see
[22:08:19] <danielsh> but that we doc useful stuffs
[22:08:28] <phy1729> Sure, but m is on the same order as number of users
[22:08:53] <danielsh> then let's start from the other end of the 80/20 curve
[22:09:14] <danielsh> like you said yourself... completion
[22:09:35] <danielsh> compinit
[22:09:38] <danielsh> group-name '' 
[22:10:31] <danielsh> "Did you know that you can write a simple completion function for your own commands?   _mycommand() { _arguments 1:foo 2:bar }; compdef _mycommand mycommand   "
[22:10:49] <danielsh> you know what...
[22:10:58] <phy1729> I think you'd just link to ft's article there
[22:11:04] <danielsh> I'll accept did-you-know patches in zsh-sensible, in whatever format fortune(1) uess
[22:11:38] <danielsh> sure, why not?  docs can be external.  they need to be readable and discoverable
[22:17:44] *** Joins: Julian (~tos9@python/site-packages/Julian)
[22:18:03] *** danielsh sets mode: -o danielsh
[22:24:44] <danielsh> dana, what about adding the UTF-8 declaration to releases.html?  have you tried that?
[22:25:03] <dana> yeah that'll fix it
[22:25:19] <danielsh> commit + deploy then?
[22:25:22] <danielsh> or shall I?
[22:25:25] <dana> it's on my list, i'll revisit stuff like that later
[22:25:32] <dana> you can if you feel like it
[22:25:39] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Remote host closed the connection)
[22:25:54] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[22:27:02] *** Quits: bartholin (~bartholin@158.110.71.2) (Ping timeout: 272 seconds)
[22:29:04] *** Joins: DibbTubberOne (~DibbDibbe@2a02:908:956:3ce0::3530)
[22:29:58] <danielsh> done, just waiting for the refresh
[22:30:08] *** Quits: Julian (~tos9@python/site-packages/Julian) (Quit: leaving)
[22:30:18] <danielsh> and looking forward to that vcs_info chat whenever we both have time 
[22:30:44] <dana> oh yeah
[22:31:24] <dana> what did you want to discuss about it
[22:32:07] *** Joins: bartholin (~bartholin@158.110.71.2)
[22:32:27] <danielsh> <dana>	partly because i didn't understand how it worked, and partly because the generalised way it worked made it slower than doing it myself
[22:32:45] <danielsh> I'm curious how vcs_info was slower than rolling your own
[22:32:55] <danielsh> and happy to answer any questions about how it works
[22:36:19] <dana> i think mainly it was just handling more cases than i needed it to, and it didn't (?) provide some other stuff i wanted it to like ahead/behind
[22:36:51] <dana> porcelain v2 combines a lot of that into the output of a single command
[22:37:54] <dana> it's been so long since i messed with it, i used to be constantly modifying my zsh config but it feels like i haven't touched it in years now
[22:40:43] <danielsh> I think most of what robertgzr/porcelain outputs can be done by vcs_info too:
[22:41:05] <danielsh> <branch>@<commit>: '%b@%i' in formats
[22:41:20] <danielsh> <ahead/behind>: recipe in Misc/vcs_info-examples
[22:41:39] <danielsh> <unmerged>: actionformats does this, on by default
[22:41:50] <danielsh> modified: set check-for-changes
[22:42:17] <danielsh> dirty: if you enable check-for-changes it'll enable this too
[22:42:37] <danielsh> so, everything apart from the indication of untracked files
[22:43:27] <danielsh> (and vcs_info might do things porcelain doesn't, too)
[22:43:42] <danielsh> not disagreeing with the "one command" argument, but that just brings us back to the defaults discussion :) 
[22:43:43] <danielsh> dana, ^
[22:44:04] <dana> i didn't know about that examples file, i had bolted my own stuff on
[22:44:08] <dana> but it was basically the same idea i guess
[22:44:14] *** Joins: larryv (~larryv@zsh/patchmanager/larryv)
[22:44:20] <danielsh> hey larryv 
[22:44:39] <dana> every one of those is calling git at least once, often twice
[22:44:47] <danielsh> and about editing zshrc: agree.  Over time there's less need to edit it.  Also, I find that in a new VM, I need only a very minimal vimrc/zshrc, must smaller than my usual ones
[22:44:48] <dana> for staged, unstaged, a/b, untracked
[22:44:59] <dana> all of that can be done with a single status --porcelain=v2
[22:45:15] <danielsh> so you're saying vcs_info should start to use that, if available?
[22:45:24] <danielsh> sure, why not
[22:45:32] <dana> might be nice, if it's generalisable
[22:45:44] <danielsh> I think it might do too much work though
[22:45:46] <dana> i admit i haven't put a lot of thought into work-flows outside of my own
[22:46:00] <danielsh> we don't care about the number of modified files or their names, just about whether there are any
[22:46:08] <danielsh> vcs_info uses   git diff --exit-code, I think
[22:46:21] <danielsh> which forks git more times, true, but git itself does less work
[22:47:07] <danielsh> (cc'ing ft in case you're around)
[22:47:51] <larryv> danielsh: good evening!
[22:48:09] <danielsh> larryv, saw -announce@?
[22:49:15] <larryv> oh whelp
[22:50:00] <dana> https://pb.dana.is/jC-t.4659/sh is my function for parsing git status, looks like even v1 does a lot of the stuff i wanted
[22:50:26] <dana> probably the way vcs_info does it is faster in the general case, it's just when you start flipping all the switches i wanted
[22:50:45] <phy1729> What HISTFILE would you suggest to a new user?
[22:50:45] <dana> not that it's a huge problem, but i guess i thought it was bothersome enough to re-invent the wheel
[22:51:07] <danielsh> phy1729, ${XDG_CONFIG_HOME:-${HOME:-$ZDOTDIR}/.cache}/zsh/histfile
[22:51:26] <dana> ~/.zsh_history seems like what most people are used to
[22:51:49] <phy1729> Guess that'll be a trinary
[22:52:53] <danielsh> wait, what I said there doesn't make sense
[22:52:59] <danielsh> XDG_CONFIG_HOME != .cache
[22:53:10] <danielsh> and I wouldn't put history in .cache, since it's man made
[22:53:20] <danielsh> ${XDG_CONFIG_HOME:-${HOME:-$ZDOTDIR}/.config}/zsh/histfile
[22:53:32] <danielsh> (reading that paste)
[22:55:47] <dana> oh another thing mine does is cache the git directory, i don't think vcs_info does that
[22:55:54] <danielsh> cache the .git dir?
[22:56:47] *** Joins: andyandybobandy (~AndyAndyB@162.218.210.28)
[22:56:57] <dana> yeah once it finds the .git directory for a given path it caches it so it doesn't have to look it up again
[22:58:10] <dana> i just assume that it will never change though, probably not a viable option for vcs_info
[22:59:46] <danielsh> what do you do with the cached value?
[22:59:51] <danielsh> set GIT_DIR somewhere in the caller?
[23:00:06] <danielsh> http://ix.io/3Pq5 <-  outline of your function in terms of vcs_info
[23:00:37] <dana> rc_vcs_dir_cache[$pwd]=$git_dir
[23:01:02] <dana> that's not bad
[23:01:23] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Remote host closed the connection)
[23:01:24] <danielsh> currently vcs_info doesn't do anything like this
[23:01:37] <danielsh> the actual vcs command name is configurable though, so, 
[23:01:44] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[23:02:02] *** Joins: jmdaemon (~jmdaemon@user/jmdaemon)
[23:02:03] <danielsh> zstyle ':vcs_info:git:x:*' command cachey-git
[23:02:12] <danielsh> and then a cachey-git that memoizes that mapping
[23:02:32] <danielsh> and does   local -x GIT_DIR=$rv_vcs_dir_cache[$pwd]
[23:02:36] <danielsh> would do the trick I think
[23:02:47] <dana> interesting
[23:03:00] <danielsh> need :git*: so the style applies for hooks too
[23:03:09] <dana> i definitely wasn't familiar enough to configure it properly back then
[23:04:00] <danielsh> well, perhaps we can implement Ray's style for vcs_info
[23:04:14] <danielsh> e.g., it's on my list to add %m to the default formats, to make the patch queue functionality discoverable
[23:04:26] <danielsh> (see Functions/VCS_Info/test*, incl comments at the top)
[23:04:38] <danielsh> and it's basically a form of prompt setup
[23:04:56] <danielsh> (fwiw I'm not sure how many ms you'll save with that memoization of GIT_DIR)
[23:04:59] *** Quits: bartholin (~bartholin@158.110.71.2) (Ping timeout: 256 seconds)
[23:05:48] <dana> fork over-head is pretty high on macos for some reason, but yeah, it's not that much
[23:05:48] <danielsh> cachey-git() { local -x GIT_DIR=${rv_vcs_dir_cache[$pwd]:-$(git rev-parse --git-dir)}; command git "$@" }
[23:06:00] *** Quits: yamchah2 (~yamchah2@user/yamchah2) (Remote host closed the connection)
[23:06:32] *** Joins: yamchah2 (~yamchah2@user/yamchah2)
[23:08:04] <andyandybobandy> I can always store it into a unique-enforced array immediately, but I would like to understand about glob patterns and duplicate elements. Number of duplicates is directly proportional to nested depth. e.g.: vids=((#i)**/***/*(.mp4)(#q.))
[23:09:01] <andyandybobandy> I can provide a sample hierarchy but I'm guessing there's something obvious about globbing that I just don't know
[23:09:55] <danielsh> andyandybobandy, we got just 2 lines; how many did you send ? 
[23:11:14] *** Joins: koolazer (~koo@user/koolazer)
[23:12:39] <andyandybobandy> two. I didn't provide a sample file hierarchy just a sample glob
[23:13:48] <andyandybobandy> I get results into the array multiple times, each in proportion (apparently) to its depth in the filesystem hierarchy, and don't see why the provided glob expression would yield those dupes
[23:14:15] <danielsh> the glob is    (#i)***.mp4(.) 
[23:14:24] <danielsh> Hmm
[23:14:29] <danielsh> I'm guessing **/*** isn't optimized?
[23:14:36] <danielsh> > mkdir -p foo/bar/baz ; echo **/** 
[23:14:37] <machabot> danielsh: foo foo/bar foo/bar/baz
[23:15:04] <danielsh> > mkdir -p foo/bar/baz ; setopt extendedglob; echo (#i)**/***/*(#q.)
[23:15:04] <machabot> danielsh: /dev/stdin:1: no matches found: (#i)**/***/*(#q.)
[23:15:10] <danielsh> > mkdir -p foo/bar/baz ; setopt extendedglob; echo (#i)**/***/*(#q/)
[23:15:10] <machabot> danielsh: foo foo/bar foo/bar foo/bar/baz foo/bar/baz foo/bar/baz
[23:15:13] <danielsh> right
[23:15:13] *** Joins: _mikey (~mikey@user/mikey/x-4335048)
[23:15:48] <danielsh> **/*** doesn't make sense anyway, since ** means zero or more
[23:15:55] <danielsh> just remove the leading **/ 
[23:16:44] *** Joins: bartholin (~bartholin@158.110.71.2)
[23:18:57] <andyandybobandy> huh, I wonder why I've been using that pattern. Thank you very much!
[23:19:15] <danielsh> cheers
[23:19:23] <dana> does the same thing with **/**, i guess it needs to collapse them or w/e
[23:19:38] <danielsh> I did test **/** a few lines above
[23:19:43] <danielsh> > mkdir -p foo/bar/baz ; echo **/** 
[23:19:43] <machabot> danielsh: foo foo/bar foo/bar/baz
[23:19:47] <danielsh> > mkdir -p foo/bar/baz ; echo **/**(#q/)
[23:19:47] <machabot> danielsh: foo foo/bar foo/bar/baz
[23:19:52] <danielsh> > mkdir -p foo/bar/baz ; echo (#i)**/**(#q/)
[23:19:52] <machabot> danielsh: foo foo/bar foo/bar/baz
[23:20:01] <danielsh> so how do you repro that with just double stars dana ? 
[23:21:21] <dana> > setopt extended_glob; mkdir -p foo/bar/baz ; echo (#i)**/**/*(#q/)
[23:21:22] <machabot> dana: foo foo/bar foo/bar foo/bar/baz foo/bar/baz foo/bar/baz
[23:21:40] <danielsh> oops, thank you
[23:21:48] <danielsh> setopt extended_glob; mkdir -p foo/bar/baz ; echo (#i)**/**/*
[23:21:55] <danielsh> > setopt extended_glob; mkdir -p foo/bar/baz ; echo (#i)**/**/*
[23:21:55] <machabot> danielsh: foo foo/bar foo/bar foo/bar/baz foo/bar/baz foo/bar/baz
[23:21:58] <danielsh> > setopt extended_glob; mkdir -p foo/bar/baz ; echo **/**/*
[23:21:58] <machabot> danielsh: foo foo/bar foo/bar foo/bar/baz foo/bar/baz foo/bar/baz
[23:22:12] <danielsh> > mkdir -p foo/bar/baz ; echo **/**/*
[23:22:12] <machabot> danielsh: foo foo/bar foo/bar foo/bar/baz foo/bar/baz foo/bar/baz
[23:22:41] <danielsh> looks like a bug.  andyandybobandy, want to report it to the list ? 
[23:22:41] <dana> yeah the extended bit isn't relevant
[23:23:41] *** Quits: malina (~malina@user/malina) (Ping timeout: 256 seconds)
[23:25:38] <andyandybobandy> I'm not currently a member and honestly hate everything email. Think Zsh will ever use a bug tracking platform?
[23:25:57] <dana> would be nice
[23:26:38] <larryv> andyandybobandy: you don't have to be subscribed to message the lists
[23:27:10] <danielsh> andyandybobandy, it's been discussed... people would prefer a bug tracking solution with email integration
[23:27:49] <danielsh> and we'd need someone to maintain it (or if it's hosted, a way to back it up)
[23:37:31] *** Quits: DibbTubberOne (~DibbDibbe@2a02:908:956:3ce0::3530) (Quit: Leaving)
[23:39:16] <andyandybobandy> I wonder if something like git-issue or git-bug might be helpful, but I haven't used them and don't know about email integration. I'll send an email to the workers list soon with some globbing reproduction
[23:43:29] <danielsh> thanks, andyandybobandy 
[23:44:12] <danielsh> andyandybobandy, about bug reporting: first things first, who's the target audience?
[23:44:27] <danielsh> if we want users to be able to file bugs, git familiarity isn't necessarily something we can assume,
[23:44:33] <danielsh> and if it's devs... well, we already have Etc/BUGS
[23:45:34] <dana> i don't like that method personally
[23:45:47] <dana> i actually started documenting bugs in the issue tracker of my github fork
[23:46:13] <danielsh> I'd probably file bugs against debian if not in Etc/BUGS
[23:46:28] <danielsh> so it sounds like there is indeed demand for a better solution
[23:46:43] <andyandybobandy> well I think part of the design of those is to have git be the backend, with multiple alternative frontends, including bridges to github/gitlab
[23:50:31] <danielsh> meaning people can file bugs in _either_ github or gitlab?
[23:50:37] <danielsh> and it's synced to the others?
