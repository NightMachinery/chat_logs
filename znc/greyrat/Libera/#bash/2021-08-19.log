[00:00:59] *** Quits: richardm75 (~richardm7@2600:8801:c502:1000:c549:70a7:920b:f02e) (Quit: Leaving)
[00:02:34] *** Joins: killown (~killown@user/killown)
[00:03:49] *** Joins: thiras (~thiras@user/thiras)
[00:06:10] *** Quits: killall (~killown@user/killown) (Ping timeout: 240 seconds)
[00:06:33] *** Quits: roadie (~user@2a02:8108:ec0:1427:c5af:e4b5:208e:fb24) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[00:10:10] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 252 seconds)
[00:12:06] *** Joins: Lord_of_Life (~Lord@user/lord-of-life/x-2819915)
[00:12:43] *** Quits: alzgh (~alzgh@user/alzgh) (Read error: Connection reset by peer)
[00:14:58] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[00:17:02] *** Quits: Nact (~l@host-85-27-122-107.dynamic.voo.be) (Quit: Konversation terminated!)
[00:17:46] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[00:18:10] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 240 seconds)
[00:20:11] *** Joins: alzgh (~alzgh@user/alzgh)
[00:21:29] *** Quits: aead (~aead@ec2-52-2-178-231.compute-1.amazonaws.com) (Ping timeout: 248 seconds)
[00:23:14] *** Joins: Liblx (~Alex@2a02:810c:280:59c:2199:2be2:6293:d9bf)
[00:23:26] *** Joins: aead (~aead@pool-96-232-187-142.nycmny.fios.verizon.net)
[00:31:06] <earnestly> The exiftool rabbit hole keeps going, send help
[00:31:10] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[00:33:22] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 245 seconds)
[00:33:27] *** Joins: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net)
[00:38:15] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[00:38:38] *** Joins: graudre (~graudre@2607:fea8:560:7f20:b98c:dc4e:6b3a:a02)
[00:38:41] *** Joins: audiobirb (~audio@2603-8081-1801-3bb5-c203-3fab-d083-5cb4.res6.spectrum.com)
[00:46:40] *** Quits: aead (~aead@pool-96-232-187-142.nycmny.fios.verizon.net) (Ping timeout: 240 seconds)
[00:48:45] *** Joins: aead (~aead@ec2-52-2-178-231.compute-1.amazonaws.com)
[00:51:17] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[00:55:15] *** Joins: besnn (~besnn@user/besnn)
[00:58:26] <luvalon1> I have lgm=$(printf '%%.1000s\n...' "<matches>") and I want to replace inside the lgm variable all words that are called "foo" with "bar", how can I do that in the best way?
[00:58:46] *** Quits: greknod (~grek@114-198-46-223.dyn.iinet.net.au) (Quit: Ping timeout (120 seconds))
[00:59:05] *** Joins: greknod (~grek@114-198-46-223.dyn.iinet.net.au)
[00:59:33] <greycat> printf -v lgm '%%.1000s\n...' "<matches>"; lgm=${lgm//foo/bar}
[01:00:04] <twkm> note foo might match substrings, there's no "only if it is a 'word'" glob.
[01:00:10] *** Quits: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net) (Ping timeout: 240 seconds)
[01:00:37] <greycat> !b9
[01:00:37] <greybot> All examples given by the questioner will be broken, misleading, wrong, incomplete, and/or not representative of the actual question.
[01:00:47] <twkm> also, i'm pretty sure i'd use an array.
[01:01:12] <greycat> more info would be extremely helpful
[01:01:46] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[01:08:33] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[01:11:01] <luvalon1> Its used in abuseipdb fail2ban and it accidently exposes my domain, so I want to get rid of the domain inside this string for example: https://dpaste.com/5ZY9KAH2U
[01:11:18] <luvalon1> i want "mydomain" changed to "foo" everywhere
[01:12:58] *** Quits: aead (~aead@ec2-52-2-178-231.compute-1.amazonaws.com) (Ping timeout: 258 seconds)
[01:14:21] <luvalon1> guess greycats solutions wokrs
[01:14:38] <greycat> make sure you're running the script in bash, not sh
[01:14:54] *** Joins: carlos (~pum@user/carlos)
[01:15:05] *** Joins: aead (~aead@pool-96-232-187-142.nycmny.fios.verizon.net)
[01:15:06] <luvalon1> im not running it myself, its automatically called by fail2ban when banning an IP so I hope its using that?
[01:15:30] <greycat> figure out how it's executed, and if it's not explicitly launched by naming a shell, then check the shebang
[01:16:14] <luvalon1> will do
[01:16:16] <luvalon1> thank you alot
[01:16:19] *** Quits: int (~int@62.216.42.54) (Quit: Client closed)
[01:16:36] <greycat> if it's not executed at all, but rather is dotted in by some sh variant, then you may have to use a different modification
[01:17:08] *** Quits: milkt (~debian@gateway/tor-sasl/milkt) (Ping timeout: 244 seconds)
[01:21:42] *** Joins: akoana (~ah@user/akoana)
[01:22:03] *** Quits: Liblx (~Alex@2a02:810c:280:59c:2199:2be2:6293:d9bf) (Quit: WeeChat 3.2)
[01:24:25] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[01:25:26] *** Quits: magla (~gelignite@55d4a2ba.access.ecotel.net) (Quit: Stay safe!)
[01:27:43] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 252 seconds)
[01:32:58] *** Joins: luvalon12 (~luva@178.239.173.200)
[01:33:10] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Ping timeout: 240 seconds)
[01:33:10] *** Quits: nitro (~nitro@c-73-165-183-88.hsd1.pa.comcast.net) (Ping timeout: 240 seconds)
[01:33:44] *** Joins: nitro (~nitro@c-73-165-183-88.hsd1.pa.comcast.net)
[01:34:16] *** Quits: luvalon1 (~luva@178.239.167.170) (Ping timeout: 268 seconds)
[01:34:16] *** luvalon12 is now known as luvalon1
[01:36:40] *** Quits: earendel (uid498179@user/earendel) (Quit: Connection closed for inactivity)
[01:43:56] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[01:44:07] *** Quits: moha (uid506645@id-506645.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[01:44:31] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 244 seconds)
[01:45:13] *** Joins: Caesar-EW (~Caesar-EW@84.213.107.109)
[01:49:48] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[01:50:37] *** Quits: luvalon1 (~luva@178.239.173.200) (Quit: Byebye)
[01:50:53] *** Joins: luvalon1 (~luva@178.239.173.200)
[01:51:27] *** Joins: kj (~kj@kj.aerisnetwork.net)
[01:52:56] *** Quits: n4dir (~user@mue-88-130-57-130.dsl.tropolys.de) (Remote host closed the connection)
[01:58:35] <luvalon1> it works greycat so thanks a lot
[02:00:36] *** Joins: howdoi (uid224@id-224.tooting.irccloud.com)
[02:03:14] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[02:05:40] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[02:05:52] *** Quits: sazawal (~sazawal@106.213.43.60) (Quit: Leaving)
[02:12:28] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[02:17:03] *** Quits: motherr (~motherr@user/motherr) (Quit: zzz)
[02:17:03] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[02:17:13] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[02:17:13] *** Quits: manin (~x@185.242.190.95) (Ping timeout: 252 seconds)
[02:17:31] *** Quits: sn1tch3r (~sn1tch3r@user/sn1tch3r) (Quit: Leaving)
[02:19:40] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 240 seconds)
[02:24:14] *** Joins: totenkoph (~scythe@user/totenkoph)
[02:24:22] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 252 seconds)
[02:26:37] *** Joins: zebrag (~chris@user/zebrag)
[02:33:08] *** Joins: zro (~zro@user/zro)
[02:33:43] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[02:36:42] <zro> im trying to sync two dirs on a remote w/ rsync via a script locally. I'm doing something wrong with variable expansion cuz the space in $exclude is breaking things here. any pointers on what im doing wrong here? http://sprunge.us/AXp4sk?bash
[02:37:58] <e36freak> !check
[02:37:59] <checkbot> e36freak: Looks good to me
[02:38:22] <e36freak> ohhh, because ssh
[02:38:36] <zro> ya
[02:38:37] <e36freak> zro: ssh also executes another shell, which basically strips a layer of quoting
[02:38:48] <e36freak> what version of bash are you using?
[02:39:10] <zro> 5.1.4
[02:39:20] <e36freak> you can use "${var@Q}" or "${arr[@]@Q}" then, should hopefully take care of that
[02:39:33] *** Joins: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697)
[02:39:35] <zro> hmmm
[02:39:36] <e36freak> the other option is to use like a here document
[02:39:44] <e36freak> ssh foo@bar bash -s <<EOF
[02:39:50] <e36freak> rsync "${foo[@]}"
[02:39:51] <e36freak> EOF
[02:40:18] <e36freak> wait no same issue
[02:40:19] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Read error: Connection reset by peer)
[02:40:34] <e36freak> use @Q, or printf %q when you're generating stuff
[02:40:47] <zro> interesting
[02:40:51] <zro> i didnt know about this @Q
[02:41:06] <e36freak> it's new, and super handy in this exact situation
[02:41:39] <e36freak> # exclude=(--exclude='foo bar' --exclude='more stuff'); echo "${exclude[@]@Q}"
[02:41:41] <shbot> e36freak: '--exclude=foo bar' '--exclude=more stuff'
[02:41:58] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 252 seconds)
[02:42:31] <zro> ya
[02:42:33] <zro> huh
[02:42:36] <zro> well thx
[02:42:44] <zro> that seems to work in my little proof of concept script
[02:42:46] <zro> great
[02:43:36] <twkm> -s should be used almost always.
[02:44:25] <zro> how new is this @Q btw? 
[02:44:35] <twkm> !faq version > zro 
[02:44:36] <greybot> zro : https://mywiki.wooledge.org/BashFAQ/061 -- Is there a list of which features were added to specific releases (versions) of Bash?
[02:44:51] <zro> thx
[02:45:25] <zro> twkm: whats yr point about -s ?
[02:46:39] <ormaaj> ssh wants a command handed to it as a single argument. You have arguments in an array that are presumably already escaped and you just want them glued together with separating spaces. I just use `"${array[*]}"` for that.  `"${var[@]@Q}"` expands multiple arguments.
[02:47:15] <e36freak> "${array[*]@Q}" then
[02:47:21] <ormaaj> no
[02:47:29] <e36freak> yes?
[02:47:43] <ormaaj> why do you want to add escapes?
[02:48:10] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 240 seconds)
[02:48:11] <e36freak> because the separate arguments that contain spaces need to be preserved
[02:48:21] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Quit: Client closed)
[02:48:48] *** Joins: ormaaj2 (~ormaaj2@user/ormaaj)
[02:49:12] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Read error: Connection reset by peer)
[02:49:18] <ormaaj> Yeah that's a question of what the "argument array" contains.
[02:49:41] <e36freak> # arr=('two words' 'more words'); bash -c "printf '<%s>' ${arr[*]}"
[02:49:43] <shbot> e36freak: <two><words><more><words>
[02:49:45] <e36freak> # arr=('two words' 'more words'); bash -c "printf '<%s>' ${arr[*]@Q}"
[02:49:46] <shbot> e36freak: <two words><more words>
[02:50:00] <e36freak> why would you *not* use @Q in that situation
[02:50:25] <ormaaj> I would write the exclude array as: exclude=( "--exclude='some thing'" )
[02:50:54] <e36freak> that's assuming it's not built dynamically with filenames or other variables
[02:51:09] <e36freak> there's nothing wrong with the @Q solution and it should always work
[02:54:13] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[02:56:53] <earnestly> I would use rsync filters and not expose myself to code injection
[02:56:53] *** Quits: Caesar-EW (~Caesar-EW@84.213.107.109) (Ping timeout: 268 seconds)
[02:57:06] <ormaaj> I don't know rsync
[02:57:06] *** Joins: seninha_ (~seninha@user/seninha)
[02:57:22] <earnestly> ormaaj: You can define a file with + and - prefixes on paths with globbing
[02:57:25] <ormaaj> ^disclaimer
[02:57:28] <earnestly> And tell rsync to use that
[02:57:46] <earnestly> Instead of this endless --exclude blacklisting
[02:58:17] *** Quits: karakedi (~eAC53C340@user/karakedi) (Ping timeout: 248 seconds)
[02:59:10] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 240 seconds)
[02:59:15] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[02:59:24] *** Parts: tusko (~yeurt@copyfree/advocate/tusko) (Byeee)
[02:59:44] <earnestly> (But as a rule I tend to only find these things because when faced with code injection I reject it and end up making a lot more work for myself instead)
[03:00:10] <earnestly> The best way to avoid code injection is to not inject code \o/
[03:00:20] <e36freak> the @Q solution should proctect against code injection
[03:00:40] *** Quits: asvln (asvln@gateway/vpn/protonvpn/asvln) (Ping timeout: 252 seconds)
[03:00:41] <e36freak> i don't disagree that the file is a better solution for rsync, but @Q is a good general solution to the "need to pass shit through ssh" problem
[03:00:57] <earnestly> Yeah, you're right.  That's why I mentioned "making a lot more work"
[03:01:08] <earnestly> I don't have a nice solution for ssh, tbh
[03:01:35] <e36freak> in fact i'm pretty sure that's the main usage @Q was intended for. at least that and eval
[03:01:45] <earnestly> There is mitogen and that appears to be the nicest (not read the implementation)
[03:02:15] <earnestly> e36freak: I think eval is probably underused in terms of the power it can express, but too much power for me
[03:02:23] *** Joins: Guest56 (~textual@209.51.86.47)
[03:02:52] <e36freak> it's pretty necessary when writing sh
[03:02:58] <earnestly> (And it's probably(?) a really nice tool in sh, yeah)
[03:02:59] <e36freak> bashisms mostly get rid of a need for it
[03:03:14] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[03:03:16] <earnestly> I've found ways to use sh without it though, so far
[03:03:40] <ormaaj> It requires bit of attention to what kind of escape and the context of the escapes. It's easy to confuse oneself when there are "escaped patterns" "escaped simple commands" and arrays all at once.
[03:03:41] <e36freak> sure, but you're pretty limited
[03:03:41] <earnestly> The only place it's forced is tilde expansion
[03:04:11] <e36freak> ormaaj: basically, it's fine if you have a proper understanding of the way the shell parses things and how arguments work and you're careful with it
[03:04:36] <earnestly> Hm, not particularly because all the hardwork is handed to things like awk.  Most of the sh scripts are arranged as pipelines with minimal forking
[03:04:39] <ormaaj> pf45 bites sometimes
[03:04:43] *** Quits: mithrin (~mithrin@188-167-233-152.dynamic.chello.sk) (Quit: Leaving)
[03:05:07] <earnestly> So it turns into a game of arranging data through the stream to carry enough information so the next tool can process it in one go
[03:06:49] <e36freak> a lot of the time if i'm busting out awk i don't even bother with the shell and just do it all in awk
[03:06:53] <e36freak> depends on what it is though
[03:07:30] <earnestly> e36freak: Here's a kind of example of really ugly shell that I brute force to get a sense of a problem: https://0x0.st/-y4f.sh
[03:08:13] <e36freak> oh you're getting jq involved
[03:08:14] <e36freak> yeah ok
[03:08:28] <e36freak> pipes in awk are a pain in the ass
[03:08:29] <ormaaj> I haven't yet read the hundreds of replies to the last few comment threads about assoc_expand_once
[03:08:30] *** Quits: Guest56 (~textual@209.51.86.47) (Quit: Textual IRC Client: www.textualapp.com)
[03:08:45] <e36freak> that's still going?
[03:08:48] <earnestly> e36freak: Yeah, I tend to get on with these tools quite well because I stick to their limits
[03:08:53] *** Joins: venue (~venue@209.51.86.47)
[03:09:09] *** Quits: NeoCron (~NeoCron@p200300c4cf4a8400dde9c021b1b0ad3f.dip0.t-ipconnect.de) (Remote host closed the connection)
[03:09:14] <earnestly> I find these limits quite fun
[03:09:18] <e36freak> sure
[03:09:19] <ormaaj> for all i know it could be lol. I know assoc_expand_once is still an option and if it's solved then that option should go away
[03:09:37] <earnestly> Like only having one and a half arrays, total, per main/function lol
[03:09:38] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[03:09:42] <e36freak> i love awk, don't get me wrong, but when a lot of piping or other tools involved you def want a shell
[03:10:04] <earnestly> Yes the shell is what glues it all together, it's almost just for piping
[03:10:10] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 240 seconds)
[03:11:18] <earnestly> e36freak: Here's another quick hack that sort of demonstrates it: https://0x0.st/-y4O.sh - and here's a less extreme example that I think is rather nice: https://0x0.st/-y4V.sh
[03:11:59] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[03:13:43] *** Quits: venue (~venue@209.51.86.47) (Quit: Textual IRC Client: www.textualapp.com)
[03:14:09] *** Joins: venue (~venue@209.51.86.47)
[03:14:10] <earnestly> And it's quite nice to debug by throwing tee in the middle to siphon off the state through the pipeline without interrupting stderr or stdout
[03:14:25] *** Joins: sublim20 (~sublim20@user/sublim20)
[03:14:28] <e36freak> yeah pipes are great
[03:14:48] <e36freak> this is pretty much the way the shell was originally intended to be used, IMO
[03:15:02] *** Joins: milkt (~debian@gateway/tor-sasl/milkt)
[03:15:21] *** Quits: chomwitt (~chomwitt@ppp-94-67-193-240.home.otenet.gr) (Remote host closed the connection)
[03:15:33] <earnestly> e36freak: Heh, this script exists as a nice excuse https://0x0.st/-y4J.sh
[03:16:52] <earnestly> (Those traps are wrong, but eh)
[03:17:51] <ormaaj> Your scripts are weird... I see curl options I would never use, jq (which means I automatically don't know what you're doing), and xargs for some reason - my solution would never have that.
[03:18:16] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Ping timeout: 252 seconds)
[03:18:25] <earnestly> Yeah
[03:18:57] <ormaaj> but also looks like you're probably trying hard to deal with posix / dash / busybox or something
[03:18:58] <earnestly> And it's posix xargs too, horrible
[03:19:02] <ormaaj> "sucks man"
[03:19:12] *** Quits: besnn (~besnn@user/besnn) (Quit: Leaving)
[03:19:19] <earnestly> ormaaj: I prefer it, I used to use bash with all its features
[03:19:48] <earnestly> These scripts end up being half the size and faster simply because everything is a stream (this can be done with bash obviously, but I used bash more like a programming language before and it sucked)
[03:19:57] <earnestly> Still use bash if I need read -d ''
[03:20:38] <earnestly> ormaaj: (Here's the "best" attempt at nul read with posix I could come up with: https://0x0.st/-ZZc.sh )
[03:22:05] <ormaaj> I'd suggest ksh93 if you need datastructures but you'd get fed up with the bugs and lack of documentation.
[03:23:34] <earnestly> Also using /tmp as "memory" and filesystems as data structuring (object + walk) is much nicer (besides the cleanup) to work with because all of the tools understand them
[03:23:46] <earnestly> Which I was forced to use as sh has none
[03:24:04] <earnestly> (Lots of people try to "implement" arrays in sh and other such things and those scripts are horrible to me)
[03:24:20] <ormaaj> yep
[03:24:59] <earnestly> ormaaj: About the flags, this is also a consequence of using sh.  It really forces me to go full-exploitation with the tools I have because you need all the help you can get lol
[03:25:12] *** Parts: venue (~venue@209.51.86.47) (adios)
[03:26:48] <earnestly> (Also case is often more tidy than using [[ for pattern matching, also opens up the ability to do more interesting pattern matching, e.g. https://0x0.st/-y4y.txt )
[03:27:34] *** Joins: venuex (~venue@209.51.86.47)
[03:29:12] <ormaaj> sure i use test / [ / case sometimes.
[03:29:32] <ormaaj> I've completely forgotten how to use awk.
[03:29:46] <earnestly> In a slightly ironic sort of sense, the way I use sh (or find it nicer to use) is to use as little sh as possible
[03:30:01] <earnestly> ormaaj: I have that problem with jq
[03:30:48] <ormaaj> e36 is an awk nut
[03:30:59] <earnestly> Yeah, learned a lot from them
[03:32:48] <earnestly> ormaaj: https://0x0.st/-y4w.sh
[03:33:11] *** Quits: jsrnop1 (~mark@user/jsrnop) (Quit: The Lounge - https://thelounge.chat)
[03:33:12] *** Quits: venuex (~venue@209.51.86.47) (Changing host)
[03:33:12] *** Joins: venuex (~venue@user/venue)
[03:33:33] <ormaaj> oh jq has a scripting lang?
[03:33:42] *** Joins: jsrnop1 (~mark@user/jsrnop)
[03:33:48] <phy1729> is a scripting lang
[03:34:27] <earnestly> I recently saw in ImageMagick's documentation a -format escape with just: ?? scene ??   It made me wonder how much software exists where both the author and users have no clue how it works and it exists as a kind of artifact that has to be constantly reverse engineered
[03:34:45] <earnestly> ormaaj: https://github.com/stedolan/jq/blob/master/src/builtin.jq
[03:35:37] <phy1729> most of MS Word at this point (for .doc at least)
[03:36:17] *** Quits: julius_c (~julius_c@162.red-83-57-79.dynamicip.rima-tde.net) (Quit: Leaving)
[03:36:22] <ormaaj> "we're tired of waiting for someone to write a decent modern xproc / xquery implementation"
[03:36:30] <earnestly> It's also kind of sad how brilliant people can be consumed doing this sort of archeology into increasing niche and ultimately unimportant uses of time
[03:36:31] <ormaaj> that's scriptable
[03:36:41] <e36freak> lol
[03:36:54] <ormaaj> have you seen xqilla?
[03:37:28] <e36freak> should i?
[03:37:37] <earnestly> Nope, I end up resorting to xslt
[03:37:47] <earnestly> I wonder why no one packages this
[03:37:51] <ormaaj> http://xqilla.sourceforge.net/homepage
[03:37:56] <earnestly> Having xpath2 would be nice
[03:38:33] <earnestly> Apparently this supports xpath3 a bit as well
[03:39:20] <earnestly> 2011, hm
[03:39:29] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[03:39:44] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[03:39:58] <ormaaj> yeah dead. nothing replaced it, but jq took off.
[03:40:15] <earnestly> Pity, xml is still a problem
[03:40:50] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[03:40:58] <earnestly> And xmllint/xmlstarlet are not really good enough for slightly non-trivial things (xsltproc instead)
[03:41:01] <ormaaj> xml was ahead of its time XD
[03:41:10] <earnestly> sgml perhaps
[03:41:56] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[03:44:06] *** Quits: diverdude (~user@176-21-102-230-cable.dk.customer.tdc.net) (Ping timeout: 276 seconds)
[03:44:26] *** Quits: alzgh (~alzgh@user/alzgh) (Quit: WeeChat 2.8)
[03:44:52] <ormaaj> another example of xml being ahead of its time was the semantic web / RDF / SPARQL scene. Open source wasn't ready for it so all the tools were half baked and failed projects like the semantic desktop in KDE left a sour taste in the mouths of everyone.
[03:45:07] *** Quits: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053) (Quit: WeeChat 3.1)
[03:45:46] <earnestly> ormaaj: Although this is related to data modelling and not markup format, you may like: https://0x0.st/zd-0.pdf (What Goes Around Comes Around: A Brief History of Databases)
[03:46:14] *** Joins: manin (~x@185.242.190.95)
[03:46:52] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[03:47:05] *** killown is now known as killall
[03:47:17] *** killall is now known as kill
[03:48:05] *** Joins: aaro (aaro@user/aaro)
[03:50:21] *** Joins: diverdude (~user@176-21-102-230-cable.dk.customer.tdc.net)
[03:55:40] *** Quits: jetchisel (~jetchisel@user/jetchisel) (Ping timeout: 240 seconds)
[03:58:40] *** Quits: seninha_ (~seninha@user/seninha) (Ping timeout: 240 seconds)
[04:03:40] *** Parts: akoana (~ah@user/akoana) (Leaving)
[04:08:41] *** Quits: guifipedro (~quassel@207.188.174.209) (Ping timeout: 248 seconds)
[04:09:00] *** Joins: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net)
[04:09:05] *** Quits: legola (~legola@46.235.100.27) (Remote host closed the connection)
[04:10:32] *** Joins: guifipedro (~quassel@207.188.174.209)
[04:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:15:40] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[04:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[04:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[04:29:23] *** Joins: PinealGlandOptic (~PinealGla@37.115.210.35)
[04:30:59] <emg> earnestly: I love reading about about computing "ancient history" as they put it. Thanks for the content.
[04:34:10] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 240 seconds)
[04:34:47] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[04:35:17] *** Quits: BSaboia (~bsaboia@188-178-217-166-cable.dk.customer.tdc.net) (Quit: Leaving)
[04:36:07] *** Joins: totenkoph (~scythe@user/totenkoph)
[04:36:10] *** Joins: igemnace (~ian@user/igemnace)
[04:41:32] *** Joins: lq820105 (~lq@180.167.42.7)
[04:43:40] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Ping timeout: 240 seconds)
[04:43:41] *** Quits: lq (~lq@210.72.8.204) (Read error: Connection reset by peer)
[04:43:52] *** Joins: shimbles (~shimbles@h126.8.39.162.static.ip.windstream.net)
[04:44:03] *** Quits: shimbles (~shimbles@h126.8.39.162.static.ip.windstream.net) (Client Quit)
[04:44:45] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[04:48:10] *** Quits: andril (~andril@c-66-229-99-96.hsd1.fl.comcast.net) (Ping timeout: 240 seconds)
[04:49:45] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Ping timeout: 268 seconds)
[04:52:16] *** Joins: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au)
[04:52:33] *** Joins: kurahaupo_ (~kurahaupo@pa49-180-19-33.pa.nsw.optusnet.com.au)
[04:52:52] *** kurahaupo_ is now known as kurahaupo__
[04:53:07] *** Quits: kurahaupo (~kurahaupo@124-171-138-127.tpgi.com.au) (Killed (NickServ (GHOST command used by kurahaupo__!~kurahaupo@pa49-180-19-33.pa.nsw.optusnet.com.au)))
[04:53:12] *** kurahaupo__ is now known as kurahaupo
[04:54:43] *** Joins: motherr (~motherr@user/motherr)
[04:58:10] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 240 seconds)
[05:04:43] *** Joins: milosz_ (~milosz@user/milosz)
[05:06:03] *** Joins: Bhavuk (~BTaneja@122.173.24.251)
[05:08:13] *** Quits: gschanuel7 (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[05:08:45] *** Joins: gschanuel (~gschanuel@user/gschanuel)
[05:08:52] *** Quits: milosz (~milosz@user/milosz) (Ping timeout: 268 seconds)
[05:10:24] *** Joins: vysn (~vysn@user/vysn)
[05:11:36] *** kurahaupo is now known as Martin
[05:12:27] *** Martin is now known as kurahaupo
[05:30:15] <litheum> it's funny how that document refers to "the present" without there being any date on the paper anywhere?!
[05:30:32] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:34:38] *** Joins: vlm (~vlm@user/vlm)
[05:37:39] <ormaaj> I would hope those that have been around for any significant fraction of that history are sitting on a beach enjoying retirement. The ancient history has limited usefulness without the perspective of having been there.
[05:39:27] *** Quits: motherr (~motherr@user/motherr) (Quit: zzz)
[05:53:21] *** Quits: Lutin (~Lutin@user/lutin) (Quit: Lutin)
[05:55:41] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[05:56:35] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[05:57:23] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[06:01:54] *** Quits: lq820105 (~lq@180.167.42.7) (Read error: Connection reset by peer)
[06:02:38] *** Joins: lq820105 (~lq@210.72.8.204)
[06:10:26] *** Quits: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66) (Quit: Leaving)
[06:11:17] *** Quits: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697) (Ping timeout: 245 seconds)
[06:12:33] *** Joins: ccl (ccl@shell.xshellz.com)
[06:12:53] *** Quits: thiras (~thiras@user/thiras) (Remote host closed the connection)
[06:15:38] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[06:22:43] *** Quits: masoudd (~masoudd@user/masoudd) (Read error: Connection reset by peer)
[06:31:48] *** Quits: k-man (~jason@user/k-man) (Ping timeout: 276 seconds)
[06:34:27] *** Joins: k-man (~jason@debian.organictrader.com.au)
[06:35:21] *** Quits: k-man (~jason@debian.organictrader.com.au) (Changing host)
[06:35:21] *** Joins: k-man (~jason@user/k-man)
[06:36:17] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[06:41:35] *** Quits: mnrmnaugh (~mnrmnaugh@68.162.206.56) (Remote host closed the connection)
[06:42:51] *** Joins: DynV (~DynV@user/dynv)
[06:42:53] *** Joins: mnrmnaugh (~mnrmnaugh@68.162.206.56)
[06:44:56] <DynV> There's an HTML file that the beginning has a **lot**, if not all, code (especially script). I'd like for the file to be filtered so only text you could copy-paste from a browser would show, then from that I'd do a head. How may I do so?
[06:45:01] *** Joins: michigan (uid507982@id-507982.charlton.irccloud.com)
[06:45:21] <greycat> lynx myfile.html
[06:45:49] <greycat> (there's a -dump option and stuff, too)
[06:47:05] <ormaaj> I'd choose phantomjs but depends on how good of a "browser" you need
[06:48:42] <DynV> this is the transformation I'm referring to https://pastebin.com/VfWgUdXx
[06:48:42] <pasteban> Paste is available without ads on https://pastebin.com/raw/VfWgUdXx
[06:49:56] <greycat> just pick whichever text-mode browser you have (w3m, lynx, etc.) and use it
[06:50:33] <ormaaj> yep
[06:50:38] <DynV> never "heard" of w3m, is it good?
[06:51:06] <ormaaj> they're all crap, but you don't need good.
[06:52:10] <ormaaj> (probably)
[06:54:58] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[06:59:34] *** Joins: jos2 (~jos3@dyndsl-091-096-045-153.ewe-ip-backbone.de)
[07:01:10] *** Joins: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net)
[07:02:27] <ormaaj> Last time I investigated text browsers the least crap of the bunch were probably elinks and links2.
[07:02:46] <ormaaj> those others might have some advantages depending. i don't know that they all do the -dump thing
[07:02:57] *** Quits: jos1 (~jos3@dyndsl-091-248-048-220.ewe-ip-backbone.de) (Ping timeout: 245 seconds)
[07:05:13] *** Quits: Kvothe (~weechat@user/elodin) (Ping timeout: 248 seconds)
[07:07:21] <DynV> I tried lynx & w3m and both look aweful with the target html file. I saw elinks was recommended but Cygwin doesn't have it, any other text-based browser recommendation?
[07:07:42] *** strungout is now known as suffer
[07:08:13] <DynV> oh I just read above, I'll see if it has links2.
[07:08:26] <DynV> nope
[07:09:06] <DynV> installing links
[07:09:23] <greycat> I think links is GUI
[07:09:32] *** Joins: aakashi2001 (~aakashi20@103.61.255.35)
[07:09:55] <greycat> oh, it's not... which one am I thinking of...
[07:09:57] *** Joins: neshpion (~neshpion@gateway/tor-sasl/neshpion)
[07:10:19] <greycat>  This version is compiled without graphics mode. See the package
[07:10:20] <greycat>  links2 for a version with graphics support compiled in.
[07:11:29] <ormaaj> anything that requires nontrivial features requires a real browser. phantomjs that I mentioned has been dead for a while and was never very good. The current solutions are `firefox --headless` and whatever the chrome equivalent is.
[07:13:20] <DynV> not a good start https://imgur.com/a/yZtJ6q6
[07:13:22] <ormaaj> https://developers.google.com/web/updates/2017/04/headless-chrome
[07:15:12] <DynV> ok I renamed the file and links look awesome!
[07:15:18] <DynV> for text-based
[07:15:37] <ormaaj> goodie.
[07:16:10] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[07:19:14] *** Joins: Kvothe (~weechat@user/elodin)
[07:19:19] <DynV> I coulsn't find how to copy-paste, it's Esc >File > Save formated document > file.txt
[07:27:33] *** Joins: diamondbond (~diamondbo@175.157.205.144)
[07:28:43] *** Quits: diamondbond (~diamondbo@175.157.205.144) (Read error: Connection reset by peer)
[07:30:46] * DynV thumb up
[07:31:08] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[07:33:40] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 240 seconds)
[07:33:47] *** Quits: DynV (~DynV@user/dynv) (Quit: Konversation terminated!)
[07:37:52] *** Quits: k-man (~jason@user/k-man) (Ping timeout: 252 seconds)
[07:40:02] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.2)
[07:40:19] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[07:40:52] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[07:44:13] *** Quits: yuesbeez (uid458354@id-458354.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[07:45:12] *** Quits: venuex (~venue@user/venue) (Quit: was tired)
[07:47:40] *** Quits: vysn (~vysn@user/vysn) (Ping timeout: 240 seconds)
[07:49:05] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[07:49:39] *** Joins: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697)
[07:49:54] *** Joins: edrx (~Eduardo@177-131-189-98.static.sumicity.net.br)
[07:51:36] <edrx> hi, I use mostly zsh, and I am trying to make this - https://elpa.gnu.org/packages/shelisp.html - that currently works only on bash, support zsh too...
[07:52:00] *** Joins: k-man (~jason@user/k-man)
[07:52:52] <llua> and so you skipped #emacs and skipped #zsh to come to #bash
[07:53:05] <edrx> this package defines some shell functions and aliases. For example, it defines a function called "shelisp_dired", and an alias "dired" that points to shelisp_dired. I know how to inspect them with "set"
[07:54:07] <ormaaj> porting a bash script to zsh is kinda odd since most systems with zsh have both.
[07:54:59] <ormaaj> only reason is if you want to source the script in your interactive shell for some reason.
[07:55:18] <edrx> I am trying to find the command that would display just the code for this function "shelisp_dired", and it couldn't find it in the page "The Set Builtin" of the bash manual...
[07:55:44] <ormaaj> typeset -fp funcname
[07:55:51] *** Quits: howdoi (uid224@id-224.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[07:56:20] <edrx> ormaaj: that's it. shelisp.el lets people run shells inside emacs buffers and make emacs recognize some special lines of output as elisp to be executed by emacs... 
[07:59:38] <edrx> ormaaj: that's exactly what I needed! thanks!!! =)
[08:01:02] <ormaaj> (it's the same command in zsh)
[08:01:42] *** Quits: austin987 (~null@100.42.98.196) (Ping timeout: 245 seconds)
[08:02:01] <edrx> oh, good to know - I always use "which" to inspect shell functions in zsh...
[08:03:24] <ormaaj> !which > edrx
[08:03:25] <greybot> edrx: which(1) is an external program used to search PATH for an executable. It behaves differently on different systems and you can't rely on a useful exit code; use (from most to least portable) ''command -v'' or ''type -P'' (to find the path) or ''hash'' (to check) instead. See http://mywiki.wooledge.org/BashFAQ/081
[08:04:09] <ormaaj> it's probably the wrong tool for the job even in zsh.
[08:04:22] <ormaaj> that's a weird which extension.
[08:04:44] <edrx> sorry and thanks =/
[08:05:51] *** Joins: diamondbond (~diamondbo@175.157.205.144)
[08:10:02] *** Quits: aakashi2001 (~aakashi20@103.61.255.35) (Ping timeout: 245 seconds)
[08:10:52] *** Joins: gnoo (~gnoo@user/gnoo)
[08:17:11] *** Joins: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com)
[08:24:04] *** Quits: diamondbond (~diamondbo@175.157.205.144) (Ping timeout: 252 seconds)
[08:25:17] *** Quits: carlos (~pum@user/carlos) (Remote host closed the connection)
[08:27:34] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Read error: Connection reset by peer)
[08:27:45] *** Joins: gschanuel1 (~gschanuel@user/gschanuel)
[08:43:42] *** Quits: Murray7501 (~Murray@89.109-247-180.customer.lyse.net) (Quit: leaving)
[08:47:53] *** Joins: pystardust (~pystardus@117.96.229.96)
[08:48:22] *** Quits: unixman_home (~unixman2@165-204-137-216.mtaonline.net) (Quit: rm -rf /)
[08:49:50] *** Joins: Murray7501 (~Murray@89.109-247-180.customer.lyse.net)
[08:51:48] *** Quits: AnAverageHuman (~AnAverage@user/anaveragehuman) (Ping timeout: 244 seconds)
[08:58:04] *** Joins: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj)
[08:59:40] *** Quits: manin (~x@185.242.190.95) (Ping timeout: 240 seconds)
[09:04:19] *** Joins: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com)
[09:05:10] *** Quits: greknod (~grek@114-198-46-223.dyn.iinet.net.au) (Ping timeout: 240 seconds)
[09:13:18] <pystardust> was wondering, suppose someone put `bash` in their bashrc, that is if they did `echo 'bash' > ~/.bashrc`, then ik this would mess up their interactive shell, so they are screwed if they souce bashrc in bashprofile, suppose they log out, what are the possible fixes? what if a root user did this?
[09:17:23] *** Quits: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com) (Ping timeout: 268 seconds)
[09:27:32] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[09:28:17] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[09:28:27] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[09:29:18] *** Joins: vishal (~vishal@fedora/vishal)
[09:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[09:30:33] *** Joins: austin987 (~null@2603-8080-2700-d768-0000-0000-0000-0b6a.res6.spectrum.com)
[09:31:19] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[09:31:55] <llua> try it and see
[09:32:40] *** Joins: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66)
[09:33:49] *** Parts: edrx (~Eduardo@177-131-189-98.static.sumicity.net.br) (Killed buffer)
[09:34:06] *** Quits: neshpion (~neshpion@gateway/tor-sasl/neshpion) (Quit: neshpion)
[09:35:48] <pystardust> llua: :(
[09:36:40] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Ping timeout: 258 seconds)
[09:36:49] *** Joins: manin (~x@185.242.190.95)
[09:38:10] *** Quits: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66) (Ping timeout: 240 seconds)
[09:42:22] *** Joins: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66)
[09:43:43] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[09:46:00] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[09:46:19] *** Joins: tejr (~tejr@user/tejr)
[09:49:10] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 240 seconds)
[09:54:03] *** Quits: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431) (Quit: Leaving)
[09:55:55] *** Quits: manin (~x@185.242.190.95) (Ping timeout: 252 seconds)
[09:55:59] *** Joins: lavaball (felix@31.204.155.215)
[09:58:35] *** Joins: manin (~X@185.242.190.95)
[10:03:40] *** Joins: palimaar (~oasd@kd113148020047.ppp-bb.dion.ne.jp)
[10:04:29] <armin> well if you want to shoot yourself in the foot you're welcome to
[10:04:40] <armin> i wouldn't recommend trying to
[10:05:49] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[10:06:18] <armin> if your friends do that to you because you failed to lock your screen when you walked to the bathroom, boot from a live usb stick, mount your FS, and fix it.
[10:08:34] *** Quits: manin (~X@185.242.190.95) (Ping timeout: 268 seconds)
[10:10:39] *** Joins: physkets (~physkets@user/physkets)
[10:11:37] <physkets> Hi!  I'm unabel to decipher this regex inside this sed command:
[10:12:06] <physkets>     sed -i -r '/desktop-id/ s/(<!-- )|(org.example.)|( -->)//g' file 
[10:13:03] <physkets> Is it replacing instances of 'org.example' ?
[10:14:14] *** Joins: manin (~X@185.242.190.95)
[10:15:19] *** Joins: lordrishav (~LordRisha@user/lordrishav)
[10:18:46] *** Joins: kurahaupo_ (~kurahaupo@pa49-195-4-39.pa.nsw.optusnet.com.au)
[10:19:18] *** Joins: frostwork (~frostwork@user/frostwork)
[10:22:19] *** Quits: kurahaupo (~kurahaupo@pa49-180-19-33.pa.nsw.optusnet.com.au) (Ping timeout: 252 seconds)
[10:22:19] *** Joins: venue (~venue@user/venue)
[10:23:23] *** Quits: venue (~venue@user/venue) (Client Quit)
[10:25:27] *** Joins: kurahaupo (~kurahaupo@pa49-180-53-138.pa.nsw.optusnet.com.au)
[10:25:52] *** Quits: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697) (Ping timeout: 245 seconds)
[10:27:21] *** Quits: kurahaupo_ (~kurahaupo@pa49-195-4-39.pa.nsw.optusnet.com.au) (Ping timeout: 248 seconds)
[10:32:10] *** Quits: kurahaupo (~kurahaupo@pa49-180-53-138.pa.nsw.optusnet.com.au) (Ping timeout: 240 seconds)
[10:32:40] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[10:36:21] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[10:37:10] <pystardust> it would remove all instance of '(org.exmaple.)' (keep im mind here the dot means any one single character) and all instances of  '( -->)' and similar for the <!--, here the brackets would also be included in the match as sed uses BRE by default, if you intend to use the brackets as a group then use the -E flag for ERE
[10:37:29] <pystardust> armin: :( scary stuff
[10:38:53] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[10:39:25] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[10:39:48] *** Joins: kurahaupo (~kurahaupo@pa49-180-53-138.pa.nsw.optusnet.com.au)
[10:40:47] *** Joins: karakedi (~eAC53C340@user/karakedi)
[10:43:08] *** Joins: gnoo_ (~gnoo@user/gnoo)
[10:45:28] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[10:46:22] <Riviera> # echo '(<!-- )' | sed -r 's/(<!-- )//'
[10:46:24] <shbot> Riviera: ()
[10:47:34] <Riviera> So no, not quite. The -r already tells GNU sed to use extended regular expressions (otherwise the | would also match literally), so it removes all occurrences of "<!-- ", "org.example." and " -->" on lines containing "desktop-id".
[10:48:01] <Riviera> The parentheses serve no purpose here, and what pystardust said about the dots is true.
[10:52:40] *** Joins: ormaaj2100 (~ormaaj2@user/ormaaj)
[10:52:45] *** Quits: reset (~reset@user/reset) (Quit: reset)
[10:53:09] *** Quits: ormaaj2100 (~ormaaj2@user/ormaaj) (Client Quit)
[10:56:13] *** Quits: ormaaj2 (~ormaaj2@user/ormaaj) (Ping timeout: 246 seconds)
[10:56:40] *** Quits: graudre (~graudre@2607:fea8:560:7f20:b98c:dc4e:6b3a:a02) (Ping timeout: 240 seconds)
[10:59:00] *** gnoo_ is now known as superspider
[10:59:06] *** superspider is now known as gnoo
[11:00:01] *** Joins: vysn (~vysn@user/vysn)
[11:05:17] *** Joins: qub411 (~user@203-219-207-138.tpgi.com.au)
[11:05:22] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[11:13:22] <pystardust> Riviera: oh -r also stands for -E, didn't know that
[11:18:05] <Riviera> yeah that's the thing with fractally incompatible extensions
[11:18:43] <Riviera> for example, GNU's sed has back-references with -r and -E while the BSDs seds that feature -E have not
[11:25:14] *** Joins: dsrt^ (~dsrt@209.65.131.194)
[11:25:41] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[11:26:04] *** Joins: sQVe (~sQVe@user/sqve)
[11:26:10] *** Joins: totenkoph (~scythe@user/totenkoph)
[11:31:43] *** Joins: Nact (~l@host-85-27-122-107.dynamic.voo.be)
[11:31:58] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[11:33:38] <kurahaupo> litheum: It does say "late 1990's to the present", so we can assume it's less than 25 years old, probably nearer 10-15
[11:35:31] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 268 seconds)
[11:39:07] *** Joins: rendar (~rendar@user/rendar)
[11:41:23] *** Quits: kurahaupo (~kurahaupo@pa49-180-53-138.pa.nsw.optusnet.com.au) (Read error: Connection reset by peer)
[11:41:39] *** Joins: kurahaupo (~kurahaupo@pa49-180-53-138.pa.nsw.optusnet.com.au)
[11:43:34] *** Joins: greknod (~grek@114-198-46-223.dyn.iinet.net.au)
[11:46:10] *** Quits: austin987 (~null@2603-8080-2700-d768-0000-0000-0000-0b6a.res6.spectrum.com) (Ping timeout: 240 seconds)
[11:51:19] *** Joins: Lutin (~Lutin@user/lutin)
[11:52:54] *** Joins: roadie (~user@2a02:8108:ec0:1427:9997:e3bc:b1a7:3c36)
[11:53:37] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 252 seconds)
[11:54:44] *** Joins: Crescendo (~Crescendo@user/crescendo)
[11:55:17] *** Joins: kewl_fft_ (~kewl_fft@2a01:e0a:9cb:8950:feaa:14ff:fec1:c4d4)
[11:56:10] *** Quits: kewl_fft (~kewl_fft@82-65-252-209.subs.proxad.net) (Ping timeout: 240 seconds)
[11:56:10] *** kewl_fft_ is now known as kewl_fft
[11:56:38] *** Quits: downtrip (~downtrip@188.166.151.198) (Quit: WeeChat 3.2)
[11:58:41] *** Joins: downtrip (~downtrip@188.166.151.198)
[11:59:31] *** Joins: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com)
[12:00:28] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[12:00:45] *** Joins: Mo (~Mo@dynamic-077-001-182-056.77.1.pool.telefonica.de)
[12:02:32] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 245 seconds)
[12:03:52] *** Quits: gry (~quassel@botters/gry) (Ping timeout: 258 seconds)
[12:06:10] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 240 seconds)
[12:06:53] *** Quits: lordrishav (~LordRisha@user/lordrishav) (Quit: WeeChat 2.8)
[12:06:54] *** Joins: Crescendo (~Crescendo@user/crescendo)
[12:08:07] *** Joins: lordrishav (~LordRisha@user/lordrishav)
[12:10:39] *** Quits: Betal (~Betal@user/betal) (Quit: WeeChat 3.2)
[12:16:32] *** Quits: Soliton (~Soliton@wesnoth/developer/soliton) (Read error: Connection reset by peer)
[12:18:19] *** Joins: Soliton (~Soliton@wesnoth/developer/soliton)
[12:19:21] *** Quits: lordrishav (~LordRisha@user/lordrishav) (Ping timeout: 248 seconds)
[12:20:10] *** Quits: tirnanog (~tirnanog@user/tirnanog) (Ping timeout: 240 seconds)
[12:23:03] *** Joins: huzursuz (~quassel@31.223.78.243)
[12:23:56] *** Joins: lq (~lq@116.228.78.183)
[12:25:15] *** Quits: lq820105 (~lq@210.72.8.204) (Read error: Connection reset by peer)
[12:26:37] *** Joins: shad (~shad@user/shad)
[12:27:34] *** Joins: gnoo_ (~gnoo@user/gnoo)
[12:27:46] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[12:28:14] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[12:28:49] *** Quits: palimaar (~oasd@kd113148020047.ppp-bb.dion.ne.jp) (Ping timeout: 252 seconds)
[12:32:11] *** Joins: chomwitt (~chomwitt@2a02:587:dc0c:e200:12c3:7bff:fe6d:d374)
[12:33:35] *** Quits: forgotmynick (uid24625@id-24625.stonehaven.irccloud.com) (Quit: Connection closed for inactivity)
[12:39:10] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 240 seconds)
[12:46:51] *** Joins: gry (~quassel@botters/gry)
[12:46:58] *** Joins: hegstal (~hegstal@2a02:c7f:7604:8a00:8208:62c2:1345:18fb)
[12:47:13] *** Joins: lq820105 (~lq@210.72.8.204)
[12:47:40] *** Quits: lq (~lq@116.228.78.183) (Ping timeout: 240 seconds)
[12:49:10] *** Quits: PinealGlandOptic (~PinealGla@37.115.210.35) (Ping timeout: 240 seconds)
[12:51:06] *** Quits: lq820105 (~lq@210.72.8.204) (Read error: Connection reset by peer)
[12:52:13] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[12:52:15] *** Joins: lq (~lq@210.72.8.210)
[12:56:48] *** Joins: earnestly (~earnest@user/earnestly)
[12:58:36] *** Joins: lq820105 (~lq@180.167.42.2)
[13:00:48] *** Joins: kurahaupo_ (~kurahaupo@pa49-195-177-144.pa.nsw.optusnet.com.au)
[13:01:10] *** Quits: lq (~lq@210.72.8.210) (Ping timeout: 240 seconds)
[13:02:26] *** gnoo_ is now known as gnoo
[13:02:31] *** Quits: seachala[m] (~rosefoxma@2001:470:69fc:105::c74e) (Quit: Bridge terminating on SIGTERM)
[13:02:31] *** Quits: AnisBarghouthi[m (~anis-barg@2001:470:69fc:105::6ebb) (Quit: Bridge terminating on SIGTERM)
[13:02:32] *** Quits: teawhydee[m] (~teawhydee@2001:470:69fc:105::d6ee) (Quit: Bridge terminating on SIGTERM)
[13:02:33] *** Quits: pexes[m] (~pexesmatr@2001:470:69fc:105::c7c3) (Quit: Bridge terminating on SIGTERM)
[13:02:33] *** Quits: lautre[m] (~lautreg@2001:470:69fc:105::311f) (Quit: Bridge terminating on SIGTERM)
[13:02:33] *** Quits: kreyren[m] (~kreyrentc@2001:470:69fc:105::bafb) (Quit: Bridge terminating on SIGTERM)
[13:02:33] *** Quits: keeganza (~keeganza@2001:470:69fc:105::c842) (Quit: Bridge terminating on SIGTERM)
[13:02:34] *** Quits: Dima[m] (~reddima10@2001:470:69fc:105::366) (Quit: Bridge terminating on SIGTERM)
[13:02:34] *** Quits: creme[m] (~creme@2001:470:69fc:105::31c8) (Quit: Bridge terminating on SIGTERM)
[13:02:34] *** Quits: lasr[m] (~lasrhalog@2001:470:69fc:105::c875) (Quit: Bridge terminating on SIGTERM)
[13:02:34] *** Quits: [old]freshgumbub (~freshgum-@2001:470:69fc:105::504f) (Quit: Bridge terminating on SIGTERM)
[13:02:34] *** Quits: Helmholtz (~leibnizma@2001:470:69fc:105::3124) (Quit: Bridge terminating on SIGTERM)
[13:02:35] *** Quits: AppAraat[m] (~apparaatm@2001:470:69fc:105::8c3) (Quit: Bridge terminating on SIGTERM)
[13:02:35] *** Quits: mrjpaxton[m] (~mrjpaxton@2001:470:69fc:105::8ec4) (Quit: Bridge terminating on SIGTERM)
[13:02:35] *** Quits: kuhilas (~kuhilas@2001:470:69fc:105::3040) (Quit: Bridge terminating on SIGTERM)
[13:02:35] *** Quits: freshgumbubbles[ (~freshgum_@2001:470:69fc:105::c1a5) (Quit: Bridge terminating on SIGTERM)
[13:02:35] *** Quits: sixecho (~sixecho@2001:470:69fc:105::32) (Quit: Bridge terminating on SIGTERM)
[13:02:35] *** Quits: ormaaj (~ormaaj@user/ormaaj) (Quit: Bridge terminating on SIGTERM)
[13:02:35] *** Quits: kakos[m] (~kakos@2001:470:69fc:105::c965) (Quit: Bridge terminating on SIGTERM)
[13:02:35] *** Quits: M4k]cJ1{C^K^7IzF (~sub2matri@2001:470:69fc:105::c18c) (Quit: Bridge terminating on SIGTERM)
[13:02:36] *** Quits: jmcantrell (~jmcantrel@user/jmcantrell) (Quit: Bridge terminating on SIGTERM)
[13:02:36] *** Quits: s0dyy[m] (~s0dymatri@2001:470:69fc:105::d0f4) (Quit: Bridge terminating on SIGTERM)
[13:02:37] *** Quits: nicoty[m] (~nicoty@user/nicoty) (Quit: Bridge terminating on SIGTERM)
[13:02:37] *** Quits: lkhn (~lkhn@user/lkhn) (Quit: Bridge terminating on SIGTERM)
[13:02:37] *** Quits: madcloud (~kmacdev@2001:470:69fc:105::bad5) (Quit: Bridge terminating on SIGTERM)
[13:02:44] *** Quits: easy[m] (~easymatri@2001:470:69fc:105::c312) (Quit: Bridge terminating on SIGTERM)
[13:02:44] *** Quits: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4) (Quit: Bridge terminating on SIGTERM)
[13:02:44] *** Quits: elemongw[m] (~elemongwk@2001:470:69fc:105::34ee) (Quit: Bridge terminating on SIGTERM)
[13:03:10] *** Quits: kurahaupo (~kurahaupo@pa49-180-53-138.pa.nsw.optusnet.com.au) (Ping timeout: 240 seconds)
[13:04:58] *** Joins: AnisBarghouthi[m (~anis-barg@2001:470:69fc:105::6ebb)
[13:06:10] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 240 seconds)
[13:07:31] *** Joins: kuhilas (~kuhilas@2001:470:69fc:105::3040)
[13:07:31] *** Joins: creme[m] (~creme@2001:470:69fc:105::31c8)
[13:07:31] *** Joins: [old]freshgumbub (~freshgum-@2001:470:69fc:105::504f)
[13:07:31] *** Joins: elemongw[m] (~elemongwk@2001:470:69fc:105::34ee)
[13:07:31] *** Joins: lkhn (~lkhn@user/lkhn)
[13:07:31] *** Joins: nicoty[m] (~nicoty@user/nicoty)
[13:07:31] *** Joins: lasr[m] (~lasrhalog@2001:470:69fc:105::c875)
[13:07:31] *** Joins: sixecho (~sixecho@2001:470:69fc:105::32)
[13:07:31] *** Joins: s0dyy[m] (~s0dymatri@2001:470:69fc:105::d0f4)
[13:07:31] *** Joins: Helmholtz (~leibnizma@2001:470:69fc:105::3124)
[13:07:31] *** Joins: freshgumbubbles[ (~freshgum_@2001:470:69fc:105::c1a5)
[13:07:31] *** Joins: AppAraat[m] (~apparaatm@2001:470:69fc:105::8c3)
[13:07:31] *** Joins: lautre[m] (~lautreg@2001:470:69fc:105::311f)
[13:07:31] *** Joins: mrjpaxton[m] (~mrjpaxton@2001:470:69fc:105::8ec4)
[13:07:31] *** Joins: madcloud (~kmacdev@2001:470:69fc:105::bad5)
[13:07:31] *** Joins: ormaaj (~ormaaj@user/ormaaj)
[13:07:31] *** Joins: MeowcatWoofWoofF (~rosefoxma@2001:470:69fc:105::c74e)
[13:07:31] *** Joins: keeganza (~keeganza@2001:470:69fc:105::c842)
[13:07:31] *** Joins: kakos[m] (~kakos@2001:470:69fc:105::c965)
[13:07:31] *** Joins: Fernando-Basso (~fernandob@2001:470:69fc:105::d1d4)
[13:07:31] *** Joins: jmcantrell (~jmcantrel@user/jmcantrell)
[13:07:31] *** Joins: Dima[m] (~reddima10@2001:470:69fc:105::366)
[13:07:43] *** Joins: teawhydee[m] (~teawhydee@2001:470:69fc:105::d6ee)
[13:07:43] *** Joins: M4k]cJ1{C^K^7IzF (~sub2matri@2001:470:69fc:105::c18c)
[13:07:43] *** Joins: kreyren[m] (~kreyrentc@2001:470:69fc:105::bafb)
[13:07:43] *** Joins: pexes[m] (~pexesmatr@2001:470:69fc:105::c7c3)
[13:07:43] *** Joins: easy[m] (~easymatri@2001:470:69fc:105::c312)
[13:08:01] *** Quits: kurahaupo_ (~kurahaupo@pa49-195-177-144.pa.nsw.optusnet.com.au) (Ping timeout: 268 seconds)
[13:09:49] *** Quits: rando25892 (~sthk@c-98-240-233-64.hsd1.mn.comcast.net) (Changing host)
[13:09:49] *** Joins: rando25892 (~sthk@user/rando25892)
[13:11:50] *** Quits: tinytoast (~squeek@user/tinystoat) (Remote host closed the connection)
[13:12:00] *** Joins: tinystoat (~squeek@user/tinystoat)
[13:12:33] *** Quits: sandb0y (pirate@user/sandb0y) (Quit: I'm going phishing)
[13:13:37] *** Quits: wwilliam (~afernande@user/wwilliam) (Remote host closed the connection)
[13:14:00] *** Joins: wwilliam (~afernande@63.240.73.102)
[13:14:00] *** Quits: wwilliam (~afernande@63.240.73.102) (Changing host)
[13:14:00] *** Joins: wwilliam (~afernande@user/wwilliam)
[13:26:14] *** Joins: besnn (~besnn@user/besnn)
[13:26:38] *** Quits: fling (~fling@user/fling) (Quit: ZNC 1.8.2+deb2+b1 - https://znc.in)
[13:31:05] *** Joins: PinealGlandOptic (~PinealGla@178-133-143-185.mobile.vf-ua.net)
[13:32:03] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[13:32:06] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[13:37:05] *** Joins: mozgalom_ (~mozgalom@ipnet-gw.157.157.97.111.simnet.is)
[13:37:29] *** Quits: mozgalom (~mozgalom@194.144.47.113) (Read error: Connection reset by peer)
[13:37:45] *** Joins: n4dir (~user@i577bc95b.versanet.de)
[13:40:59] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[13:41:37] *** Joins: palindrome (~vargasj@51.37.139.160)
[13:42:24] <palindrome> hey guys, what am I missing here? is_it_master_branch() { return $(git branch | awk '/\*/ { print $2; }') eq 'master'; }
[13:43:10] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[13:44:09] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 248 seconds)
[13:44:10] <geirha> git branch --show-current
[13:45:18] <emanuele6> the syntax is wrong
[13:45:40] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 240 seconds)
[13:46:56] <Soliton> !return
[13:46:56] <greybot> Every Unix process returns an exit status code to its parent. This is an unsigned 8-bit integer, 0 to 255 inclusive, with 0 meaning "success" and 1-255 meaning "failure". A script returns the exit status of the last command executed, unless you call "exit" with an argument. Functions "return" an 8-bit status code also.
[13:47:10] *** Quits: audiobirb (~audio@2603-8081-1801-3bb5-c203-3fab-d083-5cb4.res6.spectrum.com) (Ping timeout: 240 seconds)
[13:47:15] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[13:47:16] <palindrome> emanuele6: can you correct me?
[13:47:36] <Soliton> how about just using what geirha mentioned?
[13:47:50] *** Joins: nova (novasenco@user/nova)
[13:47:52] <emanuele6> is_it_master_branch () { [[ $(git branch --show-current) == master ] ;}]
[13:47:55] <emanuele6> oops
[13:48:01] <emanuele6> is_it_master_branch () { [[ $(git branch --show-current) == master ]] ;}
[13:48:17] <palindrome> oh thank you, thank you geirha, emanuele6 
[13:48:20] <palindrome> :)
[13:48:24] <nova> Is there a better way?  read -r A B C < <(command that produces 3 tokens);
[13:48:51] <emanuele6> nova: IFS=' ' read -r A B C
[13:49:00] <emanuele6> or $'\t'
[13:49:06] <palindrome> why the [[ ]] ?
[13:49:12] <palindrome> just to understand the syntax
[13:49:17] <Soliton> !test
[13:49:17] <greybot> Use [[ .. ]] for testing strings or files, (( .. )) for testing numbers, and ''if ..'' for testing commands. Do *NOT* use [ .. ] in bash (only in sh). See <http://mywiki.wooledge.org/tests> and <http://wiki.bash-hackers.org/commands/classictest>. Difference between [ and [[: <http://mywiki.wooledge.org/BashFAQ/031>
[13:49:40] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 240 seconds)
[13:51:02] <nova> perfect. And one more thing. this seems to be the only reasonable way to get the root window id of xorg. xwininfo -root -int | grep 'Window id:' | cut -d' ' -f4  .. maybe not the right place, but anyone know better way?
[13:52:20] *** Joins: remirol (~lorimer@user/lorimer)
[13:52:20] *** Quits: lorimer (~lorimer@user/lorimer) (Killed (NickServ (GHOST command used by remirol)))
[13:52:29] *** remirol is now known as lorimer
[13:53:45] *** Quits: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be) (Ping timeout: 248 seconds)
[13:53:50] <Soliton> xwininfo -root -int | awk '/Window id:/{print $4}
[13:55:24] *** Quits: pystardust (~pystardus@117.96.229.96) (Quit: nyaa~)
[13:56:02] *** Joins: julius_c (~julius_c@70.red-88-0-63.dynamicip.rima-tde.net)
[13:56:39] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[13:57:00] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[13:57:45] <nova> I meant .. is there a better (still widely distributed) tool that can provide the root window id
[13:58:01] <emanuele6> nova: all it takes to get the window id of the root window is call the RootWindow() function from libX11. if you want to get it with xwininfo(1), you have to parse the output.
[13:58:43] <gnoo> `xporp -root _NET_ACTIVE_WINDOW` shows that
[13:58:46] *** Joins: mr-red (~drd@93-39-151-19.ip76.fastwebnet.it)
[13:59:12] <gnoo> and there's also a -f option to format output
[13:59:46] <Soliton> shows a different id for me.
[14:00:25] <Soliton> (xprop is the correct spelling)
[14:00:40] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 252 seconds)
[14:01:02] <gnoo> hmm, yes, it it different
[14:03:11] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[14:04:02] *** Joins: fling (~fling@user/fling)
[14:04:50] <nova> plan9 inspired me. http://ix.io/3wqD/sh hehe thanks eman
[14:05:34] <Soliton> !check
[14:05:37] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[14:05:37] <checkbot> nova: Line 20: Quote the right-hand side of == in [[ ]] to prevent glob matching. Line 33: $/${} is unnecessary on arithmetic variables. Line 30: Double quote to prevent globbing and word splitting. See https://shellcheck.net/?id=cb65737 for all 4 issues.
[14:05:38] *** Joins: betelgeuse (~betelgeus@94-225-47-8.access.telenet.be)
[14:06:41] <nova> I guess I should use -eq anyway since they should (? hm) be numbers
[14:09:02] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[14:12:22] *** Parts: physkets (~physkets@user/physkets) ()
[14:12:52] <nova> I am setting up awesome to be the best culmination of dwm, xmonad, bspwm, and plan9. It's going pretty well. I have never been more contented to piddle away on a window manager, which I usually just use for efficiency and practicality. It's nice to get all warm and cozy.
[14:14:02] *** Quits: barjac (~quassel@host86-191-31-231.range86-191.btcentralplus.com) (Quit: barjac)
[14:14:24] <ormaaj> is that the one that's mostly configured with scripts? Doesn't sound very efficient.
[14:15:10] *** Joins: barjac (~quassel@host86-191-31-231.range86-191.btcentralplus.com)
[14:15:20] <nova> awesome is configured via lua script
[14:15:37] <ormaaj> oh it's the lua one.
[14:15:42] <nova> bspwm is the one that is configured via scripts
[14:16:07] <ormaaj> eh it's a different one that i'm thinking of.
[14:16:08] <nova> xmonad is haskell, and dwm is minimalist patch/compile it in yourself
[14:16:29] <ormaaj> I used xmonad for about 10 years.
[14:16:40] *** Quits: greknod (~grek@114-198-46-223.dyn.iinet.net.au) (Ping timeout: 240 seconds)
[14:17:17] <nova> I used i3 for a year or two, then bspwm for a year, then xmonad for a year. I just found awesome. It's ... ok ... it's pretty awesome. I hate to say it.
[14:17:21] <emanuele6> nova: line 10 can be written as: K=${RESIZE_CAN_CANCEL:+k}
[14:17:31] *** Quits: PinealGlandOptic (~PinealGla@178-133-143-185.mobile.vf-ua.net) (Quit: leaving)
[14:17:37] <nova> emanuele6, yeah thanks. I knew there was something like that, but I got lazy :) cheers
[14:17:57] *** Joins: greknod (~grek@114-198-46-223.dyn.iinet.net.au)
[14:18:45] <izabera> i used to use bspwm until they just decided to just rename like 90% of the commands in a x.x.0 to x.x.1 update, breaking everyone's configs
[14:18:57] <izabera> this was like 5 years ago and i'm still bitter about it
[14:19:08] <nova> yeah and it's not maintained well or updated quickly
[14:19:33] <ormaaj> nowadays I can get similarly quick key maps to my very simple xmonad configuration on a plain old kwin without it even having proper tiling support. I guess if I needed something way more sophisticated I might go back to xmonad, though I could also do more with kwin's scripting support too.
[14:21:08] *** Quits: barjac (~quassel@host86-191-31-231.range86-191.btcentralplus.com) (Quit: barjac)
[14:21:10] <ormaaj> izabera has rage issues.
[14:21:13] <nova> oh I used dwm for a few months. I forgot about that. I missed dwm tags, so I was really happy to see awesome's default config has tag support (eg, super+ctrl+3 to "suck" workspace-three's windows into the current workspace)
[14:22:31] <emanuele6> !izabera
[14:22:31] <greybot> izn't really a bera
[14:22:37] <ormaaj> <izabera> "i hate every single thing of how..." <- 😄
[14:23:09] *** Quits: op0x0f05 (uid512716@id-512716.tinside.irccloud.com) (Quit: Connection closed for inactivity)
[14:23:28] <izabera> i don't have rage issues
[14:23:29] <nova> awesome just kind of does everything right. written in C without bloat :check:. configurable via lua .. ok not the most amazing thing ever but very reasonable, and nvim does it too, and there really isn't a better solution for config except maybe INI and parsing in C but then you lose extensibility so... I digress. Like xmonad :check:. Like dwm :check:. Very minimalist :check:.
[14:23:30] <izabera> what
[14:23:42] <izabera> this is outrageous i'm going to sue you ormaaj 
[14:24:33] *** Joins: legola (~legola@46.235.100.27)
[14:27:24] *** Joins: Adoi (~Adoi@user/adoi)
[14:29:10] *** Quits: legola (~legola@46.235.100.27) (Remote host closed the connection)
[14:30:51] *** Joins: legola (~legola@46.235.100.27)
[14:33:31] <nova> also, it's so minimalist that it is the only window manager besides dwm that I have used that doesn't need a compositor like picom because switching to another workspace does not cause noticeable tearing. hrm
[14:34:39] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:91bd:709f:43de:672a)
[14:34:40] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:91bd:709f:43de:672a) (Changing host)
[14:34:40] *** Joins: skapata (~Skapata@user/skapata)
[14:38:24] <ormaaj> izabera: Maybe. UK is defamation capitol of the world.
[14:39:55] <izabera> https://www.nytimes.com/2019/03/05/opinion/australia-defamation-laws.html
[14:39:57] <izabera> https://www.afr.com/companies/media-and-marketing/australia-the-defamation-capital-of-the-world-20190904-p52nuh
[14:40:06] <izabera> https://ukhumanrightsblog.com/2020/06/01/london-the-libel-capital-of-the-world-plus-a-landmark-consumer-rights-case-and-changes-to-us-media-law-the-round-up/
[14:40:24] <izabera> no i'm sorry there's many more results about australia 
[14:41:08] <izabera> https://www.democraticaudit.com/2014/01/08/after-the-defamation-act-london-may-no-longer-be-the-libel-capital-of-the-world/    also it looks like things got fixed in the uk?
[14:41:13] <izabera> idk i wasn't here back then
[14:41:23] <ormaaj> oh snap my bad. didn't know there was competition.
[14:43:41] *** Quits: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[14:46:37] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[14:46:52] *** Quits: fling (~fling@user/fling) (Ping timeout: 252 seconds)
[14:47:16] *** Joins: fling (~fling@user/fling)
[14:49:13] <ormaaj> But yeah it might have been fixed. Only reason I know about it is because it caused enough outrage to be "embarrassing" and thus high priority bug.
[14:49:37] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[14:49:50] *** Joins: mjbatty_ (~mjbatty@82.2.17.205)
[14:50:09] <flying_sausages_> hello everyone, I'd like to remove one specific argument from $@ if it is present, any idea if I can "unset" it from the $@ array?
[14:50:23] <flying_sausages_> without breaking any logic that uses shift
[14:50:48] <ormaaj> there's no random access. You have to reassign the whole thing with set
[14:51:06] <ormaaj> well, read-only random access
[14:51:33] <ormaaj> shift is the only write operation other than reasigning it all.
[14:51:54] <flying_sausages_> what would be a "sane" way to re-assign the whole argument array?
[14:51:56] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[14:52:09] <flying_sausages_> I've never seen someone do $@=("abc") before
[14:52:09] <ormaaj> set -- arg1 arg2 ...
[14:52:20] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[14:52:25] <flying_sausages_> ooh ok let me google that up then
[14:52:25] *** Quits: fling (~fling@user/fling) (Read error: Connection reset by peer)
[14:52:27] <flying_sausages_> thanks for the pointer
[14:54:41] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 268 seconds)
[14:56:19] *** Quits: jinsun (~quassel@user/jinsun) (Read error: Connection reset by peer)
[14:56:44] *** Quits: Bhavuk (~BTaneja@122.173.24.251) (Read error: Connection reset by peer)
[14:57:13] *** Quits: WinterStar (~IceLight@user/icelight) (Ping timeout: 248 seconds)
[14:57:16] *** Joins: jinsun (~quassel@user/jinsun)
[14:57:44] *** Joins: fling (~fling@user/fling)
[14:58:21] *** Joins: Bhavuk (~BTaneja@122.173.24.251)
[14:58:53] <ormaaj> also noteworthy is lack of `declare -g` equivalent and nameref can't target either the array as a whole or individual elements, which matters both for functions and the global scope of sourced files.
[14:59:59] <ormaaj> one of the recent versions made BASH_ARGV a slightly more useful though (in that it's not useless in non-debug mode). Not sure exactly what 
[15:01:09] *** Quits: Administratorte (~sq@tempest.math.colostate.edu) (Quit: WeeChat 3.1)
[15:01:19] <flying_sausages_> do you think this would make sense for a quick var removal? `set -- ${*//--test/}`
[15:01:26] *** Quits: ScriptFanix (~vincent@rev209.vpn.fdn.fr) (Quit: WeeChat 2.3)
[15:01:30] *** Joins: Administratorte (~sq@tempest.math.colostate.edu)
[15:01:38] <flying_sausages_> i.e. I'm trying to remove `--test` from the args after I've "consumed" it
[15:01:41] <ormaaj> I wish. Sadly no.
[15:02:03] *** Joins: ScriptFanix (~vincent@rev209.vpn.fdn.fr)
[15:02:56] <ormaaj> you have to use "$@" to expand multiple args, and it just expands an empty argument unfortunately.
[15:03:01] <flying_sausages_> By the way what's the quick bashism for putting a space between each array element when I'm doing `${array[*]}
[15:03:25] <flying_sausages_> these things are so hard to google right
[15:04:04] <ormaaj> You'd set IFS to ' '. But that's rarely what you want. 99% of the time you want "$@" and "${array[@]}"
[15:07:02] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 268 seconds)
[15:07:37] <flying_sausages_> sorry I'm not sure what you implied with the "multiple arg expansion". Could you please elaborate on what that means in this context?
[15:08:25] *** Joins: diamondbond (~diamondbo@175.157.238.245)
[15:10:50] <flying_sausages_> why would this not work correctly? I'm getting the output I expected https://dpaste.org/SvZR/slim
[15:11:15] <flying_sausages_> is there some case I'm not considering?
[15:12:16] <ormaaj> Your expansions are unquoted. That's always bad.
[15:14:50] <flying_sausages_> oh oopth
[15:14:58] <ormaaj> 99% of the time you want "${array[@]}" and "$@". Those unpack arrays and positional parameters into one argument / "word" per element, and they must be quoted (except in a few contexts, and even there quotes don't hurt (except in contexts where they do)).
[15:15:34] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.2)
[15:15:54] <flying_sausages_> yeah i see what you were talking about earlier now
[15:16:53] *** Quits: codebam (~codebam@user/codebam) (Ping timeout: 268 seconds)
[15:18:05] <flying_sausages_> `set -- "$(printf "%s\n" "$@" | grep -v -- --test)"` is my evolution ha
[15:18:10] *** Quits: diamondbond (~diamondbo@175.157.238.245) (Ping timeout: 240 seconds)
[15:18:30] *** Joins: nobody_ (~nobody@host-79-50-185-199.retail.telecomitalia.it)
[15:18:38] <ormaaj> no
[15:18:52] <flying_sausages_> :(
[15:20:34] *** Joins: WinterStar (~IceLight@user/icelight)
[15:21:06] <flying_sausages_> what would be incorrect about this?
[15:21:24] <geirha> args=( "$@" ); for i in "${!args[@]}"; do if [[ ${args[i]} = --test ]]; then unset -v 'args[i]'; fi; done; set -- "${args[@]}"
[15:21:25] *** Joins: lsrtl_ (~lsrtl@user/lsrtl)
[15:21:35] <geirha> would at least be correct, but still a weird thing to do
[15:22:07] <flying_sausages_> would that not then break `shift` logic? iirc this would unset $2 for example, so a shift from $1 to $3 would break
[15:22:25] <flying_sausages_> i might be mistkaen
[15:22:36] <geirha> it's modifying a copy of the arguments
[15:22:44] <geirha> no shifting involved
[15:23:08] <flying_sausages_> ooh ah
[15:23:11] <flying_sausages_> lmc
[15:23:32] *** Quits: rendar (~rendar@user/rendar) ()
[15:23:41] *** Quits: lsrtl__ (~lsrtl@user/lsrtl) (Ping timeout: 268 seconds)
[15:23:45] <Soliton> for arg; do [[ $arg == --test ]] || args+=("$arg"); done; set -- "${args[@]}"
[15:24:32] <flying_sausages_> oh yeah lol
[15:24:37] <flying_sausages_> that's simple
[15:25:51] *** Joins: lsrtl__ (~lsrtl@user/lsrtl)
[15:26:46] *** Quits: lsrtl_ (~lsrtl@user/lsrtl) (Ping timeout: 268 seconds)
[15:27:23] <flying_sausages_> huh, wait, how does `for arg; do` work without `for arg in "${args[@]}"; do`
[15:27:45] <flying_sausages_> s/args/arg/
[15:27:46] <Soliton> it's the same as for arg in "$@"; ...
[15:28:32] <flying_sausages_> oh wow, that's something new
[15:28:42] <flying_sausages_> is the "in $@" implied?
[15:28:46] <flying_sausages_> if not specified?
[15:30:19] *** Quits: shad (~shad@user/shad) (Ping timeout: 252 seconds)
[15:30:21] *** Joins: skapate (~Skapata@2804:14c:87b0:a6f9:e9e7:34c6:1d25:3074)
[15:30:21] *** Quits: skapate (~Skapata@2804:14c:87b0:a6f9:e9e7:34c6:1d25:3074) (Changing host)
[15:30:21] *** Joins: skapate (~Skapata@user/skapata)
[15:31:38] *** Quits: skapata (~Skapata@user/skapata) (Ping timeout: 258 seconds)
[15:31:42] *** Joins: Aryan (Aryan@user/aryan)
[15:31:53] *** Quits: Mo (~Mo@dynamic-077-001-182-056.77.1.pool.telefonica.de) (Ping timeout: 248 seconds)
[15:32:25] <Aryan> I remember when I putted a ' ' (space) in the beggining of a command, that command didnt appear in history. Now, i want to enable that feature on my shell. I dont know how.
[15:33:31] <Aryan> I thought it was related to #bash
[15:33:47] <Aryan> @
[15:34:46] <Soliton> see HISTCONTROL
[15:36:22] *** Quits: nobody_ (~nobody@host-79-50-185-199.retail.telecomitalia.it) (Ping timeout: 252 seconds)
[15:36:43] <Aryan> Thanks
[15:38:13] *** Joins: LanDi (~landi@187.19.139.199)
[15:38:30] *** Joins: pystardust (~pystardus@2409:4071:2217:28da:20cf:6ce5:4379:28e3)
[15:41:59] *** Quits: roadie (~user@2a02:8108:ec0:1427:9997:e3bc:b1a7:3c36) (Ping timeout: 258 seconds)
[15:42:40] *** Joins: darkbit (~db@152.32.99.67)
[15:42:46] *** Joins: roadie (~user@2a02:8108:ec0:1427:9997:e3bc:b1a7:3c36)
[15:43:30] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[15:44:44] *** Joins: Guest53 (~Guest53@2a00:a040:195:d0a6:dc55:b979:7cdf:e2ef)
[15:45:00] <Guest53> hi
[15:45:03] <Guest53> is this freenode?
[15:45:07] *** Guest53 is now known as zxd
[15:46:34] <Soliton> freenode is dead.
[15:47:07] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 268 seconds)
[15:47:23] <zxd> yes what happened? sasl/tls  registration  w00t
[15:47:59] <zxd> what's is this network 
[15:48:10] <zxd> I see this channel has the same people as freenode before
[15:48:26] *** Quits: besnn (~besnn@user/besnn) (Read error: Connection reset by peer)
[15:48:43] *** Joins: besnn (~besnn@user/besnn)
[15:48:58] <Soliton> this network is run by former freenode staff.
[15:50:19] *** Joins: aakashi2001 (~aakashi20@103.61.255.59)
[15:50:30] <geirha> We moved here when His Imperial Highness took over and destroyed freenode
[15:51:03] *** Quits: aakashi2001 (~aakashi20@103.61.255.59) (Remote host closed the connection)
[15:51:22] *** Joins: aakashi2001 (~aakashi20@103.61.255.10)
[15:52:19] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 252 seconds)
[15:53:23] <zxd> ok, anyway I had question,  is it possible to transfer files and run a 'finger' command get the output from it  in a single ssh connection,   if I did  ssh "tar -f -  file1 file2 file3 ...   -  ; finger user"  |  tar xvf -      problem finger output would be joined together with the output from tar I can't tell when the finger output begins
[15:54:02] <zxd> guess freenode no so free
[15:54:07] <zxd> anymore
[15:54:12] <Soliton> you could redirect finger output to stderr.
[15:56:25] *** Quits: mr-red (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 248 seconds)
[16:00:55] <zxd> Soliton:  pipe  |    connects both stdout and stderr as to stdin for the command after the pipe no ? how can I differentiate between tar stream and finger output ?
[16:01:23] *** Quits: Bhavuk (~BTaneja@122.173.24.251) (Quit: Leaving)
[16:02:10] <Soliton> !pipe
[16:02:11] <greybot> (Anonymous) pipes use the | character to connect the standard output of one command to the standard input of another. Each command is executed in a subshell (but see !subshell, !lastpipe, !faq 24).
[16:02:18] <zxd> { echo cheese ; ls >&2  ; } | cat     same
[16:02:39] <Soliton> what difference did you expect?
[16:03:02] <zxd> I want to get the files and parse finger output
[16:03:05] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[16:03:24] <zxd> after tar is done reading it will stop?
[16:03:27] <Soliton> i meant in your experiment to figure out how pipes work.
[16:03:31] <zxd> detects it's end of tar stream ?
[16:03:56] *** Quits: dsrt^ (~dsrt@209.65.131.194) (Remote host closed the connection)
[16:04:12] <Soliton> why would tar magically know what bytes come from where?
[16:05:31] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[16:05:37] <djph> Soliton: because you used --magic, duh
[16:05:47] <djph> (please don't ban me)
[16:05:56] *** Joins: motherr (~motherr@user/motherr)
[16:11:04] <zxd> I misunderstand something,  { tar -cf - ../xxo ; echo cheese >&2; } | tar xvf -    why is cheese being printed to terminal if I am redirecting piping to tar
[16:11:10] *** Joins: funabashi (funabashi@185.52.0.236)
[16:11:35] <zxd> connecting stdout and stderr to stdin of tar no?
[16:11:43] <Soliton> no.
[16:12:07] <djph> isn't stderr its own thing, and usually kept outside of pipelines?
[16:14:28] <zxd> ok only stdout is connected to stdin from experiment
[16:14:44] <zxd> so what good is redirecting the finger command to stderr if I can't capture it
[16:14:44] <Soliton> stderr is for diagnostic or debugging messages etc not data. pipes are usually used to process data. it would make little sense to connect stderr to a pipe by default.
[16:15:14] *** Joins: zeden (~zeden@user/zeden)
[16:15:22] <koollman_> zxd: what could would it be to direct that command output into tar input ?
[16:15:30] <Soliton> what good is not explaining your goal and then asking why the proposed solution does not satisfy your goal?
[16:15:53] *** Joins: seninha (~seninha@user/seninha)
[16:16:42] *** Joins: vs^ (~vs@209.65.131.194)
[16:16:46] <Soliton> you could redirect stderr to a file or whatever you want to do with it.
[16:17:03] <zxd> I want to transfer files via ssh from remote from localmachine and also parse output from finger executed on remote on localmachine in one go
[16:17:25] <Soliton> or pick a different fd so you don't get actual errors in the mix.
[16:21:32] *** Joins: didi (~user@user/didi)
[16:26:26] <djph> isn't 'finger' for getting user info (e.g. who's logged in, etc).  Seems like information that you wouldn't send to tar in the first place...
[16:26:35] *** Joins: loganlee (~Thunderbi@user/loganlee)
[16:27:51] <loganlee> guys `cat > update_winetricks <<_EOF_SCRIPT echo hello! _EOF_SCRIPT` doesn't work?
[16:28:00] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[16:28:30] <didi> If I recall correctly, there is an expansion that expands an array with each element prefixed by a fixed prefix. What is it?
[16:29:03] <Soliton> loganlee: you need to write it on multiple lines.
[16:29:26] <loganlee> Soliton: yeh it is written in several lines irl
[16:29:28] <Soliton> didi: "${array[@]/#/prefix}"
[16:29:36] <didi> Soliton: Thank you.
[16:29:43] *** Quits: aakashi2001 (~aakashi20@103.61.255.10) (Ping timeout: 252 seconds)
[16:29:46] *** Quits: alnr (~alnr@38.125.204.99) (Quit: Leaving)
[16:30:50] <Soliton> # bash -c $'cat > update_winetricks <<_EOF_SCRIPT\necho hello!\n_EOF_SCRIPT'; cat update_winetricks
[16:30:51] <shbot> Soliton: echo hello!
[16:31:22] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[16:31:53] <loganlee> maybe i should post the whole thing
[16:32:21] *** Quits: joo_ (~joo@fsf/member/joo--) (Remote host closed the connection)
[16:32:21] *** Quits: joo (~joo@fsf/member/joo--) (Remote host closed the connection)
[16:33:04] <loganlee> https://paste.ubuntu.com/p/YmwvYTTMJd/   this does nothing when i run it
[16:33:19] <loganlee> i changed she bang to /bin/bash
[16:34:42] <Soliton> !check
[16:34:43] <checkbot> Soliton: Unable to read that :/
[16:35:04] <djph> lots of references to tldp
[16:35:20] *** Joins: loquat (~loquat@user/loquat)
[16:35:35] *** Joins: Crassus (~Crassus@user/crassus)
[16:35:59] <djph> loganlee: how are you determining it does nothing?
[16:36:28] <loganlee> djph: i think the script ran
[16:36:48] *** Parts: didi (~user@user/didi) (O bella ciao bella ciao bella ciao, ciao, ciao.)
[16:37:15] <djph> that doesn't exactly answer my question
[16:37:30] <djph> what is your expectation for when it completes?
[16:37:32] <loganlee> djph: i thought `cd "$(mktemp -d)" ` will change my current directory when script finished
[16:37:40] <djph> that does not happen
[16:37:46] *** Joins: jaggz (~jaggz@user/jaggz)
[16:37:47] <djph> only the script will be there
[16:37:54] <djph> !cd > loganlee 
[16:37:54] <greybot> loganlee: Never chdir in a script unless you check if it failed! cd $foo; bad. cd "$foo" || exit; good. See /msg greybot pitfalls
[16:38:03] <djph> dammit, that's the wrong one
[16:38:12] <jaggz> i forgot. when doing a foo | while read something; do stuff; read -p 'i want an answer' answer;  done
[16:38:29] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[16:38:52] <djph> !faq60 > loganlee 
[16:38:52] <greybot> loganlee : https://mywiki.wooledge.org/BashFAQ/060 -- I'm trying to write a script that will change directory (or set a variable), but after the script finishes, I'm back where I started (or my variable isn't set)!
[16:39:00] <Soliton> perhaps you want to read from /dev/tty.
[16:40:07] <jaggz> Soliton, awesome. tx
[16:41:10] <loganlee> djph: ty
[16:42:30] <jaggz> is it just me or does old bash handle -HEREDOC stuff, but not unindent?
[16:43:10] *** Quits: derpadmin (~derpadmin@cloudbase2.200013.net) (Ping timeout: 240 seconds)
[16:43:12] <jaggz> Like, I did cat <<-EOT     Then did a couple lines starting with multiple spaces.  It handled recognizing the EOT (I didn't have to type -EOT to terminate), but it didn't unindent
[16:43:19] <jaggz> and it did recognize the indented EOT
[16:43:39] <Soliton> !<<-
[16:43:39] <greybot> Indented Here documents. Here documents started with <<- will ignore preceding tabs on each line, allowing you to indent your here documents nicely. Refer to << for general information on Here documents. Note that only TABs will work - spaces will not. Some editors can replace the TAB character with spaces, so be careful.
[16:44:35] <jaggz> oh geez. i even suspicioned that
[16:44:37] <jaggz> thanks
[16:45:59] <loquat> Hello everyone! I'm trying to customize my shell so that the commands I type are showed in boldexcept the output it produces. I managed to set this by adding --> trap 'printf \\e[0m' DEBUG after the PS1 and it worked but now this seems to interfere with tab completion. It prints the first file of the suggestion in bold while other files are shown correctly (regular font) 
[16:46:40] *** Quits: n4dir (~user@i577bc95b.versanet.de) (Remote host closed the connection)
[16:47:30] <jaggz> how do I shell out from a bash script?
[16:47:43] <lopid> shell out?
[16:47:57] <jaggz> my program changes to a dir and asks the user: "Good?  Want to (s)shell out?" ans;  if [[ $ans = y ]]; then bash; fi
[16:48:21] <jaggz> from commandline, that bash will run a subshell in the current dir, but from my script it's just skipping it
[16:48:40] <jaggz> oh this might be because it's in this while read loop thing still.. maybe that's breaking something
[16:48:47] <Soliton> that's not a subshell just a child process.
[16:49:09] <jaggz> I want this to be a "Run a shell in this dir to examine things?"
[16:49:17] <jaggz> before it goes on changing to the other directories to manage
[16:49:18] <lopid> "bash"
[16:49:37] <jaggz> lopid, hrm?
[16:49:46] <lopid> just run bash
[16:49:59] <lopid> cmd1; bash; cmd2; …
[16:50:00] <jaggz> that's what I'm doing but it's just continuing with the outer while read loop
[16:50:12] <lopid> debug it
[16:50:14] <Soliton> same as before you might want to use /dev/tty.
[16:52:09] <Soliton> or you could rewrite your loop to use a different fd.
[16:52:38] <Soliton> while read -u 3; do echo "$REPLY"; done 3< <(...)
[16:52:51] <jaggz> https://paste.debian.net/hidden/f4a707da/
[16:53:07] * jaggz squints at your line
[16:53:17] <Soliton> !check
[16:53:18] <checkbot> jaggz: Line 11: When using <<-, you can only indent with tabs. Line 8: Couldn't parse this here document. Fix to allow more checks. Line 8: The mentioned syntax error was in this simple command. See https://shellcheck.net/?id=cb75798 for all 4 issues.
[16:54:05] <pj> jaggz: cat tmpfile ... | while ... bash
[16:54:05] <jaggz> that's from copy/pasting with konsole <-- tmux .. i'm going through ssh
[16:54:14] <pj> the cat tmpfile is being piped to bash stdin.
[16:54:21] <Soliton> while read -ru 3 datadir; do ...; done 3< <(sed -E 's/^ *[0-9]+ //' "$tmpfile")
[16:54:45] *** Joins: jos1 (~jos3@dyndsl-091-096-035-163.ewe-ip-backbone.de)
[16:55:00] <jaggz> (man, I always forget -r)
[16:55:25] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[16:56:14] <jaggz> hey you got rid of my useless use of cat too.  grr.
[16:56:20] <jaggz> :) thanks
[16:57:15] *** Joins: user217_ (~andrii@195.138.71.41)
[16:57:17] <pj> yes, uuoc there, but the issue is after processing through sed, the first line gets passed to the read, but the rest stays in the stdin buffer and ends up being the input to the bash command.
[16:57:25] *** Quits: jos2 (~jos3@dyndsl-091-096-045-153.ewe-ip-backbone.de) (Ping timeout: 268 seconds)
[16:57:33] <jaggz> it works.. yay
[16:57:40] <user217_> bash ./...
[16:57:41] <jaggz> thanks again
[16:57:53] <user217_> what mean ./... ?
[16:58:00] <jaggz> current directory
[16:58:17] <user217_> is this the same as just .
[16:58:18] <jaggz> wait is that a literal line/command, user217_ ?
[16:58:28] <jaggz> try: ls ./
[16:58:35] <jaggz> and:  ls .
[16:58:39] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 268 seconds)
[16:58:41] *** Quits: Crassus (~Crassus@user/crassus) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:58:56] <user217_> go test ./...  -test.v
[16:59:15] <Soliton> presumably you're supposed to put an actual filename in.
[16:59:23] <jaggz> ... is a filename in the current dir?
[16:59:37] <pj> Soliton: "..." might  be an actual filename.
[16:59:49] <user217_> ok.thanks
[17:00:02] <jaggz> user217_,  .. is the parent dir
[17:00:11] <jaggz> . is current dir
[17:00:35] <user217_> it just :    "go test ./put_here_your_filename -test.v"
[17:00:46] <user217_> jaggz:  3 dots
[17:00:48] <user217_> not 2
[17:00:53] <user217_> ./...
[17:01:03] <jaggz> the 3 dots is nothing special. that would be some filename called "..."
[17:01:17] <user217_> ok. thanks
[17:01:30] <jaggz> (although I do alias ...='cd ../..'   .. but that wouldn't affect what you're doing)
[17:01:50] <jaggz> user217_, ls -l ...
[17:02:14] <jaggz> I don't know what this -test.v stuff is
[17:02:24] <pj> # touch ...; shopt -s dotglob; echo *
[17:02:26] <shbot> pj: ... .bashrc .mkshrc
[17:02:28] <jaggz> oh.. you're running go
[17:02:31] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[17:03:04] <user217_> looks like thisi is just suggestion to put name instead "..."
[17:03:11] <user217_> thanks for help
[17:03:15] <pj> # echo "this is a valid file" >...; cat ...
[17:03:16] <shbot> pj: this is a valid file
[17:04:01] *** Quits: chomwitt (~chomwitt@2a02:587:dc0c:e200:12c3:7bff:fe6d:d374) (Ping timeout: 258 seconds)
[17:04:42] *** Quits: loquat (~loquat@user/loquat) (Quit: loquat)
[17:05:27] *** Joins: shad (~shad@user/shad)
[17:05:45] *** Quits: lorimark (~lorimark_@static-47-190-7-163.dlls.tx.frontiernet.net) (Ping timeout: 248 seconds)
[17:13:16] *** Quits: zeraphel (~daddy@2a00:a040:196:1438::2) (Quit: zeraphel)
[17:13:38] *** Joins: zeraphel (~daddy@2a00:a040:196:1438::2)
[17:13:50] *** Quits: loganlee (~Thunderbi@user/loganlee) (Quit: loganlee)
[17:14:21] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[17:18:44] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[17:19:04] *** Quits: YuGiOhJCJ (~YuGiOhJCJ@gateway/tor-sasl/yugiohjcj) (Quit: YuGiOhJCJ)
[17:19:08] *** Joins: lorimark (~lorimark_@static-47-190-7-163.dlls.tx.frontiernet.net)
[17:21:43] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[17:26:57] *** Quits: elibrokeit (eschwartz@archlinux/bugwrangler/eschwartz) (Quit: A random quit message)
[17:27:10] *** Joins: elibrokeit (eschwartz@archlinux/bugwrangler/eschwartz)
[17:28:32] *** Joins: greycat (~greg@209.142.155.49)
[17:29:30] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[17:30:04] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[17:30:18] *** Quits: dermoth (~dermoth@user/dermoth) (Quit: Leaving)
[17:32:25] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[17:32:37] *** Joins: tejr_ (~tejr@user/tejr)
[17:32:40] *** Quits: tejr (~tejr@user/tejr) (Remote host closed the connection)
[17:32:49] *** Joins: dermoth (~dermoth@user/dermoth)
[17:33:30] *** Joins: nobody_ (~nobody@host-79-50-185-199.retail.telecomitalia.it)
[17:35:30] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[17:38:49] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 248 seconds)
[17:39:26] *** Quits: Strom (strom@fedora/strom) ()
[17:40:39] *** Quits: julius_c (~julius_c@70.red-88-0-63.dynamicip.rima-tde.net) (Quit: Leaving)
[17:41:32] *** Joins: Strom (strom@fedora/strom)
[17:42:32] *** Joins: carlos (~pum@user/carlos)
[17:43:27] *** Joins: Lope (~lope@user/lope)
[17:43:33] <Lope> addLineIfNotExist() {	local line=${@:1:$#-1}; local lastParam=${@: -1}; grep -q "'^$line'" $lastParam || echo $line >> $lastParam; }
[17:43:41] <Lope> Why doesn't this work?
[17:43:47] <Lope> the grep isn't working.
[17:44:01] <phy1729> I'd assume you want -qxF
[17:44:01] <greycat> your local line= makes no sense.  you're assigning a slice of an array to a string?
[17:44:20] <phy1729> The quotes are odd
[17:45:00] <Lope> greycat, it should be runnable like this: addLineIfNotExist name = John /tmp/del/foo.txt
[17:45:04] *** Quits: darkbit (~db@152.32.99.67) (Ping timeout: 252 seconds)
[17:45:06] *** Joins: lavaball (felix@31.204.155.215)
[17:45:14] <greycat> Start by showing us the intended SYNOPSIS for the function.  How many arguments does it take?  What are they?
[17:45:26] <Lope> so line is everything that was given to the function, except the last param, which is the file.
[17:45:36] <phy1729> What if you want multiple spaces between words?
[17:45:44] <Lope> I don't
[17:45:46] <phy1729> (That is to say, the line should be quoted)
[17:45:50] <greycat> ^
[17:46:07] <Lope> Oh, the line should be quoted, lol, I never thought of that.
[17:46:08] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Remote host closed the connection)
[17:46:13] <Lope> Okay, let me give that a swing.
[17:46:19] <Lope> But I suspect it won't work either.
[17:46:29] <Lope> the grep looks right, but isn't working.
[17:46:40] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[17:46:40] <phy1729> Then you   grep -qxF "$1" "$2" || printf '%s\n' "$1" >>"$2"
[17:46:41] <greycat> And even if for some reason you *do* hate you user and you *do* want to disallow them specifying a line with multiple spaces in it, you'd want $* rather than $@ to get a smashed-together string out of an array.
[17:46:53] <Lope> If I just add an echo infront, then the grep command is perfect, and if I run the grep command manually, it works.
[17:47:00] <Lope> addLineIfNotExist() { local line=${@:1:$#-1}; local lastParam=${@: -1}; echo grep -q "'^$line'" $lastParam || echo $line >> $lastParam; }
[17:47:15] *** Joins: reset (~reset@user/reset)
[17:47:17] <greycat> This is pointless.  They're not listening to anything we say, at all.  *plonk*
[17:47:35] *** Quits: colo (~colo@user/colo) (Quit: Bye.)
[17:48:02] <Lope> greycat, that's not true, as I mentioned above I think your idea of using a quoted $1 has merit.
[17:48:18] *** Joins: thiras (~thiras@user/thiras)
[17:48:20] <greycat> Repeating your original code and claiming "it should work" and showing a complete disregard for *all* the suggestions you've been given?  Not a good way to earn respect.
[17:48:41] *** Quits: Lope (~lope@user/lope) (Remote host closed the connection)
[17:48:59] <greycat> !quotes > Also
[17:48:59] <greybot> Also: https://mywiki.wooledge.org/Quotes
[17:49:07] <phy1729> He's gone
[17:49:26] *** Joins: Lope (~lope@user/lope)
[17:49:36] <Lope> I'm back, that was weird.
[17:50:10] <Lope> greybot, you can calm down and also maybe take it easy with the high horse.
[17:50:27] <Lope> I'm not trying to earn your respect nor am I trying to disrespect you or waste your time or anything like that.
[17:50:35] <Lope> I'm trying to learn, that's why I asked what I asked.
[17:50:35] <phy1729> All you need is    grep -qxF "$1" "$2" || printf '%s\n' "$1" >>"$2"     if you want you can swap out with local variables to name things
[17:51:04] <phy1729> greybot is oddly enough a bot not a human; the cat is a human and *plonk*
[17:51:05] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Ping timeout: 248 seconds)
[17:51:06] <phy1729> !plonk
[17:51:06] <greybot> The sound a name makes when it hits a kill file (or /ignore list).
[17:51:14] <Lope> thanks phy1729, I'll give it a go
[17:51:49] <Lope> ah, yeah, autocomplete.
[17:51:50] *** Quits: legola (~legola@46.235.100.27) (Remote host closed the connection)
[17:53:14] <Lope> greycat, also I didn't repeat my original code, added an echo infront, which shows what bash is generating, which is the same as what I can enter into my terminal.
[17:53:45] <Lope> My question was why does it not work when bash generates the command, but if I enter it into my terminal, (and they're identical) it works.
[17:54:11] <Lope> Beyond the scope of "best way to solve this challenge" I'm also trying to learn.
[17:56:37] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 268 seconds)
[17:57:30] *** Joins: sn1tch3r (~sn1tch3r@user/sn1tch3r)
[17:57:55] <ormaaj> gee, maybe quoting suggestion has merit. Well I'll have to think about it.
[17:58:20] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[17:58:47] <greycat> # line='/* hello world */'; echo $line >> file; cat file
[17:58:48] <shbot> greycat: /bin /dev /etc /init /lib /lib64 /proc /root /tmp /usr /var hello world */
[18:01:01] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[18:01:01] <Lope> I see. Thank you. But I was under the impression that bash that runs non-interactively (in a script) works exactly the same as bash that I enter into an interactive terminal?
[18:01:38] <ormaaj> nope it's a different mode. but that's irrelevant to your issues.
[18:03:41] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[18:06:44] *** Joins: igemnace (~ian@user/igemnace)
[18:07:00] *** Joins: chomwitt (~chomwitt@ppp-94-67-193-240.home.otenet.gr)
[18:10:41] *** Joins: colo (~colo@user/colo)
[18:11:25] *** Joins: legola (~legola@46.235.100.27)
[18:12:10] *** Quits: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net) (Ping timeout: 240 seconds)
[18:12:34] *** Joins: sublim20 (~sublim20@user/sublim20)
[18:13:05] *** Joins: darkbit (~db@152.32.99.67)
[18:16:38] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Remote host closed the connection)
[18:16:45] *** Joins: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk)
[18:18:24] <Lope> greycat, thanks for the tip about $*. (I've gone with the quoting solution in this use-case, but good to know)
[18:18:40] <Lope> (was just finishing updating a script)
[18:18:47] *** Quits: Kvothe (~weechat@user/elodin) (Ping timeout: 245 seconds)
[18:19:07] *** Joins: Kvothe (~weechat@user/elodin)
[18:19:07] *** Joins: OnceMe (~stefan@user/onceme)
[18:19:29] <OnceMe> echo ${1} gives me 10 when I pass it 
[18:19:40] <OnceMe> but in: jq '.["${1}"].A' my.json it does not
[18:19:42] <OnceMe> how come?
[18:19:57] <OnceMe> I even printed it inside the shell script, and ${1} is 10
[18:20:23] <phy1729> PEs don't work in single quotes
[18:20:27] <emanuele6> OnceMe: it is quoted
[18:20:48] <emanuele6> # set -- 10; echo "${1}"; echo '"${1}"'
[18:20:50] <shbot> emanuele6: 10
[18:20:50] <shbot> emanuele6: "${1}"
[18:20:58] *** Quits: CrypticSquared (~CrypticS_@user/crypticsquared) (Read error: Connection reset by peer)
[18:21:39] <emanuele6> use double quotes instead of single quotes in your jq filter: jq ".[${1}].A" my.json
[18:21:48] <greycat> (code injection)
[18:22:07] <emanuele6> use double quotes instead of single quotes in your jq filter: jq ".[${1//[!0-9]}].A" my.json
[18:22:23] <Soliton> !jqcreate
[18:22:23] <greybot> To create JSON strings with variable assignments: jq -nc --arg bar "$bar" '{foo:$bar}' ;# compare with awk -v awkvar="$bashvar"
[18:22:38] <emanuele6> oh, i didn't know that
[18:22:41] <emanuele6> cool
[18:22:51] *** Joins: barjac (~quassel@host86-191-31-231.range86-191.btcentralplus.com)
[18:23:13] *** Joins: CrypticSquared (~CrypticS_@user/crypticsquared)
[18:23:43] <OnceMe> but ["1"] needs to be in qotes
[18:23:45] <OnceMe> according to docs
[18:24:33] <greycat> \" \"
[18:25:03] <Soliton> # jq -nc --arg bar 1 '[$bar]'
[18:25:05] <shbot> Soliton: 15[3"1"1515]
[18:25:05] <OnceMe> jq '.["\"${1}\""].${2}' ?
[18:25:21] <greycat> OnceMe: no.
[18:25:34] *** Joins: AnAverageHuman (~AnAverage@user/anaveragehuman)
[18:25:37] *** Joins: Inline (~Inline@2a02:908:1252:7a80:c035:deeb:51be:5431)
[18:25:53] <greycat> if you're doing the code injection thing, then it's  "...[\"$1\"]..."
[18:26:21] <greycat> if you're doing the --arg thing, then it's  '...["$arg"]...'
[18:26:50] <OnceMe> myscript 10 
[18:26:53] <OnceMe> thats what I do
[18:27:18] <OnceMe> jq '.[\"$1\"].$2' my.json ?
[18:27:38] <greycat> Which of the two alternatives that I gave is that supposed to be?
[18:27:46] <OnceMe> first one
[18:27:54] <OnceMe> Im passing number of args
[18:27:59] <greycat> Then you failed.  The outer quotes are incorrect.
[18:28:21] <OnceMe> still an issue
[18:28:46] <greycat> if you're doing the code injection thing, then it's  "...[\"$1\"]..."
[18:28:49] <emanuele6> # jq -n --arg a b '$a'; jq -n --arg a b '"$a"'; : greycat: without quotes otherwise it does not expand
[18:28:51] <shbot> emanuele6: 3"b"
[18:28:51] <shbot> emanuele6: 3"$a"
[18:29:19] <greycat> I'm aware that the --arg thing is superior, but they do not seem to understand EITHER ONE OF THEM and I'm just trying to get them to understand ONE THING.
[18:29:20] <OnceMe> jq ".[\"$1\"].$2"
[18:29:28] <greycat> Here we go.  Finally.
[18:29:32] <OnceMe> yeah not working
[18:29:35] *** Quits: barjac (~quassel@host86-191-31-231.range86-191.btcentralplus.com) (Quit: barjac)
[18:29:44] <OnceMe> jq: error: syntax error, unexpected $end, expecting FORMAT or QQSTRING_START (Unix shell quoting issues?) at <top-level>, line 1:
[18:29:50] <Soliton> perhaps you should use words to describe a goal.
[18:30:11] <OnceMe> jq ".[10].COL"
[18:30:13] <OnceMe> works fine
[18:30:29] <greycat> So you lied to us when you said you needed literal double-quotes inside the square brackets?
[18:30:30] <emanuele6> OnceMe: sounds like the error you would get if you use '.[\"$1\"].$2'
[18:30:37] <OnceMe> yeah, works now
[18:31:39] *** Joins: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net)
[18:31:46] <OnceMe> thanks
[18:32:26] *** glider_ is now known as glider
[18:33:04] <phy1729> jq --arg count "$1" --arg field "$2" '.[$count | tonumber].[$field]'
[18:33:28] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[18:34:22] <ormaaj> jq is... small. maybe that corresponds with simple.
[18:34:53] <greycat> #jq only has 44 people in it, so it must be super simple!
[18:35:08] *** Quits: OnceMe (~stefan@user/onceme) (Quit: Konversation terminated!)
[18:35:14] *** Joins: venue (~venue@user/venue)
[18:35:34] *** Quits: mjbatty_ (~mjbatty@82.2.17.205) (Quit: Leaving)
[18:35:35] <emanuele6> phy1729: that is invalid syntax it seems
[18:35:46] <emanuele6> this is valid: jq --arg count "$1" --arg field "$2" '.[$count | tonumber] | .[$field]'
[18:35:52] <phy1729> It worked locally on some json I had lying around
[18:35:53] *** Quits: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net) (Ping timeout: 248 seconds)
[18:35:53] <ormaaj> "advanced features: variables, functions" ...duh if i wanted that i'd use something else.
[18:36:05] <phy1729> Try killing the second .
[18:36:31] <emanuele6> # jq --arg count 1 --arg field a '.[$count | tonumber].$field' <<< '[{"a":"x"},{"a":"y"},{"a":"b"}]'
[18:36:33] <shbot> emanuele6: jq: error: syntax error, unexpected '$', expecting FORMAT or QQSTRING_START or '[' (Unix shell quoting issues?) at <top-level>, line 1:
[18:36:33] <shbot> emanuele6: .[$count | tonumber].$field                     
[18:36:33] <shbot> emanuele6: jq: 1 compile error
[18:36:42] <emanuele6> # jq --arg count 1 --arg field a '.[$count | tonumber] | .[$field]' <<< '[{"a":"x"},{"a":"y"},{"a":"b"}]'
[18:36:43] <shbot> emanuele6: 3"y"
[18:37:00] <lopid> so bright
[18:37:01] <phy1729> # jq --arg count 1 --arg field a '.[$count | tonumber][$field]' <<< '[{"a":"x"},{"a":"y"},{"a":"b"}]'
[18:37:04] <shbot> phy1729: 3"y"
[18:37:05] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[18:39:29] <ormaaj> dear lord library / module system. not simple.
[18:40:19] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:40:51] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[18:42:17] <Soliton> sounds trivial actually. not sure why you would need to care though.
[18:42:30] <ormaaj> oh well this is a reasonable bunch of features i guess.
[18:43:38] <ormaaj> because i have a dozen power tools that i already know that do all of this so the only possible perk is terseness for embedding in scripts.
[18:44:24] *** Joins: barjac (~quassel@host86-191-31-231.range86-191.btcentralplus.com)
[18:44:45] <Soliton> jq seems to be the tool to use for any kind of json processing but i'm sure there are others as well.
[18:45:11] <phy1729> jq or graduating
[18:45:20] <greycat> Only if you're trying to do "json processing" in bash for some silly reason.
[18:45:36] *** Quits: Mmike (~mario@user/mmike) (Ping timeout: 258 seconds)
[18:45:48] *** Joins: Mmike (~mario@user/mmike)
[18:46:06] *** Joins: Adoi (~Adoi@user/adoi)
[18:46:32] * Soliton checks channel. yup, still in #bash.
[18:46:34] <pystardust> I have a script to parse json. Can't do many things, just basic key picking https://github.com/pystardust/jsp
[18:46:52] <phy1729> !j
[18:46:52] <greybot> https://github.com/izabera/j super slow json parser written in bash (more of a proof-of-concept)
[18:47:12] <izabera> oh hey don't use that
[18:47:14] <izabera> it bad
[18:47:16] <izabera> thanks
[18:47:34] <pystardust> woah
[18:47:37] <izabera> jq rules use that
[18:47:50] <pystardust> yup jq always the best
[18:47:53] <emanuele6> there is also jshon
[18:47:56] <emanuele6> !jshon
[18:47:56] <greybot> jq is a flexible and lightweight JSON processor: http://stedolan.github.com/jq/ . See #jq. Also, query JSON data with jshon: http://kmkeen.com/jshon/
[18:48:00] <phy1729> Well yes, real options are jq or graduate, but the other stuff is fun to write
[18:48:02] <emanuele6> jq is very powerful
[18:48:23] <phy1729> (or builtin JMESPath --query like in aws/az)
[18:48:33] <izabera> what
[18:49:12] <greycat> Who is this JMES guy and what happened to his A?
[18:49:44] <Soliton> probably related to the JSON guy.
[18:49:49] *** Joins: kurahaupo (~kurahaupo@pa49-195-177-144.pa.nsw.optusnet.com.au)
[18:49:54] <phy1729> His name is James and JMES stands for nothing but I guess he thought JAMESPath would be too pretentious
[18:49:55] <greycat> Makes sense.
[18:51:34] <pystardust> you guys know how to write bash modules?
[18:51:57] <emanuele6> yes
[18:52:13] <pystardust> could you suggest resources wh3ere i could learn
[18:52:31] <Soliton> !source
[18:52:31] <greybot> ''. scriptname''99,99 (or ''source scriptname''99,99, which is not portable) reads and executes the commands from scriptname99,99 in the current99,99 shell, as opposed to a separate instance of the shell. If scriptname99,99 does not contain a slash (/), it will be searched for in $PATH.
[18:52:51] <pystardust> !module
[18:53:02] <emanuele6> Soliton: i think he's talking about lodables
[18:53:11] <Soliton> but since you can barely write generic bash code...
[18:53:14] <pystardust> ah yes emanuele6 loadables it is
[18:53:37] <Soliton> !loadable
[18:53:37] <greybot> http://mywiki.wooledge.org/BashLoadableBuiltins
[18:53:51] <emanuele6> some time ago, someone asked how to write loadables in languages other than C so i wrote this simple in D: http://paste.wooledge.org/8909
[18:54:44] <emanuele6> pystardust: just read the examples in the git repo for bash, it's quite simple
[18:55:05] <emanuele6> pystardust: https://git.savannah.gnu.org/cgit/bash.git/tree/examples/loadables
[18:55:09] <pystardust> thanks!
[18:55:37] *** Quits: pystardust (~pystardus@2409:4071:2217:28da:20cf:6ce5:4379:28e3) (Quit: nyaa~)
[18:56:24] <Soliton> not really sure what the use case for loadables should be.
[18:57:28] <emanuele6> Soliton: the `accept' example is a good use case https://git.savannah.gnu.org/cgit/bash.git/tree/examples/loadables/accept.c
[18:58:14] <Soliton> you mean it be nice if bash had that builtin? sure but it doesn't.
[19:01:11] <greycat> so far the main use case for loadable builtins is "play around with a new thing, and if it works well, maybe work up to proposing it as a *real* builtin"
[19:03:24] <Soliton> i suppose i can see that.
[19:03:38] *** Joins: ChmEarl (~chmearl@user/chmearl)
[19:03:53] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[19:05:38] *** Joins: kj (~kj@beta.aerisnetwork.net)
[19:06:08] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[19:06:23] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[19:10:11] *** Joins: Mo (~Mo@dynamic-077-001-182-056.77.1.pool.telefonica.de)
[19:12:06] *** Joins: rovert (uid389732@id-389732.tooting.irccloud.com)
[19:13:07] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[19:13:13] <gr33nR10t> hello! anyone with exerience with double ssh connections with pseudo terminal?
[19:13:43] <phy1729> Don't and use ProxyJump instead?
[19:14:02] <Soliton> -J jumphost
[19:15:08] <phy1729> I like a ProxyJump line in .ssh/config so I don't have to type it each time, I can use patterns, and it magically works with things that use ssh under the hood like rsync and ansible
[19:15:22] *** Joins: n0haxt (~n0haxt@41.251.27.232)
[19:15:49] <gr33nR10t> ah wow thanks phy1729 Soliton I hope this will solve my problem! :)
[19:16:25] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 248 seconds)
[19:19:58] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:eb83:919c:c248:eabe)
[19:20:17] *** Quits: winstonsmith (~winstonsm@77.247.181.211) (Remote host closed the connection)
[19:20:35] *** Joins: winstonsmith (~winstonsm@77.247.181.214)
[19:20:40] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 240 seconds)
[19:22:39] <greycat> #openssh is also a great place to ask ssh questions
[19:23:23] <Distemper> Isn't Valve's shell fuckup somewhere on the Wooledge wiki? I checked Hall of Shame but couldn't find it
[19:23:32] <Distemper> The one where it deleted everyone's home directory
[19:24:29] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[19:26:03] <emg> wow, hadn't heard about that one, reading the bug report now, that's crazy
[19:26:47] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Quit: leaving)
[19:26:52] <emg> https://github.com/valvesoftware/steam-for-linux/issues/3671
[19:26:57] <greycat> it's even more famous than https://bugs.debian.org/155873#10
[19:27:10] <Distemper> Not really surprising, even considering they're a big company, it just goes to show... don't go ahead and write things in a shell when you think you're a pro programmer and think you know what you're doing
[19:27:14] <emg> oh boy, it's a "try to figure out where the script is running from" bug
[19:27:16] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 268 seconds)
[19:27:29] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[19:27:56] <Distemper> I'm sure it was in the wiki but maybe I just got mixed up with a bug report heh
[19:28:07] *** Joins: fonsy (~fonsy@84.247.210.222)
[19:28:08] <greycat> I don't think it was ever on my wiki
[19:28:35] <Distemper> "which we don't want. Really" - that's one of the best understatements I've ever heard, congrats to the writer
[19:29:30] <Distemper> (re: the debian report)
[19:30:40] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 240 seconds)
[19:30:48] <emg> I'll have to remember that debian one, good example when people complain about "but why do you have to check cd?"
[19:31:23] <emg> ah, bumblebee deleted /usr    https://github.com/MrMEEE/bumblebee-Old-and-abbandoned/issues/123
[19:31:40] *** Quits: roadie (~user@2a02:8108:ec0:1427:9997:e3bc:b1a7:3c36) (Ping timeout: 240 seconds)
[19:31:45] <emg> I'm so happy I can force my devs to use shellcheck now
[19:31:49] <emg> I'm so happy shellcheck exists
[19:32:18] <Distemper> Is the creator of it still a regular here? I think he's the Koala guy or something
[19:32:31] <greycat> he is the koala_man
[19:32:40] *** Quits: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66) (Ping timeout: 240 seconds)
[19:33:09] <OMGOMG> sitting in his koala_land
[19:33:18] <Distemper> He did the linuxatemyram.com website afaik
[19:34:25] <Distemper> Which is still up so I assume he's lurking around somewhere
[19:34:27] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[19:35:44] *** Joins: roadie (~user@2a02:8108:ec0:1427:50c8:c2c2:7b54:ad)
[19:36:01] <emanuele6> koala_man also made pasteban and checkbot
[19:36:01] *** fonsy is now known as its-fonsy
[19:36:45] <emanuele6> and evalbot that is the original fork of shbot
[19:36:57] *** its-fonsy is now known as fonsy
[19:37:09] <Distemper> We need more people like him :P
[19:39:38] *** Quits: Lutin (~Lutin@user/lutin) (Quit: Lutin)
[19:41:45] *** Joins: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697)
[19:42:02] *** Quits: Lope (~lope@user/lope) (Remote host closed the connection)
[19:42:27] <ormaaj> koalas?
[19:42:58] <ormaaj> or shellcheck makers? yes more of them.
[19:43:15] <ormaaj> of course
[19:43:21] *** Quits: LanDi (~landi@187.19.139.199) (Remote host closed the connection)
[19:44:09] *** Joins: Lutin (~Lutin@user/lutin)
[19:45:59] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[19:46:20] *** Joins: alzgh (~alzgh@user/alzgh)
[19:49:21] *** Joins: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66)
[19:50:42] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Read error: Connection reset by peer)
[19:51:29] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[19:52:05] *** Quits: zxd (~Guest53@2a00:a040:195:d0a6:dc55:b979:7cdf:e2ef) (Quit: Client closed)
[19:52:50] *** Joins: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net)
[19:53:08] *** Quits: nobody_ (~nobody@host-79-50-185-199.retail.telecomitalia.it) (Remote host closed the connection)
[19:54:45] *** Joins: nobody_ (~nobody@host-79-50-185-199.retail.telecomitalia.it)
[19:55:08] <earnestly> Does anyone have an opinion on whether linebreaks should be allowed in xmp description tags? (they are technically allowed)
[19:56:17] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[19:56:53] <emg> what's that and how is it bash?
[19:57:14] <earnestly> Hm, wrong channel
[19:57:15] *** Joins: pystardust (~pystardus@117.96.229.96)
[19:57:21] <lopid> ;)
[19:57:37] *** Quits: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net) (Ping timeout: 252 seconds)
[19:57:57] *** Quits: rtjure (~rtjure@vlan-153-aitos-30.comnet.bg) (Ping timeout: 245 seconds)
[19:58:33] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 248 seconds)
[20:00:24] <emg> OK but out of curiosity, and since there's no bash stuff going on, what's an xmp description tag?
[20:01:28] *** Quits: manin (~X@185.242.190.95) (Ping timeout: 252 seconds)
[20:01:31] *** Quits: palindrome (~vargasj@51.37.139.160) (Quit: WeeChat 3.2)
[20:03:07] <phy1729> It starts with x and has tag in it. I'm betting XML
[20:03:29] <emg> I immediately went to memory profiles
[20:03:54] *** Quits: fonsy (~fonsy@84.247.210.222) (Remote host closed the connection)
[20:04:15] *** Joins: gabriele (~gabriele@user/gabriele)
[20:04:16] <phy1729> There's some image thing https://www.exiftool.org/TagNames/XMP.html  and some zOS thing  https://www.ibm.com/docs/en/zos/2.1.0?topic=reference-xmp-example   both are XML
[20:05:10] <greycat> apt-cache search gives me: exiv2 - EXIF/IPTC/XMP metadata manipulation tool
[20:05:43] <greycat>  Exiv2 is a C++ library and a command line utility to manage image metadata.
[20:06:29] *** Quits: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697) (Ping timeout: 258 seconds)
[20:07:10] *** Quits: besnn (~besnn@user/besnn) (Ping timeout: 240 seconds)
[20:07:31] *** Joins: clime (~clime@ip-94-199-195-39.acvyskov.cz)
[20:11:10] *** Quits: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66) (Ping timeout: 240 seconds)
[20:11:38] *** Joins: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697)
[20:12:19] <emg> earnestly: I love putting newlines where people don't expect them so I can break all their scripts. see: filenames
[20:12:26] <emg> trailing newlines in filenames if you're extra evil
[20:13:28] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Remote host closed the connection)
[20:13:43] <phy1729> Why stop at newlines? Starting with - or embedding $'\x1b[5m' could be fun too
[20:13:44] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[20:14:05] <emg> I like the way you think
[20:15:07] *** Joins: rustyshackleford (uid236774@id-236774.brockwell.irccloud.com)
[20:18:17] *** Quits: roadt_ (~roadt@36.5.93.233) (Ping timeout: 248 seconds)
[20:18:55] *** Joins: roadt_ (~roadt@36.5.93.233)
[20:19:17] *** Quits: zeraphel (~daddy@2a00:a040:196:1438::2) (Quit: zeraphel)
[20:19:48] *** Joins: zeraphel (~daddy@2a00:a040:196:1438::2)
[20:20:37] *** Joins: manin (~x@185.242.190.95)
[20:22:00] *** Joins: codebam (~codebam@user/codebam)
[20:23:28] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 252 seconds)
[20:25:03] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.0.1)
[20:25:51] *** Joins: zeden (~zeden@user/zeden)
[20:28:55] *** Quits: Adoi (~Adoi@user/adoi) (Ping timeout: 268 seconds)
[20:29:21] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
[20:30:11] *** Quits: lq820105 (~lq@180.167.42.2) (Read error: Connection reset by peer)
[20:32:42] *** Joins: lq820105 (~lq@180.167.42.7)
[20:34:20] *** Quits: codebam (~codebam@user/codebam) (Remote host closed the connection)
[20:35:17] *** Joins: besnn (~besnn@user/besnn)
[20:35:34] *** Quits: darkbit (~db@152.32.99.67) (Ping timeout: 252 seconds)
[20:38:02] <Fernando-Basso> 🤣
[20:40:16] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[20:41:39] *** huzursuz is now known as toad-x
[20:46:22] *** Quits: vs^ (~vs@209.65.131.194) (Remote host closed the connection)
[20:46:24] *** Quits: user217_ (~andrii@195.138.71.41) (Quit: Konversation terminated!)
[20:49:02] *** Quits: tp43_ (~ndeem@2001:1970:501a:e201:7dd8:7bb5:b166:9697) (Ping timeout: 258 seconds)
[20:52:59] *** Joins: iconoclasthero (~quassel@pool-74-103-170-240.phlapa.fios.verizon.net)
[20:53:12] *** Joins: n4dir (~user@i577bc95b.versanet.de)
[20:55:43] <iconoclasthero> I'm looking to enter a for loop if a globbed variable has more than one result, i.e., if $1 contains a glob and the glob in $1 matches more than one patterns, for i in "$i" do ... done.
[20:55:43] <iconoclasthero> https://mywiki.wooledge.org/glob#Portability seems to hint at a way to do this, but in the example, I'm not sure where the $1 comes from in line 9 (should that be a $x)?
[20:56:44] *** Quits: kill (~killown@user/killown) (Remote host closed the connection)
[20:59:09] *** Quits: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi) (Remote host closed the connection)
[21:00:27] *** Joins: amahl (~amahl@dsl-jklbng12-54fbca-64.dhcp.inet.fi)
[21:00:27] <greycat> !faq 4
[21:00:28] <greybot> https://mywiki.wooledge.org/BashFAQ/004 -- How can I check whether a directory is empty or not?  How do I check for any *.mpg files, or count how many there are?
[21:02:47] <greycat> In the example you're looking at, the last line of the script is "f *" so the glob-expansion of * is passed.  It's checking whether $1 (the first argument in that list) is a file.  If it is, then that means the glob matched some file(s).
[21:03:42] <alzgh> O man, I understand what's going on. Yaay.
[21:04:13] *** Quits: austin987 (~null@cpe-173-174-99-192.austin.res.rr.com) (Ping timeout: 252 seconds)
[21:07:35] *** Joins: tirnanog (~tirnanog@user/tirnanog)
[21:08:48] *** Joins: cuolin^ (~cuolin@209.65.131.194)
[21:11:40] *** Quits: cdown (~cdown@82-69-42-66.dsl.in-addr.zen.co.uk) (Ping timeout: 240 seconds)
[21:11:50] *** Joins: codebam (~codebam@user/codebam)
[21:12:02] *** Quits: dza (~dza@user/dza) (Ping timeout: 258 seconds)
[21:12:25] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 258 seconds)
[21:13:42] <hwrd> with this script, https://gist.github.com/hahuang65/cf1757688536539e961c06ea4b677c89 how come when I invoke `wifi Foo Bar` it'll spit out "Connecting to Foo Bar", but error with "Invalid network name '"Foo'" why does it lose "Bar" in the `iwctl` command?
[21:14:36] *** Joins: dza (~dza@user/dza)
[21:15:03] <llua> the "$@" expands to multiple arguments
[21:15:19] <greycat> Without looking, I'm going to guess you used unquoted $* or unquoted $@ or you used $1 or "$1" where you should have used "$*" or "$@" or something.
[21:15:49] <greycat> what are Foo and Bar and how did you expect the 'wiki' command to behave with those two arguments?
[21:15:55] <llua> change it to iwctl station wlan0 connect "$*" or invoke it like wifi 'Foo Bar'
[21:15:59] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[21:16:00] <hwrd> greycat I think llua is right
[21:16:13] <greycat> llua is a cheater, who obviously looked at the web page
[21:16:18] *** Joins: drd (~drd@93-39-151-19.ip76.fastwebnet.it)
[21:16:22] <iconoclasthero> if [[ -e ${files[1]} || -L ${files[1]} ]]; then 
[21:16:22] <iconoclasthero> seems like it does what I want, i.e., when files=* and the directory contains more than one file or directory, the result is true.
[21:16:28] <hwrd> greycat was trying to pass "Foo Bar" to `iwctl connect "Foo Bar"`
[21:16:43] <greycat> iconoclasthero: I hope you mean files=(*)
[21:16:49] <hwrd> llua thank you!
[21:17:25] *** Joins: austin987 (~null@100.42.98.196)
[21:17:42] <iconoclasthero> @greycat yes, that's what is in my test script, is that why this fails, $1 isn't defined as whatever(*) ?
[21:17:42] <iconoclasthero> if [[ -e ${1[1]} || -L ${1[1]} ]]; then
[21:17:57] <greycat> $1 cannot be an array.
[21:18:27] <greycat> !faq 5 > iconoclasthero 
[21:18:27] <greybot> iconoclasthero : https://mywiki.wooledge.org/BashFAQ/005 -- How can I use array variables?
[21:19:16] *** Joins: joo (~joo@80-62-117-182-mobile.dk.customer.tdc.net)
[21:19:16] *** Quits: joo (~joo@80-62-117-182-mobile.dk.customer.tdc.net) (Changing host)
[21:19:16] *** Joins: joo (~joo@fsf/member/joo--)
[21:19:34] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[21:21:08] *** Joins: Gooberpatrol66 (~Gooberpat@user/gooberpatrol66)
[21:21:55] <Swahili> Q: I have a pathname like /a/b/filename.txt when iterating a directory for files that are *.txt, what'll be a nice way tojust get filename? 
[21:21:57] <Swahili> thanks!
[21:22:18] <Swahili> oh maybe sed
[21:22:19] *** Quits: gr33n7007h (~gr33n7007@user/gr33n7007h) (Ping timeout: 252 seconds)
[21:22:33] <greycat> assuming the pathname is in a variable: var=${var##*/} var=${var%.txt}
[21:23:03] <koala_man> Distemper: hi ^^
[21:23:15] <Swahili> greycat: thanks for looking! that looks nice, what's the name of that syntax?
[21:23:25] *** Quits: thiras (~thiras@user/thiras) (Ping timeout: 252 seconds)
[21:23:33] <greycat> Parameter Expansion
[21:23:58] *** Joins: aakashi2001 (~aakashi20@103.61.255.59)
[21:24:04] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Ping timeout: 244 seconds)
[21:24:14] <emanuele6> koala_man: ^_^ 
[21:25:01] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[21:25:54] <iconoclasthero> what about ${var/.txt} and ${var/.txt/} also work but I'm sure there's a reason why that isn't prefered (other than it will remove a .txt anywhere in the file name)
[21:26:51] <emanuele6> iconoclasthero: ${var/.txt} removes the first occurrence of ".txt" in $var 
[21:26:58] <greycat> that will remove .txt from *anywhere* in the variable, not necessarily the end, and it's bash-only
[21:26:59] <Swahili> greycat: worked really well! thank you so much!
[21:27:06] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[21:27:31] *** Joins: Crescendo (~Crescendo@user/crescendo)
[21:27:33] <greycat> when you know you want to remove from the end, %.txt is the perfect choice
[21:27:42] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[21:27:53] *** Joins: Crescendo (~Crescendo@user/crescendo)
[21:28:43] <iconoclasthero> basically what i thought except "...will remove a .txt anywhere..." should've been "...will remove the first .txt..."
[21:29:06] <greycat> yeah.
[21:29:15] <greycat> //.txt would remove all instances
[21:29:40] <emanuele6> i sent an email in which i used ${var/%pat} instead of ${var%pat} some minutes ago and i only noticed it a few seconds after sending it ;-;
[21:29:57] <greycat> you bashist
[21:31:03] <iconoclasthero> I'm still lost trying to figure out how to go from $ script directory* to a test to see if there is more than one match for $1 (i.e., 'directory *' matches more than one pattern), to a for loop where it executes for each match of the pattern.
[21:31:17] <greycat> !faq 4
[21:31:17] <greybot> https://mywiki.wooledge.org/BashFAQ/004 -- How can I check whether a directory is empty or not?  How do I check for any *.mpg files, or count how many there are?
[21:31:32] <iconoclasthero> i know how to test if a directory is empty.
[21:31:44] <greycat> Then what are you trying to do?
[21:31:58] *** Joins: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net)
[21:31:59] <iconoclasthero> if $1 has a glob
[21:32:00] <tirnanog> match against $1 in its capacity as a glob, it seems.
[21:32:08] <greycat> If you're trying to write a program that can *accept globs from an end user*, it is a Path Of Pain.
[21:32:25] <iconoclasthero> and if that glob has multiple entries
[21:32:32] <greycat> Do you have a real need to accept globs from end users?
[21:32:35] <iconoclasthero> then to run the script iteratively for those multiple entries
[21:32:41] <iconoclasthero> yes.
[21:32:50] <greycat> !cry
[21:32:58] *** Joins: julius_c (~julius_c@70.red-88-0-63.dynamicip.rima-tde.net)
[21:33:03] *** Quits: Caffeinated (~Caffeine@user/alexdelarge) (Ping timeout: 268 seconds)
[21:33:17] <iconoclasthero> i want to delete a bunch of directories that match a pattern without having to go back and run the script for each directory.
[21:33:45] *** Joins: wolfgang_ (~wolfgang@101.174.6.197)
[21:33:52] *** Quits: wolfgang (~wolfgang@101.174.6.197) (Ping timeout: 252 seconds)
[21:33:58] <greycat> OK, now, the VERY FIRST thing you need to do is educate the end user to QUOTE the glob when they pass it to you.  In what you wrote here in IRC, you had an unquoted * as an argument to a command.  That won't work.
[21:34:03] <alzgh> x y problem alert?
[21:34:17] <greycat> alzgh: very likely.
[21:34:34] *** wolfgang_ is now known as wolfgang
[21:36:02] <iconoclasthero> ok, so it would just be easier to do $ for i in O.J.Simpson.Made.in.America* ; do rmr "$i"; done ?
[21:36:33] <emanuele6> rm -- O.J.Simpson.Made.in.America*
[21:36:37] *** Quits: mozgalom_ (~mozgalom@ipnet-gw.157.157.97.111.simnet.is) (Ping timeout: 252 seconds)
[21:36:37] <greycat> Porn Management.  Which !porn* factoid is it this time?
[21:36:41] *** Quits: mongy (~mongy@user/mongy) (Quit: WeeChat 3.2)
[21:37:16] <greycat> Here's a script I wrote a while back that accepts a glob from an end user and attempts to use it without exploding.  http://paste.wooledge.org/8916
[21:38:53] <emg> iconoclasthero: what is wrong with just calling rm with the glob? why do you feel the need to script stuff?
[21:39:13] <iconoclasthero> thanks, I'll look at that.  just looping it from the command line should probably be sufficient 
[21:39:27] <emg> wait, stop, why do you think you need a loop to remove directories?!?!
[21:39:37] <emg> why can't you just rm them?!
[21:40:08] *** Joins: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is)
[21:40:28] <greycat> (We already know the bit about receiving globs from an end user was a COMPLETE LIE.  What else was a lie?  Let's see...)
[21:40:57] <emg> iconoclasthero: can you explain, in simple english, with no code or talking about globs or any of that, what you're trying to do?
[21:41:11] <iconoclasthero> because the script does more stuff than rm -r 
[21:41:30] <emanuele6> !porn1
[21:41:31] <greybot> for ((i=1; i<100; i++)); do printf -v tmp %03d "$i"; wget "http://pornsite/image-$tmp.jpg"; sleep 10; done
[21:41:45] <emg> iconcoclasthero: ... so you have a script that does an rm -r to a directory and some more stuff, and you want to do it on multiple directories?
[21:42:10] <emg> then you make your script do a loop over the arguments so you can pass as many directories as you want
[21:42:27] *** Quits: julius_c (~julius_c@70.red-88-0-63.dynamicip.rima-tde.net) (Quit: Leaving)
[21:42:31] <emg> inside the script     for dir in "$@"; do .... ; done             myscript thepattern*
[21:43:14] <iconoclasthero> i think that might work.
[21:43:16] *** Quits: catern (~sbaugh@2604:2000:8fc0:b:a9c7:866a:bf36:3407) (Ping timeout: 272 seconds)
[21:43:36] <emg> then your script works just like all other normal commands, just takes multiple arguments
[21:43:48] <emg> and the user can pass them explicitly or use the shell to expand a glob, just like all other normal commands
[21:43:58] <iconoclasthero> i was trying to separate the behavior so it would do different things if the glob matched more than one result, but i think that was making it harder than it needed to be.
[21:44:57] *** Joins: julius_c (~julius_c@70.red-88-0-63.dynamicip.rima-tde.net)
[21:45:26] <tirnanog> which remains possible, in any case.
[21:45:37] <emanuele6> you can make it do different things if it has more than one arguments: if (( $# >= 2 )); then ...; else ...; fi
[21:46:31] <iconoclasthero> i assume that only works for $ script arg1 arg2     not for $ script arg* ?
[21:46:42] <greycat> You still don't understand globs at all, do youy.
[21:46:43] <tirnanog> it would need to be slightly more elaborate, as the glob might not have expanded.
[21:46:49] *** Quits: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net) (Ping timeout: 248 seconds)
[21:46:58] <tirnanog> but it's not hard.
[21:47:09] <emg> iconoclasthero: those two are the same, assuming those are the only files available, the shell expands the glob then sends the file names as separate argumetns
[21:47:27] <greycat> There is *no difference* between    script arg1 arg2   and   script arg*   assuming arg1 and arg2 are the only matching files in the current directory.  The script receives the exact same argument list in both cases.
[21:47:43] <emg> # touch file1 file2 file3; echo file*   # echo doesn't expand that glob, bash does, echo just sees the file names after they were expanded
[21:47:45] <shbot> emg: file1 file2 file3
[21:48:41] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[21:49:03] *** Quits: manin (~x@185.242.190.95) (Quit: Leaving)
[21:49:34] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[21:51:59] *** mnrmnaugh is now known as KeziahMason
[21:52:02] <nova> these two lines are inverted. What is the opposite of :+ (it's not :- ...)
[21:52:05] <nova> http://ix.io/3wtt/sh
[21:52:21] <nova> What the ... ix.io freaked out. one moment
[21:52:41] *** Quits: aakashi2001 (~aakashi20@103.61.255.59) (Ping timeout: 248 seconds)
[21:52:43] <nova> http://sprunge.us/5Bkknk?sh
[21:52:59] *** Quits: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:53:03] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[21:53:26] <iconoclasthero> emg, for i in "$@"; do is what i was looking for, thanks.
[21:53:40] <iconoclasthero> i was trying to make it more complicated than it needed to be.
[21:54:28] <nova> A="taco taco break things" ; echo ${A:-flag}   # case in point
[21:55:05] <greycat> nova: what are you trying to do?  In English, please.
[21:56:24] <nova> greycat, exactly the second line with var expansion if possible. "if RESIZE_CAN_CANCEL is 'truthy', then set K to '', else set K to 'k'"
[21:56:49] <nova> [[ $RESIZE_CAN_CANCEL ]] && K='' || K='k'
[21:56:56] <greycat> if [[ $RESIZE_CAN_CANCEL = truthy ]]; then K=; else K=k; fi
[21:57:16] <nova> but like  K=${RESIZE_CAN_CANCEL:....????....}  if possible
[21:57:24] <greycat> Stop it.
[21:57:26] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[21:57:41] <greycat> K=k; if [[ mycondition ]]; then K=; fi
[21:58:11] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[21:58:46] <alzgh> is there something like the ":" syntax in bash?
[21:58:57] <greycat> what
[21:59:06] <emg> I promise you won't run out of newlines
[21:59:14] <nova> man bash  /Parameter Expansion
[21:59:15] *** Parts: iconoclasthero (~quassel@pool-74-103-170-240.phlapa.fios.verizon.net) (http://quassel-irc.org - Chat comfortably. Anywhere.)
[21:59:25] <emanuele6> !oneline
[21:59:25] <greybot> There isn't a world shortage of bash commands, and having newlines in your script does not make it slower
[21:59:43] *** Quits: gnoo (~gnoo@user/gnoo) (Ping timeout: 244 seconds)
[21:59:45] <emg> nova: what is your definition of "truthy"
[22:00:08] <alzgh> O, there is. Ignorant me.
[22:00:27] <emg> are you just looking for :+  ?
[22:00:34] <emg> and :-  ?
[22:00:45] <nova> not undefined really. I guess I should use [[ -z
[22:00:58] <nova> but maybe I should have better check in case 0
[22:01:02] <greycat> I have no idea what alzgh is looking for.  nova appears to be infatuated with l33tness and is looking for perl.
[22:01:09] <nova> I don't really care. just personal script.
[22:01:14] <nova> greycat, stop. ignored. you're so mean
[22:01:17] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[22:01:40] *** Quits: zeden (~zeden@user/zeden) (Ping timeout: 240 seconds)
[22:01:41] <emanuele6> greycat got *plonk*ed
[22:03:01] *** Quits: drd (~drd@93-39-151-19.ip76.fastwebnet.it) (Ping timeout: 252 seconds)
[22:03:11] <nova> someone helped me yesterday and said that they were identical, so I swapped it out, and I was wondering why it was breaking. So, I was not trying to be elite. I was just trying to make it work and wondering if there was something similar
[22:03:23] <nova> no need to be an IRC neckbeard from the 1990s
[22:03:49] <e36freak> !pf ||
[22:03:50] <greybot> https://mywiki.wooledge.org/BashPitfalls#pf22 -- Don't do this! -- cmd1 && cmd2 || cmd3
[22:04:02] <greycat> e36freak: you're so mean!
[22:04:05] <e36freak> in that case because it's just a simple assignment they're *almost* identical
[22:04:18] <e36freak> but it's bad form
[22:04:41] <nova> e36freak, ah. I didn't know. ty
[22:05:09] <emanuele6> e36freak: he's referring to [[ $var ]] && k=k || k= vs k=${var:+k}, not the if
[22:05:28] <nova> yeah.. they're inverted
[22:05:37] <nova> (logically)
[22:05:38] <emanuele6> nova: if you think about it ${var:-str} is kind of the opposite of ${var:+str}
[22:05:46] <greycat> That can blow up if some knob decided to make k a readonly variable.
[22:06:01] *** Quits: KeziahMason (~mnrmnaugh@68.162.206.56) (Ping timeout: 248 seconds)
[22:06:06] <greycat> Although it won't blow up *worse* than simply  k=k   would.
[22:06:07] <nova> emanuele6, ${var:-str} will use $var's contents, and it will break things if it's not "k", so I can't use that.
[22:06:24] *** Joins: zeden (~zeden@user/zeden)
[22:07:21] <emanuele6> nova: :- returns str if $var is empty and returns $var otherwise; :+ returns $var if $var is empty and returns str otherwise 
[22:07:48] <nova> right. and because I assign it, if $var is set to something like "break me" it will break things.
[22:07:51] <emanuele6> they are not equivalent in your use case because you want specifically ''
[22:08:10] <nova> yes. I'll just use a trusty ole if stmt
[22:08:11] *** Joins: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au)
[22:08:27] <emanuele6> you need to use if for this
[22:09:14] <emanuele6> i was the one who suggested you K=${RESIZE_CAN_CANCEL:+k} yesterday by the way
[22:10:11] <nova> >:) *puts hand on hip and gives da boy some lip*. nah iz ok. :)
[22:10:41] *** Quits: zeden (~zeden@user/zeden) (Client Quit)
[22:10:50] <greycat> Got their hopes up and then when they needed something *slightly* different they had to scrap that and go back to the normal "if".  So mean.
[22:11:01] *** Joins: zeden (~zeden@user/zeden)
[22:12:13] <emanuele6> yeah, to be honest how nova reacted was very annoying...
[22:12:55] *** Quits: rcernin (~rcernin@188.146.148.122.sta.wbroadband.net.au) (Ping timeout: 252 seconds)
[22:13:02] <nova> wat? greycat asked me a question, and I answered, and then they attacked me with malice...
[22:13:37] <nova> sorry you're having a bad day greycat, but keep it out of a help chan. I am sensitive and can't handle it right now. sorry not sorry
[22:14:01] *** Quits: zeden (~zeden@user/zeden) (Client Quit)
[22:14:12] <emanuele6> :/
[22:14:34] <greycat> "Shell scripting is largely a collection of hacks and tricks that do not generalize very well. The optimal answer to one problem may be quite different from the optimal answer to a similar-looking problem, so it's extremely important that you tell us the exact problem you want to solve."
[22:16:36] *** Joins: gabriele (~gabriele@user/gabriele)
[22:20:24] *** Quits: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de) (Remote host closed the connection)
[22:21:03] *** Joins: JohnML (~JohnML@ip-37-201-129-30.hsi13.unitymediagroup.de)
[22:22:08] *** Joins: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net)
[22:22:10] *** Joins: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net)
[22:22:14] *** Joins: KeziahMason (~mnrmnaugh@68.162.206.56)
[22:22:56] *** Quits: legola (~legola@46.235.100.27) (Remote host closed the connection)
[22:25:37] *** Quits: gabriele (~gabriele@user/gabriele) (Quit: Leaving)
[22:26:07] *** Joins: Betal (~Betal@user/betal)
[22:26:10] *** Joins: rtjure (~rtjure@bras-79-132-26-123.comnet.bg)
[22:26:40] *** Quits: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net) (Ping timeout: 252 seconds)
[22:33:00] *** Quits: paulman (~kulernil@gateway/tor-sasl/kuler) (Remote host closed the connection)
[22:33:06] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[22:33:26] *** Joins: paulman (~kulernil@gateway/tor-sasl/kuler)
[22:33:32] *** Joins: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk)
[22:34:23] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[22:35:40] *** Quits: medard (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 240 seconds)
[22:40:07] *** KeziahMason is now known as mnrmnaugh
[22:44:32] *** Joins: kulernil (~kulernil@gateway/tor-sasl/kuler)
[22:46:13] *** Quits: paulman (~kulernil@gateway/tor-sasl/kuler) (Ping timeout: 244 seconds)
[22:46:31] *** Quits: roadie (~user@2a02:8108:ec0:1427:50c8:c2c2:7b54:ad) (Quit: ERC (IRC client for Emacs 25.3.50.1))
[22:50:24] *** Joins: Burger (~burger@user/burger)
[22:51:33] *** Quits: hegstal (~hegstal@2a02:c7f:7604:8a00:8208:62c2:1345:18fb) (Remote host closed the connection)
[22:52:30] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[22:53:27] *** Joins: masoudd (~masoudd@user/masoudd)
[23:00:46] *** Quits: Mo (~Mo@dynamic-077-001-182-056.77.1.pool.telefonica.de) (Ping timeout: 252 seconds)
[23:01:34] *** Joins: p-i- (~Ohmu@2403:6200:8870:41ad:ddbd:4a28:9a94:dc2)
[23:01:57] <Fernando-Basso> Sometimes I have to run commands with an env var just for that run. For example, MY_VERY_LONG_ENV_VAR=1 my-command. Is there a way for bash to expand some string into that env var? Something like readline's "echo $BASH" followed by "M-$" ?
[23:02:22] <greycat> MY_LONG_VAR="$foo" mycommand
[23:02:30] <phy1729> You could make a function
[23:02:52] <greycat> I ... do not understand the second half of this question at all.
[23:03:39] <phy1729> I suppose you could abuse an alias; now I will regret mentioning it as you'll choose the alias not the function
[23:04:53] *** Quits: Administratorte (~sq@tempest.math.colostate.edu) (Quit: WeeChat 3.1)
[23:05:10] *** Joins: Adoi (~Adoi@user/adoi)
[23:05:16] <Fernando-Basso> greycat: Sorry. I'll try to explain it in a different way. I want a way to avoid having to type that long env var a few times during the weeks when I need it. The functionality of a snippet (like in text editors) seems to me that would fit for what I have in mind. Perhaps I'm just approaching the problem from a wrong perspective.
[23:05:46] <phy1729> Just make a function     foo() { BAR=1 baz "$@"; }
[23:06:20] <twkm> foo() { LONG_ASS_SHIT_GOES_HERE=1 AND_HERE=2 your-command "$@"; }
[23:06:31] <Fernando-Basso> If I could define a shorter var, like MVLEV that upon some key combination would become MY_VERY_LONG_ENV_VAR=1.
[23:06:44] <Fernando-Basso> Okay. Thank you all. I'll with the function approach then.
[23:06:52] <koala_man> does it matter if you just leave it in your environment at all times?
[23:07:22] <Fernando-Basso> koala_man: Yes, it does. I want to have it only from time to time.
[23:07:39] <koala_man> but do you simultaneously want to not have it at other times?
[23:08:28] <Fernando-Basso> Yep. It is just like IFS= read... I may use it some times, but not others.
[23:08:40] <koala_man> function sounds like the way to go then
[23:10:07] <Fernando-Basso> Sure. I had a feeling that perhaps I could use some of the tricks under this heading to make a snippets of sort thing. https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Commands-For-Completion
[23:11:45] *** Quits: rovert (uid389732@id-389732.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[23:12:22] <koala_man> you could write a completion script for `env` that suggests various variable names but I don't see the benefit
[23:13:23] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[23:13:50] *** Joins: FreeBDSM (~uzer@user/freebdsm)
[23:15:11] <FreeBDSM> hi. When I do `ssh server "mv ./*(.txt|.pdf) /docs/"` I get "bash: -c: line 0: syntax error near unexpected token `('", why so?
[23:15:25] *** Quits: n0haxt (~n0haxt@41.251.27.232) (Ping timeout: 268 seconds)
[23:15:34] <greycat> because your shell on the remote server does not have extglobs
[23:15:58] <greycat> also, I don't believe that extglob does what you want
[23:16:02] *** Quits: nate1 (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 268 seconds)
[23:16:31] <greycat> # touch foo.txt bar.txt .txt.txt.txt; echo *(.txt|.pdf)
[23:16:33] <shbot> greycat: .txt.txt.txt
[23:17:09] <FreeBDSM> hm, weird
[23:17:43] <FreeBDSM> shopt shows extglob is on when I test interactively, but shows as off when doing it as `ssh server "shopt" | grep extglob`
[23:17:59] <greycat> *(.txt) means "0 or more instances of .txt", which is probably not what you wanted
[23:18:09] <FreeBDSM> yeah, you are correct
[23:18:36] <greycat> just use   mv ./*.txt ./*.pdf /docs/
[23:19:03] <FreeBDSM> I tested locally first and I always keep forgetting that zsh (which is my local shell) has differences with bash, especially with globs syntax
[23:19:08] <FreeBDSM> thanks greycat
[23:25:39] *** Quits: barjac (~quassel@host86-191-31-231.range86-191.btcentralplus.com) (Quit: barjac)
[23:26:22] <FreeBDSM> # touch x.txt y.pdf; echo *(*.txt|*.pdf)
[23:26:24] <shbot> FreeBDSM: x.txt y.pdf
[23:26:38] <greycat> @(*.txt|*.pdf) is what you seem to want
[23:27:20] <greycat> it could also be written as  *.@(txt|pdf)
[23:28:30] *** Joins: dom2 (~dom2@c-65-96-173-68.hsd1.ma.comcast.net)
[23:30:26] *** Quits: ninjabuffet (~ninjabuff@user/ninjabuffet) (*.net *.split)
[23:30:26] *** Quits: PeGaSuS (BlackHole@user/pegasus) (*.net *.split)
[23:30:27] *** Quits: e2 (e2@sponsored.by.bnc4you.xyz) (*.net *.split)
[23:30:27] *** Quits: apathor (~mike@c-73-119-36-70.hsd1.ma.comcast.net) (*.net *.split)
[23:30:27] *** Quits: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970) (*.net *.split)
[23:30:27] *** Quits: s1b1 (~s1b1@user/s1b1) (*.net *.split)
[23:30:27] *** Quits: korros (~korros@li1845-92.members.linode.com) (*.net *.split)
[23:30:27] *** Quits: cjohnson (~cjohnson@li133-72.members.linode.com) (*.net *.split)
[23:30:27] *** Quits: unary (unary@ternary.ca) (*.net *.split)
[23:30:27] *** Quits: przemoc (~przemoc@user/przemoc) (*.net *.split)
[23:30:27] *** Quits: yuckey2d (~yuckey2d@195.246.120.52) (*.net *.split)
[23:30:27] *** Quits: Natch (~natch@c-e070e255.014-297-73746f25.bbcust.telenor.se) (*.net *.split)
[23:30:27] *** Quits: blaisebool (~blaiseboo@static.247.123.46.78.clients.your-server.de) (*.net *.split)
[23:30:27] *** Quits: anderson (~ande@134.209.221.71) (*.net *.split)
[23:30:27] *** Quits: jrayhawk (~jrayhawk@user/jrayhawk) (*.net *.split)
[23:30:27] *** Quits: ds (~dshoreman@user/ds) (*.net *.split)
[23:30:27] *** Quits: VSpike (~johncc@2001:bc8:47ac:1a22::1) (*.net *.split)
[23:30:27] *** Quits: petemc (~pete@vps-80fad31a.vps.ovh.net) (*.net *.split)
[23:30:27] *** Quits: bwe (~bwe@2a01:4f8:1c1c:4878::2) (*.net *.split)
[23:30:27] *** Quits: infernix (~nix@2a02:22a0:bbb1:d500::2) (*.net *.split)
[23:30:27] *** Quits: Felden_ (~linux@163.172.130.42) (*.net *.split)
[23:30:27] *** Quits: flommi_ (~flommi@puck942.startdedicated.de) (*.net *.split)
[23:30:27] *** Quits: Henry151 (~bishop@user/henry151) (*.net *.split)
[23:30:27] *** Quits: ryo (foobar@user/ryo) (*.net *.split)
[23:30:27] *** Quits: quesker (idnet@2600:3c01::f03c:91ff:feac:4ce2) (*.net *.split)
[23:30:27] *** Quits: rdz (~rdz@2001:620:120:1::12) (*.net *.split)
[23:30:27] *** Quits: junicchi (~0w0@user/junicchi) (*.net *.split)
[23:30:27] *** Quits: shalok (~shalok@2600:1f14:b99:6016:af96:3ff4:9870:377e) (*.net *.split)
[23:30:29] *** 068AAC94K is now known as r00t
[23:30:33] *** Joins: unary (unary@ternary.ca)
[23:30:33] *** Joins: bwe (~bwe@2a01:4f8:1c1c:4878::2)
[23:30:34] *** Joins: Felden (~linux@163.172.130.42)
[23:30:41] *** Joins: przemoc (~przemoc@89-72-24-4.dynamic.chello.pl)
[23:30:41] *** Joins: jrayhawk (~jrayhawk@user/jrayhawk)
[23:30:43] *** Joins: ninjabuffet (~ninjabuff@c-107-4-103-37.hsd1.mi.comcast.net)
[23:30:43] *** Joins: VSpike (~johncc@2001:bc8:47ac:1a22::1)
[23:30:45] *** Joins: rdz (~rdz@2001:620:120:1::12)
[23:30:46] *** Quits: ninjabuffet (~ninjabuff@c-107-4-103-37.hsd1.mi.comcast.net) (Changing host)
[23:30:46] *** Joins: ninjabuffet (~ninjabuff@user/ninjabuffet)
[23:30:52] *** Quits: przemoc (~przemoc@89-72-24-4.dynamic.chello.pl) (Changing host)
[23:30:52] *** Joins: przemoc (~przemoc@user/przemoc)
[23:30:58] *** Joins: yuckey2d (~yuckey2d@195.246.120.52)
[23:31:01] *** r00t is now known as Guest651
[23:31:04] *** Joins: korros (~korros@li1845-92.members.linode.com)
[23:31:04] *** Joins: potamides (~amnifiliu@2003:a:270f:c400:28d8:e046:7d92:3970)
[23:31:05] *** Joins: apathor (~mike@c-73-119-36-70.hsd1.ma.comcast.net)
[23:31:13] *** Joins: blaisebool (~blaiseboo@static.247.123.46.78.clients.your-server.de)
[23:31:27] *** Joins: Henry151 (~bishop@user/henry151)
[23:31:30] *** Joins: flommi (~flommi@puck942.startdedicated.de)
[23:31:32] *** Joins: shalok (~shalok@2600:1f14:b99:6016:af96:3ff4:9870:377e)
[23:31:33] *** Guest651 is now known as r00t
[23:31:34] *** Joins: ds (~ds@user/ds)
[23:31:35] *** Joins: anderson (~ande@134.209.221.71)
[23:31:35] *** Joins: barjac (~quassel@host86-191-31-231.range86-191.btcentralplus.com)
[23:32:02] *** Joins: derpadmin (~derpadmin@cloudbase2.200013.net)
[23:32:04] *** r00t is now known as Guest360
[23:32:16] <FreeBDSM> I wonder what enables extglob in interactive mode: my .bashrc doesn't contain it; neither does /etc/bashrc or /etc/profile or /etc/profile.d/*
[23:32:27] *** Joins: PeGaSuS (BlackHole@user/pegasus)
[23:32:36] <greycat> it's a compile-time option too
[23:32:38] <tirnanog> Fernando-Basso: https://termbin.com/s32ob
[23:32:58] <greycat> your OS vendor may have compiled it in on one system and not the other
[23:33:01] *** Joins: quesker (idnet@2600:3c01::f03c:91ff:feac:4ce2)
[23:33:43] <tirnanog> Fernando-Basso: make that /pytbg (messed up the indentation)
[23:34:00] *** Joins: e2 (e2@sponsored.by.bnc4you.xyz)
[23:34:36] *** Joins: ryo (foobar@athena.nocsrv.de)
[23:34:36] *** Quits: ryo (foobar@athena.nocsrv.de) (Changing host)
[23:34:36] *** Joins: ryo (foobar@user/ryo)
[23:34:55] <FreeBDSM> greycat: I don't get it: in both cases I use remote machine's bash; it'd either be compiled in or not there and IMO should behave similarly in both cases.
[23:35:05] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[23:35:21] <FreeBDSM> but that's something absolutely new to me, maybe they have conditions there or something
[23:35:34] *** Joins: petemc (~pete@vps-80fad31a.vps.ovh.net)
[23:35:40] *** Joins: cjohnson (~cjohnson@li133-72.members.linode.com)
[23:35:50] *** Joins: Natch (~natch@c-e070e255.014-297-73746f25.bbcust.telenor.se)
[23:35:59] *** Joins: medard (~sinhue@stip-static-55.213-81-207.telecom.sk)
[23:37:44] <geirha> Most likely your .bashrc sources the bash-completion mess, which happens to enable extglob
[23:38:46] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:eb83:919c:c248:eabe) (Quit: enoq)
[23:38:51] <FreeBDSM> bash-completion is indeed installed
[23:39:21] *** Quits: sinhue (~sinhue@stip-static-55.213-81-207.telecom.sk) (Ping timeout: 248 seconds)
[23:39:40] *** Quits: mat001 (~mat001@c-73-223-64-126.hsd1.ca.comcast.net) (Read error: Connection reset by peer)
[23:39:51] *** Joins: unixman_home (~unixman2@216.137.241.98)
[23:42:48] *** Joins: catern (~sbaugh@2604:2000:8fc0:b:a9c7:866a:bf36:3407)
[23:42:50] <FreeBDSM> do I need to escape () in globs when using them for a command inside `ssh "here"` ?
[23:44:07] <greycat> You need to stop sending extended globs into that ssh environment.
[23:44:27] <FreeBDSM> but I added `shopt -s extglob && ` as 1st command...
[23:44:30] *** Joins: s1b1 (~s1b1@user/s1b1)
[23:44:41] <greycat> It can't be done with &&.  The parser reads the whole line at once.
[23:44:47] <tirnanog> that's not good enough.
[23:44:48] *** Quits: pystardust (~pystardus@117.96.229.96) (Quit: pystardust)
[23:45:45] <FreeBDSM> greycat: should I somehow split it into two lines? lol.
[23:45:51] <FreeBDSM> isn't that a bug?
[23:46:41] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 244 seconds)
[23:46:48] <tirnanog> no, it's not. you'd either need to introduce a line break or do something like: ssh ... bash -O extglob <<<'shell code goes here'
[23:46:49] <greycat> This appears to work:  ssh ... $'shopt -s extglob\nsecond command here'
[23:47:07] <greycat> tirnanog: that's another approach.  Of course that one ties up stdin.
[23:47:10] <tirnanog> yeah.
[23:47:19] *** Quits: Lutin (~Lutin@user/lutin) (Quit: Lutin)
[23:47:33] <tirnanog> though it does assure that bash is being used, I suppose. so there's that.
[23:48:31] <greycat> I'm ... a little tiny bit confused why the $'...' thing works, given that whitespace is handled poorly.  Maybe newlines are handled differently from spaces and tabs.  I'm not sure.  ssh is weird.
[23:49:26] *** Joins: totenkoph (~scythe@user/totenkoph)
[23:49:33] *** Joins: mongy (~mongy@user/mongy)
[23:49:37] *** Joins: Pall (~Pall@cpc139184-sprt3-2-0-cust125.17-2.cable.virginm.net)
[23:50:41] <geirha> pretty sure it just does the equivalent of "$SHELL" -c "$*" on the remote
[23:51:03] <greycat> I have a data point that disproves that, now.
[23:51:15] <geirha> oh?
[23:51:31] <FreeBDSM> stupid chmod: I do `sudo chmod 400 ./.ssh/*.key` and get `chmod: cannot access ...: No such file or directory`, yet if I use the very same path with ls - it lists the damn files >:[
[23:51:35] <greycat> http://paste.wooledge.org/8927
[23:51:40] *** Quits: chomwitt (~chomwitt@ppp-94-67-193-240.home.otenet.gr) (Ping timeout: 240 seconds)
[23:52:03] <greycat> FreeBDSM: why are you using sudo here?
[23:52:22] <greycat> oh, they're not YOUR keys.  And you're bitching that you can't glob without being root.
[23:52:28] <FreeBDSM> greycat: that's just a twisted example, paths are different in reality, I don't own those files
[23:52:30] <geirha> doesn't disprove it as far as I can see
[23:52:31] <greycat> !pf sudo > FreeBDSM 
[23:52:31] <greybot> FreeBDSM: https://mywiki.wooledge.org/BashPitfalls#pf53 -- Don't do this! -- sudo mycmd > /myfile
[23:52:55] <greycat> geirha: if it did "$*" it would be running "shopt -s extglob echo /@(tmp|var)"
[23:53:04] <FreeBDSM> it's actually /kafka/.ssl/*.jks, does it matter?
[23:53:07] <geirha> no, because the entire thing is in $1@
[23:53:10] <geirha> $1
[23:53:26] <geirha> # set -- $'shopt -s extglob\necho /@(tmp|etc)'; bash -c "$*"
[23:53:28] <shbot> geirha: /etc /tmp
[23:53:36] <greycat> geirha: that's on the client.  Not on the remote.
[23:54:06] <greycat> unicorn:~$ ssh localhost ./bin/args "one word" "two words"
[23:54:06] <greycat> greg@localhost's password: 
[23:54:06] <greycat> 4 args: <one> <word> <two> <words>
[23:54:07] *** Quits: adanwan (~adanwan@gateway/tor-sasl/adanwan) (Remote host closed the connection)
[23:54:09] <tirnanog> FreeBDSM: are you using gnu/linux?
[23:54:19] <FreeBDSM> tirnanog: yeah
[23:54:22] *** Joins: adanwan (~adanwan@gateway/tor-sasl/adanwan)
[23:54:34] <geirha> that's equivalent to   set -- ./bin/args "one word" "two words"; bash -c "$*"
[23:54:35] <FreeBDSM> well, kinda: the client is WSL ubuntu, the server is centos
[23:54:39] <tirnanog> FreeBDSM: make the command "namei -l /kafka/.ssl/*.jks' then study the output.
[23:54:53] <geirha> so it fits my assumptions, at least
[23:55:06] <tirnanog> FreeBDSM: because both of those commands do different things with respect to the permissions model.
[23:56:05] *** Quits: aead (~aead@pool-96-232-187-142.nycmny.fios.verizon.net) (Quit: aead)
[23:56:24] <FreeBDSM> tirnanog: it lists 1: /, 2: kafka, 3: .ssl, 4: *.jks - no such file or directory, just like chmod's error output
[23:56:25] <tirnanog> another plausible explanation is that the glob didn't expand to anything and is, thus, an invalid path to chmod.
[23:56:43] <tirnanog> keeping in mind that the glob expansion wasn't peformed as the root user.
[23:57:05] <tirnanog> ok. that's why then.
[23:57:31] <FreeBDSM> oh, so it expands as my user and my user has no rights to list the dir so expansion fails, although the command itself is called with sudo...
[23:57:34] <FreeBDSM> weeeeeird
[23:57:43] <FreeBDSM> but at least now I understand, thanks
[23:58:00] <tirnanog> it's not really. pathname expansion occurs way before sudo is executed.
[23:58:07] <tirnanog> globs wouldn't be very useful otherwise.
[23:58:20] <FreeBDSM> why wouldn't they?
[23:58:48] <tirnanog> because then we would live in a world of hell where every individual application has to take responsibility for expanding globs, should they see fit to. as with windows.
[23:59:16] <tirnanog> windows cmd, at least.
