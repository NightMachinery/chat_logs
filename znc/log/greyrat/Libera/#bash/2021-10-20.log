[00:00:02] *** Joins: artuando (~user@user/artuando)
[00:00:32] <Aryan> Ah
[00:01:01] <greycat> A few weird people write "typeset" rather than declare, perhaps because they came from a ksh background.
[00:01:48] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:1493:30d8:77ef:95ff) (Ping timeout: 258 seconds)
[00:01:49] *** Joins: aaro (~aaro@user/aaro)
[00:04:05] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:a8f8:8546:7620:4477)
[00:04:05] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:a8f8:8546:7620:4477) (Changing host)
[00:04:05] *** Joins: skapata (~Skapata@user/skapata)
[00:05:14] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[00:05:50] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[00:06:02] *** Quits: robobo7 (~robobo@c-e52c524e.015-74-6762675.bbcust.telenor.se) (Quit: The Lounge - https://thelounge.chat)
[00:06:43] *** Quits: sandb0y (~pirate@user/sandb0y) (Ping timeout: 252 seconds)
[00:08:22] *** Quits: Rue (~rue@2001-b011-1000-18ff-fb3e-5834-f648-5c3f.dynamic-ip6.hinet.net) (Ping timeout: 252 seconds)
[00:09:39] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[00:10:07] *** Joins: robobo7 (~robobo@c-e52c524e.015-74-6762675.bbcust.telenor.se)
[00:10:22] *** Joins: jetchisel (jetchisel@user/jetchisel)
[00:10:25] *** Joins: Rue (~rue@2001-b011-1000-12a8-e81a-0f23-98d2-5e33.dynamic-ip6.hinet.net)
[00:11:10] *** Quits: nyex (~Thunderbi@177.84.107.41) (Remote host closed the connection)
[00:11:22] *** Parts: artuando (~user@user/artuando) (ERC (IRC client for Emacs 26.3))
[00:13:22] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 260 seconds)
[00:15:48] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[00:16:14] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:1493:30d8:77ef:95ff)
[00:18:54] *** Quits: GNUHacker (~foobar@fsf/member/GNUHacker) (Remote host closed the connection)
[00:30:38] *** Joins: jkwnki (~jkwnki@p2e5793bc.dip0.t-ipconnect.de)
[00:31:58] *** Joins: greknod28 (~grek@120.88.171.98)
[00:33:07] *** Quits: randm (~randm@user/randm) (Quit: Leaving.)
[00:33:31] *** Joins: randm (~randm@user/randm)
[00:37:52] *** Quits: aniruddha (uid340443@id-340443.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[00:38:56] <cluelessperson> I'm not understanding why this isn't working
[00:38:59] *** Quits: Junagu (~junagu@2a02:8010:6989:0:d6cc:2cc9:dc0f:bcf2) (Ping timeout: 258 seconds)
[00:39:00] <cluelessperson> `find . -iname "userdata" | grep -v 055 | xargs`
[00:39:06] <cluelessperson> rm: invalid option -- '/'
[00:39:19] <cluelessperson> example filename in the list:  `./015 - Dairon/userdata`
[00:40:07] <phy1729> What are you trying to do in English?
[00:41:14] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:41:57] <cluelessperson> delete all the userdata subdirectories,  except the one I'm grepping out
[00:42:14] <phy1729> The 055 only happens in a directory name?
[00:42:23] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 264 seconds)
[00:42:59] <cluelessperson> yes.
[00:43:18] <cluelessperson> I run it without | xargs, and it lists all the directories I wish to delete.
[00:43:32] <cluelessperson> ugh, sorry,  I mean to write I'm doing this
[00:43:41] <phy1729> find . -type d -name '*055*' -prune -o -iname userdata -delete    will delete them
[00:43:44] <cluelessperson> `find . -iname "userdata" | grep -v 055 | xargs rm -r `
[00:43:48] <phy1729> Remove the -delete to check
[00:44:04] <twkm> !xargs
[00:44:04] <cluelessperson> phy1729, oh, I'm filtering *out* 055. :P
[00:44:05] <greybot> xargs(1) is dangerous (broken, exploitable, etc.) when reading non-NUL-delimited input. If you're working with filenames, use find's -exec [command] {} + instead. If you can get NUL-delimited output, use xargs -0. Otherwise, you probably want a while read or for loop instead.
[00:44:14] <cluelessperson> ah
[00:44:16] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:1493:30d8:77ef:95ff) (Ping timeout: 245 seconds)
[00:44:17] <phy1729> cluelessperson: yes?
[00:45:14] <cluelessperson> phy1729, how do I filter *out* 055 so it *does not* get deleted?
[00:45:18] <cluelessperson> I need that one to stay.
[00:45:27] <phy1729> Note the -prune
[00:46:23] <cluelessperson> it's there, but 055 is inside the list.
[00:47:26] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:1493:30d8:77ef:95ff)
[00:48:35] <phy1729> It appears to work locally
[00:48:58] *** Quits: rgrinberg (~textual@186.4.37.225) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:50:06] *** Joins: sinaowolabi__ (~SinaOwola@102.134.114.1)
[00:51:10] *** Joins: Junagu (~junagu@2a02:8010:6989:0:d6cc:2cc9:dc0f:bcf2)
[00:53:06] <cluelessperson> find . -type d -name '*055*' -prune -o -iname userdata | grep 055
[00:53:06] <cluelessperson> ./055 - Hanubia, Save Station - Hard Mode Unlocked
[00:53:43] <cluelessperson> `find . -iname "userdata" | grep -v 055`  works
[00:53:59] <phy1729> Oh right prune evaluates to true, userdata will always be a file right?
[00:54:42] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[00:55:39] *** Quits: Junagu (~junagu@2a02:8010:6989:0:d6cc:2cc9:dc0f:bcf2) (Remote host closed the connection)
[00:56:01] <cluelessperson> a directory
[00:56:11] *** Quits: Mo (~Mo@dynamic-095-112-014-123.95.112.pool.telefonica.de) (Ping timeout: 264 seconds)
[00:56:14] *** Quits: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb) (Ping timeout: 258 seconds)
[00:56:40] *** Joins: elastic_dog (~elastic_d@2a01:118f:822:9c00:f583:aa51:9ad4:d4fb)
[00:57:05] <phy1729> find . -type d -name '*055*' -prune -type f -o -iname userdata      maybe?
[01:00:27] <Riviera> something won't be of type d and f at the same time
[01:01:30] <phy1729> that's the point
[01:01:38] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:1493:30d8:77ef:95ff) (Quit: WeeChat 3.3)
[01:01:46] *** Quits: LuckyRawApe (~sergiy@203.129.63.205) (Quit: WeeChat 3.3)
[01:02:01] <Blondie101010> I don't get it either
[01:02:15] <znf> he's a cluelessperson
[01:03:13] <Riviera> phy1729: didn't follow the backlog
[01:03:40] <phy1729> -prune evaluates to true but those nodes shouldn't be operated on
[01:05:21] *** Joins: humky (~humky@user/humky)
[01:16:56] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 258 seconds)
[01:17:29] *** Joins: Crescendo (~Crescendo@user/crescendo)
[01:22:10] <emanuele6> phy1729: since you are using GNU find (-delete), you don't have to use -type f -o
[01:22:22] <emanuele6> find . -type d -name '*055*' -prune , -iname userdata
[01:22:23] <phy1729> even OpenBSD find has -delete now
[01:22:27] <emanuele6> you can use the comma operator
[01:22:33] <emanuele6> oh, i didn't know that
[01:26:38] *** Quits: Enissay (~Enissay@user/enissay) (Quit: WeeChat 3.0)
[01:26:43] <cluelessperson> I'm confused
[01:26:50] <cluelessperson> at no time did I say it was an f
[01:27:35] <cluelessperson> sweet
[01:27:36] <cluelessperson> find . -type d -name '*055*' -prune -iname userdata | grep 055
[01:27:38] <cluelessperson> returns nothing
[01:27:59] *** Quits: fedenix_ (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[01:28:26] *** Quits: kj (~kj@beta.aerisnetwork.net) (Ping timeout: 258 seconds)
[01:28:36] <phy1729> Does it output anything at all?
[01:29:08] <emanuele6> because that `-iname userdata` checks if any of the directories that matched `-type d -name '*055*'' are named "userdata" (case-insensitively)
[01:29:14] <emanuele6> and that would be impossible
[01:30:45] *** Quits: jess (~jess@libera/staff/jess) (Quit: Lost terminal)
[01:30:53] *** Joins: Enissay (~Enissay@user/enissay)
[01:31:09] *** Joins: jess (~jess@libera/staff/jess)
[01:31:30] *** Quits: sinaowolabi (~SinaOwola@160.152.191.87) (Ping timeout: 258 seconds)
[01:31:32] <emg> in general, any time you use -prune, you then want -o (and an actual command at the end, not just the default print)
[01:31:42] <cluelessperson> phy1729, no
[01:31:56] <cluelessperson> -delete doesn't work.
[01:31:59] <emg> find . -type d -name '*055*' -prune -o -iname userdata -print
[01:32:01] <emanuele6> cluelessperson: for the reason i said
[01:32:06] <cluelessperson> yeah
[01:32:28] *** Quits: LanDi (~landi@187.19.137.250) (Remote host closed the connection)
[01:32:36] <emanuele6> emg: that will match the '*055*' directories, no?
[01:32:53] <emanuele6> that was why phy1729 added a `-type f', to filter them out
[01:33:54] <emanuele6> in GNU find, you can use: find . -type d -name '*055*' -prune , -iname userdata -print
[01:34:17] <emanuele6> in portable find, you use the `-type f' trick: find . -type d -name '*055*' -prune -type f -o -iname userdata -print
[01:34:32] <emanuele6> otherwise the pruned directories get printed by default
[01:34:46] <phy1729> Basically you make the first half impossible but only after -prune has ran
[01:35:13] <phy1729> If only -prune evaluated to false or there were a -false primary
[01:36:00] <emanuele6> `,' :)
[01:36:32] <phy1729> that's just GNU though
[01:36:49] <phy1729> I want the 70s/80s to have more foresight
[01:37:17] <emanuele6> -false is also just GNU
[01:38:01] <emanuele6> or does openbsd's have that as well?
[01:38:05] <emg> emanuele6: no, the -print at the end changes to not print the directories, the implicit -print is for the whole expression, the explicit -print is not (I think that's why, need to consider again)
[01:38:06] <phy1729> It's easier to hate on GNU when you just focus on the stupid things :)
[01:38:18] <phy1729> emg: it is
[01:38:54] <emg> it's been a few years since I wrote find, I'm fuzzy on the details
[01:38:55] <phy1729> and binds tighter than or, so -print only applies to the second half of the disjunction
[01:39:00] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[01:39:06] <emanuele6> no, openbsd's find doesn't have -false
[01:39:30] <emg> ah that's what it is, operator precedence of -a vs -o, thanks phy1729
[01:39:30] <emanuele6> GNU wins
[01:39:44] *** Quits: crabbedhaloablut (~crabbedha@user/crabbedhaloablut) (Remote host closed the connection)
[01:39:58] *** Joins: crabbedhaloablut (~crabbedha@user/crabbedhaloablut)
[01:40:06] <emg> I knew it was like ( expr -o expr ) -a print   for implicit vs    expr -o expr -a print   for explicit, forgot -a and -o had different precedence
[01:40:40] <phy1729> It makes more sense if you forget -a exists
[01:41:08] <emg> how so?
[01:41:24] *** Joins: rgrinberg (~textual@ip11-246-50-179.ct.co.cr)
[01:41:52] <phy1729> foo bar -o baz   visually foo and bar bind more tightly than bar and baz
[01:42:48] <emg> ah, that's a nice mnemonic
[01:43:33] <cluelessperson> emg, you wrote find?
[01:44:33] <emg> cluelessperson: an implementation
[01:44:40] <emg> there are many
[01:45:22] *** Joins: sinaowolabi (~SinaOwola@41.58.232.179)
[01:46:16] *** Quits: mithrin (~mithrin@stip-static-62.213-81-207.telecom.sk) (Ping timeout: 252 seconds)
[01:46:58] *** Joins: rcernin (~rcernin@124.190.139.235)
[01:47:33] *** Joins: mithrin (~mithrin@stip-static-62.213-81-207.telecom.sk)
[01:54:19] * cluelessperson is lost
[01:55:04] <emg> definitely living up to that nick ;-)
[01:55:18] <emg> cluelessperson: what are you lost about
[01:57:27] <cluelessperson> I don't know how to construct a command to delete all the subdirectories userdata except for one in one particular directory
[01:58:58] <emanuele6> cluelessperson:  find . -type d -name '*055*' -prune , -iname userdata -delete
[01:59:01] <emanuele6> in gnu find
[01:59:07] * cluelessperson attempts
[01:59:24] <emanuele6> or in openbsd find: find . -type d -name '*055*' -prune -o -type f -iname userdata -delete
[01:59:50] <phy1729> No -type f
[02:00:04] <phy1729> If was on the other side of the -o before because there wasn't a -print
[02:00:05] <cluelessperson> that first one seems to be whta I'm looking for.
[02:00:26] <emanuele6> the other way around yes
[02:00:27] <cluelessperson> find . -type d -iname "*055*" -prune , -iname userdata -delete
[02:00:28] <emanuele6> sorry
[02:00:28] <cluelessperson> find: The -delete action automatically turns on -depth, but -prune does nothing when -depth is in effect.  If you want to carry on anyway, just explicitly use the -depth option.
[02:00:44] <cluelessperson> find: cannot delete ‘./008 - Ataria, Network Station - Second White EMMI/userdata’: Directory not empty
[02:04:00] *** Quits: dza (~dza@user/dza) (Read error: Connection reset by peer)
[02:05:10] *** Joins: uc50ic4more (~uc50ic4mo@dyn216-8-130-29.ADSL.mnsi.net)
[02:05:46] <cluelessperson> `find . -type d -iname "*055*" -prune , -iname userdata -exec rm -rv {} \;`
[02:05:49] <cluelessperson> seems to have worked
[02:06:06] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:9815:b867:1c3c:f13d)
[02:06:52] *** Joins: kj (~kj@kj.aerisnetwork.net)
[02:08:11] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[02:09:58] <emanuele6> cluelessperson: find . -type d -iname "*055*" -prune , -iname userdata -exec rm -rv -- {} +
[02:11:53] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[02:12:23] *** Quits: xx (~xx@user/xx) (Ping timeout: 264 seconds)
[02:12:54] *** Quits: kurahaupo (~kurahaupo@pa49-179-226-170.pa.nsw.optusnet.com.au) (Ping timeout: 258 seconds)
[02:14:55] *** Quits: TomyLobo (~TomyLobo@p200300e80f06af000521f851ba240c61.dip0.t-ipconnect.de) (Read error: Connection reset by peer)
[02:17:19] *** Quits: wwalker (~wwalker@platinum.solid-constructs.com) (Quit: leaving)
[02:17:53] *** Quits: drd (~drd@93-42-69-115.ip85.fastwebnet.it) (Ping timeout: 258 seconds)
[02:17:53] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 258 seconds)
[02:18:05] *** Joins: Guest8463 (~Guest@host16.190-224-210.telecom.net.ar)
[02:19:32] *** Joins: wwalker (~wwalker@platinum.solid-constructs.com)
[02:19:49] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[02:20:02] *** Joins: Spawns_Carpeting (~Spawns_Ca@user/spawns-carpeting/x-6969421)
[02:20:44] *** Joins: userT (~user11@2806:102e:8:9f0f::1)
[02:21:18] *** Joins: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[02:22:10] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 260 seconds)
[02:24:14] *** Quits: voldial (~user@195.179.201.175) (Changing host)
[02:24:14] *** Joins: voldial (~user@user/voldial)
[02:25:06] <userT> To insert "a_string" in a at line 5, position 3, using sed, I use sed -ri '5s/^.{3}/&a_string/' .  However, I also saw that it works the same without the '^' character. Why is it? What's the difference?
[02:26:00] <greycat> Write a patch.  Ship the patch to the destination machine.  Apply the patch with patch(1).
[02:26:03] *** Quits: ttyX (~ttyX@user/ttyx) (Quit: Leaving)
[02:26:25] <greycat> Or use a real configuration management suite.
[02:26:34] * phy1729 does a double take
[02:27:42] <greycat> If you know that you want to modify this file at line L column C, you have *way* too much advance knowledge to be fumbling around with sed crap.
[02:28:41] <greycat> (Or just simplify my life by revealing that you're doing a Docker thing, and I can /ignore you and get on with the rest of my day.)
[02:29:07] *** Quits: shbot (~shbot@37.139.2.101) (Ping timeout: 252 seconds)
[02:29:07] *** Quits: dodo (~dodo@user/dodo) (Ping timeout: 252 seconds)
[02:29:22] <wwalker> greycat appears to think of dOCKER the same way I do...
[02:29:31] *** Quits: synthmeat (~synthmeat@user/synthmeat) (Ping timeout: 268 seconds)
[02:30:32] *** Joins: dsrt^ (~dsrt@68.101.53.15)
[02:31:20] *** Quits: Seirdy (~Seirdy@sourcehut/user/seirdy) (Quit: exiting 3.2)
[02:31:41] <userT> Or is it a question for "regex"?
[02:31:56] *** Joins: Seirdy (~Seirdy@sourcehut/user/seirdy)
[02:32:09] <phy1729> userT: why would it match anywhere else first
[02:32:42] <Guest8463> is sed bad? I find it great
[02:32:57] <greycat> sed has its uses.  This is not one of them.
[02:33:01] <omegatron> no, but you have to learn quite some syntax to master it
[02:33:08] <emanuele6> Guest8463: sed is a stream editor, not a file editor
[02:33:25] <Guest8463> I find all bash great
[02:33:26] <omegatron> userT: maybe 'ed' can help you
[02:33:41] <greycat> patch(1), salt, chef, puppet, ansible, ...
[02:33:43] <Guest8463> not an expert but still
[02:34:30] *** Quits: zebrag (~chris@user/zebrag) (Quit: Konversation terminated!)
[02:35:11] <userT> Ok. Thanks all.
[02:35:13] <emanuele6> userT: s/// matches the first occurrence of the regex
[02:35:23] <emanuele6> s///2 would match the second
[02:35:26] *** Joins: semeion (~semeion@user/semeion)
[02:35:30] <emanuele6> s///3 would match the third
[02:35:40] <emanuele6> s///g would match all the occurrences
[02:35:52] <emanuele6> that is how the s/// command works in sed
[02:36:30] <greycat> technically it's just the s command, and the delimiter can be anything, including /
[02:37:08] <Blondie101010> correct but it's the common delimiter, so it's good for examples
[02:37:10] <emanuele6> # <<< "1234567890" sed 's,.\{3\},&a,'
[02:37:12] <emg> (other than \ or \n)
[02:37:40] <emanuele6> oh, shbot is not online
[02:37:49] <greycat> shbot seems to have gone away
[02:37:56] <Blondie101010> maybe you crashed it
[02:38:31] <emanuele6> userT: either way, if you run that, you will get: 123a4567890
[02:38:44] <greycat> 18:59 = shbot [~shbot@37.139.2.101] quit (Ping timeout: 252 seconds)
[02:38:52] <emanuele6> if you run `# <<< "1234567890" sed 's,.\{3\},&a,2'', you will get 123456a7890
[02:39:02] <greycat> without the #
[02:39:23] <emanuele6> and if you run `<<< "1234567890" sed 's,.\{3\},&a,g'', you will get 123a456a789a0
[02:39:37] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[02:39:50] <emanuele6> greycat: posix calls it: [2addr]s/BRE/replacement/flags
[02:39:57] *** Joins: alzgh (~alzgh@user/alzgh)
[02:40:07] <emanuele6> so i usually refer to it as s///
[02:40:17] <emanuele6> even though i always use , by default
[02:40:28] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[02:41:01] *** Joins: Weather7774 (~Weather77@124-170-105-84.dyn.iinet.net.au)
[02:41:05] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[02:41:15] <Blondie101010> I like #
[02:41:43] <Guest8463> emanuele6: what's the difference between , and /?
[02:42:01] <Blondie101010> Guest8463: you choose the delimiter with the first one
[02:42:15] <emanuele6> , is easier to type on my keyboard layout
[02:42:19] <greycat> use a delimiter that doesn't appear in your BRE or replacement
[02:42:53] <greycat> ... of course, you shouldn't be using sed for your multi-machine cfg mgt so this is academic
[02:43:31] <emanuele6> , is placed where the US keyboard has <
[02:43:47] <emanuele6> / is shift+7 and # is AltGr+,
[02:44:06] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Quit: bye)
[02:44:11] <emanuele6> so that is why i am used to using ,
[02:44:13] <Blondie101010> never seen that layout
[02:44:49] <Blondie101010> my / is shift-3 or [char to the right of .]
[02:44:57] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[02:45:14] <emanuele6> "# is AltGr+," i mean that # is AltGr + the key where comma is placed in the US keyboard layout
[02:46:06] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Read error: Connection reset by peer)
[02:46:22] <Guest8463> Blondie101010: I am a bit forgotten :) I will have to research a bit more
[02:46:24] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[02:46:32] <emanuele6> oh, i was not looking at a picture of the US keyboard layout, lol
[02:46:59] <emanuele6> it's actually AltGr + the key where ' is placed in the US keyboard layout
[02:47:09] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Ping timeout: 276 seconds)
[02:47:10] <armin> '#'#'#'#'##
[02:47:39] <emanuele6> i have ' where US has - (right of the 0 key)
[02:47:40] <armin> <- ISO-DE
[02:48:09] <Blondie101010> emanuele6:  that's an awful key combination
[02:48:14] <emanuele6> and i have à where US has '
[02:48:23] <emanuele6> Blondie101010: it's not that bad
[02:48:29] <userT> Thanks emanuele6. Even though my keyboard layout doesn't have '/' at a "comfy" location, I still prefer using the academic '/'.
[02:48:35] *** Joins: quazimodo (~quazimodo@n1-40-235-47.bla1.nsw.optusnet.com.au)
[02:48:42] <Blondie101010> but it seems to have similarities with fr-ca
[02:48:45] <emanuele6> why is / academic?
[02:48:59] <userT> Er, I meant, the standard
[02:49:01] <userT> sorry
[02:49:17] <emanuele6> the worse thing about the italian keyboard layout is that it doesn't have ` and ~
[02:49:34] <Blondie101010> emanuele6: I'd guess it was the first one used before it got flexible
[02:49:45] <userT> ^ ouch, didn't know that
[02:50:38] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 260 seconds)
[02:50:40] <emanuele6> but Xorg adds them as AltGr+' (US: AltGr+-) -> ` and AltGr+ì (US: AltGr+=) -> ~
[02:50:43] <emanuele6> so it's fine
[02:51:01] <armin> french layout is really cool, too. first line reads AZERTY...
[02:51:29] <Blondie101010> codepage 863 rocks
[02:51:31] <Blondie101010> :P
[02:52:07] <userT> emanuele6: so for my example, if I just try to match the first occurrence, is it actually the same 's/^.{3}/&a/' and just 's/.{3}/&a/'? No actual difference or "correct way" in this small particular case?
[02:52:29] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[02:52:39] <emanuele6> it has £ç°§ that are quite useless, but it doesn't have ~` that are ascii, lol
[02:52:45] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Read error: Connection reset by peer)
[02:52:46] *** Joins: clarkk1 (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[02:52:57] <armin> the craziest thing about collecting music is that at some point you'll just find music with title written from right to left, or in some character set you simply cannot type even one single character in...
[02:53:23] *** Joins: ferdna (~ferdna@user/ferdna)
[02:53:28] *** Joins: akoana (~ah@user/akoana)
[02:53:55] <emanuele6> userT: since the first match of .\{3\} will always be at the beginning of the line, there is no difference
[02:54:22] <greycat> also, ... is easier and faster to type than .\{3\}
[02:54:53] <emanuele6> you keep using EREs for no reason, BREs support ERE's {}, you simply need to write it as \{\}
[02:55:12] <emanuele6> and yes, ... is shorter, so .{3} is also quite silly
[02:55:23] <greycat> ... is also easier and faster to type than -E .{3}
[02:57:25] *** Joins: shbot (~shbot@37.139.2.101)
[02:57:26] <userT> Curious, or maybe strange? In my local machine I don't need to escape the '{' and '}'...
[02:57:35] *** Joins: dodo (~dodo@user/dodo)
[02:57:36] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[02:57:41] *** Joins: synthmeat (~synthmeat@user/synthmeat)
[02:57:55] *** Joins: Crescendo (~Crescendo@user/crescendo)
[02:57:58] <greycat> you're using -r which is a synonym for -E which is "use ERE instead of BRE" which is non-portable and works on your LUNIX
[02:58:13] <emanuele6> userT: you are using -r which is a GNU extension that allows you to use EREs (extended regular expressions) instead of BREs (basic regular expressions)
[02:58:25] <greycat> but you've been using your GNU LUNIX crap for so long you forgot that you're using nonstandard extensions
[02:59:13] *** Quits: vaio (~gary@user/ghost) (Remote host closed the connection)
[02:59:43] <userT> Ok, ok, I should use BRE.
[02:59:47] <userT> How do I specify it?
[02:59:55] <userT> By escaping the characters indeed?
[02:59:57] <greycat> by not using -r
[03:00:03] <emanuele6> you don't specify it
[03:00:08] <emanuele6> BRE is default
[03:00:13] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[03:00:17] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[03:01:02] <userT> Ohh
[03:01:11] <emanuele6> https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html
[03:01:34] *** Quits: rgrinberg (~textual@ip11-246-50-179.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:01:44] <userT> So I should NOT use -r; though I just need to escape the characters
[03:02:11] *** Quits: clarkk1 (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Ping timeout: 264 seconds)
[03:02:14] *** Joins: dza (~dza@user/dza)
[03:03:24] <emanuele6> BREs and EREs are different flavours/dialects of regular expression, one is not the unescaped version of the other
[03:03:59] *** Joins: vaio (~gary@user/ghost)
[03:04:41] <emanuele6> sed is designed to use BREs, but the GNU implementation of sed let's you use EREs instead of BREs if you pass the -E (or -r) option
[03:04:59] <emanuele6> s/'//
[03:05:03] *** Joins: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp)
[03:06:44] *** Quits: omegatron (~some@p5b056a70.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[03:07:41] <userT> Ok, thanks for everything
[03:09:32] *** Quits: brelod (~me@90.244.150.142) (Quit: leaving)
[03:09:50] *** Quits: rundown (~eb0t@90.196.142.168) (Read error: Connection reset by peer)
[03:09:53] <userT> Final, stupid question, unfortunately I have a problem and tend to often mistype commands, so I often get "command not found" errors. This will not harm system nor put me on hacking risk, right? I use Debian.
[03:10:14] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Ping timeout: 260 seconds)
[03:10:22] <greycat> Mistyping the *arguments* of rm is a bigger issue than mistyping command names.  Usually.
[03:11:52] <e36freak> but getting a "command not found" error isn't going to cause any problems
[03:11:52] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[03:12:14] <emanuele6> mistyping an eval command may actually make your system more secure
[03:12:41] <emanuele6> !eval
[03:12:41] <greybot> 'eval' is a common misspelling of 'evil'. If eval is the answer, surely you are asking the wrong question. See http://mywiki.wooledge.org/BashFAQ/048
[03:14:37] *** Quits: Dotz0cat (~Dotz0cat@h112.238.31.71.dynamic.ip.windstream.net) (Ping timeout: 258 seconds)
[03:14:38] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Client Quit)
[03:15:01] *** Quits: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:15:06] *** Quits: vaio (~gary@user/ghost) (Ping timeout: 276 seconds)
[03:15:09] *** Joins: v- (~gary@user/ghost)
[03:15:24] *** v- is now known as vaio
[03:15:49] *** Joins: rundown (~eb0t@90.199.166.206)
[03:16:08] *** Joins: pasteban (~pasteban@157.146.251.23.bc.googleusercontent.com)
[03:18:17] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[03:18:42] <greycat> The only way that mistyping a command name can be dangerous is if (a) you mistype a word that is a different command, or (b) you have . or the empty string as a component in your PATH
[03:19:37] *** Joins: pragma- (~chaos@user/pragmatic-chaos)
[03:20:01] *** Quits: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com) (Remote host closed the connection)
[03:20:38] *** Joins: checkbot (~checkbot@157.146.251.23.bc.googleusercontent.com)
[03:21:38] *** Joins: zeden (~zeden@user/zeden)
[03:24:06] *** Quits: pragma- (~chaos@user/pragmatic-chaos) (Client Quit)
[03:25:35] *** Joins: pragma- (~chaos@user/pragmatic-chaos)
[03:26:08] *** Joins: Dotz0cat (~Dotz0cat@h227.29.188.173.dynamic.ip.windstream.net)
[03:26:22] *** Quits: jkwnki (~jkwnki@p2e5793bc.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[03:27:15] <userT> So "command not found" is not really an issue then
[03:27:17] <userT> Thanks
[03:27:43] *** Joins: xizhendu_ (~xizhendu@240e:404:8610:62b2:dadc::30c0)
[03:29:10] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Ping timeout: 265 seconds)
[03:29:22] *** Quits: mat001 (~mat001@213.143.69.121) (Remote host closed the connection)
[03:29:50] <emanuele6> # userT
[03:29:52] <shbot> emanuele6: bash: userT: command not found
[03:30:01] *** Quits: bertptrs (~quassel@user/bertptrs) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[03:30:19] <emanuele6> # echo i am fine
[03:30:21] <shbot> emanuele6: i am fine
[03:30:38] *** Joins: bertptrs (~quassel@user/bertptrs)
[03:30:56] *** Joins: mongrel (uid508343@id-508343.ilkley.irccloud.com)
[03:31:22] *** Joins: clarkk (~clarkk@84.247.50.42)
[03:32:23] <clarkk> In a bash script, I want to start a graphical software package, and then return to the script when it quits. Is this possible? If so, how?
[03:33:08] <greycat> Same as any other command.  Just put the name of the command (application) in the script.  The script will run it and wait for it to finish.  As long as it doesn't fork and abandon a child.
[03:34:00] <llua> and they usually have an option to prevent creating daddy issues
[03:35:45] <userT> Thanks everyone.
[03:36:56] <clarkk> strange. If I close the app, it just says "Terminated" in the shell. If I CTRL+C the script, it says, "Catching signal: SIGINT Exiting cleanly  Terminated".  Neither times does it run the commands after the line that starts the app
[03:38:04] <greycat> Ctrl-C in a terminal sends a signal to ALL foreground processes, which in some cases will include both your shell, and the application the shell is waiting upon.
[03:38:31] <greycat> Now, we have not seen your script, we don't know what your application is, etc. so there's not much more we can say.
[03:39:11] <clarkk> ok, understood. Just wanted to run it by someone. Will come back with more details if I can't get to the bottom of it
[03:39:16] <clarkk> THanks for the responses
[03:43:35] *** Quits: Lord_of_Life (~Lord@user/lord-of-life/x-2819915) (Ping timeout: 264 seconds)
[03:43:41] *** Joins: Lord_of_Life_ (~Lord@user/lord-of-life/x-2819915)
[03:44:59] *** Lord_of_Life_ is now known as Lord_of_Life
[03:45:16] *** Quits: m0viefreak (~asdf@user/m0viefreak) (Remote host closed the connection)
[03:45:26] <e36freak> what's the app?
[03:46:31] <clarkk> sorry, I'd rather not say
[03:46:45] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[03:47:09] <John_Ivan> I really wish everything was in C or Bash ;/
[03:47:25] <John_Ivan> No java, no ruby, no javascript/nodejs, no python, no lisp.
[03:49:12] *** lmat is now known as ic555
[03:49:18] *** ic555 is now known as lmat
[03:50:00] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[03:50:52] *** Joins: clarkk1 (~clarkk@82.102.22.94)
[03:51:04] *** Parts: userT (~user11@2806:102e:8:9f0f::1) (Leaving)
[03:51:23] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[03:52:28] <clarkk1> I figured it out. I was starting the app, and then using "pkill appname" after it, because there were some latent connections for a few seconds, and I wanted to be absolutely certain that they were closed before it continued.  Is there a way to use kill so it would return to the script?
[03:52:36] *** Quits: clarkk (~clarkk@84.247.50.42) (Ping timeout: 245 seconds)
[03:53:13] <greycat> You're asking us how to cleanly terminate an unknown application which you refuse to name.
[03:53:19] <greycat> How are we supposed to know?
[03:53:31] <John_Ivan> https://i.imgur.com/RDFw1Wb.png
[03:53:39] *** Joins: rgrinberg (~textual@ip11-246-50-179.ct.co.cr)
[03:54:11] <clarkk1> greycat, I'm asking whether it's possible to use pkill on an application and then for it to return to the script that started that application
[03:54:21] <greycat> *plonk*
[03:55:37] <greycat> You want us to fucking GUESS what the FUCK you are doing?  OK.  Here is my fucking guess.  You have an app named "pornfoo".  You wrote a script called "pornfoo.sh".  When you do "pkill pornfoo" the name matches both the app and the script, and kills both.
[03:56:32] <John_Ivan> greycat, calm down mate
[03:56:32] <clarkk1> I think that's exactly it. I knew you could do it ;)
[03:57:18] <vaio> John_Ivan: he is ;p
[03:58:19] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 258 seconds)
[03:58:42] *** Quits: sinaowolabi (~SinaOwola@41.58.232.179) (Ping timeout: 258 seconds)
[03:59:26] *** Joins: BSaboia (~bsaboia@187.19.138.198)
[03:59:28] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 258 seconds)
[04:00:46] *** Joins: Dotz0cat_ (~Dotz0cat@h11.46.90.75.dynamic.ip.windstream.net)
[04:01:34] *** Quits: Dotz0cat (~Dotz0cat@h227.29.188.173.dynamic.ip.windstream.net) (Ping timeout: 260 seconds)
[04:01:36] *** Dotz0cat_ is now known as Dotz0cat
[04:02:34] <clarkk1> @greycat, I solved it using, pkill ^appname$   Thanks a lot for your help
[04:03:49] <akoana> hmm what was the factoid explaining that ";" is useless in cmd1 &; cmd2 ?
[04:04:00] *** Joins: igemnace (~ian@user/igemnace)
[04:04:33] <emanuele6> pkill -x pornfoo
[04:05:07] <akoana> !;&
[04:05:07] <greybot> ;; signifies the end of a case list. ;& makes it fall through to the next list. ;;& makes it fall through to the next list if the pattern matches.
[04:05:19] <akoana> no...
[04:05:22] <vaio> akoana: it might not be required, but & is not the same as ;
[04:05:32] <John_Ivan> (;_;)
[04:05:46] <emanuele6> i like ;-;
[04:05:51] <vaio> s/might not be/is not/
[04:05:53] <John_Ivan> (;_(;_;)_;)
[04:05:59] <akoana> vaio, I know...
[04:06:26] <vaio> okay, thought you didn't, based on what's happening on #linux
[04:07:17] <emanuele6> akoana: it's !&;
[04:07:33] <emanuele6> !&;
[04:07:33] <greybot> '&;' is always wrong. So is '& ;'. If you want to run things in the background in a compact one-liner, omit the ';' entirely and simply use '&' between commands. for f in ./*; do my_command "$f" & done - see http://mywiki.wooledge.org/BashPitfalls#pf21
[04:08:21] <akoana> what I was meant was if you do  cmd1 & cmd2  you don't need the semicolon  like  cmd1 &; cmd2  because & separates already
[04:08:39] <akoana> emanuele6: thanks
[04:09:02] <vaio> oh, i misunderstood then, sorry
[04:11:54] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[04:12:59] <John_Ivan> sigh. fat guys always get all chicks.
[04:13:06] <John_Ivan> it's even backed up by science. chicks really dig fat men
[04:13:21] <e36freak> wot
[04:13:45] <clarkk1> emanuele6, thanks - even better
[04:13:58] <John_Ivan> "attractive due to the notion that if said man has access to many resources in extra abundance, he's likely got more to share; hence another reason chicks dig huskier men"
[04:14:24] *** Joins: totenkoph (~scythe@user/totenkoph)
[04:14:28] <John_Ivan> basically, the old age instinct that "if you're fat, you're well off"
[04:14:33] <John_Ivan> and women want men that are well off.
[04:14:35] <e36freak> i think you're in the wrong channel
[04:14:45] <John_Ivan> nah. I'm just.. really bored.
[04:15:38] <John_Ivan> e36freak, https://i.imgur.com/RDFw1Wb.png
[04:15:45] <John_Ivan> very bored.
[04:16:35] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[04:22:11] *** Joins: earnestly (~earnest@user/earnestly)
[04:26:17] <eggbean> being fat is an indication of being poor, not wealth, in western countries
[04:27:41] *** Joins: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com)
[04:28:26] <John_Ivan> eggbean, maybe poor in holding back
[04:28:27] <John_Ivan> :)
[04:28:41] <John_Ivan> fat peps still get more laid than skinny peps
[04:30:31] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[04:34:08] *** Quits: Guest8463 (~Guest@host16.190-224-210.telecom.net.ar) (Remote host closed the connection)
[04:34:47] *** Quits: HumanG33k (~HumanG33k@2a01:e0a:95:5d90:215:c5ff:fe68:fb04) (Quit: WeeChat 3.0)
[04:35:06] *** Joins: vlm (~vlm@user/vlm)
[04:36:55] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[04:38:44] *** Joins: alzgh (~alzgh@user/alzgh)
[04:40:20] <emanuele6> armin: wow; i knew the french layout was azerty. but i didn't know it had the number row inferted
[04:41:02] <emanuele6> you need to hold shift to get the numbers
[04:41:10] <emanuele6> that is weird
[04:41:38] <kurahaupo> clarkk1: it sounds like pkill is hitting your script as well as the GUI app. Do they have similar names, by any chance?
[04:42:07] *** Quits: seninha (~seninha@user/seninha) (Quit: Leaving)
[04:42:16] <kurahaupo> oh greycat already sorted that, never mind
[04:43:14] *** Joins: jensen (~jensen@65.78.100.184)
[04:43:23] *** Quits: BSaboia (~bsaboia@187.19.138.198) (Quit: This computer has gone to sleep)
[04:44:57] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[04:45:25] *** Joins: BSaboia (~bsaboia@187.19.138.198)
[04:46:24] *** Quits: Weather7774 (~Weather77@124-170-105-84.dyn.iinet.net.au) (Read error: Connection reset by peer)
[04:46:45] <znf> where's that factoid about not using for i in $(find...)
[04:46:47] <znf> ?
[04:48:26] <emanuele6> znf: you probably mean `!faq 1' and `for$('
[04:48:30] <greycat> !pf 1
[04:48:30] <greybot> https://mywiki.wooledge.org/BashPitfalls#pf1 -- Don't do this! -- for f in $(ls *.mp3)
[04:48:40] *** Quits: BSaboia (~bsaboia@187.19.138.198) (Client Quit)
[04:48:54] <emanuele6> or !pf 1 :)
[04:49:36] <znf> thanks
[04:51:32] <phy1729> greycat: you're up later than usual
[04:51:48] *** Quits: superboot (~agentgasm@user/superboot) (Quit: leaving)
[04:54:41] *** Joins: BSaboia (~bsaboia@187.19.138.198)
[04:57:37] <John_Ivan> https://cdn.discordapp.com/attachments/854228026317078533/900193436613881876/unknown.png
[05:02:37] *** Quits: BSaboia (~bsaboia@187.19.138.198) (Quit: This computer has gone to sleep)
[05:10:02] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[05:10:10] *** Quits: n4dir (~user@i577BC9A9.versanet.de) (Ping timeout: 260 seconds)
[05:11:24] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[05:11:40] *** Joins: n4dir (~user@mue-88-130-57-108.dsl.tropolys.de)
[05:15:12] *** Quits: The_Jag_ (~The_Jag@host-95-252-246-6.retail.telecomitalia.it) (Read error: Connection reset by peer)
[05:15:55] <eggbean> How to do fixed length stuff using printf? It seems that there is some substring stuff you can do with printf but what I have read is confusing.
[05:15:59] *** Quits: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 264 seconds)
[05:16:12] <eggbean> Like I am using spaces here, but how could I do it properly:
[05:16:32] <eggbean> printf "\n%s%s\n" "MOVED:   " "$t"
[05:16:34] <eggbean> printf "\n%s%s\n" "SKIPPED: " "$t"
[05:16:59] *** Joins: The_Jag (~The_Jag@host-95-252-246-6.retail.telecomitalia.it)
[05:17:43] *** Quits: clarkk1 (~clarkk@82.102.22.94) (Quit: Leaving)
[05:17:54] <greycat> Most people would put the static strings in the format, not as a second argument fed to a %s
[05:18:41] <eggbean> Okay, but wouldn't it have to be like this if I was doing it in the way that I asking about?
[05:18:47] <greycat> A small number of spaces, such as you have here, is perfectly fine.
[05:19:06] <greycat> If you had like 30 spaces between the label and the payload, you might do it differently.
[05:19:35] <eggbean> Okay, but this is just an example I am giving. I still would like to know how to do it
[05:19:41] <akoana> #  t=abc; printf '%-30s%s\n' "MOVED:" "$t"
[05:19:43] <shbot> akoana: MOVED:                        abc
[05:19:46] <greycat> How to do *what*?  Every case is unique.
[05:20:00] <greycat> akoana shows how to do one such thing
[05:21:10] <eggbean> akoana: thanks.
[05:22:35] *** Quits: emanuele6 (~emanuele6@user/emanuele6) (Ping timeout: 264 seconds)
[05:24:46] <eggbean> suddenly seems obvious
[05:26:13] *** Joins: emanuele6 (~emanuele6@net-2-36-101-242.cust.vodafonedsl.it)
[05:26:13] *** Quits: emanuele6 (~emanuele6@net-2-36-101-242.cust.vodafonedsl.it) (Changing host)
[05:26:13] *** Joins: emanuele6 (~emanuele6@user/emanuele6)
[05:27:50] *** Joins: The_Jag_ (~The_Jag@host-87-21-77-193.retail.telecomitalia.it)
[05:28:54] <jensen> Does a good bash script generally mean it can run fine with `set -e` option? Disregarding the caveats of `set -e` and why you should probably use trap instead
[05:29:13] <greycat> set -e will break most scripts, if you just toss it in
[05:29:36] <greycat> if you feel a desire to use set -e, you have to completely adapt your script to it, and work around it
[05:29:51] *** Quits: Cleverness (~clevernes@pool-108-54-152-186.nycmny.fios.verizon.net) (Quit: Leaving)
[05:30:59] *** Quits: The_Jag (~The_Jag@host-95-252-246-6.retail.telecomitalia.it) (Ping timeout: 264 seconds)
[05:31:41] *** Quits: grettke (~grettke@cpe-65-29-228-30.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[05:32:22] *** Quits: dayday (uid520582@id-520582.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[05:34:33] <thebombzen> can exit traps fire during themselves?
[05:34:44] <jensen> greycat: I rarely see `set -e` and I don't use it, but I for some reason a lot of pastebin clients use it. Not sure if it has to do with curl or the fact that they are uploading stuff to the internet and want to make sure there's not a "mistake"
[05:34:56] <thebombzen> like, if whatever cleanup routine I put in an exit trap is hanging and the user Ctrl+Cs again, it's not gonna just fire the exit trap again, is it?
[05:35:03] <jensen> Anyway, I modified a basic template and use this: https://0x0.st/-dXH.txt
[05:36:46] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 260 seconds)
[05:36:51] <tangy> thebombzen, you can reset the trap,  `trap 'trap -- INT; rm -f $tmpfile` INT EXIT
[05:37:07] <thebombzen> you can, but if I don't, does it automatically or does it just fire again
[05:37:12] <jensen> I added a return 0 to the notify_cmd otherwise it failed (the set options were from the templates I've copied from, most use this). I guess I'll keep it in the spirit of the original script, though I'm curious if there's any particular reason to use it in this script. Just checked and the author doesn't use it in his other scripts
[05:37:36] <thebombzen> also as far as I'm aware there's no reason to trap INT and EXIT if you want them to do the same thing
[05:38:12] <thebombzen> since bash scripts by default, if interrupted, just send INT to the foreground and all jobs and then exits
[05:42:41] <greycat> Bash does not propagate a signal to its child processes; if you want that, you have to do it yourself.  You might be thinking of the fact that pressing the intr key in a terminal sends SIGINT to all fg processes in the terminal.
[05:42:58] <thebombzen> that's probably what I'm thinking about
[05:43:32] <thebombzen> but you're saying kill -INT bash_script.sh doesn't work that way
[05:43:37] <thebombzen> interesting, TIL
[05:43:40] <akoana> jensen: the script would fail if USER_TMP_DIR is not set or empty and you don't run it as root, where is USER_TMP_DIR set?
[05:44:13] <emanuele6> thebombzen: but you also said that bash exits when receiving INT, but that is not what interactive bash does
[05:44:22] <thebombzen> non-interactive bash
[05:44:31] <thebombzen> I said *scripts*
[05:44:46] <emanuele6> yes, but then you said "that's probably what I'm thinking about"
[05:45:05] <thebombzen> ah, in either case what I meant was there's no reason to trap both int and exit
[05:45:16] <thebombzen> since bash will catch the INT and fire an exit trap without trapping int, in a script
[05:45:29] <thebombzen> without you explicitly trapping int*
[05:46:51] <emanuele6> if you trap INT in a bash script, bash doesn't exit
[05:47:47] *** Quits: zouhair (~zouhair@lnsm3-montreal02-142-119-71-187.internet.virginmobile.ca) (Ping timeout: 264 seconds)
[05:47:58] <tangy>  it was just force of habit. for debugging I usually like to clean up any temp files whether the script exits via the `exit` builtin or via Crl-C
[05:48:11] <tangy> ymmv
[05:48:40] <emanuele6> !-f > tangy
[05:48:41] <greybot> tangy: Do you actually need that -f in that command? If there a reason you are using it? Or is it just there because of habit? Do you actually know what the -f does and do you even want it there?
[05:48:58] <emanuele6> !quotes > also
[05:48:58] <greybot> also: https://mywiki.wooledge.org/Quotes
[05:49:05] *** Quits: reset (~reset@user/reset) (Quit: reset)
[05:49:53] <greycat> tangy: in bash, you can set an EXIT trap and it will fire on any kind of exit, whether by calling "exit", or by falling off the end of the script, or receiving a fatal signal.  In sh, that is not the case.
[05:49:56] <tangy> Hey, i reread Traps in the faq ...within the last week sometime
[05:50:20] *** Joins: nemesis91 (~nemesis91@user/nemesis91)
[05:50:25] *** Quits: mongrel (uid508343@id-508343.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[05:50:39] <greycat> (because sh is horrible)
[05:53:27] <tangy> oh, for sure
[05:58:25] <jensen> akoana: oh, no problem with that. I set it as an env variable in .zprofile. I only needed to return 0 in the notify_cmd function for the script to work fine, although I'm trying to add support for reading from from stdin and [[ -f "$1" || "$1" = '-' ]] is the reason it fails with the set -e option if no args given and are just reading from stdin
[05:58:56] <greycat> that sounds more like a set -u thing
[06:00:24] <greycat> # set -u; echo start; [[ -f $1 ]]; echo end
[06:00:25] <shbot> greycat: start
[06:00:25] <shbot> greycat: bash: $1: unbound variable
[06:00:28] <jensen> Oh yea, you're right.
[06:00:43] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[06:01:55] <jensen> I have: stdin="$(</dev/stdin)"
[06:01:57] <jensen> case "${1:-"$stdin"}" in
[06:01:59] <jensen> (y
[06:02:14] <jensen> I guess I need to add $stdin to the condition
[06:04:30] <akoana> jensen: I'd avoid set -e completely and do   cmd || exit 1   something instead; sounds tedious but saves you from set -e surprises...
[06:04:46] <emanuele6> what's the point of the $stdin variable?
[06:05:15] <emanuele6> case ${1:-$(< /dev/stdin)} in
[06:05:21] <emanuele6> but why don't you just use read?
[06:05:42] *** Quits: jos1 (~jos3@dyndsl-091-248-050-224.ewe-ip-backbone.de) (Ping timeout: 260 seconds)
[06:06:21] *** Quits: timj (~timj@user/timj) (Ping timeout: 245 seconds)
[06:07:25] *** Joins: Guest9645 (~Guest@host65.190-139-79.telecom.net.ar)
[06:11:37] <akoana> # set -e; ((n = 1)); echo "jensen: a suprising example"; ((--n)); echo "this won't be not printed"
[06:11:38] <shbot> akoana: jensen: a suprising example
[06:11:38] <shbot> akoana: (shell exited with 1)
[06:12:17] <akoana> s/not//
[06:14:55] <e36freak> won't not be not printed
[06:15:07] <jensen> interesting. greyca was right, set -e should generally be used if you intend to write a script for that
[06:15:08] <akoana> heh
[06:16:04] <akoana> jensen: set -e will bite you where you didn't expect it :)
[06:16:42] <Guest9645> what does set -e do?
[06:17:03] <e36freak> !set-e
[06:17:04] <greybot> "set -e" is an inheritance of the old bourne shell, and doesn't really work well with modern shell features. You'll really have less buggy scripts if you do the error handling manually instead of relying on the unreliable "set -e"; see http://mywiki.wooledge.org/BashFAQ/105
[06:17:27] *** Joins: jos1 (~jos3@dyndsl-178-142-068-225.ewe-ip-backbone.de)
[06:17:33] <Guest9645> thanks
[06:18:27] <Guest9645> why does it exit on "((--n))"?
[06:19:04] <e36freak> because --n when n is 1 expands to 0, which is false in an arithmetic context, so (( exits 1
[06:20:08] <Guest9645> interesting
[06:25:47] <greycat> The FAQ page talks about all of that.
[06:27:27] <Guest9645> nice, greycat; I was checking your page the other day: seems very complete
[06:28:31] *** Joins: prifici_ (~patri@user/prifici)
[06:30:00] *** Joins: reset (~reset@user/reset)
[06:30:43] *** Joins: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys)
[06:32:16] *** Quits: prifici (~patri@user/prifici) (Ping timeout: 252 seconds)
[06:33:34] *** Quits: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys) (Ping timeout: 258 seconds)
[06:36:58] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Ping timeout: 260 seconds)
[06:38:12] *** Quits: nemesis91 (~nemesis91@user/nemesis91) (Quit: hi)
[06:38:16] *** Quits: mooz (~none@23.254.112.158) (Ping timeout: 252 seconds)
[06:38:21] *** Quits: uc50ic4more (~uc50ic4mo@dyn216-8-130-29.ADSL.mnsi.net) (Quit: uc50ic4more)
[06:38:29] <hyrcanus>     /2
[06:39:14] *** Quits: jensen (~jensen@65.78.100.184) (Quit: WeeChat 3.3)
[06:40:01] *** Quits: jonakeys_ (jonathan@gateway/vpn/airvpn/jonakeys) (Quit: WeeChat 3.2.1)
[06:40:18] *** Joins: jonakeys (jonathan@gateway/vpn/airvpn/jonakeys)
[06:40:45] *** Joins: prifici (~patri@user/prifici)
[06:43:51] *** Quits: prifici_ (~patri@user/prifici) (Ping timeout: 245 seconds)
[06:44:56] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[06:45:20] *** Quits: ChmEarl (~chmearl@user/chmearl) (Quit: Leaving)
[06:46:49] *** Quits: greycat (~greg@209.142.155.49) (Quit: Bye)
[06:52:46] *** Joins: sublim20 (~sublim20@user/sublim20)
[06:55:31] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 245 seconds)
[06:57:36] *** Quits: gschanuel (~gschanuel@user/gschanuel) (Quit: Leaving)
[06:57:53] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[07:00:35] *** Quits: skapata (~Skapata@user/skapata) (Remote host closed the connection)
[07:00:54] *** Joins: yeirr (~yeirr@user/yeirr)
[07:07:32] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[07:08:17] *** Joins: semeion (~semeion@user/semeion)
[07:10:06] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 260 seconds)
[07:11:06] *** Quits: akoana (~ah@user/akoana) (Quit: leaving)
[07:12:49] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Quit: Something unexpected happened...)
[07:14:31] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[07:15:05] *** Quits: zeden (~zeden@user/zeden) (Quit: WeeChat 3.3)
[07:16:53] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 258 seconds)
[07:17:18] *** Quits: mixfix41 (~homefame@user/mixfix41) (Ping timeout: 265 seconds)
[07:19:05] *** Joins: mixfix41 (~homefame@user/mixfix41)
[07:19:57] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[07:20:46] *** Joins: vvang (~vvang@2001:da8:8008:116:60a9:f924:1103:6511)
[07:21:18] *** Quits: greknod28 (~grek@120.88.171.98) (Ping timeout: 260 seconds)
[07:29:39] *** Joins: semeion (~semeion@user/semeion)
[07:35:36] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[07:39:58] *** Quits: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net) (Ping timeout: 260 seconds)
[07:41:50] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 260 seconds)
[07:42:18] *** Quits: aaro (~aaro@user/aaro) (Ping timeout: 260 seconds)
[07:45:34] *** Quits: analoq (~yashi@user/dies) (Ping timeout: 260 seconds)
[07:45:50] *** Quits: CoreISP (~LvH@simplemachines/serverteam/CoreISP) (Quit: ZNC - https://znc.in)
[07:46:03] *** Joins: mooz (~none@23.254.112.158)
[07:47:02] *** Joins: analoq (~yashi@user/dies)
[07:49:25] *** Quits: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596) (Quit: Something unexpected happened...)
[07:55:52] *** Joins: hyper_ch (~hyper_ch@user/hyper-ch/x-8215596)
[08:00:33] *** Joins: CoreISP (~LvH@simplemachines/serverteam/CoreISP)
[08:03:01] *** Quits: Thanatermesis (~Thanaterm@191.92.148.122) (Ping timeout: 252 seconds)
[08:03:24] *** Joins: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net)
[08:12:10] *** Quits: nitro_ (~nitro@c-73-165-183-88.hsd1.pa.comcast.net) (Read error: Connection reset by peer)
[08:12:34] *** Joins: nitro_ (~nitro@c-73-165-183-88.hsd1.pa.comcast.net)
[08:15:21] *** Joins: befifo (~befifo@ec2-18-217-194-231.us-east-2.compute.amazonaws.com)
[08:16:51] *** Joins: sublim20 (~sublim20@user/sublim20)
[08:18:33] *** Joins: sandb0y (~pirate@user/sandb0y)
[08:21:34] *** Quits: vishal (~vishal@fedora/vishal) (Quit: ZNC 1.8.2 - https://znc.in)
[08:24:23] *** Joins: vishal (~vishal@fedora/vishal)
[08:24:36] *** Quits: semeion (~semeion@user/semeion) (Quit: WeeChat 3.3)
[08:24:55] *** Quits: n4dir (~user@mue-88-130-57-108.dsl.tropolys.de) (Remote host closed the connection)
[08:26:41] *** Joins: aaro (~aaro@user/aaro)
[08:30:01] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Remote host closed the connection)
[08:31:02] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[08:31:13] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[08:31:15] *** Joins: riff-IRC (~riff-IRC@user/riff-irc)
[08:32:08] *** Joins: totenkoph (~scythe@user/totenkoph)
[08:33:05] *** Quits: A|an (~Alan@173.216.51.200) (Quit: A|an)
[08:33:13] *** Joins: NataSa23F (~KELEBEK@188.119.58.106)
[08:33:38] * NataSa23F https://o11.me/P0idH my look web site why problem ?
[08:33:50] <hyrcanus> hi
[08:34:03] <hyrcanus> first, repent
[08:39:25] *** Quits: NataSa23F (~KELEBEK@188.119.58.106) (K-Lined)
[08:41:06] *** Quits: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net) (Ping timeout: 260 seconds)
[08:41:21] *** Quits: fling (~fling@user/fling) (Ping timeout: 245 seconds)
[08:42:30] <sublim20> forgive me father, for i have sinned.  i have used windows.
[08:42:47] *** Quits: sandb0y (~pirate@user/sandb0y) (Quit: Time for another great escape)
[08:48:26] *** Quits: sublim20 (~sublim20@user/sublim20) (Quit: Leaving)
[08:55:40] *** Quits: Guest9645 (~Guest@host65.190-139-79.telecom.net.ar) (Remote host closed the connection)
[08:56:01] *** Quits: aaro (~aaro@user/aaro) (Quit: WeeChat 3.3)
[08:57:28] *** Joins: Mo (~Mo@dynamic-077-008-071-228.77.8.pool.telefonica.de)
[08:58:34] *** aaro1 is now known as aaro
[09:08:10] *** Quits: yeirr (~yeirr@user/yeirr) (Ping timeout: 260 seconds)
[09:14:47] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Read error: Connection reset by peer)
[09:15:08] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[09:21:11] *** Quits: rgrinberg (~textual@ip11-246-50-179.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:25:38] *** Joins: mei (~mei@user/mei)
[09:27:11] *** Joins: yeirr (~yeirr@user/yeirr)
[09:31:35] *** Quits: Spawns_Carpeting (~Spawns_Ca@user/spawns-carpeting/x-6969421) (Ping timeout: 264 seconds)
[09:33:27] *** Joins: n4dir (~user@mue-88-130-57-108.dsl.tropolys.de)
[09:36:35] *** Joins: rendar (~rendar@user/rendar)
[09:41:51] *** Quits: gxt (~gxt@gateway/tor-sasl/gxt) (Ping timeout: 276 seconds)
[09:42:48] *** Joins: furrymcgee (~devuan@cgn-89-1-210-103.nc.de)
[09:43:34] *** Joins: gxt (~gxt@gateway/tor-sasl/gxt)
[09:43:38] *** Quits: mooz (~none@23.254.112.158) (Ping timeout: 260 seconds)
[09:43:42] *** Joins: lavaball (felix@31.204.155.215)
[09:47:37] *** Quits: pylong_ (~bluehoney@cpe-75-81-204-188.mi.res.rr.com) (Remote host closed the connection)
[09:48:32] *** Joins: bluehoney (~bluehoney@cpe-75-81-204-188.mi.res.rr.com)
[09:59:16] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 245 seconds)
[10:00:38] *** Joins: mooz (~none@23.254.112.158)
[10:05:27] *** Quits: ElPresidente (~ElPreside@2600:1700:3d10:4870:9815:b867:1c3c:f13d) (Quit: Leaving)
[10:06:33] *** Quits: redgloboli (~redglobol@user/redgloboli) (Quit: ...enter the matrix...)
[10:06:54] *** Joins: sublim20 (~sublim20@user/sublim20)
[10:10:41] *** Quits: lavaball (felix@31.204.155.215) (Remote host closed the connection)
[10:11:47] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 264 seconds)
[10:25:42] *** Joins: vanfanel640 (~vanfanel6@user/vanfanel64)
[10:25:56] *** Quits: chodonne (~chodonne@ec2-3-18-56-136.us-east-2.compute.amazonaws.com) (Quit: ZNC - https://znc.in)
[10:27:56] *** Joins: ianmacd (ianmacd@faust.caliban.org)
[10:27:59] *** Quits: richardm75 (~richardm7@2600:8801:c50a:9f00:bc35:f417:4e47:f1b0) (Ping timeout: 264 seconds)
[10:28:02] *** Joins: Ps1-Jack (psi-jack@user/psi-jack)
[10:28:02] *** Joins: Sketch_ (sketch@2604:180:2::a506:5c0d)
[10:28:03] *** Joins: colo_ (~colo@user/colo)
[10:28:04] *** Joins: cache (~cache@user/cacheyourdreams)
[10:28:05] *** Joins: makara1 (~makara@196.214.171.83)
[10:28:06] *** Joins: Mmike_ (~mario@li1411-253.members.linode.com)
[10:28:23] *** Quits: mei (~mei@user/mei) (Read error: Connection reset by peer)
[10:28:24] *** Joins: CrypticSquared (~CrypticS_@user/crypticsquared)
[10:28:49] *** Joins: Exagone313 (exa@irc.moe)
[10:28:52] *** Joins: mei (~mei@user/mei)
[10:28:54] *** Joins: Strykar_ (~wakka@signald/Strykar)
[10:29:33] *** Joins: friedrich_ (~friedrich@aextron.de)
[10:29:41] *** Quits: armands (~armands@46.109.8.165) (Ping timeout: 245 seconds)
[10:30:09] *** Joins: susi_ (owl@huumeet.info)
[10:30:20] *** Joins: przemoc86 (~przemoc@89-72-24-4.dynamic.chello.pl)
[10:30:20] *** Joins: eqw_ (~eqw@31.134.178.99)
[10:30:44] *** Joins: nanowire_ (rob@user/nanowire)
[10:30:51] *** Joins: Buliarou1 (~gypsydang@185.207.166.57)
[10:31:05] *** Joins: mikeputnam1 (~mikeputna@wilug/mikeputnam)
[10:31:42] *** Joins: chodonne (~chodonne@ec2-3-18-56-136.us-east-2.compute.amazonaws.com)
[10:33:36] *** Joins: arash- (arash@thinks.life.is-a.beauty)
[10:34:16] *** Quits: sinaowolabi_ (~SinaOwola@102.134.114.1) (Ping timeout: 245 seconds)
[10:34:30] *** Quits: sinaowolabi__ (~SinaOwola@102.134.114.1) (Ping timeout: 260 seconds)
[10:37:27] *** Joins: aniruddha (uid340443@id-340443.ilkley.irccloud.com)
[10:38:08] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 258 seconds)
[10:39:22] *** Joins: jetchisel (jetchisel@user/jetchisel)
[10:39:50] *** Quits: CrypticS_ (~CrypticS_@user/crypticsquared) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: colo (~colo@user/colo) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Mmike (~mario@user/mmike) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Exa (exa@irc.moe) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: cacheyourdreams (~cache@user/cacheyourdreams) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Strykar (~wakka@signald/Strykar) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: eqw (~eqw@31.134.178.99) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: vanfanel64 (~vanfanel6@user/vanfanel64) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: mikeputnam (~mikeputna@wilug/mikeputnam) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: przemoc (~przemoc@user/przemoc) (Ping timeout: 260 seconds)
[10:39:50] *** Exagone313 is now known as Exa
[10:39:50] *** Quits: nanowire (rob@user/nanowire) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: voldial (~user@user/voldial) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: obiwahn (~heini@user/obiwahn) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Naib (~j@user/naib) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Chaser (~Chaser@user/chaser) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: susi (owl@huumeet.info) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Guest2756 (ianmacd@faust.caliban.org) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: fructose (~fructose@user/fructose) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: csobot[m] (~csobotenv@2001:470:69fc:105::1:990) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Celeste[m] (~sleprainb@2001:470:69fc:105::3f4a) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: lkhn (~lkhn@user/lkhn) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: makara (~makara@196.214.171.83) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Psi-Jack (psi-jack@user/psi-jack) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Hash (~weechat@thestonedapes.com) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Buliarous (~gypsydang@185.207.166.57) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: friedrich (~friedrich@aextron.de) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Masklin_Gurder (~joel@h-155-4-23-152.A230.priv.bahnhof.se) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: Sketch (sketch@2604:180:2::a506:5c0d) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: arash (arash@thinks.life.is-a.beauty) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: laris (undead@37.221.209.36) (Ping timeout: 260 seconds)
[10:39:50] *** Quits: niko (~niko@libera/staff/niko) (Ping timeout: 615 seconds)
[10:39:50] *** Ps1-Jack is now known as Psi-Jack
[10:39:51] *** Sketch_ is now known as Sketch
[10:40:00] *** vanfanel640 is now known as vanfanel64
[10:40:08] *** Joins: laris (undead@37.221.209.36)
[10:40:20] *** Joins: Masklin_Gurder (~joel@h-155-4-23-152.A230.priv.bahnhof.se)
[10:41:40] *** Joins: WinterStar (~IceLight@user/icelight)
[10:41:43] *** Joins: obiwahn (~heini@user/obiwahn)
[10:41:46] *** Joins: niko (~niko@libera/staff/niko)
[10:41:50] *** Joins: Naib (~j@2.216.75.3)
[10:41:50] *** Quits: Naib (~j@2.216.75.3) (Changing host)
[10:41:50] *** Joins: Naib (~j@user/naib)
[10:42:38] *** Quits: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[10:43:03] *** Joins: Hash (~weechat@thestonedapes.com)
[10:43:05] *** Quits: pooby (~pooby@167.99.100.8) (Quit: WeeChat 3.3-dev)
[10:43:06] *** Joins: Chaser (~Chaser@user/chaser)
[10:43:36] *** Joins: shokohsc8 (~shokohsc@161.88.195.77.rev.sfr.net)
[10:43:38] *** Quits: ttys000 (~ttys000@user/ttys000) (Ping timeout: 246 seconds)
[10:43:44] *** Joins: voldial (~user@195.179.201.175)
[10:44:14] *** Joins: pooby (~pooby@167.99.100.8)
[10:44:29] *** arash- is now known as arash
[10:44:39] *** Quits: Hash (~weechat@thestonedapes.com) (Client Quit)
[10:46:06] *** Quits: mw_ (~mw@catv-80-98-128-161.catv.broadband.hu) (Remote host closed the connection)
[10:46:27] *** Joins: jkwnki (~jkwnki@p2e5793bc.dip0.t-ipconnect.de)
[10:47:04] *** Joins: mw__ (~mw@catv-80-98-128-161.catv.broadband.hu)
[10:47:11] *** Joins: lkhn (~lkhn@user/lkhn)
[10:47:29] *** Joins: csobot[m] (~csobotenv@2001:470:69fc:105::1:990)
[10:49:00] *** Joins: Celeste[m] (~sleprainb@2001:470:69fc:105::3f4a)
[10:49:58] *** Joins: sinaowolabi (~SinaOwola@169.159.73.139)
[10:52:34] *** Atque is now known as Atque[m]
[10:56:13] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[10:59:00] *** Quits: howdoi (uid224@id-224.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[11:00:30] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[11:01:06] *** Joins: totenkoph (~scythe@user/totenkoph)
[11:01:27] *** Joins: ElPresidente (~ElPreside@2600:1700:3d10:4870:9815:b867:1c3c:f13d)
[11:02:49] *** Joins: arinov (~arinov@213.194.126.155)
[11:03:30] *** Quits: natechan (~nate@108-233-125-227.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 265 seconds)
[11:04:14] *** Joins: zdn0lab (~zdenolab@ip-89-177-23-138.net.upcbroadband.cz)
[11:08:45] *** Joins: _Ev (~ev@user/ev/x-8999918)
[11:10:38] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[11:12:51] *** Quits: Atque[m] (~Atque@user/atque) (Ping timeout: 276 seconds)
[11:12:54] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[11:18:22] *** Quits: rcernin (~rcernin@124.190.139.235) (Ping timeout: 260 seconds)
[11:21:50] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 258 seconds)
[11:21:51] *** Joins: zro (~zro@user/zro)
[11:22:38] *** Quits: reset (~reset@user/reset) (Quit: reset)
[11:23:31] *** Quits: dionys (dionys@user/dionys) (Quit: dionys)
[11:25:05] *** Joins: Atque (~Atque@user/atque)
[11:33:03] *** Parts: susi_ (owl@huumeet.info) ()
[11:34:15] *** Quits: n4dir (~user@mue-88-130-57-108.dsl.tropolys.de) (Remote host closed the connection)
[11:36:43] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[11:37:22] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[11:38:45] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 260 seconds)
[11:40:08] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[11:41:45] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb)
[11:44:29] *** Quits: Rue (~rue@2001-b011-1000-12a8-e81a-0f23-98d2-5e33.dynamic-ip6.hinet.net) (Quit: WeeChat 3.3)
[11:44:53] *** Joins: Rue (~rue@2001-b011-1000-12a8-e81a-0f23-98d2-5e33.dynamic-ip6.hinet.net)
[11:48:36] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Quit: bye)
[11:50:19] *** Joins: mat001 (~mat001@213.143.69.121)
[11:51:40] *** Joins: mat001_ (~mat001@213.143.69.121)
[11:53:27] *** Quits: Rue (~rue@2001-b011-1000-12a8-e81a-0f23-98d2-5e33.dynamic-ip6.hinet.net) (Quit: WeeChat 3.3)
[11:53:51] *** Joins: Rue (~rue@2001-b011-1000-12a8-e81a-0f23-98d2-5e33.dynamic-ip6.hinet.net)
[11:54:16] *** Quits: xizhendu_ (~xizhendu@240e:404:8610:62b2:dadc::30c0) (Ping timeout: 245 seconds)
[11:54:46] *** Quits: mat001 (~mat001@213.143.69.121) (Ping timeout: 260 seconds)
[11:58:44] *** Joins: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7)
[12:03:07] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[12:04:03] *** Quits: mei (~mei@user/mei) (Read error: Connection reset by peer)
[12:04:41] *** Quits: wwallace (~afernande@63.240.73.102) (Remote host closed the connection)
[12:05:04] *** Joins: wwallace (~afernande@63.240.73.102)
[12:05:50] *** Joins: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is)
[12:06:05] *** Joins: earnestly (~earnest@user/earnestly)
[12:07:04] *** Quits: WinterStar (~IceLight@user/icelight) (Ping timeout: 258 seconds)
[12:07:22] *** Joins: Bhavuk (~BTaneja@106.210.225.50)
[12:08:06] *** Quits: totenkoph (~scythe@user/totenkoph) (Ping timeout: 276 seconds)
[12:08:57] *** Joins: WinterStar (~IceLight@user/icelight)
[12:09:53] *** Joins: shad (~shad@user/shad)
[12:10:54] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb) (Ping timeout: 258 seconds)
[12:12:14] *** Joins: brelod (~me@90.244.150.142)
[12:15:19] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.3)
[12:17:19] *** Joins: zro (~zro@user/zro)
[12:18:20] *** Quits: zro (~zro@user/zro) (Client Quit)
[12:18:40] *** Joins: zro (~zro@user/zro)
[12:21:52] *** Quits: joo (~joo@fsf/member/joo--) (Remote host closed the connection)
[12:25:19] *** Parts: Rue (~rue@2001-b011-1000-12a8-e81a-0f23-98d2-5e33.dynamic-ip6.hinet.net) (WeeChat 3.3)
[12:27:18] *** Joins: wolfgang (~wolfgang@101.174.167.116)
[12:29:46] *** Quits: mithrin (~mithrin@stip-static-62.213-81-207.telecom.sk) (Remote host closed the connection)
[12:30:00] *** Joins: mithrin (~mithrin@stip-static-62.213-81-207.telecom.sk)
[12:30:58] *** Joins: Hash (~weechat@thestonedapes.com)
[12:31:46] *** Joins: jkwnki2 (~jkwnki@p2e5793bc.dip0.t-ipconnect.de)
[12:31:47] *** Joins: jkwnki1 (~jkwnki@p2e5793bc.dip0.t-ipconnect.de)
[12:32:35] *** Joins: gr33n7007h (~gr33n7007@user/gr33n7007h)
[12:33:01] *** Quits: moto (~moto@user/moto) (Read error: Connection reset by peer)
[12:33:16] *** Joins: moto (~moto@user/moto)
[12:33:30] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Remote host closed the connection)
[12:33:42] *** Joins: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net)
[12:36:41] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Read error: Connection reset by peer)
[12:36:51] *** Joins: lonewulf` (~lonewulf@user/lonewulf)
[12:39:16] *** Quits: Bhavuk (~BTaneja@106.210.225.50) (Ping timeout: 258 seconds)
[12:46:35] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Read error: Connection reset by peer)
[12:46:55] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[12:47:03] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[12:47:30] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Client Quit)
[12:47:32] *** Joins: MiLeon (~MiLeon@HSI-KBW-078-042-179-074.hsi3.kabel-badenwuerttemberg.de)
[12:47:44] <MiLeon> hello. i have a question about find
[12:48:06] <Soliton> !find
[12:48:06] <greybot> http://mywiki.wooledge.org/UsingFind
[12:48:10] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[12:48:30] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[12:48:30] <MiLeon> Soliton, thank you
[12:49:58] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb)
[12:50:18] *** Joins: Bhavuk (~BTaneja@103.132.28.60)
[12:58:19] <Masklin_Gurder> !soliton
[12:58:19] <greybot> 'The unsung hero of #bash. Patience of an angel. Only intermittently sarcastic.'
[12:58:31] *** Joins: seninha (~seninha@user/seninha)
[12:58:40] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 260 seconds)
[12:58:55] *** Quits: jkwnki2 (~jkwnki@p2e5793bc.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[12:59:10] *** Quits: jkwnki1 (~jkwnki@p2e5793bc.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[13:00:24] <sublim20> sarcasm?  whats that?
[13:00:50] * sublim20 quietly slinks away
[13:01:23] <NRK[m]> !greybot
[13:01:23] <greybot> I'm a bot. I'm written in perl. My source, factoids, and stats are at http://wooledge.org/~greybot/ . See !help for a list of my commands. git mirror https://github.com/im14/greybot
[13:01:24] *** Joins: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[13:01:38] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[13:01:49] <MiLeon> !help
[13:01:49] <greybot> I can do: !faq {number|string}, !pf {number|string}, !learn key value, !meta key, !metaurl key, !forget key, !searchkeys string, !factstats, !faqstats, !faqpages, !date, !version. For help with Bash builtins, use "help command" in bash.
[13:02:07] <MiLeon> !learn find
[13:02:07] <greybot> usage: !learn key value...
[13:02:17] <MiLeon> !learn bash find
[13:02:18] <greybot> bash is already defined: The Bourne-Again Shell. Read the channel topic or type /msg greybot links for lots of links.
[13:02:24] <NRK[m]> " Sorry, we had to truncate this directory to 1,000 files. 622 entries were omitted from the list.
[13:02:24] <NRK[m]> "
[13:02:40] <NRK[m]> nice :D
[13:02:47] <MiLeon> :-)
[13:02:53] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[13:03:25] <MiLeon> what is meaned with !learn key value?
[13:05:19] <MiLeon> how can i understand !learn key value?
[13:05:43] <osse> It's how you teach the bot new things
[13:05:51] <MiLeon> ah ok
[13:06:07] <MiLeon> cool
[13:06:18] *** Joins: frostwork (~frostwork@user/frostwork)
[13:08:33] <Camusensei> I'm trying to sort some output but without sorting the header (first line). My attemps at using head doesn't work as it buffers way more than a line:
[13:08:36] <Camusensei> # seq 220 | { head -1; sort; }
[13:08:38] <shbot> Camusensei: one
[13:08:38] <shbot> Camusensei: ed and twenty
[13:10:55] *** Quits: sinaowolabi (~SinaOwola@169.159.73.139) (Ping timeout: 260 seconds)
[13:11:35] *** Joins: fling (~fling@user/fling)
[13:12:14] *** Quits: arinov (~arinov@213.194.126.155) (Ping timeout: 258 seconds)
[13:12:35] <Camusensei> # seq 3 | { read -r line; printf %s\\n "$line"; sort; } # seems to be overkill
[13:12:36] <shbot> Camusensei: one
[13:12:36] <shbot> Camusensei: three
[13:12:36] <shbot> Camusensei: two
[13:12:49] *** Joins: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae)
[13:13:38] <MiLeon> Camusensei, my idea is first the output in a array. then the output started on index 2
[13:14:38] <Camusensei> works for small things indeed, but for larger files, you may have not enough memory.
[13:17:36] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb) (Ping timeout: 245 seconds)
[13:18:51] <grondilu> how can I make the string "abc" from the array (a b c)?   I could unset IFS but I'd like to avoid a side effect further in my program.
[13:20:12] <Soliton> # printf %s a b c
[13:20:14] <shbot> Soliton: abc
[13:20:46] <grondilu> oh yeah there is this indeed
[13:20:59] <sublim20> yeah, printf '%s' "${arrayname[@]}"     though, wouldn't just "${arrayname[*]}"  also work
[13:21:17] <sublim20> listen to soliton, he is a much more informed person on this subject
[13:21:24] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb)
[13:23:14] <sublim20> got a question.  i have a bash script that is run from cron.   in this script, is an array of commands that will be run.  (the commands are stored this way, so a prompt can appear with 'do you want to run these commands')
[13:23:36] *** Parts: _Ev (~ev@user/ev/x-8999918) ()
[13:24:09] *** Joins: sinaowolabi (~SinaOwola@160.152.10.14)
[13:25:17] <sublim20> the commands work fine, EXCEPT for this one -> (rsync -ai --no-links --exclude '*/' /source/ /dest/)
[13:25:44] <sublim20> the exclusion doesn't work right, it works fine when run from the terminal.
[13:25:50] <pj> sublim20: show your code, please.
[13:25:59] <Soliton> sounds like missing quotes.
[13:26:05] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb) (Ping timeout: 260 seconds)
[13:26:07] <sublim20> probably, alrighty, lemme post it
[13:26:21] <pj> yes, or single quotes inside single quotes
[13:26:25] *** Quits: BrowseMan (~BrowseMan@78.130.185.116) (Ping timeout: 252 seconds)
[13:26:29] <sublim20> whats an acceptable to post the code
[13:26:33] <pj> !paste
[13:26:34] <greybot> Paste short snippets (<= 5 lines) in channel. Paste more using http://paste.debian.net/ or http://paste.wooledge.org/ or see !ix or !sprunge. Please don't use pastebin.com -- it's full of ads and mangles whitespace. NEVER upload screen shots. Don't use a site that requires Javascript, or registration to view raw.
[13:26:48] <sublim20> heh, there's an exclamation mark for everything!
[13:27:02] <sublim20> alright, one sec.
[13:27:12] <pj> yep, they're called factoids and yeah there's lots of them here.  Just about every channel on IRC has a paste factoid.
[13:27:14] *** Joins: legola (~legola@46.235.101.181)
[13:27:42] <sublim20> ahhh, don't really see them used in other channels, just here, and they're awesome
[13:27:59] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[13:28:08] <pj> interesting, we use them in just about every channel I frequent.
[13:29:28] <pj> I'm glad you like them.  There are people who find them impersonal, which I can understand, but when you end up answering the same question repeatedly it really helps a lot to have them.
[13:30:50] *** Joins: arinov (~arinov@31.142.50.8)
[13:31:14] *** Joins: bae (~ben@49.145.170.88)
[13:31:23] *** Quits: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead) (Quit: bye)
[13:32:24] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb)
[13:33:02] <bae> Quick question. I have two jobs suspended, and I want to call back the FIRST one I suspended. I typed 'jobs' and the job was listed as [1]. So I typed 'fg 1', but that didn't work. What am I doing wrong?
[13:33:42] *** Quits: causasui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net) (Ping timeout: 258 seconds)
[13:34:06] *** Quits: igemnace (~ian@user/igemnace) (Quit: WeeChat 3.3)
[13:34:56] <sublim20> heres the uploaded section of code that's failing.  -> http://paste.debian.net/1216099/
[13:35:11] <sublim20> there are other commands in the array, but for clarity they've been omitted
[13:36:46] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb) (Ping timeout: 245 seconds)
[13:36:54] <sublim20> basically, its a bash script, that's executed through cron, that prompts the user if they want to backup their stuff now
[13:38:20] *** Quits: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[13:38:22] *** Quits: dza (~dza@user/dza) (Ping timeout: 260 seconds)
[13:38:36] <pj> Well first off it's really not recommended to store and run commands that way, that said, I don't think that's your problem.
[13:38:59] *** Joins: ZarTek (~ZarTek@user/zartek)
[13:39:33] <hyrcanus> bae: i seem to recall that should work
[13:39:41] <sublim20> yeah, it does lead to a bunch of problems, and honestly could be done other ways, but by having the commands in array it makes editing / presenting the commands to run, easy
[13:40:18] <pj> I get the feeling that your problem may have to do with cron environment.  The first thing I would do, though is run it with -x so you get a good idea of what's really happening...
[13:40:20] <pj> !-x
[13:40:20] <greybot> set -x (or ''bash -x myscript'') makes bash output the exact command that it will run after parsing and expansion. You can put ''set -x'' just before the code you want to debug (turn off with ''set +x''). To add more information, change PS4 first: eg. PS4='+($?) $BASH_SOURCE:$FUNCNAME:$LINENO:'
[13:40:38] <bae> hyrcanus: but it doesn't
[13:41:05] <pj> bae: yeah, that should work.
[13:41:12] *** Joins: Carp (~rue@1-162-40-226.dynamic-ip.hinet.net)
[13:41:29] <bae> pj but it doesn't
[13:41:38] <hyrcanus> i don't know the answer bae but i didn't want you to feel ignored
[13:41:43] <pj> bae: I get that.
[13:42:10] <pj> I forground tasks that way all the time.
[13:42:18] *** Joins: dza (~dza@user/dza)
[13:42:24] <bae> hyrcanus my feelings are irrelevant
[13:42:53] <hyrcanus> it makes me happy to read that :)
[13:43:03] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[13:43:26] <hyrcanus> you still see both jobs when you type "jobs"?
[13:43:40] <lopid> and can you foreground it using another job spec?
[13:43:42] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[13:43:45] <bae> pj hyrcanus si, sen-yor
[13:43:57] <pj> bae: what exactly do you mean by "it didn't work"?  Does the task remain paused, or does it exit or do you get some error message or ?//
[13:43:59] <bae> lopid tried that
[13:44:06] <lopid> and the answer is…?
[13:44:21] <bae> pj I mean it loaded the LAST suspended job.
[13:45:03] <pj> okay, that is strange indeed.
[13:45:05] *** Quits: MiLeon (~MiLeon@HSI-KBW-078-042-179-074.hsi3.kabel-badenwuerttemberg.de) (Quit: Leaving)
[13:45:22] <bae> pj the number has no effect
[13:45:34] <pj> and the task you want remains paused?
[13:45:41] <lopid> show us what "jobs" gives
[13:45:45] <pj> as in it doesn't terminate or anything like that?
[13:45:47] <bae> OK
[13:46:32] <bae> 8% jobs
[13:46:33] <bae> [1]  - Suspended                     jove
[13:46:33] <bae> [2]  + Suspended                     irssi
[13:46:38] <pj> ohhhhhhh
[13:46:39] *** Joins: listen_ers (~user@c-98-240-233-64.hsd1.mn.comcast.net)
[13:46:56] <sublim20> using set -x, the built command is, rsync -ai --no-links --exclude ''\''*/'\''' /source/ /dest/      (those are all single quotes)
[13:47:12] *** Joins: MiLeon (~MiLeon@HSI-KBW-078-042-179-074.hsi3.kabel-badenwuerttemberg.de)
[13:47:23] *** Joins: dayday (uid520582@id-520582.hampstead.irccloud.com)
[13:47:39] <MiLeon> Camusensei, seq 22 | tail -21
[13:47:40] <lopid> bg it first
[13:47:44] <sublim20> so yeah, that's not right at all
[13:47:59] <geirha> Also, doesn't look like bash
[13:48:01] <bae> lopid OK
[13:48:10] <pj> I'm not sure what "suspended" means, but it should say "Stopped"
[13:49:03] <lopid> there are only two mentions of "suspended" in [my] bash manual
[13:49:25] *** Quits: wuseman (wuseman@user/wuseman) (Ping timeout: 258 seconds)
[13:49:43] *** Joins: olspookishmagus (~pookie@snf-137798.vm.okeanos.grnet.gr)
[13:50:26] <pj> bae: how did you suspend the job to begin with?
[13:50:47] <bae> pj ^z
[13:50:54] <lopid> echo "$SHELL"
[13:51:06] <bae> I'm in tcsh
[13:51:11] <pj> oh geez
[13:51:12] <lopid> :|
[13:51:21] *** Joins: JohnDoe2 (~johndoe2@2001:470:1f07:89::dead:bead)
[13:51:22] <pj> this channel is named #bash for a reason
[13:51:37] <bae> Hey, ever try to raise a pulse on #cshellz?
[13:51:44] <lopid> it doesn't stand for 'Bout Any SHell
[13:51:53] <djph> lopid: it may as well
[13:51:54] *** Quits: dza (~dza@user/dza) (Ping timeout: 260 seconds)
[13:51:55] <pj> you could have atl east led with "this is for tcsh"
[13:51:58] <bae> I ask a question about anything and wait DAYS
[13:52:13] <pj> so we didn't go chasing the wrong issue or anything.
[13:52:27] <lopid> instead you've wasted our and your time
[13:52:34] <bae> pj You would have told me to go away.
[13:52:39] <pj> you don't know that.
[13:53:01] <sublim20> this chats honestly really good at helping.  as long as your polite, clear, and concise
[13:53:03] <pj> and there are people in here who use tcsh, you might have gotten help from someone who knows the shell.
[13:53:12] <djph> ^
[13:53:19] <MiLeon> never used tcsh
[13:53:37] <MiLeon> what is tcsh? :-)
[13:53:47] <pj> !tcsh
[13:53:51] <lopid> regardless, you don't ask how to push an element onto a python array in a rust channel, and not mention you're using python
[13:53:53] <pj> hrmmmm, no factoid, okay
[13:53:57] <MiLeon> !tcsh
[13:54:01] <djph> MiLeon: 'not bash' :)
[13:54:05] <MiLeon> :-)
[13:54:13] <djph> lopid: maybe 'bae' does.
[13:54:25] <bae> You would have said, "it doesn't stand for 'Bout Any SHell"
[13:54:27] <lopid> it would seem so
[13:54:56] <bae> Ahhhhh...I needed 'fg [1]'
[13:55:10] <pj> bae: honestly I think this is a tcsh-specific issue.  What you are doing will work in bash, but since I don't know anything about tcsh I can't help you with your problem.  Maybe someone else in here can, or you can try a channel more appropriate to tcsh.
[13:55:19] <pj> bae: This is what I would have said ^^^^^
[13:55:30] <bae> I figured it out on my own.
[13:55:38] <pj> I'm glad you did
[13:55:55] <pj> but please if you need to ask a question about tcsh in the future at least lead with that.
[13:56:21] <bae> pj Now I'm going to #scheme to ask some questions about OCaml. Wish me luck!
[13:56:31] <pj> oh geez
[13:56:45] <sublim20> be sure to go to #linux and ask windows questions too
[13:56:45] * pj at least *thinks* you're joking about that.
[13:57:16] <bae> pj Yeah (OCaml? Who the f*ck uses that?)
[13:57:19] <djph> sublim20: that happens a bit too ofen
[13:57:25] <djph> *often
[13:57:31] <pj> not me, but then I don't use scheme either.
[13:57:36] <Camusensei> MiLeon: this doesn't reply to the need at all
[13:57:40] <bae> pj me either
[13:58:00] <djph> Camusensei: what're you trying to do?
[13:58:13] <pj> sublim20: what happens when you run that exact commanbd (from the set -x output) in the shell directly?
[13:58:46] <Camusensei> djph: I'm trying to sort some output but without sorting the header (first line)
[13:59:00] <Camusensei> # seq 220 | { head -1; sort; }
[13:59:02] <shbot> Camusensei: one
[13:59:02] <shbot> Camusensei: ed and twenty
[13:59:18] <pj> sublim20: actually I see exactly what's happening there.
[13:59:25] <sublim20> oooh
[13:59:36] <pj> look at the quoting around the arg after --exclude
[13:59:47] <pj> and consider what actually gets passed for that rg to rsync.
[13:59:50] <pj> *arg
[13:59:53] <sublim20> its --exclude '*/'
[14:00:24] <Camusensei> # seq 3 | { read -r line; printf %s\\n "$line"; sort; } # djph: this works but seems to be overkill
[14:00:25] <shbot> Camusensei: one
[14:00:25] <shbot> Camusensei: three
[14:00:25] <shbot> Camusensei: two
[14:00:26] <pj> well, more like: --exclude "'*/'"
[14:00:43] <pj> the "'"s are part of the arg, when I don't think you mean them to be.
[14:01:32] <sublim20> right, the array entry is written as ->  ("rsync --exclude '*/' blah blah ")    but the set -x says its trying to run, --exclude ''\''*/'\'''
[14:01:47] <sublim20> i dont understand why it'd change that
[14:02:25] <pj> yeah, well -x is showing a representation of what is actually being sent to the shell.  So it tries to show single quoted text, but when there's a "'" in that text it has to do '\'' to represent it.
[14:02:35] <Camusensei> sublim20: it doesn't change it, it represents it differently
[14:02:36] *** Quits: bae (~ben@49.145.170.88) (Ping timeout: 245 seconds)
[14:02:57] <pj> it's just that with so many 's it looks confusing.
[14:03:28] <sublim20> ok, but originally it was,  --exclude '*/'    and then it inserts a whole bunch of '
[14:03:45] <sublim20> for representation purposes, ok, i get that, but its inserting way more than it needs to
[14:03:51] <Camusensei> no, it was "'*/'" which is different
[14:03:51] <pj> it's making the 's part of the arg itself rather than quote marks to surround the arg.
[14:04:19] * sublim20 kind of understands
[14:04:46] <pj> sublim20: the thing is that when the shell expands variables that aren't quoted it does weird things sometimes and the rules of expansion aren't always what you think they will be.
[14:05:11] <sublim20> sure seems that way
[14:05:13] <sublim20> lol
[14:05:16] <pj> That's why we don't recommend doing commands that way.
[14:05:20] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb)
[14:05:30] <sublim20> oh yeah, totally, the relevant wooledge entry makes that VERY clear
[14:05:46] <Camusensei> sublim20: just remove the outer ""
[14:05:48] <rendar> `if ! sudo apt-get update; then ...` is this correct? i mean, it fails if fails apt-get right?
[14:05:57] <Camusensei> ok not "just"
[14:06:01] <pj> Camusensei: if he does that then he'll break his command.
[14:06:32] *** Joins: Ad1Tech (~Ad1Tech@h104101.man.tk-internet.pl)
[14:06:38] <sublim20> hmmph
[14:06:50] <Soliton> it looks like the plan is to have an array of commands which is a list of lists which is not something bash supports.
[14:07:19] <pj> rendar: sudo passes the return code from it's sub-command, the ! reverses the logic, so if the apt-get fails then it will run the "..."
[14:07:20] <Camusensei> rendar: If apt-get or sudo fails, the "then ..." part will be executed
[14:07:37] <Soliton> you can have a list of code strings though. which you basically have right now.
[14:07:37] <sublim20> the plan is this ->  have an array of commands, present these commands to the user and if accepted, run the commands in the array
[14:07:54] <Soliton> !weakness
[14:07:54] <greybot> http://mywiki.wooledge.org/BashWeaknesses
[14:08:32] <sublim20> reading that now
[14:08:48] <Soliton> if you're fine with a list of code strings then you need to use eval.
[14:09:00] <pj> sublim20: the appropriate way would be to put each command into its own array, but unfortunately bash doesn't have complex arrays.
[14:09:01] <Camusensei> and please do the   | tee -a "$logFile"   only once on the 'done'
[14:09:27] <Camusensei> yeah, eval or serialization with declare
[14:09:49] <gnoo> # args=("echo '*/' this") ; $args[@]; echo vs ; sh -c "$args[@]";
[14:09:50] <shbot> gnoo: '*/' this[@]
[14:09:50] <shbot> gnoo: vs
[14:09:50] <shbot> gnoo: */ this[@]
[14:10:04] <rendar> `rm -f "/etc/apt/sources.list.d/mongodb-org"*` is this the correct way to remove all files starting with that path? or.. it's useless having " " here?
[14:10:25] <Camusensei> gnoo: wtf
[14:10:26] <Soliton> quotes are not need but don't hurt.
[14:10:27] <gnoo> hmm, why is there a [@] in that output?
[14:10:32] <Camusensei> gnoo: {}
[14:10:50] <gnoo> ahh, i forgot those :-P
[14:11:15] <gnoo> # args=("echo '*/' this") ; ${args[@]}; echo vs ; sh -c "${args[@]}";
[14:11:16] <shbot> gnoo: '*/' this
[14:11:16] <shbot> gnoo: vs
[14:11:16] <shbot> gnoo: */ this
[14:11:19] <Camusensei> rendar: it's the right way. It would work even if there were spaces or special characters inside
[14:11:28] *** Joins: GuiToris (~GuiToris@user/guitoris)
[14:11:36] *** Quits: vaio (~gary@user/ghost) (Ping timeout: 276 seconds)
[14:11:37] <Camusensei> rendar: with this path though, you don't *need* the quotes.
[14:11:47] <rendar> i see, but they don't hurt
[14:11:53] <rendar> i agree with Soliton
[14:11:57] <sublim20> pj, yeah, in other instances when a command had to be built, the command was built in an array, and ran that way (as wooledge says to do).
[14:12:02] <Camusensei> gnoo: you forgot that "${args[@]}" ALWAYS needs to be quotes
[14:12:20] <Camusensei> quoted*
[14:12:28] <rendar> i think we can say the same for `if [[ -f "/sys/kernel/mm/transparent_hugepage/enabled" ]]; then`   quotes are not needed there, but they don't hurt
[14:12:38] <Soliton> yes.
[14:12:40] <GuiToris> hello, is this array ok? file=(!([0-5]).ogg !([2][6-9]).ogg)
[14:12:48] <Camusensei> rendar: correct
[14:13:00] <Soliton> GuiToris: you tell us?
[14:13:07] <sublim20> Camusensei, thanks for the tee advice.  code has been updated.
[14:13:09] <Soliton> i'd call it files, i guess.
[14:13:13] *** Joins: vaio (~gary@user/ghost)
[14:13:21] <GuiToris> Soliton, I'm asking, not telling
[14:13:24] <Camusensei> GuiToris: looks correct, have you printed it with   declare -p file  ?
[14:14:03] <Soliton> GuiToris: did you get a syntax error? what else should we guess is "ok" about it or not?
[14:14:07] <sublim20> so is there any way to accomplish my goal  (with some combination of quotes)  or should i abandon this methodology, and do it 'properly'
[14:14:22] <GuiToris> Camusensei, declare -p !([0-5]).ogg !([2][6-9]).ogg) like so?
[14:14:44] <Soliton> sublim20: again lists of lists are not supported but you can do a list of code strings.
[14:14:59] <GuiToris> Soliton, no, I didn't try it, because I wasn't sure if I can have multiple entries there, and whether the [2] can be alone
[14:15:10] <Camusensei> GuiToris: no it's not correct
[14:15:33] <Soliton> sublim20: you do have a code string right now with your rsync example. if you call eval on it it'll work. no clue about other commands you have.
[14:15:38] <Camusensei> GuiToris: there are lots of duplicates
[14:16:04] <sublim20> Soliton, that's why i tried with the entry,  commands+=("rsync -ai --no-links --exclude '*/' /source/ /dest/ ")   the other commands in the array work fine and don't have issues
[14:16:17] <GuiToris> Camusensei, I think I'll do the other way around then :)
[14:16:25] <GuiToris> thank you :)
[14:16:32] <Camusensei> GuiToris: no,   declare -p file   but it's maybe more readable to do  printf %s\\n "${file[@]}"
[14:16:36] <Soliton> sublim20: with your broken code that is missing quotes? doesn't help me to guess whether they're ok to eval.
[14:17:11] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb) (Ping timeout: 264 seconds)
[14:17:44] <sublim20> currently, instead of evaling, the entries in the command array are executed in a for loop with,   $command[i]
[14:18:30] <sublim20> (always avoids eval, cause 'eval is evil' has been drilled into my head)
[14:18:41] *** Quits: r00t^work (~r00t@82-198-216-115.briteline.de) (Ping timeout: 264 seconds)
[14:18:42] <Soliton> yes, again that does not help me to guess what they are and if they'd work with eval.
[14:18:45] <Camusensei> unquoted execution is even worse
[14:19:01] <geirha> without eval, those apostrophes around '*/' will not be treated as quotes
[14:19:09] <GuiToris> Camusensei, how about this? file=([5-9].ogg [1][0-9].ogg [2][0-5].ogg)
[14:19:25] <Camusensei> GuiToris: looks good now. no duplicates
[14:19:31] <sublim20> ok, the array entry is this.  commands+=("rsync -ai --no-links --exclude '*/' /source/ /dest/ ")
[14:19:32] *** Quits: enoq (~enoq@2a05:1141:1f5:5600:b9c9:721a:599:bfe7) (Quit: enoq)
[14:19:34] <GuiToris> Camusensei, thank you
[14:19:38] <Camusensei> still should be renamed to 'files' though :p
[14:19:54] <Soliton> sublim20: dude it does not help repeating the parts you already showed...
[14:20:01] <GuiToris> Camusensei, oh, it was a typo
[14:20:02] <GuiToris> thanks :)
[14:20:20] <Soliton> that part is a code string and works with eval. i'm not sure how often or else to say this.
[14:20:30] <sublim20> heh, Soliton, i dont mean to upset you, im trying my best, and my ignorance can be infuriating.
[14:20:33] <Soliton> you have to decide for a design.
[14:20:36] <Camusensei> GuiToris: simpler without the superfluous [] :   file=([5-9].ogg 1[0-9].ogg 2[0-5].ogg)
[14:21:01] <Soliton> a list of lists, i.e. a list of commands is not really possible in bash.
[14:21:09] *** Joins: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb)
[14:21:11] <Camusensei> sublim20: I can tell you're really trying to do things well, and that's very appreciable.
[14:21:35] <Soliton> and a list of strings you're going to subject to word splitting is not going to solve the problem in general.
[14:22:04] <GuiToris> Camusensei, ahhh indeed, I don't know why I haven't realized this!
[14:22:08] <GuiToris> thanks a lot! :)
[14:22:38] *** Quits: calaz (~calaz@user/calaz) (Quit: ZNC - https://znc.in)
[14:22:39] <sublim20> thank you Camusensei
[14:22:44] <sublim20> that means a lot
[14:22:50] <Soliton> you can do a list of code strings, i.e. shell code that you need to put in a string and properly quote it etc. then you can eval that. i have no clue if that is a workable solution for your use case.
[14:23:45] <Soliton> if this is about commands someone that understands the design writes it should be all fine. if it's random strings from user input or whatever it's terrible.
[14:23:58] <sublim20> it works now, with a simple eval Soliton.   geirha was right, by attempting to execute the code WITHOUT eval, as in, $command[i]  was causing the issue
[14:24:02] <sublim20> thank you all for the help
[14:24:36] <Camusensei> sublim20: the last 2 messages from Soliton are really important, even if it works, read them and imprint them into your brain ROM
[14:24:37] <geirha> also, since you're using zsh instead of bash, it probably didn't even word split it
[14:24:37] <Soliton> the point i was trying to make is that you have to review the other commands that are now also subject to eval.
[14:25:13] <Soliton> they're using zsh?
[14:25:17] <sublim20> no,  bash.
[14:25:25] <geirha> they must be, otherwise $command[i] would be any use
[14:25:33] <geirha> *wouldn't
[14:25:38] <Soliton> i just ignored the syntax.
[14:25:42] <Camusensei> same
[14:25:49] <Soliton> they did paste some code earlier.
[14:26:04] <sublim20> its inside a for loop, looping over the indexes of the array
[14:26:46] <Camusensei> $command[i] was pseudo code for   for thisOne in "${commands[@]}"; do ...; $thisOne; ...; done
[14:27:06] <geirha> aha
[14:27:20] <sublim20> yeah, that's the intended meaning.  apologies if its confusing
[14:27:30] <sublim20> <--- is far from an expert
[14:27:47] <Camusensei> also far from a beginner from what I can tell
[14:27:57] *** Joins: BSaboia (~bsaboia@187.19.138.198)
[14:28:09] <sublim20> woohoo!
[14:28:11] * sublim20 levels up
[14:28:48] <sublim20> thanks for the help everyone, it's working as intended now.  the pitfalls of using eval on the entries of an array is understood, and in this particular instance, will not be an issue
[14:29:10] <Camusensei> *thumb up*
[14:29:24] *** Quits: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net) (Ping timeout: 265 seconds)
[14:30:12] <sublim20> btw, the wooledge site is incredibly valuable
[14:30:21] <sublim20> all killer.  no filler.
[14:30:52] <sublim20> which, unfortunately, a lot of sites could learn from
[14:31:37] <sublim20> and a lot of the printed books on programming.  500 page tomes filled with needless words / stories / etc.
[14:32:29] *** Quits: vaio (~gary@user/ghost) (Remote host closed the connection)
[14:32:57] *** Joins: vaio (~gary@user/ghost)
[14:33:45] <GuiToris> Camusensei, it took time, but I think I finally understood what you meant; files=([5-9].ogg 1[0-9].ogg 2[0-5].ogg);  declare -p files
[14:33:57] <Camusensei> ^^
[14:36:59] *** Quits: dsrt^ (~dsrt@68.101.53.15) (Ping timeout: 264 seconds)
[14:39:32] *** Joins: MenschZwoNull_ (~MenschZwo@p200300c85722e00013f4c05e9b2d0d55.dip0.t-ipconnect.de)
[14:40:53] *** Quits: MenschZwoNull (~MenschZwo@p200300c85721c700bb30fc78c1cc4ec2.dip0.t-ipconnect.de) (Ping timeout: 268 seconds)
[14:40:56] *** Quits: arinov (~arinov@31.142.50.8) (Ping timeout: 245 seconds)
[14:42:10] *** Joins: vee (~vee@c-73-71-90-145.hsd1.ca.comcast.net)
[14:43:08] *** Joins: xizhendu_ (~xizhendu@240e:305:7380:4300:d47:48bf:97c5:2de9)
[14:43:28] *** Quits: shad (~shad@user/shad) (Ping timeout: 258 seconds)
[14:44:07] *** Joins: off^ (~off@68.101.53.15)
[14:46:02] *** Joins: alzgh (~alzgh@user/alzgh)
[14:59:37] *** Quits: GuiToris (~GuiToris@user/guitoris) (Remote host closed the connection)
[15:03:24] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 258 seconds)
[15:05:17] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[15:08:13] *** Joins: skapata (~Skapata@2804:14c:87b0:a6f9:d443:ec89:31b2:d95b)
[15:08:13] *** Quits: skapata (~Skapata@2804:14c:87b0:a6f9:d443:ec89:31b2:d95b) (Changing host)
[15:08:13] *** Joins: skapata (~Skapata@user/skapata)
[15:12:28] *** Quits: MiLeon (~MiLeon@HSI-KBW-078-042-179-074.hsi3.kabel-badenwuerttemberg.de) (Quit: Leaving)
[15:15:43] *** Joins: standardrat (~standardr@165.73.178.6)
[15:16:35] *** Quits: yeirr (~yeirr@user/yeirr) (Ping timeout: 264 seconds)
[15:21:02] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 260 seconds)
[15:23:07] *** Joins: BrowseMan (~BrowseMan@78.130.185.116)
[15:23:10] *** Joins: JustLandedOnMars (question@user/question)
[15:23:11] <JustLandedOnMars> hi
[15:23:22] <JustLandedOnMars> I think I found bug
[15:26:12] *** Joins: Administratorte (~sq@tempest.math.colostate.edu)
[15:26:39] <geirha> It's probably just a feature
[15:26:52] *** Joins: yeirr (~yeirr@user/yeirr)
[15:27:58] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 252 seconds)
[15:28:34] *** Joins: Crescendo (~Crescendo@user/crescendo)
[15:29:11] *** Joins: shad (~shad@user/shad)
[15:30:42] <JustLandedOnMars> right
[15:30:56] <JustLandedOnMars> if I put in .bashrc this:
[15:31:11] <JustLandedOnMars> alias new="```"
[15:31:19] <JustLandedOnMars> and start new bash it waits 2 seconds than prints:
[15:31:25] <JustLandedOnMars> bash: xmalloc: braces.c:771: cannot allocate 79219 bytes (2910756864 bytes allocated)
[15:31:32] <JustLandedOnMars> and then closes
[15:31:57] *** Joins: zouhair (~zouhair@lnsm3-montreal02-142-119-71-187.internet.virginmobile.ca)
[15:32:43] <Soliton> !hurts
[15:32:43] <greybot> "Doctor, it hurts when I bend my arm this way!"
[15:32:44] <geirha> well, you have an unclosed ` there
[15:33:35] <ormaaj> for any alias name?
[15:33:52] <Soliton> seems odd that that would make bash run out of memory though. or whatever is happening there.
[15:34:01] <Soliton> # alias new="```"
[15:34:07] <geirha> it could probably have failed more gracefully though, like when it reaches the end of .bashrc it could complain about unexpected EOF instead
[15:34:09] <shbot> Soliton: Missing terminating quote, bracket or keyword
[15:34:09] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Ping timeout: 276 seconds)
[15:34:24] <ormaaj> Testing bugs with your bashrc hardly isolates what's happening.
[15:35:04] *** Quits: vaio (~gary@user/ghost) (Remote host closed the connection)
[15:35:10] <geirha> it also has an open " inside that `  which "flips" following quotes
[15:35:26] <geirha> so yeah, just don't do that
[15:35:31] *** Joins: zeden (~zeden@user/zeden)
[15:35:32] *** Joins: vaio (~gary@user/ghost)
[15:36:24] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[15:38:03] *** Joins: xiao (~xiao@37.164.209.191)
[15:39:05] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Ping timeout: 260 seconds)
[15:39:08] <ormaaj> # bash -c '$(</dev/zero)'
[15:39:15] <shbot> ormaaj: bash: line 1: warning: command substitution: ignored null byte in input
[15:39:53] <ormaaj> Hm.
[15:40:37] *** Joins: AquaL1te (~AquaL1te@user/aqual1te)
[15:42:23] *** Joins: rcernin_ (~rcernin@124.190.139.235)
[15:43:22] *** Quits: zdn0lab (~zdenolab@ip-89-177-23-138.net.upcbroadband.cz) (Remote host closed the connection)
[15:44:20] *** Quits: rcernin (~rcernin@2001:8003:6803:db00:3cb3:e069:6931:77eb) (Ping timeout: 260 seconds)
[15:49:44] *** Quits: sinaowolabi (~SinaOwola@160.152.10.14) (Read error: Connection reset by peer)
[15:50:06] *** Quits: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072) (Remote host closed the connection)
[15:50:30] *** Joins: bob_x1 (~bob_x@gateway/tor-sasl/bobx1/x-26457072)
[15:50:50] *** Joins: TomyWork (~TomyLobo@p200300e80f06af00f0244ecf6a801643.dip0.t-ipconnect.de)
[15:51:23] *** Joins: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com)
[15:53:11] *** Quits: off^ (~off@68.101.53.15) (Ping timeout: 264 seconds)
[15:53:20] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[15:53:37] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 258 seconds)
[15:54:03] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[15:54:18] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[15:56:13] *** Joins: gareppa (~gareppa@user/gareppa)
[15:56:15] *** Quits: geirha (~geirha@user/geirha) (Quit: WeeChat 2.8)
[15:57:40] *** Quits: gareppa (~gareppa@user/gareppa) (Remote host closed the connection)
[16:00:25] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Read error: Connection reset by peer)
[16:00:31] *** Quits: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4) (Ping timeout: 245 seconds)
[16:00:43] *** Joins: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au)
[16:02:48] *** Joins: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[16:04:15] *** Quits: rcernin_ (~rcernin@124.190.139.235) (Quit: WeeChat 3.3)
[16:04:16] *** Joins: totenkoph (~scythe@user/totenkoph)
[16:04:49] *** Quits: useretail (~useretail@185.132.19.151) (Read error: Connection reset by peer)
[16:05:17] *** Joins: fdan (~fdan@103.215.168.1)
[16:06:29] *** Joins: useretail (~useretail@185.132.19.151)
[16:07:42] *** Quits: jkwnki (~jkwnki@p2e5793bc.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[16:09:05] *** Joins: geirha (~geirha@user/geirha)
[16:09:25] *** Quits: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[16:10:33] *** Joins: xiongxin (~quassel@119.123.103.160)
[16:11:07] *** Quits: BSaboia (~bsaboia@187.19.138.198) (Quit: Leaving)
[16:11:27] *** Joins: jkwnki (~jkwnki@p2e5793bc.dip0.t-ipconnect.de)
[16:13:33] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[16:16:18] *** Joins: BSaboia (~bsaboia@187.19.138.198)
[16:17:00] *** Quits: xiongxin (~quassel@119.123.103.160) (Read error: Connection reset by peer)
[16:18:04] *** Joins: xiongxin (~quassel@119.123.100.49)
[16:18:11] *** Quits: seninha (~seninha@user/seninha) (Remote host closed the connection)
[16:18:15] *** Quits: BSaboia (~bsaboia@187.19.138.198) (Client Quit)
[16:19:53] *** Quits: zro (~zro@user/zro) (Quit: WeeChat 3.3)
[16:20:13] *** Quits: Atque (~Atque@user/atque) (Remote host closed the connection)
[16:20:14] *** Joins: zro (~zro@user/zro)
[16:21:32] *** Joins: Atque (~Atque@user/atque)
[16:23:25] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[16:23:54] *** Joins: igemnace (~ian@user/igemnace)
[16:25:35] *** Quits: legola (~legola@46.235.101.181) (Remote host closed the connection)
[16:29:16] *** Joins: bomb-on (~bomb-on@194.144.47.113)
[16:29:48] *** Joins: legola_ (~legola@46.235.101.181)
[16:30:52] *** Joins: gxt_ (~gxt@gateway/tor-sasl/gxt)
[16:33:18] *** Quits: gxt (~gxt@gateway/tor-sasl/gxt) (Ping timeout: 276 seconds)
[16:36:35] *** Joins: mei (~mei@user/mei)
[16:39:04] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[16:39:29] *** Quits: kj (~kj@kj.aerisnetwork.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:39:39] *** Joins: thiras (~thiras@user/thiras)
[16:39:57] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[16:40:09] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Remote host closed the connection)
[16:41:27] *** Joins: BSaboia (~bsaboia@187.19.138.198)
[16:41:29] *** Joins: carlos (~pum@user/carlos)
[16:42:28] *** Joins: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com)
[16:44:29] *** Quits: prifici (~patri@user/prifici) (Quit: Off to work or bed.)
[16:46:00] *** Joins: off^ (~off@68.101.53.15)
[16:47:13] *** Joins: GNUHacker (~foobar@fsf/member/GNUHacker)
[16:47:22] *** Joins: dza (~dza@user/dza)
[16:49:21] *** Joins: DeaDSouL (~DeaDSouL@45.130.136.155)
[16:52:40] *** Joins: nyex (~Thunderbi@177.84.107.41)
[16:54:17] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[16:54:23] *** Joins: seninha (~seninha@user/seninha)
[16:59:04] *** Quits: bomb-on (~bomb-on@194.144.47.113) (Quit: aллилѹіа!)
[16:59:07] *** Quits: vvang (~vvang@2001:da8:8008:116:60a9:f924:1103:6511) (Quit: Leaving)
[17:00:41] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Remote host closed the connection)
[17:01:55] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Ping timeout: 256 seconds)
[17:02:13] *** Quits: fdan (~fdan@103.215.168.1) (Quit: Client closed)
[17:02:42] *** Joins: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03)
[17:04:17] *** Quits: mtk (~mtk@2601:185:200:72:44aa:53fe:886b:bee9) (Remote host closed the connection)
[17:05:02] *** Joins: semeion (~semeion@user/semeion)
[17:05:28] *** Joins: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi)
[17:07:10] *** Quits: jdltouraine (~jdltourai@2a02:a03f:847b:b800:913c:73e9:9979:f03) (Ping timeout: 260 seconds)
[17:07:47] *** Quits: mei (~mei@user/mei) (Read error: Connection reset by peer)
[17:07:53] *** Joins: Thanatermesis (~Thanaterm@191.92.148.122)
[17:08:47] *** Joins: mtk (~mtk@2601:185:200:72:44aa:53fe:886b:bee9)
[17:10:57] *** Quits: herjazz (~herjazz@p6758124-ipngn30801marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[17:11:47] *** Quits: CrypticSquared (~CrypticS_@user/crypticsquared) (Ping timeout: 264 seconds)
[17:15:21] *** Joins: greknod28 (~grek@120.88.171.98)
[17:16:22] *** Joins: foo (~foo@user/foo/x-8763512)
[17:16:25] *** Quits: xiongxin (~quassel@119.123.100.49) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[17:16:39] <foo> Odd, I have read -p "Text" deploy ... shouldn't that pause each iteration in a while loop? It's not.
[17:17:15] <foo> https://bpa.st/2OKQ
[17:17:40] <emanuele6> read is reading from $file
[17:18:05] <foo> emanuele6: oh. What are my options here?
[17:18:26] <emanuele6> foo: use 3< "$file" instead of < $file
[17:18:27] <foo> emanuele6: I suppose I could add to a list or such first?
[17:18:36] <emanuele6> and then read with read -r f <&3
[17:18:56] <emanuele6> !qefs > also,
[17:18:56] <greybot> also,: "$Quote" "$Every" "$Fucking" "$Substitution"
[17:20:36] <foo> emanuele6: appreciate it: https://bpa.st/JDOQ -> seems to work, believe I quoted properly (and don't need to *only* quote the substitution)
[17:20:43] <foo> emanuele6: now, what does the 3 signify? :)
[17:21:51] <emanuele6> 3< "$file" opens "$file" on file descriptor 3 for the while loop
[17:22:07] <emanuele6> and <&3 sets read's stdin to file descriptor 3
[17:22:12] <Soliton> files is an odd variable name for a single file.
[17:22:36] <foo> Soliton: it's a list of files.
[17:22:49] <foo> Soliton: eg. a text file with each line representing a file path
[17:22:50] <emanuele6> it looks like a variable to me
[17:22:52] <emanuele6> not an array
[17:23:07] <foo> emanuele6: thank you for explaining that, I haven't done that before. Cool. (And I see the need)
[17:23:08] <emanuele6> also an array there wouldn't make sense
[17:23:32] <foo> also to be clear, files=$1 ... I feed in a txt file with a list of files to act on
[17:23:46] <emanuele6> foo: in bash, you could also pass -u3 to read instead of using <&3
[17:24:13] *** Quits: DeaDSouL (~DeaDSouL@45.130.136.155) (Quit: leaving)
[17:24:13] *** Joins: mei (~mei@user/mei)
[17:24:22] <Soliton> why not just read stdin. then the caller can put there whatever they want.
[17:24:57] *** Joins: jetchisel (jetchisel@user/jetchisel)
[17:25:17] <foo> emanuele6: ah, thanks.
[17:25:24] <Soliton> NUL delimited might be nicer than newline, too.
[17:25:27] *** Joins: DeaDSouL (~DeaDSouL@45.86.203.25)
[17:25:36] <foo> Soliton: that comment is a little above my head, right now I do something like this: ./deploy-my-files.sh my-list-of-files.txt
[17:26:00] <foo> my-list-of-files.txt is the output of git diff --name-only <commitID>
[17:26:18] <foo> ... so I can migrate files that are modified to production
[17:26:30] <foo> We have a team that works on their own repo which mimics our core codebase (but is not our full codebase)
[17:26:35] <Blondie101010> \n delimited is fine, and those who put a \n in their filenames deserve any problem that may be coming their way
[17:27:32] <emanuele6> i disagree
[17:27:49] *** Quits: DeaDSouL (~DeaDSouL@45.86.203.25) (Client Quit)
[17:27:58] <Blondie101010> why the heck would you accept "\n" in a filename?
[17:28:16] <emanuele6> foo: either way, you probably want to use IFS= with the read that is reading from $files and to use -- in the diff and rsync command
[17:28:17] <Soliton> because the filesystem allows it.
[17:29:16] <mindhunter> Why is backslash ommited from the output when perfrom a brace expansion using {A..z}. The characters are displayed contiguously but backslash appears to be missing
[17:29:23] <foo> emanuele6: ahh, right. I believe you simply mean putting IFS=$'\n' at the top of my code
[17:29:27] <Blondie101010> usage and coding standards are not inherited by the FS...  they simply depend on them, not the other way around
[17:29:37] <emanuele6> foo: i don't.
[17:30:13] <emanuele6> # <<< '/path/to/file/with/trailing/space   ' read -r; declare -p REPLY
[17:30:14] <Blondie101010> no, that would break your current shell unless you revert it
[17:30:16] <shbot> emanuele6: declare -- REPLY="/path/to/file/with/trailing/space   "
[17:30:20] <emanuele6> # <<< '/path/to/file/with/trailing/space   ' IFS= read -r; declare -p REPLY
[17:30:21] <shbot> emanuele6: declare -- REPLY="/path/to/file/with/trailing/space   "
[17:30:35] <emanuele6> right, but you are not using REPLY
[17:30:41] <emanuele6> # <<< '/path/to/file/with/trailing/space   ' read -r file; declare -p REPLY
[17:30:43] <shbot> emanuele6: bash: declare: REPLY: not found
[17:30:52] <emanuele6> err
[17:30:54] <emanuele6> # <<< '/path/to/file/with/trailing/space   ' read -r file; declare -p file
[17:30:56] <shbot> emanuele6: declare -- file="/path/to/file/with/trailing/space"
[17:30:59] <emanuele6> # <<< '/path/to/file/with/trailing/space   ' IFS= read -r file; declare -p file
[17:31:01] <shbot> emanuele6: declare -- file="/path/to/file/with/trailing/space   "
[17:31:40] <emanuele6> foo: see, if you name the read variable and don't set IFS to empty, it will trim trailing and leading spaces and tabs
[17:31:42] <foo> emanuele6: ah, I understand that as setting the separator. Is there a more appropriate way of adding it that you're referring to?
[17:31:48] *** Joins: malina (~malina@user/malina)
[17:31:51] <foo> emanuele6: ahh
[17:32:23] *** Quits: MetaNova (zero-one@znc/supporter/metanova) (Quit: quit)
[17:32:41] <emanuele6> and you want to use -- for the diff and the rsync
[17:32:55] <emanuele6> diff -- "$f" "$sky_root$f"
[17:33:10] <emanuele6> !--
[17:33:10] <greybot> The special option -- means "end of options" to every POSIX command except echo and test, and to many other commands. E.g. «mv -- *.png /somedir» (in case one of the filenames begins with "-"). See <http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap12.html#tag_12_02> and <http://wiki.bash-hackers.org/dict/terms/end_of_options>
[17:33:25] *** Quits: gxt_ (~gxt@gateway/tor-sasl/gxt) (Remote host closed the connection)
[17:33:35] <emanuele6> otherwise your input could inject options
[17:33:47] *** Quits: aniruddha (uid340443@id-340443.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[17:34:02] <foo> emanuele6: I just checked the man page on diff for -- ... my goodness, I've been tolerating that for 2 decades. How have I not seen that -- sooner, heh. Thank you.
[17:34:05] *** Joins: gxt_ (~gxt@gateway/tor-sasl/gxt)
[17:34:35] *** Joins: MetaNova (zero-one@znc/supporter/metanova)
[17:35:35] <foo> emanuele6: considering each line in my files I'm feeding is: some/file/here.txt ... I think it's ok if read strips beginning/trailing whitespace? I mean, there shouldn't be any, but if it does I think that's ok or do you see an issue here?
[17:36:03] <Blondie101010> how do you know if it's part of the filename or not?
[17:36:28] *** Quits: AquaL1te (~AquaL1te@user/aqual1te) (Quit: leaving)
[17:36:35] <Blondie101010> the first step is always to make sure your data and input is clean
[17:36:58] <foo> Blondie101010: for that to be true, there would have to be a space after the file extension, correct?
[17:37:19] <Blondie101010> you should forget that the concept of extensions exists
[17:37:21] <Blondie101010> it's fake
[17:37:40] <emanuele6> imagemagick disagrees
[17:37:46] <emanuele6> and many other programs too
[17:37:56] <foo> Blondie101010: STOP IT! YOU ARE MESSING WITH THE WORLD I'VE KNOWN FOR 25 YEARS!
[17:37:58] <foo> :)
[17:38:03] <foo> Point taken, thank ya'll.
[17:38:04] <Blondie101010> not saying it is not used
[17:38:29] *** Quits: Hash (~weechat@thestonedapes.com) (Quit: WeeChat 3.3)
[17:38:31] <Blondie101010> but it is not a constraint or reliable in any way
[17:39:37] <twkm> there are no extensions in posix, just textual suffixes.
[17:39:38] <wwalker> Blondie101010 is right, file extensions are unreliable.  They can be typoed, the file can be a png yet end in .gif, etc.
[17:41:28] <Blondie101010> foo:  echo 'hello' > $'this is a awfull.txt file\nname '
[17:41:46] *** Joins: Hash (~weechat@protect.yourself.with.hashsecurity.org)
[17:41:53] <Soliton> # echo \  # mindhunter
[17:41:54] <shbot> Soliton: no output
[17:41:55] <foo> Blondie101010: you've clearly lived a hard life. my life was clean and pretty before you.
[17:42:07] <emanuele6> i guess mywiki.wooledge.org is not written in emacs org-mode :)
[17:43:45] <foo> Ok, here's the glorious 25 lines: https://bpa.st/42PA
[17:43:55] <foo> I wish I could get the filename in the less on line 15, I can't seem to find a flag for diff.
[17:44:08] <foo> Blondie101010: Please excuse my humor, coffee is kicking in. I understand.
[17:44:34] <emanuele6> !check https://bpa.st/42PA
[17:44:35] <checkbot> emanuele6: Line 20: read without -r will mangle backslashes. Line 25: Double quote to prevent globbing and word splitting. See https://shellcheck.net/?id=cb39275
[17:45:45] <foo> hey, !check works on bpa.st - that's cool.
[17:45:52] <twkm> never understand: foo=$1 but foo is only ever used once.
[17:46:35] *** Joins: causa_sui (~causasui@c-68-60-125-136.hsd1.mi.comcast.net)
[17:46:50] <wwalker> foo: do you know about vimdiff?
[17:46:51] *** Joins: superboot (~agentgasm@user/superboot)
[17:47:01] *** Joins: hqdruxn08_ (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com)
[17:47:07] <foo> twkm: Fine. I changed it. You grumpy person. /me hands you a coffee
[17:47:16] *** Quits: nyex (~Thunderbi@177.84.107.41) (Remote host closed the connection)
[17:47:17] <mindhunter> Soliton: so the expansion is unquoted but quoting it would make the string literal
[17:47:19] <foo> twkm: Just kidding, I've been a receiver of your helpful grumps for decades.
[17:47:24] <foo> twkm: ... thank you.
[17:47:28] *** Joins: drd (~drd@93-42-69-115.ip85.fastwebnet.it)
[17:47:30] <foo> wwalker: negative
[17:48:43] <emanuele6> foo: files=${1?you must provide an argument}
[17:48:45] <superboot> Is it possible to change the blink rate for blinking text?
[17:48:46] <wwalker> take a file, make a copy , do a couple of edits on the copy, then run :  vimdiff original original.copy     Assuymming you use vim, it is WAY better than "diff | less"
[17:48:46] <Blondie101010> foo:  if you want to include the filename, include it: (echo "$f"; diff -- "$f" "${sky_root}${f}") | less
[17:49:23] <twkm> weird mix of braces where not needed or no braces where allowed.
[17:49:24] <Soliton> mindhunter: brace expansion is mostly a shortcut for interactive use. {A..z} is weird to begin with. whatever you're doing brace expansion is probably not the thing to use.
[17:49:49] <emanuele6> superboot: https://en.wikipedia.org/wiki/ANSI_escape_code
[17:50:08] <wwalker> superboot: that is a function of the terminal  (xterm, gnometerminal, etc).  I know xterm let's you change the blink speed of the cursor, never looked for the blink speed
[17:50:30] <Soliton> foo: personally, i would either expect the list of files as arguments or NUL delimited on stdin.
[17:50:54] <emanuele6> ^
[17:50:55] <mindhunter> Soliton: I was just experimenting to see if i could print sequences in backwards using brace expansion
[17:50:55] *** Quits: hqdruxn08 (~hqdruxn08@cpe-66-68-166-214.austin.res.rr.com) (Ping timeout: 252 seconds)
[17:50:59] <wwilliam> this is just printing the numbers, how do i print the files that have those numbers in  the file name please?
[17:51:00] <wwilliam> for file in *.zip;do if [[ $file =~ http://en.wikipedia.org/wiki/Special:Search?go=Go&search=:digit:{14} ]]; then x=${BASH_REMATCH[0]};printf '%s\n' "$x";fi;done
[17:51:19] <wwilliam> uggh again that wikipedia stuff :(
[17:51:23] *** Quits: dayday (uid520582@id-520582.hampstead.irccloud.com) (Ping timeout: 264 seconds)
[17:51:23] *** Quits: rustyshackleford (uid236774@id-236774.helmsley.irccloud.com) (Ping timeout: 264 seconds)
[17:51:30] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Ping timeout: 260 seconds)
[17:51:39] <foo> Soliton: the files are pre-generated, though. Not sure I can pass off manual files as arguments - if I'm following you
[17:51:40] <Soliton> so one day disable that feature in your client...
[17:51:52] <foo> Blondie101010: thank you, I tried echo "$f" && diff.... but that didn't work, I see what you did. Thank you.
[17:52:01] <Blondie101010> np
[17:52:14] <foo> twkm: was your curly comment related to ${sky_root}${f} ? If $sky_root$f works too, I could do that. I thought I needed to separate with {}
[17:52:23] <foo> emanuele6: not sure what you mean by this: files=${1?you must provide an argument}
[17:52:35] *** Quits: Memory (sid459764@user/memory) (Ping timeout: 264 seconds)
[17:52:37] <foo> wwalker: checking out vimdiff, I am a power vim user... not sure how I missed this. thank you
[17:52:38] <Soliton> $ is not a valid variable name char so you don't need braces.
[17:53:15] <emanuele6> # echo 'files=${1?you must provide an argument};echo hello' > my_script; chmod u+x my_script; ./my_script
[17:53:16] <Soliton> personally i would always put a slash inbetween there.
[17:53:18] <shbot> emanuele6: ./my_script: line 1: 1: you must provide an argument
[17:53:22] <emanuele6> # echo 'files=${1?you must provide an argument};echo hello' > my_script; chmod u+x my_script; ./my_script a
[17:53:24] <shbot> emanuele6: hello
[17:53:37] *** Joins: rustyshackleford (uid236774@helmsley.irccloud.com)
[17:53:39] <Soliton> requiring a trailing space in some var is evil.
[17:53:42] <Blondie101010> Soliton: it's usually considered good practice for many to clearly define variables in text...  so that's a personal preference
[17:53:53] <Soliton> err s/space/slash/
[17:53:53] *** Joins: dayday (uid520582@hampstead.irccloud.com)
[17:53:54] *** Quits: tejr (~tejr@user/tejr) (Ping timeout: 276 seconds)
[17:54:05] *** Joins: forgotmynick (uid24625@hampstead.irccloud.com)
[17:54:13] *** Joins: Memory (sid459764@user/memory)
[17:54:19] <Soliton> Blondie101010: what is that in reference to?
[17:54:19] <wwilliam> for file in *.zip;do if [[ $file =~ [[:digit:]]{14} ]]; then x=${BASH_REMATCH[0]};printf '%s\n' "$x";fi;done\
[17:54:31] <wwilliam> Thanks Soliton i disable.
[17:54:34] <Blondie101010> "${sky_root}${f}"
[17:54:54] <Blondie101010> yes it would work with "$sky_root$f" the same way
[17:54:59] <Blondie101010> but the first is not bad
[17:55:05] <twkm> foo: Blondie101010 used both $f and ${f} where braces aren't needed so it seemed weird, to me.
[17:55:06] <wwilliam> I need the name of the whole file not just the numbers.
[17:55:07] <Soliton> i never said so.
[17:55:23] <emanuele6> foo: if $1 is not set, or in general $var, ${var?message} will print the message to stderr and terminate the script instead of expanding $var
[17:55:23] <Soliton> i even said what i would do: "$sky_root/$f"
[17:55:24] <Blondie101010> twkm:  pay attention...  I just used their line
[17:55:32] *** Joins: tejr (~tejr@user/tejr)
[17:56:00] <twkm> oh noe, i didn't scroll back enough before seeing something that seemed weird!
[17:56:07] *** Joins: DeaDSouL (~DeaDSouL@85.203.34.67)
[17:56:24] <wwilliam> !bash_rematch
[17:56:24] <greybot> The =~ operator of [[ evaluates the left hand string against the right hand ERE (see <ere>, <regex>). After a successful match, the BASH_REMATCH array contains the matched string and subexpressions (if any). Any quoted characters in the ERE become literal. Best to put the whole ERE in a variable: [[ $string =~ $regex ]]
[17:57:10] <emanuele6> wwilliam: then use $file and not $x or ${BASH_REMATCH[0]} ...
[17:57:46] <wwilliam> Thanks emanuele6 checking...
[17:57:52] *** Quits: DeaDSouL (~DeaDSouL@85.203.34.67) (Client Quit)
[17:58:31] <Soliton> wwilliam: did anything of my rewrite made it into your script?
[17:58:43] <wwilliam> Sure.
[17:58:45] <wwilliam> Thank you.
[17:58:47] *** Joins: kurahaupo_ (~kurahaupo@pa49-179-226-170.pa.nsw.optusnet.com.au)
[17:59:33] <foo> wwalker: just watched a video on vimdiff, super awesome, thank you. Do you use it just to compare, or also to write the changes you want afterward?
[17:59:50] <Soliton> you can do either.
[18:00:24] <phy1729> do and dp are handy but this is #bash not #vim
[18:00:44] <foo> phy1729: thank you, so that in a video.
[18:00:53] *** Quits: twobitsprite (~twobitspr@107.13.51.62) (Ping timeout: 258 seconds)
[18:01:02] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[18:01:04] <foo> The only reason, perhaps, I wouldn't use vimdiff is if I'm comparing huge vim files... whereas diff is much easier to quickly see the changes. Agree?
[18:01:39] *** Quits: kurahaupo (~kurahaupo@220-245-23-126.static.tpgi.com.au) (Ping timeout: 258 seconds)
[18:01:50] *** Joins: nyex (~Thunderbi@177.84.107.41)
[18:02:12] <Blondie101010> that's simply a personal choice
[18:02:35] *** Joins: twobitsprite (~twobitspr@66.115.154.150)
[18:02:59] <wwilliam> I wish I could explain my issue.
[18:03:27] <foo> Thank you everyone for the feedback, looking much better: https://bpa.st/XUJQ
[18:04:03] <foo> whoops, https://bpa.st/BAAQ
[18:04:18] <Soliton> i would mention what files doesn't exist in the error message.
[18:04:22] <foo> well, that rsync command can use some love... but yeah.
[18:04:23] <Soliton> file*
[18:04:40] <foo> Soliton: that is seen from line 8. :)
[18:05:32] <Soliton> doesn't seem like a good dependency.
[18:05:54] <Soliton> if you would actually write the errors to stderr and someone perhaps just sees stderr for example...
[18:06:05] <Blondie101010> foo:  one thing I'd do is: dest="$sky_root/$f"
[18:06:16] <Blondie101010> or whatever name
[18:06:25] <Soliton> yeah, since the trailing slash is now missing the path is broken.
[18:06:35] <Soliton> that is exactly why i would never rely on it.
[18:07:35] <Blondie101010> yes, that's a real problem
[18:07:42] <Blondie101010> add the / explicitly
[18:07:47] *** Joins: kj (~kj@beta.aerisnetwork.net)
[18:08:07] <Soliton> i guess it was actually done mostly. just not for rsync but that is commented out so far...
[18:09:50] <Soliton> (git diff has -z for NUL delimited, btw.)
[18:10:10] <foo> Soliton: what does NUL delimited mean? Hmm
[18:10:26] <Blondie101010> NUL:$'\0'
[18:11:04] <Soliton> so it outputs: <file1>\0<file2>\0...
[18:11:14] *** Joins: dmonschein (dmonschein@2600:3c03::f03c:91ff:fe05:7562)
[18:11:52] *** Quits: zro (~zro@user/zro) (Ping timeout: 252 seconds)
[18:11:54] <foo> ok, latest: https://bpa.st/67VA
[18:12:02] <Soliton> !check
[18:12:03] <checkbot> foo: Line 22: read without -r will mangle backslashes. Line 29: Double quote to prevent globbing and word splitting. See https://shellcheck.net/?id=cb40922
[18:12:05] <foo> Blondie101010 / Soliton / twkm / emanuele6 - super appreciate all your help in improving my bash game
[18:12:17] <foo> Soliton: thanks. I think that's ok on 22 since anything short of "y" is ignored
[18:12:28] *** Quits: kurahaupo_ (~kurahaupo@pa49-179-226-170.pa.nsw.optusnet.com.au) (Read error: Connection reset by peer)
[18:12:43] *** Joins: kurahaupo (~kurahaupo@pa49-179-226-170.pa.nsw.optusnet.com.au)
[18:12:45] <Soliton> sure, the missing quotes are more important.
[18:13:15] <foo> Soliton: ohh, agreed, missed that. *updates
[18:13:34] <foo> Awesome, this tool will help me deploy better. heh.
[18:14:37] *** Quits: elkalamar_ (elkalamar@gateway/vpn/airvpn/elkalamar) (Ping timeout: 252 seconds)
[18:14:59] <Soliton> why do you not put the git diff part in there as well? does the list of files come from elsewhere as well?
[18:15:32] <foo> Soliton: thanks for the question, I did think about that. But sometimes I clean that up so that could vary a bit.
[18:15:34] *** Joins: noraaron (~aaron@251.222.198.146.dyn.plus.net)
[18:15:55] <foo> Soliton: I might do that, though, if I find more often than not I do that. That would help make this all a bit more nicer... possibly even including the git commit that was unmerged or such
[18:18:50] <Soliton> wwilliam: so what's the current version of your script?
[18:19:11] <wwilliam> 2.0
[18:19:28] <Soliton> i meant more like show it...
[18:19:42] <wwilliam> hold on....
[18:22:44] <eggbean> I have this case statement withing a case statement and I have a problem with line 13. After two yes answers it should do something and carry on to line 17, which it does fine. But when a key other than n or y is typed it goes to the next item in the array, when I want it to ask the same question again, like the outer case statement does on line 21.
[18:22:52] <eggbean> http://sprunge.us/fQn4WZ?sh
[18:23:00] <Soliton> !check
[18:23:01] <checkbot> eggbean: Line 1: items is referenced but not assigned. Line 10: Warning: deletes a system directory. Line 1: t appears unused. Verify use (or export if used externally). See https://shellcheck.net/?id=cb41581
[18:23:04] *** Joins: CrypticSquared (~CrypticS_@user/crypticsquared)
[18:23:38] <eggbean> huh?
[18:24:07] <Blondie101010> that's linting, therefore giving general hints to improve the script
[18:24:19] *** Joins: DeaDSouL (~DeaDSouL@45.86.201.164)
[18:24:28] <Blondie101010> you start by fixing those and then move on to the real issue if it persists
[18:24:36] <eggbean> Well there is loads I have stripped out to make this easier to explain
[18:24:49] <eggbean> I just want to know how to repeat the loop
[18:25:08] <eggbean> The structure is still there
[18:25:11] <Soliton> so just don't put break where you don't want it?
[18:25:49] *** Joins: rgrinberg (~textual@ip152-195-159-186.ct.co.cr)
[18:26:08] <eggbean> If I remove the break on line 14 it carries on to line 17 instead of asking the same question again
[18:26:31] <Soliton> well, i mean there is no loop there, right?
[18:26:43] <Soliton> if you want a loop there you need to write it.
[18:26:47] <Soliton> !confirm
[18:26:47] <greybot> confirm() { local ans IFS=; while read -rp "$1" -n1 ans; do printf '\n'; case $ans in [Yy]) return 0;; [Nn]) return 1;; esac; done; }; ## Usage: if confirm "Are you sure? "; then ...
[18:26:54] <Blondie101010> there is a loop
[18:26:59] <eggbean> are case statements not loops?
[18:27:01] <Soliton> another loop, sure.
[18:27:06] <Soliton> no...
[18:27:18] <eggbean> ok, someone said that before
[18:27:38] <Soliton> they probably said that break is for loops.
[18:27:43] <Blondie101010> some languages process case/switch as a loop, but that doesn't matter
[18:27:47] <eggbean> well the outer one does loop like I want but the inner one doesn't
[18:28:15] <Soliton> there is no inner loop.
[18:28:22] <eggbean> I mean the * ) option, or whatever you would call it
[18:28:24] *** Quits: legola_ (~legola@46.235.101.181) (Remote host closed the connection)
[18:29:15] <ormaaj> They're "compound commands" which puts them in the same lexical category.
[18:29:22] <eggbean> The problem is line 13. It does not ask again. That's the problem
[18:29:52] <Soliton> write a loop if you want one. or use the confirm function above which contains one.
[18:30:10] <Blondie101010> eggbean:  there's no loop for that confirmation
[18:30:11] <eggbean> How do I do those things?
[18:30:43] <Blondie101010> I'd make a function for the confirmation
[18:31:17] <Blondie101010> but you can simply write it there
[18:31:31] *** Joins: richardm75 (~richardm7@2600:8801:c50a:9f00:2cbe:2513:404c:1c08)
[18:31:35] *** Joins: Guest1 (~Guest1@ip-89-176-154-20.net.upcbroadband.cz)
[18:31:42] <Blondie101010> if you were able to do the first while loop, I can't see why adding another one would be hard
[18:31:51] <eggbean> I don't know how this function should fit in
[18:32:15] *** Joins: trekkie1701c (~trekkie17@user/trekkie1701c)
[18:32:21] <eggbean> Ah, you mean the while loop?
[18:32:29] <eggbean> Another one?
[18:32:33] <Blondie101010> yes, but forget the function for now
[18:32:39] <wwilliam> Soliton: https://paste.debian.net/1216135/ I have to somehow figure the bash rematch part to add it to that. Thanks again.
[18:32:39] <Blondie101010> you need 2 while loops
[18:32:40] <Soliton> if confirm ...; then rm ...; else echo "Probably for the best"; fi
[18:32:51] <eggbean> Blondie101010: I see. tanks
[18:33:09] <eggbean> Soliton: confirm is a command?
[18:33:13] *** Quits: forgotmynick (uid24625@hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[18:33:19] <Soliton> !confirm > eggbean
[18:33:19] <greybot> eggbean: confirm() { local ans IFS=; while read -rp "$1" -n1 ans; do printf '\n'; case $ans in [Yy]) return 0;; [Nn]) return 1;; esac; done; }; ## Usage: if confirm "Are you sure? "; then ...
[18:34:02] <eggbean> Okay, I'll have to have a look at that. Thanks
[18:35:13] <ormaaj> while true is a bit odd there. Integrate your termination condition with the loop if possible. Explicit `break` is less nice.
[18:35:56] <eggbean> ormaaj: I don't know what you mean, but I'll look into that
[18:40:45] *** Quits: quazimodo (~quazimodo@n1-40-235-47.bla1.nsw.optusnet.com.au) (Ping timeout: 258 seconds)
[18:40:50] *** Joins: MichaelOF (~michael@p200300eb8f0f7d01bc64e91b94271e12.dip0.t-ipconnect.de)
[18:45:26] *** Quits: jkwnki (~jkwnki@p2e5793bc.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[18:48:38] *** Joins: tsujp (~tsujp@sourcehut/user/tsujp)
[18:55:18] *** Joins: A|an (~Alan@173.216.51.200)
[18:56:57] *** Joins: LiftLeft (~LiftLeft@216-26-118-34.dynamic.nelson.airstreamcomm.net)
[19:02:41] *** Quits: MichaelOF (~michael@p200300eb8f0f7d01bc64e91b94271e12.dip0.t-ipconnect.de) (Quit: Konversation terminated!)
[19:02:42] *** Quits: BSaboia (~bsaboia@187.19.138.198) (Quit: This computer has gone to sleep)
[19:02:54] *** Joins: ChmEarl (~chmearl@user/chmearl)
[19:05:22] *** Quits: nyex (~Thunderbi@177.84.107.41) (Remote host closed the connection)
[19:05:31] *** Joins: hussam (~hussam@user/hussam)
[19:06:26] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 260 seconds)
[19:06:34] <hussam> if I do "export verString=3.18.1", and I run echo MAIN_${verString/\./_}, it only replaces the first dot. What am I doing wrong?
[19:06:46] *** Quits: Lewky_ (~Lewky@146.70.50.90) (Ping timeout: 245 seconds)
[19:06:54] <Soliton> why do you export?
[19:07:06] <phy1729> / not /
[19:07:09] <Soliton> echo "MAIN_${verString//./_}"
[19:07:18] <phy1729> er // dang IRC
[19:08:13] <Soliton> (this is not regex thus the backslash made no sense.)
[19:08:37] *** Quits: mozgalom (~mozgalom@IPnet-gw.157.157.97.111.simnet.is) (Quit: SO LONG SUCKERS!)
[19:10:42] *** Quits: trekkie1701c (~trekkie17@user/trekkie1701c) (Quit: :P)
[19:10:42] <Soliton> wwilliam: looks much better. why did you not use the for loop over the txt files for the awk stuff though?
[19:10:57] <hussam> thanks!
[19:12:18] *** Quits: ayustae (Thunderbir@gateway/vpn/protonvpn/ayustae) (Quit: ayustae)
[19:13:21] <ormaaj> Subshells to avoid functions :/
[19:14:39] <wwilliam> Soliton: I am working on it will add...Thank you.
[19:15:02] *** Joins: forgotmynick (uid24625@id-24625.hampstead.irccloud.com)
[19:15:10] *** Parts: GNUHacker (~foobar@fsf/member/GNUHacker) (part)
[19:19:06] <Soliton> wwilliam: so now you want to add logic for the recon files, yes? what should be done with them?
[19:20:18] <wwilliam> They have to be in same dir but there must be 1 recon per number in file i dont know if I explain my self correctly.
[19:21:14] *** Joins: Nact (~l@2a02:2788:11c4:6e6:cebc:f487:efd8:173)
[19:21:38] <Soliton> so you should go over all recon files, extract the timestamp and for each timestamp you can go over all files with the same timestamp and put all of them in the same dir.
[19:22:43] *** Joins: BSaboia (~bsaboia@187.19.138.198)
[19:23:51] *** Quits: YHVH (~yhvh@2601:982:8300:8090:9509:f25e:3615:5b7b) (Ping timeout: 245 seconds)
[19:23:52] *** Quits: riff-IRC (~riff-IRC@user/riff-irc) (Read error: Connection reset by peer)
[19:24:47] <Soliton> btw, i left the markfile thing in but AFAIR i couldn't see a need for it. after processing the files are moved away anyway.
[19:25:09] *** Quits: chiselfuse (~chiselfus@user/chiselfuse) (Remote host closed the connection)
[19:28:28] <wwilliam> OK, thanks will look into it.
[19:31:15] *** Quits: wolfgang (~wolfgang@101.174.167.116) (Remote host closed the connection)
[19:33:26] <wwilliam> Working on this now. <Soliton> so you should go over all recon files, extract the timestamp and for each timestamp you can go over all files with the same timestamp and put all of them in the same dir.
[19:35:06] *** Quits: skered (~dereks@user/skered) (Ping timeout: 245 seconds)
[19:36:02] *** Joins: YHVH (~yhvh@2601:982:8300:8090:d0ca:2453:5804:9ec1)
[19:37:30] <Soliton> i guess what you mean is not the zipfiles but what was extracted? if there is file_123_a.zip, file_123_b.zip and recon_file_123.zip then you want to extract all those files into the same dir?
[19:38:38] *** Quits: Ad1Tech (~Ad1Tech@h104101.man.tk-internet.pl) (Quit: Leaving)
[19:39:57] *** Quits: totenkoph (~scythe@user/totenkoph) (Remote host closed the connection)
[19:41:07] *** Joins: totenkoph (~scythe@user/totenkoph)
[19:41:49] *** Atque is now known as ATQUE
[19:42:00] *** Quits: tsujp (~tsujp@sourcehut/user/tsujp) (Quit: Client closed)
[19:42:09] *** Joins: nyex (~Thunderbi@177.84.107.41)
[19:42:35] *** Joins: legola (~legola@46.235.101.181)
[19:42:40] *** Quits: legola (~legola@46.235.101.181) (Remote host closed the connection)
[19:42:58] *** Joins: mozgalom (~mozgalom@194.144.47.113)
[19:44:36] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[19:46:28] <chilversc> is there any function to scope the lifetime of a background job to the current script?
[19:47:04] <chilversc> I'm currently looking at using trap, but would like something that was more at the OS level so would also survive the script terminating through less graceful means
[19:47:55] <Blondie101010> not 100% sure what you want
[19:48:12] <Blondie101010> there are zillions of ways to check if a process is running
[19:48:25] <chilversc> I'm starting a few background tasks using "./foo &", when the script terminates I'd like those tasks to also be terminated
[19:48:33] <Blondie101010> while ps -ef|grep -v grep|grep $processName
[19:49:10] <Blondie101010> hmmmm, then kill them
[19:49:26] <hyrcanus> that's what I always say
[19:49:32] <ormaaj> Not in a way that makes any guarantees (that's portable).
[19:50:09] <chilversc> right, hence my first thought was to put the PIDs into an array, and set a trap handler to send them a SIGTERM when the script exits. But that wouldn't work if the script exits due to less graceful means
[19:50:12] <Blondie101010> while ps -ef|grep $processName|grep -v grep # fix an ugly mistake
[19:50:44] <Blondie101010> chilversc:  how would it die?
[19:50:48] <Soliton> killing unrelated process is certainly not the way to go.
[19:51:25] <chilversc> Blondie101010: no idea, some times things crash, maybe it locks up and someone sends it a SIGKILL so it never gets to run the trap handler
[19:51:33] <Soliton> you can use kill 0 to signal the process group.
[19:51:36] <Blondie101010> it sounds to me like he wants to kill the children
[19:52:12] *** Joins: ttys000 (~ttys000@user/ttys000)
[19:52:18] <Blondie101010> chilversc:  if it gets a SIGKILL, it won't be able to do any cleanup
[19:52:32] <Blondie101010> so part of your task is to educate your colleagues
[19:52:55] <Blondie101010> but if it's very important, the children could monitor the parent
[19:53:33] <chilversc> I didn't write the child process, its just an "ssh -M" process
[19:54:16] <Blondie101010> that simply removes that option
[19:54:23] <Blondie101010> you need to educate your colleagues
[19:54:33] <Blondie101010> use better signal handling
[19:54:42] <Soliton> !-9
[19:54:42] <greybot> Do NOT use SIGKILL (kill -9) to terminate processes. All processes will terminate in response to the default SIGTERM. If they don't terminate instantly, that's because they're busy cleaning up. If you interrupt them, you break them. See http://stackoverflow.com/a/690631/347411 and http://turnoff.us/geek/dont-sigkill/
[19:55:47] *** Quits: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053) (Quit: WeeChat 3.3)
[19:57:02] <hyrcanus> once in a while -1 doesn't end a process
[19:57:32] <hyrcanus> waiting for kernel to finish something it never does usually
[19:57:40] <twkm> because a hangup sometimes doesn't matter.  -TERM is the default.
[19:58:02] <hyrcanus> whether it makes any sense to -9 in that case though.  generally no
[19:58:42] <Soliton> at least when you feel the need to use kill -9 then you should not expect that anything is cleaned up. you get to keep the pieces.
[19:58:42] <hyrcanus> do you know about sigstoped twkm ?
[19:58:48] <hyrcanus> yes
[19:58:59] *** Quits: shad (~shad@user/shad) (Quit: WeeChat 3.0)
[19:59:02] <hyrcanus> i was annoyed at browser churning at cpu doing nothing useful
[19:59:05] <twkm> stop is not wise for trying to end a process.
[19:59:19] <hyrcanus> so sigstoped was born.  pauses execution of browser when it loses focus
[20:01:03] <Blondie101010> hyrcanus:  processes can handle signals any way they like... -1 means reload for many
[20:01:18] <twkm> it can also be annoying, but that's for you to decide.  personally i don't like sites that prefer to run programs.
[20:01:34] <Blondie101010> only -9 is uncatchable
[20:01:59] <wwilliam> how to bash_rematch $file =~ somestring_here[[:digit:{14} ]]
[20:02:28] <twkm> so i go to my banks with js enabled, but almost nowhere else.
[20:02:45] *** Joins: cousteau (~cousteau@user/cousteau)
[20:02:57] <cousteau> !$0
[20:02:58] <greybot> $0 is like argv[0] in C. It's whatever the caller decides to put there. You can't rely on it. See http://mywiki.wooledge.org/BashFAQ/028 and http://www.bash-hackers.org/wiki/doku.php/scripting/posparams#the_first_argument
[20:03:01] <twkm> use a valid ere wwilliam.
[20:03:24] <Soliton> sigstop is also uncatchable.
[20:03:30] <twkm> i.e., you can't just shove a repeat inside the syntax for a class.
[20:03:33] *** Joins: H3dn1ng (~H3dn1ng@185.213.154.230)
[20:04:00] <phy1729> Blondie101010: that's not true; SIGSTOP is unignorable too
[20:04:08] <wwilliam> That is just part of the whole line but i need to bash_rematch  Reconciliation word and [[:digit:{14} ]]
[20:04:33] <twkm> still wrong.
[20:04:45] <emanuele6> not valid
[20:05:18] <twkm> that too.
[20:06:18] <emanuele6> !ere
[20:06:18] <greybot> Extended Regular Expressions. See http://mywiki.wooledge.org/RegularExpression or (POSIX) https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html#tag_09_04 or https://man7.org/linux/man-pages/man7/regex.7.html
[20:06:37] <wwilliam> Thank you will read....
[20:06:38] <Soliton> # file=IR_ASOA_ZIPReconciliation_20210929124208.zip; date=${file%.zip} date=${date##*_}; echo "$date"
[20:06:39] <shbot> Soliton: 20210929124208
[20:06:50] *** ATQUE is now known as Atque
[20:07:14] <wwilliam> ughh i should have thought about PE. Thanks soliton
[20:07:33] <wwilliam> oh but I dont know the number.
[20:07:55] <twkm> you don't need to know it.
[20:08:01] *** Quits: H3dn1ng (~H3dn1ng@185.213.154.230) (Ping timeout: 245 seconds)
[20:08:12] <Soliton> you iterate over the recon file or dir names so you have a variable with that. just as above.
[20:08:41] <wwilliam> but this number 20210929124208 I dont know it.
[20:08:53] <Soliton> and why would you need to?
[20:09:08] *** Joins: H3dn1ng (~H3dn1ng@185.213.154.236)
[20:09:32] <cousteau> ...so what was the thing to "cd to wherever this script is located" again?  That first link suggests "${BASH_SOURCE%/*}/", but some guy in stackoverflow suggests using "$(dirname -- "${BASH_SOURCE[0]})" instead.  Not sure whom to trust.  And what's with that [0]?
[20:09:50] <Soliton> !faq location
[20:09:51] <greybot> https://mywiki.wooledge.org/BashFAQ/028 -- How do I determine the location of my script?  I want to read some config files from the same place.
[20:09:56] <wwilliam> !stackoverflow
[20:09:56] <greybot> Like virtually every other web site you find via Google, StackOverflow is chock full of wrong answers. Verify everything you read there before using it.
[20:10:10] <cousteau> (this was just after the top reply being "just dirname $0 lol")
[20:10:18] <Soliton> BASH_SOURCE is an array.
[20:10:29] <cousteau> OK
[20:12:04] <cousteau> So, for once in history, stackoverflow was more correct than the BashhFAQ?  (well, I guess $BASH_SOURCE and ${BASH_SOURCE[0]} both expand to the first element of the array)
[20:13:00] *** Quits: standardrat (~standardr@165.73.178.6) (Quit: Leaving)
[20:13:54] <cousteau> I'm still confused about why they do that weird cd+dirname+pwd thing instead of what BashFAQ suggests.  Normally I'd assume it's because it's StackOverflow, but I dunno, looks too elaborate to be a mistake
[20:14:19] <osse> the FAQ says: "The BASH_SOURCE internal bash variable is actually an array of pathnames. If you expand it as a simple string, e.g. "$BASH_SOURCE", you'll get the first element"
[20:14:31] <cousteau> I see
[20:14:32] <osse> boom goes the arrayomite
[20:15:04] <cousteau> But I mean, is there any reason NOT to use the [0]?
[20:15:25] <Soliton> nope.
[20:15:46] <cousteau> I'm adding it then.  I prefer to write what I mean, not what just works
[20:15:56] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[20:16:16] *** Joins: alzgh (~alzgh@user/alzgh)
[20:16:26] <osse> maybe if you're on some tiny chip with 32k of storage and you've already used 31998
[20:18:09] *** Joins: ponyofdeath (~vladi@2606:6000:cfc0:2b:9cf9:caf8:f20d:1053)
[20:18:21] <cousteau> Haha
[20:19:34] <cousteau> That's an odd storage though; it's usually 32K with an uppercase K as in "I'm pretending to be SI but I'm not"
[20:20:52] <wwilliam> I did this:
[20:20:54] <wwilliam> for file in IR_ASOA_ZIPReconciliation*.zip;do date=${file%.zip} date=${date##*_};mkdir -p "$date" && mv -v -- *"$date"*.zip "$date";done
[20:21:08] <osse> Uppercase K is only used by people who don't know what a kelvin is
[20:21:44] *** Joins: rufito (~phil@181.42.43.180)
[20:22:11] <osse> oh shit. Ki is actually a valid prefix. TIL.
[20:22:15] *** Quits: Nact (~l@2a02:2788:11c4:6e6:cebc:f487:efd8:173) (Remote host closed the connection)
[20:22:35] *** Joins: Nact (~l@2a02:2788:11c4:6e6:cebc:f487:efd8:173)
[20:23:23] *** Joins: Phil (~phil@181.42.43.180)
[20:23:35] *** Quits: rufito (~phil@181.42.43.180) (Read error: Connection reset by peer)
[20:23:50] *** Joins: elkalamar (elkalamar@gateway/vpn/airvpn/elkalamar)
[20:28:08] *** Quits: mihaiadrian (~Thunderbi@82.76.223.244) (Quit: mihaiadrian)
[20:30:18] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[20:34:38] *** Quits: yeirr (~yeirr@user/yeirr) (Quit: yeirr)
[20:35:07] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[20:35:18] *** Joins: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net)
[20:35:57] *** Joins: zebrag (~chris@user/zebrag)
[20:36:30] <cousteau> osse: yep.  But usually it's just written KB, MB, GB, etc meaning powers of 1024 (cf. kB, MB, GB which clearly shows some respect for the SI "k" prefix, so it probably means powers of 1024)
[20:36:55] <phy1729> It's k for base 10 and Ki for base 2
[20:37:16] <phy1729> The IEC decided the lower case k was silly iirc
[20:37:34] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[20:37:40] <cousteau> Specifically, RAM is typically used in 1024's (including that of microcontrollers), and disk storage in 1000's
[20:37:49] *** Parts: JustLandedOnMars (question@user/question) ()
[20:37:54] <twkm> let the ibi wars commence!
[20:38:21] <emanuele6> k mean kilo so *10³, using kB wouldn't be accurate
[20:38:50] <cousteau> It would if you mean 1000 bytes
[20:39:18] <emanuele6> but when people say kilobyte, they don't mean 1000bytes
[20:39:49] <twkm> except when they do.  frustrating at time.
[20:39:50] <phy1729> people are often wrong, see !crap
[20:39:51] <twkm> times.
[20:43:02] *** Quits: ___nick___ (~quassel@cpc68286-cdif17-2-0-cust533.5-1.cable.virginm.net) (Ping timeout: 260 seconds)
[20:44:47] *** Quits: tangy (~tangy@user/tangy) (Ping timeout: 264 seconds)
[20:47:40] *** Quits: igemnace (~ian@user/igemnace) (Ping timeout: 260 seconds)
[20:52:45] *** Quits: Guest1 (~Guest1@ip-89-176-154-20.net.upcbroadband.cz) (Quit: Client closed)
[20:54:59] *** Quits: rgrinberg (~textual@ip152-195-159-186.ct.co.cr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:56:11] *** Joins: Spawns_Carpeting (~Spawns_Ca@user/spawns-carpeting/x-6969421)
[20:56:15] *** Joins: rgrinberg (~textual@201.182.226.118)
[20:56:17] *** Joins: YaoNai (~YaoNai@user/yaonai)
[20:56:50] *** Joins: seninha (~seninha@user/seninha)
[20:57:43] *** Joins: han-solo (~hanish@user/han-solo)
[20:58:57] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[20:59:06] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[20:59:17] *** Joins: alzgh (~alzgh@user/alzgh)
[20:59:21] *** Joins: Guest1 (~Guest1@ip-89-176-154-20.net.upcbroadband.cz)
[21:00:20] *** Joins: timj (~timj@user/timj)
[21:05:54] *** Quits: seninha (~seninha@user/seninha) (Ping timeout: 260 seconds)
[21:09:01] *** Joins: wolfgang (~wolfgang@101.174.167.116)
[21:10:20] *** Joins: ToastMasterSupre (~ToastMast@70.126.240.148)
[21:11:12] <cousteau> osse: BTW, re: Kelvin... And what about m meaning both milli and meter?  KK would be a perfectly valid unit if kilo were written as an uppercase K
[21:11:38] *** Quits: Bhavuk (~BTaneja@103.132.28.60) (Quit: Leaving)
[21:11:47] <cousteau> TT and GG are both valid magnetic units
[21:12:29] <phy1729> KiK
[21:12:36] <ToastMasterSupre> When I try to run this function named 'deployT440s' I get this error: 'stow: ERROR: Slashes are not permitted in package names'
[21:12:43] <xiaomiao> down that path lie microfortnight and attoparsec
[21:12:49] <ToastMasterSupre> https://bpa.st/4FJA
[21:12:51] <emanuele6> gausses are Gs, not G iirc
[21:12:52] <phy1729> ToastMasterSupre: sounds like not a bash error
[21:13:12] <ToastMasterSupre> each line of that function works on its own though :/
[21:14:13] *** Quits: malina (~malina@user/malina) (Remote host closed the connection)
[21:14:21] <emanuele6> nevermind, both G and Gs can be used to represent a gauss
[21:14:46] *** Quits: alzgh (~alzgh@user/alzgh) (Remote host closed the connection)
[21:15:05] *** Joins: alzgh (~alzgh@user/alzgh)
[21:15:06] <OMGOMG> must be confusing if you want gauss-seconds
[21:15:20] <cousteau> Weird.  I would have assumed 1 Gs is a unit of time
[21:15:34] <OMGOMG> or that
[21:15:39] <cousteau> I recently became 1 Gs old
[21:15:51] <phy1729> Gsecs are used in some scifi books
[21:15:57] <emanuele6> 1 Gauss * second old
[21:16:57] *** Joins: b_jonas (~x@catv-176-63-3-240.catv.broadband.hu)
[21:17:01] <cousteau> I even brought a cake to the office, with candles with the number 10⁹ on it
[21:17:38] <OMGOMG> cousteau: you don't seem a day over 946684800 seconds
[21:17:39] <cousteau> The ⁹ was a regular 9 put on top of a muffin to make it higher
[21:17:50] <cousteau> Aww thanks :)
[21:19:46] <cousteau> Anyway, one Gauss-second would be 1 G s, not 1 Gs.  Then again, people write kWh all the time instead of kW h
[21:20:24] * cousteau recently saw a record of "getting all the letters wrong" with "KwH"
[21:22:43] *** Quits: luva (~luva@5.180.62.230) (Ping timeout: 252 seconds)
[21:22:56] <ToastMasterSupre> If the lines are quoted, and escaped properly, doesn't this mean that it should just work as if each line was ran individually?
[21:23:14] <ToastMasterSupre> I ask because each line of that function works just fine on its own. Is it the use of '&&' that's the issue?
[21:23:29] *** Joins: zer0bitz_ (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi)
[21:23:39] *** Joins: omegatron (~some@p5484903d.dip0.t-ipconnect.de)
[21:23:43] *** Joins: luva (~luva@5.180.62.231)
[21:24:01] <cousteau> Don't you need a \ at the end of each line?
[21:24:17] <cousteau> After the &&?
[21:24:27] <Soliton> why do you expect some syntax issue if you don't even get a syntax error.
[21:25:33] <Soliton> perhaps explain which part is the package name.
[21:25:39] <cousteau> ...seems you don't need it
[21:26:11] *** Quits: zer0bitz (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi) (Ping timeout: 264 seconds)
[21:26:36] <Guest1> is there some oneliner to parse stdin from command output ? mycommand &&  echo "command output" || echo "failed' . ... ? i can not use if `foo=$(myccommand)` ; then, not sure why, iam using golang shell parser. thanks
[21:27:17] <Soliton> mycommand | parser
[21:27:20] <cousteau> ToastMasterSupre: you sure you want to quote that '~'?
[21:28:07] <ToastMasterSupre> latest version: http://termbin.com/unsf
[21:28:24] <ToastMasterSupre> I see, so make it '/home/(username)' instead then?
[21:28:28] <ToastMasterSupre> cousteau
[21:28:38] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[21:28:50] <cousteau> No, just remove the quotes, at least around the ~
[21:28:52] <Soliton> ~ does not get expanded in single quotes.
[21:28:54] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[21:29:16] <cousteau> A quoted tilde is just a tilde; an unquoted tilde expands to the user's home dir
[21:29:54] <cousteau> Alternatively you may use "$HOME/hub/..."
[21:29:56] <Soliton> mind bogglig how such a clear error message cannot be figured out and instead there is random guessing.
[21:30:08] <cousteau> (with double quotes)
[21:30:32] <ToastMasterSupre> I removed the quotes, and added the '\' at the end, still the same result, damn
[21:30:49] <ToastMasterSupre> I'll try the $HOME
[21:30:51] <ToastMasterSupre> *idea
[21:30:55] <Soliton> why don't you know which part is the package name?
[21:32:16] * cousteau hadn't read the error message
[21:32:36] <cousteau> You sure you're using the command correctly?
[21:34:05] <cousteau> I checked the manpage for that command and your way to call it doesn't look right...
[21:35:34] <ToastMasterSupre> https://termbin.com/x3yh
[21:35:37] <ToastMasterSupre> same thing
[21:35:50] <ToastMasterSupre> I usually have deployed dotfiles easily with stow -t ~ (dotfile folder)
[21:36:00] <ToastMasterSupre> not sure why it just doesn't want to work like this
[21:36:17] <ToastMasterSupre> Soliton the package name should be the last parameter by default
[21:37:34] *** Quits: xiao (~xiao@37.164.209.191) (Quit: Leaving)
[21:37:48] <OMGOMG> 'stow: ERROR: Slashes are not permitted in package names'
[21:37:55] <Soliton> so you don't see the slashes in it?
[21:39:38] <osse> cousteau: I can't think of a case where it's ambiguous whether a particular m means milli or meter. But maybe it exists
[21:40:02] <cousteau> There isn't, if spaces are used correctly
[21:40:13] <osse> The problem with writing K is just the lack of the b or B after it.
[21:40:31] <cousteau> osse: oooh I got you now
[21:40:47] <ToastMasterSupre> Soliton but you're supposed to specify the path though this is what's weird
[21:40:55] <ToastMasterSupre> so the final slash is what's wrong?
[21:40:58] *** Quits: Guest1 (~Guest1@ip-89-176-154-20.net.upcbroadband.cz) (Quit: Client closed)
[21:41:13] <osse> cousteau: I did it myself, so..
[21:41:16] <osse> :p
[21:41:17] <ToastMasterSupre> I can do the same action line by line, and I don't understand why it won't work in a function
[21:41:21] <cousteau> I thought you meant "writing K" as in "writing 32 KB instead of 32 kB (or 32 KiB)", not "32 K"
[21:41:41] <cousteau> I'm too tired
[21:42:08] <Soliton> you say the last argument is the package name. the tool tells you slashes are not permitted in package names...
[21:42:12] <osse> cousteau: I sort of meant that too a little bit, to be honest. But I wasn't aware that "Ki" was valid
[21:42:49] <cousteau> ToastMasterSupre: I'm skeptical that "package" contains slashes
[21:42:51] *** Joins: skered (~dereks@user/skered)
[21:42:51] <Soliton> it seems very questionable that the same code works but who knows what you're actually doing.
[21:43:11] <cousteau> osse: as in "32 Ki" without a "B"?
[21:43:43] <OMGOMG> ToastMasterSupre: provide an example of a command that works line by line, please
[21:43:51] <OMGOMG> copied from your shell
[21:44:05] <cousteau> ToastMasterSupre: are you typing that exact same command, or are you using a shorter version for testing?
[21:49:03] *** Quits: TomyWork (~TomyLobo@p200300e80f06af00f0244ecf6a801643.dip0.t-ipconnect.de) (Quit: Leaving)
[21:49:46] *** Quits: drd (~drd@93-42-69-115.ip85.fastwebnet.it) (Ping timeout: 260 seconds)
[21:51:23] *** Quits: Carp (~rue@1-162-40-226.dynamic-ip.hinet.net) (Quit: WeeChat 3.3)
[21:51:39] *** Quits: paulgrmn (~paulgrmn@user/paulgrmn) (Ping timeout: 265 seconds)
[21:56:00] *** Quits: sgn (~sgn@user/sgn) (Ping timeout: 265 seconds)
[21:57:57] <guardian> hello, when I launch vim foo.txt | tee /tmp/log.txt, is there a way with ps to distinguish vim from tee? In the sense that vim is the program I'm interacting with
[21:59:10] <izabera> you pipe vim to tee?
[21:59:15] <izabera> what
[22:00:13] * han-solo tries
[22:00:16] <cousteau> Maybe they want to pipe vim's stderr to tee
[22:00:25] <izabera> why
[22:00:28] <izabera> and also no
[22:00:31] <cousteau> Anyway that looks weird, what do you want to do exactly?
[22:00:42] <guardian> I know it's a bad idea to pipe vim to tee :)
[22:00:54] <guardian> sorry for the confusion
[22:01:18] <izabera> it's a bad idea in that it doesn't do anything useful and vim complains that its output is not a terminal
[22:01:24] <guardian> the context is: I'm trying to know find what program is running in a tmux pane
[22:01:48] <guardian> I'm inspecting ps -t /dev/ttyxxx output and look at pid and ppid, knowing that tmux tells me the pid of the parent shell process in a pane
[22:02:12] <guardian> and I rediscovered that when using x | tee, x and tee have the same parent process
[22:02:14] <ToastMasterSupre> weird
[22:02:27] <ToastMasterSupre> so while in "~/hub/dotfiles"
[22:02:32] <ToastMasterSupre> stow -t ~ ranger/
[22:02:33] <ToastMasterSupre> works
[22:02:51] <izabera> guardian: go on
[22:02:52] <cousteau> ...maybe screen can do something better?
[22:02:56] <ToastMasterSupre> but stow -t ~ ~/hub/dotfiles/ranger/
[22:02:57] <ToastMasterSupre> does not
[22:03:00] <izabera> guardian: how do you get from there to vim|tee?
[22:03:03] <izabera> i need to know
[22:03:03] <guardian> and I'm wondering when some process P is the current running process, and its output is piped to tee, is there something in ps output that let me distinguish P from tee
[22:03:19] <izabera> of course, they have different pids
[22:03:21] <izabera> !next
[22:03:22] <greybot> Another satisfied customer! Next please!
[22:03:26] <cousteau> ToastMasterSupre: where in the documentation does it say that the last arg for stow is a directory path?
[22:03:29] <izabera> this was easy
[22:03:49] <guardian> izabera: yes they have different pids, but using the same tty and have the same parent pid
[22:03:57] *** Quits: rgrinberg (~textual@201.182.226.118) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:04:09] <izabera> that makes sense
[22:04:24] <guardian> so I'm wondering whether something in ps output distinguishes them, that I could use as a proxy for isolated P from tee
[22:04:40] <izabera> the pid
[22:04:41] <ToastMasterSupre> cousteau I don't know, this is what I had as my working command in my notes the last time I did this
[22:04:50] <izabera> presumably the process name unless you're piping tee to tee
[22:04:58] <cousteau> ToastMasterSupre: maybe it's not supposed to be a path, but an identifier for a package?
[22:05:01] <izabera> which would still make more sense than vim|tee
[22:05:13] <guardian> then... that I could use as a proxy that tells me P is the "current" process running in pane
[22:05:26] <guardian> "current" or "left most of a pipe chain"
[22:05:32] <ToastMasterSupre> maybe I should just 'cd' into that directory and do that each time
[22:05:35] <ToastMasterSupre> maybe that's the easier approach
[22:05:53] <ToastMasterSupre> since Stow's being a little bitch about slashes
[22:06:08] <cousteau> Or you're misusing it
[22:06:14] <izabera> guardian: that's not how things work, your terminal has a session with a foreground process group attached to it. with foo|bar both are in the foreground
[22:06:40] <ToastMasterSupre> cousteau I don't know, its kind of dumb that it just works while I'm in the directory itself, but the minute I bust out a specific path to it, it freaks out
[22:06:55] <cousteau> ToastMasterSupre: what does the -t option do?
[22:06:58] <guardian> can I inspect something, ps outpout or something else, that me know that foo has been piped to bar?
[22:07:03] <cousteau> Does stow come with a manual page?
[22:07:08] <guardian> s/that me/that tells me
[22:07:23] <ToastMasterSupre> cousteau I believe it specified the directory you want to store it in, aka in your home directory ~/
[22:07:25] <cousteau> What does your terminal say when you write ``man stow``?
[22:07:31] <ToastMasterSupre> that way you can put your dotfiles wherever you want
[22:07:38] *** Joins: rgrinberg (~textual@201.182.226.118)
[22:07:44] <ToastMasterSupre> -t DIR
[22:07:51] <ToastMasterSupre> yeah, just the target directory
[22:07:51] <cryptonector> #bash might not be the right place, but, I'm looking for a program that will create a ptm/pts and share it with a netcat-like command
[22:07:56] <cousteau> I see
[22:08:03] <cousteau> And what about -d?
[22:08:17] <ToastMasterSupre> that way you don't have to make some weird child directories, aka you can store your dotfiles wherever you want
[22:08:22] <ToastMasterSupre> otherwise it will store it in the parent directory
[22:08:31] <ToastMasterSupre> which for me, is not what I want, though most people would opt for this
[22:08:37] *** Joins: paulgrmn (~paulgrmn@user/paulgrmn)
[22:09:02] <izabera> guardian: /proc/leftpid/fd/1 and /proc/rightpid/fd/0 will point to the same pipe
[22:09:12] <ToastMasterSupre> -d DIR. "This also has the effect of makign the default target directory be the parent of "DIR"
[22:09:15] <izabera> that's about the only thing you can use
[22:09:43] <izabera> also it's not super reliable because of course things can change their own file descriptors
[22:10:05] <guardian> yeah that's what I thought
[22:10:10] <cousteau> ToastMasterSupre: the DEFAULT one
[22:10:13] <guardian> I there's no /proc on macOS :)
[22:10:21] <izabera> ah then i dunno
[22:10:21] <guardian> s/I there's/and there's
[22:10:23] <guardian> sorry I can't type
[22:10:26] <cousteau> You can still use both -d and -t, right?
[22:10:33] <izabera> there might be a way but i only know linuxisms
[22:11:30] *** Quits: Nact (~l@2a02:2788:11c4:6e6:cebc:f487:efd8:173) (Remote host closed the connection)
[22:11:50] *** Joins: Nact (~l@2a02:2788:11c4:6e6:cebc:f487:efd8:173)
[22:13:00] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Quit: Leaving)
[22:13:30] *** Quits: H3dn1ng (~H3dn1ng@185.213.154.236) (Ping timeout: 258 seconds)
[22:14:22] *** Quits: zer0bitz_ (~zer0bitz@dsl-hkibng31-54fae3-116.dhcp.inet.fi) (Read error: Connection reset by peer)
[22:15:46] <cousteau> Is there a way to do "$@" but replacing all .foo extensions in each element of "$@" with .bar?
[22:16:19] *** Quits: Milos (~Milos@user/milos) (Quit: ZNC 1.8.2 - https://znc.in)
[22:16:33] *** Joins: Milos (~Milos@user/milos)
[22:16:49] <cousteau> Example: I called ``mycmd A.foo B.foo`` and I want it to call ``othercmd A.bar B.bar``
[22:17:22] <cousteau> (I can think of alternative ways to do this, but was wondering if $@ can handle it)
[22:17:39] <omegatron> put the command into an array and modify that, before you execute it as a command ..
[22:18:30] <cousteau> OK
[22:18:57] * cousteau looks up how to modify all elements of an array
[22:19:07] <ToastMasterSupre> revised it, and this works on separate lines but not in the function: (just first bit as a test:
[22:19:08] <omegatron> well, just iterate over it
[22:19:11] <ToastMasterSupre> cd $HOME/hub/dofiles; \
[22:19:19] <ToastMasterSupre> stow -t ~ "bash/"; \
[22:20:28] *** Quits: Gerula (~Gerula@user/gerula) (Ping timeout: 252 seconds)
[22:20:46] <ToastMasterSupre> http://termbin.com/88osm
[22:20:56] <ToastMasterSupre> gives me the same "Slashes are not permitted in package names"
[22:21:02] *** Quits: lonewulf` (~lonewulf@user/lonewulf) (Quit: leaving)
[22:21:04] <ToastMasterSupre> so there must be some kind of expansion issue for some stupid reason
[22:21:12] *** Joins: frostwork (~frostwork@user/frostwork)
[22:21:39] <Soliton> why don't you remove the... slash?
[22:22:35] <ToastMasterSupre> at the end?
[22:22:40] <ToastMasterSupre> \ ?
[22:22:43] <ToastMasterSupre> that character ^ ?
[22:23:11] <ToastMasterSupre> the problem is though this works line by line, again
[22:23:12] <Soliton> slash: /
[22:23:20] <ToastMasterSupre> it shouldn't be complaining about that
[22:23:21] <cousteau> I think this is too complicated.  I'll try simply iterating through the files and modifying them one by one, see if that works or if I need to call the command strictly with all the files at once
[22:23:40] <Soliton> well, discuss it out with stow.
[22:23:54] <omegatron> what is complicated about a simple text manipulation for each array element?
[22:24:30] <omegatron> do you know how to replace a text with another text in a variable?
[22:25:46] *** Joins: smlavine (~smlavine@sourcehut/user/smlavine)
[22:27:05] *** Joins: jkwnki (~jkwnki@p2e5793bc.dip0.t-ipconnect.de)
[22:27:17] *** Quits: Milos (~Milos@user/milos) (Quit: ZNC 1.8.2 - https://znc.in)
[22:27:18] <Soliton> # f() { printf '<%s>' "${@//.foo/.bar}"; }; f {1..9}.foo
[22:27:19] <shbot> Soliton: <1.bar><2.bar><3.bar><4.bar><5.bar><6.bar><7.bar><8.bar><9.bar>
[22:27:32] *** Joins: Milos (~Milos@user/milos)
[22:28:30] *** Quits: Swahili (~Swahili@cpc153693-lewi20-2-0-cust508.2-4.cable.virginm.net) (Quit: Leaving...)
[22:29:54] *** Joins: reset (~reset@user/reset)
[22:30:44] *** freshgumbubbles[ is now known as freshgum[m]
[22:31:29] <osse> cousteau: no I thought it was "ki"
[22:32:51] <cousteau> Oh.  No, it's with an uppercase K and a lowercase i
[22:33:13] *** Quits: forgotmynick (uid24625@id-24625.hampstead.irccloud.com) (Quit: Connection closed for inactivity)
[22:33:13] <cousteau> Whereas kilo (actual kilo) is with a lowercase k
[22:34:14] <cousteau> omegatron: well it's too late and I am getting tired.  Also I was thinking that maybe I should do this using some sort of "list comprehension"
[22:35:14] <osse> yep, that was news to me
[22:35:33] <osse> seems like a strange decision, but oh well
[22:35:43] <cousteau> I ended up just doing   new=(); for f in "$@"; do new+=("${f%.foo}.bar"); done   which I wasn't sure was the right thing to do
[22:35:51] <cousteau> It gets the job done though
[22:36:28] <cousteau> osse: the further the stupid 1024 system stays from SI, the better.
[22:36:52] *** Quits: clarkk (~clarkk@host31-53-69-254.range31-53.btcentralplus.com) (Quit: Leaving)
[22:37:04] <osse> KiB but giB lol
[22:37:32] *** Joins: drd (~drd@93-42-69-115.ip85.fastwebnet.it)
[22:38:18] <geirha> What? no, KiB, MiB, GiB, ...
[22:38:53] <ToastMasterSupre> I tried consolidating onto separate lines with just '/home/sam/dotfiles' but am getting this error:
[22:38:58] <ToastMasterSupre> "bash:  : command not found"
[22:39:00] <ToastMasterSupre> http://termbin.com/n6kn
[22:39:37] <Soliton> remove the useless backslashes.
[22:39:39] <geirha> you have a space after one of those backslashes
[22:40:01] <Soliton> the semicolons are useless as well.
[22:40:19] <geirha> why are you cd-ing to the same directory for each command?
[22:41:07] <ToastMasterSupre> geirha because Stow was having weird issues with specifying a pathname
[22:41:11] <ToastMasterSupre> removing the '\' marks worked
[22:41:12] <ToastMasterSupre> thanks a ton
[22:42:12] <Soliton> they have some feud with stow on what is a package name. so they do all kind of weird things hoping stow will change its mind.
[22:45:11] *** Joins: igemnace (~ian@user/igemnace)
[22:46:22] *** Quits: mozgalom (~mozgalom@194.144.47.113) (Quit: SO LONG SUCKERS!)
[22:46:33] *** Joins: John_Ivan (~John_Ivan@user/john-ivan/x-1515935)
[22:46:37] *** Joins: magla (~gelignite@55d45526.access.ecotel.net)
[22:47:44] *** Joins: Crescendo (~Crescendo@user/crescendo)
[22:47:50] *** Quits: jkwnki (~jkwnki@p2e5793bc.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[22:49:33] *** Joins: eoli3n (~eoli3n@162.38.105.222)
[22:52:17] *** Quits: eoli3n_ (~eoli3n@162.38.105.222) (Ping timeout: 264 seconds)
[22:53:34] *** Joins: akoana (~ah@user/akoana)
[22:54:16] *** Joins: xizhendu__ (~xizhendu@115.171.233.239)
[22:56:00] *** Quits: drd (~drd@93-42-69-115.ip85.fastwebnet.it) (Ping timeout: 260 seconds)
[22:57:23] *** Quits: xizhendu_ (~xizhendu@240e:305:7380:4300:d47:48bf:97c5:2de9) (Ping timeout: 264 seconds)
[22:57:54] *** Quits: frostwork (~frostwork@user/frostwork) (Quit: Leaving)
[23:01:17] *** Joins: drd (~drd@2001:b07:a70:9f1f:1562:34de:f50f:77d4)
[23:02:08] <CrtxReavr> Is there a way to translate this into a bash-native syntax?: echo $0 | awk 'BEGIN {FS="/"} ; {print $NF}'
[23:02:26] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[23:03:11] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[23:03:52] <CrtxReavr> besides ``basename $0`` I guess?
[23:04:03] <phy1729> !basename
[23:04:03] <greybot> basename(1) can strip the directory and extension from a path (dir/subdir/file.ext -> file.ext or file). A parameter expansion can do it cleaner and *much* faster: "${path##*/}", "${path%.*}", at the cost of missing edge cases like path=/ or path=/path/to/dir/
[23:04:56] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[23:05:14] <emanuele6> CrtxReavr: i sent you `var=/hello/hi/hey; printf '%s\n' "${var##*/}"' few seconds after you left and called me an asshole in #awk
[23:05:28] *** Quits: cousteau (~cousteau@user/cousteau) (Read error: Connection reset by peer)
[23:05:30] *** Quits: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net) (Quit: Quit)
[23:05:34] <CrtxReavr> Don't be a pedantic asshole then.
[23:05:34] <emanuele6> !$0 > $0 is also problematic
[23:05:34] <greybot> $0 is also problematic: $0 is like argv[0] in C. It's whatever the caller decides to put there. You can't rely on it. See http://mywiki.wooledge.org/BashFAQ/028 and http://www.bash-hackers.org/wiki/doku.php/scripting/posparams#the_first_argument
[23:05:46] <emanuele6> !plonk > CrtxReavr
[23:05:46] <greybot> CrtxReavr: The sound a name makes when it hits a kill file (or /ignore list).
[23:05:47] *** Joins: thebombzen (~thebombze@c-68-41-54-207.hsd1.mi.comcast.net)
[23:06:36] <CrtxReavr> Things like awk, sed, bash, Et al. have lots of overlap. . ..  going on about what's on topic and what isn't is just being a jackass.
[23:07:06] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[23:07:13] <CrtxReavr> It's not like I was in there asking about formatting a floppy disk.
[23:10:11] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[23:10:36] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[23:12:03] *** Quits: BSaboia (~bsaboia@187.19.138.198) (Quit: This computer has gone to sleep)
[23:12:46] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[23:12:58] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[23:13:01] *** Joins: BSaboia (~bsaboia@187.19.138.198)
[23:13:49] *** Quits: mei (~mei@user/mei) (Ping timeout: 252 seconds)
[23:14:37] *** Quits: Murray7501 (~Murray@89.109-247-180.customer.lyse.net) (Quit: leaving)
[23:16:33] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[23:16:35] *** Joins: firewyre- (~firewyre@pool-71-184-153-62.bstnma.fios.verizon.net)
[23:18:24] *** Quits: BSaboia (~bsaboia@187.19.138.198) (Quit: This computer has gone to sleep)
[23:18:29] *** Joins: Murray7501 (~Murray@89.109-247-180.customer.lyse.net)
[23:19:38] *** Quits: Crescendo (~Crescendo@user/crescendo) (Read error: Connection reset by peer)
[23:19:43] *** Joins: BSaboia (~bsaboia@187.19.138.198)
[23:19:57] *** Joins: Crescendo (~Crescendo@user/crescendo)
[23:21:17] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[23:25:03] *** Quits: han-solo (~hanish@user/han-solo) (Quit: leaving)
[23:25:11] *** Joins: n4dir (~user@mue-88-130-57-108.dsl.tropolys.de)
[23:25:27] *** Quits: DeaDSouL (~DeaDSouL@45.86.201.164) (Quit: leaving)
[23:25:32] *** Joins: andre144k (~andre144k@ipservice-092-219-168-114.092.219.pools.vodafone-ip.de)
[23:26:03] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[23:26:08] *** Quits: rgrinberg (~textual@201.182.226.118) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:27:30] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[23:30:33] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[23:31:43] <CrtxReavr> What's the best way to get aroudn ~ not expanding inside double quotes?
[23:32:02] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[23:34:33] <omegatron> aside from using $HOME (if it's available) ?
[23:35:07] <CrtxReavr> I guess.
[23:35:54] <omegatron> you could always do something like   var=( "abc" ~ "xyz" ) ; printf -v var2 "%s" "${var[@]}"
[23:36:15] *** Quits: Crescendo (~Crescendo@user/crescendo) (Ping timeout: 260 seconds)
[23:36:35] *** Quits: armin (~armin@unix.porn) (Quit: Lost terminal)
[23:36:37] *** Joins: Crescendo (~Crescendo@user/crescendo)
[23:37:40] *** Joins: armin (~armin@unix.porn)
[23:38:23] *** Quits: magla (~gelignite@55d45526.access.ecotel.net) (Quit: Stay safe!)
[23:38:26] *** Quits: BSaboia (~bsaboia@187.19.138.198) (Quit: This computer has gone to sleep)
[23:38:42] <CrtxReavr> That looks like. . . more than I want to deal with .
[23:38:43] <geirha> ~ expands to the content of HOME, so you can always use "$HOME" instead of ~
[23:38:44] *** Joins: BSaboia (~bsaboia@187.19.138.198)
[23:39:04] <CrtxReavr> Seems my choice is either don't double quote the expression or use ${HOME}
[23:39:13] <CrtxReavr> geirha, that's a solid point.
[23:39:23] *** Quits: solarized (~solarized@94-37-196-228.adsl-ull.clienti.tiscali.it) (Ping timeout: 264 seconds)
[23:39:40] <geirha> you can double quote the path, just leave the ~/ outside quotes.  ~/"$something"
[23:39:41] *** Joins: DeaDSouL (~DeaDSouL@45.130.136.155)
[23:40:13] *** Joins: solarized (~solarized@94-37-196-228.adsl-ull.clienti.tiscali.it)
[23:40:30] *** Joins: et_ (~et@user/et)
[23:41:16] *** Quits: et (~et@user/et) (Ping timeout: 252 seconds)
[23:41:16] *** et_ is now known as et
[23:41:39] <omegatron> that works, until something like  "abc"~"xyz" happens
[23:42:27] *** Quits: ToastMasterSupre (~ToastMast@70.126.240.148) (Quit: Connection closed)
[23:42:31] *** Quits: wigums (~wigums@user/wigums) (Read error: No route to host)
[23:42:49] <omegatron> so, you would have to be more specific to tell use your use case or test it yourself
[23:42:59] <omegatron> -use +us
[23:43:00] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[23:43:11] *** Quits: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net) (Client Quit)
[23:43:20] *** Joins: wigums (~wigums@user/wigums)
[23:43:28] *** Joins: zumba_addict (~zumba_add@c-71-194-58-34.hsd1.il.comcast.net)
[23:44:05] <CrtxReavr> . "${HOME}/etc/${my_name}.conf" # read config file
[23:44:27] <CrtxReavr> Just recently inserted that my_name var, so I double-quoted it and. . .with ~ it was failing.
[23:44:47] <CrtxReavr> I'm not going to fuss too much over it.
[23:45:03] *** Quits: unixman_home (~unixman2@183-233-4-64.mtawireless.com) (Remote host closed the connection)
[23:46:32] *** Joins: unixman_home (~unixman2@183-233-4-64.mtawireless.com)
[23:47:43] *** Joins: m0viefreak (~asdf@user/m0viefreak)
[23:51:34] *** Quits: twobitsprite (~twobitspr@66.115.154.150) (Ping timeout: 260 seconds)
[23:52:49] *** Joins: ToastMasterSupre (~ToastMast@70.126.240.148)
[23:53:13] *** Joins: twobitsprite (~twobitspr@195.181.171.227)
[23:53:22] <ToastMasterSupre> I am using 'arandr' so that I can easily use a GUI to figure out 'xrandr' settings. It dumps this in '~/.screenlayout'. I'm trying to add this one liner to my ~/.config/openbox/autostart file
[23:53:24] <guardian> izabera: I figured out a solution parsing the output of lsof
[23:53:34] <ToastMasterSupre> ~/.screenlayout/TwoMonitorSideBySide.sh
[23:53:38] <ToastMasterSupre> but that doesn't do anything
[23:55:56] *** Joins: wnbeser (~wnbeser@91-154-216-7.elisa-laajakaista.fi)
[23:56:49] *** Quits: ToastMasterSupre (~ToastMast@70.126.240.148) (Client Quit)
[23:57:03] *** Quits: John_Ivan (~John_Ivan@user/john-ivan/x-1515935) (Quit: Leaving)
[23:57:28] *** Joins: ToastMasterSupre (~ToastMast@70.126.240.148)
[23:59:16] *** Quits: gh34 (~textual@cpe-184-58-181-106.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[23:59:27] <ToastMasterSupre> related openbox script in ~/.config/openbox/autostart: https://termbin.com/gp7h
[23:59:53] <ToastMasterSupre> the xrandr script in ~/.screenlayout/TwoMonitorsSideBySide.sh:
