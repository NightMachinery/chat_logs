[00:00:38] *** Quits: guidoc (~guido@host-79-19-252-175.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[00:07:18] *** Joins: Poboy (~Poboy@user/poboy)
[00:07:33] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 265 seconds)
[00:08:46] *** Joins: Nekomander (~BadAdvice@user/badadvicecat)
[00:13:06] *** Joins: sy (~sy@sin.zm.is)
[00:13:28] *** Joins: deksar_ (~deksar@user/deksar)
[00:13:35] *** Quits: deksar_ (~deksar@user/deksar) (Remote host closed the connection)
[00:14:03] *** Joins: deksar (~deksar@user/deksar)
[00:15:14] <sy> Hey everyone, I'm trying to install MonicaHQ from https://github.com/monicahq/monica/blob/master/docs/installation/providers/generic.md - but getting stuck on: composer install --no-interaction --no-dev -- the main error seems to be - PHP Fatal error:  Uncaught Error: Undefined class constant 'Composer\Semver\Constraint\Constraint::STR_OP_EQ' in /var/www/chroot/monica/root/vendor/composer/semver/src/CompilingMatcher.php:54 -- here is the full output https://0x0.st/-w6o.txt
[00:15:14] <sy>  - any ideas what's going on?
[00:17:24] <__adrian> guessing you have an old composer version
[00:18:13] <__adrian> first thing i'd try, anyway.
[00:20:22] <sy> __adrian: i thought so too but it looks to be the latest -- Composer version 2.0.13 2021-04-27 13:11:08
[00:21:03] <sy> the latest seemed to be packaged, but running self-update gave me You are already using the latest available Composer version 2.1.6 (stable channel)
[00:22:02] *** Quits: deksar (~deksar@user/deksar) (Quit: Going offline, see ya!)
[00:23:34] <Sammitch> delete vendor and retry?
[00:23:41] <__adrian> yeah
[00:23:56] <__adrian> if not, then start looking through plugins and all the scripts being run
[00:24:04] <__adrian> possibly one or more don't like composer 2
[00:24:55] <sy> hah no way, i assumed that one was code
[00:25:10] <sy> that seems to have done it, thanks! onto the rest of this guide... *yawn*
[01:02:07] *** Joins: coder7of9 (~coder7of9@mail.cvage.ca)
[01:04:27] <coder7of9> i have a mysql database which is backed up each night via passthru and mysqldump.  it is almost 1g   the file is saved on the server as an sql file. i would like to compress this file. what is the best way to achieve this  as the file is so large i do no think i could bypass a temporary file created on disc prior to zip
[01:07:28] *** Quits: freeman_h (~freeman_h@2a02:c7f:fc54:ba00:5d43:45db:959a:84d6) (Quit: Leaving)
[01:18:23] *** Quits: coder7of9 (~coder7of9@mail.cvage.ca) (Quit: Client closed)
[01:23:01] *** Joins: authentictech (~authentic@cpc115036-bour7-2-0-cust490.15-1.cable.virginm.net)
[01:26:04] *** Joins: coder7of9 (~coder7of9@mail.cvage.ca)
[01:31:57] *** Parts: coder7of9 (~coder7of9@mail.cvage.ca) ()
[01:32:03] *** Joins: coder7of9 (~coder7of9@mail.cvage.ca)
[01:32:20] *** Quits: coder7of9 (~coder7of9@mail.cvage.ca) (Quit: Client closed)
[01:33:00] *** Joins: coder7of9 (~coder7of9@mail.cvage.ca)
[01:33:55] <__adrian> it's just a file, try and see what works best
[01:34:10] *** Quits: coder7of9 (~coder7of9@mail.cvage.ca) (Client Quit)
[01:34:15] <__adrian> note, storing a backup on the same server is almost exactly like not having a backup
[01:34:35] *** Joins: coder7of9 (~coder7of9@mail.cvage.ca)
[01:34:48] <Albright> coder7of9: Stop leaving. We're trying to answer your question. :P
[01:34:55] <coder7of9> sorry
[01:35:02] <__adrian> note, storing a backup on the same server is almost exactly like not having a backup
[01:35:21] <coder7of9> yes we have raid
[01:35:32] <biberu> why is PHP involved in taking backups?
[01:35:37] <__adrian> raid is not backup
[01:35:43] <coder7of9> this is daily backups and i will be using a separate  server  now
[01:35:52] <Albright> I'm currently using xz on a client site and I'm pretty happy with it but SQL data is "regular" enough that there's probably not a huge difference between the different compression algos. I do like that xz makes it easy to set the number of threads to be used when compressing though.
[01:37:00] <Albright> Yeah, get an Amazon S3 or equivalent account and push the compressed dumps to there, or get a cheap VPS with a lot of disk space and rsync to it.
[01:37:08] *** Quits: wovixo (~wovixo@128.104.205.49) (Quit: Leaving)
[01:37:29] <Albright> But yes, this isn't strictly a PHP question. :P
[01:37:31] <coder7of9> i am using cron to make an sql backup....
[01:37:48] <Albright> Yes, cron is fine for that.
[01:37:54] <coder7of9> okay not php
[01:38:28] <Albright> Just periodically check that the backups are actually being made and pushed, and that nothing has silently broken in that process.
[01:40:02] <coder7of9> yes they have been good ... so my question is    can i go directly  to zip   or must it be mysql file then zip    i think 1 g is too much for memory
[01:40:30] <Albright> Here's a PHP question. I found a job listing mentioning a "headless CMS." What is that? One with no admin control panel that just uses APIs to manipulate data or something?
[01:40:53] <__adrian> likely
[01:41:10] <Albright> coder7of9: I'd create the file first. That way if something goes wrong with the compression, you still have the original file. It's how I do it.
[01:41:26] <coder7of9> ok thanks
[01:41:27] <__adrian> "too much for memory"?
[01:41:51] <Albright> xz at least will delete the original file after creating an archive but you can change that behavior.
[01:42:32] <Albright> Also, note that if your dump has multiple SQL files, you'll need to use tar to bring them together into a single archive file first.
[01:45:04] <coder7of9> i saw an example where the file was in memory then sent to a zip ... i will not go this route
[01:45:53] <Albright> Yeah, that works fine for smaller files. For a 1GB file it will *probably* work too but I personally would rather not for something important.
[01:46:20] <biberu> hm? you can compress a stream without keeping it all in memory
[01:47:31] <biberu> what is php's role though? you mentioned passthru?
[01:49:50] <coder7of9> yes i am using passthru to call mysqldump
[01:50:03] <__adrian> :/
[01:50:20] <__adrian> php doesn't need to be involved
[01:51:05] <coder7of9> i can call mysqdump directly
[01:51:09] <coder7of9> okay i will try
[01:51:23] <coder7of9> tnanks :)
[01:51:42] <__adrian> is that why you were worried about memory? you were reading the dump into a variable in php?
[01:52:15] <coder7of9> yes
[01:52:15] <Albright> Oof
[01:52:37] <Albright> Naah, just use a shell script to invoke mysqldump directly and use > to put its output into a file.
[01:52:57] <Albright> eg, `mysqldump -u username -p password dbname > dbname.sql`
[01:53:15] *** Quits: freeworld (~vit@chello085216193138.chello.sk) (Ping timeout: 260 seconds)
[01:53:16] <coder7of9> yes i will do this
[01:53:39] <Albright> "Don't put secrets into your git repo" yeah yeah, use environment variables
[01:53:44] <Albright> But hopefully that gets you started.
[01:54:11] <biberu> you can pipe it through something to compress it before writing to disk if you're low on space, or want faster transfers
[01:55:37] <coder7of9> speed is not important and once i start saving to a storage server space should be okay...
[01:56:03] <biberu> just so you're aware of the option
[01:56:39] <coder7of9> what owuld you pipe it through
[01:56:42] <coder7of9> *would
[01:56:55] <coder7of9> i can research
[01:57:29] <biberu> e.g. gzip or xz
[01:57:37] *** Joins: TanoMarcelo (~TanoMarce@179.63.242.111)
[01:59:21] <coder7of9> i will test.. i like the idea of just saving zip files.  they are checked regularly
[02:00:38] <NoiseEee> i just updated to php8 and xdebug3 but have lost my pretty html-formatted stack-traces and errors, any tips?
[02:06:05] *** Quits: Poboy (~Poboy@user/poboy) (Quit: Client closed)
[02:07:55] *** Quits: magla (~gelignite@55d4c46b.access.ecotel.net) (Quit: Stay safe!)
[02:08:04] *** Joins: dlundgren_ (~dlundgren@utm1.ctic-inc.com)
[02:08:24] <celphi> what's the line to use multiple google fonts including multiple weights
[02:09:36] <celphi> echo '<link href="https://fonts.googleapis.com/css?family=Baloo|Roboto" rel="stylesheet">' does multiple fonts but doesnt work with weights for me
[02:10:45] <Albright> celphi: Also not a PHP question, but I think you do like ":400,700" after the font name to include those two weights
[02:10:50] *** Quits: dlundgren (~dlundgren@75-9-109-251.lightspeed.milwwi.sbcglobal.net) (Ping timeout: 252 seconds)
[02:10:50] *** dlundgren_ is now known as dlundgren
[02:10:52] <Sammitch> coder7of9: zip files are a dumpsterfire format, just change your command to `mysqldump ... | gzip -c > backup.sql.gz` and embrace simplicity
[02:11:22] <celphi> oh commas cool ty
[02:11:45] <Albright> Something like that…
[02:13:12] <celphi> that was it ty
[02:13:48] *** Quits: mdbauman (~mdbauman@99-184-99-19.lightspeed.gnvlsc.sbcglobal.net) (Remote host closed the connection)
[02:14:05] *** Joins: mdbauman (~mdbauman@2600:1700:7e60:f7c0:8c5a:a89b:b1ff:acd4)
[02:16:03] *** Quits: TanoMarcelo (~TanoMarce@179.63.242.111) (Quit: WeeChat 3.1)
[02:16:03] *** Quits: coder7of9 (~coder7of9@mail.cvage.ca) (Quit: Client closed)
[02:16:52] *** Joins: coder7of9 (~coder7of9@mail.cvage.ca)
[02:17:12] *** Quits: coder7of9 (~coder7of9@mail.cvage.ca) (Client Quit)
[02:28:26] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Quit: Leaving)
[02:29:39] *** Joins: lief (~lief@host-92-3-106-8.as13285.net)
[02:41:47] *** Quits: authentictech (~authentic@cpc115036-bour7-2-0-cust490.15-1.cable.virginm.net) (Quit: Leaving)
[03:00:18] *** Quits: LucaTM (~LucaTM@user/lucatm) (Quit: Textual IRC Client: www.textualapp.com)
[03:06:45] *** Quits: Nekomander (~BadAdvice@user/badadvicecat) (Ping timeout: 260 seconds)
[03:09:05] *** Quits: pmercado (~pmercado@186.107.32.56) (Ping timeout: 260 seconds)
[03:23:09] *** Joins: jetchisel (jetchisel@user/jetchisel)
[03:33:51] *** Joins: ferdna (~ferdna@user/ferdna)
[03:50:27] *** Quits: Alex8532 (Alex8532@user/alex8532) (Quit: Going offline, see ya! (www.adiirc.com))
[04:02:35] <CoJaBo> I broke something badly. Not sure when or where. This sucks D=
[04:04:18] <Blondie101010> please describe what you did and the effect
[04:06:22] <CoJaBo> I'm not sure what I did, but now the frontend tells everyone they have to select an emoji when they try to login
[04:06:34] <mujo> lol
[04:07:15] <Blondie101010> CoJaBo:  if this is not a joke, erase everything and restore a backup
[04:07:24] <Blondie101010> and fix your damn site
[04:08:05] <Blondie101010> I said erase everything, but it's better to move it somewhere safe to investigate
[04:08:12] <CoJaBo> Blondie101010: I'm pretty sure my typing as of late has disturbed air currents, which rippled outward, and will soon cause a hurricane over the atlantic.
[04:08:31] <Blondie101010> do you know what php is?
[04:08:54] <CoJaBo> I thought I did, but every day I code I hate PHP coders more and more <_<
[04:20:20] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 265 seconds)
[04:26:42] *** Joins: coder7of9 (~coder7of9@mail.cvage.ca)
[04:28:05] <coder7of9> after upgrading to php7 the headers that are being sent are all lowercase. i can defensive code for this down the road but at the moment i have apps that depend on uppercase headers. is there a setting to fix this
[04:31:00] *** Joins: keypusher (keypusher@user/keypusher)
[04:32:16] <coder7of9> in preparation for future support of HTTP/2 ??
[04:49:35] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[04:51:54] *** AmyMalik is now known as LXGHTNXNG
[04:54:07] *** Quits: d3sync (~d3sync@130.43.80.239.dsl.dyn.forthnet.gr) (Ping timeout: 252 seconds)
[04:55:39] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[04:57:34] *** Joins: d3sync (~d3sync@62.1.62.164.dsl.dyn.forthnet.gr)
[05:00:58] *** Quits: onizu (uid373383@id-373383.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[05:05:03] <__adrian> "coder7of9> i have apps that depend on uppercase headers."  your apps are broken. http headers are REQUIRED to be treated case-insensitively.
[05:05:49] *** Joins: a|3x (~a|3x@mail.maximum.guru)
[05:05:56] <a|3x> hi
[05:07:24] <a|3x> i have a strange issue with proc_get_status, the exitcode i get is always -1 even after the process terminates, any ideas?
[05:07:43] *** Quits: coder7of9 (~coder7of9@mail.cvage.ca) (Quit: Client closed)
[05:12:45] <__adrian> did you see "Return Values" on the manual page?
[05:12:58] <__adrian> https://php.net/proc_get_status
[05:16:59] <Blondie101010> a|3x:  try to var_dump() it
[05:17:26] <Blondie101010> just to be sure
[05:24:29] <a|3x> maybe this is the issue: https://bugs.php.net/bug.php?id=71804
[05:25:20] <a|3x> yes yes... i've read the manual page thoroughly
[05:25:25] *** Joins: semeion (~semeion@user/semeion)
[05:27:52] <Blondie101010> a|3x:  first, how did you get the -1?  is it with var_dump()?
[05:30:05] <a|3x> print_r, same difference
[05:30:16] <Blondie101010> very different, but likely a real -1
[05:30:35] <Blondie101010> so did you call it twice?
[05:31:38] <a|3x> it is called in a loop
[05:31:46] <a|3x> https://github.com/mikehaertl/php-shellcommand/blob/1.6.4/src/Command.php
[05:31:48] <a|3x> not my code
[05:31:48] <Blondie101010> then reread the return value
[05:32:12] <a|3x> it returns -1 for every call
[05:32:24] <a|3x> not a single time `exitcode` is not -1
[05:32:53] <Blondie101010> hmmm, what command did you test?
[05:33:11] <a|3x> the same command works perfectly with the above exec() code
[05:33:21] <a|3x> the process terminates successfully but there is never an exitcode
[05:33:45] <a|3x> im guessing this is due to this sigchld shenanigans
[05:34:26] *** Joins: vlm (~vlm@user/vlm)
[05:34:42] <Blondie101010> then var_dump(proc_get_status($process));
[05:37:06] <a|3x> i did print_r($status) after line 424 which is what needs to be done in this case
[05:37:15] <a|3x> im getting exitcode -1 all the time
[05:38:02] <Blondie101010> I meant to look at other elements
[05:38:28] <Blondie101010> if there was a signal, it would show
[05:38:32] <a|3x> there is not much, running=1 for a while then running is false
[05:38:41] <a|3x> no signals of any kind
[05:38:45] <a|3x> i think it runs successfully
[05:39:27] <Blondie101010> show the output of var_dump($status) after it is not running
[05:40:56] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 252 seconds)
[05:47:45] <a|3x> it is pretty barren, termsig=0, stopsig=0, exitcode=-1, stopped=false, signaled=false, running=false, pid=somenumber, command=string...
[05:49:38] <Blondie101010> what is your OS?
[05:52:01] <a|3x> linux
[05:52:11] *** Joins: WishBoy (~WishBoy@user/wishboy)
[05:52:18] <a|3x> looks like i do have '--enable-sigchild' in my configure command
[05:52:20] <a|3x> i think this is the issue
[05:53:47] *** Joins: semeion (~semeion@user/semeion)
[05:53:56] <Blondie101010> what are you talking about?  you refused to give any command you used
[05:54:06] <Blondie101010> and apparently haven't tested many
[05:54:29] <Blondie101010> show us how to reproduce your problem
[05:54:46] *** semeion is now known as mnemonic
[05:57:19] <a|3x> Blondie101010, you can't reproduce the issue, i can't reproduce the issue either, it only happens on this one server
[05:57:20] <Blondie101010> here is my first test: https://hastebin.com/onozamidaj.php
[05:57:34] <Blondie101010> you don't give any useful information
[05:57:37] <Blondie101010> what is the command?
[05:57:41] <a|3x> the command doesn't matter as i've said
[05:57:51] <Blondie101010> does that server have problems with all commands including mine?
[05:58:04] <a|3x> the same exact command works fine with exec()
[05:58:11] <Blondie101010> not what I asked!
[05:58:32] *** Joins: jgrim2360 (~jgrim@172.56.10.234)
[05:58:37] <Blondie101010> try "bash sleep 2" like I did
[05:58:46] <Blondie101010> does it give the same output as mine?
[06:00:33] <a|3x> what's your code for onozamidaj.php?
[06:01:10] <Blondie101010> what?
[06:01:16] <Blondie101010> I just tested that class
[06:01:45] *** Quits: jgrim236 (~jgrim@d118-75-146-29.try.wideopenwest.com) (Ping timeout: 260 seconds)
[06:02:29] <a|3x> if you could share the code, i'll make sure we are running the same thing
[06:02:34] <Blondie101010> but frankly reading the package description makes me feel sick as that person doesn't know what words mean
[06:02:55] <Blondie101010> $cmd = new Command("bash sleep 2");
[06:02:55] <Blondie101010> $cmd->execute();
[06:03:51] *** Joins: jgrim236 (~jgrim@d60-65-99-197.col.wideopenwest.com)
[06:03:58] <Blondie101010> you might want to use mikehaertl\shellcommand\Command
[06:04:33] <Blondie101010> I just copied it without the namespace for a quick test
[06:05:02] <Blondie101010> oh and it put a var_export where you said you used print_r
[06:05:26] <Blondie101010> s/it/I/
[06:05:42] *** Quits: jgrim2360 (~jgrim@172.56.10.234) (Ping timeout: 265 seconds)
[06:07:03] <Blondie101010> but the code doesn't look bad
[06:13:30] <a|3x> Blondie101010, https://hastebin.com/xafupesoka.pl
[06:16:18] <a|3x> the only thing i can think of is to enable useExec option if there is a '--enable-sigchild' configure option
[06:16:30] <a|3x> the question is how to test for '--enable-sigchild'...
[06:16:44] <a|3x> without using ob_start() and phpinfo()...
[06:18:06] <a|3x> what's the proper way to get php's configure command programmatically? or maybe test for the existence of sigchild handler?
[06:18:08] <Blondie101010> you didn't run the same command
[06:18:14] <a|3x> jesus chirst
[06:18:21] <a|3x> who the fuck cares
[06:18:24] <Blondie101010> it behaves differently on mine too
[06:18:29] <Blondie101010> we're comparing
[06:18:44] <Blondie101010> and you gave me a different output because of a different command
[06:19:34] <Blondie101010> and I'm starting to understand your case based on this
[06:19:57] <Blondie101010> does your command make sleep system calls?
[06:20:24] <Blondie101010> bash doesn't
[06:20:37] <a|3x> here you go https://hastebin.com/uwojacawuw.pl
[06:21:06] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Ping timeout: 260 seconds)
[06:21:23] <Blondie101010> not what I wanted or expected, but the error could point you in the right direction
[06:21:38] <Blondie101010> could be a library problem
[06:21:51] <a|3x> what error
[06:21:56] <a|3x> i don't use bash in my command
[06:22:06] <Blondie101010>  /bin/sleep: /bin/sleep: cannot execute binary file
[06:22:16] <Blondie101010> that is very abnormal
[06:22:22] <a|3x> you wanted to use bash
[06:22:28] <Blondie101010> not the point
[06:22:28] <a|3x> i don't use bash
[06:22:38] <a|3x> my actual command doesn't use bash
[06:22:40] <a|3x> or sleep
[06:22:46] <Blondie101010> not the point
[06:22:48] <a|3x> the actual command is running a binary
[06:22:59] <a|3x> so there is no errors
[06:23:01] <Blondie101010> that error could really point you in the right direction
[06:23:08] <Blondie101010> yes, how come?
[06:23:26] <Blondie101010> why can't it run an executable that it finds and has permission to?
[06:23:34] <Blondie101010> probably because of library problems!
[06:24:38] <a|3x> you know, you are not really helping
[06:24:55] <Blondie101010> sorry you don't realize that I just found your problem which is on the system
[06:25:05] <Blondie101010> you're missing an important library!
[06:25:14] <a|3x> which library
[06:25:26] <a|3x> tbh, this is ovh hosting, not really my system
[06:26:01] <Blondie101010> something like linux-vdso.so, libc.so, or ld-linux-x86-64.so
[06:26:27] <Blondie101010> your system is broken
[06:26:35] <a|3x> hm..
[06:27:07] <a|3x> i'll have to look into it
[06:27:10] * Blondie101010 nods
[06:27:52] <a|3x> how can libc be missing, everything uses it
[06:27:57] <Blondie101010> hosting??
[06:28:04] <a|3x> wouldn't the system not boot if libc was missing?
[06:28:07] <Blondie101010> aw then it's due to the chroot
[06:28:16] <Blondie101010> maybe they did that intentionally, or by mistake
[06:28:25] <a|3x> could be a security measure
[06:28:37] <Blondie101010> not really security, but limiting for sure
[06:29:12] <Blondie101010> so that system is incompatible with what you're doing
[06:29:13] <a|3x> why does exec() work then?
[06:29:39] <Blondie101010> do you know what a chroot is?
[06:31:02] <Blondie101010> it changes what appears to be /, therefore anything that depends on regular / could be mapped improperly (for any reason)
[06:31:18] <a|3x> yes i know what chroot is
[06:31:26] <Blondie101010> in this case I found that a lib is not mapped, and in your case probably a matter of /proc
[06:32:10] <Blondie101010> ls -l /proc
[06:34:10] <a|3x> let me check
[06:35:28] <a|3x> ls -l /proc gives "Command unexpectedly terminated without error message"
[06:35:40] <a|3x> not sure why /proc would be important in this case
[06:35:52] <Blondie101010> see a broken OS, not made to run as a regular OS
[06:36:11] <Blondie101010> they don't support what you do
[06:38:10] <Blondie101010> a|3x:  where do you think proc_get_status() checks?
[06:38:24] <Blondie101010> somewhere under /proc/$pid/
[06:38:45] <a|3x> see but im able to get my stuff to work with 'useExec'
[06:38:55] <Blondie101010> I just told you why
[06:39:07] <a|3x> it doesn't need /proc?
[06:39:50] <Blondie101010> where are processes listed with their status, file descriptors, response, etc?
[06:39:53] <Blondie101010> I just said it!
[06:42:08] <a|3x> mkey
[06:42:34] <a|3x> thanks for the help
[06:42:39] <Blondie101010> np
[06:42:54] <Blondie101010> it was an intriguing case, and I didn't expect it
[06:46:46] <a|3x> what do you think of this '--enable-sigchild' thing?
[06:47:51] <a|3x> could it be another thing that would cause incorrect exitcode behavior?
[06:49:39] <__adrian> what "incorrect exit code"?
[06:49:50] <a|3x> -1
[06:49:53] <__adrian> are you talking about this?  https://github.com/mikehaertl/php-shellcommand/blob/1.6.4/src/Command.php#L424
[06:50:10] <a|3x> https://bugs.php.net/bug.php?id=71804
[06:50:16] <__adrian> and did you read the manual as i suggested some time ago?  https://php.net/proc_get_status
[06:51:05] <__adrian> you would always get  -1  unless the process happens to have already exited on the first iteration
[06:51:17] <__adrian> that's expected behavior and described on the man page
[06:51:18] <a|3x> right
[06:51:36] <a|3x> but on this server im always getting -1
[06:51:57] <Blondie101010> yes, because of host system limitations
[06:52:37] <a|3x> my question would be, assuming there were no limitations with /proc, would it still not work due to the bug described here https://bugs.php.net/bug.php?id=71804
[06:52:41] <__adrian> do you have a test case where you know that the process has already exited?
[06:53:17] <__adrian> a|3x: the "bug" described there is a documentation error. and it was marked fixed in 2016.
[06:53:52] <a|3x> i guess 'sleep 2' works, so that means it can work, but what if somebody sets up a SIGCHLD handler
[06:54:35] <a|3x> __adrian, ya, and...?
[06:54:49] <Blondie101010> then it will interact with the corresponding PHP build option
[06:55:29] <__adrian> ...and therefore, no, it won't do anything because of that bug, because that bug is *fixed, and also *wasn't a bug in the code in the first place
[06:55:55] <a|3x> i mean, the bug page describes something interesting
[06:56:19] <__adrian> without having dug too much into it, if someone compiled php with --enable-sigchild then i suppose you'd probably see the behavior
[06:57:03] <__adrian> not sure how relevant that is, though, since there are other factors in play here (your host, and your code)
[06:57:06] *** Joins: christianPHP (~christian@190.232.168.7)
[06:57:10] <a|3x> from what i understand, you will get -1 if you have that compile command option and that signal is caught by a signal handler set up by some other php code
[06:58:02] <__adrian> yes, that's what it sounds like. and that seems like it would make sense
[06:58:04] <a|3x> im writing code for a large number of users, i need to handle these cases
[06:58:39] <__adrian> then specify in your docs that you shouldn't use --enable-sigchild
[06:58:44] <Blondie101010> large number of users seems unrelated to how you run that command
[06:59:06] <__adrian> but yeah, won't fix the loop issue
[06:59:33] <a|3x> Blondie101010, i don't understand
[07:00:02] <Blondie101010> there's no valid reason for 99.99% of websites or web apps to catch signals
[07:00:14] <Blondie101010> even if you have billions of users
[07:00:18] <a|3x> see but this is wordpress we are talking about here
[07:00:23] <__adrian> heh
[07:00:41] <a|3x> who knows what plugins they have and what signals they are catching
[07:01:02] <__adrian> if the answer is not "you do" then i don't see why this would be an issue
[07:01:12] <Blondie101010> you choose the plugins you enable if I remember correctly
[07:01:28] <__adrian> you can't be responsible for everything a user does
[07:01:44] <__adrian> and i'm not saying that as an absolution, i mean it's literally not possible
[07:01:47] <a|3x> im not the one choosing though
[07:02:31] <a|3x> what i was going to do is detect lack of /proc and the SIGCHLD signal handler and do useExec for those cases
[07:02:52] <a|3x> but i see there are some difficulties doing the second thing
[07:03:40] <Blondie101010> it's not a big mix
[07:03:54] <Blondie101010> sigchld behaves as expected
[07:04:59] <Blondie101010> so basically 2 different concerns
[07:05:24] <a|3x> ok thanks for the help guys
[07:05:34] <Blondie101010> np
[07:08:27] <Blondie101010> if you could disable the sigchld, you'd get the exact same thing you got when you did: ls -l /proc
[07:09:27] <Blondie101010> echo $?
[07:09:43] <Blondie101010> that could give a hint
[07:10:58] <Blondie101010> is it -1?
[07:11:26] <a|3x> "echo $?" => "Command unexpectedly terminated without error message"
[07:11:45] <a|3x> but i didn't disable sigchild
[07:13:09] <Blondie101010> hold on
[07:13:13] <Blondie101010> do you have shell access?
[07:13:43] <a|3x> no i don't
[07:13:51] <Blondie101010> ahhh ok
[07:14:01] <a|3x> im running this from php files via web server
[07:14:29] <Blondie101010> shell_exec() could be useful for troubleshooting
[07:15:08] *** Joins: James0r (~James0r@98.37.90.53)
[07:15:43] <Blondie101010> actually exec() is better
[07:20:31] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[07:25:37] *** Joins: ferdna (~ferdna@user/ferdna)
[07:59:52] <a|3x> Blondie101010, https://hastebin.com/ozirowecir.php
[07:59:56] <a|3x> proc is fine
[08:00:17] <a|3x> so it must be some other issue
[08:12:02] *** Joins: guidoc (~guido@host-79-52-252-33.retail.telecomitalia.it)
[08:16:25] *** Quits: James0r (~James0r@98.37.90.53) (Remote host closed the connection)
[08:17:13] *** Quits: christianPHP (~christian@190.232.168.7) (Quit: Client closed)
[08:27:08] <deltab> "bash sleep 2" gives me the "cannot execute binary file" error too
[08:27:21] <deltab> it's because /bin/sleep isn't a shell script
[08:32:37] *** Joins: freeworld (~vit@chello085216193138.chello.sk)
[08:46:51] *** Joins: Rockwood (~Rocky@user/rocky)
[08:47:19] *** Quits: Rockwood (~Rocky@user/rocky) (Client Quit)
[08:47:44] *** Joins: Rockwood (~Rocky@user/rocky)
[08:57:16] *** Quits: Rockwood (~Rocky@user/rocky) (Quit: The Time is Over)
[09:10:05] *** Quits: dlundgren (~dlundgren@utm1.ctic-inc.com) (Quit: dlundgren)
[09:10:21] *** Quits: ferdna (~ferdna@user/ferdna) (Quit: Leaving)
[09:38:22] *** Joins: dlundgren (~dlundgren@75-9-109-251.lightspeed.milwwi.sbcglobal.net)
[09:42:40] *** Quits: dlundgren (~dlundgren@75-9-109-251.lightspeed.milwwi.sbcglobal.net) (Client Quit)
[09:43:28] *** Joins: bobdobbs (~user@2406:5a00:f027:d00:d897:66c8:8bf3:ad08)
[09:43:30] *** Joins: kerunaru (~Jmcb@64.red-79-146-101.dynamicip.rima-tde.net)
[09:46:49] *** Quits: wowas (~wowas@proxy01.imos.net) (Ping timeout: 252 seconds)
[09:48:24] *** Joins: ramblebamble (ramblebamb@gateway/vpn/protonvpn/ramblebamble)
[09:49:32] *** Quits: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com) (Quit: Bye...)
[09:52:31] *** Joins: Naktibalda (~Naktibald@88.135.22.17)
[09:53:27] *** Quits: ramblebamble (ramblebamb@gateway/vpn/protonvpn/ramblebamble) (Quit: WeeChat 3.2)
[10:03:39] *** Quits: lief (~lief@host-92-3-106-8.as13285.net) (Remote host closed the connection)
[10:18:10] *** Quits: kerunaru (~Jmcb@64.red-79-146-101.dynamicip.rima-tde.net) (Ping timeout: 260 seconds)
[10:26:25] *** Quits: WishBoy (~WishBoy@user/wishboy) ()
[10:28:39] *** Joins: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk)
[10:33:21] *** Joins: Alex8532 (Alex8532@user/alex8532)
[10:35:12] *** Quits: guidoc (~guido@host-79-52-252-33.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[10:40:21] <TML> a|3x: Just have your plugin detect the situations where it can't reasonably run, and error out; that's what every other Wordpress plugin does.
[10:44:49] *** Joins: undefined_bob (~undefined@user/undefined-bob/x-5411918)
[10:53:41] *** Joins: guidoc (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f)
[11:13:04] <biberu> error: wordpress detected?
[11:16:08] *** Joins: MCMiic (~mcmic@63.120.199.77.rev.sfr.net)
[11:18:32] <undefined_bob> thats always a bad error
[11:18:51] *** Quits: mnemonic (~semeion@user/semeion) (Quit: WeeChat 3.2)
[11:24:41] *** Parts: wwwi (~wwwi@128-200-138.netrun.cytanet.com.cy) (Leaving)
[11:27:07] *** Quits: bobdobbs (~user@2406:5a00:f027:d00:d897:66c8:8bf3:ad08) (Remote host closed the connection)
[11:38:25] *** Joins: bobdobbs (~user@2406:5a00:f027:d00:7598:6018:d1ed:3655)
[11:40:13] *** Joins: Norkle (~norkle@admin.nasa-g0v.com)
[11:52:25] *** Joins: memoryleak (~memorylea@77-58-142-250.dclient.hispeed.ch)
[12:00:31] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:174:54c4:aee:8a7c)
[12:02:53] *** Joins: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566)
[12:11:58] *** Quits: cisco87 (~quassel@lnxg33k.com) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[12:18:22] *** Joins: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3f1)
[12:22:22] *** Joins: NeoCron (~NeoCron@p200300c4cf1c95007f0aa1e4d57a6222.dip0.t-ipconnect.de)
[12:31:55] *** Joins: hackwar (~Hannes@p200300c92711d200d1d151631dc0d048.dip0.t-ipconnect.de)
[12:32:56] <hackwar> Hi, when running a CLI script, I get these errors: PHP Warning:  simplexml_load_file(): I/O warning : failed to load external entity "<Path>/language/en-GB/en-GB.xml" in <Path>\libraries\src\Language\LanguageHelper.php on line 672
[12:33:21] <hackwar> I get this for basically every time an XML file is loaded with simplexml_load_file()
[12:33:57] <hackwar> the path is correct. I have no idea where to start. PHP 7.4.22 on Windows 10
[12:50:52] <Naktibalda> you XML files has references to that language file
[12:51:37] <hackwar> that is the file that the code is trying to open.
[12:52:30] <Naktibalda> the check file and directory permissions
[12:52:59] <Naktibalda> try to file_get_contents() the same file and see if you get an easier to understand error
[12:53:02] <hackwar> it's windows. the script is run with the same user and all
[12:54:06] <biberu> hackwar: that path looks off, it's an absolute path
[12:54:57] *** Joins: cisco87 (~quassel@lnxg33k.com)
[12:55:02] <hackwar> yes, the path is absolute and I abbreviated it. As I said, I checked that the file exists and the path is correct.
[12:55:36] <biberu> so you have e.g. c:/languages/en-GB/..?
[12:56:30] <hackwar> no, I have D:\apachefriends\xampp\htdocs/language/en-GB/en-GB.xml
[12:57:31] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 252 seconds)
[12:58:35] <biberu> so that doesn't seem right, does it work if you 1) update it to the correct absolute path and then 2) adjust it to be relative instead?
[13:04:06] <hackwar> The thing is, that this is code from a widely used framework and it works perfectly fine in the web context.
[13:06:01] <Naktibalda> it isn't a code issue, it is a file issue.
[13:06:25] <hackwar> the exact same code with the exact same file works perfectly fine in the web context.
[13:06:43] <Naktibalda> XML error messages are often difficult to decrypt check if file is readable using is_readable function or try to open it
[13:07:26] <Naktibalda> we don't support Windows
[13:10:24] <biberu> hackwar: well, you didn't show any code, the xml, or even name the framework or web context (is that even using the same os?)
[13:16:58] <hackwar> it is on the same computer. No VMs or anything.
[13:17:02] <hackwar> the framework is Joomla
[13:17:28] <hackwar> and the code is lterally just calling that file with simplexml_load_file()
[13:21:58] *** Joins: aruns (~aruns@51.241.15.11)
[13:27:22] <biberu> hackwar: are the xmls available anywhere?
[13:36:29] *** Quits: TakinOver (~quassel@47.150.196.72) (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
[13:46:54] <hackwar> https://github.com/joomla/joomla-cms/blob/3.10-dev/language/en-GB/en-GB.xml
[13:48:37] <biberu> and the file that refers to it?
[13:49:37] <hackwar> https://github.com/joomla/joomla-cms/blob/3.10-dev/libraries/src/Language/LanguageHelper.php#L672
[13:50:25] <biberu> what is $path when it fails?
[13:54:17] *** Joins: keypusher (keypusher@user/keypusher)
[14:18:26] *** Quits: Norkle (~norkle@admin.nasa-g0v.com) (Quit: Lost terminal)
[14:30:21] <hackwar> D:\apachefriends\xampp\htdocs/language/en-GB/en-GB.xml
[14:40:22] <biberu> hackwar: ah, i misread what you meant by <Path>/ above, read that as an element and not a redaction
[14:41:55] <biberu> hackwar: would make a simple test case where only open the file without all the joomla stuff, that'll probably give the same error, then start investigating that users and permissions are what you expect. did you try what Naktibalda suggested above?
[14:42:27] <hackwar> I tried opening the file at the beginning of my script, exact same values and it works fine.
[14:45:52] <hackwar> ok, found the issue. A dependency was calling libxml_disable_entity_loader(true), which caused all of this.
[14:50:19] *** Joins: delboy1978uk (~delboy197@202.42-132-109.adsl-dyn.isp.belgacom.be)
[14:50:29] <delboy1978uk> hi guys
[14:51:10] *** Quits: hackwar (~Hannes@p200300c92711d200d1d151631dc0d048.dip0.t-ipconnect.de) (Quit: Leaving.)
[14:52:24] *** Joins: Hiccup (cHoy@2404:8000:1003:ace::510)
[14:54:44] *** Joins: LucaTM (~LucaTM@user/lucatm)
[15:26:33] *** Joins: dlundgren (~dlundgren@75-9-109-251.lightspeed.milwwi.sbcglobal.net)
[15:31:50] *** Quits: Icedream (~icedream@hzn-b.serverkomplex.de) (Quit: A lol made me boom.)
[15:35:15] *** Joins: Icedream (~icedream@hzn-b.serverkomplex.de)
[15:58:49] *** Quits: guidoc (~guido@2001:b07:6455:ac4f:3641:5dff:fe55:2a8f) (Quit: WeeChat 3.2)
[15:59:07] *** Joins: BadAdviceCat (~BadAdvice@user/badadvicecat)
[16:10:25] *** Joins: Norkle (~norkle@admin.nasa-g0v.com)
[16:16:17] *** Joins: onizu (uid373383@id-373383.highgate.irccloud.com)
[16:26:36] *** Quits: Hiccup (cHoy@2404:8000:1003:ace::510) (Remote host closed the connection)
[16:33:12] *** Joins: pmercado (~pmercado@186.107.32.56)
[16:39:36] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[16:40:45] *** Joins: guidoc (~guido@host-95-235-251-114.retail.telecomitalia.it)
[16:45:02] *** Quits: Norkle (~norkle@admin.nasa-g0v.com) (Quit: Lost terminal)
[16:48:57] *** Quits: Alex8532 (Alex8532@user/alex8532) (Quit: Going offline, see ya! (www.adiirc.com))
[16:59:20] *** Joins: Norkle (~norkle@admin.nasa-g0v.com)
[17:12:25] *** Quits: guidoc (~guido@host-95-235-251-114.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[17:14:37] *** Quits: jetchisel (jetchisel@user/jetchisel) (Quit: Unfortunately time is always against us -- [Morpheus])
[17:20:33] *** Quits: delboy1978uk (~delboy197@202.42-132-109.adsl-dyn.isp.belgacom.be) (Quit: delboy1978uk)
[17:49:43] *** Joins: Alex8532 (Alex8532@user/alex8532)
[17:54:23] *** Joins: guidoc (~guido@host-95-235-251-114.retail.telecomitalia.it)
[18:03:12] *** Joins: delboy1978uk (~delboy197@d51A46DB4.access.telenet.be)
[18:05:04] *** Joins: Poboy (~Poboy@user/poboy)
[18:07:51] *** Quits: Norkle (~norkle@admin.nasa-g0v.com) (Killed (NickServ (GHOST command used by norkle__)))
[18:22:52] *** Joins: christianPHP (~christian@190.232.168.7)
[18:33:03] *** Quits: BadAdviceCat (~BadAdvice@user/badadvicecat) (Quit: Quitting)
[18:40:51] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[18:41:23] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 252 seconds)
[18:53:08] *** Quits: christianPHP (~christian@190.232.168.7) (Quit: Client closed)
[18:57:52] *** Joins: ash_worksi (~ash_m@user/ash-m/x-3292451)
[19:02:50] *** Quits: fahrradToken (~fahrradTo@2a02:810b:149f:f0f4::3f1) (Ping timeout: 260 seconds)
[19:05:58] *** Quits: undefined_bob (~undefined@user/undefined-bob/x-5411918) (Quit: WeeChat 1.5)
[19:09:28] <Junxter> hi
[19:09:57] *** Quits: sidy (~sidy@user/sidy) (Quit: Leaving)
[19:14:02] *** Joins: magla (~gelignite@55d42fe3.access.ecotel.net)
[19:18:38] *** Joins: Xaldafax (~xaldafax@cpe-198-72-160-101.socal.res.rr.com)
[19:23:04] *** Quits: mIk3_08 (~Thunderbi@user/mik3-08/x-2852566) (Quit: mIk3_08)
[19:36:18] *** Quits: otisolsen70 (~otisolsen@xd4ed80b5.cust.hiper.dk) (Ping timeout: 260 seconds)
[19:43:42] *** Quits: axisys (~axisys@ec2-34-225-151-46.compute-1.amazonaws.com) (Quit: Lost terminal)
[19:45:14] *** Joins: HyP3r (~HyP3r@user/hyp3r)
[19:45:25] *** Joins: axisys (~axisys@ec2-34-225-151-46.compute-1.amazonaws.com)
[19:45:54] <HyP3r> Hello, I want to use error_log in my code. With phpinfo I can see that error_log is set to C:\Windows\temp\PHP80x64_errors.log but there is nothing
[19:46:11] <HyP3r> While startup of the php-fastcgi engine some messages are written there
[19:46:14] <HyP3r> But not mine
[19:46:56] <HyP3r> Acutally my php is just error_log("foo", 0); phpinfo(); die();
[19:47:01] <HyP3r> But there is no logging in this file
[19:47:06] <HyP3r> I slowly getting crazy
[19:48:43] <HyP3r> if I do die(errorl_log("",0)); I can see a 1 which should be the "true" of the return value of error_log so the logging itself was prop. sucessfully
[19:50:21] <HyP3r> log_error is On
[19:52:04] *** Joins: terminalpusher (~terminalp@2a01:586:850d:1:8c87:8664:86bf:80ff)
[19:52:43] <terminalpusher> Hello. I was able to start my apache2 server. `localhost` shows the Apache2 Ubuntu Default Page. where do I now add my php file so that I can do localhost/myfile.php to run it?
[19:53:27] <Naktibalda> terminalpusher: most likely in /var/www/html
[19:53:40] <terminalpusher> I already tried that but `echo 'a'` in it does nothing
[19:53:45] <terminalpusher> if I go to index.html/a.php
[19:53:51] <terminalpusher> and yes I put <?php ?>
[19:54:08] <terminalpusher> I.e. <?php echo 'a'?> but I had no output on the page
[19:55:31] <terminalpusher> Naktibalda do you know why that is? I called the file `a.php` and put it into /var/www/html and went into my browser to localhost/a.php but I can't see an "a" on the page
[19:57:32] <da_wunder> it should be `<php echo 'a'; ?>` note that `;` char there
[19:58:18] <terminalpusher> Here's my full content of a.php. Is this correct? https://paste.gg/p/anonymous/8635c68b05f64a23806079248a15a509
[19:58:22] <terminalpusher> I tried that too
[19:58:25] <terminalpusher> I see no output
[19:58:49] <da_wunder> ok, so what do you see?
[19:58:59] <da_wunder> and what is the url that you're using?
[19:59:20] <terminalpusher> localhost/a.php
[19:59:32] <terminalpusher> if I use your code (literally just that) it says "The character encoding of the HTML document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the page must be declared in the document or in the transfer protocol." in the console
[19:59:36] <terminalpusher> I'm in Firefox
[19:59:57] <terminalpusher> If I use `<?php echo 'a'; ?>`
[20:01:24] <Naktibalda> terminalpusher: Look at View Source in firefox, do you see PHP code?  Ctrl+U
[20:01:39] <terminalpusher> yup. All it says on that page is `<?php echo 'a'?>`
[20:01:40] <terminalpusher> in red
[20:01:46] <Naktibalda> install php then
[20:01:51] <da_wunder> ^
[20:02:14] <terminalpusher> the weird thing is that it doesn't show the semicolon in CTRL+U
[20:02:44] <terminalpusher> huh, well that was easy lol
[20:02:54] <terminalpusher> kinda forgot about "sudo apt install php"
[20:04:14] <HyP3r> All I try... logging is not possible. Plz help me
[20:04:28] *** Quits: Naktibalda (~Naktibald@88.135.22.17) (Quit: On the other hand, you have different fingers.)
[20:05:28] *** Quits: guidoc (~guido@host-95-235-251-114.retail.telecomitalia.it) (Quit: WeeChat 3.2)
[20:12:01] *** Quits: ash_worksi (~ash_m@user/ash-m/x-3292451) (Ping timeout: 265 seconds)
[20:14:05] *** Joins: mdbauman_ (~mdbauman@2600:1700:7e60:f7c0:690a:3d8b:bfbe:84d7)
[20:16:37] *** Quits: Poboy (~Poboy@user/poboy) (Quit: Client closed)
[20:17:07] *** Quits: mdbauman (~mdbauman@2600:1700:7e60:f7c0:8c5a:a89b:b1ff:acd4) (Ping timeout: 252 seconds)
[20:24:19] *** Joins: Rockwood (~Rocky@user/rocky)
[20:29:06] *** Quits: MCMiic (~mcmic@63.120.199.77.rev.sfr.net) (Quit: Konversation terminated!)
[20:31:07] *** Quits: terminalpusher (~terminalp@2a01:586:850d:1:8c87:8664:86bf:80ff) (Remote host closed the connection)
[20:35:26] *** Joins: Rockwood_ (~Rocky@user/rocky)
[20:37:54] *** Quits: Rockwood (~Rocky@user/rocky) (Ping timeout: 260 seconds)
[20:40:03] *** Quits: memoryleak (~memorylea@77-58-142-250.dclient.hispeed.ch) ()
[20:43:43] *** Quits: delboy1978uk (~delboy197@d51A46DB4.access.telenet.be) (Quit: delboy1978uk)
[20:45:14] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:174:54c4:aee:8a7c) (Remote host closed the connection)
[20:45:42] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:174:54c4:aee:8a7c)
[20:48:15] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:174:54c4:aee:8a7c) (Remote host closed the connection)
[20:48:27] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:174:54c4:aee:8a7c)
[20:50:48] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:174:54c4:aee:8a7c) (Remote host closed the connection)
[20:50:48] *** Joins: delboy1978uk (~delboy197@d51a46db4.access.telenet.be)
[20:50:48] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:174:54c4:aee:8a7c)
[20:50:48] *** Joins: brentaarnold_ (~brentaarn@24.112.61.90)
[20:52:46] *** Quits: brentaarnold (~brentaarn@24.112.61.90) (Ping timeout: 252 seconds)
[20:52:46] *** brentaarnold_ is now known as brentaarnold
[20:54:37] *** Quits: delboy1978uk (~delboy197@d51a46db4.access.telenet.be) (Ping timeout: 245 seconds)
[20:55:10] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:174:54c4:aee:8a7c) (Ping timeout: 260 seconds)
[20:56:29] *** Parts: foo (~foo@user/foo/x-8763512) ()
[21:05:12] *** Joins: freeman_h (~freeman_h@2a02:c7f:fc54:ba00:f5e1:d0a2:ba4:a153)
[21:15:05] *** Joins: fstd (~fstd@xdsl-78-34-124-42.nc.de)
[21:15:50] *** Quits: fstd (~fstd@xdsl-78-34-124-42.nc.de) (Remote host closed the connection)
[21:23:15] *** Joins: fstd (~fstd@xdsl-78-34-124-42.nc.de)
[21:28:37] *** Joins: ___Rockwood__ (~Rocky@user/rocky)
[21:31:34] *** Quits: Rockwood_ (~Rocky@user/rocky) (Ping timeout: 260 seconds)
[21:38:01] *** Joins: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:174:54c4:aee:8a7c)
[21:38:35] *** Joins: guidoc (~guido@host-95-235-251-114.retail.telecomitalia.it)
[21:39:58] *** Quits: fstd (~fstd@xdsl-78-34-124-42.nc.de) (Ping timeout: 260 seconds)
[21:42:55] *** Quits: DevAntoine (~DevAntoin@2a01:e34:ec4e:a200:174:54c4:aee:8a7c) (Ping timeout: 252 seconds)
[21:43:29] *** ___Rockwood__ is now known as Rockwood
[21:46:00] *** Quits: muley (~muley@76-245-68-99.lightspeed.iplsin.sbcglobal.net) (Remote host closed the connection)
[21:54:33] *** Quits: xSavitar (~xSavitar@user/xsavitar) (Quit: ZNC 1.9.x-git-141-9cd36055 - https://znc.in)
[21:57:06] *** Joins: Poboy (~Poboy@user/poboy)
[21:57:24] *** Quits: Rockwood (~Rocky@user/rocky) (Read error: Connection reset by peer)
[21:59:20] *** Joins: fstd (~fstd@xdsl-87-79-158-186.nc.de)
[22:00:43] *** Joins: muley (~muley@76-245-68-99.lightspeed.iplsin.sbcglobal.net)
[22:00:44] *** Joins: Rockwood (~Rocky@user/rocky)
[22:01:02] *** Joins: semeion (~semeion@user/semeion)
[22:02:46] *** Quits: fstd (~fstd@xdsl-87-79-158-186.nc.de) (Remote host closed the connection)
[22:03:12] *** Joins: fstd (~fstd@xdsl-87-79-158-186.nc.de)
[22:18:34] *** Joins: g0tcha (~meh@user/gotcha)
[22:20:11] <g0tcha> hey guys, quick question, i need to run a php script, the hosting does not allow running cron and the task planner gives errors when running it.. is there a place anyone can recommend that could run the php cronjob ?
[22:21:30] <TML> get a better hosting service? I mean, it's 2021 - there's absolutely no reason to use a garbage provider that doesn't allow you to run cron :grimace:
[22:21:41] <da_wunder> ^
[22:22:00] <TML> g0tcha: Failing that, you could use something like pingdom or statuscake or monit to query your page regularly
[22:22:01] <AllenJB> No idea what "the task planner" is - but what makes you think you won't get errors running the script via some other method?
[22:22:42] <g0tcha> AllenJB, nothing, i have to test
[22:22:47] <g0tcha> TML, ill check those out
[22:22:54] <da_wunder> and what is that actual error that you get from that 'task planner' ?
[22:23:15] <TML> yeah, I completely ignored this "task planner" bit because I have no context for what you're referring to
[22:24:44] <da_wunder> same here, no idea what that 'task planner' is - first time seen someone to mention that
[22:26:24] <g0tcha> the task planner actually runs
[22:26:30] <g0tcha> but the php script is what errors out
[22:26:52] <g0tcha> and osTicket support blames the task planner saying its not runnign correctly when its the script that errors out
[22:27:09] <g0tcha> on the other hand, running the script locally with php -f script.php works fine
[22:27:19] <da_wunder> g0tcha: so really, explain what that "the task planner" actually is AND what error you get from your php script when you're running that via that "the task planner"
[22:28:13] *** Joins: seand (~seand@69.54.142.196)
[22:28:42] <da_wunder> literally _never_ heard someone using term "the task planner" - so it's quite hard to guess what that is
[22:30:02] <TML> g0tcha: No one here knows what your "Task planner" thing is, so we can't really assist you with that
[22:30:44] <da_wunder> so what I would do to debug that - I would just create simple php script like `<?php echo "hello world";` and try to run that with that "the task planner" and see if that works
[22:31:37] <da_wunder> and if that works as expected - then your `script.php` contains something that "the task planner" doesn't allow to use - could be eg. exec function calls and so on
[22:32:28] <g0tcha> ok, so i use Infomaniak, a Swiss hosting company, it doesnt allow cronjob on shared hosting, so instead they give us access to something called "task planner" which lets us run php scripts
[22:32:45] <g0tcha> thats the task planner part, now let me explain about the error i get,
[22:33:19] <g0tcha> when i run the script locally like i said, it would work, the script's purpose is to fetch emails for new tickets and ticket replies for osTicket system
[22:33:21] <da_wunder> ok, so hosting specified "thing" - so most likely your `script.php` is trying to do something that they don't allow you to do
[22:33:46] <g0tcha> if i run it using the task planner, the task will run fine, but the script itself gives an error, let me paste it here, its a single line
[22:33:54] <da_wunder> and really you should contact that hosting support with this question
[22:33:59] <g0tcha> thats the error: cron.php only supports local cron calls - use http -&gt;
[22:34:45] <da_wunder> also try to understand that we _don't_ know what your `script.php` does - so this is quite big guessing game
[22:34:53] <g0tcha> no, the error is not from the task planner, its from the php script :p  thats why i was asking maybe if there are places that lets me run php scripts like cronjobs to test with
[22:35:02] *** Joins: hansol (~hansol@185.116.92.25)
[22:35:15] <g0tcha> i just told you what it does,
[22:35:28] <g0tcha> the script is to fetch emails for new tickets and ticket replies for osTicket
[22:35:43] <da_wunder> telling something !== actual code
[22:35:51] <g0tcha> here is the script https://github.com/osTicket/osTicket/blob/develop/api/cron.php
[22:37:08] <da_wunder> hmm, earlier you mentioned `script.php` file that you're running - so is that the same file that you shared ?
[22:37:58] <g0tcha> oh i just called it script.php for the sake of the conversation
[22:39:43] <g0tcha> ..if that makes sense
[22:41:43] <da_wunder> I was looking that cron.php and there is literally multiple possible errors that could happen - so I really recommend you to contact that hosting provider and ask detailed logs from their side
[22:42:25] <da_wunder> you're paying for that hosting, so you should get support - if not - just change your hosting provider
[22:45:35] *** Quits: semeion (~semeion@user/semeion) (Ping timeout: 252 seconds)
[22:46:05] <g0tcha> thats the thing, i did, there are no errors from their side, the task does run, the error i get is from running the script itself, cron.php only supports local cron calls - use http -&gt; api/tasks/cron
[22:46:29] <g0tcha> if the script does not run by the task planner then i would not get that error
[22:48:06] <g0tcha> another test i did to make sure the task planner is running, is if you look at the code it says that api.inc.php is required
[22:48:26] <g0tcha> so i removed that file, ran the task planner and it gave an error complaining about api.inc.php missing
[22:49:41] <da_wunder> so then do old-fashion A-B-C debug and see what is happening - and with that I mean brutal `echo 'A';` and so on in that whole script
[22:49:50] *** Joins: xSavitar (~xSavitar@user/xsavitar)
[22:50:44] <g0tcha> i have no idea what echo A mean hehehe
[22:51:28] <g0tcha> but like i said, its an issue with the script, not with the task planner like osticket ppl suggested?
[22:52:45] <da_wunder> g0tcha: A-B-C debug - you just "echo" something out that you can see - and then if you don't see all those echo's you know that something failed _before_ that
[22:53:42] <da_wunder> so literally something like `<?php echo "a"; doSomething(); echo "b"; ... echo "c"; ...`
[22:54:13] <da_wunder> and assuming you can see those echo output on that "the task planner"
[22:56:28] *** Quits: wilk (~wilk@user/wilk) (Ping timeout: 252 seconds)
[22:58:10] *** Joins: semeion (~semeion@user/semeion)
[23:01:12] <g0tcha> so lets say i added that to mydomain.com/task/tasktest.php .. set the task planner and look at the logs to see if it does show the results or not?
[23:12:43] *** Quits: hansol (~hansol@185.116.92.25) ()
[23:14:24] *** Quits: Alina-malina (~Alina-mal@user/alina-malina) (Quit: !be back soon)
[23:16:45] *** Joins: Alina-malina (~Alina-mal@user/alina-malina)
[23:19:45] *** Joins: mmohammadi9812 (~Mohammad@ip232.ip-51-222-214.net)
[23:26:01] <da_wunder> still no idea how that "the task planner" works so cannot really anything...
[23:26:43] <deltab> g0tcha: is there an error message?
[23:28:46] <deltab> g0tcha: ah right, it's telling you to use the API instead
[23:30:29] <deltab> this? https://www.infomaniak.com/en/support/faq/2161/task-scheduler-cronjob
[23:32:16] <g0tcha> deltab, yeah, this
[23:32:43] <g0tcha> and the error doesnt tell me to use the api, api/tasks/cron is just a folder location in osticket
[23:32:48] <deltab> what do you enter after you click on the 'Add a scheduled task' button?
[23:34:01] <Rockwood> https://csspre.com/random-numbers/
[23:34:17] <Rockwood> oops sorry by mistake pasted here
[23:37:12] <g0tcha> deltab, the direct link to the cron.php
[23:37:35] *** semeion is now known as mnemonic
[23:37:42] <g0tcha> for example, https://sub.domain.com/api/cron.php
[23:37:54] <deltab> g0tcha: what does it ask for? a command to run, a URL to request?
[23:39:07] <g0tcha> no, thats it.. it asks where the script is located, asks how often to running it (minimum 15mins), asks to report if it runs or if there is an error and thats it
[23:39:20] <g0tcha> the task itself never reports an error
[23:39:41] <g0tcha> it would report an error if i misspell the script name for example (a file that does not exist)
[23:41:26] *** Quits: mmohammadi9812 (~Mohammad@ip232.ip-51-222-214.net) (Killed (NickServ (GHOST command used by mohammadi9812m!~Mohammad@2.178.201.78)))
[23:42:07] *** Joins: mmohammadi9812 (~Mohammad@2.178.201.78)
[23:59:58] *** Quits: seand (~seand@69.54.142.196) (Ping timeout: 260 seconds)
