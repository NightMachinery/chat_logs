[00:01:06] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 244 seconds)
[00:02:37] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[00:08:14] *** Quits: cliluw (~cliluw@47.147.80.149) (Remote host closed the connection)
[00:08:36] *** Joins: cliluw (~cliluw@47.147.80.149)
[00:10:20] <Habbie> Flash, do you mean an image?
[00:12:58] *** Quits: GeorgeK (~GeorgeK@cpe-70-92-5-228.wi.res.rr.com) (Read error: Connection reset by peer)
[00:13:31] *** Joins: GeorgeK (~GeorgeK@cpe-70-92-5-228.wi.res.rr.com)
[00:19:09] <devslash> flash youd have to build a new iomage
[00:19:13] <devslash> flash youd have to build a new image
[00:19:28] <devslash> with a different CMD directive and use that image in your contianer instead
[00:22:32] <Flash> I actually mean container. "docker create <image> <command>" creates a container with a command embedded
[00:23:01] <Flash> I use this to create multiple containers with the same image, but different commands
[00:23:10] <devslash> you dont execute a command in an existing container using docker create you use docker exec -it contianername bash
[00:23:29] <devslash> do you write any compose scripts
[00:23:34] *** Quits: naos (~naos@user/naos) (Ping timeout: 268 seconds)
[00:23:36] <devslash> if not you really should
[00:23:40] <Flash> not at this time; I'm working on it
[00:23:59] <Flash> for now, I typo'd a command and want to know if I can edit it
[00:24:05] <devslash> it'll; make it easier to manage your containers
[00:24:13] <Flash> agreed; I'll get there
[00:24:22] <devslash> no youd need to rerun the docker command
[00:24:32] <Flash> ok, that's what I was looking for. Thanks.
[00:24:40] <devslash> np
[00:24:42] *** Joins: goldfish (~goldfish@user/goldfish)
[00:25:01] <devslash> Which image are you using ?
[00:25:07] <Flash> one I built
[00:25:12] <devslash> even better, what the full command that you are running
[00:25:53] <devslash> I found a site that takes a docker run command and create a compose file for you based on the run command
[00:26:17] <Flash> I have an application that was previously deployed as a set of RPMs. Now, I'm building an image with those RPMs installed, and I need to run a container for each process in the application
[00:31:12] *** Quits: personperson (~personper@185.192.70.71) (Ping timeout: 252 seconds)
[00:34:42] *** Joins: naos (~naos@user/naos)
[00:36:15] <apteryx> programmerq: thanks for the explanation w.r.t. the docker networking model
[00:41:48] *** Quits: zakame_ (~zakame@user/zakame) (Quit: WeeChat 2.9)
[00:42:03] *** Joins: zakame (~zakame@user/zakame)
[00:42:11] <apteryx> I'm trying to solve a longstanding issue with our Dockerfile/build with docker: the jobs cannot be interrupted with SIGINT (Ctrl-C).  Here's one of the Dockerfile: https://git.jami.net/savoirfairelinux/ring-project/-/blob/master/docker/Dockerfile_ubuntu_20.04.  Any idea?
[00:42:58] <apteryx> I tried using the exec form for the CMD, using CMD ["/opt/build-package-debian.sh"], but that's apparently not enough to fix it.
[00:45:07] *** Quits: Haxxa (~Haxxa@89nnjg0xckz9ggn6r5xm.ip6.superloop.com) (Quit: Haxxa flies away.)
[00:47:26] *** Joins: Haxxa (~Haxxa@103-21-0-35.ip4.superloop.com)
[00:48:23] <apteryx> I've seen using --init suggested on SO.  Will try that next.
[00:48:27] <apteryx> (with docker run)
[00:51:19] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 272 seconds)
[00:55:36] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-17-50-101-91-221.dsl.bell.ca)
[01:04:50] *** Quits: austin_ (~ausserz@n219073000163.netvigator.com) (Ping timeout: 252 seconds)
[01:07:28] *** Joins: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au)
[01:14:57] *** Joins: austin_ (~ausserz@n219073000163.netvigator.com)
[01:15:21] *** Joins: abyss (~robbins@user/robbins)
[01:16:23] <apteryx> hmm, the --init option cause the following error: "standard_init_linux.go:219: exec user process caused: no such file or directory"
[01:25:15] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[01:25:18] <apteryx> where is this file from, anyway? standard_init_linux.go
[01:25:26] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[01:25:40] <apteryx> ah, runc: https://github.com/opencontainers/runc/blob/master/libcontainer/standard_init_linux.go
[01:32:38] *** Quits: zakame (~zakame@user/zakame) (Ping timeout: 268 seconds)
[01:33:08] *** Joins: mikeliuk (~mikeliuk@213.205.198.26)
[01:33:22] <apteryx> well, even this throws the same error: $ docker run --init hello-world.  I guess my Docker build has a problem.
[01:33:42] <programmerq> what version of docker is it?
[01:34:23] *** Joins: RougeR (~RougeR@user/rouger)
[01:35:02] *** Quits: ExeciN (~ExeciN@user/nicexe) (Quit: Client closed)
[01:35:15] *** Joins: zakame (~zakame@user/zakame)
[01:35:36] <apteryx> 19.03.15
[01:35:41] *** Joins: ExeciN (~ExeciN@user/nicexe)
[01:35:48] <apteryx> I'm guessing the tini binary is not found
[01:36:16] <apteryx> (which is added at the beginning of the args list when --init is provided, IIRC.
[01:37:17] <programmerq> what install method did you use? 19.03 is a bit old.
[01:37:44] <programmerq> it should work on that version, but I am wondering if maybe you are running a patched version?
[01:38:10] <notevil> are you -v the /sbin directory?  docker puts it in /sbin/docker-init
[01:38:13] <programmerq> just running "docker run --init hello-world" should work unless you're changing the argument order or adding other arguments.
[01:38:37] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Quit: Client closed)
[01:38:55] <notevil> nevermind, ^ docker run --init hello-world   doesn't have any volumes breaking /sbin.  
[01:40:58] <apteryx> the packages come from GNU Guix
[01:40:59] *** Quits: mikeliuk (~mikeliuk@213.205.198.26) (Quit: Connection closed)
[01:41:00] <programmerq> or if your hello-world image is something you built yourself, that could change it too.
[01:41:23] <apteryx> no it's the official image, and I'm not changing the args.
[01:41:54] *** Joins: jazzy (~jaziz@2600:380:4547:d128:a1e2:2a56:7617:ad7e)
[01:45:30] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[01:47:17] <apteryx> I'm guessing here's a LookPath somewhere that expects to find tini from the PATH, but in Guix we usually patch the references of these tools such that propagating them in a profile is not necessary
[01:47:27] <apteryx> it's probably missing a substitution in the sources.
[01:47:43] *** Joins: jazzy2 (~jaziz@2600:380:4547:d128:9497:ff4e:a49b:d10b)
[01:48:49] *** Quits: jazzy (~jaziz@2600:380:4547:d128:a1e2:2a56:7617:ad7e) (Ping timeout: 245 seconds)
[01:50:42] *** Quits: Cata (~Cata@user/cata) (Quit: Leaving)
[01:51:05] <programmerq> as notevil noted, it puts the tini at /sbin/docker-init inside the container. If there's path patching, then that could have something to do with it.
[01:51:40] <apteryx> oh! Inside the container!  That must have changed; because I'm sure this used to work: https://git.savannah.gnu.org/cgit/guix.git/commit/?id=b8e7e20841285c862c684a864a23545489cb9227
[01:53:21] <apteryx> not really sure what Docker does with the DefaultInitBinary and expectedInitPath variables in its code these days.
[01:53:23] * apteryx looks
[01:58:34] *** Joins: factor (~factor@c-66-30-67-217.hsd1.ma.comcast.net)
[02:03:33] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 244 seconds)
[02:06:20] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[02:10:54] *** Quits: gearnode (~gearnode@2a01cb000ce2c100b0b4e37bd756bdb4.ipv6.abo.wanadoo.fr) (Ping timeout: 245 seconds)
[02:13:20] *** Quits: bardo (~anon@alternativaporsantomera.com) (Ping timeout: 265 seconds)
[02:13:31] *** Joins: ExeciN (~ExeciN@user/nicexe)
[02:18:00] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[02:20:44] *** jazzy2 is now known as jazzy
[02:23:57] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 252 seconds)
[02:27:28] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[02:30:51] *** Joins: ExeciN (~ExeciN@user/nicexe)
[02:35:00] *** Quits: OsteHovel (~OsteHovel@ti0056a400-6568.bb.online.no) (Read error: Connection reset by peer)
[02:36:03] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 252 seconds)
[02:42:30] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[02:47:50] *** Joins: tiaz (~dude@user/tiaz)
[02:50:36] <tiaz> Hello. Is it valid to mount a volume over a local bind mount? that is to say, suppose I have a bind mount of /var/foo:/var/foo, but I also have a volume mount of src=SOMEVOL,dst=/var/foo, with the intent of SOMEVOL (which comes from ceph or something) being the data read if it is available.
[02:51:07] <tiaz> Stepping back a bit, my intent here is to have a remote mount, but also to have fallback data in the event of that remote going away, without having to rebuild the container whenever that backup data changes.
[02:52:24] <tiaz> It may make more sense to 'just' switch to a different container definition (that is, have one for remotes-available and one for bind-mounts-from-local, and switch if remotes are unavailable), but I thought I'd see if anyone already knew one option to be impossible or highly inadvisable.
[02:54:04] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[02:54:18] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[03:00:33] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Quit: Client closed)
[03:06:08] *** Joins: klltkr (~klltkr@host86-168-182-186.range86-168.btcentralplus.com)
[03:07:24] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[03:10:30] *** Joins: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr)
[03:12:31] *** Joins: skyz (~skyz@ool-43538427.dyn.optonline.net)
[03:13:27] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 252 seconds)
[03:15:22] *** Joins: paruh (~paruh@92.60.39.18)
[03:16:35] *** Quits: skyz (~skyz@ool-43538427.dyn.optonline.net) (Client Quit)
[03:17:41] *** Quits: c10l (~c10l@89.34.167.207) (Read error: Connection reset by peer)
[03:18:05] *** Joins: c10l (~c10l@89.34.167.207)
[03:19:26] <devslash> tiaz, i dont think that that will work the way that you expect it to
[03:19:55] <devslash> I havent ever tried that but i think that the resulting container will use the 2nd bind mount only
[03:21:09] *** Joins: ExeciN (~ExeciN@user/nicexe)
[03:23:11] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[03:25:36] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[03:26:12] <tiaz> devslash: okay, thanks. as I was thinking about it after voicing the question here I realized there probably wasn't a good way to tell from the inside/I almost certainly want much more explicit latching behavior about "remote's gone away, tell everyone and revert to degraded service" rather than the much more indeterminate thing I was envisioning here.
[03:27:33] <devslash> why not mount each location to separate paths
[03:30:59] *** Quits: tang^ (~tangaloor@2604:3d09:47c:f970:cd97:4a7a:dffc:868e) (Quit: Textual IRC Client: www.textualapp.com)
[03:32:53] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 268 seconds)
[03:33:27] *** Joins: tricklynch (~tricklync@2600:1000:b012:4503:cf24:4b82:df1d:e81d)
[03:36:36] <tiaz> the software in question wouldn't know how to deal with that, and that scope creeps out to where it isn't worthwhile. having a latching fallback to a degraded status is acceptable
[03:41:51] *** Quits: goldfish (~goldfish@user/goldfish) (Read error: Connection reset by peer)
[03:41:57] *** Joins: goldfish_ (~goldfish@user/goldfish)
[03:43:49] *** Quits: fibsifan (~quassel@dynamic-077-011-014-090.77.11.pool.telefonica.de) (Quit: https://quassel-irc.org)
[03:44:04] *** Quits: tricklynch (~tricklync@2600:1000:b012:4503:cf24:4b82:df1d:e81d) (Read error: Connection reset by peer)
[03:44:18] *** Joins: tricklynch (~tricklync@2603:3005:b38:8000:ccf5:74f7:7943:5d60)
[03:46:22] *** Quits: tex (~super@user/dix) (Ping timeout: 244 seconds)
[03:54:34] *** Joins: ExeciN (~ExeciN@user/nicexe)
[03:55:20] *** Joins: skyz (~skyz@ool-43538427.dyn.optonline.net)
[03:56:51] *** Quits: goldfish_ (~goldfish@user/goldfish) (Remote host closed the connection)
[03:58:58] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[04:10:44] *** Quits: skyz (~skyz@ool-43538427.dyn.optonline.net) (Quit: Client closed)
[04:11:57] *** Joins: ExeciN (~ExeciN@user/nicexe)
[04:12:55] *** Joins: tofran (~tofran@37.189.158.134)
[04:16:44] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[04:29:20] *** Joins: ExeciN (~ExeciN@user/nicexe)
[04:30:04] *** Quits: tricklynch (~tricklync@2603:3005:b38:8000:ccf5:74f7:7943:5d60) (Ping timeout: 245 seconds)
[04:30:39] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[04:31:20] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Client Quit)
[04:33:13] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[04:36:20] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[04:40:12] *** Quits: klltkr (~klltkr@host86-168-182-186.range86-168.btcentralplus.com) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[04:40:28] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Client Quit)
[04:41:36] *** Joins: klltkr (~klltkr@2a00:23c5:d198:ad01:916:f077:1317:e356)
[04:41:48] *** Quits: klltkr (~klltkr@2a00:23c5:d198:ad01:916:f077:1317:e356) (Client Quit)
[04:42:10] *** Joins: brachamh_ (~brachamh@user/brachamh)
[04:44:45] *** Quits: brachamh (~brachamh@user/brachamh) (Ping timeout: 244 seconds)
[04:46:12] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[04:47:59] *** Quits: Sasazuka (~Sasazuka@user/sasazuka) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:48:03] *** Quits: brachamh_ (~brachamh@user/brachamh) (Ping timeout: 252 seconds)
[04:49:26] *** Joins: dalan (~dalan@110-175-186-185.tpgi.com.au)
[04:49:36] <dalan> Hola 👋🏻
[04:52:24] *** Joins: ExeciN (~ExeciN@user/nicexe)
[04:57:02] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[05:02:19] *** Quits: RougeR (~RougeR@user/rouger) (Ping timeout: 244 seconds)
[05:04:30] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 264 seconds)
[05:05:21] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[05:09:37] <dalan> If I wanted to run cron inside a docker container, could I do that with `crond`? 
[05:09:40] <dalan> As the entrypoint? 
[05:18:22] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-17-50-101-91-221.dsl.bell.ca) (Remote host closed the connection)
[05:20:52] <rawtaz> i guess so? assuming that's what fires off the cron jobs
[05:21:13] <rawtaz> definitely worth a try
[05:24:08] *** Joins: ExeciN (~ExeciN@user/nicexe)
[05:28:40] *** Quits: ExeciN (~ExeciN@user/nicexe) (Ping timeout: 250 seconds)
[05:30:55] *** Quits: vlm (~vlm@user/vlm) (Quit: "")
[05:34:10] *** Quits: yjftsjthsd (~yjftsjths@162.127.123.34.bc.googleusercontent.com) (Quit: The Lounge - https://thelounge.chat)
[05:35:02] *** Joins: yjftsjthsd (~yjftsjths@162.127.123.34.bc.googleusercontent.com)
[05:39:56] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 264 seconds)
[05:40:20] *** Quits: yjftsjthsd (~yjftsjths@162.127.123.34.bc.googleusercontent.com) (Remote host closed the connection)
[05:45:44] *** Joins: yjftsjthsd (~yjftsjths@162.127.123.34.bc.googleusercontent.com)
[05:49:18] *** Joins: Crassus (~Crassus@user/crassus)
[05:49:55] *** Quits: bradp (~bradp@cpe-70-92-7-182.wi.res.rr.com) (Quit: ZNC - https://znc.in)
[05:50:23] <apteryx> programmerq: running 'docker info' shows the init binary to be: Init Binary: /gnu/store/q23sy8bzykg0h3dans6fj8x1jsxsz1vx-tini-0.18.0/bin/tini
[05:50:27] <apteryx> which seems fine
[05:50:43] <apteryx> invoking said binary with --version prints 0.18.0
[05:50:48] <apteryx> so it seems to run too
[05:56:56] <apteryx> it'd be nice if this message printed the command line arguments (in runc): standard_init_linux.go:219: exec user process caused: no such file or directory
[05:57:05] <apteryx> it's not very useful as is
[06:00:02] *** Joins: vlm (~vlm@user/vlm)
[06:00:42] *** Quits: gearnode (~gearnode@2a01cb000ce2c1008ca2093f6cef466a.ipv6.abo.wanadoo.fr) (Ping timeout: 244 seconds)
[06:02:48] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[06:02:50] <rawtaz> tini :D
[06:03:49] <programmerq> apteryx▸ that sounds like the location where the binary is stored on the host. If for whatever reason the behind-the-scenes bind mount isn't working correctly that causes that binary to not be available at /sbin/docker-init inside the container, then it could be a problem. If that file is actually a symlink, then it's possible that it is binding a symlink that doesn't resolve in the container
[06:03:52] <programmerq> namespace, which could cause a no such file or directory.
[06:04:08] <programmerq> but I've never done heavy patching to the docker source code like that, so I'm just speculating.
[06:10:02] *** Joins: brachamh (~brachamh@user/brachamh)
[06:10:51] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[06:12:26] *** Quits: Ivyy (~Ivyy@2001:a61:13f0:c401:aaad:8747:f950:e29) (Remote host closed the connection)
[06:16:47] *** Quits: pajaroherido (uid152904@id-152904.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[06:20:17] <apteryx> OK, thanks 
[06:20:55] <apteryx> I'm looking at the strace output of dockerd
[06:32:07] <apteryx> I see that it stats it and finds it: 1037  newfstatat(AT_FDCWD, "/gnu/store/q23sy8bzykg0h3dans6fj8x1jsxsz1vx-tini-0.18.0/bin/tini", {st_mode=S_IFREG|0555, st_size=27968, ...}, 0) = 0
[06:33:17] <apteryx> (and yes, that's the location of the tini binary on the host)
[06:34:10] <apteryx> and it is not a symlink (it's an actual ELF binary)
[06:44:03] *** Quits: glik22 (~glik22@99-36-164-253.lightspeed.snjsca.sbcglobal.net) (Ping timeout: 268 seconds)
[06:45:39] <apteryx> oh.  Is this binary supposed to be setuid root?
[06:46:02] <apteryx> (on the host?)
[06:49:30] *** Quits: brachamh (~brachamh@user/brachamh) (Ping timeout: 264 seconds)
[06:53:59] *** Joins: sudo (~sed@pool-100-7-53-231.rcmdva.fios.verizon.net)
[06:56:12] <apteryx> interesting, I can reproduce with the tini binary and this minimal Dockerfile image: https://paste.debian.net/1200638/
[06:56:38] <apteryx> attempting to run the entrypoint ENTRYPOINT ["/sbin/tini", "-vvv", "--", "pwd"], it fails with the same error: standard_init_linux.go:219: exec user process caused: no such file or directory
[07:04:01] <apteryx> ah, if I use the official tini binary it seems to work
[07:04:31] <apteryx> it's at v0.19.0.  I'll try updating tini in Guix.
[07:06:52] *** Quits: austin_ (~ausserz@n219073000163.netvigator.com) (Ping timeout: 268 seconds)
[07:15:27] *** Quits: thiras_ (~thiras@user/thiras) (Ping timeout: 252 seconds)
[07:16:43] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Quit: Client closed)
[07:16:47] <apteryx> hmm, still no.  Perhaps I need to use the statically built tini.
[07:20:29] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[07:22:28] *** Joins: brachamh (~brachamh@user/brachamh)
[07:32:16] *** Joins: aleph (~aleph@pool-98-116-232-112.nycmny.fios.verizon.net)
[07:32:33] *** Quits: aleph (~aleph@pool-98-116-232-112.nycmny.fios.verizon.net) (Client Quit)
[07:33:54] *** Joins: aleph (~aleph@pool-98-116-232-112.nycmny.fios.verizon.net)
[07:34:12] *** Quits: aleph (~aleph@pool-98-116-232-112.nycmny.fios.verizon.net) (Client Quit)
[07:36:57] <apteryx> the one shipped from Docker CE is statically linked (/usr/bin/docker-init).  That's a good clue.
[07:45:01] *** Joins: rbtEngrDude (~textual@wsip-66-210-249-144.ph.ph.cox.net)
[07:52:28] <apteryx> success, phew! :-)  thanks all for putting up with my debugging.
[08:02:06] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 264 seconds)
[08:02:09] *** Joins: austin_ (~ausserz@n219073000163.netvigator.com)
[08:12:46] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[08:16:35] *** Quits: dtux (~dtux@2600:1700:22f0:37bf:4b09:8b56:3c1e:c2e6) (Quit: dtux)
[08:16:37] *** Joins: iniazi (~iniazi@47.150.18.121)
[08:20:55] *** Quits: iniazi (~iniazi@47.150.18.121) (Client Quit)
[08:21:21] *** Joins: iniazi (~iniazi@47.150.18.121)
[08:28:30] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Quit: Client closed)
[08:32:45] *** Quits: rbtEngrDude (~textual@wsip-66-210-249-144.ph.ph.cox.net) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[08:33:57] *** Quits: i64 (i64@gateway/vpn/protonvpn/i64) (Ping timeout: 244 seconds)
[08:34:13] *** Joins: i64 (i64@gateway/vpn/protonvpn/i64)
[08:39:17] *** Joins: lemonzest (~lemonzest@user/lemonzest)
[08:46:54] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[08:49:08] *** Joins: rbtEngrDude (~textual@wsip-66-210-249-144.ph.ph.cox.net)
[09:22:56] *** Joins: rgl (~rgl@bl12-47-147.dsl.telepac.pt)
[09:33:27] *** Quits: chemsmith (~chemsmith@user/chemsmith) (Read error: Connection reset by peer)
[09:33:41] *** Joins: chemsmith (~chemsmith@user/chemsmith)
[09:42:46] *** Joins: dtux (~dtux@107-131-127-0.lightspeed.sntcca.sbcglobal.net)
[09:55:57] *** Quits: metah4ck3r (~meta@user/metah4ck3r) (Quit: WeeChat 3.1)
[09:58:31] *** Quits: OPK (~OPK@user/opk) (Read error: Connection reset by peer)
[09:59:14] *** Joins: OPK (~OPK@user/opk)
[10:24:26] *** Quits: rbtEngrDude (~textual@wsip-66-210-249-144.ph.ph.cox.net) (Quit: Textual IRC Client: www.textualapp.com)
[10:47:01] *** Quits: sudo (~sed@pool-100-7-53-231.rcmdva.fios.verizon.net) (Ping timeout: 268 seconds)
[10:51:38] *** Joins: tex (~super@user/dix)
[10:53:53] *** Quits: kshockey (~kyshoc@user/kyshoc) (Ping timeout: 265 seconds)
[11:11:52] *** Joins: kyshoc (~kyshoc@user/kyshoc)
[11:27:38] *** Quits: dtux (~dtux@107-131-127-0.lightspeed.sntcca.sbcglobal.net) (Quit: dtux)
[11:27:57] *** Joins: dtux (~dtux@2600:1700:22f0:37bf:bf4e:94dc:d5e7:fe8f)
[11:28:56] *** Quits: BobbyJr (~BobbyJr@robsworld.plus.com) (Remote host closed the connection)
[11:30:58] *** Joins: bvs (~bvs@user/bvs)
[11:40:50] *** Joins: apteryx_ (~maxim@dsl-10-129-18.b2b2c.ca)
[11:43:46] *** Quits: apteryx (~maxim@dsl-10-128-133.b2b2c.ca) (Ping timeout: 244 seconds)
[11:45:16] *** Joins: BobbyJr (~BobbyJr@robsworld.plus.com)
[11:45:24] *** Quits: BobbyJr (~BobbyJr@robsworld.plus.com) (Remote host closed the connection)
[11:45:50] *** Joins: BobbyJr (~BobbyJr@robsworld.plus.com)
[11:54:07] *** Joins: gearnode (~gearnode@2a01cb000ce2c100b0b4e37bd756bdb4.ipv6.abo.wanadoo.fr)
[12:03:20] *** Quits: bradley (~bradley@user/bradley) (Ping timeout: 264 seconds)
[12:10:55] *** Quits: betelgeuse (~john2gb@94-225-47-8.access.telenet.be) (Quit: The Lounge - https://thelounge.chat)
[12:46:56] *** Joins: VoidFox (~voidfox@www.voidfox.de)
[12:53:49] *** Quits: fedenix (~fedenix@gateway/tor-sasl/fedenix) (Remote host closed the connection)
[12:54:00] *** Joins: fedenix (~fedenix@gateway/tor-sasl/fedenix)
[12:54:51] *** Joins: wattux (~wattux@212.51.23.106)
[13:07:22] *** Joins: vincent- (~vincent-@cpc86613-seve25-2-0-cust246.13-3.cable.virginm.net)
[13:32:45] *** Quits: andypandy (~andypandy@h-178-174-148-234.A163.priv.bahnhof.se) (Ping timeout: 252 seconds)
[13:33:00] *** Quits: indigaz (~indigaz@c-73-168-117-231.hsd1.in.comcast.net) (Quit: Ping timeout (120 seconds))
[13:33:25] *** Joins: indigaz (~indigaz@c-73-168-117-231.hsd1.in.comcast.net)
[13:41:36] *** Quits: Crassus (~Crassus@user/crassus) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:42:57] *** Joins: jonifen (~jonifen@user/jonifen)
[13:44:14] *** Quits: aidalgol (~aidalgol@user/aidalgol) (Ping timeout: 245 seconds)
[13:47:22] *** Joins: aidalgol (~aidalgol@user/aidalgol)
[14:56:54] *** Quits: wattux (~wattux@212.51.23.106) (Quit: Client closed)
[15:27:24] *** Quits: brw (~bas@5.9.139.181) (Quit: The Lounge - https://thelounge.chat)
[15:27:59] *** Joins: brw (~bas@5.9.139.181)
[15:28:06] *** Quits: brw (~bas@5.9.139.181) (Client Quit)
[15:28:45] *** Joins: brw (~bas@5.9.139.181)
[15:34:19] *** Quits: VoidFox (~voidfox@www.voidfox.de) (Quit: Ping timeout (120 seconds))
[15:35:07] *** Joins: VoidFox (~voidfox@www.voidfox.de)
[15:38:09] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 252 seconds)
[15:42:11] *** Joins: monoxane (~monoxane@119-18-17-227.771211.mel.static.aussiebb.net)
[15:42:27] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[16:00:07] <nickjj> has anyone ever heard of docker compose services starting in a different order depending on what OS / CPU architecture you have?
[16:01:07] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-17-50-101-91-221.dsl.bell.ca)
[16:16:56] *** Joins: onizu (uid373383@id-373383.highgate.irccloud.com)
[16:31:44] *** Quits: jazzy (~jaziz@2600:380:4547:d128:9497:ff4e:a49b:d10b) (Ping timeout: 245 seconds)
[16:42:32] *** Quits: bvs (~bvs@user/bvs) (Ping timeout: 272 seconds)
[16:43:45] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 244 seconds)
[16:45:33] *** Joins: raxor2k (~raxor2k@158.39.193.127)
[16:45:34] *** Joins: tricklynch (~tricklync@103.sub-174-242-65.myvzw.com)
[16:46:50] <raxor2k> I want to add another "-V" to my docker run command to i can make/write to CSV file without making the docker container itself refresh. How can i do this? https://bpa.st/NEQQ
[16:47:45] <BtbN> You mean attach another volume at runtime?
[16:48:19] <raxor2k> BtBn: if i understood your question correctly, yes
[16:48:26] <BtbN> That's not possible
[16:48:34] <raxor2k> says who?
[16:48:40] <BtbN> docker
[16:48:49] <raxor2k> ok so the only option is to remove this then " -v ~/fastapi_websocket:/fastapi_websocket" ?
[16:49:09] <BtbN> You can specify however many volumes you like when starting a container
[16:49:16] <BtbN> but once it's running, you can't add more
[16:49:29] <raxor2k> and thats completely fine
[16:49:45] <BtbN> Then why did you say you wanted to do just that?
[16:49:59] <raxor2k> So you did not understand my question then?
[16:50:03] <raxor2k> ok, let me ask again
[16:50:31] <BtbN> Your paste has the identical commandline twice as well
[16:51:06] <BtbN> You can specify however many volumes you like. It's not limited to at most one.
[16:51:14] <raxor2k> I want my docker container to refresh/update itself ONLY when new python files are uploaded, NOT when a new CSV file is uploaded/writing changes to CSV file. How can i change my docker run command to accept that? : https://bpa.st/Q3YA
[16:51:36] <raxor2k> and yes, i need to delete my image and make a new image i know that
[16:51:39] <BtbN> What do you mean, refresh your docker container?
[16:52:10] <BtbN> You will need to manually run "docker build" if something that goes into the image has changed. There is no automatism there
[16:52:27] <raxor2k> BtbN: NO i dont need to!! thats the whole point here
[16:52:32] *** Joins: kenoba7 (~kenoba@ip68-0-248-40.ri.ri.cox.net)
[16:52:53] <raxor2k> i can upload new python files perfectly and then the docker container updates itself automatically because of this: "-v ~/fastapi_websocket:/fastapi_websocket"
[16:52:58] <raxor2k> this command makes it possible
[16:53:14] <BtbN> That sounds like something your application in the container does. Not Docker.
[16:53:18] *** Quits: tricklynch (~tricklync@103.sub-174-242-65.myvzw.com) (Ping timeout: 272 seconds)
[16:53:59] *** Quits: kenoba (~kenoba@ip68-0-248-40.ri.ri.cox.net) (Ping timeout: 272 seconds)
[16:54:00] *** kenoba7 is now known as kenoba
[16:54:18] <raxor2k> BtbN: let me just ask on stack overflow, and i then i share the link with you :)
[16:54:23] <raxor2k> anyways thanks for trying to help
[16:54:36] <BtbN> You seem to be confused about what docker does and doesn't do.
[16:54:48] *** Quits: rgl (~rgl@bl12-47-147.dsl.telepac.pt) (Ping timeout: 244 seconds)
[16:54:52] <BtbN> If your application refreshes when its source files change, that's a something that app does. Not docker.
[16:55:13] <BtbN> So if you mount those files as a volume, you can change them all you like
[16:55:28] *** Joins: precursor (~pre@2603-7081-0800-dc33-3944-6e5c-d628-e4ad.res6.spectrum.com)
[16:56:23] *** Joins: tricklynch (~tricklync@216-180-94-57.starry-inc.net)
[16:57:15] <raxor2k> BtbN: well ok, how can create a new volume for the CSV file then ?
[16:57:57] <BtbN> Just specify another -v with your desired volume
[16:57:59] *** Joins: wasutton (~wasutton3@75-46-236-127.lightspeed.tukrga.sbcglobal.net)
[16:59:16] <raxor2k> I tried something like this: https://bpa.st/FL7Q    but some people say you can not have 2 of 
[16:59:19] <raxor2k> "-V"
[16:59:24] <wasutton> I've successfully (I think) set up docker registry as a proxy for dockerhub. Its able to pull images like fqdn.org/homeassistant/home-assistant:stable, but not fqdn.org/mariadb:latest does it need that middle folder layer in order to successfully proxy?
[16:59:53] <BtbN> No idea who those people are, but you can have however many -v as you like
[17:00:03] <BtbN> yours there are overlapping though, which does not make a whole lot of sense
[17:02:33] <raxor2k> BtbN: do you have a suggestion how to change that line then ?
[17:03:01] <BtbN> I don't know the application you are trying to run, so not sure what to tell you
[17:03:27] <BtbN> You seem to be lacking some basic understanding of what volumes are, so might be a good idea to read up on that.
[17:04:14] <raxor2k> BtbN: ye sure. I keep reading on that while waiting for the simple answer on SO
[17:04:56] <BtbN> I doubt there is anything like an answer at the moment, as your problem is not well described to begin with.
[17:06:31] *** Joins: kenoba8 (~kenoba@ip68-0-248-40.ri.ri.cox.net)
[17:07:25] *** Joins: rgl (~rgl@bl12-47-147.dsl.telepac.pt)
[17:07:48] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Ping timeout: 252 seconds)
[17:08:21] *** Quits: kenoba (~kenoba@ip68-0-248-40.ri.ri.cox.net) (Ping timeout: 252 seconds)
[17:08:21] *** kenoba8 is now known as kenoba
[17:11:18] <raxor2k> BtbN : let me ask you this question then: if i want my app to add a CSV file outside the container. Can i just to this: "../prediction_data.csv" ?
[17:11:49] <BtbN> I'm not sure what you mean.
[17:11:54] *** Joins: ExeciN (~ExeciN@user/nicexe)
[17:12:13] <BtbN> If you want to use a file on your host inside of a container, you need to mount it or a parent directory as volume
[17:12:13] <raxor2k> are you serious ?
[17:12:53] <BtbN> And also need to make sure to mount that volume in a location the respective application in the container expects
[17:21:41] *** Quits: tyson2 (~user@bras-base-toroon0624w-grc-17-50-101-91-221.dsl.bell.ca) (Ping timeout: 268 seconds)
[17:23:48] <raxor2k> BtnB: my app runs inside a docker container, right?
[17:23:52] <raxor2k> you get that, right ?
[17:25:10] <BtbN> Yes, and you seem to be confused about what docker does, and what your application does.
[17:25:29] <BtbN> Docker just provides the container and its features, and reloading or running of code is up to your app
[17:25:43] <BtbN> so you need to configure docker so it does what the application expects
[17:26:37] <raxor2k> and right now, my docker run setting is working perfectly. everytime i make change to one of the python files, the docker container refreshes itself because it detected change in one of the python files.
[17:26:43] <raxor2k> You also get that, right?
[17:27:39] <BtbN> You mean your application, running in a docker container, refreshes itself, because some of its files changed. Docker does not do any such refreshing.
[17:27:57] <raxor2k> oh yes it does
[17:28:05] <raxor2k> thanks to this: -v ~/fastapi_websocket:/fastapi_websocket 
[17:28:28] <BtbN> If that's a directory, and the application reads its files from /fastapi_websocket/... inside of the container, yes
[17:28:38] <raxor2k> yes
[17:28:45] <raxor2k> so you agree on that, right ?
[17:29:01] <BtbN> And what is the issue with that now?
[17:30:12] <raxor2k> now the issue is that my app also create a CSV file with log info inside it. And since the CSV file is added inside the app folder, the container keeps refresing everytime a single change is made into the CSV. So there are two options then: either add/write changes to a CSV OUTSIDE the "fastapi_websocket" folder, or to add a setting to it allows to write to CSV without the docker container 
[17:30:12] <raxor2k> refreshing itself
[17:30:20] <raxor2k> now you maybe understand my issue ?
[17:30:48] <BtbN> I think so, but that's not an issue with docker. But with the application itself.
[17:31:11] <BtbN> If it writes a csv file into its own directories, and then refreshes itself because of that write, that's entirely up to the app, docker is basically not involved.
[17:35:19] <BtbN> Can't you configure it to write that csv file somewhere else, where it doesn't monitor for changes?
[17:45:02] <apteryx_> hello!  So I'm now running docker with --init, but it still won't allow me to interrupt the job with C-c.  Why could that be?
[17:49:42] *** Joins: tykling (~tykling@irc.tyknet.dk)
[17:51:31] <tykling> hello, how come docker says "Error response from daemon: Get https://registry-1.docker.io/v2/: unauthorized: incorrect username or password" when I try to login to my own docker registry with "docker login myreg.example.com"
[17:52:34] <tykling> I am new to all this but I would expect it to use my own registry and not registry-1.docker.io, what am I doing wrong?
[17:55:33] *** Joins: austin__ (~ausserz@n219073000163.netvigator.com)
[17:59:08] *** Quits: austin_ (~ausserz@n219073000163.netvigator.com) (Ping timeout: 264 seconds)
[18:14:26] *** Joins: metah4ck3r (~meta@user/metah4ck3r)
[18:21:57] <apteryx_> when is allocating a tty with 'docker run --tty' useful outside of also using '--interactive' option?
[18:24:24] <programmerq> if there's a process that expects there to be a tty but you don't intend to actually interact with it. it's very rare. I've done it maybe once or twice but I don't remember the specific situation.
[18:24:42] <programmerq> maybe a gameserver needed it?
[18:25:09] <programmerq> the -i wouldn't hurt to include in a situation where -t is needed even if you didn't intend to interact with it.
[18:27:34] *** Quits: andrzejv (~andrzejv@78-56-77-187.static.zebra.lt) (Quit: Konversation terminated!)
[18:27:50] <BtbN> I also got a couple situations where I run a container in interactive mode, but not with a tty, and it's ignoring Ctrl+C no matter what
[18:28:00] <BtbN> By now I concluded that it's simply not solveable and there is no interest to fix it
[18:28:38] *** Joins: andrzejv (~andrzejv@78-56-77-187.static.zebra.lt)
[18:29:33] *** Quits: andrzejv (~andrzejv@78-56-77-187.static.zebra.lt) (Client Quit)
[18:29:41] <apteryx_> so far it fails to stop for me with C-c even when run with --init.  Currently tried with '--tty' only.  I'll try all the combinatinons.  ISTR that using -i would fix that (i.e., it allows the job to be interrupted), but I also STR that -i and Jenkins don't go along well.
[18:29:57] *** Joins: andrzejv (~andrzejv@78-56-77-187.static.zebra.lt)
[18:30:06] <BtbN> --tty doesn't work for me, since it's run from a script which does not neccesarily have a tty
[18:31:19] <programmerq> you could always do 'docker run -itd' and then 'docker wait' for it to complete
[18:31:36] *** Joins: jorjor (~jorgemene@85.251.190.6.dyn.user.ono.com)
[18:31:41] <BtbN> That does not solve the issue at all
[18:31:54] <BtbN> I want to be able to interrupt a long running compilation that's run via docker run
[18:31:57] <BtbN> and it just doesn't care
[18:32:14] <BtbN> manually "docker kill"ing works, but just hitting Ctrl+C has so far proven impossible
[18:32:22] <programmerq> you could still background it and then send in a signal via 'docker stop' or 'docker kill'
[18:32:43] <BtbN> Then the build output is not displayed in the terminal
[18:32:46] <programmerq> docker logs
[18:32:53] <BtbN> That breaks the entire usecase
[18:33:05] <BtbN> I just want to hit Ctrl+C when I want to abort the build
[18:33:18] <BtbN> Not re-write my entire setup to accomodate a lacking feature in docker
[18:34:12] <apteryx_> BtbN: so C-c doesn't work for you even if you used 'docker run -it' ?
[18:34:43] <BtbN> It works if I do that. But then the script fails to run on CI and other situations where there simply is no tty
[18:34:52] <apteryx_> right, same here.
[18:35:43] <apteryx_> Looks like we'll need some glue to provide that '-i' conditionally (e.g., is this shell session interactive ? provide '-i' : no-op)
[18:36:07] <apteryx_> to accomodate for both humans and CI
[18:36:13] <BtbN> Without -i things don't work at all, so I pass that unconditionally
[18:36:27] <BtbN> I basically just want Ctrl+C to mean "kill this container"
[18:36:31] <BtbN> and not "do absolutely nothing"
[18:37:19] <apteryx_> I see.  So based on what you wrote perhaps it's '-t' that would need to be special cased.
[18:38:18] <apteryx_> still a workaround though.  I'd be nice if Docker would consistently allow interrupting a container execution on C-c.
[18:39:03] <BtbN> Hm, I just discovered the --sig-proxy option
[18:39:08] <BtbN> setting it to false _seems_ to work
[18:40:10] <BtbN> But I think it just causes a detach on Ctrl+C, not a kill. Hmpf
[18:41:06] <apteryx_> is your CMD running in a shell script?
[18:41:10] <BtbN> Yes
[18:41:51] <BtbN> And if I pass "-t", it fails with "the input device is not a TTY", even when run from a terminal. Because it's in a shell script.
[18:47:55] <apteryx_> From the Bash info manual: "When Bash is interactive, in the absence of any traps, it ignores 'SIGTERM' (so that 'kill 0' does not kill an interactive shell), and 'SIGINT' is caught and handled (so that the 'wait' builtin is interruptible).".
[18:48:05] <apteryx_> It defines an interactive shell as "An interactive shell is one started without non-option arguments, unless '-s' is specified, without specifying the '-c' option, and whose input and error output are both connected to terminals (as determined by 'isatty(3)'), or one started with the '-i' option."
[18:48:39] <apteryx_> My understanding of it is that C-c is handled only when the shell is *both* interactive and connected to a TTY.
[18:49:11] <apteryx_> (C-c is SIGINT)
[19:09:02] <raxor2k> <BtbN> Can't you configure it to write that csv file somewhere else, where it doesn't monitor for changes?
[19:09:18] <raxor2k> BtbN: yes, but how ?
[19:09:28] <raxor2k> i tested adding the CSV to outside the folder but it aint created
[19:09:37] <BtbN> That you need to ask the developers/support channel of the app in question, not docker.
[19:10:15] <BtbN> Does not not just have some config file, where you can tell it to write that csv file wherever you like?
[19:11:01] <BtbN> *Does it not
[19:11:06] <raxor2k> Btbn: that is a docker issue, because when i type in this path on the app itself locally : '../prediction_data.csv'  it places the CSV file outside the project folder
[19:11:10] <raxor2k> but when i run in docker it doesnt.
[19:11:36] <BtbN> The app runs in a container. It has no notion of any paths outside of the container.
[19:11:52] <BtbN> .. for the application is just .. relative to its workdir inside of the container.
[19:12:21] <BtbN> If you want it to write stuff to specific paths on your host, you need to mount them as a volume.
[19:12:28] <raxor2k> Holy jesus..
[19:13:14] <BtbN> Why can't you just configure it to write that csv file to /output/some.csv and then mount /output as volume?
[19:13:24] <BtbN> No idea in what corner you have thought yourself there
[19:14:41] <raxor2k> BtbN: so according to you, my docker run command will look like this? https://bpa.st/TXDQ
[19:15:10] <BtbN> You're not at all specifying where that some.csv should be mounted to
[19:15:17] <BtbN> so it will use the host path. Which is unlikely to be correct.
[19:15:30] <programmerq> I was curious so I wrote a little python script that catches all signals that it can and just prints what it receives to stdout. Whether I have -i or -t or any combination, docker always proxies the signals. That suggests that your containerized process may simply ignore SIGINT when there is no tty present.
[19:15:49] <BtbN> programmerq, well, it's just bash.
[19:15:59] <BtbN> And I added a trap for SIGINT, which never fires.
[19:16:55] <programmerq> do you have a Dockerfile / example bash script you can share on a pastebin/gist ? I'm super curious now.
[19:17:44] <BtbN> https://github.com/BtbN/FFmpeg-Builds/blob/981908d3ffb0e6f4f46f2bf8d3d0b5911d8e562b/build.sh#L53
[19:18:30] <BtbN> I worked around the whole issue in the latest commit just now, but there's still corner cases left where it doesn't work. Mainly when there is no tty
[19:19:11] <raxor2k> BtbN: i still think you dont understand my question and i want to achieve
[19:19:48] <BtbN> Well, and I still think you are lacking some major understanding about what docker is and does.
[19:20:13] <raxor2k> yes youre right
[19:20:56] <BtbN> What is the issue with just writing the csv file elsewhere? Outside of the monitored directory?
[19:21:14] <BtbN> How to configure your app to do that I cannot tell you. But as far as docker is concerned, it's just another volume.
[19:21:28] <raxor2k> t h e r e   i s     n o   i s s u e   w i t h   t h a t 
[19:21:37] <raxor2k> and i know you to do that within the app!!!
[19:21:42] <raxor2k> how*
[19:22:03] <raxor2k> but i cant see the CSV file no where!! 
[19:22:31] <BtbN> It's inside of the container, unless you mounted a volume on the path where the application wrote it to.
[19:22:55] <BtbN> If you just tell it to write it to "../some.csv", it'll end up in some "random" path inside of the container
[19:23:14] <programmerq> raxor2k if you are writing a file inside the container, it will be inside the container. If you want to write that file to a location on your host, it will need to be in a location that you have previously specified a bind mount.
[19:23:41] <apteryx_> programmerq: I do!  They're humongous docker images, but there you go: https://git.jami.net/savoirfairelinux/ring-project/-/blob/master/docker/Dockerfile_ubuntu_20.04
[19:23:57] <raxor2k> @programmeq: do you have alink i can read on this please?
[19:24:00] <raxor2k> a simple greate tutorial ?
[19:24:18] <programmerq> https://docs.docker.com/storage/bind-mounts/
[19:24:31] *** Quits: precursor (~pre@2603-7081-0800-dc33-3944-6e5c-d628-e4ad.res6.spectrum.com) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[19:25:03] <BtbN> It's basically just a "different name" for a volume
[19:25:11] <BtbN> a volume is a simplified special case of a mount
[19:25:34] <raxor2k> programmeq: one last question before i go out for a break: do i need to creae a new volum before mounting?
[19:25:40] <raxor2k> im totally confused right now 
[19:25:56] <BtbN> Just do the same you do for the volume you already are using. Just on a different path.
[19:26:02] <BtbN> And then configure the app to write its output there
[19:26:42] <apteryx_> programmerq: not exactly a minimal example I'm afraid...
[19:26:48] <raxor2k> ok so 2 of "-v"  right ?
[19:27:08] *** Quits: raxor2k (~raxor2k@158.39.193.127) ()
[19:28:03] *** Joins: raxor2k (~raxor2k@158.39.193.127)
[19:28:14] <raxor2k> Btbn: i lost connection sorry. 
[19:29:14] <raxor2k> BtbN: like this right?: https://bpa.st/RGAA
[19:29:31] <BtbN> Now you have them overlapping again...
[19:29:47] <raxor2k> well im taking a break now
[19:29:49] <raxor2k> i will come back later
[19:29:52] *** Quits: raxor2k (~raxor2k@158.39.193.127) (Client Quit)
[19:30:14] <BtbN> You're binding the same directory to two different paths. Which are also overlapping.
[19:30:14] <programmerq> raxor2k▸ if fastapi_websocket is a socket, then you can't also treat it like a directory
[19:30:17] <programmerq> or nevermind. :/
[19:30:20] <BtbN> No idea if that's even valid
[19:30:26] <apteryx_> programmerq: but basically what happens is that a shell script calls to dpkg-buildpackage, which builds a debian package
[19:30:27] *** Joins: precursor (~pre@2603-7081-0800-dc33-3944-6e5c-d628-e4ad.res6.spectrum.com)
[19:30:43] <apteryx_> so perhaps that tool ignores SIGINT
[19:38:00] *** Joins: andypandy (~andypandy@h-178-174-148-234.A163.priv.bahnhof.se)
[19:40:33] <apteryx_> '-i' or '-t' alone don't help.  -it cause the child process to honor C-c and exit.
[19:40:44] <apteryx_> (for my example)
[19:42:01] <BtbN> -t just plain does not work with "bash -s <<EOF", because stdin is the heredoc, not a tty
[19:43:55] *** Quits: pvdp (~Pieter@static-n58-105-183-94.rdl4.qld.optusnet.com.au) (Remote host closed the connection)
[19:53:17] *** Quits: precursor (~pre@2603-7081-0800-dc33-3944-6e5c-d628-e4ad.res6.spectrum.com) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[19:54:18] *** Joins: tang^ (~tangaloor@2604:3d09:47c:f970:dc64:3637:41a5:39e4)
[20:18:52] *** Joins: madrak (~user@user/madrak0)
[20:32:01] *** Joins: Sasazuka (~Sasazuka@user/sasazuka)
[20:33:56] *** Quits: andypandy (~andypandy@h-178-174-148-234.A163.priv.bahnhof.se) (Quit: Bye)
[20:36:27] *** Joins: neilhwatson (~neilhwats@2001:470:b34d:0:adbe:48c2:7d21:dea5)
[20:38:05] <neilhwatson> Question about buildkit ssh option: https://docs.docker.com/develop/develop-images/build_enhancements/#using-ssh-to-access-private-data-in-builds  If I have a USER command in my dockerfile then later RUN --mount=type=ssh commands will fail. 
[20:38:16] <neilhwatson> Is there a way to make this work?
[20:39:19] *** Joins: andypandy (~andypandy@h-178-174-148-234.A163.priv.bahnhof.se)
[20:42:16] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[20:47:08] <apteryx_> and in my case, using -it in Jenkins leads to the error: the input device is not a TTY
[20:47:21] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[20:47:30] <programmerq> neilhwatson▸ RUN --mount=type=ssh,uid=1234,gid=1234
[20:47:36] *** Joins: HaMsTeRs (~HaMsTeRs@210.3.201.132)
[20:47:57] <programmerq> https://github.com/moby/buildkit/blob/master/frontend/dockerfile/docs/syntax.md#run---mounttypessh
[20:48:05] *** Parts: madrak (~user@user/madrak0) (ERC (IRC client for Emacs 27.2))
[20:48:54] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 252 seconds)
[20:53:11] <neilhwatson> programmerq  Awesome. thank you.
[20:54:34] *** Quits: ExeciN (~ExeciN@user/nicexe) (Quit: Client closed)
[20:54:53] *** Joins: Skyz78 (~Skyz@ool-43538427.dyn.optonline.net)
[20:56:00] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Ping timeout: 250 seconds)
[20:56:08] *** Quits: Skyz78 (~Skyz@ool-43538427.dyn.optonline.net) (Client Quit)
[20:59:57] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[21:00:18] *** Joins: keypusher (keypusher@user/keypusher)
[21:00:38] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Client Quit)
[21:01:00] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[21:07:21] *** Quits: HaMsTeRs (~HaMsTeRs@210.3.201.132) (Quit: Leaving)
[21:07:41] *** Quits: andypandy (~andypandy@h-178-174-148-234.A163.priv.bahnhof.se) (Ping timeout: 252 seconds)
[21:09:15] *** Joins: HaMsTeRs (~HaMsTeRs@210.3.201.132)
[21:14:31] *** Joins: precursor (~pre@2603-7081-0800-dc33-3944-6e5c-d628-e4ad.res6.spectrum.com)
[21:15:58] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Quit: Client closed)
[21:16:46] <programmerq> BtbN / apteryx_ -- just in case you're curious, here's my signal script: https://github.com/programmerq/pysig/tree/main
[21:17:23] <HaMsTeRs> Even though this is not really related, but...  I still wanna share... I ordered the wf-1000xm4 today!  It'll be arrive on June 26.  I can't wait any longer...
[21:17:40] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[21:19:06] *** Quits: keypusher (keypusher@user/keypusher) (Ping timeout: 268 seconds)
[21:22:52] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Ping timeout: 250 seconds)
[21:27:51] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[21:28:22] *** Quits: jonifen (~jonifen@user/jonifen) (Quit: Leaving)
[21:28:41] *** Quits: precursor (~pre@2603-7081-0800-dc33-3944-6e5c-d628-e4ad.res6.spectrum.com) (Quit: Textual IRC Client: www.textualapp.com)
[21:33:55] *** Quits: jjakob (~quassel@2a01:260:8028:10f0::62) (Ping timeout: 272 seconds)
[21:34:07] *** Quits: jorjor (~jorgemene@85.251.190.6.dyn.user.ono.com) (Ping timeout: 244 seconds)
[21:34:08] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Ping timeout: 250 seconds)
[21:34:24] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[21:34:40] *** Joins: keypusher (keypusher@user/keypusher)
[21:34:43] *** Joins: jjakob (~quassel@2a01:260:8028:10f0::62)
[21:44:25] <apteryx_> programmerq: thanks!
[21:55:11] *** Joins: andypandy (~andypandy@h-178-174-148-234.A163.priv.bahnhof.se)
[21:58:30] *** Quits: Haxxa (~Haxxa@103-21-0-35.ip4.superloop.com) (Ping timeout: 264 seconds)
[22:04:15] *** Joins: JesterHead (~JesterHea@2620:149:e0:5002::c54)
[22:11:02] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Quit: Client closed)
[22:13:42] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[22:16:13] *** Joins: nattiestnate (~nate@36.70.194.182)
[22:17:38] *** Quits: divine (~divine@2001:470:8247:1::31) (Remote host closed the connection)
[22:19:39] *** BlackIkeEagle_ is now known as BlackIkeEagle
[22:20:06] *** Quits: andypandy (~andypandy@h-178-174-148-234.A163.priv.bahnhof.se) (Quit: Bye)
[22:20:24] *** Joins: andypandy (~andypandy@h-178-174-148-234.A163.priv.bahnhof.se)
[22:21:44] *** Joins: divine (~divine@2001:470:8247:1::31)
[22:26:57] *** Quits: neilhwatson (~neilhwats@2001:470:b34d:0:adbe:48c2:7d21:dea5) (Quit: Client closed)
[22:32:34] *** Quits: VoidFox (~voidfox@www.voidfox.de) (Quit: Ping timeout (120 seconds))
[22:35:57] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Quit: Client closed)
[22:39:44] *** Joins: Crassus (~Crassus@user/crassus)
[22:41:04] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[22:42:43] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Client Quit)
[22:43:45] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[22:44:23] <apteryx_> BtbN: I feel it probably has to do with how Bourne shells handle C-c.  If it's interactive, Bash will do the utmost to DTRT, e.g., abort all child.  If it's not interactive, SIGINT will be passed to only the foreground process, leaving it to do what it pleases.
[22:44:55] *** Quits: Rond (~Rond@broadband-178-140-108-254.ip.moscow.rt.ru) (Quit: ZNC - http://znc.in)
[22:45:05] <apteryx_> I think that's why my long running, shelled job can be interrupted when -i (and -t) are provided, but not otherwise
[22:46:36] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Client Quit)
[22:46:47] <apteryx_> so my current hack/workaround is to conditionally stick '-i' in my docker command line only if the shell is interactive (can be checked with 'test -n "$PS1"'
[22:48:01] <apteryx_> the project builds such command in a Makefile, so it looks like this: IS_SHELL_INTERACTIVE = $(shell test -n "$PS1" && echo yes), then later [...] -t $(and $(IS_SHELL_INTERACTIVE),-i) [...] when building the 'docker run' command.
[22:49:16] *** Joins: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net)
[22:49:25] *** Joins: Rond (~Rond@broadband-178-140-108-254.ip.moscow.rt.ru)
[22:52:34] *** Joins: tyson2 (~user@bras-base-toroon0624w-grc-17-50-101-91-221.dsl.bell.ca)
[22:56:07] <apteryx_> could be neat to have -I (-i if possible) ;-)
[22:57:26] *** Quits: nattiestnate (~nate@36.70.194.182) (Quit: WeeChat 3.1)
[22:57:46] *** Joins: nattiestnate (~nate@36.70.194.182)
[23:00:47] *** Quits: nattiestnate (~nate@36.70.194.182) (Client Quit)
[23:02:27] *** Joins: nattiestnate (~nate@36.70.194.182)
[23:02:31] *** Quits: nattiestnate (~nate@36.70.194.182) (Client Quit)
[23:02:57] *** Joins: nattiestnate (~nate@36.70.194.182)
[23:04:18] *** Quits: andydude (~arobbins@c-76-111-99-194.hsd1.md.comcast.net) (Quit: andydude)
[23:05:18] *** Quits: tricklynch (~tricklync@216-180-94-57.starry-inc.net) (Ping timeout: 252 seconds)
[23:06:28] *** Quits: nattiestnate (~nate@36.70.194.182) (Client Quit)
[23:06:49] *** Joins: nattiestnate (~nate@36.70.194.182)
[23:07:23] *** Joins: tricklynch (~tricklync@209.sub-174-242-76.myvzw.com)
[23:13:04] *** Quits: vincent- (~vincent-@cpc86613-seve25-2-0-cust246.13-3.cable.virginm.net) (Quit: Leaving)
[23:17:12] *** Joins: Skyz (~Skyz@ool-43538427.dyn.optonline.net)
[23:21:35] *** Joins: daemon (znc@about/web/TheBeardedBSDer)
[23:22:06] <daemon> hey all will 'export' work on a running container and also copy any files recently written to the image, say for instance for a database container
[23:29:00] *** Quits: onizu (uid373383@id-373383.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[23:31:17] *** Quits: Rond (~Rond@broadband-178-140-108-254.ip.moscow.rt.ru) (Quit: ZNC - http://znc.in)
[23:31:21] *** Joins: thiras_ (~thiras@user/thiras)
[23:34:26] *** Joins: Rond (~Rond@broadband-178-140-108-254.ip.moscow.rt.ru)
[23:35:22] *** Joins: Haxxa (~Haxxa@122.199.47.41)
[23:44:19] *** Quits: Skyz (~Skyz@ool-43538427.dyn.optonline.net) (Quit: Client closed)
[23:47:09] *** Quits: austin__ (~ausserz@n219073000163.netvigator.com) (Ping timeout: 245 seconds)
[23:48:29] *** Quits: tricklynch (~tricklync@209.sub-174-242-76.myvzw.com) (Read error: Connection reset by peer)
[23:48:47] *** Joins: tricklynch (~tricklync@160.72.231.4)
[23:49:53] <geirha> all database images I've come across store the database on a volume
[23:50:09] <daemon> yeah its not really for a database image, but it seemed a reasonable example :)
[23:50:58] *** Quits: nattiestnate (~nate@36.70.194.182) (Quit: WeeChat 3.1)
[23:56:24] *** Joins: burningserenity_ (~burningse@2603:9001:f01:ad99::1002)
[23:58:39] *** Quits: HaMsTeRs (~HaMsTeRs@210.3.201.132) (Ping timeout: 252 seconds)
