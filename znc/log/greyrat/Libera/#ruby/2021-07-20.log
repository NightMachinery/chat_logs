[00:00:07] <aesthetikx> adam12 does sequel have a method to do like AR eager loading, n+1 handling etc
[00:00:30] <caleb> take a look at this list you can plug in to sequel http://sequel.jeremyevans.net/plugins.html
[00:00:39] <caleb> several variations of eager loading
[00:00:43] <adam12> aesthetikx: It has a plugin called tactical_eager_loading (or similar?) and it does it all automatically for you :P
[00:00:46] <adam12> It's awesome.
[00:02:36] <adam12> bbiaf.
[00:08:58] *** Quits: uplime (uplime@offtopia/nomad) (Quit: I am deleted)
[00:11:26] *** Joins: uplime (uplime@offtopia/nomad)
[00:16:27] *** Quits: reset (~reset@user/reset) (Quit: reset)
[00:16:38] *** Joins: reset (~reset@user/reset)
[00:50:56] *** Quits: _ht (~quassel@82-169-194-8.biz.kpn.net) (Remote host closed the connection)
[00:59:52] <rg1> im not a big fan of the block spaghetti you can end up in with frameworks like sintra based on a DSL
[01:00:33] <bougyman> I know roda was inspired by Cuba but I do not think it was forked.
[01:01:01] <bougyman> (just double checked, it's not)
[01:01:19] <bougyman> It sought to bring the best of Cuba and Sinatra features together.
[01:02:09] <bougyman> roda is by far my favorite web framework, and sequel is my favorite ORM.
[01:18:55] <caleb> which reminds me, I need to order evan's book
[01:19:02] <aesthetikx> the new one?
[01:19:39] <caleb> yeah
[01:19:57] <newton> bougyman, the github repo says it was forked in the top left
[01:21:03] <bougyman> newton: well color me fucked. I've been using roda since I first saw jeremy release it and was sure it wasn't straight forked.
[01:21:12] <bougyman> Glad to know better now!
[01:21:13] <bougyman> Thnks.
[01:21:46] <newton> will have to try it out sometime myself!
[01:28:33] *** Joins: chonkbit (~chonkbit@2600:1700:2150:1d40:86c5:a6ff:fe3b:ae7a)
[01:29:15] *** Joins: Jam666 (~JamUnix@199.180.249.18)
[01:34:42] <aesthetikx> has anyone here had either a good or bad experience with sidekiq-cron? I am thinking about adding it to a project.
[01:46:37] *** Quits: me2 (~me@net-2-39-112-31.cust.vodafonedsl.it) (Quit: WeeChat 2.9)
[01:49:21] <aesthetikx> or, has anyone tried sidekiq-scheduler or enterprise sidekiq?
[01:54:28] *** Joins: bandithijo (~bandithij@fedora/bandithijo)
[01:56:50] *** Joins: ur5us (~ur5us@203.86.198.200)
[02:00:31] *** Joins: lucf117 (~lucf117@user/lucf117)
[02:27:06] <michigan> hmmm.. anybody know whats wrong here?
[02:27:11] <michigan> % ln -s /home/apps/.gem/ruby/2.7/bin/rails27 /home/apps/.gem/ruby/2.7/bin/rails
[02:27:11] <michigan> % path+=("/home/apps/.gem/ruby/2.7/bin/")
[02:27:11] <michigan> % rails
[02:27:11] <michigan> zsh: command not found: rails
[02:28:39] <aesthetikx> echo $PATH to make sure its in there 
[02:28:48] <aesthetikx> or maybe do you need capital PATH+='
[02:29:06] <aesthetikx> and `which rails` should tell you something
[02:29:57] <michigan> hmm
[02:30:04] <michigan> its in echo $PATH
[02:30:10] <michigan> i forgot to menion its zsh
[02:31:48] <michigan> please see this isntead: https://clbin.com/oxM2W
[02:34:28] <aesthetikx> i dont actually see that exact directory in your path, it is missing .gem I think
[02:34:40] <aesthetikx> (also I have never seen += in zsh so I cannot speak for the validity of that)
[02:35:37] *** Joins: lunarkitty (uid501895@user/pyra)
[02:36:04] <weaksauce> yeah does that actually work in zsh? i use zsh and haven't seen that 
[02:36:36] <weaksauce> try export PATH="whatever_path;$PATH" or whatever the syntax is 
[02:36:44] <weaksauce> is it colon instead of semicolon 
[02:37:04] <weaksauce> and you are doing path instead of PATH
[02:37:23] *** Joins: elf_fortrez (~elf_fortr@adsl-72-50-4-119.prtc.net)
[02:37:39] *** Quits: elf_fortrez (~elf_fortr@adsl-72-50-4-119.prtc.net) (Client Quit)
[02:39:16] <michigan> weaksauce: i think that's the bash way of doing things, at least according to https://stackoverflow.com/questions/11530090/adding-a-new-entry-to-the-path-variable-in-zsh
[02:40:46] *** Quits: chonkbit (~chonkbit@2600:1700:2150:1d40:86c5:a6ff:fe3b:ae7a) (Ping timeout: 255 seconds)
[02:40:51] <michigan> echo $PATH, its been added there just fine
[02:42:09] <michigan> aaaaaaaarhg so sorry guys stupid stupid me i forgot to add .gem to the last path
[02:42:35] <weaksauce> michigan ok cool. i just use the first way because it's from my bash profile and i never cared enough to change it. the one thing that the bash way wins at is being able to prepend the path if that's something you need 
[02:42:55] <weaksauce> is there a reason you are doing it that way instead of some more general ruby version manager? 
[02:43:35] <weaksauce> oh actually you can prepend with the = method in zsh 
[02:45:27] <michigan> im just using the default system package in openbsd, its fine enough for me
[02:46:01] <michigan> as for zsh, it's like bash done right, without all the security holes, it also allows you to write cleaner more beautiful shell scripts
[02:46:07] <michigan> kinda like ruby vs python
[02:47:17] *** Quits: aeri- (~aeris@gateway/tor-sasl/aeris) (Remote host closed the connection)
[02:47:31] *** Joins: aeris (~aeris@gateway/tor-sasl/aeris)
[02:48:00] <michigan> sorry for having wasted your time though, i should invest in a pair of glasses. staring at the white glaring light from my laptop surrounded by the pitch black darkness in my room is not good for my owl's/james webb vision
[02:49:03] <aesthetikx> i love openbsd
[02:50:00] <aesthetikx> i am wondering though if that should have been done for you by pkg; out of curiosity if you `ksh` do you have access to the rubygems? There may be some file that you should be `source`ing in your `.zshrc` to include some openbsd stuff
[02:51:12] <michigan> aesthetikx: i actually do (ksh)
[02:51:41] <michigan> i too thought i had to do some path manipulation now when setting everything up on a new server, like export GEM_HOME etc. but no, i didn't have to do anything
[02:51:44] <michigan> wait hold up
[02:52:47] <michigan> https://gist.github.com/basicfeatures/6e9c9cd1884290936a5348b897bc281f that's all it took!
[02:54:12] <aesthetikx> nice, are you gonna setup PF
[02:55:25] <michigan> yep :-)
[02:57:00] <michigan> aesthetikx: havent added the above readme, also there are some bugs in the relayd.conf, but heres my pf.conf if you're wondering: https://github.com/basicfeatures/openbsd-rails/blob/main/etc/pf.conf
[02:57:27] *** Quits: orbyt (~textual@172.92.4.78) (Quit: Textual IRC Client: www.textualapp.com)
[02:58:41] <michigan> anyway cheers you guys, thanks for listening!
[02:58:43] <michigan> time for a break
[02:58:46] <aesthetikx> seeya
[02:58:51] * michigan is a very happy boy right now :)
[02:58:55] <michigan> later aesthetikx
[02:59:05] <aesthetikx> I need to read 'The Book of PF'
[02:59:11] <aesthetikx> or whatever no starch thing
[02:59:49] *** Joins: orbyt (~textual@172.92.4.78)
[03:12:17] *** Quits: jmcgnh (~jmcgnh@wikipedia/jmcgnh) (Ping timeout: 246 seconds)
[03:17:26] *** Quits: bandithijo (~bandithij@fedora/bandithijo) (Read error: Connection reset by peer)
[03:17:45] *** Joins: jmcgnh (~jmcgnh@wikipedia/jmcgnh)
[03:23:01] *** Joins: bandithijo (~bandithij@fedora/bandithijo)
[03:25:13] *** Quits: lucf117 (~lucf117@user/lucf117) (Quit: Leaving)
[03:51:52] <michigan> :D
[03:52:03] <michigan> any chance anybody knows how to integrate https://github.com/jeremyevans/ruby-pledge with a rails app?
[03:56:30] *** Quits: orbyt (~textual@172.92.4.78) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[03:56:57] *** Joins: jetchisel (jetchisel@user/jetchisel)
[04:45:15] *** Quits: lunarkitty (uid501895@user/pyra) (Quit: Connection closed for inactivity)
[05:05:27] <rg1> i don't think that'd be a trivial effort you might want to start with ruby itself.
[05:27:08] <caleb> > or, has anyone tried sidekiq-scheduler or enterprise sidekiq?
[05:27:35] <caleb> aesthetikx: I've always had sidekiq pro everywhere I worked that was serious about engineering and it was worth every penny
[05:29:57] <[jamez]> aesthetikx:  I haven't read all your backlog, but I am in love with enterprise sidekiq.
[05:31:46] <[jamez]> aesthetikx: We had sidekiq-scheduler before and had issues with it. A lot of the 3rd party gems for sidekiq aren't written to run on multiple servers.  Sidekiq enterprise fixes that with a "leader" that does the scheduling, etc.
[05:31:50] *** Quits: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net) (Ping timeout: 250 seconds)
[05:35:04] <[jamez]> We run about 1 million jobs a day on two servers with a total of 96 threads.  Most of those jobs happen between 10am and 11am each day.
[05:35:40] <caleb> Pro tip from experience, no matter how many times the PM says "we can make a real API throttle after we launch MVP", don't try to bastardize Sidekiq::Limiter into managing rate limiting of calls to external APIs. That needs to be its own thing.
[05:41:26] *** Joins: Jacktar_ (~whiteshad@gateway/tor-sasl/jacktar)
[05:43:39] *** Quits: jacktar (~whiteshad@gateway/tor-sasl/jacktar) (Ping timeout: 244 seconds)
[05:43:40] *** Jacktar_ is now known as jacktar
[05:59:39] *** Quits: CrazyEddy (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f) (Ping timeout: 255 seconds)
[06:00:32] <aesthetikx> [jamez] what kind of app do you work on? and, when jobs fail for some reason do you get like ~100k errors in your error handler, and 100k sidekiq retries?
[06:03:11] *** Joins: yCrazyEdd (crazyed@2603:300a:1d10:c000:de4a:3eff:fe88:cc5f)
[06:03:16] <[jamez]> aesthetikx:  We make software for financial advisors.  We never have "all jobs fail for some reason", but if we did, our retries count would skyrocket, and datadog/pagerduty would be blowing up my phone :D
[06:17:55] *** Joins: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net)
[06:22:11] *** Quits: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net) (Ping timeout: 252 seconds)
[06:30:25] *** Quits: niv (~niv@limbo.cypherpunks.io) (Quit: Powered by LunarBNC: https://LunarBNC.net)
[06:34:44] *** Joins: niv (~niv@limbo.cypherpunks.io)
[06:35:53] *** Joins: goepsilongo (~chacho@2603-7000-ab00-62ed-0000-0000-0000-0bd0.res6.spectrum.com)
[07:08:15] <michigan> rg1: was that for me?
[07:12:12] <michigan> i dont think it'd be trivial either. openbsd is my favorite OS and all their features from the system configuration to their webserver/firewall/mailer daemon/tls suite etc. are all supereasy to use.
[07:15:52] <michigan> pledge and unveil however, two of its flagship security features (not that it needs any - its already the worlds most secure OS by default), are all expert level.
[07:16:16] <michigan> to then combine it with a rails app, i'd imagine you'd have to be a supergenius like jeremy evans himself :-)
[07:17:52] *** Quits: pwnd_sfw (~pwnd_sfw@ool-18b88100.dyn.optonline.net) (Read error: Connection reset by peer)
[07:18:03] *** Joins: pwnd_sfw (~pwnd_sfw@ool-18b88100.dyn.optonline.net)
[07:20:47] <michigan> * all of its features
[07:21:45] *** Quits: finsternis (~X@23.226.237.192) (Read error: Connection reset by peer)
[07:22:02] <michigan> https://man.openbsd.org/pledge.2 -- good luck understanding that lol
[07:36:27] <rg1> my very limited understanding of pledge is that it required the rewrite of existing tools to follow its model
[07:38:04] *** Joins: hexreel (~hr@69.233.98.238)
[07:48:21] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 252 seconds)
[07:48:42] *** Quits: Rounin (~david@cm-84.212.130.215.getinternet.no) (Ping timeout: 258 seconds)
[08:16:21] *** Joins: jetchisel (~jetchisel@user/jetchisel)
[08:23:40] *** Joins: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net)
[08:28:19] *** Quits: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net) (Ping timeout: 252 seconds)
[08:39:19] *** Quits: gfawcett (~gfawcett@ns521973.ip-158-69-124.net) (Quit: The Lounge - https://thelounge.chat)
[08:46:01] *** Joins: gfawcett (~gfawcett@ns521973.ip-158-69-124.net)
[09:15:08] *** Quits: jetchisel (~jetchisel@user/jetchisel) (Ping timeout: 255 seconds)
[09:41:55] *** Joins: jetchisel (jetchisel@user/jetchisel)
[09:50:57] *** Quits: ur5us (~ur5us@203.86.198.200) (Ping timeout: 255 seconds)
[09:52:44] *** Joins: pwnd_sfw6 (~pwnd_sfw@ool-18b88100.dyn.optonline.net)
[09:53:34] *** Quits: pwnd_sfw (~pwnd_sfw@ool-18b88100.dyn.optonline.net) (Read error: Connection reset by peer)
[09:53:34] *** pwnd_sfw6 is now known as pwnd_sfw
[10:09:53] <michigan> rg1: yep looks like it :(
[10:13:19] *** Joins: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net)
[10:42:09] *** Quits: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net) (Ping timeout: 252 seconds)
[11:36:32] *** Joins: teclator (~quassel@85.155.180.70.dyn.user.ono.com)
[11:40:04] *** Quits: bandithijo (~bandithij@fedora/bandithijo) (Quit: WeeChat 3.2-rc1)
[11:44:47] *** Joins: _ht (~quassel@82-169-194-8.biz.kpn.net)
[11:50:06] *** Joins: menace (~someone@2001:a61:35bf:bb01:ac8c:7181:35fa:cdff)
[11:50:06] *** Quits: menace (~someone@2001:a61:35bf:bb01:ac8c:7181:35fa:cdff) (Changing host)
[11:50:06] *** Joins: menace (~someone@user/menace)
[12:43:39] *** Joins: Nik- (~textual@p5b3f94d5.dip0.t-ipconnect.de)
[12:48:40] *** Quits: Nik- (~textual@p5b3f94d5.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[13:06:40] *** Joins: Bounga (~nico@82-65-32-175.subs.proxad.net)
[13:21:33] *** Joins: ur5us (~ur5us@2406:e002:6b40:5201:1e1c:afed:873a:e5e4)
[13:48:17] *** Joins: lunarkitty (uid501895@user/pyra)
[14:07:51] *** Quits: ur5us (~ur5us@2406:e002:6b40:5201:1e1c:afed:873a:e5e4) (Ping timeout: 240 seconds)
[14:08:07] *** Joins: ur5us (~ur5us@2406:e002:6b40:5201:1e1c:afed:873a:e5e4)
[14:15:33] *** Quits: ur5us (~ur5us@2406:e002:6b40:5201:1e1c:afed:873a:e5e4) (Ping timeout: 255 seconds)
[14:27:19] *** Joins: bandithijo (~bandithij@fedora/bandithijo)
[14:39:17] *** Joins: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net)
[14:44:10] *** Quits: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net) (Ping timeout: 265 seconds)
[15:50:23] *** Joins: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net)
[15:50:41] *** Joins: Rounin (~david@cm-84.212.130.215.getinternet.no)
[16:23:54] *** Quits: bandithijo (~bandithij@fedora/bandithijo) (Ping timeout: 258 seconds)
[16:29:30] *** Quits: aeris (~aeris@gateway/tor-sasl/aeris) (Remote host closed the connection)
[16:29:53] *** Joins: aeris (~aeris@gateway/tor-sasl/aeris)
[16:37:41] *** Joins: Guest29 (~Guest29@218.81.39.149)
[16:38:36] *** Quits: Guest29 (~Guest29@218.81.39.149) (Client Quit)
[16:43:55] *** Quits: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net) (Ping timeout: 250 seconds)
[16:50:33] *** Quits: Rounin (~david@cm-84.212.130.215.getinternet.no) (Ping timeout: 268 seconds)
[16:58:24] *** Quits: sagax (~sagax@213.138.71.146) (Ping timeout: 258 seconds)
[17:04:48] *** Joins: finsternis (~X@23.226.237.192)
[17:04:53] *** Joins: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net)
[17:16:39] *** Quits: lunarkitty (uid501895@user/pyra) (Quit: Connection closed for inactivity)
[17:24:03] *** Joins: bandithijo (~bandithij@fedora/bandithijo)
[17:34:57] *** Quits: hansolo (~hansolo@024-177-122-104.res.spectrum.com) (Read error: Connection reset by peer)
[17:52:19] *** Joins: hansolo (~hansolo@024-177-122-104.res.spectrum.com)
[17:59:31] *** Joins: ua__ (~ua@public-gprs226951.centertel.pl)
[18:01:00] *** Quits: ua_ (~ua@public-gprs234661.centertel.pl) (Ping timeout: 255 seconds)
[18:35:01] *** Joins: graywolf (~wolf@user/graywolf)
[19:00:34] *** Joins: lzap (~lzap@46.167.231.173)
[19:33:06] *** Quits: graywolf (~wolf@user/graywolf) (Quit: WeeChat 3.2)
[19:55:28] *** Quits: michigan (uid507982@id-507982.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[20:08:58] *** Joins: tem (~tem@user/tem)
[20:30:00] *** Joins: easbarbosa (~user@2804:1b2:183:f16d:454:a7b1:c968:4885)
[20:35:54] *** Quits: teclator (~quassel@85.155.180.70.dyn.user.ono.com) (Remote host closed the connection)
[20:39:55] *** Joins: chonkbit (~chonkbit@2600:1700:2150:1d40:86c5:a6ff:fe3b:ae7a)
[20:51:28] *** Joins: Guest7 (~Guest7@2a01-036d-0300-4ddf-1181-4b9f-1d0f-4e57.pool6.digikabel.hu)
[20:54:05] *** Quits: tem (~tem@user/tem) (Quit: tem)
[20:54:58] *** Joins: Rounin (~david@cm-84.212.130.215.getinternet.no)
[21:17:36] *** Joins: drincruz (~drincruz@ec2-18-235-23-153.compute-1.amazonaws.com)
[21:20:08] *** Quits: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net) (Ping timeout: 252 seconds)
[21:28:38] *** Quits: Bounga (~nico@82-65-32-175.subs.proxad.net) (Ping timeout: 255 seconds)
[21:46:14] *** Quits: hexreel (~hr@69.233.98.238) (Quit: nyaa~)
[21:49:24] *** Joins: michigan (uid507982@id-507982.charlton.irccloud.com)
[21:53:00] *** Quits: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net) (Read error: Connection reset by peer)
[21:53:08] *** Quits: Guest7 (~Guest7@2a01-036d-0300-4ddf-1181-4b9f-1d0f-4e57.pool6.digikabel.hu) (Quit: Client closed)
[21:55:02] *** Joins: shokohsc (~shokohsc@161.88.195.77.rev.sfr.net)
[22:02:52] *** Joins: drincruz_ (~drincruz@ool-44c748be.dyn.optonline.net)
[22:04:58] *** Quits: drincruz (~drincruz@ec2-18-235-23-153.compute-1.amazonaws.com) (Ping timeout: 252 seconds)
[22:20:29] *** Joins: AriT93 (~AriT93@173.226.103.218)
[22:22:58] *** belak51 is now known as belak
[22:23:19] *** Quits: AriT93 (~AriT93@173.226.103.218) (Client Quit)
[22:23:31] *** Joins: AriT93 (~AriT93@173.226.103.218)
[22:25:31] *** Joins: hsiktas (uid224847@id-224847.tooting.irccloud.com)
[22:33:23] *** Joins: sagax (~sagax@213.138.71.146)
[22:37:43] <aesthetikx> are .heic files the bane of anyone elses existence, or just me?
[22:40:26] *** Quits: bandithijo (~bandithij@fedora/bandithijo) (Ping timeout: 255 seconds)
[22:43:19] *** Quits: kaivai (~kaivai@user/kaivai) (Ping timeout: 255 seconds)
[22:49:24] <adam12> aesthetikx: tbh, only just recently started seeing them.
[22:49:59] <aesthetikx> all the time we are getting weird errors about heic files not being supported but it seems like all the mime gems and even paperclip shoudl support it, I really don't know what the deal is
[22:50:06] <aesthetikx> newer iphones generate them for some reason
[22:59:16] *** Joins: orbyt (~textual@172.92.4.78)
[23:19:15] <michigan> hey, i just installed devise and then uninstalled it, deleted vendor/ and checked it out to a commit before i installed devise. yet there are traces of it in .git/. then when i reinstall it, it adds -dirty to my files in vendor/cache and i dont like that. does anybody know how to completely remove all traces of devise in .git/ .git/EDIT_COMMITMSG?
[23:21:24] <aesthetikx> only thing I can think of off the top of my head would be like git gc
[23:21:31] <michigan> it didnt add -dirt to my devise files in vendor/ the first time i installed devise
[23:21:33] <michigan> hmmm
[23:21:50] <aesthetikx> also lol vendor/ ,are you on rails 2.3 or something
[23:22:11] <michigan> nope, COMMIT_EDITMSG:#        new file:   vendor/cache/ruby/2.7/cache/bundler/git/devise-5f7a813e06b9239dd778d5ac2ebc8aa760afa0fb/packed-refs etc.
[23:22:29] <michigan> aesthetikx: what should i do instead? :)
[23:26:33] <aesthetikx> not sure exactly, we don't 'vendor' gems, we just have a Gemfile and a Gemfile.lock
[23:26:44] <aesthetikx> but you may have a specific setup for a reason I don't have context about
[23:29:35] *** Joins: kaivai (~kaivai@user/kaivai)
[23:35:48] <michigan> not other than wanting everything locally in ~/ for that extra security
[23:36:03] <michigan> (https://github.com/basicfeatures/openbsd-rails)
[23:36:30] <michigan> redoing everything from scratch though without setting vendor/cache, hope it works
[23:39:02] <weaksauce> i'd think setting path once would be easier
[23:39:22] <weaksauce> bundle install --path ~/.gemswoo
[23:44:14] *** Quits: jacktar (~whiteshad@gateway/tor-sasl/jacktar) (Remote host closed the connection)
[23:44:45] *** Joins: jacktar (~whiteshad@gateway/tor-sasl/jacktar)
[23:49:52] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 268 seconds)
[23:50:50] *** Joins: jetchisel (jetchisel@user/jetchisel)
[23:55:56] *** Joins: phenom_ (~primus@user/phenom)
[23:56:17] *** Quits: motherr (~motherr@user/motherr) (Quit: motherr)
[23:57:54] *** Quits: jetchisel (jetchisel@user/jetchisel) (Ping timeout: 246 seconds)
