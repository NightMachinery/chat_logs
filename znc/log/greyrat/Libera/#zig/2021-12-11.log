[00:00:12] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[00:05:21] <ifreund> dwlnetnl: there's currently no way other than passing the result of @src() into the function as an argument
[00:05:52] <dwlnetnl> okay thanks
[00:14:11] *** Joins: lumo_e (~enrico@2001:b07:5d38:4002:9274:b2ec:abbf:2272)
[00:15:50] *** Joins: frmdstryr (~jrm@172.58.206.179)
[00:24:40] *** Joins: rgrinberg (~textual@187.223.209.106)
[00:29:50] *** Joins: tsmanner (~tsmanner@pool-100-40-199-193.pghkny.fios.verizon.net)
[00:31:45] *** Joins: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt)
[00:32:00] *** Quits: dwlnetnl (~dwlnetnl@host-84-13-38-173.opaltelecom.net) (Quit: Client closed)
[00:33:25] *** Quits: ur5us (~ur5us@203.86.198.200) (Remote host closed the connection)
[00:33:45] *** Joins: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6)
[00:47:25] *** Quits: terminalpusher (~terminalp@2a01:586:2220:1:fec:bf3d:488b:50f7) (Remote host closed the connection)
[01:00:22] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[01:00:53] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[01:13:00] *** Quits: Swahili (~Swahili@a95-94-208-187.cpe.netcabo.pt) (Quit: Leaving...)
[01:13:44] *** Joins: Supermath101 (~Supermath@pool-98-116-229-81.nycmny.fios.verizon.net)
[01:14:56] <Supermath101> andrewrk, How's the progress on applying for the ARM servers from Equinix Metal via their OSS program?
[01:15:39] *** Joins: notapenguin (~ryu@2804:14d:5680:8a2c:75cf:7f59:516a:b801)
[01:15:41] <ifreund> I suspect andrew is pretty busy with the upcoming 0.9.0 release right now
[01:16:15] <Supermath101> Right...
[01:16:40] *** Quits: freshcoffee (~fresh@user/freshcoffee) (Quit: WeeChat 3.0.1)
[01:27:45] *** Quits: ur5us (~ur5us@2406:e002:6c7b:2301:1b18:b746:eaa9:fad6) (Ping timeout: 252 seconds)
[01:31:23] *** Joins: jjido (~Denis@90.213.58.125)
[01:31:57] *** Joins: xd1le (~xd1le@user/xd1le)
[01:34:27] *** Quits: xackus_ (~xackus@218x.knc.pl) (Ping timeout: 250 seconds)
[01:52:36] *** Joins: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[01:53:21] *** Quits: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Remote host closed the connection)
[01:54:00] <ifreund> void
[01:54:22] <ifreund> srrry, IRC keybind fail
[01:55:12] *** Quits: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Read error: Connection reset by peer)
[01:58:11] *** Quits: frmdstryr (~jrm@172.58.206.179) (Ping timeout: 252 seconds)
[02:01:08] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[02:01:39] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[02:06:10] *** Quits: notzmv (~zmv@user/notzmv) (Ping timeout: 260 seconds)
[02:35:11] *** Joins: livoreno (~livoreno@user/notzmv)
[02:37:57] *** Joins: mischief2 (~mischief@wopr.sciops.net)
[02:39:26] *** Parts: mischief2 (~mischief@wopr.sciops.net) ()
[02:43:28] *** Joins: notzmv (~zmv@user/notzmv)
[02:44:24] *** Joins: mischief (~mischief@wopr.sciops.net)
[02:44:36] <mischief> hi, very new to zig.. i am having trouble figuring out how to pass a type to a function whose signature is `comptime T: type`. how do i do it? where is the documentation on that?
[02:44:54] <Franciman> mischief: it is really easy
[02:45:01] <Franciman> types are values
[02:45:08] <Franciman> comptime means that the value must be known at compile time
[02:45:21] <Franciman> mischief: what function is it?
[02:46:17] <ifreund> you pass them the same way you pass any other argument, just foo(MyType)
[02:46:44] <ifreund> or for a real world example, std.mem.copy(u32, dest, src);
[02:46:48] <ifreund> u32 is a type
[02:47:07] <Franciman> another example std.ArrayList(f32);
[02:47:34] <mischief> Franciman: std.atomic.Queue
[02:47:42] <mischief> i want to pass std.net.StreamServer.Connection.
[02:48:28] <mischief> (rather a pointer of them)
[02:49:08] <Franciman> can you do it now that ifreund and I provided some examples?
[02:51:47] <mischief> d'oh, i'm an idiot. i think i misread the compiler message.
[02:51:54] <mischief> `var q = std.atomic.Queue(*std.net.StreamServer.Connection).init();` works.
[02:52:04] <Franciman> yay
[02:52:05] <Franciman> you did it
[02:52:11] <Franciman> you passed a type as argument
[02:52:16] <Franciman> a pointer type
[02:53:06] <mischief> if i want to pass `q` to another function, can i simply use *std.atomic.Queue, or is a special type created by creating a queue of *std.net.StreamServer.Connection ?
[02:53:33] <ifreund> the type of q is std.atomic.Queue(*std.net.StreamServer.Connection)
[02:54:14] <Franciman> std.atomic.Queue is a function
[02:54:18] <ifreund> std.atomic.Queue() isn't a type but rather a function, which means you cant use it as an argument type
[02:54:28] <Franciman> given an input type, it returns the type of q
[02:54:50] *** Quits: Supermath101 (~Supermath@pool-98-116-229-81.nycmny.fios.verizon.net) (Quit: Client closed)
[02:55:20] <mischief> aha
[02:55:26] <mischief> std.log.info("q type {}", .{@TypeOf(q)});
[02:55:31] <mischief> info: q type std.atomic.queue.Queue(*std.net.Connection)
[02:57:42] *** Quits: xd1le (~xd1le@user/xd1le) (Quit: xd1le)
[02:58:28] <mischief> is it normal that the documentation doesn't show functions of Queue? https://ziglang.org/documentation/0.8.1/std/#std;atomic.Queue
[02:59:14] *** Quits: marler8997 (~marler899@24-116-126-185.cpe.sparklight.net) (Ping timeout: 265 seconds)
[02:59:29] <mischief> like maybe put or remove should be there...
[03:00:48] <ifreund> mischief: sadly yes, note the big red warning at the top
[03:01:07] <ifreund> I'd recommend forgetting the current autogenerated std docs exist and just going to the source code
[03:01:10] <mischief> ah, well. code is fine too :)
[03:03:00] *** Quits: jjido (~Denis@90.213.58.125) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[03:03:20] <mischief> ifreund: if std.atomic.Queue is a function and not a type, how do i write a function signature which would accept an argument of the same type as the return value?
[03:03:37] <mischief> i tried to use what @TypeOf printed, but it did not work.
[03:03:39] <mischief> ./src/main.zig:41:22: error: container 'std.atomic' has no member called 'queue'
[03:03:41] <mischief> fn thr(q: *std.atomic.queue.Queue(*std.net.Connection)) void {
[03:05:07] *** Joins: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[03:05:39] <ifreund> the way @TypeOf() prints currently types is based on the source file they are located in, not based on how they may be accessed in code
[03:06:00] <ifreund> in this case, there's a `pub const Queue = @import("atomic/queue.zig").Queue;` in std/atomic.zig
[03:06:27] <ifreund> so the way to access this type in code is just `std.atomic.Queue()` not `std.atomic.queue.Queue()`
[03:06:44] <ifreund> s/prints currently/currently prints/
[03:07:10] <mischief> aha
[03:11:51] <mischief> .. onto the next problem :-)
[03:14:04] <mischief> it looks like there is a Node member of the Queue struct. in the test code for Queue is is creating nodes with `Queue(i32).Node{..}` to put an element in a Queue(i32). is it necessary to repeatedly call Queue to get the node type? is the node type not accessible as a member of the existing struct?
[03:17:55] <ifreund> it is not necessary to use `Queue(i32).Node` everywhere as you can give the returned type a new name like `const Node = Queue(i32).Node;` Think a typedef in C
[03:18:00] *** Joins: marler8997 (~marler899@96-19-96-19-162-162.cpe.sparklight.net)
[03:18:45] <ifreund> I'd probably do something like `const ConnectionQueue = std.atomic.Queue(*std.net.StreamServer.Connection);` though and then use `ConnectionQueue.Node` everywhere
[03:18:54] <ifreund> that make sense?
[03:19:13] <mischief> i see
[03:20:08] *** Quits: notapenguin (~ryu@2804:14d:5680:8a2c:75cf:7f59:516a:b801) (Quit: WeeChat 3.3)
[03:20:41] <mischief> that works well
[03:20:43] <mischief>             var qe = ConnectionQueue.Node{.data = &c};
[03:20:45] <mischief>             q.put(&qe);
[03:22:26] *** Quits: marler8997 (~marler899@96-19-96-19-162-162.cpe.sparklight.net) (Read error: Connection reset by peer)
[03:22:29] *** Joins: marler8997_ (~marler899@96-19-96-19-162-162.cpe.sparklight.net)
[03:32:13] *** Quits: [R] (~rs@genoce.org) (Ping timeout: 240 seconds)
[03:37:34] *** Joins: [R] (~rs@genoce.org)
[03:38:18] <mischief> hm.. what does this mean? there's not really any more information in the compiler trace.
[03:38:20] <mischief> /home/mischief/src/zig-linux-x86_64-0.9.0-dev.1936+77836e08a/lib/std/Thread/Condition.zig:109:34: error: container 'std.os.linux' has no member called 'FUTEX_PRIVATE_FLAG'
[03:38:22] <mischief>                             linux.FUTEX_PRIVATE_FLAG | linux.FUTEX_WAIT,
[03:45:10] <mischief> seems i need to do `zig build-exe --library c`, any way to get that into my build.zig?
[03:46:02] *** Quits: marler8997_ (~marler899@96-19-96-19-162-162.cpe.sparklight.net) (Ping timeout: 260 seconds)
[03:51:35] <andrewrk> yes
[03:52:29] <andrewrk> mischief, this is perhaps the best docs I can link at the moment: https://zig.news/xq/series/2
[03:53:37] *** Quits: livoreno (~livoreno@user/notzmv) (Read error: Connection reset by peer)
[04:02:55] *** Quits: nvmd (~nvmd@user/nvmd) (Quit: Later, nerds.)
[04:03:33] <mischief> Franciman: ifreund andrewrk thanks a lot for the information. with your help i made a crappy little server on my first day of zig :-) http://ix.io/3HEo
[04:03:54] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[04:03:58] <Franciman> enjoy mischief 
[04:04:03] <Franciman> this is going to be rad
[04:04:21] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[04:07:42] <andrewrk> mischief, not bad for a first day :)
[04:08:05] <andrewrk> be warned; networking in the standard library is very immature
[04:15:35] <mischief> seems to work well enough for a baby tcp listener, but there's no datagram support right?
[04:27:45] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[04:36:26] *** Quits: lumo_e (~enrico@2001:b07:5d38:4002:9274:b2ec:abbf:2272) (Ping timeout: 268 seconds)
[04:40:01] <andrewrk> not sure- you might start with looking to see if zig has the posix API for that
[04:51:26] *** Joins: qaph (~weechat@user/qaph)
[04:54:16] *** Quits: kron (~weechat@user/qaph) (Ping timeout: 265 seconds)
[04:54:18] *** qaph is now known as kron
[05:02:00] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Quit: noeontheend)
[05:03:43] *** Joins: livoreno (~livoreno@user/notzmv)
[05:04:36] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[05:05:12] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[05:07:30] *** Quits: rgrinberg (~textual@187.223.209.106) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:08:43] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[05:18:08] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Remote host closed the connection)
[05:18:13] *** Joins: [deleted] (~livoreno@user/notzmv)
[05:22:41] *** Quits: livoreno (~livoreno@user/notzmv) (Ping timeout: 268 seconds)
[05:41:20] *** Quits: [deleted] (~livoreno@user/notzmv) (Ping timeout: 256 seconds)
[05:48:02] *** Joins: livoreno (~livoreno@user/notzmv)
[05:51:32] *** Quits: Techcable (~Techcable@168.235.93.147) (Ping timeout: 256 seconds)
[06:05:27] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[06:05:59] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[06:07:15] *** Joins: rgrinberg (~textual@2806:101e:7:6946:a872:19a1:2e93:fad2)
[06:37:26] *** Quits: outfox (~outfox@user/outfox) (Ping timeout: 256 seconds)
[06:37:41] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Quit: WeeChat 3.3)
[06:39:04] *** Joins: outfox (~outfox@213.144.147.16)
[06:39:04] *** Quits: outfox (~outfox@213.144.147.16) (Changing host)
[06:39:04] *** Joins: outfox (~outfox@user/outfox)
[06:41:24] *** Quits: earnestly (~earnest@user/earnestly) (Ping timeout: 256 seconds)
[06:42:29] *** Quits: arkurious (~arkurious@user/arkurious) (Quit: Leaving)
[06:54:44] *** Quits: livoreno (~livoreno@user/notzmv) (Read error: Connection reset by peer)
[06:58:23] *** Quits: nyah (~nyah@94.6.71.219) (Ping timeout: 250 seconds)
[07:00:14] *** Joins: livoreno (~livoreno@user/notzmv)
[07:06:13] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[07:06:35] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[07:28:34] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[07:29:42] <mischief> any way to autogenerate C bindings for zig?
[07:35:15] *** Quits: moog (~moog@107.126.53.121) (Remote host closed the connection)
[07:36:01] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.3)
[07:36:30] *** Joins: supakeen (~user@python/site-packages/supakeen)
[07:42:38] *** Quits: Arnavion (arnavion@user/arnavion) (Quit: Arnavion)
[08:00:57] *** Joins: Techcable (~Techcable@168.235.93.147)
[08:03:16] <squeek502> mischief, if you mean generating a .h file, then it's planned but was removed from the stage1 compiler for now: https://ziglang.org/learn/overview/#export-functions-variables-and-types-for-c-code-to-depend-on
[08:04:06] <squeek502> https://github.com/ziglang/zig/issues/9698#issuecomment-974719756
[08:06:50] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[08:07:17] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[08:49:12] *** Quits: tsmanner (~tsmanner@pool-100-40-199-193.pghkny.fios.verizon.net) (Quit: tsmanner)
[08:55:18] *** Joins: earnestly (~earnest@user/earnestly)
[09:06:27] *** Joins: marler8997 (~marler899@96-19-96-19-162-162.cpe.sparklight.net)
[09:31:23] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Ping timeout: 252 seconds)
[10:03:17] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[10:06:22] *** Quits: notzmv (~zmv@user/notzmv) (Ping timeout: 260 seconds)
[10:09:31] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[10:10:00] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[10:25:00] <mischief> how do i link a library in build.zig? `exe.linkSystemLibrary("thelib")` results in the library not appearing in the linker command in --verbose-link, but `zig build-exe -lc -lthelib src/main.zig` works.
[11:01:30] *** Joins: phaleth (~phaleth@user/phaleth)
[11:10:15] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[11:10:47] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[11:26:33] <mischief> well, i figured out that `linkSystemLibraryName` works and `linkSystemLibrary` doesn't. i also figured out how to call a dbus method from zig :-)
[11:42:02] *** Joins: chgr (~ek@nat-91-137-16-17.net.encoline.de)
[12:11:01] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[12:11:34] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[12:16:31] *** Joins: notzmv (~zmv@user/notzmv)
[12:23:52] *** Joins: xackus_ (~xackus@218x.knc.pl)
[12:24:14] *** Quits: IsaiahG (~Isaiah6@69.59.80.251) (Ping timeout: 256 seconds)
[12:25:42] *** Joins: tane (~tane@dslb-002-201-234-166.002.201.pools.vodafone-ip.de)
[12:25:42] *** Quits: tane (~tane@dslb-002-201-234-166.002.201.pools.vodafone-ip.de) (Changing host)
[12:25:42] *** Joins: tane (~tane@user/tane)
[12:35:37] <andrewrk> mischief, what went wrong with linkSystemLibrary?
[12:35:53] <andrewrk> the docs for that say: "This one has no integration with anything, it just puts -lname on the command. Prefer to use `linkSystemLibrary` instead."
[12:55:34] *** Quits: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Remote host closed the connection)
[12:55:48] *** Joins: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[12:58:50] *** Joins: jjido (~Denis@90.213.58.125)
[13:02:10] *** Quits: rgrinberg (~textual@2806:101e:7:6946:a872:19a1:2e93:fad2) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:06:19] *** Quits: Colt (~Colt@user/colt) (Remote host closed the connection)
[13:10:06] *** Quits: peterhil (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Remote host closed the connection)
[13:10:09] *** Joins: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[13:11:49] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[13:11:50] *** Joins: peterhil__ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[13:12:17] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[13:15:22] *** Quits: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Ping timeout: 260 seconds)
[13:16:25] *** Quits: chgr (~ek@nat-91-137-16-17.net.encoline.de) (Quit: WeeChat 3.3)
[13:17:53] *** Joins: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[13:18:06] *** Quits: peterhil__ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Remote host closed the connection)
[13:22:03] *** Quits: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Remote host closed the connection)
[13:24:31] *** Joins: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[13:24:59] *** Quits: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi) (Remote host closed the connection)
[13:25:17] *** Joins: peterhil_ (~peterhil@dsl-hkibng32-54fb56-2.dhcp.inet.fi)
[13:36:36] *** Joins: pkap (~pkap@185.213.155.252)
[13:37:32] *** Joins: frett27 (~frett27@2a01:e0a:58a:6c00:322e:ca61:baad:acfc)
[13:47:44] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 268 seconds)
[13:54:48] *** Quits: pkap (~pkap@185.213.155.252) (Quit: Client closed)
[14:00:18] *** Joins: chgr (~ek@nat-91-137-16-17.net.encoline.de)
[14:11:59] *** Quits: anthon (~Thunderbi@p2e52aa21.dip0.t-ipconnect.de) (Remote host closed the connection)
[14:12:32] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[14:12:54] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[14:14:19] *** Quits: xackus_ (~xackus@218x.knc.pl) (Ping timeout: 250 seconds)
[14:19:47] *** Joins: anthon (~Thunderbi@p2e52aa21.dip0.t-ipconnect.de)
[14:23:25] *** Joins: freshcoffee (~fresh@user/freshcoffee)
[14:23:57] *** Joins: pkap (~pkap@185.213.155.252)
[15:36:01] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.3)
[15:36:31] *** Joins: supakeen (~user@python/site-packages/supakeen)
[15:43:44] *** Quits: jjido (~Denis@90.213.58.125) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[15:43:59] *** Quits: ewintr (sid512156@id-512156.hampstead.irccloud.com) ()
[15:44:32] *** Joins: terminalpusher (~terminalp@2a01:586:9dbf:1:a42a:cfb1:af0d:223e)
[16:15:09] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[16:15:31] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[16:15:57] *** Quits: tane (~tane@user/tane) (Quit: Leaving)
[16:56:20] *** Joins: xackus_ (~xackus@218x.knc.pl)
[17:00:52] *** Joins: frmdstryr (~jrm@172.58.206.179)
[17:02:39] *** Quits: frett27 (~frett27@2a01:e0a:58a:6c00:322e:ca61:baad:acfc) (Ping timeout: 250 seconds)
[17:11:24] *** Joins: notapenguin (~ryu@179.222.254.137)
[17:11:25] *** Joins: mjanssen (mpcjanssen@2a01:7e01::f03c:92ff:fe02:7c97)
[17:13:20] *** Joins: breavyn_ (~breavyn@user/breavyn)
[17:14:18] *** Quits: breavyn (~breavyn@user/breavyn) (Ping timeout: 260 seconds)
[17:15:46] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[17:16:16] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
[17:20:42] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[17:20:48] *** Joins: binarycat (~binarycat@35.24.192.117)
[17:23:26] *** Quits: binarycat (~binarycat@35.24.192.117) (Read error: Connection reset by peer)
[17:25:19] *** Joins: neurocyte0132889 (~neurocyte@user/neurocyte)
[17:29:40] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Quit: noeontheend)
[17:30:13] *** Joins: arkurious (~arkurious@user/arkurious)
[17:38:00] *** Joins: Colt (~Colt@user/colt)
[17:56:59] *** Quits: Colt (~Colt@user/colt) (Remote host closed the connection)
[17:57:32] *** Joins: Colt (~Colt@user/colt)
[18:00:39] *** Quits: Colt (~Colt@user/colt) (Remote host closed the connection)
[18:01:00] *** Joins: Colt (~Colt@user/colt)
[18:02:32] *** Quits: Colt (~Colt@user/colt) (Remote host closed the connection)
[18:04:09] *** Joins: Colt (~Colt@user/colt)
[18:04:29] *** Quits: Colt (~Colt@user/colt) (Remote host closed the connection)
[18:04:56] *** Joins: Colt (~Colt@user/colt)
[18:05:10] *** Quits: Colt (~Colt@user/colt) (Remote host closed the connection)
[18:06:37] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[18:06:58] *** Quits: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655) (Client Quit)
[18:07:48] *** Joins: pretty_dumm_guy (trottel@gateway/vpn/protonvpn/prettydummguy/x-88029655)
[18:09:39] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[18:11:21] *** Quits: xackus_ (~xackus@218x.knc.pl) (Ping timeout: 250 seconds)
[18:12:49] *** Joins: noeontheend_ (~noeonthee@207.237.194.194)
[18:23:04] <ifreund> andrewrk: updating river to zig master went fairly smoothly although it was a bit time consuming
[18:23:50] <ifreund> unused variable/parameter warnings didn't catch any major bugs but did lead to code cleanup in several places
[18:24:12] <ifreund> anyhow, I don't have any regressions to report :)
[18:29:17] *** Quits: crest (~quassel@user/crest) (Ping timeout: 252 seconds)
[18:29:57] <ikskuh> i actually had to restructure some code in LoLa because of allocgate :(
[18:30:18] *** Joins: crest (~quassel@user/crest)
[18:30:53] <ifreund> really? how so
[18:32:02] *** Quits: chgr (~ek@nat-91-137-16-17.net.encoline.de) (Quit: WeeChat 3.3)
[18:33:26] *** Joins: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4)
[18:37:39] *** Joins: nyah (~nyah@94.6.71.219)
[18:38:05] <ikskuh> i have a generic c_void context 
[18:38:10] <ikskuh> for functions
[18:38:14] <ikskuh> to enable something like closures
[18:38:17] <ikskuh> and they closed in a allocator
[18:38:21] <ikskuh> which is now not possible anymore
[18:39:52] <tgschultz> ...allocgate? I feel like I missed something. What's the big alloc change?
[18:41:18] <ikskuh> std.mem.Allocator is now a fat pointer and non-intrusive
[18:41:38] <ikskuh> and stores vtable+ptr
[18:43:25] <tgschultz> thanks. I'm looking at it now. It isn't obvious to me how it would make any previous usecase impossible though.
[18:44:09] <tgschultz> Is this all because of the optimization issues around @fieldParentPtr?
[18:44:46] <ikskuh> nah
[18:44:57] <ikskuh> because @sizeOf(std.mem.Allocator) != @sizeOf(*std.mem.Allocator)
[18:45:07] <ikskuh> i had type-erased pointers before
[18:45:14] <ikskuh> now Allocator is a temporary object instead of a pointer-to-field
[18:47:58] <ifreund> ikskuh: if you only use one allocator type in this context, you can just pass the pointer to the arena allocator or gpa itself and then call the .allocator() function inside your callback
[18:48:18] <ikskuh> i have no idea which allocator gets passed into my lib
[18:48:44] <ifreund> yep, that won't work then
[19:05:50] *** Joins: jokoon (~eio@2a01:e0a:542:e160:b853:3509:4b94:dd74)
[19:08:12] *** Quits: pkap (~pkap@185.213.155.252) (Ping timeout: 256 seconds)
[19:10:23] *** Joins: paulgrmn__ (~paulgrmn@user/paulgrmn)
[19:22:22] *** Joins: IsaiahG (~Isaiah6@69.59.80.251)
[19:26:45] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Ping timeout: 250 seconds)
[19:32:33] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Remote host closed the connection)
[19:32:33] *** Quits: noeontheend_ (~noeonthee@207.237.194.194) (Remote host closed the connection)
[19:32:53] <ikskuh> is there a safe alterantive to @floatToInt ?
[19:55:16] *** Quits: notapenguin (~ryu@179.222.254.137) (Quit: WeeChat 3.3)
[19:55:48] <tgschultz> what do you mean by 'safer'?
[20:00:10] *** Quits: terminalpusher (~terminalp@2a01:586:9dbf:1:a42a:cfb1:af0d:223e) (Remote host closed the connection)
[20:01:10] <ikskuh> try passing NaN to fti :D
[20:01:12] <ikskuh> it will just panic
[20:01:18] <ikskuh> the same for out-of-bounds values
[20:01:23] <ikskuh> i need an error
[20:01:27] <ikskuh> so i don't have runtime crashes
[20:04:25] <tgschultz> huh, I thought we had something like that for ints at least, but I can't find it.
[20:05:38] <tgschultz> oh, we do for ints. std.math.cast. That should be extendable to floats but it doesn't look like anyone has done that yet.
[20:10:27] <ikskuh> yeah
[20:10:32] <ikskuh> std.math.cast and std.math.lossyCast
[20:10:39] <ikskuh> lossyCast will panic on nans :D
[20:10:53] <tgschultz> yep
[20:14:40] *** Joins: NotGagarin (~NotGagari@zopatista.plus.com)
[20:20:09] *** Joins: frett27 (~frett27@2a01:e0a:58a:6c00:df76:acbe:d10e:9929)
[20:22:50] *** Parts: NotGagarin (~NotGagari@zopatista.plus.com) ()
[20:22:55] *** Joins: NotGagarin (~NotGagari@zopatista.plus.com)
[20:32:04] *** Quits: NotGagarin (~NotGagari@zopatista.plus.com) (Ping timeout: 256 seconds)
[20:41:44] *** Joins: xackus_ (~xackus@218x.knc.pl)
[20:49:26] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[20:57:41] *** Joins: paulgrmn__ (~paulgrmn@user/paulgrmn)
[21:09:41] *** Joins: rgrinberg (~textual@187.223.209.106)
[21:19:12] *** Quits: noeontheend (~noeonthee@207.237.194.194) (Quit: noeontheend)
[21:23:19] *** Quits: paulgrmn__ (~paulgrmn@user/paulgrmn) (Ping timeout: 250 seconds)
[21:23:43] *** Joins: noeontheend (~noeonthee@207.237.194.194)
[21:29:19] *** Quits: frmdstryr (~jrm@172.58.206.179) (Ping timeout: 252 seconds)
[21:31:57] *** Joins: noeontheend_ (~noeonthee@207.237.194.194)
[21:34:53] *** Quits: cr1901 (~cr1901@2601:8d:8600:911:f03e:bc82:cee9:8ee9) (Remote host closed the connection)
[21:37:03] *** Joins: cr1901 (~cr1901@2601:8d:8600:911:fdee:2366:21cc:ffdf)
[21:39:46] *** Quits: rgrinberg (~textual@187.223.209.106) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:43:07] *** Joins: taurinus (~taurinus@user/taurinus)
[21:50:42] *** Quits: phaleth (~phaleth@user/phaleth) (Quit: phaleth)
[22:04:45] *** Joins: [deleted] (~livoreno@user/notzmv)
[22:05:46] *** Quits: neurocyte0132889 (~neurocyte@user/neurocyte) (Quit: The Lounge - https://thelounge.chat)
[22:08:32] *** Quits: livoreno (~livoreno@user/notzmv) (Ping timeout: 240 seconds)
[22:08:59] *** Joins: neurocyte0132889 (~neurocyte@user/neurocyte)
[22:13:59] *** Joins: jjido (~Denis@90.213.58.125)
[22:20:56] <mischief> andrewrk: it does not link, the option does not appear in the invocation.
[22:22:07] <mischief> something weird seems to be happening if i try to use system headers and libraries with the zig binary tarball i downloaded from the website..
[22:24:07] *** Quits: freshcoffee (~fresh@user/freshcoffee) (Quit: WeeChat 3.0.1)
[22:29:53] <mischief> here is the code and build.zig for a simple D-Bus call: https://gist.github.com/mischief/0d771bd33ca34255e4dced5fc4e93ace
[22:30:44] <mischief> if you change exe.linkSystemLibrary("systemd"); to exe.linkSystemLibraryName("systemd");, it works, otherwise, it fails to do the C import
[22:31:01] <mischief> it also works if you run `zig build-exe -lc -lsystemd main.zig`.
[22:31:19] <mischief> (zig version is in the gist title)
[22:34:02] *** Quits: xackus_ (~xackus@218x.knc.pl) (Ping timeout: 240 seconds)
[22:45:08] *** Joins: paulgrmn_ (~paulgrmn@user/paulgrmn)
[22:47:20] <ifreund> mischief: linkSystemLibrary() tries to use pkg-config to figure out what linker flags to pass, that must be going wrong somehow
[22:47:38] <ifreund> It wouldn't surprise me at all if systemd is doing something strange
[22:48:18] <mischief> m(
[22:48:50] *** Joins: moog (~moog@107.126.53.185)
[22:49:05] <mischief> the .pc files are prefixed with `lib`
[22:55:39] <ifreund> mischief: you can play with it your self by running `pkg-config --cflags --libs foobar`
[22:55:55] <ifreund> perhaps `foobar` needs to be something other than `systemd` for what you want
[22:56:07] <ifreund> or you can just stick with linkSystemLibraryName() :D
[22:57:56] <mischief> yes, it just needed to be `libsystemd`, not `systemd`
[22:58:37] *** Quits: jokoon (~eio@2a01:e0a:542:e160:b853:3509:4b94:dd74) (Quit: Leaving)
[22:58:55] <mischief> updated the gist, and it works. :-) git clone https://gist.github.com/mischief/0d771bd33ca34255e4dced5fc4e93ace dbus && cd dbus && zig build run
[22:59:25] <ifreund> nice!
[22:59:43] <ifreund> mischief: by the way, if you ever feel like not depending on all of systemd to use dbus you might want to check out https://sr.ht/~emersion/basu/
[23:04:19] <mischief> my main machines all run debian, but thank you ;-)
[23:11:59] *** Quits: paulgrmn_ (~paulgrmn@user/paulgrmn) (Ping timeout: 252 seconds)
[23:20:47] *** Quits: taurinus (~taurinus@user/taurinus) (Quit: nyaa~)
[23:27:53] *** Quits: waleee (~waleee@2001:9b0:21d:fc00:398f:b003:b90d:acf4) (Ping timeout: 250 seconds)
[23:37:08] *** Joins: fwg (~fwg@user/fwg)
[23:54:36] *** Quits: tgschultz (UserNick@047-034-058-084.res.spectrum.com) (Quit: Going offline, see ya! (www.adiirc.com))
[23:55:05] *** Joins: tgschultz (UserNick@047-034-058-084.res.spectrum.com)
