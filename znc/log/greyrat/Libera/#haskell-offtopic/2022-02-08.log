[00:09:07] *** Joins: schuelermine[m] (~schuelerm@user/schuelermine)
[00:18:09] *** Joins: amesgen[m] (~amesgenm]@2001:470:69fc:105::82b)
[00:21:59] *** Quits: zincy (~zincy@host86-151-99-97.range86-151.btcentralplus.com) (Ping timeout: 256 seconds)
[00:33:11] *** Joins: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl)
[00:34:59] *** Joins: zincy (~zincy@2a00:23c8:970c:4801:68f0:cbbd:5b77:19e4)
[00:38:22] *** Quits: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl) (Ping timeout: 260 seconds)
[00:39:25] *** Quits: zincy (~zincy@2a00:23c8:970c:4801:68f0:cbbd:5b77:19e4) (Ping timeout: 250 seconds)
[00:40:44] *** Joins: fgaz (~fgaz@2001:470:69fc:105::842)
[00:49:00] *** Joins: ongy[m] (~ongymatri@2001:470:69fc:105::5018)
[00:49:15] *** Joins: vaibhavsagar[m] (~vaibhavsa@2001:470:69fc:105::ffe)
[00:51:34] *** Quits: eggplantade (~Eggplanta@2600:1700:bef1:5e10:1dc4:f5c4:a458:81) (Remote host closed the connection)
[00:55:15] *** Joins: zincy (~zincy@2a00:23c8:970c:4801:68f0:cbbd:5b77:19e4)
[00:57:26] *** Joins: siraben (~siraben@user/siraben)
[01:00:01] *** Joins: psydroid (~psydroid@user/psydroid)
[01:00:04] *** Joins: eggplantade (~Eggplanta@2600:1700:bef1:5e10:1dc4:f5c4:a458:81)
[01:05:22] *** Quits: ongy[m] (~ongymatri@2001:470:69fc:105::5018) (Read error: Connection reset by peer)
[01:05:22] *** Quits: psydroid (~psydroid@user/psydroid) (Write error: Connection reset by peer)
[01:05:23] *** Quits: siraben (~siraben@user/siraben) (Write error: Connection reset by peer)
[01:05:23] *** Quits: schuelermine[m] (~schuelerm@user/schuelermine) (Read error: Connection reset by peer)
[01:05:23] *** Quits: fgaz (~fgaz@2001:470:69fc:105::842) (Write error: Connection reset by peer)
[01:05:24] *** Quits: ParsaAlizadeh[m] (~lizadehma@2001:470:69fc:105::1:65a4) (Read error: Connection reset by peer)
[01:05:24] *** Quits: vaibhavsagar[m] (~vaibhavsa@2001:470:69fc:105::ffe) (Write error: Connection reset by peer)
[01:05:25] *** Quits: amesgen[m] (~amesgenm]@2001:470:69fc:105::82b) (Read error: Connection reset by peer)
[01:06:36] *** Joins: psydroid[m] (~psydroid@user/psydroid)
[01:06:40] *** psydroid[m] is now known as psydroid
[01:08:30] *** Quits: psydroid (~psydroid@user/psydroid) (Client Quit)
[01:09:28] *** Joins: vaibhavsagar[m] (~vaibhavsa@2001:470:69fc:105::ffe)
[01:09:28] *** Joins: amesgen[m] (~amesgenm]@2001:470:69fc:105::82b)
[01:09:28] *** Joins: ongy[m] (~ongymatri@2001:470:69fc:105::5018)
[01:09:28] *** Joins: siraben (~siraben@user/siraben)
[01:09:28] *** Joins: fgaz (~fgaz@2001:470:69fc:105::842)
[01:09:40] *** Joins: ParsaAlizadeh[m] (~lizadehma@2001:470:69fc:105::1:65a4)
[01:09:42] *** Joins: schuelermine[m] (~schuelerm@user/schuelermine)
[01:16:20] *** sshine is now known as sshine`
[01:52:50] *** Quits: Flonk (~Flonk@vps-zap441517-1.zap-srv.com) (Quit: Ping timeout (120 seconds))
[02:14:15] *** Quits: zincy (~zincy@2a00:23c8:970c:4801:68f0:cbbd:5b77:19e4) (Remote host closed the connection)
[02:16:47] *** Joins: Flonk (~Flonk@vps-zap441517-1.zap-srv.com)
[02:16:48] *** Joins: vicfred (~vicfred@user/vicfred)
[02:34:03] *** Joins: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl)
[02:36:37] *** Quits: Tuplanolla (~Tuplanoll@91-159-68-166.elisa-laajakaista.fi) (Quit: Leaving.)
[02:47:51] *** Quits: boxscape_ (~boxscape_@p4ff0b9d5.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[02:54:22] *** Quits: Flonk (~Flonk@vps-zap441517-1.zap-srv.com) (Quit: Ping timeout (120 seconds))
[03:02:16] *** Quits: __monty__ (~toonn@user/toonn) (Quit: leaving)
[03:08:10] *** Quits: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl) (Ping timeout: 260 seconds)
[04:14:17] *** Quits: vicfred (~vicfred@user/vicfred) (Quit: Leaving)
[04:40:57] *** Quits: m5zs7k (aquares@web10.mydevil.net) (Ping timeout: 256 seconds)
[04:56:35] *** Quits: raehik (~raehik@cpc95906-rdng25-2-0-cust156.15-3.cable.virginm.net) (Ping timeout: 256 seconds)
[05:05:14] *** Joins: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl)
[05:19:49] *** Quits: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl) (Ping timeout: 256 seconds)
[05:36:41] *** Quits: mvk (~mvk@2607:fea8:5cdc:bf00::80f1) (Ping timeout: 250 seconds)
[06:01:23] *** Joins: justAGuest (~justAGues@136.206.5.117)
[06:04:38] *** Quits: justAGuest (~justAGues@136.206.5.117) (Client Quit)
[06:39:32] *** sshine` is now known as sshine
[07:09:02] *** Joins: m5zs7k (aquares@web10.mydevil.net)
[07:12:15] *** Quits: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1) (Quit: The Lounge - https://thelounge.chat)
[07:13:48] *** Joins: terrorjack (~terrorjac@2a01:4f8:1c1e:509a::1)
[08:13:20] *** Joins: mvk (~mvk@2607:fea8:5cdc:bf00::80f1)
[08:28:30] *** Joins: little_mac (~little_ma@2601:410:4300:3ce0:c1b4:4e62:c0e4:304a)
[08:45:25] *** Quits: geekosaur (~geekosaur@xmonad/geekosaur) (Ping timeout: 256 seconds)
[08:49:20] *** Joins: geekosaur (~geekosaur@xmonad/geekosaur)
[10:11:05] *** Quits: mvk (~mvk@2607:fea8:5cdc:bf00::80f1) (Ping timeout: 256 seconds)
[10:37:43] *** Joins: Tuplanolla (~Tuplanoll@91-159-68-166.elisa-laajakaista.fi)
[11:26:48] *** Joins: kuribas (~user@ptr-25vy0i8mlszjpxncneu.18120a2.ip6.access.telenet.be)
[12:22:30] *** Quits: eggplantade (~Eggplanta@2600:1700:bef1:5e10:1dc4:f5c4:a458:81) (Remote host closed the connection)
[12:37:57] *** Quits: little_mac (~little_ma@2601:410:4300:3ce0:c1b4:4e62:c0e4:304a) (Ping timeout: 240 seconds)
[12:42:24] *** Joins: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl)
[12:57:53] *** Joins: __monty__ (~toonn@user/toonn)
[13:00:53] *** Joins: boxscape_ (~boxscape_@p4ff0b60b.dip0.t-ipconnect.de)
[13:14:37] *** Quits: notzmv (~zmv@user/notzmv) (Ping timeout: 240 seconds)
[13:15:21] *** Quits: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl) (Ping timeout: 245 seconds)
[13:20:20] *** Joins: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl)
[13:23:01] *** Joins: eggplantade (~Eggplanta@2600:1700:bef1:5e10:58f7:de82:9fa8:330)
[13:23:15] *** Joins: notzmv (~zmv@user/notzmv)
[13:27:26] *** Quits: eggplantade (~Eggplanta@2600:1700:bef1:5e10:58f7:de82:9fa8:330) (Ping timeout: 260 seconds)
[13:46:29] *** Joins: fendor (~fendor@91.141.68.59.wireless.dyn.drei.com)
[14:05:39] *** Joins: raehik (~raehik@cpc95906-rdng25-2-0-cust156.15-3.cable.virginm.net)
[14:46:35] *** Quits: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl) (Ping timeout: 250 seconds)
[14:51:21] <dminuoso> sysroot.tar: XZ compressed data
[14:51:23] *** Joins: psydroid (~psydroid@user/psydroid)
[14:51:30] <dminuoso> `xz -d` gives me corrupt data, what could this be instead?
[14:51:43] <dminuoso> (that is, xz complains that the payload is corrupted)
[14:59:42] *** Joins: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl)
[15:04:56] *** Quits: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl) (Ping timeout: 245 seconds)
[15:12:18] <tomsmeding> dminuoso: does 'xxd sysroot.tar | head -1' have {0xfd, '7', 'z', 'X', 'Z', 0x00} at start of file?
[15:13:06] <tomsmeding> and "YZ" at end of file
[15:13:25] * tomsmeding likes the pramatism in choosing that footer sequence
[15:13:41] <tomsmeding> *pragmatism
[15:14:31] <tomsmeding> if the header is missing it's not an XZ file, if the footer is missing it's probably truncated :p
[15:14:45] <geekosaur> or padded
[15:14:56] <tomsmeding> right
[15:16:27] <dminuoso> tomsmeding: It has the right magic byte sequence
[15:16:29] <dminuoso> Mmm.
[15:25:40] *** Joins: eggplantade (~Eggplanta@108-201-191-115.lightspeed.sntcca.sbcglobal.net)
[15:29:37] *** Quits: eggplantade (~Eggplanta@108-201-191-115.lightspeed.sntcca.sbcglobal.net) (Ping timeout: 240 seconds)
[15:33:16] *** Joins: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl)
[15:43:09] *** Quits: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl) (Ping timeout: 256 seconds)
[15:56:59] *** Joins: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl)
[16:26:45] <dminuoso> This is getting absurd, the initrd contained also has the xz magic bytes, but cant be entirely decompressed
[16:53:22] *** Quits: jpds (~jpds@gateway/tor-sasl/jpds) (Remote host closed the connection)
[16:54:01] *** Joins: jpds (~jpds@gateway/tor-sasl/jpds)
[16:58:39] <__monty__> dminuoso: Are you trying to unpack a kernel image? There's a script in the kernel repo that does it for you. There's extra bytes sandwiched in there or something.
[17:02:45] <dminuoso> __monty__: Hah, yeah I think I was just about to crack that nut
[17:03:05] <dminuoso> seems like initrd is usually two concatenated xz compressed cpio archives
[17:03:23] <dminuoso> So the usual method is to simply use `xz --single-stream` and feed the left overs into another `xz --single-stream`
[17:05:02] <dminuoso> As for the original file, apparently `head -c -8 sysroot.tar | xz -d -c` is how you decompress it.
[17:05:04] <dminuoso> obviously
[17:05:12] <dminuoso> Or you can probably do the above
[17:05:16] <dminuoso> i.e. some kind of
[17:05:47] <dminuoso> (xz -dc --single-stream > sysroot && cat > leftover ) < sysroot.tar
[17:08:21] <dminuoso> Oh no
[17:08:23] <dminuoso> Its better
[17:08:42] <dminuoso> They take the length of the sysroot, convert it into a string, ASCII encode it, and then append it 
[17:42:13] *** Joins: vicfred (~vicfred@user/vicfred)
[18:01:20] <tomsmeding> wat
[18:01:26] <tomsmeding> I mean, sure
[18:01:39] <tomsmeding> I hope no documentation described that as a valid XZ file
[18:02:03] <dminuoso> of course not
[18:02:28] <dminuoso> Haha
[18:02:32] <dminuoso> 14:35:02   dminuoso | As for the original file, apparently `head -c -8 sysroot.tar | xz -d -c` is how you decompress it.
[18:02:35] <dminuoso> Turns out, this is a bug of course
[18:02:41] <dminuoso> This should read `head -c 16`
[18:02:52] <dminuoso> Guess the installer squelches the non-zero exit code.
[18:03:04] <dminuoso> Or `head -c -16` rather.
[18:07:38] <dminuoso> tomsmeding: The rationale is that this length is the uncompressed size, and the installer uses the knowledge of how large the internal stuff is to know beforehand whether everything will work out
[18:07:58] <dminuoso> Say if the volume its installing onto is not large enough, it's better to error out early than to end up with decompression/copy errors
[18:08:31] <tomsmeding> makes a lot of sense
[18:08:46] <tomsmeding> I'm mildly surprised the xz format doesn't encode that itself already
[18:09:20] <dminuoso> Im tempted to say the bash developers of this installer were quite competent.
[18:09:32] <dminuoso> So Ill give them the benefit of the doubt. It's really well structured shell code
[18:09:46] <merijn> Any of you happen to be tensorflow experts?
[18:31:16] *** Joins: comerijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl)
[18:31:42] *** Quits: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl) (Read error: Connection reset by peer)
[18:54:23] <comerijn> Ah...it
[18:54:32] <comerijn> it's my favourite patch notes season :>
[18:54:34] *** comerijn is now known as merijn
[18:54:39] <merijn> "Your Catholic wife will no longer try to set you up with a barmaid"
[19:02:46] <ongy[m]> What? CK3?
[19:04:22] <merijn> Yeah
[19:28:33] *** Joins: Guest72 (~Guest72@27.56.151.17)
[19:50:03] *** Joins: eggplantade (~Eggplanta@2600:1700:bef1:5e10:dd3b:3d16:5046:6705)
[19:55:59] *** Quits: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl) (Ping timeout: 250 seconds)
[20:23:56] *** Quits: Guest72 (~Guest72@27.56.151.17) (Quit: Client closed)
[20:30:00] *** Joins: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl)
[20:35:00] *** Quits: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl) (Ping timeout: 250 seconds)
[20:37:22] *** Quits: eggplantade (~Eggplanta@2600:1700:bef1:5e10:dd3b:3d16:5046:6705) (Remote host closed the connection)
[20:42:02] *** Quits: boxscape_ (~boxscape_@p4ff0b60b.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[20:53:12] *** Joins: eggplantade (~Eggplanta@2600:1700:bef1:5e10:dd3b:3d16:5046:6705)
[21:04:46] *** Quits: eggplantade (~Eggplanta@2600:1700:bef1:5e10:dd3b:3d16:5046:6705) (Remote host closed the connection)
[21:09:21] *** Joins: boxscape_ (~boxscape_@p4ff0b60b.dip0.t-ipconnect.de)
[21:20:40] *** Quits: fendor (~fendor@91.141.68.59.wireless.dyn.drei.com) (Remote host closed the connection)
[21:52:09] *** Joins: little_mac (~little_ma@2601:410:4300:3ce0:c1b4:4e62:c0e4:304a)
[22:00:13] *** Quits: raehik (~raehik@cpc95906-rdng25-2-0-cust156.15-3.cable.virginm.net) (Ping timeout: 256 seconds)
[22:02:23] *** Joins: raehik (~raehik@cpc95906-rdng25-2-0-cust156.15-3.cable.virginm.net)
[22:05:10] *** Joins: eggplantade (~Eggplanta@2600:1700:bef1:5e10:dd3b:3d16:5046:6705)
[22:09:28] *** Quits: eggplantade (~Eggplanta@2600:1700:bef1:5e10:dd3b:3d16:5046:6705) (Ping timeout: 250 seconds)
[22:30:59] *** Joins: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl)
[22:43:03] *** Joins: eggplantade (~Eggplanta@2600:1700:bef1:5e10:dd3b:3d16:5046:6705)
[22:45:52] *** Quits: raehik (~raehik@cpc95906-rdng25-2-0-cust156.15-3.cable.virginm.net) (Ping timeout: 250 seconds)
[23:04:55] *** Quits: merijn (~merijn@c-001-001-018.client.esciencecenter.eduvpn.nl) (Ping timeout: 250 seconds)
[23:28:30] *** Quits: boxscape_ (~boxscape_@p4ff0b60b.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[23:37:18] *** Joins: makiseKurisu (~user@ewr117.neoplus.adsl.tpnet.pl)
[23:37:30] <makiseKurisu> Lurk, after-evening and hi
[23:40:58] <[exa]> o/
[23:51:22] *** Joins: raehik (~raehik@cpc95906-rdng25-2-0-cust156.15-3.cable.virginm.net)
[23:55:49] *** Quits: raehik (~raehik@cpc95906-rdng25-2-0-cust156.15-3.cable.virginm.net) (Ping timeout: 256 seconds)
[23:57:05] *** Quits: eggplantade (~Eggplanta@2600:1700:bef1:5e10:dd3b:3d16:5046:6705) (Remote host closed the connection)
[23:57:40] *** Joins: raehik (~raehik@cpc95906-rdng25-2-0-cust156.15-3.cable.virginm.net)
[23:58:54] *** Quits: kuribas (~user@ptr-25vy0i8mlszjpxncneu.18120a2.ip6.access.telenet.be) (Quit: ERC (IRC client for Emacs 26.3))
