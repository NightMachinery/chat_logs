[00:03:07] <FromDiscord> <Chiggy> sent a code paste, see https://play.nim-lang.org/#ix=3wcL
[00:03:17] <FromDiscord> <Chiggy> (edit) "https://play.nim-lang.org/#ix=3wcL" => "https://play.nim-lang.org/#ix=3wcM"
[00:04:51] <FromDiscord> <haxscramper> sent a code paste, see https://paste.rs/83C
[00:05:09] <FromDiscord> <haxscramper> (edit) "https://play.nim-lang.org/#ix=3wcO" => "https://play.nim-lang.org/#ix=3wcN"
[00:05:19] <FromDiscord> <haxscramper> This would leave `"Server"` node in the both keys and values
[00:05:20] <FromDiscord> <Chiggy> I am hoping to make the seq elements Table
[00:05:27] <FromDiscord> <Chiggy> (edit) "I am hoping to make the seq elements Table ... " 03added "not a jsonNode"
[00:05:47] <FromDiscord> <haxscramper> so you want to have like `table[string, seq[Record]]`?
[00:05:56] <FromDiscord> <Chiggy> um. Whats a Record
[00:05:58] <FromDiscord> <Chiggy> let me searh
[00:05:59] <FromDiscord> <Chiggy> (edit) "searh" => "search"
[00:06:07] <FromDiscord> <haxscramper> `{"Name":"Foo","Time":"1 minute"},`
[00:06:48] <FromDiscord> <haxscramper> sent a code paste, see https://play.nim-lang.org/#ix=3wcQ
[00:06:52] *** Quits: dsrw (~dsrw@134.41.79.252) (Ping timeout: 268 seconds)
[00:07:16] <FromDiscord> <Chiggy> I didnt understand the mget part
[00:07:16] <FromDiscord> <haxscramper> sent a code paste, see https://play.nim-lang.org/#ix=3wcR
[00:07:25] <FromDiscord> <Chiggy> wouldnt that just set the value to an empty seq every time
[00:07:26] <FromDiscord> <haxscramper> https://nim-lang.org/docs/tables.html#mgetOrPut%2CTable%5BA%2CB%5D%2CA%2CB
[00:07:44] <FromDiscord> <haxscramper> In reply to @Chiggy "wouldnt that just set": mgetOrPut stands for mutable get OR put
[00:07:54] <FromDiscord> <haxscramper> > Retrieves value at t[key] or puts val if not present, either way returning a value which can be modified.
[00:08:21] <FromDiscord> <haxscramper> so no, it would not put empty sequence each time, only when first encountered
[00:08:29] <FromDiscord> <Chiggy> oh yeah it makes sense now
[00:08:32] <FromDiscord> <Chiggy> got it
[00:09:16] <FromDiscord> <Chiggy> sent a code paste, see https://play.nim-lang.org/#ix=3wcS
[00:09:26] *** Joins: dsrw (~dsrw@134.41.79.252)
[00:09:38] <FromDiscord> <haxscramper> https://wandbox.org/permlink/Mp2FTMq0f5kllz2S
[00:10:20] <FromDiscord> <haxscramper> You want to get result as `Table[string, seq[JsonNode]]` or as `Table[string, seq[Record]]`?
[00:10:57] <FromDiscord> <Chiggy> Whichever is best for performance
[00:12:31] <FromDiscord> <Chiggy> so uh, which would be best for perf?
[00:14:49] <FromDiscord> <haxscramper> sent a code paste, see https://play.nim-lang.org/#ix=3wcX
[00:14:56] <FromDiscord> <haxscramper> sent a code paste, see https://play.nim-lang.org/#ix=3wcY
[00:15:01] <FromDiscord> <haxscramper> jsony is ~43/23 times faster
[00:15:09] <FromDiscord> <haxscramper> ~twice
[00:16:39] <FromDiscord> <Chiggy> Damn this timeit thingy is cool
[00:16:45] <FromDiscord> <Chiggy> lemme search jsony
[00:17:09] <FromDiscord> <haxscramper> sent a code paste, see https://play.nim-lang.org/#ix=3wd0
[00:17:24] <FromDiscord> <haxscramper> In reply to @Chiggy "lemme search jsony": https://github.com/treeform/jsony  https://github.com/treeform/benchy
[00:17:30] <FromDiscord> <Chiggy> got it
[00:24:24] *** Quits: dsrw (~dsrw@134.41.79.252) (Quit: Textual IRC Client: www.textualapp.com)
[00:27:45] <FromDiscord> <Chiggy> hey @haxscramper, if my input json has spaces in the field, jsony just puts a blank string (`""`) for the records. How do I deal with that
[00:28:13] <FromDiscord> <haxscramper> `renameHook`
[00:28:52] <FromDiscord> <Chiggy> ok
[00:29:03] <FromDiscord> <Chiggy> so just defining a proc called renameHook wil ldo it?
[00:29:05] <FromDiscord> <Chiggy> (edit) "wil ldo" => "will do"
[00:29:41] <FromDiscord> <haxscramper> yes, I have it in my example
[00:29:57] <FromDiscord> <haxscramper> I used it to convert `"Name"` to the nep1-conforming field names
[00:30:12] <FromDiscord> <Chiggy> ok
[00:30:14] <FromDiscord> <Chiggy> thanks
[00:36:20] <arkanoid> is it possible to force a seq[MyVariantTypeOfParticularKind]?
[00:36:56] <FromDiscord> <undersquire> wdym force
[00:37:54] <arkanoid> a seq that contains object variants of a particular kind
[00:38:05] <FromDiscord> <undersquire> oh
[00:38:13] <FromDiscord> <undersquire> not that I know of
[00:38:15] <FromDiscord> <haxscramper> no, this is not possible
[00:38:26] <arkanoid> k
[00:38:29] <FromDiscord> <haxscramper> well
[00:38:37] <FromDiscord> <haxscramper> depends on definition on sanity
[00:38:42] <FromDiscord> <undersquire> üòÇ
[00:39:00] <FromDiscord> <haxscramper> but you can make a generic wrapper with `static[set[Kind]]`
[00:39:39] <FromDiscord> <haxscramper> and then write all sort of operators that would statically check for intersection/subset/superset relations between static generic parameters of the arguments
[00:39:42] <FromDiscord> <haxscramper> this is possible
[00:40:14] <arkanoid> I don't want it anymore :D
[00:40:20] <FromDiscord> <haxscramper> https://wandbox.org/permlink/5bWPmFbPiWEYmSDL example of this madness for compile-time query validation
[00:40:40] <FromDiscord> <haxscramper> It doesn't look that bad, just more work then you'd probably want to put in
[00:40:41] <FromDiscord> <haxscramper> ye
[00:40:43] <FromDiscord> <haxscramper> yes
[00:41:20] <FromDiscord> <haxscramper> well, now I'm interested
[00:42:14] <arkanoid> oh dear, I fear like having activated evil robot by accident
[00:43:01] <FromDiscord> <PsychoClay> you could also just use pointers right?
[00:43:50] <FromDiscord> <haxscramper> is this related to `MyVariantTypeOfParticularKind`?
[00:50:25] <FromDiscord> <haxscramper> okay, yes, https://wandbox.org/permlink/bzWymdCvs7mX8bQD type mismatch errors would literally murder anyone's willingness to work with that
[00:50:40] <FromDiscord> <haxscramper> `required type for arg: AstWrap[{0, 1, 2}]   but expression 'AstWrap[toSet({akInt})]()' is of type: AstWrap[{0}]`
[00:50:59] <FromDiscord> <haxscramper> But we are getting so deep into
[00:51:31] <FromDiscord> <haxscramper> Like, this would be an awesome feature if nim supported some way of user-defined callbacks for user messages
[00:51:33] <FromDiscord> <haxscramper> idk
[00:52:13] <FromDiscord> <haxscramper> and btw, this is a zero-cost-at-runtime solution (wrap has the same `sizeof`),
[00:52:33] <FromDiscord> <haxscramper> Only paying for field access on non-compiled backends
[00:54:27] <FromDiscord> <tandy> is there a method for escaping \`$\` in a filename?
[00:55:09] <FromDiscord> <tandy> im substituting the filename in here, \` FFMPEG = "ffmpeg -hide\_banner -loglevel error -i \\"$#\\" -n -map\_metadata 0 -c\:a libopus -b\:a 128k \\"$#\\""\`, and when the filename has a \`$\` it fails some how
[00:56:08] <FromDiscord> <haxscramper> you are using runtime string interpolation with `$#`, and when file has `$` it fails. Can you use strformat maybe?
[00:58:15] <FromDiscord> <tandy> i wil try that
[01:01:57] <FromDiscord> <Chiggy> shouldnt the hour minute and second values be 1, 35 and 40 respectively? https://media.discordapp.net/attachments/371759389889003532/876926273421729832/unknown.png
[01:02:36] <FromDiscord> <tandy> hmm, since i am using this string as a constant and i dont have the vars that i am substituting until later in the program im not sure how to do it
[01:02:51] <FromDiscord> <tandy> because you cant just put fmt"string\: {}"
[01:04:44] <FromDiscord> <konsumlamm> In reply to @Chiggy "shouldnt the hour minute": `var hours, minutes, seconds = ...` doesn't destructure the result, it just assigns the same result to every variable
[01:05:02] <FromDiscord> <Chiggy> In reply to @konsumlamm "`var hours, minutes, seconds": how can I get the values then?
[01:05:24] <FromDiscord> <konsumlamm> assign them to a variable and then index?
[01:05:27] <FromDiscord> <Chiggy> like other than doing `var hour = time[0]`
[01:05:31] <FromDiscord> <konsumlamm> or use `fusion/matching`
[01:05:40] <FromDiscord> <Chiggy> hmm ok
[01:10:27] <FromDiscord> <haxscramper> I forgot you can escape `$` by doubling it
[01:10:28] <FromDiscord> <haxscramper> so replace `$` with `$$`
[01:10:42] <FromDiscord> <haxscramper> !eval import std/strutils; echo "$1 eats $$2 $2." % ["The cat", "fish"]
[01:10:47] <NimBot> The cat eats $2 fish.
[01:12:19] <arkanoid> I'm getting "Error: unhandled exception: assignment to discriminant changes object branch; compile with -d:nimOldCaseObjects for a transition period [FieldDefect]" but I dont know how this is possible, I'm just doing "result.kind = nyMyKind" where result is non-ref
[01:12:53] <arkanoid> oh, wait, I have an idea
[01:13:03] <FromDiscord> <Chiggy> @haxscramper how can I create an empty table?
[01:13:47] <FromDiscord> <haxscramper> `var table: Table[...]`
[01:14:06] <FromDiscord> <haxscramper> you can't assign to kind fields‚Üµ(<@709044657232936960_arkanoid=5b=49=52=43=5d>)
[01:14:19] <FromDiscord> <haxscramper> https://github.com/nim-lang/RFCs/issues/407
[01:14:33] <FromDiscord> <Chiggy> In reply to @haxscramper "`var table: Table[...]`":  https://media.discordapp.net/attachments/371759389889003532/876929445829697536/unknown.png
[01:15:11] <FromDiscord> <haxscramper> Use `initTable[K, V]()` to init empty table then
[01:15:20] <FromDiscord> <Chiggy> ok
[01:18:24] <arkanoid> simplest way to pretty print nested objects in nim?
[01:19:53] <FromDiscord> <haxscramper> treeform/jsony or haxscramper/hmisc/other/hpprint
[01:20:04] <FromDiscord> <haxscramper> s/jsony/print/
[01:20:20] <FromDiscord> <haxscramper> hpprint is more featured, but I still havent properly tested it
[01:20:27] <FromDiscord> <konsumlamm> In reply to @Chiggy "": the empty "table" literal is `{:}`
[01:20:43] <FromDiscord> <konsumlamm> but `var table: Table[...]` also would've worked
[01:20:49] <FromDiscord> <haxscramper> But it should give you the best results wrt. to coloring, formatting etc
[01:21:23] <FromDiscord> <haxscramper> In reply to @konsumlamm "the empty "table" literal": not when the expression is part of another I believe
[01:21:52] <FromDiscord> <Ducko> Sorry to intrude, is this the best channel for support / help?
[01:22:01] <FromDiscord> <haxscramper> `let table = toTable({"123": {:}})` `Error: invalid type: 'empty' in this context: 'KeyValuePairSeq[system.string, array[0..-1, empty]]' for var`
[01:22:03] <FromDiscord> <haxscramper> In reply to @Ducko "Sorry to intrude, is": yes
[01:22:09] <FromDiscord> <konsumlamm> no, #offtopic is way better /s
[01:22:12] <FromDiscord> <Ducko> haha
[01:23:12] <FromDiscord> <konsumlamm> In reply to @haxscramper "`let table = toTable({"123":": well, that's type inference being bad though, not having an unexpected set literal
[01:23:32] <FromDiscord> <Ducko> sent a code paste, see https://play.nim-lang.org/#ix=3wdl
[01:23:39] <FromDiscord> <konsumlamm> In reply to @haxscramper "`let table = toTable({"123":": and it would still need the `.toTable`
[01:23:46] *** Quits: nisstyre (~wes@user/nisstyre) (Ping timeout: 240 seconds)
[01:23:49] <FromDiscord> <haxscramper> it is annoying when "no HM" described as "bad type inference" honestly
[01:24:04] <FromDiscord> <konsumlamm> independently of it being HM, it is bad imo
[01:24:10] <FromDiscord> <tandy> oh wow
[01:24:22] <FromDiscord> <tandy> i think i need to add an escape rule for this
[01:25:12] <FromDiscord> <Ducko> (edit) "https://play.nim-lang.org/#ix=3wdl" => "https://play.nim-lang.org/#ix=3wdm"
[01:25:45] *** Joins: nisstyre (~wes@user/nisstyre)
[01:26:06] <FromDiscord> <Ducko> it seems to be still trying to use `clang` even though I specify to use mingw? unsure
[01:28:00] <FromDiscord> <Chiggy> @haxscramper thanks to your help, I have already reduced my code time from 2 minutes to 5 seconds. I appreciate your help a lot üòÅ
[01:28:10] <arkanoid> thanks haxscramper
[01:28:28] <FromDiscord> <Chiggy> I will be finishing porting my program tom coz its 230am here and I gotta sleep now
[01:28:40] <FromDiscord> <Chiggy> (edit) "seconds." => "seconds ish."
[01:29:03] <FromDiscord> <haxscramper> In reply to @Ducko "it seems to be": I think you need to do `nimble -d:mingw build`. I don't remember how nimble handles flags exactly, so
[01:29:19] <FromDiscord> <haxscramper> Because `nim c -d:mingw for_windows.nim` for me correctly runs with `/usr/bin/x86_64-w64-mingw32-gcc`
[01:29:20] <FromDiscord> <Ducko> In reply to @haxscramper "I think you need": Same issue
[01:29:32] <FromDiscord> <Ducko> I have it instalel
[01:29:35] <FromDiscord> <Ducko> (edit) "instalel" => "installed"
[01:29:53] <FromDiscord> <Ducko>  https://media.discordapp.net/attachments/371759389889003532/876933300499923014/unknown.png
[01:30:12] <FromDiscord> <Ducko> it just is still using `clang`?
[01:30:22] <FromDiscord> <Ducko> > Error: execution of an external compiler program 'clang
[01:30:42] <FromDiscord> <haxscramper> which nim version do you have? I Use 1.4.8 and `nim c -d:mingw test.nim` shows it is trying to use mingw
[01:31:12] <FromDiscord> <Ducko> sent a code paste, see https://paste.rs/xbF
[01:31:50] <FromDiscord> <haxscramper> and simple mingw hello world hasm the same issue?
[01:31:55] <FromDiscord> <Ducko> could it be my `nim.cfg`?
[01:32:01] <FromDiscord> <Ducko> I have `cc: "clang"` in it
[01:33:18] <FromDiscord> <Ducko> Well I have progress
[01:33:23] <FromDiscord> <haxscramper> yes, this affects configuration
[01:33:31] <FromDiscord> <Ducko> using this `$ nimble build -d:mingw --cc="gcc"`
[01:33:39] <FromDiscord> <Ducko> it now uses mingw
[01:33:51] <FromDiscord> <Ducko> but now I have errors in mingw internally?
[01:34:03] <FromDiscord> <Ducko> sent a code paste, see https://play.nim-lang.org/#ix=3wdo
[01:34:03] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[01:34:26] <FromDiscord> <Ducko> it's trying to run `ld -z`?
[01:35:05] <FromDiscord> <haxscramper> https://forum.nim-lang.org/t/7803 okay, at least they had the same error
[01:35:46] <FromDiscord> <Ducko> > Try adding `--os:windows`
[01:36:08] <FromDiscord> <Ducko> And now I get a different error as it's trying to use normal `gcc`
[01:36:30] <FromDiscord> <haxscramper> whack-a-mole time
[01:37:00] <FromDiscord> <tandy> hmm that didnt solve my problem, i need to look into this more
[01:37:51] <FromDiscord> <Ducko> In reply to @haxscramper "whack-a-mole time": yeah I only have 2 errors lol
[01:39:38] <FromDiscord> <haxscramper> you can explicitly specify compilation path
[01:39:58] <FromDiscord> <Ducko> wdym?
[01:40:07] <FromDiscord> <haxscramper> https://nim-lang.github.io/Nim/nimc.html#crossminuscompilation
[01:40:12] <FromDiscord> <haxscramper> compiler path
[01:40:26] <FromDiscord> <Ducko> yeah I did that, same thing
[01:40:30] <FromDiscord> <haxscramper> and maybe run with `--skipParentCfg --skipProjectCfg` etc.
[01:41:01] <FromDiscord> <haxscramper> sent a code paste, see https://play.nim-lang.org/#ix=3wdr
[01:41:28] <FromDiscord> <Ducko> it compiles fine, then linking it dies
[01:41:57] <FromDiscord> <Ducko> sent a code paste, see https://play.nim-lang.org/#ix=3wds
[01:43:03] <FromDiscord> <Ducko> I think it's related to the args it's trying to pass to mingw-gcc?
[01:43:14] <FromDiscord> <Ducko> sent a code paste, see https://play.nim-lang.org/#ix=
[01:43:20] <FromDiscord> <Ducko> > `-z` `-z`
[01:43:33] <FromDiscord> <haxscramper> yes, but `-z` is known option for gcc linker
[01:43:39] <FromDiscord> <haxscramper> But maybe not for mingw
[01:43:56] <FromDiscord> <Ducko> yeah
[01:44:07] <FromDiscord> <haxscramper> You can try running `/usr/lib/gcc/x86_64-w64-mingw32/11.2.0/../../../../x86_64-w64-mingw32/bin/ld` manually and check whether it accepts options, syntax etc.
[01:44:24] <FromDiscord> <Ducko> trying to do that
[01:44:25] <FromDiscord> <haxscramper> Though docs say `-z keyword     -z is passed directly on to the linker along with the keyword keyword. See the section in the documentation of your linker for permitted values and their meanings. `
[01:47:10] <FromDiscord> <Ducko> In reply to @haxscramper "You can try running": can't find the file so hmm
[01:48:40] <FromDiscord> <Ducko> would these actually do anything important?‚Üµ> `-z,relro,-z,now`
[01:48:57] <FromDiscord> <haxscramper> idk, this is linker-specific
[01:49:13] <FromDiscord> <haxscramper> you can try without them, at least right now
[01:49:18] <FromDiscord> <Ducko> if I remove it, it compiles
[01:50:20] <FromDiscord> <haxscramper> ` -z now     Marks the object to override the runtime linker's default mode and require non-lazy runtime binding. This is similar to adding the object to the process by using dlopen(3DL) with the RTLD_NOW mode, or setting the LD_BIND_NOW environment variable in effect. See ld.so.1(1).`
[01:51:20] <FromDiscord> <haxscramper> Anyway, I'm almost done for today, so
[01:51:55] <FromDiscord> <Ducko> fair enough
[01:52:04] <FromDiscord> <Ducko> getting someone to see if it works on win
[01:52:29] <FromDiscord> <tandy> how do you add a backslash to a string in nim?
[01:52:36] <FromDiscord> <tandy> i need it to escape a $ in a unix command
[01:53:56] <FromDiscord> <tandy> oh yeah you do double backslash
[01:54:07] <FromDiscord> <Ducko> In reply to @haxscramper "Anyway, I'm almost done": thanks!
[02:11:55] <arkanoid> I have two functions that calls each other. I tried adding code {.experimental: "codeReordering".} but it didn't work: Warning: Circular dependency detected. `codeReordering` pragma may not be able to reorder some nodes properely. What is the proper way to solve this? Forward declaration?
[02:12:23] <FromDiscord> <Elegantbeef> Yep
[02:55:08] *** Quits: max22- (~maxime@2a01cb0883359800aa22ac7030ebf881.ipv6.abo.wanadoo.fr) (Quit: Leaving)
[03:17:07] *** Quits: xet7 (~xet7@user/xet7) (Ping timeout: 245 seconds)
[03:24:15] *** Quits: flynn (~mcbloch@user/flynn) (Read error: Connection reset by peer)
[03:25:23] *** Joins: flynn (~mcbloch@user/flynn)
[03:33:14] <madprops> can I  use toTable and define the type?
[03:33:22] <madprops> [int64, string]
[03:35:02] <FromDiscord> <Elegantbeef> Yeswould be `{..}.toTable[: K, V]`
[03:35:03] <FromDiscord> <Elegantbeef> Yes would be `{..}.toTable[: K, V]`
[03:37:05] <madprops> what does the : mean ?
[03:37:32] <FromDiscord> <Elegantbeef> It's a way to override the `[]` so it knows it's generic arguements in MCS
[03:37:50] <FromDiscord> <Elegantbeef> Cause otherwise it's turned into `[](toTable({..})`
[03:38:34] <FromDiscord> <Elegantbeef> It's a simple/clean way to override the `[]` operator
[03:38:46] <madprops> wondering what's wrong here https://play.nim-lang.org/#ix=3wdK
[03:39:53] <FromDiscord> <Elegantbeef> The issue here is that the tuples are inferred separately so each one needs the `i64` written after the int literal
[03:40:08] <madprops> i see. thanks
[03:41:00] <FromDiscord> <Elegantbeef> This should be like an array though, so wonder if this can be fixed easily
[03:43:11] <NimEventer> New thread by Col: Html tags from template not being rendered, see https://forum.nim-lang.org/t/8332
[03:48:08] <FromDiscord> <Elegantbeef> Atleast the devel error message is cleaner in this case mad, but yea this should be converted automatically
[03:57:18] <madprops> i see
[03:57:29] <madprops> maybe this is offtopic but I'm trying to convert some scala to nim
[03:57:30] <madprops> https://scastie.scala-lang.org/pgXjPxTxR5WnQaXBG8SEZg
[03:57:40] <madprops> wondering if I could do that
[03:57:50] <madprops> not sure what ".to(number)" is doing here
[03:58:01] <madprops> but it matches 100 for 120 for example
[03:58:07] <madprops> 1000 for 1200
[03:58:37] <FromDiscord> <Elegantbeef> Yea i dont quite get it
[04:36:01] <NimEventer> New post on r/nim by thprogramador: Lua extended by Nim or vice-versa, see https://reddit.com/r/nim/comments/p5sh3n/lua_extended_by_nim_or_viceversa/
[04:47:17] *** Joins: justsomeguy (~justsomeg@user/justsomeguy)
[05:00:13] <FromDiscord> <System64 ~ Flandre Scarlet> I have a question, can a 64-bits Nim program interop with a 32-bits C lib please? I know Java doesn't and C# can. No idea for C and C++
[05:00:18] <FromDiscord> <System64 ~ Flandre Scarlet> (edit) "for" => "about"
[05:10:36] <madprops> how can I avoid this imprecision? https://play.nim-lang.org/#ix=3wdW
[05:11:49] <FromDiscord> <Elegantbeef> I believe devel has better round triped string'd floats
[05:17:35] <madprops> nvm I'll just cut the decimals to 2 or less characters
[05:19:57] <madprops> wait no this is bad. 2 gets turned into 1999999999
[05:20:18] <madprops> oh i'll just round
[05:23:04] <madprops> not sure that works
[05:23:15] <madprops> seems it's expected I use string format for this
[05:23:28] <madprops> but i get 1.1999999 instead of 1.2
[05:23:28] <FromDiscord> <Elegantbeef> Well like i said devel has better round trip float stringification
[05:23:39] <madprops> what do you mean by devel?
[05:24:07] <FromDiscord> <Elegantbeef> the development branch on the github
[05:24:34] <FromDiscord> <Elegantbeef> Actually i code be wrong about it, still might be an umerged PR
[05:24:34] <FromDiscord> <Elegantbeef> Actually i could be wrong about it, still might be an umerged PR
[05:32:30] <madprops> or, is there a way to get decimals without resorting to strings?
[05:32:35] <madprops> like get 2 in 1.2
[05:33:13] <madprops> oh there's `splitDecimal`
[05:33:22] <madprops> "Breaks x into an integer and a fractional part."
[05:35:11] <justsomeguy> Doesn't Nim have rational or fixed point numbers that you can use?
[05:35:52] <madprops> does it?
[05:35:59] <madprops> splitdecimal is not working well
[05:36:08] <madprops> 0.2 turns into 1.9999999
[05:36:13] <madprops> when i echo it
[05:36:22] <madprops> (after multiplying it)
[05:36:44] <FromDiscord> <Elegantbeef> I mean that's to be expected, floats are floats afterall
[05:37:29] <madprops> yeah a round fixes it
[05:38:09] <FromDiscord> <Elegantbeef> I've never really needed this round trip accuracy, so i'm just here going "Yep" üòõ
[05:40:25] <madprops> heh
[05:42:09] *** Quits: arkurious (~arkurious@user/arkurious) (Quit: Leaving)
[06:18:06] *** Joins: _KurtGodel_ (~AdiIRC@180.150.11.50)
[06:21:10] *** Quits: _KurtGodel (~AdiIRC@45.133.4.153) (Ping timeout: 240 seconds)
[06:22:33] <madprops> ended up making this function https://play.nim-lang.org/#ix=3we9
[06:24:07] *** Quits: justsomeguy (~justsomeg@user/justsomeguy) (Quit: WeeChat 3.2)
[06:35:20] <madprops> to this library https://github.com/madprops/numberstring
[07:29:22] *** pch_ is now known as pch
[07:46:08] <FromDiscord> <gogolxdong (liuxiaodong)> Is there any up-to-date GMP library
[08:05:10] *** Quits: rockcavera (~rc@user/rockcavera) (Remote host closed the connection)
[08:21:23] <madprops> how can I make the index appear here: for i, c in 'a'..'z':
[08:21:35] <madprops> using pair doesn't seem to work
[08:23:35] <FromDiscord> <Yardanico> use enumerate
[08:25:23] <FromDiscord> <Yardanico> https://nim-lang.org/docs/enumerate.html
[08:25:36] <FromDiscord> <Yardanico> it basically creates the loop index itself and increments it
[08:26:02] <FromDiscord> <Yardanico> it's the same as doing var i = 0 and incrementing it in a loop just nicer
[08:26:07] <madprops> the question is
[08:26:11] <madprops> how do I import it?!
[08:26:16] <madprops> i think i've been through this before
[08:26:20] <madprops> it had some weird import method
[08:27:30] <FromDiscord> <Yardanico> not weird, just the more modern way
[08:27:39] <FromDiscord> <Yardanico> it's preferable you import all std modules this way :)
[08:27:41] <FromDiscord> <Yardanico> import std/enumerate
[08:27:46] <FromDiscord> <Yardanico> import std/strutils
[08:28:00] <madprops> there we go
[08:28:00] <FromDiscord> <Yardanico> or for multiple modules at the same time - import std/[strutils, enumerate]
[08:28:19] <madprops> std modules are 99% of what i import
[08:28:23] <madprops> so it's gonna be full of std/
[08:28:45] <madprops> but namespacing is good
[08:31:28] <FromDiscord> <Yardanico> you can also span this import over multiple lines
[08:31:35] <FromDiscord> <Yardanico> also, you can import packages from nimble via import pkg/package
[08:31:40] <FromDiscord> <Yardanico> or import pkg/[package1, package2]
[08:36:01] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.2)
[08:36:31] *** Joins: supakeen (~user@python/site-packages/supakeen)
[08:50:58] <madprops> i see
[08:51:44] <madprops> and local modules without a keyword right?
[08:53:37] <madprops> hmm weird
[08:53:44] <madprops> running an integration test is getting cached
[08:53:54] <madprops> i modify the file and the changes are not reflected
[08:57:20] <madprops> I had to add  --forceBuild:on
[08:59:38] <madprops> dangerous stuff, if it makes me think the tests pass when they don't
[09:03:56] <FromDiscord> <PsychoClay> what does it mean if file.writeLine throws an IndexDefect?
[09:05:58] <FromDiscord> <Yardanico> In reply to @madprops "dangerous stuff, if it": that's really weird
[09:06:42] <FromDiscord> <Yardanico> In reply to @PsychoClay "what does it mean": can you show a bit more code?
[09:07:01] <FromDiscord> <PsychoClay> i forgot to add fmWrite
[11:42:09] <NimEventer> New thread by Jasonfi: A look at Dart's null safety syntax, see https://forum.nim-lang.org/t/8333
[12:39:49] *** Quits: flynn (~mcbloch@user/flynn) (Remote host closed the connection)
[12:40:56] *** Joins: flynn (~mcbloch@user/flynn)
[12:46:22] *** Joins: max22- (~maxime@2a01cb08833598000a30ba58e06e8b04.ipv6.abo.wanadoo.fr)
[13:05:08] *** Quits: max22- (~maxime@2a01cb08833598000a30ba58e06e8b04.ipv6.abo.wanadoo.fr) (Remote host closed the connection)
[13:05:35] *** Joins: max22- (~maxime@2a01cb08833598000a30ba58e06e8b04.ipv6.abo.wanadoo.fr)
[13:37:02] <FromDiscord> <Chiggy> How can I check if a number is between 2 numbers? I tried `50 <= num <= 70` but this doesnt work. And neither does `num in 50..70`. Why didnt the 50..70 fail?
[13:37:06] <FromDiscord> <Chiggy> (edit) "didnt" => "did"
[13:37:39] <FromDiscord> <Chiggy> ofc I can do `5- <= 50 and num <= 70` but I wanted to know if there was another way
[13:37:52] <FromDiscord> <Chiggy> (edit) "`5-" => "`50" | "50" => "num"
[13:39:07] <FromDiscord> <Elegantbeef> !eval 10 in 5..15
[13:39:10] <NimBot> Compile failed: /usercode/in.nim(1, 4) Error: expression 'contains(5 .. 15, 10)' is of type 'bool' and has to be used (or discarded)
[13:39:16] <FromDiscord> <Elegantbeef> !eval echo 10 in 5..15
[13:39:20] <NimBot> true
[13:40:07] <FromDiscord> <Elegantbeef> The issue is your num isnt the same type as the range
[13:40:37] <FromDiscord> <Elegantbeef> ie if it's a int8 you need to do `yourVar in 50i8..70i8`
[13:40:52] <FromDiscord> <Chiggy> sent a code paste, see https://play.nim-lang.org/#ix=3wfl
[13:40:53] <FromDiscord> <Chiggy> um
[13:41:34] <FromDiscord> <Elegantbeef> That works
[13:41:47] <FromDiscord> <Elegantbeef> https://play.nim-lang.org/#ix=3wfm
[13:42:22] *** Joins: PMunch (~PMunch@vpn.dualog.com)
[13:44:29] <FromDiscord> <Chiggy> then something must be wrong in my code
[13:45:08] <FromDiscord> <Chiggy> this is my code‚Üµ`                if ( now_timestamp - player_last_seen in SECONDS-10..SECONDS+10 ) and (player_server == server) and (parseInt(nv) >= SECONDS):`
[13:45:16] <FromDiscord> <Chiggy> now_timestamp is epochTime()
[13:45:25] <FromDiscord> <Chiggy> and player_last_seen is a float
[13:45:35] <FromDiscord> <Chiggy> wait could that be the issue
[13:46:03] <FromDiscord> <Elegantbeef> Well the error message should say the issue
[13:46:20] <FromDiscord> <Chiggy>  https://media.discordapp.net/attachments/371759389889003532/877118634823135252/unknown.png
[13:47:59] <FromDiscord> <Elegantbeef> yea right there  "but expression is of type int"
[13:48:28] <FromDiscord> <Chiggy> how do I convert my player_last_seen which is something like 100.1234 to just 100
[13:49:07] <FromDiscord> <Elegantbeef> You can just do `int(val)` or checkout https://nim-lang.org/docs/lenientops.html
[13:49:21] <FromDiscord> <Elegantbeef> The latter will make more operations work float + int without question, which might be handy for what seems to be a game
[13:49:55] <FromDiscord> <Chiggy> nah its not a game
[13:50:02] <FromDiscord> <Chiggy> but thanks forr the docs link
[13:50:27] <FromDiscord> <Elegantbeef> float -\> int conversion truncates the decimal so `-1.9.int == -1` and `int(1.9) == 1`
[14:22:59] <FromDiscord> <Chiggy> is there a way I can shorten this : `table[server]["Players"][nk] = $(parseInt(table[server]["Players"][nk]) + SECONDS)`‚Üµ`table[server]["Players"][nk]` is a integer in string format. Just need to add to it and convert it to string again. Is there a concise / faster method?
[14:23:32] *** Joins: Guest3138 (~e@176.215.228.241)
[14:24:50] *** Joins: Vladar (~Vladar@46.162.2.53)
[14:25:02] <PMunch> Hmm, can't think of anything of the top of my head
[14:25:56] <PMunch> I mean you could maybe do `template nk: untyped = table[server]["Players"][nk]; nk = $(nk.parseInt + SECONDS)` but I'm not sure if that'll work
[14:26:49] <FromDiscord> <Chiggy> hmm ok
[14:27:16] <FromDiscord> <haxscramper> this is a single encounter of this, or you have multiple conversions like this?
[14:27:47] <FromDiscord> <Chiggy> just one more encounter
[14:27:49] <FromDiscord> <haxscramper> you can do `mgetOrPut` and move `parseInt(...) + SECONDS` part into proc
[14:27:57] <FromDiscord> <Chiggy>  https://media.discordapp.net/attachments/371759389889003532/877129111657676820/unknown.png
[14:28:04] <FromDiscord> <haxscramper> if it is one instance then I would not bother
[14:34:02] <PMunch> Could you try to put that template thing outside that if statement and see if it works? You would reduce all that by quite a bit if it did, but mostly I'm just curious :P
[14:34:33] <FromDiscord> <Chiggy> yeah sure
[14:35:20] <PMunch> By the way, Nim typically uses 2 spaces instead of 4 for indentation. It works with 4 as well, but if you want to write code following the convention you should switch to 2
[14:35:31] <FromDiscord> <Chiggy> oh
[14:35:33] <FromDiscord> <Chiggy> didnt know that
[14:35:41] <FromDiscord> <Chiggy> btw nk is already a string
[14:35:42] <PMunch> It looks a bit odd at first, but once you get used to it 4 spaces looks like a massive waste :P
[14:35:47] <FromDiscord> <Chiggy> should I change template name?
[14:35:53] <PMunch> Ah, yes
[14:36:09] <PMunch> I just wasn't sure what to call that thing
[14:36:14] <FromDiscord> <Chiggy>  https://media.discordapp.net/attachments/371759389889003532/877131193345273866/unknown.png
[14:36:33] <FromDiscord> <Chiggy> like so?
[14:36:37] <PMunch> The untyped is supposed to be on the same line, it's the return type of the template
[14:36:46] <FromDiscord> <Chiggy> oh
[14:36:57] <PMunch> It's really `template nkt(): untyped = <body>`
[14:37:18] <FromDiscord> <Chiggy> like so? https://media.discordapp.net/attachments/371759389889003532/877131464095961098/unknown.png
[14:37:20] <PMunch> Similar to a proc, but a template instead. And you can omit the parenthesis
[14:37:53] <PMunch> The ; was just to split it into a newline
[14:37:58] <FromDiscord> <Chiggy> ok
[14:38:52] <PMunch> http://ix.io/3wfy/nim
[14:38:54] <PMunch> Like that
[14:39:11] <FromDiscord> <Chiggy> yeah it seems to work
[14:39:43] <PMunch> Nice, wasn't sure if it would work to assign to it through a template
[14:40:01] <FromDiscord> <Chiggy>  https://media.discordapp.net/attachments/371759389889003532/877132144886054922/unknown.png
[14:40:56] <PMunch> Oh woops, that paste didn't go right
[14:41:09] <FromDiscord> <Chiggy> yeah the code works
[14:41:21] <FromDiscord> <Chiggy> In reply to @PMunch "Oh woops, that paste": huh?
[14:41:48] <PMunch> My ix.io paste was intended to be a longer snippet
[14:41:57] <FromDiscord> <Chiggy> oh lol
[14:42:17] <PMunch> Ah, that wasn't quite what I was thinking
[14:42:22] <FromDiscord> <Chiggy> anyways your template code seems to work
[14:42:51] <PMunch> If you just do the template, then `nkt = $(nkt.parseInt + SECONDS)` in your if/else statement
[14:43:29] <PMunch> If you share the same stuff from your image as text (for example via play.nim-lang.org) then I can show you what I mean
[14:44:13] <FromDiscord> <Chiggy> btw, I am currently using `nim c -r file.nim` to compile. I assume its compiling in debug mode rn? and if I compile for release, should I expect any speed boost?
[14:44:27] <FromDiscord> <Yardanico> yes
[14:44:45] <FromDiscord> <Yardanico> but it depends on what you do - if it's number crunching or some calculations, then it'll be much faster, if it's IO - don't expect a big boost
[14:44:46] <PMunch> Yes, that is debug mode by default, and yes adding `-d:release` will very likely give you a speed boost
[14:44:54] <FromDiscord> <Yardanico> -d:release if a safe release mode (with runtime checks enabled)
[14:45:10] <FromDiscord> <Yardanico> -d:danger is d:release + all runtime checks disabled, use it when you don't care about runtime errors or stuff
[14:45:27] <FromDiscord> <Yardanico> or when you just want to run some program one time and not host it on a server to run 24/7 :P
[14:48:10] *** Joins: xet7 (~xet7@user/xet7)
[14:49:28] *** Quits: beshr (~beshr@user/beshr) (Ping timeout: 256 seconds)
[14:50:47] <NimEventer> New thread by Ingo: Server Sent Events?, see https://forum.nim-lang.org/t/8334
[14:51:36] <FromDiscord> <Chiggy> In reply to @Yardanico "or when you just": Lol
[14:51:49] <FromDiscord> <Yardanico> so yeah, -d:release is fine for must stuff
[14:51:52] <FromDiscord> <Yardanico> (edit) "must" => "most"
[14:51:54] <PMunch> Maybe something like this should be put in sugar? https://play.nim-lang.org/#ix=3wfA
[14:52:34] <FromDiscord> <Chiggy> In reply to @Yardanico "but it depends on": My program is actually pretty simple.‚Üµfetch json from api - roughly 4-6 seconds‚Üµthen shit ton of playing around with tables.‚Üµtotal time on debug mode is around 10 to 12 seconds
[14:52:44] <FromDiscord> <Yardanico> then go ahead with -d:danger
[14:52:45] <FromDiscord> <Chiggy> (edit) "tables.‚Üµtotal" => "tables. (10-12     -     4-6)‚Üµtotal"
[14:52:50] <FromDiscord> <Yardanico> (edit) "then go ahead ... with" 03added "and try it"
[14:52:55] <FromDiscord> <Chiggy> (edit) "4-6)‚Üµtotal" => "4-6 = 6 seconds) ‚Üµtotal"
[14:53:00] <FromDiscord> <Chiggy> um ok
[14:53:39] <FromDiscord> <Chiggy> whoa
[14:53:49] <FromDiscord> <Chiggy> total time reduces to 6 seconds
[14:53:53] <FromDiscord> <Yardanico> yeah
[14:53:57] <FromDiscord> <Chiggy> out of which 5 seconds was to fetch
[14:54:05] <FromDiscord> <Chiggy>  https://media.discordapp.net/attachments/371759389889003532/877135689450405958/unknown.png
[14:54:07] <FromDiscord> <Yardanico> the biggest "optimization" that -d:release or -d:danger do is opt:speed
[14:54:14] <FromDiscord> <Yardanico> that argument just passes -O3 to the C compiler
[14:54:33] <FromDiscord> <Yardanico> whereas the default debug mode compiles without C compiler optimizations, for a faster compilation time
[14:55:01] <FromDiscord> <Yardanico> also you might want to try -d:danger --gc:orc  to see if ORC is faster for you
[14:55:09] <FromDiscord> <Chiggy> whats orc
[14:55:11] <FromDiscord> <Yardanico> (it's a newer GC, the default is refc but it's being phased out)
[14:55:43] <FromDiscord> <Yardanico> if you want to know more, you can read‚Üµhttps://nim-lang.org/blog/2020/12/08/introducing-orc.html‚Üµhttps://nim-lang.org/blog/2020/10/15/introduction-to-arc-orc-in-nim.html
[14:56:26] <FromDiscord> <Chiggy> also, one more qurstion. I am currently devving on my laptop (windows). I want to be able to run this code on a vps (ubuntu most likely), so I will have to install nim on it, then compile my code on it?
[14:56:31] <FromDiscord> <Chiggy> (edit) "qurstion." => "question."
[14:57:12] <PMunch> Nah you can cross-compile
[14:57:16] <FromDiscord> <Yardanico> if you have win10, then you can compile in wsl
[14:57:18] <FromDiscord> <Chiggy> In reply to @Yardanico "also you might want": took 6.4 seconds
[14:57:27] <FromDiscord> <Chiggy> In reply to @Chiggy "": this took 6.3
[14:57:34] <FromDiscord> <Chiggy> (edit) "In reply to @Chiggy "": this took 6.3 ... " 03added "(d:danger only)"
[14:57:37] <FromDiscord> <Yardanico> well you can't compare time just from a single line :P
[14:57:41] <FromDiscord> <Chiggy> true
[14:57:43] <FromDiscord> <Yardanico> since network speed isn't constant
[14:57:53] <FromDiscord> <Chiggy> yeah this time fetch did take more time
[14:57:54] <FromDiscord> <Yardanico> but yeah, you can just continue using just -d:danger
[14:58:02] <FromDiscord> <Yardanico> but --gc:orc will become the default in the future
[14:58:08] <PMunch> You could also cache your JSON response :P
[14:59:40] <FromDiscord> <Chiggy> In reply to @PMunch "You could also cache": Its different everytime so
[14:59:51] <FromDiscord> <Chiggy> My code will be running once every minute
[15:00:21] <PMunch> Ah I see
[15:02:02] <FromDiscord> <Chiggy> Does anyone know if I can create JSONs using jsony
[15:02:23] <FromDiscord> <Yardanico> nah
[15:02:30] <FromDiscord> <Yardanico> well, yes
[15:02:31] <FromDiscord> <Yardanico> you can :P
[15:02:42] <FromDiscord> <Chiggy> huh?
[15:02:49] <FromDiscord> <Yardanico>  https://media.discordapp.net/attachments/371759389889003532/877137884212260904/unknown.png
[15:03:10] <FromDiscord> <Chiggy> hmm
[15:03:23] <FromDiscord> <dom96> If it's just to create JSON strings then why not just use the stdlib?
[15:03:52] <FromDiscord> <Chiggy> yeah that was the plan was just curious to know if jsony has something for it
[15:19:42] <FromDiscord> <haxscramper> jsony is faster
[15:20:07] <FromDiscord> <haxscramper> and it does not have do two allocations for `T -> JsonNode -> string`
[15:20:48] <FromDiscord> <haxscramper> So for serialization I think it makes sense to use it instead of the stdlib
[15:30:56] *** Quits: Lord_Nightmare (Lord_Night@user/lord-nightmare/x-3657113) (Quit: ZNC - http://znc.in)
[15:34:16] <FromDiscord> <Chiggy> sent a code paste, see https://play.nim-lang.org/#ix=3wfF
[15:35:58] <FromDiscord> <haxscramper> You can have either `"Table"` or `"Server"` fields in json?
[15:36:24] <FromDiscord> <Yardanico> In reply to @Chiggy "ok I am almost": well, if you want to use jsony, you'll need to createa  custom type I think
[15:36:30] <FromDiscord> <Yardanico> (edit) "createa" => "create a"
[15:36:38] <FromDiscord> <haxscramper> You can just add `table: Option[string]` and `serve: Option[string]`
[15:36:51] <FromDiscord> <haxscramper> There is no `"Table"` in your json examples
[15:37:04] <FromDiscord> <Chiggy> by Table I meant just the `{}` part
[15:37:17] <FromDiscord> <Chiggy> In reply to @Yardanico "well, if you want": yes I am trying to do this with jsony
[15:37:33] <FromDiscord> <Yardanico> but apart from that it's pretty easy to do
[15:37:45] <FromDiscord> <Yardanico> loop over your tables, populate your objects and then serialize them
[15:37:48] *** Joins: Lord_Nightmare (Lord_Night@user/lord-nightmare/x-3657113)
[15:39:23] <FromDiscord> <haxscramper> In reply to @Chiggy "by Table I meant": So value can be either just server name or full table with multiple fields?
[15:39:46] <FromDiscord> <Chiggy> huh? I didnt get your question
[15:39:53] <FromDiscord> <Chiggy> also which table are we talking about. 1 or 2
[15:44:07] <FromDiscord> <Chiggy> I think I got it
[15:44:30] *** Joins: tdc (~tdc@217.61.224.137)
[15:45:09] <FromDiscord> <Chiggy> yeah I got it working
[15:45:36] <FromDiscord> <Chiggy> just that field names are wrong lol. I suppose I will have to write a hook? https://media.discordapp.net/attachments/371759389889003532/877148651082895370/unknown.png
[15:46:21] <FromDiscord> <Yardanico> well you can change the field names in the object definition itself I think
[15:46:31] <FromDiscord> <Yardanico> since nim itself doesn't care about camelCase vs snake_case
[15:46:38] <FromDiscord> <Chiggy> How can I define `Last Seen tho`
[15:46:41] <FromDiscord> <Chiggy> (edit) "Seen tho`" => "Seen` tho"
[15:46:46] <FromDiscord> <Yardanico> ah, like that
[15:46:54] <FromDiscord> <Yardanico> hmm
[15:47:06] <FromDiscord> <Chiggy> I suppose since toJson returns a string, I can just do a replace
[15:47:15] <FromDiscord> <Chiggy> on the whole string
[15:47:19] <FromDiscord> <Yardanico> that won't be the best for performance :P
[15:47:20] <FromDiscord> <Yardanico> you can try https://github.com/treeform/jsony#proc-renamehook-can-be-used-to-rename-fields-at-run-time
[15:48:20] *** Joins: arkurious (~arkurious@user/arkurious)
[15:49:02] <FromDiscord> <Chiggy> Ok I lemme see
[15:50:07] <FromDiscord> <Yardanico> just make a renameHook proc with a simple case statement inside
[16:02:57] <NimEventer> New thread by Haxscramper: Change error message position using `{.line.}` pragma , see https://forum.nim-lang.org/t/8335
[16:04:56] <FromDiscord> <Chiggy> In reply to @Yardanico "you can try https://github.com/treeform/jsony#proc-": turns out I was already using a rename hook
[16:05:15] <FromDiscord> <Chiggy> that was affecting my names
[16:07:32] *** Quits: max22- (~maxime@2a01cb08833598000a30ba58e06e8b04.ipv6.abo.wanadoo.fr) (Ping timeout: 245 seconds)
[16:08:58] <FromDiscord> <Chiggy> ok I am doing something wrong
[16:09:10] <FromDiscord> <Chiggy>  https://media.discordapp.net/attachments/371759389889003532/877154585175814144/unknown.png
[16:09:22] <FromDiscord> <Chiggy> the upper `of`s are for when I parse a json
[16:09:36] <FromDiscord> <Chiggy> the below ones are supposed to be when I am writing
[16:09:50] <FromDiscord> <Chiggy> and this is how I write https://media.discordapp.net/attachments/371759389889003532/877154752494968912/unknown.png
[16:10:02] <FromDiscord> <Chiggy> where https://media.discordapp.net/attachments/371759389889003532/877154798149963796/unknown.png
[16:10:11] <FromDiscord> <Chiggy> ¬Ø\_(„ÉÑ)_/¬Ø
[16:10:30] *** Quits: PMunch (~PMunch@vpn.dualog.com) (Read error: Connection reset by peer)
[16:11:06] *** Joins: PMunch (~PMunch@vpn.dualog.com)
[16:36:02] *** Quits: supakeen (~user@python/site-packages/supakeen) (Quit: WeeChat 3.2)
[16:36:29] *** Joins: audiophile_ (~audiophil@user/audiophile)
[16:36:54] *** Joins: supakeen (~user@python/site-packages/supakeen)
[16:46:17] *** Joins: rockcavera (~rc@192.12.114.207)
[16:46:17] *** Quits: rockcavera (~rc@192.12.114.207) (Changing host)
[16:46:17] *** Joins: rockcavera (~rc@user/rockcavera)
[16:47:54] <FromDiscord> <Chiggy> looks like jsony doesnt use the rename hook on toJson ? https://media.discordapp.net/attachments/371759389889003532/877164329810673700/unknown.png
[16:48:13] *** Joins: max22- (~maxime@2a01cb08833598005470cf46ded0bde6.ipv6.abo.wanadoo.fr)
[16:50:20] <audiophile_> anything cool in nim in the last 6 months?
[16:55:54] <FromDiscord> <Rika> u
[17:03:17] <audiophile_> aww
[17:21:32] *** Joins: pro (~pro@user/pro)
[17:23:00] *** Quits: pro (~pro@user/pro) (Client Quit)
[17:25:09] <PMunch> Last 6 months? Well NimConf 2021 happened :)
[17:34:38] <FromDiscord> <tandy> can you do list comprehensions in nim?
[17:35:04] <FromDiscord> <Clonkk> https://github.com/nim-lang/Nim/wiki/Nim-for-Python-Programmers#List-Comprehensions
[17:35:22] <FromDiscord> <tandy> ty
[17:35:28] <PMunch> Damn, did you have that already in your clipboard or something?
[17:35:58] <FromDiscord> <Clonkk> I have the Nim wiki in the favorite bar in Firefox \:D
[17:36:20] <PMunch> Aha :P
[17:36:22] <FromDiscord> <Clonkk> Bookmark I think it's called
[17:51:16] <audiophile_> PMunch you were working on a nim interpreter iirc?
[17:56:07] <PMunch> I was?
[18:01:44] <FromDiscord> <KJ> is there a clean way to reverse a sequence?
[18:02:05] <FromDiscord> <Clonkk> https://nim-lang.org/docs/algorithm.html#reverse%2CopenArray%5BT%5D%2CNatural%2CNatural
[18:03:28] <FromDiscord> <KJ> thank you, looks like exactly what I am looking for
[18:05:23] <PMunch> Hmm, my server appears to be completely borked..
[18:05:25] <PMunch> That's fun
[18:11:11] <FromDiscord> <Rika> Nice
[18:11:23] <FromDiscord> <Rika> Did you perhaps forget to pay
[18:22:54] <PMunch> I have it for free at the university, so I have never paid for it :P
[18:28:54] *** Quits: PMunch (~PMunch@vpn.dualog.com) (Quit: Leaving)
[18:29:19] <NimEventer> New thread by Samsamros: Simple connection GET using httpclient does not work when compiled to js, see https://forum.nim-lang.org/t/8336
[19:40:06] *** Joins: audiophile (~audiophil@user/audiophile)
[19:42:08] <FromDiscord> <Chiggy> What can I do so its `{}` instead of `{:}` ? https://media.discordapp.net/attachments/371759389889003532/877208175240151070/unknown.png
[19:43:10] *** Quits: audiophile_ (~audiophil@user/audiophile) (Ping timeout: 240 seconds)
[19:43:17] *** audiophile is now known as audiophile_
[19:43:24] <FromDiscord> <haxscramper> nothing. `$` shows `:` for empty table
[19:43:39] <FromDiscord> <haxscramper> You can reimplement own string conversion function if you want
[19:43:55] <FromDiscord> <Chiggy> hmm ok
[19:46:54] *** Quits: audiophile_ (~audiophil@user/audiophile) (Quit: Default Quit Message)
[19:51:53] *** Quits: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com) (Quit: WeeChat 3.0.1)
[20:21:05] *** Joins: beshr (~beshr@user/beshr)
[20:24:07] *** Quits: Guest3138 (~e@176.215.228.241) (Quit: Konversation terminated!)
[20:28:05] <FromDiscord> <konsumlamm> `{}` already is the empty set, so the empty table is `{:}` instead
[20:45:40] <NimEventer> New thread by Kalbhairab: Puzzle questions and solutions, see https://forum.nim-lang.org/t/8338
[21:01:01] <FromDiscord> <Chiggy> How do I compile for ubuntu 18.04 (I am on windows 10)
[21:02:41] <FromDiscord> <PsychoClay> wsl maybe
[21:02:43] <FromDiscord> <Clonkk> You can just work in WSL Ubuntu 18.04
[21:02:49] <FromDiscord> <Clonkk> It's probably the simplest way
[21:03:16] <FromDiscord> <Chiggy> Lol I don't remember me manually installing nim on wsl ubuntu https://media.discordapp.net/attachments/371759389889003532/877228597323128832/unknown.png
[21:03:54] <FromDiscord> <Ayy Lmao> How would you go about converting a tuple to an array, and raising an exception when the tuple doesn't have all the same data types? For some reason I'm struggling on this.
[21:04:56] <FromDiscord> <undersquire> u can convert a tupe to an array but idk how to account for inconsistent data types
[21:05:09] <FromDiscord> <undersquire> (edit) "u can convert a tupe to an array ... but" 03added "using ptr"
[21:07:06] <FromDiscord> <Ayy Lmao> In reply to @undersquire "u can convert a": How would you write a function that converts a tuple to an array with the type of the first field of the tuple?
[21:07:56] <FromDiscord> <undersquire> let me attempt at an example one sec
[21:09:34] *** Joins: audiophile_ (~audiophil@user/audiophile)
[21:09:53] *** Quits: audiophile_ (~audiophil@user/audiophile) (Client Quit)
[21:10:42] *** Joins: audiophile_ (~audiophil@user/audiophile)
[21:14:32] <FromDiscord> <Clonkk> sent a code paste, see https://play.nim-lang.org/#ix=3wh4
[21:15:02] <FromDiscord> <undersquire> nvm clonkk's solution is better than mine XD
[21:15:40] <FromDiscord> <Ayy Lmao> sent a code paste, see https://play.nim-lang.org/#ix=3wh5
[21:15:59] <FromDiscord> <Ayy Lmao> Not sure if it's completely sound but seems to work in the cases I've tried. Maybe it can be better
[21:17:35] <FromDiscord> <Clonkk> Depends what's your goal for non-homogenuous tuple. Like do oyu want to automatically convert element to your first element is a float ? DO you want a run time error ?
[21:18:10] <FromDiscord> <Clonkk> My solution will simply not compile if your tuple is not homogenuous
[21:20:54] <FromDiscord> <Ayy Lmao> In reply to @Clonkk "Depends what's your goal": Actually converting to the first element sounds pretty good. Not compiling seems better than a runtime error.
[21:21:02] <madprops> is there a shortcut for: & " " &  ?
[21:21:09] <madprops> or is using strformat the only option
[21:22:20] <arkanoid> what's the best way to delete all xml elements with particular tag?
[21:23:12] <arkanoid> xmltree module provides only https://nim-lang.org/docs/xmltree.html#delete%2CXmlNode%2CNatural that deletes given parent and index
[21:23:29] <arkanoid> that forces to do weird loop to delete them all
[21:24:51] <FromDiscord> <Rika> Loop backwards
[21:25:21] <FromDiscord> <Rika> That way deleting a node doesn‚Äôt change index
[21:25:30] <arkanoid> but is it possible to iterate an iterator backwards?
[21:25:39] <arkanoid> I mean XmlNode items
[21:26:10] <FromDiscord> <Rika> Get child count and get child with the index?
[21:27:54] <arkanoid> I really like overengineering things! Your solution is too simple
[21:27:56] <arkanoid> :D
[21:27:58] <arkanoid> .. thanks
[21:28:44] <FromDiscord> <Rika> If you really want the reverse iterator just make it with the index thing I said I don‚Äôt know
[21:28:55] <FromDiscord> <Rika> (edit) "said" => "said,"
[21:30:50] <FromDiscord> <leorize> there aren't any way
[21:30:51] <FromDiscord> <leorize> you can just do a `for idx in countdown(node.len - 1, 0)` though
[21:34:13] <arkanoid> yeah I've already implemented the recursive countdown thing
[21:55:06] *** Joins: Onionhammer (~onionhamm@207-153-1-151.fttp.usinternet.com)
[22:07:28] <FromDiscord> <Ayy Lmao> sent a code paste, see https://play.nim-lang.org/#ix=3wht
[22:18:45] *** Quits: Onionhammer (~onionhamm@207-153-1-151.fttp.usinternet.com) (Ping timeout: 258 seconds)
[22:49:59] <FromDiscord> <tandy> how do you escape a " in a string in nim?
[22:51:26] <FromDiscord> <haxscramper> `\"`
[22:51:41] <FromDiscord> <haxscramper> Or `r"raw string lit""eral"`
[22:51:54] *** Quits: max22- (~maxime@2a01cb08833598005470cf46ded0bde6.ipv6.abo.wanadoo.fr) (Ping timeout: 272 seconds)
[22:52:40] <FromDiscord> <haxscramper> or `"""raw string lit"eral"""`
[22:53:34] <FromDiscord> <tandy> i did this but when i echo the string it shows up
[22:53:59] <FromDiscord> <tandy> trying this now
[22:55:39] <FromDiscord> <haxscramper> !eval echo "raw string lit"eral"
[22:55:43] <NimBot> Compile failed: /usercode/in.nim(1, 26) Error: closing " expected
[22:55:53] <FromDiscord> <haxscramper> !eval echo "raw string lit"eral"
[22:55:56] <NimBot> Compile failed: /usercode/in.nim(1, 26) Error: closing " expected
[22:55:58] <FromDiscord> <haxscramper> wtf
[22:56:17] <FromDiscord> <tandy> !eval echo """ test " wow """
[22:56:21] <NimBot>  test " wow 
[22:56:33] <FromDiscord> <haxscramper> yes, matrix is being extra smart with `\"`
[22:56:53] <FromDiscord> <tandy> reee
[22:57:06] <FromDiscord> <haxscramper> sent a code paste, see https://paste.rs/9P8
[22:57:41] <FromDiscord> <tandy> hm
[22:59:49] <madprops> is there way to check if  a char is a number?
[23:00:19] <FromDiscord> <haxscramper> \`ch in '0' .. '9'
[23:00:29] <madprops> ah nice
[23:10:29] *** Quits: xet7 (~xet7@user/xet7) (Remote host closed the connection)
[23:11:29] *** Joins: xet7 (~xet7@user/xet7)
[23:29:38] *** Joins: max22- (~maxime@2a01cb0883359800b4317c9828564e29.ipv6.abo.wanadoo.fr)
[23:33:58] *** Joins: stkrdknmibalz (~test@rrcs-75-87-43-226.sw.biz.rr.com)
[23:44:30] <FromDiscord> <PsychoClay> for some reason orc keeps killing my threads üò¶ no exceptions or anything
[23:45:13] <FromDiscord> <Yardanico> In reply to @PsychoClay "for some reason orc": orc can't "kill threads" :P
[23:45:38] <FromDiscord> <PsychoClay> well when i use the default gc they dont die
[23:55:31] <madprops> is it not possible to have very big ints? int64(10000000000000000000)
[23:57:17] <FromDiscord> <Yardanico> it is possible
[23:58:07] <FromDiscord> <Yardanico> ah wait
[23:58:14] <FromDiscord> <Yardanico> your number is out of int64 range, it's not possible obviously :)
[23:58:27] <madprops> saw some int128 but it's for compiler use only
[23:58:30] <FromDiscord> <Yardanico> nim doesn't support arbitrary precision integers by default, and "int64" is clearly a 64-bit integer
[23:58:38] <FromDiscord> <Yardanico> In reply to @madprops "saw some int128 but": there are libs like https://github.com/status-im/nim-stint
