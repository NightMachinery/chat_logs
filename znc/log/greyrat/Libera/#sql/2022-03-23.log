[00:00:27] <\monster\> Another big slow down I'm seeing on Azure is related to a cte using  ROW_NUMBER() OVER (ORDER BY CASE WHEN... [ bunch of conditions ]) AS row_count, if I later select row_count from the CTE it slows down to a crawl as in 10x slower than if I don't select row_count.  Never ran into such big differences in performance between Azure and stand alone
[00:00:27] <\monster\> sql server before
[00:01:37] <\monster\> The cte only returns 2500 rows and takes 10 seconds to sort hmmm
[00:01:52] <Xgc> Hard to evaluate without seeing the exact queries being compared, and the schema.
[00:03:13] *** Quits: \monster\ (~\monster\@cpe107bef40cdd9-cm1cabc0a2a390.cpe.net.cable.rogers.com) (Quit: Client closed)
[00:03:24] <Xgc> Usually, there's some obvious potential issue.
[00:04:15] <Xgc> 2500 rows is tiny in any database.  But 2500 rows can easily take a server to its knees depending on the logic.  It really depends on the specific case.
[00:07:01] *** Quits: grooverman (~grooverma@152.250.149.217) (Read error: Connection reset by peer)
[00:07:44] <Xgc> and the intermediate size of a CTE result doesn't include enough detail about the actual work done or the impact of an accessing or lack of access of some column of the CTE.  Lots of strange things can happen.
[00:07:55] *** Joins: grooverman (~grooverma@152.250.149.217)
[00:15:26] *** Quits: rgrinberg (~textual@2806:102e:18:c0c1:a896:63f7:5249:df28) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:23:37] *** Quits: bpmedley (~bpmedley@2600:1700:e2c:8410:71a7:b07d:2c34:3ac0) (Ping timeout: 240 seconds)
[00:23:54] *** Joins: rgrinberg (~textual@2806:102e:18:c0c1:a896:63f7:5249:df28)
[00:25:35] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Read error: Connection reset by peer)
[00:31:19] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[00:31:42] *** Quits: PTNapivoski (~PTNapivos@179.189.133.33) (Quit: Leaving)
[00:52:22] *** Quits: rgrinberg (~textual@2806:102e:18:c0c1:a896:63f7:5249:df28) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:52:44] *** Quits: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e) (Quit: Client closed)
[00:54:01] *** Joins: rgrinberg (~textual@187.144.82.175)
[00:55:22] *** Joins: bpmedley (~bpmedley@2600:1700:e2c:8410:7495:30c4:96e6:e598)
[00:55:39] *** Quits: rgrinberg (~textual@187.144.82.175) (Client Quit)
[01:30:55] *** Joins: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e)
[02:03:11] *** Joins: \monster\ (~\monster\@cpe107bef40cdd9-cm1cabc0a2a390.cpe.net.cable.rogers.com)
[02:12:51] *** Quits: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e) (Quit: Client closed)
[02:39:53] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[02:43:39] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[02:45:14] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 252 seconds)
[02:51:36] *** Joins: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e)
[02:54:03] *** Joins: acidjnk (~acidjnk@p200300d0c7049f30dd97d7382d55cf65.dip0.t-ipconnect.de)
[03:07:11] *** Quits: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e) (Quit: Client closed)
[03:11:31] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:14:03] *** Quits: shibboleth (~shibbolet@user/shibboleth) (Quit: shibboleth)
[03:21:32] *** Joins: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e)
[03:29:12] *** Quits: palasso (~palasso@user/palasso) (Remote host closed the connection)
[03:38:32] *** Quits: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e) (Quit: Client closed)
[03:49:11] *** Joins: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e)
[04:05:11] *** Quits: maret (~maret@nat-88-212-37-89.antik.sk) (Quit: maret)
[04:14:50] *** Joins: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp)
[04:19:56] *** Quits: reset (~reset@user/reset) (Quit: reset)
[04:29:11] *** Quits: acidjnk (~acidjnk@p200300d0c7049f30dd97d7382d55cf65.dip0.t-ipconnect.de) (Ping timeout: 252 seconds)
[04:33:05] *** Quits: stewie925 (~stewie925@2600:1702:44f0:35c0:38ed:fe77:bdd1:d85e) (Quit: Client closed)
[04:46:29] *** Quits: ckdCreations (~ckdCreati@147.55.130.35) (Read error: Connection reset by peer)
[04:46:45] *** Joins: ckdCreations (~ckdCreati@c-73-140-151-116.hsd1.wa.comcast.net)
[04:46:55] *** Quits: ckdCreations (~ckdCreati@c-73-140-151-116.hsd1.wa.comcast.net) (Read error: Connection reset by peer)
[04:54:58] *** Joins: Rathskalon (uid65285@id-65285.lymington.irccloud.com)
[04:57:49] *** Quits: cliluw (~cliluw@47.147.77.43) (Ping timeout: 240 seconds)
[04:58:18] *** Joins: cliluw (~cliluw@47.147.77.43)
[05:16:20] *** Quits: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[05:41:32] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[05:50:32] *** Quits: ynhuser|20212021 (~yhuser202@c-73-126-128-95.hsd1.ct.comcast.net) (Ping timeout: 240 seconds)
[05:54:06] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:56:11] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[06:01:03] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Ping timeout: 252 seconds)
[06:25:49] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[06:30:12] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Ping timeout: 240 seconds)
[06:43:25] *** ketas- is now known as ketas
[06:57:44] *** Joins: Fausto (~dante@gateway/tor-sasl/filohuhum)
[06:58:38] *** Quits: Fausto (~dante@gateway/tor-sasl/filohuhum) (Remote host closed the connection)
[07:00:59] *** Joins: Fausto (~dante@gateway/tor-sasl/filohuhum)
[07:02:08] *** Quits: Fausto (~dante@gateway/tor-sasl/filohuhum) (Remote host closed the connection)
[07:03:52] *** Joins: Fausto (~dante@gateway/tor-sasl/filohuhum)
[07:05:08] *** Quits: Fausto (~dante@gateway/tor-sasl/filohuhum) (Remote host closed the connection)
[07:07:08] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[07:08:38] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Remote host closed the connection)
[07:10:35] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[07:12:38] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Remote host closed the connection)
[07:13:38] *** Quits: MrZeus_ (~MrZeus@81.92.206.10) (Ping timeout: 252 seconds)
[07:13:52] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[07:24:20] *** Joins: k8yun (~k8yun@user/k8yun)
[07:24:26] *** Joins: irontom (~user@69.174.103.168)
[07:25:11] *** Quits: irontom (~user@69.174.103.168) (Remote host closed the connection)
[07:25:34] *** Joins: irontom (~user@69.174.103.168)
[07:36:03] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[07:40:37] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Ping timeout: 240 seconds)
[07:52:09] *** Quits: irontom (~user@69.174.103.168) (Ping timeout: 252 seconds)
[08:05:44] *** Quits: Arokh (~MoveAlong@ip-088-153-209-030.um27.pools.vodafone-ip.de) (Ping timeout: 272 seconds)
[08:06:51] *** Joins: Arokh (~MoveAlong@ip-088-153-209-030.um27.pools.vodafone-ip.de)
[08:14:43] *** Quits: Rathskalon (uid65285@id-65285.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[08:16:54] *** Quits: shokohsc (~shokohsc@lfbn-idf2-1-1472-129.w92-169.abo.wanadoo.fr) (Ping timeout: 252 seconds)
[08:17:03] *** Joins: shokohsc (~shokohsc@lfbn-idf2-1-974-194.w86-238.abo.wanadoo.fr)
[08:20:23] *** Quits: k8yun (~k8yun@user/k8yun) (Quit: Leaving)
[08:22:15] *** Joins: Rathskalon (uid65285@id-65285.lymington.irccloud.com)
[08:55:52] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[09:00:17] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Ping timeout: 240 seconds)
[09:08:29] *** Quits: karakedi (~eAC53C340@user/karakedi) (Remote host closed the connection)
[09:43:35] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[09:46:35] *** Joins: maret (~maret@nat-88-212-37-89.antik.sk)
[09:51:08] *** Quits: \monster\ (~\monster\@cpe107bef40cdd9-cm1cabc0a2a390.cpe.net.cable.rogers.com) (Quit: Client closed)
[09:59:26] *** Joins: karakedi (~eAC53C340@user/karakedi)
[09:59:38] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[10:05:15] *** Quits: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com) (Ping timeout: 256 seconds)
[10:34:43] *** Quits: Rathskalon (uid65285@id-65285.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[10:56:08] *** Quits: rvalue (~rvalue@user/rvalue) (Read error: Connection reset by peer)
[10:58:04] *** Joins: rvalue (~rvalue@user/rvalue)
[11:14:39] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Read error: Connection reset by peer)
[11:14:58] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[11:15:32] *** Quits: Laskolnyk (~wasyl@89-76-136-17.dynamic.chello.pl) (Ping timeout: 240 seconds)
[11:20:54] *** Joins: Laskolnyk (~wasyl@89-76-136-17.dynamic.chello.pl)
[11:25:13] *** Joins: Rathskalon (uid65285@id-65285.lymington.irccloud.com)
[11:25:23] *** Joins: dimi1947 (~dimi1947@46-108-90.adsl.cyta.gr)
[11:31:40] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[11:50:18] *** Quits: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:51:47] *** Joins: palasso (~palasso@user/palasso)
[11:56:15] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[12:04:48] *** Joins: grooverman_ (~grooverma@152.250.149.217)
[12:06:48] *** Quits: grooverman (~grooverma@152.250.149.217) (Ping timeout: 252 seconds)
[12:20:27] *** Joins: reset (~reset@user/reset)
[12:31:17] *** Joins: acidjnk (~acidjnk@p200300d0c7049f94990c0fcd1a5d0faa.dip0.t-ipconnect.de)
[12:32:38] *** Joins: grooverman (~grooverma@152.250.149.49)
[12:33:57] *** Quits: grooverman_ (~grooverma@152.250.149.217) (Ping timeout: 240 seconds)
[12:34:09] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[12:51:27] *** Quits: rvalue (~rvalue@user/rvalue) (Ping timeout: 265 seconds)
[12:51:29] *** Joins: rvalue- (~rvalue@user/rvalue)
[12:56:08] *** rvalue- is now known as rvalue
[13:47:36] *** Joins: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp)
[14:15:52] *** Quits: highrate (~presonic@user/highrate) (Read error: Connection reset by peer)
[14:16:56] *** Joins: highrate (~presonic@111-22-237-24.gci.net)
[14:23:21] *** Quits: Rathskalon (uid65285@id-65285.lymington.irccloud.com) ()
[14:23:36] *** Joins: Rathskalon (uid65285@id-65285.lymington.irccloud.com)
[14:43:27] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[14:43:45] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[14:45:17] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[14:47:07] *** Joins: Joanna (uid57472@id-57472.lymington.irccloud.com)
[14:49:22] *** Joins: The_Blode_ (~Blode@user/the-blode/x-7164444)
[14:50:21] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 268 seconds)
[14:59:28] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[15:01:35] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[15:29:24] *** Quits: Arokh (~MoveAlong@ip-088-153-209-030.um27.pools.vodafone-ip.de) (Ping timeout: 240 seconds)
[15:30:43] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[15:32:33] *** Joins: Arokh (~MoveAlong@ip-088-153-209-030.um27.pools.vodafone-ip.de)
[15:34:27] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[15:34:59] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[15:37:31] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Client Quit)
[15:40:41] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[15:50:31] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Quit: WeeChat 3.4.1)
[15:54:35] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[16:03:54] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[16:05:27] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[16:13:37] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Ping timeout: 240 seconds)
[16:17:31] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[16:39:02] *** Quits: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca) (Ping timeout: 252 seconds)
[16:41:48] *** Joins: perrierjouet (~perrier-j@modemcable012.251-130-66.mc.videotron.ca)
[16:46:26] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Remote host closed the connection)
[16:47:29] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[16:59:28] *** Quits: chiselfuse (~chiselfus@user/chiselfuse) (Remote host closed the connection)
[16:59:40] *** Joins: chiselfuse (~chiselfus@user/chiselfuse)
[17:03:01] *** Quits: acidjnk (~acidjnk@p200300d0c7049f94990c0fcd1a5d0faa.dip0.t-ipconnect.de) (Ping timeout: 240 seconds)
[17:13:19] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Remote host closed the connection)
[17:13:35] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[17:21:55] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[17:54:45] *** Quits: Rathskalon (uid65285@id-65285.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[18:01:47] *** Quits: dimi1947 (~dimi1947@46-108-90.adsl.cyta.gr) (Quit: Leaving)
[18:02:37] *** Quits: grooverman (~grooverma@152.250.149.49) (Remote host closed the connection)
[18:03:36] *** Joins: grooverman (~grooverma@152.250.149.49)
[18:07:44] *** Joins: acidjnk (~acidjnk@p200300d0c7049f94990c0fcd1a5d0faa.dip0.t-ipconnect.de)
[18:20:18] *** Quits: rvalue (~rvalue@user/rvalue) (Read error: Connection reset by peer)
[18:20:42] *** Joins: rvalue (~rvalue@user/rvalue)
[18:22:09] *** Joins: The_Blode (~Blode@user/the-blode/x-7164444)
[18:22:39] *** Quits: The_Blode_ (~Blode@user/the-blode/x-7164444) (Ping timeout: 260 seconds)
[18:30:03] *** Quits: herjazz (~herjazz@p10295192-ipngn22201marunouchi.tokyo.ocn.ne.jp) (Quit: leaving)
[18:43:45] *** Quits: Joanna (uid57472@id-57472.lymington.irccloud.com) (Quit: Connection closed for inactivity)
[18:50:29] *** Joins: k8yun (~k8yun@user/k8yun)
[19:22:06] *** Quits: k8yun (~k8yun@user/k8yun) (Read error: Connection reset by peer)
[19:22:30] *** Joins: k8yun (~k8yun@user/k8yun)
[19:23:02] *** Quits: grooverman (~grooverma@152.250.149.49) (Read error: Connection reset by peer)
[19:24:05] *** Joins: grooverman (~grooverma@152.250.149.49)
[19:35:05] *** Quits: acidjnk (~acidjnk@p200300d0c7049f94990c0fcd1a5d0faa.dip0.t-ipconnect.de) (Ping timeout: 256 seconds)
[19:40:38] *** Joins: acidjnk (~acidjnk@p200300d0c7049f94990c0fcd1a5d0faa.dip0.t-ipconnect.de)
[19:41:23] *** Joins: k8yun_ (~k8yun@user/k8yun)
[19:44:57] *** Quits: k8yun (~k8yun@user/k8yun) (Ping timeout: 252 seconds)
[19:46:26] *** Joins: varaindemian (uid73404@id-73404.ilkley.irccloud.com)
[19:56:37] *** Quits: grooverman (~grooverma@152.250.149.49) (Read error: Connection reset by peer)
[19:56:56] *** Joins: grooverman (~grooverma@152.250.149.217)
[20:18:23] *** Quits: acidjnk (~acidjnk@p200300d0c7049f94990c0fcd1a5d0faa.dip0.t-ipconnect.de) (Ping timeout: 260 seconds)
[20:20:33] *** Joins: PTNapivoski (~PTNapivos@179.189.133.33)
[20:22:44] *** Joins: ckdCreations (~ckdCreati@c-73-140-151-116.hsd1.wa.comcast.net)
[21:04:06] *** Joins: cthulchu (~Cthulchu@69-172-160-196.cable.teksavvy.com)
[21:07:06] *** Joins: Rashad (~textual@2a01:9700:13b9:5900:d4b:53d7:d739:3482)
[21:09:53] *** Joins: shibboleth (~shibbolet@user/shibboleth)
[21:42:58] *** Joins: Filohuhum (~dante@gateway/tor-sasl/filohuhum)
[22:25:41] *** Joins: grooverman_ (~grooverma@189.110.77.226)
[22:27:07] *** Joins: grooverman__ (~grooverma@152.250.164.233)
[22:27:10] *** Quits: grooverman_ (~grooverma@189.110.77.226) (Read error: Connection reset by peer)
[22:28:57] *** Quits: grooverman (~grooverma@152.250.149.217) (Ping timeout: 240 seconds)
[22:33:42] *** Joins: rgrinberg (~textual@fixed-186-96-26-198.totalplay.net)
[22:36:04] *** Quits: varaindemian (uid73404@id-73404.ilkley.irccloud.com) (Quit: Connection closed for inactivity)
[22:38:36] *** Quits: The_Blode (~Blode@user/the-blode/x-7164444) (Ping timeout: 240 seconds)
[22:55:35] *** Quits: Filohuhum (~dante@gateway/tor-sasl/filohuhum) (Ping timeout: 240 seconds)
[23:03:46] *** Quits: Rashad (~textual@2a01:9700:13b9:5900:d4b:53d7:d739:3482) (Quit: My MacBook Air has gone to sleep. ZZZzzz…)
[23:10:02] *** Quits: k8yun_ (~k8yun@user/k8yun) (Quit: Leaving)
[23:11:16] *** Joins: MrZeus_ (~MrZeus@86.106.136.215)
